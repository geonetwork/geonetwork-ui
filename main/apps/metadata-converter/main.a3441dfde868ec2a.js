(self.webpackChunkmetadata_converter=self.webpackChunkmetadata_converter||[]).push([[792],{3332:(qt,ee,K)=>{"use strict";function G(e,r){return Object.is(e,r)}let vt=null,ht=!1,Bt=1;const Lt=Symbol("SIGNAL");function rt(e){const r=vt;return vt=e,r}const At={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function dt(e){if(ht)throw new Error("");if(null===vt)return;vt.consumerOnSignalRead(e);const r=vt.nextProducerIndex++;re(vt),r<vt.producerNode.length&&vt.producerNode[r]!==e&&q(vt)&&Pt(vt.producerNode[r],vt.producerIndexOfThis[r]),vt.producerNode[r]!==e&&(vt.producerNode[r]=e,vt.producerIndexOfThis[r]=q(vt)?ut(e,vt,r):0),vt.producerLastReadVersion[r]=e.version}function W(e){if((!q(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Bt)){if(!e.producerMustRecompute(e)&&!E(e))return e.dirty=!1,void(e.lastCleanEpoch=Bt);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Bt}}function Z(e){if(void 0===e.liveConsumerNode)return;const r=ht;ht=!0;try{for(const t of e.liveConsumerNode)t.dirty||gt(t)}finally{ht=r}}function st(){return!1!==vt?.consumerAllowSignalWrites}function gt(e){e.dirty=!0,Z(e),e.consumerMarkedDirty?.(e)}function lt(e){return e&&(e.nextProducerIndex=0),rt(e)}function Y(e,r){if(rt(r),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(q(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Pt(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function E(e){re(e);for(let r=0;r<e.producerNode.length;r++){const t=e.producerNode[r],n=e.producerLastReadVersion[r];if(n!==t.version||(W(t),n!==t.version))return!0}return!1}function at(e){if(re(e),q(e))for(let r=0;r<e.producerNode.length;r++)Pt(e.producerNode[r],e.producerIndexOfThis[r]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ut(e,r,t){if(nt(e),0===e.liveConsumerNode.length&&Ht(e))for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=ut(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(r)-1}function Pt(e,r){if(nt(e),1===e.liveConsumerNode.length&&Ht(e))for(let n=0;n<e.producerNode.length;n++)Pt(e.producerNode[n],e.producerIndexOfThis[n]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[r]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[r]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,r<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[r],o=e.liveConsumerNode[r];re(o),o.producerIndexOfThis[n]=r}}function q(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function re(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function nt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Ht(e){return void 0!==e.producerNode}const Yt=Symbol("UNSET"),et=Symbol("COMPUTING"),Mt=Symbol("ERRORED"),He={...At,value:Yt,dirty:!0,error:null,equal:G,producerMustRecompute:e=>e.value===Yt||e.value===et,producerRecomputeValue(e){if(e.value===et)throw new Error("Detected cycle in computations.");const r=e.value;e.value=et;const t=lt(e);let n;try{n=e.computation()}catch(o){n=Mt,e.error=o}finally{Y(e,t)}r!==Yt&&r!==Mt&&n!==Mt&&e.equal(r,n)?e.value=r:(e.value=n,e.version++)}};let Ge=function be(){throw new Error};function Ie(){Ge()}let A=null;function Ce(e,r){st()||Ie(),e.equal(e.value,r)||(e.value=r,function $e(e){e.version++,function bt(){Bt++}(),Z(e),A?.()}(e))}const We={...At,equal:G,value:void 0};const r1=()=>{},o1={...At,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:r1};function Qe(e){return"function"==typeof e}function Ye(e){const t=e(n=>{Error.call(n),n.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const O=Ye(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function It(e,r){if(e){const t=e.indexOf(r);0<=t&&e.splice(t,1)}}class Dt{constructor(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let r;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(Qe(n))try{n()}catch(s){r=s instanceof O?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{z1(s)}catch(i){r=r??[],i instanceof O?r=[...r,...i.errors]:r.push(i)}}if(r)throw new O(r)}}add(r){var t;if(r&&r!==this)if(this.closed)z1(r);else{if(r instanceof Dt){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(r)}}_hasParent(r){const{_parentage:t}=this;return t===r||Array.isArray(t)&&t.includes(r)}_addParent(r){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r}_removeParent(r){const{_parentage:t}=this;t===r?this._parentage=null:Array.isArray(t)&&It(t,r)}remove(r){const{_finalizers:t}=this;t&&It(t,r),r instanceof Dt&&r._removeParent(this)}}Dt.EMPTY=(()=>{const e=new Dt;return e.closed=!0,e})();const ze=Dt.EMPTY;function t1(e){return e instanceof Dt||e&&"closed"in e&&Qe(e.remove)&&Qe(e.add)&&Qe(e.unsubscribe)}function z1(e){Qe(e)?e():e.unsubscribe()}const T1={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},l1={setTimeout(e,r,...t){const{delegate:n}=l1;return n?.setTimeout?n.setTimeout(e,r,...t):setTimeout(e,r,...t)},clearTimeout(e){const{delegate:r}=l1;return(r?.clearTimeout||clearTimeout)(e)},delegate:void 0};function c1(e){l1.setTimeout(()=>{const{onUnhandledError:r}=T1;if(!r)throw e;r(e)})}function P1(){}const $1=T("C",void 0,void 0);function T(e,r,t){return{kind:e,value:r,error:t}}let M=null;function b(e){if(T1.useDeprecatedSynchronousErrorHandling){const r=!M;if(r&&(M={errorThrown:!1,error:null}),e(),r){const{errorThrown:t,error:n}=M;if(M=null,t)throw n}}else e()}class zt extends Dt{constructor(r){super(),this.isStopped=!1,r?(this.destination=r,t1(r)&&r.add(this)):this.destination=fe}static create(r,t,n){return new Tt(r,t,n)}next(r){this.isStopped?St(function kn(e){return T("N",e,void 0)}(r),this):this._next(r)}error(r){this.isStopped?St(function Fr(e){return T("E",void 0,e)}(r),this):(this.isStopped=!0,this._error(r))}complete(){this.isStopped?St($1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(r){this.destination.next(r)}_error(r){try{this.destination.error(r)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const se=Function.prototype.bind;function ve(e,r){return se.call(e,r)}class a1{constructor(r){this.partialObserver=r}next(r){const{partialObserver:t}=this;if(t.next)try{t.next(r)}catch(n){Nt(n)}}error(r){const{partialObserver:t}=this;if(t.error)try{t.error(r)}catch(n){Nt(n)}else Nt(r)}complete(){const{partialObserver:r}=this;if(r.complete)try{r.complete()}catch(t){Nt(t)}}}class Tt extends zt{constructor(r,t,n){let o;if(super(),Qe(r)||!r)o={next:r??void 0,error:t??void 0,complete:n??void 0};else{let s;this&&T1.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=()=>this.unsubscribe(),o={next:r.next&&ve(r.next,s),error:r.error&&ve(r.error,s),complete:r.complete&&ve(r.complete,s)}):o=r}this.destination=new a1(o)}}function Nt(e){T1.useDeprecatedSynchronousErrorHandling?function U(e){T1.useDeprecatedSynchronousErrorHandling&&M&&(M.errorThrown=!0,M.error=e)}(e):c1(e)}function St(e,r){const{onStoppedNotification:t}=T1;t&&l1.setTimeout(()=>t(e,r))}const fe={closed:!0,next:P1,error:function ct(e){throw e},complete:P1},ue="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ke(e){return e}let v1=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(t,n,o){const s=function jr(e){return e&&e instanceof zt||function gr(e){return e&&Qe(e.next)&&Qe(e.error)&&Qe(e.complete)}(e)&&t1(e)}(t)?t:new Tt(t,n,o);return b(()=>{const{operator:i,source:l}=this;s.add(i?i.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return new(n=_r(n))((o,s)=>{const i=new Tt({next:l=>{try{t(l)}catch(a){s(a),i.unsubscribe()}},error:s,complete:o});this.subscribe(i)})}_subscribe(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)}[ue](){return this}pipe(...t){return function R1(e){return 0===e.length?Ke:1===e.length?e[0]:function(t){return e.reduce((n,o)=>o(n),t)}}(t)(this)}toPromise(t){return new(t=_r(t))((n,o)=>{let s;this.subscribe(i=>s=i,i=>o(i),()=>n(s))})}}return e.create=r=>new e(r),e})();function _r(e){var r;return null!==(r=e??T1.Promise)&&void 0!==r?r:Promise}const oo=Ye(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let V1=(()=>{class e extends v1{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const n=new Jo(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new oo}next(t){b(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(t)}})}error(t){b(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){b(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:n,isStopped:o,observers:s}=this;return n||o?ze:(this.currentObservers=null,s.push(t),new Dt(()=>{this.currentObservers=null,It(s,t)}))}_checkFinalizedStatuses(t){const{hasError:n,thrownError:o,isStopped:s}=this;n?t.error(o):s&&t.complete()}asObservable(){const t=new v1;return t.source=this,t}}return e.create=(r,t)=>new Jo(r,t),e})();class Jo extends V1{constructor(r,t){super(),this.destination=r,this.source=t}next(r){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,r)}error(r){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,r)}complete(){var r,t;null===(t=null===(r=this.destination)||void 0===r?void 0:r.complete)||void 0===t||t.call(r)}_subscribe(r){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(r))&&void 0!==n?n:ze}}class so extends V1{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const t=super._subscribe(r);return!t.closed&&r.next(this._value),t}getValue(){const{hasError:r,thrownError:t,_value:n}=this;if(r)throw t;return this._throwIfClosed(),n}next(r){super.next(this._value=r)}}function nn(e){return r=>{if(function Fs(e){return Qe(e?.lift)}(r))return r.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function D(e,r,t,n,o){return new F(e,r,t,n,o)}class F extends zt{constructor(r,t,n,o,s,i){super(r),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=t?function(l){try{t(l)}catch(a){r.error(a)}}:super._next,this._error=o?function(l){try{o(l)}catch(a){r.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(l){r.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(r=this.onFinalize)||void 0===r||r.call(this))}}}function ot(e,r){return nn((t,n)=>{let o=0;t.subscribe(D(n,s=>{n.next(e.call(r,s,o++))}))})}const Re="https://g.co/ng/security#xss";class ne extends Error{constructor(r,t){super(function nr(e,r){return`NG0${Math.abs(e)}${r?": "+r:""}`}(r,t)),this.code=r}}const Dn=Symbol("InputSignalNode#UNSET"),Lr={...We,transformFn:void 0,applyValueToInputSignal(e,r){Ce(e,r)}};function Wo(e,r){const t=Object.create(Lr);function n(){if(dt(t),t.value===Dn)throw new ne(-950,!1);return t.value}return t.value=e,t.transformFn=r?.transform,n[Lt]=t,n}function Pn(e){return{toString:e}.toString()}const Jn="__parameters__";function Qn(e,r,t){return Pn(()=>{const n=function Ir(e){return function(...t){if(e){const n=e(...t);for(const o in n)this[o]=n[o]}}}(r);function o(...s){if(this instanceof o)return n.apply(this,s),this;const i=new o(...s);return l.annotation=i,l;function l(a,c,h){const u=a.hasOwnProperty(Jn)?a[Jn]:Object.defineProperty(a,Jn,{value:[]})[Jn];for(;u.length<=h;)u.push(null);return(u[h]=u[h]||[]).push(i),a}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const h1=globalThis;function Kr(e){for(let r in e)if(e[r]===Kr)return r;throw Error("Could not find renamed property on target object.")}function X3(e,r){for(const t in r)r.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function lo(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(lo).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const r=e.toString();if(null==r)return""+r;const t=r.indexOf("\n");return-1===t?r:r.substring(0,t)}function E0(e,r){return null==e||""===e?null===r?"":r:null==r||""===r?e:e+" "+r}const Ja=Kr({__forward_ref__:Kr});function Hr(e){return e.__forward_ref__=Hr,e.toString=function(){return lo(this())},e}function D1(e){return Ni(e)?e():e}function Ni(e){return"function"==typeof e&&e.hasOwnProperty(Ja)&&e.__forward_ref__===Hr}function Ve(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ar(e){return{providers:e.providers||[],imports:e.imports||[]}}function ql(e){return Wh(e,tc)||Wh(e,$h)}function Wh(e,r){return e.hasOwnProperty(r)?e[r]:null}function Qa(e){return e&&(e.hasOwnProperty(ec)||e.hasOwnProperty(rd))?e[ec]:null}const tc=Kr({\u0275prov:Kr}),ec=Kr({\u0275inj:Kr}),$h=Kr({ngInjectableDef:Kr}),rd=Kr({ngInjectorDef:Kr});class ye{constructor(r,t){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ve({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function W0(e){return e&&!!e.\u0275providers}const Cl=Kr({\u0275cmp:Kr}),U0=Kr({\u0275dir:Kr}),$0=Kr({\u0275pipe:Kr}),Y0=Kr({\u0275mod:Kr}),Zs=Kr({\u0275fac:Kr}),Jl=Kr({__NG_ELEMENT_ID__:Kr}),Yh=Kr({__NG_ENV_ID__:Kr});function Y1(e){return"string"==typeof e?e:null==e?"":String(e)}function X0(e,r){throw new ne(-201,!1)}var vr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(vr||{});let K0;function Xh(){return K0}function h2(e){const r=K0;return K0=e,r}function Kh(e,r,t){const n=ql(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:t&vr.Optional?null:void 0!==r?r:void X0()}const Ql={},q0="__NG_DI_FLAG__",ta="ngTempTokenPath",cd=/\n/gm,qh="__source";let kl;function vi(e){const r=kl;return kl=e,r}function dd(e,r=vr.Default){if(void 0===kl)throw new ne(-203,!1);return null===kl?Kh(e,void 0,r):kl.get(e,r&vr.Optional?null:void 0,r)}function wt(e,r=vr.Default){return(Xh()||dd)(D1(e),r)}function Et(e,r=vr.Default){return wt(e,Oi(r))}function Oi(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function O2(e){const r=[];for(let t=0;t<e.length;t++){const n=D1(e[t]);if(Array.isArray(n)){if(0===n.length)throw new ne(900,!1);let o,s=vr.Default;for(let i=0;i<n.length;i++){const l=n[i],a=Jt(l);"number"==typeof a?-1===a?o=l.token:s|=a:o=l}r.push(wt(o,s))}else r.push(wt(n))}return r}function Zi(e,r){return e[q0]=r,e.prototype[q0]=r,e}function Jt(e){return e[q0]}const ea=Zi(Qn("Optional"),8),Z1=Zi(Qn("SkipSelf"),4);function _l(e,r){return e.hasOwnProperty(Zs)?e[Zs]:null}function Gi(e,r){e.forEach(t=>Array.isArray(t)?Gi(t,r):r(t))}function Ml(e,r,t){r>=e.length?e.push(t):e.splice(r,0,t)}function Xt(e,r){return r>=e.length-1?e.pop():e.splice(r,1)[0]}function Oe(e,r,t){let n=yl(e,r);return n>=0?e[1|n]=t:(n=~n,function Q0(e,r,t,n){let o=e.length;if(o==r)e.push(t,n);else if(1===o)e.push(n,e[0]),e[0]=t;else{for(o--,e.push(e[o-1],e[o]);o>r;)e[o]=e[o-2],o--;e[r]=t,e[r+1]=n}}(e,n,r,t)),n}function t5(e,r){const t=yl(e,r);if(t>=0)return e[1|t]}function yl(e,r){return function Jh(e,r,t){let n=0,o=e.length>>t;for(;o!==n;){const s=n+(o-n>>1),i=e[s<<t];if(r===i)return s<<t;i>r?o=s:n=s+1}return~(o<<t)}(e,r,1)}const Ms={},zr=[],ss=new ye(""),ic=new ye("",-1),ra=new ye("");class lc{get(r,t=Ql){if(t===Ql){const n=new Error(`NullInjectorError: No provider for ${lo(r)}!`);throw n.name="NullInjectorError",n}return t}}var ac=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ac||{}),Qo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Qo||{}),fi=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(fi||{});function Qh(e,r,t){let n=e.length;for(;;){const o=e.indexOf(r,t);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const s=r.length;if(o+s===n||e.charCodeAt(o+s)<=32)return o}t=o+1}}function cc(e,r,t){let n=0;for(;n<t.length;){const o=t[n];if("number"==typeof o){if(0!==o)break;n++;const s=t[n++],i=t[n++],l=t[n++];e.setAttribute(r,i,l,s)}else{const s=o,i=t[++n];e4(s)?e.setProperty(r,s,i):e.setAttribute(r,s,i),n++}}return n}function t4(e){return 3===e||4===e||6===e}function e4(e){return 64===e.charCodeAt(0)}function na(e,r){if(null!==r&&0!==r.length)if(null===e||0===e.length)e=r.slice();else{let t=-1;for(let n=0;n<r.length;n++){const o=r[n];"number"==typeof o?t=o:0===t||hc(e,t,o,null,-1===t||2===t?r[++n]:null)}}return e}function hc(e,r,t,n,o){let s=0,i=e.length;if(-1===r)i=-1;else for(;s<e.length;){const l=e[s++];if("number"==typeof l){if(l===r){i=-1;break}if(l>r){i=s-1;break}}}for(;s<e.length;){const l=e[s];if("number"==typeof l)break;if(l===t){if(null===n)return void(null!==o&&(e[s+1]=o));if(n===e[s+1])return void(e[s+2]=o)}s++,null!==n&&s++,null!==o&&s++}-1!==i&&(e.splice(i,0,r),s=i+1),e.splice(s++,0,t),null!==n&&e.splice(s++,0,n),null!==o&&e.splice(s++,0,o)}const oa="ng-template";function vd(e,r,t,n){let o=0;if(n){for(;o<r.length&&"string"==typeof r[o];o+=2)if("class"===r[o]&&-1!==Qh(r[o+1].toLowerCase(),t,0))return!0}else if(uc(e))return!1;if(o=r.indexOf(1,o),o>-1){let s;for(;++o<r.length&&"string"==typeof(s=r[o]);)if(s.toLowerCase()===t)return!0}return!1}function uc(e){return 4===e.type&&e.value!==oa}function sa(e,r,t){return r===(4!==e.type||t?e.value:oa)}function r4(e,r,t){let n=4;const o=e.attrs,s=null!==o?function wd(e){for(let r=0;r<e.length;r++)if(t4(e[r]))return r;return e.length}(o):0;let i=!1;for(let l=0;l<r.length;l++){const a=r[l];if("number"!=typeof a){if(!i)if(4&n){if(n=2|1&n,""!==a&&!sa(e,a,t)||""===a&&1===r.length){if(Z2(n))return!1;i=!0}}else if(8&n){if(null===o||!vd(e,o,a,t)){if(Z2(n))return!1;i=!0}}else{const c=r[++l],h=fd(a,o,uc(e),t);if(-1===h){if(Z2(n))return!1;i=!0;continue}if(""!==c){let u;if(u=h>s?"":o[h+1].toLowerCase(),2&n&&c!==u){if(Z2(n))return!1;i=!0}}}}else{if(!i&&!Z2(n)&&!Z2(a))return!1;if(i&&Z2(a))continue;i=!1,n=a|1&n}}return Z2(n)||i}function Z2(e){return!(1&e)}function fd(e,r,t,n){if(null===r)return-1;let o=0;if(n||!t){let s=!1;for(;o<r.length;){const i=r[o];if(i===e)return o;if(3===i||6===i)s=!0;else{if(1===i||2===i){let l=r[++o];for(;"string"==typeof l;)l=r[++o];continue}if(4===i)break;if(0===i){o+=4;continue}}o+=s?1:2}return-1}return function Cd(e,r){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const n=e[t];if("number"==typeof n)return-1;if(n===r)return t;t++}return-1}(r,e)}function n4(e,r,t=!1){for(let n=0;n<r.length;n++)if(r4(e,r[n],t))return!0;return!1}function kd(e,r){t:for(let t=0;t<r.length;t++){const n=r[t];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue t;return!0}}return!1}function dc(e,r){return e?":not("+r.trim()+")":r}function _d(e){let r=e[0],t=1,n=2,o="",s=!1;for(;t<e.length;){let i=e[t];if("string"==typeof i)if(2&n){const l=e[++t];o+="["+i+(l.length>0?'="'+l+'"':"")+"]"}else 8&n?o+="."+i:4&n&&(o+=" "+i);else""!==o&&!Z2(i)&&(r+=dc(s,o),o=""),n=i,s=s||!Z2(n);t++}return""!==o&&(r+=dc(s,o)),r}function or(e){return Pn(()=>{const r=t2(e),t={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ac.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Qo.Emulated,styles:e.styles||zr,_:null,schemas:e.schemas||null,tView:null,id:""};s4(t);const n=e.dependencies;return t.directiveDefs=pc(n,!1),t.pipeDefs=pc(n,!0),t.id=function a4(e){let r=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of t)r=Math.imul(31,r)+o.charCodeAt(0)|0;return r+=2147483648,"c"+r}(t),t})}function _n(e){return b1(e)||to(e)}function Vn(e){return null!==e}function ur(e){return Pn(()=>({type:e.type,bootstrap:e.bootstrap||zr,declarations:e.declarations||zr,imports:e.imports||zr,exports:e.exports||zr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function o4(e,r){if(null==e)return Ms;const t={};for(const n in e)if(e.hasOwnProperty(n)){const o=e[n];let s,i,l=fi.None;Array.isArray(o)?(l=o[0],s=o[1],i=o[2]??s):(s=o,i=o),r?(t[s]=l!==fi.None?[n,l]:n,r[s]=i):t[s]=n}return t}function p1(e){return Pn(()=>{const r=t2(e);return s4(r),r})}function ko(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function b1(e){return e[Cl]||null}function to(e){return e[U0]||null}function Io(e){return e[$0]||null}function t2(e){const r={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:e.inputs||Ms,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||zr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:o4(e.inputs,r),outputs:o4(e.outputs),debugInfo:null}}function s4(e){e.features?.forEach(r=>r(e))}function pc(e,r){if(!e)return null;const t=r?Io:_n;return()=>("function"==typeof e?e():e).map(n=>t(n)).filter(Vn)}function $r(...e){return{\u0275providers:la(0,e),\u0275fromNgModule:!0}}function la(e,...r){const t=[],n=new Set;let o;const s=i=>{t.push(i)};return Gi(r,i=>{const l=i;H(l,s,[],n)&&(o||=[],o.push(l))}),void 0!==o&&m(o,s),t}function m(e,r){for(let t=0;t<e.length;t++){const{ngModule:n,providers:o}=e[t];j(o,s=>{r(s,n)})}}function H(e,r,t,n){if(!(e=D1(e)))return!1;let o=null,s=Qa(e);const i=!s&&b1(e);if(s||i){if(i&&!i.standalone)return!1;o=e}else{const a=e.ngModule;if(s=Qa(a),!s)return!1;o=a}const l=n.has(o);if(i){if(l)return!1;if(n.add(o),i.dependencies){const a="function"==typeof i.dependencies?i.dependencies():i.dependencies;for(const c of a)H(c,r,t,n)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let c;n.add(o);try{Gi(s.imports,h=>{H(h,r,t,n)&&(c||=[],c.push(h))})}finally{}void 0!==c&&m(c,r)}if(!l){const c=_l(o)||(()=>new o);r({provide:o,useFactory:c,deps:zr},o),r({provide:ra,useValue:o,multi:!0},o),r({provide:ss,useValue:()=>wt(o),multi:!0},o)}const a=s.providers;if(null!=a&&!l){const c=e;j(a,h=>{r(h,c)})}}}return o!==e&&void 0!==e.providers}function j(e,r){for(let t of e)W0(t)&&(t=t.\u0275providers),Array.isArray(t)?j(t,r):r(t)}const J=Kr({provide:String,useValue:Kr});function ft(e){return null!==e&&"object"==typeof e&&J in e}function qe(e){return"function"==typeof e}const Gs=new ye(""),ys={},N_={};let xd;function c4(){return void 0===xd&&(xd=new lc),xd}class is{}class gc extends is{get destroyed(){return this._destroyed}constructor(r,t,n,o){super(),this.parent=t,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hd(r,i=>this.processProvider(i)),this.records.set(ic,vc(void 0,this)),o.has("environment")&&this.records.set(is,vc(void 0,this));const s=this.records.get(Gs);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ra,zr,vr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const r=rt(null);try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),rt(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const t=vi(this),n=h2(void 0);try{return r()}finally{vi(t),h2(n)}}get(r,t=Ql,n=vr.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Yh))return r[Yh](this);n=Oi(n);const s=vi(this),i=h2(void 0);try{if(!(n&vr.SkipSelf)){let a=this.records.get(r);if(void 0===a){const c=function U_(e){return"function"==typeof e||"object"==typeof e&&e instanceof ye}(r)&&ql(r);a=c&&this.injectableDefInScope(c)?vc(bd(r),ys):null,this.records.set(r,a)}if(null!=a)return this.hydrate(r,a)}return(n&vr.Self?c4():this.parent).get(r,t=n&vr.Optional&&t===Ql?null:t)}catch(l){if("NullInjectorError"===l.name){if((l[ta]=l[ta]||[]).unshift(lo(r)),s)throw l;return function nc(e,r,t,n){const o=e[ta];throw r[qh]&&o.unshift(r[qh]),e.message=function f8(e,r,t,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=lo(r);if(Array.isArray(r))o=r.map(lo).join(" -> ");else if("object"==typeof r){let s=[];for(let i in r)if(r.hasOwnProperty(i)){let l=r[i];s.push(i+":"+("string"==typeof l?JSON.stringify(l):lo(l)))}o=`{${s.join(", ")}}`}return`${t}${n?"("+n+")":""}[${o}]: ${e.replace(cd,"\n  ")}`}("\n"+e.message,o,t,n),e.ngTokenPath=o,e[ta]=null,e}(l,r,"R3InjectorError",this.source)}throw l}finally{h2(i),vi(s)}}resolveInjectorInitializers(){const r=rt(null),t=vi(this),n=h2(void 0);try{const s=this.get(ss,zr,vr.Self);for(const i of s)i()}finally{vi(t),h2(n),rt(r)}}toString(){const r=[],t=this.records;for(const n of t.keys())r.push(lo(n));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(r){let t=qe(r=D1(r))?r:D1(r&&r.provide);const n=function Z_(e){return ft(e)?vc(void 0,e.useValue):vc(k8(e),ys)}(r);if(!qe(r)&&!0===r.multi){let o=this.records.get(t);o||(o=vc(void 0,ys,!0),o.factory=()=>O2(o.multi),this.records.set(t,o)),t=r,o.multi.push(r)}this.records.set(t,n)}hydrate(r,t){const n=rt(null);try{return t.value===ys&&(t.value=N_,t.value=t.factory()),"object"==typeof t.value&&t.value&&function W_(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{rt(n)}}injectableDefInScope(r){if(!r.providedIn)return!1;const t=D1(r.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(r){const t=this._onDestroyHooks.indexOf(r);-1!==t&&this._onDestroyHooks.splice(t,1)}}function bd(e){const r=ql(e),t=null!==r?r.factory:_l(e);if(null!==t)return t;if(e instanceof ye)throw new ne(204,!1);if(e instanceof Function)return function O_(e){if(e.length>0)throw new ne(204,!1);const t=function Uh(e){return e&&(e[tc]||e[$h])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new ne(204,!1)}function k8(e,r,t){let n;if(qe(e)){const o=D1(e);return _l(o)||bd(o)}if(ft(e))n=()=>D1(e.useValue);else if(function Q(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...O2(e.deps||[]));else if(function _t(e){return!(!e||!e.useExisting)}(e))n=()=>wt(D1(e.useExisting));else{const o=D1(e&&(e.useClass||e.provide));if(!function G_(e){return!!e.deps}(e))return _l(o)||bd(o);n=()=>new o(...O2(e.deps))}return n}function vc(e,r,t=!1){return{factory:e,value:r,multi:t?[]:void 0}}function Hd(e,r){for(const t of e)Array.isArray(t)?Hd(t,r):t&&W0(t)?Hd(t.\u0275providers,r):r(t)}function _8(e,r){e instanceof gc&&e.assertNotDestroyed();const n=vi(e),o=h2(void 0);try{return r()}finally{vi(n),h2(o)}}function M8(){return void 0!==Xh()||null!=function ud(){return kl}()}function Vd(e){if(!M8())throw new ne(-203,!1)}const Nn=0,Pe=1,A1=2,_o=3,xs=4,Ln=5,je=6,sn=7,d1=8,M1=9,_e=10,Qt=11,bs=12,Nr=13,d2=14,On=15,aa=16,mc=17,Wi=18,wc=19,x8=20,xl=21,u4=22,Hs=23,k1=25,zd=1,mi=7,Cc=9,ao=10;var p4=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(p4||{});function Bo(e){return Array.isArray(e)&&"object"==typeof e[zd]}function p2(e){return Array.isArray(e)&&!0===e[zd]}function Ad(e){return!!(4&e.flags)}function ca(e){return e.componentOffset>-1}function g4(e){return!(1&~e.flags)}function Ws(e){return!!e.template}function n5(e){return!!(512&e[A1])}class oM{constructor(r,t,n){this.previousValue=r,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function z8(e,r,t,n){null!==r?r.applyValueToInputSignal(r,n):e[t]=n}function co(){return A8}function A8(e){return e.type.prototype.ngOnChanges&&(e.setInput=iM),sM}function sM(){const e=S8(this),r=e?.current;if(r){const t=e.previous;if(t===Ms)e.previous=r;else for(let n in r)t[n]=r[n];e.current=null,this.ngOnChanges(r)}}function iM(e,r,t,n,o){const s=this.declaredInputs[n],i=S8(e)||function lM(e,r){return e[I8]=r}(e,{previous:Ms,current:null}),l=i.current||(i.current={}),a=i.previous,c=a[s];l[s]=new oM(c&&c.currentValue,t,a===Ms),z8(e,r,o,t)}co.ngInherit=!0;const I8="__ngSimpleChanges__";function S8(e){return e[I8]||null}const wi=function(e,r,t){},B8="svg";function Or(e){for(;Array.isArray(e);)e=e[Nn];return e}function o5(e,r){return Or(r[e])}function b2(e,r){return Or(r[e.index])}function s5(e,r){return e.data[r]}function ha(e,r){return e[r]}function ls(e,r){const t=r[e];return Bo(t)?t:t[Nn]}function Ed(e){return!(128&~e[A1])}function Vs(e,r){return null==r?null:e[r]}function E8(e){e[mc]=0}function T8(e){1024&e[A1]||(e[A1]|=1024,Ed(e)&&f4(e))}function v4(e){return!!(9216&e[A1]||e[Hs]?.dirty)}function Td(e){e[_e].changeDetectionScheduler?.notify(8),64&e[A1]&&(e[A1]|=1024),v4(e)&&f4(e)}function f4(e){e[_e].changeDetectionScheduler?.notify(0);let r=Ui(e);for(;null!==r&&!(8192&r[A1])&&(r[A1]|=8192,Ed(r));)r=Ui(r)}function m4(e,r){if(!(256&~e[A1]))throw new ne(911,!1);null===e[xl]&&(e[xl]=[]),e[xl].push(r)}function Ui(e){const r=e[_o];return p2(r)?r[_o]:r}const G1={lFrame:X8(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let F8=!1;function j8(){return G1.bindingsEnabled}function ua(){return null!==G1.skipHydrationRootTNode}function ke(){return G1.lFrame.lView}function dr(){return G1.lFrame.tView}function Ft(e){return G1.lFrame.contextLView=e,e[d1]}function jt(e){return G1.lFrame.contextLView=null,e}function pn(){let e=P8();for(;null!==e&&64===e.type;)e=e.parent;return e}function P8(){return G1.lFrame.currentTNode}function Us(e,r){const t=G1.lFrame;t.currentTNode=e,t.isParent=r}function jd(){return G1.lFrame.isParent}function Pd(){G1.lFrame.isParent=!1}function Z8(){return F8}function G8(e){F8=e}function H2(){const e=G1.lFrame;let r=e.bindingRootIndex;return-1===r&&(r=e.bindingRootIndex=e.tView.bindingStartIndex),r}function $s(){return G1.lFrame.bindingIndex++}function Yi(e){const r=G1.lFrame,t=r.bindingIndex;return r.bindingIndex=r.bindingIndex+e,t}function _M(e,r){const t=G1.lFrame;t.bindingIndex=t.bindingRootIndex=e,Nd(r)}function Nd(e){G1.lFrame.currentDirectiveIndex=e}function Od(e){const r=G1.lFrame.currentDirectiveIndex;return-1===r?null:e[r]}function Zd(){return G1.lFrame.currentQueryIndex}function C4(e){G1.lFrame.currentQueryIndex=e}function yM(e){const r=e[Pe];return 2===r.type?r.declTNode:1===r.type?e[Ln]:null}function $8(e,r,t){if(t&vr.SkipSelf){let o=r,s=e;for(;!(o=o.parent,null!==o||t&vr.Host||(o=yM(s),null===o||(s=s[d2],10&o.type))););if(null===o)return!1;r=o,e=s}const n=G1.lFrame=Y8();return n.currentTNode=r,n.lView=e,!0}function Gd(e){const r=Y8(),t=e[Pe];G1.lFrame=r,r.currentTNode=t.firstChild,r.lView=e,r.tView=t,r.contextLView=e,r.bindingIndex=t.bindingStartIndex,r.inI18n=!1}function Y8(){const e=G1.lFrame,r=null===e?null:e.child;return null===r?X8(e):r}function X8(e){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=r),r}function K8(){const e=G1.lFrame;return G1.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const q8=K8;function Wd(){const e=K8();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function e2(){return G1.lFrame.selectedIndex}function da(e){G1.lFrame.selectedIndex=e}function zn(){const e=G1.lFrame;return s5(e.tView,e.selectedIndex)}function bl(){G1.lFrame.currentNamespace=B8}function k4(){!function HM(){G1.lFrame.currentNamespace=null}()}let Q8=!0;function a5(){return Q8}function Ci(e){Q8=e}function _4(e,r){for(let t=r.directiveStart,n=r.directiveEnd;t<n;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:l,ngAfterViewInit:a,ngAfterViewChecked:c,ngOnDestroy:h}=s;i&&(e.contentHooks??=[]).push(-t,i),l&&((e.contentHooks??=[]).push(t,l),(e.contentCheckHooks??=[]).push(t,l)),a&&(e.viewHooks??=[]).push(-t,a),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),null!=h&&(e.destroyHooks??=[]).push(t,h)}}function M4(e,r,t){tg(e,r,3,t)}function y4(e,r,t,n){(3&e[A1])===t&&tg(e,r,t,n)}function Ud(e,r){let t=e[A1];(3&t)===r&&(t&=16383,t+=1,e[A1]=t)}function tg(e,r,t,n){const s=n??-1,i=r.length-1;let l=0;for(let a=void 0!==n?65535&e[mc]:0;a<i;a++)if("number"==typeof r[a+1]){if(l=r[a],null!=n&&l>=n)break}else r[a]<0&&(e[mc]+=65536),(l<s||-1==s)&&(LM(e,t,r,a),e[mc]=(4294901760&e[mc])+a+2),a++}function eg(e,r){wi(4,e,r);const t=rt(null);try{r.call(e)}finally{rt(t),wi(5,e,r)}}function LM(e,r,t,n){const o=t[n]<0,s=t[n+1],l=e[o?-t[n]:t[n]];o?e[A1]>>14<e[mc]>>16&&(3&e[A1])===r&&(e[A1]+=16384,eg(l,s)):eg(l,s)}const kc=-1;class c5{constructor(r,t,n){this.factory=r,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}const Yd={};class pa{constructor(r,t){this.injector=r,this.parentInjector=t}get(r,t,n){n=Oi(n);const o=this.injector.get(r,Yd,n);return o!==Yd||t===Yd?o:this.parentInjector.get(r,t,n)}}function Xd(e){return e!==kc}function h5(e){return 32767&e}function u5(e,r){let t=function BM(e){return e>>16}(e),n=r;for(;t>0;)n=n[d2],t--;return n}let Kd=!0;function x4(e){const r=Kd;return Kd=e,r}const ng=255,og=5;let EM=0;const ki={};function b4(e,r){const t=sg(e,r);if(-1!==t)return t;const n=r[Pe];n.firstCreatePass&&(e.injectorIndex=r.length,qd(n.data,e),qd(r,null),qd(n.blueprint,null));const o=H4(e,r),s=e.injectorIndex;if(Xd(o)){const i=h5(o),l=u5(o,r),a=l[Pe].data;for(let c=0;c<8;c++)r[s+c]=l[i+c]|a[i+c]}return r[s+8]=o,s}function qd(e,r){e.push(0,0,0,0,0,0,0,0,r)}function sg(e,r){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===r[e.injectorIndex+8]?-1:e.injectorIndex}function H4(e,r){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,n=null,o=r;for(;null!==o;){if(n=dg(o),null===n)return kc;if(t++,o=o[d2],-1!==n.injectorIndex)return n.injectorIndex|t<<16}return kc}function Jd(e,r,t){!function TM(e,r,t){let n;"string"==typeof t?n=t.charCodeAt(0)||0:t.hasOwnProperty(Jl)&&(n=t[Jl]),null==n&&(n=t[Jl]=EM++);const o=n&ng;r.data[e+(o>>og)]|=1<<o}(e,r,t)}function ig(e,r,t){if(t&vr.Optional||void 0!==e)return e;X0()}function lg(e,r,t,n){if(t&vr.Optional&&void 0===n&&(n=null),!(t&(vr.Self|vr.Host))){const o=e[M1],s=h2(void 0);try{return o?o.get(r,n,t&vr.Optional):Kh(r,n,t&vr.Optional)}finally{h2(s)}}return ig(n,0,t)}function ag(e,r,t,n=vr.Default,o){if(null!==e){if(2048&r[A1]&&!(n&vr.Self)){const i=function NM(e,r,t,n,o){let s=e,i=r;for(;null!==s&&null!==i&&2048&i[A1]&&!(512&i[A1]);){const l=cg(s,i,t,n|vr.Self,ki);if(l!==ki)return l;let a=s.parent;if(!a){const c=i[x8];if(c){const h=c.get(t,ki,n);if(h!==ki)return h}a=dg(i),i=i[d2]}s=a}return o}(e,r,t,n,ki);if(i!==ki)return i}const s=cg(e,r,t,n,ki);if(s!==ki)return s}return lg(r,t,n,o)}function cg(e,r,t,n,o){const s=function jM(e){if("string"==typeof e)return e.charCodeAt(0)||0;const r=e.hasOwnProperty(Jl)?e[Jl]:void 0;return"number"==typeof r?r>=0?r&ng:PM:r}(t);if("function"==typeof s){if(!$8(r,e,n))return n&vr.Host?ig(o,0,n):lg(r,t,n,o);try{let i;if(i=s(n),null!=i||n&vr.Optional)return i;X0()}finally{q8()}}else if("number"==typeof s){let i=null,l=sg(e,r),a=kc,c=n&vr.Host?r[On][Ln]:null;for((-1===l||n&vr.SkipSelf)&&(a=-1===l?H4(e,r):r[l+8],a!==kc&&ug(n,!1)?(i=r[Pe],l=h5(a),r=u5(a,r)):l=-1);-1!==l;){const h=r[Pe];if(hg(s,l,h.data)){const u=FM(l,r,t,i,n,c);if(u!==ki)return u}a=r[l+8],a!==kc&&ug(n,r[Pe].data[l+8]===c)&&hg(s,l,r)?(i=h,l=h5(a),r=u5(a,r)):l=-1}}return o}function FM(e,r,t,n,o,s){const i=r[Pe],l=i.data[e+8],h=V4(l,i,t,null==n?ca(l)&&Kd:n!=i&&!!(3&l.type),o&vr.Host&&s===l);return null!==h?ga(r,i,h,l):ki}function V4(e,r,t,n,o){const s=e.providerIndexes,i=r.data,l=1048575&s,a=e.directiveStart,h=s>>20,d=o?l+h:e.directiveEnd;for(let p=n?l:l+h;p<d;p++){const f=i[p];if(p<a&&t===f||p>=a&&f.type===t)return p}if(o){const p=i[a];if(p&&Ws(p)&&p.type===t)return a}return null}function ga(e,r,t,n){let o=e[t];const s=r.data;if(function zM(e){return e instanceof c5}(o)){const i=o;i.resolving&&function id(e,r){throw r&&r.join(" > "),new ne(-200,e)}(function Pr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Y1(e)}(s[t]));const l=x4(i.canSeeViewProviders);i.resolving=!0;const c=i.injectImpl?h2(i.injectImpl):null;$8(e,n,vr.Default);try{o=e[t]=i.factory(void 0,s,e,n),r.firstCreatePass&&t>=n.directiveStart&&function VM(e,r,t){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:s}=r.type.prototype;if(n){const i=A8(r);(t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i)}o&&(t.preOrderHooks??=[]).push(0-e,o),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],r)}finally{null!==c&&h2(c),x4(l),i.resolving=!1,q8()}}return o}function hg(e,r,t){return!!(t[r+(e>>og)]&1<<e)}function ug(e,r){return!(e&vr.Self||e&vr.Host&&r)}class Do{constructor(r,t){this._tNode=r,this._lView=t}get(r,t,n){return ag(this._tNode,this._lView,r,Oi(n),t)}}function PM(){return new Do(pn(),ke())}function ho(e){return Pn(()=>{const r=e.prototype.constructor,t=r[Zs]||Qd(r),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const s=o[Zs]||Qd(o);if(s&&s!==t)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function Qd(e){return Ni(e)?()=>{const r=Qd(D1(e));return r&&r()}:_l(e)}function dg(e){const r=e[Pe],t=r.type;return 2===t?r.declTNode:1===t?e[Ln]:null}function yc(e){return function RM(e,r){if("class"===r)return e.classes;if("style"===r)return e.styles;const t=e.attrs;if(t){const n=t.length;let o=0;for(;o<n;){const s=t[o];if(t4(s))break;if(0===s)o+=2;else if("number"==typeof s)for(o++;o<n&&"string"==typeof t[o];)o++;else{if(s===r)return t[o+1];o+=2}}}return null}(pn(),e)}function Hl(e,r=null,t=null,n){const o=G2(e,r,t,n);return o.resolveInjectorInitializers(),o}function G2(e,r=null,t=null,n,o=new Set){const s=[t||zr,$r(e)];return n=n||("object"==typeof e?void 0:lo(e)),new gc(s,r||c4(),n||null,o)}class H1{static{this.THROW_IF_NOT_FOUND=Ql}static{this.NULL=new lc}static create(r,t){if(Array.isArray(r))return Hl({name:""},t,r,"");{const n=r.name??"";return Hl({name:n},r.parent,r.providers,n)}}static{this.\u0275prov=Ve({token:H1,providedIn:"any",factory:()=>wt(ic)})}static{this.__NG_ELEMENT_ID__=-1}}new ye("").__NG_ELEMENT_ID__=e=>{const r=pn();if(null===r)throw new ne(204,!1);if(2&r.type)return r.value;if(e&vr.Optional)return null;throw new ne(204,!1)};function rp(e){return e.ngOriginalError}const wg=!0;let d5=(()=>{class e{static{this.__NG_ELEMENT_ID__=XM}static{this.__NG_ENV_ID__=t=>t}}return e})();class YM extends d5{constructor(r){super(),this._lView=r}onDestroy(r){return m4(this._lView,r),()=>function Rd(e,r){if(null===e[xl])return;const t=e[xl].indexOf(r);-1!==t&&e[xl].splice(t,1)}(this._lView,r)}}function XM(){return new YM(ke())}let Vl=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new so(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Ve({token:e,providedIn:"root",factory:()=>new e})}}return e})();const Ae=class KM extends V1{constructor(r=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=r,M8()&&(this.destroyRef=Et(d5,{optional:!0})??void 0,this.pendingTasks=Et(Vl,{optional:!0})??void 0)}emit(r){const t=rt(null);try{super.next(r)}finally{rt(t)}}subscribe(r,t,n){let o=r,s=t||(()=>null),i=n;if(r&&"object"==typeof r){const a=r;o=a.next?.bind(a),s=a.error?.bind(a),i=a.complete?.bind(a)}this.__isAsync&&(s=this.wrapInTimeout(s),o&&(o=this.wrapInTimeout(o)),i&&(i=this.wrapInTimeout(i)));const l=super.subscribe({next:o,error:s,complete:i});return r instanceof Dt&&r.add(l),l}wrapInTimeout(r){return t=>{const n=this.pendingTasks?.add();setTimeout(()=>{r(t),void 0!==n&&this.pendingTasks?.remove(n)})}}};function z4(...e){}function Cg(e){let r,t;function n(){e=z4;try{void 0!==t&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(t),void 0!==r&&clearTimeout(r)}catch{}}return r=setTimeout(()=>{e(),n()}),"function"==typeof requestAnimationFrame&&(t=requestAnimationFrame(()=>{e(),n()})),()=>n()}function kg(e){return queueMicrotask(()=>e()),()=>{e=z4}}const np="isAngularZone",A4=np+"_ID";let qM=0;class W1{constructor(r){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1);const{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:s=wg}=r;if(typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!o&&n,i.shouldCoalesceRunChangeDetection=o,i.callbackScheduled=!1,i.scheduleInRootZone=s,function ty(e){const r=()=>{!function QM(e){function r(){Cg(()=>{e.callbackScheduled=!1,sp(e),e.isCheckStableRunning=!0,op(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{r()}):e._outer.run(()=>{r()}),sp(e))}(e)},t=qM++;e._inner=e._inner.fork({name:"angular",properties:{[np]:!0,[A4]:t,[A4+t]:!0},onInvokeTask:(n,o,s,i,l,a)=>{if(function ey(e){return yg(e,"__ignore_ng_zone__")}(a))return n.invokeTask(s,i,l,a);try{return _g(e),n.invokeTask(s,i,l,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&r(),Mg(e)}},onInvoke:(n,o,s,i,l,a,c)=>{try{return _g(e),n.invoke(s,i,l,a,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function ry(e){return yg(e,"__scheduler_tick__")}(a)&&r(),Mg(e)}},onHasTask:(n,o,s,i)=>{n.hasTask(s,i),o===s&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,sp(e),op(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,o,s,i)=>(n.handleError(s,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(np)}static assertInAngularZone(){if(!W1.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(W1.isInAngularZone())throw new ne(909,!1)}run(r,t,n){return this._inner.run(r,t,n)}runTask(r,t,n,o){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+o,r,JM,z4,z4);try{return s.runTask(i,t,n)}finally{s.cancelTask(i)}}runGuarded(r,t,n){return this._inner.runGuarded(r,t,n)}runOutsideAngular(r){return this._outer.run(r)}}const JM={};function op(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function sp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function _g(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Mg(e){e._nesting--,op(e)}class ip{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(r,t,n){return r.apply(t,n)}runGuarded(r,t,n){return r.apply(t,n)}runOutsideAngular(r){return r()}runTask(r,t,n,o){return r.apply(t,n)}}function yg(e,r){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[r]}class _i{constructor(){this._console=console}handleError(r){const t=this._findOriginalError(r);this._console.error("ERROR",r),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(r){let t=r&&rp(r);for(;t&&rp(t);)t=rp(t);return t||null}}const oy=new ye("",{providedIn:"root",factory:()=>{const e=Et(W1),r=Et(_i);return t=>e.runOutsideAngular(()=>r.handleError(t))}});function bg(e,r){return Wo(e,r)}const p5=(bg.required=function sy(e){return Wo(Dn,e)},bg);function iy(){return xc(pn(),ke())}function xc(e,r){return new mr(b2(e,r))}let mr=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=iy}}return e})();function Hg(e){return e instanceof mr?e.nativeElement:e}function ly(){return this._results[Symbol.iterator]()}class bc{get changes(){return this._changes??=new Ae}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=bc.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=ly)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,t){return this._results.reduce(r,t)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,t){this.dirty=!1;const n=function u2(e){return e.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function pd(e,r,t){if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],s=r[n];if(t&&(o=t(o),s=t(s)),s!==o)return!1}return!0}(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function v5(e){return!(128&~e.flags)}const ap=new Map;let cy=0;function cp(e){ap.delete(e[wc])}const I4="__ngContext__";function g2(e,r){Bo(r)?(e[I4]=r[wc],function uy(e){ap.set(e[wc],e)}(r)):e[I4]=r}function Tg(e){return Fg(e[bs])}function Rg(e){return Fg(e[xs])}function Fg(e){for(;null!==e&&!p2(e);)e=e[xs];return e}let up;function Ll(){if(void 0!==up)return up;if(typeof document<"u")return document;throw new ne(210,!1)}const Vc=new ye("",{providedIn:"root",factory:()=>Ly}),Ly="ng",Ug=new ye(""),Mi=new ye("",{providedIn:"platform",factory:()=>"unknown"}),Lc=new ye(""),dp=new ye("",{providedIn:"root",factory:()=>Ll().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $g=()=>null;function Cp(e,r,t=!1){return $g(e,r,t)}const ev=new ye("",{providedIn:"root",factory:()=>!1});let j4,P4;function Ic(e){return function xp(){if(void 0===j4&&(j4=null,h1.trustedTypes))try{j4=h1.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return j4}()?.createHTML(e)||e}function ov(e){return function bp(){if(void 0===P4&&(P4=null,h1.trustedTypes))try{P4=h1.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return P4}()?.createHTML(e)||e}class lv{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Re})`}}function zl(e){return e instanceof lv?e.changingThisBreaksApplicationSecurity:e}class Yy{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const t=(new window.DOMParser).parseFromString(Ic(r),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(r):(t.firstChild?.remove(),t)}catch{return null}}}class Xy{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const t=this.inertDocument.createElement("template");return t.innerHTML=Ic(r),t}}const qy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hp(e){return(e=String(e)).match(qy)?e:"unsafe:"+e}function qi(e){const r={};for(const t of e.split(","))r[t]=!0;return r}function y5(...e){const r={};for(const t of e)for(const n in t)t.hasOwnProperty(n)&&(r[n]=!0);return r}const cv=qi("area,br,col,hr,img,wbr"),hv=qi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uv=qi("rp,rt"),Vp=y5(cv,y5(hv,qi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),y5(uv,qi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),y5(uv,hv)),Lp=qi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dv=y5(Lp,qi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jy=qi("script,style,template");class Qy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let t=r.firstChild,n=!0,o=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)o.push(t),t=rx(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=ex(t);if(s){t=s;break}t=o.pop()}return this.buf.join("")}startElement(r){const t=pv(r).toLowerCase();if(!Vp.hasOwnProperty(t))return this.sanitizedSomething=!0,!Jy.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=r.attributes;for(let o=0;o<n.length;o++){const s=n.item(o),i=s.name,l=i.toLowerCase();if(!dv.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let a=s.value;Lp[l]&&(a=Hp(a)),this.buf.push(" ",i,'="',Sc(a),'"')}return this.buf.push(">"),!0}endElement(r){const t=pv(r).toLowerCase();Vp.hasOwnProperty(t)&&!cv.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(r){this.buf.push(Sc(r))}}function ex(e){const r=e.nextSibling;if(r&&e!==r.previousSibling)throw gv(r);return r}function rx(e){const r=e.firstChild;if(r&&function tx(e,r){return(e.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,r))throw gv(r);return r}function pv(e){const r=e.nodeName;return"string"==typeof r?r:"FORM"}function gv(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const nx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ox=/([^\#-~ |!])/g;function Sc(e){return e.replace(/&/g,"&amp;").replace(nx,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(ox,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fa;function N4(e){return"content"in e&&function vv(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ma=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ma||{});function zp(e){const r=function m1(){const e=ke();return e&&e[_e].sanitizer}();return r?ov(r.sanitize(ma.HTML,e)||""):function M5(e,r){const t=function $y(e){return e instanceof lv&&e.getTypeName()||null}(e);if(null!=t&&t!==r){if("ResourceURL"===t&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${t} (see ${Re})`)}return t===r}(e,"HTML")?ov(zl(e)):function x5(e,r){let t=null;try{fa=fa||function av(e){const r=new Xy(e);return function Ky(){try{return!!(new window.DOMParser).parseFromString(Ic(""),"text/html")}catch{return!1}}()?new Yy(r):r}(e);let n=r?String(r):"";t=fa.getInertBodyElement(n);let o=5,s=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=s,s=t.innerHTML,t=fa.getInertBodyElement(n)}while(n!==s);return Ic((new Qy).sanitizeChildren(N4(t)||t))}finally{if(t){const n=N4(t)||t;for(;n.firstChild;)n.firstChild.remove()}}}(Ll(),Y1(e))}const X1=/^>|^->|<!--|-->|--!>|<!-$/g,J1=/(<|>)/g,e1="\u200b$1\u200b";function K1(e){return e.ownerDocument.defaultView}function Eo(e){return"browser"===(e??Et(H1)).get(Mi)}var ka=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ka||{});let fv;function mv(e,r){return fv(e,r)}function V5(e,r,t,n,o){if(null!=n){let s,i=!1;p2(n)?s=n:Bo(n)&&(i=!0,n=n[Nn]);const l=Or(n);0===e&&null!==t?null==o?hx(r,t,l):Bc(r,t,l,o||null,!0):1===e&&null!==t?Bc(r,t,l,o||null,!0):2===e?function W4(e,r,t){e.removeChild(null,r,t)}(r,l,i):3===e&&r.destroyNode(l),null!=s&&function Uj(e,r,t,n,o){const s=t[mi];s!==Or(t)&&V5(r,e,n,s,o);for(let l=ao;l<t.length;l++){const a=t[l];Dp(a[Pe],a,e,r,n,s)}}(r,e,s,t,o)}}function Cv(e,r){return e.createComment(function ln(e){return e.replace(X1,r=>r.replace(J1,e1))}(r))}function Ip(e,r,t){return e.createElement(r,t)}function lx(e,r){r[_e].changeDetectionScheduler?.notify(9),Dp(e,r,r[Qt],2,null,null)}function ax(e,r){const t=e[Cc],n=r[_o];(Bo(n)||r[On]!==n[_o][On])&&(e[A1]|=p4.HasTransplantedViews),null===t?e[Cc]=[r]:t.push(r)}function kv(e,r){const t=e[Cc],n=t.indexOf(r);t.splice(n,1)}function G4(e,r){if(e.length<=ao)return;const t=ao+r,n=e[t];if(n){const o=n[aa];null!==o&&o!==e&&kv(o,n),r>0&&(e[t-1][xs]=n[xs]);const s=Xt(e,ao+r);!function Fj(e,r){lx(e,r),r[Nn]=null,r[Ln]=null}(n[Pe],n);const i=s[Wi];null!==i&&i.detachView(s[Pe]),n[_o]=null,n[xs]=null,n[A1]&=-129}return n}function Sp(e,r){if(!(256&r[A1])){const t=r[Qt];t.destroyNode&&Dp(e,r,t,3,null,null),function Pj(e){let r=e[bs];if(!r)return _v(e[Pe],e);for(;r;){let t=null;if(Bo(r))t=r[bs];else{const n=r[ao];n&&(t=n)}if(!t){for(;r&&!r[xs]&&r!==e;)Bo(r)&&_v(r[Pe],r),r=r[_o];null===r&&(r=e),Bo(r)&&_v(r[Pe],r),t=r&&r[xs]}r=t}}(r)}}function _v(e,r){if(256&r[A1])return;const t=rt(null);try{r[A1]&=-129,r[A1]|=256,r[Hs]&&at(r[Hs]),function Zj(e,r){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let n=0;n<t.length;n+=2){const o=r[t[n]];if(!(o instanceof c5)){const s=t[n+1];if(Array.isArray(s))for(let i=0;i<s.length;i+=2){const l=o[s[i]],a=s[i+1];wi(4,l,a);try{a.call(l)}finally{wi(5,l,a)}}else{wi(4,o,s);try{s.call(o)}finally{wi(5,o,s)}}}}}(e,r),function Oj(e,r){const t=e.cleanup,n=r[sn];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const i=t[s+3];i>=0?n[i]():n[-i].unsubscribe(),s+=2}else t[s].call(n[t[s+1]]);null!==n&&(r[sn]=null);const o=r[xl];if(null!==o){r[xl]=null;for(let s=0;s<o.length;s++)(0,o[s])()}}(e,r),1===r[Pe].type&&r[Qt].destroy();const n=r[aa];if(null!==n&&p2(r[_o])){n!==r[_o]&&kv(n,r);const o=r[Wi];null!==o&&o.detachView(e)}cp(r)}finally{rt(t)}}function Mv(e,r,t){return function cx(e,r,t){let n=r;for(;null!==n&&168&n.type;)n=(r=n).parent;if(null===n)return t[Nn];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:s}=e.data[n.directiveStart+o];if(s===Qo.None||s===Qo.Emulated)return null}return b2(n,t)}}(e,r.parent,t)}function Bc(e,r,t,n,o){e.insertBefore(r,t,n,o)}function hx(e,r,t){e.appendChild(r,t)}function ux(e,r,t,n,o){null!==n?Bc(e,r,t,n,o):hx(e,r,t)}function yv(e,r){return e.parentNode(r)}function dx(e,r,t){return gx(e,r,t)}let xv,gx=function px(e,r,t){return 40&e.type?b2(e,t):null};function Bp(e,r,t,n){const o=Mv(e,n,r),s=r[Qt],l=dx(n.parent||r[Ln],n,r);if(null!=o)if(Array.isArray(t))for(let a=0;a<t.length;a++)ux(s,o,t[a],l,!1);else ux(s,o,t,l,!1);void 0!==xv&&xv(s,n,r,t,o)}function Dc(e,r){if(null!==r){const t=r.type;if(3&t)return b2(r,e);if(4&t)return bv(-1,e[r.index]);if(8&t){const n=r.child;if(null!==n)return Dc(e,n);{const o=e[r.index];return p2(o)?bv(-1,o):Or(o)}}if(128&t)return Dc(e,r.next);if(32&t)return mv(r,e)()||Or(e[r.index]);{const n=fx(e,r);return null!==n?Array.isArray(n)?n[0]:Dc(Ui(e[On]),n):Dc(e,r.next)}}return null}function fx(e,r){return null!==r?e[On][Ln].projection[r.projection]:null}function bv(e,r){const t=ao+e+1;if(t<r.length){const n=r[t],o=n[Pe].firstChild;if(null!==o)return Dc(n,o)}return r[mi]}function Hv(e,r,t,n,o,s,i){for(;null!=t;){if(128===t.type){t=t.next;continue}const l=n[t.index],a=t.type;if(i&&0===r&&(l&&g2(Or(l),n),t.flags|=2),32&~t.flags)if(8&a)Hv(e,r,t.child,n,o,s,!1),V5(r,e,o,l,s);else if(32&a){const c=mv(t,n);let h;for(;h=c();)V5(r,e,o,h,s);V5(r,e,o,l,s)}else 16&a?wx(e,r,n,t,o,s):V5(r,e,o,l,s);t=i?t.projectionNext:t.next}}function Dp(e,r,t,n,o,s){Hv(t,n,e.firstChild,r,o,s,!1)}function wx(e,r,t,n,o,s){const i=t[On],a=i[Ln].projection[n.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)V5(r,e,o,a[c],s);else{let c=a;const h=i[_o];v5(n)&&(c.flags|=128),Hv(e,r,c,h,o,s,!0)}}function Cx(e,r,t){""===t?e.removeAttribute(r,"class"):e.setAttribute(r,"class",t)}function kx(e,r,t){const{mergedAttrs:n,classes:o,styles:s}=t;null!==n&&cc(e,r,n),null!==o&&Cx(e,r,o),null!==s&&function Yj(e,r,t){e.setAttribute(r,"style",t)}(e,r,s)}const tr={};function Kt(e=1){_x(dr(),ke(),e2()+e,!1)}function _x(e,r,t,n){if(!n)if(3&~r[A1]){const s=e.preOrderHooks;null!==s&&y4(r,s,0,t)}else{const s=e.preOrderCheckHooks;null!==s&&M4(r,s,t)}da(t)}function kt(e,r=vr.Default){const t=ke();return null===t?wt(e,r):ag(pn(),t,D1(e),r)}function Vv(){throw new Error("invalid")}function Mx(e,r,t,n,o,s){const i=rt(null);try{let l=null;o&fi.SignalBased&&(l=r[n][Lt]),null!==l&&void 0!==l.transformFn&&(s=l.transformFn(s)),o&fi.HasDecoratorInputTransform&&(s=e.inputTransforms[n].call(r,s)),null!==e.setInput?e.setInput(r,l,s,t,n):z8(r,l,n,s)}finally{rt(i)}}function Ep(e,r,t,n,o,s,i,l,a,c,h){const u=r.blueprint.slice();return u[Nn]=o,u[A1]=204|n,(null!==c||e&&2048&e[A1])&&(u[A1]|=2048),E8(u),u[_o]=u[d2]=e,u[d1]=t,u[_e]=i||e&&e[_e],u[Qt]=l||e&&e[Qt],u[M1]=a||e&&e[M1]||null,u[Ln]=s,u[wc]=function hy(){return cy++}(),u[je]=h,u[x8]=c,u[On]=2==r.type?e[On]:u,u}function Ec(e,r,t,n,o){let s=e.data[r];if(null===s)s=function Lv(e,r,t,n,o){const s=P8(),i=jd(),a=e.data[r]=function rP(e,r,t,n,o,s){let i=r?r.injectorIndex:-1,l=0;return ua()&&(l|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,i?s:s&&s.parent,t,r,n,o);return null===e.firstChild&&(e.firstChild=a),null!==s&&(i?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a,a.prev=s)),a}(e,r,t,n,o),function kM(){return G1.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=n,s.attrs=o;const i=function l5(){const e=G1.lFrame,r=e.currentTNode;return e.isParent?r:r.parent}();s.injectorIndex=null===i?-1:i.injectorIndex}return Us(s,!0),s}function U4(e,r,t,n){if(0===t)return-1;const o=r.length;for(let s=0;s<t;s++)r.push(n),e.blueprint.push(n),e.data.push(null);return o}function yx(e,r,t,n,o){const s=e2(),i=2&n;try{da(-1),i&&r.length>k1&&_x(e,r,k1,!1),wi(i?2:0,o),t(n,o)}finally{da(s),wi(i?3:1,o)}}function zv(e,r,t){if(Ad(r)){const n=rt(null);try{const s=r.directiveEnd;for(let i=r.directiveStart;i<s;i++){const l=e.data[i];l.contentQueries&&l.contentQueries(1,t[i],i)}}finally{rt(n)}}}function Av(e,r,t){j8()&&(function cP(e,r,t,n){const o=t.directiveStart,s=t.directiveEnd;ca(t)&&function fP(e,r,t){const n=b2(r,e),o=xx(t);let i=16;t.signals?i=4096:t.onPush&&(i=64);const l=Tp(e,Ep(e,o,null,i,n,r,null,e[_e].rendererFactory.createRenderer(n,t),null,null,null));e[r.index]=l}(r,t,e.data[o+t.componentOffset]),e.firstCreatePass||b4(t,r),g2(n,r);const i=t.initialInputs;for(let l=o;l<s;l++){const a=e.data[l],c=ga(r,e,l,t);g2(c,r),null!==i&&mP(0,l-o,c,a,0,i),Ws(a)&&(ls(t.index,r)[d1]=ga(r,e,l,t))}}(e,r,t,b2(t,r)),!(64&~t.flags)&&zx(e,r,t))}function Iv(e,r,t=b2){const n=r.localNames;if(null!==n){let o=r.index+1;for(let s=0;s<n.length;s+=2){const i=n[s+1],l=-1===i?t(r,e):e[i];e[o++]=l}}}function xx(e){const r=e.tView;return null===r||r.incompleteFirstPass?e.tView=Sv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):r}function Sv(e,r,t,n,o,s,i,l,a,c,h){const u=k1+n,d=u+o,p=function Kj(e,r){const t=[];for(let n=0;n<r;n++)t.push(n<e?null:tr);return t}(u,d),f="function"==typeof c?c():c;return p[Pe]={type:e,blueprint:p,template:t,queries:null,viewQuery:l,declTNode:r,data:p.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:a,consts:f,incompleteFirstPass:!1,ssrId:h}}let bx=()=>null;function Hx(e,r,t,n,o){for(let s in r){if(!r.hasOwnProperty(s))continue;const i=r[s];if(void 0===i)continue;n??={};let l,a=fi.None;Array.isArray(i)?(l=i[0],a=i[1]):l=i;let c=s;if(null!==o){if(!o.hasOwnProperty(s))continue;c=o[s]}0===e?Vx(n,t,c,l,a):Vx(n,t,c,l)}return n}function Vx(e,r,t,n,o){let s;e.hasOwnProperty(t)?(s=e[t]).push(r,n):s=e[t]=[r,n],void 0!==o&&s.push(o)}function us(e,r,t,n,o,s,i,l){const a=b2(r,t);let h,c=r.inputs;!l&&null!=c&&(h=c[n])?(Rv(e,t,h,n,o),ca(r)&&function sP(e,r){const t=ls(r,e);16&t[A1]||(t[A1]|=64)}(t,r.index)):3&r.type&&(n=function oP(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=i?i(o,r.value||"",n):o,s.setProperty(a,n,o))}function Bv(e,r,t,n){if(j8()){const o=null===n?null:{"":-1},s=function uP(e,r){const t=e.directiveRegistry;let n=null,o=null;if(t)for(let s=0;s<t.length;s++){const i=t[s];if(n4(r,i.selectors,!1))if(n||(n=[]),Ws(i))if(null!==i.findHostDirectiveDefs){const l=[];o=o||new Map,i.findHostDirectiveDefs(i,l,o),n.unshift(...l,i),Dv(e,r,l.length)}else n.unshift(i),Dv(e,r,0);else o=o||new Map,i.findHostDirectiveDefs?.(i,n,o),n.push(i)}return null===n?null:[n,o]}(e,t);let i,l;null===s?i=l=null:[i,l]=s,null!==i&&Lx(e,r,t,i,o,l),o&&function dP(e,r,t){if(r){const n=e.localNames=[];for(let o=0;o<r.length;o+=2){const s=t[r[o+1]];if(null==s)throw new ne(-301,!1);n.push(r[o],s)}}}(t,n,o)}t.mergedAttrs=na(t.mergedAttrs,t.attrs)}function Lx(e,r,t,n,o,s){for(let c=0;c<n.length;c++)Jd(b4(t,r),e,n[c].type);!function gP(e,r,t){e.flags|=1,e.directiveStart=r,e.directiveEnd=r+t,e.providerIndexes=r}(t,e.data.length,n.length);for(let c=0;c<n.length;c++){const h=n[c];h.providersResolver&&h.providersResolver(h)}let i=!1,l=!1,a=U4(e,r,n.length,null);for(let c=0;c<n.length;c++){const h=n[c];t.mergedAttrs=na(t.mergedAttrs,h.hostAttrs),vP(e,t,r,a,h),pP(a,h,o),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const u=h.type.prototype;!i&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),i=!0),!l&&(u.ngOnChanges||u.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),l=!0),a++}!function nP(e,r,t){const o=r.directiveEnd,s=e.data,i=r.attrs,l=[];let a=null,c=null;for(let h=r.directiveStart;h<o;h++){const u=s[h],d=t?t.get(u):null,f=d?d.outputs:null;a=Hx(0,u.inputs,h,a,d?d.inputs:null),c=Hx(1,u.outputs,h,c,f);const y=null===a||null===i||uc(r)?null:wP(a,h,i);l.push(y)}null!==a&&(a.hasOwnProperty("class")&&(r.flags|=8),a.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=l,r.inputs=a,r.outputs=c}(e,t,s)}function zx(e,r,t){const n=t.directiveStart,o=t.directiveEnd,s=t.index,i=function MM(){return G1.lFrame.currentDirectiveIndex}();try{da(s);for(let l=n;l<o;l++){const a=e.data[l],c=r[l];Nd(l),(null!==a.hostBindings||0!==a.hostVars||null!==a.hostAttrs)&&hP(a,c)}}finally{da(-1),Nd(i)}}function hP(e,r){null!==e.hostBindings&&e.hostBindings(1,r)}function Dv(e,r,t){r.componentOffset=t,(e.components??=[]).push(r.index)}function pP(e,r,t){if(t){if(r.exportAs)for(let n=0;n<r.exportAs.length;n++)t[r.exportAs[n]]=e;Ws(r)&&(t[""]=e)}}function vP(e,r,t,n,o){e.data[n]=o;const s=o.factory||(o.factory=_l(o.type)),i=new c5(s,Ws(o),kt);e.blueprint[n]=i,t[n]=i,function lP(e,r,t,n,o){const s=o.hostBindings;if(s){let i=e.hostBindingOpCodes;null===i&&(i=e.hostBindingOpCodes=[]);const l=~r.index;(function aP(e){let r=e.length;for(;r>0;){const t=e[--r];if("number"==typeof t&&t<0)return t}return 0})(i)!=l&&i.push(l),i.push(t,n,s)}}(e,r,n,U4(e,t,o.hostVars,tr),o)}function rl(e,r,t,n,o,s){const i=b2(e,r);!function Ev(e,r,t,n,o,s,i){if(null==s)e.removeAttribute(r,o,t);else{const l=null==i?Y1(s):i(s,n||"",o);e.setAttribute(r,o,l,t)}}(r[Qt],i,s,e.value,t,n,o)}function mP(e,r,t,n,o,s){const i=s[r];if(null!==i)for(let l=0;l<i.length;)Mx(n,t,i[l++],i[l++],i[l++],i[l++])}function wP(e,r,t){let n=null,o=0;for(;o<t.length;){const s=t[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===n&&(n=[]);const i=e[s];for(let l=0;l<i.length;l+=3)if(i[l]===r){n.push(s,i[l+1],i[l+2],t[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function Ax(e,r,t,n){return[e,!0,0,r,null,n,null,t,null,null]}function Ix(e,r){const t=e.contentQueries;if(null!==t){const n=rt(null);try{for(let o=0;o<t.length;o+=2){const i=t[o+1];if(-1!==i){const l=e.data[i];C4(t[o]),l.contentQueries(2,r[i],i)}}}finally{rt(n)}}}function Tp(e,r){return e[bs]?e[Nr][xs]=r:e[bs]=r,e[Nr]=r,r}function Tv(e,r,t){C4(0);const n=rt(null);try{r(e,t)}finally{rt(n)}}function Sx(e){return e[sn]??=[]}function Bx(e){return e.cleanup??=[]}function Dx(e,r,t){return(null===e||Ws(e))&&(t=function Dd(e){for(;Array.isArray(e);){if("object"==typeof e[zd])return e;e=e[Nn]}return null}(t[r.index])),t[Qt]}function Rp(e,r){const t=e[M1],n=t?t.get(_i,null):null;n&&n.handleError(r)}function Rv(e,r,t,n,o){for(let s=0;s<t.length;){const i=t[s++],l=t[s++],a=t[s++];Mx(e.data[i],r[i],n,l,a,o)}}function CP(e,r){const t=ls(r,e),n=t[Pe];!function kP(e,r){for(let t=r.length;t<e.blueprint.length;t++)r.push(e.blueprint[t])}(n,t);const o=t[Nn];null!==o&&null===t[je]&&(t[je]=Cp(o,t[M1])),Fv(n,t,t[d1])}function Fv(e,r,t){Gd(r);try{const n=e.viewQuery;null!==n&&Tv(1,n,t);const o=e.template;null!==o&&yx(e,r,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),r[Wi]?.finishViewCreation(e),e.staticContentQueries&&Ix(e,r),e.staticViewQueries&&Tv(2,e.viewQuery,t);const s=e.components;null!==s&&function _P(e,r){for(let t=0;t<r.length;t++)CP(e,r[t])}(r,s)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{r[A1]&=-5,Wd()}}function L5(e,r,t,n){const o=rt(null);try{const s=r.tView,a=Ep(e,s,t,4096&e[A1]?4096:16,null,r,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null);a[aa]=e[r.index];const h=e[Wi];return null!==h&&(a[Wi]=h.createEmbeddedView(s)),Fv(s,a,t),a}finally{rt(o)}}function Ex(e,r){const t=ao+r;if(t<e.length)return e[t]}function Tc(e,r){return!r||null===r.firstChild||v5(e)}function z5(e,r,t,n=!0){const o=r[Pe];if(function Nj(e,r,t,n){const o=ao+n,s=t.length;n>0&&(t[o-1][xs]=r),n<s-ao?(r[xs]=t[o],Ml(t,ao+n,r)):(t.push(r),r[xs]=null),r[_o]=t;const i=r[aa];null!==i&&t!==i&&ax(i,r);const l=r[Wi];null!==l&&l.insertView(e),Td(r),r[A1]|=128}(o,r,e,t),n){const i=bv(t,e),l=r[Qt],a=yv(l,e[mi]);null!==a&&function jj(e,r,t,n,o,s){n[Nn]=o,n[Ln]=r,Dp(e,n,t,1,o,s)}(o,e[Ln],l,r,a,i)}const s=r[je];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function jv(e,r){const t=G4(e,r);return void 0!==t&&Sp(t[Pe],t),t}function $4(e,r,t,n,o=!1){for(;null!==t;){if(128===t.type){t=o?t.projectionNext:t.next;continue}const s=r[t.index];null!==s&&n.push(Or(s)),p2(s)&&Tx(s,n);const i=t.type;if(8&i)$4(e,r,t.child,n);else if(32&i){const l=mv(t,r);let a;for(;a=l();)n.push(a)}else if(16&i){const l=fx(r,t);if(Array.isArray(l))n.push(...l);else{const a=Ui(r[On]);$4(a[Pe],a,l,n,!0)}}t=o?t.projectionNext:t.next}return n}function Tx(e,r){for(let t=ao;t<e.length;t++){const n=e[t],o=n[Pe].firstChild;null!==o&&$4(n[Pe],n,o,r)}e[mi]!==e[Nn]&&r.push(e[mi])}let Rx=[];const bP={...At,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{f4(e.lView)},consumerOnSignalRead(){this.lView[Hs]=this}},VP={...At,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let r=Ui(e.lView);for(;r&&!Fx(r[Pe]);)r=Ui(r);r&&T8(r)},consumerOnSignalRead(){this.lView[Hs]=this}};function Fx(e){return 2!==e.type}const LP=100;function Fp(e,r=!0,t=0){const n=e[_e],o=n.rendererFactory;o.begin?.();try{!function zP(e,r){const t=Z8();try{G8(!0),Pv(e,r);let n=0;for(;v4(e);){if(n===LP)throw new ne(103,!1);n++,Pv(e,1)}}finally{G8(t)}}(e,t)}catch(i){throw r&&Rp(e,i),i}finally{o.end?.(),n.inlineEffectRunner?.flush()}}function AP(e,r,t,n){const o=r[A1];if(!(256&~o))return;r[_e].inlineEffectRunner?.flush(),Gd(r);let l=!0,a=null,c=null;Fx(e)?(c=function MP(e){return e[Hs]??function yP(e){const r=Rx.pop()??Object.create(bP);return r.lView=e,r}(e)}(r),a=lt(c)):null===function z(){return vt}()?(l=!1,c=function HP(e){const r=e[Hs]??Object.create(VP);return r.lView=e,r}(r),a=lt(c)):r[Hs]&&(at(r[Hs]),r[Hs]=null);try{E8(r),function W8(e){return G1.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&yx(e,r,t,2,n);const h=!(3&~o);if(h){const p=e.preOrderCheckHooks;null!==p&&M4(r,p,null)}else{const p=e.preOrderHooks;null!==p&&y4(r,p,0,null),Ud(r,0)}if(function IP(e){for(let r=Tg(e);null!==r;r=Rg(r)){if(!(r[A1]&p4.HasTransplantedViews))continue;const t=r[Cc];for(let n=0;n<t.length;n++)T8(t[n])}}(r),Px(r,0),null!==e.contentQueries&&Ix(e,r),h){const p=e.contentCheckHooks;null!==p&&M4(r,p)}else{const p=e.contentHooks;null!==p&&y4(r,p,1),Ud(r,1)}!function Xj(e,r){const t=e.hostBindingOpCodes;if(null!==t)try{for(let n=0;n<t.length;n++){const o=t[n];if(o<0)da(~o);else{const s=o,i=t[++n],l=t[++n];_M(i,s),l(2,r[s])}}}finally{da(-1)}}(e,r);const u=e.components;null!==u&&Ox(r,u,0);const d=e.viewQuery;if(null!==d&&Tv(2,d,n),h){const p=e.viewCheckHooks;null!==p&&M4(r,p)}else{const p=e.viewHooks;null!==p&&y4(r,p,2),Ud(r,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r[u4]){for(const p of r[u4])p();r[u4]=null}r[A1]&=-73}catch(h){throw f4(r),h}finally{null!==c&&(Y(c,a),l&&function xP(e){e.lView[Hs]!==e&&(e.lView=null,Rx.push(e))}(c)),Wd()}}function Px(e,r){for(let t=Tg(e);null!==t;t=Rg(t))for(let n=ao;n<t.length;n++)Nx(t[n],r)}function SP(e,r,t){Nx(ls(r,e),t)}function Nx(e,r){Ed(e)&&Pv(e,r)}function Pv(e,r){const n=e[Pe],o=e[A1],s=e[Hs];let i=!!(0===r&&16&o);if(i||=!!(64&o&&0===r),i||=!!(1024&o),i||=!(!s?.dirty||!E(s)),i||=!1,s&&(s.dirty=!1),e[A1]&=-9217,i)AP(n,e,n.template,e[d1]);else if(8192&o){Px(e,1);const l=n.components;null!==l&&Ox(e,l,1)}}function Ox(e,r,t){for(let n=0;n<r.length;n++)SP(e,r[n],t)}function Y4(e,r){const t=Z8()?64:1088;for(e[_e].changeDetectionScheduler?.notify(r);e;){e[A1]|=t;const n=Ui(e);if(n5(e)&&!n)return e;e=n}return null}class X4{get rootNodes(){const r=this._lView,t=r[Pe];return $4(t,r,t.firstChild,[])}constructor(r,t,n=!0){this._lView=r,this._cdRefInjectingView=t,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[d1]}set context(r){this._lView[d1]=r}get destroyed(){return!(256&~this._lView[A1])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[_o];if(p2(r)){const t=r[8],n=t?t.indexOf(this):-1;n>-1&&(G4(r,n),Xt(t,n))}this._attachedToViewContainer=!1}Sp(this._lView[Pe],this._lView)}onDestroy(r){m4(this._lView,r)}markForCheck(){Y4(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[A1]&=-129}reattach(){Td(this._lView),this._lView[A1]|=128}detectChanges(){this._lView[A1]|=1024,Fp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const r=n5(this._lView),t=this._lView[aa];null!==t&&!r&&kv(t,this._lView),lx(this._lView[Pe],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=r;const t=n5(this._lView),n=this._lView[aa];null!==n&&!t&&ax(n,this._lView),Td(this._lView)}}let Ys=(()=>{class e{static{this.__NG_ELEMENT_ID__=EP}}return e})();const BP=Ys,DP=class extends BP{constructor(r,t,n){super(),this._declarationLView=r,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,t){return this.createEmbeddedViewImpl(r,t)}createEmbeddedViewImpl(r,t,n){const o=L5(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:t,dehydratedView:n});return new X4(o)}};function EP(){return jp(pn(),ke())}function jp(e,r){return 4&e.type?new DP(r,e,xc(e,r)):null}let cb=()=>null;function Fc(e,r){return cb(e,r)}class I5{}const nu=new ye("",{providedIn:"root",factory:()=>!1}),hb=new ye(""),qv=new ye("");class VN{}class ub{}class zN{resolveComponentFactory(r){throw function LN(e){const r=Error(`No component factory found for ${lo(e)}.`);return r.ngComponent=e,r}(r)}}class S5{static{this.NULL=new zN}}class Jv{}let xi=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function AN(){const e=ke(),t=ls(pn().index,e);return(Bo(t)?t:e)[Qt]}()}}return e})(),IN=(()=>{class e{static{this.\u0275prov=Ve({token:e,providedIn:"root",factory:()=>null})}}return e})();function Up(e,r,t){let n=t?e.styles:null,o=t?e.classes:null,s=0;if(null!==r)for(let i=0;i<r.length;i++){const l=r[i];"number"==typeof l?s=l:1==s?o=E0(o,l):2==s&&(n=E0(n,l+": "+r[++i]+";"))}t?e.styles=n:e.stylesWithoutHost=n,t?e.classes=o:e.classesWithoutHost=o}class vb extends S5{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const t=b1(r);return new iu(t,this.ngModule)}}function fb(e,r){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const o=e[n];if(void 0===o)continue;const s=Array.isArray(o),i=s?o[0]:o;t.push(r?{propName:i,templateName:n,isSignal:!!((s?o[1]:fi.None)&fi.SignalBased)}:{propName:i,templateName:n})}return t}class iu extends ub{get inputs(){const r=this.componentDef,t=r.inputTransforms,n=fb(r.inputs,!0);if(null!==t)for(const o of n)t.hasOwnProperty(o.propName)&&(o.transform=t[o.propName]);return n}get outputs(){return fb(this.componentDef.outputs,!1)}constructor(r,t){super(),this.componentDef=r,this.ngModule=t,this.componentType=r.type,this.selector=function Md(e){return e.map(_d).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!t}create(r,t,n,o){const s=rt(null);try{let i=(o=o||this.ngModule)instanceof is?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const l=i?new pa(r,i):r,a=l.get(Jv,null);if(null===a)throw new ne(407,!1);const u={rendererFactory:a,sanitizer:l.get(IN,null),inlineEffectRunner:null,changeDetectionScheduler:l.get(I5,null)},d=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",f=n?function qj(e,r,t,n){const s=n.get(ev,!1)||t===Qo.ShadowDom,i=e.selectRootElement(r,s);return function Jj(e){bx(e)}(i),i}(d,n,this.componentDef.encapsulation,l):Ip(d,p,function DN(e){const r=e.toLowerCase();return"svg"===r?B8:"math"===r?"math":null}(p));let y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let V=null;null!==f&&(V=Cp(f,l,!0));const L=Sv(0,null,null,1,0,null,null,null,null,null,null),R=Ep(null,L,null,y,null,null,u,d,l,null,V);Gd(R);let mt,Ct,yt=null;try{const tt=this.componentDef;let Vt,Gt=null;tt.findHostDirectiveDefs?(Vt=[],Gt=new Map,tt.findHostDirectiveDefs(tt,Vt,Gt),Vt.push(tt)):Vt=[tt];const pe=function TN(e,r){const t=e[Pe],n=k1;return e[n]=r,Ec(t,n,2,"#host",null)}(R,f);yt=function RN(e,r,t,n,o,s,i){const l=o[Pe];!function FN(e,r,t,n){for(const o of e)r.mergedAttrs=na(r.mergedAttrs,o.hostAttrs);null!==r.mergedAttrs&&(Up(r,r.mergedAttrs,!0),null!==t&&kx(n,t,r))}(n,e,r,i);let a=null;null!==r&&(a=Cp(r,o[M1]));const c=s.rendererFactory.createRenderer(r,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const u=Ep(o,xx(t),null,h,o[e.index],e,s,c,null,null,a);return l.firstCreatePass&&Dv(l,e,n.length-1),Tp(o,u),o[e.index]=u}(pe,f,tt,Vt,R,u,d),Ct=s5(L,k1),f&&function PN(e,r,t,n){if(n)cc(e,t,["ng-version","18.2.13"]);else{const{attrs:o,classes:s}=function yd(e){const r=[],t=[];let n=1,o=2;for(;n<e.length;){let s=e[n];if("string"==typeof s)2===o?""!==s&&r.push(s,e[++n]):8===o&&t.push(s);else{if(!Z2(o))break;o=s}n++}return{attrs:r,classes:t}}(r.selectors[0]);o&&cc(e,t,o),s&&s.length>0&&Cx(e,t,s.join(" "))}}(d,tt,f,n),void 0!==t&&function NN(e,r,t){const n=e.projection=[];for(let o=0;o<r.length;o++){const s=t[o];n.push(null!=s?Array.from(s):null)}}(Ct,this.ngContentSelectors,t),mt=function jN(e,r,t,n,o,s){const i=pn(),l=o[Pe],a=b2(i,o);Lx(l,o,i,t,null,n);for(let h=0;h<t.length;h++)g2(ga(o,l,i.directiveStart+h,i),o);zx(l,o,i),a&&g2(a,o);const c=ga(o,l,i.directiveStart+i.componentOffset,i);if(e[d1]=o[d1]=c,null!==s)for(const h of s)h(c,r);return zv(l,i,o),c}(yt,tt,Vt,Gt,R,[ON]),Fv(L,R,null)}catch(tt){throw null!==yt&&cp(yt),cp(R),tt}finally{Wd()}return new EN(this.componentType,mt,xc(Ct,R),R,Ct)}finally{rt(s)}}}class EN extends VN{constructor(r,t,n,o,s){super(),this.location=n,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new X4(o,void 0,!1),this.componentType=r}setInput(r,t){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),t))return;const s=this._rootLView;Rv(s[Pe],s,o,r,t),this.previousInputValues.set(r,t),Y4(ls(this._tNode.index,s),1)}}get injector(){return new Do(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ON(){const e=pn();_4(ke()[Pe],e)}let ds=(()=>{class e{static{this.__NG_ELEMENT_ID__=ZN}}return e})();function ZN(){return Cb(pn(),ke())}const GN=ds,mb=class extends GN{constructor(r,t,n){super(),this._lContainer=r,this._hostTNode=t,this._hostLView=n}get element(){return xc(this._hostTNode,this._hostLView)}get injector(){return new Do(this._hostTNode,this._hostLView)}get parentInjector(){const r=H4(this._hostTNode,this._hostLView);if(Xd(r)){const t=u5(r,this._hostLView),n=h5(r);return new Do(t[Pe].data[n+8],t)}return new Do(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const t=wb(this._lContainer);return null!==t&&t[r]||null}get length(){return this._lContainer.length-ao}createEmbeddedView(r,t,n){let o,s;"number"==typeof n?o=n:null!=n&&(o=n.index,s=n.injector);const i=Fc(this._lContainer,r.ssrId),l=r.createEmbeddedViewImpl(t||{},s,i);return this.insertImpl(l,o,Tc(this._hostTNode,i)),l}createComponent(r,t,n,o,s){const i=r&&!function e5(e){return"function"==typeof e}(r);let l;if(i)l=t;else{const f=t||{};l=f.index,n=f.injector,o=f.projectableNodes,s=f.environmentInjector||f.ngModuleRef}const a=i?r:new iu(b1(r)),c=n||this.parentInjector;if(!s&&null==a.ngModule){const y=(i?c:this.parentInjector).get(is,null);y&&(s=y)}const h=b1(a.componentType??{}),u=Fc(this._lContainer,h?.id??null),p=a.create(c,o,u?.firstChild??null,s);return this.insertImpl(p.hostView,l,Tc(this._hostTNode,u)),p}insert(r,t){return this.insertImpl(r,t,!0)}insertImpl(r,t,n){const o=r._lView;if(function uM(e){return p2(e[_o])}(o)){const l=this.indexOf(r);if(-1!==l)this.detach(l);else{const a=o[_o],c=new mb(a,a[Ln],a[_o]);c.detach(c.indexOf(r))}}const s=this._adjustIndex(t),i=this._lContainer;return z5(i,o,s,n),r.attachToViewContainerRef(),Ml(ef(i),s,r),r}move(r,t){return this.insert(r,t)}indexOf(r){const t=wb(this._lContainer);return null!==t?t.indexOf(r):-1}remove(r){const t=this._adjustIndex(r,-1),n=G4(this._lContainer,t);n&&(Xt(ef(this._lContainer),t),Sp(n[Pe],n))}detach(r){const t=this._adjustIndex(r,-1),n=G4(this._lContainer,t);return n&&null!=Xt(ef(this._lContainer),t)?new X4(n):null}_adjustIndex(r,t=0){return r??this.length+t}};function wb(e){return e[8]}function ef(e){return e[8]||(e[8]=[])}function Cb(e,r){let t;const n=r[e.index];return p2(n)?t=n:(t=Ax(n,r,null,e),r[e.index]=t,Tp(r,t)),kb(t,r,e,n),new mb(t,e,r)}let kb=function Mb(e,r,t,n){if(e[mi])return;let o;o=8&t.type?Or(n):function WN(e,r){const t=e[Qt],n=t.createComment(""),o=b2(r,e);return Bc(t,yv(t,o),n,function Gj(e,r){return e.nextSibling(r)}(t,o),!1),n}(r,t),e[mi]=o},rf=()=>!1;class nf{constructor(r){this.queryList=r,this.matches=null}clone(){return new nf(this.queryList)}setDirty(){this.queryList.setDirty()}}class sf{constructor(r=[]){this.queries=r}createEmbeddedView(r){const t=r.queries;if(null!==t){const n=null!==r.contentQueries?r.contentQueries[0]:t.length,o=[];for(let s=0;s<n;s++){const i=t.getByIndex(s);o.push(this.queries[i.indexInDeclarationView].clone())}return new sf(o)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let t=0;t<this.queries.length;t++)null!==uf(r,t).matches&&this.queries[t].setDirty()}}class yb{constructor(r,t,n=null){this.flags=t,this.read=n,this.predicate="string"==typeof r?function QN(e){return e.split(",").map(r=>r.trim())}(r):r}}class lf{constructor(r=[]){this.queries=r}elementStart(r,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(r,t)}elementEnd(r){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(r)}embeddedTView(r){let t=null;for(let n=0;n<this.length;n++){const o=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(r,o);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new lf(t):null}template(r,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(r,t)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class af{constructor(r,t=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(r,t){this.isApplyingToNode(t)&&this.matchTNode(r,t)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,t){this.elementStart(r,t)}embeddedTView(r,t){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,t),new af(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let n=r.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(r,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const s=n[o];this.matchTNodeWithReadOption(r,t,XN(t,s)),this.matchTNodeWithReadOption(r,t,V4(t,r,s,!1,!1))}else n===Ys?4&t.type&&this.matchTNodeWithReadOption(r,t,-1):this.matchTNodeWithReadOption(r,t,V4(t,r,n,!1,!1))}matchTNodeWithReadOption(r,t,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===mr||o===ds||o===Ys&&4&t.type)this.addMatch(t.index,-2);else{const s=V4(t,r,o,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,n)}}addMatch(r,t){null===this.matches?this.matches=[r,t]:this.matches.push(r,t)}}function XN(e,r){const t=e.localNames;if(null!==t)for(let n=0;n<t.length;n+=2)if(t[n]===r)return t[n+1];return null}function qN(e,r,t,n){return-1===t?function KN(e,r){return 11&e.type?xc(e,r):4&e.type?jp(e,r):null}(r,e):-2===t?function JN(e,r,t){return t===mr?xc(r,e):t===Ys?jp(r,e):t===ds?Cb(r,e):void 0}(e,r,n):ga(e,e[Pe],t,r)}function xb(e,r,t,n){const o=r[Wi].queries[n];if(null===o.matches){const s=e.data,i=t.matches,l=[];for(let a=0;null!==i&&a<i.length;a+=2){const c=i[a];l.push(c<0?null:qN(r,s[c],i[a+1],t.metadata.read))}o.matches=l}return o.matches}function cf(e,r,t,n){const o=e.queries.getByIndex(t),s=o.matches;if(null!==s){const i=xb(e,r,o,t);for(let l=0;l<s.length;l+=2){const a=s[l];if(a>0)n.push(i[l/2]);else{const c=s[l+1],h=r[-a];for(let u=ao;u<h.length;u++){const d=h[u];d[aa]===d[_o]&&cf(d[Pe],d,c,n)}if(null!==h[Cc]){const u=h[Cc];for(let d=0;d<u.length;d++){const p=u[d];cf(p[Pe],p,c,n)}}}}}return n}function bb(e,r,t){const n=new bc(!(4&~t));return function eP(e,r,t,n){const o=Sx(r);o.push(t),e.firstCreatePass&&Bx(e).push(n,o.length-1)}(e,r,n,n.destroy),(r[Wi]??=new sf).queries.push(new nf(n))-1}function Lb(e,r,t){null===e.queries&&(e.queries=new lf),e.queries.track(new af(r,t))}function uf(e,r){return e.queries.getByIndex(r)}function zb(e,r){const t=e[Pe],n=uf(t,r);return n.crossesNgTemplate?cf(t,e,r,[]):xb(t,e,n,r)}const Ab=new Set;function U2(e){Ab.has(e)||(Ab.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Il(e,r){U2("NgSignals");const t=function $(e){const r=Object.create(We);r.value=e;const t=()=>(dt(r),r.value);return t[Lt]=r,t}(e),n=t[Lt];return r?.equal&&(n.equal=r.equal),t.set=o=>Ce(n,o),t.update=o=>function oe(e,r){st()||Ie(),Ce(e,r(e.value))}(n,o),t.asReadonly=Ib.bind(t),t}function Ib(){const e=this[Lt];if(void 0===e.readonlyFn){const r=()=>this();r[Lt]=e,e.readonlyFn=r}return e.readonlyFn}function Sb(e){return function $p(e){return"function"==typeof e&&void 0!==e[Lt]}(e)&&"function"==typeof e.set}function Cr(e){let r=function Zb(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const n=[e];for(;r;){let o;if(Ws(e))o=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ne(903,!1);o=r.\u0275dir}if(o){if(t){n.push(o);const i=e;i.inputs=Xp(e.inputs),i.inputTransforms=Xp(e.inputTransforms),i.declaredInputs=Xp(e.declaredInputs),i.outputs=Xp(e.outputs);const l=o.hostBindings;l&&gO(e,l);const a=o.viewQuery,c=o.contentQueries;if(a&&dO(e,a),c&&pO(e,c),hO(e,o),X3(e.outputs,o.outputs),Ws(o)&&o.data.animation){const h=e.data;h.animation=(h.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let i=0;i<s.length;i++){const l=s[i];l&&l.ngInherit&&l(e),l===Cr&&(t=!1)}}r=Object.getPrototypeOf(r)}!function uO(e){let r=0,t=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=r+=o.hostVars,o.hostAttrs=na(o.hostAttrs,t=na(t,o.hostAttrs))}}(n)}function hO(e,r){for(const t in r.inputs){if(!r.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;const n=r.inputs[t];if(void 0!==n&&(e.inputs[t]=n,e.declaredInputs[t]=r.declaredInputs[t],null!==r.inputTransforms)){const o=Array.isArray(n)?n[0]:n;if(!r.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=r.inputTransforms[o]}}}function Xp(e){return e===Ms?{}:e===zr?[]:e}function dO(e,r){const t=e.viewQuery;e.viewQuery=t?(n,o)=>{r(n,o),t(n,o)}:r}function pO(e,r){const t=e.contentQueries;e.contentQueries=t?(n,o,s)=>{r(n,o,s),t(n,o,s)}:r}function gO(e,r){const t=e.hostBindings;e.hostBindings=t?(n,o)=>{r(n,o),t(n,o)}:r}function ol(e){const r=e.inputConfig,t={};for(const n in r)if(r.hasOwnProperty(n)){const o=r[n];Array.isArray(o)&&o[3]&&(t[n]=o[3])}e.inputTransforms=t}class Pc{}class kO{}class gf extends Pc{constructor(r,t,n,o=!0){super(),this.ngModuleType=r,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vb(this);const s=function $o(e,r){const t=e[Y0]||null;if(!t&&!0===r)throw new Error(`Type ${lo(e)} does not have '\u0275mod' property.`);return t}(r);this._bootstrapComponents=function Mo(e){return e instanceof Function?e():e}(s.bootstrap),this._r3Injector=G2(r,t,[{provide:Pc,useValue:this},{provide:S5,useValue:this.componentFactoryResolver},...n],lo(r),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class vf extends kO{constructor(r){super(),this.moduleType=r}create(r){return new gf(this.moduleType,r,[])}}class Yb extends Pc{constructor(r){super(),this.componentFactoryResolver=new vb(this),this.instance=null;const t=new gc([...r.providers,{provide:Pc,useValue:this},{provide:S5,useValue:this.componentFactoryResolver}],r.parent||c4(),r.debugName,new Set(["environment"]));this.injector=t,r.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Kp(e){return!!ff(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function ff(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function sl(e,r,t){return e[r]=t}function yo(e,r,t){return!Object.is(e[r],t)&&(e[r]=t,!0)}function Nc(e,r,t,n){const o=yo(e,r,t);return yo(e,r+1,n)||o}function cu(e,r,t,n,o,s,i,l,a,c){const h=t+k1,u=r.firstCreatePass?function VO(e,r,t,n,o,s,i,l,a){const c=r.consts,h=Ec(r,e,4,i||null,l||null);Bv(r,t,h,Vs(c,a)),_4(r,h);const u=h.tView=Sv(2,h,n,o,s,r.directiveRegistry,r.pipeRegistry,null,r.schemas,c,null);return null!==r.queries&&(r.queries.template(r,h),u.queries=r.queries.embeddedTView(h)),h}(h,r,e,n,o,s,i,l,a):r.data[h];Us(u,!1);const d=Kb(r,e,u,t);a5()&&Bp(r,e,d,u),g2(d,e);const p=Ax(d,e,d,u);return e[h]=p,Tp(e,p),function _b(e,r,t){return rf(e,r,t)}(p,u,e),g4(u)&&Av(r,e,u),null!=a&&Iv(e,u,c),u}function sr(e,r,t,n,o,s,i,l){const a=ke(),c=dr();return cu(a,c,e,r,t,n,o,Vs(c.consts,s),i,l),sr}let Kb=function qb(e,r,t,n){return Ci(!0),r[Qt].createComment("")};var T5=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(T5||{});let nH=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Ve({token:e,providedIn:"root",factory:()=>new e})}}return e})();class du{constructor(){this.ngZone=Et(W1),this.scheduler=Et(I5),this.errorHandler=Et(_i,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[T5.EarlyRead,T5.Write,T5.MixedReadWrite,T5.Read]}execute(){this.executing=!0;for(const r of du.PHASES)for(const t of this.sequences)if(!t.erroredOrDestroyed&&t.hooks[r])try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[r](t.pipelinedValue))}catch(n){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(n)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(r){this.executing?this.deferredRegistrations.add(r):(this.sequences.add(r),this.scheduler.notify(6))}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}static{this.\u0275prov=Ve({token:du,providedIn:"root",factory:()=>new du})}}class IO{constructor(r,t,n,o){this.impl=r,this.hooks=t,this.once=n,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function Ma(e,r){!r?.injector&&Vd();const t=r?.injector??Et(H1);return Eo(t)?(U2("NgAfterNextRender"),sH(e,t,r,!0)):iH}function sH(e,r,t,n){const o=r.get(nH);o.impl??=r.get(du);const s=t?.phase??T5.MixedReadWrite,i=!0!==t?.manualCleanup?r.get(d5):null,l=new IO(o.impl,function SO(e,r){if(e instanceof Function){const t=[void 0,void 0,void 0,void 0];return t[r]=e,t}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,s),n,i);return o.impl.register(l),l}const iH={destroy(){}};function pr(e,r,t,n){const o=ke();return yo(o,$s(),r)&&(dr(),rl(zn(),o,e,r,t,n)),pr}function Z5(e,r,t,n){return yo(e,$s(),t)?r+Y1(t)+n:tr}function n9(e,r){return e<<17|r<<2}function xa(e){return e>>17&32767}function Vf(e){return 2|e}function Zc(e){return(131068&e)>>2}function Lf(e,r){return-131069&e|r<<2}function zf(e){return 1|e}function SH(e,r,t,n){const o=e[t+1],s=null===r;let i=n?xa(o):Zc(o),l=!1;for(;0!==i&&(!1===l||s);){const c=e[i+1];gZ(e[i],r)&&(l=!0,e[i+1]=n?zf(c):Vf(c)),i=n?xa(c):Zc(c)}l&&(e[t+1]=n?Vf(o):zf(o))}function gZ(e,r){return null===e||null==r||(Array.isArray(e)?e[1]:e)===r||!(!Array.isArray(e)||"string"!=typeof r)&&yl(e,r)>=0}const Xo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BH(e){return e.substring(Xo.key,Xo.keyEnd)}function DH(e,r){const t=Xo.textEnd;return t===r?-1:(r=Xo.keyEnd=function wZ(e,r,t){for(;r<t&&e.charCodeAt(r)>32;)r++;return r}(e,Xo.key=r,t),q5(e,r,t))}function q5(e,r,t){for(;r<t&&e.charCodeAt(r)<=32;)r++;return r}function $t(e,r,t){const n=ke();return yo(n,$s(),r)&&us(dr(),zn(),n,e,r,n[Qt],t,!1),$t}function Af(e,r,t,n,o){const i=o?"class":"style";Rv(e,t,r.inputs[i],i,n)}function Sl(e,r,t){return bi(e,r,t,!1),Sl}function Zn(e,r){return bi(e,r,null,!0),Zn}function ba(e){Hi(VZ,ll,e,!0)}function ll(e,r){for(let t=function fZ(e){return function TH(e){Xo.key=0,Xo.keyEnd=0,Xo.value=0,Xo.valueEnd=0,Xo.textEnd=e.length}(e),DH(e,q5(e,0,Xo.textEnd))}(r);t>=0;t=DH(r,t))Oe(e,BH(r),!0)}function bi(e,r,t,n){const o=ke(),s=dr(),i=Yi(2);s.firstUpdatePass&&PH(s,e,i,n),r!==tr&&yo(o,i,r)&&OH(s,s.data[e2()],o,o[Qt],e,o[i+1]=function zZ(e,r){return null==e||""===e||("string"==typeof r?e+=r:"object"==typeof e&&(e=lo(zl(e)))),e}(r,t),n,i)}function Hi(e,r,t,n){const o=dr(),s=Yi(2);o.firstUpdatePass&&PH(o,null,s,n);const i=ke();if(t!==tr&&yo(i,s,t)){const l=o.data[e2()];if(GH(l,n)&&!jH(o,s)){let a=n?l.classesWithoutHost:l.stylesWithoutHost;null!==a&&(t=E0(a,t||"")),Af(o,l,i,t,n)}else!function LZ(e,r,t,n,o,s,i,l){o===tr&&(o=zr);let a=0,c=0,h=0<o.length?o[0]:null,u=0<s.length?s[0]:null;for(;null!==h||null!==u;){const d=a<o.length?o[a+1]:void 0,p=c<s.length?s[c+1]:void 0;let y,f=null;h===u?(a+=2,c+=2,d!==p&&(f=u,y=p)):null===u||null!==h&&h<u?(a+=2,f=h):(c+=2,f=u,y=p),null!==f&&OH(e,r,t,n,f,y,i,l),h=a<o.length?o[a]:null,u=c<s.length?s[c]:null}}(o,l,i,i[Qt],i[s+1],i[s+1]=function HZ(e,r,t){if(null==t||""===t)return zr;const n=[],o=zl(t);if(Array.isArray(o))for(let s=0;s<o.length;s++)e(n,o[s],!0);else if("object"==typeof o)for(const s in o)o.hasOwnProperty(s)&&e(n,s,o[s]);else"string"==typeof o&&r(n,o);return n}(e,r,t),n,s)}}function jH(e,r){return r>=e.expandoStartIndex}function PH(e,r,t,n){const o=e.data;if(null===o[t+1]){const s=o[e2()],i=jH(e,t);GH(s,n)&&null===r&&!i&&(r=!1),r=function MZ(e,r,t,n){const o=Od(e);let s=n?r.residualClasses:r.residualStyles;if(null===o)0===(n?r.classBindings:r.styleBindings)&&(t=gu(t=If(null,e,r,t,n),r.attrs,n),s=null);else{const i=r.directiveStylingLast;if(-1===i||e[i]!==o)if(t=If(o,e,r,t,n),null===s){let a=function yZ(e,r,t){const n=t?r.classBindings:r.styleBindings;if(0!==Zc(n))return e[xa(n)]}(e,r,n);void 0!==a&&Array.isArray(a)&&(a=If(null,e,r,a[1],n),a=gu(a,r.attrs,n),function xZ(e,r,t,n){e[xa(t?r.classBindings:r.styleBindings)]=n}(e,r,n,a))}else s=function bZ(e,r,t){let n;const o=r.directiveEnd;for(let s=1+r.directiveStylingLast;s<o;s++)n=gu(n,e[s].hostAttrs,t);return gu(n,r.attrs,t)}(e,r,n)}return void 0!==s&&(n?r.residualClasses=s:r.residualStyles=s),t}(o,s,r,n),function dZ(e,r,t,n,o,s){let i=s?r.classBindings:r.styleBindings,l=xa(i),a=Zc(i);e[n]=t;let h,c=!1;if(Array.isArray(t)?(h=t[1],(null===h||yl(t,h)>0)&&(c=!0)):h=t,o)if(0!==a){const d=xa(e[l+1]);e[n+1]=n9(d,l),0!==d&&(e[d+1]=Lf(e[d+1],n)),e[l+1]=function hZ(e,r){return 131071&e|r<<17}(e[l+1],n)}else e[n+1]=n9(l,0),0!==l&&(e[l+1]=Lf(e[l+1],n)),l=n;else e[n+1]=n9(a,0),0===l?l=n:e[a+1]=Lf(e[a+1],n),a=n;c&&(e[n+1]=Vf(e[n+1])),SH(e,h,n,!0),SH(e,h,n,!1),function pZ(e,r,t,n,o){const s=o?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof r&&yl(s,r)>=0&&(t[n+1]=zf(t[n+1]))}(r,h,e,n,s),i=n9(l,a),s?r.classBindings=i:r.styleBindings=i}(o,s,r,t,i,n)}}function If(e,r,t,n,o){let s=null;const i=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<i&&(s=r[l],n=gu(n,s.hostAttrs,o),s!==e);)l++;return null!==e&&(t.directiveStylingLast=l),n}function gu(e,r,t){const n=t?1:2;let o=-1;if(null!==r)for(let s=0;s<r.length;s++){const i=r[s];"number"==typeof i?o=i:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Oe(e,i,!!t||r[++s]))}return void 0===e?null:e}function VZ(e,r,t){const n=String(r);""!==n&&!n.includes(" ")&&Oe(e,n,t)}function OH(e,r,t,n,o,s,i,l){if(!(3&r.type))return;const a=e.data,c=a[l+1],h=function uZ(e){return!(1&~e)}(c)?ZH(a,r,t,o,Zc(c),i):void 0;o9(h)||(o9(s)||function cZ(e){return!(2&~e)}(c)&&(s=ZH(a,null,t,o,l,i)),function $j(e,r,t,n,o){if(r)o?e.addClass(t,n):e.removeClass(t,n);else{let s=-1===n.indexOf("-")?void 0:ka.DashCase;null==o?e.removeStyle(t,n,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=ka.Important),e.setStyle(t,n,o,s))}}(n,i,o5(e2(),t),o,s))}function ZH(e,r,t,n,o,s){const i=null===r;let l;for(;o>0;){const a=e[o],c=Array.isArray(a),h=c?a[1]:a,u=null===h;let d=t[o+1];d===tr&&(d=u?zr:void 0);let p=u?t5(d,n):h===n?d:void 0;if(c&&!o9(p)&&(p=t5(a,n)),o9(p)&&(l=p,i))return l;const f=e[o+1];o=i?xa(f):Zc(f)}if(null!==r){let a=s?r.residualClasses:r.residualStyles;null!=a&&(l=t5(a,n))}return l}function o9(e){return void 0!==e}function GH(e,r){return!!(e.flags&(r?8:16))}class jZ{destroy(r){}updateValue(r,t){}swap(r,t){const n=Math.min(r,t),o=Math.max(r,t),s=this.detach(o);if(o-n>1){const i=this.detach(n);this.attach(n,s),this.attach(o,i)}else this.attach(n,s)}move(r,t){this.attach(t,this.detach(r))}}function Sf(e,r,t,n,o){return e===t&&Object.is(r,n)?1:Object.is(o(e,r),o(t,n))?-1:0}function Bf(e,r,t,n){return!(void 0===r||!r.has(n)||(e.attach(t,r.get(n)),r.delete(n),0))}function UH(e,r,t,n,o){if(Bf(e,r,n,t(n,o)))e.updateValue(n,o);else{const s=e.create(n,o);e.attach(n,s)}}function $H(e,r,t,n){const o=new Set;for(let s=r;s<=t;s++)o.add(n(s,e.at(s)));return o}class YH{constructor(){this.kvMap=new Map,this._vMap=void 0}has(r){return this.kvMap.has(r)}delete(r){if(!this.has(r))return!1;const t=this.kvMap.get(r);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(r,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(r),!0}get(r){return this.kvMap.get(r)}set(r,t){if(this.kvMap.has(r)){let n=this.kvMap.get(r);void 0===this._vMap&&(this._vMap=new Map);const o=this._vMap;for(;o.has(n);)n=o.get(n);o.set(n,t)}else this.kvMap.set(r,t)}forEach(r){for(let[t,n]of this.kvMap)if(r(n,t),void 0!==this._vMap){const o=this._vMap;for(;o.has(n);)n=o.get(n),r(n,t)}}}function vu(e,r){U2("NgControlFlow");const t=ke(),n=$s(),o=t[n]!==tr?t[n]:-1,s=-1!==o?l9(t,k1+o):void 0;if(yo(t,n,e)){const l=rt(null);try{if(void 0!==s&&jv(s,0),-1!==e){const a=k1+e,c=l9(t,a),h=Df(t[Pe],a),u=Fc(c,h.tView.ssrId);z5(c,L5(t,h,r,{dehydratedView:u}),0,Tc(h,u))}}finally{rt(l)}}else if(void 0!==s){const l=Ex(s,0);void 0!==l&&(l[d1]=r)}}class NZ{constructor(r,t,n){this.lContainer=r,this.$implicit=t,this.$index=n}get $count(){return this.lContainer.length-ao}}class GZ{constructor(r,t,n){this.hasEmptyBlock=r,this.trackByFn=t,this.liveCollection=n}}function s9(e,r,t,n,o,s,i,l,a,c,h,u,d){U2("NgControlFlow");const p=ke(),f=dr(),y=void 0!==a,V=ke(),L=l?i.bind(V[On][d1]):i,R=new GZ(y,L);V[k1+e]=R,cu(p,f,e+1,r,t,n,o,Vs(f.consts,s)),y&&cu(p,f,e+2,a,c,h,u,Vs(f.consts,d))}class WZ extends jZ{constructor(r,t,n){super(),this.lContainer=r,this.hostLView=t,this.templateTNode=n,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ao}at(r){return this.getLView(r)[d1].$implicit}attach(r,t){const n=t[je];this.needsIndexUpdate||=r!==this.length,z5(this.lContainer,t,r,Tc(this.templateTNode,n))}detach(r){return this.needsIndexUpdate||=r!==this.length-1,function UZ(e,r){return G4(e,r)}(this.lContainer,r)}create(r,t){const n=Fc(this.lContainer,this.templateTNode.tView.ssrId),o=L5(this.hostLView,this.templateTNode,new NZ(this.lContainer,t,r),{dehydratedView:n});return this.operationsCounter?.recordCreate(),o}destroy(r){Sp(r[Pe],r),this.operationsCounter?.recordDestroy()}updateValue(r,t){this.getLView(r)[d1].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let r=0;r<this.length;r++)this.getLView(r)[d1].$index=r}getLView(r){return function $Z(e,r){return Ex(e,r)}(this.lContainer,r)}}function i9(e){const r=rt(null),t=e2();try{const n=ke(),o=n[Pe],s=n[t],i=t+1,l=l9(n,i);if(void 0===s.liveCollection){const c=Df(o,i);s.liveCollection=new WZ(l,n,c)}else s.liveCollection.reset();const a=s.liveCollection;if(function PZ(e,r,t){let n,o,s=0,i=e.length-1;if(Array.isArray(r)){let a=r.length-1;for(;s<=i&&s<=a;){const c=e.at(s),h=r[s],u=Sf(s,c,s,h,t);if(0!==u){u<0&&e.updateValue(s,h),s++;continue}const d=e.at(i),p=r[a],f=Sf(i,d,a,p,t);if(0!==f){f<0&&e.updateValue(i,p),i--,a--;continue}const y=t(s,c),V=t(i,d),L=t(s,h);if(Object.is(L,V)){const R=t(a,p);Object.is(R,y)?(e.swap(s,i),e.updateValue(i,p),a--,i--):e.move(i,s),e.updateValue(s,h),s++}else if(n??=new YH,o??=$H(e,s,i,t),Bf(e,n,s,L))e.updateValue(s,h),s++,i++;else if(o.has(L))n.set(y,e.detach(s)),i--;else{const R=e.create(s,r[s]);e.attach(s,R),s++,i++}}for(;s<=a;)UH(e,n,t,s,r[s]),s++}else if(null!=r){const a=r[Symbol.iterator]();let c=a.next();for(;!c.done&&s<=i;){const h=e.at(s),u=c.value,d=Sf(s,h,s,u,t);if(0!==d)d<0&&e.updateValue(s,u),s++,c=a.next();else{n??=new YH,o??=$H(e,s,i,t);const p=t(s,u);if(Bf(e,n,s,p))e.updateValue(s,u),s++,i++,c=a.next();else if(o.has(p)){const f=t(s,h);n.set(f,e.detach(s)),i--}else e.attach(s,e.create(s,u)),s++,i++,c=a.next()}}for(;!c.done;)UH(e,n,t,e.length,c.value),c=a.next()}for(;s<=i;)e.destroy(e.detach(i--));n?.forEach(a=>{e.destroy(a)})}(a,e,s.trackByFn),a.updateIndexes(),s.hasEmptyBlock){const c=$s(),h=0===a.length;if(yo(n,c,h)){const u=t+2,d=l9(n,u);if(h){const p=Df(o,u),f=Fc(d,p.tView.ssrId);z5(d,L5(n,p,void 0,{dehydratedView:f}),0,Tc(p,f))}else jv(d,0)}}}finally{rt(r)}}function l9(e,r){return e[r]}function Df(e,r){return s5(e,r)}function Ot(e,r,t,n){const o=ke(),s=dr(),i=k1+e,l=o[Qt],a=s.firstCreatePass?function YZ(e,r,t,n,o,s){const i=r.consts,a=Ec(r,e,2,n,Vs(i,o));return Bv(r,t,a,Vs(i,s)),null!==a.attrs&&Up(a,a.attrs,!1),null!==a.mergedAttrs&&Up(a,a.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,a),a}(i,s,o,r,t,n):s.data[i],c=XH(s,o,a,l,r,e);o[i]=c;const h=g4(a);return Us(a,!0),kx(l,c,a),!function D5(e){return!(32&~e.flags)}(a)&&a5()&&Bp(s,o,c,a),0===function dM(){return G1.lFrame.elementDepthCount}()&&g2(c,o),function pM(){G1.lFrame.elementDepthCount++}(),h&&(Av(s,o,a),zv(s,a,o)),null!==n&&Iv(o,a),Ot}function Ut(){let e=pn();jd()?Pd():(e=e.parent,Us(e,!1));const r=e;(function vM(e){return G1.skipHydrationRootTNode===e})(r)&&function CM(){G1.skipHydrationRootTNode=null}(),function gM(){G1.lFrame.elementDepthCount--}();const t=dr();return t.firstCreatePass&&(_4(t,e),Ad(e)&&t.queries.elementEnd(e)),null!=r.classesWithoutHost&&function IM(e){return!!(8&e.flags)}(r)&&Af(t,r,ke(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function SM(e){return!!(16&e.flags)}(r)&&Af(t,r,ke(),r.stylesWithoutHost,!1),Ut}function Zr(e,r,t,n){return Ot(e,r,t,n),Ut(),Zr}let XH=(e,r,t,n,o,s)=>(Ci(!0),Ip(n,o,function J8(){return G1.lFrame.currentNamespace}()));function a9(e,r,t){const n=ke(),o=dr(),s=e+k1,i=o.firstCreatePass?function qZ(e,r,t,n,o){const s=r.consts,i=Vs(s,n),l=Ec(r,e,8,"ng-container",i);return null!==i&&Up(l,i,!0),Bv(r,t,l,Vs(s,o)),null!==r.queries&&r.queries.elementStart(r,l),l}(s,o,n,r,t):o.data[s];Us(i,!0);const l=KH(o,n,i,e);return n[s]=l,a5()&&Bp(o,n,l,i),g2(l,n),g4(i)&&(Av(o,n,i),zv(o,i,n)),null!=t&&Iv(n,i),a9}function c9(){let e=pn();const r=dr();return jd()?Pd():(e=e.parent,Us(e,!1)),r.firstCreatePass&&(_4(r,e),Ad(e)&&r.queries.elementEnd(e)),c9}function h9(e,r,t){return a9(e,r,t),c9(),h9}let KH=(e,r,t,n)=>(Ci(!0),Cv(r[Qt],""));function F1(){return ke()}function J5(e,r,t){const n=ke();return yo(n,$s(),r)&&us(dr(),zn(),n,e,r,n[Qt],t,!0),J5}function Ef(e,r,t){const n=ke();if(yo(n,$s(),r)){const s=dr(),i=zn();us(s,i,n,e,r,Dx(Od(s.data),i,n),t,!0)}return Ef}const u9="en-US";let QH=u9,mV=(e,r,t)=>{};function we(e,r,t,n){const o=ke(),s=dr(),i=pn();return jf(s,o,o[Qt],i,e,r,n),we}function Ff(e,r){const t=pn(),n=ke(),o=dr();return jf(o,n,Dx(Od(o.data),t,n),t,e,r),Ff}function jf(e,r,t,n,o,s,i){const l=g4(n),c=e.firstCreatePass&&Bx(e),h=r[d1],u=Sx(r);let d=!0;if(3&n.type||i){const y=b2(n,r),V=i?i(y):y,L=u.length,R=i?Ct=>i(Or(Ct[n.index])):n.index;let mt=null;if(!i&&l&&(mt=function GG(e,r,t,n){const o=e.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const i=o[s];if(i===t&&o[s+1]===n){const l=r[sn],a=o[s+2];return l.length>a?l[a]:null}"string"==typeof i&&(s+=2)}return null}(e,r,o,n.index)),null!==mt)(mt.__ngLastListenerFn__||mt).__ngNextListenerFn__=s,mt.__ngLastListenerFn__=s,d=!1;else{s=kV(n,r,h,s),mV(y,o,s);const Ct=t.listen(V,o,s);u.push(s,Ct),c&&c.push(o,R,L,L+1)}}else s=kV(n,r,h,s);const p=n.outputs;let f;if(d&&null!==p&&(f=p[o])){const y=f.length;if(y)for(let V=0;V<y;V+=2){const yt=r[f[V]][f[V+1]].subscribe(s),tt=u.length;u.push(s,yt),c&&c.push(o,n.index,tt,-(tt+1))}}}function CV(e,r,t,n){const o=rt(null);try{return wi(6,r,t),!1!==t(n)}catch(s){return Rp(e,s),!1}finally{wi(7,r,t),rt(o)}}function kV(e,r,t,n){return function o(s){if(s===Function)return n;Y4(e.componentOffset>-1?ls(e.index,r):r,5);let l=CV(r,t,n,s),a=o.__ngNextListenerFn__;for(;a;)l=CV(r,t,a,s)&&l,a=a.__ngNextListenerFn__;return l}}function te(e=1){return function xM(e){return(G1.lFrame.contextLView=function R8(e,r){for(;e>0;)r=r[d2],e--;return r}(e,G1.lFrame.contextLView))[d1]}(e)}function WG(e,r){let t=null;const n=function md(e){const r=e.attrs;if(null!=r){const t=r.indexOf(5);if(!(1&t))return r[t+1]}return null}(e);for(let o=0;o<r.length;o++){const s=r[o];if("*"!==s){if(null===n?n4(e,s,!0):kd(n,s))return o}else t=o}return t}function V2(e){const r=ke()[On][Ln];if(!r.projection){const n=r.projection=function oc(e,r){const t=[];for(let n=0;n<e;n++)t.push(r);return t}(e?e.length:1,null),o=n.slice();let s=r.child;for(;null!==s;){if(128!==s.type){const i=e?WG(s,e):0;null!==i&&(o[i]?o[i].projectionNext=s:n[i]=s,o[i]=s)}s=s.next}}}function To(e,r=0,t,n,o,s){const i=ke(),l=dr(),a=n?e+1:null;null!==a&&cu(i,l,a,n,o,s,null,t);const c=Ec(l,k1+e,16,null,t||null);null===c.projection&&(c.projection=r),Pd();const u=!i[je]||ua();null===i[On][Ln].projection[c.projection]&&null!==a?function UG(e,r,t){const n=k1+t,o=r.data[n],s=e[n],i=Fc(s,o.tView.ssrId);z5(s,L5(e,o,void 0,{dehydratedView:i}),0,Tc(o,i))}(i,l,a):u&&32&~c.flags&&function Wj(e,r,t){wx(r[Qt],0,r,t,Mv(e,t,r),dx(t.parent||r[Ln],t,r))}(l,i,c)}function v9(e,r,t){return f9(e,"",r,"",t),v9}function f9(e,r,t,n,o){const s=ke(),i=Z5(s,r,t,n);return i!==tr&&us(dr(),zn(),s,e,i,s[Qt],o,!1),f9}function al(e,r,t,n){!function Vb(e,r,t,n){const o=dr();if(o.firstCreatePass){const s=pn();Lb(o,new yb(r,t,n),s.index),function tO(e,r){const t=e.contentQueries||(e.contentQueries=[]);r!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,r)}(o,e),!(2&~t)&&(o.staticContentQueries=!0)}return bb(o,ke(),t)}(e,r,t,n)}function Gn(e,r,t){!function Hb(e,r,t){const n=dr();return n.firstCreatePass&&(Lb(n,new yb(e,r,t),-1),!(2&~r)&&(n.staticViewQueries=!0)),bb(n,ke(),r)}(e,r,t)}function Gr(e){const r=ke(),t=dr(),n=Zd();C4(n+1);const o=uf(t,n);if(e.dirty&&function hM(e){return!(4&~e[A1])}(r)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const s=zb(r,n);e.reset(s,Hg),e.notifyOnChanges()}return!0}return!1}function Wr(){return function hf(e,r){return e[Wi].queries[r].queryList}(ke(),Zd())}function Ks(e){return ha(function N8(){return G1.lFrame.contextLView}(),k1+e)}function Ur(e,r=""){const t=ke(),n=dr(),o=e+k1,s=n.firstCreatePass?Ec(n,o,1,r,null):n.data[o],i=FV(n,t,s,r,e);t[o]=i,a5()&&Bp(n,t,i,s),Us(s,!1)}let FV=(e,r,t,n,o)=>(Ci(!0),function wv(e,r){return e.createText(r)}(r[Qt],n));function As(e){return v2("",e,""),As}function v2(e,r,t){const n=ke(),o=Z5(n,e,r,t);return o!==tr&&function Al(e,r,t){const n=o5(r,e);!function ix(e,r,t){e.setValue(r,t)}(e[Qt],n,t)}(n,e2(),o),v2}function an(e,r,t){Sb(r)&&(r=r());const n=ke();return yo(n,$s(),r)&&us(dr(),zn(),n,e,r,n[Qt],t,!1),an}function gn(e,r){const t=Sb(e);return t&&e.set(r),t}function cn(e,r){const t=ke(),n=dr(),o=pn();return jf(n,t,t[Qt],o,e,r),cn}function Nf(e,r,t,n,o){if(e=D1(e),Array.isArray(e))for(let s=0;s<e.length;s++)Nf(e[s],r,t,n,o);else{const s=dr(),i=ke(),l=pn();let a=qe(e)?e:D1(e.provide);const c=k8(e),h=1048575&l.providerIndexes,u=l.directiveStart,d=l.providerIndexes>>20;if(qe(e)||!e.multi){const p=new c5(c,o,kt),f=Zf(a,r,o?h:h+d,u);-1===f?(Jd(b4(l,i),s,a),Of(s,e,r.length),r.push(a),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=1048576),t.push(p),i.push(p)):(t[f]=p,i[f]=p)}else{const p=Zf(a,r,h+d,u),f=Zf(a,r,h,h+d),V=f>=0&&t[f];if(o&&!V||!o&&!(p>=0&&t[p])){Jd(b4(l,i),s,a);const L=function dW(e,r,t,n,o){const s=new c5(e,t,kt);return s.multi=[],s.index=r,s.componentProviders=0,XV(s,o,n&&!t),s}(o?uW:hW,t.length,o,n,c);!o&&V&&(t[f].providerFactory=L),Of(s,e,r.length,0),r.push(a),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=1048576),t.push(L),i.push(L)}else Of(s,e,p>-1?p:f,XV(t[o?f:p],c,!o&&n));!o&&n&&V&&t[f].componentProviders++}}}function Of(e,r,t,n){const o=qe(r),s=function qr(e){return!!e.useClass}(r);if(o||s){const a=(s?D1(r.useClass):r).prototype.ngOnDestroy;if(a){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&r.multi){const h=c.indexOf(t);-1===h?c.push(t,[n,a]):c[h+1].push(n,a)}else c.push(t,a)}}}function XV(e,r,t){return t&&e.componentProviders++,e.multi.push(r)-1}function Zf(e,r,t,n){for(let o=t;o<n;o++)if(r[o]===e)return o;return-1}function hW(e,r,t,n){return Gf(this.multi,[])}function uW(e,r,t,n){const o=this.multi;let s;if(this.providerFactory){const i=this.providerFactory.componentProviders,l=ga(t,t[Pe],this.providerFactory.index,n);s=l.slice(0,i),Gf(o,s);for(let a=i;a<l.length;a++)s.push(l[a])}else s=[],Gf(o,s);return s}function Gf(e,r){for(let t=0;t<e.length;t++)r.push((0,e[t])());return r}function yr(e,r=[]){return t=>{t.providersResolver=(n,o)=>function cW(e,r,t){const n=dr();if(n.firstCreatePass){const o=Ws(e);Nf(t,n.data,n.blueprint,o,!0),Nf(r,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,r)}}let pW=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const n=la(0,t.type),o=n.length>0?function Xb(e,r,t=null){return new Yb({providers:e,parent:r,debugName:t,runEnvironmentInitializers:!0}).injector}([n],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ve({token:e,providedIn:"environment",factory:()=>new e(wt(is))})}}return e})();function uo(e){U2("NgStandalone"),e.getStandaloneInjector=r=>r.get(pW).getOrCreateStandaloneInjector(e)}function gs(e,r,t){const n=H2()+e,o=ke();return o[n]===tr?sl(o,n,t?r.call(t):r()):function au(e,r){return e[r]}(o,n)}function C9(e,r,t,n){return QV(ke(),H2(),e,r,t,n)}function k9(e,r,t,n,o){return tL(ke(),H2(),e,r,t,n,o)}function JV(e,r,t,n,o,s){return function eL(e,r,t,n,o,s,i,l){const a=r+t;return function qp(e,r,t,n,o){const s=Nc(e,r,t,n);return yo(e,r+2,o)||s}(e,a,o,s,i)?sl(e,a+3,l?n.call(l,o,s,i):n(o,s,i)):_u(e,a+3)}(ke(),H2(),e,r,t,n,o,s)}function _u(e,r){const t=e[r];return t===tr?void 0:t}function QV(e,r,t,n,o,s){const i=r+t;return yo(e,i,o)?sl(e,i+1,s?n.call(s,o):n(o)):_u(e,i+1)}function tL(e,r,t,n,o,s,i){const l=r+t;return Nc(e,l,o,s)?sl(e,l+2,i?n.call(i,o,s):n(o,s)):_u(e,l+2)}function Wc(e,r){const t=dr();let n;const o=e+k1;t.firstCreatePass?(n=function yW(e,r){if(r)for(let t=r.length-1;t>=0;t--){const n=r[t];if(e===n.name)return n}}(r,t.pipeRegistry),t.data[o]=n,n.onDestroy&&(t.destroyHooks??=[]).push(o,n.onDestroy)):n=t.data[o];const s=n.factory||(n.factory=_l(n.type)),l=h2(kt);try{const a=x4(!1),c=s();return x4(a),function Pf(e,r,t,n){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),r[t]=n}(t,ke(),o,c),c}finally{h2(l)}}function th(e,r,t){const n=e+k1,o=ke(),s=ha(o,n);return Mu(o,n)?QV(o,H2(),r,s.transform,t,s):s.transform(t)}function Mu(e,r){return e[Pe].data[r].pure}function Ha(e,r){return jp(e,r)}const xL=new ye(""),y9=new ye("");let Jf,Kf=(()=>{class e{constructor(t,n,o){this._ngZone=t,this.registry=n,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Jf||(function kU(e){Jf=e}(o),o.addToWindow(n)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{W1.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(t)||(clearTimeout(n.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,o){let s=-1;n&&n>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(i=>i.timeoutId!==s),t()},n)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:o})}whenStable(t,n,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,o),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,n,o){return[]}static{this.\u0275fac=function(n){return new(n||e)(wt(W1),wt(qf),wt(y9))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})(),qf=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return Jf?.findTestabilityInTree(this,t,n)??null}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function x9(e){return!!e&&"function"==typeof e.then}function bL(e){return!!e&&"function"==typeof e.subscribe}const _U=new ye("");let HL=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,n)=>{this.resolve=t,this.reject=n}),this.appInits=Et(_U,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const o of this.appInits){const s=o();if(x9(s))t.push(s);else if(bL(s)){const i=new Promise((l,a)=>{s.subscribe({complete:l,error:a})});t.push(i)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{n()}).catch(o=>{this.reject(o)}),0===t.length&&n(),this.initialized=!0}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Qf=new ye("");function LL(e,r){return Array.isArray(r)?r.reduce(LL,e):{...e,...r}}let cl=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Et(oy),this.afterRenderManager=Et(nH),this.zonelessEnabled=Et(nu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new V1,this.afterTick=new V1,this.componentTypes=[],this.components=[],this.isStable=Et(Vl).hasPendingTasks.pipe(ot(t=>!t)),this._injector=Et(is)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(n=>{t=this.isStable.subscribe({next:o=>{o&&n()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,n){const o=t instanceof ub;if(!this._injector.get(HL).done)throw!o&&function x2(e){const r=b1(e)||to(e)||Io(e);return null!==r&&r.standalone}(t),new ne(405,!1);let i;i=o?t:this._injector.get(S5).resolveComponentFactory(t),this.componentTypes.push(i.componentType);const l=function MU(e){return e.isBoundToModule}(i)?void 0:this._injector.get(Pc),c=i.create(H1.NULL,[],n||i.selector,l),h=c.location.nativeElement,u=c.injector.get(xL,null);return u?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),b9(this.components,c),u?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ne(101,!1);const t=rt(null);try{this._runningTick=!0,this.synchronize()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1,rt(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Jv,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;0!==this.dirtyFlags&&n++<10;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const n=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(n);for(let{_lView:o,notifyErrorHandler:s}of this._views)bU(o,s,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else t?.begin?.(),t?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:t})=>v4(t))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(t){const n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){const n=t;b9(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const n=this._injector.get(Qf,[]);[...this._bootstrapListeners,...n].forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>b9(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ne(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function b9(e,r){const t=e.indexOf(r);t>-1&&e.splice(t,1)}function bU(e,r,t,n){(t||v4(e))&&Fp(e,r,t&&!n?0:1)}let zU=(()=>{class e{constructor(){this.zone=Et(W1),this.changeDetectionScheduler=Et(I5),this.applicationRef=Et(cl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tm({ngZoneFactory:e,ignoreChangesOutsideZone:r,scheduleInRootZone:t}){return e??=()=>new W1({...em(),scheduleInRootZone:t}),[{provide:W1,useFactory:e},{provide:ss,multi:!0,useFactory:()=>{const n=Et(zU,{optional:!0});return()=>n.initialize()}},{provide:ss,multi:!0,useFactory:()=>{const n=Et(IU);return()=>{n.initialize()}}},!0===r?{provide:hb,useValue:!0}:[],{provide:qv,useValue:t??wg}]}function em(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let IU=(()=>{class e{constructor(){this.subscription=new Dt,this.initialized=!1,this.zone=Et(W1),this.pendingTasks=Et(Vl)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{W1.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{W1.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bu=(()=>{class e{constructor(){this.appRef=Et(cl),this.taskService=Et(Vl),this.ngZone=Et(W1),this.zonelessEnabled=Et(nu),this.disableScheduling=Et(hb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Dt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(A4):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Et(qv,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ip||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&5===t)return;switch(t){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const n=this.useMicrotaskScheduler?kg:Cg;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>n(()=>this.tick())):this.ngZone.runOutsideAngular(()=>n(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(A4+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(n){throw this.taskService.remove(t),n}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Bl=new ye("",{providedIn:"root",factory:()=>Et(Bl,vr.Optional|vr.SkipSelf)||function SU(){return typeof $localize<"u"&&$localize.locale||u9}()}),V9=new ye("");function L9(e){return!e.moduleRef}let EL=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){const o=n?.scheduleInRootZone,i=n?.ignoreChangesOutsideZone,l=[tm({ngZoneFactory:()=>function ny(e="zone.js",r){return"noop"===e?new ip:"zone.js"===e?new W1(r):e}(n?.ngZone,{...em({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}),scheduleInRootZone:o}),ignoreChangesOutsideZone:i}),{provide:I5,useExisting:bu}],a=function MO(e,r,t){return new gf(e,r,t,!1)}(t.moduleType,this.injector,l);return function DL(e){const r=L9(e)?e.r3Injector:e.moduleRef.injector,t=r.get(W1);return t.run(()=>{L9(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const n=r.get(_i,null);let o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:s=>{n.handleError(s)}})}),L9(e)){const s=()=>r.destroy(),i=e.platformInjector.get(V9);i.add(s),r.onDestroy(()=>{o.unsubscribe(),i.delete(s)})}else{const s=()=>e.moduleRef.destroy(),i=e.platformInjector.get(V9);i.add(s),e.moduleRef.onDestroy(()=>{b9(e.allPlatformModules,e.moduleRef),o.unsubscribe(),i.delete(s)})}return function xU(e,r,t){try{const n=t();return x9(n)?n.catch(o=>{throw r.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw r.runOutsideAngular(()=>e.handleError(n)),n}}(n,t,()=>{const s=r.get(HL);return s.runInitializers(),s.donePromise.then(()=>{if(function iG(e){"string"==typeof e&&(QH=e.toLowerCase().replace(/_/g,"-"))}(r.get(Bl,u9)||u9),L9(e)){const l=r.get(cl);return void 0!==e.rootComponent&&l.bootstrap(e.rootComponent),l}return function FU(e,r){const t=e.injector.get(cl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(n=>t.bootstrap(n));else{if(!e.instance.ngDoBootstrap)throw new ne(-403,!1);e.instance.ngDoBootstrap(t)}r.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:a,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,n=[]){const o=LL({},n);return function LU(e,r,t){const n=new vf(t);return Promise.resolve(n)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,o))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const t=this._injector.get(V9,null);t&&(t.forEach(n=>n()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(n){return new(n||e)(wt(H1))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Va=null;const TL=new ye("");function RL(e,r,t=[]){const n=`Platform: ${r}`,o=new ye(n);return(s=[])=>{let i=nm();if(!i||i.injector.get(TL,!1)){const l=[...t,...s,{provide:o,useValue:!0}];e?e(l):function jU(e){if(Va&&!Va.get(TL,!1))throw new ne(400,!1);(function VL(){!function B(e){Ge=e}(()=>{throw new ne(600,!1)})})(),Va=e;const r=e.get(EL);(function jL(e){e.get(Ug,null)?.forEach(t=>t())})(e)}(function FL(e=[],r){return H1.create({name:r,providers:[{provide:Gs,useValue:"platform"},{provide:V9,useValue:new Set([()=>Va=null])},...e]})}(l,n))}return function PU(){const r=nm();if(!r)throw new ne(401,!1);return r}()}}function nm(){return Va?.get(EL)??null}let L2=(()=>{class e{static{this.__NG_ELEMENT_ID__=OU}}return e})();function OU(e){return function ZU(e,r,t){if(ca(e)&&!t){const n=ls(e.index,r);return new X4(n,n)}return 175&e.type?new X4(r[On],r):null}(pn(),ke(),!(16&~e))}class GL{constructor(){}supports(r){return Kp(r)}create(r){return new YU(r)}}const $U=(e,r)=>r;class YU{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||$U}forEachItem(r){let t;for(t=this._itHead;null!==t;t=t._next)r(t)}forEachOperation(r){let t=this._itHead,n=this._removalsHead,o=0,s=null;for(;t||n;){const i=!n||t&&t.currentIndex<UL(n,o,s)?t:n,l=UL(i,o,s),a=i.currentIndex;if(i===n)o--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)o++;else{s||(s=[]);const c=l-o,h=a-o;if(c!=h){for(let d=0;d<c;d++){const p=d<s.length?s[d]:s[d]=0,f=p+d;h<=f&&f<c&&(s[d]=p+1)}s[i.previousIndex]=h-c}}l!==a&&r(i,l,a)}}forEachPreviousItem(r){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)r(t)}forEachAddedItem(r){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)r(t)}forEachMovedItem(r){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)r(t)}forEachRemovedItem(r){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)r(t)}forEachIdentityChange(r){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)r(t)}diff(r){if(null==r&&(r=[]),!Kp(r))throw new ne(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o,s,i,t=this._itHead,n=!1;if(Array.isArray(r)){this.length=r.length;for(let l=0;l<this.length;l++)s=r[l],i=this._trackByFn(l,s),null!==t&&Object.is(t.trackById,i)?(n&&(t=this._verifyReinsertion(t,s,i,l)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,i,l),n=!0),t=t._next}else o=0,function bO(e,r){if(Array.isArray(e))for(let t=0;t<e.length;t++)r(e[t]);else{const t=e[Symbol.iterator]();let n;for(;!(n=t.next()).done;)r(n.value)}}(r,l=>{i=this._trackByFn(o,l),null!==t&&Object.is(t.trackById,i)?(n&&(t=this._verifyReinsertion(t,l,i,o)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,i,o),n=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,t,n,o){let s;return null===r?s=this._itTail:(s=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(r.item,t)||this._addIdentityChange(r,t),this._reinsertAfter(r,s,o)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(r.item,t)||this._addIdentityChange(r,t),this._moveAfter(r,s,o)):r=this._addAfter(new XU(t,n),s,o),r}_verifyReinsertion(r,t,n,o){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?r=this._reinsertAfter(s,r._prev,o):r.currentIndex!=o&&(r.currentIndex=o,this._addToMoves(r,o)),r}_truncate(r){for(;null!==r;){const t=r._next;this._addToRemovals(this._unlink(r)),r=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const o=r._prevRemoved,s=r._nextRemoved;return null===o?this._removalsHead=s:o._nextRemoved=s,null===s?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(r,t,n),this._addToMoves(r,n),r}_moveAfter(r,t,n){return this._unlink(r),this._insertAfter(r,t,n),this._addToMoves(r,n),r}_addAfter(r,t,n){return this._insertAfter(r,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,t,n){const o=null===t?this._itHead:t._next;return r._next=o,r._prev=t,null===o?this._itTail=r:o._prev=r,null===t?this._itHead=r:t._next=r,null===this._linkedRecords&&(this._linkedRecords=new WL),this._linkedRecords.put(r),r.currentIndex=n,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const t=r._prev,n=r._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,r}_addToMoves(r,t){return r.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new WL),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,t){return r.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class XU{constructor(r,t){this.item=r,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KU{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,r))return n;return null}remove(r){const t=r._prevDup,n=r._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class WL{constructor(){this.map=new Map}put(r){const t=r.trackById;let n=this.map.get(t);n||(n=new KU,this.map.set(t,n)),n.add(r)}get(r,t){const o=this.map.get(r);return o?o.get(r,t):null}remove(r){const t=r.trackById;return this.map.get(t).remove(r)&&this.map.delete(t),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UL(e,r,t){const n=e.previousIndex;if(null===n)return n;let o=0;return t&&n<t.length&&(o=t[n]),n+r+o}class $L{constructor(){}supports(r){return r instanceof Map||ff(r)}create(){return new qU}}class qU{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let t;for(t=this._mapHead;null!==t;t=t._next)r(t)}forEachPreviousItem(r){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)r(t)}forEachChangedItem(r){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)r(t)}forEachAddedItem(r){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)r(t)}forEachRemovedItem(r){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)r(t)}diff(r){if(r){if(!(r instanceof Map||ff(r)))throw new ne(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(r,(n,o)=>{if(t&&t.key===o)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(o,n);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,t){if(r){const n=r._prev;return t._next=r,t._prev=n,r._prev=t,n&&(n._next=t),r===this._mapHead&&(this._mapHead=t),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(r,t){if(this._records.has(r)){const o=this._records.get(r);this._maybeAddToChanges(o,t);const s=o._prev,i=o._next;return s&&(s._next=i),i&&(i._prev=s),o._next=null,o._prev=null,o}const n=new JU(r);return this._records.set(r,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,t){Object.is(t,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=t,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,t){r instanceof Map?r.forEach(t):Object.keys(r).forEach(n=>t(r[n],n))}}class JU{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function YL(){return new am([new GL])}let am=(()=>{class e{static{this.\u0275prov=Ve({token:e,providedIn:"root",factory:YL})}constructor(t){this.factories=t}static create(t,n){if(null!=n){const o=n.factories.slice();t=t.concat(o)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||YL()),deps:[[e,new Z1,new ea]]}}find(t){const n=this.factories.find(o=>o.supports(t));if(null!=n)return n;throw new ne(901,!1)}}return e})();function XL(){return new I9([new $L])}let I9=(()=>{class e{static{this.\u0275prov=Ve({token:e,providedIn:"root",factory:XL})}constructor(t){this.factories=t}static create(t,n){if(n){const o=n.factories.slice();t=t.concat(o)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||XL()),deps:[[e,new Z1,new ea]]}}find(t){const n=this.factories.find(o=>o.supports(t));if(n)return n;throw new ne(901,!1)}}return e})();const e$=RL(null,"core",[]);let r$=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(wt(cl))}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({})}}return e})();function vn(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function zu(e,r){U2("NgSignals");const t=function Zt(e){const r=Object.create(He);r.computation=e;const t=()=>{if(W(r),dt(r),r.value===Mt)throw r.error;return r.value};return t[Lt]=r,t}(e);return r?.equal&&(t[Lt].equal=r.equal),t}function Vi(e){const r=rt(null);try{return e()}finally{rt(r)}}const E$=new ye("",{providedIn:"root",factory:()=>Et(T$)});let T$=(()=>{class e{static{this.\u0275prov=Ve({token:e,providedIn:"root",factory:()=>new R$})}}return e})();class R${constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Et(Vl),this.taskId=null}scheduleEffect(r){if(this.enqueue(r),null===this.taskId){const t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(r){const t=r.creationZone;this.queues.has(t)||this.queues.set(t,new Set);const n=this.queues.get(t);n.has(r)||(this.queuedEffectCount++,n.add(r))}flush(){for(;this.queuedEffectCount>0;)for(const[r,t]of this.queues)null===r?this.flushQueue(t):r.run(()=>this.flushQueue(t))}flushQueue(r){for(const t of r)r.delete(t),this.queuedEffectCount--,t.run()}}class F${constructor(r,t,n,o,s,i){this.scheduler=r,this.effectFn=t,this.creationZone=n,this.injector=s,this.watcher=function Be(e,r,t){const n=Object.create(o1);t&&(n.consumerAllowSignalWrites=!0),n.fn=e,n.schedule=r;const o=a=>{n.cleanupFn=a};return n.ref={notify:()=>gt(n),run:()=>{if(null===n.fn)return;if(function P(){return ht}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(n.dirty=!1,n.hasRun&&!E(n))return;n.hasRun=!0;const a=lt(n);try{n.cleanupFn(),n.cleanupFn=r1,n.fn(o)}finally{Y(n,a)}},cleanup:()=>n.cleanupFn(),destroy:()=>function i(a){(function s(a){return null===a.fn&&null===a.schedule})(a)||(at(a),a.cleanupFn(),a.fn=null,a.schedule=null,a.cleanupFn=r1)}(n),[Lt]:n},n.ref}(l=>this.runEffect(l),()=>this.schedule(),i),this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}runEffect(r){try{this.effectFn(r)}catch(t){this.injector.get(_i,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}let wz=null;function La(){return wz}class P${}const fn=new ye("");let Cz=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:()=>Et(N$),providedIn:"platform"})}}return e})(),N$=(()=>{class e extends Cz{constructor(){super(),this._doc=Et(fn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return La().getBaseHref(this._doc)}onPopState(t){const n=La().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",t,!1),()=>n.removeEventListener("popstate",t)}onHashChange(t){const n=La().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",t,!1),()=>n.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,n,o){this._history.pushState(t,n,o)}replaceState(t,n,o){this._history.replaceState(t,n,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function kz(e,r){if(0==e.length)return r;if(0==r.length)return e;let t=0;return e.endsWith("/")&&t++,r.startsWith("/")&&t++,2==t?e+r.substring(1):1==t?e+r:e+"/"+r}function _z(e){const r=e.match(/#|\?|$/),t=r&&r.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function $c(e){return e&&"?"!==e[0]?"?"+e:e}let dm=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:()=>Et(Z$),providedIn:"root"})}}return e})();const O$=new ye("");let Z$=(()=>{class e extends dm{constructor(t,n){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??Et(fn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return kz(this._baseHref,t)}path(t=!1){const n=this._platformLocation.pathname+$c(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${n}${o}`:n}pushState(t,n,o,s){const i=this.prepareExternalUrl(o+$c(s));this._platformLocation.pushState(t,n,i)}replaceState(t,n,o,s){const i=this.prepareExternalUrl(o+$c(s));this._platformLocation.replaceState(t,n,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(n){return new(n||e)(wt(Cz),wt(O$,8))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Mz=(()=>{class e{constructor(t){this._subject=new Ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const n=this._locationStrategy.getBaseHref();this._basePath=function U$(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(_z(yz(n))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+$c(n))}normalize(t){return e.stripTrailingSlash(function W$(e,r){if(!e||!r.startsWith(e))return r;const t=r.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:r}(this._basePath,yz(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,n="",o=null){this._locationStrategy.pushState(o,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$c(n)),o)}replaceState(t,n="",o=null){this._locationStrategy.replaceState(o,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$c(n)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{const n=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",n){this._urlChangeListeners.forEach(o=>o(t,n))}subscribe(t,n,o){return this._subject.subscribe({next:t,error:n,complete:o})}static{this.normalizeQueryParams=$c}static{this.joinWithSlash=kz}static{this.stripTrailingSlash=_z}static{this.\u0275fac=function(n){return new(n||e)(wt(dm))}}static{this.\u0275prov=Ve({token:e,factory:()=>function G$(){return new Mz(wt(dm))}(),providedIn:"root"})}}return e})();function yz(e){return e.replace(/\/index.html$/,"")}function Sz(e,r){r=encodeURIComponent(r);for(const t of e.split(";")){const n=t.indexOf("="),[o,s]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(o.trim()===r)return decodeURIComponent(s)}return null}const Mm=/\s+/,Bz=[];let za=(()=>{class e{constructor(t,n){this._ngEl=t,this._renderer=n,this.initialClasses=Bz,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Mm):Bz}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Mm):t}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const n of t)this._updateState(n,!0);else if(null!=t)for(const n of Object.keys(t))this._updateState(n,!!t[n]);this._applyStateDiff()}_updateState(t,n){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==n&&(o.changed=!0,o.enabled=n),o.touched=!0):this.stateMap.set(t,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const n=t[0],o=t[1];o.changed?(this._toggleClass(n,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),o.touched=!1}}_toggleClass(t,n){(t=t.trim()).length>0&&t.split(Mm).forEach(o=>{n?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static{this.\u0275fac=function(n){return new(n||e)(kt(mr),kt(xi))}}static{this.\u0275dir=p1({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();class IY{constructor(r,t,n,o){this.$implicit=r,this.ngForOf=t,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yc=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,n,o){this._viewContainer=t,this._template=n,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const n=this._viewContainer;t.forEachOperation((o,s,i)=>{if(null==o.previousIndex)n.createEmbeddedView(this._template,new IY(o.item,this._ngForOf,-1,-1),null===i?void 0:i);else if(null==i)n.remove(null===s?void 0:s);else if(null!==s){const l=n.get(s);n.move(l,i),Ez(l,o)}});for(let o=0,s=n.length;o<s;o++){const l=n.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Ez(n.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,n){return!0}static{this.\u0275fac=function(n){return new(n||e)(kt(ds),kt(Ys),kt(am))}}static{this.\u0275dir=p1({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function Ez(e,r){e.context.$implicit=r.item}let zi=(()=>{class e{constructor(t,n){this._viewContainer=t,this._context=new SY,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Tz("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Tz("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,n){return!0}static{this.\u0275fac=function(n){return new(n||e)(kt(ds),kt(Ys))}}static{this.\u0275dir=p1({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class SY{constructor(){this.$implicit=null,this.ngIf=null}}function Tz(e,r){if(r&&!r.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${lo(r)}'.`)}class ym{constructor(r,t){this._viewContainerRef=r,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(r){r&&!this._created?this.create():!r&&this._created&&this.destroy()}}let Iu=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const n=t===this._ngSwitch;return this._lastCasesMatched||=n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const n of this._defaultViews)n.enforceState(t)}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=p1({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return e})(),xm=(()=>{class e{constructor(t,n,o){this.ngSwitch=o,o._addCase(),this._view=new ym(t,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(n){return new(n||e)(kt(ds),kt(Ys),kt(Iu,9))}}static{this.\u0275dir=p1({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return e})(),Rz=(()=>{class e{constructor(t,n,o){o._addDefault(new ym(t,n))}static{this.\u0275fac=function(n){return new(n||e)(kt(ds),kt(Ys),kt(Iu,9))}}static{this.\u0275dir=p1({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return e})(),Su=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const o=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,n,o)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,n,o),get:(t,n,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,o)}})}static{this.\u0275fac=function(n){return new(n||e)(kt(ds))}}static{this.\u0275dir=p1({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[co]})}}return e})();class EY{createSubscription(r,t){return Vi(()=>r.subscribe({next:t,error:n=>{throw n}}))}dispose(r){Vi(()=>r.unsubscribe())}}class TY{createSubscription(r,t){return r.then(t,n=>{throw n})}dispose(r){}}const RY=new TY,FY=new EY;let jz=(()=>{class e{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,n=>this._updateLatestValue(t,n))}_selectStrategy(t){if(x9(t))return RY;if(bL(t))return FY;throw function Ai(e,r){return new ne(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,n){t===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(n){return new(n||e)(kt(L2,16))}}static{this.\u0275pipe=ko({name:"async",type:e,pure:!1,standalone:!0})}}return e})(),Pz=(()=>{class e{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=Nz}transform(t,n=Nz){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ??=this.differs.find(t).create();const o=this.differ.diff(t),s=n!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(i=>{this.keyValues.push(function qY(e,r){return{key:e,value:r}}(i.key,i.currentValue))})),(o||s)&&(this.keyValues.sort(n),this.compareFn=n),this.keyValues}static{this.\u0275fac=function(n){return new(n||e)(kt(I9,16))}}static{this.\u0275pipe=ko({name:"keyvalue",type:e,pure:!1,standalone:!0})}}return e})();function Nz(e,r){const t=e.key,n=r.key;if(t===n)return 0;if(void 0===t)return 1;if(void 0===n)return-1;if(null===t)return 1;if(null===n)return-1;if("string"==typeof t&&"string"==typeof n)return t<n?-1:1;if("number"==typeof t&&"number"==typeof n)return t-n;if("boolean"==typeof t&&"boolean"==typeof n)return t<n?-1:1;const o=String(t),s=String(n);return o==s?0:o<s?-1:1}let K2=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({})}}return e})();const Oz="browser";function Vm(e){return"server"===e}class Zz{}class IX extends P${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Im extends IX{static makeCurrent(){!function j$(e){wz??=e}(new Im)}onAndCancel(r,t,n){return r.addEventListener(t,n),()=>{r.removeEventListener(t,n)}}dispatchEvent(r,t){r.dispatchEvent(t)}remove(r){r.remove()}createElement(r,t){return(t=t||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,t){return"window"===t?window:"document"===t?r:"body"===t?r.body:null}getBaseHref(r){const t=function SX(){return Eu=Eu||document.querySelector("base"),Eu?Eu.getAttribute("href"):null}();return null==t?null:function BX(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){Eu=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Sz(document.cookie,r)}}let Eu=null,EX=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})();const Sm=new ye("");let tA=(()=>{class e{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,o){return this._findPluginFor(n).addEventListener(t,n,o)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(s=>s.supports(t)),!n)throw new ne(5101,!1);return this._eventNameToPlugin.set(t,n),n}static{this.\u0275fac=function(n){return new(n||e)(wt(Sm),wt(W1))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})();class eA{constructor(r){this._doc=r}}const Bm="ng-app-id";let rA=(()=>{class e{constructor(t,n,o,s={}){this.doc=t,this.appId=n,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vm(s),this.resetHostNodes()}addStyles(t){for(const n of t)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(t){for(const n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){const n=this.styleRef;n.get(t)?.elements?.forEach(o=>o.remove()),n.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Bm}="${this.appId}"]`);if(t?.length){const n=new Map;return t.forEach(o=>{null!=o.textContent&&n.set(o.textContent,o)}),n}return null}changeUsageCount(t,n){const o=this.styleRef;if(o.has(t)){const s=o.get(t);return s.usage+=n,s.usage}return o.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){const o=this.styleNodesInDOM,s=o?.get(n);if(s?.parentNode===t)return o.delete(n),s.removeAttribute(Bm),s;{const i=this.doc.createElement("style");return this.nonce&&i.setAttribute("nonce",this.nonce),i.textContent=n,this.platformIsServer&&i.setAttribute(Bm,this.appId),t.appendChild(i),i}}addStyleToHost(t,n){const o=this.getStyleElement(t,n),s=this.styleRef,i=s.get(n)?.elements;i?i.push(o):s.set(n,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(n){return new(n||e)(wt(fn),wt(Vc),wt(dp,8),wt(Mi))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})();const Dm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Em=/%COMP%/g,jX=new ye("",{providedIn:"root",factory:()=>!0});function oA(e,r){return r.map(t=>t.replace(Em,e))}let sA=(()=>{class e{constructor(t,n,o,s,i,l,a,c=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=i,this.platformId=l,this.ngZone=a,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Vm(l),this.defaultRenderer=new Tm(t,i,a,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Qo.ShadowDom&&(n={...n,encapsulation:Qo.Emulated});const o=this.getOrCreateRenderer(t,n);return o instanceof lA?o.applyToHost(t):o instanceof Rm&&o.applyStyles(),o}getOrCreateRenderer(t,n){const o=this.rendererByCompId;let s=o.get(n.id);if(!s){const i=this.doc,l=this.ngZone,a=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(n.encapsulation){case Qo.Emulated:s=new lA(a,c,n,this.appId,h,i,l,u);break;case Qo.ShadowDom:return new ZX(a,c,t,n,i,l,this.nonce,u);default:s=new Rm(a,c,n,h,i,l,u)}o.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(n){return new(n||e)(wt(tA),wt(rA),wt(Vc),wt(jX),wt(fn),wt(Mi),wt(W1),wt(dp))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})();class Tm{constructor(r,t,n,o){this.eventManager=r,this.doc=t,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,t){return t?this.doc.createElementNS(Dm[t]||t,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,t){(iA(r)?r.content:r).appendChild(t)}insertBefore(r,t,n){r&&(iA(r)?r.content:r).insertBefore(t,n)}removeChild(r,t){t.remove()}selectRootElement(r,t){let n="string"==typeof r?this.doc.querySelector(r):r;if(!n)throw new ne(-5104,!1);return t||(n.textContent=""),n}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,t,n,o){if(o){t=o+":"+t;const s=Dm[o];s?r.setAttributeNS(s,t,n):r.setAttribute(t,n)}else r.setAttribute(t,n)}removeAttribute(r,t,n){if(n){const o=Dm[n];o?r.removeAttributeNS(o,t):r.removeAttribute(`${n}:${t}`)}else r.removeAttribute(t)}addClass(r,t){r.classList.add(t)}removeClass(r,t){r.classList.remove(t)}setStyle(r,t,n,o){o&(ka.DashCase|ka.Important)?r.style.setProperty(t,n,o&ka.Important?"important":""):r.style[t]=n}removeStyle(r,t,n){n&ka.DashCase?r.style.removeProperty(t):r.style[t]=""}setProperty(r,t,n){null!=r&&(r[t]=n)}setValue(r,t){r.nodeValue=t}listen(r,t,n){if("string"==typeof r&&!(r=La().getGlobalEventTarget(this.doc,r)))throw new Error(`Unsupported event target ${r} for event ${t}`);return this.eventManager.addEventListener(r,t,this.decoratePreventDefault(n))}decoratePreventDefault(r){return t=>{if("__ngUnwrap__"===t)return r;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>r(t)):r(t))&&t.preventDefault()}}}function iA(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class ZX extends Tm{constructor(r,t,n,o,s,i,l,a){super(r,s,i,a),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=oA(o.id,o.styles);for(const h of c){const u=document.createElement("style");l&&u.setAttribute("nonce",l),u.textContent=h,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,t){return super.appendChild(this.nodeOrShadowRoot(r),t)}insertBefore(r,t,n){return super.insertBefore(this.nodeOrShadowRoot(r),t,n)}removeChild(r,t){return super.removeChild(null,t)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rm extends Tm{constructor(r,t,n,o,s,i,l,a){super(r,s,i,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.styles=a?oA(a,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class lA extends Rm{constructor(r,t,n,o,s,i,l,a){const c=o+"-"+n.id;super(r,t,n,s,i,l,a,c),this.contentAttr=function PX(e){return"_ngcontent-%COMP%".replace(Em,e)}(c),this.hostAttr=function NX(e){return"_nghost-%COMP%".replace(Em,e)}(c)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,t){const n=super.createElement(r,t);return super.setAttribute(n,this.contentAttr,""),n}}let GX=(()=>{class e extends eA{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,o){return t.addEventListener(n,o,!1),()=>this.removeEventListener(t,n,o)}removeEventListener(t,n,o){return t.removeEventListener(n,o)}static{this.\u0275fac=function(n){return new(n||e)(wt(fn))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})();const aA=["alt","control","meta","shift"],WX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UX={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let $X=(()=>{class e extends eA{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,o){const s=e.parseEventName(n),i=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>La().onAndCancel(t,s.domEventName,i))}static parseEventName(t){const n=t.toLowerCase().split("."),o=n.shift();if(0===n.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(n.pop());let i="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),i="code."),aA.forEach(c=>{const h=n.indexOf(c);h>-1&&(n.splice(h,1),i+=c+".")}),i+=s,0!=n.length||0===s.length)return null;const a={};return a.domEventName=o,a.fullKey=i,a}static matchEventFullKeyCode(t,n){let o=WX[t.key]||t.key,s="";return n.indexOf("code.")>-1&&(o=t.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),aA.forEach(i=>{i!==o&&(0,UX[i])(t)&&(s+=i+".")}),s+=o,s===n)}static eventCallback(t,n,o){return s=>{e.matchEventFullKeyCode(s,t)&&o.runGuarded(()=>n(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(n){return new(n||e)(wt(fn))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})();const hA=[{provide:Mi,useValue:Oz},{provide:Ug,useValue:function YX(){Im.makeCurrent()},multi:!0},{provide:fn,useFactory:function KX(){return function Vy(e){up=e}(document),document},deps:[]}],qX=RL(e$,"browser",hA),JX=new ye(""),uA=[{provide:y9,useClass:class DX{addToWindow(r){h1.getAngularTestability=(n,o=!0)=>{const s=r.findTestabilityInTree(n,o);if(null==s)throw new ne(5103,!1);return s},h1.getAllAngularTestabilities=()=>r.getAllTestabilities(),h1.getAllAngularRootElements=()=>r.getAllRootElements(),h1.frameworkStabilizers||(h1.frameworkStabilizers=[]),h1.frameworkStabilizers.push(n=>{const o=h1.getAllAngularTestabilities();let s=o.length;const i=function(){s--,0==s&&n()};o.forEach(l=>{l.whenStable(i)})})}findTestabilityInTree(r,t,n){return null==t?null:r.getTestability(t)??(n?La().isShadowRoot(t)?this.findTestabilityInTree(r,t.host,!0):this.findTestabilityInTree(r,t.parentElement,!0):null)}},deps:[]},{provide:xL,useClass:Kf,deps:[W1,qf,y9]},{provide:Kf,useClass:Kf,deps:[W1,qf,y9]}],dA=[{provide:Gs,useValue:"root"},{provide:_i,useFactory:function XX(){return new _i},deps:[]},{provide:Sm,useClass:GX,multi:!0,deps:[fn,W1,Mi]},{provide:Sm,useClass:$X,multi:!0,deps:[fn]},sA,rA,tA,{provide:Jv,useExisting:sA},{provide:Zz,useClass:EX,deps:[]},[]];let QX=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Vc,useValue:t.appId}]}}static{this.\u0275fac=function(n){return new(n||e)(wt(JX,12))}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({providers:[...dA,...uA],imports:[K2,r$]})}}return e})();var f2=K(3308);class vA{}class fA{constructor(r=new vA){this.ctx=r}readRecords(r){return Promise.all(r.map(t=>this.readRecord(t)))}writeRecords(r){return Promise.all(r.map(t=>this.writeRecord(t)))}}function Q9(e,r){if(Array.isArray(e)&&Array.isArray(r))return e.length===r.length&&e.every((t,n)=>Q9(t,r[n]));if(e instanceof Date&&r instanceof Date)return e.getTime()===r.getTime();if(e instanceof URL&&r instanceof URL)return e.toString()===r.toString();if(e instanceof Object&&r instanceof Object){const t=Object.keys(e),n=Object.keys(r);return t.length===n.length&&t.every(o=>Q9(e[o],r[o]))}return e===r}var po=K(7059);function N(...e){return r=>e.reduce((t,n)=>n(t),r)}function S1(e){return r=>e(r)}function U1(e){return r=>r.map(e)}function q2(e){return r=>r.filter(e)}function Aa(e){return r=>r.length>e?r[e]:null}function Ia(...e){return r=>{for(let t=0;t<e.length;t++){const n=e[t](r);if(null!==n)return n}return null}}function Mn(...e){return r=>e.map(t=>t(r))}function Kc(e){return r=>(e(r),r)}const Ho=e=>e;class nK extends Error{constructor(r){super(r)}}function Fm(e){let r=null;try{r=(0,po.parseXml)(e)}catch(t){throw new nK(t instanceof Error?t.message:t)}return r}function jm(e){function r(n){const o=function sK(e){const r=e.indexOf(":");return r>-1?e.substring(0,r):null}(n);"xmlns"===o||null===o||e.attributes[`xmlns:${o}`]||Ru[o]&&(e.attributes[`xmlns:${o}`]=Ru[o])}return e.attributes=e.attributes||{},function t(n){r(n.name);for(const s in n.attributes)r(s);e6(n).forEach(t)}(e),new po.XmlDocument([e])}function Tl(e){const r=e.indexOf(":");return r>-1?e.substring(r+1):e}function mA(e){const r=e.indexOf(":");return r>-1?e.substring(0,r):""}function t6(e){return e.name||""}function Pm(e){return e.children.find(r=>r instanceof po.XmlElement)}function Br(e,r=!0){return t=>{const n=Tl(e);return t&&Array.isArray(t.children)?t.children.reduce(function o(s,i){return Tl(t6(i))===n&&s.push(i),r&&Array.isArray(i.children)?[...s,...i.children.reduce(o,[])]:s},[]):[]}}function n1(e,r=!0){return t=>Br(e,r)(t)[0]||null}function e6(e){return e&&Array.isArray(e.children)?[...e.children.filter(r=>r instanceof po.XmlElement)]:[]}function oK(e){return e6(e)[0]??null}function mn(...e){return r=>r&&Array.isArray(r.children)?r.children.reduce(function t(n){const o=Tl(e[n]);return(s,i)=>Tl(t6(i))!==o?s:n===e.length-1?[...s,i]:Array.isArray(i.children)?[...s,...i.children.reduce(t(n+1),[])]:s}(0),[]):[]}function Yr(...e){return r=>{const t=mn(...e)(r);return t.length?t[0]:null}}function wA(e){return r=>{let t=r.parent;for(;t&&t instanceof po.XmlElement;){if(Tl(t6(t))===Tl(e))return t;t=t.parent}return null}}function Qs(){return e=>{if(!e)return null;const r=Array.isArray(e.children)?e.children.find(t=>"text"===t.type):null;return r?r.text:""}}function Wn(e){return r=>r&&r.attributes[e]||null}function Tu(e,r=0){const t=l=>l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(e instanceof po.XmlDocument)return`<?xml version="1.0" encoding="UTF-8"?>${Tu(e.children[0])}`;if(e instanceof po.XmlText){const l=e.text;return l&&""!==l.replace(/^\s+|\s+$/g,"")?t(l):""}if(!(e instanceof po.XmlElement))return"\x3c!-- unknown --\x3e";const n="    ".repeat(r),o=Array.isArray(e.children)?e.children.map(l=>Tu(l,r+1)).filter(l=>""!==l).map((l,a,c)=>a<c.length-1?l.replace(/\n\s*$/g,""):l).join(""):"",s=Object.keys(e.attributes).reduce((l,a)=>l+` ${a}="${t(e.attributes[a])}"`,""),i="    ".repeat(Math.max(0,r-1));return""===o?`\n${n}<${e.name}${s}/>\n${i}`:`\n${n}<${e.name}${s}>${o}</${e.name}>\n${i}`}const Ru={gmd:"http://www.isotc211.org/2005/gmd",gco:"http://www.isotc211.org/2005/gco",gfc:"http://www.isotc211.org/2005/gfc",gml:"http://www.opengis.net/gml/3.2",xsi:"http://www.w3.org/2001/XMLSchema-instance",srv:"http://www.isotc211.org/2005/srv",gmx:"http://www.isotc211.org/2005/gmx",gts:"http://www.isotc211.org/2005/gts",gsr:"http://www.isotc211.org/2005/gsr",gmi:"http://www.isotc211.org/2005/gmi",xlink:"http://www.w3.org/1999/xlink",mdb:"http://standards.iso.org/iso/19115/-3/mdb/2.0",mdq:"http://standards.iso.org/iso/19157/-2/mdq/1.0",msr:"http://standards.iso.org/iso/19115/-3/msr/2.0",mrs:"http://standards.iso.org/iso/19115/-3/mrs/1.0",mmi:"http://standards.iso.org/iso/19115/-3/mmi/1.0",mrl:"http://standards.iso.org/iso/19115/-3/mrl/2.0",mdt:"http://standards.iso.org/iso/19115/-3/mdt/2.0",mrd:"http://standards.iso.org/iso/19115/-3/mrd/1.0",mds:"http://standards.iso.org/iso/19115/-3/mds/2.0",mpc:"http://standards.iso.org/iso/19115/-3/mpc/1.0",mcc:"http://standards.iso.org/iso/19115/-3/mcc/1.0",mac:"http://standards.iso.org/iso/19115/-3/mac/2.0",mco:"http://standards.iso.org/iso/19115/-3/mco/1.0",mda:"http://standards.iso.org/iso/19115/-3/mda/1.0",mex:"http://standards.iso.org/iso/19115/-3/mex/1.0",gex:"http://standards.iso.org/iso/19115/-3/gex/1.0",gcx:"http://standards.iso.org/iso/19115/-3/gcx/1.0",mas:"http://standards.iso.org/iso/19115/-3/mas/1.0",mri:"http://standards.iso.org/iso/19115/-3/mri/1.0",cit:"http://standards.iso.org/iso/19115/-3/cit/2.0",cat:"http://standards.iso.org/iso/19115/-3/cat/1.0",lan:"http://standards.iso.org/iso/19115/-3/lan/1.0",mrc:"http://standards.iso.org/iso/19115/-3/mrc/2.0",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",foaf:"http://xmlns.com/foaf/0.1/",xsd:"http://www.w3.org/2001/XMLSchema#",dcat:"http://www.w3.org/ns/dcat#",dct:"http://purl.org/dc/terms/",skos:"http://www.w3.org/2004/02/skos/core#",schema_org:"http://schema.org/",spdx:"https://spdx.org/rdf/terms/#",adms:"http://www.w3.org/ns/adms#",dqv:"http://www.w3.org/ns/dqv#",owl:"http://www.w3.org/2002/07/owl#",vcard:"http://www.w3.org/2006/vcard/ns#",time:"http://www.w3.org/2006/time#",locn:"http://www.w3.org/ns/locn#",mdcat:"https://data.vlaanderen.be/ns/metadata-dcat#"};function C1(e){return()=>new po.XmlElement(e,{},[])}function Xr(...e){return()=>{let r=null;for(const t of e)r=r?no(t)(r):C1(t)();return r}}function O1(e,r){return t=>(t.attributes[e]=r,t)}function CA(e){return r=>{if(!r)return null;const t=e(),n=function iK(e){let r=e;for(;r.parent instanceof po.XmlElement;)r=r.parent;return r}(t);return r.children.push(n),n.parent=r,t}}function s1(...e){return r=>r?(e.filter(t=>t).forEach(t=>CA(t)(r)),r):null}function no(e){return r=>{if(!r)return null;const t=C1(e)();return r.children.push(t),t.parent=r,t}}function Fu(...e){return r=>{let t=r;for(const n of e)t=no(n)(t);return t}}function ti(e){return Ia(n1(e,!1),no(e))}function go(...e){return r=>{let t=r;for(const n of e)t=ti(n)(t);return t}}function m2(e){return r=>{if(!r)return null;const t=r.children.find(n=>n instanceof po.XmlText);return t?t.text=e:r.children.push(new po.XmlText(e)),r}}function w2(e){return r=>{if(!r)return null;const t=Tl(e),n=r.children.filter(o=>o instanceof po.XmlElement&&Tl(t6(o))===t);return n.forEach(o=>o.parent=null),r.children=r.children.filter(o=>-1===n.indexOf(o)),r}}function ei(e){return r=>{const t=e(r);return t.forEach(n=>n.parent=null),r.children=r.children.filter(n=>n instanceof po.XmlElement&&-1===t.indexOf(n)),r}}function Nm(e){return/wms/i.test(e)?"wms":/wfs/i.test(e)?"wfs":/wmts/i.test(e)?"wmts":/wps/i.test(e)?"wps":/ogc\W*api\W*features/i.test(e)?"ogcFeatures":/esri/i.test(e)?"esriRest":/DOWNLOAD-1/i.test(e)?"GPFDL":"other"}function _A(e){return/shp|shapefile/i.test(e)?"x-gis/x-shapefile":e||null}const MA=class aK{constructor(r){this.type=r,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},uK=class hK{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};var C2=K(2058);function yA(){}function xA(e){let t,n,o,r=!1;return function(){const s=Array.prototype.slice.call(arguments);return(!r||this!==o||!(0,C2.aI)(s,n))&&(r=!0,o=this,n=s,t=e.apply(this,arguments)),t}}function bA(e){for(const r in e)delete e[r]}function HA(e){let r;for(r in e)return!1;return!r}const pK=class dK extends uK{constructor(r){super(),this.eventTarget_=r,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(r,t){if(!r||!t)return;const n=this.listeners_||(this.listeners_={}),o=n[r]||(n[r]=[]);o.includes(t)||o.push(t)}dispatchEvent(r){const t="string"==typeof r,n=t?r:r.type,o=this.listeners_&&this.listeners_[n];if(!o)return;const s=t?new MA(r):r;s.target||(s.target=this.eventTarget_||this);const i=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});let a;n in i||(i[n]=0,l[n]=0),++i[n];for(let c=0,h=o.length;c<h;++c)if(a="handleEvent"in o[c]?o[c].handleEvent(s):o[c].call(this,s),!1===a||s.propagationStopped){a=!1;break}if(0==--i[n]){let c=l[n];for(delete l[n];c--;)this.removeEventListener(n,yA);delete i[n]}return a}disposeInternal(){this.listeners_&&bA(this.listeners_)}getListeners(r){return this.listeners_&&this.listeners_[r]||void 0}hasListener(r){return!!this.listeners_&&(r?r in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(r,t){if(!this.listeners_)return;const n=this.listeners_[r];if(!n)return;const o=n.indexOf(t);-1!==o&&(this.pendingRemovals_&&r in this.pendingRemovals_?(n[o]=yA,++this.pendingRemovals_[r]):(n.splice(o,1),0===n.length&&delete this.listeners_[r]))}};function ju(e,r,t,n,o){if(n&&n!==e&&(t=t.bind(n)),o){const i=t;t=function(){e.removeEventListener(r,t),i.apply(this,arguments)}}const s={target:e,type:r,listener:t};return e.addEventListener(r,t),s}function VA(e,r,t,n){return ju(e,r,t,n,!0)}function r6(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),bA(e))}const vK=class n6 extends pK{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent("change")}getRevision(){return this.revision_}onInternal(r,t){if(Array.isArray(r)){const n=r.length,o=new Array(n);for(let s=0;s<n;++s)o[s]=ju(this,r[s],t);return o}return ju(this,r,t)}onceInternal(r,t){let n;if(Array.isArray(r)){const o=r.length;n=new Array(o);for(let s=0;s<o;++s)n[s]=VA(this,r[s],t)}else n=VA(this,r,t);return t.ol_key=n,n}unInternal(r,t){const n=t.ol_key;if(n)!function gK(e){if(Array.isArray(e))for(let r=0,t=e.length;r<t;++r)r6(e[r]);else r6(e)}(n);else if(Array.isArray(r))for(let o=0,s=r.length;o<s;++o)this.removeEventListener(r[o],t);else this.removeEventListener(r,t)}};function xn(){throw new Error("Unimplemented abstract method.")}let fK=0;class LA extends MA{constructor(r,t,n){super(r),this.key=t,this.oldValue=n}}const zA=class wK extends vK{constructor(r){super(),function mK(e){e.ol_uid||(e.ol_uid=String(++fK))}(this),this.values_=null,void 0!==r&&this.setProperties(r)}get(r){let t;return this.values_&&this.values_.hasOwnProperty(r)&&(t=this.values_[r]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(r,t){let n;n=`change:${r}`,this.hasListener(n)&&this.dispatchEvent(new LA(n,r,t)),n="propertychange",this.hasListener(n)&&this.dispatchEvent(new LA(n,r,t))}addChangeListener(r,t){this.addEventListener(`change:${r}`,t)}removeChangeListener(r,t){this.removeEventListener(`change:${r}`,t)}set(r,t,n){const o=this.values_||(this.values_={});if(n)o[r]=t;else{const s=o[r];o[r]=t,s!==t&&this.notify(r,s)}}setProperties(r,t){for(const n in r)this.set(n,r[n],t)}applyProperties(r){r.values_&&Object.assign(this.values_||(this.values_={}),r.values_)}unset(r,t){if(this.values_&&r in this.values_){const n=this.values_[r];delete this.values_[r],HA(this.values_)&&(this.values_=null),t||this.notify(r,n)}}};var CK=K(5940);class Zm extends zA{constructor(r){super(),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),r&&("function"==typeof r.getSimplifiedGeometry?this.setGeometry(r):this.setProperties(r))}clone(){const r=new Zm(this.hasProperties()?this.getProperties():null);r.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&r.setGeometry(t.clone());const n=this.getStyle();return n&&r.setStyle(n),r}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(r6(this.geometryChangeKey_),this.geometryChangeKey_=null);const r=this.getGeometry();r&&(this.geometryChangeKey_=ju(r,"change",this.handleGeometryChange_,this)),this.changed()}setGeometry(r){this.set(this.geometryName_,r)}setStyle(r){this.style_=r,this.styleFunction_=r?function kK(e){if("function"==typeof e)return e;let r;return Array.isArray(e)?r=e:((0,CK.v)("function"==typeof e.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),r=[e]),function(){return r}}(r):void 0,this.changed()}setId(r){this.id_=r,this.changed()}setGeometryName(r){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=r,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const Gm=Zm;function Ym(e,r,t,n,o,s,i,l){const a=Math.sin(s),c=Math.cos(s);return e[0]=n*c,e[1]=o*a,e[2]=-n*a,e[3]=o*c,e[4]=i*n*c-l*n*a+r,e[5]=i*o*a+l*o*c+t,e}new Array(6);var wn=K(3467),Un=K(6016);function IA(e,r,t,n,o,s){s=s||[];let i=0;for(let l=r;l<t;l+=n){const a=e[l],c=e[l+1];s[i++]=o[0]*a+o[2]*c+o[4],s[i++]=o[1]*a+o[3]*c+o[5]}return s&&s.length!=i&&(s.length=i),s}const SA=[1,0,0,1,0,0],Xm=class VK extends zA{constructor(){super(),this.extent_=(0,wn.S5)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=xA((r,t,n)=>{if(!n)return this.getSimplifiedGeometry(t);const o=this.clone();return o.applyTransform(n),o.getSimplifiedGeometry(t)})}simplifyTransformed(r,t){return this.simplifyTransformedInternal(this.getRevision(),r,t)}clone(){return xn()}closestPointXY(r,t,n,o){return xn()}containsXY(r,t){const n=this.getClosestPoint([r,t]);return n[0]===r&&n[1]===t}getClosestPoint(r,t){return this.closestPointXY(r[0],r[1],t=t||[NaN,NaN],1/0),t}intersectsCoordinate(r){return this.containsXY(r[0],r[1])}computeExtent(r){return xn()}getExtent(r){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&(0,wn.aZ)(t),this.extentRevision_=this.getRevision()}return(0,wn.$u)(this.extent_,r)}rotate(r,t){xn()}scale(r,t,n){xn()}simplify(r){return this.getSimplifiedGeometry(r*r)}getSimplifiedGeometry(r){return xn()}getType(){return xn()}applyTransform(r){xn()}intersectsExtent(r){return xn()}translate(r,t){xn()}transform(r,t){const n=(0,Un.Jt)(r),o="tile-pixels"==n.getUnits()?function(s,i,l){const a=n.getExtent(),c=n.getWorldExtent(),h=(0,wn.Oq)(c)/(0,wn.Oq)(a);return Ym(SA,c[0],c[3],h,-h,0,0,0),IA(s,0,s.length,l,SA,i),(0,Un.RG)(n,t)(s,i,l)}:(0,Un.RG)(n,t);return this.applyTransform(o),this}};function qc(e){let r;return 2==e?r="XY":3==e?r="XYZ":4==e&&(r="XYZM"),r}function BA(e){let r;return"XY"==e?r=2:"XYZ"==e||"XYM"==e?r=3:"XYZM"==e&&(r=4),r}const Jc=class LK extends Xm{constructor(){super(),this.layout="XY",this.stride=2}computeExtent(r){return(0,wn.Vy)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,r)}getCoordinates(){return xn()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(r){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),r<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&r<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(r);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=r,this)}getSimplifiedGeometryInternal(r){return this}getStride(){return this.stride}setFlatCoordinates(r,t){this.stride=BA(r),this.layout=r,this.flatCoordinates=t}setCoordinates(r,t){xn()}setLayout(r,t,n){let o;if(r)o=BA(r);else{for(let s=0;s<n;++s){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}o=t.length,r=qc(o)}this.layout=r,this.stride=o}applyTransform(r){this.flatCoordinates&&(r(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(r,t){const n=this.getFlatCoordinates();if(n){const o=this.getStride();(function xK(e,r,t,n,o,s,i){i=i||[];const l=Math.cos(o),a=Math.sin(o),c=s[0],h=s[1];let u=0;for(let d=r;d<t;d+=n){const p=e[d]-c,f=e[d+1]-h;i[u++]=c+p*l-f*a,i[u++]=h+p*a+f*l;for(let y=d+2;y<d+n;++y)i[u++]=e[y]}i&&i.length!=u&&(i.length=u)})(n,0,n.length,o,r,t,n),this.changed()}}scale(r,t,n){void 0===t&&(t=r),n||(n=(0,wn.q1)(this.getExtent()));const o=this.getFlatCoordinates();if(o){const s=this.getStride();(function bK(e,r,t,n,o,s,i,l){l=l||[];const a=i[0],c=i[1];let h=0;for(let u=r;u<t;u+=n){const p=e[u+1]-c;l[h++]=a+o*(e[u]-a),l[h++]=c+s*p;for(let f=u+2;f<u+n;++f)l[h++]=e[f]}l&&l.length!=h&&(l.length=h)})(o,0,o.length,s,r,t,n,o),this.changed()}}translate(r,t){const n=this.getFlatCoordinates();if(n){const o=this.getStride();(function HK(e,r,t,n,o,s,i){i=i||[];let l=0;for(let a=r;a<t;a+=n){i[l++]=e[a]+o,i[l++]=e[a+1]+s;for(let c=a+2;c<a+n;++c)i[l++]=e[c]}i&&i.length!=l&&(i.length=l)})(n,0,n.length,o,r,t,n),this.changed()}}};var hl=K(9973);function DA(e,r,t,n,o,s,i){const l=e[r],a=e[r+1],c=e[t]-l,h=e[t+1]-a;let u;if(0===c&&0===h)u=r;else{const d=((o-l)*c+(s-a)*h)/(c*c+h*h);if(d>1)u=t;else{if(d>0){for(let p=0;p<n;++p)i[p]=(0,hl.Cc)(e[r+p],e[t+p],d);return void(i.length=n)}u=r}}for(let d=0;d<n;++d)i[d]=e[u+d];i.length=n}function Km(e,r,t,n,o){let s=e[r],i=e[r+1];for(r+=n;r<t;r+=n){const l=e[r],a=e[r+1],c=(0,hl.hG)(s,i,l,a);c>o&&(o=c),s=l,i=a}return o}function qm(e,r,t,n,o){for(let s=0,i=t.length;s<i;++s){const l=t[s];o=Km(e,r,l,n,o),r=l}return o}function Jm(e,r,t,n,o,s,i,l,a,c,h){if(r==t)return c;let u,d;if(0===o){if(d=(0,hl.hG)(i,l,e[r],e[r+1]),d<c){for(u=0;u<n;++u)a[u]=e[r+u];return a.length=n,d}return c}h=h||[NaN,NaN];let p=r+n;for(;p<t;)if(DA(e,p-n,p,n,i,l,h),d=(0,hl.hG)(i,l,h[0],h[1]),d<c){for(c=d,u=0;u<n;++u)a[u]=h[u];a.length=n,p+=n}else p+=n*Math.max((Math.sqrt(d)-Math.sqrt(c))/o|0,1);if(s&&(DA(e,t-n,r,n,i,l,h),d=(0,hl.hG)(i,l,h[0],h[1]),d<c)){for(c=d,u=0;u<n;++u)a[u]=h[u];a.length=n}return c}function Qm(e,r,t,n,o,s,i,l,a,c,h){h=h||[NaN,NaN];for(let u=0,d=t.length;u<d;++u){const p=t[u];c=Jm(e,r,p,n,o,s,i,l,a,c,h),r=p}return c}function o6(e,r,t,n){for(let o=0,s=t.length;o<s;++o){const i=t[o];for(let l=0;l<n;++l)e[r++]=i[l]}return r}function Nu(e,r,t,n,o){o=o||[];let s=0;for(let i=0,l=t.length;i<l;++i){const a=o6(e,r,t[i],n);o[s++]=a,r=a}return o.length=s,o}function EA(e,r,t,n,o){o=o||[];let s=0;for(let i=0,l=t.length;i<l;++i){const a=Nu(e,r,t[i],n,o[s]);0===a.length&&(a[0]=r),o[s++]=a,r=a[a.length-1]}return o.length=s,o}function Ou(e,r,t,n,o,s,i){const l=(t-r)/n;if(l<3){for(;r<t;r+=n)s[i++]=e[r],s[i++]=e[r+1];return i}const a=new Array(l);a[0]=1,a[l-1]=1;const c=[r,t-n];let h=0;for(;c.length>0;){const u=c.pop(),d=c.pop();let p=0;const f=e[d],y=e[d+1],V=e[u],L=e[u+1];for(let R=d+n;R<u;R+=n){const yt=(0,hl.Q1)(e[R],e[R+1],f,y,V,L);yt>p&&(h=R,p=yt)}p>o&&(a[(h-r)/n]=1,d+n<h&&c.push(d,h),h+n<u&&c.push(h,u))}for(let u=0;u<l;++u)a[u]&&(s[i++]=e[r+u*n],s[i++]=e[r+u*n+1]);return i}function tw(e,r,t,n,o,s,i,l){for(let a=0,c=t.length;a<c;++a){const h=t[a];i=Ou(e,r,h,n,o,s,i),l.push(i),r=h}return i}function ih(e,r){return r*Math.round(e/r)}function BK(e,r,t,n,o,s,i){if(r==t)return i;let c,h,l=ih(e[r],o),a=ih(e[r+1],o);r+=n,s[i++]=l,s[i++]=a;do{if(c=ih(e[r],o),h=ih(e[r+1],o),(r+=n)==t)return s[i++]=c,s[i++]=h,i}while(c==l&&h==a);for(;r<t;){const u=ih(e[r],o),d=ih(e[r+1],o);if(r+=n,u==c&&d==h)continue;const p=c-l,f=h-a,y=u-l,V=d-a;p*V==f*y&&(p<0&&y<p||p==y||p>0&&y>p)&&(f<0&&V<f||f==V||f>0&&V>f)?(c=u,h=d):(s[i++]=c,s[i++]=h,l=c,a=h,c=u,h=d)}return s[i++]=c,s[i++]=h,i}function ew(e,r,t,n,o,s,i,l){for(let a=0,c=t.length;a<c;++a){const h=t[a];i=BK(e,r,h,n,o,s,i),l.push(i),r=h}return i}var EK=K(3846);function s6(e,r,t,n,o){o=void 0!==o?o:[];let s=0;for(let i=r;i<t;i+=n)o[s++]=e.slice(i,i+n);return o.length=s,o}function rw(e,r,t,n,o){o=void 0!==o?o:[];let s=0;for(let i=0,l=t.length;i<l;++i){const a=t[i];o[s++]=s6(e,r,a,n,o[s]),r=a}return o.length=s,o}function l6(e,r,t,n,o,s,i){let l,a;const c=(t-r)/n;if(1===c)l=r;else if(2===c)l=r,a=o;else if(0!==c){let h=e[r],u=e[r+1],d=0;const p=[0];for(let V=r+n;V<t;V+=n){const L=e[V],R=e[V+1];d+=Math.sqrt((L-h)*(L-h)+(R-u)*(R-u)),p.push(d),h=L,u=R}const f=o*d,y=(0,C2.El)(p,f);y<0?(a=(f-p[-y-2])/(p[-y-1]-p[-y-2]),l=r+(-y-2)*n):l=r+y*n}i=i>1?i:2,s=s||new Array(i);for(let h=0;h<i;++h)s[h]=void 0===l?NaN:void 0===a?e[l+h]:(0,hl.Cc)(e[l+h],e[l+n+h],a);return s}function nw(e,r,t,n,o,s){if(t==r)return null;let i;if(o<e[r+n-1])return s?(i=e.slice(r,r+n),i[n-1]=o,i):null;if(e[t-1]<o)return s?(i=e.slice(t-n,t),i[n-1]=o,i):null;if(o==e[r+n-1])return e.slice(r,r+n);let l=r/n,a=t/n;for(;l<a;){const d=l+a>>1;o<e[(d+1)*n-1]?a=d:l=d+1}const c=e[l*n-1];if(o==c)return e.slice((l-1)*n,(l-1)*n+n);const u=(o-c)/(e[(l+1)*n-1]-c);i=[];for(let d=0;d<n-1;++d)i.push((0,hl.Cc)(e[(l-1)*n+d],e[l*n+d],u));return i.push(o),i}var a6=K(9542);class c6 extends Jc{constructor(r,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(r[0])?this.setCoordinates(r,t):this.setFlatCoordinates(t,r)}appendCoordinate(r){(0,C2.X$)(this.flatCoordinates,r),this.changed()}clone(){const r=new c6(this.flatCoordinates.slice(),this.layout);return r.applyProperties(this),r}closestPointXY(r,t,n,o){return o<(0,wn.Ld)(this.getExtent(),r,t)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Km(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Jm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,r,t,n,o))}forEachSegment(r){return(0,EK.j)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,r)}getCoordinateAtM(r,t){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:nw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,r,t=void 0!==t&&t)}getCoordinates(){return s6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(r,t){return l6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,r,t,this.stride)}getLength(){return function TA(e,r,t,n){let o=e[r],s=e[r+1],i=0;for(let l=r+n;l<t;l+=n){const a=e[l],c=e[l+1];i+=Math.sqrt((a-o)*(a-o)+(c-s)*(c-s)),o=a,s=c}return i}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(r){const t=[];return t.length=Ou(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,r,t,0),new c6(t,"XY")}getType(){return"LineString"}intersectsExtent(r){return(0,a6.gp)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,r)}setCoordinates(r,t){this.setLayout(t,r,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=o6(this.flatCoordinates,0,r,this.stride),this.changed()}}const Zu=c6;function RA(e,r,t,n){let o=0,s=e[t-n],i=e[t-n+1];for(;r<t;r+=n){const l=e[r],a=e[r+1];o+=i*l-s*a,s=l,i=a}return o/2}function FA(e,r,t,n){let o=0;for(let s=0,i=t.length;s<i;++s){const l=t[s];o+=RA(e,r,l,n),r=l}return o}class h6 extends Jc{constructor(r,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(r[0])?this.setCoordinates(r,t):this.setFlatCoordinates(t,r)}clone(){return new h6(this.flatCoordinates.slice(),this.layout)}closestPointXY(r,t,n,o){return o<(0,wn.Ld)(this.getExtent(),r,t)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Km(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Jm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,r,t,n,o))}getArea(){return RA(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return s6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(r){const t=[];return t.length=Ou(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,r,t,0),new h6(t,"XY")}getType(){return"LinearRing"}intersectsExtent(r){return!1}setCoordinates(r,t){this.setLayout(t,r,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=o6(this.flatCoordinates,0,r,this.stride),this.changed()}}const ow=h6;class u6 extends Jc{constructor(r,t,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(r[0]))this.setCoordinates(r,t);else if(void 0!==t&&n)this.setFlatCoordinates(t,r),this.ends_=n;else{const o=r,s=[],i=[];for(let a=0,c=o.length;a<c;++a)(0,C2.X$)(s,o[a].getFlatCoordinates()),i.push(s.length);const l=0===o.length?this.getLayout():o[0].getLayout();this.setFlatCoordinates(l,s),this.ends_=i}}appendLineString(r){(0,C2.X$)(this.flatCoordinates,r.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const r=new u6(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return r.applyProperties(this),r}closestPointXY(r,t,n,o){return o<(0,wn.Ld)(this.getExtent(),r,t)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(qm(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Qm(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,r,t,n,o))}getCoordinateAtM(r,t,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:function RK(e,r,t,n,o,s,i){if(i)return nw(e,r,t[t.length-1],n,o,s);let l;if(o<e[n-1])return s?(l=e.slice(0,n),l[n-1]=o,l):null;if(e[e.length-1]<o)return s?(l=e.slice(e.length-n),l[n-1]=o,l):null;for(let a=0,c=t.length;a<c;++a){const h=t[a];if(r!=h){if(o<e[r+n-1])return null;if(o<=e[h-1])return nw(e,r,h,n,o,!1);r=h}}return null}(this.flatCoordinates,0,this.ends_,this.stride,r,t=void 0!==t&&t,n=void 0!==n&&n)}getCoordinates(){return rw(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(r){return r<0||this.ends_.length<=r?null:new Zu(this.flatCoordinates.slice(0===r?0:this.ends_[r-1],this.ends_[r]),this.layout)}getLineStrings(){const r=this.flatCoordinates,t=this.ends_,n=this.layout,o=[];let s=0;for(let i=0,l=t.length;i<l;++i){const a=t[i],c=new Zu(r.slice(s,a),n);o.push(c),s=a}return o}getFlatMidpoints(){const r=[],t=this.flatCoordinates;let n=0;const o=this.ends_,s=this.stride;for(let i=0,l=o.length;i<l;++i){const a=o[i],c=l6(t,n,a,s,.5);(0,C2.X$)(r,c),n=a}return r}getSimplifiedGeometryInternal(r){const t=[],n=[];return t.length=tw(this.flatCoordinates,0,this.ends_,this.stride,r,t,0,n),new u6(t,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(r){return(0,a6.fB)(this.flatCoordinates,0,this.ends_,this.stride,r)}setCoordinates(r,t){this.setLayout(t,r,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=Nu(this.flatCoordinates,0,r,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const sw=u6;class iw extends Jc{constructor(r,t){super(),this.setCoordinates(r,t)}clone(){const r=new iw(this.flatCoordinates.slice(),this.layout);return r.applyProperties(this),r}closestPointXY(r,t,n,o){const s=this.flatCoordinates,i=(0,hl.hG)(r,t,s[0],s[1]);if(i<o){const l=this.stride;for(let a=0;a<l;++a)n[a]=s[a];return n.length=l,i}return o}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(r){return(0,wn.dP)(this.flatCoordinates,r)}getType(){return"Point"}intersectsExtent(r){return(0,wn.Rj)(r,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(r,t){this.setLayout(t,r,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function IK(e,r,t){for(let o=0,s=t.length;o<s;++o)e[r++]=t[o];return r}(this.flatCoordinates,0,r),this.changed()}}const Gu=iw;class lw extends Jc{constructor(r,t){super(),t&&!Array.isArray(r[0])?this.setFlatCoordinates(t,r):this.setCoordinates(r,t)}appendPoint(r){(0,C2.X$)(this.flatCoordinates,r.getFlatCoordinates()),this.changed()}clone(){const r=new lw(this.flatCoordinates.slice(),this.layout);return r.applyProperties(this),r}closestPointXY(r,t,n,o){if(o<(0,wn.Ld)(this.getExtent(),r,t))return o;const s=this.flatCoordinates,i=this.stride;for(let l=0,a=s.length;l<a;l+=i){const c=(0,hl.hG)(r,t,s[l],s[l+1]);if(c<o){o=c;for(let h=0;h<i;++h)n[h]=s[l+h];n.length=i}}return o}getCoordinates(){return s6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(r){return r<0||this.flatCoordinates.length/this.stride<=r?null:new Gu(this.flatCoordinates.slice(r*this.stride,(r+1)*this.stride),this.layout)}getPoints(){const r=this.flatCoordinates,t=this.layout,n=this.stride,o=[];for(let s=0,i=r.length;s<i;s+=n){const l=new Gu(r.slice(s,s+n),t);o.push(l)}return o}getType(){return"MultiPoint"}intersectsExtent(r){const t=this.flatCoordinates,n=this.stride;for(let o=0,s=t.length;o<s;o+=n)if((0,wn.Rj)(r,t[o],t[o+1]))return!0;return!1}setCoordinates(r,t){this.setLayout(t,r,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=o6(this.flatCoordinates,0,r,this.stride),this.changed()}}const aw=lw;var cw=K(9749);function hw(e,r,t,n,o,s,i){let l,a,c,h,u,d,p;const f=o[s+1],y=[];for(let R=0,mt=t.length;R<mt;++R){const Ct=t[R];for(h=e[Ct-n],d=e[Ct-n+1],l=r;l<Ct;l+=n)u=e[l],p=e[l+1],(f<=d&&p<=f||d<=f&&f<=p)&&(c=(f-d)/(p-d)*(u-h)+h,y.push(c)),h=u,d=p}let V=NaN,L=-1/0;for(y.sort(C2.V_),h=y[0],l=1,a=y.length;l<a;++l){u=y[l];const R=Math.abs(u-h);R>L&&(c=(h+u)/2,(0,cw.zb)(e,r,t,n,c,f)&&(V=c,L=R)),h=u}return isNaN(V)&&(V=o[s]),i?(i.push(V,f,L),i):[V,f,L]}function jA(e,r,t,n,o){let s=[];for(let i=0,l=t.length;i<l;++i){const a=t[i];s=hw(e,r,a,n,o,2*i,s),r=a[a.length-1]}return s}function jK(e,r,t,n){for(;r<t-n;){for(let o=0;o<n;++o){const s=e[r+o];e[r+o]=e[t-n+o],e[t-n+o]=s}r+=n,t-=n}}function uw(e,r,t,n){let o=0,s=e[t-n],i=e[t-n+1];for(;r<t;r+=n){const l=e[r],a=e[r+1];o+=(l-s)*(a+i),s=l,i=a}return 0===o?void 0:o>0}function dw(e,r,t,n,o){o=void 0!==o&&o;for(let s=0,i=t.length;s<i;++s){const l=t[s],a=uw(e,r,l,n);if(0===s){if(o&&a||!o&&!a)return!1}else if(o&&!a||!o&&a)return!1;r=l}return!0}function PA(e,r,t,n,o){for(let s=0,i=t.length;s<i;++s){const l=t[s];if(!dw(e,r,l,n,o))return!1;l.length&&(r=l[l.length-1])}return!0}function d6(e,r,t,n,o){o=void 0!==o&&o;for(let s=0,i=t.length;s<i;++s){const l=t[s],a=uw(e,r,l,n);(0===s?o&&a||!o&&!a:o&&!a||!o&&a)&&jK(e,r,l,n),r=l}return r}function pw(e,r,t,n,o){for(let s=0,i=t.length;s<i;++s)r=d6(e,r,t[s],n,o);return r}class Qc extends Jc{constructor(r,t,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==t&&n?(this.setFlatCoordinates(t,r),this.ends_=n):this.setCoordinates(r,t)}appendLinearRing(r){this.flatCoordinates?(0,C2.X$)(this.flatCoordinates,r.getFlatCoordinates()):this.flatCoordinates=r.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const r=new Qc(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return r.applyProperties(this),r}closestPointXY(r,t,n,o){return o<(0,wn.Ld)(this.getExtent(),r,t)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(qm(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Qm(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,r,t,n,o))}containsXY(r,t){return(0,cw.zb)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,r,t)}getArea(){return FA(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(r){let t;return void 0!==r?(t=this.getOrientedFlatCoordinates().slice(),d6(t,0,this.ends_,this.stride,r)):t=this.flatCoordinates,rw(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const r=(0,wn.q1)(this.getExtent());this.flatInteriorPoint_=hw(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,r,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Gu(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(r){return r<0||this.ends_.length<=r?null:new ow(this.flatCoordinates.slice(0===r?0:this.ends_[r-1],this.ends_[r]),this.layout)}getLinearRings(){const r=this.layout,t=this.flatCoordinates,n=this.ends_,o=[];let s=0;for(let i=0,l=n.length;i<l;++i){const a=n[i],c=new ow(t.slice(s,a),r);o.push(c),s=a}return o}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const r=this.flatCoordinates;dw(r,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=r:(this.orientedFlatCoordinates_=r.slice(),this.orientedFlatCoordinates_.length=d6(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(r){const t=[],n=[];return t.length=ew(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(r),t,0,n),new Qc(t,"XY",n)}getType(){return"Polygon"}intersectsExtent(r){return(0,a6.HT)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,r)}setCoordinates(r,t){this.setLayout(t,r,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=Nu(this.flatCoordinates,0,r,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const Wu=Qc;function NA(e,r,t,n){const o=[];let s=(0,wn.S5)();for(let i=0,l=t.length;i<l;++i){const a=t[i];s=(0,wn.Vy)(e,r,a[0],n),o.push((s[0]+s[2])/2,(s[1]+s[3])/2),r=a[a.length-1]}return o}class p6 extends Jc{constructor(r,t,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(r[0])){const o=r,s=[],i=[];for(let l=0,a=o.length;l<a;++l){const c=o[l],h=s.length,u=c.getEnds();for(let d=0,p=u.length;d<p;++d)u[d]+=h;(0,C2.X$)(s,c.getFlatCoordinates()),i.push(u)}t=0===o.length?this.getLayout():o[0].getLayout(),r=s,n=i}void 0!==t&&n?(this.setFlatCoordinates(t,r),this.endss_=n):this.setCoordinates(r,t)}appendPolygon(r){let t;if(this.flatCoordinates){const n=this.flatCoordinates.length;(0,C2.X$)(this.flatCoordinates,r.getFlatCoordinates()),t=r.getEnds().slice();for(let o=0,s=t.length;o<s;++o)t[o]+=n}else this.flatCoordinates=r.getFlatCoordinates().slice(),t=r.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}clone(){const r=this.endss_.length,t=new Array(r);for(let o=0;o<r;++o)t[o]=this.endss_[o].slice();const n=new p6(this.flatCoordinates.slice(),this.layout,t);return n.applyProperties(this),n}closestPointXY(r,t,n,o){return o<(0,wn.Ld)(this.getExtent(),r,t)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function zK(e,r,t,n,o){for(let s=0,i=t.length;s<i;++s){const l=t[s];o=qm(e,r,l,n,o),r=l[l.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function AK(e,r,t,n,o,s,i,l,a,c,h){h=h||[NaN,NaN];for(let u=0,d=t.length;u<d;++u){const p=t[u];c=Qm(e,r,p,n,o,s,i,l,a,c,h),r=p[p.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,r,t,n,o))}containsXY(r,t){return(0,cw.Gd)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,r,t)}getArea(){return function FK(e,r,t,n){let o=0;for(let s=0,i=t.length;s<i;++s){const l=t[s];o+=FA(e,r,l,n),r=l[l.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(r){let t;return void 0!==r?(t=this.getOrientedFlatCoordinates().slice(),pw(t,0,this.endss_,this.stride,r)):t=this.flatCoordinates,function TK(e,r,t,n,o){o=void 0!==o?o:[];let s=0;for(let i=0,l=t.length;i<l;++i){const a=t[i];o[s++]=1===a.length&&a[0]===r?[]:rw(e,r,a,n,o[s]),r=a[a.length-1]}return o.length=s,o}(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const r=NA(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=jA(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,r),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new aw(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const r=this.flatCoordinates;PA(r,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=r:(this.orientedFlatCoordinates_=r.slice(),this.orientedFlatCoordinates_.length=pw(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(r){const t=[],n=[];return t.length=function DK(e,r,t,n,o,s,i,l){for(let a=0,c=t.length;a<c;++a){const h=t[a],u=[];i=ew(e,r,h,n,o,s,i,u),l.push(u),r=h[h.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(r),t,0,n),new p6(t,"XY",n)}getPolygon(r){if(r<0||this.endss_.length<=r)return null;let t;if(0===r)t=0;else{const s=this.endss_[r-1];t=s[s.length-1]}const n=this.endss_[r].slice(),o=n[n.length-1];if(0!==t)for(let s=0,i=n.length;s<i;++s)n[s]-=t;return new Wu(this.flatCoordinates.slice(t,o),this.layout,n)}getPolygons(){const r=this.layout,t=this.flatCoordinates,n=this.endss_,o=[];let s=0;for(let i=0,l=n.length;i<l;++i){const a=n[i].slice(),c=a[a.length-1];if(0!==s)for(let u=0,d=a.length;u<d;++u)a[u]-=s;const h=new Wu(t.slice(s,c),r,a);o.push(h),s=c}return o}getType(){return"MultiPolygon"}intersectsExtent(r){return(0,a6.Wp)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,r)}setCoordinates(r,t){this.setLayout(t,r,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=EA(this.flatCoordinates,0,r,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const o=n[n.length-1];this.flatCoordinates.length=0===o.length?0:o[o.length-1]}this.changed()}}const gw=p6,OA=[1,0,0,1,0,0];class lh{constructor(r,t,n,o,s,i){this.id_=i,this.type_=r,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=s,this.stride_=o}get(r){return this.properties_[r]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,wn.dP)(this.flatCoordinates_):(0,wn.Vy)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const r=(0,wn.q1)(this.getExtent());this.flatInteriorPoints_=hw(this.flatCoordinates_,0,this.ends_,2,r,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const r=function PK(e,r){const t=[];let s,n=0,o=0;for(let i=0,l=r.length;i<l;++i){const a=r[i],c=uw(e,n,a,2);if(void 0===s&&(s=c),c===s)t.push(r.slice(o,i+1));else{if(0===t.length)continue;t[t.length-1].push(r[o])}o=i+1,n=a}return t}(this.flatCoordinates_,this.ends_),t=NA(this.flatCoordinates_,0,r,2);this.flatInteriorPoints_=jA(this.flatCoordinates_,0,r,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=l6(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const r=this.flatCoordinates_;let t=0;const n=this.ends_;for(let o=0,s=n.length;o<s;++o){const i=n[o],l=l6(r,t,i,2,.5);(0,C2.X$)(this.flatMidpoints_,l),t=i}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(r){return this}simplifyTransformed(r,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(r){const t=(r=(0,Un.Jt)(r)).getExtent(),n=r.getWorldExtent();if(t&&n){const o=(0,wn.Oq)(n)/(0,wn.Oq)(t);Ym(OA,n[0],n[3],o,-o,0,0,0),IA(this.flatCoordinates_,0,this.flatCoordinates_.length,2,OA,this.flatCoordinates_)}}applyTransform(r){r(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new lh(this.type_,this.flatCoordinates_.slice(),this.ends_.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=xA((r,t)=>{if(r===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const n=this.simplifiedGeometry_.getFlatCoordinates();let o;switch(this.type_){case"LineString":n.length=Ou(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,r,n,0),o=[n.length];break;case"MultiLineString":o=[],n.length=tw(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,r,n,0,o);break;case"Polygon":o=[],n.length=ew(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(r),n,0,o)}return o&&(this.simplifiedGeometry_=new lh(this.type_,n,o,2,this.properties_,this.id_)),this.squaredTolerance_=r,this.simplifiedGeometry_}),this}}lh.prototype.getFlatCoordinates=lh.prototype.getOrientedFlatCoordinates;const ZA=lh;class g6 extends Xm{constructor(r){super(),this.geometries_=r||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(r6),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let r=0,t=this.geometries_.length;r<t;++r)this.changeEventsKeys_.push(ju(this.geometries_[r],"change",this.changed,this))}clone(){const r=new g6(null);return r.setGeometries(this.geometries_),r.applyProperties(this),r}closestPointXY(r,t,n,o){if(o<(0,wn.Ld)(this.getExtent(),r,t))return o;const s=this.geometries_;for(let i=0,l=s.length;i<l;++i)o=s[i].closestPointXY(r,t,n,o);return o}containsXY(r,t){const n=this.geometries_;for(let o=0,s=n.length;o<s;++o)if(n[o].containsXY(r,t))return!0;return!1}computeExtent(r){(0,wn.aZ)(r);const t=this.geometries_;for(let n=0,o=t.length;n<o;++n)(0,wn.X$)(r,t[n].getExtent());return r}getGeometries(){return GA(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let r=[];const t=this.geometries_;for(let n=0,o=t.length;n<o;++n)t[n].getType()===this.getType()?r=r.concat(t[n].getGeometriesArrayRecursive()):r.push(t[n]);return r}getSimplifiedGeometry(r){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),r<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&r<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],n=this.geometries_;let o=!1;for(let s=0,i=n.length;s<i;++s){const l=n[s],a=l.getSimplifiedGeometry(r);t.push(a),a!==l&&(o=!0)}if(o){const s=new g6(null);return s.setGeometriesArray(t),s}return this.simplifiedGeometryMaxMinSquaredTolerance=r,this}getType(){return"GeometryCollection"}intersectsExtent(r){const t=this.geometries_;for(let n=0,o=t.length;n<o;++n)if(t[n].intersectsExtent(r))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(r,t){const n=this.geometries_;for(let o=0,s=n.length;o<s;++o)n[o].rotate(r,t);this.changed()}scale(r,t,n){n||(n=(0,wn.q1)(this.getExtent()));const o=this.geometries_;for(let s=0,i=o.length;s<i;++s)o[s].scale(r,t,n);this.changed()}setGeometries(r){this.setGeometriesArray(GA(r))}setGeometriesArray(r){this.unlistenGeometriesChange_(),this.geometries_=r,this.listenGeometriesChange_(),this.changed()}applyTransform(r){const t=this.geometries_;for(let n=0,o=t.length;n<o;++n)t[n].applyTransform(r);this.changed()}translate(r,t){const n=this.geometries_;for(let o=0,s=n.length;o<s;++o)n[o].translate(r,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function GA(e){const r=[];for(let t=0,n=e.length;t<n;++t)r.push(e[t].clone());return r}const ZK=g6,WA=class GK{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Gm,this.supportedMediaTypes=null}getReadOptions(r,t){if(t){let n=t.dataProjection?(0,Un.Jt)(t.dataProjection):this.readProjection(r);t.extent&&n&&"tile-pixels"===n.getUnits()&&(n=(0,Un.Jt)(n),n.setWorldExtent(t.extent)),t={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(r){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},r)}getType(){return xn()}readFeature(r,t){return xn()}readFeatures(r,t){return xn()}readGeometry(r,t){return xn()}readProjection(r){return xn()}writeFeature(r,t){return xn()}writeFeatures(r,t){return xn()}writeGeometry(r,t){return xn()}};function ah(e,r,t){const n=t?(0,Un.Jt)(t.featureProjection):null,o=t?(0,Un.Jt)(t.dataProjection):null;let s=e;if(n&&o&&!(0,Un.tI)(n,o)){r&&(s=e.clone());const i=r?n:o,l=r?o:n;"tile-pixels"===i.getUnits()?s.transform(i,l):s.applyTransform((0,Un.RG)(i,l))}if(r&&t&&void 0!==t.decimals){const i=Math.pow(10,t.decimals),l=function(a){for(let c=0,h=a.length;c<h;++c)a[c]=Math.round(a[c]*i)/i;return a};s===e&&(s=e.clone()),s.applyTransform(l)}return s}function vw(e,r){const t=r?(0,Un.Jt)(r.featureProjection):null,n=r?(0,Un.Jt)(r.dataProjection):null;return t&&n&&!(0,Un.tI)(t,n)?(0,Un.DI)(e,n,t):e}const WK={Point:Gu,LineString:Zu,Polygon:Wu,MultiPoint:aw,MultiLineString:sw,MultiPolygon:gw};function UA(e,r){const t=e.geometry;if(!t)return[];if(Array.isArray(t))return t.map(s=>UA({...e,geometry:s})).flat();const n="MultiPolygon"===t.type?"Polygon":t.type;if("GeometryCollection"===n||"Circle"===n)throw new Error("Unsupported geometry type: "+n);const o=t.layout.length;return ah(new ZA(n,"Polygon"===n?function UK(e,r,t){return Array.isArray(r[0])?(PA(e,0,r,t)||pw(e=e.slice(),0,r,t),e):(dw(e,0,r,t)||d6(e=e.slice(),0,r,t),e)}(t.flatCoordinates,t.ends,o):t.flatCoordinates,t.ends?.flat(),o,e.properties||{},e.id).enableSimplifyTransformed(),!1,r)}function fw(e,r){if(!e)return null;if(Array.isArray(e)){const n=e.map(o=>fw(o,r));return new ZK(n)}return ah(new(0,WK[e.type])(e.flatCoordinates,e.layout,e.ends),!1,r)}function $n(e,r){return qA().createElementNS(e,r)}function v6(e,r){return $A(e,r,[]).join("")}function $A(e,r,t){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)t.push(r?String(e.nodeValue).replace(/(\r\n|\r|\n)/g,""):e.nodeValue);else{let n;for(n=e.firstChild;n;n=n.nextSibling)$A(n,r,t)}return t}function f6(e){return"documentElement"in e}function Uu(e){return(new DOMParser).parseFromString(e,"application/xml")}function YA(e,r){return function(t,n){const o=e.call(void 0!==r?r:this,t,n);void 0!==o&&(0,C2.X$)(n[n.length-1],o)}}function cr(e,r){return function(t,n){const o=e.call(void 0!==r?r:this,t,n);void 0!==o&&n[n.length-1].push(o)}}function j1(e,r){return function(t,n){const o=e.call(void 0!==r?r:this,t,n);void 0!==o&&(n[n.length-1]=o)}}function u1(e,r){return function(t,n,o){e.call(void 0!==r?r:this,t,n,o),o[o.length-1].node.appendChild(t)}}function t0(e,r){return function(t,n,o){let l=e;return void 0===l&&(l=o),$n(void 0!==r?r:n[n.length-1].node.namespaceURI,l)}}const XA=t0();function ch(e,r,t,n){let o;for(o=r.firstElementChild;o;o=o.nextElementSibling){const s=e[o.namespaceURI];if(void 0!==s){const i=s[o.localName];void 0!==i&&i.call(n,o,t)}}}function Yn(e,r,t,n,o){return n.push(e),ch(r,t,n,o),n.pop()}function J2(e,r,t,n,o,s,i){return o.push(e),function KA(e,r,t,n,o,s){const i=(void 0!==o?o:t).length;let l,a;for(let c=0;c<i;++c)l=t[c],void 0!==l&&(a=r.call(void 0!==s?s:this,l,n,void 0!==o?o[c]:void 0),void 0!==a&&e[a.namespaceURI][a.localName].call(s,a,l,n))}(r,t,n,o,s,i),o.pop()}let m6,w6;function qA(){return void 0===w6&&typeof document<"u"&&(w6=document.implementation.createDocument("","",null)),w6}const qK=class KK extends WA{constructor(){super(),this.xmlSerializer_=function XK(){return void 0===m6&&typeof XMLSerializer<"u"&&(m6=new XMLSerializer),m6}()}getType(){return"xml"}readFeature(r,t){if(!r)return null;if("string"==typeof r){const n=Uu(r);return this.readFeatureFromDocument(n,t)}return f6(r)?this.readFeatureFromDocument(r,t):this.readFeatureFromNode(r,t)}readFeatureFromDocument(r,t){const n=this.readFeaturesFromDocument(r,t);return n.length>0?n[0]:null}readFeatureFromNode(r,t){return null}readFeatures(r,t){if(!r)return[];if("string"==typeof r){const n=Uu(r);return this.readFeaturesFromDocument(n,t)}return f6(r)?this.readFeaturesFromDocument(r,t):this.readFeaturesFromNode(r,t)}readFeaturesFromDocument(r,t){const n=[];for(let o=r.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&(0,C2.X$)(n,this.readFeaturesFromNode(o,t));return n}readFeaturesFromNode(r,t){return xn()}readGeometry(r,t){if(!r)return null;if("string"==typeof r){const n=Uu(r);return this.readGeometryFromDocument(n,t)}return f6(r)?this.readGeometryFromDocument(r,t):this.readGeometryFromNode(r,t)}readGeometryFromDocument(r,t){return null}readGeometryFromNode(r,t){return null}readProjection(r){if(!r)return null;if("string"==typeof r){const t=Uu(r);return this.readProjectionFromDocument(t)}return f6(r)?this.readProjectionFromDocument(r):this.readProjectionFromNode(r)}readProjectionFromDocument(r){return this.dataProjection}readProjectionFromNode(r){return this.dataProjection}writeFeature(r,t){const n=this.writeFeatureNode(r,t);return this.xmlSerializer_.serializeToString(n)}writeFeatureNode(r,t){return null}writeFeatures(r,t){const n=this.writeFeaturesNode(r,t);return this.xmlSerializer_.serializeToString(n)}writeFeaturesNode(r,t){return null}writeGeometry(r,t){const n=this.writeGeometryNode(r,t);return this.xmlSerializer_.serializeToString(n)}writeGeometryNode(r,t){return null}},C6="http://www.opengis.net/gml",JK=/^\s*$/;class vo extends qK{constructor(r){super(),this.featureType=(r=r||{}).featureType,this.featureNS=r.featureNS,this.srsName=r.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:cr(this.readFeaturesInternal),featureMembers:j1(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(r,t){const n=r.localName;let o=null;if("FeatureCollection"==n)o=Yn([],this.FEATURE_COLLECTION_PARSERS,r,t,this);else if("featureMembers"==n||"featureMember"==n||"member"==n){const s=t[0];let i=s.featureType,l=s.featureNS;const a="p",c="p0";if(!i&&r.childNodes){i=[],l={};for(let d=0,p=r.childNodes.length;d<p;++d){const f=r.childNodes[d];if(1===f.nodeType){const y=f.nodeName.split(":").pop();if(!i.includes(y)){let V="",L=0;const R=f.namespaceURI;for(const mt in l){if(l[mt]===R){V=mt;break}++L}V||(V=a+L,l[V]=R),i.push(V+":"+y)}}}"featureMember"!=n&&(s.featureType=i,s.featureNS=l)}if("string"==typeof l){const d=l;l={},l[c]=d}const h={},u=Array.isArray(i)?i:[i];for(const d in l){const p={};for(let f=0,y=u.length;f<y;++f)(u[f].includes(":")?u[f].split(":")[0]:c)===d&&(p[u[f].split(":").pop()]="featureMembers"==n?cr(this.readFeatureElement,this):j1(this.readFeatureElement,this));h[l[d]]=p}o=Yn("featureMember"==n||"member"==n?void 0:[],h,r,t)}return null===o&&(o=[]),o}readGeometryOrExtent(r,t){const n=t[0];return n.srsName=r.firstElementChild.getAttribute("srsName"),n.srsDimension=r.firstElementChild.getAttribute("srsDimension"),Yn(null,this.GEOMETRY_PARSERS,r,t,this)}readExtentElement(r,t){const n=t[0],o=this.readGeometryOrExtent(r,t);return o?vw(o,n):void 0}readGeometryElement(r,t){const n=t[0],o=this.readGeometryOrExtent(r,t);return o?ah(o,!1,n):void 0}readFeatureElementInternal(r,t,n){let o;const s={};for(let a=r.firstElementChild;a;a=a.nextElementSibling){let c;const h=a.localName;0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)?(c=v6(a,!1),JK.test(c)&&(c=void 0)):(n&&(c="boundedBy"===h?this.readExtentElement(a,t):this.readGeometryElement(a,t)),c?"boundedBy"!==h&&(o=h):c=this.readFeatureElementInternal(a,t,!1));const u=a.attributes.length;if(u>0&&!(c instanceof Xm)){c={_content_:c};for(let d=0;d<u;d++)c[a.attributes[d].name]=a.attributes[d].value}s[h]?(s[h]instanceof Array||(s[h]=[s[h]]),s[h].push(c)):s[h]=c}if(!n)return s;const i=new Gm(s);o&&i.setGeometryName(o);const l=r.getAttribute("fid")||function YK(e,r,t){return e.getAttributeNS(r,t)||""}(r,this.namespace,"id");return l&&i.setId(l),i}readFeatureElement(r,t){return this.readFeatureElementInternal(r,t,!0)}readPoint(r,t){const n=this.readFlatCoordinatesFromNode(r,t);if(n)return new Gu(n,"XYZ")}readMultiPoint(r,t){const n=Yn([],this.MULTIPOINT_PARSERS,r,t,this);if(n)return new aw(n)}readMultiLineString(r,t){const n=Yn([],this.MULTILINESTRING_PARSERS,r,t,this);if(n)return new sw(n)}readMultiPolygon(r,t){const n=Yn([],this.MULTIPOLYGON_PARSERS,r,t,this);if(n)return new gw(n)}pointMemberParser(r,t){ch(this.POINTMEMBER_PARSERS,r,t,this)}lineStringMemberParser(r,t){ch(this.LINESTRINGMEMBER_PARSERS,r,t,this)}polygonMemberParser(r,t){ch(this.POLYGONMEMBER_PARSERS,r,t,this)}readLineString(r,t){const n=this.readFlatCoordinatesFromNode(r,t);if(n)return new Zu(n,"XYZ")}readFlatLinearRing(r,t){const n=Yn(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,r,t,this);if(n)return n}readLinearRing(r,t){const n=this.readFlatCoordinatesFromNode(r,t);if(n)return new ow(n,"XYZ")}readPolygon(r,t){const n=Yn([null],this.FLAT_LINEAR_RINGS_PARSERS,r,t,this);if(n&&n[0]){const o=n[0],s=[o.length];let i,l;for(i=1,l=n.length;i<l;++i)(0,C2.X$)(o,n[i]),s.push(o.length);return new Wu(o,"XYZ",s)}}readFlatCoordinatesFromNode(r,t){return Yn(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,r,t,this)}readGeometryFromNode(r,t){return this.readGeometryElement(r,[this.getReadOptions(r,t||{})])||null}readFeaturesFromNode(r,t){const n={featureType:this.featureType,featureNS:this.featureNS};return n&&Object.assign(n,this.getReadOptions(r,t)),this.readFeaturesInternal(r,[n])||[]}readProjectionFromNode(r){return(0,Un.Jt)(this.srsName?this.srsName:r.firstElementChild.getAttribute("srsName"))}}vo.prototype.namespace=C6,vo.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},vo.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},vo.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},vo.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:cr(vo.prototype.pointMemberParser),pointMembers:cr(vo.prototype.pointMemberParser)}},vo.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:cr(vo.prototype.lineStringMemberParser),lineStringMembers:cr(vo.prototype.lineStringMemberParser)}},vo.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:cr(vo.prototype.polygonMemberParser),polygonMembers:cr(vo.prototype.polygonMemberParser)}},vo.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:cr(vo.prototype.readFlatCoordinatesFromNode)}},vo.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:cr(vo.prototype.readLineString)}},vo.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:cr(vo.prototype.readPolygon)}},vo.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:j1(vo.prototype.readFlatLinearRing)}};const kr=vo;function $u(e){const r=/^\s*(\d+)\s*$/.exec(e);if(r)return parseInt(r[1],10)}function Ss(e,r){e.appendChild(qA().createTextNode(r))}const eq=C6+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",rq={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class Dr extends kr{constructor(r){super(r=r||{}),this.FEATURE_COLLECTION_PARSERS[C6].featureMember=cr(this.readFeaturesInternal),this.schemaLocation=r.schemaLocation?r.schemaLocation:eq}readFlatCoordinates(r,t){const n=v6(r,!1).replace(/^\s*|\s*$/g,""),s=t[0].srsName;let i="enu";if(s){const c=(0,Un.Jt)(s);c&&(i=c.getAxisOrientation())}const l=n.trim().split(/\s+/),a=[];for(let c=0,h=l.length;c<h;c++){const u=l[c].split(/,+/),d=parseFloat(u[0]),p=parseFloat(u[1]),f=3===u.length?parseFloat(u[2]):0;"en"===i.substr(0,2)?a.push(d,p,f):a.push(p,d,f)}return a}readBox(r,t){const n=Yn([null],this.BOX_PARSERS_,r,t,this);return(0,wn.N)(n[1][0],n[1][1],n[1][3],n[1][4])}innerBoundaryIsParser(r,t){const n=Yn(void 0,this.RING_PARSERS,r,t,this);n&&t[t.length-1].push(n)}outerBoundaryIsParser(r,t){const n=Yn(void 0,this.RING_PARSERS,r,t,this);n&&(t[t.length-1][0]=n)}GEOMETRY_NODE_FACTORY_(r,t,n){const o=t[t.length-1],s=o.multiSurface,i=o.surface,l=o.multiCurve;return Array.isArray(r)?n="Envelope":"MultiPolygon"===(n=r.getType())&&!0===s?n="MultiSurface":"Polygon"===n&&!0===i?n="Surface":"MultiLineString"===n&&!0===l&&(n="MultiCurve"),$n("http://www.opengis.net/gml",n)}writeFeatureElement(r,t,n){const o=t.getId();o&&r.setAttribute("fid",o);const s=n[n.length-1],i=s.featureNS,l=t.getGeometryName();s.serializers||(s.serializers={},s.serializers[i]={});const a=[],c=[];if(t.hasProperties()){const u=t.getProperties();for(const d in u){const p=u[d];null!==p&&(a.push(d),c.push(p),d==l||"function"==typeof p.getSimplifiedGeometry?d in s.serializers[i]||(s.serializers[i][d]=u1(this.writeGeometryElement,this)):d in s.serializers[i]||(s.serializers[i][d]=u1(Ss)))}}const h=Object.assign({},s);h.node=r,J2(h,s.serializers,t0(void 0,i),c,n,a)}writeCurveOrLineString(r,t,n){const s=n[n.length-1].srsName;if("LineStringSegment"!==r.nodeName&&s&&r.setAttribute("srsName",s),"LineString"===r.nodeName||"LineStringSegment"===r.nodeName){const i=this.createCoordinatesNode_(r.namespaceURI);r.appendChild(i),this.writeCoordinates_(i,t,n)}else if("Curve"===r.nodeName){const i=$n(r.namespaceURI,"segments");r.appendChild(i),this.writeCurveSegments_(i,t,n)}}writeLineStringOrCurveMember(r,t,n){const o=this.GEOMETRY_NODE_FACTORY_(t,n);o&&(r.appendChild(o),this.writeCurveOrLineString(o,t,n))}writeMultiCurveOrLineString(r,t,n){const o=n[n.length-1],s=o.hasZ,i=o.srsName,l=o.curve;i&&r.setAttribute("srsName",i);const a=t.getLineStrings();J2({node:r,hasZ:s,srsName:i,curve:l},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)}writeGeometryElement(r,t,n){const o=n[n.length-1],s=Object.assign({},o);let i;s.node=r,i=Array.isArray(t)?vw(t,o):ah(t,!0,o),J2(s,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[i],n,void 0,this)}createCoordinatesNode_(r){const t=$n(r,"coordinates");return t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}writeCoordinates_(r,t,n){const o=n[n.length-1],s=o.hasZ,i=o.srsName,l=t.getCoordinates(),a=l.length,c=new Array(a);for(let h=0;h<a;++h)c[h]=this.getCoords_(l[h],i,s);Ss(r,c.join(" "))}writeCurveSegments_(r,t,n){const o=$n(r.namespaceURI,"LineStringSegment");r.appendChild(o),this.writeCurveOrLineString(o,t,n)}writeSurfaceOrPolygon(r,t,n){const o=n[n.length-1],s=o.hasZ,i=o.srsName;if("PolygonPatch"!==r.nodeName&&i&&r.setAttribute("srsName",i),"Polygon"===r.nodeName||"PolygonPatch"===r.nodeName){const l=t.getLinearRings();J2({node:r,hasZ:s,srsName:i},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,l,n,void 0,this)}else if("Surface"===r.nodeName){const l=$n(r.namespaceURI,"patches");r.appendChild(l),this.writeSurfacePatches_(l,t,n)}}RING_NODE_FACTORY_(r,t,n){const o=t[t.length-1],s=o.node,i=o.exteriorWritten;return void 0===i&&(o.exteriorWritten=!0),$n(s.namespaceURI,void 0!==i?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(r,t,n){const o=$n(r.namespaceURI,"PolygonPatch");r.appendChild(o),this.writeSurfaceOrPolygon(o,t,n)}writeRing(r,t,n){const o=$n(r.namespaceURI,"LinearRing");r.appendChild(o),this.writeLinearRing(o,t,n)}getCoords_(r,t,n){let o="enu";t&&(o=(0,Un.Jt)(t).getAxisOrientation());let s="en"===o.substr(0,2)?r[0]+","+r[1]:r[1]+","+r[0];return n&&(s+=","+(r[2]||0)),s}writePoint(r,t,n){const o=n[n.length-1],s=o.hasZ,i=o.srsName;i&&r.setAttribute("srsName",i);const l=this.createCoordinatesNode_(r.namespaceURI);r.appendChild(l);const a=t.getCoordinates();Ss(l,this.getCoords_(a,i,s))}writeMultiPoint(r,t,n){const o=n[n.length-1],s=o.hasZ,i=o.srsName;i&&r.setAttribute("srsName",i);const l=t.getPoints();J2({node:r,hasZ:s,srsName:i},this.POINTMEMBER_SERIALIZERS,t0("pointMember"),l,n,void 0,this)}writePointMember(r,t,n){const o=$n(r.namespaceURI,"Point");r.appendChild(o),this.writePoint(o,t,n)}writeLinearRing(r,t,n){const s=n[n.length-1].srsName;s&&r.setAttribute("srsName",s);const i=this.createCoordinatesNode_(r.namespaceURI);r.appendChild(i),this.writeCoordinates_(i,t,n)}writeMultiSurfaceOrPolygon(r,t,n){const o=n[n.length-1],s=o.hasZ,i=o.srsName,l=o.surface;i&&r.setAttribute("srsName",i);const a=t.getPolygons();J2({node:r,hasZ:s,srsName:i,surface:l},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)}writeSurfaceOrPolygonMember(r,t,n){const o=this.GEOMETRY_NODE_FACTORY_(t,n);o&&(r.appendChild(o),this.writeSurfaceOrPolygon(o,t,n))}writeEnvelope(r,t,n){const s=n[n.length-1].srsName;s&&r.setAttribute("srsName",s),J2({node:r},this.ENVELOPE_SERIALIZERS,XA,[t[0]+" "+t[1],t[2]+" "+t[3]],n,["lowerCorner","upperCorner"],this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(r,t,n){return $n("http://www.opengis.net/gml",rq[t[t.length-1].node.nodeName])}}Dr.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:j1(Dr.prototype.readFlatCoordinates)}},Dr.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:Dr.prototype.innerBoundaryIsParser,outerBoundaryIs:Dr.prototype.outerBoundaryIsParser}},Dr.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:cr(Dr.prototype.readFlatCoordinates)}},Dr.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:j1(kr.prototype.readPoint),MultiPoint:j1(kr.prototype.readMultiPoint),LineString:j1(kr.prototype.readLineString),MultiLineString:j1(kr.prototype.readMultiLineString),LinearRing:j1(kr.prototype.readLinearRing),Polygon:j1(kr.prototype.readPolygon),MultiPolygon:j1(kr.prototype.readMultiPolygon),Box:j1(Dr.prototype.readBox)}},Dr.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:u1(Dr.prototype.writeCurveOrLineString),MultiCurve:u1(Dr.prototype.writeMultiCurveOrLineString),Point:u1(Dr.prototype.writePoint),MultiPoint:u1(Dr.prototype.writeMultiPoint),LineString:u1(Dr.prototype.writeCurveOrLineString),MultiLineString:u1(Dr.prototype.writeMultiCurveOrLineString),LinearRing:u1(Dr.prototype.writeLinearRing),Polygon:u1(Dr.prototype.writeSurfaceOrPolygon),MultiPolygon:u1(Dr.prototype.writeMultiSurfaceOrPolygon),Surface:u1(Dr.prototype.writeSurfaceOrPolygon),MultiSurface:u1(Dr.prototype.writeMultiSurfaceOrPolygon),Envelope:u1(Dr.prototype.writeEnvelope)}},Dr.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:u1(Dr.prototype.writeLineStringOrCurveMember),curveMember:u1(Dr.prototype.writeLineStringOrCurveMember)}},Dr.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:u1(Dr.prototype.writeRing),innerBoundaryIs:u1(Dr.prototype.writeRing)}},Dr.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:u1(Dr.prototype.writePointMember)}},Dr.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:u1(Dr.prototype.writeSurfaceOrPolygonMember),polygonMember:u1(Dr.prototype.writeSurfaceOrPolygonMember)}},Dr.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:u1(Ss),upperCorner:u1(Ss)}};const JA=Dr,nq=C6+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",oq={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class _1 extends kr{constructor(r){super(r=r||{}),this.surface_=void 0!==r.surface&&r.surface,this.curve_=void 0!==r.curve&&r.curve,this.multiCurve_=void 0===r.multiCurve||r.multiCurve,this.multiSurface_=void 0===r.multiSurface||r.multiSurface,this.schemaLocation=r.schemaLocation?r.schemaLocation:nq,this.hasZ=void 0!==r.hasZ&&r.hasZ}readMultiCurve(r,t){const n=Yn([],this.MULTICURVE_PARSERS,r,t,this);if(n)return new sw(n)}readFlatCurveRing(r,t){const n=Yn([],this.MULTICURVE_PARSERS,r,t,this),o=[];for(let s=0,i=n.length;s<i;++s)(0,C2.X$)(o,n[s].getFlatCoordinates());return o}readMultiSurface(r,t){const n=Yn([],this.MULTISURFACE_PARSERS,r,t,this);if(n)return new gw(n)}curveMemberParser(r,t){ch(this.CURVEMEMBER_PARSERS,r,t,this)}surfaceMemberParser(r,t){ch(this.SURFACEMEMBER_PARSERS,r,t,this)}readPatch(r,t){return Yn([null],this.PATCHES_PARSERS,r,t,this)}readSegment(r,t){return Yn([],this.SEGMENTS_PARSERS,r,t,this)}readPolygonPatch(r,t){return Yn([null],this.FLAT_LINEAR_RINGS_PARSERS,r,t,this)}readLineStringSegment(r,t){return Yn([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,r,t,this)}interiorParser(r,t){const n=Yn(void 0,this.RING_PARSERS,r,t,this);n&&t[t.length-1].push(n)}exteriorParser(r,t){const n=Yn(void 0,this.RING_PARSERS,r,t,this);n&&(t[t.length-1][0]=n)}readSurface(r,t){const n=Yn([null],this.SURFACE_PARSERS,r,t,this);if(n&&n[0]){const o=n[0],s=[o.length];let i,l;for(i=1,l=n.length;i<l;++i)(0,C2.X$)(o,n[i]),s.push(o.length);return new Wu(o,"XYZ",s)}}readCurve(r,t){const n=Yn([null],this.CURVE_PARSERS,r,t,this);if(n)return new Zu(n,"XYZ")}readEnvelope(r,t){const n=Yn([null],this.ENVELOPE_PARSERS,r,t,this);return(0,wn.N)(n[1][0],n[1][1],n[2][0],n[2][1])}readFlatPos(r,t){let n=v6(r,!1);const o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,s=[];let i;for(;i=o.exec(n);)s.push(parseFloat(i[1])),n=n.substr(i[0].length);if(""!==n)return;const a=t[0].srsName;let c="enu";if(a&&(c=(0,Un.Jt)(a).getAxisOrientation()),"neu"===c){let u,d;for(u=0,d=s.length;u<d;u+=3){const p=s[u];s[u]=s[u+1],s[u+1]=p}}const h=s.length;return 2==h&&s.push(0),0!==h?s:void 0}readFlatPosList(r,t){const n=v6(r,!1).replace(/^\s*|\s*$/g,""),o=t[0],s=o.srsName,i=o.srsDimension;let l="enu";s&&(l=(0,Un.Jt)(s).getAxisOrientation());const a=n.split(/\s+/);let h,u,d,c=2;r.getAttribute("srsDimension")?c=$u(r.getAttribute("srsDimension")):r.getAttribute("dimension")?c=$u(r.getAttribute("dimension")):r.parentNode.getAttribute("srsDimension")?c=$u(r.parentNode.getAttribute("srsDimension")):i&&(c=$u(i));const p=[];for(let f=0,y=a.length;f<y;f+=c)h=parseFloat(a[f]),u=parseFloat(a[f+1]),d=3===c?parseFloat(a[f+2]):0,"en"===l.substr(0,2)?p.push(h,u,d):p.push(u,h,d);return p}writePos_(r,t,n){const o=n[n.length-1],s=o.hasZ;r.setAttribute("srsDimension",s?"3":"2");const l=o.srsName;let a="enu";l&&(a=(0,Un.Jt)(l).getAxisOrientation());const c=t.getCoordinates();let h;h="en"===a.substr(0,2)?c[0]+" "+c[1]:c[1]+" "+c[0],s&&(h+=" "+(c[2]||0)),Ss(r,h)}getCoords_(r,t,n){let o="enu";t&&(o=(0,Un.Jt)(t).getAxisOrientation());let s="en"===o.substr(0,2)?r[0]+" "+r[1]:r[1]+" "+r[0];return n&&(s+=" "+(r[2]||0)),s}writePosList_(r,t,n){const o=n[n.length-1],s=o.hasZ;r.setAttribute("srsDimension",s?"3":"2");const l=o.srsName,a=t.getCoordinates(),c=a.length,h=new Array(c);let u;for(let d=0;d<c;++d)u=a[d],h[d]=this.getCoords_(u,l,s);Ss(r,h.join(" "))}writePoint(r,t,n){const s=n[n.length-1].srsName;s&&r.setAttribute("srsName",s);const i=$n(r.namespaceURI,"pos");r.appendChild(i),this.writePos_(i,t,n)}writeEnvelope(r,t,n){const s=n[n.length-1].srsName;s&&r.setAttribute("srsName",s),J2({node:r},this.ENVELOPE_SERIALIZERS,XA,[t[0]+" "+t[1],t[2]+" "+t[3]],n,["lowerCorner","upperCorner"],this)}writeLinearRing(r,t,n){const s=n[n.length-1].srsName;s&&r.setAttribute("srsName",s);const i=$n(r.namespaceURI,"posList");r.appendChild(i),this.writePosList_(i,t,n)}RING_NODE_FACTORY_(r,t,n){const o=t[t.length-1],s=o.node,i=o.exteriorWritten;return void 0===i&&(o.exteriorWritten=!0),$n(s.namespaceURI,void 0!==i?"interior":"exterior")}writeSurfaceOrPolygon(r,t,n){const o=n[n.length-1],s=o.hasZ,i=o.srsName;if("PolygonPatch"!==r.nodeName&&i&&r.setAttribute("srsName",i),"Polygon"===r.nodeName||"PolygonPatch"===r.nodeName){const l=t.getLinearRings();J2({node:r,hasZ:s,srsName:i},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,l,n,void 0,this)}else if("Surface"===r.nodeName){const l=$n(r.namespaceURI,"patches");r.appendChild(l),this.writeSurfacePatches_(l,t,n)}}writeCurveOrLineString(r,t,n){const s=n[n.length-1].srsName;if("LineStringSegment"!==r.nodeName&&s&&r.setAttribute("srsName",s),"LineString"===r.nodeName||"LineStringSegment"===r.nodeName){const i=$n(r.namespaceURI,"posList");r.appendChild(i),this.writePosList_(i,t,n)}else if("Curve"===r.nodeName){const i=$n(r.namespaceURI,"segments");r.appendChild(i),this.writeCurveSegments_(i,t,n)}}writeMultiSurfaceOrPolygon(r,t,n){const o=n[n.length-1],s=o.hasZ,i=o.srsName,l=o.surface;i&&r.setAttribute("srsName",i);const a=t.getPolygons();J2({node:r,hasZ:s,srsName:i,surface:l},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)}writeMultiPoint(r,t,n){const o=n[n.length-1],s=o.srsName,i=o.hasZ;s&&r.setAttribute("srsName",s);const l=t.getPoints();J2({node:r,hasZ:i,srsName:s},this.POINTMEMBER_SERIALIZERS,t0("pointMember"),l,n,void 0,this)}writeMultiCurveOrLineString(r,t,n){const o=n[n.length-1],s=o.hasZ,i=o.srsName,l=o.curve;i&&r.setAttribute("srsName",i);const a=t.getLineStrings();J2({node:r,hasZ:s,srsName:i,curve:l},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)}writeRing(r,t,n){const o=$n(r.namespaceURI,"LinearRing");r.appendChild(o),this.writeLinearRing(o,t,n)}writeSurfaceOrPolygonMember(r,t,n){const o=this.GEOMETRY_NODE_FACTORY_(t,n);o&&(r.appendChild(o),this.writeSurfaceOrPolygon(o,t,n))}writePointMember(r,t,n){const o=$n(r.namespaceURI,"Point");r.appendChild(o),this.writePoint(o,t,n)}writeLineStringOrCurveMember(r,t,n){const o=this.GEOMETRY_NODE_FACTORY_(t,n);o&&(r.appendChild(o),this.writeCurveOrLineString(o,t,n))}writeSurfacePatches_(r,t,n){const o=$n(r.namespaceURI,"PolygonPatch");r.appendChild(o),this.writeSurfaceOrPolygon(o,t,n)}writeCurveSegments_(r,t,n){const o=$n(r.namespaceURI,"LineStringSegment");r.appendChild(o),this.writeCurveOrLineString(o,t,n)}writeGeometryElement(r,t,n){const o=n[n.length-1],s=Object.assign({},o);let i;s.node=r,i=Array.isArray(t)?vw(t,o):ah(t,!0,o),J2(s,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[i],n,void 0,this)}writeFeatureElement(r,t,n){const o=t.getId();o&&r.setAttribute("fid",o);const s=n[n.length-1],i=s.featureNS,l=t.getGeometryName();s.serializers||(s.serializers={},s.serializers[i]={});const a=[],c=[];if(t.hasProperties()){const u=t.getProperties();for(const d in u){const p=u[d];null!==p&&(a.push(d),c.push(p),d==l||"function"==typeof p.getSimplifiedGeometry?d in s.serializers[i]||(s.serializers[i][d]=u1(this.writeGeometryElement,this)):d in s.serializers[i]||(s.serializers[i][d]=u1(Ss)))}}const h=Object.assign({},s);h.node=r,J2(h,s.serializers,t0(void 0,i),c,n,a)}writeFeatureMembers_(r,t,n){const o=n[n.length-1],s=o.featureType,i=o.featureNS,l={};l[i]={},l[i][s]=u1(this.writeFeatureElement,this);const a=Object.assign({},o);a.node=r,J2(a,l,t0(s,i),t,n)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(r,t,n){return $n(this.namespace,oq[t[t.length-1].node.nodeName])}GEOMETRY_NODE_FACTORY_(r,t,n){const o=t[t.length-1],s=o.multiSurface,i=o.surface,l=o.curve,a=o.multiCurve;return Array.isArray(r)?n="Envelope":"MultiPolygon"===(n=r.getType())&&!0===s?n="MultiSurface":"Polygon"===n&&!0===i?n="Surface":"LineString"===n&&!0===l?n="Curve":"MultiLineString"===n&&!0===a&&(n="MultiCurve"),$n(this.namespace,n)}writeGeometryNode(r,t){t=this.adaptOptions(t);const n=$n(this.namespace,"geom"),o={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&Object.assign(o,t),this.writeGeometryElement(n,r,[o]),n}writeFeaturesNode(r,t){t=this.adaptOptions(t);const n=$n(this.namespace,"featureMembers");n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);const o={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&Object.assign(o,t),this.writeFeatureMembers_(n,r,[o]),n}}_1.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:j1(_1.prototype.readFlatPos),posList:j1(_1.prototype.readFlatPosList),coordinates:j1(JA.prototype.readFlatCoordinates)}},_1.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:_1.prototype.interiorParser,exterior:_1.prototype.exteriorParser}},_1.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:j1(kr.prototype.readPoint),MultiPoint:j1(kr.prototype.readMultiPoint),LineString:j1(kr.prototype.readLineString),MultiLineString:j1(kr.prototype.readMultiLineString),LinearRing:j1(kr.prototype.readLinearRing),Polygon:j1(kr.prototype.readPolygon),MultiPolygon:j1(kr.prototype.readMultiPolygon),Surface:j1(_1.prototype.readSurface),MultiSurface:j1(_1.prototype.readMultiSurface),Curve:j1(_1.prototype.readCurve),MultiCurve:j1(_1.prototype.readMultiCurve),Envelope:j1(_1.prototype.readEnvelope)}},_1.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:cr(_1.prototype.curveMemberParser),curveMembers:cr(_1.prototype.curveMemberParser)}},_1.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:cr(_1.prototype.surfaceMemberParser),surfaceMembers:cr(_1.prototype.surfaceMemberParser)}},_1.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:cr(kr.prototype.readLineString),Curve:cr(_1.prototype.readCurve)}},_1.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:cr(kr.prototype.readPolygon),Surface:cr(_1.prototype.readSurface)}},_1.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:j1(_1.prototype.readPatch)}},_1.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:j1(_1.prototype.readSegment)}},_1.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:cr(_1.prototype.readFlatPosList),upperCorner:cr(_1.prototype.readFlatPosList)}},_1.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:j1(_1.prototype.readPolygonPatch)}},_1.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:YA(_1.prototype.readLineStringSegment)}},kr.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:j1(kr.prototype.readFlatLinearRing),Ring:j1(_1.prototype.readFlatCurveRing)}},_1.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:u1(_1.prototype.writeRing),interior:u1(_1.prototype.writeRing)}},_1.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:u1(Ss),upperCorner:u1(Ss)}},_1.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:u1(_1.prototype.writeSurfaceOrPolygonMember),polygonMember:u1(_1.prototype.writeSurfaceOrPolygonMember)}},_1.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:u1(_1.prototype.writePointMember)}},_1.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:u1(_1.prototype.writeLineStringOrCurveMember),curveMember:u1(_1.prototype.writeLineStringOrCurveMember)}},_1.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:u1(_1.prototype.writeCurveOrLineString),MultiCurve:u1(_1.prototype.writeMultiCurveOrLineString),Point:u1(_1.prototype.writePoint),MultiPoint:u1(_1.prototype.writeMultiPoint),LineString:u1(_1.prototype.writeCurveOrLineString),MultiLineString:u1(_1.prototype.writeMultiCurveOrLineString),LinearRing:u1(_1.prototype.writeLinearRing),Polygon:u1(_1.prototype.writeSurfaceOrPolygon),MultiPolygon:u1(_1.prototype.writeMultiSurfaceOrPolygon),Surface:u1(_1.prototype.writeSurfaceOrPolygon),MultiSurface:u1(_1.prototype.writeMultiSurfaceOrPolygon),Envelope:u1(_1.prototype.writeEnvelope)}};const Vr=_1;class Jr extends Vr{constructor(r){super(r=r||{}),this.schemaLocation=r.schemaLocation?r.schemaLocation:this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd"}writeGeometryElement(r,t,n){n[n.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},n[n.length-1]),super.writeGeometryElement(r,t,n)}}Jr.prototype.namespace="http://www.opengis.net/gml/3.2",Jr.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:j1(Vr.prototype.readFlatPos),posList:j1(Vr.prototype.readFlatPosList),coordinates:j1(JA.prototype.readFlatCoordinates)}},Jr.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:Vr.prototype.interiorParser,exterior:Vr.prototype.exteriorParser}},Jr.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:j1(kr.prototype.readPoint),MultiPoint:j1(kr.prototype.readMultiPoint),LineString:j1(kr.prototype.readLineString),MultiLineString:j1(kr.prototype.readMultiLineString),LinearRing:j1(kr.prototype.readLinearRing),Polygon:j1(kr.prototype.readPolygon),MultiPolygon:j1(kr.prototype.readMultiPolygon),Surface:j1(Jr.prototype.readSurface),MultiSurface:j1(Vr.prototype.readMultiSurface),Curve:j1(Jr.prototype.readCurve),MultiCurve:j1(Vr.prototype.readMultiCurve),Envelope:j1(Jr.prototype.readEnvelope)}},Jr.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:cr(Vr.prototype.curveMemberParser),curveMembers:cr(Vr.prototype.curveMemberParser)}},Jr.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:cr(Vr.prototype.surfaceMemberParser),surfaceMembers:cr(Vr.prototype.surfaceMemberParser)}},Jr.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:cr(kr.prototype.readLineString),Curve:cr(Vr.prototype.readCurve)}},Jr.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:cr(kr.prototype.readPolygon),Surface:cr(Vr.prototype.readSurface)}},Jr.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:j1(Vr.prototype.readPatch)}},Jr.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:j1(Vr.prototype.readSegment)}},Jr.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:cr(Vr.prototype.readFlatPosList),upperCorner:cr(Vr.prototype.readFlatPosList)}},Jr.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:j1(Vr.prototype.readPolygonPatch)}},Jr.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:YA(Vr.prototype.readLineStringSegment)}},Jr.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:cr(kr.prototype.pointMemberParser),pointMembers:cr(kr.prototype.pointMemberParser)}},Jr.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:cr(kr.prototype.lineStringMemberParser),lineStringMembers:cr(kr.prototype.lineStringMemberParser)}},Jr.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:cr(kr.prototype.polygonMemberParser),polygonMembers:cr(kr.prototype.polygonMemberParser)}},Jr.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:cr(kr.prototype.readFlatCoordinatesFromNode)}},Jr.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:cr(kr.prototype.readLineString)}},Jr.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:cr(kr.prototype.readPolygon)}},Jr.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:j1(kr.prototype.readFlatLinearRing),Ring:j1(Jr.prototype.readFlatCurveRing)}},Jr.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:u1(Vr.prototype.writeRing),interior:u1(Vr.prototype.writeRing)}},Jr.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:u1(Ss),upperCorner:u1(Ss)}},Jr.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:u1(Vr.prototype.writeSurfaceOrPolygonMember),polygonMember:u1(Vr.prototype.writeSurfaceOrPolygonMember)}},Jr.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:u1(Vr.prototype.writePointMember)}},Jr.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:u1(Vr.prototype.writeLineStringOrCurveMember),curveMember:u1(Vr.prototype.writeLineStringOrCurveMember)}},Jr.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:u1(Vr.prototype.writeCurveOrLineString),MultiCurve:u1(Vr.prototype.writeMultiCurveOrLineString),Point:u1(Jr.prototype.writePoint),MultiPoint:u1(Vr.prototype.writeMultiPoint),LineString:u1(Vr.prototype.writeCurveOrLineString),MultiLineString:u1(Vr.prototype.writeMultiCurveOrLineString),LinearRing:u1(Vr.prototype.writeLinearRing),Polygon:u1(Vr.prototype.writeSurfaceOrPolygon),MultiPolygon:u1(Vr.prototype.writeMultiSurfaceOrPolygon),Surface:u1(Vr.prototype.writeSurfaceOrPolygon),MultiSurface:u1(Vr.prototype.writeMultiSurfaceOrPolygon),Envelope:u1(Vr.prototype.writeEnvelope)}};const QA=Jr;function k6(e){return"string"==typeof e?JSON.parse(e)||null:null!==e?e:null}const iq=class sq extends WA{constructor(){super()}getType(){return"json"}readFeature(r,t){return this.readFeatureFromObject(k6(r),this.getReadOptions(r,t))}readFeatures(r,t){return this.readFeaturesFromObject(k6(r),this.getReadOptions(r,t))}readFeatureFromObject(r,t){return xn()}readFeaturesFromObject(r,t){return xn()}readGeometry(r,t){return this.readGeometryFromObject(k6(r),this.getReadOptions(r,t))}readGeometryFromObject(r,t){return xn()}readProjection(r){return this.readProjectionFromObject(k6(r))}readProjectionFromObject(r){return xn()}writeFeature(r,t){return JSON.stringify(this.writeFeatureObject(r,t))}writeFeatureObject(r,t){return xn()}writeFeatures(r,t){return JSON.stringify(this.writeFeaturesObject(r,t))}writeFeaturesObject(r,t){return xn()}writeGeometry(r,t){return JSON.stringify(this.writeGeometryObject(r,t))}writeGeometryObject(r,t){return xn()}};function mw(e,r){if(!e)return null;let t;switch(e.type){case"Point":t=function hq(e){const r=e.coordinates;return{type:"Point",flatCoordinates:r,layout:qc(r.length)}}(e);break;case"LineString":t=function uq(e){const r=e.coordinates,t=r.flat();return{type:"LineString",flatCoordinates:t,ends:[t.length],layout:qc(r[0].length)}}(e);break;case"Polygon":t=function vq(e){const r=e.coordinates,t=[],n=r[0][0].length;return{type:"Polygon",flatCoordinates:t,ends:Nu(t,0,r,n),layout:qc(n)}}(e);break;case"MultiPoint":t=function pq(e){const r=e.coordinates;return{type:"MultiPoint",flatCoordinates:r.flat(),layout:qc(r[0].length)}}(e);break;case"MultiLineString":t=function dq(e){const r=e.coordinates,t=r[0][0].length,n=[];return{type:"MultiLineString",flatCoordinates:n,ends:Nu(n,0,r,t),layout:qc(t)}}(e);break;case"MultiPolygon":t=function gq(e){const r=e.coordinates,t=[],n=r[0][0][0].length;return{type:"MultiPolygon",flatCoordinates:t,ends:EA(t,0,r,n),layout:qc(n)}}(e);break;case"GeometryCollection":t=function cq(e){return e.geometries.map(function(n){return mw(n)})}(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return t}function ww(e,r){const t=(e=ah(e,!0,r)).getType();let n;switch(t){case"Point":n=function _q(e){return{type:"Point",coordinates:e.getCoordinates()}}(e);break;case"LineString":n=function mq(e){return{type:"LineString",coordinates:e.getCoordinates()}}(e);break;case"Polygon":n=function Mq(e,r){let t;return r&&(t=r.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(t)}}(e,r);break;case"MultiPoint":n=function Cq(e){return{type:"MultiPoint",coordinates:e.getCoordinates()}}(e);break;case"MultiLineString":n=function wq(e){return{type:"MultiLineString",coordinates:e.getCoordinates()}}(e);break;case"MultiPolygon":n=function kq(e,r){let t;return r&&(t=r.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(t)}}(e,r);break;case"GeometryCollection":n=function fq(e,r){return delete(r=Object.assign({},r)).featureProjection,{type:"GeometryCollection",geometries:e.getGeometriesArray().map(function(n){return ww(n,r)})}}(e,r);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+t)}return n}const tI=class lq extends iq{constructor(r){r=r||{},super(),this.dataProjection=(0,Un.Jt)(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(this.defaultFeatureProjection=(0,Un.Jt)(r.featureProjection)),r.featureClass&&(this.featureClass=r.featureClass),this.geometryName_=r.geometryName,this.extractGeometryName_=r.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(r,t){let n=null;n="Feature"===r.type?r:{type:"Feature",geometry:r,properties:null};const o=mw(n.geometry);if(this.featureClass===ZA)return UA({geometry:o,id:n.id,properties:n.properties},t);const s=new Gm;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&s.setGeometryName(n.geometry_name),s.setGeometry(fw(o,t)),"id"in n&&s.setId(n.id),n.properties&&s.setProperties(n.properties,!0),s}readFeaturesFromObject(r,t){let o=null;if("FeatureCollection"===r.type){o=[];const i=r.features;for(let l=0,a=i.length;l<a;++l){const c=this.readFeatureFromObject(i[l],t);c&&o.push(c)}}else o=[this.readFeatureFromObject(r,t)];return o.flat()}readGeometryFromObject(r,t){return function aq(e,r){return fw(mw(e),r)}(r,t)}readProjectionFromObject(r){const t=r.crs;let n;if(t)if("name"==t.type)n=(0,Un.Jt)(t.properties.name);else{if("EPSG"!==t.type)throw new Error("Unknown SRS type");n=(0,Un.Jt)("EPSG:"+t.properties.code)}else n=this.dataProjection;return n}writeFeatureObject(r,t){t=this.adaptOptions(t);const n={type:"Feature",geometry:null,properties:null},o=r.getId();if(void 0!==o&&(n.id=o),!r.hasProperties())return n;const s=r.getProperties(),i=r.getGeometry();return i&&(n.geometry=ww(i,t),delete s[r.getGeometryName()]),HA(s)||(n.properties=s),n}writeFeaturesObject(r,t){t=this.adaptOptions(t);const n=[];for(let o=0,s=r.length;o<s;++o)n.push(this.writeFeatureObject(r[o],t));return{type:"FeatureCollection",features:n}}writeGeometryObject(r,t){return ww(r,this.adaptOptions(t))}};function Cw(e){const r=e.trim().split(/\s+/);return[r.shift(),r.join(" ").trim()||null]}function eI(e,r){const t=e?.trim(),n=r?.trim();return t||n?n&&t?`${t} ${n}`:n||t:null}function Hq(e){if(!e)return"unspecified";switch(e){case"author":case"coAuthor":return"author";case"originator":return"originator";case"principalInvestigator":return"principal_investigator";case"resourceProvider":return"resource_provider";case"processor":return"processor";case"custodian":return"custodian";case"owner":return"owner";case"pointOfContact":return"point_of_contact";case"publisher":return"publisher";case"distributor":return"distributor";case"user":return"user";case"collaborator":return"collaborator";case"editor":return"editor";case"contributor":return"contributor";case"stakeholder":return"stakeholder";case"sponsor":return"sponsor";case"funder":return"funder";case"rightsHolder":return"rights_holder";case"mediator":return"mediator";default:return"other"}}function Vq(e){switch(e){case"completed":return"completed";case"historicalArchive":return"removed";case"obsolete":return"deprecated";case"onGoing":return"ongoing";default:return"under_development"}}const Lq=["unspecified","other","author","collaborator","contributor","custodian","distributor","editor","funder","mediator","originator","owner","point_of_contact","principal_investigator","processor","publisher","resource_provider","rights_holder","sponsor","stakeholder","user"],zq=["unknown","notPlanned","asNeeded","irregular","continual","periodic","daily","weekly","fortnightly","semimonthly","monthly","quarterly","biannually","annually","biennially"],Aq=["completed","ongoing","under_development","deprecated","removed"];function Iq(e){return e&&zq.includes(e)?e:null}const Yu={eng:"en",dut:"nl",fre:"fr",ger:"de",kor:"ko",spa:"es",cze:"cs",cat:"ca",fin:"fi",ice:"is",ita:"it",por:"pt",rus:"ru",chi:"zh",slo:"sk",roh:"rm"},kw=Object.entries(Yu).reduce((e,r)=>({...e,[r[1]]:r[0]}),{});function _w(e){return{application:"reuse",dataset:"dataset",map:"reuse","map/static":"reuse","map/interactive":"reuse","map-interactive":"reuse","map-static":"reuse",mapDigital:"reuse",interactiveMap:"reuse",staticMap:"reuse",service:"service"}[e]||"dataset"}function rI(e){return"reuse"===_w(e)?{application:"application",map:"map","map/static":"map","map/interactive":"map","map-interactive":"map","map-static":"map",mapDigital:"map",interactiveMap:"map",staticMap:"map"}[e]||"other":void 0}function nI(e){return"reuse"===e.kind?e.reuseType:e.kind}function Fn(){return N(Ia(n1("gco:CharacterString",!1),n1("gmx:Anchor",!1)),Qs())}function n2(e,r){return Mn(N(Ia(n1("gco:CharacterString",!1),n1("gmx:Anchor",!1)),Qs()),t=>{const n=mn("gmd:PT_FreeText","gmd:textGroup","gmd:LocalisedCharacterString")(t),o=r??{};if(!n.length)return o;const s=n.reduce((i,l)=>{const a=Wn("locale")(l).toLowerCase().replace(/^#/,""),c=Qs()(l);return a?{...i,[a]:c}:i},{});return o[e]={...o[e],...s},o})}function Mw(){return N(Ia(n1("gco:DateTime",!1),n1("gco:Date",!1)),Qs(),S1(e=>e?new Date(e):null))}function _6(){return N(n1("gco:Decimal",!1),Qs(),S1(e=>e?Number(e):null))}function Rl(){const e=N(n1("gmd:URL",!1),Qs()),r=N(n1("gco:CharacterString",!1),Qs()),t=N(n1("gmx:Anchor",!1),Wn("xlink:href"));return N(Ia(e,t,r),S1(n=>{try{return new URL(n)}catch{return null}}))}function M6(){return Ia(Rl(),()=>new URL("http://missing"))}function oI(){return N(n1("gmd:CI_RoleCode"),Wn("codeListValue"),S1(Hq))}function sI(){const e=N(mn("gmd:contactInfo","gmd:CI_Contact","gmd:onlineResource","gmd:CI_OnlineResource","gmd:linkage"),Aa(0),Rl());return N(Mn(N(n1("gmd:organisationName",!1),n2("name")),e),S1(([[r,t],n])=>({name:r,...n&&{website:n},translations:t})))}function iI(){const e=N(n1("gmd:role"),oI()),r=N(n1("gmd:positionName"),Fn()),t=N(n1("gmd:individualName"),Fn(),S1(a=>a?Cw(a):[])),n=sI(),o=Yr("gmd:contactInfo","gmd:CI_Contact"),s=N(o,n1("gmd:electronicMailAddress"),Fn(),S1(a=>null===a?"missing@missing.com":a)),i=N(o,Yr("gmd:address","gmd:CI_Address"),Mn(N(n1("gmd:deliveryPoint",!1),Fn()),N(n1("gmd:city",!1),Fn()),N(n1("gmd:postalCode",!1),Fn()),N(n1("gmd:country",!1),Fn())),S1(a=>a.filter(c=>!!c).join(", "))),l=N(o,Yr("gmd:phone","gmd:CI_Telephone","gmd:voice"),Fn());return N(Mn(e,r,t,n,s,i,l),S1(([a,c,[h,u],d,p,f,y])=>({email:p,role:a,organization:d,...c&&{position:c},...h&&{firstName:h},...u&&{lastName:u},...f&&{address:f},...y&&{phone:y}})))}const Rq=N(wA("gmd:MD_Distribution"),Yr("gmd:distributionFormat","gmd:MD_Format","gmd:name"),Fn(),S1(_A));function lI(e){const r=N(n1("gmd:linkage"),M6()),t=N(n1("gmd:protocol"),Fn()),n=N(t,S1(Nm)),o=N(Yr("gmd:function","gmd:CI_OnLineFunctionCode"),Wn("codeListValue")),s=N(n,S1(c=>"other"!==c)),i=N(Mn(s,o,t),S1(([c,h,u])=>!c&&"download"===h||/download/i.test(u))),l=N(n1("gmd:name"),n2("name")),a=N(n1("gmd:description"),n2("description"));return N(mn("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),U1(Mn(s,i,n,r,l,a,e)),U1(([c,h,u,d,[p,f],[y,V],L])=>{const R={...f,...V};return c?{type:"service",url:d,accessServiceProtocol:u,...p&&{identifierInService:p},...p&&{name:p},...y&&{description:y},translations:R}:h?{type:"download",url:d,...p&&{name:p},...y&&{description:y},...L&&{mimeType:L},translations:R}:{type:"link",url:d,...p&&{name:p},...y&&{description:y},translations:R}}))}function Fq(e){if(!e)return null;const r=e.match(/^-?P(?:([0-9]+)Y)?(?:([0-9]+)M)?(?:([0-9]+)D)?T?(?:([0-9]+)H)?/);if(!r)return null;const t=parseInt(r[1],10)||0,n=parseInt(r[2],10)||0,o=parseInt(r[3],10)||0,s=parseInt(r[4],10)||0;return t?{per:"year",updatedTimes:1}:1===n?{per:"month",updatedTimes:1}:n?{per:"year",updatedTimes:Math.round(12/n)}:1===o?{per:"day",updatedTimes:1}:o>=1&&o<=7?{per:"week",updatedTimes:Math.round(7/o-1e-4)}:o?{per:"month",updatedTimes:Math.round(30/o)}:s?{per:"day",updatedTimes:Math.round(24/s)}:null}function k2(){return N(n1("gmd:identificationInfo",!1),Mn(n1("gmd:MD_DataIdentification",!1),n1("srv:SV_ServiceIdentification",!1)),q2(e=>null!==e),Aa(0))}function yw(e){return N(k2(),mn("gmd:citation","gmd:CI_Citation","gmd:date"),q2(N(mn("gmd:CI_Date","gmd:dateType","gmd:CI_DateTypeCode"),Aa(0),Wn("codeListValue"),S1(r=>r===e))),Aa(0),mn("gmd:CI_Date","gmd:date"),Aa(0),Mw())}function Pq(e){switch(e){case"grid":case"vector":case"tin":case"table":case"point":return e;default:return null}}function Nq(e){return N(n1("gmd:fileIdentifier",!1),Fn())(e)}function y6(e){return N(Yr("gmd:hierarchyLevel","gmd:MD_ScopeCode"),Wn("codeListValue"),S1(r=>_w(r)))(e)}function Oq(e){return N(Yr("gmd:contact","gmd:CI_ResponsibleParty"),sI())(e)}function Zq(e){return yw("revision")(e)}function Gq(e){return yw("creation")(e)}function Wq(e){return yw("publication")(e)}function Uq(e){return N(n1("gmd:dateStamp"),Mw())(e)}function $q(e){return N(Yr("gmd:hierarchyLevel","gmd:MD_ScopeCode"),Wn("codeListValue"),S1(r=>rI(r)))(e)}function Yq(e,r){return N(k2(),Yr("gmd:citation","gmd:CI_Citation","gmd:title"),n2("title",r),S1(([t])=>t))(e)}function Xq(e,r){return N(k2(),n1("gmd:abstract",!1),n2("abstract",r),S1(([t])=>t))(e)}function Kq(e){return N(Br("gmd:contact",!1),U1(n1("gmd:CI_ResponsibleParty",!1)),U1(iI()))(e)}function qq(e){return N(k2(),Mn(Br("gmd:contact",!1),Br("gmd:pointOfContact",!1)),e=>e.flat(),U1(n1("gmd:CI_ResponsibleParty",!1)),U1(iI()))(e)}function Jq(e){if(!e)return null;const r=Yr("gmd:CI_Citation","gmd:identifier","gmd:MD_Identifier","gmd:code"),t=N(r,Fn())(e),n=N(r,Rl())(e),o=N(Yr("gmd:CI_Citation","gmd:title"),Fn())(e);return{id:t,...o&&{name:o},...n&&{url:n}}}function Qq(e){const r=N(Br("gmd:MD_KeywordTypeCode"),U1(Wn("codeListValue")),S1(n=>function bq(e){if(!e)return"other";switch(e){case"theme":case"place":case"temporal":case"other":return e;default:return"other"}}(n[0])))(e),t=N(Yr("gmd:thesaurusName"),Jq)(e);return N(Br("gmd:keyword"),U1(n=>{const[o,s]=n2("label")(n);return{...t?{thesaurus:t}:{},label:o,type:r,translations:s}}))(e)}function tJ(e){return N(k2(),mn("gmd:descriptiveKeywords","gmd:MD_Keywords"),U1(Qq),e=>e.flat())(e)}function eJ(e){return N(k2(),n1("gmd:status",!1),function Sq(){return N(n1("gmd:MD_ProgressCode"),Wn("codeListValue"),S1(Vq))}())(e)}const x6=N(k2(),Br("gmd:resourceConstraints",!1));function rJ(e){return N(x6,U1(function Bq(){return N(Br("gmd:MD_LegalConstraints",!1),q2(N(Br("gmd:MD_RestrictionCode"),U1(Wn("codeListValue")),S1(e=>-1===e.indexOf("license")))),U1(Mn(Br("gmd:otherConstraints"),Br("gmd:useLimitation"))),e=>e.flat(),e=>e.flat(),U1(Mn(n2("text"),Rl())),U1(([[e,r],t])=>({...t&&{url:t},text:e,translations:r})))}()),e=>e.flat(),e=>e.flat())(e)}function nJ(e){return N(x6,U1(function Dq(){return N(mn("gmd:MD_SecurityConstraints","gmd:useLimitation"),e=>e.flat(),U1(Mn(n2("text"),Rl())),U1(([[e,r],t])=>({...t&&{url:t},text:e,translations:r})))}()),e=>e.flat())(e)}function oJ(e){return N(x6,U1(function Eq(){return N(mn("gmd:MD_Constraints","gmd:useLimitation"),e=>e.flat(),U1(Mn(n2("text"),Rl())),U1(([[e,r],t])=>({...t&&{url:t},text:e,translations:r})))}()),e=>e.flat())(e)}function sJ(e){return N(x6,U1(function Tq(){return N(Br("gmd:MD_LegalConstraints",!1),q2(N(Br("gmd:MD_RestrictionCode"),U1(Wn("codeListValue")),S1(e=>e.indexOf("license")>-1))),U1(Mn(Br("gmd:otherConstraints"),Br("gmd:useLimitation"))),e=>e.flat(),e=>e.flat(),U1(Mn(n2("text"),Rl())),U1(([[e,r],t])=>({...t&&{url:t},text:e,translations:r})))}()),e=>e.flat())(e)}function iJ(e){return N(k2(),Br("gmd:MD_TopicCategoryCode",!0),U1(Qs()))(e)}function lJ(e){return N(k2(),Yr("gmd:spatialRepresentationType","gmd:MD_SpatialRepresentationTypeCode"),Wn("codeListValue"),S1(Pq))(e)}function aJ(e){return N(k2(),Br("gmd:graphicOverview",!1),U1(Mn(N(n1("gmd:fileName"),M6()),N(n1("gmd:fileDescription"),Fn()))),U1(([r,t])=>({url:r,...t&&{description:t}})))(e)}function cJ(e,r){return N(Yr("gmd:dataQualityInfo","gmd:DQ_DataQuality","gmd:lineage","gmd:LI_Lineage","gmd:statement"),n2("lineage",r),S1(([t])=>t))(e)}function hJ(e){return N(k2(),Yr("gmd:resourceMaintenance","gmd:MD_MaintenanceInformation"),function jq(){return Ia(N(n1("gmd:MD_MaintenanceFrequencyCode"),Wn("codeListValue"),S1(Iq)),N(Yr("gmd:userDefinedMaintenanceFrequency","gts:TM_PeriodDuration"),Qs(),S1(Fq)),S1(()=>"unknown"))}(),S1(r=>r||"unknown"))(e)}function aI(){const e=N(n1("gmd:linkage"),M6()),r=N(n1("gmd:protocol"),Fn()),t=N(r,S1(Nm)),n=N(Yr("gmd:function","gmd:CI_OnLineFunctionCode"),Wn("codeListValue")),o=N(n,S1(l=>"information"===l)),s=N(n1("gmd:name"),n2("name")),i=N(n1("gmd:description"),n2("description",{}));return N(mn("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),U1(Mn(o,t,e,s,i)),U1(([l,a,c,[h,u],[d,p]])=>{const f={...u,...p};return l?{type:"link",url:c,...h&&{name:h},...d&&{description:d},translations:f}:{type:"endpoint",endpointUrl:c,protocol:a,...d&&{description:d},translations:f}}))}function cI(){const e=N(n1("gmd:linkage"),M6()),r=N(n1("gmd:name"),n2("name")),t=N(n1("gmd:description"),n2("description",{}));return N(mn("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),U1(Mn(e,r,t)),U1(([n,[o,s],[i,l]])=>({type:"link",url:n,...o&&{name:o},...i&&{description:i},translations:{...s,...l}})))}function uJ(e){let r;return r="dataset"===y6(e)?t=>lI(Rq)(t):"service"===y6(e)?aI():cI(),N(mn("gmd:distributionInfo","gmd:MD_Distribution"),U1(r),e=>e.flat())(e)}function dJ(e){return N(k2(),mn("gmd:extent","gmd:EX_Extent","gmd:temporalElement"),U1(Mn(Yr("gmd:EX_TemporalExtent","gmd:extent","gml:TimePeriod"),Yr("gmd:EX_TemporalExtent","gmd:extent","gml:TimeInstant"))),U1(([r,t])=>r?N(Mn(N(n1("gml:beginPosition",!1),Qs(),S1(n=>n?new Date(n):null)),N(n1("gml:endPosition",!1),Qs(),S1(n=>n?new Date(n):null))),S1(([n,o])=>({start:n,end:o})))(r):N(n1("gml:timePosition",!1),Qs(),S1(n=>n?new Date(n):null),S1(n=>({start:n})))(t)))(e)}function pJ(e){return N(k2(),mn("gmd:extent","gmd:EX_Extent","gmd:geographicElement"),U1(Mn(N(n1("gmd:EX_BoundingPolygon"),o=>o?N(n1("gmd:polygon",!1),oK,S1(s=>s?function yq(e){const r=jm(e);r.root.attributes.xmlns="http://www.opengis.net/gml/3.2";const n=Uu(Tu(r)),o=document.createElement("pre");o.appendChild(n.documentElement);const i=(new QA).readGeometryFromNode(o);return(new tI).writeGeometryObject(i)}(s):null))(o):null),N(n1("gmd:EX_GeographicBoundingBox"),o=>o?N(Mn(N(n1("gmd:westBoundLongitude"),_6()),N(n1("gmd:southBoundLatitude"),_6()),N(n1("gmd:eastBoundLongitude"),_6()),N(n1("gmd:northBoundLatitude"),_6())))(o):null),N(n1("gmd:EX_GeographicDescription"),o=>o?N(Yr("gmd:geographicIdentifier","gmd:MD_Identifier","gmd:code"),n2("description"))(o):[null,{}]))),q2(([o,s,[i]])=>!!o||!!s||!!i),U1(([o,s,[i,l]])=>({...o&&{geometry:o},...s&&{bbox:s},...i&&{description:i},translations:l})))(e)}function gJ(e){const r=hI(e);return N(Br("gmd:locale",!1),U1(N(n1("gmd:LanguageCode"),Wn("codeListValue"),S1(t=>Yu[t.toLowerCase()]))),S1(t=>t.length?t:[r]))(e)}function hI(e){return N(n1("gmd:language",!1),n1("gmd:LanguageCode"),Wn("codeListValue"),S1(r=>r?Yu[r.toLowerCase()]:null))(e)}function vJ(e){return N(k2(),Yr("gmd:citation","gmd:CI_Citation","gmd:identifier","gmd:MD_Identifier","gmd:code"),Fn())(e)}const fJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function xw(e){return(r={})=>{const t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const _J={date:xw({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:xw({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:xw({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},MJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Xu(e){return(r,t)=>{let o;if("formatting"===(t?.context?String(t.context):"standalone")&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=t?.width?String(t.width):i;o=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=t?.width?String(t.width):e.defaultWidth;o=e.values[l]||e.values[i]}return o[e.argumentCallback?e.argumentCallback(r):r]}}const AJ={ordinalNumber:(e,r)=>{const t=Number(e),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},era:Xu({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Xu({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xu({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Xu({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Xu({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Ku(e){return(r,t={})=>{const n=t.width,s=r.match(n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth]);if(!s)return null;const i=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],a=Array.isArray(l)?function SJ(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}(l,u=>u.test(i)):function IJ(e,r){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}(l,u=>u.test(i));let c;return c=e.valueCallback?e.valueCallback(a):a,c=t.valueCallback?t.valueCallback(c):c,{value:c,rest:r.slice(i.length)}}}const UJ={ordinalNumber:function BJ(e){return(r,t={})=>{const n=r.match(e.matchPattern);if(!n)return null;const o=n[0],s=r.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:r.slice(o.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:Ku({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Ku({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ku({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Ku({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Ku({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},$J={code:"en-US",formatDistance:(e,r,t)=>{let n;const o=fJ[e];return n="string"==typeof o?o:1===r?o.one:o.other.replace("{{count}}",r.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n},formatLong:_J,formatRelative:(e,r,t,n)=>MJ[e],localize:AJ,match:UJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};let uI={};function b6(){return uI}Math.pow(10,8);const dI=6048e5,XJ=864e5,gI=Symbol.for("constructDateFrom");function Sa(e,r){return"function"==typeof e?e(r):e&&"object"==typeof e&&gI in e?e[gI](r):e instanceof Date?new e.constructor(r):new Date(r)}function Ii(e,r){return Sa(r||e,e)}function vI(e){const r=Ii(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function fI(e,r){const t=Ii(e,r?.in);return t.setHours(0,0,0,0),t}function tQ(e,r){const t=Ii(e,r?.in);return function JJ(e,r,t){const[n,o]=function qJ(e,...r){const t=Sa.bind(null,e||r.find(n=>"object"==typeof n));return r.map(t)}(t?.in,e,r),s=fI(n),i=fI(o),l=+s-vI(s),a=+i-vI(i);return Math.round((l-a)/XJ)}(t,function QJ(e,r){const t=Ii(e,r?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}(t))+1}function qu(e,r){const t=b6(),n=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,o=Ii(e,r?.in),s=o.getDay(),i=(s<n?7:0)+s-n;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function H6(e,r){return qu(e,{...r,weekStartsOn:1})}function mI(e,r){const t=Ii(e,r?.in),n=t.getFullYear(),o=Sa(t,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const s=H6(o),i=Sa(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=H6(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function wI(e,r){const t=Ii(e,r?.in),n=t.getFullYear(),o=b6(),s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,i=Sa(r?.in||e,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=qu(i,r),a=Sa(r?.in||e,0);a.setFullYear(n,0,s),a.setHours(0,0,0,0);const c=qu(a,r);return+t>=+l?n+1:+t>=+c?n:n-1}function yn(e,r){return(e<0?"-":"")+Math.abs(e).toString().padStart(r,"0")}const Ba={y(e,r){const t=e.getFullYear(),n=t>0?t:1-t;return yn("yy"===r?n%100:n,r.length)},M(e,r){const t=e.getMonth();return"M"===r?String(t+1):yn(t+1,2)},d:(e,r)=>yn(e.getDate(),r.length),a(e,r){const t=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return"am"===t?"a.m.":"p.m."}},h:(e,r)=>yn(e.getHours()%12||12,r.length),H:(e,r)=>yn(e.getHours(),r.length),m:(e,r)=>yn(e.getMinutes(),r.length),s:(e,r)=>yn(e.getSeconds(),r.length),S(e,r){const t=r.length,n=e.getMilliseconds();return yn(Math.trunc(n*Math.pow(10,t-3)),r.length)}},CI={G:function(e,r,t){const n=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});default:return t.era(n,{width:"wide"})}},y:function(e,r,t){if("yo"===r){const n=e.getFullYear();return t.ordinalNumber(n>0?n:1-n,{unit:"year"})}return Ba.y(e,r)},Y:function(e,r,t,n){const o=wI(e,n),s=o>0?o:1-o;return"YY"===r?yn(s%100,2):"Yo"===r?t.ordinalNumber(s,{unit:"year"}):yn(s,r.length)},R:function(e,r){return yn(mI(e),r.length)},u:function(e,r){return yn(e.getFullYear(),r.length)},Q:function(e,r,t){const n=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return yn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,r,t){const n=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return yn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,r,t){const n=e.getMonth();switch(r){case"M":case"MM":return Ba.M(e,r);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(e,r,t){const n=e.getMonth();switch(r){case"L":return String(n+1);case"LL":return yn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(e,r,t,n){const o=function oQ(e,r){const t=Ii(e,r?.in),n=+qu(t,r)-+function nQ(e,r){const t=b6(),n=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,o=wI(e,r),s=Sa(r?.in||e,0);return s.setFullYear(o,0,n),s.setHours(0,0,0,0),qu(s,r)}(t,r);return Math.round(n/dI)+1}(e,n);return"wo"===r?t.ordinalNumber(o,{unit:"week"}):yn(o,r.length)},I:function(e,r,t){const n=function rQ(e,r){const t=Ii(e,r?.in),n=+H6(t)-+function eQ(e,r){const t=mI(e,r),n=Sa(r?.in||e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),H6(n)}(t);return Math.round(n/dI)+1}(e);return"Io"===r?t.ordinalNumber(n,{unit:"week"}):yn(n,r.length)},d:function(e,r,t){return"do"===r?t.ordinalNumber(e.getDate(),{unit:"date"}):Ba.d(e,r)},D:function(e,r,t){const n=tQ(e);return"Do"===r?t.ordinalNumber(n,{unit:"dayOfYear"}):yn(n,r.length)},E:function(e,r,t){const n=e.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(e,r,t,n){const o=e.getDay(),s=(o-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return yn(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(e,r,t,n){const o=e.getDay(),s=(o-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return yn(s,r.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(e,r,t){const n=e.getDay(),o=0===n?7:n;switch(r){case"i":return String(o);case"ii":return yn(o,r.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(e,r,t){const o=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,r,t){const n=e.getHours();let o;switch(o=12===n?"noon":0===n?"midnight":n/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,r,t){const n=e.getHours();let o;switch(o=n>=17?"evening":n>=12?"afternoon":n>=4?"morning":"night",r){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,r,t){if("ho"===r){let n=e.getHours()%12;return 0===n&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Ba.h(e,r)},H:function(e,r,t){return"Ho"===r?t.ordinalNumber(e.getHours(),{unit:"hour"}):Ba.H(e,r)},K:function(e,r,t){const n=e.getHours()%12;return"Ko"===r?t.ordinalNumber(n,{unit:"hour"}):yn(n,r.length)},k:function(e,r,t){let n=e.getHours();return 0===n&&(n=24),"ko"===r?t.ordinalNumber(n,{unit:"hour"}):yn(n,r.length)},m:function(e,r,t){return"mo"===r?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ba.m(e,r)},s:function(e,r,t){return"so"===r?t.ordinalNumber(e.getSeconds(),{unit:"second"}):Ba.s(e,r)},S:function(e,r){return Ba.S(e,r)},X:function(e,r,t){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(r){case"X":return _I(n);case"XXXX":case"XX":return e0(n);default:return e0(n,":")}},x:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"x":return _I(n);case"xxxx":case"xx":return e0(n);default:return e0(n,":")}},O:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+kI(n,":");default:return"GMT"+e0(n,":")}},z:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+kI(n,":");default:return"GMT"+e0(n,":")}},t:function(e,r,t){return yn(Math.trunc(+e/1e3),r.length)},T:function(e,r,t){return yn(+e,r.length)}};function kI(e,r=""){const t=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),s=n%60;return 0===s?t+String(o):t+String(o)+r+yn(s,2)}function _I(e,r){return e%60==0?(e>0?"-":"+")+yn(Math.abs(e)/60,2):e0(e,r)}function e0(e,r=""){const t=e>0?"-":"+",n=Math.abs(e);return t+yn(Math.trunc(n/60),2)+r+yn(n%60,2)}const MI=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});default:return r.date({width:"full"})}},yI=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});default:return r.time({width:"full"})}},sQ={p:yI,P:(e,r)=>{const t=e.match(/(P+)(p+)?/)||[],n=t[1],o=t[2];if(!o)return MI(e,r);let s;switch(n){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;default:s=r.dateTime({width:"full"})}return s.replace("{{date}}",MI(n,r)).replace("{{time}}",yI(o,r))}},iQ=/^D+$/,lQ=/^Y+$/,aQ=["D","DD","YY","YYYY"];const vQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mQ=/^'([^]*?)'?$/,wQ=/''/g,CQ=/[a-zA-Z]/;function V6(e,r,t){const n=b6(),o=t?.locale??n.locale??$J,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Ii(e,t?.in);if(!function gQ(e){return!(!function pQ(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!=typeof e||isNaN(+Ii(e)))}(l))throw new RangeError("Invalid time value");let a=r.match(fQ).map(h=>{const u=h[0];return"p"===u||"P"===u?(0,sQ[u])(h,o.formatLong):h}).join("").match(vQ).map(h=>{if("''"===h)return{isToken:!1,value:"'"};const u=h[0];if("'"===u)return{isToken:!1,value:kQ(h)};if(CI[u])return{isToken:!0,value:h};if(u.match(CQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return{isToken:!1,value:h}});o.localize.preprocessor&&(a=o.localize.preprocessor(l,a));const c={firstWeekContainsDate:s,weekStartsOn:i,locale:o};return a.map(h=>{if(!h.isToken)return h.value;const u=h.value;return(!t?.useAdditionalWeekYearTokens&&function hQ(e){return lQ.test(e)}(u)||!t?.useAdditionalDayOfYearTokens&&function cQ(e){return iQ.test(e)}(u))&&function uQ(e,r,t){const n=function dQ(e,r,t){const n="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,r,t);if(console.warn(n),aQ.includes(e))throw new RangeError(n)}(u,r,String(e)),(0,CI[u[0]])(l,u,o.localize,c)}).join("")}function kQ(e){const r=e.match(mQ);return r?r[1].replace(wQ,"'"):e}function xI(e,r,t,n){if(!t)return e;function o(s,i){return N(Xr("gmd:textGroup","gmd:LocalisedCharacterString"),O1("locale",`#${s.toUpperCase()}`),m2(i))}return N(e,w2("gmd:PT_FreeText"),no("gmd:PT_FreeText"),s1(o(n,r),...Object.entries(t).map(([s,i])=>o(s,i))))}function Bn(e){return Kc(N(ti("gco:CharacterString"),m2(e)))}function Bs(e,r,t){return xI(Bn(e),e,r,t)}function L6(e){return Kc(N(go("gmd:linkage","gmd:URL"),m2(e.toString())))}function bw(e,r){return Kc(N(ti("gmx:Anchor"),O1("xlink:href",e.toString()),r?m2(r):Ho))}function Hw(e,r,t,n){return xI(bw(e,r),r,t,n)}function z6(e){return N(ti("gco:DateTime"),m2(V6(e,"yyyy-MM-dd'T'HH:mm:ss")))}function A6(e){return Kc(N(ti("gco:Decimal"),m2(e.toString())))}function bI(e){switch(e){case"completed":return"completed";case"deprecated":return"deprecated";case"ongoing":return"onGoing";case"removed":return"removed";case"under_development":return"underDevelopment";default:throw new Error(`Could not determine progress code from status: ${e}`)}}function Vw(e){switch(e){case"author":return"author";case"collaborator":return"collaborator";case"contributor":return"contributor";case"custodian":return"custodian";case"distributor":return"distributor";case"editor":return"editor";case"funder":return"funder";case"mediator":return"mediator";case"originator":return"originator";case"other":return"other";case"owner":return"owner";case"point_of_contact":return"pointOfContact";case"principal_investigator":return"principalInvestigator";case"processor":return"processor";case"publisher":return"publisher";case"resource_provider":return"resourceProvider";case"rights_holder":return"rightsHolder";case"sponsor":return"sponsor";case"stakeholder":return"stakeholder";case"unspecified":return"unspecified";case"user":return"user";default:throw new Error(`Could not determine role code from role: ${e}`)}}function HI(e,r,t){const n=eI(e.firstName,e.lastName),o=N(Xr("gmd:address","gmd:CI_Address"),s1(N(C1("gmd:electronicMailAddress"),Bn(e.email))),e.address?s1(N(C1("gmd:deliveryPoint"),Bn(e.address))):Ho),s=N(Xr("gmd:contactInfo","gmd:CI_Contact"),e.phone?s1(N(Xr("gmd:phone","gmd:CI_Telephone","gmd:voice"),Bn(e.phone))):Ho,s1(o),e.organization?.website?s1(N(Xr("gmd:onlineResource","gmd:CI_OnlineResource"),L6(e.organization.website))):Ho);return s1(N(C1("gmd:CI_ResponsibleParty"),n?s1(N(C1("gmd:individualName"),Bn(n))):Ho,e.position?s1(N(C1("gmd:positionName"),Bn(e.position))):Ho,e.organization?.name?s1(N(C1("gmd:organisationName"),Bn(e.organization.name))):Ho,s1(s,N(Xr("gmd:role","gmd:CI_RoleCode"),O1("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_RoleCode"),O1("codeListValue",Vw(e.role))))))}function Lw(e,r,t){return"security"===r?N(Xr("gmd:resourceConstraints","gmd:MD_SecurityConstraints"),s1(N(Xr("gmd:classification","gmd:MD_ClassificationCode"),O1("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_ClassificationCode"),O1("codeListValue","restricted")),N(C1("gmd:useLimitation"),"url"in e?Hw(e.url,e.text,e.translations?.text,t):Bs(e.text,e.translations?.text,t)))):"legal"===r?N(Xr("gmd:resourceConstraints","gmd:MD_LegalConstraints"),s1(N(Xr("gmd:accessConstraints","gmd:MD_RestrictionCode"),O1("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_RestrictionCode"),O1("codeListValue","otherRestrictions")),N(C1("gmd:otherConstraints"),"url"in e?Hw(e.url,e.text,e.translations?.text,t):Bs(e.text,e.translations?.text,t)))):N(Xr("gmd:resourceConstraints","gmd:MD_Constraints","gmd:useLimitation"),"url"in e?Hw(e.url,e.text,e.translations?.text,t):Bs(e.text,e.translations?.text,t))}function zw(){return ei(N(Br("gmd:resourceConstraints"),q2(N(e6,e=>0===e.length))))}function BQ(e){return s1(N(Xr("gmd:distributionFormat","gmd:MD_Format"),s1(N(C1("gmd:name"),Bn(e)),N(C1("gmd:version"),Bn("1.0")))))}function VI(){return Xr("gmd:distributionInfo","gmd:MD_Distribution")}function LI(e,r,t,n){let o,s,i;"service"===e.type?(o=e.identifierInService,s="download",i=function _Q(e){switch(e.accessServiceProtocol.toLowerCase()){case"ogcfeatures":return"OGC API Features";case"wfs":return"OGC:WFS";case"wms":return"OGC:WMS";case"wps":return"OGC:WPS";default:return e.accessServiceProtocol}}(e)):"download"===e.type?(o=e.name,s="download",i="WWW:DOWNLOAD"):(o=e.name,s="information",i="WWW:LINK");const l=s1(N(Xr("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),L6(e.url),"description"in e?s1(N(C1("gmd:description"),Bs(e.description,e.translations?.description,n))):Ho,void 0!==o?s1(N(C1("gmd:name"),Bs(o,e.translations?.name,n))):Ho,s1(N(C1("gmd:protocol"),Bn(i)),N(Xr("gmd:function","gmd:CI_OnLineFunctionCode"),O1("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_OnLineFunctionCode"),O1("codeListValue",s)))));return N("mimeType"in e?r(e.mimeType):Ho,l)}function Xn(){return e=>{let t="gmd:MD_DataIdentification";return"service"===y6(e)&&(t="srv:SV_ServiceIdentification"),go("gmd:identificationInfo",t)(e)}}function EQ(e,r){N(ti("gmd:fileIdentifier"),Bn(e.uniqueIdentifier))(r)}function zI(e,r){N(go("gmd:hierarchyLevel","gmd:MD_ScopeCode"),O1("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_ScopeCode"),O1("codeListValue",nI(e)))(r)}function TQ(e,r){N(Xn(),go("gmd:citation","gmd:CI_Citation","gmd:title"),Bs(e.title,e.translations?.title,e.defaultLanguage))(r)}function RQ(e,r){N(Xn(),ti("gmd:abstract"),Bs(e.abstract,e.translations?.abstract,e.defaultLanguage))(r)}function FQ(e,r){N(Xn(),go("gmd:status","gmd:MD_ProgressCode"),O1("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_ProgressCode"),O1("codeListValue",bI(e.status)))(r)}function jQ(e,r){N(w2("gmd:contact"),s1(...e.contacts.map(t=>N(C1("gmd:contact"),HI(t)))))(r)}function PQ(e,r){N(Xn(),w2("gmd:pointOfContact"),w2("gmd:contact"),s1(...e.contactsForResource.map(t=>N(C1("gmd:pointOfContact"),HI(t)))))(r)}function NQ(e,r){N(Xn(),function xQ(){return ei(N(mn("gmd:descriptiveKeywords")))}(),function HQ(e,r){return s1(...e.reduce((n,o)=>{const s=o.thesaurus?.id,i=o.type;let l=n.find(a=>s?a[0].thesaurus?.id===s:a[0].type===i&&!a[0].thesaurus);return l||(l=[],n.push(l)),l.push(o),n},[]).map(n=>N(Xr("gmd:descriptiveKeywords","gmd:MD_Keywords"),s1(N(Xr("gmd:type","gmd:MD_KeywordTypeCode"),O1("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_KeywordTypeCode"),O1("codeListValue",n[0].type))),n[0].thesaurus?s1(function bQ(e){return N(Xr("gmd:thesaurusName","gmd:CI_Citation"),s1(N(C1("gmd:title"),Bn(e.name||e.id)),N(Xr("gmd:identifier","gmd:MD_Identifier"),s1(N(C1("gmd:code"),e.url?bw(e.url,e.id):Bn(e.id))))))}(n[0].thesaurus)):Ho,s1(...n.map(o=>N(C1("gmd:keyword"),Bs(o.label,o.translations?.label,r)))))))}(e.keywords,e.defaultLanguage))(r)}function OQ(e,r){N(Xn(),w2("gmd:topicCategory"),s1(...e.topics.map(t=>N(Xr("gmd:topicCategory","gmd:MD_TopicCategoryCode"),m2(t)))))(r)}function ZQ(e,r){N(Xn(),function AQ(){return ei(N(Br("gmd:resourceConstraints"),q2(N(mn("gmd:MD_LegalConstraints","gmd:accessConstraints","gmd:MD_RestrictionCode"),U1(Wn("codeListValue")),e=>e.some(r=>"license"===r)))))}(),s1(...e.licenses.map(t=>function IQ(e,r){return N(Xr("gmd:resourceConstraints","gmd:MD_LegalConstraints"),s1(N(Xr("gmd:accessConstraints","gmd:MD_RestrictionCode"),O1("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_RestrictionCode"),O1("codeListValue","license")),N(Xr("gmd:accessConstraints","gmd:MD_RestrictionCode"),O1("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_RestrictionCode"),O1("codeListValue","otherRestrictions")),N(C1("gmd:otherConstraints"),"url"in e?bw(e.url,e.text):Bs(e.text,e.translations?.text,r))))}(t,e.defaultLanguage))))(r)}function GQ(e,r){N(Xn(),function zQ(){return Kc(N(Br("gmd:resourceConstraints"),U1(ei(N(Br("gmd:MD_LegalConstraints"),q2(N(mn("gmd:accessConstraints","gmd:MD_RestrictionCode"),U1(Wn("codeListValue")),e=>e.every(r=>"license"!==r))))))))}(),zw(),s1(...e.legalConstraints.map(t=>Lw(t,"legal",e.defaultLanguage))))(r)}function WQ(e,r){N(Xn(),function LQ(){return Kc(N(Br("gmd:resourceConstraints"),U1(ei(N(Br("gmd:MD_SecurityConstraints"),q2(N(mn("gmd:useLimitation"),e=>e.length>0)))))))}(),zw(),s1(...e.securityConstraints.map(t=>Lw(t,"security",e.defaultLanguage))))(r)}function UQ(e,r){N(Xn(),function VQ(){return Kc(N(Br("gmd:resourceConstraints"),U1(ei(N(Br("gmd:MD_Constraints"),q2(N(mn("gmd:useLimitation"),e=>e.length>0)))))))}(),zw(),s1(...e.otherConstraints.map(t=>Lw(t,"other",e.defaultLanguage))))(r)}function $Q(e,r){N(Xn(),ti("gmd:resourceMaintenance"),e=>e?(e.children.forEach(r=>r.parent=null),e.children=[],e):null,ti("gmd:MD_MaintenanceInformation"),"object"==typeof e.updateFrequency?N(Fu("gmd:userDefinedMaintenanceFrequency","gts:TM_PeriodDuration"),m2(function yQ(e){const r={years:0,months:0,weeks:0,days:0,hours:0};switch(e.per){case"day":e.updatedTimes<=1?r.days=1:r.hours=Math.round(24/e.updatedTimes);break;case"week":r.days=Math.round(7/e.updatedTimes-1e-4);break;case"month":e.updatedTimes<=1?r.months=1:r.days=Math.round(30/e.updatedTimes);break;case"year":e.updatedTimes<=1?r.years=1:r.months=Math.round(12/e.updatedTimes)}return`P${r.years}Y${r.months}M${r.days}D${r.hours>0?`T${r.hours}H`:""}`}(e.updateFrequency))):N(Fu("gmd:maintenanceAndUpdateFrequency","gmd:MD_MaintenanceFrequencyCode"),O1("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_MaintenanceFrequencyCode"),O1("codeListValue",function MQ(e){switch(e){case"asNeeded":return"asNeeded";case"unknown":return"unknown";case"irregular":return"irregular";case"notPlanned":return"notPlanned";case"continual":return"continual";case"periodic":return"periodic";case"daily":return"daily";case"weekly":return"weekly";case"fortnightly":return"fortnightly";case"monthly":return"monthly";case"quarterly":return"quarterly";case"biannually":return"biannually";case"annually":return"annually";case"semimonthly":return"semimonthly";case"biennially":return"biennially"}}(e.updateFrequency))))(r)}function YQ(e,r){N(ti("gmd:dateStamp"),e=>e?(e.children.forEach(r=>r.parent=null),e.children=[],e):null,z6(e.recordUpdated))(r)}function Aw(e){return N(Xn(),go("gmd:citation","gmd:CI_Citation"),ei(N(mn("gmd:date"),q2(N(Yr("gmd:CI_Date","gmd:dateType","gmd:CI_DateTypeCode"),Wn("codeListValue"),S1(r=>r===e))))))}function Iw(e,r){return N(Xn(),go("gmd:citation","gmd:CI_Citation"),s1(N(Xr("gmd:date","gmd:CI_Date"),s1(N(C1("gmd:date"),z6(e)),N(Xr("gmd:dateType","gmd:CI_DateTypeCode"),O1("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_DateTypeCode"),O1("codeListValue",r))))))}function XQ(e,r){Aw("creation")(r),e.resourceCreated&&Iw(e.resourceCreated,"creation")(r)}function KQ(e,r){Aw("revision")(r),e.resourceUpdated&&Iw(e.resourceUpdated,"revision")(r)}function qQ(e,r){Aw("publication")(r),e.resourcePublished&&Iw(e.resourcePublished,"publication")(r)}function JQ(e,r){zI(e,r)}function QQ(e,r){e.spatialRepresentation?N(Xn(),go("gmd:spatialRepresentationType","gmd:MD_SpatialRepresentationTypeCode"),O1("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_SpatialRepresentationTypeCode"),O1("codeListValue",e.spatialRepresentation))(r):N(Xn(),w2("gmd:spatialRepresentationType"))(r)}function ttt(e,r){N(Xn(),w2("gmd:graphicOverview"),s1(...e.overviews.map(t=>N(Xr("gmd:graphicOverview","gmd:MD_BrowseGraphic"),s1(N(C1("gmd:fileName"),Bn(t.url.toString()))),"description"in t?s1(N(C1("gmd:fileDescription"),Bn(t.description))):Ho))))(r)}function ett(e,r){N(go("gmd:dataQualityInfo","gmd:DQ_DataQuality","gmd:lineage","gmd:LI_Lineage","gmd:statement"),Bs(e.lineage,e.translations?.lineage,e.defaultLanguage))(r)}function ntt(e){let r,t,n;"endpoint"===e.type?(r=e.endpointUrl.toString(),n=function rtt(e){switch(e.protocol.toLowerCase()){case"wfs":return"OGC:WFS";case"wms":return"OGC:WMS";case"wps":return"OGC:WPS";default:return e.protocol}}(e),t="download"):(r=e.url.toString(),t="information",n="WWW:LINK");const o=s1(N(C1("gmd:transferOptions"),Fu("gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),L6(r),"description"in e?s1(N(C1("gmd:description"),Bn(e.description))):Ho,"name"in e?s1(N(C1("gmd:name"),Bn(e.name))):Ho,s1(N(C1("gmd:protocol"),Bn(n)),N(Xr("gmd:function","gmd:CI_OnLineFunctionCode"),O1("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_OnLineFunctionCode"),O1("codeListValue",t)))));return N(Xr("gmd:distributionInfo","gmd:MD_Distribution"),o)}function AI(e,r){s1(...e.onlineResources.map(ntt))(r)}function stt(e,r){(function SQ(){return w2("gmd:distributionInfo")})()(r),"dataset"!==e.kind?AI(e,r):function ott(e,r){s1(...e.onlineResources.map(t=>N(VI(),LI(t,BQ,0,e.defaultLanguage))))(r)}(e,r)}function itt(e,r){N(Xn(),go("gmd:extent","gmd:EX_Extent"),w2("gmd:temporalElement"),s1(...e.temporalExtents.map(t=>N(Xr("gmd:temporalElement","gmd:EX_TemporalExtent"),s1("start"in t&&"end"in t?N(Xr("gmd:extent","gml:TimePeriod"),s1(N(C1("gml:beginPosition"),N(t.start?m2(V6(t.start,"yyyy-MM-dd")):O1("indeterminatePosition","unknown"))),N(C1("gml:endPosition"),N(t.end?m2(V6(t.end,"yyyy-MM-dd")):O1("indeterminatePosition","unknown"))))):N(Xr("gmd:extent","gml:TimeInstant","gml:timePosition"),t.start?m2(V6(t.start,"yyyy-MM-dd")):O1("indeterminatePosition","unknown")))))))(r)}function ltt(e,r){N(Xn(),go("gmd:extent","gmd:EX_Extent"),w2("gmd:geographicElement"),s1(...e.spatialExtents.map(s=>N(C1("gmd:geographicElement"),s1((s=>s?N(C1("gmd:EX_BoundingPolygon"),s1(N(C1("gmd:polygon"),s1(()=>function xq(e){const t=(new tI).readGeometry(e),s=(new QA).writeGeometryNode(t).firstElementChild;return Pm(Fm((new XMLSerializer).serializeToString(s)))}(s))))):null)(s.geometry),(s=>s?N(C1("gmd:EX_GeographicBoundingBox"),s1(N(C1("gmd:westBoundLongitude"),A6(s[0])),N(C1("gmd:eastBoundLongitude"),A6(s[2])),N(C1("gmd:southBoundLatitude"),A6(s[1])),N(C1("gmd:northBoundLatitude"),A6(s[3])))):null)(s.bbox),((s,i)=>s?N(Xr("gmd:EX_GeographicDescription","gmd:geographicIdentifier","gmd:MD_Identifier","gmd:code"),Bs(s,i,e.defaultLanguage)):null)(s.description,s.translations?.description))))))(r)}function att(e,r){if(w2("gmd:locale")(r),!e.otherLanguages?.length)return;const t=n=>N(Xr("gmd:locale","gmd:PT_Locale"),O1("id",n.toUpperCase()),Fu("gmd:languageCode","gmd:LanguageCode"),O1("codeList","http://www.loc.gov/standards/iso639-2/"),O1("codeListValue",kw[n]));s1(t(e.defaultLanguage),...e.otherLanguages.map(t))(r)}function ctt(e,r){const t=kw[e.defaultLanguage.toLowerCase()];return N(go("gmd:language","gmd:LanguageCode"),O1("codeList","http://www.loc.gov/standards/iso639-2/"),O1("codeListValue",t))(r)}function htt(e,r){N(Xn(),go("gmd:citation","gmd:CI_Citation"),w2("gmd:identifier"),e.resourceIdentifier?N(Fu("gmd:identifier","gmd:MD_Identifier","gmd:code"),Bn(e.resourceIdentifier)):Ho)(r)}class Sw extends fA{constructor(){super(...arguments),this.readers={uniqueIdentifier:Nq,kind:y6,ownerOrganization:Oq,recordUpdated:Uq,recordCreated:()=>{},recordPublished:()=>{},resourceIdentifier:vJ,resourceUpdated:Zq,resourceCreated:Gq,resourcePublished:Wq,reuseType:$q,title:Yq,abstract:Xq,contacts:Kq,contactsForResource:qq,keywords:tJ,topics:iJ,licenses:sJ,legalConstraints:rJ,securityConstraints:nJ,otherConstraints:oJ,status:eJ,updateFrequency:hJ,spatialRepresentation:lJ,overviews:aJ,lineage:cJ,onlineResources:uJ,temporalExtents:dJ,spatialExtents:pJ,otherLanguages:gJ,defaultLanguage:hI,extras:()=>{},landingPage:()=>{},translations:()=>{}},this.writers={uniqueIdentifier:EQ,kind:zI,ownerOrganization:()=>{},recordUpdated:YQ,recordCreated:()=>{},recordPublished:()=>{},resourceIdentifier:htt,resourceUpdated:KQ,resourceCreated:XQ,resourcePublished:qQ,reuseType:JQ,title:TQ,abstract:RQ,contacts:jQ,contactsForResource:PQ,keywords:NQ,topics:OQ,licenses:ZQ,legalConstraints:GQ,securityConstraints:WQ,otherConstraints:UQ,status:FQ,updateFrequency:$Q,spatialRepresentation:QQ,overviews:ttt,lineage:ett,onlineResources:stt,temporalExtents:itt,spatialExtents:ltt,otherLanguages:att,defaultLanguage:ctt,extras:()=>{},landingPage:()=>{},translations:()=>{}}}beforeDocumentCreation(r){}afterRecordRead(r){function t(n){if("translations"in n)for(const o in n.translations){const s=n.translations[o]??{};if(r.defaultLanguage in s&&delete s[r.defaultLanguage],0!==Object.keys(s).length)for(const i in s)r.otherLanguages.includes(i)||r.otherLanguages.push(i);else delete n.translations[o]}}return t(r),r.keywords.map(t),r.onlineResources.map(t),r.licenses.map(t),r.legalConstraints.map(t),r.securityConstraints.map(t),r.otherConstraints.map(t),r.contacts.map(n=>t(n.organization)),r.contactsForResource.map(n=>t(n.organization)),t(r.ownerOrganization),"dataset"===r.kind&&r.spatialExtents.map(t),r.otherLanguages.includes(r.defaultLanguage)&&(r.otherLanguages=r.otherLanguages.filter(n=>n!==r.defaultLanguage)),r}readBaseRecord(r,t){const n=this.readers.uniqueIdentifier(r,t),o=this.readers.kind(r,t),s=this.readers.ownerOrganization(r,t),i=this.readers.title(r,t),l=this.readers.abstract(r,t),a=this.readers.contacts(r,t),c=this.readers.contactsForResource(r,t),h=this.readers.recordUpdated(r,t),u=this.readers.recordCreated(r,t),d=this.readers.recordPublished(r,t),p=this.readers.resourceCreated(r,t),f=this.readers.resourceUpdated(r,t),y=this.readers.resourcePublished(r,t),V=this.readers.keywords(r,t),L=this.readers.topics(r,t),R=this.readers.legalConstraints(r,t),mt=this.readers.otherConstraints(r,t),Ct=this.readers.securityConstraints(r,t),yt=this.readers.licenses(r,t),tt=this.readers.overviews(r,t),Vt=this.readers.landingPage(r,t),Gt=this.readers.onlineResources(r,t),pe=this.readers.otherLanguages(r,t),ge=this.readers.defaultLanguage(r,t),Me=this.readers.resourceIdentifier(r,t);return{uniqueIdentifier:n,...Me&&{resourceIdentifier:Me},kind:o,otherLanguages:pe,defaultLanguage:ge,...u&&{recordCreated:u},...d&&{recordPublished:d},recordUpdated:h,...p&&{resourceCreated:p},...f&&{resourceUpdated:f},...y&&{resourcePublished:y},title:i,abstract:l,ownerOrganization:s,contacts:a,contactsForResource:c,keywords:V,topics:L,licenses:yt,legalConstraints:R,securityConstraints:Ct,otherConstraints:mt,overviews:tt,spatialExtents:this.readers.spatialExtents(r,t),onlineResources:Gt,translations:t,...Vt&&{landingPage:Vt}}}readRecord(r){var t=this;return(0,f2.A)(function*(){const o=Pm(Fm(r)),s={},i=t.readers.kind(o,s);if("dataset"===i){const l=t.readers.status(o,s),a=t.readers.spatialRepresentation(o,s),c=t.readers.temporalExtents(o,s),h=t.readers.lineage(o,s),u=t.readers.updateFrequency(o,s);return t.afterRecordRead({...t.readBaseRecord(o,s),kind:i,status:l,lineage:h,...a&&{spatialRepresentation:a},temporalExtents:c,updateFrequency:u,translations:s})}if("reuse"===i){const l=t.readers.lineage(o,s),a=t.readers.temporalExtents(o,s),c=t.readers.reuseType(o,s);return t.afterRecordRead({...t.readBaseRecord(o,s),kind:i,lineage:l,temporalExtents:a,reuseType:c})}return t.afterRecordRead({...t.readBaseRecord(o,s),kind:i})})()}writeRecord(r,t){var n=this;return(0,f2.A)(function*(){let o,s;if(t){const l=Fm(t),a=yield n.readRecord(t);o=Pm(l),s=c=>null===a||!Q9(r[c],a[c])}else o=C1("gmd:MD_Metadata")(),s=()=>!0;return s("uniqueIdentifier")&&n.writers.uniqueIdentifier(r,o),s("reuseType")&&n.writers.reuseType(r,o),s("kind")&&n.writers.kind(r,o),s("defaultLanguage")&&n.writers.defaultLanguage(r,o),s("contacts")&&n.writers.contacts(r,o),s("ownerOrganization")&&n.writers.ownerOrganization(r,o),s("recordUpdated")&&n.writers.recordUpdated(r,o),s("recordCreated")&&n.writers.recordCreated(r,o),s("recordPublished")&&n.writers.recordPublished(r,o),s("title")&&n.writers.title(r,o),s("abstract")&&n.writers.abstract(r,o),s("resourceCreated")&&n.writers.resourceCreated(r,o),s("resourcePublished")&&n.writers.resourcePublished(r,o),s("resourceUpdated")&&n.writers.resourceUpdated(r,o),s("contactsForResource")&&n.writers.contactsForResource(r,o),s("keywords")&&n.writers.keywords(r,o),s("topics")&&n.writers.topics(r,o),s("legalConstraints")&&n.writers.legalConstraints(r,o),s("securityConstraints")&&n.writers.securityConstraints(r,o),s("licenses")&&n.writers.licenses(r,o),s("otherConstraints")&&n.writers.otherConstraints(r,o),s("onlineResources")&&n.writers.onlineResources(r,o),s("resourceIdentifier")&&n.writers.resourceIdentifier(r,o),"dataset"===r.kind&&(s("status")&&n.writers.status(r,o),s("updateFrequency")&&n.writers.updateFrequency(r,o),s("spatialRepresentation")&&n.writers.spatialRepresentation(r,o),s("overviews")&&n.writers.overviews(r,o),s("temporalExtents")&&n.writers.temporalExtents(r,o),s("spatialExtents")&&n.writers.spatialExtents(r,o),s("lineage")&&n.writers.lineage(r,o)),s("otherLanguages")&&n.writers.otherLanguages(r,o),n.beforeDocumentCreation(o),Tu(jm(o))})()}}function Bw(e){return N(Yr("mdb:metadataScope","mdb:MD_MetadataScope","mdb:resourceScope","mcc:MD_ScopeCode"),Wn("codeListValue"),S1(r=>_w(r)))(e)}function Dw(e,r,t){const n=N(n1("cit:positionName"),Fn()),o=N(n1("cit:name"),Fn(),S1(d=>d?Cw(d):[])),s=Yr("cit:contactInfo","cit:CI_Contact"),i=N(s,Yr("cit:address","cit:CI_Address")),l=N(i,Mn(N(n1("cit:deliveryPoint",!1),Fn()),N(n1("cit:city",!1),Fn()),N(n1("cit:postalCode",!1),Fn()),N(n1("cit:country",!1),Fn())),S1(d=>d.filter(p=>!!p).join(", "))),a=N(s,Yr("cit:phone","cit:CI_Telephone","cit:number"),Fn()),c=N(i,n1("cit:electronicMailAddress",!1),Fn()),h={name:"Missing Organization",translations:{}};let u={};return t&&(u={email:t.email,...t.address&&{address:t.address},...t.phone&&{phone:t.phone},...t.position&&{position:t.position},organization:r}),N(Mn(n,o,c,l,a),S1(([d,[p,f],y,V,L])=>({...u,email:y||u.email||"missing@missing.com",role:e,organization:r||h,...d&&{position:d},...p&&{firstName:p},...f&&{lastName:f},...V&&{address:V},...L&&{phone:L}})))}function II(){const e=N(n1("cit:role"),oI()),r=N(Mn(e,mn("cit:party","cit:CI_Individual")),([n,o])=>o.map(Dw(n))),t=N(Mn(e,mn("cit:party","cit:CI_Organisation")),S1(([n,o])=>o.map(function ptt(e){return N(Mn(function dtt(){const e=N(mn("cit:contactInfo","cit:CI_Contact","cit:onlineResource","cit:CI_OnlineResource","cit:linkage"),Aa(0),Rl());return N(Mn(N(n1("cit:name",!1),n2("name")),e),S1(([[r,t],n])=>({name:r,...n&&{website:n},translations:t})))}(),Dw(e),mn("cit:individual","cit:CI_Individual")),S1(([r,t,n])=>n.length?n.map(o=>Dw(e,r,t)(o)):[{email:t.email,...t.address&&{address:t.address},...t.phone&&{phone:t.phone},...t.position&&{position:t.position},organization:r,role:e}]))}(n))),e=>e.flat());return N(Mn(r,t),e=>e.flat())}function gtt(e){return N(Yr("mdb:metadataIdentifier","mcc:MD_Identifier","mcc:code"),Fn())(e)}function vtt(e){const r=SI(e),t=BI(e);return(r.filter(o=>"point_of_contact"===o.role)[0]||r[0]||t[0]).organization}function SI(e){return N(mn("mdb:contact","cit:CI_Responsibility"),U1(II()),e=>e.flat())(e)}function BI(e){return N(Mn(N(k2(),mn("mri:citation","cit:CI_Citation","cit:citedResponsibleParty")),N(k2(),Br("mri:pointOfContact",!1)),N(function utt(){return Yr("mdb:distributionInfo","mrd:MD_Distribution")}(),Br("mrd:distributorContact"))),e=>e.flat(),U1(n1("cit:CI_Responsibility",!1)),U1(II()),e=>e.flat())(e)}function ftt(e){return N(Yr("mdb:metadataLinkage","cit:CI_OnlineResource","cit:linkage"),Rl())(e)}function mtt(e,r){return N(Yr("mdb:resourceLineage","mrl:LI_Lineage","mrl:statement"),n2("lineage",r),S1(([t])=>t))(e)}function Ew(e){return N(Br("mdb:dateInfo",!1),q2(r=>N(n1("cit:CI_DateTypeCode"),Wn("codeListValue"))(r)===e),Aa(0),n1("cit:date"),Mw())}function wtt(e){return Ew("revision")(e)}function Ctt(e){return Ew("creation")(e)}function ktt(e){return Ew("publication")(e)}function _tt(e){return N(Yr("mdb:metadataScope","mdb:MD_MetadataScope","mdb:resourceScope","mcc:MD_ScopeCode"),Wn("codeListValue"),S1(r=>rI(r)))(e)}const Mtt=N(wA("mrd:MD_Distribution"),Yr("mrd:distributionFormat","mrd:MD_Format","mrd:formatSpecificationCitation","cit:CI_Citation","cit:title"),Fn(),S1(_A));function ytt(e){let r;return r="dataset"===Bw(e)?lI(Mtt):"service"===Bw(e)?aI():cI(),N(mn("mrd:distributionInfo","mrd:MD_Distribution"),U1(r),e=>e.flat())(e)}function DI(){return N(n1("lan:LanguageCode"),Wn("codeListValue"),S1(e=>e?Yu[e.toLowerCase()]:null))}function xtt(e){return N(n1("mdb:defaultLocale",!1),DI())(e)}function btt(e){return N(Br("mdb:otherLocale",!1),U1(DI()))(e)}function Htt(e,r){N(go("mdb:metadataIdentifier","mcc:MD_Identifier","mcc:code"),Bn(e.uniqueIdentifier))(r)}function EI(e,r){const t=nI(e);N(go("mdb:metadataScope","mdb:MD_MetadataScope","mdb:resourceScope","mcc:MD_ScopeCode"),O1("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#MD_ScopeCode"),O1("codeListValue",t),m2(t))(r)}function Tw(e){return ei(N(Br("mdb:dateInfo",!1),q2(N(n1("cit:CI_DateTypeCode"),Wn("codeListValue"),S1(r=>r===e)))))}function Rw(e,r){return s1(N(C1("mdb:dateInfo"),no("cit:CI_Date"),s1(N(C1("cit:date"),z6(e)),N(C1("cit:dateType"),no("cit:CI_DateTypeCode"),O1("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#CI_DateTypeCode"),O1("codeListValue",r),m2(r)))))}function Vtt(e,r){Tw("revision")(r),Rw(e.recordUpdated,"revision")(r)}function Ltt(e,r){Tw("creation")(r),e.recordCreated&&Rw(e.recordCreated,"creation")(r)}function ztt(e,r){Tw("publication")(r),e.recordPublished&&Rw(e.recordPublished,"publication")(r)}function Fw(e){return N(Xn(),go("mri:citation","cit:CI_Citation"),ei(N(Br("cit:date",!1),q2(N(n1("cit:CI_DateTypeCode"),Wn("codeListValue"),S1(r=>r===e))))))}function jw(e,r){return N(k2(),Yr("mri:citation","cit:CI_Citation"),s1(N(C1("cit:date"),no("cit:CI_Date"),s1(N(C1("cit:date"),z6(e)),N(C1("cit:dateType"),no("cit:CI_DateTypeCode"),O1("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#CI_DateTypeCode"),O1("codeListValue",r),m2(r))))))}function Att(e,r){Fw("revision")(r),e.resourceUpdated&&jw(e.resourceUpdated,"revision")(r)}function Itt(e,r){Fw("creation")(r),e.resourceCreated&&jw(e.resourceCreated,"creation")(r)}function Stt(e,r){Fw("publication")(r),e.resourcePublished&&jw(e.resourcePublished,"publication")(r)}function Btt(e,r){EI(e,r)}function Pw(e,r){const t=eI(e.firstName,e.lastName),n=N(C1("cit:individual"),no("cit:CI_Individual"),t?s1(N(C1("cit:name"),Bn(t))):Ho,e.position?s1(N(C1("cit:positionName"),Bn(e.position))):Ho),o=N(C1("cit:contactInfo"),no("cit:CI_Contact"),s1(N(C1("cit:address"),no("cit:CI_Address"),s1(N(C1("cit:electronicMailAddress"),Bn(e.email))),e.address?s1(N(C1("cit:deliveryPoint"),Bn(e.address))):Ho)),e.organization?.website?s1(N(C1("cit:onlineResource"),no("cit:CI_OnlineResource"),no("cit:linkage"),Bn(e.organization.website.toString()))):Ho,e.phone?s1(N(C1("cit:phone"),no("cit:CI_Telephone"),no("cit:number"),Bn(e.phone))):Ho),s=N(C1("cit:role"),no("cit:CI_RoleCode"),O1("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#CI_RoleCode"),O1("codeListValue",Vw(e.role)),m2(Vw(e.role))),i=N(C1("cit:party"),no("cit:CI_Organisation"),e.organization?.name?s1(N(C1("cit:name"),Bs(e.organization?.name,e.organization?.translations?.name,r))):Ho,s1(o,n));return s1(N(C1("cit:CI_Responsibility"),s1(s,i)))}function Dtt(e,r){N(w2("mdb:contact"),s1(...e.contacts.map(t=>N(C1("gmd:contact"),Pw(t,e.defaultLanguage)))))(r)}function Ett(e,r){const t=e.contactsForResource.filter(o=>"distributor"!==o.role),n=e.contactsForResource.filter(o=>"distributor"===o.role);N(Xn(),w2("mri:pointOfContact"),s1(...t.map(o=>N(C1("mri:pointOfContact"),Pw(o,e.defaultLanguage)))))(r),n.length&&N(function DQ(){return e=>go("gmd:distributionInfo","gmd:MD_Distribution")(e)}(),w2("mrd:distributor"),no("mrd:distributor"),no("mrd:MD_Distributor"),s1(...n.map(o=>N(C1("mrd:distributorContact"),Pw(o,e.defaultLanguage)))))(r)}function Ttt(e,r){N(go("mdb:metadataLinkage","cit:CI_OnlineResource","cit:linkage"),L6(e.landingPage))(r)}function Rtt(e,r){N(go("mdb:resourceLineage","mrl:LI_Lineage","mrl:statement"),Bs(e.lineage,e.translations?.lineage,e.defaultLanguage))(r)}function Ftt(e,r){const t=bI(e.status);N(Xn(),go("mri:status","mcc:MD_ProgressCode"),O1("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#MD_ProgressCode"),O1("codeListValue",t),m2(t))(r)}function jtt(e,r){e.spatialRepresentation?N(Xn(),go("mri:spatialRepresentationType","mcc:MD_SpatialRepresentationTypeCode"),O1("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#MD_SpatialRepresentationTypeCode"),O1("codeListValue",e.spatialRepresentation),m2(e.spatialRepresentation))(r):N(Xn(),w2("mri:spatialRepresentationType"))(r)}function Ntt(e){return s1(N(C1("mrd:distributionFormat"),no("mrd:MD_Format"),no("mrd:formatSpecificationCitation"),no("cit:CI_Citation"),no("cit:title"),Bn(e)))}function Ott(e,r){(function Ptt(e){N(mn("mdb:distributionInfo","mrd:MD_Distribution"),U1(N(ei(Br("mrd:distributionFormat",!1)),ei(Br("mrd:transferOptions",!1)))))(e),ei(N(Br("mdb:distributionInfo",!1),q2(N(n1("mrd:MD_Distribution"),e6,S1(r=>0===r.length)))))(e)})(r),"service"!==e.kind?e.onlineResources.forEach((t,n)=>{N(Ia(N(mn("gmd:distributionInfo","gmd:MD_Distribution"),Aa(n)),CA(VI())),LI(t,Ntt,0,e.defaultLanguage))(r)}):AI(e,r)}function TI(e){const r=kw[e.toLowerCase()];return N(ti("lan:PT_Locale"),O1("id",e.toUpperCase()),go("lan:language","gmd:LanguageCode"),O1("codeList","http://www.loc.gov/standards/iso639-2/"),O1("codeListValue",r))}function Ztt(e,r){N(ti("mdb:defaultLocale"),TI(e.defaultLanguage))(r)}function Gtt(e,r){w2("mdb:otherLocale")(r),e.otherLanguages?.length&&s1(...e.otherLanguages.map(t=>N(C1("mdb:otherLocale"),TI(t))))(r)}class Nw extends Sw{constructor(){super(),this.readers.uniqueIdentifier=gtt,this.readers.kind=Bw,this.readers.recordUpdated=wtt,this.readers.recordCreated=Ctt,this.readers.recordPublished=ktt,this.readers.contacts=SI,this.readers.contactsForResource=BI,this.readers.ownerOrganization=vtt,this.readers.landingPage=ftt,this.readers.lineage=mtt,this.readers.onlineResources=ytt,this.readers.defaultLanguage=xtt,this.readers.otherLanguages=btt,this.readers.reuseType=_tt,this.writers.uniqueIdentifier=Htt,this.writers.kind=EI,this.writers.recordUpdated=Vtt,this.writers.recordCreated=Ltt,this.writers.recordPublished=ztt,this.writers.resourceUpdated=Att,this.writers.resourceCreated=Itt,this.writers.resourcePublished=Stt,this.writers.reuseType=Btt,this.writers.contacts=Dtt,this.writers.contactsForResource=Ett,this.writers.ownerOrganization=()=>{},this.writers.landingPage=Ttt,this.writers.lineage=Rtt,this.writers.onlineResources=Ott,this.writers.status=Ftt,this.writers.spatialRepresentation=jtt,this.writers.defaultLanguage=Ztt,this.writers.otherLanguages=Gtt}beforeDocumentCreation(r){!function lK(e,r){(function t(n){n.name in r?n.name=r[n.name]:n.name&&mA(n.name)in r&&(n.name=`${r[mA(n.name)]}:${Tl(n.name)}`),n.children&&n.children.forEach(t)})(e)}(r,{gmd:"mdb","gmd:characterEncoding":"lan:characterEncoding","gmd:MD_CharacterSetCode":"lan:MD_CharacterSetCode","gmd:MD_DataIdentification":"mri:MD_DataIdentification","gmd:citation":"mri:citation","gmd:abstract":"mri:abstract","gmd:title":"cit:title","gmd:CI_Citation":"cit:CI_Citation","gmx:Anchor":"gcx:Anchor","gmd:PT_Locale":"lan:PT_Locale","gmd:PT_FreeText":"lan:PT_FreeText","gmd:LanguageCode":"lan:LanguageCode","gmd:status":"mri:status","gmd:MD_ProgressCode":"mri:MD_ProgressCode","gmd:date":"cit:date","gmd:CI_Date":"cit:CI_Date","gmd:dateType":"cit:dateType","gmd:CI_DateTypeCode":"cit:CI_DateTypeCode","gmd:CI_Responsibility":"cit:CI_Responsibility","gmd:role":"cit:role","gmd:CI_RoleCode":"cit:CI_RoleCode","gmd:descriptiveKeywords":"mri:descriptiveKeywords","gmd:MD_Keywords":"mri:MD_Keywords","gmd:type":"mri:type","gmd:MD_KeywordTypeCode":"mri:MD_KeywordTypeCode","gmd:thesaurusName":"mri:thesaurusName","gmd:keyword":"mri:keyword","gmd:identifier":"cit:identifier","gmd:MD_Identifier":"mcc:MD_Identifier","gmd:code":"mcc:code","gmd:MD_Distribution":"mrd:MD_Distribution","gmd:transferOptions":"mrd:transferOptions","gmd:MD_DigitalTransferOptions":"mrd:MD_DigitalTransferOptions","gmd:onLine":"mrd:onLine","gmd:distributionFormat":"mrd:distributionFormat","gmd:MD_Format":"mrd:MD_Format","gmd:CI_OnlineResource":"cit:CI_OnlineResource","gmd:linkage":"cit:linkage","gmd:name":"cit:name","gmd:description":"cit:description","gmd:CI_OnLineFunctionCode":"cit:CI_OnLineFunctionCode","gmd:function":"cit:function","gmd:protocol":"cit:protocol","gmd:topicCategory":"mri:topicCategory","gmd:MD_TopicCategoryCode":"mri:MD_TopicCategoryCode","gmd:resourceMaintenance":"mri:resourceMaintenance","gmd:MD_MaintenanceInformation":"mmi:MD_MaintenanceInformation","gmd:userDefinedMaintenanceFrequency":"mmi:userDefinedMaintenanceFrequency","gts:TM_PeriodDuration":"gco:TM_PeriodDuration","gmd:resourceConstraints":"mri:resourceConstraints","gmd:MD_Constraints":"mco:MD_Constraints","gmd:MD_LegalConstraints":"mco:MD_LegalConstraints","gmd:MD_SecurityConstraints":"mco:MD_SecurityConstraints","gmd:useLimitation":"mco:useLimitation","gmd:useConstraints":"mco:useConstraints","gmd:accessConstraints":"mco:accessConstraints","gmd:otherConstraints":"mco:otherConstraints","gmd:MD_RestrictionCode":"mco:MD_RestrictionCode","gmd:classification":"mco:classification","gmd:MD_ClassificationCode":"mco:MD_ClassificationCode","gmd:graphicOverview":"mri:graphicOverview","gmd:MD_BrowseGraphic":"mcc:MD_BrowseGraphic","gmd:fileName":"mcc:fileName","gmd:fileDescription":"mcc:fileDescription","gmd:URL":"gco:CharacterString"})}writeRecord(r,t){var n=()=>super.writeRecord,o=this;return(0,f2.A)(function*(){let s=yield n().call(o,r,t);return s=s.replace('"http://www.isotc211.org/2005/gco"','"http://standards.iso.org/iso/19115/-3/gco/1.0"'),s})()}}var z2=K(1752);function jn(e,r){var t=r||{namedNode:function(o){return new z2.A(o)}};return function(n){return t.namedNode(e+(n||""))}}const Q2=jn("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),Ju=(jn("http://www.w3.org/2000/01/rdf-schema#"),jn("http://xmlns.com/foaf/0.1/")),Ar=(jn("http://www.w3.org/2001/XMLSchema#"),jn("http://www.w3.org/ns/dcat#")),Kn=jn("http://purl.org/dc/terms/"),Wtt=jn("http://www.w3.org/2004/02/skos/core#"),Qu=(jn("http://schema.org/"),jn("https://spdx.org/rdf/terms/#"),jn("http://www.w3.org/ns/adms#"),jn("http://www.w3.org/ns/dqv#"),jn("http://www.w3.org/2002/07/owl#"),jn("http://www.w3.org/2006/vcard/ns#")),Utt=(jn("http://www.w3.org/2006/time#"),jn("http://www.w3.org/ns/locn#"));var Ow=K(9391),fo=K(1322),mo=K(1308),Da=K(1853),A2=K(4009),vs=K(6190),Te=K(3380),Fl=K(9423),ts=K(9788),y1=K(9535),qn=K(1551);const jl={boolean:new z2.A("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new z2.A("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new z2.A("http://www.w3.org/2001/XMLSchema#decimal"),double:new z2.A("http://www.w3.org/2001/XMLSchema#double"),integer:new z2.A("http://www.w3.org/2001/XMLSchema#integer"),langString:new z2.A("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new z2.A("http://www.w3.org/2001/XMLSchema#string")};function $tt(e,r,t){return r=(0,A2.A)(r),(0,Da.A)(e,RI()?Reflect.construct(r,t||[],(0,A2.A)(e).constructor):r.apply(e,t))}function RI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RI=function(){return!!e})()}var Ds=function(e){function r(t,n,o){var s;return(0,fo.A)(this,r),s=$tt(this,r,[t]),(0,Te.A)(s,"termType",y1.QW),(0,Te.A)(s,"classOrder",Fl.A.Literal),(0,Te.A)(s,"datatype",jl.string),(0,Te.A)(s,"isVar",0),(0,Te.A)(s,"language",""),n?(s.language=n,s.datatype=jl.langString):s.datatype=o?z2.A.fromValue(o):jl.string,s}return(0,vs.A)(r,e),(0,mo.A)(r,[{key:"copy",value:function(){return new r(this.value,this.lang,this.datatype)}},{key:"equals",value:function(n){return!!n&&this.termType===n.termType&&this.value===n.value&&this.language===n.language&&(!this.datatype&&!n.datatype||this.datatype&&this.datatype.equals(n.datatype))}},{key:"lang",get:function(){return this.language},set:function(n){this.language=n||""}},{key:"toNT",value:function(){return r.toNT(this)}},{key:"toString",value:function(){return""+this.value}}],[{key:"toNT",value:function(n){if("number"==typeof n.value)return""+n.value;if("string"!=typeof n.value)throw new Error("Value of RDF literal is not string or number: "+n.value);var o=n.value;return o='"'+(o=(o=(o=(o=o.replace(/\\/g,"\\\\")).replace(/\"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r"))+'"',n.language?o+="@"+n.language:n.datatype.equals(jl.string)||(o+="^^"+n.datatype.toCanonical()),o}},{key:"fromBoolean",value:function(n){return new r(n?"1":"0",null,jl.boolean)}},{key:"fromDate",value:function(n){if(!(n instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");var o=function(l){return(""+(100+l)).slice(1,3)};return new r(n.getUTCFullYear()+"-"+o(n.getUTCMonth()+1)+"-"+o(n.getUTCDate())+"T"+o(n.getUTCHours())+":"+o(n.getUTCMinutes())+":"+o(n.getUTCSeconds())+"Z",null,jl.dateTime)}},{key:"fromNumber",value:function(n){if("number"!=typeof n)throw new TypeError("Invalid argument to Literal.fromNumber()");var o,s=n.toString();return o=s.indexOf("e")<0&&Math.abs(n)<=Number.MAX_SAFE_INTEGER?Number.isInteger(n)?jl.integer:jl.decimal:jl.double,new r(s,null,o)}},{key:"fromValue",value:function(n){if((0,qn.c$)(n))return n;switch((0,Ow.A)(n)){case"object":if(n instanceof Date)return r.fromDate(n);case"boolean":return r.fromBoolean(n);case"number":return r.fromNumber(n);case"string":return new r(n)}throw new Error("Can't make literal from "+n+" of type "+(0,Ow.A)(n))}}])}(ts.A);function Ytt(e,r,t){return r=(0,A2.A)(r),(0,Da.A)(e,FI()?Reflect.construct(r,t||[],(0,A2.A)(e).constructor):r.apply(e,t))}function FI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FI=function(){return!!e})()}var Si=function(e){function r(t){var n;return(0,fo.A)(this,r),n=Ytt(this,r,[r.getId(t)]),(0,Te.A)(n,"termType",y1.$Q),(0,Te.A)(n,"classOrder",Fl.A.BlankNode),(0,Te.A)(n,"isBlank",1),(0,Te.A)(n,"isVar",1),n}return(0,vs.A)(r,e),(0,mo.A)(r,[{key:"id",get:function(){return this.value},set:function(n){this.value=n}},{key:"compareTerm",value:function(n){return this.classOrder<n.classOrder?-1:this.classOrder>n.classOrder?1:this.id<n.id?-1:this.id>n.id?1:0}},{key:"copy",value:function(n){var o=new r;return n.copyTo(this,o),o}},{key:"toCanonical",value:function(){return r.NTAnonymousNodePrefix+this.value}},{key:"toString",value:function(){return r.NTAnonymousNodePrefix+this.id}}],[{key:"getId",value:function(n){if(n){if("string"!=typeof n)throw new Error("Bad id argument to new blank node: "+n);if(n.includes("#")){var o=n.split("#");return o[o.length-1]}return n}return"n"+r.nextId++}}])}(ts.A);function Xtt(e,r,t){return r=(0,A2.A)(r),(0,Da.A)(e,jI()?Reflect.construct(r,t||[],(0,A2.A)(e).constructor):r.apply(e,t))}function jI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jI=function(){return!!e})()}function PI(e){return typeof e>"u"||null===e||(0,qn.D0)(e)?e:Array.isArray(e)?new Ea(e):Ds.fromValue(e)}(0,Te.A)(Si,"nextId",0),(0,Te.A)(Si,"NTAnonymousNodePrefix","_:");var Ea=function(e){function r(t){var n;return(0,fo.A)(this,r),n=Xtt(this,r,[(Si.nextId++).toString()]),(0,Te.A)(n,"termType",y1.r0),(0,Te.A)(n,"classOrder",Fl.A.Collection),(0,Te.A)(n,"closed",!1),(0,Te.A)(n,"compareTerm",Si.prototype.compareTerm),(0,Te.A)(n,"elements",[]),(0,Te.A)(n,"isVar",0),t&&t.length>0&&t.forEach(function(o){n.elements.push(PI(o))}),n}return(0,vs.A)(r,e),(0,mo.A)(r,[{key:"id",get:function(){return this.value},set:function(n){this.value=n}},{key:"append",value:function(n){return this.elements.push(n)}},{key:"close",value:function(){return this.closed=!0,this.closed}},{key:"shift",value:function(){return this.elements.shift()}},{key:"substitute",value:function(n){return new r(this.elements.map(function(s){return s.substitute(n)}))}},{key:"toNT",value:function(){return r.toNT(this)}},{key:"toString",value:function(){return"("+this.elements.join(" ")+")"}},{key:"unshift",value:function(n){return this.elements.unshift(n)}}],[{key:"toNT",value:function(n){return Si.NTAnonymousNodePrefix+n.id}}])}(ts.A);(0,Te.A)(Ea,"termType",y1.r0);var t3="chrome:theSession";function Ktt(e,r,t){return r=(0,A2.A)(r),(0,Da.A)(e,NI()?Reflect.construct(r,t||[],(0,A2.A)(e).constructor):r.apply(e,t))}function NI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NI=function(){return!!e})()}new z2.A(t3);var Zw=function(e){function r(){var t;return(0,fo.A)(this,r),t=Ktt(this,r,[""]),(0,Te.A)(t,"value",""),(0,Te.A)(t,"termType",y1.ic),(0,Te.A)(t,"uri",t3),t}return(0,vs.A)(r,e),(0,mo.A)(r,[{key:"toCanonical",value:function(){return this.value}},{key:"toString",value:function(){return"DefaultGraph"}}])}(ts.A);function OI(e){return!!e&&e.termType===y1.ic}var qtt=new Zw,r0=function(){function e(r,t,n,o){(0,fo.A)(this,e),(0,Te.A)(this,"subject",void 0),(0,Te.A)(this,"predicate",void 0),(0,Te.A)(this,"object",void 0),(0,Te.A)(this,"graph",void 0),this.subject=ts.A.fromValue(r),this.predicate=ts.A.fromValue(t),this.object=ts.A.fromValue(n),this.graph=null==o?qtt:ts.A.fromValue(o)}return(0,mo.A)(e,[{key:"why",get:function(){return this.graph},set:function(t){this.graph=t}},{key:"equals",value:function(t){return t.subject.equals(this.subject)&&t.predicate.equals(this.predicate)&&t.object.equals(this.object)&&t.graph.equals(this.graph)}},{key:"substitute",value:function(t){return new e(this.subject.substitute(t),this.predicate.substitute(t),this.object.substitute(t),OI(this.graph)?this.graph:this.graph.substitute(t))}},{key:"toCanonical",value:function(){var t=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==y1.ic&&t.push(this.graph.toCanonical()),t.join(" ")+" ."}},{key:"toNT",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}},{key:"toNQ",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),OI(this.graph)?"":this.graph.toNT()].join(" ")+" ."}},{key:"toString",value:function(){return this.toNT()}}])}(),ZI=ZI||console.log;function n0(e){var r;return(r=e.indexOf("#"))<0?e:e.slice(0,r)}function Jtt(e){var r=/[^\/]*\/\/([^\/]*)\//.exec(e);return r?r[1]:""}function ri(e,r){var t,n,o,i,l,a=r.indexOf("#");if(a>0&&(r=r.slice(0,a)),0===e.length)return r;if(0===e.indexOf("#"))return r+e;if(e.indexOf(":")>=0||(t=r.indexOf(":"),0===r.length))return e;if(t<0)return ZI("Invalid base: "+r+" in join with given: "+e),e;if(n=r.slice(0,+t+1||9e9),0===e.indexOf("//"))return n+e;if(r.indexOf("//",t)===t+1){if((o=r.indexOf("/",t+3))<0)return r.length-t-3>0?r+"/"+e:n+e}else if((o=r.indexOf("/",t+1))<0)return r.length-t-1>0?r+"/"+e:n+e;if(0===e.indexOf("/"))return r.slice(0,o)+e;if((i=(l=r.slice(o)).lastIndexOf("/"))<0)return n+e;for(i>=0&&i<l.length-1&&(l=l.slice(0,+i+1||9e9)),l+=e;l.match(/[^\/]*\/\.\.\//);)l=l.replace(/[^\/]*\/\.\.\//,"");return l=(l=l.replace(/\.\//g,"")).replace(/\/\.$/,"/"),r.slice(0,o)+l}function GI(e){var r=e.indexOf(":");return r<0?null:e.slice(0,r)}function Gw(e,r){var n,o,s,i,l,a,c,h,u,d,p,f,y=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!e)return r;if(e===r)return"";for(n=c=0,i=r.length;c<i&&r[n]===e[n];n=++c);if(e.slice(0,n).match(y)&&((o=r.indexOf("//"))<0&&(o=-2),s=r.indexOf("/",o+2),"/"!==r[s+1]&&"/"!==e[s+1]&&r.slice(0,s)===e.slice(0,s)))return r.slice(s);if("#"===r[n]&&e.length===n)return r.slice(n);for(;n>0&&"/"!==r[n-1];)n--;if(n<3||e.indexOf("//",n-2)>0||r.indexOf("//",n-2)>0||e.indexOf(":",n)>0)return r;for(a=0,h=0,l=(d=e.slice(n)).length;h<l;h++)"/"===d[h]&&a++;if(0===a&&n<r.length&&"#"===r[n])return"./"+r.slice(n);if(0===a&&n===r.length)return"./";if(f="",a>0)for(u=1,p=a;p>=1?u<=p:u>=p;p>=1?++u:--u)f+="../";return f+r.slice(n)}function Qtt(e,r,t){return r=(0,A2.A)(r),(0,Da.A)(e,WI()?Reflect.construct(r,t||[],(0,A2.A)(e).constructor):r.apply(e,t))}function WI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WI=function(){return!!e})()}var o0=function(e){function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,fo.A)(this,r),t=Qtt(this,r,[n]),(0,Te.A)(t,"termType",y1.P2),(0,Te.A)(t,"base","varid:"),(0,Te.A)(t,"classOrder",Fl.A.Variable),(0,Te.A)(t,"isVar",1),(0,Te.A)(t,"uri",void 0),t.base="varid:",t.uri=ri(n,t.base),t}return(0,vs.A)(r,e),(0,mo.A)(r,[{key:"equals",value:function(n){return!!n&&this.termType===n.termType&&this.value===n.value}},{key:"hashString",value:function(){return this.toString()}},{key:"substitute",value:function(n){var o;return null!=(o=n[this.toNT()])?o:this}},{key:"toString",value:function(){return r.toString(this)}}],[{key:"toString",value:function(n){return n.uri.slice(0,n.base.length)===n.base?"?".concat(n.uri.slice(n.base.length)):"?".concat(n.uri)}}])}(ts.A),fs=function(e){return e.collections="COLLECTIONS",e.defaultGraphType="DEFAULT_GRAPH_TYPE",e.equalsMethod="EQUALS_METHOD",e.id="ID",e.identity="IDENTITY",e.reversibleId="REVERSIBLE_ID",e.variableType="VARIABLE_TYPE",e}({}),UI=new Zw;const Bi={supports:(0,Te.A)((0,Te.A)((0,Te.A)((0,Te.A)((0,Te.A)((0,Te.A)((0,Te.A)({},fs.collections,!1),fs.defaultGraphType,!1),fs.equalsMethod,!0),fs.identity,!1),fs.id,!0),fs.reversibleId,!1),fs.variableType,!0),blankNode:function(r){return new Si(r)},defaultGraph:function(){return UI},equals:function(r,t){return r===t||!r||!t||((0,qn.aF)(r)||(0,qn.aF)(t)?!(!(0,qn.aF)(r)||!(0,qn.aF)(t))&&this.equals(r.subject,t.subject)&&this.equals(r.predicate,t.predicate)&&this.equals(r.object,t.object)&&this.equals(r.graph,t.graph):!(!(0,qn.D0)(r)||!(0,qn.D0)(t))&&this.id(r)===this.id(t))},id:function(r){if(!r)return"undefined";if((0,qn.aF)(r))return this.quadToNQ(r);switch(r.termType){case y1.ic:return"defaultGraph";case y1.P2:return o0.toString(r);default:var t=this.termToNQ(r);if(t)return t;throw new Error("Can't id term with type '".concat(r.termType,"'"))}},isQuad:function(r){return r instanceof r0},literal:function(r,t){if("string"!=typeof r&&!t)return Ds.fromValue(r);var n="string"==typeof r?r:""+r;return"string"==typeof t?-1===t.indexOf(":")?new Ds(n,t):new Ds(n,null,this.namedNode(t)):new Ds(n,null,t)},namedNode:function(r){return new z2.A(r)},quad:function(r,t,n,o){return new r0(r,t,n,o||UI)},triple:function(r,t,n,o){return this.quad(r,t,n,o)},quadToNQ:function(r){return"".concat(this.termToNQ(r.subject)," ").concat(this.termToNQ(r.predicate)," ").concat(this.termToNQ(r.object)," ").concat(this.termToNQ(r.graph)," .")},termToNQ:function(r){var t=this;switch(r.termType){case y1.$Q:return"_:"+r.value;case y1.ic:return"";case y1.S:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case y1.QW:return Ds.toNT(r);case y1.bD:case y1.Kk:return"<"+r.value+">";case y1.r0:return"("+r.elements.map(function(n){return t.termToNQ(n)}).join(" ")+")";default:throw new Error("Can't serialize nonstandard term type (was '".concat(r.termType,"')"))}},toNQ:function(r){return this.isQuad(r)?this.quadToNQ(r):this.termToNQ(r)},variable:function(r){return new o0(r)}},o2_debug=function(r){},o2_warn=function(r){},o2_info=function(r){},o2_error=function(r){};var Di=K(9223);function $I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi;return{boolean:e.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:e.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:e.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),double:e.namedNode("http://www.w3.org/2001/XMLSchema#double"),integer:e.namedNode("http://www.w3.org/2001/XMLSchema#integer"),langString:e.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:e.namedNode("http://www.w3.org/2001/XMLSchema#string")}}$I(Bi);var ret=K(974),YI=K.n(ret),net=K(6998),set=function(){function e(r){(0,fo.A)(this,e),(0,Te.A)(this,"_notQNameChars","\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~"),(0,Te.A)(this,"_notNameChars",this._notQNameChars+":"),(0,Te.A)(this,"validPrefix",new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/)),(0,Te.A)(this,"forbidden1",new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm)),(0,Te.A)(this,"forbidden3",new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm)),this.flags="",this.base=null,this.prefixes=[],this.namespaces=[];var t=Object.keys(YI()());for(var n in t){var o=YI()()[t[n]](""),s=t[n];this.prefixes[o]=s,this.namespaces[s]=o}this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=r,this.rdfFactory=r.rdfFactory||Bi,this.xsd=$I(this.rdfFactory)}return(0,mo.A)(e,[{key:"setBase",value:function(t){return this.base=t,this}},{key:"setFlags",value:function(t){return this.flags=t||"",this}},{key:"toStr",value:function(t){var n=t.toNT();return"Graph"===t.termType&&(this.formulas[n]=t),n}},{key:"fromStr",value:function(t){if("{"===t[0]){var n=this.formulas[t];return n||console.log("No formula object for "+t),n}return this.store.fromNT(t)}},{key:"setNamespaces",value:function(t){for(var n in t)this.setPrefix(n,t[n]);return this}},{key:"setPrefix",value:function(t,n){if("default"!==t.slice(0,7)&&"ns"!==t.slice(0,2)&&t&&n){for(var o in this.prefixes)this.prefixes[o]==t&&delete this.prefixes[o];this.prefixes[n]=t,this.namespaces[t]=n}}},{key:"suggestPrefix",value:function(t,n){"default"!==t.slice(0,7)&&"ns"!==t.slice(0,2)&&(!t||!n||t in this.namespaces||n in this.prefixes||(this.prefixes[n]=t,this.namespaces[t]=n))}},{key:"suggestNamespaces",value:function(t){for(var n in t)this.suggestPrefix(n,t[n]);return this}},{key:"checkIntegrity",value:function(){var t,n;for(t in this.namespaces)if(this.prefixes[this.namespaces[t]]!==t)throw new Error("Serializer integity error 1: "+t+", "+this.namespaces[t]+", "+this.prefixes[this.namespaces[t]]+"!");for(n in this.prefixes)if(this.namespaces[this.prefixes[n]]!==n)throw new Error("Serializer integity error 2: "+n+", "+this.prefixs[n]+", "+this.namespaces[this.prefixes[n]]+"!")}},{key:"makeUpPrefix",value:function(t){var n=t,s=function o(c){return!(!this.validPrefix.test(c)||"ns"===c||c in this.namespaces)&&(this.prefixes[t]=c,this.namespaces[c]=t,c)}.bind(this);"#/".indexOf(n[n.length-1])>=0&&(n=n.slice(0,-1));var i=n.lastIndexOf("/");i>=0&&(n=n.slice(i+1));for(var l=0;l<n.length&&this.prefixchars.indexOf(n[l]);)l++;if((n=n.slice(0,l)).length<6&&s(n))return n;if(s(n.slice(0,3)))return n.slice(0,3);if(s(n.slice(0,2)))return n.slice(0,2);if(s(n.slice(0,4)))return n.slice(0,4);if(s(n.slice(0,1)))return n.slice(0,1);if(s(n.slice(0,5)))return n.slice(0,5);this.validPrefix.test(n)||(n="n");for(var a=0;;a++)if(s(n.slice(0,3)+a))return n.slice(0,3)+a}},{key:"rootSubjects",value:function(t){for(var n={},o={},s={},i=0;i<t.length;i++){var l=t[i],a=function(L){n.hasOwnProperty(L)||(n[L]=[]),n[L].push(l.subject)};[l.subject,l.predicate,l.object].map(function(V){"BlankNode"===V.termType?s[V.toNT()]=!0:"Collection"===V.termType&&V.elements.forEach(function(L){a(L)})}),a(t[i].object);var h=o[this.toStr(l.subject)];h||(h=[]),h.push(l),o[this.toStr(l.subject)]=h}var u=[];for(var d in o)if(o.hasOwnProperty(d)){var p=this.fromStr(d);if("BlankNode"!==p.termType||!n[p]||1!==n[p].length){u.push(p);continue}}this.incoming=n;for(var f={},y=0;y<u.length;y++)f[u[y].toNT()]=!0;return{roots:u,subjects:o,rootsHash:f,incoming:n}}},{key:"toN3",value:function(t){return this.statementsToN3(t.statements)}},{key:"explicitURI",value:function(t){return t=this.flags.indexOf("r")<0&&this.base?Gw(this.base,t):this.flags.indexOf("u")>=0?function aet(e){for(var t,r="",n=0;n<e.length;n++)(t=e.charCodeAt(n))>65535?r+="\\U"+("00000000"+t.toString(16)).slice(-8):r+=t>126?"\\u"+("0000"+t.toString(16)).slice(-4):e[n];return r}(t):function iet(e){return encodeURI(e)}(decodeURI(t)),"<"+t+">"}},{key:"statementsToNTriples",value:function(t){var n=t.slice();n.sort();for(var o="",s="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i=this,l=this.store,a=this.rdfFactory,c=function p(f){if("Collection"!==f.termType)return i.atomicTermToN3(f);for(var y=f.elements,V=l.sym(s+"nill"),L=y.length-1;L>=0;L--){var R=a.blankNode();o+=p(R)+" "+p(l.sym(s+"first"))+" "+p(y[L])+".\n",o+=p(R)+" "+p(l.sym(s+"rest"))+" "+p(V)+".\n",V=R}return i.atomicTermToN3(V)},h=0;h<n.length;h++){var u=n[h],d="";d+=c(u.subject)+" ",d+=c(u.predicate)+" ",d+=c(u.object)+" ",this.flags.indexOf("q")>=0&&(d+=c(u.why)+" "),o+=d+=".\n"}return o}},{key:"statementsToN3",value:function(t){var s=this.store,i={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"};t.sort(function(pe,ge){return Di.VQ(pe,ge,s,i)}),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var a={};this.flags.indexOf("s")<0&&(a["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(a["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(a["http://www.w3.org/2000/10/swap/log#implies"]="=>");var c=function(pe){for(var ge="",Me=0;Me<pe;Me++)ge+=" ";return ge},h=function Gt(pe){for(var ge="",Me=0;Me<pe.length;Me++){var he=pe[Me],Le="string"==typeof he?he:Gt(he);if(0!==Me){var Ue=ge.slice(-1)||" ";","===Le||";"===Le||"."===Le&&!"0123456789.:".includes(Ue)||(ge+=" ")}ge+=Le}return ge},p=function d(Gt){for(var pe=this.rootSubjects(Gt),ge=pe.roots,Me=[],he=0;he<ge.length;he++)Me.push(f(ge[he],pe));return Me}.bind(this);function f(Gt,pe){return"BlankNode"!==Gt.termType||pe.incoming[Gt]?[Ct(Gt,pe)].concat([V(Gt,pe)]).concat(["."]):R(Gt,pe,!0).concat(["."])}var V=function y(Gt,pe){var ge=[],Me=null,he=pe.subjects[this.toStr(Gt)]||[];if(typeof he>"u")throw new Error("Cant find statements for "+Gt);for(var Le=[],Ue=0;Ue<he.length;Ue++){var Fe=he[Ue];Fe.predicate.uri===Me?Le.push(","):(Me&&(ge=ge.concat([Le]).concat([";"]),Le=[]),ge.push(a[Fe.predicate.uri]?a[Fe.predicate.uri]:Ct(Fe.predicate,pe))),Me=Fe.predicate.uri,Le.push(R(Fe.object,pe))}return ge.concat([Le])}.bind(this),R=function L(Gt,pe,ge){return"BlankNode"!==Gt.termType||!ge&&void 0!==pe.rootsHash[Gt.toNT()]?Ct(Gt,pe):pe.subjects[this.toStr(Gt)]?["[",V(Gt,pe),"]"]:"[]"}.bind(this);e.prototype.termToN3=Ct;var Ct=function mt(Gt,pe){var ge,Me;switch(Gt.termType){case"Graph":return(Me=(Me=["{"]).concat(p(Gt.statements))).concat(["}"]);case"Collection":for(Me=["("],ge=0;ge<Gt.elements.length;ge++)Me.push([R(Gt.elements[ge],pe)]);return Me.push(")"),Me;default:return this.atomicTermToN3(Gt)}}.bind(this),tt=function yt(){var Gt="";for(var pe in this.flags.indexOf("d")<0&&this.defaultNamespace&&(Gt+="@prefix : "+this.explicitURI(this.defaultNamespace)+".\n"),this.prefixes)this.prefixes.hasOwnProperty(pe)&&this.namespacesUsed[pe]&&(Gt+="@prefix "+this.prefixes[pe]+": "+this.explicitURI(pe)+".\n");return Gt+"\n"}.bind(this),Vt=p(t);return tt()+function Gt(pe,ge){var Me="",he=1e5;void 0===ge&&(ge=-1);for(var Le=0;Le<pe.length;Le++){var Ue=pe[Le];if("string"!=typeof Ue){var Fe=Gt(Ue,ge+1);if(Fe.length<10*(80-4*ge)&&Fe.indexOf('"""')<0){var Se=h(Ue);Se.length<80-4*ge&&(Ue=Se,Fe="")}Fe&&(he=1e4),Me+=Fe}if("string"==typeof Ue){if(1===Ue.length&&"\n"===Me.slice(-1)&&",.;".indexOf(Ue)>=0){Me=Me.slice(0,-1),"."==Ue&&"0123456789.:".includes(Me.charAt(Me.length-1))&&(Me+=" ",he+=1),Me+=Ue+"\n",he+=1;continue}if(he<4*ge+4||he+Ue.length+1<80&&";.".indexOf(Me[Me.length-2])<0)Me=Me.slice(0,-1)+" "+Ue+"\n",he+=Ue.length+1;else{var x1=c(4*ge)+Ue;Me+=x1+"\n",he=x1.length,ge<0&&(Me+="\n",he=1e5)}}}return Me}(Vt)}},{key:"atomicTermToN3",value:function(t,n){switch(t.termType){case"BlankNode":case"Variable":return t.toNT();case"Literal":var o=t.value;if("string"!=typeof o)throw new TypeError("Value of RDF literal node must be a string");if(t.datatype&&this.flags.indexOf("x")<0)switch(t.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return o;case"http://www.w3.org/2001/XMLSchema#decimal":return o.indexOf(".")<0&&(o+=".0"),o;case"http://www.w3.org/2001/XMLSchema#double":var s=o.toLowerCase().indexOf("e")>0;return o.indexOf(".")<0&&!s&&(o+=".0"),s||(o+="e0"),o;case"http://www.w3.org/2001/XMLSchema#boolean":return"1"===t.value?"true":"false"}var i=this.stringToN3(t.value);return t.language?i+="@"+t.language:t.datatype.equals(this.xsd.string)||(i+="^^"+this.atomicTermToN3(t.datatype,n)),i;case"NamedNode":return this.symbolToN3(t);case"DefaultGraph":return"";default:throw new Error("Internal: atomicTermToN3 cannot handle "+t+" of termType: "+t.termType)}}},{key:"stringToN3",value:function(t,n){n||(n="e");var s,i,l,a,c,o="";for(t.length>20&&'"'!==t.slice(-1)&&n.indexOf("n")<0&&(t.indexOf("\n")>0||t.indexOf('"')>0)?(a='"""',c=this.forbidden3):(a='"',c=this.forbidden1),s=0;s<t.length&&(c.lastIndex=0,null!=c.exec(t.slice(s)));){o+=t.slice(s,i=s+c.lastIndex-1);var u=t[i];'"'===u&&'"""'===a&&'"""'!==t.slice(i,i+3)?o+=u:(l='\b\f\r\t\v\n\\"'.indexOf(u))>=0?o+="\\"+'bfrtvn\\"'[l]:n.indexOf("e")>=0?o+="\\u"+("000"+u.charCodeAt(0).toString(16).toLowerCase()).slice(-4):o+=u,s=i+1}return a+o+t.slice(s)+a}},{key:"symbolToN3",value:function(t){var n=t.uri,o=n.indexOf("#");if(o<0&&this.flags.indexOf("/")<0&&(o=n.lastIndexOf("/")),o>=0&&this.flags.indexOf("p")<0&&(0===n.indexOf("http")||0===n.indexOf("ws")||0===n.indexOf("file"))){for(var s=!0,i=o+1;i<n.length;i++)if(this._notNameChars.indexOf(n[i])>=0){s=!1;break}if(s){var l=n.slice(o+1),a=n.slice(0,o+1);if(this.defaultNamespace&&this.defaultNamespace===a&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(l)<0?l:":"+l;var c=this.prefixes[a];if(c||(c=this.makeUpPrefix(a)),c)return this.namespacesUsed[a]=!0,c+":"+l}}return this.explicitURI(n)}},{key:"writeStore",value:function(t){var n=this.store,o=n.fetcher,s=o&&o.appNode,i=this.store.index[3];for(var l in i){var a=n.fromNT(l);s&&a.equals(s)||t("\n"+this.atomicTermToN3(a)+" "+this.atomicTermToN3(n.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(n.statementsMatching(void 0,void 0,void 0,a))+" }.\n")}n.statementsMatching(void 0,n.sym("http://www.w3.org/2007/ont/link#requestedURI")).map(function(u){t("\n<"+u.object.value+"> log:metadata {\n");var d=n.statementsMatching(void 0,void 0,void 0,u.subject);t(this.statementsToN3(this.statementsToN3(d))),t("}.\n")});var c=[];s&&c.push(s);var h=[];c.map(function(u){h=h.concat(n.statementsMatching(void 0,void 0,void 0,u))}),t(this.statementsToN3(h))}},{key:"statementsToXML",value:function(t){var s=[];s["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var i="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",l=function(he){for(var Le="",Ue=0;Ue<he;Ue++)Le+=" ";return Le},a=function Me(he){for(var Le="",Ue=0;Ue<he.length;Ue++){var Fe=he[Ue];Le+="string"==typeof Fe?Fe:Me(Fe)}return Le},u=function h(Me){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var he=this.rootSubjects(Me),Le=he.roots,Ue=[],Fe=0;Fe<Le.length;Fe++)Ue.push(V(Le[Fe],he));return Ue}.bind(this);function d(Me){return typeof Me>"u"?"@@@undefined@@@@":Me.replace(/[&<"]/g,function(he){switch(he[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}})}var f=function p(Me){return d(this.base?Gw(this.base,Me.uri):Me.uri)}.bind(this),V=function y(Me,he){var Ue,Fe,Se,x1,Le=[],lr=he.subjects[this.toStr(Me)];if(typeof lr>"u")return mt(Me,he);lr.sort(function(ui,Cs){var y2=ui.predicate.uri,F2=Cs.predicate.uri;if(y2.substring(0,44)===i||F2.substring(0,44)===i)return y2.localeCompare(F2);var j2=y2.substring(44),Pi=F2.substring(44),ks=parseInt(j2,10),di=parseInt(Pi,10);return isNaN(ks)||isNaN(di)||ks!==j2||di!==Pi?y2.localeCompare(F2):ks-di});for(var Cn=0;Cn<lr.length;Cn++)if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==(Se=lr[Cn]).predicate.uri||Ue||"NamedNode"!==Se.object.termType){if((x1=Se.predicate).uri.substr(0,44)===i){var os=x1.uri.substr(44);os===parseInt(os,10).toString()&&(x1=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(Fe=yt(x1),Se.object.termType){case"BlankNode":Le=Le.concat(1===he.incoming[Se.object].length?["<"+Fe+' rdf:parseType="Resource">',V(Se.object,he),"</"+Fe+">"]:["<"+Fe+' rdf:nodeID="'+Se.object.toNT().slice(2)+'"/>']);break;case"NamedNode":Le=Le.concat(["<"+Fe+' rdf:resource="'+f(Se.object)+'"/>']);break;case"Literal":Le=Le.concat(["<"+Fe+(Se.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+d(Se.object.datatype.uri)+'"')+(Se.object.language?' xml:lang="'+Se.object.language+'"':"")+">"+d(Se.object.value)+"</"+Fe+">"]);break;case"Collection":Le=Le.concat(["<"+Fe+' rdf:parseType="Collection">',L(Se.object,he),"</"+Fe+">"]);break;default:throw new Error("Can't serialize object of type "+Se.object.termType+" into XML")}}else Ue=Se.object;var Go=Ue?yt(Ue):"rdf:Description",bn="";return"BlankNode"===Me.termType?(!he.incoming[Me]||1!==he.incoming[Me].length)&&(bn=' rdf:nodeID="'+Me.toNT().slice(2)+'"'):bn=' rdf:about="'+f(Me)+'"',["<"+Go+bn+">"].concat([Le]).concat(["</"+Go+">"])}.bind(this);function L(Me,he){for(var Le=[],Ue=0;Ue<Me.elements.length;Ue++)Le.push(V(Me.elements[Ue],he));return Le}var mt=function R(Me,he){var Le=[],Ue=he.subjects[this.toStr(Me)];if(!Ue)return Le;Ue.sort();for(var Fe=0;Fe<Ue.length;Fe++){var Se=Ue[Fe];switch(Se.object.termType){case"BlankNode":Le=he.rootsHash[Se.object.toNT()]?Le.concat(["<"+yt(Se.predicate)+' rdf:nodeID="'+Se.object.toNT().slice(2)+'">',"</"+yt(Se.predicate)+">"]):Le.concat(["<"+yt(Se.predicate)+' rdf:parseType="Resource">',mt(Se.object,he),"</"+yt(Se.predicate)+">"]);break;case"NamedNode":Le=Le.concat(["<"+yt(Se.predicate)+' rdf:resource="'+f(Se.object)+'"/>']);break;case"Literal":Le=Le.concat(["<"+yt(Se.predicate)+(Se.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+d(Se.object.datatype.value)+'"')+(Se.object.language?' xml:lang="'+Se.object.language+'"':"")+">"+d(Se.object.value)+"</"+yt(Se.predicate)+">"]);break;case"Collection":Le=Le.concat(["<"+yt(Se.predicate)+' rdf:parseType="Collection">',L(Se.object,he),"</"+yt(Se.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+Se.object.termType+" into XML")}}return Le}.bind(this),yt=function Ct(Me){var he=Me.uri,Le=he.indexOf("#");if(Le<0&&this.flags.indexOf("/")<0&&(Le=he.lastIndexOf("/")),Le<0)throw new Error("Cannot make qname out of <"+he+">");for(var Ue=Le+1;Ue<he.length;Ue++)if(this._notNameChars.indexOf(he[Ue])>=0)throw new Error('Invalid character "'+he[Ue]+'" cannot be in XML qname for URI: '+he);var Fe=he.slice(Le+1),Se=he.slice(0,Le+1);if(this.defaultNamespace&&this.defaultNamespace===Se&&this.flags.indexOf("d")<0)return Fe;var x1=this.prefixes[Se];return x1||(x1=this.makeUpPrefix(Se)),s[Se]=!0,x1+":"+Fe}.bind(this),tt=u(t),Vt="<rdf:RDF";for(var Gt in this.defaultNamespace&&(Vt+=' xmlns="'+d(this.defaultNamespace)+'"'),s)if(s.hasOwnProperty(Gt)){var pe=this.base&&this.flags.includes("z")?Gw(this.base,Gt):Gt;Vt+="\n xmlns:"+this.prefixes[Gt]+'="'+d(pe)+'"'}return function Me(he,Le){var Fe,Ue="",Se=1e5;Le||(Le=0);for(var x1=0;x1<he.length;x1++){var lr=he[x1];if("string"!=typeof lr){var Cn=Me(lr,Le+1);Cn.length<10*(80-4*Le)&&Cn.indexOf('"""')<0&&(Fe=a(lr)).length<80-4*Le&&(lr="   "+Fe,Cn=""),Cn&&(Se=1e4),Ue+=Cn}"string"==typeof lr&&(Se<4*Le+4?(Ue=Ue.slice(0,-1)+" "+lr+"\n",Se+=lr.length+1):(Ue+=(Fe=l(4*Le)+lr)+"\n",Se=Fe.length))}return Ue}([Vt+=">",tt,"</rdf:RDF>"],-1)}},{key:"statementsToJsonld",value:function(t){var n=this.statementsToN3(t),o=net.parse(n);return JSON.stringify(o,null,2)}}])}();function I6(e,r,t,n,o,s){t=t||e?.value;var i=s||{};n=n||y1.sT;try{var a=function oet(e){return new set(e)}(r);i.flags&&a.setFlags(i.flags);var c=r.statementsMatching(void 0,void 0,void 0,e);switch("namespaces"in r&&a.suggestNamespaces(r.namespaces),i.namespaces&&a.setNamespaces(i.namespaces),a.setBase(t),n){case y1.JG:return h(null,a.statementsToXML(c));case y1.ny:case y1.MG:return h(null,a.statementsToN3(c));case y1.sT:case y1.hu:return a.setFlags("si"),h(null,a.statementsToN3(c));case y1.bM:return a.setFlags("deinprstux"),h(null,a.statementsToNTriples(c));case y1.i2:return a.setFlags("si dr"),h(null,a.statementsToJsonld(c));case y1._0:case y1.BR:return a.setFlags("deinprstux q"),h(null,a.statementsToNTriples(c));default:throw new Error("Serialize: Content-type "+n+" not supported for data write.")}}catch(u){if(o)return o(u,void 0);throw u}function h(u,d){return o?void o(u,d):d}}var cet=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"],S6={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function XI(e,r,t){var n=[];return t.reduce(function(o,s,i,l){var a;return n.push(e.quad(o,e.namedNode(S6.first),l[i])),i<l.length-1?(a=e.blankNode(),n.push(e.quad(o,e.namedNode(S6.rest),a))):n.push(e.quad(o,e.namedNode(S6.rest),e.namedNode(S6.nil))),a},r),n}function ni(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.length;for(t<0&&(t=n+t);t<n;t++)if(e[t]===r)return t;return-1}function KI(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function det(e,r,t){return r=(0,A2.A)(r),(0,Da.A)(e,qI()?Reflect.construct(r,t||[],(0,A2.A)(e).constructor):r.apply(e,t))}function qI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qI=function(){return!!e})()}var JI=function(e){function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,fo.A)(this,r),(t=det(this,r,[""])).statements=n,t.constraints=o,t.initBindings=s,t.optional=i,(0,Te.A)(t,"termType",y1.bD),(0,Te.A)(t,"classOrder",Fl.A.Graph),(0,Te.A)(t,"fetcher",void 0),(0,Te.A)(t,"isVar",0),(0,Te.A)(t,"ns",jn),(0,Te.A)(t,"rdfFactory",void 0),t.rdfFactory=l&&l.rdfFactory||Bi;var c,a=function het(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function uet(e,r){if(e){if("string"==typeof e)return KI(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return KI(e,r)}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var c=t.next();return s=c.done,c},e:function(c){i=!0,l=c},f:function(){try{!s&&null!=t.return&&t.return()}finally{if(i)throw l}}}}(cet);try{var h=function(){var d=c.value;t[d]=function(){var p;return(p=t.rdfFactory)[d].apply(p,arguments)}};for(a.s();!(c=a.n()).done;)h()}catch(u){a.e(u)}finally{a.f()}return t}return(0,vs.A)(r,e),(0,mo.A)(r,[{key:"add",value:function(n,o,s,i){var l=this;return 1===arguments.length&&n.forEach(function(a){return l.add(a.subject,a.predicate,a.object,a.graph)}),this.statements.push(this.rdfFactory.quad(n,o,s,i))}},{key:"addStatement",value:function(n){return this.add(n)}},{key:"bnode",value:function(n){return this.rdfFactory.blankNode(n)}},{key:"addAll",value:function(n){var o=this;n.forEach(function(s){o.add(s.subject,s.predicate,s.object,s.graph)})}},{key:"any",value:function(n,o,s,i){var l=this.anyStatementMatching(n,o,s,i);return null==l?null:null==n?l.subject:null==o?l.predicate:null==s?l.object:null}},{key:"anyValue",value:function(n,o,s,i){var l=this.any(n,o,s,i);return l?l.value:void 0}},{key:"anyJS",value:function(n,o,s,i){var l=this.any(n,o,s,i);return l?ts.A.toJS(l):void 0}},{key:"anyStatementMatching",value:function(n,o,s,i){var l=this.statementsMatching(n,o,s,i,!0);if(l&&0!==l.length)return l[0]}},{key:"id",value:function(n){return this.rdfFactory.id(n)}},{key:"statementsMatching",value:function(n,o,s,i,l){var a=this.statements.filter(function(c){return(!n||n.equals(c.subject))&&(!o||o.equals(c.predicate))&&(!s||s.equals(c.object))&&(!i||i.equals(c.graph))});return l?0===a.length?[]:[a[0]]:a}},{key:"bottomTypeURIs",value:function(n){var o,s,l,a,h,u;for(var d in o=[],n)if(n.hasOwnProperty(d)){for(u=n[d],s=!0,l=0,a=(h=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(d))).length;l<a;l++)if(h[l].uri in n){s=!1;break}s&&(o[d]=u)}return o}},{key:"collection",value:function(){return new Ea}},{key:"each",value:function(n,o,s,i){var l=[],a=this.statementsMatching(n,o,s,i,!1);if(null==n)for(var c=0,h=a.length;c<h;c++)l.push(a[c].subject);else if(null==o)for(var u=0,d=a.length;u<d;u++)l.push(a[u].predicate);else if(null==s)for(var p=0,f=a.length;p<f;p++)l.push(a[p].object);else if(null==i)for(var y=0,V=a.length;y<V;y++)l.push(new z2.A(a[y].graph.value));return l}},{key:"equals",value:function(n){return!!n&&this.hashString()===n.hashString()}},{key:"findMembersNT",value:function(n){var o,s,i,l,c,h,u,d,p,f,y,V,L;for(var R in(y={})[n.toNT()]=!0,l={},c=this.transitiveClosure(y,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0))if(c.hasOwnProperty(R)){for(var mt=0,Ct=(h=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(R))).length;mt<Ct;mt++)l[(V=h[mt]).subject.toNT()]=V;for(var yt=0,tt=(u=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(R))).length;yt<tt;yt++)for(i=0,o=(d=this.statementsMatching(void 0,u[yt])).length;i<o;i++)l[(V=d[i]).subject.toNT()]=V;for(var Vt=0,Gt=(p=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(R))).length;Vt<Gt;Vt++)for(L=0,s=(f=this.statementsMatching(void 0,p[Vt])).length;L<s;L++)l[(V=f[L]).object.toNT()]=V}return l}},{key:"findMemberURIs",value:function(n){return this.NTtoURI(this.findMembersNT(n))}},{key:"findSubClassesNT",value:function(n){var o={};return o[n.toNT()]=!0,this.transitiveClosure(o,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}},{key:"findSuperClassesNT",value:function(n){var o={};return o[n.toNT()]=!0,this.transitiveClosure(o,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypesNT",value:function(n){var l,a,c,h,u,d;d=[];for(var p=0,f=(l=this.statementsMatching(n,void 0,void 0)).length;p<f;p++)if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===(u=l[p]).predicate.uri)d[u.object.toNT()]=u;else for(var y=0,V=(a=this.each(u.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"))).length;y<V;y++)d[a[y].toNT()]=u;for(var L=0,R=(c=this.statementsMatching(void 0,void 0,n)).length;L<R;L++)for(var mt=0,Ct=(h=this.each((u=c[L]).predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"))).length;mt<Ct;mt++)d[h[mt].toNT()]=u;return this.transitiveClosure(d,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypeURIs",value:function(n){return this.NTtoURI(this.findTypesNT(n))}},{key:"connectedStatements",value:function(n,o,s){s=s||[];for(var i=[n],l={},a={},c=[],h=this,u=function(p){var f=function(L){"BlankNode"===L.termType&&!l[L.value]&&(l[L.value]=!0,i.push(L))},y=h.statementsMatching(null,null,p,o).concat(h.statementsMatching(p,null,null,o));(y=y.filter(function(V){if(s[V.predicate.value])return!1;var L=V.toNT();return!a[L]&&(a[L]=!0,!0)})).forEach(function(V){f(V.subject),f(V.object)}),c=c.concat(y)};i.length;)u(i.shift());return c}},{key:"formula",value:function(n){return new r}},{key:"fromNT",value:function(n){var o,s,i;switch(n[0]){case"<":return this.sym(n.slice(1,-1));case'"':if(i=void 0,o=void 0,(s=n.lastIndexOf('"'))<n.length-1)if("@"===n[s+1])i=n.slice(s+2);else{if("^^"!==n.slice(s+1,s+3))throw new Error("Can't convert string from NT: "+n);o=this.fromNT(n.slice(s+3))}return n=(n=(n=(n=n.slice(1,s)).replace(/\\"/g,'"')).replace(/\\n/g,"\n")).replace(/\\\\/g,"\\"),this.rdfFactory.literal(n,i||o);case"_":return this.rdfFactory.blankNode(n.slice(2));case"?":return new o0(n.slice(1))}throw new Error("Can't convert from NT: "+n)}},{key:"holds",value:function(n,o,s,i){var l;if(1===arguments.length){if(!n)return!0;if(n instanceof Array){for(l=0;l<n.length;l++)if(!this.holds(n[l]))return!1;return!0}if((0,qn.SH)(n))return this.holds(n.subject,n.predicate,n.object,n.graph);if(n.statements)return this.holds(n.statements)}return null!=this.anyStatementMatching(n,o,s,i)}},{key:"holdsStatement",value:function(n){return this.holds(n.subject,n.predicate,n.object,n.graph)}},{key:"list",value:function(n,o){if(o.rdfFactory.supports.COLLECTIONS){var s=o.rdfFactory.collection();return n.forEach(function(a){s.append(a)}),s}var i=o.rdfFactory.blankNode(),l=XI(o.rdfFactory,i,n);return o.addAll(l),i}},{key:"NTtoURI",value:function(n){var o,s,i={};for(o in n)n.hasOwnProperty(o)&&(s=n[o],"<"===o[0]&&(i[o.slice(1,-1)]=s));return i}},{key:"serialize",value:function(n,o,s,i){return I6(s,this,n,o,void 0,i)}},{key:"substitute",value:function(n){var o=this.statements.map(function(i){return i.substitute(n)}),s=new r;return s.addAll(o),s}},{key:"sym",value:function(n,o){if(o)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(n)}},{key:"the",value:function(n,o,s,i){var l=this.any(n,o,s,i);return null==l&&o2_error("No value found for the() {"+n+" "+o+" "+s+"}."),l}},{key:"transitiveClosure",value:function(n,o,s){var l,a,c,h,u,d={};Object.assign(d,n);for(var p={};;){if(null==(u=function(){for(var f in d)if(d.hasOwnProperty(f))return f}()))return p;for(l=0,a=(h=s?this.each(void 0,o,this.fromNT(u)):this.each(this.fromNT(u),o)).length;l<a;l++)!((c=h[l].toNT())in p)&&(c in d||(d[c]=d[u]));p[u]=d[u],delete d[u]}}},{key:"topTypeURIs",value:function(n){var o,i,l,a,c,h,u;for(i in h=[],n)if(n.hasOwnProperty(i)){for(u=n[i],a=0,o=0,l=(c=this.each(this.rdfFactory.namedNode(i),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"))).length;o<l;o++)if("http://www.w3.org/2000/01/rdf-schema#Resource"!==c[o].uri){a++;break}a||(h[i]=u)}return h["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete h["http://www.w3.org/2000/01/rdf-schema#Resource"],h["http://www.w3.org/2002/07/owl#Thing"]&&delete h["http://www.w3.org/2002/07/owl#Thing"],h}},{key:"toString",value:function(){return"{"+this.statements.join("\n")+"}"}},{key:"variable",value:function(n){return new o0(n)}},{key:"whether",value:function(n,o,s,i){return this.statementsMatching(n,o,s,i,!1).length}}])}(ts.A);ts.A.fromValue=PI;const Pl=ts.A;var uh={xsd:jn("http://www.w3.org/2001/XMLSchema#")};ts.A.toJS=function(e){return(0,qn.P3)(e)?e.elements.map(ts.A.toJS):(0,qn.c$)(e)?e.datatype.equals(uh.xsd("boolean"))?"1"===e.value||"true"===e.value:e.datatype.equals(uh.xsd("dateTime"))||e.datatype.equals(uh.xsd("date"))?new Date(e.value):e.datatype.equals(uh.xsd("integer"))||e.datatype.equals(uh.xsd("float"))||e.datatype.equals(uh.xsd("decimal"))?Number(e.value):e.value:e};var pet=(0,mo.A)(function e(r,t){(0,fo.A)(this,e),this.pat=new r3,this.vars=[],this.name=r,this.id=t});function QI(e,r,t,n){function o(yt){var Vt,tt="";for(Vt in yt)yt.hasOwnProperty(Vt)&&(tt+="    "+Vt+" -> "+yt[Vt]);return tt}function s(yt){var Vt,tt="Bindings: ",Gt=yt.length;for(Vt=0;Vt<Gt;Vt++)tt+=o(yt[Vt][0])+";\n\t";return tt}function l(yt,tt,Vt,Gt){var pe;if(yt.length!==tt.length)return[];if(!yt.length)return[[[],null]];var ge=function i(yt,tt,Vt,Gt){var pe=Vt[yt];if(void 0===pe){if(yt.isVar){var ge=[];return ge[yt]=tt,[[ge,null]]}pe=yt}if(!pe.complexType)return Gt.redirections[pe]&&(pe=Gt.redirections[pe]),Gt.redirections[tt]&&(tt=Gt.redirections[tt]),pe.equals(tt)||pe.uri&&pe.uri===t3?[[[],null]]:[];if(yt instanceof Array)return tt instanceof Array?l(yt,tt,Vt):[];throw new Error("query.js: oops - code not written yet")}(yt[0],tt[0],Vt,Gt);if(0===ge.length)return ge;var he,Ue,Fe,Se,x1,lr,Cn,Me=[],Le=ge.length;for(he=0;he<Le;he++){for(x1 in Cn=[],Ue=ge[he][0])Ue.hasOwnProperty(x1)&&(Cn[x1]=Ue[x1]);for(x1 in Vt)Vt.hasOwnProperty(x1)&&(Cn[x1]=Vt[x1]);for(Se=(pe=l(yt.slice(1),tt.slice(1),Cn,Gt)).length,Fe=0;Fe<Se;Fe++){for(x1 in lr=pe[Fe][0],Ue)Ue.hasOwnProperty(x1)&&(lr[x1]=Ue[x1]);Me.push([lr,null])}}return Me}function a(yt,tt){var Vt=tt[yt];return void 0===Vt?yt:Vt}function c(yt,tt){var Gt,Vt={};for(Gt in yt)yt.hasOwnProperty(Gt)&&(Vt[Gt]=yt[Gt]);for(Gt in tt)tt.hasOwnProperty(Gt)&&(Vt[Gt]=tt[Gt]);return Vt}function h(yt,tt){return this.trunkBindings=tt,this.originalCallback=yt,this.branches=[],this}function u(yt,tt){return this.count=0,this.success=!1,this.done=!1,this.callback=yt,this.onDone=tt,this}h.prototype.checkAllDone=function(){var yt;for(yt=0;yt<this.branches.length;yt++)if(!this.branches[yt].done)return;o2_debug("OPTIONAL BIDNINGS ALL DONE:"),this.doCallBacks(this.branches.length-1,this.trunkBindings)},h.prototype.doCallBacks=function(yt,tt){var Vt;if(yt<0)return this.originalCallback(tt);for(Vt=0;Vt<this.branches[yt].results.length;Vt++)this.doCallBacks(yt-1,c(tt,this.branches[yt].results[Vt]))},u.prototype.reportMatch=function(yt){this.callback(yt),this.success=!0},u.prototype.reportDone=function(){this.done=!0,o2_info("Mandatory query branch finished.***"),void 0!==this.onDone&&this.onDone()};var d=function(tt){return this.count=0,this.done=!1,this.results=[],this.junction=tt,tt.branches.push(this),this};function p(yt,tt,Vt){var Gt,pe,ge,Me;for(tt.nvars=0,tt.index=null,Gt=[tt.subject,tt.predicate,tt.object,tt.why],Me=[yt.subjectIndex,yt.predicateIndex,yt.objectIndex,yt.whyIndex],ge=0;ge<4;ge++){var he=Gt[ge];if(!he.uri||he.uri!==t3)if(he.isVar&&void 0===Vt[he])tt.nvars++;else{if(he=a(Gt[ge],Vt),yt.redirections[yt.id(he)]&&(he=yt.redirections[yt.id(he)]),!(pe=Me[ge][yt.id(he)]))return tt.index=[],!1;(null===tt.index||tt.index.length>pe.length)&&(tt.index=pe)}}return null===tt.index&&(tt.index=yt.statements),!0}function f(yt,tt){return yt.nvars!==tt.nvars?yt.nvars-tt.nvars:yt.index.length-tt.index.length}d.prototype.reportMatch=function(yt){this.results.push(yt)},d.prototype.reportDone=function(){o2_debug("Optional branch finished - results.length = "+this.results.length),0===this.results.length&&(this.results.push({}),o2_debug("Optional branch FAILED - that's OK.")),this.done=!0,this.junction.checkAllDone()};var V=function yt(tt,Vt,Gt,pe,ge,Me,he){o2_debug("Match begins, Branch count now: "+he.count+" for "+he.pattern_debug);var Le=Vt.statements;if(0===Le.length){if(o2_debug("FOUND MATCH WITH BINDINGS:"+o(Gt)),0===Vt.optional.length)he.reportMatch(Gt);else{o2_debug("OPTIONAL: "+Vt.optional);var Se,Ue=new h(r,Gt),Fe=[];for(Se=0;Se<Vt.optional.length;Se++)Fe[Se]=new d(Ue),Fe[Se].pattern_debug=Vt.optional[Se];for(Se=0;Se<Vt.optional.length;Se++)Fe[Se].count=Fe[Se].count+1,yt(tt,Vt.optional[Se],Gt,"",ge,r,Fe[Se])}return he.count--,void o2_debug("Match ends -- success , Branch count now: "+he.count+" for "+he.pattern_debug)}var x1,lr,Cn=Le.length;if(ge){var dn=function(bn,ui){var Cs=bn.uri.split("#")[0];ge.nowOrWhenFetched(Cs,void 0,function(y2,F2,j2){y2||console.log("Error following link to <"+bn.uri+"> in query: "+F2),yt(tt,Vt,Gt,pe,ge,Me,he)})};for(lr=0;lr<Cn;lr++){if(void 0!==Gt[(x1=Le[lr]).subject]&&Gt[x1.subject].uri&&ge&&"unrequested"===ge.getState(n0(Gt[x1.subject].uri)))return void dn(Gt[x1.subject]);if(void 0!==Gt[x1.object]&&Gt[x1.object].uri&&ge&&"unrequested"===ge.getState(n0(Gt[x1.object].uri)))return void dn(Gt[x1.object])}}R(tt,Vt,Gt,pe,ge,Me,he)},L=function(tt,Vt){var pe,ge,Gt=!0;for(pe in tt)tt.hasOwnProperty(pe)&&Vt[pe]&&(ge=Vt[pe].test)&&!ge(tt[pe])&&(Gt=!1);return Gt},R=function(tt,Vt,Gt,pe,ge,Me,he){var Fe,Se,x1,lr,Cn,os,dn,Le=Vt.statements,Ue=Le.length;for(Fe=0;Fe<Ue;Fe++)p(tt,dn=Le[Fe],Gt);Le.sort(f),dn=Le[0];var Go=tt.formula();Go.optional=Vt.optional,Go.constraints=Vt.constraints,Go.statements=Le.slice(1),o2_debug(pe+"match2 searching "+dn.index.length+" for "+dn+"; bindings so far="+o(Gt));var bn,Cs,y2,ui=dn.index.length,F2=0;for(bn=0;bn<ui;bn++)for(Cs=l([dn.subject,dn.predicate,dn.object,dn.why],[(y2=dn.index[bn]).subject,y2.predicate,y2.object,y2.why],Gt,tt),o2_info(pe+" From first: "+Cs.length+": "+s(Cs)),x1=Cs.length,Se=0;Se<x1;Se++)if(Cn=[],L(os=Cs[Se][0],Vt.constraints)){for(lr in os)os.hasOwnProperty(lr)&&(Cn[lr]=os[lr]);for(lr in Gt)Gt.hasOwnProperty(lr)&&(Cn[lr]=Gt[lr]);he.count++,F2++,V(tt,Go,Cn,pe+"  ",ge,Me,he)}else o2_debug("Branch count CS: "+he.count);he.count--,0===F2&&o2_debug("Match2 fails completely on "+dn),o2_debug("Match2 ends, Branch count: "+he.count+" for "+he.pattern_debug),0===he.count&&(o2_debug("Branch finished."),he.reportDone())},mt=this;o2_debug("Query on "+this.statements.length);var Ct=new u(r,n);Ct.count++,e.sync?V(mt,e.pat,e.pat.initBindings,"",t,r,Ct):setTimeout(function(){V(mt,e.pat,e.pat.initBindings,"",t,r,Ct)},0)}function tS(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function e3(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?tS(Object(t),!0).forEach(function(n){(0,Te.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tS(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function eS(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function fet(e,r,t){return r=(0,A2.A)(r),(0,Da.A)(e,rS()?Reflect.construct(r,t||[],(0,A2.A)(e).constructor):r.apply(e,t))}function rS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rS=function(){return!!e})()}var Ww="http://www.w3.org/2002/07/owl#";function met(e,r,t,n){var o=e.any(r,t,void 0);return!!o&&(e.equate(o,n),!0)}function wet(e,r,t,n){var o=e.any(void 0,t,n);return!!o&&(e.equate(o,r),!0)}function nS(e,r,t,n,o){e.typeCallback&&e.typeCallback(e,n,o);var s=e.classActions[e.id(n)],i=!1;if(s)for(var l=0;l<s.length;l++)i=i||s[l](e,r,t,n,o);return i}var r3=function(e){function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,fo.A)(this,r),n=fet(this,r,[void 0,void 0,void 0,void 0,o]),(0,Te.A)(n,"updater",void 0),(0,Te.A)(n,"namespaces",void 0),(0,Te.A)(n,"classActions",void 0),(0,Te.A)(n,"propertyActions",void 0),(0,Te.A)(n,"redirections",void 0),(0,Te.A)(n,"aliases",void 0),(0,Te.A)(n,"HTTPRedirects",void 0),(0,Te.A)(n,"subjectIndex",void 0),(0,Te.A)(n,"predicateIndex",void 0),(0,Te.A)(n,"objectIndex",void 0),(0,Te.A)(n,"whyIndex",void 0),(0,Te.A)(n,"index",void 0),(0,Te.A)(n,"features",void 0),(0,Te.A)(n,"_universalVariables",void 0),(0,Te.A)(n,"_existentialVariables",void 0),(0,Te.A)(n,"rdfArrayRemove",void 0),(0,Te.A)(n,"dataCallbacks",void 0),n.propertyActions={},n.classActions={},n.redirections=[],n.aliases=[],n.HTTPRedirects=[],n.subjectIndex=[],n.predicateIndex=[],n.objectIndex=[],n.whyIndex=[],n.index=[n.subjectIndex,n.predicateIndex,n.objectIndex,n.whyIndex],n.namespaces={},n.features=t||[],n.rdfArrayRemove=o.rdfArrayRemove||Di.Uz,o.dataCallback&&(n.dataCallbacks=[o.dataCallback]),n.initPropertyActions(n.features),n}return(0,vs.A)(r,e),(0,mo.A)(r,[{key:"substitute",value:function(n){var o=this.statements.map(function(i){return i.substitute(n)}),s=new r;return s.add(o),s}},{key:"addDataCallback",value:function(n){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(n)}},{key:"applyPatch",value:function(n,o,s){var l,i=this,a=null;function c(d){if(n.delete){l=n.delete,a&&(l=l.substitute(a));var p=[],f=(l=l.statements).map(function(y){var V=i.statementsMatching(y.subject,y.predicate,y.object,o);return 0===V.length?(p.push(y),null):V[0]});if(p.length)return s("Could not find to delete: "+p.join("\n or "));f.map(function(y){i.remove(y)})}n.insert&&(l=n.insert,a&&(l=l.substitute(a)),(l=l.statements).map(function(y){y.graph=o,i.add(y.subject,y.predicate,y.object,y.graph)})),d()}if(n.where){var h=new pet("patch");h.pat=n.where,h.pat.statements.map(function(d){d.graph=u3(o.value)}),h.sync=!0;var u=[];i.query(h,function(p){u.push(p)},i.fetcher,function(){return 0===u.length?s("No match found to be patched:"+n.where):u.length>1?s("Patch ambiguous. No patch done."):(a=u[0],void c(s))})}else c(s)}},{key:"declareExistential",value:function(n){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(n),n}},{key:"initPropertyActions",value:function(n){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[nS],ni(n,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(Ww,"sameAs")))]=[function(o,s,i,l,a){return o.equate(s,l),!0}]),ni(n,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(Ww,"InverseFunctionalProperty")))]=[function(o,s,i,l,a){return o.newPropertyAction(s,wet)}]),ni(n,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(Ww,"FunctionalProperty")))]=[function(o,s,i,l,a){return o.newPropertyAction(s,met)}])}},{key:"addStatement",value:function(n){return this.add(n.subject,n.predicate,n.object,n.graph),this.statements.length}},{key:"add",value:function(n,o,s,i){var l,a,c;if(1===arguments.length){if(n instanceof Array)for(l=0;l<n.length;l++)this.add(n[l]);else(0,qn.aF)(n)?this.add(n.subject,n.predicate,n.object,n.graph):(0,qn.ok)(n)&&this.add(n.statements);return this}i||(i=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),"string"==typeof n&&(n=this.rdfFactory.namedNode(n)),o=Pl.fromValue(o);var h=Pl.fromValue(s);if(i=Pl.fromValue(i),!(0,qn.CZ)(n))throw new Error("Subject is not a subject type");if(!(0,qn.fY)(o))throw new Error("Predicate ".concat(o," is not a predicate type"));if(!(0,qn.DJ)(h))throw new Error("Object ".concat(h," is not an object type"));if(!(0,qn.RN)(i))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,o,i);var u=this.id(this.canon(o)),d=!1;if(a=this.propertyActions[u])for(l=0;l<a.length;l++)d=d||a[l](this,n,o,h,i);if(this.holds(n,o,h,i))return null;var p=[this.id(this.canon(n)),u,this.id(this.canon(h)),this.id(this.canon(i))];for(c=this.rdfFactory.quad(n,o,h,i),l=0;l<4;l++){var f=this.index[l],y=p[l];f[y]||(f[y]=[]),f[y].push(c)}if(this.statements.push(c),this.dataCallbacks){var L,V=function get(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function vet(e,r){if(e){if("string"==typeof e)return eS(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eS(e,r)}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var c=t.next();return s=c.done,c},e:function(c){i=!0,l=c},f:function(){try{!s&&null!=t.return&&t.return()}finally{if(i)throw l}}}}(this.dataCallbacks);try{for(V.s();!(L=V.n()).done;)(0,L.value)(c)}catch(mt){V.e(mt)}finally{V.f()}}return c}},{key:"canon",value:function(n){if(!n)return n;var o=this.redirections[this.id(n)];if(o)return o;switch(n.termType){case y1.$Q:return new Si(n.value);case y1.r0:return n;case y1.ic:return new Zw;case y1.S:case y1.bD:return n;case y1.QW:return new Ds(n.value,n.language,n.datatype);case y1.Kk:return new z2.A(n.value);case y1.P2:return new o0(n.value);default:throw new Error("Term Type not recognized for canonization: ".concat(n.termType))}}},{key:"check",value:function(){this.checkStatementList(this.statements);for(var n=0;n<4;n++){var o=this.index[n];for(var s in o)o.hasOwnProperty(s)&&this.checkStatementList(o[s],n)}}},{key:"checkStatementList",value:function(n,o){void 0===o&&(o=0);for(var l,i=" found in "+["subject","predicate","object","why"][o]+" index.",a=0;a<n.length;a++){for(var c=[(l=n[a]).subject,l.predicate,l.object,l.graph],h=function(y,V){for(var L=0;L<y.length;L++)if(y[L].subject.equals(V.subject)&&y[L].predicate.equals(V.predicate)&&y[L].object.equals(V.object)&&y[L].why.equals(V.graph))return!0},u=0;u<4;u++){var d=this.canon(c[u]),p=this.id(d);this.index[u][p]&&h(this.index[u][p],l)}if(!h(this.statements,l))throw new Error("Statement list does not statement "+l+"@"+l.graph+i)}}},{key:"close",value:function(){return this}},{key:"compareTerms",value:function(n,o){return Object.prototype.hasOwnProperty.call(n,"compareTerm")?n.compareTerm(o):Fl.A[n.termType]<Fl.A[o.termType]?-1:Fl.A[n.termType]>Fl.A[o.termType]?1:n.value<o.value?-1:n.value>o.value?1:0}},{key:"copyTo",value:function(n,o,s){s||(s=[]);var i=this.statementsMatching(n);-1!==ni(s,"two-direction")&&i.concat(this.statementsMatching(void 0,void 0,n));for(var l=0;l<i.length;l++){var a=i[l];switch(a.object.termType){case"NamedNode":this.add(o,a.predicate,a.object);break;case"Literal":case"BlankNode":case"Collection":this.add(o,a.predicate,a.object.copy(this))}-1!==ni(s,"delete")&&this.remove(a)}}},{key:"equate",value:function(n,o){var s=this.canon(n),i=this.canon(o),l=this.compareTerms(s,i);return!l||(l<0?this.replaceWith(i,s):this.replaceWith(s,i))}},{key:"formula",value:function(n){return new r(n)}},{key:"length",get:function(){return this.statements.length}},{key:"match",value:function(n,o,s,i){return this.statementsMatching(Pl.fromValue(n),Pl.fromValue(o),Pl.fromValue(s),Pl.fromValue(i))}},{key:"mentionsURI",value:function(n){var o="<"+n+">";return!!this.subjectIndex[o]||!!this.objectIndex[o]||!!this.predicateIndex[o]}},{key:"newExistential",value:function(n){if(!n)return this.bnode();var o=this.sym(n);return this.declareExistential(o)}},{key:"newPropertyAction",value:function(n,o){var s=this.id(n);this.propertyActions[s]||(this.propertyActions[s]=[]),this.propertyActions[s].push(o);for(var i=this.statementsMatching(void 0,n,void 0),l=!1,a=0;a<i.length;a++)l=l||o(this,i[a].subject,n,i[a].object);return l}},{key:"newUniversal",value:function(n){var o=this.sym(n);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(o),o}},{key:"variable",value:function(n){return new o0(n)}},{key:"nextSymbol",value:function(n){for(var o=0;;o++){var s=n.value+"#n"+o;if(!this.mentionsURI(s))return this.sym(s)}}},{key:"query",value:function(n,o,s,i){return QI.call(this,n,o,s,i)}},{key:"querySync",value:function(n){var o=[],l=!1;if(n.sync=!0,QI.call(this,n,function s(a){o.push(a)},null,function i(){l=!0}),!l)throw new Error("Sync query should have called done function");return o}},{key:"remove",value:function(n){if(n instanceof Array){for(var o=0;o<n.length;o++)this.remove(n[o]);return this}if((0,qn.ok)(n))return this.remove(n.statements);var s=this.statementsMatching(n.subject,n.predicate,n.object,n.graph);if(!s.length)throw new Error("Statement to be removed is not on store: "+n);return this.removeStatement(s[0]),this}},{key:"removeDocument",value:function(n){this.removeMetadata(n);for(var o=this.statementsMatching(void 0,void 0,void 0,n).slice(),s=0;s<o.length;s++)this.removeStatement(o[s]);return this.removeMatches(n,null,null),this}},{key:"removeMetadata",value:function(n){for(var o=this.sym("chrome://TheCurrentSession"),s="http://www.w3.org/2007/ont/link#",i=this.statementsMatching(void 0,this.sym("".concat(s,"requestedURI")),this.rdfFactory.literal(n.value),o).map(function(p){return p.subject}),l=0;l<i.length;l++){var a=i[l];if(null!=a){var c=void 0,h=this.any(a,this.sym("".concat(s,"status")),null,o);if(null!=h){c=this.statementsMatching(h,this.sym("".concat(s,"status")),null,o).slice();for(var u=0;u<c.length;u++)this.removeStatement(c[u])}var d=this.any(a,this.sym("".concat(s,"response")),null,o);if(null!=d)for(c=this.statementsMatching(d,null,null,o).slice(),u=0;u<c.length;u++)this.removeStatement(c[u]);for(c=this.statementsMatching(a,null,null,o).slice(),u=0;u<c.length;u++)this.removeStatement(c[u])}}return this.removeMatches(this.sym(n.value),null,null,o),this}},{key:"removeMany",value:function(n,o,s,i,l){for(var a=this.statementsMatching(n,o,s,i,!1),c=[],h=0;h<a.length;h++)c.push(a[h]);for(l&&(c=c.slice(0,l)),h=0;h<c.length;h++)this.remove(c[h])}},{key:"removeMatches",value:function(n,o,s,i){return this.removeMany(n,o,s,i),this}},{key:"removeStatement",value:function(n){for(var o=[n.subject,n.predicate,n.object,n.graph],s=0;s<4;s++){var i=this.canon(o[s]),l=this.id(i);this.index[s][l]&&this.rdfArrayRemove(this.index[s][l],n)}return this.rdfArrayRemove(this.statements,n),this}},{key:"removeStatements",value:function(n){for(var o=0;o<n.length;o++)this.remove(n[o]);return this}},{key:"replaceWith",value:function(n,o){for(var s=this.id(n),i=this.id(o),l=function(h){var u=h[s];if(u){var d=h[i];h[i]=d?u.concat(d):u,delete h[s]}},a=0;a<4;a++)l(this.index[a]);if(this.redirections[s]=o,n.value){if(this.aliases[i]||(this.aliases[i]=[]),this.aliases[i].push(n),this.aliases[s])for(a=0;a<this.aliases[s].length;a++)this.redirections[this.id(this.aliases[s][a])]=o,this.aliases[i].push(this.aliases[s][a]);this.add(o,this.sym("http://www.w3.org/2007/ont/link#uri"),n),this.fetcher&&this.fetcher.nowKnownAs(n,o)}return l(this.classActions),l(this.propertyActions),!0}},{key:"allAliases",value:function(n){var o=this.aliases[this.id(this.canon(n))]||[];return o.push(this.canon(n)),o}},{key:"sameThings",value:function(n,o){if(n.equals(o))return!0;var s=this.canon(n);if(!s)return!1;var i=this.canon(o);return!!i&&s.value===i.value}},{key:"setPrefixForURI",value:function(n,o){if(("tab"!==n||!this.namespaces.tab)&&"ns"!==n.slice(0,2)&&"default"!==n.slice(0,7)){for(var s in this.namespaces)this.namespaces[s]==o&&delete this.namespaces[s];this.namespaces[n]=o}}},{key:"statementsMatching",value:function(n,o,s,i,l){var p,f,a=[n,o,s,i],c=[],h=[],u=[],d=[];for(p=0;p<4;p++)c[p]=this.canon(Pl.fromValue(a[p])),c[p]?(d.push(p),h[p]=this.id(c[p])):u.push(p);if(0===d.length)return this.statements;if(1===d.length)return(f=this.index[p=d[0]][h[p]])&&l&&f.length>1&&(f=f.slice(0,1)),f||[];var V,L,y=1e10;for(L=0;L<d.length;L++){if(!(f=this.index[p=d[L]][h[p]]))return[];f.length<y&&(y=f.length,V=L)}for(var R=d[V],mt=this.index[R][h[R]],Ct=d.slice(0,V).concat(d.slice(V+1)),yt=[],tt=["subject","predicate","object","why"],Vt=0;Vt<mt.length;Vt++){var Gt=mt[Vt];for(L=0;L<Ct.length;L++)if(!this.canon(Gt[tt[p=Ct[L]]]).equals(c[p])){Gt=null;break}if(null!=Gt&&(yt.push(Gt),l))break}return yt}},{key:"uris",value:function(n){var o=this.canon(n),s=this.aliases[this.id(o)];if(!o.value)return[];var i=[o.value];if(s)for(var l=0;l<s.length;l++)i.push(s[l].uri);return i}},{key:"serialize",value:function(n,o,s,i){var l,a=null!==(l=i)&&void 0!==l&&l.namespaces?e3(e3({},this.namespaces),i.namespaces):e3({},this.namespaces);return I6(s,this,n,o,void 0,i=e3(e3({},i||{}),{},{namespaces:a}))}}],[{key:"defaultGraphURI",get:function(){return t3}}])}(JI);(0,Te.A)(r3,"handleRDFType",void 0),r3.handleRDFType=nS;var Cet=K(6725),B6=K.n(Cet);function n3(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function ket(e,r){if(e){if("string"==typeof e)return oS(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oS(e,r)}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var c=t.next();return s=c.done,c},e:function(c){i=!0,l=c},f:function(){try{!s&&null!=t.return&&t.return()}finally{if(i)throw l}}}}function oS(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var s0=jn("http://www.w3.org/1999/02/22-rdf-syntax-ns#");function yet(e,r){function t(o,s,i){var l=e.statementsMatching(o,s0("rest"),null,r);if(1!==l.length)throw new Error("Bad list structure: no rest at ".concat(o));var a=e.statementsMatching(o,s0("first"),null,r);if(1!==a.length)throw new Error("Bad list structure: rest but ".concat(a.length," firsts at ").concat(o));var h=[a[0].object].concat(s),u=i.concat(l).concat(a),d=e.statementsMatching(null,s0("rest"),o,r);if(0===d.length){var p=new Ea(h);return e.remove(u),void function _et(e,r,t,n){var s,o=n3(e.statementsMatching(t,null,null,n));try{for(o.s();!(s=o.n()).done;){var i=s.value,l=new r0(r,i.predicate,i.object,n);e.remove(i),e.add(l)}}catch(f){o.e(f)}finally{o.f()}var c,a=n3(e.statementsMatching(null,t,null,n));try{for(a.s();!(c=a.n()).done;){var h=c.value;e.remove(h),e.add(new r0(h.subject,r,h.object,n))}}catch(f){a.e(f)}finally{a.f()}var d,u=n3(e.statementsMatching(null,null,t,n));try{for(u.s();!(d=u.n()).done;){var p=d.value;e.remove(p),e.add(new r0(p.subject,p.predicate,r,n))}}catch(f){u.e(f)}finally{u.f()}}(e,p,o,r)}if(1!==d.length)throw new Error("Bad list structure: ".concat(d.length," pres at ").concat(o));var f=d[0].subject;if("BlankNode"!==f.termType)throw new Error("Bad list element node ".concat(f," type: ").concat(f.termType," "));t(f,h,u)}!function Met(e,r){var o,t=s0("nil"),n=n3(e.statementsMatching(t,null,null,r));try{for(n.s();!(o=n.n()).done;){var s=o.value;e.remove(s);var i=new Ea;e.add(new r0(i,s.predicate,s.object,r))}}catch(u){n.e(u)}finally{n.f()}var a,l=n3(e.statementsMatching(null,null,t,r));try{for(l.s();!(a=l.n()).done;){var c=a.value;if(!c.predicate.sameTerm(s0("rest"))){e.remove(c);var h=new Ea;e.add(new r0(c.subject,c.predicate,h,r))}}}catch(u){l.e(u)}finally{l.f()}}(e,r),e.statementsMatching(null,s0("rest"),s0("nil"),r).forEach(function(o){if("BlankNode"!==o.subject.termType)throw new Error("Bad list element node ".concat(o.subject," type: ").concat(o.subject.termType," "));t(o.subject,[],[])})}var Uw="http://www.w3.org/2000/10/swap/log#",qo=function(r){return r},s2=function(r){return r},o3=function(r){if(r.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},Es=function(r){return r.length},$w=function(r,t,n){if(typeof r.slice>"u")throw"@@ mising.js: No .slice function for "+r+" of type "+(0,Ow.A)(r);return typeof n>"u"||null==n?r.slice(t):r.slice(t,n)},dh=Error("dummy error stop iteration"),s3=function(r){return this.last=0,this.li=r,this.next=function(){if(this.last==this.li.length)throw dh;return this.li[this.last++]},this},Yw=function(r,t){return r.indexOf(t)},l0=function(r,t){if(!r)throw t?"python Assertion failed: "+t:"(python) Assertion failed."};String.prototype.encode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return function(r){r=r.replace(/\r\n/g,"\n");for(var t="",n=0;n<r.length;n++){var o=r.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}(this)},String.prototype.decode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return this};var Xw=function(r,t){return ri(t,r)},iS="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",lS="http://www.w3.org/2002/07/owl#sameAs",aS="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",a0=aS+":",Kw=new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g"),cS=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),qw=new RegExp('[\\\\\\r\\n\\"]',"g"),Jw=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");const Qw=function Fet(e,r,t,n,o,s,i,l){return new jet(e,r,t,n,o,s,i,l)};var jet=function(){return(0,mo.A)(function e(r,t,n,o,s,i,l,a){(0,fo.A)(this,e),typeof t>"u"&&(t=null),typeof n>"u"&&(n=""),typeof o>"u"&&(o=null),typeof s>"u"&&(s=""),typeof i>"u"&&(i=null),typeof l>"u"&&(l=""),typeof a>"u"&&(a=null),this._bindings=new o3([]),this._flags=l,""!=n&&(l0(n.indexOf(":")>=0,"Document URI not absolute: "+n),this._bindings[""]=n+"#"),this._store=r,s&&r.setGenPrefix(s),this._thisDoc=n,this.source=r.sym(n),this.lines=0,this.statementCount=0,this.hasNil=!1,this.startOfLine=0,this.previousLine=0,this._genPrefix=s,this.keywords=new s2(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new o3([]),this._variables=new o3([]),this._parentVariables=new o3([]),this._reason=a,this._reason2=null,this._baseURI=o||n||null,l0(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._genPrefix=this._thisDoc?this._thisDoc+"#_g":RDFSink_uniqueURI()),this._formula=null==t?this._thisDoc?r.formula(n+"#_formula"):r.formula():t,this._context=this._formula,this._parentContext=null},[{key:"here",value:function(t){return this._genPrefix+"_L"+this.lines+"C"+(t-this.startOfLine+1)}},{key:"formula",value:function(){return this._formula}},{key:"loadStream",value:function(t){return this.loadBuf(t.read())}},{key:"loadBuf",value:function(t){return this.startDoc(),this.feed(t),this.endDoc()}},{key:"feed",value:function(t){for(var n=t.decode("utf-8"),o=0;o>=0;){var s=this.skipSpace(n,o);if(s<0)return;if((o=this.directiveOrStatement(n,s))<0)throw B1(this._thisDoc,this.lines,n,s,"expected directive or statement")}}},{key:"directiveOrStatement",value:function(t,n){var s,o=this.skipSpace(t,n);return o<0?o:(s=this.directive(t,o))>=0||(s=this.statement(t,o))>=0?this.checkDot(t,s):s}},{key:"tok",value:function(t,n,o){if("@"==n.slice(o,o+1))o+=1;else if(ni(this.keywords,t)<0)return-1;var i=o+Es(t);return n.slice(o,i)==t&&aS.indexOf(n.charAt(i))>=0?i:-1}},{key:"directive",value:function(t,n){if((c=this.skipSpace(t,n))<0)return c;var o=new s2([]);if((c=this.tok("bind",t,n))>0)throw B1(this._thisDoc,this.lines,t,n,"keyword bind is obsolete: use @prefix");if((c=this.tok("keywords",t,n))>0){if((n=this.commaSeparatedList(t,c,o,!1))<0)throw B1(this._thisDoc,this.lines,t,n,"'@keywords' needs comma separated list of words");return this.setKeywords($w(o,null,null)),n}if((c=this.tok("forAll",t,n))>0){if((n=this.commaSeparatedList(t,c,o,!0))<0)throw B1(this._thisDoc,this.lines,t,n,"Bad variable list after @forAll");var s=new s3(o);try{for(;;){var i=s.next();(ni(this._variables,i)<0||ni(this._parentVariables,i)>=0)&&(this._variables[i]=this._context.newUniversal(i))}}catch(u){if(u!=dh)throw u}return n}if((c=this.tok("forSome",t,n))>0){if((n=this.commaSeparatedList(t,c,o,this.uri_ref2))<0)throw B1(this._thisDoc,this.lines,t,n,"Bad variable list after @forSome");s=new s3(o);try{for(;;)i=s.next(),this._context.declareExistential(i)}catch(d){if(d!=dh)throw d}return n}if((c=this.tok("prefix",t,n))>=0){var c,l=new s2([]);if((n=this.qname(t,c,l))<0)throw B1(this._thisDoc,this.lines,t,c,"expected qname after @prefix");if((c=this.uri_ref2(t,n,l))<0)throw B1(this._thisDoc,this.lines,t,n,"expected <uriref> after @prefix _qname_");var a=l[1].uri;return this._baseURI?a=Xw(this._baseURI,a):l0(a.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS"),l0(a.indexOf(":")>=0),this._bindings[l[0][0]]=a,this.bind(l[0][0],function xet(e){return encodeURI(e)}(a)),c}if((c=this.tok("base",t,n))>=0){if(l=new s2([]),(n=this.uri_ref2(t,c,l))<0)throw B1(this._thisDoc,this.lines,t,c,"expected <uri> after @base ");if(a=l[0].uri,!this._baseURI)throw B1(this._thisDoc,this.lines,t,c,"With no previous base URI, cannot use relative URI in @base  <"+a+">");return a=Xw(this._baseURI,a),l0(a.indexOf(":")>=0),this._baseURI=a,n}return-1}},{key:"bind",value:function(t,n){""==t||this._store.setPrefixForURI(t,n)}},{key:"setKeywords",value:function(t){null==t?this.keywordsSet=0:(this.keywords=t,this.keywordsSet=1)}},{key:"startDoc",value:function(){}},{key:"endDoc",value:function(){return this.hasNil&&this._store.rdfFactory.supports.COLLECTIONS&&yet(this._store,this.source),this._formula}},{key:"makeStatement",value:function(t){t[0].add(t[2],t[1],t[3],this.source),(t[2].uri&&t[2].uri===iS||t[3].uri&&t[3].uri===iS)&&(this.hasNil=!0),this.statementCount+=1}},{key:"statement",value:function(t,s){var o=new s2([]);if((s=this.object(t,s,o))<0)return s;var i=this.property_list(t,s,o[0]);if(i<0)throw B1(this._thisDoc,this.lines,t,s,"expected propertylist");return i}},{key:"subject",value:function(t,n,o){return this.item(t,n,o)}},{key:"verb",value:function(t,n,o){if((i=this.skipSpace(t,n))<0)return i;var s=new s2([]);if((i=this.tok("has",t,n))>=0){if((n=this.prop(t,i,s))<0)throw B1(this._thisDoc,this.lines,t,i,"expected property after 'has'");return o.push(new qo(["->",s[0]])),n}if((i=this.tok("is",t,n))>=0){var i;if((n=this.prop(t,i,s))<0)throw B1(this._thisDoc,this.lines,t,i,"expected <property> after 'is'");if((i=this.skipSpace(t,n))<0)throw B1(this._thisDoc,this.lines,t,n,"End of file found, expected property after 'is'");if((i=this.tok("of",t,n=i))<0)throw B1(this._thisDoc,this.lines,t,n,"expected 'of' after 'is' <prop>");return o.push(new qo(["<-",s[0]])),i}if((i=this.tok("a",t,n))>=0)return o.push(new qo(["->",this._store.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")])),i;if("<="==t.slice(n,n+2))return o.push(new qo(["<-",this._store.sym(Uw+"implies")])),n+2;if("="==t.slice(n,n+1))return">"==t.slice(n+1,n+2)?(o.push(new qo(["->",this._store.sym(Uw+"implies")])),n+2):(o.push(new qo(["->",this._store.sym(lS)])),n+1);if(":="==t.slice(n,n+2))return o.push(new qo(["->",Uw+"becomes"])),n+2;if((i=this.prop(t,n,s))>=0)return o.push(new qo(["->",s[0]])),i;if(">-"==t.slice(n,n+2)||"<-"==t.slice(n,n+2))throw B1(this._thisDoc,this.lines,t,i,">- ... -> syntax is obsolete.");return-1}},{key:"prop",value:function(t,n,o){return this.item(t,n,o)}},{key:"item",value:function(t,n,o){return this.path(t,n,o)}},{key:"blankNode",value:function(t){return this._context.bnode(t,this._reason2)}},{key:"path",value:function(t,n,o){if((s=this.nodeOrLiteral(t,n,o))<0)return s;for(;"!^.".indexOf(t.slice(s,s+1))>=0;){var i=t.slice(s,s+1);if("."==i){var l=t.slice(s+1,s+2);if(!l||a0.indexOf(l)>=0&&":?<[{(".indexOf(l)<0)break}var s,a=o.pop(),c=this.blankNode(this.here(s));if((s=this.node(t,s+1,o))<0)throw B1(this._thisDoc,this.lines,t,s,"EOF found in middle of path syntax");var h=o.pop();this.makeStatement(new qo("^"==i?[this._context,h,c,a]:[this._context,h,a,c])),o.push(c)}return s}},{key:"anonymousNode",value:function(t){if(n=this._anonymousNodes[t])return n;var n=this._store.bnode(t);return this._anonymousNodes[t]=n,n}},{key:"node",value:function(t,l,o,s){typeof s>"u"&&(s=null);var i=s;if((tt=this.skipSpace(t,l))<0)return tt;var a=t.slice(l=tt,l+1);if("["==a){var c=this.here(l);if((tt=this.skipSpace(t,l+1))<0)throw B1(this._thisDoc,this.lines,t,l,"EOF after '['");if("="==t.slice(tt,tt+1)){l=tt+1;var h=new s2([]);if(!((tt=this.objectList(t,l,h))>=0))throw B1(this._thisDoc,this.lines,t,l,"objectList expected after [= ");if(i=h[0],Es(h)>1){var u=new s3(h);try{for(;;){var d=u.next();this.makeStatement(new qo([this._context,this._store.sym(lS),i,d]))}}catch(Le){if(Le!=dh)throw Le}}if((tt=this.skipSpace(t,tt))<0)throw B1(this._thisDoc,this.lines,t,l,"EOF when objectList expected after [ = ");if(";"==t.slice(tt,tt+1))var tt=tt+1}if(null==i&&(i=this.blankNode(c)),(l=this.property_list(t,tt,i))<0)throw B1(this._thisDoc,this.lines,t,tt,"property_list expected");if((tt=this.skipSpace(t,l))<0)throw B1(this._thisDoc,this.lines,t,l,"EOF when ']' expected after [ <propertyList>");if("]"!=t.slice(tt,tt+1))throw B1(this._thisDoc,this.lines,t,tt,"']' expected");return o.push(i),tt+1}if("{"==a){if("$"==t.slice(l+1,l+2)){tt=(l+=1)+1;for(var f=new s2([]),y=!0;;){if((l=this.skipSpace(t,tt))<0)throw B1(this._thisDoc,this.lines,t,l,"needed '$}', found end.");if("$}"==t.slice(l,l+2)){tt=l+2;break}if(y)y=!1;else{if(","!=t.slice(l,l+1))throw B1(this._thisDoc,this.lines,t,l,"expected: ','");l+=1}var V=new s2([]);if((tt=this.item(t,l,V))<0)throw B1(this._thisDoc,this.lines,t,l,"expected item in set or '$}'");f.push(V[0])}return o.push(this._store.newSet(f,this._context)),tt}tt=l+1;var L=this._parentContext;this._parentContext=this._context;var R=this._anonymousNodes,mt=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new o3([]),this._variables=this._variables.slice();var Ct=this._reason2;for(this._reason2=null,null==i&&(i=this._store.formula()),this._context=i;;){if((l=this.skipSpace(t,tt))<0)throw B1(this._thisDoc,this.lines,t,l,"needed '}', found end.");if("}"==t.slice(l,l+1)){tt=l+1;break}if((tt=this.directiveOrStatement(t,l))<0)throw B1(this._thisDoc,this.lines,t,l,"expected statement or '}'")}return this._anonymousNodes=R,this._variables=this._parentVariables,this._parentVariables=mt,this._context=this._parentContext,this._reason2=Ct,this._parentContext=L,o.push(i.close()),tt}if("("==a){var yt=this._store.list;for("$"==t.slice(l+1,l+2)&&(yt=this._store.newSet,l+=1),tt=l+1,f=new s2([]);;){if((l=this.skipSpace(t,tt))<0)throw B1(this._thisDoc,this.lines,t,l,"needed ')', found end.");if(")"==t.slice(l,l+1)){tt=l+1;break}if(V=new s2([]),(tt=this.item(t,l,V))<0)throw B1(this._thisDoc,this.lines,t,l,"expected item in list or ')'");f.push(V[0])}return o.push(yt(f,this._context)),tt}if((tt=this.tok("this",t,l))>=0)throw B1(this._thisDoc,this.lines,t,l,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");return(tt=this.tok("true",t,l))>=0?(o.push(!0),tt):(tt=this.tok("false",t,l))>=0?(o.push(!1),tt):null==i&&(tt=this.uri_ref2(t,l,o))>=0?tt:-1}},{key:"property_list",value:function(t,n,o){for(;;){if((p=this.skipSpace(t,n))<0)throw B1(this._thisDoc,this.lines,t,n,"EOF found when expected verb in property list");if(":-"!=t.slice(p,p+2)){n=p;var i=new s2([]);if((p=this.verb(t,n,i))<=0)return n;var l=new s2([]);if((n=this.objectList(t,p,l))<0)throw B1(this._thisDoc,this.lines,t,p,"objectList expected");var a=new s3(l);try{for(;;){var c=a.next(),h=i[0],d=h[1];this.makeStatement(new qo("->"==h[0]?[this._context,d,o,c]:[this._context,d,c,o]))}}catch(y){if(y!=dh)throw y}if((p=this.skipSpace(t,n))<0)throw B1(this._thisDoc,this.lines,t,p,"EOF found in list of objects");if(";"!=t.slice(n,n+1))return n;n+=1}else{n=p+2;var p,s=new s2([]);if((p=this.node(t,n,s,o))<0)throw B1(this._thisDoc,this.lines,t,n,"bad {} or () or [] node after :- ");n=p}}}},{key:"commaSeparatedList",value:function(t,n,o,s){if((i=this.skipSpace(t,n))<0)throw B1(this._thisDoc,this.lines,t,i,"EOF found expecting comma sep list");if("."==t.charAt(i))return n;if(s)var i=this.uri_ref2(t,i,o);else i=this.bareWord(t,i,o);if(i<0)return-1;for(;;){if((n=this.skipSpace(t,i))<0)return n;var l=t.slice(n,n+1);if(","!=l)return"."!=l?-1:n;if((i=s?this.uri_ref2(t,n+1,o):this.bareWord(t,n+1,o))<0)throw B1(this._thisDoc,this.lines,t,i,"bad list content")}}},{key:"objectList",value:function(t,s,o){if((s=this.object(t,s,o))<0)return-1;for(;;){var i=this.skipSpace(t,s);if(i<0)throw B1(this._thisDoc,this.lines,t,i,"EOF found after object");if(","!=t.slice(i,i+1))return i;if((s=this.object(t,i+1,o))<0)return s}}},{key:"checkDot",value:function(t,n){var o=this.skipSpace(t,n);if(o<0)return o;if("."==t.slice(o,o+1))return o+1;if("}"==t.slice(o,o+1)||"]"==t.slice(o,o+1))return o;throw B1(this._thisDoc,this.lines,t,o,"expected '.' or '}' or ']' at end of statement")}},{key:"uri_ref2",value:function(t,d,o){var s=new s2([]);if((i=this.qname(t,d,s))>=0){var l=s[0],a=l[0],c=l[1];if(null==a){l0(0,"not used?");var h=this._baseURI+"#"}else if(!(h=this._bindings[a])){if("_"==a)return o.push(this.anonymousNode(c)),i;throw B1(this._thisDoc,this.lines,t,d,"Prefix "+a+" not bound.")}var u=this._store.sym(h+c);return ni(this._variables,u)>=0?o.push(this._variables[u]):o.push(u),i}if((d=this.skipSpace(t,d))<0)return-1;if("?"==t.charAt(d)){var p=new s2([]);return(i=this.variable(t,d,p))>0?(o.push(p[0]),i):-1}if("<"==t.charAt(d)){for(var f=d+=1;d<Es(t);){if(">"==t.charAt(d)){var y=t.slice(f,d);return this._baseURI?y=Xw(this._baseURI,y):l0(y.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs"),"#"==t.slice(d-1,d)&&"#"!=$w(y,-1,null)&&(y+="#"),u=this._store.sym(y),ni(this._variables,u)>=0?o.push(this._variables[u]):o.push(u),d+1}d+=1}throw B1(this._thisDoc,this.lines,t,i,"unterminated URI reference")}if(this.keywordsSet){var i;if(p=new s2([]),(i=this.bareWord(t,d,p))<0)return-1;if(ni(this.keywords,p[0])>=0)throw B1(this._thisDoc,this.lines,t,d,'Keyword "'+p[0]+'" not allowed here.');return o.push(this._store.sym(this._bindings[""]+p[0])),i}return-1}},{key:"skipSpace",value:function(t,n){for(var s=n||0;s<t.length;s++){var i=t.charAt(s);if(" \n\r\t\f\v\xa0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000".indexOf(i)<0){if("#"!==t.charAt(s))return s;for(;;s++){if(s===t.length)return-1;if("\n"===t.charAt(s)){this.lines=this.lines+1;break}}}else"\n"===t.charAt(s)&&(this.lines=this.lines+1)}return-1}},{key:"variable",value:function(t,i,o){if((s=this.skipSpace(t,i))<0||"?"!=t.slice(s,s+1))return-1;var s;if(i=s+=1,"0123456789-".indexOf(t.charAt(s))>=0)throw B1(this._thisDoc,this.lines,t,s,"Varible name can't start with '"+t.charAt(s)+"s'");for(;i<Es(t)&&a0.indexOf(t.charAt(i))<0;)i+=1;if(null==this._parentContext)throw B1(this._thisDoc,this.lines,t,s,"Can't use ?xxx syntax for variable in outermost level: "+t.slice(s-1,i));return o.push(this._store.variable(t.slice(s,i))),i}},{key:"bareWord",value:function(t,l,o){var s=this.skipSpace(t,l);if(s<0)return-1;var i=t.charAt(s);if("0123456789-".indexOf(i)>=0||a0.indexOf(i)>=0)return-1;for(l=s;l<Es(t)&&a0.indexOf(t.charAt(l))<0;)l+=1;return o.push(t.slice(s,l)),l}},{key:"qname",value:function(t,s,o){if((s=this.skipSpace(t,s))<0)return-1;var i=t.charAt(s);if("0123456789-+".indexOf(i)>=0)return-1;if(a0.indexOf(i)<0){var l=i;for(s+=1;s<Es(t)&&(i=t.charAt(s),a0.indexOf(i)<0);)l+=i,s+=1}else l="";if(s<Es(t)&&":"==t.charAt(s)){var a=l;for(s+=1,l="";s<Es(t)&&(i=t.charAt(s),a0.indexOf(i)<0);)l+=i,s+=1;return o.push(new qo([a,l])),s}return l&&this.keywordsSet&&ni(this.keywords,l)<0?(o.push(new qo(["",l])),s):-1}},{key:"object",value:function(t,n,o){if((s=this.subject(t,n,o))>=0)return s;if((s=this.skipSpace(t,n))<0)return-1;var i=null,l=t.charAt(n=s);if('"'==l||"'"==l){i=t.slice(n,n+3==l+l)?l+l+l:l,n+=Es(i);var a=this.strconst(t,n,i),s=a[0];return o.push(this._store.literal(a[1])),s}return-1}},{key:"nodeOrLiteral",value:function(t,n,o){if((s=this.node(t,n,o))>=0)return s;if((s=this.skipSpace(t,n))<0)return-1;var i=t.charAt(n=s);if("-+0987654321".indexOf(i)>=0){if(cS.lastIndex=0,null!=(l=cS.exec(t.slice(n))))s=n+(a=l[0]).length,a.indexOf("T")>=0?o.push(this._store.literal(a,this._store.sym("http://www.w3.org/2001/XMLSchema#dateTime"))):o.push(this._store.literal(a,this._store.sym("http://www.w3.org/2001/XMLSchema#date")));else{var a;if(Kw.lastIndex=0,null==(l=Kw.exec(t.slice(n))))throw B1(this._thisDoc,this.lines,t,n,"Bad number or date syntax");(a=t.slice(n,s=n+Kw.lastIndex)).indexOf("e")>=0?o.push(this._store.literal(parseFloat(a),this._store.sym("http://www.w3.org/2001/XMLSchema#double"))):t.slice(n,s).indexOf(".")>=0?o.push(this._store.literal(parseFloat(a),this._store.sym("http://www.w3.org/2001/XMLSchema#decimal"))):o.push(this._store.literal(parseInt(a),this._store.sym("http://www.w3.org/2001/XMLSchema#integer")))}return s}if('"'==t.charAt(n)){if('"""'==t.slice(n,n+3))var c='"""';else c='"';n+=Es(c);var h=null,u=this.strconst(t,n,c),d=u[1],p=null;if("@"==t.slice(s=u[0],s+1)){var l;if(Jw.lastIndex=0,null==(l=Jw.exec(t.slice(s+1))))throw B1(this._thisDoc,startline,t,n,"Bad language code syntax on string literal, after @");p=t.slice(s+1,n=Jw.lastIndex+s+1);var s=n}if("^^"==t.slice(s,s+2)){var f=new s2([]);s=this.uri_ref2(t,s+2,f),h=f[0]}return o.push(this._store.literal(d,p||h)),s}return-1}},{key:"strconst",value:function(t,n,o){for(var s=n,i="",l=this.lines;s<Es(t);){if(n=s+Es(o),t.slice(s,n)==o)return new qo([n,i]);if('"'!=t.charAt(s)){if(qw.lastIndex=0,!qw.exec(t.slice(s)))throw B1(this._thisDoc,l,t,s,"Closing quote missing in string at ^ in "+t.slice(s-20,s)+"^"+t.slice(s,s+20));if(i+=t.slice(s,n=s+qw.lastIndex-1),'"'!=(c=t.charAt(n)))if("\r"!=c){if("\n"==c){if('"'==o)throw B1(this._thisDoc,l,t,n,"newline found in string literal");this.lines=this.lines+1,i+=c,s=n+1,this.previousLine=this.startOfLine,this.startOfLine=s}else if("\\"==c){if(!(c=t.slice(s=n+1,s+1)))throw B1(this._thisDoc,l,t,n,"unterminated string literal (2)");var h=Yw('abfrtvn\\"',c);if(h>=0)i+='a\b\f\r\t\v\n\\"'.charAt(h),s+=1;else if("u"==c)s=(d=this.uEscape(t,s+1,l))[0],i+=c=d[1];else{if("U"!=c)throw B1(this._thisDoc,this.lines,t,n,"bad escape");var d,c;s=(d=this.UEscape(t,s+1,l))[0],i+=c=d[1]}}}else s=n+1;else s=n}else i=i+'"',s=s+1}throw B1(this._thisDoc,this.lines,t,n,"unterminated string literal")}},{key:"uEscape",value:function(t,n,o){for(var s=n,i=0,l=0;i<4;){var c=t.slice(s,s+1).toLowerCase();if(s+=1,""==c)throw B1(this._thisDoc,o,t,n,"unterminated string literal(3)");var h=Yw("0123456789abcdef",c);if(h<0)throw B1(this._thisDoc,o,t,n,"bad string literal hex escape");l=16*l+h,i+=1}var u=String.fromCharCode(l);return new qo([s,u])}},{key:"UEscape",value:function(t,n,o){for(var s=n,i=0,l="\\U";i<8;){var c=t.slice(s,s+1).toLowerCase();if(s+=1,""==c)throw B1(this._thisDoc,o,t,n,"unterminated string literal(3)");if(Yw("0123456789abcdef",c)<0)throw B1(this._thisDoc,o,t,n,"bad string literal hex escape");l+=c,i+=1}var r,u=(r="0x"+$w(l,2,10)-0,String.fromCharCode(r));return new qo([s,u])}}])}();function B1(e,r,t,n,o){var s=r+1,i="Line "+s+" of <"+e+">: Bad syntax: "+o+'\nat: "'+t.slice(n,n+30)+'"',l=new SyntaxError(i,e,s);return l.lineNo=s,l.characterInFile=n,l.syntaxProblem=o,l}function uS(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function dS(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?uS(Object(t),!0).forEach(function(n){(0,Te.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):uS(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}const tC=dS(dS({},Bi),{},{supports:(0,Te.A)((0,Te.A)((0,Te.A)((0,Te.A)((0,Te.A)((0,Te.A)((0,Te.A)({},fs.collections,!0),fs.defaultGraphType,!1),fs.equalsMethod,!0),fs.identity,!1),fs.id,!0),fs.reversibleId,!1),fs.variableType,!0),collection:function(r){return new Ea(r)},id:function(r){var t=this;return(0,qn.P3)(r)?"( ".concat(r.elements.map(function(n){return t.id(n)}).join(", ")," )"):(0,qn.DZ)(r)?o0.toString(r):Bi.id(r)},termToNQ:function(r){return r.termType===y1.r0?Ea.toNT(r):Bi.termToNQ(r)}});function eC(e,r){return"string"==typeof r?e.rdfFactory.literal(r):Object.prototype.hasOwnProperty.call(r,"@list")?!0===e.rdfFactory.supports.COLLECTIONS?function Oet(e,r){if(!Array.isArray(r))throw new TypeError("Object must be an array");return e.rdfFactory.collection(r.map(function(t){return eC(e,t)}))}(e,r["@list"]):function Net(e,r){var t=r["@id"]?rC(e,r):e.rdfFactory.blankNode(),n=r["@list"].map(function(s){return eC(e,s)}),o=XI(e.rdfFactory,t,n);return e.addAll(o),t}(e,r):Object.prototype.hasOwnProperty.call(r,"@id")?rC(e,r):Object.prototype.hasOwnProperty.call(r,"@language")?e.rdfFactory.literal(r["@value"],r["@language"]):Object.prototype.hasOwnProperty.call(r,"@type")?e.rdfFactory.literal(r["@value"],e.rdfFactory.namedNode(r["@type"])):Object.prototype.hasOwnProperty.call(r,"@value")?e.rdfFactory.literal(r["@value"]):e.rdfFactory.literal(r)}function pS(e,r,t,n){var o=t&&Object.prototype.hasOwnProperty.call(t,"termType")?t.value:t;return K.e(45).then(K.t.bind(K,1045,23)).then(function(s){return s.flatten(JSON.parse(e),null,{base:o})}).then(function(s){return s.reduce(function(i,l){return r=gS(r,t,l)},r)}).then(n).catch(n)}function rC(e,r){return r["@id"].startsWith("_:")?e.rdfFactory.blankNode(r["@id"].substring(2)):e.rdfFactory.namedNode(r["@id"])}function gS(e,r,t){for(var n=t["@id"]?rC(e,t):e.rdfFactory.blankNode(),o=0,s=Object.keys(t);o<s.length;o++){var i=s[o];if("@id"!==i){if("@graph"==i)for(var l=n,a=t[i],c=0;c<a.length;c++)e=gS(e,l,a[c]);var h=t[i];if(Array.isArray(h))for(var u=0;u<h.length;u++)e.addStatement(vS(e,n,i,h[u],r));else e.addStatement(vS(e,n,i,h,r))}}return e}function vS(e,r,t,n,o){var s,i;return"@type"===t?(s=e.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),i=e.rdfFactory.namedNode(n)):(s=e.rdfFactory.namedNode(t),i=eC(e,n)),e.rdfFactory.quad(r,s,i,e.rdfFactory.namedNode(o))}var Zet=K(6148),Get=K(4416),Wet=K.n(Get);const l3="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a3="http://www.w3.org/2001/XMLSchema#",nC="http://www.w3.org/2000/10/swap/",ul={xsd:{decimal:`${a3}decimal`,boolean:`${a3}boolean`,double:`${a3}double`,integer:`${a3}integer`,string:`${a3}string`},rdf:{type:`${l3}type`,nil:`${l3}nil`,first:`${l3}first`,rest:`${l3}rest`,langString:`${l3}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${nC}reify#forSome`,forAll:`${nC}reify#forAll`},log:{implies:`${nC}log#implies`}},{xsd:D6}=ul,Uet=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,fS={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},$et=/[\x00-\x20<>\\"\{\}\|\^\`]/,Yet={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Xet=/$0^/;class Ket{constructor(r){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,this._lineMode=!!(r=r||{}).lineMode){this._n3Mode=!1;for(const t in this)!(t in Yet)&&this[t]instanceof RegExp&&(this[t]=Xet)}else this._n3Mode=!1!==r.n3;this.comments=!!r.comments,this._literalClosingPos=0}_tokenizeToEnd(r,t){let n=this._input,o=n.length;for(;;){let l,a;for(;l=this._newline.exec(n);)this.comments&&(a=this._comment.exec(l[0]))&&s("comment",a[1],"",this._line,l[0].length),n=n.substr(l[0].length,n.length),o=n.length,this._line++;if(!l&&(l=this._whitespace.exec(n))&&(n=n.substr(l[0].length,n.length)),this._endOfFile.test(n))return t&&(this.comments&&(a=this._comment.exec(n))&&s("comment",a[1],"",this._line,n.length),n=null,s("eof","","",this._line,0)),this._input=n;const c=this._line,h=n[0];let u="",d="",p="",f=null,y=0,V=!1;switch(h){case"^":if(n.length<3)break;if("^"!==n[1]){this._n3Mode&&(y=1,u="^");break}if(this._previousMarker="^^",n=n.substr(2),"<"!==n[0]){V=!0;break}case"<":if(f=this._unescapedIri.exec(n))u="IRI",d=f[1];else if(f=this._iri.exec(n)){if(d=this._unescape(f[1]),null===d||$et.test(d))return i(this);u="IRI"}else n.length>1&&"<"===n[1]?(u="<<",y=2):this._n3Mode&&n.length>1&&"="===n[1]&&(u="inverse",y=2,d=">");break;case">":n.length>1&&">"===n[1]&&(u=">>",y=2);break;case"_":((f=this._blank.exec(n))||t&&(f=this._blank.exec(`${n} `)))&&(u="blank",p="_",d=f[1]);break;case'"':if(f=this._simpleQuotedString.exec(n))d=f[1];else if(({value:d,matchLength:y}=this._parseLiteral(n)),null===d)return i(this);(null!==f||0!==y)&&(u="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(f=this._simpleApostropheString.exec(n))d=f[1];else if(({value:d,matchLength:y}=this._parseLiteral(n)),null===d)return i(this);(null!==f||0!==y)&&(u="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(f=this._variable.exec(n))&&(u="var",d=f[0]);break;case"@":"literal"===this._previousMarker&&(f=this._langcode.exec(n))?(u="langcode",d=f[1]):(f=this._keyword.exec(n))&&(u=f[0]);break;case".":if(1===n.length?t:n[1]<"0"||n[1]>"9"){u=".",y=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(f=this._number.exec(n)||t&&(f=this._number.exec(`${n} `)))&&(u="literal",d=f[0],p="string"==typeof f[1]?D6.double:"string"==typeof f[2]?D6.decimal:D6.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(f=this._sparqlKeyword.exec(n))?u=f[0].toUpperCase():V=!0;break;case"f":case"t":(f=this._boolean.exec(n))?(u="literal",d=f[0],p=D6.boolean):V=!0;break;case"a":(f=this._shortPredicates.exec(n))?(u="abbreviation",d="a"):V=!0;break;case"=":this._n3Mode&&n.length>1&&(u="abbreviation",">"!==n[1]?(y=1,d="="):(y=2,d=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(y=1,u=h);break;case"{":!this._lineMode&&n.length>=2&&("|"===n[1]?(u="{|",y=2):(u=h,y=1));break;case"|":n.length>=2&&"}"===n[1]&&(u="|}",y=2);break;default:V=!0}if(V&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(f=this._prefix.exec(n))?((f=this._prefixed.exec(n))||t&&(f=this._prefixed.exec(`${n} `)))&&(u="prefixed",p=f[1]||"",d=this._unescape(f[2])):(u="prefix",d=f[1]||"")),"^^"===this._previousMarker)switch(u){case"prefixed":u="type";break;case"IRI":u="typeIRI";break;default:u=""}if(!u)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?i(this):this._input=n;const L=y||f[0].length,R=s(u,d,p,c,L);this.previousToken=R,this._previousMarker=u,n=n.substr(L,n.length)}function s(l,a,c,h,u){const d=n?o-n.length:o,f={type:l,value:a,prefix:c,line:h,start:d,end:d+u};return r(null,f),f}function i(l){r(l._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(r){let t=!1;const n=r.replace(Uet,(o,s,i,l)=>{if("string"==typeof s)return String.fromCharCode(Number.parseInt(s,16));if("string"==typeof i){let a=Number.parseInt(i,16);return a<=65535?String.fromCharCode(Number.parseInt(i,16)):String.fromCharCode(55296+((a-=65536)>>10),56320+(1023&a))}return l in fS?fS[l]:(t=!0,"")});return t?null:n}_parseLiteral(r){if(r.length>=3){const t=r.match(/^(?:"""|"|'''|'|)/)[0],n=t.length;let o=Math.max(this._literalClosingPos,n);for(;(o=r.indexOf(t,o))>0;){let s=0;for(;"\\"===r[o-s-1];)s++;if(s%2==0){const i=r.substring(n,o),l=i.split(/\r\n|\r|\n/).length-1,a=o+n;if(1===n&&0!==l||3===n&&this._lineMode)break;return this._line+=l,{value:this._unescape(i),matchLength:a}}o++}this._literalClosingPos=r.length-n+1}return{value:"",matchLength:0}}_syntaxError(r){this._input=null;const t=new Error(`Unexpected "${r}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(r){return r.startsWith("\ufeff")?r.substr(1):r}tokenize(r,t){if(this._line=1,"string"==typeof r){if(this._input=this._readStartingBom(r),"function"!=typeof t){const n=[];let o;if(this._tokenizeToEnd((s,i)=>s?o=s:n.push(i),!0),o)throw o;return n}Wet()(()=>this._tokenizeToEnd(t,!0))}else this._pendingBuffer=null,"function"==typeof r.setEncoding&&r.setEncoding("utf8"),r.on("data",n=>{null!==this._input&&0!==n.length&&(this._pendingBuffer&&(n=Zet.hp.concat([this._pendingBuffer,n]),this._pendingBuffer=null),128&n[n.length-1]?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom("string"==typeof n?n:n.toString()):this._input+=n,this._tokenizeToEnd(t,!1)))}),r.on("end",()=>{"string"==typeof this._input&&this._tokenizeToEnd(t,!0)}),r.on("error",t)}}const{rdf:qet,xsd:c0}=ul;let ph,Jet=0;const Qet={namedNode:kS,blankNode:_S,variable:yS,literal:MS,defaultGraph:function n1t(){return ph},quad:sC,triple:sC,fromTerm:c3,fromQuad:xS};class dl{constructor(r){this.id=r}get value(){return this.id}equals(r){return r instanceof dl?this.id===r.id:!!r&&this.termType===r.termType&&this.value===r.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class wS extends dl{get termType(){return"NamedNode"}}class gh extends dl{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const r=this.id;let t=r.lastIndexOf('"')+1;return t<r.length&&"@"===r[t++]?r.substr(t).toLowerCase():""}get datatype(){return new wS(this.datatypeString)}get datatypeString(){const r=this.id,t=r.lastIndexOf('"')+1,n=t<r.length?r[t]:"";return"^"===n?r.substr(t+2):"@"!==n?c0.string:qet.langString}equals(r){return r instanceof gh?this.id===r.id:!!r&&!!r.datatype&&this.termType===r.termType&&this.value===r.value&&this.language===r.language&&this.datatype.value===r.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class t1t extends dl{constructor(r){super(`_:${r}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class e1t extends dl{constructor(r){super(`?${r}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}ph=new class r1t extends dl{constructor(){return super(""),ph||this}get termType(){return"DefaultGraph"}equals(r){return this===r||!!r&&this.termType===r.termType}};class CS extends dl{constructor(r,t,n,o){super(""),this._subject=r,this._predicate=t,this._object=n,this._graph=o||ph}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(r){return!!r&&this._subject.equals(r.subject)&&this._predicate.equals(r.predicate)&&this._object.equals(r.object)&&this._graph.equals(r.graph)}}function kS(e){return new wS(e)}function _S(e){return new t1t(e||"n3-"+Jet++)}function MS(e,r){if("string"==typeof r)return new gh(`"${e}"@${r.toLowerCase()}`);let t=r?r.value:"";return""===t&&("boolean"==typeof e?t=c0.boolean:"number"==typeof e&&(Number.isFinite(e)?t=Number.isInteger(e)?c0.integer:c0.double:(t=c0.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),new gh(""===t||t===c0.string?`"${e}"`:`"${e}"^^${t}`)}function yS(e){return new e1t(e)}function sC(e,r,t,n){return new CS(e,r,t,n)}function c3(e){if(e instanceof dl)return e;switch(e.termType){case"NamedNode":return kS(e.value);case"BlankNode":return _S(e.value);case"Variable":return yS(e.value);case"DefaultGraph":return ph;case"Literal":return MS(e.value,e.language||e.datatype);case"Quad":return xS(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function xS(e){if(e instanceof CS)return e;if("Quad"!==e.termType)throw new Error(`Unexpected termType: ${e.termType}`);return sC(c3(e.subject),c3(e.predicate),c3(e.object),c3(e.graph))}let bS=0;class HS{constructor(r){this._contextStack=[],this._graph=null,this._setBase((r=r||{}).baseIRI),r.factory&&VS(this,r.factory);const t="string"==typeof r.format?r.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(t),o=/trig/.test(t),s=/triple/.test(t),i=/quad/.test(t),l=this._n3Mode=/n3/.test(t),a=s||i;(this._supportsNamedGraphs=!(n||l))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||o||s||l),this._supportsRDFStar=""===t||/star|\*$/.test(t),a&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix="string"!=typeof r.blankNodePrefix?"":r.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=r.lexer||new Ket({lineMode:a,n3:l}),this._explicitQuantifiers=!!r.explicitQuantifiers}static _resetBlankNodePrefix(){bS=0}_setBase(r){if(r){const t=r.indexOf("#");t>=0&&(r=r.substr(0,t)),this._base=r,this._basePath=r.indexOf("/")<0?r:r.replace(/[^\/?]*(?:\?.*)?$/,""),r=r.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=r[0],this._baseScheme=r[1]}else this._base="",this._basePath=""}_saveContext(r,t,n,o,s){const i=this._n3Mode;this._contextStack.push({type:r,subject:n,predicate:o,object:s,graph:t,inverse:!!i&&this._inversePredicate,blankPrefix:i?this._prefixes._:"",quantified:i?this._quantified:null}),i&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(r,t){const n=this._contextStack.pop();if(!n||n.type!==r)return this._error(`Unexpected ${t.type}`,t);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(r){switch(r.type){case"eof":return null!==this._graph?this._error("Unclosed graph",r):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(r)}}_readEntity(r,t){let n;switch(r.type){case"IRI":case"typeIRI":const o=this._resolveIRI(r.value);if(null===o)return this._error("Invalid IRI",r);n=this._factory.namedNode(o);break;case"type":case"prefixed":const s=this._prefixes[r.prefix];if(void 0===s)return this._error(`Undefined prefix "${r.prefix}:"`,r);n=this._factory.namedNode(s+r.value);break;case"blank":n=this._factory.blankNode(this._prefixes[r.prefix]+r.value);break;case"var":n=this._factory.variable(r.value.substr(1));break;default:return this._error(`Expected entity but got ${r.type}`,r)}return!t&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(r){switch(this._predicate=null,r.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",r);case"}":return this._readPunctuation(r);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',r);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',r);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",r);if(0===r.prefix.length)return this._literalValue=r.value,this._completeSubjectLiteral;this._subject=this._factory.literal(r.value,this._factory.namedNode(r.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",r);default:if(void 0===(this._subject=this._readEntity(r)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(r){const t=r.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[r.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${t}`,r):(this._subject=null,"]"===t?this._readBlankNodeTail(r):this._readPunctuation(r));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",r);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",r);default:if(void 0===(this._predicate=this._readEntity(r)))return}return this._readObject}_readObject(r){switch(r.type){case"literal":if(0===r.prefix.length)return this._literalValue=r.value,this._readDataTypeOrLang;this._object=this._factory.literal(r.value,this._factory.namedNode(r.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",r);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",r);default:if(void 0===(this._object=this._readEntity(r)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(r){return"{"===r.type?this._readGraph(r):this._readPredicate(r)}_readGraph(r){return"{"!==r.type?this._error(`Expected graph but got ${r.type}`,r):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(r){return"]"===r.type?(this._subject=null,this._readBlankNodeTail(r)):(this._predicate=null,this._readPredicate(r))}_readBlankNodeTail(r){if("]"!==r.type)return this._readBlankNodePunctuation(r);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=null===this._predicate;return this._restoreContext("blank",r),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(r){switch(r.type){case".":case"}":return this._subject=null,this._readPunctuation(r);default:return this._readPredicate(r)}}_readListItem(r){let t=null,n=null,o=this._readListItem;const s=this._subject,i=this._contextStack,l=i[i.length-1];switch(r.type){case"[":this._saveContext("blank",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this._subject=t=this._factory.blankNode()),o=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",r),0!==i.length&&"list"===i[i.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(o=this._readPredicate,this._subject===this.RDF_NIL)return o}else if(o=this._getContextEndReader(),this._object===this.RDF_NIL)return o;n=this.RDF_NIL;break;case"literal":0===r.prefix.length?(this._literalValue=r.value,o=this._readListItemDataTypeOrLang):(t=this._factory.literal(r.value,this._factory.namedNode(r.prefix)),o=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",r);default:if(void 0===(t=this._readEntity(r)))return}if(null===n&&(this._subject=n=this._factory.blankNode()),null===s?null===l.predicate?l.subject=n:l.object=n:this._emit(s,this.RDF_REST,n,this._graph),null!==t){if(this._n3Mode&&("IRI"===r.type||"prefixed"===r.type))return this._saveContext("item",this._graph,n,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,t,this._graph)}return o}_readDataTypeOrLang(r){return this._completeObjectLiteral(r,!1)}_readListItemDataTypeOrLang(r){return this._completeObjectLiteral(r,!0)}_completeLiteral(r){let t=this._factory.literal(this._literalValue);switch(r.type){case"type":case"typeIRI":const n=this._readEntity(r);if(void 0===n)return;t=this._factory.literal(this._literalValue,n),r=null;break;case"langcode":t=this._factory.literal(this._literalValue,r.value),r=null}return{token:r,literal:t}}_completeSubjectLiteral(r){return this._subject=this._completeLiteral(r).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(r,t){const n=this._completeLiteral(r);if(n)return this._object=n.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===n.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(r){return"}"!==r.type?this._readPunctuation(r):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",r),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(r){let t,n=this._graph;const o=this._subject,s=this._inversePredicate;switch(r.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",r);if(this._n3Mode)return this._readFormulaTail(r);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",r);this._subject=this._factory.quad(o,this._predicate,this._object,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",r);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(r))){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,r)}if(null!==o){const i=this._predicate,l=this._object;s?this._emit(l,i,o,n):this._emit(o,i,l,n)}return t}_readBlankNodePunctuation(r){let t;switch(r.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,r)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(r){return"."!==r.type?this._error("Expected dot to follow quad",r):this._readInTopContext}_readPrefix(r){return"prefix"!==r.type?this._error("Expected prefix to follow @prefix",r):(this._prefix=r.value,this._readPrefixIRI)}_readPrefixIRI(r){if("IRI"!==r.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,r);const t=this._readEntity(r);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(r){const t="IRI"===r.type&&this._resolveIRI(r.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",r)}_readNamedGraphLabel(r){switch(r.type){case"IRI":case"blank":case"prefixed":return this._readSubject(r),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",r)}}_readNamedGraphBlankLabel(r){return"]"!==r.type?this._error("Invalid graph label",r):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(r){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(r)):"."!==r.type?this._error("Expected declaration to end with a dot",r):this._readInTopContext}_readQuantifierList(r){let t;switch(r.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(r,!0)))break;default:return this._error(`Unexpected ${r.type}`,r)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(r){return","===r.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(r))}_getPathReader(r){return this._afterPath=r,this._readPath}_readPath(r){switch(r.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,n=t.length&&t[t.length-1];if(n&&"item"===n.type){const o=this._subject;this._restoreContext("item",r),this._emit(this._subject,this.RDF_FIRST,o,this._graph)}return this._afterPath(r)}}_readForwardPath(r){let t,n;const o=this._factory.blankNode();if(void 0!==(n=this._readEntity(r)))return null===this._predicate?(t=this._subject,this._subject=o):(t=this._object,this._object=o),this._emit(t,n,o,this._graph),this._readPath}_readBackwardPath(r){const t=this._factory.blankNode();let n,o;if(void 0!==(n=this._readEntity(r)))return null===this._predicate?(o=this._subject,this._subject=t):(o=this._object,this._object=t),this._emit(t,n,o,this._graph),this._readPath}_readRDFStarTailOrGraph(r){return">>"!==r.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(r))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,r):this._readRDFStarTail(r)}_readRDFStarTail(r){if(">>"!==r.type)return this._error(`Expected >> but got ${r.type}`,r);const t=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",r),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const r=this._contextStack;if(!r.length)return this._readPunctuation;switch(r[r.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(r,t,n,o){this._callback(null,this._factory.quad(r,t,n,o||this.DEFAULTGRAPH))}_error(r,t){const n=new Error(`${r} on line ${t.line}.`);n.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=R6}_resolveIRI(r){return/^[a-z][a-z0-9+.-]*:/i.test(r)?r:this._resolveRelativeIRI(r)}_resolveRelativeIRI(r){if(!r.length)return this._base;switch(r[0]){case"#":return this._base+r;case"?":return this._base.replace(/(?:\?.*)?$/,r);case"/":return("/"===r[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(r);default:return/^[^/:]*:/.test(r)?null:this._removeDotSegments(this._basePath+r)}}_removeDotSegments(r){if(!/(^|\/)\.\.?($|[/#?])/.test(r))return r;const t=r.length;let n="",o=-1,s=-1,i=0,l="/";for(;o<t;){switch(l){case":":if(s<0&&"/"===r[++o]&&"/"===r[++o])for(;(s=o+1)<t&&"/"!==r[s];)o=s;break;case"?":case"#":o=t;break;case"/":if("."===r[o+1])switch(l=r[1+ ++o],l){case"/":n+=r.substring(i,o-1),i=o+1;break;case void 0:case"?":case"#":return n+r.substring(i,o)+r.substr(o+1);case".":if(l=r[1+ ++o],void 0===l||"/"===l||"?"===l||"#"===l){if(n+=r.substring(i,o-2),(i=n.lastIndexOf("/"))>=s&&(n=n.substr(0,i)),"/"!==l)return`${n}/${r.substr(o+1)}`;i=o+1}}}l=r[++o]}return n+r.substring(i)}parse(r,t,n){let o,s,i;if(t&&(t.onQuad||t.onPrefix||t.onComment)?(o=t.onQuad,s=t.onPrefix,i=t.onComment):(o=t,s=n),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${bS++}_`,this._prefixCallback=s||R6,this._inversePredicate=!1,this._quantified=Object.create(null),!o){const a=[];let c;if(this._callback=(h,u)=>{h?c=h:u&&a.push(u)},this._lexer.tokenize(r).every(h=>this._readCallback=this._readCallback(h)),c)throw c;return a}let l=(a,c)=>{null!==a?(this._callback(a),this._callback=R6):this._readCallback&&(this._readCallback=this._readCallback(c))};i&&(this._lexer.comments=!0,l=(a,c)=>{null!==a?(this._callback(a),this._callback=R6):this._readCallback&&("comment"===c.type?i(c.value):this._readCallback=this._readCallback(c))}),this._callback=o,this._lexer.tokenize(r,l)}}function R6(){}function VS(e,r){e._factory=r,e.DEFAULTGRAPH=r.defaultGraph(),e.RDF_FIRST=r.namedNode(ul.rdf.first),e.RDF_REST=r.namedNode(ul.rdf.rest),e.RDF_NIL=r.namedNode(ul.rdf.nil),e.N3_FORALL=r.namedNode(ul.r.forAll),e.N3_FORSOME=r.namedNode(ul.r.forSome),e.ABBREVIATIONS={a:r.namedNode(ul.rdf.type),"=":r.namedNode(ul.owl.sameAs),">":r.namedNode(ul.log.implies)},e.QUANTIFIERS_GRAPH=r.namedNode("urn:n3:quantifiers")}if(VS(HS.prototype,Qet),typeof Ta>"u")var Ta={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var oi=function(){function e(r,t){(0,fo.A)(this,e),this.options=t||{},this.kb=r,this.target=t.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return(0,mo.A)(e,[{key:"addTriple",value:function(t,n,o,s){var i,l,a,c;i=typeof n>"u"?Bi.namedNode(this.options.base):this.toRDFNodeObject(n),a=this.toRDFNodeObject(o),l=this.toRDFNodeObject(s),c=Bi.namedNode(this.options.base),this.kb.add(i,a,l,c)}},{key:"ancestorPath",value:function(t){for(var n="";t&&t.nodeType!==Ta.DOCUMENT_NODE;)n="/"+t.localName+n,t=t.parentNode;return n}},{key:"copyMappings",value:function(t){var n={};for(var o in t)n[o]=t[o];return n}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(t){for(var n=0;n<e.dateTimeTypes.length;n++){var o=e.dateTimeTypes[n].pattern.exec(t);if(o&&o[0].length===t.length)return e.dateTimeTypes[n].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return this.blankCounter++,"_:"+this.blankCounter}},{key:"newSubjectOrigin",value:function(t,n){}},{key:"parseCURIE",value:function(t,n,o){var i,s=t.indexOf(":");if(s>=0){var l=t.substring(0,s);if(""===l)return(i=n[""])?i+t.substring(s+1):null;if("_"===l)return"_:"+t.substring(s+1);if(e.NCNAME.test(l)&&(i=n[l]))return i+t.substring(s+1)}return null}},{key:"parseCURIEOrURI",value:function(t,n,o){return this.parseCURIE(t,n,o)||this.resolveAndNormalize(o,t)}},{key:"parsePredicate",value:function(t,n,o,s,i,l){if(""===t)return null;var a=this.parseTermOrCURIEOrAbsURI(t,n,l?null:o,s,i);return a&&0===a.indexOf("_:")?null:a}},{key:"parsePrefixMappings",value:function(t,n){for(var o=this.tokenize(t),s=null,i=0;i<o.length;i++)":"===o[i][o[i].length-1]?s=o[i].substring(0,o[i].length-1):s&&(n[s]=this.options.base?ri(o[i],this.options.base):o[i],s=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(t,n,o){return"["===(t=this.trim(t)).charAt(0)&&"]"===t.charAt(t.length-1)?0===(t=(t=t.substring(1,t.length-1)).trim(t)).length?null:"_:"===t?this.theOne:this.parseCURIE(t,n,o):this.parseCURIEOrURI(t,n,o)}},{key:"parseTermOrCURIEOrAbsURI",value:function(t,n,o,s,i){t=this.trim(t);var l=this.parseCURIE(t,s,i);if(l)return l;if(o){if(n&&!this.absURIRE.exec(t))return n+t;var a=o[t];if(a)return a;if(a=o[t.toLowerCase()])return a}return this.absURIRE.exec(t)?this.resolveAndNormalize(i,t):null}},{key:"parseTermOrCURIEOrURI",value:function(t,n,o,s,i){t=this.trim(t);var l=this.parseCURIE(t,s,i);if(l)return l;var a=o[t];return a||(a=o[t.toLowerCase()])||(n&&!this.absURIRE.exec(t)?n+t:this.resolveAndNormalize(i,t))}},{key:"parseURI",value:function(t){return t}},{key:"process",value:function(t,n){var o;n=n||{},t.nodeType===Ta.DOCUMENT_NODE?(t.baseURI&&!n.baseURI&&(n.baseURI=t.baseURI),o=t.baseURI,(t=t.documentElement).baseURI||(t.baseURI=o),this.setContext(t)):t.parentNode.nodeType===Ta.DOCUMENT_NODE&&this.setContext(t);var s=[],i=function(D0){if(!D0&&n&&n.baseURI)return n.baseURI;var jF=D0.indexOf("#");return jF>=0&&(D0=D0.substring(0,jF)),n&&n.baseURIMap&&(D0=n.baseURIMap(D0)),D0};for(s.push({current:t,context:this.push(null,i(t.baseURI))});s.length>0;){var l=s.shift();if(l.parent){if(l.context.parent&&l.context.parent.listMapping===l.listMapping)continue;for(var a in l.listMapping){var c=l.listMapping[a];if(0!==c.length){for(var h=[],u=0;u<c.length;u++)h.push(this.newBlankNode());for(var d=0;d<h.length;d++)this.addTriple(l.parent,h[d],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",c[d]),this.addTriple(l.parent,h[d],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:e.objectURI,value:d+1<h.length?h[d+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(l.parent,l.subject,a,{type:e.objectURI,value:h[0]})}else this.addTriple(l.parent,l.subject,a,{type:e.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}}else{var p=l.current,f=l.context,y=!1,V=null,L=null,R=null,mt=f.prefixes,Ct=!1,yt=[],tt=f.listMapping,Vt=!f.parent,Gt=f.language,pe=f.vocabulary;o=this.parseURI(i(p.baseURI)),p.item=null;var ge=p.getAttributeNode("vocab");if(ge){var Me=this.trim(ge.value);Me.length>0?this.addTriple(p,o.spec,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:e.objectURI,value:pe=Me}):pe=this.vocabulary}for(var Le=0;Le<p.attributes.length;Le++){var Ue=p.attributes[Le];if("x"===Ue.nodeName.charAt(0)&&0===Ue.nodeName.indexOf("xmlns:")){Ct||(mt=this.copyMappings(mt),Ct=!0);var Fe=Ue.nodeName.substring(6),Se=e.trim(Ue.value);mt[Fe]=this.options.base?ri(Se,this.options.base):Se}}var x1=p.getAttributeNode("prefix");x1&&(Ct||(mt=this.copyMappings(mt),Ct=!0),this.parsePrefixMappings(x1.value,mt));for(var lr=null,Cn=0;!lr&&Cn<this.langAttributes.length;Cn++)lr=p.getAttributeNodeNS(this.langAttributes[Cn].namespaceURI,this.langAttributes[Cn].localName);if(lr){var os=e.trim(lr.value);Gt=os.length>0?os:null}var S0,gi,dn=p.getAttributeNode("rel"),Go=p.getAttributeNode("rev"),bn=p.getAttributeNode("typeof"),ui=p.getAttributeNode("property"),Cs=p.getAttributeNode("datatype"),y2=this.inHTMLMode?p.getAttributeNode("datetime"):null,F2=p.getAttributeNode("content"),j2=p.getAttributeNode("about"),Pi=p.getAttributeNode("src"),ks=p.getAttributeNode("resource"),di=p.getAttributeNode("href"),I_=p.getAttributeNode("inlist"),pi=[];if(dn){gi=this.tokenize(dn.value);for(var S_=0;S_<gi.length;S_++)(S0=this.parsePredicate(gi[S_],pe,f.terms,mt,o,this.inHTMLMode&&null!==ui))&&pi.push(S0)}var Nh=[];if(Go){gi=this.tokenize(Go.value);for(var B_=0;B_<gi.length;B_++)(S0=this.parsePredicate(gi[B_],pe,f.terms,mt,o,this.inHTMLMode&&ui))&&Nh.push(S0)}if(this.inHTMLMode&&(dn||Go)&&ui&&(0===pi.length&&(dn=null),0===Nh.length&&(Go=null)),dn||Go?(j2&&(V=this.parseSafeCURIEOrCURIEOrURI(j2.value,mt,o)),bn&&(R=V),V||(p.parentNode.nodeType===Ta.DOCUMENT_NODE?V=i(p.baseURI):f.parentObject&&(V=i(p.parentNode.baseURI)===f.parentObject?i(p.baseURI):f.parentObject)),ks&&(L=this.parseSafeCURIEOrCURIEOrURI(ks.value,mt,o)),L||(di?L=this.resolveAndNormalize(o,encodeURI(di.value)):Pi?L=this.resolveAndNormalize(o,encodeURI(Pi.value)):bn&&!j2&&!(this.inXHTMLMode&&("head"===p.localName||"body"===p.localName))&&(L=this.newBlankNode())),!bn||j2||!this.inXHTMLMode||"head"!==p.localName&&"body"!==p.localName?bn&&!j2&&(R=L):R=V):!ui||F2||Cs?(j2&&(V=this.parseSafeCURIEOrCURIEOrURI(j2.value,mt,o)),!V&&ks&&(V=this.parseSafeCURIEOrCURIEOrURI(ks.value,mt,o)),!V&&di&&(V=this.resolveAndNormalize(o,encodeURI(di.value))),!V&&Pi&&(V=this.resolveAndNormalize(o,encodeURI(Pi.value))),V||(p.parentNode.nodeType===Ta.DOCUMENT_NODE?V=i(p.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!==p.localName&&"body"!==p.localName?bn?V=this.newBlankNode():f.parentObject&&(V=i(p.parentNode.baseURI)===f.parentObject?i(p.baseURI):f.parentObject,ui||(y=!0)):V=i(p.parentNode.baseURI)===f.parentObject?i(p.baseURI):f.parentObject),bn&&(R=V)):(j2&&(V=this.parseSafeCURIEOrCURIEOrURI(j2.value,mt,o),bn&&(R=V)),V||p.parentNode.nodeType!==Ta.DOCUMENT_NODE?!V&&f.parentObject&&(V=i(p.parentNode.baseURI)===f.parentObject?i(p.baseURI):f.parentObject):(V=i(p.baseURI),bn&&(R=V)),bn&&!R&&(ks&&(R=this.parseSafeCURIEOrCURIEOrURI(ks.value,mt,o)),!R&&di&&(R=this.resolveAndNormalize(o,encodeURI(di.value))),!R&&Pi&&(R=this.resolveAndNormalize(o,encodeURI(Pi.value))),!R&&(this.inXHTMLMode||this.inHTMLMode)&&("head"===p.localName||"body"===p.localName)&&(R=V),R||(R=this.newBlankNode()),L=R)),V&&(j2||ks||R)){var TF=V;bn&&!j2&&!ks&&L&&(TF=L),this.newSubjectOrigin(p,TF)}if(R){gi=this.tokenize(bn.value);for(var D_=0;D_<gi.length;D_++){var RF=this.parseTermOrCURIEOrAbsURI(gi[D_],pe,f.terms,mt,o);RF&&this.addTriple(p,R,e.typeURI,{type:e.objectURI,value:RF})}}if(V&&V!==f.parentObject&&(tt={},Vt=!0),L){if(dn&&I_)for(var e8=0;e8<pi.length;e8++){var r8=tt[pi[e8]];r8||(tt[pi[e8]]=r8=[]),r8.push({type:e.objectURI,value:L})}else if(dn)for(var E_=0;E_<pi.length;E_++)this.addTriple(p,V,pi[E_],{type:e.objectURI,value:L});if(Go)for(var T_=0;T_<Nh.length;T_++)this.addTriple(p,L,Nh[T_],{type:e.objectURI,value:V})}else{if(V&&!L&&(dn||Go)&&(L=this.newBlankNode()),dn&&I_)for(var n8=0;n8<pi.length;n8++){var o8=tt[pi[n8]];o8||(tt[S0]=o8=[]),yt.push({predicate:pi[n8],list:o8})}else if(dn)for(var R_=0;R_<pi.length;R_++)yt.push({predicate:pi[R_],forward:!0});if(Go)for(var F_=0;F_<Nh.length;F_++)yt.push({predicate:Nh[F_],forward:!1})}if(ui){var Ao=null,P2=null;Cs?(Ao=""===Cs.value?e.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(Cs.value,pe,f.terms,mt,o),P2=y2&&!F2?y2.value:Ao===e.XMLLiteralURI||Ao===e.HTMLLiteralURI?null:F2?F2.value:p.textContent):F2?(Ao=e.PlainLiteralURI,P2=F2.value):y2?(Ao=e.deriveDateTimeType(P2=y2.value))||(Ao=e.PlainLiteralURI):!dn&&!Go&&(ks&&(P2=this.parseSafeCURIEOrCURIEOrURI(ks.value,mt,o)),!P2&&di?P2=this.resolveAndNormalize(o,encodeURI(di.value)):!P2&&Pi&&(P2=this.resolveAndNormalize(o,encodeURI(Pi.value))),P2&&(Ao=e.objectURI)),Ao||(bn&&!j2?(Ao=e.objectURI,P2=R):(P2=p.textContent,this.inHTMLMode&&"time"===p.localName&&(Ao=e.deriveDateTimeType(P2)),Ao||(Ao=e.PlainLiteralURI))),gi=this.tokenize(ui.value);for(var j_=0;j_<gi.length;j_++){var $3=this.parsePredicate(gi[j_],pe,f.terms,mt,o);if($3)if(I_){var s8=tt[$3];s8||(tt[$3]=s8=[]),s8.push(Ao===e.XMLLiteralURI||Ao===e.HTMLLiteralURI?{type:Ao,value:p.childNodes}:{type:Ao||e.PlainLiteralURI,value:P2,language:Gt})}else this.addTriple(p,V,$3,Ao===e.XMLLiteralURI||Ao===e.HTMLLiteralURI?{type:Ao,value:p.childNodes}:{type:Ao||e.PlainLiteralURI,value:P2,language:Gt})}}if(V&&!y)for(var B0=0;B0<f.incomplete.length;B0++)f.incomplete[B0].list?f.incomplete[B0].list.push({type:e.objectURI,value:V}):f.incomplete[B0].forward?this.addTriple(p,f.subject,f.incomplete[B0].predicate,{type:e.objectURI,value:V}):this.addTriple(p,V,f.incomplete[B0].predicate,{type:e.objectURI,value:f.subject});var _s=null,FF=V;y?((_s=this.push(f,f.subject)).parentObject=i(p.parentNode.baseURI)===f.parentObject?i(p.baseURI):f.parentObject,_s.incomplete=f.incomplete,_s.language=Gt,_s.prefixes=mt,_s.vocabulary=pe):((_s=this.push(f,V)).parentObject=L||V||f.subject,_s.prefixes=mt,_s.incomplete=yt,L&&(FF=L,tt={},Vt=!0),_s.listMapping=tt,_s.language=Gt,_s.vocabulary=pe),Vt&&s.unshift({parent:p,context:f,subject:FF,listMapping:tt});for(var Y3=p.lastChild;Y3;Y3=Y3.previousSibling)Y3.nodeType===Ta.ELEMENT_NODE&&s.unshift({current:Y3,context:_s})}}this.inHTMLMode&&this.copyProperties();for(var P_=0;P_<this.finishedHandlers.length;P_++)this.finishedHandlers[P_](t)}},{key:"push",value:function(t,n){return{parent:t,subject:n||(t?t.subject:null),parentObject:null,incomplete:[],listMapping:t?t.listMapping:{},language:t?t.language:this.language,prefixes:t?t.prefixes:this.target.graph.prefixes,terms:t?t.terms:this.target.graph.terms,vocabulary:t?t.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(t,n){return ri(n,t)}},{key:"setContext",value:function(t){"html"===t.localName&&"XHTML+RDFa 1.1"===t.getAttribute("version")?this.setXHTMLContext():"html"===t.localName||"http://www.w3.org/1999/xhtml"===t.namespaceURI?typeof document<"u"&&document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"===document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"===document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(t){return this.trim(t).split(/\s+/)}},{key:"toRDFNodeObject",value:function(t){var n=this;if(!(typeof t>"u")){if("string"==typeof t)return"_:"===t.substring(0,2)?(typeof this.blankNodes[t.substring(2)]>"u"&&(this.blankNodes[t.substring(2)]=new Si(t.substring(2))),this.blankNodes[t.substring(2)]):Bi.namedNode(t);switch(t.type){case e.objectURI:return"_:"===t.value.substring(0,2)?(typeof this.blankNodes[t.value.substring(2)]>"u"&&(this.blankNodes[t.value.substring(2)]=new Si(t.value.substring(2))),this.blankNodes[t.value.substring(2)]):Bi.namedNode(t.value);case e.PlainLiteralURI:return new Ds(t.value,t.language||"");case e.XMLLiteralURI:case e.HTMLLiteralURI:var o="";return Object.keys(t.value).forEach(function(s){o+=Di.jI(t.value[s],n.htmlOptions)}),new Ds(o,"",new z2.A(t.type));default:return new Ds(t.value,"",new z2.A(t.type))}}}},{key:"trim",value:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(t,n,o){var s=new e(n,{base:o});t.baseURI||(t.baseURI=o),s.process(t,{baseURI:o})}},{key:"tokenize",value:function(t){return this.trim(t).split(/\s+/)}},{key:"trim",value:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}])}();oi.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",oi.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",oi.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",oi.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",oi.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",oi.nameChar="[-A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\u10000-\uefffF.0-9\xb7\u0300-\u036f\u203f-\u2040]",oi.nameStartChar="[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u0131\u0134-\u013e\u0141-\u0148\u014a-\u017e\u0180-\u01c3\u01cd-\u01f0\u01f4-\u01f5\u01fa-\u0217\u0250-\u02a8\u02bb-\u02c1\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03d6\u03da\u03dc\u03de\u03e0\u03e2-\u03f3\u0401-\u040c\u040e-\u044f\u0451-\u045c\u045e-\u0481\u0490-\u04c4\u04c7-\u04c8\u04cb-\u04cc\u04d0-\u04eb\u04ee-\u04f5\u04f8-\u04f9\u0531-\u0556\u0559\u0561-\u0586\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0641-\u064a\u0671-\u06b7\u06ba-\u06be\u06c0-\u06ce\u06d0-\u06d3\u06d5\u06e5-\u06e6\u0905-\u0939\u093d\u0958-\u0961\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8b\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ae0\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b36-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb5\u0bb7-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0e01-\u0e2e\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eae\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0f40-\u0f47\u0f49-\u0f69\u10a0-\u10c5\u10d0-\u10f6\u1100\u1102-\u1103\u1105-\u1107\u1109\u110b-\u110c\u110e-\u1112\u113c\u113e\u1140\u114c\u114e\u1150\u1154-\u1155\u1159\u115f-\u1161\u1163\u1165\u1167\u1169\u116d-\u116e\u1172-\u1173\u1175\u119e\u11a8\u11ab\u11ae-\u11af\u11b7-\u11b8\u11ba\u11bc-\u11c2\u11eb\u11f0\u11f9\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2126\u212a-\u212b\u212e\u2180-\u2182\u3041-\u3094\u30a1-\u30fa\u3105-\u312c\uac00-\ud7a3\u4e00-\u9fa5\u3007\u3021-\u3029_]",oi.NCNAME=new RegExp("^"+oi.nameStartChar+oi.nameChar+"*$"),oi.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];var F6=oi.parseRDFaDOM,j6=function(){function e(r){(0,fo.A)(this,e),this.store=r,this.bnodes={},this.why=null,this.reify=!1}return(0,mo.A)(e,[{key:"frameFactory",value:function(t,n,o){return{NODE:1,ARC:2,parent:n,parser:t,store:t.store,element:o,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(i,l){l=ri(l,this.base),this.node=this.store.sym(l),this.nodeType=i},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var i=this.store.sym(ri("#"+this.parent.rdfid,this.base));this.store.add(i,this.store.sym(e.ns.RDF+"type"),this.store.sym(e.ns.RDF+"Statement"),this.parser.why),this.store.add(i,this.store.sym(e.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(i,this.store.sym(e.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(i,this.store.sym(e.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(i){this.addSymbol(this.NODE,i),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(i){this.node=null!=i?null!=this.parser.bnodes[i]?this.parser.bnodes[i]:this.parser.bnodes[i]=this.store.bnode():this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(i){i===e.ns.RDF+"li"&&(i=e.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,i)},addLiteral:function(i){this.node=this.store.literal(i,this.parent.datatype&&this.parent.datatype!==e.ns.RDF+"langString"?this.store.sym(this.parent.datatype):this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}}},{key:"getAttributeNodeNS",value:function(t,n,o){var s=null;if(t.getAttributeNodeNS)s=t.getAttributeNodeNS(n,o);else for(var l,i=t.attributes,c=0;c<i.length;++c)if((l=i[c]).namespaceURI===n&&(l.prefix?l.prefix+":"+o:o)===l.nodeName){s=l;break}return s}},{key:"parse",value:function(t,n,o){var i,s=t.childNodes;if(this.cleanParser(),t.nodeType===e.nodeType.DOCUMENT){for(var l=0;l<s.length;l++)if(s[l].nodeType===e.nodeType.ELEMENT){i=s[l];break}}else{if(t.nodeType!==e.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+n+". Halting. ");i=t}this.why=o;var a=this.frameFactory(this);return this.base=n,a.base=n,a.lang=null,this.parseDOM(this.buildFrame(a,i)),!0}},{key:"parseDOM",value:function(t){for(var n,o=function(yt){var tt="";if(null==yt.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+yt.localName+" in "+this.base);return yt.namespaceURI&&(tt+=yt.namespaceURI),yt.localName?tt+=yt.localName:yt.nodeName&&(yt.nodeName.indexOf(":")>=0?tt+=yt.nodeName.split(":")[1]:tt+=yt.nodeName),tt}.bind(this),s=!0;t.parent;){var i=t.element,l=i.attributes;if(i.nodeType===e.nodeType.TEXT||i.nodeType===e.nodeType.CDATA_SECTION)t.parent.nodeType===t.NODE&&(t.addArc(e.ns.RDF+"value"),t=this.buildFrame(t)),t.addLiteral(i.nodeValue);else if(o(i)!==e.ns.RDF+"RDF")if(t.parent&&t.parent.collection&&(t.addCollectionArc(),(t=this.buildFrame(t,t.element)).parent.element=null),t.parent&&t.parent.nodeType&&t.parent.nodeType!==t.ARC){t.addArc(o(i)),this.reify&&(n=this.getAttributeNodeNS(i,e.ns.RDF,"ID"))&&(t.rdfid=n.nodeValue,i.removeAttributeNode(n));var d=this.getAttributeNodeNS(i,e.ns.RDF,"parseType"),p=this.getAttributeNodeNS(i,e.ns.RDF,"datatype");if(p&&(t.datatype=p.nodeValue,i.removeAttributeNode(p)),d){var f=d.nodeValue;"Literal"===f?(t.datatype=e.ns.RDF+"XMLLiteral",(t=this.buildFrame(t)).addLiteral(i.innerHTML||i.childNodes),s=!1):"Resource"===f?((t=this.buildFrame(t,t.element)).parent.element=null,t.addBNode()):"Collection"===f&&((t=this.buildFrame(t,t.element)).parent.element=null,t.addCollection()),i.removeAttributeNode(d)}if(0!==l.length){var y=this.getAttributeNodeNS(i,e.ns.RDF,"resource"),V=this.getAttributeNodeNS(i,e.ns.RDF,"nodeID");t=this.buildFrame(t),y?(t.addNode(y.nodeValue),i.removeAttributeNode(y)):V?(t.addBNode(V.nodeValue),i.removeAttributeNode(V)):t.addBNode();for(var L=l.length-1;L>=0;L--){var R=this.buildFrame(t);R.addArc(o(l[L])),o(l[L])===e.ns.RDF+"type"?this.buildFrame(R).addNode(l[L].nodeValue):this.buildFrame(R).addLiteral(l[L].nodeValue)}}else 0===i.childNodes.length&&this.buildFrame(t).addLiteral("")}else{var a=this.getAttributeNodeNS(i,e.ns.RDF,"about");if(n=this.getAttributeNodeNS(i,e.ns.RDF,"ID"),a&&n)throw new Error("RDFParser: "+i.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!a&&n)t.addNode("#"+n.nodeValue),i.removeAttributeNode(n);else if(null==a&&null==n){var c=this.getAttributeNodeNS(i,e.ns.RDF,"nodeID");c?(t.addBNode(c.nodeValue),i.removeAttributeNode(c)):t.addBNode()}else t.addNode(a.nodeValue),i.removeAttributeNode(a);var h=this.getAttributeNodeNS(i,e.ns.RDF,"type");e.ns.RDF+"Description"!==o(i)&&(h={nodeValue:o(i)}),null!=h&&(this.store.add(t.node,this.store.sym(e.ns.RDF+"type"),this.store.sym(ri(h.nodeValue,t.base)),this.why),h.nodeName&&i.removeAttributeNode(h));for(var u=l.length-1;u>=0;u--)this.store.add(t.node,this.store.sym(o(l[u])),this.store.literal(l[u].nodeValue,t.lang),this.why)}for(i=t.element;t.parent;){for(var mt=t;null==i;)i=(t=t.parent).element;var Ct=i.childNodes&&i.childNodes[t.lastChild];if(Ct&&s){if((Ct.nodeType===e.nodeType.ELEMENT||Ct.nodeType===e.nodeType.TEXT||Ct.nodeType===e.nodeType.CDATA_SECTION)&&(Ct.nodeType!==e.nodeType.TEXT&&Ct.nodeType!==e.nodeType.CDATA_SECTION||1===i.childNodes.length)){t.lastChild++,t=this.buildFrame(mt,i.childNodes[t.lastChild-1]);break}t.lastChild++}else{if(t.terminateFrame(),!(t=t.parent))break;i=t.element,s=!0}}}}},{key:"cleanParser",value:function(){this.bnodes={},this.why=null}},{key:"buildFrame",value:function(t,n){var o=this.frameFactory(this,t,n);if(t&&(o.base=t.base,o.lang=t.lang),!n||n.nodeType===e.nodeType.TEXT||n.nodeType===e.nodeType.CDATA_SECTION)return o;var s=n.attributes,i=n.getAttributeNode("xml:base");null!=i&&(o.base=i.nodeValue,n.removeAttribute("xml:base"));var l=n.getAttributeNode("xml:lang");null!=l&&(o.lang=l.nodeValue,n.removeAttribute("xml:lang"));for(var a=s.length-1;a>=0;a--)if("xml"===s[a].nodeName.substr(0,3)){if("xmlns:"===s[a].name.slice(0,6)){var c=s[a].nodeValue;this.base&&(c=ri(c,this.base)),this.store.setPrefixForURI(s[a].name.slice(6),c)}n.removeAttributeNode(s[a])}return o}}])}();function P6(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text/turtle",o=arguments.length>4?arguments[4]:void 0;n=(n=n||y1.sT).split(";")[0];try{if(n===y1.ny||n===y1.sT)Qw(r,r,t,t,null,null,"",null).loadBuf(e),a();else if(n===y1.JG)new j6(r).parse(Di.h4(e),t,r.sym(t)),a();else if(n===y1.H)F6(Di.h4(e,{contentType:y1.H}),r,t),a();else if(n===y1.lc)F6(Di.h4(e,{contentType:y1.lc}),r,t),a();else if(n===y1.K9||n===y1.Fn)(function o1t(e,r,t){var n,o,s,i=["INSERT","DELETE","WHERE"],l=jn("http://www.w3.org/ns/pim/patch#"),a=Qw(r,r,t,t,null,null,"",null),c={},h=function(V,L,R,mt,Ct){return"Line "+(L+1)+" of <"+V+">: Bad syntax:\n   "+Ct+'\n   at: "'+R.slice(mt,mt+30)+'"'};n=0;var u=r.sym(t+"#query");for(c.query=u;;){if((o=a.skipSpace(e,n))<0)return c;if(";"===e[o]){if((n=a.skipSpace(e,o+1))<0)return c;o=n}var d=!1;for(s=0;s<i.length;s++){var p=i[s];if(e.slice(o,o+p.length)===p){if((n=a.skipSpace(e,o+p.length))<0)throw h(a._thisDoc,a.lines,e,o+p.length,"found EOF, needed {...} after "+p);if(("INSERT"===p||"DELETE"===p)&&"DATA"===e.slice(n,n+4)){if((o=a.skipSpace(e,n+4))<0)throw h(a._thisDoc,a.lines,e,n+4,"needed {...} after INSERT DATA "+p);n=o}var f=[];if((o=a.node(e,n,f))<0)throw h(a._thisDoc,a.lines,e,n,"bad syntax or EOF in {...} after "+p);c[p.toLowerCase()]=f[0],r.add(u,l(p.toLowerCase()),f[0]),d=!0,n=o}}if(!d&&"@prefix"===e.slice(o,o+7)){if((n=a.directive(e,o))<0)throw h(a._thisDoc,a.lines,e,n,"bad syntax or EOF after @prefix ");n=a.checkDot(e,n),d=!0}if(!d)throw h(a._thisDoc,a.lines,e,o,"Unknown syntax at start of statememt: '"+e.slice(o).slice(0,20)+"'")}})(e,r,t),a();else if(n===y1.i2)pS(e,r,t,a);else{if(n!==y1._0&&n!==y1.BR)throw void 0===n?new Error("contentType is undefined"):new Error("Don't know how to parse "+n+" yet");var l=new HS({factory:tC});!function h(d,p){d&&o(d,r);try{l.parse(p,u)}catch(f){o(f,r)}}(null,e)}}catch(d){!function c(d){if(n!==y1.i2||n!==y1._0||n!==y1.BR){if(!o){var p=new Error(d+" while trying to parse <"+t+"> as "+n);throw p.cause=d,p}o(d,r)}}(d)}function a(){o&&o(null,r)}function u(d,p){p?r.add(p.subject,p.predicate,p.object,p.graph):o(d,r)}P6.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/sparql-update-single-match":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0}}(0,Te.A)(j6,"ns",{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"}),(0,Te.A)(j6,"nodeType",{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12});var N6=K(8868),s1t=K.n(N6),h3=K(79);function LS(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function h0(e,r,t){return r=(0,A2.A)(r),(0,Da.A)(e,zS()?Reflect.construct(r,t||[],(0,A2.A)(e).constructor):r.apply(e,t))}function zS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zS=function(){return!!e})()}var a1t={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},AS={rdf:y1.JG,owl:y1.JG,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},IS=function(r){return{link:jn("http://www.w3.org/2007/ont/link#",r),http:jn("http://www.w3.org/2007/ont/http#",r),httph:jn("http://www.w3.org/2007/ont/httph#",r),rdf:jn("http://www.w3.org/1999/02/22-rdf-syntax-ns#",r),rdfs:jn("http://www.w3.org/2000/01/rdf-schema#",r),dc:jn("http://purl.org/dc/elements/1.1/",r),ldp:jn("http://www.w3.org/ns/ldp#",r)}},pl=IS(),Ra=(0,mo.A)(function e(r,t){(0,fo.A)(this,e),(0,Te.A)(this,"response",void 0),(0,Te.A)(this,"dom",void 0),this.response=r,this.dom=t});(0,Te.A)(Ra,"pattern",void 0);var iC=function(e){function r(){return(0,fo.A)(this,r),h0(this,r,arguments)}return(0,vs.A)(r,e),(0,mo.A)(r,[{key:"parse",value:function(n,o,s){var i=n.store;if(this.dom||(this.dom=Di.h4(o)),"parsererror"===this.dom.documentElement.nodeName)return n.failFetch(s,"Badly formed XML in "+s.resource.value,"parse_error");var a=new j6(i);try{a.parse(this.dom,s.original.value,s.original)}catch(c){return n.failFetch(s,"Syntax error parsing RDF/XML! "+c,"parse_error")}return s.noMeta||i.add(s.original,pl.rdf("type"),pl.link("RDFDocument"),n.appNode),n.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"RDFXMLHandler"}},{key:"register",value:function(n){n.mediatypes[y1.JG]={q:.9}}}])}(Ra);iC.pattern=new RegExp("application/rdf\\+xml");var u0=function(e){function r(){return(0,fo.A)(this,r),h0(this,r,arguments)}return(0,vs.A)(r,e),(0,mo.A)(r,[{key:"parse",value:function(n,o,s){var i,l;this.dom||(this.dom=Di.h4(o));var a=n.store,c=this.dom.getElementsByTagName("title");c.length>0&&a.add(s.resource,pl.dc("title"),a.rdfFactory.literal(c[0].textContent),s.resource);for(var h=this.dom.getElementsByTagName("link"),u=h.length-1;u>=0;u--)l=!1,(i=h[u].getAttribute("rel"))||(i=h[u].getAttribute("rev"),l=!0),i&&n.linkData(s.original,i,h[u].getAttribute("href"),s.resource,l);for(var d=this.dom.getElementsByTagName("script"),p=0;p<d.length;p++){var f=d[p].getAttribute("type");a1t[f]&&(P6(d[p].textContent,a,s.original.value,f),P6(d[p].textContent,a,s.original.value,f))}if(s.noMeta||a.add(s.resource,pl.rdf("type"),pl.link("WebPage"),n.appNode),!s.noRDFa&&F6)try{F6(this.dom,a,s.original.value)}catch(V){return n.failFetch(s,"Error trying to parse "+s.resource+" as RDFa:\n"+V+":\n"+V.stack,"parse_error")}return n.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"XHTMLHandler"}},{key:"register",value:function(n){n.mediatypes[y1.H]={}}}])}(Ra);u0.pattern=new RegExp("application/xhtml");var O6=function(e){function r(){return(0,fo.A)(this,r),h0(this,r,arguments)}return(0,vs.A)(r,e),(0,mo.A)(r,[{key:"parse",value:function(n,o,s){for(var i=Di.h4(o),l=0;l<i.childNodes.length;l++){var a=i.childNodes[l];if(r.isElement(a)){var c=a.namespaceURI;if(c&&c===c.rdf)return n.addStatus(s.req,"Has XML root element in the RDF namespace, so assume RDF/XML."),new iC(this.response,i).parse(n,o,s);break}}if(i.doctype&&"html"===i.doctype.name&&i.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&i.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/))return n.addStatus(s.req,"Has XHTML DOCTYPE. Switching to XHTML Handler.\n"),new u0(this.response,i).parse(n,o,s);var d=i.getElementsByTagName("html")[0];if(d){var p=d.getAttribute("xmlns");if(p&&p.match(/^http:\/\/www.w3.org\/1999\/xhtml/))return n.addStatus(s.req,"Has a default namespace for XHTML. Switching to XHTMLHandler.\n"),new u0(this.response,i).parse(n,o,s)}return n.failFetch(s,"Unsupported dialect of XML: not RDF or XHTML namespace, etc.\n"+o.slice(0,80),901)}}],[{key:"toString",value:function(){return"XMLHandler"}},{key:"register",value:function(n){n.mediatypes["text/xml"]={q:.5},n.mediatypes["application/xml"]={q:.5}}},{key:"isElement",value:function(n){return n.nodeType===Node.ELEMENT_NODE}}])}(Ra);O6.pattern=new RegExp("(text|application)/(.*)xml");var SS=function(e){function r(){return(0,fo.A)(this,r),h0(this,r,arguments)}return(0,vs.A)(r,e),(0,mo.A)(r,[{key:"parse",value:function(n,o,s){var i=n.store;if(TS(o))return n.addStatus(s.req,"Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.\n"),new u0(this.response).parse(n,o,s);if(function c1t(e){var r=e.indexOf("<!DOCTYPE html"),t=e.indexOf(">");return!(-1===r||-1===t||r>t)&&-1!==e.substr(r,t-r).indexOf("XHTML")}(o))return n.addStatus(s.req,"Has XHTML DOCTYPE. Switching to XHTMLHandler.\n"),new u0(this.response).parse(n,o,s);if(function h1t(e){return!!e.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/)}(o))return n.addStatus(s.req,"Has default namespace for XHTML, so switching to XHTMLHandler.\n"),new u0(this.response).parse(n,o,s);var h=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(o);return h&&i.add(s.resource,pl.dc("title"),i.rdfFactory.literal(h[1]),s.resource),i.add(s.resource,pl.rdf("type"),pl.link("WebPage"),n.appNode),n.addStatus(s.req,"non-XML HTML document, not parsed for data."),n.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"HTMLHandler"}},{key:"register",value:function(n){n.mediatypes["text/html"]={q:.9}}}])}(Ra);SS.pattern=new RegExp("text/html");var BS=function(e){function r(){return(0,fo.A)(this,r),h0(this,r,arguments)}return(0,vs.A)(r,e),(0,mo.A)(r,[{key:"parse",value:function(n,o,s,i){var l=n.store;return new Promise(function(a,c){try{pS(o,l,s.original.value,function(){a(n.doneFetch(s,i))})}catch(u){a(n.failFetch(s,"Error trying to parse "+s.resource+" as JSON-LD:\n"+u,"parse_error",i))}})}}],[{key:"toString",value:function(){return"JsonLdHandler"}},{key:"register",value:function(n){n.mediatypes["application/ld+json"]={q:.9}}}])}(Ra);BS.pattern=/application\/ld\+json/;var DS=function(e){function r(){return(0,fo.A)(this,r),h0(this,r,arguments)}return(0,vs.A)(r,e),(0,mo.A)(r,[{key:"parse",value:function(n,o,s){return TS(o)?(n.addStatus(s.req,"Warning: "+s.resource+" has an XML declaration. We'll assume it's XML but its content-type wasn't XML.\n"),new O6(this.response).parse(n,o,s)):o.slice(0,500).match(/xmlns:/)?(n.addStatus(s.req,"May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.\n"),new O6(this.response).parse(n,o,s)):(n.addStatus(s.req,"Plain text document, no known RDF semantics."),n.doneFetch(s,this.response))}}],[{key:"toString",value:function(){return"TextHandler"}},{key:"register",value:function(n){n.mediatypes["text/plain"]={q:.5}}}])}(Ra);DS.pattern=new RegExp("text/plain");var ES=function(e){function r(){return(0,fo.A)(this,r),h0(this,r,arguments)}return(0,vs.A)(r,e),(0,mo.A)(r,[{key:"parse",value:function(n,o,s,i){var l=n.store,a=Qw(l,l,s.original.value,s.original.value,null,null,"",null);try{a.loadBuf(o)}catch(h){return n.failFetch(s,"Error trying to parse "+s.resource+" as Notation3:\n"+h,"parse_error",i)}return n.addStatus(s.req,"N3 parsed: "+a.statementCount+" triples in "+a.lines+" lines."),n.store.add(s.original,pl.rdf("type"),pl.link("RDFDocument"),n.appNode),n.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"N3Handler"}},{key:"register",value:function(n){n.mediatypes["text/n3"]={q:"1.0"},n.mediatypes["text/turtle"]={q:1}}}])}(Ra);ES.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var lC={RDFXMLHandler:iC,XHTMLHandler:u0,XMLHandler:O6,HTMLHandler:SS,TextHandler:DS,N3Handler:ES,JsonLdHandler:BS};function TS(e){return!!e.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)}var vh=function(){function e(r){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,fo.A)(this,e),(0,Te.A)(this,"store",void 0),(0,Te.A)(this,"timeout",void 0),(0,Te.A)(this,"_fetch",void 0),(0,Te.A)(this,"mediatypes",void 0),(0,Te.A)(this,"appNode",void 0),(0,Te.A)(this,"requested",void 0),(0,Te.A)(this,"timeouts",void 0),(0,Te.A)(this,"redirectedTo",void 0),(0,Te.A)(this,"fetchQueue",void 0),(0,Te.A)(this,"fetchCallbacks",void 0),(0,Te.A)(this,"nonexistent",void 0),(0,Te.A)(this,"lookedUp",void 0),(0,Te.A)(this,"handlers",void 0),(0,Te.A)(this,"ns",void 0),(0,Te.A)(this,"fireCallbacks",void 0),this.store=r||new r3,this.ns=IS(this.store.rdfFactory),this.timeout=n.timeout||3e4,this._fetch=n.fetch||typeof global<"u"&&(global.solidFetcher||global.solidFetch)||typeof window<"u"&&(window.solidFetcher||window.solidFetch)||s1t(),!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.sym("chrome://TheCurrentSession"),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},Di.Kw(this,["request","fail","refresh","retract","done"]),Object.keys(n.handlers||lC).map(function(o){return t.addHandler(lC[o])})}return(0,mo.A)(e,[{key:"load",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o=Object.assign({},o),t instanceof Array)return Promise.all(t.map(function(V){return n.load(V,Object.assign({},o))}));var i=(0,h3.E)(t);i=i.split("#")[0],o=this.initFetchOptions(i,o);var u,l=this.appNode,a=this.store,h=function i1t(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function l1t(e,r){if(e){if("string"==typeof e)return LS(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return LS(e,r)}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var c=t.next();return s=c.done,c},e:function(c){i=!0,l=c},f:function(){try{!s&&null!=t.return&&t.return()}finally{if(i)throw l}}}}(a.statementsMatching(void 0,this.ns.link("requestedURI"),a.sym(i),l).map(function(V){return V.subject}));try{for(h.s();!(u=h.n()).done;){var p=a.any(u.value,this.ns.link("response"),null,l);if(null!=p){var f=a.statementsMatching(p,this.ns.link("outOfDate"),!0,l);a.remove(f),o.force=!0,o.clearPreviousData=!0}}}catch(V){h.e(V)}finally{h.f()}var y=this.initFetchOptions(i,o);return this.pendingFetchPromise(i,y.baseURI,y)}},{key:"pendingFetchPromise",value:(r=(0,f2.A)(B6().mark(function n(o,s,i){var a,l=this;return B6().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(h.t0=!i.force,!h.t0){h.next=5;break}return h.next=4,this.fetchQueue[s];case 4:h.t0=h.sent;case 5:if(!h.t0){h.next=9;break}a=this.fetchQueue[s],h.next=12;break;case 9:a=Promise.race([this.setRequestTimeout(o,i),this.fetchUri(o,i)]),this.fetchQueue[s]=a,this.cleanupFetchRequest(s,void 0,this.timeout);case 12:return h.abrupt("return",a.then(function(u){return o in l.timeouts&&(l.timeouts[o].forEach(clearTimeout),delete l.timeouts[o]),u}));case 13:case"end":return h.stop()}},n,this)})),function t(n,o,s){return r.apply(this,arguments)})},{key:"cleanupFetchRequest",value:function(t,n,o){var s=this;void 0!==n&&console.warn("_options is deprecated"),this.timeouts[t]=(this.timeouts[t]||[]).concat(setTimeout(function(){s.isPending(t)||delete s.fetchQueue[t]},o))}},{key:"initFetchOptions",value:function(t,n){var o=this.store;!n.method||"GET"===n.method.toUpperCase()||(n.force=!0),n.resource=o.rdfFactory.namedNode(t),n.baseURI=n.baseURI||t,n.original=o.rdfFactory.namedNode(n.baseURI),n.req=o.bnode(),n.headers=n.headers||new N6.Headers,n.contentType&&(n.headers["content-type"]=n.contentType),n.force&&(n.cache="no-cache");var i=this.acceptString();n.headers.accept=i;var l=e.offlineOverride(t);n.requestedURI=l,e.setCredentials(l,n);var a=e.proxyIfNecessary(l);return l!==a&&(n.proxyUsed=!0),n.actualProxyURI=a,n}},{key:"fetchUri",value:function(t,n){var o=this;if(!t)return Promise.reject(new Error("Cannot fetch an empty uri"));if(e.unsupportedProtocol(t))return this.failFetch(n,"fetcher: Unsupported protocol","unsupported_protocol");var s=this.getState(t);if(n.force)delete this.nonexistent[t];else{if("fetched"===s)return Promise.resolve(this.doneFetch(n,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if("failed"===s&&404===this.requested[t]){var i="Previously failed: "+this.requested[t],l={url:t,status:this.requested[t],statusText:i,responseText:i,headers:new N6.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(n,i,this.requested[t],l)}}this.fireCallbacks("request",[t]),this.requested[t]=!0,n.noMeta||this.saveRequestMetadata(t,n);var a=n.actualProxyURI;return this._fetch(a,n).then(function(c){return o.handleResponse(c,t,n)},function(c){var h={url:a,status:999,statusText:(c.name||"network failure")+": "+(c.errno||c.code||c.type),responseText:c.message,headers:new N6.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return o.handleError(h,t,n)})}},{key:"nowOrWhenFetched",value:function(t,n,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(0,h3.E)(t);"function"==typeof n?o=n:typeof n>"u"||((0,qn.Y2)(n)?s.referringTerm=n:s=n),this.load(i,s).then(function(l){if(o)if(l)if(l.ok)o(!0,"OK",l);else{var a="HTTP error: Status "+l.status+" ("+l.statusText+")";l.responseText&&(a+=" "+l.responseText),o(!1,a,l)}else o(!1,"@@ nowOrWhenFetched:  no response object!")},function(l){var a=l.message||l.statusText;a="Failed to load  <"+i+"> "+a,l.response&&l.response.status&&(a+=" status: "+l.response.status),o(!1,a,l.response)})}},{key:"addStatus",value:function(t,n){var o=new Date;n="["+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()+"."+o.getMilliseconds()+"] "+n;var s=this.store,i=s.the(t,this.ns.link("status"));(0,qn.P3)(i)?i.append(s.rdfFactory.literal(n)):o2_warn("web.js: No list to add to: "+i+","+n)}},{key:"failFetch",value:function(t,n,o,s){this.addStatus(t.req,n),t.noMeta||this.store.add(t.original,this.ns.link("error"),this.store.rdfFactory.literal(n));var i=(t.method||"GET").toUpperCase();("GET"===i||"HEAD"===i)&&(t.resource.equals(t.original),this.requested[n0(t.original.value)]=o,this.fireCallbacks("fail",[t.original.value,n]));var a=new Error("Fetcher: "+n);return a.status=o,a.statusText=n,a.response=s,Promise.reject(a)}},{key:"linkData",value:function(t,n,o,s,i){if(o){var a,l=this.store,c=l.rdfFactory.namedNode(ri(o,t.value));if("alternate"===n||"seeAlso"===n||"meta"===n||"describedby"===n){if(c.value===t.value)return;a=this.ns.rdfs("seeAlso")}else a=l.rdfFactory.namedNode("type"===n?"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":ri(encodeURIComponent(n),"http://www.iana.org/assignments/link-relations/"));i?l.add(c,a,t,s):l.add(t,a,c,s)}}},{key:"parseLinkHeader",value:function(t,n,o){if(t){var i=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,l=t.match(/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g);if(null!=l)for(var a=0;a<l.length;a++){var c=l[a].split(">"),h=c[0].substring(1),d=c[1].match(i);if(null==d)return;for(var p=0;p<d.length;p++){var V=d[p].split("=")[1].replace(/["']/g,"");this.linkData(n,V,h,o)}}}}},{key:"doneFetch",value:function(t,n){return this.addStatus(t.req,"Done."),this.requested[t.original.value]="done",this.fireCallbacks("done",[t.original.value]),n.req=t.req,n}},{key:"nowKnownAs",value:function(t,n){this.lookedUp[t.value]?this.lookedUp[n.value]||this.lookUpThing(n,t):this.lookedUp[n.value]&&(this.lookedUp[t.value]||this.lookUpThing(t,n))}},{key:"putBack",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(0,h3.E)(t),i=new z2.A(s).doc();return o.contentType=o["content-type"]||o["Content-Type"]||o.contentType||y1.sT,"application/ld+json"===o.contentType?new Promise(function(l,a){I6(i,n.store,i.uri,o.contentType,function(c,h){c?a(c):(o.data=h,n.webOperation("PUT",t,o).then(function(u){return l(u)}).catch(function(u){return a(u)}))})}):(o.data=I6(i,this.store,i.value,o.contentType),this.webOperation("PUT",s,o))}},{key:"webCopy",value:function(t,n,o){var s=this;return this.webOperation("GET",t).then(function(i){return s.webOperation("PUT",n,{data:i.responseText,contentType:o})})}},{key:"delete",value:function(t,n){var o=this;return this.webOperation("DELETE",t,n).then(function(s){return o.requested[t]=404,o.nonexistent[t]=!0,o.unload(o.store.rdfFactory.namedNode(t)),s})}},{key:"createIfNotExists",value:function(){var r=(0,f2.A)(B6().mark(function n(o){var s,i,l,a,c=arguments;return B6().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s=c.length>1&&void 0!==c[1]?c[1]:y1.sT,i=c.length>2&&void 0!==c[2]?c[2]:"",l=this,u.prev=3,u.next=6,l.load(o);case 6:a=u.sent,u.next=26;break;case 9:if(u.prev=9,u.t0=u.catch(3),404!==u.t0.response.status){u.next=25;break}return u.prev=12,u.next=15,l.webOperation("PUT",o.value,{data:i,contentType:s});case 15:a=u.sent,u.next=21;break;case 18:throw u.prev=18,u.t1=u.catch(12),u.t1;case 21:return delete l.requested[o.value],u.abrupt("return",a);case 25:throw u.t0;case 26:return u.abrupt("return",a);case 27:case"end":return u.stop()}},n,this,[[3,9],[12,18]])}));return function t(n){return r.apply(this,arguments)}}()},{key:"createContainer",value:function(t,n,o){var s={"content-type":y1.sT,link:this.ns.ldp("BasicContainer")+'; rel="type"'};n&&(s.slug=n);var i={headers:s};return o&&(i.body=o),this.webOperation("POST",t,i)}},{key:"invalidateCache",value:function(t){var n=(0,h3.E)(t),o=this;if(o.fetchQueue&&o.fetchQueue[n]&&delete o.fetchQueue[n],o.requested[n]&&"done"!==o.requested[n]&&"failed"!==o.requested[n]&&404!==o.requested[n]){var i="Rdflib: fetcher: Destructive operation on <".concat(o.requested[n],"> file being fetched! ")+n;console.error(i)}else delete o.requested[n],delete o.nonexistent[n]}},{key:"webOperation",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=(0,h3.E)(n);o.method=t,o.body=o.data||o.body,o.force=!0;var i=this;if(o.body&&!o.contentType)throw new Error("Web operation sending data must have a defined contentType.");return o.contentType&&(o.headers=o.headers||{},o.headers["content-type"]=o.contentType),e.setCredentials(s,o),new Promise(function(l,a){i._fetch(s,o).then(function(c){if(c.ok)("PUT"===t||"PATCH"===t||"POST"===t||"DELETE"===t)&&i.invalidateCache(s),c.text?c.text().then(function(d){c.responseText=d,l(c)}):l(c);else{var h="Web error: "+c.status;c.statusText&&(h+=" ("+c.statusText+")"),h+=" on "+t+" of <"+s+">",c.responseText&&(h+=": "+c.responseText);var u=new Error(h);u.response=c,a(u)}},function(c){a(new Error("Fetch error for "+t+" of <"+s+">:"+c))})})}},{key:"lookUpThing",value:function(t,n){var o=this,s=this.store.uris(t);return(s=s.map(function(i){return n0(i)})).forEach(function(i){o.lookedUp[i]=!0}),this.load(s,{referringTerm:n})}},{key:"getHeader",value:function(t,n){for(var o=this.store,s=t.value,i=o.each(void 0,this.ns.link("requestedURI"),o.rdfFactory.literal(s)),l=0;l<i.length;l++){var a=i[l];if(void 0!==a){var c=o.any(a,this.ns.link("response"));if(void 0!==c&&o.anyValue(c,this.ns.http("status"))&&o.anyValue(c,this.ns.http("status")).startsWith("2")){var h=o.each(c,this.ns.httph(n.toLowerCase()));return h.length?h.map(function(u){return u.value}):[]}}}}},{key:"saveRequestMetadata",value:function(t,n){var o=n.req,s=this.store,i=n.referringTerm;this.addStatus(n.req,"Accept: "+n.headers.accept),(0,qn.Y2)(i)&&s.add(s.rdfFactory.namedNode(t),this.ns.link("requestedBy"),i,this.appNode),n.original&&n.original.value!==t&&s.add(o,this.ns.link("orginalURI"),s.rdfFactory.literal(n.original.value),this.appNode);var l=new Date,a="["+l.getHours()+":"+l.getMinutes()+":"+l.getSeconds()+"] ";s.add(o,this.ns.rdfs("label"),s.rdfFactory.literal(a+" Request for "+t),this.appNode),s.add(o,this.ns.link("requestedURI"),s.rdfFactory.literal(t),this.appNode),s.add(o,this.ns.link("status"),s.collection(),this.appNode)}},{key:"saveResponseMetadata",value:function(t,n){var o=this,s=this.store,i=s.bnode();return s.add(n.req,this.ns.link("response"),i,this.appNode),s.add(i,this.ns.http("status"),s.rdfFactory.literal(t.status),this.appNode),s.add(i,this.ns.http("statusText"),s.rdfFactory.literal(t.statusText),this.appNode),t.headers.forEach(function(l,a){s.add(i,o.ns.httph(a),o.store.rdfFactory.literal(l),o.appNode),"content-type"===a&&s.add(n.resource,o.ns.rdf("type"),s.rdfFactory.namedNode(Di.tE(l).value),o.appNode)}),i}},{key:"objectRefresh",value:function(t){var n=this.store.uris(t);if(typeof n<"u")for(var o=0;o<n.length;o++)this.refresh(this.store.rdfFactory.namedNode(n0(n[o])))}},{key:"refresh",value:function(t,n){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(t,{force:!0,clearPreviousData:!0},n)}},{key:"refreshIfExpired",value:function(t,n){var o=this.getHeader(t,"Expires");!o||new Date(o[0]).getTime()<=(new Date).getTime()?this.refresh(t,n):n(!0,"Not expired",{})}},{key:"retract",value:function(t){this.store.removeMany(void 0,void 0,void 0,t),t.value&&delete this.requested[n0(t.value)],this.fireCallbacks("retract",arguments)}},{key:"getState",value:function(t){return typeof this.requested[t]>"u"?"unrequested":!0===this.requested[t]?"requested":"done"===this.requested[t]?"fetched":"redirected"===this.requested[t]?this.getState(this.redirectedTo[t]):"failed"}},{key:"isPending",value:function(t){return!0===this.requested[t]}},{key:"unload",value:function(t){this.store.removeDocument(t),delete this.requested[t.value]}},{key:"addHandler",value:function(t){this.handlers.push(t),t.register(this)}},{key:"retryNoCredentials",value:function(t,n){n.retriedWithNoCredentials=!0,delete this.requested[t],delete this.fetchQueue[t];var o=Object.assign({},n,{credentials:"omit"});return this.addStatus(n.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(t,o)}},{key:"isCrossSite",value:function(t){if(typeof document>"u"||!document.location)return!1;var n=Jtt,o=""+document.location;return(n(o)&&n(t)&&n(o))!==n(t)}},{key:"handleError",value:function(t,n,o){if(this.isCrossSite(n)){if(o.credentials&&"include"===o.credentials&&!o.retriedWithNoCredentials)return this.retryNoCredentials(n,o);var s=e.crossSiteProxy(n);if(s&&!o.proxyUsed)return this.redirectToProxy(s,o)}var i;return t instanceof Error?i="Fetch error: "+t.message:(i=t.statusText,t.responseText&&(i+=" ".concat(t.responseText))),this.failFetch(o,i,t.status||998,t)}},{key:"addType",value:function(t,n,o,s){var i=n;if(s){var l=o.any(i,this.ns.link("requestedURI"));l&&l.value!==s&&o.add(o.rdfFactory.namedNode(s),this.ns.rdf("type"),t,this.appNode)}for(;;){var a=o.any(i,this.ns.link("requestedURI"));if(a&&a.value&&o.add(o.rdfFactory.namedNode(a.value),this.ns.rdf("type"),t,this.appNode),!(i=o.any(void 0,o.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),i)))break;var c=o.any(i,o.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!c)break;var h=o.any(c,o.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!h||"301"!==h&&"302"!==h)break}}},{key:"handleResponse",value:function(t,n,o){var s=this,i=this.store,l=t.headers,a=o.req,c=this.saveResponseMetadata(t,o),h=this.normalizedContentType(o,l)||"",u=l.get("content-location");if(0===t.status)return this.handleError(t,n,o);if(t.status>=400)return 404===t.status&&(this.nonexistent[o.original.value]=!0,this.nonexistent[n]=!0),this.saveErrorResponse(t,c).then(function(){return s.failFetch(o,o.resource+" "+t.statusText,t.status,t)});var d=null,p=null;if(u&&(p=ri(u,n))!==n&&(d=p),200===t.status){if(this.addType(this.ns.link("Document"),a,i,n),d&&this.addType(this.ns.link("Document"),a,i,d),o.clearPreviousData)for(var f=i.statementsMatching(void 0,void 0,void 0,o.resource).slice(),y=0;y<f.length;y++)i.removeStatement(f[y]);var V=h.includes("image/")||h.includes("application/pdf");h&&V&&(this.addType(i.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),a,i,n),d&&this.addType(i.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),a,i,d))}if(u){if(!o.force&&d&&"done"===this.requested[p])return this.doneFetch(o,t);this.requested[p]=!0}this.parseLinkHeader(l.get("link"),o.original,a);var L=this.handlerForContentType(h,t);return L?t.text().then(function(R){return t.responseText=R,L.parse(s,R,o,t)}):(this.addStatus(a,"Fetch over. No data handled."),this.doneFetch(o,t))}},{key:"saveErrorResponse",value:function(t,n){var o=this,s=this.store;return t.text().then(function(i){i.length>10&&s.add(n,o.ns.http("content"),s.rdfFactory.literal(i),n)})}},{key:"handlerForContentType",value:function(t,n){if(!t)return null;var o=this.handlers.find(function(s){return t.match(s.pattern)});return o?new o(n):null}},{key:"guessContentType",value:function(t){return AS[t.split(".").pop()]}},{key:"normalizedContentType",value:function(t,n){if(t.forceContentType)return t.forceContentType;var o=n.get("content-type");if(!o||o.includes("application/octet-stream")){var s=this.guessContentType(t.resource.value);if(s)return s}var i=GI(t.resource.value);return!o&&["file","chrome"].includes(i)?"text/xml":o}},{key:"redirectToProxy",value:function(t,n){var o=this;this.addStatus(n.req,"BLOCKED -> Cross-site Proxy to <"+t+">"),n.proxyUsed=!0;var s=this.store,i=n.req;n.noMeta||(s.add(i,this.ns.link("redirectedTo"),s.rdfFactory.namedNode(t),i),this.addStatus(i,"redirected to new request")),this.requested[n.resource.value]="redirected",this.redirectedTo[n.resource.value]=t;var l=Object.assign({},n);return l.baseURI=n.resource.value,this.fetchUri(t,l).then(function(a){return l.noMeta||s.add(i,o.ns.link("redirectedRequest"),l.req,o.appNode),a})}},{key:"setRequestTimeout",value:function(t,n){var o=this;return new Promise(function(s){o.timeouts[t]=(o.timeouts[t]||[]).concat(setTimeout(function(){o.isPending(t)&&!n.retriedWithNoCredentials&&!n.proxyUsed&&s(o.failFetch(n,"Request to ".concat(t," timed out"),"timeout"))},o.timeout))})}},{key:"addFetchCallback",value:function(t,n){this.fetchCallbacks[t]?this.fetchCallbacks[t].push(n):this.fetchCallbacks[t]=[n]}},{key:"acceptString",value:function(){var t="";for(var n in this.mediatypes)for(var o in""!==t&&(t+=", "),t+=n,this.mediatypes[n])t+=";"+o+"="+this.mediatypes[n][o];return t}}],[{key:"crossSiteProxy",value:function(t){if(e.crossSiteProxyTemplate)return e.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t))}},{key:"offlineOverride",value:function(t){var o,n=t;return typeof window<"u"&&window.panes&&(o=window.panes.UI)&&o.preferences&&o.preferences.get("offlineModeUsingLocalhost")&&"http://"===n.slice(0,7)&&"localhost/"!==n.slice(7,17)&&(n="http://localhost/"+n.slice(7),o2_warn("Localhost kludge for offline use: actually getting <"+n+">")),n}},{key:"proxyIfNecessary",value:function(t){var n;if(typeof window<"u"&&window.panes&&(n=window.panes.UI)&&n.isExtension)return t;if(typeof $SolidTestEnvironment<"u"&&$SolidTestEnvironment.localSiteMap){var i=function l(a,c){var h=c[a.shift()];return h?"string"==typeof h?h+a.join("/"):a?l(a,h):null:null}(t.split("/").slice(2),$SolidTestEnvironment.localSiteMap);if(i)return i}return e.crossSiteProxyTemplate&&typeof document<"u"&&document.location&&"https:"===(""+document.location).slice(0,6)&&"http:"===t.slice(0,5)?e.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t)):t}},{key:"unsupportedProtocol",value:function(t){var n=GI(t);return"tel"===n||"mailto"===n||"urn"===n}},{key:"setCredentials",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===n.credentials&&(n.credentials=void 0!==n.withCredentials?n.withCredentials?"include":"omit":"include")}}]);var r}();function RS(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function FS(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?RS(Object(t),!0).forEach(function(n){(0,Te.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):RS(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}(0,Te.A)(vh,"HANDLERS",void 0),(0,Te.A)(vh,"CONTENT_TYPE_BY_EXT",void 0),(0,Te.A)(vh,"crossSiteProxyTemplate",void 0),vh.HANDLERS=lC,vh.CONTENT_TYPE_BY_EXT=AS;const Z6=FS(FS({},tC),{},{fetcher:function(r,t){return new vh(r,t)},graph:function(){return new r3(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)||{rdfFactory:tC})},lit:function(r,t,n){return this.literal(""+r,t||n)},st:function(r,t,n,o){return this.quad(r,t,n,o)}});var si={};for(var aC in Z6)"function"==typeof Z6[aC]&&(si[aC]=Z6[aC].bind(Z6));var PS=si.graph,cC=si.lit,u3=si.namedNode;new JI;const d3="http://geonetwork-ui/";function Fa(e,r,t,n,o,s,i){function l(p){return p.language.toLowerCase().substring(0,2)}const a=e.each(r,t,n).filter(p=>p instanceof Ds);if(!a.length)return[null,s];const c=a.find(p=>l(p)===i),h=a.find(p=>!p.language),u=c?.value??h?.value??"(value not found)",d=s??{};for(const p of a){const f=l(p);f===i||!f||(d[o]={...d[o],[f]:p.value})}return[u,d]}function NS(e,r,t,n,o,s){if(e.removeStatements(e.statementsMatching(r,t,null)),e.add(r,t,cC(n,s)),o)for(const i in o)e.add(r,t,cC(o[i],i))}function OS(e,r,t,n=d3){return new Promise(o=>P6(r,e,n,t,o))}function G6(e,r=window.location.toString()){try{return new URL(e,r)}catch{return null}}function ii(e,r){return e.the(r,Ju("primaryTopic"),null)||e.the(null,Q2("type"),Ar("Dataset"))}function f1t(e,r){return e.the(r,Kn("identifier"),null)?.value}function m1t(e,r,t,n){const o=ii(e,r),[s]=Fa(e,o,Kn("title"),null,"title",t,n);return s}function w1t(e,r,t,n){const o=ii(e,r),[s]=Fa(e,o,Kn("description"),null,"abstract",t,n);return s}function ZS(e,r){const t=r.object,n=e.the(t,Qu("fn"),null)??e.the(t,Qu("title"),null)??e.the(t,Qu("organisation-name"),null);let o,s;if(n){const c=Cw(n.value);o=c[0],s=c[1]}const i=e.the(t,Qu("role"),null),l=e.the(t,Qu("hasEmail"),null),a=l?l.value.replace(/^mailto:/,""):"missing@missing.com";return{role:i?.value??"point_of_contact",email:a,...o&&{firstName:o},...s&&{lastName:s}}}function C1t(e,r){return e.statementsMatching(r,Ar("contactPoint"),null).map(n=>ZS(e,n))}function k1t(e,r){const t=ii(e,r);return e.statementsMatching(t,Ar("contactPoint"),null).map(o=>ZS(e,o))}function _1t(e,r){const t=ii(e,r),n=e.the(t,Ar("landingPage"),null);return null!==n?G6(n.value):void 0}function H1t(e,r,t,n){const o=ii(e,r);return e.statementsMatching(o,Ar("distribution"),null).map(i=>function b1t(e,r,t){if(e.holds(r,Ar("accessService"),null)){const n=e.the(r,Ar("accessService"),null);if(e.the(n,Kn("conformsTo"),null))return function x1t(e,r,t){const n=e.the(r,Ar("accessService"),null),o=e.the(n,Kn("conformsTo"),null),s=e.the(r,Ar("accessURL"),null),i={},[l]=Fa(e,r,Kn("description"),null,"description",i,t),[a]=Fa(e,r,Kn("title"),null,"name",i,t);return{url:G6(s?.value),type:"service",accessServiceProtocol:Nm(o?.value),...null!==a&&{name:a},...null!==l&&{description:l},translations:i}}(e,r,t)}return e.holds(r,Ar("downloadURL"),null)?function y1t(e,r,t){const n=e.the(r,Ar("downloadURL"),null),o={},[s]=Fa(e,r,Kn("description"),null,"description",o,t),[i]=Fa(e,r,Kn("title"),null,"name",o,t);return{url:G6(n?.value),type:"download",...null!==i&&{name:i},...null!==s&&{description:s},translations:o}}(e,r,t):function M1t(e,r,t){const n=e.the(r,Ar("accessURL"),null),o={},[s]=Fa(e,r,Kn("description"),null,"description",o,t),[i]=Fa(e,r,Kn("title"),null,"name",o,t);return{url:G6(n?.value),type:"link",...null!==i&&{name:i},...null!==s&&{description:s},translations:o}}(e,r,t)}(e,i.object,n))}function V1t(e,r){const t=ii(e,r);return e.statementsMatching(t,Kn("spatial"),null).map(o=>{const s=e.the(o.object,Utt("geometry"),null);return s?{geometry:JSON.parse(s.value)}:{description:o.object.value}}).filter(o=>!!o)}function L1t(e,r){const t=ii(e,r);return e.statementsMatching(t,Ar("keyword"),null).map(o=>({label:o.object.value,type:"theme"}))}function z1t(e,r){const t=ii(e,r);return e.statementsMatching(t,Ar("theme"),null).map(o=>e.the(o.object,Wtt("prefLabel"),null)?.value??o.object.value)}function A1t(e,r){const t=e.the(r,Kn("issued"),null)?.value;return t?new Date(t):null}function I1t(e,r){const t=e.the(r,Kn("modified"),null)?.value;return t?new Date(t):new Date}function S1t(e,r){const t=ii(e,r),n=e.the(t,Kn("issued"),null)?.value;return n?new Date(n):null}function B1t(e,r){const t=ii(e,r),n=e.the(t,Kn("modified"),null)?.value;return n?new Date(n):null}function D1t(e){const r=e.statementsMatching(null,Kn("publisher"),null);if(!r.length)return null;const t=r[0].object,n=e.the(t,Ju("name"),null);return{name:n?n.value:t.value}}function E1t(e,r){const t=ii(e,r);return e.statementsMatching(t,Ar("distribution"),null).map(o=>e.the(o.object,Kn("license"),null)).filter(o=>!!o).map(o=>function g1t(e){const r=/pddl|public domain dedication and licence/i.test(e),t=/odbl|open database license/i.test(e),n=/odc-by|opendatacommons.org\/licenses\/by/i.test(e),o=/cc-by-sa|creative.*commons.*(by-sa|attribution.*share-alike)/i.test(e),s=/cc-by|cc by|creative.*commons.*(by|attribution)/i.test(e),i=/cc.?0|creative.*commons.*(zero|0)/i.test(e),l=/etalab/i.test(e)&&/v2|2\.0/i.test(e),a=/etalab|open.?licence|licence.?ouverte/i.test(e);if(r)return{text:"Open Data Commons PDDL",url:new URL("https://opendatacommons.org/licenses/pddl/")};if(t)return{text:"Open Data Commons ODbL",url:new URL("https://opendatacommons.org/licenses/odbl/")};if(n)return{text:"Open Data Commons ODC-By",url:new URL("https://opendatacommons.org/licenses/by/")};if(o)return{text:"Creative Commons CC-BY-SA",url:new URL("https://creativecommons.org/licenses/by-sa/4.0/legalcode")};if(s)return{text:"Creative Commons CC-BY",url:new URL("https://creativecommons.org/licenses/by/4.0/legalcode")};if(i)return{text:"Creative Commons CC-0",url:new URL("https://creativecommons.org/publicdomain/zero/1.0/legalcode")};if(l)return{text:"Open Licence v2.0 (Etalab)",url:new URL("https://www.etalab.gouv.fr/wp-content/uploads/2017/04/ETALAB-Licence-Ouverte-v2.0.pdf")};if(a)return{text:"Open Licence (Etalab)",url:new URL("https://www.etalab.gouv.fr/wp-content/uploads/2014/05/Licence_Ouverte.pdf")};const c=/^https?:\/\//.test(e)?new URL(e):void 0;return{text:e,...c&&{url:c}}}(o.value)).filter((o,s,i)=>i.findIndex(l=>l.url?.toString()===o.url?.toString()&&l.text===o.text)===s)}function T1t(e,r){const t=ii(e,r),n=function v1t(e,r){return e.the(null,Ar("record"),r)||e.the(null,Q2("type"),Ar("Catalog"))}(e,r);let o=e.statementsMatching(r,Kn("language"),null);if(!o.length&&t&&(o=e.statementsMatching(t,Kn("language"),null)),!o.length&&n&&(o=e.statementsMatching(n,Kn("language"),null)),!o.length)return null;let i=o[0].object.value.split("/").pop().toLowerCase();return 3===i.length&&(i=Yu[i]??i),i.substring(0,2)}function GS(e,r,t){let n=r.the(null,Q2("type"),Ar("Dataset"));n||(n=u3(`${d3}dataset/${e.uniqueIdentifier}`),r.add(n,Q2("type"),Ar("Dataset")),r.add(t,Ju("primaryTopic"),n));const o=function R1t(e,r){if(e.holds(null,Q2("type"),Ar("Catalog")))return e.the(null,Q2("type"),Ar("Catalog"));const n=e.add(u3(`${d3}catalog`),Q2("type"),Ar("Catalog")).subject;return e.add(n,Ar("record"),r),n}(r,t);return r.holds(o,Ar("dataset"),n)||r.add(o,Ar("dataset"),n),n}function F1t(e,r,t){!function p1t(e,r,t,n){e.removeStatements(e.statementsMatching(r,t,null)),e.add(r,t,cC(n))}(r,t,Kn("identifier"),e.uniqueIdentifier)}function j1t(e,r,t){NS(r,GS(e,r,t),Kn("title"),e.title,e.translations?.title,e.defaultLanguage)}function P1t(e,r,t){NS(r,GS(e,r,t),Kn("description"),e.abstract,e.translations?.abstract,e.defaultLanguage)}function hC(e,r){for(const t in Ru)if(r.startsWith(Ru[t]))return[t,r.replace(Ru[t],"")];for(const t in e.namespaces)if(r.startsWith(e.namespaces[t]))return[t,r.replace(e.namespaces[t],"")];return[null,r]}function WS(e,r){if(r instanceof Ds)return new po.XmlText(r.value);const t=e.the(r,Q2("type"));if(!t)return null;const o=e.statementsMatching(r,null,null).filter(a=>a.predicate.value!==Q2("type").value).map(a=>{if(a.object.toString()===a.subject.toString())return null;if(a.predicate.value===Ju("primaryTopic").value||a.predicate.value===Ju("topic").value||a.predicate.value===Ar("servesDataset").value){const[p,f]=hC(e,a.predicate.value);return new po.XmlElement(`${p}:${f}`,{"rdf:resource":a.object.value})}const[c,h]=hC(e,a.predicate.value),u=WS(e,a.object);if(!u)return new po.XmlElement(`${c}:${h}`,{"rdf:resource":a.object.value},[]);const d=new po.XmlElement(`${c}:${h}`,{},[u]);return a.object instanceof Ds&&a.object.language&&(d.attributes["xml:lang"]=a.object.language),d}).filter(a=>!!a),[s,i]=hC(e,t.value);return new po.XmlElement(`${s}:${i}`,r instanceof Si?{}:{"rdf:about":r.value},o)}class W6 extends fA{constructor(r="application/rdf+xml",t=new vA){super(t),this.contentType=r,this.readers={uniqueIdentifier:f1t,title:m1t,abstract:w1t,contacts:C1t,contactsForResource:k1t,landingPage:_1t,onlineResources:H1t,spatialExtents:V1t,keywords:L1t,topics:z1t,resourceIdentifier:()=>{},recordUpdated:I1t,recordCreated:A1t,resourceUpdated:B1t,resourceCreated:S1t,ownerOrganization:D1t,licenses:E1t,defaultLanguage:T1t,otherLanguages:()=>[],kind:()=>"dataset",recordPublished:()=>{},resourcePublished:()=>{},reuseType:()=>{},legalConstraints:()=>[],securityConstraints:()=>[],otherConstraints:()=>[],status:()=>"completed",updateFrequency:()=>"unknown",overviews:()=>[],lineage:()=>"",temporalExtents:()=>[],spatialRepresentation:()=>{},extras:()=>{},translations:()=>{}},this.writers={uniqueIdentifier:F1t,title:j1t,abstract:P1t,kind:()=>{},ownerOrganization:()=>{},recordUpdated:()=>{},recordCreated:()=>{},recordPublished:()=>{},resourceIdentifier:()=>{},resourceUpdated:()=>{},resourceCreated:()=>{},resourcePublished:()=>{},reuseType:()=>{},contacts:()=>{},contactsForResource:()=>{},keywords:()=>{},topics:()=>{},licenses:()=>{},legalConstraints:()=>{},securityConstraints:()=>{},otherConstraints:()=>{},status:()=>{},updateFrequency:()=>{},spatialRepresentation:()=>{},overviews:()=>{},lineage:()=>{},onlineResources:()=>{},temporalExtents:()=>{},spatialExtents:()=>{},extras:()=>{},landingPage:()=>{},defaultLanguage:()=>{},otherLanguages:()=>{},translations:()=>{}}}readRecord(r){var t=this;return(0,f2.A)(function*(){const n=PS();yield OS(n,r,t.contentType);const o=n.the(null,null,Ar("CatalogRecord")),s={},i=t.readers.defaultLanguage(n,o,s,null),l=t.readers.uniqueIdentifier(n,o,s,i),a=t.readers.kind(n,o,s,i),c=t.readers.ownerOrganization(n,o,s,i),h=t.readers.title(n,o,s,i),u=t.readers.abstract(n,o,s,i),d=t.readers.contacts(n,o,s,i),p=t.readers.contactsForResource(n,o,s,i),f=t.readers.recordUpdated(n,o,s,i),y=t.readers.recordCreated(n,o,s,i),V=t.readers.recordPublished(n,o,s,i),L=t.readers.resourceCreated(n,o,s,i),R=t.readers.resourceUpdated(n,o,s,i),mt=t.readers.resourcePublished(n,o,s,i),Ct=t.readers.keywords(n,o,s,i),yt=t.readers.topics(n,o,s,i),tt=t.readers.legalConstraints(n,o,s,i),Vt=t.readers.otherConstraints(n,o,s,i),Gt=t.readers.securityConstraints(n,o,s,i),pe=t.readers.licenses(n,o,s,i),ge=t.readers.overviews(n,o,s,i),Me=t.readers.landingPage(n,o,s,i),he=t.readers.otherLanguages(n,o,s,i);if("dataset"===a){const Le=t.readers.status(n,o,s,i),Ue=t.readers.spatialRepresentation(n,o,s,i),Fe=t.readers.spatialExtents(n,o,s,i),Se=t.readers.temporalExtents(n,o,s,i);return{uniqueIdentifier:l,kind:a,defaultLanguage:i,otherLanguages:he,...y&&{recordCreated:y},...V&&{recordPublished:V},recordUpdated:f,...L&&{resourceCreated:L},...R&&{resourceUpdated:R},...mt&&{resourcePublished:mt},status:Le,title:h,abstract:u,ownerOrganization:c,contacts:d,contactsForResource:p,keywords:Ct,topics:yt,licenses:pe,legalConstraints:tt,securityConstraints:Gt,otherConstraints:Vt,lineage:t.readers.lineage(n,o,s,i),...Ue&&{spatialRepresentation:Ue},overviews:ge,spatialExtents:Fe,temporalExtents:Se,onlineResources:t.readers.onlineResources(n,o,s,i),updateFrequency:t.readers.updateFrequency(n,o,s,i),...Me&&{landingPage:Me},translations:s}}return{uniqueIdentifier:l,kind:a,defaultLanguage:i,otherLanguages:he,...y&&{recordCreated:y},...V&&{recordPublished:V},recordUpdated:f,...L&&{resourceCreated:L},...R&&{resourceUpdated:R},...mt&&{resourcePublished:mt},title:h,abstract:u,ownerOrganization:c,contacts:d,contactsForResource:p,keywords:Ct,topics:yt,licenses:pe,legalConstraints:tt,securityConstraints:Gt,otherConstraints:Vt,overviews:ge,onlineResources:t.readers.onlineResources(n,o,s,i),...Me&&{landingPage:Me},translations:s}})()}writeRecord(r,t){var n=this;return(0,f2.A)(function*(){const o=PS();let s;if(t){const l=yield n.readRecord(t);yield OS(o,t,n.contentType,Ar("CatalogRecord").value),s=a=>null===l||!Q9(r[a],l[a])}else s=()=>!0;let i=o.the(null,Q2("type"),Ar("CatalogRecord"));return i||(i=o.add(u3(`${d3}record/${r.uniqueIdentifier}`),Q2("type"),Ar("CatalogRecord")).subject),s("uniqueIdentifier")&&n.writers.uniqueIdentifier(r,o,i),s("kind")&&n.writers.kind(r,o,i),s("contacts")&&n.writers.contacts(r,o,i),s("ownerOrganization")&&n.writers.ownerOrganization(r,o,i),s("recordUpdated")&&n.writers.recordUpdated(r,o,i),s("recordCreated")&&n.writers.recordCreated(r,o,i),s("recordPublished")&&n.writers.recordPublished(r,o,i),s("title")&&n.writers.title(r,o,i),s("abstract")&&n.writers.abstract(r,o,i),s("resourceCreated")&&n.writers.resourceCreated(r,o,i),s("resourcePublished")&&n.writers.resourcePublished(r,o,i),s("resourceUpdated")&&n.writers.resourceUpdated(r,o,i),s("contactsForResource")&&n.writers.contactsForResource(r,o,i),s("keywords")&&n.writers.keywords(r,o,i),s("topics")&&n.writers.topics(r,o,i),s("legalConstraints")&&n.writers.legalConstraints(r,o,i),s("securityConstraints")&&n.writers.securityConstraints(r,o,i),s("licenses")&&n.writers.licenses(r,o,i),s("otherConstraints")&&n.writers.otherConstraints(r,o,i),s("onlineResources")&&n.writers.onlineResources(r,o,i),"dataset"===r.kind&&(s("status")&&n.writers.status(r,o,i),s("updateFrequency")&&n.writers.updateFrequency(r,o,i),s("spatialRepresentation")&&n.writers.spatialRepresentation(r,o,i),s("overviews")&&n.writers.overviews(r,o,i),s("temporalExtents")&&n.writers.temporalExtents(r,o,i),s("lineage")&&n.writers.lineage(r,o,i)),n.contentType.includes("xml")?function N1t(e){let r=e.statementsMatching(null,Q2("type"),Ar("Catalog"))[0]?.subject;if(!r){const n=e.the(null,Q2("type"),Ar("CatalogRecord")),o=e.the(null,Q2("type"),Ar("Dataset"));r=e.add(u3(`${d3}catalog`),Q2("type"),Ar("Catalog")).subject,e.add(r,Ar("record"),n),e.add(r,Ar("dataset"),o)}const t=new po.XmlElement("rdf:RDF",{},[WS(e,r)]);for(const n in e.namespaces)t.attributes[`xmlns:${n}`]=e.namespaces[n];return Tu(jm(t))}(o):o.serialize(void 0,n.contentType,null,{})})()}}function US(e){if(e.indexOf("mdb:MD_Metadata")>0)return new Nw;if(e.indexOf("gmd:MD_Metadata")>0)return new Sw;if(/@prefix\s*[a-z]+\s*:\s*<http:\/\/www\.w3\.org\/ns\/dcat#>\s*\./.test(e))return new W6("text/turtle");if(/xmlns:[a-z]+="http:\/\/www\.w3\.org\/ns\/dcat#"/.test(e))return new W6("application/rdf+xml");if(/"[a-zA-Z]+"\s*:\s*"http:\/\/www\.w3\.org\/ns\/dcat#/.test(e))return new W6("application/ld+json");throw new Error(`No suitable converter found for the following document:\n${e.substring(0,400)}...`)}function $S(e){return e&&Qe(e.schedule)}function uC(e){return e[e.length-1]}function YS(e){return Qe(uC(e))?e.pop():void 0}function p3(e){return $S(uC(e))?e.pop():void 0}function ja(e){return this instanceof ja?(this.v=e,this):new ja(e)}function JS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=function vC(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=e[s]&&function(i){return new Promise(function(l,a){!function o(s,i,l,a){Promise.resolve(a).then(function(c){s({value:c,done:l})},i)}(l,a,(i=e[s](i)).done,i.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const mC=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function QS(e){return Qe(e?.then)}function tB(e){return Qe(e[ue])}function eB(e){return Symbol.asyncIterator&&Qe(e?.[Symbol.asyncIterator])}function rB(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const nB=function vrt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function oB(e){return Qe(e?.[nB])}function sB(e){return function qS(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=t.apply(e,r||[]),s=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function i(p){return function(f){return Promise.resolve(f).then(p,u)}}),o[Symbol.asyncIterator]=function(){return this},o;function l(p,f){n[p]&&(o[p]=function(y){return new Promise(function(V,L){s.push([p,y,V,L])>1||a(p,y)})},f&&(o[p]=f(o[p])))}function a(p,f){try{!function c(p){p.value instanceof ja?Promise.resolve(p.value.v).then(h,u):d(s[0][2],p)}(n[p](f))}catch(y){d(s[0][3],y)}}function h(p){a("next",p)}function u(p){a("throw",p)}function d(p,f){p(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:n,done:o}=yield ja(t.read());if(o)return yield ja(void 0);yield yield ja(n)}}finally{t.releaseLock()}})}function iB(e){return Qe(e?.getReader)}function rs(e){if(e instanceof v1)return e;if(null!=e){if(tB(e))return function frt(e){return new v1(r=>{const t=e[ue]();if(Qe(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(mC(e))return function mrt(e){return new v1(r=>{for(let t=0;t<e.length&&!r.closed;t++)r.next(e[t]);r.complete()})}(e);if(QS(e))return function wrt(e){return new v1(r=>{e.then(t=>{r.closed||(r.next(t),r.complete())},t=>r.error(t)).then(null,c1)})}(e);if(eB(e))return lB(e);if(oB(e))return function Crt(e){return new v1(r=>{for(const t of e)if(r.next(t),r.closed)return;r.complete()})}(e);if(iB(e))return function krt(e){return lB(sB(e))}(e)}throw rB(e)}function lB(e){return new v1(r=>{(function _rt(e,r){var t,n,o,s;return function XS(e,r,t,n){return new(t||(t=Promise))(function(s,i){function l(h){try{c(n.next(h))}catch(u){i(u)}}function a(h){try{c(n.throw(h))}catch(u){i(u)}}function c(h){h.done?s(h.value):function o(s){return s instanceof t?s:new t(function(i){i(s)})}(h.value).then(l,a)}c((n=n.apply(e,r||[])).next())})}(this,void 0,void 0,function*(){try{for(t=JS(e);!(n=yield t.next()).done;)if(r.next(n.value),r.closed)return}catch(i){o={error:i}}finally{try{n&&!n.done&&(s=t.return)&&(yield s.call(t))}finally{if(o)throw o.error}}r.complete()})})(e,r).catch(t=>r.error(t))})}function Nl(e,r,t,n=0,o=!1){const s=r.schedule(function(){t(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!o)return s}function aB(e,r=0){return nn((t,n)=>{t.subscribe(D(n,o=>Nl(n,e,()=>n.next(o),r),()=>Nl(n,e,()=>n.complete(),r),o=>Nl(n,e,()=>n.error(o),r)))})}function cB(e,r=0){return nn((t,n)=>{n.add(e.schedule(()=>t.subscribe(n),r))})}function hB(e,r){if(!e)throw new Error("Iterable cannot be null");return new v1(t=>{Nl(t,r,()=>{const n=e[Symbol.asyncIterator]();Nl(t,r,()=>{n.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function d0(e,r){return r?function Vrt(e,r){if(null!=e){if(tB(e))return function Mrt(e,r){return rs(e).pipe(cB(r),aB(r))}(e,r);if(mC(e))return function xrt(e,r){return new v1(t=>{let n=0;return r.schedule(function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())})})}(e,r);if(QS(e))return function yrt(e,r){return rs(e).pipe(cB(r),aB(r))}(e,r);if(eB(e))return hB(e,r);if(oB(e))return function brt(e,r){return new v1(t=>{let n;return Nl(t,r,()=>{n=e[nB](),Nl(t,r,()=>{let o,s;try{({value:o,done:s}=n.next())}catch(i){return void t.error(i)}s?t.complete():t.next(o)},0,!0)}),()=>Qe(n?.return)&&n.return()})}(e,r);if(iB(e))return function Hrt(e,r){return hB(sB(e),r)}(e,r)}throw rB(e)}(e,r):rs(e)}function l2(...e){return d0(e,p3(e))}function fh(e,r,t=1/0){return Qe(r)?fh((n,o)=>ot((s,i)=>r(n,s,o,i))(rs(e(n,o))),t):("number"==typeof r&&(t=r),nn((n,o)=>function Lrt(e,r,t,n,o,s,i,l){const a=[];let c=0,h=0,u=!1;const d=()=>{u&&!a.length&&!c&&r.complete()},p=y=>c<n?f(y):a.push(y),f=y=>{s&&r.next(y),c++;let V=!1;rs(t(y,h++)).subscribe(D(r,L=>{o?.(L),s?p(L):r.next(L)},()=>{V=!0},void 0,()=>{if(V)try{for(c--;a.length&&c<n;){const L=a.shift();i?Nl(r,i,()=>f(L)):f(L)}d()}catch(L){r.error(L)}}))};return e.subscribe(D(r,p,()=>{u=!0,d()})),()=>{l?.()}}(n,o,e,t)))}function uB(e,r){return Qe(r)?fh(e,r,1):fh(e,1)}function ms(e,r){return nn((t,n)=>{let o=0;t.subscribe(D(n,s=>e.call(r,s,o++)&&n.next(s)))})}function dB(e){return nn((r,t)=>{try{r.subscribe(t)}finally{t.add(e)}})}function mh(e,r){return nn((t,n)=>{let o=null,s=0,i=!1;const l=()=>i&&!o&&n.complete();t.subscribe(D(n,a=>{o?.unsubscribe();let c=0;const h=s++;rs(e(a,h)).subscribe(o=D(n,u=>n.next(r?r(a,u,h,c++):u),()=>{o=null,l()}))},()=>{i=!0,l()}))})}class U6{}class $6{}class rr{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?"string"==typeof r?this.lazyInit=()=>{this.headers=new Map,r.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const o=t.slice(0,n),s=o.toLowerCase(),i=t.slice(n+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const t=this.headers.get(r.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,t){return this.clone({name:r,value:t,op:"a"})}set(r,t){return this.clone({name:r,value:t,op:"s"})}delete(r,t){return this.clone({name:r,value:t,op:"d"})}maybeSetNormalizedName(r,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,r)}init(){this.lazyInit&&(this.lazyInit instanceof rr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(t=>{this.headers.set(t,r.headers.get(t)),this.normalizedNames.set(t,r.normalizedNames.get(t))})}clone(r){const t=new rr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof rr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([r]),t}applyUpdate(r){const t=r.name.toLowerCase();switch(r.op){case"a":case"s":let n=r.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(r.name,t);const o=("a"===r.op?this.headers.get(t):void 0)||[];o.push(...n),this.headers.set(t,o);break;case"d":const s=r.value;if(s){let i=this.headers.get(t);if(!i)return;i=i.filter(l=>-1===s.indexOf(l)),0===i.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,i)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(r,t){const n=(Array.isArray(t)?t:[t]).map(s=>s.toString()),o=r.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(r,o)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>r(this.normalizedNames.get(t),this.headers.get(t)))}}class zrt{encodeKey(r){return pB(r)}encodeValue(r){return pB(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const Irt=/%(\d[a-f0-9])/gi,Srt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pB(e){return encodeURIComponent(e).replace(Irt,(r,t)=>Srt[t]??r)}function Y6(e){return`${e}`}class ie{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new zrt,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Art(e,r){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[i,l]=-1==s?[r.decodeKey(o),""]:[r.decodeKey(o.slice(0,s)),r.decodeValue(o.slice(s+1))],a=t.get(i)||[];a.push(l),t.set(i,a)}),t}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(t=>{const n=r.fromObject[t],o=Array.isArray(n)?n.map(Y6):[Y6(n)];this.map.set(t,o)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const t=this.map.get(r);return t?t[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,t){return this.clone({param:r,value:t,op:"a"})}appendAll(r){const t=[];return Object.keys(r).forEach(n=>{const o=r[n];Array.isArray(o)?o.forEach(s=>{t.push({param:n,value:s,op:"a"})}):t.push({param:n,value:o,op:"a"})}),this.clone(t)}set(r,t){return this.clone({param:r,value:t,op:"s"})}delete(r,t){return this.clone({param:r,value:t,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const t=this.encoder.encodeKey(r);return this.map.get(r).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const t=new ie({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(r),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const t=("a"===r.op?this.map.get(r.param):void 0)||[];t.push(Y6(r.value)),this.map.set(r.param,t);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let n=this.map.get(r.param)||[];const o=n.indexOf(Y6(r.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(r.param,n):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class Brt{constructor(){this.map=new Map}set(r,t){return this.map.set(r,t),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}}function gB(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function vB(e){return typeof Blob<"u"&&e instanceof Blob}function fB(e){return typeof FormData<"u"&&e instanceof FormData}class g3{constructor(r,t,n,o){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function Drt(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,s=o):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new rr,this.context??=new Brt,this.params){const i=this.params.toString();if(0===i.length)this.urlWithParams=t;else{const l=t.indexOf("?");this.urlWithParams=t+(-1===l?"?":l<t.length-1?"&":"")+i}}else this.params=new ie,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||gB(this.body)||vB(this.body)||fB(this.body)||function Ert(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ie?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fB(this.body)?null:vB(this.body)?this.body.type||null:gB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ie?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){const t=r.method||this.method,n=r.url||this.url,o=r.responseType||this.responseType,s=r.transferCache??this.transferCache,i=void 0!==r.body?r.body:this.body,l=r.withCredentials??this.withCredentials,a=r.reportProgress??this.reportProgress;let c=r.headers||this.headers,h=r.params||this.params;const u=r.context??this.context;return void 0!==r.setHeaders&&(c=Object.keys(r.setHeaders).reduce((d,p)=>d.set(p,r.setHeaders[p]),c)),r.setParams&&(h=Object.keys(r.setParams).reduce((d,p)=>d.set(p,r.setParams[p]),h)),new g3(t,n,i,{params:h,headers:c,context:u,reportProgress:a,responseType:o,withCredentials:l,transferCache:s})}}var Pa=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Pa||{});class wC{constructor(r,t=200,n="OK"){this.headers=r.headers||new rr,this.status=void 0!==r.status?r.status:t,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class X6 extends wC{constructor(r={}){super(r),this.type=Pa.ResponseHeader}clone(r={}){return new X6({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class p0 extends wC{constructor(r={}){super(r),this.type=Pa.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new p0({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class wh extends wC{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function CC(e,r){return{body:r,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let Er=(()=>{class e{constructor(t){this.handler=t}request(t,n,o={}){let s;if(t instanceof g3)s=t;else{let a,c;a=o.headers instanceof rr?o.headers:new rr(o.headers),o.params&&(c=o.params instanceof ie?o.params:new ie({fromObject:o.params})),s=new g3(t,n,void 0!==o.body?o.body:null,{headers:a,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const i=l2(s).pipe(uB(a=>this.handler.handle(a)));if(t instanceof g3||"events"===o.observe)return i;const l=i.pipe(ms(a=>a instanceof p0));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(ot(a=>{if(null!==a.body&&!(a.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return a.body}));case"blob":return l.pipe(ot(a=>{if(null!==a.body&&!(a.body instanceof Blob))throw new Error("Response is not a Blob.");return a.body}));case"text":return l.pipe(ot(a=>{if(null!==a.body&&"string"!=typeof a.body)throw new Error("Response is not a string.");return a.body}));default:return l.pipe(ot(a=>a.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:(new ie).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,o={}){return this.request("PATCH",t,CC(o,n))}post(t,n,o={}){return this.request("POST",t,CC(o,n))}put(t,n,o={}){return this.request("PUT",t,CC(o,n))}static{this.\u0275fac=function(n){return new(n||e)(wt(U6))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})();const Frt=/^\)\]\}',?\n/;function wB(e){if(e.url)return e.url;const r="X-Request-URL".toLocaleLowerCase();return e.headers.get(r)}let kC=(()=>{class e{constructor(){this.fetchImpl=Et(Prt,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=Et(W1)}handle(t){return new v1(n=>{const o=new AbortController;return this.doRequest(t,o.signal,n).then(_C,s=>n.error(new wh({error:s}))),()=>o.abort()})}doRequest(t,n,o){var s=this;return(0,f2.A)(function*(){const i=s.createRequestInit(t);let l;try{const f=s.ngZone.runOutsideAngular(()=>s.fetchImpl(t.urlWithParams,{signal:n,...i}));(function Nrt(e){e.then(_C,_C)})(f),o.next({type:Pa.Sent}),l=yield f}catch(f){return void o.error(new wh({error:f,status:f.status??0,statusText:f.statusText,url:t.urlWithParams,headers:f.headers}))}const a=new rr(l.headers),c=l.statusText,h=wB(l)??t.urlWithParams;let u=l.status,d=null;if(t.reportProgress&&o.next(new X6({headers:a,status:u,statusText:c,url:h})),l.body){const f=l.headers.get("content-length"),y=[],V=l.body.getReader();let R,mt,L=0;const Ct=typeof Zone<"u"&&Zone.current;yield s.ngZone.runOutsideAngular((0,f2.A)(function*(){for(;;){const{done:tt,value:Vt}=yield V.read();if(tt)break;if(y.push(Vt),L+=Vt.length,t.reportProgress){mt="text"===t.responseType?(mt??"")+(R??=new TextDecoder).decode(Vt,{stream:!0}):void 0;const Gt=()=>o.next({type:Pa.DownloadProgress,total:f?+f:void 0,loaded:L,partialText:mt});Ct?Ct.run(Gt):Gt()}}}));const yt=s.concatChunks(y,L);try{const tt=l.headers.get("Content-Type")??"";d=s.parseBody(t,yt,tt)}catch(tt){return void o.error(new wh({error:tt,headers:new rr(l.headers),status:l.status,statusText:l.statusText,url:wB(l)??t.urlWithParams}))}}0===u&&(u=d?200:0),u>=200&&u<300?(o.next(new p0({body:d,headers:a,status:u,statusText:c,url:h})),o.complete()):o.error(new wh({error:d,headers:a,status:u,statusText:c,url:h}))})()}parseBody(t,n,o){switch(t.responseType){case"json":const s=(new TextDecoder).decode(n).replace(Frt,"");return""===s?null:JSON.parse(s);case"text":return(new TextDecoder).decode(n);case"blob":return new Blob([n],{type:o});case"arraybuffer":return n.buffer}}createRequestInit(t){const n={},o=t.withCredentials?"include":void 0;if(t.headers.forEach((s,i)=>n[s]=i.join(",")),t.headers.has("Accept")||(n.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){const s=t.detectContentTypeHeader();null!==s&&(n["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:n,credentials:o}}concatChunks(t,n){const o=new Uint8Array(n);let s=0;for(const i of t)o.set(i,s),s+=i.length;return o}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})();class Prt{}function _C(){}function CB(e,r){return r(e)}function Ort(e,r){return(t,n)=>r.intercept(t,{handle:o=>e(o,n)})}const Grt=new ye(""),v3=new ye(""),kB=new ye(""),_B=new ye("",{providedIn:"root",factory:()=>!0});function Wrt(){let e=null;return(r,t)=>{null===e&&(e=(Et(Grt,{optional:!0})??[]).reduceRight(Ort,CB));const n=Et(Vl);if(Et(_B)){const s=n.add();return e(r,t).pipe(dB(()=>n.remove(s)))}return e(r,t)}}let MB=(()=>{class e extends U6{constructor(t,n){super(),this.backend=t,this.injector=n,this.chain=null,this.pendingTasks=Et(Vl),this.contributeToStability=Et(_B)}handle(t){if(null===this.chain){const n=Array.from(new Set([...this.injector.get(v3),...this.injector.get(kB,[])]));this.chain=n.reduceRight((o,s)=>function Zrt(e,r,t){return(n,o)=>_8(t,()=>r(n,s=>e(s,o)))}(o,s,this.injector),CB)}if(this.contributeToStability){const n=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(dB(()=>this.pendingTasks.remove(n)))}return this.chain(t,n=>this.backend.handle(n))}static{this.\u0275fac=function(n){return new(n||e)(wt($6),wt(is))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})();const Krt=/^\)\]\}',?\n/;let xB=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new ne(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?d0(n.\u0275loadImpl()):l2(null)).pipe(mh(()=>new v1(s=>{const i=n.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((y,V)=>i.setRequestHeader(y,V.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const y=t.detectContentTypeHeader();null!==y&&i.setRequestHeader("Content-Type",y)}if(t.responseType){const y=t.responseType.toLowerCase();i.responseType="json"!==y?y:"text"}const l=t.serializeBody();let a=null;const c=()=>{if(null!==a)return a;const y=i.statusText||"OK",V=new rr(i.getAllResponseHeaders()),L=function qrt(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||t.url;return a=new X6({headers:V,status:i.status,statusText:y,url:L}),a},h=()=>{let{headers:y,status:V,statusText:L,url:R}=c(),mt=null;204!==V&&(mt=typeof i.response>"u"?i.responseText:i.response),0===V&&(V=mt?200:0);let Ct=V>=200&&V<300;if("json"===t.responseType&&"string"==typeof mt){const yt=mt;mt=mt.replace(Krt,"");try{mt=""!==mt?JSON.parse(mt):null}catch(tt){mt=yt,Ct&&(Ct=!1,mt={error:tt,text:mt})}}Ct?(s.next(new p0({body:mt,headers:y,status:V,statusText:L,url:R||void 0})),s.complete()):s.error(new wh({error:mt,headers:y,status:V,statusText:L,url:R||void 0}))},u=y=>{const{url:V}=c(),L=new wh({error:y,status:i.status||0,statusText:i.statusText||"Unknown Error",url:V||void 0});s.error(L)};let d=!1;const p=y=>{d||(s.next(c()),d=!0);let V={type:Pa.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(V.total=y.total),"text"===t.responseType&&i.responseText&&(V.partialText=i.responseText),s.next(V)},f=y=>{let V={type:Pa.UploadProgress,loaded:y.loaded};y.lengthComputable&&(V.total=y.total),s.next(V)};return i.addEventListener("load",h),i.addEventListener("error",u),i.addEventListener("timeout",u),i.addEventListener("abort",u),t.reportProgress&&(i.addEventListener("progress",p),null!==l&&i.upload&&i.upload.addEventListener("progress",f)),i.send(l),s.next({type:Pa.Sent}),()=>{i.removeEventListener("error",u),i.removeEventListener("abort",u),i.removeEventListener("load",h),i.removeEventListener("timeout",u),t.reportProgress&&(i.removeEventListener("progress",p),null!==l&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}})))}static{this.\u0275fac=function(n){return new(n||e)(wt(Zz))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})();const MC=new ye(""),bB=new ye("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),HB=new ye("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class VB{}let tnt=(()=>{class e{constructor(t,n,o){this.doc=t,this.platform=n,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sz(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(n){return new(n||e)(wt(fn),wt(Mi),wt(bB))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})();function ent(e,r){const t=e.url.toLowerCase();if(!Et(MC)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return r(e);const n=Et(VB).getToken(),o=Et(HB);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),r(e)}var Na=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Na||{});function g0(e,r){return{\u0275kind:e,\u0275providers:r}}function rnt(...e){const r=[Er,xB,MB,{provide:U6,useExisting:MB},{provide:$6,useFactory:()=>Et(kC,{optional:!0})??Et(xB)},{provide:v3,useValue:ent,multi:!0},{provide:MC,useValue:!0},{provide:VB,useClass:tnt}];for(const t of e)r.push(...t.\u0275providers);return function ia(e){return{\u0275providers:e}}(r)}const LB=new ye("");let ont=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({providers:[rnt(g0(Na.LegacyInterceptors,[{provide:LB,useFactory:Wrt},{provide:v3,useExisting:LB,multi:!0}]))]})}}return e})();function gl(e){return!!e&&(e instanceof v1||Qe(e.lift)&&Qe(e.subscribe))}new ye("basePath");const{isArray:znt}=Array,{getPrototypeOf:Ant,prototype:Int,keys:Snt}=Object;function TB(e){if(1===e.length){const r=e[0];if(znt(r))return{args:r,keys:null};if(function Bnt(e){return e&&"object"==typeof e&&Ant(e)===Int}(r)){const t=Snt(r);return{args:t.map(n=>r[n]),keys:t}}}return{args:e,keys:null}}const{isArray:Dnt}=Array;function yC(e){return ot(r=>function Ent(e,r){return Dnt(r)?e(...r):e(r)}(e,r))}function RB(e,r){return e.reduce((t,n,o)=>(t[n]=r[o],t),{})}function FB(...e){const r=YS(e),{args:t,keys:n}=TB(e),o=new v1(s=>{const{length:i}=t;if(!i)return void s.complete();const l=new Array(i);let a=i,c=i;for(let h=0;h<i;h++){let u=!1;rs(t[h]).subscribe(D(s,d=>{u||(u=!0,c--),l[h]=d},()=>a--,void 0,()=>{(!a||!u)&&(c||s.next(n?RB(n,l):l),s.complete())}))}});return r?o.pipe(yC(r)):o}function jB(e=1/0){return fh(Ke,e)}function Ch(...e){return function Tnt(){return jB(1)}()(d0(e,p3(e)))}function xC(e){return new v1(r=>{rs(e()).subscribe(r)})}const bC=new v1(e=>e.complete());function Ts(e){return e<=0?()=>bC:nn((r,t)=>{let n=0;r.subscribe(D(t,o=>{++n<=e&&(t.next(o),e<=n&&t.complete())}))})}const HC={now:()=>(HC.delegate||Date).now(),delegate:void 0};class Fnt extends V1{constructor(r=1/0,t=1/0,n=HC){super(),this._bufferSize=r,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,t)}next(r){const{isStopped:t,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:i}=this;t||(n.push(r),!o&&n.push(s.now()+i)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(r),{_infiniteTimeWindow:n,_buffer:o}=this,s=o.slice();for(let i=0;i<s.length&&!r.closed;i+=n?1:2)r.next(s[i]);return this._checkFinalizedStatuses(r),t}_trimBuffer(){const{_bufferSize:r,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:o}=this,s=(o?1:2)*r;if(r<1/0&&s<n.length&&n.splice(0,n.length-s),!o){const i=t.now();let l=0;for(let a=1;a<n.length&&n[a]<=i;a+=2)l=a;l&&n.splice(0,l+1)}}}function VC(e,r,...t){if(!0===r)return void e();if(!1===r)return;const n=new Tt({next:()=>{n.unsubscribe(),e()}});return rs(r(...t)).subscribe(n)}function PB(e,r,t){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:r=1/0,refCount:o=!1,scheduler:t}=e):n=e??1/0,function jnt(e={}){const{connector:r=()=>new V1,resetOnError:t=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return s=>{let i,l,a,c=0,h=!1,u=!1;const d=()=>{l?.unsubscribe(),l=void 0},p=()=>{d(),i=a=void 0,h=u=!1},f=()=>{const y=i;p(),y?.unsubscribe()};return nn((y,V)=>{c++,!u&&!h&&d();const L=a=a??r();V.add(()=>{c--,0===c&&!u&&!h&&(l=VC(f,o))}),L.subscribe(V),!i&&c>0&&(i=new Tt({next:R=>L.next(R),error:R=>{u=!0,d(),l=VC(p,t,R),L.error(R)},complete:()=>{h=!0,d(),l=VC(p,n),L.complete()}}),rs(y).subscribe(i))})(s)}}({connector:()=>new Fnt(n,r,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}class f3{}let NB=(()=>{class e extends f3{getTranslation(t){return l2({})}static \u0275fac=(()=>{let t;return function(o){return(t||(t=ho(e)))(o||e)}})();static \u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})();class LC{}let OB=(()=>{class e{handle(t){return t.key}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})();function q6(e,r){if(e===r)return!0;if(null===e||null===r)return!1;if(e!=e&&r!=r)return!0;let o,s,i,t=typeof e;if(t==typeof r&&"object"==t){if(!Array.isArray(e)){if(Array.isArray(r))return!1;for(s in i=Object.create(null),e){if(!q6(e[s],r[s]))return!1;i[s]=!0}for(s in r)if(!(s in i)&&typeof r[s]<"u")return!1;return!0}if(!Array.isArray(r))return!1;if((o=e.length)==r.length){for(s=0;s<o;s++)if(!q6(e[s],r[s]))return!1;return!0}}return!1}function Oa(e){return typeof e<"u"&&null!==e}function zC(e){return e&&"object"==typeof e&&!Array.isArray(e)}function ZB(e,r){let t=Object.assign({},e);return zC(e)&&zC(r)&&Object.keys(r).forEach(n=>{zC(r[n])?n in e?t[n]=ZB(e[n],r[n]):Object.assign(t,{[n]:r[n]}):Object.assign(t,{[n]:r[n]})}),t}class J6{}let GB=(()=>{class e extends J6{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,n){let o;return o="string"==typeof t?this.interpolateString(t,n):"function"==typeof t?this.interpolateFunction(t,n):t,o}getValue(t,n){let o="string"==typeof n?n.split("."):[n];n="";do{n+=o.shift(),!Oa(t)||!Oa(t[n])||"object"!=typeof t[n]&&o.length?o.length?n+=".":t=void 0:(t=t[n],n="")}while(o.length);return t}interpolateFunction(t,n){return t(n)}interpolateString(t,n){return n?t.replace(this.templateMatcher,(o,s)=>{let i=this.getValue(n,s);return Oa(i)?i:o}):t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=ho(e)))(o||e)}})();static \u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})();class kh{}let WB=(()=>{class e extends kh{compile(t,n){return t}compileTranslations(t,n){return t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=ho(e)))(o||e)}})();static \u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})();class UB{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Ae;onLangChange=new Ae;onDefaultLangChange=new Ae}const AC=new ye("USE_STORE"),IC=new ye("USE_DEFAULT_LANG"),SC=new ye("DEFAULT_LANGUAGE"),BC=new ye("USE_EXTEND");let DC=(()=>{class e{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new Ae;_onLangChange=new Ae;_onDefaultLangChange=new Ae;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}constructor(t,n,o,s,i,l=!0,a=!1,c=!1,h){this.store=t,this.currentLoader=n,this.compiler=o,this.parser=s,this.missingTranslationHandler=i,this.useDefaultLang=l,this.isolate=a,this.extend=c,h&&this.setDefaultLang(h)}setDefaultLang(t){if(t===this.defaultLang)return;let n=this.retrieveTranslations(t);typeof n<"u"?(null==this.defaultLang&&(this.defaultLang=t),n.pipe(Ts(1)).subscribe(o=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return l2(this.translations[t]);let n=this.retrieveTranslations(t);return typeof n<"u"?(this.currentLang||(this.currentLang=t),n.pipe(Ts(1)).subscribe(o=>{this.changeLang(t)}),n):(this.changeLang(t),l2(this.translations[t]))}retrieveTranslations(t){let n;return(typeof this.translations[t]>"u"||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),n=this._translationRequests[t]),n}getTranslation(t){this.pending=!0;const n=this.currentLoader.getTranslation(t).pipe(PB(1),Ts(1));return this.loadingTranslations=n.pipe(ot(o=>this.compiler.compileTranslations(o,t)),PB(1),Ts(1)),this.loadingTranslations.subscribe({next:o=>{this.translations[t]=this.extend&&this.translations[t]?{...o,...this.translations[t]}:o,this.updateLangs(),this.pending=!1},error:o=>{this.pending=!1}}),n}setTranslation(t,n,o=!1){n=this.compiler.compileTranslations(n,t),this.translations[t]=(o||this.extend)&&this.translations[t]?ZB(this.translations[t],n):n,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(n=>{-1===this.langs.indexOf(n)&&this.langs.push(n)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,n,o){let s;if(n instanceof Array){let i={},l=!1;for(let a of n)i[a]=this.getParsedResult(t,a,o),gl(i[a])&&(l=!0);return l?FB(n.map(c=>gl(i[c])?i[c]:l2(i[c]))).pipe(ot(c=>{let h={};return c.forEach((u,d)=>{h[n[d]]=u}),h})):i}if(t&&(s=this.parser.interpolate(this.parser.getValue(t,n),o)),typeof s>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],n),o)),typeof s>"u"){let i={key:n,translateService:this};typeof o<"u"&&(i.interpolateParams=o),s=this.missingTranslationHandler.handle(i)}return typeof s<"u"?s:n}get(t,n){if(!Oa(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(uB(o=>gl(o=this.getParsedResult(o,t,n))?o:l2(o)));{let o=this.getParsedResult(this.translations[this.currentLang],t,n);return gl(o)?o:l2(o)}}getStreamOnTranslationChange(t,n){if(!Oa(t)||!t.length)throw new Error('Parameter "key" required');return Ch(xC(()=>this.get(t,n)),this.onTranslationChange.pipe(mh(o=>{const s=this.getParsedResult(o.translations,t,n);return"function"==typeof s.subscribe?s:l2(s)})))}stream(t,n){if(!Oa(t)||!t.length)throw new Error('Parameter "key" required');return Ch(xC(()=>this.get(t,n)),this.onLangChange.pipe(mh(o=>{const s=this.getParsedResult(o.translations,t,n);return gl(s)?s:l2(s)})))}instant(t,n){if(!Oa(t)||!t.length)throw new Error('Parameter "key" required');let o=this.getParsedResult(this.translations[this.currentLang],t,n);if(gl(o)){if(t instanceof Array){let s={};return t.forEach((i,l)=>{s[t[l]]=t[l]}),s}return t}return o}set(t,n,o=this.currentLang){this.translations[o][t]=this.compiler.compile(n,o),this.updateLangs(),this.onTranslationChange.emit({lang:o,translations:this.translations[o]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof t>"u"?void 0:(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}static \u0275fac=function(n){return new(n||e)(wt(UB),wt(f3),wt(kh),wt(J6),wt(LC),wt(IC),wt(AC),wt(BC),wt(SC))};static \u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})(),Pnt=(()=>{class e{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(t,n){this.translate=t,this._ref=n}updateValue(t,n,o){let s=i=>{this.value=void 0!==i?i:t,this.lastKey=t,this._ref.markForCheck()};if(o){let i=this.translate.getParsedResult(o,t,n);gl(i.subscribe)?i.subscribe(s):s(i)}this.translate.get(t,n).subscribe(s)}transform(t,...n){if(!t||!t.length)return t;if(q6(t,this.lastKey)&&q6(n,this.lastParams))return this.value;let o;if(Oa(n[0])&&n.length)if("string"==typeof n[0]&&n[0].length){let s=n[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{o=JSON.parse(s)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${n[0]}`)}}else"object"==typeof n[0]&&!Array.isArray(n[0])&&(o=n[0]);return this.lastKey=t,this.lastParams=n,this.updateValue(t,o),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,o,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,o,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,o))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(n){return new(n||e)(kt(DC,16),kt(L2,16))};static \u0275pipe=ko({name:"translate",type:e,pure:!1});static \u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})(),Q6=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[t.loader||{provide:f3,useClass:NB},t.compiler||{provide:kh,useClass:WB},t.parser||{provide:J6,useClass:GB},t.missingTranslationHandler||{provide:LC,useClass:OB},UB,{provide:AC,useValue:t.isolate},{provide:IC,useValue:t.useDefaultLang},{provide:BC,useValue:t.extend},{provide:SC,useValue:t.defaultLanguage},DC]}}static forChild(t={}){return{ngModule:e,providers:[t.loader||{provide:f3,useClass:NB},t.compiler||{provide:kh,useClass:WB},t.parser||{provide:J6,useClass:GB},t.missingTranslationHandler||{provide:LC,useClass:OB},{provide:AC,useValue:t.isolate},{provide:IC,useValue:t.useDefaultLang},{provide:BC,useValue:t.extend},{provide:SC,useValue:t.defaultLanguage},DC]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=ur({type:e});static \u0275inj=ar({})}return e})();var Nnt=K(517);const Ont=new ye("MESSAGE_FORMAT_CONFIG"),Znt={biDiSupport:!1,formatters:{},strictNumberSign:!1,currency:"USD",strictPluralKeys:!0,throwOnError:!1,fallbackPrefix:void 0};let Gnt=(()=>{class e extends kh{constructor(t){super(),this.mfCache=new Map;const{formatters:n,biDiSupport:o,strictNumberSign:s,currency:i,strictPluralKeys:l,throwOnError:a,fallbackPrefix:c}={...Znt,...t};this.messageFormatOptions={customFormatters:n,biDiSupport:o,strict:s,currency:i,strictPluralKeys:l},this.throwOnError=!!a,this.fallbackPrefix=c}compile(t,n){if(this.fallbackPrefix&&t.startsWith(this.fallbackPrefix))return t.slice(this.fallbackPrefix.length);let o;try{o=this.getMessageFormatInstance(n).compile(t)}catch(s){if(this.throwOnError)throw s;console.error(s),console.error(`[ngx-translate-messageformat-compiler] Could not compile message for lang '${n}': '${t}'`),o=function Unt(e,r){return()=>(console.warn(`[ngx-translate-messageformat-compiler] Falling back to original invalid message: '${e}' ('${r}')`),String(e))}(t,n)}return this.throwOnError||(o=function Wnt(e,r){return t=>{let n=r;try{n=e(t)}catch(o){console.error(o),console.error(`[ngx-translate-messageformat-compiler] Could not interpolate '${r}' with params '${t}'`)}return n}}(o,t)),o}compileTranslations(t,n){return"string"==typeof t?this.compile(t,n):Object.keys(t).reduce((o,s)=>(o[s]=this.compileTranslations(t[s],n),o),{})}getMessageFormatInstance(t){return this.mfCache.has(t)||this.mfCache.set(t,new Nnt(t,this.messageFormatOptions)),this.mfCache.get(t)}static{this.\u0275fac=function(n){return new(n||e)(wt(Ont,8))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})(),Ynt=(()=>{class e{http;prefix;suffix;constructor(t,n="/assets/i18n/",o=".json"){this.http=t,this.prefix=n,this.suffix=o}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}static \u0275fac=function(n){return new(n||e)(wt(Er),wt(String),wt(String))};static \u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})();function Xnt(e){return Object.keys(e).reduce((r,t)=>e[t].trim().length?{...r,[t]:e[t]}:r,{})}class Knt extends Ynt{getTranslation(r){const t=r.substring(0,2);return super.getTranslation(t).pipe(ot(Xnt))}}const Qnt={compiler:{provide:kh,useClass:Gnt},loader:{provide:f3,useFactory:function Jnt(e){return new Knt(e,"./assets/i18n/")},defaultLanguage:"en",deps:[Er]}},t7={"ISO 19139":Sw,"ISO 19115-3":Nw,"DCAT-AP":W6};function $B(e){return Object.keys(t7).reduce((r,t)=>e instanceof t7[t]?t:r)}let eot=(()=>{class e{constructor(){this.newRecordNative=new Ae,this.newMetadata=new Ae,this.currentConverter=null,this.status="Standing by."}set recordNative(t){this._currentRecord=t,this.convertRecordToXml(t)}set currentMetadata(t){const n=performance.now();this.status="Converting to CatalogRecord...",this.xmlToRecord(t).then(o=>{this._currentRecord=o,this.newRecordNative.emit(o),this.newMetadata.emit(t);const s=Math.round(performance.now()-n);this.status=`Converting to CatalogRecord... Done (${s} ms).`}).catch(o=>{this.status=`Converting to CatalogRecord... Failed: ${o instanceof Error?o.message:o}`,console.error(o)})}startLoadingFile(){this.status="Loading file from url..."}errorLoadingFile(t){this.status=`Loading file from url... Failed: ${t}`,console.error(t)}startReadingFile(){this.status="Reading file..."}errorReadingFile(){this.status="Reading file... Failed"}changeFormat(t){const n=t7[t];if(!n)throw new Error(`Metadata format ${t} not supported`);this.referenceMetadata="",this.convertRecordToXml(this._currentRecord,new n)}convertRecordToXml(t,n){const o=performance.now(),i=$B(n??this.currentConverter);this.status=`Converting to ${i}...`,this.newMetadata.emit(""),this.recordToXml(t,n).then(l=>{this.newMetadata.emit(l);const a=Math.round(performance.now()-o);this.status=`Converting to ${i}... Done (${a} ms).`}).catch(l=>{this.status=`Converting to ${i}... Failed: ${l instanceof Error?l.message:l}`,console.error(l)})}recordToXml(t,n){try{return this.currentConverter=n||(this.referenceMetadata?US(this.referenceMetadata):new Nw),this.currentConverter.writeRecord(t,this.referenceMetadata)}catch(o){return Promise.reject(o)}}xmlToRecord(t){try{return this.currentConverter=US(t),this.currentConverter.readRecord(t)}catch(n){return Promise.reject(n)}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["gn-ui-status"]],inputs:{recordNative:"recordNative",currentMetadata:"currentMetadata",referenceMetadata:"referenceMetadata"},outputs:{newRecordNative:"newRecordNative",newMetadata:"newMetadata"},decls:2,vars:1,consts:[[1,"font-mono"]],template:function(n,o){1&n&&(Ot(0,"div",0),Ur(1),Ut()),2&n&&(Kt(),v2("> ",o.status,""))}})}}return e})(),YB=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[K2]})}}return e})();const{min:rot,max:not}=Math,v0=(e,r=0,t=1)=>rot(not(r,e),t),EC=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let r=0;r<=3;r++)r<3?((e[r]<0||e[r]>255)&&(e._clipped=!0),e[r]=v0(e[r],0,255)):3===r&&(e[r]=v0(e[r],0,1));return e},XB={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])XB[`[object ${e}]`]=e.toLowerCase();function xr(e){return XB[Object.prototype.toString.call(e)]||"object"}const hr=(e,r=null)=>e.length>=3?Array.prototype.slice.call(e):"object"==xr(e[0])&&r?r.split("").filter(t=>void 0!==e[0][t]).map(t=>e[0][t]):e[0].slice(0),_h=e=>{if(e.length<2)return null;const r=e.length-1;return"string"==xr(e[r])?e[r].toLowerCase():null},{PI:e7,min:KB,max:qB}=Math,li=e=>Math.round(100*e)/100,TC=e=>Math.round(100*e)/100,Ol=2*e7,RC=e7/3,oot=e7/180,sot=180/e7;function JB(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}const ir={format:{},autodetect:[]},Ze=class iot{constructor(...r){const t=this;if("object"===xr(r[0])&&r[0].constructor&&r[0].constructor===this.constructor)return r[0];let n=_h(r),o=!1;if(!n){o=!0,ir.sorted||(ir.autodetect=ir.autodetect.sort((s,i)=>i.p-s.p),ir.sorted=!0);for(let s of ir.autodetect)if(n=s.test(...r),n)break}if(!ir.format[n])throw new Error("unknown format: "+r);{const s=ir.format[n].apply(null,o?r:r.slice(0,-1));t._rgb=EC(s)}3===t._rgb.length&&t._rgb.push(1)}toString(){return"function"==xr(this.hex)?this.hex():`[${this._rgb.join(",")}]`}},QB=(...e)=>new Ze(...e);QB.version="3.1.2";const Tr=QB,Mh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},aot=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,cot=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,tD=e=>{if(e.match(aot)){(4===e.length||7===e.length)&&(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const r=parseInt(e,16);return[r>>16,r>>8&255,255&r,1]}if(e.match(cot)){(5===e.length||9===e.length)&&(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const r=parseInt(e,16);return[r>>24&255,r>>16&255,r>>8&255,Math.round((255&r)/255*100)/100]}throw new Error(`unknown hex color: ${e}`)},{round:r7}=Math,eD=(...e)=>{let[r,t,n,o]=hr(e,"rgba"),s=_h(e)||"auto";void 0===o&&(o=1),"auto"===s&&(s=o<1?"rgba":"rgb"),r=r7(r),t=r7(t),n=r7(n);let l="000000"+(r<<16|t<<8|n).toString(16);l=l.substr(l.length-6);let a="0"+r7(255*o).toString(16);switch(a=a.substr(a.length-2),s.toLowerCase()){case"rgba":return`#${l}${a}`;case"argb":return`#${a}${l}`;default:return`#${l}`}};Ze.prototype.name=function(){const e=eD(this._rgb,"rgb");for(let r of Object.keys(Mh))if(Mh[r]===e)return r.toLowerCase();return e},ir.format.named=e=>{if(e=e.toLowerCase(),Mh[e])return tD(Mh[e]);throw new Error("unknown color name: "+e)},ir.autodetect.push({p:5,test:(e,...r)=>{if(!r.length&&"string"===xr(e)&&Mh[e.toLowerCase()])return"named"}}),Ze.prototype.alpha=function(e,r=!1){return void 0!==e&&"number"===xr(e)?r?(this._rgb[3]=e,this):new Ze([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},Ze.prototype.clipped=function(){return this._rgb._clipped||!1};const m3={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},yh=m3,hot=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Zl(e){const r=hot.get(String(e).toLowerCase());if(!r)throw new Error("unknown Lab illuminant "+e);m3.labWhitePoint=e,m3.Xn=r[0],m3.Zn=r[1]}function w3(){return m3.labWhitePoint}const FC=e=>{const r=Math.sign(e);return((e=Math.abs(e))<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)*r},rD=(e,r,t)=>{const{MtxAdaptMa:n,MtxAdaptMaI:o,MtxXYZ2RGB:s,RefWhiteRGB:i,Xn:l,Yn:a,Zn:c}=yh,V=(i.X*n.m00+i.Y*n.m10+i.Z*n.m20)/(l*n.m00+a*n.m10+c*n.m20)*(e*n.m00+r*n.m10+t*n.m20),L=(i.X*n.m01+i.Y*n.m11+i.Z*n.m21)/(l*n.m01+a*n.m11+c*n.m21)*(e*n.m01+r*n.m11+t*n.m21),R=(i.X*n.m02+i.Y*n.m12+i.Z*n.m22)/(l*n.m02+a*n.m12+c*n.m22)*(e*n.m02+r*n.m12+t*n.m22),mt=V*o.m00+L*o.m10+R*o.m20,Ct=V*o.m01+L*o.m11+R*o.m21,yt=V*o.m02+L*o.m12+R*o.m22;return[255*FC(mt*s.m00+Ct*s.m10+yt*s.m20),255*FC(mt*s.m01+Ct*s.m11+yt*s.m21),255*FC(mt*s.m02+Ct*s.m12+yt*s.m22)]},jC=(...e)=>{e=hr(e,"lab");const[r,t,n]=e,[o,s,i]=((e,r,t)=>{const{kE:n,kK:o,kKE:s,Xn:i,Yn:l,Zn:a}=yh,c=(e+16)/116,h=.002*r+c,u=c-.005*t,d=h*h*h,p=u*u*u;return[(d>n?d:(116*h-16)/o)*i,(e>s?Math.pow((e+16)/116,3):e/o)*l,(p>n?p:(116*u-16)/o)*a]})(r,t,n),[l,a,c]=rD(o,s,i);return[l,a,c,e.length>3?e[3]:1]};function PC(e){const r=Math.sign(e);return((e=Math.abs(e))<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*r}const nD=(e,r,t)=>{e=PC(e/255),r=PC(r/255),t=PC(t/255);const{MtxRGB2XYZ:n,MtxAdaptMa:o,MtxAdaptMaI:s,Xn:i,Yn:l,Zn:a,As:c,Bs:h,Cs:u}=yh;let d=e*n.m00+r*n.m10+t*n.m20,p=e*n.m01+r*n.m11+t*n.m21,f=e*n.m02+r*n.m12+t*n.m22,R=d*o.m00+p*o.m10+f*o.m20,mt=d*o.m01+p*o.m11+f*o.m21,Ct=d*o.m02+p*o.m12+f*o.m22;return R*=(i*o.m00+l*o.m10+a*o.m20)/c,mt*=(i*o.m01+l*o.m11+a*o.m21)/h,Ct*=(i*o.m02+l*o.m12+a*o.m22)/u,d=R*s.m00+mt*s.m10+Ct*s.m20,p=R*s.m01+mt*s.m11+Ct*s.m21,f=R*s.m02+mt*s.m12+Ct*s.m22,[d,p,f]},NC=(...e)=>{const[r,t,n,...o]=hr(e,"rgb"),[s,i,l]=nD(r,t,n),[a,c,h]=function got(e,r,t){const{Xn:n,Yn:o,Zn:s,kE:i,kK:l}=yh,a=e/n,c=r/o,h=t/s,u=a>i?Math.pow(a,1/3):(l*a+16)/116,d=c>i?Math.pow(c,1/3):(l*c+16)/116;return[116*d-16,500*(u-d),200*(d-(h>i?Math.pow(h,1/3):(l*h+16)/116))]}(s,i,l);return[a,c,h,...o.length>0&&o[0]<1?[o[0]]:[]]};Ze.prototype.lab=function(){return NC(this._rgb)},Object.assign(Tr,{lab:(...e)=>new Ze(...e,"lab"),getLabWhitePoint:w3,setLabWhitePoint:Zl}),ir.format.lab=jC,ir.autodetect.push({p:2,test:(...e)=>{if("array"===xr(e=hr(e,"lab"))&&3===e.length)return"lab"}}),Ze.prototype.darken=function(e=1){const t=this.lab();return t[0]-=yh.Kn*e,new Ze(t,"lab").alpha(this.alpha(),!0)},Ze.prototype.brighten=function(e=1){return this.darken(-e)},Ze.prototype.darker=Ze.prototype.darken,Ze.prototype.brighter=Ze.prototype.brighten,Ze.prototype.get=function(e){const[r,t]=e.split("."),n=this[r]();if(t){const o=r.indexOf(t)-("ok"===r.substr(0,2)?2:0);if(o>-1)return n[o];throw new Error(`unknown channel ${t} in mode ${r}`)}return n};const{pow:vot}=Math;Ze.prototype.luminance=function(e,r="rgb"){if(void 0!==e&&"number"===xr(e)){if(0===e)return new Ze([0,0,0,this._rgb[3]],"rgb");if(1===e)return new Ze([255,255,255,this._rgb[3]],"rgb");let t=this.luminance(),n=20;const o=(i,l)=>{const a=i.interpolate(l,.5,r),c=a.luminance();return Math.abs(e-c)<1e-7||!n--?a:c>e?o(i,a):o(a,l)},s=(t>e?o(new Ze([0,0,0]),this):o(this,new Ze([255,255,255]))).rgb();return new Ze([...s,this._rgb[3]])}return wot(...this._rgb.slice(0,3))};const wot=(e,r,t)=>.2126*(e=OC(e))+.7152*(r=OC(r))+.0722*OC(t),OC=e=>(e/=255)<=.03928?e/12.92:vot((e+.055)/1.055,2.4),I2={},xh=(e,r,t=.5,...n)=>{let o=n[0]||"lrgb";if(!I2[o]&&!n.length&&(o=Object.keys(I2)[0]),!I2[o])throw new Error(`interpolation mode ${o} is not defined`);return"object"!==xr(e)&&(e=new Ze(e)),"object"!==xr(r)&&(r=new Ze(r)),I2[o](e,r,t).alpha(e.alpha()+t*(r.alpha()-e.alpha()))};Ze.prototype.mix=Ze.prototype.interpolate=function(e,r=.5,...t){return xh(this,e,r,...t)},Ze.prototype.premultiply=function(e=!1){const r=this._rgb,t=r[3];return e?(this._rgb=[r[0]*t,r[1]*t,r[2]*t,t],this):new Ze([r[0]*t,r[1]*t,r[2]*t,t],"rgb")};const{sin:Cot,cos:kot}=Math,oD=(...e)=>{let[r,t,n]=hr(e,"lch");return isNaN(n)&&(n=0),n*=oot,[r,kot(n)*t,Cot(n)*t]},ZC=(...e)=>{e=hr(e,"lch");const[r,t,n]=e,[o,s,i]=oD(r,t,n),[l,a,c]=jC(o,s,i);return[l,a,c,e.length>3?e[3]:1]},{sqrt:Mot,atan2:yot,round:xot}=Math,sD=(...e)=>{const[r,t,n]=hr(e,"lab"),o=Mot(t*t+n*n);let s=(yot(n,t)*sot+360)%360;return 0===xot(1e4*o)&&(s=Number.NaN),[r,o,s]},GC=(...e)=>{const[r,t,n,...o]=hr(e,"rgb"),[s,i,l]=NC(r,t,n),[a,c,h]=sD(s,i,l);return[a,c,h,...o.length>0&&o[0]<1?[o[0]]:[]]};Ze.prototype.lch=function(){return GC(this._rgb)},Ze.prototype.hcl=function(){return JB(GC(this._rgb))},Object.assign(Tr,{lch:(...e)=>new Ze(...e,"lch"),hcl:(...e)=>new Ze(...e,"hcl")}),ir.format.lch=ZC,ir.format.hcl=(...e)=>{const r=JB(hr(e,"hcl"));return ZC(...r)},["lch","hcl"].forEach(e=>ir.autodetect.push({p:2,test:(...r)=>{if("array"===xr(r=hr(r,e))&&3===r.length)return e}})),Ze.prototype.saturate=function(e=1){const t=this.lch();return t[1]+=yh.Kn*e,t[1]<0&&(t[1]=0),new Ze(t,"lch").alpha(this.alpha(),!0)},Ze.prototype.desaturate=function(e=1){return this.saturate(-e)},Ze.prototype.set=function(e,r,t=!1){const[n,o]=e.split("."),s=this[n]();if(o){const i=n.indexOf(o)-("ok"===n.substr(0,2)?2:0);if(i>-1){if("string"==xr(r))switch(r.charAt(0)){case"+":case"-":s[i]+=+r;break;case"*":s[i]*=+r.substr(1);break;case"/":s[i]/=+r.substr(1);break;default:s[i]=+r}else{if("number"!==xr(r))throw new Error("unsupported value for Color.set");s[i]=r}const l=new Ze(s,n);return t?(this._rgb=l._rgb,this):l}throw new Error(`unknown channel ${o} in mode ${n}`)}return s},Ze.prototype.tint=function(e=.5,...r){return xh(this,"white",e,...r)},Ze.prototype.shade=function(e=.5,...r){return xh(this,"black",e,...r)},I2.rgb=(e,r,t)=>{const n=e._rgb,o=r._rgb;return new Ze(n[0]+t*(o[0]-n[0]),n[1]+t*(o[1]-n[1]),n[2]+t*(o[2]-n[2]),"rgb")};const{sqrt:WC,pow:bh}=Math;I2.lrgb=(e,r,t)=>{const[n,o,s]=e._rgb,[i,l,a]=r._rgb;return new Ze(WC(bh(n,2)*(1-t)+bh(i,2)*t),WC(bh(o,2)*(1-t)+bh(l,2)*t),WC(bh(s,2)*(1-t)+bh(a,2)*t),"rgb")},I2.lab=(e,r,t)=>{const n=e.lab(),o=r.lab();return new Ze(n[0]+t*(o[0]-n[0]),n[1]+t*(o[1]-n[1]),n[2]+t*(o[2]-n[2]),"lab")};const Hh=(e,r,t,n)=>{let o,s,i,l,a,c,h,u,d,p,f,y;return"hsl"===n?(o=e.hsl(),s=r.hsl()):"hsv"===n?(o=e.hsv(),s=r.hsv()):"hcg"===n?(o=e.hcg(),s=r.hcg()):"hsi"===n?(o=e.hsi(),s=r.hsi()):"lch"===n||"hcl"===n?(n="hcl",o=e.hcl(),s=r.hcl()):"oklch"===n&&(o=e.oklch().reverse(),s=r.oklch().reverse()),("h"===n.substr(0,1)||"oklch"===n)&&([i,a,h]=o,[l,c,u]=s),isNaN(i)||isNaN(l)?isNaN(i)?isNaN(l)?p=Number.NaN:(p=l,(1==h||0==h)&&"hsv"!=n&&(d=c)):(p=i,(1==u||0==u)&&"hsv"!=n&&(d=a)):(y=l>i&&l-i>180?l-(i+360):l<i&&i-l>180?l+360-i:l-i,p=i+t*y),void 0===d&&(d=a+t*(c-a)),f=h+t*(u-h),new Ze("oklch"===n?[f,d,p]:[p,d,f],n)},iD=(e,r,t)=>Hh(e,r,t,"lch");I2.lch=iD,I2.hcl=iD,Ze.prototype.num=function(){return((...e)=>{const[r,t,n]=hr(e,"rgb");return(r<<16)+(t<<8)+n})(this._rgb)},Object.assign(Tr,{num:(...e)=>new Ze(...e,"num")}),ir.format.num=e=>{if("number"==xr(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},ir.autodetect.push({p:5,test:(...e)=>{if(1===e.length&&"number"===xr(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}}),I2.num=(e,r,t)=>{const n=e.num(),o=r.num();return new Ze(n+t*(o-n),"num")};const{floor:Iot}=Math;Ze.prototype.hcg=function(){return((...e)=>{const[r,t,n]=hr(e,"rgb"),o=KB(r,t,n),s=qB(r,t,n),i=s-o;let c;return 0===i?c=Number.NaN:(r===s&&(c=(t-n)/i),t===s&&(c=2+(n-r)/i),n===s&&(c=4+(r-t)/i),c*=60,c<0&&(c+=360)),[c,100*i/255,o/(255-i)*100]})(this._rgb)},Tr.hcg=(...e)=>new Ze(...e,"hcg"),ir.format.hcg=(...e)=>{e=hr(e,"hcg");let o,s,i,[r,t,n]=e;n*=255;const l=255*t;if(0===t)o=s=i=n;else{360===r&&(r=0),r>360&&(r-=360),r<0&&(r+=360),r/=60;const a=Iot(r),c=r-a,h=n*(1-t),u=h+l*(1-c),d=h+l*c,p=h+l;switch(a){case 0:[o,s,i]=[p,d,h];break;case 1:[o,s,i]=[u,p,h];break;case 2:[o,s,i]=[h,p,d];break;case 3:[o,s,i]=[h,u,p];break;case 4:[o,s,i]=[d,h,p];break;case 5:[o,s,i]=[p,h,u]}}return[o,s,i,e.length>3?e[3]:1]},ir.autodetect.push({p:1,test:(...e)=>{if("array"===xr(e=hr(e,"hcg"))&&3===e.length)return"hcg"}}),I2.hcg=(e,r,t)=>Hh(e,r,t,"hcg");const{cos:Vh}=Math,{min:Rot,sqrt:Fot,acos:jot}=Math;Ze.prototype.hsi=function(){return((...e)=>{let o,[r,t,n]=hr(e,"rgb");r/=255,t/=255,n/=255;const s=Rot(r,t,n),i=(r+t+n)/3,l=i>0?1-s/i:0;return 0===l?o=NaN:(o=(r-t+(r-n))/2,o/=Fot((r-t)*(r-t)+(r-n)*(t-n)),o=jot(o),n>t&&(o=Ol-o),o/=Ol),[360*o,l,i]})(this._rgb)},Tr.hsi=(...e)=>new Ze(...e,"hsi"),ir.format.hsi=(...e)=>{e=hr(e,"hsi");let o,s,i,[r,t,n]=e;return isNaN(r)&&(r=0),isNaN(t)&&(t=0),r>360&&(r-=360),r<0&&(r+=360),r/=360,r<1/3?(i=(1-t)/3,o=(1+t*Vh(Ol*r)/Vh(RC-Ol*r))/3,s=1-(i+o)):r<2/3?(r-=1/3,o=(1-t)/3,s=(1+t*Vh(Ol*r)/Vh(RC-Ol*r))/3,i=1-(o+s)):(r-=2/3,s=(1-t)/3,i=(1+t*Vh(Ol*r)/Vh(RC-Ol*r))/3,o=1-(s+i)),o=v0(n*o*3),s=v0(n*s*3),i=v0(n*i*3),[255*o,255*s,255*i,e.length>3?e[3]:1]},ir.autodetect.push({p:2,test:(...e)=>{if("array"===xr(e=hr(e,"hsi"))&&3===e.length)return"hsi"}}),I2.hsi=(e,r,t)=>Hh(e,r,t,"hsi");const UC=(...e)=>{e=hr(e,"hsl");const[r,t,n]=e;let o,s,i;if(0===t)o=s=i=255*n;else{const l=[0,0,0],a=[0,0,0],c=n<.5?n*(1+t):n+t-n*t,h=2*n-c,u=r/360;l[0]=u+1/3,l[1]=u,l[2]=u-1/3;for(let d=0;d<3;d++)l[d]<0&&(l[d]+=1),l[d]>1&&(l[d]-=1),a[d]=6*l[d]<1?h+6*(c-h)*l[d]:2*l[d]<1?c:3*l[d]<2?h+(c-h)*(2/3-l[d])*6:h;[o,s,i]=[255*a[0],255*a[1],255*a[2]]}return e.length>3?[o,s,i,e[3]]:[o,s,i,1]},lD=(...e)=>{e=hr(e,"rgba");let[r,t,n]=e;r/=255,t/=255,n/=255;const o=KB(r,t,n),s=qB(r,t,n),i=(s+o)/2;let l,a;return s===o?(l=0,a=Number.NaN):l=i<.5?(s-o)/(s+o):(s-o)/(2-s-o),r==s?a=(t-n)/(s-o):t==s?a=2+(n-r)/(s-o):n==s&&(a=4+(r-t)/(s-o)),a*=60,a<0&&(a+=360),e.length>3&&void 0!==e[3]?[a,l,i,e[3]]:[a,l,i]};Ze.prototype.hsl=function(){return lD(this._rgb)},Tr.hsl=(...e)=>new Ze(...e,"hsl"),ir.format.hsl=UC,ir.autodetect.push({p:2,test:(...e)=>{if("array"===xr(e=hr(e,"hsl"))&&3===e.length)return"hsl"}}),I2.hsl=(e,r,t)=>Hh(e,r,t,"hsl");const{floor:Wot}=Math,{min:$ot,max:Yot}=Math;function n7(e,r){let t=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(r[0])||(r=r.map(i=>[i]));let n=r[0].length,o=r[0].map((i,l)=>r.map(a=>a[l])),s=e.map(i=>o.map(l=>Array.isArray(i)?i.reduce((a,c,h)=>a+c*(l[h]||0),0):l.reduce((a,c)=>a+c*i,0)));return 1===t&&(s=s[0]),1===n?s.map(i=>i[0]):s}Ze.prototype.hsv=function(){return((...e)=>{e=hr(e,"rgb");let[r,t,n]=e;const o=$ot(r,t,n),s=Yot(r,t,n),i=s-o;let l,a,c;return c=s/255,0===s?(l=Number.NaN,a=0):(a=i/s,r===s&&(l=(t-n)/i),t===s&&(l=2+(n-r)/i),n===s&&(l=4+(r-t)/i),l*=60,l<0&&(l+=360)),[l,a,c]})(this._rgb)},Tr.hsv=(...e)=>new Ze(...e,"hsv"),ir.format.hsv=(...e)=>{e=hr(e,"hsv");let o,s,i,[r,t,n]=e;if(n*=255,0===t)o=s=i=n;else{360===r&&(r=0),r>360&&(r-=360),r<0&&(r+=360),r/=60;const l=Wot(r),a=r-l,c=n*(1-t),h=n*(1-t*a),u=n*(1-t*(1-a));switch(l){case 0:[o,s,i]=[n,u,c];break;case 1:[o,s,i]=[h,n,c];break;case 2:[o,s,i]=[c,n,u];break;case 3:[o,s,i]=[c,h,n];break;case 4:[o,s,i]=[u,c,n];break;case 5:[o,s,i]=[n,c,h]}}return[o,s,i,e.length>3?e[3]:1]},ir.autodetect.push({p:2,test:(...e)=>{if("array"===xr(e=hr(e,"hsv"))&&3===e.length)return"hsv"}}),I2.hsv=(e,r,t)=>Hh(e,r,t,"hsv");const $C=(...e)=>{e=hr(e,"lab");const[r,t,n,...o]=e,[s,i,l]=function Qot(e){var n=n7([[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],e);return n7([[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],n.map(o=>o**3))}([r,t,n]),[a,c,h]=rD(s,i,l);return[a,c,h,...o.length>0&&o[0]<1?[o[0]]:[]]};function e2t(e){const n=n7([[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],e);return n7([[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n.map(o=>Math.cbrt(o)))}const YC=(...e)=>{const[r,t,n,...o]=hr(e,"rgb");return[...e2t(nD(r,t,n)),...o.length>0&&o[0]<1?[o[0]]:[]]};Ze.prototype.oklab=function(){return YC(this._rgb)},Object.assign(Tr,{oklab:(...e)=>new Ze(...e,"oklab")}),ir.format.oklab=$C,ir.autodetect.push({p:2,test:(...e)=>{if("array"===xr(e=hr(e,"oklab"))&&3===e.length)return"oklab"}}),I2.oklab=(e,r,t)=>{const n=e.oklab(),o=r.oklab();return new Ze(n[0]+t*(o[0]-n[0]),n[1]+t*(o[1]-n[1]),n[2]+t*(o[2]-n[2]),"oklab")},I2.oklch=(e,r,t)=>Hh(e,r,t,"oklch");const{pow:XC,sqrt:KC,PI:qC,cos:aD,sin:cD,atan2:o2t}=Math,{pow:l2t}=Math;function o7(e){let r="rgb",t=Tr("#ccc"),n=0,o=[0,1],s=[],i=[0,0],l=!1,a=[],c=!1,h=0,u=1,d=!1,p={},f=!0,y=1;const V=function(Vt){if((Vt=Vt||["#fff","#000"])&&"string"===xr(Vt)&&Tr.brewer&&Tr.brewer[Vt.toLowerCase()]&&(Vt=Tr.brewer[Vt.toLowerCase()]),"array"===xr(Vt)){1===Vt.length&&(Vt=[Vt[0],Vt[0]]),Vt=Vt.slice(0);for(let Gt=0;Gt<Vt.length;Gt++)Vt[Gt]=Tr(Vt[Gt]);s.length=0;for(let Gt=0;Gt<Vt.length;Gt++)s.push(Gt/(Vt.length-1))}return yt(),a=Vt};let R=Vt=>Vt,mt=Vt=>Vt;const Ct=function(Vt,Gt){let pe,ge;if(null==Gt&&(Gt=!1),isNaN(Vt)||null===Vt)return t;ge=Gt?Vt:l&&l.length>2?function(Vt){if(null!=l){const Gt=l.length-1;let pe=0;for(;pe<Gt&&Vt>=l[pe];)pe++;return pe-1}return 0}(Vt)/(l.length-2):u!==h?(Vt-h)/(u-h):1,ge=mt(ge),Gt||(ge=R(ge)),1!==y&&(ge=l2t(ge,y)),ge=i[0]+ge*(1-i[0]-i[1]),ge=v0(ge,0,1);const Me=Math.floor(1e4*ge);if(f&&p[Me])pe=p[Me];else{if("array"===xr(a))for(let he=0;he<s.length;he++){const Le=s[he];if(ge<=Le){pe=a[he];break}if(ge>=Le&&he===s.length-1){pe=a[he];break}if(ge>Le&&ge<s[he+1]){ge=(ge-Le)/(s[he+1]-Le),pe=Tr.interpolate(a[he],a[he+1],ge,r);break}}else"function"===xr(a)&&(pe=a(ge));f&&(p[Me]=pe)}return pe};var yt=()=>p={};V(e);const tt=function(Vt){const Gt=Tr(Ct(Vt));return c&&Gt[c]?Gt[c]():Gt};return tt.classes=function(Vt){if(null!=Vt){if("array"===xr(Vt))l=Vt,o=[Vt[0],Vt[Vt.length-1]];else{const Gt=Tr.analyze(o);l=0===Vt?[Gt.min,Gt.max]:Tr.limits(Gt,"e",Vt)}return tt}return l},tt.domain=function(Vt){if(!arguments.length)return o;h=Vt[0],u=Vt[Vt.length-1],s=[];const Gt=a.length;if(Vt.length===Gt&&h!==u)for(let pe of Array.from(Vt))s.push((pe-h)/(u-h));else{for(let pe=0;pe<Gt;pe++)s.push(pe/(Gt-1));if(Vt.length>2){const pe=Vt.map((Me,he)=>he/(Vt.length-1)),ge=Vt.map(Me=>(Me-h)/(u-h));ge.every((Me,he)=>pe[he]===Me)||(mt=Me=>{if(Me<=0||Me>=1)return Me;let he=0;for(;Me>=ge[he+1];)he++;return pe[he]+(Me-ge[he])/(ge[he+1]-ge[he])*(pe[he+1]-pe[he])})}}return o=[h,u],tt},tt.mode=function(Vt){return arguments.length?(r=Vt,yt(),tt):r},tt.range=function(Vt,Gt){return V(Vt),tt},tt.out=function(Vt){return c=Vt,tt},tt.spread=function(Vt){return arguments.length?(n=Vt,tt):n},tt.correctLightness=function(Vt){return null==Vt&&(Vt=!0),d=Vt,yt(),R=d?function(Gt){const pe=Ct(0,!0).lab()[0],ge=Ct(1,!0).lab()[0],Me=pe>ge;let he=Ct(Gt,!0).lab()[0];const Le=pe+(ge-pe)*Gt;let Ue=he-Le,Fe=0,Se=1,x1=20;for(;Math.abs(Ue)>.01&&x1-- >0;)Me&&(Ue*=-1),Ue<0?(Fe=Gt,Gt+=.5*(Se-Gt)):(Se=Gt,Gt+=.5*(Fe-Gt)),he=Ct(Gt,!0).lab()[0],Ue=he-Le;return Gt}:Gt=>Gt,tt},tt.padding=function(Vt){return null!=Vt?("number"===xr(Vt)&&(Vt=[Vt,Vt]),i=Vt,tt):i},tt.colors=function(Vt,Gt){arguments.length<2&&(Gt="hex");let pe=[];if(0===arguments.length)pe=a.slice(0);else if(1===Vt)pe=[tt(.5)];else if(Vt>1){const ge=o[0],Me=o[1]-ge;pe=function a2t(e,r,t){let n=[],o=e<r,s=t?o?r+1:r-1:r;for(let i=e;o?i<s:i>s;o?i++:i--)n.push(i);return n}(0,Vt,!1).map(he=>tt(ge+he/(Vt-1)*Me))}else{e=[];let ge=[];if(l&&l.length>2)for(let Me=1,he=l.length,Le=1<=he;Le?Me<he:Me>he;Le?Me++:Me--)ge.push(.5*(l[Me-1]+l[Me]));else ge=o;pe=ge.map(Me=>tt(Me))}return Tr[Gt]&&(pe=pe.map(ge=>ge[Gt]())),pe},tt.cache=function(Vt){return null!=Vt?(f=Vt,tt):f},tt.gamma=function(Vt){return null!=Vt?(y=Vt,tt):y},tt.nodata=function(Vt){return null!=Vt?(t=Tr(Vt),tt):t},tt}const{round:hD}=Math;Ze.prototype.rgb=function(e=!0){return!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(hD)},Ze.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((r,t)=>t<3?!1===e?r:hD(r):r)},Object.assign(Tr,{rgb:(...e)=>new Ze(...e,"rgb")}),ir.format.rgb=(...e)=>{const r=hr(e,"rgba");return void 0===r[3]&&(r[3]=1),r},ir.autodetect.push({p:3,test:(...e)=>{if("array"===xr(e=hr(e,"rgba"))&&(3===e.length||4===e.length&&"number"==xr(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});const Ei=(e,r,t)=>{if(!Ei[t])throw new Error("unknown blend mode "+t);return Ei[t](e,r)},Za=e=>(r,t)=>{const n=Tr(t).rgb(),o=Tr(r).rgb();return Tr.rgb(e(n,o))},Ga=e=>(r,t)=>{const n=[];return n[0]=e(r[0],t[0]),n[1]=e(r[1],t[1]),n[2]=e(r[2],t[2]),n};Ei.normal=Za(Ga(e=>e)),Ei.multiply=Za(Ga((e,r)=>e*r/255)),Ei.screen=Za(Ga((e,r)=>255*(1-(1-e/255)*(1-r/255)))),Ei.overlay=Za(Ga((e,r)=>r<128?2*e*r/255:255*(1-2*(1-e/255)*(1-r/255)))),Ei.darken=Za(Ga((e,r)=>e>r?r:e)),Ei.lighten=Za(Ga((e,r)=>e>r?e:r)),Ei.dodge=Za(Ga((e,r)=>255===e||(e=r/255*255/(1-e/255))>255?255:e)),Ei.burn=Za(Ga((e,r)=>255*(1-(1-r/255)/(e/255))));const k2t=Ei,{pow:_2t,sin:M2t,cos:y2t}=Math,{floor:H2t,random:V2t}=Math,{log:uD,pow:z2t,floor:A2t,abs:I2t}=Math;function dD(e,r=null){const t={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===xr(e)&&(e=Object.values(e)),e.forEach(n=>{r&&"object"===xr(n)&&(n=n[r]),null!=n&&!isNaN(n)&&(t.values.push(n),t.sum+=n,n<t.min&&(t.min=n),n>t.max&&(t.max=n),t.count+=1)}),t.domain=[t.min,t.max],t.limits=(n,o)=>pD(t,n,o),t}function pD(e,r="equal",t=7){"array"==xr(e)&&(e=dD(e));const{min:n,max:o}=e,s=e.values.sort((l,a)=>l-a);if(1===t)return[n,o];const i=[];if("c"===r.substr(0,1)&&(i.push(n),i.push(o)),"e"===r.substr(0,1)){i.push(n);for(let l=1;l<t;l++)i.push(n+l/t*(o-n));i.push(o)}else if("l"===r.substr(0,1)){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");const l=Math.LOG10E*uD(n),a=Math.LOG10E*uD(o);i.push(n);for(let c=1;c<t;c++)i.push(z2t(10,l+c/t*(a-l)));i.push(o)}else if("q"===r.substr(0,1)){i.push(n);for(let l=1;l<t;l++){const a=(s.length-1)*l/t,c=A2t(a);if(c===a)i.push(s[c]);else{const h=a-c;i.push(s[c]*(1-h)+s[c+1]*h)}}i.push(o)}else if("k"===r.substr(0,1)){let l;const a=s.length,c=new Array(a),h=new Array(t);let u=!0,d=0,p=null;p=[],p.push(n);for(let V=1;V<t;V++)p.push(n+V/t*(o-n));for(p.push(o);u;){for(let L=0;L<t;L++)h[L]=0;for(let L=0;L<a;L++){const R=s[L];let Ct,mt=Number.MAX_VALUE;for(let yt=0;yt<t;yt++){const tt=I2t(p[yt]-R);tt<mt&&(mt=tt,Ct=yt),h[Ct]++,c[L]=Ct}}const V=new Array(t);for(let L=0;L<t;L++)V[L]=null;for(let L=0;L<a;L++)l=c[L],null===V[l]?V[l]=s[L]:V[l]+=s[L];for(let L=0;L<t;L++)V[L]*=1/h[L];u=!1;for(let L=0;L<t;L++)if(V[L]!==p[L]){u=!0;break}p=V,d++,d>200&&(u=!1)}const f={};for(let V=0;V<t;V++)f[V]=[];for(let V=0;V<a;V++)l=c[V],f[l].push(s[V]);let y=[];for(let V=0;V<t;V++)y.push(f[V][0]),y.push(f[V][f[V].length-1]);y=y.sort((V,L)=>V-L),i.push(y[0]);for(let V=1;V<y.length;V+=2){const L=y[V];!isNaN(L)&&-1===i.indexOf(L)&&i.push(L)}}return i}const s7=.022;function mD(e,r,t){return.2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(r/255,2.4)+.072175*Math.pow(t/255,2.4)}const{sqrt:Gl,pow:Po,min:T2t,max:R2t,atan2:wD,abs:CD,cos:i7,sin:kD,exp:F2t,PI:_D}=Math,O2t={cool:()=>o7([Tr.hsl(180,1,.9),Tr.hsl(250,.7,.4)]),hot:()=>o7(["#000","#f00","#ff0","#fff"]).mode("rgb")},JC={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},MD=Object.keys(JC),yD=new Map(MD.map(e=>[e.toLowerCase(),e])),Z2t="function"==typeof Proxy?new Proxy(JC,{get(e,r){const t=r.toLowerCase();if(yD.has(t))return e[yD.get(t)]},getOwnPropertyNames:()=>Object.getOwnPropertyNames(MD)}):JC,{max:xD}=Math;Ze.prototype.cmyk=function(){return((...e)=>{let[r,t,n]=hr(e,"rgb");r/=255,t/=255,n/=255;const o=1-xD(r,xD(t,n)),s=o<1?1/(1-o):0;return[(1-r-o)*s,(1-t-o)*s,(1-n-o)*s,o]})(this._rgb)},Object.assign(Tr,{cmyk:(...e)=>new Ze(...e,"cmyk")}),ir.format.cmyk=(...e)=>{e=hr(e,"cmyk");const[r,t,n,o]=e,s=e.length>4?e[4]:1;return 1===o?[0,0,0,s]:[r>=1?0:255*(1-r)*(1-o),t>=1?0:255*(1-t)*(1-o),n>=1?0:255*(1-n)*(1-o),s]},ir.autodetect.push({p:2,test:(...e)=>{if("array"===xr(e=hr(e,"cmyk"))&&4===e.length)return"cmyk"}});const bD=(...e)=>{const[r,t,n,...o]=hr(e,"rgb"),[s,i,l]=YC(r,t,n),[a,c,h]=sD(s,i,l);return[a,c,h,...o.length>0&&o[0]<1?[o[0]]:[]]},{round:QC}=Math,HD=(...e)=>{e=hr(e,"lch");const[r,t,n,...o]=e,[s,i,l]=oD(r,t,n),[a,c,h]=$C(s,i,l);return[a,c,h,...o.length>0&&o[0]<1?[o[0]]:[]]},Wl=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Ti=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,l7=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,ai=/\s*/.source,Lh=/\s+/.source,tk=/\s*,\s*/.source,a7=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,zh=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,VD=new RegExp("^rgba?\\("+ai+[Wl,Wl,Wl].join(Lh)+zh+"\\)$"),LD=new RegExp("^rgb\\("+ai+[Wl,Wl,Wl].join(tk)+ai+"\\)$"),zD=new RegExp("^rgba\\("+ai+[Wl,Wl,Wl,Ti].join(tk)+ai+"\\)$"),AD=new RegExp("^hsla?\\("+ai+[a7,l7,l7].join(Lh)+zh+"\\)$"),ID=new RegExp("^hsl?\\("+ai+[a7,l7,l7].join(tk)+ai+"\\)$"),SD=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,BD=new RegExp("^lab\\("+ai+[Ti,Ti,Ti].join(Lh)+zh+"\\)$"),DD=new RegExp("^lch\\("+ai+[Ti,Ti,a7].join(Lh)+zh+"\\)$"),ED=new RegExp("^oklab\\("+ai+[Ti,Ti,Ti].join(Lh)+zh+"\\)$"),TD=new RegExp("^oklch\\("+ai+[Ti,Ti,a7].join(Lh)+zh+"\\)$"),{round:RD}=Math,Ah=e=>e.map((r,t)=>t<=2?v0(RD(r),0,255):r),No=(e,r=0,t=100,n=!1)=>("string"==typeof e&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,e=n?r+.5*(e+1)*(t-r):r+e*(t-r)),+e),ns=(e,r)=>"none"===e?r:e,FD=e=>{if("transparent"===(e=e.toLowerCase().trim()))return[0,0,0,0];let r;if(ir.format.named)try{return ir.format.named(e)}catch{}if((r=e.match(VD))||(r=e.match(LD))){let t=r.slice(1,4);for(let o=0;o<3;o++)t[o]=+No(ns(t[o],0),0,255);t=Ah(t);const n=void 0!==r[4]?+No(r[4],0,1):1;return t[3]=n,t}if(r=e.match(zD)){const t=r.slice(1,5);for(let n=0;n<4;n++)t[n]=+No(t[n],0,255);return t}if((r=e.match(AD))||(r=e.match(ID))){const t=r.slice(1,4);t[0]=+ns(t[0].replace("deg",""),0),t[1]=.01*+No(ns(t[1],0),0,100),t[2]=.01*+No(ns(t[2],0),0,100);const n=Ah(UC(t)),o=void 0!==r[4]?+No(r[4],0,1):1;return n[3]=o,n}if(r=e.match(SD)){const t=r.slice(1,4);t[1]*=.01,t[2]*=.01;const n=UC(t);for(let o=0;o<3;o++)n[o]=RD(n[o]);return n[3]=+r[4],n}if(r=e.match(BD)){const t=r.slice(1,4);t[0]=No(ns(t[0],0),0,100),t[1]=No(ns(t[1],0),-125,125,!0),t[2]=No(ns(t[2],0),-125,125,!0);const n=w3();Zl("d50");const o=Ah(jC(t));Zl(n);const s=void 0!==r[4]?+No(r[4],0,1):1;return o[3]=s,o}if(r=e.match(DD)){const t=r.slice(1,4);t[0]=No(t[0],0,100),t[1]=No(ns(t[1],0),0,150,!1),t[2]=+ns(t[2].replace("deg",""),0);const n=w3();Zl("d50");const o=Ah(ZC(t));Zl(n);const s=void 0!==r[4]?+No(r[4],0,1):1;return o[3]=s,o}if(r=e.match(ED)){const t=r.slice(1,4);t[0]=No(ns(t[0],0),0,1),t[1]=No(ns(t[1],0),-.4,.4,!0),t[2]=No(ns(t[2],0),-.4,.4,!0);const n=Ah($C(t)),o=void 0!==r[4]?+No(r[4],0,1):1;return n[3]=o,n}if(r=e.match(TD)){const t=r.slice(1,4);t[0]=No(ns(t[0],0),0,1),t[1]=No(ns(t[1],0),0,.4,!1),t[2]=+ns(t[2].replace("deg",""),0);const n=Ah(HD(t)),o=void 0!==r[4]?+No(r[4],0,1):1;return n[3]=o,n}};FD.test=e=>VD.test(e)||AD.test(e)||BD.test(e)||DD.test(e)||ED.test(e)||TD.test(e)||LD.test(e)||zD.test(e)||ID.test(e)||SD.test(e)||"transparent"===e;const jD=FD;Ze.prototype.css=function(e){return((...e)=>{const r=hr(e,"rgba");let t=_h(e)||"rgb";if("hsl"===t.substr(0,3))return((...e)=>{const r=hr(e,"hsla");let t=_h(e)||"lsa";return r[0]=li(r[0]||0)+"deg",r[1]=li(100*r[1])+"%",r[2]=li(100*r[2])+"%","hsla"===t||r.length>3&&r[3]<1?(r[3]="/ "+(r.length>3?r[3]:1),t="hsla"):r.length=3,`${t.substr(0,3)}(${r.join(" ")})`})(lD(r),t);if("lab"===t.substr(0,3)){const n=w3();Zl("d50");const o=((...e)=>{const r=hr(e,"lab");let t=_h(e)||"lab";return r[0]=li(r[0])+"%",r[1]=li(r[1]),r[2]=li(r[2]),"laba"===t||r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`lab(${r.join(" ")})`})(NC(r),t);return Zl(n),o}if("lch"===t.substr(0,3)){const n=w3();Zl("d50");const o=((...e)=>{const r=hr(e,"lch");let t=_h(e)||"lab";return r[0]=li(r[0])+"%",r[1]=li(r[1]),r[2]=isNaN(r[2])?"none":li(r[2])+"deg","lcha"===t||r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`lch(${r.join(" ")})`})(GC(r),t);return Zl(n),o}return"oklab"===t.substr(0,5)?((...e)=>{const r=hr(e,"lab");return r[0]=li(100*r[0])+"%",r[1]=TC(r[1]),r[2]=TC(r[2]),r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`oklab(${r.join(" ")})`})(YC(r)):"oklch"===t.substr(0,5)?((...e)=>{const r=hr(e,"lch");return r[0]=li(100*r[0])+"%",r[1]=TC(r[1]),r[2]=isNaN(r[2])?"none":li(r[2])+"deg",r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`oklch(${r.join(" ")})`})(bD(r)):(r[0]=QC(r[0]),r[1]=QC(r[1]),r[2]=QC(r[2]),("rgba"===t||r.length>3&&r[3]<1)&&(r[3]="/ "+(r.length>3?r[3]:1),t="rgba"),`${t.substr(0,3)}(${r.slice(0,"rgb"===t?3:4).join(" ")})`)})(this._rgb,e)},Tr.css=(...e)=>new Ze(...e,"css"),ir.format.css=jD,ir.autodetect.push({p:5,test:(e,...r)=>{if(!r.length&&"string"===xr(e)&&jD.test(e))return"css"}}),ir.format.gl=(...e)=>{const r=hr(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},Tr.gl=(...e)=>new Ze(...e,"gl"),Ze.prototype.gl=function(){const e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]},Ze.prototype.hex=function(e){return eD(this._rgb,e)},Tr.hex=(...e)=>new Ze(...e,"hex"),ir.format.hex=tD,ir.autodetect.push({p:4,test:(e,...r)=>{if(!r.length&&"string"===xr(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});const{log:c7}=Math,PD=e=>{const r=e/100;let t,n,o;return r<66?(t=255,n=r<6?0:-155.25485562709179-.44596950469579133*(n=r-2)+104.49216199393888*c7(n),o=r<20?0:.8274096064007395*(o=r-10)-254.76935184120902+115.67994401066147*c7(o)):(t=351.97690566805693+.114206453784165*(t=r-55)-40.25366309332127*c7(t),n=325.4494125711974+.07943456536662342*(n=r-50)-28.0852963507957*c7(n),o=255),[t,n,o,1]},{round:est}=Math;Ze.prototype.temp=Ze.prototype.kelvin=Ze.prototype.temperature=function(){return(()=>{const r=hr([this._rgb],"rgb"),t=r[0],n=r[2];let l,o=1e3,s=4e4;for(;s-o>.4;){l=.5*(s+o);const a=PD(l);a[2]/a[0]>=n/t?s=l:o=l}return est(l)})()};const ek=(...e)=>new Ze(...e,"temp");Object.assign(Tr,{temp:ek,kelvin:ek,temperature:ek}),ir.format.temp=ir.format.kelvin=ir.format.temperature=PD,Ze.prototype.oklch=function(){return bD(this._rgb)},Object.assign(Tr,{oklch:(...e)=>new Ze(...e,"oklch")}),ir.format.oklch=HD,ir.autodetect.push({p:2,test:(...e)=>{if("array"===xr(e=hr(e,"oklch"))&&3===e.length)return"oklch"}}),Object.assign(Tr,{analyze:dD,average:(e,r="lrgb",t=null)=>{const n=e.length;t||(t=Array.from(new Array(n)).map(()=>1));const o=n/t.reduce(function(u,d){return u+d});if(t.forEach((u,d)=>{t[d]*=o}),e=e.map(u=>new Ze(u)),"lrgb"===r)return((e,r)=>{const t=e.length,n=[0,0,0,0];for(let o=0;o<e.length;o++){const i=r[o]/t,l=e[o]._rgb;n[0]+=XC(l[0],2)*i,n[1]+=XC(l[1],2)*i,n[2]+=XC(l[2],2)*i,n[3]+=l[3]*i}return n[0]=KC(n[0]),n[1]=KC(n[1]),n[2]=KC(n[2]),n[3]>.9999999&&(n[3]=1),new Ze(EC(n))})(e,t);const s=e.shift(),i=s.get(r),l=[];let a=0,c=0;for(let u=0;u<i.length;u++)if(i[u]=(i[u]||0)*t[0],l.push(isNaN(i[u])?0:t[0]),"h"===r.charAt(u)&&!isNaN(i[u])){const d=i[u]/180*qC;a+=aD(d)*t[0],c+=cD(d)*t[0]}let h=s.alpha()*t[0];e.forEach((u,d)=>{const p=u.get(r);h+=u.alpha()*t[d+1];for(let f=0;f<i.length;f++)if(!isNaN(p[f]))if(l[f]+=t[d+1],"h"===r.charAt(f)){const y=p[f]/180*qC;a+=aD(y)*t[d+1],c+=cD(y)*t[d+1]}else i[f]+=p[f]*t[d+1]});for(let u=0;u<i.length;u++)if("h"===r.charAt(u)){let d=o2t(c/l[u],a/l[u])/qC*180;for(;d<0;)d+=360;for(;d>=360;)d-=360;i[u]=d}else i[u]=i[u]/l[u];return h/=n,new Ze(i,r).alpha(h>.99999?1:h,!0)},bezier:e=>{const r=function(e){let r,t,n,o;if(2===(e=e.map(s=>new Ze(s))).length)[t,n]=e.map(s=>s.lab()),r=function(s){const i=[0,1,2].map(l=>t[l]+s*(n[l]-t[l]));return new Ze(i,"lab")};else if(3===e.length)[t,n,o]=e.map(s=>s.lab()),r=function(s){const i=[0,1,2].map(l=>(1-s)*(1-s)*t[l]+2*(1-s)*s*n[l]+s*s*o[l]);return new Ze(i,"lab")};else if(4===e.length){let s;[t,n,o,s]=e.map(i=>i.lab()),r=function(i){const l=[0,1,2].map(a=>(1-i)*(1-i)*(1-i)*t[a]+3*(1-i)*(1-i)*i*n[a]+3*(1-i)*i*i*o[a]+i*i*i*s[a]);return new Ze(l,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");{let s,i,l;s=e.map(a=>a.lab()),l=e.length-1,i=function(e){let r=[1,1];for(let t=1;t<e;t++){let n=[1];for(let o=1;o<=r.length;o++)n[o]=(r[o]||0)+r[o-1];r=n}return r}(l),r=function(a){const c=1-a,h=[0,1,2].map(u=>s.reduce((d,p,f)=>d+i[f]*c**(l-f)*a**f*p[u],0));return new Ze(h,"lab")}}}return r}(e);return r.scale=()=>o7(r),r},blend:k2t,brewer:Z2t,Color:Ze,colors:Mh,contrast:(e,r)=>{e=new Ze(e),r=new Ze(r);const t=e.luminance(),n=r.luminance();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},contrastAPCA:(e,r)=>{e=new Ze(e),r=new Ze(r),e.alpha()<1&&(e=xh(r,e,e.alpha(),"rgb"));const t=mD(...e.rgb()),n=mD(...r.rgb()),o=t>=s7?t:t+Math.pow(s7-t,1.414),s=n>=s7?n:n+Math.pow(s7-n,1.414),i=Math.pow(s,.56)-Math.pow(o,.57),l=Math.pow(s,.65)-Math.pow(o,.62),a=Math.abs(s-o)<5e-4?0:o<s?1.14*i:1.14*l;return 100*(Math.abs(a)<.1?0:a>0?a-.027:a+.027)},cubehelix:function x2t(e=300,r=-1.5,t=1,n=1,o=[0,1]){let i,s=0;"array"===xr(o)?i=o[1]-o[0]:(i=0,o=[o,o]);const l=function(a){const c=Ol*((e+120)/360+r*a),h=_2t(o[0]+i*a,n),d=(0!==s?t[0]+a*s:t)*h*(1-h)/2,p=y2t(c),f=M2t(c);return Tr(EC([255*(h+d*(-.14861*p+1.78277*f)),255*(h+d*(-.29227*p-.90649*f)),255*(h+d*(1.97294*p)),1]))};return l.start=function(a){return null==a?e:(e=a,l)},l.rotations=function(a){return null==a?r:(r=a,l)},l.gamma=function(a){return null==a?n:(n=a,l)},l.hue=function(a){return null==a?t:("array"===xr(t=a)?(s=t[1]-t[0],0===s&&(t=t[1])):s=0,l)},l.lightness=function(a){return null==a?o:("array"===xr(a)?(o=a,i=a[1]-a[0]):(o=[a,a],i=0),l)},l.scale=()=>Tr.scale(l),l.hue(t),l},deltaE:function j2t(e,r,t=1,n=1,o=1){var s=function(bn){return 360*bn/(2*_D)},i=function(bn){return 2*_D*bn/360};e=new Ze(e),r=new Ze(r);const[l,a,c]=Array.from(e.lab()),[h,u,d]=Array.from(r.lab()),p=(l+h)/2,V=(Gl(Po(a,2)+Po(c,2))+Gl(Po(u,2)+Po(d,2)))/2,L=.5*(1-Gl(Po(V,7)/(Po(V,7)+Po(25,7)))),R=a*(1+L),mt=u*(1+L),Ct=Gl(Po(R,2)+Po(c,2)),yt=Gl(Po(mt,2)+Po(d,2)),tt=(Ct+yt)/2,Vt=s(wD(c,R)),Gt=s(wD(d,mt)),pe=Vt>=0?Vt:Vt+360,ge=Gt>=0?Gt:Gt+360,Me=CD(pe-ge)>180?(pe+ge+360)/2:(pe+ge)/2,he=1-.17*i7(i(Me-30))+.24*i7(i(2*Me))+.32*i7(i(3*Me+6))-.2*i7(i(4*Me-63));let Le=ge-pe;Le=CD(Le)<=180?Le:ge<=pe?Le+360:Le-360,Le=2*Gl(Ct*yt)*kD(i(Le)/2);const Ue=h-l,Fe=yt-Ct,Se=1+.015*Po(p-50,2)/Gl(20+Po(p-50,2)),x1=1+.045*tt,lr=1+.015*tt*he,Cn=30*F2t(-Po((Me-275)/25,2)),dn=-2*Gl(Po(tt,7)/(Po(tt,7)+Po(25,7)))*kD(2*i(Cn)),Go=Gl(Po(Ue/(t*Se),2)+Po(Fe/(n*x1),2)+Po(Le/(o*lr),2)+dn*(Fe/(n*x1))*(Le/(o*lr)));return R2t(0,T2t(100,Go))},distance:function P2t(e,r,t="lab"){e=new Ze(e),r=new Ze(r);const n=e.get(t),o=r.get(t);let s=0;for(let i in n){const l=(n[i]||0)-(o[i]||0);s+=l*l}return Math.sqrt(s)},input:ir,interpolate:xh,limits:pD,mix:xh,random:()=>{let e="#";for(let r=0;r<6;r++)e+="0123456789abcdef".charAt(H2t(16*V2t()));return new Ze(e,"hex")},scale:o7,scales:O2t,valid:(...e)=>{try{return new Ze(...e),!0}catch{return!1}}});const Vo=Tr;let nst=(()=>{class e{static getColor(t){return document.documentElement.style.getPropertyValue(`--color-${t}`)}static generateBgOpacityClasses(t,n,o=[0,10,25,50,75]){const s=Vo(n),i=document.createElement("style");i.innerHTML=o.reduce((l,a)=>(l+=`.bg-${t}-opacity-${a}{background-color:${s.alpha(a/100).css()};}`)+`.hover-bg-${t}-opacity-${a}:hover {background-color:${s.alpha(a/100).css()};}`,""),document.getElementsByTagName("head")[0].appendChild(i)}static applyCssVariables(t,n,o,s,i,l,a){const c=(p,f)=>{document.documentElement.style.setProperty(`--color-${p}`,f.css())},h=Vo("black"),u=Vo("white");c("primary",Vo(t)),c("primary-lighter",Vo.scale([t,u]).mode("lab")(.3)),c("primary-lightest",Vo.scale([t,u]).mode("lab")(.6)),c("primary-white",Vo.scale([t,u]).mode("lab")(.85)),c("primary-darker",Vo.scale([t,h]).mode("lab")(.3)),c("primary-darkest",Vo.scale([t,h]).mode("lab")(.6)),c("primary-black",Vo.scale([t,h]).mode("lab")(.85)),c("secondary",Vo(n)),c("secondary-lighter",Vo.scale([n,u]).mode("lab")(.3)),c("secondary-lightest",Vo.scale([n,u]).mode("lab")(.6)),c("secondary-white",Vo.scale([n,u]).mode("lab")(.85)),c("secondary-darker",Vo.scale([n,h]).mode("lab")(.3)),c("secondary-darkest",Vo.scale([n,h]).mode("lab")(.6)),c("secondary-black",Vo.scale([n,h]).mode("lab")(.85)),c("main",Vo(o)),c("background",Vo(s));const d=Vo.scale([s,o]).mode("lrgb");if(c("gray-50",d(.05)),c("gray-100",d(.1)),c("gray-200",d(.2)),c("gray-300",d(.3)),c("gray-400",d(.4)),c("gray-500",d(.5)),c("gray-600",d(.6)),c("gray-700",d(.7)),c("gray-800",d(.8)),c("gray-900",d(.9)),c("gray-950",d(.95)),i&&document.documentElement.style.setProperty("--font-family-main",i),l&&document.documentElement.style.setProperty("--font-family-title",l),a){const p=document.createElement("link");p.href=a,p.rel="stylesheet",p.type="text/css",document.head.append(p)}}static generateLabelColor(t,n,o){let s=0;for(let i=0;i<t.length;i++)s+=t.charCodeAt(i);return Vo.hsl(s%360,n,o).css()}static setFavicon(t){const n=document.querySelector("link[rel*='icon']")||document.createElement("link");n.rel="icon",n.href=t,document.getElementsByTagName("head")[0].appendChild(n)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();new ye("proxyPath");var e,rk=Object.defineProperty,lst=Object.getOwnPropertyDescriptor,ast=Object.getOwnPropertyNames,cst=Object.prototype.hasOwnProperty,ND={};((e,r)=>{for(var t in r)rk(e,t,{get:r[t],enumerable:!0})})(ND,{XmlCdata:()=>UD,XmlComment:()=>$D,XmlDeclaration:()=>YD,XmlDocument:()=>XD,XmlDocumentType:()=>KD,XmlElement:()=>u7,XmlError:()=>qD,XmlNode:()=>rn,XmlProcessingInstruction:()=>sk,XmlText:()=>ok,parseXml:()=>yst}),e=ND,((e,r,t,n)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let o of ast(r))!cst.call(e,o)&&undefined!==o&&rk(e,o,{get:()=>r[o],enumerable:!(n=lst(r,o))||n.enumerable})})(rk({},"__esModule",{value:!0}),e);var pst=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gst=class{constructor(e){if(this.k=this.q(e,!0),this.d=0,this.length=e.length,this.n=this.k!==this.length,this.m=e,this.n){let r=[];for(let t=0,n=0;n<this.k;++n)r[n]=t,t+=e.codePointAt(t)>65535?2:1;this.y=r}}get z(){return this.d>=this.k}q(e,r=this.n){return r?e.replace(pst,"_").length:e.length}g(e=1){this.d=Math.min(this.k,this.d+e)}i(e=this.d){var r;return this.n?null!=(r=this.y[e])?r:1/0:e}F(e=1){let r=this.h(e);return this.g(e),r}G(e){if(!e.sticky)throw new Error('`regex` must have a sticky flag ("y")');e.lastIndex=this.i();let r=e.exec(this.m);if(null===r||0===r.length)return"";let t=r[0];return this.g(this.q(t)),t}v(e){let r,t="";for(;(r=this.h())&&e(r);)t+=r,this.g();return t}Q(e){if(this.b(e))return e;if(this.n){let{length:r}=e,t=this.q(e);if(t!==r&&e===this.h(t))return this.g(t),e}return""}b(e){let{length:r}=e;return this.h(r)===e?(this.g(r),e):""}A(e){let r=this.m.slice(this.i()),t=r.search(e);if(t<=0)return"";let n=r.slice(0,t);return this.g(this.q(n)),n}t(e){let{m:r}=this,t=this.i(),n=r.indexOf(e,t);if(n<=0)return"";let o=r.slice(t,n);return this.g(this.q(o)),o}h(e=1){let{d:r,n:t,m:n}=this;return t?r>=this.k?"":n.slice(this.i(r),this.i(r+e)):n.slice(r,r+e)}o(e=0){this.d=e>=0?Math.min(this.k,e):Math.max(0,this.d+e)}},vst=/[^"&<]+/y,fst=/[^'&<]+/y,mst=/\r\n|[\n\r\t]/g,wst=/<|&|]]>/,Cst=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function OD(e){let r=nk(e);return r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||45===r||46===r||183===r||r>=768&&r<=879||r>=8255&&r<=8256||ZD(e,r)}function ZD(e,r=nk(e)){return r>=97&&r<=122||r>=65&&r<=90||58===r||95===r||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8204&&r<=8205||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}function kst(e){return"#"===e||OD(e)}function _st(e){let r=nk(e);return 32===r||9===r||10===r||13===r}function GD(e){return 9===e||10===e||13===e||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}function nk(e){return e.codePointAt(0)||-1}var WD=class{constructor(){this.parent=null,this.start=-1,this.end=-1}get document(){var e,r;return null!=(r=null==(e=this.parent)?void 0:e.document)?r:null}get isRootNode(){return null!==this.parent&&this.parent===this.document&&this.type===WD.TYPE_ELEMENT}get preserveWhitespace(){var e;return!(null==(e=this.parent)||!e.preserveWhitespace)}get type(){return""}toJSON(){let e={type:this.type};return this.isRootNode&&(e.isRootNode=!0),this.preserveWhitespace&&(e.preserveWhitespace=!0),-1!==this.start&&(e.start=this.start,e.end=this.end),e}},rn=WD;rn.TYPE_CDATA="cdata",rn.TYPE_COMMENT="comment",rn.TYPE_DOCUMENT="document",rn.TYPE_DOCUMENT_TYPE="doctype",rn.TYPE_ELEMENT="element",rn.TYPE_PROCESSING_INSTRUCTION="pi",rn.TYPE_TEXT="text",rn.TYPE_XML_DECLARATION="xmldecl";var ok=class extends rn{constructor(e=""){super(),this.text=e}get type(){return rn.TYPE_TEXT}toJSON(){return Object.assign(rn.prototype.toJSON.call(this),{text:this.text})}},UD=class extends ok{get type(){return rn.TYPE_CDATA}},$D=class extends rn{constructor(e=""){super(),this.content=e}get type(){return rn.TYPE_COMMENT}toJSON(){return Object.assign(rn.prototype.toJSON.call(this),{content:this.content})}},YD=class extends rn{constructor(e,r,t){super(),this.version=e,this.encoding=r??null,this.standalone=t??null}get type(){return rn.TYPE_XML_DECLARATION}toJSON(){let e=rn.prototype.toJSON.call(this);e.version=this.version;for(let r of["encoding","standalone"])null!==this[r]&&(e[r]=this[r]);return e}},u7=class extends rn{constructor(e,r=Object.create(null),t=[]){super(),this.name=e,this.attributes=r,this.children=t}get isEmpty(){return 0===this.children.length}get preserveWhitespace(){let e=this;for(;e instanceof u7;){if("xml:space"in e.attributes)return"preserve"===e.attributes["xml:space"];e=e.parent}return!1}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return rn.TYPE_ELEMENT}toJSON(){return Object.assign(rn.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(e=>e.toJSON())})}},XD=class extends rn{constructor(e=[]){super(),this.children=e}get document(){return this}get root(){for(let e of this.children)if(e instanceof u7)return e;return null}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return rn.TYPE_DOCUMENT}toJSON(){return Object.assign(rn.prototype.toJSON.call(this),{children:this.children.map(e=>e.toJSON())})}},KD=class extends rn{constructor(e,r,t,n){super(),this.name=e,this.publicId=r??null,this.systemId=t??null,this.internalSubset=n??null}get type(){return rn.TYPE_DOCUMENT_TYPE}toJSON(){let e=rn.prototype.toJSON.call(this);e.name=this.name;for(let r of["publicId","systemId","internalSubset"])null!==this[r]&&(e[r]=this[r]);return e}},qD=class extends Error{constructor(e,r,t){let n=1,o="",s=1;for(let a=0;a<r;++a){let c=t[a];"\n"===c?(n=1,o="",s+=1):(n+=1,o+=c)}let i=t.indexOf("\n",r);o+=-1===i?t.slice(r):t.slice(r,i);let l=0;o.length>50&&(n<40?o=o.slice(0,50):(l=n-20,o=o.slice(l,n+30))),super(`${e} (line ${s}, column ${n})\n  ${o}\n`+" ".repeat(n-l+1)+"^\n"),this.column=n,this.excerpt=o,this.line=s,this.name="XmlError",this.pos=r}},sk=class extends rn{constructor(e,r=""){super(),this.name=e,this.content=r}get type(){return rn.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(rn.prototype.toJSON.call(this),{name:this.name,content:this.content})}},Mst=class{constructor(e,r={}){let t=this.document=new XD,n=this.c=new gst(e);if(this.l=t,this.f=r,this.f.includeOffsets&&(t.start=0,t.end=e.length),n.b("\ufeff"),this.H(),!this.B())throw this.a("Root element is missing or invalid");for(;this.w(););if(!n.z)throw this.a("Extra content at the end of the document")}j(e,r){return e.parent=this.l,this.f.includeOffsets&&(e.start=this.c.i(r),e.end=this.c.i()),this.l.children.push(e),!0}x(e,r){let{children:t}=this.l,{length:n}=t;if(e=d7(e),n>0){let o=t[n-1];if(o?.type===rn.TYPE_TEXT){let s=o;return s.text+=e,this.f.includeOffsets&&(s.end=this.c.i()),!0}}return this.j(new ok(e),r)}I(){let e=Object.create(null);for(;this.e();){let r=this.r();if(!r)break;let t=this.u()&&this.J();if(!1===t)throw this.a("Attribute value expected");if(r in e)throw this.a(`Duplicate attribute: ${r}`);if("xml:space"===r&&"default"!==t&&"preserve"!==t)throw this.a('Value of the `xml:space` attribute must be "default" or "preserve"');e[r]=t}if(this.f.sortAttributes){let r=Object.keys(e).sort(),t=Object.create(null);for(let n=0;n<r.length;++n){let o=r[n];t[o]=e[o]}e=t}return e}J(){let{c:e}=this,r=e.h();if('"'!==r&&"'"!==r)return!1;e.g();let t,n=!1,o="",s='"'===r?vst:fst;t:for(;!e.z;)switch(t=e.G(s),t&&(this.p(t),o+=t.replace(mst," ")),e.h()){case r:n=!0;break t;case"&":o+=this.C();continue;case"<":throw this.a("Unescaped `<` is not allowed in an attribute value");case"":break t}if(!n)throw this.a("Unclosed attribute");return e.g(),o}K(){let{c:e}=this,r=e.d;if(!e.b("<![CDATA["))return!1;let t=e.t("]]>");if(this.p(t),!e.b("]]>"))throw this.a("Unclosed CDATA section");return this.f.preserveCdata?this.j(new UD(d7(t)),r):this.x(t,r)}L(){let{c:e}=this,r=e.d,t=e.A(wst);if(!t)return!1;if(this.p(t),"]]>"===e.h(3))throw this.a("Element content may not contain the CDATA section close delimiter `]]>`");return this.x(t,r)}D(){let{c:e}=this,r=e.d;if(!e.b("\x3c!--"))return!1;let t=e.t("--");if(this.p(t),!e.b("--\x3e"))throw"--"===e.h(2)?this.a("The string `--` isn't allowed inside a comment"):this.a("Unclosed comment");return!this.f.preserveComments||this.j(new $D(d7(t)),r)}M(){let e=this.c.d,r=this.C();return!!r&&this.x(r,e)}N(){let{c:e}=this,r=e.d;if(!e.b("<!DOCTYPE"))return!1;let n,o,s,t=this.e()&&this.r();if(!t)throw this.a("Expected a name");if(this.e()){if(e.b("PUBLIC")){if(n=this.e()&&this.O(),!1===n)throw this.a("Expected a public identifier");this.e()}if(void 0!==n||e.b("SYSTEM")){if(this.e(),o=this.s(),!1===o)throw this.a("Expected a system identifier");this.e()}}if(e.b("[")){if(s=e.A(/\][\x20\t\r\n]*>/),!e.b("]"))throw this.a("Unclosed internal subset");this.e()}if(!e.b(">"))throw this.a("Unclosed doctype declaration");return!this.f.preserveDocumentType||this.j(new KD(t,n,o,s),r)}B(){let{c:e}=this,r=e.d;if(!e.b("<"))return!1;let t=this.r();if(!t)return e.o(r),!1;let n=this.I(),o=!!e.b("/>"),s=new u7(t,n);if(s.parent=this.l,!o){if(!e.b(">"))throw this.a(`Unclosed start tag for element \`${t}\``);this.l=s;do{this.L()}while(this.B()||this.M()||this.K()||this.E()||this.D());let l,i=e.d;if(!e.b("</")||!(l=this.r())||l!==t)throw e.o(i),this.a(`Missing end tag for element ${t}`);if(this.e(),!e.b(">"))throw this.a(`Unclosed end tag for element ${t}`);this.l=s.parent}return this.j(s,r)}u(){return this.e(),!!this.c.b("=")&&(this.e(),!0)}w(){return this.D()||this.E()||this.e()}r(){return ZD(this.c.h())?this.c.v(OD):""}E(){let{c:e}=this,r=e.d;if(!e.b("<?"))return!1;let t=this.r();if(!t)throw this.a("Invalid processing instruction");if("xml"===t.toLowerCase())throw e.o(r),this.a("XML declaration isn't allowed here");if(!this.e()){if(e.b("?>"))return this.j(new sk(t),r);throw this.a("Whitespace is required after a processing instruction name")}let n=e.t("?>");if(this.p(n),!e.b("?>"))throw this.a("Unterminated processing instruction");return this.j(new sk(t,d7(n)),r)}H(){let{c:e}=this,r=e.d;for(this.P();this.w(););if(this.N())for(;this.w(););return r<e.d}O(){let e=this.c.d,r=this.s();if(!1!==r&&!/^[-\x20\r\na-zA-Z0-9'()+,./:=?;!*#@$_%]*$/.test(r))throw this.c.o(e),this.a("Invalid character in public identifier");return r}C(){let{c:e}=this;if(!e.b("&"))return!1;let t,r=e.v(kst);if(";"!==e.F())throw this.a("Unterminated reference (a reference must end with `;`)");if("#"===r[0]){let n="x"===r[1]?parseInt(r.slice(2),16):parseInt(r.slice(1),10);if(isNaN(n))throw this.a("Invalid character reference");if(!GD(n))throw this.a("Character reference resolves to an invalid character");t=String.fromCodePoint(n)}else if(t=Cst[r],void 0===t){let{ignoreUndefinedEntities:n,resolveUndefinedEntity:o}=this.f,s=`&${r};`;if(o){let i=o(s);if(null!=i){let l=typeof i;if("string"!==l)throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${l}`);return i}}if(n)return s;throw e.o(-s.length),this.a(`Named entity isn't defined: ${s}`)}return t}s(){let{c:e}=this,r=e.b('"')||e.b("'");if(!r)return!1;let t=e.t(r);if(this.p(t),!e.b(r))throw this.a("Missing end quote");return t}e(){return!!this.c.v(_st)}P(){let{c:e}=this,r=e.d;if(!e.b("<?xml"))return!1;if(!this.e())throw this.a("Invalid XML declaration");let n,o,t=!!e.b("version")&&this.u()&&this.s();if(!1===t)throw this.a("XML version is missing or invalid");if(!/^1\.[0-9]+$/.test(t))throw this.a("Invalid character in version number");if(this.e()&&(n=!!e.b("encoding")&&this.u()&&this.s(),n&&this.e(),o=!!e.b("standalone")&&this.u()&&this.s(),o)){if("yes"!==o&&"no"!==o)throw this.a('Only "yes" and "no" are permitted as values of `standalone`');this.e()}if(!e.b("?>"))throw this.a("Invalid or unclosed XML declaration");return!this.f.preserveXmlDeclaration||this.j(new YD(t,n||void 0,o||void 0),r)}a(e){let{c:r}=this;return new qD(e,r.d,r.m)}p(e){let{length:r}=e;for(let t=0;t<r;++t){let n=e.codePointAt(t);if(!GD(n))throw this.c.o(-([...e].length-t)),this.a("Invalid character");n>65535&&(t+=1)}}};function d7(e){let r=0;for(;-1!==(r=e.indexOf("\r",r));)e="\n"===e[r+1]?e.slice(0,r)+e.slice(r+1):e.slice(0,r)+"\n"+e.slice(r+1);return e}function yst(e,r){return new Mst(e,r).document}typeof window<"u"&&window.Blob&&new Blob([atob("KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICBmdW5jdGlvbiBhZGRUYXNrSGFuZGxlcih0YXNrTmFtZSwgc2NvcGUsIGhhbmRsZXIpIHsKICAgIGNvbnN0IHVzZVdvcmtlciA9IHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gInVuZGVmaW5lZCI7CiAgICBjb25zdCBldmVudEhhbmRsZXIgPSBhc3luYyAocmVxdWVzdCkgPT4gewogICAgICBpZiAocmVxdWVzdC50YXNrTmFtZSA9PT0gdGFza05hbWUpIHsKICAgICAgICBsZXQgcmVzcG9uc2UsIGVycm9yOwogICAgICAgIHRyeSB7CiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IGhhbmRsZXIocmVxdWVzdC5wYXJhbXMpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIGVycm9yID0gZTsKICAgICAgICB9CiAgICAgICAgY29uc3QgbWVzc2FnZSA9ICgKICAgICAgICAgIC8qKiBAdHlwZSB7V29ya2VyUmVzcG9uc2V9ICovCiAgICAgICAgICB7CiAgICAgICAgICAgIHRhc2tOYW1lLAogICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QucmVxdWVzdElkLAogICAgICAgICAgICAuLi5yZXNwb25zZSAmJiB7IHJlc3BvbnNlIH0sCiAgICAgICAgICAgIC4uLmVycm9yICYmIHsgZXJyb3IgfQogICAgICAgICAgfQogICAgICAgICk7CiAgICAgICAgaWYgKHVzZVdvcmtlcikgewogICAgICAgICAgc2NvcGUucG9zdE1lc3NhZ2UobWVzc2FnZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoCiAgICAgICAgICAgIG5ldyBDdXN0b21FdmVudCgib2djLWNsaWVudC5yZXNwb25zZSIsIHsKICAgICAgICAgICAgICBkZXRhaWw6IG1lc3NhZ2UKICAgICAgICAgICAgfSkKICAgICAgICAgICk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgaWYgKHVzZVdvcmtlcikgewogICAgICBzY29wZS5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwgKGV2ZW50KSA9PiBldmVudEhhbmRsZXIoZXZlbnQuZGF0YSkpOwogICAgfSBlbHNlIHsKICAgICAgc2NvcGUuYWRkRXZlbnRMaXN0ZW5lcigKICAgICAgICAib2djLWNsaWVudC5yZXF1ZXN0IiwKICAgICAgICAoZXZlbnQpID0+IGV2ZW50SGFuZGxlcihldmVudC5kZXRhaWwpCiAgICAgICk7CiAgICB9CiAgfQogIC8qISBAcmdyb3ZlL3BhcnNlLXhtbCB2NC4xLjAgfCBJU0MgTGljZW5zZSB8IENvcHlyaWdodCBSeWFuIEdyb3ZlICovCiAgdmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTsKICB2YXIgX19nZXRPd25Qcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7CiAgdmFyIF9fZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7CiAgdmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7CiAgdmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKSA9PiB7CiAgICBmb3IgKHZhciBuYW1lIGluIGFsbCkKICAgICAgX19kZWZQcm9wKHRhcmdldCwgbmFtZSwgeyBnZXQ6IGFsbFtuYW1lXSwgZW51bWVyYWJsZTogdHJ1ZSB9KTsKICB9OwogIHZhciBfX2NvcHlQcm9wcyA9ICh0bywgZnJvbSwgZXhjZXB0LCBkZXNjKSA9PiB7CiAgICBpZiAoZnJvbSAmJiB0eXBlb2YgZnJvbSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGZyb20gPT09ICJmdW5jdGlvbiIpIHsKICAgICAgZm9yIChsZXQga2V5IG9mIF9fZ2V0T3duUHJvcE5hbWVzKGZyb20pKQogICAgICAgIGlmICghX19oYXNPd25Qcm9wLmNhbGwodG8sIGtleSkgJiYga2V5ICE9PSBleGNlcHQpCiAgICAgICAgICBfX2RlZlByb3AodG8sIGtleSwgeyBnZXQ6ICgpID0+IGZyb21ba2V5XSwgZW51bWVyYWJsZTogIShkZXNjID0gX19nZXRPd25Qcm9wRGVzYyhmcm9tLCBrZXkpKSB8fCBkZXNjLmVudW1lcmFibGUgfSk7CiAgICB9CiAgICByZXR1cm4gdG87CiAgfTsKICB2YXIgX190b0NvbW1vbkpTID0gKG1vZCkgPT4gX19jb3B5UHJvcHMoX19kZWZQcm9wKHt9LCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSksIG1vZCk7CiAgdmFyIHNyY19leHBvcnRzID0ge307CiAgX19leHBvcnQoc3JjX2V4cG9ydHMsIHsKICAgIFhtbENkYXRhOiAoKSA9PiBYbWxDZGF0YSwKICAgIFhtbENvbW1lbnQ6ICgpID0+IFhtbENvbW1lbnQsCiAgICBYbWxEZWNsYXJhdGlvbjogKCkgPT4gWG1sRGVjbGFyYXRpb24sCiAgICBYbWxEb2N1bWVudDogKCkgPT4gWG1sRG9jdW1lbnQsCiAgICBYbWxEb2N1bWVudFR5cGU6ICgpID0+IFhtbERvY3VtZW50VHlwZSwKICAgIFhtbEVsZW1lbnQ6ICgpID0+IFhtbEVsZW1lbnQsCiAgICBYbWxFcnJvcjogKCkgPT4gWG1sRXJyb3IsCiAgICBYbWxOb2RlOiAoKSA9PiBYbWxOb2RlLAogICAgWG1sUHJvY2Vzc2luZ0luc3RydWN0aW9uOiAoKSA9PiBYbWxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sCiAgICBYbWxUZXh0OiAoKSA9PiBYbWxUZXh0LAogICAgcGFyc2VYbWw6ICgpID0+IHBhcnNlWG1sCiAgfSk7CiAgdmFyIGJyb3dzZXIgPSBfX3RvQ29tbW9uSlMoc3JjX2V4cG9ydHMpOwogIHZhciBlbXB0eVN0cmluZyA9ICIiOwogIHZhciBzdXJyb2dhdGVQYWlyID0gL1tcdUQ4MDAtXHVEQkZGXVtcdURDMDAtXHVERkZGXS9nOwogIHZhciBTdHJpbmdTY2FubmVyID0gY2xhc3MgewogICAgY29uc3RydWN0b3Ioc3RyaW5nKSB7CiAgICAgIHRoaXMuayA9IHRoaXMucShzdHJpbmcsIHRydWUpOwogICAgICB0aGlzLmQgPSAwOwogICAgICB0aGlzLmxlbmd0aCA9IHN0cmluZy5sZW5ndGg7CiAgICAgIHRoaXMubiA9IHRoaXMuayAhPT0gdGhpcy5sZW5ndGg7CiAgICAgIHRoaXMubSA9IHN0cmluZzsKICAgICAgaWYgKHRoaXMubikgewogICAgICAgIGxldCBjaGFyc1RvQnl0ZXMgPSBbXTsKICAgICAgICBmb3IgKGxldCBieXRlSW5kZXggPSAwLCBjaGFySW5kZXggPSAwOyBjaGFySW5kZXggPCB0aGlzLms7ICsrY2hhckluZGV4KSB7CiAgICAgICAgICBjaGFyc1RvQnl0ZXNbY2hhckluZGV4XSA9IGJ5dGVJbmRleDsKICAgICAgICAgIGJ5dGVJbmRleCArPSBzdHJpbmcuY29kZVBvaW50QXQoYnl0ZUluZGV4KSA+IDY1NTM1ID8gMiA6IDE7CiAgICAgICAgfQogICAgICAgIHRoaXMueSA9IGNoYXJzVG9CeXRlczsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRoZSBjdXJyZW50IGNoYXJhY3RlciBpbmRleCBpcyBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCBzdHJpbmcuCiAgICAgKi8KICAgIGdldCB6KCkgewogICAgICByZXR1cm4gdGhpcy5kID49IHRoaXMuazsKICAgIH0KICAgIC8vIC0tIFByb3RlY3RlZCBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBpbiB0aGUgZ2l2ZW4gc3RyaW5nLCB3aGljaCBtYXkgZGlmZmVyIGZyb20KICAgICAqIHRoZSBieXRlIGxlbmd0aCBpZiB0aGUgc3RyaW5nIGNvbnRhaW5zIG11bHRpYnl0ZSBjaGFyYWN0ZXJzLgogICAgICovCiAgICBxKHN0cmluZywgbXVsdGlCeXRlU2FmZSA9IHRoaXMubikgewogICAgICByZXR1cm4gbXVsdGlCeXRlU2FmZSA/IHN0cmluZy5yZXBsYWNlKHN1cnJvZ2F0ZVBhaXIsICJfIikubGVuZ3RoIDogc3RyaW5nLmxlbmd0aDsKICAgIH0KICAgIC8vIC0tIFB1YmxpYyBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLyoqCiAgICAgKiBBZHZhbmNlcyB0aGUgc2Nhbm5lciBieSB0aGUgZ2l2ZW4gbnVtYmVyIG9mIGNoYXJhY3RlcnMsIHN0b3BwaW5nIGlmIHRoZSBlbmQKICAgICAqIG9mIHRoZSBzdHJpbmcgaXMgcmVhY2hlZC4KICAgICAqLwogICAgZyhjb3VudCA9IDEpIHsKICAgICAgdGhpcy5kID0gTWF0aC5taW4odGhpcy5rLCB0aGlzLmQgKyBjb3VudCk7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGJ5dGUgaW5kZXggb2YgdGhlIGdpdmVuIGNoYXJhY3RlciBpbmRleCBpbiB0aGUgc3RyaW5nLiBUaGUgdHdvCiAgICAgKiBtYXkgZGlmZmVyIGluIHN0cmluZ3MgdGhhdCBjb250YWluIG11bHRpYnl0ZSBjaGFyYWN0ZXJzLgogICAgICovCiAgICBpKGNoYXJJbmRleCA9IHRoaXMuZCkgewogICAgICB2YXIgX2E7CiAgICAgIHJldHVybiB0aGlzLm4gPyAoX2EgPSB0aGlzLnlbY2hhckluZGV4XSkgIT0gbnVsbCA/IF9hIDogSW5maW5pdHkgOiBjaGFySW5kZXg7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGFuZCByZXR1cm5zIHRoZSBnaXZlbiBudW1iZXIgb2YgY2hhcmFjdGVycyBpZiBwb3NzaWJsZSwgYWR2YW5jaW5nCiAgICAgKiB0aGUgc2Nhbm5lciBhbmQgc3RvcHBpbmcgaWYgdGhlIGVuZCBvZiB0aGUgc3RyaW5nIGlzIHJlYWNoZWQuCiAgICAgKgogICAgICogSWYgbm8gY2hhcmFjdGVycyBjb3VsZCBiZSBjb25zdW1lZCwgYW4gZW1wdHkgc3RyaW5nIHdpbGwgYmUgcmV0dXJuZWQuCiAgICAgKi8KICAgIEYoY291bnQgPSAxKSB7CiAgICAgIGxldCBjaGFycyA9IHRoaXMuaChjb3VudCk7CiAgICAgIHRoaXMuZyhjb3VudCk7CiAgICAgIHJldHVybiBjaGFyczsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYSBtYXRjaCBmb3IgdGhlIGdpdmVuIHN0aWNreSByZWdleCwgYWR2YW5jZXMgdGhlIHNjYW5uZXIsIHVwZGF0ZXMKICAgICAqIHRoZSBgbGFzdEluZGV4YCBwcm9wZXJ0eSBvZiB0aGUgcmVnZXgsIGFuZCByZXR1cm5zIHRoZSBtYXRjaGluZyBzdHJpbmcuCiAgICAgKgogICAgICogVGhlIHJlZ2V4IG11c3QgaGF2ZSBhIHN0aWNreSBmbGFnICgieSIpIHNvIHRoYXQgaXRzIGBsYXN0SW5kZXhgIHByb3AgY2FuIGJlCiAgICAgKiB1c2VkIHRvIGFuY2hvciB0aGUgbWF0Y2ggYXQgdGhlIGN1cnJlbnQgc2Nhbm5lciBwb3NpdGlvbi4KICAgICAqCiAgICAgKiBSZXR1cm5zIHRoZSBjb25zdW1lZCBzdHJpbmcsIG9yIGFuIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBjb25zdW1lZC4KICAgICAqLwogICAgRyhyZWdleCkgewogICAgICBpZiAoIXJlZ2V4LnN0aWNreSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignYHJlZ2V4YCBtdXN0IGhhdmUgYSBzdGlja3kgZmxhZyAoInkiKScpOwogICAgICB9CiAgICAgIHJlZ2V4Lmxhc3RJbmRleCA9IHRoaXMuaSgpOwogICAgICBsZXQgcmVzdWx0ID0gcmVnZXguZXhlYyh0aGlzLm0pOwogICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdC5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gZW1wdHlTdHJpbmc7CiAgICAgIH0KICAgICAgbGV0IG1hdGNoID0gcmVzdWx0WzBdOwogICAgICB0aGlzLmcodGhpcy5xKG1hdGNoKSk7CiAgICAgIHJldHVybiBtYXRjaDsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYW5kIHJldHVybnMgYWxsIGNoYXJhY3RlcnMgZm9yIHdoaWNoIHRoZSBnaXZlbiBmdW5jdGlvbiByZXR1cm5zIGEKICAgICAqIHRydXRoeSB2YWx1ZSwgc3RvcHBpbmcgb24gdGhlIGZpcnN0IGZhbHN5IHJldHVybiB2YWx1ZSBvciBpZiB0aGUgZW5kIG9mIHRoZQogICAgICogaW5wdXQgaXMgcmVhY2hlZC4KICAgICAqLwogICAgdihmbikgewogICAgICBsZXQgY2hhcjsKICAgICAgbGV0IG1hdGNoID0gZW1wdHlTdHJpbmc7CiAgICAgIHdoaWxlICgoY2hhciA9IHRoaXMuaCgpKSAmJiBmbihjaGFyKSkgewogICAgICAgIG1hdGNoICs9IGNoYXI7CiAgICAgICAgdGhpcy5nKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIG1hdGNoOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyB0aGUgZ2l2ZW4gc3RyaW5nIGlmIGl0IGV4aXN0cyBhdCB0aGUgY3VycmVudCBjaGFyYWN0ZXIgaW5kZXgsIGFuZAogICAgICogYWR2YW5jZXMgdGhlIHNjYW5uZXIuCiAgICAgKgogICAgICogSWYgdGhlIGdpdmVuIHN0cmluZyBkb2Vzbid0IGV4aXN0IGF0IHRoZSBjdXJyZW50IGNoYXJhY3RlciBpbmRleCwgYW4gZW1wdHkKICAgICAqIHN0cmluZyB3aWxsIGJlIHJldHVybmVkIGFuZCB0aGUgc2Nhbm5lciB3aWxsIG5vdCBiZSBhZHZhbmNlZC4KICAgICAqLwogICAgUShzdHJpbmdUb0NvbnN1bWUpIHsKICAgICAgaWYgKHRoaXMuYihzdHJpbmdUb0NvbnN1bWUpKSB7CiAgICAgICAgcmV0dXJuIHN0cmluZ1RvQ29uc3VtZTsKICAgICAgfQogICAgICBpZiAodGhpcy5uKSB7CiAgICAgICAgbGV0IHsgbGVuZ3RoIH0gPSBzdHJpbmdUb0NvbnN1bWU7CiAgICAgICAgbGV0IGNoYXJMZW5ndGhUb01hdGNoID0gdGhpcy5xKHN0cmluZ1RvQ29uc3VtZSk7CiAgICAgICAgaWYgKGNoYXJMZW5ndGhUb01hdGNoICE9PSBsZW5ndGggJiYgc3RyaW5nVG9Db25zdW1lID09PSB0aGlzLmgoY2hhckxlbmd0aFRvTWF0Y2gpKSB7CiAgICAgICAgICB0aGlzLmcoY2hhckxlbmd0aFRvTWF0Y2gpOwogICAgICAgICAgcmV0dXJuIHN0cmluZ1RvQ29uc3VtZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGVtcHR5U3RyaW5nOwogICAgfQogICAgLyoqCiAgICAgKiBEb2VzIHRoZSBzYW1lIHRoaW5nIGFzIGBjb25zdW1lU3RyaW5nKClgLCBidXQgZG9lc24ndCBzdXBwb3J0IGNvbnN1bWluZwogICAgICogbXVsdGlieXRlIGNoYXJhY3RlcnMuIFRoaXMgY2FuIGJlIGZhc3RlciBpZiB5b3Ugb25seSBuZWVkIHRvIG1hdGNoIHNpbmdsZQogICAgICogYnl0ZSBjaGFyYWN0ZXJzLgogICAgICovCiAgICBiKHN0cmluZ1RvQ29uc3VtZSkgewogICAgICBsZXQgeyBsZW5ndGggfSA9IHN0cmluZ1RvQ29uc3VtZTsKICAgICAgaWYgKHRoaXMuaChsZW5ndGgpID09PSBzdHJpbmdUb0NvbnN1bWUpIHsKICAgICAgICB0aGlzLmcobGVuZ3RoKTsKICAgICAgICByZXR1cm4gc3RyaW5nVG9Db25zdW1lOwogICAgICB9CiAgICAgIHJldHVybiBlbXB0eVN0cmluZzsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgY2hhcmFjdGVycyB1bnRpbCB0aGUgZ2l2ZW4gZ2xvYmFsIHJlZ2V4IGlzIG1hdGNoZWQsIGFkdmFuY2luZyB0aGUKICAgICAqIHNjYW5uZXIgdXAgdG8gKGJ1dCBub3QgYmV5b25kKSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBtYXRjaC4gSWYgdGhlIHJlZ2V4CiAgICAgKiBkb2Vzbid0IG1hdGNoLCBub3RoaW5nIHdpbGwgYmUgY29uc3VtZWQuCiAgICAgKgogICAgICogUmV0dXJucyB0aGUgY29uc3VtZWQgc3RyaW5nLCBvciBhbiBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgY29uc3VtZWQuCiAgICAgKi8KICAgIEEocmVnZXgpIHsKICAgICAgbGV0IHJlc3RPZlN0cmluZyA9IHRoaXMubS5zbGljZSh0aGlzLmkoKSk7CiAgICAgIGxldCBtYXRjaEJ5dGVJbmRleCA9IHJlc3RPZlN0cmluZy5zZWFyY2gocmVnZXgpOwogICAgICBpZiAobWF0Y2hCeXRlSW5kZXggPD0gMCkgewogICAgICAgIHJldHVybiBlbXB0eVN0cmluZzsKICAgICAgfQogICAgICBsZXQgcmVzdWx0ID0gcmVzdE9mU3RyaW5nLnNsaWNlKDAsIG1hdGNoQnl0ZUluZGV4KTsKICAgICAgdGhpcy5nKHRoaXMucShyZXN1bHQpKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgY2hhcmFjdGVycyB1bnRpbCB0aGUgZ2l2ZW4gc3RyaW5nIGlzIGZvdW5kLCBhZHZhbmNpbmcgdGhlIHNjYW5uZXIKICAgICAqIHVwIHRvIChidXQgbm90IGJleW9uZCkgdGhhdCBwb2ludC4gSWYgdGhlIHN0cmluZyBpcyBuZXZlciBmb3VuZCwgbm90aGluZwogICAgICogd2lsbCBiZSBjb25zdW1lZC4KICAgICAqCiAgICAgKiBSZXR1cm5zIHRoZSBjb25zdW1lZCBzdHJpbmcsIG9yIGFuIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBjb25zdW1lZC4KICAgICAqLwogICAgdChzZWFyY2hTdHJpbmcpIHsKICAgICAgbGV0IHsgbTogc3RyaW5nIH0gPSB0aGlzOwogICAgICBsZXQgYnl0ZUluZGV4ID0gdGhpcy5pKCk7CiAgICAgIGxldCBtYXRjaEJ5dGVJbmRleCA9IHN0cmluZy5pbmRleE9mKHNlYXJjaFN0cmluZywgYnl0ZUluZGV4KTsKICAgICAgaWYgKG1hdGNoQnl0ZUluZGV4IDw9IDApIHsKICAgICAgICByZXR1cm4gZW1wdHlTdHJpbmc7CiAgICAgIH0KICAgICAgbGV0IHJlc3VsdCA9IHN0cmluZy5zbGljZShieXRlSW5kZXgsIG1hdGNoQnl0ZUluZGV4KTsKICAgICAgdGhpcy5nKHRoaXMucShyZXN1bHQpKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgZ2l2ZW4gbnVtYmVyIG9mIGNoYXJhY3RlcnMgc3RhcnRpbmcgYXQgdGhlIGN1cnJlbnQgY2hhcmFjdGVyCiAgICAgKiBpbmRleCwgd2l0aG91dCBhZHZhbmNpbmcgdGhlIHNjYW5uZXIgYW5kIHdpdGhvdXQgZXhjZWVkaW5nIHRoZSBlbmQgb2YgdGhlCiAgICAgKiBpbnB1dCBzdHJpbmcuCiAgICAgKi8KICAgIGgoY291bnQgPSAxKSB7CiAgICAgIGxldCB7IGQ6IGNoYXJJbmRleCwgbjogbXVsdGlCeXRlTW9kZSwgbTogc3RyaW5nIH0gPSB0aGlzOwogICAgICBpZiAobXVsdGlCeXRlTW9kZSkgewogICAgICAgIGlmIChjaGFySW5kZXggPj0gdGhpcy5rKSB7CiAgICAgICAgICByZXR1cm4gZW1wdHlTdHJpbmc7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UoCiAgICAgICAgICB0aGlzLmkoY2hhckluZGV4KSwKICAgICAgICAgIHRoaXMuaShjaGFySW5kZXggKyBjb3VudCkKICAgICAgICApOwogICAgICB9CiAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UoY2hhckluZGV4LCBjaGFySW5kZXggKyBjb3VudCk7CiAgICB9CiAgICAvKioKICAgICAqIFJlc2V0cyB0aGUgc2Nhbm5lciBwb3NpdGlvbiB0byB0aGUgZ2l2ZW4gY2hhcmFjdGVyIF9pbmRleF8sIG9yIHRvIHRoZSBzdGFydAogICAgICogb2YgdGhlIGlucHV0IHN0cmluZyBpZiBubyBpbmRleCBpcyBnaXZlbi4KICAgICAqCiAgICAgKiBJZiBfaW5kZXhfIGlzIG5lZ2F0aXZlLCB0aGUgc2Nhbm5lciBwb3NpdGlvbiB3aWxsIGJlIG1vdmVkIGJhY2t3YXJkIGJ5IHRoYXQKICAgICAqIG1hbnkgY2hhcmFjdGVycywgc3RvcHBpbmcgaWYgdGhlIGJlZ2lubmluZyBvZiB0aGUgc3RyaW5nIGlzIHJlYWNoZWQuCiAgICAgKi8KICAgIG8oaW5kZXggPSAwKSB7CiAgICAgIHRoaXMuZCA9IGluZGV4ID49IDAgPyBNYXRoLm1pbih0aGlzLmssIGluZGV4KSA6IE1hdGgubWF4KDAsIHRoaXMuZCArIGluZGV4KTsKICAgIH0KICB9OwogIHZhciBhdHRWYWx1ZUNoYXJEb3VibGVRdW90ZSA9IC9bXiImPF0rL3k7CiAgdmFyIGF0dFZhbHVlQ2hhclNpbmdsZVF1b3RlID0gL1teJyY8XSsveTsKICB2YXIgYXR0VmFsdWVOb3JtYWxpemVkV2hpdGVzcGFjZSA9IC9cclxufFtcblxyXHRdL2c7CiAgdmFyIGVuZENoYXJEYXRhID0gLzx8JnxdXT4vOwogIHZhciBwcmVkZWZpbmVkRW50aXRpZXMgPSBPYmplY3QuZnJlZXplKE9iamVjdC5hc3NpZ24oLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksIHsKICAgIGFtcDogIiYiLAogICAgYXBvczogIiciLAogICAgZ3Q6ICI+IiwKICAgIGx0OiAiPCIsCiAgICBxdW90OiAnIicKICB9KSk7CiAgZnVuY3Rpb24gaXNOYW1lQ2hhcihjaGFyKSB7CiAgICBsZXQgY3AgPSBnZXRDb2RlUG9pbnQoY2hhcik7CiAgICByZXR1cm4gY3AgPj0gOTcgJiYgY3AgPD0gMTIyIHx8IGNwID49IDY1ICYmIGNwIDw9IDkwIHx8IGNwID49IDQ4ICYmIGNwIDw9IDU3IHx8IGNwID09PSA0NSB8fCBjcCA9PT0gNDYgfHwgY3AgPT09IDE4MyB8fCBjcCA+PSA3NjggJiYgY3AgPD0gODc5IHx8IGNwID49IDgyNTUgJiYgY3AgPD0gODI1NiB8fCBpc05hbWVTdGFydENoYXIoY2hhciwgY3ApOwogIH0KICBmdW5jdGlvbiBpc05hbWVTdGFydENoYXIoY2hhciwgY3AgPSBnZXRDb2RlUG9pbnQoY2hhcikpIHsKICAgIHJldHVybiBjcCA+PSA5NyAmJiBjcCA8PSAxMjIgfHwgY3AgPj0gNjUgJiYgY3AgPD0gOTAgfHwgY3AgPT09IDU4IHx8IGNwID09PSA5NSB8fCBjcCA+PSAxOTIgJiYgY3AgPD0gMjE0IHx8IGNwID49IDIxNiAmJiBjcCA8PSAyNDYgfHwgY3AgPj0gMjQ4ICYmIGNwIDw9IDc2NyB8fCBjcCA+PSA4ODAgJiYgY3AgPD0gODkzIHx8IGNwID49IDg5NSAmJiBjcCA8PSA4MTkxIHx8IGNwID49IDgyMDQgJiYgY3AgPD0gODIwNSB8fCBjcCA+PSA4MzA0ICYmIGNwIDw9IDg1OTEgfHwgY3AgPj0gMTEyNjQgJiYgY3AgPD0gMTIyNzEgfHwgY3AgPj0gMTIyODkgJiYgY3AgPD0gNTUyOTUgfHwgY3AgPj0gNjM3NDQgJiYgY3AgPD0gNjQ5NzUgfHwgY3AgPj0gNjUwMDggJiYgY3AgPD0gNjU1MzMgfHwgY3AgPj0gNjU1MzYgJiYgY3AgPD0gOTgzMDM5OwogIH0KICBmdW5jdGlvbiBpc1JlZmVyZW5jZUNoYXIoY2hhcikgewogICAgcmV0dXJuIGNoYXIgPT09ICIjIiB8fCBpc05hbWVDaGFyKGNoYXIpOwogIH0KICBmdW5jdGlvbiBpc1doaXRlc3BhY2UoY2hhcikgewogICAgbGV0IGNwID0gZ2V0Q29kZVBvaW50KGNoYXIpOwogICAgcmV0dXJuIGNwID09PSAzMiB8fCBjcCA9PT0gOSB8fCBjcCA9PT0gMTAgfHwgY3AgPT09IDEzOwogIH0KICBmdW5jdGlvbiBpc1htbENvZGVQb2ludChjcCkgewogICAgcmV0dXJuIGNwID09PSA5IHx8IGNwID09PSAxMCB8fCBjcCA9PT0gMTMgfHwgY3AgPj0gMzIgJiYgY3AgPD0gNTUyOTUgfHwgY3AgPj0gNTczNDQgJiYgY3AgPD0gNjU1MzMgfHwgY3AgPj0gNjU1MzYgJiYgY3AgPD0gMTExNDExMTsKICB9CiAgZnVuY3Rpb24gZ2V0Q29kZVBvaW50KGNoYXIpIHsKICAgIHJldHVybiBjaGFyLmNvZGVQb2ludEF0KDApIHx8IC0xOwogIH0KICB2YXIgX1htbE5vZGUgPSBjbGFzcyB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy5wYXJlbnQgPSBudWxsOwogICAgICB0aGlzLnN0YXJ0ID0gLTE7CiAgICAgIHRoaXMuZW5kID0gLTE7CiAgICB9CiAgICAvKioKICAgICAqIERvY3VtZW50IHRoYXQgY29udGFpbnMgdGhpcyBub2RlLCBvciBgbnVsbGAgaWYgdGhpcyBub2RlIGlzIG5vdCBhc3NvY2lhdGVkCiAgICAgKiB3aXRoIGEgZG9jdW1lbnQuCiAgICAgKi8KICAgIGdldCBkb2N1bWVudCgpIHsKICAgICAgdmFyIF9hLCBfYjsKICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMucGFyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EuZG9jdW1lbnQpICE9IG51bGwgPyBfYiA6IG51bGw7CiAgICB9CiAgICAvKioKICAgICAqIFdoZXRoZXIgdGhpcyBub2RlIGlzIHRoZSByb290IG5vZGUgb2YgdGhlIGRvY3VtZW50IChhbHNvIGtub3duIGFzIHRoZQogICAgICogZG9jdW1lbnQgZWxlbWVudCkuCiAgICAgKi8KICAgIGdldCBpc1Jvb3ROb2RlKCkgewogICAgICByZXR1cm4gdGhpcy5wYXJlbnQgIT09IG51bGwgJiYgdGhpcy5wYXJlbnQgPT09IHRoaXMuZG9jdW1lbnQgJiYgdGhpcy50eXBlID09PSBfWG1sTm9kZS5UWVBFX0VMRU1FTlQ7CiAgICB9CiAgICAvKioKICAgICAqIFdoZXRoZXIgd2hpdGVzcGFjZSBzaG91bGQgYmUgcHJlc2VydmVkIGluIHRoZSBjb250ZW50IG9mIHRoaXMgZWxlbWVudCBhbmQKICAgICAqIGl0cyBjaGlsZHJlbi4KICAgICAqCiAgICAgKiBUaGlzIGlzIGluZmx1ZW5jZWQgYnkgdGhlIHZhbHVlIG9mIHRoZSBzcGVjaWFsIGB4bWw6c3BhY2VgIGF0dHJpYnV0ZSwgYW5kCiAgICAgKiB3aWxsIGJlIGB0cnVlYCBmb3IgYW55IG5vZGUgd2hvc2UgYHhtbDpzcGFjZWAgYXR0cmlidXRlIGlzIHNldCB0bwogICAgICogInByZXNlcnZlIi4gSWYgYSBub2RlIGhhcyBubyBzdWNoIGF0dHJpYnV0ZSwgaXQgd2lsbCBpbmhlcml0IHRoZSB2YWx1ZSBvZgogICAgICogdGhlIG5lYXJlc3QgYW5jZXN0b3IgdGhhdCBkb2VzIChpZiBhbnkpLgogICAgICoKICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jc2VjLXdoaXRlLXNwYWNlCiAgICAgKi8KICAgIGdldCBwcmVzZXJ2ZVdoaXRlc3BhY2UoKSB7CiAgICAgIHZhciBfYTsKICAgICAgcmV0dXJuICEhKChfYSA9IHRoaXMucGFyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EucHJlc2VydmVXaGl0ZXNwYWNlKTsKICAgIH0KICAgIC8qKgogICAgICogVHlwZSBvZiB0aGlzIG5vZGUuCiAgICAgKgogICAgICogVGhlIHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgaXMgYSBzdHJpbmcgdGhhdCBtYXRjaGVzIG9uZSBvZiB0aGUgc3RhdGljCiAgICAgKiBgVFlQRV8qYCBwcm9wZXJ0aWVzIG9uIHRoZSBgWG1sTm9kZWAgY2xhc3MgKGUuZy4gYFRZUEVfRUxFTUVOVGAsCiAgICAgKiBgVFlQRV9URVhUYCwgZXRjLikuCiAgICAgKgogICAgICogVGhlIGBYbWxOb2RlYCBjbGFzcyBpdHNlbGYgaXMgYSBiYXNlIGNsYXNzIGFuZCBkb2Vzbid0IGhhdmUgaXRzIG93biB0eXBlCiAgICAgKiBuYW1lLgogICAgICovCiAgICBnZXQgdHlwZSgpIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgSlNPTi1zZXJpYWxpemFibGUgb2JqZWN0IHJlcHJlc2VudGluZyB0aGlzIG5vZGUsIG1pbnVzIHByb3BlcnRpZXMKICAgICAqIHRoYXQgY291bGQgcmVzdWx0IGluIGNpcmN1bGFyIHJlZmVyZW5jZXMuCiAgICAgKi8KICAgIHRvSlNPTigpIHsKICAgICAgbGV0IGpzb24gPSB7CiAgICAgICAgdHlwZTogdGhpcy50eXBlCiAgICAgIH07CiAgICAgIGlmICh0aGlzLmlzUm9vdE5vZGUpIHsKICAgICAgICBqc29uLmlzUm9vdE5vZGUgPSB0cnVlOwogICAgICB9CiAgICAgIGlmICh0aGlzLnByZXNlcnZlV2hpdGVzcGFjZSkgewogICAgICAgIGpzb24ucHJlc2VydmVXaGl0ZXNwYWNlID0gdHJ1ZTsKICAgICAgfQogICAgICBpZiAodGhpcy5zdGFydCAhPT0gLTEpIHsKICAgICAgICBqc29uLnN0YXJ0ID0gdGhpcy5zdGFydDsKICAgICAgICBqc29uLmVuZCA9IHRoaXMuZW5kOwogICAgICB9CiAgICAgIHJldHVybiBqc29uOwogICAgfQogIH07CiAgdmFyIFhtbE5vZGUgPSBfWG1sTm9kZTsKICBYbWxOb2RlLlRZUEVfQ0RBVEEgPSAiY2RhdGEiOwogIFhtbE5vZGUuVFlQRV9DT01NRU5UID0gImNvbW1lbnQiOwogIFhtbE5vZGUuVFlQRV9ET0NVTUVOVCA9ICJkb2N1bWVudCI7CiAgWG1sTm9kZS5UWVBFX0RPQ1VNRU5UX1RZUEUgPSAiZG9jdHlwZSI7CiAgWG1sTm9kZS5UWVBFX0VMRU1FTlQgPSAiZWxlbWVudCI7CiAgWG1sTm9kZS5UWVBFX1BST0NFU1NJTkdfSU5TVFJVQ1RJT04gPSAicGkiOwogIFhtbE5vZGUuVFlQRV9URVhUID0gInRleHQiOwogIFhtbE5vZGUuVFlQRV9YTUxfREVDTEFSQVRJT04gPSAieG1sZGVjbCI7CiAgdmFyIFhtbFRleHQgPSBjbGFzcyBleHRlbmRzIFhtbE5vZGUgewogICAgY29uc3RydWN0b3IodGV4dCA9ICIiKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMudGV4dCA9IHRleHQ7CiAgICB9CiAgICBnZXQgdHlwZSgpIHsKICAgICAgcmV0dXJuIFhtbE5vZGUuVFlQRV9URVhUOwogICAgfQogICAgdG9KU09OKCkgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihYbWxOb2RlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKSwgewogICAgICAgIHRleHQ6IHRoaXMudGV4dAogICAgICB9KTsKICAgIH0KICB9OwogIHZhciBYbWxDZGF0YSA9IGNsYXNzIGV4dGVuZHMgWG1sVGV4dCB7CiAgICBnZXQgdHlwZSgpIHsKICAgICAgcmV0dXJuIFhtbE5vZGUuVFlQRV9DREFUQTsKICAgIH0KICB9OwogIHZhciBYbWxDb21tZW50ID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKGNvbnRlbnQgPSAiIikgewogICAgICBzdXBlcigpOwogICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50OwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfQ09NTUVOVDsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQKICAgICAgfSk7CiAgICB9CiAgfTsKICB2YXIgWG1sRGVjbGFyYXRpb24gPSBjbGFzcyBleHRlbmRzIFhtbE5vZGUgewogICAgY29uc3RydWN0b3IodmVyc2lvbiwgZW5jb2RpbmcsIHN0YW5kYWxvbmUpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjsKICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nICE9IG51bGwgPyBlbmNvZGluZyA6IG51bGw7CiAgICAgIHRoaXMuc3RhbmRhbG9uZSA9IHN0YW5kYWxvbmUgIT0gbnVsbCA/IHN0YW5kYWxvbmUgOiBudWxsOwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfWE1MX0RFQ0xBUkFUSU9OOwogICAgfQogICAgdG9KU09OKCkgewogICAgICBsZXQganNvbiA9IFhtbE5vZGUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpOwogICAgICBqc29uLnZlcnNpb24gPSB0aGlzLnZlcnNpb247CiAgICAgIGZvciAobGV0IGtleSBvZiBbImVuY29kaW5nIiwgInN0YW5kYWxvbmUiXSkgewogICAgICAgIGlmICh0aGlzW2tleV0gIT09IG51bGwpIHsKICAgICAgICAgIGpzb25ba2V5XSA9IHRoaXNba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGpzb247CiAgICB9CiAgfTsKICB2YXIgWG1sRWxlbWVudCA9IGNsYXNzIGV4dGVuZHMgWG1sTm9kZSB7CiAgICBjb25zdHJ1Y3RvcihuYW1lLCBhdHRyaWJ1dGVzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksIGNoaWxkcmVuID0gW10pIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlczsKICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuOwogICAgfQogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRoaXMgZWxlbWVudCBpcyBlbXB0eSAobWVhbmluZyBpdCBoYXMgbm8gY2hpbGRyZW4pLgogICAgICovCiAgICBnZXQgaXNFbXB0eSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwOwogICAgfQogICAgZ2V0IHByZXNlcnZlV2hpdGVzcGFjZSgpIHsKICAgICAgbGV0IG5vZGUgPSB0aGlzOwogICAgICB3aGlsZSAobm9kZSBpbnN0YW5jZW9mIFhtbEVsZW1lbnQpIHsKICAgICAgICBpZiAoInhtbDpzcGFjZSIgaW4gbm9kZS5hdHRyaWJ1dGVzKSB7CiAgICAgICAgICByZXR1cm4gbm9kZS5hdHRyaWJ1dGVzWyJ4bWw6c3BhY2UiXSA9PT0gInByZXNlcnZlIjsKICAgICAgICB9CiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50OwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIC8qKgogICAgICogVGV4dCBjb250ZW50IG9mIHRoaXMgZWxlbWVudCBhbmQgYWxsIGl0cyBkZXNjZW5kYW50cy4KICAgICAqLwogICAgZ2V0IHRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLm1hcCgoY2hpbGQpID0+ICJ0ZXh0IiBpbiBjaGlsZCA/IGNoaWxkLnRleHQgOiAiIikuam9pbigiIik7CiAgICB9CiAgICBnZXQgdHlwZSgpIHsKICAgICAgcmV0dXJuIFhtbE5vZGUuVFlQRV9FTEVNRU5UOwogICAgfQogICAgdG9KU09OKCkgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihYbWxOb2RlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKSwgewogICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICBhdHRyaWJ1dGVzOiB0aGlzLmF0dHJpYnV0ZXMsCiAgICAgICAgY2hpbGRyZW46IHRoaXMuY2hpbGRyZW4ubWFwKChjaGlsZCkgPT4gY2hpbGQudG9KU09OKCkpCiAgICAgIH0pOwogICAgfQogIH07CiAgdmFyIFhtbERvY3VtZW50ID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKGNoaWxkcmVuID0gW10pIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuOwogICAgfQogICAgZ2V0IGRvY3VtZW50KCkgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogUm9vdCBlbGVtZW50IG9mIHRoaXMgZG9jdW1lbnQsIG9yIGBudWxsYCBpZiB0aGlzIGRvY3VtZW50IGlzIGVtcHR5LgogICAgICovCiAgICBnZXQgcm9vdCgpIHsKICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikgewogICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFhtbEVsZW1lbnQpIHsKICAgICAgICAgIHJldHVybiBjaGlsZDsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICAvKioKICAgICAqIFRleHQgY29udGVudCBvZiB0aGlzIGRvY3VtZW50IGFuZCBhbGwgaXRzIGRlc2NlbmRhbnRzLgogICAgICovCiAgICBnZXQgdGV4dCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4ubWFwKChjaGlsZCkgPT4gInRleHQiIGluIGNoaWxkID8gY2hpbGQudGV4dCA6ICIiKS5qb2luKCIiKTsKICAgIH0KICAgIGdldCB0eXBlKCkgewogICAgICByZXR1cm4gWG1sTm9kZS5UWVBFX0RPQ1VNRU5UOwogICAgfQogICAgdG9KU09OKCkgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihYbWxOb2RlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKSwgewogICAgICAgIGNoaWxkcmVuOiB0aGlzLmNoaWxkcmVuLm1hcCgoY2hpbGQpID0+IGNoaWxkLnRvSlNPTigpKQogICAgICB9KTsKICAgIH0KICB9OwogIHZhciBYbWxEb2N1bWVudFR5cGUgPSBjbGFzcyBleHRlbmRzIFhtbE5vZGUgewogICAgY29uc3RydWN0b3IobmFtZSwgcHVibGljSWQsIHN5c3RlbUlkLCBpbnRlcm5hbFN1YnNldCkgewogICAgICBzdXBlcigpOwogICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICB0aGlzLnB1YmxpY0lkID0gcHVibGljSWQgIT0gbnVsbCA/IHB1YmxpY0lkIDogbnVsbDsKICAgICAgdGhpcy5zeXN0ZW1JZCA9IHN5c3RlbUlkICE9IG51bGwgPyBzeXN0ZW1JZCA6IG51bGw7CiAgICAgIHRoaXMuaW50ZXJuYWxTdWJzZXQgPSBpbnRlcm5hbFN1YnNldCAhPSBudWxsID8gaW50ZXJuYWxTdWJzZXQgOiBudWxsOwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfRE9DVU1FTlRfVFlQRTsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgbGV0IGpzb24gPSBYbWxOb2RlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTsKICAgICAganNvbi5uYW1lID0gdGhpcy5uYW1lOwogICAgICBmb3IgKGxldCBrZXkgb2YgWyJwdWJsaWNJZCIsICJzeXN0ZW1JZCIsICJpbnRlcm5hbFN1YnNldCJdKSB7CiAgICAgICAgaWYgKHRoaXNba2V5XSAhPT0gbnVsbCkgewogICAgICAgICAganNvbltrZXldID0gdGhpc1trZXldOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4ganNvbjsKICAgIH0KICB9OwogIHZhciBYbWxFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3IgewogICAgY29uc3RydWN0b3IobWVzc2FnZSwgY2hhckluZGV4LCB4bWwpIHsKICAgICAgbGV0IGNvbHVtbiA9IDE7CiAgICAgIGxldCBleGNlcnB0ID0gIiI7CiAgICAgIGxldCBsaW5lID0gMTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFySW5kZXg7ICsraSkgewogICAgICAgIGxldCBjaGFyID0geG1sW2ldOwogICAgICAgIGlmIChjaGFyID09PSAiXG4iKSB7CiAgICAgICAgICBjb2x1bW4gPSAxOwogICAgICAgICAgZXhjZXJwdCA9ICIiOwogICAgICAgICAgbGluZSArPSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb2x1bW4gKz0gMTsKICAgICAgICAgIGV4Y2VycHQgKz0gY2hhcjsKICAgICAgICB9CiAgICAgIH0KICAgICAgbGV0IGVvbCA9IHhtbC5pbmRleE9mKCJcbiIsIGNoYXJJbmRleCk7CiAgICAgIGV4Y2VycHQgKz0gZW9sID09PSAtMSA/IHhtbC5zbGljZShjaGFySW5kZXgpIDogeG1sLnNsaWNlKGNoYXJJbmRleCwgZW9sKTsKICAgICAgbGV0IGV4Y2VycHRTdGFydCA9IDA7CiAgICAgIGlmIChleGNlcnB0Lmxlbmd0aCA+IDUwKSB7CiAgICAgICAgaWYgKGNvbHVtbiA8IDQwKSB7CiAgICAgICAgICBleGNlcnB0ID0gZXhjZXJwdC5zbGljZSgwLCA1MCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGV4Y2VycHRTdGFydCA9IGNvbHVtbiAtIDIwOwogICAgICAgICAgZXhjZXJwdCA9IGV4Y2VycHQuc2xpY2UoZXhjZXJwdFN0YXJ0LCBjb2x1bW4gKyAzMCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHN1cGVyKAogICAgICAgIGAke21lc3NhZ2V9IChsaW5lICR7bGluZX0sIGNvbHVtbiAke2NvbHVtbn0pCiAgJHtleGNlcnB0fQpgICsgIiAiLnJlcGVhdChjb2x1bW4gLSBleGNlcnB0U3RhcnQgKyAxKSArICJeXG4iCiAgICAgICk7CiAgICAgIHRoaXMuY29sdW1uID0gY29sdW1uOwogICAgICB0aGlzLmV4Y2VycHQgPSBleGNlcnB0OwogICAgICB0aGlzLmxpbmUgPSBsaW5lOwogICAgICB0aGlzLm5hbWUgPSAiWG1sRXJyb3IiOwogICAgICB0aGlzLnBvcyA9IGNoYXJJbmRleDsKICAgIH0KICB9OwogIHZhciBYbWxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSBjbGFzcyBleHRlbmRzIFhtbE5vZGUgewogICAgY29uc3RydWN0b3IobmFtZSwgY29udGVudCA9ICIiKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7CiAgICB9CiAgICBnZXQgdHlwZSgpIHsKICAgICAgcmV0dXJuIFhtbE5vZGUuVFlQRV9QUk9DRVNTSU5HX0lOU1RSVUNUSU9OOwogICAgfQogICAgdG9KU09OKCkgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihYbWxOb2RlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKSwgewogICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQKICAgICAgfSk7CiAgICB9CiAgfTsKICB2YXIgZW1wdHlTdHJpbmcyID0gIiI7CiAgdmFyIFBhcnNlciA9IGNsYXNzIHsKICAgIC8qKgogICAgICogQHBhcmFtIHhtbCBYTUwgc3RyaW5nIHRvIHBhcnNlLgogICAgICogQHBhcmFtIG9wdGlvbnMgUGFyc2VyIG9wdGlvbnMuCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKHhtbCwgb3B0aW9ucyA9IHt9KSB7CiAgICAgIGxldCBkb2MgPSB0aGlzLmRvY3VtZW50ID0gbmV3IFhtbERvY3VtZW50KCk7CiAgICAgIGxldCBzY2FubmVyID0gdGhpcy5jID0gbmV3IFN0cmluZ1NjYW5uZXIoeG1sKTsKICAgICAgdGhpcy5sID0gZG9jOwogICAgICB0aGlzLmYgPSBvcHRpb25zOwogICAgICBpZiAodGhpcy5mLmluY2x1ZGVPZmZzZXRzKSB7CiAgICAgICAgZG9jLnN0YXJ0ID0gMDsKICAgICAgICBkb2MuZW5kID0geG1sLmxlbmd0aDsKICAgICAgfQogICAgICBzY2FubmVyLmIoIlx1RkVGRiIpOwogICAgICB0aGlzLkgoKTsKICAgICAgaWYgKCF0aGlzLkIoKSkgewogICAgICAgIHRocm93IHRoaXMuYSgiUm9vdCBlbGVtZW50IGlzIG1pc3Npbmcgb3IgaW52YWxpZCIpOwogICAgICB9CiAgICAgIHdoaWxlICh0aGlzLncoKSkgewogICAgICB9CiAgICAgIGlmICghc2Nhbm5lci56KSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJFeHRyYSBjb250ZW50IGF0IHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50Iik7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQWRkcyB0aGUgZ2l2ZW4gYFhtbE5vZGVgIGFzIGEgY2hpbGQgb2YgYHRoaXMuY3VycmVudE5vZGVgLgogICAgICovCiAgICBqKG5vZGUsIGNoYXJJbmRleCkgewogICAgICBub2RlLnBhcmVudCA9IHRoaXMubDsKICAgICAgaWYgKHRoaXMuZi5pbmNsdWRlT2Zmc2V0cykgewogICAgICAgIG5vZGUuc3RhcnQgPSB0aGlzLmMuaShjaGFySW5kZXgpOwogICAgICAgIG5vZGUuZW5kID0gdGhpcy5jLmkoKTsKICAgICAgfQogICAgICB0aGlzLmwuY2hpbGRyZW4ucHVzaChub2RlKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIEFkZHMgdGhlIGdpdmVuIF90ZXh0XyB0byB0aGUgZG9jdW1lbnQsIGVpdGhlciBieSBhcHBlbmRpbmcgaXQgdG8gYQogICAgICogcHJlY2VkaW5nIGBYbWxUZXh0YCBub2RlIChpZiBwb3NzaWJsZSkgb3IgYnkgY3JlYXRpbmcgYSBuZXcgYFhtbFRleHRgIG5vZGUuCiAgICAgKi8KICAgIHgodGV4dCwgY2hhckluZGV4KSB7CiAgICAgIGxldCB7IGNoaWxkcmVuIH0gPSB0aGlzLmw7CiAgICAgIGxldCB7IGxlbmd0aCB9ID0gY2hpbGRyZW47CiAgICAgIHRleHQgPSBub3JtYWxpemVMaW5lQnJlYWtzKHRleHQpOwogICAgICBpZiAobGVuZ3RoID4gMCkgewogICAgICAgIGxldCBwcmV2Tm9kZSA9IGNoaWxkcmVuW2xlbmd0aCAtIDFdOwogICAgICAgIGlmICgocHJldk5vZGUgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZOb2RlLnR5cGUpID09PSBYbWxOb2RlLlRZUEVfVEVYVCkgewogICAgICAgICAgbGV0IHRleHROb2RlID0gcHJldk5vZGU7CiAgICAgICAgICB0ZXh0Tm9kZS50ZXh0ICs9IHRleHQ7CiAgICAgICAgICBpZiAodGhpcy5mLmluY2x1ZGVPZmZzZXRzKSB7CiAgICAgICAgICAgIHRleHROb2RlLmVuZCA9IHRoaXMuYy5pKCk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuaihuZXcgWG1sVGV4dCh0ZXh0KSwgY2hhckluZGV4KTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgZWxlbWVudCBhdHRyaWJ1dGVzLgogICAgICoKICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jc2VjLXN0YXJ0dGFncwogICAgICovCiAgICBJKCkgewogICAgICBsZXQgYXR0cmlidXRlcyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgICB3aGlsZSAodGhpcy5lKCkpIHsKICAgICAgICBsZXQgYXR0ck5hbWUgPSB0aGlzLnIoKTsKICAgICAgICBpZiAoIWF0dHJOYW1lKSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgbGV0IGF0dHJWYWx1ZSA9IHRoaXMudSgpICYmIHRoaXMuSigpOwogICAgICAgIGlmIChhdHRyVmFsdWUgPT09IGZhbHNlKSB7CiAgICAgICAgICB0aHJvdyB0aGlzLmEoIkF0dHJpYnV0ZSB2YWx1ZSBleHBlY3RlZCIpOwogICAgICAgIH0KICAgICAgICBpZiAoYXR0ck5hbWUgaW4gYXR0cmlidXRlcykgewogICAgICAgICAgdGhyb3cgdGhpcy5hKGBEdXBsaWNhdGUgYXR0cmlidXRlOiAke2F0dHJOYW1lfWApOwogICAgICAgIH0KICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICJ4bWw6c3BhY2UiICYmIGF0dHJWYWx1ZSAhPT0gImRlZmF1bHQiICYmIGF0dHJWYWx1ZSAhPT0gInByZXNlcnZlIikgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCdWYWx1ZSBvZiB0aGUgYHhtbDpzcGFjZWAgYXR0cmlidXRlIG11c3QgYmUgImRlZmF1bHQiIG9yICJwcmVzZXJ2ZSInKTsKICAgICAgICB9CiAgICAgICAgYXR0cmlidXRlc1thdHRyTmFtZV0gPSBhdHRyVmFsdWU7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZi5zb3J0QXR0cmlidXRlcykgewogICAgICAgIGxldCBhdHRyTmFtZXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5zb3J0KCk7CiAgICAgICAgbGV0IHNvcnRlZEF0dHJpYnV0ZXMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJOYW1lcy5sZW5ndGg7ICsraSkgewogICAgICAgICAgbGV0IGF0dHJOYW1lID0gYXR0ck5hbWVzW2ldOwogICAgICAgICAgc29ydGVkQXR0cmlidXRlc1thdHRyTmFtZV0gPSBhdHRyaWJ1dGVzW2F0dHJOYW1lXTsKICAgICAgICB9CiAgICAgICAgYXR0cmlidXRlcyA9IHNvcnRlZEF0dHJpYnV0ZXM7CiAgICAgIH0KICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGFuIGBBdHRWYWx1ZWAgKGF0dHJpYnV0ZSB2YWx1ZSkgaWYgcG9zc2libGUuCiAgICAgKgogICAgICogQHJldHVybnMKICAgICAqICAgQ29udGVudHMgb2YgdGhlIGBBdHRWYWx1ZWAgbWludXMgcXVvdGVzLCBvciBgZmFsc2VgIGlmIG5vdGhpbmcgd2FzCiAgICAgKiAgIGNvbnN1bWVkLiBBbiBlbXB0eSBzdHJpbmcgaW5kaWNhdGVzIHRoYXQgYW4gYEF0dFZhbHVlYCB3YXMgY29uc3VtZWQgYnV0CiAgICAgKiAgIHdhcyBlbXB0eS4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULUF0dFZhbHVlCiAgICAgKi8KICAgIEooKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBxdW90ZSA9IHNjYW5uZXIuaCgpOwogICAgICBpZiAocXVvdGUgIT09ICciJyAmJiBxdW90ZSAhPT0gIiciKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHNjYW5uZXIuZygpOwogICAgICBsZXQgY2hhcnM7CiAgICAgIGxldCBpc0Nsb3NlZCA9IGZhbHNlOwogICAgICBsZXQgdmFsdWUgPSBlbXB0eVN0cmluZzI7CiAgICAgIGxldCByZWdleCA9IHF1b3RlID09PSAnIicgPyBhdHRWYWx1ZUNoYXJEb3VibGVRdW90ZSA6IGF0dFZhbHVlQ2hhclNpbmdsZVF1b3RlOwogICAgICBtYXRjaExvb3A6CiAgICAgICAgd2hpbGUgKCFzY2FubmVyLnopIHsKICAgICAgICAgIGNoYXJzID0gc2Nhbm5lci5HKHJlZ2V4KTsKICAgICAgICAgIGlmIChjaGFycykgewogICAgICAgICAgICB0aGlzLnAoY2hhcnMpOwogICAgICAgICAgICB2YWx1ZSArPSBjaGFycy5yZXBsYWNlKGF0dFZhbHVlTm9ybWFsaXplZFdoaXRlc3BhY2UsICIgIik7CiAgICAgICAgICB9CiAgICAgICAgICBzd2l0Y2ggKHNjYW5uZXIuaCgpKSB7CiAgICAgICAgICAgIGNhc2UgcXVvdGU6CiAgICAgICAgICAgICAgaXNDbG9zZWQgPSB0cnVlOwogICAgICAgICAgICAgIGJyZWFrIG1hdGNoTG9vcDsKICAgICAgICAgICAgY2FzZSAiJiI6CiAgICAgICAgICAgICAgdmFsdWUgKz0gdGhpcy5DKCk7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGNhc2UgIjwiOgogICAgICAgICAgICAgIHRocm93IHRoaXMuYSgiVW5lc2NhcGVkIGA8YCBpcyBub3QgYWxsb3dlZCBpbiBhbiBhdHRyaWJ1dGUgdmFsdWUiKTsKICAgICAgICAgICAgY2FzZSBlbXB0eVN0cmluZzI6CiAgICAgICAgICAgICAgYnJlYWsgbWF0Y2hMb29wOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgaWYgKCFpc0Nsb3NlZCkgewogICAgICAgIHRocm93IHRoaXMuYSgiVW5jbG9zZWQgYXR0cmlidXRlIik7CiAgICAgIH0KICAgICAgc2Nhbm5lci5nKCk7CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYSBDREFUQSBzZWN0aW9uIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSBDREFUQSBzZWN0aW9uIHdhcyBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jc2VjLWNkYXRhLXNlY3QKICAgICAqLwogICAgSygpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSBzY2FubmVyLmQ7CiAgICAgIGlmICghc2Nhbm5lci5iKCI8IVtDREFUQVsiKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBsZXQgdGV4dCA9IHNjYW5uZXIudCgiXV0+Iik7CiAgICAgIHRoaXMucCh0ZXh0KTsKICAgICAgaWYgKCFzY2FubmVyLmIoIl1dPiIpKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJVbmNsb3NlZCBDREFUQSBzZWN0aW9uIik7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuZi5wcmVzZXJ2ZUNkYXRhID8gdGhpcy5qKG5ldyBYbWxDZGF0YShub3JtYWxpemVMaW5lQnJlYWtzKHRleHQpKSwgc3RhcnRJbmRleCkgOiB0aGlzLngodGV4dCwgc3RhcnRJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGNoYXJhY3RlciBkYXRhIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgY2hhcmFjdGVyIGRhdGEgd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNkdC1jaGFyZGF0YQogICAgICovCiAgICBMKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgc3RhcnRJbmRleCA9IHNjYW5uZXIuZDsKICAgICAgbGV0IGNoYXJEYXRhID0gc2Nhbm5lci5BKGVuZENoYXJEYXRhKTsKICAgICAgaWYgKCFjaGFyRGF0YSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB0aGlzLnAoY2hhckRhdGEpOwogICAgICBpZiAoc2Nhbm5lci5oKDMpID09PSAiXV0+IikgewogICAgICAgIHRocm93IHRoaXMuYSgiRWxlbWVudCBjb250ZW50IG1heSBub3QgY29udGFpbiB0aGUgQ0RBVEEgc2VjdGlvbiBjbG9zZSBkZWxpbWl0ZXIgYF1dPmAiKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy54KGNoYXJEYXRhLCBzdGFydEluZGV4KTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYSBjb21tZW50IGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSBjb21tZW50IHdhcyBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jTlQtQ29tbWVudAogICAgICovCiAgICBEKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgc3RhcnRJbmRleCA9IHNjYW5uZXIuZDsKICAgICAgaWYgKCFzY2FubmVyLmIoIjwhLS0iKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBsZXQgY29udGVudCA9IHNjYW5uZXIudCgiLS0iKTsKICAgICAgdGhpcy5wKGNvbnRlbnQpOwogICAgICBpZiAoIXNjYW5uZXIuYigiLS0+IikpIHsKICAgICAgICBpZiAoc2Nhbm5lci5oKDIpID09PSAiLS0iKSB7CiAgICAgICAgICB0aHJvdyB0aGlzLmEoIlRoZSBzdHJpbmcgYC0tYCBpc24ndCBhbGxvd2VkIGluc2lkZSBhIGNvbW1lbnQiKTsKICAgICAgICB9CiAgICAgICAgdGhyb3cgdGhpcy5hKCJVbmNsb3NlZCBjb21tZW50Iik7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuZi5wcmVzZXJ2ZUNvbW1lbnRzID8gdGhpcy5qKG5ldyBYbWxDb21tZW50KG5vcm1hbGl6ZUxpbmVCcmVha3MoY29udGVudCkpLCBzdGFydEluZGV4KSA6IHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgcmVmZXJlbmNlIGluIGEgY29udGVudCBjb250ZXh0IGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIFRoaXMgZGlmZmVycyBmcm9tIGBjb25zdW1lUmVmZXJlbmNlKClgIGluIHRoYXQgYSBjb25zdW1lZCByZWZlcmVuY2Ugd2lsbCBiZQogICAgICogYWRkZWQgdG8gdGhlIGRvY3VtZW50IGFzIGEgdGV4dCBub2RlIGluc3RlYWQgb2YgcmV0dXJuZWQuCiAgICAgKgogICAgICogQHJldHVybnMgV2hldGhlciBhIHJlZmVyZW5jZSB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI2VudHByb2MKICAgICAqLwogICAgTSgpIHsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSB0aGlzLmMuZDsKICAgICAgbGV0IHJlZiA9IHRoaXMuQygpOwogICAgICByZXR1cm4gcmVmID8gdGhpcy54KHJlZiwgc3RhcnRJbmRleCkgOiBmYWxzZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYSBkb2N0eXBlIGRlY2xhcmF0aW9uIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIFRoaXMgaXMgYSBsb29zZSBpbXBsZW1lbnRhdGlvbiBzaW5jZSBkb2N0eXBlIGRlY2xhcmF0aW9ucyBhcmUgY3VycmVudGx5CiAgICAgKiBkaXNjYXJkZWQgd2l0aG91dCBmdXJ0aGVyIHBhcnNpbmcuCiAgICAgKgogICAgICogQHJldHVybnMgV2hldGhlciBhIGRvY3R5cGUgZGVjbGFyYXRpb24gd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNkdGQKICAgICAqLwogICAgTigpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSBzY2FubmVyLmQ7CiAgICAgIGlmICghc2Nhbm5lci5iKCI8IURPQ1RZUEUiKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBsZXQgbmFtZSA9IHRoaXMuZSgpICYmIHRoaXMucigpOwogICAgICBpZiAoIW5hbWUpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIkV4cGVjdGVkIGEgbmFtZSIpOwogICAgICB9CiAgICAgIGxldCBwdWJsaWNJZDsKICAgICAgbGV0IHN5c3RlbUlkOwogICAgICBpZiAodGhpcy5lKCkpIHsKICAgICAgICBpZiAoc2Nhbm5lci5iKCJQVUJMSUMiKSkgewogICAgICAgICAgcHVibGljSWQgPSB0aGlzLmUoKSAmJiB0aGlzLk8oKTsKICAgICAgICAgIGlmIChwdWJsaWNJZCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgdGhyb3cgdGhpcy5hKCJFeHBlY3RlZCBhIHB1YmxpYyBpZGVudGlmaWVyIik7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmUoKTsKICAgICAgICB9CiAgICAgICAgaWYgKHB1YmxpY0lkICE9PSB2b2lkIDAgfHwgc2Nhbm5lci5iKCJTWVNURU0iKSkgewogICAgICAgICAgdGhpcy5lKCk7CiAgICAgICAgICBzeXN0ZW1JZCA9IHRoaXMucygpOwogICAgICAgICAgaWYgKHN5c3RlbUlkID09PSBmYWxzZSkgewogICAgICAgICAgICB0aHJvdyB0aGlzLmEoIkV4cGVjdGVkIGEgc3lzdGVtIGlkZW50aWZpZXIiKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZSgpOwogICAgICAgIH0KICAgICAgfQogICAgICBsZXQgaW50ZXJuYWxTdWJzZXQ7CiAgICAgIGlmIChzY2FubmVyLmIoIlsiKSkgewogICAgICAgIGludGVybmFsU3Vic2V0ID0gc2Nhbm5lci5BKC9cXVtceDIwXHRcclxuXSo+Lyk7CiAgICAgICAgaWYgKCFzY2FubmVyLmIoIl0iKSkgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCJVbmNsb3NlZCBpbnRlcm5hbCBzdWJzZXQiKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5lKCk7CiAgICAgIH0KICAgICAgaWYgKCFzY2FubmVyLmIoIj4iKSkgewogICAgICAgIHRocm93IHRoaXMuYSgiVW5jbG9zZWQgZG9jdHlwZSBkZWNsYXJhdGlvbiIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmYucHJlc2VydmVEb2N1bWVudFR5cGUgPyB0aGlzLmoobmV3IFhtbERvY3VtZW50VHlwZShuYW1lLCBwdWJsaWNJZCwgc3lzdGVtSWQsIGludGVybmFsU3Vic2V0KSwgc3RhcnRJbmRleCkgOiB0cnVlOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhbiBlbGVtZW50IGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYW4gZWxlbWVudCB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULWVsZW1lbnQKICAgICAqLwogICAgQigpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSBzY2FubmVyLmQ7CiAgICAgIGlmICghc2Nhbm5lci5iKCI8IikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IG5hbWUgPSB0aGlzLnIoKTsKICAgICAgaWYgKCFuYW1lKSB7CiAgICAgICAgc2Nhbm5lci5vKHN0YXJ0SW5kZXgpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBsZXQgYXR0cmlidXRlcyA9IHRoaXMuSSgpOwogICAgICBsZXQgaXNFbXB0eSA9ICEhc2Nhbm5lci5iKCIvPiIpOwogICAgICBsZXQgZWxlbWVudCA9IG5ldyBYbWxFbGVtZW50KG5hbWUsIGF0dHJpYnV0ZXMpOwogICAgICBlbGVtZW50LnBhcmVudCA9IHRoaXMubDsKICAgICAgaWYgKCFpc0VtcHR5KSB7CiAgICAgICAgaWYgKCFzY2FubmVyLmIoIj4iKSkgewogICAgICAgICAgdGhyb3cgdGhpcy5hKGBVbmNsb3NlZCBzdGFydCB0YWcgZm9yIGVsZW1lbnQgXGAke25hbWV9XGBgKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5sID0gZWxlbWVudDsKICAgICAgICBkbyB7CiAgICAgICAgICB0aGlzLkwoKTsKICAgICAgICB9IHdoaWxlICh0aGlzLkIoKSB8fCB0aGlzLk0oKSB8fCB0aGlzLksoKSB8fCB0aGlzLkUoKSB8fCB0aGlzLkQoKSk7CiAgICAgICAgbGV0IGVuZFRhZ01hcmsgPSBzY2FubmVyLmQ7CiAgICAgICAgbGV0IGVuZFRhZ05hbWU7CiAgICAgICAgaWYgKCFzY2FubmVyLmIoIjwvIikgfHwgIShlbmRUYWdOYW1lID0gdGhpcy5yKCkpIHx8IGVuZFRhZ05hbWUgIT09IG5hbWUpIHsKICAgICAgICAgIHNjYW5uZXIubyhlbmRUYWdNYXJrKTsKICAgICAgICAgIHRocm93IHRoaXMuYShgTWlzc2luZyBlbmQgdGFnIGZvciBlbGVtZW50ICR7bmFtZX1gKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5lKCk7CiAgICAgICAgaWYgKCFzY2FubmVyLmIoIj4iKSkgewogICAgICAgICAgdGhyb3cgdGhpcy5hKGBVbmNsb3NlZCBlbmQgdGFnIGZvciBlbGVtZW50ICR7bmFtZX1gKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5sID0gZWxlbWVudC5wYXJlbnQ7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuaihlbGVtZW50LCBzdGFydEluZGV4KTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYW4gYEVxYCBwcm9kdWN0aW9uIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYW4gYEVxYCBwcm9kdWN0aW9uIHdhcyBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jTlQtRXEKICAgICAqLwogICAgdSgpIHsKICAgICAgdGhpcy5lKCk7CiAgICAgIGlmICh0aGlzLmMuYigiPSIpKSB7CiAgICAgICAgdGhpcy5lKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBgTWlzY2AgY29udGVudCBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGFueXRoaW5nIHdhcyBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jTlQtTWlzYwogICAgICovCiAgICB3KCkgewogICAgICByZXR1cm4gdGhpcy5EKCkgfHwgdGhpcy5FKCkgfHwgdGhpcy5lKCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIG9uZSBvciBtb3JlIGBOYW1lYCBjaGFyYWN0ZXJzIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIGBOYW1lYCBjaGFyYWN0ZXJzLCBvciBhbiBlbXB0eSBzdHJpbmcgaWYgbm9uZSB3ZXJlIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1OYW1lCiAgICAgKi8KICAgIHIoKSB7CiAgICAgIHJldHVybiBpc05hbWVTdGFydENoYXIodGhpcy5jLmgoKSkgPyB0aGlzLmMudihpc05hbWVDaGFyKSA6IGVtcHR5U3RyaW5nMjsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYSBwcm9jZXNzaW5nIGluc3RydWN0aW9uIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSBwcm9jZXNzaW5nIGluc3RydWN0aW9uIHdhcyBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jc2VjLXBpCiAgICAgKi8KICAgIEUoKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPD8iKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBsZXQgbmFtZSA9IHRoaXMucigpOwogICAgICBpZiAobmFtZSkgewogICAgICAgIGlmIChuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICJ4bWwiKSB7CiAgICAgICAgICBzY2FubmVyLm8oc3RhcnRJbmRleCk7CiAgICAgICAgICB0aHJvdyB0aGlzLmEoIlhNTCBkZWNsYXJhdGlvbiBpc24ndCBhbGxvd2VkIGhlcmUiKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJJbnZhbGlkIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24iKTsKICAgICAgfQogICAgICBpZiAoIXRoaXMuZSgpKSB7CiAgICAgICAgaWYgKHNjYW5uZXIuYigiPz4iKSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuaihuZXcgWG1sUHJvY2Vzc2luZ0luc3RydWN0aW9uKG5hbWUpLCBzdGFydEluZGV4KTsKICAgICAgICB9CiAgICAgICAgdGhyb3cgdGhpcy5hKCJXaGl0ZXNwYWNlIGlzIHJlcXVpcmVkIGFmdGVyIGEgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBuYW1lIik7CiAgICAgIH0KICAgICAgbGV0IGNvbnRlbnQgPSBzY2FubmVyLnQoIj8+Iik7CiAgICAgIHRoaXMucChjb250ZW50KTsKICAgICAgaWYgKCFzY2FubmVyLmIoIj8+IikpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlVudGVybWluYXRlZCBwcm9jZXNzaW5nIGluc3RydWN0aW9uIik7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuaihuZXcgWG1sUHJvY2Vzc2luZ0luc3RydWN0aW9uKG5hbWUsIG5vcm1hbGl6ZUxpbmVCcmVha3MoY29udGVudCkpLCBzdGFydEluZGV4KTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYSBwcm9sb2cgaWYgcG9zc2libGUuCiAgICAgKgogICAgICogQHJldHVybnMgV2hldGhlciBhIHByb2xvZyB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy1wcm9sb2ctZHRkCiAgICAgKi8KICAgIEgoKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICB0aGlzLlAoKTsKICAgICAgd2hpbGUgKHRoaXMudygpKSB7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuTigpKSB7CiAgICAgICAgd2hpbGUgKHRoaXMudygpKSB7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBzdGFydEluZGV4IDwgc2Nhbm5lci5kOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhIHB1YmxpYyBpZGVudGlmaWVyIGxpdGVyYWwgaWYgcG9zc2libGUuCiAgICAgKgogICAgICogQHJldHVybnMKICAgICAqICAgVmFsdWUgb2YgdGhlIHB1YmxpYyBpZGVudGlmaWVyIGxpdGVyYWwgbWludXMgcXVvdGVzLCBvciBgZmFsc2VgIGlmCiAgICAgKiAgIG5vdGhpbmcgd2FzIGNvbnN1bWVkLiBBbiBlbXB0eSBzdHJpbmcgaW5kaWNhdGVzIHRoYXQgYSBwdWJsaWMgaWQgbGl0ZXJhbAogICAgICogICB3YXMgY29uc3VtZWQgYnV0IHdhcyBlbXB0eS4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULVB1YmlkTGl0ZXJhbAogICAgICovCiAgICBPKCkgewogICAgICBsZXQgc3RhcnRJbmRleCA9IHRoaXMuYy5kOwogICAgICBsZXQgdmFsdWUgPSB0aGlzLnMoKTsKICAgICAgaWYgKHZhbHVlICE9PSBmYWxzZSAmJiAhL15bLVx4MjBcclxuYS16QS1aMC05JygpKywuLzo9PzshKiNAJF8lXSokLy50ZXN0KHZhbHVlKSkgewogICAgICAgIHRoaXMuYy5vKHN0YXJ0SW5kZXgpOwogICAgICAgIHRocm93IHRoaXMuYSgiSW52YWxpZCBjaGFyYWN0ZXIgaW4gcHVibGljIGlkZW50aWZpZXIiKTsKICAgICAgfQogICAgICByZXR1cm4gdmFsdWU7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgcmVmZXJlbmNlIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIFRoaXMgZGlmZmVycyBmcm9tIGBjb25zdW1lQ29udGVudFJlZmVyZW5jZSgpYCBpbiB0aGF0IGEgY29uc3VtZWQgcmVmZXJlbmNlCiAgICAgKiB3aWxsIGJlIHJldHVybmVkIHJhdGhlciB0aGFuIGFkZGVkIHRvIHRoZSBkb2N1bWVudC4KICAgICAqCiAgICAgKiBAcmV0dXJucwogICAgICogICBQYXJzZWQgcmVmZXJlbmNlIHZhbHVlLCBvciBgZmFsc2VgIGlmIG5vdGhpbmcgd2FzIGNvbnN1bWVkICh0bwogICAgICogICBkaXN0aW5ndWlzaCBmcm9tIGEgcmVmZXJlbmNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gZW1wdHkgc3RyaW5nKS4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULVJlZmVyZW5jZQogICAgICovCiAgICBDKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBpZiAoIXNjYW5uZXIuYigiJiIpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGxldCByZWYgPSBzY2FubmVyLnYoaXNSZWZlcmVuY2VDaGFyKTsKICAgICAgaWYgKHNjYW5uZXIuRigpICE9PSAiOyIpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlVudGVybWluYXRlZCByZWZlcmVuY2UgKGEgcmVmZXJlbmNlIG11c3QgZW5kIHdpdGggYDtgKSIpOwogICAgICB9CiAgICAgIGxldCBwYXJzZWRWYWx1ZTsKICAgICAgaWYgKHJlZlswXSA9PT0gIiMiKSB7CiAgICAgICAgbGV0IGNvZGVQb2ludCA9IHJlZlsxXSA9PT0gIngiID8gcGFyc2VJbnQocmVmLnNsaWNlKDIpLCAxNikgOiBwYXJzZUludChyZWYuc2xpY2UoMSksIDEwKTsKICAgICAgICBpZiAoaXNOYU4oY29kZVBvaW50KSkgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCJJbnZhbGlkIGNoYXJhY3RlciByZWZlcmVuY2UiKTsKICAgICAgICB9CiAgICAgICAgaWYgKCFpc1htbENvZGVQb2ludChjb2RlUG9pbnQpKSB7CiAgICAgICAgICB0aHJvdyB0aGlzLmEoIkNoYXJhY3RlciByZWZlcmVuY2UgcmVzb2x2ZXMgdG8gYW4gaW52YWxpZCBjaGFyYWN0ZXIiKTsKICAgICAgICB9CiAgICAgICAgcGFyc2VkVmFsdWUgPSBTdHJpbmcuZnJvbUNvZGVQb2ludChjb2RlUG9pbnQpOwogICAgICB9IGVsc2UgewogICAgICAgIHBhcnNlZFZhbHVlID0gcHJlZGVmaW5lZEVudGl0aWVzW3JlZl07CiAgICAgICAgaWYgKHBhcnNlZFZhbHVlID09PSB2b2lkIDApIHsKICAgICAgICAgIGxldCB7CiAgICAgICAgICAgIGlnbm9yZVVuZGVmaW5lZEVudGl0aWVzLAogICAgICAgICAgICByZXNvbHZlVW5kZWZpbmVkRW50aXR5CiAgICAgICAgICB9ID0gdGhpcy5mOwogICAgICAgICAgbGV0IHdyYXBwZWRSZWYgPSBgJiR7cmVmfTtgOwogICAgICAgICAgaWYgKHJlc29sdmVVbmRlZmluZWRFbnRpdHkpIHsKICAgICAgICAgICAgbGV0IHJlc29sdmVkVmFsdWUgPSByZXNvbHZlVW5kZWZpbmVkRW50aXR5KHdyYXBwZWRSZWYpOwogICAgICAgICAgICBpZiAocmVzb2x2ZWRWYWx1ZSAhPT0gbnVsbCAmJiByZXNvbHZlZFZhbHVlICE9PSB2b2lkIDApIHsKICAgICAgICAgICAgICBsZXQgdHlwZSA9IHR5cGVvZiByZXNvbHZlZFZhbHVlOwogICAgICAgICAgICAgIGlmICh0eXBlICE9PSAic3RyaW5nIikgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgXGByZXNvbHZlVW5kZWZpbmVkRW50aXR5KClcYCBtdXN0IHJldHVybiBhIHN0cmluZywgXGBudWxsXGAsIG9yIFxgdW5kZWZpbmVkXGAsIGJ1dCByZXR1cm5lZCBhIHZhbHVlIG9mIHR5cGUgJHt0eXBlfWApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZWRWYWx1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKGlnbm9yZVVuZGVmaW5lZEVudGl0aWVzKSB7CiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkUmVmOwogICAgICAgICAgfQogICAgICAgICAgc2Nhbm5lci5vKC13cmFwcGVkUmVmLmxlbmd0aCk7CiAgICAgICAgICB0aHJvdyB0aGlzLmEoYE5hbWVkIGVudGl0eSBpc24ndCBkZWZpbmVkOiAke3dyYXBwZWRSZWZ9YCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBwYXJzZWRWYWx1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYSBgU3lzdGVtTGl0ZXJhbGAgaWYgcG9zc2libGUuCiAgICAgKgogICAgICogQSBgU3lzdGVtTGl0ZXJhbGAgaXMgc2ltaWxhciB0byBhbiBhdHRyaWJ1dGUgdmFsdWUsIGJ1dCBhbGxvd3MgdGhlCiAgICAgKiBjaGFyYWN0ZXJzIGA8YCBhbmQgYCZgIGFuZCBkb2Vzbid0IHJlcGxhY2UgcmVmZXJlbmNlcy4KICAgICAqCiAgICAgKiBAcmV0dXJucwogICAgICogICBWYWx1ZSBvZiB0aGUgYFN5c3RlbUxpdGVyYWxgIG1pbnVzIHF1b3Rlcywgb3IgYGZhbHNlYCBpZiBub3RoaW5nIHdhcwogICAgICogICBjb25zdW1lZC4gQW4gZW1wdHkgc3RyaW5nIGluZGljYXRlcyB0aGF0IGEgYFN5c3RlbUxpdGVyYWxgIHdhcyBjb25zdW1lZAogICAgICogICBidXQgd2FzIGVtcHR5LgogICAgICoKICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jTlQtU3lzdGVtTGl0ZXJhbAogICAgICovCiAgICBzKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgcXVvdGUgPSBzY2FubmVyLmIoJyInKSB8fCBzY2FubmVyLmIoIiciKTsKICAgICAgaWYgKCFxdW90ZSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBsZXQgdmFsdWUgPSBzY2FubmVyLnQocXVvdGUpOwogICAgICB0aGlzLnAodmFsdWUpOwogICAgICBpZiAoIXNjYW5uZXIuYihxdW90ZSkpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIk1pc3NpbmcgZW5kIHF1b3RlIik7CiAgICAgIH0KICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBvbmUgb3IgbW9yZSB3aGl0ZXNwYWNlIGNoYXJhY3RlcnMgaWYgcG9zc2libGUuCiAgICAgKgogICAgICogQHJldHVybnMgV2hldGhlciBhbnkgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzIHdlcmUgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3doaXRlCiAgICAgKi8KICAgIGUoKSB7CiAgICAgIHJldHVybiAhIXRoaXMuYy52KGlzV2hpdGVzcGFjZSk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGFuIFhNTCBkZWNsYXJhdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGFuIFhNTCBkZWNsYXJhdGlvbiB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULVhNTERlY2wKICAgICAqLwogICAgUCgpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSBzY2FubmVyLmQ7CiAgICAgIGlmICghc2Nhbm5lci5iKCI8P3htbCIpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGlmICghdGhpcy5lKCkpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIkludmFsaWQgWE1MIGRlY2xhcmF0aW9uIik7CiAgICAgIH0KICAgICAgbGV0IHZlcnNpb24gPSAhIXNjYW5uZXIuYigidmVyc2lvbiIpICYmIHRoaXMudSgpICYmIHRoaXMucygpOwogICAgICBpZiAodmVyc2lvbiA9PT0gZmFsc2UpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlhNTCB2ZXJzaW9uIGlzIG1pc3Npbmcgb3IgaW52YWxpZCIpOwogICAgICB9IGVsc2UgaWYgKCEvXjFcLlswLTldKyQvLnRlc3QodmVyc2lvbikpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIkludmFsaWQgY2hhcmFjdGVyIGluIHZlcnNpb24gbnVtYmVyIik7CiAgICAgIH0KICAgICAgbGV0IGVuY29kaW5nOwogICAgICBsZXQgc3RhbmRhbG9uZTsKICAgICAgaWYgKHRoaXMuZSgpKSB7CiAgICAgICAgZW5jb2RpbmcgPSAhIXNjYW5uZXIuYigiZW5jb2RpbmciKSAmJiB0aGlzLnUoKSAmJiB0aGlzLnMoKTsKICAgICAgICBpZiAoZW5jb2RpbmcpIHsKICAgICAgICAgIHRoaXMuZSgpOwogICAgICAgIH0KICAgICAgICBzdGFuZGFsb25lID0gISFzY2FubmVyLmIoInN0YW5kYWxvbmUiKSAmJiB0aGlzLnUoKSAmJiB0aGlzLnMoKTsKICAgICAgICBpZiAoc3RhbmRhbG9uZSkgewogICAgICAgICAgaWYgKHN0YW5kYWxvbmUgIT09ICJ5ZXMiICYmIHN0YW5kYWxvbmUgIT09ICJubyIpIHsKICAgICAgICAgICAgdGhyb3cgdGhpcy5hKCdPbmx5ICJ5ZXMiIGFuZCAibm8iIGFyZSBwZXJtaXR0ZWQgYXMgdmFsdWVzIG9mIGBzdGFuZGFsb25lYCcpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5lKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghc2Nhbm5lci5iKCI/PiIpKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJJbnZhbGlkIG9yIHVuY2xvc2VkIFhNTCBkZWNsYXJhdGlvbiIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmYucHJlc2VydmVYbWxEZWNsYXJhdGlvbiA/IHRoaXMuaihuZXcgWG1sRGVjbGFyYXRpb24oCiAgICAgICAgdmVyc2lvbiwKICAgICAgICBlbmNvZGluZyB8fCB2b2lkIDAsCiAgICAgICAgc3RhbmRhbG9uZSB8fCB2b2lkIDAKICAgICAgKSwgc3RhcnRJbmRleCkgOiB0cnVlOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIGFuIGBYbWxFcnJvcmAgZm9yIHRoZSBjdXJyZW50IHNjYW5uZXIgcG9zaXRpb24uCiAgICAgKi8KICAgIGEobWVzc2FnZSkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFhtbEVycm9yKG1lc3NhZ2UsIHNjYW5uZXIuZCwgc2Nhbm5lci5tKTsKICAgIH0KICAgIC8qKgogICAgICogVGhyb3dzIGFuIGludmFsaWQgY2hhcmFjdGVyIGVycm9yIGlmIGFueSBjaGFyYWN0ZXIgaW4gdGhlIGdpdmVuIF9zdHJpbmdfCiAgICAgKiBpc24ndCBhIHZhbGlkIFhNTCBjaGFyYWN0ZXIuCiAgICAgKi8KICAgIHAoc3RyaW5nKSB7CiAgICAgIGxldCB7IGxlbmd0aCB9ID0gc3RyaW5nOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7CiAgICAgICAgbGV0IGNwID0gc3RyaW5nLmNvZGVQb2ludEF0KGkpOwogICAgICAgIGlmICghaXNYbWxDb2RlUG9pbnQoY3ApKSB7CiAgICAgICAgICB0aGlzLmMubygtKFsuLi5zdHJpbmddLmxlbmd0aCAtIGkpKTsKICAgICAgICAgIHRocm93IHRoaXMuYSgiSW52YWxpZCBjaGFyYWN0ZXIiKTsKICAgICAgICB9CiAgICAgICAgaWYgKGNwID4gNjU1MzUpIHsKICAgICAgICAgIGkgKz0gMTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwogIGZ1bmN0aW9uIG5vcm1hbGl6ZUxpbmVCcmVha3ModGV4dCkgewogICAgbGV0IGkgPSAwOwogICAgd2hpbGUgKChpID0gdGV4dC5pbmRleE9mKCJcciIsIGkpKSAhPT0gLTEpIHsKICAgICAgdGV4dCA9IHRleHRbaSArIDFdID09PSAiXG4iID8gdGV4dC5zbGljZSgwLCBpKSArIHRleHQuc2xpY2UoaSArIDEpIDogdGV4dC5zbGljZSgwLCBpKSArICJcbiIgKyB0ZXh0LnNsaWNlKGkgKyAxKTsKICAgIH0KICAgIHJldHVybiB0ZXh0OwogIH0KICBmdW5jdGlvbiBwYXJzZVhtbCh4bWwsIG9wdGlvbnMpIHsKICAgIHJldHVybiBuZXcgUGFyc2VyKHhtbCwgb3B0aW9ucykuZG9jdW1lbnQ7CiAgfQogIGNsYXNzIFhtbFBhcnNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7CiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7CiAgICAgIHN1cGVyKG1lc3NhZ2UpOwogICAgfQogIH0KICBmdW5jdGlvbiBwYXJzZVhtbFN0cmluZyh4bWxTdHJpbmcpIHsKICAgIGxldCBkb2MgPSBudWxsOwogICAgdHJ5IHsKICAgICAgZG9jID0gYnJvd3Nlci5wYXJzZVhtbCh4bWxTdHJpbmcpOwogICAgfSBjYXRjaCAoZSkgewogICAgICB0aHJvdyBuZXcgWG1sUGFyc2VFcnJvcihlLm1lc3NhZ2UpOwogICAgfQogICAgcmV0dXJuIGRvYzsKICB9CiAgZnVuY3Rpb24gc3RyaXBOYW1lc3BhY2UobmFtZSkgewogICAgY29uc3QgY29sb24gPSBuYW1lLmluZGV4T2YoIjoiKTsKICAgIHJldHVybiBjb2xvbiA+IC0xID8gbmFtZS5zdWJzdHIoY29sb24gKyAxKSA6IG5hbWU7CiAgfQogIGZ1bmN0aW9uIGdldFJvb3RFbGVtZW50KHhtbERvYykgewogICAgcmV0dXJuIHhtbERvYy5jaGlsZHJlblswXTsKICB9CiAgZnVuY3Rpb24gZ2V0RWxlbWVudE5hbWUoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQubmFtZSB8fCAiIjsKICB9CiAgZnVuY3Rpb24gZmluZENoaWxkcmVuRWxlbWVudChlbGVtZW50LCBuYW1lLCBuZXN0ZWQgPSBmYWxzZSkgewogICAgY29uc3Qgc3RyaXBwZWROYW1lID0gc3RyaXBOYW1lc3BhY2UobmFtZSk7CiAgICBmdW5jdGlvbiByZWR1Y2VyKHByZXYsIGN1cnIpIHsKICAgICAgaWYgKHN0cmlwTmFtZXNwYWNlKGdldEVsZW1lbnROYW1lKGN1cnIpKSA9PT0gc3RyaXBwZWROYW1lKSB7CiAgICAgICAgcHJldi5wdXNoKGN1cnIpOwogICAgICB9CiAgICAgIGlmIChuZXN0ZWQgJiYgQXJyYXkuaXNBcnJheShjdXJyLmNoaWxkcmVuKSkgewogICAgICAgIHJldHVybiBbLi4ucHJldiwgLi4uY3Vyci5jaGlsZHJlbi5yZWR1Y2UocmVkdWNlciwgW10pXTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gcHJldjsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGVsZW1lbnQgJiYgQXJyYXkuaXNBcnJheShlbGVtZW50LmNoaWxkcmVuKSA/IGVsZW1lbnQuY2hpbGRyZW4ucmVkdWNlKHJlZHVjZXIsIFtdKSA6IFtdOwogIH0KICBmdW5jdGlvbiBmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsIG5hbWUsIG5lc3RlZCA9IGZhbHNlKSB7CiAgICByZXR1cm4gZmluZENoaWxkcmVuRWxlbWVudChlbGVtZW50LCBuYW1lLCBuZXN0ZWQpWzBdIHx8IG51bGw7CiAgfQogIGZ1bmN0aW9uIGdldENoaWxkcmVuRWxlbWVudChlbGVtZW50KSB7CiAgICByZXR1cm4gZWxlbWVudCAmJiBBcnJheS5pc0FycmF5KGVsZW1lbnQuY2hpbGRyZW4pID8gWwogICAgICAuLi5lbGVtZW50LmNoaWxkcmVuLmZpbHRlcigKICAgICAgICAoZWwpID0+IGVsIGluc3RhbmNlb2YgYnJvd3Nlci5YbWxFbGVtZW50CiAgICAgICkKICAgIF0gOiBbXTsKICB9CiAgZnVuY3Rpb24gZ2V0RWxlbWVudFRleHQoZWxlbWVudCkgewogICAgY29uc3QgdGV4dE5vZGUgPSBlbGVtZW50ICYmIEFycmF5LmlzQXJyYXkoZWxlbWVudC5jaGlsZHJlbikgPyBlbGVtZW50LmNoaWxkcmVuLmZpbmQoKG5vZGUpID0+IG5vZGUudHlwZSA9PT0gInRleHQiKSA6IG51bGw7CiAgICByZXR1cm4gdGV4dE5vZGUgPyB0ZXh0Tm9kZS50ZXh0IDogIiI7CiAgfQogIGZ1bmN0aW9uIGdldEVsZW1lbnRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0ck5hbWUpIHsKICAgIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQuYXR0cmlidXRlc1thdHRyTmFtZV0gfHwgIiI7CiAgfQogIGNsYXNzIEVuZHBvaW50RXJyb3IgZXh0ZW5kcyBFcnJvciB7CiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBodHRwU3RhdHVzLCBpc0Nyb3NzT3JpZ2luUmVsYXRlZCkgewogICAgICBzdXBlcihtZXNzYWdlKTsKICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKICAgICAgdGhpcy5odHRwU3RhdHVzID0gaHR0cFN0YXR1czsKICAgICAgdGhpcy5pc0Nyb3NzT3JpZ2luUmVsYXRlZCA9IGlzQ3Jvc3NPcmlnaW5SZWxhdGVkOwogICAgfQogIH0KICBjb25zdCBFTkNPRElOR1MgPSBbInV0Zi04IiwgInV0Zi0xNiIsICJpc28tODg1OS0xIl07CiAgY29uc3QgRkFMTEJBQ0tfRU5DT0RJTkcgPSAidXRmLTgiOwogIGZ1bmN0aW9uIGV4dHJhY3RFbmNvZGluZyhjb250ZW50VHlwZSkgewogICAgY29uc3QgbWF0Y2hlcyA9IC9jaGFyc2V0PShbXjtdKykvLmV4ZWMoY29udGVudFR5cGUpOwogICAgcmV0dXJuIG1hdGNoZXMgPyBtYXRjaGVzWzFdIDogbnVsbDsKICB9CiAgZnVuY3Rpb24gZGVjb2RlU3RyaW5nKGJ1ZmZlciwgY29udGVudFR5cGUpIHsKICAgIGNvbnN0IGVuY29kaW5nSGludCA9IGNvbnRlbnRUeXBlID8gZXh0cmFjdEVuY29kaW5nKGNvbnRlbnRUeXBlKSA6IG51bGw7CiAgICBjb25zdCBlbmNvZGluZ0F0dGVtcHRzID0gZW5jb2RpbmdIaW50ID8gW2VuY29kaW5nSGludCwgLi4uRU5DT0RJTkdTXSA6IEVOQ09ESU5HUzsKICAgIGZvciAoY29uc3QgZW5jb2Rpbmcgb2YgZW5jb2RpbmdBdHRlbXB0cykgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmcsIHsgZmF0YWw6IHRydWUgfSk7CiAgICAgICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKGJ1ZmZlcik7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgfQogICAgfQogICAgY29uc29sZS53YXJuKAogICAgICBgW29nYy1jbGllbnRdIFhNTCBkb2N1bWVudCBlbmNvZGluZyBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZCwgZmFsbGluZyBiYWNrIHRvICR7RkFMTEJBQ0tfRU5DT0RJTkd9LmAKICAgICk7CiAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKEZBTExCQUNLX0VOQ09ESU5HKS5kZWNvZGUoYnVmZmVyKTsKICB9CiAgY29uc3QgZmV0Y2hQcm9taXNlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgbGV0IGZldGNoT3B0aW9ucyA9IHt9OwogIGZ1bmN0aW9uIHNldEZldGNoT3B0aW9ucyhvcHRpb25zKSB7CiAgICBmZXRjaE9wdGlvbnMgPSBvcHRpb25zOwogIH0KICBmdW5jdGlvbiBnZXRGZXRjaE9wdGlvbnMoKSB7CiAgICByZXR1cm4gZmV0Y2hPcHRpb25zOwogIH0KICBmdW5jdGlvbiBzaGFyZWRGZXRjaCh1cmwsIG1ldGhvZCA9ICJHRVQiLCBhc0pzb24pIHsKICAgIGxldCBmZXRjaEtleSA9IGAke21ldGhvZH0jJHt1cmx9YDsKICAgIGlmIChhc0pzb24pIHsKICAgICAgZmV0Y2hLZXkgPSBgJHttZXRob2R9I2FzSnNvbiMke3VybH1gOwogICAgfQogICAgaWYgKGZldGNoUHJvbWlzZXMuaGFzKGZldGNoS2V5KSkgewogICAgICByZXR1cm4gZmV0Y2hQcm9taXNlcy5nZXQoZmV0Y2hLZXkpOwogICAgfQogICAgY29uc3Qgb3B0aW9ucyA9IHsgLi4uZ2V0RmV0Y2hPcHRpb25zKCkgfTsKICAgIG9wdGlvbnMubWV0aG9kID0gbWV0aG9kOwogICAgaWYgKGFzSnNvbikgewogICAgICBvcHRpb25zLmhlYWRlcnMgPSAiaGVhZGVycyIgaW4gb3B0aW9ucyA/IG9wdGlvbnMuaGVhZGVycyA6IHt9OwogICAgICBvcHRpb25zLmhlYWRlcnNbIkFjY2VwdCJdID0gImFwcGxpY2F0aW9uL2pzb24iOwogICAgfQogICAgY29uc3QgcHJvbWlzZSA9IGZldGNoKHVybCwgb3B0aW9ucykuY2F0Y2goKGUpID0+IGUpLnRoZW4oKHJlc3ApID0+IHsKICAgICAgZmV0Y2hQcm9taXNlcy5kZWxldGUoZmV0Y2hLZXkpOwogICAgICByZXR1cm4gcmVzcDsKICAgIH0pOwogICAgZmV0Y2hQcm9taXNlcy5zZXQoZmV0Y2hLZXksIHByb21pc2UpOwogICAgcmV0dXJuIHByb21pc2UudGhlbigocmVzcCkgPT4gewogICAgICBpZiAocmVzcCBpbnN0YW5jZW9mIEVycm9yKQogICAgICAgIHRocm93IHJlc3A7CiAgICAgIHJldHVybiByZXNwOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHF1ZXJ5WG1sRG9jdW1lbnQodXJsKSB7CiAgICByZXR1cm4gc2hhcmVkRmV0Y2godXJsKS5jYXRjaCgKICAgICAgKCkgPT4gKAogICAgICAgIC8vIGF0dGVtcHQgYSBIRUFEIHRvIHNlZSBpZiB0aGUgZmFpbHVyZSBjb21lcyBmcm9tIENPUlMgb3IgdGhlIHNlcnZpY2UgaXMgZ2VuZXJhbGx5IHVucmVhY2hhYmxlCiAgICAgICAgZmV0Y2godXJsLCB7IC4uLmdldEZldGNoT3B0aW9ucygpLCBtZXRob2Q6ICJIRUFEIiwgbW9kZTogIm5vLWNvcnMiIH0pLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoCiAgICAgICAgICAgIGBGZXRjaGluZyB0aGUgZG9jdW1lbnQgZmFpbGVkIGVpdGhlciBkdWUgdG8gbmV0d29yayBlcnJvcnMgb3IgdW5yZWFjaGFibGUgaG9zdCwgZXJyb3IgaXM6ICR7ZXJyb3IubWVzc2FnZX1gLAogICAgICAgICAgICAwLAogICAgICAgICAgICBmYWxzZQogICAgICAgICAgKTsKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKAogICAgICAgICAgICBgVGhlIGRvY3VtZW50IGNvdWxkIG5vdCBiZSBmZXRjaGVkIGR1ZSB0byBDT1JTIGxpbWl0YXRpb25zYCwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgdHJ1ZQogICAgICAgICAgKTsKICAgICAgICB9KQogICAgICApCiAgICApLnRoZW4oYXN5bmMgKHJlc3ApID0+IHsKICAgICAgaWYgKCFyZXNwLm9rKSB7CiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3AudGV4dCgpOwogICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKAogICAgICAgICAgYFJlY2VpdmVkIGFuIGVycm9yIHdpdGggY29kZSAke3Jlc3Auc3RhdHVzfTogJHt0ZXh0fWAsCiAgICAgICAgICByZXNwLnN0YXR1cywKICAgICAgICAgIGZhbHNlCiAgICAgICAgKTsKICAgICAgfQogICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCByZXNwLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGNvbnRlbnRUeXBlSGVhZGVyID0gcmVzcC5oZWFkZXJzLmdldCgiQ29udGVudC1UeXBlIik7CiAgICAgIHJldHVybiBkZWNvZGVTdHJpbmcoYnVmZmVyLCBjb250ZW50VHlwZUhlYWRlcik7CiAgICB9KS50aGVuKCh4bWwpID0+IHBhcnNlWG1sU3RyaW5nKHhtbCkpOwogIH0KICBmdW5jdGlvbiBzZXRRdWVyeVBhcmFtcyh1cmwsIHBhcmFtcykgewogICAgY29uc3QgZW5jb2RlZFVybE1hdGNoID0gdXJsLm1hdGNoKC8oaHR0cHM/JTNBJTJGJTJGW14vXSspJC8pOwogICAgaWYgKGVuY29kZWRVcmxNYXRjaCkgewogICAgICBjb25zdCBlbmNvZGVkVXJsID0gZW5jb2RlZFVybE1hdGNoWzFdOwogICAgICBjb25zdCBtb2RpZmllZFVybCA9IHNldFF1ZXJ5UGFyYW1zKGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkVXJsKSwgcGFyYW1zKTsKICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKGVuY29kZWRVcmwsIGVuY29kZVVSSUNvbXBvbmVudChtb2RpZmllZFVybCkpOwogICAgfQogICAgY29uc3QgdXJsT2JqID0gbmV3IFVSTCh1cmwpOwogICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHBhcmFtcyk7CiAgICBjb25zdCBrZXlzTG93ZXIgPSBrZXlzLm1hcCgoa2V5KSA9PiBrZXkudG9Mb3dlckNhc2UoKSk7CiAgICBjb25zdCB0b0RlbGV0ZSA9IFtdOwogICAgZm9yIChjb25zdCBwYXJhbSBvZiB1cmxPYmouc2VhcmNoUGFyYW1zLmtleXMoKSkgewogICAgICBpZiAoa2V5c0xvd2VyLmluZGV4T2YocGFyYW0udG9Mb3dlckNhc2UoKSkgPiAtMSkgewogICAgICAgIHRvRGVsZXRlLnB1c2gocGFyYW0pOwogICAgICB9CiAgICB9CiAgICB0b0RlbGV0ZS5tYXAoKHBhcmFtKSA9PiB1cmxPYmouc2VhcmNoUGFyYW1zLmRlbGV0ZShwYXJhbSkpOwogICAga2V5cy5mb3JFYWNoKAogICAgICAoa2V5KSA9PiB1cmxPYmouc2VhcmNoUGFyYW1zLnNldCgKICAgICAgICBrZXksCiAgICAgICAgcGFyYW1zW2tleV0gPT09IHRydWUgPyAiIiA6IHBhcmFtc1trZXldCiAgICAgICkKICAgICk7CiAgICByZXR1cm4gdXJsT2JqLnRvU3RyaW5nKCk7CiAgfQogIGNsYXNzIFNlcnZpY2VFeGNlcHRpb25FcnJvciBleHRlbmRzIEVycm9yIHsKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IKICAgICAqIEBwYXJhbSBtZXNzYWdlIEVycm9yIG1lc3NhZ2UKICAgICAqIEBwYXJhbSByZXF1ZXN0VXJsIFVSTCB3aGljaCByZXN1bHRlZCBpbiB0aGUgU2VydmljZUV4Y2VwdGlvbgogICAgICogQHBhcmFtIGNvZGUgT3B0aW9uYWwgU2VydmljZUV4Y2VwdGlvbiBjb2RlCiAgICAgKiBAcGFyYW0gbG9jYXRvciBPcHRpb25hbCBTZXJ2aWNlRXhjZXB0aW9uIGxvY2F0b3IKICAgICAqIEBwYXJhbSByZXNwb25zZSBPcHRpb25hbCByZXNwb25zZSBjb250ZW50IHJlY2VpdmVkCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHJlcXVlc3RVcmwsIGNvZGUsIGxvY2F0b3IsIHJlc3BvbnNlKSB7CiAgICAgIHN1cGVyKG1lc3NhZ2UpOwogICAgICB0aGlzLnJlcXVlc3RVcmwgPSByZXF1ZXN0VXJsOwogICAgICB0aGlzLmNvZGUgPSBjb2RlOwogICAgICB0aGlzLmxvY2F0b3IgPSBsb2NhdG9yOwogICAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7CiAgICB9CiAgfQogIGZ1bmN0aW9uIHBhcnNlKHNlcnZpY2VFeGNlcHRpb24sIHVybCkgewogICAgY29uc3QgZXJyb3JDb2RlID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShzZXJ2aWNlRXhjZXB0aW9uLCAiY29kZSIpIHx8IGdldEVsZW1lbnRBdHRyaWJ1dGUoc2VydmljZUV4Y2VwdGlvbiwgImV4Y2VwdGlvbkNvZGUiKTsKICAgIGNvbnN0IGVycm9yTG9jYXRvciA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoc2VydmljZUV4Y2VwdGlvbiwgImxvY2F0b3IiKTsKICAgIGNvbnN0IHRleHRFbGVtZW50ID0gZmluZENoaWxkRWxlbWVudChzZXJ2aWNlRXhjZXB0aW9uLCAiRXhjZXB0aW9uVGV4dCIpIHx8IHNlcnZpY2VFeGNlcHRpb247CiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBnZXRFbGVtZW50VGV4dCh0ZXh0RWxlbWVudCkudHJpbSgpOwogICAgcmV0dXJuIG5ldyBTZXJ2aWNlRXhjZXB0aW9uRXJyb3IoCiAgICAgIGVycm9yTWVzc2FnZSwKICAgICAgdXJsLAogICAgICBlcnJvckNvZGUsCiAgICAgIGVycm9yTG9jYXRvciwKICAgICAgc2VydmljZUV4Y2VwdGlvbi5kb2N1bWVudAogICAgKTsKICB9CiAgZnVuY3Rpb24gY2hlY2socmVzcG9uc2UsIHVybCkgewogICAgY29uc3Qgcm9vdEVsID0gZ2V0Um9vdEVsZW1lbnQocmVzcG9uc2UpOwogICAgY29uc3Qgcm9vdEVsTmFtZSA9IHN0cmlwTmFtZXNwYWNlKGdldEVsZW1lbnROYW1lKHJvb3RFbCkpOwogICAgaWYgKHJvb3RFbE5hbWUgPT09ICJTZXJ2aWNlRXhjZXB0aW9uUmVwb3J0IikgewogICAgICBjb25zdCBlcnJvciA9IGZpbmRDaGlsZEVsZW1lbnQocm9vdEVsLCAiU2VydmljZUV4Y2VwdGlvbiIpOwogICAgICBpZiAoZXJyb3IpIHsKICAgICAgICB0aHJvdyBwYXJzZShlcnJvciwgdXJsKTsKICAgICAgfQogICAgfQogICAgaWYgKHJvb3RFbE5hbWUgPT09ICJFeGNlcHRpb25SZXBvcnQiKSB7CiAgICAgIGNvbnN0IGVycm9yID0gZmluZENoaWxkRWxlbWVudChyb290RWwsICJFeGNlcHRpb24iKTsKICAgICAgaWYgKGVycm9yKSB7CiAgICAgICAgdGhyb3cgcGFyc2UoZXJyb3IsIHVybCk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByZXNwb25zZTsKICB9CiAgY29uc3QgTGF0TG9uQ3JzTGlzdCA9IFsKICAgICJFUFNHOjQwNDYiLAogICAgLy8gUkdSREMgMjAwNQogICAgIkVQU0c6NDA3NSIsCiAgICAvLyBTUkVGOTgKICAgICJFUFNHOjQxMjAiLAogICAgLy8gR3JlZWsKICAgICJFUFNHOjQxMjIiLAogICAgLy8gQVRTNzcKICAgICJFUFNHOjQxMjQiLAogICAgLy8gUlQ5MAogICAgIkVQU0c6NDEyNiIsCiAgICAvLyBMS1M5NCAoRVRSUzg5KQogICAgIkVQU0c6NDE0OSIsCiAgICAvLyBDSDE5MDMKICAgICJFUFNHOjQxNTEiLAogICAgLy8gQ0hUUkY5NQogICAgIkVQU0c6NDE1MyIsCiAgICAvLyBSYXNzYWRpcmFuCiAgICAiRVBTRzo0MTU1IiwKICAgIC8vIERhYm9sYSAxOTgxCiAgICAiRVBTRzo0MTU3IiwKICAgIC8vIE1vdW50IERpbGxvbgogICAgIkVQU0c6NDE1OSIsCiAgICAvLyBFTEQ3OQogICAgIkVQU0c6NDE2MSIsCiAgICAvLyBQYW1wYSBkZWwgQ2FzdGlsbG8KICAgICJFUFNHOjQxNjMiLAogICAgLy8gWWVtZW4gTkdOOTYKICAgICJFUFNHOjQxNjUiLAogICAgLy8gQmlzc2F1CiAgICAiRVBTRzo0MTY3IiwKICAgIC8vIE5aR0QyMDAwCiAgICAiRVBTRzo0MTY5IiwKICAgIC8vIEFtZXJpY2FuIFNhbW9hIDE5NjIKICAgICJFUFNHOjQxNzEiLAogICAgLy8gUkdGOTMKICAgICJFUFNHOjQxNzMiLAogICAgLy8gSVJFTkVUOTUKICAgICJFUFNHOjQxNzUiLAogICAgLy8gU2llcnJhIExlb25lIDE5NjgKICAgICJFUFNHOjQxNzgiLAogICAgLy8gUHVsa292byAxOTQyKDgzKQogICAgIkVQU0c6NDE4MCIsCiAgICAvLyBFU1Q5NwogICAgIkVQU0c6NDE4MiIsCiAgICAvLyBBem9yZXMgT2NjaWRlbnRhbCAxOTM5CiAgICAiRVBTRzo0MTg0IiwKICAgIC8vIEF6b3JlcyBPcmllbnRhbCAxOTQwCiAgICAiRVBTRzo0MTg4IiwKICAgIC8vIE9TTkkgMTk1MgogICAgIkVQU0c6NDE5MCIsCiAgICAvLyBQT1NHQVIgOTgKICAgICJFUFNHOjQxOTEiLAogICAgLy8gQWxiYW5pYW4gMTk4NwogICAgIkVQU0c6NDE5NiIsCiAgICAvLyBBbW1hc3NhbGlrIDE5NTgKICAgICJFUFNHOjQxOTgiLAogICAgLy8gS291c3NlcmkKICAgICJFUFNHOjQyMDIiLAogICAgLy8gQUdENjYKICAgICJFUFNHOjQyMTAiLAogICAgLy8gQXJjIDE5NjAKICAgICJFUFNHOjQyMTEiLAogICAgLy8gQmF0YXZpYQogICAgIkVQU0c6NDIxNCIsCiAgICAvLyBCZWlqaW5nIDE5NTQKICAgICJFUFNHOjQyMjYiLAogICAgLy8gQ290ZSBkJ0l2b2lyZQogICAgIkVQU0c6NDIyOSIsCiAgICAvLyBFZ3lwdCAxOTA3CiAgICAiRVBTRzo0MjMxIiwKICAgIC8vIEVEODcKICAgICJFUFNHOjQyMzMiLAogICAgLy8gR2FuZGFqaWthIDE5NzAKICAgICJFUFNHOjQyMzYiLAogICAgLy8gSHUgVHp1IFNoYW4gMTk1MAogICAgIkVQU0c6NDIzOCIsCiAgICAvLyBJRDc0CiAgICAiRVBTRzo0MjQwIiwKICAgIC8vIEluZGlhbiAxOTc1CiAgICAiRVBTRzo0MjQyIiwKICAgIC8vIEpBRDY5CiAgICAiRVBTRzo0MjQ0IiwKICAgIC8vIEthbmRhd2FsYQogICAgIkVQU0c6NDI0NiIsCiAgICAvLyBLT0MKICAgICJFUFNHOjQyNDgiLAogICAgLy8gUFNBRDU2CiAgICAiRVBTRzo0MjUwIiwKICAgIC8vIExlaWdvbgogICAgIkVQU0c6NDI1MiIsCiAgICAvLyBMb21lCiAgICAiRVBTRzo0MjU1IiwKICAgIC8vIEhlcmF0IE5vcnRoCiAgICAiRVBTRzo0MjU4IiwKICAgIC8vIEVUUlM4OQogICAgIkVQU0c6NDI2MSIsCiAgICAvLyBNZXJjaGljaAogICAgIkVQU0c6NDI2NCIsCiAgICAvLyBNaGFzdAogICAgIkVQU0c6NDI2NyIsCiAgICAvLyBOQUQyNwogICAgIkVQU0c6NDI3MCIsCiAgICAvLyBOYWhyd2FuIDE5NjcKICAgICJFUFNHOjQyNzMiLAogICAgLy8gTkdPIDE5NDgKICAgICJFUFNHOjQyNzYiLAogICAgLy8gTlNXQyA5Wi0yCiAgICAiRVBTRzo0Mjc5IiwKICAgIC8vIE9TKFNOKTgwCiAgICAiRVBTRzo0MjgxIiwKICAgIC8vIFBhbGVzdGluZSAxOTIzCiAgICAiRVBTRzo0Mjg0IiwKICAgIC8vIFB1bGtvdm8gMTk0MgogICAgIkVQU0c6NDI4NiIsCiAgICAvLyBRYXRhciAxOTQ4CiAgICAiRVBTRzo0Mjg4IiwKICAgIC8vIExvbWEgUXVpbnRhbmEKICAgICJFUFNHOjQyOTIiLAogICAgLy8gU2FwcGVyIEhpbGwgMTk0MwogICAgIkVQU0c6NDI5NSIsCiAgICAvLyBTZXJpbmR1bmcKICAgICJFUFNHOjQyOTciLAogICAgLy8gVGFuYW5hcml2ZQogICAgIkVQU0c6NDI5OSIsCiAgICAvLyBUTTY1CiAgICAiRVBTRzo0MzAyIiwKICAgIC8vIFRyaW5pZGFkIDE5MDMKICAgICJFUFNHOjQzMjQiLAogICAgLy8gV0dTIDcyQkUKICAgICJFUFNHOjQzMjYiCiAgICAvLyBXR1MgODQKICBdOwogIGZ1bmN0aW9uIGhhc0ludmVydGVkQ29vcmRpbmF0ZXMoY3JzTmFtZSkgewogICAgcmV0dXJuIExhdExvbkNyc0xpc3QuaW5kZXhPZihzaW1wbGlmeUVwc2dVcm4oY3JzTmFtZSkpID4gLTE7CiAgfQogIGZ1bmN0aW9uIHNpbXBsaWZ5RXBzZ1VybihmdWxsQ3JzTmFtZSkgewogICAgaWYgKC9edXJuOig/OngtKT9vZ2M6ZGVmOmNyczplcHNnOi8udGVzdChmdWxsQ3JzTmFtZS50b0xvd2VyQ2FzZSgpKSkgewogICAgICBjb25zdCBjb2RlID0gLyhbMC05XSspJC8uZXhlYyhmdWxsQ3JzTmFtZSlbMV07CiAgICAgIHJldHVybiBgRVBTRzoke2NvZGV9YDsKICAgIH0KICAgIHJldHVybiBmdWxsQ3JzTmFtZTsKICB9CiAgZnVuY3Rpb24gcmVhZE9wZXJhdGlvblVybHNGcm9tQ2FwYWJpbGl0aWVzJDEoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBjb25zdCB1cmxzID0ge307CiAgICBjb25zdCBjYXBhYmlsaXR5ID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIkNhcGFiaWxpdHkiCiAgICApOwogICAgY29uc3QgcmVxdWVzdCA9IGZpbmRDaGlsZEVsZW1lbnQoY2FwYWJpbGl0eSwgIlJlcXVlc3QiKTsKICAgIGdldENoaWxkcmVuRWxlbWVudChyZXF1ZXN0KS5mb3JFYWNoKChvcGVyYXRpb24pID0+IHsKICAgICAgY29uc3Qgb3BlcmF0aW9uTmFtZSA9IHN0cmlwTmFtZXNwYWNlKGdldEVsZW1lbnROYW1lKG9wZXJhdGlvbikpOwogICAgICB1cmxzW29wZXJhdGlvbk5hbWVdID0gcGFyc2VPcGVyYXRpb24ob3BlcmF0aW9uKTsKICAgIH0pOwogICAgcmV0dXJuIHVybHM7CiAgfQogIGZ1bmN0aW9uIHJlYWRWZXJzaW9uRnJvbUNhcGFiaWxpdGllcyQxKGNhcGFiaWxpdGllc0RvYykgewogICAgcmV0dXJuIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYykuYXR0cmlidXRlc1sidmVyc2lvbiJdOwogIH0KICBmdW5jdGlvbiByZWFkTGF5ZXJzRnJvbUNhcGFiaWxpdGllcyQxKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgdmVyc2lvbiA9IHJlYWRWZXJzaW9uRnJvbUNhcGFiaWxpdGllcyQxKGNhcGFiaWxpdGllc0RvYyk7CiAgICBjb25zdCBjYXBhYmlsaXR5ID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIkNhcGFiaWxpdHkiCiAgICApOwogICAgcmV0dXJuIGZpbmRDaGlsZHJlbkVsZW1lbnQoY2FwYWJpbGl0eSwgIkxheWVyIikubWFwKAogICAgICAobGF5ZXJFbCkgPT4gcGFyc2VMYXllcihsYXllckVsLCB2ZXJzaW9uKQogICAgKTsKICB9CiAgZnVuY3Rpb24gcmVhZE91dHB1dEZvcm1hdHNGcm9tQ2FwYWJpbGl0aWVzJDEoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBjb25zdCBjYXBhYmlsaXR5ID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIkNhcGFiaWxpdHkiCiAgICApOwogICAgY29uc3QgZ2V0TWFwID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZmluZENoaWxkRWxlbWVudChjYXBhYmlsaXR5LCAiUmVxdWVzdCIpLAogICAgICAiR2V0TWFwIgogICAgKTsKICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGdldE1hcCwgIkZvcm1hdCIpLm1hcCgKICAgICAgZ2V0RWxlbWVudFRleHQKICAgICk7CiAgICByZXR1cm4gb3V0cHV0Rm9ybWF0czsKICB9CiAgZnVuY3Rpb24gcmVhZEluZm9Gb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IGNhcGFiaWxpdHkgPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLAogICAgICAiQ2FwYWJpbGl0eSIKICAgICk7CiAgICBjb25zdCBnZXRGZWF0dXJlSW5mbyA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY2FwYWJpbGl0eSwgIlJlcXVlc3QiKSwKICAgICAgIkdldEZlYXR1cmVJbmZvIgogICAgKTsKICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGdldEZlYXR1cmVJbmZvLCAiRm9ybWF0IikubWFwKAogICAgICBnZXRFbGVtZW50VGV4dAogICAgKTsKICAgIHJldHVybiBvdXRwdXRGb3JtYXRzOwogIH0KICBmdW5jdGlvbiByZWFkRXhjZXB0aW9uRm9ybWF0c0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBjb25zdCBjYXBhYmlsaXR5ID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIkNhcGFiaWxpdHkiCiAgICApOwogICAgY29uc3QgZXhjZXB0aW9uID0gZmluZENoaWxkRWxlbWVudChjYXBhYmlsaXR5LCAiRXhjZXB0aW9uIik7CiAgICBjb25zdCBleGNlcHRpb25Gb3JtYXRzID0gZmluZENoaWxkcmVuRWxlbWVudChleGNlcHRpb24sICJGb3JtYXQiKS5tYXAoCiAgICAgIGdldEVsZW1lbnRUZXh0CiAgICApOwogICAgcmV0dXJuIGV4Y2VwdGlvbkZvcm1hdHM7CiAgfQogIGZ1bmN0aW9uIHJlYWRJbmZvRnJvbUNhcGFiaWxpdGllcyQyKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3Qgc2VydmljZSA9IGZpbmRDaGlsZEVsZW1lbnQoZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwgIlNlcnZpY2UiKTsKICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSByZWFkT3V0cHV0Rm9ybWF0c0Zyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3QgaW5mb0Zvcm1hdHMgPSByZWFkSW5mb0Zvcm1hdHNGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYyk7CiAgICBjb25zdCBleGNlcHRpb25Gb3JtYXRzID0gcmVhZEV4Y2VwdGlvbkZvcm1hdHNGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYyk7CiAgICBjb25zdCBrZXl3b3JkcyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIktleXdvcmRMaXN0IiksCiAgICAgICJLZXl3b3JkIgogICAgKS5tYXAoZ2V0RWxlbWVudFRleHQpLmZpbHRlcigodiwgaSwgYXJyKSA9PiBhcnIuaW5kZXhPZih2KSA9PT0gaSk7CiAgICBjb25zdCBwcm92aWRlciA9IHJlYWRQcm92aWRlckZyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpOwogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIlRpdGxlIikpLAogICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJOYW1lIikpLAogICAgICBhYnN0cmFjdDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiQWJzdHJhY3QiKSksCiAgICAgIG91dHB1dEZvcm1hdHMsCiAgICAgIGluZm9Gb3JtYXRzLAogICAgICBleGNlcHRpb25Gb3JtYXRzLAogICAgICBmZWVzOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJGZWVzIikpLAogICAgICBjb25zdHJhaW50czogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiQWNjZXNzQ29uc3RyYWludHMiKSksCiAgICAgIHByb3ZpZGVyLAogICAgICBrZXl3b3JkcwogICAgfTsKICB9CiAgZnVuY3Rpb24gcGFyc2VPcGVyYXRpb24ob3BlcmF0aW9uKSB7CiAgICBjb25zdCB1cmxzID0ge307CiAgICBjb25zdCBkY3BUeXBlID0gZmluZENoaWxkcmVuRWxlbWVudChvcGVyYXRpb24sICJEQ1BUeXBlIik7CiAgICBjb25zdCBodHRwID0gZGNwVHlwZS5mbGF0TWFwKChkKSA9PiBmaW5kQ2hpbGRFbGVtZW50KGQsICJIVFRQIikpOwogICAgY29uc3QgbWV0aG9kcyA9IGh0dHAuZmxhdE1hcCgoaCkgPT4gZ2V0Q2hpbGRyZW5FbGVtZW50KGgpKTsKICAgIG1ldGhvZHMuZm9yRWFjaCgobWV0aG9kKSA9PiB7CiAgICAgIGNvbnN0IG9ubGluZVJlc291cmNlID0gZmluZENoaWxkRWxlbWVudChtZXRob2QsICJPbmxpbmVSZXNvdXJjZSIpOwogICAgICBjb25zdCBtZXRob2ROYW1lID0gc3RyaXBOYW1lc3BhY2UoZ2V0RWxlbWVudE5hbWUobWV0aG9kKSk7CiAgICAgIHVybHNbbWV0aG9kTmFtZV0gPSBnZXRFbGVtZW50QXR0cmlidXRlKG9ubGluZVJlc291cmNlLCAieGxpbms6aHJlZiIpOwogICAgfSk7CiAgICByZXR1cm4gdXJsczsKICB9CiAgZnVuY3Rpb24gcGFyc2VMYXllcihsYXllckVsLCB2ZXJzaW9uLCBpbmhlcml0ZWRTcnMgPSBbXSwgaW5oZXJpdGVkU3R5bGVzID0gW10sIGluaGVyaXRlZEF0dHJpYnV0aW9uID0gbnVsbCwgaW5oZXJpdGVkQm91bmRpbmdCb3hlcyA9IG51bGwsIGluaGVyaXRlZE1heFNjYWxlRGVub20gPSBudWxsLCBpbmhlcml0ZWRNaW5TY2FsZURlbm9tID0gbnVsbCkgewogICAgY29uc3Qgc3JzVGFnID0gdmVyc2lvbiA9PT0gIjEuMy4wIiA/ICJDUlMiIDogIlNSUyI7CiAgICBjb25zdCBzcnNMaXN0ID0gZmluZENoaWxkcmVuRWxlbWVudChsYXllckVsLCBzcnNUYWcpLm1hcChnZXRFbGVtZW50VGV4dCk7CiAgICBjb25zdCBhdmFpbGFibGVDcnMgPSBzcnNMaXN0Lmxlbmd0aCA+IDAgPyBzcnNMaXN0IDogaW5oZXJpdGVkU3JzOwogICAgY29uc3QgbGF5ZXJTdHlsZXMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGxheWVyRWwsICJTdHlsZSIpLm1hcCgKICAgICAgcGFyc2VMYXllclN0eWxlCiAgICApOwogICAgY29uc3Qgc3R5bGVzID0gbGF5ZXJTdHlsZXMubGVuZ3RoID4gMCA/IGxheWVyU3R5bGVzIDogaW5oZXJpdGVkU3R5bGVzOwogICAgZnVuY3Rpb24gcGFyc2VCQm94MihiYm94RWwpIHsKICAgICAgY29uc3Qgc3JzID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIHNyc1RhZyk7CiAgICAgIGNvbnN0IGF0dHJzID0gaGFzSW52ZXJ0ZWRDb29yZGluYXRlcyhzcnMpICYmIHZlcnNpb24gPT09ICIxLjMuMCIgPyBbIm1pbnkiLCAibWlueCIsICJtYXh5IiwgIm1heHgiXSA6IFsibWlueCIsICJtaW55IiwgIm1heHgiLCAibWF4eSJdOwogICAgICByZXR1cm4gYXR0cnMubWFwKChuYW1lKSA9PiBnZXRFbGVtZW50QXR0cmlidXRlKGJib3hFbCwgbmFtZSkpOwogICAgfQogICAgZnVuY3Rpb24gcGFyc2VFeEdlb2dyYXBoaWNCb3VuZGluZ0JveChiYm94RWwpIHsKICAgICAgcmV0dXJuIFsKICAgICAgICAid2VzdEJvdW5kTG9uZ2l0dWRlIiwKICAgICAgICAic291dGhCb3VuZExhdGl0dWRlIiwKICAgICAgICAiZWFzdEJvdW5kTG9uZ2l0dWRlIiwKICAgICAgICAibm9ydGhCb3VuZExhdGl0dWRlIgogICAgICBdLm1hcCgobmFtZSkgPT4gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChiYm94RWwsIG5hbWUpKSk7CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZUxhdExvbkJvdW5kaW5nQm94KGJib3hFbCkgewogICAgICByZXR1cm4gWyJtaW54IiwgIm1pbnkiLCAibWF4eCIsICJtYXh5Il0ubWFwKAogICAgICAgIChuYW1lKSA9PiBnZXRFbGVtZW50QXR0cmlidXRlKGJib3hFbCwgbmFtZSkKICAgICAgKTsKICAgIH0KICAgIGZ1bmN0aW9uIHBhcnNlU2NhbGVIaW50VmFsdWUodGV4dFZhbHVlLCBkZWZhdWx0VmFsdWUpIHsKICAgICAgaWYgKHRleHRWYWx1ZSA9PT0gIiIpIHsKICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlOwogICAgICB9CiAgICAgIHJldHVybiBNYXRoLnNxcnQoMC41ICogcGFyc2VGbG9hdCh0ZXh0VmFsdWUpICoqIDIpIC8gMjhlLTU7CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZVNjYWxlSGludCgpIHsKICAgICAgY29uc3Qgc2NhbGVIaW50ID0gZmluZENoaWxkRWxlbWVudChsYXllckVsLCAiU2NhbGVIaW50Iik7CiAgICAgIGlmICghc2NhbGVIaW50KSB7CiAgICAgICAgcmV0dXJuIFtpbmhlcml0ZWRNaW5TY2FsZURlbm9tLCBpbmhlcml0ZWRNYXhTY2FsZURlbm9tXTsKICAgICAgfQogICAgICBjb25zdCBtaW4gPSBnZXRFbGVtZW50QXR0cmlidXRlKHNjYWxlSGludCwgIm1pbiIpOwogICAgICBjb25zdCBtYXggPSBnZXRFbGVtZW50QXR0cmlidXRlKHNjYWxlSGludCwgIm1heCIpOwogICAgICByZXR1cm4gWwogICAgICAgIHBhcnNlU2NhbGVIaW50VmFsdWUobWluLCBpbmhlcml0ZWRNaW5TY2FsZURlbm9tKSwKICAgICAgICBwYXJzZVNjYWxlSGludFZhbHVlKG1heCwgaW5oZXJpdGVkTWF4U2NhbGVEZW5vbSkKICAgICAgXTsKICAgIH0KICAgIGZ1bmN0aW9uIHBhcnNlU2NhbGVEZW5vbWluYXRvcihuYW1lLCBpbmhlcml0ZWRWYWx1ZSkgewogICAgICBjb25zdCB0ZXh0VmFsdWUgPSBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsIG5hbWUpKTsKICAgICAgcmV0dXJuIHRleHRWYWx1ZSA9PT0gIiIgPyBpbmhlcml0ZWRWYWx1ZSA6IHBhcnNlRmxvYXQodGV4dFZhbHVlKTsKICAgIH0KICAgIGNvbnN0IGF0dHJpYnV0aW9uRWwgPSBmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJBdHRyaWJ1dGlvbiIpOwogICAgY29uc3QgYXR0cmlidXRpb24gPSBhdHRyaWJ1dGlvbkVsICE9PSBudWxsID8gcGFyc2VMYXllckF0dHJpYnV0aW9uKGF0dHJpYnV0aW9uRWwpIDogaW5oZXJpdGVkQXR0cmlidXRpb247CiAgICBjb25zdCBsYXRMb25CYm94RWwgPSB2ZXJzaW9uID09PSAiMS4zLjAiID8gZmluZENoaWxkRWxlbWVudChsYXllckVsLCAiRVhfR2VvZ3JhcGhpY0JvdW5kaW5nQm94IikgOiBmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJMYXRMb25Cb3VuZGluZ0JveCIpOwogICAgY29uc3QgYmFzZUJvdW5kaW5nQm94ID0ge307CiAgICBpZiAobGF0TG9uQmJveEVsKSB7CiAgICAgIGJhc2VCb3VuZGluZ0JveFsiRVBTRzo0MzI2Il0gPSB2ZXJzaW9uID09PSAiMS4zLjAiID8gcGFyc2VFeEdlb2dyYXBoaWNCb3VuZGluZ0JveChsYXRMb25CYm94RWwpIDogcGFyc2VMYXRMb25Cb3VuZGluZ0JveChsYXRMb25CYm94RWwpOwogICAgfQogICAgbGV0IGJvdW5kaW5nQm94ZXMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGxheWVyRWwsICJCb3VuZGluZ0JveCIpLnJlZHVjZSgKICAgICAgKHByZXYsIGJib3hFbCkgPT4gKHsKICAgICAgICAuLi5wcmV2LAogICAgICAgIFtnZXRFbGVtZW50QXR0cmlidXRlKGJib3hFbCwgc3JzVGFnKV06IHBhcnNlQkJveDIoYmJveEVsKQogICAgICB9KSwKICAgICAgYmFzZUJvdW5kaW5nQm94CiAgICApOwogICAgYm91bmRpbmdCb3hlcyA9IE9iamVjdC5rZXlzKGJvdW5kaW5nQm94ZXMpLmxlbmd0aCA+IDAgfHwgaW5oZXJpdGVkQm91bmRpbmdCb3hlcyA9PT0gbnVsbCA/IGJvdW5kaW5nQm94ZXMgOiBpbmhlcml0ZWRCb3VuZGluZ0JveGVzOwogICAgY29uc3QgcXVlcnlhYmxlID0gbGF5ZXJFbC5hdHRyaWJ1dGVzLnF1ZXJ5YWJsZSA9PT0gIjEiIHx8IGxheWVyRWwuYXR0cmlidXRlcy5xdWVyeWFibGUgPT09ICJ0cnVlIiA/IHRydWUgOiBmYWxzZTsKICAgIGNvbnN0IG9wYXF1ZSA9IGxheWVyRWwuYXR0cmlidXRlcy5vcGFxdWUgPT09ICIxIiB8fCBsYXllckVsLmF0dHJpYnV0ZXMub3BhcXVlID09PSAidHJ1ZSIgPyB0cnVlIDogZmFsc2U7CiAgICBjb25zdCBrZXl3b3JkcyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQobGF5ZXJFbCwgIktleXdvcmRMaXN0IiksCiAgICAgICJLZXl3b3JkIgogICAgKS5tYXAoZ2V0RWxlbWVudFRleHQpLmZpbHRlcigodiwgaSwgYXJyKSA9PiBhcnIuaW5kZXhPZih2KSA9PT0gaSk7CiAgICBsZXQgbWluU2NhbGVEZW5vbWluYXRvciwgbWF4U2NhbGVEZW5vbWluYXRvcjsKICAgIGlmICh2ZXJzaW9uID09PSAiMS4zLjAiKSB7CiAgICAgIG1pblNjYWxlRGVub21pbmF0b3IgPSBwYXJzZVNjYWxlRGVub21pbmF0b3IoCiAgICAgICAgIk1pblNjYWxlRGVub21pbmF0b3IiLAogICAgICAgIGluaGVyaXRlZE1pblNjYWxlRGVub20KICAgICAgKTsKICAgICAgbWF4U2NhbGVEZW5vbWluYXRvciA9IHBhcnNlU2NhbGVEZW5vbWluYXRvcigKICAgICAgICAiTWF4U2NhbGVEZW5vbWluYXRvciIsCiAgICAgICAgaW5oZXJpdGVkTWF4U2NhbGVEZW5vbQogICAgICApOwogICAgfSBlbHNlIHsKICAgICAgW21pblNjYWxlRGVub21pbmF0b3IsIG1heFNjYWxlRGVub21pbmF0b3JdID0gcGFyc2VTY2FsZUhpbnQoKTsKICAgIH0KICAgIGNvbnN0IG1ldGFkYXRhID0gZmluZENoaWxkcmVuRWxlbWVudChsYXllckVsLCAiTWV0YWRhdGFVUkwiKS5tYXAoCiAgICAgIChtZXRhZGF0YVVybEVsKSA9PiAoewogICAgICAgIHR5cGU6IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0YWRhdGFVcmxFbCwgInR5cGUiKSwKICAgICAgICBmb3JtYXQ6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQobWV0YWRhdGFVcmxFbCwgIkZvcm1hdCIpKSwKICAgICAgICB1cmw6IGdldEVsZW1lbnRBdHRyaWJ1dGUoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KG1ldGFkYXRhVXJsRWwsICJPbmxpbmVSZXNvdXJjZSIpLAogICAgICAgICAgInhsaW5rOmhyZWYiCiAgICAgICAgKQogICAgICB9KQogICAgKTsKICAgIGNvbnN0IGNoaWxkcmVuID0gZmluZENoaWxkcmVuRWxlbWVudChsYXllckVsLCAiTGF5ZXIiKS5tYXAoCiAgICAgIChsYXllcikgPT4gcGFyc2VMYXllcigKICAgICAgICBsYXllciwKICAgICAgICB2ZXJzaW9uLAogICAgICAgIGF2YWlsYWJsZUNycywKICAgICAgICBzdHlsZXMsCiAgICAgICAgYXR0cmlidXRpb24sCiAgICAgICAgYm91bmRpbmdCb3hlcywKICAgICAgICBtYXhTY2FsZURlbm9taW5hdG9yLAogICAgICAgIG1pblNjYWxlRGVub21pbmF0b3IKICAgICAgKQogICAgKTsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQobGF5ZXJFbCwgIk5hbWUiKSksCiAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJUaXRsZSIpKSwKICAgICAgYWJzdHJhY3Q6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQobGF5ZXJFbCwgIkFic3RyYWN0IikpLAogICAgICBhdmFpbGFibGVDcnMsCiAgICAgIHN0eWxlcywKICAgICAgYXR0cmlidXRpb24sCiAgICAgIGJvdW5kaW5nQm94ZXMsCiAgICAgIGtleXdvcmRzLAogICAgICBxdWVyeWFibGUsCiAgICAgIG9wYXF1ZSwKICAgICAgLi4ubWluU2NhbGVEZW5vbWluYXRvciAhPT0gbnVsbCA/IHsgbWluU2NhbGVEZW5vbWluYXRvciB9IDoge30sCiAgICAgIC4uLm1heFNjYWxlRGVub21pbmF0b3IgIT09IG51bGwgPyB7IG1heFNjYWxlRGVub21pbmF0b3IgfSA6IHt9LAogICAgICAuLi5tZXRhZGF0YS5sZW5ndGggJiYgeyBtZXRhZGF0YSB9LAogICAgICAuLi5jaGlsZHJlbi5sZW5ndGggJiYgeyBjaGlsZHJlbiB9CiAgICB9OwogIH0KICBmdW5jdGlvbiBwYXJzZUxheWVyU3R5bGUoc3R5bGVFbCkgewogICAgY29uc3QgbGVnZW5kVXJsID0gZ2V0RWxlbWVudEF0dHJpYnV0ZSgKICAgICAgZmluZENoaWxkRWxlbWVudChmaW5kQ2hpbGRFbGVtZW50KHN0eWxlRWwsICJMZWdlbmRVUkwiKSwgIk9ubGluZVJlc291cmNlIiksCiAgICAgICJ4bGluazpocmVmIgogICAgKTsKICAgIGNvbnN0IGFic3RyYWN0ID0gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzdHlsZUVsLCAiQWJzdHJhY3QiKSk7CiAgICByZXR1cm4gewogICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHN0eWxlRWwsICJOYW1lIikpLAogICAgICB0aXRsZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzdHlsZUVsLCAiVGl0bGUiKSksCiAgICAgIC4uLmFic3RyYWN0ICYmIHsgYWJzdHJhY3QgfSwKICAgICAgLi4ubGVnZW5kVXJsICYmIHsgbGVnZW5kVXJsIH0KICAgIH07CiAgfQogIGZ1bmN0aW9uIHBhcnNlTGF5ZXJBdHRyaWJ1dGlvbihhdHRyaWJ1dGlvbkVsKSB7CiAgICBjb25zdCBsb2dvVXJsID0gZ2V0RWxlbWVudEF0dHJpYnV0ZSgKICAgICAgZmluZENoaWxkRWxlbWVudCgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGF0dHJpYnV0aW9uRWwsICJMb2dvVVJMIiksCiAgICAgICAgIk9ubGluZVJlc291cmNlIgogICAgICApLAogICAgICAieGxpbms6aHJlZiIKICAgICk7CiAgICBjb25zdCB1cmwgPSBnZXRFbGVtZW50QXR0cmlidXRlKAogICAgICBmaW5kQ2hpbGRFbGVtZW50KGF0dHJpYnV0aW9uRWwsICJPbmxpbmVSZXNvdXJjZSIpLAogICAgICAieGxpbms6aHJlZiIKICAgICk7CiAgICBjb25zdCB0aXRsZSA9IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYXR0cmlidXRpb25FbCwgIlRpdGxlIikpOwogICAgcmV0dXJuIHsKICAgICAgLi4udGl0bGUgJiYgeyB0aXRsZSB9LAogICAgICAuLi51cmwgJiYgeyB1cmwgfSwKICAgICAgLi4ubG9nb1VybCAmJiB7IGxvZ29VcmwgfQogICAgfTsKICB9CiAgZnVuY3Rpb24gcmVhZFByb3ZpZGVyRnJvbUNhcGFiaWxpdGllcyQxKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3Qgc2VydmljZSA9IGZpbmRDaGlsZEVsZW1lbnQoZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwgIlNlcnZpY2UiKTsKICAgIGNvbnN0IGNvbnRhY3RJbmZvcm1hdGlvbiA9IGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkNvbnRhY3RJbmZvcm1hdGlvbiIpOwogICAgY29uc3QgY29udGFjdFBlcnNvblByaW1hcnkgPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBjb250YWN0SW5mb3JtYXRpb24sCiAgICAgICJDb250YWN0UGVyc29uUHJpbWFyeSIKICAgICk7CiAgICBjb25zdCBhZGRyZXNzID0gZmluZENoaWxkRWxlbWVudChjb250YWN0SW5mb3JtYXRpb24sICJDb250YWN0QWRkcmVzcyIpOwogICAgcmV0dXJuIHsKICAgICAgY29udGFjdDogewogICAgICAgIG5hbWU6IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChjb250YWN0UGVyc29uUHJpbWFyeSwgIkNvbnRhY3RQZXJzb24iKQogICAgICAgICksCiAgICAgICAgb3JnYW5pemF0aW9uOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdFBlcnNvblByaW1hcnksICJDb250YWN0T3JnYW5pemF0aW9uIikKICAgICAgICApLAogICAgICAgIHBvc2l0aW9uOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm9ybWF0aW9uLCAiQ29udGFjdFBvc2l0aW9uIikKICAgICAgICApLAogICAgICAgIHBob25lOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm9ybWF0aW9uLCAiQ29udGFjdFZvaWNlVGVsZXBob25lIikKICAgICAgICApLAogICAgICAgIGZheDogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGNvbnRhY3RJbmZvcm1hdGlvbiwgIkNvbnRhY3RGYWNzaW1pbGVUZWxlcGhvbmUiKQogICAgICAgICksCiAgICAgICAgYWRkcmVzczogewogICAgICAgICAgZGVsaXZlcnlQb2ludDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChhZGRyZXNzLCAiQWRkcmVzcyIpKSwKICAgICAgICAgIGNpdHk6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkNpdHkiKSksCiAgICAgICAgICBhZG1pbmlzdHJhdGl2ZUFyZWE6IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJTdGF0ZU9yUHJvdmluY2UiKQogICAgICAgICAgKSwKICAgICAgICAgIHBvc3RhbENvZGU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIlBvc3RDb2RlIikpLAogICAgICAgICAgY291bnRyeTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChhZGRyZXNzLCAiQ291bnRyeSIpKQogICAgICAgIH0sCiAgICAgICAgZW1haWw6IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChjb250YWN0SW5mb3JtYXRpb24sICJDb250YWN0RWxlY3Ryb25pY01haWxBZGRyZXNzIikKICAgICAgICApCiAgICAgIH0KICAgIH07CiAgfQogIGZ1bmN0aW9uIHJlYWRQcm92aWRlckZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBjb25zdCBzZXJ2aWNlUHJvdmlkZXIgPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLAogICAgICAiU2VydmljZVByb3ZpZGVyIgogICAgKTsKICAgIGNvbnN0IHNlcnZpY2VDb250YWN0ID0gZmluZENoaWxkRWxlbWVudChzZXJ2aWNlUHJvdmlkZXIsICJTZXJ2aWNlQ29udGFjdCIpOwogICAgY29uc3QgY29udGFjdEluZm8gPSBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2VDb250YWN0LCAiQ29udGFjdEluZm8iKTsKICAgIGNvbnN0IHBob25lID0gZmluZENoaWxkRWxlbWVudChjb250YWN0SW5mbywgIlBob25lIik7CiAgICBjb25zdCBhZGRyZXNzID0gZmluZENoaWxkRWxlbWVudChjb250YWN0SW5mbywgIkFkZHJlc3MiKTsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZVByb3ZpZGVyLCAiUHJvdmlkZXJOYW1lIikpLAogICAgICBzaXRlOiBnZXRFbGVtZW50QXR0cmlidXRlKAogICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZVByb3ZpZGVyLCAiUHJvdmlkZXJTaXRlIiksCiAgICAgICAgInhsaW5rOmhyZWYiCiAgICAgICksCiAgICAgIGNvbnRhY3Q6IHsKICAgICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2VDb250YWN0LCAiSW5kaXZpZHVhbE5hbWUiKSksCiAgICAgICAgcG9zaXRpb246IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChzZXJ2aWNlQ29udGFjdCwgIlBvc2l0aW9uTmFtZSIpCiAgICAgICAgKSwKICAgICAgICBwaG9uZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChwaG9uZSwgIlZvaWNlIikpLAogICAgICAgIGZheDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChwaG9uZSwgIkZhY3NpbWlsZSIpKSwKICAgICAgICBhZGRyZXNzOiB7CiAgICAgICAgICBkZWxpdmVyeVBvaW50OiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgICAgZmluZENoaWxkRWxlbWVudChhZGRyZXNzLCAiRGVsaXZlcnlQb2ludCIpCiAgICAgICAgICApLAogICAgICAgICAgY2l0eTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChhZGRyZXNzLCAiQ2l0eSIpKSwKICAgICAgICAgIGFkbWluaXN0cmF0aXZlQXJlYTogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkFkbWluaXN0cmF0aXZlQXJlYSIpCiAgICAgICAgICApLAogICAgICAgICAgcG9zdGFsQ29kZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChhZGRyZXNzLCAiUG9zdGFsQ29kZSIpKSwKICAgICAgICAgIGNvdW50cnk6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkNvdW50cnkiKSkKICAgICAgICB9LAogICAgICAgIGVtYWlsOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJFbGVjdHJvbmljTWFpbEFkZHJlc3MiKSkKICAgICAgfQogICAgfTsKICB9CiAgZnVuY3Rpb24gcmVhZE9wZXJhdGlvblVybHNGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgdXJscyA9IHt9OwogICAgY29uc3QgY2FwYWJpbGl0aWVzID0gZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IG9wZXJhdGlvbnNNZXRhZGF0YSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGNhcGFiaWxpdGllcywKICAgICAgIk9wZXJhdGlvbnNNZXRhZGF0YSIKICAgICk7CiAgICBpZiAob3BlcmF0aW9uc01ldGFkYXRhKSB7CiAgICAgIGZpbmRDaGlsZHJlbkVsZW1lbnQob3BlcmF0aW9uc01ldGFkYXRhLCAiT3BlcmF0aW9uIikuZm9yRWFjaCgKICAgICAgICAob3BlcmF0aW9uKSA9PiB7CiAgICAgICAgICBjb25zdCBuYW1lID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShvcGVyYXRpb24sICJuYW1lIik7CiAgICAgICAgICB1cmxzW25hbWVdID0gcGFyc2VPcGVyYXRpb24xMTAob3BlcmF0aW9uKTsKICAgICAgICB9CiAgICAgICk7CiAgICB9IGVsc2UgewogICAgICBjb25zdCBjYXBhYmlsaXR5ID0gZmluZENoaWxkRWxlbWVudChjYXBhYmlsaXRpZXMsICJDYXBhYmlsaXR5Iik7CiAgICAgIGNvbnN0IHJlcXVlc3QgPSBmaW5kQ2hpbGRFbGVtZW50KGNhcGFiaWxpdHksICJSZXF1ZXN0Iik7CiAgICAgIGdldENoaWxkcmVuRWxlbWVudChyZXF1ZXN0KS5mb3JFYWNoKChvcGVyYXRpb24pID0+IHsKICAgICAgICBjb25zdCBuYW1lID0gc3RyaXBOYW1lc3BhY2UoZ2V0RWxlbWVudE5hbWUob3BlcmF0aW9uKSk7CiAgICAgICAgdXJsc1tuYW1lXSA9IHBhcnNlT3BlcmF0aW9uMTAwKG9wZXJhdGlvbik7CiAgICAgIH0pOwogICAgfQogICAgcmV0dXJuIHVybHM7CiAgfQogIGZ1bmN0aW9uIHJlYWRWZXJzaW9uRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIHJldHVybiBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLmF0dHJpYnV0ZXNbInZlcnNpb24iXTsKICB9CiAgZnVuY3Rpb24gcmVhZE91dHB1dEZvcm1hdHNGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgdmVyc2lvbiA9IHJlYWRWZXJzaW9uRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpOwogICAgbGV0IG91dHB1dEZvcm1hdHM7CiAgICBpZiAodmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSkgewogICAgICBjb25zdCBnZXRGZWF0dXJlID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLCAiQ2FwYWJpbGl0eSIpLAogICAgICAgICAgIlJlcXVlc3QiCiAgICAgICAgKSwKICAgICAgICAiR2V0RmVhdHVyZSIKICAgICAgKTsKICAgICAgb3V0cHV0Rm9ybWF0cyA9IGdldENoaWxkcmVuRWxlbWVudCgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGdldEZlYXR1cmUsICJSZXN1bHRGb3JtYXQiKQogICAgICApLm1hcChnZXRFbGVtZW50TmFtZSk7CiAgICB9IGVsc2UgewogICAgICBjb25zdCBvcGVyYXRpb25zID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgICBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLAogICAgICAgICJPcGVyYXRpb25zTWV0YWRhdGEiCiAgICAgICk7CiAgICAgIGNvbnN0IGdldEZlYXR1cmUgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KG9wZXJhdGlvbnMsICJPcGVyYXRpb24iKS5maW5kKAogICAgICAgIChlbCkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgIm5hbWUiKSA9PT0gIkdldEZlYXR1cmUiCiAgICAgICk7CiAgICAgIGNvbnN0IHBhcmFtZXRlciA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoZ2V0RmVhdHVyZSwgIlBhcmFtZXRlciIpLmZpbmQoCiAgICAgICAgKGVsKSA9PiBnZXRFbGVtZW50QXR0cmlidXRlKGVsLCAibmFtZSIpID09PSAib3V0cHV0Rm9ybWF0IgogICAgICApOwogICAgICBvdXRwdXRGb3JtYXRzID0gZmluZENoaWxkcmVuRWxlbWVudChwYXJhbWV0ZXIsICJWYWx1ZSIsIHRydWUpLm1hcCgKICAgICAgICBnZXRFbGVtZW50VGV4dAogICAgICApOwogICAgfQogICAgcmV0dXJuIG91dHB1dEZvcm1hdHM7CiAgfQogIGZ1bmN0aW9uIHJlYWRJbmZvRnJvbUNhcGFiaWxpdGllcyQxKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgdmVyc2lvbiA9IHJlYWRWZXJzaW9uRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3Qgc2VydmljZVRhZyA9IHZlcnNpb24uc3RhcnRzV2l0aCgiMS4wIikgPyAiU2VydmljZSIgOiAiU2VydmljZUlkZW50aWZpY2F0aW9uIjsKICAgIGNvbnN0IG5hbWVUYWcgPSB2ZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpID8gIk5hbWUiIDogIlNlcnZpY2VUeXBlIjsKICAgIGNvbnN0IHNlcnZpY2UgPSBmaW5kQ2hpbGRFbGVtZW50KGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksIHNlcnZpY2VUYWcpOwogICAgbGV0IGtleXdvcmRzOwogICAgaWYgKHZlcnNpb24uc3RhcnRzV2l0aCgiMS4wIikpIHsKICAgICAga2V5d29yZHMgPSBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJLZXl3b3JkcyIpKS5zcGxpdCgiLCIpLm1hcCgoa2V5d29yZCkgPT4ga2V5d29yZC50cmltKCkpOwogICAgfSBlbHNlIHsKICAgICAga2V5d29yZHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIktleXdvcmRzIiksCiAgICAgICAgIktleXdvcmQiCiAgICAgICkubWFwKGdldEVsZW1lbnRUZXh0KTsKICAgIH0KICAgIGxldCBwcm92aWRlcjsKICAgIGlmICh2ZXJzaW9uICE9PSAiMS4wLjAiKSB7CiAgICAgIHByb3ZpZGVyID0gcmVhZFByb3ZpZGVyRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpOwogICAgfQogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIlRpdGxlIikpLAogICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsIG5hbWVUYWcpKSwKICAgICAgYWJzdHJhY3Q6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkFic3RyYWN0IikpLAogICAgICBmZWVzOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJGZWVzIikpLAogICAgICBjb25zdHJhaW50czogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiQWNjZXNzQ29uc3RyYWludHMiKSksCiAgICAgIGtleXdvcmRzLAogICAgICBwcm92aWRlciwKICAgICAgb3V0cHV0Rm9ybWF0czogcmVhZE91dHB1dEZvcm1hdHNGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykKICAgIH07CiAgfQogIGZ1bmN0aW9uIHJlYWRGZWF0dXJlVHlwZXNGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgdmVyc2lvbiA9IHJlYWRWZXJzaW9uRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3Qgb3V0cHV0Rm9ybWF0cyA9IHJlYWRPdXRwdXRGb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJGZWF0dXJlVHlwZUxpc3QiCiAgICApOwogICAgcmV0dXJuIGZpbmRDaGlsZHJlbkVsZW1lbnQoY2FwYWJpbGl0eSwgIkZlYXR1cmVUeXBlIikubWFwKAogICAgICAoZmVhdHVyZVR5cGVFbCkgPT4gcGFyc2VGZWF0dXJlVHlwZShmZWF0dXJlVHlwZUVsLCB2ZXJzaW9uLCBvdXRwdXRGb3JtYXRzKQogICAgKTsKICB9CiAgZnVuY3Rpb24gcGFyc2VPcGVyYXRpb24xMDAob3BlcmF0aW9uKSB7CiAgICBjb25zdCB1cmxzID0ge307CiAgICBjb25zdCBkY3BUeXBlID0gZmluZENoaWxkcmVuRWxlbWVudChvcGVyYXRpb24sICJEQ1BUeXBlIik7CiAgICBjb25zdCBodHRwID0gZGNwVHlwZS5mbGF0TWFwKChkKSA9PiBmaW5kQ2hpbGRyZW5FbGVtZW50KGQsICJIVFRQIikpOwogICAgY29uc3QgbWV0aG9kcyA9IGh0dHAuZmxhdE1hcCgoaCkgPT4gZ2V0Q2hpbGRyZW5FbGVtZW50KGgpKTsKICAgIG1ldGhvZHMuZm9yRWFjaCgobWV0aG9kKSA9PiB7CiAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShtZXRob2QpKTsKICAgICAgdXJsc1ttZXRob2ROYW1lXSA9IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0aG9kLCAib25saW5lUmVzb3VyY2UiKTsKICAgIH0pOwogICAgcmV0dXJuIHVybHM7CiAgfQogIGZ1bmN0aW9uIHBhcnNlT3BlcmF0aW9uMTEwKG9wZXJhdGlvbikgewogICAgY29uc3QgdXJscyA9IHt9OwogICAgY29uc3QgZGNwVHlwZSA9IGZpbmRDaGlsZHJlbkVsZW1lbnQob3BlcmF0aW9uLCAiRENQIik7CiAgICBjb25zdCBodHRwID0gZGNwVHlwZS5mbGF0TWFwKChkKSA9PiBmaW5kQ2hpbGRFbGVtZW50KGQsICJIVFRQIikpOwogICAgY29uc3QgbWV0aG9kcyA9IGh0dHAuZmxhdE1hcCgoaCkgPT4gZ2V0Q2hpbGRyZW5FbGVtZW50KGgpKTsKICAgIG1ldGhvZHMuZm9yRWFjaCgobWV0aG9kKSA9PiB7CiAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShtZXRob2QpKTsKICAgICAgdXJsc1ttZXRob2ROYW1lXSA9IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0aG9kLCAieGxpbms6aHJlZiIpOwogICAgfSk7CiAgICByZXR1cm4gdXJsczsKICB9CiAgZnVuY3Rpb24gcGFyc2VGZWF0dXJlVHlwZShmZWF0dXJlVHlwZUVsLCBzZXJ2aWNlVmVyc2lvbiwgZGVmYXVsdE91dHB1dEZvcm1hdHMpIHsKICAgIGNvbnN0IHNyc1RhZyA9IHNlcnZpY2VWZXJzaW9uLnN0YXJ0c1dpdGgoIjIuIikgPyAiQ1JTIiA6ICJTUlMiOwogICAgY29uc3QgZGVmYXVsdFNyc1RhZyA9IHNlcnZpY2VWZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpID8gIlNSUyIgOiBgRGVmYXVsdCR7c3JzVGFnfWA7CiAgICBmdW5jdGlvbiBwYXJzZUJCb3gxMDAoKSB7CiAgICAgIGNvbnN0IGJib3hFbCA9IGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIkxhdExvbmdCb3VuZGluZ0JveCIpOwogICAgICByZXR1cm4gWyJtaW54IiwgIm1pbnkiLCAibWF4eCIsICJtYXh5Il0ubWFwKChuYW1lKSA9PiBnZXRFbGVtZW50QXR0cmlidXRlKGJib3hFbCwgbmFtZSkpLm1hcChwYXJzZUZsb2F0KTsKICAgIH0KICAgIGZ1bmN0aW9uIHBhcnNlQkJveDIoKSB7CiAgICAgIGNvbnN0IGJib3hFbCA9IGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIldHUzg0Qm91bmRpbmdCb3giKTsKICAgICAgcmV0dXJuIFsiTG93ZXJDb3JuZXIiLCAiVXBwZXJDb3JuZXIiXS5tYXAoKGVsTmFtZSkgPT4gZmluZENoaWxkRWxlbWVudChiYm94RWwsIGVsTmFtZSkpLm1hcCgoY29ybmVyRWwpID0+IGdldEVsZW1lbnRUZXh0KGNvcm5lckVsKS5zcGxpdCgiICIpKS5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IFsuLi5wcmV2LCAuLi5jdXJyXSkubWFwKHBhcnNlRmxvYXQpOwogICAgfQogICAgY29uc3Qgb3RoZXJDcnMgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/IFtdIDogZmluZENoaWxkcmVuRWxlbWVudChmZWF0dXJlVHlwZUVsLCBgT3RoZXIke3Nyc1RhZ31gKS5tYXAoZ2V0RWxlbWVudFRleHQpLm1hcChzaW1wbGlmeUVwc2dVcm4pOwogICAgY29uc3Qgb3V0cHV0Rm9ybWF0cyA9IHNlcnZpY2VWZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpID8gW10gOiBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJPdXRwdXRGb3JtYXRzIiksCiAgICAgICJGb3JtYXQiCiAgICApLm1hcChnZXRFbGVtZW50VGV4dCk7CiAgICBjb25zdCBrZXl3b3JkcyA9IHNlcnZpY2VWZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpID8gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChmZWF0dXJlVHlwZUVsLCAiS2V5d29yZHMiKSkuc3BsaXQoIiwiKS5tYXAoKGtleXdvcmQpID0+IGtleXdvcmQudHJpbSgpKSA6IGZpbmRDaGlsZHJlbkVsZW1lbnQoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIktleXdvcmRzIiksCiAgICAgICJLZXl3b3JkIgogICAgKS5tYXAoZ2V0RWxlbWVudFRleHQpLmZpbHRlcigodiwgaSwgYXJyKSA9PiBhcnIuaW5kZXhPZih2KSA9PT0gaSk7CiAgICBjb25zdCBtZXRhZGF0YSA9IHNlcnZpY2VWZXJzaW9uID09PSAiMi4wLjAiID8gZmluZENoaWxkcmVuRWxlbWVudChmZWF0dXJlVHlwZUVsLCAiTWV0YWRhdGFVUkwiKS5tYXAoCiAgICAgIChtZXRhZGF0YVVybEVsKSA9PiAoewogICAgICAgIHVybDogZ2V0RWxlbWVudEF0dHJpYnV0ZShtZXRhZGF0YVVybEVsLCAieGxpbms6aHJlZiIpCiAgICAgIH0pCiAgICApIDogZmluZENoaWxkcmVuRWxlbWVudChmZWF0dXJlVHlwZUVsLCAiTWV0YWRhdGFVUkwiKS5tYXAoCiAgICAgIChtZXRhZGF0YVVybEVsKSA9PiAoewogICAgICAgIGZvcm1hdDogZ2V0RWxlbWVudEF0dHJpYnV0ZShtZXRhZGF0YVVybEVsLCAiZm9ybWF0IiksCiAgICAgICAgdHlwZTogZ2V0RWxlbWVudEF0dHJpYnV0ZShtZXRhZGF0YVVybEVsLCAidHlwZSIpLAogICAgICAgIHVybDogZ2V0RWxlbWVudFRleHQobWV0YWRhdGFVcmxFbCkudHJpbSgpCiAgICAgIH0pCiAgICApOwogICAgcmV0dXJuIHsKICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChmZWF0dXJlVHlwZUVsLCAiTmFtZSIpKSwKICAgICAgdGl0bGU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIlRpdGxlIikpLAogICAgICBhYnN0cmFjdDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChmZWF0dXJlVHlwZUVsLCAiQWJzdHJhY3QiKSksCiAgICAgIGRlZmF1bHRDcnM6IHNpbXBsaWZ5RXBzZ1VybigKICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsIGRlZmF1bHRTcnNUYWcpKQogICAgICApLAogICAgICBvdGhlckNycywKICAgICAgb3V0cHV0Rm9ybWF0czogb3V0cHV0Rm9ybWF0cy5sZW5ndGggPiAwID8gb3V0cHV0Rm9ybWF0cyA6IGRlZmF1bHRPdXRwdXRGb3JtYXRzLAogICAgICBsYXRMb25Cb3VuZGluZ0JveDogc2VydmljZVZlcnNpb24uc3RhcnRzV2l0aCgiMS4wIikgPyBwYXJzZUJCb3gxMDAoKSA6IHBhcnNlQkJveDIoKSwKICAgICAga2V5d29yZHMsCiAgICAgIC4uLm1ldGFkYXRhLmxlbmd0aCAmJiB7IG1ldGFkYXRhIH0KICAgIH07CiAgfQogIGZ1bmN0aW9uIHBhcnNlQkJveCh4bWxFbGVtZW50KSB7CiAgICBjb25zdCByZXN1bHQgPSBbIkxvd2VyQ29ybmVyIiwgIlVwcGVyQ29ybmVyIl0ubWFwKChlbE5hbWUpID0+IGZpbmRDaGlsZEVsZW1lbnQoeG1sRWxlbWVudCwgZWxOYW1lKSkubWFwKChjb3JuZXJFbCkgPT4gZ2V0RWxlbWVudFRleHQoY29ybmVyRWwpLnNwbGl0KCIgIikpLnJlZHVjZSgocHJldiwgY3VycikgPT4gWy4uLnByZXYsIC4uLmN1cnJdKS5tYXAocGFyc2VGbG9hdCk7CiAgICBpZiAocmVzdWx0LnNvbWUoTnVtYmVyLmlzTmFOKSkKICAgICAgcmV0dXJuIG51bGw7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KICBmdW5jdGlvbiByZWFkSW5mb0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBjb25zdCByb290RWwgPSBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3Qgc2VydmljZSA9IGZpbmRDaGlsZEVsZW1lbnQocm9vdEVsLCAiU2VydmljZUlkZW50aWZpY2F0aW9uIik7CiAgICBjb25zdCBrZXl3b3JkcyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIktleXdvcmRzIiksCiAgICAgICJLZXl3b3JkIgogICAgKS5tYXAoZ2V0RWxlbWVudFRleHQpOwogICAgY29uc3QgbWV0YWRhdGEgPSBmaW5kQ2hpbGRFbGVtZW50KHJvb3RFbCwgIk9wZXJhdGlvbnNNZXRhZGF0YSIpOwogICAgY29uc3QgZ2V0VGlsZU9wZXJhdGlvbiA9IGZpbmRDaGlsZHJlbkVsZW1lbnQobWV0YWRhdGEsICJPcGVyYXRpb24iKS5maW5kKAogICAgICAoZWwpID0+IGdldEVsZW1lbnRBdHRyaWJ1dGUoZWwsICJuYW1lIikgPT0gIkdldFRpbGUiCiAgICApOwogICAgY29uc3QgZ2V0VGlsZVVybHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGdldFRpbGVPcGVyYXRpb24sICJHZXQiLCB0cnVlKS5yZWR1Y2UoCiAgICAgIChwcmV2LCBjdXJyKSA9PiB7CiAgICAgICAgY29uc3QgZW5jb2RpbmdUeXBlID0gZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGN1cnIsICJWYWx1ZSIsIHRydWUpCiAgICAgICAgKTsKICAgICAgICBjb25zdCB1cmwgPSBnZXRFbGVtZW50QXR0cmlidXRlKGN1cnIsICJ4bGluazpocmVmIik7CiAgICAgICAgaWYgKGVuY29kaW5nVHlwZS50b0xvd2VyQ2FzZSgpID09PSAicmVzdGZ1bCIpCiAgICAgICAgICByZXR1cm4geyAuLi5wcmV2LCByZXN0OiB1cmwgfTsKICAgICAgICByZXR1cm4geyAuLi5wcmV2LCBrdnA6IHVybCB9OwogICAgICB9LAogICAgICB7fQogICAgKTsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJUaXRsZSIpKSwKICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiU2VydmljZVR5cGUiKSksCiAgICAgIGFic3RyYWN0OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJBYnN0cmFjdCIpKSwKICAgICAgZmVlczogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiRmVlcyIpKSwKICAgICAgY29uc3RyYWludHM6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkFjY2Vzc0NvbnN0cmFpbnRzIikpLAogICAgICBrZXl3b3JkcywKICAgICAgcHJvdmlkZXI6IHJlYWRQcm92aWRlckZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgZ2V0VGlsZVVybHMKICAgIH07CiAgfQogIGZ1bmN0aW9uIHJlYWRNYXRyaXhTZXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGZ1bmN0aW9uIHBhcnNlTWF0cml4U2V0KGVsZW1lbnQpIHsKICAgICAgY29uc3QgdG9wTGVmdCA9IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIlRvcExlZnRDb3JuZXIiKSkuc3BsaXQoIiAiKS5tYXAocGFyc2VGbG9hdCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWRlbnRpZmllcjogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiSWRlbnRpZmllciIpKSwKICAgICAgICB0aWxlV2lkdGg6IHBhcnNlSW50KAogICAgICAgICAgZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiVGlsZVdpZHRoIikpCiAgICAgICAgKSwKICAgICAgICB0aWxlSGVpZ2h0OiBwYXJzZUludCgKICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIlRpbGVIZWlnaHQiKSkKICAgICAgICApLAogICAgICAgIG1hdHJpeFdpZHRoOiBwYXJzZUludCgKICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIk1hdHJpeFdpZHRoIikpCiAgICAgICAgKSwKICAgICAgICBtYXRyaXhIZWlnaHQ6IHBhcnNlSW50KAogICAgICAgICAgZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiTWF0cml4SGVpZ2h0IikpCiAgICAgICAgKSwKICAgICAgICBzY2FsZURlbm9taW5hdG9yOiBwYXJzZUZsb2F0KAogICAgICAgICAgZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiU2NhbGVEZW5vbWluYXRvciIpKQogICAgICAgICksCiAgICAgICAgdG9wTGVmdAogICAgICB9OwogICAgfQogICAgY29uc3QgY29udGVudHMgPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLAogICAgICAiQ29udGVudHMiCiAgICApOwogICAgY29uc3QgbWF0cml4U2V0cyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoY29udGVudHMsICJUaWxlTWF0cml4U2V0Iik7CiAgICByZXR1cm4gbWF0cml4U2V0cy5tYXAoKGVsZW1lbnQpID0+IHsKICAgICAgY29uc3Qgd2VsbEtub3duU2NhbGVTZXQgPSBnZXRFbGVtZW50VGV4dCgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJXZWxsS25vd25TY2FsZVNldCIpCiAgICAgICk7CiAgICAgIGNvbnN0IGJvdW5kaW5nQm94ID0gcGFyc2VCQm94KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIkJvdW5kaW5nQm94IikpOwogICAgICByZXR1cm4gewogICAgICAgIGlkZW50aWZpZXI6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIklkZW50aWZpZXIiKSksCiAgICAgICAgY3JzOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJTdXBwb3J0ZWRDUlMiKSksCiAgICAgICAgdGlsZU1hdHJpY2VzOiBmaW5kQ2hpbGRyZW5FbGVtZW50KGVsZW1lbnQsICJUaWxlTWF0cml4IikubWFwKAogICAgICAgICAgcGFyc2VNYXRyaXhTZXQKICAgICAgICApLAogICAgICAgIC4uLmJvdW5kaW5nQm94ICYmIHsgYm91bmRpbmdCb3ggfSwKICAgICAgICAuLi53ZWxsS25vd25TY2FsZVNldCAmJiB7IHdlbGxLbm93blNjYWxlU2V0IH0KICAgICAgfTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiByZWFkTGF5ZXJzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHJvb3RFbCA9IGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyk7CiAgICBjb25zdCBjb250ZW50c0VsID0gZmluZENoaWxkRWxlbWVudChyb290RWwsICJDb250ZW50cyIpOwogICAgZnVuY3Rpb24gcGFyc2VNYXRyaXhTZXRMaW5rKGVsZW1lbnQpIHsKICAgICAgY29uc3QgZnVsbE1hdHJpeFNldCA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoY29udGVudHNFbCwgIlRpbGVNYXRyaXhTZXQiKS5maW5kKAogICAgICAgIChlbCkgPT4gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbCwgIklkZW50aWZpZXIiKSkKICAgICAgKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZGVudGlmaWVyOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJUaWxlTWF0cml4U2V0IikpLAogICAgICAgIGNyczogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChmdWxsTWF0cml4U2V0LCAiU3VwcG9ydGVkQ1JTIikpLAogICAgICAgIGxpbWl0czogZmluZENoaWxkcmVuRWxlbWVudChlbGVtZW50LCAiVGlsZU1hdHJpeExpbWl0cyIsIHRydWUpLm1hcCgKICAgICAgICAgIChlbGVtZW50MikgPT4gKHsKICAgICAgICAgICAgdGlsZU1hdHJpeDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbGVtZW50MiwgIlRpbGVNYXRyaXgiKSksCiAgICAgICAgICAgIG1pblRpbGVSb3c6IHBhcnNlSW50KAogICAgICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJNaW5UaWxlUm93IikpCiAgICAgICAgICAgICksCiAgICAgICAgICAgIG1pblRpbGVDb2w6IHBhcnNlSW50KAogICAgICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJNaW5UaWxlQ29sIikpCiAgICAgICAgICAgICksCiAgICAgICAgICAgIG1heFRpbGVSb3c6IHBhcnNlSW50KAogICAgICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJNYXhUaWxlUm93IikpCiAgICAgICAgICAgICksCiAgICAgICAgICAgIG1heFRpbGVDb2w6IHBhcnNlSW50KAogICAgICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJNYXhUaWxlQ29sIikpCiAgICAgICAgICAgICkKICAgICAgICAgIH0pCiAgICAgICAgKQogICAgICB9OwogICAgfQogICAgY29uc3QgZ2V0VGlsZU9wZXJhdGlvbiA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQocm9vdEVsLCAiT3BlcmF0aW9uc01ldGFkYXRhIiksCiAgICAgICJPcGVyYXRpb24iCiAgICApLmZpbmQoKGVsKSA9PiBnZXRFbGVtZW50QXR0cmlidXRlKGVsLCAibmFtZSIpID09ICJHZXRUaWxlIik7CiAgICBjb25zdCBnZXRLdnBFbHQgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGdldFRpbGVPcGVyYXRpb24sICJHZXQiLCB0cnVlKS5maWx0ZXIoCiAgICAgIChlbHQpID0+IHsKICAgICAgICBjb25zdCBlbmNvZGluZ1R5cGUgPSBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsdCwgIlZhbHVlIiwgdHJ1ZSkpOwogICAgICAgIHJldHVybiBlbmNvZGluZ1R5cGUudG9Mb3dlckNhc2UoKSA9PT0gImt2cCI7CiAgICAgIH0KICAgIClbMF07CiAgICBjb25zdCBnZXRLdnBVcmwgPSBnZXRLdnBFbHQgPyBnZXRFbGVtZW50QXR0cmlidXRlKGdldEt2cEVsdCwgInhsaW5rOmhyZWYiKSA6ICIiOwogICAgY29uc3QgY29udGVudHMgPSBmaW5kQ2hpbGRFbGVtZW50KHJvb3RFbCwgIkNvbnRlbnRzIik7CiAgICBjb25zdCBsYXllcnMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGNvbnRlbnRzLCAiTGF5ZXIiKTsKICAgIHJldHVybiBsYXllcnMubWFwKChlbGVtZW50KSA9PiB7CiAgICAgIGNvbnN0IGxhdExvbkJvdW5kaW5nQm94ID0gcGFyc2VCQm94KAogICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIldHUzg0Qm91bmRpbmdCb3giKQogICAgICApOwogICAgICBsZXQgZGVmYXVsdFN0eWxlID0gIiI7CiAgICAgIGNvbnN0IHN0eWxlcyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgIlN0eWxlIikubWFwKChlbGVtZW50MikgPT4gewogICAgICAgIGNvbnN0IGxlZ2VuZFVybCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTGVnZW5kVVJMIiksCiAgICAgICAgICAieGxpbms6aHJlZiIKICAgICAgICApOwogICAgICAgIGNvbnN0IGFic3RyYWN0ID0gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbGVtZW50MiwgIkFic3RyYWN0IikpOwogICAgICAgIGNvbnN0IHN0eWxlID0gewogICAgICAgICAgdGl0bGU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJUaXRsZSIpKSwKICAgICAgICAgIG5hbWU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJJZGVudGlmaWVyIikpLAogICAgICAgICAgLi4uYWJzdHJhY3QgJiYgeyBhYnN0cmFjdCB9LAogICAgICAgICAgLi4ubGVnZW5kVXJsICYmIHsgbGVnZW5kVXJsIH0KICAgICAgICB9OwogICAgICAgIGlmIChnZXRFbGVtZW50QXR0cmlidXRlKGVsZW1lbnQyLCAiaXNEZWZhdWx0IikgPT09ICJ0cnVlIikgewogICAgICAgICAgZGVmYXVsdFN0eWxlID0gc3R5bGUubmFtZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHN0eWxlOwogICAgICB9KTsKICAgICAgY29uc3Qgb3V0cHV0Rm9ybWF0cyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgIkZvcm1hdCIpLm1hcCgKICAgICAgICBnZXRFbGVtZW50VGV4dAogICAgICApOwogICAgICBjb25zdCByZXNvdXJjZUxpbmtzID0gZmluZENoaWxkcmVuRWxlbWVudCgKICAgICAgICBlbGVtZW50LAogICAgICAgICJSZXNvdXJjZVVSTCIKICAgICAgKS5maWx0ZXIoCiAgICAgICAgKGVsZW1lbnQyKSA9PiBnZXRFbGVtZW50QXR0cmlidXRlKGVsZW1lbnQyLCAicmVzb3VyY2VUeXBlIikgPT09ICJ0aWxlIgogICAgICApLm1hcCgoZWxlbWVudDIpID0+IHsKICAgICAgICBjb25zdCBmb3JtYXQgPSBnZXRFbGVtZW50QXR0cmlidXRlKGVsZW1lbnQyLCAiZm9ybWF0Iik7CiAgICAgICAgY29uc3QgdXJsID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50MiwgInRlbXBsYXRlIik7CiAgICAgICAgcmV0dXJuIHsgZm9ybWF0LCB1cmwsIGVuY29kaW5nOiAiUkVTVCIgfTsKICAgICAgfSk7CiAgICAgIGlmIChnZXRLdnBVcmwpIHsKICAgICAgICByZXNvdXJjZUxpbmtzLnB1c2goCiAgICAgICAgICAuLi5vdXRwdXRGb3JtYXRzLm1hcCgoZm9ybWF0KSA9PiAoewogICAgICAgICAgICBlbmNvZGluZzogIktWUCIsCiAgICAgICAgICAgIHVybDogZ2V0S3ZwVXJsLAogICAgICAgICAgICBmb3JtYXQKICAgICAgICAgIH0pKQogICAgICAgICk7CiAgICAgIH0KICAgICAgY29uc3QgbWF0cml4U2V0cyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgIlRpbGVNYXRyaXhTZXRMaW5rIikubWFwKAogICAgICAgIHBhcnNlTWF0cml4U2V0TGluawogICAgICApOwogICAgICBjb25zdCBkaW1lbnNpb25zID0gZmluZENoaWxkcmVuRWxlbWVudChlbGVtZW50LCAiRGltZW5zaW9uIikubWFwKAogICAgICAgIChlbGVtZW50MikgPT4gewogICAgICAgICAgY29uc3QgaWRlbnRpZmllciA9IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiSWRlbnRpZmllciIpCiAgICAgICAgICApOwogICAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJEZWZhdWx0IikKICAgICAgICAgICk7CiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGVsZW1lbnQyLCAiVmFsdWVzIikubWFwKAogICAgICAgICAgICBnZXRFbGVtZW50VGV4dAogICAgICAgICAgKTsKICAgICAgICAgIHJldHVybiB7IGlkZW50aWZpZXIsIGRlZmF1bHRWYWx1ZSwgdmFsdWVzIH07CiAgICAgICAgfQogICAgICApOwogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIklkZW50aWZpZXIiKSksCiAgICAgICAgdGl0bGU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIlRpdGxlIikpLAogICAgICAgIGFic3RyYWN0OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJBYnN0cmFjdCIpKSwKICAgICAgICBzdHlsZXMsCiAgICAgICAgcmVzb3VyY2VMaW5rcywKICAgICAgICBtYXRyaXhTZXRzLAogICAgICAgIGRlZmF1bHRTdHlsZSwKICAgICAgICAuLi5sYXRMb25Cb3VuZGluZ0JveCAmJiB7IGxhdExvbkJvdW5kaW5nQm94IH0sCiAgICAgICAgLi4uZGltZW5zaW9ucyAmJiB7IGRpbWVuc2lvbnMgfQogICAgICB9OwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHBhcnNlRmVhdHVyZVByb3BzKGdldEZlYXR1cmVzRG9jLCBmZWF0dXJlVHlwZUZ1bGwsIHNlcnZpY2VWZXJzaW9uKSB7CiAgICBjb25zdCBjb2xsZWN0aW9uID0gZ2V0Um9vdEVsZW1lbnQoZ2V0RmVhdHVyZXNEb2MpOwogICAgbGV0IG1lbWJlcnM7CiAgICBpZiAoc2VydmljZVZlcnNpb24uc3RhcnRzV2l0aCgiMi4wIikpIHsKICAgICAgbWVtYmVycyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoY29sbGVjdGlvbiwgIm1lbWJlciIpLm1hcCgKICAgICAgICAocGFyZW50KSA9PiBnZXRDaGlsZHJlbkVsZW1lbnQocGFyZW50KVswXQogICAgICApOwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgbWVtYmVyc1Jvb3QgPSBmaW5kQ2hpbGRFbGVtZW50KGNvbGxlY3Rpb24sICJmZWF0dXJlTWVtYmVycyIpOwogICAgICBtZW1iZXJzID0gbWVtYmVyc1Jvb3QgPyBnZXRDaGlsZHJlbkVsZW1lbnQobWVtYmVyc1Jvb3QpIDogZmluZENoaWxkcmVuRWxlbWVudChjb2xsZWN0aW9uLCAiZmVhdHVyZU1lbWJlciIpLm1hcCgKICAgICAgICAocGFyZW50KSA9PiBnZXRDaGlsZHJlbkVsZW1lbnQocGFyZW50KVswXQogICAgICApOwogICAgfQogICAgY29uc3QgaWRBdHRyID0gc2VydmljZVZlcnNpb24gPT09ICIxLjAuMCIgPyAiZmlkIiA6ICJnbWw6aWQiOwogICAgZnVuY3Rpb24gaXNFbGVtZW50UHJvcGVydHkocHJvcE5hbWUpIHsKICAgICAgcmV0dXJuIHByb3BOYW1lIGluIGZlYXR1cmVUeXBlRnVsbC5wcm9wZXJ0aWVzOwogICAgfQogICAgZnVuY3Rpb24gcGFyc2VFbGVtZW50UHJvcGVydHlWYWx1ZShwcm9wTmFtZSwgdmFsdWVBc1N0cmluZykgewogICAgICBjb25zdCB0eXBlID0gZmVhdHVyZVR5cGVGdWxsLnByb3BlcnRpZXNbcHJvcE5hbWVdOwogICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICBjYXNlICJpbnRlZ2VyIjoKICAgICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZUFzU3RyaW5nKTsKICAgICAgICBjYXNlICJmbG9hdCI6CiAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZUFzU3RyaW5nKTsKICAgICAgICBjYXNlICJib29sZWFuIjoKICAgICAgICAgIHJldHVybiB2YWx1ZUFzU3RyaW5nID09PSAidHJ1ZSI7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiB2YWx1ZUFzU3RyaW5nOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBnZXRQcm9wZXJ0aWVzKG1lbWJlckVsKSB7CiAgICAgIHJldHVybiBnZXRDaGlsZHJlbkVsZW1lbnQobWVtYmVyRWwpLmZpbHRlcigoZWwpID0+IGlzRWxlbWVudFByb3BlcnR5KHN0cmlwTmFtZXNwYWNlKGdldEVsZW1lbnROYW1lKGVsKSkpKS5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHsKICAgICAgICBjb25zdCBwcm9wTmFtZSA9IHN0cmlwTmFtZXNwYWNlKGdldEVsZW1lbnROYW1lKGN1cnIpKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgLi4ucHJldiwKICAgICAgICAgIFtwcm9wTmFtZV06IHBhcnNlRWxlbWVudFByb3BlcnR5VmFsdWUocHJvcE5hbWUsIGdldEVsZW1lbnRUZXh0KGN1cnIpKQogICAgICAgIH07CiAgICAgIH0sIHt9KTsKICAgIH0KICAgIHJldHVybiBtZW1iZXJzLm1hcCgoZWwpID0+ICh7CiAgICAgIGlkOiBnZXRFbGVtZW50QXR0cmlidXRlKGVsLCBpZEF0dHIpLAogICAgICBwcm9wZXJ0aWVzOiBnZXRQcm9wZXJ0aWVzKGVsKQogICAgfSkpOwogIH0KICBmdW5jdGlvbiBjb21wdXRlRmVhdHVyZVByb3BzRGV0YWlscyhmZWF0dXJlc1dpdGhQcm9wcykgewogICAgcmV0dXJuIGZlYXR1cmVzV2l0aFByb3BzLnJlZHVjZSgocHJldiwgY3VycikgPT4gewogICAgICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIGN1cnIucHJvcGVydGllcykgewogICAgICAgIGNvbnN0IHByb3BWYWx1ZSA9IGN1cnIucHJvcGVydGllc1twcm9wTmFtZV07CiAgICAgICAgaWYgKCEocHJvcE5hbWUgaW4gcHJldikpIHsKICAgICAgICAgIHByZXZbcHJvcE5hbWVdID0geyB1bmlxdWVWYWx1ZXM6IFtdIH07CiAgICAgICAgfQogICAgICAgIGNvbnN0IHVuaXF1ZVZhbHVlID0gcHJldltwcm9wTmFtZV0udW5pcXVlVmFsdWVzLmZpbmQoCiAgICAgICAgICAodikgPT4gdi52YWx1ZSA9PT0gcHJvcFZhbHVlCiAgICAgICAgKTsKICAgICAgICBpZiAodW5pcXVlVmFsdWUpCiAgICAgICAgICB1bmlxdWVWYWx1ZS5jb3VudCsrOwogICAgICAgIGVsc2UKICAgICAgICAgIHByZXZbcHJvcE5hbWVdLnVuaXF1ZVZhbHVlcy5wdXNoKHsgdmFsdWU6IHByb3BWYWx1ZSwgY291bnQ6IDEgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHByZXY7CiAgICB9LCB7fSk7CiAgfQogIGZ1bmN0aW9uIGdlbmVyYXRlR2V0RmVhdHVyZVVybChzZXJ2aWNlVXJsLCB2ZXJzaW9uLCBmZWF0dXJlVHlwZSwgb3V0cHV0Rm9ybWF0LCBtYXhGZWF0dXJlcywgYXR0cmlidXRlcywgaGl0c09ubHksIG91dHB1dENycywgZXh0ZW50LCBleHRlbnRDcnMsIHN0YXJ0SW5kZXgpIHsKICAgIGNvbnN0IHR5cGVQYXJhbSA9IHZlcnNpb24gPT09ICIyLjAuMCIgPyAiVFlQRU5BTUVTIiA6ICJUWVBFTkFNRSI7CiAgICBjb25zdCBjb3VudFBhcmFtID0gdmVyc2lvbiA9PT0gIjIuMC4wIiA/ICJDT1VOVCIgOiAiTUFYRkVBVFVSRVMiOwogICAgY29uc3QgbmV3UGFyYW1zID0gewogICAgICBTRVJWSUNFOiAiV0ZTIiwKICAgICAgUkVRVUVTVDogIkdldEZlYXR1cmUiLAogICAgICBWRVJTSU9OOiB2ZXJzaW9uLAogICAgICBbdHlwZVBhcmFtXTogZmVhdHVyZVR5cGUKICAgIH07CiAgICBpZiAob3V0cHV0Rm9ybWF0ICE9PSB2b2lkIDApCiAgICAgIG5ld1BhcmFtcy5PVVRQVVRGT1JNQVQgPSBvdXRwdXRGb3JtYXQ7CiAgICBpZiAoYXR0cmlidXRlcyAhPT0gdm9pZCAwKQogICAgICBuZXdQYXJhbXMuUFJPUEVSVFlOQU1FID0gYXR0cmlidXRlcy5qb2luKCIsIik7CiAgICBpZiAoaGl0c09ubHkpIHsKICAgICAgbmV3UGFyYW1zLlJFU1VMVFRZUEUgPSAiaGl0cyI7CiAgICAgIG5ld1BhcmFtc1tjb3VudFBhcmFtXSA9ICIxIjsKICAgIH0gZWxzZSBpZiAobWF4RmVhdHVyZXMgIT09IHZvaWQgMCkKICAgICAgbmV3UGFyYW1zW2NvdW50UGFyYW1dID0gbWF4RmVhdHVyZXMudG9TdHJpbmcoMTApOwogICAgaWYgKG91dHB1dENycykgewogICAgICBuZXdQYXJhbXMuU1JTTkFNRSA9IG91dHB1dENyczsKICAgIH0KICAgIGlmIChleHRlbnQpIHsKICAgICAgY29uc3QgZXh0ZW50Sm9pbmVkID0gZXh0ZW50LmpvaW4oIiwiKTsKICAgICAgbmV3UGFyYW1zLkJCT1ggPSBleHRlbnRDcnMgPyBgJHtleHRlbnRKb2luZWR9LCR7ZXh0ZW50Q3JzfWAgOiBleHRlbnRKb2luZWQ7CiAgICB9CiAgICBpZiAoc3RhcnRJbmRleCkgewogICAgICBuZXdQYXJhbXMuU1RBUlRJTkRFWCA9IHN0YXJ0SW5kZXgudG9TdHJpbmcoMTApOwogICAgfQogICAgcmV0dXJuIHNldFF1ZXJ5UGFyYW1zKHNlcnZpY2VVcmwsIG5ld1BhcmFtcyk7CiAgfQogIGFkZFRhc2tIYW5kbGVyKAogICAgInBhcnNlV21zQ2FwYWJpbGl0aWVzIiwKICAgIGdsb2JhbFRoaXMsCiAgICAoeyB1cmwgfSkgPT4gcXVlcnlYbWxEb2N1bWVudCh1cmwpLnRoZW4oKHhtbERvYykgPT4gY2hlY2soeG1sRG9jLCB1cmwpKS50aGVuKCh4bWxEb2MpID0+ICh7CiAgICAgIGluZm86IHJlYWRJbmZvRnJvbUNhcGFiaWxpdGllcyQyKHhtbERvYyksCiAgICAgIGxheWVyczogcmVhZExheWVyc0Zyb21DYXBhYmlsaXRpZXMkMSh4bWxEb2MpLAogICAgICB1cmw6IHJlYWRPcGVyYXRpb25VcmxzRnJvbUNhcGFiaWxpdGllcyQxKHhtbERvYyksCiAgICAgIHZlcnNpb246IHJlYWRWZXJzaW9uRnJvbUNhcGFiaWxpdGllcyQxKHhtbERvYykKICAgIH0pKQogICk7CiAgYWRkVGFza0hhbmRsZXIoCiAgICAicGFyc2VXZnNDYXBhYmlsaXRpZXMiLAogICAgZ2xvYmFsVGhpcywKICAgICh7IHVybCB9KSA9PiBxdWVyeVhtbERvY3VtZW50KHVybCkudGhlbigoeG1sRG9jKSA9PiBjaGVjayh4bWxEb2MsIHVybCkpLnRoZW4oKHhtbERvYykgPT4gKHsKICAgICAgaW5mbzogcmVhZEluZm9Gcm9tQ2FwYWJpbGl0aWVzJDEoeG1sRG9jKSwKICAgICAgZmVhdHVyZVR5cGVzOiByZWFkRmVhdHVyZVR5cGVzRnJvbUNhcGFiaWxpdGllcyh4bWxEb2MpLAogICAgICB1cmw6IHJlYWRPcGVyYXRpb25VcmxzRnJvbUNhcGFiaWxpdGllcyh4bWxEb2MpLAogICAgICB2ZXJzaW9uOiByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoeG1sRG9jKQogICAgfSkpCiAgKTsKICBhZGRUYXNrSGFuZGxlcigKICAgICJxdWVyeVdmc0ZlYXR1cmVUeXBlRGV0YWlscyIsCiAgICBnbG9iYWxUaGlzLAogICAgKHsKICAgICAgdXJsLAogICAgICBzZXJ2aWNlVmVyc2lvbiwKICAgICAgZmVhdHVyZVR5cGVGdWxsCiAgICB9KSA9PiB7CiAgICAgIGNvbnN0IGdldEZlYXR1cmVVcmwgPSBnZW5lcmF0ZUdldEZlYXR1cmVVcmwoCiAgICAgICAgdXJsLAogICAgICAgIHNlcnZpY2VWZXJzaW9uLAogICAgICAgIGZlYXR1cmVUeXBlRnVsbC5uYW1lLAogICAgICAgIHZvaWQgMCwKICAgICAgICB2b2lkIDAsCiAgICAgICAgT2JqZWN0LmtleXMoZmVhdHVyZVR5cGVGdWxsLnByb3BlcnRpZXMpCiAgICAgICk7CiAgICAgIHJldHVybiBxdWVyeVhtbERvY3VtZW50KGdldEZlYXR1cmVVcmwpLnRoZW4oKGdldEZlYXR1cmVEb2MpID0+ICh7CiAgICAgICAgcHJvcHM6IGNvbXB1dGVGZWF0dXJlUHJvcHNEZXRhaWxzKAogICAgICAgICAgcGFyc2VGZWF0dXJlUHJvcHMoZ2V0RmVhdHVyZURvYywgZmVhdHVyZVR5cGVGdWxsLCBzZXJ2aWNlVmVyc2lvbikKICAgICAgICApCiAgICAgIH0pKTsKICAgIH0KICApOwogIGFkZFRhc2tIYW5kbGVyKAogICAgInVwZGF0ZUZldGNoT3B0aW9ucyIsCiAgICBnbG9iYWxUaGlzLAogICAgKHsgb3B0aW9ucyB9KSA9PiB7CiAgICAgIHNldEZldGNoT3B0aW9ucyhvcHRpb25zKTsKICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7fSk7CiAgICB9CiAgKTsKICBhZGRUYXNrSGFuZGxlcigKICAgICJwYXJzZVdtdHNDYXBhYmlsaXRpZXMiLAogICAgZ2xvYmFsVGhpcywKICAgICh7IHVybCB9KSA9PiBxdWVyeVhtbERvY3VtZW50KHVybCkudGhlbigoeG1sRG9jKSA9PiBjaGVjayh4bWxEb2MsIHVybCkpLnRoZW4oKHhtbERvYykgPT4gKHsKICAgICAgaW5mbzogcmVhZEluZm9Gcm9tQ2FwYWJpbGl0aWVzKHhtbERvYyksCiAgICAgIGxheWVyczogcmVhZExheWVyc0Zyb21DYXBhYmlsaXRpZXMoeG1sRG9jKSwKICAgICAgbWF0cml4U2V0czogcmVhZE1hdHJpeFNldHNGcm9tQ2FwYWJpbGl0aWVzKHhtbERvYykKICAgIH0pKQogICk7Cn0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPXdvcmtlci1zYkdwV0V0Wi5qcy5tYXAK")],{type:"text/javascript;charset=utf-8"});class bst extends Error{constructor(r){super(r)}}function vl(e){const r=e.indexOf(":");return r>-1?e.substr(r+1):e}function Oo(e){return e.children[0]}function fl(e){return e.name||""}function er(e,r,t=!1){const n=vl(r);return e&&Array.isArray(e.children)?e.children.reduce(function o(s,i){return vl(fl(i))===n&&s.push(i),t&&Array.isArray(i.children)?[...s,...i.children.reduce(o,[])]:s},[]):[]}function ae(e,r,t=!1){return er(e,r,t)[0]||null}function ml(e){return e&&Array.isArray(e.children)?[...e.children.filter(r=>r instanceof po.XmlElement)]:[]}function Ee(e){const r=e&&Array.isArray(e.children)?e.children.find(t=>"text"===t.type):null;return r?r.text:""}function Rr(e,r){return e&&e.attributes[r]||""}class ak extends Error{constructor(r,t,n){super(r),this.message=r,this.httpStatus=t,this.isCrossOriginRelated=n}}const eE=["utf-8","utf-16","iso-8859-1"],g7=new Map;let ck={};function nE(){return ck}function v7(e){return function Ast(e,r="GET",t){let n=`${r}#${e}`;if(t&&(n=`${r}#asJson#${e}`),g7.has(n))return g7.get(n);const o={...nE()};o.method=r,t&&(o.headers="headers"in o?o.headers:{},o.headers.Accept="application/json");const s=fetch(e,o).catch(i=>i).then(i=>(g7.delete(n),i));return g7.set(n,s),s.then(i=>{if(i instanceof Error)throw i;return i})}(e).catch(()=>fetch(e,{...nE(),method:"HEAD",mode:"no-cors"}).catch(r=>{throw new ak(`Fetching the document failed either due to network errors or unreachable host, error is: ${r.message}`,0,!1)}).then(()=>{throw new ak("The document could not be fetched due to CORS limitations",0,!0)})).then(function(){var r=(0,f2.A)(function*(t){if(!t.ok){const s=yield t.text();throw new ak(`Received an error with code ${t.status}: ${s}`,t.status,!1)}return function Lst(e,r){const t=r?function Vst(e){const r=/charset=([^;]+)/.exec(e);return r?r[1]:null}(r):null,n=t?[t,...eE]:eE;for(const o of n)try{return new TextDecoder(o,{fatal:!0}).decode(e)}catch{}return console.warn("[ogc-client] XML document encoding could not be determined, falling back to utf-8."),new TextDecoder("utf-8").decode(e)}(yield t.arrayBuffer(),t.headers.get("Content-Type"))});return function(t){return r.apply(this,arguments)}}()).then(r=>function Hst(e){let r=null;try{r=(0,po.parseXml)(e)}catch(t){throw new bst(t.message)}return r}(r))}function oE(e,r){const t=e.match(/(https?%3A%2F%2F[^/]+)$/);if(t){const l=t[1],a=oE(decodeURIComponent(l),r);return e.replace(l,encodeURIComponent(a))}const n=new URL(e),o=Object.keys(r),s=o.map(l=>l.toLowerCase()),i=[];for(const l of n.searchParams.keys())s.indexOf(l.toLowerCase())>-1&&i.push(l);return i.map(l=>n.searchParams.delete(l)),o.forEach(l=>n.searchParams.set(l,!0===r[l]?"":r[l])),n.toString()}function Fst(e,r,t,n,o,s,i,l,a,c,h){const u="2.0.0"===r?"TYPENAMES":"TYPENAME",d="2.0.0"===r?"COUNT":"MAXFEATURES",p={SERVICE:"WFS",REQUEST:"GetFeature",VERSION:r,[u]:t};if(void 0!==n&&(p.OUTPUTFORMAT=n),void 0!==s&&(p.PROPERTYNAME=s.join(",")),i?(p.RESULTTYPE="hits",p[d]="1"):void 0!==o&&(p[d]=o.toString(10)),l&&(p.SRSNAME=l),a){const f=a.join(",");p.BBOX=c?`${f},${c}`:f}return h&&(p.STARTINDEX=h.toString(10)),oE(e,p)}class Ost extends Error{constructor(r,t,n,o,s){super(r),this.requestUrl=t,this.code=n,this.locator=o,this.response=s}}function aE(e,r){const t=Rr(e,"code")||Rr(e,"exceptionCode"),n=Rr(e,"locator"),s=Ee(ae(e,"ExceptionText")||e).trim();return new Ost(s,r,t,n,e.document)}function mk(e,r){const t=Oo(e),n=vl(fl(t));if("ServiceExceptionReport"===n){const o=ae(t,"ServiceException");if(o)throw aE(o,r)}if("ExceptionReport"===n){const o=ae(t,"Exception");if(o)throw aE(o,r)}return e}function M3(e,r,t){const n=typeof WorkerGlobalScope<"u",o=function(){var s=(0,f2.A)(function*(i){if(i.taskName===e){let l,a;try{l=yield t(i.params)}catch(h){a=h}const c={taskName:e,requestId:i.requestId,...l&&{response:l},...a&&{error:a}};n?r.postMessage(c):r.dispatchEvent(new CustomEvent("ogc-client.response",{detail:c}))}});return function(l){return s.apply(this,arguments)}}();n?r.addEventListener("message",s=>o(s.data)):r.addEventListener("ogc-client.request",s=>o(s.detail))}const Zst=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function wk(e){return/^urn:(?:x-)?ogc:def:crs:epsg:/.test(e.toLowerCase())?`EPSG:${/([0-9]+)$/.exec(e)[1]}`:e}function Wst(e){const r={},t=ae(Oo(e),"Capability");return ml(ae(t,"Request")).forEach(o=>{const s=vl(fl(o));r[s]=function qst(e){const r={};return er(e,"DCPType").flatMap(s=>ae(s,"HTTP")).flatMap(s=>ml(s)).forEach(s=>{const i=ae(s,"OnlineResource"),l=vl(fl(s));r[l]=Rr(i,"xlink:href")}),r}(o)}),r}function cE(e){return Oo(e).attributes.version}function Ust(e){const r=cE(e);return er(ae(Oo(e),"Capability"),"Layer").map(n=>hE(n,r))}function Kst(e){const r=ae(Oo(e),"Service"),t=function $st(e){const r=ae(Oo(e),"Capability");return er(ae(ae(r,"Request"),"GetMap"),"Format").map(Ee)}(e),n=function Yst(e){const r=ae(Oo(e),"Capability");return er(ae(ae(r,"Request"),"GetFeatureInfo"),"Format").map(Ee)}(e),o=function Xst(e){const r=ae(Oo(e),"Capability");return er(ae(r,"Exception"),"Format").map(Ee)}(e),s=er(ae(r,"KeywordList"),"Keyword").map(Ee).filter((l,a,c)=>c.indexOf(l)===a),i=function tit(e){const r=ae(Oo(e),"Service"),t=ae(r,"ContactInformation"),n=ae(t,"ContactPersonPrimary"),o=ae(t,"ContactAddress");return{contact:{name:Ee(ae(n,"ContactPerson")),organization:Ee(ae(n,"ContactOrganization")),position:Ee(ae(t,"ContactPosition")),phone:Ee(ae(t,"ContactVoiceTelephone")),fax:Ee(ae(t,"ContactFacsimileTelephone")),address:{deliveryPoint:Ee(ae(o,"Address")),city:Ee(ae(o,"City")),administrativeArea:Ee(ae(o,"StateOrProvince")),postalCode:Ee(ae(o,"PostCode")),country:Ee(ae(o,"Country"))},email:Ee(ae(t,"ContactElectronicMailAddress"))}}}(e);return{title:Ee(ae(r,"Title")),name:Ee(ae(r,"Name")),abstract:Ee(ae(r,"Abstract")),outputFormats:t,infoFormats:n,exceptionFormats:o,fees:Ee(ae(r,"Fees")),constraints:Ee(ae(r,"AccessConstraints")),provider:i,keywords:s}}function hE(e,r,t=[],n=[],o=null,s=null,i=null,l=null){const a="1.3.0"===r?"CRS":"SRS",c=er(e,a).map(Ee),h=c.length>0?c:t,u=er(e,"Style").map(Jst),d=u.length>0?u:n;function p(Fe){return(function Gst(e){return Zst.indexOf(wk(e))>-1}(Rr(Fe,a))&&"1.3.0"===r?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map(lr=>Rr(Fe,lr))}function V(Fe,Se){return""===Fe?Se:Math.sqrt(.5*parseFloat(Fe)**2)/28e-5}function R(Fe,Se){const x1=Ee(ae(e,Fe));return""===x1?Se:parseFloat(x1)}const mt=ae(e,"Attribution"),Ct=null!==mt?function Qst(e){const r=Rr(ae(ae(e,"LogoURL"),"OnlineResource"),"xlink:href"),t=Rr(ae(e,"OnlineResource"),"xlink:href"),n=Ee(ae(e,"Title"));return{...n&&{title:n},...t&&{url:t},...r&&{logoUrl:r}}}(mt):o,yt=ae(e,"1.3.0"===r?"EX_GeographicBoundingBox":"LatLonBoundingBox"),tt={};yt&&(tt["EPSG:4326"]="1.3.0"===r?function f(Fe){return["westBoundLongitude","southBoundLatitude","eastBoundLongitude","northBoundLatitude"].map(Se=>Ee(ae(Fe,Se)))}(yt):function y(Fe){return["minx","miny","maxx","maxy"].map(Se=>Rr(Fe,Se))}(yt));let Vt=er(e,"BoundingBox").reduce((Fe,Se)=>({...Fe,[Rr(Se,a)]:p(Se)}),tt);Vt=Object.keys(Vt).length>0||null===s?Vt:s;const Gt="1"===e.attributes.queryable||"true"===e.attributes.queryable,pe="1"===e.attributes.opaque||"true"===e.attributes.opaque,ge=er(ae(e,"KeywordList"),"Keyword").map(Ee).filter((Fe,Se,x1)=>x1.indexOf(Fe)===Se);let Me,he;"1.3.0"===r?(Me=R("MinScaleDenominator",l),he=R("MaxScaleDenominator",i)):[Me,he]=function L(){const Fe=ae(e,"ScaleHint");if(!Fe)return[l,i];const Se=Rr(Fe,"min"),x1=Rr(Fe,"max");return[V(Se,l),V(x1,i)]}();const Le=er(e,"MetadataURL").map(Fe=>({type:Rr(Fe,"type"),format:Ee(ae(Fe,"Format")),url:Rr(ae(Fe,"OnlineResource"),"xlink:href")})),Ue=er(e,"Layer").map(Fe=>hE(Fe,r,h,d,Ct,Vt,he,Me));return{name:Ee(ae(e,"Name")),title:Ee(ae(e,"Title")),abstract:Ee(ae(e,"Abstract")),availableCrs:h,styles:d,attribution:Ct,boundingBoxes:Vt,keywords:ge,queryable:Gt,opaque:pe,...null!==Me?{minScaleDenominator:Me}:{},...null!==he?{maxScaleDenominator:he}:{},...Le.length&&{metadata:Le},...Ue.length&&{children:Ue}}}function Jst(e){const r=Rr(ae(ae(e,"LegendURL"),"OnlineResource"),"xlink:href"),t=Ee(ae(e,"Abstract"));return{name:Ee(ae(e,"Name")),title:Ee(ae(e,"Title")),...t&&{abstract:t},...r&&{legendUrl:r}}}function uE(e){const r=ae(Oo(e),"ServiceProvider"),t=ae(r,"ServiceContact"),n=ae(t,"ContactInfo"),o=ae(n,"Phone"),s=ae(n,"Address");return{name:Ee(ae(r,"ProviderName")),site:Rr(ae(r,"ProviderSite"),"xlink:href"),contact:{name:Ee(ae(t,"IndividualName")),position:Ee(ae(t,"PositionName")),phone:Ee(ae(o,"Voice")),fax:Ee(ae(o,"Facsimile")),address:{deliveryPoint:Ee(ae(s,"DeliveryPoint")),city:Ee(ae(s,"City")),administrativeArea:Ee(ae(s,"AdministrativeArea")),postalCode:Ee(ae(s,"PostalCode")),country:Ee(ae(s,"Country"))},email:Ee(ae(s,"ElectronicMailAddress"))}}}function eit(e){const r={},t=Oo(e),n=ae(t,"OperationsMetadata");if(n)er(n,"Operation").forEach(o=>{const s=Rr(o,"name");r[s]=function sit(e){const r={};return er(e,"DCP").flatMap(s=>ae(s,"HTTP")).flatMap(s=>ml(s)).forEach(s=>{const i=vl(fl(s));r[i]=Rr(s,"xlink:href")}),r}(o)});else{const o=ae(t,"Capability");ml(ae(o,"Request")).forEach(i=>{const l=vl(fl(i));r[l]=function oit(e){const r={};return er(e,"DCPType").flatMap(s=>er(s,"HTTP")).flatMap(s=>ml(s)).forEach(s=>{const i=vl(fl(s));r[i]=Rr(s,"onlineResource")}),r}(i)})}return r}function m7(e){return Oo(e).attributes.version}function dE(e){let t;if(m7(e).startsWith("1.0")){const n=ae(ae(ae(Oo(e),"Capability"),"Request"),"GetFeature");t=ml(ae(n,"ResultFormat")).map(fl)}else{const o=er(ae(Oo(e),"OperationsMetadata"),"Operation").find(i=>"GetFeature"===Rr(i,"name")),s=er(o,"Parameter").find(i=>"outputFormat"===Rr(i,"name"));t=er(s,"Value",!0).map(Ee)}return t}function rit(e){const r=m7(e),t=r.startsWith("1.0")?"Service":"ServiceIdentification",n=r.startsWith("1.0")?"Name":"ServiceType",o=ae(Oo(e),t);let s,i;return s=r.startsWith("1.0")?Ee(ae(o,"Keywords")).split(",").map(l=>l.trim()):er(ae(o,"Keywords"),"Keyword").map(Ee),"1.0.0"!==r&&(i=uE(e)),{title:Ee(ae(o,"Title")),name:Ee(ae(o,n)),abstract:Ee(ae(o,"Abstract")),fees:Ee(ae(o,"Fees")),constraints:Ee(ae(o,"AccessConstraints")),keywords:s,provider:i,outputFormats:dE(e)}}function nit(e){const r=m7(e),t=dE(e);return er(ae(Oo(e),"FeatureTypeList"),"FeatureType").map(o=>function iit(e,r,t){const n=r.startsWith("2.")?"CRS":"SRS",o=r.startsWith("1.0")?"SRS":`Default${n}`;const l=r.startsWith("1.0")?[]:er(e,`Other${n}`).map(Ee).map(wk),a=r.startsWith("1.0")?[]:er(ae(e,"OutputFormats"),"Format").map(Ee),c=r.startsWith("1.0")?Ee(ae(e,"Keywords")).split(",").map(u=>u.trim()):er(ae(e,"Keywords"),"Keyword").map(Ee).filter((u,d,p)=>p.indexOf(u)===d),h="2.0.0"===r?er(e,"MetadataURL").map(u=>({url:Rr(u,"xlink:href")})):er(e,"MetadataURL").map(u=>({format:Rr(u,"format"),type:Rr(u,"type"),url:Ee(u).trim()}));return{name:Ee(ae(e,"Name")),title:Ee(ae(e,"Title")),abstract:Ee(ae(e,"Abstract")),defaultCrs:wk(Ee(ae(e,o))),otherCrs:l,outputFormats:a.length>0?a:t,latLonBoundingBox:r.startsWith("1.0")?function s(){const u=ae(e,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map(d=>Rr(u,d)).map(parseFloat)}():function i(){const u=ae(e,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map(d=>ae(u,d)).map(d=>Ee(d).split(" ")).reduce((d,p)=>[...d,...p]).map(parseFloat)}(),keywords:c,...h.length&&{metadata:h}}}(o,r,t))}function pE(e){const r=["LowerCorner","UpperCorner"].map(t=>ae(e,t)).map(t=>Ee(t).split(" ")).reduce((t,n)=>[...t,...n]).map(parseFloat);return r.some(Number.isNaN)?null:r}function lit(e){const r=Oo(e),t=ae(r,"ServiceIdentification"),n=er(ae(t,"Keywords"),"Keyword").map(Ee),s=er(ae(r,"OperationsMetadata"),"Operation").find(l=>"GetTile"==Rr(l,"name")),i=er(s,"Get",!0).reduce((l,a)=>{const c=Ee(ae(a,"Value",!0)),h=Rr(a,"xlink:href");return"restful"===c.toLowerCase()?{...l,rest:h}:{...l,kvp:h}},{});return{title:Ee(ae(t,"Title")),name:Ee(ae(t,"ServiceType")),abstract:Ee(ae(t,"Abstract")),fees:Ee(ae(t,"Fees")),constraints:Ee(ae(t,"AccessConstraints")),keywords:n,provider:uE(e),getTileUrls:i}}function ait(e){function r(o){const s=Ee(ae(o,"TopLeftCorner")).split(" ").map(parseFloat);return{identifier:Ee(ae(o,"Identifier")),tileWidth:parseInt(Ee(ae(o,"TileWidth"))),tileHeight:parseInt(Ee(ae(o,"TileHeight"))),matrixWidth:parseInt(Ee(ae(o,"MatrixWidth"))),matrixHeight:parseInt(Ee(ae(o,"MatrixHeight"))),scaleDenominator:parseFloat(Ee(ae(o,"ScaleDenominator"))),topLeft:s}}return er(ae(Oo(e),"Contents"),"TileMatrixSet").map(o=>{const s=Ee(ae(o,"WellKnownScaleSet")),i=pE(ae(o,"BoundingBox"));return{identifier:Ee(ae(o,"Identifier")),crs:Ee(ae(o,"SupportedCRS")),tileMatrices:er(o,"TileMatrix").map(r),...i&&{boundingBox:i},...s&&{wellKnownScaleSet:s}}})}function cit(e){const r=Oo(e),t=ae(r,"Contents");function n(c){const h=er(t,"TileMatrixSet").find(u=>Ee(ae(u,"Identifier")));return{identifier:Ee(ae(c,"TileMatrixSet")),crs:Ee(ae(h,"SupportedCRS")),limits:er(c,"TileMatrixLimits",!0).map(u=>({tileMatrix:Ee(ae(u,"TileMatrix")),minTileRow:parseInt(Ee(ae(u,"MinTileRow"))),minTileCol:parseInt(Ee(ae(u,"MinTileCol"))),maxTileRow:parseInt(Ee(ae(u,"MaxTileRow"))),maxTileCol:parseInt(Ee(ae(u,"MaxTileCol")))}))}}const o=er(ae(r,"OperationsMetadata"),"Operation").find(c=>"GetTile"==Rr(c,"name")),s=er(o,"Get",!0).filter(c=>"kvp"===Ee(ae(c,"Value",!0)).toLowerCase())[0],i=s?Rr(s,"xlink:href"):"";return er(ae(r,"Contents"),"Layer").map(c=>{const h=pE(ae(c,"WGS84BoundingBox"));let u="";const d=er(c,"Style").map(L=>{const R=Rr(ae(L,"LegendURL"),"xlink:href"),mt=Ee(ae(L,"Abstract")),Ct={title:Ee(ae(L,"Title")),name:Ee(ae(L,"Identifier")),...mt&&{abstract:mt},...R&&{legendUrl:R}};return"true"===Rr(L,"isDefault")&&(u=Ct.name),Ct}),p=er(c,"Format").map(Ee),f=er(c,"ResourceURL").filter(L=>"tile"===Rr(L,"resourceType")).map(L=>({format:Rr(L,"format"),url:Rr(L,"template"),encoding:"REST"}));i&&f.push(...p.map(L=>({encoding:"KVP",url:i,format:L})));const y=er(c,"TileMatrixSetLink").map(n),V=er(c,"Dimension").map(L=>({identifier:Ee(ae(L,"Identifier")),defaultValue:Ee(ae(L,"Default")),values:er(L,"Values").map(Ee)}));return{name:Ee(ae(c,"Identifier")),title:Ee(ae(c,"Title")),abstract:Ee(ae(c,"Abstract")),styles:d,resourceLinks:f,matrixSets:y,defaultStyle:u,...h&&{latLonBoundingBox:h},...V&&{dimensions:V}}})}function hit(e,r,t){const n=Oo(e);let o;if(t.startsWith("2.0"))o=er(n,"member").map(c=>ml(c)[0]);else{const c=ae(n,"featureMembers");o=c?ml(c):er(n,"featureMember").map(h=>ml(h)[0])}const s="1.0.0"===t?"fid":"gml:id";function l(c,h){switch(r.properties[c]){case"integer":return parseInt(h);case"float":return parseFloat(h);case"boolean":return"true"===h;default:return h}}function a(c){return ml(c).filter(h=>function i(c){return c in r.properties}(vl(fl(h)))).reduce((h,u)=>{const d=vl(fl(u));return{...h,[d]:l(d,Ee(u))}},{})}return o.map(c=>({id:Rr(c,s),properties:a(c)}))}function uit(e){return e.reduce((r,t)=>{for(const n in t.properties){const o=t.properties[n];n in r||(r[n]={uniqueValues:[]});const s=r[n].uniqueValues.find(i=>i.value===o);s?s.count++:r[n].uniqueValues.push({value:o,count:1})}return r},{})}M3("parseWmsCapabilities",globalThis,({url:e})=>v7(e).then(r=>mk(r,e)).then(r=>({info:Kst(r),layers:Ust(r),url:Wst(r),version:cE(r)}))),M3("parseWfsCapabilities",globalThis,({url:e})=>v7(e).then(r=>mk(r,e)).then(r=>({info:rit(r),featureTypes:nit(r),url:eit(r),version:m7(r)}))),M3("queryWfsFeatureTypeDetails",globalThis,({url:e,serviceVersion:r,featureTypeFull:t})=>v7(Fst(e,r,t.name,void 0,void 0,Object.keys(t.properties))).then(o=>({props:uit(hit(o,t,r))}))),M3("updateFetchOptions",globalThis,({options:e})=>(function zst(e){ck=e}(e),Promise.resolve({}))),M3("parseWmtsCapabilities",globalThis,({url:e})=>v7(e).then(r=>mk(r,e)).then(r=>({info:lit(r),layers:cit(r),matrixSets:ait(r)})));const mit=["*"];let m0=(()=>{class e{constructor(){this.btnClass="gn-ui-btn-default",this.disabled=!1,this.extraClass="",this.buttonClick=new Ae}set type(t){switch(t){case"primary":this.btnClass="gn-ui-btn-primary";break;case"secondary":this.btnClass="gn-ui-btn-secondary";break;case"outline":this.btnClass="gn-ui-btn-outline";break;case"light":this.btnClass="gn-ui-btn-light";break;case"gray":this.btnClass="gn-ui-btn-gray";break;case"black":this.btnClass="gn-ui-btn-black";break;default:this.btnClass="gn-ui-btn-default"}}get classList(){return`${this.btnClass} ${this.extraClass}`}handleClick(t){this.buttonClick.emit(),t.preventDefault(),t.currentTarget.blur(),function ost(e){e.stopPropagation(),setTimeout(()=>{window.document.dispatchEvent(e)},0)}(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["gn-ui-button"]],inputs:{type:"type",disabled:"disabled",extraClass:"extraClass"},outputs:{buttonClick:"buttonClick"},standalone:!0,features:[uo],ngContentSelectors:mit,decls:2,vars:3,consts:[["type","button",3,"click","disabled"]],template:function(n,o){1&n&&(V2(),Ot(0,"button",0),we("click",function(i){return o.handleClick(i)}),To(1),Ut()),2&n&&(ba(o.classList),$t("disabled",o.disabled))},changeDetection:0})}}return e})();class wit extends Dt{constructor(r,t){super()}schedule(r,t=0){return this}}const w7={setInterval(e,r,...t){const{delegate:n}=w7;return n?.setInterval?n.setInterval(e,r,...t):setInterval(e,r,...t)},clearInterval(e){const{delegate:r}=w7;return(r?.clearInterval||clearInterval)(e)},delegate:void 0};class kk extends wit{constructor(r,t){super(r,t),this.scheduler=r,this.work=t,this.pending=!1}schedule(r,t=0){var n;if(this.closed)return this;this.state=r;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(s,this.id,t),this}requestAsyncId(r,t,n=0){return w7.setInterval(r.flush.bind(r,this),n)}recycleAsyncId(r,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&w7.clearInterval(t)}execute(r,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(r,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,t){let o,n=!1;try{this.work(r)}catch(s){n=!0,o=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:r,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,It(n,this),null!=r&&(this.id=this.recycleAsyncId(t,r,null)),this.delay=null,super.unsubscribe()}}}class y3{constructor(r,t=y3.now){this.schedulerActionCtor=r,this.now=t}schedule(r,t=0,n){return new this.schedulerActionCtor(this,r).schedule(n,t)}}y3.now=HC.now;class _k extends y3{constructor(r,t=y3.now){super(r,t),this.actions=[],this._active=!1}flush(r){const{actions:t}=this;if(this._active)return void t.push(r);let n;this._active=!0;do{if(n=r.execute(r.state,r.delay))break}while(r=t.shift());if(this._active=!1,n){for(;r=t.shift();)r.unsubscribe();throw n}}}const C7=new _k(kk),Cit=C7;function Ih(e,r=C7){return nn((t,n)=>{let o=null,s=null,i=null;const l=()=>{if(o){o.unsubscribe(),o=null;const c=s;s=null,n.next(c)}};function a(){const c=i+e,h=r.now();if(h<c)return o=this.schedule(void 0,c-h),void n.add(o);l()}t.subscribe(D(n,c=>{s=c,i=r.now(),o||(o=r.schedule(a,e),n.add(o))},()=>{l(),n.complete()},void 0,()=>{s=o=null}))})}let fE=(()=>{class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(n){return new(n||e)(kt(xi),kt(mr))}}static{this.\u0275dir=p1({type:e})}}return e})(),w0=(()=>{class e extends fE{static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=ho(e)))(o||e)}})()}static{this.\u0275dir=p1({type:e,features:[Cr]})}}return e})();const B2=new ye(""),kit={provide:B2,useExisting:Hr(()=>Mk),multi:!0};let Mk=(()=>{class e extends w0{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=ho(e)))(o||e)}})()}static{this.\u0275dir=p1({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,o){1&n&&we("change",function(i){return o.onChange(i.target.checked)})("blur",function(){return o.onTouched()})},features:[yr([kit]),Cr]})}}return e})();const _it={provide:B2,useExisting:Hr(()=>x3),multi:!0},mE=new ye("");let x3=(()=>{class e extends fE{constructor(t,n,o){super(t,n),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mit(){const e=La()?La().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(n){return new(n||e)(kt(xi),kt(mr),kt(mE,8))}}static{this.\u0275dir=p1({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&we("input",function(i){return o._handleInput(i.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(i){return o._compositionEnd(i.target.value)})},features:[yr([_it]),Cr]})}}return e})();function Ua(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function wE(e){return null!=e&&"number"==typeof e.length}const Lo=new ye(""),$a=new ye(""),yit=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class k7{static min(r){return function CE(e){return r=>{if(Ua(r.value)||Ua(e))return null;const t=parseFloat(r.value);return!isNaN(t)&&t<e?{min:{min:e,actual:r.value}}:null}}(r)}static max(r){return function kE(e){return r=>{if(Ua(r.value)||Ua(e))return null;const t=parseFloat(r.value);return!isNaN(t)&&t>e?{max:{max:e,actual:r.value}}:null}}(r)}static required(r){return function _E(e){return Ua(e.value)?{required:!0}:null}(r)}static requiredTrue(r){return function ME(e){return!0===e.value?null:{required:!0}}(r)}static email(r){return function yE(e){return Ua(e.value)||yit.test(e.value)?null:{email:!0}}(r)}static minLength(r){return xE(r)}static maxLength(r){return function bE(e){return r=>wE(r.value)&&r.value.length>e?{maxlength:{requiredLength:e,actualLength:r.value.length}}:null}(r)}static pattern(r){return function HE(e){if(!e)return _7;let r,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),r=new RegExp(t)):(t=e.toString(),r=e),n=>{if(Ua(n.value))return null;const o=n.value;return r.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(r)}static nullValidator(r){return null}static compose(r){return SE(r)}static composeAsync(r){return BE(r)}}function xE(e){return r=>Ua(r.value)||!wE(r.value)?null:r.value.length<e?{minlength:{requiredLength:e,actualLength:r.value.length}}:null}function _7(e){return null}function VE(e){return null!=e}function LE(e){return x9(e)?d0(e):e}function zE(e){let r={};return e.forEach(t=>{r=null!=t?{...r,...t}:r}),0===Object.keys(r).length?null:r}function AE(e,r){return r.map(t=>t(e))}function IE(e){return e.map(r=>function xit(e){return!e.validate}(r)?r:t=>r.validate(t))}function SE(e){if(!e)return null;const r=e.filter(VE);return 0==r.length?null:function(t){return zE(AE(t,r))}}function yk(e){return null!=e?SE(IE(e)):null}function BE(e){if(!e)return null;const r=e.filter(VE);return 0==r.length?null:function(t){return FB(AE(t,r).map(LE)).pipe(ot(zE))}}function xk(e){return null!=e?BE(IE(e)):null}function DE(e,r){return null===e?[r]:Array.isArray(e)?[...e,r]:[e,r]}function EE(e){return e._rawValidators}function TE(e){return e._rawAsyncValidators}function bk(e){return e?Array.isArray(e)?e:[e]:[]}function M7(e,r){return Array.isArray(e)?e.includes(r):e===r}function RE(e,r){const t=bk(r);return bk(e).forEach(o=>{M7(t,o)||t.push(o)}),t}function FE(e,r){return bk(r).filter(t=>!M7(e,t))}class jE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=yk(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=xk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r=void 0){this.control&&this.control.reset(r)}hasError(r,t){return!!this.control&&this.control.hasError(r,t)}getError(r,t){return this.control?this.control.getError(r,t):null}}class D2 extends jE{get formDirective(){return null}get path(){return null}}class Ul extends jE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class PE{constructor(r){this._cd=r}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let y7=(()=>{class e extends PE{constructor(t){super(t)}static{this.\u0275fac=function(n){return new(n||e)(kt(Ul,2))}}static{this.\u0275dir=p1({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&Zn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Cr]})}}return e})(),NE=(()=>{class e extends PE{constructor(t){super(t)}static{this.\u0275fac=function(n){return new(n||e)(kt(D2,10))}}static{this.\u0275dir=p1({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&Zn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Cr]})}}return e})();const b3="VALID",b7="INVALID",Sh="PENDING",H3="DISABLED";class Bh{}class ZE extends Bh{constructor(r,t){super(),this.value=r,this.source=t}}class Lk extends Bh{constructor(r,t){super(),this.pristine=r,this.source=t}}class zk extends Bh{constructor(r,t){super(),this.touched=r,this.source=t}}class H7 extends Bh{constructor(r,t){super(),this.status=r,this.source=t}}class zit extends Bh{constructor(r){super(),this.source=r}}class Ait extends Bh{constructor(r){super(),this.source=r}}function Ak(e){return(V7(e)?e.validators:e)||null}function Ik(e,r){return(V7(r)?r.asyncValidators:e)||null}function V7(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Sk{constructor(r,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=zu(()=>this.statusReactive()),this.statusReactive=Il(void 0),this._pristine=zu(()=>this.pristineReactive()),this.pristineReactive=Il(!0),this._touched=zu(()=>this.touchedReactive()),this.touchedReactive=Il(!1),this._events=new V1,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(r),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get status(){return Vi(this.statusReactive)}set status(r){Vi(()=>this.statusReactive.set(r))}get valid(){return this.status===b3}get invalid(){return this.status===b7}get pending(){return this.status==Sh}get disabled(){return this.status===H3}get enabled(){return this.status!==H3}get pristine(){return Vi(this.pristineReactive)}set pristine(r){Vi(()=>this.pristineReactive.set(r))}get dirty(){return!this.pristine}get touched(){return Vi(this.touchedReactive)}set touched(r){Vi(()=>this.touchedReactive.set(r))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._assignValidators(r)}setAsyncValidators(r){this._assignAsyncValidators(r)}addValidators(r){this.setValidators(RE(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(RE(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(FE(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(FE(r,this._rawAsyncValidators))}hasValidator(r){return M7(this._rawValidators,r)}hasAsyncValidator(r){return M7(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){const t=!1===this.touched;this.touched=!0;const n=r.sourceControl??this;this._parent&&!r.onlySelf&&this._parent.markAsTouched({...r,sourceControl:n}),t&&!1!==r.emitEvent&&this._events.next(new zk(!0,n))}markAllAsTouched(r={}){this.markAsTouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(r))}markAsUntouched(r={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const n=r.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:n})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,n),t&&!1!==r.emitEvent&&this._events.next(new zk(!1,n))}markAsDirty(r={}){const t=!0===this.pristine;this.pristine=!1;const n=r.sourceControl??this;this._parent&&!r.onlySelf&&this._parent.markAsDirty({...r,sourceControl:n}),t&&!1!==r.emitEvent&&this._events.next(new Lk(!1,n))}markAsPristine(r={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const n=r.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:r.emitEvent})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r,n),t&&!1!==r.emitEvent&&this._events.next(new Lk(!0,n))}markAsPending(r={}){this.status=Sh;const t=r.sourceControl??this;!1!==r.emitEvent&&(this._events.next(new H7(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.markAsPending({...r,sourceControl:t})}disable(r={}){const t=this._parentMarkedDirty(r.onlySelf);this.status=H3,this.errors=null,this._forEachChild(o=>{o.disable({...r,onlySelf:!0})}),this._updateValue();const n=r.sourceControl??this;!1!==r.emitEvent&&(this._events.next(new ZE(this.value,n)),this._events.next(new H7(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...r,skipPristineCheck:t},this),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const t=this._parentMarkedDirty(r.onlySelf);this.status=b3,this._forEachChild(n=>{n.enable({...r,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors({...r,skipPristineCheck:t},this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(r,t){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===b3||this.status===Sh)&&this._runAsyncValidator(n,r.emitEvent)}const t=r.sourceControl??this;!1!==r.emitEvent&&(this._events.next(new ZE(this.value,t)),this._events.next(new H7(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity({...r,sourceControl:t})}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?H3:b3}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r,t){if(this.asyncValidator){this.status=Sh,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const n=LE(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:r})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const r=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,r}return!1}setErrors(r,t={}){this.errors=r,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(r){let t=r;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((n,o)=>n&&n._find(o),this)}getError(r,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[r]:null}hasError(r,t){return!!this.getError(r,t)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r,t,n){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),(r||n)&&this._events.next(new H7(this.status,t)),this._parent&&this._parent._updateControlsErrors(r,t,n)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?H3:this.errors?b7:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sh)?Sh:this._anyControlsHaveStatus(b7)?b7:b3}_anyControlsHaveStatus(r){return this._anyControls(t=>t.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r,t){const n=!this._anyControlsDirty(),o=this.pristine!==n;this.pristine=n,this._parent&&!r.onlySelf&&this._parent._updatePristine(r,t),o&&this._events.next(new Lk(this.pristine,t))}_updateTouched(r={},t){this.touched=this._anyControlsTouched(),this._events.next(new zk(this.touched,t)),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,t)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){V7(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(r){return null}_assignValidators(r){this._rawValidators=Array.isArray(r)?r.slice():r,this._composedValidatorFn=function Iit(e){return Array.isArray(e)?yk(e):e||null}(this._rawValidators)}_assignAsyncValidators(r){this._rawAsyncValidators=Array.isArray(r)?r.slice():r,this._composedAsyncValidatorFn=function Sit(e){return Array.isArray(e)?xk(e):e||null}(this._rawAsyncValidators)}}class L7 extends Sk{constructor(r,t,n){super(Ak(t),Ik(n,t)),this.controls=r,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,t){return this.controls[r]?this.controls[r]:(this.controls[r]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(r,t,n={}){this.registerControl(r,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(r,t={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(r,t,n={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],t&&this.registerControl(r,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,t={}){(function WE(e,r,t){e._forEachChild((n,o)=>{if(void 0===t[o])throw new ne(1002,"")})})(this,0,r),Object.keys(r).forEach(n=>{(function GE(e,r,t){const n=e.controls;if(!(r?Object.keys(n):n).length)throw new ne(1e3,"");if(!n[t])throw new ne(1001,"")})(this,!0,n),this.controls[n].setValue(r[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(r,t={}){null!=r&&(Object.keys(r).forEach(n=>{const o=this.controls[n];o&&o.patchValue(r[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(r={},t={}){this._forEachChild((n,o)=>{n.reset(r?r[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(r,t,n)=>(r[n]=t.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(t,n)=>!!n._syncPendingControls()||t);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&r(n,t)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const[t,n]of Object.entries(this.controls))if(this.contains(t)&&r(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,n,o)=>((n.enabled||this.disabled)&&(t[o]=n.value),t))}_reduceChildren(r,t){let n=r;return this._forEachChild((o,s)=>{n=t(n,o,s)}),n}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(r){return this.controls.hasOwnProperty(r)?this.controls[r]:null}}const C0=new ye("CallSetDisabledState",{providedIn:"root",factory:()=>V3}),V3="always";function z7(e,r){return[...r.path,e]}function L3(e,r,t=V3){Bk(e,r),r.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&r.valueAccessor.setDisabledState?.(e.disabled),function Eit(e,r){r.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&UE(e,r)})}(e,r),function Rit(e,r){const t=(n,o)=>{r.valueAccessor.writeValue(n),o&&r.viewToModelUpdate(n)};e.registerOnChange(t),r._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,r),function Tit(e,r){r.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&UE(e,r),"submit"!==e.updateOn&&e.markAsTouched()})}(e,r),function Dit(e,r){if(r.valueAccessor.setDisabledState){const t=n=>{r.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(t),r._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,r)}function A7(e,r,t=!0){const n=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(n),r.valueAccessor.registerOnTouched(n)),S7(e,r),e&&(r._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function I7(e,r){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(r)})}function Bk(e,r){const t=EE(e);null!==r.validator?e.setValidators(DE(t,r.validator)):"function"==typeof t&&e.setValidators([t]);const n=TE(e);null!==r.asyncValidator?e.setAsyncValidators(DE(n,r.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();I7(r._rawValidators,o),I7(r._rawAsyncValidators,o)}function S7(e,r){let t=!1;if(null!==e){if(null!==r.validator){const o=EE(e);if(Array.isArray(o)&&o.length>0){const s=o.filter(i=>i!==r.validator);s.length!==o.length&&(t=!0,e.setValidators(s))}}if(null!==r.asyncValidator){const o=TE(e);if(Array.isArray(o)&&o.length>0){const s=o.filter(i=>i!==r.asyncValidator);s.length!==o.length&&(t=!0,e.setAsyncValidators(s))}}}const n=()=>{};return I7(r._rawValidators,n),I7(r._rawAsyncValidators,n),t}function UE(e,r){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function $E(e,r){Bk(e,r)}function Ek(e,r){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(r,t.currentValue)}function YE(e,r){e._syncPendingControls(),r.forEach(t=>{const n=t.control;"submit"===n.updateOn&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Tk(e,r){if(!r)return null;let t,n,o;return Array.isArray(r),r.forEach(s=>{s.constructor===x3?t=s:function Pit(e){return Object.getPrototypeOf(e.constructor)===w0}(s)?n=s:o=s}),o||n||t||null}const Oit={provide:D2,useExisting:Hr(()=>Dh)},z3=Promise.resolve();let Dh=(()=>{class e extends D2{get submitted(){return Vi(this.submittedReactive)}constructor(t,n,o){super(),this.callSetDisabledState=o,this._submitted=zu(()=>this.submittedReactive()),this.submittedReactive=Il(!1),this._directives=new Set,this.ngSubmit=new Ae,this.form=new L7({},yk(t),xk(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){z3.then(()=>{const n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),L3(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){z3.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){z3.then(()=>{const n=this._findContainer(t.path),o=new L7({});$E(o,t),n.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){z3.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){z3.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),YE(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(n){return new(n||e)(kt(Lo,10),kt($a,10),kt(C0,8))}}static{this.\u0275dir=p1({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,o){1&n&&we("submit",function(i){return o.onSubmit(i)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yr([Oit]),Cr]})}}return e})();function XE(e,r){const t=e.indexOf(r);t>-1&&e.splice(t,1)}function KE(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Rk=class extends Sk{constructor(r=null,t,n){super(Ak(t),Ik(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),V7(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=KE(r)?r.value:r)}setValue(r,t={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(r,t={}){this.setValue(r,t)}reset(r=this.defaultValue,t={}){this._applyFormState(r),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){XE(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){XE(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){KE(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}},Wit={provide:Ul,useExisting:Hr(()=>B7)},QE=Promise.resolve();let B7=(()=>{class e extends Ul{constructor(t,n,o,s,i,l){super(),this._changeDetectorRef=i,this.callSetDisabledState=l,this.control=new Rk,this._registered=!1,this.name="",this.update=new Ae,this._parent=t,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=Tk(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ek(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){L3(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){QE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const n=t.isDisabled.currentValue,o=0!==n&&vn(n);QE.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?z7(t,this._parent):[t]}static{this.\u0275fac=function(n){return new(n||e)(kt(D2,9),kt(Lo,10),kt($a,10),kt(B2,10),kt(L2,8),kt(C0,8))}}static{this.\u0275dir=p1({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yr([Wit]),Cr,co]})}}return e})(),tT=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=p1({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})();const Uit={provide:B2,useExisting:Hr(()=>Fk),multi:!0};let Fk=(()=>{class e extends w0{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=n=>{t(""==n?null:parseFloat(n))}}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=ho(e)))(o||e)}})()}static{this.\u0275dir=p1({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,o){1&n&&we("input",function(i){return o.onChange(i.target.value)})("blur",function(){return o.onTouched()})},features:[yr([Uit]),Cr]})}}return e})();const jk=new ye(""),qit={provide:D2,useExisting:Hr(()=>k0)};let k0=(()=>{class e extends D2{get submitted(){return Vi(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,n,o){super(),this.callSetDisabledState=o,this._submitted=zu(()=>this._submittedReactive()),this._submittedReactive=Il(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ae,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(S7(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const n=this.form.get(t.path);return L3(n,t,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){A7(t.control||null,t,!1),function Nit(e,r){const t=e.indexOf(r);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this._submittedReactive.set(!0),YE(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new zit(this.control)),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Ait(this.form))}_updateDomValue(){this.directives.forEach(t=>{const n=t.control,o=this.form.get(t.path);n!==o&&(A7(n||null,t),(e=>e instanceof Rk)(o)&&(L3(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const n=this.form.get(t.path);$E(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const n=this.form.get(t.path);n&&function Fit(e,r){return S7(e,r)}(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bk(this.form,this),this._oldForm&&S7(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(n){return new(n||e)(kt(Lo,10),kt($a,10),kt(C0,8))}}static{this.\u0275dir=p1({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&we("submit",function(i){return o.onSubmit(i)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yr([qit]),Cr,co]})}}return e})();const tlt={provide:Ul,useExisting:Hr(()=>Ok)};let Ok=(()=>{class e extends Ul{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,n,o,s,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.name=null,this.update=new Ae,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=Tk(0,s)}ngOnChanges(t){this._added||this._setUpControl(),Ek(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return z7(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(n){return new(n||e)(kt(D2,13),kt(Lo,10),kt($a,10),kt(B2,10),kt(jk,8))}}static{this.\u0275dir=p1({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[yr([tlt]),Cr,co]})}}return e})();const elt={provide:B2,useExisting:Hr(()=>D7),multi:!0};function sT(e,r){return null==e?`${r}`:(r&&"object"==typeof r&&(r="Object"),`${e}: ${r}`.slice(0,50))}let D7=(()=>{class e extends w0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=sT(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=n=>{this.value=this._getOptionValue(n),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),t))return n;return null}_getOptionValue(t){const n=function rlt(e){return e.split(":")[0]}(t);return this._optionMap.has(n)?this._optionMap.get(n):t}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=ho(e)))(o||e)}})()}static{this.\u0275dir=p1({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,o){1&n&&we("change",function(i){return o.onChange(i.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[yr([elt]),Cr]})}}return e})(),iT=(()=>{class e{constructor(t,n,o){this._element=t,this._renderer=n,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(sT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||e)(kt(mr),kt(xi),kt(D7,9))}}static{this.\u0275dir=p1({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();const nlt={provide:B2,useExisting:Hr(()=>Zk),multi:!0};function lT(e,r){return null==e?`${r}`:("string"==typeof r&&(r=`'${r}'`),r&&"object"==typeof r&&(r="Object"),`${e}: ${r}`.slice(0,50))}let Zk=(()=>{class e extends w0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let n;if(this.value=t,Array.isArray(t)){const o=t.map(s=>this._getOptionId(s));n=(s,i)=>{s._setSelected(o.indexOf(i.toString())>-1)}}else n=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(t){this.onChange=n=>{const o=[],s=n.selectedOptions;if(void 0!==s){const i=s;for(let l=0;l<i.length;l++){const c=this._getOptionValue(i[l].value);o.push(c)}}else{const i=n.options;for(let l=0;l<i.length;l++){const a=i[l];if(a.selected){const c=this._getOptionValue(a.value);o.push(c)}}}this.value=o,t(o)}}_registerOption(t){const n=(this._idCounter++).toString();return this._optionMap.set(n,t),n}_getOptionId(t){for(const n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,t))return n;return null}_getOptionValue(t){const n=function olt(e){return e.split(":")[0]}(t);return this._optionMap.has(n)?this._optionMap.get(n)._value:t}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=ho(e)))(o||e)}})()}static{this.\u0275dir=p1({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,o){1&n&&we("change",function(i){return o.onChange(i.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[yr([nlt]),Cr]})}}return e})(),aT=(()=>{class e{constructor(t,n,o){this._element=t,this._renderer=n,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(lT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(lT(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||e)(kt(mr),kt(xi),kt(Zk,9))}}static{this.\u0275dir=p1({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();let _0=(()=>{class e{constructor(){this._validator=_7}ngOnChanges(t){if(this.inputName in t){const n=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):_7,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=p1({type:e,features:[co]})}}return e})();const hlt={provide:Lo,useExisting:Hr(()=>Uk),multi:!0};let Uk=(()=>{class e extends _0{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function cT(e){return"number"==typeof e?e:parseInt(e,10)}(t),this.createValidator=t=>xE(t)}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=ho(e)))(o||e)}})()}static{this.\u0275dir=p1({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&pr("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},features:[yr([hlt]),Cr]})}}return e})(),fT=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({})}}return e})(),A3=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:C0,useValue:t.callSetDisabledState??V3}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[fT]})}}return e})(),$k=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:jk,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:C0,useValue:t.callSetDisabledState??V3}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[fT]})}}return e})();function glt(e,r){if(1&e){const t=F1();Ot(0,"input",10),we("ngModelChange",function(o){return Ft(t),jt(te(2).fieldValueChange.next(o))}),Ut()}if(2&e){const t=te(2);$t("readonly",t.readonly)("ngModel",t.fieldValue)}}function vlt(e,r){if(1&e){const t=F1();Ot(0,"input",10),we("ngModelChange",function(o){Ft(t);const s=te(2);return jt(s.fieldValueChange.next(s.toURL(o)))}),Ut()}if(2&e){const t=te(2);$t("readonly",t.readonly)("ngModel",t.fieldValue.toString())}}function flt(e,r){if(1&e){const t=F1();Ot(0,"textarea",11),we("ngModelChange",function(o){return Ft(t),jt(te(2).fieldValueChange.next(o))}),Ut()}if(2&e){const t=te(2);$t("readonly",t.readonly)("ngModel",t.fieldValue)}}function mlt(e,r){if(1&e){const t=F1();Ot(0,"input",12),we("ngModelChange",function(o){Ft(t);const s=te(2);return jt(s.fieldValueChange.next(s.toDate(o)))}),Ut()}if(2&e){const t=te(2);$t("readonly",t.readonly)("ngModel",null==t.fieldValue?null:t.fieldValue.toISOString().substring(0,16))}}function wlt(e,r){if(1&e&&(Ot(0,"option",15),Ur(1),Ut()),2&e){const t=r.$implicit;$t("selected",t===te(3).fieldValue)("ngValue",t),Kt(),v2(" ",t," ")}}function Clt(e,r){if(1&e){const t=F1();Ot(0,"select",13),we("ngModelChange",function(o){return Ft(t),jt(te(2).fieldValueChange.next(o))}),sr(1,wlt,2,3,"option",14),Ut()}if(2&e){const t=te(2);$t("ngModel",t.fieldValue),Kt(),$t("ngForOf",t.options)}}function klt(e,r){if(1&e){const t=F1();Ot(0,"input",16),we("ngModelChange",function(o){Ft(t);const s=te(2);return jt(s.fieldValueChange.next(s.toNumber(o)))}),Ut()}if(2&e){const t=te(2);$t("readonly",t.readonly)("ngModel",t.fieldValue)}}function _lt(e,r){if(1&e&&(Ot(0,"div",2)(1,"label",3)(2,"span",4),Ur(3),Ut(),sr(4,glt,1,2,"input",5)(5,vlt,1,2,"input",5)(6,flt,1,2,"textarea",6)(7,mlt,1,2,"input",7)(8,Clt,2,2,"select",8)(9,klt,1,2,"input",9),Ut()()),2&e){const t=te();Kt(3),As(t.label),Kt(),$t("ngIf",t.isSimpleText),Kt(),$t("ngIf",t.isURL),Kt(),$t("ngIf",t.isRichText),Kt(),$t("ngIf",t.isDate),Kt(),$t("ngIf",t.hasOptions),Kt(),$t("ngIf",t.isNumber)}}function Mlt(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-button",17),we("buttonClick",function(){return Ft(t),jt(te().addValue())}),Ot(1,"span")(2,"span",18),Ur(3,"Add value for"),Ut(),Ur(4),Ut()()}if(2&e){const t=te();$t("type","outline"),Kt(4),v2(" ",t.label,"")}}let ylt=(()=>{class e{constructor(){this.fieldValueChange=new Ae,this.readonly=!1,this.type="text",this.confirm=this.fieldValueChange.pipe(Ih(300),ot(()=>{}))}get hasOptions(){return Array.isArray(this.options)}get isMissing(){return void 0===this.fieldValue&&!this.hasOptions}get isSimpleText(){return!this.hasOptions&&!this.isMissing&&"text"===this.type}get isRichText(){return!this.hasOptions&&!this.isMissing&&"rich"===this.type}get isURL(){return!this.hasOptions&&!this.isMissing&&"url"===this.type}get isDate(){return!this.hasOptions&&!this.isMissing&&"date"===this.type}get isNumber(){return!this.hasOptions&&!this.isMissing&&"number"===this.type}toDate(t){return new Date(t)}toURL(t){return new URL(t,window.location.toString())}toNumber(t){return parseFloat(t)||0}addValue(){switch(this.type){case"url":this.fieldValue=new URL("",window.location.toString());break;case"date":this.fieldValue=new Date;break;default:this.fieldValue=""}this.fieldValueChange.emit(this.fieldValue)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["gn-ui-record-field-simple"]],inputs:{label:"label",fieldValue:"fieldValue",readonly:"readonly",type:"type",options:"options"},outputs:{fieldValueChange:"fieldValueChange",confirm:"confirm"},decls:2,vars:2,consts:[["class","border border-gray-400 rounded-sm m-2 shadow-sm bg-white",4,"ngIf"],["extraClass","m-2 py-[0.5em] px-[1em]",3,"type","buttonClick",4,"ngIf"],[1,"border","border-gray-400","rounded-sm","m-2","shadow-sm","bg-white"],[1,"block","leading-tight","text-right","relative"],[1,"absolute","top-[0.25em]","right-[0.5em]","text-[0.9em]","text-gray-700","uppercase","pointer-events-none"],["type","text",3,"readonly","ngModel","ngModelChange",4,"ngIf"],["rows","4",3,"readonly","ngModel","ngModelChange",4,"ngIf"],["type","datetime-local",3,"readonly","ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["type","number",3,"readonly","ngModel","ngModelChange",4,"ngIf"],["type","text",3,"ngModelChange","readonly","ngModel"],["rows","4",3,"ngModelChange","readonly","ngModel"],["type","datetime-local",3,"ngModelChange","readonly","ngModel"],[3,"ngModelChange","ngModel"],[3,"selected","ngValue",4,"ngFor","ngForOf"],[3,"selected","ngValue"],["type","number",3,"ngModelChange","readonly","ngModel"],["extraClass","m-2 py-[0.5em] px-[1em]",3,"buttonClick","type"],[1,"opacity-70"]],template:function(n,o){1&n&&sr(0,_lt,10,7,"div",0)(1,Mlt,5,2,"gn-ui-button",1),2&n&&($t("ngIf",!o.isMissing),Kt(),$t("ngIf",o.isMissing))},dependencies:[Yc,zi,iT,aT,x3,Fk,D7,y7,B7,m0],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1.3em .5em .3em}input[readonly][_ngcontent-%COMP%]{background-color:var(--color-gray-50);color:var(--color-gray-700)}"],changeDetection:0})}}return e})();const xlt=["*"];let Yk=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["gn-ui-record-field-group"]],inputs:{label:"label"},ngContentSelectors:xlt,decls:4,vars:1,consts:[[1,"outer","p-[0.25em]","m-2"],[1,"p-[0.5em]","pb-0","uppercase","font-medium","text-gray-900","text-center"]],template:function(n,o){1&n&&(V2(),Ot(0,"div",0)(1,"div",1),Ur(2),Ut(),To(3),Ut()),2&n&&(Kt(2),v2(" ",o.label," "))},styles:['.outer[_ngcontent-%COMP%]{position:relative;background:#ebebeb7f}.outer[_ngcontent-%COMP%]:before{position:absolute;top:0;bottom:0;left:0;width:10px;border-radius:.125rem;border-width:1px;border-right-width:0px;border-color:var(--color-gray-400);content:""}.outer[_ngcontent-%COMP%]:after{position:absolute;top:0;bottom:0;right:0;width:10px;border-radius:.125rem;border-width:1px;border-left-width:0px;border-color:var(--color-gray-400);content:""}'],changeDetection:0})}}return e})();function blt(e){return null==e?"":/^\d+$/.test(e)?`${e}px`:e}new ye("Ng Glyph Config"),new ye("NgGlyphsToken");const _T=new ye("Ng Icon Pre Processor"),MT=new ye("Ng Icon Post Processor"),yT=new ye("Ng Icon Logger");class Alt{log(r){console.log(r)}warn(r){console.warn(r)}error(r){console.error(r)}}const xT=new ye("Ng Icon Config");function I3(e,...r){return[{provide:xT,useValue:e},r.map(t=>t.\u0275providers)]}const bT=new ye("Ng Icon Loader Token"),HT=new ye("Ng Icon Cache Token");function S3(e){return[{provide:E7,useFactory:(r=Et(E7,{optional:!0,skipSelf:!0}))=>({...r?.reduce((t,n)=>({...t,...n}),{}),...e}),multi:!0}]}const E7=new ye("Icons Token");let M0=(()=>{class e{constructor(){this.config=function Blt(){return Et(xT,{optional:!0})??{}}(),this.icons=function Rlt(){return Et(E7,{optional:!0})??[]}(),this.loader=function Elt(){return Et(bT,{optional:!0})}(),this.cache=function Tlt(){return Et(HT,{optional:!0})}(),this.preProcessor=function Hlt(){return Et(_T,{optional:!0})??(e=>e)}(),this.postProcessor=function Vlt(){return Et(MT,{optional:!0})??(()=>{})}(),this.injector=Et(H1),this.renderer=Et(xi),this.platform=Et(Mi),this.elementRef=Et(mr),this.logger=function Slt(){return Et(yT,{optional:!0})??new Alt}(),this.name=p5(),this.svg=p5(),this.size=p5(this.config.size,{transform:blt}),this.strokeWidth=p5(this.config.strokeWidth),this.color=p5(this.config.color),function um(e,r){U2("NgSignals"),!r?.injector&&Vd();const t=r?.injector??Et(H1),n=!0!==r?.manualCleanup?t.get(d5):null,o=new F$(t.get(E$),e,typeof Zone>"u"?null:Zone.current,n,t,r?.allowSignalWrites??!1),s=t.get(L2,null,{optional:!0});return s&&8&s._lView[A1]?(s._lView[u4]??=[]).push(o.watcher.notify):o.watcher.notify(),o}(()=>this.updateIcon())}ngOnDestroy(){this.svgElement=void 0}updateIcon(){var t=this;return(0,f2.A)(function*(){const n=t.name(),o=t.svg();if(void 0!==o)return void t.setSvg(o);if(void 0===n)return;const s=function jlt(e){return e.replace(/([^a-zA-Z0-9])+(.)?/g,(r,t,n)=>n?n.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,r=>r.toLowerCase())}(n);for(const i of[...t.icons].reverse())if(i[s])return void t.setSvg(i[s]);if(t.loader){const i=yield t.requestIconFromLoader(n);if(null!==i)return void t.setSvg(i)}t.logger.warn(`No icon named ${n} was found. You may need to import it using the withIcons function.`)})()}setSvg(t){if(Vm(this.platform))return this.elementRef.nativeElement.innerHTML=t,void this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===t)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),""===t))return;const n=this.renderer.createElement("template");this.renderer.setProperty(n,"innerHTML",this.preProcessor(t)),this.svgElement=n.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}requestIconFromLoader(t){var n=this;return new Promise(o=>{_8(this.injector,(0,f2.A)(function*(){if(n.cache){const l=n.cache.get(t);if("string"==typeof l)return void o(l);if(l instanceof Promise){const a=yield l;return void o(a)}}const s=function Flt(e){return"string"==typeof e?Promise.resolve(e):gl(e)?e.toPromise():e}(n.loader(t));n.cache?.set(t,s);const i=yield s;n.cache?.set(t,i),o(i)}))})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["ng-icon"]],hostVars:6,hostBindings:function(n,o){2&n&&Sl("--ng-icon__stroke-width",o.strokeWidth())("--ng-icon__size",o.size())("--ng-icon__color",o.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},standalone:!0,features:[uo],decls:0,vars:0,template:function(n,o){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0})}}return e})(),Plt=(()=>{class e{constructor(t){if(0===Object.keys(t).length)throw new Error("No icons have been provided. Ensure to include some icons by importing them using NgIconsModule.withIcons({ ... }).")}static withIcons(t){return{ngModule:e,providers:S3(t)}}static{this.\u0275fac=function(n){return new(n||e)(wt(E7))}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({})}}return e})();const Nlt=(e,r)=>({getValue:e,setValue:r});function Olt(e,r){if(1&e){const t=F1();Ot(0,"div",5),h9(1,6),Ot(2,"gn-ui-button",7),we("buttonClick",function(){const o=Ft(t).index;return jt(te().removeItem(o))}),Zr(3,"ng-icon",8),Ut()()}if(2&e){const t=r.index,n=te();Kt(),$t("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",k9(3,Nlt,n.valueGetterByIndex(t),n.valueSetterByIndex(t))),Kt(),$t("type","outline")}}let Zlt=(()=>{class e{constructor(){this.fieldValueChange=new Ae,this.confirm=new Ae}addItem(){this.fieldValue=[...this.fieldValue,this.defaultItem],this.fieldValueChange.emit(this.fieldValue),this.confirm.emit()}removeItem(t){this.fieldValue=this.fieldValue.filter((n,o)=>o!==t),this.fieldValueChange.emit(this.fieldValue),this.confirm.emit()}valueGetterByIndex(t){return()=>this.fieldValue[t]}valueSetterByIndex(t){return(n,o,s)=>{this.fieldValue[t]=o&&s?{...this.fieldValue[t],[o]:{...this.fieldValue[t][o],[s]:n}}:o?{...this.fieldValue[t],[o]:n}:n}}trackBy(t){return t}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["gn-ui-record-field-array"]],inputs:{label:"label",fieldValue:"fieldValue",itemTemplate:"itemTemplate",defaultItem:"defaultItem"},outputs:{fieldValueChange:"fieldValueChange",confirm:"confirm"},decls:6,vars:4,consts:[[3,"label"],[1,"text-[0.9em]"],["class","relative pr-[2.8em]",4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-2"],["extraClass","py-[0.5em] px-[1em]",3,"buttonClick","type"],[1,"relative","pr-[2.8em]"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["extraClass","!p-[0.5em]","title","Delete this item",1,"absolute","top-0","right-1",3,"buttonClick","type"],["name","matDeleteForeverSharp"]],template:function(n,o){1&n&&(Ot(0,"gn-ui-record-field-group",0)(1,"div",1),sr(2,Olt,4,6,"div",2),Ot(3,"div",3)(4,"gn-ui-button",4),we("buttonClick",function(){return o.addItem()}),Ur(5," Add new item... "),Ut()()()()),2&n&&($t("label",o.label),Kt(2),$t("ngForOf",o.fieldValue)("ngForTrackBy",o.trackBy),Kt(2),$t("type","primary"))},dependencies:[Yc,Su,m0,M0,Yk],styles:['.outer[_ngcontent-%COMP%]{position:relative;background:#ebebeb7f}.outer[_ngcontent-%COMP%]:before{position:absolute;top:0;bottom:0;left:0;width:10px;border-radius:.125rem;border-width:1px;border-right-width:0px;border-color:var(--color-gray-400);content:""}'],changeDetection:0})}}return e})();const Glt=(e,r)=>({getValue:e,setValue:r});function Wlt(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-button",7),we("buttonClick",function(){return Ft(t),jt(te(2).deleteObject())}),Zr(1,"ng-icon",8),Ut()}2&e&&$t("type","outline")}function Ult(e,r){if(1&e&&(Ot(0,"div",4),h9(1,5),sr(2,Wlt,2,1,"gn-ui-button",6),Ut()),2&e){const t=te();Kt(),$t("ngTemplateOutlet",t.itemTemplate)("ngTemplateOutletContext",k9(3,Glt,t.valueGetter(),t.valueSetter())),Kt(),$t("ngIf",t.optional)}}function $lt(e,r){if(1&e){const t=F1();Ot(0,"div",9)(1,"gn-ui-button",10),we("buttonClick",function(){return Ft(t),jt(te().createObject())}),Ur(2," Create... "),Ut()()}2&e&&(Kt(),$t("type","primary"))}let Ylt=(()=>{class e{constructor(){this.fieldValueChange=new Ae,this.confirm=new Ae}createObject(){this.fieldValue={},this.fieldValueChange.emit(this.fieldValue),this.confirm.emit()}deleteObject(){this.fieldValue=void 0,this.fieldValueChange.emit(this.fieldValue),this.confirm.emit()}valueGetter(){return()=>this.fieldValue}valueSetter(){return(t,n)=>{n?this.fieldValue[n]=t:this.fieldValue=t}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["gn-ui-record-field-object"]],inputs:{label:"label",fieldValue:"fieldValue",itemTemplate:"itemTemplate",defaultItem:"defaultItem",optional:"optional"},outputs:{fieldValueChange:"fieldValueChange",confirm:"confirm"},decls:4,vars:3,consts:[[3,"label"],[1,"text-[0.9em]"],["class","relative pr-[2.8em]",4,"ngIf"],["class","p-2",4,"ngIf"],[1,"relative","pr-[2.8em]"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","absolute top-0 right-1","extraClass","!p-[0.5em]","title","Delete this item",3,"type","buttonClick",4,"ngIf"],["extraClass","!p-[0.5em]","title","Delete this item",1,"absolute","top-0","right-1",3,"buttonClick","type"],["name","matDeleteForeverSharp"],[1,"p-2"],["extraClass","py-[0.5em] px-[1em]",3,"buttonClick","type"]],template:function(n,o){1&n&&(Ot(0,"gn-ui-record-field-group",0)(1,"div",1),sr(2,Ult,3,6,"div",2)(3,$lt,3,1,"div",3),Ut()()),2&n&&($t("label",o.label),Kt(2),$t("ngIf",o.fieldValue),Kt(),$t("ngIf",!o.fieldValue))},dependencies:[zi,Su,m0,M0,Yk],styles:['.outer[_ngcontent-%COMP%]{position:relative;background:#ebebeb7f}.outer[_ngcontent-%COMP%]:before{position:absolute;top:0;bottom:0;left:0;width:10px;border-radius:.125rem;border-width:1px;border-right-width:0px;border-color:var(--color-gray-400);content:""}.outer[_ngcontent-%COMP%]:after{position:absolute;top:0;bottom:0;right:0;width:10px;border-radius:.125rem;border-width:1px;border-left-width:0px;border-color:var(--color-gray-400);content:""}'],changeDetection:0})}}return e})();const Xlt=()=>["dataset","service"],VT=()=>({name:"org"}),LT=e=>({firstName:"first",lastName:"last",email:"email@domain.com",organization:e,role:"unspecified"}),Klt=()=>({label:"change me!",type:"other"}),T7=()=>({text:"change me!"}),qlt=()=>["other","theme","place","temporal"],Jlt=()=>["grid","vector","tin","table","point"],Qlt=()=>["service","download","link"],tat=()=>({endpointUrl:"",protocol:"OGC:WMS"}),eat=()=>["endpoint","link"];function rat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-button",29),we("buttonClick",function(){return Ft(t),jt(te().addOwnerOrg())}),Ot(1,"span",30),Ur(2,"Add a owner organization to this record"),Ut()()}2&e&&$t("type","outline")}function nat(e,r){if(1&e){const t=F1();a9(0),Ot(1,"gn-ui-record-field-simple",31),cn("fieldValueChange",function(o){Ft(t);const s=te();return gn(s.record.ownerOrganization.name,o)||(s.record.ownerOrganization.name=o),jt(o)}),we("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut(),Ot(2,"gn-ui-record-field-simple",32),cn("fieldValueChange",function(o){Ft(t);const s=te();return gn(s.record.ownerOrganization.description,o)||(s.record.ownerOrganization.description=o),jt(o)}),we("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut(),Ot(3,"gn-ui-record-field-simple",33),cn("fieldValueChange",function(o){Ft(t);const s=te();return gn(s.record.ownerOrganization.website,o)||(s.record.ownerOrganization.website=o),jt(o)}),we("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut(),Ot(4,"gn-ui-record-field-simple",34),cn("fieldValueChange",function(o){Ft(t);const s=te();return gn(s.record.ownerOrganization.logoUrl,o)||(s.record.ownerOrganization.logoUrl=o),jt(o)}),we("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut(),c9()}if(2&e){const t=te();Kt(),an("fieldValue",t.record.ownerOrganization.name),Kt(),an("fieldValue",t.record.ownerOrganization.description),Kt(),an("fieldValue",t.record.ownerOrganization.website),$t("type","url"),Kt(),an("fieldValue",t.record.ownerOrganization.logoUrl),$t("type","url")}}function oat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-group",42)(1,"gn-ui-record-field-simple",31),we("fieldValueChange",function(o){return Ft(t),jt((0,te().setValue)(o,"organization","name"))})("confirm",function(){return Ft(t),jt(te(2).emitChangedRecord())}),Ut(),Ot(2,"gn-ui-record-field-simple",32),we("fieldValueChange",function(o){return Ft(t),jt((0,te().setValue)(o,"organization","description"))})("confirm",function(){return Ft(t),jt(te(2).emitChangedRecord())}),Ut(),Ot(3,"gn-ui-record-field-simple",33),we("fieldValueChange",function(o){return Ft(t),jt((0,te().setValue)(o,"organization","website"))})("confirm",function(){return Ft(t),jt(te(2).emitChangedRecord())}),Ut(),Ot(4,"gn-ui-record-field-simple",34),we("fieldValueChange",function(o){return Ft(t),jt((0,te().setValue)(o,"organization","logoUrl"))})("confirm",function(){return Ft(t),jt(te(2).emitChangedRecord())}),Ut()()}if(2&e){const t=te().getValue;Kt(),$t("fieldValue",t().organization.name),Kt(),$t("fieldValue",t().organization.description),Kt(),$t("fieldValue",t().organization.website)("type","url"),Kt(),$t("fieldValue",t().organization.logoUrl)("type","url")}}function sat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-group",35)(1,"gn-ui-record-field-simple",36),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"firstName"))})("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut(),Ot(2,"gn-ui-record-field-simple",37),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"lastName"))})("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut(),Ot(3,"gn-ui-record-field-simple",38),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"email"))})("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut(),Ot(4,"gn-ui-record-field-simple",39),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"role"))})("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut(),Ot(5,"gn-ui-record-field-simple",40),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"position"))})("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut(),sr(6,oat,5,6,"gn-ui-record-field-group",41),Ut()}if(2&e){const t=r.getValue,n=te();Kt(),$t("fieldValue",t().firstName),Kt(),$t("fieldValue",t().lastName),Kt(),$t("fieldValue",t().email),Kt(),$t("fieldValue",t().role)("options",n.roleOptions),Kt(),$t("fieldValue",t().position),Kt(),$t("ngIf",t().organization)}}function iat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-simple",43),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o))})("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut()}2&e&&$t("fieldValue",(0,r.getValue)())}function lat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-group")(1,"gn-ui-record-field-simple",44),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"label"))})("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut(),Ot(2,"gn-ui-record-field-simple",45),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"type"))})("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut(),Ot(3,"gn-ui-record-field-object",46),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"thesaurus"))})("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut()()}if(2&e){const t=r.getValue;te();const n=Ks(35);Kt(),$t("fieldValue",t().label)("type","text"),Kt(),$t("options",gs(7,qlt))("fieldValue",t().type),Kt(),$t("optional",!0)("itemTemplate",n)("fieldValue",t().thesaurus)}}function aat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-simple",47),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"id"))})("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut(),Ot(1,"gn-ui-record-field-simple",48),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"name"))})("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut(),Ot(2,"gn-ui-record-field-simple",49),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"url"))})("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut()}if(2&e){const t=r.getValue;$t("fieldValue",t().id)("type","text"),Kt(),$t("fieldValue",t().name)("type","text"),Kt(),$t("fieldValue",t().url)("type","url")}}function cat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-group")(1,"gn-ui-record-field-simple",50),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"text"))})("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut(),Ot(2,"gn-ui-record-field-simple",49),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"url"))})("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut()()}if(2&e){const t=r.getValue;Kt(),$t("fieldValue",t().text)("type","rich"),Kt(),$t("fieldValue",t().url)("type","url")}}function hat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-simple",65),we("fieldValueChange",function(o){return Ft(t),jt((0,te().setValue)(o,"url"))})("confirm",function(){return Ft(t),jt(te(3).emitChangedRecord())}),Ut()}if(2&e){const t=te().getValue;$t("type","url")("fieldValue",t().url)}}function uat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-simple",66),we("fieldValueChange",function(o){return Ft(t),jt((0,te().setValue)(o,"accessServiceProtocol"))})("confirm",function(){return Ft(t),jt(te(3).emitChangedRecord())}),Ut()}2&e&&$t("fieldValue",(0,te().getValue)().accessServiceProtocol)}function dat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-simple",67),we("fieldValueChange",function(o){return Ft(t),jt((0,te().setValue)(o,"identifierInService"))})("confirm",function(){return Ft(t),jt(te(3).emitChangedRecord())}),Ut()}2&e&&$t("fieldValue",(0,te().getValue)().identifierInService)}function pat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-simple",68),we("fieldValueChange",function(o){return Ft(t),jt((0,te().setValue)(o,"url"))})("confirm",function(){return Ft(t),jt(te(3).emitChangedRecord())}),Ut()}if(2&e){const t=te().getValue;$t("type","url")("fieldValue",t().url)}}function gat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-simple",69),we("fieldValueChange",function(o){return Ft(t),jt((0,te().setValue)(o,"mimeType"))})("confirm",function(){return Ft(t),jt(te(3).emitChangedRecord())}),Ut()}2&e&&$t("fieldValue",(0,te().getValue)().mimeType)}function vat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-simple",70),we("fieldValueChange",function(o){return Ft(t),jt((0,te().setValue)(o,"sizeBytes"))})("confirm",function(){return Ft(t),jt(te(3).emitChangedRecord())}),Ut()}if(2&e){const t=te().getValue;$t("type","number")("fieldValue",t().sizeBytes)}}function fat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-simple",71),we("fieldValueChange",function(o){return Ft(t),jt((0,te().setValue)(o,"url"))})("confirm",function(){return Ft(t),jt(te(3).emitChangedRecord())}),Ut()}if(2&e){const t=te().getValue;$t("type","url")("fieldValue",t().url)}}function mat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-group",56)(1,"gn-ui-record-field-simple",45),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(te(2).getOnlineResourceForType(o)))})("confirm",function(){return Ft(t),jt(te(2).emitChangedRecord())}),Ut(),sr(2,hat,1,2,"gn-ui-record-field-simple",57)(3,uat,1,1,"gn-ui-record-field-simple",58)(4,dat,1,1,"gn-ui-record-field-simple",59)(5,pat,1,2,"gn-ui-record-field-simple",60)(6,gat,1,1,"gn-ui-record-field-simple",61)(7,vat,1,2,"gn-ui-record-field-simple",62)(8,fat,1,2,"gn-ui-record-field-simple",63),Ot(9,"gn-ui-record-field-simple",31),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"name"))})("confirm",function(){return Ft(t),jt(te(2).emitChangedRecord())}),Ut(),Ot(10,"gn-ui-record-field-simple",64),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"description"))})("confirm",function(){return Ft(t),jt(te(2).emitChangedRecord())}),Ut()()}if(2&e){const t=r.getValue;Kt(),$t("options",gs(12,Qlt))("fieldValue",t().type),Kt(),$t("ngIf","service"===t().type),Kt(),$t("ngIf","service"===t().type),Kt(),$t("ngIf","service"===t().type),Kt(),$t("ngIf","download"===t().type),Kt(),$t("ngIf","download"===t().type),Kt(),$t("ngIf","download"===t().type),Kt(),$t("ngIf","link"===t().type),Kt(),$t("fieldValue",t().name),Kt(),$t("type","rich")("fieldValue",t().description)}}function wat(e,r){if(1&e){const t=F1();Ot(0,"div")(1,"p",51),Ur(2," Dataset record specific fields "),Ut(),Ot(3,"p")(4,"gn-ui-record-field-simple",52),cn("fieldValueChange",function(o){Ft(t);const s=te();return gn(s.record.status,o)||(s.record.status=o),jt(o)}),we("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut()(),Ot(5,"p")(6,"gn-ui-record-field-simple",53),cn("fieldValueChange",function(o){Ft(t);const s=te();return gn(s.record.spatialRepresentation,o)||(s.record.spatialRepresentation=o),jt(o)}),we("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut()(),Ot(7,"p")(8,"gn-ui-record-field-simple",54),cn("fieldValueChange",function(o){Ft(t);const s=te();return gn(s.record.lineage,o)||(s.record.lineage=o),jt(o)}),we("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),Ut()(),Ot(9,"p")(10,"gn-ui-record-field-array",55),cn("fieldValueChange",function(o){Ft(t);const s=te();return gn(s.record.distributions,o)||(s.record.distributions=o),jt(o)}),we("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),sr(11,mat,11,13,"ng-template",null,5,Ha),Ut()()()}if(2&e){const t=Ks(12),n=te();Kt(4),an("fieldValue",n.record.status),$t("options",n.statusOptions),Kt(2),an("fieldValue",n.record.spatialRepresentation),$t("options",gs(9,Jlt)),Kt(2),an("fieldValue",n.record.lineage),$t("type","rich"),Kt(2),an("fieldValue",n.record.distributions),$t("itemTemplate",t)("defaultItem",n.getOnlineResourceForType("download"))}}function Cat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-simple",77),we("fieldValueChange",function(o){return Ft(t),jt((0,te().setValue)(o,"endpointUrl"))})("confirm",function(){return Ft(t),jt(te(3).emitChangedRecord())}),Ut()}if(2&e){const t=te().getValue;$t("type","url")("fieldValue",t().endpointUrl)}}function kat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-simple",78),we("fieldValueChange",function(o){return Ft(t),jt((0,te().setValue)(o,"protocol"))})("confirm",function(){return Ft(t),jt(te(3).emitChangedRecord())}),Ut()}2&e&&$t("fieldValue",(0,te().getValue)().protocol)}function _at(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-simple",31),we("fieldValueChange",function(o){return Ft(t),jt((0,te().setValue)(o,"name"))})("confirm",function(){return Ft(t),jt(te(3).emitChangedRecord())}),Ut()}2&e&&$t("fieldValue",(0,te().getValue)().name)}function Mat(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-record-field-group",73)(1,"gn-ui-record-field-simple",45),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(te(2).getOnlineResourceForType(o)))})("confirm",function(){return Ft(t),jt(te(2).emitChangedRecord())}),Ut(),sr(2,Cat,1,2,"gn-ui-record-field-simple",74)(3,kat,1,1,"gn-ui-record-field-simple",75)(4,_at,1,1,"gn-ui-record-field-simple",76),Ot(5,"gn-ui-record-field-simple",64),we("fieldValueChange",function(o){return jt((0,Ft(t).setValue)(o,"description"))})("confirm",function(){return Ft(t),jt(te(2).emitChangedRecord())}),Ut()()}if(2&e){const t=r.getValue;Kt(),$t("options",gs(7,eat))("fieldValue",t().type),Kt(),$t("ngIf","endpoint"===t().type),Kt(),$t("ngIf","endpoint"===t().type),Kt(),$t("ngIf","link"===t().type),Kt(),$t("type","rich")("fieldValue",t().description)}}function yat(e,r){if(1&e){const t=F1();Ot(0,"div")(1,"p",51),Ur(2," Service record specific fields "),Ut(),Ot(3,"p")(4,"gn-ui-record-field-array",72),cn("fieldValueChange",function(o){Ft(t);const s=te();return gn(s.record.onlineResources,o)||(s.record.onlineResources=o),jt(o)}),we("confirm",function(){return Ft(t),jt(te().emitChangedRecord())}),sr(5,Mat,6,8,"ng-template",null,6,Ha),Ut()()()}if(2&e){const t=Ks(6),n=te();Kt(4),an("fieldValue",n.record.onlineResources),$t("itemTemplate",t)("defaultItem",gs(3,tat))}}let xat=(()=>{class e{get isDatasetRecord(){return"dataset"===this.record.kind}get isServiceRecord(){return"service"===this.record.kind}constructor(){this.recordChanged=new Ae,this.statusOptions=Aq,this.roleOptions=Lq,this.switchToRecordKind("dataset")}ngAfterViewInit(){setTimeout(()=>{this.recordChanged.emit(this.record)},100)}emitChangedRecord(){this.recordChanged.emit(this.record)}getOnlineResourceForType(t){switch(t){case"download":case"link":default:return{type:t,url:new URL("",window.location.toString())};case"service":return{type:t,url:new URL("",window.location.toString()),accessServiceProtocol:"other"};case"endpoint":return{type:t,endpointUrl:new URL("",window.location.toString()),protocol:"other"}}}switchToRecordKind(t){const n=!!this.record,o={uniqueIdentifier:n?this.record.uniqueIdentifier:"0000-0000-0000-0000",title:n?this.record.title:"My Record",abstract:n?this.record.abstract:"",recordUpdated:n?this.record.recordUpdated:new Date,ownerOrganization:n?this.record.ownerOrganization:{name:"My Organization"},contacts:n?this.record.contacts:[],contactsForResource:n?this.record.contactsForResource:[],licenses:n?[...this.record.licenses]:[],legalConstraints:n?[...this.record.legalConstraints]:[],securityConstraints:n?[...this.record.securityConstraints]:[],otherConstraints:n?[...this.record.otherConstraints]:[],keywords:n?this.record.keywords:[],topics:n?this.record.topics:[],onlineResources:[],otherLanguages:[],defaultLanguage:"en",overviews:[]};this.record="dataset"===t?{...o,kind:"dataset",status:"under_development",updateFrequency:"unknown",lineage:"",spatialExtents:[],temporalExtents:[]}:{...o,kind:"service",spatialExtents:[]},this.recordChanged.emit(this.record)}addOwnerOrg(){this.record={...this.record,ownerOrganization:{name:"My Organization"}},this.recordChanged.emit(this.record)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["gn-ui-record-form"]],inputs:{record:"record"},outputs:{recordChanged:"recordChanged"},decls:48,vars:58,consts:[["contactTpl",""],["topicTpl",""],["keywordTpl",""],["thesaurusTpl",""],["constraintTpl",""],["distributionTpl",""],["endpointTpl",""],["label","Unique identifier",3,"fieldValueChange","confirm","fieldValue"],["label","Title",3,"fieldValueChange","confirm","fieldValue"],["label","Abstract",3,"fieldValueChange","confirm","fieldValue","type"],["label","Kind",3,"fieldValueChange","options","fieldValue"],["label","Owner Organization"],["extraClass","m-2 py-[0.5em] px-[1em]",3,"type","buttonClick",4,"ngIf"],[4,"ngIf"],["label","Contacts",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Contacts for resource",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],[1,"grid","grid-cols-3"],["label","Record created on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Record updated on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Record published on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Resource created on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Resource updated on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Resource published on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Topics",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Keywords",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Licenses",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Legal constraints",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Security constraints",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Other constraints",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["extraClass","m-2 py-[0.5em] px-[1em]",3,"buttonClick","type"],[1,"opacity-70"],["label","Name",3,"fieldValueChange","confirm","fieldValue"],["label","Description",3,"fieldValueChange","confirm","fieldValue"],["label","Website",3,"fieldValueChange","confirm","fieldValue","type"],["label","Logo URL",3,"fieldValueChange","confirm","fieldValue","type"],["label","Contact"],["label","First Name",3,"fieldValueChange","confirm","fieldValue"],["label","Last Name",3,"fieldValueChange","confirm","fieldValue"],["label","Email",3,"fieldValueChange","confirm","fieldValue"],["label","Role",3,"fieldValueChange","confirm","fieldValue","options"],["label","Position",3,"fieldValueChange","confirm","fieldValue"],["label","Organisation",4,"ngIf"],["label","Organisation"],["label","Topic",3,"fieldValueChange","confirm","fieldValue"],["label","Label",3,"fieldValueChange","confirm","fieldValue","type"],["label","Type",3,"fieldValueChange","confirm","options","fieldValue"],["label","Thesaurus",3,"fieldValueChange","confirm","optional","itemTemplate","fieldValue"],["label","Identifier",3,"fieldValueChange","confirm","fieldValue","type"],["label","Name",3,"fieldValueChange","confirm","fieldValue","type"],["label","URL",3,"fieldValueChange","confirm","fieldValue","type"],["label","Text",3,"fieldValueChange","confirm","fieldValue","type"],[1,"text-xl","font-bold","font-title","mt-8","mb-0","m-2"],["label","Status",3,"fieldValueChange","confirm","fieldValue","options"],["label","Spatial Representation Type",3,"fieldValueChange","confirm","fieldValue","options"],["label","Lineage",3,"fieldValueChange","confirm","fieldValue","type"],["label","Distributions",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Distribution"],["label","Access Service URL",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Access Service Protocol",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Identifier In Service",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Download URL",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Mime Type",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Size In Bytes",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Link URL",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Description",3,"fieldValueChange","confirm","type","fieldValue"],["label","Access Service URL",3,"fieldValueChange","confirm","type","fieldValue"],["label","Access Service Protocol",3,"fieldValueChange","confirm","fieldValue"],["label","Identifier In Service",3,"fieldValueChange","confirm","fieldValue"],["label","Download URL",3,"fieldValueChange","confirm","type","fieldValue"],["label","Mime Type",3,"fieldValueChange","confirm","fieldValue"],["label","Size In Bytes",3,"fieldValueChange","confirm","type","fieldValue"],["label","Link URL",3,"fieldValueChange","confirm","type","fieldValue"],["label","Online Resources",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Online Resource"],["label","Endpoint URL",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Protocol",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Name",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Endpoint URL",3,"fieldValueChange","confirm","type","fieldValue"],["label","Protocol",3,"fieldValueChange","confirm","fieldValue"]],template:function(n,o){if(1&n){const s=F1();Ot(0,"p")(1,"gn-ui-record-field-simple",7),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.uniqueIdentifier,l)||(o.record.uniqueIdentifier=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut()(),Ot(2,"p")(3,"gn-ui-record-field-simple",8),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.title,l)||(o.record.title=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut()(),Ot(4,"p")(5,"gn-ui-record-field-simple",9),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.abstract,l)||(o.record.abstract=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut()(),Ot(6,"p")(7,"gn-ui-record-field-simple",10),we("fieldValueChange",function(l){return Ft(s),jt(o.switchToRecordKind(l))}),Ut()(),Ot(8,"p")(9,"gn-ui-record-field-group",11),sr(10,rat,3,1,"gn-ui-button",12)(11,nat,5,6,"ng-container",13),Ut()(),Ot(12,"p")(13,"gn-ui-record-field-array",14),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.contacts,l)||(o.record.contacts=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut()(),Ot(14,"p")(15,"gn-ui-record-field-array",15),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.contactsForResource,l)||(o.record.contactsForResource=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut()(),sr(16,sat,7,7,"ng-template",null,0,Ha),Ot(18,"p",16)(19,"gn-ui-record-field-simple",17),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.recordCreated,l)||(o.record.recordCreated=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut(),Ot(20,"gn-ui-record-field-simple",18),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.recordUpdated,l)||(o.record.recordUpdated=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut(),Ot(21,"gn-ui-record-field-simple",19),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.recordPublished,l)||(o.record.recordPublished=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut()(),Ot(22,"p",16)(23,"gn-ui-record-field-simple",20),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.resourceCreated,l)||(o.record.resourceCreated=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut(),Ot(24,"gn-ui-record-field-simple",21),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.resourceUpdated,l)||(o.record.resourceUpdated=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut(),Ot(25,"gn-ui-record-field-simple",22),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.resourcePublished,l)||(o.record.resourcePublished=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut()(),Ot(26,"p")(27,"gn-ui-record-field-array",23),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.topics,l)||(o.record.topics=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),sr(28,iat,1,1,"ng-template",null,1,Ha),Ut()(),Ot(30,"p")(31,"gn-ui-record-field-array",24),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.keywords,l)||(o.record.keywords=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut()(),sr(32,lat,4,8,"ng-template",null,2,Ha)(34,aat,3,6,"ng-template",null,3,Ha)(36,cat,3,4,"ng-template",null,4,Ha),Ot(38,"p")(39,"gn-ui-record-field-array",25),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.licenses,l)||(o.record.licenses=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut()(),Ot(40,"p")(41,"gn-ui-record-field-array",26),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.legalConstraints,l)||(o.record.legalConstraints=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut()(),Ot(42,"p")(43,"gn-ui-record-field-array",27),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.securityConstraints,l)||(o.record.securityConstraints=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut()(),Ot(44,"p")(45,"gn-ui-record-field-array",28),cn("fieldValueChange",function(l){return Ft(s),gn(o.record.otherConstraints,l)||(o.record.otherConstraints=l),jt(l)}),we("confirm",function(){return Ft(s),jt(o.emitChangedRecord())}),Ut()(),sr(46,wat,13,10,"div",13)(47,yat,7,4,"div",13)}if(2&n){const s=Ks(17),i=Ks(29),l=Ks(33),a=Ks(37);Kt(),an("fieldValue",o.record.uniqueIdentifier),Kt(2),an("fieldValue",o.record.title),Kt(2),an("fieldValue",o.record.abstract),$t("type","rich"),Kt(2),$t("options",gs(46,Xlt))("fieldValue",o.record.kind),Kt(3),$t("ngIf",!o.record.ownerOrganization),Kt(),$t("ngIf",o.record.ownerOrganization),Kt(2),an("fieldValue",o.record.contacts),$t("itemTemplate",s)("defaultItem",C9(48,LT,gs(47,VT))),Kt(2),an("fieldValue",o.record.contactsForResource),$t("itemTemplate",s)("defaultItem",C9(51,LT,gs(50,VT))),Kt(4),an("fieldValue",o.record.recordCreated),$t("type","date"),Kt(),an("fieldValue",o.record.recordUpdated),$t("type","date"),Kt(),an("fieldValue",o.record.recordPublished),$t("type","date"),Kt(2),an("fieldValue",o.record.resourceCreated),$t("type","date"),Kt(),an("fieldValue",o.record.resourceUpdated),$t("type","date"),Kt(),an("fieldValue",o.record.resourcePublished),$t("type","date"),Kt(2),an("fieldValue",o.record.topics),$t("itemTemplate",i)("defaultItem","change me!"),Kt(4),an("fieldValue",o.record.keywords),$t("itemTemplate",l)("defaultItem",gs(53,Klt)),Kt(8),an("fieldValue",o.record.licenses),$t("itemTemplate",a)("defaultItem",gs(54,T7)),Kt(2),an("fieldValue",o.record.legalConstraints),$t("itemTemplate",a)("defaultItem",gs(55,T7)),Kt(2),an("fieldValue",o.record.securityConstraints),$t("itemTemplate",a)("defaultItem",gs(56,T7)),Kt(2),an("fieldValue",o.record.otherConstraints),$t("itemTemplate",a)("defaultItem",gs(57,T7)),Kt(),$t("ngIf",o.isDatasetRecord),Kt(),$t("ngIf",o.isServiceRecord)}},dependencies:[zi,m0,ylt,Yk,Zlt,Ylt],styles:["[_nghost-%COMP%]{font-size:14px}"]})}}return e})();const bat=["codeBlock"];let Hat=(()=>{class e{set recordXml(t){const o=window.hljs.highlight(t,{language:"xml"}).value;this.codeBlockEl.nativeElement.innerHTML=o}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["gn-ui-record-output-xml"]],viewQuery:function(n,o){if(1&n&&Gn(bat,5),2&n){let s;Gr(s=Wr())&&(o.codeBlockEl=s.first)}},inputs:{recordXml:"recordXml"},decls:2,vars:0,consts:[["codeBlock",""],[1,"text-[14px]","hljs","overflow-auto","min-h-[80vh]","whitespace-pre-wrap"]],template:function(n,o){1&n&&Zr(0,"pre",1,0)}})}}return e})();const Vat=["status"],Lat=["output"],zat=["form"],Aat=e=>({"font-bold":e});function Iat(e,r){1&e&&(Ot(0,"span"),Ur(1,"(native)"),Ut())}function Sat(e,r){if(1&e){const t=F1();Ot(0,"label",15)(1,"input",16),we("change",function(o){return Ft(t),jt(te().onFormatChange(o.target.value))}),Ut(),Ur(2),sr(3,Iat,2,0,"span",17),Ut()}if(2&e){const t=r.$implicit,n=te();$t("ngClass",C9(5,Aat,t.key===n.originalFormat)),Kt(),$t("checked",t.key===n.currentFormat)("value",t.key),Kt(),v2(" ",t.key," "),Kt(),$t("ngIf",t.key===n.originalFormat)}}let Bat=(()=>{class e{constructor(){this.formats=t7}get originalFormat(){const t=this.statusComponent?.currentConverter;return $B(t)}onRecordChange(t){this.statusComponent.recordNative=t}onRecordOutputReceived(t){this.outputComponent.recordXml=t,this.currentFormat=this.originalFormat}onRecordNativeReceived(t){this.formComponent.record=t}onFileSelect(t){const n=t.target.files;if(0===n.length)return void console.warn("no file selected");const o=n[0],s=new FileReader;this.statusComponent.startReadingFile(),s.readAsText(o,"UTF-8"),s.onload=i=>{const l=i.target.result;this.statusComponent.referenceMetadata=l,this.statusComponent.currentMetadata=l},s.onerror=()=>this.statusComponent.errorReadingFile()}onFileUrlInput(t){!t||!t.startsWith("http://")&&!t.startsWith("https://")||(this.statusComponent.startLoadingFile(),fetch(t).then(n=>n.text()).then(n=>{this.statusComponent.referenceMetadata=n,this.statusComponent.currentMetadata=n}).catch(n=>this.statusComponent.errorLoadingFile(n.message)))}onFormatChange(t){this.statusComponent.changeFormat(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["gn-ui-root"]],viewQuery:function(n,o){if(1&n&&(Gn(Vat,5),Gn(Lat,5),Gn(zat,5)),2&n){let s;Gr(s=Wr())&&(o.statusComponent=s.first),Gr(s=Wr())&&(o.outputComponent=s.first),Gr(s=Wr())&&(o.formComponent=s.first)}},decls:18,vars:3,consts:[["status",""],["form",""],["output",""],[1,"grid","grid-cols-3","grid-rows-auto","auto-rows-min","h-full"],[1,"col-span-3","flex","flex-row","items-start"],[1,"text-[50px]","font-bold","font-title","my-6","mx-10"],[1,"whitespace-nowrap"],[1,"font-main","font-normal","text-gray-900","text-[16px]",3,"newMetadata","newRecordNative"],[1,"grow","shrink-0","p-3","min-w-[50%]"],["type","file","accept",".xml, .rdf, application/xml, application/rdf+xml, .jsonld, application/ld+json, application/json, .ttl, text/turtle, .n3, text/n3, .nt, application/n-triples","placeholder","Upload a record from your computer",1,"mb-3","border","border-gray-500","rounded-sm","w-full","bg-white","p-2",3,"change"],["type","text","placeholder","...or enter a URL pointing to a metadata record",1,"mb-3","border","border-gray-500","rounded-sm","w-full","bg-white","p-2",3,"change"],[1,"w-full"],["class","mr-4",3,"ngClass",4,"ngFor","ngForOf"],[1,"overflow-auto",3,"recordChanged"],[1,"col-span-2"],[1,"mr-4",3,"ngClass"],["type","radio","name","format",3,"change","checked","value"],[4,"ngIf"]],template:function(n,o){if(1&n){const s=F1();Ot(0,"div",3)(1,"header",4)(2,"div")(3,"h1",5)(4,"div",6),Ur(5,"Simple metadata editor"),Ut(),Ot(6,"gn-ui-status",7,0),we("newMetadata",function(l){return Ft(s),jt(o.onRecordOutputReceived(l))})("newRecordNative",function(l){return Ft(s),jt(o.onRecordNativeReceived(l))}),Ut()()(),Ot(8,"div",8)(9,"input",9),we("change",function(l){return Ft(s),jt(o.onFileSelect(l))}),Ut(),Ot(10,"input",10),we("change",function(l){return Ft(s),jt(o.onFileUrlInput(l.target.value))}),Ut(),Ot(11,"div",11),sr(12,Sat,4,7,"label",12),Wc(13,"keyvalue"),Ut()()(),Ot(14,"gn-ui-record-form",13,1),we("recordChanged",function(l){return Ft(s),jt(o.onRecordChange(l))}),Ut(),Zr(16,"gn-ui-record-output-xml",14,2),Ut()}2&n&&(Kt(12),$t("ngForOf",th(13,1,o.formats)))},dependencies:[za,Yc,zi,xat,Hat,eot,Pz]})}}return e})(),zT=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ur({type:e}),e.\u0275inj=ar({imports:[[K2]]}),e})();var ws=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(ws||{});function $l(e,r){return{type:ws.Trigger,name:e,definitions:r,options:{}}}function _2(e,r=null){return{type:ws.Animate,styles:r,timings:e}}function br(e){return{type:ws.Style,styles:e,offset:null}}function Ri(e,r,t){return{type:ws.State,name:e,styles:r,options:t}}function y0(e){return{type:ws.Keyframes,steps:e}}function E2(e,r,t=null){return{type:ws.Transition,expr:e,animation:r,options:t}}const Xk=["*"];function Pat(e,r){1&e&&(Ot(0,"span",3),bl(),Ot(1,"svg",4),Zr(2,"path",5)(3,"g")(4,"g")(5,"g")(6,"g")(7,"g")(8,"g"),Ut()())}function Nat(e,r){if(1&e){const t=F1();Ot(0,"div",2),we("click",function(){return Ft(t),jt(te().hide())}),Ut()}}const Oat=[[["ng2-dropdown-button"]],[["ng2-dropdown-menu"]]],Zat=["ng2-dropdown-button","ng2-dropdown-menu"];let Gat=(()=>{class e{constructor(t){this.element=t,this.onMenuToggled=new Ae,this.showCaret=!0}toggleMenu(){this.onMenuToggled.emit(!0)}getPosition(){return this.element.nativeElement.getBoundingClientRect()}}return e.\u0275fac=function(t){return new(t||e)(kt(mr))},e.\u0275cmp=or({type:e,selectors:[["ng2-dropdown-button"]],inputs:{showCaret:"showCaret"},outputs:{onMenuToggled:"onMenuToggled"},ngContentSelectors:Xk,decls:4,vars:1,consts:[["type","button","tabindex","0s",1,"ng2-dropdown-button",3,"click"],[1,"ng2-dropdown-button__label"],["class","ng2-dropdown-button__caret",4,"ngIf"],[1,"ng2-dropdown-button__caret"],["enable-background","new 0 0 32 32","height","16px","id","\u0421\u043b\u043e\u0439_1","version","1.1","viewBox","0 0 32 32","width","16px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["d","M24.285,11.284L16,19.571l-8.285-8.288c-0.395-0.395-1.034-0.395-1.429,0  c-0.394,0.395-0.394,1.035,0,1.43l8.999,9.002l0,0l0,0c0.394,0.395,1.034,0.395,1.428,0l8.999-9.002  c0.394-0.395,0.394-1.036,0-1.431C25.319,10.889,24.679,10.889,24.285,11.284z","fill","#121313","id","Expand_More"]],template:function(t,n){1&t&&(V2(),Ot(0,"button",0),we("click",function(){return n.toggleMenu()}),Ot(1,"span",1),To(2),Ut(),sr(3,Pat,9,0,"span",2),Ut()),2&t&&(Kt(3),$t("ngIf",n.showCaret))},dependencies:[zi],styles:[".ng2-dropdown-button[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,Helvetica,Arial;background:#fff;padding:.45rem .25rem;font-size:14px;letter-spacing:.08rem;color:#444;outline:0;cursor:pointer;font-weight:400;border:none;border-bottom:1px solid #efefef;text-align:left;min-width:100px;width:100%;display:flex;flex-direction:row;max-width:150px}.ng2-dropdown-button[_ngcontent-%COMP%]:hover{color:#222}.ng2-dropdown-button[_ngcontent-%COMP%]:active, .ng2-dropdown-button[_ngcontent-%COMP%]:focus{color:#222;border-bottom:2px solid #2196F3}.ng2-dropdown-button__label[_ngcontent-%COMP%]{flex:1 1 95%}.ng2-dropdown-button__caret[_ngcontent-%COMP%]{width:12px;height:12px;display:flex;flex:1 1 6%}.ng2-dropdown-button--icon[_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%], .ng2-dropdown-button--icon   [_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%]{border:none;min-width:40px;width:40px;border-radius:100%;transition:all .2s;text-align:center;height:40px;padding:.5em}.ng2-dropdown-button--icon[_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%]:active, .ng2-dropdown-button--icon   [_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%]:active{background:rgba(0,0,0,.2)}"]}),e})();const B3_BACKSPACE=9,B3_PREV=38,B3_NEXT=40,B3_ENTER=13,B3_ESCAPE=27,AT={[B3_BACKSPACE]:(e,r,t)=>{t.select(e<r.length-1?r[e+1]:r[0],!0)},[B3_PREV]:(e,r,t)=>{e>0&&t.select(r[e-1],!0)},[B3_NEXT]:(e,r,t)=>{e<r.length-1&&t.select(r[e+1],!0)},[B3_ENTER]:(e,r,t)=>t.selectedItem?t.selectedItem.click():void 0,[B3_ESCAPE]:function Yat(){this.hide()}};function Kat(e){[38,40].indexOf(e.keyCode)>-1&&e.preventDefault()}class qat{constructor(){this.onItemSelected=new Ae,this.onItemClicked=new Ae,this.onItemDestroyed=new Ae}get selectedItem(){return this._selectedItem}select(r,t=!0){this._selectedItem=r,t&&r&&(r.focus(),this.onItemSelected.emit(r))}unselect(){this._selectedItem=void 0}}let R7=(()=>{class e{constructor(){this.menuState={isVisible:!1,toString(){return!0===this.isVisible?"visible":"hidden"}},this.dropdownState=new qat}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e})(),IT=(()=>{class e{constructor(t,n){this.state=t,this.element=n,this.preventClose=!1}ngOnDestroy(){this.state.dropdownState.onItemDestroyed.emit(this)}get isSelected(){return this===this.state.dropdownState.selectedItem}select(t){this.state.dropdownState.select(this,!0),t&&(t.stopPropagation(),t.preventDefault())}click(){this.state.dropdownState.onItemClicked.emit(this)}focus(){this.element.nativeElement.children[0].focus()}}return e.\u0275fac=function(t){return new(t||e)(kt(R7),kt(mr))},e.\u0275cmp=or({type:e,selectors:[["ng2-menu-item"]],inputs:{preventClose:"preventClose",value:"value"},ngContentSelectors:Xk,decls:2,vars:2,consts:[["role","button","tabindex","0",1,"ng2-menu-item",3,"keydown.enter","click","mouseover"]],template:function(t,n){1&t&&(V2(),Ot(0,"div",0),we("keydown.enter",function(){return n.click()})("click",function(){return n.click()})("mouseover",function(){return n.select()}),To(1),Ut()),2&t&&Zn("ng2-menu-item--selected",n.isSelected)},styles:[".ng2-menu-item[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,Helvetica,Arial;background:#fff;color:#000000de;cursor:pointer;font-size:.9em;text-transform:none;font-weight:400;letter-spacing:.03em;height:48px;line-height:48px;padding:.3em 1.25rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;transition:background .25s}.ng2-menu-item--selected[_ngcontent-%COMP%]{background:rgba(158,158,158,.2);outline:0}.ng2-menu-item[_ngcontent-%COMP%]:focus{outline:0}.ng2-menu-item[_ngcontent-%COMP%]:active{background:rgba(158,158,158,.4)}ng2-menu-item[_nghost-%COMP%]     [ng2-menu-item-icon]{vertical-align:middle;font-size:28px;width:1.5em;height:30px;color:#00000070}"]}),e})(),ST=(()=>{class e{constructor(t,n,o){this.dropdownState=t,this.element=n,this.renderer=o,this.width=4,this.focusFirstElement=!0,this.appendToBody=!0,this.zIndex=1e3,this.listeners={arrowHandler:void 0,handleKeypress:void 0}}show(t,n=!0){const o=typeof document<"u"?document:void 0,s=typeof window<"u"?window:void 0;this.dropdownState.menuState.isVisible||(this.listeners.handleKeypress=this.renderer.listen(o.body,"keydown",this.handleKeypress.bind(this)),this.listeners.arrowHandler=this.renderer.listen(s,"keydown",Kat)),this.dropdownState.menuState.isVisible=!0,t&&this.updatePosition(t,n)}hide(){this.dropdownState.menuState.isVisible=!1,this.dropdownState.dropdownState.unselect(),this.listeners.arrowHandler&&this.listeners.arrowHandler(),this.listeners.handleKeypress&&this.listeners.handleKeypress()}updatePosition(t,n){this.position=t,this.updateOnChange(n)}handleKeypress(t){const n=t.keyCode,o=this.items.toArray(),s=o.indexOf(this.dropdownState.dropdownState.selectedItem);AT.hasOwnProperty(n)&&AT[n].call(this,s,o,this.dropdownState.dropdownState)}getMenuElement(){return this.element.nativeElement.children[0]}calcPositionOffset(t){const n=typeof window<"u"?window:void 0,o=typeof document<"u"?document:void 0;if(!n||!o||!t)return;const s=this.getMenuElement(),i=void 0!==n.pageXOffset,l="CSS1Compat"===(o.compatMode||""),a=i?n.pageXOffset:l?o.documentElement.scrollLeft:o.body.scrollLeft,c=i?n.pageYOffset:l?o.documentElement.scrollTop:o.body.scrollTop;let{top:h,left:u}=this.applyOffset(`${t.top+(this.appendToBody?c-15:0)}px`,t.left+a-5+"px");const d=s.clientWidth,p=s.clientHeight,f=parseInt(h)+p+(this.appendToBody?0:c-15),y=parseInt(u)+d,L=n.innerWidth+n.scrollX;if(f>=n.innerHeight+n.scrollY&&(h=parseInt(h.replace("px",""))-p+"px"),y>=L){const R=y-L+30;u=parseInt(u.replace("px",""))-R+"px"}return{top:h,left:u}}applyOffset(t,n){if(!this.offset)return{top:t,left:n};const o=this.offset.split(" ");return o[1]||(o[1]="0"),{top:t=`${parseInt(t.replace("px",""))+parseInt(o[0])}px`,left:n=`${parseInt(n.replace("px",""))+parseInt(o[1])}px`}}ngOnInit(){const t=typeof document<"u"?document:void 0;this.appendToBody&&t.body.appendChild(this.element.nativeElement)}updateOnChange(t=!0){const n=this.getMenuElement(),o=this.calcPositionOffset(this.position);o&&(this.renderer.setStyle(n,"top",o.top.toString()),this.renderer.setStyle(n,"left",o.left.toString())),this.focusFirstElement&&this.items.first&&!this.dropdownState.dropdownState.selectedItem&&this.dropdownState.dropdownState.select(this.items.first,!1)}ngOnDestroy(){const t=this.element.nativeElement;t.parentNode.removeChild(t),this.listeners.handleKeypress&&this.listeners.handleKeypress()}}return e.\u0275fac=function(t){return new(t||e)(kt(R7),kt(mr),kt(xi))},e.\u0275cmp=or({type:e,selectors:[["ng2-dropdown-menu"]],contentQueries:function(t,n,o){if(1&t&&al(o,IT,5),2&t){let s;Gr(s=Wr())&&(n.items=s)}},inputs:{width:"width",focusFirstElement:"focusFirstElement",offset:"offset",appendToBody:"appendToBody",zIndex:"zIndex"},ngContentSelectors:Xk,decls:4,vars:12,consts:[[1,"ng2-dropdown-menu__options-container"],["class","ng2-dropdown-backdrop",3,"click",4,"ngIf"],[1,"ng2-dropdown-backdrop",3,"click"]],template:function(t,n){1&t&&(V2(),Ot(0,"div")(1,"div",0),To(2),Ut()(),sr(3,Nat,1,0,"div",1)),2&t&&(function WH(e,r,t){Hi(Oe,ll,Z5(ke(),e,r,t),!0)}("ng2-dropdown-menu ng2-dropdown-menu---width--",n.width,""),Sl("z-index",n.zIndex),Zn("ng2-dropdown-menu--inside-element",!n.appendToBody)("ng2-dropdown-menu--open",n.dropdownState.menuState.isVisible),$t("@fade",n.dropdownState.menuState.toString()),Kt(),$t("@opacity",n.dropdownState.menuState.toString()),Kt(2),$t("ngIf",n.dropdownState.menuState.isVisible))},dependencies:[zi],styles:["[_nghost-%COMP%]{display:block}.ng2-dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;box-shadow:0 1px 2px #0000004d;position:absolute;padding:.5em 0;background:#fff;border-radius:1px;max-height:400px;width:260px;min-height:0;display:block}.ng2-dropdown-menu.ng2-dropdown-menu--inside-element[_ngcontent-%COMP%]{position:fixed}.ng2-dropdown-menu.ng2-dropdown-menu--width--2[_ngcontent-%COMP%]{width:200px}.ng2-dropdown-menu.ng2-dropdown-menu--width--4[_ngcontent-%COMP%]{width:260px}.ng2-dropdown-menu.ng2-dropdown-menu--width--6[_ngcontent-%COMP%]{width:320px}.ng2-dropdown-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;overflow:hidden}[_nghost-%COMP%]     .ng2-menu-divider{height:1px;min-height:1px;max-height:1px;width:100%;display:block;background:#f9f9f9}"],data:{animation:[$l("fade",[Ri("visible",br({opacity:1,height:"*",width:"*"})),Ri("hidden",br({opacity:0,overflow:"hidden",height:0,width:0})),E2("hidden => visible",[_2("250ms ease-in",br({opacity:1,height:"*",width:"*"}))]),E2("visible => hidden",[_2("350ms ease-out",br({opacity:0,width:0,height:0}))])]),$l("opacity",[E2("hidden => visible",[_2("450ms ease-in",y0([br({opacity:0,offset:0}),br({opacity:1,offset:1})]))]),E2("visible => hidden",[_2("250ms ease-out",y0([br({opacity:1,offset:0}),br({opacity:.5,offset:.3}),br({opacity:0,offset:1})]))])])]}}),e})(),BT=(()=>{class e{constructor(t){this.state=t,this.dynamicUpdate=!0,this.onItemClicked=new Ae,this.onItemSelected=new Ae,this.onShow=new Ae,this.onHide=new Ae}ngOnInit(){this.state.dropdownState.onItemClicked.subscribe(t=>{this.onItemClicked.emit(t),!t.preventClose&&this.hide.call(this)}),this.button&&this.button.onMenuToggled.subscribe(()=>{this.toggleMenu()}),this.state.dropdownState.onItemSelected.subscribe(t=>{this.onItemSelected.emit(t)}),this.state.dropdownState.onItemDestroyed.subscribe(t=>{let n;const o=this.menu.items.toArray();t===this.state.dropdownState.selectedItem&&(this.menu.focusFirstElement&&(n=t===o[0]&&o.length>1?o[1]:o[0]),this.state.dropdownState.select(n))})}toggleMenu(t=this.button.getPosition()){this.state.menuState.isVisible?this.hide():this.show(t)}hide(){this.menu.hide(),this.onHide.emit(this)}show(t=this.button.getPosition()){this.menu.show(t,this.dynamicUpdate),this.onShow.emit(this)}scrollListener(){this.button&&this.dynamicUpdate&&this.menu.updatePosition(this.button.getPosition(),!0)}}return e.\u0275fac=function(t){return new(t||e)(kt(R7))},e.\u0275cmp=or({type:e,selectors:[["ng2-dropdown"]],contentQueries:function(t,n,o){if(1&t&&(al(o,Gat,7),al(o,ST,7)),2&t){let s;Gr(s=Wr())&&(n.button=s.first),Gr(s=Wr())&&(n.menu=s.first)}},hostBindings:function(t,n){1&t&&we("scroll",function(){return n.scrollListener()},0,K1)},inputs:{dynamicUpdate:"dynamicUpdate"},outputs:{onItemClicked:"onItemClicked",onItemSelected:"onItemSelected",onShow:"onShow",onHide:"onHide"},features:[yr([R7])],ngContentSelectors:Zat,decls:3,vars:0,consts:[[1,"ng2-dropdown-container"]],template:function(t,n){1&t&&(V2(Oat),Ot(0,"div",0),To(1),To(2,1),Ut())},encapsulation:2}),e})(),Jat=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ur({type:e}),e.\u0275inj=ar({imports:[[K2]]}),e})();const Kk=Ye(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function tct(e=ect){return nn((r,t)=>{let n=!1;r.subscribe(D(t,o=>{n=!0,t.next(o)},()=>n?t.complete():t.error(e())))})}function ect(){return new Kk}function F7(e,r){const t=arguments.length>=2;return n=>n.pipe(e?ms((o,s)=>e(o,s,n)):Ke,Ts(1),t?function Qat(e){return nn((r,t)=>{let n=!1;r.subscribe(D(t,o=>{n=!0,t.next(o)},()=>{n||t.next(e),t.complete()}))})}(r):tct(()=>new Kk))}function qk(e,r=Ke){return e=e??rct,nn((t,n)=>{let o,s=!0;t.subscribe(D(n,i=>{const l=r(i);(s||!e(o,l))&&(s=!1,o=l,n.next(i))}))})}function rct(e,r){return e===r}const nct=["input"],oct=(e,r)=>({item:e,index:r});function sct(e,r){}function ict(e,r){if(1&e&&(Ot(0,"div"),sr(1,sct,0,0,"ng-template",4),Ut()),2&e){const t=te();pr("contenteditable",t.editing),Kt(),$t("ngTemplateOutletContext",k9(3,oct,t.model,t.index))("ngTemplateOutlet",t.template)}}function lct(e,r){if(1&e){const t=F1();Ot(0,"delete-icon",8),we("click",function(o){return Ft(t),jt(te(2).remove(o))}),Ut()}}function act(e,r){if(1&e){const t=F1();Ot(0,"div",5)(1,"div",6),we("keydown.enter",function(o){return Ft(t),jt(te().disableEditMode(o))})("keydown.escape",function(o){return Ft(t),jt(te().disableEditMode(o))})("click",function(o){return Ft(t),jt(te().editing?o.stopPropagation():void 0)})("blur",function(o){return Ft(t),jt(te().onBlurred(o))}),Ur(2),Ut(),sr(3,lct,1,0,"delete-icon",7),Ut()}if(2&e){const t=te();Kt(),pr("contenteditable",t.editing)("title",t.getDisplayValue(t.model)),Kt(),v2(" ",t.getDisplayValue(t.model)," "),Kt(),$t("ngIf",t.isDeleteIconVisible())}}function cct(e,r){1&e&&Zr(0,"tag-ripple",9),2&e&&($t("state",te().rippleState),pr("tabindex",-1))}const hct=(e,r,t)=>({item:e,index:r,last:t});function uct(e,r){if(1&e&&(Zr(0,"span",6),Wc(1,"highlight")),2&e){const t=te().$implicit,n=te();$t("innerHTML",function oL(e,r,t,n){const o=e+k1,s=ke(),i=ha(s,o);return Mu(s,o)?tL(s,H2(),r,i.transform,t,n,i):i.transform(t,n)}(1,1,t[n.displayBy],n.tagInput.inputForm.value.value),zp)}}function dct(e,r){}function pct(e,r){if(1&e&&sr(0,dct,0,0,"ng-template",7),2&e){const t=te(),n=t.$implicit,o=t.index,s=t.last;$t("ngTemplateOutlet",te().templates.first)("ngTemplateOutletContext",JV(2,hct,n,o,s))}}function gct(e,r){if(1&e&&(Ot(0,"ng2-menu-item",3),sr(1,uct,2,4,"span",4)(2,pct,1,6,null,5),Ut()),2&e){const t=r.$implicit,n=te();$t("value",t)("ngSwitch",!!n.templates.length),Kt(),$t("ngSwitchCase",!1)}}const vct=["*"];function fct(e,r){if(1&e){const t=F1();Ot(0,"tag",6),we("onSelect",function(){const o=Ft(t).$implicit;return jt(te().selectItem(o))})("onRemove",function(){const o=Ft(t),s=o.$implicit,i=o.index;return jt(te().onRemoveRequested(s,i))})("onKeyDown",function(o){return Ft(t),jt(te().handleKeydown(o))})("onTagEdited",function(o){return Ft(t),jt(te().updateEditedTag(o))})("onBlur",function(o){const s=Ft(t).index;return jt(te().onTagBlurred(o,s))})("dragstart",function(o){const s=Ft(t),i=s.$implicit,l=s.index,a=te();return jt(a.dragZone?a.onDragStarted(o,i,l):void 0)})("drop",function(o){const s=Ft(t).index,i=te();return jt(i.dragZone?i.onTagDropped(o,s):void 0)})("dragenter",function(o){Ft(t);const s=te();return jt(s.dragZone?s.onDragOver(o):void 0)})("dragover",function(o){const s=Ft(t).index,i=te();return jt(i.dragZone?i.onDragOver(o,s):void 0)})("dragleave",function(){Ft(t);const o=te();return jt(o.dragZone?o.dragProvider.onDragEnd():void 0)}),Ut()}if(2&e){const t=r.$implicit,n=r.index,o=te();v9("draggable",o.editable),$t("canAddTag",o.isTagValid)("disabled",o.disable)("@animation",o.animationMetadata)("hasRipple",o.ripple)("index",n)("removable",o.removable)("editable",o.editable)("displayBy",o.displayBy)("identifyBy",o.identifyBy)("template",o.hasCustomTemplate()?o.templates.first:void 0)("draggable",o.dragZone)("model",t),pr("tabindex",0)}}function mct(e,r){1&e&&Zr(0,"div",7)}function wct(e,r){if(1&e&&(Ot(0,"p",10)(1,"span"),Ur(2),Ut()()),2&e){const t=r.$implicit;Kt(2),As(t)}}function Cct(e,r){if(1&e&&(Ot(0,"div",8),sr(1,wct,3,1,"p",9),Ut()),2&e){const t=te();$t("ngClass",t.theme),Kt(),$t("ngForOf",t.errors)}}let _ct=(()=>{class e{transform(t,n){if(!n.trim())return t;try{const o=new RegExp(`(${(e=>e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))(n)})`,"i");return t.replace(o,"<b>$1</b>")}catch{return t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=ko({name:"highlight",type:e,pure:!0}),e})();const Jk="keydown",xct="keyup",Hct={8:"DELETE",46:"DELETE",37:"SWITCH_PREV",39:"SWITCH_NEXT",9:"TAB"},j7="NEXT",Qk="PREV";let ET=(()=>{class e{constructor(){this.state={dragging:!1,dropping:!1,index:void 0}}setDraggedItem(t,n){t&&t.dataTransfer&&t.dataTransfer.setData("Text",JSON.stringify(n))}getDraggedItem(t){if(t&&t.dataTransfer){const n=t.dataTransfer.getData("Text");try{return JSON.parse(n)}catch{return}}}setSender(t){this.sender=t}setReceiver(t){this.receiver=t}onTagDropped(t,n,o){this.onDragEnd(),this.sender.onRemoveRequested(t,n),this.receiver.onAddingRequested(!1,t,o)}setState(t){this.state={...this.state,...t}}getState(t){return t?this.state[t]:this.state}onDragEnd(){this.setState({dragging:!1,dropping:!1,index:void 0})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e})();const q1={tagInput:{separatorKeys:[],separatorKeyCodes:[],maxItems:1/0,placeholder:"+ Tag",secondaryPlaceholder:"Enter a new tag",validators:[],asyncValidators:[],onlyFromAutocomplete:!1,errorMessages:{},theme:"",onTextChangeDebounce:250,inputId:null,inputClass:"",clearOnBlur:!1,hideForm:!1,addOnBlur:!1,addOnPaste:!1,pasteSplitPattern:",",blinkIfDupe:!0,removable:!0,editable:!1,allowDupes:!1,modelAsStrings:!1,trimTags:!0,ripple:!0,tabIndex:"",disable:!1,dragZone:"",onRemoving:void 0,onAdding:void 0,displayBy:"display",identifyBy:"value",animationDuration:{enter:"250ms",leave:"150ms"}},dropdown:{displayBy:"display",identifyBy:"value",appendToBody:!0,offset:"50 0",focusFirstElement:!1,showDropdownIfEmpty:!1,minimumTextLength:1,limitItemsTo:1/0,keepOpen:!0,dynamicUpdate:!0,zIndex:1e3,matchingFn:function Vct(e,r){const t=r[this.displayBy].toString();return t&&t.toLowerCase().indexOf(e.toLowerCase())>=0}}};let t_=(()=>{class e{setOptions(t){e.defaults.tagInput={...q1.tagInput,...t.tagInput},e.defaults.dropdown={...q1.dropdown,...t.dropdown}}}return e.defaults=q1,e})();function TT(e){return e===Object(e)}let Lct=(()=>{class e{constructor(){this._items=[],this.displayBy=t_.defaults.tagInput.displayBy,this.identifyBy=t_.defaults.tagInput.identifyBy}get items(){return this._items}set items(t){this._items=t,this._onChangeCallback(this._items)}onTouched(){this._onTouchedCallback()}writeValue(t){this._items=t||[]}registerOnChange(t){this._onChangeCallback=t}registerOnTouched(t){this._onTouchedCallback=t}getItemValue(t,n=!1){const o=n&&this.dropdown?this.dropdown.identifyBy:this.identifyBy;return TT(t)?t[o]:t}getItemDisplay(t,n=!1){const o=n&&this.dropdown?this.dropdown.displayBy:this.displayBy;return TT(t)?t[o]:t}getItemsWithout(t){return this.items.filter((n,o)=>o!==t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=p1({type:e,inputs:{displayBy:"displayBy",identifyBy:"identifyBy"}}),e})();function RT(e,r,t=!0){if(!this.listeners.hasOwnProperty(e))throw new Error("The event entered may be wrong");t&&this.listeners[e].push(r)}let FT=(()=>{class e{constructor(){this.onSubmit=new Ae,this.onBlur=new Ae,this.onFocus=new Ae,this.onKeyup=new Ae,this.onKeydown=new Ae,this.inputTextChange=new Ae,this.validators=[],this.asyncValidators=[],this.tabindex="",this.disabled=!1,this.item=new Rk({value:"",disabled:this.disabled})}get inputText(){return this.item.value}set inputText(t){this.item.setValue(t),this.inputTextChange.emit(t)}ngOnInit(){this.item.setValidators(this.validators),this.item.setAsyncValidators(this.asyncValidators),this.form=new L7({item:this.item})}ngOnChanges(t){t.disabled&&!t.disabled.firstChange&&(t.disabled.currentValue?this.form.controls.item.disable():this.form.controls.item.enable())}get value(){return this.form.get("item")}isInputFocused(){const t=typeof document<"u"?document:void 0;return!!t&&t.activeElement===this.input.nativeElement}getErrorMessages(t){return Object.keys(t).filter(n=>this.value.hasError(n)).map(n=>t[n])}hasErrors(){const{dirty:t,value:n,valid:o}=this.form;return t&&n.item&&!o}focus(){this.input.nativeElement.focus()}blur(){this.input.nativeElement.blur()}getElementPosition(){return this.input.nativeElement.getBoundingClientRect()}destroy(){const t=this.input.nativeElement;t.parentElement.removeChild(t)}onKeyDown(t){if(this.inputText=this.value.value,"Enter"!==t.key)return this.onKeydown.emit(t);this.submit(t)}onKeyUp(t){return this.inputText=this.value.value,this.onKeyup.emit(t)}submit(t){t.preventDefault(),this.onSubmit.emit(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=or({type:e,selectors:[["tag-input-form"]],viewQuery:function(t,n){if(1&t&&Gn(nct,5),2&t){let o;Gr(o=Wr())&&(n.input=o.first)}},inputs:{placeholder:"placeholder",validators:"validators",asyncValidators:"asyncValidators",inputId:"inputId",inputClass:"inputClass",tabindex:"tabindex",disabled:"disabled",inputText:"inputText"},outputs:{onSubmit:"onSubmit",onBlur:"onBlur",onFocus:"onFocus",onKeyup:"onKeyup",onKeydown:"onKeydown",inputTextChange:"inputTextChange"},features:[co],decls:3,vars:8,consts:[["input",""],[3,"ngSubmit","formGroup"],["type","text","autocomplete","off","minlength","1","formControlName","item",1,"ng2-tag-input__text-input",3,"focus","blur","keydown","keyup","tabindex","ngClass"]],template:function(t,n){if(1&t){const o=F1();Ot(0,"form",1),we("ngSubmit",function(i){return Ft(o),jt(n.submit(i))}),Ot(1,"input",2,0),we("focus",function(i){return Ft(o),jt(n.onFocus.emit(i))})("blur",function(i){return Ft(o),jt(n.onBlur.emit(i))})("keydown",function(i){return Ft(o),jt(n.onKeyDown(i))})("keyup",function(i){return Ft(o),jt(n.onKeyUp(i))}),Ut()()}2&t&&($t("formGroup",n.form),Kt(),v9("tabindex",n.disabled?-1:n.tabindex?n.tabindex:0),$t("ngClass",n.inputClass),pr("id",n.inputId)("placeholder",n.placeholder)("aria-label",n.placeholder)("tabindex",n.tabindex)("disabled",n.disabled?n.disabled:null))},dependencies:[tT,NE,k0,x3,Uk,y7,Ok,za],styles:[".dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;outline:none;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #0006;border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196F3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;padding:4px;cursor:text;box-shadow:inset 0 1px 1px #00000013;border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}.ng2-tag-input__text-input[_ngcontent-%COMP%]{display:inline;vertical-align:middle;border:none;padding:0 .5rem;height:38px;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif}.ng2-tag-input__text-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input__text-input[disabled=true][_ngcontent-%COMP%]{opacity:.5;background:#fff}"]}),e})(),jT=(()=>{class e{constructor(){this.state="none"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=or({type:e,selectors:[["tag-ripple"]],inputs:{state:"state"},decls:1,vars:1,consts:[[1,"tag-ripple"]],template:function(t,n){1&t&&Zr(0,"div",0),2&t&&$t("@ink",n.state)},styles:["[_nghost-%COMP%]{width:100%;height:100%;left:0;overflow:hidden;position:absolute}.tag-ripple[_ngcontent-%COMP%]{background:rgba(0,0,0,.1);top:50%;left:50%;height:100%;transform:translate(-50%,-50%);position:absolute}"],data:{animation:[$l("ink",[Ri("none",br({width:0,opacity:0})),E2("none => clicked",[_2(300,y0([br({opacity:1,offset:0,width:"30%",borderRadius:"100%"}),br({opacity:1,offset:.5,width:"50%"}),br({opacity:.5,offset:1,width:"100%",borderRadius:"16px"})]))])])]}}),e})(),zct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=or({type:e,selectors:[["delete-icon"]],decls:3,vars:0,consts:[["height","16px","viewBox","0 0 32 32","width","16px"],["d","M17.459,16.014l8.239-8.194c0.395-0.391,0.395-1.024,0-1.414c-0.394-0.391-1.034-0.391-1.428,0  l-8.232,8.187L7.73,6.284c-0.394-0.395-1.034-0.395-1.428,0c-0.394,0.396-0.394,1.037,0,1.432l8.302,8.303l-8.332,8.286  c-0.394,0.391-0.394,1.024,0,1.414c0.394,0.391,1.034,0.391,1.428,0l8.325-8.279l8.275,8.276c0.394,0.395,1.034,0.395,1.428,0  c0.394-0.396,0.394-1.037,0-1.432L17.459,16.014z","fill","#121313"]],template:function(t,n){1&t&&(Ot(0,"span"),bl(),Ot(1,"svg",0),Zr(2,"path",1),Ut()())},styles:[".dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;outline:none;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #0006;border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196F3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;padding:4px;cursor:text;box-shadow:inset 0 1px 1px #00000013;border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}delete-icon[_nghost-%COMP%]{width:20px;height:16px;transition:all .15s;display:inline-block;text-align:right}delete-icon[_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#444}delete-icon[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}delete-icon[_nghost-%COMP%]:hover{transform:scale(1.5) translateY(-3px)}.dark[_nghost-%COMP%], .dark   [_nghost-%COMP%]{text-align:right}.dark[_nghost-%COMP%]   path[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.dark[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}.minimal[_nghost-%COMP%], .minimal   [_nghost-%COMP%]{text-align:right}.minimal[_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimal   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#444}.minimal[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .minimal   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}.bootstrap[_nghost-%COMP%], .bootstrap   [_nghost-%COMP%]{text-align:right}.bootstrap[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.bootstrap[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .bootstrap   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}tag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], tag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%], tag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], tag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.dark   tag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], .dark   tag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .dark   tag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], .dark   tag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#000}.minimal   tag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimal   tag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimal   tag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimal   tag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#000}.bootstrap   tag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap   tag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap   tag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap   tag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.bootstrap3-info[_nghost-%COMP%], .bootstrap3-info   [_nghost-%COMP%]{height:inherit}.bootstrap3-info[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap3-info   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}"]}),e})();const PT=typeof window<"u"?window.navigator:{userAgent:"Chrome",vendor:"Google Inc"},Act=/Chrome/.test(PT.userAgent)&&/Google Inc/.test(PT.vendor);let NT=(()=>{class e{constructor(t,n,o){this.element=t,this.renderer=n,this.cdRef=o,this.disabled=!1,this.onSelect=new Ae,this.onRemove=new Ae,this.onBlur=new Ae,this.onKeyDown=new Ae,this.onTagEdited=new Ae,this.editing=!1,this.rippleState="none"}get readonly(){return"string"!=typeof this.model&&!0===this.model.readonly}select(t){this.readonly||this.disabled||(t&&t.stopPropagation(),this.focus(),this.onSelect.emit(this.model))}remove(t){t.stopPropagation(),this.onRemove.emit(this)}focus(){this.element.nativeElement.focus()}move(){this.moving=!0}keydown(t){if(this.editing){if(13===t.keyCode)return this.disableEditMode(t)}else this.onKeyDown.emit({event:t,model:this.model})}blink(){const t=this.element.nativeElement.classList;t.add("blink"),setTimeout(()=>t.remove("blink"),50)}toggleEditMode(){if(this.editable)return this.editing?void 0:this.activateEditMode()}onBlurred(t){if(!this.editable)return;this.disableEditMode();const n=t.target.innerText,o="string"==typeof this.model?n:{...this.model,[this.displayBy]:n};this.onBlur.emit(o)}getDisplayValue(t){return"string"==typeof t?t:t[this.displayBy]}get isRippleVisible(){return!this.readonly&&!this.editing&&Act&&this.hasRipple}disableEditMode(t){const n=this.element.nativeElement.classList,o=this.getContentEditableText();this.editing=!1,n.remove("tag--editing"),o?(this.storeNewValue(o),this.cdRef.detectChanges(),t&&t.preventDefault()):this.setContentEditableText(this.model)}isDeleteIconVisible(){return!this.readonly&&!this.disabled&&this.removable&&!this.editing}getContentEditableText(){const t=this.getContentEditable();return t?t.innerText.trim():""}setContentEditableText(t){const n=this.getContentEditable(),o=this.getDisplayValue(t);n.innerText=o}activateEditMode(){this.element.nativeElement.classList.add("tag--editing"),this.editing=!0}storeNewValue(t){if((i=>"string"==typeof i?i===t:i[this.displayBy]===t)(this.model))return;const s="string"==typeof this.model?t:{index:this.index,[this.identifyBy]:(()=>this.model[this.identifyBy]!==this.model[this.displayBy])()?this.model[this.identifyBy]:t,[this.displayBy]:t};this.canAddTag(s)?this.onTagEdited.emit({tag:s,index:this.index}):this.setContentEditableText(this.model)}getContentEditable(){return this.element.nativeElement.querySelector("[contenteditable]")}}return e.\u0275fac=function(t){return new(t||e)(kt(mr),kt(xi),kt(L2))},e.\u0275cmp=or({type:e,selectors:[["tag"]],viewQuery:function(t,n){if(1&t&&Gn(jT,5),2&t){let o;Gr(o=Wr())&&(n.ripple=o.first)}},hostVars:2,hostBindings:function(t,n){1&t&&we("keydown",function(s){return n.keydown(s)}),2&t&&Zn("moving",n.moving)},inputs:{model:"model",removable:"removable",editable:"editable",template:"template",displayBy:"displayBy",identifyBy:"identifyBy",index:"index",hasRipple:"hasRipple",disabled:"disabled",canAddTag:"canAddTag"},outputs:{onSelect:"onSelect",onRemove:"onRemove",onBlur:"onBlur",onKeyDown:"onKeyDown",onTagEdited:"onTagEdited"},decls:4,vars:8,consts:[[3,"click","dblclick","mousedown","mouseup","ngSwitch"],[4,"ngSwitchCase"],["class","tag-wrapper",4,"ngSwitchCase"],[3,"state",4,"ngIf"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],[1,"tag-wrapper"],["spellcheck","false",1,"tag__text","inline",3,"keydown.enter","keydown.escape","click","blur"],["aria-label","Remove tag","role","button",3,"click",4,"ngIf"],["aria-label","Remove tag","role","button",3,"click"],[3,"state"]],template:function(t,n){1&t&&(Ot(0,"div",0),we("click",function(s){return n.select(s)})("dblclick",function(){return n.toggleEditMode()})("mousedown",function(){return n.rippleState="clicked"})("mouseup",function(){return n.rippleState="none"}),sr(1,ict,2,6,"div",1)(2,act,4,4,"div",2),Ut(),sr(3,cct,1,2,"tag-ripple",3)),2&t&&(Zn("disabled",n.disabled),$t("ngSwitch",!!n.template),pr("tabindex",-1)("aria-label",n.getDisplayValue(n.model)),Kt(),$t("ngSwitchCase",!0),Kt(),$t("ngSwitchCase",!1),Kt(),$t("ngIf",n.isRippleVisible))},dependencies:[zct,jT,Iu,xm,Su,zi],styles:["[_nghost-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%]:focus{outline:0;overflow:hidden;transition:opacity 1s;z-index:1}[_nghost-%COMP%]{max-width:400px}.blink[_nghost-%COMP%]{-webkit-animation:_ngcontent-%COMP%_blink .3s normal forwards ease-in-out;animation:_ngcontent-%COMP%_blink .3s normal forwards ease-in-out}@-webkit-keyframes _ngcontent-%COMP%_blink{0%{opacity:.3}}@keyframes _ngcontent-%COMP%_blink{0%{opacity:.3}}[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   [contenteditable=true][_ngcontent-%COMP%]{outline:0}.tag-wrapper[_ngcontent-%COMP%]{flex-direction:row;display:flex}.tag__text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]}),e})();const Ict=[$l("animation",[Ri("in",br({opacity:1})),Ri("out",br({opacity:0})),E2(":enter",[_2("{{ enter }}",y0([br({opacity:0,offset:0,transform:"translate(0px, 20px)"}),br({opacity:.3,offset:.3,transform:"translate(0px, -10px)"}),br({opacity:.5,offset:.5,transform:"translate(0px, 0px)"}),br({opacity:.75,offset:.75,transform:"translate(0px, 5px)"}),br({opacity:1,offset:1,transform:"translate(0px, 0px)"})]))]),E2(":leave",[_2("{{ leave }}",y0([br({opacity:1,transform:"translateX(0)",offset:0}),br({opacity:1,transform:"translateX(-15px)",offset:.7}),br({opacity:0,transform:"translateX(100%)",offset:1})]))])])];let Sct=(()=>{class e{constructor(t){var n=this;this.injector=t,this.offset=q1.dropdown.offset,this.focusFirstElement=q1.dropdown.focusFirstElement,this.showDropdownIfEmpty=q1.dropdown.showDropdownIfEmpty,this.minimumTextLength=q1.dropdown.minimumTextLength,this.limitItemsTo=q1.dropdown.limitItemsTo,this.displayBy=q1.dropdown.displayBy,this.identifyBy=q1.dropdown.identifyBy,this.matchingFn=q1.dropdown.matchingFn,this.appendToBody=q1.dropdown.appendToBody,this.keepOpen=q1.dropdown.keepOpen,this.dynamicUpdate=q1.dropdown.dynamicUpdate,this.zIndex=q1.dropdown.zIndex,this.items=[],this.tagInput=this.injector.get(OT),this._autocompleteItems=[],this.show=()=>{const o=this.tagInput.items.length===this.tagInput.maxItems,s=this.getFormValue(),i=s.trim().length>=this.minimumTextLength,l=this.calculatePosition(),a=this.getMatchingItems(s),c=a.length>0,d=this.tagInput.disable,p=!1===this.isVisible&&(c&&i||this.showDropdownIfEmpty&&c&&!s),f=this.isVisible&&!c;return this.autocompleteObservable&&i?this.getItemsFromObservable(s):!this.showDropdownIfEmpty&&!s||o||d?this.dropdown.hide():(this.setItems(a),void(p?this.dropdown.show(l):f&&this.hide()))},this.requestAdding=function(){var o=(0,f2.A)(function*(s){const i=n.createTagModel(s);yield n.tagInput.onAddingRequested(!0,i).catch(()=>{})});return function(s){return o.apply(this,arguments)}}(),this.resetItems=()=>{this.items=[]},this.getItemsFromObservable=o=>{this.setLoadingState(!0),this.autocompleteObservable(o).pipe(F7()).subscribe(i=>{this.setLoadingState(!1).populateItems(i),this.setItems(this.getMatchingItems(o)),this.items.length?this.dropdown.show(this.calculatePosition()):this.dropdown.hide()},()=>this.setLoadingState(!1))}}set autocompleteItems(t){this._autocompleteItems=t}get autocompleteItems(){const t=this._autocompleteItems;return t?t.map(n=>"string"==typeof n?{[this.displayBy]:n,[this.identifyBy]:n}:n):[]}ngAfterViewInit(){this.onItemClicked().subscribe(o=>{this.requestAdding(o)}),this.onHide().subscribe(this.resetItems);const n=this.keepOpen;this.tagInput.onTextChange.asObservable().pipe(qk(),Ih(200),ms(o=>!1!==n||o.length>0)).subscribe(this.show)}updatePosition(){const t=this.tagInput.inputForm.getElementPosition();this.dropdown.menu.updatePosition(t,this.dynamicUpdate)}get isVisible(){return this.dropdown.menu.dropdownState.menuState.isVisible}onHide(){return this.dropdown.onHide}onItemClicked(){return this.dropdown.onItemClicked}get selectedItem(){return this.dropdown.menu.dropdownState.dropdownState.selectedItem}get state(){return this.dropdown.menu.dropdownState}hide(){this.resetItems(),this.dropdown.hide()}scrollListener(){!this.isVisible||!this.dynamicUpdate||this.updatePosition()}onWindowBlur(){this.dropdown.hide()}getFormValue(){const t=this.tagInput.formValue;return t?t.toString().trim():""}calculatePosition(){return this.tagInput.inputForm.getElementPosition()}createTagModel(t){const n="string"==typeof t.value?t.value:t.value[this.displayBy],o="string"==typeof t.value?t.value:t.value[this.identifyBy];return{...t.value,[this.tagInput.displayBy]:n,[this.tagInput.identifyBy]:o}}getMatchingItems(t){if(!t&&!this.showDropdownIfEmpty)return[];const n=this.tagInput.allowDupes;return this.autocompleteItems.filter(o=>{const s=!n&&this.tagInput.tags.some(i=>("string"==typeof i.model?i.model:i.model[this.tagInput.identifyBy])===o[this.identifyBy]);return this.matchingFn(t,o)&&!1===s})}setItems(t){this.items=t.slice(0,this.limitItemsTo||t.length)}populateItems(t){return this.autocompleteItems=t.map(n=>"string"==typeof n?{[this.displayBy]:n,[this.identifyBy]:n}:n),this}setLoadingState(t){return this.tagInput.isLoading=t,this}}return e.\u0275fac=function(t){return new(t||e)(kt(H1))},e.\u0275cmp=or({type:e,selectors:[["tag-input-dropdown"]],contentQueries:function(t,n,o){if(1&t&&al(o,Ys,4),2&t){let s;Gr(s=Wr())&&(n.templates=s)}},viewQuery:function(t,n){if(1&t&&Gn(BT,5),2&t){let o;Gr(o=Wr())&&(n.dropdown=o.first)}},hostBindings:function(t,n){1&t&&we("scroll",function(){return n.scrollListener()},0,K1)("blur",function(){return n.onWindowBlur()},!1,K1)},inputs:{offset:"offset",focusFirstElement:"focusFirstElement",showDropdownIfEmpty:"showDropdownIfEmpty",autocompleteObservable:"autocompleteObservable",minimumTextLength:"minimumTextLength",limitItemsTo:"limitItemsTo",displayBy:"displayBy",identifyBy:"identifyBy",matchingFn:"matchingFn",appendToBody:"appendToBody",keepOpen:"keepOpen",dynamicUpdate:"dynamicUpdate",zIndex:"zIndex",autocompleteItems:"autocompleteItems"},decls:3,vars:6,consts:[[3,"dynamicUpdate"],[3,"focusFirstElement","zIndex","appendToBody","offset"],[3,"value","ngSwitch",4,"ngFor","ngForOf"],[3,"value","ngSwitch"],[3,"innerHTML",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"innerHTML"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,n){1&t&&(Ot(0,"ng2-dropdown",0)(1,"ng2-dropdown-menu",1),sr(2,gct,3,3,"ng2-menu-item",2),Ut()()),2&t&&($t("dynamicUpdate",n.dynamicUpdate),Kt(),$t("focusFirstElement",n.focusFirstElement)("zIndex",n.zIndex)("appendToBody",n.appendToBody)("offset",n.offset),Kt(),$t("ngForOf",n.items))},dependencies:[BT,ST,IT,Yc,Iu,xm,Rz,Su,_ct],encapsulation:2}),e})();const Bct={provide:B2,useExisting:Hr(()=>OT),multi:!0};let OT=(()=>{class e extends Lct{constructor(t,n){var o;super(),o=this,this.renderer=t,this.dragProvider=n,this.separatorKeys=q1.tagInput.separatorKeys,this.separatorKeyCodes=q1.tagInput.separatorKeyCodes,this.placeholder=q1.tagInput.placeholder,this.secondaryPlaceholder=q1.tagInput.secondaryPlaceholder,this.maxItems=q1.tagInput.maxItems,this.validators=q1.tagInput.validators,this.asyncValidators=q1.tagInput.asyncValidators,this.onlyFromAutocomplete=q1.tagInput.onlyFromAutocomplete,this.errorMessages=q1.tagInput.errorMessages,this.theme=q1.tagInput.theme,this.onTextChangeDebounce=q1.tagInput.onTextChangeDebounce,this.inputId=q1.tagInput.inputId,this.inputClass=q1.tagInput.inputClass,this.clearOnBlur=q1.tagInput.clearOnBlur,this.hideForm=q1.tagInput.hideForm,this.addOnBlur=q1.tagInput.addOnBlur,this.addOnPaste=q1.tagInput.addOnPaste,this.pasteSplitPattern=q1.tagInput.pasteSplitPattern,this.blinkIfDupe=q1.tagInput.blinkIfDupe,this.removable=q1.tagInput.removable,this.editable=q1.tagInput.editable,this.allowDupes=q1.tagInput.allowDupes,this.modelAsStrings=q1.tagInput.modelAsStrings,this.trimTags=q1.tagInput.trimTags,this.ripple=q1.tagInput.ripple,this.tabindex=q1.tagInput.tabIndex,this.disable=q1.tagInput.disable,this.dragZone=q1.tagInput.dragZone,this.onRemoving=q1.tagInput.onRemoving,this.onAdding=q1.tagInput.onAdding,this.animationDuration=q1.tagInput.animationDuration,this.onAdd=new Ae,this.onRemove=new Ae,this.onSelect=new Ae,this.onFocus=new Ae,this.onBlur=new Ae,this.onTextChange=new Ae,this.onPaste=new Ae,this.onValidationError=new Ae,this.onTagEdited=new Ae,this.isLoading=!1,this.listeners={[Jk]:[],[xct]:[]},this.inputTextChange=new Ae,this.inputTextValue="",this.errors=[],this.appendTag=(s,i=this.items.length)=>{const l=this.items,a=this.modelAsStrings?s[this.identifyBy]:s;this.items=[...l.slice(0,i),a,...l.slice(i,l.length)]},this.createTag=s=>{const i=(l,a)=>"string"==typeof l?l.trim():l[a];return{..."string"!=typeof s?s:{},[this.displayBy]:this.trimTags?i(s,this.displayBy):s,[this.identifyBy]:this.trimTags?i(s,this.identifyBy):s}},this.isTagValid=(s,i=!1)=>{const l=this.dropdown?this.dropdown.selectedItem:void 0,a=this.getItemDisplay(s).trim();if(l&&!i||!a)return!1;const c=this.findDupe(s,i);if(!this.allowDupes&&c&&this.blinkIfDupe){const d=this.tags.find(p=>this.getItemValue(p.model)===this.getItemValue(c));d&&d.blink()}const u=[!c||this.allowDupes,!this.maxItemsReached,i&&this.onlyFromAutocomplete||!this.onlyFromAutocomplete];return u.filter(Boolean).length===u.length},this.onPasteCallback=function(){var s=(0,f2.A)(function*(i){const a=(()=>{const u=!!window.clipboardData,d=u?window.clipboardData:i.clipboardData;return null===d?"":d.getData(u?"Text":"text/plain")||""})(),c=a.split(o.pasteSplitPattern).map(u=>{const d=o.createTag(u);return o.setInputValue(d[o.displayBy]),o.onAddingRequested(!1,d)}),h=()=>setTimeout(()=>o.setInputValue(""),50);Promise.all(c).then(()=>{o.onPaste.emit(a),h()}).catch(h)});return function(i){return s.apply(this,arguments)}}()}get inputText(){return this.inputTextValue}set inputText(t){this.inputTextValue=t,this.inputTextChange.emit(t)}get tabindexAttr(){return""!==this.tabindex?"-1":""}ngAfterViewInit(){this.setUpKeypressListeners(),this.setupSeparatorKeysListener(),this.setUpInputKeydownListeners(),this.onTextChange.observers.length&&this.setUpTextChangeSubscriber(),(this.clearOnBlur||this.addOnBlur)&&this.setUpOnBlurSubscriber(),this.addOnPaste&&this.setUpOnPasteListener();const t=this.inputForm.form.statusChanges;t.pipe(ms(n=>"PENDING"!==n)).subscribe(()=>{this.errors=this.inputForm.getErrorMessages(this.errorMessages)}),this.isProgressBarVisible$=t.pipe(ot(n=>"PENDING"===n||this.isLoading)),this.hideForm&&this.inputForm.destroy()}ngOnInit(){void 0!==this.maxItems&&this.items&&this.items.length>this.maxItems&&(this.maxItems=this.items.length,console.warn("The number of items specified was greater than the property max-items.")),this.editable=!this.onlyFromAutocomplete&&this.editable,this.setAnimationMetadata()}onRemoveRequested(t,n){return new Promise(o=>{const s=i=>{this.removeItem(i,n),o(t)};this.onRemoving?this.onRemoving(t).pipe(F7()).subscribe(s):s(t)})}onAddingRequested(t,n,o,s){return new Promise((i,l)=>{const a=c=>this.addItem(t,c,o,s).then(i).catch(l);return this.onAdding?this.onAdding(n).pipe(F7()).subscribe(a,l):a(n)})}selectItem(t,n=!0){t&&"string"!=typeof t&&t.readonly||this.selectedTag===t||(this.selectedTag=t,n&&this.onSelect.emit(t))}fireEvents(t,n){this.listeners[t].forEach(o=>o.call(this,n))}handleKeydown(t){const n=t.event,s=n.shiftKey||!1;switch(Hct[n.keyCode||n.which]){case"DELETE":if(this.selectedTag&&this.removable){const i=this.items.indexOf(this.selectedTag);this.onRemoveRequested(this.selectedTag,i)}break;case"SWITCH_PREV":this.moveToTag(t.model,Qk);break;case"SWITCH_NEXT":this.moveToTag(t.model,j7);break;case"TAB":if(s){if(this.isFirstTag(t.model))return;this.moveToTag(t.model,Qk)}else{if(this.isLastTag(t.model)&&(this.disable||this.maxItemsReached))return;this.moveToTag(t.model,j7)}break;default:return}n.preventDefault()}onFormSubmit(){var t=this;return(0,f2.A)(function*(){try{yield t.onAddingRequested(!1,t.formValue)}catch{return}})()}setInputValue(t,n=!0){this.getControl().setValue(t,{emitEvent:n})}getControl(){return this.inputForm.value}focus(t=!1,n=!1){this.dragProvider.getState("dragging")||(this.selectItem(void 0,!1),t&&(this.inputForm.focus(),this.onFocus.emit(this.formValue)))}blur(){this.onTouched(),this.onBlur.emit(this.formValue)}hasErrors(){return!!this.inputForm&&this.inputForm.hasErrors()}isInputFocused(){return!!this.inputForm&&this.inputForm.isInputFocused()}hasCustomTemplate(){const t=this.templates?this.templates.first:void 0;return!(!t||t===(this.dropdown&&this.dropdown.templates?this.dropdown.templates.first:void 0))}get maxItemsReached(){return void 0!==this.maxItems&&this.items.length>=this.maxItems}get formValue(){const t=this.inputForm.value;return t?t.value:""}onDragStarted(t,n,o){t.stopPropagation();const s={zone:this.dragZone,tag:n,index:o};this.dragProvider.setSender(this),this.dragProvider.setDraggedItem(t,s),this.dragProvider.setState({dragging:!0,index:o})}onDragOver(t,n){this.dragProvider.setState({dropping:!0}),this.dragProvider.setReceiver(this),t.preventDefault()}onTagDropped(t,n){const o=this.dragProvider.getDraggedItem(t);!o||o.zone!==this.dragZone||(this.dragProvider.onTagDropped(o.tag,o.index,n),t.preventDefault(),t.stopPropagation())}isDropping(){const t=this.dragProvider.receiver===this,n=this.dragProvider.getState("dropping");return!(!t||!n)}onTagBlurred(t,n){this.items[n]=t,this.blur()}trackBy(t,n){return n[this.identifyBy]}updateEditedTag(t){this.onTagEdited.emit(t)}moveToTag(t,n){const o=this.isLastTag(t),s=this.isFirstTag(t);if(n===j7&&o||n===Qk&&s)return void this.focus(!0);const l=n===j7?1:-1,a=this.getTagIndex(t)+l,c=this.getTagAtIndex(a);return c.select.call(c)}isFirstTag(t){return this.tags.first.model===t}isLastTag(t){return this.tags.last.model===t}getTagIndex(t){return this.tags.toArray().findIndex(o=>o.model===t)}getTagAtIndex(t){return this.tags.toArray()[t]}removeItem(t,n){this.items=this.getItemsWithout(n),this.selectedTag===t&&this.selectItem(void 0,!1),this.focus(!0,!1),this.onRemove.emit(t)}addItem(t=!1,n,o,s){const i=this.getItemDisplay(n),l=this.createTag(n);return t&&this.setInputValue(this.getItemValue(n,!0)),new Promise((a,c)=>{const h=()=>{this.setInputValue(""),this.focus(!s,!1),a(i)},u=()=>{this.appendTag(l,o),this.onAdd.emit(l),this.dropdown&&(this.dropdown.hide(),this.dropdown.showDropdownIfEmpty&&this.dropdown.show())},d=this.inputForm.form.status,p=this.isTagValid(l,t),f=()=>(this.onValidationError.emit(l),c());return"VALID"===d&&p?(u(),h()):"INVALID"!==d&&p?"PENDING"===d?this.inputForm.form.statusChanges.pipe(ms(V=>"PENDING"!==V),F7()).subscribe(V=>"VALID"===V&&p?(u(),h()):(h(),f())):void 0:(h(),f())})}setupSeparatorKeysListener(){RT.call(this,Jk,o=>{const s=this.separatorKeyCodes.indexOf(o.keyCode)>=0,i=this.separatorKeys.indexOf(o.key)>=0;(s||i&&229!==o.keyCode)&&(o.preventDefault(),this.onAddingRequested(!1,this.formValue).catch(()=>{}))},this.separatorKeyCodes.length>0||this.separatorKeys.length>0)}setUpKeypressListeners(){RT.call(this,Jk,n=>{(37===n.keyCode||8===n.keyCode)&&!this.formValue&&this.items.length&&this.tags.last.select.call(this.tags.last)})}setUpInputKeydownListeners(){this.inputForm.onKeydown.subscribe(t=>{"Backspace"===t.key&&""===this.formValue.trim()&&t.preventDefault()})}setUpOnPasteListener(){this.renderer.listen(this.inputForm.input.nativeElement,"paste",n=>(this.onPasteCallback(n),n.preventDefault(),!0))}setUpTextChangeSubscriber(){this.inputForm.form.valueChanges.pipe(Ih(this.onTextChangeDebounce)).subscribe(t=>{this.onTextChange.emit(t.item)})}setUpOnBlurSubscriber(){this.inputForm.onBlur.pipe(Ih(100),ms(()=>!(this.dropdown&&this.dropdown.isVisible||!this.formValue))).subscribe(()=>{const n=()=>this.setInputValue("");if(this.addOnBlur)return this.onAddingRequested(!1,this.formValue,void 0,!0).then(n).catch(n);n()})}findDupe(t,n){const s=t[n?this.dropdown.identifyBy:this.identifyBy];return this.items.find(i=>this.getItemValue(i)===s)}setAnimationMetadata(){this.animationMetadata={value:"in",params:{...this.animationDuration}}}}return e.\u0275fac=function(t){return new(t||e)(kt(xi),kt(ET))},e.\u0275cmp=or({type:e,selectors:[["tag-input"]],contentQueries:function(t,n,o){if(1&t&&(al(o,Sct,5),al(o,Ys,4)),2&t){let s;Gr(s=Wr())&&(n.dropdown=s.first),Gr(s=Wr())&&(n.templates=s)}},viewQuery:function(t,n){if(1&t&&(Gn(FT,5),Gn(NT,5)),2&t){let o;Gr(o=Wr())&&(n.inputForm=o.first),Gr(o=Wr())&&(n.tags=o)}},hostVars:1,hostBindings:function(t,n){2&t&&pr("tabindex",n.tabindexAttr)},inputs:{separatorKeys:"separatorKeys",separatorKeyCodes:"separatorKeyCodes",placeholder:"placeholder",secondaryPlaceholder:"secondaryPlaceholder",maxItems:"maxItems",validators:"validators",asyncValidators:"asyncValidators",onlyFromAutocomplete:"onlyFromAutocomplete",errorMessages:"errorMessages",theme:"theme",onTextChangeDebounce:"onTextChangeDebounce",inputId:"inputId",inputClass:"inputClass",clearOnBlur:"clearOnBlur",hideForm:"hideForm",addOnBlur:"addOnBlur",addOnPaste:"addOnPaste",pasteSplitPattern:"pasteSplitPattern",blinkIfDupe:"blinkIfDupe",removable:"removable",editable:"editable",allowDupes:"allowDupes",modelAsStrings:"modelAsStrings",trimTags:"trimTags",inputText:"inputText",ripple:"ripple",tabindex:"tabindex",disable:"disable",dragZone:"dragZone",onRemoving:"onRemoving",onAdding:"onAdding",animationDuration:"animationDuration"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onSelect:"onSelect",onFocus:"onFocus",onBlur:"onBlur",onTextChange:"onTextChange",onPaste:"onPaste",onValidationError:"onValidationError",onTagEdited:"onTagEdited",inputTextChange:"inputTextChange"},features:[yr([Bct]),Cr],ngContentSelectors:vct,decls:8,vars:27,consts:[[1,"ng2-tag-input",3,"click","drop","dragenter","dragover","dragend","ngClass"],[1,"ng2-tags-container"],[3,"draggable","canAddTag","disabled","hasRipple","index","removable","editable","displayBy","identifyBy","template","model","onSelect","onRemove","onKeyDown","onTagEdited","onBlur","dragstart","drop","dragenter","dragover","dragleave",4,"ngFor","ngForOf","ngForTrackBy"],[3,"onSubmit","onBlur","click","onKeydown","onKeyup","inputText","disabled","validators","asyncValidators","hidden","placeholder","inputClass","inputId","tabindex"],["class","progress-bar",4,"ngIf"],["class","error-messages",3,"ngClass",4,"ngIf"],[3,"onSelect","onRemove","onKeyDown","onTagEdited","onBlur","dragstart","drop","dragenter","dragover","dragleave","draggable","canAddTag","disabled","hasRipple","index","removable","editable","displayBy","identifyBy","template","model"],[1,"progress-bar"],[1,"error-messages",3,"ngClass"],["class","error-message",4,"ngFor","ngForOf"],[1,"error-message"]],template:function(t,n){1&t&&(V2(),Ot(0,"div",0),we("click",function(){return n.focus(!0,!1)})("drop",function(s){return n.dragZone?n.onTagDropped(s,void 0):void 0})("dragenter",function(s){return n.dragZone?n.onDragOver(s):void 0})("dragover",function(s){return n.dragZone?n.onDragOver(s):void 0})("dragend",function(){return n.dragZone?n.dragProvider.onDragEnd():void 0}),Ot(1,"div",1),sr(2,fct,1,14,"tag",2),Ot(3,"tag-input-form",3),we("onSubmit",function(){return n.onFormSubmit()})("onBlur",function(){return n.blur()})("click",function(){return n.dropdown?n.dropdown.show():void 0})("onKeydown",function(s){return n.fireEvents("keydown",s)})("onKeyup",function(s){return n.fireEvents("keyup",s)}),Ut()(),sr(4,mct,1,0,"div",4),Wc(5,"async"),Ut(),sr(6,Cct,2,2,"div",5),To(7)),2&t&&(Zn("ng2-tag-input--dropping",n.isDropping())("ng2-tag-input--disabled",n.disable)("ng2-tag-input--loading",n.isLoading)("ng2-tag-input--invalid",n.hasErrors())("ng2-tag-input--focused",n.isInputFocused()),$t("ngClass",n.theme),pr("tabindex",-1),Kt(2),$t("ngForOf",n.items)("ngForTrackBy",n.trackBy),Kt(),$t("inputText",n.inputText)("disabled",n.disable)("validators",n.validators)("asyncValidators",n.asyncValidators)("hidden",n.maxItemsReached)("placeholder",n.items.length?n.placeholder:n.secondaryPlaceholder)("inputClass",n.inputClass)("inputId",n.inputId)("tabindex",n.tabindex),Kt(),$t("ngIf",th(5,25,n.isProgressBarVisible$)),Kt(2),$t("ngIf",n.hasErrors()))},dependencies:[NT,FT,za,Yc,zi,jz],styles:['.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;outline:none;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #0006;border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196F3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;padding:4px;cursor:text;box-shadow:inset 0 1px 1px #00000013;border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}.progress-bar[_ngcontent-%COMP%], .progress-bar[_ngcontent-%COMP%]:before{height:2px;width:100%;margin:0}.progress-bar[_ngcontent-%COMP%]{background-color:#2196f3;display:flex;position:absolute;bottom:0}.progress-bar[_ngcontent-%COMP%]:before{background-color:#82c4f8;content:"";-webkit-animation:_ngcontent-%COMP%_running-progress 2s cubic-bezier(.4,0,.2,1) infinite;animation:_ngcontent-%COMP%_running-progress 2s cubic-bezier(.4,0,.2,1) infinite}@-webkit-keyframes _ngcontent-%COMP%_running-progress{0%{margin-left:0;margin-right:100%}50%{margin-left:25%;margin-right:0}to{margin-left:100%;margin-right:0}}@keyframes _ngcontent-%COMP%_running-progress{0%{margin-left:0;margin-right:100%}50%{margin-left:25%;margin-right:0}to{margin-left:100%;margin-right:0}}tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;font-family:Roboto,Helvetica Neue,sans-serif;font-weight:400;font-size:1em;letter-spacing:.05rem;color:#444;border-radius:16px;transition:all .3s;margin:.1rem .3rem .1rem 0;padding:.08rem .45rem;height:32px;line-height:34px;background:#efefef;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#2196F3;color:#fff;box-shadow:0 2px 3px 1px #d4d1d1}tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active{background:#0d8aee;color:#fff;box-shadow:0 2px 3px 1px #d4d1d1}tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#e2e2e2;color:#000;color:initial;box-shadow:0 2px 3px 1px #d4d1d1}tag.readonly[_ngcontent-%COMP%]{cursor:default}tag.readonly[_ngcontent-%COMP%]:focus, tag[_ngcontent-%COMP%]:focus{outline:0}tag.tag--editing[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;cursor:text}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;border-radius:0;background:#f9f9f9;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#d0d0d0;color:#000;color:initial}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active{background:#d0d0d0;color:#000;color:initial}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#ececec}.minimal[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.minimal[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.minimal[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;color:#f9f9f9;border-radius:3px;background:#444;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#efefef;color:#444}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#2b2b2b;color:#f9f9f9}.dark[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.dark[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.dark[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;color:#f9f9f9;border-radius:.25rem;background:#0275d8;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#025aa5}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active{background:#025aa5}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#0267bf;color:#f9f9f9}.bootstrap[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.bootstrap[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.bootstrap[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;font-family:inherit;font-weight:400;font-size:95%;color:#fff;border-radius:.25em;background:#5bc0de;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative;padding:.25em .6em;text-align:center;white-space:nowrap}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#28a1c5}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active{background:#28a1c5}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#46b8da;color:#fff}.bootstrap3-info[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.bootstrap3-info[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}[_nghost-%COMP%]{display:block}'],data:{animation:Ict}}),e})();const Dct=new t_;let e_,ZT=(()=>{class e{static withDefaults(t){Dct.setOptions(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ur({type:e}),e.\u0275inj=ar({providers:[ET,{provide:mE,useValue:!1}],imports:[[K2,$k,A3,Jat]]}),e})();try{e_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{e_=!1}let D3,x0,r_,T2=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function rX(e){return e===Oz}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!e_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(n){return new(n||e)(wt(Mi))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Xl(e){return function Ect(){if(null==D3&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>D3=!0}))}finally{D3=D3||!1}return D3}()?e:!!e.capture}function Tct(){if(null==x0){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return x0=!1,x0;if("scrollBehavior"in document.documentElement.style)x0=!0;else{const e=Element.prototype.scrollTo;x0=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return x0}function WT(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}function Fi(e){return e.composedPath?e.composedPath()[0]:e.target}function n_(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ji(e,...r){return r.length?r.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function YT(e){return ms((r,t)=>e<=t)}function o_(e){return nn((r,t)=>{rs(e).subscribe(D(t,()=>t.complete(),P1)),!t.closed&&r.subscribe(t)})}let Xct=(()=>{class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),KT=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({providers:[Xct]})}}return e})();function Z7(e){return Array.isArray(e)?e:[e]}function Zo(e){return null==e?"":"string"==typeof e?e:`${e}px`}function Rh(e){return e instanceof mr?e.nativeElement:e}function qT(e,r,t){e?Nl(t,e,r):r()}function j3(...e){const r=p3(e);return nn((t,n)=>{(r?Ch(e,t,r):Ch(e,t)).subscribe(n)})}const JT=new Set;let z0,t0t=(()=>{class e{constructor(t,n){this._platform=t,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):r0t}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function e0t(e,r){if(!JT.has(e))try{z0||(z0=document.createElement("style"),r&&z0.setAttribute("nonce",r),z0.setAttribute("type","text/css"),document.head.appendChild(z0)),z0.sheet&&(z0.sheet.insertRule(`@media ${e} {body{ }}`,0),JT.add(e))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(n){return new(n||e)(wt(T2),wt(dp,8))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function r0t(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let QT=(()=>{class e{constructor(t,n){this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new V1}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return tR(Z7(t)).some(o=>this._registerQuery(o).mql.matches)}observe(t){let s=function Jct(...e){const r=p3(e),t=YS(e),{args:n,keys:o}=TB(e);if(0===n.length)return d0([],r);const s=new v1(function Qct(e,r,t=Ke){return n=>{qT(r,()=>{const{length:o}=e,s=new Array(o);let i=o,l=o;for(let a=0;a<o;a++)qT(r,()=>{const c=d0(e[a],r);let h=!1;c.subscribe(D(n,u=>{s[a]=u,h||(h=!0,l--),l||n.next(t(s.slice()))},()=>{--i||n.complete()}))},n)},n)}}(n,r,o?i=>RB(o,i):Ke));return t?s.pipe(yC(t)):s}(tR(Z7(t)).map(i=>this._registerQuery(i).observable));return s=Ch(s.pipe(Ts(1)),s.pipe(YT(1),Ih(0))),s.pipe(ot(i=>{const l={matches:!1,breakpoints:{}};return i.forEach(({matches:a,query:c})=>{l.matches=l.matches||a,l.breakpoints[c]=a}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const n=this._mediaMatcher.matchMedia(t),s={observable:new v1(i=>{const l=a=>this._zone.run(()=>i.next(a));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(j3(n),ot(({matches:i})=>({query:t,matches:i})),o_(this._destroySubject)),mql:n};return this._queries.set(t,s),s}static{this.\u0275fac=function(n){return new(n||e)(wt(t0t),wt(W1))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tR(e){return e.map(r=>r.split(",")).reduce((r,t)=>r.concat(t)).map(r=>r.trim())}let u0t=(()=>{class e{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function p0t(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const n=function d0t(e){try{return e.frameElement}catch{return null}}(function _0t(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(t));if(n&&(-1===aR(n)||!this.isVisible(n)))return!1;let o=t.nodeName.toLowerCase(),s=aR(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function C0t(e){let r=e.nodeName.toLowerCase(),t="input"===r&&e.type;return"text"===t||"password"===t||"select"===r||"textarea"===r}(t))&&("audio"===o?!!t.hasAttribute("controls")&&-1!==s:"video"===o?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,n){return function k0t(e){return!function v0t(e){return function m0t(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function g0t(e){let r=e.nodeName.toLowerCase();return"input"===r||"select"===r||"button"===r||"textarea"===r}(e)||function f0t(e){return function w0t(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||lR(e))}(t)&&!this.isDisabled(t)&&(n?.ignoreVisibility||this.isVisible(t))}static{this.\u0275fac=function(n){return new(n||e)(wt(T2))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function lR(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let r=e.getAttribute("tabindex");return!(!r||isNaN(parseInt(r,10)))}function aR(e){if(!lR(e))return null;const r=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}class cR{get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}constructor(r,t,n,o,s=!1,i){this._element=r,this._checker=t,this._ngZone=n,this._document=o,this._injector=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const r=this._startAnchor,t=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(r){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(r)))})}focusFirstTabbableElementWhenReady(r){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(r)))})}focusLastTabbableElementWhenReady(r){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(r)))})}_getRegionBoundary(r){const t=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);return"start"==r?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(r){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return n?.focus(r),!!n}return t.focus(r),!0}return this.focusFirstTabbableElement(r)}focusFirstTabbableElement(r){const t=this._getRegionBoundary("start");return t&&t.focus(r),!!t}focusLastTabbableElement(r){const t=this._getRegionBoundary("end");return t&&t.focus(r),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;const t=r.children;for(let n=0;n<t.length;n++){const o=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(o)return o}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;const t=r.children;for(let n=t.length-1;n>=0;n--){const o=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(o)return o}return null}_createAnchor(){const r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,t){r?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._injector?Ma(r,{injector:this._injector}):setTimeout(r)}}let M0t=(()=>{class e{constructor(t,n,o){this._checker=t,this._ngZone=n,this._injector=Et(H1),this._document=o}create(t,n=!1){return new cR(t,this._checker,this._ngZone,this._document,n,this._injector)}static{this.\u0275fac=function(n){return new(n||e)(wt(u0t),wt(W1),wt(fn))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),y0t=(()=>{class e{get enabled(){return this.focusTrap?.enabled||!1}set enabled(t){this.focusTrap&&(this.focusTrap.enabled=t)}constructor(t,n,o){this._elementRef=t,this._focusTrapFactory=n,this._previouslyFocusedElement=null,Et(T2).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(t){const n=t.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=WT(),this.focusTrap?.focusInitialElementWhenReady()}static{this.\u0275fac=function(n){return new(n||e)(kt(mr),kt(M0t),kt(fn))}}static{this.\u0275dir=p1({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",vn],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",vn]},exportAs:["cdkTrapFocus"],standalone:!0,features:[ol,co]})}}return e})();function hR(e){return 0===e.buttons||0===e.detail}function uR(e){const r=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!r||-1!==r.identifier||null!=r.radiusX&&1!==r.radiusX||null!=r.radiusY&&1!==r.radiusY)}const x0t=new ye("cdk-input-modality-detector-options"),b0t={ignoreKeys:[18,17,224,91,16]},Fh=Xl({passive:!0,capture:!0});let H0t=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(t,n,o,s){this._platform=t,this._mostRecentTarget=null,this._modality=new so(null),this._lastTouchMs=0,this._onKeydown=i=>{this._options?.ignoreKeys?.some(l=>l===i.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Fi(i))},this._onMousedown=i=>{Date.now()-this._lastTouchMs<650||(this._modality.next(hR(i)?"keyboard":"mouse"),this._mostRecentTarget=Fi(i))},this._onTouchstart=i=>{uR(i)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Fi(i))},this._options={...b0t,...s},this.modalityDetected=this._modality.pipe(YT(1)),this.modalityChanged=this.modalityDetected.pipe(qk()),t.isBrowser&&n.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Fh),o.addEventListener("mousedown",this._onMousedown,Fh),o.addEventListener("touchstart",this._onTouchstart,Fh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Fh),document.removeEventListener("mousedown",this._onMousedown,Fh),document.removeEventListener("touchstart",this._onTouchstart,Fh))}static{this.\u0275fac=function(n){return new(n||e)(wt(T2),wt(W1),wt(fn),wt(x0t,8))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var G7=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(G7||{});const L0t=new ye("cdk-focus-monitor-default-options"),W7=Xl({passive:!0,capture:!0});let pR=(()=>{class e{constructor(t,n,o,s,i){this._ngZone=t,this._platform=n,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new V1,this._rootNodeFocusAndBlurListener=l=>{for(let c=Fi(l);c;c=c.parentElement)"focus"===l.type?this._onFocus(l,c):this._onBlur(l,c)},this._document=s,this._detectionMode=i?.detectionMode||G7.IMMEDIATE}monitor(t,n=!1){const o=Rh(t);if(!this._platform.isBrowser||1!==o.nodeType)return l2();const s=function Fct(e){if(function Rct(){if(null==r_){const e=typeof document<"u"?document.head:null;r_=!(!e||!e.createShadowRoot&&!e.attachShadow)}return r_}()){const r=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&r instanceof ShadowRoot)return r}return null}(o)||this._getDocument(),i=this._elementInfo.get(o);if(i)return n&&(i.checkChildren=!0),i.subject;const l={checkChildren:n,subject:new V1,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){const n=Rh(t),o=this._elementInfo.get(n);o&&(o.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(o))}focusVia(t,n,o){const s=Rh(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([l,a])=>this._originChanged(l,n,a)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((t,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===G7.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,n){t.classList.toggle("cdk-focused",!!n),t.classList.toggle("cdk-touch-focused","touch"===n),t.classList.toggle("cdk-keyboard-focused","keyboard"===n),t.classList.toggle("cdk-mouse-focused","mouse"===n),t.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(t,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&n,this._detectionMode===G7.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,n){const o=this._elementInfo.get(n),s=Fi(t);!o||!o.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),o)}_onBlur(t,n){const o=this._elementInfo.get(n);!o||o.checkChildren&&t.relatedTarget instanceof Node&&n.contains(t.relatedTarget)||(this._setClasses(n),this._emitOrigin(o,null))}_emitOrigin(t,n){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(n))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const n=t.rootNode,o=this._rootNodeFocusListenerCount.get(n)||0;o||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,W7),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,W7)}),this._rootNodeFocusListenerCount.set(n,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(o_(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const n=t.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const o=this._rootNodeFocusListenerCount.get(n);o>1?this._rootNodeFocusListenerCount.set(n,o-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,W7),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,W7),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,n,o){this._setClasses(t,n),this._emitOrigin(o,n),this._lastFocusOrigin=n}_getClosestElementsInfo(t){const n=[];return this._elementInfo.forEach((o,s)=>{(s===t||o.checkChildren&&s.contains(t))&&n.push([s,o])}),n}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:n,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!n||n===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let i=0;i<s.length;i++)if(s[i].contains(n))return!0;return!1}static{this.\u0275fac=function(n){return new(n||e)(wt(W1),wt(T2),wt(H0t),wt(fn,8),wt(L0t,8))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gR=(()=>{class e{constructor(t,n){this._elementRef=t,this._focusMonitor=n,this._focusOrigin=null,this.cdkFocusChange=new Ae}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(kt(mr),kt(pR))}}static{this.\u0275dir=p1({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}}return e})();var A0=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(A0||{});const vR="cdk-high-contrast-black-on-white",fR="cdk-high-contrast-white-on-black",i_="cdk-high-contrast-active";let mR=(()=>{class e{constructor(t,n){this._platform=t,this._document=n,this._breakpointSubscription=Et(QT).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return A0.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const n=this._document.defaultView||window,o=n&&n.getComputedStyle?n.getComputedStyle(t):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return A0.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return A0.BLACK_ON_WHITE}return A0.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(i_,vR,fR),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();n===A0.BLACK_ON_WHITE?t.add(i_,vR):n===A0.WHITE_ON_BLACK&&t.add(i_,fR)}}static{this.\u0275fac=function(n){return new(n||e)(wt(T2),wt(fn))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),wR=(()=>{class e{constructor(t){t._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(n){return new(n||e)(wt(mR))}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[KT]})}}return e})();const z0t=new ye("cdk-dir-doc",{providedIn:"root",factory:function A0t(){return Et(fn)}}),I0t=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Xa=(()=>{class e{constructor(t){this.value="ltr",this.change=new Ae,t&&(this.value=function S0t(e){const r=e?.toLowerCase()||"";return"auto"===r&&typeof navigator<"u"&&navigator?.language?I0t.test(navigator.language)?"rtl":"ltr":"rtl"===r?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(n){return new(n||e)(wt(z0t,8))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),P3=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({})}}return e})();const B0t=["mat-internal-form-field",""],D0t=["*"],T0t=new ye("mat-sanity-checks",{providedIn:"root",factory:function E0t(){return!0}});let a2=(()=>{class e{constructor(t,n,o){this._sanityChecks=n,this._document=o,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!n_()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static{this.\u0275fac=function(n){return new(n||e)(wt(mR),wt(T0t,8),wt(fn))}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[P3,P3]})}}return e})();class _R{constructor(r,t,n,o,s){this._defaultMatcher=r,this.ngControl=t,this._parentFormGroup=n,this._parentForm=o,this._stateChanges=s,this.errorState=!1}updateErrorState(){const r=this.errorState,t=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,o=this.ngControl?this.ngControl.control:null,s=n?.isErrorState(o,t)??!1;s!==r&&(this.errorState=s,this._stateChanges.next())}}const MR=new ye("MAT_DATE_LOCALE",{providedIn:"root",factory:function R0t(){return Et(Bl)}});class zo{constructor(){this._localeChanges=new V1,this.localeChanges=this._localeChanges}getValidDateOrNull(r){return this.isDateInstance(r)&&this.isValid(r)?r:null}deserialize(r){return null==r||this.isDateInstance(r)&&this.isValid(r)?r:this.invalid()}setLocale(r){this.locale=r,this._localeChanges.next()}compareDate(r,t){return this.getYear(r)-this.getYear(t)||this.getMonth(r)-this.getMonth(t)||this.getDate(r)-this.getDate(t)}sameDate(r,t){if(r&&t){let n=this.isValid(r),o=this.isValid(t);return n&&o?!this.compareDate(r,t):n==o}return r==t}clampDate(r,t,n){return t&&this.compareDate(r,t)<0?t:n&&this.compareDate(r,n)>0?n:r}}const wl=new ye("mat-date-formats"),F0t=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function l_(e,r){const t=Array(e);for(let n=0;n<e;n++)t[n]=r(n);return t}let j0t=(()=>{class e extends zo{constructor(t){super(),this.useUtcForDisplay=!1,this._matDateLocale=Et(MR,{optional:!0}),void 0!==t&&(this._matDateLocale=t),super.setLocale(this._matDateLocale)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const n=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return l_(12,o=>this._format(n,new Date(2017,o,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return l_(31,n=>this._format(t,new Date(2017,0,n+1)))}getDayOfWeekNames(t){const n=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return l_(7,o=>this._format(n,new Date(2017,0,o+1)))}getYearName(t){const n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,t)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){const t=new Intl.Locale(this.locale),n=(t.getWeekInfo?.()||t.weekInfo)?.firstDay??0;return 7===n?0:n}return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,n,o){let s=this._createDateWithOverflow(t,n,o);return s.getMonth(),s}today(){return new Date}parse(t,n){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,n){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const o=new Intl.DateTimeFormat(this.locale,{...n,timeZone:"utc"});return this._format(o,t)}addCalendarYears(t,n){return this.addCalendarMonths(t,12*n)}addCalendarMonths(t,n){let o=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+n,this.getDate(t));return this.getMonth(o)!=((this.getMonth(t)+n)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(t,n){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+n)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(F0t.test(t)){let n=new Date(t);if(this.isValid(n))return n}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,n,o){const s=new Date;return s.setFullYear(t,n,o),s.setHours(0,0,0,0),s}_2digit(t){return("00"+t).slice(-2)}_format(t,n){const o=new Date;return o.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),o.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t.format(o)}static{this.\u0275fac=function(n){return new(n||e)(wt(MR,8))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})();const P0t={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let yR=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({providers:[N0t()]})}}return e})();function N0t(e=P0t){return[{provide:zo,useClass:j0t},{provide:wl,useValue:e}]}let a_=(()=>{class e{isErrorState(t,n){return!!(t&&t.invalid&&(t.touched||n&&n.submitted))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ci=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(ci||{});class O0t{constructor(r,t,n,o=!1){this._renderer=r,this.element=t,this.config=n,this._animationForciblyDisabledThroughCss=o,this.state=ci.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const xR=Xl({passive:!0,capture:!0});class Z0t{constructor(){this._events=new Map,this._delegateEventHandler=r=>{const t=Fi(r);t&&this._events.get(r.type)?.forEach((n,o)=>{(o===t||o.contains(t))&&n.forEach(s=>s.handleEvent(r))})}}addHandler(r,t,n,o){const s=this._events.get(t);if(s){const i=s.get(n);i?i.add(o):s.set(n,new Set([o]))}else this._events.set(t,new Map([[n,new Set([o])]])),r.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,xR)})}removeHandler(r,t,n){const o=this._events.get(r);if(!o)return;const s=o.get(t);s&&(s.delete(n),0===s.size&&o.delete(t),0===o.size&&(this._events.delete(r),document.removeEventListener(r,this._delegateEventHandler,xR)))}}const bR={enterDuration:225,exitDuration:150},HR=Xl({passive:!0,capture:!0}),VR=["mousedown","touchstart"],LR=["mouseup","mouseleave","touchend","touchcancel"];class U7{static{this._eventManager=new Z0t}constructor(r,t,n,o){this._target=r,this._ngZone=t,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Rh(n))}fadeInRipple(r,t,n={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...bR,...n.animation};n.centered&&(r=o.left+o.width/2,t=o.top+o.height/2);const i=n.radius||function W0t(e,r,t){const n=Math.max(Math.abs(e-t.left),Math.abs(e-t.right)),o=Math.max(Math.abs(r-t.top),Math.abs(r-t.bottom));return Math.sqrt(n*n+o*o)}(r,t,o),l=r-o.left,a=t-o.top,c=s.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=l-i+"px",h.style.top=a-i+"px",h.style.height=2*i+"px",h.style.width=2*i+"px",null!=n.color&&(h.style.backgroundColor=n.color),h.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(h);const u=window.getComputedStyle(h),p=u.transitionDuration,f="none"===u.transitionProperty||"0s"===p||"0s, 0s"===p||0===o.width&&0===o.height,y=new O0t(this,h,n,f);h.style.transform="scale3d(1, 1, 1)",y.state=ci.FADING_IN,n.persistent||(this._mostRecentTransientRipple=y);let V=null;return!f&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const L=()=>{V&&(V.fallbackTimer=null),clearTimeout(mt),this._finishRippleTransition(y)},R=()=>this._destroyRipple(y),mt=setTimeout(R,c+100);h.addEventListener("transitionend",L),h.addEventListener("transitioncancel",R),V={onTransitionEnd:L,onTransitionCancel:R,fallbackTimer:mt}}),this._activeRipples.set(y,V),(f||!c)&&this._finishRippleTransition(y),y}fadeOutRipple(r){if(r.state===ci.FADING_OUT||r.state===ci.HIDDEN)return;const t=r.element,n={...bR,...r.config.animation};t.style.transitionDuration=`${n.exitDuration}ms`,t.style.opacity="0",r.state=ci.FADING_OUT,(r._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(r)}fadeOutAll(){this._getActiveRipples().forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){const t=Rh(r);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,VR.forEach(n=>{U7._eventManager.addHandler(this._ngZone,n,t,this)}))}handleEvent(r){"mousedown"===r.type?this._onMousedown(r):"touchstart"===r.type?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{LR.forEach(t=>{this._triggerElement.addEventListener(t,this,HR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(r){r.state===ci.FADING_IN?this._startFadeOutTransition(r):r.state===ci.FADING_OUT&&this._destroyRipple(r)}_startFadeOutTransition(r){const t=r===this._mostRecentTransientRipple,{persistent:n}=r.config;r.state=ci.VISIBLE,!n&&(!t||!this._isPointerDown)&&r.fadeOut()}_destroyRipple(r){const t=this._activeRipples.get(r)??null;this._activeRipples.delete(r),this._activeRipples.size||(this._containerRect=null),r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),r.state=ci.HIDDEN,null!==t&&(r.element.removeEventListener("transitionend",t.onTransitionEnd),r.element.removeEventListener("transitioncancel",t.onTransitionCancel),null!==t.fallbackTimer&&clearTimeout(t.fallbackTimer)),r.element.remove()}_onMousedown(r){const t=hR(r),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!uR(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=r.changedTouches;if(t)for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(r=>{!r.config.persistent&&(r.state===ci.VISIBLE||r.config.terminateOnPointerUp&&r.state===ci.FADING_IN)&&r.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const r=this._triggerElement;r&&(VR.forEach(t=>U7._eventManager.removeHandler(t,r,this)),this._pointerUpEventsRegistered&&(LR.forEach(t=>r.removeEventListener(t,this,HR)),this._pointerUpEventsRegistered=!1))}}const zR=new ye("mat-ripple-global-options");let c_=(()=>{class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,n,o,s,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new U7(this,n,t,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,n=0,o){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,n,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static{this.\u0275fac=function(n){return new(n||e)(kt(mr),kt(W1),kt(T2),kt(zR,8),kt(Lc,8))}}static{this.\u0275dir=p1({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,o){2&n&&Zn("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return e})(),AR=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[a2,a2]})}}return e})(),U0t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[a2]})}}return e})(),IR=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[AR,a2,U0t]})}}return e})();const SR={capture:!0},BR=["focus","mousedown","mouseenter","touchstart"],h_="mat-ripple-loader-uninitialized",u_="mat-ripple-loader-class-name",DR="mat-ripple-loader-centered",$7="mat-ripple-loader-disabled";let K0t=(()=>{class e{constructor(){this._document=Et(fn,{optional:!0}),this._animationMode=Et(Lc,{optional:!0}),this._globalRippleOptions=Et(zR,{optional:!0}),this._platform=Et(T2),this._ngZone=Et(W1),this._hosts=new Map,this._onInteraction=t=>{const n=Fi(t);if(n instanceof HTMLElement){const o=n.closest(`[${h_}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}},this._ngZone.runOutsideAngular(()=>{for(const t of BR)this._document?.addEventListener(t,this._onInteraction,SR)})}ngOnDestroy(){const t=this._hosts.keys();for(const n of t)this.destroyRipple(n);for(const n of BR)this._document?.removeEventListener(n,this._onInteraction,SR)}configureRipple(t,n){t.setAttribute(h_,this._globalRippleOptions?.namespace??""),(n.className||!t.hasAttribute(u_))&&t.setAttribute(u_,n.className||""),n.centered&&t.setAttribute(DR,""),n.disabled&&t.setAttribute($7,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,n){const o=this._hosts.get(t);o?o.disabled=n:n?t.setAttribute($7,""):t.removeAttribute($7)}_createRipple(t){if(!this._document)return;const n=this._hosts.get(t);if(n)return n;t.querySelector(".mat-ripple")?.remove();const o=this._document.createElement("span");o.classList.add("mat-ripple",t.getAttribute(u_)),t.append(o);const s=new c_(new mr(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=t,s.centered=t.hasAttribute(DR),s.disabled=t.hasAttribute($7),this.attachRipple(t,s),s}attachRipple(t,n){t.removeAttribute(h_),this._hosts.set(t,n)}destroyRipple(t){const n=this._hosts.get(t);n&&(n.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),q0t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,o){2&n&&Zn("mdc-form-field--align-end","before"===o.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[uo],attrs:B0t,ngContentSelectors:D0t,decls:1,vars:0,template:function(n,o){1&n&&(V2(),To(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}}return e})(),t5t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[K2,a2]})}}return e})(),e5t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[K2,Q6.forChild(),zT,A3,$k,ZT,YB,t5t]})}}return e})();const ER='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z"></path></svg>',TR='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 8l-6 6l1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></svg>',RR='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M16.59 8.59L12 13.17L7.41 8.59L6 10l6 6l6-6z"></path></svg>',r5t=["*"];function n5t(e,r){if(1&e){const t=F1();Ot(0,"gn-ui-button",2),we("buttonClick",function(){return Ft(t),jt(te().removeBadge())}),Zr(1,"ng-icon",3),Ut()}}let o5t=(()=>{class e{constructor(){this.clickable=!1,this.removable=!1,this.badgeRemoveClicked=new Ae}removeBadge(){this.badgeRemoveClicked.emit()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["gn-ui-badge"]],inputs:{clickable:"clickable",removable:"removable"},outputs:{badgeRemoveClicked:"badgeRemoveClicked"},standalone:!0,features:[yr([S3({matClose:ER}),I3({size:"1.2em"})]),uo],ngContentSelectors:r5t,decls:4,vars:2,consts:[[1,"gn-ui-badge","flex","items-center","gap-1.5",3,"ngClass"],["type","light","extraClass","text-xs border-0 px-0 py-0","style","\n      --gn-ui-button-padding: 0;\n      --gn-ui-button-font-size: 0.8em;\n      --gn-ui-button-width: 1.4em;\n      --gn-ui-button-height: 1.4em;\n      --gn-ui-button-rounded: 1.4em;\n      --gn-ui-button-background: var(--gn-ui-badge-background-color, white);\n    ",3,"buttonClick",4,"ngIf"],["type","light","extraClass","text-xs border-0 px-0 py-0",2,"--gn-ui-button-padding","0","--gn-ui-button-font-size","0.8em","--gn-ui-button-width","1.4em","--gn-ui-button-height","1.4em","--gn-ui-button-rounded","1.4em","--gn-ui-button-background","var(--gn-ui-badge-background-color, white)",3,"buttonClick"],["name","matClose"]],template:function(n,o){1&n&&(V2(),Ot(0,"div",0)(1,"span"),To(2),Ut(),sr(3,n5t,2,0,"gn-ui-button",1),Ut()),2&n&&($t("ngClass",o.clickable?"hover:bg-primary cursor-pointer transition-colors duration-100":""),Kt(3),$t("ngIf",o.removable))},dependencies:[K2,za,zi,m0,M0],changeDetection:0})}}return e})();const s5t=["addListener","removeListener"],i5t=["addEventListener","removeEventListener"],l5t=["on","off"];function jh(e,r,t,n){if(Qe(t)&&(n=t,t=void 0),n)return jh(e,r,t).pipe(yC(n));const[o,s]=function h5t(e){return Qe(e.addEventListener)&&Qe(e.removeEventListener)}(e)?i5t.map(i=>l=>e[i](r,l,t)):function a5t(e){return Qe(e.addListener)&&Qe(e.removeListener)}(e)?s5t.map(FR(e,r)):function c5t(e){return Qe(e.on)&&Qe(e.off)}(e)?l5t.map(FR(e,r)):[];if(!o&&mC(e))return fh(i=>jh(i,r,t))(rs(e));if(!o)throw new TypeError("Invalid event target");return new v1(i=>{const l=(...a)=>i.next(1<a.length?a:a[0]);return o(l),()=>s(l)})}function FR(e,r){return t=>n=>e[t](r,n)}const O3={schedule(e){let r=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:n}=O3;n&&(r=n.requestAnimationFrame,t=n.cancelAnimationFrame);const o=r(s=>{t=void 0,e(s)});return new Dt(()=>t?.(o))},requestAnimationFrame(...e){const{delegate:r}=O3;return(r?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:r}=O3;return(r?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};new class d5t extends _k{flush(r){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let o;r=r||n.shift();do{if(o=r.execute(r.state,r.delay))break}while((r=n[0])&&r.id===t&&n.shift());if(this._active=!1,o){for(;(r=n[0])&&r.id===t&&n.shift();)r.unsubscribe();throw o}}}(class u5t extends kk{constructor(r,t){super(r,t),this.scheduler=r,this.work=t}requestAsyncId(r,t,n=0){return null!==n&&n>0?super.requestAsyncId(r,t,n):(r.actions.push(this),r._scheduled||(r._scheduled=O3.requestAnimationFrame(()=>r.flush(void 0))))}recycleAsyncId(r,t,n=0){var o;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(r,t,n);const{actions:s}=r;null!=t&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==t&&(O3.cancelAnimationFrame(t),r._scheduled=void 0)}});let d_,g5t=1;const Y7={};function jR(e){return e in Y7&&(delete Y7[e],!0)}const v5t={setImmediate(e){const r=g5t++;return Y7[r]=!0,d_||(d_=Promise.resolve()),d_.then(()=>jR(r)&&e()),r},clearImmediate(e){jR(e)}},{setImmediate:f5t,clearImmediate:m5t}=v5t,X7={setImmediate(...e){const{delegate:r}=X7;return(r?.setImmediate||f5t)(...e)},clearImmediate(e){const{delegate:r}=X7;return(r?.clearImmediate||m5t)(e)},delegate:void 0};new class C5t extends _k{flush(r){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let o;r=r||n.shift();do{if(o=r.execute(r.state,r.delay))break}while((r=n[0])&&r.id===t&&n.shift());if(this._active=!1,o){for(;(r=n[0])&&r.id===t&&n.shift();)r.unsubscribe();throw o}}}(class w5t extends kk{constructor(r,t){super(r,t),this.scheduler=r,this.work=t}requestAsyncId(r,t,n=0){return null!==n&&n>0?super.requestAsyncId(r,t,n):(r.actions.push(this),r._scheduled||(r._scheduled=X7.setImmediate(r.flush.bind(r,void 0))))}recycleAsyncId(r,t,n=0){var o;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(r,t,n);const{actions:s}=r;null!=t&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==t&&(X7.clearImmediate(t),r._scheduled===t&&(r._scheduled=void 0))}});function NR(e,r=C7){return function _5t(e){return nn((r,t)=>{let n=!1,o=null,s=null,i=!1;const l=()=>{if(s?.unsubscribe(),s=null,n){n=!1;const c=o;o=null,t.next(c)}i&&t.complete()},a=()=>{s=null,i&&t.complete()};r.subscribe(D(t,c=>{n=!0,o=c,s||rs(e(c)).subscribe(s=D(t,l,a))},()=>{i=!0,(!n||!s||s.closed)&&t.complete()}))})}(()=>function PR(e=0,r,t=Cit){let n=-1;return null!=r&&($S(r)?t=r:n=r),new v1(o=>{let s=function M5t(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;s<0&&(s=0);let i=0;return t.schedule(function(){o.closed||(o.next(i++),0<=n?this.schedule(void 0,n):o.complete())},s)})}(e,r))}let x5t=(()=>{class e{constructor(t,n,o){this._ngZone=t,this._platform=n,this._scrolled=new V1,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new v1(n=>{this._globalSubscription||this._addGlobalListener();const o=t>0?this._scrolled.pipe(NR(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):l2()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){const o=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe(ms(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(t){const n=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,t)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let o=Rh(n),s=t.getElementRef().nativeElement;do{if(o==s)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>jh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(n){return new(n||e)(wt(W1),wt(T2),wt(fn,8))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),p_=(()=>{class e{constructor(t,n,o){this._platform=t,this._change=new V1,this._changeListener=s=>{this._change.next(s)},this._document=o,n.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:n,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+n,height:o,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,n=this._getWindow(),o=t.documentElement,s=o.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||n.scrollY||o.scrollTop||0,left:-s.left||t.body.scrollLeft||n.scrollX||o.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(NR(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(n){return new(n||e)(wt(T2),wt(W1),wt(fn,8))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Z3=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({})}}return e})(),OR=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[P3,Z3,P3,Z3]})}}return e})();class g_{attach(r){return this._attachedHost=r,r.attach(this)}detach(){let r=this._attachedHost;null!=r&&(this._attachedHost=null,r.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(r){this._attachedHost=r}}class v_ extends g_{constructor(r,t,n,o,s){super(),this.component=r,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=o,this.projectableNodes=s}}class f_ extends g_{constructor(r,t,n,o){super(),this.templateRef=r,this.viewContainerRef=t,this.context=n,this.injector=o}get origin(){return this.templateRef.elementRef}attach(r,t=this.context){return this.context=t,super.attach(r)}detach(){return this.context=void 0,super.detach()}}class V5t extends g_{constructor(r){super(),this.element=r instanceof mr?r.nativeElement:r}}class ZR{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(r){return r instanceof v_?(this._attachedPortal=r,this.attachComponentPortal(r)):r instanceof f_?(this._attachedPortal=r,this.attachTemplatePortal(r)):this.attachDomPortal&&r instanceof V5t?(this._attachedPortal=r,this.attachDomPortal(r)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(r){this._disposeFn=r}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class L5t extends ZR{constructor(r,t,n,o,s){super(),this.outletElement=r,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=o,this.attachDomPortal=i=>{const l=i.element,a=this._document.createComment("dom-portal");l.parentNode.insertBefore(a,l),this.outletElement.appendChild(l),this._attachedPortal=i,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(l,a)})},this._document=s}attachComponentPortal(r){const n=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component);let o;return r.viewContainerRef?(o=r.viewContainerRef.createComponent(n,r.viewContainerRef.length,r.injector||r.viewContainerRef.injector,r.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=n.create(r.injector||this._defaultInjector||H1.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=r,o}attachTemplatePortal(r){let t=r.viewContainerRef,n=t.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return n.rootNodes.forEach(o=>this.outletElement.appendChild(o)),n.detectChanges(),this.setDisposeFn(()=>{let o=t.indexOf(n);-1!==o&&t.remove(o)}),this._attachedPortal=r,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(r){return r.hostView.rootNodes[0]}}let GR=(()=>{class e extends ZR{constructor(t,n,o){super(),this._componentFactoryResolver=t,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new Ae,this.attachDomPortal=s=>{const i=s.element,l=this._document.createComment("dom-portal");s.setAttachedHost(this),i.parentNode.insertBefore(l,i),this._getRootNode().appendChild(i),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(i,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=n.createComponent(s,n.length,t.injector||n.injector,t.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(n){return new(n||e)(kt(S5),kt(ds),kt(fn))}}static{this.\u0275dir=p1({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Cr]})}}return e})(),WR=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({})}}return e})();function Kl(...e){const r=p3(e),t=function O1t(e,r){return"number"==typeof uC(e)?e.pop():r}(e,1/0),n=e;return n.length?1===n.length?rs(n[0]):jB(t)(d0(n,r)):bC}const UR=Tct();class z5t{constructor(r,t){this._viewportRuler=r,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=Zo(-this._previousScrollPosition.left),r.style.top=Zo(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const r=this._document.documentElement,n=r.style,o=this._document.body.style,s=n.scrollBehavior||"",i=o.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),UR&&(n.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),UR&&(n.scrollBehavior=s,o.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}}class A5t{constructor(r,t,n,o){this._scrollDispatcher=r,this._ngZone=t,this._viewportRuler=n,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(r){this._overlayRef=r}enable(){if(this._scrollSubscription)return;const r=this._scrollDispatcher.scrolled(0).pipe(ms(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class $R{enable(){}disable(){}attach(){}}function m_(e,r){return r.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function YR(e,r){return r.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class I5t{constructor(r,t,n,o){this._scrollDispatcher=r,this._viewportRuler=t,this._ngZone=n,this._config=o,this._scrollSubscription=null}attach(r){this._overlayRef=r}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:o}=this._viewportRuler.getViewportSize();m_(t,[{width:n,height:o,bottom:o,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let S5t=(()=>{class e{constructor(t,n,o,s){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=o,this.noop=()=>new $R,this.close=i=>new A5t(this._scrollDispatcher,this._ngZone,this._viewportRuler,i),this.block=()=>new z5t(this._viewportRuler,this._document),this.reposition=i=>new I5t(this._scrollDispatcher,this._viewportRuler,this._ngZone,i),this._document=s}static{this.\u0275fac=function(n){return new(n||e)(wt(x5t),wt(p_),wt(W1),wt(fn))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class K7{constructor(r){if(this.scrollStrategy=new $R,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,r){const t=Object.keys(r);for(const n of t)void 0!==r[n]&&(this[n]=r[n])}}}class B5t{constructor(r,t){this.connectionPair=r,this.scrollableViewProperties=t}}let XR=(()=>{class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const n=this._attachedOverlays.indexOf(t);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(n){return new(n||e)(wt(fn))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),D5t=(()=>{class e extends XR{constructor(t,n){super(t),this._ngZone=n,this._keydownListener=o=>{const s=this._attachedOverlays;for(let i=s.length-1;i>-1;i--)if(s[i]._keydownEvents.observers.length>0){const l=s[i]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(n){return new(n||e)(wt(fn),wt(W1,8))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),E5t=(()=>{class e extends XR{constructor(t,n,o){super(t),this._platform=n,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Fi(s)},this._clickListener=s=>{const i=Fi(s),l="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;const a=this._attachedOverlays.slice();for(let c=a.length-1;c>-1;c--){const h=a[c];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(KR(h.overlayElement,i)||KR(h.overlayElement,l))break;const u=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(s)):u.next(s)}}}add(t){if(super.add(t),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(n){return new(n||e)(wt(fn),wt(T2),wt(W1,8))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function KR(e,r){const t=typeof ShadowRoot<"u"&&ShadowRoot;let n=r;for(;n;){if(n===e)return!0;n=t&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}let qR=(()=>{class e{constructor(t,n){this._platform=n,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||n_()){const o=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}const n=this._document.createElement("div");n.classList.add(t),n_()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static{this.\u0275fac=function(n){return new(n||e)(wt(fn),wt(T2))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class T5t{constructor(r,t,n,o,s,i,l,a,c,h=!1,u){this._portalOutlet=r,this._host=t,this._pane=n,this._config=o,this._ngZone=s,this._keyboardDispatcher=i,this._document=l,this._location=a,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._injector=u,this._backdropElement=null,this._backdropClick=new V1,this._attachments=new V1,this._detachments=new V1,this._locationChanges=Dt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new V1,this._outsidePointerEvents=new V1,this._renders=new V1,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=Vi(()=>function oH(e,r){!r?.injector&&Vd();const t=r?.injector??Et(H1);return Eo(t)?(U2("NgAfterRender"),sH(e,t,r,!1)):iH}(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(r){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(r);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Ma(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const r=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){const r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,r&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config={...this._config,...r},this._updateElementSize()}setDirection(r){this._config={...this._config,direction:r},this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){const r=this._config.direction;return r?"string"==typeof r?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const r=this._pane.style;r.width=Zo(this._config.width),r.height=Zo(this._config.height),r.minWidth=Zo(this._config.minWidth),r.minHeight=Zo(this._config.minHeight),r.maxWidth=Zo(this._config.maxWidth),r.maxHeight=Zo(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachBackdrop(){const r="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(r)})}):this._backdropElement.classList.add(r)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const r=this._backdropElement;if(r){if(this._animationsDisabled)return void this._disposeBackdrop(r);r.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{r.addEventListener("transitionend",this._backdropTransitionendHandler)}),r.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(r)},500))}}_toggleClasses(r,t,n){const o=Z7(t||[]).filter(s=>!!s);o.length&&(n?r.classList.add(...o):r.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const r=this._renders.pipe(o_(Kl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),r.unsubscribe())})})}_disposeScrollStrategy(){const r=this._scrollStrategy;r&&(r.disable(),r.detach&&r.detach())}_disposeBackdrop(r){r&&(r.removeEventListener("click",this._backdropClickHandler),r.removeEventListener("transitionend",this._backdropTransitionendHandler),r.remove(),this._backdropElement===r&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const JR="cdk-overlay-connected-position-bounding-box",R5t=/([A-Za-z%]+)$/;class QR{get positions(){return this._preferredPositions}constructor(r,t,n,o,s){this._viewportRuler=t,this._document=n,this._platform=o,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new V1,this._resizeSubscription=Dt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(r)}attach(r){this._validatePositions(),r.hostElement.classList.add(JR),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const r=this._originRect,t=this._overlayRect,n=this._viewportRect,o=this._containerRect,s=[];let i;for(let l of this._preferredPositions){let a=this._getOriginPoint(r,o,l),c=this._getOverlayPoint(a,t,l),h=this._getOverlayFit(c,t,n,l);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,a);this._canFitWithFlexibleDimensions(h,c,n)?s.push({position:l,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,l)}):(!i||i.overlayFit.visibleArea<h.visibleArea)&&(i={overlayFit:h,overlayPoint:c,originPoint:a,position:l,overlayRect:t})}if(s.length){let l=null,a=-1;for(const c of s){const h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>a&&(a=h,l=c)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&I0(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(JR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const r=this._lastPosition;if(r){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,r);this._applyPosition(r,t)}else this.apply()}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,-1===r.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}_getOriginPoint(r,t,n){let o,s;if("center"==n.originX)o=r.left+r.width/2;else{const i=this._isRtl()?r.right:r.left,l=this._isRtl()?r.left:r.right;o="start"==n.originX?i:l}return t.left<0&&(o-=t.left),s="center"==n.originY?r.top+r.height/2:"top"==n.originY?r.top:r.bottom,t.top<0&&(s-=t.top),{x:o,y:s}}_getOverlayPoint(r,t,n){let o,s;return o="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:r.x+o,y:r.y+s}}_getOverlayFit(r,t,n,o){const s=eF(t);let{x:i,y:l}=r,a=this._getOffset(o,"x"),c=this._getOffset(o,"y");a&&(i+=a),c&&(l+=c);let d=0-l,p=l+s.height-n.height,f=this._subtractOverflows(s.width,0-i,i+s.width-n.width),y=this._subtractOverflows(s.height,d,p),V=f*y;return{visibleArea:V,isCompletelyWithinViewport:s.width*s.height===V,fitsInViewportVertically:y===s.height,fitsInViewportHorizontally:f==s.width}}_canFitWithFlexibleDimensions(r,t,n){if(this._hasFlexibleDimensions){const o=n.bottom-t.y,s=n.right-t.x,i=tF(this._overlayRef.getConfig().minHeight),l=tF(this._overlayRef.getConfig().minWidth);return(r.fitsInViewportVertically||null!=i&&i<=o)&&(r.fitsInViewportHorizontally||null!=l&&l<=s)}return!1}_pushOverlayOnScreen(r,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};const o=eF(t),s=this._viewportRect,i=Math.max(r.x+o.width-s.width,0),l=Math.max(r.y+o.height-s.height,0),a=Math.max(s.top-n.top-r.y,0),c=Math.max(s.left-n.left-r.x,0);let h=0,u=0;return h=o.width<=s.width?c||-i:r.x<this._viewportMargin?s.left-n.left-r.x:0,u=o.height<=s.height?a||-l:r.y<this._viewportMargin?s.top-n.top-r.y:0,this._previousPushAmount={x:h,y:u},{x:r.x+h,y:r.y+u}}_applyPosition(r,t){if(this._setTransformOrigin(r),this._setOverlayElementStyles(t,r),this._setBoundingBoxStyles(t,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._positionChanges.observers.length){const n=this._getScrollVisibility();if(r!==this._lastPosition||!this._lastScrollVisibility||!function F5t(e,r){return e===r||e.isOriginClipped===r.isOriginClipped&&e.isOriginOutsideView===r.isOriginOutsideView&&e.isOverlayClipped===r.isOverlayClipped&&e.isOverlayOutsideView===r.isOverlayOutsideView}(this._lastScrollVisibility,n)){const o=new B5t(r,n);this._positionChanges.next(o)}this._lastScrollVisibility=n}this._lastPosition=r,this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,o=r.overlayY;n="center"===r.overlayX?"center":this._isRtl()?"start"===r.overlayX?"right":"left":"start"===r.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${n} ${o}`}_calculateBoundingBoxRect(r,t){const n=this._viewportRect,o=this._isRtl();let s,i,l,h,u,d;if("top"===t.overlayY)i=r.y,s=n.height-i+this._viewportMargin;else if("bottom"===t.overlayY)l=n.height-r.y+2*this._viewportMargin,s=n.height-l+this._viewportMargin;else{const p=Math.min(n.bottom-r.y+n.top,r.y),f=this._lastBoundingBoxSize.height;s=2*p,i=r.y-p,s>f&&!this._isInitialRender&&!this._growAfterOpen&&(i=r.y-f/2)}if("end"===t.overlayX&&!o||"start"===t.overlayX&&o)d=n.width-r.x+2*this._viewportMargin,h=r.x-this._viewportMargin;else if("start"===t.overlayX&&!o||"end"===t.overlayX&&o)u=r.x,h=n.right-r.x;else{const p=Math.min(n.right-r.x+n.left,r.x),f=this._lastBoundingBoxSize.width;h=2*p,u=r.x-p,h>f&&!this._isInitialRender&&!this._growAfterOpen&&(u=r.x-f/2)}return{top:i,left:u,bottom:l,right:d,width:h,height:s}}_setBoundingBoxStyles(r,t){const n=this._calculateBoundingBoxRect(r,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;o.height=Zo(n.height),o.top=Zo(n.top),o.bottom=Zo(n.bottom),o.width=Zo(n.width),o.left=Zo(n.left),o.right=Zo(n.right),o.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",o.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(o.maxHeight=Zo(s)),i&&(o.maxWidth=Zo(i))}this._lastBoundingBoxSize=n,I0(this._boundingBox.style,o)}_resetBoundingBoxStyles(){I0(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){I0(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,t){const n={},o=this._hasExactPosition(),s=this._hasFlexibleDimensions,i=this._overlayRef.getConfig();if(o){const h=this._viewportRuler.getViewportScrollPosition();I0(n,this._getExactOverlayY(t,r,h)),I0(n,this._getExactOverlayX(t,r,h))}else n.position="static";let l="",a=this._getOffset(t,"x"),c=this._getOffset(t,"y");a&&(l+=`translateX(${a}px) `),c&&(l+=`translateY(${c}px)`),n.transform=l.trim(),i.maxHeight&&(o?n.maxHeight=Zo(i.maxHeight):s&&(n.maxHeight="")),i.maxWidth&&(o?n.maxWidth=Zo(i.maxWidth):s&&(n.maxWidth="")),I0(this._pane.style,n)}_getExactOverlayY(r,t,n){let o={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,r);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"bottom"===r.overlayY?o.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":o.top=Zo(s.y),o}_getExactOverlayX(r,t,n){let i,o={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,r);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===r.overlayX?"left":"right":"end"===r.overlayX?"right":"left","right"===i?o.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":o.left=Zo(s.x),o}_getScrollVisibility(){const r=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:YR(r,n),isOriginOutsideView:m_(r,n),isOverlayClipped:YR(t,n),isOverlayOutsideView:m_(t,n)}}_subtractOverflows(r,...t){return t.reduce((n,o)=>n-Math.max(o,0),r)}_getNarrowedViewportRect(){const r=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+r-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:r-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,t){return"x"===t?null==r.offsetX?this._offsetX:r.offsetX:null==r.offsetY?this._offsetY:r.offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&Z7(r).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getOriginRect(){const r=this._origin;if(r instanceof mr)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();const t=r.width||0,n=r.height||0;return{top:r.y,bottom:r.y+n,left:r.x,right:r.x+t,height:n,width:t}}}function I0(e,r){for(let t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}function tF(e){if("number"!=typeof e&&null!=e){const[r,t]=e.split(R5t);return t&&"px"!==t?null:parseFloat(r)}return e||null}function eF(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const rF="cdk-global-overlay-wrapper";class j5t{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(r){const t=r.getConfig();this._overlayRef=r,this._width&&!t.width&&r.updateSize({width:this._width}),this._height&&!t.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(rF),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._xOffset=r,this._xPosition="left",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._xOffset=r,this._xPosition="right",this}start(r=""){return this._xOffset=r,this._xPosition="start",this}end(r=""){return this._xOffset=r,this._xPosition="end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._xPosition="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const r=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:o,height:s,maxWidth:i,maxHeight:l}=n,a=!("100%"!==o&&"100vw"!==o||i&&"100%"!==i&&"100vw"!==i),c=!("100%"!==s&&"100vh"!==s||l&&"100%"!==l&&"100vh"!==l),h=this._xPosition,u=this._xOffset,d="rtl"===this._overlayRef.getConfig().direction;let p="",f="",y="";a?y="flex-start":"center"===h?(y="center",d?f=u:p=u):d?"left"===h||"end"===h?(y="flex-end",p=u):("right"===h||"start"===h)&&(y="flex-start",f=u):"left"===h||"start"===h?(y="flex-start",p=u):("right"===h||"end"===h)&&(y="flex-end",f=u),r.position=this._cssPosition,r.marginLeft=a?"0":p,r.marginTop=c?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=a?"0":f,t.justifyContent=y,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const r=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(rF),n.justifyContent=n.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}}let P5t=(()=>{class e{constructor(t,n,o,s){this._viewportRuler=t,this._document=n,this._platform=o,this._overlayContainer=s}global(){return new j5t}flexibleConnectedTo(t){return new QR(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(n){return new(n||e)(wt(p_),wt(fn),wt(T2),wt(qR))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),N5t=0,hi=(()=>{class e{constructor(t,n,o,s,i,l,a,c,h,u,d,p){this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=i,this._injector=l,this._ngZone=a,this._document=c,this._directionality=h,this._location=u,this._outsideClickDispatcher=d,this._animationsModuleType=p}create(t){const n=this._createHostElement(),o=this._createPaneElement(n),s=this._createPortalOutlet(o),i=new K7(t);return i.direction=i.direction||this._directionality.value,new T5t(s,n,o,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(is))}position(){return this._positionBuilder}_createPaneElement(t){const n=this._document.createElement("div");return n.id="cdk-overlay-"+N5t++,n.classList.add("cdk-overlay-pane"),t.appendChild(n),n}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(cl)),new L5t(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(n){return new(n||e)(wt(S5t),wt(qR),wt(S5),wt(P5t),wt(D5t),wt(H1),wt(W1),wt(fn),wt(Xa),wt(Mz),wt(E5t),wt(Lc,8))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const O5t=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],nF=new ye("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const e=Et(hi);return()=>e.scrollStrategies.reposition()}});let w_=(()=>{class e{constructor(t){this.elementRef=t}static{this.\u0275fac=function(n){return new(n||e)(kt(mr))}}static{this.\u0275dir=p1({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return e})(),oF=(()=>{class e{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,n,o,s,i){this._overlay=t,this._dir=i,this._backdropSubscription=Dt.EMPTY,this._attachSubscription=Dt.EMPTY,this._detachSubscription=Dt.EMPTY,this._positionSubscription=Dt.EMPTY,this._disposeOnNavigation=!1,this._ngZone=Et(W1),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Ae,this.positionChange=new Ae,this.attach=new Ae,this.detach=new Ae,this.overlayKeydown=new Ae,this.overlayOutsideClick=new Ae,this._templatePortal=new f_(n,o),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=O5t);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!ji(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{const o=this._getOriginElement(),s=Fi(n);(!o||o!==s&&!o.contains(s))&&this.overlayOutsideClick.next(n)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),n=new K7({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(t){const n=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(t),t}_getOrigin(){return this.origin instanceof w_?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof w_?this.origin.elementRef.nativeElement:this.origin instanceof mr?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function H5t(e,r=!1){return nn((t,n)=>{let o=0;t.subscribe(D(n,s=>{const i=e(s,o++);(i||r)&&n.next(s),!i&&n.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(kt(hi),kt(Ys),kt(ds),kt(nF),kt(Xa,8))}}static{this.\u0275dir=p1({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",vn],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",vn],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",vn],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",vn],push:[2,"cdkConnectedOverlayPush","push",vn],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",vn]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[ol,co]})}}return e})();const G5t={provide:nF,deps:[hi],useFactory:function Z5t(e){return()=>e.scrollStrategies.reposition()}};let G3=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({providers:[hi,G5t],imports:[P3,WR,OR,OR]})}}return e})();const W5t=["mat-button",""],U5t=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],$5t=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],X5t=["mat-icon-button",""],K5t=["*"],q5t=new ye("MAT_BUTTON_CONFIG"),J5t=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let sF=(()=>{class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,n,o,s){this._elementRef=t,this._platform=n,this._ngZone=o,this._animationMode=s,this._focusMonitor=Et(pR),this._rippleLoader=Et(K0t),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const i=Et(q5t,{optional:!0}),l=t.nativeElement,a=l.classList;this.disabledInteractive=i?.disabledInteractive??!1,this.color=i?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(const{attribute:c,mdcClasses:h}of J5t)l.hasAttribute(c)&&a.add(...h)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",n){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(n){Vv()}}static{this.\u0275dir=p1({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",vn],disabled:[2,"disabled","disabled",vn],ariaDisabled:[2,"aria-disabled","ariaDisabled",vn],disabledInteractive:[2,"disabledInteractive","disabledInteractive",vn]},features:[ol]})}}return e})(),iF=(()=>{class e extends sF{constructor(t,n,o,s){super(t,n,o,s)}static{this.\u0275fac=function(n){return new(n||e)(kt(mr),kt(T2),kt(W1),kt(Lc,8))}}static{this.\u0275cmp=or({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,o){2&n&&(pr("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),ba(o.color?"mat-"+o.color:""),Zn("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Cr,uo],attrs:W5t,ngContentSelectors:$5t,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){1&n&&(V2(U5t),Zr(0,"span",0),To(1),Ot(2,"span",1),To(3,1),Ut(),To(4,2),Zr(5,"span",2)(6,"span",3)),2&n&&Zn("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return e})(),lF=(()=>{class e extends sF{constructor(t,n,o,s){super(t,n,o,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(n){return new(n||e)(kt(mr),kt(T2),kt(W1),kt(Lc,8))}}static{this.\u0275cmp=or({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,o){2&n&&(pr("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),ba(o.color?"mat-"+o.color:""),Zn("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Cr,uo],attrs:X5t,ngContentSelectors:K5t,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){1&n&&(V2(),Zr(0,"span",0),To(1),Zr(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return e})(),tht=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[a2,AR,a2]})}}return e})(),lht=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=p1({type:e})}}return e})();const C_=new ye("MatFormField");let k_=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[a2,K2,KT,a2]})}}return e})(),aht=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({})}}return e})(),hht=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[a2,k_,k_,aht,a2]})}}return e})();const uht=["mat-calendar-body",""];function dht(e,r){return this._trackRow(r)}const aF=(e,r)=>r.id;function pht(e,r){if(1&e&&(Ot(0,"tr",0)(1,"td",3),Ur(2),Ut()()),2&e){const t=te();Kt(),Sl("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),pr("colspan",t.numCols),Kt(),v2(" ",t.label," ")}}function ght(e,r){if(1&e&&(Ot(0,"td",3),Ur(1),Ut()),2&e){const t=te(2);Sl("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),pr("colspan",t._firstRowOffset),Kt(),v2(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function vht(e,r){if(1&e){const t=F1();Ot(0,"td",6)(1,"button",7),we("click",function(o){const s=Ft(t).$implicit;return jt(te(2)._cellClicked(s,o))})("focus",function(o){const s=Ft(t).$implicit;return jt(te(2)._emitActiveDateChange(s,o))}),Ot(2,"span",8),Ur(3),Ut(),Zr(4,"span",9),Ut()()}if(2&e){const t=r.$implicit,n=r.$index,o=te().$index,s=te();Sl("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),pr("data-mat-row",o)("data-mat-col",n),Kt(),Zn("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",s._isActiveCell(o,n))("mat-calendar-body-range-start",s._isRangeStart(t.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",s._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(t.compareValue,o,n))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(t.compareValue,o,n))("mat-calendar-body-comparison-start",s._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",s._isInPreview(t.compareValue)),$t("ngClass",t.cssClasses)("tabindex",s._isActiveCell(o,n)?0:-1),pr("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",s._isSelected(t.compareValue))("aria-current",s.todayValue===t.compareValue?"date":null)("aria-describedby",s._getDescribedby(t.compareValue)),Kt(),Zn("mat-calendar-body-selected",s._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",s.todayValue===t.compareValue),Kt(),v2(" ",t.displayValue," ")}}function fht(e,r){if(1&e&&(Ot(0,"tr",1),sr(1,ght,2,6,"td",4),s9(2,vht,5,48,"td",5,aF),Ut()),2&e){const t=r.$implicit,n=r.$index,o=te();Kt(),vu(0===n&&o._firstRowOffset?1:-1),Kt(),i9(t)}}function mht(e,r){if(1&e&&(Ot(0,"th",2)(1,"span",6),Ur(2),Ut(),Ot(3,"span",3),Ur(4),Ut()()),2&e){const t=r.$implicit;Kt(2),As(t.long),Kt(2),As(t.narrow)}}const wht=["*"];function Cht(e,r){}function kht(e,r){if(1&e){const t=F1();Ot(0,"mat-month-view",4),cn("activeDateChange",function(o){Ft(t);const s=te();return gn(s.activeDate,o)||(s.activeDate=o),jt(o)}),we("_userSelection",function(o){return Ft(t),jt(te()._dateSelected(o))})("dragStarted",function(o){return Ft(t),jt(te()._dragStarted(o))})("dragEnded",function(o){return Ft(t),jt(te()._dragEnded(o))}),Ut()}if(2&e){const t=te();an("activeDate",t.activeDate),$t("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function _ht(e,r){if(1&e){const t=F1();Ot(0,"mat-year-view",5),cn("activeDateChange",function(o){Ft(t);const s=te();return gn(s.activeDate,o)||(s.activeDate=o),jt(o)}),we("monthSelected",function(o){return Ft(t),jt(te()._monthSelectedInYearView(o))})("selectedChange",function(o){return Ft(t),jt(te()._goToDateInView(o,"month"))}),Ut()}if(2&e){const t=te();an("activeDate",t.activeDate),$t("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Mht(e,r){if(1&e){const t=F1();Ot(0,"mat-multi-year-view",6),cn("activeDateChange",function(o){Ft(t);const s=te();return gn(s.activeDate,o)||(s.activeDate=o),jt(o)}),we("yearSelected",function(o){return Ft(t),jt(te()._yearSelectedInMultiYearView(o))})("selectedChange",function(o){return Ft(t),jt(te()._goToDateInView(o,"year"))}),Ut()}if(2&e){const t=te();an("activeDate",t.activeDate),$t("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function yht(e,r){}const xht=["button"],bht=[[["","matDatepickerToggleIcon",""]]],Hht=["[matDatepickerToggleIcon]"];function Vht(e,r){1&e&&(bl(),Ot(0,"svg",2),Zr(1,"path",3),Ut())}const Lht=[[["input","matStartDate",""]],[["input","matEndDate",""]]],zht=["input[matStartDate]","input[matEndDate]"];let W3=(()=>{class e{constructor(){this.changes=new V1,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,n){return`${t} \u2013 ${n}`}formatYearRangeLabel(t,n){return`${t} to ${n}`}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Aht=0;class __{constructor(r,t,n,o,s={},i=r,l){this.value=r,this.displayValue=t,this.ariaLabel=n,this.enabled=o,this.cssClasses=s,this.compareValue=i,this.rawValue=l,this.id=Aht++}}let Iht=1;const cF=Xl({passive:!1,capture:!0}),Ka=Xl({passive:!0,capture:!0}),q7=Xl({passive:!0});let Ph=(()=>{class e{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(t,n){this._elementRef=t,this._ngZone=n,this._platform=Et(T2),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Ae,this.previewChange=new Ae,this.activeDateChange=new Ae,this.dragStarted=new Ae,this.dragEnded=new Ae,this._didDragSinceMouseDown=!1,this._injector=Et(H1),this._trackRow=o=>o,this._enterHandler=o=>{if(this._skipNextFocus&&"focus"===o.type)this._skipNextFocus=!1;else if(o.target&&this.isRange){const s=this._getCellFromElement(o.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:o}))}},this._touchmoveHandler=o=>{if(!this.isRange)return;const s=hF(o),i=s?this._getCellFromElement(s):null;s!==o.target&&(this._didDragSinceMouseDown=!0),y_(o.target)&&o.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:i?.enabled?i:null,event:o}))},this._leaveHandler=o=>{null!==this.previewEnd&&this.isRange&&("blur"!==o.type&&(this._didDragSinceMouseDown=!0),o.target&&this._getCellFromElement(o.target)&&(!o.relatedTarget||!this._getCellFromElement(o.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:o})))},this._mousedownHandler=o=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const s=o.target&&this._getCellFromElement(o.target);!s||!this._isInRange(s.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:o})})},this._mouseupHandler=o=>{if(!this.isRange)return;const s=y_(o.target);s?s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const i=this._getCellFromElement(s);this.dragEnded.emit({value:i?.rawValue??null,event:o})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:o})})},this._touchendHandler=o=>{const s=hF(o);s&&this._mouseupHandler({target:s})},this._id="mat-calendar-body-"+Iht++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,n.runOutsideAngular(()=>{const o=t.nativeElement;o.addEventListener("touchmove",this._touchmoveHandler,cF),o.addEventListener("mouseenter",this._enterHandler,Ka),o.addEventListener("focus",this._enterHandler,Ka),o.addEventListener("mouseleave",this._leaveHandler,Ka),o.addEventListener("blur",this._leaveHandler,Ka),o.addEventListener("mousedown",this._mousedownHandler,q7),o.addEventListener("touchstart",this._mousedownHandler,q7),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(t,n){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:n})}_emitActiveDateChange(t,n){t.enabled&&this.activeDateChange.emit({value:t.value,event:n})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const n=t.numCols,{rows:o,numCols:s}=this;(t.rows||n)&&(this._firstRowOffset=o&&o.length&&o[0].length?s-o[0].length:0),(t.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(n||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("touchmove",this._touchmoveHandler,cF),t.removeEventListener("mouseenter",this._enterHandler,Ka),t.removeEventListener("focus",this._enterHandler,Ka),t.removeEventListener("mouseleave",this._leaveHandler,Ka),t.removeEventListener("blur",this._leaveHandler,Ka),t.removeEventListener("mousedown",this._mousedownHandler,q7),t.removeEventListener("touchstart",this._mousedownHandler,q7),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(t,n){let o=t*this.numCols+n;return t&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(t=!0){Ma(()=>{setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(t||(this._skipNextFocus=!0),n.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return x_(t,this.startValue,this.endValue)}_isRangeEnd(t){return b_(t,this.startValue,this.endValue)}_isInRange(t){return H_(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return x_(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,n,o){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let s=this.rows[n][o-1];if(!s){const i=this.rows[n-1];s=i&&i[i.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(t,n,o){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let s=this.rows[n][o+1];if(!s){const i=this.rows[n+1];s=i&&i[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(t){return b_(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return H_(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return x_(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return b_(t,this.previewStart,this.previewEnd)}_isInPreview(t){return H_(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){return this.isRange?this.startValue===t&&this.endValue===t?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===t?this._startDateLabelId:this.endValue===t?this._endDateLabelId:null:null}_getCellFromElement(t){const n=y_(t);if(n){const o=n.getAttribute("data-mat-row"),s=n.getAttribute("data-mat-col");if(o&&s)return this.rows[parseInt(o)][parseInt(s)]}return null}static{this.\u0275fac=function(n){return new(n||e)(kt(mr),kt(W1))}}static{this.\u0275cmp=or({type:e,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[co,uo],attrs:uht,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,o){1&n&&(sr(0,pht,3,6,"tr",0),s9(1,fht,4,1,"tr",1,dht,!0),Ot(3,"span",2),Ur(4),Ut(),Ot(5,"span",2),Ur(6),Ut()),2&n&&(vu(o._firstRowOffset<o.labelMinRequiredCells?0:-1),Kt(),i9(o.rows),Kt(2),$t("id",o._startDateLabelId),Kt(),v2(" ",o.startDateAccessibleName,"\n"),Kt(),$t("id",o._endDateLabelId),Kt(),v2(" ",o.endDateAccessibleName,"\n"))},dependencies:[za],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}}return e})();function M_(e){return"TD"===e?.nodeName}function y_(e){let r;return M_(e)?r=e:M_(e.parentNode)?r=e.parentNode:M_(e.parentNode?.parentNode)&&(r=e.parentNode.parentNode),null!=r?.getAttribute("data-mat-row")?r:null}function x_(e,r,t){return null!==t&&r!==t&&e<t&&e===r}function b_(e,r,t){return null!==r&&r!==t&&e>=r&&e===t}function H_(e,r,t,n){return n&&null!==r&&null!==t&&r!==t&&e>=r&&e<=t}function hF(e){const r=e.changedTouches[0];return document.elementFromPoint(r.clientX,r.clientY)}class M2{constructor(r,t){this.start=r,this.end=t}}let qa=(()=>{class e{constructor(t,n){this.selection=t,this._adapter=n,this._selectionChanged=new V1,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,n){const o=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:n,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}static{this.\u0275fac=function(n){Vv()}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})(),Sht=(()=>{class e extends qa{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new e(this._adapter);return t.updateSelection(this.selection,this),t}static{this.\u0275fac=function(n){return new(n||e)(wt(zo))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})(),Bht=(()=>{class e extends qa{constructor(t){super(new M2(null,null),t)}add(t){let{start:n,end:o}=this.selection;null==n?n=t:null==o?o=t:(n=t,o=null),super.updateSelection(new M2(n,o),this)}isValid(){const{start:t,end:n}=this.selection;return null==t&&null==n||(null!=t&&null!=n?this._isValidDateInstance(t)&&this._isValidDateInstance(n)&&this._adapter.compareDate(t,n)<=0:(null==t||this._isValidDateInstance(t))&&(null==n||this._isValidDateInstance(n)))}isComplete(){return null!=this.selection.start&&null!=this.selection.end}clone(){const t=new e(this._adapter);return t.updateSelection(this.selection,this),t}static{this.\u0275fac=function(n){return new(n||e)(wt(zo))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})();const Eht={provide:qa,deps:[[new ea,new Z1,qa],zo],useFactory:function Dht(e,r){return e||new Sht(r)}},Rht={provide:qa,deps:[[new ea,new Z1,qa],zo],useFactory:function Tht(e,r){return e||new Bht(r)}},J7=new ye("MAT_DATE_RANGE_SELECTION_STRATEGY");let Fht=(()=>{class e{constructor(t){this._dateAdapter=t}selectionFinished(t,n){let{start:o,end:s}=n;return null==o?o=t:null==s&&t&&this._dateAdapter.compareDate(t,o)>=0?s=t:(o=t,s=null),new M2(o,s)}createPreview(t,n){let o=null,s=null;return n.start&&!n.end&&t&&(o=n.start,s=t),new M2(o,s)}createDrag(t,n,o){let s=n.start,i=n.end;if(!s||!i)return null;const l=this._dateAdapter,a=0!==l.compareDate(s,i),c=l.getYear(o)-l.getYear(t),h=l.getMonth(o)-l.getMonth(t),u=l.getDate(o)-l.getDate(t);return a&&l.sameDate(t,n.start)?(s=o,l.compareDate(o,i)>0&&(i=l.addCalendarYears(i,c),i=l.addCalendarMonths(i,h),i=l.addCalendarDays(i,u))):a&&l.sameDate(t,n.end)?(i=o,l.compareDate(o,s)<0&&(s=l.addCalendarYears(s,c),s=l.addCalendarMonths(s,h),s=l.addCalendarDays(s,u))):(s=l.addCalendarYears(s,c),s=l.addCalendarMonths(s,h),s=l.addCalendarDays(s,u),i=l.addCalendarYears(i,c),i=l.addCalendarMonths(i,h),i=l.addCalendarDays(i,u)),new M2(s,i)}static{this.\u0275fac=function(n){return new(n||e)(wt(zo))}}static{this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}}return e})();const Pht={provide:J7,deps:[[new ea,new Z1,J7],zo],useFactory:function jht(e,r){return e||new Fht(r)}};let Nht=0,uF=(()=>{class e{get activeDate(){return this._activeDate}set activeDate(t){const n=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof M2?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,n,o,s,i){this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=o,this._dir=s,this._rangeStrategy=i,this._rerenderSubscription=Dt.EMPTY,this.activeDrag=null,this.selectedChange=new Ae,this._userSelection=new Ae,this.dragStarted=new Ae,this.dragEnded=new Ae,this.activeDateChange=new Ae,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(j3(null)).subscribe(()=>this._init())}ngOnChanges(t){const n=t.comparisonStart||t.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const n=t.value,o=this._getDateFromDayOfMonth(n);let s,i;this._selected instanceof M2?(s=this._getDateInCurrentMonth(this._selected.start),i=this._getDateInCurrentMonth(this._selected.end)):s=i=this._getDateInCurrentMonth(this._selected),(s!==n||i!==n)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const o=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const n=this._activeDate,o=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case 27:return void(null!=this._previewEnd&&!ji(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:n}){if(this._rangeStrategy){const o=n?n.rawValue:null,s=this._rangeStrategy.createPreview(o,this.selected,t);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&o){const i=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,o,t);i&&(this._previewStart=this._getCellCompareValue(i.start),this._previewEnd=this._getCellCompareValue(i.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){const n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:n??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((i,l)=>({long:i,narrow:n[l],id:Nht++}));this._weekdays=s.slice(t).concat(s.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,s=this._firstWeekOffset;o<t;o++,s++){7==s&&(this._weeks.push([]),s=0);const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),l=this._shouldEnableDate(i),a=this._dateAdapter.format(i,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(i,"month"):void 0;this._weeks[this._weeks.length-1].push(new __(o+1,n[o],a,l,c,this._getCellCompareValue(i),i))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,n){return!(!t||!n||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(n)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(n))}_getCellCompareValue(t){if(t){const n=this._dateAdapter.getYear(t),o=this._dateAdapter.getMonth(t),s=this._dateAdapter.getDate(t);return new Date(n,o,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof M2?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}static{this.\u0275fac=function(n){return new(n||e)(kt(L2),kt(wl,8),kt(zo,8),kt(Xa,8),kt(J7,8))}}static{this.\u0275cmp=or({type:e,selectors:[["mat-month-view"]],viewQuery:function(n,o){if(1&n&&Gn(Ph,5),2&n){let s;Gr(s=Wr())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[co,uo],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(n,o){1&n&&(Ot(0,"table",0)(1,"thead",1)(2,"tr"),s9(3,mht,5,2,"th",2,aF),Ut(),Ot(5,"tr",3),Zr(6,"th",4),Ut()(),Ot(7,"tbody",5),we("selectedValueChange",function(i){return o._dateSelected(i)})("activeDateChange",function(i){return o._updateActiveDate(i)})("previewChange",function(i){return o._previewChanged(i)})("dragStarted",function(i){return o.dragStarted.emit(i)})("dragEnded",function(i){return o._dragEnded(i)})("keyup",function(i){return o._handleCalendarBodyKeyup(i)})("keydown",function(i){return o._handleCalendarBodyKeydown(i)}),Ut()()),2&n&&(Kt(3),i9(o._weekdays),Kt(4),$t("label",o._monthLabel)("rows",o._weeks)("todayValue",o._todayDate)("startValue",o._rangeStart)("endValue",o._rangeEnd)("comparisonStart",o._comparisonRangeStart)("comparisonEnd",o._comparisonRangeEnd)("previewStart",o._previewStart)("previewEnd",o._previewEnd)("isRange",o._isRange)("labelMinRequiredCells",3)("activeCell",o._dateAdapter.getDate(o.activeDate)-1)("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName))},dependencies:[Ph],encapsulation:2,changeDetection:0})}}return e})();const Rs=24;let dF=(()=>{class e{get activeDate(){return this._activeDate}set activeDate(t){let n=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),pF(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof M2?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,n,o){this._changeDetectorRef=t,this._dateAdapter=n,this._dir=o,this._rerenderSubscription=Dt.EMPTY,this.selectedChange=new Ae,this.yearSelected=new Ae,this.activeDateChange=new Ae,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(j3(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const n=this._dateAdapter.getYear(this._activeDate)-U3(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,s=[];o<Rs;o++)s.push(n+o),4==s.length&&(this._years.push(s.map(i=>this._createCellForYear(i))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const n=t.value,o=this._dateAdapter.createDate(n,0,1),s=this._getDateFromYear(n);this.yearSelected.emit(o),this.selectedChange.emit(s)}_updateActiveDate(t){const o=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const n=this._activeDate,o=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-U3(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Rs-U3(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*-Rs:-Rs);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*Rs:Rs);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return U3(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const n=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,n,1));return this._dateAdapter.createDate(t,n,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForYear(t){const n=this._dateAdapter.createDate(t,0,1),o=this._dateAdapter.getYearName(n),s=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new __(t,o,o,this._shouldEnableYear(t),s)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(o)==t;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof M2){const n=t.start||t.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}static{this.\u0275fac=function(n){return new(n||e)(kt(L2),kt(zo,8),kt(Xa,8))}}static{this.\u0275cmp=or({type:e,selectors:[["mat-multi-year-view"]],viewQuery:function(n,o){if(1&n&&Gn(Ph,5),2&n){let s;Gr(s=Wr())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[uo],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(n,o){1&n&&(Ot(0,"table",0)(1,"thead",1)(2,"tr"),Zr(3,"th",2),Ut()(),Ot(4,"tbody",3),we("selectedValueChange",function(i){return o._yearSelected(i)})("activeDateChange",function(i){return o._updateActiveDate(i)})("keyup",function(i){return o._handleCalendarBodyKeyup(i)})("keydown",function(i){return o._handleCalendarBodyKeydown(i)}),Ut()()),2&n&&(Kt(4),$t("rows",o._years)("todayValue",o._todayYear)("startValue",o._selectedYear)("endValue",o._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._getActiveCell()))},dependencies:[Ph],encapsulation:2,changeDetection:0})}}return e})();function pF(e,r,t,n,o){const s=e.getYear(r),i=e.getYear(t),l=gF(e,n,o);return Math.floor((s-l)/Rs)===Math.floor((i-l)/Rs)}function U3(e,r,t,n){return function Oht(e,r){return(e%r+r)%r}(e.getYear(r)-gF(e,t,n),Rs)}function gF(e,r,t){let n=0;return t?n=e.getYear(t)-Rs+1:r&&(n=e.getYear(r)),n}let vF=(()=>{class e{get activeDate(){return this._activeDate}set activeDate(t){let n=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof M2?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,n,o,s){this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=o,this._dir=s,this._rerenderSubscription=Dt.EMPTY,this.selectedChange=new Ae,this.monthSelected=new Ae,this.activeDateChange=new Ae,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(j3(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const n=t.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(o);const s=this._getDateFromMonth(n);this.selectedChange.emit(s)}_updateActiveDate(t){const o=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const n=this._activeDate,o=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(o=>this._createCellForMonth(o,t[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),o=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForMonth(t,n){const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),s=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),i=this.dateClass?this.dateClass(o,"year"):void 0;return new __(t,n.toLocaleUpperCase(),s,this._shouldEnableMonth(t),i)}_shouldEnableMonth(t){const n=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(n,t)||this._isYearAndMonthBeforeMinDate(n,t))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(n,t,1);this._dateAdapter.getMonth(s)==t;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(t,n){if(this.maxDate){const o=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return t>o||t===o&&n>s}return!1}_isYearAndMonthBeforeMinDate(t,n){if(this.minDate){const o=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return t<o||t===o&&n<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof M2?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}static{this.\u0275fac=function(n){return new(n||e)(kt(L2),kt(wl,8),kt(zo,8),kt(Xa,8))}}static{this.\u0275cmp=or({type:e,selectors:[["mat-year-view"]],viewQuery:function(n,o){if(1&n&&Gn(Ph,5),2&n){let s;Gr(s=Wr())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[uo],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(n,o){1&n&&(Ot(0,"table",0)(1,"thead",1)(2,"tr"),Zr(3,"th",2),Ut()(),Ot(4,"tbody",3),we("selectedValueChange",function(i){return o._monthSelected(i)})("activeDateChange",function(i){return o._updateActiveDate(i)})("keyup",function(i){return o._handleCalendarBodyKeyup(i)})("keydown",function(i){return o._handleCalendarBodyKeydown(i)}),Ut()()),2&n&&(Kt(4),$t("label",o._yearLabel)("rows",o._months)("todayValue",o._todayMonth)("startValue",o._selectedMonth)("endValue",o._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._dateAdapter.getMonth(o.activeDate)))},dependencies:[Ph],encapsulation:2,changeDetection:0})}}return e})(),Zht=1,fF=(()=>{class e{constructor(t,n,o,s,i){this._intl=t,this.calendar=n,this._dateAdapter=o,this._dateFormats=s,this._id="mat-calendar-header-"+Zht++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>i.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Rs)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Rs)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,n){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(n):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(n):pF(this._dateAdapter,t,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const n=this._dateAdapter.getYear(this.calendar.activeDate)-U3(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=n+Rs-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1))]}static{this.\u0275fac=function(n){return new(n||e)(kt(W3),kt(Hr(()=>z_)),kt(zo,8),kt(wl,8),kt(L2))}}static{this.\u0275cmp=or({type:e,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[uo],ngContentSelectors:wht,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(n,o){1&n&&(V2(),Ot(0,"div",0)(1,"div",1)(2,"span",2),Ur(3),Ut(),Ot(4,"button",3),we("click",function(){return o.currentPeriodClicked()}),Ot(5,"span",4),Ur(6),Ut(),bl(),Ot(7,"svg",5),Zr(8,"polygon",6),Ut()(),k4(),Zr(9,"div",7),To(10),Ot(11,"button",8),we("click",function(){return o.previousClicked()}),bl(),Ot(12,"svg",9),Zr(13,"path",10),Ut()(),k4(),Ot(14,"button",11),we("click",function(){return o.nextClicked()}),bl(),Ot(15,"svg",9),Zr(16,"path",12),Ut()()()()),2&n&&(Kt(2),$t("id",o._periodButtonLabelId),Kt(),As(o.periodButtonDescription),Kt(),pr("aria-label",o.periodButtonLabel)("aria-describedby",o._periodButtonLabelId),Kt(2),As(o.periodButtonText),Kt(),Zn("mat-calendar-invert","month"!==o.calendar.currentView),Kt(4),$t("disabled",!o.previousEnabled()),pr("aria-label",o.prevButtonLabel),Kt(3),$t("disabled",!o.nextEnabled()),pr("aria-label",o.nextButtonLabel))},dependencies:[iF,lF],encapsulation:2,changeDetection:0})}}return e})(),z_=(()=>{class e{get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof M2?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const n=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}constructor(t,n,o,s){this._dateAdapter=n,this._dateFormats=o,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Ae,this.yearSelected=new Ae,this.monthSelected=new Ae,this.viewChanged=new Ae(!0),this._userSelection=new Ae,this._userDragDrop=new Ae,this._activeDrag=null,this.stateChanges=new V1,this._intlChanges=t.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new v_(this.headerComponent||fF),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const n=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,o=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,s=n||o||t.dateFilter;if(s&&!s.firstChange){const i=this._getCurrentViewComponent();i&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),i._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const n=t.value;(this.selected instanceof M2||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,n){this.activeDate=t,this.currentView=n}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static{this.\u0275fac=function(n){return new(n||e)(kt(W3),kt(zo,8),kt(wl,8),kt(L2))}}static{this.\u0275cmp=or({type:e,selectors:[["mat-calendar"]],viewQuery:function(n,o){if(1&n&&(Gn(uF,5),Gn(vF,5),Gn(dF,5)),2&n){let s;Gr(s=Wr())&&(o.monthView=s.first),Gr(s=Wr())&&(o.yearView=s.first),Gr(s=Wr())&&(o.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[yr([Eht]),co,uo],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(n,o){if(1&n&&(sr(0,Cht,0,0,"ng-template",0),Ot(1,"div",1),sr(2,kht,1,11,"mat-month-view",2)(3,_ht,1,6,"mat-year-view",3)(4,Mht,1,6,"mat-multi-year-view",3),Ut()),2&n){let s;$t("cdkPortalOutlet",o._calendarHeaderPortal),Kt(2),vu("month"===(s=o.currentView)?2:"year"===s?3:"multi-year"===s?4:-1)}},dependencies:[GR,gR,uF,vF,dF],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return e})();const mF={transformPanel:$l("transformPanel",[E2("void => enter-dropdown",_2("120ms cubic-bezier(0, 0, 0.2, 1)",y0([br({opacity:0,transform:"scale(1, 0.8)"}),br({opacity:1,transform:"scale(1, 1)"})]))),E2("void => enter-dialog",_2("150ms cubic-bezier(0, 0, 0.2, 1)",y0([br({opacity:0,transform:"scale(0.7)"}),br({transform:"none",opacity:1})]))),E2("* => void",_2("100ms linear",br({opacity:0})))]),fadeInCalendar:$l("fadeInCalendar",[Ri("void",br({opacity:0})),Ri("enter",br({opacity:1})),E2("void => *",_2("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Ght=0;const wF=new ye("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const e=Et(hi);return()=>e.scrollStrategies.reposition()}}),Uht={provide:wF,deps:[hi],useFactory:function Wht(e){return()=>e.scrollStrategies.reposition()}};let CF=(()=>{class e{constructor(t,n,o,s,i,l){this._elementRef=t,this._changeDetectorRef=n,this._globalModel=o,this._dateAdapter=s,this._rangeSelectionStrategy=i,this._subscriptions=new Dt,this._animationDone=new V1,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=l.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const n=this._model.selection,o=t.value,s=n instanceof M2;if(s&&this._rangeSelectionStrategy){const i=this._rangeSelectionStrategy.selectionFinished(o,n,t.event);this._model.updateSelection(i,this)}else o&&(s||!this._dateAdapter.sameDate(o,n))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(t){this._isAnimating="start"===t.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,n){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,n&&this._changeDetectorRef.detectChanges()}static{this.\u0275fac=function(n){return new(n||e)(kt(mr),kt(L2),kt(qa),kt(zo),kt(J7,8),kt(W3))}}static{this.\u0275cmp=or({type:e,selectors:[["mat-datepicker-content"]],viewQuery:function(n,o){if(1&n&&Gn(z_,5),2&n){let s;Gr(s=Wr())&&(o._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(n,o){1&n&&Ff("@transformPanel.start",function(i){return o._handleAnimationEvent(i)})("@transformPanel.done",function(i){return o._handleAnimationEvent(i)}),2&n&&(Ef("@transformPanel",o._animationState),ba(o.color?"mat-"+o.color:""),Zn("mat-datepicker-content-touch",o.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[uo],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(n,o){if(1&n&&(Ot(0,"div",0)(1,"mat-calendar",1),we("yearSelected",function(i){return o.datepicker._selectYear(i)})("monthSelected",function(i){return o.datepicker._selectMonth(i)})("viewChanged",function(i){return o.datepicker._viewChanged(i)})("_userSelection",function(i){return o._handleUserSelection(i)})("_userDragDrop",function(i){return o._handleUserDragDrop(i)}),Ut(),sr(2,yht,0,0,"ng-template",2),Ot(3,"button",3),we("focus",function(){return o._closeButtonFocused=!0})("blur",function(){return o._closeButtonFocused=!1})("click",function(){return o.datepicker.close()}),Ur(4),Ut()()),2&n){let s;Zn("mat-datepicker-content-container-with-custom-header",o.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",o._actionsPortal),pr("aria-modal",!0)("aria-labelledby",null!==(s=o._dialogLabelId)&&void 0!==s?s:void 0),Kt(),ba(o.datepicker.panelClass),$t("id",o.datepicker.id)("startAt",o.datepicker.startAt)("startView",o.datepicker.startView)("minDate",o.datepicker._getMinDate())("maxDate",o.datepicker._getMaxDate())("dateFilter",o.datepicker._getDateFilter())("headerComponent",o.datepicker.calendarHeaderComponent)("selected",o._getSelected())("dateClass",o.datepicker.dateClass)("comparisonStart",o.comparisonStart)("comparisonEnd",o.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName),Kt(),$t("cdkPortalOutlet",o._actionsPortal),Kt(),Zn("cdk-visually-hidden",!o._closeButtonFocused),$t("color",o.color||"primary"),Kt(),As(o._closeButtonText)}},dependencies:[y0t,z_,GR,iF],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[mF.transformPanel,mF.fadeInCalendar]},changeDetection:0})}}return e})(),kF=(()=>{class e{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){t!==this._disabled&&(this._disabled=t,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=function qct(e,r=/\s+/){const t=[];if(null!=e){const n=Array.isArray(e)?e:`${e}`.split(r);for(const o of n){const s=`${o}`.trim();s&&t.push(s)}}return t}(t)}get opened(){return this._opened}set opened(t){t?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(t,n,o,s,i,l,a){this._overlay=t,this._viewContainerRef=o,this._dateAdapter=i,this._dir=l,this._model=a,this._inputStateChanges=Dt.EMPTY,this._document=Et(fn),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new Ae,this.monthSelected=new Ae,this.viewChanged=new Ae(!0),this.openedStream=new Ae,this.closedStream=new Ae,this._opened=!1,this.id="mat-datepicker-"+Ght++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new V1,this._injector=Et(H1),this._changeDetectorRef=Et(L2),this._scrollStrategy=s,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(t){const n=t.xPosition||t.yPosition;if(n&&!n.firstChange&&this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;o instanceof QR&&(this._setConnectedPositions(o),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=WT(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const t=this.restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:o,location:s}=this._componentRef;o._startExitAnimation(),o._animationDone.pipe(Ts(1)).subscribe(()=>{const i=this._document.activeElement;t&&(!i||i===this._document.activeElement||s.nativeElement.contains(i))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,n=new v_(CF,this._viewContainerRef),o=this._overlayRef=this._overlay.create(new K7({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(o).subscribe(s=>{s&&s.preventDefault(),this.close()}),o.keydownEvents().subscribe(s=>{const i=s.keyCode;(38===i||40===i||37===i||39===i||33===i||34===i)&&s.preventDefault()}),this._componentRef=o.attach(n),this._forwardContentValues(this._componentRef.instance),t||Ma(()=>{o.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const n="end"===this.xPosition?"end":"start",o="start"===n?"end":"start",s="above"===this.yPosition?"bottom":"top",i="top"===s?"bottom":"top";return t.withPositions([{originX:n,originY:i,overlayX:n,overlayY:s},{originX:n,originY:s,overlayX:n,overlayY:i},{originX:o,originY:i,overlayX:o,overlayY:s},{originX:o,originY:s,overlayX:o,overlayY:i}])}_getCloseStream(t){const n=["ctrlKey","shiftKey","metaKey"];return Kl(t.backdropClick(),t.detachments(),t.keydownEvents().pipe(ms(o=>27===o.keyCode&&!ji(o)||this.datepickerInput&&ji(o,"altKey")&&38===o.keyCode&&n.every(s=>!ji(o,s)))))}static{this.\u0275fac=function(n){return new(n||e)(kt(hi),kt(W1),kt(ds),kt(wF),kt(zo,8),kt(Xa,8),kt(qa))}}static{this.\u0275dir=p1({type:e,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",vn],disabled:[2,"disabled","disabled",vn],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",vn],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",vn]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[ol,co]})}}return e})();class Q7{constructor(r,t){this.target=r,this.targetElement=t,this.value=this.target.value}}let _F=(()=>{class e{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const n=t,o=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&o.blur&&o.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){const o=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(o),this._cvaOnChange(o),this._onTouched(),this._formatValue(o),this.dateInput.emit(new Q7(this,this._elementRef.nativeElement)),this.dateChange.emit(new Q7(this,this._elementRef.nativeElement))}})}constructor(t,n,o){this._elementRef=t,this._dateAdapter=n,this._dateFormats=o,this.dateChange=new Ae,this.dateInput=new Ae,this.stateChanges=new V1,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Dt.EMPTY,this._localeSubscription=Dt.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!i||this._matchesFilter(i)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),l=this._getMinDate();return!l||!i||this._dateAdapter.compareDate(l,i)<=0?null:{matDatepickerMin:{min:l,actual:i}}},this._maxValidator=s=>{const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),l=this._getMaxDate();return!l||!i||this._dateAdapter.compareDate(l,i)>=0?null:{matDatepickerMax:{max:l,actual:i}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){MF(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){ji(t,"altKey")&&40===t.keyCode&&["ctrlKey","shiftKey","metaKey"].every(s=>!ji(t,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const n=this._lastValueValid;let o=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);const s=!this._dateAdapter.sameDate(o,this.value);!o||s?this._cvaOnChange(o):(t&&!this.value&&this._cvaOnChange(o),n!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(o),this.dateInput.emit(new Q7(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Q7(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const n=this._getDateFilter();return!n||n(t)}static{this.\u0275fac=function(n){return new(n||e)(kt(mr),kt(zo,8),kt(wl,8))}}static{this.\u0275dir=p1({type:e,inputs:{value:"value",disabled:[2,"disabled","disabled",vn]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[ol,co]})}}return e})();function MF(e,r){const t=Object.keys(e);for(let n of t){const{previousValue:o,currentValue:s}=e[n];if(!r.isDateInstance(o)||!r.isDateInstance(s))return!0;if(!r.sameDate(o,s))return!0}return!1}let Xht=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=p1({type:e,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}}return e})(),Kht=(()=>{class e{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=t}constructor(t,n,o){this._intl=t,this._changeDetectorRef=n,this._stateChanges=Dt.EMPTY;const s=Number(o);this.tabIndex=s||0===s?s:null}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:l2(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:l2(),o=this.datepicker?Kl(this.datepicker.openedStream,this.datepicker.closedStream):l2();this._stateChanges.unsubscribe(),this._stateChanges=Kl(this._intl.changes,t,n,o).subscribe(()=>this._changeDetectorRef.markForCheck())}static{this.\u0275fac=function(n){return new(n||e)(kt(W3),kt(L2),yc("tabindex"))}}static{this.\u0275cmp=or({type:e,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,o,s){if(1&n&&al(s,Xht,5),2&n){let i;Gr(i=Wr())&&(o._customIcon=i.first)}},viewQuery:function(n,o){if(1&n&&Gn(xht,5),2&n){let s;Gr(s=Wr())&&(o._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,o){1&n&&we("click",function(i){return o._open(i)}),2&n&&(pr("tabindex",null)("data-mat-calendar",o.datepicker?o.datepicker.id:null),Zn("mat-datepicker-toggle-active",o.datepicker&&o.datepicker.opened)("mat-accent",o.datepicker&&"accent"===o.datepicker.color)("mat-warn",o.datepicker&&"warn"===o.datepicker.color))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",vn],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[ol,co,uo],ngContentSelectors:Hht,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,o){1&n&&(V2(bht),Ot(0,"button",1,0),sr(2,Vht,2,0,":svg:svg",2),To(3),Ut()),2&n&&($t("disabled",o.disabled)("disableRipple",o.disableRipple),pr("aria-haspopup",o.datepicker?"dialog":null)("aria-label",o.ariaLabel||o._intl.openCalendarLabel)("tabindex",o.disabled?-1:o.tabIndex),Kt(2),vu(o._customIcon?-1:2))},dependencies:[lF],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}}return e})();function qht(e){return A_(e,!0)}function xF(e){return e.nodeType===Node.ELEMENT_NODE}function A_(e,r){if(xF(e)&&r){const n=(e.getAttribute?.("aria-labelledby")?.split(/\s+/g)||[]).reduce((o,s)=>{const i=document.getElementById(s);return i&&o.push(i),o},[]);if(n.length)return n.map(o=>A_(o,!1)).join(" ")}if(xF(e)){const t=e.getAttribute("aria-label")?.trim();if(t)return t}if(function Jht(e){return"INPUT"===e.nodeName}(e)||function Qht(e){return"TEXTAREA"===e.nodeName}(e)){if(e.labels?.length)return Array.from(e.labels).map(o=>A_(o,!1)).join(" ");const t=e.getAttribute("placeholder")?.trim();if(t)return t;const n=e.getAttribute("title")?.trim();if(n)return n}return(e.textContent||"").replace(/\s+/g," ").trim()}const t8=new ye("MAT_DATE_RANGE_INPUT_PARENT");let bF=(()=>{class e extends _F{get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,o,s,i,l,a,c){super(n,a,c),this._rangeInput=t,this._elementRef=n,this._defaultErrorStateMatcher=o,this._injector=s,this._parentForm=i,this._parentFormGroup=l,this._dir=Et(Xa,{optional:!0}),this._errorStateTracker=new _R(this._defaultErrorStateMatcher,null,this._parentFormGroup,this._parentForm,this.stateChanges)}ngOnInit(){const t=this._injector.get(Ul,null,{optional:!0,self:!0});t&&(this.ngControl=t,this._errorStateTracker.ngControl=t)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return 0===this._elementRef.nativeElement.value.length}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}getMirrorValue(){const t=this._elementRef.nativeElement,n=t.value;return n.length>0?n:t.placeholder}updateErrorState(){this._errorStateTracker.updateErrorState()}_onInput(t){super._onInput(t),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:t}){return t!==this._rangeInput._startInput&&t!==this._rangeInput._endInput}_assignValueProgrammatically(t){super._assignValueProgrammatically(t),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}_getAccessibleName(){return qht(this._elementRef.nativeElement)}static{this.\u0275fac=function(n){return new(n||e)(kt(t8),kt(mr),kt(a_),kt(H1),kt(Dh,8),kt(k0,8),kt(zo,8),kt(wl,8))}}static{this.\u0275dir=p1({type:e,inputs:{errorStateMatcher:"errorStateMatcher"},standalone:!0,features:[Cr]})}}return e})(),HF=(()=>{class e extends bF{constructor(t,n,o,s,i,l,a,c){super(t,n,o,s,i,l,a,c),this._startValidator=h=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(h.value)),d=this._model?this._model.selection.end:null;return!u||!d||this._dateAdapter.compareDate(u,d)<=0?null:{matStartDateInvalid:{end:d,actual:u}}},this._validator=k7.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(t){return t.start}_shouldHandleChangeEvent(t){return!(!super._shouldHandleChangeEvent(t)||(t.oldValue?.start?t.selection.start&&!this._dateAdapter.compareDate(t.oldValue.start,t.selection.start):!t.selection.start))}_assignValueToModel(t){if(this._model){const n=new M2(t,this._model.selection.end);this._model.updateSelection(n,this)}}_formatValue(t){super._formatValue(t),this._rangeInput._handleChildValueChange()}_onKeydown(t){const n=this._rangeInput._endInput,o=this._elementRef.nativeElement,s="rtl"!==this._dir?.value;(39===t.keyCode&&s||37===t.keyCode&&!s)&&o.selectionStart===o.value.length&&o.selectionEnd===o.value.length?(t.preventDefault(),n._elementRef.nativeElement.setSelectionRange(0,0),n.focus()):super._onKeydown(t)}static{this.\u0275fac=function(n){return new(n||e)(kt(t8),kt(mr),kt(a_),kt(H1),kt(Dh,8),kt(k0,8),kt(zo,8),kt(wl,8))}}static{this.\u0275dir=p1({type:e,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(n,o){1&n&&we("input",function(i){return o._onInput(i.target.value)})("change",function(){return o._onChange()})("keydown",function(i){return o._onKeydown(i)})("blur",function(){return o._onBlur()}),2&n&&(J5("disabled",o.disabled),pr("aria-haspopup",o._rangeInput.rangePicker?"dialog":null)("aria-owns",o._rangeInput._ariaOwns?o._rangeInput._ariaOwns():(null==o._rangeInput.rangePicker?null:o._rangeInput.rangePicker.opened)&&o._rangeInput.rangePicker.id||null)("min",o._getMinDate()?o._dateAdapter.toIso8601(o._getMinDate()):null)("max",o._getMaxDate()?o._dateAdapter.toIso8601(o._getMaxDate()):null))},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[yr([{provide:B2,useExisting:e,multi:!0},{provide:Lo,useExisting:e,multi:!0}]),Cr]})}}return e})(),VF=(()=>{class e extends bF{constructor(t,n,o,s,i,l,a,c){super(t,n,o,s,i,l,a,c),this._endValidator=h=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(h.value)),d=this._model?this._model.selection.start:null;return!u||!d||this._dateAdapter.compareDate(u,d)>=0?null:{matEndDateInvalid:{start:d,actual:u}}},this._validator=k7.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(t){return t.end}_shouldHandleChangeEvent(t){return!(!super._shouldHandleChangeEvent(t)||(t.oldValue?.end?t.selection.end&&!this._dateAdapter.compareDate(t.oldValue.end,t.selection.end):!t.selection.end))}_assignValueToModel(t){if(this._model){const n=new M2(this._model.selection.start,t);this._model.updateSelection(n,this)}}_moveCaretToEndOfStartInput(){const t=this._rangeInput._startInput._elementRef.nativeElement,n=t.value;n.length>0&&t.setSelectionRange(n.length,n.length),t.focus()}_onKeydown(t){const n=this._elementRef.nativeElement,o="rtl"!==this._dir?.value;8!==t.keyCode||n.value?(37===t.keyCode&&o||39===t.keyCode&&!o)&&0===n.selectionStart&&0===n.selectionEnd?(t.preventDefault(),this._moveCaretToEndOfStartInput()):super._onKeydown(t):this._moveCaretToEndOfStartInput()}static{this.\u0275fac=function(n){return new(n||e)(kt(t8),kt(mr),kt(a_),kt(H1),kt(Dh,8),kt(k0,8),kt(zo,8),kt(wl,8))}}static{this.\u0275dir=p1({type:e,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(n,o){1&n&&we("input",function(i){return o._onInput(i.target.value)})("change",function(){return o._onChange()})("keydown",function(i){return o._onKeydown(i)})("blur",function(){return o._onBlur()}),2&n&&(J5("disabled",o.disabled),pr("aria-haspopup",o._rangeInput.rangePicker?"dialog":null)("aria-owns",o._rangeInput._ariaOwns?o._rangeInput._ariaOwns():(null==o._rangeInput.rangePicker?null:o._rangeInput.rangePicker.opened)&&o._rangeInput.rangePicker.id||null)("min",o._getMinDate()?o._dateAdapter.toIso8601(o._getMinDate()):null)("max",o._getMaxDate()?o._dateAdapter.toIso8601(o._getMaxDate()):null))},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[yr([{provide:B2,useExisting:e,multi:!0},{provide:Lo,useExisting:e,multi:!0}]),Cr]})}}return e})(),t4t=0,e4t=(()=>{class e{get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){const t=this._startInput?._getPlaceholder()||"",n=this._endInput?._getPlaceholder()||"";return t||n?`${t} ${this.separator} ${n}`:""}get rangePicker(){return this._rangePicker}set rangePicker(t){t&&(this._model=t.registerInput(this),this._rangePicker=t,this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe(),this._ariaOwns.set(this.rangePicker.opened?t.id:null),this._closedSubscription=t.closedStream.subscribe(()=>{this._startInput?._onTouched(),this._endInput?._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=t.openedStream.subscribe(()=>{this._ariaOwns.set(t.id)}),this._registerModel(this._model))}get required(){return this._required??(this._isTargetRequired(this)||this._isTargetRequired(this._startInput)||this._isTargetRequired(this._endInput))??!1}set required(t){this._required=t}get dateFilter(){return this._dateFilter}set dateFilter(t){const n=this._startInput,o=this._endInput,s=n&&n._matchesFilter(n.value),i=o&&o._matchesFilter(n.value);this._dateFilter=t,n&&n._matchesFilter(n.value)!==s&&n._validatorOnChange(),o&&o._matchesFilter(o.value)!==i&&o._validatorOnChange()}get min(){return this._min}set min(t){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._revalidate())}get max(){return this._max}set max(t){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(t){t!==this._groupDisabled&&(this._groupDisabled=t,this.stateChanges.next(void 0))}get errorState(){return!(!this._startInput||!this._endInput)&&(this._startInput.errorState||this._endInput.errorState)}get empty(){const t=!!this._startInput&&this._startInput.isEmpty(),n=!!this._endInput&&this._endInput.isEmpty();return t&&n}constructor(t,n,o,s,i){this._changeDetectorRef=t,this._elementRef=n,this._dateAdapter=s,this._formField=i,this._closedSubscription=Dt.EMPTY,this._openedSubscription=Dt.EMPTY,this.id="mat-date-range-input-"+t4t++,this.focused=!1,this.controlType="mat-date-range-input",this._ariaOwns=Il(null),this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new V1,this.disableAutomaticLabeling=!0,i?._elementRef.nativeElement.classList.contains("mat-mdc-form-field")&&n.nativeElement.classList.add("mat-mdc-input-element","mat-mdc-form-field-input-control","mdc-text-field__input"),this.ngControl=o}setDescribedByIds(t){this._ariaDescribedBy=t.length?t.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(this._model&&this._model.selection.start?this._endInput.focus():this._startInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),Kl(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(t){MF(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(t){const n="start"===t?this._startInput:this._endInput;return n?n.getMirrorValue():""}_shouldHidePlaceholders(){return!!this._startInput&&!this._startInput.isEmpty()}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){const t=this._formField;return t&&t._hasFloatingLabel()?t._labelId:null}_getStartDateAccessibleName(){return this._startInput._getAccessibleName()}_getEndDateAccessibleName(){return this._endInput._getAccessibleName()}_updateFocus(t){this.focused=null!==t,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(t){this._startInput&&this._startInput._registerModel(t),this._endInput&&this._endInput._registerModel(t)}_isTargetRequired(t){return t?.ngControl?.control?.hasValidator(k7.required)}static{this.\u0275fac=function(n){return new(n||e)(kt(L2),kt(mr),kt(D2,10),kt(zo,8),kt(C_,8))}}static{this.\u0275cmp=or({type:e,selectors:[["mat-date-range-input"]],contentQueries:function(n,o,s){if(1&n&&(al(s,HF,5),al(s,VF,5)),2&n){let i;Gr(i=Wr())&&(o._startInput=i.first),Gr(i=Wr())&&(o._endInput=i.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(n,o){2&n&&(pr("id",o.id)("aria-labelledby",o._getAriaLabelledby())("aria-describedby",o._ariaDescribedBy)("data-mat-calendar",o.rangePicker?o.rangePicker.id:null),Zn("mat-date-range-input-hide-placeholders",o._shouldHidePlaceholders())("mat-date-range-input-required",o.required))},inputs:{rangePicker:"rangePicker",required:[2,"required","required",vn],dateFilter:"dateFilter",min:"min",max:"max",disabled:[2,"disabled","disabled",vn],separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],standalone:!0,features:[yr([{provide:lht,useExisting:e},{provide:t8,useExisting:e}]),ol,co,uo],ngContentSelectors:zht,decls:11,vars:5,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-wrapper","mat-date-range-input-end-wrapper"]],template:function(n,o){1&n&&(V2(Lht),Ot(0,"div",0),we("cdkFocusChange",function(i){return o._updateFocus(i)}),Ot(1,"div",1),To(2),Ot(3,"span",2),Ur(4),Ut()(),Ot(5,"span",3),Ur(6),Ut(),Ot(7,"div",4),To(8,1),Ot(9,"span",2),Ur(10),Ut()()()),2&n&&(Kt(4),As(o._getInputMirrorValue("start")),Kt(),Zn("mat-date-range-input-separator-hidden",o._shouldHideSeparator()),Kt(),As(o.separator),Kt(4),As(o._getInputMirrorValue("end")))},dependencies:[gR],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px;color:var(--mat-datepicker-range-input-separator-color, var(--mat-app-on-surface))}.mat-form-field-disabled .mat-date-range-input-separator{color:var(--mat-datepicker-range-input-disabled-state-separator-color)}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-end-wrapper{flex-grow:1}.mat-date-range-input-inner{position:absolute;top:0;left:0;font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%;height:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner[disabled]{color:var(--mat-datepicker-range-input-disabled-state-text-color)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-mdc-form-field-type-mat-date-range-input .mat-mdc-form-field-infix{width:200px}"],encapsulation:2,changeDetection:0})}}return e})(),r4t=(()=>{class e extends kF{_forwardContentValues(t){super._forwardContentValues(t);const n=this.datepickerInput;n&&(t.comparisonStart=n.comparisonStart,t.comparisonEnd=n.comparisonEnd,t.startDateAccessibleName=n._getStartDateAccessibleName(),t.endDateAccessibleName=n._getEndDateAccessibleName())}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=ho(e)))(o||e)}})()}static{this.\u0275cmp=or({type:e,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],standalone:!0,features:[yr([Rht,Pht,{provide:kF,useExisting:e}]),Cr,uo],decls:0,vars:0,template:function(n,o){},encapsulation:2,changeDetection:0})}}return e})(),LF=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({providers:[W3,Uht],imports:[K2,tht,G3,wR,WR,a2,CF,Kht,fF,Z3]})}}return e})(),o4t=(()=>{class e{constructor(){this.startDateChange=new Ae,this.endDateChange=new Ae}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["gn-ui-date-range-picker"]],inputs:{startDate:"startDate",endDate:"endDate"},outputs:{startDateChange:"startDateChange",endDateChange:"endDateChange"},standalone:!0,features:[yr([S3({iconoirCalendar:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="stroke-width:var(--ng-icon__stroke-width, 1.5)"><path d="M15 4V2M15 4V6M15 4H10.5M3 10V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V10H3Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3 10V6C3 4.89543 3.89543 4 5 4H7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M7 2V6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M21 10V6C21 4.89543 20.1046 4 19 4H18.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></svg>'}),I3({size:"1.5rem"})]),uo],decls:8,vars:3,consts:[["picker",""],[1,"w-full","inline-block","relative"],[1,"gn-ui-text-input",3,"rangePicker"],["matStartDate","","placeholder","Start date",3,"dateInput","value"],["matEndDate","","placeholder","End date",3,"dateInput","value"],["type","light","extraClass","h-full","data-cy","date-picker-button",1,"absolute","inset-y-[var(--side-padding)]","right-[var(--side-padding)]","z-10",3,"buttonClick"],["name","iconoirCalendar",1,"text-primary"]],template:function(n,o){if(1&n){const s=F1();Ot(0,"span",1)(1,"mat-date-range-input",2)(2,"input",3),we("dateInput",function(l){return Ft(s),jt(o.startDateChange.emit(l.value))}),Ut(),Ot(3,"input",4),we("dateInput",function(l){return Ft(s),jt(o.endDateChange.emit(l.value))}),Ut()(),Ot(4,"gn-ui-button",5),we("buttonClick",function(){return Ft(s),jt(Ks(7).open())}),Zr(5,"ng-icon",6),Ut()(),Zr(6,"mat-date-range-picker",null,0)}if(2&n){const s=Ks(7);Kt(),$t("rangePicker",s),Kt(),$t("value",o.startDate),Kt(),$t("value",o.endDate)}},dependencies:[yR,LF,e4t,HF,VF,r4t,m0,M0],styles:["[_nghost-%COMP%]{--gn-ui-button-rounded: 8px;--gn-ui-button-width: 32px;--gn-ui-button-padding: 0;--side-padding: calc(var(--gn-ui-text-input-padding, .6em) - 6px);--text-padding: calc(var(--side-padding) + 40px)}"],changeDetection:0})}}return e})();function zF(e,r){const t="object"==typeof r;return new Promise((n,o)=>{const s=new Tt({next:i=>{n(i),s.unsubscribe()},error:o,complete:()=>{t?n(r.defaultValue):o(new Kk)}});e.subscribe(s)})}const c4t=["overlayOrigin"],h4t=["choiceInputs"];function u4t(e,r){if(1&e&&(Ot(0,"span",8),Ur(1),Ut()),2&e){const t=te();pr("for",t.id),Kt(),v2(" ",t.title," ")}}function d4t(e,r){if(1&e){const t=F1();Ot(0,"button",11,1),Wc(2,"translate"),we("click",function(){const o=Ft(t).$implicit;return jt(te(2).onSelectValue(o))})("keydown",function(o){const s=Ft(t).$implicit;return jt(te(2).selectIfEnter(o,s))}),Ot(3,"span",12),Ur(4),Wc(5,"translate"),Ut()()}if(2&e){const t=r.$implicit,n=te(2);$t("title",th(2,5,t.label))("ngClass",n.isSelected(t)?"text-white bg-primary hover:text-white hover:bg-primary-darker focus:text-white focus:bg-primary-darker":"text-gray-900 hover:text-primary-darkest hover:bg-gray-50 focus:text-primary-darkest focus:bg-gray-50"),pr("data-cy-value",t.value.toString())("data-cy-active",n.isSelected(t)?"true":void 0),Kt(4),v2(" ",th(5,7,t.label)," ")}}function p4t(e,r){if(1&e){const t=F1();Ot(0,"div",9),we("keydown",function(o){return Ft(t),jt(te().handleOverlayKeydown(o))}),sr(1,d4t,6,9,"button",10),Ut()}if(2&e){const t=te();Sl("max-height",t.overlayMaxHeight)("min-width",t.overlayWidth),pr("id",t.id)("aria-multiselectable",!0)("aria-label",t.title),Kt(),$t("ngForOf",t.choices)}}let v4t=(()=>{class e{constructor(){this.showTitle=!0,this.extraBtnClass="",this.minWidth="",this.selectValue=new Ae,this.overlayOpen=!1,this.overlayWidth="auto",this.overlayMaxHeight="none",this.overlayPositions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:8},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",offsetY:-8}]}get selectedChoice(){return this.choices.find(t=>t.value===this.selected)??this.choices[0]}get id(){return this.title.toLowerCase().replace(/[^a-z]+/g,"-")}getChoiceLabel(){return this.selectedChoice?.label}ngOnInit(){this.maxRows||(this.maxRows=6),(!this.choices||0===this.choices.length)&&(this.choices=[])}isSelected(t){return t===this.selectedChoice}onSelectValue(t){this.closeOverlay(),this.selected=t.value,this.selectValue.emit(this.selected)}openOverlay(){return this.overlayWidth=this.overlayOrigin.elementRef.nativeElement.getBoundingClientRect().width+"px",this.overlayMaxHeight=this.maxRows?29*this.maxRows+60+"px":"none",this.overlayOpen=!0,Promise.all([zF(this.overlay.attach),zF(this.choiceInputs.changes)])}closeOverlay(){this.overlayOpen=!1}focusFirstItem(){this.choiceInputs.get(0).nativeElement.focus()}focusLastItem(){this.choiceInputs.get(this.choiceInputs.length-1).nativeElement.focus()}handleTriggerKeydown(t){var n=this;return(0,f2.A)(function*(){const o=t.code,i="Escape"===o;"ArrowDown"===o||"ArrowUp"===o||"ArrowLeft"===o||"ArrowRight"===o||"Enter"===o||"Space"===o?(t.preventDefault(),n.overlayOpen||(yield n.openOverlay()),"ArrowLeft"===o||"ArrowUp"===o?n.focusLastItem():n.focusFirstItem()):n.overlayOpen&&i&&(t.preventDefault(),n.closeOverlay())})()}handleOverlayKeydown(t){if(!this.overlayOpen)return;const n=t.code;"ArrowDown"===n||"ArrowRight"===n?(t.preventDefault(),this.shiftItemFocus(1)):"ArrowLeft"===n||"ArrowUp"===n?(t.preventDefault(),this.shiftItemFocus(-1)):"Escape"===n&&this.closeOverlay()}shiftItemFocus(t){const n=this.focusedIndex;if(-1===n)return;const o=this.choiceInputs.length;this.choiceInputs.get(((n+t)%o+o)%o).nativeElement.focus()}get focusedIndex(){return this.choiceInputs.reduce((t,n,o)=>n.nativeElement===document.activeElement?o:t,-1)}selectIfEnter(t,n){"Enter"===t.code&&(t.preventDefault(),this.onSelectValue(n))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["gn-ui-dropdown-selector"]],viewQuery:function(n,o){if(1&n&&(Gn(c4t,5),Gn(oF,5),Gn(h4t,5,mr)),2&n){let s;Gr(s=Wr())&&(o.overlayOrigin=s.first),Gr(s=Wr())&&(o.overlay=s.first),Gr(s=Wr())&&(o.choiceInputs=s)}},inputs:{title:"title",showTitle:"showTitle",ariaName:"ariaName",choices:"choices",selected:"selected",maxRows:"maxRows",extraBtnClass:"extraBtnClass",minWidth:"minWidth",disabled:"disabled"},outputs:{selectValue:"selectValue"},standalone:!0,features:[yr([S3({matExpandLess:TR,matExpandMore:RR}),I3({size:"1.5em"})]),uo],decls:9,vars:16,consts:[["overlayOrigin","cdkOverlayOrigin"],["choiceInputs",""],[1,"flex","flex-col","sm:flex-row","sm:items-center","relative","w-full"],["class","tracking-wide text-sm mb-2 sm:mb-0 sm:mr-2 whitespace-nowrap",4,"ngIf"],["type","outline","cdkOverlayOrigin","",1,"grow","min-w-0",3,"buttonClick","keydown","extraClass","title","disabled"],[1,"grow","font-medium","truncate","py-1","mr-2","text-left"],[1,"shrink-0","opacity-40",3,"name"],["cdkConnectedOverlay","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"overlayOutsideClick","detach","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayFlexibleDimensions"],[1,"tracking-wide","text-sm","mb-2","sm:mb-0","sm:mr-2","whitespace-nowrap"],["role","listbox","tabindex","-1",1,"bg-white","border","border-gray-300","rounded","shadow-lg","py-2","w-full","overflow-x-hidden","overflow-y-auto","overlay-container",3,"keydown"],["type","button","class","flex px-5 py-1 w-full text-start cursor-pointer transition-colors",3,"title","ngClass","click","keydown",4,"ngFor","ngForOf"],["type","button",1,"flex","px-5","py-1","w-full","text-start","cursor-pointer","transition-colors",3,"click","keydown","title","ngClass"],[1,"text-[14px]"]],template:function(n,o){if(1&n){const s=F1();Ot(0,"div",2),sr(1,u4t,2,2,"span",3),Ot(2,"gn-ui-button",4,0),we("buttonClick",function(){return Ft(s),jt(o.openOverlay())})("keydown",function(l){return Ft(s),jt(o.handleTriggerKeydown(l))}),Ot(4,"div",5),Ur(5),Wc(6,"translate"),Ut(),Zr(7,"ng-icon",6),Ut()(),sr(8,p4t,2,8,"ng-template",7),we("overlayOutsideClick",function(){return Ft(s),jt(o.closeOverlay())})("detach",function(){return Ft(s),jt(o.closeOverlay())})}if(2&n){const s=Ks(3);Kt(),$t("ngIf",o.showTitle),Kt(),Sl("--gn-ui-button-padding","8px 8px 8px 16px"),f9("extraClass","bg-background flex flex-row w-full ",o.extraBtnClass,""),$t("title",o.title)("disabled",o.disabled),pr("aria-owns",o.id),Kt(3),v2(" ",th(6,14,o.getChoiceLabel())," "),Kt(2),$t("name",o.overlayOpen?"matExpandLess":"matExpandMore"),Kt(),$t("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",o.overlayOpen)("cdkConnectedOverlayPositions",o.overlayPositions)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[K2,za,Yc,zi,m0,G3,oF,w_,Q6,Pnt,M0],changeDetection:0})}}return e})();const IF=new ye("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const e=Et(hi);return()=>e.scrollStrategies.reposition()}}),H4t={provide:IF,deps:[hi],useFactory:function b4t(e){return()=>e.scrollStrategies.reposition()}};let L4t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({providers:[H4t],imports:[G3,IR,a2,K2,Z3,IR,a2]})}}return e})();const z4t=["input"],A4t=["label"],I4t=["*"],S4t=new ye("mat-checkbox-default-options",{providedIn:"root",factory:SF});function SF(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var R2=function(e){return e[e.Init=0]="Init",e[e.Checked=1]="Checked",e[e.Unchecked=2]="Unchecked",e[e.Indeterminate=3]="Indeterminate",e}(R2||{});const B4t={provide:B2,useExisting:Hr(()=>DF),multi:!0};class D4t{}let E4t=0;const BF=SF();let DF=(()=>{class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const n=new D4t;return n.source=this,n.checked=t,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,o,s,i,l){this._elementRef=t,this._changeDetectorRef=n,this._ngZone=o,this._animationMode=i,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Ae,this.indeterminateChange=new Ae,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=R2.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||BF,this.color=this._options.color||BF.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++E4t,this.disabledInteractive=l?.disabledInteractive??!1}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const n=t!=this._indeterminate;this._indeterminate=t,n&&(this._transitionCheckState(this._indeterminate?R2.Indeterminate:this.checked?R2.Checked:R2.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let n=this._currentCheckState,o=this._getAnimationTargetElement();if(n!==t&&o&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?(this.disabled&&this.disabledInteractive||!this.disabled&&"noop"===t)&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?R2.Checked:R2.Unchecked),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,n){if("NoopAnimations"===this._animationMode)return"";switch(t){case R2.Init:if(n===R2.Checked)return this._animationClasses.uncheckedToChecked;if(n==R2.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case R2.Unchecked:return n===R2.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case R2.Checked:return n===R2.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case R2.Indeterminate:return n===R2.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const n=this._inputElement;n&&(n.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static{this.\u0275fac=function(n){return new(n||e)(kt(mr),kt(L2),kt(W1),yc("tabindex"),kt(Lc,8),kt(S4t,8))}}static{this.\u0275cmp=or({type:e,selectors:[["mat-checkbox"]],viewQuery:function(n,o){if(1&n&&(Gn(z4t,5),Gn(A4t,5),Gn(c_,5)),2&n){let s;Gr(s=Wr())&&(o._inputElement=s.first),Gr(s=Wr())&&(o._labelElement=s.first),Gr(s=Wr())&&(o.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(n,o){2&n&&(J5("id",o.id),pr("tabindex",null)("aria-label",null)("aria-labelledby",null),ba(o.color?"mat-"+o.color:"mat-accent"),Zn("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mdc-checkbox--disabled",o.disabled)("mat-mdc-checkbox-disabled",o.disabled)("mat-mdc-checkbox-checked",o.checked)("mat-mdc-checkbox-disabled-interactive",o.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",vn],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",vn],tabIndex:[2,"tabIndex","tabIndex",t=>null==t?void 0:function B$(e,r=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?r:Number(e)}(t)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",vn],checked:[2,"checked","checked",vn],disabled:[2,"disabled","disabled",vn],indeterminate:[2,"indeterminate","indeterminate",vn]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[yr([B4t,{provide:Lo,useExisting:e,multi:!0}]),ol,co,uo],ngContentSelectors:I4t,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,o){if(1&n){const s=F1();V2(),Ot(0,"div",3),we("click",function(l){return Ft(s),jt(o._preventBubblingFromLabel(l))}),Ot(1,"div",4,0)(3,"div",5),we("click",function(){return Ft(s),jt(o._onTouchTargetClick())}),Ut(),Ot(4,"input",6,1),we("blur",function(){return Ft(s),jt(o._onBlur())})("click",function(){return Ft(s),jt(o._onInputClick())})("change",function(l){return Ft(s),jt(o._onInteractionEvent(l))}),Ut(),Zr(6,"div",7),Ot(7,"div",8),bl(),Ot(8,"svg",9),Zr(9,"path",10),Ut(),k4(),Zr(10,"div",11),Ut(),Zr(11,"div",12),Ut(),Ot(12,"label",13,2),To(14),Ut()()}if(2&n){const s=Ks(2);$t("labelPosition",o.labelPosition),Kt(4),Zn("mdc-checkbox--selected",o.checked),$t("checked",o.checked)("indeterminate",o.indeterminate)("disabled",o.disabled&&!o.disabledInteractive)("id",o.inputId)("required",o.required)("tabIndex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex),pr("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("aria-checked",o.indeterminate?"mixed":null)("aria-disabled",!(!o.disabled||!o.disabledInteractive)||null)("name",o.name)("value",o.value),Kt(7),$t("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),Kt(),$t("for",o.inputId)}},dependencies:[c_,q0t],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return e})(),F4t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({imports:[DF,a2,a2]})}}return e})();const j4t=new ye("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const e=Et(hi);return()=>e.scrollStrategies.reposition({scrollThrottle:20})}}),N4t={provide:j4t,deps:[hi],useFactory:function P4t(e){return()=>e.scrollStrategies.reposition({scrollThrottle:20})}};let Z4t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({providers:[N4t],imports:[wR,K2,G3,a2,a2,Z3]})}}return e})(),G4t=(()=>{class e{constructor(){this.color="primary",this.toggled=new Ae}toggle(t){this.toggled.emit(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["gn-ui-check-toggle"]],inputs:{title:"title",label:"label",value:"value",color:"color"},outputs:{toggled:"toggled"},standalone:!0,features:[uo],decls:6,vars:5,consts:[[1,"inline-flex","relative","items-start","cursor-pointer",3,"title"],[1,"shrink-0"],["type","checkbox",1,"sr-only","peer",3,"ngModelChange","ngModel"],[1,"w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-2","rounded-full","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:left-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all"],[1,"ml-3","mt-[2px]","text-sm","font-medium"]],template:function(n,o){1&n&&(Ot(0,"label",0)(1,"span",1)(2,"input",2),we("ngModelChange",function(i){return o.toggle(i)}),Ut(),Zr(3,"div",3),Ut(),Ot(4,"span",4),Ur(5),Ut()()),2&n&&($t("title",o.title||o.label),Kt(2),$t("ngModel",o.value),Kt(),ba("secondary"===o.color?"peer-focus:ring-secondary-lighter peer-checked:bg-secondary":"peer-focus:ring-primary-lighter peer-checked:bg-primary"),Kt(2),As(o.label))},dependencies:[A3,Mk,y7,B7],changeDetection:0})}}return e})();const W4t=["input"];let U4t=(()=>{class e{constructor(){this.value="",this.disabled=!1,this.extraClass="",this.placeholder="",this.required=!1,this.rawChange=new V1,this.valueChange=this.rawChange.pipe(qk())}ngAfterViewInit(){this.checkRequired(this.input.nativeElement.value)}checkRequired(t){this.input.nativeElement.classList.toggle("invalid",this.required&&""===t)}handleChange(t){const n=t.target.value;this.checkRequired(n),this.rawChange.next(n)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=or({type:e,selectors:[["gn-ui-text-area"]],viewQuery:function(n,o){if(1&n&&Gn(W4t,5),2&n){let s;Gr(s=Wr())&&(o.input=s.first)}},inputs:{value:"value",disabled:"disabled",extraClass:"extraClass",placeholder:"placeholder",required:"required"},outputs:{valueChange:"valueChange"},standalone:!0,features:[uo],decls:3,vars:5,consts:[["input",""],[1,"h-full","flex"],["name","textArea",1,"gn-ui-text-input","leading-tight",3,"change","input","ngClass","disabled","placeholder","value"]],template:function(n,o){if(1&n){const s=F1();Ot(0,"div",1)(1,"textarea",2,0),we("change",function(l){return Ft(s),jt(o.handleChange(l))})("input",function(l){return Ft(s),jt(o.handleChange(l))}),Ut()()}if(2&n){let s;Kt(),$t("ngClass",o.extraClass)("disabled",o.disabled)("placeholder",o.placeholder)("value",null!==(s=o.value)&&void 0!==s?s:""),pr("required",o.required||null)}},dependencies:[K2,za],styles:[".invalid[_ngcontent-%COMP%]{border-color:var(--color-secondary)}"]})}}return e})(),$4t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e})}static{this.\u0275inj=ar({providers:[S3({matClose:ER,matExpandMore:RR,matExpandLess:TR}),I3({size:"0.9em"})],imports:[K2,Q6.forChild(),zT,A3,$k,ZT,YB,L4t,e5t,G3,F4t,Z4t,k_,hht,LF,yR,U4t,v4t,o4t,G4t,o5t,M0]})}}return e})(),X4t=(()=>{class e{constructor(){nst.applyCssVariables("#c82850","#001638","#212029","#fdfbff","'Rubik', sans-serif","'Readex Pro', sans-serif","https://fonts.googleapis.com/css2?family=Readex+Pro&family=Rubik&display=swap")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=ur({type:e,bootstrap:[Bat]})}static{this.\u0275inj=ar({providers:[I3({size:"1.5em"})],imports:[QX,A3,$4t,ont,Q6.forRoot(Qnt),Plt.withIcons({matDeleteForeverSharp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M6 21h12V7H6v14zm2.46-9.12l1.41-1.41L12 12.59l2.12-2.12l1.41 1.41L13.41 14l2.12 2.12l-1.41 1.41L12 15.41l-2.12 2.12l-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4h-3.5z"></path></svg>'})]})}}return e})();qX().bootstrapModule(X4t).catch(e=>console.error(e))},6998:function(qt,ee,K){var G,ht;void 0!==(ht="function"==typeof(G=function(){"use strict";function Lt(z,P,g,At){this.message=z,this.expected=P,this.found=g,this.location=At,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Lt)}return function Bt(z,P){function g(){this.constructor=z}g.prototype=P.prototype,z.prototype=new g}(Lt,Error),Lt.buildMessage=function(z,P){var g={literal:function(gt){return'"'+dt(gt.text)+'"'},class:function(gt){var Y,lt="";for(Y=0;Y<gt.parts.length;Y++)lt+=gt.parts[Y]instanceof Array?bt(gt.parts[Y][0])+"-"+bt(gt.parts[Y][1]):bt(gt.parts[Y]);return"["+(gt.inverted?"^":"")+lt+"]"},any:function(gt){return"any character"},end:function(gt){return"end of input"},other:function(gt){return gt.description}};function At(gt){return gt.charCodeAt(0).toString(16).toUpperCase()}function dt(gt){return gt.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(lt){return"\\x0"+At(lt)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(lt){return"\\x"+At(lt)})}function bt(gt){return gt.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(lt){return"\\x0"+At(lt)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(lt){return"\\x"+At(lt)})}function W(gt){return g[gt.type](gt)}return"Expected "+function Z(gt){var Y,E,lt=new Array(gt.length);for(Y=0;Y<gt.length;Y++)lt[Y]=W(gt[Y]);if(lt.sort(),lt.length>0){for(Y=1,E=1;Y<lt.length;Y++)lt[Y-1]!==lt[Y]&&(lt[E]=lt[Y],E++);lt.length=E}switch(lt.length){case 1:return lt[0];case 2:return lt[0]+" or "+lt[1];default:return lt.slice(0,-1).join(", ")+", or "+lt[lt.length-1]}}(z)+" but "+function st(gt){return gt?'"'+dt(gt)+'"':"end of input"}(P)+" found."},{SyntaxError:Lt,parse:function rt(z,P){P=void 0!==P?P:{};var nc,g={},At={turtleDoc:gd},dt=gd,bt=function(m){var H=$r.toJSON();return H["@graph"]=[],m.filter(I=>Array.isArray(I)).forEach(I=>{I.forEach(j=>{H["@graph"].push(j)})}),1===H["@graph"].length&&(Object.assign(H,H["@graph"][0]),delete H["@graph"]),H},W=".",Z=Z1(".",!1),st=function(m){return m},gt="#",lt=Z1("#",!1),Y=/^[^\n]/,E=on(["\n"],!0,!1),at="\n",ut=Z1("\n",!1),Pt=function(m){return m.join("")},q="@prefix",re=Z1("@prefix",!1),nt=function(m,H){return $r.addPrefix(""===m?"0":m,H),{}},Ht="@base",Zt=Z1("@base",!1),Yt=function(m){return $r.addBase(m),{}},et=/^[Bb]/,Mt=on(["B","b"],!1,!1),He=/^[Aa]/,be=on(["A","a"],!1,!1),Ge=/^[Ss]/,Ie=on(["S","s"],!1,!1),B=/^[Ee]/,A=on(["E","e"],!1,!1),$=/^[Pp]/,xt=on(["P","p"],!1,!1),Wt=/^[Rr]/,Ce=on(["R","r"],!1,!1),oe=/^[Ff]/,xe=on(["F","f"],!1,!1),We=/^[Ii]/,$e=on(["I","i"],!1,!1),Be=/^[Xx]/,r1=on(["X","x"],!1,!1),o1=function(m,H){var I={};return"string"==typeof m&&"[]"!==m?I["@id"]=m:"object"==typeof m&&Object.assign(I,m),H&&Object.assign(I,H),[I]},L1=function(m,H){var I={};return m&&Object.assign(I,m),H&&Object.assign(I,H),[I]},Qe=";",Ye=Z1(";",!1),O=function(m,H,I,j){var J={};return J[I]=j,J},It=function(m,H,I){return I},Dt=function(m,H,I){var j={};return I.unshift(function ia(m,H){var I={};return I[m]=H,I}(m,H)),I.forEach(J=>{J&&Object.keys(J).forEach(ft=>{J[ft].forEach(_t=>{"@type"===ft&&void 0!==_t["@id"]&&(_t=_t["@id"]),void 0===j[ft]?j[ft]=_t:Array.isArray(j[ft])?j[ft].push(_t):j[ft]=[j[ft],_t]})})}),j},ze=",",t1=Z1(",",!1),z1=function(m,H){return H},T1=function(m,H){return H.unshift(m),H},l1="a",c1=Z1("a",!1),P1=function(){return"@type"},$1=function(m){return la(m,!0)},Fr=function(m){return la(m,!1)},kn=function(m){return"[]"===m?{}:{"@id":m}},T=function(m){return{"@id":m}},M="[",b=Z1("[",!1),U="]",zt=Z1("]",!1),se="(",ve=Z1("(",!1),a1=")",Tt=Z1(")",!1),Nt=function(m){return{"@list":m}},ct=function(m,H){return{"@value":m,"@language":H}},St="^^",fe=Z1("^^",!1),ue=function(m,H){if("http://www.w3.org/2001/XMLSchema#boolean"===H&&"true"===m)return!0;if("http://www.w3.org/2001/XMLSchema#boolean"===H&&"false"===m)return!1;if("http://www.w3.org/2001/XMLSchema#integer"===H)return parseInt(m);if("http://www.w3.org/2001/XMLSchema#double"===H)return parseFloat(m);const I=$r.resolve(H,!0);if(I){const j=H.split(":")[0];if("http://www.w3.org/2001/XMLSchema#boolean"===I&&"true"===m)return $r.decrement(j),!0;if("http://www.w3.org/2001/XMLSchema#boolean"===I&&"false"===m)return $r.decrement(j),!1;if("http://www.w3.org/2001/XMLSchema#integer"===I)return $r.decrement(j),parseInt(m);if("http://www.w3.org/2001/XMLSchema#double"===I)return $r.decrement(j),parseFloat(m)}return{"@value":m,"@type":H}},Ke="true",I1=Z1("true",!1),R1=function(){return!0},v1="false",_r=Z1("false",!1),gr=function(){return!1},jr=function(m){return m+":"},oo="<",V1=Z1("<",!1),Jo=/^[^\0- <>"{}|\^`\\]/,so=on([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),Fs=">",nn=Z1(">",!1),D=function(m){const H=m.map(j=>65536<=j.codePointAt(0)&&j.codePointAt(0)<=983039?"a":1===j.length?j:6===j.length?String.fromCharCode("0x"+j.substring(2)):10===j.length?String.fromCodePoint("0x"+j.substring(2)):j).join("");if(H.match(/^[^\u0000-\u0020<>"{}|^`\\]*$/)){var I=m.join("");try{return $r.resolve(I)}catch{J0("Invalid IRIREF "+I)}}else J0("Invalid IRIREF "+m.join("")+" / "+H)},F=":",ot=Z1(":",!1),le=function(m){return!1===$r.hasPrefix(m=m||"0")&&J0("undefined prefix "+m),m},Re=function(m){return m||""},ne=function(m,H){return $r.increment(m),$r.resolve(m+":"+H)},nr="_:",Dn=Z1("_:",!1),Lr=/^[0-9]/,Mr=on([["0","9"]],!1,!1),wo="@",Wo=Z1("@",!1),Pn=/^[a-zA-Z]/,io=on([["a","z"],["A","Z"]],!1,!1),Jn="-",Co=Z1("-",!1),De=/^[a-zA-Z0-9]/,Ir=on([["a","z"],["A","Z"],["0","9"]],!1,!1),Qn=function(m,H){return"-"+H.join("")},Hn=function(m,H){return m.join("")+H.join("")},h1=/^[+\-]/,N2=on(["+","-"],!1,!1),i8=function(m){return m.match(/^[0+][0-9]+$/)?{"@value":m,"@type":"http://www.w3.org/2001/XMLSchema#integer"}:parseInt(m)},Kr=function(m){return{"@value":m,"@type":"http://www.w3.org/2001/XMLSchema#decimal"}},X3=function(m){return{"@value":m,"@type":"http://www.w3.org/2001/XMLSchema#double"}},lo=/^[eE]/,E0=on(["e","E"],!1,!1),T0='"',Ja=Z1('"',!1),Hr=/^[^"\\\n\r]/,D1=on(['"',"\\","\n","\r"],!0,!1),Ni="'",Uo=Z1("'",!1),K3=/^[^'\\\n\r]/,Oh=on(["'","\\","\n","\r"],!0,!1),R0="'''",js=Z1("'''",!1),Ps=/^[^'\\]/,Ns=on(["'","\\"],!0,!1),F0="''",q3=Z1("''",!1),Zh=function(m,H){return"''"+H.join("")},J3=function(m,H){return"'"+H.join("")},Gh=function(m,H){return m.join("")+H.join("")},j0='"""',c2=Z1('"""',!1),f1=/^[^"\\]/,Os=on(['"',"\\"],!0,!1),P0='""',Q3=Z1('""',!1),td=function(m,H){return'""'+H.join("")},ed=function(m,H){return'"'+H.join("")},Ve="\\U",l8=Z1("\\U",!1),ar=function(m){return String.fromCodePoint(parseInt(m.join(""),16))},ql="\\u",a8=Z1("\\u",!1),Wh=function(m){return String.fromCharCode(parseInt(m.join(""),16))},Uh="\\t",Qa=Z1("\\t",!1),tc=function(){return"\t"},ec="\\b",$h=Z1("\\b",!1),rd=function(){return"\b"},ye="\\n",N0=Z1("\\n",!1),O0=function(){return"\n"},Z0="\\r",G0=Z1("\\r",!1),nd=function(){return"\r"},rc="\\f",c8=Z1("\\f",!1),h8=function(){return"\f"},od='\\"',u8=Z1('\\"',!1),W0=function(){return'"'},Cl="\\'",U0=Z1("\\'",!1),$0=function(){return"'"},Y0="\\\\",Zs=Z1("\\\\",!1),Jl=function(){return"\\"},Yh=/^[ \t\r\n]/,Y1=on([" ","\t","\r","\n"],!1,!1),Pr=function(){return"[]"},d8=/^[\uD800-\uDBFF]/,sd=on([["\ud800","\udbff"]],!1,!1),id=/^[\uDC00-\uDFFF]/,p8=on([["\udc00","\udfff"]],!1,!1),ld=function(m,H){return m+H},X0=/^[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,vr=on([["A","Z"],["a","z"],["\xc0","\xd6"],["\xd8","\xf6"],["\xf8","\u02ff"],["\u0370","\u037d"],["\u037f","\u1fff"],["\u200c","\u200d"],["\u2070","\u218f"],["\u2c00","\u2fef"],["\u3001","\ud7ff"],["\uf900","\ufdcf"],["\ufdf0","\ufffd"]],!1,!1),K0="_",Xh=Z1("_",!1),h2="\xb7",Kh=Z1("\xb7",!1),g8=/^[\u0300-\u036F]/,v8=on([["\u0300","\u036f"]],!1,!1),Ql=/^[\u203F-\u2040]/,q0=on([["\u203f","\u2040"]],!1,!1),ta=function(m,H,I,j){return I.join("")+j.join("")},ad=function(m,H,I){return m+H.join("")+I.join("")},cd="%",hd=Z1("%",!1),qh=/^[0-9A-Fa-f]/,kl=on([["0","9"],["A","F"],["a","f"]],!1,!1),ud="\\",vi=Z1("\\",!1),dd=/^[_~.!$&'()*+,;=\/?#@%\-]/,wt=on(["_","~",".","!","$","&","'","(",")","*","+",",",";","=","/","?","#","@","%","-"],!1,!1),w=0,Et=0,Oi=[{line:1,column:1}],O2=0,Zi=[],Jt=0;if("startRule"in P){if(!(P.startRule in At))throw new Error("Can't start parsing from rule \""+P.startRule+'".');dt=At[P.startRule]}function J0(m,H){throw function oc(m,H){return new Lt(m,null,null,H)}(m,H=void 0!==H?H:Ml(Et,w))}function Z1(m,H){return{type:"literal",text:m,ignoreCase:H}}function on(m,H,I){return{type:"class",parts:m,inverted:H,ignoreCase:I}}function Gi(m){var I,H=Oi[m];if(H)return H;for(I=m-1;!Oi[I];)I--;for(H={line:(H=Oi[I]).line,column:H.column};I<m;)10===z.charCodeAt(I)?(H.line++,H.column=1):H.column++,I++;return Oi[m]=H,H}function Ml(m,H){var I=Gi(m),j=Gi(H);return{start:{offset:m,line:I.line,column:I.column},end:{offset:H,line:j.line,column:j.column}}}function Xt(m){w<O2||(w>O2&&(O2=w,Zi=[]),Zi.push(m))}function gd(){var m,H,I,j;for(m=w,H=[],I=Q0();I!==g;)H.push(I),I=Q0();if(H!==g){for(I=[],j=Oe();j!==g;)I.push(j),j=Oe();I!==g?(Et=m,m=H=bt(H)):(w=m,m=g)}else w=m,m=g;return m}function Q0(){var m,H,I,j;if((m=function t5(){var m;return(m=function yl(){var m,H,I,j,J,ft,_t,Q,qe;for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();if(H!==g)if(z.substr(w,7)===q?(I=q,w+=7):(I=g,0===Jt&&Xt(re)),I!==g){for(j=[],J=Oe();J!==g;)j.push(J),J=Oe();if(j!==g)if((J=Z2())!==g){for(ft=[],_t=Oe();_t!==g;)ft.push(_t),_t=Oe();if(ft!==g)if((_t=sa())!==g){for(Q=[],qe=Oe();qe!==g;)Q.push(qe),qe=Oe();Q!==g?(46===z.charCodeAt(w)?(qe=W,w++):(qe=g,0===Jt&&Xt(Z)),qe!==g?(Et=m,m=H=nt(J,_t)):(w=m,m=g)):(w=m,m=g)}else w=m,m=g;else w=m,m=g}else w=m,m=g;else w=m,m=g}else w=m,m=g;else w=m,m=g;return m}())===g&&(m=function C8(){var m,H,I,j,J,ft,_t;for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();if(H!==g)if(z.substr(w,5)===Ht?(I=Ht,w+=5):(I=g,0===Jt&&Xt(Zt)),I!==g){for(j=[],J=Oe();J!==g;)j.push(J),J=Oe();if(j!==g)if((J=sa())!==g){for(ft=[],_t=Oe();_t!==g;)ft.push(_t),_t=Oe();ft!==g?(46===z.charCodeAt(w)?(_t=W,w++):(_t=g,0===Jt&&Xt(Z)),_t!==g?(Et=m,m=H=Yt(J)):(w=m,m=g)):(w=m,m=g)}else w=m,m=g;else w=m,m=g}else w=m,m=g;else w=m,m=g;return m}())===g&&(m=function Ms(){var m,H,I,j,J,ft,_t,Q,qe,qr,Gs,ys;for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();if(H!==g)if($.test(z.charAt(w))?(I=z.charAt(w),w++):(I=g,0===Jt&&Xt(xt)),I!==g)if(Wt.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(Ce)),j!==g)if(B.test(z.charAt(w))?(J=z.charAt(w),w++):(J=g,0===Jt&&Xt(A)),J!==g)if(oe.test(z.charAt(w))?(ft=z.charAt(w),w++):(ft=g,0===Jt&&Xt(xe)),ft!==g)if(We.test(z.charAt(w))?(_t=z.charAt(w),w++):(_t=g,0===Jt&&Xt($e)),_t!==g)if(Be.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(r1)),Q!==g){for(qe=[],qr=Oe();qr!==g;)qe.push(qr),qr=Oe();if(qe!==g)if((qr=Z2())!==g){for(Gs=[],ys=Oe();ys!==g;)Gs.push(ys),ys=Oe();Gs!==g&&(ys=sa())!==g?(Et=m,m=H=nt(qr,ys)):(w=m,m=g)}else w=m,m=g;else w=m,m=g}else w=m,m=g;else w=m,m=g;else w=m,m=g;else w=m,m=g;else w=m,m=g;else w=m,m=g;else w=m,m=g;return m}())===g&&(m=function Jh(){var m,H,I,j,J,ft,_t,Q;for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();if(H!==g)if(et.test(z.charAt(w))?(I=z.charAt(w),w++):(I=g,0===Jt&&Xt(Mt)),I!==g)if(He.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(be)),j!==g)if(Ge.test(z.charAt(w))?(J=z.charAt(w),w++):(J=g,0===Jt&&Xt(Ie)),J!==g)if(B.test(z.charAt(w))?(ft=z.charAt(w),w++):(ft=g,0===Jt&&Xt(A)),ft!==g){for(_t=[],Q=Oe();Q!==g;)_t.push(Q),Q=Oe();_t!==g&&(Q=sa())!==g?(Et=m,m=H=Yt(Q)):(w=m,m=g)}else w=m,m=g;else w=m,m=g;else w=m,m=g;else w=m,m=g;else w=m,m=g;return m}()),m}())===g)if(m=w,(H=function zr(){var m,H,I;return m=w,(H=function lc(){var m,H;return m=w,(H=cc())!==g&&(Et=m,H=$1(H)),(m=H)===g&&(m=uc())===g&&(m=oa()),m}())!==g&&(I=ss())!==g?(Et=m,m=H=o1(H,I)):(w=m,m=g),m===g&&(m=w,(H=Qh())!==g?((I=ss())===g&&(I=null),I!==g?(Et=m,m=H=L1(H,I)):(w=m,m=g)):(w=m,m=g)),m}())!==g){for(I=[],j=Oe();j!==g;)I.push(j),j=Oe();I!==g?(46===z.charCodeAt(w)?(j=W,w++):(j=g,0===Jt&&Xt(Z)),j!==g?(Et=m,m=H=st(H)):(w=m,m=g)):(w=m,m=g)}else w=m,m=g;return m}function Oe(){var m;return(m=function ur(){var m;return Yh.test(z.charAt(w))?(m=z.charAt(w),w++):(m=g,0===Jt&&Xt(Y1)),m}())===g&&(m=function w8(){var m,H,I,j;if(m=w,35===z.charCodeAt(w)?(H=gt,w++):(H=g,0===Jt&&Xt(lt)),H!==g){for(I=[],Y.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(E));j!==g;)I.push(j),Y.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(E));I!==g?(10===z.charCodeAt(w)?(j=at,w++):(j=g,0===Jt&&Xt(ut)),j!==g?(Et=m,m=H=Pt(I)):(w=m,m=g)):(w=m,m=g)}else w=m,m=g;return m}()),m}function ss(){var m,H,I,j,J,ft,_t,Q,qe,qr;if(m=w,(H=ra())!==g)if((I=ic())!==g){for(j=[],J=w,ft=[],_t=Oe();_t!==g;)ft.push(_t),_t=Oe();for(ft!==g?(59===z.charCodeAt(w)?(_t=Qe,w++):(_t=g,0===Jt&&Xt(Ye)),_t!==g?(Q=w,(qe=ra())!==g&&(qr=ic())!==g?(Et=Q,Q=qe=O(H,I,qe,qr)):(w=Q,Q=g),Q===g&&(Q=null),Q!==g?(Et=J,J=ft=It(H,I,Q)):(w=J,J=g)):(w=J,J=g)):(w=J,J=g);J!==g;){for(j.push(J),J=w,ft=[],_t=Oe();_t!==g;)ft.push(_t),_t=Oe();ft!==g?(59===z.charCodeAt(w)?(_t=Qe,w++):(_t=g,0===Jt&&Xt(Ye)),_t!==g?(Q=w,(qe=ra())!==g&&(qr=ic())!==g?(Et=Q,Q=qe=O(H,I,qe,qr)):(w=Q,Q=g),Q===g&&(Q=null),Q!==g?(Et=J,J=ft=It(H,I,Q)):(w=J,J=g)):(w=J,J=g)):(w=J,J=g)}j!==g?(Et=m,m=H=Dt(H,I,j)):(w=m,m=g)}else w=m,m=g;else w=m,m=g;return m}function ic(){var m,H,I,j,J,ft,_t;if(m=w,(H=Qo())!==g){for(I=[],j=w,J=[],ft=Oe();ft!==g;)J.push(ft),ft=Oe();for(J!==g?(44===z.charCodeAt(w)?(ft=ze,w++):(ft=g,0===Jt&&Xt(t1)),ft!==g&&(_t=Qo())!==g?(Et=j,j=J=z1(H,_t)):(w=j,j=g)):(w=j,j=g);j!==g;){for(I.push(j),j=w,J=[],ft=Oe();ft!==g;)J.push(ft),ft=Oe();J!==g?(44===z.charCodeAt(w)?(ft=ze,w++):(ft=g,0===Jt&&Xt(t1)),ft!==g&&(_t=Qo())!==g?(Et=j,j=J=z1(H,_t)):(w=j,j=g)):(w=j,j=g)}I!==g?(Et=m,m=H=T1(H,I)):(w=m,m=g)}else w=m,m=g;return m}function ra(){var m,H,I;if(m=w,(H=function ac(){var m,H,I;for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();return H!==g&&(I=oa())!==g?(Et=m,m=H=st(I)):(w=m,m=g),m}())!==g&&(Et=m,H=st(H)),(m=H)===g){for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();H!==g?(97===z.charCodeAt(w)?(I=l1,w++):(I=g,0===Jt&&Xt(c1)),I!==g?(Et=m,m=H=P1()):(w=m,m=g)):(w=m,m=g)}return m}function Qo(){var m,H;return(m=function fi(){var m;return(m=function e4(){var m,H,I,j,J,ft,_t;for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();if(H!==g)if((I=hc())!==g){for(j=[],J=Oe();J!==g;)j.push(J),J=Oe();j!==g&&(J=function md(){var m,H,I,j,J,ft,_t,Q;if(m=w,64===z.charCodeAt(w)?(H=wo,w++):(H=g,0===Jt&&Xt(Wo)),H!==g){if(I=[],Pn.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(io)),j!==g)for(;j!==g;)I.push(j),Pn.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(io));else I=g;if(I!==g){if(j=[],J=w,45===z.charCodeAt(w)?(ft=Jn,w++):(ft=g,0===Jt&&Xt(Co)),ft!==g){if(_t=[],De.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Ir)),Q!==g)for(;Q!==g;)_t.push(Q),De.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Ir));else _t=g;_t!==g?(Et=J,J=ft=Qn(I,_t)):(w=J,J=g)}else w=J,J=g;for(;J!==g;)if(j.push(J),J=w,45===z.charCodeAt(w)?(ft=Jn,w++):(ft=g,0===Jt&&Xt(Co)),ft!==g){if(_t=[],De.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Ir)),Q!==g)for(;Q!==g;)_t.push(Q),De.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Ir));else _t=g;_t!==g?(Et=J,J=ft=Qn(I,_t)):(w=J,J=g)}else w=J,J=g;j!==g?(Et=m,m=H=Hn(I,j)):(w=m,m=g)}else w=m,m=g}else w=m,m=g;return m}())!==g?(Et=m,m=H=ct(I,J)):(w=m,m=g)}else w=m,m=g;else w=m,m=g;if(m===g){for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();if(H!==g)if((I=hc())!==g){for(j=[],J=Oe();J!==g;)j.push(J),J=Oe();if(j!==g)if(z.substr(w,2)===St?(J=St,w+=2):(J=g,0===Jt&&Xt(fe)),J!==g){for(ft=[],_t=Oe();_t!==g;)ft.push(_t),_t=Oe();ft!==g&&(_t=oa())!==g?(Et=m,m=H=ue(I,_t)):(w=m,m=g)}else w=m,m=g;else w=m,m=g}else w=m,m=g;else w=m,m=g;if(m===g){for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();H!==g&&(I=hc())!==g?(Et=m,m=H=st(I)):(w=m,m=g)}}return m}())===g&&(m=function t4(){var m,H,I;for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();return H!==g?((I=function kd(){var m,H,I,j,J,ft,_t,Q,qe;if(m=w,H=w,I=w,h1.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(N2)),j===g&&(j=null),j!==g){if(J=w,ft=[],Lr.test(z.charAt(w))?(_t=z.charAt(w),w++):(_t=g,0===Jt&&Xt(Mr)),_t!==g)for(;_t!==g;)ft.push(_t),Lr.test(z.charAt(w))?(_t=z.charAt(w),w++):(_t=g,0===Jt&&Xt(Mr));else ft=g;if(ft!==g)if(46===z.charCodeAt(w)?(_t=W,w++):(_t=g,0===Jt&&Xt(Z)),_t!==g){for(Q=[],Lr.test(z.charAt(w))?(qe=z.charAt(w),w++):(qe=g,0===Jt&&Xt(Mr));qe!==g;)Q.push(qe),Lr.test(z.charAt(w))?(qe=z.charAt(w),w++):(qe=g,0===Jt&&Xt(Mr));Q!==g&&(qe=dc())!==g?J=ft=[ft,_t,Q,qe]:(w=J,J=g)}else w=J,J=g;else w=J,J=g;if(J===g){if(J=w,46===z.charCodeAt(w)?(ft=W,w++):(ft=g,0===Jt&&Xt(Z)),ft!==g){if(_t=[],Lr.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Mr)),Q!==g)for(;Q!==g;)_t.push(Q),Lr.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Mr));else _t=g;_t!==g&&(Q=dc())!==g?J=ft=[ft,_t,Q]:(w=J,J=g)}else w=J,J=g;if(J===g){if(J=w,ft=[],Lr.test(z.charAt(w))?(_t=z.charAt(w),w++):(_t=g,0===Jt&&Xt(Mr)),_t!==g)for(;_t!==g;)ft.push(_t),Lr.test(z.charAt(w))?(_t=z.charAt(w),w++):(_t=g,0===Jt&&Xt(Mr));else ft=g;ft!==g&&(_t=dc())!==g?J=ft=[ft,_t]:(w=J,J=g)}}J!==g?I=j=[j,J]:(w=I,I=g)}else w=I,I=g;return(H=I!==g?z.substring(H,w):I)!==g&&(Et=m,H=X3(H)),H}())===g&&(I=function Cd(){var m,H,I,j,J,ft,_t,Q;if(m=w,H=w,I=w,h1.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(N2)),j===g&&(j=null),j!==g){for(J=[],Lr.test(z.charAt(w))?(ft=z.charAt(w),w++):(ft=g,0===Jt&&Xt(Mr));ft!==g;)J.push(ft),Lr.test(z.charAt(w))?(ft=z.charAt(w),w++):(ft=g,0===Jt&&Xt(Mr));if(J!==g)if(46===z.charCodeAt(w)?(ft=W,w++):(ft=g,0===Jt&&Xt(Z)),ft!==g){if(_t=[],Lr.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Mr)),Q!==g)for(;Q!==g;)_t.push(Q),Lr.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Mr));else _t=g;_t!==g?I=j=[j,J,ft,_t]:(w=I,I=g)}else w=I,I=g;else w=I,I=g}else w=I,I=g;return(H=I!==g?z.substring(H,w):I)!==g&&(Et=m,H=Kr(H)),H}())===g&&(I=function wd(){var m,H,I,j,J,ft;if(m=w,H=w,I=w,h1.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(N2)),j===g&&(j=null),j!==g){if(J=[],Lr.test(z.charAt(w))?(ft=z.charAt(w),w++):(ft=g,0===Jt&&Xt(Mr)),ft!==g)for(;ft!==g;)J.push(ft),Lr.test(z.charAt(w))?(ft=z.charAt(w),w++):(ft=g,0===Jt&&Xt(Mr));else J=g;J!==g?I=j=[j,J]:(w=I,I=g)}else w=I,I=g;return(H=I!==g?z.substring(H,w):I)!==g&&(Et=m,H=i8(H)),H}()),I!==g?(Et=m,m=H=st(I)):(w=m,m=g)):(w=m,m=g),m}())===g&&(m=function na(){var m,H,I;for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();if(H!==g?(z.substr(w,4)===Ke?(I=Ke,w+=4):(I=g,0===Jt&&Xt(I1)),I!==g?(Et=m,m=H=R1()):(w=m,m=g)):(w=m,m=g),m===g){for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();H!==g?(z.substr(w,5)===v1?(I=v1,w+=5):(I=g,0===Jt&&Xt(_r)),I!==g?(Et=m,m=H=gr()):(w=m,m=g)):(w=m,m=g)}return m}()),m}())===g&&(m=w,(H=cc())!==g&&(Et=m,H=Fr(H)),(m=H)===g&&(m=w,(H=uc())!==g&&(Et=m,H=kn(H)),(m=H)===g&&(m=w,(H=Qh())!==g&&(Et=m,H=st(H)),(m=H)===g&&(m=w,(H=oa())!==g&&(Et=m,H=T(H)),m=H)))),m}function Qh(){var m,H,I,j,J,ft;for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();if(H!==g)if(91===z.charCodeAt(w)?(I=M,w++):(I=g,0===Jt&&Xt(b)),I!==g)if((j=ss())!==g){for(J=[],ft=Oe();ft!==g;)J.push(ft),ft=Oe();J!==g?(93===z.charCodeAt(w)?(ft=U,w++):(ft=g,0===Jt&&Xt(zt)),ft!==g?(Et=m,m=H=st(j)):(w=m,m=g)):(w=m,m=g)}else w=m,m=g;else w=m,m=g;else w=m,m=g;return m}function cc(){var m,H,I,j,J,ft;for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();if(H!==g)if(40===z.charCodeAt(w)?(I=se,w++):(I=g,0===Jt&&Xt(ve)),I!==g){for(j=[],J=Qo();J!==g;)j.push(J),J=Qo();if(j!==g){for(J=[],ft=Oe();ft!==g;)J.push(ft),ft=Oe();J!==g?(41===z.charCodeAt(w)?(ft=a1,w++):(ft=g,0===Jt&&Xt(Tt)),ft!==g?(Et=m,m=H=Nt(j)):(w=m,m=g)):(w=m,m=g)}else w=m,m=g}else w=m,m=g;else w=m,m=g;return m}function hc(){var m,H,I;for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();return H!==g?((I=function yd(){var m,H,I,j,J,ft,_t,Q;if(m=w,z.substr(w,3)===R0?(H=R0,w+=3):(H=g,0===Jt&&Xt(js)),H!==g){for(I=[],Ps.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(Ns)),j===g&&(j=Vn())===g&&(j=_n());j!==g;)I.push(j),Ps.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(Ns)),j===g&&(j=Vn())===g&&(j=_n());if(I!==g){if(j=[],J=w,z.substr(w,2)===F0?(ft=F0,w+=2):(ft=g,0===Jt&&Xt(q3)),ft!==g){if(_t=[],Ps.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Ns)),Q===g&&(Q=Vn())===g&&(Q=_n()),Q!==g)for(;Q!==g;)_t.push(Q),Ps.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Ns)),Q===g&&(Q=Vn())===g&&(Q=_n());else _t=g;_t!==g?(Et=J,J=ft=Zh(I,_t)):(w=J,J=g)}else w=J,J=g;if(J===g)if(J=w,39===z.charCodeAt(w)?(ft=Ni,w++):(ft=g,0===Jt&&Xt(Uo)),ft!==g){if(_t=[],Ps.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Ns)),Q===g&&(Q=Vn())===g&&(Q=_n()),Q!==g)for(;Q!==g;)_t.push(Q),Ps.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Ns)),Q===g&&(Q=Vn())===g&&(Q=_n());else _t=g;_t!==g?(Et=J,J=ft=J3(I,_t)):(w=J,J=g)}else w=J,J=g;for(;J!==g;){if(j.push(J),J=w,z.substr(w,2)===F0?(ft=F0,w+=2):(ft=g,0===Jt&&Xt(q3)),ft!==g){if(_t=[],Ps.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Ns)),Q===g&&(Q=Vn())===g&&(Q=_n()),Q!==g)for(;Q!==g;)_t.push(Q),Ps.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Ns)),Q===g&&(Q=Vn())===g&&(Q=_n());else _t=g;_t!==g?(Et=J,J=ft=Zh(I,_t)):(w=J,J=g)}else w=J,J=g;if(J===g)if(J=w,39===z.charCodeAt(w)?(ft=Ni,w++):(ft=g,0===Jt&&Xt(Uo)),ft!==g){if(_t=[],Ps.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Ns)),Q===g&&(Q=Vn())===g&&(Q=_n()),Q!==g)for(;Q!==g;)_t.push(Q),Ps.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Ns)),Q===g&&(Q=Vn())===g&&(Q=_n());else _t=g;_t!==g?(Et=J,J=ft=J3(I,_t)):(w=J,J=g)}else w=J,J=g}j!==g?(z.substr(w,3)===R0?(J=R0,w+=3):(J=g,0===Jt&&Xt(js)),J!==g?(Et=m,m=H=Gh(I,j)):(w=m,m=g)):(w=m,m=g)}else w=m,m=g}else w=m,m=g;return m}())===g&&(I=function or(){var m,H,I,j,J,ft,_t,Q;if(m=w,z.substr(w,3)===j0?(H=j0,w+=3):(H=g,0===Jt&&Xt(c2)),H!==g){for(I=[],f1.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(Os)),j===g&&(j=Vn())===g&&(j=_n());j!==g;)I.push(j),f1.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(Os)),j===g&&(j=Vn())===g&&(j=_n());if(I!==g){if(j=[],J=w,z.substr(w,2)===P0?(ft=P0,w+=2):(ft=g,0===Jt&&Xt(Q3)),ft!==g){if(_t=[],f1.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Os)),Q===g&&(Q=Vn())===g&&(Q=_n()),Q!==g)for(;Q!==g;)_t.push(Q),f1.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Os)),Q===g&&(Q=Vn())===g&&(Q=_n());else _t=g;_t!==g?(Et=J,J=ft=td(I,_t)):(w=J,J=g)}else w=J,J=g;if(J===g)if(J=w,34===z.charCodeAt(w)?(ft=T0,w++):(ft=g,0===Jt&&Xt(Ja)),ft!==g){if(_t=[],f1.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Os)),Q===g&&(Q=Vn())===g&&(Q=_n()),Q!==g)for(;Q!==g;)_t.push(Q),f1.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Os)),Q===g&&(Q=Vn())===g&&(Q=_n());else _t=g;_t!==g?(Et=J,J=ft=ed(I,_t)):(w=J,J=g)}else w=J,J=g;for(;J!==g;){if(j.push(J),J=w,z.substr(w,2)===P0?(ft=P0,w+=2):(ft=g,0===Jt&&Xt(Q3)),ft!==g){if(_t=[],f1.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Os)),Q===g&&(Q=Vn())===g&&(Q=_n()),Q!==g)for(;Q!==g;)_t.push(Q),f1.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Os)),Q===g&&(Q=Vn())===g&&(Q=_n());else _t=g;_t!==g?(Et=J,J=ft=td(I,_t)):(w=J,J=g)}else w=J,J=g;if(J===g)if(J=w,34===z.charCodeAt(w)?(ft=T0,w++):(ft=g,0===Jt&&Xt(Ja)),ft!==g){if(_t=[],f1.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Os)),Q===g&&(Q=Vn())===g&&(Q=_n()),Q!==g)for(;Q!==g;)_t.push(Q),f1.test(z.charAt(w))?(Q=z.charAt(w),w++):(Q=g,0===Jt&&Xt(Os)),Q===g&&(Q=Vn())===g&&(Q=_n());else _t=g;_t!==g?(Et=J,J=ft=ed(I,_t)):(w=J,J=g)}else w=J,J=g}j!==g?(z.substr(w,3)===j0?(J=j0,w+=3):(J=g,0===Jt&&Xt(c2)),J!==g?(Et=m,m=H=Gh(I,j)):(w=m,m=g)):(w=m,m=g)}else w=m,m=g}else w=m,m=g;return m}())===g&&(I=function Md(){var m,H,I,j;if(m=w,39===z.charCodeAt(w)?(H=Ni,w++):(H=g,0===Jt&&Xt(Uo)),H!==g){for(I=[],K3.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(Oh)),j===g&&(j=Vn())===g&&(j=_n());j!==g;)I.push(j),K3.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(Oh)),j===g&&(j=Vn())===g&&(j=_n());I!==g?(39===z.charCodeAt(w)?(j=Ni,w++):(j=g,0===Jt&&Xt(Uo)),j!==g?(Et=m,m=H=Pt(I)):(w=m,m=g)):(w=m,m=g)}else w=m,m=g;return m}())===g&&(I=function _d(){var m,H,I,j;if(m=w,34===z.charCodeAt(w)?(H=T0,w++):(H=g,0===Jt&&Xt(Ja)),H!==g){for(I=[],Hr.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(D1)),j===g&&(j=Vn())===g&&(j=_n());j!==g;)I.push(j),Hr.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(D1)),j===g&&(j=Vn())===g&&(j=_n());I!==g?(34===z.charCodeAt(w)?(j=T0,w++):(j=g,0===Jt&&Xt(Ja)),j!==g?(Et=m,m=H=Pt(I)):(w=m,m=g)):(w=m,m=g)}else w=m,m=g;return m}()),I!==g?(Et=m,m=H=st(I)):(w=m,m=g)):(w=m,m=g),m}function oa(){var m,H,I;for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();if(H!==g&&(I=sa())!==g?(Et=m,m=H=st(I)):(w=m,m=g),m===g){for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();H!==g&&(I=function vd(){var m,H;return(m=function fd(){var m,H,I;return m=w,(H=r4())!==g&&(I=function Io(){var m,H,I,j,J,ft,_t,Q;if(m=w,(H=ko())===g&&(58===z.charCodeAt(w)?(H=F,w++):(H=g,0===Jt&&Xt(ot)),H===g&&(Lr.test(z.charAt(w))?(H=z.charAt(w),w++):(H=g,0===Jt&&Xt(Mr)),H===g&&(H=x2()))),H!==g){for(I=[],(j=b1())===g&&(58===z.charCodeAt(w)?(j=F,w++):(j=g,0===Jt&&Xt(ot)),j===g&&(j=x2()));j!==g;)I.push(j),(j=b1())===g&&(58===z.charCodeAt(w)?(j=F,w++):(j=g,0===Jt&&Xt(ot)),j===g&&(j=x2()));if(I!==g){if(j=[],J=w,ft=[],46===z.charCodeAt(w)?(_t=W,w++):(_t=g,0===Jt&&Xt(Z)),_t!==g)for(;_t!==g;)ft.push(_t),46===z.charCodeAt(w)?(_t=W,w++):(_t=g,0===Jt&&Xt(Z));else ft=g;if(ft!==g){if(_t=[],(Q=b1())===g&&(58===z.charCodeAt(w)?(Q=F,w++):(Q=g,0===Jt&&Xt(ot)),Q===g&&(Q=x2())),Q!==g)for(;Q!==g;)_t.push(Q),(Q=b1())===g&&(58===z.charCodeAt(w)?(Q=F,w++):(Q=g,0===Jt&&Xt(ot)),Q===g&&(Q=x2()));else _t=g;_t!==g?(Et=J,J=ft=ta(H,I,ft,_t)):(w=J,J=g)}else w=J,J=g;for(;J!==g;){if(j.push(J),J=w,ft=[],46===z.charCodeAt(w)?(_t=W,w++):(_t=g,0===Jt&&Xt(Z)),_t!==g)for(;_t!==g;)ft.push(_t),46===z.charCodeAt(w)?(_t=W,w++):(_t=g,0===Jt&&Xt(Z));else ft=g;if(ft!==g){if(_t=[],(Q=b1())===g&&(58===z.charCodeAt(w)?(Q=F,w++):(Q=g,0===Jt&&Xt(ot)),Q===g&&(Q=x2())),Q!==g)for(;Q!==g;)_t.push(Q),(Q=b1())===g&&(58===z.charCodeAt(w)?(Q=F,w++):(Q=g,0===Jt&&Xt(ot)),Q===g&&(Q=x2()));else _t=g;_t!==g?(Et=J,J=ft=ta(H,I,ft,_t)):(w=J,J=g)}else w=J,J=g}j!==g?(Et=m,m=H=ad(H,I,j)):(w=m,m=g)}else w=m,m=g}else w=m,m=g;return m}())!==g?(Et=m,m=H=ne(H,I)):(w=m,m=g),m}())===g&&(m=w,(H=r4())!==g&&(Et=m,H=jr(H)),m=H),m}())!==g?(Et=m,m=H=st(I)):(w=m,m=g)}return m}function uc(){var m,H,I;for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();if(H!==g&&(I=function n4(){var m,H,I,j,J,ft,_t,Q,qe,qr;if(m=w,H=w,z.substr(w,2)===nr?(I=nr,w+=2):(I=g,0===Jt&&Xt(Dn)),I!==g)if((j=ko())===g&&(Lr.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(Mr))),j!==g){for(J=[],ft=b1();ft!==g;)J.push(ft),ft=b1();if(J!==g){if(ft=[],_t=w,Q=[],46===z.charCodeAt(w)?(qe=W,w++):(qe=g,0===Jt&&Xt(Z)),qe!==g)for(;qe!==g;)Q.push(qe),46===z.charCodeAt(w)?(qe=W,w++):(qe=g,0===Jt&&Xt(Z));else Q=g;if(Q!==g){if(qe=[],(qr=b1())!==g)for(;qr!==g;)qe.push(qr),qr=b1();else qe=g;qe!==g?_t=Q=[Q,qe]:(w=_t,_t=g)}else w=_t,_t=g;for(;_t!==g;){if(ft.push(_t),_t=w,Q=[],46===z.charCodeAt(w)?(qe=W,w++):(qe=g,0===Jt&&Xt(Z)),qe!==g)for(;qe!==g;)Q.push(qe),46===z.charCodeAt(w)?(qe=W,w++):(qe=g,0===Jt&&Xt(Z));else Q=g;if(Q!==g){if(qe=[],(qr=b1())!==g)for(;qr!==g;)qe.push(qr),qr=b1();else qe=g;qe!==g?_t=Q=[Q,qe]:(w=_t,_t=g)}else w=_t,_t=g}ft!==g?H=I=[I,j,J,ft]:(w=H,H=g)}else w=H,H=g}else w=H,H=g;else w=H,H=g;return H!==g?z.substring(m,w):H}())!==g?(Et=m,m=H=st(I)):(w=m,m=g),m===g){for(m=w,H=[],I=Oe();I!==g;)H.push(I),I=Oe();H!==g&&(I=function o4(){var m,H,I,j;if(m=w,91===z.charCodeAt(w)?(H=M,w++):(H=g,0===Jt&&Xt(b)),H!==g){for(I=[],j=Oe();j!==g;)I.push(j),j=Oe();I!==g?(93===z.charCodeAt(w)?(j=U,w++):(j=g,0===Jt&&Xt(zt)),j!==g?(Et=m,m=H=Pr()):(w=m,m=g)):(w=m,m=g)}else w=m,m=g;return m}())!==g?(Et=m,m=H=st(I)):(w=m,m=g)}return m}function sa(){var m,H,I,j;if(m=w,60===z.charCodeAt(w)?(H=oo,w++):(H=g,0===Jt&&Xt(V1)),H!==g){for(I=[],Jo.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(so)),j===g&&(j=_n());j!==g;)I.push(j),Jo.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(so)),j===g&&(j=_n());I!==g?(62===z.charCodeAt(w)?(j=Fs,w++):(j=g,0===Jt&&Xt(nn)),j!==g?(Et=m,m=H=D(I)):(w=m,m=g)):(w=m,m=g)}else w=m,m=g;return m}function r4(){var m,H,I;return m=w,(H=to())===g&&(H=null),H!==g?(58===z.charCodeAt(w)?(I=F,w++):(I=g,0===Jt&&Xt(ot)),I!==g?(Et=m,m=H=le(H)):(w=m,m=g)):(w=m,m=g),m}function Z2(){var m,H,I;return m=w,(H=to())===g&&(H=null),H!==g?(58===z.charCodeAt(w)?(I=F,w++):(I=g,0===Jt&&Xt(ot)),I!==g?(Et=m,m=H=Re(H)):(w=m,m=g)):(w=m,m=g),m}function dc(){var m,H,I,j,J,ft;if(m=w,H=w,lo.test(z.charAt(w))?(I=z.charAt(w),w++):(I=g,0===Jt&&Xt(E0)),I!==g)if(h1.test(z.charAt(w))?(j=z.charAt(w),w++):(j=g,0===Jt&&Xt(N2)),j===g&&(j=null),j!==g){if(J=[],Lr.test(z.charAt(w))?(ft=z.charAt(w),w++):(ft=g,0===Jt&&Xt(Mr)),ft!==g)for(;ft!==g;)J.push(ft),Lr.test(z.charAt(w))?(ft=z.charAt(w),w++):(ft=g,0===Jt&&Xt(Mr));else J=g;J!==g?H=I=[I,j,J]:(w=H,H=g)}else w=H,H=g;else w=H,H=g;return H!==g?z.substring(m,w):H}function _n(){var m,H,I,j,J,ft,_t,Q,qe,qr,Gs;return m=w,z.substr(w,2)===Ve?(H=Ve,w+=2):(H=g,0===Jt&&Xt(l8)),H!==g?(I=w,(j=t2())!==g&&(J=t2())!==g&&(ft=t2())!==g&&(_t=t2())!==g&&(Q=t2())!==g&&(qe=t2())!==g&&(qr=t2())!==g&&(Gs=t2())!==g?I=j=[j,J,ft,_t,Q,qe,qr,Gs]:(w=I,I=g),I!==g?(Et=m,m=H=ar(I)):(w=m,m=g)):(w=m,m=g),m===g&&(m=w,z.substr(w,2)===ql?(H=ql,w+=2):(H=g,0===Jt&&Xt(a8)),H!==g?(I=w,(j=t2())!==g&&(J=t2())!==g&&(ft=t2())!==g&&(_t=t2())!==g?I=j=[j,J,ft,_t]:(w=I,I=g),I!==g?(Et=m,m=H=Wh(I)):(w=m,m=g)):(w=m,m=g)),m}function Vn(){var m,H;return m=w,z.substr(w,2)===Uh?(H=Uh,w+=2):(H=g,0===Jt&&Xt(Qa)),H!==g&&(Et=m,H=tc()),(m=H)===g&&(m=w,z.substr(w,2)===ec?(H=ec,w+=2):(H=g,0===Jt&&Xt($h)),H!==g&&(Et=m,H=rd()),(m=H)===g&&(m=w,z.substr(w,2)===ye?(H=ye,w+=2):(H=g,0===Jt&&Xt(N0)),H!==g&&(Et=m,H=O0()),(m=H)===g&&(m=w,z.substr(w,2)===Z0?(H=Z0,w+=2):(H=g,0===Jt&&Xt(G0)),H!==g&&(Et=m,H=nd()),(m=H)===g&&(m=w,z.substr(w,2)===rc?(H=rc,w+=2):(H=g,0===Jt&&Xt(c8)),H!==g&&(Et=m,H=h8()),(m=H)===g&&(m=w,z.substr(w,2)===od?(H=od,w+=2):(H=g,0===Jt&&Xt(u8)),H!==g&&(Et=m,H=W0()),(m=H)===g&&(m=w,z.substr(w,2)===Cl?(H=Cl,w+=2):(H=g,0===Jt&&Xt(U0)),H!==g&&(Et=m,H=$0()),(m=H)===g&&(m=w,z.substr(w,2)===Y0?(H=Y0,w+=2):(H=g,0===Jt&&Xt(Zs)),H!==g&&(Et=m,H=Jl()),m=H))))))),m}function p1(){var m,H,I;return m=w,d8.test(z.charAt(w))?(H=z.charAt(w),w++):(H=g,0===Jt&&Xt(sd)),H!==g?(id.test(z.charAt(w))?(I=z.charAt(w),w++):(I=g,0===Jt&&Xt(p8)),I!==g?(Et=m,m=H=ld(H,I)):(w=m,m=g)):(w=m,m=g),m===g&&(X0.test(z.charAt(w))?(m=z.charAt(w),w++):(m=g,0===Jt&&Xt(vr))),m}function ko(){var m;return(m=p1())===g&&(95===z.charCodeAt(w)?(m=K0,w++):(m=g,0===Jt&&Xt(Xh))),m}function b1(){var m;return(m=ko())===g&&(45===z.charCodeAt(w)?(m=Jn,w++):(m=g,0===Jt&&Xt(Co)),m===g&&(Lr.test(z.charAt(w))?(m=z.charAt(w),w++):(m=g,0===Jt&&Xt(Mr)),m===g&&(183===z.charCodeAt(w)?(m=h2,w++):(m=g,0===Jt&&Xt(Kh)),m===g&&(g8.test(z.charAt(w))?(m=z.charAt(w),w++):(m=g,0===Jt&&Xt(v8)),m===g&&(Ql.test(z.charAt(w))?(m=z.charAt(w),w++):(m=g,0===Jt&&Xt(q0))))))),m}function to(){var m,H,I,j,J,ft,_t,Q,qe;if(m=w,H=w,(I=p1())!==g){for(j=[],J=b1();J!==g;)j.push(J),J=b1();if(j!==g){if(J=[],ft=w,_t=[],46===z.charCodeAt(w)?(Q=W,w++):(Q=g,0===Jt&&Xt(Z)),Q!==g)for(;Q!==g;)_t.push(Q),46===z.charCodeAt(w)?(Q=W,w++):(Q=g,0===Jt&&Xt(Z));else _t=g;if(_t!==g){if(Q=[],(qe=b1())!==g)for(;qe!==g;)Q.push(qe),qe=b1();else Q=g;Q!==g?ft=_t=[_t,Q]:(w=ft,ft=g)}else w=ft,ft=g;for(;ft!==g;){if(J.push(ft),ft=w,_t=[],46===z.charCodeAt(w)?(Q=W,w++):(Q=g,0===Jt&&Xt(Z)),Q!==g)for(;Q!==g;)_t.push(Q),46===z.charCodeAt(w)?(Q=W,w++):(Q=g,0===Jt&&Xt(Z));else _t=g;if(_t!==g){if(Q=[],(qe=b1())!==g)for(;qe!==g;)Q.push(qe),qe=b1();else Q=g;Q!==g?ft=_t=[_t,Q]:(w=ft,ft=g)}else w=ft,ft=g}J!==g?H=I=[I,j,J]:(w=H,H=g)}else w=H,H=g}else w=H,H=g;return H!==g?z.substring(m,w):H}function x2(){var m;return(m=function $o(){var m,H,I,j,J;return m=w,H=w,37===z.charCodeAt(w)?(I=cd,w++):(I=g,0===Jt&&Xt(hd)),I!==g&&(j=t2())!==g&&(J=t2())!==g?H=I=[I,j,J]:(w=H,H=g),H!==g?z.substring(m,w):H}())===g&&(m=function s4(){var m,H,I;return m=w,92===z.charCodeAt(w)?(H=ud,w++):(H=g,0===Jt&&Xt(vi)),H!==g?(dd.test(z.charAt(w))?(I=z.charAt(w),w++):(I=g,0===Jt&&Xt(wt)),I!==g?(Et=m,m=H=st(I)):(w=m,m=g)):(w=m,m=g),m}()),m}function t2(){var m;return qh.test(z.charAt(w))?(m=z.charAt(w),w++):(m=g,0===Jt&&Xt(kl)),m}var l4=new Function("try {return this===window;}catch(e){ return false;}")()?window.URL:K(1391).URL,a4=function(m){return m.match(/^[a-z](.*?):(.+?)/g)},$r={base:[],data:{},addBase:function(m){if(0===$r.base.length)return void $r.base.push(m);const H=$r.base[$r.base.length-1];H!==m&&$r.base.push(new l4(m,H).toString())},addPrefix:function(m,H){const I=$r.data[m];void 0===I?$r.data[m]=[{uri:H,count:0}]:I[I.length-1].uri!==H&&I.push({uri:H,count:0})},hasPrefix:function(m){return void 0!==this.data[m]},resolve:function(m,H){const I=Object.keys($r.data).find(J=>0===m.indexOf(J+":"));if(void 0!==I){const J=$r.data[I];return 1===J.length&&!0!==H&&a4(J[0].uri)?m:m.replace(I+":",J[J.length-1].uri)}var j=0===$r.base.length?P.baseIRI:$r.base[$r.base.length-1];return!j||m.match(/^(http:|https:|urn:|file:)/)?m:0===m.indexOf("//")&&j?j.split("//")[0]+m:new l4(m,j).toString()},increment:function(m){const H=$r.data[m];void 0!==H&&H[H.length-1].count++},decrement:function(m){const H=$r.data[m];void 0!==H&&H[H.length-1].count--},toJSON:function(){const m={};return $r.base.length>0&&(void 0===m["@context"]&&(m["@context"]={}),m["@context"]["@base"]=$r.base[0]),Object.keys($r.data).forEach(H=>{const I=$r.data[H][0];"http://www.w3.org/2001/XMLSchema#"===I.uri&&I.count<1||a4(I.uri)&&(void 0===m["@context"]&&(m["@context"]={}),m["@context"][H]=I.uri)}),m}};function la(m,H){if(void 0===m["@list"]||!H&&!m["@list"].find(J=>void 0!==J["@list"]))return m;if(0===m["@list"].length)return{"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};var I={},j=null;return m["@list"].forEach(J=>{null===j?j=I:(j["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={},j=j["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]),j["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"]=la(J,!0),j["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}),I}if((nc=dt())!==g&&w===z.length)return nc;throw nc!==g&&w<z.length&&Xt({type:"end"}),function sc(m,H,I){return new Lt(Lt.buildMessage(m,H),m,H,I)}(Zi,O2<z.length?z.charAt(O2):null,Ml(O2,O2<z.length?O2+1:O2))}}})?G.apply(ee,[]):G)&&(qt.exports=ht)},517:function(qt){qt.exports=function(){"use strict";var ee=function(){return ee=Object.assign||function(C){for(var k,_=1,x=arguments.length;_<x;_++)for(var S in k=arguments[_])Object.prototype.hasOwnProperty.call(k,S)&&(C[S]=k[S]);return C},ee.apply(this,arguments)};function K(v){var C="function"==typeof Symbol&&Symbol.iterator,k=C&&v[C],_=0;if(k)return k.call(v);if(v&&"number"==typeof v.length)return{next:function(){return v&&_>=v.length&&(v=void 0),{value:v&&v[_++],done:!v}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")}function G(v,C){var k="function"==typeof Symbol&&v[Symbol.iterator];if(!k)return v;var x,X,_=k.call(v),S=[];try{for(;(void 0===C||C-- >0)&&!(x=_.next()).done;)S.push(x.value)}catch(Rt){X={error:Rt}}finally{try{x&&!x.done&&(k=_.return)&&k.call(_)}finally{if(X)throw X.error}}return S}function vt(v,C,k){if(k||2===arguments.length)for(var S,_=0,x=C.length;_<x;_++)(S||!(_ in C))&&(S||(S=Array.prototype.slice.call(C,0,_)),S[_]=C[_]);return v.concat(S||Array.prototype.slice.call(C))}"function"==typeof SuppressedError&&SuppressedError;class ht extends Error{constructor(C,k,_){super(C),this.token=k,this.type=_||"error"}}const Bt=v=>v<4?"short":4===v?"long":"narrow",Lt=v=>v%2==0?"2-digit":"numeric";function z(v,C){switch(v.width){case 1:return"numeric";case 2:return"2-digit";case 3:return"short";case 4:return"long";case 5:return"narrow";default:return void C(`${v.desc} is not supported with width ${v.width}`)}}function P(v,C){const{char:k,desc:_,width:x}=v;if("d"===k)return Lt(x);C(`${_} is not supported`)}function g(v,C){const{char:k,desc:_,width:x}=v;return("c"===k||"e"===k)&&x<3&&C(`Numeric value is not supported for ${_}; falling back to weekday:short`,ht.WARNING),Bt(x)}function dt(v,C){const{char:k,desc:_,width:x}=v;switch(k){case"v":case"z":return 4===x?"long":"short";case"V":return 4===x?"long":void C(`${_} is not supported with width ${x}`);case"X":return void C(`${_} is not supported`)}return"short"}function bt(v,C){switch(v.field){case"era":return{era:Bt(v.width)};case"year":return function rt(v,C){switch(v.char){case"y":return{year:Lt(v.width)};case"r":return{calendar:"gregory",year:"numeric"};default:return C(`${v.desc} is not supported; falling back to year:numeric`,ht.WARNING),{year:"numeric"}}}(v,C);case"month":return{month:z(v,C)};case"day":return{day:P(v,C)};case"weekday":return{weekday:g(v,C)};case"period":return;case"hour":return function At(v){const C=Lt(v.width);let k;switch(v.char){case"h":k="h12";break;case"H":k="h23";break;case"k":k="h24";break;case"K":k="h11"}return k?{hour:C,hourCycle:k}:{hour:C}}(v);case"min":return{minute:Lt(v.width)};case"sec":return{second:Lt(v.width)};case"tz":return{timeZoneName:dt(v,C)};case"quarter":case"week":case"sec-frac":case"ms":C(`${v.desc} is not supported`)}}function W(v,C){let k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S=>{throw S};const _={timeZone:C},x=[];for(const S of v){const{error:X,field:Rt,str:ce}=S;if(X){const m1=new ht(X.message,S);m1.stack=X.stack,k(m1)}ce&&k(new ht(`Ignoring string part: ${ce}`,S,ht.WARNING)),Rt&&(-1===x.indexOf(Rt)?x.push(Rt):k(new ht(`Duplicate ${Rt} token`,S)));const Ne=bt(S,(m1,X1)=>k(new ht(m1,S,X1)));Ne&&Object.assign(_,Ne)}return _}const Z={G:{field:"era",desc:"Era"},y:{field:"year",desc:"Year"},Y:{field:"year",desc:'Year of "Week of Year"'},u:{field:"year",desc:"Extended year"},U:{field:"year",desc:"Cyclic year name"},r:{field:"year",desc:"Related Gregorian year"},Q:{field:"quarter",desc:"Quarter"},q:{field:"quarter",desc:"Stand-alone quarter"},M:{field:"month",desc:"Month in year"},L:{field:"month",desc:"Stand-alone month in year"},w:{field:"week",desc:"Week of year"},W:{field:"week",desc:"Week of month"},d:{field:"day",desc:"Day in month"},D:{field:"day",desc:"Day of year"},F:{field:"day",desc:"Day of week in month"},g:{field:"day",desc:"Modified julian day"},E:{field:"weekday",desc:"Day of week"},e:{field:"weekday",desc:"Local day of week"},c:{field:"weekday",desc:"Stand-alone local day of week"},a:{field:"period",desc:"AM/PM marker"},b:{field:"period",desc:"AM/PM/noon/midnight marker"},B:{field:"period",desc:"Flexible day period"},h:{field:"hour",desc:"Hour in AM/PM (1~12)"},H:{field:"hour",desc:"Hour in day (0~23)"},k:{field:"hour",desc:"Hour in day (1~24)"},K:{field:"hour",desc:"Hour in AM/PM (0~11)"},j:{field:"hour",desc:"Hour in preferred cycle"},J:{field:"hour",desc:"Hour in preferred cycle without marker"},C:{field:"hour",desc:"Hour in preferred cycle with flexible marker"},m:{field:"min",desc:"Minute in hour"},s:{field:"sec",desc:"Second in minute"},S:{field:"sec-frac",desc:"Fractional second"},A:{field:"ms",desc:"Milliseconds in day"},z:{field:"tz",desc:"Time Zone: specific non-location"},Z:{field:"tz",desc:"Time Zone"},O:{field:"tz",desc:"Time Zone: localized"},v:{field:"tz",desc:"Time Zone: generic non-location"},V:{field:"tz",desc:"Time Zone: ID"},X:{field:"tz",desc:"Time Zone: ISO8601 with Z"},x:{field:"tz",desc:"Time Zone: ISO8601"}},st=v=>v>="A"&&v<="Z"||v>="a"&&v<="z";function Y(v,C){const k=v[C];if(!k)return null;if(st(k))return function gt(v,C){const k=v[C];let _=1;for(;v[++C]===k;)++_;const x=Z[k];return x?{char:k,field:x.field,desc:x.desc,width:_}:{char:k,error:new Error(`The letter ${k} is not a valid field identifier`),width:_}}(v,C);if("'"===k)return function lt(v,C){let k=v[++C],_=2;if("'"===k)return{char:"'",str:k,width:_};for(;;){const x=v[++C];if(++_,void 0===x)return{char:"'",error:new Error(`Unterminated quoted literal in pattern: ${k||v}`),str:k,width:_};if("'"===x){if("'"!==v[++C])return{char:"'",str:k,width:_};++_}k+=x}}(v,C);let _=k,x=1;for(;;){const S=v[++C];if(!S||st(S)||"'"===S)return{char:k,str:_,width:x};_+=S,x+=1}}function E(v){const C=[];let k=0;for(;;){const _=Y(v,k);if(!_)return C;C.push(_),k+=_.width}}class Pt extends Error{constructor(C,k){super(k),this.code=C}}class q extends Pt{constructor(C,k){super("BAD_OPTION",`Unknown ${C} option: ${k}`),this.stem=C,this.option=k}}class re extends Pt{constructor(C){super("BAD_STEM",`Unknown stem: ${C}`),this.stem=C}}class nt extends Pt{constructor(C,k){super("MASKED_VALUE",`Value for ${C} is set multiple times`),this.type=C,this.prev=k}}class Ht extends Pt{constructor(C){super("MISSING_OPTION",`Required option missing for ${C}`),this.stem=C}}class Zt extends Pt{constructor(C,k){super("BAD_PATTERN",k),this.char=C}}class Yt extends Pt{constructor(C,k,_){super("TOO_MANY_OPTIONS",`Token ${C} only supports ${_>1?`${_} options`:"one option"} (got ${k.length})`),this.stem=C,this.options=k}}class et extends Pt{constructor(C,k){super("UNSUPPORTED",`The stem ${C} is not supported`),this.stem=C,k&&(this.message+=` with value ${k}`,this.source=k)}}function Mt(v,C){let{numberingSystem:k}=C;return Array.isArray(v)||(v=[v]),k?v.map(_=>{const x=-1===_.indexOf("-u-")?"u-nu":"nu";return`${_}-${x}-${k}`}).concat(v):v}function be(v){let{scale:C,unit:k}=v,_="number"==typeof C&&C>=0?C:1;return k&&"percent"===k.style&&(_*=.01),_}function B(v,C){const{decimal:k,group:_,integerWidth:x,notation:S,precision:X,roundingMode:Rt,sign:ce,unit:Ne,unitPer:m1,unitWidth:X1}=v,J1=(ln,En)=>{C&&C(new et(ln,En))},e1={};if(Ne)switch(Ne.style){case"base-unit":e1.style="decimal";break;case"currency":e1.style="currency",e1.currency=Ne.currency;break;case"measure-unit":e1.style="unit",e1.unit=Ne.unit.replace(/.*-/,""),m1&&(e1.unit+="-per-"+m1.replace(/.*-/,""));break;case"percent":e1.style="percent";break;case"permille":J1("permille")}switch(X1){case"unit-width-full-name":e1.currencyDisplay="name",e1.unitDisplay="long";break;case"unit-width-hidden":J1(X1);break;case"unit-width-iso-code":e1.currencyDisplay="code";break;case"unit-width-narrow":e1.currencyDisplay="narrowSymbol",e1.unitDisplay="narrow";break;case"unit-width-short":e1.currencyDisplay="symbol",e1.unitDisplay="short"}switch(_){case"group-off":e1.useGrouping=!1;break;case"group-auto":e1.useGrouping=!0;break;case"group-min2":case"group-on-aligned":case"group-thousands":J1(_),e1.useGrouping=!0}if(X)switch(X.style){case"precision-fraction":{const{minFraction:ln,maxFraction:En,minSignificant:eo,maxSignificant:r2,source:as}=X;"number"==typeof ln&&(e1.minimumFractionDigits=ln,"number"==typeof eo&&J1("precision-fraction",as)),"number"==typeof En&&(e1.maximumFractionDigits=En),"number"==typeof eo&&(e1.minimumSignificantDigits=eo),"number"==typeof r2&&(e1.maximumSignificantDigits=r2);break}case"precision-integer":e1.maximumFractionDigits=0;break;case"precision-unlimited":e1.maximumFractionDigits=20;break;case"precision-increment":break;case"precision-currency-standard":e1.trailingZeroDisplay=X.trailingZero;break;case"precision-currency-cash":J1(X.style)}if(S)switch(S.style){case"compact-short":e1.notation="compact",e1.compactDisplay="short";break;case"compact-long":e1.notation="compact",e1.compactDisplay="long";break;case"notation-simple":e1.notation="standard";break;case"scientific":case"engineering":{const{expDigits:ln,expSign:En,source:eo,style:r2}=S;e1.notation=r2,(ln&&ln>1||En&&"sign-auto"!==En)&&J1(r2,eo);break}}if(x){const{min:ln,max:En,source:eo}=x;ln>0&&(e1.minimumIntegerDigits=ln),Number(En)>0&&(3!==En||"engineering"!==e1.notation&&"scientific"!==e1.notation?J1("integer-width",eo):e1.notation="engineering")}switch(ce){case"sign-auto":e1.signDisplay="auto";break;case"sign-always":e1.signDisplay="always";break;case"sign-except-zero":e1.signDisplay="exceptZero";break;case"sign-never":e1.signDisplay="never";break;case"sign-accounting":e1.currencySign="accounting";break;case"sign-accounting-always":e1.currencySign="accounting",e1.signDisplay="always";break;case"sign-accounting-except-zero":e1.currencySign="accounting",e1.signDisplay="exceptZero"}return"decimal-always"===k&&J1(k),Rt&&J1(Rt),e1}function A(v,C,k){const _=v[C];switch(_){case"%":return{char:"%",style:"percent",width:1};case"\u2030":return{char:"%",style:"permille",width:1};case"\xa4":{let x=1;for(;"\xa4"===v[++C];)++x;switch(x){case 1:return{char:_,currency:"default",width:x};case 2:return{char:_,currency:"iso-code",width:x};case 3:return{char:_,currency:"full-name",width:x};case 5:return{char:_,currency:"narrow",width:x};default:return k(new Zt("\xa4",`Invalid number (${x}) of \xa4 chars in pattern`)),null}}case"*":{const x=v[C+1];if(x)return{char:_,pad:x,width:2};break}case"+":case"-":return{char:_,width:1};case"'":{let x=v[++C],S=2;if("'"===x)return{char:_,str:x,width:S};for(;;){const X=v[++C];if(++S,void 0===X)return k(new Zt("'",`Unterminated quoted literal in pattern: ${x}`)),{char:_,str:x,width:S};if("'"===X){if("'"!==v[++C])return{char:_,str:x,width:S};++S}x+=X}}}return null}const $=v=>v>="0"&&v<="9";function xt(v,C){const k=v[C];if($(k)){let _=k;for(;;){const x=v[++C];if(!$(x))return{char:"0",digits:_,width:_.length};_+=x}}switch(k){case"#":{let _=1;for(;"#"===v[++C];)++_;return{char:k,width:_}}case"@":{let _=1;for(;"@"===v[++C];)++_;let x=_;for(C-=1;"#"===v[++C];)++x;return{char:k,min:_,width:x}}case"E":{const _="+"===v[C+1];_&&++C;let x=0;for(;"0"===v[++C];)++x;if(x)return{char:k,expDigits:x,plus:_,width:(_?2:1)+x};break}case".":case",":return{char:k,width:1}}return null}function Wt(v,C,k){let _;var Ne;(Ne=_||(_={}))[Ne.Prefix=0]="Prefix",Ne[Ne.Number=1]="Number",Ne[Ne.Suffix=2]="Suffix";const x=[],S=[],X=[];let Rt=_.Prefix,ce="";for(;C<v.length;){const Ne=v[C];if(";"===Ne){C+=1;break}switch(Rt){case _.Prefix:{const m1=A(v,C,k);if(m1)ce&&(x.push({char:"'",str:ce,width:ce.length}),ce=""),x.push(m1),C+=m1.width;else{const X1=xt(v,C);X1?(ce&&(x.push({char:"'",str:ce,width:ce.length}),ce=""),Rt=_.Number,S.push(X1),C+=X1.width):(ce+=Ne,C+=1)}break}case _.Number:{const m1=xt(v,C);m1?(S.push(m1),C+=m1.width):Rt=_.Suffix;break}case _.Suffix:{const m1=A(v,C,k);m1?(ce&&(X.push({char:"'",str:ce,width:ce.length}),ce=""),X.push(m1),C+=m1.width):(ce+=Ne,C+=1);break}}}return ce&&X.push({char:"'",str:ce,width:ce.length}),{pattern:{prefix:x,number:S,suffix:X},pos:C}}function xe(v,C,k,_,x){let S=!1,X="";for(const Rt of v)switch(Rt.char){case"%":C.unit={style:Rt.style},x?S=!0:X="";break;case"\xa4":if(!k){_(new Zt("\xa4","The \xa4 pattern requires a currency"));break}switch(C.unit={style:"currency",currency:k},Rt.currency){case"iso-code":C.unitWidth="unit-width-iso-code";break;case"full-name":C.unitWidth="unit-width-full-name";break;case"narrow":C.unitWidth="unit-width-narrow"}x?S=!0:X="";break;case"*":break;case"+":S||(X+="+");break;case"'":S||(X+=Rt.str)}return X}function We(v,C){let k=!1,_="";for(const x of v)switch(x.char){case"%":case"\xa4":C?k=!0:_="";break;case"-":k||(_+="-");break;case"'":k||(_+=x.str)}return _}function $e(v,C){let k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ce=>{throw ce};const{tokens:_,negative:x}=function Ce(v,C){const{pattern:k,pos:_}=Wt(v,0,C);if(_<v.length){const{pattern:x}=Wt(v,_,C);return{tokens:k,negative:x}}return{tokens:k}}(v,k),S=function oe(v,C){const k={};let _=!1,x=!1,S=0,X="",Rt=-1,ce="",Ne=0;for(let X1=0;X1<v.length;++X1){const J1=v[X1];switch(J1.char){case"#":-1===Rt?(X&&C(new Zt("#","Pattern has # after integer digits")),S+=J1.width):Ne+=J1.width;break;case"0":-1===Rt?X+=J1.digits:(Ne&&C(new Zt("0","Pattern has digits after # in fraction")),ce+=J1.digits);break;case"@":k.precision&&C(new nt("precision",k.precision)),k.precision={style:"precision-fraction",minSignificant:J1.min,maxSignificant:J1.width};break;case",":_=!0;break;case".":1===Rt&&C(new Zt(".","Pattern has more than one decimal separator")),Rt=X1;break;case"E":x&&C(new nt("exponent",k.notation)),_&&C(new Zt("E","Exponential patterns may not contain grouping separators")),k.notation={style:"scientific"},J1.expDigits>1&&(k.notation.expDigits=J1.expDigits),J1.plus&&(k.notation.expSign="sign-always"),x=!0}}_?k.group="group-auto":S+X.length>3&&(k.group="group-off");const m1=+`${X||"0"}.${ce}`;if(m1&&(k.precision={style:"precision-increment",increment:m1}),x)if((!k.precision||m1)&&(k.integerWidth=S?{min:1,max:S+X.length}:{min:Math.max(1,X.length)}),k.precision)m1||(k.integerWidth={min:1,max:1});else{const X1=X.length+ce.length;-1===Rt?X1>0&&(k.precision={style:"precision-fraction",maxSignificant:X1}):(k.precision={style:"precision-fraction",maxSignificant:Math.max(1,X1)+Ne},X1>1&&(k.precision.minSignificant=X1))}else X.length>1&&(k.integerWidth={min:X.length}),!k.precision&&(ce.length||Ne)&&(k.precision={style:"precision-fraction",minFraction:ce.length,maxFraction:ce.length+Ne});return k}(_.number,k),X=xe(_.prefix,S,C,k,!0),Rt=xe(_.suffix,S,C,k,!1);if(x){const ce=We(x.prefix,!0),Ne=We(x.suffix,!1);S.affix={pos:[X,Rt],neg:[ce,Ne]},S.sign="sign-never"}else(X||Rt)&&(S.affix={pos:[X,Rt]});return S}function r1(v){const[k]=v.split("-",1);return-1!==["acceleration","angle","area","concentr","consumption","digital","duration","electric","energy","force","frequency","graphics","length","light","mass","power","pressure","speed","temperature","torque","volume"].indexOf(k)}const o1={"compact-short":0,"compact-long":0,"notation-simple":0,scientific:2,engineering:2,percent:0,permille:0,"base-unit":0,currency:1,"measure-unit":1,"per-measure-unit":1,"unit-width-narrow":0,"unit-width-short":0,"unit-width-full-name":0,"unit-width-iso-code":0,"unit-width-hidden":0,"precision-integer":0,"precision-unlimited":0,"precision-currency-standard":1,"precision-currency-cash":0,"precision-increment":1,"rounding-mode-ceiling":0,"rounding-mode-floor":0,"rounding-mode-down":0,"rounding-mode-up":0,"rounding-mode-half-even":0,"rounding-mode-half-down":0,"rounding-mode-half-up":0,"rounding-mode-unnecessary":0,"integer-width":1,scale:1,"group-off":0,"group-min2":0,"group-auto":0,"group-on-aligned":0,"group-thousands":0,latin:0,"numbering-system":1,"sign-auto":0,"sign-always":0,"sign-never":0,"sign-accounting":0,"sign-accounting-always":0,"sign-except-zero":0,"sign-accounting-except-zero":0,"decimal-auto":0,"decimal-always":0},L1={currency:1,"integer-width":1,"measure-unit":1,"numbering-system":1,"per-measure-unit":1,"precision-increment":1,scale:1};function O(v,C,k){if(function Qe(v){return v in o1}(v)){const _=o1[v];if(C.length>_){if(0===_)for(const x of C)k(new q(v,x));else k(new Yt(v,C,_));return!1}if(function Ye(v){return v in L1}(v)&&C.length<L1[v])return k(new Ht(v)),!1}return!0}function It(v,C){const _=v&&v.match("fraction"===C?/^\.(0*)(\+|#*)$/:/^(@+)(\+|#*)$/);if(_){const x=_[1].length;switch(_[2].charAt(0)){case"":return{min:x,max:x};case"+":return{min:x,max:null};case"#":return{min:x,max:x+_[2].length}}}return null}class ze{constructor(C){this.skeleton={},this.onError=C}badOption(C,k){this.onError(new q(C,k))}assertEmpty(C){const k=this.skeleton[C];k&&this.onError(new nt(C,k))}parseToken(C,k){if(!O(C,k,this.onError))return;const _=k[0],x=this.skeleton;switch(C){case"compact-short":case"compact-long":case"notation-simple":this.assertEmpty("notation"),x.notation={style:C};break;case"scientific":case"engineering":{let X,S=null;for(const ce of k)switch(ce){case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":X=ce;break;default:/^\+e+$/.test(ce)?S=ce.length-1:this.badOption(C,ce)}this.assertEmpty("notation");const Rt=k.join("/");x.notation=S&&X?{style:C,source:Rt,expDigits:S,expSign:X}:S?{style:C,source:Rt,expDigits:S}:X?{style:C,source:Rt,expSign:X}:{style:C,source:Rt};break}case"percent":case"permille":case"base-unit":this.assertEmpty("unit"),x.unit={style:C};break;case"currency":/^[A-Z]{3}$/.test(_)?(this.assertEmpty("unit"),x.unit={style:C,currency:_}):this.badOption(C,_);break;case"measure-unit":r1(_)?(this.assertEmpty("unit"),x.unit={style:C,unit:_}):this.badOption(C,_);break;case"per-measure-unit":r1(_)?(this.assertEmpty("unitPer"),x.unitPer=_):this.badOption(C,_);break;case"unit-width-narrow":case"unit-width-short":case"unit-width-full-name":case"unit-width-iso-code":case"unit-width-hidden":this.assertEmpty("unitWidth"),x.unitWidth=C;break;case"precision-integer":case"precision-unlimited":case"precision-currency-cash":this.assertEmpty("precision"),x.precision={style:C};break;case"precision-currency-standard":this.assertEmpty("precision"),x.precision="w"===_?{style:C,trailingZero:"stripIfInteger"}:{style:C};break;case"precision-increment":{const S=Number(_);S>0?(this.assertEmpty("precision"),x.precision={style:C,increment:S}):this.badOption(C,_);break}case"rounding-mode-ceiling":case"rounding-mode-floor":case"rounding-mode-down":case"rounding-mode-up":case"rounding-mode-half-even":case"rounding-mode-half-odd":case"rounding-mode-half-ceiling":case"rounding-mode-half-floor":case"rounding-mode-half-down":case"rounding-mode-half-up":case"rounding-mode-unnecessary":this.assertEmpty("roundingMode"),x.roundingMode=C;break;case"integer-width":if(/^\+0*$/.test(_))this.assertEmpty("integerWidth"),x.integerWidth={source:_,min:_.length-1};else{const S=_.match(/^#*(0*)$/);S?(this.assertEmpty("integerWidth"),x.integerWidth={source:_,min:S[1].length,max:S[0].length}):this.badOption(C,_)}break;case"scale":{const S=Number(_);S>0?(this.assertEmpty("scale"),x.scale=S):this.badOption(C,_);break}case"group-off":case"group-min2":case"group-auto":case"group-on-aligned":case"group-thousands":this.assertEmpty("group"),x.group=C;break;case"latin":this.assertEmpty("numberingSystem"),x.numberingSystem="latn";break;case"numbering-system":!function Be(v){return-1!==["arab","arabext","bali","beng","deva","fullwide","gujr","guru","hanidec","khmr","knda","laoo","latn","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt"].indexOf(v)}(_)?this.badOption(C,_):(this.assertEmpty("numberingSystem"),x.numberingSystem=_);break;case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":this.assertEmpty("sign"),x.sign=C;break;case"decimal-auto":case"decimal-always":this.assertEmpty("decimal"),x.decimal=C;break;default:{const S=function Dt(v,C,k){const _=It(v,"fraction");if(_){C.length>1&&k(new Yt(v,C,1));const S={style:"precision-fraction",source:v,minFraction:_.min};null!=_.max&&(S.maxFraction=_.max);const X=C[0],Rt=It(X,"significant");return Rt?(S.source=`${v}/${X}`,S.minSignificant=Rt.min,null!=Rt.max&&(S.maxSignificant=Rt.max)):X&&k(new q(v,X)),S}const x=It(v,"significant");if(x){for(const X of C)k(new q(v,X));const S={style:"precision-fraction",source:v,minSignificant:x.min};return null!=x.max&&(S.maxSignificant=x.max),S}return null}(C,k,this.onError);S?(this.assertEmpty("precision"),x.precision=S):this.onError(new re(C))}}}}function t1(v){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x=>{throw x};const k=[];for(const x of v.split(" "))if(x){const S=x.split("/"),X=S.shift()||"";k.push({stem:X,options:S})}const _=new ze(C);for(const{stem:x,options:S}of k)_.parseToken(x,S);return _.skeleton}function z1(v,C,k,_){"string"==typeof C&&(C=0===C.indexOf("::")?t1(C.slice(2),_):$e(C,k,_));const x=Mt(v,C),S=B(C,_),X=function Ge(v){const C=be(v),{precision:k}=v;return k&&"precision-increment"===k.style?_=>function He(v,C){const k=+v+C/2;return k-k%+C}(_,k.increment)*C:_=>_*C}(C),Rt=new Intl.NumberFormat(x,S);if(C.affix){const[ce,Ne]=C.affix.pos,[m1,X1]=C.affix.neg||["",""];return J1=>{const e1=Rt.format(X(J1));return J1<0?`${m1}${e1}${X1}`:`${ce}${e1}${Ne}`}}return ce=>Rt.format(X(ce))}function T1(v,C,k,_){"string"==typeof C&&(C=0===C.indexOf("::")?t1(C.slice(2),_):$e(C,k,_));const x=Mt(v,C),S=B(C,_),X=function Ie(v){const C=be(v),{precision:k}=v;if(k&&"precision-increment"===k.style){let x=`x - (x % +${k.increment})`;return 1!==C&&(x=`(${x}) * ${C}`),`function(n) { var x = ${"+n + "+k.increment/2}; return ${x}; }`}return 1!==C?`function(n) { return n * ${C}; }`:null}(C),Rt=["(function() {",`var opt = ${JSON.stringify(S)};`,`var nf = new Intl.NumberFormat(${JSON.stringify(x)}, opt);`];let ce="nf.format(value)";if(X&&(Rt.push(`var mod = ${X};`),ce="nf.format(mod(value))"),C.affix){const[Ne,m1]=C.affix.pos.map(X1=>JSON.stringify(X1));if(C.affix.neg){const[X1,J1]=C.affix.neg.map(e1=>JSON.stringify(e1));ce=`value < 0 ? ${X1} + ${ce} + ${J1} : ${Ne} + ${ce} + ${m1}`}else ce=`${Ne} + ${ce} + ${m1}`}return Rt.push(`return function(value) { return ${ce}; }`),Rt.join("\n  ")+"\n})()"}var l1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function c1(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}var v,C,k,P1={},$1={},Fr={exports:{}};C=l1,k=function(){var C=Object.prototype.hasOwnProperty,k=Object.prototype.toString,_="boolean"==typeof(new RegExp).sticky;function x(me){return me&&"[object RegExp]"===k.call(me)}function S(me){return me&&"object"==typeof me&&!x(me)&&!Array.isArray(me)}function Rt(me){return new RegExp("|"+me).exec("").length-1}function ce(me){return"("+me+")"}function Ne(me){return me.length?"(?:"+me.map(function(w1){return"(?:"+w1+")"}).join("|")+")":"(?!)"}function m1(me){if("string"==typeof me)return"(?:"+function X(me){return me.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(me)+")";if(x(me)){if(me.ignoreCase)throw new Error("RegExp /i flag not allowed");if(me.global)throw new Error("RegExp /g flag is implied");if(me.sticky)throw new Error("RegExp /y flag is implied");if(me.multiline)throw new Error("RegExp /m flag is implied");return me.source}throw new Error("Not a pattern: "+me)}function X1(me,Xe){return me.length>Xe?me:Array(Xe-me.length+1).join(" ")+me}function En(me,Xe){if(S(Xe)||(Xe={match:Xe}),Xe.include)throw new Error("Matching rules cannot also include states");var w1={defaultType:me,lineBreaks:!!Xe.error||!!Xe.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var E1 in Xe)C.call(Xe,E1)&&(w1[E1]=Xe[E1]);if("string"==typeof w1.type&&me!==w1.type)throw new Error("Type transform cannot be a string (type '"+w1.type+"' for token '"+me+"')");var Q1=w1.match;return w1.match=Array.isArray(Q1)?Q1:Q1?[Q1]:[],w1.match.sort(function(N1,wr){return x(N1)&&x(wr)?0:x(wr)?-1:x(N1)?1:wr.length-N1.length}),w1}function eo(me){return Array.isArray(me)?function ln(me){for(var Xe=[],w1=0;w1<me.length;w1++){var E1=me[w1];if(E1.include)for(var Q1=[].concat(E1.include),N1=0;N1<Q1.length;N1++)Xe.push({include:Q1[N1]});else{if(!E1.type)throw new Error("Rule has no type: "+JSON.stringify(E1));Xe.push(En(E1.type,E1))}}return Xe}(me):function e1(me){for(var Xe=Object.getOwnPropertyNames(me),w1=[],E1=0;E1<Xe.length;E1++){var Q1=Xe[E1],wr=[].concat(me[Q1]);if("include"!==Q1){var Sr=[];wr.forEach(function(K1){S(K1)?(Sr.length&&w1.push(En(Q1,Sr)),w1.push(En(Q1,K1)),Sr=[]):Sr.push(K1)}),Sr.length&&w1.push(En(Q1,Sr))}else for(var An=0;An<wr.length;An++)w1.push({include:wr[An]})}return w1}(me)}var r2=En("error",{lineBreaks:!0,shouldThrow:!0});function as(me,Xe){for(var w1=null,E1=Object.create(null),Q1=!0,N1=null,wr=[],An=[],Sr=0;Sr<me.length;Sr++)me[Sr].fallback&&(Q1=!1);for(Sr=0;Sr<me.length;Sr++){var K1=me[Sr];if(K1.include)throw new Error("Inheritance is not allowed in stateless lexers");if(K1.error||K1.fallback){if(w1)throw!K1.fallback==!w1.fallback?new Error("Multiple "+(K1.fallback?"fallback":"error")+" rules not allowed (for token '"+K1.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+K1.defaultType+"')");w1=K1}var Yo=K1.match.slice();if(Q1)for(;Yo.length&&"string"==typeof Yo[0]&&1===Yo[0].length;)E1[Yo.shift().charCodeAt(0)]=K1;if(K1.pop||K1.push||K1.next){if(!Xe)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+K1.defaultType+"')");if(K1.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+K1.defaultType+"')")}if(0!==Yo.length){Q1=!1,wr.push(K1);for(var cs=0;cs<Yo.length;cs++){var Mo=Yo[cs];if(x(Mo))if(null===N1)N1=Mo.unicode;else if(N1!==Mo.unicode&&!1===K1.fallback)throw new Error("If one rule is /u then all must be")}var Eo=Ne(Yo.map(m1)),hs=new RegExp(Eo);if(hs.test(""))throw new Error("RegExp matches empty string: "+hs);if(Rt(Eo)>0)throw new Error("RegExp has capture groups: "+hs+"\nUse (?: \u2026 ) instead");if(!K1.lineBreaks&&hs.test("\n"))throw new Error("Rule should declare lineBreaks: "+hs);An.push(ce(Eo))}}var Ca=w1&&w1.fallback,H5=_&&!Ca?"ym":"gm",Z4=_||Ca?"":"|";return!0===N1&&(H5+="u"),{regexp:new RegExp(Ne(An)+Z4,H5),groups:wr,fast:E1,error:w1||r2}}function yi(me,Xe,w1){var E1=me&&(me.push||me.next);if(E1&&!w1[E1])throw new Error("Missing state '"+E1+"' (in token '"+me.defaultType+"' of state '"+Xe+"')");if(me&&me.pop&&1!=+me.pop)throw new Error("pop must be 1 (in token '"+me.defaultType+"' of state '"+Xe+"')")}var ro=function(me,Xe){this.startState=Xe,this.states=me,this.buffer="",this.stack=[],this.reset()};ro.prototype.reset=function(me,Xe){return this.buffer=me||"",this.index=0,this.line=Xe?Xe.line:1,this.col=Xe?Xe.col:1,this.queuedToken=Xe?Xe.queuedToken:null,this.queuedText=Xe?Xe.queuedText:"",this.queuedThrow=Xe?Xe.queuedThrow:null,this.setState(Xe?Xe.state:this.startState),this.stack=Xe&&Xe.stack?Xe.stack.slice():[],this},ro.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},ro.prototype.setState=function(me){if(me&&this.state!==me){this.state=me;var Xe=this.states[me];this.groups=Xe.groups,this.error=Xe.error,this.re=Xe.regexp,this.fast=Xe.fast}},ro.prototype.popState=function(){this.setState(this.stack.pop())},ro.prototype.pushState=function(me){this.stack.push(this.state),this.setState(me)};var wa=_?function(me,Xe){return me.exec(Xe)}:function(me,Xe){var w1=me.exec(Xe);return 0===w1[0].length?null:w1};function O4(){return this.value}if(ro.prototype._getGroup=function(me){for(var Xe=this.groups.length,w1=0;w1<Xe;w1++)if(void 0!==me[w1+1])return this.groups[w1];throw new Error("Cannot find token type for matched text")},ro.prototype.next=function(){var me=this.index;if(this.queuedGroup){var Xe=this._token(this.queuedGroup,this.queuedText,me);return this.queuedGroup=null,this.queuedText="",Xe}var w1=this.buffer;if(me!==w1.length){if(wr=this.fast[w1.charCodeAt(me)])return this._token(wr,w1.charAt(me),me);var E1=this.re;E1.lastIndex=me;var Q1=wa(E1,w1),N1=this.error;if(null==Q1)return this._token(N1,w1.slice(me,w1.length),me);var wr=this._getGroup(Q1),An=Q1[0];return N1.fallback&&Q1.index!==me?(this.queuedGroup=wr,this.queuedText=An,this._token(N1,w1.slice(me,Q1.index),me)):this._token(wr,An,me)}},ro.prototype._token=function(me,Xe,w1){var E1=0;if(me.lineBreaks){var Q1=/\n/g,N1=1;if("\n"===Xe)E1=1;else for(;Q1.exec(Xe);)E1++,N1=Q1.lastIndex}var wr={type:"function"==typeof me.type&&me.type(Xe)||me.defaultType,value:"function"==typeof me.value?me.value(Xe):Xe,text:Xe,toString:O4,offset:w1,lineBreaks:E1,line:this.line,col:this.col},An=Xe.length;if(this.index+=An,this.line+=E1,0!==E1?this.col=An-N1+1:this.col+=An,me.shouldThrow)throw new Error(this.formatError(wr,"invalid syntax"));return me.pop?this.popState():me.push?this.pushState(me.push):me.next&&this.setState(me.next),wr},typeof Symbol<"u"&&Symbol.iterator){var tl=function(me){this.lexer=me};tl.prototype.next=function(){var me=this.lexer.next();return{value:me,done:!me}},tl.prototype[Symbol.iterator]=function(){return this},ro.prototype[Symbol.iterator]=function(){return new tl(this)}}return ro.prototype.formatError=function(me,Xe){if(null==me){var w1=this.buffer.slice(this.index);me={text:w1,offset:this.index,lineBreaks:-1===w1.indexOf("\n")?0:1,line:this.line,col:this.col}}var Q1=Math.max(me.line-2,1),wr=String(me.line+2).length,An=function J1(me,Xe){for(var w1=me.length,E1=0;;){var Q1=me.lastIndexOf("\n",w1-1);if(-1===Q1||(w1=Q1,++E1===Xe)||0===w1)break}return me.substring(E1<Xe?0:w1+1).split("\n")}(this.buffer,this.line-me.line+2+1).slice(0,5),Sr=[];Sr.push(Xe+" at line "+me.line+" col "+me.col+":"),Sr.push("");for(var K1=0;K1<An.length;K1++){var Yo=An[K1],el=Q1+K1;Sr.push(X1(String(el),wr)+"  "+Yo),el===me.line&&Sr.push(X1("",wr+me.col+1)+"^")}return Sr.join("\n")},ro.prototype.clone=function(){return new ro(this.states,this.state)},ro.prototype.has=function(me){return!0},{compile:function Ji(me){var Xe=as(eo(me));return new ro({start:Xe},"start")},states:function Ls(me,Xe){var w1=me.$all?eo(me.$all):[];delete me.$all;var E1=Object.getOwnPropertyNames(me);Xe||(Xe=E1[0]);for(var Q1=Object.create(null),N1=0;N1<E1.length;N1++)Q1[wr=E1[N1]]=eo(me[wr]).concat(w1);for(N1=0;N1<E1.length;N1++)for(var An=Q1[wr=E1[N1]],Sr=Object.create(null),K1=0;K1<An.length;K1++){var Yo=An[K1];if(Yo.include){var el=[K1,1];if(Yo.include!==wr&&!Sr[Yo.include]){Sr[Yo.include]=!0;var cs=Q1[Yo.include];if(!cs)throw new Error("Cannot include nonexistent state '"+Yo.include+"' (in state '"+wr+"')");for(var Mo=0;Mo<cs.length;Mo++){var Eo=cs[Mo];-1===An.indexOf(Eo)&&el.push(Eo)}}An.splice.apply(An,el),K1--}}var hs=Object.create(null);for(N1=0;N1<E1.length;N1++){var wr;hs[wr=E1[N1]]=as(Q1[wr],!0)}for(N1=0;N1<E1.length;N1++){var b5=E1[N1],Ca=hs[b5],H5=Ca.groups;for(K1=0;K1<H5.length;K1++)yi(H5[K1],b5,hs);var Z4=Object.getOwnPropertyNames(Ca.fast);for(K1=0;K1<Z4.length;K1++)yi(Ca.fast[Z4[K1]],b5,hs)}return new ro(hs,Xe)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function Qi(me){for(var Xe=typeof Map<"u",w1=Xe?new Map:Object.create(null),E1=Object.getOwnPropertyNames(me),Q1=0;Q1<E1.length;Q1++){var N1=E1[Q1],wr=me[N1];(Array.isArray(wr)?wr:[wr]).forEach(function(Sr){if("string"!=typeof Sr)throw new Error("keyword must be string (in keyword '"+N1+"')");Xe?w1.set(Sr,N1):w1[Sr]=N1})}return function(Sr){return Xe?w1.get(Sr):w1[Sr]}}}},(v=Fr).exports?v.exports=k():C.moo=k();var kn=Fr.exports;(function(v){var C=l1&&l1.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(v,"__esModule",{value:!0}),v.lexer=v.states=void 0;const k=C(kn);v.states={body:{doubleapos:{match:"''",value:()=>"'"},quoted:{lineBreaks:!0,match:/'[{}#](?:[^]*?[^'])?'(?!')/u,value:_=>_.slice(1,-1).replace(/''/g,"'")},argument:{lineBreaks:!0,match:/\{\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,push:"arg",value:_=>_.substring(1).trim()},octothorpe:"#",end:{match:"}",pop:1},content:{lineBreaks:!0,match:/[^][^{}#']*/u}},arg:{select:{lineBreaks:!0,match:/,\s*(?:plural|select|selectordinal)\s*,\s*/u,next:"select",value:_=>_.split(",")[1].trim()},"func-args":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*,/u,next:"body",value:_=>_.split(",")[1].trim()},"func-simple":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,value:_=>_.substring(1).trim()},end:{match:"}",pop:1}},select:{offset:{lineBreaks:!0,match:/\s*offset\s*:\s*\d+\s*/u,value:_=>_.split(":")[1].trim()},case:{lineBreaks:!0,match:/\s*(?:=\d+|[^\p{Pat_Syn}\p{Pat_WS}]+)\s*\{/u,push:"body",value:_=>_.substring(0,_.indexOf("{")).trim()},end:{match:/\s*\}/u,pop:1}}},v.lexer=k.default.states(v.states)})($1),Object.defineProperty(P1,"__esModule",{value:!0});var T=P1.parse=P1.ParseError=void 0;const M=$1,b=v=>({offset:v.offset,line:v.line,col:v.col,text:v.text,lineBreaks:v.lineBreaks}),U=v=>"plural"===v||"select"===v||"selectordinal"===v;const se=["number","date","time","spellout","ordinal","duration"],ve=["zero","one","two","few","many","other"];class a1 extends Error{constructor(C,k){super(M.lexer.formatError(C,k))}}P1.ParseError=a1;class Tt{constructor(C,k){var _,x,S,X;this.lexer=M.lexer.reset(C),this.cardinalKeys=null!==(_=k?.cardinal)&&void 0!==_?_:ve,this.ordinalKeys=null!==(x=k?.ordinal)&&void 0!==x?x:ve,this.strict=null!==(S=k?.strict)&&void 0!==S&&S,this.strictPluralKeys=null===(X=k?.strictPluralKeys)||void 0===X||X}parse(){return this.parseBody(!1,!0)}checkSelectKey(C,k,_){if("="===_[0]){if("select"===k)throw new a1(C,`The case ${_} is not valid with select`)}else if("select"!==k){const x="plural"===k?this.cardinalKeys:this.ordinalKeys;if(this.strictPluralKeys&&x.length>0&&!x.includes(_))throw new a1(C,`The ${k} case ${_} is not valid in this locale`)}}parseSelect(C,k,_,x){let{value:S}=C;const X={type:x,arg:S,cases:[],ctx:_};"plural"===x||"selectordinal"===x?k=!0:this.strict&&(k=!1);for(const Rt of this.lexer)switch(Rt.type){case"offset":if("select"===x)throw new a1(Rt,"Unexpected plural offset for select");if(X.cases.length>0)throw new a1(Rt,"Plural offset must be set before cases");X.pluralOffset=Number(Rt.value),_.text+=Rt.text,_.lineBreaks+=Rt.lineBreaks;break;case"case":this.checkSelectKey(Rt,x,Rt.value),X.cases.push({key:Rt.value,tokens:this.parseBody(k),ctx:b(Rt)});break;case"end":return X;default:throw new a1(Rt,`Unexpected lexer token: ${Rt.type}`)}throw new a1(null,"Unexpected message end")}parseArgToken(C,k){const _=b(C),x=this.lexer.next();if(!x)throw new a1(null,"Unexpected message end");if(_.text+=x.text,_.lineBreaks+=x.lineBreaks,this.strict&&("func-simple"===x.type||"func-args"===x.type)&&!se.includes(x.value))throw new a1(C,`Invalid strict mode function arg type: ${x.value}`);switch(x.type){case"end":return{type:"argument",arg:C.value,ctx:_};case"func-simple":{const S=this.lexer.next();if(!S)throw new a1(null,"Unexpected message end");if("end"!==S.type)throw new a1(S,`Unexpected lexer token: ${S.type}`);if(_.text+=S.text,U(x.value.toLowerCase()))throw new a1(x,`Invalid type identifier: ${x.value}`);return{type:"function",arg:C.value,key:x.value,ctx:_}}case"func-args":{if(U(x.value.toLowerCase()))throw new a1(x,`Invalid type identifier: ${x.value}`);let S=this.parseBody(!this.strict&&k);return this.strict&&S.length>0&&(S=function zt(v,C){let k="",_="";for(const S of C){const X=S.ctx.text;switch(_+=X,S.type){case"content":k+=S.value;break;case"argument":case"function":case"octothorpe":k+=X;break;default:throw new a1(v,`Unsupported part in strict mode function arg style: ${X}`)}}return[{type:"content",value:k.trim(),ctx:Object.assign({},C[0].ctx,{text:_})}]}(C,S)),{type:"function",arg:C.value,key:x.value,param:S,ctx:_}}case"select":if(U(x.value))return this.parseSelect(C,k,_,x.value);throw new a1(x,`Unexpected select type ${x.value}`);default:throw new a1(x,`Unexpected lexer token: ${x.type}`)}}parseBody(C,k){const _=[];let x=null;for(const S of this.lexer)if("argument"===S.type)x&&(x=null),_.push(this.parseArgToken(S,C));else if("octothorpe"===S.type&&C)x&&(x=null),_.push({type:"octothorpe",ctx:b(S)});else{if("end"===S.type&&!k)return _;{let X=S.value;if(!C&&"quoted"===S.type&&"#"===X[0]){if(X.includes("{"))throw new a1(S,`Unsupported escape pattern: ${X}`);X=S.text}x?(x.value+=X,x.ctx.text+=S.text,x.ctx.lineBreaks+=S.lineBreaks):(x={type:"content",value:X,ctx:b(S)},_.push(x))}}if(k)return _;throw new a1(null,"Unexpected message end")}}function ct(v){return ct[v]||(ct[v]=new Intl.NumberFormat(v))}T=P1.parse=function Nt(v){return new Tt(v,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).parse()};var R1=Object.freeze({__proto__:null,_nf:ct,number:function St(v,C,k){return ct(v).format(C-k)},plural:function ue(v,C,k,_,x){if({}.hasOwnProperty.call(_,v))return _[v];C&&(v-=C);var S=k(v,x);return S in _?_[S]:_.other},reqArgs:function I1(v,C){for(var k=0;k<v.length;++k)if(!C||void 0===C[v[k]])throw new Error("Message requires argument '".concat(v[k],"'"))},select:function Ke(v,C){return{}.hasOwnProperty.call(C,v)?C[v]:C.other},strictNumber:function fe(v,C,k,_){var x=C-k;if(isNaN(x))throw new Error("`"+_+"` or its offset is not a number");return ct(v).format(x)}});var gr={};function jr(v,C){var k=String(v)+JSON.stringify(C);return gr[k]||(gr[k]=new Intl.NumberFormat(v,C)),gr[k]}var nn=Object.freeze({__proto__:null,date:function v1(v,C,k){var _={day:"numeric",month:"short",year:"numeric"};switch(k){case"full":_.weekday="long";case"long":_.month="long";break;case"short":_.month="numeric"}return new Date(v).toLocaleDateString(C,_)},duration:function _r(v){if("number"!=typeof v&&(v=Number(v)),!isFinite(v))return String(v);var C="";v<0?(C="-",v=Math.abs(v)):v=Number(v);var k=v%60,_=[Math.round(k)===k?k:k.toFixed(3)];return v<60?_.unshift(0):(v=Math.round((v-Number(_[0]))/60),_.unshift(v%60),v>=60&&(v=Math.round((v-Number(_[0]))/60),_.unshift(v))),C+_.shift()+":"+_.map(function(S){return Number(S)<10?"0"+String(S):String(S)}).join(":")},numberCurrency:function(v,C,k){return jr(C,{style:"currency",currency:k,minimumFractionDigits:2,maximumFractionDigits:2}).format(v)},numberFmt:function oo(v,C,k,_){var x=k&&k.split(":")||[],S=x[0],X=x[1];return jr(C,{integer:{maximumFractionDigits:0},percent:{style:"percent"},currency:{style:"currency",currency:X&&X.trim()||_,minimumFractionDigits:2,maximumFractionDigits:2}}[S]||{}).format(v)},numberInteger:function(v,C){return jr(C,{maximumFractionDigits:0}).format(v)},numberPercent:function(v,C){return jr(C,{style:"percent"}).format(v)},time:function Fs(v,C,k){var _={second:"numeric",minute:"numeric",hour:"numeric"};switch(k){case"full":case"long":_.timeZoneName="short";break;case"short":delete _.second}return new Date(v).toLocaleTimeString(C,_)}}),le=c1({ES3:{break:!0,continue:!0,delete:!0,else:!0,for:!0,function:!0,if:!0,in:!0,new:!0,return:!0,this:!0,typeof:!0,var:!0,void:!0,while:!0,with:!0,case:!0,catch:!0,default:!0,do:!0,finally:!0,instanceof:!0,switch:!0,throw:!0,try:!0},ESnext:{await:!0,debugger:!0,class:!0,enum:!0,extends:!0,super:!0,const:!0,export:!0,import:!0,null:!0,true:!0,false:!0,implements:!0,let:!0,private:!0,public:!0,yield:!0,interface:!0,package:!0,protected:!0,static:!0}});function ne(v,C){C&&(v+=" "+function Re(v){let C=0;for(let k=0;k<v.length;++k)C=(C<<5)-C+v.charCodeAt(k),C|=0;return C}(v).toString(36));const k=v.trim().replace(/\W+/g,"_");return le.ES3[k]||le.ESnext[k]||/^\d/.test(k)?"_"+k:k}function nr(v,C){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(C)&&!le.ES3[C])return v?v+"."+C:C;{const k=JSON.stringify(C);return v?v+"["+k+"]":k}}var Lr=new RegExp("^"+["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"].join("|^"));var Pn="@messageformat/runtime/lib/plurals",Jn=function(){function v(C){this.arguments=[],this.runtime={},this.options=C}return v.prototype.compile=function(C,k,_){var x,S,X=this,Rt=this.options,ce=Rt.localeCodeFromKey,Ne=Rt.requireAllArguments,m1=Rt.strict,X1=Rt.strictPluralKeys;if("object"==typeof C){var J1={};try{for(var e1=K(Object.keys(C)),ln=e1.next();!ln.done;ln=e1.next()){var En=ln.value,eo=ce?ce(En):En;J1[En]=this.compile(C[En],_&&eo&&_[eo]||k,_)}}catch(ro){x={error:ro}}finally{try{ln&&!ln.done&&(S=e1.return)&&S.call(e1)}finally{if(x)throw x.error}}return J1}this.plural=k;var as={cardinal:k.cardinals,ordinal:k.ordinals,strict:m1,strictPluralKeys:X1};this.arguments=[];var Ji=T(C,as).map(function(ro){return X.token(ro,null)}),yi=this.arguments.length>0,Ls=this.concatenate(Ji,!0);if(Ne&&yi){this.setRuntimeFn("reqArgs");var Qi=JSON.stringify(this.arguments);return"(d) => { reqArgs(".concat(Qi,", d); return ").concat(Ls,"; }")}return"(".concat(yi?"d":"",") => ").concat(Ls)},v.prototype.cases=function(C,k){var _=this,x=!0,S=C.cases.map(function(m1){var X1=m1.key;"other"===X1&&(x=!1);var e1=m1.tokens.map(function(ln){return _.token(ln,k)});return"".concat(nr(null,X1.replace(/^=/,"")),": ").concat(_.concatenate(e1,!1))});if(x){var X=C.type,Rt=this.plural,Ne=Rt.ordinals;if("select"===X||"plural"===X&&Rt.cardinals.includes("other")||"selectordinal"===X&&Ne.includes("other"))throw new Error("No 'other' form found in ".concat(JSON.stringify(C)))}return"{ ".concat(S.join(", ")," }")},v.prototype.concatenate=function(C,k){return"values"===this.options.returnType&&(k||C.length>1)?"["+C.join(", ")+"]":C.join(" + ")||'""'},v.prototype.token=function(C,k){if("content"===C.type)return JSON.stringify(C.value);var X,Rt,_=this.plural,x=_.id,S=_.lc;switch("arg"in C?(this.arguments.push(C.arg),X=[nr("d",C.arg)]):X=[],C.type){case"argument":return this.options.biDiSupport?function Mr(v,C){var k=Lr.test(C),_=JSON.stringify(k?"\u200f":"\u200e");return"".concat(_," + ").concat(v," + ").concat(_)}(String(X[0]),S):String(X[0]);case"select":Rt="select",k&&this.options.strict&&(k=null),X.push(this.cases(C,k)),this.setRuntimeFn("select");break;case"selectordinal":Rt="plural",X.push(C.pluralOffset||0,x,this.cases(C,C),1),this.setLocale(x,!0),this.setRuntimeFn("plural");break;case"plural":Rt="plural",X.push(C.pluralOffset||0,x,this.cases(C,C)),this.setLocale(x,!1),this.setRuntimeFn("plural");break;case"function":var ce=this.options.customFormatters[C.key],Ne=ce&&"module"in ce&&"function"==typeof ce.module;if(!ce){if("date"===C.key){Rt=this.setDateFormatter(C,X,k);break}if("number"===C.key){Rt=this.setNumberFormatter(C,X,k);break}}if(X.push(JSON.stringify(this.plural.locale)),C.param){k&&this.options.strict&&(k=null);var m1=this.getFormatterArg(C,k);m1&&X.push(m1)}Rt=Ne?ne("".concat(C.key,"__").concat(this.plural.locale)):C.key,this.setFormatter(Rt,C.key);break;case"octothorpe":if(!k)return'"#"';X=[JSON.stringify(this.plural.locale),nr("d",k.arg),k.pluralOffset||0],this.options.strict?(Rt="strictNumber",X.push(JSON.stringify(k.arg)),this.setRuntimeFn("strictNumber")):(Rt="number",this.setRuntimeFn("number"))}if(!Rt)throw new Error("Parser error for token "+JSON.stringify(C));return"".concat(Rt,"(").concat(X.join(", "),")")},v.prototype.runtimeIncludes=function(C,k){if(ne(C)!==C)throw new SyntaxError("Reserved word used as ".concat(k," identifier: ").concat(C));var _=this.runtime[C];if(!_||_.type===k)return _;throw new TypeError("Cannot override ".concat(_.type," runtime function as ").concat(k,": ").concat(C))},v.prototype.setLocale=function(C,k){var ce,Ne,m1,_=this.runtimeIncludes(C,"locale"),x=this.plural,S=x.getCardinal,X=x.getPlural,Rt=x.isDefault;if(!k&&Rt&&S){if(_)return;ce=function(X1){return S(X1)},Ne="@messageformat/runtime/lib/cardinals",m1=function(){return String(S)}}else{if(_&&(!Rt||_.module===Pn))return;ce=function(X1,J1){return X(X1,J1)},Ne=Rt?Pn:X.module||null,m1=function(){return String(X)}}this.runtime[C]=Object.assign(ce,{id:C,module:Ne,toString:m1,type:"locale"})},v.prototype.setRuntimeFn=function(C){this.runtimeIncludes(C,"runtime")||(this.runtime[C]=Object.assign(R1[C],{id:C,module:"@messageformat/runtime",type:"runtime"}))},v.prototype.getFormatterArg=function(C,k){var _,x,S,X,Rt=this,ce=C.key,Ne=C.param,m1=this.options.customFormatters[ce]||Co(ce)&&nn[ce];if(!m1||!Ne)return null;var X1="arg"in m1&&m1.arg||"string";if("options"===X1){var J1="";try{for(var e1=K(Ne),ln=e1.next();!ln.done;ln=e1.next()){var En=ln.value;if("content"!==En.type)throw new SyntaxError("Expected literal options for ".concat(ce," formatter"));J1+=En.value}}catch(tl){_={error:tl}}finally{try{ln&&!ln.done&&(x=e1.return)&&x.call(e1)}finally{if(_)throw _.error}}var eo={};try{for(var r2=K(J1.split(",")),as=r2.next();!as.done;as=r2.next()){var Ji=as.value,yi=Ji.indexOf(":");if(-1===yi)eo[Ji.trim()]=null;else{var Ls=Ji.substring(0,yi).trim(),Qi=Ji.substring(yi+1).trim();if("true"===Qi)eo[Ls]=!0;else if("false"===Qi)eo[Ls]=!1;else if("null"===Qi)eo[Ls]=null;else{var ro=Number(Qi);eo[Ls]=Number.isFinite(ro)?ro:Qi}}}}catch(tl){S={error:tl}}finally{try{as&&!as.done&&(X=r2.return)&&X.call(r2)}finally{if(S)throw S.error}}return JSON.stringify(eo)}var wa=Ne.map(function(tl){return Rt.token(tl,k)});if("raw"===X1)return"[".concat(wa.join(", "),"]");var O4=wa.join(" + ");return O4?"(".concat(O4,").trim()"):'""'},v.prototype.setFormatter=function(C,k){if(!this.runtimeIncludes(C,"formatter")){var _=this.options.customFormatters[k||C];if(_){var x="function"==typeof _?{formatter:_}:_;this.runtime[C]=Object.assign(x.formatter.bind({}),ee(ee({},x.formatter.prototype),{toString:function(){return String(x.formatter)}}),{type:"formatter"},"module"in _&&_.module&&_.id?{id:ne(_.id),module:"function"==typeof _.module?_.module(this.plural.locale):_.module}:{id:null,module:null})}else{if(!Co(C))throw new Error("Formatting function not found: ".concat(C));this.runtime[C]=Object.assign(nn[C],{type:"formatter"},{id:C,module:"@messageformat/runtime/lib/formatters"})}}},v.prototype.setDateFormatter=function(C,k,_){var x=this,S=C.param,X=this.plural.locale,Rt=S&&1===S.length&&S[0];if(Rt&&"content"===Rt.type&&/^\s*::/.test(Rt.value)){var ce=Rt.value.trim().substr(2),Ne=ne("date_".concat(X,"_").concat(ce),!0);if(!this.runtimeIncludes(Ne,"formatter")){var m1=function at(v,C,k,_){"string"==typeof C&&(C=E(C)),"function"==typeof k&&(_=k,k=void 0);const x=W(C,k,_),S=new Intl.DateTimeFormat(v,x);return X=>S.format(X)}(X,ce,this.options.timeZone);this.runtime[Ne]=Object.assign(m1,{id:Ne,module:null,toString:function(){return function ut(v,C,k,_){"string"==typeof C&&(C=E(C)),"function"==typeof k&&(_=k,k=void 0);const x=W(C,k,_);return["(function() {",`var opt = ${JSON.stringify(x)};`,`var dtf = new Intl.DateTimeFormat(${JSON.stringify(v)}, opt);`,"return function(value) { return dtf.format(value); }"].join("\n  ")+"\n})()"}(X,ce,x.options.timeZone)},type:"formatter"})}return Ne}if(k.push(JSON.stringify(X)),S&&S.length>0){_&&this.options.strict&&(_=null);var X1=S.map(function(J1){return x.token(J1,_)});k.push("("+(X1.join(" + ")||'""')+").trim()")}return this.setFormatter("date"),"date"},v.prototype.setNumberFormatter=function(C,k,_){var x=this,S=C.param,X=this.plural.locale;if(!S||0===S.length)return k.unshift(JSON.stringify(X)),k.push("0"),this.setRuntimeFn("number"),"number";if(k.push(JSON.stringify(X)),1===S.length&&"content"===S[0].type){var Rt=S[0].value.trim();switch(Rt){case"currency":return k.push(JSON.stringify(this.options.currency)),this.setFormatter("numberCurrency"),"numberCurrency";case"integer":return this.setFormatter("numberInteger"),"numberInteger";case"percent":return this.setFormatter("numberPercent"),"numberPercent"}var ce=Rt.match(/^currency:([A-Z]+)$/);if(ce)return k.push(JSON.stringify(ce[1])),this.setFormatter("numberCurrency"),"numberCurrency";var Ne=ne("number_".concat(X,"_").concat(Rt),!0);if(!this.runtimeIncludes(Ne,"formatter")){var m1=this.options.currency,X1=z1(X,Rt,m1);this.runtime[Ne]=Object.assign(X1,{id:null,module:null,toString:function(){return T1(X,Rt,m1)},type:"formatter"})}return Ne}_&&this.options.strict&&(_=null);var J1=S.map(function(e1){return x.token(e1,_)});return k.push("("+(J1.join(" + ")||'""')+").trim()"),k.push(JSON.stringify(this.options.currency)),this.setFormatter("numberFmt"),"numberFmt"},v}();function Co(v){return v in nn}const De=v=>1==v?"one":"other",Ir=v=>0==v||1==v?"one":"other",Qn=v=>v>=0&&v<=1?"one":"other",Hn=v=>{const C=String(v).split(".");return 1!=v||C[1]?"other":"one"},h1=v=>"other",N2=v=>1==v?"one":2==v?"two":"other";var xs=Object.freeze({__proto__:null,af:De,ak:Ir,am:Qn,an:De,ar:v=>{const C=String(v).split("."),_=Number(C[0])==v&&C[0].slice(-2);return 0==v?"zero":1==v?"one":2==v?"two":_>=3&&_<=10?"few":_>=11&&_<=99?"many":"other"},ars:v=>{const C=String(v).split("."),_=Number(C[0])==v&&C[0].slice(-2);return 0==v?"zero":1==v?"one":2==v?"two":_>=3&&_<=10?"few":_>=11&&_<=99?"many":"other"},as:Qn,asa:De,ast:Hn,az:De,bal:De,be:v=>{const C=String(v).split("."),k=Number(C[0])==v,_=k&&C[0].slice(-1),x=k&&C[0].slice(-2);return 1==_&&11!=x?"one":_>=2&&_<=4&&(x<12||x>14)?"few":k&&0==_||_>=5&&_<=9||x>=11&&x<=14?"many":"other"},bem:De,bez:De,bg:De,bho:Ir,bm:h1,bn:Qn,bo:h1,br:v=>{const C=String(v).split("."),k=Number(C[0])==v,_=k&&C[0].slice(-1),x=k&&C[0].slice(-2),S=k&&C[0].slice(-6);return 1==_&&11!=x&&71!=x&&91!=x?"one":2==_&&12!=x&&72!=x&&92!=x?"two":(3==_||4==_||9==_)&&(x<10||x>19)&&(x<70||x>79)&&(x<90||x>99)?"few":0!=v&&k&&0==S?"many":"other"},brx:De,bs:v=>{const C=String(v).split("."),k=C[0],_=C[1]||"",x=!C[1],S=k.slice(-1),X=k.slice(-2),Rt=_.slice(-1),ce=_.slice(-2);return x&&1==S&&11!=X||1==Rt&&11!=ce?"one":x&&S>=2&&S<=4&&(X<12||X>14)||Rt>=2&&Rt<=4&&(ce<12||ce>14)?"few":"other"},ca:v=>{const C=String(v).split("."),k=C[0],_=!C[1],x=k.slice(-6);return 1==v&&_?"one":0!=k&&0==x&&_?"many":"other"},ce:De,ceb:v=>{const C=String(v).split("."),k=C[0],_=C[1]||"",x=!C[1],S=k.slice(-1),X=_.slice(-1);return x&&(1==k||2==k||3==k)||x&&4!=S&&6!=S&&9!=S||!x&&4!=X&&6!=X&&9!=X?"one":"other"},cgg:De,chr:De,ckb:De,cs:v=>{const C=String(v).split("."),k=C[0],_=!C[1];return 1==v&&_?"one":k>=2&&k<=4&&_?"few":_?"other":"many"},cy:v=>0==v?"zero":1==v?"one":2==v?"two":3==v?"few":6==v?"many":"other",da:v=>{const C=String(v).split("."),k=C[0],_=Number(C[0])==v;return 1!=v&&(_||0!=k&&1!=k)?"other":"one"},de:Hn,doi:Qn,dsb:v=>{const C=String(v).split("."),_=C[1]||"",x=!C[1],S=C[0].slice(-2),X=_.slice(-2);return x&&1==S||1==X?"one":x&&2==S||2==X?"two":x&&(3==S||4==S)||3==X||4==X?"few":"other"},dv:De,dz:h1,ee:De,el:De,en:Hn,eo:De,es:v=>{const C=String(v).split("."),k=C[0],_=!C[1],x=k.slice(-6);return 1==v?"one":0!=k&&0==x&&_?"many":"other"},et:Hn,eu:De,fa:Qn,ff:v=>v>=0&&v<2?"one":"other",fi:Hn,fil:v=>{const C=String(v).split("."),k=C[0],_=C[1]||"",x=!C[1],S=k.slice(-1),X=_.slice(-1);return x&&(1==k||2==k||3==k)||x&&4!=S&&6!=S&&9!=S||!x&&4!=X&&6!=X&&9!=X?"one":"other"},fo:De,fr:v=>{const C=String(v).split("."),k=C[0],_=!C[1],x=k.slice(-6);return v>=0&&v<2?"one":0!=k&&0==x&&_?"many":"other"},fur:De,fy:Hn,ga:v=>{const C=String(v).split("."),k=Number(C[0])==v;return 1==v?"one":2==v?"two":k&&v>=3&&v<=6?"few":k&&v>=7&&v<=10?"many":"other"},gd:v=>{const C=String(v).split("."),k=Number(C[0])==v;return 1==v||11==v?"one":2==v||12==v?"two":k&&v>=3&&v<=10||k&&v>=13&&v<=19?"few":"other"},gl:Hn,gsw:De,gu:Qn,guw:Ir,gv:v=>{const C=String(v).split("."),k=C[0],_=!C[1],x=k.slice(-1),S=k.slice(-2);return _&&1==x?"one":_&&2==x?"two":!_||0!=S&&20!=S&&40!=S&&60!=S&&80!=S?_?"other":"many":"few"},ha:De,haw:De,he:v=>{const C=String(v).split("."),k=C[0],_=!C[1];return 1==k&&_||0==k&&!_?"one":2==k&&_?"two":"other"},hi:Qn,hnj:h1,hr:v=>{const C=String(v).split("."),k=C[0],_=C[1]||"",x=!C[1],S=k.slice(-1),X=k.slice(-2),Rt=_.slice(-1),ce=_.slice(-2);return x&&1==S&&11!=X||1==Rt&&11!=ce?"one":x&&S>=2&&S<=4&&(X<12||X>14)||Rt>=2&&Rt<=4&&(ce<12||ce>14)?"few":"other"},hsb:v=>{const C=String(v).split("."),_=C[1]||"",x=!C[1],S=C[0].slice(-2),X=_.slice(-2);return x&&1==S||1==X?"one":x&&2==S||2==X?"two":x&&(3==S||4==S)||3==X||4==X?"few":"other"},hu:De,hy:v=>v>=0&&v<2?"one":"other",ia:Hn,id:h1,ig:h1,ii:h1,io:Hn,is:v=>{const C=String(v).split("."),k=C[0],_=(C[1]||"").replace(/0+$/,""),x=Number(C[0])==v,S=k.slice(-1),X=k.slice(-2);return x&&1==S&&11!=X||_%10==1&&_%100!=11?"one":"other"},it:v=>{const C=String(v).split("."),k=C[0],_=!C[1],x=k.slice(-6);return 1==v&&_?"one":0!=k&&0==x&&_?"many":"other"},iu:N2,ja:h1,jbo:h1,jgo:De,jmc:De,jv:h1,jw:h1,ka:De,kab:v=>v>=0&&v<2?"one":"other",kaj:De,kcg:De,kde:h1,kea:h1,kk:De,kkj:De,kl:De,km:h1,kn:Qn,ko:h1,ks:De,ksb:De,ksh:v=>0==v?"zero":1==v?"one":"other",ku:De,kw:v=>{const C=String(v).split("."),k=Number(C[0])==v,_=k&&C[0].slice(-2),x=k&&C[0].slice(-3),S=k&&C[0].slice(-5),X=k&&C[0].slice(-6);return 0==v?"zero":1==v?"one":2==_||22==_||42==_||62==_||82==_||k&&0==x&&(S>=1e3&&S<=2e4||4e4==S||6e4==S||8e4==S)||0!=v&&1e5==X?"two":3==_||23==_||43==_||63==_||83==_?"few":1==v||1!=_&&21!=_&&41!=_&&61!=_&&81!=_?"other":"many"},ky:De,lag:v=>{const k=String(v).split(".")[0];return 0==v?"zero":0!=k&&1!=k||0==v?"other":"one"},lb:De,lg:De,lij:Hn,lkt:h1,ln:Ir,lo:h1,lt:v=>{const C=String(v).split("."),k=C[1]||"",_=Number(C[0])==v,x=_&&C[0].slice(-1),S=_&&C[0].slice(-2);return 1==x&&(S<11||S>19)?"one":x>=2&&x<=9&&(S<11||S>19)?"few":0!=k?"many":"other"},lv:v=>{const C=String(v).split("."),k=C[1]||"",_=k.length,x=Number(C[0])==v,S=x&&C[0].slice(-1),X=x&&C[0].slice(-2),Rt=k.slice(-2),ce=k.slice(-1);return x&&0==S||X>=11&&X<=19||2==_&&Rt>=11&&Rt<=19?"zero":1==S&&11!=X||2==_&&1==ce&&11!=Rt||2!=_&&1==ce?"one":"other"},mas:De,mg:Ir,mgo:De,mk:v=>{const C=String(v).split("."),k=C[0],_=C[1]||"",x=!C[1],S=k.slice(-1),X=k.slice(-2),Rt=_.slice(-1),ce=_.slice(-2);return x&&1==S&&11!=X||1==Rt&&11!=ce?"one":"other"},ml:De,mn:De,mo:v=>{const C=String(v).split("."),k=!C[1],x=Number(C[0])==v&&C[0].slice(-2);return 1==v&&k?"one":!k||0==v||1!=v&&x>=1&&x<=19?"few":"other"},mr:De,ms:h1,mt:v=>{const C=String(v).split("."),_=Number(C[0])==v&&C[0].slice(-2);return 1==v?"one":2==v?"two":0==v||_>=3&&_<=10?"few":_>=11&&_<=19?"many":"other"},my:h1,nah:De,naq:N2,nb:De,nd:De,ne:De,nl:Hn,nn:De,nnh:De,no:De,nqo:h1,nr:De,nso:Ir,ny:De,nyn:De,om:De,or:De,os:De,osa:h1,pa:Ir,pap:De,pcm:Qn,pl:v=>{const C=String(v).split("."),k=C[0],_=!C[1],x=k.slice(-1),S=k.slice(-2);return 1==v&&_?"one":_&&x>=2&&x<=4&&(S<12||S>14)?"few":_&&1!=k&&(0==x||1==x)||_&&x>=5&&x<=9||_&&S>=12&&S<=14?"many":"other"},prg:v=>{const C=String(v).split("."),k=C[1]||"",_=k.length,x=Number(C[0])==v,S=x&&C[0].slice(-1),X=x&&C[0].slice(-2),Rt=k.slice(-2),ce=k.slice(-1);return x&&0==S||X>=11&&X<=19||2==_&&Rt>=11&&Rt<=19?"zero":1==S&&11!=X||2==_&&1==ce&&11!=Rt||2!=_&&1==ce?"one":"other"},ps:De,pt:v=>{const C=String(v).split("."),k=C[0],_=!C[1],x=k.slice(-6);return 0==k||1==k?"one":0!=k&&0==x&&_?"many":"other"},pt_PT:v=>{const C=String(v).split("."),k=C[0],_=!C[1],x=k.slice(-6);return 1==v&&_?"one":0!=k&&0==x&&_?"many":"other"},rm:De,ro:v=>{const C=String(v).split("."),k=!C[1],x=Number(C[0])==v&&C[0].slice(-2);return 1==v&&k?"one":!k||0==v||1!=v&&x>=1&&x<=19?"few":"other"},rof:De,ru:v=>{const C=String(v).split("."),k=C[0],_=!C[1],x=k.slice(-1),S=k.slice(-2);return _&&1==x&&11!=S?"one":_&&x>=2&&x<=4&&(S<12||S>14)?"few":_&&0==x||_&&x>=5&&x<=9||_&&S>=11&&S<=14?"many":"other"},rwk:De,sah:h1,saq:De,sat:N2,sc:Hn,scn:Hn,sd:De,sdh:De,se:N2,seh:De,ses:h1,sg:h1,sh:v=>{const C=String(v).split("."),k=C[0],_=C[1]||"",x=!C[1],S=k.slice(-1),X=k.slice(-2),Rt=_.slice(-1),ce=_.slice(-2);return x&&1==S&&11!=X||1==Rt&&11!=ce?"one":x&&S>=2&&S<=4&&(X<12||X>14)||Rt>=2&&Rt<=4&&(ce<12||ce>14)?"few":"other"},shi:v=>{const C=String(v).split("."),k=Number(C[0])==v;return v>=0&&v<=1?"one":k&&v>=2&&v<=10?"few":"other"},si:v=>{const C=String(v).split(".");return 0==v||1==v||0==C[0]&&1==(C[1]||"")?"one":"other"},sk:v=>{const C=String(v).split("."),k=C[0],_=!C[1];return 1==v&&_?"one":k>=2&&k<=4&&_?"few":_?"other":"many"},sl:v=>{const C=String(v).split("."),_=!C[1],x=C[0].slice(-2);return _&&1==x?"one":_&&2==x?"two":_&&(3==x||4==x)||!_?"few":"other"},sma:N2,smi:N2,smj:N2,smn:N2,sms:N2,sn:De,so:De,sq:De,sr:v=>{const C=String(v).split("."),k=C[0],_=C[1]||"",x=!C[1],S=k.slice(-1),X=k.slice(-2),Rt=_.slice(-1),ce=_.slice(-2);return x&&1==S&&11!=X||1==Rt&&11!=ce?"one":x&&S>=2&&S<=4&&(X<12||X>14)||Rt>=2&&Rt<=4&&(ce<12||ce>14)?"few":"other"},ss:De,ssy:De,st:De,su:h1,sv:Hn,sw:Hn,syr:De,ta:De,te:De,teo:De,th:h1,ti:Ir,tig:De,tk:De,tl:v=>{const C=String(v).split("."),k=C[0],_=C[1]||"",x=!C[1],S=k.slice(-1),X=_.slice(-1);return x&&(1==k||2==k||3==k)||x&&4!=S&&6!=S&&9!=S||!x&&4!=X&&6!=X&&9!=X?"one":"other"},tn:De,to:h1,tpi:h1,tr:De,ts:De,tzm:v=>{const C=String(v).split("."),k=Number(C[0])==v;return 0==v||1==v||k&&v>=11&&v<=99?"one":"other"},ug:De,uk:v=>{const C=String(v).split("."),k=C[0],_=!C[1],x=k.slice(-1),S=k.slice(-2);return _&&1==x&&11!=S?"one":_&&x>=2&&x<=4&&(S<12||S>14)?"few":_&&0==x||_&&x>=5&&x<=9||_&&S>=11&&S<=14?"many":"other"},und:h1,ur:Hn,uz:De,ve:De,vec:v=>{const C=String(v).split("."),k=C[0],_=!C[1],x=k.slice(-6);return 1==v&&_?"one":0!=k&&0==x&&_?"many":"other"},vi:h1,vo:De,vun:De,wa:Ir,wae:De,wo:h1,xh:De,xog:De,yi:Hn,yo:h1,yue:h1,zh:h1,zu:Qn});const Ln="zero",je="one",sn="two",d1="few",M1="many",_e="other",Qt={cardinal:[je,_e],ordinal:[_e]},bs={cardinal:[je,_e],ordinal:[je,_e]},Nr={cardinal:[_e],ordinal:[_e]},d2={cardinal:[je,sn,_e],ordinal:[_e]};var ep=Object.freeze({__proto__:null,af:Qt,ak:Qt,am:Qt,an:Qt,ar:{cardinal:[Ln,je,sn,d1,M1,_e],ordinal:[_e]},ars:{cardinal:[Ln,je,sn,d1,M1,_e],ordinal:[_e]},as:{cardinal:[je,_e],ordinal:[je,sn,d1,M1,_e]},asa:Qt,ast:Qt,az:{cardinal:[je,_e],ordinal:[je,d1,M1,_e]},bal:bs,be:{cardinal:[je,d1,M1,_e],ordinal:[d1,_e]},bem:Qt,bez:Qt,bg:Qt,bho:Qt,bm:Nr,bn:{cardinal:[je,_e],ordinal:[je,sn,d1,M1,_e]},bo:Nr,br:{cardinal:[je,sn,d1,M1,_e],ordinal:[_e]},brx:Qt,bs:{cardinal:[je,d1,_e],ordinal:[_e]},ca:{cardinal:[je,M1,_e],ordinal:[je,sn,d1,_e]},ce:Qt,ceb:Qt,cgg:Qt,chr:Qt,ckb:Qt,cs:{cardinal:[je,d1,M1,_e],ordinal:[_e]},cy:{cardinal:[Ln,je,sn,d1,M1,_e],ordinal:[Ln,je,sn,d1,M1,_e]},da:Qt,de:Qt,doi:Qt,dsb:{cardinal:[je,sn,d1,_e],ordinal:[_e]},dv:Qt,dz:Nr,ee:Qt,el:Qt,en:{cardinal:[je,_e],ordinal:[je,sn,d1,_e]},eo:Qt,es:{cardinal:[je,M1,_e],ordinal:[_e]},et:Qt,eu:Qt,fa:Qt,ff:Qt,fi:Qt,fil:bs,fo:Qt,fr:{cardinal:[je,M1,_e],ordinal:[je,_e]},fur:Qt,fy:Qt,ga:{cardinal:[je,sn,d1,M1,_e],ordinal:[je,_e]},gd:{cardinal:[je,sn,d1,_e],ordinal:[je,sn,d1,_e]},gl:Qt,gsw:Qt,gu:{cardinal:[je,_e],ordinal:[je,sn,d1,M1,_e]},guw:Qt,gv:{cardinal:[je,sn,d1,M1,_e],ordinal:[_e]},ha:Qt,haw:Qt,he:d2,hi:{cardinal:[je,_e],ordinal:[je,sn,d1,M1,_e]},hnj:Nr,hr:{cardinal:[je,d1,_e],ordinal:[_e]},hsb:{cardinal:[je,sn,d1,_e],ordinal:[_e]},hu:bs,hy:bs,ia:Qt,id:Nr,ig:Nr,ii:Nr,io:Qt,is:Qt,it:{cardinal:[je,M1,_e],ordinal:[M1,_e]},iu:d2,ja:Nr,jbo:Nr,jgo:Qt,jmc:Qt,jv:Nr,jw:Nr,ka:{cardinal:[je,_e],ordinal:[je,M1,_e]},kab:Qt,kaj:Qt,kcg:Qt,kde:Nr,kea:Nr,kk:{cardinal:[je,_e],ordinal:[M1,_e]},kkj:Qt,kl:Qt,km:Nr,kn:Qt,ko:Nr,ks:Qt,ksb:Qt,ksh:{cardinal:[Ln,je,_e],ordinal:[_e]},ku:Qt,kw:{cardinal:[Ln,je,sn,d1,M1,_e],ordinal:[je,M1,_e]},ky:Qt,lag:{cardinal:[Ln,je,_e],ordinal:[_e]},lb:Qt,lg:Qt,lij:{cardinal:[je,_e],ordinal:[M1,_e]},lkt:Nr,ln:Qt,lo:{cardinal:[_e],ordinal:[je,_e]},lt:{cardinal:[je,d1,M1,_e],ordinal:[_e]},lv:{cardinal:[Ln,je,_e],ordinal:[_e]},mas:Qt,mg:Qt,mgo:Qt,mk:{cardinal:[je,_e],ordinal:[je,sn,M1,_e]},ml:Qt,mn:Qt,mo:{cardinal:[je,d1,_e],ordinal:[je,_e]},mr:{cardinal:[je,_e],ordinal:[je,sn,d1,_e]},ms:{cardinal:[_e],ordinal:[je,_e]},mt:{cardinal:[je,sn,d1,M1,_e],ordinal:[_e]},my:Nr,nah:Qt,naq:d2,nb:Qt,nd:Qt,ne:bs,nl:Qt,nn:Qt,nnh:Qt,no:Qt,nqo:Nr,nr:Qt,nso:Qt,ny:Qt,nyn:Qt,om:Qt,or:{cardinal:[je,_e],ordinal:[je,sn,d1,M1,_e]},os:Qt,osa:Nr,pa:Qt,pap:Qt,pcm:Qt,pl:{cardinal:[je,d1,M1,_e],ordinal:[_e]},prg:{cardinal:[Ln,je,_e],ordinal:[_e]},ps:Qt,pt:{cardinal:[je,M1,_e],ordinal:[_e]},pt_PT:{cardinal:[je,M1,_e],ordinal:[_e]},rm:Qt,ro:{cardinal:[je,d1,_e],ordinal:[je,_e]},rof:Qt,ru:{cardinal:[je,d1,M1,_e],ordinal:[_e]},rwk:Qt,sah:Nr,saq:Qt,sat:d2,sc:{cardinal:[je,_e],ordinal:[M1,_e]},scn:{cardinal:[je,_e],ordinal:[M1,_e]},sd:Qt,sdh:Qt,se:d2,seh:Qt,ses:Nr,sg:Nr,sh:{cardinal:[je,d1,_e],ordinal:[_e]},shi:{cardinal:[je,d1,_e],ordinal:[_e]},si:Qt,sk:{cardinal:[je,d1,M1,_e],ordinal:[_e]},sl:{cardinal:[je,sn,d1,_e],ordinal:[_e]},sma:d2,smi:d2,smj:d2,smn:d2,sms:d2,sn:Qt,so:Qt,sq:{cardinal:[je,_e],ordinal:[je,M1,_e]},sr:{cardinal:[je,d1,_e],ordinal:[_e]},ss:Qt,ssy:Qt,st:Qt,su:Nr,sv:bs,sw:Qt,syr:Qt,ta:Qt,te:Qt,teo:Qt,th:Nr,ti:Qt,tig:Qt,tk:{cardinal:[je,_e],ordinal:[d1,_e]},tl:bs,tn:Qt,to:Nr,tpi:Nr,tr:Qt,ts:Qt,tzm:Qt,ug:Qt,uk:{cardinal:[je,d1,M1,_e],ordinal:[d1,_e]},und:Nr,ur:Qt,uz:Qt,ve:Qt,vec:{cardinal:[je,M1,_e],ordinal:[M1,_e]},vi:{cardinal:[_e],ordinal:[je,_e]},vo:Qt,vun:Qt,wa:Qt,wae:Qt,wo:Nr,xh:Qt,xog:Qt,yi:Qt,yo:Nr,yue:Nr,zh:Nr,zu:Qt});const Je=(v,C)=>C?"other":1==v?"one":"other",Xi=(v,C)=>C?"other":0==v||1==v?"one":"other",Hl=(v,C)=>C?"other":v>=0&&v<=1?"one":"other",G2=(v,C)=>{const k=String(v).split(".");return C||1!=v||k[1]?"other":"one"},H1=(v,C)=>"other",Ki=(v,C)=>C?"other":1==v?"one":2==v?"two":"other";var Sc=Object.freeze({__proto__:null,af:Je,ak:Xi,am:Hl,an:Je,ar:(v,C)=>{const k=String(v).split("."),x=Number(k[0])==v&&k[0].slice(-2);return C?"other":0==v?"zero":1==v?"one":2==v?"two":x>=3&&x<=10?"few":x>=11&&x<=99?"many":"other"},ars:(v,C)=>{const k=String(v).split("."),x=Number(k[0])==v&&k[0].slice(-2);return C?"other":0==v?"zero":1==v?"one":2==v?"two":x>=3&&x<=10?"few":x>=11&&x<=99?"many":"other"},as:(v,C)=>C?1==v||5==v||7==v||8==v||9==v||10==v?"one":2==v||3==v?"two":4==v?"few":6==v?"many":"other":v>=0&&v<=1?"one":"other",asa:Je,ast:G2,az:(v,C)=>{const _=String(v).split(".")[0],x=_.slice(-1),S=_.slice(-2),X=_.slice(-3);return C?1==x||2==x||5==x||7==x||8==x||20==S||50==S||70==S||80==S?"one":3==x||4==x||100==X||200==X||300==X||400==X||500==X||600==X||700==X||800==X||900==X?"few":0==_||6==x||40==S||60==S||90==S?"many":"other":1==v?"one":"other"},bal:(v,C)=>1==v?"one":"other",be:(v,C)=>{const k=String(v).split("."),_=Number(k[0])==v,x=_&&k[0].slice(-1),S=_&&k[0].slice(-2);return C?2!=x&&3!=x||12==S||13==S?"other":"few":1==x&&11!=S?"one":x>=2&&x<=4&&(S<12||S>14)?"few":_&&0==x||x>=5&&x<=9||S>=11&&S<=14?"many":"other"},bem:Je,bez:Je,bg:Je,bho:Xi,bm:H1,bn:(v,C)=>C?1==v||5==v||7==v||8==v||9==v||10==v?"one":2==v||3==v?"two":4==v?"few":6==v?"many":"other":v>=0&&v<=1?"one":"other",bo:H1,br:(v,C)=>{const k=String(v).split("."),_=Number(k[0])==v,x=_&&k[0].slice(-1),S=_&&k[0].slice(-2),X=_&&k[0].slice(-6);return C?"other":1==x&&11!=S&&71!=S&&91!=S?"one":2==x&&12!=S&&72!=S&&92!=S?"two":(3==x||4==x||9==x)&&(S<10||S>19)&&(S<70||S>79)&&(S<90||S>99)?"few":0!=v&&_&&0==X?"many":"other"},brx:Je,bs:(v,C)=>{const k=String(v).split("."),_=k[0],x=k[1]||"",S=!k[1],X=_.slice(-1),Rt=_.slice(-2),ce=x.slice(-1),Ne=x.slice(-2);return C?"other":S&&1==X&&11!=Rt||1==ce&&11!=Ne?"one":S&&X>=2&&X<=4&&(Rt<12||Rt>14)||ce>=2&&ce<=4&&(Ne<12||Ne>14)?"few":"other"},ca:(v,C)=>{const k=String(v).split("."),_=k[0],x=!k[1],S=_.slice(-6);return C?1==v||3==v?"one":2==v?"two":4==v?"few":"other":1==v&&x?"one":0!=_&&0==S&&x?"many":"other"},ce:Je,ceb:(v,C)=>{const k=String(v).split("."),_=k[0],x=k[1]||"",S=!k[1],X=_.slice(-1),Rt=x.slice(-1);return C?"other":S&&(1==_||2==_||3==_)||S&&4!=X&&6!=X&&9!=X||!S&&4!=Rt&&6!=Rt&&9!=Rt?"one":"other"},cgg:Je,chr:Je,ckb:Je,cs:(v,C)=>{const k=String(v).split("."),_=k[0],x=!k[1];return C?"other":1==v&&x?"one":_>=2&&_<=4&&x?"few":x?"other":"many"},cy:(v,C)=>C?0==v||7==v||8==v||9==v?"zero":1==v?"one":2==v?"two":3==v||4==v?"few":5==v||6==v?"many":"other":0==v?"zero":1==v?"one":2==v?"two":3==v?"few":6==v?"many":"other",da:(v,C)=>{const k=String(v).split("."),_=k[0],x=Number(k[0])==v;return C||1!=v&&(x||0!=_&&1!=_)?"other":"one"},de:G2,doi:Hl,dsb:(v,C)=>{const k=String(v).split("."),x=k[1]||"",S=!k[1],X=k[0].slice(-2),Rt=x.slice(-2);return C?"other":S&&1==X||1==Rt?"one":S&&2==X||2==Rt?"two":S&&(3==X||4==X)||3==Rt||4==Rt?"few":"other"},dv:Je,dz:H1,ee:Je,el:Je,en:(v,C)=>{const k=String(v).split("."),_=!k[1],x=Number(k[0])==v,S=x&&k[0].slice(-1),X=x&&k[0].slice(-2);return C?1==S&&11!=X?"one":2==S&&12!=X?"two":3==S&&13!=X?"few":"other":1==v&&_?"one":"other"},eo:Je,es:(v,C)=>{const k=String(v).split("."),_=k[0],x=!k[1],S=_.slice(-6);return C?"other":1==v?"one":0!=_&&0==S&&x?"many":"other"},et:G2,eu:Je,fa:Hl,ff:(v,C)=>C?"other":v>=0&&v<2?"one":"other",fi:G2,fil:(v,C)=>{const k=String(v).split("."),_=k[0],x=k[1]||"",S=!k[1],X=_.slice(-1),Rt=x.slice(-1);return C?1==v?"one":"other":S&&(1==_||2==_||3==_)||S&&4!=X&&6!=X&&9!=X||!S&&4!=Rt&&6!=Rt&&9!=Rt?"one":"other"},fo:Je,fr:(v,C)=>{const k=String(v).split("."),_=k[0],x=!k[1],S=_.slice(-6);return C?1==v?"one":"other":v>=0&&v<2?"one":0!=_&&0==S&&x?"many":"other"},fur:Je,fy:G2,ga:(v,C)=>{const k=String(v).split("."),_=Number(k[0])==v;return C?1==v?"one":"other":1==v?"one":2==v?"two":_&&v>=3&&v<=6?"few":_&&v>=7&&v<=10?"many":"other"},gd:(v,C)=>{const k=String(v).split("."),_=Number(k[0])==v;return C?1==v||11==v?"one":2==v||12==v?"two":3==v||13==v?"few":"other":1==v||11==v?"one":2==v||12==v?"two":_&&v>=3&&v<=10||_&&v>=13&&v<=19?"few":"other"},gl:G2,gsw:Je,gu:(v,C)=>C?1==v?"one":2==v||3==v?"two":4==v?"few":6==v?"many":"other":v>=0&&v<=1?"one":"other",guw:Xi,gv:(v,C)=>{const k=String(v).split("."),_=k[0],x=!k[1],S=_.slice(-1),X=_.slice(-2);return C?"other":x&&1==S?"one":x&&2==S?"two":!x||0!=X&&20!=X&&40!=X&&60!=X&&80!=X?x?"other":"many":"few"},ha:Je,haw:Je,he:(v,C)=>{const k=String(v).split("."),_=k[0],x=!k[1];return C?"other":1==_&&x||0==_&&!x?"one":2==_&&x?"two":"other"},hi:(v,C)=>C?1==v?"one":2==v||3==v?"two":4==v?"few":6==v?"many":"other":v>=0&&v<=1?"one":"other",hnj:H1,hr:(v,C)=>{const k=String(v).split("."),_=k[0],x=k[1]||"",S=!k[1],X=_.slice(-1),Rt=_.slice(-2),ce=x.slice(-1),Ne=x.slice(-2);return C?"other":S&&1==X&&11!=Rt||1==ce&&11!=Ne?"one":S&&X>=2&&X<=4&&(Rt<12||Rt>14)||ce>=2&&ce<=4&&(Ne<12||Ne>14)?"few":"other"},hsb:(v,C)=>{const k=String(v).split("."),x=k[1]||"",S=!k[1],X=k[0].slice(-2),Rt=x.slice(-2);return C?"other":S&&1==X||1==Rt?"one":S&&2==X||2==Rt?"two":S&&(3==X||4==X)||3==Rt||4==Rt?"few":"other"},hu:(v,C)=>C?1==v||5==v?"one":"other":1==v?"one":"other",hy:(v,C)=>C?1==v?"one":"other":v>=0&&v<2?"one":"other",ia:G2,id:H1,ig:H1,ii:H1,io:G2,is:(v,C)=>{const k=String(v).split("."),_=k[0],x=(k[1]||"").replace(/0+$/,""),S=Number(k[0])==v,X=_.slice(-1),Rt=_.slice(-2);return C?"other":S&&1==X&&11!=Rt||x%10==1&&x%100!=11?"one":"other"},it:(v,C)=>{const k=String(v).split("."),_=k[0],x=!k[1],S=_.slice(-6);return C?11==v||8==v||80==v||800==v?"many":"other":1==v&&x?"one":0!=_&&0==S&&x?"many":"other"},iu:Ki,ja:H1,jbo:H1,jgo:Je,jmc:Je,jv:H1,jw:H1,ka:(v,C)=>{const _=String(v).split(".")[0],x=_.slice(-2);return C?1==_?"one":0==_||x>=2&&x<=20||40==x||60==x||80==x?"many":"other":1==v?"one":"other"},kab:(v,C)=>C?"other":v>=0&&v<2?"one":"other",kaj:Je,kcg:Je,kde:H1,kea:H1,kk:(v,C)=>{const k=String(v).split("."),_=Number(k[0])==v,x=_&&k[0].slice(-1);return C?6==x||9==x||_&&0==x&&0!=v?"many":"other":1==v?"one":"other"},kkj:Je,kl:Je,km:H1,kn:Hl,ko:H1,ks:Je,ksb:Je,ksh:(v,C)=>C?"other":0==v?"zero":1==v?"one":"other",ku:Je,kw:(v,C)=>{const k=String(v).split("."),_=Number(k[0])==v,x=_&&k[0].slice(-2),S=_&&k[0].slice(-3),X=_&&k[0].slice(-5),Rt=_&&k[0].slice(-6);return C?_&&v>=1&&v<=4||x>=1&&x<=4||x>=21&&x<=24||x>=41&&x<=44||x>=61&&x<=64||x>=81&&x<=84?"one":5==v||5==x?"many":"other":0==v?"zero":1==v?"one":2==x||22==x||42==x||62==x||82==x||_&&0==S&&(X>=1e3&&X<=2e4||4e4==X||6e4==X||8e4==X)||0!=v&&1e5==Rt?"two":3==x||23==x||43==x||63==x||83==x?"few":1==v||1!=x&&21!=x&&41!=x&&61!=x&&81!=x?"other":"many"},ky:Je,lag:(v,C)=>{const _=String(v).split(".")[0];return C?"other":0==v?"zero":0!=_&&1!=_||0==v?"other":"one"},lb:Je,lg:Je,lij:(v,C)=>{const k=String(v).split("."),_=!k[1],x=Number(k[0])==v;return C?11==v||8==v||x&&v>=80&&v<=89||x&&v>=800&&v<=899?"many":"other":1==v&&_?"one":"other"},lkt:H1,ln:Xi,lo:(v,C)=>C&&1==v?"one":"other",lt:(v,C)=>{const k=String(v).split("."),_=k[1]||"",x=Number(k[0])==v,S=x&&k[0].slice(-1),X=x&&k[0].slice(-2);return C?"other":1==S&&(X<11||X>19)?"one":S>=2&&S<=9&&(X<11||X>19)?"few":0!=_?"many":"other"},lv:(v,C)=>{const k=String(v).split("."),_=k[1]||"",x=_.length,S=Number(k[0])==v,X=S&&k[0].slice(-1),Rt=S&&k[0].slice(-2),ce=_.slice(-2),Ne=_.slice(-1);return C?"other":S&&0==X||Rt>=11&&Rt<=19||2==x&&ce>=11&&ce<=19?"zero":1==X&&11!=Rt||2==x&&1==Ne&&11!=ce||2!=x&&1==Ne?"one":"other"},mas:Je,mg:Xi,mgo:Je,mk:(v,C)=>{const k=String(v).split("."),_=k[0],x=k[1]||"",S=!k[1],X=_.slice(-1),Rt=_.slice(-2),ce=x.slice(-1),Ne=x.slice(-2);return C?1==X&&11!=Rt?"one":2==X&&12!=Rt?"two":7!=X&&8!=X||17==Rt||18==Rt?"other":"many":S&&1==X&&11!=Rt||1==ce&&11!=Ne?"one":"other"},ml:Je,mn:Je,mo:(v,C)=>{const k=String(v).split("."),_=!k[1],S=Number(k[0])==v&&k[0].slice(-2);return C?1==v?"one":"other":1==v&&_?"one":!_||0==v||1!=v&&S>=1&&S<=19?"few":"other"},mr:(v,C)=>C?1==v?"one":2==v||3==v?"two":4==v?"few":"other":1==v?"one":"other",ms:(v,C)=>C&&1==v?"one":"other",mt:(v,C)=>{const k=String(v).split("."),x=Number(k[0])==v&&k[0].slice(-2);return C?"other":1==v?"one":2==v?"two":0==v||x>=3&&x<=10?"few":x>=11&&x<=19?"many":"other"},my:H1,nah:Je,naq:Ki,nb:Je,nd:Je,ne:(v,C)=>{const k=String(v).split("."),_=Number(k[0])==v;return C?_&&v>=1&&v<=4?"one":"other":1==v?"one":"other"},nl:G2,nn:Je,nnh:Je,no:Je,nqo:H1,nr:Je,nso:Xi,ny:Je,nyn:Je,om:Je,or:(v,C)=>{const k=String(v).split("."),_=Number(k[0])==v;return C?1==v||5==v||_&&v>=7&&v<=9?"one":2==v||3==v?"two":4==v?"few":6==v?"many":"other":1==v?"one":"other"},os:Je,osa:H1,pa:Xi,pap:Je,pcm:Hl,pl:(v,C)=>{const k=String(v).split("."),_=k[0],x=!k[1],S=_.slice(-1),X=_.slice(-2);return C?"other":1==v&&x?"one":x&&S>=2&&S<=4&&(X<12||X>14)?"few":x&&1!=_&&(0==S||1==S)||x&&S>=5&&S<=9||x&&X>=12&&X<=14?"many":"other"},prg:(v,C)=>{const k=String(v).split("."),_=k[1]||"",x=_.length,S=Number(k[0])==v,X=S&&k[0].slice(-1),Rt=S&&k[0].slice(-2),ce=_.slice(-2),Ne=_.slice(-1);return C?"other":S&&0==X||Rt>=11&&Rt<=19||2==x&&ce>=11&&ce<=19?"zero":1==X&&11!=Rt||2==x&&1==Ne&&11!=ce||2!=x&&1==Ne?"one":"other"},ps:Je,pt:(v,C)=>{const k=String(v).split("."),_=k[0],x=!k[1],S=_.slice(-6);return C?"other":0==_||1==_?"one":0!=_&&0==S&&x?"many":"other"},pt_PT:(v,C)=>{const k=String(v).split("."),_=k[0],x=!k[1],S=_.slice(-6);return C?"other":1==v&&x?"one":0!=_&&0==S&&x?"many":"other"},rm:Je,ro:(v,C)=>{const k=String(v).split("."),_=!k[1],S=Number(k[0])==v&&k[0].slice(-2);return C?1==v?"one":"other":1==v&&_?"one":!_||0==v||1!=v&&S>=1&&S<=19?"few":"other"},rof:Je,ru:(v,C)=>{const k=String(v).split("."),_=k[0],x=!k[1],S=_.slice(-1),X=_.slice(-2);return C?"other":x&&1==S&&11!=X?"one":x&&S>=2&&S<=4&&(X<12||X>14)?"few":x&&0==S||x&&S>=5&&S<=9||x&&X>=11&&X<=14?"many":"other"},rwk:Je,sah:H1,saq:Je,sat:Ki,sc:(v,C)=>{const k=String(v).split(".");return C?11==v||8==v||80==v||800==v?"many":"other":1!=v||k[1]?"other":"one"},scn:(v,C)=>{const k=String(v).split(".");return C?11==v||8==v||80==v||800==v?"many":"other":1!=v||k[1]?"other":"one"},sd:Je,sdh:Je,se:Ki,seh:Je,ses:H1,sg:H1,sh:(v,C)=>{const k=String(v).split("."),_=k[0],x=k[1]||"",S=!k[1],X=_.slice(-1),Rt=_.slice(-2),ce=x.slice(-1),Ne=x.slice(-2);return C?"other":S&&1==X&&11!=Rt||1==ce&&11!=Ne?"one":S&&X>=2&&X<=4&&(Rt<12||Rt>14)||ce>=2&&ce<=4&&(Ne<12||Ne>14)?"few":"other"},shi:(v,C)=>{const k=String(v).split("."),_=Number(k[0])==v;return C?"other":v>=0&&v<=1?"one":_&&v>=2&&v<=10?"few":"other"},si:(v,C)=>{const k=String(v).split(".");return C?"other":0==v||1==v||0==k[0]&&1==(k[1]||"")?"one":"other"},sk:(v,C)=>{const k=String(v).split("."),_=k[0],x=!k[1];return C?"other":1==v&&x?"one":_>=2&&_<=4&&x?"few":x?"other":"many"},sl:(v,C)=>{const k=String(v).split("."),x=!k[1],S=k[0].slice(-2);return C?"other":x&&1==S?"one":x&&2==S?"two":x&&(3==S||4==S)||!x?"few":"other"},sma:Ki,smi:Ki,smj:Ki,smn:Ki,sms:Ki,sn:Je,so:Je,sq:(v,C)=>{const k=String(v).split("."),_=Number(k[0])==v,x=_&&k[0].slice(-1),S=_&&k[0].slice(-2);return C?1==v?"one":4==x&&14!=S?"many":"other":1==v?"one":"other"},sr:(v,C)=>{const k=String(v).split("."),_=k[0],x=k[1]||"",S=!k[1],X=_.slice(-1),Rt=_.slice(-2),ce=x.slice(-1),Ne=x.slice(-2);return C?"other":S&&1==X&&11!=Rt||1==ce&&11!=Ne?"one":S&&X>=2&&X<=4&&(Rt<12||Rt>14)||ce>=2&&ce<=4&&(Ne<12||Ne>14)?"few":"other"},ss:Je,ssy:Je,st:Je,su:H1,sv:(v,C)=>{const k=String(v).split("."),_=!k[1],x=Number(k[0])==v,S=x&&k[0].slice(-1),X=x&&k[0].slice(-2);return C?1!=S&&2!=S||11==X||12==X?"other":"one":1==v&&_?"one":"other"},sw:G2,syr:Je,ta:Je,te:Je,teo:Je,th:H1,ti:Xi,tig:Je,tk:(v,C)=>{const k=String(v).split("."),x=Number(k[0])==v&&k[0].slice(-1);return C?6==x||9==x||10==v?"few":"other":1==v?"one":"other"},tl:(v,C)=>{const k=String(v).split("."),_=k[0],x=k[1]||"",S=!k[1],X=_.slice(-1),Rt=x.slice(-1);return C?1==v?"one":"other":S&&(1==_||2==_||3==_)||S&&4!=X&&6!=X&&9!=X||!S&&4!=Rt&&6!=Rt&&9!=Rt?"one":"other"},tn:Je,to:H1,tpi:H1,tr:Je,ts:Je,tzm:(v,C)=>{const k=String(v).split("."),_=Number(k[0])==v;return C?"other":0==v||1==v||_&&v>=11&&v<=99?"one":"other"},ug:Je,uk:(v,C)=>{const k=String(v).split("."),_=k[0],x=!k[1],S=Number(k[0])==v,X=S&&k[0].slice(-1),Rt=S&&k[0].slice(-2),ce=_.slice(-1),Ne=_.slice(-2);return C?3==X&&13!=Rt?"few":"other":x&&1==ce&&11!=Ne?"one":x&&ce>=2&&ce<=4&&(Ne<12||Ne>14)?"few":x&&0==ce||x&&ce>=5&&ce<=9||x&&Ne>=11&&Ne<=14?"many":"other"},und:H1,ur:G2,uz:Je,ve:Je,vec:(v,C)=>{const k=String(v).split("."),_=k[0],x=!k[1],S=_.slice(-6);return C?11==v||8==v||80==v||800==v?"many":"other":1==v&&x?"one":0!=_&&0==S&&x?"many":"other"},vi:(v,C)=>C&&1==v?"one":"other",vo:Je,vun:Je,wa:Xi,wae:Je,wo:H1,xh:Je,xog:Je,yi:G2,yo:H1,yue:H1,zh:H1,zu:Hl});function fa(v){if("string"!=typeof v||v.length<2)throw new RangeError("Invalid language tag: ".concat(v));if(v.startsWith("pt-PT"))return"pt-PT";var C=v.match(/.+?(?=[-_])/);return C?C[0]:v}function x5(v){if("function"==typeof v){var C=fa(v.name);return{isDefault:!1,id:ne(C),lc:C,locale:v.name,getPlural:v,cardinals:v.cardinals||[],ordinals:v.ordinals||[]}}var k=fa(v),_=ne(k);return function ma(v){return v in Sc}(_)?{isDefault:!0,id:_,lc:k,locale:v,getCardinal:xs[_],getPlural:Sc[_],cardinals:ep[_].cardinal,ordinals:ep[_].ordinal}:null}function vv(v){return ne(fa(v))in Sc}var zp=function(){function v(C,k){if(this.plurals=[],this.options=Object.assign({biDiSupport:!1,currency:"USD",customFormatters:{},localeCodeFromKey:null,requireAllArguments:!1,returnType:"string",strict:k&&k.strictNumberSign||!1,strictPluralKeys:!0},k),"*"===C?this.plurals=function N4(v){var C=Object.keys(Sc).filter(function(k){return k!==v});return C.unshift(v),C.map(x5)}(v.defaultLocale):Array.isArray(C)?this.plurals=C.map(x5).filter(Boolean):C&&(_=x5(C))&&(this.plurals=[_]),0===this.plurals.length){var _=x5(v.defaultLocale);this.plurals=[_]}}return v.escape=function(C,k){var _=k?/[#{}]/g:/[{}]/g;return String(C).replace(_,"'$&'")},v.supportedLocalesOf=function(C){return(Array.isArray(C)?C:[C]).filter(vv)},v.prototype.resolvedOptions=function(){return ee(ee({},this.options),{locale:this.plurals[0].locale,plurals:this.plurals})},v.prototype.compile=function(C){var k,_,x=new Jn(this.options),S="return "+x.compile(C,this.plurals[0]),X=[],Rt=[];try{for(var ce=K(Object.entries(x.runtime)),Ne=ce.next();!Ne.done;Ne=ce.next()){var m1=G(Ne.value,2),J1=m1[1];X.push(m1[0]),Rt.push(J1)}}catch(ln){k={error:ln}}finally{try{Ne&&!Ne.done&&(_=ce.return)&&_.call(ce)}finally{if(k)throw k.error}}return(new(Function.bind.apply(Function,vt(vt([void 0],G(X),!1),[S],!1)))).apply(void 0,vt([],G(Rt),!1))},v.defaultLocale="en",v}();return zp}()},7059:qt=>{"use strict";var B,ee=Object.defineProperty,K=Object.getOwnPropertyDescriptor,G=Object.getOwnPropertyNames,vt=Object.prototype.hasOwnProperty,rt={};((B,A)=>{for(var $ in A)ee(B,$,{get:A[$],enumerable:!0})})(rt,{XmlCdata:()=>q,XmlComment:()=>re,XmlDeclaration:()=>nt,XmlDocument:()=>Zt,XmlDocumentType:()=>Yt,XmlElement:()=>Ht,XmlError:()=>et,XmlNode:()=>ut,XmlProcessingInstruction:()=>Mt,XmlText:()=>Pt,parseXml:()=>Ie}),qt.exports=(B=rt,((B,A,$,xt)=>{if(A&&"object"==typeof A||"function"==typeof A)for(let Wt of G(A))!vt.call(B,Wt)&&undefined!==Wt&&ee(B,Wt,{get:()=>A[Wt],enumerable:!(xt=K(A,Wt))||xt.enumerable});return B})(ee({},"__esModule",{value:!0}),B));var P=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=class{constructor(B){if(this.k=this.u(B,!0),this.d=0,this.length=B.length,this.l=this.k!==this.length,this.h=B,this.l){let A=[];for(let $=0,xt=0;xt<this.k;++xt)A[xt]=$,$+=B.codePointAt($)>65535?2:1;this.A=A}}get B(){return this.d>=this.k}u(B,A=this.l){return A?B.replace(P,"_").length:B.length}p(B=1){this.d=Math.min(this.k,this.d+B)}f(B=this.d){var A;return this.l?null!=(A=this.A[B])?A:1/0:B}G(B=1){let A=this.m(B);return this.p(B),A}v(B){let A=this.f(),$=this.h.slice(A,A+B);return this.p(this.u($)),$}w(B){let{length:A,l:$,h:xt}=this,Wt=this.f(),Ce=Wt;if($)for(;Ce<A;){let oe=xt[Ce],xe=oe>="\ud800"&&oe<="\udbff";if(xe&&(oe+=xt[Ce+1]),!B(oe))break;Ce+=xe?2:1}else for(;Ce<A&&B(xt[Ce]);)++Ce;return this.v(Ce-Wt)}b(B){let{length:A}=B,$=this.f();return B===this.h.slice($,$+A)?(this.p(1===A?1:this.u(B)),B):""}x(B){let A=this.h.slice(this.f()).search(B);return A>0?this.v(A):""}s(B){let A=this.f(),$=this.h.indexOf(B,A);return $>0?this.v($-A):""}m(B=1){let{d:A,h:$}=this;return this.l?$.slice(this.f(A),this.f(A+B)):$.slice(A,A+B)}n(B=0){this.d=B>=0?Math.min(this.k,B):Math.max(0,this.d+B)}},At=/["&<]/,dt=/['&<]/,bt=/\r\n|[\n\r\t]/g,W=/<|&|]]>/,Z=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function st(B){let A=B.codePointAt(0);return A>=97&&A<=122||A>=65&&A<=90||A>=48&&A<=57||45===A||46===A||183===A||A>=768&&A<=879||8255===A||8256===A||gt(B,A)}function gt(B,A=B.codePointAt(0)){return A>=97&&A<=122||A>=65&&A<=90||58===A||95===A||A>=192&&A<=214||A>=216&&A<=246||A>=248&&A<=767||A>=880&&A<=893||A>=895&&A<=8191||8204===A||8205===A||A>=8304&&A<=8591||A>=11264&&A<=12271||A>=12289&&A<=55295||A>=63744&&A<=64975||A>=65008&&A<=65533||A>=65536&&A<=983039}function lt(B){return"#"===B||st(B)}function Y(B){let A=B.codePointAt(0);return 32===A||9===A||10===A||13===A}function E(B){return B>=32&&B<=55295||10===B||9===B||13===B||B>=57344&&B<=65533||B>=65536&&B<=1114111}var at=(()=>{let B=class PF{constructor(){this.parent=null,this.start=-1,this.end=-1}get document(){var $,xt;return null!=(xt=null==($=this.parent)?void 0:$.document)?xt:null}get isRootNode(){return null!==this.parent&&this.parent===this.document&&this.type===PF.TYPE_ELEMENT}get preserveWhitespace(){var $;return!(null==($=this.parent)||!$.preserveWhitespace)}get type(){return""}toJSON(){let $={type:this.type};return this.isRootNode&&($.isRootNode=!0),this.preserveWhitespace&&($.preserveWhitespace=!0),-1!==this.start&&($.start=this.start,$.end=this.end),$}};return B.TYPE_CDATA="cdata",B.TYPE_COMMENT="comment",B.TYPE_DOCUMENT="document",B.TYPE_DOCUMENT_TYPE="doctype",B.TYPE_ELEMENT="element",B.TYPE_PROCESSING_INSTRUCTION="pi",B.TYPE_TEXT="text",B.TYPE_XML_DECLARATION="xmldecl",B})(),ut=at,Pt=class extends ut{constructor(B=""){super(),this.text=B}get type(){return ut.TYPE_TEXT}toJSON(){return Object.assign(ut.prototype.toJSON.call(this),{text:this.text})}},q=class extends Pt{get type(){return ut.TYPE_CDATA}},re=class extends ut{constructor(B=""){super(),this.content=B}get type(){return ut.TYPE_COMMENT}toJSON(){return Object.assign(ut.prototype.toJSON.call(this),{content:this.content})}},nt=class extends ut{constructor(B,A,$){super(),this.version=B,this.encoding=A??null,this.standalone=$??null}get type(){return ut.TYPE_XML_DECLARATION}toJSON(){let B=ut.prototype.toJSON.call(this);B.version=this.version;for(let A of["encoding","standalone"])null!==this[A]&&(B[A]=this[A]);return B}},Ht=class NF extends ut{constructor(A,$=Object.create(null),xt=[]){super(),this.name=A,this.attributes=$,this.children=xt}get isEmpty(){return 0===this.children.length}get preserveWhitespace(){let A=this;for(;A instanceof NF;){if("xml:space"in A.attributes)return"preserve"===A.attributes["xml:space"];A=A.parent}return!1}get text(){return this.children.map(A=>"text"in A?A.text:"").join("")}get type(){return ut.TYPE_ELEMENT}toJSON(){return Object.assign(ut.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(A=>A.toJSON())})}},Zt=class extends ut{constructor(B=[]){super(),this.children=B}get document(){return this}get root(){for(let B of this.children)if(B instanceof Ht)return B;return null}get text(){return this.children.map(B=>"text"in B?B.text:"").join("")}get type(){return ut.TYPE_DOCUMENT}toJSON(){return Object.assign(ut.prototype.toJSON.call(this),{children:this.children.map(B=>B.toJSON())})}},Yt=class extends ut{constructor(B,A,$,xt){super(),this.name=B,this.publicId=A??null,this.systemId=$??null,this.internalSubset=xt??null}get type(){return ut.TYPE_DOCUMENT_TYPE}toJSON(){let B=ut.prototype.toJSON.call(this);B.name=this.name;for(let A of["publicId","systemId","internalSubset"])null!==this[A]&&(B[A]=this[A]);return B}},et=class extends Error{constructor(B,A,$){let xt=1,Wt="",Ce=1;for(let We=0;We<A;++We){let $e=$[We];"\n"===$e?(xt=1,Wt="",Ce+=1):(xt+=1,Wt+=$e)}let oe=$.indexOf("\n",A);Wt+=-1===oe?$.slice(A):$.slice(A,oe);let xe=0;Wt.length>50&&(xt<40?Wt=Wt.slice(0,50):(xe=xt-20,Wt=Wt.slice(xe,xt+30))),super(`${B} (line ${Ce}, column ${xt})\n  ${Wt}\n`+" ".repeat(xt-xe+1)+"^\n"),this.column=xt,this.excerpt=Wt,this.line=Ce,this.name="XmlError",this.pos=A}},Mt=class extends ut{constructor(B,A=""){super(),this.name=B,this.content=A}get type(){return ut.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(ut.prototype.toJSON.call(this),{name:this.name,content:this.content})}},be=class{constructor(B,A={}){let $=this.document=new Zt;this.j=$,this.g=A,this.c=new g(B),this.g.includeOffsets&&($.start=0,$.end=B.length),this.parse()}i(B,A){return B.parent=this.j,this.g.includeOffsets&&(B.start=this.c.f(A),B.end=this.c.f()),this.j.children.push(B),!0}y(B,A){let{children:$}=this.j,{length:xt}=$;if(B=Ge(B),xt>0){let Wt=$[xt-1];if(Wt?.type===ut.TYPE_TEXT){let Ce=Wt;return Ce.text+=B,this.g.includeOffsets&&(Ce.end=this.c.f()),!0}}return this.i(new Pt(B),A)}H(){let B=Object.create(null);for(;this.e();){let A=this.q();if(!A)break;let $=this.t()&&this.I();if(!1===$)throw this.a("Attribute value expected");if(A in B)throw this.a(`Duplicate attribute: ${A}`);if("xml:space"===A&&"default"!==$&&"preserve"!==$)throw this.a('Value of the `xml:space` attribute must be "default" or "preserve"');B[A]=$}if(this.g.sortAttributes){let A=Object.keys(B).sort(),$=Object.create(null);for(let xt=0;xt<A.length;++xt){let Wt=A[xt];$[Wt]=B[Wt]}B=$}return B}I(){let{c:B}=this,A=B.m();if('"'!==A&&"'"!==A)return!1;B.p();let $,xt=!1,Wt="",Ce='"'===A?At:dt;t:for(;!B.B;)switch($=B.x(Ce),$&&(this.o($),Wt+=$.replace(bt," ")),B.m()){case A:xt=!0;break t;case"&":Wt+=this.C();continue;case"<":throw this.a("Unescaped `<` is not allowed in an attribute value");default:break t}if(!xt)throw this.a("Unclosed attribute");return B.p(),Wt}J(){let{c:B}=this,A=B.d;if(!B.b("<![CDATA["))return!1;let $=B.s("]]>");if(this.o($),!B.b("]]>"))throw this.a("Unclosed CDATA section");return this.g.preserveCdata?this.i(new q(Ge($)),A):this.y($,A)}K(){let{c:B}=this,A=B.d,$=B.x(W);if(!$)return!1;if(this.o($),"]]>"===B.m(3))throw this.a("Element content may not contain the CDATA section close delimiter `]]>`");return this.y($,A)}D(){let{c:B}=this,A=B.d;if(!B.b("\x3c!--"))return!1;let $=B.s("--");if(this.o($),!B.b("--\x3e"))throw"--"===B.m(2)?this.a("The string `--` isn't allowed inside a comment"):this.a("Unclosed comment");return!this.g.preserveComments||this.i(new re(Ge($)),A)}L(){let B=this.c.d,A=this.C();return!!A&&this.y(A,B)}M(){let{c:B}=this,A=B.d;if(!B.b("<!DOCTYPE"))return!1;let xt,Wt,Ce,$=this.e()&&this.q();if(!$)throw this.a("Expected a name");if(this.e()){if(B.b("PUBLIC")){if(xt=this.e()&&this.N(),!1===xt)throw this.a("Expected a public identifier");this.e()}if(void 0!==xt||B.b("SYSTEM")){if(this.e(),Wt=this.r(),!1===Wt)throw this.a("Expected a system identifier");this.e()}}if(B.b("[")){if(Ce=B.x(/\][\x20\t\r\n]*>/),!B.b("]"))throw this.a("Unclosed internal subset");this.e()}if(!B.b(">"))throw this.a("Unclosed doctype declaration");return!this.g.preserveDocumentType||this.i(new Yt($,xt,Wt,Ce),A)}E(){let{c:B}=this,A=B.d;if(!B.b("<"))return!1;let $=this.q();if(!$)return B.n(A),!1;let xt=this.H(),Wt=!!B.b("/>"),Ce=new Ht($,xt);if(Ce.parent=this.j,!Wt){if(!B.b(">"))throw this.a(`Unclosed start tag for element \`${$}\``);this.j=Ce;do{this.K()}while(this.E()||this.L()||this.J()||this.F()||this.D());let xe,oe=B.d;if(!B.b("</")||!(xe=this.q())||xe!==$)throw B.n(oe),this.a(`Missing end tag for element ${$}`);if(this.e(),!B.b(">"))throw this.a(`Unclosed end tag for element ${$}`);this.j=Ce.parent}return this.i(Ce,A)}t(){return this.e(),!!this.c.b("=")&&(this.e(),!0)}z(){return this.D()||this.F()||this.e()}q(){return gt(this.c.m())?this.c.w(st):""}F(){let{c:B}=this,A=B.d;if(!B.b("<?"))return!1;let $=this.q();if(!$)throw this.a("Invalid processing instruction");if("xml"===$.toLowerCase())throw B.n(A),this.a("XML declaration isn't allowed here");if(!this.e()){if(B.b("?>"))return this.i(new Mt($),A);throw this.a("Whitespace is required after a processing instruction name")}let xt=B.s("?>");if(this.o(xt),!B.b("?>"))throw this.a("Unterminated processing instruction");return this.i(new Mt($,Ge(xt)),A)}O(){let{c:B}=this,A=B.d;for(this.P();this.z(););if(this.M())for(;this.z(););return A<B.d}N(){let B=this.c.d,A=this.r();if(!1!==A&&!/^[-\x20\r\na-zA-Z0-9'()+,./:=?;!*#@$_%]*$/.test(A))throw this.c.n(B),this.a("Invalid character in public identifier");return A}C(){let{c:B}=this;if(!B.b("&"))return!1;let $,A=B.w(lt);if(";"!==B.G())throw this.a("Unterminated reference (a reference must end with `;`)");if("#"===A[0]){let xt="x"===A[1]?parseInt(A.slice(2),16):parseInt(A.slice(1),10);if(isNaN(xt))throw this.a("Invalid character reference");if(!E(xt))throw this.a("Character reference resolves to an invalid character");$=String.fromCodePoint(xt)}else if($=Z[A],void 0===$){let{ignoreUndefinedEntities:xt,resolveUndefinedEntity:Wt}=this.g,Ce=`&${A};`;if(Wt){let oe=Wt(Ce);if(null!=oe){let xe=typeof oe;if("string"!==xe)throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${xe}`);return oe}}if(xt)return Ce;throw B.n(-Ce.length),this.a(`Named entity isn't defined: ${Ce}`)}return $}r(){let{c:B}=this,A=B.b('"')||B.b("'");if(!A)return!1;let $=B.s(A);if(this.o($),!B.b(A))throw this.a("Missing end quote");return $}e(){return!!this.c.w(Y)}P(){let{c:B}=this,A=B.d;if(!B.b("<?xml"))return!1;if(!this.e())throw this.a("Invalid XML declaration");let xt,Wt,$=!!B.b("version")&&this.t()&&this.r();if(!1===$)throw this.a("XML version is missing or invalid");if(!/^1\.[0-9]+$/.test($))throw this.a("Invalid character in version number");if(this.e()){if(xt=!!B.b("encoding")&&this.t()&&this.r(),xt){if(!/^[A-Za-z][\w.-]*$/.test(xt))throw this.a("Invalid character in encoding name");this.e()}if(Wt=!!B.b("standalone")&&this.t()&&this.r(),Wt){if("yes"!==Wt&&"no"!==Wt)throw this.a('Only "yes" and "no" are permitted as values of `standalone`');this.e()}}if(!B.b("?>"))throw this.a("Invalid or unclosed XML declaration");return!this.g.preserveXmlDeclaration||this.i(new nt($,xt||void 0,Wt||void 0),A)}a(B){let{c:A}=this;return new et(B,A.d,A.h)}parse(){if(this.c.b("\ufeff"),this.O(),!this.E())throw this.a("Root element is missing or invalid");for(;this.z(););if(!this.c.B)throw this.a("Extra content at the end of the document")}o(B){let{length:A}=B;for(let $=0;$<A;++$){let xt=B.codePointAt($);if(!E(xt))throw this.c.n(-([...B].length-$)),this.a("Invalid character");xt>65535&&($+=1)}}};function Ge(B){let A=0;for(;-1!==(A=B.indexOf("\r",A));)B="\n"===B[A+1]?B.slice(0,A)+B.slice(A+1):B.slice(0,A)+"\n"+B.slice(A+1);return B}function Ie(B,A){return new be(B,A).document}},2834:(qt,ee)=>{"use strict";function G(Lt,rt){return void 0===rt&&(rt=Object),rt&&"function"==typeof rt.freeze?rt.freeze(Lt):Lt}var ht=G({HTML:"text/html",isHTML:function(Lt){return Lt===ht.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Bt=G({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(Lt){return Lt===Bt.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});ee.assign=function vt(Lt,rt){if(null===Lt||"object"!=typeof Lt)throw new TypeError("target is not an object");for(var z in rt)Object.prototype.hasOwnProperty.call(rt,z)&&(Lt[z]=rt[z]);return Lt},ee.find=function K(Lt,rt,z){if(void 0===z&&(z=Array.prototype),Lt&&"function"==typeof z.find)return z.find.call(Lt,rt);for(var P=0;P<Lt.length;P++)if(Object.prototype.hasOwnProperty.call(Lt,P)){var g=Lt[P];if(rt.call(void 0,g,P,Lt))return g}},ee.freeze=G,ee.MIME_TYPE=ht,ee.NAMESPACE=Bt},7044:(qt,ee,K)=>{var vt=K(2834),ht=K(8486),Bt=K(6443),Lt=K(3742),rt=ht.DOMImplementation,z=vt.NAMESPACE,P=Lt.ParseError,g=Lt.XMLReader;function At(Y){return Y.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function dt(Y){this.options=Y||{locator:{}}}function W(){this.cdata=!1}function Z(Y,E){E.lineNumber=Y.lineNumber,E.columnNumber=Y.columnNumber}function st(Y){if(Y)return"\n@"+(Y.systemId||"")+"#[line:"+Y.lineNumber+",col:"+Y.columnNumber+"]"}function gt(Y,E,at){return"string"==typeof Y?Y.substr(E,at):Y.length>=E+at||E?new java.lang.String(Y,E,at)+"":Y}function lt(Y,E){Y.currentElement?Y.currentElement.appendChild(E):Y.doc.appendChild(E)}dt.prototype.parseFromString=function(Y,E){var at=this.options,ut=new g,Pt=at.domBuilder||new W,q=at.errorHandler,re=at.locator,nt=at.xmlns||{},Ht=/\/x?html?$/.test(E),Zt=Ht?Bt.HTML_ENTITIES:Bt.XML_ENTITIES;return re&&Pt.setDocumentLocator(re),ut.errorHandler=function bt(Y,E,at){if(!Y){if(E instanceof W)return E;Y=E}var ut={},Pt=Y instanceof Function;function q(re){var nt=Y[re];!nt&&Pt&&(nt=2==Y.length?function(Ht){Y(re,Ht)}:Y),ut[re]=nt&&function(Ht){nt("[xmldom "+re+"]\t"+Ht+st(at))}||function(){}}return at=at||{},q("warning"),q("error"),q("fatalError"),ut}(q,Pt,re),ut.domBuilder=at.domBuilder||Pt,Ht&&(nt[""]=z.HTML),nt.xml=nt.xml||z.XML,Y&&"string"==typeof Y?ut.parse((at.normalizeLineEndings||At)(Y),nt,Zt):ut.errorHandler.error("invalid doc source"),Pt.doc},W.prototype={startDocument:function(){this.doc=(new rt).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(Y,E,at,ut){var Pt=this.doc,q=Pt.createElementNS(Y,at||E),re=ut.length;lt(this,q),this.currentElement=q,this.locator&&Z(this.locator,q);for(var nt=0;nt<re;nt++){Y=ut.getURI(nt);var Ht=ut.getValue(nt),Zt=(at=ut.getQName(nt),Pt.createAttributeNS(Y,at));this.locator&&Z(ut.getLocator(nt),Zt),Zt.value=Zt.nodeValue=Ht,q.setAttributeNode(Zt)}},endElement:function(Y,E,at){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(Y,E){},endPrefixMapping:function(Y){},processingInstruction:function(Y,E){var at=this.doc.createProcessingInstruction(Y,E);this.locator&&Z(this.locator,at),lt(this,at)},ignorableWhitespace:function(Y,E,at){},characters:function(Y,E,at){if(Y=gt.apply(this,arguments)){if(this.cdata)var ut=this.doc.createCDATASection(Y);else ut=this.doc.createTextNode(Y);this.currentElement?this.currentElement.appendChild(ut):/^\s*$/.test(Y)&&this.doc.appendChild(ut),this.locator&&Z(this.locator,ut)}},skippedEntity:function(Y){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(Y){(this.locator=Y)&&(Y.lineNumber=0)},comment:function(Y,E,at){Y=gt.apply(this,arguments);var ut=this.doc.createComment(Y);this.locator&&Z(this.locator,ut),lt(this,ut)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(Y,E,at){var ut=this.doc.implementation;if(ut&&ut.createDocumentType){var Pt=ut.createDocumentType(Y,E,at);this.locator&&Z(this.locator,Pt),lt(this,Pt),this.doc.doctype=Pt}},warning:function(Y){console.warn("[xmldom warning]\t"+Y,st(this.locator))},error:function(Y){console.error("[xmldom error]\t"+Y,st(this.locator))},fatalError:function(Y){throw new P(Y,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(Y){W.prototype[Y]=function(){return null}}),ee.DOMParser=dt},8486:(qt,ee,K)=>{var G=K(2834),vt=G.find,ht=G.NAMESPACE;function Bt(D){return""!==D}function rt(D,F){return D.hasOwnProperty(F)||(D[F]=!0),D}function z(D){if(!D)return[];var F=function Lt(D){return D?D.split(/[\t\n\f\r ]+/).filter(Bt):[]}(D);return Object.keys(F.reduce(rt,{}))}function g(D,F){for(var ot in D)Object.prototype.hasOwnProperty.call(D,ot)&&(F[ot]=D[ot])}function At(D,F){var ot=D.prototype;if(!(ot instanceof F)){let Re=function(){};Re.prototype=F.prototype,Re=new Re,g(ot,Re),D.prototype=ot=Re}ot.constructor!=D&&("function"!=typeof D&&console.error("unknown Class:"+D),ot.constructor=D)}var dt={},bt=dt.ELEMENT_NODE=1,W=dt.ATTRIBUTE_NODE=2,Z=dt.TEXT_NODE=3,st=dt.CDATA_SECTION_NODE=4,gt=dt.ENTITY_REFERENCE_NODE=5,lt=dt.ENTITY_NODE=6,Y=dt.PROCESSING_INSTRUCTION_NODE=7,E=dt.COMMENT_NODE=8,at=dt.DOCUMENT_NODE=9,ut=dt.DOCUMENT_TYPE_NODE=10,Pt=dt.DOCUMENT_FRAGMENT_NODE=11,q=dt.NOTATION_NODE=12,re={},nt={},Yt=(re.INDEX_SIZE_ERR=(nt[1]="Index size error",1),re.DOMSTRING_SIZE_ERR=(nt[2]="DOMString size error",2),re.HIERARCHY_REQUEST_ERR=(nt[3]="Hierarchy request error",3)),Ge=(re.WRONG_DOCUMENT_ERR=(nt[4]="Wrong document",4),re.INVALID_CHARACTER_ERR=(nt[5]="Invalid character",5),re.NO_DATA_ALLOWED_ERR=(nt[6]="No data allowed",6),re.NO_MODIFICATION_ALLOWED_ERR=(nt[7]="No modification allowed",7),re.NOT_FOUND_ERR=(nt[8]="Not found",8)),B=(re.NOT_SUPPORTED_ERR=(nt[9]="Not supported",9),re.INUSE_ATTRIBUTE_ERR=(nt[10]="Attribute in use",10));function oe(D,F){if(F instanceof Error)var ot=F;else ot=this,Error.call(this,nt[D]),this.message=nt[D],Error.captureStackTrace&&Error.captureStackTrace(this,oe);return ot.code=D,F&&(this.message=this.message+": "+F),ot}function xe(){}function We(D,F){this._node=D,this._refresh=F,$e(this)}function $e(D){var F=D._node._inc||D._node.ownerDocument._inc;if(D._inc!==F){var ot=D._refresh(D._node);if(Fs(D,"length",ot.length),!D.$$length||ot.length<D.$$length)for(var le=ot.length;le in D;le++)Object.prototype.hasOwnProperty.call(D,le)&&delete D[le];g(ot,D),D._inc=F}}function Be(){}function r1(D,F){for(var ot=D.length;ot--;)if(D[ot]===F)return ot}function o1(D,F,ot,le){if(le?F[r1(F,le)]=ot:F[F.length++]=ot,D){ot.ownerElement=D;var Re=D.ownerDocument;Re&&(le&&t1(Re,D,le),function ze(D,F,ot){D&&D._inc++,ot.namespaceURI===ht.XMLNS&&(F._nsMap[ot.prefix?ot.localName:""]=ot.value)}(Re,D,ot))}}function L1(D,F,ot){var le=r1(F,ot);if(!(le>=0))throw new oe(Ge,new Error(D.tagName+"@"+ot));for(var Re=F.length-1;le<Re;)F[le]=F[++le];if(F.length=Re,D){var ne=D.ownerDocument;ne&&(t1(ne,D,ot),ot.ownerElement=null)}}function Qe(){}function Ye(){}function O(D){return("<"==D?"&lt;":">"==D&&"&gt;")||"&"==D&&"&amp;"||'"'==D&&"&quot;"||"&#"+D.charCodeAt()+";"}function It(D,F){if(F(D))return!0;if(D=D.firstChild)do{if(It(D,F))return!0}while(D=D.nextSibling)}function Dt(){this.ownerDocument=this}function t1(D,F,ot,le){D&&D._inc++,ot.namespaceURI===ht.XMLNS&&delete F._nsMap[ot.prefix?ot.localName:""]}function z1(D,F,ot){if(D&&D._inc){D._inc++;var le=F.childNodes;if(ot)le[le.length++]=ot;else{for(var Re=F.firstChild,ne=0;Re;)le[ne++]=Re,Re=Re.nextSibling;le.length=ne,delete le[le.length]}}}function T1(D,F){var ot=F.previousSibling,le=F.nextSibling;return ot?ot.nextSibling=le:D.firstChild=le,le?le.previousSibling=ot:D.lastChild=ot,F.parentNode=null,F.previousSibling=null,F.nextSibling=null,z1(D.ownerDocument,D),F}function P1(D){return D&&D.nodeType===Ye.DOCUMENT_TYPE_NODE}function $1(D){return D&&D.nodeType===Ye.ELEMENT_NODE}function Fr(D){return D&&D.nodeType===Ye.TEXT_NODE}function kn(D,F){var ot=D.childNodes||[];if(vt(ot,$1)||P1(F))return!1;var le=vt(ot,P1);return!(F&&le&&ot.indexOf(le)>ot.indexOf(F))}function T(D,F){var ot=D.childNodes||[];if(vt(ot,function le(ne){return $1(ne)&&ne!==F}))return!1;var Re=vt(ot,P1);return!(F&&Re&&ot.indexOf(Re)>ot.indexOf(F))}function b(D,F,ot){var le=D.childNodes||[],Re=F.childNodes||[];if(F.nodeType===Ye.DOCUMENT_FRAGMENT_NODE){var ne=Re.filter($1);if(ne.length>1||vt(Re,Fr))throw new oe(Yt,"More than one element or text in fragment");if(1===ne.length&&!kn(D,ot))throw new oe(Yt,"Element in fragment can not be inserted before doctype")}if($1(F)&&!kn(D,ot))throw new oe(Yt,"Only one element can be added and only after doctype");if(P1(F)){if(vt(le,P1))throw new oe(Yt,"Only one doctype is allowed");var nr=vt(le,$1);if(ot&&le.indexOf(nr)<le.indexOf(ot))throw new oe(Yt,"Doctype can only be inserted before an element");if(!ot&&nr)throw new oe(Yt,"Doctype can not be appended since element is present")}}function U(D,F,ot){var le=D.childNodes||[],Re=F.childNodes||[];if(F.nodeType===Ye.DOCUMENT_FRAGMENT_NODE){var ne=Re.filter($1);if(ne.length>1||vt(Re,Fr))throw new oe(Yt,"More than one element or text in fragment");if(1===ne.length&&!T(D,ot))throw new oe(Yt,"Element in fragment can not be inserted before doctype")}if($1(F)&&!T(D,ot))throw new oe(Yt,"Only one element can be added and only after doctype");if(P1(F)){if(vt(le,function(Mr){return P1(Mr)&&Mr!==ot}))throw new oe(Yt,"Only one doctype is allowed");var nr=vt(le,$1);if(ot&&le.indexOf(nr)<le.indexOf(ot))throw new oe(Yt,"Doctype can only be inserted before an element")}}function zt(D,F,ot,le){(function M(D,F,ot){if(!function l1(D){return D&&(D.nodeType===Ye.DOCUMENT_NODE||D.nodeType===Ye.DOCUMENT_FRAGMENT_NODE||D.nodeType===Ye.ELEMENT_NODE)}(D))throw new oe(Yt,"Unexpected parent node type "+D.nodeType);if(ot&&ot.parentNode!==D)throw new oe(Ge,"child not in parent");if(!function c1(D){return D&&($1(D)||Fr(D)||P1(D)||D.nodeType===Ye.DOCUMENT_FRAGMENT_NODE||D.nodeType===Ye.COMMENT_NODE||D.nodeType===Ye.PROCESSING_INSTRUCTION_NODE)}(F)||P1(F)&&D.nodeType!==Ye.DOCUMENT_NODE)throw new oe(Yt,"Unexpected node type "+F.nodeType+" for parent node type "+D.nodeType)})(D,F,ot),D.nodeType===Ye.DOCUMENT_NODE&&(le||b)(D,F,ot);var Re=F.parentNode;if(Re&&Re.removeChild(F),F.nodeType===Pt){var ne=F.firstChild;if(null==ne)return F;var nr=F.lastChild}else ne=nr=F;var Dn=ot?ot.previousSibling:D.lastChild;ne.previousSibling=Dn,nr.nextSibling=ot,Dn?Dn.nextSibling=ne:D.firstChild=ne,null==ot?D.lastChild=nr:ot.previousSibling=nr;do{ne.parentNode=D}while(ne!==nr&&(ne=ne.nextSibling));return z1(D.ownerDocument||D,D),F.nodeType==Pt&&(F.firstChild=F.lastChild=null),F}function ve(){this._nsMap={}}function a1(){}function Tt(){}function Nt(){}function ct(){}function St(){}function fe(){}function ue(){}function Ke(){}function I1(){}function R1(){}function v1(){}function _r(){}function gr(D,F){var ot=[],le=9==this.nodeType&&this.documentElement||this,Re=le.prefix,ne=le.namespaceURI;if(ne&&null==Re&&null==(Re=le.lookupPrefix(ne)))var nr=[{namespace:ne,prefix:null}];return V1(this,ot,D,F,nr),ot.join("")}function jr(D,F,ot){var le=D.prefix||"",Re=D.namespaceURI;if(!Re||"xml"===le&&Re===ht.XML||Re===ht.XMLNS)return!1;for(var ne=ot.length;ne--;){var nr=ot[ne];if(nr.prefix===le)return nr.namespace!==Re}return!0}function oo(D,F,ot){D.push(" ",F,'="',ot.replace(/[<>&"\t\n\r]/g,O),'"')}function V1(D,F,ot,le,Re){if(Re||(Re=[]),le){if(!(D=le(D)))return;if("string"==typeof D)return void F.push(D)}switch(D.nodeType){case bt:var ne=D.attributes,nr=ne.length,Ir=D.firstChild,Dn=D.tagName,Lr=Dn;if(!(ot=ht.isHTML(D.namespaceURI)||ot)&&!D.prefix&&D.namespaceURI){for(var Mr,wo=0;wo<ne.length;wo++)if("xmlns"===ne.item(wo).name){Mr=ne.item(wo).value;break}if(!Mr)for(var Wo=Re.length-1;Wo>=0;Wo--)if(""===(Pn=Re[Wo]).prefix&&Pn.namespace===D.namespaceURI){Mr=Pn.namespace;break}if(Mr!==D.namespaceURI)for(Wo=Re.length-1;Wo>=0;Wo--){var Pn;if((Pn=Re[Wo]).namespace===D.namespaceURI){Pn.prefix&&(Lr=Pn.prefix+":"+Dn);break}}}F.push("<",Lr);for(var io=0;io<nr;io++)"xmlns"==(Jn=ne.item(io)).prefix?Re.push({prefix:Jn.localName,namespace:Jn.value}):"xmlns"==Jn.nodeName&&Re.push({prefix:"",namespace:Jn.value});for(io=0;io<nr;io++){var Jn,Co,De;jr(Jn=ne.item(io),0,Re)&&(oo(F,(Co=Jn.prefix||"")?"xmlns:"+Co:"xmlns",De=Jn.namespaceURI),Re.push({prefix:Co,namespace:De})),V1(Jn,F,ot,le,Re)}if(Dn===Lr&&jr(D,0,Re)&&(oo(F,(Co=D.prefix||"")?"xmlns:"+Co:"xmlns",De=D.namespaceURI),Re.push({prefix:Co,namespace:De})),Ir||ot&&!/^(?:meta|link|img|br|hr|input)$/i.test(Dn)){if(F.push(">"),ot&&/^script$/i.test(Dn))for(;Ir;)Ir.data?F.push(Ir.data):V1(Ir,F,ot,le,Re.slice()),Ir=Ir.nextSibling;else for(;Ir;)V1(Ir,F,ot,le,Re.slice()),Ir=Ir.nextSibling;F.push("</",Lr,">")}else F.push("/>");return;case at:case Pt:for(Ir=D.firstChild;Ir;)V1(Ir,F,ot,le,Re.slice()),Ir=Ir.nextSibling;return;case W:return oo(F,D.name,D.value);case Z:return F.push(D.data.replace(/[<&>]/g,O));case st:return F.push("<![CDATA[",D.data,"]]>");case E:return F.push("\x3c!--",D.data,"--\x3e");case ut:var Qn=D.publicId,Hn=D.systemId;if(F.push("<!DOCTYPE ",D.name),Qn)F.push(" PUBLIC ",Qn),Hn&&"."!=Hn&&F.push(" ",Hn),F.push(">");else if(Hn&&"."!=Hn)F.push(" SYSTEM ",Hn,">");else{var h1=D.internalSubset;h1&&F.push(" [",h1,"]"),F.push(">")}return;case Y:return F.push("<?",D.target," ",D.data,"?>");case gt:return F.push("&",D.nodeName,";");default:F.push("??",D.nodeName)}}function Jo(D,F,ot){var le;switch(F.nodeType){case bt:(le=F.cloneNode(!1)).ownerDocument=D;case Pt:break;case W:ot=!0}if(le||(le=F.cloneNode(!1)),le.ownerDocument=D,le.parentNode=null,ot)for(var Re=F.firstChild;Re;)le.appendChild(Jo(D,Re,ot)),Re=Re.nextSibling;return le}function so(D,F,ot){var le=new F.constructor;for(var Re in F)if(Object.prototype.hasOwnProperty.call(F,Re)){var ne=F[Re];"object"!=typeof ne&&ne!=le[Re]&&(le[Re]=ne)}switch(F.childNodes&&(le.childNodes=new xe),le.ownerDocument=D,le.nodeType){case bt:var nr=F.attributes,Dn=le.attributes=new Be,Lr=nr.length;Dn._ownerElement=le;for(var Mr=0;Mr<Lr;Mr++)le.setAttributeNode(so(D,nr.item(Mr),!0));break;case W:ot=!0}if(ot)for(var wo=F.firstChild;wo;)le.appendChild(so(D,wo,ot)),wo=wo.nextSibling;return le}function Fs(D,F,ot){D[F]=ot}re.INVALID_STATE_ERR=(nt[11]="Invalid state",11),re.SYNTAX_ERR=(nt[12]="Syntax error",12),re.INVALID_MODIFICATION_ERR=(nt[13]="Invalid modification",13),re.NAMESPACE_ERR=(nt[14]="Invalid namespace",14),re.INVALID_ACCESS_ERR=(nt[15]="Invalid access",15),oe.prototype=Error.prototype,g(re,oe),xe.prototype={length:0,item:function(D){return D>=0&&D<this.length?this[D]:null},toString:function(D,F){for(var ot=[],le=0;le<this.length;le++)V1(this[le],ot,D,F);return ot.join("")},filter:function(D){return Array.prototype.filter.call(this,D)},indexOf:function(D){return Array.prototype.indexOf.call(this,D)}},We.prototype.item=function(D){return $e(this),this[D]||null},At(We,xe),Be.prototype={length:0,item:xe.prototype.item,getNamedItem:function(D){for(var F=this.length;F--;){var ot=this[F];if(ot.nodeName==D)return ot}},setNamedItem:function(D){var F=D.ownerElement;if(F&&F!=this._ownerElement)throw new oe(B);var ot=this.getNamedItem(D.nodeName);return o1(this._ownerElement,this,D,ot),ot},setNamedItemNS:function(D){var ot,F=D.ownerElement;if(F&&F!=this._ownerElement)throw new oe(B);return ot=this.getNamedItemNS(D.namespaceURI,D.localName),o1(this._ownerElement,this,D,ot),ot},removeNamedItem:function(D){var F=this.getNamedItem(D);return L1(this._ownerElement,this,F),F},removeNamedItemNS:function(D,F){var ot=this.getNamedItemNS(D,F);return L1(this._ownerElement,this,ot),ot},getNamedItemNS:function(D,F){for(var ot=this.length;ot--;){var le=this[ot];if(le.localName==F&&le.namespaceURI==D)return le}return null}},Qe.prototype={hasFeature:function(D,F){return!0},createDocument:function(D,F,ot){var le=new Dt;if(le.implementation=this,le.childNodes=new xe,le.doctype=ot||null,ot&&le.appendChild(ot),F){var Re=le.createElementNS(D,F);le.appendChild(Re)}return le},createDocumentType:function(D,F,ot){var le=new fe;return le.name=D,le.nodeName=D,le.publicId=F||"",le.systemId=ot||"",le}},Ye.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(D,F){return zt(this,D,F)},replaceChild:function(D,F){zt(this,D,F,U),F&&this.removeChild(F)},removeChild:function(D){return T1(this,D)},appendChild:function(D){return this.insertBefore(D,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(D){return so(this.ownerDocument||this,this,D)},normalize:function(){for(var D=this.firstChild;D;){var F=D.nextSibling;F&&F.nodeType==Z&&D.nodeType==Z?(this.removeChild(F),D.appendData(F.data)):(D.normalize(),D=F)}},isSupported:function(D,F){return this.ownerDocument.implementation.hasFeature(D,F)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(D){for(var F=this;F;){var ot=F._nsMap;if(ot)for(var le in ot)if(Object.prototype.hasOwnProperty.call(ot,le)&&ot[le]===D)return le;F=F.nodeType==W?F.ownerDocument:F.parentNode}return null},lookupNamespaceURI:function(D){for(var F=this;F;){var ot=F._nsMap;if(ot&&Object.prototype.hasOwnProperty.call(ot,D))return ot[D];F=F.nodeType==W?F.ownerDocument:F.parentNode}return null},isDefaultNamespace:function(D){return null==this.lookupPrefix(D)}},g(dt,Ye),g(dt,Ye.prototype),Dt.prototype={nodeName:"#document",nodeType:at,doctype:null,documentElement:null,_inc:1,insertBefore:function(D,F){if(D.nodeType==Pt){for(var ot=D.firstChild;ot;){var le=ot.nextSibling;this.insertBefore(ot,F),ot=le}return D}return zt(this,D,F),D.ownerDocument=this,null===this.documentElement&&D.nodeType===bt&&(this.documentElement=D),D},removeChild:function(D){return this.documentElement==D&&(this.documentElement=null),T1(this,D)},replaceChild:function(D,F){zt(this,D,F,U),D.ownerDocument=this,F&&this.removeChild(F),$1(D)&&(this.documentElement=D)},importNode:function(D,F){return Jo(this,D,F)},getElementById:function(D){var F=null;return It(this.documentElement,function(ot){if(ot.nodeType==bt&&ot.getAttribute("id")==D)return F=ot,!0}),F},getElementsByClassName:function(D){var F=z(D);return new We(this,function(ot){var le=[];return F.length>0&&It(ot.documentElement,function(Re){if(Re!==ot&&Re.nodeType===bt){var ne=Re.getAttribute("class");if(ne){var nr=D===ne;if(!nr){var Dn=z(ne);nr=F.every(function P(D){return function(F){return D&&-1!==D.indexOf(F)}}(Dn))}nr&&le.push(Re)}}}),le})},createElement:function(D){var F=new ve;return F.ownerDocument=this,F.nodeName=D,F.tagName=D,F.localName=D,F.childNodes=new xe,(F.attributes=new Be)._ownerElement=F,F},createDocumentFragment:function(){var D=new R1;return D.ownerDocument=this,D.childNodes=new xe,D},createTextNode:function(D){var F=new Nt;return F.ownerDocument=this,F.appendData(D),F},createComment:function(D){var F=new ct;return F.ownerDocument=this,F.appendData(D),F},createCDATASection:function(D){var F=new St;return F.ownerDocument=this,F.appendData(D),F},createProcessingInstruction:function(D,F){var ot=new v1;return ot.ownerDocument=this,ot.tagName=ot.nodeName=ot.target=D,ot.nodeValue=ot.data=F,ot},createAttribute:function(D){var F=new a1;return F.ownerDocument=this,F.name=D,F.nodeName=D,F.localName=D,F.specified=!0,F},createEntityReference:function(D){var F=new I1;return F.ownerDocument=this,F.nodeName=D,F},createElementNS:function(D,F){var ot=new ve,le=F.split(":"),Re=ot.attributes=new Be;return ot.childNodes=new xe,ot.ownerDocument=this,ot.nodeName=F,ot.tagName=F,ot.namespaceURI=D,2==le.length?(ot.prefix=le[0],ot.localName=le[1]):ot.localName=F,Re._ownerElement=ot,ot},createAttributeNS:function(D,F){var ot=new a1,le=F.split(":");return ot.ownerDocument=this,ot.nodeName=F,ot.name=F,ot.namespaceURI=D,ot.specified=!0,2==le.length?(ot.prefix=le[0],ot.localName=le[1]):ot.localName=F,ot}},At(Dt,Ye),Dt.prototype.getElementsByTagName=(ve.prototype={nodeType:bt,hasAttribute:function(D){return null!=this.getAttributeNode(D)},getAttribute:function(D){var F=this.getAttributeNode(D);return F&&F.value||""},getAttributeNode:function(D){return this.attributes.getNamedItem(D)},setAttribute:function(D,F){var ot=this.ownerDocument.createAttribute(D);ot.value=ot.nodeValue=""+F,this.setAttributeNode(ot)},removeAttribute:function(D){var F=this.getAttributeNode(D);F&&this.removeAttributeNode(F)},appendChild:function(D){return D.nodeType===Pt?this.insertBefore(D,null):function se(D,F){return F.parentNode&&F.parentNode.removeChild(F),F.parentNode=D,F.previousSibling=D.lastChild,F.nextSibling=null,F.previousSibling?F.previousSibling.nextSibling=F:D.firstChild=F,D.lastChild=F,z1(D.ownerDocument,D,F),F}(this,D)},setAttributeNode:function(D){return this.attributes.setNamedItem(D)},setAttributeNodeNS:function(D){return this.attributes.setNamedItemNS(D)},removeAttributeNode:function(D){return this.attributes.removeNamedItem(D.nodeName)},removeAttributeNS:function(D,F){var ot=this.getAttributeNodeNS(D,F);ot&&this.removeAttributeNode(ot)},hasAttributeNS:function(D,F){return null!=this.getAttributeNodeNS(D,F)},getAttributeNS:function(D,F){var ot=this.getAttributeNodeNS(D,F);return ot&&ot.value||""},setAttributeNS:function(D,F,ot){var le=this.ownerDocument.createAttributeNS(D,F);le.value=le.nodeValue=""+ot,this.setAttributeNode(le)},getAttributeNodeNS:function(D,F){return this.attributes.getNamedItemNS(D,F)},getElementsByTagName:function(D){return new We(this,function(F){var ot=[];return It(F,function(le){le!==F&&le.nodeType==bt&&("*"===D||le.tagName==D)&&ot.push(le)}),ot})},getElementsByTagNameNS:function(D,F){return new We(this,function(ot){var le=[];return It(ot,function(Re){Re!==ot&&Re.nodeType===bt&&("*"===D||Re.namespaceURI===D)&&("*"===F||Re.localName==F)&&le.push(Re)}),le})}}).getElementsByTagName,Dt.prototype.getElementsByTagNameNS=ve.prototype.getElementsByTagNameNS,At(ve,Ye),a1.prototype.nodeType=W,At(a1,Ye),Tt.prototype={data:"",substringData:function(D,F){return this.data.substring(D,D+F)},appendData:function(D){this.nodeValue=this.data=D=this.data+D,this.length=D.length},insertData:function(D,F){this.replaceData(D,0,F)},appendChild:function(D){throw new Error(nt[Yt])},deleteData:function(D,F){this.replaceData(D,F,"")},replaceData:function(D,F,ot){var le=this.data.substring(0,D),Re=this.data.substring(D+F);this.nodeValue=this.data=ot=le+ot+Re,this.length=ot.length}},At(Tt,Ye),Nt.prototype={nodeName:"#text",nodeType:Z,splitText:function(D){var F=this.data,ot=F.substring(D);F=F.substring(0,D),this.data=this.nodeValue=F,this.length=F.length;var le=this.ownerDocument.createTextNode(ot);return this.parentNode&&this.parentNode.insertBefore(le,this.nextSibling),le}},At(Nt,Tt),ct.prototype={nodeName:"#comment",nodeType:E},At(ct,Tt),St.prototype={nodeName:"#cdata-section",nodeType:st},At(St,Tt),fe.prototype.nodeType=ut,At(fe,Ye),ue.prototype.nodeType=q,At(ue,Ye),Ke.prototype.nodeType=lt,At(Ke,Ye),I1.prototype.nodeType=gt,At(I1,Ye),R1.prototype.nodeName="#document-fragment",R1.prototype.nodeType=Pt,At(R1,Ye),v1.prototype.nodeType=Y,At(v1,Ye),_r.prototype.serializeToString=function(D,F,ot){return gr.call(D,F,ot)},Ye.prototype.toString=gr;try{if(Object.defineProperty){let D=function(F){switch(F.nodeType){case bt:case Pt:var ot=[];for(F=F.firstChild;F;)7!==F.nodeType&&8!==F.nodeType&&ot.push(D(F)),F=F.nextSibling;return ot.join("");default:return F.nodeValue}};Object.defineProperty(We.prototype,"length",{get:function(){return $e(this),this.$$length}}),Object.defineProperty(Ye.prototype,"textContent",{get:function(){return D(this)},set:function(F){switch(this.nodeType){case bt:case Pt:for(;this.firstChild;)this.removeChild(this.firstChild);(F||String(F))&&this.appendChild(this.ownerDocument.createTextNode(F));break;default:this.data=F,this.value=F,this.nodeValue=F}}}),Fs=function(F,ot,le){F["$$"+ot]=le}}}catch{}ee.DocumentType=fe,ee.DOMException=oe,ee.DOMImplementation=Qe,ee.Element=ve,ee.Node=Ye,ee.NodeList=xe,ee.XMLSerializer=_r},6443:(qt,ee,K)=>{"use strict";var G=K(2834).freeze;ee.XML_ENTITIES=G({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),ee.HTML_ENTITIES=G({Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\u{1d504}",afr:"\u{1d51e}",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",AMP:"&",amp:"&",And:"\u2a53",and:"\u2227",andand:"\u2a55",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1d538}",aopf:"\u{1d552}",ap:"\u2248",apacir:"\u2a6f",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\u{1d49c}",ascr:"\u{1d4b6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\u{1d505}",bfr:"\u{1d51f}",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\u{1d539}",bopf:"\u{1d553}",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250c",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252c",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxUL:"\u255d",boxUl:"\u255c",boxuL:"\u255b",boxul:"\u2518",boxUR:"\u255a",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256c",boxVh:"\u256b",boxvH:"\u256a",boxvh:"\u253c",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255f",boxvR:"\u255e",boxvr:"\u251c",bprime:"\u2035",Breve:"\u02d8",breve:"\u02d8",brvbar:"\xa6",Bscr:"\u212c",bscr:"\u{1d4b7}",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsol:"\\",bsolb:"\u29c5",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22d2",cap:"\u2229",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",CenterDot:"\xb7",centerdot:"\xb7",Cfr:"\u212d",cfr:"\u{1d520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",cir:"\u25cb",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",Conint:"\u222f",conint:"\u222e",ContourIntegral:"\u222e",Copf:"\u2102",copf:"\u{1d554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xa9",copy:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",Cross:"\u2a2f",cross:"\u2717",Cscr:"\u{1d49e}",cscr:"\u{1d4b8}",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",Cup:"\u22d3",cup:"\u222a",cupbrcap:"\u2a48",CupCap:"\u224d",cupcap:"\u2a46",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21a1",dArr:"\u21d3",darr:"\u2193",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21ca",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\u{1d507}",dfr:"\u{1d521}",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",Diamond:"\u22c4",diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\u{1d53b}",dopf:"\u{1d555}",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21d3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVector:"\u21bd",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295f",DownRightVector:"\u21c1",DownRightVectorBar:"\u2957",DownTee:"\u22a4",DownTeeArrow:"\u21a7",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\u{1d49f}",dscr:"\u{1d4b9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",ecir:"\u2256",Ecirc:"\xca",ecirc:"\xea",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1d508}",efr:"\u{1d522}",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1d53c}",eopf:"\u{1d556}",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212f",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\u{1d509}",ffr:"\u{1d523}",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\u{1d53d}",fopf:"\u{1d557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1d4bb}",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",ges:"\u2a7e",gescc:"\u2aa9",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\u{1d50a}",gfr:"\u{1d524}",Gg:"\u22d9",gg:"\u226b",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2aa5",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gnE:"\u2269",gne:"\u2a88",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\u{1d53e}",gopf:"\u{1d558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\u{1d4a2}",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",Gt:"\u226b",GT:">",gt:">",gtcc:"\u2aa7",gtcir:"\u2a7a",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",hArr:"\u21d4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",Hfr:"\u210c",hfr:"\u{1d525}",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",Hopf:"\u210d",hopf:"\u{1d559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210b",hscr:"\u{1d4bd}",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",Ifr:"\u2111",ifr:"\u{1d526}",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",in:"\u2208",incare:"\u2105",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",Int:"\u222c",int:"\u222b",intcal:"\u22ba",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\u{1d540}",iopf:"\u{1d55a}",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",Iscr:"\u2110",iscr:"\u{1d4be}",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1d50d}",jfr:"\u{1d527}",jmath:"\u0237",Jopf:"\u{1d541}",jopf:"\u{1d55b}",Jscr:"\u{1d4a5}",jscr:"\u{1d4bf}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\u{1d50e}",kfr:"\u{1d528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\u{1d542}",kopf:"\u{1d55c}",Kscr:"\u{1d4a6}",kscr:"\u{1d4c0}",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",Lang:"\u27ea",lang:"\u27e8",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",Larr:"\u219e",lArr:"\u21d0",larr:"\u2190",larrb:"\u21e4",larrbfs:"\u291f",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",lat:"\u2aab",lAtail:"\u291b",latail:"\u2919",late:"\u2aad",lates:"\u2aad\ufe00",lBarr:"\u290e",lbarr:"\u290c",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27e8",LeftArrow:"\u2190",Leftarrow:"\u21d0",leftarrow:"\u2190",LeftArrowBar:"\u21e4",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21c3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrow:"\u2194",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTee:"\u22a3",LeftTeeArrow:"\u21a4",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangle:"\u22b2",LeftTriangleBar:"\u29cf",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21bf",LeftUpVectorBar:"\u2958",LeftVector:"\u21bc",LeftVectorBar:"\u2952",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",les:"\u2a7d",lescc:"\u2aa8",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\u{1d50f}",lfr:"\u{1d529}",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22d8",ll:"\u226a",llarr:"\u21c7",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoust:"\u23b0",lmoustache:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lnE:"\u2268",lne:"\u2a87",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftarrow:"\u27f5",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longleftrightarrow:"\u27f7",longmapsto:"\u27fc",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",longrightarrow:"\u27f6",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\u{1d543}",lopf:"\u{1d55d}",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1d4c1}",Lsh:"\u21b0",lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226a",LT:"<",lt:"<",ltcc:"\u2aa6",ltcir:"\u2a79",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\u{1d510}",mfr:"\u{1d52a}",mho:"\u2127",micro:"\xb5",mid:"\u2223",midast:"*",midcir:"\u2af0",middot:"\xb7",minus:"\u2212",minusb:"\u229f",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\u{1d544}",mopf:"\u{1d55e}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1d4c2}",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266e",natural:"\u266e",naturals:"\u2115",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21d7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1d511}",nfr:"\u{1d52b}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nhArr:"\u21ce",nharr:"\u21ae",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlArr:"\u21cd",nlarr:"\u219a",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21cd",nleftarrow:"\u219a",nLeftrightarrow:"\u21ce",nleftrightarrow:"\u21ae",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",Nopf:"\u2115",nopf:"\u{1d55f}",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangle:"\u22ea",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangle:"\u22eb",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",npre:"\u2aaf\u0338",nprec:"\u2280",npreceq:"\u2aaf\u0338",nrArr:"\u21cf",nrarr:"\u219b",nrarrc:"\u2933\u0338",nrarrw:"\u219d\u0338",nRightarrow:"\u21cf",nrightarrow:"\u219b",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\u{1d4a9}",nscr:"\u{1d4c3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nVDash:"\u22af",nVdash:"\u22ae",nvDash:"\u22ad",nvdash:"\u22ac",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwArr:"\u21d6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",ocir:"\u229a",Ocirc:"\xd4",ocirc:"\xf4",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\u{1d512}",ofr:"\u{1d52c}",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\u{1d546}",oopf:"\u{1d560}",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",Or:"\u2a54",or:"\u2228",orarr:"\u21bb",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\u{1d4aa}",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",Otimes:"\u2a37",otimes:"\u2297",otimesas:"\u2a36",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",par:"\u2225",para:"\xb6",parallel:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\u{1d513}",pfr:"\u{1d52d}",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plus:"+",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",Popf:"\u2119",popf:"\u{1d561}",pound:"\xa3",Pr:"\u2abb",pr:"\u227a",prap:"\u2ab7",prcue:"\u227c",prE:"\u2ab3",pre:"\u2aaf",prec:"\u227a",precapprox:"\u2ab7",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",precsim:"\u227e",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportion:"\u2237",Proportional:"\u221d",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\u{1d4ab}",pscr:"\u{1d4c5}",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\u{1d514}",qfr:"\u{1d52e}",qint:"\u2a0c",Qopf:"\u211a",qopf:"\u{1d562}",qprime:"\u2057",Qscr:"\u{1d4ac}",qscr:"\u{1d4c6}",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",QUOT:'"',quot:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",Rang:"\u27eb",rang:"\u27e9",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",Rarr:"\u21a0",rArr:"\u21d2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",rAtail:"\u291c",ratail:"\u291a",ratio:"\u2236",rationals:"\u211a",RBarr:"\u2910",rBarr:"\u290f",rbarr:"\u290d",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",Re:"\u211c",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",rect:"\u25ad",REG:"\xae",reg:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",Rfr:"\u211c",rfr:"\u{1d52f}",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrow:"\u2192",Rightarrow:"\u21d2",rightarrow:"\u2192",RightArrowBar:"\u21e5",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVector:"\u21c2",RightDownVectorBar:"\u2955",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTee:"\u22a2",RightTeeArrow:"\u21a6",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangle:"\u22b3",RightTriangleBar:"\u29d0",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVector:"\u21be",RightUpVectorBar:"\u2954",RightVector:"\u21c0",RightVectorBar:"\u2953",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoust:"\u23b1",rmoustache:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",Ropf:"\u211d",ropf:"\u{1d563}",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",Rscr:"\u211b",rscr:"\u{1d4c7}",Rsh:"\u21b1",rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",Sc:"\u2abc",sc:"\u227b",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227d",scE:"\u2ab4",sce:"\u2ab0",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdot:"\u22c5",sdotb:"\u22a1",sdote:"\u2a66",searhk:"\u2925",seArr:"\u21d8",searr:"\u2198",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1d516}",sfr:"\u{1d530}",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",sol:"/",solb:"\u29c4",solbar:"\u233f",Sopf:"\u{1d54a}",sopf:"\u{1d564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25a1",Square:"\u25a1",square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squf:"\u25aa",srarr:"\u2192",Sscr:"\u{1d4ae}",sscr:"\u{1d4c8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",Sub:"\u22d0",sub:"\u2282",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",Subset:"\u22d0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succ:"\u227b",succapprox:"\u2ab8",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",Sum:"\u2211",sum:"\u2211",sung:"\u266a",Sup:"\u22d1",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",Supset:"\u22d1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swArr:"\u21d9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\u{1d517}",tfr:"\u{1d531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",Tilde:"\u223c",tilde:"\u02dc",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xd7",timesb:"\u22a0",timesbar:"\u2a31",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",top:"\u22a4",topbot:"\u2336",topcir:"\u2af1",Topf:"\u{1d54b}",topf:"\u{1d565}",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\u{1d4af}",tscr:"\u{1d4c9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",Uarr:"\u219f",uArr:"\u21d1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\u{1d518}",ufr:"\u{1d532}",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1d54c}",uopf:"\u{1d566}",UpArrow:"\u2191",Uparrow:"\u21d1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21c5",UpDownArrow:"\u2195",Updownarrow:"\u21d5",updownarrow:"\u2195",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03d2",upsi:"\u03c5",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTee:"\u22a5",UpTeeArrow:"\u21a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\u{1d4b0}",uscr:"\u{1d4ca}",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",vArr:"\u21d5",varr:"\u2195",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",Vbar:"\u2aeb",vBar:"\u2ae8",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22ab",Vdash:"\u22a9",vDash:"\u22a8",vdash:"\u22a2",Vdashl:"\u2ae6",Vee:"\u22c1",vee:"\u2228",veebar:"\u22bb",veeeq:"\u225a",vellip:"\u22ee",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\u{1d519}",vfr:"\u{1d533}",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\u{1d54d}",vopf:"\u{1d567}",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\u{1d4b1}",vscr:"\u{1d4cb}",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",Wedge:"\u22c0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1d51a}",wfr:"\u{1d534}",Wopf:"\u{1d54e}",wopf:"\u{1d568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1d4b2}",wscr:"\u{1d4cc}",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\u{1d51b}",xfr:"\u{1d535}",xhArr:"\u27fa",xharr:"\u27f7",Xi:"\u039e",xi:"\u03be",xlArr:"\u27f8",xlarr:"\u27f5",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\u{1d54f}",xopf:"\u{1d569}",xoplus:"\u2a01",xotime:"\u2a02",xrArr:"\u27f9",xrarr:"\u27f6",Xscr:"\u{1d4b3}",xscr:"\u{1d4cd}",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\u{1d51c}",yfr:"\u{1d536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1d550}",yopf:"\u{1d56a}",Yscr:"\u{1d4b4}",yscr:"\u{1d4ce}",YUcy:"\u042e",yucy:"\u044e",Yuml:"\u0178",yuml:"\xff",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",Zfr:"\u2128",zfr:"\u{1d537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",Zopf:"\u2124",zopf:"\u{1d56b}",Zscr:"\u{1d4b5}",zscr:"\u{1d4cf}",zwj:"\u200d",zwnj:"\u200c"}),ee.entityMap=ee.HTML_ENTITIES},2502:(qt,ee,K)=>{K(8486);ee.DOMParser=K(7044).DOMParser},3742:(qt,ee,K)=>{var G=K(2834).NAMESPACE,vt=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ht=new RegExp("[\\-\\.0-9"+vt.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Bt=new RegExp("^"+vt.source+ht.source+"*(?::"+vt.source+ht.source+"*)?$");function W(Ht,Zt){this.message=Ht,this.locator=Zt,Error.captureStackTrace&&Error.captureStackTrace(this,W)}function Z(){}function gt(Ht,Zt){return Zt.lineNumber=Ht.lineNumber,Zt.columnNumber=Ht.columnNumber,Zt}function lt(Ht,Zt,Yt,et,Mt,He){function be(Wt,Ce,oe){Yt.attributeNames.hasOwnProperty(Wt)&&He.fatalError("Attribute "+Wt+" redefined"),Yt.addValue(Wt,Ce.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,Mt),oe)}for(var Ge,B=++Zt,A=0;;){var $=Ht.charAt(B);switch($){case"=":if(1===A)Ge=Ht.slice(Zt,B),A=3;else{if(2!==A)throw new Error("attribute equal must after attrName");A=3}break;case"'":case'"':if(3===A||1===A){if(1===A&&(He.warning('attribute value must after "="'),Ge=Ht.slice(Zt,B)),!((B=Ht.indexOf($,Zt=B+1))>0))throw new Error("attribute value no end '"+$+"' match");be(Ge,Ie=Ht.slice(Zt,B),Zt-1),A=5}else{if(4!=A)throw new Error('attribute value must after "="');be(Ge,Ie=Ht.slice(Zt,B),Zt),He.warning('attribute "'+Ge+'" missed start quot('+$+")!!"),Zt=B+1,A=5}break;case"/":switch(A){case 0:Yt.setTagName(Ht.slice(Zt,B));case 5:case 6:case 7:A=7,Yt.closed=!0;case 4:case 1:break;case 2:Yt.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return He.error("unexpected end of input"),0==A&&Yt.setTagName(Ht.slice(Zt,B)),B;case">":switch(A){case 0:Yt.setTagName(Ht.slice(Zt,B));case 5:case 6:case 7:break;case 4:case 1:"/"===(Ie=Ht.slice(Zt,B)).slice(-1)&&(Yt.closed=!0,Ie=Ie.slice(0,-1));case 2:2===A&&(Ie=Ge),4==A?(He.warning('attribute "'+Ie+'" missed quot(")!'),be(Ge,Ie,Zt)):((!G.isHTML(et[""])||!Ie.match(/^(?:disabled|checked|selected)$/i))&&He.warning('attribute "'+Ie+'" missed value!! "'+Ie+'" instead!!'),be(Ie,Ie,Zt));break;case 3:throw new Error("attribute value missed!!")}return B;case"\x80":$=" ";default:if($<=" ")switch(A){case 0:Yt.setTagName(Ht.slice(Zt,B)),A=6;break;case 1:Ge=Ht.slice(Zt,B),A=2;break;case 4:var Ie=Ht.slice(Zt,B);He.warning('attribute "'+Ie+'" missed quot(")!!'),be(Ge,Ie,Zt);case 5:A=6}else switch(A){case 2:(!G.isHTML(et[""])||!Ge.match(/^(?:disabled|checked|selected)$/i))&&He.warning('attribute "'+Ge+'" missed value!! "'+Ge+'" instead2!!'),be(Ge,Ge,Zt),Zt=B,A=1;break;case 5:He.warning('attribute space is required"'+Ge+'"!!');case 6:A=1,Zt=B;break;case 3:A=4,Zt=B;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}B++}}function Y(Ht,Zt,Yt){for(var et=Ht.tagName,Mt=null,$=Ht.length;$--;){var He=Ht[$],be=He.qName,Ge=He.value;if((xt=be.indexOf(":"))>0)var Ie=He.prefix=be.slice(0,xt),B=be.slice(xt+1),A="xmlns"===Ie&&B;else B=be,Ie=null,A="xmlns"===be&&"";He.localName=B,!1!==A&&(null==Mt&&(Mt={},ut(Yt,Yt={})),Yt[A]=Mt[A]=Ge,He.uri=G.XMLNS,Zt.startPrefixMapping(A,Ge))}for($=Ht.length;$--;)(Ie=(He=Ht[$]).prefix)&&("xml"===Ie&&(He.uri=G.XML),"xmlns"!==Ie&&(He.uri=Yt[Ie||""]));var xt;(xt=et.indexOf(":"))>0?(Ie=Ht.prefix=et.slice(0,xt),B=Ht.localName=et.slice(xt+1)):(Ie=null,B=Ht.localName=et);var Wt=Ht.uri=Yt[Ie||""];if(Zt.startElement(Wt,B,et,Ht),!Ht.closed)return Ht.currentNSMap=Yt,Ht.localNSMap=Mt,!0;if(Zt.endElement(Wt,B,et),Mt)for(Ie in Mt)Object.prototype.hasOwnProperty.call(Mt,Ie)&&Zt.endPrefixMapping(Ie)}function E(Ht,Zt,Yt,et,Mt){if(/^(?:script|textarea)$/i.test(Yt)){var He=Ht.indexOf("</"+Yt+">",Zt),be=Ht.substring(Zt+1,He);if(/[&<]/.test(be))return/^script$/i.test(Yt)?(Mt.characters(be,0,be.length),He):(be=be.replace(/&#?\w+;/g,et),Mt.characters(be,0,be.length),He)}return Zt+1}function at(Ht,Zt,Yt,et){var Mt=et[Yt];return null==Mt&&((Mt=Ht.lastIndexOf("</"+Yt+">"))<Zt&&(Mt=Ht.lastIndexOf("</"+Yt)),et[Yt]=Mt),Mt<Zt}function ut(Ht,Zt){for(var Yt in Ht)Object.prototype.hasOwnProperty.call(Ht,Yt)&&(Zt[Yt]=Ht[Yt])}function Pt(Ht,Zt,Yt,et){if("-"===Ht.charAt(Zt+2))return"-"===Ht.charAt(Zt+3)?(He=Ht.indexOf("--\x3e",Zt+4))>Zt?(Yt.comment(Ht,Zt+4,He-Zt-4),He+3):(et.error("Unclosed comment"),-1):-1;if("CDATA["==Ht.substr(Zt+3,6)){var He=Ht.indexOf("]]>",Zt+9);return Yt.startCDATA(),Yt.characters(Ht,Zt+9,He-Zt-9),Yt.endCDATA(),He+3}var be=function nt(Ht,Zt){var Yt,et=[],Mt=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(Mt.lastIndex=Zt,Mt.exec(Ht);Yt=Mt.exec(Ht);)if(et.push(Yt),Yt[1])return et}(Ht,Zt),Ge=be.length;if(Ge>1&&/!doctype/i.test(be[0][0])){var Ie=be[1][0],B=!1,A=!1;Ge>3&&(/^public$/i.test(be[2][0])?(B=be[3][0],A=Ge>4&&be[4][0]):/^system$/i.test(be[2][0])&&(A=be[3][0]));var $=be[Ge-1];return Yt.startDTD(Ie,B,A),Yt.endDTD(),$.index+$[0].length}return-1}function q(Ht,Zt,Yt){var et=Ht.indexOf("?>",Zt);if(et){var Mt=Ht.substring(Zt,et).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return Mt?(Yt.processingInstruction(Mt[1],Mt[2]),et+2):-1}return-1}function re(){this.attributeNames={}}(W.prototype=new Error).name=W.name,Z.prototype={parse:function(Ht,Zt,Yt){var et=this.domBuilder;et.startDocument(),ut(Zt,Zt={}),function st(Ht,Zt,Yt,et,Mt){function be(l1){var c1=l1.slice(1,-1);return Object.hasOwnProperty.call(Yt,c1)?Yt[c1]:"#"===c1.charAt(0)?function He(l1){return l1>65535?(l1-=65536,String.fromCharCode(55296+(l1>>10),56320+(1023&l1))):String.fromCharCode(l1)}(parseInt(c1.substr(1).replace("x","0x"))):(Mt.error("entity not found:"+l1),l1)}function Ge(l1){if(l1>oe){var c1=Ht.substring(oe,l1).replace(/&#?\w+;/g,be);xt&&Ie(oe),et.characters(c1,0,l1-oe),oe=l1}}function Ie(l1,c1){for(;l1>=A&&(c1=$.exec(Ht));)A=(B=c1.index)+c1[0].length,xt.lineNumber++;xt.columnNumber=l1-B+1}for(var B=0,A=0,$=/.*(?:\r\n?|\n)|.*$/g,xt=et.locator,Wt=[{currentNSMap:Zt}],Ce={},oe=0;;){try{var xe=Ht.indexOf("<",oe);if(xe<0){if(!Ht.substr(oe).match(/^\s*$/)){var We=et.doc,$e=We.createTextNode(Ht.substr(oe));We.appendChild($e),et.currentElement=$e}return}switch(xe>oe&&Ge(xe),Ht.charAt(xe+1)){case"/":var Dt=Ht.indexOf(">",xe+3),Be=Ht.substring(xe+2,Dt).replace(/[ \t\n\r]+$/g,""),r1=Wt.pop();Dt<0?(Be=Ht.substring(xe+2).replace(/[\s<].*/,""),Mt.error("end tag name: "+Be+" is not complete:"+r1.tagName),Dt=xe+1+Be.length):Be.match(/\s</)&&(Be=Be.replace(/[\s<].*/,""),Mt.error("end tag name: "+Be+" maybe not complete"),Dt=xe+1+Be.length);var o1=r1.localNSMap,L1=r1.tagName==Be;if(L1||r1.tagName&&r1.tagName.toLowerCase()==Be.toLowerCase()){if(et.endElement(r1.uri,r1.localName,Be),o1)for(var Ye in o1)Object.prototype.hasOwnProperty.call(o1,Ye)&&et.endPrefixMapping(Ye);L1||Mt.fatalError("end tag name: "+Be+" is not match the current start tagName:"+r1.tagName)}else Wt.push(r1);Dt++;break;case"?":xt&&Ie(xe),Dt=q(Ht,xe,et);break;case"!":xt&&Ie(xe),Dt=Pt(Ht,xe,et,Mt);break;default:xt&&Ie(xe);var O=new re,It=Wt[Wt.length-1].currentNSMap,ze=(Dt=lt(Ht,xe,O,It,be,Mt),O.length);if(!O.closed&&at(Ht,Dt,O.tagName,Ce)&&(O.closed=!0,Yt.nbsp||Mt.warning("unclosed xml attribute")),xt&&ze){for(var t1=gt(xt,{}),z1=0;z1<ze;z1++){var T1=O[z1];Ie(T1.offset),T1.locator=gt(xt,{})}et.locator=t1,Y(O,et,It)&&Wt.push(O),et.locator=xt}else Y(O,et,It)&&Wt.push(O);G.isHTML(O.uri)&&!O.closed?Dt=E(Ht,Dt,O.tagName,be,et):Dt++}}catch(l1){if(l1 instanceof W)throw l1;Mt.error("element parse error: "+l1),Dt=-1}Dt>oe?oe=Dt:Ge(Math.max(xe,oe)+1)}}(Ht,Zt,Yt,et,this.errorHandler),et.endDocument()}},re.prototype={setTagName:function(Ht){if(!Bt.test(Ht))throw new Error("invalid tagName:"+Ht);this.tagName=Ht},addValue:function(Ht,Zt,Yt){if(!Bt.test(Ht))throw new Error("invalid attribute:"+Ht);this.attributeNames[Ht]=this.length,this[this.length++]={qName:Ht,value:Zt,offset:Yt}},length:0,getLocalName:function(Ht){return this[Ht].localName},getLocator:function(Ht){return this[Ht].locator},getQName:function(Ht){return this[Ht].qName},getURI:function(Ht){return this[Ht].uri},getValue:function(Ht){return this[Ht].value}},ee.XMLReader=Z,ee.ParseError=W},3450:(qt,ee)=>{"use strict";ee.byteLength=function z(W){var Z=rt(W),gt=Z[1];return 3*(Z[0]+gt)/4-gt},ee.toByteArray=function g(W){var Z,ut,st=rt(W),gt=st[0],lt=st[1],Y=new vt(function P(W,Z,st){return 3*(Z+st)/4-st}(0,gt,lt)),E=0,at=lt>0?gt-4:gt;for(ut=0;ut<at;ut+=4)Z=G[W.charCodeAt(ut)]<<18|G[W.charCodeAt(ut+1)]<<12|G[W.charCodeAt(ut+2)]<<6|G[W.charCodeAt(ut+3)],Y[E++]=Z>>16&255,Y[E++]=Z>>8&255,Y[E++]=255&Z;return 2===lt&&(Z=G[W.charCodeAt(ut)]<<2|G[W.charCodeAt(ut+1)]>>4,Y[E++]=255&Z),1===lt&&(Z=G[W.charCodeAt(ut)]<<10|G[W.charCodeAt(ut+1)]<<4|G[W.charCodeAt(ut+2)]>>2,Y[E++]=Z>>8&255,Y[E++]=255&Z),Y},ee.fromByteArray=function bt(W){for(var Z,st=W.length,gt=st%3,lt=[],Y=16383,E=0,at=st-gt;E<at;E+=Y)lt.push(dt(W,E,E+Y>at?at:E+Y));return 1===gt?lt.push(K[(Z=W[st-1])>>2]+K[Z<<4&63]+"=="):2===gt&&lt.push(K[(Z=(W[st-2]<<8)+W[st-1])>>10]+K[Z>>4&63]+K[Z<<2&63]+"="),lt.join("")};for(var K=[],G=[],vt=typeof Uint8Array<"u"?Uint8Array:Array,ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bt=0;Bt<64;++Bt)K[Bt]=ht[Bt],G[ht.charCodeAt(Bt)]=Bt;function rt(W){var Z=W.length;if(Z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var st=W.indexOf("=");return-1===st&&(st=Z),[st,st===Z?0:4-st%4]}function At(W){return K[W>>18&63]+K[W>>12&63]+K[W>>6&63]+K[63&W]}function dt(W,Z,st){for(var lt=[],Y=Z;Y<st;Y+=3)lt.push(At((W[Y]<<16&16711680)+(W[Y+1]<<8&65280)+(255&W[Y+2])));return lt.join("")}G[45]=62,G[95]=63},332:(qt,ee,K)=>{"use strict";var G=K(4688),vt=K(7766),ht=K(7544),Bt=K(715);qt.exports=Bt||G.call(ht,vt)},7766:qt=>{"use strict";qt.exports=Function.prototype.apply},7544:qt=>{"use strict";qt.exports=Function.prototype.call},9138:(qt,ee,K)=>{"use strict";var G=K(4688),vt=K(9327),ht=K(7544),Bt=K(332);qt.exports=function(rt){if(rt.length<1||"function"!=typeof rt[0])throw new vt("a function is required");return Bt(G,ht,rt)}},715:qt=>{"use strict";qt.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},448:(qt,ee,K)=>{"use strict";var G=K(9249),vt=K(9138),ht=vt([G("%String.prototype.indexOf%")]);qt.exports=function(Lt,rt){var z=G(Lt,!!rt);return"function"==typeof z&&ht(Lt,".prototype.")>-1?vt([z]):z}},9660:(qt,ee,K)=>{"use strict";var ht,G=K(9138),vt=K(1031);try{ht=[].__proto__===Array.prototype}catch(z){if(!z||"object"!=typeof z||!("code"in z)||"ERR_PROTO_ACCESS"!==z.code)throw z}var Bt=!!ht&&vt&&vt(Object.prototype,"__proto__"),Lt=Object,rt=Lt.getPrototypeOf;qt.exports=Bt&&"function"==typeof Bt.get?G([Bt.get]):"function"==typeof rt&&function(P){return rt(null==P?P:Lt(P))}},2307:qt=>{"use strict";var ee=Object.defineProperty||!1;if(ee)try{ee({},"a",{value:1})}catch{ee=!1}qt.exports=ee},7153:qt=>{"use strict";qt.exports=EvalError},939:qt=>{"use strict";qt.exports=Error},1486:qt=>{"use strict";qt.exports=RangeError},4654:qt=>{"use strict";qt.exports=ReferenceError},1144:qt=>{"use strict";qt.exports=SyntaxError},9327:qt=>{"use strict";qt.exports=TypeError},6005:qt=>{"use strict";qt.exports=URIError},3144:qt=>{"use strict";qt.exports=Object},421:qt=>{"use strict";var K=Object.prototype.toString,G=Math.max,ht=function(z,P){for(var g=[],At=0;At<z.length;At+=1)g[At]=z[At];for(var dt=0;dt<P.length;dt+=1)g[dt+z.length]=P[dt];return g};qt.exports=function(z){var P=this;if("function"!=typeof P||"[object Function]"!==K.apply(P))throw new TypeError("Function.prototype.bind called on incompatible "+P);for(var At,g=function(z){for(var g=[],At=1,dt=0;At<z.length;At+=1,dt+=1)g[dt]=z[At];return g}(arguments),bt=G(0,P.length-g.length),W=[],Z=0;Z<bt;Z++)W[Z]="$"+Z;if(At=Function("binder","return function ("+function(rt){for(var P="",g=0;g<rt.length;g+=1)P+=rt[g],g+1<rt.length&&(P+=",");return P}(W)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof At){var gt=P.apply(this,ht(g,arguments));return Object(gt)===gt?gt:this}return P.apply(z,ht(g,arguments))}),P.prototype){var st=function(){};st.prototype=P.prototype,At.prototype=new st,st.prototype=null}return At}},4688:(qt,ee,K)=>{"use strict";var G=K(421);qt.exports=Function.prototype.bind||G},9249:(qt,ee,K)=>{"use strict";var G,vt=K(3144),ht=K(939),Bt=K(7153),Lt=K(1486),rt=K(4654),z=K(1144),P=K(9327),g=K(6005),At=K(7126),dt=K(5092),bt=K(8112),W=K(3390),Z=K(2420),st=Function,gt=function(We){try{return st('"use strict"; return ('+We+").constructor;")()}catch{}},lt=K(1031),Y=K(2307),E=function(){throw new P},at=lt?function(){try{return E}catch{try{return lt(arguments,"callee").get}catch{return E}}}():E,ut=K(7067)(),Pt=K(9660),q="function"==typeof Reflect&&Reflect.getPrototypeOf||vt.getPrototypeOf||Pt,re=K(7766),nt=K(7544),Ht={},Zt=typeof Uint8Array>"u"||!q?G:q(Uint8Array),Yt={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?G:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?G:ArrayBuffer,"%ArrayIteratorPrototype%":ut&&q?q([][Symbol.iterator]()):G,"%AsyncFromSyncIteratorPrototype%":G,"%AsyncFunction%":Ht,"%AsyncGenerator%":Ht,"%AsyncGeneratorFunction%":Ht,"%AsyncIteratorPrototype%":Ht,"%Atomics%":typeof Atomics>"u"?G:Atomics,"%BigInt%":typeof BigInt>"u"?G:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?G:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?G:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?G:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ht,"%eval%":eval,"%EvalError%":Bt,"%Float32Array%":typeof Float32Array>"u"?G:Float32Array,"%Float64Array%":typeof Float64Array>"u"?G:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?G:FinalizationRegistry,"%Function%":st,"%GeneratorFunction%":Ht,"%Int8Array%":typeof Int8Array>"u"?G:Int8Array,"%Int16Array%":typeof Int16Array>"u"?G:Int16Array,"%Int32Array%":typeof Int32Array>"u"?G:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ut&&q?q(q([][Symbol.iterator]())):G,"%JSON%":"object"==typeof JSON?JSON:G,"%Map%":typeof Map>"u"?G:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ut||!q?G:q((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":vt,"%Object.getOwnPropertyDescriptor%":lt,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?G:Promise,"%Proxy%":typeof Proxy>"u"?G:Proxy,"%RangeError%":Lt,"%ReferenceError%":rt,"%Reflect%":typeof Reflect>"u"?G:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?G:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ut||!q?G:q((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?G:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ut&&q?q(""[Symbol.iterator]()):G,"%Symbol%":ut?Symbol:G,"%SyntaxError%":z,"%ThrowTypeError%":at,"%TypedArray%":Zt,"%TypeError%":P,"%Uint8Array%":typeof Uint8Array>"u"?G:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?G:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?G:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?G:Uint32Array,"%URIError%":g,"%WeakMap%":typeof WeakMap>"u"?G:WeakMap,"%WeakRef%":typeof WeakRef>"u"?G:WeakRef,"%WeakSet%":typeof WeakSet>"u"?G:WeakSet,"%Function.prototype.call%":nt,"%Function.prototype.apply%":re,"%Object.defineProperty%":Y,"%Math.abs%":At,"%Math.floor%":dt,"%Math.max%":bt,"%Math.min%":W,"%Math.pow%":Z};if(q)try{null.error}catch(We){var et=q(q(We));Yt["%Error.prototype%"]=et}var Mt=function We($e){var Be;if("%AsyncFunction%"===$e)Be=gt("async function () {}");else if("%GeneratorFunction%"===$e)Be=gt("function* () {}");else if("%AsyncGeneratorFunction%"===$e)Be=gt("async function* () {}");else if("%AsyncGenerator%"===$e){var r1=We("%AsyncGeneratorFunction%");r1&&(Be=r1.prototype)}else if("%AsyncIteratorPrototype%"===$e){var o1=We("%AsyncGenerator%");o1&&q&&(Be=q(o1.prototype))}return Yt[$e]=Be,Be},He={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},be=K(4688),Ge=K(5961),Ie=be.call(nt,Array.prototype.concat),B=be.call(re,Array.prototype.splice),A=be.call(nt,String.prototype.replace),$=be.call(nt,String.prototype.slice),xt=be.call(nt,RegExp.prototype.exec),Wt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ce=/\\(\\)?/g,xe=function($e,Be){var o1,r1=$e;if(Ge(He,r1)&&(r1="%"+(o1=He[r1])[0]+"%"),Ge(Yt,r1)){var L1=Yt[r1];if(L1===Ht&&(L1=Mt(r1)),typeof L1>"u"&&!Be)throw new P("intrinsic "+$e+" exists, but is not available. Please file an issue!");return{alias:o1,name:r1,value:L1}}throw new z("intrinsic "+$e+" does not exist!")};qt.exports=function($e,Be){if("string"!=typeof $e||0===$e.length)throw new P("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Be)throw new P('"allowMissing" argument must be a boolean');if(null===xt(/^%?[^%]*%?$/,$e))throw new z("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r1=function($e){var Be=$($e,0,1),r1=$($e,-1);if("%"===Be&&"%"!==r1)throw new z("invalid intrinsic syntax, expected closing `%`");if("%"===r1&&"%"!==Be)throw new z("invalid intrinsic syntax, expected opening `%`");var o1=[];return A($e,Wt,function(L1,Qe,Ye,O){o1[o1.length]=Ye?A(O,Ce,"$1"):Qe||L1}),o1}($e),o1=r1.length>0?r1[0]:"",L1=xe("%"+o1+"%",Be),Qe=L1.name,Ye=L1.value,O=!1,It=L1.alias;It&&(o1=It[0],B(r1,Ie([0,1],It)));for(var Dt=1,ze=!0;Dt<r1.length;Dt+=1){var t1=r1[Dt],z1=$(t1,0,1),T1=$(t1,-1);if(('"'===z1||"'"===z1||"`"===z1||'"'===T1||"'"===T1||"`"===T1)&&z1!==T1)throw new z("property names with quotes must have matching quotes");if(("constructor"===t1||!ze)&&(O=!0),Ge(Yt,Qe="%"+(o1+="."+t1)+"%"))Ye=Yt[Qe];else if(null!=Ye){if(!(t1 in Ye)){if(!Be)throw new P("base intrinsic for "+$e+" exists, but the property is not available.");return}if(lt&&Dt+1>=r1.length){var l1=lt(Ye,t1);Ye=(ze=!!l1)&&"get"in l1&&!("originalValue"in l1.get)?l1.get:Ye[t1]}else ze=Ge(Ye,t1),Ye=Ye[t1];ze&&!O&&(Yt[Qe]=Ye)}}return Ye}},417:qt=>{"use strict";qt.exports=Object.getOwnPropertyDescriptor},1031:(qt,ee,K)=>{"use strict";var G=K(417);if(G)try{G([],"length")}catch{G=null}qt.exports=G},7067:(qt,ee,K)=>{"use strict";var G=typeof Symbol<"u"&&Symbol,vt=K(5401);qt.exports=function(){return"function"==typeof G&&"function"==typeof Symbol&&"symbol"==typeof G("foo")&&"symbol"==typeof Symbol("bar")&&vt()}},5401:qt=>{"use strict";qt.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var K={},G=Symbol("test"),vt=Object(G);if("string"==typeof G||"[object Symbol]"!==Object.prototype.toString.call(G)||"[object Symbol]"!==Object.prototype.toString.call(vt))return!1;for(var Bt in K[G]=42,K)return!1;if("function"==typeof Object.keys&&0!==Object.keys(K).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(K).length)return!1;var Lt=Object.getOwnPropertySymbols(K);if(1!==Lt.length||Lt[0]!==G||!Object.prototype.propertyIsEnumerable.call(K,G))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var rt=Object.getOwnPropertyDescriptor(K,G);if(42!==rt.value||!0!==rt.enumerable)return!1}return!0}},5961:(qt,ee,K)=>{"use strict";var G=Function.prototype.call,vt=Object.prototype.hasOwnProperty,ht=K(4688);qt.exports=ht.call(G,vt)},351:(qt,ee)=>{ee.read=function(K,G,vt,ht,Bt){var Lt,rt,z=8*Bt-ht-1,P=(1<<z)-1,g=P>>1,At=-7,dt=vt?Bt-1:0,bt=vt?-1:1,W=K[G+dt];for(dt+=bt,Lt=W&(1<<-At)-1,W>>=-At,At+=z;At>0;Lt=256*Lt+K[G+dt],dt+=bt,At-=8);for(rt=Lt&(1<<-At)-1,Lt>>=-At,At+=ht;At>0;rt=256*rt+K[G+dt],dt+=bt,At-=8);if(0===Lt)Lt=1-g;else{if(Lt===P)return rt?NaN:1/0*(W?-1:1);rt+=Math.pow(2,ht),Lt-=g}return(W?-1:1)*rt*Math.pow(2,Lt-ht)},ee.write=function(K,G,vt,ht,Bt,Lt){var rt,z,P,g=8*Lt-Bt-1,At=(1<<g)-1,dt=At>>1,bt=23===Bt?Math.pow(2,-24)-Math.pow(2,-77):0,W=ht?0:Lt-1,Z=ht?1:-1,st=G<0||0===G&&1/G<0?1:0;for(G=Math.abs(G),isNaN(G)||G===1/0?(z=isNaN(G)?1:0,rt=At):(rt=Math.floor(Math.log(G)/Math.LN2),G*(P=Math.pow(2,-rt))<1&&(rt--,P*=2),(G+=rt+dt>=1?bt/P:bt*Math.pow(2,1-dt))*P>=2&&(rt++,P/=2),rt+dt>=At?(z=0,rt=At):rt+dt>=1?(z=(G*P-1)*Math.pow(2,Bt),rt+=dt):(z=G*Math.pow(2,dt-1)*Math.pow(2,Bt),rt=0));Bt>=8;K[vt+W]=255&z,W+=Z,z/=256,Bt-=8);for(rt=rt<<Bt|z,g+=Bt;g>0;K[vt+W]=255&rt,W+=Z,rt/=256,g-=8);K[vt+W-Z]|=128*st}},7126:qt=>{"use strict";qt.exports=Math.abs},5092:qt=>{"use strict";qt.exports=Math.floor},8112:qt=>{"use strict";qt.exports=Math.max},3390:qt=>{"use strict";qt.exports=Math.min},2420:qt=>{"use strict";qt.exports=Math.pow},6148:(qt,ee,K)=>{"use strict";const vt=K(3450),ht=K(351),Bt="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;ee.hp=P,ee.IS=50;const Lt=2147483647;function z(T){if(T>Lt)throw new RangeError('The value "'+T+'" is invalid for option "size"');const M=new Uint8Array(T);return Object.setPrototypeOf(M,P.prototype),M}function P(T,M,b){if("number"==typeof T){if("string"==typeof M)throw new TypeError('The "string" argument must be of type string. Received type number');return bt(T)}return g(T,M,b)}function g(T,M,b){if("string"==typeof T)return function W(T,M){if(("string"!=typeof M||""===M)&&(M="utf8"),!P.isEncoding(M))throw new TypeError("Unknown encoding: "+M);const b=0|at(T,M);let U=z(b);const zt=U.write(T,M);return zt!==b&&(U=U.slice(0,zt)),U}(T,M);if(ArrayBuffer.isView(T))return function st(T){if(c1(T,Uint8Array)){const M=new Uint8Array(T);return gt(M.buffer,M.byteOffset,M.byteLength)}return Z(T)}(T);if(null==T)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(c1(T,ArrayBuffer)||T&&c1(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(c1(T,SharedArrayBuffer)||T&&c1(T.buffer,SharedArrayBuffer)))return gt(T,M,b);if("number"==typeof T)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=T.valueOf&&T.valueOf();if(null!=U&&U!==T)return P.from(U,M,b);const zt=function lt(T){if(P.isBuffer(T)){const M=0|Y(T.length),b=z(M);return 0===b.length||T.copy(b,0,0,M),b}return void 0!==T.length?"number"!=typeof T.length||P1(T.length)?z(0):Z(T):"Buffer"===T.type&&Array.isArray(T.data)?Z(T.data):void 0}(T);if(zt)return zt;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof T[Symbol.toPrimitive])return P.from(T[Symbol.toPrimitive]("string"),M,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}function At(T){if("number"!=typeof T)throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function bt(T){return At(T),z(T<0?0:0|Y(T))}function Z(T){const M=T.length<0?0:0|Y(T.length),b=z(M);for(let U=0;U<M;U+=1)b[U]=255&T[U];return b}function gt(T,M,b){if(M<0||T.byteLength<M)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<M+(b||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===M&&void 0===b?new Uint8Array(T):void 0===b?new Uint8Array(T,M):new Uint8Array(T,M,b),Object.setPrototypeOf(U,P.prototype),U}function Y(T){if(T>=Lt)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Lt.toString(16)+" bytes");return 0|T}function at(T,M){if(P.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||c1(T,ArrayBuffer))return T.byteLength;if("string"!=typeof T)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const b=T.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===b)return 0;let zt=!1;for(;;)switch(M){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return ze(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*b;case"hex":return b>>>1;case"base64":return T1(T).length;default:if(zt)return U?-1:ze(T).length;M=(""+M).toLowerCase(),zt=!0}}function ut(T,M,b){let U=!1;if((void 0===M||M<0)&&(M=0),M>this.length||((void 0===b||b>this.length)&&(b=this.length),b<=0)||(b>>>=0)<=(M>>>=0))return"";for(T||(T="utf8");;)switch(T){case"hex":return A(this,M,b);case"utf8":case"utf-8":return He(this,M,b);case"ascii":return Ie(this,M,b);case"latin1":case"binary":return B(this,M,b);case"base64":return Mt(this,M,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,M,b);default:if(U)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),U=!0}}function Pt(T,M,b){const U=T[M];T[M]=T[b],T[b]=U}function q(T,M,b,U,zt){if(0===T.length)return-1;if("string"==typeof b?(U=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),P1(b=+b)&&(b=zt?0:T.length-1),b<0&&(b=T.length+b),b>=T.length){if(zt)return-1;b=T.length-1}else if(b<0){if(!zt)return-1;b=0}if("string"==typeof M&&(M=P.from(M,U)),P.isBuffer(M))return 0===M.length?-1:re(T,M,b,U,zt);if("number"==typeof M)return M&=255,"function"==typeof Uint8Array.prototype.indexOf?zt?Uint8Array.prototype.indexOf.call(T,M,b):Uint8Array.prototype.lastIndexOf.call(T,M,b):re(T,[M],b,U,zt);throw new TypeError("val must be string, number or Buffer")}function re(T,M,b,U,zt){let Nt,se=1,ve=T.length,a1=M.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(T.length<2||M.length<2)return-1;se=2,ve/=2,a1/=2,b/=2}function Tt(ct,St){return 1===se?ct[St]:ct.readUInt16BE(St*se)}if(zt){let ct=-1;for(Nt=b;Nt<ve;Nt++)if(Tt(T,Nt)===Tt(M,-1===ct?0:Nt-ct)){if(-1===ct&&(ct=Nt),Nt-ct+1===a1)return ct*se}else-1!==ct&&(Nt-=Nt-ct),ct=-1}else for(b+a1>ve&&(b=ve-a1),Nt=b;Nt>=0;Nt--){let ct=!0;for(let St=0;St<a1;St++)if(Tt(T,Nt+St)!==Tt(M,St)){ct=!1;break}if(ct)return Nt}return-1}function nt(T,M,b,U){b=Number(b)||0;const zt=T.length-b;U?(U=Number(U))>zt&&(U=zt):U=zt;const se=M.length;let ve;for(U>se/2&&(U=se/2),ve=0;ve<U;++ve){const a1=parseInt(M.substr(2*ve,2),16);if(P1(a1))return ve;T[b+ve]=a1}return ve}function Ht(T,M,b,U){return l1(ze(M,T.length-b),T,b,U)}function Zt(T,M,b,U){return l1(function t1(T){const M=[];for(let b=0;b<T.length;++b)M.push(255&T.charCodeAt(b));return M}(M),T,b,U)}function Yt(T,M,b,U){return l1(T1(M),T,b,U)}function et(T,M,b,U){return l1(function z1(T,M){let b,U,zt;const se=[];for(let ve=0;ve<T.length&&!((M-=2)<0);++ve)b=T.charCodeAt(ve),U=b>>8,zt=b%256,se.push(zt),se.push(U);return se}(M,T.length-b),T,b,U)}function Mt(T,M,b){return vt.fromByteArray(0===M&&b===T.length?T:T.slice(M,b))}function He(T,M,b){b=Math.min(T.length,b);const U=[];let zt=M;for(;zt<b;){const se=T[zt];let ve=null,a1=se>239?4:se>223?3:se>191?2:1;if(zt+a1<=b){let Tt,Nt,ct,St;switch(a1){case 1:se<128&&(ve=se);break;case 2:Tt=T[zt+1],128==(192&Tt)&&(St=(31&se)<<6|63&Tt,St>127&&(ve=St));break;case 3:Tt=T[zt+1],Nt=T[zt+2],128==(192&Tt)&&128==(192&Nt)&&(St=(15&se)<<12|(63&Tt)<<6|63&Nt,St>2047&&(St<55296||St>57343)&&(ve=St));break;case 4:Tt=T[zt+1],Nt=T[zt+2],ct=T[zt+3],128==(192&Tt)&&128==(192&Nt)&&128==(192&ct)&&(St=(15&se)<<18|(63&Tt)<<12|(63&Nt)<<6|63&ct,St>65535&&St<1114112&&(ve=St))}}null===ve?(ve=65533,a1=1):ve>65535&&(ve-=65536,U.push(ve>>>10&1023|55296),ve=56320|1023&ve),U.push(ve),zt+=a1}return function Ge(T){const M=T.length;if(M<=be)return String.fromCharCode.apply(String,T);let b="",U=0;for(;U<M;)b+=String.fromCharCode.apply(String,T.slice(U,U+=be));return b}(U)}!(P.TYPED_ARRAY_SUPPORT=function rt(){try{const T=new Uint8Array(1),M={foo:function(){return 42}};return Object.setPrototypeOf(M,Uint8Array.prototype),Object.setPrototypeOf(T,M),42===T.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(P.prototype,"parent",{enumerable:!0,get:function(){if(P.isBuffer(this))return this.buffer}}),Object.defineProperty(P.prototype,"offset",{enumerable:!0,get:function(){if(P.isBuffer(this))return this.byteOffset}}),P.poolSize=8192,P.from=function(T,M,b){return g(T,M,b)},Object.setPrototypeOf(P.prototype,Uint8Array.prototype),Object.setPrototypeOf(P,Uint8Array),P.alloc=function(T,M,b){return function dt(T,M,b){return At(T),T<=0?z(T):void 0!==M?"string"==typeof b?z(T).fill(M,b):z(T).fill(M):z(T)}(T,M,b)},P.allocUnsafe=function(T){return bt(T)},P.allocUnsafeSlow=function(T){return bt(T)},P.isBuffer=function(M){return null!=M&&!0===M._isBuffer&&M!==P.prototype},P.compare=function(M,b){if(c1(M,Uint8Array)&&(M=P.from(M,M.offset,M.byteLength)),c1(b,Uint8Array)&&(b=P.from(b,b.offset,b.byteLength)),!P.isBuffer(M)||!P.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(M===b)return 0;let U=M.length,zt=b.length;for(let se=0,ve=Math.min(U,zt);se<ve;++se)if(M[se]!==b[se]){U=M[se],zt=b[se];break}return U<zt?-1:zt<U?1:0},P.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},P.concat=function(M,b){if(!Array.isArray(M))throw new TypeError('"list" argument must be an Array of Buffers');if(0===M.length)return P.alloc(0);let U;if(void 0===b)for(b=0,U=0;U<M.length;++U)b+=M[U].length;const zt=P.allocUnsafe(b);let se=0;for(U=0;U<M.length;++U){let ve=M[U];if(c1(ve,Uint8Array))se+ve.length>zt.length?(P.isBuffer(ve)||(ve=P.from(ve)),ve.copy(zt,se)):Uint8Array.prototype.set.call(zt,ve,se);else{if(!P.isBuffer(ve))throw new TypeError('"list" argument must be an Array of Buffers');ve.copy(zt,se)}se+=ve.length}return zt},P.byteLength=at,P.prototype._isBuffer=!0,P.prototype.swap16=function(){const M=this.length;if(M%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<M;b+=2)Pt(this,b,b+1);return this},P.prototype.swap32=function(){const M=this.length;if(M%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<M;b+=4)Pt(this,b,b+3),Pt(this,b+1,b+2);return this},P.prototype.swap64=function(){const M=this.length;if(M%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<M;b+=8)Pt(this,b,b+7),Pt(this,b+1,b+6),Pt(this,b+2,b+5),Pt(this,b+3,b+4);return this},P.prototype.toLocaleString=P.prototype.toString=function(){const M=this.length;return 0===M?"":0===arguments.length?He(this,0,M):ut.apply(this,arguments)},P.prototype.equals=function(M){if(!P.isBuffer(M))throw new TypeError("Argument must be a Buffer");return this===M||0===P.compare(this,M)},P.prototype.inspect=function(){let M="";const b=ee.IS;return M=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(M+=" ... "),"<Buffer "+M+">"},Bt&&(P.prototype[Bt]=P.prototype.inspect),P.prototype.compare=function(M,b,U,zt,se){if(c1(M,Uint8Array)&&(M=P.from(M,M.offset,M.byteLength)),!P.isBuffer(M))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof M);if(void 0===b&&(b=0),void 0===U&&(U=M?M.length:0),void 0===zt&&(zt=0),void 0===se&&(se=this.length),b<0||U>M.length||zt<0||se>this.length)throw new RangeError("out of range index");if(zt>=se&&b>=U)return 0;if(zt>=se)return-1;if(b>=U)return 1;if(this===M)return 0;let ve=(se>>>=0)-(zt>>>=0),a1=(U>>>=0)-(b>>>=0);const Tt=Math.min(ve,a1),Nt=this.slice(zt,se),ct=M.slice(b,U);for(let St=0;St<Tt;++St)if(Nt[St]!==ct[St]){ve=Nt[St],a1=ct[St];break}return ve<a1?-1:a1<ve?1:0},P.prototype.includes=function(M,b,U){return-1!==this.indexOf(M,b,U)},P.prototype.indexOf=function(M,b,U){return q(this,M,b,U,!0)},P.prototype.lastIndexOf=function(M,b,U){return q(this,M,b,U,!1)},P.prototype.write=function(M,b,U,zt){if(void 0===b)zt="utf8",U=this.length,b=0;else if(void 0===U&&"string"==typeof b)zt=b,U=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b>>>=0,isFinite(U)?(U>>>=0,void 0===zt&&(zt="utf8")):(zt=U,U=void 0)}const se=this.length-b;if((void 0===U||U>se)&&(U=se),M.length>0&&(U<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");zt||(zt="utf8");let ve=!1;for(;;)switch(zt){case"hex":return nt(this,M,b,U);case"utf8":case"utf-8":return Ht(this,M,b,U);case"ascii":case"latin1":case"binary":return Zt(this,M,b,U);case"base64":return Yt(this,M,b,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return et(this,M,b,U);default:if(ve)throw new TypeError("Unknown encoding: "+zt);zt=(""+zt).toLowerCase(),ve=!0}},P.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const be=4096;function Ie(T,M,b){let U="";b=Math.min(T.length,b);for(let zt=M;zt<b;++zt)U+=String.fromCharCode(127&T[zt]);return U}function B(T,M,b){let U="";b=Math.min(T.length,b);for(let zt=M;zt<b;++zt)U+=String.fromCharCode(T[zt]);return U}function A(T,M,b){const U=T.length;(!M||M<0)&&(M=0),(!b||b<0||b>U)&&(b=U);let zt="";for(let se=M;se<b;++se)zt+=$1[T[se]];return zt}function $(T,M,b){const U=T.slice(M,b);let zt="";for(let se=0;se<U.length-1;se+=2)zt+=String.fromCharCode(U[se]+256*U[se+1]);return zt}function xt(T,M,b){if(T%1!=0||T<0)throw new RangeError("offset is not uint");if(T+M>b)throw new RangeError("Trying to access beyond buffer length")}function Wt(T,M,b,U,zt,se){if(!P.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>zt||M<se)throw new RangeError('"value" argument is out of bounds');if(b+U>T.length)throw new RangeError("Index out of range")}function Ce(T,M,b,U,zt){Qe(M,U,zt,T,b,7);let se=Number(M&BigInt(4294967295));T[b++]=se,se>>=8,T[b++]=se,se>>=8,T[b++]=se,se>>=8,T[b++]=se;let ve=Number(M>>BigInt(32)&BigInt(4294967295));return T[b++]=ve,ve>>=8,T[b++]=ve,ve>>=8,T[b++]=ve,ve>>=8,T[b++]=ve,b}function oe(T,M,b,U,zt){Qe(M,U,zt,T,b,7);let se=Number(M&BigInt(4294967295));T[b+7]=se,se>>=8,T[b+6]=se,se>>=8,T[b+5]=se,se>>=8,T[b+4]=se;let ve=Number(M>>BigInt(32)&BigInt(4294967295));return T[b+3]=ve,ve>>=8,T[b+2]=ve,ve>>=8,T[b+1]=ve,ve>>=8,T[b]=ve,b+8}function xe(T,M,b,U,zt,se){if(b+U>T.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function We(T,M,b,U,zt){return M=+M,b>>>=0,zt||xe(T,0,b,4),ht.write(T,M,b,U,23,4),b+4}function $e(T,M,b,U,zt){return M=+M,b>>>=0,zt||xe(T,0,b,8),ht.write(T,M,b,U,52,8),b+8}P.prototype.slice=function(M,b){const U=this.length;(M=~~M)<0?(M+=U)<0&&(M=0):M>U&&(M=U),(b=void 0===b?U:~~b)<0?(b+=U)<0&&(b=0):b>U&&(b=U),b<M&&(b=M);const zt=this.subarray(M,b);return Object.setPrototypeOf(zt,P.prototype),zt},P.prototype.readUintLE=P.prototype.readUIntLE=function(M,b,U){M>>>=0,b>>>=0,U||xt(M,b,this.length);let zt=this[M],se=1,ve=0;for(;++ve<b&&(se*=256);)zt+=this[M+ve]*se;return zt},P.prototype.readUintBE=P.prototype.readUIntBE=function(M,b,U){M>>>=0,b>>>=0,U||xt(M,b,this.length);let zt=this[M+--b],se=1;for(;b>0&&(se*=256);)zt+=this[M+--b]*se;return zt},P.prototype.readUint8=P.prototype.readUInt8=function(M,b){return M>>>=0,b||xt(M,1,this.length),this[M]},P.prototype.readUint16LE=P.prototype.readUInt16LE=function(M,b){return M>>>=0,b||xt(M,2,this.length),this[M]|this[M+1]<<8},P.prototype.readUint16BE=P.prototype.readUInt16BE=function(M,b){return M>>>=0,b||xt(M,2,this.length),this[M]<<8|this[M+1]},P.prototype.readUint32LE=P.prototype.readUInt32LE=function(M,b){return M>>>=0,b||xt(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+16777216*this[M+3]},P.prototype.readUint32BE=P.prototype.readUInt32BE=function(M,b){return M>>>=0,b||xt(M,4,this.length),16777216*this[M]+(this[M+1]<<16|this[M+2]<<8|this[M+3])},P.prototype.readBigUInt64LE=Fr(function(M){Ye(M>>>=0,"offset");const b=this[M],U=this[M+7];(void 0===b||void 0===U)&&O(M,this.length-8);const zt=b+256*this[++M]+65536*this[++M]+this[++M]*2**24,se=this[++M]+256*this[++M]+65536*this[++M]+U*2**24;return BigInt(zt)+(BigInt(se)<<BigInt(32))}),P.prototype.readBigUInt64BE=Fr(function(M){Ye(M>>>=0,"offset");const b=this[M],U=this[M+7];(void 0===b||void 0===U)&&O(M,this.length-8);const zt=b*2**24+65536*this[++M]+256*this[++M]+this[++M],se=this[++M]*2**24+65536*this[++M]+256*this[++M]+U;return(BigInt(zt)<<BigInt(32))+BigInt(se)}),P.prototype.readIntLE=function(M,b,U){M>>>=0,b>>>=0,U||xt(M,b,this.length);let zt=this[M],se=1,ve=0;for(;++ve<b&&(se*=256);)zt+=this[M+ve]*se;return se*=128,zt>=se&&(zt-=Math.pow(2,8*b)),zt},P.prototype.readIntBE=function(M,b,U){M>>>=0,b>>>=0,U||xt(M,b,this.length);let zt=b,se=1,ve=this[M+--zt];for(;zt>0&&(se*=256);)ve+=this[M+--zt]*se;return se*=128,ve>=se&&(ve-=Math.pow(2,8*b)),ve},P.prototype.readInt8=function(M,b){return M>>>=0,b||xt(M,1,this.length),128&this[M]?-1*(255-this[M]+1):this[M]},P.prototype.readInt16LE=function(M,b){M>>>=0,b||xt(M,2,this.length);const U=this[M]|this[M+1]<<8;return 32768&U?4294901760|U:U},P.prototype.readInt16BE=function(M,b){M>>>=0,b||xt(M,2,this.length);const U=this[M+1]|this[M]<<8;return 32768&U?4294901760|U:U},P.prototype.readInt32LE=function(M,b){return M>>>=0,b||xt(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},P.prototype.readInt32BE=function(M,b){return M>>>=0,b||xt(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},P.prototype.readBigInt64LE=Fr(function(M){Ye(M>>>=0,"offset");const b=this[M],U=this[M+7];return(void 0===b||void 0===U)&&O(M,this.length-8),(BigInt(this[M+4]+256*this[M+5]+65536*this[M+6]+(U<<24))<<BigInt(32))+BigInt(b+256*this[++M]+65536*this[++M]+this[++M]*2**24)}),P.prototype.readBigInt64BE=Fr(function(M){Ye(M>>>=0,"offset");const b=this[M],U=this[M+7];(void 0===b||void 0===U)&&O(M,this.length-8);const zt=(b<<24)+65536*this[++M]+256*this[++M]+this[++M];return(BigInt(zt)<<BigInt(32))+BigInt(this[++M]*2**24+65536*this[++M]+256*this[++M]+U)}),P.prototype.readFloatLE=function(M,b){return M>>>=0,b||xt(M,4,this.length),ht.read(this,M,!0,23,4)},P.prototype.readFloatBE=function(M,b){return M>>>=0,b||xt(M,4,this.length),ht.read(this,M,!1,23,4)},P.prototype.readDoubleLE=function(M,b){return M>>>=0,b||xt(M,8,this.length),ht.read(this,M,!0,52,8)},P.prototype.readDoubleBE=function(M,b){return M>>>=0,b||xt(M,8,this.length),ht.read(this,M,!1,52,8)},P.prototype.writeUintLE=P.prototype.writeUIntLE=function(M,b,U,zt){M=+M,b>>>=0,U>>>=0,zt||Wt(this,M,b,U,Math.pow(2,8*U)-1,0);let se=1,ve=0;for(this[b]=255&M;++ve<U&&(se*=256);)this[b+ve]=M/se&255;return b+U},P.prototype.writeUintBE=P.prototype.writeUIntBE=function(M,b,U,zt){M=+M,b>>>=0,U>>>=0,zt||Wt(this,M,b,U,Math.pow(2,8*U)-1,0);let se=U-1,ve=1;for(this[b+se]=255&M;--se>=0&&(ve*=256);)this[b+se]=M/ve&255;return b+U},P.prototype.writeUint8=P.prototype.writeUInt8=function(M,b,U){return M=+M,b>>>=0,U||Wt(this,M,b,1,255,0),this[b]=255&M,b+1},P.prototype.writeUint16LE=P.prototype.writeUInt16LE=function(M,b,U){return M=+M,b>>>=0,U||Wt(this,M,b,2,65535,0),this[b]=255&M,this[b+1]=M>>>8,b+2},P.prototype.writeUint16BE=P.prototype.writeUInt16BE=function(M,b,U){return M=+M,b>>>=0,U||Wt(this,M,b,2,65535,0),this[b]=M>>>8,this[b+1]=255&M,b+2},P.prototype.writeUint32LE=P.prototype.writeUInt32LE=function(M,b,U){return M=+M,b>>>=0,U||Wt(this,M,b,4,4294967295,0),this[b+3]=M>>>24,this[b+2]=M>>>16,this[b+1]=M>>>8,this[b]=255&M,b+4},P.prototype.writeUint32BE=P.prototype.writeUInt32BE=function(M,b,U){return M=+M,b>>>=0,U||Wt(this,M,b,4,4294967295,0),this[b]=M>>>24,this[b+1]=M>>>16,this[b+2]=M>>>8,this[b+3]=255&M,b+4},P.prototype.writeBigUInt64LE=Fr(function(M,b=0){return Ce(this,M,b,BigInt(0),BigInt("0xffffffffffffffff"))}),P.prototype.writeBigUInt64BE=Fr(function(M,b=0){return oe(this,M,b,BigInt(0),BigInt("0xffffffffffffffff"))}),P.prototype.writeIntLE=function(M,b,U,zt){if(M=+M,b>>>=0,!zt){const Tt=Math.pow(2,8*U-1);Wt(this,M,b,U,Tt-1,-Tt)}let se=0,ve=1,a1=0;for(this[b]=255&M;++se<U&&(ve*=256);)M<0&&0===a1&&0!==this[b+se-1]&&(a1=1),this[b+se]=(M/ve|0)-a1&255;return b+U},P.prototype.writeIntBE=function(M,b,U,zt){if(M=+M,b>>>=0,!zt){const Tt=Math.pow(2,8*U-1);Wt(this,M,b,U,Tt-1,-Tt)}let se=U-1,ve=1,a1=0;for(this[b+se]=255&M;--se>=0&&(ve*=256);)M<0&&0===a1&&0!==this[b+se+1]&&(a1=1),this[b+se]=(M/ve|0)-a1&255;return b+U},P.prototype.writeInt8=function(M,b,U){return M=+M,b>>>=0,U||Wt(this,M,b,1,127,-128),M<0&&(M=255+M+1),this[b]=255&M,b+1},P.prototype.writeInt16LE=function(M,b,U){return M=+M,b>>>=0,U||Wt(this,M,b,2,32767,-32768),this[b]=255&M,this[b+1]=M>>>8,b+2},P.prototype.writeInt16BE=function(M,b,U){return M=+M,b>>>=0,U||Wt(this,M,b,2,32767,-32768),this[b]=M>>>8,this[b+1]=255&M,b+2},P.prototype.writeInt32LE=function(M,b,U){return M=+M,b>>>=0,U||Wt(this,M,b,4,2147483647,-2147483648),this[b]=255&M,this[b+1]=M>>>8,this[b+2]=M>>>16,this[b+3]=M>>>24,b+4},P.prototype.writeInt32BE=function(M,b,U){return M=+M,b>>>=0,U||Wt(this,M,b,4,2147483647,-2147483648),M<0&&(M=4294967295+M+1),this[b]=M>>>24,this[b+1]=M>>>16,this[b+2]=M>>>8,this[b+3]=255&M,b+4},P.prototype.writeBigInt64LE=Fr(function(M,b=0){return Ce(this,M,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),P.prototype.writeBigInt64BE=Fr(function(M,b=0){return oe(this,M,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),P.prototype.writeFloatLE=function(M,b,U){return We(this,M,b,!0,U)},P.prototype.writeFloatBE=function(M,b,U){return We(this,M,b,!1,U)},P.prototype.writeDoubleLE=function(M,b,U){return $e(this,M,b,!0,U)},P.prototype.writeDoubleBE=function(M,b,U){return $e(this,M,b,!1,U)},P.prototype.copy=function(M,b,U,zt){if(!P.isBuffer(M))throw new TypeError("argument should be a Buffer");if(U||(U=0),!zt&&0!==zt&&(zt=this.length),b>=M.length&&(b=M.length),b||(b=0),zt>0&&zt<U&&(zt=U),zt===U||0===M.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(zt<0)throw new RangeError("sourceEnd out of bounds");zt>this.length&&(zt=this.length),M.length-b<zt-U&&(zt=M.length-b+U);const se=zt-U;return this===M&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(b,U,zt):Uint8Array.prototype.set.call(M,this.subarray(U,zt),b),se},P.prototype.fill=function(M,b,U,zt){if("string"==typeof M){if("string"==typeof b?(zt=b,b=0,U=this.length):"string"==typeof U&&(zt=U,U=this.length),void 0!==zt&&"string"!=typeof zt)throw new TypeError("encoding must be a string");if("string"==typeof zt&&!P.isEncoding(zt))throw new TypeError("Unknown encoding: "+zt);if(1===M.length){const ve=M.charCodeAt(0);("utf8"===zt&&ve<128||"latin1"===zt)&&(M=ve)}}else"number"==typeof M?M&=255:"boolean"==typeof M&&(M=Number(M));if(b<0||this.length<b||this.length<U)throw new RangeError("Out of range index");if(U<=b)return this;let se;if(b>>>=0,U=void 0===U?this.length:U>>>0,M||(M=0),"number"==typeof M)for(se=b;se<U;++se)this[se]=M;else{const ve=P.isBuffer(M)?M:P.from(M,zt),a1=ve.length;if(0===a1)throw new TypeError('The value "'+M+'" is invalid for argument "value"');for(se=0;se<U-b;++se)this[se+b]=ve[se%a1]}return this};const Be={};function r1(T,M,b){Be[T]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:M.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,delete this.name}get code(){return T}set code(zt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:zt,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}function o1(T){let M="",b=T.length;const U="-"===T[0]?1:0;for(;b>=U+4;b-=3)M=`_${T.slice(b-3,b)}${M}`;return`${T.slice(0,b)}${M}`}function Qe(T,M,b,U,zt,se){if(T>b||T<M){const ve="bigint"==typeof M?"n":"";let a1;throw a1=se>3?0===M||M===BigInt(0)?`>= 0${ve} and < 2${ve} ** ${8*(se+1)}${ve}`:`>= -(2${ve} ** ${8*(se+1)-1}${ve}) and < 2 ** ${8*(se+1)-1}${ve}`:`>= ${M}${ve} and <= ${b}${ve}`,new Be.ERR_OUT_OF_RANGE("value",a1,T)}!function L1(T,M,b){Ye(M,"offset"),(void 0===T[M]||void 0===T[M+b])&&O(M,T.length-(b+1))}(U,zt,se)}function Ye(T,M){if("number"!=typeof T)throw new Be.ERR_INVALID_ARG_TYPE(M,"number",T)}function O(T,M,b){throw Math.floor(T)!==T?(Ye(T,b),new Be.ERR_OUT_OF_RANGE(b||"offset","an integer",T)):M<0?new Be.ERR_BUFFER_OUT_OF_BOUNDS:new Be.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${M}`,T)}r1("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),r1("ERR_INVALID_ARG_TYPE",function(T,M){return`The "${T}" argument must be of type number. Received type ${typeof M}`},TypeError),r1("ERR_OUT_OF_RANGE",function(T,M,b){let U=`The value of "${T}" is out of range.`,zt=b;return Number.isInteger(b)&&Math.abs(b)>2**32?zt=o1(String(b)):"bigint"==typeof b&&(zt=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(zt=o1(zt)),zt+="n"),U+=` It must be ${M}. Received ${zt}`,U},RangeError);const It=/[^+/0-9A-Za-z-_]/g;function ze(T,M){let b;M=M||1/0;const U=T.length;let zt=null;const se=[];for(let ve=0;ve<U;++ve){if(b=T.charCodeAt(ve),b>55295&&b<57344){if(!zt){if(b>56319){(M-=3)>-1&&se.push(239,191,189);continue}if(ve+1===U){(M-=3)>-1&&se.push(239,191,189);continue}zt=b;continue}if(b<56320){(M-=3)>-1&&se.push(239,191,189),zt=b;continue}b=65536+(zt-55296<<10|b-56320)}else zt&&(M-=3)>-1&&se.push(239,191,189);if(zt=null,b<128){if((M-=1)<0)break;se.push(b)}else if(b<2048){if((M-=2)<0)break;se.push(b>>6|192,63&b|128)}else if(b<65536){if((M-=3)<0)break;se.push(b>>12|224,b>>6&63|128,63&b|128)}else{if(!(b<1114112))throw new Error("Invalid code point");if((M-=4)<0)break;se.push(b>>18|240,b>>12&63|128,b>>6&63|128,63&b|128)}}return se}function T1(T){return vt.toByteArray(function Dt(T){if((T=(T=T.split("=")[0]).trim().replace(It,"")).length<2)return"";for(;T.length%4!=0;)T+="=";return T}(T))}function l1(T,M,b,U){let zt;for(zt=0;zt<U&&!(zt+b>=M.length||zt>=T.length);++zt)M[zt+b]=T[zt];return zt}function c1(T,M){return T instanceof M||null!=T&&null!=T.constructor&&null!=T.constructor.name&&T.constructor.name===M.name}function P1(T){return T!=T}const $1=function(){const T="0123456789abcdef",M=new Array(256);for(let b=0;b<16;++b){const U=16*b;for(let zt=0;zt<16;++zt)M[U+zt]=T[b]+T[zt]}return M}();function Fr(T){return typeof BigInt>"u"?kn:T}function kn(){throw new Error("BigInt not supported")}},9711:(qt,ee,K)=>{var G="function"==typeof Map&&Map.prototype,vt=Object.getOwnPropertyDescriptor&&G?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ht=G&&vt&&"function"==typeof vt.get?vt.get:null,Bt=G&&Map.prototype.forEach,Lt="function"==typeof Set&&Set.prototype,rt=Object.getOwnPropertyDescriptor&&Lt?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,z=Lt&&rt&&"function"==typeof rt.get?rt.get:null,P=Lt&&Set.prototype.forEach,At="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,bt="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,Z="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,st=Boolean.prototype.valueOf,gt=Object.prototype.toString,lt=Function.prototype.toString,Y=String.prototype.match,E=String.prototype.slice,at=String.prototype.replace,ut=String.prototype.toUpperCase,Pt=String.prototype.toLowerCase,q=RegExp.prototype.test,re=Array.prototype.concat,nt=Array.prototype.join,Ht=Array.prototype.slice,Zt=Math.floor,Yt="function"==typeof BigInt?BigInt.prototype.valueOf:null,et=Object.getOwnPropertySymbols,Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,He="function"==typeof Symbol&&"object"==typeof Symbol.iterator,be="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Ge=Object.prototype.propertyIsEnumerable,Ie=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Tt){return Tt.__proto__}:null);function B(Tt,Nt){if(Tt===1/0||Tt===-1/0||Tt!=Tt||Tt&&Tt>-1e3&&Tt<1e3||q.call(/e/,Nt))return Nt;var ct=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Tt){var St=Tt<0?-Zt(-Tt):Zt(Tt);if(St!==Tt){var fe=String(St),ue=E.call(Nt,fe.length+1);return at.call(fe,ct,"$&_")+"."+at.call(at.call(ue,/([0-9]{3})/g,"$&_"),/_$/,"")}}return at.call(Nt,ct,"$&_")}var A=K(2634),$=A.custom,xt=Ye($)?$:null,Wt={__proto__:null,double:'"',single:"'"},Ce={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function oe(Tt,Nt,ct){var fe=Wt[ct.quoteStyle||Nt];return fe+Tt+fe}function xe(Tt){return at.call(String(Tt),/"/g,"&quot;")}function We(Tt){return!("[object Array]"!==ze(Tt)||be&&"object"==typeof Tt&&be in Tt)}function Be(Tt){return!("[object RegExp]"!==ze(Tt)||be&&"object"==typeof Tt&&be in Tt)}function Ye(Tt){if(He)return Tt&&"object"==typeof Tt&&Tt instanceof Symbol;if("symbol"==typeof Tt)return!0;if(!Tt||"object"!=typeof Tt||!Mt)return!1;try{return Mt.call(Tt),!0}catch{}return!1}qt.exports=function Tt(Nt,ct,St,fe){var ue=ct||{};if(Dt(ue,"quoteStyle")&&!Dt(Wt,ue.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Dt(ue,"maxStringLength")&&("number"==typeof ue.maxStringLength?ue.maxStringLength<0&&ue.maxStringLength!==1/0:null!==ue.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ke=!Dt(ue,"customInspect")||ue.customInspect;if("boolean"!=typeof Ke&&"symbol"!==Ke)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Dt(ue,"indent")&&null!==ue.indent&&"\t"!==ue.indent&&!(parseInt(ue.indent,10)===ue.indent&&ue.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Dt(ue,"numericSeparator")&&"boolean"!=typeof ue.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var I1=ue.numericSeparator;if(typeof Nt>"u")return"undefined";if(null===Nt)return"null";if("boolean"==typeof Nt)return Nt?"true":"false";if("string"==typeof Nt)return kn(Nt,ue);if("number"==typeof Nt){if(0===Nt)return 1/0/Nt>0?"0":"-0";var R1=String(Nt);return I1?B(Nt,R1):R1}if("bigint"==typeof Nt){var v1=String(Nt)+"n";return I1?B(Nt,v1):v1}var _r=typeof ue.depth>"u"?5:ue.depth;if(typeof St>"u"&&(St=0),St>=_r&&_r>0&&"object"==typeof Nt)return We(Nt)?"[Array]":"[Object]";var gr=function se(Tt,Nt){var ct;if("\t"===Tt.indent)ct="\t";else{if(!("number"==typeof Tt.indent&&Tt.indent>0))return null;ct=nt.call(Array(Tt.indent+1)," ")}return{base:ct,prev:nt.call(Array(Nt+1),ct)}}(ue,St);if(typeof fe>"u")fe=[];else if(z1(fe,Nt)>=0)return"[Circular]";function jr(wo,Wo,Pn){if(Wo&&(fe=Ht.call(fe)).push(Wo),Pn){var io={depth:ue.depth};return Dt(ue,"quoteStyle")&&(io.quoteStyle=ue.quoteStyle),Tt(wo,io,St+1,fe)}return Tt(wo,ue,St+1,fe)}if("function"==typeof Nt&&!Be(Nt)){var oo=function t1(Tt){if(Tt.name)return Tt.name;var Nt=Y.call(lt.call(Tt),/^function\s*([\w$]+)/);return Nt?Nt[1]:null}(Nt),V1=a1(Nt,jr);return"[Function"+(oo?": "+oo:" (anonymous)")+"]"+(V1.length>0?" { "+nt.call(V1,", ")+" }":"")}if(Ye(Nt)){var Jo=He?at.call(String(Nt),/^(Symbol\(.*\))_[^)]*$/,"$1"):Mt.call(Nt);return"object"!=typeof Nt||He?Jo:M(Jo)}if(function Fr(Tt){return!(!Tt||"object"!=typeof Tt)&&(typeof HTMLElement<"u"&&Tt instanceof HTMLElement||"string"==typeof Tt.nodeName&&"function"==typeof Tt.getAttribute)}(Nt)){for(var so="<"+Pt.call(String(Nt.nodeName)),Fs=Nt.attributes||[],nn=0;nn<Fs.length;nn++)so+=" "+Fs[nn].name+"="+oe(xe(Fs[nn].value),"double",ue);return so+=">",Nt.childNodes&&Nt.childNodes.length&&(so+="..."),so+"</"+Pt.call(String(Nt.nodeName))+">"}if(We(Nt)){if(0===Nt.length)return"[]";var D=a1(Nt,jr);return gr&&!function zt(Tt){for(var Nt=0;Nt<Tt.length;Nt++)if(z1(Tt[Nt],"\n")>=0)return!1;return!0}(D)?"["+ve(D,gr)+"]":"[ "+nt.call(D,", ")+" ]"}if(function r1(Tt){return!("[object Error]"!==ze(Tt)||be&&"object"==typeof Tt&&be in Tt)}(Nt)){var F=a1(Nt,jr);return"cause"in Error.prototype||!("cause"in Nt)||Ge.call(Nt,"cause")?0===F.length?"["+String(Nt)+"]":"{ ["+String(Nt)+"] "+nt.call(F,", ")+" }":"{ ["+String(Nt)+"] "+nt.call(re.call("[cause]: "+jr(Nt.cause),F),", ")+" }"}if("object"==typeof Nt&&Ke){if(xt&&"function"==typeof Nt[xt]&&A)return A(Nt,{depth:_r-St});if("symbol"!==Ke&&"function"==typeof Nt.inspect)return Nt.inspect()}if(function T1(Tt){if(!ht||!Tt||"object"!=typeof Tt)return!1;try{ht.call(Tt);try{z.call(Tt)}catch{return!0}return Tt instanceof Map}catch{}return!1}(Nt)){var ot=[];return Bt&&Bt.call(Nt,function(wo,Wo){ot.push(jr(Wo,Nt,!0)+" => "+jr(wo,Nt))}),U("Map",ht.call(Nt),ot,gr)}if(function P1(Tt){if(!z||!Tt||"object"!=typeof Tt)return!1;try{z.call(Tt);try{ht.call(Tt)}catch{return!0}return Tt instanceof Set}catch{}return!1}(Nt)){var le=[];return P&&P.call(Nt,function(wo){le.push(jr(wo,Nt))}),U("Set",z.call(Nt),le,gr)}if(function l1(Tt){if(!At||!Tt||"object"!=typeof Tt)return!1;try{At.call(Tt,At);try{bt.call(Tt,bt)}catch{return!0}return Tt instanceof WeakMap}catch{}return!1}(Nt))return b("WeakMap");if(function $1(Tt){if(!bt||!Tt||"object"!=typeof Tt)return!1;try{bt.call(Tt,bt);try{At.call(Tt,At)}catch{return!0}return Tt instanceof WeakSet}catch{}return!1}(Nt))return b("WeakSet");if(function c1(Tt){if(!Z||!Tt||"object"!=typeof Tt)return!1;try{return Z.call(Tt),!0}catch{}return!1}(Nt))return b("WeakRef");if(function L1(Tt){return!("[object Number]"!==ze(Tt)||be&&"object"==typeof Tt&&be in Tt)}(Nt))return M(jr(Number(Nt)));if(function O(Tt){if(!Tt||"object"!=typeof Tt||!Yt)return!1;try{return Yt.call(Tt),!0}catch{}return!1}(Nt))return M(jr(Yt.call(Nt)));if(function Qe(Tt){return!("[object Boolean]"!==ze(Tt)||be&&"object"==typeof Tt&&be in Tt)}(Nt))return M(st.call(Nt));if(function o1(Tt){return!("[object String]"!==ze(Tt)||be&&"object"==typeof Tt&&be in Tt)}(Nt))return M(jr(String(Nt)));if(typeof window<"u"&&Nt===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Nt===globalThis||typeof global<"u"&&Nt===global)return"{ [object globalThis] }";if(!function $e(Tt){return!("[object Date]"!==ze(Tt)||be&&"object"==typeof Tt&&be in Tt)}(Nt)&&!Be(Nt)){var Re=a1(Nt,jr),ne=Ie?Ie(Nt)===Object.prototype:Nt instanceof Object||Nt.constructor===Object,nr=Nt instanceof Object?"":"null prototype",Dn=!ne&&be&&Object(Nt)===Nt&&be in Nt?E.call(ze(Nt),8,-1):nr?"Object":"",Mr=(ne||"function"!=typeof Nt.constructor?"":Nt.constructor.name?Nt.constructor.name+" ":"")+(Dn||nr?"["+nt.call(re.call([],Dn||[],nr||[]),": ")+"] ":"");return 0===Re.length?Mr+"{}":gr?Mr+"{"+ve(Re,gr)+"}":Mr+"{ "+nt.call(Re,", ")+" }"}return String(Nt)};var It=Object.prototype.hasOwnProperty||function(Tt){return Tt in this};function Dt(Tt,Nt){return It.call(Tt,Nt)}function ze(Tt){return gt.call(Tt)}function z1(Tt,Nt){if(Tt.indexOf)return Tt.indexOf(Nt);for(var ct=0,St=Tt.length;ct<St;ct++)if(Tt[ct]===Nt)return ct;return-1}function kn(Tt,Nt){if(Tt.length>Nt.maxStringLength){var ct=Tt.length-Nt.maxStringLength,St="... "+ct+" more character"+(ct>1?"s":"");return kn(E.call(Tt,0,Nt.maxStringLength),Nt)+St}var fe=Ce[Nt.quoteStyle||"single"];return fe.lastIndex=0,oe(at.call(at.call(Tt,fe,"\\$1"),/[\x00-\x1f]/g,T),"single",Nt)}function T(Tt){var Nt=Tt.charCodeAt(0),ct={8:"b",9:"t",10:"n",12:"f",13:"r"}[Nt];return ct?"\\"+ct:"\\x"+(Nt<16?"0":"")+ut.call(Nt.toString(16))}function M(Tt){return"Object("+Tt+")"}function b(Tt){return Tt+" { ? }"}function U(Tt,Nt,ct,St){return Tt+" ("+Nt+") {"+(St?ve(ct,St):nt.call(ct,", "))+"}"}function ve(Tt,Nt){if(0===Tt.length)return"";var ct="\n"+Nt.prev+Nt.base;return ct+nt.call(Tt,","+ct)+"\n"+Nt.prev}function a1(Tt,Nt){var ct=We(Tt),St=[];if(ct){St.length=Tt.length;for(var fe=0;fe<Tt.length;fe++)St[fe]=Dt(Tt,fe)?Nt(Tt[fe],Tt):""}var Ke,ue="function"==typeof et?et(Tt):[];if(He){Ke={};for(var I1=0;I1<ue.length;I1++)Ke["$"+ue[I1]]=ue[I1]}for(var R1 in Tt)Dt(Tt,R1)&&(ct&&String(Number(R1))===R1&&R1<Tt.length||He&&Ke["$"+R1]instanceof Symbol||(q.call(/[^\w$]/,R1)?St.push(Nt(R1,Tt)+": "+Nt(Tt[R1],Tt)):St.push(R1+": "+Nt(Tt[R1],Tt))));if("function"==typeof et)for(var v1=0;v1<ue.length;v1++)Ge.call(Tt,ue[v1])&&St.push("["+Nt(ue[v1])+"]: "+Nt(Tt[ue[v1]],Tt));return St}},3329:qt=>{"use strict";var ee=String.prototype.replace,K=/%20/g;qt.exports={default:"RFC3986",formatters:{RFC1738:function(vt){return ee.call(vt,K,"+")},RFC3986:function(vt){return String(vt)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},6505:(qt,ee,K)=>{"use strict";var G=K(9792),vt=K(4014),ht=K(3329);qt.exports={formats:ht,parse:vt,stringify:G}},4014:(qt,ee,K)=>{"use strict";var G=K(1956),vt=Object.prototype.hasOwnProperty,ht=Array.isArray,Bt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:G.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},rt=function(W,Z){return W&&"string"==typeof W&&Z.comma&&W.indexOf(",")>-1?W.split(","):W},dt=function(Z,st,gt,lt){if(Z){var Y=gt.allowDots?Z.replace(/\.([^.[]+)/g,"[$1]"):Z,at=/(\[[^[\]]*])/g,ut=gt.depth>0&&/(\[[^[\]]*])/.exec(Y),Pt=ut?Y.slice(0,ut.index):Y,q=[];if(Pt){if(!gt.plainObjects&&vt.call(Object.prototype,Pt)&&!gt.allowPrototypes)return;q.push(Pt)}for(var re=0;gt.depth>0&&null!==(ut=at.exec(Y))&&re<gt.depth;){if(re+=1,!gt.plainObjects&&vt.call(Object.prototype,ut[1].slice(1,-1))&&!gt.allowPrototypes)return;q.push(ut[1])}if(ut){if(!0===gt.strictDepth)throw new RangeError("Input depth exceeded depth option of "+gt.depth+" and strictDepth is true");q.push("["+Y.slice(ut.index)+"]")}return function(W,Z,st,gt){for(var lt=gt?Z:rt(Z,st),Y=W.length-1;Y>=0;--Y){var E,at=W[Y];if("[]"===at&&st.parseArrays)E=st.allowEmptyArrays&&(""===lt||st.strictNullHandling&&null===lt)?[]:[].concat(lt);else{E=st.plainObjects?Object.create(null):{};var ut="["===at.charAt(0)&&"]"===at.charAt(at.length-1)?at.slice(1,-1):at,Pt=st.decodeDotInKeys?ut.replace(/%2E/g,"."):ut,q=parseInt(Pt,10);st.parseArrays||""!==Pt?!isNaN(q)&&at!==Pt&&String(q)===Pt&&q>=0&&st.parseArrays&&q<=st.arrayLimit?(E=[])[q]=lt:"__proto__"!==Pt&&(E[Pt]=lt):E={0:lt}}lt=E}return lt}(q,st,gt,lt)}};qt.exports=function(W,Z){var st=function(Z){if(!Z)return Bt;if(typeof Z.allowEmptyArrays<"u"&&"boolean"!=typeof Z.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof Z.decodeDotInKeys<"u"&&"boolean"!=typeof Z.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==Z.decoder&&typeof Z.decoder<"u"&&"function"!=typeof Z.decoder)throw new TypeError("Decoder has to be a function.");if(typeof Z.charset<"u"&&"utf-8"!==Z.charset&&"iso-8859-1"!==Z.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var st=typeof Z.charset>"u"?Bt.charset:Z.charset,gt=typeof Z.duplicates>"u"?Bt.duplicates:Z.duplicates;if("combine"!==gt&&"first"!==gt&&"last"!==gt)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof Z.allowDots>"u"?!0===Z.decodeDotInKeys||Bt.allowDots:!!Z.allowDots,allowEmptyArrays:"boolean"==typeof Z.allowEmptyArrays?!!Z.allowEmptyArrays:Bt.allowEmptyArrays,allowPrototypes:"boolean"==typeof Z.allowPrototypes?Z.allowPrototypes:Bt.allowPrototypes,allowSparse:"boolean"==typeof Z.allowSparse?Z.allowSparse:Bt.allowSparse,arrayLimit:"number"==typeof Z.arrayLimit?Z.arrayLimit:Bt.arrayLimit,charset:st,charsetSentinel:"boolean"==typeof Z.charsetSentinel?Z.charsetSentinel:Bt.charsetSentinel,comma:"boolean"==typeof Z.comma?Z.comma:Bt.comma,decodeDotInKeys:"boolean"==typeof Z.decodeDotInKeys?Z.decodeDotInKeys:Bt.decodeDotInKeys,decoder:"function"==typeof Z.decoder?Z.decoder:Bt.decoder,delimiter:"string"==typeof Z.delimiter||G.isRegExp(Z.delimiter)?Z.delimiter:Bt.delimiter,depth:"number"==typeof Z.depth||!1===Z.depth?+Z.depth:Bt.depth,duplicates:gt,ignoreQueryPrefix:!0===Z.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof Z.interpretNumericEntities?Z.interpretNumericEntities:Bt.interpretNumericEntities,parameterLimit:"number"==typeof Z.parameterLimit?Z.parameterLimit:Bt.parameterLimit,parseArrays:!1!==Z.parseArrays,plainObjects:"boolean"==typeof Z.plainObjects?Z.plainObjects:Bt.plainObjects,strictDepth:"boolean"==typeof Z.strictDepth?!!Z.strictDepth:Bt.strictDepth,strictNullHandling:"boolean"==typeof Z.strictNullHandling?Z.strictNullHandling:Bt.strictNullHandling}}(Z);if(""===W||null===W||typeof W>"u")return st.plainObjects?Object.create(null):{};for(var gt="string"==typeof W?function(Z,st){var ut,gt={__proto__:null},lt=st.ignoreQueryPrefix?Z.replace(/^\?/,""):Z,E=(lt=lt.replace(/%5B/gi,"[").replace(/%5D/gi,"]")).split(st.delimiter,st.parameterLimit===1/0?void 0:st.parameterLimit),at=-1,Pt=st.charset;if(st.charsetSentinel)for(ut=0;ut<E.length;++ut)0===E[ut].indexOf("utf8=")&&("utf8=%E2%9C%93"===E[ut]?Pt="utf-8":"utf8=%26%2310003%3B"===E[ut]&&(Pt="iso-8859-1"),at=ut,ut=E.length);for(ut=0;ut<E.length;++ut)if(ut!==at){var Ht,Zt,q=E[ut],re=q.indexOf("]="),nt=-1===re?q.indexOf("="):re+1;-1===nt?(Ht=st.decoder(q,Bt.decoder,Pt,"key"),Zt=st.strictNullHandling?null:""):(Ht=st.decoder(q.slice(0,nt),Bt.decoder,Pt,"key"),Zt=G.maybeMap(rt(q.slice(nt+1),st),function(et){return st.decoder(et,Bt.decoder,Pt,"value")})),Zt&&st.interpretNumericEntities&&"iso-8859-1"===Pt&&(Zt=Zt.replace(/&#(\d+);/g,function(Z,st){return String.fromCharCode(parseInt(st,10))})),q.indexOf("[]=")>-1&&(Zt=ht(Zt)?[Zt]:Zt);var Yt=vt.call(gt,Ht);Yt&&"combine"===st.duplicates?gt[Ht]=G.combine(gt[Ht],Zt):(!Yt||"last"===st.duplicates)&&(gt[Ht]=Zt)}return gt}(W,st):W,lt=st.plainObjects?Object.create(null):{},Y=Object.keys(gt),E=0;E<Y.length;++E){var at=Y[E],ut=dt(at,gt[at],st,"string"==typeof W);lt=G.merge(lt,ut,st)}return!0===st.allowSparse?lt:G.compact(lt)}},9792:(qt,ee,K)=>{"use strict";var G=K(8268),vt=K(1956),ht=K(3329),Bt=Object.prototype.hasOwnProperty,Lt={brackets:function(lt){return lt+"[]"},comma:"comma",indices:function(lt,Y){return lt+"["+Y+"]"},repeat:function(lt){return lt}},rt=Array.isArray,z=Array.prototype.push,P=function(gt,lt){z.apply(gt,rt(lt)?lt:[lt])},g=Date.prototype.toISOString,At=ht.default,dt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:vt.encode,encodeValuesOnly:!1,format:At,formatter:ht.formatters[At],indices:!1,serializeDate:function(lt){return g.call(lt)},skipNulls:!1,strictNullHandling:!1},W={},Z=function gt(lt,Y,E,at,ut,Pt,q,re,nt,Ht,Zt,Yt,et,Mt,He,be,Ge,Ie){for(var B=lt,A=Ie,$=0,xt=!1;void 0!==(A=A.get(W))&&!xt;){var Wt=A.get(lt);if($+=1,typeof Wt<"u"){if(Wt===$)throw new RangeError("Cyclic object value");xt=!0}typeof A.get(W)>"u"&&($=0)}if("function"==typeof Ht?B=Ht(Y,B):B instanceof Date?B=et(B):"comma"===E&&rt(B)&&(B=vt.maybeMap(B,function(It){return It instanceof Date?et(It):It})),null===B){if(Pt)return nt&&!be?nt(Y,dt.encoder,Ge,"key",Mt):Y;B=""}if(function(lt){return"string"==typeof lt||"number"==typeof lt||"boolean"==typeof lt||"symbol"==typeof lt||"bigint"==typeof lt}(B)||vt.isBuffer(B))return nt?[He(be?Y:nt(Y,dt.encoder,Ge,"key",Mt))+"="+He(nt(B,dt.encoder,Ge,"value",Mt))]:[He(Y)+"="+He(String(B))];var xe,oe=[];if(typeof B>"u")return oe;if("comma"===E&&rt(B))be&&nt&&(B=vt.maybeMap(B,nt)),xe=[{value:B.length>0?B.join(",")||null:void 0}];else if(rt(Ht))xe=Ht;else{var We=Object.keys(B);xe=Zt?We.sort(Zt):We}var $e=re?Y.replace(/\./g,"%2E"):Y,Be=at&&rt(B)&&1===B.length?$e+"[]":$e;if(ut&&rt(B)&&0===B.length)return Be+"[]";for(var r1=0;r1<xe.length;++r1){var o1=xe[r1],L1="object"==typeof o1&&typeof o1.value<"u"?o1.value:B[o1];if(!q||null!==L1){var Qe=Yt&&re?o1.replace(/\./g,"%2E"):o1,Ye=rt(B)?"function"==typeof E?E(Be,Qe):Be:Be+(Yt?"."+Qe:"["+Qe+"]");Ie.set(lt,$);var O=G();O.set(W,Ie),P(oe,gt(L1,Ye,E,at,ut,Pt,q,re,"comma"===E&&be&&rt(B)?null:nt,Ht,Zt,Yt,et,Mt,He,be,Ge,O))}}return oe};qt.exports=function(gt,lt){var at,Y=gt,E=function(lt){if(!lt)return dt;if(typeof lt.allowEmptyArrays<"u"&&"boolean"!=typeof lt.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof lt.encodeDotInKeys<"u"&&"boolean"!=typeof lt.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==lt.encoder&&typeof lt.encoder<"u"&&"function"!=typeof lt.encoder)throw new TypeError("Encoder has to be a function.");var Y=lt.charset||dt.charset;if(typeof lt.charset<"u"&&"utf-8"!==lt.charset&&"iso-8859-1"!==lt.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var E=ht.default;if(typeof lt.format<"u"){if(!Bt.call(ht.formatters,lt.format))throw new TypeError("Unknown format option provided.");E=lt.format}var Pt,at=ht.formatters[E],ut=dt.filter;if(("function"==typeof lt.filter||rt(lt.filter))&&(ut=lt.filter),Pt=lt.arrayFormat in Lt?lt.arrayFormat:"indices"in lt?lt.indices?"indices":"repeat":dt.arrayFormat,"commaRoundTrip"in lt&&"boolean"!=typeof lt.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof lt.addQueryPrefix?lt.addQueryPrefix:dt.addQueryPrefix,allowDots:typeof lt.allowDots>"u"?!0===lt.encodeDotInKeys||dt.allowDots:!!lt.allowDots,allowEmptyArrays:"boolean"==typeof lt.allowEmptyArrays?!!lt.allowEmptyArrays:dt.allowEmptyArrays,arrayFormat:Pt,charset:Y,charsetSentinel:"boolean"==typeof lt.charsetSentinel?lt.charsetSentinel:dt.charsetSentinel,commaRoundTrip:lt.commaRoundTrip,delimiter:typeof lt.delimiter>"u"?dt.delimiter:lt.delimiter,encode:"boolean"==typeof lt.encode?lt.encode:dt.encode,encodeDotInKeys:"boolean"==typeof lt.encodeDotInKeys?lt.encodeDotInKeys:dt.encodeDotInKeys,encoder:"function"==typeof lt.encoder?lt.encoder:dt.encoder,encodeValuesOnly:"boolean"==typeof lt.encodeValuesOnly?lt.encodeValuesOnly:dt.encodeValuesOnly,filter:ut,format:E,formatter:at,serializeDate:"function"==typeof lt.serializeDate?lt.serializeDate:dt.serializeDate,skipNulls:"boolean"==typeof lt.skipNulls?lt.skipNulls:dt.skipNulls,sort:"function"==typeof lt.sort?lt.sort:null,strictNullHandling:"boolean"==typeof lt.strictNullHandling?lt.strictNullHandling:dt.strictNullHandling}}(lt);"function"==typeof E.filter?Y=(0,E.filter)("",Y):rt(E.filter)&&(at=E.filter);var Pt=[];if("object"!=typeof Y||null===Y)return"";var q=Lt[E.arrayFormat],re="comma"===q&&E.commaRoundTrip;at||(at=Object.keys(Y)),E.sort&&at.sort(E.sort);for(var nt=G(),Ht=0;Ht<at.length;++Ht){var Zt=at[Ht];E.skipNulls&&null===Y[Zt]||P(Pt,Z(Y[Zt],Zt,q,re,E.allowEmptyArrays,E.strictNullHandling,E.skipNulls,E.encodeDotInKeys,E.encode?E.encoder:null,E.filter,E.sort,E.allowDots,E.serializeDate,E.format,E.formatter,E.encodeValuesOnly,E.charset,nt))}var Yt=Pt.join(E.delimiter),et=!0===E.addQueryPrefix?"?":"";return E.charsetSentinel&&(et+="iso-8859-1"===E.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),Yt.length>0?et+Yt:""}},1956:(qt,ee,K)=>{"use strict";var G=K(3329),vt=Object.prototype.hasOwnProperty,ht=Array.isArray,Bt=function(){for(var lt=[],Y=0;Y<256;++Y)lt.push("%"+((Y<16?"0":"")+Y.toString(16)).toUpperCase());return lt}(),rt=function(Y,E){for(var at=E&&E.plainObjects?Object.create(null):{},ut=0;ut<Y.length;++ut)typeof Y[ut]<"u"&&(at[ut]=Y[ut]);return at};qt.exports={arrayToObject:rt,assign:function(Y,E){return Object.keys(E).reduce(function(at,ut){return at[ut]=E[ut],at},Y)},combine:function(Y,E){return[].concat(Y,E)},compact:function(Y){for(var E=[{obj:{o:Y},prop:"o"}],at=[],ut=0;ut<E.length;++ut)for(var Pt=E[ut],q=Pt.obj[Pt.prop],re=Object.keys(q),nt=0;nt<re.length;++nt){var Ht=re[nt],Zt=q[Ht];"object"==typeof Zt&&null!==Zt&&-1===at.indexOf(Zt)&&(E.push({obj:q,prop:Ht}),at.push(Zt))}return function(Y){for(;Y.length>1;){var E=Y.pop(),at=E.obj[E.prop];if(ht(at)){for(var ut=[],Pt=0;Pt<at.length;++Pt)typeof at[Pt]<"u"&&ut.push(at[Pt]);E.obj[E.prop]=ut}}}(E),Y},decode:function(lt,Y,E){var at=lt.replace(/\+/g," ");if("iso-8859-1"===E)return at.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(at)}catch{return at}},encode:function(Y,E,at,ut,Pt){if(0===Y.length)return Y;var q=Y;if("symbol"==typeof Y?q=Symbol.prototype.toString.call(Y):"string"!=typeof Y&&(q=String(Y)),"iso-8859-1"===at)return escape(q).replace(/%u[0-9a-f]{4}/gi,function(Mt){return"%26%23"+parseInt(Mt.slice(2),16)+"%3B"});for(var re="",nt=0;nt<q.length;nt+=1024){for(var Ht=q.length>=1024?q.slice(nt,nt+1024):q,Zt=[],Yt=0;Yt<Ht.length;++Yt){var et=Ht.charCodeAt(Yt);45===et||46===et||95===et||126===et||et>=48&&et<=57||et>=65&&et<=90||et>=97&&et<=122||Pt===G.RFC1738&&(40===et||41===et)?Zt[Zt.length]=Ht.charAt(Yt):et<128?Zt[Zt.length]=Bt[et]:et<2048?Zt[Zt.length]=Bt[192|et>>6]+Bt[128|63&et]:et<55296||et>=57344?Zt[Zt.length]=Bt[224|et>>12]+Bt[128|et>>6&63]+Bt[128|63&et]:(et=65536+((1023&et)<<10|1023&Ht.charCodeAt(Yt+=1)),Zt[Zt.length]=Bt[240|et>>18]+Bt[128|et>>12&63]+Bt[128|et>>6&63]+Bt[128|63&et])}re+=Zt.join("")}return re},isBuffer:function(Y){return!(!Y||"object"!=typeof Y||!(Y.constructor&&Y.constructor.isBuffer&&Y.constructor.isBuffer(Y)))},isRegExp:function(Y){return"[object RegExp]"===Object.prototype.toString.call(Y)},maybeMap:function(Y,E){if(ht(Y)){for(var at=[],ut=0;ut<Y.length;ut+=1)at.push(E(Y[ut]));return at}return E(Y)},merge:function lt(Y,E,at){if(!E)return Y;if("object"!=typeof E){if(ht(Y))Y.push(E);else{if(!Y||"object"!=typeof Y)return[Y,E];(at&&(at.plainObjects||at.allowPrototypes)||!vt.call(Object.prototype,E))&&(Y[E]=!0)}return Y}if(!Y||"object"!=typeof Y)return[Y].concat(E);var ut=Y;return ht(Y)&&!ht(E)&&(ut=rt(Y,at)),ht(Y)&&ht(E)?(E.forEach(function(Pt,q){if(vt.call(Y,q)){var re=Y[q];re&&"object"==typeof re&&Pt&&"object"==typeof Pt?Y[q]=lt(re,Pt,at):Y.push(Pt)}else Y[q]=Pt}),Y):Object.keys(E).reduce(function(Pt,q){var re=E[q];return Pt[q]=vt.call(Pt,q)?lt(Pt[q],re,at):re,Pt},ut)}}},4416:qt=>{let ee;qt.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:global):K=>(ee||(ee=Promise.resolve())).then(K).catch(G=>setTimeout(()=>{throw G},0))},9423:(qt,ee,K)=>{"use strict";K.d(ee,{A:()=>vt});const vt={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7}},1752:(qt,ee,K)=>{"use strict";K.d(ee,{A:()=>Z});var G=K(1322),vt=K(1308),ht=K(1853),Bt=K(4009),Lt=K(6190),rt=K(3380),z=K(9423),P=K(9788),g=K(9535),At=K(79),dt=K(1551);function bt(st,gt,lt){return gt=(0,Bt.A)(gt),(0,ht.A)(st,W()?Reflect.construct(gt,lt||[],(0,Bt.A)(st).constructor):gt.apply(st,lt))}function W(){try{var st=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W=function(){return!!st})()}var Z=function(st){function gt(lt){var Y;if((0,G.A)(this,gt),Y=bt(this,gt,[(0,At.E)(lt)]),(0,rt.A)(Y,"termType",g.Kk),(0,rt.A)(Y,"classOrder",z.A.NamedNode),!Y.value)throw new Error("Missing IRI for NamedNode");if(!Y.value.includes(":"))throw new Error('NamedNode IRI "'+lt+'" must be absolute.');if(Y.value.includes(" "))throw new Error('Error: NamedNode IRI "'+lt+'" must not contain unencoded spaces.');return Y}return(0,Lt.A)(gt,st),(0,vt.A)(gt,[{key:"dir",value:function(){var Y=this.value.split("#")[0],E=Y.slice(0,-1).lastIndexOf("/"),at=Y.indexOf("//");return at>=0&&E<at+2||E<0?null:new gt(Y.slice(0,E+1))}},{key:"site",value:function(){var Y=this.value.split("#")[0],E=Y.indexOf("//");if(E<0)throw new Error("This URI does not have a web site part (origin)");var at=Y.indexOf("/",E+2);return new gt(at<0?Y.slice(0)+"/":Y.slice(0,at+1))}},{key:"doc",value:function(){return this.value.indexOf("#")<0?this:new gt(this.value.split("#")[0])}},{key:"toString",value:function(){return"<"+this.value+">"}},{key:"id",value:function(){return this.value.split("#")[1]}},{key:"uri",get:function(){return this.value},set:function(Y){this.value=Y}}],[{key:"fromValue",value:function(Y){return typeof Y>"u"||null===Y||(0,dt.D0)(Y)?Y:new gt(Y)}}])}(P.A)},9788:(qt,ee,K)=>{"use strict";K.d(ee,{A:()=>Bt});var G=K(1322),vt=K(1308),ht=K(3380),Bt=function(){return(0,vt.A)(function Lt(rt){(0,G.A)(this,Lt),(0,ht.A)(this,"termType",void 0),(0,ht.A)(this,"classOrder",void 0),(0,ht.A)(this,"value",void 0),this.value=rt},[{key:"substitute",value:function(z){return this}},{key:"compareTerm",value:function(z){return this.classOrder<z.classOrder?-1:this.classOrder>z.classOrder?1:this.value<z.value?-1:this.value>z.value?1:0}},{key:"equals",value:function(z){return!!z&&this.termType===z.termType&&this.value===z.value}},{key:"hashString",value:function(){return this.toCanonical()}},{key:"sameTerm",value:function(z){return this.equals(z)}},{key:"toCanonical",value:function(){return this.toNT()}},{key:"toNT",value:function(){return this.toString()}},{key:"toNQ",value:function(){return this.toNT()}},{key:"toString",value:function(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}])}();(0,ht.A)(Bt,"fromValue",void 0),(0,ht.A)(Bt,"toJS",void 0)},9535:(qt,ee,K)=>{"use strict";K.d(ee,{$Q:()=>vt,BR:()=>W,Fn:()=>Y,H:()=>ut,JG:()=>gt,K9:()=>lt,Kk:()=>G,MG:()=>bt,P2:()=>Bt,QW:()=>ht,S:()=>z,_0:()=>Z,bD:()=>P,bM:()=>st,hu:()=>at,i2:()=>At,ic:()=>Lt,lc:()=>g,ny:()=>dt,r0:()=>rt,sT:()=>E});var G="NamedNode",vt="BlankNode",ht="Literal",Bt="Variable",Lt="DefaultGraph",rt="Collection",z="Empty",P="Graph",g="text/html",At="application/ld+json",dt="text/n3",bt="application/n3",W="application/nquads",Z="application/n-quads",st="application/n-triples",gt="application/rdf+xml",lt="application/sparql-update",Y="application/sparql-update-single-match",E="text/turtle",at="application/x-turtle",ut="application/xhtml+xml"},9223:(qt,ee,K)=>{"use strict";K.d(ee,{Kw:()=>rt,Uz:()=>st,VQ:()=>bt,h4:()=>Z,jI:()=>P,tE:()=>Bt});var G=K(1752),vt=K(2502);function Bt(E){return E=E.split(";")[0].trim(),new G.A("http://www.w3.org/ns/iana/media-types/"+E+"#Resource")}function rt(E,at){E.callbacks={};for(var ut=at.length-1;ut>=0;ut--)E.callbacks[at[ut]]=[];E.addHook=function(Pt){E.callbacks[Pt]||(E.callbacks[Pt]=[])},E.addCallback=function(Pt,q){E.callbacks[Pt].push(q)},E.removeCallback=function(Pt,q){for(var re=0;re<E.callbacks[Pt].length;re++)if(E.callbacks[Pt][re].name===q)return E.callbacks[Pt].splice(re,1),!0;return!1},E.insertCallback=function(Pt,q){E.callbacks[Pt].unshift(q)},E.fireCallbacks=function(q,re){var Yt,et,nt=[],Ht=[],Zt=E.callbacks[q].length;for(Yt=Zt-1;Yt>=0;Yt--)(et=E.callbacks[q][Yt])&&et.apply(E,re)&&nt.push(et);for(Yt=nt.length-1;Yt>=0;Yt--)Ht.push(nt[Yt]);for(Yt=Zt;Yt<E.callbacks[q].length;Yt++)Ht.push(E.callbacks[q][Yt]);E.callbacks[q]=Ht}}function P(E,at){var ut=[];(at=at||{})&&at.selfClosing&&at.selfClosing.split(" ").forEach(function(q){ut[q]=!0});var Pt=[];return at&&at.skipAttributes&&at.skipAttributes.split(" ").forEach(function(q){Pt[q]=!0}),g(E,at,ut,Pt)}function g(E,at,ut,Pt){var q,re="",nt=[!1];if(typeof E.nodeType>"u")return re;if(1===E.nodeType){if(E.hasAttribute("class")&&at&&at.classWithChildText&&E.matches(at.classWithChildText.class))re+=E.querySelector(at.classWithChildText.element).textContent;else if(!(at&&at.skipNodeWithClass&&E.matches("."+at.skipNodeWithClass))){var Ht=E.nodeName.toLowerCase();re+="<"+Ht;var Zt=[];for(q=E.attributes.length-1;q>=0;q--){var Yt=E.attributes[q];if(!(Pt&&Pt.length>0&&Pt[Yt.name]||/^\d+$/.test(Yt.name))){if("class"===Yt.name&&at&&at.replaceClassItemWith&&Yt.value.split(" ").indexOf(at.replaceClassItemWith.source)>-1){var et=new RegExp(at.replaceClassItemWith.source,"g");Yt.value=Yt.value.replace(et,at.replaceClassItemWith.target).trim()}"class"===Yt.name&&at&&at.skipClassWithValue&&at.skipClassWithValue===Yt.value||Zt.push(Yt.name+"='"+Yt.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(Zt.length>0&&(at&&at.sortAttributes&&Zt.sort(function(He,be){return He.toLowerCase().localeCompare(be.toLowerCase())}),re+=" "+Zt.join(" ")),ut&&ut.ename)re+=" />";else{for(re+=">",re+="html"===Ht?"\n  ":"",nt.push("style"===Ht||"script"===Ht),q=0;q<E.childNodes.length;q++)re+=g(E.childNodes[q]);nt.pop(),re+="body"===Ht?"</"+Ht+">\n":"</"+Ht+">"}}}else if(8===E.nodeType)re+="\x3c!--"+E.nodeValue+"--\x3e";else if(3===E.nodeType||4===E.nodeType){var Mt=E.nodeValue.replace(/\n+$/,"");re+=nt[nt.length-1]?Mt:Mt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+E.nodeType),console.log(E);return re}function dt(E,at,ut,Pt){var q=function(Zt){return"BlankNode"===Zt.termType?null:Zt},re=function(Zt){var Yt=ut.statementsMatching(Zt).map(function(et){return q(et.subject)+" "+q(et.predicate)+" "+q(et.object)}).concat(ut.statementsMatching(void 0,void 0,Zt).map(function(et){return q(et.subject)+" "+q(et.predicate)+" "+q(et.object)}));return Yt.sort(),Yt.join("\n")},nt=Object.prototype.hasOwnProperty.call(ut,"compareTerms")?ut.compareTerms(E,at):E.compareTerm(at);return"BlankNode"===E.termType&&"BlankNode"===at.termType?0===nt?0:re(E)>re(at)?1:re(E)<re(at)?-1:nt:Pt&&E.uri&&at.uri?(Pt[E.uri]||E.uri).localeCompare(Pt[at.uri]||at.uri):nt}function bt(E,at,ut,Pt){return dt(E.subject,at.subject,ut,Pt)||dt(E.predicate,at.predicate,ut,Pt)||dt(E.object,at.object,ut,Pt)}function Z(E,at){return at=at||{},qt&&qt.exports?(new vt.DOMParser).parseFromString(E,at.contentType||"application/xhtml+xml"):(typeof window<"u"&&window.DOMParser?new window.DOMParser:new vt.DOMParser).parseFromString(E,"application/xml")}function st(E,at){for(var ut=0;ut<E.length;ut++)if(E[ut].subject.equals(at.subject)&&E[ut].predicate.equals(at.predicate)&&E[ut].object.equals(at.object)&&E[ut].why.equals(at.why))return void E.splice(ut,1);throw new Error("RDFArrayRemove: Array did not contain "+at+" "+at.why)}qt=K.hmd(qt)},79:(qt,ee,K)=>{"use strict";function G(vt){return"string"==typeof vt?vt:vt.value}K.d(ee,{E:()=>G})},1551:(qt,ee,K)=>{"use strict";K.d(ee,{CZ:()=>z,D0:()=>At,DJ:()=>rt,DZ:()=>g,P3:()=>Lt,RN:()=>Y,SH:()=>ht,Y2:()=>W,aF:()=>bt,c$:()=>dt,fY:()=>P,ok:()=>Bt});var G=K(9391),vt=K(9535);function ht(E){return"object"===(0,G.A)(E)&&null!==E&&"subject"in E}function Bt(E){return"object"===(0,G.A)(E)&&null!==E&&"statements"in E}function Lt(E){return At(E)&&E.termType===vt.r0}function rt(E){return E&&Object.prototype.hasOwnProperty.call(E,"termType")&&(E.termType===vt.Kk||E.termType===vt.P2||E.termType===vt.$Q||E.termType===vt.r0||E.termType===vt.QW||E.termType===vt.bD)}function z(E){return E&&Object.prototype.hasOwnProperty.call(E,"termType")&&(E.termType===vt.Kk||E.termType===vt.P2||E.termType===vt.$Q||E.termType===vt.r0||E.termType===vt.QW||E.termType===vt.bD)}function P(E){return At(E)&&(E.termType===vt.Kk||E.termType===vt.$Q||E.termType===vt.P2)}function g(E){return At(E)&&E.termType===vt.P2}function At(E){return"object"===(0,G.A)(E)&&null!==E&&"termType"in E}function dt(E){return E.termType===vt.QW}function bt(E){return"object"===(0,G.A)(E)&&null!==E&&"subject"in E&&"predicate"in E&&"object"in E}function W(E){return At(E)&&"NamedNode"===E.termType}function Y(E){return At(E)&&(E.termType===vt.Kk||E.termType===vt.P2||E.termType===vt.$Q||E.termType===vt.ic)}},8868:function(qt,ee){var ht,K=typeof self<"u"?self:this,G=function(){function ht(){this.fetch=!1,this.DOMException=K.DOMException}return ht.prototype=K,new ht}();ht=G,function(Lt){var rt_searchParams="URLSearchParams"in ht,rt_iterable="Symbol"in ht&&"iterator"in Symbol,rt_blob="FileReader"in ht&&"Blob"in ht&&function(){try{return new Blob,!0}catch{return!1}}(),rt_formData="FormData"in ht,rt_arrayBuffer="ArrayBuffer"in ht;if(rt_arrayBuffer)var P=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(et){return et&&P.indexOf(Object.prototype.toString.call(et))>-1};function At(et){if("string"!=typeof et&&(et=String(et)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(et))throw new TypeError("Invalid character in header field name");return et.toLowerCase()}function dt(et){return"string"!=typeof et&&(et=String(et)),et}function bt(et){var Mt={next:function(){var He=et.shift();return{done:void 0===He,value:He}}};return rt_iterable&&(Mt[Symbol.iterator]=function(){return Mt}),Mt}function W(et){this.map={},et instanceof W?et.forEach(function(Mt,He){this.append(He,Mt)},this):Array.isArray(et)?et.forEach(function(Mt){this.append(Mt[0],Mt[1])},this):et&&Object.getOwnPropertyNames(et).forEach(function(Mt){this.append(Mt,et[Mt])},this)}function Z(et){if(et.bodyUsed)return Promise.reject(new TypeError("Already read"));et.bodyUsed=!0}function st(et){return new Promise(function(Mt,He){et.onload=function(){Mt(et.result)},et.onerror=function(){He(et.error)}})}function gt(et){var Mt=new FileReader,He=st(Mt);return Mt.readAsArrayBuffer(et),He}function E(et){if(et.slice)return et.slice(0);var Mt=new Uint8Array(et.byteLength);return Mt.set(new Uint8Array(et)),Mt.buffer}function at(){return this.bodyUsed=!1,this._initBody=function(et){this._bodyInit=et,et?"string"==typeof et?this._bodyText=et:rt_blob&&Blob.prototype.isPrototypeOf(et)?this._bodyBlob=et:rt_formData&&FormData.prototype.isPrototypeOf(et)?this._bodyFormData=et:rt_searchParams&&URLSearchParams.prototype.isPrototypeOf(et)?this._bodyText=et.toString():rt_arrayBuffer&&rt_blob&&function z(et){return et&&DataView.prototype.isPrototypeOf(et)}(et)?(this._bodyArrayBuffer=E(et.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):rt_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(et)||g(et))?this._bodyArrayBuffer=E(et):this._bodyText=et=Object.prototype.toString.call(et):this._bodyText="",this.headers.get("content-type")||("string"==typeof et?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):rt_searchParams&&URLSearchParams.prototype.isPrototypeOf(et)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},rt_blob&&(this.blob=function(){var et=Z(this);if(et)return et;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Z(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(gt)}),this.text=function(){var et=Z(this);if(et)return et;if(this._bodyBlob)return function lt(et){var Mt=new FileReader,He=st(Mt);return Mt.readAsText(et),He}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function Y(et){for(var Mt=new Uint8Array(et),He=new Array(Mt.length),be=0;be<Mt.length;be++)He[be]=String.fromCharCode(Mt[be]);return He.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},rt_formData&&(this.formData=function(){return this.text().then(re)}),this.json=function(){return this.text().then(JSON.parse)},this}W.prototype.append=function(et,Mt){et=At(et),Mt=dt(Mt);var He=this.map[et];this.map[et]=He?He+", "+Mt:Mt},W.prototype.delete=function(et){delete this.map[At(et)]},W.prototype.get=function(et){return et=At(et),this.has(et)?this.map[et]:null},W.prototype.has=function(et){return this.map.hasOwnProperty(At(et))},W.prototype.set=function(et,Mt){this.map[At(et)]=dt(Mt)},W.prototype.forEach=function(et,Mt){for(var He in this.map)this.map.hasOwnProperty(He)&&et.call(Mt,this.map[He],He,this)},W.prototype.keys=function(){var et=[];return this.forEach(function(Mt,He){et.push(He)}),bt(et)},W.prototype.values=function(){var et=[];return this.forEach(function(Mt){et.push(Mt)}),bt(et)},W.prototype.entries=function(){var et=[];return this.forEach(function(Mt,He){et.push([He,Mt])}),bt(et)},rt_iterable&&(W.prototype[Symbol.iterator]=W.prototype.entries);var ut=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function q(et,Mt){var He=(Mt=Mt||{}).body;if(et instanceof q){if(et.bodyUsed)throw new TypeError("Already read");this.url=et.url,this.credentials=et.credentials,Mt.headers||(this.headers=new W(et.headers)),this.method=et.method,this.mode=et.mode,this.signal=et.signal,!He&&null!=et._bodyInit&&(He=et._bodyInit,et.bodyUsed=!0)}else this.url=String(et);if(this.credentials=Mt.credentials||this.credentials||"same-origin",(Mt.headers||!this.headers)&&(this.headers=new W(Mt.headers)),this.method=function Pt(et){var Mt=et.toUpperCase();return ut.indexOf(Mt)>-1?Mt:et}(Mt.method||this.method||"GET"),this.mode=Mt.mode||this.mode||null,this.signal=Mt.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&He)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(He)}function re(et){var Mt=new FormData;return et.trim().split("&").forEach(function(He){if(He){var be=He.split("="),Ge=be.shift().replace(/\+/g," "),Ie=be.join("=").replace(/\+/g," ");Mt.append(decodeURIComponent(Ge),decodeURIComponent(Ie))}}),Mt}function nt(et){var Mt=new W;return et.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(be){var Ge=be.split(":"),Ie=Ge.shift().trim();if(Ie){var B=Ge.join(":").trim();Mt.append(Ie,B)}}),Mt}function Ht(et,Mt){Mt||(Mt={}),this.type="default",this.status=void 0===Mt.status?200:Mt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Mt?Mt.statusText:"OK",this.headers=new W(Mt.headers),this.url=Mt.url||"",this._initBody(et)}q.prototype.clone=function(){return new q(this,{body:this._bodyInit})},at.call(q.prototype),at.call(Ht.prototype),Ht.prototype.clone=function(){return new Ht(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new W(this.headers),url:this.url})},Ht.error=function(){var et=new Ht(null,{status:0,statusText:""});return et.type="error",et};var Zt=[301,302,303,307,308];Ht.redirect=function(et,Mt){if(-1===Zt.indexOf(Mt))throw new RangeError("Invalid status code");return new Ht(null,{status:Mt,headers:{location:et}})},Lt.DOMException=ht.DOMException;try{new Lt.DOMException}catch{Lt.DOMException=function(Mt,He){this.message=Mt,this.name=He;var be=Error(Mt);this.stack=be.stack},Lt.DOMException.prototype=Object.create(Error.prototype),Lt.DOMException.prototype.constructor=Lt.DOMException}function Yt(et,Mt){return new Promise(function(He,be){var Ge=new q(et,Mt);if(Ge.signal&&Ge.signal.aborted)return be(new Lt.DOMException("Aborted","AbortError"));var Ie=new XMLHttpRequest;function B(){Ie.abort()}Ie.onload=function(){var A={status:Ie.status,statusText:Ie.statusText,headers:nt(Ie.getAllResponseHeaders()||"")};A.url="responseURL"in Ie?Ie.responseURL:A.headers.get("X-Request-URL"),He(new Ht("response"in Ie?Ie.response:Ie.responseText,A))},Ie.onerror=function(){be(new TypeError("Network request failed"))},Ie.ontimeout=function(){be(new TypeError("Network request failed"))},Ie.onabort=function(){be(new Lt.DOMException("Aborted","AbortError"))},Ie.open(Ge.method,Ge.url,!0),"include"===Ge.credentials?Ie.withCredentials=!0:"omit"===Ge.credentials&&(Ie.withCredentials=!1),"responseType"in Ie&&rt_blob&&(Ie.responseType="blob"),Ge.headers.forEach(function(A,$){Ie.setRequestHeader($,A)}),Ge.signal&&(Ge.signal.addEventListener("abort",B),Ie.onreadystatechange=function(){4===Ie.readyState&&Ge.signal.removeEventListener("abort",B)}),Ie.send(typeof Ge._bodyInit>"u"?null:Ge._bodyInit)})}Yt.polyfill=!0,ht.fetch||(ht.fetch=Yt,ht.Headers=W,ht.Request=q,ht.Response=Ht),Lt.Headers=W,Lt.Request=q,Lt.Response=Ht,Lt.fetch=Yt,Object.defineProperty(Lt,"__esModule",{value:!0})}({}),G.fetch.ponyfill=!0,delete G.fetch.polyfill;var vt=G;(ee=vt.fetch).default=vt.fetch,ee.fetch=vt.fetch,ee.Headers=vt.Headers,ee.Request=vt.Request,ee.Response=vt.Response,qt.exports=ee},3591:(qt,ee,K)=>{"use strict";var G=K(9711),vt=K(9327),ht=function(P,g,At){for(var bt,dt=P;null!=(bt=dt.next);dt=bt)if(bt.key===g)return dt.next=bt.next,At||(bt.next=P.next,P.next=bt),bt};qt.exports=function(){var g,At={assert:function(dt){if(!At.has(dt))throw new vt("Side channel does not contain "+G(dt))},delete:function(dt){var bt=g&&g.next,W=function(P,g){if(P)return ht(P,g,!0)}(g,dt);return W&&bt&&bt===W&&(g=void 0),!!W},get:function(dt){return function(P,g){if(P){var At=ht(P,g);return At&&At.value}}(g,dt)},has:function(dt){return function(P,g){return!!P&&!!ht(P,g)}(g,dt)},set:function(dt,bt){g||(g={next:void 0}),function(P,g,At){var dt=ht(P,g);dt?dt.value=At:P.next={key:g,next:P.next,value:At}}(g,dt,bt)}};return At}},6591:(qt,ee,K)=>{"use strict";var G=K(9249),vt=K(448),ht=K(9711),Bt=K(9327),Lt=G("%Map%",!0),rt=vt("Map.prototype.get",!0),z=vt("Map.prototype.set",!0),P=vt("Map.prototype.has",!0),g=vt("Map.prototype.delete",!0),At=vt("Map.prototype.size",!0);qt.exports=!!Lt&&function(){var bt,W={assert:function(Z){if(!W.has(Z))throw new Bt("Side channel does not contain "+ht(Z))},delete:function(Z){if(bt){var st=g(bt,Z);return 0===At(bt)&&(bt=void 0),st}return!1},get:function(Z){if(bt)return rt(bt,Z)},has:function(Z){return!!bt&&P(bt,Z)},set:function(Z,st){bt||(bt=new Lt),z(bt,Z,st)}};return W}},6819:(qt,ee,K)=>{"use strict";var G=K(9249),vt=K(448),ht=K(9711),Bt=K(6591),Lt=K(9327),rt=G("%WeakMap%",!0),z=vt("WeakMap.prototype.get",!0),P=vt("WeakMap.prototype.set",!0),g=vt("WeakMap.prototype.has",!0),At=vt("WeakMap.prototype.delete",!0);qt.exports=rt?function(){var bt,W,Z={assert:function(st){if(!Z.has(st))throw new Lt("Side channel does not contain "+ht(st))},delete:function(st){if(rt&&st&&("object"==typeof st||"function"==typeof st)){if(bt)return At(bt,st)}else if(Bt&&W)return W.delete(st);return!1},get:function(st){return rt&&st&&("object"==typeof st||"function"==typeof st)&&bt?z(bt,st):W&&W.get(st)},has:function(st){return rt&&st&&("object"==typeof st||"function"==typeof st)&&bt?g(bt,st):!!W&&W.has(st)},set:function(st,gt){rt&&st&&("object"==typeof st||"function"==typeof st)?(bt||(bt=new rt),P(bt,st,gt)):Bt&&(W||(W=Bt()),W.set(st,gt))}};return Z}:Bt},8268:(qt,ee,K)=>{"use strict";var G=K(9327),vt=K(9711),ht=K(3591),Bt=K(6591),rt=K(6819)||Bt||ht;qt.exports=function(){var P,g={assert:function(At){if(!g.has(At))throw new G("Side channel does not contain "+vt(At))},delete:function(At){return!!P&&P.delete(At)},get:function(At){return P&&P.get(At)},has:function(At){return!!P&&P.has(At)},set:function(At,dt){P||(P=rt()),P.set(At,dt)}};return g}},974:qt=>{const ee={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",cal:"http://www.w3.org/2002/12/cal/ical#",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",skos:"http://www.w3.org/2004/02/skos/core#",bookmark:"http://www.w3.org/2002/01/bookmark#",vann:"http://purl.org/vocab/vann/"};qt.exports=function K(G={namedNode:vt=>vt}){const vt={};for(const ht in ee){const Bt=ee[ht];vt[ht]=function(Lt=""){return G.namedNode(Bt+Lt)}}return vt}},1522:function(qt,ee,K){var G;qt=K.nmd(qt),function(){"object"==typeof global&&global;var rt,z=2147483647,P=36,At=26,dt=38,bt=700,gt=/^xn--/,lt=/[^\x20-\x7E]/,Y=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},at=P-1,ut=Math.floor,Pt=String.fromCharCode;function re(A){throw new RangeError(E[A])}function nt(A,$){for(var xt=A.length,Wt=[];xt--;)Wt[xt]=$(A[xt]);return Wt}function Ht(A,$){var xt=A.split("@"),Wt="";return xt.length>1&&(Wt=xt[0]+"@",A=xt[1]),Wt+nt((A=A.replace(Y,".")).split("."),$).join(".")}function Zt(A){for(var Ce,oe,$=[],xt=0,Wt=A.length;xt<Wt;)(Ce=A.charCodeAt(xt++))>=55296&&Ce<=56319&&xt<Wt?56320==(64512&(oe=A.charCodeAt(xt++)))?$.push(((1023&Ce)<<10)+(1023&oe)+65536):($.push(Ce),xt--):$.push(Ce);return $}function Yt(A){return nt(A,function($){var xt="";return $>65535&&(xt+=Pt(($-=65536)>>>10&1023|55296),$=56320|1023&$),xt+Pt($)}).join("")}function et(A){return A-48<10?A-22:A-65<26?A-65:A-97<26?A-97:P}function Mt(A,$){return A+22+75*(A<26)-((0!=$)<<5)}function He(A,$,xt){var Wt=0;for(A=xt?ut(A/bt):A>>1,A+=ut(A/$);A>at*At>>1;Wt+=P)A=ut(A/at);return ut(Wt+(at+1)*A/(A+dt))}function be(A){var Wt,We,$e,Be,r1,o1,L1,Qe,Ye,O,$=[],xt=A.length,Ce=0,oe=128,xe=72;for((We=A.lastIndexOf("-"))<0&&(We=0),$e=0;$e<We;++$e)A.charCodeAt($e)>=128&&re("not-basic"),$.push(A.charCodeAt($e));for(Be=We>0?We+1:0;Be<xt;){for(r1=Ce,o1=1,L1=P;Be>=xt&&re("invalid-input"),((Qe=et(A.charCodeAt(Be++)))>=P||Qe>ut((z-Ce)/o1))&&re("overflow"),Ce+=Qe*o1,!(Qe<(Ye=L1<=xe?1:L1>=xe+At?At:L1-xe));L1+=P)o1>ut(z/(O=P-Ye))&&re("overflow"),o1*=O;xe=He(Ce-r1,Wt=$.length+1,0==r1),ut(Ce/Wt)>z-oe&&re("overflow"),oe+=ut(Ce/Wt),Ce%=Wt,$.splice(Ce++,0,oe)}return Yt($)}function Ge(A){var $,xt,Wt,Ce,oe,xe,We,$e,Be,r1,o1,Qe,Ye,O,It,L1=[];for(Qe=(A=Zt(A)).length,$=128,xt=0,oe=72,xe=0;xe<Qe;++xe)(o1=A[xe])<128&&L1.push(Pt(o1));for(Wt=Ce=L1.length,Ce&&L1.push("-");Wt<Qe;){for(We=z,xe=0;xe<Qe;++xe)(o1=A[xe])>=$&&o1<We&&(We=o1);for(We-$>ut((z-xt)/(Ye=Wt+1))&&re("overflow"),xt+=(We-$)*Ye,$=We,xe=0;xe<Qe;++xe)if((o1=A[xe])<$&&++xt>z&&re("overflow"),o1==$){for($e=xt,Be=P;!($e<(r1=Be<=oe?1:Be>=oe+At?At:Be-oe));Be+=P)L1.push(Pt(Mt(r1+(It=$e-r1)%(O=P-r1),0))),$e=ut(It/O);L1.push(Pt(Mt($e,0))),oe=He(xt,Ye,Wt==Ce),xt=0,++Wt}++xt,++$}return L1.join("")}rt={version:"1.4.1",ucs2:{decode:Zt,encode:Yt},decode:be,encode:Ge,toASCII:function B(A){return Ht(A,function($){return lt.test($)?"xn--"+Ge($):$})},toUnicode:function Ie(A){return Ht(A,function($){return gt.test($)?be($.slice(4).toLowerCase()):$})}},void 0!==(G=function(){return rt}.call(ee,K,ee,qt))&&(qt.exports=G)}()},1391:(qt,ee,K)=>{"use strict";var vt=K(1522);function ht(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Bt=/^([a-z0-9.+-]+:)/i,Lt=/:[0-9]*$/,rt=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,P=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),g=["'"].concat(P),At=["%","/","?",";","#"].concat(g),dt=["/","?","#"],W=/^[+a-z0-9A-Z_-]{0,63}$/,Z=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,st={javascript:!0,"javascript:":!0},gt={javascript:!0,"javascript:":!0},lt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Y=K(6505);ht.prototype.parse=function(q,re,nt){if("string"!=typeof q)throw new TypeError("Parameter 'url' must be a string, not "+typeof q);var Ht=q.indexOf("?"),Zt=-1!==Ht&&Ht<q.indexOf("#")?"?":"#",Yt=q.split(Zt);Yt[0]=Yt[0].replace(/\\/g,"/");var Mt=q=Yt.join(Zt);if(Mt=Mt.trim(),!nt&&1===q.split("#").length){var He=rt.exec(Mt);if(He)return this.path=Mt,this.href=Mt,this.pathname=He[1],He[2]?(this.search=He[2],this.query=re?Y.parse(this.search.substr(1)):this.search.substr(1)):re&&(this.search="",this.query={}),this}var be=Bt.exec(Mt);if(be){var Ge=(be=be[0]).toLowerCase();this.protocol=Ge,Mt=Mt.substr(be.length)}if(nt||be||Mt.match(/^\/\/[^@/]+@[^@/]+/)){var Ie="//"===Mt.substr(0,2);Ie&&(!be||!gt[be])&&(Mt=Mt.substr(2),this.slashes=!0)}if(!gt[be]&&(Ie||be&&!lt[be])){for(var B=-1,A=0;A<dt.length;A++)-1!==($=Mt.indexOf(dt[A]))&&(-1===B||$<B)&&(B=$);var xt,Wt;for(-1!==(Wt=-1===B?Mt.lastIndexOf("@"):Mt.lastIndexOf("@",B))&&(xt=Mt.slice(0,Wt),Mt=Mt.slice(Wt+1),this.auth=decodeURIComponent(xt)),B=-1,A=0;A<At.length;A++){var $;-1!==($=Mt.indexOf(At[A]))&&(-1===B||$<B)&&(B=$)}-1===B&&(B=Mt.length),this.host=Mt.slice(0,B),Mt=Mt.slice(B),this.parseHost(),this.hostname=this.hostname||"";var Ce="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Ce)for(var oe=this.hostname.split(/\./),xe=(A=0,oe.length);A<xe;A++){var We=oe[A];if(We&&!We.match(W)){for(var $e="",Be=0,r1=We.length;Be<r1;Be++)We.charCodeAt(Be)>127?$e+="x":$e+=We[Be];if(!$e.match(W)){var o1=oe.slice(0,A),L1=oe.slice(A+1),Qe=We.match(Z);Qe&&(o1.push(Qe[1]),L1.unshift(Qe[2])),L1.length&&(Mt="/"+L1.join(".")+Mt),this.hostname=o1.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Ce||(this.hostname=vt.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Ce&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==Mt[0]&&(Mt="/"+Mt))}if(!st[Ge])for(A=0,xe=g.length;A<xe;A++){var It=g[A];if(-1!==Mt.indexOf(It)){var Dt=encodeURIComponent(It);Dt===It&&(Dt=escape(It)),Mt=Mt.split(It).join(Dt)}}var ze=Mt.indexOf("#");-1!==ze&&(this.hash=Mt.substr(ze),Mt=Mt.slice(0,ze));var t1=Mt.indexOf("?");return-1!==t1?(this.search=Mt.substr(t1),this.query=Mt.substr(t1+1),re&&(this.query=Y.parse(this.query)),Mt=Mt.slice(0,t1)):re&&(this.search="",this.query={}),Mt&&(this.pathname=Mt),lt[Ge]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},ht.prototype.format=function(){var q=this.auth||"";q&&(q=(q=encodeURIComponent(q)).replace(/%3A/i,":"),q+="@");var re=this.protocol||"",nt=this.pathname||"",Ht=this.hash||"",Zt=!1,Yt="";this.host?Zt=q+this.host:this.hostname&&(Zt=q+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Zt+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(Yt=Y.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var et=this.search||Yt&&"?"+Yt||"";return re&&":"!==re.substr(-1)&&(re+=":"),this.slashes||(!re||lt[re])&&!1!==Zt?(Zt="//"+(Zt||""),nt&&"/"!==nt.charAt(0)&&(nt="/"+nt)):Zt||(Zt=""),Ht&&"#"!==Ht.charAt(0)&&(Ht="#"+Ht),et&&"?"!==et.charAt(0)&&(et="?"+et),re+Zt+(nt=nt.replace(/[?#]/g,function(Mt){return encodeURIComponent(Mt)}))+(et=et.replace("#","%23"))+Ht},ht.prototype.resolve=function(q){return this.resolveObject(function E(q,re,nt){if(q&&"object"==typeof q&&q instanceof ht)return q;var Ht=new ht;return Ht.parse(q,re,nt),Ht}(q,!1,!0)).format()},ht.prototype.resolveObject=function(q){if("string"==typeof q){var re=new ht;re.parse(q,!1,!0),q=re}for(var nt=new ht,Ht=Object.keys(this),Zt=0;Zt<Ht.length;Zt++){var Yt=Ht[Zt];nt[Yt]=this[Yt]}if(nt.hash=q.hash,""===q.href)return nt.href=nt.format(),nt;if(q.slashes&&!q.protocol){for(var et=Object.keys(q),Mt=0;Mt<et.length;Mt++){var He=et[Mt];"protocol"!==He&&(nt[He]=q[He])}return lt[nt.protocol]&&nt.hostname&&!nt.pathname&&(nt.pathname="/",nt.path=nt.pathname),nt.href=nt.format(),nt}if(q.protocol&&q.protocol!==nt.protocol){if(!lt[q.protocol]){for(var be=Object.keys(q),Ge=0;Ge<be.length;Ge++){var Ie=be[Ge];nt[Ie]=q[Ie]}return nt.href=nt.format(),nt}if(nt.protocol=q.protocol,q.host||gt[q.protocol])nt.pathname=q.pathname;else{for(var xe=(q.pathname||"").split("/");xe.length&&!(q.host=xe.shift()););q.host||(q.host=""),q.hostname||(q.hostname=""),""!==xe[0]&&xe.unshift(""),xe.length<2&&xe.unshift(""),nt.pathname=xe.join("/")}return nt.search=q.search,nt.query=q.query,nt.host=q.host||"",nt.auth=q.auth,nt.hostname=q.hostname||q.host,nt.port=q.port,(nt.pathname||nt.search)&&(nt.path=(nt.pathname||"")+(nt.search||"")),nt.slashes=nt.slashes||q.slashes,nt.href=nt.format(),nt}var $=nt.pathname&&"/"===nt.pathname.charAt(0),xt=q.host||q.pathname&&"/"===q.pathname.charAt(0),Wt=xt||$||nt.host&&q.pathname,Ce=Wt,oe=nt.pathname&&nt.pathname.split("/")||[],We=(xe=q.pathname&&q.pathname.split("/")||[],nt.protocol&&!lt[nt.protocol]);if(We&&(nt.hostname="",nt.port=null,nt.host&&(""===oe[0]?oe[0]=nt.host:oe.unshift(nt.host)),nt.host="",q.protocol&&(q.hostname=null,q.port=null,q.host&&(""===xe[0]?xe[0]=q.host:xe.unshift(q.host)),q.host=null),Wt=Wt&&(""===xe[0]||""===oe[0])),xt)nt.host=q.host||""===q.host?q.host:nt.host,nt.hostname=q.hostname||""===q.hostname?q.hostname:nt.hostname,nt.search=q.search,nt.query=q.query,oe=xe;else if(xe.length)oe||(oe=[]),oe.pop(),oe=oe.concat(xe),nt.search=q.search,nt.query=q.query;else if(null!=q.search)return We&&(nt.host=oe.shift(),nt.hostname=nt.host,($e=!!(nt.host&&nt.host.indexOf("@")>0)&&nt.host.split("@"))&&(nt.auth=$e.shift(),nt.hostname=$e.shift(),nt.host=nt.hostname)),nt.search=q.search,nt.query=q.query,(null!==nt.pathname||null!==nt.search)&&(nt.path=(nt.pathname?nt.pathname:"")+(nt.search?nt.search:"")),nt.href=nt.format(),nt;if(!oe.length)return nt.pathname=null,nt.path=nt.search?"/"+nt.search:null,nt.href=nt.format(),nt;for(var Be=oe.slice(-1)[0],r1=(nt.host||q.host||oe.length>1)&&("."===Be||".."===Be)||""===Be,o1=0,L1=oe.length;L1>=0;L1--)"."===(Be=oe[L1])?oe.splice(L1,1):".."===Be?(oe.splice(L1,1),o1++):o1&&(oe.splice(L1,1),o1--);if(!Wt&&!Ce)for(;o1--;o1)oe.unshift("..");Wt&&""!==oe[0]&&(!oe[0]||"/"!==oe[0].charAt(0))&&oe.unshift(""),r1&&"/"!==oe.join("/").substr(-1)&&oe.push("");var $e,Qe=""===oe[0]||oe[0]&&"/"===oe[0].charAt(0);return We&&(nt.hostname=Qe?"":oe.length?oe.shift():"",nt.host=nt.hostname,($e=!!(nt.host&&nt.host.indexOf("@")>0)&&nt.host.split("@"))&&(nt.auth=$e.shift(),nt.hostname=$e.shift(),nt.host=nt.hostname)),(Wt=Wt||nt.host&&oe.length)&&!Qe&&oe.unshift(""),oe.length>0?nt.pathname=oe.join("/"):(nt.pathname=null,nt.path=null),(null!==nt.pathname||null!==nt.search)&&(nt.path=(nt.pathname?nt.pathname:"")+(nt.search?nt.search:"")),nt.auth=q.auth||nt.auth,nt.slashes=nt.slashes||q.slashes,nt.href=nt.format(),nt},ht.prototype.parseHost=function(){var q=this.host,re=Lt.exec(q);re&&(":"!==(re=re[0])&&(this.port=re.substr(1)),q=q.substr(0,q.length-re.length)),q&&(this.hostname=q)}},2634:()=>{},5142:(qt,ee,K)=>{var G=K(5429).default;function vt(){"use strict";qt.exports=vt=function(){return Bt},qt.exports.__esModule=!0,qt.exports.default=qt.exports;var ht,Bt={},Lt=Object.prototype,rt=Lt.hasOwnProperty,z=Object.defineProperty||function(B,A,$){B[A]=$.value},P="function"==typeof Symbol?Symbol:{},g=P.iterator||"@@iterator",At=P.asyncIterator||"@@asyncIterator",dt=P.toStringTag||"@@toStringTag";function bt(B,A,$){return Object.defineProperty(B,A,{value:$,enumerable:!0,configurable:!0,writable:!0}),B[A]}try{bt({},"")}catch{bt=function($,xt,Wt){return $[xt]=Wt}}function W(B,A,$,xt){var Ce=Object.create((A&&A.prototype instanceof at?A:at).prototype),oe=new Ge(xt||[]);return z(Ce,"_invoke",{value:et(B,$,oe)}),Ce}function Z(B,A,$){try{return{type:"normal",arg:B.call(A,$)}}catch(xt){return{type:"throw",arg:xt}}}Bt.wrap=W;var st="suspendedStart",gt="suspendedYield",lt="executing",Y="completed",E={};function at(){}function ut(){}function Pt(){}var q={};bt(q,g,function(){return this});var re=Object.getPrototypeOf,nt=re&&re(re(Ie([])));nt&&nt!==Lt&&rt.call(nt,g)&&(q=nt);var Ht=Pt.prototype=at.prototype=Object.create(q);function Zt(B){["next","throw","return"].forEach(function(A){bt(B,A,function($){return this._invoke(A,$)})})}function Yt(B,A){function $(Wt,Ce,oe,xe){var We=Z(B[Wt],B,Ce);if("throw"!==We.type){var $e=We.arg,Be=$e.value;return Be&&"object"==G(Be)&&rt.call(Be,"__await")?A.resolve(Be.__await).then(function(r1){$("next",r1,oe,xe)},function(r1){$("throw",r1,oe,xe)}):A.resolve(Be).then(function(r1){$e.value=r1,oe($e)},function(r1){return $("throw",r1,oe,xe)})}xe(We.arg)}var xt;z(this,"_invoke",{value:function(Ce,oe){function xe(){return new A(function(We,$e){$(Ce,oe,We,$e)})}return xt=xt?xt.then(xe,xe):xe()}})}function et(B,A,$){var xt=st;return function(Wt,Ce){if(xt===lt)throw Error("Generator is already running");if(xt===Y){if("throw"===Wt)throw Ce;return{value:ht,done:!0}}for($.method=Wt,$.arg=Ce;;){var oe=$.delegate;if(oe){var xe=Mt(oe,$);if(xe){if(xe===E)continue;return xe}}if("next"===$.method)$.sent=$._sent=$.arg;else if("throw"===$.method){if(xt===st)throw xt=Y,$.arg;$.dispatchException($.arg)}else"return"===$.method&&$.abrupt("return",$.arg);xt=lt;var We=Z(B,A,$);if("normal"===We.type){if(xt=$.done?Y:gt,We.arg===E)continue;return{value:We.arg,done:$.done}}"throw"===We.type&&(xt=Y,$.method="throw",$.arg=We.arg)}}}function Mt(B,A){var $=A.method,xt=B.iterator[$];if(xt===ht)return A.delegate=null,"throw"===$&&B.iterator.return&&(A.method="return",A.arg=ht,Mt(B,A),"throw"===A.method)||"return"!==$&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+$+"' method")),E;var Wt=Z(xt,B.iterator,A.arg);if("throw"===Wt.type)return A.method="throw",A.arg=Wt.arg,A.delegate=null,E;var Ce=Wt.arg;return Ce?Ce.done?(A[B.resultName]=Ce.value,A.next=B.nextLoc,"return"!==A.method&&(A.method="next",A.arg=ht),A.delegate=null,E):Ce:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,E)}function He(B){var A={tryLoc:B[0]};1 in B&&(A.catchLoc=B[1]),2 in B&&(A.finallyLoc=B[2],A.afterLoc=B[3]),this.tryEntries.push(A)}function be(B){var A=B.completion||{};A.type="normal",delete A.arg,B.completion=A}function Ge(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(He,this),this.reset(!0)}function Ie(B){if(B||""===B){var A=B[g];if(A)return A.call(B);if("function"==typeof B.next)return B;if(!isNaN(B.length)){var $=-1,xt=function Wt(){for(;++$<B.length;)if(rt.call(B,$))return Wt.value=B[$],Wt.done=!1,Wt;return Wt.value=ht,Wt.done=!0,Wt};return xt.next=xt}}throw new TypeError(G(B)+" is not iterable")}return ut.prototype=Pt,z(Ht,"constructor",{value:Pt,configurable:!0}),z(Pt,"constructor",{value:ut,configurable:!0}),ut.displayName=bt(Pt,dt,"GeneratorFunction"),Bt.isGeneratorFunction=function(B){var A="function"==typeof B&&B.constructor;return!!A&&(A===ut||"GeneratorFunction"===(A.displayName||A.name))},Bt.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,Pt):(B.__proto__=Pt,bt(B,dt,"GeneratorFunction")),B.prototype=Object.create(Ht),B},Bt.awrap=function(B){return{__await:B}},Zt(Yt.prototype),bt(Yt.prototype,At,function(){return this}),Bt.AsyncIterator=Yt,Bt.async=function(B,A,$,xt,Wt){void 0===Wt&&(Wt=Promise);var Ce=new Yt(W(B,A,$,xt),Wt);return Bt.isGeneratorFunction(A)?Ce:Ce.next().then(function(oe){return oe.done?oe.value:Ce.next()})},Zt(Ht),bt(Ht,dt,"Generator"),bt(Ht,g,function(){return this}),bt(Ht,"toString",function(){return"[object Generator]"}),Bt.keys=function(B){var A=Object(B),$=[];for(var xt in A)$.push(xt);return $.reverse(),function Wt(){for(;$.length;){var Ce=$.pop();if(Ce in A)return Wt.value=Ce,Wt.done=!1,Wt}return Wt.done=!0,Wt}},Bt.values=Ie,Ge.prototype={constructor:Ge,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=ht,this.done=!1,this.delegate=null,this.method="next",this.arg=ht,this.tryEntries.forEach(be),!A)for(var $ in this)"t"===$.charAt(0)&&rt.call(this,$)&&!isNaN(+$.slice(1))&&(this[$]=ht)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if("throw"===A.type)throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var $=this;function xt($e,Be){return oe.type="throw",oe.arg=A,$.next=$e,Be&&($.method="next",$.arg=ht),!!Be}for(var Wt=this.tryEntries.length-1;Wt>=0;--Wt){var Ce=this.tryEntries[Wt],oe=Ce.completion;if("root"===Ce.tryLoc)return xt("end");if(Ce.tryLoc<=this.prev){var xe=rt.call(Ce,"catchLoc"),We=rt.call(Ce,"finallyLoc");if(xe&&We){if(this.prev<Ce.catchLoc)return xt(Ce.catchLoc,!0);if(this.prev<Ce.finallyLoc)return xt(Ce.finallyLoc)}else if(xe){if(this.prev<Ce.catchLoc)return xt(Ce.catchLoc,!0)}else{if(!We)throw Error("try statement without catch or finally");if(this.prev<Ce.finallyLoc)return xt(Ce.finallyLoc)}}}},abrupt:function(A,$){for(var xt=this.tryEntries.length-1;xt>=0;--xt){var Wt=this.tryEntries[xt];if(Wt.tryLoc<=this.prev&&rt.call(Wt,"finallyLoc")&&this.prev<Wt.finallyLoc){var Ce=Wt;break}}Ce&&("break"===A||"continue"===A)&&Ce.tryLoc<=$&&$<=Ce.finallyLoc&&(Ce=null);var oe=Ce?Ce.completion:{};return oe.type=A,oe.arg=$,Ce?(this.method="next",this.next=Ce.finallyLoc,E):this.complete(oe)},complete:function(A,$){if("throw"===A.type)throw A.arg;return"break"===A.type||"continue"===A.type?this.next=A.arg:"return"===A.type?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):"normal"===A.type&&$&&(this.next=$),E},finish:function(A){for(var $=this.tryEntries.length-1;$>=0;--$){var xt=this.tryEntries[$];if(xt.finallyLoc===A)return this.complete(xt.completion,xt.afterLoc),be(xt),E}},catch:function(A){for(var $=this.tryEntries.length-1;$>=0;--$){var xt=this.tryEntries[$];if(xt.tryLoc===A){var Wt=xt.completion;if("throw"===Wt.type){var Ce=Wt.arg;be(xt)}return Ce}}throw Error("illegal catch attempt")},delegateYield:function(A,$,xt){return this.delegate={iterator:Ie(A),resultName:$,nextLoc:xt},"next"===this.method&&(this.arg=ht),E}},Bt}qt.exports=vt,qt.exports.__esModule=!0,qt.exports.default=qt.exports},5429:qt=>{function ee(K){return qt.exports=ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},qt.exports.__esModule=!0,qt.exports.default=qt.exports,ee(K)}qt.exports=ee,qt.exports.__esModule=!0,qt.exports.default=qt.exports},6725:(qt,ee,K)=>{var G=K(5142)();qt.exports=G;try{regeneratorRuntime=G}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=G:Function("r","regeneratorRuntime = r")(G)}},2058:(qt,ee,K)=>{"use strict";function G(dt,bt,W){let Z,st;W=W||vt;let gt=0,lt=dt.length,Y=!1;for(;gt<lt;)Z=gt+(lt-gt>>1),st=+W(dt[Z],bt),st<0?gt=Z+1:(lt=Z,Y=!st);return Y?gt:~gt}function vt(dt,bt){return dt>bt?1:dt<bt?-1:0}function Bt(dt,bt,W){if(dt[0]<=bt)return 0;const Z=dt.length;if(bt<=dt[Z-1])return Z-1;if("function"==typeof W){for(let st=1;st<Z;++st){const gt=dt[st];if(gt===bt)return st;if(gt<bt)return W(bt,dt[st-1],gt)>0?st-1:st}return Z-1}if(W>0){for(let st=1;st<Z;++st)if(dt[st]<bt)return st-1;return Z-1}if(W<0){for(let st=1;st<Z;++st)if(dt[st]<=bt)return st;return Z-1}for(let st=1;st<Z;++st){if(dt[st]==bt)return st;if(dt[st]<bt)return dt[st-1]-bt<bt-dt[st]?st-1:st}return Z-1}function rt(dt,bt){const W=Array.isArray(bt)?bt:[bt],Z=W.length;for(let st=0;st<Z;st++)dt[dt.length]=W[st]}function P(dt,bt){const W=dt.length;if(W!==bt.length)return!1;for(let Z=0;Z<W;Z++)if(dt[Z]!==bt[Z])return!1;return!0}function At(dt,bt,W){const Z=bt||vt;return dt.every(function(st,gt){if(0===gt)return!0;const lt=Z(dt[gt-1],st);return!(lt>0||W&&0===lt)})}K.d(ee,{El:()=>G,FT:()=>Bt,V_:()=>vt,WC:()=>At,X$:()=>rt,aI:()=>P})},5940:(qt,ee,K)=>{"use strict";function G(vt,ht){if(!vt)throw new Error(ht)}K.d(ee,{v:()=>G})},3467:(qt,ee,K)=>{"use strict";K.d(ee,{NW:()=>L1,Ld:()=>rt,ms:()=>P,Rj:()=>g,S5:()=>dt,N:()=>bt,aZ:()=>W,dP:()=>Z,Vy:()=>gt,X$:()=>at,R8:()=>q,sB:()=>Ht,q1:()=>Mt,Oq:()=>B,Py:()=>Ce,RG:()=>xe,HY:()=>We,Mx:()=>o1,$u:()=>Be});const G={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function rt(O,It,Dt){let ze,t1;return ze=It<O[0]?O[0]-It:O[2]<It?It-O[2]:0,t1=Dt<O[1]?O[1]-Dt:O[3]<Dt?Dt-O[3]:0,ze*ze+t1*t1}function P(O,It){return O[0]<=It[0]&&It[2]<=O[2]&&O[1]<=It[1]&&It[3]<=O[3]}function g(O,It,Dt){return O[0]<=It&&It<=O[2]&&O[1]<=Dt&&Dt<=O[3]}function At(O,It){const T1=It[0],l1=It[1];let c1=G.UNKNOWN;return T1<O[0]?c1|=G.LEFT:T1>O[2]&&(c1|=G.RIGHT),l1<O[1]?c1|=G.BELOW:l1>O[3]&&(c1|=G.ABOVE),c1===G.UNKNOWN&&(c1=G.INTERSECTING),c1}function dt(){return[1/0,1/0,-1/0,-1/0]}function bt(O,It,Dt,ze,t1){return t1?(t1[0]=O,t1[1]=It,t1[2]=Dt,t1[3]=ze,t1):[O,It,Dt,ze]}function W(O){return bt(1/0,1/0,-1/0,-1/0,O)}function Z(O,It){const Dt=O[0],ze=O[1];return bt(Dt,ze,Dt,ze,It)}function gt(O,It,Dt,ze,t1){return q(W(t1),O,It,Dt,ze)}function at(O,It){return It[0]<O[0]&&(O[0]=It[0]),It[2]>O[2]&&(O[2]=It[2]),It[1]<O[1]&&(O[1]=It[1]),It[3]>O[3]&&(O[3]=It[3]),O}function q(O,It,Dt,ze,t1){for(;Dt<ze;Dt+=t1)nt(O,It[Dt],It[Dt+1]);return O}function nt(O,It,Dt){O[0]=Math.min(O[0],It),O[1]=Math.min(O[1],Dt),O[2]=Math.max(O[2],It),O[3]=Math.max(O[3],Dt)}function Ht(O,It){let Dt;return Dt=It(function Yt(O){return[O[0],O[1]]}(O)),!!(Dt||(Dt=It(function et(O){return[O[2],O[1]]}(O)),Dt)||(Dt=It(function oe(O){return[O[2],O[3]]}(O)),Dt)||(Dt=It(Ce(O)),Dt))&&Dt}function Mt(O){return[(O[0]+O[2])/2,(O[1]+O[3])/2]}function B(O){return O[3]-O[1]}function Ce(O){return[O[0],O[3]]}function xe(O){return O[2]-O[0]}function We(O,It){return O[0]<=It[2]&&O[2]>=It[0]&&O[1]<=It[3]&&O[3]>=It[1]}function Be(O,It){return It?(It[0]=O[0],It[1]=O[1],It[2]=O[2],It[3]=O[3],It):O}function o1(O,It,Dt){let ze=!1;const t1=At(O,It),z1=At(O,Dt);if(t1===G.INTERSECTING||z1===G.INTERSECTING)ze=!0;else{const T1=O[0],l1=O[1],c1=O[2],P1=O[3],kn=Dt[0],T=Dt[1],M=(T-It[1])/(kn-It[0]);let b,U;z1&G.ABOVE&&!(t1&G.ABOVE)&&(b=kn-(T-P1)/M,ze=b>=T1&&b<=c1),!ze&&z1&G.RIGHT&&!(t1&G.RIGHT)&&(U=T-(kn-c1)*M,ze=U>=l1&&U<=P1),!ze&&z1&G.BELOW&&!(t1&G.BELOW)&&(b=kn-(T-l1)/M,ze=b>=T1&&b<=c1),!ze&&z1&G.LEFT&&!(t1&G.LEFT)&&(U=T-(kn-T1)*M,ze=U>=l1&&U<=P1)}return ze}function L1(O,It,Dt,ze){if(function $e(O){return O[2]<O[0]||O[3]<O[1]}(O))return W(Dt);let t1=[];if(ze>1){const l1=O[2]-O[0],c1=O[3]-O[1];for(let P1=0;P1<ze;++P1)t1.push(O[0]+l1*P1/ze,O[1],O[2],O[1]+c1*P1/ze,O[2]-l1*P1/ze,O[3],O[0],O[3]-c1*P1/ze)}else t1=[O[0],O[1],O[2],O[1],O[2],O[3],O[0],O[3]];It(t1,t1,2);const z1=[],T1=[];for(let l1=0,c1=t1.length;l1<c1;l1+=2)z1.push(t1[l1]),T1.push(t1[l1+1]);return function ht(O,It,Dt){return bt(Math.min.apply(null,O),Math.min.apply(null,It),Math.max.apply(null,O),Math.max.apply(null,It),Dt)}(z1,T1,Dt)}},9749:(qt,ee,K)=>{"use strict";K.d(ee,{Gd:()=>Lt,a_:()=>ht,t7:()=>vt,zb:()=>Bt});var G=K(3467);function vt(rt,z,P,g,At){return!(0,G.sB)(At,function(bt){return!ht(rt,z,P,g,bt[0],bt[1])})}function ht(rt,z,P,g,At,dt){let bt=0,W=rt[P-g],Z=rt[P-g+1];for(;z<P;z+=g){const st=rt[z],gt=rt[z+1];Z<=dt?gt>dt&&(st-W)*(dt-Z)-(At-W)*(gt-Z)>0&&bt++:gt<=dt&&(st-W)*(dt-Z)-(At-W)*(gt-Z)<0&&bt--,W=st,Z=gt}return 0!==bt}function Bt(rt,z,P,g,At,dt){if(0===P.length||!ht(rt,z,P[0],g,At,dt))return!1;for(let bt=1,W=P.length;bt<W;++bt)if(ht(rt,P[bt-1],P[bt],g,At,dt))return!1;return!0}function Lt(rt,z,P,g,At,dt){if(0===P.length)return!1;for(let bt=0,W=P.length;bt<W;++bt){const Z=P[bt];if(Bt(rt,z,Z,g,At,dt))return!0;z=Z[Z.length-1]}return!1}},9542:(qt,ee,K)=>{"use strict";K.d(ee,{HT:()=>z,Wp:()=>P,fB:()=>Lt,gp:()=>Bt,sj:()=>rt});var G=K(3467),vt=K(3846),ht=K(9749);function Bt(g,At,dt,bt,W){const Z=(0,G.R8)((0,G.S5)(),g,At,dt,bt);return!!(0,G.HY)(W,Z)&&(!!((0,G.ms)(W,Z)||Z[0]>=W[0]&&Z[2]<=W[2]||Z[1]>=W[1]&&Z[3]<=W[3])||(0,vt.j)(g,At,dt,bt,function(st,gt){return(0,G.Mx)(W,st,gt)}))}function Lt(g,At,dt,bt,W){for(let Z=0,st=dt.length;Z<st;++Z){if(Bt(g,At,dt[Z],bt,W))return!0;At=dt[Z]}return!1}function rt(g,At,dt,bt,W){return!!(Bt(g,At,dt,bt,W)||(0,ht.a_)(g,At,dt,bt,W[0],W[1])||(0,ht.a_)(g,At,dt,bt,W[0],W[3])||(0,ht.a_)(g,At,dt,bt,W[2],W[1])||(0,ht.a_)(g,At,dt,bt,W[2],W[3]))}function z(g,At,dt,bt,W){if(!rt(g,At,dt[0],bt,W))return!1;if(1===dt.length)return!0;for(let Z=1,st=dt.length;Z<st;++Z)if((0,ht.t7)(g,dt[Z-1],dt[Z],bt,W)&&!Bt(g,dt[Z-1],dt[Z],bt,W))return!1;return!0}function P(g,At,dt,bt,W){for(let Z=0,st=dt.length;Z<st;++Z){const gt=dt[Z];if(z(g,At,gt,bt,W))return!0;At=gt[gt.length-1]}return!1}},3846:(qt,ee,K)=>{"use strict";function G(vt,ht,Bt,Lt,rt){let z;for(ht+=Lt;ht<Bt;ht+=Lt)if(z=rt(vt.slice(ht-Lt,ht),vt.slice(ht,ht+Lt)),z)return z;return!1}K.d(ee,{j:()=>G})},9973:(qt,ee,K)=>{"use strict";function G(W,Z,st){return Math.min(Math.max(W,Z),st)}function vt(W,Z,st,gt,lt,Y){const E=lt-st,at=Y-gt;if(0!==E||0!==at){const ut=((W-st)*E+(Z-gt)*at)/(E*E+at*at);ut>1?(st=lt,gt=Y):ut>0&&(st+=E*ut,gt+=at*ut)}return ht(W,Z,st,gt)}function ht(W,Z,st,gt){const lt=st-W,Y=gt-Z;return lt*lt+Y*Y}function P(W,Z,st){return W+st*(Z-W)}function g(W,Z){const st=Math.pow(10,Z);return Math.round(W*st)/st}function dt(W,Z){return Math.floor(g(W,Z))}function bt(W,Z){return Math.ceil(g(W,Z))}K.d(ee,{Cc:()=>P,Q1:()=>vt,RI:()=>dt,hG:()=>ht,mk:()=>bt,qE:()=>G})},6016:(qt,ee,K)=>{"use strict";K.d(ee,{hB:()=>It,O3:()=>o1,bF:()=>We,wU:()=>Tt,tI:()=>t1,Jt:()=>Be,RG:()=>T1,DI:()=>c1});var G=K(2018);const vt=6378137,ht=Math.PI*vt,Bt=[-ht,-ht,ht,ht],Lt=[-180,-85,180,85],rt=vt*Math.log(Math.tan(Math.PI/2));class z extends G.A{constructor(St){super({code:St,units:"m",extent:Bt,global:!0,worldExtent:Lt,getPointResolution:function(fe,ue){return fe/Math.cosh(ue[1]/vt)}})}}const P=[new z("EPSG:3857"),new z("EPSG:102100"),new z("EPSG:102113"),new z("EPSG:900913"),new z("http://www.opengis.net/def/crs/EPSG/0/3857"),new z("http://www.opengis.net/gml/srs/epsg.xml#3857")];function g(ct,St,fe){const ue=ct.length;fe=fe>1?fe:2,void 0===St&&(St=fe>2?ct.slice():new Array(ue));for(let Ke=0;Ke<ue;Ke+=fe){St[Ke]=ht*ct[Ke]/180;let I1=vt*Math.log(Math.tan(Math.PI*(+ct[Ke+1]+90)/360));I1>rt?I1=rt:I1<-rt&&(I1=-rt),St[Ke+1]=I1}return St}function At(ct,St,fe){const ue=ct.length;fe=fe>1?fe:2,void 0===St&&(St=fe>2?ct.slice():new Array(ue));for(let Ke=0;Ke<ue;Ke+=fe)St[Ke]=180*ct[Ke]/ht,St[Ke+1]=360*Math.atan(Math.exp(ct[Ke+1]/vt))/Math.PI-90;return St}const bt=[-180,-90,180,90],W=6378137*Math.PI/180;class Z extends G.A{constructor(St,fe){super({code:St,units:"degrees",extent:bt,axisOrientation:fe,global:!0,metersPerUnit:W,worldExtent:bt})}}const st=[new Z("CRS:84"),new Z("EPSG:4326","neu"),new Z("urn:ogc:def:crs:OGC:1.3:CRS84"),new Z("urn:ogc:def:crs:OGC:2:84"),new Z("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Z("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Z("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let gt={};var at=K(4238),ut=K(3467),Pt=K(9973);function oe(ct,St){if(void 0!==St)for(let fe=0,ue=ct.length;fe<ue;++fe)St[fe]=ct[fe];else St=ct.slice();return St}function xe(ct,St){if(void 0!==St&&ct!==St){for(let fe=0,ue=ct.length;fe<ue;++fe)St[fe]=ct[fe];ct=St}return ct}function We(ct){(function E(ct,St){gt[ct]=St})(ct.getCode(),ct),(0,at.WQ)(ct,ct,oe)}function Be(ct){return"string"==typeof ct?function Y(ct){return gt[ct]||gt[ct.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(ct):ct||null}function o1(ct){(function $e(ct){ct.forEach(We)})(ct),ct.forEach(function(St){ct.forEach(function(fe){St!==fe&&(0,at.WQ)(St,fe,oe)})})}function O(ct){return function(St,fe,ue){const Ke=St.length;ue=void 0!==ue?ue:2,fe=void 0!==fe?fe:new Array(Ke);for(let I1=0;I1<Ke;I1+=ue){const R1=ct(St.slice(I1,I1+ue)),v1=R1.length;for(let _r=0,gr=ue;_r<gr;++_r)fe[I1+_r]=_r>=v1?St[I1+_r]:R1[_r]}return fe}}function It(ct,St,fe,ue){const Ke=Be(ct),I1=Be(St);(0,at.WQ)(Ke,I1,O(fe)),(0,at.WQ)(I1,Ke,O(ue))}function t1(ct,St){if(ct===St)return!0;const fe=ct.getUnits()===St.getUnits();return(ct.getCode()===St.getCode()||z1(ct,St)===oe)&&fe}function z1(ct,St){const fe=ct.getCode(),ue=St.getCode();let Ke=(0,at.Jt)(fe,ue);return Ke||(Ke=xe),Ke}function T1(ct,St){return z1(Be(ct),Be(St))}function c1(ct,St,fe,ue){const Ke=T1(St,fe);return(0,ut.NW)(ct,Ke,void 0,ue)}function Tt(ct,St,fe){return function(ue){let Ke,I1;if(ct.canWrapX()){const R1=ct.getExtent(),v1=(0,ut.RG)(R1);I1=function xt(ct,St,fe){const ue=St.getExtent();let Ke=0;return St.canWrapX()&&(ct[0]<ue[0]||ct[0]>ue[2])&&(fe=fe||(0,ut.RG)(ue),Ke=Math.floor((ct[0]-ue[0])/fe)),Ke}(ue=ue.slice(0),ct,v1),I1&&(ue[0]=ue[0]-I1*v1),ue[0]=(0,Pt.qE)(ue[0],R1[0],R1[2]),ue[1]=(0,Pt.qE)(ue[1],R1[1],R1[3]),Ke=fe(ue)}else Ke=fe(ue);return I1&&St.canWrapX()&&(Ke[0]+=I1*(0,ut.RG)(St.getExtent())),Ke}}!function Nt(){o1(P),o1(st),function L1(ct,St,fe,ue){ct.forEach(function(Ke){St.forEach(function(I1){(0,at.WQ)(Ke,I1,fe),(0,at.WQ)(I1,Ke,ue)})})}(st,P,g,At)}()},2018:(qt,ee,K)=>{"use strict";K.d(ee,{A:()=>Lt});const ht={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},Lt=class Bt{constructor(z){this.code_=z.code,this.units_=z.units,this.extent_=void 0!==z.extent?z.extent:null,this.worldExtent_=void 0!==z.worldExtent?z.worldExtent:null,this.axisOrientation_=void 0!==z.axisOrientation?z.axisOrientation:"enu",this.global_=void 0!==z.global&&z.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=z.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=z.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||ht[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(z){this.global_=z,this.canWrapX_=!(!z||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(z){this.defaultTileGrid_=z}setExtent(z){this.extent_=z,this.canWrapX_=!(!this.global_||!z)}setWorldExtent(z){this.worldExtent_=z}setGetPointResolution(z){this.getPointResolutionFunc_=z}getPointResolutionFunc(){return this.getPointResolutionFunc_}}},4238:(qt,ee,K)=>{"use strict";K.d(ee,{Jt:()=>Lt,WQ:()=>ht});let G={};function ht(rt,z,P){const g=rt.getCode(),At=z.getCode();g in G||(G[g]={}),G[g][At]=P}function Lt(rt,z){let P;return rt in G&&z in G[rt]&&(P=G[rt][z]),P}},3308:(qt,ee,K)=>{"use strict";function G(ht,Bt,Lt,rt,z,P,g){try{var At=ht[P](g),dt=At.value}catch(bt){return void Lt(bt)}At.done?Bt(dt):Promise.resolve(dt).then(rt,z)}function vt(ht){return function(){var Bt=this,Lt=arguments;return new Promise(function(rt,z){var P=ht.apply(Bt,Lt);function g(dt){G(P,rt,z,g,At,"next",dt)}function At(dt){G(P,rt,z,g,At,"throw",dt)}g(void 0)})}}K.d(ee,{A:()=>vt})},1322:(qt,ee,K)=>{"use strict";function G(vt,ht){if(!(vt instanceof ht))throw new TypeError("Cannot call a class as a function")}K.d(ee,{A:()=>G})},1308:(qt,ee,K)=>{"use strict";K.d(ee,{A:()=>ht});var G=K(6185);function vt(Bt,Lt){for(var rt=0;rt<Lt.length;rt++){var z=Lt[rt];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(Bt,(0,G.A)(z.key),z)}}function ht(Bt,Lt,rt){return Lt&&vt(Bt.prototype,Lt),rt&&vt(Bt,rt),Object.defineProperty(Bt,"prototype",{writable:!1}),Bt}},3380:(qt,ee,K)=>{"use strict";K.d(ee,{A:()=>vt});var G=K(6185);function vt(ht,Bt,Lt){return(Bt=(0,G.A)(Bt))in ht?Object.defineProperty(ht,Bt,{value:Lt,enumerable:!0,configurable:!0,writable:!0}):ht[Bt]=Lt,ht}},4009:(qt,ee,K)=>{"use strict";function G(vt){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)})(vt)}K.d(ee,{A:()=>G})},6190:(qt,ee,K)=>{"use strict";function G(ht,Bt){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Lt,rt){return Lt.__proto__=rt,Lt})(ht,Bt)}function vt(ht,Bt){if("function"!=typeof Bt&&null!==Bt)throw new TypeError("Super expression must either be null or a function");ht.prototype=Object.create(Bt&&Bt.prototype,{constructor:{value:ht,writable:!0,configurable:!0}}),Object.defineProperty(ht,"prototype",{writable:!1}),Bt&&G(ht,Bt)}K.d(ee,{A:()=>vt})},1853:(qt,ee,K)=>{"use strict";K.d(ee,{A:()=>ht});var G=K(9391);function ht(Bt,Lt){if(Lt&&("object"==(0,G.A)(Lt)||"function"==typeof Lt))return Lt;if(void 0!==Lt)throw new TypeError("Derived constructors may only return object or undefined");return function vt(Bt){if(void 0===Bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt}(Bt)}},6185:(qt,ee,K)=>{"use strict";K.d(ee,{A:()=>ht});var G=K(9391);function ht(Bt){var Lt=function vt(Bt,Lt){if("object"!=(0,G.A)(Bt)||!Bt)return Bt;var rt=Bt[Symbol.toPrimitive];if(void 0!==rt){var z=rt.call(Bt,Lt||"default");if("object"!=(0,G.A)(z))return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Lt?String:Number)(Bt)}(Bt,"string");return"symbol"==(0,G.A)(Lt)?Lt:Lt+""}},9391:(qt,ee,K)=>{"use strict";function G(vt){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ht){return typeof ht}:function(ht){return ht&&"function"==typeof Symbol&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht})(vt)}K.d(ee,{A:()=>G})}},qt=>{qt(qt.s=3332)}]);