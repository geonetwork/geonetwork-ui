(self.webpackChunkmetadata_converter=self.webpackChunkmetadata_converter||[]).push([[792],{4421:(Ge,je,K)=>{"use strict";function Z(t,n){return Object.is(t,n)}let ge=null,ce=!1,Ve=1;const Se=Symbol("SIGNAL");function ne(t){const n=ge;return ge=t,n}const _e={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function he(t){if(ce)throw new Error("");if(null===ge)return;ge.consumerOnSignalRead(t);const n=ge.nextProducerIndex++;Ue(ge),n<ge.producerNode.length&&ge.producerNode[n]!==t&&J(ge)&&Le(ge.producerNode[n],ge.producerIndexOfThis[n]),ge.producerNode[n]!==t&&(ge.producerNode[n]=t,ge.producerIndexOfThis[n]=J(ge)?ue(t,ge,n):0),ge.producerLastReadVersion[n]=t.version}function j(t){if((!J(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Ve)){if(!t.producerMustRecompute(t)&&!D(t))return t.dirty=!1,void(t.lastCleanEpoch=Ve);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ve}}function W(t){if(void 0===t.liveConsumerNode)return;const n=ce;ce=!0;try{for(const e of t.liveConsumerNode)e.dirty||pe(e)}finally{ce=n}}function se(){return!1!==ge?.consumerAllowSignalWrites}function pe(t){t.dirty=!0,W(t),t.consumerMarkedDirty?.(t)}function oe(t){return t&&(t.nextProducerIndex=0),ne(t)}function X(t,n){if(ne(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(J(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Le(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function D(t){Ue(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(j(e),r!==e.version))return!0}return!1}function ae(t){if(Ue(t),J(t))for(let n=0;n<t.producerNode.length;n++)Le(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ue(t,n,e){if(re(t),0===t.liveConsumerNode.length&&xe(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ue(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Le(t,n){if(re(t),1===t.liveConsumerNode.length&&xe(t))for(let r=0;r<t.producerNode.length;r++)Le(t.producerNode[r],t.producerIndexOfThis[r]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[n],s=t.liveConsumerNode[n];Ue(s),s.producerIndexOfThis[r]=n}}function J(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ue(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function re(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function xe(t){return void 0!==t.producerNode}const Pe=Symbol("UNSET"),te=Symbol("COMPUTING"),ye=Symbol("ERRORED"),wt={..._e,value:Pe,dirty:!0,error:null,equal:Z,producerMustRecompute:t=>t.value===Pe||t.value===te,producerRecomputeValue(t){if(t.value===te)throw new Error("Detected cycle in computations.");const n=t.value;t.value=te;const e=oe(t);let r;try{r=t.computation()}catch(s){r=ye,t.error=s}finally{X(t,e)}n!==Pe&&n!==ye&&r!==ye&&t.equal(n,r)?t.value=n:(t.value=r,t.version++)}};let Ft=function mt(){throw new Error};function bt(){Ft()}let V=null;function ht(t,n){se()||bt(),t.equal(t.value,n)||(t.value=n,function Ut(t){t.version++,function be(){Ve++}(),W(t),V?.()}(t))}const Gt={..._e,equal:Z,value:void 0};const nn=()=>{},rn={..._e,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{null!==t.schedule&&t.schedule(t.ref)},hasRun:!1,cleanupFn:nn};function ln(t){return"function"==typeof t}function Xt(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const G=Xt(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,s)=>`${s+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function He(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class Fe{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(ln(r))try{r()}catch(i){n=i instanceof G?i.errors:[i]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const i of s)try{Mn(i)}catch(o){n=n??[],o instanceof G?n=[...n,...o.errors]:n.push(o)}}if(n)throw new G(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Mn(n);else{if(n instanceof Fe){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&He(e,n)}remove(n){const{_finalizers:e}=this;e&&He(e,n),n instanceof Fe&&n._removeParent(this)}}Fe.EMPTY=(()=>{const t=new Fe;return t.closed=!0,t})();const yt=Fe.EMPTY;function Jt(t){return t instanceof Fe||t&&"closed"in t&&ln(t.remove)&&ln(t.add)&&ln(t.unsubscribe)}function Mn(t){ln(t)?t():t.unsubscribe()}const Ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},on={setTimeout(t,n,...e){const{delegate:r}=on;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=on;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function cn(t){on.setTimeout(()=>{const{onUnhandledError:n}=Ln;if(!n)throw t;n(t)})}function Pn(){}const Gn=B("C",void 0,void 0);function B(t,n,e){return{kind:t,value:n,error:e}}let A=null;function S(t){if(Ln.useDeprecatedSynchronousErrorHandling){const n=!A;if(n&&(A={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=A;if(A=null,e)throw r}}else t()}class Me extends Fe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Jt(n)&&n.add(this)):this.destination=ct}static create(n,e,r){return new Ee(n,e,r)}next(n){this.isStopped?ze(function Jr(t){return B("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?ze(function Sr(t){return B("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ze(Gn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function lt(t,n){return Ke.call(t,n)}class an{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Re(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Re(r)}else Re(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Re(e)}}}class Ee extends Me{constructor(n,e,r){let s;if(super(),ln(n)||!n)s={next:n??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&Ln.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),s={next:n.next&&lt(n.next,i),error:n.error&&lt(n.error,i),complete:n.complete&&lt(n.complete,i)}):s=n}this.destination=new an(s)}}function Re(t){Ln.useDeprecatedSynchronousErrorHandling?function U(t){Ln.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=t)}(t):cn(t)}function ze(t,n){const{onStoppedNotification:e}=Ln;e&&on.setTimeout(()=>e(t,n))}const ct={closed:!0,next:Pn,error:function le(t){throw t},complete:Pn},st="function"==typeof Symbol&&Symbol.observable||"@@observable";function qt(t){return t}let Sn=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,s){const i=function Mr(t){return t&&t instanceof Me||function ir(t){return t&&ln(t.next)&&ln(t.error)&&ln(t.complete)}(t)&&Jt(t)}(e)?e:new Ee(e,r,s);return S(()=>{const{operator:o,source:a}=this;i.add(o?o.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=cr(r))((s,i)=>{const o=new Ee({next:a=>{try{e(a)}catch(l){i(l),o.unsubscribe()}},error:i,complete:s});this.subscribe(o)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[st](){return this}pipe(...e){return function Rn(t){return 0===t.length?qt:1===t.length?t[0]:function(e){return t.reduce((r,s)=>s(r),e)}}(e)(this)}toPromise(e){return new(e=cr(e))((r,s)=>{let i;this.subscribe(o=>i=o,o=>s(o),()=>r(i))})}}return t.create=n=>new t(n),t})();function cr(t){var n;return null!==(n=t??Ln.Promise)&&void 0!==n?n:Promise}const Os=Xt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let qr=(()=>{class t extends Sn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Vi(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Os}next(e){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:s,observers:i}=this;return r||s?yt:(this.currentObservers=null,i.push(e),new Fe(()=>{this.currentObservers=null,He(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:s,isStopped:i}=this;r?e.error(s):i&&e.complete()}asObservable(){const e=new Sn;return e.source=this,e}}return t.create=(n,e)=>new Vi(n,e),t})();class Vi extends qr{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:yt}}class Js extends qr{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Gs(t){return n=>{if(function ea(t){return ln(t?.lift)}(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function R(t,n,e,r,s){return new F(t,n,e,r,s)}class F extends Me{constructor(n,e,r,s,i,o){super(n),this.onFinalize=i,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=s?function(a){try{s(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function ie(t,n){return Gs((e,r)=>{let s=0;e.subscribe(R(r,i=>{r.next(t.call(n,i,s++))}))})}class $e extends Error{constructor(n,e){super(function Qn(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}const ws=Symbol("InputSignalNode#UNSET"),pr={...Gt,transformFn:void 0,applyValueToInputSignal(t,n){ht(t,n)}};function Ai(t,n){const e=Object.create(pr);function r(){if(he(e),e.value===ws)throw new $e(-950,!1);return e.value}return e.value=t,e.transformFn=n?.transform,r[Se]=e,r}function xs(t){return{toString:t}.toString()}const Ds="__parameters__";function Bs(t,n,e){return xs(()=>{const r=function wr(t){return function(...e){if(t){const r=t(...e);for(const s in r)this[s]=r[s]}}}(n);function s(...i){if(this instanceof s)return r.apply(this,i),this;const o=new s(...i);return a.annotation=o,a;function a(l,c,u){const h=l.hasOwnProperty(Ds)?l[Ds]:Object.defineProperty(l,Ds,{value:[]})[Ds];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}const un=globalThis;function Lr(t){for(let n in t)if(t[n]===Lr)return n;throw Error("Could not find renamed property on target object.")}function ep(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Zs(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Zs).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function fu(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Kc=Lr({__forward_ref__:Lr});function jr(t){return t.__forward_ref__=jr,t.toString=function(){return Zs(this())},t}function En(t){return Xa(t)?t():t}function Xa(t){return"function"==typeof t&&t.hasOwnProperty(Kc)&&t.__forward_ref__===jr}function Wt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ia(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ql(t){return p2(t,qc)||p2(t,g2)}function p2(t,n){return t.hasOwnProperty(n)?t[n]:null}function Jc(t){return t&&(t.hasOwnProperty(Qc)||t.hasOwnProperty(ap))?t[Qc]:null}const qc=Lr({\u0275prov:Lr}),Qc=Lr({\u0275inj:Lr}),g2=Lr({ngInjectableDef:Lr}),ap=Lr({ngInjectorDef:Lr});class Pt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Wt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xu(t){return t&&!!t.\u0275providers}const Hl=Lr({\u0275cmp:Lr}),Su=Lr({\u0275dir:Lr}),Mu=Lr({\u0275pipe:Lr}),_u=Lr({\u0275mod:Lr}),oa=Lr({\u0275fac:Lr}),ec=Lr({__NG_ELEMENT_ID__:Lr}),v2=Lr({__NG_ENV_ID__:Lr});function Wn(t){return"string"==typeof t?t:null==t?"":String(t)}function Hu(t,n){throw new $e(-201,!1)}var or=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(or||{});let zu;function m2(){return zu}function ki(t){const n=zu;return zu=t,n}function w2(t,n,e){const r=Ql(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&or.Optional?null:void 0!==n?n:void Hu()}const tc={},Vu="__NG_DI_FLAG__",nc="ngTempTokenPath",fp=/\n/gm,C2="__source";let zl;function Ha(t){const n=zl;return zl=t,n}function mp(t,n=or.Default){if(void 0===zl)throw new $e(-203,!1);return null===zl?w2(t,void 0,n):zl.get(t,n&or.Optional?null:void 0,n)}function Ye(t,n=or.Default){return(m2()||mp)(En(t),n)}function ke(t,n=or.Default){return Ye(t,Ya(n))}function Ya(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ao(t){const n=[];for(let e=0;e<t.length;e++){const r=En(t[e]);if(Array.isArray(r)){if(0===r.length)throw new $e(900,!1);let s,i=or.Default;for(let o=0;o<r.length;o++){const a=r[o],l=We(a);"number"==typeof l?-1===l?s=a.token:i|=l:s=a}n.push(Ye(s,i))}else n.push(Ye(r))}return n}function Ka(t,n){return t[Vu]=n,t.prototype[Vu]=n,t}function We(t){return t[Vu]}const y2=Ka(Bs("Optional"),8),Un=Ka(Bs("SkipSelf"),4);function Vl(t,n){return t.hasOwnProperty(oa)?t[oa]:null}function Ja(t,n){t.forEach(e=>Array.isArray(e)?Ja(e,n):n(e))}function El(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Oe(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Bt(t,n,e){let r=Tl(t,n);return r>=0?t[1|r]=e:(r=~r,function Tu(t,n,e,r){let s=t.length;if(s==n)t.push(e,r);else if(1===s)t.push(r,t[0]),t[0]=e;else{for(s--,t.push(t[s-1],t[s]);s>n;)t[s]=t[s-2],s--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function Lu(t,n){const e=Tl(t,n);if(e>=0)return t[1|e]}function Tl(t,n){return function I2(t,n,e){let r=0,s=t.length>>e;for(;s!==r;){const i=r+(s-r>>1),o=t[i<<e];if(n===o)return i<<e;o>n?s=i:r=i+1}return~(s<<e)}(t,n,1)}const Fo={},gr=[],xo=new Pt(""),s1=new Pt("",-1),rc=new Pt("");class o1{get(n,e=tc){if(e===tc){const r=new Error(`NullInjectorError: No provider for ${Zs(n)}!`);throw r.name="NullInjectorError",r}return e}}var a1=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(a1||{}),Ei=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ei||{}),za=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(za||{});function A2(t,n,e){let r=t.length;for(;;){const s=t.indexOf(n,e);if(-1===s)return s;if(0===s||t.charCodeAt(s-1)<=32){const i=n.length;if(s+i===r||t.charCodeAt(s+i)<=32)return s}e=s+1}}function l1(t,n,e){let r=0;for(;r<e.length;){const s=e[r];if("number"==typeof s){if(0!==s)break;r++;const i=e[r++],o=e[r++],a=e[r++];t.setAttribute(n,o,a,i)}else{const i=s,o=e[++r];x2(i)?t.setProperty(n,i,o):t.setAttribute(n,i,o),r++}}return r}function b2(t){return 3===t||4===t||6===t}function x2(t){return 64===t.charCodeAt(0)}function sc(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const s=n[r];"number"==typeof s?e=s:0===e||c1(t,e,s,null,-1===e||2===e?n[++r]:null)}}return t}function c1(t,n,e,r,s){let i=0,o=t.length;if(-1===n)o=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==s&&(t[i+1]=s));if(r===t[i+1])return void(t[i+2]=s)}i++,null!==r&&i++,null!==s&&i++}-1!==o&&(t.splice(o,0,n),i=o+1),t.splice(i++,0,e),null!==r&&t.splice(i++,0,r),null!==s&&t.splice(i++,0,s)}const ic="ng-template";function yp(t,n,e,r){let s=0;if(r){for(;s<n.length&&"string"==typeof n[s];s+=2)if("class"===n[s]&&-1!==A2(n[s+1].toLowerCase(),e,0))return!0}else if(u1(t))return!1;if(s=n.indexOf(1,s),s>-1){let i;for(;++s<n.length&&"string"==typeof(i=n[s]);)if(i.toLowerCase()===e)return!0}return!1}function u1(t){return 4===t.type&&t.value!==ic}function oc(t,n,e){return n===(4!==t.type||e?t.value:ic)}function S2(t,n,e){let r=4;const s=t.attrs,i=null!==s?function bp(t){for(let n=0;n<t.length;n++)if(b2(t[n]))return n;return t.length}(s):0;let o=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!oc(t,l,e)||""===l&&1===n.length){if(lo(r))return!1;o=!0}}else if(8&r){if(null===s||!yp(t,s,l,e)){if(lo(r))return!1;o=!0}}else{const c=n[++a],u=Ip(l,s,u1(t),e);if(-1===u){if(lo(r))return!1;o=!0;continue}if(""!==c){let h;if(h=u>i?"":s[u+1].toLowerCase(),2&r&&c!==h){if(lo(r))return!1;o=!0}}}}else{if(!o&&!lo(r)&&!lo(l))return!1;if(o&&lo(l))continue;o=!1,r=l|1&r}}return lo(r)||o}function lo(t){return!(1&t)}function Ip(t,n,e,r){if(null===n)return-1;let s=0;if(r||!e){let i=!1;for(;s<n.length;){const o=n[s];if(o===t)return s;if(3===o||6===o)i=!0;else{if(1===o||2===o){let a=n[++s];for(;"string"==typeof a;)a=n[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=i?1:2}return-1}return function xp(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function M2(t,n,e=!1){for(let r=0;r<n.length;r++)if(S2(t,n[r],e))return!0;return!1}function Sp(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let s=0;s<t.length;s++)if(t[s]!==r[s])continue e;return!0}}return!1}function h1(t,n){return t?":not("+n.trim()+")":n}function Mp(t){let n=t[0],e=1,r=2,s="",i=!1;for(;e<t.length;){let o=t[e];if("string"==typeof o)if(2&r){const a=t[++e];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?s+="."+o:4&r&&(s+=" "+o);else""!==s&&!lo(o)&&(n+=h1(i,s),s=""),r=o,i=i||!lo(r);e++}return""!==s&&(n+=h1(i,s)),n}function So(t){return xs(()=>{const n=Ti(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===a1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ei.Emulated,styles:t.styles||gr,_:null,schemas:t.schemas||null,tView:null,id:""};H2(e);const r=t.dependencies;return e.directiveDefs=d1(r,!1),e.pipeDefs=d1(r,!0),e.id=function V2(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const s of e)n=Math.imul(31,n)+s.charCodeAt(0)|0;return n+=2147483648,"c"+n}(e),e})}function Qr(t){return bn(t)||Ns(t)}function us(t){return null!==t}function Va(t){return xs(()=>({type:t.type,bootstrap:t.bootstrap||gr,declarations:t.declarations||gr,imports:t.imports||gr,exports:t.exports||gr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _2(t,n){if(null==t)return Fo;const e={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];let i,o,a=za.None;Array.isArray(s)?(a=s[0],i=s[1],o=s[2]??i):(i=s,o=s),n?(e[i]=a!==za.None?[r,a]:r,n[i]=o):e[i]=r}return e}function Zn(t){return xs(()=>{const n=Ti(t);return H2(n),n})}function xi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function bn(t){return t[Hl]||null}function Ns(t){return t[Su]||null}function ci(t){return t[Mu]||null}function Ti(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Fo,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||gr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_2(t.inputs,n),outputs:_2(t.outputs),debugInfo:null}}function H2(t){t.features?.forEach(n=>n(t))}function d1(t,n){if(!t)return null;const e=n?ci:Qr;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(us)}function qa(t){return{\u0275providers:t}}function Vr(...t){return{\u0275providers:ac(0,t),\u0275fromNgModule:!0}}function ac(t,...n){const e=[],r=new Set;let s;const i=o=>{e.push(o)};return Ja(n,o=>{const a=o;M(a,i,[],r)&&(s||=[],s.push(a))}),void 0!==s&&m(s,i),e}function m(t,n){for(let e=0;e<t.length;e++){const{ngModule:r,providers:s}=t[e];P(s,i=>{n(i,r)})}}function M(t,n,e,r){if(!(t=En(t)))return!1;let s=null,i=Jc(t);const o=!i&&bn(t);if(i||o){if(o&&!o.standalone)return!1;s=t}else{const l=t.ngModule;if(i=Jc(l),!i)return!1;s=l}const a=r.has(s);if(o){if(a)return!1;if(r.add(s),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)M(c,n,e,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;r.add(s);try{Ja(i.imports,u=>{M(u,n,e,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&m(c,n)}if(!a){const c=Vl(s)||(()=>new s);n({provide:s,useFactory:c,deps:gr},s),n({provide:rc,useValue:s,multi:!0},s),n({provide:xo,useValue:()=>Ye(s),multi:!0},s)}const l=i.providers;if(null!=l&&!a){const c=t;P(l,u=>{n(u,c)})}}}return s!==t&&void 0!==t.providers}function P(t,n){for(let e of t)xu(e)&&(e=e.\u0275providers),Array.isArray(e)?P(e,n):n(e)}const q=Lr({provide:String,useValue:Lr});function ve(t){return null!==t&&"object"==typeof t&&q in t}function Yt(t){return"function"==typeof t}const aa=new Pt(""),Po={},XC={};let zp;function E2(){return void 0===zp&&(zp=new o1),zp}class ko{}class p1 extends ko{get destroyed(){return this._destroyed}constructor(n,e,r,s){super(),this.parent=e,this.source=r,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ep(n,o=>this.processProvider(o)),this.records.set(s1,f1(void 0,this)),s.has("environment")&&this.records.set(ko,f1(void 0,this));const i=this.records.get(aa);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(rc,gr,or.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=ne(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Ha(this),r=ki(void 0);try{return n()}finally{Ha(e),ki(r)}}get(n,e=tc,r=or.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(v2))return n[v2](this);r=Ya(r);const i=Ha(this),o=ki(void 0);try{if(!(r&or.SkipSelf)){let l=this.records.get(n);if(void 0===l){const c=function QC(t){return"function"==typeof t||"object"==typeof t&&t instanceof Pt}(n)&&Ql(n);l=c&&this.injectableDefInScope(c)?f1(Vp(n),Po):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(r&or.Self?E2():this.parent).get(n,e=r&or.Optional&&e===tc?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[nc]=a[nc]||[]).unshift(Zs(n)),i)throw a;return function t1(t,n,e,r){const s=t[nc];throw n[C2]&&s.unshift(n[C2]),t.message=function i3(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let s=Zs(n);if(Array.isArray(n))s=n.map(Zs).join(" -> ");else if("object"==typeof n){let i=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):Zs(a)))}s=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${s}]: ${t.replace(fp,"\n  ")}`}("\n"+t.message,s,e,r),t.ngTokenPath=s,t[nc]=null,t}(a,n,"R3InjectorError",this.source)}throw a}finally{ki(o),Ha(i)}}resolveInjectorInitializers(){const n=ne(null),e=Ha(this),r=ki(void 0);try{const i=this.get(xo,gr,or.Self);for(const o of i)o()}finally{Ha(e),ki(r),ne(n)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Zs(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $e(205,!1)}processProvider(n){let e=Yt(n=En(n))?n:En(n&&n.provide);const r=function KC(t){return ve(t)?f1(void 0,t.useValue):f1(c3(t),Po)}(n);if(!Yt(n)&&!0===n.multi){let s=this.records.get(e);s||(s=f1(void 0,Po,!0),s.factory=()=>ao(s.multi),this.records.set(e,s)),e=n,s.multi.push(n)}this.records.set(e,r)}hydrate(n,e){const r=ne(null);try{return e.value===Po&&(e.value=XC,e.value=e.factory()),"object"==typeof e.value&&e.value&&function qC(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{ne(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;const e=En(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Vp(t){const n=Ql(t),e=null!==n?n.factory:Vl(t);if(null!==e)return e;if(t instanceof Pt)throw new $e(204,!1);if(t instanceof Function)return function YC(t){if(t.length>0)throw new $e(204,!1);const e=function f2(t){return t&&(t[qc]||t[g2])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new $e(204,!1)}function c3(t,n,e){let r;if(Yt(t)){const s=En(t);return Vl(s)||Vp(s)}if(ve(t))r=()=>En(t.useValue);else if(function Q(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ao(t.deps||[]));else if(function Ce(t){return!(!t||!t.useExisting)}(t))r=()=>Ye(En(t.useExisting));else{const s=En(t&&(t.useClass||t.provide));if(!function JC(t){return!!t.deps}(t))return Vl(s)||Vp(s);r=()=>new s(...ao(t.deps))}return r}function f1(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Ep(t,n){for(const e of t)Array.isArray(e)?Ep(e,n):e&&xu(e)?Ep(e.\u0275providers,n):n(e)}function u3(t,n){t instanceof p1&&t.assertNotDestroyed();const r=Ha(t),s=ki(void 0);try{return n()}finally{Ha(r),ki(s)}}function h3(){return void 0!==m2()||null!=function vp(){return zl}()}const Ss=0,Rt=1,_n=2,ei=3,Oo=4,hs=5,Lt=6,kr=7,dn=8,yn=9,ft=10,Ze=11,Go=12,Hr=13,Gi=14,Ms=15,lc=16,v1=17,Qa=18,m1=19,p3=20,Ll=21,L2=22,Wo=23,wn=25,Rp=1,Ea=7,w1=9,js=10;var D2=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(D2||{});function hi(t){return Array.isArray(t)&&"object"==typeof t[Rp]}function Wi(t){return Array.isArray(t)&&!0===t[Rp]}function Dp(t){return!!(4&t.flags)}function cc(t){return t.componentOffset>-1}function B2(t){return!(1&~t.flags)}function la(t){return!!t.template}function Bu(t){return!!(512&t[_n])}class h7{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function w3(t,n,e,r){null!==n?n.applyValueToInputSignal(n,r):t[e]=r}function el(){return C3}function C3(t){return t.type.prototype.ngOnChanges&&(t.setInput=p7),d7}function d7(){const t=I3(this),n=t?.current;if(n){const e=t.previous;if(e===Fo)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function p7(t,n,e,r,s){const i=this.declaredInputs[r],o=I3(t)||function f7(t,n){return t[y3]=n}(t,{previous:Fo,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[i];a[i]=new h7(c&&c.currentValue,e,l===Fo),w3(t,n,s,e)}el.ngInherit=!0;const y3="__ngSimpleChanges__";function I3(t){return t[y3]||null}const Ta=function(t,n,e){};function zr(t){for(;Array.isArray(t);)t=t[Ss];return t}function Nu(t,n){return zr(n[t])}function Ki(t,n){return zr(n[t.index])}function Fu(t,n){return t.data[n]}function uc(t,n){return t[n]}function Mo(t,n){const e=n[t];return hi(e)?e:e[Ss]}function kp(t){return!(128&~t[_n])}function Zo(t,n){return null==n?null:t[n]}function x3(t){t[v1]=0}function S3(t){1024&t[_n]||(t[_n]|=1024,kp(t)&&F2(t))}function N2(t){return!!(9216&t[_n]||t[Wo]?.dirty)}function Op(t){t[ft].changeDetectionScheduler?.notify(8),64&t[_n]&&(t[_n]|=1024),N2(t)&&F2(t)}function F2(t){t[ft].changeDetectionScheduler?.notify(0);let n=tl(t);for(;null!==n&&!(8192&n[_n])&&(n[_n]|=8192,kp(n));)n=tl(n)}function P2(t,n){if(!(256&~t[_n]))throw new $e(911,!1);null===t[Ll]&&(t[Ll]=[]),t[Ll].push(n)}function tl(t){const n=t[ei];return Wi(n)?n[ei]:n}const kn={lFrame:F3(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let _3=!1;function H3(){return kn.bindingsEnabled}function hc(){return null!==kn.skipHydrationRootTNode}function dt(){return kn.lFrame.lView}function sr(){return kn.lFrame.tView}function ot(t){return kn.lFrame.contextLView=t,t[dn]}function at(t){return kn.lFrame.contextLView=null,t}function Ur(){let t=z3();for(;null!==t&&64===t.type;)t=t.parent;return t}function z3(){return kn.lFrame.currentTNode}function ca(t,n){const e=kn.lFrame;e.currentTNode=t,e.isParent=n}function Zp(){return kn.lFrame.isParent}function jp(){kn.lFrame.isParent=!1}function T3(){return _3}function L3(t){_3=t}function Ji(){const t=kn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ua(){return kn.lFrame.bindingIndex++}function sl(t){const n=kn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function H7(t,n){const e=kn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Up(n)}function Up(t){kn.lFrame.currentDirectiveIndex=t}function Xp(){return kn.lFrame.currentQueryIndex}function O2(t){kn.lFrame.currentQueryIndex=t}function V7(t){const n=t[Rt];return 2===n.type?n.declTNode:1===n.type?t[hs]:null}function B3(t,n,e){if(e&or.SkipSelf){let s=n,i=t;for(;!(s=s.parent,null!==s||e&or.Host||(s=V7(i),null===s||(i=i[Gi],10&s.type))););if(null===s)return!1;n=s,t=i}const r=kn.lFrame=N3();return r.currentTNode=n,r.lView=t,!0}function Yp(t){const n=N3(),e=t[Rt];kn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function N3(){const t=kn.lFrame,n=null===t?null:t.child;return null===n?F3(t):n}function F3(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function P3(){const t=kn.lFrame;return kn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const k3=P3;function Kp(){const t=P3();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Li(){return kn.lFrame.selectedIndex}function dc(t){kn.lFrame.selectedIndex=t}function ds(){const t=kn.lFrame;return Fu(t.tView,t.selectedIndex)}let G3=!0;function ku(){return G3}function La(t){G3=t}function G2(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const i=t.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=i;o&&(t.contentHooks??=[]).push(-e,o),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),null!=u&&(t.destroyHooks??=[]).push(e,u)}}function W2(t,n,e){W3(t,n,3,e)}function Z2(t,n,e,r){(3&t[_n])===e&&W3(t,n,e,r)}function Jp(t,n){let e=t[_n];(3&e)===n&&(e&=16383,e+=1,t[_n]=e)}function W3(t,n,e,r){const i=r??-1,o=n.length-1;let a=0;for(let l=void 0!==r?65535&t[v1]:0;l<o;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(t[v1]+=65536),(a<i||-1==i)&&(N7(t,e,n,l),t[v1]=(4294901760&t[v1])+l+2),l++}function Z3(t,n){Ta(4,t,n);const e=ne(null);try{n.call(t)}finally{ne(e),Ta(5,t,n)}}function N7(t,n,e,r){const s=e[r]<0,i=e[r+1],a=t[s?-e[r]:e[r]];s?t[_n]>>14<t[v1]>>16&&(3&t[_n])===n&&(t[_n]+=16384,Z3(a,i)):Z3(a,i)}const C1=-1;class Ou{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}const Qp={};class pc{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=Ya(r);const s=this.injector.get(n,Qp,r);return s!==Qp||e===Qp?s:this.parentInjector.get(n,e,r)}}function ef(t){return t!==C1}function Gu(t){return 32767&t}function Wu(t,n){let e=function G7(t){return t>>16}(t),r=n;for(;e>0;)r=r[Gi],e--;return r}let tf=!0;function j2(t){const n=tf;return tf=t,n}const U3=255,$3=5;let Z7=0;const Ra={};function U2(t,n){const e=X3(t,n);if(-1!==e)return e;const r=n[Rt];r.firstCreatePass&&(t.injectorIndex=n.length,nf(r.data,t),nf(n,null),nf(r.blueprint,null));const s=$2(t,n),i=t.injectorIndex;if(ef(s)){const o=Gu(s),a=Wu(s,n),l=a[Rt].data;for(let c=0;c<8;c++)n[i+c]=a[o+c]|l[o+c]}return n[i+8]=s,i}function nf(t,n){t.push(0,0,0,0,0,0,0,0,n)}function X3(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function $2(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,s=n;for(;null!==s;){if(r=tv(s),null===r)return C1;if(e++,s=s[Gi],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return C1}function rf(t,n,e){!function j7(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(ec)&&(r=e[ec]),null==r&&(r=e[ec]=Z7++);const s=r&U3;n.data[t+(s>>$3)]|=1<<s}(t,n,e)}function Y3(t,n,e){if(e&or.Optional||void 0!==t)return t;Hu()}function K3(t,n,e,r){if(e&or.Optional&&void 0===r&&(r=null),!(e&(or.Self|or.Host))){const s=t[yn],i=ki(void 0);try{return s?s.get(n,r,e&or.Optional):w2(n,r,e&or.Optional)}finally{ki(i)}}return Y3(r,0,e)}function J3(t,n,e,r=or.Default,s){if(null!==t){if(2048&n[_n]&&!(r&or.Self)){const o=function K7(t,n,e,r,s){let i=t,o=n;for(;null!==i&&null!==o&&2048&o[_n]&&!(512&o[_n]);){const a=q3(i,o,e,r|or.Self,Ra);if(a!==Ra)return a;let l=i.parent;if(!l){const c=o[p3];if(c){const u=c.get(e,Ra,r);if(u!==Ra)return u}l=tv(o),o=o[Gi]}i=l}return s}(t,n,e,r,Ra);if(o!==Ra)return o}const i=q3(t,n,e,r,Ra);if(i!==Ra)return i}return K3(n,e,r,s)}function q3(t,n,e,r,s){const i=function X7(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(ec)?t[ec]:void 0;return"number"==typeof n?n>=0?n&U3:Y7:n}(e);if("function"==typeof i){if(!B3(n,t,r))return r&or.Host?Y3(s,0,r):K3(n,e,r,s);try{let o;if(o=i(r),null!=o||r&or.Optional)return o;Hu()}finally{k3()}}else if("number"==typeof i){let o=null,a=X3(t,n),l=C1,c=r&or.Host?n[Ms][hs]:null;for((-1===a||r&or.SkipSelf)&&(l=-1===a?$2(t,n):n[a+8],l!==C1&&ev(r,!1)?(o=n[Rt],a=Gu(l),n=Wu(l,n)):a=-1);-1!==a;){const u=n[Rt];if(Q3(i,a,u.data)){const h=$7(a,n,e,o,r,c);if(h!==Ra)return h}l=n[a+8],l!==C1&&ev(r,n[Rt].data[a+8]===c)&&Q3(i,a,n)?(o=u,a=Gu(l),n=Wu(l,n)):a=-1}}return s}function $7(t,n,e,r,s,i){const o=n[Rt],a=o.data[t+8],u=X2(a,o,e,null==r?cc(a)&&tf:r!=o&&!!(3&a.type),s&or.Host&&i===a);return null!==u?fc(n,o,u,a):Ra}function X2(t,n,e,r,s){const i=t.providerIndexes,o=n.data,a=1048575&i,l=t.directiveStart,u=i>>20,d=s?a+u:t.directiveEnd;for(let p=r?a:a+u;p<d;p++){const v=o[p];if(p<l&&e===v||p>=l&&v.type===e)return p}if(s){const p=o[l];if(p&&la(p)&&p.type===e)return l}return null}function fc(t,n,e,r){let s=t[e];const i=n.data;if(function F7(t){return t instanceof Ou}(s)){const o=s;o.resolving&&function hp(t,n){throw n&&n.join(" > "),new $e(-200,t)}(function _r(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Wn(t)}(i[e]));const a=j2(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?ki(o.injectImpl):null;B3(t,r,or.Default);try{s=t[e]=o.factory(void 0,i,t,r),n.firstCreatePass&&e>=r.directiveStart&&function B7(t,n,e){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:i}=n.type.prototype;if(r){const o=C3(n);(e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o)}s&&(e.preOrderHooks??=[]).push(0-t,s),i&&((e.preOrderHooks??=[]).push(t,i),(e.preOrderCheckHooks??=[]).push(t,i))}(e,i[e],n)}finally{null!==c&&ki(c),j2(a),o.resolving=!1,k3()}}return s}function Q3(t,n,e){return!!(e[n+(t>>$3)]&1<<t)}function ev(t,n){return!(t&or.Self||t&or.Host&&n)}class di{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return J3(this._tNode,this._lView,n,Ya(r),e)}}function Y7(){return new di(Ur(),dt())}function ti(t){return xs(()=>{const n=t.prototype.constructor,e=n[oa]||sf(n),r=Object.prototype;let s=Object.getPrototypeOf(t.prototype).constructor;for(;s&&s!==r;){const i=s[oa]||sf(s);if(i&&i!==e)return i;s=Object.getPrototypeOf(s)}return i=>new i})}function sf(t){return Xa(t)?()=>{const n=sf(En(t));return n&&n()}:Vl(t)}function tv(t){const n=t[Rt],e=n.type;return 2===e?n.declTNode:1===e?t[hs]:null}function Rl(t,n=null,e=null,r){const s=co(t,n,e,r);return s.resolveInjectorInitializers(),s}function co(t,n=null,e=null,r,s=new Set){const i=[e||gr,Vr(t)];return r=r||("object"==typeof t?void 0:Zs(t)),new p1(i,n||E2(),r||null,s)}class Fn{static{this.THROW_IF_NOT_FOUND=tc}static{this.NULL=new o1}static create(n,e){if(Array.isArray(n))return Rl({name:""},e,n,"");{const r=n.name??"";return Rl({name:r},n.parent,n.providers,r)}}static{this.\u0275prov=Wt({token:Fn,providedIn:"any",factory:()=>Ye(s1)})}static{this.__NG_ELEMENT_ID__=-1}}new Pt("").__NG_ELEMENT_ID__=t=>{const n=Ur();if(null===n)throw new $e(204,!1);if(2&n.type)return n.value;if(t&or.Optional)return null;throw new $e(204,!1)};function cf(t){return t.ngOriginalError}const av=!0;let Zu=(()=>{class t{static{this.__NG_ELEMENT_ID__=sy}static{this.__NG_ENV_ID__=e=>e}}return t})();class ry extends Zu{constructor(n){super(),this._lView=n}onDestroy(n){return P2(this._lView,n),()=>function Gp(t,n){if(null===t[Ll])return;const e=t[Ll].indexOf(n);-1!==e&&t[Ll].splice(e,1)}(this._lView,n)}}function sy(){return new ry(dt())}let Dl=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Js(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Wt({token:t,providedIn:"root",factory:()=>new t})}}return t})();const ts=class iy extends qr{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,h3()&&(this.destroyRef=ke(Zu,{optional:!0})??void 0,this.pendingTasks=ke(Dl,{optional:!0})??void 0)}emit(n){const e=ne(null);try{super.next(n)}finally{ne(e)}}subscribe(n,e,r){let s=n,i=e||(()=>null),o=r;if(n&&"object"==typeof n){const l=n;s=l.next?.bind(l),i=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),s&&(s=this.wrapInTimeout(s)),o&&(o=this.wrapInTimeout(o)));const a=super.subscribe({next:s,error:i,complete:o});return n instanceof Fe&&n.add(a),a}wrapInTimeout(n){return e=>{const r=this.pendingTasks?.add();setTimeout(()=>{n(e),void 0!==r&&this.pendingTasks?.remove(r)})}}};function J2(...t){}function lv(t){let n,e;function r(){t=J2;try{void 0!==e&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(e),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),"function"==typeof requestAnimationFrame&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function cv(t){return queueMicrotask(()=>t()),()=>{t=J2}}const uf="isAngularZone",q2=uf+"_ID";let oy=0;class $r{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ts(!1),this.onMicrotaskEmpty=new ts(!1),this.onStable=new ts(!1),this.onError=new ts(!1);const{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:i=av}=n;if(typeof Zone>"u")throw new $e(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!s&&r,o.shouldCoalesceRunChangeDetection=s,o.callbackScheduled=!1,o.scheduleInRootZone=i,function cy(t){const n=()=>{!function ly(t){function n(){lv(()=>{t.callbackScheduled=!1,df(t),t.isCheckStableRunning=!0,hf(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),df(t))}(t)},e=oy++;t._inner=t._inner.fork({name:"angular",properties:{[uf]:!0,[q2]:e,[q2+e]:!0},onInvokeTask:(r,s,i,o,a,l)=>{if(function uy(t){return dv(t,"__ignore_ng_zone__")}(l))return r.invokeTask(i,o,a,l);try{return uv(t),r.invokeTask(i,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),hv(t)}},onInvoke:(r,s,i,o,a,l,c)=>{try{return uv(t),r.invoke(i,o,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function hy(t){return dv(t,"__scheduler_tick__")}(l)&&n(),hv(t)}},onHasTask:(r,s,i,o)=>{r.hasTask(i,o),s===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,df(t),hf(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,s,i,o)=>(r.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(uf)}static assertInAngularZone(){if(!$r.isInAngularZone())throw new $e(909,!1)}static assertNotInAngularZone(){if($r.isInAngularZone())throw new $e(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,s){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+s,n,ay,J2,J2);try{return i.runTask(o,e,r)}finally{i.cancelTask(o)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const ay={};function hf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function df(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function uv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hv(t){t._nesting--,hf(t)}class pf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ts,this.onMicrotaskEmpty=new ts,this.onStable=new ts,this.onError=new ts}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,s){return n.apply(e,r)}}function dv(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}class Da{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&cf(n);for(;e&&cf(e);)e=cf(e);return e||null}}const py=new Pt("",{providedIn:"root",factory:()=>{const t=ke($r),n=ke(Da);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function fv(t,n){return Ai(t,n)}const ju=(fv.required=function fy(t){return Ai(ws,t)},fv);function gy(){return A1(Ur(),dt())}function A1(t,n){return new jo(Ki(t,n))}let jo=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=gy}}return t})();function gv(t){return t instanceof jo?t.nativeElement:t}function vy(){return this._results[Symbol.iterator]()}class ff{get changes(){return this._changes??=new ts}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=ff.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=vy)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;const r=function Oi(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function wp(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let s=t[r],i=n[r];if(e&&(s=e(s),i=e(i)),i!==s)return!1}return!0}(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function $u(t){return!(128&~t.flags)}const vf=new Map;let wy=0;function mf(t){vf.delete(t[m1])}const Q2="__ngContext__";function Zi(t,n){hi(n)?(t[Q2]=n[m1],function yy(t){vf.set(t[m1],t)}(n)):t[Q2]=n}function Sv(t){return _v(t[Go])}function Mv(t){return _v(t[Oo])}function _v(t){for(;null!==t&&!Wi(t);)t=t[Oo];return t}let Cf;const x1=new Pt("",{providedIn:"root",factory:()=>Ny}),Ny="ng",Dv=new Pt(""),al=new Pt("",{providedIn:"platform",factory:()=>"unknown"}),Bv=new Pt("",{providedIn:"root",factory:()=>function Bl(){if(void 0!==Cf)return Cf;if(typeof document<"u")return document;throw new $e(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Nv=()=>null;function Mf(t,n,e=!1){return Nv(t,n,e)}const jv=new Pt("",{providedIn:"root",factory:()=>!1});class Jv{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Nl(t){return t instanceof Jv?t.changingThisBreaksApplicationSecurity:t}const jn=/^>|^->|<!--|-->|--!>|<!-$/g,$n=/(<|>)/g,Qt="\u200b$1\u200b";var yc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yc||{});let am;function lm(t,n){return am(t,n)}function ih(t,n,e,r,s){if(null!=r){let i,o=!1;Wi(r)?i=r:hi(r)&&(o=!0,r=r[Ss]);const a=zr(r);0===t&&null!==e?null==s?CI(n,e,a):z1(n,e,a,s||null,!0):1===t&&null!==e?z1(n,e,a,s||null,!0):2===t?function pd(t,n,e){t.removeChild(null,n,e)}(n,a,o):3===t&&n.destroyNode(a),null!=i&&function aD(t,n,e,r,s){const i=e[Ea];i!==zr(e)&&ih(n,t,r,i,s);for(let a=js;a<e.length;a++){const l=e[a];kf(l[Rt],l,t,n,r,i)}}(n,t,i,e,s)}}function um(t,n){return t.createComment(function Or(t){return t.replace(jn,n=>n.replace($n,Qt))}(n))}function Nf(t,n,e){return t.createElement(n,e)}function vI(t,n){n[ft].changeDetectionScheduler?.notify(9),kf(t,n,n[Ze],2,null,null)}function mI(t,n){const e=t[w1],r=n[ei];(hi(r)||n[Ms]!==r[ei][Ms])&&(t[_n]|=D2.HasTransplantedViews),null===e?t[w1]=[n]:e.push(n)}function hm(t,n){const e=t[w1],r=e.indexOf(n);e.splice(r,1)}function dd(t,n){if(t.length<=js)return;const e=js+n,r=t[e];if(r){const s=r[lc];null!==s&&s!==t&&hm(s,r),n>0&&(t[e-1][Oo]=r[Oo]);const i=Oe(t,js+n);!function QR(t,n){vI(t,n),n[Ss]=null,n[hs]=null}(r[Rt],r);const o=i[Qa];null!==o&&o.detachView(i[Rt]),r[ei]=null,r[Oo]=null,r[_n]&=-129}return r}function Ff(t,n){if(!(256&n[_n])){const e=n[Ze];e.destroyNode&&kf(t,n,e,3,null,null),function tD(t){let n=t[Go];if(!n)return dm(t[Rt],t);for(;n;){let e=null;if(hi(n))e=n[Go];else{const r=n[js];r&&(e=r)}if(!e){for(;n&&!n[Oo]&&n!==t;)hi(n)&&dm(n[Rt],n),n=n[ei];null===n&&(n=t),hi(n)&&dm(n[Rt],n),e=n&&n[Oo]}n=e}}(n)}}function dm(t,n){if(256&n[_n])return;const e=ne(null);try{n[_n]&=-129,n[_n]|=256,n[Wo]&&ae(n[Wo]),function sD(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const s=n[e[r]];if(!(s instanceof Ou)){const i=e[r+1];if(Array.isArray(i))for(let o=0;o<i.length;o+=2){const a=s[i[o]],l=i[o+1];Ta(4,a,l);try{l.call(a)}finally{Ta(5,a,l)}}else{Ta(4,s,i);try{i.call(s)}finally{Ta(5,s,i)}}}}}(t,n),function rD(t,n){const e=t.cleanup,r=n[kr];if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const o=e[i+3];o>=0?r[o]():r[-o].unsubscribe(),i+=2}else e[i].call(r[e[i+1]]);null!==r&&(n[kr]=null);const s=n[Ll];if(null!==s){n[Ll]=null;for(let i=0;i<s.length;i++)(0,s[i])()}}(t,n),1===n[Rt].type&&n[Ze].destroy();const r=n[lc];if(null!==r&&Wi(n[ei])){r!==n[ei]&&hm(r,n);const s=n[Qa];null!==s&&s.detachView(t)}mf(n)}finally{ne(e)}}function pm(t,n,e){return function wI(t,n,e){let r=n;for(;null!==r&&168&r.type;)r=(n=r).parent;if(null===r)return e[Ss];{const{componentOffset:s}=r;if(s>-1){const{encapsulation:i}=t.data[r.directiveStart+s];if(i===Ei.None||i===Ei.Emulated)return null}return Ki(r,e)}}(t,n.parent,e)}function z1(t,n,e,r,s){t.insertBefore(n,e,r,s)}function CI(t,n,e){t.appendChild(n,e)}function yI(t,n,e,r,s){null!==r?z1(t,n,e,r,s):CI(t,n,e)}function fm(t,n){return t.parentNode(n)}function II(t,n,e){return bI(t,n,e)}let gm,bI=function AI(t,n,e){return 40&t.type?Ki(t,e):null};function Pf(t,n,e,r){const s=pm(t,r,n),i=n[Ze],a=II(r.parent||n[hs],r,n);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)yI(i,s,e[l],a,!1);else yI(i,s,e,a,!1);void 0!==gm&&gm(i,r,n,e,s)}function V1(t,n){if(null!==n){const e=n.type;if(3&e)return Ki(n,t);if(4&e)return vm(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return V1(t,r);{const s=t[n.index];return Wi(s)?vm(-1,s):zr(s)}}if(128&e)return V1(t,n.next);if(32&e)return lm(n,t)()||zr(t[n.index]);{const r=SI(t,n);return null!==r?Array.isArray(r)?r[0]:V1(tl(t[Ms]),r):V1(t,n.next)}}return null}function SI(t,n){return null!==n?t[Ms][hs].projection[n.projection]:null}function vm(t,n){const e=js+t+1;if(e<n.length){const r=n[e],s=r[Rt].firstChild;if(null!==s)return V1(r,s)}return n[Ea]}function mm(t,n,e,r,s,i,o){for(;null!=e;){if(128===e.type){e=e.next;continue}const a=r[e.index],l=e.type;if(o&&0===n&&(a&&Zi(zr(a),r),e.flags|=2),32&~e.flags)if(8&l)mm(t,n,e.child,r,s,i,!1),ih(n,t,s,a,i);else if(32&l){const c=lm(e,r);let u;for(;u=c();)ih(n,t,s,u,i);ih(n,t,s,a,i)}else 16&l?_I(t,n,r,e,s,i):ih(n,t,s,a,i);e=o?e.projectionNext:e.next}}function kf(t,n,e,r,s,i){mm(e,r,t.firstChild,n,s,i,!1)}function _I(t,n,e,r,s,i){const o=e[Ms],l=o[hs].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ih(n,t,s,l[c],i);else{let c=l;const u=o[ei];$u(r)&&(c.flags|=128),mm(t,n,c,u,s,i,!0)}}function HI(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function zI(t,n,e){const{mergedAttrs:r,classes:s,styles:i}=e;null!==r&&l1(t,n,r),null!==s&&HI(t,n,s),null!==i&&function cD(t,n,e){t.setAttribute(n,"style",e)}(t,n,i)}const Yn={};function kt(t=1){VI(sr(),dt(),Li()+t,!1)}function VI(t,n,e,r){if(!r)if(3&~n[_n]){const i=t.preOrderHooks;null!==i&&Z2(n,i,0,e)}else{const i=t.preOrderCheckHooks;null!==i&&W2(n,i,e)}dc(e)}function Zt(t,n=or.Default){const e=dt();return null===e?Ye(t,n):J3(Ur(),e,En(t),n)}function EI(t,n,e,r,s,i){const o=ne(null);try{let a=null;s&za.SignalBased&&(a=n[r][Se]),null!==a&&void 0!==a.transformFn&&(i=a.transformFn(i)),s&za.HasDecoratorInputTransform&&(i=t.inputTransforms[r].call(n,i)),null!==t.setInput?t.setInput(n,a,i,e,r):w3(n,a,r,i)}finally{ne(o)}}function Of(t,n,e,r,s,i,o,a,l,c,u){const h=n.blueprint.slice();return h[Ss]=s,h[_n]=204|r,(null!==c||t&&2048&t[_n])&&(h[_n]|=2048),x3(h),h[ei]=h[Gi]=t,h[dn]=e,h[ft]=o||t&&t[ft],h[Ze]=a||t&&t[Ze],h[yn]=l||t&&t[yn]||null,h[hs]=i,h[m1]=function Cy(){return wy++}(),h[Lt]=u,h[p3]=c,h[Ms]=2==n.type?t[Ms]:h,h}function E1(t,n,e,r,s){let i=t.data[n];if(null===i)i=function wm(t,n,e,r,s){const i=z3(),o=Zp(),l=t.data[n]=function wD(t,n,e,r,s,i){let o=n?n.injectorIndex:-1,a=0;return hc()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:s,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?i:i&&i.parent,e,n,r,s);return null===t.firstChild&&(t.firstChild=l),null!==i&&(o?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(t,n,e,r,s),function _7(){return kn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=e,i.value=r,i.attrs=s;const o=function Pu(){const t=kn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===o?-1:o.injectorIndex}return ca(i,!0),i}function fd(t,n,e,r){if(0===e)return-1;const s=n.length;for(let i=0;i<e;i++)n.push(r),t.blueprint.push(r),t.data.push(null);return s}function TI(t,n,e,r,s){const i=Li(),o=2&r;try{dc(-1),o&&n.length>wn&&VI(t,n,wn,!1),Ta(o?2:0,s),e(r,s)}finally{dc(i),Ta(o?3:1,s)}}function Cm(t,n,e){if(Dp(n)){const r=ne(null);try{const i=n.directiveEnd;for(let o=n.directiveStart;o<i;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{ne(r)}}}function ym(t,n,e){H3()&&(function SD(t,n,e,r){const s=e.directiveStart,i=e.directiveEnd;cc(e)&&function TD(t,n,e){const r=Ki(n,t),s=LI(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=Gf(t,Of(t,s,null,o,r,n,null,t[ft].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=a}(n,e,t.data[s+e.componentOffset]),t.firstCreatePass||U2(e,n),Zi(r,n);const o=e.initialInputs;for(let a=s;a<i;a++){const l=t.data[a],c=fc(n,t,a,e);Zi(c,n),null!==o&&LD(0,a-s,c,l,0,o),la(l)&&(Mo(e.index,n)[dn]=fc(n,t,a,e))}}(t,n,e,Ki(e,n)),!(64&~e.flags)&&FI(t,n,e))}function Im(t,n,e=Ki){const r=n.localNames;if(null!==r){let s=n.index+1;for(let i=0;i<r.length;i+=2){const o=r[i+1],a=-1===o?e(n,t):t[o];t[s++]=a}}}function LI(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Am(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Am(t,n,e,r,s,i,o,a,l,c,u){const h=wn+r,d=h+s,p=function dD(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:Yn);return e}(h,d),v="function"==typeof c?c():c;return p[Rt]={type:t,blueprint:p,template:e,queries:null,viewQuery:a,declTNode:n,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}let RI=()=>null;function DI(t,n,e,r,s){for(let i in n){if(!n.hasOwnProperty(i))continue;const o=n[i];if(void 0===o)continue;r??={};let a,l=za.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=i;if(null!==s){if(!s.hasOwnProperty(i))continue;c=s[i]}0===t?BI(r,e,c,a,l):BI(r,e,c,a)}return r}function BI(t,n,e,r,s){let i;t.hasOwnProperty(e)?(i=t[e]).push(n,r):i=t[e]=[n,r],void 0!==s&&i.push(s)}function Vo(t,n,e,r,s,i,o,a){const l=Ki(n,e);let u,c=n.inputs;!a&&null!=c&&(u=c[r])?(_m(t,e,u,r,s),cc(n)&&function ID(t,n){const e=Mo(n,t);16&e[_n]||(e[_n]|=64)}(e,n.index)):3&n.type&&(r=function yD(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),s=null!=o?o(s,n.value||"",r):s,i.setProperty(l,r,s))}function bm(t,n,e,r){if(H3()){const s=null===r?null:{"":-1},i=function _D(t,n){const e=t.directiveRegistry;let r=null,s=null;if(e)for(let i=0;i<e.length;i++){const o=e[i];if(M2(n,o.selectors,!1))if(r||(r=[]),la(o))if(null!==o.findHostDirectiveDefs){const a=[];s=s||new Map,o.findHostDirectiveDefs(o,a,s),r.unshift(...a,o),xm(t,n,a.length)}else r.unshift(o),xm(t,n,0);else s=s||new Map,o.findHostDirectiveDefs?.(o,r,s),r.push(o)}return null===r?null:[r,s]}(t,e);let o,a;null===i?o=a=null:[o,a]=i,null!==o&&NI(t,n,e,o,s,a),s&&function HD(t,n,e){if(n){const r=t.localNames=[];for(let s=0;s<n.length;s+=2){const i=e[n[s+1]];if(null==i)throw new $e(-301,!1);r.push(n[s],i)}}}(e,r,s)}e.mergedAttrs=sc(e.mergedAttrs,e.attrs)}function NI(t,n,e,r,s,i){for(let c=0;c<r.length;c++)rf(U2(e,n),t,r[c].type);!function VD(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=fd(t,n,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];e.mergedAttrs=sc(e.mergedAttrs,u.hostAttrs),ED(t,e,n,l,u),zD(l,u,s),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function CD(t,n,e){const s=n.directiveEnd,i=t.data,o=n.attrs,a=[];let l=null,c=null;for(let u=n.directiveStart;u<s;u++){const h=i[u],d=e?e.get(h):null,v=d?d.outputs:null;l=DI(0,h.inputs,u,l,d?d.inputs:null),c=DI(1,h.outputs,u,c,v);const b=null===l||null===o||u1(n)?null:RD(l,u,o);a.push(b)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}(t,e,i)}function FI(t,n,e){const r=e.directiveStart,s=e.directiveEnd,i=e.index,o=function z7(){return kn.lFrame.currentDirectiveIndex}();try{dc(i);for(let a=r;a<s;a++){const l=t.data[a],c=n[a];Up(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&MD(l,c)}}finally{dc(-1),Up(o)}}function MD(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function xm(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function zD(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;la(n)&&(e[""]=t)}}function ED(t,n,e,r,s){t.data[r]=s;const i=s.factory||(s.factory=Vl(s.type)),o=new Ou(i,la(s),Zt);t.blueprint[r]=o,e[r]=o,function bD(t,n,e,r,s){const i=s.hostBindings;if(i){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~n.index;(function xD(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,r,i)}}(t,n,r,fd(t,e,s.hostVars,Yn),s)}function LD(t,n,e,r,s,i){const o=i[n];if(null!==o)for(let a=0;a<o.length;)EI(r,e,o[a++],o[a++],o[a++],o[a++])}function RD(t,n,e){let r=null,s=0;for(;s<e.length;){const i=e[s];if(0!==i)if(5!==i){if("number"==typeof i)break;if(t.hasOwnProperty(i)){null===r&&(r=[]);const o=t[i];for(let a=0;a<o.length;a+=3)if(o[a]===n){r.push(i,o[a+1],o[a+2],e[s+1]);break}}s+=2}else s+=2;else s+=4}return r}function PI(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function kI(t,n){const e=t.contentQueries;if(null!==e){const r=ne(null);try{for(let s=0;s<e.length;s+=2){const o=e[s+1];if(-1!==o){const a=t.data[o];O2(e[s]),a.contentQueries(2,n[o],o)}}}finally{ne(r)}}}function Gf(t,n){return t[Go]?t[Hr][Oo]=n:t[Go]=n,t[Hr]=n,n}function Mm(t,n,e){O2(0);const r=ne(null);try{n(t,e)}finally{ne(r)}}function OI(t){return t[kr]??=[]}function GI(t){return t.cleanup??=[]}function Wf(t,n){const e=t[yn],r=e?e.get(Da,null):null;r&&r.handleError(n)}function _m(t,n,e,r,s){for(let i=0;i<e.length;){const o=e[i++],a=e[i++],l=e[i++];EI(t.data[o],n[o],r,a,l,s)}}function DD(t,n){const e=Mo(n,t),r=e[Rt];!function BD(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const s=e[Ss];null!==s&&null===e[Lt]&&(e[Lt]=Mf(s,e[yn])),Hm(r,e,e[dn])}function Hm(t,n,e){Yp(n);try{const r=t.viewQuery;null!==r&&Mm(1,r,e);const s=t.template;null!==s&&TI(t,n,s,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Qa]?.finishViewCreation(t),t.staticContentQueries&&kI(t,n),t.staticViewQueries&&Mm(2,t.viewQuery,e);const i=t.components;null!==i&&function ND(t,n){for(let e=0;e<n.length;e++)DD(t,n[e])}(n,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[_n]&=-5,Kp()}}function oh(t,n,e,r){const s=ne(null);try{const i=n.tView,l=Of(t,i,e,4096&t[_n]?4096:16,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[lc]=t[n.index];const u=t[Qa];return null!==u&&(l[Qa]=u.createEmbeddedView(i)),Hm(i,l,e),l}finally{ne(s)}}function T1(t,n){return!n||null===n.firstChild||$u(t)}function ah(t,n,e,r=!0){const s=n[Rt];if(function nD(t,n,e,r){const s=js+r,i=e.length;r>0&&(e[s-1][Oo]=n),r<i-js?(n[Oo]=e[s],El(e,js+r,n)):(e.push(n),n[Oo]=null),n[ei]=e;const o=n[lc];null!==o&&e!==o&&mI(o,n);const a=n[Qa];null!==a&&a.insertView(t),Op(n),n[_n]|=128}(s,n,t,e),r){const o=vm(e,t),a=n[Ze],l=fm(a,t[Ea]);null!==l&&function eD(t,n,e,r,s,i){r[Ss]=s,r[hs]=n,kf(t,r,e,1,s,i)}(s,t[hs],a,n,l,o)}const i=n[Lt];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function gd(t,n,e,r,s=!1){for(;null!==e;){if(128===e.type){e=s?e.projectionNext:e.next;continue}const i=n[e.index];null!==i&&r.push(zr(i)),Wi(i)&&jI(i,r);const o=e.type;if(8&o)gd(t,n,e.child,r);else if(32&o){const a=lm(e,n);let l;for(;l=a();)r.push(l)}else if(16&o){const a=SI(n,e);if(Array.isArray(a))r.push(...a);else{const l=tl(n[Ms]);gd(l[Rt],l,a,r,!0)}}e=s?e.projectionNext:e.next}return r}function jI(t,n){for(let e=js;e<t.length;e++){const r=t[e],s=r[Rt].firstChild;null!==s&&gd(r[Rt],r,s,n)}t[Ea]!==t[Ss]&&n.push(t[Ea])}let UI=[];const OD={..._e,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{F2(t.lView)},consumerOnSignalRead(){this.lView[Wo]=this}},WD={..._e,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=tl(t.lView);for(;n&&!$I(n[Rt]);)n=tl(n);n&&S3(n)},consumerOnSignalRead(){this.lView[Wo]=this}};function $I(t){return 2!==t.type}const ZD=100;function Zf(t,n=!0,e=0){const r=t[ft],s=r.rendererFactory;s.begin?.();try{!function jD(t,n){const e=T3();try{L3(!0),Vm(t,n);let r=0;for(;N2(t);){if(r===ZD)throw new $e(103,!1);r++,Vm(t,1)}}finally{L3(e)}}(t,e)}catch(o){throw n&&Wf(t,o),o}finally{s.end?.(),r.inlineEffectRunner?.flush()}}function UD(t,n,e,r){const s=n[_n];if(!(256&~s))return;n[ft].inlineEffectRunner?.flush(),Yp(n);let a=!0,l=null,c=null;$I(t)?(c=function FD(t){return t[Wo]??function PD(t){const n=UI.pop()??Object.create(OD);return n.lView=t,n}(t)}(n),l=oe(c)):null===function H(){return ge}()?(a=!1,c=function GD(t){const n=t[Wo]??Object.create(WD);return n.lView=t,n}(n),l=oe(c)):n[Wo]&&(ae(n[Wo]),n[Wo]=null);try{x3(n),function R3(t){return kn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&TI(t,n,e,2,r);const u=!(3&~s);if(u){const p=t.preOrderCheckHooks;null!==p&&W2(n,p,null)}else{const p=t.preOrderHooks;null!==p&&Z2(n,p,0,null),Jp(n,0)}if(function $D(t){for(let n=Sv(t);null!==n;n=Mv(n)){if(!(n[_n]&D2.HasTransplantedViews))continue;const e=n[w1];for(let r=0;r<e.length;r++)S3(e[r])}}(n),YI(n,0),null!==t.contentQueries&&kI(t,n),u){const p=t.contentCheckHooks;null!==p&&W2(n,p)}else{const p=t.contentHooks;null!==p&&Z2(n,p,1),Jp(n,1)}!function hD(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)dc(~s);else{const i=s,o=e[++r],a=e[++r];H7(o,i),a(2,n[i])}}}finally{dc(-1)}}(t,n);const h=t.components;null!==h&&JI(n,h,0);const d=t.viewQuery;if(null!==d&&Mm(2,d,r),u){const p=t.viewCheckHooks;null!==p&&W2(n,p)}else{const p=t.viewHooks;null!==p&&Z2(n,p,2),Jp(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[L2]){for(const p of n[L2])p();n[L2]=null}n[_n]&=-73}catch(u){throw F2(n),u}finally{null!==c&&(X(c,l),a&&function kD(t){t.lView[Wo]!==t&&(t.lView=null,UI.push(t))}(c)),Kp()}}function YI(t,n){for(let e=Sv(t);null!==e;e=Mv(e))for(let r=js;r<e.length;r++)KI(e[r],n)}function XD(t,n,e){KI(Mo(n,t),e)}function KI(t,n){kp(t)&&Vm(t,n)}function Vm(t,n){const r=t[Rt],s=t[_n],i=t[Wo];let o=!!(0===n&&16&s);if(o||=!!(64&s&&0===n),o||=!!(1024&s),o||=!(!i?.dirty||!D(i)),o||=!1,i&&(i.dirty=!1),t[_n]&=-9217,o)UD(r,t,r.template,t[dn]);else if(8192&s){YI(t,1);const a=r.components;null!==a&&JI(t,a,1)}}function JI(t,n,e){for(let r=0;r<n.length;r++)XD(t,n[r],e)}function vd(t,n){const e=T3()?64:1088;for(t[ft].changeDetectionScheduler?.notify(n);t;){t[_n]|=e;const r=tl(t);if(Bu(t)&&!r)return t;t=r}return null}class md{get rootNodes(){const n=this._lView,e=n[Rt];return gd(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dn]}set context(n){this._lView[dn]=n}get destroyed(){return!(256&~this._lView[_n])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[ei];if(Wi(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(dd(n,r),Oe(e,r))}this._attachedToViewContainer=!1}Ff(this._lView[Rt],this._lView)}onDestroy(n){P2(this._lView,n)}markForCheck(){vd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[_n]&=-129}reattach(){Op(this._lView),this._lView[_n]|=128}detectChanges(){this._lView[_n]|=1024,Zf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Bu(this._lView),e=this._lView[lc];null!==e&&!n&&hm(e,this._lView),vI(this._lView[Rt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new $e(902,!1);this._appRef=n;const e=Bu(this._lView),r=this._lView[lc];null!==r&&!e&&mI(r,this._lView),Op(this._lView)}}let Pl=(()=>{class t{static{this.__NG_ELEMENT_ID__=JD}}return t})();const YD=Pl,KD=class extends YD{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){const s=oh(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new md(s)}};function JD(){return jf(Ur(),dt())}function jf(t,n){return 4&t.type?new KD(n,t,A1(t,n)):null}let wA=()=>null;function R1(t,n){return wA(t,n)}class ch{}const Sd=new Pt("",{providedIn:"root",factory:()=>!1}),CA=new Pt(""),Om=new Pt("");class WB{}class yA{}class jB{resolveComponentFactory(n){throw function ZB(t){const n=Error(`No component factory found for ${Zs(t)}.`);return n.ngComponent=t,n}(n)}}class Jf{static{this.NULL=new jB}}class Gm{}let Ic=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function UB(){const t=dt(),e=Mo(Ur().index,t);return(hi(e)?e:t)[Ze]}()}}return t})(),$B=(()=>{class t{static{this.\u0275prov=Wt({token:t,providedIn:"root",factory:()=>null})}}return t})();function Qf(t,n,e){let r=e?t.styles:null,s=e?t.classes:null,i=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?i=a:1==i?s=fu(s,a):2==i&&(r=fu(r,a+": "+n[++o]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=s:t.classesWithoutHost=s}class xA extends Jf{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=bn(n);return new Hd(e,this.ngModule)}}function SA(t,n){const e=[];for(const r in t){if(!t.hasOwnProperty(r))continue;const s=t[r];if(void 0===s)continue;const i=Array.isArray(s),o=i?s[0]:s;e.push(n?{propName:o,templateName:r,isSignal:!!((i?s[1]:za.None)&za.SignalBased)}:{propName:o,templateName:r})}return e}class Hd extends yA{get inputs(){const n=this.componentDef,e=n.inputTransforms,r=SA(n.inputs,!0);if(null!==e)for(const s of r)e.hasOwnProperty(s.propName)&&(s.transform=e[s.propName]);return r}get outputs(){return SA(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function _p(t){return t.map(Mp).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,s){const i=ne(null);try{let o=(s=s||this.ngModule)instanceof ko?s:s?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new pc(n,o):n,l=a.get(Gm,null);if(null===l)throw new $e(407,!1);const h={rendererFactory:l,sanitizer:a.get($B,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(ch,null)},d=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",v=r?function pD(t,n,e,r){const i=r.get(jv,!1)||e===Ei.ShadowDom,o=t.selectRootElement(n,i);return function fD(t){RI(t)}(o),o}(d,r,this.componentDef.encapsulation,a):Nf(d,p,function KB(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(p));let b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let _=null;null!==v&&(_=Mf(v,a,!0));const z=Am(0,null,null,1,0,null,null,null,null,null,null),N=Of(null,z,null,b,null,null,h,d,a,null,_);Yp(N);let me,fe,we=null;try{const ee=this.componentDef;let Ie,Be=null;ee.findHostDirectiveDefs?(Ie=[],Be=new Map,ee.findHostDirectiveDefs(ee,Ie,Be),Ie.push(ee)):Ie=[ee];const qe=function qB(t,n){const e=t[Rt],r=wn;return t[r]=n,E1(e,r,2,"#host",null)}(N,v);we=function QB(t,n,e,r,s,i,o){const a=s[Rt];!function eN(t,n,e,r){for(const s of t)n.mergedAttrs=sc(n.mergedAttrs,s.hostAttrs);null!==n.mergedAttrs&&(Qf(n,n.mergedAttrs,!0),null!==e&&zI(r,e,n))}(r,t,n,o);let l=null;null!==n&&(l=Mf(n,s[yn]));const c=i.rendererFactory.createRenderer(n,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const h=Of(s,LI(e),null,u,s[t.index],t,i,c,null,null,l);return a.firstCreatePass&&xm(a,t,r.length-1),Gf(s,h),s[t.index]=h}(qe,v,ee,Ie,N,h,d),fe=Fu(z,wn),v&&function nN(t,n,e,r){if(r)l1(t,e,["ng-version","18.2.13"]);else{const{attrs:s,classes:i}=function Hp(t){const n=[],e=[];let r=1,s=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===s?""!==i&&n.push(i,t[++r]):8===s&&e.push(i);else{if(!lo(s))break;s=i}r++}return{attrs:n,classes:e}}(n.selectors[0]);s&&l1(t,e,s),i&&i.length>0&&HI(t,e,i.join(" "))}}(d,ee,v,r),void 0!==e&&function rN(t,n,e){const r=t.projection=[];for(let s=0;s<n.length;s++){const i=e[s];r.push(null!=i?Array.from(i):null)}}(fe,this.ngContentSelectors,e),me=function tN(t,n,e,r,s,i){const o=Ur(),a=s[Rt],l=Ki(o,s);NI(a,s,o,e,null,r);for(let u=0;u<e.length;u++)Zi(fc(s,a,o.directiveStart+u,o),s);FI(a,s,o),l&&Zi(l,s);const c=fc(s,a,o.directiveStart+o.componentOffset,o);if(t[dn]=s[dn]=c,null!==i)for(const u of i)u(c,n);return Cm(a,o,s),c}(we,ee,Ie,Be,N,[sN]),Hm(z,N,null)}catch(ee){throw null!==we&&mf(we),mf(N),ee}finally{Kp()}return new JB(this.componentType,me,A1(fe,N),N,fe)}finally{ne(i)}}}class JB extends WB{constructor(n,e,r,s,i){super(),this.location=r,this._rootLView=s,this._tNode=i,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new md(s,void 0,!1),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let s;if(null!==r&&(s=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const i=this._rootLView;_m(i[Rt],i,s,n,e),this.previousInputValues.set(n,e),vd(Mo(this._tNode.index,i),1)}}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function sN(){const t=Ur();G2(dt()[Rt],t)}let fl=(()=>{class t{static{this.__NG_ELEMENT_ID__=iN}}return t})();function iN(){return HA(Ur(),dt())}const oN=fl,MA=class extends oN{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return A1(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){const n=$2(this._hostTNode,this._hostLView);if(ef(n)){const e=Wu(n,this._hostLView),r=Gu(n);return new di(e[Rt].data[r+8],e)}return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=_A(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-js}createEmbeddedView(n,e,r){let s,i;"number"==typeof r?s=r:null!=r&&(s=r.index,i=r.injector);const o=R1(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},i,o);return this.insertImpl(a,s,T1(this._hostTNode,o)),a}createComponent(n,e,r,s,i){const o=n&&!function Ru(t){return"function"==typeof t}(n);let a;if(o)a=e;else{const v=e||{};a=v.index,r=v.injector,s=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef}const l=o?n:new Hd(bn(n)),c=r||this.parentInjector;if(!i&&null==l.ngModule){const b=(o?c:this.parentInjector).get(ko,null);b&&(i=b)}const u=bn(l.componentType??{}),h=R1(this._lContainer,u?.id??null),p=l.create(c,s,h?.firstChild??null,i);return this.insertImpl(p.hostView,a,T1(this._hostTNode,h)),p}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){const s=n._lView;if(function w7(t){return Wi(t[ei])}(s)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const l=s[ei],c=new MA(l,l[hs],l[ei]);c.detach(c.indexOf(n))}}const i=this._adjustIndex(e),o=this._lContainer;return ah(o,s,i,r),n.attachToViewContainerRef(),El(jm(o),i,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=_A(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=dd(this._lContainer,e);r&&(Oe(jm(this._lContainer),e),Ff(r[Rt],r))}detach(n){const e=this._adjustIndex(n,-1),r=dd(this._lContainer,e);return r&&null!=Oe(jm(this._lContainer),e)?new md(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function _A(t){return t[8]}function jm(t){return t[8]||(t[8]=[])}function HA(t,n){let e;const r=n[t.index];return Wi(r)?e=r:(e=PI(r,n,null,t),n[t.index]=e,Gf(n,e)),zA(e,n,t,r),new MA(e,t,n)}let zA=function EA(t,n,e,r){if(t[Ea])return;let s;s=8&e.type?zr(r):function aN(t,n){const e=t[Ze],r=e.createComment(""),s=Ki(n,t);return z1(e,fm(e,s),r,function iD(t,n){return t.nextSibling(n)}(e,s),!1),r}(n,e),t[Ea]=s},Um=()=>!1;class $m{constructor(n){this.queryList=n,this.matches=null}clone(){return new $m(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xm{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,s=[];for(let i=0;i<r;i++){const o=e.getByIndex(i);s.push(this.queries[o.indexInDeclarationView].clone())}return new Xm(s)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==Qm(n,e).matches&&this.queries[e].setDirty()}}class TA{constructor(n,e,r=null){this.flags=e,this.read=r,this.predicate="string"==typeof n?function gN(t){return t.split(",").map(n=>n.trim())}(n):n}}class Ym{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const s=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(n,s);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new Ym(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Km{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Km(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const i=r[s];this.matchTNodeWithReadOption(n,e,hN(e,i)),this.matchTNodeWithReadOption(n,e,X2(e,n,i,!1,!1))}else r===Pl?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,X2(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===jo||s===fl||s===Pl&&4&e.type)this.addMatch(e.index,-2);else{const i=X2(e,n,s,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function hN(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function pN(t,n,e,r){return-1===e?function dN(t,n){return 11&t.type?A1(t,n):4&t.type?jf(t,n):null}(n,t):-2===e?function fN(t,n,e){return e===jo?A1(n,t):e===Pl?jf(n,t):e===fl?HA(n,t):void 0}(t,n,r):fc(t,t[Rt],e,n)}function LA(t,n,e,r){const s=n[Qa].queries[r];if(null===s.matches){const i=t.data,o=e.matches,a=[];for(let l=0;null!==o&&l<o.length;l+=2){const c=o[l];a.push(c<0?null:pN(n,i[c],o[l+1],e.metadata.read))}s.matches=a}return s.matches}function Jm(t,n,e,r){const s=t.queries.getByIndex(e),i=s.matches;if(null!==i){const o=LA(t,n,s,e);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)r.push(o[a/2]);else{const c=i[a+1],u=n[-l];for(let h=js;h<u.length;h++){const d=u[h];d[lc]===d[ei]&&Jm(d[Rt],d,c,r)}if(null!==u[w1]){const h=u[w1];for(let d=0;d<h.length;d++){const p=h[d];Jm(p[Rt],p,c,r)}}}}}return r}function DA(t,n,e){const r=sr();return r.firstCreatePass&&(function NA(t,n,e){null===t.queries&&(t.queries=new Ym),t.queries.track(new Km(n,e))}(r,new TA(t,n,e),-1),!(2&~n)&&(r.staticViewQueries=!0)),function RA(t,n,e){const r=new ff(!(4&~e));return function mD(t,n,e,r){const s=OI(n);s.push(e),t.firstCreatePass&&GI(t).push(r,s.length-1)}(t,n,r,r.destroy),(n[Qa]??=new Xm).queries.push(new $m(r))-1}(r,dt(),n)}function Qm(t,n){return t.queries.getByIndex(n)}function FA(t,n){const e=t[Rt],r=Qm(e,n);return r.crossesNgTemplate?Jm(e,t,n,[]):LA(e,t,r,n)}const PA=new Set;function ho(t){PA.has(t)||(PA.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function uh(t,n){ho("NgSignals");const e=function $(t){const n=Object.create(Gt);n.value=t;const e=()=>(he(n),n.value);return e[Se]=n,e}(t),r=e[Se];return n?.equal&&(r.equal=n.equal),e.set=s=>ht(r,s),e.update=s=>function Xe(t,n){se()||bt(),ht(t,n(t.value))}(r,s),e.asReadonly=OA.bind(e),e}function OA(){const t=this[Se];if(void 0===t.readonlyFn){const n=()=>this();n[Se]=t,t.readonlyFn=n}return t.readonlyFn}function GA(t){return function kA(t){return"function"==typeof t&&void 0!==t[Se]}(t)&&"function"==typeof t.set}function ns(t){let n=function QA(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let s;if(la(t))s=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new $e(903,!1);s=n.\u0275dir}if(s){if(e){r.push(s);const o=t;o.inputs=tg(t.inputs),o.inputTransforms=tg(t.inputTransforms),o.declaredInputs=tg(t.declaredInputs),o.outputs=tg(t.outputs);const a=s.hostBindings;a&&VN(t,a);const l=s.viewQuery,c=s.contentQueries;if(l&&HN(t,l),c&&zN(t,c),MN(t,s),ep(t.outputs,s.outputs),la(s)&&s.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(s.data.animation)}}const i=s.features;if(i)for(let o=0;o<i.length;o++){const a=i[o];a&&a.ngInherit&&a(t),a===ns&&(e=!1)}}n=Object.getPrototypeOf(n)}!function _N(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const s=t[r];s.hostVars=n+=s.hostVars,s.hostAttrs=sc(s.hostAttrs,e=sc(e,s.hostAttrs))}}(r)}function MN(t,n){for(const e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;const r=n.inputs[e];if(void 0!==r&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e],null!==n.inputTransforms)){const s=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(s))continue;t.inputTransforms??={},t.inputTransforms[s]=n.inputTransforms[s]}}}function tg(t){return t===Fo?{}:t===gr?[]:t}function HN(t,n){const e=t.viewQuery;t.viewQuery=e?(r,s)=>{n(r,s),e(r,s)}:n}function zN(t,n){const e=t.contentQueries;t.contentQueries=e?(r,s,i)=>{n(r,s,i),e(r,s,i)}:n}function VN(t,n){const e=t.hostBindings;t.hostBindings=e?(r,s)=>{n(r,s),e(r,s)}:n}class B1{}class NN{}class nw extends B1{constructor(n,e,r,s=!0){super(),this.ngModuleType=n,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xA(this);const i=function Si(t,n){const e=t[_u]||null;if(!e&&!0===n)throw new Error(`Type ${Zs(t)} does not have '\u0275mod' property.`);return e}(n);this._bootstrapComponents=function ni(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=co(n,e,[{provide:B1,useValue:this},{provide:Jf,useValue:this.componentFactoryResolver},...r],Zs(n),new Set(["environment"])),s&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class rw extends NN{constructor(n){super(),this.moduleType=n}create(n){return new nw(this.moduleType,n,[])}}class sb extends B1{constructor(n){super(),this.componentFactoryResolver=new xA(this),this.instance=null;const e=new p1([...n.providers,{provide:B1,useValue:this},{provide:Jf,useValue:this.componentFactoryResolver}],n.parent||E2(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ng(t){return!!sw(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function sw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function gl(t,n,e){return t[n]=e}function ri(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Ed(t,n,e,r,s,i,o,a,l,c){const u=e+wn,h=n.firstCreatePass?function ZN(t,n,e,r,s,i,o,a,l){const c=n.consts,u=E1(n,t,4,o||null,a||null);bm(n,e,u,Zo(c,l)),G2(n,u);const h=u.tView=Am(2,u,r,s,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return null!==n.queries&&(n.queries.template(n,u),h.queries=n.queries.embeddedTView(u)),u}(u,n,t,r,s,i,o,a,l):n.data[u];ca(h,!1);const d=ob(n,t,h,e);ku()&&Pf(n,t,d,h),Zi(d,t);const p=PI(d,t,d,h);return t[u]=p,Gf(t,p),function VA(t,n,e){return Um(t,n,e)}(p,h,t),B2(h)&&ym(n,t,h),null!=l&&Im(t,h,c),h}function fi(t,n,e,r,s,i,o,a){const l=dt(),c=sr();return Ed(l,c,t,n,e,r,s,Zo(c.consts,i),o,a),fi}let ob=function ab(t,n,e,r){return La(!0),n[Ze].createComment("")};var fh=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(fh||{});let pb=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Wt({token:t,providedIn:"root",factory:()=>new t})}}return t})();class Rd{constructor(){this.ngZone=ke($r),this.scheduler=ke(ch),this.errorHandler=ke(Da,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[fh.EarlyRead,fh.Write,fh.MixedReadWrite,fh.Read]}execute(){this.executing=!0;for(const n of Rd.PHASES)for(const e of this.sequences)if(!e.erroredOrDestroyed&&e.hooks[n])try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[n](e.pipelinedValue))}catch(r){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=Wt({token:Rd,providedIn:"root",factory:()=>new Rd})}}function cg(t,n){return t<<17|n<<2}function xc(t){return t>>17&32767}function vw(t){return 2|t}function P1(t){return(131068&t)>>2}function mw(t,n){return-131069&t|n<<2}function ww(t){return 1|t}function Ob(t,n,e,r){const s=t[e+1],i=null===n;let o=r?xc(s):P1(s),a=!1;for(;0!==o&&(!1===a||i);){const c=t[o+1];TF(t[o],n)&&(a=!0,t[o+1]=r?ww(c):vw(c)),o=r?xc(c):P1(c)}a&&(t[e+1]=r?vw(s):ww(s))}function TF(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Tl(t,n)>=0}const _i={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Gb(t){return t.substring(_i.key,_i.keyEnd)}function Wb(t,n){const e=_i.textEnd;return e===n?-1:(n=_i.keyEnd=function BF(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,_i.key=n,e),zh(t,n,e))}function zh(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function It(t,n,e){const r=dt();return ri(r,ua(),n)&&Vo(sr(),ds(),r,t,n,r[Ze],e,!1),It}function Cw(t,n,e,r,s){const o=s?"class":"style";_m(t,e,n.inputs[o],o,r)}function yw(t,n,e){return Na(t,n,e,!1),yw}function ug(t,n){return Na(t,n,null,!0),ug}function Xb(t){!function Fa(t,n,e,r){const s=sr(),i=sl(2);s.firstUpdatePass&&Kb(s,null,i,r);const o=dt();if(e!==Yn&&ri(o,i,e)){const a=s.data[Li()];if(ex(a,r)&&!Yb(s,i)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=fu(l,e||"")),Cw(s,a,o,e,r)}else!function UF(t,n,e,r,s,i,o,a){s===Yn&&(s=gr);let l=0,c=0,u=0<s.length?s[0]:null,h=0<i.length?i[0]:null;for(;null!==u||null!==h;){const d=l<s.length?s[l+1]:void 0,p=c<i.length?i[c+1]:void 0;let b,v=null;u===h?(l+=2,c+=2,d!==p&&(v=h,b=p)):null===h||null!==u&&u<h?(l+=2,v=u):(c+=2,v=h,b=p),null!==v&&qb(t,n,e,r,v,b,o,a),u=l<s.length?s[l]:null,h=c<i.length?i[c]:null}}(s,a,o,o[Ze],o[i+1],o[i+1]=function ZF(t,n,e){if(null==e||""===e)return gr;const r=[],s=Nl(e);if(Array.isArray(s))for(let i=0;i<s.length;i++)t(r,s[i],!0);else if("object"==typeof s)for(const i in s)s.hasOwnProperty(i)&&t(r,i,s[i]);else"string"==typeof s&&n(r,s);return r}(t,n,e),r,i)}}(jF,ml,t,!0)}function ml(t,n){for(let e=function RF(t){return function jb(t){_i.key=0,_i.keyEnd=0,_i.value=0,_i.valueEnd=0,_i.textEnd=t.length}(t),Wb(t,zh(t,0,_i.textEnd))}(n);e>=0;e=Wb(n,e))Bt(t,Gb(n),!0)}function Na(t,n,e,r){const s=dt(),i=sr(),o=sl(2);i.firstUpdatePass&&Kb(i,t,o,r),n!==Yn&&ri(s,o,n)&&qb(i,i.data[Li()],s,s[Ze],t,s[o+1]=function $F(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Zs(Nl(t)))),t}(n,e),r,o)}function Yb(t,n){return n>=t.expandoStartIndex}function Kb(t,n,e,r){const s=t.data;if(null===s[e+1]){const i=s[Li()],o=Yb(t,e);ex(i,r)&&null===n&&!o&&(n=!1),n=function kF(t,n,e,r){const s=function $p(t){const n=kn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=r?n.residualClasses:n.residualStyles;if(null===s)0===(r?n.classBindings:n.styleBindings)&&(e=Bd(e=Iw(null,t,n,e,r),n.attrs,r),i=null);else{const o=n.directiveStylingLast;if(-1===o||t[o]!==s)if(e=Iw(s,t,n,e,r),null===i){let l=function OF(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==P1(r))return t[xc(r)]}(t,n,r);void 0!==l&&Array.isArray(l)&&(l=Iw(null,t,n,l[1],r),l=Bd(l,n.attrs,r),function GF(t,n,e,r){t[xc(e?n.classBindings:n.styleBindings)]=r}(t,n,r,l))}else i=function WF(t,n,e){let r;const s=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<s;i++)r=Bd(r,t[i].hostAttrs,e);return Bd(r,n.attrs,e)}(t,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),e}(s,i,n,r),function VF(t,n,e,r,s,i){let o=i?n.classBindings:n.styleBindings,a=xc(o),l=P1(o);t[r]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||Tl(e,u)>0)&&(c=!0)):u=e,s)if(0!==l){const d=xc(t[a+1]);t[r+1]=cg(d,a),0!==d&&(t[d+1]=mw(t[d+1],r)),t[a+1]=function HF(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=cg(a,0),0!==a&&(t[a+1]=mw(t[a+1],r)),a=r;else t[r+1]=cg(l,0),0===a?a=r:t[l+1]=mw(t[l+1],r),l=r;c&&(t[r+1]=vw(t[r+1])),Ob(t,u,r,!0),Ob(t,u,r,!1),function EF(t,n,e,r,s){const i=s?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&Tl(i,n)>=0&&(e[r+1]=ww(e[r+1]))}(n,u,t,r,i),o=cg(a,l),i?n.classBindings=o:n.styleBindings=o}(s,i,n,e,o,r)}}function Iw(t,n,e,r,s){let i=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(i=n[a],r=Bd(r,i.hostAttrs,s),i!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function Bd(t,n,e){const r=e?1:2;let s=-1;if(null!==n)for(let i=0;i<n.length;i++){const o=n[i];"number"==typeof o?s=o:s===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Bt(t,o,!!e||n[++i]))}return void 0===t?null:t}function jF(t,n,e){const r=String(n);""!==r&&!r.includes(" ")&&Bt(t,r,e)}function qb(t,n,e,r,s,i,o,a){if(!(3&n.type))return;const l=t.data,c=l[a+1],u=function zF(t){return!(1&~t)}(c)?Qb(l,n,e,s,P1(c),o):void 0;hg(u)||(hg(i)||function _F(t){return!(2&~t)}(c)&&(i=Qb(l,null,e,s,a,o)),function lD(t,n,e,r,s){if(n)s?t.addClass(e,r):t.removeClass(e,r);else{let i=-1===r.indexOf("-")?void 0:yc.DashCase;null==s?t.removeStyle(e,r,i):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),i|=yc.Important),t.setStyle(e,r,s,i))}}(r,o,Nu(Li(),e),s,i))}function Qb(t,n,e,r,s,i){const o=null===n;let a;for(;s>0;){const l=t[s],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let d=e[s+1];d===Yn&&(d=h?gr:void 0);let p=h?Lu(d,r):u===r?d:void 0;if(c&&!hg(p)&&(p=Lu(l,r)),hg(p)&&(a=p,o))return a;const v=t[s+1];s=o?xc(v):P1(v)}if(null!==n){let l=i?n.residualClasses:n.residualStyles;null!=l&&(a=Lu(l,r))}return a}function hg(t){return void 0!==t}function ex(t,n){return!!(t.flags&(n?8:16))}function Vt(t,n,e,r){const s=dt(),i=sr(),o=wn+t,a=s[Ze],l=i.firstCreatePass?function vP(t,n,e,r,s,i){const o=n.consts,l=E1(n,t,2,r,Zo(o,s));return bm(n,e,l,Zo(o,i)),null!==l.attrs&&Qf(l,l.attrs,!1),null!==l.mergedAttrs&&Qf(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(o,i,s,n,e,r):i.data[o],c=sx(i,s,l,a,n,t);s[o]=c;const u=B2(l);return ca(l,!0),zI(a,c,l),!function dh(t){return!(32&~t.flags)}(l)&&ku()&&Pf(i,s,c,l),0===function C7(){return kn.lFrame.elementDepthCount}()&&Zi(c,s),function y7(){kn.lFrame.elementDepthCount++}(),u&&(ym(i,s,l),Cm(i,l,s)),null!==r&&Im(s,l),Vt}function Ht(){let t=Ur();Zp()?jp():(t=t.parent,ca(t,!1));const n=t;(function A7(t){return kn.skipHydrationRootTNode===t})(n)&&function M7(){kn.skipHydrationRootTNode=null}(),function I7(){kn.lFrame.elementDepthCount--}();const e=sr();return e.firstCreatePass&&(G2(e,t),Dp(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function k7(t){return!!(8&t.flags)}(n)&&Cw(e,n,dt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function O7(t){return!!(16&t.flags)}(n)&&Cw(e,n,dt(),n.stylesWithoutHost,!1),Ht}function Vh(t,n,e,r){return Vt(t,n,e,r),Ht(),Vh}let sx=(t,n,e,r,s,i)=>(La(!0),Nf(r,s,function O3(){return kn.lFrame.currentNamespace}()));function pg(t,n,e){const r=dt(),s=sr(),i=t+wn,o=s.firstCreatePass?function CP(t,n,e,r,s){const i=n.consts,o=Zo(i,r),a=E1(n,t,8,"ng-container",o);return null!==o&&Qf(a,o,!0),bm(n,e,a,Zo(i,s)),null!==n.queries&&n.queries.elementStart(n,a),a}(i,s,r,n,e):s.data[i];ca(o,!0);const a=ix(s,r,o,t);return r[i]=a,ku()&&Pf(s,r,a,o),Zi(a,r),B2(o)&&(ym(s,r,o),Cm(s,o,r)),null!=e&&Im(r,o),pg}function fg(){let t=Ur();const n=sr();return Zp()?jp():(t=t.parent,ca(t,!1)),n.firstCreatePass&&(G2(n,t),Dp(t)&&n.queries.elementEnd(t)),fg}function gg(t,n,e){return pg(t,n,e),fg(),gg}let ix=(t,n,e,r)=>(La(!0),um(n[Ze],""));function vr(){return dt()}const vg="en-US";let ux=vg,Hx=(t,n,e)=>{};function Ot(t,n,e,r){const s=dt(),i=sr(),o=Ur();return _w(i,s,s[Ze],o,t,n,r),Ot}function _w(t,n,e,r,s,i,o){const a=B2(r),c=t.firstCreatePass&&GI(t),u=n[dn],h=OI(n);let d=!0;if(3&r.type||o){const b=Ki(r,n),_=o?o(b):b,z=h.length,N=o?fe=>o(zr(fe[r.index])):r.index;let me=null;if(!o&&a&&(me=function pk(t,n,e,r){const s=t.cleanup;if(null!=s)for(let i=0;i<s.length-1;i+=2){const o=s[i];if(o===e&&s[i+1]===r){const a=n[kr],l=s[i+2];return a.length>l?a[l]:null}"string"==typeof o&&(i+=2)}return null}(t,n,s,r.index)),null!==me)(me.__ngLastListenerFn__||me).__ngNextListenerFn__=i,me.__ngLastListenerFn__=i,d=!1;else{i=Tx(r,n,u,i),Hx(b,s,i);const fe=e.listen(_,s,i);h.push(i,fe),c&&c.push(s,N,z,z+1)}}else i=Tx(r,n,u,i);const p=r.outputs;let v;if(d&&null!==p&&(v=p[s])){const b=v.length;if(b)for(let _=0;_<b;_+=2){const we=n[v[_]][v[_+1]].subscribe(i),ee=h.length;h.push(i,we),c&&c.push(s,r.index,ee,-(ee+1))}}}function Ex(t,n,e,r){const s=ne(null);try{return Ta(6,n,e),!1!==e(r)}catch(i){return Wf(t,i),!1}finally{Ta(7,n,e),ne(s)}}function Tx(t,n,e,r){return function s(i){if(i===Function)return r;vd(t.componentOffset>-1?Mo(t.index,n):n,5);let a=Ex(n,e,r,i),l=s.__ngNextListenerFn__;for(;l;)a=Ex(n,e,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function At(t=1){return function E7(t){return(kn.lFrame.contextLView=function M3(t,n){for(;t>0;)n=n[Gi],t--;return n}(t,kn.lFrame.contextLView))[dn]}(t)}function fk(t,n){let e=null;const r=function Ap(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let s=0;s<n.length;s++){const i=n[s];if("*"!==i){if(null===r?M2(t,i,!0):Sp(r,i))return s}else e=s}return e}function Hw(t){const n=dt()[Ms][hs];if(!n.projection){const r=n.projection=function n1(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}(t?t.length:1,null),s=r.slice();let i=n.child;for(;null!==i;){if(128!==i.type){const o=t?fk(i,t):0;null!==o&&(s[o]?s[o].projectionNext=i:r[o]=i,s[o]=i)}i=i.next}}}function zw(t,n=0,e,r,s,i){const o=dt(),a=sr(),l=r?t+1:null;null!==l&&Ed(o,a,l,r,s,i,null,e);const c=E1(a,wn+t,16,null,e||null);null===c.projection&&(c.projection=n),jp();const h=!o[Lt]||hc();null===o[Ms][hs].projection[c.projection]&&null!==l?function gk(t,n,e){const r=wn+e,s=n.data[r],i=t[r],o=R1(i,s.tView.ssrId);ah(i,oh(t,s,void 0,{dehydratedView:o}),0,T1(s,o))}(o,a,l):h&&32&~c.flags&&function oD(t,n,e){_I(n[Ze],0,n,e,pm(t,e,n),II(e.parent||n[hs],e,n))}(a,o,c)}function Gd(t,n,e){DA(t,n,e)}function Wd(t){const n=dt(),e=sr(),r=Xp();O2(r+1);const s=Qm(e,r);if(t.dirty&&function m7(t){return!(4&~t[_n])}(n)===!(2&~s.metadata.flags)){if(null===s.matches)t.reset([]);else{const i=FA(n,r);t.reset(i,gv),t.notifyOnChanges()}return!0}return!1}function Zd(){return function qm(t,n){return t[Qa].queries[n].queryList}(dt(),Xp())}function Sc(t){return uc(function V3(){return kn.lFrame.contextLView}(),wn+t)}function fo(t,n=""){const e=dt(),r=sr(),s=t+wn,i=r.firstCreatePass?E1(r,s,1,n,null):r.data[s],o=Jx(r,e,i,n,t);e[s]=o,ku()&&Pf(r,e,o,i),ca(i,!1)}let Jx=(t,n,e,r,s)=>(La(!0),function cm(t,n){return t.createText(n)}(n[Ze],r));function Tw(t){return Mc("",t,""),Tw}function Mc(t,n,e){const r=dt(),s=function Ih(t,n,e,r){return ri(t,ua(),e)?n+Wn(e)+r:Yn}(r,t,n,e);return s!==Yn&&function Fl(t,n,e){const r=Nu(n,t);!function gI(t,n,e){t.setValue(n,e)}(t[Ze],r,e)}(r,Li(),s),Mc}function is(t,n,e){GA(n)&&(n=n());const r=dt();return ri(r,ua(),n)&&Vo(sr(),ds(),r,t,n,r[Ze],e,!1),is}function fs(t,n){const e=GA(t);return e&&t.set(n),e}function os(t,n){const e=dt(),r=sr(),s=Ur();return _w(r,e,e[Ze],s,t,n),os}function Lw(t,n,e,r,s){if(t=En(t),Array.isArray(t))for(let i=0;i<t.length;i++)Lw(t[i],n,e,r,s);else{const i=sr(),o=dt(),a=Ur();let l=Yt(t)?t:En(t.provide);const c=c3(t),u=1048575&a.providerIndexes,h=a.directiveStart,d=a.providerIndexes>>20;if(Yt(t)||!t.multi){const p=new Ou(c,s,Zt),v=Dw(l,n,s?u:u+d,h);-1===v?(rf(U2(a,o),i,l),Rw(i,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),e.push(p),o.push(p)):(e[v]=p,o[v]=p)}else{const p=Dw(l,n,u+d,h),v=Dw(l,n,u,u+d),_=v>=0&&e[v];if(s&&!_||!s&&!(p>=0&&e[p])){rf(U2(a,o),i,l);const z=function Bk(t,n,e,r,s){const i=new Ou(t,e,Zt);return i.multi=[],i.index=n,i.componentProviders=0,lS(i,s,r&&!e),i}(s?Dk:Rk,e.length,s,r,c);!s&&_&&(e[v].providerFactory=z),Rw(i,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),e.push(z),o.push(z)}else Rw(i,t,p>-1?p:v,lS(e[s?v:p],c,!s&&r));!s&&r&&_&&e[v].componentProviders++}}}function Rw(t,n,e,r){const s=Yt(n),i=function Rr(t){return!!t.useClass}(n);if(s||i){const l=(i?En(n.useClass):n).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!s&&n.multi){const u=c.indexOf(e);-1===u?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function lS(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Dw(t,n,e,r){for(let s=e;s<r;s++)if(n[s]===t)return s;return-1}function Rk(t,n,e,r){return Bw(this.multi,[])}function Dk(t,n,e,r){const s=this.multi;let i;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=fc(e,e[Rt],this.providerFactory.index,r);i=a.slice(0,o),Bw(s,i);for(let l=o;l<a.length;l++)i.push(a[l])}else i=[],Bw(s,i);return i}function Bw(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Es(t,n=[]){return e=>{e.providersResolver=(r,s)=>function Lk(t,n,e){const r=sr();if(r.firstCreatePass){const s=la(t);Lw(e,r.data,r.blueprint,s,!0),Lw(n,r.data,r.blueprint,s,!1)}}(r,s?s(t):t,n)}}let Nk=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const r=ac(0,e.type),s=r.length>0?function ib(t,n,e=null){return new sb({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,s)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Wt({token:t,providedIn:"environment",factory:()=>new t(Ye(ko))})}}return t})();function Nw(t){ho("NgStandalone"),t.getStandaloneInjector=n=>n.get(Nk).getOrCreateStandaloneInjector(t)}function To(t,n,e){const r=Ji()+t,s=dt();return s[r]===Yn?gl(s,r,e?n.call(e):n()):function Vd(t,n){return t[n]}(s,r)}function Ag(t,n,e,r){return hS(dt(),Ji(),t,n,e,r)}function Fw(t,n,e,r,s){return function dS(t,n,e,r,s,i,o){const a=n+e;return function N1(t,n,e,r){const s=ri(t,n,e);return ri(t,n+1,r)||s}(t,a,s,i)?gl(t,a+2,o?r.call(o,s,i):r(s,i)):jd(t,a+2)}(dt(),Ji(),t,n,e,r,s)}function jd(t,n){const e=t[n];return e===Yn?void 0:e}function hS(t,n,e,r,s,i){const o=n+e;return ri(t,o,s)?gl(t,o+1,i?r.call(i,s):r(s)):jd(t,o+1)}function mS(t,n,e){const r=t+wn,s=dt(),i=uc(s,r);return function Ud(t,n){return t[Rt].data[n].pure}(s,r)?hS(s,Ji(),n,i.transform,e,i):i.transform(e)}function _c(t,n){return jf(t,n)}const NS=new Pt(""),Mg=new Pt("");let Uw,Zw=(()=>{class t{constructor(e,r,s){this._ngZone=e,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Uw||(function UO(t){Uw=t}(s),s.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$r.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,s){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==i),e()},r)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:s})}whenStable(e,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,s),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,s){return[]}static{this.\u0275fac=function(r){return new(r||t)(Ye($r),Ye(jw),Ye(Mg))}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})(),jw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Uw?.findTestabilityInTree(this,e,r)??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function _g(t){return!!t&&"function"==typeof t.then}function FS(t){return!!t&&"function"==typeof t.subscribe}const PS=new Pt("");let kS=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=ke(PS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const s of this.appInits){const i=s();if(_g(i))e.push(i);else if(FS(i)){const o=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});e.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(s=>{this.reject(s)}),0===e.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const $w=new Pt("");function GS(t,n){return Array.isArray(n)?n.reduce(GS,t):{...t,...n}}let Ol=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ke(py),this.afterRenderManager=ke(pb),this.zonelessEnabled=ke(Sd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new qr,this.afterTick=new qr,this.componentTypes=[],this.components=[],this.isStable=ke(Dl).hasPendingTasks.pipe(ie(e=>!e)),this._injector=ke(ko)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,r){const s=e instanceof yA;if(!this._injector.get(kS).done)throw!s&&function Yi(t){const n=bn(t)||Ns(t)||ci(t);return null!==n&&n.standalone}(e),new $e(405,!1);let o;o=s?e:this._injector.get(Jf).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function $O(t){return t.isBoundToModule}(o)?void 0:this._injector.get(B1),c=o.create(Fn.NULL,[],r||o.selector,a),u=c.location.nativeElement,h=c.injector.get(NS,null);return h?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Hg(this.components,c),h?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $e(101,!1);const e=ne(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ne(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(Gm,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:s,notifyErrorHandler:i}of this._views)KO(s,i,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else e?.begin?.(),e?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:e})=>N2(e))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;Hg(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get($w,[]);[...this._bootstrapListeners,...r].forEach(s=>s(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Hg(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new $e(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Hg(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function KO(t,n,e,r){(e||N2(t))&&Zf(t,n,e&&!r?0:1)}let eG=(()=>{class t{constructor(){this.zone=ke($r),this.changeDetectionScheduler=ke(ch),this.applicationRef=ke(Ol)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Xw({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new $r({...Yw(),scheduleInRootZone:e}),[{provide:$r,useFactory:t},{provide:xo,multi:!0,useFactory:()=>{const r=ke(eG,{optional:!0});return()=>r.initialize()}},{provide:xo,multi:!0,useFactory:()=>{const r=ke(nG);return()=>{r.initialize()}}},!0===n?{provide:CA,useValue:!0}:[],{provide:Om,useValue:e??av}]}function Yw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let nG=(()=>{class t{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=ke($r),this.pendingTasks=ke(Dl)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{$r.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{$r.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Yd=(()=>{class t{constructor(){this.appRef=ke(Ol),this.taskService=ke(Dl),this.ngZone=ke($r),this.zonelessEnabled=ke(Sd),this.disableScheduling=ke(CA,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Fe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(q2):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ke(Om,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof pf||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;switch(e){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?cv:lv;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(q2+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Hc=new Pt("",{providedIn:"root",factory:()=>ke(Hc,or.Optional|or.SkipSelf)||function rG(){return typeof $localize<"u"&&$localize.locale||vg}()}),Vg=new Pt("");function Eg(t){return!t.moduleRef}let YS=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const s=r?.scheduleInRootZone,o=r?.ignoreChangesOutsideZone,a=[Xw({ngZoneFactory:()=>function dy(t="zone.js",n){return"noop"===t?new pf:"zone.js"===t?new $r(n):t}(r?.ngZone,{...Yw({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}),scheduleInRootZone:s}),ignoreChangesOutsideZone:o}),{provide:ch,useExisting:Yd}],l=function PN(t,n,e){return new nw(t,n,e,!1)}(e.moduleType,this.injector,a);return function XS(t){const n=Eg(t)?t.r3Injector:t.moduleRef.injector,e=n.get($r);return e.run(()=>{Eg(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const r=n.get(Da,null);let s;if(e.runOutsideAngular(()=>{s=e.onError.subscribe({next:i=>{r.handleError(i)}})}),Eg(t)){const i=()=>n.destroy(),o=t.platformInjector.get(Vg);o.add(i),n.onDestroy(()=>{s.unsubscribe(),o.delete(i)})}else{const i=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Vg);o.add(i),t.moduleRef.onDestroy(()=>{Hg(t.allPlatformModules,t.moduleRef),s.unsubscribe(),o.delete(i)})}return function YO(t,n,e){try{const r=e();return _g(r)?r.catch(s=>{throw n.runOutsideAngular(()=>t.handleError(s)),s}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(r,e,()=>{const i=n.get(kS);return i.runInitializers(),i.donePromise.then(()=>{if(function HP(t){"string"==typeof t&&(ux=t.toLowerCase().replace(/_/g,"-"))}(n.get(Hc,vg)||vg),Eg(t)){const a=n.get(Ol);return void 0!==t.rootComponent&&a.bootstrap(t.rootComponent),a}return function cG(t,n){const e=t.injector.get(Ol);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new $e(-403,!1);t.instance.ngDoBootstrap(e)}n.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,r=[]){const s=GS({},r);return function QO(t,n,e){const r=new rw(e);return Promise.resolve(r)}(0,0,e).then(i=>this.bootstrapModuleFactory(i,s))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $e(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(Vg,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||t)(Ye(Fn))}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),zc=null;const KS=new Pt("");function JS(t,n,e=[]){const r=`Platform: ${n}`,s=new Pt(r);return(i=[])=>{let o=Jw();if(!o||o.injector.get(KS,!1)){const a=[...e,...i,{provide:s,useValue:!0}];t?t(a):function uG(t){if(zc&&!zc.get(KS,!1))throw new $e(400,!1);(function OS(){!function L(t){Ft=t}(()=>{throw new $e(600,!1)})})(),zc=t;const n=t.get(YS);(function QS(t){t.get(Dv,null)?.forEach(e=>e())})(t)}(function qS(t=[],n){return Fn.create({name:n,providers:[{provide:aa,useValue:"platform"},{provide:Vg,useValue:new Set([()=>zc=null])},...t]})}(a,r))}return function hG(){const n=Jw();if(!n)throw new $e(401,!1);return n}()}}function Jw(){return zc?.get(YS)??null}let qw=(()=>{class t{static{this.__NG_ELEMENT_ID__=pG}}return t})();function pG(t){return function fG(t,n,e){if(cc(t)&&!e){const r=Mo(t.index,n);return new md(r,r)}return 175&t.type?new md(n[Ms],n):null}(Ur(),dt(),!(16&~t))}class sM{constructor(){}supports(n){return ng(n)}create(n){return new CG(n)}}const wG=(t,n)=>n;class CG{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||wG}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,s=0,i=null;for(;e||r;){const o=!r||e&&e.currentIndex<oM(r,s,i)?e:r,a=oM(o,s,i),l=o.currentIndex;if(o===r)s--,r=r._nextRemoved;else if(e=e._next,null==o.previousIndex)s++;else{i||(i=[]);const c=a-s,u=l-s;if(c!=u){for(let d=0;d<c;d++){const p=d<i.length?i[d]:i[d]=0,v=p+d;u<=v&&v<c&&(i[d]=p+1)}i[o.previousIndex]=u-c}}a!==l&&n(o,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!ng(n))throw new $e(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s,i,o,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],o=this._trackByFn(a,i),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,i,o,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,o,a),r=!0),e=e._next}else s=0,function GN(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{o=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,a,o,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,s),r=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,s){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,i,s)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,i,s)):n=this._addAfter(new yG(e,r),i,s),n}_verifyReinsertion(n,e,r,s){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,s):n.currentIndex!=s&&(n.currentIndex=s,this._addToMoves(n,s)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const s=n._prevRemoved,i=n._nextRemoved;return null===s?this._removalsHead=i:s._nextRemoved=i,null===i?this._removalsTail=s:i._prevRemoved=s,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const s=null===e?this._itHead:e._next;return n._next=s,n._prev=e,null===s?this._itTail=n:s._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new iM),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iM),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class yG{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class IG{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class iM{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new IG,this.map.set(e,r)),r.add(n)}get(n,e){const s=this.map.get(n);return s?s.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oM(t,n,e){const r=t.previousIndex;if(null===r)return r;let s=0;return e&&r<e.length&&(s=e[r]),r+n+s}class aM{constructor(){}supports(n){return n instanceof Map||sw(n)}create(){return new AG}}class AG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||sw(n)))throw new $e(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(s,r);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const s=this._records.get(n);this._maybeAddToChanges(s,e);const i=s._prev,o=s._next;return i&&(i._next=o),o&&(o._prev=i),s._next=null,s._prev=null,s}const r=new bG(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}}class bG{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lM(){return new r6([new sM])}let r6=(()=>{class t{static{this.\u0275prov=Wt({token:t,providedIn:"root",factory:lM})}constructor(e){this.factories=e}static create(e,r){if(null!=r){const s=r.factories.slice();e=e.concat(s)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||lM()),deps:[[t,new Un,new y2]]}}find(e){const r=this.factories.find(s=>s.supports(e));if(null!=r)return r;throw new $e(901,!1)}}return t})();function cM(){return new Rg([new aM])}let Rg=(()=>{class t{static{this.\u0275prov=Wt({token:t,providedIn:"root",factory:cM})}constructor(e){this.factories=e}static create(e,r){if(r){const s=r.factories.slice();e=e.concat(s)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||cM()),deps:[[t,new Un,new y2]]}}find(e){const r=this.factories.find(s=>s.supports(e));if(r)return r;throw new $e(901,!1)}}return t})();const MG=JS(null,"core",[]);let _G=(()=>{class t{constructor(e){}static{this.\u0275fac=function(r){return new(r||t)(Ye(Ol))}}static{this.\u0275mod=Va({type:t})}static{this.\u0275inj=ia({})}}return t})();function Qd(t,n){ho("NgSignals");const e=function De(t){const n=Object.create(wt);n.computation=t;const e=()=>{if(j(n),he(n),n.value===ye)throw n.error;return n.value};return e[Se]=n,e}(t);return n?.equal&&(e[Se].equal=n.equal),e}function wl(t){const n=ne(null);try{return t()}finally{ne(n)}}const iW=new Pt("",{providedIn:"root",factory:()=>ke(oW)});let oW=(()=>{class t{static{this.\u0275prov=Wt({token:t,providedIn:"root",factory:()=>new aW})}}return t})();class aW{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=ke(Dl),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),null===this.taskId){const e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(n){const e=n.creationZone;this.queues.has(e)||this.queues.set(e,new Set);const r=this.queues.get(e);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,e]of this.queues)null===n?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(const e of n)n.delete(e),this.queuedEffectCount--,e.run()}}class lW{constructor(n,e,r,s,i,o){this.scheduler=n,this.effectFn=e,this.creationZone=r,this.injector=i,this.watcher=function St(t,n,e){const r=Object.create(rn);e&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=n;const s=l=>{r.cleanupFn=l};return r.ref={notify:()=>pe(r),run:()=>{if(null===r.fn)return;if(function k(){return ce}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!D(r))return;r.hasRun=!0;const l=oe(r);try{r.cleanupFn(),r.cleanupFn=nn,r.fn(s)}finally{X(r,l)}},cleanup:()=>r.cleanupFn(),destroy:()=>function o(l){(function i(l){return null===l.fn&&null===l.schedule})(l)||(ae(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=nn)}(r),[Se]:r},r.ref}(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(e){this.injector.get(Da,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function TM(t,n){ho("NgSignals"),!n?.injector&&function Tp(t){if(!h3())throw new $e(-203,!1)}();const e=n?.injector??ke(Fn),r=!0!==n?.manualCleanup?e.get(Zu):null,s=new lW(e.get(iW),t,typeof Zone>"u"?null:Zone.current,r,e,n?.allowSignalWrites??!1),i=e.get(qw,null,{optional:!0});return i&&8&i._lView[_n]?(i._lView[L2]??=[]).push(s.watcher.notify):s.watcher.notify(),s}let LM=null;function e0(){return LM}class uW{}const Vc=new Pt("");function GM(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[s,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(s.trim()===n)return decodeURIComponent(i)}return null}const v6=/\s+/,WM=[];let ZM=(()=>{class t{constructor(e,r){this._ngEl=e,this._renderer=r,this.initialClasses=WM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(v6):WM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(v6):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const s=this.stateMap.get(e);void 0!==s?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],s=e[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(v6).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static{this.\u0275fac=function(r){return new(r||t)(Zt(jo),Zt(Ic))}}static{this.\u0275dir=Zn({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();class JW{constructor(n,e,r,s){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qg=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,s){this._viewContainer=e,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((s,i,o)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new JW(s.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,o),UM(a,s)}});for(let s=0,i=r.length;s<i;s++){const a=r.get(s).context;a.index=s,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{UM(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Zt(fl),Zt(Pl),Zt(r6))}}static{this.\u0275dir=Zn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function UM(t,n){t.context.$implicit=n.item}let n0=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new qW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){$M("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){$M("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Zt(fl),Zt(Pl))}}static{this.\u0275dir=Zn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class qW{constructor(){this.$implicit=null,this.ngIf=null}}function $M(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Zs(n)}'.`)}let C6=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,s)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,s),get:(e,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}static{this.\u0275fac=function(r){return new(r||t)(Zt(fl))}}static{this.\u0275dir=Zn({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[el]})}}return t})(),YM=(()=>{class t{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=KM}transform(e,r=KM){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ??=this.differs.find(e).create();const s=this.differ.diff(e),i=r!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(o=>{this.keyValues.push(function yZ(t,n){return{key:t,value:n}}(o.key,o.currentValue))})),(s||i)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static{this.\u0275fac=function(r){return new(r||t)(Zt(Rg,16))}}static{this.\u0275pipe=xi({name:"keyvalue",type:t,pure:!1,standalone:!0})}}return t})();function KM(t,n){const e=t.key,r=n.key;if(e===r)return 0;if(void 0===e)return 1;if(void 0===r)return-1;if(null===e)return 1;if(null===r)return-1;if("string"==typeof e&&"string"==typeof r)return e<r?-1:1;if("number"==typeof e&&"number"==typeof r)return e-r;if("boolean"==typeof e&&"boolean"==typeof r)return e<r?-1:1;const s=String(e),i=String(r);return s==i?0:s<i?-1:1}let xZ=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Va({type:t})}static{this.\u0275inj=ia({})}}return t})();function A6(t){return"server"===t}class qM{}class ej extends uW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class M6 extends ej{static makeCurrent(){!function cW(t){LM??=t}(new M6)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function tj(){return o0=o0||document.querySelector("base"),o0?o0.getAttribute("href"):null}();return null==e?null:function nj(t){return new URL(t,document.baseURI).pathname}(e)}resetBaseElement(){o0=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return GM(document.cookie,n)}}let o0=null,sj=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})();const _6=new Pt("");let c_=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(s=>{s.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,s){return this._findPluginFor(r).addEventListener(e,r,s)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(i=>i.supports(e)),!r)throw new $e(5101,!1);return this._eventNameToPlugin.set(e,r),r}static{this.\u0275fac=function(r){return new(r||t)(Ye(_6),Ye($r))}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})();class u_{constructor(n){this._doc=n}}const H6="ng-app-id";let h_=(()=>{class t{constructor(e,r,s,i={}){this.doc=e,this.appId=r,this.nonce=s,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=A6(i),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(s=>s.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${H6}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(e,r){const s=this.styleRef;if(s.has(e)){const i=s.get(e);return i.usage+=r,i.usage}return s.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const s=this.styleNodesInDOM,i=s?.get(r);if(i?.parentNode===e)return s.delete(r),i.removeAttribute(H6),i;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(H6,this.appId),e.appendChild(o),o}}addStyleToHost(e,r){const s=this.getStyleElement(e,r),i=this.styleRef,o=i.get(r)?.elements;o?o.push(s):i.set(r,{elements:[s],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(Ye(Vc),Ye(x1),Ye(Bv,8),Ye(al))}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})();const z6={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},V6=/%COMP%/g,lj=new Pt("",{providedIn:"root",factory:()=>!0});function p_(t,n){return n.map(e=>e.replace(V6,t))}let f_=(()=>{class t{constructor(e,r,s,i,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=i,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=A6(a),this.defaultRenderer=new E6(e,o,l,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ei.ShadowDom&&(r={...r,encapsulation:Ei.Emulated});const s=this.getOrCreateRenderer(e,r);return s instanceof v_?s.applyToHost(e):s instanceof T6&&s.applyStyles(),s}getOrCreateRenderer(e,r){const s=this.rendererByCompId;let i=s.get(r.id);if(!i){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Ei.Emulated:i=new v_(l,c,r,this.appId,u,o,a,h);break;case Ei.ShadowDom:return new dj(l,c,e,r,o,a,this.nonce,h);default:i=new T6(l,c,r,u,o,a,h)}s.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(Ye(c_),Ye(h_),Ye(x1),Ye(lj),Ye(Vc),Ye(al),Ye($r),Ye(Bv))}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})();class E6{constructor(n,e,r,s){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(z6[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(g_(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(g_(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new $e(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,s){if(s){e=s+":"+e;const i=z6[s];i?n.setAttributeNS(i,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const s=z6[r];s?n.removeAttributeNS(s,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,s){s&(yc.DashCase|yc.Important)?n.style.setProperty(e,r,s&yc.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&yc.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){null!=n&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=e0().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function g_(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class dj extends E6{constructor(n,e,r,s,i,o,a,l){super(n,i,o,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=p_(s.id,s.styles);for(const u of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class T6 extends E6{constructor(n,e,r,s,i,o,a,l){super(n,i,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=s,this.styles=l?p_(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class v_ extends T6{constructor(n,e,r,s,i,o,a,l){const c=s+"-"+r.id;super(n,e,r,i,o,a,l,c),this.contentAttr=function cj(t){return"_ngcontent-%COMP%".replace(V6,t)}(c),this.hostAttr=function uj(t){return"_nghost-%COMP%".replace(V6,t)}(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let pj=(()=>{class t extends u_{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,s){return e.addEventListener(r,s,!1),()=>this.removeEventListener(e,r,s)}removeEventListener(e,r,s){return e.removeEventListener(r,s)}static{this.\u0275fac=function(r){return new(r||t)(Ye(Vc))}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})();const m_=["alt","control","meta","shift"],fj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vj=(()=>{class t extends u_{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,s){const i=t.parseEventName(r),o=t.eventCallback(i.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>e0().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const r=e.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const i=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),m_.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=i,0!=r.length||0===i.length)return null;const l={};return l.domEventName=s,l.fullKey=o,l}static matchEventFullKeyCode(e,r){let s=fj[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(s=e.code,i="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),m_.forEach(o=>{o!==s&&(0,gj[o])(e)&&(i+=o+".")}),i+=s,i===r)}static eventCallback(e,r,s){return i=>{t.matchEventFullKeyCode(i,e)&&s.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(r){return new(r||t)(Ye(Vc))}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})();const C_=[{provide:al,useValue:"browser"},{provide:Dv,useValue:function mj(){M6.makeCurrent()},multi:!0},{provide:Vc,useFactory:function Cj(){return function By(t){Cf=t}(document),document},deps:[]}],yj=JS(MG,"browser",C_),Ij=new Pt(""),y_=[{provide:Mg,useClass:class rj{addToWindow(n){un.getAngularTestability=(r,s=!0)=>{const i=n.findTestabilityInTree(r,s);if(null==i)throw new $e(5103,!1);return i},un.getAllAngularTestabilities=()=>n.getAllTestabilities(),un.getAllAngularRootElements=()=>n.getAllRootElements(),un.frameworkStabilizers||(un.frameworkStabilizers=[]),un.frameworkStabilizers.push(r=>{const s=un.getAllAngularTestabilities();let i=s.length;const o=function(){i--,0==i&&r()};s.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?e0().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:NS,useClass:Zw,deps:[$r,jw,Mg]},{provide:Zw,useClass:Zw,deps:[$r,jw,Mg]}],I_=[{provide:aa,useValue:"root"},{provide:Da,useFactory:function wj(){return new Da},deps:[]},{provide:_6,useClass:pj,multi:!0,deps:[Vc,$r,al]},{provide:_6,useClass:vj,multi:!0,deps:[Vc]},f_,h_,c_,{provide:Gm,useExisting:f_},{provide:qM,useClass:sj,deps:[]},[]];let Aj=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:x1,useValue:e.appId}]}}static{this.\u0275fac=function(r){return new(r||t)(Ye(Ij,12))}}static{this.\u0275mod=Va({type:t})}static{this.\u0275inj=ia({providers:[...I_,...y_],imports:[xZ,_G]})}}return t})();var Yo=K(3308);class x_{}class S_{constructor(n=new x_){this.ctx=n}readRecords(n){return Promise.all(n.map(e=>this.readRecord(e)))}writeRecords(n){return Promise.all(n.map(e=>this.writeRecord(e)))}}function r4(t,n){if(Array.isArray(t)&&Array.isArray(n))return t.length===n.length&&t.every((e,r)=>r4(e,n[r]));if(t instanceof Date&&n instanceof Date)return t.getTime()===n.getTime();if(t instanceof URL&&n instanceof URL)return t.toString()===n.toString();if(t instanceof Object&&n instanceof Object){const e=Object.keys(t),r=Object.keys(n);return e.length===r.length&&e.every(s=>r4(t[s],n[s]))}return t===n}const Mj=["abstract","constraint","keywords","lineage","onlineResources","spatialExtents","title"];function M_(t){return Mj.includes(t)}var Us=K(7059);function O(...t){return n=>t.reduce((e,r)=>r(e),n)}function Hn(t){return n=>t(n)}function On(t){return n=>n.map(t)}function mo(t){return n=>n.filter(t)}function Ec(t){return n=>n.length>t?n[t]:null}function Tc(...t){return n=>{for(let e=0;e<t.length;e++){const r=t[e](n);if(null!==r)return r}return null}}function rs(...t){return n=>t.map(e=>e(n))}function W1(t){return n=>(t(n),n)}const oi=t=>t;class _j extends Error{constructor(n){super(n)}}function L6(t){let n=null;try{n=(0,Us.parseXml)(t)}catch(e){throw new _j(e instanceof Error?e.message:e)}return n}function R6(t){function n(r){const s=function zj(t){const n=t.indexOf(":");return n>-1?t.substring(0,n):null}(r);"xmlns"===s||null===s||t.attributes[`xmlns:${s}`]||l0[s]&&(t.attributes[`xmlns:${s}`]=l0[s])}return t.attributes=t.attributes||{},function e(r){n(r.name);for(const i in r.attributes)n(i);i4(r).forEach(e)}(t),new Us.XmlDocument([t])}function Zl(t){const n=t.indexOf(":");return n>-1?t.substring(n+1):t}function __(t){const n=t.indexOf(":");return n>-1?t.substring(0,n):""}function s4(t){return t.name||""}function D6(t){return t.children.find(n=>n instanceof Us.XmlElement)}function yr(t,n=!0){return e=>{const r=Zl(t);return e&&Array.isArray(e.children)?e.children.reduce(function s(i,o){return Zl(s4(o))===r&&i.push(o),n&&Array.isArray(o.children)?[...i,...o.children.reduce(s,[])]:i},[]):[]}}function tn(t,n=!0){return e=>yr(t,n)(e)[0]||null}function i4(t){return t&&Array.isArray(t.children)?[...t.children.filter(n=>n instanceof Us.XmlElement)]:[]}function Hj(t){return i4(t)[0]??null}function Xr(...t){return n=>n&&Array.isArray(n.children)?n.children.reduce(function e(r){const s=Zl(t[r]);return(i,o)=>Zl(s4(o))!==s?i:r===t.length-1?[...i,o]:Array.isArray(o.children)?[...i,...o.children.reduce(e(r+1),[])]:i}(0),[]):[]}function Er(...t){return n=>{const e=Xr(...t)(n);return e.length?e[0]:null}}function H_(t){return n=>{let e=n.parent;for(;e&&e instanceof Us.XmlElement;){if(Zl(s4(e))===Zl(t))return e;e=e.parent}return null}}function fa(){return t=>{if(!t)return null;const n=Array.isArray(t.children)?t.children.find(e=>"text"===e.type):null;return n?n.text:""}}function _s(t){return n=>n&&n.attributes[t]||null}function a0(t,n=0){const e=a=>a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(t instanceof Us.XmlDocument)return`<?xml version="1.0" encoding="UTF-8"?>${a0(t.children[0])}`;if(t instanceof Us.XmlText){const a=t.text;return a&&""!==a.replace(/^\s+|\s+$/g,"")?e(a):""}if(!(t instanceof Us.XmlElement))return"\x3c!-- unknown --\x3e";const r="    ".repeat(n),s=Array.isArray(t.children)?t.children.map(a=>a0(a,n+1)).filter(a=>""!==a).map((a,l,c)=>l<c.length-1?a.replace(/\n\s*$/g,""):a).join(""):"",i=Object.keys(t.attributes).reduce((a,l)=>a+` ${l}="${e(t.attributes[l])}"`,""),o="    ".repeat(Math.max(0,n-1));return""===s?`\n${r}<${t.name}${i}/>\n${o}`:`\n${r}<${t.name}${i}>${s}</${t.name}>\n${o}`}const l0={gmd:"http://www.isotc211.org/2005/gmd",gco:"http://www.isotc211.org/2005/gco",gfc:"http://www.isotc211.org/2005/gfc",gml:"http://www.opengis.net/gml/3.2",xsi:"http://www.w3.org/2001/XMLSchema-instance",srv:"http://www.isotc211.org/2005/srv",gmx:"http://www.isotc211.org/2005/gmx",gts:"http://www.isotc211.org/2005/gts",gsr:"http://www.isotc211.org/2005/gsr",gmi:"http://www.isotc211.org/2005/gmi",xlink:"http://www.w3.org/1999/xlink",mdb:"http://standards.iso.org/iso/19115/-3/mdb/2.0",mdq:"http://standards.iso.org/iso/19157/-2/mdq/1.0",msr:"http://standards.iso.org/iso/19115/-3/msr/2.0",mrs:"http://standards.iso.org/iso/19115/-3/mrs/1.0",mmi:"http://standards.iso.org/iso/19115/-3/mmi/1.0",mrl:"http://standards.iso.org/iso/19115/-3/mrl/2.0",mdt:"http://standards.iso.org/iso/19115/-3/mdt/2.0",mrd:"http://standards.iso.org/iso/19115/-3/mrd/1.0",mds:"http://standards.iso.org/iso/19115/-3/mds/2.0",mpc:"http://standards.iso.org/iso/19115/-3/mpc/1.0",mcc:"http://standards.iso.org/iso/19115/-3/mcc/1.0",mac:"http://standards.iso.org/iso/19115/-3/mac/2.0",mco:"http://standards.iso.org/iso/19115/-3/mco/1.0",mda:"http://standards.iso.org/iso/19115/-3/mda/1.0",mex:"http://standards.iso.org/iso/19115/-3/mex/1.0",gex:"http://standards.iso.org/iso/19115/-3/gex/1.0",gcx:"http://standards.iso.org/iso/19115/-3/gcx/1.0",mas:"http://standards.iso.org/iso/19115/-3/mas/1.0",mri:"http://standards.iso.org/iso/19115/-3/mri/1.0",cit:"http://standards.iso.org/iso/19115/-3/cit/2.0",cat:"http://standards.iso.org/iso/19115/-3/cat/1.0",lan:"http://standards.iso.org/iso/19115/-3/lan/1.0",mrc:"http://standards.iso.org/iso/19115/-3/mrc/2.0",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",foaf:"http://xmlns.com/foaf/0.1/",xsd:"http://www.w3.org/2001/XMLSchema#",dcat:"http://www.w3.org/ns/dcat#",dct:"http://purl.org/dc/terms/",skos:"http://www.w3.org/2004/02/skos/core#",schema_org:"http://schema.org/",spdx:"https://spdx.org/rdf/terms/#",adms:"http://www.w3.org/ns/adms#",dqv:"http://www.w3.org/ns/dqv#",owl:"http://www.w3.org/2002/07/owl#",vcard:"http://www.w3.org/2006/vcard/ns#",time:"http://www.w3.org/2006/time#",locn:"http://www.w3.org/ns/locn#",mdcat:"https://data.vlaanderen.be/ns/metadata-dcat#"};function mn(t){return()=>new Us.XmlElement(t,{},[])}function Tr(...t){return()=>{let n=null;for(const e of t)n=n?ks(e)(n):mn(e)();return n}}function Nn(t,n){return e=>(e.attributes[t]=n,e)}function z_(t){return n=>{if(!n)return null;const e=t(),r=function Vj(t){let n=t;for(;n.parent instanceof Us.XmlElement;)n=n.parent;return n}(e);return n.children.push(r),r.parent=n,e}}function sn(...t){return n=>n?(t.filter(e=>e).forEach(e=>z_(e)(n)),n):null}function ks(t){return n=>{if(!n)return null;const e=mn(t)();return n.children.push(e),e.parent=n,e}}function c0(...t){return n=>{let e=n;for(const r of t)e=ks(r)(e);return e}}function ga(t){return Tc(tn(t,!1),ks(t))}function $s(...t){return n=>{let e=n;for(const r of t)e=ga(r)(e);return e}}function ji(t){return n=>{if(!n)return null;const e=n.children.find(r=>r instanceof Us.XmlText);return e?e.text=t:n.children.push(new Us.XmlText(t)),n}}function Di(t){return n=>{if(!n)return null;const e=Zl(t),r=n.children.filter(s=>s instanceof Us.XmlElement&&Zl(s4(s))===e);return r.forEach(s=>s.parent=null),n.children=n.children.filter(s=>-1===r.indexOf(s)),n}}function va(t){return n=>{const e=t(n);return e.forEach(r=>r.parent=null),n.children=n.children.filter(r=>r instanceof Us.XmlElement&&-1===e.indexOf(r)),n}}function B6(t){return/wms/i.test(t)?"wms":/wfs/i.test(t)?"wfs":/wmts/i.test(t)?"wmts":/tms/i.test(t)?"tms":/wps/i.test(t)?"wps":/ogc\W*api\W*features/i.test(t)?"ogcFeatures":/esri/i.test(t)?"esriRest":/DOWNLOAD-1/i.test(t)?"GPFDL":"other"}function E_(t){return/shp|shapefile/i.test(t)?"x-gis/x-shapefile":t||null}const T_=class Tj{constructor(n){this.type=n,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},Dj=class Rj{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};var Ui=K(2058);function L_(){}function R_(t){let e,r,s,n=!1;return function(){const i=Array.prototype.slice.call(arguments);return(!n||this!==s||!(0,Ui.aI)(i,r))&&(n=!0,s=this,r=i,e=t.apply(this,arguments)),e}}function D_(t){for(const n in t)delete t[n]}function B_(t){let n;for(n in t)return!1;return!n}const Nj=class Bj extends Dj{constructor(n){super(),this.eventTarget_=n,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(n,e){if(!n||!e)return;const r=this.listeners_||(this.listeners_={}),s=r[n]||(r[n]=[]);s.includes(e)||s.push(e)}dispatchEvent(n){const e="string"==typeof n,r=e?n:n.type,s=this.listeners_&&this.listeners_[r];if(!s)return;const i=e?new T_(n):n;i.target||(i.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});let l;r in o||(o[r]=0,a[r]=0),++o[r];for(let c=0,u=s.length;c<u;++c)if(l="handleEvent"in s[c]?s[c].handleEvent(i):s[c].call(this,i),!1===l||i.propagationStopped){l=!1;break}if(0==--o[r]){let c=a[r];for(delete a[r];c--;)this.removeEventListener(r,L_);delete o[r]}return l}disposeInternal(){this.listeners_&&D_(this.listeners_)}getListeners(n){return this.listeners_&&this.listeners_[n]||void 0}hasListener(n){return!!this.listeners_&&(n?n in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(n,e){if(!this.listeners_)return;const r=this.listeners_[n];if(!r)return;const s=r.indexOf(e);-1!==s&&(this.pendingRemovals_&&n in this.pendingRemovals_?(r[s]=L_,++this.pendingRemovals_[n]):(r.splice(s,1),0===r.length&&delete this.listeners_[n]))}};function u0(t,n,e,r,s){if(r&&r!==t&&(e=e.bind(r)),s){const o=e;e=function(){t.removeEventListener(n,e),o.apply(this,arguments)}}const i={target:t,type:n,listener:e};return t.addEventListener(n,e),i}function N_(t,n,e,r){return u0(t,n,e,r,!0)}function o4(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),D_(t))}const Pj=class a4 extends Nj{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent("change")}getRevision(){return this.revision_}onInternal(n,e){if(Array.isArray(n)){const r=n.length,s=new Array(r);for(let i=0;i<r;++i)s[i]=u0(this,n[i],e);return s}return u0(this,n,e)}onceInternal(n,e){let r;if(Array.isArray(n)){const s=n.length;r=new Array(s);for(let i=0;i<s;++i)r[i]=N_(this,n[i],e)}else r=N_(this,n,e);return e.ol_key=r,r}unInternal(n,e){const r=e.ol_key;if(r)!function Fj(t){if(Array.isArray(t))for(let n=0,e=t.length;n<e;++n)o4(t[n]);else o4(t)}(r);else if(Array.isArray(n))for(let s=0,i=n.length;s<i;++s)this.removeEventListener(n[s],e);else this.removeEventListener(n,e)}};function as(){throw new Error("Unimplemented abstract method.")}let kj=0;class F_ extends T_{constructor(n,e,r){super(n),this.key=e,this.oldValue=r}}const P_=class Gj extends Pj{constructor(n){super(),function Oj(t){t.ol_uid||(t.ol_uid=String(++kj))}(this),this.values_=null,void 0!==n&&this.setProperties(n)}get(n){let e;return this.values_&&this.values_.hasOwnProperty(n)&&(e=this.values_[n]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(n,e){let r;r=`change:${n}`,this.hasListener(r)&&this.dispatchEvent(new F_(r,n,e)),r="propertychange",this.hasListener(r)&&this.dispatchEvent(new F_(r,n,e))}addChangeListener(n,e){this.addEventListener(`change:${n}`,e)}removeChangeListener(n,e){this.removeEventListener(`change:${n}`,e)}set(n,e,r){const s=this.values_||(this.values_={});if(r)s[n]=e;else{const i=s[n];s[n]=e,i!==e&&this.notify(n,i)}}setProperties(n,e){for(const r in n)this.set(r,n[r],e)}applyProperties(n){n.values_&&Object.assign(this.values_||(this.values_={}),n.values_)}unset(n,e){if(this.values_&&n in this.values_){const r=this.values_[n];delete this.values_[n],B_(this.values_)&&(this.values_=null),e||this.notify(n,r)}}};var Wj=K(5940);class F6 extends P_{constructor(n){super(),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),n&&("function"==typeof n.getSimplifiedGeometry?this.setGeometry(n):this.setProperties(n))}clone(){const n=new F6(this.hasProperties()?this.getProperties():null);n.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&n.setGeometry(e.clone());const r=this.getStyle();return r&&n.setStyle(r),n}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(o4(this.geometryChangeKey_),this.geometryChangeKey_=null);const n=this.getGeometry();n&&(this.geometryChangeKey_=u0(n,"change",this.handleGeometryChange_,this)),this.changed()}setGeometry(n){this.set(this.geometryName_,n)}setStyle(n){this.style_=n,this.styleFunction_=n?function Zj(t){if("function"==typeof t)return t;let n;return Array.isArray(t)?n=t:((0,Wj.v)("function"==typeof t.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),n=[t]),function(){return n}}(n):void 0,this.changed()}setId(n){this.id_=n,this.changed()}setGeometryName(n){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=n,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const P6=F6;function W6(t,n,e,r,s,i,o,a){const l=Math.sin(i),c=Math.cos(i);return t[0]=r*c,t[1]=s*l,t[2]=-r*l,t[3]=s*c,t[4]=o*r*c-a*r*l+n,t[5]=o*s*l+a*s*c+e,t}new Array(6);var Yr=K(3467),Hs=K(6016);function O_(t,n,e,r,s,i){i=i||[];let o=0;for(let a=n;a<e;a+=r){const l=t[a],c=t[a+1];i[o++]=s[0]*l+s[2]*c+s[4],i[o++]=s[1]*l+s[3]*c+s[5]}return i&&i.length!=o&&(i.length=o),i}const G_=[1,0,0,1,0,0],Z6=class Jj extends P_{constructor(){super(),this.extent_=(0,Yr.S5)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=R_((n,e,r)=>{if(!r)return this.getSimplifiedGeometry(e);const s=this.clone();return s.applyTransform(r),s.getSimplifiedGeometry(e)})}simplifyTransformed(n,e){return this.simplifyTransformedInternal(this.getRevision(),n,e)}clone(){return as()}closestPointXY(n,e,r,s){return as()}containsXY(n,e){const r=this.getClosestPoint([n,e]);return r[0]===n&&r[1]===e}getClosestPoint(n,e){return this.closestPointXY(n[0],n[1],e=e||[NaN,NaN],1/0),e}intersectsCoordinate(n){return this.containsXY(n[0],n[1])}computeExtent(n){return as()}getExtent(n){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,Yr.aZ)(e),this.extentRevision_=this.getRevision()}return(0,Yr.$u)(this.extent_,n)}rotate(n,e){as()}scale(n,e,r){as()}simplify(n){return this.getSimplifiedGeometry(n*n)}getSimplifiedGeometry(n){return as()}getType(){return as()}applyTransform(n){as()}intersectsExtent(n){return as()}translate(n,e){as()}transform(n,e){const r=(0,Hs.Jt)(n),s="tile-pixels"==r.getUnits()?function(i,o,a){const l=r.getExtent(),c=r.getWorldExtent(),u=(0,Yr.Oq)(c)/(0,Yr.Oq)(l);return W6(G_,c[0],c[3],u,-u,0,0,0),O_(i,0,i.length,a,G_,o),(0,Hs.RG)(r,e)(i,o,a)}:(0,Hs.RG)(r,e);return this.applyTransform(s),this}};function Z1(t){let n;return 2==t?n="XY":3==t?n="XYZ":4==t&&(n="XYZM"),n}function W_(t){let n;return"XY"==t?n=2:"XYZ"==t||"XYM"==t?n=3:"XYZM"==t&&(n=4),n}const j1=class qj extends Z6{constructor(){super(),this.layout="XY",this.stride=2}computeExtent(n){return(0,Yr.Vy)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)}getCoordinates(){return as()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(n){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),n<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&n<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(n);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=n,this)}getSimplifiedGeometryInternal(n){return this}getStride(){return this.stride}setFlatCoordinates(n,e){this.stride=W_(n),this.layout=n,this.flatCoordinates=e}setCoordinates(n,e){as()}setLayout(n,e,r){let s;if(n)s=W_(n);else{for(let i=0;i<r;++i){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}s=e.length,n=Z1(s)}this.layout=n,this.stride=s}applyTransform(n){this.flatCoordinates&&(n(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(n,e){const r=this.getFlatCoordinates();if(r){const s=this.getStride();(function Xj(t,n,e,r,s,i,o){o=o||[];const a=Math.cos(s),l=Math.sin(s),c=i[0],u=i[1];let h=0;for(let d=n;d<e;d+=r){const p=t[d]-c,v=t[d+1]-u;o[h++]=c+p*a-v*l,o[h++]=u+p*l+v*a;for(let b=d+2;b<d+r;++b)o[h++]=t[b]}o&&o.length!=h&&(o.length=h)})(r,0,r.length,s,n,e,r),this.changed()}}scale(n,e,r){void 0===e&&(e=n),r||(r=(0,Yr.q1)(this.getExtent()));const s=this.getFlatCoordinates();if(s){const i=this.getStride();(function Yj(t,n,e,r,s,i,o,a){a=a||[];const l=o[0],c=o[1];let u=0;for(let h=n;h<e;h+=r){const p=t[h+1]-c;a[u++]=l+s*(t[h]-l),a[u++]=c+i*p;for(let v=h+2;v<h+r;++v)a[u++]=t[v]}a&&a.length!=u&&(a.length=u)})(s,0,s.length,i,n,e,r,s),this.changed()}}translate(n,e){const r=this.getFlatCoordinates();if(r){const s=this.getStride();(function Kj(t,n,e,r,s,i,o){o=o||[];let a=0;for(let l=n;l<e;l+=r){o[a++]=t[l]+s,o[a++]=t[l+1]+i;for(let c=l+2;c<l+r;++c)o[a++]=t[c]}o&&o.length!=a&&(o.length=a)})(r,0,r.length,s,n,e,r),this.changed()}}};var Cl=K(9973);function Z_(t,n,e,r,s,i,o){const a=t[n],l=t[n+1],c=t[e]-a,u=t[e+1]-l;let h;if(0===c&&0===u)h=n;else{const d=((s-a)*c+(i-l)*u)/(c*c+u*u);if(d>1)h=e;else{if(d>0){for(let p=0;p<r;++p)o[p]=(0,Cl.Cc)(t[n+p],t[e+p],d);return void(o.length=r)}h=n}}for(let d=0;d<r;++d)o[d]=t[h+d];o.length=r}function j6(t,n,e,r,s){let i=t[n],o=t[n+1];for(n+=r;n<e;n+=r){const a=t[n],l=t[n+1],c=(0,Cl.hG)(i,o,a,l);c>s&&(s=c),i=a,o=l}return s}function U6(t,n,e,r,s){for(let i=0,o=e.length;i<o;++i){const a=e[i];s=j6(t,n,a,r,s),n=a}return s}function $6(t,n,e,r,s,i,o,a,l,c,u){if(n==e)return c;let h,d;if(0===s){if(d=(0,Cl.hG)(o,a,t[n],t[n+1]),d<c){for(h=0;h<r;++h)l[h]=t[n+h];return l.length=r,d}return c}u=u||[NaN,NaN];let p=n+r;for(;p<e;)if(Z_(t,p-r,p,r,o,a,u),d=(0,Cl.hG)(o,a,u[0],u[1]),d<c){for(c=d,h=0;h<r;++h)l[h]=u[h];l.length=r,p+=r}else p+=r*Math.max((Math.sqrt(d)-Math.sqrt(c))/s|0,1);if(i&&(Z_(t,e-r,n,r,o,a,u),d=(0,Cl.hG)(o,a,u[0],u[1]),d<c)){for(c=d,h=0;h<r;++h)l[h]=u[h];l.length=r}return c}function X6(t,n,e,r,s,i,o,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=e.length;h<d;++h){const p=e[h];c=$6(t,n,p,r,s,i,o,a,l,c,u),n=p}return c}function l4(t,n,e,r){for(let s=0,i=e.length;s<i;++s){const o=e[s];for(let a=0;a<r;++a)t[n++]=o[a]}return n}function d0(t,n,e,r,s){s=s||[];let i=0;for(let o=0,a=e.length;o<a;++o){const l=l4(t,n,e[o],r);s[i++]=l,n=l}return s.length=i,s}function j_(t,n,e,r,s){s=s||[];let i=0;for(let o=0,a=e.length;o<a;++o){const l=d0(t,n,e[o],r,s[i]);0===l.length&&(l[0]=n),s[i++]=l,n=l[l.length-1]}return s.length=i,s}function p0(t,n,e,r,s,i,o){const a=(e-n)/r;if(a<3){for(;n<e;n+=r)i[o++]=t[n],i[o++]=t[n+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[n,e-r];let u=0;for(;c.length>0;){const h=c.pop(),d=c.pop();let p=0;const v=t[d],b=t[d+1],_=t[h],z=t[h+1];for(let N=d+r;N<h;N+=r){const we=(0,Cl.Q1)(t[N],t[N+1],v,b,_,z);we>p&&(u=N,p=we)}p>s&&(l[(u-n)/r]=1,d+r<u&&c.push(d,u),u+r<h&&c.push(u,h))}for(let h=0;h<a;++h)l[h]&&(i[o++]=t[n+h*r],i[o++]=t[n+h*r+1]);return o}function Y6(t,n,e,r,s,i,o,a){for(let l=0,c=e.length;l<c;++l){const u=e[l];o=p0(t,n,u,r,s,i,o),a.push(o),n=u}return o}function Bh(t,n){return n*Math.round(t/n)}function rU(t,n,e,r,s,i,o){if(n==e)return o;let c,u,a=Bh(t[n],s),l=Bh(t[n+1],s);n+=r,i[o++]=a,i[o++]=l;do{if(c=Bh(t[n],s),u=Bh(t[n+1],s),(n+=r)==e)return i[o++]=c,i[o++]=u,o}while(c==a&&u==l);for(;n<e;){const h=Bh(t[n],s),d=Bh(t[n+1],s);if(n+=r,h==c&&d==u)continue;const p=c-a,v=u-l,b=h-a,_=d-l;p*_==v*b&&(p<0&&b<p||p==b||p>0&&b>p)&&(v<0&&_<v||v==_||v>0&&_>v)?(c=h,u=d):(i[o++]=c,i[o++]=u,a=c,l=u,c=h,u=d)}return i[o++]=c,i[o++]=u,o}function K6(t,n,e,r,s,i,o,a){for(let l=0,c=e.length;l<c;++l){const u=e[l];o=rU(t,n,u,r,s,i,o),a.push(o),n=u}return o}var iU=K(3846);function c4(t,n,e,r,s){s=void 0!==s?s:[];let i=0;for(let o=n;o<e;o+=r)s[i++]=t.slice(o,o+r);return s.length=i,s}function J6(t,n,e,r,s){s=void 0!==s?s:[];let i=0;for(let o=0,a=e.length;o<a;++o){const l=e[o];s[i++]=c4(t,n,l,r,s[i]),n=l}return s.length=i,s}function u4(t,n,e,r,s,i,o){let a,l;const c=(e-n)/r;if(1===c)a=n;else if(2===c)a=n,l=s;else if(0!==c){let u=t[n],h=t[n+1],d=0;const p=[0];for(let _=n+r;_<e;_+=r){const z=t[_],N=t[_+1];d+=Math.sqrt((z-u)*(z-u)+(N-h)*(N-h)),p.push(d),u=z,h=N}const v=s*d,b=(0,Ui.El)(p,v);b<0?(l=(v-p[-b-2])/(p[-b-1]-p[-b-2]),a=n+(-b-2)*r):a=n+b*r}o=o>1?o:2,i=i||new Array(o);for(let u=0;u<o;++u)i[u]=void 0===a?NaN:void 0===l?t[a+u]:(0,Cl.Cc)(t[a+u],t[a+r+u],l);return i}function q6(t,n,e,r,s,i){if(e==n)return null;let o;if(s<t[n+r-1])return i?(o=t.slice(n,n+r),o[r-1]=s,o):null;if(t[e-1]<s)return i?(o=t.slice(e-r,e),o[r-1]=s,o):null;if(s==t[n+r-1])return t.slice(n,n+r);let a=n/r,l=e/r;for(;a<l;){const d=a+l>>1;s<t[(d+1)*r-1]?l=d:a=d+1}const c=t[a*r-1];if(s==c)return t.slice((a-1)*r,(a-1)*r+r);const h=(s-c)/(t[(a+1)*r-1]-c);o=[];for(let d=0;d<r-1;++d)o.push((0,Cl.Cc)(t[(a-1)*r+d],t[a*r+d],h));return o.push(s),o}var h4=K(9542);class d4 extends j1{constructor(n,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(n[0])?this.setCoordinates(n,e):this.setFlatCoordinates(e,n)}appendCoordinate(n){(0,Ui.X$)(this.flatCoordinates,n),this.changed()}clone(){const n=new d4(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n}closestPointXY(n,e,r,s){return s<(0,Yr.Ld)(this.getExtent(),n,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(j6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,n,e,r,s))}forEachSegment(n){return(0,iU.j)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)}getCoordinateAtM(n,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:q6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,e=void 0!==e&&e)}getCoordinates(){return c4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(n,e){return u4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,e,this.stride)}getLength(){return function U_(t,n,e,r){let s=t[n],i=t[n+1],o=0;for(let a=n+r;a<e;a+=r){const l=t[a],c=t[a+1];o+=Math.sqrt((l-s)*(l-s)+(c-i)*(c-i)),s=l,i=c}return o}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(n){const e=[];return e.length=p0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,e,0),new d4(e,"XY")}getType(){return"LineString"}intersectsExtent(n){return(0,h4.gp)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)}setCoordinates(n,e){this.setLayout(e,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=l4(this.flatCoordinates,0,n,this.stride),this.changed()}}const f0=d4;function $_(t,n,e,r){let s=0,i=t[e-r],o=t[e-r+1];for(;n<e;n+=r){const a=t[n],l=t[n+1];s+=o*a-i*l,i=a,o=l}return s/2}function X_(t,n,e,r){let s=0;for(let i=0,o=e.length;i<o;++i){const a=e[i];s+=$_(t,n,a,r),n=a}return s}class p4 extends j1{constructor(n,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(n[0])?this.setCoordinates(n,e):this.setFlatCoordinates(e,n)}clone(){return new p4(this.flatCoordinates.slice(),this.layout)}closestPointXY(n,e,r,s){return s<(0,Yr.Ld)(this.getExtent(),n,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(j6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,n,e,r,s))}getArea(){return $_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return c4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(n){const e=[];return e.length=p0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,e,0),new p4(e,"XY")}getType(){return"LinearRing"}intersectsExtent(n){return!1}setCoordinates(n,e){this.setLayout(e,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=l4(this.flatCoordinates,0,n,this.stride),this.changed()}}const Q6=p4;class f4 extends j1{constructor(n,e,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(n[0]))this.setCoordinates(n,e);else if(void 0!==e&&r)this.setFlatCoordinates(e,n),this.ends_=r;else{const s=n,i=[],o=[];for(let l=0,c=s.length;l<c;++l)(0,Ui.X$)(i,s[l].getFlatCoordinates()),o.push(i.length);const a=0===s.length?this.getLayout():s[0].getLayout();this.setFlatCoordinates(a,i),this.ends_=o}}appendLineString(n){(0,Ui.X$)(this.flatCoordinates,n.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const n=new f4(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return n.applyProperties(this),n}closestPointXY(n,e,r,s){return s<(0,Yr.Ld)(this.getExtent(),n,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(U6(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),X6(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,n,e,r,s))}getCoordinateAtM(n,e,r){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:function aU(t,n,e,r,s,i,o){if(o)return q6(t,n,e[e.length-1],r,s,i);let a;if(s<t[r-1])return i?(a=t.slice(0,r),a[r-1]=s,a):null;if(t[t.length-1]<s)return i?(a=t.slice(t.length-r),a[r-1]=s,a):null;for(let l=0,c=e.length;l<c;++l){const u=e[l];if(n!=u){if(s<t[n+r-1])return null;if(s<=t[u-1])return q6(t,n,u,r,s,!1);n=u}}return null}(this.flatCoordinates,0,this.ends_,this.stride,n,e=void 0!==e&&e,r=void 0!==r&&r)}getCoordinates(){return J6(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(n){return n<0||this.ends_.length<=n?null:new f0(this.flatCoordinates.slice(0===n?0:this.ends_[n-1],this.ends_[n]),this.layout)}getLineStrings(){const n=this.flatCoordinates,e=this.ends_,r=this.layout,s=[];let i=0;for(let o=0,a=e.length;o<a;++o){const l=e[o],c=new f0(n.slice(i,l),r);s.push(c),i=l}return s}getFlatMidpoints(){const n=[],e=this.flatCoordinates;let r=0;const s=this.ends_,i=this.stride;for(let o=0,a=s.length;o<a;++o){const l=s[o],c=u4(e,r,l,i,.5);(0,Ui.X$)(n,c),r=l}return n}getSimplifiedGeometryInternal(n){const e=[],r=[];return e.length=Y6(this.flatCoordinates,0,this.ends_,this.stride,n,e,0,r),new f4(e,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(n){return(0,h4.fB)(this.flatCoordinates,0,this.ends_,this.stride,n)}setCoordinates(n,e){this.setLayout(e,n,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=d0(this.flatCoordinates,0,n,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()}}const e9=f4;class t9 extends j1{constructor(n,e){super(),this.setCoordinates(n,e)}clone(){const n=new t9(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n}closestPointXY(n,e,r,s){const i=this.flatCoordinates,o=(0,Cl.hG)(n,e,i[0],i[1]);if(o<s){const a=this.stride;for(let l=0;l<a;++l)r[l]=i[l];return r.length=a,o}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(n){return(0,Yr.dP)(this.flatCoordinates,n)}getType(){return"Point"}intersectsExtent(n){return(0,Yr.Rj)(n,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(n,e){this.setLayout(e,n,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function tU(t,n,e){for(let s=0,i=e.length;s<i;++s)t[n++]=e[s];return n}(this.flatCoordinates,0,n),this.changed()}}const g0=t9;class n9 extends j1{constructor(n,e){super(),e&&!Array.isArray(n[0])?this.setFlatCoordinates(e,n):this.setCoordinates(n,e)}appendPoint(n){(0,Ui.X$)(this.flatCoordinates,n.getFlatCoordinates()),this.changed()}clone(){const n=new n9(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n}closestPointXY(n,e,r,s){if(s<(0,Yr.Ld)(this.getExtent(),n,e))return s;const i=this.flatCoordinates,o=this.stride;for(let a=0,l=i.length;a<l;a+=o){const c=(0,Cl.hG)(n,e,i[a],i[a+1]);if(c<s){s=c;for(let u=0;u<o;++u)r[u]=i[a+u];r.length=o}}return s}getCoordinates(){return c4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(n){return n<0||this.flatCoordinates.length/this.stride<=n?null:new g0(this.flatCoordinates.slice(n*this.stride,(n+1)*this.stride),this.layout)}getPoints(){const n=this.flatCoordinates,e=this.layout,r=this.stride,s=[];for(let i=0,o=n.length;i<o;i+=r){const a=new g0(n.slice(i,i+r),e);s.push(a)}return s}getType(){return"MultiPoint"}intersectsExtent(n){const e=this.flatCoordinates,r=this.stride;for(let s=0,i=e.length;s<i;s+=r)if((0,Yr.Rj)(n,e[s],e[s+1]))return!0;return!1}setCoordinates(n,e){this.setLayout(e,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=l4(this.flatCoordinates,0,n,this.stride),this.changed()}}const r9=n9;var s9=K(9749);function i9(t,n,e,r,s,i,o){let a,l,c,u,h,d,p;const v=s[i+1],b=[];for(let N=0,me=e.length;N<me;++N){const fe=e[N];for(u=t[fe-r],d=t[fe-r+1],a=n;a<fe;a+=r)h=t[a],p=t[a+1],(v<=d&&p<=v||d<=v&&v<=p)&&(c=(v-d)/(p-d)*(h-u)+u,b.push(c)),u=h,d=p}let _=NaN,z=-1/0;for(b.sort(Ui.V_),u=b[0],a=1,l=b.length;a<l;++a){h=b[a];const N=Math.abs(h-u);N>z&&(c=(u+h)/2,(0,s9.zb)(t,n,e,r,c,v)&&(_=c,z=N)),u=h}return isNaN(_)&&(_=s[i]),o?(o.push(_,v,z),o):[_,v,z]}function Y_(t,n,e,r,s){let i=[];for(let o=0,a=e.length;o<a;++o){const l=e[o];i=i9(t,n,l,r,s,2*o,i),n=l[l.length-1]}return i}function cU(t,n,e,r){for(;n<e-r;){for(let s=0;s<r;++s){const i=t[n+s];t[n+s]=t[e-r+s],t[e-r+s]=i}n+=r,e-=r}}function o9(t,n,e,r){let s=0,i=t[e-r],o=t[e-r+1];for(;n<e;n+=r){const a=t[n],l=t[n+1];s+=(a-i)*(l+o),i=a,o=l}return 0===s?void 0:s>0}function a9(t,n,e,r,s){s=void 0!==s&&s;for(let i=0,o=e.length;i<o;++i){const a=e[i],l=o9(t,n,a,r);if(0===i){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;n=a}return!0}function K_(t,n,e,r,s){for(let i=0,o=e.length;i<o;++i){const a=e[i];if(!a9(t,n,a,r,s))return!1;a.length&&(n=a[a.length-1])}return!0}function g4(t,n,e,r,s){s=void 0!==s&&s;for(let i=0,o=e.length;i<o;++i){const a=e[i],l=o9(t,n,a,r);(0===i?s&&l||!s&&!l:s&&!l||!s&&l)&&cU(t,n,a,r),n=a}return n}function l9(t,n,e,r,s){for(let i=0,o=e.length;i<o;++i)n=g4(t,n,e[i],r,s);return n}class U1 extends j1{constructor(n,e,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&r?(this.setFlatCoordinates(e,n),this.ends_=r):this.setCoordinates(n,e)}appendLinearRing(n){this.flatCoordinates?(0,Ui.X$)(this.flatCoordinates,n.getFlatCoordinates()):this.flatCoordinates=n.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const n=new U1(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return n.applyProperties(this),n}closestPointXY(n,e,r,s){return s<(0,Yr.Ld)(this.getExtent(),n,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(U6(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),X6(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,n,e,r,s))}containsXY(n,e){return(0,s9.zb)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n,e)}getArea(){return X_(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(n){let e;return void 0!==n?(e=this.getOrientedFlatCoordinates().slice(),g4(e,0,this.ends_,this.stride,n)):e=this.flatCoordinates,J6(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const n=(0,Yr.q1)(this.getExtent());this.flatInteriorPoint_=i9(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new g0(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(n){return n<0||this.ends_.length<=n?null:new Q6(this.flatCoordinates.slice(0===n?0:this.ends_[n-1],this.ends_[n]),this.layout)}getLinearRings(){const n=this.layout,e=this.flatCoordinates,r=this.ends_,s=[];let i=0;for(let o=0,a=r.length;o<a;++o){const l=r[o],c=new Q6(e.slice(i,l),n);s.push(c),i=l}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const n=this.flatCoordinates;a9(n,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=n:(this.orientedFlatCoordinates_=n.slice(),this.orientedFlatCoordinates_.length=g4(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(n){const e=[],r=[];return e.length=K6(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(n),e,0,r),new U1(e,"XY",r)}getType(){return"Polygon"}intersectsExtent(n){return(0,h4.HT)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n)}setCoordinates(n,e){this.setLayout(e,n,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=d0(this.flatCoordinates,0,n,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()}}const v0=U1;function J_(t,n,e,r){const s=[];let i=(0,Yr.S5)();for(let o=0,a=e.length;o<a;++o){const l=e[o];i=(0,Yr.Vy)(t,n,l[0],r),s.push((i[0]+i[2])/2,(i[1]+i[3])/2),n=l[l.length-1]}return s}class v4 extends j1{constructor(n,e,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(n[0])){const s=n,i=[],o=[];for(let a=0,l=s.length;a<l;++a){const c=s[a],u=i.length,h=c.getEnds();for(let d=0,p=h.length;d<p;++d)h[d]+=u;(0,Ui.X$)(i,c.getFlatCoordinates()),o.push(h)}e=0===s.length?this.getLayout():s[0].getLayout(),n=i,r=o}void 0!==e&&r?(this.setFlatCoordinates(e,n),this.endss_=r):this.setCoordinates(n,e)}appendPolygon(n){let e;if(this.flatCoordinates){const r=this.flatCoordinates.length;(0,Ui.X$)(this.flatCoordinates,n.getFlatCoordinates()),e=n.getEnds().slice();for(let s=0,i=e.length;s<i;++s)e[s]+=r}else this.flatCoordinates=n.getFlatCoordinates().slice(),e=n.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){const n=this.endss_.length,e=new Array(n);for(let s=0;s<n;++s)e[s]=this.endss_[s].slice();const r=new v4(this.flatCoordinates.slice(),this.layout,e);return r.applyProperties(this),r}closestPointXY(n,e,r,s){return s<(0,Yr.Ld)(this.getExtent(),n,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function Qj(t,n,e,r,s){for(let i=0,o=e.length;i<o;++i){const a=e[i];s=U6(t,n,a,r,s),n=a[a.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function eU(t,n,e,r,s,i,o,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=e.length;h<d;++h){const p=e[h];c=X6(t,n,p,r,s,i,o,a,l,c,u),n=p[p.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,n,e,r,s))}containsXY(n,e){return(0,s9.Gd)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n,e)}getArea(){return function lU(t,n,e,r){let s=0;for(let i=0,o=e.length;i<o;++i){const a=e[i];s+=X_(t,n,a,r),n=a[a.length-1]}return s}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(n){let e;return void 0!==n?(e=this.getOrientedFlatCoordinates().slice(),l9(e,0,this.endss_,this.stride,n)):e=this.flatCoordinates,function oU(t,n,e,r,s){s=void 0!==s?s:[];let i=0;for(let o=0,a=e.length;o<a;++o){const l=e[o];s[i++]=1===l.length&&l[0]===n?[]:J6(t,n,l,r,s[i]),n=l[l.length-1]}return s.length=i,s}(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const n=J_(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Y_(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new r9(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const n=this.flatCoordinates;K_(n,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=n:(this.orientedFlatCoordinates_=n.slice(),this.orientedFlatCoordinates_.length=l9(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(n){const e=[],r=[];return e.length=function sU(t,n,e,r,s,i,o,a){for(let l=0,c=e.length;l<c;++l){const u=e[l],h=[];o=K6(t,n,u,r,s,i,o,h),a.push(h),n=u[u.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(n),e,0,r),new v4(e,"XY",r)}getPolygon(n){if(n<0||this.endss_.length<=n)return null;let e;if(0===n)e=0;else{const i=this.endss_[n-1];e=i[i.length-1]}const r=this.endss_[n].slice(),s=r[r.length-1];if(0!==e)for(let i=0,o=r.length;i<o;++i)r[i]-=e;return new v0(this.flatCoordinates.slice(e,s),this.layout,r)}getPolygons(){const n=this.layout,e=this.flatCoordinates,r=this.endss_,s=[];let i=0;for(let o=0,a=r.length;o<a;++o){const l=r[o].slice(),c=l[l.length-1];if(0!==i)for(let h=0,d=l.length;h<d;++h)l[h]-=i;const u=new v0(e.slice(i,c),n,l);s.push(u),i=c}return s}getType(){return"MultiPolygon"}intersectsExtent(n){return(0,h4.Wp)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n)}setCoordinates(n,e){this.setLayout(e,n,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=j_(this.flatCoordinates,0,n,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{const s=r[r.length-1];this.flatCoordinates.length=0===s.length?0:s[s.length-1]}this.changed()}}const c9=v4,q_=[1,0,0,1,0,0];class Nh{constructor(n,e,r,s,i,o){this.id_=o,this.type_=n,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=i,this.stride_=s}get(n){return this.properties_[n]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,Yr.dP)(this.flatCoordinates_):(0,Yr.Vy)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const n=(0,Yr.q1)(this.getExtent());this.flatInteriorPoints_=i9(this.flatCoordinates_,0,this.ends_,2,n,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const n=function uU(t,n){const e=[];let i,r=0,s=0;for(let o=0,a=n.length;o<a;++o){const l=n[o],c=o9(t,r,l,2);if(void 0===i&&(i=c),c===i)e.push(n.slice(s,o+1));else{if(0===e.length)continue;e[e.length-1].push(n[s])}s=o+1,r=l}return e}(this.flatCoordinates_,this.ends_),e=J_(this.flatCoordinates_,0,n,2);this.flatInteriorPoints_=Y_(this.flatCoordinates_,0,n,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=u4(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const n=this.flatCoordinates_;let e=0;const r=this.ends_;for(let s=0,i=r.length;s<i;++s){const o=r[s],a=u4(n,e,o,2,.5);(0,Ui.X$)(this.flatMidpoints_,a),e=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(n){return this}simplifyTransformed(n,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(n){const e=(n=(0,Hs.Jt)(n)).getExtent(),r=n.getWorldExtent();if(e&&r){const s=(0,Yr.Oq)(r)/(0,Yr.Oq)(e);W6(q_,r[0],r[3],s,-s,0,0,0),O_(this.flatCoordinates_,0,this.flatCoordinates_.length,2,q_,this.flatCoordinates_)}}applyTransform(n){n(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new Nh(this.type_,this.flatCoordinates_.slice(),this.ends_.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=R_((n,e)=>{if(n===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);const r=this.simplifiedGeometry_.getFlatCoordinates();let s;switch(this.type_){case"LineString":r.length=p0(r,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,n,r,0),s=[r.length];break;case"MultiLineString":s=[],r.length=Y6(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,n,r,0,s);break;case"Polygon":s=[],r.length=K6(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(n),r,0,s)}return s&&(this.simplifiedGeometry_=new Nh(this.type_,r,s,2,this.properties_,this.id_)),this.squaredTolerance_=n,this.simplifiedGeometry_}),this}}Nh.prototype.getFlatCoordinates=Nh.prototype.getOrientedFlatCoordinates;const Q_=Nh;class m4 extends Z6{constructor(n){super(),this.geometries_=n||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(o4),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let n=0,e=this.geometries_.length;n<e;++n)this.changeEventsKeys_.push(u0(this.geometries_[n],"change",this.changed,this))}clone(){const n=new m4(null);return n.setGeometries(this.geometries_),n.applyProperties(this),n}closestPointXY(n,e,r,s){if(s<(0,Yr.Ld)(this.getExtent(),n,e))return s;const i=this.geometries_;for(let o=0,a=i.length;o<a;++o)s=i[o].closestPointXY(n,e,r,s);return s}containsXY(n,e){const r=this.geometries_;for(let s=0,i=r.length;s<i;++s)if(r[s].containsXY(n,e))return!0;return!1}computeExtent(n){(0,Yr.aZ)(n);const e=this.geometries_;for(let r=0,s=e.length;r<s;++r)(0,Yr.X$)(n,e[r].getExtent());return n}getGeometries(){return eH(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let n=[];const e=this.geometries_;for(let r=0,s=e.length;r<s;++r)e[r].getType()===this.getType()?n=n.concat(e[r].getGeometriesArrayRecursive()):n.push(e[r]);return n}getSimplifiedGeometry(n){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),n<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&n<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],r=this.geometries_;let s=!1;for(let i=0,o=r.length;i<o;++i){const a=r[i],l=a.getSimplifiedGeometry(n);e.push(l),l!==a&&(s=!0)}if(s){const i=new m4(null);return i.setGeometriesArray(e),i}return this.simplifiedGeometryMaxMinSquaredTolerance=n,this}getType(){return"GeometryCollection"}intersectsExtent(n){const e=this.geometries_;for(let r=0,s=e.length;r<s;++r)if(e[r].intersectsExtent(n))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(n,e){const r=this.geometries_;for(let s=0,i=r.length;s<i;++s)r[s].rotate(n,e);this.changed()}scale(n,e,r){r||(r=(0,Yr.q1)(this.getExtent()));const s=this.geometries_;for(let i=0,o=s.length;i<o;++i)s[i].scale(n,e,r);this.changed()}setGeometries(n){this.setGeometriesArray(eH(n))}setGeometriesArray(n){this.unlistenGeometriesChange_(),this.geometries_=n,this.listenGeometriesChange_(),this.changed()}applyTransform(n){const e=this.geometries_;for(let r=0,s=e.length;r<s;++r)e[r].applyTransform(n);this.changed()}translate(n,e){const r=this.geometries_;for(let s=0,i=r.length;s<i;++s)r[s].translate(n,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function eH(t){const n=[];for(let e=0,r=t.length;e<r;++e)n.push(t[e].clone());return n}const pU=m4,tH=class fU{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=P6,this.supportedMediaTypes=null}getReadOptions(n,e){if(e){let r=e.dataProjection?(0,Hs.Jt)(e.dataProjection):this.readProjection(n);e.extent&&r&&"tile-pixels"===r.getUnits()&&(r=(0,Hs.Jt)(r),r.setWorldExtent(e.extent)),e={dataProjection:r,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(n){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},n)}getType(){return as()}readFeature(n,e){return as()}readFeatures(n,e){return as()}readGeometry(n,e){return as()}readProjection(n){return as()}writeFeature(n,e){return as()}writeFeatures(n,e){return as()}writeGeometry(n,e){return as()}};function Fh(t,n,e){const r=e?(0,Hs.Jt)(e.featureProjection):null,s=e?(0,Hs.Jt)(e.dataProjection):null;let i=t;if(r&&s&&!(0,Hs.tI)(r,s)){n&&(i=t.clone());const o=n?r:s,a=n?s:r;"tile-pixels"===o.getUnits()?i.transform(o,a):i.applyTransform((0,Hs.RG)(o,a))}if(n&&e&&void 0!==e.decimals){const o=Math.pow(10,e.decimals),a=function(l){for(let c=0,u=l.length;c<u;++c)l[c]=Math.round(l[c]*o)/o;return l};i===t&&(i=t.clone()),i.applyTransform(a)}return i}function u9(t,n){const e=n?(0,Hs.Jt)(n.featureProjection):null,r=n?(0,Hs.Jt)(n.dataProjection):null;return e&&r&&!(0,Hs.tI)(e,r)?(0,Hs.DI)(t,r,e):t}const gU={Point:g0,LineString:f0,Polygon:v0,MultiPoint:r9,MultiLineString:e9,MultiPolygon:c9};function nH(t,n){const e=t.geometry;if(!e)return[];if(Array.isArray(e))return e.map(i=>nH({...t,geometry:i})).flat();const r="MultiPolygon"===e.type?"Polygon":e.type;if("GeometryCollection"===r||"Circle"===r)throw new Error("Unsupported geometry type: "+r);const s=e.layout.length;return Fh(new Q_(r,"Polygon"===r?function vU(t,n,e){return Array.isArray(n[0])?(K_(t,0,n,e)||l9(t=t.slice(),0,n,e),t):(a9(t,0,n,e)||g4(t=t.slice(),0,n,e),t)}(e.flatCoordinates,e.ends,s):e.flatCoordinates,e.ends?.flat(),s,t.properties||{},t.id).enableSimplifyTransformed(),!1,n)}function h9(t,n){if(!t)return null;if(Array.isArray(t)){const r=t.map(s=>h9(s,n));return new pU(r)}return Fh(new(0,gU[t.type])(t.flatCoordinates,t.layout,t.ends),!1,n)}function zs(t,n){return aH().createElementNS(t,n)}function w4(t,n){return rH(t,n,[]).join("")}function rH(t,n,e){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e.push(n?String(t.nodeValue).replace(/(\r\n|\r|\n)/g,""):t.nodeValue);else{let r;for(r=t.firstChild;r;r=r.nextSibling)rH(r,n,e)}return e}function C4(t){return"documentElement"in t}function m0(t){return(new DOMParser).parseFromString(t,"application/xml")}function sH(t,n){return function(e,r){const s=t.call(void 0!==n?n:this,e,r);void 0!==s&&(0,Ui.X$)(r[r.length-1],s)}}function nr(t,n){return function(e,r){const s=t.call(void 0!==n?n:this,e,r);void 0!==s&&r[r.length-1].push(s)}}function Dn(t,n){return function(e,r){const s=t.call(void 0!==n?n:this,e,r);void 0!==s&&(r[r.length-1]=s)}}function hn(t,n){return function(e,r,s){t.call(void 0!==n?n:this,e,r,s),s[s.length-1].node.appendChild(e)}}function $1(t,n){return function(e,r,s){let a=t;return void 0===a&&(a=s),zs(void 0!==n?n:r[r.length-1].node.namespaceURI,a)}}const iH=$1();function Ph(t,n,e,r){let s;for(s=n.firstElementChild;s;s=s.nextElementSibling){const i=t[s.namespaceURI];if(void 0!==i){const o=i[s.localName];void 0!==o&&o.call(r,s,e)}}}function Vs(t,n,e,r,s){return r.push(t),Ph(n,e,r,s),r.pop()}function wo(t,n,e,r,s,i,o){return s.push(t),function oH(t,n,e,r,s,i){const o=(void 0!==s?s:e).length;let a,l;for(let c=0;c<o;++c)a=e[c],void 0!==a&&(l=n.call(void 0!==i?i:this,a,r,void 0!==s?s[c]:void 0),void 0!==l&&t[l.namespaceURI][l.localName].call(i,l,a,r))}(n,e,r,s,i,o),s.pop()}let y4,I4;function aH(){return void 0===I4&&typeof document<"u"&&(I4=document.implementation.createDocument("","",null)),I4}const IU=class yU extends tH{constructor(){super(),this.xmlSerializer_=function CU(){return void 0===y4&&typeof XMLSerializer<"u"&&(y4=new XMLSerializer),y4}()}getType(){return"xml"}readFeature(n,e){if(!n)return null;if("string"==typeof n){const r=m0(n);return this.readFeatureFromDocument(r,e)}return C4(n)?this.readFeatureFromDocument(n,e):this.readFeatureFromNode(n,e)}readFeatureFromDocument(n,e){const r=this.readFeaturesFromDocument(n,e);return r.length>0?r[0]:null}readFeatureFromNode(n,e){return null}readFeatures(n,e){if(!n)return[];if("string"==typeof n){const r=m0(n);return this.readFeaturesFromDocument(r,e)}return C4(n)?this.readFeaturesFromDocument(n,e):this.readFeaturesFromNode(n,e)}readFeaturesFromDocument(n,e){const r=[];for(let s=n.firstChild;s;s=s.nextSibling)s.nodeType==Node.ELEMENT_NODE&&(0,Ui.X$)(r,this.readFeaturesFromNode(s,e));return r}readFeaturesFromNode(n,e){return as()}readGeometry(n,e){if(!n)return null;if("string"==typeof n){const r=m0(n);return this.readGeometryFromDocument(r,e)}return C4(n)?this.readGeometryFromDocument(n,e):this.readGeometryFromNode(n,e)}readGeometryFromDocument(n,e){return null}readGeometryFromNode(n,e){return null}readProjection(n){if(!n)return null;if("string"==typeof n){const e=m0(n);return this.readProjectionFromDocument(e)}return C4(n)?this.readProjectionFromDocument(n):this.readProjectionFromNode(n)}readProjectionFromDocument(n){return this.dataProjection}readProjectionFromNode(n){return this.dataProjection}writeFeature(n,e){const r=this.writeFeatureNode(n,e);return this.xmlSerializer_.serializeToString(r)}writeFeatureNode(n,e){return null}writeFeatures(n,e){const r=this.writeFeaturesNode(n,e);return this.xmlSerializer_.serializeToString(r)}writeFeaturesNode(n,e){return null}writeGeometry(n,e){const r=this.writeGeometryNode(n,e);return this.xmlSerializer_.serializeToString(r)}writeGeometryNode(n,e){return null}},A4="http://www.opengis.net/gml",AU=/^\s*$/;class Xs extends IU{constructor(n){super(),this.featureType=(n=n||{}).featureType,this.featureNS=n.featureNS,this.srsName=n.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:nr(this.readFeaturesInternal),featureMembers:Dn(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(n,e){const r=n.localName;let s=null;if("FeatureCollection"==r)s=Vs([],this.FEATURE_COLLECTION_PARSERS,n,e,this);else if("featureMembers"==r||"featureMember"==r||"member"==r){const i=e[0];let o=i.featureType,a=i.featureNS;const l="p",c="p0";if(!o&&n.childNodes){o=[],a={};for(let d=0,p=n.childNodes.length;d<p;++d){const v=n.childNodes[d];if(1===v.nodeType){const b=v.nodeName.split(":").pop();if(!o.includes(b)){let _="",z=0;const N=v.namespaceURI;for(const me in a){if(a[me]===N){_=me;break}++z}_||(_=l+z,a[_]=N),o.push(_+":"+b)}}}"featureMember"!=r&&(i.featureType=o,i.featureNS=a)}if("string"==typeof a){const d=a;a={},a[c]=d}const u={},h=Array.isArray(o)?o:[o];for(const d in a){const p={};for(let v=0,b=h.length;v<b;++v)(h[v].includes(":")?h[v].split(":")[0]:c)===d&&(p[h[v].split(":").pop()]="featureMembers"==r?nr(this.readFeatureElement,this):Dn(this.readFeatureElement,this));u[a[d]]=p}s=Vs("featureMember"==r||"member"==r?void 0:[],u,n,e)}return null===s&&(s=[]),s}readGeometryOrExtent(n,e){const r=e[0];return r.srsName=n.firstElementChild.getAttribute("srsName"),r.srsDimension=n.firstElementChild.getAttribute("srsDimension"),Vs(null,this.GEOMETRY_PARSERS,n,e,this)}readExtentElement(n,e){const r=e[0],s=this.readGeometryOrExtent(n,e);return s?u9(s,r):void 0}readGeometryElement(n,e){const r=e[0],s=this.readGeometryOrExtent(n,e);return s?Fh(s,!1,r):void 0}readFeatureElementInternal(n,e,r){let s;const i={};for(let l=n.firstElementChild;l;l=l.nextElementSibling){let c;const u=l.localName;0===l.childNodes.length||1===l.childNodes.length&&(3===l.firstChild.nodeType||4===l.firstChild.nodeType)?(c=w4(l,!1),AU.test(c)&&(c=void 0)):(r&&(c="boundedBy"===u?this.readExtentElement(l,e):this.readGeometryElement(l,e)),c?"boundedBy"!==u&&(s=u):c=this.readFeatureElementInternal(l,e,!1));const h=l.attributes.length;if(h>0&&!(c instanceof Z6)){c={_content_:c};for(let d=0;d<h;d++)c[l.attributes[d].name]=l.attributes[d].value}i[u]?(i[u]instanceof Array||(i[u]=[i[u]]),i[u].push(c)):i[u]=c}if(!r)return i;const o=new P6(i);s&&o.setGeometryName(s);const a=n.getAttribute("fid")||function wU(t,n,e){return t.getAttributeNS(n,e)||""}(n,this.namespace,"id");return a&&o.setId(a),o}readFeatureElement(n,e){return this.readFeatureElementInternal(n,e,!0)}readPoint(n,e){const r=this.readFlatCoordinatesFromNode(n,e);if(r)return new g0(r,"XYZ")}readMultiPoint(n,e){const r=Vs([],this.MULTIPOINT_PARSERS,n,e,this);if(r)return new r9(r)}readMultiLineString(n,e){const r=Vs([],this.MULTILINESTRING_PARSERS,n,e,this);if(r)return new e9(r)}readMultiPolygon(n,e){const r=Vs([],this.MULTIPOLYGON_PARSERS,n,e,this);if(r)return new c9(r)}pointMemberParser(n,e){Ph(this.POINTMEMBER_PARSERS,n,e,this)}lineStringMemberParser(n,e){Ph(this.LINESTRINGMEMBER_PARSERS,n,e,this)}polygonMemberParser(n,e){Ph(this.POLYGONMEMBER_PARSERS,n,e,this)}readLineString(n,e){const r=this.readFlatCoordinatesFromNode(n,e);if(r)return new f0(r,"XYZ")}readFlatLinearRing(n,e){const r=Vs(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,n,e,this);if(r)return r}readLinearRing(n,e){const r=this.readFlatCoordinatesFromNode(n,e);if(r)return new Q6(r,"XYZ")}readPolygon(n,e){const r=Vs([null],this.FLAT_LINEAR_RINGS_PARSERS,n,e,this);if(r&&r[0]){const s=r[0],i=[s.length];let o,a;for(o=1,a=r.length;o<a;++o)(0,Ui.X$)(s,r[o]),i.push(s.length);return new v0(s,"XYZ",i)}}readFlatCoordinatesFromNode(n,e){return Vs(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,n,e,this)}readGeometryFromNode(n,e){return this.readGeometryElement(n,[this.getReadOptions(n,e||{})])||null}readFeaturesFromNode(n,e){const r={featureType:this.featureType,featureNS:this.featureNS};return r&&Object.assign(r,this.getReadOptions(n,e)),this.readFeaturesInternal(n,[r])||[]}readProjectionFromNode(n){return(0,Hs.Jt)(this.srsName?this.srsName:n.firstElementChild.getAttribute("srsName"))}}Xs.prototype.namespace=A4,Xs.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},Xs.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},Xs.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},Xs.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:nr(Xs.prototype.pointMemberParser),pointMembers:nr(Xs.prototype.pointMemberParser)}},Xs.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:nr(Xs.prototype.lineStringMemberParser),lineStringMembers:nr(Xs.prototype.lineStringMemberParser)}},Xs.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:nr(Xs.prototype.polygonMemberParser),polygonMembers:nr(Xs.prototype.polygonMemberParser)}},Xs.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:nr(Xs.prototype.readFlatCoordinatesFromNode)}},Xs.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:nr(Xs.prototype.readLineString)}},Xs.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:nr(Xs.prototype.readPolygon)}},Xs.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Dn(Xs.prototype.readFlatLinearRing)}};const lr=Xs;function w0(t){const n=/^\s*(\d+)\s*$/.exec(t);if(n)return parseInt(n[1],10)}function Ko(t,n){t.appendChild(aH().createTextNode(n))}const SU=A4+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",MU={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class Ir extends lr{constructor(n){super(n=n||{}),this.FEATURE_COLLECTION_PARSERS[A4].featureMember=nr(this.readFeaturesInternal),this.schemaLocation=n.schemaLocation?n.schemaLocation:SU}readFlatCoordinates(n,e){const r=w4(n,!1).replace(/^\s*|\s*$/g,""),i=e[0].srsName;let o="enu";if(i){const c=(0,Hs.Jt)(i);c&&(o=c.getAxisOrientation())}const a=r.trim().split(/\s+/),l=[];for(let c=0,u=a.length;c<u;c++){const h=a[c].split(/,+/),d=parseFloat(h[0]),p=parseFloat(h[1]),v=3===h.length?parseFloat(h[2]):0;"en"===o.substr(0,2)?l.push(d,p,v):l.push(p,d,v)}return l}readBox(n,e){const r=Vs([null],this.BOX_PARSERS_,n,e,this);return(0,Yr.N)(r[1][0],r[1][1],r[1][3],r[1][4])}innerBoundaryIsParser(n,e){const r=Vs(void 0,this.RING_PARSERS,n,e,this);r&&e[e.length-1].push(r)}outerBoundaryIsParser(n,e){const r=Vs(void 0,this.RING_PARSERS,n,e,this);r&&(e[e.length-1][0]=r)}GEOMETRY_NODE_FACTORY_(n,e,r){const s=e[e.length-1],i=s.multiSurface,o=s.surface,a=s.multiCurve;return Array.isArray(n)?r="Envelope":"MultiPolygon"===(r=n.getType())&&!0===i?r="MultiSurface":"Polygon"===r&&!0===o?r="Surface":"MultiLineString"===r&&!0===a&&(r="MultiCurve"),zs("http://www.opengis.net/gml",r)}writeFeatureElement(n,e,r){const s=e.getId();s&&n.setAttribute("fid",s);const i=r[r.length-1],o=i.featureNS,a=e.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});const l=[],c=[];if(e.hasProperties()){const h=e.getProperties();for(const d in h){const p=h[d];null!==p&&(l.push(d),c.push(p),d==a||"function"==typeof p.getSimplifiedGeometry?d in i.serializers[o]||(i.serializers[o][d]=hn(this.writeGeometryElement,this)):d in i.serializers[o]||(i.serializers[o][d]=hn(Ko)))}}const u=Object.assign({},i);u.node=n,wo(u,i.serializers,$1(void 0,o),c,r,l)}writeCurveOrLineString(n,e,r){const i=r[r.length-1].srsName;if("LineStringSegment"!==n.nodeName&&i&&n.setAttribute("srsName",i),"LineString"===n.nodeName||"LineStringSegment"===n.nodeName){const o=this.createCoordinatesNode_(n.namespaceURI);n.appendChild(o),this.writeCoordinates_(o,e,r)}else if("Curve"===n.nodeName){const o=zs(n.namespaceURI,"segments");n.appendChild(o),this.writeCurveSegments_(o,e,r)}}writeLineStringOrCurveMember(n,e,r){const s=this.GEOMETRY_NODE_FACTORY_(e,r);s&&(n.appendChild(s),this.writeCurveOrLineString(s,e,r))}writeMultiCurveOrLineString(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName,a=s.curve;o&&n.setAttribute("srsName",o);const l=e.getLineStrings();wo({node:n,hasZ:i,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeGeometryElement(n,e,r){const s=r[r.length-1],i=Object.assign({},s);let o;i.node=n,o=Array.isArray(e)?u9(e,s):Fh(e,!0,s),wo(i,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[o],r,void 0,this)}createCoordinatesNode_(n){const e=zs(n,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e}writeCoordinates_(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName,a=e.getCoordinates(),l=a.length,c=new Array(l);for(let u=0;u<l;++u)c[u]=this.getCoords_(a[u],o,i);Ko(n,c.join(" "))}writeCurveSegments_(n,e,r){const s=zs(n.namespaceURI,"LineStringSegment");n.appendChild(s),this.writeCurveOrLineString(s,e,r)}writeSurfaceOrPolygon(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName;if("PolygonPatch"!==n.nodeName&&o&&n.setAttribute("srsName",o),"Polygon"===n.nodeName||"PolygonPatch"===n.nodeName){const a=e.getLinearRings();wo({node:n,hasZ:i,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===n.nodeName){const a=zs(n.namespaceURI,"patches");n.appendChild(a),this.writeSurfacePatches_(a,e,r)}}RING_NODE_FACTORY_(n,e,r){const s=e[e.length-1],i=s.node,o=s.exteriorWritten;return void 0===o&&(s.exteriorWritten=!0),zs(i.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(n,e,r){const s=zs(n.namespaceURI,"PolygonPatch");n.appendChild(s),this.writeSurfaceOrPolygon(s,e,r)}writeRing(n,e,r){const s=zs(n.namespaceURI,"LinearRing");n.appendChild(s),this.writeLinearRing(s,e,r)}getCoords_(n,e,r){let s="enu";e&&(s=(0,Hs.Jt)(e).getAxisOrientation());let i="en"===s.substr(0,2)?n[0]+","+n[1]:n[1]+","+n[0];return r&&(i+=","+(n[2]||0)),i}writePoint(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName;o&&n.setAttribute("srsName",o);const a=this.createCoordinatesNode_(n.namespaceURI);n.appendChild(a);const l=e.getCoordinates();Ko(a,this.getCoords_(l,o,i))}writeMultiPoint(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName;o&&n.setAttribute("srsName",o);const a=e.getPoints();wo({node:n,hasZ:i,srsName:o},this.POINTMEMBER_SERIALIZERS,$1("pointMember"),a,r,void 0,this)}writePointMember(n,e,r){const s=zs(n.namespaceURI,"Point");n.appendChild(s),this.writePoint(s,e,r)}writeLinearRing(n,e,r){const i=r[r.length-1].srsName;i&&n.setAttribute("srsName",i);const o=this.createCoordinatesNode_(n.namespaceURI);n.appendChild(o),this.writeCoordinates_(o,e,r)}writeMultiSurfaceOrPolygon(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName,a=s.surface;o&&n.setAttribute("srsName",o);const l=e.getPolygons();wo({node:n,hasZ:i,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeSurfaceOrPolygonMember(n,e,r){const s=this.GEOMETRY_NODE_FACTORY_(e,r);s&&(n.appendChild(s),this.writeSurfaceOrPolygon(s,e,r))}writeEnvelope(n,e,r){const i=r[r.length-1].srsName;i&&n.setAttribute("srsName",i),wo({node:n},this.ENVELOPE_SERIALIZERS,iH,[e[0]+" "+e[1],e[2]+" "+e[3]],r,["lowerCorner","upperCorner"],this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(n,e,r){return zs("http://www.opengis.net/gml",MU[e[e.length-1].node.nodeName])}}Ir.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:Dn(Ir.prototype.readFlatCoordinates)}},Ir.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:Ir.prototype.innerBoundaryIsParser,outerBoundaryIs:Ir.prototype.outerBoundaryIsParser}},Ir.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:nr(Ir.prototype.readFlatCoordinates)}},Ir.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Dn(lr.prototype.readPoint),MultiPoint:Dn(lr.prototype.readMultiPoint),LineString:Dn(lr.prototype.readLineString),MultiLineString:Dn(lr.prototype.readMultiLineString),LinearRing:Dn(lr.prototype.readLinearRing),Polygon:Dn(lr.prototype.readPolygon),MultiPolygon:Dn(lr.prototype.readMultiPolygon),Box:Dn(Ir.prototype.readBox)}},Ir.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:hn(Ir.prototype.writeCurveOrLineString),MultiCurve:hn(Ir.prototype.writeMultiCurveOrLineString),Point:hn(Ir.prototype.writePoint),MultiPoint:hn(Ir.prototype.writeMultiPoint),LineString:hn(Ir.prototype.writeCurveOrLineString),MultiLineString:hn(Ir.prototype.writeMultiCurveOrLineString),LinearRing:hn(Ir.prototype.writeLinearRing),Polygon:hn(Ir.prototype.writeSurfaceOrPolygon),MultiPolygon:hn(Ir.prototype.writeMultiSurfaceOrPolygon),Surface:hn(Ir.prototype.writeSurfaceOrPolygon),MultiSurface:hn(Ir.prototype.writeMultiSurfaceOrPolygon),Envelope:hn(Ir.prototype.writeEnvelope)}},Ir.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:hn(Ir.prototype.writeLineStringOrCurveMember),curveMember:hn(Ir.prototype.writeLineStringOrCurveMember)}},Ir.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:hn(Ir.prototype.writeRing),innerBoundaryIs:hn(Ir.prototype.writeRing)}},Ir.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:hn(Ir.prototype.writePointMember)}},Ir.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:hn(Ir.prototype.writeSurfaceOrPolygonMember),polygonMember:hn(Ir.prototype.writeSurfaceOrPolygonMember)}},Ir.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:hn(Ko),upperCorner:hn(Ko)}};const lH=Ir,_U=A4+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",HU={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class Cn extends lr{constructor(n){super(n=n||{}),this.surface_=void 0!==n.surface&&n.surface,this.curve_=void 0!==n.curve&&n.curve,this.multiCurve_=void 0===n.multiCurve||n.multiCurve,this.multiSurface_=void 0===n.multiSurface||n.multiSurface,this.schemaLocation=n.schemaLocation?n.schemaLocation:_U,this.hasZ=void 0!==n.hasZ&&n.hasZ}readMultiCurve(n,e){const r=Vs([],this.MULTICURVE_PARSERS,n,e,this);if(r)return new e9(r)}readFlatCurveRing(n,e){const r=Vs([],this.MULTICURVE_PARSERS,n,e,this),s=[];for(let i=0,o=r.length;i<o;++i)(0,Ui.X$)(s,r[i].getFlatCoordinates());return s}readMultiSurface(n,e){const r=Vs([],this.MULTISURFACE_PARSERS,n,e,this);if(r)return new c9(r)}curveMemberParser(n,e){Ph(this.CURVEMEMBER_PARSERS,n,e,this)}surfaceMemberParser(n,e){Ph(this.SURFACEMEMBER_PARSERS,n,e,this)}readPatch(n,e){return Vs([null],this.PATCHES_PARSERS,n,e,this)}readSegment(n,e){return Vs([],this.SEGMENTS_PARSERS,n,e,this)}readPolygonPatch(n,e){return Vs([null],this.FLAT_LINEAR_RINGS_PARSERS,n,e,this)}readLineStringSegment(n,e){return Vs([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,n,e,this)}interiorParser(n,e){const r=Vs(void 0,this.RING_PARSERS,n,e,this);r&&e[e.length-1].push(r)}exteriorParser(n,e){const r=Vs(void 0,this.RING_PARSERS,n,e,this);r&&(e[e.length-1][0]=r)}readSurface(n,e){const r=Vs([null],this.SURFACE_PARSERS,n,e,this);if(r&&r[0]){const s=r[0],i=[s.length];let o,a;for(o=1,a=r.length;o<a;++o)(0,Ui.X$)(s,r[o]),i.push(s.length);return new v0(s,"XYZ",i)}}readCurve(n,e){const r=Vs([null],this.CURVE_PARSERS,n,e,this);if(r)return new f0(r,"XYZ")}readEnvelope(n,e){const r=Vs([null],this.ENVELOPE_PARSERS,n,e,this);return(0,Yr.N)(r[1][0],r[1][1],r[2][0],r[2][1])}readFlatPos(n,e){let r=w4(n,!1);const s=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,i=[];let o;for(;o=s.exec(r);)i.push(parseFloat(o[1])),r=r.substr(o[0].length);if(""!==r)return;const l=e[0].srsName;let c="enu";if(l&&(c=(0,Hs.Jt)(l).getAxisOrientation()),"neu"===c){let h,d;for(h=0,d=i.length;h<d;h+=3){const p=i[h];i[h]=i[h+1],i[h+1]=p}}const u=i.length;return 2==u&&i.push(0),0!==u?i:void 0}readFlatPosList(n,e){const r=w4(n,!1).replace(/^\s*|\s*$/g,""),s=e[0],i=s.srsName,o=s.srsDimension;let a="enu";i&&(a=(0,Hs.Jt)(i).getAxisOrientation());const l=r.split(/\s+/);let u,h,d,c=2;n.getAttribute("srsDimension")?c=w0(n.getAttribute("srsDimension")):n.getAttribute("dimension")?c=w0(n.getAttribute("dimension")):n.parentNode.getAttribute("srsDimension")?c=w0(n.parentNode.getAttribute("srsDimension")):o&&(c=w0(o));const p=[];for(let v=0,b=l.length;v<b;v+=c)u=parseFloat(l[v]),h=parseFloat(l[v+1]),d=3===c?parseFloat(l[v+2]):0,"en"===a.substr(0,2)?p.push(u,h,d):p.push(h,u,d);return p}writePos_(n,e,r){const s=r[r.length-1],i=s.hasZ;n.setAttribute("srsDimension",i?"3":"2");const a=s.srsName;let l="enu";a&&(l=(0,Hs.Jt)(a).getAxisOrientation());const c=e.getCoordinates();let u;u="en"===l.substr(0,2)?c[0]+" "+c[1]:c[1]+" "+c[0],i&&(u+=" "+(c[2]||0)),Ko(n,u)}getCoords_(n,e,r){let s="enu";e&&(s=(0,Hs.Jt)(e).getAxisOrientation());let i="en"===s.substr(0,2)?n[0]+" "+n[1]:n[1]+" "+n[0];return r&&(i+=" "+(n[2]||0)),i}writePosList_(n,e,r){const s=r[r.length-1],i=s.hasZ;n.setAttribute("srsDimension",i?"3":"2");const a=s.srsName,l=e.getCoordinates(),c=l.length,u=new Array(c);let h;for(let d=0;d<c;++d)h=l[d],u[d]=this.getCoords_(h,a,i);Ko(n,u.join(" "))}writePoint(n,e,r){const i=r[r.length-1].srsName;i&&n.setAttribute("srsName",i);const o=zs(n.namespaceURI,"pos");n.appendChild(o),this.writePos_(o,e,r)}writeEnvelope(n,e,r){const i=r[r.length-1].srsName;i&&n.setAttribute("srsName",i),wo({node:n},this.ENVELOPE_SERIALIZERS,iH,[e[0]+" "+e[1],e[2]+" "+e[3]],r,["lowerCorner","upperCorner"],this)}writeLinearRing(n,e,r){const i=r[r.length-1].srsName;i&&n.setAttribute("srsName",i);const o=zs(n.namespaceURI,"posList");n.appendChild(o),this.writePosList_(o,e,r)}RING_NODE_FACTORY_(n,e,r){const s=e[e.length-1],i=s.node,o=s.exteriorWritten;return void 0===o&&(s.exteriorWritten=!0),zs(i.namespaceURI,void 0!==o?"interior":"exterior")}writeSurfaceOrPolygon(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName;if("PolygonPatch"!==n.nodeName&&o&&n.setAttribute("srsName",o),"Polygon"===n.nodeName||"PolygonPatch"===n.nodeName){const a=e.getLinearRings();wo({node:n,hasZ:i,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===n.nodeName){const a=zs(n.namespaceURI,"patches");n.appendChild(a),this.writeSurfacePatches_(a,e,r)}}writeCurveOrLineString(n,e,r){const i=r[r.length-1].srsName;if("LineStringSegment"!==n.nodeName&&i&&n.setAttribute("srsName",i),"LineString"===n.nodeName||"LineStringSegment"===n.nodeName){const o=zs(n.namespaceURI,"posList");n.appendChild(o),this.writePosList_(o,e,r)}else if("Curve"===n.nodeName){const o=zs(n.namespaceURI,"segments");n.appendChild(o),this.writeCurveSegments_(o,e,r)}}writeMultiSurfaceOrPolygon(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName,a=s.surface;o&&n.setAttribute("srsName",o);const l=e.getPolygons();wo({node:n,hasZ:i,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeMultiPoint(n,e,r){const s=r[r.length-1],i=s.srsName,o=s.hasZ;i&&n.setAttribute("srsName",i);const a=e.getPoints();wo({node:n,hasZ:o,srsName:i},this.POINTMEMBER_SERIALIZERS,$1("pointMember"),a,r,void 0,this)}writeMultiCurveOrLineString(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName,a=s.curve;o&&n.setAttribute("srsName",o);const l=e.getLineStrings();wo({node:n,hasZ:i,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeRing(n,e,r){const s=zs(n.namespaceURI,"LinearRing");n.appendChild(s),this.writeLinearRing(s,e,r)}writeSurfaceOrPolygonMember(n,e,r){const s=this.GEOMETRY_NODE_FACTORY_(e,r);s&&(n.appendChild(s),this.writeSurfaceOrPolygon(s,e,r))}writePointMember(n,e,r){const s=zs(n.namespaceURI,"Point");n.appendChild(s),this.writePoint(s,e,r)}writeLineStringOrCurveMember(n,e,r){const s=this.GEOMETRY_NODE_FACTORY_(e,r);s&&(n.appendChild(s),this.writeCurveOrLineString(s,e,r))}writeSurfacePatches_(n,e,r){const s=zs(n.namespaceURI,"PolygonPatch");n.appendChild(s),this.writeSurfaceOrPolygon(s,e,r)}writeCurveSegments_(n,e,r){const s=zs(n.namespaceURI,"LineStringSegment");n.appendChild(s),this.writeCurveOrLineString(s,e,r)}writeGeometryElement(n,e,r){const s=r[r.length-1],i=Object.assign({},s);let o;i.node=n,o=Array.isArray(e)?u9(e,s):Fh(e,!0,s),wo(i,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[o],r,void 0,this)}writeFeatureElement(n,e,r){const s=e.getId();s&&n.setAttribute("fid",s);const i=r[r.length-1],o=i.featureNS,a=e.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});const l=[],c=[];if(e.hasProperties()){const h=e.getProperties();for(const d in h){const p=h[d];null!==p&&(l.push(d),c.push(p),d==a||"function"==typeof p.getSimplifiedGeometry?d in i.serializers[o]||(i.serializers[o][d]=hn(this.writeGeometryElement,this)):d in i.serializers[o]||(i.serializers[o][d]=hn(Ko)))}}const u=Object.assign({},i);u.node=n,wo(u,i.serializers,$1(void 0,o),c,r,l)}writeFeatureMembers_(n,e,r){const s=r[r.length-1],i=s.featureType,o=s.featureNS,a={};a[o]={},a[o][i]=hn(this.writeFeatureElement,this);const l=Object.assign({},s);l.node=n,wo(l,a,$1(i,o),e,r)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(n,e,r){return zs(this.namespace,HU[e[e.length-1].node.nodeName])}GEOMETRY_NODE_FACTORY_(n,e,r){const s=e[e.length-1],i=s.multiSurface,o=s.surface,a=s.curve,l=s.multiCurve;return Array.isArray(n)?r="Envelope":"MultiPolygon"===(r=n.getType())&&!0===i?r="MultiSurface":"Polygon"===r&&!0===o?r="Surface":"LineString"===r&&!0===a?r="Curve":"MultiLineString"===r&&!0===l&&(r="MultiCurve"),zs(this.namespace,r)}writeGeometryNode(n,e){e=this.adaptOptions(e);const r=zs(this.namespace,"geom"),s={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object.assign(s,e),this.writeGeometryElement(r,n,[s]),r}writeFeaturesNode(n,e){e=this.adaptOptions(e);const r=zs(this.namespace,"featureMembers");r.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);const s={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object.assign(s,e),this.writeFeatureMembers_(r,n,[s]),r}}Cn.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:Dn(Cn.prototype.readFlatPos),posList:Dn(Cn.prototype.readFlatPosList),coordinates:Dn(lH.prototype.readFlatCoordinates)}},Cn.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:Cn.prototype.interiorParser,exterior:Cn.prototype.exteriorParser}},Cn.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Dn(lr.prototype.readPoint),MultiPoint:Dn(lr.prototype.readMultiPoint),LineString:Dn(lr.prototype.readLineString),MultiLineString:Dn(lr.prototype.readMultiLineString),LinearRing:Dn(lr.prototype.readLinearRing),Polygon:Dn(lr.prototype.readPolygon),MultiPolygon:Dn(lr.prototype.readMultiPolygon),Surface:Dn(Cn.prototype.readSurface),MultiSurface:Dn(Cn.prototype.readMultiSurface),Curve:Dn(Cn.prototype.readCurve),MultiCurve:Dn(Cn.prototype.readMultiCurve),Envelope:Dn(Cn.prototype.readEnvelope)}},Cn.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:nr(Cn.prototype.curveMemberParser),curveMembers:nr(Cn.prototype.curveMemberParser)}},Cn.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:nr(Cn.prototype.surfaceMemberParser),surfaceMembers:nr(Cn.prototype.surfaceMemberParser)}},Cn.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:nr(lr.prototype.readLineString),Curve:nr(Cn.prototype.readCurve)}},Cn.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:nr(lr.prototype.readPolygon),Surface:nr(Cn.prototype.readSurface)}},Cn.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:Dn(Cn.prototype.readPatch)}},Cn.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:Dn(Cn.prototype.readSegment)}},Cn.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:nr(Cn.prototype.readFlatPosList),upperCorner:nr(Cn.prototype.readFlatPosList)}},Cn.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:Dn(Cn.prototype.readPolygonPatch)}},Cn.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:sH(Cn.prototype.readLineStringSegment)}},lr.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Dn(lr.prototype.readFlatLinearRing),Ring:Dn(Cn.prototype.readFlatCurveRing)}},Cn.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:hn(Cn.prototype.writeRing),interior:hn(Cn.prototype.writeRing)}},Cn.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:hn(Ko),upperCorner:hn(Ko)}},Cn.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:hn(Cn.prototype.writeSurfaceOrPolygonMember),polygonMember:hn(Cn.prototype.writeSurfaceOrPolygonMember)}},Cn.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:hn(Cn.prototype.writePointMember)}},Cn.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:hn(Cn.prototype.writeLineStringOrCurveMember),curveMember:hn(Cn.prototype.writeLineStringOrCurveMember)}},Cn.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:hn(Cn.prototype.writeCurveOrLineString),MultiCurve:hn(Cn.prototype.writeMultiCurveOrLineString),Point:hn(Cn.prototype.writePoint),MultiPoint:hn(Cn.prototype.writeMultiPoint),LineString:hn(Cn.prototype.writeCurveOrLineString),MultiLineString:hn(Cn.prototype.writeMultiCurveOrLineString),LinearRing:hn(Cn.prototype.writeLinearRing),Polygon:hn(Cn.prototype.writeSurfaceOrPolygon),MultiPolygon:hn(Cn.prototype.writeMultiSurfaceOrPolygon),Surface:hn(Cn.prototype.writeSurfaceOrPolygon),MultiSurface:hn(Cn.prototype.writeMultiSurfaceOrPolygon),Envelope:hn(Cn.prototype.writeEnvelope)}};const dr=Cn;class Dr extends dr{constructor(n){super(n=n||{}),this.schemaLocation=n.schemaLocation?n.schemaLocation:this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd"}writeGeometryElement(n,e,r){r[r.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},r[r.length-1]),super.writeGeometryElement(n,e,r)}}Dr.prototype.namespace="http://www.opengis.net/gml/3.2",Dr.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:Dn(dr.prototype.readFlatPos),posList:Dn(dr.prototype.readFlatPosList),coordinates:Dn(lH.prototype.readFlatCoordinates)}},Dr.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:dr.prototype.interiorParser,exterior:dr.prototype.exteriorParser}},Dr.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:Dn(lr.prototype.readPoint),MultiPoint:Dn(lr.prototype.readMultiPoint),LineString:Dn(lr.prototype.readLineString),MultiLineString:Dn(lr.prototype.readMultiLineString),LinearRing:Dn(lr.prototype.readLinearRing),Polygon:Dn(lr.prototype.readPolygon),MultiPolygon:Dn(lr.prototype.readMultiPolygon),Surface:Dn(Dr.prototype.readSurface),MultiSurface:Dn(dr.prototype.readMultiSurface),Curve:Dn(Dr.prototype.readCurve),MultiCurve:Dn(dr.prototype.readMultiCurve),Envelope:Dn(Dr.prototype.readEnvelope)}},Dr.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:nr(dr.prototype.curveMemberParser),curveMembers:nr(dr.prototype.curveMemberParser)}},Dr.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:nr(dr.prototype.surfaceMemberParser),surfaceMembers:nr(dr.prototype.surfaceMemberParser)}},Dr.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:nr(lr.prototype.readLineString),Curve:nr(dr.prototype.readCurve)}},Dr.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:nr(lr.prototype.readPolygon),Surface:nr(dr.prototype.readSurface)}},Dr.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:Dn(dr.prototype.readPatch)}},Dr.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:Dn(dr.prototype.readSegment)}},Dr.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:nr(dr.prototype.readFlatPosList),upperCorner:nr(dr.prototype.readFlatPosList)}},Dr.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:Dn(dr.prototype.readPolygonPatch)}},Dr.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:sH(dr.prototype.readLineStringSegment)}},Dr.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:nr(lr.prototype.pointMemberParser),pointMembers:nr(lr.prototype.pointMemberParser)}},Dr.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:nr(lr.prototype.lineStringMemberParser),lineStringMembers:nr(lr.prototype.lineStringMemberParser)}},Dr.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:nr(lr.prototype.polygonMemberParser),polygonMembers:nr(lr.prototype.polygonMemberParser)}},Dr.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:nr(lr.prototype.readFlatCoordinatesFromNode)}},Dr.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:nr(lr.prototype.readLineString)}},Dr.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:nr(lr.prototype.readPolygon)}},Dr.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:Dn(lr.prototype.readFlatLinearRing),Ring:Dn(Dr.prototype.readFlatCurveRing)}},Dr.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:hn(dr.prototype.writeRing),interior:hn(dr.prototype.writeRing)}},Dr.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:hn(Ko),upperCorner:hn(Ko)}},Dr.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:hn(dr.prototype.writeSurfaceOrPolygonMember),polygonMember:hn(dr.prototype.writeSurfaceOrPolygonMember)}},Dr.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:hn(dr.prototype.writePointMember)}},Dr.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:hn(dr.prototype.writeLineStringOrCurveMember),curveMember:hn(dr.prototype.writeLineStringOrCurveMember)}},Dr.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:hn(dr.prototype.writeCurveOrLineString),MultiCurve:hn(dr.prototype.writeMultiCurveOrLineString),Point:hn(Dr.prototype.writePoint),MultiPoint:hn(dr.prototype.writeMultiPoint),LineString:hn(dr.prototype.writeCurveOrLineString),MultiLineString:hn(dr.prototype.writeMultiCurveOrLineString),LinearRing:hn(dr.prototype.writeLinearRing),Polygon:hn(dr.prototype.writeSurfaceOrPolygon),MultiPolygon:hn(dr.prototype.writeMultiSurfaceOrPolygon),Surface:hn(dr.prototype.writeSurfaceOrPolygon),MultiSurface:hn(dr.prototype.writeMultiSurfaceOrPolygon),Envelope:hn(dr.prototype.writeEnvelope)}};const cH=Dr;function b4(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}const VU=class zU extends tH{constructor(){super()}getType(){return"json"}readFeature(n,e){return this.readFeatureFromObject(b4(n),this.getReadOptions(n,e))}readFeatures(n,e){return this.readFeaturesFromObject(b4(n),this.getReadOptions(n,e))}readFeatureFromObject(n,e){return as()}readFeaturesFromObject(n,e){return as()}readGeometry(n,e){return this.readGeometryFromObject(b4(n),this.getReadOptions(n,e))}readGeometryFromObject(n,e){return as()}readProjection(n){return this.readProjectionFromObject(b4(n))}readProjectionFromObject(n){return as()}writeFeature(n,e){return JSON.stringify(this.writeFeatureObject(n,e))}writeFeatureObject(n,e){return as()}writeFeatures(n,e){return JSON.stringify(this.writeFeaturesObject(n,e))}writeFeaturesObject(n,e){return as()}writeGeometry(n,e){return JSON.stringify(this.writeGeometryObject(n,e))}writeGeometryObject(n,e){return as()}};function d9(t,n){if(!t)return null;let e;switch(t.type){case"Point":e=function RU(t){const n=t.coordinates;return{type:"Point",flatCoordinates:n,layout:Z1(n.length)}}(t);break;case"LineString":e=function DU(t){const n=t.coordinates,e=n.flat();return{type:"LineString",flatCoordinates:e,ends:[e.length],layout:Z1(n[0].length)}}(t);break;case"Polygon":e=function PU(t){const n=t.coordinates,e=[],r=n[0][0].length;return{type:"Polygon",flatCoordinates:e,ends:d0(e,0,n,r),layout:Z1(r)}}(t);break;case"MultiPoint":e=function NU(t){const n=t.coordinates;return{type:"MultiPoint",flatCoordinates:n.flat(),layout:Z1(n[0].length)}}(t);break;case"MultiLineString":e=function BU(t){const n=t.coordinates,e=n[0][0].length,r=[];return{type:"MultiLineString",flatCoordinates:r,ends:d0(r,0,n,e),layout:Z1(e)}}(t);break;case"MultiPolygon":e=function FU(t){const n=t.coordinates,e=[],r=n[0][0][0].length;return{type:"MultiPolygon",flatCoordinates:e,ends:j_(e,0,n,r),layout:Z1(r)}}(t);break;case"GeometryCollection":e=function LU(t){return t.geometries.map(function(r){return d9(r)})}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return e}function p9(t,n){const e=(t=Fh(t,!0,n)).getType();let r;switch(e){case"Point":r=function jU(t){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":r=function OU(t){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":r=function UU(t,n){let e;return n&&(e=n.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(e)}}(t,n);break;case"MultiPoint":r=function WU(t){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":r=function GU(t){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":r=function ZU(t,n){let e;return n&&(e=n.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(e)}}(t,n);break;case"GeometryCollection":r=function kU(t,n){return delete(n=Object.assign({},n)).featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(r){return p9(r,n)})}}(t,n);break;case"Circle":r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+e)}return r}const uH=class EU extends VU{constructor(n){n=n||{},super(),this.dataProjection=(0,Hs.Jt)(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(this.defaultFeatureProjection=(0,Hs.Jt)(n.featureProjection)),n.featureClass&&(this.featureClass=n.featureClass),this.geometryName_=n.geometryName,this.extractGeometryName_=n.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(n,e){let r=null;r="Feature"===n.type?n:{type:"Feature",geometry:n,properties:null};const s=d9(r.geometry);if(this.featureClass===Q_)return nH({geometry:s,id:r.id,properties:r.properties},e);const i=new P6;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&i.setGeometryName(r.geometry_name),i.setGeometry(h9(s,e)),"id"in r&&i.setId(r.id),r.properties&&i.setProperties(r.properties,!0),i}readFeaturesFromObject(n,e){let s=null;if("FeatureCollection"===n.type){s=[];const o=n.features;for(let a=0,l=o.length;a<l;++a){const c=this.readFeatureFromObject(o[a],e);c&&s.push(c)}}else s=[this.readFeatureFromObject(n,e)];return s.flat()}readGeometryFromObject(n,e){return function TU(t,n){return h9(d9(t),n)}(n,e)}readProjectionFromObject(n){const e=n.crs;let r;if(e)if("name"==e.type)r=(0,Hs.Jt)(e.properties.name);else{if("EPSG"!==e.type)throw new Error("Unknown SRS type");r=(0,Hs.Jt)("EPSG:"+e.properties.code)}else r=this.dataProjection;return r}writeFeatureObject(n,e){e=this.adaptOptions(e);const r={type:"Feature",geometry:null,properties:null},s=n.getId();if(void 0!==s&&(r.id=s),!n.hasProperties())return r;const i=n.getProperties(),o=n.getGeometry();return o&&(r.geometry=p9(o,e),delete i[n.getGeometryName()]),B_(i)||(r.properties=i),r}writeFeaturesObject(n,e){e=this.adaptOptions(e);const r=[];for(let s=0,i=n.length;s<i;++s)r.push(this.writeFeatureObject(n[s],e));return{type:"FeatureCollection",features:r}}writeGeometryObject(n,e){return p9(n,this.adaptOptions(e))}};function f9(t){const n=t.trim().split(/\s+/);return[n.shift(),n.join(" ").trim()||null]}function hH(t,n){const e=t?.trim(),r=n?.trim();return e||r?r&&e?`${e} ${r}`:r||e:null}function KU(t){if(!t)return"unspecified";switch(t){case"author":case"coAuthor":return"author";case"originator":return"originator";case"principalInvestigator":return"principal_investigator";case"resourceProvider":return"resource_provider";case"processor":return"processor";case"custodian":return"custodian";case"owner":return"owner";case"pointOfContact":return"point_of_contact";case"publisher":return"publisher";case"distributor":return"distributor";case"user":return"user";case"collaborator":return"collaborator";case"editor":return"editor";case"contributor":return"contributor";case"stakeholder":return"stakeholder";case"sponsor":return"sponsor";case"funder":return"funder";case"rightsHolder":return"rights_holder";case"mediator":return"mediator";default:return"other"}}function JU(t){switch(t){case"completed":return"completed";case"historicalArchive":return"removed";case"obsolete":return"deprecated";case"onGoing":return"ongoing";default:return"under_development"}}const qU=["unspecified","other","author","collaborator","contributor","custodian","distributor","editor","funder","mediator","originator","owner","point_of_contact","principal_investigator","processor","publisher","resource_provider","rights_holder","sponsor","stakeholder","user"],QU=["unknown","notPlanned","asNeeded","irregular","continual","periodic","daily","weekly","fortnightly","semimonthly","monthly","quarterly","biannually","annually","biennially"],e$=["completed","ongoing","under_development","deprecated","removed"];function t$(t){return t&&QU.includes(t)?t:null}const dH={eng:"en",dut:"nl",fre:"fr",ger:"de",kor:"ko",spa:"es",cze:"cs",cat:"ca",fin:"fi",ice:"is",ita:"it",por:"pt",rus:"ru",chi:"zh",slo:"sk",roh:"rm",ara:"ar",dan:"da",nor:"no",pol:"pl",swe:"sv",tur:"tr",arm:"hy",aze:"az",geo:"ka",ukr:"uk",wel:"cy"},n$=Object.entries(dH).reduce((t,n)=>({...t,[n[1]]:n[0]}),{});function x4(t){return n$[t]??t}function S4(t){return dH[t]??t}const pH={application:"reuse",dataset:"dataset",interactiveMap:"reuse",map:"reuse","map/static":"reuse","map/interactive":"reuse","map-interactive":"reuse","map-static":"reuse",mapDigital:"reuse",series:"dataset",service:"service",staticMap:"reuse"};function g9(t){return pH[t]||"dataset"}function fH(t){return"reuse"===g9(t)?{application:"application",map:"map","map/static":"map","map/interactive":"map","map-interactive":"map","map-static":"map",mapDigital:"map",interactiveMap:"map",staticMap:"map"}[t]||"other":void 0}function gH(t){return"reuse"===t.kind?t.reuseType:t.kind}function As(){return O(Tc(tn("gco:CharacterString",!1),tn("gmx:Anchor",!1),tn("gmx:MimeFileType",!1)),fa())}function Bi(t,n){return rs(O(Tc(tn("gco:CharacterString",!1),tn("gmx:Anchor",!1)),fa()),e=>{const r=Xr("gmd:PT_FreeText","gmd:textGroup","gmd:LocalisedCharacterString")(e),s=n??{};if(!r.length)return s;const i=r.reduce((o,a)=>{const l=_s("locale")(a).toLowerCase().replace(/^#/,""),c=fa()(a);return l?{...o,[l]:c}:o},{});return s[t]={...s[t],...i},s})}function v9(){return O(Tc(tn("gco:DateTime",!1),tn("gco:Date",!1)),fa(),Hn(t=>t?new Date(t):null))}function M4(){return O(tn("gco:Decimal",!1),fa(),Hn(t=>t?Number(t):null))}function jl(){const t=O(tn("gmd:URL",!1),fa()),n=O(tn("gco:CharacterString",!1),fa()),e=O(tn("gmx:Anchor",!1),_s("xlink:href"));return O(Tc(t,e,n),Hn(r=>{try{return new URL(r)}catch{return null}}))}function _4(){return Tc(jl(),()=>new URL("http://missing"))}function vH(){return O(tn("gmd:CI_RoleCode"),_s("codeListValue"),Hn(KU))}function mH(){const t=O(Xr("gmd:contactInfo","gmd:CI_Contact","gmd:onlineResource","gmd:CI_OnlineResource","gmd:linkage"),Ec(0),jl());return O(rs(O(tn("gmd:organisationName",!1),Bi("name")),t),Hn(([[n,e],r])=>({name:n,...r&&{website:r},translations:e})))}function wH(){const t=O(tn("gmd:role"),vH()),n=O(tn("gmd:positionName"),As()),e=O(tn("gmd:individualName"),As(),Hn(l=>l?f9(l):[])),r=mH(),s=Er("gmd:contactInfo","gmd:CI_Contact"),i=O(s,tn("gmd:electronicMailAddress"),As(),Hn(l=>null===l?"missing@missing.com":l)),o=O(s,Er("gmd:address","gmd:CI_Address"),rs(O(tn("gmd:deliveryPoint",!1),As()),O(tn("gmd:city",!1),As()),O(tn("gmd:postalCode",!1),As()),O(tn("gmd:country",!1),As())),Hn(l=>l.filter(c=>!!c).join(", "))),a=O(s,Er("gmd:phone","gmd:CI_Telephone","gmd:voice"),As());return O(rs(t,n,e,r,i,o,a),Hn(([l,c,[u,h],d,p,v,b])=>({email:p,role:l,organization:d,...c&&{position:c},...u&&{firstName:u},...h&&{lastName:h},...v&&{address:v},...b&&{phone:b}})))}Object.entries(pH).reduce((t,[n,e])=>((t[e]??=[]).push(n),t),{});const l$=O(H_("gmd:MD_Distribution"),Er("gmd:distributionFormat","gmd:MD_Format","gmd:name"),As(),Hn(E_));function CH(t){const n=O(tn("gmd:linkage"),_4()),e=O(tn("gmd:protocol"),As()),r=O(e,Hn(B6)),s=O(Er("gmd:function","gmd:CI_OnLineFunctionCode"),_s("codeListValue")),i=O(r,Hn(c=>"other"!==c)),o=O(rs(i,s,e),Hn(([c,u,h])=>!c&&"download"===u||/download/i.test(h))),a=O(tn("gmd:name"),Bi("name")),l=O(tn("gmd:description"),Bi("description"));return O(Xr("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),On(rs(i,o,r,n,a,l,t)),On(([c,u,h,d,[p,v],[b,_],z])=>{const N={...v,..._};return c?{type:"service",url:d,accessServiceProtocol:h,...p&&{identifierInService:p},...p&&{name:p},...b&&{description:b},translations:N}:u?{type:"download",url:d,...p&&{name:p},...b&&{description:b},...z&&{mimeType:z},translations:N}:{type:"link",url:d,...p&&{name:p},...b&&{description:b},translations:N}}))}function c$(t){if(!t)return null;const n=t.match(/^-?P(?:([0-9]+)Y)?(?:([0-9]+)M)?(?:([0-9]+)D)?T?(?:([0-9]+)H)?/);if(!n)return null;const e=parseInt(n[1],10)||0,r=parseInt(n[2],10)||0,s=parseInt(n[3],10)||0,i=parseInt(n[4],10)||0;return e?{per:"year",updatedTimes:1}:1===r?{per:"month",updatedTimes:1}:r?{per:"year",updatedTimes:Math.round(12/r)}:1===s?{per:"day",updatedTimes:1}:s>=1&&s<=7?{per:"week",updatedTimes:Math.round(7/s-1e-4)}:s?{per:"month",updatedTimes:Math.round(30/s)}:i?{per:"day",updatedTimes:Math.round(24/i)}:null}function $i(){return O(tn("gmd:identificationInfo",!1),rs(tn("gmd:MD_DataIdentification",!1),tn("srv:SV_ServiceIdentification",!1)),mo(t=>null!==t),Ec(0))}function m9(t){return O($i(),Xr("gmd:citation","gmd:CI_Citation","gmd:date"),mo(O(Xr("gmd:CI_Date","gmd:dateType","gmd:CI_DateTypeCode"),Ec(0),_s("codeListValue"),Hn(n=>n===t))),Ec(0),Xr("gmd:CI_Date","gmd:date"),Ec(0),v9())}function h$(t){switch(t){case"grid":case"vector":case"tin":case"table":case"point":return t;default:return null}}function d$(t){return O(tn("gmd:fileIdentifier",!1),As())(t)}function H4(t){return O(Er("gmd:hierarchyLevel","gmd:MD_ScopeCode"),_s("codeListValue"),Hn(n=>g9(n)))(t)}function p$(t){return O(Er("gmd:contact","gmd:CI_ResponsibleParty"),mH())(t)}function f$(t){return m9("revision")(t)}function g$(t){return m9("creation")(t)}function v$(t){return m9("publication")(t)}function m$(t){return O(tn("gmd:dateStamp"),v9())(t)}function w$(t){return O(Er("gmd:hierarchyLevel","gmd:MD_ScopeCode"),_s("codeListValue"),Hn(n=>fH(n)))(t)}function C$(t,n){return O($i(),Er("gmd:citation","gmd:CI_Citation","gmd:title"),Bi("title",n),Hn(([e])=>e))(t)}function y$(t,n){return O($i(),tn("gmd:abstract",!1),Bi("abstract",n),Hn(([e])=>e))(t)}function I$(t){return O(yr("gmd:contact",!1),On(tn("gmd:CI_ResponsibleParty",!1)),On(wH()))(t)}function A$(t){return O($i(),rs(yr("gmd:contact",!1),yr("gmd:pointOfContact",!1)),t=>t.flat(),On(tn("gmd:CI_ResponsibleParty",!1)),On(wH()))(t)}function b$(t){if(!t)return null;const n=Er("gmd:CI_Citation","gmd:identifier","gmd:MD_Identifier","gmd:code"),e=O(n,As())(t),r=O(n,jl())(t),s=O(Er("gmd:CI_Citation","gmd:title"),As())(t);return{id:e,...s&&{name:s},...r&&{url:r}}}function x$(t){const n=O(yr("gmd:MD_KeywordTypeCode"),On(_s("codeListValue")),Hn(r=>function YU(t){if(!t)return"other";switch(t){case"theme":case"place":case"temporal":case"other":return t;default:return"other"}}(r[0])))(t),e=O(Er("gmd:thesaurusName"),b$)(t);return O(yr("gmd:keyword"),On(r=>{const[s,i]=Bi("label")(r);return{...e?{thesaurus:e}:{},label:s,type:n,translations:i}}))(t)}function S$(t){return O($i(),Xr("gmd:descriptiveKeywords","gmd:MD_Keywords"),On(x$),t=>t.flat())(t)}function M$(t){return O($i(),tn("gmd:status",!1),function r$(){return O(tn("gmd:MD_ProgressCode"),_s("codeListValue"),Hn(JU))}())(t)}const z4=O($i(),yr("gmd:resourceConstraints",!1));function _$(t){return O(z4,On(function s$(){return O(yr("gmd:MD_LegalConstraints",!1),mo(O(yr("gmd:MD_RestrictionCode"),On(_s("codeListValue")),Hn(t=>-1===t.indexOf("license")))),On(rs(yr("gmd:otherConstraints"),yr("gmd:useLimitation"))),t=>t.flat(),t=>t.flat(),On(rs(Bi("text"),jl())),On(([[t,n],e])=>({...e&&{url:e},text:t,translations:n})))}()),t=>t.flat(),t=>t.flat())(t)}function H$(t){return O(z4,On(function i$(){return O(Xr("gmd:MD_SecurityConstraints","gmd:useLimitation"),t=>t.flat(),On(rs(Bi("text"),jl())),On(([[t,n],e])=>({...e&&{url:e},text:t,translations:n})))}()),t=>t.flat())(t)}function z$(t){return O(z4,On(function o$(){return O(Xr("gmd:MD_Constraints","gmd:useLimitation"),t=>t.flat(),On(rs(Bi("text"),jl())),On(([[t,n],e])=>({...e&&{url:e},text:t,translations:n})))}()),t=>t.flat())(t)}function V$(t){return O(z4,On(function a$(){return O(yr("gmd:MD_LegalConstraints",!1),mo(O(yr("gmd:MD_RestrictionCode"),On(_s("codeListValue")),Hn(t=>t.indexOf("license")>-1))),On(rs(yr("gmd:otherConstraints"),yr("gmd:useLimitation"))),t=>t.flat(),t=>t.flat(),On(rs(Bi("text"),jl())),On(([[t,n],e])=>({...e&&{url:e},text:t,translations:n})))}()),t=>t.flat())(t)}function E$(t){return O($i(),yr("gmd:MD_TopicCategoryCode",!0),On(fa()))(t)}function T$(t){return O($i(),Er("gmd:spatialRepresentationType","gmd:MD_SpatialRepresentationTypeCode"),_s("codeListValue"),Hn(h$))(t)}function L$(t){return O($i(),yr("gmd:graphicOverview",!1),On(rs(O(tn("gmd:fileName"),_4()),O(tn("gmd:fileDescription"),As()))),On(([n,e])=>({url:n,...e&&{description:e}})))(t)}function R$(t,n){return O(Er("gmd:dataQualityInfo","gmd:DQ_DataQuality","gmd:lineage","gmd:LI_Lineage","gmd:statement"),Bi("lineage",n),Hn(([e])=>e))(t)}function D$(t){return O($i(),Er("gmd:resourceMaintenance","gmd:MD_MaintenanceInformation"),function u$(){return Tc(O(tn("gmd:MD_MaintenanceFrequencyCode"),_s("codeListValue"),Hn(t$)),O(Er("gmd:userDefinedMaintenanceFrequency","gts:TM_PeriodDuration"),fa(),Hn(c$)),Hn(()=>"unknown"))}(),Hn(n=>n||"unknown"))(t)}function yH(){const t=O(tn("gmd:linkage"),_4()),n=O(tn("gmd:protocol"),As()),e=O(n,Hn(B6)),r=O(Er("gmd:function","gmd:CI_OnLineFunctionCode"),_s("codeListValue")),s=O(r,Hn(a=>"information"===a)),i=O(tn("gmd:name"),Bi("name")),o=O(tn("gmd:description"),Bi("description",{}));return O(Xr("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),On(rs(s,e,t,i,o)),On(([a,l,c,[u,h],[d,p]])=>{const v={...h,...p};return a?{type:"link",url:c,...u&&{name:u},...d&&{description:d},translations:v}:{type:"endpoint",url:c,accessServiceProtocol:l,...d&&{description:d},translations:v}}))}function IH(){const t=O(tn("gmd:linkage"),_4()),n=O(tn("gmd:name"),Bi("name")),e=O(tn("gmd:description"),Bi("description",{}));return O(Xr("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),On(rs(t,n,e)),On(([r,[s,i],[o,a]])=>({type:"link",url:r,...s&&{name:s},...o&&{description:o},translations:{...i,...a}})))}function B$(t){let n;return n="dataset"===H4(t)?e=>CH(l$)(e):"service"===H4(t)?yH():IH(),O(Xr("gmd:distributionInfo","gmd:MD_Distribution"),On(n),t=>t.flat())(t)}function N$(t){return O($i(),Xr("gmd:extent","gmd:EX_Extent","gmd:temporalElement"),On(rs(Er("gmd:EX_TemporalExtent","gmd:extent","gml:TimePeriod"),Er("gmd:EX_TemporalExtent","gmd:extent","gml:TimeInstant"))),On(([n,e])=>n?O(rs(O(tn("gml:beginPosition",!1),fa(),Hn(r=>r?new Date(r):null)),O(tn("gml:endPosition",!1),fa(),Hn(r=>r?new Date(r):null))),Hn(([r,s])=>({start:r,end:s})))(n):O(tn("gml:timePosition",!1),fa(),Hn(r=>r?new Date(r):null),Hn(r=>({start:r})))(e)))(t)}function F$(t){return O($i(),Xr("gmd:extent","gmd:EX_Extent","gmd:geographicElement"),On(rs(O(tn("gmd:EX_BoundingPolygon"),s=>s?O(tn("gmd:polygon",!1),Hj,Hn(i=>i?function $U(t){const n=R6(t);n.root.attributes.xmlns="http://www.opengis.net/gml/3.2";const r=m0(a0(n)),s=document.createElement("pre");s.appendChild(r.documentElement);const o=(new cH).readGeometryFromNode(s);return(new uH).writeGeometryObject(o)}(i):null))(s):null),O(tn("gmd:EX_GeographicBoundingBox"),s=>s?O(rs(O(tn("gmd:westBoundLongitude"),M4()),O(tn("gmd:southBoundLatitude"),M4()),O(tn("gmd:eastBoundLongitude"),M4()),O(tn("gmd:northBoundLatitude"),M4())))(s):null),O(tn("gmd:EX_GeographicDescription"),s=>s?O(Er("gmd:geographicIdentifier","gmd:MD_Identifier","gmd:code"),Bi("description"))(s):[null,{}]))),mo(([s,i,[o]])=>!!s||!!i||!!o),On(([s,i,[o,a]])=>({...s&&{geometry:s},...i&&{bbox:i},...o&&{description:o},translations:a})))(t)}function P$(t){const n=AH(t);return O(yr("gmd:locale",!1),On(O(tn("lan:LanguageCode"),_s("codeListValue"),Hn(e=>S4(e?.toLowerCase())??e))),Hn(e=>e.filter(r=>null!==r)),Hn(e=>e.length?e:[n]))(t)}function AH(t){return O(tn("gmd:language",!1),tn("lan:LanguageCode"),_s("codeListValue"),Hn(n=>n?S4(n.toLowerCase()):null))(t)}function k$(t){return O($i(),Er("gmd:citation","gmd:CI_Citation","gmd:identifier","gmd:MD_Identifier","gmd:code"),As())(t)}const O$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function w9(t){return(n={})=>{const e=n.width?String(n.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const U$={date:w9({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:w9({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:w9({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},$$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function C0(t){return(n,e)=>{let s;if("formatting"===(e?.context?String(e.context):"standalone")&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=e?.width?String(e.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=e?.width?String(e.width):t.defaultWidth;s=t.values[a]||t.values[o]}return s[t.argumentCallback?t.argumentCallback(n):n]}}const tX={ordinalNumber:(t,n)=>{const e=Number(t),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},era:C0({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:C0({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:C0({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:C0({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:C0({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function y0(t){return(n,e={})=>{const r=e.width,i=n.match(r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth]);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?function rX(t,n){for(let e=0;e<t.length;e++)if(n(t[e]))return e}(a,h=>h.test(o)):function nX(t,n){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&n(t[e]))return e}(a,h=>h.test(o));let c;return c=t.valueCallback?t.valueCallback(l):l,c=e.valueCallback?e.valueCallback(c):c,{value:c,rest:n.slice(o.length)}}}const mX={ordinalNumber:function sX(t){return(n,e={})=>{const r=n.match(t.matchPattern);if(!r)return null;const s=r[0],i=n.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];return o=e.valueCallback?e.valueCallback(o):o,{value:o,rest:n.slice(s.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t,10)}),era:y0({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:y0({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:y0({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:y0({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:y0({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},wX={code:"en-US",formatDistance:(t,n,e)=>{let r;const s=O$[t];return r="string"==typeof s?s:1===n?s.one:s.other.replace("{{count}}",n.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+r:r+" ago":r},formatLong:U$,formatRelative:(t,n,e,r)=>$$[t],localize:tX,match:mX,options:{weekStartsOn:0,firstWeekContainsDate:1}};let bH={};function V4(){return bH}Math.pow(10,8);const xH=6048e5,yX=864e5,MH=Symbol.for("constructDateFrom");function Lc(t,n){return"function"==typeof t?t(n):t&&"object"==typeof t&&MH in t?t[MH](n):t instanceof Date?new t.constructor(n):new Date(n)}function Oa(t,n){return Lc(n||t,t)}function _H(t){const n=Oa(t),e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),+t-+e}function HH(t,n){const e=Oa(t,n?.in);return e.setHours(0,0,0,0),e}function SX(t,n){const e=Oa(t,n?.in);return function bX(t,n,e){const[r,s]=function AX(t,...n){const e=Lc.bind(null,t||n.find(r=>"object"==typeof r));return n.map(e)}(e?.in,t,n),i=HH(r),o=HH(s),a=+i-_H(i),l=+o-_H(o);return Math.round((a-l)/yX)}(e,function xX(t,n){const e=Oa(t,n?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}(e))+1}function I0(t,n){const e=V4(),r=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,s=Oa(t,n?.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function E4(t,n){return I0(t,{...n,weekStartsOn:1})}function zH(t,n){const e=Oa(t,n?.in),r=e.getFullYear(),s=Lc(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=E4(s),o=Lc(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=E4(o);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function VH(t,n){const e=Oa(t,n?.in),r=e.getFullYear(),s=V4(),i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=Lc(n?.in||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=I0(o,n),l=Lc(n?.in||t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=I0(l,n);return+e>=+a?r+1:+e>=+c?r:r-1}function ss(t,n){return(t<0?"-":"")+Math.abs(t).toString().padStart(n,"0")}const Rc={y(t,n){const e=t.getFullYear(),r=e>0?e:1-e;return ss("yy"===n?r%100:r,n.length)},M(t,n){const e=t.getMonth();return"M"===n?String(e+1):ss(e+1,2)},d:(t,n)=>ss(t.getDate(),n.length),a(t,n){const e=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];default:return"am"===e?"a.m.":"p.m."}},h:(t,n)=>ss(t.getHours()%12||12,n.length),H:(t,n)=>ss(t.getHours(),n.length),m:(t,n)=>ss(t.getMinutes(),n.length),s:(t,n)=>ss(t.getSeconds(),n.length),S(t,n){const e=n.length,r=t.getMilliseconds();return ss(Math.trunc(r*Math.pow(10,e-3)),n.length)}},EH={G:function(t,n,e){const r=t.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return e.era(r,{width:"abbreviated"});case"GGGGG":return e.era(r,{width:"narrow"});default:return e.era(r,{width:"wide"})}},y:function(t,n,e){if("yo"===n){const r=t.getFullYear();return e.ordinalNumber(r>0?r:1-r,{unit:"year"})}return Rc.y(t,n)},Y:function(t,n,e,r){const s=VH(t,r),i=s>0?s:1-s;return"YY"===n?ss(i%100,2):"Yo"===n?e.ordinalNumber(i,{unit:"year"}):ss(i,n.length)},R:function(t,n){return ss(zH(t),n.length)},u:function(t,n){return ss(t.getFullYear(),n.length)},Q:function(t,n,e){const r=Math.ceil((t.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return ss(r,2);case"Qo":return e.ordinalNumber(r,{unit:"quarter"});case"QQQ":return e.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(r,{width:"narrow",context:"formatting"});default:return e.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,n,e){const r=Math.ceil((t.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return ss(r,2);case"qo":return e.ordinalNumber(r,{unit:"quarter"});case"qqq":return e.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(r,{width:"narrow",context:"standalone"});default:return e.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,n,e){const r=t.getMonth();switch(n){case"M":case"MM":return Rc.M(t,n);case"Mo":return e.ordinalNumber(r+1,{unit:"month"});case"MMM":return e.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(r,{width:"narrow",context:"formatting"});default:return e.month(r,{width:"wide",context:"formatting"})}},L:function(t,n,e){const r=t.getMonth();switch(n){case"L":return String(r+1);case"LL":return ss(r+1,2);case"Lo":return e.ordinalNumber(r+1,{unit:"month"});case"LLL":return e.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(r,{width:"narrow",context:"standalone"});default:return e.month(r,{width:"wide",context:"standalone"})}},w:function(t,n,e,r){const s=function zX(t,n){const e=Oa(t,n?.in),r=+I0(e,n)-+function HX(t,n){const e=V4(),r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,s=VH(t,n),i=Lc(n?.in||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),I0(i,n)}(e,n);return Math.round(r/xH)+1}(t,r);return"wo"===n?e.ordinalNumber(s,{unit:"week"}):ss(s,n.length)},I:function(t,n,e){const r=function _X(t,n){const e=Oa(t,n?.in),r=+E4(e)-+function MX(t,n){const e=zH(t,n),r=Lc(n?.in||t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),E4(r)}(e);return Math.round(r/xH)+1}(t);return"Io"===n?e.ordinalNumber(r,{unit:"week"}):ss(r,n.length)},d:function(t,n,e){return"do"===n?e.ordinalNumber(t.getDate(),{unit:"date"}):Rc.d(t,n)},D:function(t,n,e){const r=SX(t);return"Do"===n?e.ordinalNumber(r,{unit:"dayOfYear"}):ss(r,n.length)},E:function(t,n,e){const r=t.getDay();switch(n){case"E":case"EE":case"EEE":return e.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(r,{width:"short",context:"formatting"});default:return e.day(r,{width:"wide",context:"formatting"})}},e:function(t,n,e,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return ss(i,2);case"eo":return e.ordinalNumber(i,{unit:"day"});case"eee":return e.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(s,{width:"short",context:"formatting"});default:return e.day(s,{width:"wide",context:"formatting"})}},c:function(t,n,e,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return ss(i,n.length);case"co":return e.ordinalNumber(i,{unit:"day"});case"ccc":return e.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(s,{width:"narrow",context:"standalone"});case"cccccc":return e.day(s,{width:"short",context:"standalone"});default:return e.day(s,{width:"wide",context:"standalone"})}},i:function(t,n,e){const r=t.getDay(),s=0===r?7:r;switch(n){case"i":return String(s);case"ii":return ss(s,n.length);case"io":return e.ordinalNumber(s,{unit:"day"});case"iii":return e.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(r,{width:"short",context:"formatting"});default:return e.day(r,{width:"wide",context:"formatting"})}},a:function(t,n,e){const s=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(s,{width:"narrow",context:"formatting"});default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,n,e){const r=t.getHours();let s;switch(s=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",n){case"b":case"bb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(s,{width:"narrow",context:"formatting"});default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,n,e){const r=t.getHours();let s;switch(s=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",n){case"B":case"BB":case"BBB":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(s,{width:"narrow",context:"formatting"});default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,n,e){if("ho"===n){let r=t.getHours()%12;return 0===r&&(r=12),e.ordinalNumber(r,{unit:"hour"})}return Rc.h(t,n)},H:function(t,n,e){return"Ho"===n?e.ordinalNumber(t.getHours(),{unit:"hour"}):Rc.H(t,n)},K:function(t,n,e){const r=t.getHours()%12;return"Ko"===n?e.ordinalNumber(r,{unit:"hour"}):ss(r,n.length)},k:function(t,n,e){let r=t.getHours();return 0===r&&(r=24),"ko"===n?e.ordinalNumber(r,{unit:"hour"}):ss(r,n.length)},m:function(t,n,e){return"mo"===n?e.ordinalNumber(t.getMinutes(),{unit:"minute"}):Rc.m(t,n)},s:function(t,n,e){return"so"===n?e.ordinalNumber(t.getSeconds(),{unit:"second"}):Rc.s(t,n)},S:function(t,n){return Rc.S(t,n)},X:function(t,n,e){const r=t.getTimezoneOffset();if(0===r)return"Z";switch(n){case"X":return LH(r);case"XXXX":case"XX":return X1(r);default:return X1(r,":")}},x:function(t,n,e){const r=t.getTimezoneOffset();switch(n){case"x":return LH(r);case"xxxx":case"xx":return X1(r);default:return X1(r,":")}},O:function(t,n,e){const r=t.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+TH(r,":");default:return"GMT"+X1(r,":")}},z:function(t,n,e){const r=t.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+TH(r,":");default:return"GMT"+X1(r,":")}},t:function(t,n,e){return ss(Math.trunc(+t/1e3),n.length)},T:function(t,n,e){return ss(+t,n.length)}};function TH(t,n=""){const e=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return 0===i?e+String(s):e+String(s)+n+ss(i,2)}function LH(t,n){return t%60==0?(t>0?"-":"+")+ss(Math.abs(t)/60,2):X1(t,n)}function X1(t,n=""){const e=t>0?"-":"+",r=Math.abs(t);return e+ss(Math.trunc(r/60),2)+n+ss(r%60,2)}const RH=(t,n)=>{switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});default:return n.date({width:"full"})}},DH=(t,n)=>{switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});default:return n.time({width:"full"})}},VX={p:DH,P:(t,n)=>{const e=t.match(/(P+)(p+)?/)||[],r=e[1],s=e[2];if(!s)return RH(t,n);let i;switch(r){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;default:i=n.dateTime({width:"full"})}return i.replace("{{date}}",RH(r,n)).replace("{{time}}",DH(s,n))}},EX=/^D+$/,TX=/^Y+$/,LX=["D","DD","YY","YYYY"];const kX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GX=/^'([^]*?)'?$/,WX=/''/g,ZX=/[a-zA-Z]/;function T4(t,n,e){const r=V4(),s=e?.locale??r.locale??wX,i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Oa(t,e?.in);if(!function PX(t){return!(!function FX(t){return t instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)}(t)&&"number"!=typeof t||isNaN(+Oa(t)))}(a))throw new RangeError("Invalid time value");let l=n.match(OX).map(u=>{const h=u[0];return"p"===h||"P"===h?(0,VX[h])(u,s.formatLong):u}).join("").match(kX).map(u=>{if("''"===u)return{isToken:!1,value:"'"};const h=u[0];if("'"===h)return{isToken:!1,value:jX(u)};if(EH[h])return{isToken:!0,value:u};if(h.match(ZX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(u=>{if(!u.isToken)return u.value;const h=u.value;return(!e?.useAdditionalWeekYearTokens&&function DX(t){return TX.test(t)}(h)||!e?.useAdditionalDayOfYearTokens&&function RX(t){return EX.test(t)}(h))&&function BX(t,n,e){const r=function NX(t,n,e){const r="Y"===t[0]?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${n}\`) for formatting ${r} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(t,n,e);if(console.warn(r),LX.includes(t))throw new RangeError(r)}(h,n,String(t)),(0,EH[h[0]])(a,h,s.localize,c)}).join("")}function jX(t){const n=t.match(GX);return n?n[1].replace(WX,"'"):t}function BH(t,n,e,r){if(!e)return O(t,Di("gmd:PT_FreeText"));function s(i,o){return O(Tr("gmd:textGroup","gmd:LocalisedCharacterString"),Nn("locale",`#${i.toUpperCase()}`),ji(o))}return O(t,Di("gmd:PT_FreeText"),ks("gmd:PT_FreeText"),sn(s(r,n),...Object.entries(e).map(([i,o])=>s(i,o))))}function ms(t){return W1(O(ga("gco:CharacterString"),ji(t)))}function Jo(t,n,e){return BH(ms(t),t,n,e)}function L4(t){return W1(O($s("gmd:linkage","gmd:URL"),ji(t.toString())))}function C9(t,n){return W1(O(ga("gmx:Anchor"),Nn("xlink:href",t.toString()),n?ji(n):oi))}function y9(t,n,e,r){return BH(C9(t,n),n,e,r)}function R4(t){return O(ga("gco:DateTime"),ji(T4(t,"yyyy-MM-dd'T'HH:mm:ss")))}function D4(t){return W1(O(ga("gco:Decimal"),ji(t.toString())))}function NH(t){switch(t){case"completed":return"completed";case"deprecated":return"deprecated";case"ongoing":return"onGoing";case"removed":return"removed";case"under_development":return"underDevelopment";default:throw new Error(`Could not determine progress code from status: ${t}`)}}function I9(t){switch(t){case"author":return"author";case"collaborator":return"collaborator";case"contributor":return"contributor";case"custodian":return"custodian";case"distributor":return"distributor";case"editor":return"editor";case"funder":return"funder";case"mediator":return"mediator";case"originator":return"originator";case"other":return"other";case"owner":return"owner";case"point_of_contact":return"pointOfContact";case"principal_investigator":return"principalInvestigator";case"processor":return"processor";case"publisher":return"publisher";case"resource_provider":return"resourceProvider";case"rights_holder":return"rightsHolder";case"sponsor":return"sponsor";case"stakeholder":return"stakeholder";case"unspecified":return"unspecified";case"user":return"user";default:throw new Error(`Could not determine role code from role: ${t}`)}}function FH(t,n,e){const r=hH(t.firstName,t.lastName),s=O(Tr("gmd:address","gmd:CI_Address"),sn(O(mn("gmd:electronicMailAddress"),ms(t.email))),t.address?sn(O(mn("gmd:deliveryPoint"),ms(t.address))):oi),i=O(Tr("gmd:contactInfo","gmd:CI_Contact"),t.phone?sn(O(Tr("gmd:phone","gmd:CI_Telephone","gmd:voice"),ms(t.phone))):oi,sn(s),t.organization?.website?sn(O(Tr("gmd:onlineResource","gmd:CI_OnlineResource"),L4(t.organization.website))):oi);return sn(O(mn("gmd:CI_ResponsibleParty"),r?sn(O(mn("gmd:individualName"),ms(r))):oi,t.position?sn(O(mn("gmd:positionName"),ms(t.position))):oi,t.organization?.name?sn(O(mn("gmd:organisationName"),ms(t.organization.name))):oi,sn(i,O(Tr("gmd:role","gmd:CI_RoleCode"),Nn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_RoleCode"),Nn("codeListValue",I9(t.role))))))}function A9(t,n,e){return"security"===n?O(Tr("gmd:resourceConstraints","gmd:MD_SecurityConstraints"),sn(O(Tr("gmd:classification","gmd:MD_ClassificationCode"),Nn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_ClassificationCode"),Nn("codeListValue","restricted")),O(mn("gmd:useLimitation"),"url"in t?y9(t.url,t.text,t.translations?.text,e):Jo(t.text,t.translations?.text,e)))):"legal"===n?O(Tr("gmd:resourceConstraints","gmd:MD_LegalConstraints"),sn(O(Tr("gmd:accessConstraints","gmd:MD_RestrictionCode"),Nn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_RestrictionCode"),Nn("codeListValue","otherRestrictions")),O(mn("gmd:otherConstraints"),"url"in t?y9(t.url,t.text,t.translations?.text,e):Jo(t.text,t.translations?.text,e)))):O(Tr("gmd:resourceConstraints","gmd:MD_Constraints","gmd:useLimitation"),"url"in t?y9(t.url,t.text,t.translations?.text,e):Jo(t.text,t.translations?.text,e))}function b9(){return va(O(yr("gmd:resourceConstraints"),mo(O(i4,t=>0===t.length))))}function sY(t){return sn(O(Tr("gmd:distributionFormat","gmd:MD_Format"),sn(O(mn("gmd:name"),ms(t)),O(mn("gmd:version"),ms("1.0")))))}function PH(){return Tr("gmd:distributionInfo","gmd:MD_Distribution")}function kH(t,n,e,r){let s,i,o;"service"===t.type?(s=t.identifierInService,i="download",o=function UX(t){switch(t.accessServiceProtocol.toLowerCase()){case"ogcfeatures":return"OGC API Features";case"wfs":return"OGC:WFS";case"wms":return"OGC:WMS";case"wps":return"OGC:WPS";default:return t.accessServiceProtocol}}(t)):"download"===t.type?(s=t.name,i="download",o="WWW:DOWNLOAD"):(s=t.name,i="information",o="WWW:LINK");const a=sn(O(Tr("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),L4(t.url),"description"in t?sn(O(mn("gmd:description"),Jo(t.description,t.translations?.description,r))):oi,void 0!==s?sn(O(mn("gmd:name"),Jo(s,t.translations?.name,r))):oi,sn(O(mn("gmd:protocol"),ms(o)),O(Tr("gmd:function","gmd:CI_OnLineFunctionCode"),Nn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_OnLineFunctionCode"),Nn("codeListValue",i)))));return O("mimeType"in t?n(t.mimeType):oi,a)}function Ts(){return t=>{let e="gmd:MD_DataIdentification";return"service"===H4(t)&&(e="srv:SV_ServiceIdentification"),$s("gmd:identificationInfo",e)(t)}}function oY(t,n){O(ga("gmd:fileIdentifier"),ms(t.uniqueIdentifier))(n)}function OH(t,n){O($s("gmd:hierarchyLevel","gmd:MD_ScopeCode"),Nn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_ScopeCode"),Nn("codeListValue",gH(t)))(n)}function aY(t,n){O(Ts(),$s("gmd:citation","gmd:CI_Citation","gmd:title"),Jo(t.title,t.translations?.title,t.defaultLanguage))(n)}function lY(t,n){O(Ts(),ga("gmd:abstract"),Jo(t.abstract,t.translations?.abstract,t.defaultLanguage))(n)}function cY(t,n){O(Ts(),$s("gmd:status","gmd:MD_ProgressCode"),Nn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_ProgressCode"),Nn("codeListValue",NH(t.status)))(n)}function uY(t,n){O(Di("gmd:contact"),sn(...t.contacts.map(e=>O(mn("gmd:contact"),FH(e)))))(n)}function hY(t,n){O(Ts(),Di("gmd:pointOfContact"),Di("gmd:contact"),sn(...t.contactsForResource.map(e=>O(mn("gmd:pointOfContact"),FH(e)))))(n)}function dY(t,n){O(Ts(),function YX(){return va(O(Xr("gmd:descriptiveKeywords")))}(),function JX(t,n){return sn(...t.reduce((r,s)=>{const i=s.thesaurus?.id,o=s.type;let a=r.find(l=>i?l[0].thesaurus?.id===i:l[0].type===o&&!l[0].thesaurus);return a||(a=[],r.push(a)),a.push(s),r},[]).map(r=>O(Tr("gmd:descriptiveKeywords","gmd:MD_Keywords"),sn(O(Tr("gmd:type","gmd:MD_KeywordTypeCode"),Nn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_KeywordTypeCode"),Nn("codeListValue",r[0].type))),r[0].thesaurus?sn(function KX(t){return O(Tr("gmd:thesaurusName","gmd:CI_Citation"),sn(O(mn("gmd:title"),ms(t.name||t.id)),O(Tr("gmd:identifier","gmd:MD_Identifier"),sn(O(mn("gmd:code"),t.url?C9(t.url,t.id):ms(t.id))))))}(r[0].thesaurus)):oi,sn(...r.map(s=>O(mn("gmd:keyword"),Jo(s.label,s.translations?.label,n)))))))}(t.keywords,t.defaultLanguage))(n)}function pY(t,n){O(Ts(),Di("gmd:topicCategory"),sn(...t.topics.map(e=>O(Tr("gmd:topicCategory","gmd:MD_TopicCategoryCode"),ji(e)))))(n)}function fY(t,n){O(Ts(),function tY(){return va(O(yr("gmd:resourceConstraints"),mo(O(Xr("gmd:MD_LegalConstraints","gmd:accessConstraints","gmd:MD_RestrictionCode"),On(_s("codeListValue")),t=>t.some(n=>"license"===n)))))}(),sn(...t.licenses.map(e=>function nY(t,n){return O(Tr("gmd:resourceConstraints","gmd:MD_LegalConstraints"),sn(O(Tr("gmd:accessConstraints","gmd:MD_RestrictionCode"),Nn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_RestrictionCode"),Nn("codeListValue","license")),O(Tr("gmd:accessConstraints","gmd:MD_RestrictionCode"),Nn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_RestrictionCode"),Nn("codeListValue","otherRestrictions")),O(mn("gmd:otherConstraints"),"url"in t?C9(t.url,t.text):Jo(t.text,t.translations?.text,n))))}(e,t.defaultLanguage))))(n)}function gY(t,n){O(Ts(),function eY(){return W1(O(yr("gmd:resourceConstraints"),On(va(O(yr("gmd:MD_LegalConstraints"),mo(O(Xr("gmd:accessConstraints","gmd:MD_RestrictionCode"),On(_s("codeListValue")),t=>t.every(n=>"license"!==n))))))))}(),b9(),sn(...t.legalConstraints.map(e=>A9(e,"legal",t.defaultLanguage))))(n)}function vY(t,n){O(Ts(),function QX(){return W1(O(yr("gmd:resourceConstraints"),On(va(O(yr("gmd:MD_SecurityConstraints"),mo(O(Xr("gmd:useLimitation"),t=>t.length>0)))))))}(),b9(),sn(...t.securityConstraints.map(e=>A9(e,"security",t.defaultLanguage))))(n)}function mY(t,n){O(Ts(),function qX(){return W1(O(yr("gmd:resourceConstraints"),On(va(O(yr("gmd:MD_Constraints"),mo(O(Xr("gmd:useLimitation"),t=>t.length>0)))))))}(),b9(),sn(...t.otherConstraints.map(e=>A9(e,"other",t.defaultLanguage))))(n)}function wY(t,n){O(Ts(),ga("gmd:resourceMaintenance"),t=>t?(t.children.forEach(n=>n.parent=null),t.children=[],t):null,ga("gmd:MD_MaintenanceInformation"),"object"==typeof t.updateFrequency?O(c0("gmd:userDefinedMaintenanceFrequency","gts:TM_PeriodDuration"),ji(function XX(t){const n={years:0,months:0,weeks:0,days:0,hours:0};switch(t.per){case"day":t.updatedTimes<=1?n.days=1:n.hours=Math.round(24/t.updatedTimes);break;case"week":n.days=Math.round(7/t.updatedTimes-1e-4);break;case"month":t.updatedTimes<=1?n.months=1:n.days=Math.round(30/t.updatedTimes);break;case"year":t.updatedTimes<=1?n.years=1:n.months=Math.round(12/t.updatedTimes)}return`P${n.years}Y${n.months}M${n.days}D${n.hours>0?`T${n.hours}H`:""}`}(t.updateFrequency))):O(c0("gmd:maintenanceAndUpdateFrequency","gmd:MD_MaintenanceFrequencyCode"),Nn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_MaintenanceFrequencyCode"),Nn("codeListValue",function $X(t){switch(t){case"asNeeded":return"asNeeded";case"unknown":return"unknown";case"irregular":return"irregular";case"notPlanned":return"notPlanned";case"continual":return"continual";case"periodic":return"periodic";case"daily":return"daily";case"weekly":return"weekly";case"fortnightly":return"fortnightly";case"monthly":return"monthly";case"quarterly":return"quarterly";case"biannually":return"biannually";case"annually":return"annually";case"semimonthly":return"semimonthly";case"biennially":return"biennially"}}(t.updateFrequency))))(n)}function CY(t,n){O(ga("gmd:dateStamp"),t=>t?(t.children.forEach(n=>n.parent=null),t.children=[],t):null,R4(t.recordUpdated))(n)}function x9(t){return O(Ts(),$s("gmd:citation","gmd:CI_Citation"),va(O(Xr("gmd:date"),mo(O(Er("gmd:CI_Date","gmd:dateType","gmd:CI_DateTypeCode"),_s("codeListValue"),Hn(n=>n===t))))))}function S9(t,n){return O(Ts(),$s("gmd:citation","gmd:CI_Citation"),sn(O(Tr("gmd:date","gmd:CI_Date"),sn(O(mn("gmd:date"),R4(t)),O(Tr("gmd:dateType","gmd:CI_DateTypeCode"),Nn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_DateTypeCode"),Nn("codeListValue",n))))))}function yY(t,n){x9("creation")(n),t.resourceCreated&&S9(t.resourceCreated,"creation")(n)}function IY(t,n){x9("revision")(n),t.resourceUpdated&&S9(t.resourceUpdated,"revision")(n)}function AY(t,n){x9("publication")(n),t.resourcePublished&&S9(t.resourcePublished,"publication")(n)}function bY(t,n){OH(t,n)}function xY(t,n){t.spatialRepresentation?O(Ts(),$s("gmd:spatialRepresentationType","gmd:MD_SpatialRepresentationTypeCode"),Nn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_SpatialRepresentationTypeCode"),Nn("codeListValue",t.spatialRepresentation))(n):O(Ts(),Di("gmd:spatialRepresentationType"))(n)}function SY(t,n){O(Ts(),Di("gmd:graphicOverview"),sn(...t.overviews.filter(e=>e.url).map(e=>O(Tr("gmd:graphicOverview","gmd:MD_BrowseGraphic"),sn(O(mn("gmd:fileName"),ms(e.url.toString()))),"description"in e?sn(O(mn("gmd:fileDescription"),ms(e.description))):oi))))(n)}function MY(t,n){O($s("gmd:dataQualityInfo","gmd:DQ_DataQuality","gmd:lineage","gmd:LI_Lineage","gmd:statement"),Jo(t.lineage,t.translations?.lineage,t.defaultLanguage))(n)}function HY(t){let n,e,r;"endpoint"===t.type?(n=t.url.toString(),r=function _Y(t){switch(t.accessServiceProtocol.toLowerCase()){case"wfs":return"OGC:WFS";case"wms":return"OGC:WMS";case"wps":return"OGC:WPS";default:return t.accessServiceProtocol}}(t),e="download"):(n=t.url.toString(),e="information",r="WWW:LINK");const s=sn(O(mn("gmd:transferOptions"),c0("gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),L4(n),"description"in t?sn(O(mn("gmd:description"),ms(t.description))):oi,"name"in t?sn(O(mn("gmd:name"),ms(t.name))):oi,sn(O(mn("gmd:protocol"),ms(r)),O(Tr("gmd:function","gmd:CI_OnLineFunctionCode"),Nn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_OnLineFunctionCode"),Nn("codeListValue",e)))));return O(Tr("gmd:distributionInfo","gmd:MD_Distribution"),s)}function GH(t,n){sn(...t.onlineResources.map(HY))(n)}function VY(t,n){(function rY(){return Di("gmd:distributionInfo")})()(n),"dataset"!==t.kind?GH(t,n):function zY(t,n){sn(...t.onlineResources.map(e=>O(PH(),kH(e,sY,0,t.defaultLanguage))))(n)}(t,n)}function EY(t,n){O(Ts(),$s("gmd:extent","gmd:EX_Extent"),Di("gmd:temporalElement"),sn(...t.temporalExtents.map(e=>O(Tr("gmd:temporalElement","gmd:EX_TemporalExtent"),sn("start"in e&&"end"in e?O(Tr("gmd:extent","gml:TimePeriod"),sn(O(mn("gml:beginPosition"),O(e.start?ji(T4(e.start,"yyyy-MM-dd")):Nn("indeterminatePosition","unknown"))),O(mn("gml:endPosition"),O(e.end?ji(T4(e.end,"yyyy-MM-dd")):Nn("indeterminatePosition","unknown"))))):O(Tr("gmd:extent","gml:TimeInstant","gml:timePosition"),e.start?ji(T4(e.start,"yyyy-MM-dd")):Nn("indeterminatePosition","unknown")))))))(n)}function TY(t,n){O(Ts(),$s("gmd:extent","gmd:EX_Extent"),Di("gmd:geographicElement"),sn(...t.spatialExtents.map(i=>O(mn("gmd:geographicElement"),sn((i=>i?O(mn("gmd:EX_BoundingPolygon"),sn(O(mn("gmd:polygon"),sn(()=>function XU(t){const e=(new uH).readGeometry(t),i=(new cH).writeGeometryNode(e).firstElementChild;return D6(L6((new XMLSerializer).serializeToString(i)))}(i))))):null)(i.geometry),(i=>i?O(mn("gmd:EX_GeographicBoundingBox"),sn(O(mn("gmd:westBoundLongitude"),D4(i[0])),O(mn("gmd:eastBoundLongitude"),D4(i[2])),O(mn("gmd:southBoundLatitude"),D4(i[1])),O(mn("gmd:northBoundLatitude"),D4(i[3])))):null)(i.bbox),((i,o)=>i?O(Tr("gmd:EX_GeographicDescription","gmd:geographicIdentifier","gmd:MD_Identifier","gmd:code"),Jo(i,o,t.defaultLanguage)):null)(i.description,i.translations?.description))))))(n)}function LY(t,n){if(Di("gmd:locale")(n),!t.otherLanguages?.length)return;const e=r=>O(Tr("gmd:locale","gmd:PT_Locale"),Nn("id",r.toUpperCase()),c0("gmd:languageCode","gmd:LanguageCode"),Nn("codeList","http://www.loc.gov/standards/iso639-2/"),Nn("codeListValue",x4(r)??r));sn(e(t.defaultLanguage),...t.otherLanguages.map(e))(n)}function RY(t,n){const e=x4(t.defaultLanguage.toLowerCase());return O($s("gmd:language","gmd:LanguageCode"),Nn("codeList","http://www.loc.gov/standards/iso639-2/"),Nn("codeListValue",e))(n)}function DY(t,n){O(Ts(),$s("gmd:citation","gmd:CI_Citation"),Di("gmd:identifier"),t.resourceIdentifier?O(c0("gmd:identifier","gmd:MD_Identifier","gmd:code"),ms(t.resourceIdentifier)):oi)(n)}class M9 extends S_{constructor(){super(...arguments),this.readers={uniqueIdentifier:d$,kind:H4,ownerOrganization:p$,recordUpdated:m$,recordCreated:()=>{},recordPublished:()=>{},resourceIdentifier:k$,resourceUpdated:f$,resourceCreated:g$,resourcePublished:v$,reuseType:w$,title:C$,abstract:y$,contacts:I$,contactsForResource:A$,keywords:S$,topics:E$,licenses:V$,legalConstraints:_$,securityConstraints:H$,otherConstraints:z$,status:M$,updateFrequency:D$,spatialRepresentation:T$,overviews:L$,lineage:R$,onlineResources:B$,temporalExtents:N$,spatialExtents:F$,otherLanguages:P$,defaultLanguage:AH,extras:()=>{},landingPage:()=>{},translations:()=>{}},this.writers={uniqueIdentifier:oY,kind:OH,ownerOrganization:()=>{},recordUpdated:CY,recordCreated:()=>{},recordPublished:()=>{},resourceIdentifier:DY,resourceUpdated:IY,resourceCreated:yY,resourcePublished:AY,reuseType:bY,title:aY,abstract:lY,contacts:uY,contactsForResource:hY,keywords:dY,topics:pY,licenses:fY,legalConstraints:gY,securityConstraints:vY,otherConstraints:mY,status:cY,updateFrequency:wY,spatialRepresentation:xY,overviews:SY,lineage:MY,onlineResources:VY,temporalExtents:EY,spatialExtents:TY,otherLanguages:LY,defaultLanguage:RY,extras:()=>{},landingPage:()=>{},translations:()=>{}}}beforeDocumentCreation(n){}afterRecordRead(n){function e(r){if("translations"in r)for(const s in r.translations){const i=r.translations[s]??{};if(n.defaultLanguage in i&&delete i[n.defaultLanguage],0!==Object.keys(i).length)for(const o in i)n.otherLanguages.includes(o)||n.otherLanguages.push(o);else delete r.translations[s]}}return e(n),n.keywords.map(e),n.onlineResources.map(e),n.licenses.map(e),n.legalConstraints.map(e),n.securityConstraints.map(e),n.otherConstraints.map(e),n.contacts.map(r=>e(r.organization)),n.contactsForResource.map(r=>e(r.organization)),e(n.ownerOrganization),"dataset"===n.kind&&n.spatialExtents.map(e),n.otherLanguages.includes(n.defaultLanguage)&&(n.otherLanguages=n.otherLanguages.filter(r=>r!==n.defaultLanguage)),n}readBaseRecord(n,e){const r=this.readers.uniqueIdentifier(n,e),s=this.readers.kind(n,e),i=this.readers.ownerOrganization(n,e),o=this.readers.title(n,e),a=this.readers.abstract(n,e),l=this.readers.contacts(n,e),c=this.readers.contactsForResource(n,e),u=this.readers.recordUpdated(n,e),h=this.readers.recordCreated(n,e),d=this.readers.recordPublished(n,e),p=this.readers.resourceCreated(n,e),v=this.readers.resourceUpdated(n,e),b=this.readers.resourcePublished(n,e),_=this.readers.keywords(n,e),z=this.readers.topics(n,e),N=this.readers.legalConstraints(n,e),me=this.readers.otherConstraints(n,e),fe=this.readers.securityConstraints(n,e),we=this.readers.licenses(n,e),ee=this.readers.overviews(n,e),Ie=this.readers.landingPage(n,e),Be=this.readers.onlineResources(n,e),qe=this.readers.otherLanguages(n,e),Je=this.readers.defaultLanguage(n,e),gt=this.readers.resourceIdentifier(n,e);return{uniqueIdentifier:r,...gt&&{resourceIdentifier:gt},kind:s,otherLanguages:qe,defaultLanguage:Je,...h&&{recordCreated:h},...d&&{recordPublished:d},recordUpdated:u,...p&&{resourceCreated:p},...v&&{resourceUpdated:v},...b&&{resourcePublished:b},title:o,abstract:a,ownerOrganization:i,contacts:l,contactsForResource:c,keywords:_,topics:z,licenses:we,legalConstraints:N,securityConstraints:fe,otherConstraints:me,overviews:ee,spatialExtents:this.readers.spatialExtents(n,e),onlineResources:Be,translations:e,...Ie&&{landingPage:Ie}}}readRecord(n){var e=this;return(0,Yo.A)(function*(){const s=D6(L6(n)),i={},o=e.readers.kind(s,i);if("dataset"===o){const a=e.readers.status(s,i),l=e.readers.spatialRepresentation(s,i),c=e.readers.temporalExtents(s,i),u=e.readers.lineage(s,i),h=e.readers.updateFrequency(s,i);return e.afterRecordRead({...e.readBaseRecord(s,i),kind:o,status:a,lineage:u,...l&&{spatialRepresentation:l},temporalExtents:c,updateFrequency:h,translations:i})}if("reuse"===o){const a=e.readers.lineage(s,i),l=e.readers.temporalExtents(s,i),c=e.readers.reuseType(s,i);return e.afterRecordRead({...e.readBaseRecord(s,i),kind:o,lineage:a,temporalExtents:l,reuseType:c})}return e.afterRecordRead({...e.readBaseRecord(s,i),kind:o})})()}writeRecord(n,e){var r=this;return(0,Yo.A)(function*(){let s,i;if(e){let a;const l=L6(e),c=yield r.readRecord(e);s=D6(l),i=u=>null===c||!r4(n[u],c[u])||a&&M_(u),a=i("otherLanguages")}else s=mn("gmd:MD_Metadata")(),i=()=>!0;return i("uniqueIdentifier")&&r.writers.uniqueIdentifier(n,s),i("reuseType")&&r.writers.reuseType(n,s),i("kind")&&r.writers.kind(n,s),i("defaultLanguage")&&r.writers.defaultLanguage(n,s),i("contacts")&&r.writers.contacts(n,s),i("ownerOrganization")&&r.writers.ownerOrganization(n,s),i("recordUpdated")&&r.writers.recordUpdated(n,s),i("recordCreated")&&r.writers.recordCreated(n,s),i("recordPublished")&&r.writers.recordPublished(n,s),(i("title")||i("translations"))&&r.writers.title(n,s),(i("abstract")||i("translations"))&&r.writers.abstract(n,s),i("resourceCreated")&&r.writers.resourceCreated(n,s),i("resourcePublished")&&r.writers.resourcePublished(n,s),i("resourceUpdated")&&r.writers.resourceUpdated(n,s),i("contactsForResource")&&r.writers.contactsForResource(n,s),i("keywords")&&r.writers.keywords(n,s),i("topics")&&r.writers.topics(n,s),i("legalConstraints")&&r.writers.legalConstraints(n,s),i("securityConstraints")&&r.writers.securityConstraints(n,s),i("licenses")&&r.writers.licenses(n,s),i("otherConstraints")&&r.writers.otherConstraints(n,s),i("onlineResources")&&r.writers.onlineResources(n,s),i("resourceIdentifier")&&r.writers.resourceIdentifier(n,s),"dataset"===n.kind&&(i("status")&&r.writers.status(n,s),i("updateFrequency")&&r.writers.updateFrequency(n,s),i("spatialRepresentation")&&r.writers.spatialRepresentation(n,s),i("overviews")&&r.writers.overviews(n,s),i("temporalExtents")&&r.writers.temporalExtents(n,s),i("spatialExtents")&&r.writers.spatialExtents(n,s),(i("lineage")||i("translations"))&&r.writers.lineage(n,s)),i("otherLanguages")&&r.writers.otherLanguages(n,s),r.beforeDocumentCreation(s),a0(R6(s))})()}}function _9(t){return O(Er("mdb:metadataScope","mdb:MD_MetadataScope","mdb:resourceScope","mcc:MD_ScopeCode"),_s("codeListValue"),Hn(n=>g9(n)))(t)}function H9(t,n,e){const r=O(tn("cit:positionName"),As()),s=O(tn("cit:name"),As(),Hn(d=>d?f9(d):[])),i=Er("cit:contactInfo","cit:CI_Contact"),o=O(i,Er("cit:address","cit:CI_Address")),a=O(o,rs(O(tn("cit:deliveryPoint",!1),As()),O(tn("cit:city",!1),As()),O(tn("cit:postalCode",!1),As()),O(tn("cit:country",!1),As())),Hn(d=>d.filter(p=>!!p).join(", "))),l=O(i,Er("cit:phone","cit:CI_Telephone","cit:number"),As()),c=O(o,tn("cit:electronicMailAddress",!1),As()),u={name:"Missing Organization",translations:{}};let h={};return e&&(h={email:e.email,...e.address&&{address:e.address},...e.phone&&{phone:e.phone},...e.position&&{position:e.position},organization:n}),O(rs(r,s,c,a,l),Hn(([d,[p,v],b,_,z])=>({...h,email:b||h.email||"missing@missing.com",role:t,organization:n||u,...d&&{position:d},...p&&{firstName:p},...v&&{lastName:v},..._&&{address:_},...z&&{phone:z}})))}function WH(){const t=O(tn("cit:role"),vH()),n=O(rs(t,Xr("cit:party","cit:CI_Individual")),([r,s])=>s.map(H9(r))),e=O(rs(t,Xr("cit:party","cit:CI_Organisation")),Hn(([r,s])=>s.map(function FY(t){return O(rs(function NY(){const t=O(Xr("cit:contactInfo","cit:CI_Contact","cit:onlineResource","cit:CI_OnlineResource","cit:linkage"),Ec(0),jl());return O(rs(O(tn("cit:name",!1),Bi("name")),t),Hn(([[n,e],r])=>({name:n,...r&&{website:r},translations:e})))}(),H9(t),Xr("cit:individual","cit:CI_Individual")),Hn(([n,e,r])=>r.length?r.map(s=>H9(t,n,e)(s)):[{email:e.email,...e.address&&{address:e.address},...e.phone&&{phone:e.phone},...e.position&&{position:e.position},organization:n,role:t}]))}(r))),t=>t.flat());return O(rs(n,e),t=>t.flat())}function PY(t){return O(Er("mdb:metadataIdentifier","mcc:MD_Identifier","mcc:code"),As())(t)}function kY(t){const n=ZH(t),e=jH(t);return(n.filter(s=>"point_of_contact"===s.role)[0]||n[0]||e[0]).organization}function ZH(t){return O(Xr("mdb:contact","cit:CI_Responsibility"),On(WH()),t=>t.flat())(t)}function jH(t){return O(rs(O($i(),Xr("mri:citation","cit:CI_Citation","cit:citedResponsibleParty")),O($i(),yr("mri:pointOfContact",!1)),O(function BY(){return Er("mdb:distributionInfo","mrd:MD_Distribution")}(),yr("mrd:distributorContact"))),t=>t.flat(),On(tn("cit:CI_Responsibility",!1)),On(WH()),t=>t.flat())(t)}function OY(t){return O(Er("mdb:metadataLinkage","cit:CI_OnlineResource","cit:linkage"),jl())(t)}function GY(t,n){return O(Er("mdb:resourceLineage","mrl:LI_Lineage","mrl:statement"),Bi("lineage",n),Hn(([e])=>e))(t)}function z9(t){return O(yr("mdb:dateInfo",!1),mo(n=>O(tn("cit:CI_DateTypeCode"),_s("codeListValue"))(n)===t),Ec(0),tn("cit:date"),v9())}function WY(t){return z9("revision")(t)}function ZY(t){return z9("creation")(t)}function jY(t){return z9("publication")(t)}function UY(t){return O(Er("mdb:metadataScope","mdb:MD_MetadataScope","mdb:resourceScope","mcc:MD_ScopeCode"),_s("codeListValue"),Hn(n=>fH(n)))(t)}const $Y=O(H_("mrd:MD_Distribution"),Er("mrd:distributionFormat","mrd:MD_Format","mrd:formatSpecificationCitation","cit:CI_Citation","cit:title"),As(),Hn(E_));function XY(t){let n;return n="dataset"===_9(t)?CH($Y):"service"===_9(t)?yH():IH(),O(Xr("mrd:distributionInfo","mrd:MD_Distribution"),On(n),t=>t.flat())(t)}function UH(){return O(tn("lan:LanguageCode"),_s("codeListValue"),Hn(t=>S4(t?.toLowerCase())??t))}function YY(t){return O(tn("mdb:defaultLocale",!1),UH())(t)}function KY(t){return O(yr("mdb:otherLocale",!1),On(UH()),Hn(n=>n.filter(e=>null!==e)))(t)}function JY(t,n){O($s("mdb:metadataIdentifier","mcc:MD_Identifier","mcc:code"),ms(t.uniqueIdentifier))(n)}function $H(t,n){const e=gH(t);O($s("mdb:metadataScope","mdb:MD_MetadataScope","mdb:resourceScope","mcc:MD_ScopeCode"),Nn("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#MD_ScopeCode"),Nn("codeListValue",e),ji(e))(n)}function V9(t){return va(O(yr("mdb:dateInfo",!1),mo(O(tn("cit:CI_DateTypeCode"),_s("codeListValue"),Hn(n=>n===t)))))}function E9(t,n){return sn(O(mn("mdb:dateInfo"),ks("cit:CI_Date"),sn(O(mn("cit:date"),R4(t)),O(mn("cit:dateType"),ks("cit:CI_DateTypeCode"),Nn("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#CI_DateTypeCode"),Nn("codeListValue",n),ji(n)))))}function qY(t,n){V9("revision")(n),E9(t.recordUpdated,"revision")(n)}function QY(t,n){V9("creation")(n),t.recordCreated&&E9(t.recordCreated,"creation")(n)}function eK(t,n){V9("publication")(n),t.recordPublished&&E9(t.recordPublished,"publication")(n)}function T9(t){return O(Ts(),$s("mri:citation","cit:CI_Citation"),va(O(yr("cit:date",!1),mo(O(tn("cit:CI_DateTypeCode"),_s("codeListValue"),Hn(n=>n===t))))))}function L9(t,n){return O($i(),Er("mri:citation","cit:CI_Citation"),sn(O(mn("cit:date"),ks("cit:CI_Date"),sn(O(mn("cit:date"),R4(t)),O(mn("cit:dateType"),ks("cit:CI_DateTypeCode"),Nn("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#CI_DateTypeCode"),Nn("codeListValue",n),ji(n))))))}function tK(t,n){T9("revision")(n),t.resourceUpdated&&L9(t.resourceUpdated,"revision")(n)}function nK(t,n){T9("creation")(n),t.resourceCreated&&L9(t.resourceCreated,"creation")(n)}function rK(t,n){T9("publication")(n),t.resourcePublished&&L9(t.resourcePublished,"publication")(n)}function sK(t,n){$H(t,n)}function R9(t,n){const e=hH(t.firstName,t.lastName),r=O(mn("cit:individual"),ks("cit:CI_Individual"),e?sn(O(mn("cit:name"),ms(e))):oi,t.position?sn(O(mn("cit:positionName"),ms(t.position))):oi),s=O(mn("cit:contactInfo"),ks("cit:CI_Contact"),sn(O(mn("cit:address"),ks("cit:CI_Address"),sn(O(mn("cit:electronicMailAddress"),ms(t.email))),t.address?sn(O(mn("cit:deliveryPoint"),ms(t.address))):oi)),t.organization?.website?sn(O(mn("cit:onlineResource"),ks("cit:CI_OnlineResource"),ks("cit:linkage"),ms(t.organization.website.toString()))):oi,t.phone?sn(O(mn("cit:phone"),ks("cit:CI_Telephone"),ks("cit:number"),ms(t.phone))):oi),i=O(mn("cit:role"),ks("cit:CI_RoleCode"),Nn("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#CI_RoleCode"),Nn("codeListValue",I9(t.role)),ji(I9(t.role))),o=O(mn("cit:party"),ks("cit:CI_Organisation"),t.organization?.name?sn(O(mn("cit:name"),Jo(t.organization?.name,t.organization?.translations?.name,n))):oi,sn(s,r));return sn(O(mn("cit:CI_Responsibility"),sn(i,o)))}function iK(t,n){O(Di("mdb:contact"),sn(...t.contacts.map(e=>O(mn("gmd:contact"),R9(e,t.defaultLanguage)))))(n)}function oK(t,n){const e=t.contactsForResource.filter(s=>"distributor"!==s.role),r=t.contactsForResource.filter(s=>"distributor"===s.role);O(Ts(),Di("mri:pointOfContact"),sn(...e.map(s=>O(mn("mri:pointOfContact"),R9(s,t.defaultLanguage)))))(n),r.length&&O(function iY(){return t=>$s("gmd:distributionInfo","gmd:MD_Distribution")(t)}(),Di("mrd:distributor"),ks("mrd:distributor"),ks("mrd:MD_Distributor"),sn(...r.map(s=>O(mn("mrd:distributorContact"),R9(s,t.defaultLanguage)))))(n)}function aK(t,n){O($s("mdb:metadataLinkage","cit:CI_OnlineResource","cit:linkage"),L4(t.landingPage))(n)}function lK(t,n){O($s("mdb:resourceLineage","mrl:LI_Lineage","mrl:statement"),Jo(t.lineage,t.translations?.lineage,t.defaultLanguage))(n)}function cK(t,n){const e=NH(t.status);O(Ts(),$s("mri:status","mcc:MD_ProgressCode"),Nn("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#MD_ProgressCode"),Nn("codeListValue",e),ji(e))(n)}function uK(t,n){t.spatialRepresentation?O(Ts(),$s("mri:spatialRepresentationType","mcc:MD_SpatialRepresentationTypeCode"),Nn("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#MD_SpatialRepresentationTypeCode"),Nn("codeListValue",t.spatialRepresentation),ji(t.spatialRepresentation))(n):O(Ts(),Di("mri:spatialRepresentationType"))(n)}function dK(t){return sn(O(mn("mrd:distributionFormat"),ks("mrd:MD_Format"),ks("mrd:formatSpecificationCitation"),ks("cit:CI_Citation"),ks("cit:title"),ms(t)))}function pK(t,n){(function hK(t){O(Xr("mdb:distributionInfo","mrd:MD_Distribution"),On(O(va(yr("mrd:distributionFormat",!1)),va(yr("mrd:transferOptions",!1)))))(t),va(O(yr("mdb:distributionInfo",!1),mo(O(tn("mrd:MD_Distribution"),i4,Hn(n=>0===n.length)))))(t)})(n),"service"!==t.kind?t.onlineResources.forEach((e,r)=>{O(Tc(O(Xr("gmd:distributionInfo","gmd:MD_Distribution"),Ec(r)),z_(PH())),kH(e,dK,0,t.defaultLanguage))(n)}):GH(t,n)}function XH(t){const n=x4(t.toLowerCase())??t;return O(ga("lan:PT_Locale"),Nn("id",t.toUpperCase()),$s("lan:language","gmd:LanguageCode"),Nn("codeList","http://www.loc.gov/standards/iso639-2/"),Nn("codeListValue",n))}function fK(t,n){O(ga("mdb:defaultLocale"),XH(t.defaultLanguage))(n)}function gK(t,n){Di("mdb:otherLocale")(n),t.otherLanguages?.length&&sn(...t.otherLanguages.map(e=>O(mn("mdb:otherLocale"),XH(e))))(n)}class D9 extends M9{constructor(){super(),this.readers.uniqueIdentifier=PY,this.readers.kind=_9,this.readers.recordUpdated=WY,this.readers.recordCreated=ZY,this.readers.recordPublished=jY,this.readers.contacts=ZH,this.readers.contactsForResource=jH,this.readers.ownerOrganization=kY,this.readers.landingPage=OY,this.readers.lineage=GY,this.readers.onlineResources=XY,this.readers.defaultLanguage=YY,this.readers.otherLanguages=KY,this.readers.reuseType=UY,this.writers.uniqueIdentifier=JY,this.writers.kind=$H,this.writers.recordUpdated=qY,this.writers.recordCreated=QY,this.writers.recordPublished=eK,this.writers.resourceUpdated=tK,this.writers.resourceCreated=nK,this.writers.resourcePublished=rK,this.writers.reuseType=sK,this.writers.contacts=iK,this.writers.contactsForResource=oK,this.writers.ownerOrganization=()=>{},this.writers.landingPage=aK,this.writers.lineage=lK,this.writers.onlineResources=pK,this.writers.status=cK,this.writers.spatialRepresentation=uK,this.writers.defaultLanguage=fK,this.writers.otherLanguages=gK}beforeDocumentCreation(n){!function Ej(t,n){(function e(r){r.name in n?r.name=n[r.name]:r.name&&__(r.name)in n&&(r.name=`${n[__(r.name)]}:${Zl(r.name)}`),r.children&&r.children.forEach(e)})(t)}(n,{gmd:"mdb","gmd:characterEncoding":"lan:characterEncoding","gmd:MD_CharacterSetCode":"lan:MD_CharacterSetCode","gmd:MD_DataIdentification":"mri:MD_DataIdentification","gmd:citation":"mri:citation","gmd:abstract":"mri:abstract","gmd:title":"cit:title","gmd:CI_Citation":"cit:CI_Citation","gmx:Anchor":"gcx:Anchor","gmd:PT_Locale":"lan:PT_Locale","gmd:PT_FreeText":"lan:PT_FreeText","gmd:LanguageCode":"lan:LanguageCode","gmd:status":"mri:status","gmd:MD_ProgressCode":"mri:MD_ProgressCode","gmd:date":"cit:date","gmd:CI_Date":"cit:CI_Date","gmd:dateType":"cit:dateType","gmd:CI_DateTypeCode":"cit:CI_DateTypeCode","gmd:CI_Responsibility":"cit:CI_Responsibility","gmd:role":"cit:role","gmd:CI_RoleCode":"cit:CI_RoleCode","gmd:descriptiveKeywords":"mri:descriptiveKeywords","gmd:MD_Keywords":"mri:MD_Keywords","gmd:type":"mri:type","gmd:MD_KeywordTypeCode":"mri:MD_KeywordTypeCode","gmd:thesaurusName":"mri:thesaurusName","gmd:keyword":"mri:keyword","gmd:identifier":"cit:identifier","gmd:MD_Identifier":"mcc:MD_Identifier","gmd:code":"mcc:code","gmd:MD_Distribution":"mrd:MD_Distribution","gmd:transferOptions":"mrd:transferOptions","gmd:MD_DigitalTransferOptions":"mrd:MD_DigitalTransferOptions","gmd:onLine":"mrd:onLine","gmd:distributionFormat":"mrd:distributionFormat","gmd:MD_Format":"mrd:MD_Format","gmd:CI_OnlineResource":"cit:CI_OnlineResource","gmd:linkage":"cit:linkage","gmd:name":"cit:name","gmd:description":"cit:description","gmd:CI_OnLineFunctionCode":"cit:CI_OnLineFunctionCode","gmd:function":"cit:function","gmd:protocol":"cit:protocol","gmd:topicCategory":"mri:topicCategory","gmd:MD_TopicCategoryCode":"mri:MD_TopicCategoryCode","gmd:resourceMaintenance":"mri:resourceMaintenance","gmd:MD_MaintenanceInformation":"mmi:MD_MaintenanceInformation","gmd:userDefinedMaintenanceFrequency":"mmi:userDefinedMaintenanceFrequency","gts:TM_PeriodDuration":"gco:TM_PeriodDuration","gmd:resourceConstraints":"mri:resourceConstraints","gmd:MD_Constraints":"mco:MD_Constraints","gmd:MD_LegalConstraints":"mco:MD_LegalConstraints","gmd:MD_SecurityConstraints":"mco:MD_SecurityConstraints","gmd:useLimitation":"mco:useLimitation","gmd:useConstraints":"mco:useConstraints","gmd:accessConstraints":"mco:accessConstraints","gmd:otherConstraints":"mco:otherConstraints","gmd:MD_RestrictionCode":"mco:MD_RestrictionCode","gmd:classification":"mco:classification","gmd:MD_ClassificationCode":"mco:MD_ClassificationCode","gmd:graphicOverview":"mri:graphicOverview","gmd:MD_BrowseGraphic":"mcc:MD_BrowseGraphic","gmd:fileName":"mcc:fileName","gmd:fileDescription":"mcc:fileDescription","gmd:URL":"gco:CharacterString"})}writeRecord(n,e){var r=()=>super.writeRecord,s=this;return(0,Yo.A)(function*(){let i=yield r().call(s,n,e);return i=i.replace('"http://www.isotc211.org/2005/gco"','"http://standards.iso.org/iso/19115/-3/gco/1.0"'),i})()}}var qi=K(1752);function bs(t,n){var e=n||{namedNode:function(s){return new qi.A(s)}};return function(r){return e.namedNode(t+(r||""))}}const Co=bs("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),A0=(bs("http://www.w3.org/2000/01/rdf-schema#"),bs("http://xmlns.com/foaf/0.1/")),mr=(bs("http://www.w3.org/2001/XMLSchema#"),bs("http://www.w3.org/ns/dcat#")),Ls=bs("http://purl.org/dc/terms/"),vK=bs("http://www.w3.org/2004/02/skos/core#"),b0=(bs("http://schema.org/"),bs("https://spdx.org/rdf/terms/#"),bs("http://www.w3.org/ns/adms#"),bs("http://www.w3.org/ns/dqv#"),bs("http://www.w3.org/2002/07/owl#"),bs("http://www.w3.org/2006/vcard/ns#")),mK=(bs("http://www.w3.org/2006/time#"),bs("http://www.w3.org/ns/locn#"));var B9=K(9391),Ys=K(1322),Ks=K(1308),Dc=K(1853),Qi=K(4009),Lo=K(6190),zt=K(3380),Ul=K(9423),yo=K(9788),In=K(9535),Rs=K(1551);const $l={boolean:new qi.A("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new qi.A("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new qi.A("http://www.w3.org/2001/XMLSchema#decimal"),double:new qi.A("http://www.w3.org/2001/XMLSchema#double"),integer:new qi.A("http://www.w3.org/2001/XMLSchema#integer"),langString:new qi.A("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new qi.A("http://www.w3.org/2001/XMLSchema#string")};function wK(t,n,e){return n=(0,Qi.A)(n),(0,Dc.A)(t,YH()?Reflect.construct(n,e||[],(0,Qi.A)(t).constructor):n.apply(t,e))}function YH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YH=function(){return!!t})()}var qo=function(t){function n(e,r,s){var i;return(0,Ys.A)(this,n),i=wK(this,n,[e]),(0,zt.A)(i,"termType",In.QW),(0,zt.A)(i,"classOrder",Ul.A.Literal),(0,zt.A)(i,"datatype",$l.string),(0,zt.A)(i,"isVar",0),(0,zt.A)(i,"language",""),r?(i.language=r,i.datatype=$l.langString):i.datatype=s?qi.A.fromValue(s):$l.string,i}return(0,Lo.A)(n,t),(0,Ks.A)(n,[{key:"copy",value:function(){return new n(this.value,this.lang,this.datatype)}},{key:"equals",value:function(r){return!!r&&this.termType===r.termType&&this.value===r.value&&this.language===r.language&&(!this.datatype&&!r.datatype||this.datatype&&this.datatype.equals(r.datatype))}},{key:"lang",get:function(){return this.language},set:function(r){this.language=r||""}},{key:"toNT",value:function(){return n.toNT(this)}},{key:"toString",value:function(){return""+this.value}}],[{key:"toNT",value:function(r){if("number"==typeof r.value)return""+r.value;if("string"!=typeof r.value)throw new Error("Value of RDF literal is not string or number: "+r.value);var s=r.value;return s='"'+(s=(s=(s=(s=s.replace(/\\/g,"\\\\")).replace(/\"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r"))+'"',r.language?s+="@"+r.language:r.datatype.equals($l.string)||(s+="^^"+r.datatype.toCanonical()),s}},{key:"fromBoolean",value:function(r){return new n(r?"1":"0",null,$l.boolean)}},{key:"fromDate",value:function(r){if(!(r instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");var s=function(a){return(""+(100+a)).slice(1,3)};return new n(r.getUTCFullYear()+"-"+s(r.getUTCMonth()+1)+"-"+s(r.getUTCDate())+"T"+s(r.getUTCHours())+":"+s(r.getUTCMinutes())+":"+s(r.getUTCSeconds())+"Z",null,$l.dateTime)}},{key:"fromNumber",value:function(r){if("number"!=typeof r)throw new TypeError("Invalid argument to Literal.fromNumber()");var s,i=r.toString();return s=i.indexOf("e")<0&&Math.abs(r)<=Number.MAX_SAFE_INTEGER?Number.isInteger(r)?$l.integer:$l.decimal:$l.double,new n(i,null,s)}},{key:"fromValue",value:function(r){if((0,Rs.c$)(r))return r;switch((0,B9.A)(r)){case"object":if(r instanceof Date)return n.fromDate(r);case"boolean":return n.fromBoolean(r);case"number":return n.fromNumber(r);case"string":return new n(r)}throw new Error("Can't make literal from "+r+" of type "+(0,B9.A)(r))}}])}(yo.A);function CK(t,n,e){return n=(0,Qi.A)(n),(0,Dc.A)(t,KH()?Reflect.construct(n,e||[],(0,Qi.A)(t).constructor):n.apply(t,e))}function KH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KH=function(){return!!t})()}var Ga=function(t){function n(e){var r;return(0,Ys.A)(this,n),r=CK(this,n,[n.getId(e)]),(0,zt.A)(r,"termType",In.$Q),(0,zt.A)(r,"classOrder",Ul.A.BlankNode),(0,zt.A)(r,"isBlank",1),(0,zt.A)(r,"isVar",1),r}return(0,Lo.A)(n,t),(0,Ks.A)(n,[{key:"id",get:function(){return this.value},set:function(r){this.value=r}},{key:"compareTerm",value:function(r){return this.classOrder<r.classOrder?-1:this.classOrder>r.classOrder?1:this.id<r.id?-1:this.id>r.id?1:0}},{key:"copy",value:function(r){var s=new n;return r.copyTo(this,s),s}},{key:"toCanonical",value:function(){return n.NTAnonymousNodePrefix+this.value}},{key:"toString",value:function(){return n.NTAnonymousNodePrefix+this.id}}],[{key:"getId",value:function(r){if(r){if("string"!=typeof r)throw new Error("Bad id argument to new blank node: "+r);if(r.includes("#")){var s=r.split("#");return s[s.length-1]}return r}return"n"+n.nextId++}}])}(yo.A);function yK(t,n,e){return n=(0,Qi.A)(n),(0,Dc.A)(t,JH()?Reflect.construct(n,e||[],(0,Qi.A)(t).constructor):n.apply(t,e))}function JH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JH=function(){return!!t})()}function qH(t){return typeof t>"u"||null===t||(0,Rs.D0)(t)?t:Array.isArray(t)?new Bc(t):qo.fromValue(t)}(0,zt.A)(Ga,"nextId",0),(0,zt.A)(Ga,"NTAnonymousNodePrefix","_:");var Bc=function(t){function n(e){var r;return(0,Ys.A)(this,n),r=yK(this,n,[(Ga.nextId++).toString()]),(0,zt.A)(r,"termType",In.r0),(0,zt.A)(r,"classOrder",Ul.A.Collection),(0,zt.A)(r,"closed",!1),(0,zt.A)(r,"compareTerm",Ga.prototype.compareTerm),(0,zt.A)(r,"elements",[]),(0,zt.A)(r,"isVar",0),e&&e.length>0&&e.forEach(function(s){r.elements.push(qH(s))}),r}return(0,Lo.A)(n,t),(0,Ks.A)(n,[{key:"id",get:function(){return this.value},set:function(r){this.value=r}},{key:"append",value:function(r){return this.elements.push(r)}},{key:"close",value:function(){return this.closed=!0,this.closed}},{key:"shift",value:function(){return this.elements.shift()}},{key:"substitute",value:function(r){return new n(this.elements.map(function(i){return i.substitute(r)}))}},{key:"toNT",value:function(){return n.toNT(this)}},{key:"toString",value:function(){return"("+this.elements.join(" ")+")"}},{key:"unshift",value:function(r){return this.elements.unshift(r)}}],[{key:"toNT",value:function(r){return Ga.NTAnonymousNodePrefix+r.id}}])}(yo.A);(0,zt.A)(Bc,"termType",In.r0);var x0="chrome:theSession";function IK(t,n,e){return n=(0,Qi.A)(n),(0,Dc.A)(t,QH()?Reflect.construct(n,e||[],(0,Qi.A)(t).constructor):n.apply(t,e))}function QH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QH=function(){return!!t})()}new qi.A(x0);var N9=function(t){function n(){var e;return(0,Ys.A)(this,n),e=IK(this,n,[""]),(0,zt.A)(e,"value",""),(0,zt.A)(e,"termType",In.ic),(0,zt.A)(e,"uri",x0),e}return(0,Lo.A)(n,t),(0,Ks.A)(n,[{key:"toCanonical",value:function(){return this.value}},{key:"toString",value:function(){return"DefaultGraph"}}])}(yo.A);function ez(t){return!!t&&t.termType===In.ic}var AK=new N9,Y1=function(){function t(n,e,r,s){(0,Ys.A)(this,t),(0,zt.A)(this,"subject",void 0),(0,zt.A)(this,"predicate",void 0),(0,zt.A)(this,"object",void 0),(0,zt.A)(this,"graph",void 0),this.subject=yo.A.fromValue(n),this.predicate=yo.A.fromValue(e),this.object=yo.A.fromValue(r),this.graph=null==s?AK:yo.A.fromValue(s)}return(0,Ks.A)(t,[{key:"why",get:function(){return this.graph},set:function(e){this.graph=e}},{key:"equals",value:function(e){return e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}},{key:"substitute",value:function(e){return new t(this.subject.substitute(e),this.predicate.substitute(e),this.object.substitute(e),ez(this.graph)?this.graph:this.graph.substitute(e))}},{key:"toCanonical",value:function(){var e=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==In.ic&&e.push(this.graph.toCanonical()),e.join(" ")+" ."}},{key:"toNT",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}},{key:"toNQ",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),ez(this.graph)?"":this.graph.toNT()].join(" ")+" ."}},{key:"toString",value:function(){return this.toNT()}}])}(),tz=tz||console.log;function K1(t){var n;return(n=t.indexOf("#"))<0?t:t.slice(0,n)}function bK(t){var n=/[^\/]*\/\/([^\/]*)\//.exec(t);return n?n[1]:""}function ma(t,n){var e,r,s,o,a,l=n.indexOf("#");if(l>0&&(n=n.slice(0,l)),0===t.length)return n;if(0===t.indexOf("#"))return n+t;if(t.indexOf(":")>=0||(e=n.indexOf(":"),0===n.length))return t;if(e<0)return tz("Invalid base: "+n+" in join with given: "+t),t;if(r=n.slice(0,+e+1||9e9),0===t.indexOf("//"))return r+t;if(n.indexOf("//",e)===e+1){if((s=n.indexOf("/",e+3))<0)return n.length-e-3>0?n+"/"+t:r+t}else if((s=n.indexOf("/",e+1))<0)return n.length-e-1>0?n+"/"+t:r+t;if(0===t.indexOf("/"))return n.slice(0,s)+t;if((o=(a=n.slice(s)).lastIndexOf("/"))<0)return r+t;for(o>=0&&o<a.length-1&&(a=a.slice(0,+o+1||9e9)),a+=t;a.match(/[^\/]*\/\.\.\//);)a=a.replace(/[^\/]*\/\.\.\//,"");return a=(a=a.replace(/\.\//g,"")).replace(/\/\.$/,"/"),n.slice(0,s)+a}function nz(t){var n=t.indexOf(":");return n<0?null:t.slice(0,n)}function F9(t,n){var r,s,i,o,a,l,c,u,h,d,p,v,b=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!t)return n;if(t===n)return"";for(r=c=0,o=n.length;c<o&&n[r]===t[r];r=++c);if(t.slice(0,r).match(b)&&((s=n.indexOf("//"))<0&&(s=-2),i=n.indexOf("/",s+2),"/"!==n[i+1]&&"/"!==t[i+1]&&n.slice(0,i)===t.slice(0,i)))return n.slice(i);if("#"===n[r]&&t.length===r)return n.slice(r);for(;r>0&&"/"!==n[r-1];)r--;if(r<3||t.indexOf("//",r-2)>0||n.indexOf("//",r-2)>0||t.indexOf(":",r)>0)return n;for(l=0,u=0,a=(d=t.slice(r)).length;u<a;u++)"/"===d[u]&&l++;if(0===l&&r<n.length&&"#"===n[r])return"./"+n.slice(r);if(0===l&&r===n.length)return"./";if(v="",l>0)for(h=1,p=l;p>=1?h<=p:h>=p;p>=1?++h:--h)v+="../";return v+n.slice(r)}function xK(t,n,e){return n=(0,Qi.A)(n),(0,Dc.A)(t,rz()?Reflect.construct(n,e||[],(0,Qi.A)(t).constructor):n.apply(t,e))}function rz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rz=function(){return!!t})()}var J1=function(t){function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,Ys.A)(this,n),e=xK(this,n,[r]),(0,zt.A)(e,"termType",In.P2),(0,zt.A)(e,"base","varid:"),(0,zt.A)(e,"classOrder",Ul.A.Variable),(0,zt.A)(e,"isVar",1),(0,zt.A)(e,"uri",void 0),e.base="varid:",e.uri=ma(r,e.base),e}return(0,Lo.A)(n,t),(0,Ks.A)(n,[{key:"equals",value:function(r){return!!r&&this.termType===r.termType&&this.value===r.value}},{key:"hashString",value:function(){return this.toString()}},{key:"substitute",value:function(r){var s;return null!=(s=r[this.toNT()])?s:this}},{key:"toString",value:function(){return n.toString(this)}}],[{key:"toString",value:function(r){return r.uri.slice(0,r.base.length)===r.base?"?".concat(r.uri.slice(r.base.length)):"?".concat(r.uri)}}])}(yo.A),Ro=function(t){return t.collections="COLLECTIONS",t.defaultGraphType="DEFAULT_GRAPH_TYPE",t.equalsMethod="EQUALS_METHOD",t.id="ID",t.identity="IDENTITY",t.reversibleId="REVERSIBLE_ID",t.variableType="VARIABLE_TYPE",t}({}),sz=new N9;const Wa={supports:(0,zt.A)((0,zt.A)((0,zt.A)((0,zt.A)((0,zt.A)((0,zt.A)((0,zt.A)({},Ro.collections,!1),Ro.defaultGraphType,!1),Ro.equalsMethod,!0),Ro.identity,!1),Ro.id,!0),Ro.reversibleId,!1),Ro.variableType,!0),blankNode:function(n){return new Ga(n)},defaultGraph:function(){return sz},equals:function(n,e){return n===e||!n||!e||((0,Rs.aF)(n)||(0,Rs.aF)(e)?!(!(0,Rs.aF)(n)||!(0,Rs.aF)(e))&&this.equals(n.subject,e.subject)&&this.equals(n.predicate,e.predicate)&&this.equals(n.object,e.object)&&this.equals(n.graph,e.graph):!(!(0,Rs.D0)(n)||!(0,Rs.D0)(e))&&this.id(n)===this.id(e))},id:function(n){if(!n)return"undefined";if((0,Rs.aF)(n))return this.quadToNQ(n);switch(n.termType){case In.ic:return"defaultGraph";case In.P2:return J1.toString(n);default:var e=this.termToNQ(n);if(e)return e;throw new Error("Can't id term with type '".concat(n.termType,"'"))}},isQuad:function(n){return n instanceof Y1},literal:function(n,e){if("string"!=typeof n&&!e)return qo.fromValue(n);var r="string"==typeof n?n:""+n;return"string"==typeof e?-1===e.indexOf(":")?new qo(r,e):new qo(r,null,this.namedNode(e)):new qo(r,null,e)},namedNode:function(n){return new qi.A(n)},quad:function(n,e,r,s){return new Y1(n,e,r,s||sz)},triple:function(n,e,r,s){return this.quad(n,e,r,s)},quadToNQ:function(n){return"".concat(this.termToNQ(n.subject)," ").concat(this.termToNQ(n.predicate)," ").concat(this.termToNQ(n.object)," ").concat(this.termToNQ(n.graph)," .")},termToNQ:function(n){var e=this;switch(n.termType){case In.$Q:return"_:"+n.value;case In.ic:return"";case In.S:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case In.QW:return qo.toNT(n);case In.bD:case In.Kk:return"<"+n.value+">";case In.r0:return"("+n.elements.map(function(r){return e.termToNQ(r)}).join(" ")+")";default:throw new Error("Can't serialize nonstandard term type (was '".concat(n.termType,"')"))}},toNQ:function(n){return this.isQuad(n)?this.quadToNQ(n):this.termToNQ(n)},variable:function(n){return new J1(n)}},Ni_debug=function(n){},Ni_warn=function(n){},Ni_info=function(n){},Ni_error=function(n){};var Za=K(9223);function iz(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa;return{boolean:t.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:t.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:t.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),double:t.namedNode("http://www.w3.org/2001/XMLSchema#double"),integer:t.namedNode("http://www.w3.org/2001/XMLSchema#integer"),langString:t.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:t.namedNode("http://www.w3.org/2001/XMLSchema#string")}}iz(Wa);var _K=K(974),oz=K.n(_K),HK=K(6998),VK=function(){function t(n){(0,Ys.A)(this,t),(0,zt.A)(this,"_notQNameChars","\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~"),(0,zt.A)(this,"_notNameChars",this._notQNameChars+":"),(0,zt.A)(this,"validPrefix",new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/)),(0,zt.A)(this,"forbidden1",new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm)),(0,zt.A)(this,"forbidden3",new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm)),this.flags="",this.base=null,this.prefixes=[],this.namespaces=[];var e=Object.keys(oz()());for(var r in e){var s=oz()()[e[r]](""),i=e[r];this.prefixes[s]=i,this.namespaces[i]=s}this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=n,this.rdfFactory=n.rdfFactory||Wa,this.xsd=iz(this.rdfFactory)}return(0,Ks.A)(t,[{key:"setBase",value:function(e){return this.base=e,this}},{key:"setFlags",value:function(e){return this.flags=e||"",this}},{key:"toStr",value:function(e){var r=e.toNT();return"Graph"===e.termType&&(this.formulas[r]=e),r}},{key:"fromStr",value:function(e){if("{"===e[0]){var r=this.formulas[e];return r||console.log("No formula object for "+e),r}return this.store.fromNT(e)}},{key:"setNamespaces",value:function(e){for(var r in e)this.setPrefix(r,e[r]);return this}},{key:"setPrefix",value:function(e,r){if("default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&r){for(var s in this.prefixes)this.prefixes[s]==e&&delete this.prefixes[s];this.prefixes[r]=e,this.namespaces[e]=r}}},{key:"suggestPrefix",value:function(e,r){"default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&(!e||!r||e in this.namespaces||r in this.prefixes||(this.prefixes[r]=e,this.namespaces[e]=r))}},{key:"suggestNamespaces",value:function(e){for(var r in e)this.suggestPrefix(r,e[r]);return this}},{key:"checkIntegrity",value:function(){var e,r;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw new Error("Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!");for(r in this.prefixes)if(this.namespaces[this.prefixes[r]]!==r)throw new Error("Serializer integity error 2: "+r+", "+this.prefixs[r]+", "+this.namespaces[this.prefixes[r]]+"!")}},{key:"makeUpPrefix",value:function(e){var r=e,i=function s(c){return!(!this.validPrefix.test(c)||"ns"===c||c in this.namespaces)&&(this.prefixes[e]=c,this.namespaces[c]=e,c)}.bind(this);"#/".indexOf(r[r.length-1])>=0&&(r=r.slice(0,-1));var o=r.lastIndexOf("/");o>=0&&(r=r.slice(o+1));for(var a=0;a<r.length&&this.prefixchars.indexOf(r[a]);)a++;if((r=r.slice(0,a)).length<6&&i(r))return r;if(i(r.slice(0,3)))return r.slice(0,3);if(i(r.slice(0,2)))return r.slice(0,2);if(i(r.slice(0,4)))return r.slice(0,4);if(i(r.slice(0,1)))return r.slice(0,1);if(i(r.slice(0,5)))return r.slice(0,5);this.validPrefix.test(r)||(r="n");for(var l=0;;l++)if(i(r.slice(0,3)+l))return r.slice(0,3)+l}},{key:"rootSubjects",value:function(e){for(var r={},s={},i={},o=0;o<e.length;o++){var a=e[o],l=function(z){r.hasOwnProperty(z)||(r[z]=[]),r[z].push(a.subject)};[a.subject,a.predicate,a.object].map(function(_){"BlankNode"===_.termType?i[_.toNT()]=!0:"Collection"===_.termType&&_.elements.forEach(function(z){l(z)})}),l(e[o].object);var u=s[this.toStr(a.subject)];u||(u=[]),u.push(a),s[this.toStr(a.subject)]=u}var h=[];for(var d in s)if(s.hasOwnProperty(d)){var p=this.fromStr(d);if("BlankNode"!==p.termType||!r[p]||1!==r[p].length){h.push(p);continue}}this.incoming=r;for(var v={},b=0;b<h.length;b++)v[h[b].toNT()]=!0;return{roots:h,subjects:s,rootsHash:v,incoming:r}}},{key:"toN3",value:function(e){return this.statementsToN3(e.statements)}},{key:"explicitURI",value:function(e){return e=this.flags.indexOf("r")<0&&this.base?F9(this.base,e):this.flags.indexOf("u")>=0?function TK(t){for(var e,n="",r=0;r<t.length;r++)(e=t.charCodeAt(r))>65535?n+="\\U"+("00000000"+e.toString(16)).slice(-8):n+=e>126?"\\u"+("0000"+e.toString(16)).slice(-4):t[r];return n}(e):function EK(t){return encodeURI(t)}(decodeURI(e)),"<"+e+">"}},{key:"statementsToNTriples",value:function(e){var r=e.slice();r.sort();for(var s="",i="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o=this,a=this.store,l=this.rdfFactory,c=function p(v){if("Collection"!==v.termType)return o.atomicTermToN3(v);for(var b=v.elements,_=a.sym(i+"nill"),z=b.length-1;z>=0;z--){var N=l.blankNode();s+=p(N)+" "+p(a.sym(i+"first"))+" "+p(b[z])+".\n",s+=p(N)+" "+p(a.sym(i+"rest"))+" "+p(_)+".\n",_=N}return o.atomicTermToN3(_)},u=0;u<r.length;u++){var h=r[u],d="";d+=c(h.subject)+" ",d+=c(h.predicate)+" ",d+=c(h.object)+" ",this.flags.indexOf("q")>=0&&(d+=c(h.why)+" "),s+=d+=".\n"}return s}},{key:"statementsToN3",value:function(e){var i=this.store,o={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"};e.sort(function(qe,Je){return Za.VQ(qe,Je,i,o)}),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var l={};this.flags.indexOf("s")<0&&(l["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(l["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(l["http://www.w3.org/2000/10/swap/log#implies"]="=>");var c=function(qe){for(var Je="",gt=0;gt<qe;gt++)Je+=" ";return Je},u=function Be(qe){for(var Je="",gt=0;gt<qe.length;gt++){var rt=qe[gt],Ct="string"==typeof rt?rt:Be(rt);if(0!==gt){var jt=Je.slice(-1)||" ";","===Ct||";"===Ct||"."===Ct&&!"0123456789.:".includes(jt)||(Je+=" ")}Je+=Ct}return Je},p=function d(Be){for(var qe=this.rootSubjects(Be),Je=qe.roots,gt=[],rt=0;rt<Je.length;rt++)gt.push(v(Je[rt],qe));return gt}.bind(this);function v(Be,qe){return"BlankNode"!==Be.termType||qe.incoming[Be]?[fe(Be,qe)].concat([_(Be,qe)]).concat(["."]):N(Be,qe,!0).concat(["."])}var _=function b(Be,qe){var Je=[],gt=null,rt=qe.subjects[this.toStr(Be)]||[];if(typeof rt>"u")throw new Error("Cant find statements for "+Be);for(var Ct=[],jt=0;jt<rt.length;jt++){var Tt=rt[jt];Tt.predicate.uri===gt?Ct.push(","):(gt&&(Je=Je.concat([Ct]).concat([";"]),Ct=[]),Je.push(l[Tt.predicate.uri]?l[Tt.predicate.uri]:fe(Tt.predicate,qe))),gt=Tt.predicate.uri,Ct.push(N(Tt.object,qe))}return Je.concat([Ct])}.bind(this),N=function z(Be,qe,Je){return"BlankNode"!==Be.termType||!Je&&void 0!==qe.rootsHash[Be.toNT()]?fe(Be,qe):qe.subjects[this.toStr(Be)]?["[",_(Be,qe),"]"]:"[]"}.bind(this);t.prototype.termToN3=fe;var fe=function me(Be,qe){var Je,gt;switch(Be.termType){case"Graph":return(gt=(gt=["{"]).concat(p(Be.statements))).concat(["}"]);case"Collection":for(gt=["("],Je=0;Je<Be.elements.length;Je++)gt.push([N(Be.elements[Je],qe)]);return gt.push(")"),gt;default:return this.atomicTermToN3(Be)}}.bind(this),ee=function we(){var Be="";for(var qe in this.flags.indexOf("d")<0&&this.defaultNamespace&&(Be+="@prefix : "+this.explicitURI(this.defaultNamespace)+".\n"),this.prefixes)this.prefixes.hasOwnProperty(qe)&&this.namespacesUsed[qe]&&(Be+="@prefix "+this.prefixes[qe]+": "+this.explicitURI(qe)+".\n");return Be+"\n"}.bind(this),Ie=p(e);return ee()+function Be(qe,Je){var gt="",rt=1e5;void 0===Je&&(Je=-1);for(var Ct=0;Ct<qe.length;Ct++){var jt=qe[Ct];if("string"!=typeof jt){var Tt=Be(jt,Je+1);if(Tt.length<10*(80-4*Je)&&Tt.indexOf('"""')<0){var xt=u(jt);xt.length<80-4*Je&&(jt=xt,Tt="")}Tt&&(rt=1e4),gt+=Tt}if("string"==typeof jt){if(1===jt.length&&"\n"===gt.slice(-1)&&",.;".indexOf(jt)>=0){gt=gt.slice(0,-1),"."==jt&&"0123456789.:".includes(gt.charAt(gt.length-1))&&(gt+=" ",rt+=1),gt+=jt+"\n",rt+=1;continue}if(rt<4*Je+4||rt+jt.length+1<80&&";.".indexOf(gt[gt.length-2])<0)gt=gt.slice(0,-1)+" "+jt+"\n",rt+=jt.length+1;else{var An=c(4*Je)+jt;gt+=An+"\n",rt=An.length,Je<0&&(gt+="\n",rt=1e5)}}}return gt}(Ie)}},{key:"atomicTermToN3",value:function(e,r){switch(e.termType){case"BlankNode":case"Variable":return e.toNT();case"Literal":var s=e.value;if("string"!=typeof s)throw new TypeError("Value of RDF literal node must be a string");if(e.datatype&&this.flags.indexOf("x")<0)switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return s;case"http://www.w3.org/2001/XMLSchema#decimal":return s.indexOf(".")<0&&(s+=".0"),s;case"http://www.w3.org/2001/XMLSchema#double":var i=s.toLowerCase().indexOf("e")>0;return s.indexOf(".")<0&&!i&&(s+=".0"),i||(s+="e0"),s;case"http://www.w3.org/2001/XMLSchema#boolean":return"1"===e.value?"true":"false"}var o=this.stringToN3(e.value);return e.language?o+="@"+e.language:e.datatype.equals(this.xsd.string)||(o+="^^"+this.atomicTermToN3(e.datatype,r)),o;case"NamedNode":return this.symbolToN3(e);case"DefaultGraph":return"";default:throw new Error("Internal: atomicTermToN3 cannot handle "+e+" of termType: "+e.termType)}}},{key:"stringToN3",value:function(e,r){r||(r="e");var i,o,a,l,c,s="";for(e.length>20&&'"'!==e.slice(-1)&&r.indexOf("n")<0&&(e.indexOf("\n")>0||e.indexOf('"')>0)?(l='"""',c=this.forbidden3):(l='"',c=this.forbidden1),i=0;i<e.length&&(c.lastIndex=0,null!=c.exec(e.slice(i)));){s+=e.slice(i,o=i+c.lastIndex-1);var h=e[o];'"'===h&&'"""'===l&&'"""'!==e.slice(o,o+3)?s+=h:(a='\b\f\r\t\v\n\\"'.indexOf(h))>=0?s+="\\"+'bfrtvn\\"'[a]:r.indexOf("e")>=0?s+="\\u"+("000"+h.charCodeAt(0).toString(16).toLowerCase()).slice(-4):s+=h,i=o+1}return l+s+e.slice(i)+l}},{key:"symbolToN3",value:function(e){var r=e.uri,s=r.indexOf("#");if(s<0&&this.flags.indexOf("/")<0&&(s=r.lastIndexOf("/")),s>=0&&this.flags.indexOf("p")<0&&(0===r.indexOf("http")||0===r.indexOf("ws")||0===r.indexOf("file"))){for(var i=!0,o=s+1;o<r.length;o++)if(this._notNameChars.indexOf(r[o])>=0){i=!1;break}if(i){var a=r.slice(s+1),l=r.slice(0,s+1);if(this.defaultNamespace&&this.defaultNamespace===l&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(a)<0?a:":"+a;var c=this.prefixes[l];if(c||(c=this.makeUpPrefix(l)),c)return this.namespacesUsed[l]=!0,c+":"+a}}return this.explicitURI(r)}},{key:"writeStore",value:function(e){var r=this.store,s=r.fetcher,i=s&&s.appNode,o=this.store.index[3];for(var a in o){var l=r.fromNT(a);i&&l.equals(i)||e("\n"+this.atomicTermToN3(l)+" "+this.atomicTermToN3(r.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(r.statementsMatching(void 0,void 0,void 0,l))+" }.\n")}r.statementsMatching(void 0,r.sym("http://www.w3.org/2007/ont/link#requestedURI")).map(function(h){e("\n<"+h.object.value+"> log:metadata {\n");var d=r.statementsMatching(void 0,void 0,void 0,h.subject);e(this.statementsToN3(this.statementsToN3(d))),e("}.\n")});var c=[];i&&c.push(i);var u=[];c.map(function(h){u=u.concat(r.statementsMatching(void 0,void 0,void 0,h))}),e(this.statementsToN3(u))}},{key:"statementsToXML",value:function(e){var i=[];i["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var o="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",a=function(rt){for(var Ct="",jt=0;jt<rt;jt++)Ct+=" ";return Ct},l=function gt(rt){for(var Ct="",jt=0;jt<rt.length;jt++){var Tt=rt[jt];Ct+="string"==typeof Tt?Tt:gt(Tt)}return Ct},h=function u(gt){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var rt=this.rootSubjects(gt),Ct=rt.roots,jt=[],Tt=0;Tt<Ct.length;Tt++)jt.push(_(Ct[Tt],rt));return jt}.bind(this);function d(gt){return typeof gt>"u"?"@@@undefined@@@@":gt.replace(/[&<"]/g,function(rt){switch(rt[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}})}var v=function p(gt){return d(this.base?F9(this.base,gt.uri):gt.uri)}.bind(this),_=function b(gt,rt){var jt,Tt,xt,An,Ct=[],tr=rt.subjects[this.toStr(gt)];if(typeof tr>"u")return me(gt,rt);tr.sort(function(xa,Do){var Xi=xa.predicate.uri,ro=Do.predicate.uri;if(Xi.substring(0,44)===o||ro.substring(0,44)===o)return Xi.localeCompare(ro);var so=Xi.substring(44),$a=ro.substring(44),Bo=parseInt(so,10),Sa=parseInt($a,10);return isNaN(Bo)||isNaN(Sa)||Bo!==so||Sa!==$a?Xi.localeCompare(ro):Bo-Sa});for(var Kr=0;Kr<tr.length;Kr++)if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==(xt=tr[Kr]).predicate.uri||jt||"NamedNode"!==xt.object.termType){if((An=xt.predicate).uri.substr(0,44)===o){var bo=An.uri.substr(44);bo===parseInt(bo,10).toString()&&(An=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(Tt=we(An),xt.object.termType){case"BlankNode":Ct=Ct.concat(1===rt.incoming[xt.object].length?["<"+Tt+' rdf:parseType="Resource">',_(xt.object,rt),"</"+Tt+">"]:["<"+Tt+' rdf:nodeID="'+xt.object.toNT().slice(2)+'"/>']);break;case"NamedNode":Ct=Ct.concat(["<"+Tt+' rdf:resource="'+v(xt.object)+'"/>']);break;case"Literal":Ct=Ct.concat(["<"+Tt+(xt.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+d(xt.object.datatype.uri)+'"')+(xt.object.language?' xml:lang="'+xt.object.language+'"':"")+">"+d(xt.object.value)+"</"+Tt+">"]);break;case"Collection":Ct=Ct.concat(["<"+Tt+' rdf:parseType="Collection">',z(xt.object,rt),"</"+Tt+">"]);break;default:throw new Error("Can't serialize object of type "+xt.object.termType+" into XML")}}else jt=xt.object;var Ii=jt?we(jt):"rdf:Description",ls="";return"BlankNode"===gt.termType?(!rt.incoming[gt]||1!==rt.incoming[gt].length)&&(ls=' rdf:nodeID="'+gt.toNT().slice(2)+'"'):ls=' rdf:about="'+v(gt)+'"',["<"+Ii+ls+">"].concat([Ct]).concat(["</"+Ii+">"])}.bind(this);function z(gt,rt){for(var Ct=[],jt=0;jt<gt.elements.length;jt++)Ct.push(_(gt.elements[jt],rt));return Ct}var me=function N(gt,rt){var Ct=[],jt=rt.subjects[this.toStr(gt)];if(!jt)return Ct;jt.sort();for(var Tt=0;Tt<jt.length;Tt++){var xt=jt[Tt];switch(xt.object.termType){case"BlankNode":Ct=rt.rootsHash[xt.object.toNT()]?Ct.concat(["<"+we(xt.predicate)+' rdf:nodeID="'+xt.object.toNT().slice(2)+'">',"</"+we(xt.predicate)+">"]):Ct.concat(["<"+we(xt.predicate)+' rdf:parseType="Resource">',me(xt.object,rt),"</"+we(xt.predicate)+">"]);break;case"NamedNode":Ct=Ct.concat(["<"+we(xt.predicate)+' rdf:resource="'+v(xt.object)+'"/>']);break;case"Literal":Ct=Ct.concat(["<"+we(xt.predicate)+(xt.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+d(xt.object.datatype.value)+'"')+(xt.object.language?' xml:lang="'+xt.object.language+'"':"")+">"+d(xt.object.value)+"</"+we(xt.predicate)+">"]);break;case"Collection":Ct=Ct.concat(["<"+we(xt.predicate)+' rdf:parseType="Collection">',z(xt.object,rt),"</"+we(xt.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+xt.object.termType+" into XML")}}return Ct}.bind(this),we=function fe(gt){var rt=gt.uri,Ct=rt.indexOf("#");if(Ct<0&&this.flags.indexOf("/")<0&&(Ct=rt.lastIndexOf("/")),Ct<0)throw new Error("Cannot make qname out of <"+rt+">");for(var jt=Ct+1;jt<rt.length;jt++)if(this._notNameChars.indexOf(rt[jt])>=0)throw new Error('Invalid character "'+rt[jt]+'" cannot be in XML qname for URI: '+rt);var Tt=rt.slice(Ct+1),xt=rt.slice(0,Ct+1);if(this.defaultNamespace&&this.defaultNamespace===xt&&this.flags.indexOf("d")<0)return Tt;var An=this.prefixes[xt];return An||(An=this.makeUpPrefix(xt)),i[xt]=!0,An+":"+Tt}.bind(this),ee=h(e),Ie="<rdf:RDF";for(var Be in this.defaultNamespace&&(Ie+=' xmlns="'+d(this.defaultNamespace)+'"'),i)if(i.hasOwnProperty(Be)){var qe=this.base&&this.flags.includes("z")?F9(this.base,Be):Be;Ie+="\n xmlns:"+this.prefixes[Be]+'="'+d(qe)+'"'}return function gt(rt,Ct){var Tt,jt="",xt=1e5;Ct||(Ct=0);for(var An=0;An<rt.length;An++){var tr=rt[An];if("string"!=typeof tr){var Kr=gt(tr,Ct+1);Kr.length<10*(80-4*Ct)&&Kr.indexOf('"""')<0&&(Tt=l(tr)).length<80-4*Ct&&(tr="   "+Tt,Kr=""),Kr&&(xt=1e4),jt+=Kr}"string"==typeof tr&&(xt<4*Ct+4?(jt=jt.slice(0,-1)+" "+tr+"\n",xt+=tr.length+1):(jt+=(Tt=a(4*Ct)+tr)+"\n",xt=Tt.length))}return jt}([Ie+=">",ee,"</rdf:RDF>"],-1)}},{key:"statementsToJsonld",value:function(e){var r=this.statementsToN3(e),s=HK.parse(r);return JSON.stringify(s,null,2)}}])}();function B4(t,n,e,r,s,i){e=e||t?.value;var o=i||{};r=r||In.sT;try{var l=function zK(t){return new VK(t)}(n);o.flags&&l.setFlags(o.flags);var c=n.statementsMatching(void 0,void 0,void 0,t);switch("namespaces"in n&&l.suggestNamespaces(n.namespaces),o.namespaces&&l.setNamespaces(o.namespaces),l.setBase(e),r){case In.JG:return u(null,l.statementsToXML(c));case In.ny:case In.MG:return u(null,l.statementsToN3(c));case In.sT:case In.hu:return l.setFlags("si"),u(null,l.statementsToN3(c));case In.bM:return l.setFlags("deinprstux"),u(null,l.statementsToNTriples(c));case In.i2:return l.setFlags("si dr"),u(null,l.statementsToJsonld(c));case In._0:case In.BR:return l.setFlags("deinprstux q"),u(null,l.statementsToNTriples(c));default:throw new Error("Serialize: Content-type "+r+" not supported for data write.")}}catch(h){if(s)return s(h,void 0);throw h}function u(h,d){return s?void s(h,d):d}}var LK=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"],N4={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function az(t,n,e){var r=[];return e.reduce(function(s,i,o,a){var l;return r.push(t.quad(s,t.namedNode(N4.first),a[o])),o<a.length-1?(l=t.blankNode(),r.push(t.quad(s,t.namedNode(N4.rest),l))):r.push(t.quad(s,t.namedNode(N4.rest),t.namedNode(N4.nil))),l},n),r}function wa(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.length;for(e<0&&(e=r+e);e<r;e++)if(t[e]===n)return e;return-1}function lz(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function BK(t,n,e){return n=(0,Qi.A)(n),(0,Dc.A)(t,cz()?Reflect.construct(n,e||[],(0,Qi.A)(t).constructor):n.apply(t,e))}function cz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cz=function(){return!!t})()}var uz=function(t){function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,Ys.A)(this,n),(e=BK(this,n,[""])).statements=r,e.constraints=s,e.initBindings=i,e.optional=o,(0,zt.A)(e,"termType",In.bD),(0,zt.A)(e,"classOrder",Ul.A.Graph),(0,zt.A)(e,"fetcher",void 0),(0,zt.A)(e,"isVar",0),(0,zt.A)(e,"ns",bs),(0,zt.A)(e,"rdfFactory",void 0),e.rdfFactory=a&&a.rdfFactory||Wa;var c,l=function RK(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function DK(t,n){if(t){if("string"==typeof t)return lz(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return lz(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return i=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!i&&null!=e.return&&e.return()}finally{if(o)throw a}}}}(LK);try{var u=function(){var d=c.value;e[d]=function(){var p;return(p=e.rdfFactory)[d].apply(p,arguments)}};for(l.s();!(c=l.n()).done;)u()}catch(h){l.e(h)}finally{l.f()}return e}return(0,Lo.A)(n,t),(0,Ks.A)(n,[{key:"add",value:function(r,s,i,o){var a=this;return 1===arguments.length&&r.forEach(function(l){return a.add(l.subject,l.predicate,l.object,l.graph)}),this.statements.push(this.rdfFactory.quad(r,s,i,o))}},{key:"addStatement",value:function(r){return this.add(r)}},{key:"bnode",value:function(r){return this.rdfFactory.blankNode(r)}},{key:"addAll",value:function(r){var s=this;r.forEach(function(i){s.add(i.subject,i.predicate,i.object,i.graph)})}},{key:"any",value:function(r,s,i,o){var a=this.anyStatementMatching(r,s,i,o);return null==a?null:null==r?a.subject:null==s?a.predicate:null==i?a.object:null}},{key:"anyValue",value:function(r,s,i,o){var a=this.any(r,s,i,o);return a?a.value:void 0}},{key:"anyJS",value:function(r,s,i,o){var a=this.any(r,s,i,o);return a?yo.A.toJS(a):void 0}},{key:"anyStatementMatching",value:function(r,s,i,o){var a=this.statementsMatching(r,s,i,o,!0);if(a&&0!==a.length)return a[0]}},{key:"id",value:function(r){return this.rdfFactory.id(r)}},{key:"statementsMatching",value:function(r,s,i,o,a){var l=this.statements.filter(function(c){return(!r||r.equals(c.subject))&&(!s||s.equals(c.predicate))&&(!i||i.equals(c.object))&&(!o||o.equals(c.graph))});return a?0===l.length?[]:[l[0]]:l}},{key:"bottomTypeURIs",value:function(r){var s,i,a,l,u,h;for(var d in s=[],r)if(r.hasOwnProperty(d)){for(h=r[d],i=!0,a=0,l=(u=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(d))).length;a<l;a++)if(u[a].uri in r){i=!1;break}i&&(s[d]=h)}return s}},{key:"collection",value:function(){return new Bc}},{key:"each",value:function(r,s,i,o){var a=[],l=this.statementsMatching(r,s,i,o,!1);if(null==r)for(var c=0,u=l.length;c<u;c++)a.push(l[c].subject);else if(null==s)for(var h=0,d=l.length;h<d;h++)a.push(l[h].predicate);else if(null==i)for(var p=0,v=l.length;p<v;p++)a.push(l[p].object);else if(null==o)for(var b=0,_=l.length;b<_;b++)a.push(new qi.A(l[b].graph.value));return a}},{key:"equals",value:function(r){return!!r&&this.hashString()===r.hashString()}},{key:"findMembersNT",value:function(r){var s,i,o,a,c,u,h,d,p,v,b,_,z;for(var N in(b={})[r.toNT()]=!0,a={},c=this.transitiveClosure(b,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0))if(c.hasOwnProperty(N)){for(var me=0,fe=(u=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(N))).length;me<fe;me++)a[(_=u[me]).subject.toNT()]=_;for(var we=0,ee=(h=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(N))).length;we<ee;we++)for(o=0,s=(d=this.statementsMatching(void 0,h[we])).length;o<s;o++)a[(_=d[o]).subject.toNT()]=_;for(var Ie=0,Be=(p=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(N))).length;Ie<Be;Ie++)for(z=0,i=(v=this.statementsMatching(void 0,p[Ie])).length;z<i;z++)a[(_=v[z]).object.toNT()]=_}return a}},{key:"findMemberURIs",value:function(r){return this.NTtoURI(this.findMembersNT(r))}},{key:"findSubClassesNT",value:function(r){var s={};return s[r.toNT()]=!0,this.transitiveClosure(s,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}},{key:"findSuperClassesNT",value:function(r){var s={};return s[r.toNT()]=!0,this.transitiveClosure(s,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypesNT",value:function(r){var a,l,c,u,h,d;d=[];for(var p=0,v=(a=this.statementsMatching(r,void 0,void 0)).length;p<v;p++)if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===(h=a[p]).predicate.uri)d[h.object.toNT()]=h;else for(var b=0,_=(l=this.each(h.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"))).length;b<_;b++)d[l[b].toNT()]=h;for(var z=0,N=(c=this.statementsMatching(void 0,void 0,r)).length;z<N;z++)for(var me=0,fe=(u=this.each((h=c[z]).predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"))).length;me<fe;me++)d[u[me].toNT()]=h;return this.transitiveClosure(d,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypeURIs",value:function(r){return this.NTtoURI(this.findTypesNT(r))}},{key:"connectedStatements",value:function(r,s,i){i=i||[];for(var o=[r],a={},l={},c=[],u=this,h=function(p){var v=function(z){"BlankNode"===z.termType&&!a[z.value]&&(a[z.value]=!0,o.push(z))},b=u.statementsMatching(null,null,p,s).concat(u.statementsMatching(p,null,null,s));(b=b.filter(function(_){if(i[_.predicate.value])return!1;var z=_.toNT();return!l[z]&&(l[z]=!0,!0)})).forEach(function(_){v(_.subject),v(_.object)}),c=c.concat(b)};o.length;)h(o.shift());return c}},{key:"formula",value:function(r){return new n}},{key:"fromNT",value:function(r){var s,i,o;switch(r[0]){case"<":return this.sym(r.slice(1,-1));case'"':if(o=void 0,s=void 0,(i=r.lastIndexOf('"'))<r.length-1)if("@"===r[i+1])o=r.slice(i+2);else{if("^^"!==r.slice(i+1,i+3))throw new Error("Can't convert string from NT: "+r);s=this.fromNT(r.slice(i+3))}return r=(r=(r=(r=r.slice(1,i)).replace(/\\"/g,'"')).replace(/\\n/g,"\n")).replace(/\\\\/g,"\\"),this.rdfFactory.literal(r,o||s);case"_":return this.rdfFactory.blankNode(r.slice(2));case"?":return new J1(r.slice(1))}throw new Error("Can't convert from NT: "+r)}},{key:"holds",value:function(r,s,i,o){var a;if(1===arguments.length){if(!r)return!0;if(r instanceof Array){for(a=0;a<r.length;a++)if(!this.holds(r[a]))return!1;return!0}if((0,Rs.SH)(r))return this.holds(r.subject,r.predicate,r.object,r.graph);if(r.statements)return this.holds(r.statements)}return null!=this.anyStatementMatching(r,s,i,o)}},{key:"holdsStatement",value:function(r){return this.holds(r.subject,r.predicate,r.object,r.graph)}},{key:"list",value:function(r,s){if(s.rdfFactory.supports.COLLECTIONS){var i=s.rdfFactory.collection();return r.forEach(function(l){i.append(l)}),i}var o=s.rdfFactory.blankNode(),a=az(s.rdfFactory,o,r);return s.addAll(a),o}},{key:"NTtoURI",value:function(r){var s,i,o={};for(s in r)r.hasOwnProperty(s)&&(i=r[s],"<"===s[0]&&(o[s.slice(1,-1)]=i));return o}},{key:"serialize",value:function(r,s,i,o){return B4(i,this,r,s,void 0,o)}},{key:"substitute",value:function(r){var s=this.statements.map(function(o){return o.substitute(r)}),i=new n;return i.addAll(s),i}},{key:"sym",value:function(r,s){if(s)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(r)}},{key:"the",value:function(r,s,i,o){var a=this.any(r,s,i,o);return null==a&&Ni_error("No value found for the() {"+r+" "+s+" "+i+"}."),a}},{key:"transitiveClosure",value:function(r,s,i){var a,l,c,u,h,d={};Object.assign(d,r);for(var p={};;){if(null==(h=function(){for(var v in d)if(d.hasOwnProperty(v))return v}()))return p;for(a=0,l=(u=i?this.each(void 0,s,this.fromNT(h)):this.each(this.fromNT(h),s)).length;a<l;a++)!((c=u[a].toNT())in p)&&(c in d||(d[c]=d[h]));p[h]=d[h],delete d[h]}}},{key:"topTypeURIs",value:function(r){var s,o,a,l,c,u,h;for(o in u=[],r)if(r.hasOwnProperty(o)){for(h=r[o],l=0,s=0,a=(c=this.each(this.rdfFactory.namedNode(o),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"))).length;s<a;s++)if("http://www.w3.org/2000/01/rdf-schema#Resource"!==c[s].uri){l++;break}l||(u[o]=h)}return u["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete u["http://www.w3.org/2000/01/rdf-schema#Resource"],u["http://www.w3.org/2002/07/owl#Thing"]&&delete u["http://www.w3.org/2002/07/owl#Thing"],u}},{key:"toString",value:function(){return"{"+this.statements.join("\n")+"}"}},{key:"variable",value:function(r){return new J1(r)}},{key:"whether",value:function(r,s,i,o){return this.statementsMatching(r,s,i,o,!1).length}}])}(yo.A);yo.A.fromValue=qH;const Xl=yo.A;var Oh={xsd:bs("http://www.w3.org/2001/XMLSchema#")};yo.A.toJS=function(t){return(0,Rs.P3)(t)?t.elements.map(yo.A.toJS):(0,Rs.c$)(t)?t.datatype.equals(Oh.xsd("boolean"))?"1"===t.value||"true"===t.value:t.datatype.equals(Oh.xsd("dateTime"))||t.datatype.equals(Oh.xsd("date"))?new Date(t.value):t.datatype.equals(Oh.xsd("integer"))||t.datatype.equals(Oh.xsd("float"))||t.datatype.equals(Oh.xsd("decimal"))?Number(t.value):t.value:t};var NK=(0,Ks.A)(function t(n,e){(0,Ys.A)(this,t),this.pat=new M0,this.vars=[],this.name=n,this.id=e});function hz(t,n,e,r){function s(we){var Ie,ee="";for(Ie in we)we.hasOwnProperty(Ie)&&(ee+="    "+Ie+" -> "+we[Ie]);return ee}function i(we){var Ie,ee="Bindings: ",Be=we.length;for(Ie=0;Ie<Be;Ie++)ee+=s(we[Ie][0])+";\n\t";return ee}function a(we,ee,Ie,Be){var qe;if(we.length!==ee.length)return[];if(!we.length)return[[[],null]];var Je=function o(we,ee,Ie,Be){var qe=Ie[we];if(void 0===qe){if(we.isVar){var Je=[];return Je[we]=ee,[[Je,null]]}qe=we}if(!qe.complexType)return Be.redirections[qe]&&(qe=Be.redirections[qe]),Be.redirections[ee]&&(ee=Be.redirections[ee]),qe.equals(ee)||qe.uri&&qe.uri===x0?[[[],null]]:[];if(we instanceof Array)return ee instanceof Array?a(we,ee,Ie):[];throw new Error("query.js: oops - code not written yet")}(we[0],ee[0],Ie,Be);if(0===Je.length)return Je;var rt,jt,Tt,xt,An,tr,Kr,gt=[],Ct=Je.length;for(rt=0;rt<Ct;rt++){for(An in Kr=[],jt=Je[rt][0])jt.hasOwnProperty(An)&&(Kr[An]=jt[An]);for(An in Ie)Ie.hasOwnProperty(An)&&(Kr[An]=Ie[An]);for(xt=(qe=a(we.slice(1),ee.slice(1),Kr,Be)).length,Tt=0;Tt<xt;Tt++){for(An in tr=qe[Tt][0],jt)jt.hasOwnProperty(An)&&(tr[An]=jt[An]);gt.push([tr,null])}}return gt}function l(we,ee){var Ie=ee[we];return void 0===Ie?we:Ie}function c(we,ee){var Be,Ie={};for(Be in we)we.hasOwnProperty(Be)&&(Ie[Be]=we[Be]);for(Be in ee)ee.hasOwnProperty(Be)&&(Ie[Be]=ee[Be]);return Ie}function u(we,ee){return this.trunkBindings=ee,this.originalCallback=we,this.branches=[],this}function h(we,ee){return this.count=0,this.success=!1,this.done=!1,this.callback=we,this.onDone=ee,this}u.prototype.checkAllDone=function(){var we;for(we=0;we<this.branches.length;we++)if(!this.branches[we].done)return;Ni_debug("OPTIONAL BIDNINGS ALL DONE:"),this.doCallBacks(this.branches.length-1,this.trunkBindings)},u.prototype.doCallBacks=function(we,ee){var Ie;if(we<0)return this.originalCallback(ee);for(Ie=0;Ie<this.branches[we].results.length;Ie++)this.doCallBacks(we-1,c(ee,this.branches[we].results[Ie]))},h.prototype.reportMatch=function(we){this.callback(we),this.success=!0},h.prototype.reportDone=function(){this.done=!0,Ni_info("Mandatory query branch finished.***"),void 0!==this.onDone&&this.onDone()};var d=function(ee){return this.count=0,this.done=!1,this.results=[],this.junction=ee,ee.branches.push(this),this};function p(we,ee,Ie){var Be,qe,Je,gt;for(ee.nvars=0,ee.index=null,Be=[ee.subject,ee.predicate,ee.object,ee.why],gt=[we.subjectIndex,we.predicateIndex,we.objectIndex,we.whyIndex],Je=0;Je<4;Je++){var rt=Be[Je];if(!rt.uri||rt.uri!==x0)if(rt.isVar&&void 0===Ie[rt])ee.nvars++;else{if(rt=l(Be[Je],Ie),we.redirections[we.id(rt)]&&(rt=we.redirections[we.id(rt)]),!(qe=gt[Je][we.id(rt)]))return ee.index=[],!1;(null===ee.index||ee.index.length>qe.length)&&(ee.index=qe)}}return null===ee.index&&(ee.index=we.statements),!0}function v(we,ee){return we.nvars!==ee.nvars?we.nvars-ee.nvars:we.index.length-ee.index.length}d.prototype.reportMatch=function(we){this.results.push(we)},d.prototype.reportDone=function(){Ni_debug("Optional branch finished - results.length = "+this.results.length),0===this.results.length&&(this.results.push({}),Ni_debug("Optional branch FAILED - that's OK.")),this.done=!0,this.junction.checkAllDone()};var _=function we(ee,Ie,Be,qe,Je,gt,rt){Ni_debug("Match begins, Branch count now: "+rt.count+" for "+rt.pattern_debug);var Ct=Ie.statements;if(0===Ct.length){if(Ni_debug("FOUND MATCH WITH BINDINGS:"+s(Be)),0===Ie.optional.length)rt.reportMatch(Be);else{Ni_debug("OPTIONAL: "+Ie.optional);var xt,jt=new u(n,Be),Tt=[];for(xt=0;xt<Ie.optional.length;xt++)Tt[xt]=new d(jt),Tt[xt].pattern_debug=Ie.optional[xt];for(xt=0;xt<Ie.optional.length;xt++)Tt[xt].count=Tt[xt].count+1,we(ee,Ie.optional[xt],Be,"",Je,n,Tt[xt])}return rt.count--,void Ni_debug("Match ends -- success , Branch count now: "+rt.count+" for "+rt.pattern_debug)}var An,tr,Kr=Ct.length;if(Je){var Zr=function(ls,xa){var Do=ls.uri.split("#")[0];Je.nowOrWhenFetched(Do,void 0,function(Xi,ro,so){Xi||console.log("Error following link to <"+ls.uri+"> in query: "+ro),we(ee,Ie,Be,qe,Je,gt,rt)})};for(tr=0;tr<Kr;tr++){if(void 0!==Be[(An=Ct[tr]).subject]&&Be[An.subject].uri&&Je&&"unrequested"===Je.getState(K1(Be[An.subject].uri)))return void Zr(Be[An.subject]);if(void 0!==Be[An.object]&&Be[An.object].uri&&Je&&"unrequested"===Je.getState(K1(Be[An.object].uri)))return void Zr(Be[An.object])}}N(ee,Ie,Be,qe,Je,gt,rt)},z=function(ee,Ie){var qe,Je,Be=!0;for(qe in ee)ee.hasOwnProperty(qe)&&Ie[qe]&&(Je=Ie[qe].test)&&!Je(ee[qe])&&(Be=!1);return Be},N=function(ee,Ie,Be,qe,Je,gt,rt){var Tt,xt,An,tr,Kr,bo,Zr,Ct=Ie.statements,jt=Ct.length;for(Tt=0;Tt<jt;Tt++)p(ee,Zr=Ct[Tt],Be);Ct.sort(v),Zr=Ct[0];var Ii=ee.formula();Ii.optional=Ie.optional,Ii.constraints=Ie.constraints,Ii.statements=Ct.slice(1),Ni_debug(qe+"match2 searching "+Zr.index.length+" for "+Zr+"; bindings so far="+s(Be));var ls,Do,Xi,xa=Zr.index.length,ro=0;for(ls=0;ls<xa;ls++)for(Do=a([Zr.subject,Zr.predicate,Zr.object,Zr.why],[(Xi=Zr.index[ls]).subject,Xi.predicate,Xi.object,Xi.why],Be,ee),Ni_info(qe+" From first: "+Do.length+": "+i(Do)),An=Do.length,xt=0;xt<An;xt++)if(Kr=[],z(bo=Do[xt][0],Ie.constraints)){for(tr in bo)bo.hasOwnProperty(tr)&&(Kr[tr]=bo[tr]);for(tr in Be)Be.hasOwnProperty(tr)&&(Kr[tr]=Be[tr]);rt.count++,ro++,_(ee,Ii,Kr,qe+"  ",Je,gt,rt)}else Ni_debug("Branch count CS: "+rt.count);rt.count--,0===ro&&Ni_debug("Match2 fails completely on "+Zr),Ni_debug("Match2 ends, Branch count: "+rt.count+" for "+rt.pattern_debug),0===rt.count&&(Ni_debug("Branch finished."),rt.reportDone())},me=this;Ni_debug("Query on "+this.statements.length);var fe=new h(n,r);fe.count++,t.sync?_(me,t.pat,t.pat.initBindings,"",e,n,fe):setTimeout(function(){_(me,t.pat,t.pat.initBindings,"",e,n,fe)},0)}function dz(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,r)}return e}function S0(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?dz(Object(e),!0).forEach(function(r){(0,zt.A)(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):dz(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function pz(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function kK(t,n,e){return n=(0,Qi.A)(n),(0,Dc.A)(t,fz()?Reflect.construct(n,e||[],(0,Qi.A)(t).constructor):n.apply(t,e))}function fz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fz=function(){return!!t})()}var P9="http://www.w3.org/2002/07/owl#";function OK(t,n,e,r){var s=t.any(n,e,void 0);return!!s&&(t.equate(s,r),!0)}function GK(t,n,e,r){var s=t.any(void 0,e,r);return!!s&&(t.equate(s,n),!0)}function gz(t,n,e,r,s){t.typeCallback&&t.typeCallback(t,r,s);var i=t.classActions[t.id(r)],o=!1;if(i)for(var a=0;a<i.length;a++)o=o||i[a](t,n,e,r,s);return o}var M0=function(t){function n(e){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ys.A)(this,n),r=kK(this,n,[void 0,void 0,void 0,void 0,s]),(0,zt.A)(r,"updater",void 0),(0,zt.A)(r,"namespaces",void 0),(0,zt.A)(r,"classActions",void 0),(0,zt.A)(r,"propertyActions",void 0),(0,zt.A)(r,"redirections",void 0),(0,zt.A)(r,"aliases",void 0),(0,zt.A)(r,"HTTPRedirects",void 0),(0,zt.A)(r,"subjectIndex",void 0),(0,zt.A)(r,"predicateIndex",void 0),(0,zt.A)(r,"objectIndex",void 0),(0,zt.A)(r,"whyIndex",void 0),(0,zt.A)(r,"index",void 0),(0,zt.A)(r,"features",void 0),(0,zt.A)(r,"_universalVariables",void 0),(0,zt.A)(r,"_existentialVariables",void 0),(0,zt.A)(r,"rdfArrayRemove",void 0),(0,zt.A)(r,"dataCallbacks",void 0),r.propertyActions={},r.classActions={},r.redirections=[],r.aliases=[],r.HTTPRedirects=[],r.subjectIndex=[],r.predicateIndex=[],r.objectIndex=[],r.whyIndex=[],r.index=[r.subjectIndex,r.predicateIndex,r.objectIndex,r.whyIndex],r.namespaces={},r.features=e||[],r.rdfArrayRemove=s.rdfArrayRemove||Za.Uz,s.dataCallback&&(r.dataCallbacks=[s.dataCallback]),r.initPropertyActions(r.features),r}return(0,Lo.A)(n,t),(0,Ks.A)(n,[{key:"substitute",value:function(r){var s=this.statements.map(function(o){return o.substitute(r)}),i=new n;return i.add(s),i}},{key:"addDataCallback",value:function(r){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(r)}},{key:"applyPatch",value:function(r,s,i){var a,o=this,l=null;function c(d){if(r.delete){a=r.delete,l&&(a=a.substitute(l));var p=[],v=(a=a.statements).map(function(b){var _=o.statementsMatching(b.subject,b.predicate,b.object,s);return 0===_.length?(p.push(b),null):_[0]});if(p.length)return i("Could not find to delete: "+p.join("\n or "));v.map(function(b){o.remove(b)})}r.insert&&(a=r.insert,l&&(a=a.substitute(l)),(a=a.statements).map(function(b){b.graph=s,o.add(b.subject,b.predicate,b.object,b.graph)})),d()}if(r.where){var u=new NK("patch");u.pat=r.where,u.pat.statements.map(function(d){d.graph=R0(s.value)}),u.sync=!0;var h=[];o.query(u,function(p){h.push(p)},o.fetcher,function(){return 0===h.length?i("No match found to be patched:"+r.where):h.length>1?i("Patch ambiguous. No patch done."):(l=h[0],void c(i))})}else c(i)}},{key:"declareExistential",value:function(r){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(r),r}},{key:"initPropertyActions",value:function(r){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[gz],wa(r,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(P9,"sameAs")))]=[function(s,i,o,a,l){return s.equate(i,a),!0}]),wa(r,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(P9,"InverseFunctionalProperty")))]=[function(s,i,o,a,l){return s.newPropertyAction(i,GK)}]),wa(r,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(P9,"FunctionalProperty")))]=[function(s,i,o,a,l){return s.newPropertyAction(i,OK)}])}},{key:"addStatement",value:function(r){return this.add(r.subject,r.predicate,r.object,r.graph),this.statements.length}},{key:"add",value:function(r,s,i,o){var a,l,c;if(1===arguments.length){if(r instanceof Array)for(a=0;a<r.length;a++)this.add(r[a]);else(0,Rs.aF)(r)?this.add(r.subject,r.predicate,r.object,r.graph):(0,Rs.ok)(r)&&this.add(r.statements);return this}o||(o=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),"string"==typeof r&&(r=this.rdfFactory.namedNode(r)),s=Xl.fromValue(s);var u=Xl.fromValue(i);if(o=Xl.fromValue(o),!(0,Rs.CZ)(r))throw new Error("Subject is not a subject type");if(!(0,Rs.fY)(s))throw new Error("Predicate ".concat(s," is not a predicate type"));if(!(0,Rs.DJ)(u))throw new Error("Object ".concat(u," is not an object type"));if(!(0,Rs.RN)(o))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,s,o);var h=this.id(this.canon(s)),d=!1;if(l=this.propertyActions[h])for(a=0;a<l.length;a++)d=d||l[a](this,r,s,u,o);if(this.holds(r,s,u,o))return null;var p=[this.id(this.canon(r)),h,this.id(this.canon(u)),this.id(this.canon(o))];for(c=this.rdfFactory.quad(r,s,u,o),a=0;a<4;a++){var v=this.index[a],b=p[a];v[b]||(v[b]=[]),v[b].push(c)}if(this.statements.push(c),this.dataCallbacks){var z,_=function FK(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function PK(t,n){if(t){if("string"==typeof t)return pz(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return pz(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return i=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!i&&null!=e.return&&e.return()}finally{if(o)throw a}}}}(this.dataCallbacks);try{for(_.s();!(z=_.n()).done;)(0,z.value)(c)}catch(me){_.e(me)}finally{_.f()}}return c}},{key:"canon",value:function(r){if(!r)return r;var s=this.redirections[this.id(r)];if(s)return s;switch(r.termType){case In.$Q:return new Ga(r.value);case In.r0:return r;case In.ic:return new N9;case In.S:case In.bD:return r;case In.QW:return new qo(r.value,r.language,r.datatype);case In.Kk:return new qi.A(r.value);case In.P2:return new J1(r.value);default:throw new Error("Term Type not recognized for canonization: ".concat(r.termType))}}},{key:"check",value:function(){this.checkStatementList(this.statements);for(var r=0;r<4;r++){var s=this.index[r];for(var i in s)s.hasOwnProperty(i)&&this.checkStatementList(s[i],r)}}},{key:"checkStatementList",value:function(r,s){void 0===s&&(s=0);for(var a,o=" found in "+["subject","predicate","object","why"][s]+" index.",l=0;l<r.length;l++){for(var c=[(a=r[l]).subject,a.predicate,a.object,a.graph],u=function(b,_){for(var z=0;z<b.length;z++)if(b[z].subject.equals(_.subject)&&b[z].predicate.equals(_.predicate)&&b[z].object.equals(_.object)&&b[z].why.equals(_.graph))return!0},h=0;h<4;h++){var d=this.canon(c[h]),p=this.id(d);this.index[h][p]&&u(this.index[h][p],a)}if(!u(this.statements,a))throw new Error("Statement list does not statement "+a+"@"+a.graph+o)}}},{key:"close",value:function(){return this}},{key:"compareTerms",value:function(r,s){return Object.prototype.hasOwnProperty.call(r,"compareTerm")?r.compareTerm(s):Ul.A[r.termType]<Ul.A[s.termType]?-1:Ul.A[r.termType]>Ul.A[s.termType]?1:r.value<s.value?-1:r.value>s.value?1:0}},{key:"copyTo",value:function(r,s,i){i||(i=[]);var o=this.statementsMatching(r);-1!==wa(i,"two-direction")&&o.concat(this.statementsMatching(void 0,void 0,r));for(var a=0;a<o.length;a++){var l=o[a];switch(l.object.termType){case"NamedNode":this.add(s,l.predicate,l.object);break;case"Literal":case"BlankNode":case"Collection":this.add(s,l.predicate,l.object.copy(this))}-1!==wa(i,"delete")&&this.remove(l)}}},{key:"equate",value:function(r,s){var i=this.canon(r),o=this.canon(s),a=this.compareTerms(i,o);return!a||(a<0?this.replaceWith(o,i):this.replaceWith(i,o))}},{key:"formula",value:function(r){return new n(r)}},{key:"length",get:function(){return this.statements.length}},{key:"match",value:function(r,s,i,o){return this.statementsMatching(Xl.fromValue(r),Xl.fromValue(s),Xl.fromValue(i),Xl.fromValue(o))}},{key:"mentionsURI",value:function(r){var s="<"+r+">";return!!this.subjectIndex[s]||!!this.objectIndex[s]||!!this.predicateIndex[s]}},{key:"newExistential",value:function(r){if(!r)return this.bnode();var s=this.sym(r);return this.declareExistential(s)}},{key:"newPropertyAction",value:function(r,s){var i=this.id(r);this.propertyActions[i]||(this.propertyActions[i]=[]),this.propertyActions[i].push(s);for(var o=this.statementsMatching(void 0,r,void 0),a=!1,l=0;l<o.length;l++)a=a||s(this,o[l].subject,r,o[l].object);return a}},{key:"newUniversal",value:function(r){var s=this.sym(r);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(s),s}},{key:"variable",value:function(r){return new J1(r)}},{key:"nextSymbol",value:function(r){for(var s=0;;s++){var i=r.value+"#n"+s;if(!this.mentionsURI(i))return this.sym(i)}}},{key:"query",value:function(r,s,i,o){return hz.call(this,r,s,i,o)}},{key:"querySync",value:function(r){var s=[],a=!1;if(r.sync=!0,hz.call(this,r,function i(l){s.push(l)},null,function o(){a=!0}),!a)throw new Error("Sync query should have called done function");return s}},{key:"remove",value:function(r){if(r instanceof Array){for(var s=0;s<r.length;s++)this.remove(r[s]);return this}if((0,Rs.ok)(r))return this.remove(r.statements);var i=this.statementsMatching(r.subject,r.predicate,r.object,r.graph);if(!i.length)throw new Error("Statement to be removed is not on store: "+r);return this.removeStatement(i[0]),this}},{key:"removeDocument",value:function(r){this.removeMetadata(r);for(var s=this.statementsMatching(void 0,void 0,void 0,r).slice(),i=0;i<s.length;i++)this.removeStatement(s[i]);return this.removeMatches(r,null,null),this}},{key:"removeMetadata",value:function(r){for(var s=this.sym("chrome://TheCurrentSession"),i="http://www.w3.org/2007/ont/link#",o=this.statementsMatching(void 0,this.sym("".concat(i,"requestedURI")),this.rdfFactory.literal(r.value),s).map(function(p){return p.subject}),a=0;a<o.length;a++){var l=o[a];if(null!=l){var c=void 0,u=this.any(l,this.sym("".concat(i,"status")),null,s);if(null!=u){c=this.statementsMatching(u,this.sym("".concat(i,"status")),null,s).slice();for(var h=0;h<c.length;h++)this.removeStatement(c[h])}var d=this.any(l,this.sym("".concat(i,"response")),null,s);if(null!=d)for(c=this.statementsMatching(d,null,null,s).slice(),h=0;h<c.length;h++)this.removeStatement(c[h]);for(c=this.statementsMatching(l,null,null,s).slice(),h=0;h<c.length;h++)this.removeStatement(c[h])}}return this.removeMatches(this.sym(r.value),null,null,s),this}},{key:"removeMany",value:function(r,s,i,o,a){for(var l=this.statementsMatching(r,s,i,o,!1),c=[],u=0;u<l.length;u++)c.push(l[u]);for(a&&(c=c.slice(0,a)),u=0;u<c.length;u++)this.remove(c[u])}},{key:"removeMatches",value:function(r,s,i,o){return this.removeMany(r,s,i,o),this}},{key:"removeStatement",value:function(r){for(var s=[r.subject,r.predicate,r.object,r.graph],i=0;i<4;i++){var o=this.canon(s[i]),a=this.id(o);this.index[i][a]&&this.rdfArrayRemove(this.index[i][a],r)}return this.rdfArrayRemove(this.statements,r),this}},{key:"removeStatements",value:function(r){for(var s=0;s<r.length;s++)this.remove(r[s]);return this}},{key:"replaceWith",value:function(r,s){for(var i=this.id(r),o=this.id(s),a=function(u){var h=u[i];if(h){var d=u[o];u[o]=d?h.concat(d):h,delete u[i]}},l=0;l<4;l++)a(this.index[l]);if(this.redirections[i]=s,r.value){if(this.aliases[o]||(this.aliases[o]=[]),this.aliases[o].push(r),this.aliases[i])for(l=0;l<this.aliases[i].length;l++)this.redirections[this.id(this.aliases[i][l])]=s,this.aliases[o].push(this.aliases[i][l]);this.add(s,this.sym("http://www.w3.org/2007/ont/link#uri"),r),this.fetcher&&this.fetcher.nowKnownAs(r,s)}return a(this.classActions),a(this.propertyActions),!0}},{key:"allAliases",value:function(r){var s=this.aliases[this.id(this.canon(r))]||[];return s.push(this.canon(r)),s}},{key:"sameThings",value:function(r,s){if(r.equals(s))return!0;var i=this.canon(r);if(!i)return!1;var o=this.canon(s);return!!o&&i.value===o.value}},{key:"setPrefixForURI",value:function(r,s){if(("tab"!==r||!this.namespaces.tab)&&"ns"!==r.slice(0,2)&&"default"!==r.slice(0,7)){for(var i in this.namespaces)this.namespaces[i]==s&&delete this.namespaces[i];this.namespaces[r]=s}}},{key:"statementsMatching",value:function(r,s,i,o,a){var p,v,l=[r,s,i,o],c=[],u=[],h=[],d=[];for(p=0;p<4;p++)c[p]=this.canon(Xl.fromValue(l[p])),c[p]?(d.push(p),u[p]=this.id(c[p])):h.push(p);if(0===d.length)return this.statements;if(1===d.length)return(v=this.index[p=d[0]][u[p]])&&a&&v.length>1&&(v=v.slice(0,1)),v||[];var _,z,b=1e10;for(z=0;z<d.length;z++){if(!(v=this.index[p=d[z]][u[p]]))return[];v.length<b&&(b=v.length,_=z)}for(var N=d[_],me=this.index[N][u[N]],fe=d.slice(0,_).concat(d.slice(_+1)),we=[],ee=["subject","predicate","object","why"],Ie=0;Ie<me.length;Ie++){var Be=me[Ie];for(z=0;z<fe.length;z++)if(!this.canon(Be[ee[p=fe[z]]]).equals(c[p])){Be=null;break}if(null!=Be&&(we.push(Be),a))break}return we}},{key:"uris",value:function(r){var s=this.canon(r),i=this.aliases[this.id(s)];if(!s.value)return[];var o=[s.value];if(i)for(var a=0;a<i.length;a++)o.push(i[a].uri);return o}},{key:"serialize",value:function(r,s,i,o){var a,l=null!==(a=o)&&void 0!==a&&a.namespaces?S0(S0({},this.namespaces),o.namespaces):S0({},this.namespaces);return B4(i,this,r,s,void 0,o=S0(S0({},o||{}),{},{namespaces:l}))}}],[{key:"defaultGraphURI",get:function(){return x0}}])}(uz);(0,zt.A)(M0,"handleRDFType",void 0),M0.handleRDFType=gz;var WK=K(6725),F4=K.n(WK);function _0(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function ZK(t,n){if(t){if("string"==typeof t)return vz(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return vz(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return i=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!i&&null!=e.return&&e.return()}finally{if(o)throw a}}}}function vz(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var q1=bs("http://www.w3.org/1999/02/22-rdf-syntax-ns#");function $K(t,n){function e(s,i,o){var a=t.statementsMatching(s,q1("rest"),null,n);if(1!==a.length)throw new Error("Bad list structure: no rest at ".concat(s));var l=t.statementsMatching(s,q1("first"),null,n);if(1!==l.length)throw new Error("Bad list structure: rest but ".concat(l.length," firsts at ").concat(s));var u=[l[0].object].concat(i),h=o.concat(a).concat(l),d=t.statementsMatching(null,q1("rest"),s,n);if(0===d.length){var p=new Bc(u);return t.remove(h),void function jK(t,n,e,r){var i,s=_0(t.statementsMatching(e,null,null,r));try{for(s.s();!(i=s.n()).done;){var o=i.value,a=new Y1(n,o.predicate,o.object,r);t.remove(o),t.add(a)}}catch(v){s.e(v)}finally{s.f()}var c,l=_0(t.statementsMatching(null,e,null,r));try{for(l.s();!(c=l.n()).done;){var u=c.value;t.remove(u),t.add(new Y1(u.subject,n,u.object,r))}}catch(v){l.e(v)}finally{l.f()}var d,h=_0(t.statementsMatching(null,null,e,r));try{for(h.s();!(d=h.n()).done;){var p=d.value;t.remove(p),t.add(new Y1(p.subject,p.predicate,n,r))}}catch(v){h.e(v)}finally{h.f()}}(t,p,s,n)}if(1!==d.length)throw new Error("Bad list structure: ".concat(d.length," pres at ").concat(s));var v=d[0].subject;if("BlankNode"!==v.termType)throw new Error("Bad list element node ".concat(v," type: ").concat(v.termType," "));e(v,u,h)}!function UK(t,n){var s,e=q1("nil"),r=_0(t.statementsMatching(e,null,null,n));try{for(r.s();!(s=r.n()).done;){var i=s.value;t.remove(i);var o=new Bc;t.add(new Y1(o,i.predicate,i.object,n))}}catch(h){r.e(h)}finally{r.f()}var l,a=_0(t.statementsMatching(null,null,e,n));try{for(a.s();!(l=a.n()).done;){var c=l.value;if(!c.predicate.sameTerm(q1("rest"))){t.remove(c);var u=new Bc;t.add(new Y1(c.subject,c.predicate,u,n))}}}catch(h){a.e(h)}finally{a.f()}}(t,n),t.statementsMatching(null,q1("rest"),q1("nil"),n).forEach(function(s){if("BlankNode"!==s.subject.termType)throw new Error("Bad list element node ".concat(s.subject," type: ").concat(s.subject.termType," "));e(s.subject,[],[])})}var k9="http://www.w3.org/2000/10/swap/log#",zi=function(n){return n},Fi=function(n){return n},H0=function(n){if(n.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},Qo=function(n){return n.length},O9=function(n,e,r){if(typeof n.slice>"u")throw"@@ mising.js: No .slice function for "+n+" of type "+(0,B9.A)(n);return typeof r>"u"||null==r?n.slice(e):n.slice(e,r)},Gh=Error("dummy error stop iteration"),z0=function(n){return this.last=0,this.li=n,this.next=function(){if(this.last==this.li.length)throw Gh;return this.li[this.last++]},this},G9=function(n,e){return n.indexOf(e)},Q1=function(n,e){if(!n)throw e?"python Assertion failed: "+e:"(python) Assertion failed."};String.prototype.encode=function(t){if("utf-8"!=t)throw"UTF8_converter: can only do utf-8";return function(n){n=n.replace(/\r\n/g,"\n");for(var e="",r=0;r<n.length;r++){var s=n.charCodeAt(r);s<128?e+=String.fromCharCode(s):s>127&&s<2048?(e+=String.fromCharCode(s>>6|192),e+=String.fromCharCode(63&s|128)):(e+=String.fromCharCode(s>>12|224),e+=String.fromCharCode(s>>6&63|128),e+=String.fromCharCode(63&s|128))}return e}(this)},String.prototype.decode=function(t){if("utf-8"!=t)throw"UTF8_converter: can only do utf-8";return this};var W9=function(n,e){return ma(e,n)},wz="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",Cz="http://www.w3.org/2002/07/owl#sameAs",yz="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",eu=yz+":",Z9=new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g"),Iz=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),j9=new RegExp('[\\\\\\r\\n\\"]',"g"),U9=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");const $9=function aJ(t,n,e,r,s,i,o,a){return new lJ(t,n,e,r,s,i,o,a)};var lJ=function(){return(0,Ks.A)(function t(n,e,r,s,i,o,a,l){(0,Ys.A)(this,t),typeof e>"u"&&(e=null),typeof r>"u"&&(r=""),typeof s>"u"&&(s=null),typeof i>"u"&&(i=""),typeof o>"u"&&(o=null),typeof a>"u"&&(a=""),typeof l>"u"&&(l=null),this._bindings=new H0([]),this._flags=a,""!=r&&(Q1(r.indexOf(":")>=0,"Document URI not absolute: "+r),this._bindings[""]=r+"#"),this._store=n,i&&n.setGenPrefix(i),this._thisDoc=r,this.source=n.sym(r),this.lines=0,this.statementCount=0,this.hasNil=!1,this.startOfLine=0,this.previousLine=0,this._genPrefix=i,this.keywords=new Fi(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new H0([]),this._variables=new H0([]),this._parentVariables=new H0([]),this._reason=l,this._reason2=null,this._baseURI=s||r||null,Q1(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._genPrefix=this._thisDoc?this._thisDoc+"#_g":RDFSink_uniqueURI()),this._formula=null==e?this._thisDoc?n.formula(r+"#_formula"):n.formula():e,this._context=this._formula,this._parentContext=null},[{key:"here",value:function(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)}},{key:"formula",value:function(){return this._formula}},{key:"loadStream",value:function(e){return this.loadBuf(e.read())}},{key:"loadBuf",value:function(e){return this.startDoc(),this.feed(e),this.endDoc()}},{key:"feed",value:function(e){for(var r=e.decode("utf-8"),s=0;s>=0;){var i=this.skipSpace(r,s);if(i<0)return;if((s=this.directiveOrStatement(r,i))<0)throw Vn(this._thisDoc,this.lines,r,i,"expected directive or statement")}}},{key:"directiveOrStatement",value:function(e,r){var i,s=this.skipSpace(e,r);return s<0?s:(i=this.directive(e,s))>=0||(i=this.statement(e,s))>=0?this.checkDot(e,i):i}},{key:"tok",value:function(e,r,s){if("@"==r.slice(s,s+1))s+=1;else if(wa(this.keywords,e)<0)return-1;var o=s+Qo(e);return r.slice(s,o)==e&&yz.indexOf(r.charAt(o))>=0?o:-1}},{key:"directive",value:function(e,r){if((c=this.skipSpace(e,r))<0)return c;var s=new Fi([]);if((c=this.tok("bind",e,r))>0)throw Vn(this._thisDoc,this.lines,e,r,"keyword bind is obsolete: use @prefix");if((c=this.tok("keywords",e,r))>0){if((r=this.commaSeparatedList(e,c,s,!1))<0)throw Vn(this._thisDoc,this.lines,e,r,"'@keywords' needs comma separated list of words");return this.setKeywords(O9(s,null,null)),r}if((c=this.tok("forAll",e,r))>0){if((r=this.commaSeparatedList(e,c,s,!0))<0)throw Vn(this._thisDoc,this.lines,e,r,"Bad variable list after @forAll");var i=new z0(s);try{for(;;){var o=i.next();(wa(this._variables,o)<0||wa(this._parentVariables,o)>=0)&&(this._variables[o]=this._context.newUniversal(o))}}catch(h){if(h!=Gh)throw h}return r}if((c=this.tok("forSome",e,r))>0){if((r=this.commaSeparatedList(e,c,s,this.uri_ref2))<0)throw Vn(this._thisDoc,this.lines,e,r,"Bad variable list after @forSome");i=new z0(s);try{for(;;)o=i.next(),this._context.declareExistential(o)}catch(d){if(d!=Gh)throw d}return r}if((c=this.tok("prefix",e,r))>=0){var c,a=new Fi([]);if((r=this.qname(e,c,a))<0)throw Vn(this._thisDoc,this.lines,e,c,"expected qname after @prefix");if((c=this.uri_ref2(e,r,a))<0)throw Vn(this._thisDoc,this.lines,e,r,"expected <uriref> after @prefix _qname_");var l=a[1].uri;return this._baseURI?l=W9(this._baseURI,l):Q1(l.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS"),Q1(l.indexOf(":")>=0),this._bindings[a[0][0]]=l,this.bind(a[0][0],function XK(t){return encodeURI(t)}(l)),c}if((c=this.tok("base",e,r))>=0){if(a=new Fi([]),(r=this.uri_ref2(e,c,a))<0)throw Vn(this._thisDoc,this.lines,e,c,"expected <uri> after @base ");if(l=a[0].uri,!this._baseURI)throw Vn(this._thisDoc,this.lines,e,c,"With no previous base URI, cannot use relative URI in @base  <"+l+">");return l=W9(this._baseURI,l),Q1(l.indexOf(":")>=0),this._baseURI=l,r}return-1}},{key:"bind",value:function(e,r){""==e||this._store.setPrefixForURI(e,r)}},{key:"setKeywords",value:function(e){null==e?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)}},{key:"startDoc",value:function(){}},{key:"endDoc",value:function(){return this.hasNil&&this._store.rdfFactory.supports.COLLECTIONS&&$K(this._store,this.source),this._formula}},{key:"makeStatement",value:function(e){e[0].add(e[2],e[1],e[3],this.source),(e[2].uri&&e[2].uri===wz||e[3].uri&&e[3].uri===wz)&&(this.hasNil=!0),this.statementCount+=1}},{key:"statement",value:function(e,i){var s=new Fi([]);if((i=this.object(e,i,s))<0)return i;var o=this.property_list(e,i,s[0]);if(o<0)throw Vn(this._thisDoc,this.lines,e,i,"expected propertylist");return o}},{key:"subject",value:function(e,r,s){return this.item(e,r,s)}},{key:"verb",value:function(e,r,s){if((o=this.skipSpace(e,r))<0)return o;var i=new Fi([]);if((o=this.tok("has",e,r))>=0){if((r=this.prop(e,o,i))<0)throw Vn(this._thisDoc,this.lines,e,o,"expected property after 'has'");return s.push(new zi(["->",i[0]])),r}if((o=this.tok("is",e,r))>=0){var o;if((r=this.prop(e,o,i))<0)throw Vn(this._thisDoc,this.lines,e,o,"expected <property> after 'is'");if((o=this.skipSpace(e,r))<0)throw Vn(this._thisDoc,this.lines,e,r,"End of file found, expected property after 'is'");if((o=this.tok("of",e,r=o))<0)throw Vn(this._thisDoc,this.lines,e,r,"expected 'of' after 'is' <prop>");return s.push(new zi(["<-",i[0]])),o}if((o=this.tok("a",e,r))>=0)return s.push(new zi(["->",this._store.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")])),o;if("<="==e.slice(r,r+2))return s.push(new zi(["<-",this._store.sym(k9+"implies")])),r+2;if("="==e.slice(r,r+1))return">"==e.slice(r+1,r+2)?(s.push(new zi(["->",this._store.sym(k9+"implies")])),r+2):(s.push(new zi(["->",this._store.sym(Cz)])),r+1);if(":="==e.slice(r,r+2))return s.push(new zi(["->",k9+"becomes"])),r+2;if((o=this.prop(e,r,i))>=0)return s.push(new zi(["->",i[0]])),o;if(">-"==e.slice(r,r+2)||"<-"==e.slice(r,r+2))throw Vn(this._thisDoc,this.lines,e,o,">- ... -> syntax is obsolete.");return-1}},{key:"prop",value:function(e,r,s){return this.item(e,r,s)}},{key:"item",value:function(e,r,s){return this.path(e,r,s)}},{key:"blankNode",value:function(e){return this._context.bnode(e,this._reason2)}},{key:"path",value:function(e,r,s){if((i=this.nodeOrLiteral(e,r,s))<0)return i;for(;"!^.".indexOf(e.slice(i,i+1))>=0;){var o=e.slice(i,i+1);if("."==o){var a=e.slice(i+1,i+2);if(!a||eu.indexOf(a)>=0&&":?<[{(".indexOf(a)<0)break}var i,l=s.pop(),c=this.blankNode(this.here(i));if((i=this.node(e,i+1,s))<0)throw Vn(this._thisDoc,this.lines,e,i,"EOF found in middle of path syntax");var u=s.pop();this.makeStatement(new zi("^"==o?[this._context,u,c,l]:[this._context,u,l,c])),s.push(c)}return i}},{key:"anonymousNode",value:function(e){if(r=this._anonymousNodes[e])return r;var r=this._store.bnode(e);return this._anonymousNodes[e]=r,r}},{key:"node",value:function(e,a,s,i){typeof i>"u"&&(i=null);var o=i;if((ee=this.skipSpace(e,a))<0)return ee;var l=e.slice(a=ee,a+1);if("["==l){var c=this.here(a);if((ee=this.skipSpace(e,a+1))<0)throw Vn(this._thisDoc,this.lines,e,a,"EOF after '['");if("="==e.slice(ee,ee+1)){a=ee+1;var u=new Fi([]);if(!((ee=this.objectList(e,a,u))>=0))throw Vn(this._thisDoc,this.lines,e,a,"objectList expected after [= ");if(o=u[0],Qo(u)>1){var h=new z0(u);try{for(;;){var d=h.next();this.makeStatement(new zi([this._context,this._store.sym(Cz),o,d]))}}catch(Ct){if(Ct!=Gh)throw Ct}}if((ee=this.skipSpace(e,ee))<0)throw Vn(this._thisDoc,this.lines,e,a,"EOF when objectList expected after [ = ");if(";"==e.slice(ee,ee+1))var ee=ee+1}if(null==o&&(o=this.blankNode(c)),(a=this.property_list(e,ee,o))<0)throw Vn(this._thisDoc,this.lines,e,ee,"property_list expected");if((ee=this.skipSpace(e,a))<0)throw Vn(this._thisDoc,this.lines,e,a,"EOF when ']' expected after [ <propertyList>");if("]"!=e.slice(ee,ee+1))throw Vn(this._thisDoc,this.lines,e,ee,"']' expected");return s.push(o),ee+1}if("{"==l){if("$"==e.slice(a+1,a+2)){ee=(a+=1)+1;for(var v=new Fi([]),b=!0;;){if((a=this.skipSpace(e,ee))<0)throw Vn(this._thisDoc,this.lines,e,a,"needed '$}', found end.");if("$}"==e.slice(a,a+2)){ee=a+2;break}if(b)b=!1;else{if(","!=e.slice(a,a+1))throw Vn(this._thisDoc,this.lines,e,a,"expected: ','");a+=1}var _=new Fi([]);if((ee=this.item(e,a,_))<0)throw Vn(this._thisDoc,this.lines,e,a,"expected item in set or '$}'");v.push(_[0])}return s.push(this._store.newSet(v,this._context)),ee}ee=a+1;var z=this._parentContext;this._parentContext=this._context;var N=this._anonymousNodes,me=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new H0([]),this._variables=this._variables.slice();var fe=this._reason2;for(this._reason2=null,null==o&&(o=this._store.formula()),this._context=o;;){if((a=this.skipSpace(e,ee))<0)throw Vn(this._thisDoc,this.lines,e,a,"needed '}', found end.");if("}"==e.slice(a,a+1)){ee=a+1;break}if((ee=this.directiveOrStatement(e,a))<0)throw Vn(this._thisDoc,this.lines,e,a,"expected statement or '}'")}return this._anonymousNodes=N,this._variables=this._parentVariables,this._parentVariables=me,this._context=this._parentContext,this._reason2=fe,this._parentContext=z,s.push(o.close()),ee}if("("==l){var we=this._store.list;for("$"==e.slice(a+1,a+2)&&(we=this._store.newSet,a+=1),ee=a+1,v=new Fi([]);;){if((a=this.skipSpace(e,ee))<0)throw Vn(this._thisDoc,this.lines,e,a,"needed ')', found end.");if(")"==e.slice(a,a+1)){ee=a+1;break}if(_=new Fi([]),(ee=this.item(e,a,_))<0)throw Vn(this._thisDoc,this.lines,e,a,"expected item in list or ')'");v.push(_[0])}return s.push(we(v,this._context)),ee}if((ee=this.tok("this",e,a))>=0)throw Vn(this._thisDoc,this.lines,e,a,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");return(ee=this.tok("true",e,a))>=0?(s.push(!0),ee):(ee=this.tok("false",e,a))>=0?(s.push(!1),ee):null==o&&(ee=this.uri_ref2(e,a,s))>=0?ee:-1}},{key:"property_list",value:function(e,r,s){for(;;){if((p=this.skipSpace(e,r))<0)throw Vn(this._thisDoc,this.lines,e,r,"EOF found when expected verb in property list");if(":-"!=e.slice(p,p+2)){r=p;var o=new Fi([]);if((p=this.verb(e,r,o))<=0)return r;var a=new Fi([]);if((r=this.objectList(e,p,a))<0)throw Vn(this._thisDoc,this.lines,e,p,"objectList expected");var l=new z0(a);try{for(;;){var c=l.next(),u=o[0],d=u[1];this.makeStatement(new zi("->"==u[0]?[this._context,d,s,c]:[this._context,d,c,s]))}}catch(b){if(b!=Gh)throw b}if((p=this.skipSpace(e,r))<0)throw Vn(this._thisDoc,this.lines,e,p,"EOF found in list of objects");if(";"!=e.slice(r,r+1))return r;r+=1}else{r=p+2;var p,i=new Fi([]);if((p=this.node(e,r,i,s))<0)throw Vn(this._thisDoc,this.lines,e,r,"bad {} or () or [] node after :- ");r=p}}}},{key:"commaSeparatedList",value:function(e,r,s,i){if((o=this.skipSpace(e,r))<0)throw Vn(this._thisDoc,this.lines,e,o,"EOF found expecting comma sep list");if("."==e.charAt(o))return r;if(i)var o=this.uri_ref2(e,o,s);else o=this.bareWord(e,o,s);if(o<0)return-1;for(;;){if((r=this.skipSpace(e,o))<0)return r;var a=e.slice(r,r+1);if(","!=a)return"."!=a?-1:r;if((o=i?this.uri_ref2(e,r+1,s):this.bareWord(e,r+1,s))<0)throw Vn(this._thisDoc,this.lines,e,o,"bad list content")}}},{key:"objectList",value:function(e,i,s){if((i=this.object(e,i,s))<0)return-1;for(;;){var o=this.skipSpace(e,i);if(o<0)throw Vn(this._thisDoc,this.lines,e,o,"EOF found after object");if(","!=e.slice(o,o+1))return o;if((i=this.object(e,o+1,s))<0)return i}}},{key:"checkDot",value:function(e,r){var s=this.skipSpace(e,r);if(s<0)return s;if("."==e.slice(s,s+1))return s+1;if("}"==e.slice(s,s+1)||"]"==e.slice(s,s+1))return s;throw Vn(this._thisDoc,this.lines,e,s,"expected '.' or '}' or ']' at end of statement")}},{key:"uri_ref2",value:function(e,d,s){var i=new Fi([]);if((o=this.qname(e,d,i))>=0){var a=i[0],l=a[0],c=a[1];if(null==l){Q1(0,"not used?");var u=this._baseURI+"#"}else if(!(u=this._bindings[l])){if("_"==l)return s.push(this.anonymousNode(c)),o;throw Vn(this._thisDoc,this.lines,e,d,"Prefix "+l+" not bound.")}var h=this._store.sym(u+c);return wa(this._variables,h)>=0?s.push(this._variables[h]):s.push(h),o}if((d=this.skipSpace(e,d))<0)return-1;if("?"==e.charAt(d)){var p=new Fi([]);return(o=this.variable(e,d,p))>0?(s.push(p[0]),o):-1}if("<"==e.charAt(d)){for(var v=d+=1;d<Qo(e);){if(">"==e.charAt(d)){var b=e.slice(v,d);return this._baseURI?b=W9(this._baseURI,b):Q1(b.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs"),"#"==e.slice(d-1,d)&&"#"!=O9(b,-1,null)&&(b+="#"),h=this._store.sym(b),wa(this._variables,h)>=0?s.push(this._variables[h]):s.push(h),d+1}d+=1}throw Vn(this._thisDoc,this.lines,e,o,"unterminated URI reference")}if(this.keywordsSet){var o;if(p=new Fi([]),(o=this.bareWord(e,d,p))<0)return-1;if(wa(this.keywords,p[0])>=0)throw Vn(this._thisDoc,this.lines,e,d,'Keyword "'+p[0]+'" not allowed here.');return s.push(this._store.sym(this._bindings[""]+p[0])),o}return-1}},{key:"skipSpace",value:function(e,r){for(var i=r||0;i<e.length;i++){var o=e.charAt(i);if(" \n\r\t\f\v\xa0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000".indexOf(o)<0){if("#"!==e.charAt(i))return i;for(;;i++){if(i===e.length)return-1;if("\n"===e.charAt(i)){this.lines=this.lines+1;break}}}else"\n"===e.charAt(i)&&(this.lines=this.lines+1)}return-1}},{key:"variable",value:function(e,o,s){if((i=this.skipSpace(e,o))<0||"?"!=e.slice(i,i+1))return-1;var i;if(o=i+=1,"0123456789-".indexOf(e.charAt(i))>=0)throw Vn(this._thisDoc,this.lines,e,i,"Varible name can't start with '"+e.charAt(i)+"s'");for(;o<Qo(e)&&eu.indexOf(e.charAt(o))<0;)o+=1;if(null==this._parentContext)throw Vn(this._thisDoc,this.lines,e,i,"Can't use ?xxx syntax for variable in outermost level: "+e.slice(i-1,o));return s.push(this._store.variable(e.slice(i,o))),o}},{key:"bareWord",value:function(e,a,s){var i=this.skipSpace(e,a);if(i<0)return-1;var o=e.charAt(i);if("0123456789-".indexOf(o)>=0||eu.indexOf(o)>=0)return-1;for(a=i;a<Qo(e)&&eu.indexOf(e.charAt(a))<0;)a+=1;return s.push(e.slice(i,a)),a}},{key:"qname",value:function(e,i,s){if((i=this.skipSpace(e,i))<0)return-1;var o=e.charAt(i);if("0123456789-+".indexOf(o)>=0)return-1;if(eu.indexOf(o)<0){var a=o;for(i+=1;i<Qo(e)&&(o=e.charAt(i),eu.indexOf(o)<0);)a+=o,i+=1}else a="";if(i<Qo(e)&&":"==e.charAt(i)){var l=a;for(i+=1,a="";i<Qo(e)&&(o=e.charAt(i),eu.indexOf(o)<0);)a+=o,i+=1;return s.push(new zi([l,a])),i}return a&&this.keywordsSet&&wa(this.keywords,a)<0?(s.push(new zi(["",a])),i):-1}},{key:"object",value:function(e,r,s){if((i=this.subject(e,r,s))>=0)return i;if((i=this.skipSpace(e,r))<0)return-1;var o=null,a=e.charAt(r=i);if('"'==a||"'"==a){o=e.slice(r,r+3==a+a)?a+a+a:a,r+=Qo(o);var l=this.strconst(e,r,o),i=l[0];return s.push(this._store.literal(l[1])),i}return-1}},{key:"nodeOrLiteral",value:function(e,r,s){if((i=this.node(e,r,s))>=0)return i;if((i=this.skipSpace(e,r))<0)return-1;var o=e.charAt(r=i);if("-+0987654321".indexOf(o)>=0){if(Iz.lastIndex=0,null!=(a=Iz.exec(e.slice(r))))i=r+(l=a[0]).length,l.indexOf("T")>=0?s.push(this._store.literal(l,this._store.sym("http://www.w3.org/2001/XMLSchema#dateTime"))):s.push(this._store.literal(l,this._store.sym("http://www.w3.org/2001/XMLSchema#date")));else{var l;if(Z9.lastIndex=0,null==(a=Z9.exec(e.slice(r))))throw Vn(this._thisDoc,this.lines,e,r,"Bad number or date syntax");(l=e.slice(r,i=r+Z9.lastIndex)).indexOf("e")>=0?s.push(this._store.literal(parseFloat(l),this._store.sym("http://www.w3.org/2001/XMLSchema#double"))):e.slice(r,i).indexOf(".")>=0?s.push(this._store.literal(parseFloat(l),this._store.sym("http://www.w3.org/2001/XMLSchema#decimal"))):s.push(this._store.literal(parseInt(l),this._store.sym("http://www.w3.org/2001/XMLSchema#integer")))}return i}if('"'==e.charAt(r)){if('"""'==e.slice(r,r+3))var c='"""';else c='"';r+=Qo(c);var u=null,h=this.strconst(e,r,c),d=h[1],p=null;if("@"==e.slice(i=h[0],i+1)){var a;if(U9.lastIndex=0,null==(a=U9.exec(e.slice(i+1))))throw Vn(this._thisDoc,startline,e,r,"Bad language code syntax on string literal, after @");p=e.slice(i+1,r=U9.lastIndex+i+1);var i=r}if("^^"==e.slice(i,i+2)){var v=new Fi([]);i=this.uri_ref2(e,i+2,v),u=v[0]}return s.push(this._store.literal(d,p||u)),i}return-1}},{key:"strconst",value:function(e,r,s){for(var i=r,o="",a=this.lines;i<Qo(e);){if(r=i+Qo(s),e.slice(i,r)==s)return new zi([r,o]);if('"'!=e.charAt(i)){if(j9.lastIndex=0,!j9.exec(e.slice(i)))throw Vn(this._thisDoc,a,e,i,"Closing quote missing in string at ^ in "+e.slice(i-20,i)+"^"+e.slice(i,i+20));if(o+=e.slice(i,r=i+j9.lastIndex-1),'"'!=(c=e.charAt(r)))if("\r"!=c){if("\n"==c){if('"'==s)throw Vn(this._thisDoc,a,e,r,"newline found in string literal");this.lines=this.lines+1,o+=c,i=r+1,this.previousLine=this.startOfLine,this.startOfLine=i}else if("\\"==c){if(!(c=e.slice(i=r+1,i+1)))throw Vn(this._thisDoc,a,e,r,"unterminated string literal (2)");var u=G9('abfrtvn\\"',c);if(u>=0)o+='a\b\f\r\t\v\n\\"'.charAt(u),i+=1;else if("u"==c)i=(d=this.uEscape(e,i+1,a))[0],o+=c=d[1];else{if("U"!=c)throw Vn(this._thisDoc,this.lines,e,r,"bad escape");var d,c;i=(d=this.UEscape(e,i+1,a))[0],o+=c=d[1]}}}else i=r+1;else i=r}else o=o+'"',i=i+1}throw Vn(this._thisDoc,this.lines,e,r,"unterminated string literal")}},{key:"uEscape",value:function(e,r,s){for(var i=r,o=0,a=0;o<4;){var c=e.slice(i,i+1).toLowerCase();if(i+=1,""==c)throw Vn(this._thisDoc,s,e,r,"unterminated string literal(3)");var u=G9("0123456789abcdef",c);if(u<0)throw Vn(this._thisDoc,s,e,r,"bad string literal hex escape");a=16*a+u,o+=1}var h=String.fromCharCode(a);return new zi([i,h])}},{key:"UEscape",value:function(e,r,s){for(var i=r,o=0,a="\\U";o<8;){var c=e.slice(i,i+1).toLowerCase();if(i+=1,""==c)throw Vn(this._thisDoc,s,e,r,"unterminated string literal(3)");if(G9("0123456789abcdef",c)<0)throw Vn(this._thisDoc,s,e,r,"bad string literal hex escape");a+=c,o+=1}var n,h=(n="0x"+O9(a,2,10)-0,String.fromCharCode(n));return new zi([i,h])}}])}();function Vn(t,n,e,r,s){var i=n+1,o="Line "+i+" of <"+t+">: Bad syntax: "+s+'\nat: "'+e.slice(r,r+30)+'"',a=new SyntaxError(o,t,i);return a.lineNo=i,a.characterInFile=r,a.syntaxProblem=s,a}function bz(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,r)}return e}function xz(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?bz(Object(e),!0).forEach(function(r){(0,zt.A)(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):bz(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}const X9=xz(xz({},Wa),{},{supports:(0,zt.A)((0,zt.A)((0,zt.A)((0,zt.A)((0,zt.A)((0,zt.A)((0,zt.A)({},Ro.collections,!0),Ro.defaultGraphType,!1),Ro.equalsMethod,!0),Ro.identity,!1),Ro.id,!0),Ro.reversibleId,!1),Ro.variableType,!0),collection:function(n){return new Bc(n)},id:function(n){var e=this;return(0,Rs.P3)(n)?"( ".concat(n.elements.map(function(r){return e.id(r)}).join(", ")," )"):(0,Rs.DZ)(n)?J1.toString(n):Wa.id(n)},termToNQ:function(n){return n.termType===In.r0?Bc.toNT(n):Wa.termToNQ(n)}});function Y9(t,n){return"string"==typeof n?t.rdfFactory.literal(n):Object.prototype.hasOwnProperty.call(n,"@list")?!0===t.rdfFactory.supports.COLLECTIONS?function hJ(t,n){if(!Array.isArray(n))throw new TypeError("Object must be an array");return t.rdfFactory.collection(n.map(function(e){return Y9(t,e)}))}(t,n["@list"]):function uJ(t,n){var e=n["@id"]?K9(t,n):t.rdfFactory.blankNode(),r=n["@list"].map(function(i){return Y9(t,i)}),s=az(t.rdfFactory,e,r);return t.addAll(s),e}(t,n):Object.prototype.hasOwnProperty.call(n,"@id")?K9(t,n):Object.prototype.hasOwnProperty.call(n,"@language")?t.rdfFactory.literal(n["@value"],n["@language"]):Object.prototype.hasOwnProperty.call(n,"@type")?t.rdfFactory.literal(n["@value"],t.rdfFactory.namedNode(n["@type"])):Object.prototype.hasOwnProperty.call(n,"@value")?t.rdfFactory.literal(n["@value"]):t.rdfFactory.literal(n)}function Sz(t,n,e,r){var s=e&&Object.prototype.hasOwnProperty.call(e,"termType")?e.value:e;return K.e(45).then(K.t.bind(K,1045,23)).then(function(i){return i.flatten(JSON.parse(t),null,{base:s})}).then(function(i){return i.reduce(function(o,a){return n=Mz(n,e,a)},n)}).then(r).catch(r)}function K9(t,n){return n["@id"].startsWith("_:")?t.rdfFactory.blankNode(n["@id"].substring(2)):t.rdfFactory.namedNode(n["@id"])}function Mz(t,n,e){for(var r=e["@id"]?K9(t,e):t.rdfFactory.blankNode(),s=0,i=Object.keys(e);s<i.length;s++){var o=i[s];if("@id"!==o){if("@graph"==o)for(var a=r,l=e[o],c=0;c<l.length;c++)t=Mz(t,a,l[c]);var u=e[o];if(Array.isArray(u))for(var h=0;h<u.length;h++)t.addStatement(_z(t,r,o,u[h],n));else t.addStatement(_z(t,r,o,u,n))}}return t}function _z(t,n,e,r,s){var i,o;return"@type"===e?(i=t.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),o=t.rdfFactory.namedNode(r)):(i=t.rdfFactory.namedNode(e),o=Y9(t,r)),t.rdfFactory.quad(n,i,o,t.rdfFactory.namedNode(s))}var dJ=K(6148),pJ=K(4416),fJ=K.n(pJ);const V0="http://www.w3.org/1999/02/22-rdf-syntax-ns#",E0="http://www.w3.org/2001/XMLSchema#",J9="http://www.w3.org/2000/10/swap/",yl={xsd:{decimal:`${E0}decimal`,boolean:`${E0}boolean`,double:`${E0}double`,integer:`${E0}integer`,string:`${E0}string`},rdf:{type:`${V0}type`,nil:`${V0}nil`,first:`${V0}first`,rest:`${V0}rest`,langString:`${V0}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${J9}reify#forSome`,forAll:`${J9}reify#forAll`},log:{implies:`${J9}log#implies`}},{xsd:P4}=yl,gJ=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,Hz={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},vJ=/[\x00-\x20<>\\"\{\}\|\^\`]/,mJ={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},wJ=/$0^/;class CJ{constructor(n){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,this._lineMode=!!(n=n||{}).lineMode){this._n3Mode=!1;for(const e in this)!(e in mJ)&&this[e]instanceof RegExp&&(this[e]=wJ)}else this._n3Mode=!1!==n.n3;this.comments=!!n.comments,this._literalClosingPos=0}_tokenizeToEnd(n,e){let r=this._input,s=r.length;for(;;){let a,l;for(;a=this._newline.exec(r);)this.comments&&(l=this._comment.exec(a[0]))&&i("comment",l[1],"",this._line,a[0].length),r=r.substr(a[0].length,r.length),s=r.length,this._line++;if(!a&&(a=this._whitespace.exec(r))&&(r=r.substr(a[0].length,r.length)),this._endOfFile.test(r))return e&&(this.comments&&(l=this._comment.exec(r))&&i("comment",l[1],"",this._line,r.length),r=null,i("eof","","",this._line,0)),this._input=r;const c=this._line,u=r[0];let h="",d="",p="",v=null,b=0,_=!1;switch(u){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(b=1,h="^");break}if(this._previousMarker="^^",r=r.substr(2),"<"!==r[0]){_=!0;break}case"<":if(v=this._unescapedIri.exec(r))h="IRI",d=v[1];else if(v=this._iri.exec(r)){if(d=this._unescape(v[1]),null===d||vJ.test(d))return o(this);h="IRI"}else r.length>1&&"<"===r[1]?(h="<<",b=2):this._n3Mode&&r.length>1&&"="===r[1]&&(h="inverse",b=2,d=">");break;case">":r.length>1&&">"===r[1]&&(h=">>",b=2);break;case"_":((v=this._blank.exec(r))||e&&(v=this._blank.exec(`${r} `)))&&(h="blank",p="_",d=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))d=v[1];else if(({value:d,matchLength:b}=this._parseLiteral(r)),null===d)return o(this);(null!==v||0!==b)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))d=v[1];else if(({value:d,matchLength:b}=this._parseLiteral(r)),null===d)return o(this);(null!==v||0!==b)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(h="var",d=v[0]);break;case"@":"literal"===this._previousMarker&&(v=this._langcode.exec(r))?(h="langcode",d=v[1]):(v=this._keyword.exec(r))&&(h=v[0]);break;case".":if(1===r.length?e:r[1]<"0"||r[1]>"9"){h=".",b=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||e&&(v=this._number.exec(`${r} `)))&&(h="literal",d=v[0],p="string"==typeof v[1]?P4.double:"string"==typeof v[2]?P4.decimal:P4.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?h=v[0].toUpperCase():_=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(h="literal",d=v[0],p=P4.boolean):_=!0;break;case"a":(v=this._shortPredicates.exec(r))?(h="abbreviation",d="a"):_=!0;break;case"=":this._n3Mode&&r.length>1&&(h="abbreviation",">"!==r[1]?(b=1,d="="):(b=2,d=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(b=1,h=u);break;case"{":!this._lineMode&&r.length>=2&&("|"===r[1]?(h="{|",b=2):(h=u,b=1));break;case"|":r.length>=2&&"}"===r[1]&&(h="|}",b=2);break;default:_=!0}if(_&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(v=this._prefix.exec(r))?((v=this._prefixed.exec(r))||e&&(v=this._prefixed.exec(`${r} `)))&&(h="prefixed",p=v[1]||"",d=this._unescape(v[2])):(h="prefix",d=v[1]||"")),"^^"===this._previousMarker)switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return e||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const z=b||v[0].length,N=i(h,d,p,c,z);this.previousToken=N,this._previousMarker=h,r=r.substr(z,r.length)}function i(a,l,c,u,h){const d=r?s-r.length:s,v={type:a,value:l,prefix:c,line:u,start:d,end:d+h};return n(null,v),v}function o(a){n(a._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(n){let e=!1;const r=n.replace(gJ,(s,i,o,a)=>{if("string"==typeof i)return String.fromCharCode(Number.parseInt(i,16));if("string"==typeof o){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(1023&l))}return a in Hz?Hz[a]:(e=!0,"")});return e?null:r}_parseLiteral(n){if(n.length>=3){const e=n.match(/^(?:"""|"|'''|'|)/)[0],r=e.length;let s=Math.max(this._literalClosingPos,r);for(;(s=n.indexOf(e,s))>0;){let i=0;for(;"\\"===n[s-i-1];)i++;if(i%2==0){const o=n.substring(r,s),a=o.split(/\r\n|\r|\n/).length-1,l=s+r;if(1===r&&0!==a||3===r&&this._lineMode)break;return this._line+=a,{value:this._unescape(o),matchLength:l}}s++}this._literalClosingPos=n.length-r+1}return{value:"",matchLength:0}}_syntaxError(n){this._input=null;const e=new Error(`Unexpected "${n}" on line ${this._line}.`);return e.context={token:void 0,line:this._line,previousToken:this.previousToken},e}_readStartingBom(n){return n.startsWith("\ufeff")?n.substr(1):n}tokenize(n,e){if(this._line=1,"string"==typeof n){if(this._input=this._readStartingBom(n),"function"!=typeof e){const r=[];let s;if(this._tokenizeToEnd((i,o)=>i?s=i:r.push(o),!0),s)throw s;return r}fJ()(()=>this._tokenizeToEnd(e,!0))}else this._pendingBuffer=null,"function"==typeof n.setEncoding&&n.setEncoding("utf8"),n.on("data",r=>{null!==this._input&&0!==r.length&&(this._pendingBuffer&&(r=dJ.hp.concat([this._pendingBuffer,r]),this._pendingBuffer=null),128&r[r.length-1]?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom("string"==typeof r?r:r.toString()):this._input+=r,this._tokenizeToEnd(e,!1)))}),n.on("end",()=>{"string"==typeof this._input&&this._tokenizeToEnd(e,!0)}),n.on("error",e)}}const{rdf:yJ,xsd:tu}=yl;let Wh,IJ=0;const AJ={namedNode:Tz,blankNode:Lz,variable:Dz,literal:Rz,defaultGraph:function MJ(){return Wh},quad:Q9,triple:Q9,fromTerm:T0,fromQuad:Bz};class Il{constructor(n){this.id=n}get value(){return this.id}equals(n){return n instanceof Il?this.id===n.id:!!n&&this.termType===n.termType&&this.value===n.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class Vz extends Il{get termType(){return"NamedNode"}}class Zh extends Il{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const n=this.id;let e=n.lastIndexOf('"')+1;return e<n.length&&"@"===n[e++]?n.substr(e).toLowerCase():""}get datatype(){return new Vz(this.datatypeString)}get datatypeString(){const n=this.id,e=n.lastIndexOf('"')+1,r=e<n.length?n[e]:"";return"^"===r?n.substr(e+2):"@"!==r?tu.string:yJ.langString}equals(n){return n instanceof Zh?this.id===n.id:!!n&&!!n.datatype&&this.termType===n.termType&&this.value===n.value&&this.language===n.language&&this.datatype.value===n.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class bJ extends Il{constructor(n){super(`_:${n}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class xJ extends Il{constructor(n){super(`?${n}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}Wh=new class SJ extends Il{constructor(){return super(""),Wh||this}get termType(){return"DefaultGraph"}equals(n){return this===n||!!n&&this.termType===n.termType}};class Ez extends Il{constructor(n,e,r,s){super(""),this._subject=n,this._predicate=e,this._object=r,this._graph=s||Wh}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(n){return!!n&&this._subject.equals(n.subject)&&this._predicate.equals(n.predicate)&&this._object.equals(n.object)&&this._graph.equals(n.graph)}}function Tz(t){return new Vz(t)}function Lz(t){return new bJ(t||"n3-"+IJ++)}function Rz(t,n){if("string"==typeof n)return new Zh(`"${t}"@${n.toLowerCase()}`);let e=n?n.value:"";return""===e&&("boolean"==typeof t?e=tu.boolean:"number"==typeof t&&(Number.isFinite(t)?e=Number.isInteger(t)?tu.integer:tu.double:(e=tu.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),new Zh(""===e||e===tu.string?`"${t}"`:`"${t}"^^${e}`)}function Dz(t){return new xJ(t)}function Q9(t,n,e,r){return new Ez(t,n,e,r)}function T0(t){if(t instanceof Il)return t;switch(t.termType){case"NamedNode":return Tz(t.value);case"BlankNode":return Lz(t.value);case"Variable":return Dz(t.value);case"DefaultGraph":return Wh;case"Literal":return Rz(t.value,t.language||t.datatype);case"Quad":return Bz(t);default:throw new Error(`Unexpected termType: ${t.termType}`)}}function Bz(t){if(t instanceof Ez)return t;if("Quad"!==t.termType)throw new Error(`Unexpected termType: ${t.termType}`);return Q9(T0(t.subject),T0(t.predicate),T0(t.object),T0(t.graph))}let Nz=0;class Fz{constructor(n){this._contextStack=[],this._graph=null,this._setBase((n=n||{}).baseIRI),n.factory&&Pz(this,n.factory);const e="string"==typeof n.format?n.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(e),s=/trig/.test(e),i=/triple/.test(e),o=/quad/.test(e),a=this._n3Mode=/n3/.test(e),l=i||o;(this._supportsNamedGraphs=!(r||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||s||i||a),this._supportsRDFStar=""===e||/star|\*$/.test(e),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix="string"!=typeof n.blankNodePrefix?"":n.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=n.lexer||new CJ({lineMode:l,n3:a}),this._explicitQuantifiers=!!n.explicitQuantifiers}static _resetBlankNodePrefix(){Nz=0}_setBase(n){if(n){const e=n.indexOf("#");e>=0&&(n=n.substr(0,e)),this._base=n,this._basePath=n.indexOf("/")<0?n:n.replace(/[^\/?]*(?:\?.*)?$/,""),n=n.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=n[0],this._baseScheme=n[1]}else this._base="",this._basePath=""}_saveContext(n,e,r,s,i){const o=this._n3Mode;this._contextStack.push({type:n,subject:r,predicate:s,object:i,graph:e,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(n,e){const r=this._contextStack.pop();if(!r||r.type!==n)return this._error(`Unexpected ${e.type}`,e);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(n){switch(n.type){case"eof":return null!==this._graph?this._error("Unclosed graph",n):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(n)}}_readEntity(n,e){let r;switch(n.type){case"IRI":case"typeIRI":const s=this._resolveIRI(n.value);if(null===s)return this._error("Invalid IRI",n);r=this._factory.namedNode(s);break;case"type":case"prefixed":const i=this._prefixes[n.prefix];if(void 0===i)return this._error(`Undefined prefix "${n.prefix}:"`,n);r=this._factory.namedNode(i+n.value);break;case"blank":r=this._factory.blankNode(this._prefixes[n.prefix]+n.value);break;case"var":r=this._factory.variable(n.value.substr(1));break;default:return this._error(`Expected entity but got ${n.type}`,n)}return!e&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(n){switch(this._predicate=null,n.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",n);case"}":return this._readPunctuation(n);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',n);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',n);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",n);if(0===n.prefix.length)return this._literalValue=n.value,this._completeSubjectLiteral;this._subject=this._factory.literal(n.value,this._factory.namedNode(n.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",n);default:if(void 0===(this._subject=this._readEntity(n)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(n){const e=n.type;switch(e){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[n.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${e}`,n):(this._subject=null,"]"===e?this._readBlankNodeTail(n):this._readPunctuation(n));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",n);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",n);default:if(void 0===(this._predicate=this._readEntity(n)))return}return this._readObject}_readObject(n){switch(n.type){case"literal":if(0===n.prefix.length)return this._literalValue=n.value,this._readDataTypeOrLang;this._object=this._factory.literal(n.value,this._factory.namedNode(n.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",n);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",n);default:if(void 0===(this._object=this._readEntity(n)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(n){return"{"===n.type?this._readGraph(n):this._readPredicate(n)}_readGraph(n){return"{"!==n.type?this._error(`Expected graph but got ${n.type}`,n):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(n){return"]"===n.type?(this._subject=null,this._readBlankNodeTail(n)):(this._predicate=null,this._readPredicate(n))}_readBlankNodeTail(n){if("]"!==n.type)return this._readBlankNodePunctuation(n);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const e=null===this._predicate;return this._restoreContext("blank",n),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:e?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(n){switch(n.type){case".":case"}":return this._subject=null,this._readPunctuation(n);default:return this._readPredicate(n)}}_readListItem(n){let e=null,r=null,s=this._readListItem;const i=this._subject,o=this._contextStack,a=o[o.length-1];switch(n.type){case"[":this._saveContext("blank",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this._subject=e=this._factory.blankNode()),s=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",n),0!==o.length&&"list"===o[o.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(s=this._readPredicate,this._subject===this.RDF_NIL)return s}else if(s=this._getContextEndReader(),this._object===this.RDF_NIL)return s;r=this.RDF_NIL;break;case"literal":0===n.prefix.length?(this._literalValue=n.value,s=this._readListItemDataTypeOrLang):(e=this._factory.literal(n.value,this._factory.namedNode(n.prefix)),s=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",n);default:if(void 0===(e=this._readEntity(n)))return}if(null===r&&(this._subject=r=this._factory.blankNode()),null===i?null===a.predicate?a.subject=r:a.object=r:this._emit(i,this.RDF_REST,r,this._graph),null!==e){if(this._n3Mode&&("IRI"===n.type||"prefixed"===n.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,e),this._subject=e,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,e,this._graph)}return s}_readDataTypeOrLang(n){return this._completeObjectLiteral(n,!1)}_readListItemDataTypeOrLang(n){return this._completeObjectLiteral(n,!0)}_completeLiteral(n){let e=this._factory.literal(this._literalValue);switch(n.type){case"type":case"typeIRI":const r=this._readEntity(n);if(void 0===r)return;e=this._factory.literal(this._literalValue,r),n=null;break;case"langcode":e=this._factory.literal(this._literalValue,n.value),n=null}return{token:n,literal:e}}_completeSubjectLiteral(n){return this._subject=this._completeLiteral(n).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(n,e){const r=this._completeLiteral(n);if(r)return this._object=r.literal,e&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(n){return"}"!==n.type?this._readPunctuation(n):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",n),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(n){let e,r=this._graph;const s=this._subject,i=this._inversePredicate;switch(n.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",n);if(this._n3Mode)return this._readFormulaTail(n);this._graph=null;case".":this._subject=null,e=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":e=this._readPredicate;break;case",":e=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",n);this._subject=this._factory.quad(s,this._predicate,this._object,this.DEFAULTGRAPH),e=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",n);this._subject=null,e=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(n))){e=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,n)}if(null!==s){const o=this._predicate,a=this._object;i?this._emit(a,o,s,r):this._emit(s,o,a,r)}return e}_readBlankNodePunctuation(n){let e;switch(n.type){case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,n)}return this._emit(this._subject,this._predicate,this._object,this._graph),e}_readQuadPunctuation(n){return"."!==n.type?this._error("Expected dot to follow quad",n):this._readInTopContext}_readPrefix(n){return"prefix"!==n.type?this._error("Expected prefix to follow @prefix",n):(this._prefix=n.value,this._readPrefixIRI)}_readPrefixIRI(n){if("IRI"!==n.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,n);const e=this._readEntity(n);return this._prefixes[this._prefix]=e.value,this._prefixCallback(this._prefix,e),this._readDeclarationPunctuation}_readBaseIRI(n){const e="IRI"===n.type&&this._resolveIRI(n.value);return e?(this._setBase(e),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",n)}_readNamedGraphLabel(n){switch(n.type){case"IRI":case"blank":case"prefixed":return this._readSubject(n),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",n)}}_readNamedGraphBlankLabel(n){return"]"!==n.type?this._error("Invalid graph label",n):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(n){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(n)):"."!==n.type?this._error("Expected declaration to end with a dot",n):this._readInTopContext}_readQuantifierList(n){let e;switch(n.type){case"IRI":case"prefixed":if(void 0!==(e=this._readEntity(n,!0)))break;default:return this._error(`Unexpected ${n.type}`,n)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,e,this.QUANTIFIERS_GRAPH)):this._quantified[e.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(n){return","===n.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(n))}_getPathReader(n){return this._afterPath=n,this._readPath}_readPath(n){switch(n.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const e=this._contextStack,r=e.length&&e[e.length-1];if(r&&"item"===r.type){const s=this._subject;this._restoreContext("item",n),this._emit(this._subject,this.RDF_FIRST,s,this._graph)}return this._afterPath(n)}}_readForwardPath(n){let e,r;const s=this._factory.blankNode();if(void 0!==(r=this._readEntity(n)))return null===this._predicate?(e=this._subject,this._subject=s):(e=this._object,this._object=s),this._emit(e,r,s,this._graph),this._readPath}_readBackwardPath(n){const e=this._factory.blankNode();let r,s;if(void 0!==(r=this._readEntity(n)))return null===this._predicate?(s=this._subject,this._subject=e):(s=this._object,this._object=e),this._emit(e,r,s,this._graph),this._readPath}_readRDFStarTailOrGraph(n){return">>"!==n.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(n))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,n):this._readRDFStarTail(n)}_readRDFStarTail(n){if(">>"!==n.type)return this._error(`Expected >> but got ${n.type}`,n);const e=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",n),null===this._subject?(this._subject=e,this._readPredicate):(this._object=e,this._getContextEndReader())}_getContextEndReader(){const n=this._contextStack;if(!n.length)return this._readPunctuation;switch(n[n.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(n,e,r,s){this._callback(null,this._factory.quad(n,e,r,s||this.DEFAULTGRAPH))}_error(n,e){const r=new Error(`${n} on line ${e.line}.`);r.context={token:e,line:e.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=G4}_resolveIRI(n){return/^[a-z][a-z0-9+.-]*:/i.test(n)?n:this._resolveRelativeIRI(n)}_resolveRelativeIRI(n){if(!n.length)return this._base;switch(n[0]){case"#":return this._base+n;case"?":return this._base.replace(/(?:\?.*)?$/,n);case"/":return("/"===n[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(n);default:return/^[^/:]*:/.test(n)?null:this._removeDotSegments(this._basePath+n)}}_removeDotSegments(n){if(!/(^|\/)\.\.?($|[/#?])/.test(n))return n;const e=n.length;let r="",s=-1,i=-1,o=0,a="/";for(;s<e;){switch(a){case":":if(i<0&&"/"===n[++s]&&"/"===n[++s])for(;(i=s+1)<e&&"/"!==n[i];)s=i;break;case"?":case"#":s=e;break;case"/":if("."===n[s+1])switch(a=n[1+ ++s],a){case"/":r+=n.substring(o,s-1),o=s+1;break;case void 0:case"?":case"#":return r+n.substring(o,s)+n.substr(s+1);case".":if(a=n[1+ ++s],void 0===a||"/"===a||"?"===a||"#"===a){if(r+=n.substring(o,s-2),(o=r.lastIndexOf("/"))>=i&&(r=r.substr(0,o)),"/"!==a)return`${r}/${n.substr(s+1)}`;o=s+1}}}a=n[++s]}return r+n.substring(o)}parse(n,e,r){let s,i,o;if(e&&(e.onQuad||e.onPrefix||e.onComment)?(s=e.onQuad,i=e.onPrefix,o=e.onComment):(s=e,i=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${Nz++}_`,this._prefixCallback=i||G4,this._inversePredicate=!1,this._quantified=Object.create(null),!s){const l=[];let c;if(this._callback=(u,h)=>{u?c=u:h&&l.push(h)},this._lexer.tokenize(n).every(u=>this._readCallback=this._readCallback(u)),c)throw c;return l}let a=(l,c)=>{null!==l?(this._callback(l),this._callback=G4):this._readCallback&&(this._readCallback=this._readCallback(c))};o&&(this._lexer.comments=!0,a=(l,c)=>{null!==l?(this._callback(l),this._callback=G4):this._readCallback&&("comment"===c.type?o(c.value):this._readCallback=this._readCallback(c))}),this._callback=s,this._lexer.tokenize(n,a)}}function G4(){}function Pz(t,n){t._factory=n,t.DEFAULTGRAPH=n.defaultGraph(),t.RDF_FIRST=n.namedNode(yl.rdf.first),t.RDF_REST=n.namedNode(yl.rdf.rest),t.RDF_NIL=n.namedNode(yl.rdf.nil),t.N3_FORALL=n.namedNode(yl.r.forAll),t.N3_FORSOME=n.namedNode(yl.r.forSome),t.ABBREVIATIONS={a:n.namedNode(yl.rdf.type),"=":n.namedNode(yl.owl.sameAs),">":n.namedNode(yl.log.implies)},t.QUANTIFIERS_GRAPH=n.namedNode("urn:n3:quantifiers")}if(Pz(Fz.prototype,AJ),typeof Nc>"u")var Nc={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var Ca=function(){function t(n,e){(0,Ys.A)(this,t),this.options=e||{},this.kb=n,this.target=e.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return(0,Ks.A)(t,[{key:"addTriple",value:function(e,r,s,i){var o,a,l,c;o=typeof r>"u"?Wa.namedNode(this.options.base):this.toRDFNodeObject(r),l=this.toRDFNodeObject(s),a=this.toRDFNodeObject(i),c=Wa.namedNode(this.options.base),this.kb.add(o,l,a,c)}},{key:"ancestorPath",value:function(e){for(var r="";e&&e.nodeType!==Nc.DOCUMENT_NODE;)r="/"+e.localName+r,e=e.parentNode;return r}},{key:"copyMappings",value:function(e){var r={};for(var s in e)r[s]=e[s];return r}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(e){for(var r=0;r<t.dateTimeTypes.length;r++){var s=t.dateTimeTypes[r].pattern.exec(e);if(s&&s[0].length===e.length)return t.dateTimeTypes[r].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return this.blankCounter++,"_:"+this.blankCounter}},{key:"newSubjectOrigin",value:function(e,r){}},{key:"parseCURIE",value:function(e,r,s){var o,i=e.indexOf(":");if(i>=0){var a=e.substring(0,i);if(""===a)return(o=r[""])?o+e.substring(i+1):null;if("_"===a)return"_:"+e.substring(i+1);if(t.NCNAME.test(a)&&(o=r[a]))return o+e.substring(i+1)}return null}},{key:"parseCURIEOrURI",value:function(e,r,s){return this.parseCURIE(e,r,s)||this.resolveAndNormalize(s,e)}},{key:"parsePredicate",value:function(e,r,s,i,o,a){if(""===e)return null;var l=this.parseTermOrCURIEOrAbsURI(e,r,a?null:s,i,o);return l&&0===l.indexOf("_:")?null:l}},{key:"parsePrefixMappings",value:function(e,r){for(var s=this.tokenize(e),i=null,o=0;o<s.length;o++)":"===s[o][s[o].length-1]?i=s[o].substring(0,s[o].length-1):i&&(r[i]=this.options.base?ma(s[o],this.options.base):s[o],i=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(e,r,s){return"["===(e=this.trim(e)).charAt(0)&&"]"===e.charAt(e.length-1)?0===(e=(e=e.substring(1,e.length-1)).trim(e)).length?null:"_:"===e?this.theOne:this.parseCURIE(e,r,s):this.parseCURIEOrURI(e,r,s)}},{key:"parseTermOrCURIEOrAbsURI",value:function(e,r,s,i,o){e=this.trim(e);var a=this.parseCURIE(e,i,o);if(a)return a;if(s){if(r&&!this.absURIRE.exec(e))return r+e;var l=s[e];if(l)return l;if(l=s[e.toLowerCase()])return l}return this.absURIRE.exec(e)?this.resolveAndNormalize(o,e):null}},{key:"parseTermOrCURIEOrURI",value:function(e,r,s,i,o){e=this.trim(e);var a=this.parseCURIE(e,i,o);if(a)return a;var l=s[e];return l||(l=s[e.toLowerCase()])||(r&&!this.absURIRE.exec(e)?r+e:this.resolveAndNormalize(o,e))}},{key:"parseURI",value:function(e){return e}},{key:"process",value:function(e,r){var s;r=r||{},e.nodeType===Nc.DOCUMENT_NODE?(e.baseURI&&!r.baseURI&&(r.baseURI=e.baseURI),s=e.baseURI,(e=e.documentElement).baseURI||(e.baseURI=s),this.setContext(e)):e.parentNode.nodeType===Nc.DOCUMENT_NODE&&this.setContext(e);var i=[],o=function(pu){if(!pu&&r&&r.baseURI)return r.baseURI;var QL=pu.indexOf("#");return QL>=0&&(pu=pu.substring(0,QL)),r&&r.baseURIMap&&(pu=r.baseURIMap(pu)),pu};for(i.push({current:e,context:this.push(null,o(e.baseURI))});i.length>0;){var a=i.shift();if(a.parent){if(a.context.parent&&a.context.parent.listMapping===a.listMapping)continue;for(var l in a.listMapping){var c=a.listMapping[l];if(0!==c.length){for(var u=[],h=0;h<c.length;h++)u.push(this.newBlankNode());for(var d=0;d<u.length;d++)this.addTriple(a.parent,u[d],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",c[d]),this.addTriple(a.parent,u[d],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:t.objectURI,value:d+1<u.length?u[d+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(a.parent,a.subject,l,{type:t.objectURI,value:u[0]})}else this.addTriple(a.parent,a.subject,l,{type:t.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}}else{var p=a.current,v=a.context,b=!1,_=null,z=null,N=null,me=v.prefixes,fe=!1,we=[],ee=v.listMapping,Ie=!v.parent,Be=v.language,qe=v.vocabulary;s=this.parseURI(o(p.baseURI)),p.item=null;var Je=p.getAttributeNode("vocab");if(Je){var gt=this.trim(Je.value);gt.length>0?this.addTriple(p,s.spec,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:t.objectURI,value:qe=gt}):qe=this.vocabulary}for(var Ct=0;Ct<p.attributes.length;Ct++){var jt=p.attributes[Ct];if("x"===jt.nodeName.charAt(0)&&0===jt.nodeName.indexOf("xmlns:")){fe||(me=this.copyMappings(me),fe=!0);var Tt=jt.nodeName.substring(6),xt=t.trim(jt.value);me[Tt]=this.options.base?ma(xt,this.options.base):xt}}var An=p.getAttributeNode("prefix");An&&(fe||(me=this.copyMappings(me),fe=!0),this.parsePrefixMappings(An.value,me));for(var tr=null,Kr=0;!tr&&Kr<this.langAttributes.length;Kr++)tr=p.getAttributeNodeNS(this.langAttributes[Kr].namespaceURI,this.langAttributes[Kr].localName);if(tr){var bo=t.trim(tr.value);Be=bo.length>0?bo:null}var hu,_a,Zr=p.getAttributeNode("rel"),Ii=p.getAttributeNode("rev"),ls=p.getAttributeNode("typeof"),xa=p.getAttributeNode("property"),Do=p.getAttributeNode("datatype"),Xi=this.inHTMLMode?p.getAttributeNode("datetime"):null,ro=p.getAttributeNode("content"),so=p.getAttributeNode("about"),$a=p.getAttributeNode("src"),Bo=p.getAttributeNode("resource"),Sa=p.getAttributeNode("href"),FC=p.getAttributeNode("inlist"),Ma=[];if(Zr){_a=this.tokenize(Zr.value);for(var PC=0;PC<_a.length;PC++)(hu=this.parsePredicate(_a[PC],qe,v.terms,me,s,this.inHTMLMode&&null!==xa))&&Ma.push(hu)}var c2=[];if(Ii){_a=this.tokenize(Ii.value);for(var kC=0;kC<_a.length;kC++)(hu=this.parsePredicate(_a[kC],qe,v.terms,me,s,this.inHTMLMode&&xa))&&c2.push(hu)}if(this.inHTMLMode&&(Zr||Ii)&&xa&&(0===Ma.length&&(Zr=null),0===c2.length&&(Ii=null)),Zr||Ii?(so&&(_=this.parseSafeCURIEOrCURIEOrURI(so.value,me,s)),ls&&(N=_),_||(p.parentNode.nodeType===Nc.DOCUMENT_NODE?_=o(p.baseURI):v.parentObject&&(_=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject)),Bo&&(z=this.parseSafeCURIEOrCURIEOrURI(Bo.value,me,s)),z||(Sa?z=this.resolveAndNormalize(s,encodeURI(Sa.value)):$a?z=this.resolveAndNormalize(s,encodeURI($a.value)):ls&&!so&&!(this.inXHTMLMode&&("head"===p.localName||"body"===p.localName))&&(z=this.newBlankNode())),!ls||so||!this.inXHTMLMode||"head"!==p.localName&&"body"!==p.localName?ls&&!so&&(N=z):N=_):!xa||ro||Do?(so&&(_=this.parseSafeCURIEOrCURIEOrURI(so.value,me,s)),!_&&Bo&&(_=this.parseSafeCURIEOrCURIEOrURI(Bo.value,me,s)),!_&&Sa&&(_=this.resolveAndNormalize(s,encodeURI(Sa.value))),!_&&$a&&(_=this.resolveAndNormalize(s,encodeURI($a.value))),_||(p.parentNode.nodeType===Nc.DOCUMENT_NODE?_=o(p.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!==p.localName&&"body"!==p.localName?ls?_=this.newBlankNode():v.parentObject&&(_=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject,xa||(b=!0)):_=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject),ls&&(N=_)):(so&&(_=this.parseSafeCURIEOrCURIEOrURI(so.value,me,s),ls&&(N=_)),_||p.parentNode.nodeType!==Nc.DOCUMENT_NODE?!_&&v.parentObject&&(_=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject):(_=o(p.baseURI),ls&&(N=_)),ls&&!N&&(Bo&&(N=this.parseSafeCURIEOrCURIEOrURI(Bo.value,me,s)),!N&&Sa&&(N=this.resolveAndNormalize(s,encodeURI(Sa.value))),!N&&$a&&(N=this.resolveAndNormalize(s,encodeURI($a.value))),!N&&(this.inXHTMLMode||this.inHTMLMode)&&("head"===p.localName||"body"===p.localName)&&(N=_),N||(N=this.newBlankNode()),z=N)),_&&(so||Bo||N)){var KL=_;ls&&!so&&!Bo&&z&&(KL=z),this.newSubjectOrigin(p,KL)}if(N){_a=this.tokenize(ls.value);for(var OC=0;OC<_a.length;OC++){var JL=this.parseTermOrCURIEOrAbsURI(_a[OC],qe,v.terms,me,s);JL&&this.addTriple(p,N,t.typeURI,{type:t.objectURI,value:JL})}}if(_&&_!==v.parentObject&&(ee={},Ie=!0),z){if(Zr&&FC)for(var Z5=0;Z5<Ma.length;Z5++){var j5=ee[Ma[Z5]];j5||(ee[Ma[Z5]]=j5=[]),j5.push({type:t.objectURI,value:z})}else if(Zr)for(var GC=0;GC<Ma.length;GC++)this.addTriple(p,_,Ma[GC],{type:t.objectURI,value:z});if(Ii)for(var WC=0;WC<c2.length;WC++)this.addTriple(p,z,c2[WC],{type:t.objectURI,value:_})}else{if(_&&!z&&(Zr||Ii)&&(z=this.newBlankNode()),Zr&&FC)for(var U5=0;U5<Ma.length;U5++){var $5=ee[Ma[U5]];$5||(ee[hu]=$5=[]),we.push({predicate:Ma[U5],list:$5})}else if(Zr)for(var ZC=0;ZC<Ma.length;ZC++)we.push({predicate:Ma[ZC],forward:!0});if(Ii)for(var jC=0;jC<c2.length;jC++)we.push({predicate:c2[jC],forward:!1})}if(xa){var li=null,io=null;Do?(li=""===Do.value?t.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(Do.value,qe,v.terms,me,s),io=Xi&&!ro?Xi.value:li===t.XMLLiteralURI||li===t.HTMLLiteralURI?null:ro?ro.value:p.textContent):ro?(li=t.PlainLiteralURI,io=ro.value):Xi?(li=t.deriveDateTimeType(io=Xi.value))||(li=t.PlainLiteralURI):!Zr&&!Ii&&(Bo&&(io=this.parseSafeCURIEOrCURIEOrURI(Bo.value,me,s)),!io&&Sa?io=this.resolveAndNormalize(s,encodeURI(Sa.value)):!io&&$a&&(io=this.resolveAndNormalize(s,encodeURI($a.value))),io&&(li=t.objectURI)),li||(ls&&!so?(li=t.objectURI,io=N):(io=p.textContent,this.inHTMLMode&&"time"===p.localName&&(li=t.deriveDateTimeType(io)),li||(li=t.PlainLiteralURI))),_a=this.tokenize(xa.value);for(var UC=0;UC<_a.length;UC++){var q0=this.parsePredicate(_a[UC],qe,v.terms,me,s);if(q0)if(FC){var X5=ee[q0];X5||(ee[q0]=X5=[]),X5.push(li===t.XMLLiteralURI||li===t.HTMLLiteralURI?{type:li,value:p.childNodes}:{type:li||t.PlainLiteralURI,value:io,language:Be})}else this.addTriple(p,_,q0,li===t.XMLLiteralURI||li===t.HTMLLiteralURI?{type:li,value:p.childNodes}:{type:li||t.PlainLiteralURI,value:io,language:Be})}}if(_&&!b)for(var du=0;du<v.incomplete.length;du++)v.incomplete[du].list?v.incomplete[du].list.push({type:t.objectURI,value:_}):v.incomplete[du].forward?this.addTriple(p,v.subject,v.incomplete[du].predicate,{type:t.objectURI,value:_}):this.addTriple(p,_,v.incomplete[du].predicate,{type:t.objectURI,value:v.subject});var No=null,qL=_;b?((No=this.push(v,v.subject)).parentObject=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject,No.incomplete=v.incomplete,No.language=Be,No.prefixes=me,No.vocabulary=qe):((No=this.push(v,_)).parentObject=z||_||v.subject,No.prefixes=me,No.incomplete=we,z&&(qL=z,ee={},Ie=!0),No.listMapping=ee,No.language=Be,No.vocabulary=qe),Ie&&i.unshift({parent:p,context:v,subject:qL,listMapping:ee});for(var Q0=p.lastChild;Q0;Q0=Q0.previousSibling)Q0.nodeType===Nc.ELEMENT_NODE&&i.unshift({current:Q0,context:No})}}this.inHTMLMode&&this.copyProperties();for(var $C=0;$C<this.finishedHandlers.length;$C++)this.finishedHandlers[$C](e)}},{key:"push",value:function(e,r){return{parent:e,subject:r||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(e,r){return ma(r,e)}},{key:"setContext",value:function(e){"html"===e.localName&&"XHTML+RDFa 1.1"===e.getAttribute("version")?this.setXHTMLContext():"html"===e.localName||"http://www.w3.org/1999/xhtml"===e.namespaceURI?typeof document<"u"&&document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"===document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"===document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"toRDFNodeObject",value:function(e){var r=this;if(!(typeof e>"u")){if("string"==typeof e)return"_:"===e.substring(0,2)?(typeof this.blankNodes[e.substring(2)]>"u"&&(this.blankNodes[e.substring(2)]=new Ga(e.substring(2))),this.blankNodes[e.substring(2)]):Wa.namedNode(e);switch(e.type){case t.objectURI:return"_:"===e.value.substring(0,2)?(typeof this.blankNodes[e.value.substring(2)]>"u"&&(this.blankNodes[e.value.substring(2)]=new Ga(e.value.substring(2))),this.blankNodes[e.value.substring(2)]):Wa.namedNode(e.value);case t.PlainLiteralURI:return new qo(e.value,e.language||"");case t.XMLLiteralURI:case t.HTMLLiteralURI:var s="";return Object.keys(e.value).forEach(function(i){s+=Za.jI(e.value[i],r.htmlOptions)}),new qo(s,"",new qi.A(e.type));default:return new qo(e.value,"",new qi.A(e.type))}}}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(e,r,s){var i=new t(r,{base:s});e.baseURI||(e.baseURI=s),i.process(e,{baseURI:s})}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}])}();Ca.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",Ca.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",Ca.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",Ca.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",Ca.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",Ca.nameChar="[-A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\u10000-\uefffF.0-9\xb7\u0300-\u036f\u203f-\u2040]",Ca.nameStartChar="[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u0131\u0134-\u013e\u0141-\u0148\u014a-\u017e\u0180-\u01c3\u01cd-\u01f0\u01f4-\u01f5\u01fa-\u0217\u0250-\u02a8\u02bb-\u02c1\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03d6\u03da\u03dc\u03de\u03e0\u03e2-\u03f3\u0401-\u040c\u040e-\u044f\u0451-\u045c\u045e-\u0481\u0490-\u04c4\u04c7-\u04c8\u04cb-\u04cc\u04d0-\u04eb\u04ee-\u04f5\u04f8-\u04f9\u0531-\u0556\u0559\u0561-\u0586\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0641-\u064a\u0671-\u06b7\u06ba-\u06be\u06c0-\u06ce\u06d0-\u06d3\u06d5\u06e5-\u06e6\u0905-\u0939\u093d\u0958-\u0961\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8b\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ae0\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b36-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb5\u0bb7-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0e01-\u0e2e\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eae\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0f40-\u0f47\u0f49-\u0f69\u10a0-\u10c5\u10d0-\u10f6\u1100\u1102-\u1103\u1105-\u1107\u1109\u110b-\u110c\u110e-\u1112\u113c\u113e\u1140\u114c\u114e\u1150\u1154-\u1155\u1159\u115f-\u1161\u1163\u1165\u1167\u1169\u116d-\u116e\u1172-\u1173\u1175\u119e\u11a8\u11ab\u11ae-\u11af\u11b7-\u11b8\u11ba\u11bc-\u11c2\u11eb\u11f0\u11f9\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2126\u212a-\u212b\u212e\u2180-\u2182\u3041-\u3094\u30a1-\u30fa\u3105-\u312c\uac00-\ud7a3\u4e00-\u9fa5\u3007\u3021-\u3029_]",Ca.NCNAME=new RegExp("^"+Ca.nameStartChar+Ca.nameChar+"*$"),Ca.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];var W4=Ca.parseRDFaDOM,Z4=function(){function t(n){(0,Ys.A)(this,t),this.store=n,this.bnodes={},this.why=null,this.reify=!1}return(0,Ks.A)(t,[{key:"frameFactory",value:function(e,r,s){return{NODE:1,ARC:2,parent:r,parser:e,store:e.store,element:s,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(o,a){a=ma(a,this.base),this.node=this.store.sym(a),this.nodeType=o},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var o=this.store.sym(ma("#"+this.parent.rdfid,this.base));this.store.add(o,this.store.sym(t.ns.RDF+"type"),this.store.sym(t.ns.RDF+"Statement"),this.parser.why),this.store.add(o,this.store.sym(t.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(o,this.store.sym(t.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(o,this.store.sym(t.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(o){this.addSymbol(this.NODE,o),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(o){this.node=null!=o?null!=this.parser.bnodes[o]?this.parser.bnodes[o]:this.parser.bnodes[o]=this.store.bnode():this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(o){o===t.ns.RDF+"li"&&(o=t.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,o)},addLiteral:function(o){this.node=this.store.literal(o,this.parent.datatype&&this.parent.datatype!==t.ns.RDF+"langString"?this.store.sym(this.parent.datatype):this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}}},{key:"getAttributeNodeNS",value:function(e,r,s){var i=null;if(e.getAttributeNodeNS)i=e.getAttributeNodeNS(r,s);else for(var a,o=e.attributes,c=0;c<o.length;++c)if((a=o[c]).namespaceURI===r&&(a.prefix?a.prefix+":"+s:s)===a.nodeName){i=a;break}return i}},{key:"parse",value:function(e,r,s){var o,i=e.childNodes;if(this.cleanParser(),e.nodeType===t.nodeType.DOCUMENT){for(var a=0;a<i.length;a++)if(i[a].nodeType===t.nodeType.ELEMENT){o=i[a];break}}else{if(e.nodeType!==t.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+r+". Halting. ");o=e}this.why=s;var l=this.frameFactory(this);return this.base=r,l.base=r,l.lang=null,this.parseDOM(this.buildFrame(l,o)),!0}},{key:"parseDOM",value:function(e){for(var r,s=function(we){var ee="";if(null==we.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+we.localName+" in "+this.base);return we.namespaceURI&&(ee+=we.namespaceURI),we.localName?ee+=we.localName:we.nodeName&&(we.nodeName.indexOf(":")>=0?ee+=we.nodeName.split(":")[1]:ee+=we.nodeName),ee}.bind(this),i=!0;e.parent;){var o=e.element,a=o.attributes;if(o.nodeType===t.nodeType.TEXT||o.nodeType===t.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(t.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(o.nodeValue);else if(s(o)!==t.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),(e=this.buildFrame(e,e.element)).parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!==e.ARC){e.addArc(s(o)),this.reify&&(r=this.getAttributeNodeNS(o,t.ns.RDF,"ID"))&&(e.rdfid=r.nodeValue,o.removeAttributeNode(r));var d=this.getAttributeNodeNS(o,t.ns.RDF,"parseType"),p=this.getAttributeNodeNS(o,t.ns.RDF,"datatype");if(p&&(e.datatype=p.nodeValue,o.removeAttributeNode(p)),d){var v=d.nodeValue;"Literal"===v?(e.datatype=t.ns.RDF+"XMLLiteral",(e=this.buildFrame(e)).addLiteral(o.innerHTML||o.childNodes),i=!1):"Resource"===v?((e=this.buildFrame(e,e.element)).parent.element=null,e.addBNode()):"Collection"===v&&((e=this.buildFrame(e,e.element)).parent.element=null,e.addCollection()),o.removeAttributeNode(d)}if(0!==a.length){var b=this.getAttributeNodeNS(o,t.ns.RDF,"resource"),_=this.getAttributeNodeNS(o,t.ns.RDF,"nodeID");e=this.buildFrame(e),b?(e.addNode(b.nodeValue),o.removeAttributeNode(b)):_?(e.addBNode(_.nodeValue),o.removeAttributeNode(_)):e.addBNode();for(var z=a.length-1;z>=0;z--){var N=this.buildFrame(e);N.addArc(s(a[z])),s(a[z])===t.ns.RDF+"type"?this.buildFrame(N).addNode(a[z].nodeValue):this.buildFrame(N).addLiteral(a[z].nodeValue)}}else 0===o.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var l=this.getAttributeNodeNS(o,t.ns.RDF,"about");if(r=this.getAttributeNodeNS(o,t.ns.RDF,"ID"),l&&r)throw new Error("RDFParser: "+o.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!l&&r)e.addNode("#"+r.nodeValue),o.removeAttributeNode(r);else if(null==l&&null==r){var c=this.getAttributeNodeNS(o,t.ns.RDF,"nodeID");c?(e.addBNode(c.nodeValue),o.removeAttributeNode(c)):e.addBNode()}else e.addNode(l.nodeValue),o.removeAttributeNode(l);var u=this.getAttributeNodeNS(o,t.ns.RDF,"type");t.ns.RDF+"Description"!==s(o)&&(u={nodeValue:s(o)}),null!=u&&(this.store.add(e.node,this.store.sym(t.ns.RDF+"type"),this.store.sym(ma(u.nodeValue,e.base)),this.why),u.nodeName&&o.removeAttributeNode(u));for(var h=a.length-1;h>=0;h--)this.store.add(e.node,this.store.sym(s(a[h])),this.store.literal(a[h].nodeValue,e.lang),this.why)}for(o=e.element;e.parent;){for(var me=e;null==o;)o=(e=e.parent).element;var fe=o.childNodes&&o.childNodes[e.lastChild];if(fe&&i){if((fe.nodeType===t.nodeType.ELEMENT||fe.nodeType===t.nodeType.TEXT||fe.nodeType===t.nodeType.CDATA_SECTION)&&(fe.nodeType!==t.nodeType.TEXT&&fe.nodeType!==t.nodeType.CDATA_SECTION||1===o.childNodes.length)){e.lastChild++,e=this.buildFrame(me,o.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;o=e.element,i=!0}}}}},{key:"cleanParser",value:function(){this.bnodes={},this.why=null}},{key:"buildFrame",value:function(e,r){var s=this.frameFactory(this,e,r);if(e&&(s.base=e.base,s.lang=e.lang),!r||r.nodeType===t.nodeType.TEXT||r.nodeType===t.nodeType.CDATA_SECTION)return s;var i=r.attributes,o=r.getAttributeNode("xml:base");null!=o&&(s.base=o.nodeValue,r.removeAttribute("xml:base"));var a=r.getAttributeNode("xml:lang");null!=a&&(s.lang=a.nodeValue,r.removeAttribute("xml:lang"));for(var l=i.length-1;l>=0;l--)if("xml"===i[l].nodeName.substr(0,3)){if("xmlns:"===i[l].name.slice(0,6)){var c=i[l].nodeValue;this.base&&(c=ma(c,this.base)),this.store.setPrefixForURI(i[l].name.slice(6),c)}r.removeAttributeNode(i[l])}return s}}])}();function j4(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text/turtle",s=arguments.length>4?arguments[4]:void 0;r=(r=r||In.sT).split(";")[0];try{if(r===In.ny||r===In.sT)$9(n,n,e,e,null,null,"",null).loadBuf(t),l();else if(r===In.JG)new Z4(n).parse(Za.h4(t),e,n.sym(e)),l();else if(r===In.H)W4(Za.h4(t,{contentType:In.H}),n,e),l();else if(r===In.lc)W4(Za.h4(t,{contentType:In.lc}),n,e),l();else if(r===In.K9||r===In.Fn)(function _J(t,n,e){var r,s,i,o=["INSERT","DELETE","WHERE"],a=bs("http://www.w3.org/ns/pim/patch#"),l=$9(n,n,e,e,null,null,"",null),c={},u=function(_,z,N,me,fe){return"Line "+(z+1)+" of <"+_+">: Bad syntax:\n   "+fe+'\n   at: "'+N.slice(me,me+30)+'"'};r=0;var h=n.sym(e+"#query");for(c.query=h;;){if((s=l.skipSpace(t,r))<0)return c;if(";"===t[s]){if((r=l.skipSpace(t,s+1))<0)return c;s=r}var d=!1;for(i=0;i<o.length;i++){var p=o[i];if(t.slice(s,s+p.length)===p){if((r=l.skipSpace(t,s+p.length))<0)throw u(l._thisDoc,l.lines,t,s+p.length,"found EOF, needed {...} after "+p);if(("INSERT"===p||"DELETE"===p)&&"DATA"===t.slice(r,r+4)){if((s=l.skipSpace(t,r+4))<0)throw u(l._thisDoc,l.lines,t,r+4,"needed {...} after INSERT DATA "+p);r=s}var v=[];if((s=l.node(t,r,v))<0)throw u(l._thisDoc,l.lines,t,r,"bad syntax or EOF in {...} after "+p);c[p.toLowerCase()]=v[0],n.add(h,a(p.toLowerCase()),v[0]),d=!0,r=s}}if(!d&&"@prefix"===t.slice(s,s+7)){if((r=l.directive(t,s))<0)throw u(l._thisDoc,l.lines,t,r,"bad syntax or EOF after @prefix ");r=l.checkDot(t,r),d=!0}if(!d)throw u(l._thisDoc,l.lines,t,s,"Unknown syntax at start of statememt: '"+t.slice(s).slice(0,20)+"'")}})(t,n,e),l();else if(r===In.i2)Sz(t,n,e,l);else{if(r!==In._0&&r!==In.BR)throw void 0===r?new Error("contentType is undefined"):new Error("Don't know how to parse "+r+" yet");var a=new Fz({factory:X9});!function u(d,p){d&&s(d,n);try{a.parse(p,h)}catch(v){s(v,n)}}(null,t)}}catch(d){!function c(d){if(r!==In.i2||r!==In._0||r!==In.BR){if(!s){var p=new Error(d+" while trying to parse <"+e+"> as "+r);throw p.cause=d,p}s(d,n)}}(d)}function l(){s&&s(null,n)}function h(d,p){p?n.add(p.subject,p.predicate,p.object,p.graph):s(d,n)}j4.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/sparql-update-single-match":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0}}(0,zt.A)(Z4,"ns",{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"}),(0,zt.A)(Z4,"nodeType",{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12});var U4=K(8868),HJ=K.n(U4),L0=K(79);function kz(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function nu(t,n,e){return n=(0,Qi.A)(n),(0,Dc.A)(t,Oz()?Reflect.construct(n,e||[],(0,Qi.A)(t).constructor):n.apply(t,e))}function Oz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oz=function(){return!!t})()}var EJ={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},Gz={rdf:In.JG,owl:In.JG,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},Wz=function(n){return{link:bs("http://www.w3.org/2007/ont/link#",n),http:bs("http://www.w3.org/2007/ont/http#",n),httph:bs("http://www.w3.org/2007/ont/httph#",n),rdf:bs("http://www.w3.org/1999/02/22-rdf-syntax-ns#",n),rdfs:bs("http://www.w3.org/2000/01/rdf-schema#",n),dc:bs("http://purl.org/dc/elements/1.1/",n),ldp:bs("http://www.w3.org/ns/ldp#",n)}},Al=Wz(),Fc=(0,Ks.A)(function t(n,e){(0,Ys.A)(this,t),(0,zt.A)(this,"response",void 0),(0,zt.A)(this,"dom",void 0),this.response=n,this.dom=e});(0,zt.A)(Fc,"pattern",void 0);var e8=function(t){function n(){return(0,Ys.A)(this,n),nu(this,n,arguments)}return(0,Lo.A)(n,t),(0,Ks.A)(n,[{key:"parse",value:function(r,s,i){var o=r.store;if(this.dom||(this.dom=Za.h4(s)),"parsererror"===this.dom.documentElement.nodeName)return r.failFetch(i,"Badly formed XML in "+i.resource.value,"parse_error");var l=new Z4(o);try{l.parse(this.dom,i.original.value,i.original)}catch(c){return r.failFetch(i,"Syntax error parsing RDF/XML! "+c,"parse_error")}return i.noMeta||o.add(i.original,Al.rdf("type"),Al.link("RDFDocument"),r.appNode),r.doneFetch(i,this.response)}}],[{key:"toString",value:function(){return"RDFXMLHandler"}},{key:"register",value:function(r){r.mediatypes[In.JG]={q:.9}}}])}(Fc);e8.pattern=new RegExp("application/rdf\\+xml");var ru=function(t){function n(){return(0,Ys.A)(this,n),nu(this,n,arguments)}return(0,Lo.A)(n,t),(0,Ks.A)(n,[{key:"parse",value:function(r,s,i){var o,a;this.dom||(this.dom=Za.h4(s));var l=r.store,c=this.dom.getElementsByTagName("title");c.length>0&&l.add(i.resource,Al.dc("title"),l.rdfFactory.literal(c[0].textContent),i.resource);for(var u=this.dom.getElementsByTagName("link"),h=u.length-1;h>=0;h--)a=!1,(o=u[h].getAttribute("rel"))||(o=u[h].getAttribute("rev"),a=!0),o&&r.linkData(i.original,o,u[h].getAttribute("href"),i.resource,a);for(var d=this.dom.getElementsByTagName("script"),p=0;p<d.length;p++){var v=d[p].getAttribute("type");EJ[v]&&(j4(d[p].textContent,l,i.original.value,v),j4(d[p].textContent,l,i.original.value,v))}if(i.noMeta||l.add(i.resource,Al.rdf("type"),Al.link("WebPage"),r.appNode),!i.noRDFa&&W4)try{W4(this.dom,l,i.original.value)}catch(_){return r.failFetch(i,"Error trying to parse "+i.resource+" as RDFa:\n"+_+":\n"+_.stack,"parse_error")}return r.doneFetch(i,this.response)}}],[{key:"toString",value:function(){return"XHTMLHandler"}},{key:"register",value:function(r){r.mediatypes[In.H]={}}}])}(Fc);ru.pattern=new RegExp("application/xhtml");var $4=function(t){function n(){return(0,Ys.A)(this,n),nu(this,n,arguments)}return(0,Lo.A)(n,t),(0,Ks.A)(n,[{key:"parse",value:function(r,s,i){for(var o=Za.h4(s),a=0;a<o.childNodes.length;a++){var l=o.childNodes[a];if(n.isElement(l)){var c=l.namespaceURI;if(c&&c===c.rdf)return r.addStatus(i.req,"Has XML root element in the RDF namespace, so assume RDF/XML."),new e8(this.response,o).parse(r,s,i);break}}if(o.doctype&&"html"===o.doctype.name&&o.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&o.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/))return r.addStatus(i.req,"Has XHTML DOCTYPE. Switching to XHTML Handler.\n"),new ru(this.response,o).parse(r,s,i);var d=o.getElementsByTagName("html")[0];if(d){var p=d.getAttribute("xmlns");if(p&&p.match(/^http:\/\/www.w3.org\/1999\/xhtml/))return r.addStatus(i.req,"Has a default namespace for XHTML. Switching to XHTMLHandler.\n"),new ru(this.response,o).parse(r,s,i)}return r.failFetch(i,"Unsupported dialect of XML: not RDF or XHTML namespace, etc.\n"+s.slice(0,80),901)}}],[{key:"toString",value:function(){return"XMLHandler"}},{key:"register",value:function(r){r.mediatypes["text/xml"]={q:.5},r.mediatypes["application/xml"]={q:.5}}},{key:"isElement",value:function(r){return r.nodeType===Node.ELEMENT_NODE}}])}(Fc);$4.pattern=new RegExp("(text|application)/(.*)xml");var Zz=function(t){function n(){return(0,Ys.A)(this,n),nu(this,n,arguments)}return(0,Lo.A)(n,t),(0,Ks.A)(n,[{key:"parse",value:function(r,s,i){var o=r.store;if(Xz(s))return r.addStatus(i.req,"Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.\n"),new ru(this.response).parse(r,s,i);if(function TJ(t){var n=t.indexOf("<!DOCTYPE html"),e=t.indexOf(">");return!(-1===n||-1===e||n>e)&&-1!==t.substr(n,e-n).indexOf("XHTML")}(s))return r.addStatus(i.req,"Has XHTML DOCTYPE. Switching to XHTMLHandler.\n"),new ru(this.response).parse(r,s,i);if(function LJ(t){return!!t.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/)}(s))return r.addStatus(i.req,"Has default namespace for XHTML, so switching to XHTMLHandler.\n"),new ru(this.response).parse(r,s,i);var u=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(s);return u&&o.add(i.resource,Al.dc("title"),o.rdfFactory.literal(u[1]),i.resource),o.add(i.resource,Al.rdf("type"),Al.link("WebPage"),r.appNode),r.addStatus(i.req,"non-XML HTML document, not parsed for data."),r.doneFetch(i,this.response)}}],[{key:"toString",value:function(){return"HTMLHandler"}},{key:"register",value:function(r){r.mediatypes["text/html"]={q:.9}}}])}(Fc);Zz.pattern=new RegExp("text/html");var jz=function(t){function n(){return(0,Ys.A)(this,n),nu(this,n,arguments)}return(0,Lo.A)(n,t),(0,Ks.A)(n,[{key:"parse",value:function(r,s,i,o){var a=r.store;return new Promise(function(l,c){try{Sz(s,a,i.original.value,function(){l(r.doneFetch(i,o))})}catch(h){l(r.failFetch(i,"Error trying to parse "+i.resource+" as JSON-LD:\n"+h,"parse_error",o))}})}}],[{key:"toString",value:function(){return"JsonLdHandler"}},{key:"register",value:function(r){r.mediatypes["application/ld+json"]={q:.9}}}])}(Fc);jz.pattern=/application\/ld\+json/;var Uz=function(t){function n(){return(0,Ys.A)(this,n),nu(this,n,arguments)}return(0,Lo.A)(n,t),(0,Ks.A)(n,[{key:"parse",value:function(r,s,i){return Xz(s)?(r.addStatus(i.req,"Warning: "+i.resource+" has an XML declaration. We'll assume it's XML but its content-type wasn't XML.\n"),new $4(this.response).parse(r,s,i)):s.slice(0,500).match(/xmlns:/)?(r.addStatus(i.req,"May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.\n"),new $4(this.response).parse(r,s,i)):(r.addStatus(i.req,"Plain text document, no known RDF semantics."),r.doneFetch(i,this.response))}}],[{key:"toString",value:function(){return"TextHandler"}},{key:"register",value:function(r){r.mediatypes["text/plain"]={q:.5}}}])}(Fc);Uz.pattern=new RegExp("text/plain");var $z=function(t){function n(){return(0,Ys.A)(this,n),nu(this,n,arguments)}return(0,Lo.A)(n,t),(0,Ks.A)(n,[{key:"parse",value:function(r,s,i,o){var a=r.store,l=$9(a,a,i.original.value,i.original.value,null,null,"",null);try{l.loadBuf(s)}catch(u){return r.failFetch(i,"Error trying to parse "+i.resource+" as Notation3:\n"+u,"parse_error",o)}return r.addStatus(i.req,"N3 parsed: "+l.statementCount+" triples in "+l.lines+" lines."),r.store.add(i.original,Al.rdf("type"),Al.link("RDFDocument"),r.appNode),r.doneFetch(i,this.response)}}],[{key:"toString",value:function(){return"N3Handler"}},{key:"register",value:function(r){r.mediatypes["text/n3"]={q:"1.0"},r.mediatypes["text/turtle"]={q:1}}}])}(Fc);$z.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var t8={RDFXMLHandler:e8,XHTMLHandler:ru,XMLHandler:$4,HTMLHandler:Zz,TextHandler:Uz,N3Handler:$z,JsonLdHandler:jz};function Xz(t){return!!t.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)}var jh=function(){function t(n){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,Ys.A)(this,t),(0,zt.A)(this,"store",void 0),(0,zt.A)(this,"timeout",void 0),(0,zt.A)(this,"_fetch",void 0),(0,zt.A)(this,"mediatypes",void 0),(0,zt.A)(this,"appNode",void 0),(0,zt.A)(this,"requested",void 0),(0,zt.A)(this,"timeouts",void 0),(0,zt.A)(this,"redirectedTo",void 0),(0,zt.A)(this,"fetchQueue",void 0),(0,zt.A)(this,"fetchCallbacks",void 0),(0,zt.A)(this,"nonexistent",void 0),(0,zt.A)(this,"lookedUp",void 0),(0,zt.A)(this,"handlers",void 0),(0,zt.A)(this,"ns",void 0),(0,zt.A)(this,"fireCallbacks",void 0),this.store=n||new M0,this.ns=Wz(this.store.rdfFactory),this.timeout=r.timeout||3e4,this._fetch=r.fetch||typeof global<"u"&&(global.solidFetcher||global.solidFetch)||typeof window<"u"&&(window.solidFetcher||window.solidFetch)||HJ(),!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.sym("chrome://TheCurrentSession"),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},Za.Kw(this,["request","fail","refresh","retract","done"]),Object.keys(r.handlers||t8).map(function(s){return e.addHandler(t8[s])})}return(0,Ks.A)(t,[{key:"load",value:function(e){var r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s=Object.assign({},s),e instanceof Array)return Promise.all(e.map(function(_){return r.load(_,Object.assign({},s))}));var o=(0,L0.E)(e);o=o.split("#")[0],s=this.initFetchOptions(o,s);var h,a=this.appNode,l=this.store,u=function zJ(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function VJ(t,n){if(t){if("string"==typeof t)return kz(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return kz(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return i=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!i&&null!=e.return&&e.return()}finally{if(o)throw a}}}}(l.statementsMatching(void 0,this.ns.link("requestedURI"),l.sym(o),a).map(function(_){return _.subject}));try{for(u.s();!(h=u.n()).done;){var p=l.any(h.value,this.ns.link("response"),null,a);if(null!=p){var v=l.statementsMatching(p,this.ns.link("outOfDate"),!0,a);l.remove(v),s.force=!0,s.clearPreviousData=!0}}}catch(_){u.e(_)}finally{u.f()}var b=this.initFetchOptions(o,s);return this.pendingFetchPromise(o,b.baseURI,b)}},{key:"pendingFetchPromise",value:(n=(0,Yo.A)(F4().mark(function r(s,i,o){var l,a=this;return F4().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.t0=!o.force,!u.t0){u.next=5;break}return u.next=4,this.fetchQueue[i];case 4:u.t0=u.sent;case 5:if(!u.t0){u.next=9;break}l=this.fetchQueue[i],u.next=12;break;case 9:l=Promise.race([this.setRequestTimeout(s,o),this.fetchUri(s,o)]),this.fetchQueue[i]=l,this.cleanupFetchRequest(i,void 0,this.timeout);case 12:return u.abrupt("return",l.then(function(h){return s in a.timeouts&&(a.timeouts[s].forEach(clearTimeout),delete a.timeouts[s]),h}));case 13:case"end":return u.stop()}},r,this)})),function e(r,s,i){return n.apply(this,arguments)})},{key:"cleanupFetchRequest",value:function(e,r,s){var i=this;void 0!==r&&console.warn("_options is deprecated"),this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout(function(){i.isPending(e)||delete i.fetchQueue[e]},s))}},{key:"initFetchOptions",value:function(e,r){var s=this.store;!r.method||"GET"===r.method.toUpperCase()||(r.force=!0),r.resource=s.rdfFactory.namedNode(e),r.baseURI=r.baseURI||e,r.original=s.rdfFactory.namedNode(r.baseURI),r.req=s.bnode(),r.headers=r.headers||new U4.Headers,r.contentType&&(r.headers["content-type"]=r.contentType),r.force&&(r.cache="no-cache");var o=this.acceptString();r.headers.accept=o;var a=t.offlineOverride(e);r.requestedURI=a,t.setCredentials(a,r);var l=t.proxyIfNecessary(a);return a!==l&&(r.proxyUsed=!0),r.actualProxyURI=l,r}},{key:"fetchUri",value:function(e,r){var s=this;if(!e)return Promise.reject(new Error("Cannot fetch an empty uri"));if(t.unsupportedProtocol(e))return this.failFetch(r,"fetcher: Unsupported protocol","unsupported_protocol");var i=this.getState(e);if(r.force)delete this.nonexistent[e];else{if("fetched"===i)return Promise.resolve(this.doneFetch(r,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if("failed"===i&&404===this.requested[e]){var o="Previously failed: "+this.requested[e],a={url:e,status:this.requested[e],statusText:o,responseText:o,headers:new U4.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(r,o,this.requested[e],a)}}this.fireCallbacks("request",[e]),this.requested[e]=!0,r.noMeta||this.saveRequestMetadata(e,r);var l=r.actualProxyURI;return this._fetch(l,r).then(function(c){return s.handleResponse(c,e,r)},function(c){var u={url:l,status:999,statusText:(c.name||"network failure")+": "+(c.errno||c.code||c.type),responseText:c.message,headers:new U4.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return s.handleError(u,e,r)})}},{key:"nowOrWhenFetched",value:function(e,r,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(0,L0.E)(e);"function"==typeof r?s=r:typeof r>"u"||((0,Rs.Y2)(r)?i.referringTerm=r:i=r),this.load(o,i).then(function(a){if(s)if(a)if(a.ok)s(!0,"OK",a);else{var l="HTTP error: Status "+a.status+" ("+a.statusText+")";a.responseText&&(l+=" "+a.responseText),s(!1,l,a)}else s(!1,"@@ nowOrWhenFetched:  no response object!")},function(a){var l=a.message||a.statusText;l="Failed to load  <"+o+"> "+l,a.response&&a.response.status&&(l+=" status: "+a.response.status),s(!1,l,a.response)})}},{key:"addStatus",value:function(e,r){var s=new Date;r="["+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()+"."+s.getMilliseconds()+"] "+r;var i=this.store,o=i.the(e,this.ns.link("status"));(0,Rs.P3)(o)?o.append(i.rdfFactory.literal(r)):Ni_warn("web.js: No list to add to: "+o+","+r)}},{key:"failFetch",value:function(e,r,s,i){this.addStatus(e.req,r),e.noMeta||this.store.add(e.original,this.ns.link("error"),this.store.rdfFactory.literal(r));var o=(e.method||"GET").toUpperCase();("GET"===o||"HEAD"===o)&&(e.resource.equals(e.original),this.requested[K1(e.original.value)]=s,this.fireCallbacks("fail",[e.original.value,r]));var l=new Error("Fetcher: "+r);return l.status=s,l.statusText=r,l.response=i,Promise.reject(l)}},{key:"linkData",value:function(e,r,s,i,o){if(s){var l,a=this.store,c=a.rdfFactory.namedNode(ma(s,e.value));if("alternate"===r||"seeAlso"===r||"meta"===r||"describedby"===r){if(c.value===e.value)return;l=this.ns.rdfs("seeAlso")}else l=a.rdfFactory.namedNode("type"===r?"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":ma(encodeURIComponent(r),"http://www.iana.org/assignments/link-relations/"));o?a.add(c,l,e,i):a.add(e,l,c,i)}}},{key:"parseLinkHeader",value:function(e,r,s){if(e){var o=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,a=e.match(/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g);if(null!=a)for(var l=0;l<a.length;l++){var c=a[l].split(">"),u=c[0].substring(1),d=c[1].match(o);if(null==d)return;for(var p=0;p<d.length;p++){var _=d[p].split("=")[1].replace(/["']/g,"");this.linkData(r,_,u,s)}}}}},{key:"doneFetch",value:function(e,r){return this.addStatus(e.req,"Done."),this.requested[e.original.value]="done",this.fireCallbacks("done",[e.original.value]),r.req=e.req,r}},{key:"nowKnownAs",value:function(e,r){this.lookedUp[e.value]?this.lookedUp[r.value]||this.lookUpThing(r,e):this.lookedUp[r.value]&&(this.lookedUp[e.value]||this.lookUpThing(e,r))}},{key:"putBack",value:function(e){var r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,L0.E)(e),o=new qi.A(i).doc();return s.contentType=s["content-type"]||s["Content-Type"]||s.contentType||In.sT,"application/ld+json"===s.contentType?new Promise(function(a,l){B4(o,r.store,o.uri,s.contentType,function(c,u){c?l(c):(s.data=u,r.webOperation("PUT",e,s).then(function(h){return a(h)}).catch(function(h){return l(h)}))})}):(s.data=B4(o,this.store,o.value,s.contentType),this.webOperation("PUT",i,s))}},{key:"webCopy",value:function(e,r,s){var i=this;return this.webOperation("GET",e).then(function(o){return i.webOperation("PUT",r,{data:o.responseText,contentType:s})})}},{key:"delete",value:function(e,r){var s=this;return this.webOperation("DELETE",e,r).then(function(i){return s.requested[e]=404,s.nonexistent[e]=!0,s.unload(s.store.rdfFactory.namedNode(e)),i})}},{key:"createIfNotExists",value:function(){var n=(0,Yo.A)(F4().mark(function r(s){var i,o,a,l,c=arguments;return F4().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return i=c.length>1&&void 0!==c[1]?c[1]:In.sT,o=c.length>2&&void 0!==c[2]?c[2]:"",a=this,h.prev=3,h.next=6,a.load(s);case 6:l=h.sent,h.next=26;break;case 9:if(h.prev=9,h.t0=h.catch(3),404!==h.t0.response.status){h.next=25;break}return h.prev=12,h.next=15,a.webOperation("PUT",s.value,{data:o,contentType:i});case 15:l=h.sent,h.next=21;break;case 18:throw h.prev=18,h.t1=h.catch(12),h.t1;case 21:return delete a.requested[s.value],h.abrupt("return",l);case 25:throw h.t0;case 26:return h.abrupt("return",l);case 27:case"end":return h.stop()}},r,this,[[3,9],[12,18]])}));return function e(r){return n.apply(this,arguments)}}()},{key:"createContainer",value:function(e,r,s){var i={"content-type":In.sT,link:this.ns.ldp("BasicContainer")+'; rel="type"'};r&&(i.slug=r);var o={headers:i};return s&&(o.body=s),this.webOperation("POST",e,o)}},{key:"invalidateCache",value:function(e){var r=(0,L0.E)(e),s=this;if(s.fetchQueue&&s.fetchQueue[r]&&delete s.fetchQueue[r],s.requested[r]&&"done"!==s.requested[r]&&"failed"!==s.requested[r]&&404!==s.requested[r]){var o="Rdflib: fetcher: Destructive operation on <".concat(s.requested[r],"> file being fetched! ")+r;console.error(o)}else delete s.requested[r],delete s.nonexistent[r]}},{key:"webOperation",value:function(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,L0.E)(r);s.method=e,s.body=s.data||s.body,s.force=!0;var o=this;if(s.body&&!s.contentType)throw new Error("Web operation sending data must have a defined contentType.");return s.contentType&&(s.headers=s.headers||{},s.headers["content-type"]=s.contentType),t.setCredentials(i,s),new Promise(function(a,l){o._fetch(i,s).then(function(c){if(c.ok)("PUT"===e||"PATCH"===e||"POST"===e||"DELETE"===e)&&o.invalidateCache(i),c.text?c.text().then(function(d){c.responseText=d,a(c)}):a(c);else{var u="Web error: "+c.status;c.statusText&&(u+=" ("+c.statusText+")"),u+=" on "+e+" of <"+i+">",c.responseText&&(u+=": "+c.responseText);var h=new Error(u);h.response=c,l(h)}},function(c){l(new Error("Fetch error for "+e+" of <"+i+">:"+c))})})}},{key:"lookUpThing",value:function(e,r){var s=this,i=this.store.uris(e);return(i=i.map(function(o){return K1(o)})).forEach(function(o){s.lookedUp[o]=!0}),this.load(i,{referringTerm:r})}},{key:"getHeader",value:function(e,r){for(var s=this.store,i=e.value,o=s.each(void 0,this.ns.link("requestedURI"),s.rdfFactory.literal(i)),a=0;a<o.length;a++){var l=o[a];if(void 0!==l){var c=s.any(l,this.ns.link("response"));if(void 0!==c&&s.anyValue(c,this.ns.http("status"))&&s.anyValue(c,this.ns.http("status")).startsWith("2")){var u=s.each(c,this.ns.httph(r.toLowerCase()));return u.length?u.map(function(h){return h.value}):[]}}}}},{key:"saveRequestMetadata",value:function(e,r){var s=r.req,i=this.store,o=r.referringTerm;this.addStatus(r.req,"Accept: "+r.headers.accept),(0,Rs.Y2)(o)&&i.add(i.rdfFactory.namedNode(e),this.ns.link("requestedBy"),o,this.appNode),r.original&&r.original.value!==e&&i.add(s,this.ns.link("orginalURI"),i.rdfFactory.literal(r.original.value),this.appNode);var a=new Date,l="["+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+"] ";i.add(s,this.ns.rdfs("label"),i.rdfFactory.literal(l+" Request for "+e),this.appNode),i.add(s,this.ns.link("requestedURI"),i.rdfFactory.literal(e),this.appNode),i.add(s,this.ns.link("status"),i.collection(),this.appNode)}},{key:"saveResponseMetadata",value:function(e,r){var s=this,i=this.store,o=i.bnode();return i.add(r.req,this.ns.link("response"),o,this.appNode),i.add(o,this.ns.http("status"),i.rdfFactory.literal(e.status),this.appNode),i.add(o,this.ns.http("statusText"),i.rdfFactory.literal(e.statusText),this.appNode),e.headers.forEach(function(a,l){i.add(o,s.ns.httph(l),s.store.rdfFactory.literal(a),s.appNode),"content-type"===l&&i.add(r.resource,s.ns.rdf("type"),i.rdfFactory.namedNode(Za.tE(a).value),s.appNode)}),o}},{key:"objectRefresh",value:function(e){var r=this.store.uris(e);if(typeof r<"u")for(var s=0;s<r.length;s++)this.refresh(this.store.rdfFactory.namedNode(K1(r[s])))}},{key:"refresh",value:function(e,r){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(e,{force:!0,clearPreviousData:!0},r)}},{key:"refreshIfExpired",value:function(e,r){var s=this.getHeader(e,"Expires");!s||new Date(s[0]).getTime()<=(new Date).getTime()?this.refresh(e,r):r(!0,"Not expired",{})}},{key:"retract",value:function(e){this.store.removeMany(void 0,void 0,void 0,e),e.value&&delete this.requested[K1(e.value)],this.fireCallbacks("retract",arguments)}},{key:"getState",value:function(e){return typeof this.requested[e]>"u"?"unrequested":!0===this.requested[e]?"requested":"done"===this.requested[e]?"fetched":"redirected"===this.requested[e]?this.getState(this.redirectedTo[e]):"failed"}},{key:"isPending",value:function(e){return!0===this.requested[e]}},{key:"unload",value:function(e){this.store.removeDocument(e),delete this.requested[e.value]}},{key:"addHandler",value:function(e){this.handlers.push(e),e.register(this)}},{key:"retryNoCredentials",value:function(e,r){r.retriedWithNoCredentials=!0,delete this.requested[e],delete this.fetchQueue[e];var s=Object.assign({},r,{credentials:"omit"});return this.addStatus(r.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(e,s)}},{key:"isCrossSite",value:function(e){if(typeof document>"u"||!document.location)return!1;var r=bK,s=""+document.location;return(r(s)&&r(e)&&r(s))!==r(e)}},{key:"handleError",value:function(e,r,s){if(this.isCrossSite(r)){if(s.credentials&&"include"===s.credentials&&!s.retriedWithNoCredentials)return this.retryNoCredentials(r,s);var i=t.crossSiteProxy(r);if(i&&!s.proxyUsed)return this.redirectToProxy(i,s)}var o;return e instanceof Error?o="Fetch error: "+e.message:(o=e.statusText,e.responseText&&(o+=" ".concat(e.responseText))),this.failFetch(s,o,e.status||998,e)}},{key:"addType",value:function(e,r,s,i){var o=r;if(i){var a=s.any(o,this.ns.link("requestedURI"));a&&a.value!==i&&s.add(s.rdfFactory.namedNode(i),this.ns.rdf("type"),e,this.appNode)}for(;;){var l=s.any(o,this.ns.link("requestedURI"));if(l&&l.value&&s.add(s.rdfFactory.namedNode(l.value),this.ns.rdf("type"),e,this.appNode),!(o=s.any(void 0,s.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),o)))break;var c=s.any(o,s.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!c)break;var u=s.any(c,s.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!u||"301"!==u&&"302"!==u)break}}},{key:"handleResponse",value:function(e,r,s){var i=this,o=this.store,a=e.headers,l=s.req,c=this.saveResponseMetadata(e,s),u=this.normalizedContentType(s,a)||"",h=a.get("content-location");if(0===e.status)return this.handleError(e,r,s);if(e.status>=400)return 404===e.status&&(this.nonexistent[s.original.value]=!0,this.nonexistent[r]=!0),this.saveErrorResponse(e,c).then(function(){return i.failFetch(s,s.resource+" "+e.statusText,e.status,e)});var d=null,p=null;if(h&&(p=ma(h,r))!==r&&(d=p),200===e.status){if(this.addType(this.ns.link("Document"),l,o,r),d&&this.addType(this.ns.link("Document"),l,o,d),s.clearPreviousData)for(var v=o.statementsMatching(void 0,void 0,void 0,s.resource).slice(),b=0;b<v.length;b++)o.removeStatement(v[b]);var _=u.includes("image/")||u.includes("application/pdf");u&&_&&(this.addType(o.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),l,o,r),d&&this.addType(o.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),l,o,d))}if(h){if(!s.force&&d&&"done"===this.requested[p])return this.doneFetch(s,e);this.requested[p]=!0}this.parseLinkHeader(a.get("link"),s.original,l);var z=this.handlerForContentType(u,e);return z?e.text().then(function(N){return e.responseText=N,z.parse(i,N,s,e)}):(this.addStatus(l,"Fetch over. No data handled."),this.doneFetch(s,e))}},{key:"saveErrorResponse",value:function(e,r){var s=this,i=this.store;return e.text().then(function(o){o.length>10&&i.add(r,s.ns.http("content"),i.rdfFactory.literal(o),r)})}},{key:"handlerForContentType",value:function(e,r){if(!e)return null;var s=this.handlers.find(function(i){return e.match(i.pattern)});return s?new s(r):null}},{key:"guessContentType",value:function(e){return Gz[e.split(".").pop()]}},{key:"normalizedContentType",value:function(e,r){if(e.forceContentType)return e.forceContentType;var s=r.get("content-type");if(!s||s.includes("application/octet-stream")){var i=this.guessContentType(e.resource.value);if(i)return i}var o=nz(e.resource.value);return!s&&["file","chrome"].includes(o)?"text/xml":s}},{key:"redirectToProxy",value:function(e,r){var s=this;this.addStatus(r.req,"BLOCKED -> Cross-site Proxy to <"+e+">"),r.proxyUsed=!0;var i=this.store,o=r.req;r.noMeta||(i.add(o,this.ns.link("redirectedTo"),i.rdfFactory.namedNode(e),o),this.addStatus(o,"redirected to new request")),this.requested[r.resource.value]="redirected",this.redirectedTo[r.resource.value]=e;var a=Object.assign({},r);return a.baseURI=r.resource.value,this.fetchUri(e,a).then(function(l){return a.noMeta||i.add(o,s.ns.link("redirectedRequest"),a.req,s.appNode),l})}},{key:"setRequestTimeout",value:function(e,r){var s=this;return new Promise(function(i){s.timeouts[e]=(s.timeouts[e]||[]).concat(setTimeout(function(){s.isPending(e)&&!r.retriedWithNoCredentials&&!r.proxyUsed&&i(s.failFetch(r,"Request to ".concat(e," timed out"),"timeout"))},s.timeout))})}},{key:"addFetchCallback",value:function(e,r){this.fetchCallbacks[e]?this.fetchCallbacks[e].push(r):this.fetchCallbacks[e]=[r]}},{key:"acceptString",value:function(){var e="";for(var r in this.mediatypes)for(var s in""!==e&&(e+=", "),e+=r,this.mediatypes[r])e+=";"+s+"="+this.mediatypes[r][s];return e}}],[{key:"crossSiteProxy",value:function(e){if(t.crossSiteProxyTemplate)return t.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e))}},{key:"offlineOverride",value:function(e){var s,r=e;return typeof window<"u"&&window.panes&&(s=window.panes.UI)&&s.preferences&&s.preferences.get("offlineModeUsingLocalhost")&&"http://"===r.slice(0,7)&&"localhost/"!==r.slice(7,17)&&(r="http://localhost/"+r.slice(7),Ni_warn("Localhost kludge for offline use: actually getting <"+r+">")),r}},{key:"proxyIfNecessary",value:function(e){var r;if(typeof window<"u"&&window.panes&&(r=window.panes.UI)&&r.isExtension)return e;if(typeof $SolidTestEnvironment<"u"&&$SolidTestEnvironment.localSiteMap){var o=function a(l,c){var u=c[l.shift()];return u?"string"==typeof u?u+l.join("/"):l?a(l,u):null:null}(e.split("/").slice(2),$SolidTestEnvironment.localSiteMap);if(o)return o}return t.crossSiteProxyTemplate&&typeof document<"u"&&document.location&&"https:"===(""+document.location).slice(0,6)&&"http:"===e.slice(0,5)?t.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):e}},{key:"unsupportedProtocol",value:function(e){var r=nz(e);return"tel"===r||"mailto"===r||"urn"===r}},{key:"setCredentials",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===r.credentials&&(r.credentials=void 0!==r.withCredentials?r.withCredentials?"include":"omit":"include")}}]);var n}();function Yz(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,r)}return e}function Kz(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Yz(Object(e),!0).forEach(function(r){(0,zt.A)(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Yz(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}(0,zt.A)(jh,"HANDLERS",void 0),(0,zt.A)(jh,"CONTENT_TYPE_BY_EXT",void 0),(0,zt.A)(jh,"crossSiteProxyTemplate",void 0),jh.HANDLERS=t8,jh.CONTENT_TYPE_BY_EXT=Gz;const X4=Kz(Kz({},X9),{},{fetcher:function(n,e){return new jh(n,e)},graph:function(){return new M0(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)||{rdfFactory:X9})},lit:function(n,e,r){return this.literal(""+n,e||r)},st:function(n,e,r,s){return this.quad(n,e,r,s)}});var ya={};for(var n8 in X4)"function"==typeof X4[n8]&&(ya[n8]=X4[n8].bind(X4));var qz=ya.graph,r8=ya.lit,R0=ya.namedNode;new uz;const D0="http://geonetwork-ui/";function Pc(t,n,e,r,s,i,o){function a(p){return p.language.toLowerCase().substring(0,2)}const l=t.each(n,e,r).filter(p=>p instanceof qo);if(!l.length)return[null,i];const c=l.find(p=>a(p)===o),u=l.find(p=>!p.language),h=c?.value??u?.value??"(value not found)",d=i??{};for(const p of l){const v=a(p);v===o||!v||(d[s]={...d[s],[v]:p.value})}return[h,d]}function Qz(t,n,e,r,s,i){if(t.removeStatements(t.statementsMatching(n,e,null)),t.add(n,e,r8(r,i)),s)for(const o in s)t.add(n,e,r8(s[o],o))}function eV(t,n,e,r=D0){return new Promise(s=>j4(n,t,r,e,s))}function Y4(t,n=window.location.toString()){try{return new URL(t,n)}catch{return null}}function Ia(t,n){return t.the(n,A0("primaryTopic"),null)||t.the(null,Co("type"),mr("Dataset"))}function PJ(t,n){return t.the(n,Ls("identifier"),null)?.value}function kJ(t,n,e,r){const s=Ia(t,n),[i]=Pc(t,s,Ls("title"),null,"title",e,r);return i}function OJ(t,n,e,r){const s=Ia(t,n),[i]=Pc(t,s,Ls("description"),null,"abstract",e,r);return i}function tV(t,n){const e=n.object,r=t.the(e,b0("fn"),null)??t.the(e,b0("title"),null)??t.the(e,b0("organisation-name"),null);let s,i;if(r){const c=f9(r.value);s=c[0],i=c[1]}const o=t.the(e,b0("role"),null),a=t.the(e,b0("hasEmail"),null),l=a?a.value.replace(/^mailto:/,""):"missing@missing.com";return{role:o?.value??"point_of_contact",email:l,...s&&{firstName:s},...i&&{lastName:i}}}function GJ(t,n){return t.statementsMatching(n,mr("contactPoint"),null).map(r=>tV(t,r))}function WJ(t,n){const e=Ia(t,n);return t.statementsMatching(e,mr("contactPoint"),null).map(s=>tV(t,s))}function ZJ(t,n){const e=Ia(t,n),r=t.the(e,mr("landingPage"),null);return null!==r?Y4(r.value):void 0}function YJ(t,n,e,r){const s=Ia(t,n);return t.statementsMatching(s,mr("distribution"),null).map(o=>function XJ(t,n,e){if(t.holds(n,mr("accessService"),null)){const r=t.the(n,mr("accessService"),null);if(t.the(r,Ls("conformsTo"),null))return function $J(t,n,e){const r=t.the(n,mr("accessService"),null),s=t.the(r,Ls("conformsTo"),null),i=t.the(n,mr("accessURL"),null),o={},[a]=Pc(t,n,Ls("description"),null,"description",o,e),[l]=Pc(t,n,Ls("title"),null,"name",o,e);return{url:Y4(i?.value),type:"service",accessServiceProtocol:B6(s?.value),...null!==l&&{name:l},...null!==a&&{description:a},translations:o}}(t,n,e)}return t.holds(n,mr("downloadURL"),null)?function UJ(t,n,e){const r=t.the(n,mr("downloadURL"),null),s={},[i]=Pc(t,n,Ls("description"),null,"description",s,e),[o]=Pc(t,n,Ls("title"),null,"name",s,e);return{url:Y4(r?.value),type:"download",...null!==o&&{name:o},...null!==i&&{description:i},translations:s}}(t,n,e):function jJ(t,n,e){const r=t.the(n,mr("accessURL"),null),s={},[i]=Pc(t,n,Ls("description"),null,"description",s,e),[o]=Pc(t,n,Ls("title"),null,"name",s,e);return{url:Y4(r?.value),type:"link",...null!==o&&{name:o},...null!==i&&{description:i},translations:s}}(t,n,e)}(t,o.object,r))}function KJ(t,n){const e=Ia(t,n);return t.statementsMatching(e,Ls("spatial"),null).map(s=>{const i=t.the(s.object,mK("geometry"),null);return i?{geometry:JSON.parse(i.value)}:{description:s.object.value}}).filter(s=>!!s)}function JJ(t,n){const e=Ia(t,n);return t.statementsMatching(e,mr("keyword"),null).map(s=>({label:s.object.value,type:"theme"}))}function qJ(t,n){const e=Ia(t,n);return t.statementsMatching(e,mr("theme"),null).map(s=>t.the(s.object,vK("prefLabel"),null)?.value??s.object.value)}function QJ(t,n){const e=t.the(n,Ls("issued"),null)?.value;return e?new Date(e):null}function eq(t,n){const e=t.the(n,Ls("modified"),null)?.value;return e?new Date(e):new Date}function tq(t,n){const e=Ia(t,n),r=t.the(e,Ls("issued"),null)?.value;return r?new Date(r):null}function nq(t,n){const e=Ia(t,n),r=t.the(e,Ls("modified"),null)?.value;return r?new Date(r):null}function rq(t){const n=t.statementsMatching(null,Ls("publisher"),null);if(!n.length)return null;const e=n[0].object,r=t.the(e,A0("name"),null);return{name:r?r.value:e.value}}function sq(t,n){const e=Ia(t,n);return t.statementsMatching(e,mr("distribution"),null).map(s=>t.the(s.object,Ls("license"),null)).filter(s=>!!s).map(s=>function NJ(t){const n=/pddl|public domain dedication and licence/i.test(t),e=/odbl|open database license/i.test(t),r=/odc-by|opendatacommons.org\/licenses\/by/i.test(t),s=/cc-by-sa|creative.*commons.*(by-sa|attribution.*share-alike)/i.test(t),i=/cc-by|cc by|creative.*commons.*(by|attribution)/i.test(t),o=/cc.?0|creative.*commons.*(zero|0)/i.test(t),a=/etalab/i.test(t)&&/v2|2\.0/i.test(t),l=/etalab|open.?licence|licence.?ouverte/i.test(t);if(n)return{text:"Open Data Commons PDDL",url:new URL("https://opendatacommons.org/licenses/pddl/")};if(e)return{text:"Open Data Commons ODbL",url:new URL("https://opendatacommons.org/licenses/odbl/")};if(r)return{text:"Open Data Commons ODC-By",url:new URL("https://opendatacommons.org/licenses/by/")};if(s)return{text:"Creative Commons CC-BY-SA",url:new URL("https://creativecommons.org/licenses/by-sa/4.0/legalcode")};if(i)return{text:"Creative Commons CC-BY",url:new URL("https://creativecommons.org/licenses/by/4.0/legalcode")};if(o)return{text:"Creative Commons CC-0",url:new URL("https://creativecommons.org/publicdomain/zero/1.0/legalcode")};if(a)return{text:"Open Licence v2.0 (Etalab)",url:new URL("https://www.etalab.gouv.fr/wp-content/uploads/2017/04/ETALAB-Licence-Ouverte-v2.0.pdf")};if(l)return{text:"Open Licence (Etalab)",url:new URL("https://www.etalab.gouv.fr/wp-content/uploads/2014/05/Licence_Ouverte.pdf")};const c=/^https?:\/\//.test(t)?new URL(t):void 0;return{text:t,...c&&{url:c}}}(s.value)).filter((s,i,o)=>o.findIndex(a=>a.url?.toString()===s.url?.toString()&&a.text===s.text)===i)}function iq(t,n){const e=Ia(t,n),r=function FJ(t,n){return t.the(null,mr("record"),n)||t.the(null,Co("type"),mr("Catalog"))}(t,n);let s=t.statementsMatching(n,Ls("language"),null);if(!s.length&&e&&(s=t.statementsMatching(e,Ls("language"),null)),!s.length&&r&&(s=t.statementsMatching(r,Ls("language"),null)),!s.length)return null;let o=s[0].object.value.split("/").pop().toLowerCase();return 3===o.length&&(o=S4(o)??o),o.substring(0,2)}function nV(t,n,e){let r=n.the(null,Co("type"),mr("Dataset"));r||(r=R0(`${D0}dataset/${t.uniqueIdentifier}`),n.add(r,Co("type"),mr("Dataset")),n.add(e,A0("primaryTopic"),r));const s=function oq(t,n){if(t.holds(null,Co("type"),mr("Catalog")))return t.the(null,Co("type"),mr("Catalog"));const r=t.add(R0(`${D0}catalog`),Co("type"),mr("Catalog")).subject;return t.add(r,mr("record"),n),r}(n,e);return n.holds(s,mr("dataset"),r)||n.add(s,mr("dataset"),r),r}function aq(t,n,e){!function BJ(t,n,e,r){t.removeStatements(t.statementsMatching(n,e,null)),t.add(n,e,r8(r))}(n,e,Ls("identifier"),t.uniqueIdentifier)}function lq(t,n,e){Qz(n,nV(t,n,e),Ls("title"),t.title,t.translations?.title,t.defaultLanguage)}function cq(t,n,e){Qz(n,nV(t,n,e),Ls("description"),t.abstract,t.translations?.abstract,t.defaultLanguage)}function s8(t,n){for(const e in l0)if(n.startsWith(l0[e]))return[e,n.replace(l0[e],"")];for(const e in t.namespaces)if(n.startsWith(t.namespaces[e]))return[e,n.replace(t.namespaces[e],"")];return[null,n]}function rV(t,n){if(n instanceof qo)return new Us.XmlText(n.value);const e=t.the(n,Co("type"));if(!e)return null;const s=t.statementsMatching(n,null,null).filter(l=>l.predicate.value!==Co("type").value).map(l=>{if(l.object.toString()===l.subject.toString())return null;if(l.predicate.value===A0("primaryTopic").value||l.predicate.value===A0("topic").value||l.predicate.value===mr("servesDataset").value){const[p,v]=s8(t,l.predicate.value);return new Us.XmlElement(`${p}:${v}`,{"rdf:resource":l.object.value})}const[c,u]=s8(t,l.predicate.value),h=rV(t,l.object);if(!h)return new Us.XmlElement(`${c}:${u}`,{"rdf:resource":l.object.value},[]);const d=new Us.XmlElement(`${c}:${u}`,{},[h]);return l.object instanceof qo&&l.object.language&&(d.attributes["xml:lang"]=l.object.language),d}).filter(l=>!!l),[i,o]=s8(t,e.value);return new Us.XmlElement(`${i}:${o}`,n instanceof Ga?{}:{"rdf:about":n.value},s)}class K4 extends S_{constructor(n="application/rdf+xml",e=new x_){super(e),this.contentType=n,this.readers={uniqueIdentifier:PJ,title:kJ,abstract:OJ,contacts:GJ,contactsForResource:WJ,landingPage:ZJ,onlineResources:YJ,spatialExtents:KJ,keywords:JJ,topics:qJ,resourceIdentifier:()=>{},recordUpdated:eq,recordCreated:QJ,resourceUpdated:nq,resourceCreated:tq,ownerOrganization:rq,licenses:sq,defaultLanguage:iq,otherLanguages:()=>[],kind:()=>"dataset",recordPublished:()=>{},resourcePublished:()=>{},reuseType:()=>{},legalConstraints:()=>[],securityConstraints:()=>[],otherConstraints:()=>[],status:()=>"completed",updateFrequency:()=>"unknown",overviews:()=>[],lineage:()=>"",temporalExtents:()=>[],spatialRepresentation:()=>{},extras:()=>{},translations:()=>{}},this.writers={uniqueIdentifier:aq,title:lq,abstract:cq,kind:()=>{},ownerOrganization:()=>{},recordUpdated:()=>{},recordCreated:()=>{},recordPublished:()=>{},resourceIdentifier:()=>{},resourceUpdated:()=>{},resourceCreated:()=>{},resourcePublished:()=>{},reuseType:()=>{},contacts:()=>{},contactsForResource:()=>{},keywords:()=>{},topics:()=>{},licenses:()=>{},legalConstraints:()=>{},securityConstraints:()=>{},otherConstraints:()=>{},status:()=>{},updateFrequency:()=>{},spatialRepresentation:()=>{},overviews:()=>{},lineage:()=>{},onlineResources:()=>{},temporalExtents:()=>{},spatialExtents:()=>{},extras:()=>{},landingPage:()=>{},defaultLanguage:()=>{},otherLanguages:()=>{},translations:()=>{}}}readRecord(n){var e=this;return(0,Yo.A)(function*(){const r=qz();yield eV(r,n,e.contentType);const s=r.the(null,null,mr("CatalogRecord")),i={},o=e.readers.defaultLanguage(r,s,i,null),a=e.readers.uniqueIdentifier(r,s,i,o),l=e.readers.kind(r,s,i,o),c=e.readers.ownerOrganization(r,s,i,o),u=e.readers.title(r,s,i,o),h=e.readers.abstract(r,s,i,o),d=e.readers.contacts(r,s,i,o),p=e.readers.contactsForResource(r,s,i,o),v=e.readers.recordUpdated(r,s,i,o),b=e.readers.recordCreated(r,s,i,o),_=e.readers.recordPublished(r,s,i,o),z=e.readers.resourceCreated(r,s,i,o),N=e.readers.resourceUpdated(r,s,i,o),me=e.readers.resourcePublished(r,s,i,o),fe=e.readers.keywords(r,s,i,o),we=e.readers.topics(r,s,i,o),ee=e.readers.legalConstraints(r,s,i,o),Ie=e.readers.otherConstraints(r,s,i,o),Be=e.readers.securityConstraints(r,s,i,o),qe=e.readers.licenses(r,s,i,o),Je=e.readers.overviews(r,s,i,o),gt=e.readers.landingPage(r,s,i,o),rt=e.readers.otherLanguages(r,s,i,o);if("dataset"===l){const Ct=e.readers.status(r,s,i,o),jt=e.readers.spatialRepresentation(r,s,i,o),Tt=e.readers.spatialExtents(r,s,i,o),xt=e.readers.temporalExtents(r,s,i,o);return{uniqueIdentifier:a,kind:l,defaultLanguage:o,otherLanguages:rt,...b&&{recordCreated:b},..._&&{recordPublished:_},recordUpdated:v,...z&&{resourceCreated:z},...N&&{resourceUpdated:N},...me&&{resourcePublished:me},status:Ct,title:u,abstract:h,ownerOrganization:c,contacts:d,contactsForResource:p,keywords:fe,topics:we,licenses:qe,legalConstraints:ee,securityConstraints:Be,otherConstraints:Ie,lineage:e.readers.lineage(r,s,i,o),...jt&&{spatialRepresentation:jt},overviews:Je,spatialExtents:Tt,temporalExtents:xt,onlineResources:e.readers.onlineResources(r,s,i,o),updateFrequency:e.readers.updateFrequency(r,s,i,o),...gt&&{landingPage:gt},translations:i}}return{uniqueIdentifier:a,kind:l,defaultLanguage:o,otherLanguages:rt,...b&&{recordCreated:b},..._&&{recordPublished:_},recordUpdated:v,...z&&{resourceCreated:z},...N&&{resourceUpdated:N},...me&&{resourcePublished:me},title:u,abstract:h,ownerOrganization:c,contacts:d,contactsForResource:p,keywords:fe,topics:we,licenses:qe,legalConstraints:ee,securityConstraints:Be,otherConstraints:Ie,overviews:Je,onlineResources:e.readers.onlineResources(r,s,i,o),...gt&&{landingPage:gt},translations:i}})()}writeRecord(n,e){var r=this;return(0,Yo.A)(function*(){const s=qz();let i;if(e){const a=yield r.readRecord(e);let l;yield eV(s,e,r.contentType,mr("CatalogRecord").value),i=c=>null===a||!r4(n[c],a[c])||l&&M_(c),l=i("otherLanguages")}else i=()=>!0;let o=s.the(null,Co("type"),mr("CatalogRecord"));return o||(o=s.add(R0(`${D0}record/${n.uniqueIdentifier}`),Co("type"),mr("CatalogRecord")).subject),i("uniqueIdentifier")&&r.writers.uniqueIdentifier(n,s,o),i("kind")&&r.writers.kind(n,s,o),i("defaultLanguage")&&r.writers.defaultLanguage(n,s,o),i("contacts")&&r.writers.contacts(n,s,o),i("ownerOrganization")&&r.writers.ownerOrganization(n,s,o),i("recordUpdated")&&r.writers.recordUpdated(n,s,o),i("recordCreated")&&r.writers.recordCreated(n,s,o),i("recordPublished")&&r.writers.recordPublished(n,s,o),i("title")&&r.writers.title(n,s,o),i("abstract")&&r.writers.abstract(n,s,o),i("resourceCreated")&&r.writers.resourceCreated(n,s,o),i("resourcePublished")&&r.writers.resourcePublished(n,s,o),i("resourceUpdated")&&r.writers.resourceUpdated(n,s,o),i("contactsForResource")&&r.writers.contactsForResource(n,s,o),i("keywords")&&r.writers.keywords(n,s,o),i("topics")&&r.writers.topics(n,s,o),i("legalConstraints")&&r.writers.legalConstraints(n,s,o),i("securityConstraints")&&r.writers.securityConstraints(n,s,o),i("licenses")&&r.writers.licenses(n,s,o),i("otherConstraints")&&r.writers.otherConstraints(n,s,o),i("onlineResources")&&r.writers.onlineResources(n,s,o),"dataset"===n.kind&&(i("status")&&r.writers.status(n,s,o),i("updateFrequency")&&r.writers.updateFrequency(n,s,o),i("spatialRepresentation")&&r.writers.spatialRepresentation(n,s,o),i("overviews")&&r.writers.overviews(n,s,o),i("temporalExtents")&&r.writers.temporalExtents(n,s,o),i("lineage")&&r.writers.lineage(n,s,o)),i("otherLanguages")&&r.writers.otherLanguages(n,s,o),r.contentType.includes("xml")?function uq(t){let n=t.statementsMatching(null,Co("type"),mr("Catalog"))[0]?.subject;if(!n){const r=t.the(null,Co("type"),mr("CatalogRecord")),s=t.the(null,Co("type"),mr("Dataset"));n=t.add(R0(`${D0}catalog`),Co("type"),mr("Catalog")).subject,t.add(n,mr("record"),r),t.add(n,mr("dataset"),s)}const e=new Us.XmlElement("rdf:RDF",{},[rV(t,n)]);for(const r in t.namespaces)e.attributes[`xmlns:${r}`]=t.namespaces[r];return a0(R6(e))}(s):s.serialize(void 0,r.contentType,null,{})})()}}function sV(t){if(t.indexOf("mdb:MD_Metadata")>0)return new D9;if(t.indexOf("gmd:MD_Metadata")>0)return new M9;if(/@prefix\s*[a-z]+\s*:\s*<http:\/\/www\.w3\.org\/ns\/dcat#>\s*\./.test(t))return new K4("text/turtle");if(/xmlns:[a-z]+="http:\/\/www\.w3\.org\/ns\/dcat#"/.test(t))return new K4("application/rdf+xml");if(/"[a-zA-Z]+"\s*:\s*"http:\/\/www\.w3\.org\/ns\/dcat#/.test(t))return new K4("application/ld+json");throw new Error(`No suitable converter found for the following document:\n${t.substring(0,400)}...`)}function i8(t){return t[t.length-1]}function iV(t){return function hq(t){return t&&ln(t.schedule)}(i8(t))?t.pop():void 0}function kc(t){return this instanceof kc?(this.v=t,this):new kc(t)}function cV(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function c8(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(o){return new Promise(function(a,l){!function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}(a,l,(o=t[i](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const uV=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function hV(t){return ln(t?.then)}function dV(t){return ln(t[st])}function pV(t){return Symbol.asyncIterator&&ln(t?.[Symbol.asyncIterator])}function fV(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gV=function Pq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function vV(t){return ln(t?.[gV])}function mV(t){return function lV(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,r=e.apply(t,n||[]),i=[];return s=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(p){return function(v){return Promise.resolve(v).then(p,h)}}),s[Symbol.asyncIterator]=function(){return this},s;function a(p,v){r[p]&&(s[p]=function(b){return new Promise(function(_,z){i.push([p,b,_,z])>1||l(p,b)})},v&&(s[p]=v(s[p])))}function l(p,v){try{!function c(p){p.value instanceof kc?Promise.resolve(p.value.v).then(u,h):d(i[0][2],p)}(r[p](v))}catch(b){d(i[0][3],b)}}function u(p){l("next",p)}function h(p){l("throw",p)}function d(p,v){p(v),i.shift(),i.length&&l(i[0][0],i[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:s}=yield kc(e.read());if(s)return yield kc(void 0);yield yield kc(r)}}finally{e.releaseLock()}})}function wV(t){return ln(t?.getReader)}function bl(t){if(t instanceof Sn)return t;if(null!=t){if(dV(t))return function kq(t){return new Sn(n=>{const e=t[st]();if(ln(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(uV(t))return function Oq(t){return new Sn(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(hV(t))return function Gq(t){return new Sn(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,cn)})}(t);if(pV(t))return CV(t);if(vV(t))return function Wq(t){return new Sn(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(wV(t))return function Zq(t){return CV(mV(t))}(t)}throw fV(t)}function CV(t){return new Sn(n=>{(function jq(t,n){var e,r,s,i;return function oV(t,n,e,r){return new(e||(e=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):function s(i){return i instanceof e?i:new e(function(o){o(i)})}(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=cV(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(o){s={error:o}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(s)throw s.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Oc(t,n,e,r=0,s=!1){const i=n.schedule(function(){e(),s?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!s)return i}function yV(t,n=0){return Gs((e,r)=>{e.subscribe(R(r,s=>Oc(r,t,()=>r.next(s),n),()=>Oc(r,t,()=>r.complete(),n),s=>Oc(r,t,()=>r.error(s),n)))})}function IV(t,n=0){return Gs((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function AV(t,n){if(!t)throw new Error("Iterable cannot be null");return new Sn(e=>{Oc(e,n,()=>{const r=t[Symbol.asyncIterator]();Oc(e,n,()=>{r.next().then(s=>{s.done?e.complete():e.next(s.value)})},0,!0)})})}function J4(t,n){return n?function Jq(t,n){if(null!=t){if(dV(t))return function Uq(t,n){return bl(t).pipe(IV(n),yV(n))}(t,n);if(uV(t))return function Xq(t,n){return new Sn(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(hV(t))return function $q(t,n){return bl(t).pipe(IV(n),yV(n))}(t,n);if(pV(t))return AV(t,n);if(vV(t))return function Yq(t,n){return new Sn(e=>{let r;return Oc(e,n,()=>{r=t[gV](),Oc(e,n,()=>{let s,i;try{({value:s,done:i}=r.next())}catch(o){return void e.error(o)}i?e.complete():e.next(s)},0,!0)}),()=>ln(r?.return)&&r.return()})}(t,n);if(wV(t))return function Kq(t,n){return AV(mV(t),n)}(t,n)}throw fV(t)}(t,n):bl(t)}function Uh(...t){return J4(t,iV(t))}function q4(t,n,e=1/0){return ln(n)?q4((r,s)=>ie((i,o)=>n(r,i,s,o))(bl(t(r,s))),e):("number"==typeof n&&(e=n),Gs((r,s)=>function qq(t,n,e,r,s,i,o,a){const l=[];let c=0,u=0,h=!1;const d=()=>{h&&!l.length&&!c&&n.complete()},p=b=>c<r?v(b):l.push(b),v=b=>{i&&n.next(b),c++;let _=!1;bl(e(b,u++)).subscribe(R(n,z=>{s?.(z),i?p(z):n.next(z)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){const z=l.shift();o?Oc(n,o,()=>v(z)):v(z)}d()}catch(z){n.error(z)}}))};return t.subscribe(R(n,p,()=>{h=!0,d()})),()=>{a?.()}}(r,s,t,e)))}function bV(t,n){return ln(n)?q4(t,n,1):q4(t,1)}function xV(t){return Gs((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function h8(t,n){return Gs((e,r)=>{let s=null,i=0,o=!1;const a=()=>o&&!s&&r.complete();e.subscribe(R(r,l=>{s?.unsubscribe();let c=0;const u=i++;bl(t(l,u)).subscribe(s=R(r,h=>r.next(n?n(l,h,u,c++):h),()=>{s=null,a()}))},()=>{o=!0,a()}))})}class Q4{}class e5{}class qn{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const s=e.slice(0,r),i=s.toLowerCase(),o=e.slice(r+1).trim();this.maybeSetNormalizedName(s,i),this.headers.has(i)?this.headers.get(i).push(o):this.headers.set(i,[o])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof qn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new qn;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof qn?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const s=("a"===n.op?this.headers.get(e):void 0)||[];s.push(...r),this.headers.set(e,s);break;case"d":const i=n.value;if(i){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===i.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(i=>i.toString()),s=n.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(n,s)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class eQ{encodeKey(n){return SV(n)}encodeValue(n){return SV(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const nQ=/%(\d[a-f0-9])/gi,rQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function SV(t){return encodeURIComponent(t).replace(nQ,(n,e)=>rQ[e]??n)}function t5(t){return`${t}`}class Qe{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new eQ,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tQ(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(s=>{const i=s.indexOf("="),[o,a]=-1==i?[n.decodeKey(s),""]:[n.decodeKey(s.slice(0,i)),n.decodeValue(s.slice(i+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],s=Array.isArray(r)?r.map(t5):[t5(r)];this.map.set(e,s)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const s=n[r];Array.isArray(s)?s.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:s,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Qe({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(t5(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const s=r.indexOf(t5(n.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class sQ{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function MV(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function _V(t){return typeof Blob<"u"&&t instanceof Blob}function HV(t){return typeof FormData<"u"&&t instanceof FormData}class B0{constructor(n,e,r,s){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function iQ(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,i=s):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new qn,this.context??=new sQ,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Qe,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||MV(this.body)||_V(this.body)||HV(this.body)||function oQ(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HV(this.body)?null:_V(this.body)?this.body.type||null:MV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,s=n.responseType||this.responseType,i=n.transferCache??this.transferCache,o=void 0!==n.body?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress;let c=n.headers||this.headers,u=n.params||this.params;const h=n.context??this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce((d,p)=>d.set(p,n.setHeaders[p]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((d,p)=>d.set(p,n.setParams[p]),u)),new B0(e,r,o,{params:u,headers:c,context:h,reportProgress:l,responseType:s,withCredentials:a,transferCache:i})}}var Gc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Gc||{});class d8{constructor(n,e=200,r="OK"){this.headers=n.headers||new qn,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class n5 extends d8{constructor(n={}){super(n),this.type=Gc.ResponseHeader}clone(n={}){return new n5({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class su extends d8{constructor(n={}){super(n),this.type=Gc.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new su({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class $h extends d8{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function p8(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let Ar=(()=>{class t{constructor(e){this.handler=e}request(e,r,s={}){let i;if(e instanceof B0)i=e;else{let l,c;l=s.headers instanceof qn?s.headers:new qn(s.headers),s.params&&(c=s.params instanceof Qe?s.params:new Qe({fromObject:s.params})),i=new B0(e,r,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}const o=Uh(i).pipe(bV(l=>this.handler.handle(l)));if(e instanceof B0||"events"===s.observe)return o;const a=o.pipe(function Qq(t,n){return Gs((e,r)=>{let s=0;e.subscribe(R(r,i=>t.call(n,i,s++)&&r.next(i)))})}(l=>l instanceof su));switch(s.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(ie(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ie(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ie(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ie(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Qe).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,s={}){return this.request("PATCH",e,p8(s,r))}post(e,r,s={}){return this.request("POST",e,p8(s,r))}put(e,r,s={}){return this.request("PUT",e,p8(s,r))}static{this.\u0275fac=function(r){return new(r||t)(Ye(Q4))}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})();const cQ=/^\)\]\}',?\n/;function VV(t){if(t.url)return t.url;const n="X-Request-URL".toLocaleLowerCase();return t.headers.get(n)}let f8=(()=>{class t{constructor(){this.fetchImpl=ke(hQ,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=ke($r)}handle(e){return new Sn(r=>{const s=new AbortController;return this.doRequest(e,s.signal,r).then(g8,i=>r.error(new $h({error:i}))),()=>s.abort()})}doRequest(e,r,s){var i=this;return(0,Yo.A)(function*(){const o=i.createRequestInit(e);let a;try{const v=i.ngZone.runOutsideAngular(()=>i.fetchImpl(e.urlWithParams,{signal:r,...o}));(function dQ(t){t.then(g8,g8)})(v),s.next({type:Gc.Sent}),a=yield v}catch(v){return void s.error(new $h({error:v,status:v.status??0,statusText:v.statusText,url:e.urlWithParams,headers:v.headers}))}const l=new qn(a.headers),c=a.statusText,u=VV(a)??e.urlWithParams;let h=a.status,d=null;if(e.reportProgress&&s.next(new n5({headers:l,status:h,statusText:c,url:u})),a.body){const v=a.headers.get("content-length"),b=[],_=a.body.getReader();let N,me,z=0;const fe=typeof Zone<"u"&&Zone.current;yield i.ngZone.runOutsideAngular((0,Yo.A)(function*(){for(;;){const{done:ee,value:Ie}=yield _.read();if(ee)break;if(b.push(Ie),z+=Ie.length,e.reportProgress){me="text"===e.responseType?(me??"")+(N??=new TextDecoder).decode(Ie,{stream:!0}):void 0;const Be=()=>s.next({type:Gc.DownloadProgress,total:v?+v:void 0,loaded:z,partialText:me});fe?fe.run(Be):Be()}}}));const we=i.concatChunks(b,z);try{const ee=a.headers.get("Content-Type")??"";d=i.parseBody(e,we,ee)}catch(ee){return void s.error(new $h({error:ee,headers:new qn(a.headers),status:a.status,statusText:a.statusText,url:VV(a)??e.urlWithParams}))}}0===h&&(h=d?200:0),h>=200&&h<300?(s.next(new su({body:d,headers:l,status:h,statusText:c,url:u})),s.complete()):s.error(new $h({error:d,headers:l,status:h,statusText:c,url:u}))})()}parseBody(e,r,s){switch(e.responseType){case"json":const i=(new TextDecoder).decode(r).replace(cQ,"");return""===i?null:JSON.parse(i);case"text":return(new TextDecoder).decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(e){const r={},s=e.withCredentials?"include":void 0;if(e.headers.forEach((i,o)=>r[i]=o.join(",")),e.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){const i=e.detectContentTypeHeader();null!==i&&(r["Content-Type"]=i)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:s}}concatChunks(e,r){const s=new Uint8Array(r);let i=0;for(const o of e)s.set(o,i),i+=o.length;return s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})();class hQ{}function g8(){}function EV(t,n){return n(t)}function pQ(t,n){return(e,r)=>n.intercept(e,{handle:s=>t(s,r)})}const TV=new Pt(""),N0=new Pt(""),LV=new Pt(""),RV=new Pt("",{providedIn:"root",factory:()=>!0});function gQ(){let t=null;return(n,e)=>{null===t&&(t=(ke(TV,{optional:!0})??[]).reduceRight(pQ,EV));const r=ke(Dl);if(ke(RV)){const i=r.add();return t(n,e).pipe(xV(()=>r.remove(i)))}return t(n,e)}}let DV=(()=>{class t extends Q4{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=ke(Dl),this.contributeToStability=ke(RV)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(N0),...this.injector.get(LV,[])]));this.chain=r.reduceRight((s,i)=>function fQ(t,n,e){return(r,s)=>u3(e,()=>n(r,i=>t(i,s)))}(s,i,this.injector),EV)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(e,s=>this.backend.handle(s)).pipe(xV(()=>this.pendingTasks.remove(r)))}return this.chain(e,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(Ye(e5),Ye(ko))}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})();const yQ=/^\)\]\}',?\n/;let NV=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new $e(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?J4(r.\u0275loadImpl()):Uh(null)).pipe(h8(()=>new Sn(i=>{const o=r.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((b,_)=>o.setRequestHeader(b,_.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const b=e.detectContentTypeHeader();null!==b&&o.setRequestHeader("Content-Type",b)}if(e.responseType){const b=e.responseType.toLowerCase();o.responseType="json"!==b?b:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const b=o.statusText||"OK",_=new qn(o.getAllResponseHeaders()),z=function IQ(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new n5({headers:_,status:o.status,statusText:b,url:z}),l},u=()=>{let{headers:b,status:_,statusText:z,url:N}=c(),me=null;204!==_&&(me=typeof o.response>"u"?o.responseText:o.response),0===_&&(_=me?200:0);let fe=_>=200&&_<300;if("json"===e.responseType&&"string"==typeof me){const we=me;me=me.replace(yQ,"");try{me=""!==me?JSON.parse(me):null}catch(ee){me=we,fe&&(fe=!1,me={error:ee,text:me})}}fe?(i.next(new su({body:me,headers:b,status:_,statusText:z,url:N||void 0})),i.complete()):i.error(new $h({error:me,headers:b,status:_,statusText:z,url:N||void 0}))},h=b=>{const{url:_}=c(),z=new $h({error:b,status:o.status||0,statusText:o.statusText||"Unknown Error",url:_||void 0});i.error(z)};let d=!1;const p=b=>{d||(i.next(c()),d=!0);let _={type:Gc.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(_.total=b.total),"text"===e.responseType&&o.responseText&&(_.partialText=o.responseText),i.next(_)},v=b=>{let _={type:Gc.UploadProgress,loaded:b.loaded};b.lengthComputable&&(_.total=b.total),i.next(_)};return o.addEventListener("load",u),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),e.reportProgress&&(o.addEventListener("progress",p),null!==a&&o.upload&&o.upload.addEventListener("progress",v)),o.send(a),i.next({type:Gc.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",u),o.removeEventListener("timeout",h),e.reportProgress&&(o.removeEventListener("progress",p),null!==a&&o.upload&&o.upload.removeEventListener("progress",v)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(Ye(qM))}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})();const v8=new Pt(""),FV=new Pt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),PV=new Pt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class kV{}let xQ=(()=>{class t{constructor(e,r,s){this.doc=e,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=GM(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(Ye(Vc),Ye(al),Ye(FV))}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})();function SQ(t,n){const e=t.url.toLowerCase();if(!ke(v8)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const r=ke(kV).getToken(),s=ke(PV);return null!=r&&!t.headers.has(s)&&(t=t.clone({headers:t.headers.set(s,r)})),n(t)}var Wc=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Wc||{});function iu(t,n){return{\u0275kind:t,\u0275providers:n}}function MQ(...t){const n=[Ar,NV,DV,{provide:Q4,useExisting:DV},{provide:e5,useFactory:()=>ke(f8,{optional:!0})??ke(NV)},{provide:N0,useValue:SQ,multi:!0},{provide:v8,useValue:!0},{provide:kV,useClass:xQ}];for(const e of t)n.push(...e.\u0275providers);return qa(n)}const OV=new Pt("");function F0(t){return!!t&&(t instanceof Sn||ln(t.lift)&&ln(t.subscribe))}new Pt("basePath");const{isArray:qQ}=Array,{getPrototypeOf:QQ,prototype:eee,keys:tee}=Object;const{isArray:see}=Array;function aee(t,n){return t.reduce((e,r,s)=>(e[r]=n[s],e),{})}function YV(...t){const n=function dq(t){return ln(i8(t))?t.pop():void 0}(t),{args:e,keys:r}=function nee(t){if(1===t.length){const n=t[0];if(qQ(n))return{args:n,keys:null};if(function ree(t){return t&&"object"==typeof t&&QQ(t)===eee}(n)){const e=tee(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}(t),s=new Sn(i=>{const{length:o}=e;if(!o)return void i.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let h=!1;bl(e[u]).subscribe(R(i,d=>{h||(h=!0,c--),a[u]=d},()=>l--,void 0,()=>{(!l||!h)&&(c||i.next(r?aee(r,a):a),i.complete())}))}});return n?s.pipe(function oee(t){return ie(n=>function iee(t,n){return see(n)?t(...n):t(n)}(t,n))}(n)):s}function KV(...t){return function cee(){return function lee(t=1/0){return q4(qt,t)}(1)}()(J4(t,iV(t)))}function JV(t){return new Sn(n=>{bl(t()).subscribe(n)})}const qV=new Sn(t=>t.complete());function s5(t){return t<=0?()=>qV:Gs((n,e)=>{let r=0;n.subscribe(R(e,s=>{++r<=t&&(e.next(s),t<=r&&e.complete())}))})}const m8={now:()=>(m8.delegate||Date).now(),delegate:void 0};class hee extends qr{constructor(n=1/0,e=1/0,r=m8){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:i,_windowTime:o}=this;e||(r.push(n),!s&&r.push(i.now()+o)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:s}=this,i=s.slice();for(let o=0;o<i.length&&!n.closed;o+=r?1:2)n.next(i[o]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:s}=this,i=(s?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!s){const o=e.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function w8(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new Ee({next:()=>{r.unsubscribe(),t()}});return bl(n(...e)).subscribe(r)}function QV(t,n,e){let r,s=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:n=1/0,refCount:s=!1,scheduler:e}=t):r=t??1/0,function dee(t={}){const{connector:n=()=>new qr,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=t;return i=>{let o,a,l,c=0,u=!1,h=!1;const d=()=>{a?.unsubscribe(),a=void 0},p=()=>{d(),o=l=void 0,u=h=!1},v=()=>{const b=o;p(),b?.unsubscribe()};return Gs((b,_)=>{c++,!h&&!u&&d();const z=l=l??n();_.add(()=>{c--,0===c&&!h&&!u&&(a=w8(v,s))}),z.subscribe(_),!o&&c>0&&(o=new Ee({next:N=>z.next(N),error:N=>{h=!0,d(),a=w8(p,e,N),z.error(N)},complete:()=>{u=!0,d(),a=w8(p,r),z.complete()}}),bl(b).subscribe(o))})(i)}}({connector:()=>new hee(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}class i5{}let pee=(()=>{class t extends i5{getTranslation(e){return Uh({})}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ti(t)))(s||t)}})();static \u0275prov=Wt({token:t,factory:t.\u0275fac})}return t})();class eE{}let fee=(()=>{class t{handle(e){return e.key}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Wt({token:t,factory:t.\u0275fac})}return t})();function ou(t){return typeof t<"u"&&null!==t}function o5(t){return a5(t)&&!C8(t)&&null!==t}function a5(t){return"object"==typeof t}function C8(t){return Array.isArray(t)}function nE(t){return"string"==typeof t}function y8(t,n){const e=Object.assign({},t);return a5(t)?(a5(t)&&a5(n)&&Object.keys(n).forEach(r=>{o5(n[r])?r in t?e[r]=y8(t[r],n[r]):Object.assign(e,{[r]:n[r]}):Object.assign(e,{[r]:n[r]})}),e):y8({},n)}function I8(t,n){const e=n.split(".");n="";do{n+=e.shift(),ou(t)&&ou(t[n])&&(o5(t[n])||C8(t[n])||!e.length)?(t=t[n],n=""):e.length?n+=".":t=void 0}while(e.length);return t}class l5{}let rE=(()=>{class t extends l5{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,r){return nE(e)?this.interpolateString(e,r):function gee(t){return"function"==typeof t}(e)?this.interpolateFunction(e,r):void 0}interpolateFunction(e,r){return e(r)}interpolateString(e,r){return r?e.replace(this.templateMatcher,(s,i)=>{const o=I8(r,i);return ou(o)?o:s}):e}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ti(t)))(s||t)}})();static \u0275prov=Wt({token:t,factory:t.\u0275fac})}return t})();class Xh{}let mee=(()=>{class t extends Xh{compile(e,r){return e}compileTranslations(e,r){return e}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ti(t)))(s||t)}})();static \u0275prov=Wt({token:t,factory:t.\u0275fac})}return t})();class A8{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new ts;onLangChange=new ts;onDefaultLangChange=new ts}const sE=new Pt("ISOLATE_TRANSLATE_SERVICE"),iE=new Pt("USE_DEFAULT_LANG"),oE=new Pt("DEFAULT_LANGUAGE"),aE=new Pt("USE_EXTEND"),P0=t=>F0(t)?t:Uh(t);let b8=(()=>{class t{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(e){this.store.defaultLang=e}get currentLang(){return this.store.currentLang}set currentLang(e){this.store.currentLang=e}get langs(){return this.store.langs}set langs(e){this.store.langs=e}get translations(){return this.store.translations}set translations(e){this.store.translations=e}constructor(e,r,s,i,o,a=!0,l=!1,c=!1,u){this.store=e,this.currentLoader=r,this.compiler=s,this.parser=i,this.missingTranslationHandler=o,this.useDefaultLang=a,this.extend=c,l&&(this.store=new A8),u&&this.setDefaultLang(u)}setDefaultLang(e){if(e===this.defaultLang)return;const r=this.retrieveTranslations(e);typeof r<"u"?(null==this.defaultLang&&(this.defaultLang=e),r.pipe(s5(1)).subscribe(()=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(this.lastUseLanguage=e,e===this.currentLang)return Uh(this.translations[e]);this.currentLang||(this.currentLang=e);const r=this.retrieveTranslations(e);return F0(r)?(r.pipe(s5(1)).subscribe(()=>{this.changeLang(e)}),r):(this.changeLang(e),Uh(this.translations[e]))}changeLang(e){e===this.lastUseLanguage&&(this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e))}retrieveTranslations(e){if(typeof this.translations[e]>"u"||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}getTranslation(e){return this.loadAndCompileTranslations(e)}loadAndCompileTranslations(e){this.pending=!0;const r=this.currentLoader.getTranslation(e).pipe(QV(1),s5(1));return this.loadingTranslations=r.pipe(ie(s=>this.compiler.compileTranslations(s,e)),QV(1),s5(1)),this.loadingTranslations.subscribe({next:s=>{this.translations[e]=this.extend&&this.translations[e]?{...s,...this.translations[e]}:s,this.updateLangs(),this.pending=!1},error:s=>{this.pending=!1}}),r}setTranslation(e,r,s=!1){const i=this.compiler.compileTranslations(r,e);this.translations[e]=(s||this.extend)&&this.translations[e]?y8(this.translations[e],i):i,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){const r=e.filter(s=>!this.langs.includes(s));r.length>0&&(this.langs=[...this.langs,...r])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(e,r,s){let i;if(e&&(i=this.runInterpolation(I8(e,r),s)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.runInterpolation(I8(this.translations[this.defaultLang],r),s)),void 0===i){const o={key:r,translateService:this};typeof s<"u"&&(o.interpolateParams=s),i=this.missingTranslationHandler.handle(o)}return void 0!==i?i:r}runInterpolation(e,r){if(C8(e))return e.map(s=>this.runInterpolation(s,r));if(o5(e)){const s={};for(const i in e){const o=this.runInterpolation(e[i],r);void 0!==o&&(s[i]=o)}return s}return this.parser.interpolate(e,r)}getParsedResult(e,r,s){if(r instanceof Array){const i={};let o=!1;for(const l of r)i[l]=this.getParsedResultForKey(e,l,s),o=o||F0(i[l]);return o?YV(r.map(l=>P0(i[l]))).pipe(ie(l=>{const c={};return l.forEach((u,h)=>{c[r[h]]=u}),c})):i}return this.getParsedResultForKey(e,r,s)}get(e,r){if(!ou(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(bV(s=>P0(this.getParsedResult(s,e,r)))):P0(this.getParsedResult(this.translations[this.currentLang],e,r))}getStreamOnTranslationChange(e,r){if(!ou(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return KV(JV(()=>this.get(e,r)),this.onTranslationChange.pipe(h8(s=>{const i=this.getParsedResult(s.translations,e,r);return P0(i)})))}stream(e,r){if(!ou(e)||!e.length)throw new Error('Parameter "key" required');return KV(JV(()=>this.get(e,r)),this.onLangChange.pipe(h8(s=>{const i=this.getParsedResult(s.translations,e,r);return P0(i)})))}instant(e,r){if(!ou(e)||0===e.length)throw new Error('Parameter "key" is required and cannot be empty');const s=this.getParsedResult(this.translations[this.currentLang],e,r);return F0(s)?Array.isArray(e)?e.reduce((i,o)=>(i[o]=o,i),{}):e:s}set(e,r,s=this.currentLang){(function vee(t,n,e){const r=n.split(".");let s=t;for(let i=0;i<r.length;i++){const o=r[i];i===r.length-1?s[o]=e:((!s[o]||!o5(s[o]))&&(s[o]={}),s=s[o])}})(this.translations[s],e,nE(r)?this.compiler.compile(r,s):this.compiler.compileTranslations(r,s)),this.updateLangs(),this.onTranslationChange.emit({lang:s,translations:this.translations[s]})}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],delete this.translations[e]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(r){return new(r||t)(Ye(A8),Ye(i5),Ye(Xh),Ye(l5),Ye(eE),Ye(iE),Ye(sE),Ye(aE),Ye(oE))};static \u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const wee=(t={})=>qa([t.loader||{provide:i5,useClass:pee},t.compiler||{provide:Xh,useClass:mee},t.parser||{provide:l5,useClass:rE},t.missingTranslationHandler||{provide:eE,useClass:fee},A8,{provide:sE,useValue:t.isolate},{provide:iE,useValue:t.useDefaultLang},{provide:aE,useValue:t.extend},{provide:oE,useValue:t.defaultLanguage},b8]);var Cee=K(517);const yee=new Pt("MESSAGE_FORMAT_CONFIG"),Iee={biDiSupport:!1,formatters:{},strictNumberSign:!1,currency:"USD",strictPluralKeys:!0,throwOnError:!1,fallbackPrefix:void 0};let lE=(()=>{class t extends Xh{constructor(e){super(),this.mfCache=new Map;const{formatters:r,biDiSupport:s,strictNumberSign:i,currency:o,strictPluralKeys:a,throwOnError:l,fallbackPrefix:c}={...Iee,...e};this.messageFormatOptions={customFormatters:r,biDiSupport:s,strict:i,currency:o,strictPluralKeys:a},this.throwOnError=!!l,this.fallbackPrefix=c}compile(e,r){if(this.fallbackPrefix&&e.startsWith(this.fallbackPrefix))return e.slice(this.fallbackPrefix.length);let s;try{s=this.getMessageFormatInstance(r).compile(e)}catch(i){if(this.throwOnError)throw i;console.error(i),console.error(`[ngx-translate-messageformat-compiler] Could not compile message for lang '${r}': '${e}'`),s=function bee(t,n){return()=>(console.warn(`[ngx-translate-messageformat-compiler] Falling back to original invalid message: '${t}' ('${n}')`),String(t))}(e,r)}return this.throwOnError||(s=function Aee(t,n){return e=>{let r=n;try{r=t(e)}catch(s){console.error(s),console.error(`[ngx-translate-messageformat-compiler] Could not interpolate '${n}' with params '${e}'`)}return r}}(s,e)),s}compileTranslations(e,r){return"string"==typeof e?this.compile(e,r):Object.keys(e).reduce((s,i)=>(s[i]=this.compileTranslations(e[i],r),s),{})}getMessageFormatInstance(e){return this.mfCache.has(e)||this.mfCache.set(e,new Cee(e,this.messageFormatOptions)),this.mfCache.get(e)}static{this.\u0275fac=function(r){return new(r||t)(Ye(yee,8))}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})(),See=(()=>{class t{http;prefix;suffix;constructor(e,r="/assets/i18n/",s=".json"){this.http=e,this.prefix=r,this.suffix=s}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}static \u0275fac=function(r){return new(r||t)(Ye(Ar),Ye(String),Ye(String))};static \u0275prov=Wt({token:t,factory:t.\u0275fac})}return t})();function Mee(t){return Object.keys(t).reduce((n,e)=>t[e].trim().length?{...n,[e]:t[e]}:n,{})}class _ee extends See{getTranslation(n){const e=n.substring(0,2);return super.getTranslation(e).pipe(ie(Mee))}}const x8="en",Hee="geonetwork-ui-language",Vee={compiler:{provide:Xh,useClass:lE},loader:{provide:i5,useFactory:function zee(t){return new _ee(t,"./assets/i18n/")},deps:[Ar]}},Eee={compiler:{provide:Xh,useClass:lE},parser:{provide:l5,useClass:(()=>{class t extends rE{interpolate(e,r){return r?`${e} {{${Object.keys(r).map(i=>`${i}=${r[i]}`).join(", ")}}}`:e?.toString()}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ti(t)))(s||t)}})()}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})()}};let Tee=(()=>{class t{constructor(e){this.injector=e}intercept(e,r){const s=this.injector.get(b8);return e=e.clone({setHeaders:{"Accept-Language":s.currentLang||x8}}),r.handle(e)}static{this.\u0275fac=function(r){return new(r||t)(Ye(Fn))}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac})}}return t})();function Lee(t){return()=>{t.setDefaultLang(x8);let n=null;try{n=localStorage.getItem(Hee)}catch(e){console.warn(e)}t.use(n||t.getBrowserLang()||x8)}}function Ree(t,n=!0){let e=t??Vee;"true"===new URL(window.location.toString()).searchParams.get("debugTranslations")&&(e=Eee);const r=[MQ(iu(Wc.LegacyInterceptors,[{provide:OV,useFactory:gQ},{provide:N0,useExisting:OV,multi:!0}])),{provide:TV,useClass:Tee,multi:!0},wee(e)];return n&&r.push({provide:PS,useFactory:Lee,deps:[b8],multi:!0}),qa(r)}const c5={"ISO 19139":M9,"ISO 19115-3":D9,"DCAT-AP":K4};function cE(t){return Object.keys(c5).reduce((n,e)=>t instanceof c5[e]?e:n)}let Bee=(()=>{class t{constructor(){this.newRecordNative=new ts,this.newMetadata=new ts,this.currentConverter=null,this.status="Standing by."}set recordNative(e){this._currentRecord=e,this.convertRecordToXml(e)}set currentMetadata(e){const r=performance.now();this.status="Converting to CatalogRecord...",this.xmlToRecord(e).then(s=>{this._currentRecord=s,this.newRecordNative.emit(s),this.newMetadata.emit(e);const i=Math.round(performance.now()-r);this.status=`Converting to CatalogRecord... Done (${i} ms).`}).catch(s=>{this.status=`Converting to CatalogRecord... Failed: ${s instanceof Error?s.message:s}`,console.error(s)})}startLoadingFile(){this.status="Loading file from url..."}errorLoadingFile(e){this.status=`Loading file from url... Failed: ${e}`,console.error(e)}startReadingFile(){this.status="Reading file..."}errorReadingFile(){this.status="Reading file... Failed"}changeFormat(e){const r=c5[e];if(!r)throw new Error(`Metadata format ${e} not supported`);this.referenceMetadata="",this.convertRecordToXml(this._currentRecord,new r)}convertRecordToXml(e,r){const s=performance.now(),o=cE(r??this.currentConverter);this.status=`Converting to ${o}...`,this.newMetadata.emit(""),this.recordToXml(e,r).then(a=>{this.newMetadata.emit(a);const l=Math.round(performance.now()-s);this.status=`Converting to ${o}... Done (${l} ms).`}).catch(a=>{this.status=`Converting to ${o}... Failed: ${a instanceof Error?a.message:a}`,console.error(a)})}recordToXml(e,r){try{return this.currentConverter=r||(this.referenceMetadata?sV(this.referenceMetadata):new D9),this.currentConverter.writeRecord(e,this.referenceMetadata)}catch(s){return Promise.reject(s)}}xmlToRecord(e){try{return this.currentConverter=sV(e),this.currentConverter.readRecord(e)}catch(r){return Promise.reject(r)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=So({type:t,selectors:[["gn-ui-status"]],inputs:{recordNative:"recordNative",currentMetadata:"currentMetadata",referenceMetadata:"referenceMetadata"},outputs:{newRecordNative:"newRecordNative",newMetadata:"newMetadata"},decls:2,vars:1,consts:[[1,"font-mono"]],template:function(r,s){1&r&&(Vt(0,"div",0),fo(1),Ht()),2&r&&(kt(),Mc("> ",s.status,""))}})}}return t})();const{min:Nee,max:Fee}=Math,au=(t,n=0,e=1)=>Nee(Fee(n,t),e),S8=t=>{t._clipped=!1,t._unclipped=t.slice(0);for(let n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=au(t[n],0,255)):3===n&&(t[n]=au(t[n],0,1));return t},uE={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])uE[`[object ${t}]`]=t.toLowerCase();function hr(t){return uE[Object.prototype.toString.call(t)]||"object"}const rr=(t,n=null)=>t.length>=3?Array.prototype.slice.call(t):"object"==hr(t[0])&&n?n.split("").filter(e=>void 0!==t[0][e]).map(e=>t[0][e]):t[0].slice(0),Yh=t=>{if(t.length<2)return null;const n=t.length-1;return"string"==hr(t[n])?t[n].toLowerCase():null},{PI:u5,min:hE,max:dE}=Math,Aa=t=>Math.round(100*t)/100,M8=t=>Math.round(100*t)/100,Yl=2*u5,_8=u5/3,Pee=u5/180,kee=180/u5;function pE(t){return[...t.slice(0,3).reverse(),...t.slice(3)]}const er={format:{},autodetect:[]},Nt=class Oee{constructor(...n){const e=this;if("object"===hr(n[0])&&n[0].constructor&&n[0].constructor===this.constructor)return n[0];let r=Yh(n),s=!1;if(!r){s=!0,er.sorted||(er.autodetect=er.autodetect.sort((i,o)=>o.p-i.p),er.sorted=!0);for(let i of er.autodetect)if(r=i.test(...n),r)break}if(!er.format[r])throw new Error("unknown format: "+n);{const i=er.format[r].apply(null,s?n:n.slice(0,-1));e._rgb=S8(i)}3===e._rgb.length&&e._rgb.push(1)}toString(){return"function"==hr(this.hex)?this.hex():`[${this._rgb.join(",")}]`}},fE=(...t)=>new Nt(...t);fE.version="3.1.2";const br=fE,Kh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Wee=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Zee=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,gE=t=>{if(t.match(Wee)){(4===t.length||7===t.length)&&(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);const n=parseInt(t,16);return[n>>16,n>>8&255,255&n,1]}if(t.match(Zee)){(5===t.length||9===t.length)&&(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error(`unknown hex color: ${t}`)},{round:h5}=Math,vE=(...t)=>{let[n,e,r,s]=rr(t,"rgba"),i=Yh(t)||"auto";void 0===s&&(s=1),"auto"===i&&(i=s<1?"rgba":"rgb"),n=h5(n),e=h5(e),r=h5(r);let a="000000"+(n<<16|e<<8|r).toString(16);a=a.substr(a.length-6);let l="0"+h5(255*s).toString(16);switch(l=l.substr(l.length-2),i.toLowerCase()){case"rgba":return`#${a}${l}`;case"argb":return`#${l}${a}`;default:return`#${a}`}};Nt.prototype.name=function(){const t=vE(this._rgb,"rgb");for(let n of Object.keys(Kh))if(Kh[n]===t)return n.toLowerCase();return t},er.format.named=t=>{if(t=t.toLowerCase(),Kh[t])return gE(Kh[t]);throw new Error("unknown color name: "+t)},er.autodetect.push({p:5,test:(t,...n)=>{if(!n.length&&"string"===hr(t)&&Kh[t.toLowerCase()])return"named"}}),Nt.prototype.alpha=function(t,n=!1){return void 0!==t&&"number"===hr(t)?n?(this._rgb[3]=t,this):new Nt([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},Nt.prototype.clipped=function(){return this._rgb._clipped||!1};const k0={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},Jh=k0,jee=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Kl(t){const n=jee.get(String(t).toLowerCase());if(!n)throw new Error("unknown Lab illuminant "+t);k0.labWhitePoint=t,k0.Xn=n[0],k0.Zn=n[1]}function O0(){return k0.labWhitePoint}const H8=t=>{const n=Math.sign(t);return((t=Math.abs(t))<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)*n},mE=(t,n,e)=>{const{MtxAdaptMa:r,MtxAdaptMaI:s,MtxXYZ2RGB:i,RefWhiteRGB:o,Xn:a,Yn:l,Zn:c}=Jh,_=(o.X*r.m00+o.Y*r.m10+o.Z*r.m20)/(a*r.m00+l*r.m10+c*r.m20)*(t*r.m00+n*r.m10+e*r.m20),z=(o.X*r.m01+o.Y*r.m11+o.Z*r.m21)/(a*r.m01+l*r.m11+c*r.m21)*(t*r.m01+n*r.m11+e*r.m21),N=(o.X*r.m02+o.Y*r.m12+o.Z*r.m22)/(a*r.m02+l*r.m12+c*r.m22)*(t*r.m02+n*r.m12+e*r.m22),me=_*s.m00+z*s.m10+N*s.m20,fe=_*s.m01+z*s.m11+N*s.m21,we=_*s.m02+z*s.m12+N*s.m22;return[255*H8(me*i.m00+fe*i.m10+we*i.m20),255*H8(me*i.m01+fe*i.m11+we*i.m21),255*H8(me*i.m02+fe*i.m12+we*i.m22)]},z8=(...t)=>{t=rr(t,"lab");const[n,e,r]=t,[s,i,o]=((t,n,e)=>{const{kE:r,kK:s,kKE:i,Xn:o,Yn:a,Zn:l}=Jh,c=(t+16)/116,u=.002*n+c,h=c-.005*e,d=u*u*u,p=h*h*h;return[(d>r?d:(116*u-16)/s)*o,(t>i?Math.pow((t+16)/116,3):t/s)*a,(p>r?p:(116*h-16)/s)*l]})(n,e,r),[a,l,c]=mE(s,i,o);return[a,l,c,t.length>3?t[3]:1]};function V8(t){const n=Math.sign(t);return((t=Math.abs(t))<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4))*n}const wE=(t,n,e)=>{t=V8(t/255),n=V8(n/255),e=V8(e/255);const{MtxRGB2XYZ:r,MtxAdaptMa:s,MtxAdaptMaI:i,Xn:o,Yn:a,Zn:l,As:c,Bs:u,Cs:h}=Jh;let d=t*r.m00+n*r.m10+e*r.m20,p=t*r.m01+n*r.m11+e*r.m21,v=t*r.m02+n*r.m12+e*r.m22,N=d*s.m00+p*s.m10+v*s.m20,me=d*s.m01+p*s.m11+v*s.m21,fe=d*s.m02+p*s.m12+v*s.m22;return N*=(o*s.m00+a*s.m10+l*s.m20)/c,me*=(o*s.m01+a*s.m11+l*s.m21)/u,fe*=(o*s.m02+a*s.m12+l*s.m22)/h,d=N*i.m00+me*i.m10+fe*i.m20,p=N*i.m01+me*i.m11+fe*i.m21,v=N*i.m02+me*i.m12+fe*i.m22,[d,p,v]},E8=(...t)=>{const[n,e,r,...s]=rr(t,"rgb"),[i,o,a]=wE(n,e,r),[l,c,u]=function Yee(t,n,e){const{Xn:r,Yn:s,Zn:i,kE:o,kK:a}=Jh,l=t/r,c=n/s,u=e/i,h=l>o?Math.pow(l,1/3):(a*l+16)/116,d=c>o?Math.pow(c,1/3):(a*c+16)/116;return[116*d-16,500*(h-d),200*(d-(u>o?Math.pow(u,1/3):(a*u+16)/116))]}(i,o,a);return[l,c,u,...s.length>0&&s[0]<1?[s[0]]:[]]};Nt.prototype.lab=function(){return E8(this._rgb)},Object.assign(br,{lab:(...t)=>new Nt(...t,"lab"),getLabWhitePoint:O0,setLabWhitePoint:Kl}),er.format.lab=z8,er.autodetect.push({p:2,test:(...t)=>{if("array"===hr(t=rr(t,"lab"))&&3===t.length)return"lab"}}),Nt.prototype.darken=function(t=1){const e=this.lab();return e[0]-=Jh.Kn*t,new Nt(e,"lab").alpha(this.alpha(),!0)},Nt.prototype.brighten=function(t=1){return this.darken(-t)},Nt.prototype.darker=Nt.prototype.darken,Nt.prototype.brighter=Nt.prototype.brighten,Nt.prototype.get=function(t){const[n,e]=t.split("."),r=this[n]();if(e){const s=n.indexOf(e)-("ok"===n.substr(0,2)?2:0);if(s>-1)return r[s];throw new Error(`unknown channel ${e} in mode ${n}`)}return r};const{pow:Kee}=Math;Nt.prototype.luminance=function(t,n="rgb"){if(void 0!==t&&"number"===hr(t)){if(0===t)return new Nt([0,0,0,this._rgb[3]],"rgb");if(1===t)return new Nt([255,255,255,this._rgb[3]],"rgb");let e=this.luminance(),r=20;const s=(o,a)=>{const l=o.interpolate(a,.5,n),c=l.luminance();return Math.abs(t-c)<1e-7||!r--?l:c>t?s(o,l):s(l,a)},i=(e>t?s(new Nt([0,0,0]),this):s(this,new Nt([255,255,255]))).rgb();return new Nt([...i,this._rgb[3]])}return Qee(...this._rgb.slice(0,3))};const Qee=(t,n,e)=>.2126*(t=T8(t))+.7152*(n=T8(n))+.0722*T8(e),T8=t=>(t/=255)<=.03928?t/12.92:Kee((t+.055)/1.055,2.4),eo={},qh=(t,n,e=.5,...r)=>{let s=r[0]||"lrgb";if(!eo[s]&&!r.length&&(s=Object.keys(eo)[0]),!eo[s])throw new Error(`interpolation mode ${s} is not defined`);return"object"!==hr(t)&&(t=new Nt(t)),"object"!==hr(n)&&(n=new Nt(n)),eo[s](t,n,e).alpha(t.alpha()+e*(n.alpha()-t.alpha()))};Nt.prototype.mix=Nt.prototype.interpolate=function(t,n=.5,...e){return qh(this,t,n,...e)},Nt.prototype.premultiply=function(t=!1){const n=this._rgb,e=n[3];return t?(this._rgb=[n[0]*e,n[1]*e,n[2]*e,e],this):new Nt([n[0]*e,n[1]*e,n[2]*e,e],"rgb")};const{sin:ete,cos:tte}=Math,CE=(...t)=>{let[n,e,r]=rr(t,"lch");return isNaN(r)&&(r=0),r*=Pee,[n,tte(r)*e,ete(r)*e]},L8=(...t)=>{t=rr(t,"lch");const[n,e,r]=t,[s,i,o]=CE(n,e,r),[a,l,c]=z8(s,i,o);return[a,l,c,t.length>3?t[3]:1]},{sqrt:rte,atan2:ste,round:ite}=Math,yE=(...t)=>{const[n,e,r]=rr(t,"lab"),s=rte(e*e+r*r);let i=(ste(r,e)*kee+360)%360;return 0===ite(1e4*s)&&(i=Number.NaN),[n,s,i]},R8=(...t)=>{const[n,e,r,...s]=rr(t,"rgb"),[i,o,a]=E8(n,e,r),[l,c,u]=yE(i,o,a);return[l,c,u,...s.length>0&&s[0]<1?[s[0]]:[]]};Nt.prototype.lch=function(){return R8(this._rgb)},Nt.prototype.hcl=function(){return pE(R8(this._rgb))},Object.assign(br,{lch:(...t)=>new Nt(...t,"lch"),hcl:(...t)=>new Nt(...t,"hcl")}),er.format.lch=L8,er.format.hcl=(...t)=>{const n=pE(rr(t,"hcl"));return L8(...n)},["lch","hcl"].forEach(t=>er.autodetect.push({p:2,test:(...n)=>{if("array"===hr(n=rr(n,t))&&3===n.length)return t}})),Nt.prototype.saturate=function(t=1){const e=this.lch();return e[1]+=Jh.Kn*t,e[1]<0&&(e[1]=0),new Nt(e,"lch").alpha(this.alpha(),!0)},Nt.prototype.desaturate=function(t=1){return this.saturate(-t)},Nt.prototype.set=function(t,n,e=!1){const[r,s]=t.split("."),i=this[r]();if(s){const o=r.indexOf(s)-("ok"===r.substr(0,2)?2:0);if(o>-1){if("string"==hr(n))switch(n.charAt(0)){case"+":case"-":i[o]+=+n;break;case"*":i[o]*=+n.substr(1);break;case"/":i[o]/=+n.substr(1);break;default:i[o]=+n}else{if("number"!==hr(n))throw new Error("unsupported value for Color.set");i[o]=n}const a=new Nt(i,r);return e?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${s} in mode ${r}`)}return i},Nt.prototype.tint=function(t=.5,...n){return qh(this,"white",t,...n)},Nt.prototype.shade=function(t=.5,...n){return qh(this,"black",t,...n)},eo.rgb=(t,n,e)=>{const r=t._rgb,s=n._rgb;return new Nt(r[0]+e*(s[0]-r[0]),r[1]+e*(s[1]-r[1]),r[2]+e*(s[2]-r[2]),"rgb")};const{sqrt:D8,pow:Qh}=Math;eo.lrgb=(t,n,e)=>{const[r,s,i]=t._rgb,[o,a,l]=n._rgb;return new Nt(D8(Qh(r,2)*(1-e)+Qh(o,2)*e),D8(Qh(s,2)*(1-e)+Qh(a,2)*e),D8(Qh(i,2)*(1-e)+Qh(l,2)*e),"rgb")},eo.lab=(t,n,e)=>{const r=t.lab(),s=n.lab();return new Nt(r[0]+e*(s[0]-r[0]),r[1]+e*(s[1]-r[1]),r[2]+e*(s[2]-r[2]),"lab")};const e2=(t,n,e,r)=>{let s,i,o,a,l,c,u,h,d,p,v,b;return"hsl"===r?(s=t.hsl(),i=n.hsl()):"hsv"===r?(s=t.hsv(),i=n.hsv()):"hcg"===r?(s=t.hcg(),i=n.hcg()):"hsi"===r?(s=t.hsi(),i=n.hsi()):"lch"===r||"hcl"===r?(r="hcl",s=t.hcl(),i=n.hcl()):"oklch"===r&&(s=t.oklch().reverse(),i=n.oklch().reverse()),("h"===r.substr(0,1)||"oklch"===r)&&([o,l,u]=s,[a,c,h]=i),isNaN(o)||isNaN(a)?isNaN(o)?isNaN(a)?p=Number.NaN:(p=a,(1==u||0==u)&&"hsv"!=r&&(d=c)):(p=o,(1==h||0==h)&&"hsv"!=r&&(d=l)):(b=a>o&&a-o>180?a-(o+360):a<o&&o-a>180?a+360-o:a-o,p=o+e*b),void 0===d&&(d=l+e*(c-l)),v=u+e*(h-u),new Nt("oklch"===r?[v,d,p]:[p,d,v],r)},IE=(t,n,e)=>e2(t,n,e,"lch");eo.lch=IE,eo.hcl=IE,Nt.prototype.num=function(){return((...t)=>{const[n,e,r]=rr(t,"rgb");return(n<<16)+(e<<8)+r})(this._rgb)},Object.assign(br,{num:(...t)=>new Nt(...t,"num")}),er.format.num=t=>{if("number"==hr(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},er.autodetect.push({p:5,test:(...t)=>{if(1===t.length&&"number"===hr(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}}),eo.num=(t,n,e)=>{const r=t.num(),s=n.num();return new Nt(r+e*(s-r),"num")};const{floor:dte}=Math;Nt.prototype.hcg=function(){return((...t)=>{const[n,e,r]=rr(t,"rgb"),s=hE(n,e,r),i=dE(n,e,r),o=i-s;let c;return 0===o?c=Number.NaN:(n===i&&(c=(e-r)/o),e===i&&(c=2+(r-n)/o),r===i&&(c=4+(n-e)/o),c*=60,c<0&&(c+=360)),[c,100*o/255,s/(255-o)*100]})(this._rgb)},br.hcg=(...t)=>new Nt(...t,"hcg"),er.format.hcg=(...t)=>{t=rr(t,"hcg");let s,i,o,[n,e,r]=t;r*=255;const a=255*e;if(0===e)s=i=o=r;else{360===n&&(n=0),n>360&&(n-=360),n<0&&(n+=360),n/=60;const l=dte(n),c=n-l,u=r*(1-e),h=u+a*(1-c),d=u+a*c,p=u+a;switch(l){case 0:[s,i,o]=[p,d,u];break;case 1:[s,i,o]=[h,p,u];break;case 2:[s,i,o]=[u,p,d];break;case 3:[s,i,o]=[u,h,p];break;case 4:[s,i,o]=[d,u,p];break;case 5:[s,i,o]=[p,u,h]}}return[s,i,o,t.length>3?t[3]:1]},er.autodetect.push({p:1,test:(...t)=>{if("array"===hr(t=rr(t,"hcg"))&&3===t.length)return"hcg"}}),eo.hcg=(t,n,e)=>e2(t,n,e,"hcg");const{cos:t2}=Math,{min:wte,sqrt:Cte,acos:yte}=Math;Nt.prototype.hsi=function(){return((...t)=>{let s,[n,e,r]=rr(t,"rgb");n/=255,e/=255,r/=255;const i=wte(n,e,r),o=(n+e+r)/3,a=o>0?1-i/o:0;return 0===a?s=NaN:(s=(n-e+(n-r))/2,s/=Cte((n-e)*(n-e)+(n-r)*(e-r)),s=yte(s),r>e&&(s=Yl-s),s/=Yl),[360*s,a,o]})(this._rgb)},br.hsi=(...t)=>new Nt(...t,"hsi"),er.format.hsi=(...t)=>{t=rr(t,"hsi");let s,i,o,[n,e,r]=t;return isNaN(n)&&(n=0),isNaN(e)&&(e=0),n>360&&(n-=360),n<0&&(n+=360),n/=360,n<1/3?(o=(1-e)/3,s=(1+e*t2(Yl*n)/t2(_8-Yl*n))/3,i=1-(o+s)):n<2/3?(n-=1/3,s=(1-e)/3,i=(1+e*t2(Yl*n)/t2(_8-Yl*n))/3,o=1-(s+i)):(n-=2/3,i=(1-e)/3,o=(1+e*t2(Yl*n)/t2(_8-Yl*n))/3,s=1-(i+o)),s=au(r*s*3),i=au(r*i*3),o=au(r*o*3),[255*s,255*i,255*o,t.length>3?t[3]:1]},er.autodetect.push({p:2,test:(...t)=>{if("array"===hr(t=rr(t,"hsi"))&&3===t.length)return"hsi"}}),eo.hsi=(t,n,e)=>e2(t,n,e,"hsi");const B8=(...t)=>{t=rr(t,"hsl");const[n,e,r]=t;let s,i,o;if(0===e)s=i=o=255*r;else{const a=[0,0,0],l=[0,0,0],c=r<.5?r*(1+e):r+e-r*e,u=2*r-c,h=n/360;a[0]=h+1/3,a[1]=h,a[2]=h-1/3;for(let d=0;d<3;d++)a[d]<0&&(a[d]+=1),a[d]>1&&(a[d]-=1),l[d]=6*a[d]<1?u+6*(c-u)*a[d]:2*a[d]<1?c:3*a[d]<2?u+(c-u)*(2/3-a[d])*6:u;[s,i,o]=[255*l[0],255*l[1],255*l[2]]}return t.length>3?[s,i,o,t[3]]:[s,i,o,1]},AE=(...t)=>{t=rr(t,"rgba");let[n,e,r]=t;n/=255,e/=255,r/=255;const s=hE(n,e,r),i=dE(n,e,r),o=(i+s)/2;let a,l;return i===s?(a=0,l=Number.NaN):a=o<.5?(i-s)/(i+s):(i-s)/(2-i-s),n==i?l=(e-r)/(i-s):e==i?l=2+(r-n)/(i-s):r==i&&(l=4+(n-e)/(i-s)),l*=60,l<0&&(l+=360),t.length>3&&void 0!==t[3]?[l,a,o,t[3]]:[l,a,o]};Nt.prototype.hsl=function(){return AE(this._rgb)},br.hsl=(...t)=>new Nt(...t,"hsl"),er.format.hsl=B8,er.autodetect.push({p:2,test:(...t)=>{if("array"===hr(t=rr(t,"hsl"))&&3===t.length)return"hsl"}}),eo.hsl=(t,n,e)=>e2(t,n,e,"hsl");const{floor:Mte}=Math,{min:Hte,max:zte}=Math;function d5(t,n){let e=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(n[0])||(n=n.map(o=>[o]));let r=n[0].length,s=n[0].map((o,a)=>n.map(l=>l[a])),i=t.map(o=>s.map(a=>Array.isArray(o)?o.reduce((l,c,u)=>l+c*(a[u]||0),0):a.reduce((l,c)=>l+c*o,0)));return 1===e&&(i=i[0]),1===r?i.map(o=>o[0]):i}Nt.prototype.hsv=function(){return((...t)=>{t=rr(t,"rgb");let[n,e,r]=t;const s=Hte(n,e,r),i=zte(n,e,r),o=i-s;let a,l,c;return c=i/255,0===i?(a=Number.NaN,l=0):(l=o/i,n===i&&(a=(e-r)/o),e===i&&(a=2+(r-n)/o),r===i&&(a=4+(n-e)/o),a*=60,a<0&&(a+=360)),[a,l,c]})(this._rgb)},br.hsv=(...t)=>new Nt(...t,"hsv"),er.format.hsv=(...t)=>{t=rr(t,"hsv");let s,i,o,[n,e,r]=t;if(r*=255,0===e)s=i=o=r;else{360===n&&(n=0),n>360&&(n-=360),n<0&&(n+=360),n/=60;const a=Mte(n),l=n-a,c=r*(1-e),u=r*(1-e*l),h=r*(1-e*(1-l));switch(a){case 0:[s,i,o]=[r,h,c];break;case 1:[s,i,o]=[u,r,c];break;case 2:[s,i,o]=[c,r,h];break;case 3:[s,i,o]=[c,u,r];break;case 4:[s,i,o]=[h,c,r];break;case 5:[s,i,o]=[r,c,u]}}return[s,i,o,t.length>3?t[3]:1]},er.autodetect.push({p:2,test:(...t)=>{if("array"===hr(t=rr(t,"hsv"))&&3===t.length)return"hsv"}}),eo.hsv=(t,n,e)=>e2(t,n,e,"hsv");const N8=(...t)=>{t=rr(t,"lab");const[n,e,r,...s]=t,[i,o,a]=function Rte(t){var r=d5([[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],t);return d5([[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],r.map(s=>s**3))}([n,e,r]),[l,c,u]=mE(i,o,a);return[l,c,u,...s.length>0&&s[0]<1?[s[0]]:[]]};function Bte(t){const r=d5([[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],t);return d5([[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r.map(s=>Math.cbrt(s)))}const F8=(...t)=>{const[n,e,r,...s]=rr(t,"rgb");return[...Bte(wE(n,e,r)),...s.length>0&&s[0]<1?[s[0]]:[]]};Nt.prototype.oklab=function(){return F8(this._rgb)},Object.assign(br,{oklab:(...t)=>new Nt(...t,"oklab")}),er.format.oklab=N8,er.autodetect.push({p:2,test:(...t)=>{if("array"===hr(t=rr(t,"oklab"))&&3===t.length)return"oklab"}}),eo.oklab=(t,n,e)=>{const r=t.oklab(),s=n.oklab();return new Nt(r[0]+e*(s[0]-r[0]),r[1]+e*(s[1]-r[1]),r[2]+e*(s[2]-r[2]),"oklab")},eo.oklch=(t,n,e)=>e2(t,n,e,"oklch");const{pow:P8,sqrt:k8,PI:O8,cos:bE,sin:xE,atan2:Pte}=Math,{pow:Gte}=Math;function p5(t){let n="rgb",e=br("#ccc"),r=0,s=[0,1],i=[],o=[0,0],a=!1,l=[],c=!1,u=0,h=1,d=!1,p={},v=!0,b=1;const _=function(Ie){if((Ie=Ie||["#fff","#000"])&&"string"===hr(Ie)&&br.brewer&&br.brewer[Ie.toLowerCase()]&&(Ie=br.brewer[Ie.toLowerCase()]),"array"===hr(Ie)){1===Ie.length&&(Ie=[Ie[0],Ie[0]]),Ie=Ie.slice(0);for(let Be=0;Be<Ie.length;Be++)Ie[Be]=br(Ie[Be]);i.length=0;for(let Be=0;Be<Ie.length;Be++)i.push(Be/(Ie.length-1))}return we(),l=Ie};let N=Ie=>Ie,me=Ie=>Ie;const fe=function(Ie,Be){let qe,Je;if(null==Be&&(Be=!1),isNaN(Ie)||null===Ie)return e;Je=Be?Ie:a&&a.length>2?function(Ie){if(null!=a){const Be=a.length-1;let qe=0;for(;qe<Be&&Ie>=a[qe];)qe++;return qe-1}return 0}(Ie)/(a.length-2):h!==u?(Ie-u)/(h-u):1,Je=me(Je),Be||(Je=N(Je)),1!==b&&(Je=Gte(Je,b)),Je=o[0]+Je*(1-o[0]-o[1]),Je=au(Je,0,1);const gt=Math.floor(1e4*Je);if(v&&p[gt])qe=p[gt];else{if("array"===hr(l))for(let rt=0;rt<i.length;rt++){const Ct=i[rt];if(Je<=Ct){qe=l[rt];break}if(Je>=Ct&&rt===i.length-1){qe=l[rt];break}if(Je>Ct&&Je<i[rt+1]){Je=(Je-Ct)/(i[rt+1]-Ct),qe=br.interpolate(l[rt],l[rt+1],Je,n);break}}else"function"===hr(l)&&(qe=l(Je));v&&(p[gt]=qe)}return qe};var we=()=>p={};_(t);const ee=function(Ie){const Be=br(fe(Ie));return c&&Be[c]?Be[c]():Be};return ee.classes=function(Ie){if(null!=Ie){if("array"===hr(Ie))a=Ie,s=[Ie[0],Ie[Ie.length-1]];else{const Be=br.analyze(s);a=0===Ie?[Be.min,Be.max]:br.limits(Be,"e",Ie)}return ee}return a},ee.domain=function(Ie){if(!arguments.length)return s;u=Ie[0],h=Ie[Ie.length-1],i=[];const Be=l.length;if(Ie.length===Be&&u!==h)for(let qe of Array.from(Ie))i.push((qe-u)/(h-u));else{for(let qe=0;qe<Be;qe++)i.push(qe/(Be-1));if(Ie.length>2){const qe=Ie.map((gt,rt)=>rt/(Ie.length-1)),Je=Ie.map(gt=>(gt-u)/(h-u));Je.every((gt,rt)=>qe[rt]===gt)||(me=gt=>{if(gt<=0||gt>=1)return gt;let rt=0;for(;gt>=Je[rt+1];)rt++;return qe[rt]+(gt-Je[rt])/(Je[rt+1]-Je[rt])*(qe[rt+1]-qe[rt])})}}return s=[u,h],ee},ee.mode=function(Ie){return arguments.length?(n=Ie,we(),ee):n},ee.range=function(Ie,Be){return _(Ie),ee},ee.out=function(Ie){return c=Ie,ee},ee.spread=function(Ie){return arguments.length?(r=Ie,ee):r},ee.correctLightness=function(Ie){return null==Ie&&(Ie=!0),d=Ie,we(),N=d?function(Be){const qe=fe(0,!0).lab()[0],Je=fe(1,!0).lab()[0],gt=qe>Je;let rt=fe(Be,!0).lab()[0];const Ct=qe+(Je-qe)*Be;let jt=rt-Ct,Tt=0,xt=1,An=20;for(;Math.abs(jt)>.01&&An-- >0;)gt&&(jt*=-1),jt<0?(Tt=Be,Be+=.5*(xt-Be)):(xt=Be,Be+=.5*(Tt-Be)),rt=fe(Be,!0).lab()[0],jt=rt-Ct;return Be}:Be=>Be,ee},ee.padding=function(Ie){return null!=Ie?("number"===hr(Ie)&&(Ie=[Ie,Ie]),o=Ie,ee):o},ee.colors=function(Ie,Be){arguments.length<2&&(Be="hex");let qe=[];if(0===arguments.length)qe=l.slice(0);else if(1===Ie)qe=[ee(.5)];else if(Ie>1){const Je=s[0],gt=s[1]-Je;qe=function Wte(t,n,e){let r=[],s=t<n,i=e?s?n+1:n-1:n;for(let o=t;s?o<i:o>i;s?o++:o--)r.push(o);return r}(0,Ie,!1).map(rt=>ee(Je+rt/(Ie-1)*gt))}else{t=[];let Je=[];if(a&&a.length>2)for(let gt=1,rt=a.length,Ct=1<=rt;Ct?gt<rt:gt>rt;Ct?gt++:gt--)Je.push(.5*(a[gt-1]+a[gt]));else Je=s;qe=Je.map(gt=>ee(gt))}return br[Be]&&(qe=qe.map(Je=>Je[Be]())),qe},ee.cache=function(Ie){return null!=Ie?(v=Ie,ee):v},ee.gamma=function(Ie){return null!=Ie?(b=Ie,ee):b},ee.nodata=function(Ie){return null!=Ie?(e=br(Ie),ee):e},ee}const{round:SE}=Math;Nt.prototype.rgb=function(t=!0){return!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(SE)},Nt.prototype.rgba=function(t=!0){return this._rgb.slice(0,4).map((n,e)=>e<3?!1===t?n:SE(n):n)},Object.assign(br,{rgb:(...t)=>new Nt(...t,"rgb")}),er.format.rgb=(...t)=>{const n=rr(t,"rgba");return void 0===n[3]&&(n[3]=1),n},er.autodetect.push({p:3,test:(...t)=>{if("array"===hr(t=rr(t,"rgba"))&&(3===t.length||4===t.length&&"number"==hr(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});const ja=(t,n,e)=>{if(!ja[e])throw new Error("unknown blend mode "+e);return ja[e](t,n)},Zc=t=>(n,e)=>{const r=br(e).rgb(),s=br(n).rgb();return br.rgb(t(r,s))},jc=t=>(n,e)=>{const r=[];return r[0]=t(n[0],e[0]),r[1]=t(n[1],e[1]),r[2]=t(n[2],e[2]),r};ja.normal=Zc(jc(t=>t)),ja.multiply=Zc(jc((t,n)=>t*n/255)),ja.screen=Zc(jc((t,n)=>255*(1-(1-t/255)*(1-n/255)))),ja.overlay=Zc(jc((t,n)=>n<128?2*t*n/255:255*(1-2*(1-t/255)*(1-n/255)))),ja.darken=Zc(jc((t,n)=>t>n?n:t)),ja.lighten=Zc(jc((t,n)=>t>n?t:n)),ja.dodge=Zc(jc((t,n)=>255===t||(t=n/255*255/(1-t/255))>255?255:t)),ja.burn=Zc(jc((t,n)=>255*(1-(1-n/255)/(t/255))));const tne=ja,{pow:nne,sin:rne,cos:sne}=Math,{floor:ane,random:lne}=Math,{log:ME,pow:une,floor:hne,abs:dne}=Math;function _E(t,n=null){const e={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===hr(t)&&(t=Object.values(t)),t.forEach(r=>{n&&"object"===hr(r)&&(r=r[n]),null!=r&&!isNaN(r)&&(e.values.push(r),e.sum+=r,r<e.min&&(e.min=r),r>e.max&&(e.max=r),e.count+=1)}),e.domain=[e.min,e.max],e.limits=(r,s)=>HE(e,r,s),e}function HE(t,n="equal",e=7){"array"==hr(t)&&(t=_E(t));const{min:r,max:s}=t,i=t.values.sort((a,l)=>a-l);if(1===e)return[r,s];const o=[];if("c"===n.substr(0,1)&&(o.push(r),o.push(s)),"e"===n.substr(0,1)){o.push(r);for(let a=1;a<e;a++)o.push(r+a/e*(s-r));o.push(s)}else if("l"===n.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const a=Math.LOG10E*ME(r),l=Math.LOG10E*ME(s);o.push(r);for(let c=1;c<e;c++)o.push(une(10,a+c/e*(l-a)));o.push(s)}else if("q"===n.substr(0,1)){o.push(r);for(let a=1;a<e;a++){const l=(i.length-1)*a/e,c=hne(l);if(c===l)o.push(i[c]);else{const u=l-c;o.push(i[c]*(1-u)+i[c+1]*u)}}o.push(s)}else if("k"===n.substr(0,1)){let a;const l=i.length,c=new Array(l),u=new Array(e);let h=!0,d=0,p=null;p=[],p.push(r);for(let _=1;_<e;_++)p.push(r+_/e*(s-r));for(p.push(s);h;){for(let z=0;z<e;z++)u[z]=0;for(let z=0;z<l;z++){const N=i[z];let fe,me=Number.MAX_VALUE;for(let we=0;we<e;we++){const ee=dne(p[we]-N);ee<me&&(me=ee,fe=we),u[fe]++,c[z]=fe}}const _=new Array(e);for(let z=0;z<e;z++)_[z]=null;for(let z=0;z<l;z++)a=c[z],null===_[a]?_[a]=i[z]:_[a]+=i[z];for(let z=0;z<e;z++)_[z]*=1/u[z];h=!1;for(let z=0;z<e;z++)if(_[z]!==p[z]){h=!0;break}p=_,d++,d>200&&(h=!1)}const v={};for(let _=0;_<e;_++)v[_]=[];for(let _=0;_<l;_++)a=c[_],v[a].push(i[_]);let b=[];for(let _=0;_<e;_++)b.push(v[_][0]),b.push(v[_][v[_].length-1]);b=b.sort((_,z)=>_-z),o.push(b[0]);for(let _=1;_<b.length;_+=2){const z=b[_];!isNaN(z)&&-1===o.indexOf(z)&&o.push(z)}}return o}const f5=.022;function TE(t,n,e){return.2126729*Math.pow(t/255,2.4)+.7151522*Math.pow(n/255,2.4)+.072175*Math.pow(e/255,2.4)}const{sqrt:Jl,pow:wi,min:mne,max:wne,atan2:LE,abs:RE,cos:g5,sin:DE,exp:Cne,PI:BE}=Math,bne={cool:()=>p5([br.hsl(180,1,.9),br.hsl(250,.7,.4)]),hot:()=>p5(["#000","#f00","#ff0","#fff"]).mode("rgb")},G8={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},NE=Object.keys(G8),FE=new Map(NE.map(t=>[t.toLowerCase(),t])),xne="function"==typeof Proxy?new Proxy(G8,{get(t,n){const e=n.toLowerCase();if(FE.has(e))return t[FE.get(e)]},getOwnPropertyNames:()=>Object.getOwnPropertyNames(NE)}):G8,{max:PE}=Math;Nt.prototype.cmyk=function(){return((...t)=>{let[n,e,r]=rr(t,"rgb");n/=255,e/=255,r/=255;const s=1-PE(n,PE(e,r)),i=s<1?1/(1-s):0;return[(1-n-s)*i,(1-e-s)*i,(1-r-s)*i,s]})(this._rgb)},Object.assign(br,{cmyk:(...t)=>new Nt(...t,"cmyk")}),er.format.cmyk=(...t)=>{t=rr(t,"cmyk");const[n,e,r,s]=t,i=t.length>4?t[4]:1;return 1===s?[0,0,0,i]:[n>=1?0:255*(1-n)*(1-s),e>=1?0:255*(1-e)*(1-s),r>=1?0:255*(1-r)*(1-s),i]},er.autodetect.push({p:2,test:(...t)=>{if("array"===hr(t=rr(t,"cmyk"))&&4===t.length)return"cmyk"}});const kE=(...t)=>{const[n,e,r,...s]=rr(t,"rgb"),[i,o,a]=F8(n,e,r),[l,c,u]=yE(i,o,a);return[l,c,u,...s.length>0&&s[0]<1?[s[0]]:[]]},{round:W8}=Math,OE=(...t)=>{t=rr(t,"lch");const[n,e,r,...s]=t,[i,o,a]=CE(n,e,r),[l,c,u]=N8(i,o,a);return[l,c,u,...s.length>0&&s[0]<1?[s[0]]:[]]},ql=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Ua=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,v5=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,ba=/\s*/.source,n2=/\s+/.source,Z8=/\s*,\s*/.source,m5=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,r2=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,GE=new RegExp("^rgba?\\("+ba+[ql,ql,ql].join(n2)+r2+"\\)$"),WE=new RegExp("^rgb\\("+ba+[ql,ql,ql].join(Z8)+ba+"\\)$"),ZE=new RegExp("^rgba\\("+ba+[ql,ql,ql,Ua].join(Z8)+ba+"\\)$"),jE=new RegExp("^hsla?\\("+ba+[m5,v5,v5].join(n2)+r2+"\\)$"),UE=new RegExp("^hsl?\\("+ba+[m5,v5,v5].join(Z8)+ba+"\\)$"),$E=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,XE=new RegExp("^lab\\("+ba+[Ua,Ua,Ua].join(n2)+r2+"\\)$"),YE=new RegExp("^lch\\("+ba+[Ua,Ua,m5].join(n2)+r2+"\\)$"),KE=new RegExp("^oklab\\("+ba+[Ua,Ua,Ua].join(n2)+r2+"\\)$"),JE=new RegExp("^oklch\\("+ba+[Ua,Ua,m5].join(n2)+r2+"\\)$"),{round:qE}=Math,s2=t=>t.map((n,e)=>e<=2?au(qE(n),0,255):n),Ci=(t,n=0,e=100,r=!1)=>("string"==typeof t&&t.endsWith("%")&&(t=parseFloat(t.substring(0,t.length-1))/100,t=r?n+.5*(t+1)*(e-n):n+t*(e-n)),+t),Io=(t,n)=>"none"===t?n:t,QE=t=>{if("transparent"===(t=t.toLowerCase().trim()))return[0,0,0,0];let n;if(er.format.named)try{return er.format.named(t)}catch{}if((n=t.match(GE))||(n=t.match(WE))){let e=n.slice(1,4);for(let s=0;s<3;s++)e[s]=+Ci(Io(e[s],0),0,255);e=s2(e);const r=void 0!==n[4]?+Ci(n[4],0,1):1;return e[3]=r,e}if(n=t.match(ZE)){const e=n.slice(1,5);for(let r=0;r<4;r++)e[r]=+Ci(e[r],0,255);return e}if((n=t.match(jE))||(n=t.match(UE))){const e=n.slice(1,4);e[0]=+Io(e[0].replace("deg",""),0),e[1]=.01*+Ci(Io(e[1],0),0,100),e[2]=.01*+Ci(Io(e[2],0),0,100);const r=s2(B8(e)),s=void 0!==n[4]?+Ci(n[4],0,1):1;return r[3]=s,r}if(n=t.match($E)){const e=n.slice(1,4);e[1]*=.01,e[2]*=.01;const r=B8(e);for(let s=0;s<3;s++)r[s]=qE(r[s]);return r[3]=+n[4],r}if(n=t.match(XE)){const e=n.slice(1,4);e[0]=Ci(Io(e[0],0),0,100),e[1]=Ci(Io(e[1],0),-125,125,!0),e[2]=Ci(Io(e[2],0),-125,125,!0);const r=O0();Kl("d50");const s=s2(z8(e));Kl(r);const i=void 0!==n[4]?+Ci(n[4],0,1):1;return s[3]=i,s}if(n=t.match(YE)){const e=n.slice(1,4);e[0]=Ci(e[0],0,100),e[1]=Ci(Io(e[1],0),0,150,!1),e[2]=+Io(e[2].replace("deg",""),0);const r=O0();Kl("d50");const s=s2(L8(e));Kl(r);const i=void 0!==n[4]?+Ci(n[4],0,1):1;return s[3]=i,s}if(n=t.match(KE)){const e=n.slice(1,4);e[0]=Ci(Io(e[0],0),0,1),e[1]=Ci(Io(e[1],0),-.4,.4,!0),e[2]=Ci(Io(e[2],0),-.4,.4,!0);const r=s2(N8(e)),s=void 0!==n[4]?+Ci(n[4],0,1):1;return r[3]=s,r}if(n=t.match(JE)){const e=n.slice(1,4);e[0]=Ci(Io(e[0],0),0,1),e[1]=Ci(Io(e[1],0),0,.4,!1),e[2]=+Io(e[2].replace("deg",""),0);const r=s2(OE(e)),s=void 0!==n[4]?+Ci(n[4],0,1):1;return r[3]=s,r}};QE.test=t=>GE.test(t)||jE.test(t)||XE.test(t)||YE.test(t)||KE.test(t)||JE.test(t)||WE.test(t)||ZE.test(t)||UE.test(t)||$E.test(t)||"transparent"===t;const eT=QE;Nt.prototype.css=function(t){return((...t)=>{const n=rr(t,"rgba");let e=Yh(t)||"rgb";if("hsl"===e.substr(0,3))return((...t)=>{const n=rr(t,"hsla");let e=Yh(t)||"lsa";return n[0]=Aa(n[0]||0)+"deg",n[1]=Aa(100*n[1])+"%",n[2]=Aa(100*n[2])+"%","hsla"===e||n.length>3&&n[3]<1?(n[3]="/ "+(n.length>3?n[3]:1),e="hsla"):n.length=3,`${e.substr(0,3)}(${n.join(" ")})`})(AE(n),e);if("lab"===e.substr(0,3)){const r=O0();Kl("d50");const s=((...t)=>{const n=rr(t,"lab");let e=Yh(t)||"lab";return n[0]=Aa(n[0])+"%",n[1]=Aa(n[1]),n[2]=Aa(n[2]),"laba"===e||n.length>3&&n[3]<1?n[3]="/ "+(n.length>3?n[3]:1):n.length=3,`lab(${n.join(" ")})`})(E8(n),e);return Kl(r),s}if("lch"===e.substr(0,3)){const r=O0();Kl("d50");const s=((...t)=>{const n=rr(t,"lch");let e=Yh(t)||"lab";return n[0]=Aa(n[0])+"%",n[1]=Aa(n[1]),n[2]=isNaN(n[2])?"none":Aa(n[2])+"deg","lcha"===e||n.length>3&&n[3]<1?n[3]="/ "+(n.length>3?n[3]:1):n.length=3,`lch(${n.join(" ")})`})(R8(n),e);return Kl(r),s}return"oklab"===e.substr(0,5)?((...t)=>{const n=rr(t,"lab");return n[0]=Aa(100*n[0])+"%",n[1]=M8(n[1]),n[2]=M8(n[2]),n.length>3&&n[3]<1?n[3]="/ "+(n.length>3?n[3]:1):n.length=3,`oklab(${n.join(" ")})`})(F8(n)):"oklch"===e.substr(0,5)?((...t)=>{const n=rr(t,"lch");return n[0]=Aa(100*n[0])+"%",n[1]=M8(n[1]),n[2]=isNaN(n[2])?"none":Aa(n[2])+"deg",n.length>3&&n[3]<1?n[3]="/ "+(n.length>3?n[3]:1):n.length=3,`oklch(${n.join(" ")})`})(kE(n)):(n[0]=W8(n[0]),n[1]=W8(n[1]),n[2]=W8(n[2]),("rgba"===e||n.length>3&&n[3]<1)&&(n[3]="/ "+(n.length>3?n[3]:1),e="rgba"),`${e.substr(0,3)}(${n.slice(0,"rgb"===e?3:4).join(" ")})`)})(this._rgb,t)},br.css=(...t)=>new Nt(...t,"css"),er.format.css=eT,er.autodetect.push({p:5,test:(t,...n)=>{if(!n.length&&"string"===hr(t)&&eT.test(t))return"css"}}),er.format.gl=(...t)=>{const n=rr(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},br.gl=(...t)=>new Nt(...t,"gl"),Nt.prototype.gl=function(){const t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]},Nt.prototype.hex=function(t){return vE(this._rgb,t)},br.hex=(...t)=>new Nt(...t,"hex"),er.format.hex=gE,er.autodetect.push({p:4,test:(t,...n)=>{if(!n.length&&"string"===hr(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});const{log:w5}=Math,tT=t=>{const n=t/100;let e,r,s;return n<66?(e=255,r=n<6?0:-155.25485562709179-.44596950469579133*(r=n-2)+104.49216199393888*w5(r),s=n<20?0:.8274096064007395*(s=n-10)-254.76935184120902+115.67994401066147*w5(s)):(e=351.97690566805693+.114206453784165*(e=n-55)-40.25366309332127*w5(e),r=325.4494125711974+.07943456536662342*(r=n-50)-28.0852963507957*w5(r),s=255),[e,r,s,1]},{round:Bne}=Math;Nt.prototype.temp=Nt.prototype.kelvin=Nt.prototype.temperature=function(){return(()=>{const n=rr([this._rgb],"rgb"),e=n[0],r=n[2];let a,s=1e3,i=4e4;for(;i-s>.4;){a=.5*(i+s);const l=tT(a);l[2]/l[0]>=r/e?i=a:s=a}return Bne(a)})()};const j8=(...t)=>new Nt(...t,"temp");Object.assign(br,{temp:j8,kelvin:j8,temperature:j8}),er.format.temp=er.format.kelvin=er.format.temperature=tT,Nt.prototype.oklch=function(){return kE(this._rgb)},Object.assign(br,{oklch:(...t)=>new Nt(...t,"oklch")}),er.format.oklch=OE,er.autodetect.push({p:2,test:(...t)=>{if("array"===hr(t=rr(t,"oklch"))&&3===t.length)return"oklch"}}),Object.assign(br,{analyze:_E,average:(t,n="lrgb",e=null)=>{const r=t.length;e||(e=Array.from(new Array(r)).map(()=>1));const s=r/e.reduce(function(h,d){return h+d});if(e.forEach((h,d)=>{e[d]*=s}),t=t.map(h=>new Nt(h)),"lrgb"===n)return((t,n)=>{const e=t.length,r=[0,0,0,0];for(let s=0;s<t.length;s++){const o=n[s]/e,a=t[s]._rgb;r[0]+=P8(a[0],2)*o,r[1]+=P8(a[1],2)*o,r[2]+=P8(a[2],2)*o,r[3]+=a[3]*o}return r[0]=k8(r[0]),r[1]=k8(r[1]),r[2]=k8(r[2]),r[3]>.9999999&&(r[3]=1),new Nt(S8(r))})(t,e);const i=t.shift(),o=i.get(n),a=[];let l=0,c=0;for(let h=0;h<o.length;h++)if(o[h]=(o[h]||0)*e[0],a.push(isNaN(o[h])?0:e[0]),"h"===n.charAt(h)&&!isNaN(o[h])){const d=o[h]/180*O8;l+=bE(d)*e[0],c+=xE(d)*e[0]}let u=i.alpha()*e[0];t.forEach((h,d)=>{const p=h.get(n);u+=h.alpha()*e[d+1];for(let v=0;v<o.length;v++)if(!isNaN(p[v]))if(a[v]+=e[d+1],"h"===n.charAt(v)){const b=p[v]/180*O8;l+=bE(b)*e[d+1],c+=xE(b)*e[d+1]}else o[v]+=p[v]*e[d+1]});for(let h=0;h<o.length;h++)if("h"===n.charAt(h)){let d=Pte(c/a[h],l/a[h])/O8*180;for(;d<0;)d+=360;for(;d>=360;)d-=360;o[h]=d}else o[h]=o[h]/a[h];return u/=r,new Nt(o,n).alpha(u>.99999?1:u,!0)},bezier:t=>{const n=function(t){let n,e,r,s;if(2===(t=t.map(i=>new Nt(i))).length)[e,r]=t.map(i=>i.lab()),n=function(i){const o=[0,1,2].map(a=>e[a]+i*(r[a]-e[a]));return new Nt(o,"lab")};else if(3===t.length)[e,r,s]=t.map(i=>i.lab()),n=function(i){const o=[0,1,2].map(a=>(1-i)*(1-i)*e[a]+2*(1-i)*i*r[a]+i*i*s[a]);return new Nt(o,"lab")};else if(4===t.length){let i;[e,r,s,i]=t.map(o=>o.lab()),n=function(o){const a=[0,1,2].map(l=>(1-o)*(1-o)*(1-o)*e[l]+3*(1-o)*(1-o)*o*r[l]+3*(1-o)*o*o*s[l]+o*o*o*i[l]);return new Nt(a,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");{let i,o,a;i=t.map(l=>l.lab()),a=t.length-1,o=function(t){let n=[1,1];for(let e=1;e<t;e++){let r=[1];for(let s=1;s<=n.length;s++)r[s]=(n[s]||0)+n[s-1];n=r}return n}(a),n=function(l){const c=1-l,u=[0,1,2].map(h=>i.reduce((d,p,v)=>d+o[v]*c**(a-v)*l**v*p[h],0));return new Nt(u,"lab")}}}return n}(t);return n.scale=()=>p5(n),n},blend:tne,brewer:xne,Color:Nt,colors:Kh,contrast:(t,n)=>{t=new Nt(t),n=new Nt(n);const e=t.luminance(),r=n.luminance();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},contrastAPCA:(t,n)=>{t=new Nt(t),n=new Nt(n),t.alpha()<1&&(t=qh(n,t,t.alpha(),"rgb"));const e=TE(...t.rgb()),r=TE(...n.rgb()),s=e>=f5?e:e+Math.pow(f5-e,1.414),i=r>=f5?r:r+Math.pow(f5-r,1.414),o=Math.pow(i,.56)-Math.pow(s,.57),a=Math.pow(i,.65)-Math.pow(s,.62),l=Math.abs(i-s)<5e-4?0:s<i?1.14*o:1.14*a;return 100*(Math.abs(l)<.1?0:l>0?l-.027:l+.027)},cubehelix:function ine(t=300,n=-1.5,e=1,r=1,s=[0,1]){let o,i=0;"array"===hr(s)?o=s[1]-s[0]:(o=0,s=[s,s]);const a=function(l){const c=Yl*((t+120)/360+n*l),u=nne(s[0]+o*l,r),d=(0!==i?e[0]+l*i:e)*u*(1-u)/2,p=sne(c),v=rne(c);return br(S8([255*(u+d*(-.14861*p+1.78277*v)),255*(u+d*(-.29227*p-.90649*v)),255*(u+d*(1.97294*p)),1]))};return a.start=function(l){return null==l?t:(t=l,a)},a.rotations=function(l){return null==l?n:(n=l,a)},a.gamma=function(l){return null==l?r:(r=l,a)},a.hue=function(l){return null==l?e:("array"===hr(e=l)?(i=e[1]-e[0],0===i&&(e=e[1])):i=0,a)},a.lightness=function(l){return null==l?s:("array"===hr(l)?(s=l,o=l[1]-l[0]):(s=[l,l],o=0),a)},a.scale=()=>br.scale(a),a.hue(e),a},deltaE:function yne(t,n,e=1,r=1,s=1){var i=function(ls){return 360*ls/(2*BE)},o=function(ls){return 2*BE*ls/360};t=new Nt(t),n=new Nt(n);const[a,l,c]=Array.from(t.lab()),[u,h,d]=Array.from(n.lab()),p=(a+u)/2,_=(Jl(wi(l,2)+wi(c,2))+Jl(wi(h,2)+wi(d,2)))/2,z=.5*(1-Jl(wi(_,7)/(wi(_,7)+wi(25,7)))),N=l*(1+z),me=h*(1+z),fe=Jl(wi(N,2)+wi(c,2)),we=Jl(wi(me,2)+wi(d,2)),ee=(fe+we)/2,Ie=i(LE(c,N)),Be=i(LE(d,me)),qe=Ie>=0?Ie:Ie+360,Je=Be>=0?Be:Be+360,gt=RE(qe-Je)>180?(qe+Je+360)/2:(qe+Je)/2,rt=1-.17*g5(o(gt-30))+.24*g5(o(2*gt))+.32*g5(o(3*gt+6))-.2*g5(o(4*gt-63));let Ct=Je-qe;Ct=RE(Ct)<=180?Ct:Je<=qe?Ct+360:Ct-360,Ct=2*Jl(fe*we)*DE(o(Ct)/2);const jt=u-a,Tt=we-fe,xt=1+.015*wi(p-50,2)/Jl(20+wi(p-50,2)),An=1+.045*ee,tr=1+.015*ee*rt,Kr=30*Cne(-wi((gt-275)/25,2)),Zr=-2*Jl(wi(ee,7)/(wi(ee,7)+wi(25,7)))*DE(2*o(Kr)),Ii=Jl(wi(jt/(e*xt),2)+wi(Tt/(r*An),2)+wi(Ct/(s*tr),2)+Zr*(Tt/(r*An))*(Ct/(s*tr)));return wne(0,mne(100,Ii))},distance:function Ine(t,n,e="lab"){t=new Nt(t),n=new Nt(n);const r=t.get(e),s=n.get(e);let i=0;for(let o in r){const a=(r[o]||0)-(s[o]||0);i+=a*a}return Math.sqrt(i)},input:er,interpolate:qh,limits:HE,mix:qh,random:()=>{let t="#";for(let n=0;n<6;n++)t+="0123456789abcdef".charAt(ane(16*lne()));return new Nt(t,"hex")},scale:p5,scales:bne,valid:(...t)=>{try{return new Nt(...t),!0}catch{return!1}}});const ai=br;let Fne=(()=>{class t{static getColor(e){return document.documentElement.style.getPropertyValue(`--color-${e}`)}static generateBgOpacityClasses(e,r,s=[0,10,25,50,75]){const i=ai(r),o=document.createElement("style");o.innerHTML=s.reduce((a,l)=>(a+=`.bg-${e}-opacity-${l}{background-color:${i.alpha(l/100).css()};}`)+`.hover-bg-${e}-opacity-${l}:hover {background-color:${i.alpha(l/100).css()};}`,""),document.getElementsByTagName("head")[0].appendChild(o)}static applyCssVariables(e,r,s,i,o,a,l){const c=(p,v)=>{document.documentElement.style.setProperty(`--color-${p}`,v.css())},u=ai("black"),h=ai("white");c("primary",ai(e)),c("primary-lighter",ai.scale([e,h]).mode("lab")(.3)),c("primary-lightest",ai.scale([e,h]).mode("lab")(.6)),c("primary-white",ai.scale([e,h]).mode("lab")(.85)),c("primary-darker",ai.scale([e,u]).mode("lab")(.3)),c("primary-darkest",ai.scale([e,u]).mode("lab")(.6)),c("primary-black",ai.scale([e,u]).mode("lab")(.85)),c("secondary",ai(r)),c("secondary-lighter",ai.scale([r,h]).mode("lab")(.3)),c("secondary-lightest",ai.scale([r,h]).mode("lab")(.6)),c("secondary-white",ai.scale([r,h]).mode("lab")(.85)),c("secondary-darker",ai.scale([r,u]).mode("lab")(.3)),c("secondary-darkest",ai.scale([r,u]).mode("lab")(.6)),c("secondary-black",ai.scale([r,u]).mode("lab")(.85)),c("main",ai(s)),c("background",ai(i));const d=ai.scale([i,s]).mode("lrgb");if(c("gray-50",d(.05)),c("gray-100",d(.1)),c("gray-200",d(.2)),c("gray-300",d(.3)),c("gray-400",d(.4)),c("gray-500",d(.5)),c("gray-600",d(.6)),c("gray-700",d(.7)),c("gray-800",d(.8)),c("gray-900",d(.9)),c("gray-950",d(.95)),o&&document.documentElement.style.setProperty("--font-family-main",o),a&&document.documentElement.style.setProperty("--font-family-title",a),l){const p=document.createElement("link");p.href=l,p.rel="stylesheet",p.type="text/css",document.head.append(p)}}static generateLabelColor(e,r,s){let i=0;for(let o=0;o<e.length;o++)i+=e.charCodeAt(o);return ai.hsl(i%360,r,s).css()}static setFavicon(e){const r=document.querySelector("link[rel*='icon']")||document.createElement("link");r.rel="icon",r.href=e,document.getElementsByTagName("head")[0].appendChild(r)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();new Pt("proxyPath");var t,U8=Object.defineProperty,Gne=Object.getOwnPropertyDescriptor,Wne=Object.getOwnPropertyNames,Zne=Object.prototype.hasOwnProperty,nT={};((t,n)=>{for(var e in n)U8(t,e,{get:n[e],enumerable:!0})})(nT,{XmlCdata:()=>aT,XmlComment:()=>lT,XmlDeclaration:()=>cT,XmlDocument:()=>uT,XmlDocumentType:()=>hT,XmlElement:()=>C5,XmlError:()=>dT,XmlNode:()=>Fr,XmlProcessingInstruction:()=>Y8,XmlText:()=>X8,parseXml:()=>sre}),t=nT,((t,n,e,r)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let s of Wne(n))!Zne.call(t,s)&&undefined!==s&&U8(t,s,{get:()=>n[s],enumerable:!(r=Gne(n,s))||r.enumerable})})(U8({},"__esModule",{value:!0}),t);var Xne=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yne=class{constructor(t){if(this.k=this.q(t,!0),this.d=0,this.length=t.length,this.n=this.k!==this.length,this.m=t,this.n){let n=[];for(let e=0,r=0;r<this.k;++r)n[r]=e,e+=t.codePointAt(e)>65535?2:1;this.y=n}}get z(){return this.d>=this.k}q(t,n=this.n){return n?t.replace(Xne,"_").length:t.length}g(t=1){this.d=Math.min(this.k,this.d+t)}i(t=this.d){var n;return this.n?null!=(n=this.y[t])?n:1/0:t}F(t=1){let n=this.h(t);return this.g(t),n}G(t){if(!t.sticky)throw new Error('`regex` must have a sticky flag ("y")');t.lastIndex=this.i();let n=t.exec(this.m);if(null===n||0===n.length)return"";let e=n[0];return this.g(this.q(e)),e}v(t){let n,e="";for(;(n=this.h())&&t(n);)e+=n,this.g();return e}Q(t){if(this.b(t))return t;if(this.n){let{length:n}=t,e=this.q(t);if(e!==n&&t===this.h(e))return this.g(e),t}return""}b(t){let{length:n}=t;return this.h(n)===t?(this.g(n),t):""}A(t){let n=this.m.slice(this.i()),e=n.search(t);if(e<=0)return"";let r=n.slice(0,e);return this.g(this.q(r)),r}t(t){let{m:n}=this,e=this.i(),r=n.indexOf(t,e);if(r<=0)return"";let s=n.slice(e,r);return this.g(this.q(s)),s}h(t=1){let{d:n,n:e,m:r}=this;return e?n>=this.k?"":r.slice(this.i(n),this.i(n+t)):r.slice(n,n+t)}o(t=0){this.d=t>=0?Math.min(this.k,t):Math.max(0,this.d+t)}},Kne=/[^"&<]+/y,Jne=/[^'&<]+/y,qne=/\r\n|[\n\r\t]/g,Qne=/<|&|]]>/,ere=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function rT(t){let n=$8(t);return n>=97&&n<=122||n>=65&&n<=90||n>=48&&n<=57||45===n||46===n||183===n||n>=768&&n<=879||n>=8255&&n<=8256||sT(t,n)}function sT(t,n=$8(t)){return n>=97&&n<=122||n>=65&&n<=90||58===n||95===n||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}function tre(t){return"#"===t||rT(t)}function nre(t){let n=$8(t);return 32===n||9===n||10===n||13===n}function iT(t){return 9===t||10===t||13===t||t>=32&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111}function $8(t){return t.codePointAt(0)||-1}var oT=class{constructor(){this.parent=null,this.start=-1,this.end=-1}get document(){var t,n;return null!=(n=null==(t=this.parent)?void 0:t.document)?n:null}get isRootNode(){return null!==this.parent&&this.parent===this.document&&this.type===oT.TYPE_ELEMENT}get preserveWhitespace(){var t;return!(null==(t=this.parent)||!t.preserveWhitespace)}get type(){return""}toJSON(){let t={type:this.type};return this.isRootNode&&(t.isRootNode=!0),this.preserveWhitespace&&(t.preserveWhitespace=!0),-1!==this.start&&(t.start=this.start,t.end=this.end),t}},Fr=oT;Fr.TYPE_CDATA="cdata",Fr.TYPE_COMMENT="comment",Fr.TYPE_DOCUMENT="document",Fr.TYPE_DOCUMENT_TYPE="doctype",Fr.TYPE_ELEMENT="element",Fr.TYPE_PROCESSING_INSTRUCTION="pi",Fr.TYPE_TEXT="text",Fr.TYPE_XML_DECLARATION="xmldecl";var X8=class extends Fr{constructor(t=""){super(),this.text=t}get type(){return Fr.TYPE_TEXT}toJSON(){return Object.assign(Fr.prototype.toJSON.call(this),{text:this.text})}},aT=class extends X8{get type(){return Fr.TYPE_CDATA}},lT=class extends Fr{constructor(t=""){super(),this.content=t}get type(){return Fr.TYPE_COMMENT}toJSON(){return Object.assign(Fr.prototype.toJSON.call(this),{content:this.content})}},cT=class extends Fr{constructor(t,n,e){super(),this.version=t,this.encoding=n??null,this.standalone=e??null}get type(){return Fr.TYPE_XML_DECLARATION}toJSON(){let t=Fr.prototype.toJSON.call(this);t.version=this.version;for(let n of["encoding","standalone"])null!==this[n]&&(t[n]=this[n]);return t}},C5=class extends Fr{constructor(t,n=Object.create(null),e=[]){super(),this.name=t,this.attributes=n,this.children=e}get isEmpty(){return 0===this.children.length}get preserveWhitespace(){let t=this;for(;t instanceof C5;){if("xml:space"in t.attributes)return"preserve"===t.attributes["xml:space"];t=t.parent}return!1}get text(){return this.children.map(t=>"text"in t?t.text:"").join("")}get type(){return Fr.TYPE_ELEMENT}toJSON(){return Object.assign(Fr.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(t=>t.toJSON())})}},uT=class extends Fr{constructor(t=[]){super(),this.children=t}get document(){return this}get root(){for(let t of this.children)if(t instanceof C5)return t;return null}get text(){return this.children.map(t=>"text"in t?t.text:"").join("")}get type(){return Fr.TYPE_DOCUMENT}toJSON(){return Object.assign(Fr.prototype.toJSON.call(this),{children:this.children.map(t=>t.toJSON())})}},hT=class extends Fr{constructor(t,n,e,r){super(),this.name=t,this.publicId=n??null,this.systemId=e??null,this.internalSubset=r??null}get type(){return Fr.TYPE_DOCUMENT_TYPE}toJSON(){let t=Fr.prototype.toJSON.call(this);t.name=this.name;for(let n of["publicId","systemId","internalSubset"])null!==this[n]&&(t[n]=this[n]);return t}},dT=class extends Error{constructor(t,n,e){let r=1,s="",i=1;for(let l=0;l<n;++l){let c=e[l];"\n"===c?(r=1,s="",i+=1):(r+=1,s+=c)}let o=e.indexOf("\n",n);s+=-1===o?e.slice(n):e.slice(n,o);let a=0;s.length>50&&(r<40?s=s.slice(0,50):(a=r-20,s=s.slice(a,r+30))),super(`${t} (line ${i}, column ${r})\n  ${s}\n`+" ".repeat(r-a+1)+"^\n"),this.column=r,this.excerpt=s,this.line=i,this.name="XmlError",this.pos=n}},Y8=class extends Fr{constructor(t,n=""){super(),this.name=t,this.content=n}get type(){return Fr.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(Fr.prototype.toJSON.call(this),{name:this.name,content:this.content})}},rre=class{constructor(t,n={}){let e=this.document=new uT,r=this.c=new Yne(t);if(this.l=e,this.f=n,this.f.includeOffsets&&(e.start=0,e.end=t.length),r.b("\ufeff"),this.H(),!this.B())throw this.a("Root element is missing or invalid");for(;this.w(););if(!r.z)throw this.a("Extra content at the end of the document")}j(t,n){return t.parent=this.l,this.f.includeOffsets&&(t.start=this.c.i(n),t.end=this.c.i()),this.l.children.push(t),!0}x(t,n){let{children:e}=this.l,{length:r}=e;if(t=y5(t),r>0){let s=e[r-1];if(s?.type===Fr.TYPE_TEXT){let i=s;return i.text+=t,this.f.includeOffsets&&(i.end=this.c.i()),!0}}return this.j(new X8(t),n)}I(){let t=Object.create(null);for(;this.e();){let n=this.r();if(!n)break;let e=this.u()&&this.J();if(!1===e)throw this.a("Attribute value expected");if(n in t)throw this.a(`Duplicate attribute: ${n}`);if("xml:space"===n&&"default"!==e&&"preserve"!==e)throw this.a('Value of the `xml:space` attribute must be "default" or "preserve"');t[n]=e}if(this.f.sortAttributes){let n=Object.keys(t).sort(),e=Object.create(null);for(let r=0;r<n.length;++r){let s=n[r];e[s]=t[s]}t=e}return t}J(){let{c:t}=this,n=t.h();if('"'!==n&&"'"!==n)return!1;t.g();let e,r=!1,s="",i='"'===n?Kne:Jne;e:for(;!t.z;)switch(e=t.G(i),e&&(this.p(e),s+=e.replace(qne," ")),t.h()){case n:r=!0;break e;case"&":s+=this.C();continue;case"<":throw this.a("Unescaped `<` is not allowed in an attribute value");case"":break e}if(!r)throw this.a("Unclosed attribute");return t.g(),s}K(){let{c:t}=this,n=t.d;if(!t.b("<![CDATA["))return!1;let e=t.t("]]>");if(this.p(e),!t.b("]]>"))throw this.a("Unclosed CDATA section");return this.f.preserveCdata?this.j(new aT(y5(e)),n):this.x(e,n)}L(){let{c:t}=this,n=t.d,e=t.A(Qne);if(!e)return!1;if(this.p(e),"]]>"===t.h(3))throw this.a("Element content may not contain the CDATA section close delimiter `]]>`");return this.x(e,n)}D(){let{c:t}=this,n=t.d;if(!t.b("\x3c!--"))return!1;let e=t.t("--");if(this.p(e),!t.b("--\x3e"))throw"--"===t.h(2)?this.a("The string `--` isn't allowed inside a comment"):this.a("Unclosed comment");return!this.f.preserveComments||this.j(new lT(y5(e)),n)}M(){let t=this.c.d,n=this.C();return!!n&&this.x(n,t)}N(){let{c:t}=this,n=t.d;if(!t.b("<!DOCTYPE"))return!1;let r,s,i,e=this.e()&&this.r();if(!e)throw this.a("Expected a name");if(this.e()){if(t.b("PUBLIC")){if(r=this.e()&&this.O(),!1===r)throw this.a("Expected a public identifier");this.e()}if(void 0!==r||t.b("SYSTEM")){if(this.e(),s=this.s(),!1===s)throw this.a("Expected a system identifier");this.e()}}if(t.b("[")){if(i=t.A(/\][\x20\t\r\n]*>/),!t.b("]"))throw this.a("Unclosed internal subset");this.e()}if(!t.b(">"))throw this.a("Unclosed doctype declaration");return!this.f.preserveDocumentType||this.j(new hT(e,r,s,i),n)}B(){let{c:t}=this,n=t.d;if(!t.b("<"))return!1;let e=this.r();if(!e)return t.o(n),!1;let r=this.I(),s=!!t.b("/>"),i=new C5(e,r);if(i.parent=this.l,!s){if(!t.b(">"))throw this.a(`Unclosed start tag for element \`${e}\``);this.l=i;do{this.L()}while(this.B()||this.M()||this.K()||this.E()||this.D());let a,o=t.d;if(!t.b("</")||!(a=this.r())||a!==e)throw t.o(o),this.a(`Missing end tag for element ${e}`);if(this.e(),!t.b(">"))throw this.a(`Unclosed end tag for element ${e}`);this.l=i.parent}return this.j(i,n)}u(){return this.e(),!!this.c.b("=")&&(this.e(),!0)}w(){return this.D()||this.E()||this.e()}r(){return sT(this.c.h())?this.c.v(rT):""}E(){let{c:t}=this,n=t.d;if(!t.b("<?"))return!1;let e=this.r();if(!e)throw this.a("Invalid processing instruction");if("xml"===e.toLowerCase())throw t.o(n),this.a("XML declaration isn't allowed here");if(!this.e()){if(t.b("?>"))return this.j(new Y8(e),n);throw this.a("Whitespace is required after a processing instruction name")}let r=t.t("?>");if(this.p(r),!t.b("?>"))throw this.a("Unterminated processing instruction");return this.j(new Y8(e,y5(r)),n)}H(){let{c:t}=this,n=t.d;for(this.P();this.w(););if(this.N())for(;this.w(););return n<t.d}O(){let t=this.c.d,n=this.s();if(!1!==n&&!/^[-\x20\r\na-zA-Z0-9'()+,./:=?;!*#@$_%]*$/.test(n))throw this.c.o(t),this.a("Invalid character in public identifier");return n}C(){let{c:t}=this;if(!t.b("&"))return!1;let e,n=t.v(tre);if(";"!==t.F())throw this.a("Unterminated reference (a reference must end with `;`)");if("#"===n[0]){let r="x"===n[1]?parseInt(n.slice(2),16):parseInt(n.slice(1),10);if(isNaN(r))throw this.a("Invalid character reference");if(!iT(r))throw this.a("Character reference resolves to an invalid character");e=String.fromCodePoint(r)}else if(e=ere[n],void 0===e){let{ignoreUndefinedEntities:r,resolveUndefinedEntity:s}=this.f,i=`&${n};`;if(s){let o=s(i);if(null!=o){let a=typeof o;if("string"!==a)throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${a}`);return o}}if(r)return i;throw t.o(-i.length),this.a(`Named entity isn't defined: ${i}`)}return e}s(){let{c:t}=this,n=t.b('"')||t.b("'");if(!n)return!1;let e=t.t(n);if(this.p(e),!t.b(n))throw this.a("Missing end quote");return e}e(){return!!this.c.v(nre)}P(){let{c:t}=this,n=t.d;if(!t.b("<?xml"))return!1;if(!this.e())throw this.a("Invalid XML declaration");let r,s,e=!!t.b("version")&&this.u()&&this.s();if(!1===e)throw this.a("XML version is missing or invalid");if(!/^1\.[0-9]+$/.test(e))throw this.a("Invalid character in version number");if(this.e()&&(r=!!t.b("encoding")&&this.u()&&this.s(),r&&this.e(),s=!!t.b("standalone")&&this.u()&&this.s(),s)){if("yes"!==s&&"no"!==s)throw this.a('Only "yes" and "no" are permitted as values of `standalone`');this.e()}if(!t.b("?>"))throw this.a("Invalid or unclosed XML declaration");return!this.f.preserveXmlDeclaration||this.j(new cT(e,r||void 0,s||void 0),n)}a(t){let{c:n}=this;return new dT(t,n.d,n.m)}p(t){let{length:n}=t;for(let e=0;e<n;++e){let r=t.codePointAt(e);if(!iT(r))throw this.c.o(-([...t].length-e)),this.a("Invalid character");r>65535&&(e+=1)}}};function y5(t){let n=0;for(;-1!==(n=t.indexOf("\r",n));)t="\n"===t[n+1]?t.slice(0,n)+t.slice(n+1):t.slice(0,n)+"\n"+t.slice(n+1);return t}function sre(t,n){return new rre(t,n).document}Error,Error;typeof window<"u"&&window.Blob&&new Blob([atob("KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICAvKiEgQHJncm92ZS9wYXJzZS14bWwgdjQuMS4wIHwgSVNDIExpY2Vuc2UgfCBDb3B5cmlnaHQgUnlhbiBHcm92ZSAqLwogIHZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7CiAgdmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOwogIHZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzOwogIHZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5OwogIHZhciBfX2V4cG9ydCA9ICh0YXJnZXQsIGFsbCkgPT4gewogICAgZm9yICh2YXIgbmFtZSBpbiBhbGwpCiAgICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7CiAgfTsKICB2YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20sIGV4Y2VwdCwgZGVzYykgPT4gewogICAgaWYgKGZyb20gJiYgdHlwZW9mIGZyb20gPT09ICJvYmplY3QiIHx8IHR5cGVvZiBmcm9tID09PSAiZnVuY3Rpb24iKSB7CiAgICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhmcm9tKSkKICAgICAgICBpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KQogICAgICAgICAgX19kZWZQcm9wKHRvLCBrZXksIHsgZ2V0OiAoKSA9PiBmcm9tW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlIH0pOwogICAgfQogICAgcmV0dXJuIHRvOwogIH07CiAgdmFyIF9fdG9Db21tb25KUyA9IChtb2QpID0+IF9fY29weVByb3BzKF9fZGVmUHJvcCh7fSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pLCBtb2QpOwogIHZhciBzcmNfZXhwb3J0cyA9IHt9OwogIF9fZXhwb3J0KHNyY19leHBvcnRzLCB7CiAgICBYbWxDZGF0YTogKCkgPT4gWG1sQ2RhdGEsCiAgICBYbWxDb21tZW50OiAoKSA9PiBYbWxDb21tZW50LAogICAgWG1sRGVjbGFyYXRpb246ICgpID0+IFhtbERlY2xhcmF0aW9uLAogICAgWG1sRG9jdW1lbnQ6ICgpID0+IFhtbERvY3VtZW50LAogICAgWG1sRG9jdW1lbnRUeXBlOiAoKSA9PiBYbWxEb2N1bWVudFR5cGUsCiAgICBYbWxFbGVtZW50OiAoKSA9PiBYbWxFbGVtZW50LAogICAgWG1sRXJyb3I6ICgpID0+IFhtbEVycm9yLAogICAgWG1sTm9kZTogKCkgPT4gWG1sTm9kZSwKICAgIFhtbFByb2Nlc3NpbmdJbnN0cnVjdGlvbjogKCkgPT4gWG1sUHJvY2Vzc2luZ0luc3RydWN0aW9uLAogICAgWG1sVGV4dDogKCkgPT4gWG1sVGV4dCwKICAgIHBhcnNlWG1sOiAoKSA9PiBwYXJzZVhtbAogIH0pOwogIHZhciBicm93c2VyID0gX190b0NvbW1vbkpTKHNyY19leHBvcnRzKTsKICB2YXIgZW1wdHlTdHJpbmcgPSAiIjsKICB2YXIgc3Vycm9nYXRlUGFpciA9IC9bXHVEODAwLVx1REJGRl1bXHVEQzAwLVx1REZGRl0vZzsKICB2YXIgU3RyaW5nU2Nhbm5lciA9IGNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKHN0cmluZykgewogICAgICB0aGlzLmsgPSB0aGlzLnEoc3RyaW5nLCB0cnVlKTsKICAgICAgdGhpcy5kID0gMDsKICAgICAgdGhpcy5sZW5ndGggPSBzdHJpbmcubGVuZ3RoOwogICAgICB0aGlzLm4gPSB0aGlzLmsgIT09IHRoaXMubGVuZ3RoOwogICAgICB0aGlzLm0gPSBzdHJpbmc7CiAgICAgIGlmICh0aGlzLm4pIHsKICAgICAgICBsZXQgY2hhcnNUb0J5dGVzID0gW107CiAgICAgICAgZm9yIChsZXQgYnl0ZUluZGV4ID0gMCwgY2hhckluZGV4ID0gMDsgY2hhckluZGV4IDwgdGhpcy5rOyArK2NoYXJJbmRleCkgewogICAgICAgICAgY2hhcnNUb0J5dGVzW2NoYXJJbmRleF0gPSBieXRlSW5kZXg7CiAgICAgICAgICBieXRlSW5kZXggKz0gc3RyaW5nLmNvZGVQb2ludEF0KGJ5dGVJbmRleCkgPiA2NTUzNSA/IDIgOiAxOwogICAgICAgIH0KICAgICAgICB0aGlzLnkgPSBjaGFyc1RvQnl0ZXM7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogV2hldGhlciB0aGUgY3VycmVudCBjaGFyYWN0ZXIgaW5kZXggaXMgYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgc3RyaW5nLgogICAgICovCiAgICBnZXQgeigpIHsKICAgICAgcmV0dXJuIHRoaXMuZCA+PSB0aGlzLms7CiAgICB9CiAgICAvLyAtLSBQcm90ZWN0ZWQgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgaW4gdGhlIGdpdmVuIHN0cmluZywgd2hpY2ggbWF5IGRpZmZlciBmcm9tCiAgICAgKiB0aGUgYnl0ZSBsZW5ndGggaWYgdGhlIHN0cmluZyBjb250YWlucyBtdWx0aWJ5dGUgY2hhcmFjdGVycy4KICAgICAqLwogICAgcShzdHJpbmcsIG11bHRpQnl0ZVNhZmUgPSB0aGlzLm4pIHsKICAgICAgcmV0dXJuIG11bHRpQnl0ZVNhZmUgPyBzdHJpbmcucmVwbGFjZShzdXJyb2dhdGVQYWlyLCAiXyIpLmxlbmd0aCA6IHN0cmluZy5sZW5ndGg7CiAgICB9CiAgICAvLyAtLSBQdWJsaWMgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8qKgogICAgICogQWR2YW5jZXMgdGhlIHNjYW5uZXIgYnkgdGhlIGdpdmVuIG51bWJlciBvZiBjaGFyYWN0ZXJzLCBzdG9wcGluZyBpZiB0aGUgZW5kCiAgICAgKiBvZiB0aGUgc3RyaW5nIGlzIHJlYWNoZWQuCiAgICAgKi8KICAgIGcoY291bnQgPSAxKSB7CiAgICAgIHRoaXMuZCA9IE1hdGgubWluKHRoaXMuaywgdGhpcy5kICsgY291bnQpOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBieXRlIGluZGV4IG9mIHRoZSBnaXZlbiBjaGFyYWN0ZXIgaW5kZXggaW4gdGhlIHN0cmluZy4gVGhlIHR3bwogICAgICogbWF5IGRpZmZlciBpbiBzdHJpbmdzIHRoYXQgY29udGFpbiBtdWx0aWJ5dGUgY2hhcmFjdGVycy4KICAgICAqLwogICAgaShjaGFySW5kZXggPSB0aGlzLmQpIHsKICAgICAgdmFyIF9hOwogICAgICByZXR1cm4gdGhpcy5uID8gKF9hID0gdGhpcy55W2NoYXJJbmRleF0pICE9IG51bGwgPyBfYSA6IEluZmluaXR5IDogY2hhckluZGV4OwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhbmQgcmV0dXJucyB0aGUgZ2l2ZW4gbnVtYmVyIG9mIGNoYXJhY3RlcnMgaWYgcG9zc2libGUsIGFkdmFuY2luZwogICAgICogdGhlIHNjYW5uZXIgYW5kIHN0b3BwaW5nIGlmIHRoZSBlbmQgb2YgdGhlIHN0cmluZyBpcyByZWFjaGVkLgogICAgICoKICAgICAqIElmIG5vIGNoYXJhY3RlcnMgY291bGQgYmUgY29uc3VtZWQsIGFuIGVtcHR5IHN0cmluZyB3aWxsIGJlIHJldHVybmVkLgogICAgICovCiAgICBGKGNvdW50ID0gMSkgewogICAgICBsZXQgY2hhcnMgPSB0aGlzLmgoY291bnQpOwogICAgICB0aGlzLmcoY291bnQpOwogICAgICByZXR1cm4gY2hhcnM7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgbWF0Y2ggZm9yIHRoZSBnaXZlbiBzdGlja3kgcmVnZXgsIGFkdmFuY2VzIHRoZSBzY2FubmVyLCB1cGRhdGVzCiAgICAgKiB0aGUgYGxhc3RJbmRleGAgcHJvcGVydHkgb2YgdGhlIHJlZ2V4LCBhbmQgcmV0dXJucyB0aGUgbWF0Y2hpbmcgc3RyaW5nLgogICAgICoKICAgICAqIFRoZSByZWdleCBtdXN0IGhhdmUgYSBzdGlja3kgZmxhZyAoInkiKSBzbyB0aGF0IGl0cyBgbGFzdEluZGV4YCBwcm9wIGNhbiBiZQogICAgICogdXNlZCB0byBhbmNob3IgdGhlIG1hdGNoIGF0IHRoZSBjdXJyZW50IHNjYW5uZXIgcG9zaXRpb24uCiAgICAgKgogICAgICogUmV0dXJucyB0aGUgY29uc3VtZWQgc3RyaW5nLCBvciBhbiBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgY29uc3VtZWQuCiAgICAgKi8KICAgIEcocmVnZXgpIHsKICAgICAgaWYgKCFyZWdleC5zdGlja3kpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ByZWdleGAgbXVzdCBoYXZlIGEgc3RpY2t5IGZsYWcgKCJ5IiknKTsKICAgICAgfQogICAgICByZWdleC5sYXN0SW5kZXggPSB0aGlzLmkoKTsKICAgICAgbGV0IHJlc3VsdCA9IHJlZ2V4LmV4ZWModGhpcy5tKTsKICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIGVtcHR5U3RyaW5nOwogICAgICB9CiAgICAgIGxldCBtYXRjaCA9IHJlc3VsdFswXTsKICAgICAgdGhpcy5nKHRoaXMucShtYXRjaCkpOwogICAgICByZXR1cm4gbWF0Y2g7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGFuZCByZXR1cm5zIGFsbCBjaGFyYWN0ZXJzIGZvciB3aGljaCB0aGUgZ2l2ZW4gZnVuY3Rpb24gcmV0dXJucyBhCiAgICAgKiB0cnV0aHkgdmFsdWUsIHN0b3BwaW5nIG9uIHRoZSBmaXJzdCBmYWxzeSByZXR1cm4gdmFsdWUgb3IgaWYgdGhlIGVuZCBvZiB0aGUKICAgICAqIGlucHV0IGlzIHJlYWNoZWQuCiAgICAgKi8KICAgIHYoZm4pIHsKICAgICAgbGV0IGNoYXI7CiAgICAgIGxldCBtYXRjaCA9IGVtcHR5U3RyaW5nOwogICAgICB3aGlsZSAoKGNoYXIgPSB0aGlzLmgoKSkgJiYgZm4oY2hhcikpIHsKICAgICAgICBtYXRjaCArPSBjaGFyOwogICAgICAgIHRoaXMuZygpOwogICAgICB9CiAgICAgIHJldHVybiBtYXRjaDsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgdGhlIGdpdmVuIHN0cmluZyBpZiBpdCBleGlzdHMgYXQgdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGluZGV4LCBhbmQKICAgICAqIGFkdmFuY2VzIHRoZSBzY2FubmVyLgogICAgICoKICAgICAqIElmIHRoZSBnaXZlbiBzdHJpbmcgZG9lc24ndCBleGlzdCBhdCB0aGUgY3VycmVudCBjaGFyYWN0ZXIgaW5kZXgsIGFuIGVtcHR5CiAgICAgKiBzdHJpbmcgd2lsbCBiZSByZXR1cm5lZCBhbmQgdGhlIHNjYW5uZXIgd2lsbCBub3QgYmUgYWR2YW5jZWQuCiAgICAgKi8KICAgIFEoc3RyaW5nVG9Db25zdW1lKSB7CiAgICAgIGlmICh0aGlzLmIoc3RyaW5nVG9Db25zdW1lKSkgewogICAgICAgIHJldHVybiBzdHJpbmdUb0NvbnN1bWU7CiAgICAgIH0KICAgICAgaWYgKHRoaXMubikgewogICAgICAgIGxldCB7IGxlbmd0aCB9ID0gc3RyaW5nVG9Db25zdW1lOwogICAgICAgIGxldCBjaGFyTGVuZ3RoVG9NYXRjaCA9IHRoaXMucShzdHJpbmdUb0NvbnN1bWUpOwogICAgICAgIGlmIChjaGFyTGVuZ3RoVG9NYXRjaCAhPT0gbGVuZ3RoICYmIHN0cmluZ1RvQ29uc3VtZSA9PT0gdGhpcy5oKGNoYXJMZW5ndGhUb01hdGNoKSkgewogICAgICAgICAgdGhpcy5nKGNoYXJMZW5ndGhUb01hdGNoKTsKICAgICAgICAgIHJldHVybiBzdHJpbmdUb0NvbnN1bWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBlbXB0eVN0cmluZzsKICAgIH0KICAgIC8qKgogICAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBgY29uc3VtZVN0cmluZygpYCwgYnV0IGRvZXNuJ3Qgc3VwcG9ydCBjb25zdW1pbmcKICAgICAqIG11bHRpYnl0ZSBjaGFyYWN0ZXJzLiBUaGlzIGNhbiBiZSBmYXN0ZXIgaWYgeW91IG9ubHkgbmVlZCB0byBtYXRjaCBzaW5nbGUKICAgICAqIGJ5dGUgY2hhcmFjdGVycy4KICAgICAqLwogICAgYihzdHJpbmdUb0NvbnN1bWUpIHsKICAgICAgbGV0IHsgbGVuZ3RoIH0gPSBzdHJpbmdUb0NvbnN1bWU7CiAgICAgIGlmICh0aGlzLmgobGVuZ3RoKSA9PT0gc3RyaW5nVG9Db25zdW1lKSB7CiAgICAgICAgdGhpcy5nKGxlbmd0aCk7CiAgICAgICAgcmV0dXJuIHN0cmluZ1RvQ29uc3VtZTsKICAgICAgfQogICAgICByZXR1cm4gZW1wdHlTdHJpbmc7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGNoYXJhY3RlcnMgdW50aWwgdGhlIGdpdmVuIGdsb2JhbCByZWdleCBpcyBtYXRjaGVkLCBhZHZhbmNpbmcgdGhlCiAgICAgKiBzY2FubmVyIHVwIHRvIChidXQgbm90IGJleW9uZCkgdGhlIGJlZ2lubmluZyBvZiB0aGUgbWF0Y2guIElmIHRoZSByZWdleAogICAgICogZG9lc24ndCBtYXRjaCwgbm90aGluZyB3aWxsIGJlIGNvbnN1bWVkLgogICAgICoKICAgICAqIFJldHVybnMgdGhlIGNvbnN1bWVkIHN0cmluZywgb3IgYW4gZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIGNvbnN1bWVkLgogICAgICovCiAgICBBKHJlZ2V4KSB7CiAgICAgIGxldCByZXN0T2ZTdHJpbmcgPSB0aGlzLm0uc2xpY2UodGhpcy5pKCkpOwogICAgICBsZXQgbWF0Y2hCeXRlSW5kZXggPSByZXN0T2ZTdHJpbmcuc2VhcmNoKHJlZ2V4KTsKICAgICAgaWYgKG1hdGNoQnl0ZUluZGV4IDw9IDApIHsKICAgICAgICByZXR1cm4gZW1wdHlTdHJpbmc7CiAgICAgIH0KICAgICAgbGV0IHJlc3VsdCA9IHJlc3RPZlN0cmluZy5zbGljZSgwLCBtYXRjaEJ5dGVJbmRleCk7CiAgICAgIHRoaXMuZyh0aGlzLnEocmVzdWx0KSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGNoYXJhY3RlcnMgdW50aWwgdGhlIGdpdmVuIHN0cmluZyBpcyBmb3VuZCwgYWR2YW5jaW5nIHRoZSBzY2FubmVyCiAgICAgKiB1cCB0byAoYnV0IG5vdCBiZXlvbmQpIHRoYXQgcG9pbnQuIElmIHRoZSBzdHJpbmcgaXMgbmV2ZXIgZm91bmQsIG5vdGhpbmcKICAgICAqIHdpbGwgYmUgY29uc3VtZWQuCiAgICAgKgogICAgICogUmV0dXJucyB0aGUgY29uc3VtZWQgc3RyaW5nLCBvciBhbiBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgY29uc3VtZWQuCiAgICAgKi8KICAgIHQoc2VhcmNoU3RyaW5nKSB7CiAgICAgIGxldCB7IG06IHN0cmluZyB9ID0gdGhpczsKICAgICAgbGV0IGJ5dGVJbmRleCA9IHRoaXMuaSgpOwogICAgICBsZXQgbWF0Y2hCeXRlSW5kZXggPSBzdHJpbmcuaW5kZXhPZihzZWFyY2hTdHJpbmcsIGJ5dGVJbmRleCk7CiAgICAgIGlmIChtYXRjaEJ5dGVJbmRleCA8PSAwKSB7CiAgICAgICAgcmV0dXJuIGVtcHR5U3RyaW5nOwogICAgICB9CiAgICAgIGxldCByZXN1bHQgPSBzdHJpbmcuc2xpY2UoYnl0ZUluZGV4LCBtYXRjaEJ5dGVJbmRleCk7CiAgICAgIHRoaXMuZyh0aGlzLnEocmVzdWx0KSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGdpdmVuIG51bWJlciBvZiBjaGFyYWN0ZXJzIHN0YXJ0aW5nIGF0IHRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICogaW5kZXgsIHdpdGhvdXQgYWR2YW5jaW5nIHRoZSBzY2FubmVyIGFuZCB3aXRob3V0IGV4Y2VlZGluZyB0aGUgZW5kIG9mIHRoZQogICAgICogaW5wdXQgc3RyaW5nLgogICAgICovCiAgICBoKGNvdW50ID0gMSkgewogICAgICBsZXQgeyBkOiBjaGFySW5kZXgsIG46IG11bHRpQnl0ZU1vZGUsIG06IHN0cmluZyB9ID0gdGhpczsKICAgICAgaWYgKG11bHRpQnl0ZU1vZGUpIHsKICAgICAgICBpZiAoY2hhckluZGV4ID49IHRoaXMuaykgewogICAgICAgICAgcmV0dXJuIGVtcHR5U3RyaW5nOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKAogICAgICAgICAgdGhpcy5pKGNoYXJJbmRleCksCiAgICAgICAgICB0aGlzLmkoY2hhckluZGV4ICsgY291bnQpCiAgICAgICAgKTsKICAgICAgfQogICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKGNoYXJJbmRleCwgY2hhckluZGV4ICsgY291bnQpOwogICAgfQogICAgLyoqCiAgICAgKiBSZXNldHMgdGhlIHNjYW5uZXIgcG9zaXRpb24gdG8gdGhlIGdpdmVuIGNoYXJhY3RlciBfaW5kZXhfLCBvciB0byB0aGUgc3RhcnQKICAgICAqIG9mIHRoZSBpbnB1dCBzdHJpbmcgaWYgbm8gaW5kZXggaXMgZ2l2ZW4uCiAgICAgKgogICAgICogSWYgX2luZGV4XyBpcyBuZWdhdGl2ZSwgdGhlIHNjYW5uZXIgcG9zaXRpb24gd2lsbCBiZSBtb3ZlZCBiYWNrd2FyZCBieSB0aGF0CiAgICAgKiBtYW55IGNoYXJhY3RlcnMsIHN0b3BwaW5nIGlmIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHN0cmluZyBpcyByZWFjaGVkLgogICAgICovCiAgICBvKGluZGV4ID0gMCkgewogICAgICB0aGlzLmQgPSBpbmRleCA+PSAwID8gTWF0aC5taW4odGhpcy5rLCBpbmRleCkgOiBNYXRoLm1heCgwLCB0aGlzLmQgKyBpbmRleCk7CiAgICB9CiAgfTsKICB2YXIgYXR0VmFsdWVDaGFyRG91YmxlUXVvdGUgPSAvW14iJjxdKy95OwogIHZhciBhdHRWYWx1ZUNoYXJTaW5nbGVRdW90ZSA9IC9bXicmPF0rL3k7CiAgdmFyIGF0dFZhbHVlTm9ybWFsaXplZFdoaXRlc3BhY2UgPSAvXHJcbnxbXG5cclx0XS9nOwogIHZhciBlbmRDaGFyRGF0YSA9IC88fCZ8XV0+LzsKICB2YXIgcHJlZGVmaW5lZEVudGl0aWVzID0gT2JqZWN0LmZyZWV6ZShPYmplY3QuYXNzaWduKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCB7CiAgICBhbXA6ICImIiwKICAgIGFwb3M6ICInIiwKICAgIGd0OiAiPiIsCiAgICBsdDogIjwiLAogICAgcXVvdDogJyInCiAgfSkpOwogIGZ1bmN0aW9uIGlzTmFtZUNoYXIoY2hhcikgewogICAgbGV0IGNwID0gZ2V0Q29kZVBvaW50KGNoYXIpOwogICAgcmV0dXJuIGNwID49IDk3ICYmIGNwIDw9IDEyMiB8fCBjcCA+PSA2NSAmJiBjcCA8PSA5MCB8fCBjcCA+PSA0OCAmJiBjcCA8PSA1NyB8fCBjcCA9PT0gNDUgfHwgY3AgPT09IDQ2IHx8IGNwID09PSAxODMgfHwgY3AgPj0gNzY4ICYmIGNwIDw9IDg3OSB8fCBjcCA+PSA4MjU1ICYmIGNwIDw9IDgyNTYgfHwgaXNOYW1lU3RhcnRDaGFyKGNoYXIsIGNwKTsKICB9CiAgZnVuY3Rpb24gaXNOYW1lU3RhcnRDaGFyKGNoYXIsIGNwID0gZ2V0Q29kZVBvaW50KGNoYXIpKSB7CiAgICByZXR1cm4gY3AgPj0gOTcgJiYgY3AgPD0gMTIyIHx8IGNwID49IDY1ICYmIGNwIDw9IDkwIHx8IGNwID09PSA1OCB8fCBjcCA9PT0gOTUgfHwgY3AgPj0gMTkyICYmIGNwIDw9IDIxNCB8fCBjcCA+PSAyMTYgJiYgY3AgPD0gMjQ2IHx8IGNwID49IDI0OCAmJiBjcCA8PSA3NjcgfHwgY3AgPj0gODgwICYmIGNwIDw9IDg5MyB8fCBjcCA+PSA4OTUgJiYgY3AgPD0gODE5MSB8fCBjcCA+PSA4MjA0ICYmIGNwIDw9IDgyMDUgfHwgY3AgPj0gODMwNCAmJiBjcCA8PSA4NTkxIHx8IGNwID49IDExMjY0ICYmIGNwIDw9IDEyMjcxIHx8IGNwID49IDEyMjg5ICYmIGNwIDw9IDU1Mjk1IHx8IGNwID49IDYzNzQ0ICYmIGNwIDw9IDY0OTc1IHx8IGNwID49IDY1MDA4ICYmIGNwIDw9IDY1NTMzIHx8IGNwID49IDY1NTM2ICYmIGNwIDw9IDk4MzAzOTsKICB9CiAgZnVuY3Rpb24gaXNSZWZlcmVuY2VDaGFyKGNoYXIpIHsKICAgIHJldHVybiBjaGFyID09PSAiIyIgfHwgaXNOYW1lQ2hhcihjaGFyKTsKICB9CiAgZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKGNoYXIpIHsKICAgIGxldCBjcCA9IGdldENvZGVQb2ludChjaGFyKTsKICAgIHJldHVybiBjcCA9PT0gMzIgfHwgY3AgPT09IDkgfHwgY3AgPT09IDEwIHx8IGNwID09PSAxMzsKICB9CiAgZnVuY3Rpb24gaXNYbWxDb2RlUG9pbnQoY3ApIHsKICAgIHJldHVybiBjcCA9PT0gOSB8fCBjcCA9PT0gMTAgfHwgY3AgPT09IDEzIHx8IGNwID49IDMyICYmIGNwIDw9IDU1Mjk1IHx8IGNwID49IDU3MzQ0ICYmIGNwIDw9IDY1NTMzIHx8IGNwID49IDY1NTM2ICYmIGNwIDw9IDExMTQxMTE7CiAgfQogIGZ1bmN0aW9uIGdldENvZGVQb2ludChjaGFyKSB7CiAgICByZXR1cm4gY2hhci5jb2RlUG9pbnRBdCgwKSB8fCAtMTsKICB9CiAgdmFyIF9YbWxOb2RlID0gY2xhc3MgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHRoaXMucGFyZW50ID0gbnVsbDsKICAgICAgdGhpcy5zdGFydCA9IC0xOwogICAgICB0aGlzLmVuZCA9IC0xOwogICAgfQogICAgLyoqCiAgICAgKiBEb2N1bWVudCB0aGF0IGNvbnRhaW5zIHRoaXMgbm9kZSwgb3IgYG51bGxgIGlmIHRoaXMgbm9kZSBpcyBub3QgYXNzb2NpYXRlZAogICAgICogd2l0aCBhIGRvY3VtZW50LgogICAgICovCiAgICBnZXQgZG9jdW1lbnQoKSB7CiAgICAgIHZhciBfYSwgX2I7CiAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLnBhcmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRvY3VtZW50KSAhPSBudWxsID8gX2IgOiBudWxsOwogICAgfQogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRoaXMgbm9kZSBpcyB0aGUgcm9vdCBub2RlIG9mIHRoZSBkb2N1bWVudCAoYWxzbyBrbm93biBhcyB0aGUKICAgICAqIGRvY3VtZW50IGVsZW1lbnQpLgogICAgICovCiAgICBnZXQgaXNSb290Tm9kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMucGFyZW50ICE9PSBudWxsICYmIHRoaXMucGFyZW50ID09PSB0aGlzLmRvY3VtZW50ICYmIHRoaXMudHlwZSA9PT0gX1htbE5vZGUuVFlQRV9FTEVNRU5UOwogICAgfQogICAgLyoqCiAgICAgKiBXaGV0aGVyIHdoaXRlc3BhY2Ugc2hvdWxkIGJlIHByZXNlcnZlZCBpbiB0aGUgY29udGVudCBvZiB0aGlzIGVsZW1lbnQgYW5kCiAgICAgKiBpdHMgY2hpbGRyZW4uCiAgICAgKgogICAgICogVGhpcyBpcyBpbmZsdWVuY2VkIGJ5IHRoZSB2YWx1ZSBvZiB0aGUgc3BlY2lhbCBgeG1sOnNwYWNlYCBhdHRyaWJ1dGUsIGFuZAogICAgICogd2lsbCBiZSBgdHJ1ZWAgZm9yIGFueSBub2RlIHdob3NlIGB4bWw6c3BhY2VgIGF0dHJpYnV0ZSBpcyBzZXQgdG8KICAgICAqICJwcmVzZXJ2ZSIuIElmIGEgbm9kZSBoYXMgbm8gc3VjaCBhdHRyaWJ1dGUsIGl0IHdpbGwgaW5oZXJpdCB0aGUgdmFsdWUgb2YKICAgICAqIHRoZSBuZWFyZXN0IGFuY2VzdG9yIHRoYXQgZG9lcyAoaWYgYW55KS4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy13aGl0ZS1zcGFjZQogICAgICovCiAgICBnZXQgcHJlc2VydmVXaGl0ZXNwYWNlKCkgewogICAgICB2YXIgX2E7CiAgICAgIHJldHVybiAhISgoX2EgPSB0aGlzLnBhcmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnByZXNlcnZlV2hpdGVzcGFjZSk7CiAgICB9CiAgICAvKioKICAgICAqIFR5cGUgb2YgdGhpcyBub2RlLgogICAgICoKICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IGlzIGEgc3RyaW5nIHRoYXQgbWF0Y2hlcyBvbmUgb2YgdGhlIHN0YXRpYwogICAgICogYFRZUEVfKmAgcHJvcGVydGllcyBvbiB0aGUgYFhtbE5vZGVgIGNsYXNzIChlLmcuIGBUWVBFX0VMRU1FTlRgLAogICAgICogYFRZUEVfVEVYVGAsIGV0Yy4pLgogICAgICoKICAgICAqIFRoZSBgWG1sTm9kZWAgY2xhc3MgaXRzZWxmIGlzIGEgYmFzZSBjbGFzcyBhbmQgZG9lc24ndCBoYXZlIGl0cyBvd24gdHlwZQogICAgICogbmFtZS4KICAgICAqLwogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiAiIjsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhIEpTT04tc2VyaWFsaXphYmxlIG9iamVjdCByZXByZXNlbnRpbmcgdGhpcyBub2RlLCBtaW51cyBwcm9wZXJ0aWVzCiAgICAgKiB0aGF0IGNvdWxkIHJlc3VsdCBpbiBjaXJjdWxhciByZWZlcmVuY2VzLgogICAgICovCiAgICB0b0pTT04oKSB7CiAgICAgIGxldCBqc29uID0gewogICAgICAgIHR5cGU6IHRoaXMudHlwZQogICAgICB9OwogICAgICBpZiAodGhpcy5pc1Jvb3ROb2RlKSB7CiAgICAgICAganNvbi5pc1Jvb3ROb2RlID0gdHJ1ZTsKICAgICAgfQogICAgICBpZiAodGhpcy5wcmVzZXJ2ZVdoaXRlc3BhY2UpIHsKICAgICAgICBqc29uLnByZXNlcnZlV2hpdGVzcGFjZSA9IHRydWU7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuc3RhcnQgIT09IC0xKSB7CiAgICAgICAganNvbi5zdGFydCA9IHRoaXMuc3RhcnQ7CiAgICAgICAganNvbi5lbmQgPSB0aGlzLmVuZDsKICAgICAgfQogICAgICByZXR1cm4ganNvbjsKICAgIH0KICB9OwogIHZhciBYbWxOb2RlID0gX1htbE5vZGU7CiAgWG1sTm9kZS5UWVBFX0NEQVRBID0gImNkYXRhIjsKICBYbWxOb2RlLlRZUEVfQ09NTUVOVCA9ICJjb21tZW50IjsKICBYbWxOb2RlLlRZUEVfRE9DVU1FTlQgPSAiZG9jdW1lbnQiOwogIFhtbE5vZGUuVFlQRV9ET0NVTUVOVF9UWVBFID0gImRvY3R5cGUiOwogIFhtbE5vZGUuVFlQRV9FTEVNRU5UID0gImVsZW1lbnQiOwogIFhtbE5vZGUuVFlQRV9QUk9DRVNTSU5HX0lOU1RSVUNUSU9OID0gInBpIjsKICBYbWxOb2RlLlRZUEVfVEVYVCA9ICJ0ZXh0IjsKICBYbWxOb2RlLlRZUEVfWE1MX0RFQ0xBUkFUSU9OID0gInhtbGRlY2wiOwogIHZhciBYbWxUZXh0ID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKHRleHQgPSAiIikgewogICAgICBzdXBlcigpOwogICAgICB0aGlzLnRleHQgPSB0ZXh0OwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfVEVYVDsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICB0ZXh0OiB0aGlzLnRleHQKICAgICAgfSk7CiAgICB9CiAgfTsKICB2YXIgWG1sQ2RhdGEgPSBjbGFzcyBleHRlbmRzIFhtbFRleHQgewogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfQ0RBVEE7CiAgICB9CiAgfTsKICB2YXIgWG1sQ29tbWVudCA9IGNsYXNzIGV4dGVuZHMgWG1sTm9kZSB7CiAgICBjb25zdHJ1Y3Rvcihjb250ZW50ID0gIiIpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDsKICAgIH0KICAgIGdldCB0eXBlKCkgewogICAgICByZXR1cm4gWG1sTm9kZS5UWVBFX0NPTU1FTlQ7CiAgICB9CiAgICB0b0pTT04oKSB7CiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFhtbE5vZGUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpLCB7CiAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50CiAgICAgIH0pOwogICAgfQogIH07CiAgdmFyIFhtbERlY2xhcmF0aW9uID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247CiAgICAgIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZyAhPSBudWxsID8gZW5jb2RpbmcgOiBudWxsOwogICAgICB0aGlzLnN0YW5kYWxvbmUgPSBzdGFuZGFsb25lICE9IG51bGwgPyBzdGFuZGFsb25lIDogbnVsbDsKICAgIH0KICAgIGdldCB0eXBlKCkgewogICAgICByZXR1cm4gWG1sTm9kZS5UWVBFX1hNTF9ERUNMQVJBVElPTjsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgbGV0IGpzb24gPSBYbWxOb2RlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTsKICAgICAganNvbi52ZXJzaW9uID0gdGhpcy52ZXJzaW9uOwogICAgICBmb3IgKGxldCBrZXkgb2YgWyJlbmNvZGluZyIsICJzdGFuZGFsb25lIl0pIHsKICAgICAgICBpZiAodGhpc1trZXldICE9PSBudWxsKSB7CiAgICAgICAgICBqc29uW2tleV0gPSB0aGlzW2tleV07CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBqc29uOwogICAgfQogIH07CiAgdmFyIFhtbEVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIFhtbE5vZGUgewogICAgY29uc3RydWN0b3IobmFtZSwgYXR0cmlidXRlcyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCBjaGlsZHJlbiA9IFtdKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgIHRoaXMuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7CiAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjsKICAgIH0KICAgIC8qKgogICAgICogV2hldGhlciB0aGlzIGVsZW1lbnQgaXMgZW1wdHkgKG1lYW5pbmcgaXQgaGFzIG5vIGNoaWxkcmVuKS4KICAgICAqLwogICAgZ2V0IGlzRW1wdHkoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMDsKICAgIH0KICAgIGdldCBwcmVzZXJ2ZVdoaXRlc3BhY2UoKSB7CiAgICAgIGxldCBub2RlID0gdGhpczsKICAgICAgd2hpbGUgKG5vZGUgaW5zdGFuY2VvZiBYbWxFbGVtZW50KSB7CiAgICAgICAgaWYgKCJ4bWw6c3BhY2UiIGluIG5vZGUuYXR0cmlidXRlcykgewogICAgICAgICAgcmV0dXJuIG5vZGUuYXR0cmlidXRlc1sieG1sOnNwYWNlIl0gPT09ICJwcmVzZXJ2ZSI7CiAgICAgICAgfQogICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIFRleHQgY29udGVudCBvZiB0aGlzIGVsZW1lbnQgYW5kIGFsbCBpdHMgZGVzY2VuZGFudHMuCiAgICAgKi8KICAgIGdldCB0ZXh0KCkgewogICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiAidGV4dCIgaW4gY2hpbGQgPyBjaGlsZC50ZXh0IDogIiIpLmpvaW4oIiIpOwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfRUxFTUVOVDsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgYXR0cmlidXRlczogdGhpcy5hdHRyaWJ1dGVzLAogICAgICAgIGNoaWxkcmVuOiB0aGlzLmNoaWxkcmVuLm1hcCgoY2hpbGQpID0+IGNoaWxkLnRvSlNPTigpKQogICAgICB9KTsKICAgIH0KICB9OwogIHZhciBYbWxEb2N1bWVudCA9IGNsYXNzIGV4dGVuZHMgWG1sTm9kZSB7CiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbiA9IFtdKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjsKICAgIH0KICAgIGdldCBkb2N1bWVudCgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIFJvb3QgZWxlbWVudCBvZiB0aGlzIGRvY3VtZW50LCBvciBgbnVsbGAgaWYgdGhpcyBkb2N1bWVudCBpcyBlbXB0eS4KICAgICAqLwogICAgZ2V0IHJvb3QoKSB7CiAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHsKICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBYbWxFbGVtZW50KSB7CiAgICAgICAgICByZXR1cm4gY2hpbGQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgLyoqCiAgICAgKiBUZXh0IGNvbnRlbnQgb2YgdGhpcyBkb2N1bWVudCBhbmQgYWxsIGl0cyBkZXNjZW5kYW50cy4KICAgICAqLwogICAgZ2V0IHRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLm1hcCgoY2hpbGQpID0+ICJ0ZXh0IiBpbiBjaGlsZCA/IGNoaWxkLnRleHQgOiAiIikuam9pbigiIik7CiAgICB9CiAgICBnZXQgdHlwZSgpIHsKICAgICAgcmV0dXJuIFhtbE5vZGUuVFlQRV9ET0NVTUVOVDsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICBjaGlsZHJlbjogdGhpcy5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiBjaGlsZC50b0pTT04oKSkKICAgICAgfSk7CiAgICB9CiAgfTsKICB2YXIgWG1sRG9jdW1lbnRUeXBlID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKG5hbWUsIHB1YmxpY0lkLCBzeXN0ZW1JZCwgaW50ZXJuYWxTdWJzZXQpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgICAgdGhpcy5wdWJsaWNJZCA9IHB1YmxpY0lkICE9IG51bGwgPyBwdWJsaWNJZCA6IG51bGw7CiAgICAgIHRoaXMuc3lzdGVtSWQgPSBzeXN0ZW1JZCAhPSBudWxsID8gc3lzdGVtSWQgOiBudWxsOwogICAgICB0aGlzLmludGVybmFsU3Vic2V0ID0gaW50ZXJuYWxTdWJzZXQgIT0gbnVsbCA/IGludGVybmFsU3Vic2V0IDogbnVsbDsKICAgIH0KICAgIGdldCB0eXBlKCkgewogICAgICByZXR1cm4gWG1sTm9kZS5UWVBFX0RPQ1VNRU5UX1RZUEU7CiAgICB9CiAgICB0b0pTT04oKSB7CiAgICAgIGxldCBqc29uID0gWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7CiAgICAgIGpzb24ubmFtZSA9IHRoaXMubmFtZTsKICAgICAgZm9yIChsZXQga2V5IG9mIFsicHVibGljSWQiLCAic3lzdGVtSWQiLCAiaW50ZXJuYWxTdWJzZXQiXSkgewogICAgICAgIGlmICh0aGlzW2tleV0gIT09IG51bGwpIHsKICAgICAgICAgIGpzb25ba2V5XSA9IHRoaXNba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGpzb247CiAgICB9CiAgfTsKICB2YXIgWG1sRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHsKICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGNoYXJJbmRleCwgeG1sKSB7CiAgICAgIGxldCBjb2x1bW4gPSAxOwogICAgICBsZXQgZXhjZXJwdCA9ICIiOwogICAgICBsZXQgbGluZSA9IDE7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhckluZGV4OyArK2kpIHsKICAgICAgICBsZXQgY2hhciA9IHhtbFtpXTsKICAgICAgICBpZiAoY2hhciA9PT0gIlxuIikgewogICAgICAgICAgY29sdW1uID0gMTsKICAgICAgICAgIGV4Y2VycHQgPSAiIjsKICAgICAgICAgIGxpbmUgKz0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29sdW1uICs9IDE7CiAgICAgICAgICBleGNlcnB0ICs9IGNoYXI7CiAgICAgICAgfQogICAgICB9CiAgICAgIGxldCBlb2wgPSB4bWwuaW5kZXhPZigiXG4iLCBjaGFySW5kZXgpOwogICAgICBleGNlcnB0ICs9IGVvbCA9PT0gLTEgPyB4bWwuc2xpY2UoY2hhckluZGV4KSA6IHhtbC5zbGljZShjaGFySW5kZXgsIGVvbCk7CiAgICAgIGxldCBleGNlcnB0U3RhcnQgPSAwOwogICAgICBpZiAoZXhjZXJwdC5sZW5ndGggPiA1MCkgewogICAgICAgIGlmIChjb2x1bW4gPCA0MCkgewogICAgICAgICAgZXhjZXJwdCA9IGV4Y2VycHQuc2xpY2UoMCwgNTApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBleGNlcnB0U3RhcnQgPSBjb2x1bW4gLSAyMDsKICAgICAgICAgIGV4Y2VycHQgPSBleGNlcnB0LnNsaWNlKGV4Y2VycHRTdGFydCwgY29sdW1uICsgMzApOwogICAgICAgIH0KICAgICAgfQogICAgICBzdXBlcigKICAgICAgICBgJHttZXNzYWdlfSAobGluZSAke2xpbmV9LCBjb2x1bW4gJHtjb2x1bW59KQogICR7ZXhjZXJwdH0KYCArICIgIi5yZXBlYXQoY29sdW1uIC0gZXhjZXJwdFN0YXJ0ICsgMSkgKyAiXlxuIgogICAgICApOwogICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjsKICAgICAgdGhpcy5leGNlcnB0ID0gZXhjZXJwdDsKICAgICAgdGhpcy5saW5lID0gbGluZTsKICAgICAgdGhpcy5uYW1lID0gIlhtbEVycm9yIjsKICAgICAgdGhpcy5wb3MgPSBjaGFySW5kZXg7CiAgICB9CiAgfTsKICB2YXIgWG1sUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNvbnRlbnQgPSAiIikgewogICAgICBzdXBlcigpOwogICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50OwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfUFJPQ0VTU0lOR19JTlNUUlVDVElPTjsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50CiAgICAgIH0pOwogICAgfQogIH07CiAgdmFyIGVtcHR5U3RyaW5nMiA9ICIiOwogIHZhciBQYXJzZXIgPSBjbGFzcyB7CiAgICAvKioKICAgICAqIEBwYXJhbSB4bWwgWE1MIHN0cmluZyB0byBwYXJzZS4KICAgICAqIEBwYXJhbSBvcHRpb25zIFBhcnNlciBvcHRpb25zLgogICAgICovCiAgICBjb25zdHJ1Y3Rvcih4bWwsIG9wdGlvbnMgPSB7fSkgewogICAgICBsZXQgZG9jID0gdGhpcy5kb2N1bWVudCA9IG5ldyBYbWxEb2N1bWVudCgpOwogICAgICBsZXQgc2Nhbm5lciA9IHRoaXMuYyA9IG5ldyBTdHJpbmdTY2FubmVyKHhtbCk7CiAgICAgIHRoaXMubCA9IGRvYzsKICAgICAgdGhpcy5mID0gb3B0aW9uczsKICAgICAgaWYgKHRoaXMuZi5pbmNsdWRlT2Zmc2V0cykgewogICAgICAgIGRvYy5zdGFydCA9IDA7CiAgICAgICAgZG9jLmVuZCA9IHhtbC5sZW5ndGg7CiAgICAgIH0KICAgICAgc2Nhbm5lci5iKCJcdUZFRkYiKTsKICAgICAgdGhpcy5IKCk7CiAgICAgIGlmICghdGhpcy5CKCkpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlJvb3QgZWxlbWVudCBpcyBtaXNzaW5nIG9yIGludmFsaWQiKTsKICAgICAgfQogICAgICB3aGlsZSAodGhpcy53KCkpIHsKICAgICAgfQogICAgICBpZiAoIXNjYW5uZXIueikgewogICAgICAgIHRocm93IHRoaXMuYSgiRXh0cmEgY29udGVudCBhdCB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudCIpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEFkZHMgdGhlIGdpdmVuIGBYbWxOb2RlYCBhcyBhIGNoaWxkIG9mIGB0aGlzLmN1cnJlbnROb2RlYC4KICAgICAqLwogICAgaihub2RlLCBjaGFySW5kZXgpIHsKICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzLmw7CiAgICAgIGlmICh0aGlzLmYuaW5jbHVkZU9mZnNldHMpIHsKICAgICAgICBub2RlLnN0YXJ0ID0gdGhpcy5jLmkoY2hhckluZGV4KTsKICAgICAgICBub2RlLmVuZCA9IHRoaXMuYy5pKCk7CiAgICAgIH0KICAgICAgdGhpcy5sLmNoaWxkcmVuLnB1c2gobm9kZSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgLyoqCiAgICAgKiBBZGRzIHRoZSBnaXZlbiBfdGV4dF8gdG8gdGhlIGRvY3VtZW50LCBlaXRoZXIgYnkgYXBwZW5kaW5nIGl0IHRvIGEKICAgICAqIHByZWNlZGluZyBgWG1sVGV4dGAgbm9kZSAoaWYgcG9zc2libGUpIG9yIGJ5IGNyZWF0aW5nIGEgbmV3IGBYbWxUZXh0YCBub2RlLgogICAgICovCiAgICB4KHRleHQsIGNoYXJJbmRleCkgewogICAgICBsZXQgeyBjaGlsZHJlbiB9ID0gdGhpcy5sOwogICAgICBsZXQgeyBsZW5ndGggfSA9IGNoaWxkcmVuOwogICAgICB0ZXh0ID0gbm9ybWFsaXplTGluZUJyZWFrcyh0ZXh0KTsKICAgICAgaWYgKGxlbmd0aCA+IDApIHsKICAgICAgICBsZXQgcHJldk5vZGUgPSBjaGlsZHJlbltsZW5ndGggLSAxXTsKICAgICAgICBpZiAoKHByZXZOb2RlID09IG51bGwgPyB2b2lkIDAgOiBwcmV2Tm9kZS50eXBlKSA9PT0gWG1sTm9kZS5UWVBFX1RFWFQpIHsKICAgICAgICAgIGxldCB0ZXh0Tm9kZSA9IHByZXZOb2RlOwogICAgICAgICAgdGV4dE5vZGUudGV4dCArPSB0ZXh0OwogICAgICAgICAgaWYgKHRoaXMuZi5pbmNsdWRlT2Zmc2V0cykgewogICAgICAgICAgICB0ZXh0Tm9kZS5lbmQgPSB0aGlzLmMuaSgpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmoobmV3IFhtbFRleHQodGV4dCksIGNoYXJJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGVsZW1lbnQgYXR0cmlidXRlcy4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy1zdGFydHRhZ3MKICAgICAqLwogICAgSSgpIHsKICAgICAgbGV0IGF0dHJpYnV0ZXMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgICAgd2hpbGUgKHRoaXMuZSgpKSB7CiAgICAgICAgbGV0IGF0dHJOYW1lID0gdGhpcy5yKCk7CiAgICAgICAgaWYgKCFhdHRyTmFtZSkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGxldCBhdHRyVmFsdWUgPSB0aGlzLnUoKSAmJiB0aGlzLkooKTsKICAgICAgICBpZiAoYXR0clZhbHVlID09PSBmYWxzZSkgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCJBdHRyaWJ1dGUgdmFsdWUgZXhwZWN0ZWQiKTsKICAgICAgICB9CiAgICAgICAgaWYgKGF0dHJOYW1lIGluIGF0dHJpYnV0ZXMpIHsKICAgICAgICAgIHRocm93IHRoaXMuYShgRHVwbGljYXRlIGF0dHJpYnV0ZTogJHthdHRyTmFtZX1gKTsKICAgICAgICB9CiAgICAgICAgaWYgKGF0dHJOYW1lID09PSAieG1sOnNwYWNlIiAmJiBhdHRyVmFsdWUgIT09ICJkZWZhdWx0IiAmJiBhdHRyVmFsdWUgIT09ICJwcmVzZXJ2ZSIpIHsKICAgICAgICAgIHRocm93IHRoaXMuYSgnVmFsdWUgb2YgdGhlIGB4bWw6c3BhY2VgIGF0dHJpYnV0ZSBtdXN0IGJlICJkZWZhdWx0IiBvciAicHJlc2VydmUiJyk7CiAgICAgICAgfQogICAgICAgIGF0dHJpYnV0ZXNbYXR0ck5hbWVdID0gYXR0clZhbHVlOwogICAgICB9CiAgICAgIGlmICh0aGlzLmYuc29ydEF0dHJpYnV0ZXMpIHsKICAgICAgICBsZXQgYXR0ck5hbWVzID0gT2JqZWN0LmtleXMoYXR0cmlidXRlcykuc29ydCgpOwogICAgICAgIGxldCBzb3J0ZWRBdHRyaWJ1dGVzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyTmFtZXMubGVuZ3RoOyArK2kpIHsKICAgICAgICAgIGxldCBhdHRyTmFtZSA9IGF0dHJOYW1lc1tpXTsKICAgICAgICAgIHNvcnRlZEF0dHJpYnV0ZXNbYXR0ck5hbWVdID0gYXR0cmlidXRlc1thdHRyTmFtZV07CiAgICAgICAgfQogICAgICAgIGF0dHJpYnV0ZXMgPSBzb3J0ZWRBdHRyaWJ1dGVzOwogICAgICB9CiAgICAgIHJldHVybiBhdHRyaWJ1dGVzOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhbiBgQXR0VmFsdWVgIChhdHRyaWJ1dGUgdmFsdWUpIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zCiAgICAgKiAgIENvbnRlbnRzIG9mIHRoZSBgQXR0VmFsdWVgIG1pbnVzIHF1b3Rlcywgb3IgYGZhbHNlYCBpZiBub3RoaW5nIHdhcwogICAgICogICBjb25zdW1lZC4gQW4gZW1wdHkgc3RyaW5nIGluZGljYXRlcyB0aGF0IGFuIGBBdHRWYWx1ZWAgd2FzIGNvbnN1bWVkIGJ1dAogICAgICogICB3YXMgZW1wdHkuCiAgICAgKgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1BdHRWYWx1ZQogICAgICovCiAgICBKKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgcXVvdGUgPSBzY2FubmVyLmgoKTsKICAgICAgaWYgKHF1b3RlICE9PSAnIicgJiYgcXVvdGUgIT09ICInIikgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBzY2FubmVyLmcoKTsKICAgICAgbGV0IGNoYXJzOwogICAgICBsZXQgaXNDbG9zZWQgPSBmYWxzZTsKICAgICAgbGV0IHZhbHVlID0gZW1wdHlTdHJpbmcyOwogICAgICBsZXQgcmVnZXggPSBxdW90ZSA9PT0gJyInID8gYXR0VmFsdWVDaGFyRG91YmxlUXVvdGUgOiBhdHRWYWx1ZUNoYXJTaW5nbGVRdW90ZTsKICAgICAgbWF0Y2hMb29wOgogICAgICAgIHdoaWxlICghc2Nhbm5lci56KSB7CiAgICAgICAgICBjaGFycyA9IHNjYW5uZXIuRyhyZWdleCk7CiAgICAgICAgICBpZiAoY2hhcnMpIHsKICAgICAgICAgICAgdGhpcy5wKGNoYXJzKTsKICAgICAgICAgICAgdmFsdWUgKz0gY2hhcnMucmVwbGFjZShhdHRWYWx1ZU5vcm1hbGl6ZWRXaGl0ZXNwYWNlLCAiICIpOwogICAgICAgICAgfQogICAgICAgICAgc3dpdGNoIChzY2FubmVyLmgoKSkgewogICAgICAgICAgICBjYXNlIHF1b3RlOgogICAgICAgICAgICAgIGlzQ2xvc2VkID0gdHJ1ZTsKICAgICAgICAgICAgICBicmVhayBtYXRjaExvb3A7CiAgICAgICAgICAgIGNhc2UgIiYiOgogICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuQygpOwogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICBjYXNlICI8IjoKICAgICAgICAgICAgICB0aHJvdyB0aGlzLmEoIlVuZXNjYXBlZCBgPGAgaXMgbm90IGFsbG93ZWQgaW4gYW4gYXR0cmlidXRlIHZhbHVlIik7CiAgICAgICAgICAgIGNhc2UgZW1wdHlTdHJpbmcyOgogICAgICAgICAgICAgIGJyZWFrIG1hdGNoTG9vcDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIGlmICghaXNDbG9zZWQpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlVuY2xvc2VkIGF0dHJpYnV0ZSIpOwogICAgICB9CiAgICAgIHNjYW5uZXIuZygpOwogICAgICByZXR1cm4gdmFsdWU7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgQ0RBVEEgc2VjdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGEgQ0RBVEEgc2VjdGlvbiB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy1jZGF0YS1zZWN0CiAgICAgKi8KICAgIEsoKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPCFbQ0RBVEFbIikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IHRleHQgPSBzY2FubmVyLnQoIl1dPiIpOwogICAgICB0aGlzLnAodGV4dCk7CiAgICAgIGlmICghc2Nhbm5lci5iKCJdXT4iKSkgewogICAgICAgIHRocm93IHRoaXMuYSgiVW5jbG9zZWQgQ0RBVEEgc2VjdGlvbiIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmYucHJlc2VydmVDZGF0YSA/IHRoaXMuaihuZXcgWG1sQ2RhdGEobm9ybWFsaXplTGluZUJyZWFrcyh0ZXh0KSksIHN0YXJ0SW5kZXgpIDogdGhpcy54KHRleHQsIHN0YXJ0SW5kZXgpOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBjaGFyYWN0ZXIgZGF0YSBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGNoYXJhY3RlciBkYXRhIHdhcyBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jZHQtY2hhcmRhdGEKICAgICAqLwogICAgTCgpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSBzY2FubmVyLmQ7CiAgICAgIGxldCBjaGFyRGF0YSA9IHNjYW5uZXIuQShlbmRDaGFyRGF0YSk7CiAgICAgIGlmICghY2hhckRhdGEpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdGhpcy5wKGNoYXJEYXRhKTsKICAgICAgaWYgKHNjYW5uZXIuaCgzKSA9PT0gIl1dPiIpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIkVsZW1lbnQgY29udGVudCBtYXkgbm90IGNvbnRhaW4gdGhlIENEQVRBIHNlY3Rpb24gY2xvc2UgZGVsaW1pdGVyIGBdXT5gIik7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMueChjaGFyRGF0YSwgc3RhcnRJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgY29tbWVudCBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGEgY29tbWVudCB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULUNvbW1lbnQKICAgICAqLwogICAgRCgpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSBzY2FubmVyLmQ7CiAgICAgIGlmICghc2Nhbm5lci5iKCI8IS0tIikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IGNvbnRlbnQgPSBzY2FubmVyLnQoIi0tIik7CiAgICAgIHRoaXMucChjb250ZW50KTsKICAgICAgaWYgKCFzY2FubmVyLmIoIi0tPiIpKSB7CiAgICAgICAgaWYgKHNjYW5uZXIuaCgyKSA9PT0gIi0tIikgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCJUaGUgc3RyaW5nIGAtLWAgaXNuJ3QgYWxsb3dlZCBpbnNpZGUgYSBjb21tZW50Iik7CiAgICAgICAgfQogICAgICAgIHRocm93IHRoaXMuYSgiVW5jbG9zZWQgY29tbWVudCIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmYucHJlc2VydmVDb21tZW50cyA/IHRoaXMuaihuZXcgWG1sQ29tbWVudChub3JtYWxpemVMaW5lQnJlYWtzKGNvbnRlbnQpKSwgc3RhcnRJbmRleCkgOiB0cnVlOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhIHJlZmVyZW5jZSBpbiBhIGNvbnRlbnQgY29udGV4dCBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBUaGlzIGRpZmZlcnMgZnJvbSBgY29uc3VtZVJlZmVyZW5jZSgpYCBpbiB0aGF0IGEgY29uc3VtZWQgcmVmZXJlbmNlIHdpbGwgYmUKICAgICAqIGFkZGVkIHRvIHRoZSBkb2N1bWVudCBhcyBhIHRleHQgbm9kZSBpbnN0ZWFkIG9mIHJldHVybmVkLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSByZWZlcmVuY2Ugd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNlbnRwcm9jCiAgICAgKi8KICAgIE0oKSB7CiAgICAgIGxldCBzdGFydEluZGV4ID0gdGhpcy5jLmQ7CiAgICAgIGxldCByZWYgPSB0aGlzLkMoKTsKICAgICAgcmV0dXJuIHJlZiA/IHRoaXMueChyZWYsIHN0YXJ0SW5kZXgpIDogZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgZG9jdHlwZSBkZWNsYXJhdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBUaGlzIGlzIGEgbG9vc2UgaW1wbGVtZW50YXRpb24gc2luY2UgZG9jdHlwZSBkZWNsYXJhdGlvbnMgYXJlIGN1cnJlbnRseQogICAgICogZGlzY2FyZGVkIHdpdGhvdXQgZnVydGhlciBwYXJzaW5nLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSBkb2N0eXBlIGRlY2xhcmF0aW9uIHdhcyBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jZHRkCiAgICAgKi8KICAgIE4oKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPCFET0NUWVBFIikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IG5hbWUgPSB0aGlzLmUoKSAmJiB0aGlzLnIoKTsKICAgICAgaWYgKCFuYW1lKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJFeHBlY3RlZCBhIG5hbWUiKTsKICAgICAgfQogICAgICBsZXQgcHVibGljSWQ7CiAgICAgIGxldCBzeXN0ZW1JZDsKICAgICAgaWYgKHRoaXMuZSgpKSB7CiAgICAgICAgaWYgKHNjYW5uZXIuYigiUFVCTElDIikpIHsKICAgICAgICAgIHB1YmxpY0lkID0gdGhpcy5lKCkgJiYgdGhpcy5PKCk7CiAgICAgICAgICBpZiAocHVibGljSWQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHRocm93IHRoaXMuYSgiRXhwZWN0ZWQgYSBwdWJsaWMgaWRlbnRpZmllciIpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5lKCk7CiAgICAgICAgfQogICAgICAgIGlmIChwdWJsaWNJZCAhPT0gdm9pZCAwIHx8IHNjYW5uZXIuYigiU1lTVEVNIikpIHsKICAgICAgICAgIHRoaXMuZSgpOwogICAgICAgICAgc3lzdGVtSWQgPSB0aGlzLnMoKTsKICAgICAgICAgIGlmIChzeXN0ZW1JZCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgdGhyb3cgdGhpcy5hKCJFeHBlY3RlZCBhIHN5c3RlbSBpZGVudGlmaWVyIik7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmUoKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbGV0IGludGVybmFsU3Vic2V0OwogICAgICBpZiAoc2Nhbm5lci5iKCJbIikpIHsKICAgICAgICBpbnRlcm5hbFN1YnNldCA9IHNjYW5uZXIuQSgvXF1bXHgyMFx0XHJcbl0qPi8pOwogICAgICAgIGlmICghc2Nhbm5lci5iKCJdIikpIHsKICAgICAgICAgIHRocm93IHRoaXMuYSgiVW5jbG9zZWQgaW50ZXJuYWwgc3Vic2V0Iik7CiAgICAgICAgfQogICAgICAgIHRoaXMuZSgpOwogICAgICB9CiAgICAgIGlmICghc2Nhbm5lci5iKCI+IikpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlVuY2xvc2VkIGRvY3R5cGUgZGVjbGFyYXRpb24iKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5mLnByZXNlcnZlRG9jdW1lbnRUeXBlID8gdGhpcy5qKG5ldyBYbWxEb2N1bWVudFR5cGUobmFtZSwgcHVibGljSWQsIHN5c3RlbUlkLCBpbnRlcm5hbFN1YnNldCksIHN0YXJ0SW5kZXgpIDogdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYW4gZWxlbWVudCBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGFuIGVsZW1lbnQgd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1lbGVtZW50CiAgICAgKi8KICAgIEIoKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPCIpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGxldCBuYW1lID0gdGhpcy5yKCk7CiAgICAgIGlmICghbmFtZSkgewogICAgICAgIHNjYW5uZXIubyhzdGFydEluZGV4KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IGF0dHJpYnV0ZXMgPSB0aGlzLkkoKTsKICAgICAgbGV0IGlzRW1wdHkgPSAhIXNjYW5uZXIuYigiLz4iKTsKICAgICAgbGV0IGVsZW1lbnQgPSBuZXcgWG1sRWxlbWVudChuYW1lLCBhdHRyaWJ1dGVzKTsKICAgICAgZWxlbWVudC5wYXJlbnQgPSB0aGlzLmw7CiAgICAgIGlmICghaXNFbXB0eSkgewogICAgICAgIGlmICghc2Nhbm5lci5iKCI+IikpIHsKICAgICAgICAgIHRocm93IHRoaXMuYShgVW5jbG9zZWQgc3RhcnQgdGFnIGZvciBlbGVtZW50IFxgJHtuYW1lfVxgYCk7CiAgICAgICAgfQogICAgICAgIHRoaXMubCA9IGVsZW1lbnQ7CiAgICAgICAgZG8gewogICAgICAgICAgdGhpcy5MKCk7CiAgICAgICAgfSB3aGlsZSAodGhpcy5CKCkgfHwgdGhpcy5NKCkgfHwgdGhpcy5LKCkgfHwgdGhpcy5FKCkgfHwgdGhpcy5EKCkpOwogICAgICAgIGxldCBlbmRUYWdNYXJrID0gc2Nhbm5lci5kOwogICAgICAgIGxldCBlbmRUYWdOYW1lOwogICAgICAgIGlmICghc2Nhbm5lci5iKCI8LyIpIHx8ICEoZW5kVGFnTmFtZSA9IHRoaXMucigpKSB8fCBlbmRUYWdOYW1lICE9PSBuYW1lKSB7CiAgICAgICAgICBzY2FubmVyLm8oZW5kVGFnTWFyayk7CiAgICAgICAgICB0aHJvdyB0aGlzLmEoYE1pc3NpbmcgZW5kIHRhZyBmb3IgZWxlbWVudCAke25hbWV9YCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuZSgpOwogICAgICAgIGlmICghc2Nhbm5lci5iKCI+IikpIHsKICAgICAgICAgIHRocm93IHRoaXMuYShgVW5jbG9zZWQgZW5kIHRhZyBmb3IgZWxlbWVudCAke25hbWV9YCk7CiAgICAgICAgfQogICAgICAgIHRoaXMubCA9IGVsZW1lbnQucGFyZW50OwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmooZWxlbWVudCwgc3RhcnRJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGFuIGBFcWAgcHJvZHVjdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGFuIGBFcWAgcHJvZHVjdGlvbiB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULUVxCiAgICAgKi8KICAgIHUoKSB7CiAgICAgIHRoaXMuZSgpOwogICAgICBpZiAodGhpcy5jLmIoIj0iKSkgewogICAgICAgIHRoaXMuZSgpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYE1pc2NgIGNvbnRlbnQgaWYgcG9zc2libGUuCiAgICAgKgogICAgICogQHJldHVybnMgV2hldGhlciBhbnl0aGluZyB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULU1pc2MKICAgICAqLwogICAgdygpIHsKICAgICAgcmV0dXJuIHRoaXMuRCgpIHx8IHRoaXMuRSgpIHx8IHRoaXMuZSgpOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBvbmUgb3IgbW9yZSBgTmFtZWAgY2hhcmFjdGVycyBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBgTmFtZWAgY2hhcmFjdGVycywgb3IgYW4gZW1wdHkgc3RyaW5nIGlmIG5vbmUgd2VyZSBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jTlQtTmFtZQogICAgICovCiAgICByKCkgewogICAgICByZXR1cm4gaXNOYW1lU3RhcnRDaGFyKHRoaXMuYy5oKCkpID8gdGhpcy5jLnYoaXNOYW1lQ2hhcikgOiBlbXB0eVN0cmluZzI7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGEgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy1waQogICAgICovCiAgICBFKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgc3RhcnRJbmRleCA9IHNjYW5uZXIuZDsKICAgICAgaWYgKCFzY2FubmVyLmIoIjw/IikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IG5hbWUgPSB0aGlzLnIoKTsKICAgICAgaWYgKG5hbWUpIHsKICAgICAgICBpZiAobmFtZS50b0xvd2VyQ2FzZSgpID09PSAieG1sIikgewogICAgICAgICAgc2Nhbm5lci5vKHN0YXJ0SW5kZXgpOwogICAgICAgICAgdGhyb3cgdGhpcy5hKCJYTUwgZGVjbGFyYXRpb24gaXNuJ3QgYWxsb3dlZCBoZXJlIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IHRoaXMuYSgiSW52YWxpZCBwcm9jZXNzaW5nIGluc3RydWN0aW9uIik7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmUoKSkgewogICAgICAgIGlmIChzY2FubmVyLmIoIj8+IikpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmoobmV3IFhtbFByb2Nlc3NpbmdJbnN0cnVjdGlvbihuYW1lKSwgc3RhcnRJbmRleCk7CiAgICAgICAgfQogICAgICAgIHRocm93IHRoaXMuYSgiV2hpdGVzcGFjZSBpcyByZXF1aXJlZCBhZnRlciBhIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbmFtZSIpOwogICAgICB9CiAgICAgIGxldCBjb250ZW50ID0gc2Nhbm5lci50KCI/PiIpOwogICAgICB0aGlzLnAoY29udGVudCk7CiAgICAgIGlmICghc2Nhbm5lci5iKCI/PiIpKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJVbnRlcm1pbmF0ZWQgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmoobmV3IFhtbFByb2Nlc3NpbmdJbnN0cnVjdGlvbihuYW1lLCBub3JtYWxpemVMaW5lQnJlYWtzKGNvbnRlbnQpKSwgc3RhcnRJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgcHJvbG9nIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSBwcm9sb2cgd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNzZWMtcHJvbG9nLWR0ZAogICAgICovCiAgICBIKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgc3RhcnRJbmRleCA9IHNjYW5uZXIuZDsKICAgICAgdGhpcy5QKCk7CiAgICAgIHdoaWxlICh0aGlzLncoKSkgewogICAgICB9CiAgICAgIGlmICh0aGlzLk4oKSkgewogICAgICAgIHdoaWxlICh0aGlzLncoKSkgewogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gc3RhcnRJbmRleCA8IHNjYW5uZXIuZDsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYSBwdWJsaWMgaWRlbnRpZmllciBsaXRlcmFsIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zCiAgICAgKiAgIFZhbHVlIG9mIHRoZSBwdWJsaWMgaWRlbnRpZmllciBsaXRlcmFsIG1pbnVzIHF1b3Rlcywgb3IgYGZhbHNlYCBpZgogICAgICogICBub3RoaW5nIHdhcyBjb25zdW1lZC4gQW4gZW1wdHkgc3RyaW5nIGluZGljYXRlcyB0aGF0IGEgcHVibGljIGlkIGxpdGVyYWwKICAgICAqICAgd2FzIGNvbnN1bWVkIGJ1dCB3YXMgZW1wdHkuCiAgICAgKgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1QdWJpZExpdGVyYWwKICAgICAqLwogICAgTygpIHsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSB0aGlzLmMuZDsKICAgICAgbGV0IHZhbHVlID0gdGhpcy5zKCk7CiAgICAgIGlmICh2YWx1ZSAhPT0gZmFsc2UgJiYgIS9eWy1ceDIwXHJcbmEtekEtWjAtOScoKSssLi86PT87ISojQCRfJV0qJC8udGVzdCh2YWx1ZSkpIHsKICAgICAgICB0aGlzLmMubyhzdGFydEluZGV4KTsKICAgICAgICB0aHJvdyB0aGlzLmEoIkludmFsaWQgY2hhcmFjdGVyIGluIHB1YmxpYyBpZGVudGlmaWVyIik7CiAgICAgIH0KICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhIHJlZmVyZW5jZSBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBUaGlzIGRpZmZlcnMgZnJvbSBgY29uc3VtZUNvbnRlbnRSZWZlcmVuY2UoKWAgaW4gdGhhdCBhIGNvbnN1bWVkIHJlZmVyZW5jZQogICAgICogd2lsbCBiZSByZXR1cm5lZCByYXRoZXIgdGhhbiBhZGRlZCB0byB0aGUgZG9jdW1lbnQuCiAgICAgKgogICAgICogQHJldHVybnMKICAgICAqICAgUGFyc2VkIHJlZmVyZW5jZSB2YWx1ZSwgb3IgYGZhbHNlYCBpZiBub3RoaW5nIHdhcyBjb25zdW1lZCAodG8KICAgICAqICAgZGlzdGluZ3Vpc2ggZnJvbSBhIHJlZmVyZW5jZSB0aGF0IHJlc29sdmVzIHRvIGFuIGVtcHR5IHN0cmluZykuCiAgICAgKgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1SZWZlcmVuY2UKICAgICAqLwogICAgQygpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgaWYgKCFzY2FubmVyLmIoIiYiKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBsZXQgcmVmID0gc2Nhbm5lci52KGlzUmVmZXJlbmNlQ2hhcik7CiAgICAgIGlmIChzY2FubmVyLkYoKSAhPT0gIjsiKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJVbnRlcm1pbmF0ZWQgcmVmZXJlbmNlIChhIHJlZmVyZW5jZSBtdXN0IGVuZCB3aXRoIGA7YCkiKTsKICAgICAgfQogICAgICBsZXQgcGFyc2VkVmFsdWU7CiAgICAgIGlmIChyZWZbMF0gPT09ICIjIikgewogICAgICAgIGxldCBjb2RlUG9pbnQgPSByZWZbMV0gPT09ICJ4IiA/IHBhcnNlSW50KHJlZi5zbGljZSgyKSwgMTYpIDogcGFyc2VJbnQocmVmLnNsaWNlKDEpLCAxMCk7CiAgICAgICAgaWYgKGlzTmFOKGNvZGVQb2ludCkpIHsKICAgICAgICAgIHRocm93IHRoaXMuYSgiSW52YWxpZCBjaGFyYWN0ZXIgcmVmZXJlbmNlIik7CiAgICAgICAgfQogICAgICAgIGlmICghaXNYbWxDb2RlUG9pbnQoY29kZVBvaW50KSkgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCJDaGFyYWN0ZXIgcmVmZXJlbmNlIHJlc29sdmVzIHRvIGFuIGludmFsaWQgY2hhcmFjdGVyIik7CiAgICAgICAgfQogICAgICAgIHBhcnNlZFZhbHVlID0gU3RyaW5nLmZyb21Db2RlUG9pbnQoY29kZVBvaW50KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJzZWRWYWx1ZSA9IHByZWRlZmluZWRFbnRpdGllc1tyZWZdOwogICAgICAgIGlmIChwYXJzZWRWYWx1ZSA9PT0gdm9pZCAwKSB7CiAgICAgICAgICBsZXQgewogICAgICAgICAgICBpZ25vcmVVbmRlZmluZWRFbnRpdGllcywKICAgICAgICAgICAgcmVzb2x2ZVVuZGVmaW5lZEVudGl0eQogICAgICAgICAgfSA9IHRoaXMuZjsKICAgICAgICAgIGxldCB3cmFwcGVkUmVmID0gYCYke3JlZn07YDsKICAgICAgICAgIGlmIChyZXNvbHZlVW5kZWZpbmVkRW50aXR5KSB7CiAgICAgICAgICAgIGxldCByZXNvbHZlZFZhbHVlID0gcmVzb2x2ZVVuZGVmaW5lZEVudGl0eSh3cmFwcGVkUmVmKTsKICAgICAgICAgICAgaWYgKHJlc29sdmVkVmFsdWUgIT09IG51bGwgJiYgcmVzb2x2ZWRWYWx1ZSAhPT0gdm9pZCAwKSB7CiAgICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlb2YgcmVzb2x2ZWRWYWx1ZTsKICAgICAgICAgICAgICBpZiAodHlwZSAhPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFxgcmVzb2x2ZVVuZGVmaW5lZEVudGl0eSgpXGAgbXVzdCByZXR1cm4gYSBzdHJpbmcsIFxgbnVsbFxgLCBvciBcYHVuZGVmaW5lZFxgLCBidXQgcmV0dXJuZWQgYSB2YWx1ZSBvZiB0eXBlICR7dHlwZX1gKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkVmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChpZ25vcmVVbmRlZmluZWRFbnRpdGllcykgewogICAgICAgICAgICByZXR1cm4gd3JhcHBlZFJlZjsKICAgICAgICAgIH0KICAgICAgICAgIHNjYW5uZXIubygtd3JhcHBlZFJlZi5sZW5ndGgpOwogICAgICAgICAgdGhyb3cgdGhpcy5hKGBOYW1lZCBlbnRpdHkgaXNuJ3QgZGVmaW5lZDogJHt3cmFwcGVkUmVmfWApOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gcGFyc2VkVmFsdWU7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgYFN5c3RlbUxpdGVyYWxgIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEEgYFN5c3RlbUxpdGVyYWxgIGlzIHNpbWlsYXIgdG8gYW4gYXR0cmlidXRlIHZhbHVlLCBidXQgYWxsb3dzIHRoZQogICAgICogY2hhcmFjdGVycyBgPGAgYW5kIGAmYCBhbmQgZG9lc24ndCByZXBsYWNlIHJlZmVyZW5jZXMuCiAgICAgKgogICAgICogQHJldHVybnMKICAgICAqICAgVmFsdWUgb2YgdGhlIGBTeXN0ZW1MaXRlcmFsYCBtaW51cyBxdW90ZXMsIG9yIGBmYWxzZWAgaWYgbm90aGluZyB3YXMKICAgICAqICAgY29uc3VtZWQuIEFuIGVtcHR5IHN0cmluZyBpbmRpY2F0ZXMgdGhhdCBhIGBTeXN0ZW1MaXRlcmFsYCB3YXMgY29uc3VtZWQKICAgICAqICAgYnV0IHdhcyBlbXB0eS4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULVN5c3RlbUxpdGVyYWwKICAgICAqLwogICAgcygpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHF1b3RlID0gc2Nhbm5lci5iKCciJykgfHwgc2Nhbm5lci5iKCInIik7CiAgICAgIGlmICghcXVvdGUpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IHZhbHVlID0gc2Nhbm5lci50KHF1b3RlKTsKICAgICAgdGhpcy5wKHZhbHVlKTsKICAgICAgaWYgKCFzY2FubmVyLmIocXVvdGUpKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJNaXNzaW5nIGVuZCBxdW90ZSIpOwogICAgICB9CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgb25lIG9yIG1vcmUgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYW55IHdoaXRlc3BhY2UgY2hhcmFjdGVycyB3ZXJlIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyN3aGl0ZQogICAgICovCiAgICBlKCkgewogICAgICByZXR1cm4gISF0aGlzLmMudihpc1doaXRlc3BhY2UpOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhbiBYTUwgZGVjbGFyYXRpb24gaWYgcG9zc2libGUuCiAgICAgKgogICAgICogQHJldHVybnMgV2hldGhlciBhbiBYTUwgZGVjbGFyYXRpb24gd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1YTUxEZWNsCiAgICAgKi8KICAgIFAoKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPD94bWwiKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBpZiAoIXRoaXMuZSgpKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJJbnZhbGlkIFhNTCBkZWNsYXJhdGlvbiIpOwogICAgICB9CiAgICAgIGxldCB2ZXJzaW9uID0gISFzY2FubmVyLmIoInZlcnNpb24iKSAmJiB0aGlzLnUoKSAmJiB0aGlzLnMoKTsKICAgICAgaWYgKHZlcnNpb24gPT09IGZhbHNlKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJYTUwgdmVyc2lvbiBpcyBtaXNzaW5nIG9yIGludmFsaWQiKTsKICAgICAgfSBlbHNlIGlmICghL14xXC5bMC05XSskLy50ZXN0KHZlcnNpb24pKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJJbnZhbGlkIGNoYXJhY3RlciBpbiB2ZXJzaW9uIG51bWJlciIpOwogICAgICB9CiAgICAgIGxldCBlbmNvZGluZzsKICAgICAgbGV0IHN0YW5kYWxvbmU7CiAgICAgIGlmICh0aGlzLmUoKSkgewogICAgICAgIGVuY29kaW5nID0gISFzY2FubmVyLmIoImVuY29kaW5nIikgJiYgdGhpcy51KCkgJiYgdGhpcy5zKCk7CiAgICAgICAgaWYgKGVuY29kaW5nKSB7CiAgICAgICAgICB0aGlzLmUoKTsKICAgICAgICB9CiAgICAgICAgc3RhbmRhbG9uZSA9ICEhc2Nhbm5lci5iKCJzdGFuZGFsb25lIikgJiYgdGhpcy51KCkgJiYgdGhpcy5zKCk7CiAgICAgICAgaWYgKHN0YW5kYWxvbmUpIHsKICAgICAgICAgIGlmIChzdGFuZGFsb25lICE9PSAieWVzIiAmJiBzdGFuZGFsb25lICE9PSAibm8iKSB7CiAgICAgICAgICAgIHRocm93IHRoaXMuYSgnT25seSAieWVzIiBhbmQgIm5vIiBhcmUgcGVybWl0dGVkIGFzIHZhbHVlcyBvZiBgc3RhbmRhbG9uZWAnKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZSgpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIXNjYW5uZXIuYigiPz4iKSkgewogICAgICAgIHRocm93IHRoaXMuYSgiSW52YWxpZCBvciB1bmNsb3NlZCBYTUwgZGVjbGFyYXRpb24iKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5mLnByZXNlcnZlWG1sRGVjbGFyYXRpb24gPyB0aGlzLmoobmV3IFhtbERlY2xhcmF0aW9uKAogICAgICAgIHZlcnNpb24sCiAgICAgICAgZW5jb2RpbmcgfHwgdm9pZCAwLAogICAgICAgIHN0YW5kYWxvbmUgfHwgdm9pZCAwCiAgICAgICksIHN0YXJ0SW5kZXgpIDogdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhbiBgWG1sRXJyb3JgIGZvciB0aGUgY3VycmVudCBzY2FubmVyIHBvc2l0aW9uLgogICAgICovCiAgICBhKG1lc3NhZ2UpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgcmV0dXJuIG5ldyBYbWxFcnJvcihtZXNzYWdlLCBzY2FubmVyLmQsIHNjYW5uZXIubSk7CiAgICB9CiAgICAvKioKICAgICAqIFRocm93cyBhbiBpbnZhbGlkIGNoYXJhY3RlciBlcnJvciBpZiBhbnkgY2hhcmFjdGVyIGluIHRoZSBnaXZlbiBfc3RyaW5nXwogICAgICogaXNuJ3QgYSB2YWxpZCBYTUwgY2hhcmFjdGVyLgogICAgICovCiAgICBwKHN0cmluZykgewogICAgICBsZXQgeyBsZW5ndGggfSA9IHN0cmluZzsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkgewogICAgICAgIGxldCBjcCA9IHN0cmluZy5jb2RlUG9pbnRBdChpKTsKICAgICAgICBpZiAoIWlzWG1sQ29kZVBvaW50KGNwKSkgewogICAgICAgICAgdGhpcy5jLm8oLShbLi4uc3RyaW5nXS5sZW5ndGggLSBpKSk7CiAgICAgICAgICB0aHJvdyB0aGlzLmEoIkludmFsaWQgY2hhcmFjdGVyIik7CiAgICAgICAgfQogICAgICAgIGlmIChjcCA+IDY1NTM1KSB7CiAgICAgICAgICBpICs9IDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKICBmdW5jdGlvbiBub3JtYWxpemVMaW5lQnJlYWtzKHRleHQpIHsKICAgIGxldCBpID0gMDsKICAgIHdoaWxlICgoaSA9IHRleHQuaW5kZXhPZigiXHIiLCBpKSkgIT09IC0xKSB7CiAgICAgIHRleHQgPSB0ZXh0W2kgKyAxXSA9PT0gIlxuIiA/IHRleHQuc2xpY2UoMCwgaSkgKyB0ZXh0LnNsaWNlKGkgKyAxKSA6IHRleHQuc2xpY2UoMCwgaSkgKyAiXG4iICsgdGV4dC5zbGljZShpICsgMSk7CiAgICB9CiAgICByZXR1cm4gdGV4dDsKICB9CiAgZnVuY3Rpb24gcGFyc2VYbWwoeG1sLCBvcHRpb25zKSB7CiAgICByZXR1cm4gbmV3IFBhcnNlcih4bWwsIG9wdGlvbnMpLmRvY3VtZW50OwogIH0KICBjbGFzcyBYbWxQYXJzZUVycm9yIGV4dGVuZHMgRXJyb3IgewogICAgY29uc3RydWN0b3IobWVzc2FnZSkgewogICAgICBzdXBlcihtZXNzYWdlKTsKICAgIH0KICB9CiAgZnVuY3Rpb24gcGFyc2VYbWxTdHJpbmcoeG1sU3RyaW5nKSB7CiAgICBsZXQgZG9jID0gbnVsbDsKICAgIHRyeSB7CiAgICAgIGRvYyA9IGJyb3dzZXIucGFyc2VYbWwoeG1sU3RyaW5nKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdGhyb3cgbmV3IFhtbFBhcnNlRXJyb3IoZS5tZXNzYWdlKTsKICAgIH0KICAgIHJldHVybiBkb2M7CiAgfQogIGZ1bmN0aW9uIHN0cmlwTmFtZXNwYWNlKG5hbWUpIHsKICAgIGNvbnN0IGNvbG9uID0gbmFtZS5pbmRleE9mKCI6Iik7CiAgICByZXR1cm4gY29sb24gPiAtMSA/IG5hbWUuc3Vic3RyKGNvbG9uICsgMSkgOiBuYW1lOwogIH0KICBmdW5jdGlvbiBnZXRSb290RWxlbWVudCh4bWxEb2MpIHsKICAgIHJldHVybiB4bWxEb2MuY2hpbGRyZW5bMF07CiAgfQogIGZ1bmN0aW9uIGdldEVsZW1lbnROYW1lKGVsZW1lbnQpIHsKICAgIHJldHVybiBlbGVtZW50Lm5hbWUgfHwgIiI7CiAgfQogIGZ1bmN0aW9uIGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgbmFtZSwgbmVzdGVkID0gZmFsc2UpIHsKICAgIGNvbnN0IHN0cmlwcGVkTmFtZSA9IHN0cmlwTmFtZXNwYWNlKG5hbWUpOwogICAgZnVuY3Rpb24gcmVkdWNlcihwcmV2LCBjdXJyKSB7CiAgICAgIGlmIChzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShjdXJyKSkgPT09IHN0cmlwcGVkTmFtZSkgewogICAgICAgIHByZXYucHVzaChjdXJyKTsKICAgICAgfQogICAgICBpZiAobmVzdGVkICYmIEFycmF5LmlzQXJyYXkoY3Vyci5jaGlsZHJlbikpIHsKICAgICAgICByZXR1cm4gWy4uLnByZXYsIC4uLmN1cnIuY2hpbGRyZW4ucmVkdWNlKHJlZHVjZXIsIFtdKV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHByZXY7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBlbGVtZW50ICYmIEFycmF5LmlzQXJyYXkoZWxlbWVudC5jaGlsZHJlbikgPyBlbGVtZW50LmNoaWxkcmVuLnJlZHVjZShyZWR1Y2VyLCBbXSkgOiBbXTsKICB9CiAgZnVuY3Rpb24gZmluZENoaWxkRWxlbWVudChlbGVtZW50LCBuYW1lLCBuZXN0ZWQgPSBmYWxzZSkgewogICAgcmV0dXJuIGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgbmFtZSwgbmVzdGVkKVswXSB8fCBudWxsOwogIH0KICBmdW5jdGlvbiBnZXRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQgJiYgQXJyYXkuaXNBcnJheShlbGVtZW50LmNoaWxkcmVuKSA/IFsKICAgICAgLi4uZWxlbWVudC5jaGlsZHJlbi5maWx0ZXIoCiAgICAgICAgKGVsKSA9PiBlbCBpbnN0YW5jZW9mIGJyb3dzZXIuWG1sRWxlbWVudAogICAgICApCiAgICBdIDogW107CiAgfQogIGZ1bmN0aW9uIGdldEVsZW1lbnRUZXh0KGVsZW1lbnQpIHsKICAgIGNvbnN0IHRleHROb2RlID0gZWxlbWVudCAmJiBBcnJheS5pc0FycmF5KGVsZW1lbnQuY2hpbGRyZW4pID8gZWxlbWVudC5jaGlsZHJlbi5maW5kKChub2RlKSA9PiBub2RlLnR5cGUgPT09ICJ0ZXh0IikgOiBudWxsOwogICAgcmV0dXJuIHRleHROb2RlID8gdGV4dE5vZGUudGV4dCA6ICIiOwogIH0KICBmdW5jdGlvbiBnZXRFbGVtZW50QXR0cmlidXRlKGVsZW1lbnQsIGF0dHJOYW1lKSB7CiAgICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50LmF0dHJpYnV0ZXNbYXR0ck5hbWVdIHx8ICIiOwogIH0KICBjbGFzcyBFbmRwb2ludEVycm9yIGV4dGVuZHMgRXJyb3IgewogICAgY29uc3RydWN0b3IobWVzc2FnZSwgaHR0cFN0YXR1cywgaXNDcm9zc09yaWdpblJlbGF0ZWQpIHsKICAgICAgc3VwZXIobWVzc2FnZSk7CiAgICAgIHRoaXMuaHR0cFN0YXR1cyA9IGh0dHBTdGF0dXM7CiAgICAgIHRoaXMuaXNDcm9zc09yaWdpblJlbGF0ZWQgPSBpc0Nyb3NzT3JpZ2luUmVsYXRlZDsKICAgICAgdGhpcy5uYW1lID0gIkVuZHBvaW50RXJyb3IiOwogICAgfQogIH0KICBjbGFzcyBTZXJ2aWNlRXhjZXB0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7CiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yCiAgICAgKiBAcGFyYW0gbWVzc2FnZSBFcnJvciBtZXNzYWdlCiAgICAgKiBAcGFyYW0gcmVxdWVzdFVybCBVUkwgd2hpY2ggcmVzdWx0ZWQgaW4gdGhlIFNlcnZpY2VFeGNlcHRpb24KICAgICAqIEBwYXJhbSBjb2RlIE9wdGlvbmFsIFNlcnZpY2VFeGNlcHRpb24gY29kZQogICAgICogQHBhcmFtIGxvY2F0b3IgT3B0aW9uYWwgU2VydmljZUV4Y2VwdGlvbiBsb2NhdG9yCiAgICAgKiBAcGFyYW0gcmVzcG9uc2UgT3B0aW9uYWwgcmVzcG9uc2UgY29udGVudCByZWNlaXZlZAogICAgICovCiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZXF1ZXN0VXJsLCBjb2RlLCBsb2NhdG9yLCByZXNwb25zZSkgewogICAgICBzdXBlcihtZXNzYWdlKTsKICAgICAgdGhpcy5yZXF1ZXN0VXJsID0gcmVxdWVzdFVybDsKICAgICAgdGhpcy5jb2RlID0gY29kZTsKICAgICAgdGhpcy5sb2NhdG9yID0gbG9jYXRvcjsKICAgICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlOwogICAgICB0aGlzLm5hbWUgPSAiU2VydmljZUV4Y2VwdGlvbkVycm9yIjsKICAgIH0KICB9CiAgZnVuY3Rpb24gcGFyc2Uoc2VydmljZUV4Y2VwdGlvbiwgdXJsKSB7CiAgICBjb25zdCBlcnJvckNvZGUgPSBnZXRFbGVtZW50QXR0cmlidXRlKHNlcnZpY2VFeGNlcHRpb24sICJjb2RlIikgfHwgZ2V0RWxlbWVudEF0dHJpYnV0ZShzZXJ2aWNlRXhjZXB0aW9uLCAiZXhjZXB0aW9uQ29kZSIpOwogICAgY29uc3QgZXJyb3JMb2NhdG9yID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShzZXJ2aWNlRXhjZXB0aW9uLCAibG9jYXRvciIpOwogICAgY29uc3QgdGV4dEVsZW1lbnQgPSBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2VFeGNlcHRpb24sICJFeGNlcHRpb25UZXh0IikgfHwgc2VydmljZUV4Y2VwdGlvbjsKICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGdldEVsZW1lbnRUZXh0KHRleHRFbGVtZW50KS50cmltKCk7CiAgICByZXR1cm4gbmV3IFNlcnZpY2VFeGNlcHRpb25FcnJvcigKICAgICAgZXJyb3JNZXNzYWdlLAogICAgICB1cmwsCiAgICAgIGVycm9yQ29kZSwKICAgICAgZXJyb3JMb2NhdG9yLAogICAgICBzZXJ2aWNlRXhjZXB0aW9uLmRvY3VtZW50CiAgICApOwogIH0KICBmdW5jdGlvbiBjaGVjayhyZXNwb25zZSwgdXJsKSB7CiAgICBjb25zdCByb290RWwgPSBnZXRSb290RWxlbWVudChyZXNwb25zZSk7CiAgICBjb25zdCByb290RWxOYW1lID0gc3RyaXBOYW1lc3BhY2UoZ2V0RWxlbWVudE5hbWUocm9vdEVsKSk7CiAgICBpZiAocm9vdEVsTmFtZSA9PT0gIlNlcnZpY2VFeGNlcHRpb25SZXBvcnQiKSB7CiAgICAgIGNvbnN0IGVycm9yID0gZmluZENoaWxkRWxlbWVudChyb290RWwsICJTZXJ2aWNlRXhjZXB0aW9uIik7CiAgICAgIGlmIChlcnJvcikgewogICAgICAgIHRocm93IHBhcnNlKGVycm9yLCB1cmwpOwogICAgICB9CiAgICB9CiAgICBpZiAocm9vdEVsTmFtZSA9PT0gIkV4Y2VwdGlvblJlcG9ydCIpIHsKICAgICAgY29uc3QgZXJyb3IgPSBmaW5kQ2hpbGRFbGVtZW50KHJvb3RFbCwgIkV4Y2VwdGlvbiIpOwogICAgICBpZiAoZXJyb3IpIHsKICAgICAgICB0aHJvdyBwYXJzZShlcnJvciwgdXJsKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0KICBmdW5jdGlvbiBlbmNvZGVFcnJvcihlcnJvcikgewogICAgY29uc3QgYmFzZSA9IHsKICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLAogICAgICBuYW1lOiBlcnJvci5uYW1lCiAgICB9OwogICAgaWYgKGVycm9yIGluc3RhbmNlb2YgU2VydmljZUV4Y2VwdGlvbkVycm9yKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgLi4uYmFzZSwKICAgICAgICBjb2RlOiBlcnJvci5jb2RlLAogICAgICAgIGxvY2F0b3I6IGVycm9yLmxvY2F0b3IsCiAgICAgICAgcmVzcG9uc2U6IGVycm9yLnJlc3BvbnNlLAogICAgICAgIHJlcXVlc3RVcmw6IGVycm9yLnJlcXVlc3RVcmwKICAgICAgfTsKICAgIH0KICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVuZHBvaW50RXJyb3IpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAuLi5iYXNlLAogICAgICAgIGh0dHBTdGF0dXM6IGVycm9yLmh0dHBTdGF0dXMsCiAgICAgICAgaXNDcm9zc09yaWdpblJlbGF0ZWQ6IGVycm9yLmlzQ3Jvc3NPcmlnaW5SZWxhdGVkCiAgICAgIH07CiAgICB9CiAgICByZXR1cm4gYmFzZTsKICB9CiAgZnVuY3Rpb24gYWRkVGFza0hhbmRsZXIodGFza05hbWUsIHNjb3BlLCBoYW5kbGVyKSB7CiAgICBjb25zdCB1c2VXb3JrZXIgPSB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICJ1bmRlZmluZWQiOwogICAgY29uc3QgZXZlbnRIYW5kbGVyID0gYXN5bmMgKHJlcXVlc3QpID0+IHsKICAgICAgaWYgKHJlcXVlc3QudGFza05hbWUgPT09IHRhc2tOYW1lKSB7CiAgICAgICAgbGV0IHJlc3BvbnNlLCBlcnJvcjsKICAgICAgICB0cnkgewogICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVyKHJlcXVlc3QucGFyYW1zKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBlcnJvciA9IGVuY29kZUVycm9yKGUpOwogICAgICAgIH0KICAgICAgICBjb25zdCBtZXNzYWdlID0gKAogICAgICAgICAgLyoqIEB0eXBlIHtXb3JrZXJSZXNwb25zZX0gKi8KICAgICAgICAgIHsKICAgICAgICAgICAgdGFza05hbWUsCiAgICAgICAgICAgIHJlcXVlc3RJZDogcmVxdWVzdC5yZXF1ZXN0SWQsCiAgICAgICAgICAgIC4uLnJlc3BvbnNlICYmIHsgcmVzcG9uc2UgfSwKICAgICAgICAgICAgLi4uZXJyb3IgJiYgeyBlcnJvciB9CiAgICAgICAgICB9CiAgICAgICAgKTsKICAgICAgICBpZiAodXNlV29ya2VyKSB7CiAgICAgICAgICBzY29wZS5wb3N0TWVzc2FnZShtZXNzYWdlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudCgKICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KCJvZ2MtY2xpZW50LnJlc3BvbnNlIiwgewogICAgICAgICAgICAgIGRldGFpbDogbWVzc2FnZQogICAgICAgICAgICB9KQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICBpZiAodXNlV29ya2VyKSB7CiAgICAgIHNjb3BlLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCAoZXZlbnQpID0+IGV2ZW50SGFuZGxlcihldmVudC5kYXRhKSk7CiAgICB9IGVsc2UgewogICAgICBzY29wZS5hZGRFdmVudExpc3RlbmVyKAogICAgICAgICJvZ2MtY2xpZW50LnJlcXVlc3QiLAogICAgICAgIChldmVudCkgPT4gZXZlbnRIYW5kbGVyKGV2ZW50LmRldGFpbCkKICAgICAgKTsKICAgIH0KICB9CiAgY29uc3QgRU5DT0RJTkdTID0gWyJ1dGYtOCIsICJ1dGYtMTYiLCAiaXNvLTg4NTktMSJdOwogIGNvbnN0IEZBTExCQUNLX0VOQ09ESU5HID0gInV0Zi04IjsKICBmdW5jdGlvbiBleHRyYWN0RW5jb2RpbmcoY29udGVudFR5cGUpIHsKICAgIGNvbnN0IG1hdGNoZXMgPSAvY2hhcnNldD0oW147XSspLy5leGVjKGNvbnRlbnRUeXBlKTsKICAgIHJldHVybiBtYXRjaGVzID8gbWF0Y2hlc1sxXSA6IG51bGw7CiAgfQogIGZ1bmN0aW9uIGRlY29kZVN0cmluZyhidWZmZXIsIGNvbnRlbnRUeXBlKSB7CiAgICBjb25zdCBlbmNvZGluZ0hpbnQgPSBjb250ZW50VHlwZSA/IGV4dHJhY3RFbmNvZGluZyhjb250ZW50VHlwZSkgOiBudWxsOwogICAgY29uc3QgZW5jb2RpbmdBdHRlbXB0cyA9IGVuY29kaW5nSGludCA/IFtlbmNvZGluZ0hpbnQsIC4uLkVOQ09ESU5HU10gOiBFTkNPRElOR1M7CiAgICBmb3IgKGNvbnN0IGVuY29kaW5nIG9mIGVuY29kaW5nQXR0ZW1wdHMpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKGVuY29kaW5nLCB7IGZhdGFsOiB0cnVlIH0pOwogICAgICAgIHJldHVybiBkZWNvZGVyLmRlY29kZShidWZmZXIpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgIH0KICAgIH0KICAgIGNvbnNvbGUud2FybigKICAgICAgYFtvZ2MtY2xpZW50XSBYTUwgZG9jdW1lbnQgZW5jb2RpbmcgY291bGQgbm90IGJlIGRldGVybWluZWQsIGZhbGxpbmcgYmFjayB0byAke0ZBTExCQUNLX0VOQ09ESU5HfS5gCiAgICApOwogICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcihGQUxMQkFDS19FTkNPRElORykuZGVjb2RlKGJ1ZmZlcik7CiAgfQogIGNvbnN0IGZldGNoUHJvbWlzZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpOwogIGxldCBmZXRjaE9wdGlvbnMgPSB7fTsKICBmdW5jdGlvbiBzZXRGZXRjaE9wdGlvbnMob3B0aW9ucykgewogICAgZmV0Y2hPcHRpb25zID0gb3B0aW9uczsKICB9CiAgZnVuY3Rpb24gZ2V0RmV0Y2hPcHRpb25zKCkgewogICAgcmV0dXJuIGZldGNoT3B0aW9uczsKICB9CiAgZnVuY3Rpb24gc2hhcmVkRmV0Y2godXJsLCBtZXRob2QgPSAiR0VUIiwgYXNKc29uKSB7CiAgICBsZXQgZmV0Y2hLZXkgPSBgJHttZXRob2R9IyR7dXJsfWA7CiAgICBpZiAoYXNKc29uKSB7CiAgICAgIGZldGNoS2V5ID0gYCR7bWV0aG9kfSNhc0pzb24jJHt1cmx9YDsKICAgIH0KICAgIGlmIChmZXRjaFByb21pc2VzLmhhcyhmZXRjaEtleSkpIHsKICAgICAgcmV0dXJuIGZldGNoUHJvbWlzZXMuZ2V0KGZldGNoS2V5KTsKICAgIH0KICAgIGNvbnN0IG9wdGlvbnMgPSB7IC4uLmdldEZldGNoT3B0aW9ucygpIH07CiAgICBvcHRpb25zLm1ldGhvZCA9IG1ldGhvZDsKICAgIGlmIChhc0pzb24pIHsKICAgICAgb3B0aW9ucy5oZWFkZXJzID0gImhlYWRlcnMiIGluIG9wdGlvbnMgPyBvcHRpb25zLmhlYWRlcnMgOiB7fTsKICAgICAgb3B0aW9ucy5oZWFkZXJzWyJBY2NlcHQiXSA9ICJhcHBsaWNhdGlvbi9qc29uIjsKICAgIH0KICAgIGNvbnN0IHByb21pc2UgPSBmZXRjaCh1cmwsIG9wdGlvbnMpLmNhdGNoKChlKSA9PiBlKS50aGVuKChyZXNwKSA9PiB7CiAgICAgIGZldGNoUHJvbWlzZXMuZGVsZXRlKGZldGNoS2V5KTsKICAgICAgcmV0dXJuIHJlc3A7CiAgICB9KTsKICAgIGZldGNoUHJvbWlzZXMuc2V0KGZldGNoS2V5LCBwcm9taXNlKTsKICAgIHJldHVybiBwcm9taXNlLnRoZW4oKHJlc3ApID0+IHsKICAgICAgaWYgKHJlc3AgaW5zdGFuY2VvZiBFcnJvcikKICAgICAgICB0aHJvdyByZXNwOwogICAgICByZXR1cm4gcmVzcC5jbG9uZSgpOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHF1ZXJ5WG1sRG9jdW1lbnQodXJsKSB7CiAgICByZXR1cm4gc2hhcmVkRmV0Y2godXJsKS5jYXRjaCgKICAgICAgKCkgPT4gKAogICAgICAgIC8vIGF0dGVtcHQgYSBIRUFEIHRvIHNlZSBpZiB0aGUgZmFpbHVyZSBjb21lcyBmcm9tIENPUlMgb3IgdGhlIHNlcnZpY2UgaXMgZ2VuZXJhbGx5IHVucmVhY2hhYmxlCiAgICAgICAgZmV0Y2godXJsLCB7IC4uLmdldEZldGNoT3B0aW9ucygpLCBtZXRob2Q6ICJIRUFEIiwgbW9kZTogIm5vLWNvcnMiIH0pLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoCiAgICAgICAgICAgIGBGZXRjaGluZyB0aGUgZG9jdW1lbnQgZmFpbGVkIGVpdGhlciBkdWUgdG8gbmV0d29yayBlcnJvcnMgb3IgdW5yZWFjaGFibGUgaG9zdCwgZXJyb3IgaXM6ICR7ZXJyb3IubWVzc2FnZX1gLAogICAgICAgICAgICAwLAogICAgICAgICAgICBmYWxzZQogICAgICAgICAgKTsKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKAogICAgICAgICAgICBgVGhlIGRvY3VtZW50IGNvdWxkIG5vdCBiZSBmZXRjaGVkIGR1ZSB0byBDT1JTIGxpbWl0YXRpb25zYCwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgdHJ1ZQogICAgICAgICAgKTsKICAgICAgICB9KQogICAgICApCiAgICApLnRoZW4oYXN5bmMgKHJlc3ApID0+IHsKICAgICAgaWYgKCFyZXNwLm9rKSB7CiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3AudGV4dCgpOwogICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKAogICAgICAgICAgYFJlY2VpdmVkIGFuIGVycm9yIHdpdGggY29kZSAke3Jlc3Auc3RhdHVzfTogJHt0ZXh0fWAsCiAgICAgICAgICByZXNwLnN0YXR1cywKICAgICAgICAgIGZhbHNlCiAgICAgICAgKTsKICAgICAgfQogICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCByZXNwLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGNvbnRlbnRUeXBlSGVhZGVyID0gcmVzcC5oZWFkZXJzLmdldCgiQ29udGVudC1UeXBlIik7CiAgICAgIHJldHVybiBkZWNvZGVTdHJpbmcoYnVmZmVyLCBjb250ZW50VHlwZUhlYWRlcik7CiAgICB9KS50aGVuKCh4bWwpID0+IHBhcnNlWG1sU3RyaW5nKHhtbCkpOwogIH0KICBmdW5jdGlvbiBzZXRRdWVyeVBhcmFtcyh1cmwsIHBhcmFtcykgewogICAgY29uc3QgZW5jb2RlZFVybE1hdGNoID0gdXJsLm1hdGNoKC8oaHR0cHM/JTNBJTJGJTJGW14vXSspJC8pOwogICAgaWYgKGVuY29kZWRVcmxNYXRjaCkgewogICAgICBjb25zdCBlbmNvZGVkVXJsID0gZW5jb2RlZFVybE1hdGNoWzFdOwogICAgICBjb25zdCBtb2RpZmllZFVybCA9IHNldFF1ZXJ5UGFyYW1zKGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkVXJsKSwgcGFyYW1zKTsKICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKGVuY29kZWRVcmwsIGVuY29kZVVSSUNvbXBvbmVudChtb2RpZmllZFVybCkpOwogICAgfQogICAgY29uc3QgdXJsT2JqID0gbmV3IFVSTCh1cmwpOwogICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHBhcmFtcyk7CiAgICBjb25zdCBrZXlzTG93ZXIgPSBrZXlzLm1hcCgoa2V5KSA9PiBrZXkudG9Mb3dlckNhc2UoKSk7CiAgICBjb25zdCB0b0RlbGV0ZSA9IFtdOwogICAgZm9yIChjb25zdCBwYXJhbSBvZiB1cmxPYmouc2VhcmNoUGFyYW1zLmtleXMoKSkgewogICAgICBpZiAoa2V5c0xvd2VyLmluZGV4T2YocGFyYW0udG9Mb3dlckNhc2UoKSkgPiAtMSkgewogICAgICAgIHRvRGVsZXRlLnB1c2gocGFyYW0pOwogICAgICB9CiAgICB9CiAgICB0b0RlbGV0ZS5tYXAoKHBhcmFtKSA9PiB1cmxPYmouc2VhcmNoUGFyYW1zLmRlbGV0ZShwYXJhbSkpOwogICAga2V5cy5mb3JFYWNoKAogICAgICAoa2V5KSA9PiB1cmxPYmouc2VhcmNoUGFyYW1zLnNldCgKICAgICAgICBrZXksCiAgICAgICAgcGFyYW1zW2tleV0gPT09IHRydWUgPyAiIiA6IHBhcmFtc1trZXldCiAgICAgICkKICAgICk7CiAgICByZXR1cm4gdXJsT2JqLnRvU3RyaW5nKCk7CiAgfQogIGNvbnN0IExhdExvbkNyc0xpc3QgPSBbCiAgICAiRVBTRzo0MDQ2IiwKICAgIC8vIFJHUkRDIDIwMDUKICAgICJFUFNHOjQwNzUiLAogICAgLy8gU1JFRjk4CiAgICAiRVBTRzo0MTIwIiwKICAgIC8vIEdyZWVrCiAgICAiRVBTRzo0MTIyIiwKICAgIC8vIEFUUzc3CiAgICAiRVBTRzo0MTI0IiwKICAgIC8vIFJUOTAKICAgICJFUFNHOjQxMjYiLAogICAgLy8gTEtTOTQgKEVUUlM4OSkKICAgICJFUFNHOjQxNDkiLAogICAgLy8gQ0gxOTAzCiAgICAiRVBTRzo0MTUxIiwKICAgIC8vIENIVFJGOTUKICAgICJFUFNHOjQxNTMiLAogICAgLy8gUmFzc2FkaXJhbgogICAgIkVQU0c6NDE1NSIsCiAgICAvLyBEYWJvbGEgMTk4MQogICAgIkVQU0c6NDE1NyIsCiAgICAvLyBNb3VudCBEaWxsb24KICAgICJFUFNHOjQxNTkiLAogICAgLy8gRUxENzkKICAgICJFUFNHOjQxNjEiLAogICAgLy8gUGFtcGEgZGVsIENhc3RpbGxvCiAgICAiRVBTRzo0MTYzIiwKICAgIC8vIFllbWVuIE5HTjk2CiAgICAiRVBTRzo0MTY1IiwKICAgIC8vIEJpc3NhdQogICAgIkVQU0c6NDE2NyIsCiAgICAvLyBOWkdEMjAwMAogICAgIkVQU0c6NDE2OSIsCiAgICAvLyBBbWVyaWNhbiBTYW1vYSAxOTYyCiAgICAiRVBTRzo0MTcxIiwKICAgIC8vIFJHRjkzCiAgICAiRVBTRzo0MTczIiwKICAgIC8vIElSRU5FVDk1CiAgICAiRVBTRzo0MTc1IiwKICAgIC8vIFNpZXJyYSBMZW9uZSAxOTY4CiAgICAiRVBTRzo0MTc4IiwKICAgIC8vIFB1bGtvdm8gMTk0Mig4MykKICAgICJFUFNHOjQxODAiLAogICAgLy8gRVNUOTcKICAgICJFUFNHOjQxODIiLAogICAgLy8gQXpvcmVzIE9jY2lkZW50YWwgMTkzOQogICAgIkVQU0c6NDE4NCIsCiAgICAvLyBBem9yZXMgT3JpZW50YWwgMTk0MAogICAgIkVQU0c6NDE4OCIsCiAgICAvLyBPU05JIDE5NTIKICAgICJFUFNHOjQxOTAiLAogICAgLy8gUE9TR0FSIDk4CiAgICAiRVBTRzo0MTkxIiwKICAgIC8vIEFsYmFuaWFuIDE5ODcKICAgICJFUFNHOjQxOTYiLAogICAgLy8gQW1tYXNzYWxpayAxOTU4CiAgICAiRVBTRzo0MTk4IiwKICAgIC8vIEtvdXNzZXJpCiAgICAiRVBTRzo0MjAyIiwKICAgIC8vIEFHRDY2CiAgICAiRVBTRzo0MjEwIiwKICAgIC8vIEFyYyAxOTYwCiAgICAiRVBTRzo0MjExIiwKICAgIC8vIEJhdGF2aWEKICAgICJFUFNHOjQyMTQiLAogICAgLy8gQmVpamluZyAxOTU0CiAgICAiRVBTRzo0MjI2IiwKICAgIC8vIENvdGUgZCdJdm9pcmUKICAgICJFUFNHOjQyMjkiLAogICAgLy8gRWd5cHQgMTkwNwogICAgIkVQU0c6NDIzMSIsCiAgICAvLyBFRDg3CiAgICAiRVBTRzo0MjMzIiwKICAgIC8vIEdhbmRhamlrYSAxOTcwCiAgICAiRVBTRzo0MjM2IiwKICAgIC8vIEh1IFR6dSBTaGFuIDE5NTAKICAgICJFUFNHOjQyMzgiLAogICAgLy8gSUQ3NAogICAgIkVQU0c6NDI0MCIsCiAgICAvLyBJbmRpYW4gMTk3NQogICAgIkVQU0c6NDI0MiIsCiAgICAvLyBKQUQ2OQogICAgIkVQU0c6NDI0NCIsCiAgICAvLyBLYW5kYXdhbGEKICAgICJFUFNHOjQyNDYiLAogICAgLy8gS09DCiAgICAiRVBTRzo0MjQ4IiwKICAgIC8vIFBTQUQ1NgogICAgIkVQU0c6NDI1MCIsCiAgICAvLyBMZWlnb24KICAgICJFUFNHOjQyNTIiLAogICAgLy8gTG9tZQogICAgIkVQU0c6NDI1NSIsCiAgICAvLyBIZXJhdCBOb3J0aAogICAgIkVQU0c6NDI1OCIsCiAgICAvLyBFVFJTODkKICAgICJFUFNHOjQyNjEiLAogICAgLy8gTWVyY2hpY2gKICAgICJFUFNHOjQyNjQiLAogICAgLy8gTWhhc3QKICAgICJFUFNHOjQyNjciLAogICAgLy8gTkFEMjcKICAgICJFUFNHOjQyNzAiLAogICAgLy8gTmFocndhbiAxOTY3CiAgICAiRVBTRzo0MjczIiwKICAgIC8vIE5HTyAxOTQ4CiAgICAiRVBTRzo0Mjc2IiwKICAgIC8vIE5TV0MgOVotMgogICAgIkVQU0c6NDI3OSIsCiAgICAvLyBPUyhTTik4MAogICAgIkVQU0c6NDI4MSIsCiAgICAvLyBQYWxlc3RpbmUgMTkyMwogICAgIkVQU0c6NDI4NCIsCiAgICAvLyBQdWxrb3ZvIDE5NDIKICAgICJFUFNHOjQyODYiLAogICAgLy8gUWF0YXIgMTk0OAogICAgIkVQU0c6NDI4OCIsCiAgICAvLyBMb21hIFF1aW50YW5hCiAgICAiRVBTRzo0MjkyIiwKICAgIC8vIFNhcHBlciBIaWxsIDE5NDMKICAgICJFUFNHOjQyOTUiLAogICAgLy8gU2VyaW5kdW5nCiAgICAiRVBTRzo0Mjk3IiwKICAgIC8vIFRhbmFuYXJpdmUKICAgICJFUFNHOjQyOTkiLAogICAgLy8gVE02NQogICAgIkVQU0c6NDMwMiIsCiAgICAvLyBUcmluaWRhZCAxOTAzCiAgICAiRVBTRzo0MzI0IiwKICAgIC8vIFdHUyA3MkJFCiAgICAiRVBTRzo0MzI2IgogICAgLy8gV0dTIDg0CiAgXTsKICBmdW5jdGlvbiBoYXNJbnZlcnRlZENvb3JkaW5hdGVzKGNyc05hbWUpIHsKICAgIHJldHVybiBMYXRMb25DcnNMaXN0LmluZGV4T2Yoc2ltcGxpZnlFcHNnVXJuKGNyc05hbWUpKSA+IC0xOwogIH0KICBmdW5jdGlvbiBzaW1wbGlmeUVwc2dVcm4oZnVsbENyc05hbWUpIHsKICAgIGlmICgvXnVybjooPzp4LSk/b2djOmRlZjpjcnM6ZXBzZzovLnRlc3QoZnVsbENyc05hbWUudG9Mb3dlckNhc2UoKSkpIHsKICAgICAgY29uc3QgY29kZSA9IC8oWzAtOV0rKSQvLmV4ZWMoZnVsbENyc05hbWUpWzFdOwogICAgICByZXR1cm4gYEVQU0c6JHtjb2RlfWA7CiAgICB9CiAgICByZXR1cm4gZnVsbENyc05hbWU7CiAgfQogIGZ1bmN0aW9uIHJlYWRPcGVyYXRpb25VcmxzRnJvbUNhcGFiaWxpdGllcyQxKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgdXJscyA9IHt9OwogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIGNvbnN0IHJlcXVlc3QgPSBmaW5kQ2hpbGRFbGVtZW50KGNhcGFiaWxpdHksICJSZXF1ZXN0Iik7CiAgICBnZXRDaGlsZHJlbkVsZW1lbnQocmVxdWVzdCkuZm9yRWFjaCgob3BlcmF0aW9uKSA9PiB7CiAgICAgIGNvbnN0IG9wZXJhdGlvbk5hbWUgPSBzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShvcGVyYXRpb24pKTsKICAgICAgdXJsc1tvcGVyYXRpb25OYW1lXSA9IHBhcnNlT3BlcmF0aW9uKG9wZXJhdGlvbik7CiAgICB9KTsKICAgIHJldHVybiB1cmxzOwogIH0KICBmdW5jdGlvbiByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIHJldHVybiBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLmF0dHJpYnV0ZXNbInZlcnNpb24iXTsKICB9CiAgZnVuY3Rpb24gcmVhZExheWVyc0Zyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIHJldHVybiBmaW5kQ2hpbGRyZW5FbGVtZW50KGNhcGFiaWxpdHksICJMYXllciIpLm1hcCgKICAgICAgKGxheWVyRWwpID0+IHBhcnNlTGF5ZXIobGF5ZXJFbCwgdmVyc2lvbikKICAgICk7CiAgfQogIGZ1bmN0aW9uIHJlYWRPdXRwdXRGb3JtYXRzRnJvbUNhcGFiaWxpdGllcyQxKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIGNvbnN0IGdldE1hcCA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY2FwYWJpbGl0eSwgIlJlcXVlc3QiKSwKICAgICAgIkdldE1hcCIKICAgICk7CiAgICBjb25zdCBvdXRwdXRGb3JtYXRzID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRNYXAsICJGb3JtYXQiKS5tYXAoCiAgICAgIGdldEVsZW1lbnRUZXh0CiAgICApOwogICAgcmV0dXJuIG91dHB1dEZvcm1hdHM7CiAgfQogIGZ1bmN0aW9uIHJlYWRJbmZvRm9ybWF0c0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBjb25zdCBjYXBhYmlsaXR5ID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIkNhcGFiaWxpdHkiCiAgICApOwogICAgY29uc3QgZ2V0RmVhdHVyZUluZm8gPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KGNhcGFiaWxpdHksICJSZXF1ZXN0IiksCiAgICAgICJHZXRGZWF0dXJlSW5mbyIKICAgICk7CiAgICBjb25zdCBvdXRwdXRGb3JtYXRzID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRGZWF0dXJlSW5mbywgIkZvcm1hdCIpLm1hcCgKICAgICAgZ2V0RWxlbWVudFRleHQKICAgICk7CiAgICByZXR1cm4gb3V0cHV0Rm9ybWF0czsKICB9CiAgZnVuY3Rpb24gcmVhZEV4Y2VwdGlvbkZvcm1hdHNGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIGNvbnN0IGV4Y2VwdGlvbiA9IGZpbmRDaGlsZEVsZW1lbnQoY2FwYWJpbGl0eSwgIkV4Y2VwdGlvbiIpOwogICAgY29uc3QgZXhjZXB0aW9uRm9ybWF0cyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoZXhjZXB0aW9uLCAiRm9ybWF0IikubWFwKAogICAgICBnZXRFbGVtZW50VGV4dAogICAgKTsKICAgIHJldHVybiBleGNlcHRpb25Gb3JtYXRzOwogIH0KICBmdW5jdGlvbiByZWFkSW5mb0Zyb21DYXBhYmlsaXRpZXMkMihjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHNlcnZpY2UgPSBmaW5kQ2hpbGRFbGVtZW50KGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksICJTZXJ2aWNlIik7CiAgICBjb25zdCBvdXRwdXRGb3JtYXRzID0gcmVhZE91dHB1dEZvcm1hdHNGcm9tQ2FwYWJpbGl0aWVzJDEoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IGluZm9Gb3JtYXRzID0gcmVhZEluZm9Gb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3QgZXhjZXB0aW9uRm9ybWF0cyA9IHJlYWRFeGNlcHRpb25Gb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3Qga2V5d29yZHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJLZXl3b3JkTGlzdCIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KS5maWx0ZXIoKHYsIGksIGFycikgPT4gYXJyLmluZGV4T2YodikgPT09IGkpOwogICAgY29uc3QgcHJvdmlkZXIgPSByZWFkUHJvdmlkZXJGcm9tQ2FwYWJpbGl0aWVzJDEoY2FwYWJpbGl0aWVzRG9jKTsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJUaXRsZSIpKSwKICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiTmFtZSIpKSwKICAgICAgYWJzdHJhY3Q6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkFic3RyYWN0IikpLAogICAgICBvdXRwdXRGb3JtYXRzLAogICAgICBpbmZvRm9ybWF0cywKICAgICAgZXhjZXB0aW9uRm9ybWF0cywKICAgICAgZmVlczogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiRmVlcyIpKSwKICAgICAgY29uc3RyYWludHM6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkFjY2Vzc0NvbnN0cmFpbnRzIikpLAogICAgICBwcm92aWRlciwKICAgICAga2V5d29yZHMKICAgIH07CiAgfQogIGZ1bmN0aW9uIHBhcnNlT3BlcmF0aW9uKG9wZXJhdGlvbikgewogICAgY29uc3QgdXJscyA9IHt9OwogICAgY29uc3QgZGNwVHlwZSA9IGZpbmRDaGlsZHJlbkVsZW1lbnQob3BlcmF0aW9uLCAiRENQVHlwZSIpOwogICAgY29uc3QgaHR0cCA9IGRjcFR5cGUuZmxhdE1hcCgoZCkgPT4gZmluZENoaWxkRWxlbWVudChkLCAiSFRUUCIpKTsKICAgIGNvbnN0IG1ldGhvZHMgPSBodHRwLmZsYXRNYXAoKGgpID0+IGdldENoaWxkcmVuRWxlbWVudChoKSk7CiAgICBtZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4gewogICAgICBjb25zdCBvbmxpbmVSZXNvdXJjZSA9IGZpbmRDaGlsZEVsZW1lbnQobWV0aG9kLCAiT25saW5lUmVzb3VyY2UiKTsKICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IHN0cmlwTmFtZXNwYWNlKGdldEVsZW1lbnROYW1lKG1ldGhvZCkpOwogICAgICB1cmxzW21ldGhvZE5hbWVdID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShvbmxpbmVSZXNvdXJjZSwgInhsaW5rOmhyZWYiKTsKICAgIH0pOwogICAgcmV0dXJuIHVybHM7CiAgfQogIGZ1bmN0aW9uIHBhcnNlTGF5ZXIobGF5ZXJFbCwgdmVyc2lvbiwgaW5oZXJpdGVkU3JzID0gW10sIGluaGVyaXRlZFN0eWxlcyA9IFtdLCBpbmhlcml0ZWRBdHRyaWJ1dGlvbiA9IG51bGwsIGluaGVyaXRlZEJvdW5kaW5nQm94ZXMgPSBudWxsLCBpbmhlcml0ZWRNYXhTY2FsZURlbm9tID0gbnVsbCwgaW5oZXJpdGVkTWluU2NhbGVEZW5vbSA9IG51bGwpIHsKICAgIGNvbnN0IHNyc1RhZyA9IHZlcnNpb24gPT09ICIxLjMuMCIgPyAiQ1JTIiA6ICJTUlMiOwogICAgY29uc3Qgc3JzTGlzdCA9IGZpbmRDaGlsZHJlbkVsZW1lbnQobGF5ZXJFbCwgc3JzVGFnKS5tYXAoZ2V0RWxlbWVudFRleHQpOwogICAgY29uc3QgYXZhaWxhYmxlQ3JzID0gc3JzTGlzdC5sZW5ndGggPiAwID8gc3JzTGlzdCA6IGluaGVyaXRlZFNyczsKICAgIGNvbnN0IGxheWVyU3R5bGVzID0gZmluZENoaWxkcmVuRWxlbWVudChsYXllckVsLCAiU3R5bGUiKS5tYXAoCiAgICAgIHBhcnNlTGF5ZXJTdHlsZQogICAgKTsKICAgIGNvbnN0IHN0eWxlcyA9IGxheWVyU3R5bGVzLmxlbmd0aCA+IDAgPyBsYXllclN0eWxlcyA6IGluaGVyaXRlZFN0eWxlczsKICAgIGZ1bmN0aW9uIHBhcnNlQkJveDIoYmJveEVsKSB7CiAgICAgIGNvbnN0IHNycyA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoYmJveEVsLCBzcnNUYWcpOwogICAgICBjb25zdCBhdHRycyA9IGhhc0ludmVydGVkQ29vcmRpbmF0ZXMoc3JzKSAmJiB2ZXJzaW9uID09PSAiMS4zLjAiID8gWyJtaW55IiwgIm1pbngiLCAibWF4eSIsICJtYXh4Il0gOiBbIm1pbngiLCAibWlueSIsICJtYXh4IiwgIm1heHkiXTsKICAgICAgcmV0dXJuIGF0dHJzLm1hcCgobmFtZSkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIG5hbWUpKTsKICAgIH0KICAgIGZ1bmN0aW9uIHBhcnNlRXhHZW9ncmFwaGljQm91bmRpbmdCb3goYmJveEVsKSB7CiAgICAgIHJldHVybiBbCiAgICAgICAgIndlc3RCb3VuZExvbmdpdHVkZSIsCiAgICAgICAgInNvdXRoQm91bmRMYXRpdHVkZSIsCiAgICAgICAgImVhc3RCb3VuZExvbmdpdHVkZSIsCiAgICAgICAgIm5vcnRoQm91bmRMYXRpdHVkZSIKICAgICAgXS5tYXAoKG5hbWUpID0+IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYmJveEVsLCBuYW1lKSkpOwogICAgfQogICAgZnVuY3Rpb24gcGFyc2VMYXRMb25Cb3VuZGluZ0JveChiYm94RWwpIHsKICAgICAgcmV0dXJuIFsibWlueCIsICJtaW55IiwgIm1heHgiLCAibWF4eSJdLm1hcCgKICAgICAgICAobmFtZSkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIG5hbWUpCiAgICAgICk7CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZVNjYWxlSGludFZhbHVlKHRleHRWYWx1ZSwgZGVmYXVsdFZhbHVlKSB7CiAgICAgIGlmICh0ZXh0VmFsdWUgPT09ICIiKSB7CiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTsKICAgICAgfQogICAgICByZXR1cm4gTWF0aC5zcXJ0KDAuNSAqIHBhcnNlRmxvYXQodGV4dFZhbHVlKSAqKiAyKSAvIDI4ZS01OwogICAgfQogICAgZnVuY3Rpb24gcGFyc2VTY2FsZUhpbnQoKSB7CiAgICAgIGNvbnN0IHNjYWxlSGludCA9IGZpbmRDaGlsZEVsZW1lbnQobGF5ZXJFbCwgIlNjYWxlSGludCIpOwogICAgICBpZiAoIXNjYWxlSGludCkgewogICAgICAgIHJldHVybiBbaW5oZXJpdGVkTWluU2NhbGVEZW5vbSwgaW5oZXJpdGVkTWF4U2NhbGVEZW5vbV07CiAgICAgIH0KICAgICAgY29uc3QgbWluID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShzY2FsZUhpbnQsICJtaW4iKTsKICAgICAgY29uc3QgbWF4ID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShzY2FsZUhpbnQsICJtYXgiKTsKICAgICAgcmV0dXJuIFsKICAgICAgICBwYXJzZVNjYWxlSGludFZhbHVlKG1pbiwgaW5oZXJpdGVkTWluU2NhbGVEZW5vbSksCiAgICAgICAgcGFyc2VTY2FsZUhpbnRWYWx1ZShtYXgsIGluaGVyaXRlZE1heFNjYWxlRGVub20pCiAgICAgIF07CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZVNjYWxlRGVub21pbmF0b3IobmFtZSwgaW5oZXJpdGVkVmFsdWUpIHsKICAgICAgY29uc3QgdGV4dFZhbHVlID0gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChsYXllckVsLCBuYW1lKSk7CiAgICAgIHJldHVybiB0ZXh0VmFsdWUgPT09ICIiID8gaW5oZXJpdGVkVmFsdWUgOiBwYXJzZUZsb2F0KHRleHRWYWx1ZSk7CiAgICB9CiAgICBjb25zdCBhdHRyaWJ1dGlvbkVsID0gZmluZENoaWxkRWxlbWVudChsYXllckVsLCAiQXR0cmlidXRpb24iKTsKICAgIGNvbnN0IGF0dHJpYnV0aW9uID0gYXR0cmlidXRpb25FbCAhPT0gbnVsbCA/IHBhcnNlTGF5ZXJBdHRyaWJ1dGlvbihhdHRyaWJ1dGlvbkVsKSA6IGluaGVyaXRlZEF0dHJpYnV0aW9uOwogICAgY29uc3QgbGF0TG9uQmJveEVsID0gdmVyc2lvbiA9PT0gIjEuMy4wIiA/IGZpbmRDaGlsZEVsZW1lbnQobGF5ZXJFbCwgIkVYX0dlb2dyYXBoaWNCb3VuZGluZ0JveCIpIDogZmluZENoaWxkRWxlbWVudChsYXllckVsLCAiTGF0TG9uQm91bmRpbmdCb3giKTsKICAgIGNvbnN0IGJhc2VCb3VuZGluZ0JveCA9IHt9OwogICAgaWYgKGxhdExvbkJib3hFbCkgewogICAgICBiYXNlQm91bmRpbmdCb3hbIkVQU0c6NDMyNiJdID0gdmVyc2lvbiA9PT0gIjEuMy4wIiA/IHBhcnNlRXhHZW9ncmFwaGljQm91bmRpbmdCb3gobGF0TG9uQmJveEVsKSA6IHBhcnNlTGF0TG9uQm91bmRpbmdCb3gobGF0TG9uQmJveEVsKTsKICAgIH0KICAgIGxldCBib3VuZGluZ0JveGVzID0gZmluZENoaWxkcmVuRWxlbWVudChsYXllckVsLCAiQm91bmRpbmdCb3giKS5yZWR1Y2UoCiAgICAgIChwcmV2LCBiYm94RWwpID0+ICh7CiAgICAgICAgLi4ucHJldiwKICAgICAgICBbZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIHNyc1RhZyldOiBwYXJzZUJCb3gyKGJib3hFbCkKICAgICAgfSksCiAgICAgIGJhc2VCb3VuZGluZ0JveAogICAgKTsKICAgIGJvdW5kaW5nQm94ZXMgPSBPYmplY3Qua2V5cyhib3VuZGluZ0JveGVzKS5sZW5ndGggPiAwIHx8IGluaGVyaXRlZEJvdW5kaW5nQm94ZXMgPT09IG51bGwgPyBib3VuZGluZ0JveGVzIDogaW5oZXJpdGVkQm91bmRpbmdCb3hlczsKICAgIGNvbnN0IHF1ZXJ5YWJsZSA9IGxheWVyRWwuYXR0cmlidXRlcy5xdWVyeWFibGUgPT09ICIxIiB8fCBsYXllckVsLmF0dHJpYnV0ZXMucXVlcnlhYmxlID09PSAidHJ1ZSIgPyB0cnVlIDogZmFsc2U7CiAgICBjb25zdCBvcGFxdWUgPSBsYXllckVsLmF0dHJpYnV0ZXMub3BhcXVlID09PSAiMSIgfHwgbGF5ZXJFbC5hdHRyaWJ1dGVzLm9wYXF1ZSA9PT0gInRydWUiID8gdHJ1ZSA6IGZhbHNlOwogICAgY29uc3Qga2V5d29yZHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJLZXl3b3JkTGlzdCIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KS5maWx0ZXIoKHYsIGksIGFycikgPT4gYXJyLmluZGV4T2YodikgPT09IGkpOwogICAgbGV0IG1pblNjYWxlRGVub21pbmF0b3IsIG1heFNjYWxlRGVub21pbmF0b3I7CiAgICBpZiAodmVyc2lvbiA9PT0gIjEuMy4wIikgewogICAgICBtaW5TY2FsZURlbm9taW5hdG9yID0gcGFyc2VTY2FsZURlbm9taW5hdG9yKAogICAgICAgICJNaW5TY2FsZURlbm9taW5hdG9yIiwKICAgICAgICBpbmhlcml0ZWRNaW5TY2FsZURlbm9tCiAgICAgICk7CiAgICAgIG1heFNjYWxlRGVub21pbmF0b3IgPSBwYXJzZVNjYWxlRGVub21pbmF0b3IoCiAgICAgICAgIk1heFNjYWxlRGVub21pbmF0b3IiLAogICAgICAgIGluaGVyaXRlZE1heFNjYWxlRGVub20KICAgICAgKTsKICAgIH0gZWxzZSB7CiAgICAgIFttaW5TY2FsZURlbm9taW5hdG9yLCBtYXhTY2FsZURlbm9taW5hdG9yXSA9IHBhcnNlU2NhbGVIaW50KCk7CiAgICB9CiAgICBjb25zdCBtZXRhZGF0YSA9IGZpbmRDaGlsZHJlbkVsZW1lbnQobGF5ZXJFbCwgIk1ldGFkYXRhVVJMIikubWFwKAogICAgICAobWV0YWRhdGFVcmxFbCkgPT4gKHsKICAgICAgICB0eXBlOiBnZXRFbGVtZW50QXR0cmlidXRlKG1ldGFkYXRhVXJsRWwsICJ0eXBlIiksCiAgICAgICAgZm9ybWF0OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KG1ldGFkYXRhVXJsRWwsICJGb3JtYXQiKSksCiAgICAgICAgdXJsOiBnZXRFbGVtZW50QXR0cmlidXRlKAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChtZXRhZGF0YVVybEVsLCAiT25saW5lUmVzb3VyY2UiKSwKICAgICAgICAgICJ4bGluazpocmVmIgogICAgICAgICkKICAgICAgfSkKICAgICk7CiAgICBjb25zdCBjaGlsZHJlbiA9IGZpbmRDaGlsZHJlbkVsZW1lbnQobGF5ZXJFbCwgIkxheWVyIikubWFwKAogICAgICAobGF5ZXIpID0+IHBhcnNlTGF5ZXIoCiAgICAgICAgbGF5ZXIsCiAgICAgICAgdmVyc2lvbiwKICAgICAgICBhdmFpbGFibGVDcnMsCiAgICAgICAgc3R5bGVzLAogICAgICAgIGF0dHJpYnV0aW9uLAogICAgICAgIGJvdW5kaW5nQm94ZXMsCiAgICAgICAgbWF4U2NhbGVEZW5vbWluYXRvciwKICAgICAgICBtaW5TY2FsZURlbm9taW5hdG9yCiAgICAgICkKICAgICk7CiAgICByZXR1cm4gewogICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJOYW1lIikpLAogICAgICB0aXRsZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChsYXllckVsLCAiVGl0bGUiKSksCiAgICAgIGFic3RyYWN0OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJBYnN0cmFjdCIpKSwKICAgICAgYXZhaWxhYmxlQ3JzLAogICAgICBzdHlsZXMsCiAgICAgIGF0dHJpYnV0aW9uLAogICAgICBib3VuZGluZ0JveGVzLAogICAgICBrZXl3b3JkcywKICAgICAgcXVlcnlhYmxlLAogICAgICBvcGFxdWUsCiAgICAgIC4uLm1pblNjYWxlRGVub21pbmF0b3IgIT09IG51bGwgPyB7IG1pblNjYWxlRGVub21pbmF0b3IgfSA6IHt9LAogICAgICAuLi5tYXhTY2FsZURlbm9taW5hdG9yICE9PSBudWxsID8geyBtYXhTY2FsZURlbm9taW5hdG9yIH0gOiB7fSwKICAgICAgLi4ubWV0YWRhdGEubGVuZ3RoICYmIHsgbWV0YWRhdGEgfSwKICAgICAgLi4uY2hpbGRyZW4ubGVuZ3RoICYmIHsgY2hpbGRyZW4gfQogICAgfTsKICB9CiAgZnVuY3Rpb24gcGFyc2VMYXllclN0eWxlKHN0eWxlRWwpIHsKICAgIGNvbnN0IGxlZ2VuZFVybCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoZmluZENoaWxkRWxlbWVudChzdHlsZUVsLCAiTGVnZW5kVVJMIiksICJPbmxpbmVSZXNvdXJjZSIpLAogICAgICAieGxpbms6aHJlZiIKICAgICk7CiAgICBjb25zdCBhYnN0cmFjdCA9IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc3R5bGVFbCwgIkFic3RyYWN0IikpOwogICAgcmV0dXJuIHsKICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzdHlsZUVsLCAiTmFtZSIpKSwKICAgICAgdGl0bGU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc3R5bGVFbCwgIlRpdGxlIikpLAogICAgICAuLi5hYnN0cmFjdCAmJiB7IGFic3RyYWN0IH0sCiAgICAgIC4uLmxlZ2VuZFVybCAmJiB7IGxlZ2VuZFVybCB9CiAgICB9OwogIH0KICBmdW5jdGlvbiBwYXJzZUxheWVyQXR0cmlidXRpb24oYXR0cmlidXRpb25FbCkgewogICAgY29uc3QgbG9nb1VybCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChhdHRyaWJ1dGlvbkVsLCAiTG9nb1VSTCIpLAogICAgICAgICJPbmxpbmVSZXNvdXJjZSIKICAgICAgKSwKICAgICAgInhsaW5rOmhyZWYiCiAgICApOwogICAgY29uc3QgdXJsID0gZ2V0RWxlbWVudEF0dHJpYnV0ZSgKICAgICAgZmluZENoaWxkRWxlbWVudChhdHRyaWJ1dGlvbkVsLCAiT25saW5lUmVzb3VyY2UiKSwKICAgICAgInhsaW5rOmhyZWYiCiAgICApOwogICAgY29uc3QgdGl0bGUgPSBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGF0dHJpYnV0aW9uRWwsICJUaXRsZSIpKTsKICAgIHJldHVybiB7CiAgICAgIC4uLnRpdGxlICYmIHsgdGl0bGUgfSwKICAgICAgLi4udXJsICYmIHsgdXJsIH0sCiAgICAgIC4uLmxvZ29VcmwgJiYgeyBsb2dvVXJsIH0KICAgIH07CiAgfQogIGZ1bmN0aW9uIHJlYWRQcm92aWRlckZyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHNlcnZpY2UgPSBmaW5kQ2hpbGRFbGVtZW50KGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksICJTZXJ2aWNlIik7CiAgICBjb25zdCBjb250YWN0SW5mb3JtYXRpb24gPSBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJDb250YWN0SW5mb3JtYXRpb24iKTsKICAgIGNvbnN0IGNvbnRhY3RQZXJzb25QcmltYXJ5ID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgY29udGFjdEluZm9ybWF0aW9uLAogICAgICAiQ29udGFjdFBlcnNvblByaW1hcnkiCiAgICApOwogICAgY29uc3QgYWRkcmVzcyA9IGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm9ybWF0aW9uLCAiQ29udGFjdEFkZHJlc3MiKTsKICAgIHJldHVybiB7CiAgICAgIGNvbnRhY3Q6IHsKICAgICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdFBlcnNvblByaW1hcnksICJDb250YWN0UGVyc29uIikKICAgICAgICApLAogICAgICAgIG9yZ2FuaXphdGlvbjogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGNvbnRhY3RQZXJzb25QcmltYXJ5LCAiQ29udGFjdE9yZ2FuaXphdGlvbiIpCiAgICAgICAgKSwKICAgICAgICBwb3NpdGlvbjogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGNvbnRhY3RJbmZvcm1hdGlvbiwgIkNvbnRhY3RQb3NpdGlvbiIpCiAgICAgICAgKSwKICAgICAgICBwaG9uZTogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGNvbnRhY3RJbmZvcm1hdGlvbiwgIkNvbnRhY3RWb2ljZVRlbGVwaG9uZSIpCiAgICAgICAgKSwKICAgICAgICBmYXg6IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChjb250YWN0SW5mb3JtYXRpb24sICJDb250YWN0RmFjc2ltaWxlVGVsZXBob25lIikKICAgICAgICApLAogICAgICAgIGFkZHJlc3M6IHsKICAgICAgICAgIGRlbGl2ZXJ5UG9pbnQ6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkFkZHJlc3MiKSksCiAgICAgICAgICBjaXR5OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJDaXR5IikpLAogICAgICAgICAgYWRtaW5pc3RyYXRpdmVBcmVhOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgICAgZmluZENoaWxkRWxlbWVudChhZGRyZXNzLCAiU3RhdGVPclByb3ZpbmNlIikKICAgICAgICAgICksCiAgICAgICAgICBwb3N0YWxDb2RlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJQb3N0Q29kZSIpKSwKICAgICAgICAgIGNvdW50cnk6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkNvdW50cnkiKSkKICAgICAgICB9LAogICAgICAgIGVtYWlsOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm9ybWF0aW9uLCAiQ29udGFjdEVsZWN0cm9uaWNNYWlsQWRkcmVzcyIpCiAgICAgICAgKQogICAgICB9CiAgICB9OwogIH0KICBmdW5jdGlvbiByZWFkUHJvdmlkZXJGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3Qgc2VydmljZVByb3ZpZGVyID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIlNlcnZpY2VQcm92aWRlciIKICAgICk7CiAgICBjb25zdCBzZXJ2aWNlQ29udGFjdCA9IGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZVByb3ZpZGVyLCAiU2VydmljZUNvbnRhY3QiKTsKICAgIGNvbnN0IGNvbnRhY3RJbmZvID0gZmluZENoaWxkRWxlbWVudChzZXJ2aWNlQ29udGFjdCwgIkNvbnRhY3RJbmZvIik7CiAgICBjb25zdCBwaG9uZSA9IGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm8sICJQaG9uZSIpOwogICAgY29uc3QgYWRkcmVzcyA9IGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm8sICJBZGRyZXNzIik7CiAgICByZXR1cm4gewogICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2VQcm92aWRlciwgIlByb3ZpZGVyTmFtZSIpKSwKICAgICAgc2l0ZTogZ2V0RWxlbWVudEF0dHJpYnV0ZSgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2VQcm92aWRlciwgIlByb3ZpZGVyU2l0ZSIpLAogICAgICAgICJ4bGluazpocmVmIgogICAgICApLAogICAgICBjb250YWN0OiB7CiAgICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlQ29udGFjdCwgIkluZGl2aWR1YWxOYW1lIikpLAogICAgICAgIHBvc2l0aW9uOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZUNvbnRhY3QsICJQb3NpdGlvbk5hbWUiKQogICAgICAgICksCiAgICAgICAgcGhvbmU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQocGhvbmUsICJWb2ljZSIpKSwKICAgICAgICBmYXg6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQocGhvbmUsICJGYWNzaW1pbGUiKSksCiAgICAgICAgYWRkcmVzczogewogICAgICAgICAgZGVsaXZlcnlQb2ludDogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkRlbGl2ZXJ5UG9pbnQiKQogICAgICAgICAgKSwKICAgICAgICAgIGNpdHk6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkNpdHkiKSksCiAgICAgICAgICBhZG1pbmlzdHJhdGl2ZUFyZWE6IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJBZG1pbmlzdHJhdGl2ZUFyZWEiKQogICAgICAgICAgKSwKICAgICAgICAgIHBvc3RhbENvZGU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIlBvc3RhbENvZGUiKSksCiAgICAgICAgICBjb3VudHJ5OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJDb3VudHJ5IikpCiAgICAgICAgfSwKICAgICAgICBlbWFpbDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChhZGRyZXNzLCAiRWxlY3Ryb25pY01haWxBZGRyZXNzIikpCiAgICAgIH0KICAgIH07CiAgfQogIGZ1bmN0aW9uIHJlYWRPcGVyYXRpb25VcmxzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHVybHMgPSB7fTsKICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyk7CiAgICBjb25zdCBvcGVyYXRpb25zTWV0YWRhdGEgPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBjYXBhYmlsaXRpZXMsCiAgICAgICJPcGVyYXRpb25zTWV0YWRhdGEiCiAgICApOwogICAgaWYgKG9wZXJhdGlvbnNNZXRhZGF0YSkgewogICAgICBmaW5kQ2hpbGRyZW5FbGVtZW50KG9wZXJhdGlvbnNNZXRhZGF0YSwgIk9wZXJhdGlvbiIpLmZvckVhY2goCiAgICAgICAgKG9wZXJhdGlvbikgPT4gewogICAgICAgICAgY29uc3QgbmFtZSA9IGdldEVsZW1lbnRBdHRyaWJ1dGUob3BlcmF0aW9uLCAibmFtZSIpOwogICAgICAgICAgdXJsc1tuYW1lXSA9IHBhcnNlT3BlcmF0aW9uMTEwKG9wZXJhdGlvbik7CiAgICAgICAgfQogICAgICApOwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoY2FwYWJpbGl0aWVzLCAiQ2FwYWJpbGl0eSIpOwogICAgICBjb25zdCByZXF1ZXN0ID0gZmluZENoaWxkRWxlbWVudChjYXBhYmlsaXR5LCAiUmVxdWVzdCIpOwogICAgICBnZXRDaGlsZHJlbkVsZW1lbnQocmVxdWVzdCkuZm9yRWFjaCgob3BlcmF0aW9uKSA9PiB7CiAgICAgICAgY29uc3QgbmFtZSA9IHN0cmlwTmFtZXNwYWNlKGdldEVsZW1lbnROYW1lKG9wZXJhdGlvbikpOwogICAgICAgIHVybHNbbmFtZV0gPSBwYXJzZU9wZXJhdGlvbjEwMChvcGVyYXRpb24pOwogICAgICB9KTsKICAgIH0KICAgIHJldHVybiB1cmxzOwogIH0KICBmdW5jdGlvbiByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICByZXR1cm4gZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKS5hdHRyaWJ1dGVzWyJ2ZXJzaW9uIl07CiAgfQogIGZ1bmN0aW9uIHJlYWRPdXRwdXRGb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGxldCBvdXRwdXRGb3JtYXRzOwogICAgaWYgKHZlcnNpb24uc3RhcnRzV2l0aCgiMS4wIikpIHsKICAgICAgY29uc3QgZ2V0RmVhdHVyZSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwgIkNhcGFiaWxpdHkiKSwKICAgICAgICAgICJSZXF1ZXN0IgogICAgICAgICksCiAgICAgICAgIkdldEZlYXR1cmUiCiAgICAgICk7CiAgICAgIG91dHB1dEZvcm1hdHMgPSBnZXRDaGlsZHJlbkVsZW1lbnQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChnZXRGZWF0dXJlLCAiUmVzdWx0Rm9ybWF0IikKICAgICAgKS5tYXAoZ2V0RWxlbWVudE5hbWUpOwogICAgfSBlbHNlIHsKICAgICAgY29uc3Qgb3BlcmF0aW9ucyA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgICAiT3BlcmF0aW9uc01ldGFkYXRhIgogICAgICApOwogICAgICBjb25zdCBnZXRGZWF0dXJlID0gZmluZENoaWxkcmVuRWxlbWVudChvcGVyYXRpb25zLCAiT3BlcmF0aW9uIikuZmluZCgKICAgICAgICAoZWwpID0+IGdldEVsZW1lbnRBdHRyaWJ1dGUoZWwsICJuYW1lIikgPT09ICJHZXRGZWF0dXJlIgogICAgICApOwogICAgICBjb25zdCBwYXJhbWV0ZXIgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGdldEZlYXR1cmUsICJQYXJhbWV0ZXIiKS5maW5kKAogICAgICAgIChlbCkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgIm5hbWUiKSA9PT0gIm91dHB1dEZvcm1hdCIKICAgICAgKTsKICAgICAgb3V0cHV0Rm9ybWF0cyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQocGFyYW1ldGVyLCAiVmFsdWUiLCB0cnVlKS5tYXAoCiAgICAgICAgZ2V0RWxlbWVudFRleHQKICAgICAgKTsKICAgIH0KICAgIHJldHVybiBvdXRwdXRGb3JtYXRzOwogIH0KICBmdW5jdGlvbiByZWFkSW5mb0Zyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IHNlcnZpY2VUYWcgPSB2ZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpID8gIlNlcnZpY2UiIDogIlNlcnZpY2VJZGVudGlmaWNhdGlvbiI7CiAgICBjb25zdCBuYW1lVGFnID0gdmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/ICJOYW1lIiA6ICJTZXJ2aWNlVHlwZSI7CiAgICBjb25zdCBzZXJ2aWNlID0gZmluZENoaWxkRWxlbWVudChnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLCBzZXJ2aWNlVGFnKTsKICAgIGxldCBrZXl3b3JkczsKICAgIGlmICh2ZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpKSB7CiAgICAgIGtleXdvcmRzID0gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiS2V5d29yZHMiKSkuc3BsaXQoIiwiKS5tYXAoKGtleXdvcmQpID0+IGtleXdvcmQudHJpbSgpKTsKICAgIH0gZWxzZSB7CiAgICAgIGtleXdvcmRzID0gZmluZENoaWxkcmVuRWxlbWVudCgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJLZXl3b3JkcyIpLAogICAgICAgICJLZXl3b3JkIgogICAgICApLm1hcChnZXRFbGVtZW50VGV4dCk7CiAgICB9CiAgICBsZXQgcHJvdmlkZXI7CiAgICBpZiAodmVyc2lvbiAhPT0gIjEuMC4wIikgewogICAgICBwcm92aWRlciA9IHJlYWRQcm92aWRlckZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJUaXRsZSIpKSwKICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCBuYW1lVGFnKSksCiAgICAgIGFic3RyYWN0OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJBYnN0cmFjdCIpKSwKICAgICAgZmVlczogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiRmVlcyIpKSwKICAgICAgY29uc3RyYWludHM6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkFjY2Vzc0NvbnN0cmFpbnRzIikpLAogICAgICBrZXl3b3JkcywKICAgICAgcHJvdmlkZXIsCiAgICAgIG91dHB1dEZvcm1hdHM6IHJlYWRPdXRwdXRGb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpCiAgICB9OwogIH0KICBmdW5jdGlvbiByZWFkRmVhdHVyZVR5cGVzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSByZWFkT3V0cHV0Rm9ybWF0c0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IGNhcGFiaWxpdHkgPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLAogICAgICAiRmVhdHVyZVR5cGVMaXN0IgogICAgKTsKICAgIHJldHVybiBmaW5kQ2hpbGRyZW5FbGVtZW50KGNhcGFiaWxpdHksICJGZWF0dXJlVHlwZSIpLm1hcCgKICAgICAgKGZlYXR1cmVUeXBlRWwpID0+IHBhcnNlRmVhdHVyZVR5cGUoZmVhdHVyZVR5cGVFbCwgdmVyc2lvbiwgb3V0cHV0Rm9ybWF0cykKICAgICk7CiAgfQogIGZ1bmN0aW9uIHBhcnNlT3BlcmF0aW9uMTAwKG9wZXJhdGlvbikgewogICAgY29uc3QgdXJscyA9IHt9OwogICAgY29uc3QgZGNwVHlwZSA9IGZpbmRDaGlsZHJlbkVsZW1lbnQob3BlcmF0aW9uLCAiRENQVHlwZSIpOwogICAgY29uc3QgaHR0cCA9IGRjcFR5cGUuZmxhdE1hcCgoZCkgPT4gZmluZENoaWxkcmVuRWxlbWVudChkLCAiSFRUUCIpKTsKICAgIGNvbnN0IG1ldGhvZHMgPSBodHRwLmZsYXRNYXAoKGgpID0+IGdldENoaWxkcmVuRWxlbWVudChoKSk7CiAgICBtZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4gewogICAgICBjb25zdCBtZXRob2ROYW1lID0gc3RyaXBOYW1lc3BhY2UoZ2V0RWxlbWVudE5hbWUobWV0aG9kKSk7CiAgICAgIHVybHNbbWV0aG9kTmFtZV0gPSBnZXRFbGVtZW50QXR0cmlidXRlKG1ldGhvZCwgIm9ubGluZVJlc291cmNlIik7CiAgICB9KTsKICAgIHJldHVybiB1cmxzOwogIH0KICBmdW5jdGlvbiBwYXJzZU9wZXJhdGlvbjExMChvcGVyYXRpb24pIHsKICAgIGNvbnN0IHVybHMgPSB7fTsKICAgIGNvbnN0IGRjcFR5cGUgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KG9wZXJhdGlvbiwgIkRDUCIpOwogICAgY29uc3QgaHR0cCA9IGRjcFR5cGUuZmxhdE1hcCgoZCkgPT4gZmluZENoaWxkRWxlbWVudChkLCAiSFRUUCIpKTsKICAgIGNvbnN0IG1ldGhvZHMgPSBodHRwLmZsYXRNYXAoKGgpID0+IGdldENoaWxkcmVuRWxlbWVudChoKSk7CiAgICBtZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4gewogICAgICBjb25zdCBtZXRob2ROYW1lID0gc3RyaXBOYW1lc3BhY2UoZ2V0RWxlbWVudE5hbWUobWV0aG9kKSk7CiAgICAgIHVybHNbbWV0aG9kTmFtZV0gPSBnZXRFbGVtZW50QXR0cmlidXRlKG1ldGhvZCwgInhsaW5rOmhyZWYiKTsKICAgIH0pOwogICAgcmV0dXJuIHVybHM7CiAgfQogIGZ1bmN0aW9uIHBhcnNlRmVhdHVyZVR5cGUoZmVhdHVyZVR5cGVFbCwgc2VydmljZVZlcnNpb24sIGRlZmF1bHRPdXRwdXRGb3JtYXRzKSB7CiAgICBjb25zdCBzcnNUYWcgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIyLiIpID8gIkNSUyIgOiAiU1JTIjsKICAgIGNvbnN0IGRlZmF1bHRTcnNUYWcgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/ICJTUlMiIDogYERlZmF1bHQke3Nyc1RhZ31gOwogICAgZnVuY3Rpb24gcGFyc2VCQm94MTAwKCkgewogICAgICBjb25zdCBiYm94RWwgPSBmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJMYXRMb25nQm91bmRpbmdCb3giKTsKICAgICAgcmV0dXJuIFsibWlueCIsICJtaW55IiwgIm1heHgiLCAibWF4eSJdLm1hcCgobmFtZSkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIG5hbWUpKS5tYXAocGFyc2VGbG9hdCk7CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZUJCb3gyKCkgewogICAgICBjb25zdCBiYm94RWwgPSBmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJXR1M4NEJvdW5kaW5nQm94Iik7CiAgICAgIHJldHVybiBbIkxvd2VyQ29ybmVyIiwgIlVwcGVyQ29ybmVyIl0ubWFwKChlbE5hbWUpID0+IGZpbmRDaGlsZEVsZW1lbnQoYmJveEVsLCBlbE5hbWUpKS5tYXAoKGNvcm5lckVsKSA9PiBnZXRFbGVtZW50VGV4dChjb3JuZXJFbCkuc3BsaXQoIiAiKSkucmVkdWNlKChwcmV2LCBjdXJyKSA9PiBbLi4ucHJldiwgLi4uY3Vycl0pLm1hcChwYXJzZUZsb2F0KTsKICAgIH0KICAgIGNvbnN0IG90aGVyQ3JzID0gc2VydmljZVZlcnNpb24uc3RhcnRzV2l0aCgiMS4wIikgPyBbXSA6IGZpbmRDaGlsZHJlbkVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgYE90aGVyJHtzcnNUYWd9YCkubWFwKGdldEVsZW1lbnRUZXh0KS5tYXAoc2ltcGxpZnlFcHNnVXJuKTsKICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/IFtdIDogZmluZENoaWxkcmVuRWxlbWVudCgKICAgICAgZmluZENoaWxkRWxlbWVudChmZWF0dXJlVHlwZUVsLCAiT3V0cHV0Rm9ybWF0cyIpLAogICAgICAiRm9ybWF0IgogICAgKS5tYXAoZ2V0RWxlbWVudFRleHQpOwogICAgY29uc3Qga2V5d29yZHMgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIktleXdvcmRzIikpLnNwbGl0KCIsIikubWFwKChrZXl3b3JkKSA9PiBrZXl3b3JkLnRyaW0oKSkgOiBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJLZXl3b3JkcyIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KS5maWx0ZXIoKHYsIGksIGFycikgPT4gYXJyLmluZGV4T2YodikgPT09IGkpOwogICAgY29uc3QgbWV0YWRhdGEgPSBzZXJ2aWNlVmVyc2lvbiA9PT0gIjIuMC4wIiA/IGZpbmRDaGlsZHJlbkVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIk1ldGFkYXRhVVJMIikubWFwKAogICAgICAobWV0YWRhdGFVcmxFbCkgPT4gKHsKICAgICAgICB1cmw6IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0YWRhdGFVcmxFbCwgInhsaW5rOmhyZWYiKQogICAgICB9KQogICAgKSA6IGZpbmRDaGlsZHJlbkVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIk1ldGFkYXRhVVJMIikubWFwKAogICAgICAobWV0YWRhdGFVcmxFbCkgPT4gKHsKICAgICAgICBmb3JtYXQ6IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0YWRhdGFVcmxFbCwgImZvcm1hdCIpLAogICAgICAgIHR5cGU6IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0YWRhdGFVcmxFbCwgInR5cGUiKSwKICAgICAgICB1cmw6IGdldEVsZW1lbnRUZXh0KG1ldGFkYXRhVXJsRWwpLnRyaW0oKQogICAgICB9KQogICAgKTsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIk5hbWUiKSksCiAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJUaXRsZSIpKSwKICAgICAgYWJzdHJhY3Q6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIkFic3RyYWN0IikpLAogICAgICBkZWZhdWx0Q3JzOiBzaW1wbGlmeUVwc2dVcm4oCiAgICAgICAgZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChmZWF0dXJlVHlwZUVsLCBkZWZhdWx0U3JzVGFnKSkKICAgICAgKSwKICAgICAgb3RoZXJDcnMsCiAgICAgIG91dHB1dEZvcm1hdHM6IG91dHB1dEZvcm1hdHMubGVuZ3RoID4gMCA/IG91dHB1dEZvcm1hdHMgOiBkZWZhdWx0T3V0cHV0Rm9ybWF0cywKICAgICAgbGF0TG9uQm91bmRpbmdCb3g6IHNlcnZpY2VWZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpID8gcGFyc2VCQm94MTAwKCkgOiBwYXJzZUJCb3gyKCksCiAgICAgIGtleXdvcmRzLAogICAgICAuLi5tZXRhZGF0YS5sZW5ndGggJiYgeyBtZXRhZGF0YSB9CiAgICB9OwogIH0KICBmdW5jdGlvbiBwYXJzZUJCb3goeG1sRWxlbWVudCkgewogICAgY29uc3QgcmVzdWx0ID0gWyJMb3dlckNvcm5lciIsICJVcHBlckNvcm5lciJdLm1hcCgoZWxOYW1lKSA9PiBmaW5kQ2hpbGRFbGVtZW50KHhtbEVsZW1lbnQsIGVsTmFtZSkpLm1hcCgoY29ybmVyRWwpID0+IGdldEVsZW1lbnRUZXh0KGNvcm5lckVsKS5zcGxpdCgiICIpKS5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IFsuLi5wcmV2LCAuLi5jdXJyXSkubWFwKHBhcnNlRmxvYXQpOwogICAgaWYgKHJlc3VsdC5zb21lKE51bWJlci5pc05hTikpCiAgICAgIHJldHVybiBudWxsOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgZnVuY3Rpb24gcmVhZEluZm9Gcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3Qgcm9vdEVsID0gZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IHNlcnZpY2UgPSBmaW5kQ2hpbGRFbGVtZW50KHJvb3RFbCwgIlNlcnZpY2VJZGVudGlmaWNhdGlvbiIpOwogICAgY29uc3Qga2V5d29yZHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJLZXl3b3JkcyIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KTsKICAgIGNvbnN0IG1ldGFkYXRhID0gZmluZENoaWxkRWxlbWVudChyb290RWwsICJPcGVyYXRpb25zTWV0YWRhdGEiKTsKICAgIGNvbnN0IGdldFRpbGVPcGVyYXRpb24gPSBmaW5kQ2hpbGRyZW5FbGVtZW50KG1ldGFkYXRhLCAiT3BlcmF0aW9uIikuZmluZCgKICAgICAgKGVsKSA9PiBnZXRFbGVtZW50QXR0cmlidXRlKGVsLCAibmFtZSIpID09ICJHZXRUaWxlIgogICAgKTsKICAgIGNvbnN0IGdldFRpbGVVcmxzID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRUaWxlT3BlcmF0aW9uLCAiR2V0IiwgdHJ1ZSkucmVkdWNlKAogICAgICAocHJldiwgY3VycikgPT4gewogICAgICAgIGNvbnN0IGVuY29kaW5nVHlwZSA9IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChjdXJyLCAiVmFsdWUiLCB0cnVlKQogICAgICAgICk7CiAgICAgICAgY29uc3QgdXJsID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShjdXJyLCAieGxpbms6aHJlZiIpOwogICAgICAgIGlmIChlbmNvZGluZ1R5cGUudG9Mb3dlckNhc2UoKSA9PT0gInJlc3RmdWwiKQogICAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgcmVzdDogdXJsIH07CiAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwga3ZwOiB1cmwgfTsKICAgICAgfSwKICAgICAge30KICAgICk7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiVGl0bGUiKSksCiAgICAgIG5hbWU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIlNlcnZpY2VUeXBlIikpLAogICAgICBhYnN0cmFjdDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiQWJzdHJhY3QiKSksCiAgICAgIGZlZXM6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkZlZXMiKSksCiAgICAgIGNvbnN0cmFpbnRzOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJBY2Nlc3NDb25zdHJhaW50cyIpKSwKICAgICAga2V5d29yZHMsCiAgICAgIHByb3ZpZGVyOiByZWFkUHJvdmlkZXJGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYyksCiAgICAgIGdldFRpbGVVcmxzCiAgICB9OwogIH0KICBmdW5jdGlvbiByZWFkTWF0cml4U2V0c0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBmdW5jdGlvbiBwYXJzZU1hdHJpeFNldChlbGVtZW50KSB7CiAgICAgIGNvbnN0IHRvcExlZnQgPSBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJUb3BMZWZ0Q29ybmVyIikpLnNwbGl0KCIgIikubWFwKHBhcnNlRmxvYXQpOwogICAgICByZXR1cm4gewogICAgICAgIGlkZW50aWZpZXI6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIklkZW50aWZpZXIiKSksCiAgICAgICAgdGlsZVdpZHRoOiBwYXJzZUludCgKICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIlRpbGVXaWR0aCIpKQogICAgICAgICksCiAgICAgICAgdGlsZUhlaWdodDogcGFyc2VJbnQoCiAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJUaWxlSGVpZ2h0IikpCiAgICAgICAgKSwKICAgICAgICBtYXRyaXhXaWR0aDogcGFyc2VJbnQoCiAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJNYXRyaXhXaWR0aCIpKQogICAgICAgICksCiAgICAgICAgbWF0cml4SGVpZ2h0OiBwYXJzZUludCgKICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIk1hdHJpeEhlaWdodCIpKQogICAgICAgICksCiAgICAgICAgc2NhbGVEZW5vbWluYXRvcjogcGFyc2VGbG9hdCgKICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIlNjYWxlRGVub21pbmF0b3IiKSkKICAgICAgICApLAogICAgICAgIHRvcExlZnQKICAgICAgfTsKICAgIH0KICAgIGNvbnN0IGNvbnRlbnRzID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIkNvbnRlbnRzIgogICAgKTsKICAgIGNvbnN0IG1hdHJpeFNldHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGNvbnRlbnRzLCAiVGlsZU1hdHJpeFNldCIpOwogICAgcmV0dXJuIG1hdHJpeFNldHMubWFwKChlbGVtZW50KSA9PiB7CiAgICAgIGNvbnN0IHdlbGxLbm93blNjYWxlU2V0ID0gZ2V0RWxlbWVudFRleHQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiV2VsbEtub3duU2NhbGVTZXQiKQogICAgICApOwogICAgICBjb25zdCBib3VuZGluZ0JveCA9IHBhcnNlQkJveChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJCb3VuZGluZ0JveCIpKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZGVudGlmaWVyOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJJZGVudGlmaWVyIikpLAogICAgICAgIGNyczogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiU3VwcG9ydGVkQ1JTIikpLAogICAgICAgIHRpbGVNYXRyaWNlczogZmluZENoaWxkcmVuRWxlbWVudChlbGVtZW50LCAiVGlsZU1hdHJpeCIpLm1hcCgKICAgICAgICAgIHBhcnNlTWF0cml4U2V0CiAgICAgICAgKSwKICAgICAgICAuLi5ib3VuZGluZ0JveCAmJiB7IGJvdW5kaW5nQm94IH0sCiAgICAgICAgLi4ud2VsbEtub3duU2NhbGVTZXQgJiYgeyB3ZWxsS25vd25TY2FsZVNldCB9CiAgICAgIH07CiAgICB9KTsKICB9CiAgZnVuY3Rpb24gcmVhZExheWVyc0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBjb25zdCByb290RWwgPSBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3QgY29udGVudHNFbCA9IGZpbmRDaGlsZEVsZW1lbnQocm9vdEVsLCAiQ29udGVudHMiKTsKICAgIGZ1bmN0aW9uIGdldE1hdHJpeFNldENycyhjb250ZW50c0VsMiwgaWRlbnRpZmllcikgewogICAgICBjb25zdCBtYXRyaXhTZXQgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGNvbnRlbnRzRWwyLCAiVGlsZU1hdHJpeFNldCIpLmZpbmQoCiAgICAgICAgKG1hdHJpeFNldEVsKSA9PiB7CiAgICAgICAgICBjb25zdCBpZGVudGlmaWVyRWwgPSBmaW5kQ2hpbGRFbGVtZW50KG1hdHJpeFNldEVsLCAiSWRlbnRpZmllciIpOwogICAgICAgICAgcmV0dXJuIGdldEVsZW1lbnRUZXh0KGlkZW50aWZpZXJFbCkgPT09IGlkZW50aWZpZXI7CiAgICAgICAgfQogICAgICApOwogICAgICByZXR1cm4gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChtYXRyaXhTZXQsICJTdXBwb3J0ZWRDUlMiKSk7CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZU1hdHJpeFNldExpbmsoZWxlbWVudCkgewogICAgICBjb25zdCBpZGVudGlmaWVyID0gZ2V0RWxlbWVudFRleHQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiVGlsZU1hdHJpeFNldCIpCiAgICAgICk7CiAgICAgIGNvbnN0IGNycyA9IGdldE1hdHJpeFNldENycyhjb250ZW50c0VsLCBpZGVudGlmaWVyKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZGVudGlmaWVyLAogICAgICAgIGNycywKICAgICAgICBsaW1pdHM6IGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgIlRpbGVNYXRyaXhMaW1pdHMiLCB0cnVlKS5tYXAoCiAgICAgICAgICAoZWxlbWVudDIpID0+ICh7CiAgICAgICAgICAgIHRpbGVNYXRyaXg6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJUaWxlTWF0cml4IikpLAogICAgICAgICAgICBtaW5UaWxlUm93OiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWluVGlsZVJvdyIpKQogICAgICAgICAgICApLAogICAgICAgICAgICBtaW5UaWxlQ29sOiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWluVGlsZUNvbCIpKQogICAgICAgICAgICApLAogICAgICAgICAgICBtYXhUaWxlUm93OiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWF4VGlsZVJvdyIpKQogICAgICAgICAgICApLAogICAgICAgICAgICBtYXhUaWxlQ29sOiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWF4VGlsZUNvbCIpKQogICAgICAgICAgICApCiAgICAgICAgICB9KQogICAgICAgICkKICAgICAgfTsKICAgIH0KICAgIGNvbnN0IGdldFRpbGVPcGVyYXRpb24gPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KHJvb3RFbCwgIk9wZXJhdGlvbnNNZXRhZGF0YSIpLAogICAgICAiT3BlcmF0aW9uIgogICAgKS5maW5kKChlbCkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgIm5hbWUiKSA9PSAiR2V0VGlsZSIpOwogICAgY29uc3QgZ2V0S3ZwRWx0ID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRUaWxlT3BlcmF0aW9uLCAiR2V0IiwgdHJ1ZSkuZmlsdGVyKAogICAgICAoZWx0KSA9PiB7CiAgICAgICAgY29uc3QgZW5jb2RpbmdUeXBlID0gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbHQsICJWYWx1ZSIsIHRydWUpKTsKICAgICAgICByZXR1cm4gZW5jb2RpbmdUeXBlLnRvTG93ZXJDYXNlKCkgPT09ICJrdnAiOwogICAgICB9CiAgICApWzBdOwogICAgY29uc3QgZ2V0S3ZwVXJsID0gZ2V0S3ZwRWx0ID8gZ2V0RWxlbWVudEF0dHJpYnV0ZShnZXRLdnBFbHQsICJ4bGluazpocmVmIikgOiAiIjsKICAgIGNvbnN0IGNvbnRlbnRzID0gZmluZENoaWxkRWxlbWVudChyb290RWwsICJDb250ZW50cyIpOwogICAgY29uc3QgbGF5ZXJzID0gZmluZENoaWxkcmVuRWxlbWVudChjb250ZW50cywgIkxheWVyIik7CiAgICByZXR1cm4gbGF5ZXJzLm1hcCgoZWxlbWVudCkgPT4gewogICAgICBjb25zdCBsYXRMb25Cb3VuZGluZ0JveCA9IHBhcnNlQkJveCgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJXR1M4NEJvdW5kaW5nQm94IikKICAgICAgKTsKICAgICAgbGV0IGRlZmF1bHRTdHlsZSA9ICIiOwogICAgICBjb25zdCBzdHlsZXMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGVsZW1lbnQsICJTdHlsZSIpLm1hcCgoZWxlbWVudDIpID0+IHsKICAgICAgICBjb25zdCBsZWdlbmRVcmwgPSBnZXRFbGVtZW50QXR0cmlidXRlKAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50MiwgIkxlZ2VuZFVSTCIpLAogICAgICAgICAgInhsaW5rOmhyZWYiCiAgICAgICAgKTsKICAgICAgICBjb25zdCBhYnN0cmFjdCA9IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJBYnN0cmFjdCIpKTsKICAgICAgICBjb25zdCBzdHlsZSA9IHsKICAgICAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiVGl0bGUiKSksCiAgICAgICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiSWRlbnRpZmllciIpKSwKICAgICAgICAgIC4uLmFic3RyYWN0ICYmIHsgYWJzdHJhY3QgfSwKICAgICAgICAgIC4uLmxlZ2VuZFVybCAmJiB7IGxlZ2VuZFVybCB9CiAgICAgICAgfTsKICAgICAgICBpZiAoZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50MiwgImlzRGVmYXVsdCIpID09PSAidHJ1ZSIpIHsKICAgICAgICAgIGRlZmF1bHRTdHlsZSA9IHN0eWxlLm5hbWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzdHlsZTsKICAgICAgfSk7CiAgICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGVsZW1lbnQsICJGb3JtYXQiKS5tYXAoCiAgICAgICAgZ2V0RWxlbWVudFRleHQKICAgICAgKTsKICAgICAgY29uc3QgcmVzb3VyY2VMaW5rcyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoCiAgICAgICAgZWxlbWVudCwKICAgICAgICAiUmVzb3VyY2VVUkwiCiAgICAgICkuZmlsdGVyKAogICAgICAgIChlbGVtZW50MikgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50MiwgInJlc291cmNlVHlwZSIpID09PSAidGlsZSIKICAgICAgKS5tYXAoKGVsZW1lbnQyKSA9PiB7CiAgICAgICAgY29uc3QgZm9ybWF0ID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50MiwgImZvcm1hdCIpOwogICAgICAgIGNvbnN0IHVybCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoZWxlbWVudDIsICJ0ZW1wbGF0ZSIpOwogICAgICAgIHJldHVybiB7IGZvcm1hdCwgdXJsLCBlbmNvZGluZzogIlJFU1QiIH07CiAgICAgIH0pOwogICAgICBpZiAoZ2V0S3ZwVXJsKSB7CiAgICAgICAgcmVzb3VyY2VMaW5rcy5wdXNoKAogICAgICAgICAgLi4ub3V0cHV0Rm9ybWF0cy5tYXAoKGZvcm1hdCkgPT4gKHsKICAgICAgICAgICAgZW5jb2Rpbmc6ICJLVlAiLAogICAgICAgICAgICB1cmw6IGdldEt2cFVybCwKICAgICAgICAgICAgZm9ybWF0CiAgICAgICAgICB9KSkKICAgICAgICApOwogICAgICB9CiAgICAgIGNvbnN0IG1hdHJpeFNldHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGVsZW1lbnQsICJUaWxlTWF0cml4U2V0TGluayIpLm1hcCgKICAgICAgICBwYXJzZU1hdHJpeFNldExpbmsKICAgICAgKTsKICAgICAgY29uc3QgZGltZW5zaW9ucyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgIkRpbWVuc2lvbiIpLm1hcCgKICAgICAgICAoZWxlbWVudDIpID0+IHsKICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50MiwgIklkZW50aWZpZXIiKQogICAgICAgICAgKTsKICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiRGVmYXVsdCIpCiAgICAgICAgICApOwogICAgICAgICAgY29uc3QgdmFsdWVzID0gZmluZENoaWxkcmVuRWxlbWVudChlbGVtZW50MiwgIlZhbHVlcyIpLm1hcCgKICAgICAgICAgICAgZ2V0RWxlbWVudFRleHQKICAgICAgICAgICk7CiAgICAgICAgICByZXR1cm4geyBpZGVudGlmaWVyLCBkZWZhdWx0VmFsdWUsIHZhbHVlcyB9OwogICAgICAgIH0KICAgICAgKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJJZGVudGlmaWVyIikpLAogICAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJUaXRsZSIpKSwKICAgICAgICBhYnN0cmFjdDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiQWJzdHJhY3QiKSksCiAgICAgICAgc3R5bGVzLAogICAgICAgIHJlc291cmNlTGlua3MsCiAgICAgICAgbWF0cml4U2V0cywKICAgICAgICBkZWZhdWx0U3R5bGUsCiAgICAgICAgLi4ubGF0TG9uQm91bmRpbmdCb3ggJiYgeyBsYXRMb25Cb3VuZGluZ0JveCB9LAogICAgICAgIC4uLmRpbWVuc2lvbnMgJiYgeyBkaW1lbnNpb25zIH0KICAgICAgfTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBwYXJzZUZlYXR1cmVQcm9wcyhnZXRGZWF0dXJlc0RvYywgZmVhdHVyZVR5cGVGdWxsLCBzZXJ2aWNlVmVyc2lvbikgewogICAgY29uc3QgY29sbGVjdGlvbiA9IGdldFJvb3RFbGVtZW50KGdldEZlYXR1cmVzRG9jKTsKICAgIGxldCBtZW1iZXJzOwogICAgaWYgKHNlcnZpY2VWZXJzaW9uLnN0YXJ0c1dpdGgoIjIuMCIpKSB7CiAgICAgIG1lbWJlcnMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGNvbGxlY3Rpb24sICJtZW1iZXIiKS5tYXAoCiAgICAgICAgKHBhcmVudCkgPT4gZ2V0Q2hpbGRyZW5FbGVtZW50KHBhcmVudClbMF0KICAgICAgKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IG1lbWJlcnNSb290ID0gZmluZENoaWxkRWxlbWVudChjb2xsZWN0aW9uLCAiZmVhdHVyZU1lbWJlcnMiKTsKICAgICAgbWVtYmVycyA9IG1lbWJlcnNSb290ID8gZ2V0Q2hpbGRyZW5FbGVtZW50KG1lbWJlcnNSb290KSA6IGZpbmRDaGlsZHJlbkVsZW1lbnQoY29sbGVjdGlvbiwgImZlYXR1cmVNZW1iZXIiKS5tYXAoCiAgICAgICAgKHBhcmVudCkgPT4gZ2V0Q2hpbGRyZW5FbGVtZW50KHBhcmVudClbMF0KICAgICAgKTsKICAgIH0KICAgIGNvbnN0IGlkQXR0ciA9IHNlcnZpY2VWZXJzaW9uID09PSAiMS4wLjAiID8gImZpZCIgOiAiZ21sOmlkIjsKICAgIGZ1bmN0aW9uIGlzRWxlbWVudFByb3BlcnR5KHByb3BOYW1lKSB7CiAgICAgIHJldHVybiBwcm9wTmFtZSBpbiBmZWF0dXJlVHlwZUZ1bGwucHJvcGVydGllczsKICAgIH0KICAgIGZ1bmN0aW9uIHBhcnNlRWxlbWVudFByb3BlcnR5VmFsdWUocHJvcE5hbWUsIHZhbHVlQXNTdHJpbmcpIHsKICAgICAgY29uc3QgdHlwZSA9IGZlYXR1cmVUeXBlRnVsbC5wcm9wZXJ0aWVzW3Byb3BOYW1lXTsKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAiaW50ZWdlciI6CiAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWVBc1N0cmluZyk7CiAgICAgICAgY2FzZSAiZmxvYXQiOgogICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWVBc1N0cmluZyk7CiAgICAgICAgY2FzZSAiYm9vbGVhbiI6CiAgICAgICAgICByZXR1cm4gdmFsdWVBc1N0cmluZyA9PT0gInRydWUiOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gdmFsdWVBc1N0cmluZzsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gZ2V0UHJvcGVydGllcyhtZW1iZXJFbCkgewogICAgICByZXR1cm4gZ2V0Q2hpbGRyZW5FbGVtZW50KG1lbWJlckVsKS5maWx0ZXIoKGVsKSA9PiBpc0VsZW1lbnRQcm9wZXJ0eShzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShlbCkpKSkucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7CiAgICAgICAgY29uc3QgcHJvcE5hbWUgPSBzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShjdXJyKSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIC4uLnByZXYsCiAgICAgICAgICBbcHJvcE5hbWVdOiBwYXJzZUVsZW1lbnRQcm9wZXJ0eVZhbHVlKHByb3BOYW1lLCBnZXRFbGVtZW50VGV4dChjdXJyKSkKICAgICAgICB9OwogICAgICB9LCB7fSk7CiAgICB9CiAgICByZXR1cm4gbWVtYmVycy5tYXAoKGVsKSA9PiAoewogICAgICBpZDogZ2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgaWRBdHRyKSwKICAgICAgcHJvcGVydGllczogZ2V0UHJvcGVydGllcyhlbCkKICAgIH0pKTsKICB9CiAgZnVuY3Rpb24gY29tcHV0ZUZlYXR1cmVQcm9wc0RldGFpbHMoZmVhdHVyZXNXaXRoUHJvcHMpIHsKICAgIHJldHVybiBmZWF0dXJlc1dpdGhQcm9wcy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHsKICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBjdXJyLnByb3BlcnRpZXMpIHsKICAgICAgICBjb25zdCBwcm9wVmFsdWUgPSBjdXJyLnByb3BlcnRpZXNbcHJvcE5hbWVdOwogICAgICAgIGlmICghKHByb3BOYW1lIGluIHByZXYpKSB7CiAgICAgICAgICBwcmV2W3Byb3BOYW1lXSA9IHsgdW5pcXVlVmFsdWVzOiBbXSB9OwogICAgICAgIH0KICAgICAgICBjb25zdCB1bmlxdWVWYWx1ZSA9IHByZXZbcHJvcE5hbWVdLnVuaXF1ZVZhbHVlcy5maW5kKAogICAgICAgICAgKHYpID0+IHYudmFsdWUgPT09IHByb3BWYWx1ZQogICAgICAgICk7CiAgICAgICAgaWYgKHVuaXF1ZVZhbHVlKQogICAgICAgICAgdW5pcXVlVmFsdWUuY291bnQrKzsKICAgICAgICBlbHNlCiAgICAgICAgICBwcmV2W3Byb3BOYW1lXS51bmlxdWVWYWx1ZXMucHVzaCh7IHZhbHVlOiBwcm9wVmFsdWUsIGNvdW50OiAxIH0pOwogICAgICB9CiAgICAgIHJldHVybiBwcmV2OwogICAgfSwge30pOwogIH0KICBmdW5jdGlvbiBnZW5lcmF0ZUdldEZlYXR1cmVVcmwoc2VydmljZVVybCwgdmVyc2lvbiwgZmVhdHVyZVR5cGUsIG91dHB1dEZvcm1hdCwgbWF4RmVhdHVyZXMsIGF0dHJpYnV0ZXMsIGhpdHNPbmx5LCBvdXRwdXRDcnMsIGV4dGVudCwgZXh0ZW50Q3JzLCBzdGFydEluZGV4KSB7CiAgICBjb25zdCB0eXBlUGFyYW0gPSB2ZXJzaW9uID09PSAiMi4wLjAiID8gIlRZUEVOQU1FUyIgOiAiVFlQRU5BTUUiOwogICAgY29uc3QgY291bnRQYXJhbSA9IHZlcnNpb24gPT09ICIyLjAuMCIgPyAiQ09VTlQiIDogIk1BWEZFQVRVUkVTIjsKICAgIGNvbnN0IG5ld1BhcmFtcyA9IHsKICAgICAgU0VSVklDRTogIldGUyIsCiAgICAgIFJFUVVFU1Q6ICJHZXRGZWF0dXJlIiwKICAgICAgVkVSU0lPTjogdmVyc2lvbiwKICAgICAgW3R5cGVQYXJhbV06IGZlYXR1cmVUeXBlCiAgICB9OwogICAgaWYgKG91dHB1dEZvcm1hdCAhPT0gdm9pZCAwKQogICAgICBuZXdQYXJhbXMuT1VUUFVURk9STUFUID0gb3V0cHV0Rm9ybWF0OwogICAgaWYgKGF0dHJpYnV0ZXMgIT09IHZvaWQgMCkKICAgICAgbmV3UGFyYW1zLlBST1BFUlRZTkFNRSA9IGF0dHJpYnV0ZXMuam9pbigiLCIpOwogICAgaWYgKGhpdHNPbmx5KSB7CiAgICAgIG5ld1BhcmFtcy5SRVNVTFRUWVBFID0gImhpdHMiOwogICAgICBuZXdQYXJhbXNbY291bnRQYXJhbV0gPSAiMSI7CiAgICB9IGVsc2UgaWYgKG1heEZlYXR1cmVzICE9PSB2b2lkIDApCiAgICAgIG5ld1BhcmFtc1tjb3VudFBhcmFtXSA9IG1heEZlYXR1cmVzLnRvU3RyaW5nKDEwKTsKICAgIGlmIChvdXRwdXRDcnMpIHsKICAgICAgbmV3UGFyYW1zLlNSU05BTUUgPSBvdXRwdXRDcnM7CiAgICB9CiAgICBpZiAoZXh0ZW50KSB7CiAgICAgIGNvbnN0IGV4dGVudEpvaW5lZCA9IGV4dGVudC5qb2luKCIsIik7CiAgICAgIG5ld1BhcmFtcy5CQk9YID0gZXh0ZW50Q3JzID8gYCR7ZXh0ZW50Sm9pbmVkfSwke2V4dGVudENyc31gIDogZXh0ZW50Sm9pbmVkOwogICAgfQogICAgaWYgKHN0YXJ0SW5kZXgpIHsKICAgICAgbmV3UGFyYW1zLlNUQVJUSU5ERVggPSBzdGFydEluZGV4LnRvU3RyaW5nKDEwKTsKICAgIH0KICAgIHJldHVybiBzZXRRdWVyeVBhcmFtcyhzZXJ2aWNlVXJsLCBuZXdQYXJhbXMpOwogIH0KICBhZGRUYXNrSGFuZGxlcigKICAgICJwYXJzZVdtc0NhcGFiaWxpdGllcyIsCiAgICBnbG9iYWxUaGlzLAogICAgKHsgdXJsIH0pID0+IHF1ZXJ5WG1sRG9jdW1lbnQodXJsKS50aGVuKCh4bWxEb2MpID0+IGNoZWNrKHhtbERvYywgdXJsKSkudGhlbigoeG1sRG9jKSA9PiAoewogICAgICBpbmZvOiByZWFkSW5mb0Zyb21DYXBhYmlsaXRpZXMkMih4bWxEb2MpLAogICAgICBsYXllcnM6IHJlYWRMYXllcnNGcm9tQ2FwYWJpbGl0aWVzJDEoeG1sRG9jKSwKICAgICAgdXJsOiByZWFkT3BlcmF0aW9uVXJsc0Zyb21DYXBhYmlsaXRpZXMkMSh4bWxEb2MpLAogICAgICB2ZXJzaW9uOiByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMkMSh4bWxEb2MpCiAgICB9KSkKICApOwogIGFkZFRhc2tIYW5kbGVyKAogICAgInBhcnNlV2ZzQ2FwYWJpbGl0aWVzIiwKICAgIGdsb2JhbFRoaXMsCiAgICAoeyB1cmwgfSkgPT4gcXVlcnlYbWxEb2N1bWVudCh1cmwpLnRoZW4oKHhtbERvYykgPT4gY2hlY2soeG1sRG9jLCB1cmwpKS50aGVuKCh4bWxEb2MpID0+ICh7CiAgICAgIGluZm86IHJlYWRJbmZvRnJvbUNhcGFiaWxpdGllcyQxKHhtbERvYyksCiAgICAgIGZlYXR1cmVUeXBlczogcmVhZEZlYXR1cmVUeXBlc0Zyb21DYXBhYmlsaXRpZXMoeG1sRG9jKSwKICAgICAgdXJsOiByZWFkT3BlcmF0aW9uVXJsc0Zyb21DYXBhYmlsaXRpZXMoeG1sRG9jKSwKICAgICAgdmVyc2lvbjogcmVhZFZlcnNpb25Gcm9tQ2FwYWJpbGl0aWVzKHhtbERvYykKICAgIH0pKQogICk7CiAgYWRkVGFza0hhbmRsZXIoCiAgICAicXVlcnlXZnNGZWF0dXJlVHlwZURldGFpbHMiLAogICAgZ2xvYmFsVGhpcywKICAgICh7CiAgICAgIHVybCwKICAgICAgc2VydmljZVZlcnNpb24sCiAgICAgIGZlYXR1cmVUeXBlRnVsbAogICAgfSkgPT4gewogICAgICBjb25zdCBnZXRGZWF0dXJlVXJsID0gZ2VuZXJhdGVHZXRGZWF0dXJlVXJsKAogICAgICAgIHVybCwKICAgICAgICBzZXJ2aWNlVmVyc2lvbiwKICAgICAgICBmZWF0dXJlVHlwZUZ1bGwubmFtZSwKICAgICAgICB2b2lkIDAsCiAgICAgICAgdm9pZCAwLAogICAgICAgIE9iamVjdC5rZXlzKGZlYXR1cmVUeXBlRnVsbC5wcm9wZXJ0aWVzKQogICAgICApOwogICAgICByZXR1cm4gcXVlcnlYbWxEb2N1bWVudChnZXRGZWF0dXJlVXJsKS50aGVuKChnZXRGZWF0dXJlRG9jKSA9PiAoewogICAgICAgIHByb3BzOiBjb21wdXRlRmVhdHVyZVByb3BzRGV0YWlscygKICAgICAgICAgIHBhcnNlRmVhdHVyZVByb3BzKGdldEZlYXR1cmVEb2MsIGZlYXR1cmVUeXBlRnVsbCwgc2VydmljZVZlcnNpb24pCiAgICAgICAgKQogICAgICB9KSk7CiAgICB9CiAgKTsKICBhZGRUYXNrSGFuZGxlcigKICAgICJ1cGRhdGVGZXRjaE9wdGlvbnMiLAogICAgZ2xvYmFsVGhpcywKICAgICh7IG9wdGlvbnMgfSkgPT4gewogICAgICBzZXRGZXRjaE9wdGlvbnMob3B0aW9ucyk7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe30pOwogICAgfQogICk7CiAgYWRkVGFza0hhbmRsZXIoCiAgICAicGFyc2VXbXRzQ2FwYWJpbGl0aWVzIiwKICAgIGdsb2JhbFRoaXMsCiAgICAoeyB1cmwgfSkgPT4gcXVlcnlYbWxEb2N1bWVudCh1cmwpLnRoZW4oKHhtbERvYykgPT4gY2hlY2soeG1sRG9jLCB1cmwpKS50aGVuKCh4bWxEb2MpID0+ICh7CiAgICAgIGluZm86IHJlYWRJbmZvRnJvbUNhcGFiaWxpdGllcyh4bWxEb2MpLAogICAgICBsYXllcnM6IHJlYWRMYXllcnNGcm9tQ2FwYWJpbGl0aWVzKHhtbERvYyksCiAgICAgIG1hdHJpeFNldHM6IHJlYWRNYXRyaXhTZXRzRnJvbUNhcGFiaWxpdGllcyh4bWxEb2MpCiAgICB9KSkKICApOwp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD13b3JrZXItMEp6aEV5Q0IuanMubWFwCg==")],{type:"text/javascript;charset=utf-8"});class cre extends Error{constructor(n){super(n)}}function xl(t){const n=t.indexOf(":");return n>-1?t.substr(n+1):t}function yi(t){return t.children[0]}function Sl(t){return t.name||""}function Kn(t,n,e=!1){const r=xl(n);return t&&Array.isArray(t.children)?t.children.reduce(function s(i,o){return xl(Sl(o))===r&&i.push(o),e&&Array.isArray(o.children)?[...i,...o.children.reduce(s,[])]:i},[]):[]}function tt(t,n,e=!1){return Kn(t,n,e)[0]||null}function Ml(t){return t&&Array.isArray(t.children)?[...t.children.filter(n=>n instanceof Us.XmlElement)]:[]}function _t(t){const n=t&&Array.isArray(t.children)?t.children.find(e=>"text"===e.type):null;return n?n.text:""}function xr(t,n){return t&&t.attributes[n]||""}class G0 extends Error{constructor(n,e,r){super(n),this.httpStatus=e,this.isCrossOriginRelated=r,this.name="EndpointError"}}class q8 extends Error{constructor(n,e,r,s,i){super(n),this.requestUrl=e,this.code=r,this.locator=s,this.response=i,this.name="ServiceExceptionError"}}function vT(t,n){const e=xr(t,"code")||xr(t,"exceptionCode"),r=xr(t,"locator"),i=_t(tt(t,"ExceptionText")||t).trim();return new q8(i,n,e,r,t.document)}function Q8(t,n){const e=yi(t),r=xl(Sl(e));if("ServiceExceptionReport"===r){const s=tt(e,"ServiceException");if(s)throw vT(s,n)}if("ExceptionReport"===r){const s=tt(e,"Exception");if(s)throw vT(s,n)}return t}const mT=["utf-8","utf-16","iso-8859-1"],b5=new Map;let eC={};function CT(){return eC}function x5(t){return function gre(t,n="GET",e){let r=`${n}#${t}`;if(e&&(r=`${n}#asJson#${t}`),b5.has(r))return b5.get(r);const s={...CT()};s.method=n,e&&(s.headers="headers"in s?s.headers:{},s.headers.Accept="application/json");const i=fetch(t,s).catch(o=>o).then(o=>(b5.delete(r),o));return b5.set(r,i),i.then(o=>{if(o instanceof Error)throw o;return o.clone()})}(t).catch(()=>fetch(t,{...CT(),method:"HEAD",mode:"no-cors"}).catch(n=>{throw new G0(`Fetching the document failed either due to network errors or unreachable host, error is: ${n.message}`,0,!1)}).then(()=>{throw new G0("The document could not be fetched due to CORS limitations",0,!0)})).then(function(){var n=(0,Yo.A)(function*(e){if(!e.ok){const i=yield e.text();throw new G0(`Received an error with code ${e.status}: ${i}`,e.status,!1)}return function pre(t,n){const e=n?function dre(t){const n=/charset=([^;]+)/.exec(t);return n?n[1]:null}(n):null,r=e?[e,...mT]:mT;for(const s of r)try{return new TextDecoder(s,{fatal:!0}).decode(t)}catch{}return console.warn("[ogc-client] XML document encoding could not be determined, falling back to utf-8."),new TextDecoder("utf-8").decode(t)}(yield e.arrayBuffer(),e.headers.get("Content-Type"))});return function(e){return n.apply(this,arguments)}}()).then(n=>function ure(t){let n=null;try{n=(0,Us.parseXml)(t)}catch(e){throw new cre(e.message)}return n}(n))}function yT(t,n){const e=t.match(/(https?%3A%2F%2F[^/]+)$/);if(e){const a=e[1],l=yT(decodeURIComponent(a),n);return t.replace(a,encodeURIComponent(l))}const r=new URL(t),s=Object.keys(n),i=s.map(a=>a.toLowerCase()),o=[];for(const a of r.searchParams.keys())i.indexOf(a.toLowerCase())>-1&&o.push(a);return o.map(a=>r.searchParams.delete(a)),s.forEach(a=>r.searchParams.set(a,!0===n[a]?"":n[a])),r.toString()}function bre(t,n,e,r,s,i,o,a,l,c,u){const h="2.0.0"===n?"TYPENAMES":"TYPENAME",d="2.0.0"===n?"COUNT":"MAXFEATURES",p={SERVICE:"WFS",REQUEST:"GetFeature",VERSION:n,[h]:e};if(void 0!==r&&(p.OUTPUTFORMAT=r),void 0!==i&&(p.PROPERTYNAME=i.join(",")),o?(p.RESULTTYPE="hits",p[d]="1"):void 0!==s&&(p[d]=s.toString(10)),a&&(p.SRSNAME=a),l){const v=l.join(",");p.BBOX=c?`${v},${c}`:v}return u&&(p.STARTINDEX=u.toString(10)),yT(t,p)}function U0(t,n,e){const r=typeof WorkerGlobalScope<"u",s=function(){var i=(0,Yo.A)(function*(o){if(o.taskName===t){let a,l;try{a=yield e(o.params)}catch(u){l=function hre(t){const n={message:t.message,stack:t.stack,name:t.name};return t instanceof q8?{...n,code:t.code,locator:t.locator,response:t.response,requestUrl:t.requestUrl}:t instanceof G0?{...n,httpStatus:t.httpStatus,isCrossOriginRelated:t.isCrossOriginRelated}:n}(u)}const c={taskName:t,requestId:o.requestId,...a&&{response:a},...l&&{error:l}};r?n.postMessage(c):n.dispatchEvent(new CustomEvent("ogc-client.response",{detail:c}))}});return function(a){return i.apply(this,arguments)}}();r?n.addEventListener("message",i=>s(i.data)):n.addEventListener("ogc-client.request",i=>s(i.detail))}const zre=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function hC(t){return/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())?`EPSG:${/([0-9]+)$/.exec(t)[1]}`:t}function Ere(t){const n={},e=tt(yi(t),"Capability");return Ml(tt(e,"Request")).forEach(s=>{const i=xl(Sl(s));n[i]=function Nre(t){const n={};return Kn(t,"DCPType").flatMap(i=>tt(i,"HTTP")).flatMap(i=>Ml(i)).forEach(i=>{const o=tt(i,"OnlineResource"),a=xl(Sl(i));n[a]=xr(o,"xlink:href")}),n}(s)}),n}function MT(t){return yi(t).attributes.version}function Tre(t){const n=MT(t);return Kn(tt(yi(t),"Capability"),"Layer").map(r=>_T(r,n))}function Bre(t){const n=tt(yi(t),"Service"),e=function Lre(t){const n=tt(yi(t),"Capability");return Kn(tt(tt(n,"Request"),"GetMap"),"Format").map(_t)}(t),r=function Rre(t){const n=tt(yi(t),"Capability");return Kn(tt(tt(n,"Request"),"GetFeatureInfo"),"Format").map(_t)}(t),s=function Dre(t){const n=tt(yi(t),"Capability");return Kn(tt(n,"Exception"),"Format").map(_t)}(t),i=Kn(tt(n,"KeywordList"),"Keyword").map(_t).filter((a,l,c)=>c.indexOf(a)===l),o=function kre(t){const n=tt(yi(t),"Service"),e=tt(n,"ContactInformation"),r=tt(e,"ContactPersonPrimary"),s=tt(e,"ContactAddress");return{contact:{name:_t(tt(r,"ContactPerson")),organization:_t(tt(r,"ContactOrganization")),position:_t(tt(e,"ContactPosition")),phone:_t(tt(e,"ContactVoiceTelephone")),fax:_t(tt(e,"ContactFacsimileTelephone")),address:{deliveryPoint:_t(tt(s,"Address")),city:_t(tt(s,"City")),administrativeArea:_t(tt(s,"StateOrProvince")),postalCode:_t(tt(s,"PostCode")),country:_t(tt(s,"Country"))},email:_t(tt(e,"ContactElectronicMailAddress"))}}}(t);return{title:_t(tt(n,"Title")),name:_t(tt(n,"Name")),abstract:_t(tt(n,"Abstract")),outputFormats:e,infoFormats:r,exceptionFormats:s,fees:_t(tt(n,"Fees")),constraints:_t(tt(n,"AccessConstraints")),provider:o,keywords:i}}function _T(t,n,e=[],r=[],s=null,i=null,o=null,a=null){const l="1.3.0"===n?"CRS":"SRS",c=Kn(t,l).map(_t),u=c.length>0?c:e,h=Kn(t,"Style").map(Fre),d=h.length>0?h:r;function p(Tt){return(function Vre(t){return zre.indexOf(hC(t))>-1}(xr(Tt,l))&&"1.3.0"===n?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map(tr=>xr(Tt,tr))}function _(Tt,xt){return""===Tt?xt:Math.sqrt(.5*parseFloat(Tt)**2)/28e-5}function N(Tt,xt){const An=_t(tt(t,Tt));return""===An?xt:parseFloat(An)}const me=tt(t,"Attribution"),fe=null!==me?function Pre(t){const n=xr(tt(tt(t,"LogoURL"),"OnlineResource"),"xlink:href"),e=xr(tt(t,"OnlineResource"),"xlink:href"),r=_t(tt(t,"Title"));return{...r&&{title:r},...e&&{url:e},...n&&{logoUrl:n}}}(me):s,we=tt(t,"1.3.0"===n?"EX_GeographicBoundingBox":"LatLonBoundingBox"),ee={};we&&(ee["EPSG:4326"]="1.3.0"===n?function v(Tt){return["westBoundLongitude","southBoundLatitude","eastBoundLongitude","northBoundLatitude"].map(xt=>_t(tt(Tt,xt)))}(we):function b(Tt){return["minx","miny","maxx","maxy"].map(xt=>xr(Tt,xt))}(we));let Ie=Kn(t,"BoundingBox").reduce((Tt,xt)=>({...Tt,[xr(xt,l)]:p(xt)}),ee);Ie=Object.keys(Ie).length>0||null===i?Ie:i;const Be="1"===t.attributes.queryable||"true"===t.attributes.queryable,qe="1"===t.attributes.opaque||"true"===t.attributes.opaque,Je=Kn(tt(t,"KeywordList"),"Keyword").map(_t).filter((Tt,xt,An)=>An.indexOf(Tt)===xt);let gt,rt;"1.3.0"===n?(gt=N("MinScaleDenominator",a),rt=N("MaxScaleDenominator",o)):[gt,rt]=function z(){const Tt=tt(t,"ScaleHint");if(!Tt)return[a,o];const xt=xr(Tt,"min"),An=xr(Tt,"max");return[_(xt,a),_(An,o)]}();const Ct=Kn(t,"MetadataURL").map(Tt=>({type:xr(Tt,"type"),format:_t(tt(Tt,"Format")),url:xr(tt(Tt,"OnlineResource"),"xlink:href")})),jt=Kn(t,"Layer").map(Tt=>_T(Tt,n,u,d,fe,Ie,rt,gt));return{name:_t(tt(t,"Name")),title:_t(tt(t,"Title")),abstract:_t(tt(t,"Abstract")),availableCrs:u,styles:d,attribution:fe,boundingBoxes:Ie,keywords:Je,queryable:Be,opaque:qe,...null!==gt?{minScaleDenominator:gt}:{},...null!==rt?{maxScaleDenominator:rt}:{},...Ct.length&&{metadata:Ct},...jt.length&&{children:jt}}}function Fre(t){const n=xr(tt(tt(t,"LegendURL"),"OnlineResource"),"xlink:href"),e=_t(tt(t,"Abstract"));return{name:_t(tt(t,"Name")),title:_t(tt(t,"Title")),...e&&{abstract:e},...n&&{legendUrl:n}}}function HT(t){const n=tt(yi(t),"ServiceProvider"),e=tt(n,"ServiceContact"),r=tt(e,"ContactInfo"),s=tt(r,"Phone"),i=tt(r,"Address");return{name:_t(tt(n,"ProviderName")),site:xr(tt(n,"ProviderSite"),"xlink:href"),contact:{name:_t(tt(e,"IndividualName")),position:_t(tt(e,"PositionName")),phone:_t(tt(s,"Voice")),fax:_t(tt(s,"Facsimile")),address:{deliveryPoint:_t(tt(i,"DeliveryPoint")),city:_t(tt(i,"City")),administrativeArea:_t(tt(i,"AdministrativeArea")),postalCode:_t(tt(i,"PostalCode")),country:_t(tt(i,"Country"))},email:_t(tt(i,"ElectronicMailAddress"))}}}function Ore(t){const n={},e=yi(t),r=tt(e,"OperationsMetadata");if(r)Kn(r,"Operation").forEach(s=>{const i=xr(s,"name");n[i]=function jre(t){const n={};return Kn(t,"DCP").flatMap(i=>tt(i,"HTTP")).flatMap(i=>Ml(i)).forEach(i=>{const o=xl(Sl(i));n[o]=xr(i,"xlink:href")}),n}(s)});else{const s=tt(e,"Capability");Ml(tt(s,"Request")).forEach(o=>{const a=xl(Sl(o));n[a]=function Zre(t){const n={};return Kn(t,"DCPType").flatMap(i=>Kn(i,"HTTP")).flatMap(i=>Ml(i)).forEach(i=>{const o=xl(Sl(i));n[o]=xr(i,"onlineResource")}),n}(o)})}return n}function M5(t){return yi(t).attributes.version}function zT(t){let e;if(M5(t).startsWith("1.0")){const r=tt(tt(tt(yi(t),"Capability"),"Request"),"GetFeature");e=Ml(tt(r,"ResultFormat")).map(Sl)}else{const s=Kn(tt(yi(t),"OperationsMetadata"),"Operation").find(o=>"GetFeature"===xr(o,"name")),i=Kn(s,"Parameter").find(o=>"outputFormat"===xr(o,"name"));e=Kn(i,"Value",!0).map(_t)}return e}function Gre(t){const n=M5(t),e=n.startsWith("1.0")?"Service":"ServiceIdentification",r=n.startsWith("1.0")?"Name":"ServiceType",s=tt(yi(t),e);let i,o;return i=n.startsWith("1.0")?_t(tt(s,"Keywords")).split(",").map(a=>a.trim()):Kn(tt(s,"Keywords"),"Keyword").map(_t),"1.0.0"!==n&&(o=HT(t)),{title:_t(tt(s,"Title")),name:_t(tt(s,r)),abstract:_t(tt(s,"Abstract")),fees:_t(tt(s,"Fees")),constraints:_t(tt(s,"AccessConstraints")),keywords:i,provider:o,outputFormats:zT(t)}}function Wre(t){const n=M5(t),e=zT(t);return Kn(tt(yi(t),"FeatureTypeList"),"FeatureType").map(s=>function Ure(t,n,e){const r=n.startsWith("2.")?"CRS":"SRS",s=n.startsWith("1.0")?"SRS":`Default${r}`;const a=n.startsWith("1.0")?[]:Kn(t,`Other${r}`).map(_t).map(hC),l=n.startsWith("1.0")?[]:Kn(tt(t,"OutputFormats"),"Format").map(_t),c=n.startsWith("1.0")?_t(tt(t,"Keywords")).split(",").map(h=>h.trim()):Kn(tt(t,"Keywords"),"Keyword").map(_t).filter((h,d,p)=>p.indexOf(h)===d),u="2.0.0"===n?Kn(t,"MetadataURL").map(h=>({url:xr(h,"xlink:href")})):Kn(t,"MetadataURL").map(h=>({format:xr(h,"format"),type:xr(h,"type"),url:_t(h).trim()}));return{name:_t(tt(t,"Name")),title:_t(tt(t,"Title")),abstract:_t(tt(t,"Abstract")),defaultCrs:hC(_t(tt(t,s))),otherCrs:a,outputFormats:l.length>0?l:e,latLonBoundingBox:n.startsWith("1.0")?function i(){const h=tt(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map(d=>xr(h,d)).map(parseFloat)}():function o(){const h=tt(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map(d=>tt(h,d)).map(d=>_t(d).split(" ")).reduce((d,p)=>[...d,...p]).map(parseFloat)}(),keywords:c,...u.length&&{metadata:u}}}(s,n,e))}function VT(t){const n=["LowerCorner","UpperCorner"].map(e=>tt(t,e)).map(e=>_t(e).split(" ")).reduce((e,r)=>[...e,...r]).map(parseFloat);return n.some(Number.isNaN)?null:n}function $re(t){const n=yi(t),e=tt(n,"ServiceIdentification"),r=Kn(tt(e,"Keywords"),"Keyword").map(_t),i=Kn(tt(n,"OperationsMetadata"),"Operation").find(a=>"GetTile"==xr(a,"name")),o=Kn(i,"Get",!0).reduce((a,l)=>{const c=_t(tt(l,"Value",!0)),u=xr(l,"xlink:href");return"restful"===c.toLowerCase()?{...a,rest:u}:{...a,kvp:u}},{});return{title:_t(tt(e,"Title")),name:_t(tt(e,"ServiceType")),abstract:_t(tt(e,"Abstract")),fees:_t(tt(e,"Fees")),constraints:_t(tt(e,"AccessConstraints")),keywords:r,provider:HT(t),getTileUrls:o}}function Xre(t){function n(s){const i=_t(tt(s,"TopLeftCorner")).split(" ").map(parseFloat);return{identifier:_t(tt(s,"Identifier")),tileWidth:parseInt(_t(tt(s,"TileWidth"))),tileHeight:parseInt(_t(tt(s,"TileHeight"))),matrixWidth:parseInt(_t(tt(s,"MatrixWidth"))),matrixHeight:parseInt(_t(tt(s,"MatrixHeight"))),scaleDenominator:parseFloat(_t(tt(s,"ScaleDenominator"))),topLeft:i}}return Kn(tt(yi(t),"Contents"),"TileMatrixSet").map(s=>{const i=_t(tt(s,"WellKnownScaleSet")),o=VT(tt(s,"BoundingBox"));return{identifier:_t(tt(s,"Identifier")),crs:_t(tt(s,"SupportedCRS")),tileMatrices:Kn(s,"TileMatrix").map(n),...o&&{boundingBox:o},...i&&{wellKnownScaleSet:i}}})}function Yre(t){const n=yi(t),e=tt(n,"Contents");function s(u){const h=_t(tt(u,"TileMatrixSet")),d=function r(u,h){const d=Kn(u,"TileMatrixSet").find(p=>_t(tt(p,"Identifier"))===h);return _t(tt(d,"SupportedCRS"))}(e,h);return{identifier:h,crs:d,limits:Kn(u,"TileMatrixLimits",!0).map(p=>({tileMatrix:_t(tt(p,"TileMatrix")),minTileRow:parseInt(_t(tt(p,"MinTileRow"))),minTileCol:parseInt(_t(tt(p,"MinTileCol"))),maxTileRow:parseInt(_t(tt(p,"MaxTileRow"))),maxTileCol:parseInt(_t(tt(p,"MaxTileCol")))}))}}const i=Kn(tt(n,"OperationsMetadata"),"Operation").find(u=>"GetTile"==xr(u,"name")),o=Kn(i,"Get",!0).filter(u=>"kvp"===_t(tt(u,"Value",!0)).toLowerCase())[0],a=o?xr(o,"xlink:href"):"";return Kn(tt(n,"Contents"),"Layer").map(u=>{const h=VT(tt(u,"WGS84BoundingBox"));let d="";const p=Kn(u,"Style").map(N=>{const me=xr(tt(N,"LegendURL"),"xlink:href"),fe=_t(tt(N,"Abstract")),we={title:_t(tt(N,"Title")),name:_t(tt(N,"Identifier")),...fe&&{abstract:fe},...me&&{legendUrl:me}};return"true"===xr(N,"isDefault")&&(d=we.name),we}),v=Kn(u,"Format").map(_t),b=Kn(u,"ResourceURL").filter(N=>"tile"===xr(N,"resourceType")).map(N=>({format:xr(N,"format"),url:xr(N,"template"),encoding:"REST"}));a&&b.push(...v.map(N=>({encoding:"KVP",url:a,format:N})));const _=Kn(u,"TileMatrixSetLink").map(s),z=Kn(u,"Dimension").map(N=>({identifier:_t(tt(N,"Identifier")),defaultValue:_t(tt(N,"Default")),values:Kn(N,"Values").map(_t)}));return{name:_t(tt(u,"Identifier")),title:_t(tt(u,"Title")),abstract:_t(tt(u,"Abstract")),styles:p,resourceLinks:b,matrixSets:_,defaultStyle:d,...h&&{latLonBoundingBox:h},...z&&{dimensions:z}}})}function Kre(t,n,e){const r=yi(t);let s;if(e.startsWith("2.0"))s=Kn(r,"member").map(c=>Ml(c)[0]);else{const c=tt(r,"featureMembers");s=c?Ml(c):Kn(r,"featureMember").map(u=>Ml(u)[0])}const i="1.0.0"===e?"fid":"gml:id";function a(c,u){switch(n.properties[c]){case"integer":return parseInt(u);case"float":return parseFloat(u);case"boolean":return"true"===u;default:return u}}function l(c){return Ml(c).filter(u=>function o(c){return c in n.properties}(xl(Sl(u)))).reduce((u,h)=>{const d=xl(Sl(h));return{...u,[d]:a(d,_t(h))}},{})}return s.map(c=>({id:xr(c,i),properties:l(c)}))}function Jre(t){return t.reduce((n,e)=>{for(const r in e.properties){const s=e.properties[r];r in n||(n[r]={uniqueValues:[]});const i=n[r].uniqueValues.find(o=>o.value===s);i?i.count++:n[r].uniqueValues.push({value:s,count:1})}return n},{})}U0("parseWmsCapabilities",globalThis,({url:t})=>x5(t).then(n=>Q8(n,t)).then(n=>({info:Bre(n),layers:Tre(n),url:Ere(n),version:MT(n)}))),U0("parseWfsCapabilities",globalThis,({url:t})=>x5(t).then(n=>Q8(n,t)).then(n=>({info:Gre(n),featureTypes:Wre(n),url:Ore(n),version:M5(n)}))),U0("queryWfsFeatureTypeDetails",globalThis,({url:t,serviceVersion:n,featureTypeFull:e})=>x5(bre(t,n,e.name,void 0,void 0,Object.keys(e.properties))).then(s=>({props:Jre(Kre(s,e,n))}))),U0("updateFetchOptions",globalThis,({options:t})=>(function fre(t){eC=t}(t),Promise.resolve({}))),U0("parseWmtsCapabilities",globalThis,({url:t})=>x5(t).then(n=>Q8(n,t)).then(n=>({info:$re(n),layers:Yre(n),matrixSets:Xre(n)})));const rse=("2.7.0-dev".split("-"),["*"]);let _5=(()=>{class t{constructor(){this.btnClass="gn-ui-btn-default",this.disabled=!1,this.extraClass="",this.buttonClick=new ts}set type(e){switch(e){case"primary":this.btnClass="gn-ui-btn-primary";break;case"secondary":this.btnClass="gn-ui-btn-secondary";break;case"outline":this.btnClass="gn-ui-btn-outline";break;case"light":this.btnClass="gn-ui-btn-light";break;case"gray":this.btnClass="gn-ui-btn-gray";break;case"black":this.btnClass="gn-ui-btn-black";break;default:this.btnClass="gn-ui-btn-default"}}get classList(){return`${this.btnClass} ${this.extraClass}`}handleClick(e){this.buttonClick.emit(e),e.preventDefault(),e.currentTarget.blur(),function Pne(t){t.stopPropagation(),setTimeout(()=>{window.document.dispatchEvent(t)},0)}(e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=So({type:t,selectors:[["gn-ui-button"]],inputs:{type:"type",disabled:"disabled",extraClass:"extraClass"},outputs:{buttonClick:"buttonClick"},standalone:!0,features:[Nw],ngContentSelectors:rse,decls:2,vars:3,consts:[["type","button",3,"click","disabled"]],template:function(r,s){1&r&&(Hw(),Vt(0,"button",0),Ot("click",function(o){return s.handleClick(o)}),zw(1),Ht()),2&r&&(Xb(s.classList),It("disabled",s.disabled))},changeDetection:0})}}return t})();class sse extends Fe{constructor(n,e){super()}schedule(n,e=0){return this}}const H5={setInterval(t,n,...e){const{delegate:r}=H5;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=H5;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class $0{constructor(n,e=$0.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}$0.now=m8.now;const ase=new class ose extends $0{constructor(n,e=$0.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class ise extends sse{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const s=this.id,i=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(i,s,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,e),this}requestAsyncId(n,e,r=0){return H5.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&H5.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let s,r=!1;try{this.work(n)}catch(i){r=!0,s=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,He(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}});let RT=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(r){return new(r||t)(Zt(Ic),Zt(jo))}}static{this.\u0275dir=Zn({type:t})}}return t})(),cu=(()=>{class t extends RT{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ti(t)))(s||t)}})()}static{this.\u0275dir=Zn({type:t,features:[ns]})}}return t})();const _l=new Pt(""),use={provide:_l,useExisting:jr(()=>z5),multi:!0},dse=new Pt("");let z5=(()=>{class t extends RT{constructor(e,r,s){super(e,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hse(){const t=e0()?e0().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(r){return new(r||t)(Zt(Ic),Zt(jo),Zt(dse,8))}}static{this.\u0275dir=Zn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&Ot("input",function(o){return s._handleInput(o.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(o){return s._compositionEnd(o.target.value)})},features:[Es([use]),ns]})}}return t})();const no=new Pt(""),Xc=new Pt("");function jT(t){return null!=t}function UT(t){return _g(t)?J4(t):t}function $T(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function XT(t,n){return n.map(e=>e(t))}function YT(t){return t.map(n=>function fse(t){return!t.validate}(n)?n:e=>n.validate(e))}function pC(t){return null!=t?function KT(t){if(!t)return null;const n=t.filter(jT);return 0==n.length?null:function(e){return $T(XT(e,n))}}(YT(t)):null}function fC(t){return null!=t?function JT(t){if(!t)return null;const n=t.filter(jT);return 0==n.length?null:function(e){return YV(XT(e,n).map(UT)).pipe(ie($T))}}(YT(t)):null}function qT(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function gC(t){return t?Array.isArray(t)?t:[t]:[]}function E5(t,n){return Array.isArray(t)?t.includes(n):t===n}function tL(t,n){const e=gC(n);return gC(t).forEach(s=>{E5(e,s)||e.push(s)}),e}function nL(t,n){return gC(n).filter(e=>!E5(t,e))}class rL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=pC(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=fC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Ao extends rL{get formDirective(){return null}get path(){return null}}class Yc extends rL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sL{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let iL=(()=>{class t extends sL{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||t)(Zt(Yc,2))}}static{this.\u0275dir=Zn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&ug("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[ns]})}}return t})();const X0="VALID",L5="INVALID",o2="PENDING",Y0="DISABLED";class a2{}class aL extends a2{constructor(n,e){super(),this.value=n,this.source=e}}class wC extends a2{constructor(n,e){super(),this.pristine=n,this.source=e}}class CC extends a2{constructor(n,e){super(),this.touched=n,this.source=e}}class R5 extends a2{constructor(n,e){super(),this.status=n,this.source=e}}function D5(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class AC{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Qd(()=>this.statusReactive()),this.statusReactive=uh(void 0),this._pristine=Qd(()=>this.pristineReactive()),this.pristineReactive=uh(!0),this._touched=Qd(()=>this.touchedReactive()),this.touchedReactive=uh(!1),this._events=new qr,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return wl(this.statusReactive)}set status(n){wl(()=>this.statusReactive.set(n))}get valid(){return this.status===X0}get invalid(){return this.status===L5}get pending(){return this.status==o2}get disabled(){return this.status===Y0}get enabled(){return this.status!==Y0}get pristine(){return wl(this.pristineReactive)}set pristine(n){wl(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return wl(this.touchedReactive)}set touched(n){wl(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(tL(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(tL(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(nL(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(nL(n,this._rawAsyncValidators))}hasValidator(n){return E5(this._rawValidators,n)}hasAsyncValidator(n){return E5(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){const e=!1===this.touched;this.touched=!0;const r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched({...n,sourceControl:r}),e&&!1!==n.emitEvent&&this._events.next(new CC(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=n.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&!1!==n.emitEvent&&this._events.next(new CC(!1,r))}markAsDirty(n={}){const e=!0===this.pristine;this.pristine=!1;const r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty({...n,sourceControl:r}),e&&!1!==n.emitEvent&&this._events.next(new wC(!1,r))}markAsPristine(n={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=n.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&!1!==n.emitEvent&&this._events.next(new wC(!0,r))}markAsPending(n={}){this.status=o2;const e=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new R5(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending({...n,sourceControl:e})}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Y0,this.errors=null,this._forEachChild(s=>{s.disable({...n,onlySelf:!0})}),this._updateValue();const r=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new aL(this.value,r)),this._events.next(new R5(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e},this),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=X0,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===X0||this.status===o2)&&this._runAsyncValidator(r,n.emitEvent)}const e=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new aL(this.value,e)),this._events.next(new R5(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity({...n,sourceControl:e})}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Y0:X0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=o2,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const r=UT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,s)=>r&&r._find(s),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new R5(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new ts,this.statusChanges=new ts}_calculateStatus(){return this._allControlsDisabled()?Y0:this.errors?L5:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(o2)?o2:this._anyControlsHaveStatus(L5)?L5:X0}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){const r=!this._anyControlsDirty(),s=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),s&&this._events.next(new wC(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new CC(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){D5(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function Ase(t){return Array.isArray(t)?pC(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function bse(t){return Array.isArray(t)?fC(t):t||null}(this._rawAsyncValidators)}}const l2=new Pt("CallSetDisabledState",{providedIn:"root",factory:()=>B5}),B5="always";function K0(t,n,e=B5){(function xC(t,n){const e=function QT(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(qT(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=function eL(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(qT(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const s=()=>t.updateValueAndValidity();P5(n._rawValidators,s),P5(n._rawAsyncValidators,s)})(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function Mse(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&uL(t,n)})}(t,n),function Hse(t,n){const e=(r,s)=>{n.valueAccessor.writeValue(r),s&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function _se(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&uL(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function Sse(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function P5(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function uL(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function pL(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function fL(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}Promise.resolve();const gL=class extends AC{constructor(n=null,e,r){super(function yC(t){return(D5(t)?t.validators:t)||null}(e),function IC(t,n){return(D5(n)?n.asyncValidators:t)||null}(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),D5(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=fL(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){pL(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){pL(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){fL(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Bse={provide:Yc,useExisting:jr(()=>zC)},wL=Promise.resolve();let zC=(()=>{class t extends Yc{constructor(e,r,s,i,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new gL,this._registered=!1,this.name="",this.update=new ts,this._parent=e,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function _C(t,n){if(!n)return null;let e,r,s;return Array.isArray(n),n.forEach(i=>{i.constructor===z5?e=i:function Ese(t){return Object.getPrototypeOf(t.constructor)===cu}(i)?r=i:s=i}),s||r||e||null}(0,i)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function MC(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){K0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){wL.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,s=0!==r&&function o6(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);wL.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function N5(t,n){return[...n.path,t]}(e,this._parent):[e]}static{this.\u0275fac=function(r){return new(r||t)(Zt(Ao,9),Zt(no,10),Zt(Xc,10),Zt(_l,10),Zt(qw,8),Zt(l2,8))}}static{this.\u0275dir=Zn({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Es([Bse]),ns,el]})}}return t})();const Fse={provide:_l,useExisting:jr(()=>VC),multi:!0};let VC=(()=>{class t extends cu{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ti(t)))(s||t)}})()}static{this.\u0275dir=Zn({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){1&r&&Ot("input",function(o){return s.onChange(o.target.value)})("blur",function(){return s.onTouched()})},features:[Es([Fse]),ns]})}}return t})();const $se={provide:_l,useExisting:jr(()=>O5),multi:!0};function SL(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let O5=(()=>{class t extends cu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const s=SL(this._getOptionId(e),e);this.setProperty("value",s)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function Xse(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ti(t)))(s||t)}})()}static{this.\u0275dir=Zn({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){1&r&&Ot("change",function(o){return s.onChange(o.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Es([$se]),ns]})}}return t})(),ML=(()=>{class t{constructor(e,r,s){this._element=e,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(SL(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(Zt(jo),Zt(Ic),Zt(O5,9))}}static{this.\u0275dir=Zn({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();const Yse={provide:_l,useExisting:jr(()=>RC),multi:!0};function _L(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let RC=(()=>{class t extends cu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const s=e.map(i=>this._getOptionId(i));r=(i,o)=>{i._setSelected(s.indexOf(o.toString())>-1)}}else r=(s,i)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const s=[],i=r.selectedOptions;if(void 0!==i){const o=i;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);s.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);s.push(c)}}}this.value=s,e(s)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function Kse(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ti(t)))(s||t)}})()}static{this.\u0275dir=Zn({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){1&r&&Ot("change",function(o){return s.onChange(o.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Es([Yse]),ns]})}}return t})(),HL=(()=>{class t{constructor(e,r,s){this._element=e,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(_L(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(_L(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(Zt(jo),Zt(Ic),Zt(RC,9))}}static{this.\u0275dir=Zn({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),iie=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Va({type:t})}static{this.\u0275inj=ia({})}}return t})(),aie=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:l2,useValue:e.callSetDisabledState??B5}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Va({type:t})}static{this.\u0275inj=ia({imports:[iie]})}}return t})();function lie(t,n){if(1&t){const e=vr();Vt(0,"input",10),Ot("ngModelChange",function(s){return ot(e),at(At(2).fieldValueChange.next(s))}),Ht()}if(2&t){const e=At(2);It("readonly",e.readonly)("ngModel",e.fieldValue)}}function cie(t,n){if(1&t){const e=vr();Vt(0,"input",10),Ot("ngModelChange",function(s){ot(e);const i=At(2);return at(i.fieldValueChange.next(i.toURL(s)))}),Ht()}if(2&t){const e=At(2);It("readonly",e.readonly)("ngModel",e.fieldValue.toString())}}function uie(t,n){if(1&t){const e=vr();Vt(0,"textarea",11),Ot("ngModelChange",function(s){return ot(e),at(At(2).fieldValueChange.next(s))}),Ht()}if(2&t){const e=At(2);It("readonly",e.readonly)("ngModel",e.fieldValue)}}function hie(t,n){if(1&t){const e=vr();Vt(0,"input",12),Ot("ngModelChange",function(s){ot(e);const i=At(2);return at(i.fieldValueChange.next(i.toDate(s)))}),Ht()}if(2&t){const e=At(2);It("readonly",e.readonly)("ngModel",null==e.fieldValue?null:e.fieldValue.toISOString().substring(0,16))}}function die(t,n){if(1&t&&(Vt(0,"option",15),fo(1),Ht()),2&t){const e=n.$implicit;It("selected",e===At(3).fieldValue)("ngValue",e),kt(),Mc(" ",e," ")}}function pie(t,n){if(1&t){const e=vr();Vt(0,"select",13),Ot("ngModelChange",function(s){return ot(e),at(At(2).fieldValueChange.next(s))}),fi(1,die,2,3,"option",14),Ht()}if(2&t){const e=At(2);It("ngModel",e.fieldValue),kt(),It("ngForOf",e.options)}}function fie(t,n){if(1&t){const e=vr();Vt(0,"input",16),Ot("ngModelChange",function(s){ot(e);const i=At(2);return at(i.fieldValueChange.next(i.toNumber(s)))}),Ht()}if(2&t){const e=At(2);It("readonly",e.readonly)("ngModel",e.fieldValue)}}function gie(t,n){if(1&t&&(Vt(0,"div",2)(1,"label",3)(2,"span",4),fo(3),Ht(),fi(4,lie,1,2,"input",5)(5,cie,1,2,"input",5)(6,uie,1,2,"textarea",6)(7,hie,1,2,"input",7)(8,pie,2,2,"select",8)(9,fie,1,2,"input",9),Ht()()),2&t){const e=At();kt(3),Tw(e.label),kt(),It("ngIf",e.isSimpleText),kt(),It("ngIf",e.isURL),kt(),It("ngIf",e.isRichText),kt(),It("ngIf",e.isDate),kt(),It("ngIf",e.hasOptions),kt(),It("ngIf",e.isNumber)}}function vie(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-button",17),Ot("buttonClick",function(){return ot(e),at(At().addValue())}),Vt(1,"span")(2,"span",18),fo(3,"Add value for"),Ht(),fo(4),Ht()()}if(2&t){const e=At();It("type","outline"),kt(4),Mc(" ",e.label,"")}}let mie=(()=>{class t{constructor(){this.fieldValueChange=new ts,this.readonly=!1,this.type="text",this.confirm=this.fieldValueChange.pipe(function lse(t,n=ase){return Gs((e,r)=>{let s=null,i=null,o=null;const a=()=>{if(s){s.unsubscribe(),s=null;const c=i;i=null,r.next(c)}};function l(){const c=o+t,u=n.now();if(u<c)return s=this.schedule(void 0,c-u),void r.add(s);a()}e.subscribe(R(r,c=>{i=c,o=n.now(),s||(s=n.schedule(l,t),r.add(s))},()=>{a(),r.complete()},void 0,()=>{i=s=null}))})}(300),ie(()=>{}))}get hasOptions(){return Array.isArray(this.options)}get isMissing(){return void 0===this.fieldValue&&!this.hasOptions}get isSimpleText(){return!this.hasOptions&&!this.isMissing&&"text"===this.type}get isRichText(){return!this.hasOptions&&!this.isMissing&&"rich"===this.type}get isURL(){return!this.hasOptions&&!this.isMissing&&"url"===this.type}get isDate(){return!this.hasOptions&&!this.isMissing&&"date"===this.type}get isNumber(){return!this.hasOptions&&!this.isMissing&&"number"===this.type}toDate(e){return new Date(e)}toURL(e){return new URL(e,window.location.toString())}toNumber(e){return parseFloat(e)||0}addValue(){switch(this.type){case"url":this.fieldValue=new URL("",window.location.toString());break;case"date":this.fieldValue=new Date;break;default:this.fieldValue=""}this.fieldValueChange.emit(this.fieldValue)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=So({type:t,selectors:[["gn-ui-record-field-simple"]],inputs:{label:"label",fieldValue:"fieldValue",readonly:"readonly",type:"type",options:"options"},outputs:{fieldValueChange:"fieldValueChange",confirm:"confirm"},decls:2,vars:2,consts:[["class","border border-gray-400 rounded-sm m-2 shadow-sm bg-white",4,"ngIf"],["extraClass","m-2 py-[0.5em] px-[1em]",3,"type","buttonClick",4,"ngIf"],[1,"border","border-gray-400","rounded-sm","m-2","shadow-sm","bg-white"],[1,"block","leading-tight","text-right","relative"],[1,"absolute","top-[0.25em]","right-[0.5em]","text-[0.9em]","text-gray-700","uppercase","pointer-events-none"],["type","text",3,"readonly","ngModel","ngModelChange",4,"ngIf"],["rows","4",3,"readonly","ngModel","ngModelChange",4,"ngIf"],["type","datetime-local",3,"readonly","ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["type","number",3,"readonly","ngModel","ngModelChange",4,"ngIf"],["type","text",3,"ngModelChange","readonly","ngModel"],["rows","4",3,"ngModelChange","readonly","ngModel"],["type","datetime-local",3,"ngModelChange","readonly","ngModel"],[3,"ngModelChange","ngModel"],[3,"selected","ngValue",4,"ngFor","ngForOf"],[3,"selected","ngValue"],["type","number",3,"ngModelChange","readonly","ngModel"],["extraClass","m-2 py-[0.5em] px-[1em]",3,"buttonClick","type"],[1,"opacity-70"]],template:function(r,s){1&r&&fi(0,gie,10,7,"div",0)(1,vie,5,2,"gn-ui-button",1),2&r&&(It("ngIf",!s.isMissing),kt(),It("ngIf",s.isMissing))},dependencies:[qg,n0,ML,HL,z5,VC,O5,iL,zC,_5],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1.3em .5em .3em}input[readonly][_ngcontent-%COMP%]{background-color:var(--color-gray-50);color:var(--color-gray-700)}"],changeDetection:0})}}return t})();const wie=["*"];let BC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=So({type:t,selectors:[["gn-ui-record-field-group"]],inputs:{label:"label"},ngContentSelectors:wie,decls:4,vars:1,consts:[[1,"outer","p-[0.25em]","m-2"],[1,"p-[0.5em]","pb-0","uppercase","font-medium","text-gray-900","text-center"]],template:function(r,s){1&r&&(Hw(),Vt(0,"div",0)(1,"div",1),fo(2),Ht(),zw(3),Ht()),2&r&&(kt(2),Mc(" ",s.label," "))},styles:['.outer[_ngcontent-%COMP%]{position:relative;background:#ebebeb7f}.outer[_ngcontent-%COMP%]:before{position:absolute;top:0;bottom:0;left:0;width:10px;border-radius:.125rem;border-width:1px;border-right-width:0px;border-color:var(--color-gray-400);content:""}.outer[_ngcontent-%COMP%]:after{position:absolute;top:0;bottom:0;right:0;width:10px;border-radius:.125rem;border-width:1px;border-left-width:0px;border-color:var(--color-gray-400);content:""}'],changeDetection:0})}}return t})();function Cie(t){return null==t?"":/^\d+$/.test(t)?`${t}px`:t}new Pt("Ng Glyph Config"),new Pt("NgGlyphsToken");const GL=new Pt("Ng Icon Pre Processor"),WL=new Pt("Ng Icon Post Processor"),ZL=new Pt("Ng Icon Logger");class xie{log(n){console.log(n)}warn(n){console.warn(n)}error(n){console.error(n)}}const jL=new Pt("Ng Icon Config");function _ie(t,...n){return[{provide:jL,useValue:t},n.map(e=>e.\u0275providers)]}const UL=new Pt("Ng Icon Loader Token"),$L=new Pt("Ng Icon Cache Token");function Tie(t){return[{provide:G5,useFactory:(n=ke(G5,{optional:!0,skipSelf:!0}))=>({...n?.reduce((e,r)=>({...e,...r}),{}),...t}),multi:!0}]}const G5=new Pt("Icons Token");let NC=(()=>{class t{constructor(){this.config=function Hie(){return ke(jL,{optional:!0})??{}}(),this.icons=function Lie(){return ke(G5,{optional:!0})??[]}(),this.loader=function Vie(){return ke(UL,{optional:!0})}(),this.cache=function Eie(){return ke($L,{optional:!0})}(),this.preProcessor=function yie(){return ke(GL,{optional:!0})??(t=>t)}(),this.postProcessor=function Iie(){return ke(WL,{optional:!0})??(()=>{})}(),this.injector=ke(Fn),this.renderer=ke(Ic),this.platform=ke(al),this.elementRef=ke(jo),this.logger=function Mie(){return ke(ZL,{optional:!0})??new xie}(),this.name=ju(),this.svg=ju(),this.size=ju(this.config.size,{transform:Cie}),this.strokeWidth=ju(this.config.strokeWidth),this.color=ju(this.config.color),TM(()=>this.updateIcon())}ngOnDestroy(){this.svgElement=void 0}updateIcon(){var e=this;return(0,Yo.A)(function*(){const r=e.name(),s=e.svg();if(void 0!==s)return void e.setSvg(s);if(void 0===r)return;const i=function Die(t){return t.replace(/([^a-zA-Z0-9])+(.)?/g,(n,e,r)=>r?r.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,n=>n.toLowerCase())}(r);for(const o of[...e.icons].reverse())if(o[i])return void e.setSvg(o[i]);if(e.loader){const o=yield e.requestIconFromLoader(r);if(null!==o)return void e.setSvg(o)}e.logger.warn(`No icon named ${r} was found. You may need to import it using the withIcons function.`)})()}setSvg(e){if(A6(this.platform))return this.elementRef.nativeElement.innerHTML=e,void this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===e)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),""===e))return;const r=this.renderer.createElement("template");this.renderer.setProperty(r,"innerHTML",this.preProcessor(e)),this.svgElement=r.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}requestIconFromLoader(e){var r=this;return new Promise(s=>{u3(this.injector,(0,Yo.A)(function*(){if(r.cache){const a=r.cache.get(e);if("string"==typeof a)return void s(a);if(a instanceof Promise){const l=yield a;return void s(l)}}const i=function Rie(t){return"string"==typeof t?Promise.resolve(t):F0(t)?t.toPromise():t}(r.loader(e));r.cache?.set(e,i);const o=yield i;r.cache?.set(e,o),s(o)}))})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=So({type:t,selectors:[["ng-icon"]],hostVars:6,hostBindings:function(r,s){2&r&&yw("--ng-icon__stroke-width",s.strokeWidth())("--ng-icon__size",s.size())("--ng-icon__color",s.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},standalone:!0,features:[Nw],decls:0,vars:0,template:function(r,s){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0})}}return t})(),Bie=(()=>{class t{constructor(e){if(0===Object.keys(e).length)throw new Error("No icons have been provided. Ensure to include some icons by importing them using NgIconsModule.withIcons({ ... }).")}static withIcons(e){return{ngModule:t,providers:Tie(e)}}static{this.\u0275fac=function(r){return new(r||t)(Ye(G5))}}static{this.\u0275mod=Va({type:t})}static{this.\u0275inj=ia({})}}return t})();const Nie=(t,n)=>({getValue:t,setValue:n});function Fie(t,n){if(1&t){const e=vr();Vt(0,"div",5),gg(1,6),Vt(2,"gn-ui-button",7),Ot("buttonClick",function(){const s=ot(e).index;return at(At().removeItem(s))}),Vh(3,"ng-icon",8),Ht()()}if(2&t){const e=n.index,r=At();kt(),It("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Fw(3,Nie,r.valueGetterByIndex(e),r.valueSetterByIndex(e))),kt(),It("type","outline")}}let Pie=(()=>{class t{constructor(){this.fieldValueChange=new ts,this.confirm=new ts}addItem(){this.fieldValue=[...this.fieldValue,this.defaultItem],this.fieldValueChange.emit(this.fieldValue),this.confirm.emit()}removeItem(e){this.fieldValue=this.fieldValue.filter((r,s)=>s!==e),this.fieldValueChange.emit(this.fieldValue),this.confirm.emit()}valueGetterByIndex(e){return()=>this.fieldValue[e]}valueSetterByIndex(e){return(r,s,i)=>{this.fieldValue[e]=s&&i?{...this.fieldValue[e],[s]:{...this.fieldValue[e][s],[i]:r}}:s?{...this.fieldValue[e],[s]:r}:r}}trackBy(e){return e}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=So({type:t,selectors:[["gn-ui-record-field-array"]],inputs:{label:"label",fieldValue:"fieldValue",itemTemplate:"itemTemplate",defaultItem:"defaultItem"},outputs:{fieldValueChange:"fieldValueChange",confirm:"confirm"},decls:6,vars:4,consts:[[3,"label"],[1,"text-[0.9em]"],["class","relative pr-[2.8em]",4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-2"],["extraClass","py-[0.5em] px-[1em]",3,"buttonClick","type"],[1,"relative","pr-[2.8em]"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["extraClass","!p-[0.5em]","title","Delete this item",1,"absolute","top-0","right-1",3,"buttonClick","type"],["name","matDeleteForeverSharp"]],template:function(r,s){1&r&&(Vt(0,"gn-ui-record-field-group",0)(1,"div",1),fi(2,Fie,4,6,"div",2),Vt(3,"div",3)(4,"gn-ui-button",4),Ot("buttonClick",function(){return s.addItem()}),fo(5," Add new item... "),Ht()()()()),2&r&&(It("label",s.label),kt(2),It("ngForOf",s.fieldValue)("ngForTrackBy",s.trackBy),kt(2),It("type","primary"))},dependencies:[qg,C6,NC,_5,BC],styles:['.outer[_ngcontent-%COMP%]{position:relative;background:#ebebeb7f}.outer[_ngcontent-%COMP%]:before{position:absolute;top:0;bottom:0;left:0;width:10px;border-radius:.125rem;border-width:1px;border-right-width:0px;border-color:var(--color-gray-400);content:""}'],changeDetection:0})}}return t})();const kie=(t,n)=>({getValue:t,setValue:n});function Oie(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-button",7),Ot("buttonClick",function(){return ot(e),at(At(2).deleteObject())}),Vh(1,"ng-icon",8),Ht()}2&t&&It("type","outline")}function Gie(t,n){if(1&t&&(Vt(0,"div",4),gg(1,5),fi(2,Oie,2,1,"gn-ui-button",6),Ht()),2&t){const e=At();kt(),It("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",Fw(3,kie,e.valueGetter(),e.valueSetter())),kt(),It("ngIf",e.optional)}}function Wie(t,n){if(1&t){const e=vr();Vt(0,"div",9)(1,"gn-ui-button",10),Ot("buttonClick",function(){return ot(e),at(At().createObject())}),fo(2," Create... "),Ht()()}2&t&&(kt(),It("type","primary"))}let Zie=(()=>{class t{constructor(){this.fieldValueChange=new ts,this.confirm=new ts}createObject(){this.fieldValue={},this.fieldValueChange.emit(this.fieldValue),this.confirm.emit()}deleteObject(){this.fieldValue=void 0,this.fieldValueChange.emit(this.fieldValue),this.confirm.emit()}valueGetter(){return()=>this.fieldValue}valueSetter(){return(e,r)=>{r?this.fieldValue[r]=e:this.fieldValue=e}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=So({type:t,selectors:[["gn-ui-record-field-object"]],inputs:{label:"label",fieldValue:"fieldValue",itemTemplate:"itemTemplate",defaultItem:"defaultItem",optional:"optional"},outputs:{fieldValueChange:"fieldValueChange",confirm:"confirm"},decls:4,vars:3,consts:[[3,"label"],[1,"text-[0.9em]"],["class","relative pr-[2.8em]",4,"ngIf"],["class","p-2",4,"ngIf"],[1,"relative","pr-[2.8em]"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","absolute top-0 right-1","extraClass","!p-[0.5em]","title","Delete this item",3,"type","buttonClick",4,"ngIf"],["extraClass","!p-[0.5em]","title","Delete this item",1,"absolute","top-0","right-1",3,"buttonClick","type"],["name","matDeleteForeverSharp"],[1,"p-2"],["extraClass","py-[0.5em] px-[1em]",3,"buttonClick","type"]],template:function(r,s){1&r&&(Vt(0,"gn-ui-record-field-group",0)(1,"div",1),fi(2,Gie,3,6,"div",2)(3,Wie,3,1,"div",3),Ht()()),2&r&&(It("label",s.label),kt(2),It("ngIf",s.fieldValue),kt(),It("ngIf",!s.fieldValue))},dependencies:[n0,C6,NC,_5,BC],styles:['.outer[_ngcontent-%COMP%]{position:relative;background:#ebebeb7f}.outer[_ngcontent-%COMP%]:before{position:absolute;top:0;bottom:0;left:0;width:10px;border-radius:.125rem;border-width:1px;border-right-width:0px;border-color:var(--color-gray-400);content:""}.outer[_ngcontent-%COMP%]:after{position:absolute;top:0;bottom:0;right:0;width:10px;border-radius:.125rem;border-width:1px;border-left-width:0px;border-color:var(--color-gray-400);content:""}'],changeDetection:0})}}return t})();const jie=()=>["dataset","service"],XL=()=>({name:"org"}),YL=t=>({firstName:"first",lastName:"last",email:"email@domain.com",organization:t,role:"unspecified"}),Uie=()=>({label:"change me!",type:"other"}),W5=()=>({text:"change me!"}),$ie=()=>["other","theme","place","temporal"],Xie=()=>["grid","vector","tin","table","point"],Yie=()=>["service","download","link"],Kie=()=>({url:"",accessServiceProtocol:"OGC:WMS"}),Jie=()=>["endpoint","link"];function qie(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-button",29),Ot("buttonClick",function(){return ot(e),at(At().addOwnerOrg())}),Vt(1,"span",30),fo(2,"Add a owner organization to this record"),Ht()()}2&t&&It("type","outline")}function Qie(t,n){if(1&t){const e=vr();pg(0),Vt(1,"gn-ui-record-field-simple",31),os("fieldValueChange",function(s){ot(e);const i=At();return fs(i.record.ownerOrganization.name,s)||(i.record.ownerOrganization.name=s),at(s)}),Ot("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht(),Vt(2,"gn-ui-record-field-simple",32),os("fieldValueChange",function(s){ot(e);const i=At();return fs(i.record.ownerOrganization.description,s)||(i.record.ownerOrganization.description=s),at(s)}),Ot("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht(),Vt(3,"gn-ui-record-field-simple",33),os("fieldValueChange",function(s){ot(e);const i=At();return fs(i.record.ownerOrganization.website,s)||(i.record.ownerOrganization.website=s),at(s)}),Ot("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht(),Vt(4,"gn-ui-record-field-simple",34),os("fieldValueChange",function(s){ot(e);const i=At();return fs(i.record.ownerOrganization.logoUrl,s)||(i.record.ownerOrganization.logoUrl=s),at(s)}),Ot("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht(),fg()}if(2&t){const e=At();kt(),is("fieldValue",e.record.ownerOrganization.name),kt(),is("fieldValue",e.record.ownerOrganization.description),kt(),is("fieldValue",e.record.ownerOrganization.website),It("type","url"),kt(),is("fieldValue",e.record.ownerOrganization.logoUrl),It("type","url")}}function eoe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-group",42)(1,"gn-ui-record-field-simple",31),Ot("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"organization","name"))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),Ht(),Vt(2,"gn-ui-record-field-simple",32),Ot("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"organization","description"))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),Ht(),Vt(3,"gn-ui-record-field-simple",33),Ot("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"organization","website"))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),Ht(),Vt(4,"gn-ui-record-field-simple",34),Ot("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"organization","logoUrl"))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),Ht()()}if(2&t){const e=At().getValue;kt(),It("fieldValue",e().organization.name),kt(),It("fieldValue",e().organization.description),kt(),It("fieldValue",e().organization.website)("type","url"),kt(),It("fieldValue",e().organization.logoUrl)("type","url")}}function toe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-group",35)(1,"gn-ui-record-field-simple",36),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"firstName"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht(),Vt(2,"gn-ui-record-field-simple",37),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"lastName"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht(),Vt(3,"gn-ui-record-field-simple",38),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"email"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht(),Vt(4,"gn-ui-record-field-simple",39),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"role"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht(),Vt(5,"gn-ui-record-field-simple",40),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"position"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht(),fi(6,eoe,5,6,"gn-ui-record-field-group",41),Ht()}if(2&t){const e=n.getValue,r=At();kt(),It("fieldValue",e().firstName),kt(),It("fieldValue",e().lastName),kt(),It("fieldValue",e().email),kt(),It("fieldValue",e().role)("options",r.roleOptions),kt(),It("fieldValue",e().position),kt(),It("ngIf",e().organization)}}function noe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-simple",43),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht()}2&t&&It("fieldValue",(0,n.getValue)())}function roe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-group")(1,"gn-ui-record-field-simple",44),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"label"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht(),Vt(2,"gn-ui-record-field-simple",45),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"type"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht(),Vt(3,"gn-ui-record-field-object",46),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"thesaurus"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht()()}if(2&t){const e=n.getValue;At();const r=Sc(35);kt(),It("fieldValue",e().label)("type","text"),kt(),It("options",To(7,$ie))("fieldValue",e().type),kt(),It("optional",!0)("itemTemplate",r)("fieldValue",e().thesaurus)}}function soe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-simple",47),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"id"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht(),Vt(1,"gn-ui-record-field-simple",48),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"name"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht(),Vt(2,"gn-ui-record-field-simple",49),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"url"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht()}if(2&t){const e=n.getValue;It("fieldValue",e().id)("type","text"),kt(),It("fieldValue",e().name)("type","text"),kt(),It("fieldValue",e().url)("type","url")}}function ioe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-group")(1,"gn-ui-record-field-simple",50),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"text"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht(),Vt(2,"gn-ui-record-field-simple",49),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"url"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht()()}if(2&t){const e=n.getValue;kt(),It("fieldValue",e().text)("type","rich"),kt(),It("fieldValue",e().url)("type","url")}}function ooe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-simple",65),Ot("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"url"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),Ht()}if(2&t){const e=At().getValue;It("type","url")("fieldValue",e().url)}}function aoe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-simple",66),Ot("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"accessServiceProtocol"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),Ht()}2&t&&It("fieldValue",(0,At().getValue)().accessServiceProtocol)}function loe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-simple",67),Ot("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"identifierInService"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),Ht()}2&t&&It("fieldValue",(0,At().getValue)().identifierInService)}function coe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-simple",68),Ot("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"url"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),Ht()}if(2&t){const e=At().getValue;It("type","url")("fieldValue",e().url)}}function uoe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-simple",69),Ot("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"mimeType"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),Ht()}2&t&&It("fieldValue",(0,At().getValue)().mimeType)}function hoe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-simple",70),Ot("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"sizeBytes"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),Ht()}if(2&t){const e=At().getValue;It("type","number")("fieldValue",e().sizeBytes)}}function doe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-simple",71),Ot("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"url"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),Ht()}if(2&t){const e=At().getValue;It("type","url")("fieldValue",e().url)}}function poe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-group",56)(1,"gn-ui-record-field-simple",45),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(At(2).getOnlineResourceForType(s)))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),Ht(),fi(2,ooe,1,2,"gn-ui-record-field-simple",57)(3,aoe,1,1,"gn-ui-record-field-simple",58)(4,loe,1,1,"gn-ui-record-field-simple",59)(5,coe,1,2,"gn-ui-record-field-simple",60)(6,uoe,1,1,"gn-ui-record-field-simple",61)(7,hoe,1,2,"gn-ui-record-field-simple",62)(8,doe,1,2,"gn-ui-record-field-simple",63),Vt(9,"gn-ui-record-field-simple",31),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"name"))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),Ht(),Vt(10,"gn-ui-record-field-simple",64),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"description"))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),Ht()()}if(2&t){const e=n.getValue;kt(),It("options",To(12,Yie))("fieldValue",e().type),kt(),It("ngIf","service"===e().type),kt(),It("ngIf","service"===e().type),kt(),It("ngIf","service"===e().type),kt(),It("ngIf","download"===e().type),kt(),It("ngIf","download"===e().type),kt(),It("ngIf","download"===e().type),kt(),It("ngIf","link"===e().type),kt(),It("fieldValue",e().name),kt(),It("type","rich")("fieldValue",e().description)}}function foe(t,n){if(1&t){const e=vr();Vt(0,"div")(1,"p",51),fo(2," Dataset record specific fields "),Ht(),Vt(3,"p")(4,"gn-ui-record-field-simple",52),os("fieldValueChange",function(s){ot(e);const i=At();return fs(i.record.status,s)||(i.record.status=s),at(s)}),Ot("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht()(),Vt(5,"p")(6,"gn-ui-record-field-simple",53),os("fieldValueChange",function(s){ot(e);const i=At();return fs(i.record.spatialRepresentation,s)||(i.record.spatialRepresentation=s),at(s)}),Ot("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht()(),Vt(7,"p")(8,"gn-ui-record-field-simple",54),os("fieldValueChange",function(s){ot(e);const i=At();return fs(i.record.lineage,s)||(i.record.lineage=s),at(s)}),Ot("confirm",function(){return ot(e),at(At().emitChangedRecord())}),Ht()(),Vt(9,"p")(10,"gn-ui-record-field-array",55),os("fieldValueChange",function(s){ot(e);const i=At();return fs(i.record.distributions,s)||(i.record.distributions=s),at(s)}),Ot("confirm",function(){return ot(e),at(At().emitChangedRecord())}),fi(11,poe,11,13,"ng-template",null,5,_c),Ht()()()}if(2&t){const e=Sc(12),r=At();kt(4),is("fieldValue",r.record.status),It("options",r.statusOptions),kt(2),is("fieldValue",r.record.spatialRepresentation),It("options",To(9,Xie)),kt(2),is("fieldValue",r.record.lineage),It("type","rich"),kt(2),is("fieldValue",r.record.distributions),It("itemTemplate",e)("defaultItem",r.getOnlineResourceForType("download"))}}function goe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-simple",77),Ot("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"url"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),Ht()}if(2&t){const e=At().getValue;It("type","url")("fieldValue",e().url)}}function voe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-simple",78),Ot("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"protocol"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),Ht()}2&t&&It("fieldValue",(0,At().getValue)().accessServiceProtocol)}function moe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-simple",31),Ot("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"name"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),Ht()}2&t&&It("fieldValue",(0,At().getValue)().name)}function woe(t,n){if(1&t){const e=vr();Vt(0,"gn-ui-record-field-group",73)(1,"gn-ui-record-field-simple",45),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(At(2).getOnlineResourceForType(s)))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),Ht(),fi(2,goe,1,2,"gn-ui-record-field-simple",74)(3,voe,1,1,"gn-ui-record-field-simple",75)(4,moe,1,1,"gn-ui-record-field-simple",76),Vt(5,"gn-ui-record-field-simple",64),Ot("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"description"))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),Ht()()}if(2&t){const e=n.getValue;kt(),It("options",To(7,Jie))("fieldValue",e().type),kt(),It("ngIf","endpoint"===e().type),kt(),It("ngIf","endpoint"===e().type),kt(),It("ngIf","link"===e().type),kt(),It("type","rich")("fieldValue",e().description)}}function Coe(t,n){if(1&t){const e=vr();Vt(0,"div")(1,"p",51),fo(2," Service record specific fields "),Ht(),Vt(3,"p")(4,"gn-ui-record-field-array",72),os("fieldValueChange",function(s){ot(e);const i=At();return fs(i.record.onlineResources,s)||(i.record.onlineResources=s),at(s)}),Ot("confirm",function(){return ot(e),at(At().emitChangedRecord())}),fi(5,woe,6,8,"ng-template",null,6,_c),Ht()()()}if(2&t){const e=Sc(6),r=At();kt(4),is("fieldValue",r.record.onlineResources),It("itemTemplate",e)("defaultItem",To(3,Kie))}}let yoe=(()=>{class t{get isDatasetRecord(){return"dataset"===this.record.kind}get isServiceRecord(){return"service"===this.record.kind}constructor(){this.recordChanged=new ts,this.statusOptions=e$,this.roleOptions=qU,this.switchToRecordKind("dataset")}ngAfterViewInit(){setTimeout(()=>{this.recordChanged.emit(this.record)},100)}emitChangedRecord(){this.recordChanged.emit(this.record)}getOnlineResourceForType(e){switch(e){case"download":case"link":default:return{type:e,url:new URL("",window.location.toString())};case"service":case"endpoint":return{type:e,url:new URL("",window.location.toString()),accessServiceProtocol:"other"}}}switchToRecordKind(e){const r=!!this.record,s={uniqueIdentifier:r?this.record.uniqueIdentifier:"0000-0000-0000-0000",title:r?this.record.title:"My Record",abstract:r?this.record.abstract:"",recordUpdated:r?this.record.recordUpdated:new Date,ownerOrganization:r?this.record.ownerOrganization:{name:"My Organization"},contacts:r?this.record.contacts:[],contactsForResource:r?this.record.contactsForResource:[],licenses:r?[...this.record.licenses]:[],legalConstraints:r?[...this.record.legalConstraints]:[],securityConstraints:r?[...this.record.securityConstraints]:[],otherConstraints:r?[...this.record.otherConstraints]:[],keywords:r?this.record.keywords:[],topics:r?this.record.topics:[],onlineResources:[],otherLanguages:[],defaultLanguage:"en",overviews:[]};this.record="dataset"===e?{...s,kind:"dataset",status:"under_development",updateFrequency:"unknown",lineage:"",spatialExtents:[],temporalExtents:[]}:{...s,kind:"service",spatialExtents:[]},this.recordChanged.emit(this.record)}addOwnerOrg(){this.record={...this.record,ownerOrganization:{name:"My Organization"}},this.recordChanged.emit(this.record)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=So({type:t,selectors:[["gn-ui-record-form"]],inputs:{record:"record"},outputs:{recordChanged:"recordChanged"},decls:48,vars:58,consts:[["contactTpl",""],["topicTpl",""],["keywordTpl",""],["thesaurusTpl",""],["constraintTpl",""],["distributionTpl",""],["endpointTpl",""],["label","Unique identifier",3,"fieldValueChange","confirm","fieldValue"],["label","Title",3,"fieldValueChange","confirm","fieldValue"],["label","Abstract",3,"fieldValueChange","confirm","fieldValue","type"],["label","Kind",3,"fieldValueChange","options","fieldValue"],["label","Owner Organization"],["extraClass","m-2 py-[0.5em] px-[1em]",3,"type","buttonClick",4,"ngIf"],[4,"ngIf"],["label","Contacts",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Contacts for resource",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],[1,"grid","grid-cols-3"],["label","Record created on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Record updated on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Record published on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Resource created on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Resource updated on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Resource published on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Topics",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Keywords",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Licenses",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Legal constraints",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Security constraints",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Other constraints",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["extraClass","m-2 py-[0.5em] px-[1em]",3,"buttonClick","type"],[1,"opacity-70"],["label","Name",3,"fieldValueChange","confirm","fieldValue"],["label","Description",3,"fieldValueChange","confirm","fieldValue"],["label","Website",3,"fieldValueChange","confirm","fieldValue","type"],["label","Logo URL",3,"fieldValueChange","confirm","fieldValue","type"],["label","Contact"],["label","First Name",3,"fieldValueChange","confirm","fieldValue"],["label","Last Name",3,"fieldValueChange","confirm","fieldValue"],["label","Email",3,"fieldValueChange","confirm","fieldValue"],["label","Role",3,"fieldValueChange","confirm","fieldValue","options"],["label","Position",3,"fieldValueChange","confirm","fieldValue"],["label","Organisation",4,"ngIf"],["label","Organisation"],["label","Topic",3,"fieldValueChange","confirm","fieldValue"],["label","Label",3,"fieldValueChange","confirm","fieldValue","type"],["label","Type",3,"fieldValueChange","confirm","options","fieldValue"],["label","Thesaurus",3,"fieldValueChange","confirm","optional","itemTemplate","fieldValue"],["label","Identifier",3,"fieldValueChange","confirm","fieldValue","type"],["label","Name",3,"fieldValueChange","confirm","fieldValue","type"],["label","URL",3,"fieldValueChange","confirm","fieldValue","type"],["label","Text",3,"fieldValueChange","confirm","fieldValue","type"],[1,"text-xl","font-bold","font-title","mt-8","mb-0","m-2"],["label","Status",3,"fieldValueChange","confirm","fieldValue","options"],["label","Spatial Representation Type",3,"fieldValueChange","confirm","fieldValue","options"],["label","Lineage",3,"fieldValueChange","confirm","fieldValue","type"],["label","Distributions",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Distribution"],["label","Access Service URL",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Access Service Protocol",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Identifier In Service",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Download URL",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Mime Type",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Size In Bytes",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Link URL",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Description",3,"fieldValueChange","confirm","type","fieldValue"],["label","Access Service URL",3,"fieldValueChange","confirm","type","fieldValue"],["label","Access Service Protocol",3,"fieldValueChange","confirm","fieldValue"],["label","Identifier In Service",3,"fieldValueChange","confirm","fieldValue"],["label","Download URL",3,"fieldValueChange","confirm","type","fieldValue"],["label","Mime Type",3,"fieldValueChange","confirm","fieldValue"],["label","Size In Bytes",3,"fieldValueChange","confirm","type","fieldValue"],["label","Link URL",3,"fieldValueChange","confirm","type","fieldValue"],["label","Online Resources",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Online Resource"],["label","Endpoint URL",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Protocol",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Name",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Endpoint URL",3,"fieldValueChange","confirm","type","fieldValue"],["label","Protocol",3,"fieldValueChange","confirm","fieldValue"]],template:function(r,s){if(1&r){const i=vr();Vt(0,"p")(1,"gn-ui-record-field-simple",7),os("fieldValueChange",function(a){return ot(i),fs(s.record.uniqueIdentifier,a)||(s.record.uniqueIdentifier=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht()(),Vt(2,"p")(3,"gn-ui-record-field-simple",8),os("fieldValueChange",function(a){return ot(i),fs(s.record.title,a)||(s.record.title=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht()(),Vt(4,"p")(5,"gn-ui-record-field-simple",9),os("fieldValueChange",function(a){return ot(i),fs(s.record.abstract,a)||(s.record.abstract=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht()(),Vt(6,"p")(7,"gn-ui-record-field-simple",10),Ot("fieldValueChange",function(a){return ot(i),at(s.switchToRecordKind(a))}),Ht()(),Vt(8,"p")(9,"gn-ui-record-field-group",11),fi(10,qie,3,1,"gn-ui-button",12)(11,Qie,5,6,"ng-container",13),Ht()(),Vt(12,"p")(13,"gn-ui-record-field-array",14),os("fieldValueChange",function(a){return ot(i),fs(s.record.contacts,a)||(s.record.contacts=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht()(),Vt(14,"p")(15,"gn-ui-record-field-array",15),os("fieldValueChange",function(a){return ot(i),fs(s.record.contactsForResource,a)||(s.record.contactsForResource=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht()(),fi(16,toe,7,7,"ng-template",null,0,_c),Vt(18,"p",16)(19,"gn-ui-record-field-simple",17),os("fieldValueChange",function(a){return ot(i),fs(s.record.recordCreated,a)||(s.record.recordCreated=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht(),Vt(20,"gn-ui-record-field-simple",18),os("fieldValueChange",function(a){return ot(i),fs(s.record.recordUpdated,a)||(s.record.recordUpdated=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht(),Vt(21,"gn-ui-record-field-simple",19),os("fieldValueChange",function(a){return ot(i),fs(s.record.recordPublished,a)||(s.record.recordPublished=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht()(),Vt(22,"p",16)(23,"gn-ui-record-field-simple",20),os("fieldValueChange",function(a){return ot(i),fs(s.record.resourceCreated,a)||(s.record.resourceCreated=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht(),Vt(24,"gn-ui-record-field-simple",21),os("fieldValueChange",function(a){return ot(i),fs(s.record.resourceUpdated,a)||(s.record.resourceUpdated=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht(),Vt(25,"gn-ui-record-field-simple",22),os("fieldValueChange",function(a){return ot(i),fs(s.record.resourcePublished,a)||(s.record.resourcePublished=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht()(),Vt(26,"p")(27,"gn-ui-record-field-array",23),os("fieldValueChange",function(a){return ot(i),fs(s.record.topics,a)||(s.record.topics=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),fi(28,noe,1,1,"ng-template",null,1,_c),Ht()(),Vt(30,"p")(31,"gn-ui-record-field-array",24),os("fieldValueChange",function(a){return ot(i),fs(s.record.keywords,a)||(s.record.keywords=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht()(),fi(32,roe,4,8,"ng-template",null,2,_c)(34,soe,3,6,"ng-template",null,3,_c)(36,ioe,3,4,"ng-template",null,4,_c),Vt(38,"p")(39,"gn-ui-record-field-array",25),os("fieldValueChange",function(a){return ot(i),fs(s.record.licenses,a)||(s.record.licenses=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht()(),Vt(40,"p")(41,"gn-ui-record-field-array",26),os("fieldValueChange",function(a){return ot(i),fs(s.record.legalConstraints,a)||(s.record.legalConstraints=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht()(),Vt(42,"p")(43,"gn-ui-record-field-array",27),os("fieldValueChange",function(a){return ot(i),fs(s.record.securityConstraints,a)||(s.record.securityConstraints=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht()(),Vt(44,"p")(45,"gn-ui-record-field-array",28),os("fieldValueChange",function(a){return ot(i),fs(s.record.otherConstraints,a)||(s.record.otherConstraints=a),at(a)}),Ot("confirm",function(){return ot(i),at(s.emitChangedRecord())}),Ht()(),fi(46,foe,13,10,"div",13)(47,Coe,7,4,"div",13)}if(2&r){const i=Sc(17),o=Sc(29),a=Sc(33),l=Sc(37);kt(),is("fieldValue",s.record.uniqueIdentifier),kt(2),is("fieldValue",s.record.title),kt(2),is("fieldValue",s.record.abstract),It("type","rich"),kt(2),It("options",To(46,jie))("fieldValue",s.record.kind),kt(3),It("ngIf",!s.record.ownerOrganization),kt(),It("ngIf",s.record.ownerOrganization),kt(2),is("fieldValue",s.record.contacts),It("itemTemplate",i)("defaultItem",Ag(48,YL,To(47,XL))),kt(2),is("fieldValue",s.record.contactsForResource),It("itemTemplate",i)("defaultItem",Ag(51,YL,To(50,XL))),kt(4),is("fieldValue",s.record.recordCreated),It("type","date"),kt(),is("fieldValue",s.record.recordUpdated),It("type","date"),kt(),is("fieldValue",s.record.recordPublished),It("type","date"),kt(2),is("fieldValue",s.record.resourceCreated),It("type","date"),kt(),is("fieldValue",s.record.resourceUpdated),It("type","date"),kt(),is("fieldValue",s.record.resourcePublished),It("type","date"),kt(2),is("fieldValue",s.record.topics),It("itemTemplate",o)("defaultItem","change me!"),kt(4),is("fieldValue",s.record.keywords),It("itemTemplate",a)("defaultItem",To(53,Uie)),kt(8),is("fieldValue",s.record.licenses),It("itemTemplate",l)("defaultItem",To(54,W5)),kt(2),is("fieldValue",s.record.legalConstraints),It("itemTemplate",l)("defaultItem",To(55,W5)),kt(2),is("fieldValue",s.record.securityConstraints),It("itemTemplate",l)("defaultItem",To(56,W5)),kt(2),is("fieldValue",s.record.otherConstraints),It("itemTemplate",l)("defaultItem",To(57,W5)),kt(),It("ngIf",s.isDatasetRecord),kt(),It("ngIf",s.isServiceRecord)}},dependencies:[n0,_5,mie,BC,Pie,Zie],styles:["[_nghost-%COMP%]{font-size:14px}"]})}}return t})();const Ioe=["codeBlock"];let Aoe=(()=>{class t{set recordXml(e){const s=window.hljs.highlight(e,{language:"xml"}).value;this.codeBlockEl.nativeElement.innerHTML=s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=So({type:t,selectors:[["gn-ui-record-output-xml"]],viewQuery:function(r,s){if(1&r&&Gd(Ioe,5),2&r){let i;Wd(i=Zd())&&(s.codeBlockEl=i.first)}},inputs:{recordXml:"recordXml"},decls:2,vars:0,consts:[["codeBlock",""],[1,"text-[14px]","hljs","overflow-auto","min-h-[80vh]","whitespace-pre-wrap"]],template:function(r,s){1&r&&Vh(0,"pre",1,0)}})}}return t})();const boe=["status"],xoe=["output"],Soe=["form"],Moe=t=>({"font-bold":t});function _oe(t,n){1&t&&(Vt(0,"span"),fo(1,"(native)"),Ht())}function Hoe(t,n){if(1&t){const e=vr();Vt(0,"label",15)(1,"input",16),Ot("change",function(s){return ot(e),at(At().onFormatChange(s.target.value))}),Ht(),fo(2),fi(3,_oe,2,0,"span",17),Ht()}if(2&t){const e=n.$implicit,r=At();It("ngClass",Ag(5,Moe,e.key===r.originalFormat)),kt(),It("checked",e.key===r.currentFormat)("value",e.key),kt(),Mc(" ",e.key," "),kt(),It("ngIf",e.key===r.originalFormat)}}let zoe=(()=>{class t{constructor(){this.formats=c5}get originalFormat(){const e=this.statusComponent?.currentConverter;return cE(e)}onRecordChange(e){this.statusComponent.recordNative=e}onRecordOutputReceived(e){this.outputComponent.recordXml=e,this.currentFormat=this.originalFormat}onRecordNativeReceived(e){this.formComponent.record=e}onFileSelect(e){const r=e.target.files;if(0===r.length)return void console.warn("no file selected");const s=r[0],i=new FileReader;this.statusComponent.startReadingFile(),i.readAsText(s,"UTF-8"),i.onload=o=>{const a=o.target.result;this.statusComponent.referenceMetadata=a,this.statusComponent.currentMetadata=a},i.onerror=()=>this.statusComponent.errorReadingFile()}onFileUrlInput(e){!e||!e.startsWith("http://")&&!e.startsWith("https://")||(this.statusComponent.startLoadingFile(),fetch(e).then(r=>r.text()).then(r=>{this.statusComponent.referenceMetadata=r,this.statusComponent.currentMetadata=r}).catch(r=>this.statusComponent.errorLoadingFile(r.message)))}onFormatChange(e){this.statusComponent.changeFormat(e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=So({type:t,selectors:[["gn-ui-root"]],viewQuery:function(r,s){if(1&r&&(Gd(boe,5),Gd(xoe,5),Gd(Soe,5)),2&r){let i;Wd(i=Zd())&&(s.statusComponent=i.first),Wd(i=Zd())&&(s.outputComponent=i.first),Wd(i=Zd())&&(s.formComponent=i.first)}},decls:18,vars:3,consts:[["status",""],["form",""],["output",""],[1,"grid","grid-cols-3","grid-rows-auto","auto-rows-min","h-full"],[1,"col-span-3","flex","flex-row","items-start"],[1,"text-[50px]","font-bold","font-title","my-6","mx-10"],[1,"whitespace-nowrap"],[1,"font-main","font-normal","text-gray-900","text-[16px]",3,"newMetadata","newRecordNative"],[1,"grow","shrink-0","p-3","min-w-[50%]"],["type","file","accept",".xml, .rdf, application/xml, application/rdf+xml, .jsonld, application/ld+json, application/json, .ttl, text/turtle, .n3, text/n3, .nt, application/n-triples","placeholder","Upload a record from your computer",1,"mb-3","border","border-gray-500","rounded-sm","w-full","bg-white","p-2",3,"change"],["type","text","placeholder","...or enter a URL pointing to a metadata record",1,"mb-3","border","border-gray-500","rounded-sm","w-full","bg-white","p-2",3,"change"],[1,"w-full"],["class","mr-4",3,"ngClass",4,"ngFor","ngForOf"],[1,"overflow-auto",3,"recordChanged"],[1,"col-span-2"],[1,"mr-4",3,"ngClass"],["type","radio","name","format",3,"change","checked","value"],[4,"ngIf"]],template:function(r,s){if(1&r){const i=vr();Vt(0,"div",3)(1,"header",4)(2,"div")(3,"h1",5)(4,"div",6),fo(5,"Simple metadata editor"),Ht(),Vt(6,"gn-ui-status",7,0),Ot("newMetadata",function(a){return ot(i),at(s.onRecordOutputReceived(a))})("newRecordNative",function(a){return ot(i),at(s.onRecordNativeReceived(a))}),Ht()()(),Vt(8,"div",8)(9,"input",9),Ot("change",function(a){return ot(i),at(s.onFileSelect(a))}),Ht(),Vt(10,"input",10),Ot("change",function(a){return ot(i),at(s.onFileUrlInput(a.target.value))}),Ht(),Vt(11,"div",11),fi(12,Hoe,4,7,"label",12),function vS(t,n){const e=sr();let r;const s=t+wn;e.firstCreatePass?(r=function Xk(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[s]=r,r.onDestroy&&(e.destroyHooks??=[]).push(s,r.onDestroy)):r=e.data[s];const i=r.factory||(r.factory=Vl(r.type)),a=ki(Zt);try{const l=j2(!1),c=i();return j2(l),function Ew(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,dt(),s,c),c}finally{ki(a)}}(13,"keyvalue"),Ht()()(),Vt(14,"gn-ui-record-form",13,1),Ot("recordChanged",function(a){return ot(i),at(s.onRecordChange(a))}),Ht(),Vh(16,"gn-ui-record-output-xml",14,2),Ht()}2&r&&(kt(12),It("ngForOf",mS(13,1,s.formats)))},dependencies:[ZM,qg,n0,yoe,Aoe,Bee,YM]})}}return t})(),Eoe=(()=>{class t{constructor(){Fne.applyCssVariables("#c82850","#001638","#212029","#fdfbff","'Rubik', sans-serif","'Readex Pro', sans-serif","https://fonts.googleapis.com/css2?family=Readex+Pro&family=Rubik&display=swap")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Va({type:t,bootstrap:[zoe]})}static{this.\u0275inj=ia({providers:[Ree(),_ie({size:"1.5em"})],imports:[Aj,aie,Bie.withIcons({matDeleteForeverSharp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M6 21h12V7H6v14zm2.46-9.12l1.41-1.41L12 12.59l2.12-2.12l1.41 1.41L13.41 14l2.12 2.12l-1.41 1.41L12 15.41l-2.12 2.12l-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4h-3.5z"></path></svg>'})]})}}return t})();yj().bootstrapModule(Eoe).catch(t=>console.error(t))},6998:function(Ge,je,K){var Z,ce;void 0!==(ce="function"==typeof(Z=function(){"use strict";function Se(H,k,f,_e){this.message=H,this.expected=k,this.found=f,this.location=_e,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Se)}return function Ve(H,k){function f(){this.constructor=H}f.prototype=k.prototype,H.prototype=new f}(Se,Error),Se.buildMessage=function(H,k){var f={literal:function(pe){return'"'+he(pe.text)+'"'},class:function(pe){var X,oe="";for(X=0;X<pe.parts.length;X++)oe+=pe.parts[X]instanceof Array?be(pe.parts[X][0])+"-"+be(pe.parts[X][1]):be(pe.parts[X]);return"["+(pe.inverted?"^":"")+oe+"]"},any:function(pe){return"any character"},end:function(pe){return"end of input"},other:function(pe){return pe.description}};function _e(pe){return pe.charCodeAt(0).toString(16).toUpperCase()}function he(pe){return pe.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(oe){return"\\x0"+_e(oe)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(oe){return"\\x"+_e(oe)})}function be(pe){return pe.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(oe){return"\\x0"+_e(oe)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(oe){return"\\x"+_e(oe)})}function j(pe){return f[pe.type](pe)}return"Expected "+function W(pe){var X,D,oe=new Array(pe.length);for(X=0;X<pe.length;X++)oe[X]=j(pe[X]);if(oe.sort(),oe.length>0){for(X=1,D=1;X<oe.length;X++)oe[X-1]!==oe[X]&&(oe[D]=oe[X],D++);oe.length=D}switch(oe.length){case 1:return oe[0];case 2:return oe[0]+" or "+oe[1];default:return oe.slice(0,-1).join(", ")+", or "+oe[oe.length-1]}}(H)+" but "+function se(pe){return pe?'"'+he(pe)+'"':"end of input"}(k)+" found."},{SyntaxError:Se,parse:function ne(H,k){k=void 0!==k?k:{};var t1,f={},_e={turtleDoc:Cp},he=Cp,be=function(m){var M=Vr.toJSON();return M["@graph"]=[],m.filter(E=>Array.isArray(E)).forEach(E=>{E.forEach(P=>{M["@graph"].push(P)})}),1===M["@graph"].length&&(Object.assign(M,M["@graph"][0]),delete M["@graph"]),M},j=".",W=Un(".",!1),se=function(m){return m},pe="#",oe=Un("#",!1),X=/^[^\n]/,D=Pr(["\n"],!0,!1),ae="\n",ue=Un("\n",!1),Le=function(m){return m.join("")},J="@prefix",Ue=Un("@prefix",!1),re=function(m,M){return Vr.addPrefix(""===m?"0":m,M),{}},xe="@base",De=Un("@base",!1),Pe=function(m){return Vr.addBase(m),{}},te=/^[Bb]/,ye=Pr(["B","b"],!1,!1),wt=/^[Aa]/,mt=Pr(["A","a"],!1,!1),Ft=/^[Ss]/,bt=Pr(["S","s"],!1,!1),L=/^[Ee]/,V=Pr(["E","e"],!1,!1),$=/^[Pp]/,Ae=Pr(["P","p"],!1,!1),Ne=/^[Rr]/,ht=Pr(["R","r"],!1,!1),Xe=/^[Ff]/,vt=Pr(["F","f"],!1,!1),Gt=/^[Ii]/,Ut=Pr(["I","i"],!1,!1),St=/^[Xx]/,nn=Pr(["X","x"],!1,!1),rn=function(m,M){var E={};return"string"==typeof m&&"[]"!==m?E["@id"]=m:"object"==typeof m&&Object.assign(E,m),M&&Object.assign(E,M),[E]},xn=function(m,M){var E={};return m&&Object.assign(E,m),M&&Object.assign(E,M),[E]},ln=";",Xt=Un(";",!1),G=function(m,M,E,P){var q={};return q[E]=P,q},He=function(m,M,E){return E},Fe=function(m,M,E){var P={};return E.unshift(function qa(m,M){var E={};return E[m]=M,E}(m,M)),E.forEach(q=>{q&&Object.keys(q).forEach(ve=>{q[ve].forEach(Ce=>{"@type"===ve&&void 0!==Ce["@id"]&&(Ce=Ce["@id"]),void 0===P[ve]?P[ve]=Ce:Array.isArray(P[ve])?P[ve].push(Ce):P[ve]=[P[ve],Ce]})})}),P},yt=",",Jt=Un(",",!1),Mn=function(m,M){return M},Ln=function(m,M){return M.unshift(m),M},on="a",cn=Un("a",!1),Pn=function(){return"@type"},Gn=function(m){return ac(m,!0)},Sr=function(m){return ac(m,!1)},Jr=function(m){return"[]"===m?{}:{"@id":m}},B=function(m){return{"@id":m}},A="[",S=Un("[",!1),U="]",Me=Un("]",!1),Ke="(",lt=Un("(",!1),an=")",Ee=Un(")",!1),Re=function(m){return{"@list":m}},le=function(m,M){return{"@value":m,"@language":M}},ze="^^",ct=Un("^^",!1),st=function(m,M){if("http://www.w3.org/2001/XMLSchema#boolean"===M&&"true"===m)return!0;if("http://www.w3.org/2001/XMLSchema#boolean"===M&&"false"===m)return!1;if("http://www.w3.org/2001/XMLSchema#integer"===M)return parseInt(m);if("http://www.w3.org/2001/XMLSchema#double"===M)return parseFloat(m);const E=Vr.resolve(M,!0);if(E){const P=M.split(":")[0];if("http://www.w3.org/2001/XMLSchema#boolean"===E&&"true"===m)return Vr.decrement(P),!0;if("http://www.w3.org/2001/XMLSchema#boolean"===E&&"false"===m)return Vr.decrement(P),!1;if("http://www.w3.org/2001/XMLSchema#integer"===E)return Vr.decrement(P),parseInt(m);if("http://www.w3.org/2001/XMLSchema#double"===E)return Vr.decrement(P),parseFloat(m)}return{"@value":m,"@type":M}},qt="true",zn=Un("true",!1),Rn=function(){return!0},Sn="false",cr=Un("false",!1),ir=function(){return!1},Mr=function(m){return m+":"},Os="<",qr=Un("<",!1),Vi=/^[^\0- <>"{}|\^`\\]/,Js=Pr([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),ea=">",Gs=Un(">",!1),R=function(m){const M=m.map(P=>65536<=P.codePointAt(0)&&P.codePointAt(0)<=983039?"a":1===P.length?P:6===P.length?String.fromCharCode("0x"+P.substring(2)):10===P.length?String.fromCodePoint("0x"+P.substring(2)):P).join("");if(M.match(/^[^\u0000-\u0020<>"{}|^`\\]*$/)){var E=m.join("");try{return Vr.resolve(E)}catch{Eu("Invalid IRIREF "+E)}}else Eu("Invalid IRIREF "+m.join("")+" / "+M)},F=":",ie=Un(":",!1),et=function(m){return!1===Vr.hasPrefix(m=m||"0")&&Eu("undefined prefix "+m),m},Et=function(m){return m||""},$e=function(m,M){return Vr.increment(m),Vr.resolve(m+":"+M)},Qn="_:",ws=Un("_:",!1),pr=/^[0-9]/,ur=Pr([["0","9"]],!1,!1),qs="@",Ai=Un("@",!1),xs=/^[a-zA-Z]/,Ws=Pr([["a","z"],["A","Z"]],!1,!1),Ds="-",Qs=Un("-",!1),Mt=/^[a-zA-Z0-9]/,wr=Pr([["a","z"],["A","Z"],["0","9"]],!1,!1),Bs=function(m,M){return"-"+M.join("")},cs=function(m,M){return m.join("")+M.join("")},un=/^[+\-]/,oo=Pr(["+","-"],!1,!1),Y5=function(m){return m.match(/^[0+][0-9]+$/)?{"@value":m,"@type":"http://www.w3.org/2001/XMLSchema#integer"}:parseInt(m)},Lr=function(m){return{"@value":m,"@type":"http://www.w3.org/2001/XMLSchema#decimal"}},ep=function(m){return{"@value":m,"@type":"http://www.w3.org/2001/XMLSchema#double"}},Zs=/^[eE]/,fu=Pr(["e","E"],!1,!1),gu='"',Kc=Un('"',!1),jr=/^[^"\\\n\r]/,En=Pr(['"',"\\","\n","\r"],!0,!1),Xa="'",bi=Un("'",!1),tp=/^[^'\\\n\r]/,u2=Pr(["'","\\","\n","\r"],!0,!1),vu="'''",ta=Un("'''",!1),na=/^[^'\\]/,ra=Pr(["'","\\"],!0,!1),mu="''",np=Un("''",!1),h2=function(m,M){return"''"+M.join("")},rp=function(m,M){return"'"+M.join("")},d2=function(m,M){return m.join("")+M.join("")},wu='"""',Pi=Un('"""',!1),fn=/^[^"\\]/,sa=Pr(['"',"\\"],!0,!1),Cu='""',sp=Un('""',!1),ip=function(m,M){return'""'+M.join("")},op=function(m,M){return'"'+M.join("")},Wt="\\U",K5=Un("\\U",!1),ia=function(m){return String.fromCodePoint(parseInt(m.join(""),16))},Ql="\\u",J5=Un("\\u",!1),p2=function(m){return String.fromCharCode(parseInt(m.join(""),16))},f2="\\t",Jc=Un("\\t",!1),qc=function(){return"\t"},Qc="\\b",g2=Un("\\b",!1),ap=function(){return"\b"},Pt="\\n",yu=Un("\\n",!1),Iu=function(){return"\n"},Au="\\r",bu=Un("\\r",!1),lp=function(){return"\r"},e1="\\f",q5=Un("\\f",!1),Q5=function(){return"\f"},cp='\\"',e3=Un('\\"',!1),xu=function(){return'"'},Hl="\\'",Su=Un("\\'",!1),Mu=function(){return"'"},_u="\\\\",oa=Un("\\\\",!1),ec=function(){return"\\"},v2=/^[ \t\r\n]/,Wn=Pr([" ","\t","\r","\n"],!1,!1),_r=function(){return"[]"},t3=/^[\uD800-\uDBFF]/,up=Pr([["\ud800","\udbff"]],!1,!1),hp=/^[\uDC00-\uDFFF]/,n3=Pr([["\udc00","\udfff"]],!1,!1),dp=function(m,M){return m+M},Hu=/^[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,or=Pr([["A","Z"],["a","z"],["\xc0","\xd6"],["\xd8","\xf6"],["\xf8","\u02ff"],["\u0370","\u037d"],["\u037f","\u1fff"],["\u200c","\u200d"],["\u2070","\u218f"],["\u2c00","\u2fef"],["\u3001","\ud7ff"],["\uf900","\ufdcf"],["\ufdf0","\ufffd"]],!1,!1),zu="_",m2=Un("_",!1),ki="\xb7",w2=Un("\xb7",!1),r3=/^[\u0300-\u036F]/,s3=Pr([["\u0300","\u036f"]],!1,!1),tc=/^[\u203F-\u2040]/,Vu=Pr([["\u203f","\u2040"]],!1,!1),nc=function(m,M,E,P){return E.join("")+P.join("")},pp=function(m,M,E){return m+M.join("")+E.join("")},fp="%",gp=Un("%",!1),C2=/^[0-9A-Fa-f]/,zl=Pr([["0","9"],["A","F"],["a","f"]],!1,!1),vp="\\",Ha=Un("\\",!1),mp=/^[_~.!$&'()*+,;=\/?#@%\-]/,Ye=Pr(["_","~",".","!","$","&","'","(",")","*","+",",",";","=","/","?","#","@","%","-"],!1,!1),w=0,ke=0,Ya=[{line:1,column:1}],ao=0,Ka=[],We=0;if("startRule"in k){if(!(k.startRule in _e))throw new Error("Can't start parsing from rule \""+k.startRule+'".');he=_e[k.startRule]}function Eu(m,M){throw function n1(m,M){return new Se(m,null,null,M)}(m,M=void 0!==M?M:El(ke,w))}function Un(m,M){return{type:"literal",text:m,ignoreCase:M}}function Pr(m,M,E){return{type:"class",parts:m,inverted:M,ignoreCase:E}}function Ja(m){var E,M=Ya[m];if(M)return M;for(E=m-1;!Ya[E];)E--;for(M={line:(M=Ya[E]).line,column:M.column};E<m;)10===H.charCodeAt(E)?(M.line++,M.column=1):M.column++,E++;return Ya[m]=M,M}function El(m,M){var E=Ja(m),P=Ja(M);return{start:{offset:m,line:E.line,column:E.column},end:{offset:M,line:P.line,column:P.column}}}function Oe(m){w<ao||(w>ao&&(ao=w,Ka=[]),Ka.push(m))}function Cp(){var m,M,E,P;for(m=w,M=[],E=Tu();E!==f;)M.push(E),E=Tu();if(M!==f){for(E=[],P=Bt();P!==f;)E.push(P),P=Bt();E!==f?(ke=m,m=M=be(M)):(w=m,m=f)}else w=m,m=f;return m}function Tu(){var m,M,E,P;if((m=function Lu(){var m;return(m=function Tl(){var m,M,E,P,q,ve,Ce,Q,Yt;for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();if(M!==f)if(H.substr(w,7)===J?(E=J,w+=7):(E=f,0===We&&Oe(Ue)),E!==f){for(P=[],q=Bt();q!==f;)P.push(q),q=Bt();if(P!==f)if((q=lo())!==f){for(ve=[],Ce=Bt();Ce!==f;)ve.push(Ce),Ce=Bt();if(ve!==f)if((Ce=oc())!==f){for(Q=[],Yt=Bt();Yt!==f;)Q.push(Yt),Yt=Bt();Q!==f?(46===H.charCodeAt(w)?(Yt=j,w++):(Yt=f,0===We&&Oe(W)),Yt!==f?(ke=m,m=M=re(q,Ce)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;else w=m,m=f}else w=m,m=f;else w=m,m=f}else w=m,m=f;else w=m,m=f;return m}())===f&&(m=function l3(){var m,M,E,P,q,ve,Ce;for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();if(M!==f)if(H.substr(w,5)===xe?(E=xe,w+=5):(E=f,0===We&&Oe(De)),E!==f){for(P=[],q=Bt();q!==f;)P.push(q),q=Bt();if(P!==f)if((q=oc())!==f){for(ve=[],Ce=Bt();Ce!==f;)ve.push(Ce),Ce=Bt();ve!==f?(46===H.charCodeAt(w)?(Ce=j,w++):(Ce=f,0===We&&Oe(W)),Ce!==f?(ke=m,m=M=Pe(q)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;else w=m,m=f}else w=m,m=f;else w=m,m=f;return m}())===f&&(m=function Fo(){var m,M,E,P,q,ve,Ce,Q,Yt,Rr,aa,Po;for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();if(M!==f)if($.test(H.charAt(w))?(E=H.charAt(w),w++):(E=f,0===We&&Oe(Ae)),E!==f)if(Ne.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(ht)),P!==f)if(L.test(H.charAt(w))?(q=H.charAt(w),w++):(q=f,0===We&&Oe(V)),q!==f)if(Xe.test(H.charAt(w))?(ve=H.charAt(w),w++):(ve=f,0===We&&Oe(vt)),ve!==f)if(Gt.test(H.charAt(w))?(Ce=H.charAt(w),w++):(Ce=f,0===We&&Oe(Ut)),Ce!==f)if(St.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(nn)),Q!==f){for(Yt=[],Rr=Bt();Rr!==f;)Yt.push(Rr),Rr=Bt();if(Yt!==f)if((Rr=lo())!==f){for(aa=[],Po=Bt();Po!==f;)aa.push(Po),Po=Bt();aa!==f&&(Po=oc())!==f?(ke=m,m=M=re(Rr,Po)):(w=m,m=f)}else w=m,m=f;else w=m,m=f}else w=m,m=f;else w=m,m=f;else w=m,m=f;else w=m,m=f;else w=m,m=f;else w=m,m=f;else w=m,m=f;return m}())===f&&(m=function I2(){var m,M,E,P,q,ve,Ce,Q;for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();if(M!==f)if(te.test(H.charAt(w))?(E=H.charAt(w),w++):(E=f,0===We&&Oe(ye)),E!==f)if(wt.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(mt)),P!==f)if(Ft.test(H.charAt(w))?(q=H.charAt(w),w++):(q=f,0===We&&Oe(bt)),q!==f)if(L.test(H.charAt(w))?(ve=H.charAt(w),w++):(ve=f,0===We&&Oe(V)),ve!==f){for(Ce=[],Q=Bt();Q!==f;)Ce.push(Q),Q=Bt();Ce!==f&&(Q=oc())!==f?(ke=m,m=M=Pe(Q)):(w=m,m=f)}else w=m,m=f;else w=m,m=f;else w=m,m=f;else w=m,m=f;else w=m,m=f;return m}()),m}())===f)if(m=w,(M=function gr(){var m,M,E;return m=w,(M=function o1(){var m,M;return m=w,(M=l1())!==f&&(ke=m,M=Gn(M)),(m=M)===f&&(m=u1())===f&&(m=ic()),m}())!==f&&(E=xo())!==f?(ke=m,m=M=rn(M,E)):(w=m,m=f),m===f&&(m=w,(M=A2())!==f?((E=xo())===f&&(E=null),E!==f?(ke=m,m=M=xn(M,E)):(w=m,m=f)):(w=m,m=f)),m}())!==f){for(E=[],P=Bt();P!==f;)E.push(P),P=Bt();E!==f?(46===H.charCodeAt(w)?(P=j,w++):(P=f,0===We&&Oe(W)),P!==f?(ke=m,m=M=se(M)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;return m}function Bt(){var m;return(m=function Va(){var m;return v2.test(H.charAt(w))?(m=H.charAt(w),w++):(m=f,0===We&&Oe(Wn)),m}())===f&&(m=function a3(){var m,M,E,P;if(m=w,35===H.charCodeAt(w)?(M=pe,w++):(M=f,0===We&&Oe(oe)),M!==f){for(E=[],X.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(D));P!==f;)E.push(P),X.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(D));E!==f?(10===H.charCodeAt(w)?(P=ae,w++):(P=f,0===We&&Oe(ue)),P!==f?(ke=m,m=M=Le(E)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;return m}()),m}function xo(){var m,M,E,P,q,ve,Ce,Q,Yt,Rr;if(m=w,(M=rc())!==f)if((E=s1())!==f){for(P=[],q=w,ve=[],Ce=Bt();Ce!==f;)ve.push(Ce),Ce=Bt();for(ve!==f?(59===H.charCodeAt(w)?(Ce=ln,w++):(Ce=f,0===We&&Oe(Xt)),Ce!==f?(Q=w,(Yt=rc())!==f&&(Rr=s1())!==f?(ke=Q,Q=Yt=G(M,E,Yt,Rr)):(w=Q,Q=f),Q===f&&(Q=null),Q!==f?(ke=q,q=ve=He(M,E,Q)):(w=q,q=f)):(w=q,q=f)):(w=q,q=f);q!==f;){for(P.push(q),q=w,ve=[],Ce=Bt();Ce!==f;)ve.push(Ce),Ce=Bt();ve!==f?(59===H.charCodeAt(w)?(Ce=ln,w++):(Ce=f,0===We&&Oe(Xt)),Ce!==f?(Q=w,(Yt=rc())!==f&&(Rr=s1())!==f?(ke=Q,Q=Yt=G(M,E,Yt,Rr)):(w=Q,Q=f),Q===f&&(Q=null),Q!==f?(ke=q,q=ve=He(M,E,Q)):(w=q,q=f)):(w=q,q=f)):(w=q,q=f)}P!==f?(ke=m,m=M=Fe(M,E,P)):(w=m,m=f)}else w=m,m=f;else w=m,m=f;return m}function s1(){var m,M,E,P,q,ve,Ce;if(m=w,(M=Ei())!==f){for(E=[],P=w,q=[],ve=Bt();ve!==f;)q.push(ve),ve=Bt();for(q!==f?(44===H.charCodeAt(w)?(ve=yt,w++):(ve=f,0===We&&Oe(Jt)),ve!==f&&(Ce=Ei())!==f?(ke=P,P=q=Mn(M,Ce)):(w=P,P=f)):(w=P,P=f);P!==f;){for(E.push(P),P=w,q=[],ve=Bt();ve!==f;)q.push(ve),ve=Bt();q!==f?(44===H.charCodeAt(w)?(ve=yt,w++):(ve=f,0===We&&Oe(Jt)),ve!==f&&(Ce=Ei())!==f?(ke=P,P=q=Mn(M,Ce)):(w=P,P=f)):(w=P,P=f)}E!==f?(ke=m,m=M=Ln(M,E)):(w=m,m=f)}else w=m,m=f;return m}function rc(){var m,M,E;if(m=w,(M=function a1(){var m,M,E;for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();return M!==f&&(E=ic())!==f?(ke=m,m=M=se(E)):(w=m,m=f),m}())!==f&&(ke=m,M=se(M)),(m=M)===f){for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();M!==f?(97===H.charCodeAt(w)?(E=on,w++):(E=f,0===We&&Oe(cn)),E!==f?(ke=m,m=M=Pn()):(w=m,m=f)):(w=m,m=f)}return m}function Ei(){var m,M;return(m=function za(){var m;return(m=function x2(){var m,M,E,P,q,ve,Ce;for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();if(M!==f)if((E=c1())!==f){for(P=[],q=Bt();q!==f;)P.push(q),q=Bt();P!==f&&(q=function Ap(){var m,M,E,P,q,ve,Ce,Q;if(m=w,64===H.charCodeAt(w)?(M=qs,w++):(M=f,0===We&&Oe(Ai)),M!==f){if(E=[],xs.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(Ws)),P!==f)for(;P!==f;)E.push(P),xs.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(Ws));else E=f;if(E!==f){if(P=[],q=w,45===H.charCodeAt(w)?(ve=Ds,w++):(ve=f,0===We&&Oe(Qs)),ve!==f){if(Ce=[],Mt.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(wr)),Q!==f)for(;Q!==f;)Ce.push(Q),Mt.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(wr));else Ce=f;Ce!==f?(ke=q,q=ve=Bs(E,Ce)):(w=q,q=f)}else w=q,q=f;for(;q!==f;)if(P.push(q),q=w,45===H.charCodeAt(w)?(ve=Ds,w++):(ve=f,0===We&&Oe(Qs)),ve!==f){if(Ce=[],Mt.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(wr)),Q!==f)for(;Q!==f;)Ce.push(Q),Mt.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(wr));else Ce=f;Ce!==f?(ke=q,q=ve=Bs(E,Ce)):(w=q,q=f)}else w=q,q=f;P!==f?(ke=m,m=M=cs(E,P)):(w=m,m=f)}else w=m,m=f}else w=m,m=f;return m}())!==f?(ke=m,m=M=le(E,q)):(w=m,m=f)}else w=m,m=f;else w=m,m=f;if(m===f){for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();if(M!==f)if((E=c1())!==f){for(P=[],q=Bt();q!==f;)P.push(q),q=Bt();if(P!==f)if(H.substr(w,2)===ze?(q=ze,w+=2):(q=f,0===We&&Oe(ct)),q!==f){for(ve=[],Ce=Bt();Ce!==f;)ve.push(Ce),Ce=Bt();ve!==f&&(Ce=ic())!==f?(ke=m,m=M=st(E,Ce)):(w=m,m=f)}else w=m,m=f;else w=m,m=f}else w=m,m=f;else w=m,m=f;if(m===f){for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();M!==f&&(E=c1())!==f?(ke=m,m=M=se(E)):(w=m,m=f)}}return m}())===f&&(m=function b2(){var m,M,E;for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();return M!==f?((E=function Sp(){var m,M,E,P,q,ve,Ce,Q,Yt;if(m=w,M=w,E=w,un.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(oo)),P===f&&(P=null),P!==f){if(q=w,ve=[],pr.test(H.charAt(w))?(Ce=H.charAt(w),w++):(Ce=f,0===We&&Oe(ur)),Ce!==f)for(;Ce!==f;)ve.push(Ce),pr.test(H.charAt(w))?(Ce=H.charAt(w),w++):(Ce=f,0===We&&Oe(ur));else ve=f;if(ve!==f)if(46===H.charCodeAt(w)?(Ce=j,w++):(Ce=f,0===We&&Oe(W)),Ce!==f){for(Q=[],pr.test(H.charAt(w))?(Yt=H.charAt(w),w++):(Yt=f,0===We&&Oe(ur));Yt!==f;)Q.push(Yt),pr.test(H.charAt(w))?(Yt=H.charAt(w),w++):(Yt=f,0===We&&Oe(ur));Q!==f&&(Yt=h1())!==f?q=ve=[ve,Ce,Q,Yt]:(w=q,q=f)}else w=q,q=f;else w=q,q=f;if(q===f){if(q=w,46===H.charCodeAt(w)?(ve=j,w++):(ve=f,0===We&&Oe(W)),ve!==f){if(Ce=[],pr.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(ur)),Q!==f)for(;Q!==f;)Ce.push(Q),pr.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(ur));else Ce=f;Ce!==f&&(Q=h1())!==f?q=ve=[ve,Ce,Q]:(w=q,q=f)}else w=q,q=f;if(q===f){if(q=w,ve=[],pr.test(H.charAt(w))?(Ce=H.charAt(w),w++):(Ce=f,0===We&&Oe(ur)),Ce!==f)for(;Ce!==f;)ve.push(Ce),pr.test(H.charAt(w))?(Ce=H.charAt(w),w++):(Ce=f,0===We&&Oe(ur));else ve=f;ve!==f&&(Ce=h1())!==f?q=ve=[ve,Ce]:(w=q,q=f)}}q!==f?E=P=[P,q]:(w=E,E=f)}else w=E,E=f;return(M=E!==f?H.substring(M,w):E)!==f&&(ke=m,M=ep(M)),M}())===f&&(E=function xp(){var m,M,E,P,q,ve,Ce,Q;if(m=w,M=w,E=w,un.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(oo)),P===f&&(P=null),P!==f){for(q=[],pr.test(H.charAt(w))?(ve=H.charAt(w),w++):(ve=f,0===We&&Oe(ur));ve!==f;)q.push(ve),pr.test(H.charAt(w))?(ve=H.charAt(w),w++):(ve=f,0===We&&Oe(ur));if(q!==f)if(46===H.charCodeAt(w)?(ve=j,w++):(ve=f,0===We&&Oe(W)),ve!==f){if(Ce=[],pr.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(ur)),Q!==f)for(;Q!==f;)Ce.push(Q),pr.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(ur));else Ce=f;Ce!==f?E=P=[P,q,ve,Ce]:(w=E,E=f)}else w=E,E=f;else w=E,E=f}else w=E,E=f;return(M=E!==f?H.substring(M,w):E)!==f&&(ke=m,M=Lr(M)),M}())===f&&(E=function bp(){var m,M,E,P,q,ve;if(m=w,M=w,E=w,un.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(oo)),P===f&&(P=null),P!==f){if(q=[],pr.test(H.charAt(w))?(ve=H.charAt(w),w++):(ve=f,0===We&&Oe(ur)),ve!==f)for(;ve!==f;)q.push(ve),pr.test(H.charAt(w))?(ve=H.charAt(w),w++):(ve=f,0===We&&Oe(ur));else q=f;q!==f?E=P=[P,q]:(w=E,E=f)}else w=E,E=f;return(M=E!==f?H.substring(M,w):E)!==f&&(ke=m,M=Y5(M)),M}()),E!==f?(ke=m,m=M=se(E)):(w=m,m=f)):(w=m,m=f),m}())===f&&(m=function sc(){var m,M,E;for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();if(M!==f?(H.substr(w,4)===qt?(E=qt,w+=4):(E=f,0===We&&Oe(zn)),E!==f?(ke=m,m=M=Rn()):(w=m,m=f)):(w=m,m=f),m===f){for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();M!==f?(H.substr(w,5)===Sn?(E=Sn,w+=5):(E=f,0===We&&Oe(cr)),E!==f?(ke=m,m=M=ir()):(w=m,m=f)):(w=m,m=f)}return m}()),m}())===f&&(m=w,(M=l1())!==f&&(ke=m,M=Sr(M)),(m=M)===f&&(m=w,(M=u1())!==f&&(ke=m,M=Jr(M)),(m=M)===f&&(m=w,(M=A2())!==f&&(ke=m,M=se(M)),(m=M)===f&&(m=w,(M=ic())!==f&&(ke=m,M=B(M)),m=M)))),m}function A2(){var m,M,E,P,q,ve;for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();if(M!==f)if(91===H.charCodeAt(w)?(E=A,w++):(E=f,0===We&&Oe(S)),E!==f)if((P=xo())!==f){for(q=[],ve=Bt();ve!==f;)q.push(ve),ve=Bt();q!==f?(93===H.charCodeAt(w)?(ve=U,w++):(ve=f,0===We&&Oe(Me)),ve!==f?(ke=m,m=M=se(P)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;else w=m,m=f;else w=m,m=f;return m}function l1(){var m,M,E,P,q,ve;for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();if(M!==f)if(40===H.charCodeAt(w)?(E=Ke,w++):(E=f,0===We&&Oe(lt)),E!==f){for(P=[],q=Ei();q!==f;)P.push(q),q=Ei();if(P!==f){for(q=[],ve=Bt();ve!==f;)q.push(ve),ve=Bt();q!==f?(41===H.charCodeAt(w)?(ve=an,w++):(ve=f,0===We&&Oe(Ee)),ve!==f?(ke=m,m=M=Re(P)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f}else w=m,m=f;else w=m,m=f;return m}function c1(){var m,M,E;for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();return M!==f?((E=function Hp(){var m,M,E,P,q,ve,Ce,Q;if(m=w,H.substr(w,3)===vu?(M=vu,w+=3):(M=f,0===We&&Oe(ta)),M!==f){for(E=[],na.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(ra)),P===f&&(P=us())===f&&(P=Qr());P!==f;)E.push(P),na.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(ra)),P===f&&(P=us())===f&&(P=Qr());if(E!==f){if(P=[],q=w,H.substr(w,2)===mu?(ve=mu,w+=2):(ve=f,0===We&&Oe(np)),ve!==f){if(Ce=[],na.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(ra)),Q===f&&(Q=us())===f&&(Q=Qr()),Q!==f)for(;Q!==f;)Ce.push(Q),na.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(ra)),Q===f&&(Q=us())===f&&(Q=Qr());else Ce=f;Ce!==f?(ke=q,q=ve=h2(E,Ce)):(w=q,q=f)}else w=q,q=f;if(q===f)if(q=w,39===H.charCodeAt(w)?(ve=Xa,w++):(ve=f,0===We&&Oe(bi)),ve!==f){if(Ce=[],na.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(ra)),Q===f&&(Q=us())===f&&(Q=Qr()),Q!==f)for(;Q!==f;)Ce.push(Q),na.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(ra)),Q===f&&(Q=us())===f&&(Q=Qr());else Ce=f;Ce!==f?(ke=q,q=ve=rp(E,Ce)):(w=q,q=f)}else w=q,q=f;for(;q!==f;){if(P.push(q),q=w,H.substr(w,2)===mu?(ve=mu,w+=2):(ve=f,0===We&&Oe(np)),ve!==f){if(Ce=[],na.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(ra)),Q===f&&(Q=us())===f&&(Q=Qr()),Q!==f)for(;Q!==f;)Ce.push(Q),na.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(ra)),Q===f&&(Q=us())===f&&(Q=Qr());else Ce=f;Ce!==f?(ke=q,q=ve=h2(E,Ce)):(w=q,q=f)}else w=q,q=f;if(q===f)if(q=w,39===H.charCodeAt(w)?(ve=Xa,w++):(ve=f,0===We&&Oe(bi)),ve!==f){if(Ce=[],na.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(ra)),Q===f&&(Q=us())===f&&(Q=Qr()),Q!==f)for(;Q!==f;)Ce.push(Q),na.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(ra)),Q===f&&(Q=us())===f&&(Q=Qr());else Ce=f;Ce!==f?(ke=q,q=ve=rp(E,Ce)):(w=q,q=f)}else w=q,q=f}P!==f?(H.substr(w,3)===vu?(q=vu,w+=3):(q=f,0===We&&Oe(ta)),q!==f?(ke=m,m=M=d2(E,P)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f}else w=m,m=f;return m}())===f&&(E=function So(){var m,M,E,P,q,ve,Ce,Q;if(m=w,H.substr(w,3)===wu?(M=wu,w+=3):(M=f,0===We&&Oe(Pi)),M!==f){for(E=[],fn.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(sa)),P===f&&(P=us())===f&&(P=Qr());P!==f;)E.push(P),fn.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(sa)),P===f&&(P=us())===f&&(P=Qr());if(E!==f){if(P=[],q=w,H.substr(w,2)===Cu?(ve=Cu,w+=2):(ve=f,0===We&&Oe(sp)),ve!==f){if(Ce=[],fn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(sa)),Q===f&&(Q=us())===f&&(Q=Qr()),Q!==f)for(;Q!==f;)Ce.push(Q),fn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(sa)),Q===f&&(Q=us())===f&&(Q=Qr());else Ce=f;Ce!==f?(ke=q,q=ve=ip(E,Ce)):(w=q,q=f)}else w=q,q=f;if(q===f)if(q=w,34===H.charCodeAt(w)?(ve=gu,w++):(ve=f,0===We&&Oe(Kc)),ve!==f){if(Ce=[],fn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(sa)),Q===f&&(Q=us())===f&&(Q=Qr()),Q!==f)for(;Q!==f;)Ce.push(Q),fn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(sa)),Q===f&&(Q=us())===f&&(Q=Qr());else Ce=f;Ce!==f?(ke=q,q=ve=op(E,Ce)):(w=q,q=f)}else w=q,q=f;for(;q!==f;){if(P.push(q),q=w,H.substr(w,2)===Cu?(ve=Cu,w+=2):(ve=f,0===We&&Oe(sp)),ve!==f){if(Ce=[],fn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(sa)),Q===f&&(Q=us())===f&&(Q=Qr()),Q!==f)for(;Q!==f;)Ce.push(Q),fn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(sa)),Q===f&&(Q=us())===f&&(Q=Qr());else Ce=f;Ce!==f?(ke=q,q=ve=ip(E,Ce)):(w=q,q=f)}else w=q,q=f;if(q===f)if(q=w,34===H.charCodeAt(w)?(ve=gu,w++):(ve=f,0===We&&Oe(Kc)),ve!==f){if(Ce=[],fn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(sa)),Q===f&&(Q=us())===f&&(Q=Qr()),Q!==f)for(;Q!==f;)Ce.push(Q),fn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===We&&Oe(sa)),Q===f&&(Q=us())===f&&(Q=Qr());else Ce=f;Ce!==f?(ke=q,q=ve=op(E,Ce)):(w=q,q=f)}else w=q,q=f}P!==f?(H.substr(w,3)===wu?(q=wu,w+=3):(q=f,0===We&&Oe(Pi)),q!==f?(ke=m,m=M=d2(E,P)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f}else w=m,m=f;return m}())===f&&(E=function _p(){var m,M,E,P;if(m=w,39===H.charCodeAt(w)?(M=Xa,w++):(M=f,0===We&&Oe(bi)),M!==f){for(E=[],tp.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(u2)),P===f&&(P=us())===f&&(P=Qr());P!==f;)E.push(P),tp.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(u2)),P===f&&(P=us())===f&&(P=Qr());E!==f?(39===H.charCodeAt(w)?(P=Xa,w++):(P=f,0===We&&Oe(bi)),P!==f?(ke=m,m=M=Le(E)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;return m}())===f&&(E=function Mp(){var m,M,E,P;if(m=w,34===H.charCodeAt(w)?(M=gu,w++):(M=f,0===We&&Oe(Kc)),M!==f){for(E=[],jr.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(En)),P===f&&(P=us())===f&&(P=Qr());P!==f;)E.push(P),jr.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(En)),P===f&&(P=us())===f&&(P=Qr());E!==f?(34===H.charCodeAt(w)?(P=gu,w++):(P=f,0===We&&Oe(Kc)),P!==f?(ke=m,m=M=Le(E)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;return m}()),E!==f?(ke=m,m=M=se(E)):(w=m,m=f)):(w=m,m=f),m}function ic(){var m,M,E;for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();if(M!==f&&(E=oc())!==f?(ke=m,m=M=se(E)):(w=m,m=f),m===f){for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();M!==f&&(E=function yp(){var m,M;return(m=function Ip(){var m,M,E;return m=w,(M=S2())!==f&&(E=function ci(){var m,M,E,P,q,ve,Ce,Q;if(m=w,(M=xi())===f&&(58===H.charCodeAt(w)?(M=F,w++):(M=f,0===We&&Oe(ie)),M===f&&(pr.test(H.charAt(w))?(M=H.charAt(w),w++):(M=f,0===We&&Oe(ur)),M===f&&(M=Yi()))),M!==f){for(E=[],(P=bn())===f&&(58===H.charCodeAt(w)?(P=F,w++):(P=f,0===We&&Oe(ie)),P===f&&(P=Yi()));P!==f;)E.push(P),(P=bn())===f&&(58===H.charCodeAt(w)?(P=F,w++):(P=f,0===We&&Oe(ie)),P===f&&(P=Yi()));if(E!==f){if(P=[],q=w,ve=[],46===H.charCodeAt(w)?(Ce=j,w++):(Ce=f,0===We&&Oe(W)),Ce!==f)for(;Ce!==f;)ve.push(Ce),46===H.charCodeAt(w)?(Ce=j,w++):(Ce=f,0===We&&Oe(W));else ve=f;if(ve!==f){if(Ce=[],(Q=bn())===f&&(58===H.charCodeAt(w)?(Q=F,w++):(Q=f,0===We&&Oe(ie)),Q===f&&(Q=Yi())),Q!==f)for(;Q!==f;)Ce.push(Q),(Q=bn())===f&&(58===H.charCodeAt(w)?(Q=F,w++):(Q=f,0===We&&Oe(ie)),Q===f&&(Q=Yi()));else Ce=f;Ce!==f?(ke=q,q=ve=nc(M,E,ve,Ce)):(w=q,q=f)}else w=q,q=f;for(;q!==f;){if(P.push(q),q=w,ve=[],46===H.charCodeAt(w)?(Ce=j,w++):(Ce=f,0===We&&Oe(W)),Ce!==f)for(;Ce!==f;)ve.push(Ce),46===H.charCodeAt(w)?(Ce=j,w++):(Ce=f,0===We&&Oe(W));else ve=f;if(ve!==f){if(Ce=[],(Q=bn())===f&&(58===H.charCodeAt(w)?(Q=F,w++):(Q=f,0===We&&Oe(ie)),Q===f&&(Q=Yi())),Q!==f)for(;Q!==f;)Ce.push(Q),(Q=bn())===f&&(58===H.charCodeAt(w)?(Q=F,w++):(Q=f,0===We&&Oe(ie)),Q===f&&(Q=Yi()));else Ce=f;Ce!==f?(ke=q,q=ve=nc(M,E,ve,Ce)):(w=q,q=f)}else w=q,q=f}P!==f?(ke=m,m=M=pp(M,E,P)):(w=m,m=f)}else w=m,m=f}else w=m,m=f;return m}())!==f?(ke=m,m=M=$e(M,E)):(w=m,m=f),m}())===f&&(m=w,(M=S2())!==f&&(ke=m,M=Mr(M)),m=M),m}())!==f?(ke=m,m=M=se(E)):(w=m,m=f)}return m}function u1(){var m,M,E;for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();if(M!==f&&(E=function M2(){var m,M,E,P,q,ve,Ce,Q,Yt,Rr;if(m=w,M=w,H.substr(w,2)===Qn?(E=Qn,w+=2):(E=f,0===We&&Oe(ws)),E!==f)if((P=xi())===f&&(pr.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(ur))),P!==f){for(q=[],ve=bn();ve!==f;)q.push(ve),ve=bn();if(q!==f){if(ve=[],Ce=w,Q=[],46===H.charCodeAt(w)?(Yt=j,w++):(Yt=f,0===We&&Oe(W)),Yt!==f)for(;Yt!==f;)Q.push(Yt),46===H.charCodeAt(w)?(Yt=j,w++):(Yt=f,0===We&&Oe(W));else Q=f;if(Q!==f){if(Yt=[],(Rr=bn())!==f)for(;Rr!==f;)Yt.push(Rr),Rr=bn();else Yt=f;Yt!==f?Ce=Q=[Q,Yt]:(w=Ce,Ce=f)}else w=Ce,Ce=f;for(;Ce!==f;){if(ve.push(Ce),Ce=w,Q=[],46===H.charCodeAt(w)?(Yt=j,w++):(Yt=f,0===We&&Oe(W)),Yt!==f)for(;Yt!==f;)Q.push(Yt),46===H.charCodeAt(w)?(Yt=j,w++):(Yt=f,0===We&&Oe(W));else Q=f;if(Q!==f){if(Yt=[],(Rr=bn())!==f)for(;Rr!==f;)Yt.push(Rr),Rr=bn();else Yt=f;Yt!==f?Ce=Q=[Q,Yt]:(w=Ce,Ce=f)}else w=Ce,Ce=f}ve!==f?M=E=[E,P,q,ve]:(w=M,M=f)}else w=M,M=f}else w=M,M=f;else w=M,M=f;return M!==f?H.substring(m,w):M}())!==f?(ke=m,m=M=se(E)):(w=m,m=f),m===f){for(m=w,M=[],E=Bt();E!==f;)M.push(E),E=Bt();M!==f&&(E=function _2(){var m,M,E,P;if(m=w,91===H.charCodeAt(w)?(M=A,w++):(M=f,0===We&&Oe(S)),M!==f){for(E=[],P=Bt();P!==f;)E.push(P),P=Bt();E!==f?(93===H.charCodeAt(w)?(P=U,w++):(P=f,0===We&&Oe(Me)),P!==f?(ke=m,m=M=_r()):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;return m}())!==f?(ke=m,m=M=se(E)):(w=m,m=f)}return m}function oc(){var m,M,E,P;if(m=w,60===H.charCodeAt(w)?(M=Os,w++):(M=f,0===We&&Oe(qr)),M!==f){for(E=[],Vi.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(Js)),P===f&&(P=Qr());P!==f;)E.push(P),Vi.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(Js)),P===f&&(P=Qr());E!==f?(62===H.charCodeAt(w)?(P=ea,w++):(P=f,0===We&&Oe(Gs)),P!==f?(ke=m,m=M=R(E)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;return m}function S2(){var m,M,E;return m=w,(M=Ns())===f&&(M=null),M!==f?(58===H.charCodeAt(w)?(E=F,w++):(E=f,0===We&&Oe(ie)),E!==f?(ke=m,m=M=et(M)):(w=m,m=f)):(w=m,m=f),m}function lo(){var m,M,E;return m=w,(M=Ns())===f&&(M=null),M!==f?(58===H.charCodeAt(w)?(E=F,w++):(E=f,0===We&&Oe(ie)),E!==f?(ke=m,m=M=Et(M)):(w=m,m=f)):(w=m,m=f),m}function h1(){var m,M,E,P,q,ve;if(m=w,M=w,Zs.test(H.charAt(w))?(E=H.charAt(w),w++):(E=f,0===We&&Oe(fu)),E!==f)if(un.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===We&&Oe(oo)),P===f&&(P=null),P!==f){if(q=[],pr.test(H.charAt(w))?(ve=H.charAt(w),w++):(ve=f,0===We&&Oe(ur)),ve!==f)for(;ve!==f;)q.push(ve),pr.test(H.charAt(w))?(ve=H.charAt(w),w++):(ve=f,0===We&&Oe(ur));else q=f;q!==f?M=E=[E,P,q]:(w=M,M=f)}else w=M,M=f;else w=M,M=f;return M!==f?H.substring(m,w):M}function Qr(){var m,M,E,P,q,ve,Ce,Q,Yt,Rr,aa;return m=w,H.substr(w,2)===Wt?(M=Wt,w+=2):(M=f,0===We&&Oe(K5)),M!==f?(E=w,(P=Ti())!==f&&(q=Ti())!==f&&(ve=Ti())!==f&&(Ce=Ti())!==f&&(Q=Ti())!==f&&(Yt=Ti())!==f&&(Rr=Ti())!==f&&(aa=Ti())!==f?E=P=[P,q,ve,Ce,Q,Yt,Rr,aa]:(w=E,E=f),E!==f?(ke=m,m=M=ia(E)):(w=m,m=f)):(w=m,m=f),m===f&&(m=w,H.substr(w,2)===Ql?(M=Ql,w+=2):(M=f,0===We&&Oe(J5)),M!==f?(E=w,(P=Ti())!==f&&(q=Ti())!==f&&(ve=Ti())!==f&&(Ce=Ti())!==f?E=P=[P,q,ve,Ce]:(w=E,E=f),E!==f?(ke=m,m=M=p2(E)):(w=m,m=f)):(w=m,m=f)),m}function us(){var m,M;return m=w,H.substr(w,2)===f2?(M=f2,w+=2):(M=f,0===We&&Oe(Jc)),M!==f&&(ke=m,M=qc()),(m=M)===f&&(m=w,H.substr(w,2)===Qc?(M=Qc,w+=2):(M=f,0===We&&Oe(g2)),M!==f&&(ke=m,M=ap()),(m=M)===f&&(m=w,H.substr(w,2)===Pt?(M=Pt,w+=2):(M=f,0===We&&Oe(yu)),M!==f&&(ke=m,M=Iu()),(m=M)===f&&(m=w,H.substr(w,2)===Au?(M=Au,w+=2):(M=f,0===We&&Oe(bu)),M!==f&&(ke=m,M=lp()),(m=M)===f&&(m=w,H.substr(w,2)===e1?(M=e1,w+=2):(M=f,0===We&&Oe(q5)),M!==f&&(ke=m,M=Q5()),(m=M)===f&&(m=w,H.substr(w,2)===cp?(M=cp,w+=2):(M=f,0===We&&Oe(e3)),M!==f&&(ke=m,M=xu()),(m=M)===f&&(m=w,H.substr(w,2)===Hl?(M=Hl,w+=2):(M=f,0===We&&Oe(Su)),M!==f&&(ke=m,M=Mu()),(m=M)===f&&(m=w,H.substr(w,2)===_u?(M=_u,w+=2):(M=f,0===We&&Oe(oa)),M!==f&&(ke=m,M=ec()),m=M))))))),m}function Zn(){var m,M,E;return m=w,t3.test(H.charAt(w))?(M=H.charAt(w),w++):(M=f,0===We&&Oe(up)),M!==f?(hp.test(H.charAt(w))?(E=H.charAt(w),w++):(E=f,0===We&&Oe(n3)),E!==f?(ke=m,m=M=dp(M,E)):(w=m,m=f)):(w=m,m=f),m===f&&(Hu.test(H.charAt(w))?(m=H.charAt(w),w++):(m=f,0===We&&Oe(or))),m}function xi(){var m;return(m=Zn())===f&&(95===H.charCodeAt(w)?(m=zu,w++):(m=f,0===We&&Oe(m2))),m}function bn(){var m;return(m=xi())===f&&(45===H.charCodeAt(w)?(m=Ds,w++):(m=f,0===We&&Oe(Qs)),m===f&&(pr.test(H.charAt(w))?(m=H.charAt(w),w++):(m=f,0===We&&Oe(ur)),m===f&&(183===H.charCodeAt(w)?(m=ki,w++):(m=f,0===We&&Oe(w2)),m===f&&(r3.test(H.charAt(w))?(m=H.charAt(w),w++):(m=f,0===We&&Oe(s3)),m===f&&(tc.test(H.charAt(w))?(m=H.charAt(w),w++):(m=f,0===We&&Oe(Vu))))))),m}function Ns(){var m,M,E,P,q,ve,Ce,Q,Yt;if(m=w,M=w,(E=Zn())!==f){for(P=[],q=bn();q!==f;)P.push(q),q=bn();if(P!==f){if(q=[],ve=w,Ce=[],46===H.charCodeAt(w)?(Q=j,w++):(Q=f,0===We&&Oe(W)),Q!==f)for(;Q!==f;)Ce.push(Q),46===H.charCodeAt(w)?(Q=j,w++):(Q=f,0===We&&Oe(W));else Ce=f;if(Ce!==f){if(Q=[],(Yt=bn())!==f)for(;Yt!==f;)Q.push(Yt),Yt=bn();else Q=f;Q!==f?ve=Ce=[Ce,Q]:(w=ve,ve=f)}else w=ve,ve=f;for(;ve!==f;){if(q.push(ve),ve=w,Ce=[],46===H.charCodeAt(w)?(Q=j,w++):(Q=f,0===We&&Oe(W)),Q!==f)for(;Q!==f;)Ce.push(Q),46===H.charCodeAt(w)?(Q=j,w++):(Q=f,0===We&&Oe(W));else Ce=f;if(Ce!==f){if(Q=[],(Yt=bn())!==f)for(;Yt!==f;)Q.push(Yt),Yt=bn();else Q=f;Q!==f?ve=Ce=[Ce,Q]:(w=ve,ve=f)}else w=ve,ve=f}q!==f?M=E=[E,P,q]:(w=M,M=f)}else w=M,M=f}else w=M,M=f;return M!==f?H.substring(m,w):M}function Yi(){var m;return(m=function Si(){var m,M,E,P,q;return m=w,M=w,37===H.charCodeAt(w)?(E=fp,w++):(E=f,0===We&&Oe(gp)),E!==f&&(P=Ti())!==f&&(q=Ti())!==f?M=E=[E,P,q]:(w=M,M=f),M!==f?H.substring(m,w):M}())===f&&(m=function H2(){var m,M,E;return m=w,92===H.charCodeAt(w)?(M=vp,w++):(M=f,0===We&&Oe(Ha)),M!==f?(mp.test(H.charAt(w))?(E=H.charAt(w),w++):(E=f,0===We&&Oe(Ye)),E!==f?(ke=m,m=M=se(E)):(w=m,m=f)):(w=m,m=f),m}()),m}function Ti(){var m;return C2.test(H.charAt(w))?(m=H.charAt(w),w++):(m=f,0===We&&Oe(zl)),m}var z2=new Function("try {return this===window;}catch(e){ return false;}")()?window.URL:K(1391).URL,V2=function(m){return m.match(/^[a-z](.*?):(.+?)/g)},Vr={base:[],data:{},addBase:function(m){if(0===Vr.base.length)return void Vr.base.push(m);const M=Vr.base[Vr.base.length-1];M!==m&&Vr.base.push(new z2(m,M).toString())},addPrefix:function(m,M){const E=Vr.data[m];void 0===E?Vr.data[m]=[{uri:M,count:0}]:E[E.length-1].uri!==M&&E.push({uri:M,count:0})},hasPrefix:function(m){return void 0!==this.data[m]},resolve:function(m,M){const E=Object.keys(Vr.data).find(q=>0===m.indexOf(q+":"));if(void 0!==E){const q=Vr.data[E];return 1===q.length&&!0!==M&&V2(q[0].uri)?m:m.replace(E+":",q[q.length-1].uri)}var P=0===Vr.base.length?k.baseIRI:Vr.base[Vr.base.length-1];return!P||m.match(/^(http:|https:|urn:|file:)/)?m:0===m.indexOf("//")&&P?P.split("//")[0]+m:new z2(m,P).toString()},increment:function(m){const M=Vr.data[m];void 0!==M&&M[M.length-1].count++},decrement:function(m){const M=Vr.data[m];void 0!==M&&M[M.length-1].count--},toJSON:function(){const m={};return Vr.base.length>0&&(void 0===m["@context"]&&(m["@context"]={}),m["@context"]["@base"]=Vr.base[0]),Object.keys(Vr.data).forEach(M=>{const E=Vr.data[M][0];"http://www.w3.org/2001/XMLSchema#"===E.uri&&E.count<1||V2(E.uri)&&(void 0===m["@context"]&&(m["@context"]={}),m["@context"][M]=E.uri)}),m}};function ac(m,M){if(void 0===m["@list"]||!M&&!m["@list"].find(q=>void 0!==q["@list"]))return m;if(0===m["@list"].length)return{"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};var E={},P=null;return m["@list"].forEach(q=>{null===P?P=E:(P["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={},P=P["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]),P["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"]=ac(q,!0),P["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}),E}if((t1=he())!==f&&w===H.length)return t1;throw t1!==f&&w<H.length&&Oe({type:"end"}),function r1(m,M,E){return new Se(Se.buildMessage(m,M),m,M,E)}(Ka,ao<H.length?H.charAt(ao):null,El(ao,ao<H.length?ao+1:ao))}}})?Z.apply(je,[]):Z)&&(Ge.exports=ce)},517:function(Ge){Ge.exports=function(){"use strict";var je=function(){return je=Object.assign||function(C){for(var y,I=1,x=arguments.length;I<x;I++)for(var T in y=arguments[I])Object.prototype.hasOwnProperty.call(y,T)&&(C[T]=y[T]);return C},je.apply(this,arguments)};function K(g){var C="function"==typeof Symbol&&Symbol.iterator,y=C&&g[C],I=0;if(y)return y.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&I>=g.length&&(g=void 0),{value:g&&g[I++],done:!g}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(g,C){var y="function"==typeof Symbol&&g[Symbol.iterator];if(!y)return g;var x,Y,I=y.call(g),T=[];try{for(;(void 0===C||C-- >0)&&!(x=I.next()).done;)T.push(x.value)}catch(Te){Y={error:Te}}finally{try{x&&!x.done&&(y=I.return)&&y.call(I)}finally{if(Y)throw Y.error}}return T}function ge(g,C,y){if(y||2===arguments.length)for(var T,I=0,x=C.length;I<x;I++)(T||!(I in C))&&(T||(T=Array.prototype.slice.call(C,0,I)),T[I]=C[I]);return g.concat(T||Array.prototype.slice.call(C))}"function"==typeof SuppressedError&&SuppressedError;class ce extends Error{constructor(C,y,I){super(C),this.token=y,this.type=I||"error"}}const Ve=g=>g<4?"short":4===g?"long":"narrow",Se=g=>g%2==0?"2-digit":"numeric";function H(g,C){switch(g.width){case 1:return"numeric";case 2:return"2-digit";case 3:return"short";case 4:return"long";case 5:return"narrow";default:return void C(`${g.desc} is not supported with width ${g.width}`)}}function k(g,C){const{char:y,desc:I,width:x}=g;if("d"===y)return Se(x);C(`${I} is not supported`)}function f(g,C){const{char:y,desc:I,width:x}=g;return("c"===y||"e"===y)&&x<3&&C(`Numeric value is not supported for ${I}; falling back to weekday:short`,ce.WARNING),Ve(x)}function he(g,C){const{char:y,desc:I,width:x}=g;switch(y){case"v":case"z":return 4===x?"long":"short";case"V":return 4===x?"long":void C(`${I} is not supported with width ${x}`);case"X":return void C(`${I} is not supported`)}return"short"}function be(g,C){switch(g.field){case"era":return{era:Ve(g.width)};case"year":return function ne(g,C){switch(g.char){case"y":return{year:Se(g.width)};case"r":return{calendar:"gregory",year:"numeric"};default:return C(`${g.desc} is not supported; falling back to year:numeric`,ce.WARNING),{year:"numeric"}}}(g,C);case"month":return{month:H(g,C)};case"day":return{day:k(g,C)};case"weekday":return{weekday:f(g,C)};case"period":return;case"hour":return function _e(g){const C=Se(g.width);let y;switch(g.char){case"h":y="h12";break;case"H":y="h23";break;case"k":y="h24";break;case"K":y="h11"}return y?{hour:C,hourCycle:y}:{hour:C}}(g);case"min":return{minute:Se(g.width)};case"sec":return{second:Se(g.width)};case"tz":return{timeZoneName:he(g,C)};case"quarter":case"week":case"sec-frac":case"ms":C(`${g.desc} is not supported`)}}function j(g,C){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T=>{throw T};const I={timeZone:C},x=[];for(const T of g){const{error:Y,field:Te,str:nt}=T;if(Y){const gn=new ce(Y.message,T);gn.stack=Y.stack,y(gn)}nt&&y(new ce(`Ignoring string part: ${nt}`,T,ce.WARNING)),Te&&(-1===x.indexOf(Te)?x.push(Te):y(new ce(`Duplicate ${Te} token`,T)));const Dt=be(T,(gn,jn)=>y(new ce(gn,T,jn)));Dt&&Object.assign(I,Dt)}return I}const W={G:{field:"era",desc:"Era"},y:{field:"year",desc:"Year"},Y:{field:"year",desc:'Year of "Week of Year"'},u:{field:"year",desc:"Extended year"},U:{field:"year",desc:"Cyclic year name"},r:{field:"year",desc:"Related Gregorian year"},Q:{field:"quarter",desc:"Quarter"},q:{field:"quarter",desc:"Stand-alone quarter"},M:{field:"month",desc:"Month in year"},L:{field:"month",desc:"Stand-alone month in year"},w:{field:"week",desc:"Week of year"},W:{field:"week",desc:"Week of month"},d:{field:"day",desc:"Day in month"},D:{field:"day",desc:"Day of year"},F:{field:"day",desc:"Day of week in month"},g:{field:"day",desc:"Modified julian day"},E:{field:"weekday",desc:"Day of week"},e:{field:"weekday",desc:"Local day of week"},c:{field:"weekday",desc:"Stand-alone local day of week"},a:{field:"period",desc:"AM/PM marker"},b:{field:"period",desc:"AM/PM/noon/midnight marker"},B:{field:"period",desc:"Flexible day period"},h:{field:"hour",desc:"Hour in AM/PM (1~12)"},H:{field:"hour",desc:"Hour in day (0~23)"},k:{field:"hour",desc:"Hour in day (1~24)"},K:{field:"hour",desc:"Hour in AM/PM (0~11)"},j:{field:"hour",desc:"Hour in preferred cycle"},J:{field:"hour",desc:"Hour in preferred cycle without marker"},C:{field:"hour",desc:"Hour in preferred cycle with flexible marker"},m:{field:"min",desc:"Minute in hour"},s:{field:"sec",desc:"Second in minute"},S:{field:"sec-frac",desc:"Fractional second"},A:{field:"ms",desc:"Milliseconds in day"},z:{field:"tz",desc:"Time Zone: specific non-location"},Z:{field:"tz",desc:"Time Zone"},O:{field:"tz",desc:"Time Zone: localized"},v:{field:"tz",desc:"Time Zone: generic non-location"},V:{field:"tz",desc:"Time Zone: ID"},X:{field:"tz",desc:"Time Zone: ISO8601 with Z"},x:{field:"tz",desc:"Time Zone: ISO8601"}},se=g=>g>="A"&&g<="Z"||g>="a"&&g<="z";function X(g,C){const y=g[C];if(!y)return null;if(se(y))return function pe(g,C){const y=g[C];let I=1;for(;g[++C]===y;)++I;const x=W[y];return x?{char:y,field:x.field,desc:x.desc,width:I}:{char:y,error:new Error(`The letter ${y} is not a valid field identifier`),width:I}}(g,C);if("'"===y)return function oe(g,C){let y=g[++C],I=2;if("'"===y)return{char:"'",str:y,width:I};for(;;){const x=g[++C];if(++I,void 0===x)return{char:"'",error:new Error(`Unterminated quoted literal in pattern: ${y||g}`),str:y,width:I};if("'"===x){if("'"!==g[++C])return{char:"'",str:y,width:I};++I}y+=x}}(g,C);let I=y,x=1;for(;;){const T=g[++C];if(!T||se(T)||"'"===T)return{char:y,str:I,width:x};I+=T,x+=1}}function D(g){const C=[];let y=0;for(;;){const I=X(g,y);if(!I)return C;C.push(I),y+=I.width}}class Le extends Error{constructor(C,y){super(y),this.code=C}}class J extends Le{constructor(C,y){super("BAD_OPTION",`Unknown ${C} option: ${y}`),this.stem=C,this.option=y}}class Ue extends Le{constructor(C){super("BAD_STEM",`Unknown stem: ${C}`),this.stem=C}}class re extends Le{constructor(C,y){super("MASKED_VALUE",`Value for ${C} is set multiple times`),this.type=C,this.prev=y}}class xe extends Le{constructor(C){super("MISSING_OPTION",`Required option missing for ${C}`),this.stem=C}}class De extends Le{constructor(C,y){super("BAD_PATTERN",y),this.char=C}}class Pe extends Le{constructor(C,y,I){super("TOO_MANY_OPTIONS",`Token ${C} only supports ${I>1?`${I} options`:"one option"} (got ${y.length})`),this.stem=C,this.options=y}}class te extends Le{constructor(C,y){super("UNSUPPORTED",`The stem ${C} is not supported`),this.stem=C,y&&(this.message+=` with value ${y}`,this.source=y)}}function ye(g,C){let{numberingSystem:y}=C;return Array.isArray(g)||(g=[g]),y?g.map(I=>{const x=-1===I.indexOf("-u-")?"u-nu":"nu";return`${I}-${x}-${y}`}).concat(g):g}function mt(g){let{scale:C,unit:y}=g,I="number"==typeof C&&C>=0?C:1;return y&&"percent"===y.style&&(I*=.01),I}function L(g,C){const{decimal:y,group:I,integerWidth:x,notation:T,precision:Y,roundingMode:Te,sign:nt,unit:Dt,unitPer:gn,unitWidth:jn}=g,$n=(Or,Cs)=>{C&&C(new te(Or,Cs))},Qt={};if(Dt)switch(Dt.style){case"base-unit":Qt.style="decimal";break;case"currency":Qt.style="currency",Qt.currency=Dt.currency;break;case"measure-unit":Qt.style="unit",Qt.unit=Dt.unit.replace(/.*-/,""),gn&&(Qt.unit+="-per-"+gn.replace(/.*-/,""));break;case"percent":Qt.style="percent";break;case"permille":$n("permille")}switch(jn){case"unit-width-full-name":Qt.currencyDisplay="name",Qt.unitDisplay="long";break;case"unit-width-hidden":$n(jn);break;case"unit-width-iso-code":Qt.currencyDisplay="code";break;case"unit-width-narrow":Qt.currencyDisplay="narrowSymbol",Qt.unitDisplay="narrow";break;case"unit-width-short":Qt.currencyDisplay="symbol",Qt.unitDisplay="short"}switch(I){case"group-off":Qt.useGrouping=!1;break;case"group-auto":Qt.useGrouping=!0;break;case"group-min2":case"group-on-aligned":case"group-thousands":$n(I),Qt.useGrouping=!0}if(Y)switch(Y.style){case"precision-fraction":{const{minFraction:Or,maxFraction:Cs,minSignificant:Fs,maxSignificant:Ri,source:_o}=Y;"number"==typeof Or&&(Qt.minimumFractionDigits=Or,"number"==typeof Fs&&$n("precision-fraction",_o)),"number"==typeof Cs&&(Qt.maximumFractionDigits=Cs),"number"==typeof Fs&&(Qt.minimumSignificantDigits=Fs),"number"==typeof Ri&&(Qt.maximumSignificantDigits=Ri);break}case"precision-integer":Qt.maximumFractionDigits=0;break;case"precision-unlimited":Qt.maximumFractionDigits=20;break;case"precision-increment":break;case"precision-currency-standard":Qt.trailingZeroDisplay=Y.trailingZero;break;case"precision-currency-cash":$n(Y.style)}if(T)switch(T.style){case"compact-short":Qt.notation="compact",Qt.compactDisplay="short";break;case"compact-long":Qt.notation="compact",Qt.compactDisplay="long";break;case"notation-simple":Qt.notation="standard";break;case"scientific":case"engineering":{const{expDigits:Or,expSign:Cs,source:Fs,style:Ri}=T;Qt.notation=Ri,(Or&&Or>1||Cs&&"sign-auto"!==Cs)&&$n(Ri,Fs);break}}if(x){const{min:Or,max:Cs,source:Fs}=x;Or>0&&(Qt.minimumIntegerDigits=Or),Number(Cs)>0&&(3!==Cs||"engineering"!==Qt.notation&&"scientific"!==Qt.notation?$n("integer-width",Fs):Qt.notation="engineering")}switch(nt){case"sign-auto":Qt.signDisplay="auto";break;case"sign-always":Qt.signDisplay="always";break;case"sign-except-zero":Qt.signDisplay="exceptZero";break;case"sign-never":Qt.signDisplay="never";break;case"sign-accounting":Qt.currencySign="accounting";break;case"sign-accounting-always":Qt.currencySign="accounting",Qt.signDisplay="always";break;case"sign-accounting-except-zero":Qt.currencySign="accounting",Qt.signDisplay="exceptZero"}return"decimal-always"===y&&$n(y),Te&&$n(Te),Qt}function V(g,C,y){const I=g[C];switch(I){case"%":return{char:"%",style:"percent",width:1};case"\u2030":return{char:"%",style:"permille",width:1};case"\xa4":{let x=1;for(;"\xa4"===g[++C];)++x;switch(x){case 1:return{char:I,currency:"default",width:x};case 2:return{char:I,currency:"iso-code",width:x};case 3:return{char:I,currency:"full-name",width:x};case 5:return{char:I,currency:"narrow",width:x};default:return y(new De("\xa4",`Invalid number (${x}) of \xa4 chars in pattern`)),null}}case"*":{const x=g[C+1];if(x)return{char:I,pad:x,width:2};break}case"+":case"-":return{char:I,width:1};case"'":{let x=g[++C],T=2;if("'"===x)return{char:I,str:x,width:T};for(;;){const Y=g[++C];if(++T,void 0===Y)return y(new De("'",`Unterminated quoted literal in pattern: ${x}`)),{char:I,str:x,width:T};if("'"===Y){if("'"!==g[++C])return{char:I,str:x,width:T};++T}x+=Y}}}return null}const $=g=>g>="0"&&g<="9";function Ae(g,C){const y=g[C];if($(y)){let I=y;for(;;){const x=g[++C];if(!$(x))return{char:"0",digits:I,width:I.length};I+=x}}switch(y){case"#":{let I=1;for(;"#"===g[++C];)++I;return{char:y,width:I}}case"@":{let I=1;for(;"@"===g[++C];)++I;let x=I;for(C-=1;"#"===g[++C];)++x;return{char:y,min:I,width:x}}case"E":{const I="+"===g[C+1];I&&++C;let x=0;for(;"0"===g[++C];)++x;if(x)return{char:y,expDigits:x,plus:I,width:(I?2:1)+x};break}case".":case",":return{char:y,width:1}}return null}function Ne(g,C,y){let I;var Dt;(Dt=I||(I={}))[Dt.Prefix=0]="Prefix",Dt[Dt.Number=1]="Number",Dt[Dt.Suffix=2]="Suffix";const x=[],T=[],Y=[];let Te=I.Prefix,nt="";for(;C<g.length;){const Dt=g[C];if(";"===Dt){C+=1;break}switch(Te){case I.Prefix:{const gn=V(g,C,y);if(gn)nt&&(x.push({char:"'",str:nt,width:nt.length}),nt=""),x.push(gn),C+=gn.width;else{const jn=Ae(g,C);jn?(nt&&(x.push({char:"'",str:nt,width:nt.length}),nt=""),Te=I.Number,T.push(jn),C+=jn.width):(nt+=Dt,C+=1)}break}case I.Number:{const gn=Ae(g,C);gn?(T.push(gn),C+=gn.width):Te=I.Suffix;break}case I.Suffix:{const gn=V(g,C,y);gn?(nt&&(Y.push({char:"'",str:nt,width:nt.length}),nt=""),Y.push(gn),C+=gn.width):(nt+=Dt,C+=1);break}}}return nt&&Y.push({char:"'",str:nt,width:nt.length}),{pattern:{prefix:x,number:T,suffix:Y},pos:C}}function vt(g,C,y,I,x){let T=!1,Y="";for(const Te of g)switch(Te.char){case"%":C.unit={style:Te.style},x?T=!0:Y="";break;case"\xa4":if(!y){I(new De("\xa4","The \xa4 pattern requires a currency"));break}switch(C.unit={style:"currency",currency:y},Te.currency){case"iso-code":C.unitWidth="unit-width-iso-code";break;case"full-name":C.unitWidth="unit-width-full-name";break;case"narrow":C.unitWidth="unit-width-narrow"}x?T=!0:Y="";break;case"*":break;case"+":T||(Y+="+");break;case"'":T||(Y+=Te.str)}return Y}function Gt(g,C){let y=!1,I="";for(const x of g)switch(x.char){case"%":case"\xa4":C?y=!0:I="";break;case"-":y||(I+="-");break;case"'":y||(I+=x.str)}return I}function Ut(g,C){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nt=>{throw nt};const{tokens:I,negative:x}=function ht(g,C){const{pattern:y,pos:I}=Ne(g,0,C);if(I<g.length){const{pattern:x}=Ne(g,I,C);return{tokens:y,negative:x}}return{tokens:y}}(g,y),T=function Xe(g,C){const y={};let I=!1,x=!1,T=0,Y="",Te=-1,nt="",Dt=0;for(let jn=0;jn<g.length;++jn){const $n=g[jn];switch($n.char){case"#":-1===Te?(Y&&C(new De("#","Pattern has # after integer digits")),T+=$n.width):Dt+=$n.width;break;case"0":-1===Te?Y+=$n.digits:(Dt&&C(new De("0","Pattern has digits after # in fraction")),nt+=$n.digits);break;case"@":y.precision&&C(new re("precision",y.precision)),y.precision={style:"precision-fraction",minSignificant:$n.min,maxSignificant:$n.width};break;case",":I=!0;break;case".":1===Te&&C(new De(".","Pattern has more than one decimal separator")),Te=jn;break;case"E":x&&C(new re("exponent",y.notation)),I&&C(new De("E","Exponential patterns may not contain grouping separators")),y.notation={style:"scientific"},$n.expDigits>1&&(y.notation.expDigits=$n.expDigits),$n.plus&&(y.notation.expSign="sign-always"),x=!0}}I?y.group="group-auto":T+Y.length>3&&(y.group="group-off");const gn=+`${Y||"0"}.${nt}`;if(gn&&(y.precision={style:"precision-increment",increment:gn}),x)if((!y.precision||gn)&&(y.integerWidth=T?{min:1,max:T+Y.length}:{min:Math.max(1,Y.length)}),y.precision)gn||(y.integerWidth={min:1,max:1});else{const jn=Y.length+nt.length;-1===Te?jn>0&&(y.precision={style:"precision-fraction",maxSignificant:jn}):(y.precision={style:"precision-fraction",maxSignificant:Math.max(1,jn)+Dt},jn>1&&(y.precision.minSignificant=jn))}else Y.length>1&&(y.integerWidth={min:Y.length}),!y.precision&&(nt.length||Dt)&&(y.precision={style:"precision-fraction",minFraction:nt.length,maxFraction:nt.length+Dt});return y}(I.number,y),Y=vt(I.prefix,T,C,y,!0),Te=vt(I.suffix,T,C,y,!1);if(x){const nt=Gt(x.prefix,!0),Dt=Gt(x.suffix,!1);T.affix={pos:[Y,Te],neg:[nt,Dt]},T.sign="sign-never"}else(Y||Te)&&(T.affix={pos:[Y,Te]});return T}function nn(g){const[y]=g.split("-",1);return-1!==["acceleration","angle","area","concentr","consumption","digital","duration","electric","energy","force","frequency","graphics","length","light","mass","power","pressure","speed","temperature","torque","volume"].indexOf(y)}const rn={"compact-short":0,"compact-long":0,"notation-simple":0,scientific:2,engineering:2,percent:0,permille:0,"base-unit":0,currency:1,"measure-unit":1,"per-measure-unit":1,"unit-width-narrow":0,"unit-width-short":0,"unit-width-full-name":0,"unit-width-iso-code":0,"unit-width-hidden":0,"precision-integer":0,"precision-unlimited":0,"precision-currency-standard":1,"precision-currency-cash":0,"precision-increment":1,"rounding-mode-ceiling":0,"rounding-mode-floor":0,"rounding-mode-down":0,"rounding-mode-up":0,"rounding-mode-half-even":0,"rounding-mode-half-down":0,"rounding-mode-half-up":0,"rounding-mode-unnecessary":0,"integer-width":1,scale:1,"group-off":0,"group-min2":0,"group-auto":0,"group-on-aligned":0,"group-thousands":0,latin:0,"numbering-system":1,"sign-auto":0,"sign-always":0,"sign-never":0,"sign-accounting":0,"sign-accounting-always":0,"sign-except-zero":0,"sign-accounting-except-zero":0,"decimal-auto":0,"decimal-always":0},xn={currency:1,"integer-width":1,"measure-unit":1,"numbering-system":1,"per-measure-unit":1,"precision-increment":1,scale:1};function G(g,C,y){if(function ln(g){return g in rn}(g)){const I=rn[g];if(C.length>I){if(0===I)for(const x of C)y(new J(g,x));else y(new Pe(g,C,I));return!1}if(function Xt(g){return g in xn}(g)&&C.length<xn[g])return y(new xe(g)),!1}return!0}function He(g,C){const I=g&&g.match("fraction"===C?/^\.(0*)(\+|#*)$/:/^(@+)(\+|#*)$/);if(I){const x=I[1].length;switch(I[2].charAt(0)){case"":return{min:x,max:x};case"+":return{min:x,max:null};case"#":return{min:x,max:x+I[2].length}}}return null}class yt{constructor(C){this.skeleton={},this.onError=C}badOption(C,y){this.onError(new J(C,y))}assertEmpty(C){const y=this.skeleton[C];y&&this.onError(new re(C,y))}parseToken(C,y){if(!G(C,y,this.onError))return;const I=y[0],x=this.skeleton;switch(C){case"compact-short":case"compact-long":case"notation-simple":this.assertEmpty("notation"),x.notation={style:C};break;case"scientific":case"engineering":{let Y,T=null;for(const nt of y)switch(nt){case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":Y=nt;break;default:/^\+e+$/.test(nt)?T=nt.length-1:this.badOption(C,nt)}this.assertEmpty("notation");const Te=y.join("/");x.notation=T&&Y?{style:C,source:Te,expDigits:T,expSign:Y}:T?{style:C,source:Te,expDigits:T}:Y?{style:C,source:Te,expSign:Y}:{style:C,source:Te};break}case"percent":case"permille":case"base-unit":this.assertEmpty("unit"),x.unit={style:C};break;case"currency":/^[A-Z]{3}$/.test(I)?(this.assertEmpty("unit"),x.unit={style:C,currency:I}):this.badOption(C,I);break;case"measure-unit":nn(I)?(this.assertEmpty("unit"),x.unit={style:C,unit:I}):this.badOption(C,I);break;case"per-measure-unit":nn(I)?(this.assertEmpty("unitPer"),x.unitPer=I):this.badOption(C,I);break;case"unit-width-narrow":case"unit-width-short":case"unit-width-full-name":case"unit-width-iso-code":case"unit-width-hidden":this.assertEmpty("unitWidth"),x.unitWidth=C;break;case"precision-integer":case"precision-unlimited":case"precision-currency-cash":this.assertEmpty("precision"),x.precision={style:C};break;case"precision-currency-standard":this.assertEmpty("precision"),x.precision="w"===I?{style:C,trailingZero:"stripIfInteger"}:{style:C};break;case"precision-increment":{const T=Number(I);T>0?(this.assertEmpty("precision"),x.precision={style:C,increment:T}):this.badOption(C,I);break}case"rounding-mode-ceiling":case"rounding-mode-floor":case"rounding-mode-down":case"rounding-mode-up":case"rounding-mode-half-even":case"rounding-mode-half-odd":case"rounding-mode-half-ceiling":case"rounding-mode-half-floor":case"rounding-mode-half-down":case"rounding-mode-half-up":case"rounding-mode-unnecessary":this.assertEmpty("roundingMode"),x.roundingMode=C;break;case"integer-width":if(/^\+0*$/.test(I))this.assertEmpty("integerWidth"),x.integerWidth={source:I,min:I.length-1};else{const T=I.match(/^#*(0*)$/);T?(this.assertEmpty("integerWidth"),x.integerWidth={source:I,min:T[1].length,max:T[0].length}):this.badOption(C,I)}break;case"scale":{const T=Number(I);T>0?(this.assertEmpty("scale"),x.scale=T):this.badOption(C,I);break}case"group-off":case"group-min2":case"group-auto":case"group-on-aligned":case"group-thousands":this.assertEmpty("group"),x.group=C;break;case"latin":this.assertEmpty("numberingSystem"),x.numberingSystem="latn";break;case"numbering-system":!function St(g){return-1!==["arab","arabext","bali","beng","deva","fullwide","gujr","guru","hanidec","khmr","knda","laoo","latn","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt"].indexOf(g)}(I)?this.badOption(C,I):(this.assertEmpty("numberingSystem"),x.numberingSystem=I);break;case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":this.assertEmpty("sign"),x.sign=C;break;case"decimal-auto":case"decimal-always":this.assertEmpty("decimal"),x.decimal=C;break;default:{const T=function Fe(g,C,y){const I=He(g,"fraction");if(I){C.length>1&&y(new Pe(g,C,1));const T={style:"precision-fraction",source:g,minFraction:I.min};null!=I.max&&(T.maxFraction=I.max);const Y=C[0],Te=He(Y,"significant");return Te?(T.source=`${g}/${Y}`,T.minSignificant=Te.min,null!=Te.max&&(T.maxSignificant=Te.max)):Y&&y(new J(g,Y)),T}const x=He(g,"significant");if(x){for(const Y of C)y(new J(g,Y));const T={style:"precision-fraction",source:g,minSignificant:x.min};return null!=x.max&&(T.maxSignificant=x.max),T}return null}(C,y,this.onError);T?(this.assertEmpty("precision"),x.precision=T):this.onError(new Ue(C))}}}}function Jt(g){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x=>{throw x};const y=[];for(const x of g.split(" "))if(x){const T=x.split("/"),Y=T.shift()||"";y.push({stem:Y,options:T})}const I=new yt(C);for(const{stem:x,options:T}of y)I.parseToken(x,T);return I.skeleton}function Mn(g,C,y,I){"string"==typeof C&&(C=0===C.indexOf("::")?Jt(C.slice(2),I):Ut(C,y,I));const x=ye(g,C),T=L(C,I),Y=function Ft(g){const C=mt(g),{precision:y}=g;return y&&"precision-increment"===y.style?I=>function wt(g,C){const y=+g+C/2;return y-y%+C}(I,y.increment)*C:I=>I*C}(C),Te=new Intl.NumberFormat(x,T);if(C.affix){const[nt,Dt]=C.affix.pos,[gn,jn]=C.affix.neg||["",""];return $n=>{const Qt=Te.format(Y($n));return $n<0?`${gn}${Qt}${jn}`:`${nt}${Qt}${Dt}`}}return nt=>Te.format(Y(nt))}function Ln(g,C,y,I){"string"==typeof C&&(C=0===C.indexOf("::")?Jt(C.slice(2),I):Ut(C,y,I));const x=ye(g,C),T=L(C,I),Y=function bt(g){const C=mt(g),{precision:y}=g;if(y&&"precision-increment"===y.style){let x=`x - (x % +${y.increment})`;return 1!==C&&(x=`(${x}) * ${C}`),`function(n) { var x = ${"+n + "+y.increment/2}; return ${x}; }`}return 1!==C?`function(n) { return n * ${C}; }`:null}(C),Te=["(function() {",`var opt = ${JSON.stringify(T)};`,`var nf = new Intl.NumberFormat(${JSON.stringify(x)}, opt);`];let nt="nf.format(value)";if(Y&&(Te.push(`var mod = ${Y};`),nt="nf.format(mod(value))"),C.affix){const[Dt,gn]=C.affix.pos.map(jn=>JSON.stringify(jn));if(C.affix.neg){const[jn,$n]=C.affix.neg.map(Qt=>JSON.stringify(Qt));nt=`value < 0 ? ${jn} + ${nt} + ${$n} : ${Dt} + ${nt} + ${gn}`}else nt=`${Dt} + ${nt} + ${gn}`}return Te.push(`return function(value) { return ${nt}; }`),Te.join("\n  ")+"\n})()"}var on=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cn(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var g,C,y,Pn={},Gn={},Sr={exports:{}};C=on,y=function(){var C=Object.prototype.hasOwnProperty,y=Object.prototype.toString,I="boolean"==typeof(new RegExp).sticky;function x(ut){return ut&&"[object RegExp]"===y.call(ut)}function T(ut){return ut&&"object"==typeof ut&&!x(ut)&&!Array.isArray(ut)}function Te(ut){return new RegExp("|"+ut).exec("").length-1}function nt(ut){return"("+ut+")"}function Dt(ut){return ut.length?"(?:"+ut.map(function(vn){return"(?:"+vn+")"}).join("|")+")":"(?!)"}function gn(ut){if("string"==typeof ut)return"(?:"+function Y(ut){return ut.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(ut)+")";if(x(ut)){if(ut.ignoreCase)throw new Error("RegExp /i flag not allowed");if(ut.global)throw new Error("RegExp /g flag is implied");if(ut.sticky)throw new Error("RegExp /y flag is implied");if(ut.multiline)throw new Error("RegExp /m flag is implied");return ut.source}throw new Error("Not a pattern: "+ut)}function jn(ut,$t){return ut.length>$t?ut:Array($t-ut.length+1).join(" ")+ut}function Cs(ut,$t){if(T($t)||($t={match:$t}),$t.include)throw new Error("Matching rules cannot also include states");var vn={defaultType:ut,lineBreaks:!!$t.error||!!$t.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var Tn in $t)C.call($t,Tn)&&(vn[Tn]=$t[Tn]);if("string"==typeof vn.type&&ut!==vn.type)throw new Error("Type transform cannot be a string (type '"+vn.type+"' for token '"+ut+"')");var Xn=vn.match;return vn.match=Array.isArray(Xn)?Xn:Xn?[Xn]:[],vn.match.sort(function(Bn,ar){return x(Bn)&&x(ar)?0:x(ar)?-1:x(Bn)?1:ar.length-Bn.length}),vn}function Fs(ut){return Array.isArray(ut)?function Or(ut){for(var $t=[],vn=0;vn<ut.length;vn++){var Tn=ut[vn];if(Tn.include)for(var Xn=[].concat(Tn.include),Bn=0;Bn<Xn.length;Bn++)$t.push({include:Xn[Bn]});else{if(!Tn.type)throw new Error("Rule has no type: "+JSON.stringify(Tn));$t.push(Cs(Tn.type,Tn))}}return $t}(ut):function Qt(ut){for(var $t=Object.getOwnPropertyNames(ut),vn=[],Tn=0;Tn<$t.length;Tn++){var Xn=$t[Tn],ar=[].concat(ut[Xn]);if("include"!==Xn){var Cr=[];ar.forEach(function(Jn){T(Jn)?(Cr.length&&vn.push(Cs(Xn,Cr)),vn.push(Cs(Xn,Jn)),Cr=[]):Cr.push(Jn)}),Cr.length&&vn.push(Cs(Xn,Cr))}else for(var ps=0;ps<ar.length;ps++)vn.push({include:ar[ps]})}return vn}(ut)}var Ri=Cs("error",{lineBreaks:!0,shouldThrow:!0});function _o(ut,$t){for(var vn=null,Tn=Object.create(null),Xn=!0,Bn=null,ar=[],ps=[],Cr=0;Cr<ut.length;Cr++)ut[Cr].fallback&&(Xn=!1);for(Cr=0;Cr<ut.length;Cr++){var Jn=ut[Cr];if(Jn.include)throw new Error("Inheritance is not allowed in stateless lexers");if(Jn.error||Jn.fallback){if(vn)throw!Jn.fallback==!vn.fallback?new Error("Multiple "+(Jn.fallback?"fallback":"error")+" rules not allowed (for token '"+Jn.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+Jn.defaultType+"')");vn=Jn}var Mi=Jn.match.slice();if(Xn)for(;Mi.length&&"string"==typeof Mi[0]&&1===Mi[0].length;)Tn[Mi.shift().charCodeAt(0)]=Jn;if(Jn.pop||Jn.push||Jn.next){if(!$t)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+Jn.defaultType+"')");if(Jn.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+Jn.defaultType+"')")}if(0!==Mi.length){Xn=!1,ar.push(Jn);for(var Ho=0;Ho<Mi.length;Ho++){var ni=Mi[Ho];if(x(ni))if(null===Bn)Bn=ni.unicode;else if(Bn!==ni.unicode&&!1===Jn.fallback)throw new Error("If one rule is /u then all must be")}var pi=Dt(Mi.map(gn)),zo=new RegExp(pi);if(zo.test(""))throw new Error("RegExp matches empty string: "+zo);if(Te(pi)>0)throw new Error("RegExp has capture groups: "+zo+"\nUse (?: \u2026 ) instead");if(!Jn.lineBreaks&&zo.test("\n"))throw new Error("Rule should declare lineBreaks: "+zo);ps.push(nt(pi))}}var Cc=vn&&vn.fallback,sh=I&&!Cc?"ym":"gm",hd=I||Cc?"":"|";return!0===Bn&&(sh+="u"),{regexp:new RegExp(Dt(ps)+hd,sh),groups:ar,fast:Tn,error:vn||Ri}}function Ba(ut,$t,vn){var Tn=ut&&(ut.push||ut.next);if(Tn&&!vn[Tn])throw new Error("Missing state '"+Tn+"' (in token '"+ut.defaultType+"' of state '"+$t+"')");if(ut&&ut.pop&&1!=+ut.pop)throw new Error("pop must be 1 (in token '"+ut.defaultType+"' of state '"+$t+"')")}var Ps=function(ut,$t){this.startState=$t,this.states=ut,this.buffer="",this.stack=[],this.reset()};Ps.prototype.reset=function(ut,$t){return this.buffer=ut||"",this.index=0,this.line=$t?$t.line:1,this.col=$t?$t.col:1,this.queuedToken=$t?$t.queuedToken:null,this.queuedText=$t?$t.queuedText:"",this.queuedThrow=$t?$t.queuedThrow:null,this.setState($t?$t.state:this.startState),this.stack=$t&&$t.stack?$t.stack.slice():[],this},Ps.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},Ps.prototype.setState=function(ut){if(ut&&this.state!==ut){this.state=ut;var $t=this.states[ut];this.groups=$t.groups,this.error=$t.error,this.re=$t.regexp,this.fast=$t.fast}},Ps.prototype.popState=function(){this.setState(this.stack.pop())},Ps.prototype.pushState=function(ut){this.stack.push(this.state),this.setState(ut)};var wc=I?function(ut,$t){return ut.exec($t)}:function(ut,$t){var vn=ut.exec($t);return 0===vn[0].length?null:vn};function ud(){return this.value}if(Ps.prototype._getGroup=function(ut){for(var $t=this.groups.length,vn=0;vn<$t;vn++)if(void 0!==ut[vn+1])return this.groups[vn];throw new Error("Cannot find token type for matched text")},Ps.prototype.next=function(){var ut=this.index;if(this.queuedGroup){var $t=this._token(this.queuedGroup,this.queuedText,ut);return this.queuedGroup=null,this.queuedText="",$t}var vn=this.buffer;if(ut!==vn.length){if(ar=this.fast[vn.charCodeAt(ut)])return this._token(ar,vn.charAt(ut),ut);var Tn=this.re;Tn.lastIndex=ut;var Xn=wc(Tn,vn),Bn=this.error;if(null==Xn)return this._token(Bn,vn.slice(ut,vn.length),ut);var ar=this._getGroup(Xn),ps=Xn[0];return Bn.fallback&&Xn.index!==ut?(this.queuedGroup=ar,this.queuedText=ps,this._token(Bn,vn.slice(ut,Xn.index),ut)):this._token(ar,ps,ut)}},Ps.prototype._token=function(ut,$t,vn){var Tn=0;if(ut.lineBreaks){var Xn=/\n/g,Bn=1;if("\n"===$t)Tn=1;else for(;Xn.exec($t);)Tn++,Bn=Xn.lastIndex}var ar={type:"function"==typeof ut.type&&ut.type($t)||ut.defaultType,value:"function"==typeof ut.value?ut.value($t):$t,text:$t,toString:ud,offset:vn,lineBreaks:Tn,line:this.line,col:this.col},ps=$t.length;if(this.index+=ps,this.line+=Tn,0!==Tn?this.col=ps-Bn+1:this.col+=ps,ut.shouldThrow)throw new Error(this.formatError(ar,"invalid syntax"));return ut.pop?this.popState():ut.push?this.pushState(ut.push):ut.next&&this.setState(ut.next),ar},typeof Symbol<"u"&&Symbol.iterator){var hl=function(ut){this.lexer=ut};hl.prototype.next=function(){var ut=this.lexer.next();return{value:ut,done:!ut}},hl.prototype[Symbol.iterator]=function(){return this},Ps.prototype[Symbol.iterator]=function(){return new hl(this)}}return Ps.prototype.formatError=function(ut,$t){if(null==ut){var vn=this.buffer.slice(this.index);ut={text:vn,offset:this.index,lineBreaks:-1===vn.indexOf("\n")?0:1,line:this.line,col:this.col}}var Xn=Math.max(ut.line-2,1),ar=String(ut.line+2).length,ps=function $n(ut,$t){for(var vn=ut.length,Tn=0;;){var Xn=ut.lastIndexOf("\n",vn-1);if(-1===Xn||(vn=Xn,++Tn===$t)||0===vn)break}return ut.substring(Tn<$t?0:vn+1).split("\n")}(this.buffer,this.line-ut.line+2+1).slice(0,5),Cr=[];Cr.push($t+" at line "+ut.line+" col "+ut.col+":"),Cr.push("");for(var Jn=0;Jn<ps.length;Jn++){var Mi=ps[Jn],dl=Xn+Jn;Cr.push(jn(String(dl),ar)+"  "+Mi),dl===ut.line&&Cr.push(jn("",ar+ut.col+1)+"^")}return Cr.join("\n")},Ps.prototype.clone=function(){return new Ps(this.states,this.state)},Ps.prototype.has=function(ut){return!0},{compile:function cl(ut){var $t=_o(Fs(ut));return new Ps({start:$t},"start")},states:function Uo(ut,$t){var vn=ut.$all?Fs(ut.$all):[];delete ut.$all;var Tn=Object.getOwnPropertyNames(ut);$t||($t=Tn[0]);for(var Xn=Object.create(null),Bn=0;Bn<Tn.length;Bn++)Xn[ar=Tn[Bn]]=Fs(ut[ar]).concat(vn);for(Bn=0;Bn<Tn.length;Bn++)for(var ps=Xn[ar=Tn[Bn]],Cr=Object.create(null),Jn=0;Jn<ps.length;Jn++){var Mi=ps[Jn];if(Mi.include){var dl=[Jn,1];if(Mi.include!==ar&&!Cr[Mi.include]){Cr[Mi.include]=!0;var Ho=Xn[Mi.include];if(!Ho)throw new Error("Cannot include nonexistent state '"+Mi.include+"' (in state '"+ar+"')");for(var ni=0;ni<Ho.length;ni++){var pi=Ho[ni];-1===ps.indexOf(pi)&&dl.push(pi)}}ps.splice.apply(ps,dl),Jn--}}var zo=Object.create(null);for(Bn=0;Bn<Tn.length;Bn++){var ar;zo[ar=Tn[Bn]]=_o(Xn[ar],!0)}for(Bn=0;Bn<Tn.length;Bn++){var rh=Tn[Bn],Cc=zo[rh],sh=Cc.groups;for(Jn=0;Jn<sh.length;Jn++)Ba(sh[Jn],rh,zo);var hd=Object.getOwnPropertyNames(Cc.fast);for(Jn=0;Jn<hd.length;Jn++)Ba(Cc.fast[hd[Jn]],rh,zo)}return new Ps(zo,$t)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function ul(ut){for(var $t=typeof Map<"u",vn=$t?new Map:Object.create(null),Tn=Object.getOwnPropertyNames(ut),Xn=0;Xn<Tn.length;Xn++){var Bn=Tn[Xn],ar=ut[Bn];(Array.isArray(ar)?ar:[ar]).forEach(function(Cr){if("string"!=typeof Cr)throw new Error("keyword must be string (in keyword '"+Bn+"')");$t?vn.set(Cr,Bn):vn[Cr]=Bn})}return function(Cr){return $t?vn.get(Cr):vn[Cr]}}}},(g=Sr).exports?g.exports=y():C.moo=y();var Jr=Sr.exports;(function(g){var C=on&&on.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(g,"__esModule",{value:!0}),g.lexer=g.states=void 0;const y=C(Jr);g.states={body:{doubleapos:{match:"''",value:()=>"'"},quoted:{lineBreaks:!0,match:/'[{}#](?:[^]*?[^'])?'(?!')/u,value:I=>I.slice(1,-1).replace(/''/g,"'")},argument:{lineBreaks:!0,match:/\{\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,push:"arg",value:I=>I.substring(1).trim()},octothorpe:"#",end:{match:"}",pop:1},content:{lineBreaks:!0,match:/[^][^{}#']*/u}},arg:{select:{lineBreaks:!0,match:/,\s*(?:plural|select|selectordinal)\s*,\s*/u,next:"select",value:I=>I.split(",")[1].trim()},"func-args":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*,/u,next:"body",value:I=>I.split(",")[1].trim()},"func-simple":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,value:I=>I.substring(1).trim()},end:{match:"}",pop:1}},select:{offset:{lineBreaks:!0,match:/\s*offset\s*:\s*\d+\s*/u,value:I=>I.split(":")[1].trim()},case:{lineBreaks:!0,match:/\s*(?:=\d+|[^\p{Pat_Syn}\p{Pat_WS}]+)\s*\{/u,push:"body",value:I=>I.substring(0,I.indexOf("{")).trim()},end:{match:/\s*\}/u,pop:1}}},g.lexer=y.default.states(g.states)})(Gn),Object.defineProperty(Pn,"__esModule",{value:!0});var B=Pn.parse=Pn.ParseError=void 0;const A=Gn,S=g=>({offset:g.offset,line:g.line,col:g.col,text:g.text,lineBreaks:g.lineBreaks}),U=g=>"plural"===g||"select"===g||"selectordinal"===g;const Ke=["number","date","time","spellout","ordinal","duration"],lt=["zero","one","two","few","many","other"];class an extends Error{constructor(C,y){super(A.lexer.formatError(C,y))}}Pn.ParseError=an;class Ee{constructor(C,y){var I,x,T,Y;this.lexer=A.lexer.reset(C),this.cardinalKeys=null!==(I=y?.cardinal)&&void 0!==I?I:lt,this.ordinalKeys=null!==(x=y?.ordinal)&&void 0!==x?x:lt,this.strict=null!==(T=y?.strict)&&void 0!==T&&T,this.strictPluralKeys=null===(Y=y?.strictPluralKeys)||void 0===Y||Y}parse(){return this.parseBody(!1,!0)}checkSelectKey(C,y,I){if("="===I[0]){if("select"===y)throw new an(C,`The case ${I} is not valid with select`)}else if("select"!==y){const x="plural"===y?this.cardinalKeys:this.ordinalKeys;if(this.strictPluralKeys&&x.length>0&&!x.includes(I))throw new an(C,`The ${y} case ${I} is not valid in this locale`)}}parseSelect(C,y,I,x){let{value:T}=C;const Y={type:x,arg:T,cases:[],ctx:I};"plural"===x||"selectordinal"===x?y=!0:this.strict&&(y=!1);for(const Te of this.lexer)switch(Te.type){case"offset":if("select"===x)throw new an(Te,"Unexpected plural offset for select");if(Y.cases.length>0)throw new an(Te,"Plural offset must be set before cases");Y.pluralOffset=Number(Te.value),I.text+=Te.text,I.lineBreaks+=Te.lineBreaks;break;case"case":this.checkSelectKey(Te,x,Te.value),Y.cases.push({key:Te.value,tokens:this.parseBody(y),ctx:S(Te)});break;case"end":return Y;default:throw new an(Te,`Unexpected lexer token: ${Te.type}`)}throw new an(null,"Unexpected message end")}parseArgToken(C,y){const I=S(C),x=this.lexer.next();if(!x)throw new an(null,"Unexpected message end");if(I.text+=x.text,I.lineBreaks+=x.lineBreaks,this.strict&&("func-simple"===x.type||"func-args"===x.type)&&!Ke.includes(x.value))throw new an(C,`Invalid strict mode function arg type: ${x.value}`);switch(x.type){case"end":return{type:"argument",arg:C.value,ctx:I};case"func-simple":{const T=this.lexer.next();if(!T)throw new an(null,"Unexpected message end");if("end"!==T.type)throw new an(T,`Unexpected lexer token: ${T.type}`);if(I.text+=T.text,U(x.value.toLowerCase()))throw new an(x,`Invalid type identifier: ${x.value}`);return{type:"function",arg:C.value,key:x.value,ctx:I}}case"func-args":{if(U(x.value.toLowerCase()))throw new an(x,`Invalid type identifier: ${x.value}`);let T=this.parseBody(!this.strict&&y);return this.strict&&T.length>0&&(T=function Me(g,C){let y="",I="";for(const T of C){const Y=T.ctx.text;switch(I+=Y,T.type){case"content":y+=T.value;break;case"argument":case"function":case"octothorpe":y+=Y;break;default:throw new an(g,`Unsupported part in strict mode function arg style: ${Y}`)}}return[{type:"content",value:y.trim(),ctx:Object.assign({},C[0].ctx,{text:I})}]}(C,T)),{type:"function",arg:C.value,key:x.value,param:T,ctx:I}}case"select":if(U(x.value))return this.parseSelect(C,y,I,x.value);throw new an(x,`Unexpected select type ${x.value}`);default:throw new an(x,`Unexpected lexer token: ${x.type}`)}}parseBody(C,y){const I=[];let x=null;for(const T of this.lexer)if("argument"===T.type)x&&(x=null),I.push(this.parseArgToken(T,C));else if("octothorpe"===T.type&&C)x&&(x=null),I.push({type:"octothorpe",ctx:S(T)});else{if("end"===T.type&&!y)return I;{let Y=T.value;if(!C&&"quoted"===T.type&&"#"===Y[0]){if(Y.includes("{"))throw new an(T,`Unsupported escape pattern: ${Y}`);Y=T.text}x?(x.value+=Y,x.ctx.text+=T.text,x.ctx.lineBreaks+=T.lineBreaks):(x={type:"content",value:Y,ctx:S(T)},I.push(x))}}if(y)return I;throw new an(null,"Unexpected message end")}}function le(g){return le[g]||(le[g]=new Intl.NumberFormat(g))}B=Pn.parse=function Re(g){return new Ee(g,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).parse()};var Rn=Object.freeze({__proto__:null,_nf:le,number:function ze(g,C,y){return le(g).format(C-y)},plural:function st(g,C,y,I,x){if({}.hasOwnProperty.call(I,g))return I[g];C&&(g-=C);var T=y(g,x);return T in I?I[T]:I.other},reqArgs:function zn(g,C){for(var y=0;y<g.length;++y)if(!C||void 0===C[g[y]])throw new Error("Message requires argument '".concat(g[y],"'"))},select:function qt(g,C){return{}.hasOwnProperty.call(C,g)?C[g]:C.other},strictNumber:function ct(g,C,y,I){var x=C-y;if(isNaN(x))throw new Error("`"+I+"` or its offset is not a number");return le(g).format(x)}});var ir={};function Mr(g,C){var y=String(g)+JSON.stringify(C);return ir[y]||(ir[y]=new Intl.NumberFormat(g,C)),ir[y]}var Gs=Object.freeze({__proto__:null,date:function Sn(g,C,y){var I={day:"numeric",month:"short",year:"numeric"};switch(y){case"full":I.weekday="long";case"long":I.month="long";break;case"short":I.month="numeric"}return new Date(g).toLocaleDateString(C,I)},duration:function cr(g){if("number"!=typeof g&&(g=Number(g)),!isFinite(g))return String(g);var C="";g<0?(C="-",g=Math.abs(g)):g=Number(g);var y=g%60,I=[Math.round(y)===y?y:y.toFixed(3)];return g<60?I.unshift(0):(g=Math.round((g-Number(I[0]))/60),I.unshift(g%60),g>=60&&(g=Math.round((g-Number(I[0]))/60),I.unshift(g))),C+I.shift()+":"+I.map(function(T){return Number(T)<10?"0"+String(T):String(T)}).join(":")},numberCurrency:function(g,C,y){return Mr(C,{style:"currency",currency:y,minimumFractionDigits:2,maximumFractionDigits:2}).format(g)},numberFmt:function Os(g,C,y,I){var x=y&&y.split(":")||[],T=x[0],Y=x[1];return Mr(C,{integer:{maximumFractionDigits:0},percent:{style:"percent"},currency:{style:"currency",currency:Y&&Y.trim()||I,minimumFractionDigits:2,maximumFractionDigits:2}}[T]||{}).format(g)},numberInteger:function(g,C){return Mr(C,{maximumFractionDigits:0}).format(g)},numberPercent:function(g,C){return Mr(C,{style:"percent"}).format(g)},time:function ea(g,C,y){var I={second:"numeric",minute:"numeric",hour:"numeric"};switch(y){case"full":case"long":I.timeZoneName="short";break;case"short":delete I.second}return new Date(g).toLocaleTimeString(C,I)}}),et=cn({ES3:{break:!0,continue:!0,delete:!0,else:!0,for:!0,function:!0,if:!0,in:!0,new:!0,return:!0,this:!0,typeof:!0,var:!0,void:!0,while:!0,with:!0,case:!0,catch:!0,default:!0,do:!0,finally:!0,instanceof:!0,switch:!0,throw:!0,try:!0},ESnext:{await:!0,debugger:!0,class:!0,enum:!0,extends:!0,super:!0,const:!0,export:!0,import:!0,null:!0,true:!0,false:!0,implements:!0,let:!0,private:!0,public:!0,yield:!0,interface:!0,package:!0,protected:!0,static:!0}});function $e(g,C){C&&(g+=" "+function Et(g){let C=0;for(let y=0;y<g.length;++y)C=(C<<5)-C+g.charCodeAt(y),C|=0;return C}(g).toString(36));const y=g.trim().replace(/\W+/g,"_");return et.ES3[y]||et.ESnext[y]||/^\d/.test(y)?"_"+y:y}function Qn(g,C){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(C)&&!et.ES3[C])return g?g+"."+C:C;{const y=JSON.stringify(C);return g?g+"["+y+"]":y}}var pr=new RegExp("^"+["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"].join("|^"));var xs="@messageformat/runtime/lib/plurals",Ds=function(){function g(C){this.arguments=[],this.runtime={},this.options=C}return g.prototype.compile=function(C,y,I){var x,T,Y=this,Te=this.options,nt=Te.localeCodeFromKey,Dt=Te.requireAllArguments,gn=Te.strict,jn=Te.strictPluralKeys;if("object"==typeof C){var $n={};try{for(var Qt=K(Object.keys(C)),Or=Qt.next();!Or.done;Or=Qt.next()){var Cs=Or.value,Fs=nt?nt(Cs):Cs;$n[Cs]=this.compile(C[Cs],I&&Fs&&I[Fs]||y,I)}}catch(Ps){x={error:Ps}}finally{try{Or&&!Or.done&&(T=Qt.return)&&T.call(Qt)}finally{if(x)throw x.error}}return $n}this.plural=y;var _o={cardinal:y.cardinals,ordinal:y.ordinals,strict:gn,strictPluralKeys:jn};this.arguments=[];var cl=B(C,_o).map(function(Ps){return Y.token(Ps,null)}),Ba=this.arguments.length>0,Uo=this.concatenate(cl,!0);if(Dt&&Ba){this.setRuntimeFn("reqArgs");var ul=JSON.stringify(this.arguments);return"(d) => { reqArgs(".concat(ul,", d); return ").concat(Uo,"; }")}return"(".concat(Ba?"d":"",") => ").concat(Uo)},g.prototype.cases=function(C,y){var I=this,x=!0,T=C.cases.map(function(gn){var jn=gn.key;"other"===jn&&(x=!1);var Qt=gn.tokens.map(function(Or){return I.token(Or,y)});return"".concat(Qn(null,jn.replace(/^=/,"")),": ").concat(I.concatenate(Qt,!1))});if(x){var Y=C.type,Te=this.plural,Dt=Te.ordinals;if("select"===Y||"plural"===Y&&Te.cardinals.includes("other")||"selectordinal"===Y&&Dt.includes("other"))throw new Error("No 'other' form found in ".concat(JSON.stringify(C)))}return"{ ".concat(T.join(", ")," }")},g.prototype.concatenate=function(C,y){return"values"===this.options.returnType&&(y||C.length>1)?"["+C.join(", ")+"]":C.join(" + ")||'""'},g.prototype.token=function(C,y){if("content"===C.type)return JSON.stringify(C.value);var Y,Te,I=this.plural,x=I.id,T=I.lc;switch("arg"in C?(this.arguments.push(C.arg),Y=[Qn("d",C.arg)]):Y=[],C.type){case"argument":return this.options.biDiSupport?function ur(g,C){var y=pr.test(C),I=JSON.stringify(y?"\u200f":"\u200e");return"".concat(I," + ").concat(g," + ").concat(I)}(String(Y[0]),T):String(Y[0]);case"select":Te="select",y&&this.options.strict&&(y=null),Y.push(this.cases(C,y)),this.setRuntimeFn("select");break;case"selectordinal":Te="plural",Y.push(C.pluralOffset||0,x,this.cases(C,C),1),this.setLocale(x,!0),this.setRuntimeFn("plural");break;case"plural":Te="plural",Y.push(C.pluralOffset||0,x,this.cases(C,C)),this.setLocale(x,!1),this.setRuntimeFn("plural");break;case"function":var nt=this.options.customFormatters[C.key],Dt=nt&&"module"in nt&&"function"==typeof nt.module;if(!nt){if("date"===C.key){Te=this.setDateFormatter(C,Y,y);break}if("number"===C.key){Te=this.setNumberFormatter(C,Y,y);break}}if(Y.push(JSON.stringify(this.plural.locale)),C.param){y&&this.options.strict&&(y=null);var gn=this.getFormatterArg(C,y);gn&&Y.push(gn)}Te=Dt?$e("".concat(C.key,"__").concat(this.plural.locale)):C.key,this.setFormatter(Te,C.key);break;case"octothorpe":if(!y)return'"#"';Y=[JSON.stringify(this.plural.locale),Qn("d",y.arg),y.pluralOffset||0],this.options.strict?(Te="strictNumber",Y.push(JSON.stringify(y.arg)),this.setRuntimeFn("strictNumber")):(Te="number",this.setRuntimeFn("number"))}if(!Te)throw new Error("Parser error for token "+JSON.stringify(C));return"".concat(Te,"(").concat(Y.join(", "),")")},g.prototype.runtimeIncludes=function(C,y){if($e(C)!==C)throw new SyntaxError("Reserved word used as ".concat(y," identifier: ").concat(C));var I=this.runtime[C];if(!I||I.type===y)return I;throw new TypeError("Cannot override ".concat(I.type," runtime function as ").concat(y,": ").concat(C))},g.prototype.setLocale=function(C,y){var nt,Dt,gn,I=this.runtimeIncludes(C,"locale"),x=this.plural,T=x.getCardinal,Y=x.getPlural,Te=x.isDefault;if(!y&&Te&&T){if(I)return;nt=function(jn){return T(jn)},Dt="@messageformat/runtime/lib/cardinals",gn=function(){return String(T)}}else{if(I&&(!Te||I.module===xs))return;nt=function(jn,$n){return Y(jn,$n)},Dt=Te?xs:Y.module||null,gn=function(){return String(Y)}}this.runtime[C]=Object.assign(nt,{id:C,module:Dt,toString:gn,type:"locale"})},g.prototype.setRuntimeFn=function(C){this.runtimeIncludes(C,"runtime")||(this.runtime[C]=Object.assign(Rn[C],{id:C,module:"@messageformat/runtime",type:"runtime"}))},g.prototype.getFormatterArg=function(C,y){var I,x,T,Y,Te=this,nt=C.key,Dt=C.param,gn=this.options.customFormatters[nt]||Qs(nt)&&Gs[nt];if(!gn||!Dt)return null;var jn="arg"in gn&&gn.arg||"string";if("options"===jn){var $n="";try{for(var Qt=K(Dt),Or=Qt.next();!Or.done;Or=Qt.next()){var Cs=Or.value;if("content"!==Cs.type)throw new SyntaxError("Expected literal options for ".concat(nt," formatter"));$n+=Cs.value}}catch(hl){I={error:hl}}finally{try{Or&&!Or.done&&(x=Qt.return)&&x.call(Qt)}finally{if(I)throw I.error}}var Fs={};try{for(var Ri=K($n.split(",")),_o=Ri.next();!_o.done;_o=Ri.next()){var cl=_o.value,Ba=cl.indexOf(":");if(-1===Ba)Fs[cl.trim()]=null;else{var Uo=cl.substring(0,Ba).trim(),ul=cl.substring(Ba+1).trim();if("true"===ul)Fs[Uo]=!0;else if("false"===ul)Fs[Uo]=!1;else if("null"===ul)Fs[Uo]=null;else{var Ps=Number(ul);Fs[Uo]=Number.isFinite(Ps)?Ps:ul}}}}catch(hl){T={error:hl}}finally{try{_o&&!_o.done&&(Y=Ri.return)&&Y.call(Ri)}finally{if(T)throw T.error}}return JSON.stringify(Fs)}var wc=Dt.map(function(hl){return Te.token(hl,y)});if("raw"===jn)return"[".concat(wc.join(", "),"]");var ud=wc.join(" + ");return ud?"(".concat(ud,").trim()"):'""'},g.prototype.setFormatter=function(C,y){if(!this.runtimeIncludes(C,"formatter")){var I=this.options.customFormatters[y||C];if(I){var x="function"==typeof I?{formatter:I}:I;this.runtime[C]=Object.assign(x.formatter.bind({}),je(je({},x.formatter.prototype),{toString:function(){return String(x.formatter)}}),{type:"formatter"},"module"in I&&I.module&&I.id?{id:$e(I.id),module:"function"==typeof I.module?I.module(this.plural.locale):I.module}:{id:null,module:null})}else{if(!Qs(C))throw new Error("Formatting function not found: ".concat(C));this.runtime[C]=Object.assign(Gs[C],{type:"formatter"},{id:C,module:"@messageformat/runtime/lib/formatters"})}}},g.prototype.setDateFormatter=function(C,y,I){var x=this,T=C.param,Y=this.plural.locale,Te=T&&1===T.length&&T[0];if(Te&&"content"===Te.type&&/^\s*::/.test(Te.value)){var nt=Te.value.trim().substr(2),Dt=$e("date_".concat(Y,"_").concat(nt),!0);if(!this.runtimeIncludes(Dt,"formatter")){var gn=function ae(g,C,y,I){"string"==typeof C&&(C=D(C)),"function"==typeof y&&(I=y,y=void 0);const x=j(C,y,I),T=new Intl.DateTimeFormat(g,x);return Y=>T.format(Y)}(Y,nt,this.options.timeZone);this.runtime[Dt]=Object.assign(gn,{id:Dt,module:null,toString:function(){return function ue(g,C,y,I){"string"==typeof C&&(C=D(C)),"function"==typeof y&&(I=y,y=void 0);const x=j(C,y,I);return["(function() {",`var opt = ${JSON.stringify(x)};`,`var dtf = new Intl.DateTimeFormat(${JSON.stringify(g)}, opt);`,"return function(value) { return dtf.format(value); }"].join("\n  ")+"\n})()"}(Y,nt,x.options.timeZone)},type:"formatter"})}return Dt}if(y.push(JSON.stringify(Y)),T&&T.length>0){I&&this.options.strict&&(I=null);var jn=T.map(function($n){return x.token($n,I)});y.push("("+(jn.join(" + ")||'""')+").trim()")}return this.setFormatter("date"),"date"},g.prototype.setNumberFormatter=function(C,y,I){var x=this,T=C.param,Y=this.plural.locale;if(!T||0===T.length)return y.unshift(JSON.stringify(Y)),y.push("0"),this.setRuntimeFn("number"),"number";if(y.push(JSON.stringify(Y)),1===T.length&&"content"===T[0].type){var Te=T[0].value.trim();switch(Te){case"currency":return y.push(JSON.stringify(this.options.currency)),this.setFormatter("numberCurrency"),"numberCurrency";case"integer":return this.setFormatter("numberInteger"),"numberInteger";case"percent":return this.setFormatter("numberPercent"),"numberPercent"}var nt=Te.match(/^currency:([A-Z]+)$/);if(nt)return y.push(JSON.stringify(nt[1])),this.setFormatter("numberCurrency"),"numberCurrency";var Dt=$e("number_".concat(Y,"_").concat(Te),!0);if(!this.runtimeIncludes(Dt,"formatter")){var gn=this.options.currency,jn=Mn(Y,Te,gn);this.runtime[Dt]=Object.assign(jn,{id:null,module:null,toString:function(){return Ln(Y,Te,gn)},type:"formatter"})}return Dt}I&&this.options.strict&&(I=null);var $n=T.map(function(Qt){return x.token(Qt,I)});return y.push("("+($n.join(" + ")||'""')+").trim()"),y.push(JSON.stringify(this.options.currency)),this.setFormatter("numberFmt"),"numberFmt"},g}();function Qs(g){return g in Gs}const Mt=g=>1==g?"one":"other",wr=g=>0==g||1==g?"one":"other",Bs=g=>g>=0&&g<=1?"one":"other",cs=g=>{const C=String(g).split(".");return 1!=g||C[1]?"other":"one"},un=g=>"other",oo=g=>1==g?"one":2==g?"two":"other";var Oo=Object.freeze({__proto__:null,af:Mt,ak:wr,am:Bs,an:Mt,ar:g=>{const C=String(g).split("."),I=Number(C[0])==g&&C[0].slice(-2);return 0==g?"zero":1==g?"one":2==g?"two":I>=3&&I<=10?"few":I>=11&&I<=99?"many":"other"},ars:g=>{const C=String(g).split("."),I=Number(C[0])==g&&C[0].slice(-2);return 0==g?"zero":1==g?"one":2==g?"two":I>=3&&I<=10?"few":I>=11&&I<=99?"many":"other"},as:Bs,asa:Mt,ast:cs,az:Mt,bal:Mt,be:g=>{const C=String(g).split("."),y=Number(C[0])==g,I=y&&C[0].slice(-1),x=y&&C[0].slice(-2);return 1==I&&11!=x?"one":I>=2&&I<=4&&(x<12||x>14)?"few":y&&0==I||I>=5&&I<=9||x>=11&&x<=14?"many":"other"},bem:Mt,bez:Mt,bg:Mt,bho:wr,bm:un,bn:Bs,bo:un,br:g=>{const C=String(g).split("."),y=Number(C[0])==g,I=y&&C[0].slice(-1),x=y&&C[0].slice(-2),T=y&&C[0].slice(-6);return 1==I&&11!=x&&71!=x&&91!=x?"one":2==I&&12!=x&&72!=x&&92!=x?"two":(3==I||4==I||9==I)&&(x<10||x>19)&&(x<70||x>79)&&(x<90||x>99)?"few":0!=g&&y&&0==T?"many":"other"},brx:Mt,bs:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],T=y.slice(-1),Y=y.slice(-2),Te=I.slice(-1),nt=I.slice(-2);return x&&1==T&&11!=Y||1==Te&&11!=nt?"one":x&&T>=2&&T<=4&&(Y<12||Y>14)||Te>=2&&Te<=4&&(nt<12||nt>14)?"few":"other"},ca:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-6);return 1==g&&I?"one":0!=y&&0==x&&I?"many":"other"},ce:Mt,ceb:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],T=y.slice(-1),Y=I.slice(-1);return x&&(1==y||2==y||3==y)||x&&4!=T&&6!=T&&9!=T||!x&&4!=Y&&6!=Y&&9!=Y?"one":"other"},cgg:Mt,chr:Mt,ckb:Mt,cs:g=>{const C=String(g).split("."),y=C[0],I=!C[1];return 1==g&&I?"one":y>=2&&y<=4&&I?"few":I?"other":"many"},cy:g=>0==g?"zero":1==g?"one":2==g?"two":3==g?"few":6==g?"many":"other",da:g=>{const C=String(g).split("."),y=C[0],I=Number(C[0])==g;return 1!=g&&(I||0!=y&&1!=y)?"other":"one"},de:cs,doi:Bs,dsb:g=>{const C=String(g).split("."),I=C[1]||"",x=!C[1],T=C[0].slice(-2),Y=I.slice(-2);return x&&1==T||1==Y?"one":x&&2==T||2==Y?"two":x&&(3==T||4==T)||3==Y||4==Y?"few":"other"},dv:Mt,dz:un,ee:Mt,el:Mt,en:cs,eo:Mt,es:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-6);return 1==g?"one":0!=y&&0==x&&I?"many":"other"},et:cs,eu:Mt,fa:Bs,ff:g=>g>=0&&g<2?"one":"other",fi:cs,fil:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],T=y.slice(-1),Y=I.slice(-1);return x&&(1==y||2==y||3==y)||x&&4!=T&&6!=T&&9!=T||!x&&4!=Y&&6!=Y&&9!=Y?"one":"other"},fo:Mt,fr:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-6);return g>=0&&g<2?"one":0!=y&&0==x&&I?"many":"other"},fur:Mt,fy:cs,ga:g=>{const C=String(g).split("."),y=Number(C[0])==g;return 1==g?"one":2==g?"two":y&&g>=3&&g<=6?"few":y&&g>=7&&g<=10?"many":"other"},gd:g=>{const C=String(g).split("."),y=Number(C[0])==g;return 1==g||11==g?"one":2==g||12==g?"two":y&&g>=3&&g<=10||y&&g>=13&&g<=19?"few":"other"},gl:cs,gsw:Mt,gu:Bs,guw:wr,gv:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-1),T=y.slice(-2);return I&&1==x?"one":I&&2==x?"two":!I||0!=T&&20!=T&&40!=T&&60!=T&&80!=T?I?"other":"many":"few"},ha:Mt,haw:Mt,he:g=>{const C=String(g).split("."),y=C[0],I=!C[1];return 1==y&&I||0==y&&!I?"one":2==y&&I?"two":"other"},hi:Bs,hnj:un,hr:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],T=y.slice(-1),Y=y.slice(-2),Te=I.slice(-1),nt=I.slice(-2);return x&&1==T&&11!=Y||1==Te&&11!=nt?"one":x&&T>=2&&T<=4&&(Y<12||Y>14)||Te>=2&&Te<=4&&(nt<12||nt>14)?"few":"other"},hsb:g=>{const C=String(g).split("."),I=C[1]||"",x=!C[1],T=C[0].slice(-2),Y=I.slice(-2);return x&&1==T||1==Y?"one":x&&2==T||2==Y?"two":x&&(3==T||4==T)||3==Y||4==Y?"few":"other"},hu:Mt,hy:g=>g>=0&&g<2?"one":"other",ia:cs,id:un,ig:un,ii:un,io:cs,is:g=>{const C=String(g).split("."),y=C[0],I=(C[1]||"").replace(/0+$/,""),x=Number(C[0])==g,T=y.slice(-1),Y=y.slice(-2);return x&&1==T&&11!=Y||I%10==1&&I%100!=11?"one":"other"},it:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-6);return 1==g&&I?"one":0!=y&&0==x&&I?"many":"other"},iu:oo,ja:un,jbo:un,jgo:Mt,jmc:Mt,jv:un,jw:un,ka:Mt,kab:g=>g>=0&&g<2?"one":"other",kaj:Mt,kcg:Mt,kde:un,kea:un,kk:Mt,kkj:Mt,kl:Mt,km:un,kn:Bs,ko:un,ks:Mt,ksb:Mt,ksh:g=>0==g?"zero":1==g?"one":"other",ku:Mt,kw:g=>{const C=String(g).split("."),y=Number(C[0])==g,I=y&&C[0].slice(-2),x=y&&C[0].slice(-3),T=y&&C[0].slice(-5),Y=y&&C[0].slice(-6);return 0==g?"zero":1==g?"one":2==I||22==I||42==I||62==I||82==I||y&&0==x&&(T>=1e3&&T<=2e4||4e4==T||6e4==T||8e4==T)||0!=g&&1e5==Y?"two":3==I||23==I||43==I||63==I||83==I?"few":1==g||1!=I&&21!=I&&41!=I&&61!=I&&81!=I?"other":"many"},ky:Mt,lag:g=>{const y=String(g).split(".")[0];return 0==g?"zero":0!=y&&1!=y||0==g?"other":"one"},lb:Mt,lg:Mt,lij:cs,lkt:un,ln:wr,lo:un,lt:g=>{const C=String(g).split("."),y=C[1]||"",I=Number(C[0])==g,x=I&&C[0].slice(-1),T=I&&C[0].slice(-2);return 1==x&&(T<11||T>19)?"one":x>=2&&x<=9&&(T<11||T>19)?"few":0!=y?"many":"other"},lv:g=>{const C=String(g).split("."),y=C[1]||"",I=y.length,x=Number(C[0])==g,T=x&&C[0].slice(-1),Y=x&&C[0].slice(-2),Te=y.slice(-2),nt=y.slice(-1);return x&&0==T||Y>=11&&Y<=19||2==I&&Te>=11&&Te<=19?"zero":1==T&&11!=Y||2==I&&1==nt&&11!=Te||2!=I&&1==nt?"one":"other"},mas:Mt,mg:wr,mgo:Mt,mk:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],T=y.slice(-1),Y=y.slice(-2),Te=I.slice(-1),nt=I.slice(-2);return x&&1==T&&11!=Y||1==Te&&11!=nt?"one":"other"},ml:Mt,mn:Mt,mo:g=>{const C=String(g).split("."),y=!C[1],x=Number(C[0])==g&&C[0].slice(-2);return 1==g&&y?"one":!y||0==g||1!=g&&x>=1&&x<=19?"few":"other"},mr:Mt,ms:un,mt:g=>{const C=String(g).split("."),I=Number(C[0])==g&&C[0].slice(-2);return 1==g?"one":2==g?"two":0==g||I>=3&&I<=10?"few":I>=11&&I<=19?"many":"other"},my:un,nah:Mt,naq:oo,nb:Mt,nd:Mt,ne:Mt,nl:cs,nn:Mt,nnh:Mt,no:Mt,nqo:un,nr:Mt,nso:wr,ny:Mt,nyn:Mt,om:Mt,or:Mt,os:Mt,osa:un,pa:wr,pap:Mt,pcm:Bs,pl:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-1),T=y.slice(-2);return 1==g&&I?"one":I&&x>=2&&x<=4&&(T<12||T>14)?"few":I&&1!=y&&(0==x||1==x)||I&&x>=5&&x<=9||I&&T>=12&&T<=14?"many":"other"},prg:g=>{const C=String(g).split("."),y=C[1]||"",I=y.length,x=Number(C[0])==g,T=x&&C[0].slice(-1),Y=x&&C[0].slice(-2),Te=y.slice(-2),nt=y.slice(-1);return x&&0==T||Y>=11&&Y<=19||2==I&&Te>=11&&Te<=19?"zero":1==T&&11!=Y||2==I&&1==nt&&11!=Te||2!=I&&1==nt?"one":"other"},ps:Mt,pt:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-6);return 0==y||1==y?"one":0!=y&&0==x&&I?"many":"other"},pt_PT:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-6);return 1==g&&I?"one":0!=y&&0==x&&I?"many":"other"},rm:Mt,ro:g=>{const C=String(g).split("."),y=!C[1],x=Number(C[0])==g&&C[0].slice(-2);return 1==g&&y?"one":!y||0==g||1!=g&&x>=1&&x<=19?"few":"other"},rof:Mt,ru:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-1),T=y.slice(-2);return I&&1==x&&11!=T?"one":I&&x>=2&&x<=4&&(T<12||T>14)?"few":I&&0==x||I&&x>=5&&x<=9||I&&T>=11&&T<=14?"many":"other"},rwk:Mt,sah:un,saq:Mt,sat:oo,sc:cs,scn:cs,sd:Mt,sdh:Mt,se:oo,seh:Mt,ses:un,sg:un,sh:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],T=y.slice(-1),Y=y.slice(-2),Te=I.slice(-1),nt=I.slice(-2);return x&&1==T&&11!=Y||1==Te&&11!=nt?"one":x&&T>=2&&T<=4&&(Y<12||Y>14)||Te>=2&&Te<=4&&(nt<12||nt>14)?"few":"other"},shi:g=>{const C=String(g).split("."),y=Number(C[0])==g;return g>=0&&g<=1?"one":y&&g>=2&&g<=10?"few":"other"},si:g=>{const C=String(g).split(".");return 0==g||1==g||0==C[0]&&1==(C[1]||"")?"one":"other"},sk:g=>{const C=String(g).split("."),y=C[0],I=!C[1];return 1==g&&I?"one":y>=2&&y<=4&&I?"few":I?"other":"many"},sl:g=>{const C=String(g).split("."),I=!C[1],x=C[0].slice(-2);return I&&1==x?"one":I&&2==x?"two":I&&(3==x||4==x)||!I?"few":"other"},sma:oo,smi:oo,smj:oo,smn:oo,sms:oo,sn:Mt,so:Mt,sq:Mt,sr:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],T=y.slice(-1),Y=y.slice(-2),Te=I.slice(-1),nt=I.slice(-2);return x&&1==T&&11!=Y||1==Te&&11!=nt?"one":x&&T>=2&&T<=4&&(Y<12||Y>14)||Te>=2&&Te<=4&&(nt<12||nt>14)?"few":"other"},ss:Mt,ssy:Mt,st:Mt,su:un,sv:cs,sw:cs,syr:Mt,ta:Mt,te:Mt,teo:Mt,th:un,ti:wr,tig:Mt,tk:Mt,tl:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],T=y.slice(-1),Y=I.slice(-1);return x&&(1==y||2==y||3==y)||x&&4!=T&&6!=T&&9!=T||!x&&4!=Y&&6!=Y&&9!=Y?"one":"other"},tn:Mt,to:un,tpi:un,tr:Mt,ts:Mt,tzm:g=>{const C=String(g).split("."),y=Number(C[0])==g;return 0==g||1==g||y&&g>=11&&g<=99?"one":"other"},ug:Mt,uk:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-1),T=y.slice(-2);return I&&1==x&&11!=T?"one":I&&x>=2&&x<=4&&(T<12||T>14)?"few":I&&0==x||I&&x>=5&&x<=9||I&&T>=11&&T<=14?"many":"other"},und:un,ur:cs,uz:Mt,ve:Mt,vec:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-6);return 1==g&&I?"one":0!=y&&0==x&&I?"many":"other"},vi:un,vo:Mt,vun:Mt,wa:wr,wae:Mt,wo:un,xh:Mt,xog:Mt,yi:cs,yo:un,yue:un,zh:un,zu:Bs});const hs="zero",Lt="one",kr="two",dn="few",yn="many",ft="other",Ze={cardinal:[Lt,ft],ordinal:[ft]},Go={cardinal:[Lt,ft],ordinal:[Lt,ft]},Hr={cardinal:[ft],ordinal:[ft]},Gi={cardinal:[Lt,kr,ft],ordinal:[ft]};var lf=Object.freeze({__proto__:null,af:Ze,ak:Ze,am:Ze,an:Ze,ar:{cardinal:[hs,Lt,kr,dn,yn,ft],ordinal:[ft]},ars:{cardinal:[hs,Lt,kr,dn,yn,ft],ordinal:[ft]},as:{cardinal:[Lt,ft],ordinal:[Lt,kr,dn,yn,ft]},asa:Ze,ast:Ze,az:{cardinal:[Lt,ft],ordinal:[Lt,dn,yn,ft]},bal:Go,be:{cardinal:[Lt,dn,yn,ft],ordinal:[dn,ft]},bem:Ze,bez:Ze,bg:Ze,bho:Ze,bm:Hr,bn:{cardinal:[Lt,ft],ordinal:[Lt,kr,dn,yn,ft]},bo:Hr,br:{cardinal:[Lt,kr,dn,yn,ft],ordinal:[ft]},brx:Ze,bs:{cardinal:[Lt,dn,ft],ordinal:[ft]},ca:{cardinal:[Lt,yn,ft],ordinal:[Lt,kr,dn,ft]},ce:Ze,ceb:Ze,cgg:Ze,chr:Ze,ckb:Ze,cs:{cardinal:[Lt,dn,yn,ft],ordinal:[ft]},cy:{cardinal:[hs,Lt,kr,dn,yn,ft],ordinal:[hs,Lt,kr,dn,yn,ft]},da:Ze,de:Ze,doi:Ze,dsb:{cardinal:[Lt,kr,dn,ft],ordinal:[ft]},dv:Ze,dz:Hr,ee:Ze,el:Ze,en:{cardinal:[Lt,ft],ordinal:[Lt,kr,dn,ft]},eo:Ze,es:{cardinal:[Lt,yn,ft],ordinal:[ft]},et:Ze,eu:Ze,fa:Ze,ff:Ze,fi:Ze,fil:Go,fo:Ze,fr:{cardinal:[Lt,yn,ft],ordinal:[Lt,ft]},fur:Ze,fy:Ze,ga:{cardinal:[Lt,kr,dn,yn,ft],ordinal:[Lt,ft]},gd:{cardinal:[Lt,kr,dn,ft],ordinal:[Lt,kr,dn,ft]},gl:Ze,gsw:Ze,gu:{cardinal:[Lt,ft],ordinal:[Lt,kr,dn,yn,ft]},guw:Ze,gv:{cardinal:[Lt,kr,dn,yn,ft],ordinal:[ft]},ha:Ze,haw:Ze,he:Gi,hi:{cardinal:[Lt,ft],ordinal:[Lt,kr,dn,yn,ft]},hnj:Hr,hr:{cardinal:[Lt,dn,ft],ordinal:[ft]},hsb:{cardinal:[Lt,kr,dn,ft],ordinal:[ft]},hu:Go,hy:Go,ia:Ze,id:Hr,ig:Hr,ii:Hr,io:Ze,is:Ze,it:{cardinal:[Lt,yn,ft],ordinal:[yn,ft]},iu:Gi,ja:Hr,jbo:Hr,jgo:Ze,jmc:Ze,jv:Hr,jw:Hr,ka:{cardinal:[Lt,ft],ordinal:[Lt,yn,ft]},kab:Ze,kaj:Ze,kcg:Ze,kde:Hr,kea:Hr,kk:{cardinal:[Lt,ft],ordinal:[yn,ft]},kkj:Ze,kl:Ze,km:Hr,kn:Ze,ko:Hr,ks:Ze,ksb:Ze,ksh:{cardinal:[hs,Lt,ft],ordinal:[ft]},ku:Ze,kw:{cardinal:[hs,Lt,kr,dn,yn,ft],ordinal:[Lt,yn,ft]},ky:Ze,lag:{cardinal:[hs,Lt,ft],ordinal:[ft]},lb:Ze,lg:Ze,lij:{cardinal:[Lt,ft],ordinal:[yn,ft]},lkt:Hr,ln:Ze,lo:{cardinal:[ft],ordinal:[Lt,ft]},lt:{cardinal:[Lt,dn,yn,ft],ordinal:[ft]},lv:{cardinal:[hs,Lt,ft],ordinal:[ft]},mas:Ze,mg:Ze,mgo:Ze,mk:{cardinal:[Lt,ft],ordinal:[Lt,kr,yn,ft]},ml:Ze,mn:Ze,mo:{cardinal:[Lt,dn,ft],ordinal:[Lt,ft]},mr:{cardinal:[Lt,ft],ordinal:[Lt,kr,dn,ft]},ms:{cardinal:[ft],ordinal:[Lt,ft]},mt:{cardinal:[Lt,kr,dn,yn,ft],ordinal:[ft]},my:Hr,nah:Ze,naq:Gi,nb:Ze,nd:Ze,ne:Go,nl:Ze,nn:Ze,nnh:Ze,no:Ze,nqo:Hr,nr:Ze,nso:Ze,ny:Ze,nyn:Ze,om:Ze,or:{cardinal:[Lt,ft],ordinal:[Lt,kr,dn,yn,ft]},os:Ze,osa:Hr,pa:Ze,pap:Ze,pcm:Ze,pl:{cardinal:[Lt,dn,yn,ft],ordinal:[ft]},prg:{cardinal:[hs,Lt,ft],ordinal:[ft]},ps:Ze,pt:{cardinal:[Lt,yn,ft],ordinal:[ft]},pt_PT:{cardinal:[Lt,yn,ft],ordinal:[ft]},rm:Ze,ro:{cardinal:[Lt,dn,ft],ordinal:[Lt,ft]},rof:Ze,ru:{cardinal:[Lt,dn,yn,ft],ordinal:[ft]},rwk:Ze,sah:Hr,saq:Ze,sat:Gi,sc:{cardinal:[Lt,ft],ordinal:[yn,ft]},scn:{cardinal:[Lt,ft],ordinal:[yn,ft]},sd:Ze,sdh:Ze,se:Gi,seh:Ze,ses:Hr,sg:Hr,sh:{cardinal:[Lt,dn,ft],ordinal:[ft]},shi:{cardinal:[Lt,dn,ft],ordinal:[ft]},si:Ze,sk:{cardinal:[Lt,dn,yn,ft],ordinal:[ft]},sl:{cardinal:[Lt,kr,dn,ft],ordinal:[ft]},sma:Gi,smi:Gi,smj:Gi,smn:Gi,sms:Gi,sn:Ze,so:Ze,sq:{cardinal:[Lt,ft],ordinal:[Lt,yn,ft]},sr:{cardinal:[Lt,dn,ft],ordinal:[ft]},ss:Ze,ssy:Ze,st:Ze,su:Hr,sv:Go,sw:Ze,syr:Ze,ta:Ze,te:Ze,teo:Ze,th:Hr,ti:Ze,tig:Ze,tk:{cardinal:[Lt,ft],ordinal:[dn,ft]},tl:Go,tn:Ze,to:Hr,tpi:Hr,tr:Ze,ts:Ze,tzm:Ze,ug:Ze,uk:{cardinal:[Lt,dn,yn,ft],ordinal:[dn,ft]},und:Hr,ur:Ze,uz:Ze,ve:Ze,vec:{cardinal:[Lt,yn,ft],ordinal:[yn,ft]},vi:{cardinal:[ft],ordinal:[Lt,ft]},vo:Ze,vun:Ze,wa:Ze,wae:Ze,wo:Hr,xh:Ze,xog:Ze,yi:Ze,yo:Hr,yue:Hr,zh:Hr,zu:Ze});const Kt=(g,C)=>C?"other":1==g?"one":"other",il=(g,C)=>C?"other":0==g||1==g?"one":"other",Rl=(g,C)=>C?"other":g>=0&&g<=1?"one":"other",co=(g,C)=>{const y=String(g).split(".");return C||1!=g||y[1]?"other":"one"},Fn=(g,C)=>"other",ol=(g,C)=>C?"other":1==g?"one":2==g?"two":"other";var H1=Object.freeze({__proto__:null,af:Kt,ak:il,am:Rl,an:Kt,ar:(g,C)=>{const y=String(g).split("."),x=Number(y[0])==g&&y[0].slice(-2);return C?"other":0==g?"zero":1==g?"one":2==g?"two":x>=3&&x<=10?"few":x>=11&&x<=99?"many":"other"},ars:(g,C)=>{const y=String(g).split("."),x=Number(y[0])==g&&y[0].slice(-2);return C?"other":0==g?"zero":1==g?"one":2==g?"two":x>=3&&x<=10?"few":x>=11&&x<=99?"many":"other"},as:(g,C)=>C?1==g||5==g||7==g||8==g||9==g||10==g?"one":2==g||3==g?"two":4==g?"few":6==g?"many":"other":g>=0&&g<=1?"one":"other",asa:Kt,ast:co,az:(g,C)=>{const I=String(g).split(".")[0],x=I.slice(-1),T=I.slice(-2),Y=I.slice(-3);return C?1==x||2==x||5==x||7==x||8==x||20==T||50==T||70==T||80==T?"one":3==x||4==x||100==Y||200==Y||300==Y||400==Y||500==Y||600==Y||700==Y||800==Y||900==Y?"few":0==I||6==x||40==T||60==T||90==T?"many":"other":1==g?"one":"other"},bal:(g,C)=>1==g?"one":"other",be:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g,x=I&&y[0].slice(-1),T=I&&y[0].slice(-2);return C?2!=x&&3!=x||12==T||13==T?"other":"few":1==x&&11!=T?"one":x>=2&&x<=4&&(T<12||T>14)?"few":I&&0==x||x>=5&&x<=9||T>=11&&T<=14?"many":"other"},bem:Kt,bez:Kt,bg:Kt,bho:il,bm:Fn,bn:(g,C)=>C?1==g||5==g||7==g||8==g||9==g||10==g?"one":2==g||3==g?"two":4==g?"few":6==g?"many":"other":g>=0&&g<=1?"one":"other",bo:Fn,br:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g,x=I&&y[0].slice(-1),T=I&&y[0].slice(-2),Y=I&&y[0].slice(-6);return C?"other":1==x&&11!=T&&71!=T&&91!=T?"one":2==x&&12!=T&&72!=T&&92!=T?"two":(3==x||4==x||9==x)&&(T<10||T>19)&&(T<70||T>79)&&(T<90||T>99)?"few":0!=g&&I&&0==Y?"many":"other"},brx:Kt,bs:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",T=!y[1],Y=I.slice(-1),Te=I.slice(-2),nt=x.slice(-1),Dt=x.slice(-2);return C?"other":T&&1==Y&&11!=Te||1==nt&&11!=Dt?"one":T&&Y>=2&&Y<=4&&(Te<12||Te>14)||nt>=2&&nt<=4&&(Dt<12||Dt>14)?"few":"other"},ca:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],T=I.slice(-6);return C?1==g||3==g?"one":2==g?"two":4==g?"few":"other":1==g&&x?"one":0!=I&&0==T&&x?"many":"other"},ce:Kt,ceb:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",T=!y[1],Y=I.slice(-1),Te=x.slice(-1);return C?"other":T&&(1==I||2==I||3==I)||T&&4!=Y&&6!=Y&&9!=Y||!T&&4!=Te&&6!=Te&&9!=Te?"one":"other"},cgg:Kt,chr:Kt,ckb:Kt,cs:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1];return C?"other":1==g&&x?"one":I>=2&&I<=4&&x?"few":x?"other":"many"},cy:(g,C)=>C?0==g||7==g||8==g||9==g?"zero":1==g?"one":2==g?"two":3==g||4==g?"few":5==g||6==g?"many":"other":0==g?"zero":1==g?"one":2==g?"two":3==g?"few":6==g?"many":"other",da:(g,C)=>{const y=String(g).split("."),I=y[0],x=Number(y[0])==g;return C||1!=g&&(x||0!=I&&1!=I)?"other":"one"},de:co,doi:Rl,dsb:(g,C)=>{const y=String(g).split("."),x=y[1]||"",T=!y[1],Y=y[0].slice(-2),Te=x.slice(-2);return C?"other":T&&1==Y||1==Te?"one":T&&2==Y||2==Te?"two":T&&(3==Y||4==Y)||3==Te||4==Te?"few":"other"},dv:Kt,dz:Fn,ee:Kt,el:Kt,en:(g,C)=>{const y=String(g).split("."),I=!y[1],x=Number(y[0])==g,T=x&&y[0].slice(-1),Y=x&&y[0].slice(-2);return C?1==T&&11!=Y?"one":2==T&&12!=Y?"two":3==T&&13!=Y?"few":"other":1==g&&I?"one":"other"},eo:Kt,es:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],T=I.slice(-6);return C?"other":1==g?"one":0!=I&&0==T&&x?"many":"other"},et:co,eu:Kt,fa:Rl,ff:(g,C)=>C?"other":g>=0&&g<2?"one":"other",fi:co,fil:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",T=!y[1],Y=I.slice(-1),Te=x.slice(-1);return C?1==g?"one":"other":T&&(1==I||2==I||3==I)||T&&4!=Y&&6!=Y&&9!=Y||!T&&4!=Te&&6!=Te&&9!=Te?"one":"other"},fo:Kt,fr:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],T=I.slice(-6);return C?1==g?"one":"other":g>=0&&g<2?"one":0!=I&&0==T&&x?"many":"other"},fur:Kt,fy:co,ga:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g;return C?1==g?"one":"other":1==g?"one":2==g?"two":I&&g>=3&&g<=6?"few":I&&g>=7&&g<=10?"many":"other"},gd:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g;return C?1==g||11==g?"one":2==g||12==g?"two":3==g||13==g?"few":"other":1==g||11==g?"one":2==g||12==g?"two":I&&g>=3&&g<=10||I&&g>=13&&g<=19?"few":"other"},gl:co,gsw:Kt,gu:(g,C)=>C?1==g?"one":2==g||3==g?"two":4==g?"few":6==g?"many":"other":g>=0&&g<=1?"one":"other",guw:il,gv:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],T=I.slice(-1),Y=I.slice(-2);return C?"other":x&&1==T?"one":x&&2==T?"two":!x||0!=Y&&20!=Y&&40!=Y&&60!=Y&&80!=Y?x?"other":"many":"few"},ha:Kt,haw:Kt,he:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1];return C?"other":1==I&&x||0==I&&!x?"one":2==I&&x?"two":"other"},hi:(g,C)=>C?1==g?"one":2==g||3==g?"two":4==g?"few":6==g?"many":"other":g>=0&&g<=1?"one":"other",hnj:Fn,hr:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",T=!y[1],Y=I.slice(-1),Te=I.slice(-2),nt=x.slice(-1),Dt=x.slice(-2);return C?"other":T&&1==Y&&11!=Te||1==nt&&11!=Dt?"one":T&&Y>=2&&Y<=4&&(Te<12||Te>14)||nt>=2&&nt<=4&&(Dt<12||Dt>14)?"few":"other"},hsb:(g,C)=>{const y=String(g).split("."),x=y[1]||"",T=!y[1],Y=y[0].slice(-2),Te=x.slice(-2);return C?"other":T&&1==Y||1==Te?"one":T&&2==Y||2==Te?"two":T&&(3==Y||4==Y)||3==Te||4==Te?"few":"other"},hu:(g,C)=>C?1==g||5==g?"one":"other":1==g?"one":"other",hy:(g,C)=>C?1==g?"one":"other":g>=0&&g<2?"one":"other",ia:co,id:Fn,ig:Fn,ii:Fn,io:co,is:(g,C)=>{const y=String(g).split("."),I=y[0],x=(y[1]||"").replace(/0+$/,""),T=Number(y[0])==g,Y=I.slice(-1),Te=I.slice(-2);return C?"other":T&&1==Y&&11!=Te||x%10==1&&x%100!=11?"one":"other"},it:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],T=I.slice(-6);return C?11==g||8==g||80==g||800==g?"many":"other":1==g&&x?"one":0!=I&&0==T&&x?"many":"other"},iu:ol,ja:Fn,jbo:Fn,jgo:Kt,jmc:Kt,jv:Fn,jw:Fn,ka:(g,C)=>{const I=String(g).split(".")[0],x=I.slice(-2);return C?1==I?"one":0==I||x>=2&&x<=20||40==x||60==x||80==x?"many":"other":1==g?"one":"other"},kab:(g,C)=>C?"other":g>=0&&g<2?"one":"other",kaj:Kt,kcg:Kt,kde:Fn,kea:Fn,kk:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g,x=I&&y[0].slice(-1);return C?6==x||9==x||I&&0==x&&0!=g?"many":"other":1==g?"one":"other"},kkj:Kt,kl:Kt,km:Fn,kn:Rl,ko:Fn,ks:Kt,ksb:Kt,ksh:(g,C)=>C?"other":0==g?"zero":1==g?"one":"other",ku:Kt,kw:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g,x=I&&y[0].slice(-2),T=I&&y[0].slice(-3),Y=I&&y[0].slice(-5),Te=I&&y[0].slice(-6);return C?I&&g>=1&&g<=4||x>=1&&x<=4||x>=21&&x<=24||x>=41&&x<=44||x>=61&&x<=64||x>=81&&x<=84?"one":5==g||5==x?"many":"other":0==g?"zero":1==g?"one":2==x||22==x||42==x||62==x||82==x||I&&0==T&&(Y>=1e3&&Y<=2e4||4e4==Y||6e4==Y||8e4==Y)||0!=g&&1e5==Te?"two":3==x||23==x||43==x||63==x||83==x?"few":1==g||1!=x&&21!=x&&41!=x&&61!=x&&81!=x?"other":"many"},ky:Kt,lag:(g,C)=>{const I=String(g).split(".")[0];return C?"other":0==g?"zero":0!=I&&1!=I||0==g?"other":"one"},lb:Kt,lg:Kt,lij:(g,C)=>{const y=String(g).split("."),I=!y[1],x=Number(y[0])==g;return C?11==g||8==g||x&&g>=80&&g<=89||x&&g>=800&&g<=899?"many":"other":1==g&&I?"one":"other"},lkt:Fn,ln:il,lo:(g,C)=>C&&1==g?"one":"other",lt:(g,C)=>{const y=String(g).split("."),I=y[1]||"",x=Number(y[0])==g,T=x&&y[0].slice(-1),Y=x&&y[0].slice(-2);return C?"other":1==T&&(Y<11||Y>19)?"one":T>=2&&T<=9&&(Y<11||Y>19)?"few":0!=I?"many":"other"},lv:(g,C)=>{const y=String(g).split("."),I=y[1]||"",x=I.length,T=Number(y[0])==g,Y=T&&y[0].slice(-1),Te=T&&y[0].slice(-2),nt=I.slice(-2),Dt=I.slice(-1);return C?"other":T&&0==Y||Te>=11&&Te<=19||2==x&&nt>=11&&nt<=19?"zero":1==Y&&11!=Te||2==x&&1==Dt&&11!=nt||2!=x&&1==Dt?"one":"other"},mas:Kt,mg:il,mgo:Kt,mk:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",T=!y[1],Y=I.slice(-1),Te=I.slice(-2),nt=x.slice(-1),Dt=x.slice(-2);return C?1==Y&&11!=Te?"one":2==Y&&12!=Te?"two":7!=Y&&8!=Y||17==Te||18==Te?"other":"many":T&&1==Y&&11!=Te||1==nt&&11!=Dt?"one":"other"},ml:Kt,mn:Kt,mo:(g,C)=>{const y=String(g).split("."),I=!y[1],T=Number(y[0])==g&&y[0].slice(-2);return C?1==g?"one":"other":1==g&&I?"one":!I||0==g||1!=g&&T>=1&&T<=19?"few":"other"},mr:(g,C)=>C?1==g?"one":2==g||3==g?"two":4==g?"few":"other":1==g?"one":"other",ms:(g,C)=>C&&1==g?"one":"other",mt:(g,C)=>{const y=String(g).split("."),x=Number(y[0])==g&&y[0].slice(-2);return C?"other":1==g?"one":2==g?"two":0==g||x>=3&&x<=10?"few":x>=11&&x<=19?"many":"other"},my:Fn,nah:Kt,naq:ol,nb:Kt,nd:Kt,ne:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g;return C?I&&g>=1&&g<=4?"one":"other":1==g?"one":"other"},nl:co,nn:Kt,nnh:Kt,no:Kt,nqo:Fn,nr:Kt,nso:il,ny:Kt,nyn:Kt,om:Kt,or:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g;return C?1==g||5==g||I&&g>=7&&g<=9?"one":2==g||3==g?"two":4==g?"few":6==g?"many":"other":1==g?"one":"other"},os:Kt,osa:Fn,pa:il,pap:Kt,pcm:Rl,pl:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],T=I.slice(-1),Y=I.slice(-2);return C?"other":1==g&&x?"one":x&&T>=2&&T<=4&&(Y<12||Y>14)?"few":x&&1!=I&&(0==T||1==T)||x&&T>=5&&T<=9||x&&Y>=12&&Y<=14?"many":"other"},prg:(g,C)=>{const y=String(g).split("."),I=y[1]||"",x=I.length,T=Number(y[0])==g,Y=T&&y[0].slice(-1),Te=T&&y[0].slice(-2),nt=I.slice(-2),Dt=I.slice(-1);return C?"other":T&&0==Y||Te>=11&&Te<=19||2==x&&nt>=11&&nt<=19?"zero":1==Y&&11!=Te||2==x&&1==Dt&&11!=nt||2!=x&&1==Dt?"one":"other"},ps:Kt,pt:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],T=I.slice(-6);return C?"other":0==I||1==I?"one":0!=I&&0==T&&x?"many":"other"},pt_PT:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],T=I.slice(-6);return C?"other":1==g&&x?"one":0!=I&&0==T&&x?"many":"other"},rm:Kt,ro:(g,C)=>{const y=String(g).split("."),I=!y[1],T=Number(y[0])==g&&y[0].slice(-2);return C?1==g?"one":"other":1==g&&I?"one":!I||0==g||1!=g&&T>=1&&T<=19?"few":"other"},rof:Kt,ru:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],T=I.slice(-1),Y=I.slice(-2);return C?"other":x&&1==T&&11!=Y?"one":x&&T>=2&&T<=4&&(Y<12||Y>14)?"few":x&&0==T||x&&T>=5&&T<=9||x&&Y>=11&&Y<=14?"many":"other"},rwk:Kt,sah:Fn,saq:Kt,sat:ol,sc:(g,C)=>{const y=String(g).split(".");return C?11==g||8==g||80==g||800==g?"many":"other":1!=g||y[1]?"other":"one"},scn:(g,C)=>{const y=String(g).split(".");return C?11==g||8==g||80==g||800==g?"many":"other":1!=g||y[1]?"other":"one"},sd:Kt,sdh:Kt,se:ol,seh:Kt,ses:Fn,sg:Fn,sh:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",T=!y[1],Y=I.slice(-1),Te=I.slice(-2),nt=x.slice(-1),Dt=x.slice(-2);return C?"other":T&&1==Y&&11!=Te||1==nt&&11!=Dt?"one":T&&Y>=2&&Y<=4&&(Te<12||Te>14)||nt>=2&&nt<=4&&(Dt<12||Dt>14)?"few":"other"},shi:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g;return C?"other":g>=0&&g<=1?"one":I&&g>=2&&g<=10?"few":"other"},si:(g,C)=>{const y=String(g).split(".");return C?"other":0==g||1==g||0==y[0]&&1==(y[1]||"")?"one":"other"},sk:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1];return C?"other":1==g&&x?"one":I>=2&&I<=4&&x?"few":x?"other":"many"},sl:(g,C)=>{const y=String(g).split("."),x=!y[1],T=y[0].slice(-2);return C?"other":x&&1==T?"one":x&&2==T?"two":x&&(3==T||4==T)||!x?"few":"other"},sma:ol,smi:ol,smj:ol,smn:ol,sms:ol,sn:Kt,so:Kt,sq:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g,x=I&&y[0].slice(-1),T=I&&y[0].slice(-2);return C?1==g?"one":4==x&&14!=T?"many":"other":1==g?"one":"other"},sr:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",T=!y[1],Y=I.slice(-1),Te=I.slice(-2),nt=x.slice(-1),Dt=x.slice(-2);return C?"other":T&&1==Y&&11!=Te||1==nt&&11!=Dt?"one":T&&Y>=2&&Y<=4&&(Te<12||Te>14)||nt>=2&&nt<=4&&(Dt<12||Dt>14)?"few":"other"},ss:Kt,ssy:Kt,st:Kt,su:Fn,sv:(g,C)=>{const y=String(g).split("."),I=!y[1],x=Number(y[0])==g,T=x&&y[0].slice(-1),Y=x&&y[0].slice(-2);return C?1!=T&&2!=T||11==Y||12==Y?"other":"one":1==g&&I?"one":"other"},sw:co,syr:Kt,ta:Kt,te:Kt,teo:Kt,th:Fn,ti:il,tig:Kt,tk:(g,C)=>{const y=String(g).split("."),x=Number(y[0])==g&&y[0].slice(-1);return C?6==x||9==x||10==g?"few":"other":1==g?"one":"other"},tl:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",T=!y[1],Y=I.slice(-1),Te=x.slice(-1);return C?1==g?"one":"other":T&&(1==I||2==I||3==I)||T&&4!=Y&&6!=Y&&9!=Y||!T&&4!=Te&&6!=Te&&9!=Te?"one":"other"},tn:Kt,to:Fn,tpi:Fn,tr:Kt,ts:Kt,tzm:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g;return C?"other":0==g||1==g||I&&g>=11&&g<=99?"one":"other"},ug:Kt,uk:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],T=Number(y[0])==g,Y=T&&y[0].slice(-1),Te=T&&y[0].slice(-2),nt=I.slice(-1),Dt=I.slice(-2);return C?3==Y&&13!=Te?"few":"other":x&&1==nt&&11!=Dt?"one":x&&nt>=2&&nt<=4&&(Dt<12||Dt>14)?"few":x&&0==nt||x&&nt>=5&&nt<=9||x&&Dt>=11&&Dt<=14?"many":"other"},und:Fn,ur:co,uz:Kt,ve:Kt,vec:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],T=I.slice(-6);return C?11==g||8==g||80==g||800==g?"many":"other":1==g&&x?"one":0!=I&&0==T&&x?"many":"other"},vi:(g,C)=>C&&1==g?"one":"other",vo:Kt,vun:Kt,wa:il,wae:Kt,wo:Fn,xh:Kt,xog:Kt,yi:co,yo:Fn,yue:Fn,zh:Fn,zu:Rl});function vc(g){if("string"!=typeof g||g.length<2)throw new RangeError("Invalid language tag: ".concat(g));if(g.startsWith("pt-PT"))return"pt-PT";var C=g.match(/.+?(?=[-_])/);return C?C[0]:g}function nh(g){if("function"==typeof g){var C=vc(g.name);return{isDefault:!1,id:$e(C),lc:C,locale:g.name,getPlural:g,cardinals:g.cardinals||[],ordinals:g.ordinals||[]}}var y=vc(g),I=$e(y);return function mc(g){return g in H1}(I)?{isDefault:!0,id:I,lc:y,locale:g,getCardinal:Oo[I],getPlural:H1[I],cardinals:lf[I].cardinal,ordinals:lf[I].ordinal}:null}function im(g){return $e(vc(g))in H1}var om=function(){function g(C,y){if(this.plurals=[],this.options=Object.assign({biDiSupport:!1,currency:"USD",customFormatters:{},localeCodeFromKey:null,requireAllArguments:!1,returnType:"string",strict:y&&y.strictNumberSign||!1,strictPluralKeys:!0},y),"*"===C?this.plurals=function cd(g){var C=Object.keys(H1).filter(function(y){return y!==g});return C.unshift(g),C.map(nh)}(g.defaultLocale):Array.isArray(C)?this.plurals=C.map(nh).filter(Boolean):C&&(I=nh(C))&&(this.plurals=[I]),0===this.plurals.length){var I=nh(g.defaultLocale);this.plurals=[I]}}return g.escape=function(C,y){var I=y?/[#{}]/g:/[{}]/g;return String(C).replace(I,"'$&'")},g.supportedLocalesOf=function(C){return(Array.isArray(C)?C:[C]).filter(im)},g.prototype.resolvedOptions=function(){return je(je({},this.options),{locale:this.plurals[0].locale,plurals:this.plurals})},g.prototype.compile=function(C){var y,I,x=new Ds(this.options),T="return "+x.compile(C,this.plurals[0]),Y=[],Te=[];try{for(var nt=K(Object.entries(x.runtime)),Dt=nt.next();!Dt.done;Dt=nt.next()){var gn=Z(Dt.value,2),$n=gn[1];Y.push(gn[0]),Te.push($n)}}catch(Or){y={error:Or}}finally{try{Dt&&!Dt.done&&(I=nt.return)&&I.call(nt)}finally{if(y)throw y.error}}return(new(Function.bind.apply(Function,ge(ge([void 0],Z(Y),!1),[T],!1)))).apply(void 0,ge([],Z(Te),!1))},g.defaultLocale="en",g}();return om}()},7059:Ge=>{"use strict";var L,je=Object.defineProperty,K=Object.getOwnPropertyDescriptor,Z=Object.getOwnPropertyNames,ge=Object.prototype.hasOwnProperty,ne={};((L,V)=>{for(var $ in V)je(L,$,{get:V[$],enumerable:!0})})(ne,{XmlCdata:()=>J,XmlComment:()=>Ue,XmlDeclaration:()=>re,XmlDocument:()=>De,XmlDocumentType:()=>Pe,XmlElement:()=>xe,XmlError:()=>te,XmlNode:()=>ue,XmlProcessingInstruction:()=>ye,XmlText:()=>Le,parseXml:()=>bt}),Ge.exports=(L=ne,((L,V,$,Ae)=>{if(V&&"object"==typeof V||"function"==typeof V)for(let Ne of Z(V))!ge.call(L,Ne)&&undefined!==Ne&&je(L,Ne,{get:()=>V[Ne],enumerable:!(Ae=K(V,Ne))||Ae.enumerable});return L})(je({},"__esModule",{value:!0}),L));var k=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=class{constructor(L){if(this.k=this.u(L,!0),this.d=0,this.length=L.length,this.l=this.k!==this.length,this.h=L,this.l){let V=[];for(let $=0,Ae=0;Ae<this.k;++Ae)V[Ae]=$,$+=L.codePointAt($)>65535?2:1;this.A=V}}get B(){return this.d>=this.k}u(L,V=this.l){return V?L.replace(k,"_").length:L.length}p(L=1){this.d=Math.min(this.k,this.d+L)}f(L=this.d){var V;return this.l?null!=(V=this.A[L])?V:1/0:L}G(L=1){let V=this.m(L);return this.p(L),V}v(L){let V=this.f(),$=this.h.slice(V,V+L);return this.p(this.u($)),$}w(L){let{length:V,l:$,h:Ae}=this,Ne=this.f(),ht=Ne;if($)for(;ht<V;){let Xe=Ae[ht],vt=Xe>="\ud800"&&Xe<="\udbff";if(vt&&(Xe+=Ae[ht+1]),!L(Xe))break;ht+=vt?2:1}else for(;ht<V&&L(Ae[ht]);)++ht;return this.v(ht-Ne)}b(L){let{length:V}=L,$=this.f();return L===this.h.slice($,$+V)?(this.p(1===V?1:this.u(L)),L):""}x(L){let V=this.h.slice(this.f()).search(L);return V>0?this.v(V):""}s(L){let V=this.f(),$=this.h.indexOf(L,V);return $>0?this.v($-V):""}m(L=1){let{d:V,h:$}=this;return this.l?$.slice(this.f(V),this.f(V+L)):$.slice(V,V+L)}n(L=0){this.d=L>=0?Math.min(this.k,L):Math.max(0,this.d+L)}},_e=/["&<]/,he=/['&<]/,be=/\r\n|[\n\r\t]/g,j=/<|&|]]>/,W=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function se(L){let V=L.codePointAt(0);return V>=97&&V<=122||V>=65&&V<=90||V>=48&&V<=57||45===V||46===V||183===V||V>=768&&V<=879||8255===V||8256===V||pe(L,V)}function pe(L,V=L.codePointAt(0)){return V>=97&&V<=122||V>=65&&V<=90||58===V||95===V||V>=192&&V<=214||V>=216&&V<=246||V>=248&&V<=767||V>=880&&V<=893||V>=895&&V<=8191||8204===V||8205===V||V>=8304&&V<=8591||V>=11264&&V<=12271||V>=12289&&V<=55295||V>=63744&&V<=64975||V>=65008&&V<=65533||V>=65536&&V<=983039}function oe(L){return"#"===L||se(L)}function X(L){let V=L.codePointAt(0);return 32===V||9===V||10===V||13===V}function D(L){return L>=32&&L<=55295||10===L||9===L||13===L||L>=57344&&L<=65533||L>=65536&&L<=1114111}var ae=(()=>{let L=class eR{constructor(){this.parent=null,this.start=-1,this.end=-1}get document(){var $,Ae;return null!=(Ae=null==($=this.parent)?void 0:$.document)?Ae:null}get isRootNode(){return null!==this.parent&&this.parent===this.document&&this.type===eR.TYPE_ELEMENT}get preserveWhitespace(){var $;return!(null==($=this.parent)||!$.preserveWhitespace)}get type(){return""}toJSON(){let $={type:this.type};return this.isRootNode&&($.isRootNode=!0),this.preserveWhitespace&&($.preserveWhitespace=!0),-1!==this.start&&($.start=this.start,$.end=this.end),$}};return L.TYPE_CDATA="cdata",L.TYPE_COMMENT="comment",L.TYPE_DOCUMENT="document",L.TYPE_DOCUMENT_TYPE="doctype",L.TYPE_ELEMENT="element",L.TYPE_PROCESSING_INSTRUCTION="pi",L.TYPE_TEXT="text",L.TYPE_XML_DECLARATION="xmldecl",L})(),ue=ae,Le=class extends ue{constructor(L=""){super(),this.text=L}get type(){return ue.TYPE_TEXT}toJSON(){return Object.assign(ue.prototype.toJSON.call(this),{text:this.text})}},J=class extends Le{get type(){return ue.TYPE_CDATA}},Ue=class extends ue{constructor(L=""){super(),this.content=L}get type(){return ue.TYPE_COMMENT}toJSON(){return Object.assign(ue.prototype.toJSON.call(this),{content:this.content})}},re=class extends ue{constructor(L,V,$){super(),this.version=L,this.encoding=V??null,this.standalone=$??null}get type(){return ue.TYPE_XML_DECLARATION}toJSON(){let L=ue.prototype.toJSON.call(this);L.version=this.version;for(let V of["encoding","standalone"])null!==this[V]&&(L[V]=this[V]);return L}},xe=class tR extends ue{constructor(V,$=Object.create(null),Ae=[]){super(),this.name=V,this.attributes=$,this.children=Ae}get isEmpty(){return 0===this.children.length}get preserveWhitespace(){let V=this;for(;V instanceof tR;){if("xml:space"in V.attributes)return"preserve"===V.attributes["xml:space"];V=V.parent}return!1}get text(){return this.children.map(V=>"text"in V?V.text:"").join("")}get type(){return ue.TYPE_ELEMENT}toJSON(){return Object.assign(ue.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(V=>V.toJSON())})}},De=class extends ue{constructor(L=[]){super(),this.children=L}get document(){return this}get root(){for(let L of this.children)if(L instanceof xe)return L;return null}get text(){return this.children.map(L=>"text"in L?L.text:"").join("")}get type(){return ue.TYPE_DOCUMENT}toJSON(){return Object.assign(ue.prototype.toJSON.call(this),{children:this.children.map(L=>L.toJSON())})}},Pe=class extends ue{constructor(L,V,$,Ae){super(),this.name=L,this.publicId=V??null,this.systemId=$??null,this.internalSubset=Ae??null}get type(){return ue.TYPE_DOCUMENT_TYPE}toJSON(){let L=ue.prototype.toJSON.call(this);L.name=this.name;for(let V of["publicId","systemId","internalSubset"])null!==this[V]&&(L[V]=this[V]);return L}},te=class extends Error{constructor(L,V,$){let Ae=1,Ne="",ht=1;for(let Gt=0;Gt<V;++Gt){let Ut=$[Gt];"\n"===Ut?(Ae=1,Ne="",ht+=1):(Ae+=1,Ne+=Ut)}let Xe=$.indexOf("\n",V);Ne+=-1===Xe?$.slice(V):$.slice(V,Xe);let vt=0;Ne.length>50&&(Ae<40?Ne=Ne.slice(0,50):(vt=Ae-20,Ne=Ne.slice(vt,Ae+30))),super(`${L} (line ${ht}, column ${Ae})\n  ${Ne}\n`+" ".repeat(Ae-vt+1)+"^\n"),this.column=Ae,this.excerpt=Ne,this.line=ht,this.name="XmlError",this.pos=V}},ye=class extends ue{constructor(L,V=""){super(),this.name=L,this.content=V}get type(){return ue.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(ue.prototype.toJSON.call(this),{name:this.name,content:this.content})}},mt=class{constructor(L,V={}){let $=this.document=new De;this.j=$,this.g=V,this.c=new f(L),this.g.includeOffsets&&($.start=0,$.end=L.length),this.parse()}i(L,V){return L.parent=this.j,this.g.includeOffsets&&(L.start=this.c.f(V),L.end=this.c.f()),this.j.children.push(L),!0}y(L,V){let{children:$}=this.j,{length:Ae}=$;if(L=Ft(L),Ae>0){let Ne=$[Ae-1];if(Ne?.type===ue.TYPE_TEXT){let ht=Ne;return ht.text+=L,this.g.includeOffsets&&(ht.end=this.c.f()),!0}}return this.i(new Le(L),V)}H(){let L=Object.create(null);for(;this.e();){let V=this.q();if(!V)break;let $=this.t()&&this.I();if(!1===$)throw this.a("Attribute value expected");if(V in L)throw this.a(`Duplicate attribute: ${V}`);if("xml:space"===V&&"default"!==$&&"preserve"!==$)throw this.a('Value of the `xml:space` attribute must be "default" or "preserve"');L[V]=$}if(this.g.sortAttributes){let V=Object.keys(L).sort(),$=Object.create(null);for(let Ae=0;Ae<V.length;++Ae){let Ne=V[Ae];$[Ne]=L[Ne]}L=$}return L}I(){let{c:L}=this,V=L.m();if('"'!==V&&"'"!==V)return!1;L.p();let $,Ae=!1,Ne="",ht='"'===V?_e:he;e:for(;!L.B;)switch($=L.x(ht),$&&(this.o($),Ne+=$.replace(be," ")),L.m()){case V:Ae=!0;break e;case"&":Ne+=this.C();continue;case"<":throw this.a("Unescaped `<` is not allowed in an attribute value");default:break e}if(!Ae)throw this.a("Unclosed attribute");return L.p(),Ne}J(){let{c:L}=this,V=L.d;if(!L.b("<![CDATA["))return!1;let $=L.s("]]>");if(this.o($),!L.b("]]>"))throw this.a("Unclosed CDATA section");return this.g.preserveCdata?this.i(new J(Ft($)),V):this.y($,V)}K(){let{c:L}=this,V=L.d,$=L.x(j);if(!$)return!1;if(this.o($),"]]>"===L.m(3))throw this.a("Element content may not contain the CDATA section close delimiter `]]>`");return this.y($,V)}D(){let{c:L}=this,V=L.d;if(!L.b("\x3c!--"))return!1;let $=L.s("--");if(this.o($),!L.b("--\x3e"))throw"--"===L.m(2)?this.a("The string `--` isn't allowed inside a comment"):this.a("Unclosed comment");return!this.g.preserveComments||this.i(new Ue(Ft($)),V)}L(){let L=this.c.d,V=this.C();return!!V&&this.y(V,L)}M(){let{c:L}=this,V=L.d;if(!L.b("<!DOCTYPE"))return!1;let Ae,Ne,ht,$=this.e()&&this.q();if(!$)throw this.a("Expected a name");if(this.e()){if(L.b("PUBLIC")){if(Ae=this.e()&&this.N(),!1===Ae)throw this.a("Expected a public identifier");this.e()}if(void 0!==Ae||L.b("SYSTEM")){if(this.e(),Ne=this.r(),!1===Ne)throw this.a("Expected a system identifier");this.e()}}if(L.b("[")){if(ht=L.x(/\][\x20\t\r\n]*>/),!L.b("]"))throw this.a("Unclosed internal subset");this.e()}if(!L.b(">"))throw this.a("Unclosed doctype declaration");return!this.g.preserveDocumentType||this.i(new Pe($,Ae,Ne,ht),V)}E(){let{c:L}=this,V=L.d;if(!L.b("<"))return!1;let $=this.q();if(!$)return L.n(V),!1;let Ae=this.H(),Ne=!!L.b("/>"),ht=new xe($,Ae);if(ht.parent=this.j,!Ne){if(!L.b(">"))throw this.a(`Unclosed start tag for element \`${$}\``);this.j=ht;do{this.K()}while(this.E()||this.L()||this.J()||this.F()||this.D());let vt,Xe=L.d;if(!L.b("</")||!(vt=this.q())||vt!==$)throw L.n(Xe),this.a(`Missing end tag for element ${$}`);if(this.e(),!L.b(">"))throw this.a(`Unclosed end tag for element ${$}`);this.j=ht.parent}return this.i(ht,V)}t(){return this.e(),!!this.c.b("=")&&(this.e(),!0)}z(){return this.D()||this.F()||this.e()}q(){return pe(this.c.m())?this.c.w(se):""}F(){let{c:L}=this,V=L.d;if(!L.b("<?"))return!1;let $=this.q();if(!$)throw this.a("Invalid processing instruction");if("xml"===$.toLowerCase())throw L.n(V),this.a("XML declaration isn't allowed here");if(!this.e()){if(L.b("?>"))return this.i(new ye($),V);throw this.a("Whitespace is required after a processing instruction name")}let Ae=L.s("?>");if(this.o(Ae),!L.b("?>"))throw this.a("Unterminated processing instruction");return this.i(new ye($,Ft(Ae)),V)}O(){let{c:L}=this,V=L.d;for(this.P();this.z(););if(this.M())for(;this.z(););return V<L.d}N(){let L=this.c.d,V=this.r();if(!1!==V&&!/^[-\x20\r\na-zA-Z0-9'()+,./:=?;!*#@$_%]*$/.test(V))throw this.c.n(L),this.a("Invalid character in public identifier");return V}C(){let{c:L}=this;if(!L.b("&"))return!1;let $,V=L.w(oe);if(";"!==L.G())throw this.a("Unterminated reference (a reference must end with `;`)");if("#"===V[0]){let Ae="x"===V[1]?parseInt(V.slice(2),16):parseInt(V.slice(1),10);if(isNaN(Ae))throw this.a("Invalid character reference");if(!D(Ae))throw this.a("Character reference resolves to an invalid character");$=String.fromCodePoint(Ae)}else if($=W[V],void 0===$){let{ignoreUndefinedEntities:Ae,resolveUndefinedEntity:Ne}=this.g,ht=`&${V};`;if(Ne){let Xe=Ne(ht);if(null!=Xe){let vt=typeof Xe;if("string"!==vt)throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${vt}`);return Xe}}if(Ae)return ht;throw L.n(-ht.length),this.a(`Named entity isn't defined: ${ht}`)}return $}r(){let{c:L}=this,V=L.b('"')||L.b("'");if(!V)return!1;let $=L.s(V);if(this.o($),!L.b(V))throw this.a("Missing end quote");return $}e(){return!!this.c.w(X)}P(){let{c:L}=this,V=L.d;if(!L.b("<?xml"))return!1;if(!this.e())throw this.a("Invalid XML declaration");let Ae,Ne,$=!!L.b("version")&&this.t()&&this.r();if(!1===$)throw this.a("XML version is missing or invalid");if(!/^1\.[0-9]+$/.test($))throw this.a("Invalid character in version number");if(this.e()){if(Ae=!!L.b("encoding")&&this.t()&&this.r(),Ae){if(!/^[A-Za-z][\w.-]*$/.test(Ae))throw this.a("Invalid character in encoding name");this.e()}if(Ne=!!L.b("standalone")&&this.t()&&this.r(),Ne){if("yes"!==Ne&&"no"!==Ne)throw this.a('Only "yes" and "no" are permitted as values of `standalone`');this.e()}}if(!L.b("?>"))throw this.a("Invalid or unclosed XML declaration");return!this.g.preserveXmlDeclaration||this.i(new re($,Ae||void 0,Ne||void 0),V)}a(L){let{c:V}=this;return new te(L,V.d,V.h)}parse(){if(this.c.b("\ufeff"),this.O(),!this.E())throw this.a("Root element is missing or invalid");for(;this.z(););if(!this.c.B)throw this.a("Extra content at the end of the document")}o(L){let{length:V}=L;for(let $=0;$<V;++$){let Ae=L.codePointAt($);if(!D(Ae))throw this.c.n(-([...L].length-$)),this.a("Invalid character");Ae>65535&&($+=1)}}};function Ft(L){let V=0;for(;-1!==(V=L.indexOf("\r",V));)L="\n"===L[V+1]?L.slice(0,V)+L.slice(V+1):L.slice(0,V)+"\n"+L.slice(V+1);return L}function bt(L,V){return new mt(L,V).document}},2834:(Ge,je)=>{"use strict";function Z(Se,ne){return void 0===ne&&(ne=Object),ne&&"function"==typeof ne.freeze?ne.freeze(Se):Se}var ce=Z({HTML:"text/html",isHTML:function(Se){return Se===ce.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Ve=Z({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(Se){return Se===Ve.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});je.assign=function ge(Se,ne){if(null===Se||"object"!=typeof Se)throw new TypeError("target is not an object");for(var H in ne)Object.prototype.hasOwnProperty.call(ne,H)&&(Se[H]=ne[H]);return Se},je.find=function K(Se,ne,H){if(void 0===H&&(H=Array.prototype),Se&&"function"==typeof H.find)return H.find.call(Se,ne);for(var k=0;k<Se.length;k++)if(Object.prototype.hasOwnProperty.call(Se,k)){var f=Se[k];if(ne.call(void 0,f,k,Se))return f}},je.freeze=Z,je.MIME_TYPE=ce,je.NAMESPACE=Ve},7044:(Ge,je,K)=>{var ge=K(2834),ce=K(8486),Ve=K(6443),Se=K(3742),ne=ce.DOMImplementation,H=ge.NAMESPACE,k=Se.ParseError,f=Se.XMLReader;function _e(X){return X.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function he(X){this.options=X||{locator:{}}}function j(){this.cdata=!1}function W(X,D){D.lineNumber=X.lineNumber,D.columnNumber=X.columnNumber}function se(X){if(X)return"\n@"+(X.systemId||"")+"#[line:"+X.lineNumber+",col:"+X.columnNumber+"]"}function pe(X,D,ae){return"string"==typeof X?X.substr(D,ae):X.length>=D+ae||D?new java.lang.String(X,D,ae)+"":X}function oe(X,D){X.currentElement?X.currentElement.appendChild(D):X.doc.appendChild(D)}he.prototype.parseFromString=function(X,D){var ae=this.options,ue=new f,Le=ae.domBuilder||new j,J=ae.errorHandler,Ue=ae.locator,re=ae.xmlns||{},xe=/\/x?html?$/.test(D),De=xe?Ve.HTML_ENTITIES:Ve.XML_ENTITIES;return Ue&&Le.setDocumentLocator(Ue),ue.errorHandler=function be(X,D,ae){if(!X){if(D instanceof j)return D;X=D}var ue={},Le=X instanceof Function;function J(Ue){var re=X[Ue];!re&&Le&&(re=2==X.length?function(xe){X(Ue,xe)}:X),ue[Ue]=re&&function(xe){re("[xmldom "+Ue+"]\t"+xe+se(ae))}||function(){}}return ae=ae||{},J("warning"),J("error"),J("fatalError"),ue}(J,Le,Ue),ue.domBuilder=ae.domBuilder||Le,xe&&(re[""]=H.HTML),re.xml=re.xml||H.XML,X&&"string"==typeof X?ue.parse((ae.normalizeLineEndings||_e)(X),re,De):ue.errorHandler.error("invalid doc source"),Le.doc},j.prototype={startDocument:function(){this.doc=(new ne).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(X,D,ae,ue){var Le=this.doc,J=Le.createElementNS(X,ae||D),Ue=ue.length;oe(this,J),this.currentElement=J,this.locator&&W(this.locator,J);for(var re=0;re<Ue;re++){X=ue.getURI(re);var xe=ue.getValue(re),De=(ae=ue.getQName(re),Le.createAttributeNS(X,ae));this.locator&&W(ue.getLocator(re),De),De.value=De.nodeValue=xe,J.setAttributeNode(De)}},endElement:function(X,D,ae){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(X,D){},endPrefixMapping:function(X){},processingInstruction:function(X,D){var ae=this.doc.createProcessingInstruction(X,D);this.locator&&W(this.locator,ae),oe(this,ae)},ignorableWhitespace:function(X,D,ae){},characters:function(X,D,ae){if(X=pe.apply(this,arguments)){if(this.cdata)var ue=this.doc.createCDATASection(X);else ue=this.doc.createTextNode(X);this.currentElement?this.currentElement.appendChild(ue):/^\s*$/.test(X)&&this.doc.appendChild(ue),this.locator&&W(this.locator,ue)}},skippedEntity:function(X){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(X){(this.locator=X)&&(X.lineNumber=0)},comment:function(X,D,ae){X=pe.apply(this,arguments);var ue=this.doc.createComment(X);this.locator&&W(this.locator,ue),oe(this,ue)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(X,D,ae){var ue=this.doc.implementation;if(ue&&ue.createDocumentType){var Le=ue.createDocumentType(X,D,ae);this.locator&&W(this.locator,Le),oe(this,Le),this.doc.doctype=Le}},warning:function(X){console.warn("[xmldom warning]\t"+X,se(this.locator))},error:function(X){console.error("[xmldom error]\t"+X,se(this.locator))},fatalError:function(X){throw new k(X,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(X){j.prototype[X]=function(){return null}}),je.DOMParser=he},8486:(Ge,je,K)=>{var Z=K(2834),ge=Z.find,ce=Z.NAMESPACE;function Ve(R){return""!==R}function ne(R,F){return R.hasOwnProperty(F)||(R[F]=!0),R}function H(R){if(!R)return[];var F=function Se(R){return R?R.split(/[\t\n\f\r ]+/).filter(Ve):[]}(R);return Object.keys(F.reduce(ne,{}))}function f(R,F){for(var ie in R)Object.prototype.hasOwnProperty.call(R,ie)&&(F[ie]=R[ie])}function _e(R,F){var ie=R.prototype;if(!(ie instanceof F)){let Et=function(){};Et.prototype=F.prototype,Et=new Et,f(ie,Et),R.prototype=ie=Et}ie.constructor!=R&&("function"!=typeof R&&console.error("unknown Class:"+R),ie.constructor=R)}var he={},be=he.ELEMENT_NODE=1,j=he.ATTRIBUTE_NODE=2,W=he.TEXT_NODE=3,se=he.CDATA_SECTION_NODE=4,pe=he.ENTITY_REFERENCE_NODE=5,oe=he.ENTITY_NODE=6,X=he.PROCESSING_INSTRUCTION_NODE=7,D=he.COMMENT_NODE=8,ae=he.DOCUMENT_NODE=9,ue=he.DOCUMENT_TYPE_NODE=10,Le=he.DOCUMENT_FRAGMENT_NODE=11,J=he.NOTATION_NODE=12,Ue={},re={},Pe=(Ue.INDEX_SIZE_ERR=(re[1]="Index size error",1),Ue.DOMSTRING_SIZE_ERR=(re[2]="DOMString size error",2),Ue.HIERARCHY_REQUEST_ERR=(re[3]="Hierarchy request error",3)),Ft=(Ue.WRONG_DOCUMENT_ERR=(re[4]="Wrong document",4),Ue.INVALID_CHARACTER_ERR=(re[5]="Invalid character",5),Ue.NO_DATA_ALLOWED_ERR=(re[6]="No data allowed",6),Ue.NO_MODIFICATION_ALLOWED_ERR=(re[7]="No modification allowed",7),Ue.NOT_FOUND_ERR=(re[8]="Not found",8)),L=(Ue.NOT_SUPPORTED_ERR=(re[9]="Not supported",9),Ue.INUSE_ATTRIBUTE_ERR=(re[10]="Attribute in use",10));function Xe(R,F){if(F instanceof Error)var ie=F;else ie=this,Error.call(this,re[R]),this.message=re[R],Error.captureStackTrace&&Error.captureStackTrace(this,Xe);return ie.code=R,F&&(this.message=this.message+": "+F),ie}function vt(){}function Gt(R,F){this._node=R,this._refresh=F,Ut(this)}function Ut(R){var F=R._node._inc||R._node.ownerDocument._inc;if(R._inc!==F){var ie=R._refresh(R._node);if(ea(R,"length",ie.length),!R.$$length||ie.length<R.$$length)for(var et=ie.length;et in R;et++)Object.prototype.hasOwnProperty.call(R,et)&&delete R[et];f(ie,R),R._inc=F}}function St(){}function nn(R,F){for(var ie=R.length;ie--;)if(R[ie]===F)return ie}function rn(R,F,ie,et){if(et?F[nn(F,et)]=ie:F[F.length++]=ie,R){ie.ownerElement=R;var Et=R.ownerDocument;Et&&(et&&Jt(Et,R,et),function yt(R,F,ie){R&&R._inc++,ie.namespaceURI===ce.XMLNS&&(F._nsMap[ie.prefix?ie.localName:""]=ie.value)}(Et,R,ie))}}function xn(R,F,ie){var et=nn(F,ie);if(!(et>=0))throw new Xe(Ft,new Error(R.tagName+"@"+ie));for(var Et=F.length-1;et<Et;)F[et]=F[++et];if(F.length=Et,R){var $e=R.ownerDocument;$e&&(Jt($e,R,ie),ie.ownerElement=null)}}function ln(){}function Xt(){}function G(R){return("<"==R?"&lt;":">"==R&&"&gt;")||"&"==R&&"&amp;"||'"'==R&&"&quot;"||"&#"+R.charCodeAt()+";"}function He(R,F){if(F(R))return!0;if(R=R.firstChild)do{if(He(R,F))return!0}while(R=R.nextSibling)}function Fe(){this.ownerDocument=this}function Jt(R,F,ie,et){R&&R._inc++,ie.namespaceURI===ce.XMLNS&&delete F._nsMap[ie.prefix?ie.localName:""]}function Mn(R,F,ie){if(R&&R._inc){R._inc++;var et=F.childNodes;if(ie)et[et.length++]=ie;else{for(var Et=F.firstChild,$e=0;Et;)et[$e++]=Et,Et=Et.nextSibling;et.length=$e,delete et[et.length]}}}function Ln(R,F){var ie=F.previousSibling,et=F.nextSibling;return ie?ie.nextSibling=et:R.firstChild=et,et?et.previousSibling=ie:R.lastChild=ie,F.parentNode=null,F.previousSibling=null,F.nextSibling=null,Mn(R.ownerDocument,R),F}function Pn(R){return R&&R.nodeType===Xt.DOCUMENT_TYPE_NODE}function Gn(R){return R&&R.nodeType===Xt.ELEMENT_NODE}function Sr(R){return R&&R.nodeType===Xt.TEXT_NODE}function Jr(R,F){var ie=R.childNodes||[];if(ge(ie,Gn)||Pn(F))return!1;var et=ge(ie,Pn);return!(F&&et&&ie.indexOf(et)>ie.indexOf(F))}function B(R,F){var ie=R.childNodes||[];if(ge(ie,function et($e){return Gn($e)&&$e!==F}))return!1;var Et=ge(ie,Pn);return!(F&&Et&&ie.indexOf(Et)>ie.indexOf(F))}function S(R,F,ie){var et=R.childNodes||[],Et=F.childNodes||[];if(F.nodeType===Xt.DOCUMENT_FRAGMENT_NODE){var $e=Et.filter(Gn);if($e.length>1||ge(Et,Sr))throw new Xe(Pe,"More than one element or text in fragment");if(1===$e.length&&!Jr(R,ie))throw new Xe(Pe,"Element in fragment can not be inserted before doctype")}if(Gn(F)&&!Jr(R,ie))throw new Xe(Pe,"Only one element can be added and only after doctype");if(Pn(F)){if(ge(et,Pn))throw new Xe(Pe,"Only one doctype is allowed");var Qn=ge(et,Gn);if(ie&&et.indexOf(Qn)<et.indexOf(ie))throw new Xe(Pe,"Doctype can only be inserted before an element");if(!ie&&Qn)throw new Xe(Pe,"Doctype can not be appended since element is present")}}function U(R,F,ie){var et=R.childNodes||[],Et=F.childNodes||[];if(F.nodeType===Xt.DOCUMENT_FRAGMENT_NODE){var $e=Et.filter(Gn);if($e.length>1||ge(Et,Sr))throw new Xe(Pe,"More than one element or text in fragment");if(1===$e.length&&!B(R,ie))throw new Xe(Pe,"Element in fragment can not be inserted before doctype")}if(Gn(F)&&!B(R,ie))throw new Xe(Pe,"Only one element can be added and only after doctype");if(Pn(F)){if(ge(et,function(ur){return Pn(ur)&&ur!==ie}))throw new Xe(Pe,"Only one doctype is allowed");var Qn=ge(et,Gn);if(ie&&et.indexOf(Qn)<et.indexOf(ie))throw new Xe(Pe,"Doctype can only be inserted before an element")}}function Me(R,F,ie,et){(function A(R,F,ie){if(!function on(R){return R&&(R.nodeType===Xt.DOCUMENT_NODE||R.nodeType===Xt.DOCUMENT_FRAGMENT_NODE||R.nodeType===Xt.ELEMENT_NODE)}(R))throw new Xe(Pe,"Unexpected parent node type "+R.nodeType);if(ie&&ie.parentNode!==R)throw new Xe(Ft,"child not in parent");if(!function cn(R){return R&&(Gn(R)||Sr(R)||Pn(R)||R.nodeType===Xt.DOCUMENT_FRAGMENT_NODE||R.nodeType===Xt.COMMENT_NODE||R.nodeType===Xt.PROCESSING_INSTRUCTION_NODE)}(F)||Pn(F)&&R.nodeType!==Xt.DOCUMENT_NODE)throw new Xe(Pe,"Unexpected node type "+F.nodeType+" for parent node type "+R.nodeType)})(R,F,ie),R.nodeType===Xt.DOCUMENT_NODE&&(et||S)(R,F,ie);var Et=F.parentNode;if(Et&&Et.removeChild(F),F.nodeType===Le){var $e=F.firstChild;if(null==$e)return F;var Qn=F.lastChild}else $e=Qn=F;var ws=ie?ie.previousSibling:R.lastChild;$e.previousSibling=ws,Qn.nextSibling=ie,ws?ws.nextSibling=$e:R.firstChild=$e,null==ie?R.lastChild=Qn:ie.previousSibling=Qn;do{$e.parentNode=R}while($e!==Qn&&($e=$e.nextSibling));return Mn(R.ownerDocument||R,R),F.nodeType==Le&&(F.firstChild=F.lastChild=null),F}function lt(){this._nsMap={}}function an(){}function Ee(){}function Re(){}function le(){}function ze(){}function ct(){}function st(){}function qt(){}function zn(){}function Rn(){}function Sn(){}function cr(){}function ir(R,F){var ie=[],et=9==this.nodeType&&this.documentElement||this,Et=et.prefix,$e=et.namespaceURI;if($e&&null==Et&&null==(Et=et.lookupPrefix($e)))var Qn=[{namespace:$e,prefix:null}];return qr(this,ie,R,F,Qn),ie.join("")}function Mr(R,F,ie){var et=R.prefix||"",Et=R.namespaceURI;if(!Et||"xml"===et&&Et===ce.XML||Et===ce.XMLNS)return!1;for(var $e=ie.length;$e--;){var Qn=ie[$e];if(Qn.prefix===et)return Qn.namespace!==Et}return!0}function Os(R,F,ie){R.push(" ",F,'="',ie.replace(/[<>&"\t\n\r]/g,G),'"')}function qr(R,F,ie,et,Et){if(Et||(Et=[]),et){if(!(R=et(R)))return;if("string"==typeof R)return void F.push(R)}switch(R.nodeType){case be:var $e=R.attributes,Qn=$e.length,wr=R.firstChild,ws=R.tagName,pr=ws;if(!(ie=ce.isHTML(R.namespaceURI)||ie)&&!R.prefix&&R.namespaceURI){for(var ur,qs=0;qs<$e.length;qs++)if("xmlns"===$e.item(qs).name){ur=$e.item(qs).value;break}if(!ur)for(var Ai=Et.length-1;Ai>=0;Ai--)if(""===(xs=Et[Ai]).prefix&&xs.namespace===R.namespaceURI){ur=xs.namespace;break}if(ur!==R.namespaceURI)for(Ai=Et.length-1;Ai>=0;Ai--){var xs;if((xs=Et[Ai]).namespace===R.namespaceURI){xs.prefix&&(pr=xs.prefix+":"+ws);break}}}F.push("<",pr);for(var Ws=0;Ws<Qn;Ws++)"xmlns"==(Ds=$e.item(Ws)).prefix?Et.push({prefix:Ds.localName,namespace:Ds.value}):"xmlns"==Ds.nodeName&&Et.push({prefix:"",namespace:Ds.value});for(Ws=0;Ws<Qn;Ws++){var Ds,Qs,Mt;Mr(Ds=$e.item(Ws),0,Et)&&(Os(F,(Qs=Ds.prefix||"")?"xmlns:"+Qs:"xmlns",Mt=Ds.namespaceURI),Et.push({prefix:Qs,namespace:Mt})),qr(Ds,F,ie,et,Et)}if(ws===pr&&Mr(R,0,Et)&&(Os(F,(Qs=R.prefix||"")?"xmlns:"+Qs:"xmlns",Mt=R.namespaceURI),Et.push({prefix:Qs,namespace:Mt})),wr||ie&&!/^(?:meta|link|img|br|hr|input)$/i.test(ws)){if(F.push(">"),ie&&/^script$/i.test(ws))for(;wr;)wr.data?F.push(wr.data):qr(wr,F,ie,et,Et.slice()),wr=wr.nextSibling;else for(;wr;)qr(wr,F,ie,et,Et.slice()),wr=wr.nextSibling;F.push("</",pr,">")}else F.push("/>");return;case ae:case Le:for(wr=R.firstChild;wr;)qr(wr,F,ie,et,Et.slice()),wr=wr.nextSibling;return;case j:return Os(F,R.name,R.value);case W:return F.push(R.data.replace(/[<&>]/g,G));case se:return F.push("<![CDATA[",R.data,"]]>");case D:return F.push("\x3c!--",R.data,"--\x3e");case ue:var Bs=R.publicId,cs=R.systemId;if(F.push("<!DOCTYPE ",R.name),Bs)F.push(" PUBLIC ",Bs),cs&&"."!=cs&&F.push(" ",cs),F.push(">");else if(cs&&"."!=cs)F.push(" SYSTEM ",cs,">");else{var un=R.internalSubset;un&&F.push(" [",un,"]"),F.push(">")}return;case X:return F.push("<?",R.target," ",R.data,"?>");case pe:return F.push("&",R.nodeName,";");default:F.push("??",R.nodeName)}}function Vi(R,F,ie){var et;switch(F.nodeType){case be:(et=F.cloneNode(!1)).ownerDocument=R;case Le:break;case j:ie=!0}if(et||(et=F.cloneNode(!1)),et.ownerDocument=R,et.parentNode=null,ie)for(var Et=F.firstChild;Et;)et.appendChild(Vi(R,Et,ie)),Et=Et.nextSibling;return et}function Js(R,F,ie){var et=new F.constructor;for(var Et in F)if(Object.prototype.hasOwnProperty.call(F,Et)){var $e=F[Et];"object"!=typeof $e&&$e!=et[Et]&&(et[Et]=$e)}switch(F.childNodes&&(et.childNodes=new vt),et.ownerDocument=R,et.nodeType){case be:var Qn=F.attributes,ws=et.attributes=new St,pr=Qn.length;ws._ownerElement=et;for(var ur=0;ur<pr;ur++)et.setAttributeNode(Js(R,Qn.item(ur),!0));break;case j:ie=!0}if(ie)for(var qs=F.firstChild;qs;)et.appendChild(Js(R,qs,ie)),qs=qs.nextSibling;return et}function ea(R,F,ie){R[F]=ie}Ue.INVALID_STATE_ERR=(re[11]="Invalid state",11),Ue.SYNTAX_ERR=(re[12]="Syntax error",12),Ue.INVALID_MODIFICATION_ERR=(re[13]="Invalid modification",13),Ue.NAMESPACE_ERR=(re[14]="Invalid namespace",14),Ue.INVALID_ACCESS_ERR=(re[15]="Invalid access",15),Xe.prototype=Error.prototype,f(Ue,Xe),vt.prototype={length:0,item:function(R){return R>=0&&R<this.length?this[R]:null},toString:function(R,F){for(var ie=[],et=0;et<this.length;et++)qr(this[et],ie,R,F);return ie.join("")},filter:function(R){return Array.prototype.filter.call(this,R)},indexOf:function(R){return Array.prototype.indexOf.call(this,R)}},Gt.prototype.item=function(R){return Ut(this),this[R]||null},_e(Gt,vt),St.prototype={length:0,item:vt.prototype.item,getNamedItem:function(R){for(var F=this.length;F--;){var ie=this[F];if(ie.nodeName==R)return ie}},setNamedItem:function(R){var F=R.ownerElement;if(F&&F!=this._ownerElement)throw new Xe(L);var ie=this.getNamedItem(R.nodeName);return rn(this._ownerElement,this,R,ie),ie},setNamedItemNS:function(R){var ie,F=R.ownerElement;if(F&&F!=this._ownerElement)throw new Xe(L);return ie=this.getNamedItemNS(R.namespaceURI,R.localName),rn(this._ownerElement,this,R,ie),ie},removeNamedItem:function(R){var F=this.getNamedItem(R);return xn(this._ownerElement,this,F),F},removeNamedItemNS:function(R,F){var ie=this.getNamedItemNS(R,F);return xn(this._ownerElement,this,ie),ie},getNamedItemNS:function(R,F){for(var ie=this.length;ie--;){var et=this[ie];if(et.localName==F&&et.namespaceURI==R)return et}return null}},ln.prototype={hasFeature:function(R,F){return!0},createDocument:function(R,F,ie){var et=new Fe;if(et.implementation=this,et.childNodes=new vt,et.doctype=ie||null,ie&&et.appendChild(ie),F){var Et=et.createElementNS(R,F);et.appendChild(Et)}return et},createDocumentType:function(R,F,ie){var et=new ct;return et.name=R,et.nodeName=R,et.publicId=F||"",et.systemId=ie||"",et}},Xt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(R,F){return Me(this,R,F)},replaceChild:function(R,F){Me(this,R,F,U),F&&this.removeChild(F)},removeChild:function(R){return Ln(this,R)},appendChild:function(R){return this.insertBefore(R,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(R){return Js(this.ownerDocument||this,this,R)},normalize:function(){for(var R=this.firstChild;R;){var F=R.nextSibling;F&&F.nodeType==W&&R.nodeType==W?(this.removeChild(F),R.appendData(F.data)):(R.normalize(),R=F)}},isSupported:function(R,F){return this.ownerDocument.implementation.hasFeature(R,F)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(R){for(var F=this;F;){var ie=F._nsMap;if(ie)for(var et in ie)if(Object.prototype.hasOwnProperty.call(ie,et)&&ie[et]===R)return et;F=F.nodeType==j?F.ownerDocument:F.parentNode}return null},lookupNamespaceURI:function(R){for(var F=this;F;){var ie=F._nsMap;if(ie&&Object.prototype.hasOwnProperty.call(ie,R))return ie[R];F=F.nodeType==j?F.ownerDocument:F.parentNode}return null},isDefaultNamespace:function(R){return null==this.lookupPrefix(R)}},f(he,Xt),f(he,Xt.prototype),Fe.prototype={nodeName:"#document",nodeType:ae,doctype:null,documentElement:null,_inc:1,insertBefore:function(R,F){if(R.nodeType==Le){for(var ie=R.firstChild;ie;){var et=ie.nextSibling;this.insertBefore(ie,F),ie=et}return R}return Me(this,R,F),R.ownerDocument=this,null===this.documentElement&&R.nodeType===be&&(this.documentElement=R),R},removeChild:function(R){return this.documentElement==R&&(this.documentElement=null),Ln(this,R)},replaceChild:function(R,F){Me(this,R,F,U),R.ownerDocument=this,F&&this.removeChild(F),Gn(R)&&(this.documentElement=R)},importNode:function(R,F){return Vi(this,R,F)},getElementById:function(R){var F=null;return He(this.documentElement,function(ie){if(ie.nodeType==be&&ie.getAttribute("id")==R)return F=ie,!0}),F},getElementsByClassName:function(R){var F=H(R);return new Gt(this,function(ie){var et=[];return F.length>0&&He(ie.documentElement,function(Et){if(Et!==ie&&Et.nodeType===be){var $e=Et.getAttribute("class");if($e){var Qn=R===$e;if(!Qn){var ws=H($e);Qn=F.every(function k(R){return function(F){return R&&-1!==R.indexOf(F)}}(ws))}Qn&&et.push(Et)}}}),et})},createElement:function(R){var F=new lt;return F.ownerDocument=this,F.nodeName=R,F.tagName=R,F.localName=R,F.childNodes=new vt,(F.attributes=new St)._ownerElement=F,F},createDocumentFragment:function(){var R=new Rn;return R.ownerDocument=this,R.childNodes=new vt,R},createTextNode:function(R){var F=new Re;return F.ownerDocument=this,F.appendData(R),F},createComment:function(R){var F=new le;return F.ownerDocument=this,F.appendData(R),F},createCDATASection:function(R){var F=new ze;return F.ownerDocument=this,F.appendData(R),F},createProcessingInstruction:function(R,F){var ie=new Sn;return ie.ownerDocument=this,ie.tagName=ie.nodeName=ie.target=R,ie.nodeValue=ie.data=F,ie},createAttribute:function(R){var F=new an;return F.ownerDocument=this,F.name=R,F.nodeName=R,F.localName=R,F.specified=!0,F},createEntityReference:function(R){var F=new zn;return F.ownerDocument=this,F.nodeName=R,F},createElementNS:function(R,F){var ie=new lt,et=F.split(":"),Et=ie.attributes=new St;return ie.childNodes=new vt,ie.ownerDocument=this,ie.nodeName=F,ie.tagName=F,ie.namespaceURI=R,2==et.length?(ie.prefix=et[0],ie.localName=et[1]):ie.localName=F,Et._ownerElement=ie,ie},createAttributeNS:function(R,F){var ie=new an,et=F.split(":");return ie.ownerDocument=this,ie.nodeName=F,ie.name=F,ie.namespaceURI=R,ie.specified=!0,2==et.length?(ie.prefix=et[0],ie.localName=et[1]):ie.localName=F,ie}},_e(Fe,Xt),Fe.prototype.getElementsByTagName=(lt.prototype={nodeType:be,hasAttribute:function(R){return null!=this.getAttributeNode(R)},getAttribute:function(R){var F=this.getAttributeNode(R);return F&&F.value||""},getAttributeNode:function(R){return this.attributes.getNamedItem(R)},setAttribute:function(R,F){var ie=this.ownerDocument.createAttribute(R);ie.value=ie.nodeValue=""+F,this.setAttributeNode(ie)},removeAttribute:function(R){var F=this.getAttributeNode(R);F&&this.removeAttributeNode(F)},appendChild:function(R){return R.nodeType===Le?this.insertBefore(R,null):function Ke(R,F){return F.parentNode&&F.parentNode.removeChild(F),F.parentNode=R,F.previousSibling=R.lastChild,F.nextSibling=null,F.previousSibling?F.previousSibling.nextSibling=F:R.firstChild=F,R.lastChild=F,Mn(R.ownerDocument,R,F),F}(this,R)},setAttributeNode:function(R){return this.attributes.setNamedItem(R)},setAttributeNodeNS:function(R){return this.attributes.setNamedItemNS(R)},removeAttributeNode:function(R){return this.attributes.removeNamedItem(R.nodeName)},removeAttributeNS:function(R,F){var ie=this.getAttributeNodeNS(R,F);ie&&this.removeAttributeNode(ie)},hasAttributeNS:function(R,F){return null!=this.getAttributeNodeNS(R,F)},getAttributeNS:function(R,F){var ie=this.getAttributeNodeNS(R,F);return ie&&ie.value||""},setAttributeNS:function(R,F,ie){var et=this.ownerDocument.createAttributeNS(R,F);et.value=et.nodeValue=""+ie,this.setAttributeNode(et)},getAttributeNodeNS:function(R,F){return this.attributes.getNamedItemNS(R,F)},getElementsByTagName:function(R){return new Gt(this,function(F){var ie=[];return He(F,function(et){et!==F&&et.nodeType==be&&("*"===R||et.tagName==R)&&ie.push(et)}),ie})},getElementsByTagNameNS:function(R,F){return new Gt(this,function(ie){var et=[];return He(ie,function(Et){Et!==ie&&Et.nodeType===be&&("*"===R||Et.namespaceURI===R)&&("*"===F||Et.localName==F)&&et.push(Et)}),et})}}).getElementsByTagName,Fe.prototype.getElementsByTagNameNS=lt.prototype.getElementsByTagNameNS,_e(lt,Xt),an.prototype.nodeType=j,_e(an,Xt),Ee.prototype={data:"",substringData:function(R,F){return this.data.substring(R,R+F)},appendData:function(R){this.nodeValue=this.data=R=this.data+R,this.length=R.length},insertData:function(R,F){this.replaceData(R,0,F)},appendChild:function(R){throw new Error(re[Pe])},deleteData:function(R,F){this.replaceData(R,F,"")},replaceData:function(R,F,ie){var et=this.data.substring(0,R),Et=this.data.substring(R+F);this.nodeValue=this.data=ie=et+ie+Et,this.length=ie.length}},_e(Ee,Xt),Re.prototype={nodeName:"#text",nodeType:W,splitText:function(R){var F=this.data,ie=F.substring(R);F=F.substring(0,R),this.data=this.nodeValue=F,this.length=F.length;var et=this.ownerDocument.createTextNode(ie);return this.parentNode&&this.parentNode.insertBefore(et,this.nextSibling),et}},_e(Re,Ee),le.prototype={nodeName:"#comment",nodeType:D},_e(le,Ee),ze.prototype={nodeName:"#cdata-section",nodeType:se},_e(ze,Ee),ct.prototype.nodeType=ue,_e(ct,Xt),st.prototype.nodeType=J,_e(st,Xt),qt.prototype.nodeType=oe,_e(qt,Xt),zn.prototype.nodeType=pe,_e(zn,Xt),Rn.prototype.nodeName="#document-fragment",Rn.prototype.nodeType=Le,_e(Rn,Xt),Sn.prototype.nodeType=X,_e(Sn,Xt),cr.prototype.serializeToString=function(R,F,ie){return ir.call(R,F,ie)},Xt.prototype.toString=ir;try{if(Object.defineProperty){let R=function(F){switch(F.nodeType){case be:case Le:var ie=[];for(F=F.firstChild;F;)7!==F.nodeType&&8!==F.nodeType&&ie.push(R(F)),F=F.nextSibling;return ie.join("");default:return F.nodeValue}};Object.defineProperty(Gt.prototype,"length",{get:function(){return Ut(this),this.$$length}}),Object.defineProperty(Xt.prototype,"textContent",{get:function(){return R(this)},set:function(F){switch(this.nodeType){case be:case Le:for(;this.firstChild;)this.removeChild(this.firstChild);(F||String(F))&&this.appendChild(this.ownerDocument.createTextNode(F));break;default:this.data=F,this.value=F,this.nodeValue=F}}}),ea=function(F,ie,et){F["$$"+ie]=et}}}catch{}je.DocumentType=ct,je.DOMException=Xe,je.DOMImplementation=ln,je.Element=lt,je.Node=Xt,je.NodeList=vt,je.XMLSerializer=cr},6443:(Ge,je,K)=>{"use strict";var Z=K(2834).freeze;je.XML_ENTITIES=Z({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),je.HTML_ENTITIES=Z({Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\u{1d504}",afr:"\u{1d51e}",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",AMP:"&",amp:"&",And:"\u2a53",and:"\u2227",andand:"\u2a55",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1d538}",aopf:"\u{1d552}",ap:"\u2248",apacir:"\u2a6f",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\u{1d49c}",ascr:"\u{1d4b6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\u{1d505}",bfr:"\u{1d51f}",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\u{1d539}",bopf:"\u{1d553}",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250c",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252c",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxUL:"\u255d",boxUl:"\u255c",boxuL:"\u255b",boxul:"\u2518",boxUR:"\u255a",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256c",boxVh:"\u256b",boxvH:"\u256a",boxvh:"\u253c",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255f",boxvR:"\u255e",boxvr:"\u251c",bprime:"\u2035",Breve:"\u02d8",breve:"\u02d8",brvbar:"\xa6",Bscr:"\u212c",bscr:"\u{1d4b7}",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsol:"\\",bsolb:"\u29c5",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22d2",cap:"\u2229",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",CenterDot:"\xb7",centerdot:"\xb7",Cfr:"\u212d",cfr:"\u{1d520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",cir:"\u25cb",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",Conint:"\u222f",conint:"\u222e",ContourIntegral:"\u222e",Copf:"\u2102",copf:"\u{1d554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xa9",copy:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",Cross:"\u2a2f",cross:"\u2717",Cscr:"\u{1d49e}",cscr:"\u{1d4b8}",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",Cup:"\u22d3",cup:"\u222a",cupbrcap:"\u2a48",CupCap:"\u224d",cupcap:"\u2a46",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21a1",dArr:"\u21d3",darr:"\u2193",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21ca",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\u{1d507}",dfr:"\u{1d521}",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",Diamond:"\u22c4",diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\u{1d53b}",dopf:"\u{1d555}",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21d3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVector:"\u21bd",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295f",DownRightVector:"\u21c1",DownRightVectorBar:"\u2957",DownTee:"\u22a4",DownTeeArrow:"\u21a7",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\u{1d49f}",dscr:"\u{1d4b9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",ecir:"\u2256",Ecirc:"\xca",ecirc:"\xea",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1d508}",efr:"\u{1d522}",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1d53c}",eopf:"\u{1d556}",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212f",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\u{1d509}",ffr:"\u{1d523}",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\u{1d53d}",fopf:"\u{1d557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1d4bb}",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",ges:"\u2a7e",gescc:"\u2aa9",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\u{1d50a}",gfr:"\u{1d524}",Gg:"\u22d9",gg:"\u226b",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2aa5",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gnE:"\u2269",gne:"\u2a88",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\u{1d53e}",gopf:"\u{1d558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\u{1d4a2}",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",Gt:"\u226b",GT:">",gt:">",gtcc:"\u2aa7",gtcir:"\u2a7a",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",hArr:"\u21d4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",Hfr:"\u210c",hfr:"\u{1d525}",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",Hopf:"\u210d",hopf:"\u{1d559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210b",hscr:"\u{1d4bd}",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",Ifr:"\u2111",ifr:"\u{1d526}",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",in:"\u2208",incare:"\u2105",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",Int:"\u222c",int:"\u222b",intcal:"\u22ba",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\u{1d540}",iopf:"\u{1d55a}",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",Iscr:"\u2110",iscr:"\u{1d4be}",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1d50d}",jfr:"\u{1d527}",jmath:"\u0237",Jopf:"\u{1d541}",jopf:"\u{1d55b}",Jscr:"\u{1d4a5}",jscr:"\u{1d4bf}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\u{1d50e}",kfr:"\u{1d528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\u{1d542}",kopf:"\u{1d55c}",Kscr:"\u{1d4a6}",kscr:"\u{1d4c0}",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",Lang:"\u27ea",lang:"\u27e8",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",Larr:"\u219e",lArr:"\u21d0",larr:"\u2190",larrb:"\u21e4",larrbfs:"\u291f",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",lat:"\u2aab",lAtail:"\u291b",latail:"\u2919",late:"\u2aad",lates:"\u2aad\ufe00",lBarr:"\u290e",lbarr:"\u290c",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27e8",LeftArrow:"\u2190",Leftarrow:"\u21d0",leftarrow:"\u2190",LeftArrowBar:"\u21e4",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21c3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrow:"\u2194",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTee:"\u22a3",LeftTeeArrow:"\u21a4",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangle:"\u22b2",LeftTriangleBar:"\u29cf",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21bf",LeftUpVectorBar:"\u2958",LeftVector:"\u21bc",LeftVectorBar:"\u2952",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",les:"\u2a7d",lescc:"\u2aa8",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\u{1d50f}",lfr:"\u{1d529}",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22d8",ll:"\u226a",llarr:"\u21c7",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoust:"\u23b0",lmoustache:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lnE:"\u2268",lne:"\u2a87",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftarrow:"\u27f5",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longleftrightarrow:"\u27f7",longmapsto:"\u27fc",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",longrightarrow:"\u27f6",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\u{1d543}",lopf:"\u{1d55d}",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1d4c1}",Lsh:"\u21b0",lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226a",LT:"<",lt:"<",ltcc:"\u2aa6",ltcir:"\u2a79",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\u{1d510}",mfr:"\u{1d52a}",mho:"\u2127",micro:"\xb5",mid:"\u2223",midast:"*",midcir:"\u2af0",middot:"\xb7",minus:"\u2212",minusb:"\u229f",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\u{1d544}",mopf:"\u{1d55e}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1d4c2}",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266e",natural:"\u266e",naturals:"\u2115",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21d7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1d511}",nfr:"\u{1d52b}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nhArr:"\u21ce",nharr:"\u21ae",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlArr:"\u21cd",nlarr:"\u219a",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21cd",nleftarrow:"\u219a",nLeftrightarrow:"\u21ce",nleftrightarrow:"\u21ae",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",Nopf:"\u2115",nopf:"\u{1d55f}",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangle:"\u22ea",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangle:"\u22eb",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",npre:"\u2aaf\u0338",nprec:"\u2280",npreceq:"\u2aaf\u0338",nrArr:"\u21cf",nrarr:"\u219b",nrarrc:"\u2933\u0338",nrarrw:"\u219d\u0338",nRightarrow:"\u21cf",nrightarrow:"\u219b",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\u{1d4a9}",nscr:"\u{1d4c3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nVDash:"\u22af",nVdash:"\u22ae",nvDash:"\u22ad",nvdash:"\u22ac",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwArr:"\u21d6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",ocir:"\u229a",Ocirc:"\xd4",ocirc:"\xf4",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\u{1d512}",ofr:"\u{1d52c}",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\u{1d546}",oopf:"\u{1d560}",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",Or:"\u2a54",or:"\u2228",orarr:"\u21bb",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\u{1d4aa}",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",Otimes:"\u2a37",otimes:"\u2297",otimesas:"\u2a36",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",par:"\u2225",para:"\xb6",parallel:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\u{1d513}",pfr:"\u{1d52d}",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plus:"+",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",Popf:"\u2119",popf:"\u{1d561}",pound:"\xa3",Pr:"\u2abb",pr:"\u227a",prap:"\u2ab7",prcue:"\u227c",prE:"\u2ab3",pre:"\u2aaf",prec:"\u227a",precapprox:"\u2ab7",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",precsim:"\u227e",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportion:"\u2237",Proportional:"\u221d",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\u{1d4ab}",pscr:"\u{1d4c5}",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\u{1d514}",qfr:"\u{1d52e}",qint:"\u2a0c",Qopf:"\u211a",qopf:"\u{1d562}",qprime:"\u2057",Qscr:"\u{1d4ac}",qscr:"\u{1d4c6}",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",QUOT:'"',quot:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",Rang:"\u27eb",rang:"\u27e9",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",Rarr:"\u21a0",rArr:"\u21d2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",rAtail:"\u291c",ratail:"\u291a",ratio:"\u2236",rationals:"\u211a",RBarr:"\u2910",rBarr:"\u290f",rbarr:"\u290d",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",Re:"\u211c",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",rect:"\u25ad",REG:"\xae",reg:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",Rfr:"\u211c",rfr:"\u{1d52f}",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrow:"\u2192",Rightarrow:"\u21d2",rightarrow:"\u2192",RightArrowBar:"\u21e5",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVector:"\u21c2",RightDownVectorBar:"\u2955",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTee:"\u22a2",RightTeeArrow:"\u21a6",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangle:"\u22b3",RightTriangleBar:"\u29d0",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVector:"\u21be",RightUpVectorBar:"\u2954",RightVector:"\u21c0",RightVectorBar:"\u2953",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoust:"\u23b1",rmoustache:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",Ropf:"\u211d",ropf:"\u{1d563}",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",Rscr:"\u211b",rscr:"\u{1d4c7}",Rsh:"\u21b1",rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",Sc:"\u2abc",sc:"\u227b",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227d",scE:"\u2ab4",sce:"\u2ab0",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdot:"\u22c5",sdotb:"\u22a1",sdote:"\u2a66",searhk:"\u2925",seArr:"\u21d8",searr:"\u2198",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1d516}",sfr:"\u{1d530}",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",sol:"/",solb:"\u29c4",solbar:"\u233f",Sopf:"\u{1d54a}",sopf:"\u{1d564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25a1",Square:"\u25a1",square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squf:"\u25aa",srarr:"\u2192",Sscr:"\u{1d4ae}",sscr:"\u{1d4c8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",Sub:"\u22d0",sub:"\u2282",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",Subset:"\u22d0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succ:"\u227b",succapprox:"\u2ab8",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",Sum:"\u2211",sum:"\u2211",sung:"\u266a",Sup:"\u22d1",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",Supset:"\u22d1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swArr:"\u21d9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\u{1d517}",tfr:"\u{1d531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",Tilde:"\u223c",tilde:"\u02dc",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xd7",timesb:"\u22a0",timesbar:"\u2a31",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",top:"\u22a4",topbot:"\u2336",topcir:"\u2af1",Topf:"\u{1d54b}",topf:"\u{1d565}",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\u{1d4af}",tscr:"\u{1d4c9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",Uarr:"\u219f",uArr:"\u21d1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\u{1d518}",ufr:"\u{1d532}",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1d54c}",uopf:"\u{1d566}",UpArrow:"\u2191",Uparrow:"\u21d1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21c5",UpDownArrow:"\u2195",Updownarrow:"\u21d5",updownarrow:"\u2195",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03d2",upsi:"\u03c5",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTee:"\u22a5",UpTeeArrow:"\u21a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\u{1d4b0}",uscr:"\u{1d4ca}",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",vArr:"\u21d5",varr:"\u2195",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",Vbar:"\u2aeb",vBar:"\u2ae8",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22ab",Vdash:"\u22a9",vDash:"\u22a8",vdash:"\u22a2",Vdashl:"\u2ae6",Vee:"\u22c1",vee:"\u2228",veebar:"\u22bb",veeeq:"\u225a",vellip:"\u22ee",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\u{1d519}",vfr:"\u{1d533}",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\u{1d54d}",vopf:"\u{1d567}",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\u{1d4b1}",vscr:"\u{1d4cb}",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",Wedge:"\u22c0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1d51a}",wfr:"\u{1d534}",Wopf:"\u{1d54e}",wopf:"\u{1d568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1d4b2}",wscr:"\u{1d4cc}",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\u{1d51b}",xfr:"\u{1d535}",xhArr:"\u27fa",xharr:"\u27f7",Xi:"\u039e",xi:"\u03be",xlArr:"\u27f8",xlarr:"\u27f5",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\u{1d54f}",xopf:"\u{1d569}",xoplus:"\u2a01",xotime:"\u2a02",xrArr:"\u27f9",xrarr:"\u27f6",Xscr:"\u{1d4b3}",xscr:"\u{1d4cd}",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\u{1d51c}",yfr:"\u{1d536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1d550}",yopf:"\u{1d56a}",Yscr:"\u{1d4b4}",yscr:"\u{1d4ce}",YUcy:"\u042e",yucy:"\u044e",Yuml:"\u0178",yuml:"\xff",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",Zfr:"\u2128",zfr:"\u{1d537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",Zopf:"\u2124",zopf:"\u{1d56b}",Zscr:"\u{1d4b5}",zscr:"\u{1d4cf}",zwj:"\u200d",zwnj:"\u200c"}),je.entityMap=je.HTML_ENTITIES},2502:(Ge,je,K)=>{K(8486);je.DOMParser=K(7044).DOMParser},3742:(Ge,je,K)=>{var Z=K(2834).NAMESPACE,ge=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ce=new RegExp("[\\-\\.0-9"+ge.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Ve=new RegExp("^"+ge.source+ce.source+"*(?::"+ge.source+ce.source+"*)?$");function j(xe,De){this.message=xe,this.locator=De,Error.captureStackTrace&&Error.captureStackTrace(this,j)}function W(){}function pe(xe,De){return De.lineNumber=xe.lineNumber,De.columnNumber=xe.columnNumber,De}function oe(xe,De,Pe,te,ye,wt){function mt(Ne,ht,Xe){Pe.attributeNames.hasOwnProperty(Ne)&&wt.fatalError("Attribute "+Ne+" redefined"),Pe.addValue(Ne,ht.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,ye),Xe)}for(var Ft,L=++De,V=0;;){var $=xe.charAt(L);switch($){case"=":if(1===V)Ft=xe.slice(De,L),V=3;else{if(2!==V)throw new Error("attribute equal must after attrName");V=3}break;case"'":case'"':if(3===V||1===V){if(1===V&&(wt.warning('attribute value must after "="'),Ft=xe.slice(De,L)),!((L=xe.indexOf($,De=L+1))>0))throw new Error("attribute value no end '"+$+"' match");mt(Ft,bt=xe.slice(De,L),De-1),V=5}else{if(4!=V)throw new Error('attribute value must after "="');mt(Ft,bt=xe.slice(De,L),De),wt.warning('attribute "'+Ft+'" missed start quot('+$+")!!"),De=L+1,V=5}break;case"/":switch(V){case 0:Pe.setTagName(xe.slice(De,L));case 5:case 6:case 7:V=7,Pe.closed=!0;case 4:case 1:break;case 2:Pe.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return wt.error("unexpected end of input"),0==V&&Pe.setTagName(xe.slice(De,L)),L;case">":switch(V){case 0:Pe.setTagName(xe.slice(De,L));case 5:case 6:case 7:break;case 4:case 1:"/"===(bt=xe.slice(De,L)).slice(-1)&&(Pe.closed=!0,bt=bt.slice(0,-1));case 2:2===V&&(bt=Ft),4==V?(wt.warning('attribute "'+bt+'" missed quot(")!'),mt(Ft,bt,De)):((!Z.isHTML(te[""])||!bt.match(/^(?:disabled|checked|selected)$/i))&&wt.warning('attribute "'+bt+'" missed value!! "'+bt+'" instead!!'),mt(bt,bt,De));break;case 3:throw new Error("attribute value missed!!")}return L;case"\x80":$=" ";default:if($<=" ")switch(V){case 0:Pe.setTagName(xe.slice(De,L)),V=6;break;case 1:Ft=xe.slice(De,L),V=2;break;case 4:var bt=xe.slice(De,L);wt.warning('attribute "'+bt+'" missed quot(")!!'),mt(Ft,bt,De);case 5:V=6}else switch(V){case 2:(!Z.isHTML(te[""])||!Ft.match(/^(?:disabled|checked|selected)$/i))&&wt.warning('attribute "'+Ft+'" missed value!! "'+Ft+'" instead2!!'),mt(Ft,Ft,De),De=L,V=1;break;case 5:wt.warning('attribute space is required"'+Ft+'"!!');case 6:V=1,De=L;break;case 3:V=4,De=L;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}L++}}function X(xe,De,Pe){for(var te=xe.tagName,ye=null,$=xe.length;$--;){var wt=xe[$],mt=wt.qName,Ft=wt.value;if((Ae=mt.indexOf(":"))>0)var bt=wt.prefix=mt.slice(0,Ae),L=mt.slice(Ae+1),V="xmlns"===bt&&L;else L=mt,bt=null,V="xmlns"===mt&&"";wt.localName=L,!1!==V&&(null==ye&&(ye={},ue(Pe,Pe={})),Pe[V]=ye[V]=Ft,wt.uri=Z.XMLNS,De.startPrefixMapping(V,Ft))}for($=xe.length;$--;)(bt=(wt=xe[$]).prefix)&&("xml"===bt&&(wt.uri=Z.XML),"xmlns"!==bt&&(wt.uri=Pe[bt||""]));var Ae;(Ae=te.indexOf(":"))>0?(bt=xe.prefix=te.slice(0,Ae),L=xe.localName=te.slice(Ae+1)):(bt=null,L=xe.localName=te);var Ne=xe.uri=Pe[bt||""];if(De.startElement(Ne,L,te,xe),!xe.closed)return xe.currentNSMap=Pe,xe.localNSMap=ye,!0;if(De.endElement(Ne,L,te),ye)for(bt in ye)Object.prototype.hasOwnProperty.call(ye,bt)&&De.endPrefixMapping(bt)}function D(xe,De,Pe,te,ye){if(/^(?:script|textarea)$/i.test(Pe)){var wt=xe.indexOf("</"+Pe+">",De),mt=xe.substring(De+1,wt);if(/[&<]/.test(mt))return/^script$/i.test(Pe)?(ye.characters(mt,0,mt.length),wt):(mt=mt.replace(/&#?\w+;/g,te),ye.characters(mt,0,mt.length),wt)}return De+1}function ae(xe,De,Pe,te){var ye=te[Pe];return null==ye&&((ye=xe.lastIndexOf("</"+Pe+">"))<De&&(ye=xe.lastIndexOf("</"+Pe)),te[Pe]=ye),ye<De}function ue(xe,De){for(var Pe in xe)Object.prototype.hasOwnProperty.call(xe,Pe)&&(De[Pe]=xe[Pe])}function Le(xe,De,Pe,te){if("-"===xe.charAt(De+2))return"-"===xe.charAt(De+3)?(wt=xe.indexOf("--\x3e",De+4))>De?(Pe.comment(xe,De+4,wt-De-4),wt+3):(te.error("Unclosed comment"),-1):-1;if("CDATA["==xe.substr(De+3,6)){var wt=xe.indexOf("]]>",De+9);return Pe.startCDATA(),Pe.characters(xe,De+9,wt-De-9),Pe.endCDATA(),wt+3}var mt=function re(xe,De){var Pe,te=[],ye=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(ye.lastIndex=De,ye.exec(xe);Pe=ye.exec(xe);)if(te.push(Pe),Pe[1])return te}(xe,De),Ft=mt.length;if(Ft>1&&/!doctype/i.test(mt[0][0])){var bt=mt[1][0],L=!1,V=!1;Ft>3&&(/^public$/i.test(mt[2][0])?(L=mt[3][0],V=Ft>4&&mt[4][0]):/^system$/i.test(mt[2][0])&&(V=mt[3][0]));var $=mt[Ft-1];return Pe.startDTD(bt,L,V),Pe.endDTD(),$.index+$[0].length}return-1}function J(xe,De,Pe){var te=xe.indexOf("?>",De);if(te){var ye=xe.substring(De,te).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return ye?(Pe.processingInstruction(ye[1],ye[2]),te+2):-1}return-1}function Ue(){this.attributeNames={}}(j.prototype=new Error).name=j.name,W.prototype={parse:function(xe,De,Pe){var te=this.domBuilder;te.startDocument(),ue(De,De={}),function se(xe,De,Pe,te,ye){function mt(on){var cn=on.slice(1,-1);return Object.hasOwnProperty.call(Pe,cn)?Pe[cn]:"#"===cn.charAt(0)?function wt(on){return on>65535?(on-=65536,String.fromCharCode(55296+(on>>10),56320+(1023&on))):String.fromCharCode(on)}(parseInt(cn.substr(1).replace("x","0x"))):(ye.error("entity not found:"+on),on)}function Ft(on){if(on>Xe){var cn=xe.substring(Xe,on).replace(/&#?\w+;/g,mt);Ae&&bt(Xe),te.characters(cn,0,on-Xe),Xe=on}}function bt(on,cn){for(;on>=V&&(cn=$.exec(xe));)V=(L=cn.index)+cn[0].length,Ae.lineNumber++;Ae.columnNumber=on-L+1}for(var L=0,V=0,$=/.*(?:\r\n?|\n)|.*$/g,Ae=te.locator,Ne=[{currentNSMap:De}],ht={},Xe=0;;){try{var vt=xe.indexOf("<",Xe);if(vt<0){if(!xe.substr(Xe).match(/^\s*$/)){var Gt=te.doc,Ut=Gt.createTextNode(xe.substr(Xe));Gt.appendChild(Ut),te.currentElement=Ut}return}switch(vt>Xe&&Ft(vt),xe.charAt(vt+1)){case"/":var Fe=xe.indexOf(">",vt+3),St=xe.substring(vt+2,Fe).replace(/[ \t\n\r]+$/g,""),nn=Ne.pop();Fe<0?(St=xe.substring(vt+2).replace(/[\s<].*/,""),ye.error("end tag name: "+St+" is not complete:"+nn.tagName),Fe=vt+1+St.length):St.match(/\s</)&&(St=St.replace(/[\s<].*/,""),ye.error("end tag name: "+St+" maybe not complete"),Fe=vt+1+St.length);var rn=nn.localNSMap,xn=nn.tagName==St;if(xn||nn.tagName&&nn.tagName.toLowerCase()==St.toLowerCase()){if(te.endElement(nn.uri,nn.localName,St),rn)for(var Xt in rn)Object.prototype.hasOwnProperty.call(rn,Xt)&&te.endPrefixMapping(Xt);xn||ye.fatalError("end tag name: "+St+" is not match the current start tagName:"+nn.tagName)}else Ne.push(nn);Fe++;break;case"?":Ae&&bt(vt),Fe=J(xe,vt,te);break;case"!":Ae&&bt(vt),Fe=Le(xe,vt,te,ye);break;default:Ae&&bt(vt);var G=new Ue,He=Ne[Ne.length-1].currentNSMap,yt=(Fe=oe(xe,vt,G,He,mt,ye),G.length);if(!G.closed&&ae(xe,Fe,G.tagName,ht)&&(G.closed=!0,Pe.nbsp||ye.warning("unclosed xml attribute")),Ae&&yt){for(var Jt=pe(Ae,{}),Mn=0;Mn<yt;Mn++){var Ln=G[Mn];bt(Ln.offset),Ln.locator=pe(Ae,{})}te.locator=Jt,X(G,te,He)&&Ne.push(G),te.locator=Ae}else X(G,te,He)&&Ne.push(G);Z.isHTML(G.uri)&&!G.closed?Fe=D(xe,Fe,G.tagName,mt,te):Fe++}}catch(on){if(on instanceof j)throw on;ye.error("element parse error: "+on),Fe=-1}Fe>Xe?Xe=Fe:Ft(Math.max(vt,Xe)+1)}}(xe,De,Pe,te,this.errorHandler),te.endDocument()}},Ue.prototype={setTagName:function(xe){if(!Ve.test(xe))throw new Error("invalid tagName:"+xe);this.tagName=xe},addValue:function(xe,De,Pe){if(!Ve.test(xe))throw new Error("invalid attribute:"+xe);this.attributeNames[xe]=this.length,this[this.length++]={qName:xe,value:De,offset:Pe}},length:0,getLocalName:function(xe){return this[xe].localName},getLocator:function(xe){return this[xe].locator},getQName:function(xe){return this[xe].qName},getURI:function(xe){return this[xe].uri},getValue:function(xe){return this[xe].value}},je.XMLReader=W,je.ParseError=j},3450:(Ge,je)=>{"use strict";je.byteLength=function H(j){var W=ne(j),pe=W[1];return 3*(W[0]+pe)/4-pe},je.toByteArray=function f(j){var W,ue,se=ne(j),pe=se[0],oe=se[1],X=new ge(function k(j,W,se){return 3*(W+se)/4-se}(0,pe,oe)),D=0,ae=oe>0?pe-4:pe;for(ue=0;ue<ae;ue+=4)W=Z[j.charCodeAt(ue)]<<18|Z[j.charCodeAt(ue+1)]<<12|Z[j.charCodeAt(ue+2)]<<6|Z[j.charCodeAt(ue+3)],X[D++]=W>>16&255,X[D++]=W>>8&255,X[D++]=255&W;return 2===oe&&(W=Z[j.charCodeAt(ue)]<<2|Z[j.charCodeAt(ue+1)]>>4,X[D++]=255&W),1===oe&&(W=Z[j.charCodeAt(ue)]<<10|Z[j.charCodeAt(ue+1)]<<4|Z[j.charCodeAt(ue+2)]>>2,X[D++]=W>>8&255,X[D++]=255&W),X},je.fromByteArray=function be(j){for(var W,se=j.length,pe=se%3,oe=[],X=16383,D=0,ae=se-pe;D<ae;D+=X)oe.push(he(j,D,D+X>ae?ae:D+X));return 1===pe?oe.push(K[(W=j[se-1])>>2]+K[W<<4&63]+"=="):2===pe&&oe.push(K[(W=(j[se-2]<<8)+j[se-1])>>10]+K[W>>4&63]+K[W<<2&63]+"="),oe.join("")};for(var K=[],Z=[],ge=typeof Uint8Array<"u"?Uint8Array:Array,ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve=0;Ve<64;++Ve)K[Ve]=ce[Ve],Z[ce.charCodeAt(Ve)]=Ve;function ne(j){var W=j.length;if(W%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var se=j.indexOf("=");return-1===se&&(se=W),[se,se===W?0:4-se%4]}function _e(j){return K[j>>18&63]+K[j>>12&63]+K[j>>6&63]+K[63&j]}function he(j,W,se){for(var oe=[],X=W;X<se;X+=3)oe.push(_e((j[X]<<16&16711680)+(j[X+1]<<8&65280)+(255&j[X+2])));return oe.join("")}Z[45]=62,Z[95]=63},332:(Ge,je,K)=>{"use strict";var Z=K(4688),ge=K(7766),ce=K(7544),Ve=K(715);Ge.exports=Ve||Z.call(ce,ge)},7766:Ge=>{"use strict";Ge.exports=Function.prototype.apply},7544:Ge=>{"use strict";Ge.exports=Function.prototype.call},9138:(Ge,je,K)=>{"use strict";var Z=K(4688),ge=K(9327),ce=K(7544),Ve=K(332);Ge.exports=function(ne){if(ne.length<1||"function"!=typeof ne[0])throw new ge("a function is required");return Ve(Z,ce,ne)}},715:Ge=>{"use strict";Ge.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},448:(Ge,je,K)=>{"use strict";var Z=K(9249),ge=K(9138),ce=ge([Z("%String.prototype.indexOf%")]);Ge.exports=function(Se,ne){var H=Z(Se,!!ne);return"function"==typeof H&&ce(Se,".prototype.")>-1?ge([H]):H}},9660:(Ge,je,K)=>{"use strict";var ce,Z=K(9138),ge=K(1031);try{ce=[].__proto__===Array.prototype}catch(H){if(!H||"object"!=typeof H||!("code"in H)||"ERR_PROTO_ACCESS"!==H.code)throw H}var Ve=!!ce&&ge&&ge(Object.prototype,"__proto__"),Se=Object,ne=Se.getPrototypeOf;Ge.exports=Ve&&"function"==typeof Ve.get?Z([Ve.get]):"function"==typeof ne&&function(k){return ne(null==k?k:Se(k))}},2307:Ge=>{"use strict";var je=Object.defineProperty||!1;if(je)try{je({},"a",{value:1})}catch{je=!1}Ge.exports=je},7153:Ge=>{"use strict";Ge.exports=EvalError},939:Ge=>{"use strict";Ge.exports=Error},1486:Ge=>{"use strict";Ge.exports=RangeError},4654:Ge=>{"use strict";Ge.exports=ReferenceError},1144:Ge=>{"use strict";Ge.exports=SyntaxError},9327:Ge=>{"use strict";Ge.exports=TypeError},6005:Ge=>{"use strict";Ge.exports=URIError},3144:Ge=>{"use strict";Ge.exports=Object},421:Ge=>{"use strict";var K=Object.prototype.toString,Z=Math.max,ce=function(H,k){for(var f=[],_e=0;_e<H.length;_e+=1)f[_e]=H[_e];for(var he=0;he<k.length;he+=1)f[he+H.length]=k[he];return f};Ge.exports=function(H){var k=this;if("function"!=typeof k||"[object Function]"!==K.apply(k))throw new TypeError("Function.prototype.bind called on incompatible "+k);for(var _e,f=function(H){for(var f=[],_e=1,he=0;_e<H.length;_e+=1,he+=1)f[he]=H[_e];return f}(arguments),be=Z(0,k.length-f.length),j=[],W=0;W<be;W++)j[W]="$"+W;if(_e=Function("binder","return function ("+function(ne){for(var k="",f=0;f<ne.length;f+=1)k+=ne[f],f+1<ne.length&&(k+=",");return k}(j)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof _e){var pe=k.apply(this,ce(f,arguments));return Object(pe)===pe?pe:this}return k.apply(H,ce(f,arguments))}),k.prototype){var se=function(){};se.prototype=k.prototype,_e.prototype=new se,se.prototype=null}return _e}},4688:(Ge,je,K)=>{"use strict";var Z=K(421);Ge.exports=Function.prototype.bind||Z},9249:(Ge,je,K)=>{"use strict";var Z,ge=K(3144),ce=K(939),Ve=K(7153),Se=K(1486),ne=K(4654),H=K(1144),k=K(9327),f=K(6005),_e=K(7126),he=K(5092),be=K(8112),j=K(3390),W=K(2420),se=Function,pe=function(Gt){try{return se('"use strict"; return ('+Gt+").constructor;")()}catch{}},oe=K(1031),X=K(2307),D=function(){throw new k},ae=oe?function(){try{return D}catch{try{return oe(arguments,"callee").get}catch{return D}}}():D,ue=K(7067)(),Le=K(9660),J="function"==typeof Reflect&&Reflect.getPrototypeOf||ge.getPrototypeOf||Le,Ue=K(7766),re=K(7544),xe={},De=typeof Uint8Array>"u"||!J?Z:J(Uint8Array),Pe={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Z:ArrayBuffer,"%ArrayIteratorPrototype%":ue&&J?J([][Symbol.iterator]()):Z,"%AsyncFromSyncIteratorPrototype%":Z,"%AsyncFunction%":xe,"%AsyncGenerator%":xe,"%AsyncGeneratorFunction%":xe,"%AsyncIteratorPrototype%":xe,"%Atomics%":typeof Atomics>"u"?Z:Atomics,"%BigInt%":typeof BigInt>"u"?Z:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Z:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Z:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ce,"%eval%":eval,"%EvalError%":Ve,"%Float32Array%":typeof Float32Array>"u"?Z:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Z:FinalizationRegistry,"%Function%":se,"%GeneratorFunction%":xe,"%Int8Array%":typeof Int8Array>"u"?Z:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Z:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ue&&J?J(J([][Symbol.iterator]())):Z,"%JSON%":"object"==typeof JSON?JSON:Z,"%Map%":typeof Map>"u"?Z:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ue||!J?Z:J((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":ge,"%Object.getOwnPropertyDescriptor%":oe,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Z:Promise,"%Proxy%":typeof Proxy>"u"?Z:Proxy,"%RangeError%":Se,"%ReferenceError%":ne,"%Reflect%":typeof Reflect>"u"?Z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Z:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ue||!J?Z:J((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ue&&J?J(""[Symbol.iterator]()):Z,"%Symbol%":ue?Symbol:Z,"%SyntaxError%":H,"%ThrowTypeError%":ae,"%TypedArray%":De,"%TypeError%":k,"%Uint8Array%":typeof Uint8Array>"u"?Z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Z:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Z:Uint32Array,"%URIError%":f,"%WeakMap%":typeof WeakMap>"u"?Z:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Z:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Z:WeakSet,"%Function.prototype.call%":re,"%Function.prototype.apply%":Ue,"%Object.defineProperty%":X,"%Math.abs%":_e,"%Math.floor%":he,"%Math.max%":be,"%Math.min%":j,"%Math.pow%":W};if(J)try{null.error}catch(Gt){var te=J(J(Gt));Pe["%Error.prototype%"]=te}var ye=function Gt(Ut){var St;if("%AsyncFunction%"===Ut)St=pe("async function () {}");else if("%GeneratorFunction%"===Ut)St=pe("function* () {}");else if("%AsyncGeneratorFunction%"===Ut)St=pe("async function* () {}");else if("%AsyncGenerator%"===Ut){var nn=Gt("%AsyncGeneratorFunction%");nn&&(St=nn.prototype)}else if("%AsyncIteratorPrototype%"===Ut){var rn=Gt("%AsyncGenerator%");rn&&J&&(St=J(rn.prototype))}return Pe[Ut]=St,St},wt={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},mt=K(4688),Ft=K(5961),bt=mt.call(re,Array.prototype.concat),L=mt.call(Ue,Array.prototype.splice),V=mt.call(re,String.prototype.replace),$=mt.call(re,String.prototype.slice),Ae=mt.call(re,RegExp.prototype.exec),Ne=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ht=/\\(\\)?/g,vt=function(Ut,St){var rn,nn=Ut;if(Ft(wt,nn)&&(nn="%"+(rn=wt[nn])[0]+"%"),Ft(Pe,nn)){var xn=Pe[nn];if(xn===xe&&(xn=ye(nn)),typeof xn>"u"&&!St)throw new k("intrinsic "+Ut+" exists, but is not available. Please file an issue!");return{alias:rn,name:nn,value:xn}}throw new H("intrinsic "+Ut+" does not exist!")};Ge.exports=function(Ut,St){if("string"!=typeof Ut||0===Ut.length)throw new k("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof St)throw new k('"allowMissing" argument must be a boolean');if(null===Ae(/^%?[^%]*%?$/,Ut))throw new H("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var nn=function(Ut){var St=$(Ut,0,1),nn=$(Ut,-1);if("%"===St&&"%"!==nn)throw new H("invalid intrinsic syntax, expected closing `%`");if("%"===nn&&"%"!==St)throw new H("invalid intrinsic syntax, expected opening `%`");var rn=[];return V(Ut,Ne,function(xn,ln,Xt,G){rn[rn.length]=Xt?V(G,ht,"$1"):ln||xn}),rn}(Ut),rn=nn.length>0?nn[0]:"",xn=vt("%"+rn+"%",St),ln=xn.name,Xt=xn.value,G=!1,He=xn.alias;He&&(rn=He[0],L(nn,bt([0,1],He)));for(var Fe=1,yt=!0;Fe<nn.length;Fe+=1){var Jt=nn[Fe],Mn=$(Jt,0,1),Ln=$(Jt,-1);if(('"'===Mn||"'"===Mn||"`"===Mn||'"'===Ln||"'"===Ln||"`"===Ln)&&Mn!==Ln)throw new H("property names with quotes must have matching quotes");if(("constructor"===Jt||!yt)&&(G=!0),Ft(Pe,ln="%"+(rn+="."+Jt)+"%"))Xt=Pe[ln];else if(null!=Xt){if(!(Jt in Xt)){if(!St)throw new k("base intrinsic for "+Ut+" exists, but the property is not available.");return}if(oe&&Fe+1>=nn.length){var on=oe(Xt,Jt);Xt=(yt=!!on)&&"get"in on&&!("originalValue"in on.get)?on.get:Xt[Jt]}else yt=Ft(Xt,Jt),Xt=Xt[Jt];yt&&!G&&(Pe[ln]=Xt)}}return Xt}},417:Ge=>{"use strict";Ge.exports=Object.getOwnPropertyDescriptor},1031:(Ge,je,K)=>{"use strict";var Z=K(417);if(Z)try{Z([],"length")}catch{Z=null}Ge.exports=Z},7067:(Ge,je,K)=>{"use strict";var Z=typeof Symbol<"u"&&Symbol,ge=K(5401);Ge.exports=function(){return"function"==typeof Z&&"function"==typeof Symbol&&"symbol"==typeof Z("foo")&&"symbol"==typeof Symbol("bar")&&ge()}},5401:Ge=>{"use strict";Ge.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var K={},Z=Symbol("test"),ge=Object(Z);if("string"==typeof Z||"[object Symbol]"!==Object.prototype.toString.call(Z)||"[object Symbol]"!==Object.prototype.toString.call(ge))return!1;for(var Ve in K[Z]=42,K)return!1;if("function"==typeof Object.keys&&0!==Object.keys(K).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(K).length)return!1;var Se=Object.getOwnPropertySymbols(K);if(1!==Se.length||Se[0]!==Z||!Object.prototype.propertyIsEnumerable.call(K,Z))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var ne=Object.getOwnPropertyDescriptor(K,Z);if(42!==ne.value||!0!==ne.enumerable)return!1}return!0}},5961:(Ge,je,K)=>{"use strict";var Z=Function.prototype.call,ge=Object.prototype.hasOwnProperty,ce=K(4688);Ge.exports=ce.call(Z,ge)},351:(Ge,je)=>{je.read=function(K,Z,ge,ce,Ve){var Se,ne,H=8*Ve-ce-1,k=(1<<H)-1,f=k>>1,_e=-7,he=ge?Ve-1:0,be=ge?-1:1,j=K[Z+he];for(he+=be,Se=j&(1<<-_e)-1,j>>=-_e,_e+=H;_e>0;Se=256*Se+K[Z+he],he+=be,_e-=8);for(ne=Se&(1<<-_e)-1,Se>>=-_e,_e+=ce;_e>0;ne=256*ne+K[Z+he],he+=be,_e-=8);if(0===Se)Se=1-f;else{if(Se===k)return ne?NaN:1/0*(j?-1:1);ne+=Math.pow(2,ce),Se-=f}return(j?-1:1)*ne*Math.pow(2,Se-ce)},je.write=function(K,Z,ge,ce,Ve,Se){var ne,H,k,f=8*Se-Ve-1,_e=(1<<f)-1,he=_e>>1,be=23===Ve?Math.pow(2,-24)-Math.pow(2,-77):0,j=ce?0:Se-1,W=ce?1:-1,se=Z<0||0===Z&&1/Z<0?1:0;for(Z=Math.abs(Z),isNaN(Z)||Z===1/0?(H=isNaN(Z)?1:0,ne=_e):(ne=Math.floor(Math.log(Z)/Math.LN2),Z*(k=Math.pow(2,-ne))<1&&(ne--,k*=2),(Z+=ne+he>=1?be/k:be*Math.pow(2,1-he))*k>=2&&(ne++,k/=2),ne+he>=_e?(H=0,ne=_e):ne+he>=1?(H=(Z*k-1)*Math.pow(2,Ve),ne+=he):(H=Z*Math.pow(2,he-1)*Math.pow(2,Ve),ne=0));Ve>=8;K[ge+j]=255&H,j+=W,H/=256,Ve-=8);for(ne=ne<<Ve|H,f+=Ve;f>0;K[ge+j]=255&ne,j+=W,ne/=256,f-=8);K[ge+j-W]|=128*se}},7126:Ge=>{"use strict";Ge.exports=Math.abs},5092:Ge=>{"use strict";Ge.exports=Math.floor},8112:Ge=>{"use strict";Ge.exports=Math.max},3390:Ge=>{"use strict";Ge.exports=Math.min},2420:Ge=>{"use strict";Ge.exports=Math.pow},6148:(Ge,je,K)=>{"use strict";const ge=K(3450),ce=K(351),Ve="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;je.hp=k,je.IS=50;const Se=2147483647;function H(B){if(B>Se)throw new RangeError('The value "'+B+'" is invalid for option "size"');const A=new Uint8Array(B);return Object.setPrototypeOf(A,k.prototype),A}function k(B,A,S){if("number"==typeof B){if("string"==typeof A)throw new TypeError('The "string" argument must be of type string. Received type number');return be(B)}return f(B,A,S)}function f(B,A,S){if("string"==typeof B)return function j(B,A){if(("string"!=typeof A||""===A)&&(A="utf8"),!k.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const S=0|ae(B,A);let U=H(S);const Me=U.write(B,A);return Me!==S&&(U=U.slice(0,Me)),U}(B,A);if(ArrayBuffer.isView(B))return function se(B){if(cn(B,Uint8Array)){const A=new Uint8Array(B);return pe(A.buffer,A.byteOffset,A.byteLength)}return W(B)}(B);if(null==B)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(cn(B,ArrayBuffer)||B&&cn(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(cn(B,SharedArrayBuffer)||B&&cn(B.buffer,SharedArrayBuffer)))return pe(B,A,S);if("number"==typeof B)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=B.valueOf&&B.valueOf();if(null!=U&&U!==B)return k.from(U,A,S);const Me=function oe(B){if(k.isBuffer(B)){const A=0|X(B.length),S=H(A);return 0===S.length||B.copy(S,0,0,A),S}return void 0!==B.length?"number"!=typeof B.length||Pn(B.length)?H(0):W(B):"Buffer"===B.type&&Array.isArray(B.data)?W(B.data):void 0}(B);if(Me)return Me;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof B[Symbol.toPrimitive])return k.from(B[Symbol.toPrimitive]("string"),A,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}function _e(B){if("number"!=typeof B)throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function be(B){return _e(B),H(B<0?0:0|X(B))}function W(B){const A=B.length<0?0:0|X(B.length),S=H(A);for(let U=0;U<A;U+=1)S[U]=255&B[U];return S}function pe(B,A,S){if(A<0||B.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<A+(S||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===A&&void 0===S?new Uint8Array(B):void 0===S?new Uint8Array(B,A):new Uint8Array(B,A,S),Object.setPrototypeOf(U,k.prototype),U}function X(B){if(B>=Se)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Se.toString(16)+" bytes");return 0|B}function ae(B,A){if(k.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||cn(B,ArrayBuffer))return B.byteLength;if("string"!=typeof B)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const S=B.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===S)return 0;let Me=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return yt(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*S;case"hex":return S>>>1;case"base64":return Ln(B).length;default:if(Me)return U?-1:yt(B).length;A=(""+A).toLowerCase(),Me=!0}}function ue(B,A,S){let U=!1;if((void 0===A||A<0)&&(A=0),A>this.length||((void 0===S||S>this.length)&&(S=this.length),S<=0)||(S>>>=0)<=(A>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return V(this,A,S);case"utf8":case"utf-8":return wt(this,A,S);case"ascii":return bt(this,A,S);case"latin1":case"binary":return L(this,A,S);case"base64":return ye(this,A,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,A,S);default:if(U)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),U=!0}}function Le(B,A,S){const U=B[A];B[A]=B[S],B[S]=U}function J(B,A,S,U,Me){if(0===B.length)return-1;if("string"==typeof S?(U=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),Pn(S=+S)&&(S=Me?0:B.length-1),S<0&&(S=B.length+S),S>=B.length){if(Me)return-1;S=B.length-1}else if(S<0){if(!Me)return-1;S=0}if("string"==typeof A&&(A=k.from(A,U)),k.isBuffer(A))return 0===A.length?-1:Ue(B,A,S,U,Me);if("number"==typeof A)return A&=255,"function"==typeof Uint8Array.prototype.indexOf?Me?Uint8Array.prototype.indexOf.call(B,A,S):Uint8Array.prototype.lastIndexOf.call(B,A,S):Ue(B,[A],S,U,Me);throw new TypeError("val must be string, number or Buffer")}function Ue(B,A,S,U,Me){let Re,Ke=1,lt=B.length,an=A.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(B.length<2||A.length<2)return-1;Ke=2,lt/=2,an/=2,S/=2}function Ee(le,ze){return 1===Ke?le[ze]:le.readUInt16BE(ze*Ke)}if(Me){let le=-1;for(Re=S;Re<lt;Re++)if(Ee(B,Re)===Ee(A,-1===le?0:Re-le)){if(-1===le&&(le=Re),Re-le+1===an)return le*Ke}else-1!==le&&(Re-=Re-le),le=-1}else for(S+an>lt&&(S=lt-an),Re=S;Re>=0;Re--){let le=!0;for(let ze=0;ze<an;ze++)if(Ee(B,Re+ze)!==Ee(A,ze)){le=!1;break}if(le)return Re}return-1}function re(B,A,S,U){S=Number(S)||0;const Me=B.length-S;U?(U=Number(U))>Me&&(U=Me):U=Me;const Ke=A.length;let lt;for(U>Ke/2&&(U=Ke/2),lt=0;lt<U;++lt){const an=parseInt(A.substr(2*lt,2),16);if(Pn(an))return lt;B[S+lt]=an}return lt}function xe(B,A,S,U){return on(yt(A,B.length-S),B,S,U)}function De(B,A,S,U){return on(function Jt(B){const A=[];for(let S=0;S<B.length;++S)A.push(255&B.charCodeAt(S));return A}(A),B,S,U)}function Pe(B,A,S,U){return on(Ln(A),B,S,U)}function te(B,A,S,U){return on(function Mn(B,A){let S,U,Me;const Ke=[];for(let lt=0;lt<B.length&&!((A-=2)<0);++lt)S=B.charCodeAt(lt),U=S>>8,Me=S%256,Ke.push(Me),Ke.push(U);return Ke}(A,B.length-S),B,S,U)}function ye(B,A,S){return ge.fromByteArray(0===A&&S===B.length?B:B.slice(A,S))}function wt(B,A,S){S=Math.min(B.length,S);const U=[];let Me=A;for(;Me<S;){const Ke=B[Me];let lt=null,an=Ke>239?4:Ke>223?3:Ke>191?2:1;if(Me+an<=S){let Ee,Re,le,ze;switch(an){case 1:Ke<128&&(lt=Ke);break;case 2:Ee=B[Me+1],128==(192&Ee)&&(ze=(31&Ke)<<6|63&Ee,ze>127&&(lt=ze));break;case 3:Ee=B[Me+1],Re=B[Me+2],128==(192&Ee)&&128==(192&Re)&&(ze=(15&Ke)<<12|(63&Ee)<<6|63&Re,ze>2047&&(ze<55296||ze>57343)&&(lt=ze));break;case 4:Ee=B[Me+1],Re=B[Me+2],le=B[Me+3],128==(192&Ee)&&128==(192&Re)&&128==(192&le)&&(ze=(15&Ke)<<18|(63&Ee)<<12|(63&Re)<<6|63&le,ze>65535&&ze<1114112&&(lt=ze))}}null===lt?(lt=65533,an=1):lt>65535&&(lt-=65536,U.push(lt>>>10&1023|55296),lt=56320|1023&lt),U.push(lt),Me+=an}return function Ft(B){const A=B.length;if(A<=mt)return String.fromCharCode.apply(String,B);let S="",U=0;for(;U<A;)S+=String.fromCharCode.apply(String,B.slice(U,U+=mt));return S}(U)}!(k.TYPED_ARRAY_SUPPORT=function ne(){try{const B=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(B,A),42===B.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(k.prototype,"parent",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.buffer}}),Object.defineProperty(k.prototype,"offset",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.byteOffset}}),k.poolSize=8192,k.from=function(B,A,S){return f(B,A,S)},Object.setPrototypeOf(k.prototype,Uint8Array.prototype),Object.setPrototypeOf(k,Uint8Array),k.alloc=function(B,A,S){return function he(B,A,S){return _e(B),B<=0?H(B):void 0!==A?"string"==typeof S?H(B).fill(A,S):H(B).fill(A):H(B)}(B,A,S)},k.allocUnsafe=function(B){return be(B)},k.allocUnsafeSlow=function(B){return be(B)},k.isBuffer=function(A){return null!=A&&!0===A._isBuffer&&A!==k.prototype},k.compare=function(A,S){if(cn(A,Uint8Array)&&(A=k.from(A,A.offset,A.byteLength)),cn(S,Uint8Array)&&(S=k.from(S,S.offset,S.byteLength)),!k.isBuffer(A)||!k.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===S)return 0;let U=A.length,Me=S.length;for(let Ke=0,lt=Math.min(U,Me);Ke<lt;++Ke)if(A[Ke]!==S[Ke]){U=A[Ke],Me=S[Ke];break}return U<Me?-1:Me<U?1:0},k.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},k.concat=function(A,S){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(0===A.length)return k.alloc(0);let U;if(void 0===S)for(S=0,U=0;U<A.length;++U)S+=A[U].length;const Me=k.allocUnsafe(S);let Ke=0;for(U=0;U<A.length;++U){let lt=A[U];if(cn(lt,Uint8Array))Ke+lt.length>Me.length?(k.isBuffer(lt)||(lt=k.from(lt)),lt.copy(Me,Ke)):Uint8Array.prototype.set.call(Me,lt,Ke);else{if(!k.isBuffer(lt))throw new TypeError('"list" argument must be an Array of Buffers');lt.copy(Me,Ke)}Ke+=lt.length}return Me},k.byteLength=ae,k.prototype._isBuffer=!0,k.prototype.swap16=function(){const A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<A;S+=2)Le(this,S,S+1);return this},k.prototype.swap32=function(){const A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<A;S+=4)Le(this,S,S+3),Le(this,S+1,S+2);return this},k.prototype.swap64=function(){const A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<A;S+=8)Le(this,S,S+7),Le(this,S+1,S+6),Le(this,S+2,S+5),Le(this,S+3,S+4);return this},k.prototype.toLocaleString=k.prototype.toString=function(){const A=this.length;return 0===A?"":0===arguments.length?wt(this,0,A):ue.apply(this,arguments)},k.prototype.equals=function(A){if(!k.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A||0===k.compare(this,A)},k.prototype.inspect=function(){let A="";const S=je.IS;return A=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(A+=" ... "),"<Buffer "+A+">"},Ve&&(k.prototype[Ve]=k.prototype.inspect),k.prototype.compare=function(A,S,U,Me,Ke){if(cn(A,Uint8Array)&&(A=k.from(A,A.offset,A.byteLength)),!k.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(void 0===S&&(S=0),void 0===U&&(U=A?A.length:0),void 0===Me&&(Me=0),void 0===Ke&&(Ke=this.length),S<0||U>A.length||Me<0||Ke>this.length)throw new RangeError("out of range index");if(Me>=Ke&&S>=U)return 0;if(Me>=Ke)return-1;if(S>=U)return 1;if(this===A)return 0;let lt=(Ke>>>=0)-(Me>>>=0),an=(U>>>=0)-(S>>>=0);const Ee=Math.min(lt,an),Re=this.slice(Me,Ke),le=A.slice(S,U);for(let ze=0;ze<Ee;++ze)if(Re[ze]!==le[ze]){lt=Re[ze],an=le[ze];break}return lt<an?-1:an<lt?1:0},k.prototype.includes=function(A,S,U){return-1!==this.indexOf(A,S,U)},k.prototype.indexOf=function(A,S,U){return J(this,A,S,U,!0)},k.prototype.lastIndexOf=function(A,S,U){return J(this,A,S,U,!1)},k.prototype.write=function(A,S,U,Me){if(void 0===S)Me="utf8",U=this.length,S=0;else if(void 0===U&&"string"==typeof S)Me=S,U=this.length,S=0;else{if(!isFinite(S))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");S>>>=0,isFinite(U)?(U>>>=0,void 0===Me&&(Me="utf8")):(Me=U,U=void 0)}const Ke=this.length-S;if((void 0===U||U>Ke)&&(U=Ke),A.length>0&&(U<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");Me||(Me="utf8");let lt=!1;for(;;)switch(Me){case"hex":return re(this,A,S,U);case"utf8":case"utf-8":return xe(this,A,S,U);case"ascii":case"latin1":case"binary":return De(this,A,S,U);case"base64":return Pe(this,A,S,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,A,S,U);default:if(lt)throw new TypeError("Unknown encoding: "+Me);Me=(""+Me).toLowerCase(),lt=!0}},k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const mt=4096;function bt(B,A,S){let U="";S=Math.min(B.length,S);for(let Me=A;Me<S;++Me)U+=String.fromCharCode(127&B[Me]);return U}function L(B,A,S){let U="";S=Math.min(B.length,S);for(let Me=A;Me<S;++Me)U+=String.fromCharCode(B[Me]);return U}function V(B,A,S){const U=B.length;(!A||A<0)&&(A=0),(!S||S<0||S>U)&&(S=U);let Me="";for(let Ke=A;Ke<S;++Ke)Me+=Gn[B[Ke]];return Me}function $(B,A,S){const U=B.slice(A,S);let Me="";for(let Ke=0;Ke<U.length-1;Ke+=2)Me+=String.fromCharCode(U[Ke]+256*U[Ke+1]);return Me}function Ae(B,A,S){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+A>S)throw new RangeError("Trying to access beyond buffer length")}function Ne(B,A,S,U,Me,Ke){if(!k.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>Me||A<Ke)throw new RangeError('"value" argument is out of bounds');if(S+U>B.length)throw new RangeError("Index out of range")}function ht(B,A,S,U,Me){ln(A,U,Me,B,S,7);let Ke=Number(A&BigInt(4294967295));B[S++]=Ke,Ke>>=8,B[S++]=Ke,Ke>>=8,B[S++]=Ke,Ke>>=8,B[S++]=Ke;let lt=Number(A>>BigInt(32)&BigInt(4294967295));return B[S++]=lt,lt>>=8,B[S++]=lt,lt>>=8,B[S++]=lt,lt>>=8,B[S++]=lt,S}function Xe(B,A,S,U,Me){ln(A,U,Me,B,S,7);let Ke=Number(A&BigInt(4294967295));B[S+7]=Ke,Ke>>=8,B[S+6]=Ke,Ke>>=8,B[S+5]=Ke,Ke>>=8,B[S+4]=Ke;let lt=Number(A>>BigInt(32)&BigInt(4294967295));return B[S+3]=lt,lt>>=8,B[S+2]=lt,lt>>=8,B[S+1]=lt,lt>>=8,B[S]=lt,S+8}function vt(B,A,S,U,Me,Ke){if(S+U>B.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function Gt(B,A,S,U,Me){return A=+A,S>>>=0,Me||vt(B,0,S,4),ce.write(B,A,S,U,23,4),S+4}function Ut(B,A,S,U,Me){return A=+A,S>>>=0,Me||vt(B,0,S,8),ce.write(B,A,S,U,52,8),S+8}k.prototype.slice=function(A,S){const U=this.length;(A=~~A)<0?(A+=U)<0&&(A=0):A>U&&(A=U),(S=void 0===S?U:~~S)<0?(S+=U)<0&&(S=0):S>U&&(S=U),S<A&&(S=A);const Me=this.subarray(A,S);return Object.setPrototypeOf(Me,k.prototype),Me},k.prototype.readUintLE=k.prototype.readUIntLE=function(A,S,U){A>>>=0,S>>>=0,U||Ae(A,S,this.length);let Me=this[A],Ke=1,lt=0;for(;++lt<S&&(Ke*=256);)Me+=this[A+lt]*Ke;return Me},k.prototype.readUintBE=k.prototype.readUIntBE=function(A,S,U){A>>>=0,S>>>=0,U||Ae(A,S,this.length);let Me=this[A+--S],Ke=1;for(;S>0&&(Ke*=256);)Me+=this[A+--S]*Ke;return Me},k.prototype.readUint8=k.prototype.readUInt8=function(A,S){return A>>>=0,S||Ae(A,1,this.length),this[A]},k.prototype.readUint16LE=k.prototype.readUInt16LE=function(A,S){return A>>>=0,S||Ae(A,2,this.length),this[A]|this[A+1]<<8},k.prototype.readUint16BE=k.prototype.readUInt16BE=function(A,S){return A>>>=0,S||Ae(A,2,this.length),this[A]<<8|this[A+1]},k.prototype.readUint32LE=k.prototype.readUInt32LE=function(A,S){return A>>>=0,S||Ae(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},k.prototype.readUint32BE=k.prototype.readUInt32BE=function(A,S){return A>>>=0,S||Ae(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},k.prototype.readBigUInt64LE=Sr(function(A){Xt(A>>>=0,"offset");const S=this[A],U=this[A+7];(void 0===S||void 0===U)&&G(A,this.length-8);const Me=S+256*this[++A]+65536*this[++A]+this[++A]*2**24,Ke=this[++A]+256*this[++A]+65536*this[++A]+U*2**24;return BigInt(Me)+(BigInt(Ke)<<BigInt(32))}),k.prototype.readBigUInt64BE=Sr(function(A){Xt(A>>>=0,"offset");const S=this[A],U=this[A+7];(void 0===S||void 0===U)&&G(A,this.length-8);const Me=S*2**24+65536*this[++A]+256*this[++A]+this[++A],Ke=this[++A]*2**24+65536*this[++A]+256*this[++A]+U;return(BigInt(Me)<<BigInt(32))+BigInt(Ke)}),k.prototype.readIntLE=function(A,S,U){A>>>=0,S>>>=0,U||Ae(A,S,this.length);let Me=this[A],Ke=1,lt=0;for(;++lt<S&&(Ke*=256);)Me+=this[A+lt]*Ke;return Ke*=128,Me>=Ke&&(Me-=Math.pow(2,8*S)),Me},k.prototype.readIntBE=function(A,S,U){A>>>=0,S>>>=0,U||Ae(A,S,this.length);let Me=S,Ke=1,lt=this[A+--Me];for(;Me>0&&(Ke*=256);)lt+=this[A+--Me]*Ke;return Ke*=128,lt>=Ke&&(lt-=Math.pow(2,8*S)),lt},k.prototype.readInt8=function(A,S){return A>>>=0,S||Ae(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},k.prototype.readInt16LE=function(A,S){A>>>=0,S||Ae(A,2,this.length);const U=this[A]|this[A+1]<<8;return 32768&U?4294901760|U:U},k.prototype.readInt16BE=function(A,S){A>>>=0,S||Ae(A,2,this.length);const U=this[A+1]|this[A]<<8;return 32768&U?4294901760|U:U},k.prototype.readInt32LE=function(A,S){return A>>>=0,S||Ae(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},k.prototype.readInt32BE=function(A,S){return A>>>=0,S||Ae(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},k.prototype.readBigInt64LE=Sr(function(A){Xt(A>>>=0,"offset");const S=this[A],U=this[A+7];return(void 0===S||void 0===U)&&G(A,this.length-8),(BigInt(this[A+4]+256*this[A+5]+65536*this[A+6]+(U<<24))<<BigInt(32))+BigInt(S+256*this[++A]+65536*this[++A]+this[++A]*2**24)}),k.prototype.readBigInt64BE=Sr(function(A){Xt(A>>>=0,"offset");const S=this[A],U=this[A+7];(void 0===S||void 0===U)&&G(A,this.length-8);const Me=(S<<24)+65536*this[++A]+256*this[++A]+this[++A];return(BigInt(Me)<<BigInt(32))+BigInt(this[++A]*2**24+65536*this[++A]+256*this[++A]+U)}),k.prototype.readFloatLE=function(A,S){return A>>>=0,S||Ae(A,4,this.length),ce.read(this,A,!0,23,4)},k.prototype.readFloatBE=function(A,S){return A>>>=0,S||Ae(A,4,this.length),ce.read(this,A,!1,23,4)},k.prototype.readDoubleLE=function(A,S){return A>>>=0,S||Ae(A,8,this.length),ce.read(this,A,!0,52,8)},k.prototype.readDoubleBE=function(A,S){return A>>>=0,S||Ae(A,8,this.length),ce.read(this,A,!1,52,8)},k.prototype.writeUintLE=k.prototype.writeUIntLE=function(A,S,U,Me){A=+A,S>>>=0,U>>>=0,Me||Ne(this,A,S,U,Math.pow(2,8*U)-1,0);let Ke=1,lt=0;for(this[S]=255&A;++lt<U&&(Ke*=256);)this[S+lt]=A/Ke&255;return S+U},k.prototype.writeUintBE=k.prototype.writeUIntBE=function(A,S,U,Me){A=+A,S>>>=0,U>>>=0,Me||Ne(this,A,S,U,Math.pow(2,8*U)-1,0);let Ke=U-1,lt=1;for(this[S+Ke]=255&A;--Ke>=0&&(lt*=256);)this[S+Ke]=A/lt&255;return S+U},k.prototype.writeUint8=k.prototype.writeUInt8=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,1,255,0),this[S]=255&A,S+1},k.prototype.writeUint16LE=k.prototype.writeUInt16LE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,2,65535,0),this[S]=255&A,this[S+1]=A>>>8,S+2},k.prototype.writeUint16BE=k.prototype.writeUInt16BE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,2,65535,0),this[S]=A>>>8,this[S+1]=255&A,S+2},k.prototype.writeUint32LE=k.prototype.writeUInt32LE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,4,4294967295,0),this[S+3]=A>>>24,this[S+2]=A>>>16,this[S+1]=A>>>8,this[S]=255&A,S+4},k.prototype.writeUint32BE=k.prototype.writeUInt32BE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,4,4294967295,0),this[S]=A>>>24,this[S+1]=A>>>16,this[S+2]=A>>>8,this[S+3]=255&A,S+4},k.prototype.writeBigUInt64LE=Sr(function(A,S=0){return ht(this,A,S,BigInt(0),BigInt("0xffffffffffffffff"))}),k.prototype.writeBigUInt64BE=Sr(function(A,S=0){return Xe(this,A,S,BigInt(0),BigInt("0xffffffffffffffff"))}),k.prototype.writeIntLE=function(A,S,U,Me){if(A=+A,S>>>=0,!Me){const Ee=Math.pow(2,8*U-1);Ne(this,A,S,U,Ee-1,-Ee)}let Ke=0,lt=1,an=0;for(this[S]=255&A;++Ke<U&&(lt*=256);)A<0&&0===an&&0!==this[S+Ke-1]&&(an=1),this[S+Ke]=(A/lt|0)-an&255;return S+U},k.prototype.writeIntBE=function(A,S,U,Me){if(A=+A,S>>>=0,!Me){const Ee=Math.pow(2,8*U-1);Ne(this,A,S,U,Ee-1,-Ee)}let Ke=U-1,lt=1,an=0;for(this[S+Ke]=255&A;--Ke>=0&&(lt*=256);)A<0&&0===an&&0!==this[S+Ke+1]&&(an=1),this[S+Ke]=(A/lt|0)-an&255;return S+U},k.prototype.writeInt8=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,1,127,-128),A<0&&(A=255+A+1),this[S]=255&A,S+1},k.prototype.writeInt16LE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,2,32767,-32768),this[S]=255&A,this[S+1]=A>>>8,S+2},k.prototype.writeInt16BE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,2,32767,-32768),this[S]=A>>>8,this[S+1]=255&A,S+2},k.prototype.writeInt32LE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,4,2147483647,-2147483648),this[S]=255&A,this[S+1]=A>>>8,this[S+2]=A>>>16,this[S+3]=A>>>24,S+4},k.prototype.writeInt32BE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[S]=A>>>24,this[S+1]=A>>>16,this[S+2]=A>>>8,this[S+3]=255&A,S+4},k.prototype.writeBigInt64LE=Sr(function(A,S=0){return ht(this,A,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),k.prototype.writeBigInt64BE=Sr(function(A,S=0){return Xe(this,A,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),k.prototype.writeFloatLE=function(A,S,U){return Gt(this,A,S,!0,U)},k.prototype.writeFloatBE=function(A,S,U){return Gt(this,A,S,!1,U)},k.prototype.writeDoubleLE=function(A,S,U){return Ut(this,A,S,!0,U)},k.prototype.writeDoubleBE=function(A,S,U){return Ut(this,A,S,!1,U)},k.prototype.copy=function(A,S,U,Me){if(!k.isBuffer(A))throw new TypeError("argument should be a Buffer");if(U||(U=0),!Me&&0!==Me&&(Me=this.length),S>=A.length&&(S=A.length),S||(S=0),Me>0&&Me<U&&(Me=U),Me===U||0===A.length||0===this.length)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(Me<0)throw new RangeError("sourceEnd out of bounds");Me>this.length&&(Me=this.length),A.length-S<Me-U&&(Me=A.length-S+U);const Ke=Me-U;return this===A&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(S,U,Me):Uint8Array.prototype.set.call(A,this.subarray(U,Me),S),Ke},k.prototype.fill=function(A,S,U,Me){if("string"==typeof A){if("string"==typeof S?(Me=S,S=0,U=this.length):"string"==typeof U&&(Me=U,U=this.length),void 0!==Me&&"string"!=typeof Me)throw new TypeError("encoding must be a string");if("string"==typeof Me&&!k.isEncoding(Me))throw new TypeError("Unknown encoding: "+Me);if(1===A.length){const lt=A.charCodeAt(0);("utf8"===Me&&lt<128||"latin1"===Me)&&(A=lt)}}else"number"==typeof A?A&=255:"boolean"==typeof A&&(A=Number(A));if(S<0||this.length<S||this.length<U)throw new RangeError("Out of range index");if(U<=S)return this;let Ke;if(S>>>=0,U=void 0===U?this.length:U>>>0,A||(A=0),"number"==typeof A)for(Ke=S;Ke<U;++Ke)this[Ke]=A;else{const lt=k.isBuffer(A)?A:k.from(A,Me),an=lt.length;if(0===an)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(Ke=0;Ke<U-S;++Ke)this[Ke+S]=lt[Ke%an]}return this};const St={};function nn(B,A,S){St[B]=class extends S{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,delete this.name}get code(){return B}set code(Me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Me,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}function rn(B){let A="",S=B.length;const U="-"===B[0]?1:0;for(;S>=U+4;S-=3)A=`_${B.slice(S-3,S)}${A}`;return`${B.slice(0,S)}${A}`}function ln(B,A,S,U,Me,Ke){if(B>S||B<A){const lt="bigint"==typeof A?"n":"";let an;throw an=Ke>3?0===A||A===BigInt(0)?`>= 0${lt} and < 2${lt} ** ${8*(Ke+1)}${lt}`:`>= -(2${lt} ** ${8*(Ke+1)-1}${lt}) and < 2 ** ${8*(Ke+1)-1}${lt}`:`>= ${A}${lt} and <= ${S}${lt}`,new St.ERR_OUT_OF_RANGE("value",an,B)}!function xn(B,A,S){Xt(A,"offset"),(void 0===B[A]||void 0===B[A+S])&&G(A,B.length-(S+1))}(U,Me,Ke)}function Xt(B,A){if("number"!=typeof B)throw new St.ERR_INVALID_ARG_TYPE(A,"number",B)}function G(B,A,S){throw Math.floor(B)!==B?(Xt(B,S),new St.ERR_OUT_OF_RANGE(S||"offset","an integer",B)):A<0?new St.ERR_BUFFER_OUT_OF_BOUNDS:new St.ERR_OUT_OF_RANGE(S||"offset",`>= ${S?1:0} and <= ${A}`,B)}nn("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),nn("ERR_INVALID_ARG_TYPE",function(B,A){return`The "${B}" argument must be of type number. Received type ${typeof A}`},TypeError),nn("ERR_OUT_OF_RANGE",function(B,A,S){let U=`The value of "${B}" is out of range.`,Me=S;return Number.isInteger(S)&&Math.abs(S)>2**32?Me=rn(String(S)):"bigint"==typeof S&&(Me=String(S),(S>BigInt(2)**BigInt(32)||S<-(BigInt(2)**BigInt(32)))&&(Me=rn(Me)),Me+="n"),U+=` It must be ${A}. Received ${Me}`,U},RangeError);const He=/[^+/0-9A-Za-z-_]/g;function yt(B,A){let S;A=A||1/0;const U=B.length;let Me=null;const Ke=[];for(let lt=0;lt<U;++lt){if(S=B.charCodeAt(lt),S>55295&&S<57344){if(!Me){if(S>56319){(A-=3)>-1&&Ke.push(239,191,189);continue}if(lt+1===U){(A-=3)>-1&&Ke.push(239,191,189);continue}Me=S;continue}if(S<56320){(A-=3)>-1&&Ke.push(239,191,189),Me=S;continue}S=65536+(Me-55296<<10|S-56320)}else Me&&(A-=3)>-1&&Ke.push(239,191,189);if(Me=null,S<128){if((A-=1)<0)break;Ke.push(S)}else if(S<2048){if((A-=2)<0)break;Ke.push(S>>6|192,63&S|128)}else if(S<65536){if((A-=3)<0)break;Ke.push(S>>12|224,S>>6&63|128,63&S|128)}else{if(!(S<1114112))throw new Error("Invalid code point");if((A-=4)<0)break;Ke.push(S>>18|240,S>>12&63|128,S>>6&63|128,63&S|128)}}return Ke}function Ln(B){return ge.toByteArray(function Fe(B){if((B=(B=B.split("=")[0]).trim().replace(He,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(B))}function on(B,A,S,U){let Me;for(Me=0;Me<U&&!(Me+S>=A.length||Me>=B.length);++Me)A[Me+S]=B[Me];return Me}function cn(B,A){return B instanceof A||null!=B&&null!=B.constructor&&null!=B.constructor.name&&B.constructor.name===A.name}function Pn(B){return B!=B}const Gn=function(){const B="0123456789abcdef",A=new Array(256);for(let S=0;S<16;++S){const U=16*S;for(let Me=0;Me<16;++Me)A[U+Me]=B[S]+B[Me]}return A}();function Sr(B){return typeof BigInt>"u"?Jr:B}function Jr(){throw new Error("BigInt not supported")}},9711:(Ge,je,K)=>{var Z="function"==typeof Map&&Map.prototype,ge=Object.getOwnPropertyDescriptor&&Z?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ce=Z&&ge&&"function"==typeof ge.get?ge.get:null,Ve=Z&&Map.prototype.forEach,Se="function"==typeof Set&&Set.prototype,ne=Object.getOwnPropertyDescriptor&&Se?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,H=Se&&ne&&"function"==typeof ne.get?ne.get:null,k=Se&&Set.prototype.forEach,_e="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,be="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,W="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,se=Boolean.prototype.valueOf,pe=Object.prototype.toString,oe=Function.prototype.toString,X=String.prototype.match,D=String.prototype.slice,ae=String.prototype.replace,ue=String.prototype.toUpperCase,Le=String.prototype.toLowerCase,J=RegExp.prototype.test,Ue=Array.prototype.concat,re=Array.prototype.join,xe=Array.prototype.slice,De=Math.floor,Pe="function"==typeof BigInt?BigInt.prototype.valueOf:null,te=Object.getOwnPropertySymbols,ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,wt="function"==typeof Symbol&&"object"==typeof Symbol.iterator,mt="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Ft=Object.prototype.propertyIsEnumerable,bt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ee){return Ee.__proto__}:null);function L(Ee,Re){if(Ee===1/0||Ee===-1/0||Ee!=Ee||Ee&&Ee>-1e3&&Ee<1e3||J.call(/e/,Re))return Re;var le=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Ee){var ze=Ee<0?-De(-Ee):De(Ee);if(ze!==Ee){var ct=String(ze),st=D.call(Re,ct.length+1);return ae.call(ct,le,"$&_")+"."+ae.call(ae.call(st,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ae.call(Re,le,"$&_")}var V=K(2634),$=V.custom,Ae=Xt($)?$:null,Ne={__proto__:null,double:'"',single:"'"},ht={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function Xe(Ee,Re,le){var ct=Ne[le.quoteStyle||Re];return ct+Ee+ct}function vt(Ee){return ae.call(String(Ee),/"/g,"&quot;")}function Gt(Ee){return!("[object Array]"!==yt(Ee)||mt&&"object"==typeof Ee&&mt in Ee)}function St(Ee){return!("[object RegExp]"!==yt(Ee)||mt&&"object"==typeof Ee&&mt in Ee)}function Xt(Ee){if(wt)return Ee&&"object"==typeof Ee&&Ee instanceof Symbol;if("symbol"==typeof Ee)return!0;if(!Ee||"object"!=typeof Ee||!ye)return!1;try{return ye.call(Ee),!0}catch{}return!1}Ge.exports=function Ee(Re,le,ze,ct){var st=le||{};if(Fe(st,"quoteStyle")&&!Fe(Ne,st.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Fe(st,"maxStringLength")&&("number"==typeof st.maxStringLength?st.maxStringLength<0&&st.maxStringLength!==1/0:null!==st.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var qt=!Fe(st,"customInspect")||st.customInspect;if("boolean"!=typeof qt&&"symbol"!==qt)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Fe(st,"indent")&&null!==st.indent&&"\t"!==st.indent&&!(parseInt(st.indent,10)===st.indent&&st.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Fe(st,"numericSeparator")&&"boolean"!=typeof st.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var zn=st.numericSeparator;if(typeof Re>"u")return"undefined";if(null===Re)return"null";if("boolean"==typeof Re)return Re?"true":"false";if("string"==typeof Re)return Jr(Re,st);if("number"==typeof Re){if(0===Re)return 1/0/Re>0?"0":"-0";var Rn=String(Re);return zn?L(Re,Rn):Rn}if("bigint"==typeof Re){var Sn=String(Re)+"n";return zn?L(Re,Sn):Sn}var cr=typeof st.depth>"u"?5:st.depth;if(typeof ze>"u"&&(ze=0),ze>=cr&&cr>0&&"object"==typeof Re)return Gt(Re)?"[Array]":"[Object]";var ir=function Ke(Ee,Re){var le;if("\t"===Ee.indent)le="\t";else{if(!("number"==typeof Ee.indent&&Ee.indent>0))return null;le=re.call(Array(Ee.indent+1)," ")}return{base:le,prev:re.call(Array(Re+1),le)}}(st,ze);if(typeof ct>"u")ct=[];else if(Mn(ct,Re)>=0)return"[Circular]";function Mr(qs,Ai,xs){if(Ai&&(ct=xe.call(ct)).push(Ai),xs){var Ws={depth:st.depth};return Fe(st,"quoteStyle")&&(Ws.quoteStyle=st.quoteStyle),Ee(qs,Ws,ze+1,ct)}return Ee(qs,st,ze+1,ct)}if("function"==typeof Re&&!St(Re)){var Os=function Jt(Ee){if(Ee.name)return Ee.name;var Re=X.call(oe.call(Ee),/^function\s*([\w$]+)/);return Re?Re[1]:null}(Re),qr=an(Re,Mr);return"[Function"+(Os?": "+Os:" (anonymous)")+"]"+(qr.length>0?" { "+re.call(qr,", ")+" }":"")}if(Xt(Re)){var Vi=wt?ae.call(String(Re),/^(Symbol\(.*\))_[^)]*$/,"$1"):ye.call(Re);return"object"!=typeof Re||wt?Vi:A(Vi)}if(function Sr(Ee){return!(!Ee||"object"!=typeof Ee)&&(typeof HTMLElement<"u"&&Ee instanceof HTMLElement||"string"==typeof Ee.nodeName&&"function"==typeof Ee.getAttribute)}(Re)){for(var Js="<"+Le.call(String(Re.nodeName)),ea=Re.attributes||[],Gs=0;Gs<ea.length;Gs++)Js+=" "+ea[Gs].name+"="+Xe(vt(ea[Gs].value),"double",st);return Js+=">",Re.childNodes&&Re.childNodes.length&&(Js+="..."),Js+"</"+Le.call(String(Re.nodeName))+">"}if(Gt(Re)){if(0===Re.length)return"[]";var R=an(Re,Mr);return ir&&!function Me(Ee){for(var Re=0;Re<Ee.length;Re++)if(Mn(Ee[Re],"\n")>=0)return!1;return!0}(R)?"["+lt(R,ir)+"]":"[ "+re.call(R,", ")+" ]"}if(function nn(Ee){return!("[object Error]"!==yt(Ee)||mt&&"object"==typeof Ee&&mt in Ee)}(Re)){var F=an(Re,Mr);return"cause"in Error.prototype||!("cause"in Re)||Ft.call(Re,"cause")?0===F.length?"["+String(Re)+"]":"{ ["+String(Re)+"] "+re.call(F,", ")+" }":"{ ["+String(Re)+"] "+re.call(Ue.call("[cause]: "+Mr(Re.cause),F),", ")+" }"}if("object"==typeof Re&&qt){if(Ae&&"function"==typeof Re[Ae]&&V)return V(Re,{depth:cr-ze});if("symbol"!==qt&&"function"==typeof Re.inspect)return Re.inspect()}if(function Ln(Ee){if(!ce||!Ee||"object"!=typeof Ee)return!1;try{ce.call(Ee);try{H.call(Ee)}catch{return!0}return Ee instanceof Map}catch{}return!1}(Re)){var ie=[];return Ve&&Ve.call(Re,function(qs,Ai){ie.push(Mr(Ai,Re,!0)+" => "+Mr(qs,Re))}),U("Map",ce.call(Re),ie,ir)}if(function Pn(Ee){if(!H||!Ee||"object"!=typeof Ee)return!1;try{H.call(Ee);try{ce.call(Ee)}catch{return!0}return Ee instanceof Set}catch{}return!1}(Re)){var et=[];return k&&k.call(Re,function(qs){et.push(Mr(qs,Re))}),U("Set",H.call(Re),et,ir)}if(function on(Ee){if(!_e||!Ee||"object"!=typeof Ee)return!1;try{_e.call(Ee,_e);try{be.call(Ee,be)}catch{return!0}return Ee instanceof WeakMap}catch{}return!1}(Re))return S("WeakMap");if(function Gn(Ee){if(!be||!Ee||"object"!=typeof Ee)return!1;try{be.call(Ee,be);try{_e.call(Ee,_e)}catch{return!0}return Ee instanceof WeakSet}catch{}return!1}(Re))return S("WeakSet");if(function cn(Ee){if(!W||!Ee||"object"!=typeof Ee)return!1;try{return W.call(Ee),!0}catch{}return!1}(Re))return S("WeakRef");if(function xn(Ee){return!("[object Number]"!==yt(Ee)||mt&&"object"==typeof Ee&&mt in Ee)}(Re))return A(Mr(Number(Re)));if(function G(Ee){if(!Ee||"object"!=typeof Ee||!Pe)return!1;try{return Pe.call(Ee),!0}catch{}return!1}(Re))return A(Mr(Pe.call(Re)));if(function ln(Ee){return!("[object Boolean]"!==yt(Ee)||mt&&"object"==typeof Ee&&mt in Ee)}(Re))return A(se.call(Re));if(function rn(Ee){return!("[object String]"!==yt(Ee)||mt&&"object"==typeof Ee&&mt in Ee)}(Re))return A(Mr(String(Re)));if(typeof window<"u"&&Re===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Re===globalThis||typeof global<"u"&&Re===global)return"{ [object globalThis] }";if(!function Ut(Ee){return!("[object Date]"!==yt(Ee)||mt&&"object"==typeof Ee&&mt in Ee)}(Re)&&!St(Re)){var Et=an(Re,Mr),$e=bt?bt(Re)===Object.prototype:Re instanceof Object||Re.constructor===Object,Qn=Re instanceof Object?"":"null prototype",ws=!$e&&mt&&Object(Re)===Re&&mt in Re?D.call(yt(Re),8,-1):Qn?"Object":"",ur=($e||"function"!=typeof Re.constructor?"":Re.constructor.name?Re.constructor.name+" ":"")+(ws||Qn?"["+re.call(Ue.call([],ws||[],Qn||[]),": ")+"] ":"");return 0===Et.length?ur+"{}":ir?ur+"{"+lt(Et,ir)+"}":ur+"{ "+re.call(Et,", ")+" }"}return String(Re)};var He=Object.prototype.hasOwnProperty||function(Ee){return Ee in this};function Fe(Ee,Re){return He.call(Ee,Re)}function yt(Ee){return pe.call(Ee)}function Mn(Ee,Re){if(Ee.indexOf)return Ee.indexOf(Re);for(var le=0,ze=Ee.length;le<ze;le++)if(Ee[le]===Re)return le;return-1}function Jr(Ee,Re){if(Ee.length>Re.maxStringLength){var le=Ee.length-Re.maxStringLength,ze="... "+le+" more character"+(le>1?"s":"");return Jr(D.call(Ee,0,Re.maxStringLength),Re)+ze}var ct=ht[Re.quoteStyle||"single"];return ct.lastIndex=0,Xe(ae.call(ae.call(Ee,ct,"\\$1"),/[\x00-\x1f]/g,B),"single",Re)}function B(Ee){var Re=Ee.charCodeAt(0),le={8:"b",9:"t",10:"n",12:"f",13:"r"}[Re];return le?"\\"+le:"\\x"+(Re<16?"0":"")+ue.call(Re.toString(16))}function A(Ee){return"Object("+Ee+")"}function S(Ee){return Ee+" { ? }"}function U(Ee,Re,le,ze){return Ee+" ("+Re+") {"+(ze?lt(le,ze):re.call(le,", "))+"}"}function lt(Ee,Re){if(0===Ee.length)return"";var le="\n"+Re.prev+Re.base;return le+re.call(Ee,","+le)+"\n"+Re.prev}function an(Ee,Re){var le=Gt(Ee),ze=[];if(le){ze.length=Ee.length;for(var ct=0;ct<Ee.length;ct++)ze[ct]=Fe(Ee,ct)?Re(Ee[ct],Ee):""}var qt,st="function"==typeof te?te(Ee):[];if(wt){qt={};for(var zn=0;zn<st.length;zn++)qt["$"+st[zn]]=st[zn]}for(var Rn in Ee)Fe(Ee,Rn)&&(le&&String(Number(Rn))===Rn&&Rn<Ee.length||wt&&qt["$"+Rn]instanceof Symbol||(J.call(/[^\w$]/,Rn)?ze.push(Re(Rn,Ee)+": "+Re(Ee[Rn],Ee)):ze.push(Rn+": "+Re(Ee[Rn],Ee))));if("function"==typeof te)for(var Sn=0;Sn<st.length;Sn++)Ft.call(Ee,st[Sn])&&ze.push("["+Re(st[Sn])+"]: "+Re(Ee[st[Sn]],Ee));return ze}},3329:Ge=>{"use strict";var je=String.prototype.replace,K=/%20/g;Ge.exports={default:"RFC3986",formatters:{RFC1738:function(ge){return je.call(ge,K,"+")},RFC3986:function(ge){return String(ge)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},6505:(Ge,je,K)=>{"use strict";var Z=K(9792),ge=K(4014),ce=K(3329);Ge.exports={formats:ce,parse:ge,stringify:Z}},4014:(Ge,je,K)=>{"use strict";var Z=K(1956),ge=Object.prototype.hasOwnProperty,ce=Array.isArray,Ve={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Z.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},ne=function(j,W){return j&&"string"==typeof j&&W.comma&&j.indexOf(",")>-1?j.split(","):j},he=function(W,se,pe,oe){if(W){var X=pe.allowDots?W.replace(/\.([^.[]+)/g,"[$1]"):W,ae=/(\[[^[\]]*])/g,ue=pe.depth>0&&/(\[[^[\]]*])/.exec(X),Le=ue?X.slice(0,ue.index):X,J=[];if(Le){if(!pe.plainObjects&&ge.call(Object.prototype,Le)&&!pe.allowPrototypes)return;J.push(Le)}for(var Ue=0;pe.depth>0&&null!==(ue=ae.exec(X))&&Ue<pe.depth;){if(Ue+=1,!pe.plainObjects&&ge.call(Object.prototype,ue[1].slice(1,-1))&&!pe.allowPrototypes)return;J.push(ue[1])}if(ue){if(!0===pe.strictDepth)throw new RangeError("Input depth exceeded depth option of "+pe.depth+" and strictDepth is true");J.push("["+X.slice(ue.index)+"]")}return function(j,W,se,pe){for(var oe=pe?W:ne(W,se),X=j.length-1;X>=0;--X){var D,ae=j[X];if("[]"===ae&&se.parseArrays)D=se.allowEmptyArrays&&(""===oe||se.strictNullHandling&&null===oe)?[]:[].concat(oe);else{D=se.plainObjects?Object.create(null):{};var ue="["===ae.charAt(0)&&"]"===ae.charAt(ae.length-1)?ae.slice(1,-1):ae,Le=se.decodeDotInKeys?ue.replace(/%2E/g,"."):ue,J=parseInt(Le,10);se.parseArrays||""!==Le?!isNaN(J)&&ae!==Le&&String(J)===Le&&J>=0&&se.parseArrays&&J<=se.arrayLimit?(D=[])[J]=oe:"__proto__"!==Le&&(D[Le]=oe):D={0:oe}}oe=D}return oe}(J,se,pe,oe)}};Ge.exports=function(j,W){var se=function(W){if(!W)return Ve;if(typeof W.allowEmptyArrays<"u"&&"boolean"!=typeof W.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof W.decodeDotInKeys<"u"&&"boolean"!=typeof W.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==W.decoder&&typeof W.decoder<"u"&&"function"!=typeof W.decoder)throw new TypeError("Decoder has to be a function.");if(typeof W.charset<"u"&&"utf-8"!==W.charset&&"iso-8859-1"!==W.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var se=typeof W.charset>"u"?Ve.charset:W.charset,pe=typeof W.duplicates>"u"?Ve.duplicates:W.duplicates;if("combine"!==pe&&"first"!==pe&&"last"!==pe)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof W.allowDots>"u"?!0===W.decodeDotInKeys||Ve.allowDots:!!W.allowDots,allowEmptyArrays:"boolean"==typeof W.allowEmptyArrays?!!W.allowEmptyArrays:Ve.allowEmptyArrays,allowPrototypes:"boolean"==typeof W.allowPrototypes?W.allowPrototypes:Ve.allowPrototypes,allowSparse:"boolean"==typeof W.allowSparse?W.allowSparse:Ve.allowSparse,arrayLimit:"number"==typeof W.arrayLimit?W.arrayLimit:Ve.arrayLimit,charset:se,charsetSentinel:"boolean"==typeof W.charsetSentinel?W.charsetSentinel:Ve.charsetSentinel,comma:"boolean"==typeof W.comma?W.comma:Ve.comma,decodeDotInKeys:"boolean"==typeof W.decodeDotInKeys?W.decodeDotInKeys:Ve.decodeDotInKeys,decoder:"function"==typeof W.decoder?W.decoder:Ve.decoder,delimiter:"string"==typeof W.delimiter||Z.isRegExp(W.delimiter)?W.delimiter:Ve.delimiter,depth:"number"==typeof W.depth||!1===W.depth?+W.depth:Ve.depth,duplicates:pe,ignoreQueryPrefix:!0===W.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof W.interpretNumericEntities?W.interpretNumericEntities:Ve.interpretNumericEntities,parameterLimit:"number"==typeof W.parameterLimit?W.parameterLimit:Ve.parameterLimit,parseArrays:!1!==W.parseArrays,plainObjects:"boolean"==typeof W.plainObjects?W.plainObjects:Ve.plainObjects,strictDepth:"boolean"==typeof W.strictDepth?!!W.strictDepth:Ve.strictDepth,strictNullHandling:"boolean"==typeof W.strictNullHandling?W.strictNullHandling:Ve.strictNullHandling}}(W);if(""===j||null===j||typeof j>"u")return se.plainObjects?Object.create(null):{};for(var pe="string"==typeof j?function(W,se){var ue,pe={__proto__:null},oe=se.ignoreQueryPrefix?W.replace(/^\?/,""):W,D=(oe=oe.replace(/%5B/gi,"[").replace(/%5D/gi,"]")).split(se.delimiter,se.parameterLimit===1/0?void 0:se.parameterLimit),ae=-1,Le=se.charset;if(se.charsetSentinel)for(ue=0;ue<D.length;++ue)0===D[ue].indexOf("utf8=")&&("utf8=%E2%9C%93"===D[ue]?Le="utf-8":"utf8=%26%2310003%3B"===D[ue]&&(Le="iso-8859-1"),ae=ue,ue=D.length);for(ue=0;ue<D.length;++ue)if(ue!==ae){var xe,De,J=D[ue],Ue=J.indexOf("]="),re=-1===Ue?J.indexOf("="):Ue+1;-1===re?(xe=se.decoder(J,Ve.decoder,Le,"key"),De=se.strictNullHandling?null:""):(xe=se.decoder(J.slice(0,re),Ve.decoder,Le,"key"),De=Z.maybeMap(ne(J.slice(re+1),se),function(te){return se.decoder(te,Ve.decoder,Le,"value")})),De&&se.interpretNumericEntities&&"iso-8859-1"===Le&&(De=De.replace(/&#(\d+);/g,function(W,se){return String.fromCharCode(parseInt(se,10))})),J.indexOf("[]=")>-1&&(De=ce(De)?[De]:De);var Pe=ge.call(pe,xe);Pe&&"combine"===se.duplicates?pe[xe]=Z.combine(pe[xe],De):(!Pe||"last"===se.duplicates)&&(pe[xe]=De)}return pe}(j,se):j,oe=se.plainObjects?Object.create(null):{},X=Object.keys(pe),D=0;D<X.length;++D){var ae=X[D],ue=he(ae,pe[ae],se,"string"==typeof j);oe=Z.merge(oe,ue,se)}return!0===se.allowSparse?oe:Z.compact(oe)}},9792:(Ge,je,K)=>{"use strict";var Z=K(8268),ge=K(1956),ce=K(3329),Ve=Object.prototype.hasOwnProperty,Se={brackets:function(oe){return oe+"[]"},comma:"comma",indices:function(oe,X){return oe+"["+X+"]"},repeat:function(oe){return oe}},ne=Array.isArray,H=Array.prototype.push,k=function(pe,oe){H.apply(pe,ne(oe)?oe:[oe])},f=Date.prototype.toISOString,_e=ce.default,he={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ge.encode,encodeValuesOnly:!1,format:_e,formatter:ce.formatters[_e],indices:!1,serializeDate:function(oe){return f.call(oe)},skipNulls:!1,strictNullHandling:!1},j={},W=function pe(oe,X,D,ae,ue,Le,J,Ue,re,xe,De,Pe,te,ye,wt,mt,Ft,bt){for(var L=oe,V=bt,$=0,Ae=!1;void 0!==(V=V.get(j))&&!Ae;){var Ne=V.get(oe);if($+=1,typeof Ne<"u"){if(Ne===$)throw new RangeError("Cyclic object value");Ae=!0}typeof V.get(j)>"u"&&($=0)}if("function"==typeof xe?L=xe(X,L):L instanceof Date?L=te(L):"comma"===D&&ne(L)&&(L=ge.maybeMap(L,function(He){return He instanceof Date?te(He):He})),null===L){if(Le)return re&&!mt?re(X,he.encoder,Ft,"key",ye):X;L=""}if(function(oe){return"string"==typeof oe||"number"==typeof oe||"boolean"==typeof oe||"symbol"==typeof oe||"bigint"==typeof oe}(L)||ge.isBuffer(L))return re?[wt(mt?X:re(X,he.encoder,Ft,"key",ye))+"="+wt(re(L,he.encoder,Ft,"value",ye))]:[wt(X)+"="+wt(String(L))];var vt,Xe=[];if(typeof L>"u")return Xe;if("comma"===D&&ne(L))mt&&re&&(L=ge.maybeMap(L,re)),vt=[{value:L.length>0?L.join(",")||null:void 0}];else if(ne(xe))vt=xe;else{var Gt=Object.keys(L);vt=De?Gt.sort(De):Gt}var Ut=Ue?X.replace(/\./g,"%2E"):X,St=ae&&ne(L)&&1===L.length?Ut+"[]":Ut;if(ue&&ne(L)&&0===L.length)return St+"[]";for(var nn=0;nn<vt.length;++nn){var rn=vt[nn],xn="object"==typeof rn&&typeof rn.value<"u"?rn.value:L[rn];if(!J||null!==xn){var ln=Pe&&Ue?rn.replace(/\./g,"%2E"):rn,Xt=ne(L)?"function"==typeof D?D(St,ln):St:St+(Pe?"."+ln:"["+ln+"]");bt.set(oe,$);var G=Z();G.set(j,bt),k(Xe,pe(xn,Xt,D,ae,ue,Le,J,Ue,"comma"===D&&mt&&ne(L)?null:re,xe,De,Pe,te,ye,wt,mt,Ft,G))}}return Xe};Ge.exports=function(pe,oe){var ae,X=pe,D=function(oe){if(!oe)return he;if(typeof oe.allowEmptyArrays<"u"&&"boolean"!=typeof oe.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof oe.encodeDotInKeys<"u"&&"boolean"!=typeof oe.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==oe.encoder&&typeof oe.encoder<"u"&&"function"!=typeof oe.encoder)throw new TypeError("Encoder has to be a function.");var X=oe.charset||he.charset;if(typeof oe.charset<"u"&&"utf-8"!==oe.charset&&"iso-8859-1"!==oe.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var D=ce.default;if(typeof oe.format<"u"){if(!Ve.call(ce.formatters,oe.format))throw new TypeError("Unknown format option provided.");D=oe.format}var Le,ae=ce.formatters[D],ue=he.filter;if(("function"==typeof oe.filter||ne(oe.filter))&&(ue=oe.filter),Le=oe.arrayFormat in Se?oe.arrayFormat:"indices"in oe?oe.indices?"indices":"repeat":he.arrayFormat,"commaRoundTrip"in oe&&"boolean"!=typeof oe.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof oe.addQueryPrefix?oe.addQueryPrefix:he.addQueryPrefix,allowDots:typeof oe.allowDots>"u"?!0===oe.encodeDotInKeys||he.allowDots:!!oe.allowDots,allowEmptyArrays:"boolean"==typeof oe.allowEmptyArrays?!!oe.allowEmptyArrays:he.allowEmptyArrays,arrayFormat:Le,charset:X,charsetSentinel:"boolean"==typeof oe.charsetSentinel?oe.charsetSentinel:he.charsetSentinel,commaRoundTrip:oe.commaRoundTrip,delimiter:typeof oe.delimiter>"u"?he.delimiter:oe.delimiter,encode:"boolean"==typeof oe.encode?oe.encode:he.encode,encodeDotInKeys:"boolean"==typeof oe.encodeDotInKeys?oe.encodeDotInKeys:he.encodeDotInKeys,encoder:"function"==typeof oe.encoder?oe.encoder:he.encoder,encodeValuesOnly:"boolean"==typeof oe.encodeValuesOnly?oe.encodeValuesOnly:he.encodeValuesOnly,filter:ue,format:D,formatter:ae,serializeDate:"function"==typeof oe.serializeDate?oe.serializeDate:he.serializeDate,skipNulls:"boolean"==typeof oe.skipNulls?oe.skipNulls:he.skipNulls,sort:"function"==typeof oe.sort?oe.sort:null,strictNullHandling:"boolean"==typeof oe.strictNullHandling?oe.strictNullHandling:he.strictNullHandling}}(oe);"function"==typeof D.filter?X=(0,D.filter)("",X):ne(D.filter)&&(ae=D.filter);var Le=[];if("object"!=typeof X||null===X)return"";var J=Se[D.arrayFormat],Ue="comma"===J&&D.commaRoundTrip;ae||(ae=Object.keys(X)),D.sort&&ae.sort(D.sort);for(var re=Z(),xe=0;xe<ae.length;++xe){var De=ae[xe];D.skipNulls&&null===X[De]||k(Le,W(X[De],De,J,Ue,D.allowEmptyArrays,D.strictNullHandling,D.skipNulls,D.encodeDotInKeys,D.encode?D.encoder:null,D.filter,D.sort,D.allowDots,D.serializeDate,D.format,D.formatter,D.encodeValuesOnly,D.charset,re))}var Pe=Le.join(D.delimiter),te=!0===D.addQueryPrefix?"?":"";return D.charsetSentinel&&(te+="iso-8859-1"===D.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),Pe.length>0?te+Pe:""}},1956:(Ge,je,K)=>{"use strict";var Z=K(3329),ge=Object.prototype.hasOwnProperty,ce=Array.isArray,Ve=function(){for(var oe=[],X=0;X<256;++X)oe.push("%"+((X<16?"0":"")+X.toString(16)).toUpperCase());return oe}(),ne=function(X,D){for(var ae=D&&D.plainObjects?Object.create(null):{},ue=0;ue<X.length;++ue)typeof X[ue]<"u"&&(ae[ue]=X[ue]);return ae};Ge.exports={arrayToObject:ne,assign:function(X,D){return Object.keys(D).reduce(function(ae,ue){return ae[ue]=D[ue],ae},X)},combine:function(X,D){return[].concat(X,D)},compact:function(X){for(var D=[{obj:{o:X},prop:"o"}],ae=[],ue=0;ue<D.length;++ue)for(var Le=D[ue],J=Le.obj[Le.prop],Ue=Object.keys(J),re=0;re<Ue.length;++re){var xe=Ue[re],De=J[xe];"object"==typeof De&&null!==De&&-1===ae.indexOf(De)&&(D.push({obj:J,prop:xe}),ae.push(De))}return function(X){for(;X.length>1;){var D=X.pop(),ae=D.obj[D.prop];if(ce(ae)){for(var ue=[],Le=0;Le<ae.length;++Le)typeof ae[Le]<"u"&&ue.push(ae[Le]);D.obj[D.prop]=ue}}}(D),X},decode:function(oe,X,D){var ae=oe.replace(/\+/g," ");if("iso-8859-1"===D)return ae.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(ae)}catch{return ae}},encode:function(X,D,ae,ue,Le){if(0===X.length)return X;var J=X;if("symbol"==typeof X?J=Symbol.prototype.toString.call(X):"string"!=typeof X&&(J=String(X)),"iso-8859-1"===ae)return escape(J).replace(/%u[0-9a-f]{4}/gi,function(ye){return"%26%23"+parseInt(ye.slice(2),16)+"%3B"});for(var Ue="",re=0;re<J.length;re+=1024){for(var xe=J.length>=1024?J.slice(re,re+1024):J,De=[],Pe=0;Pe<xe.length;++Pe){var te=xe.charCodeAt(Pe);45===te||46===te||95===te||126===te||te>=48&&te<=57||te>=65&&te<=90||te>=97&&te<=122||Le===Z.RFC1738&&(40===te||41===te)?De[De.length]=xe.charAt(Pe):te<128?De[De.length]=Ve[te]:te<2048?De[De.length]=Ve[192|te>>6]+Ve[128|63&te]:te<55296||te>=57344?De[De.length]=Ve[224|te>>12]+Ve[128|te>>6&63]+Ve[128|63&te]:(te=65536+((1023&te)<<10|1023&xe.charCodeAt(Pe+=1)),De[De.length]=Ve[240|te>>18]+Ve[128|te>>12&63]+Ve[128|te>>6&63]+Ve[128|63&te])}Ue+=De.join("")}return Ue},isBuffer:function(X){return!(!X||"object"!=typeof X||!(X.constructor&&X.constructor.isBuffer&&X.constructor.isBuffer(X)))},isRegExp:function(X){return"[object RegExp]"===Object.prototype.toString.call(X)},maybeMap:function(X,D){if(ce(X)){for(var ae=[],ue=0;ue<X.length;ue+=1)ae.push(D(X[ue]));return ae}return D(X)},merge:function oe(X,D,ae){if(!D)return X;if("object"!=typeof D){if(ce(X))X.push(D);else{if(!X||"object"!=typeof X)return[X,D];(ae&&(ae.plainObjects||ae.allowPrototypes)||!ge.call(Object.prototype,D))&&(X[D]=!0)}return X}if(!X||"object"!=typeof X)return[X].concat(D);var ue=X;return ce(X)&&!ce(D)&&(ue=ne(X,ae)),ce(X)&&ce(D)?(D.forEach(function(Le,J){if(ge.call(X,J)){var Ue=X[J];Ue&&"object"==typeof Ue&&Le&&"object"==typeof Le?X[J]=oe(Ue,Le,ae):X.push(Le)}else X[J]=Le}),X):Object.keys(D).reduce(function(Le,J){var Ue=D[J];return Le[J]=ge.call(Le,J)?oe(Le[J],Ue,ae):Ue,Le},ue)}}},4416:Ge=>{let je;Ge.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:global):K=>(je||(je=Promise.resolve())).then(K).catch(Z=>setTimeout(()=>{throw Z},0))},9423:(Ge,je,K)=>{"use strict";K.d(je,{A:()=>ge});const ge={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7}},1752:(Ge,je,K)=>{"use strict";K.d(je,{A:()=>W});var Z=K(1322),ge=K(1308),ce=K(1853),Ve=K(4009),Se=K(6190),ne=K(3380),H=K(9423),k=K(9788),f=K(9535),_e=K(79),he=K(1551);function be(se,pe,oe){return pe=(0,Ve.A)(pe),(0,ce.A)(se,j()?Reflect.construct(pe,oe||[],(0,Ve.A)(se).constructor):pe.apply(se,oe))}function j(){try{var se=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j=function(){return!!se})()}var W=function(se){function pe(oe){var X;if((0,Z.A)(this,pe),X=be(this,pe,[(0,_e.E)(oe)]),(0,ne.A)(X,"termType",f.Kk),(0,ne.A)(X,"classOrder",H.A.NamedNode),!X.value)throw new Error("Missing IRI for NamedNode");if(!X.value.includes(":"))throw new Error('NamedNode IRI "'+oe+'" must be absolute.');if(X.value.includes(" "))throw new Error('Error: NamedNode IRI "'+oe+'" must not contain unencoded spaces.');return X}return(0,Se.A)(pe,se),(0,ge.A)(pe,[{key:"dir",value:function(){var X=this.value.split("#")[0],D=X.slice(0,-1).lastIndexOf("/"),ae=X.indexOf("//");return ae>=0&&D<ae+2||D<0?null:new pe(X.slice(0,D+1))}},{key:"site",value:function(){var X=this.value.split("#")[0],D=X.indexOf("//");if(D<0)throw new Error("This URI does not have a web site part (origin)");var ae=X.indexOf("/",D+2);return new pe(ae<0?X.slice(0)+"/":X.slice(0,ae+1))}},{key:"doc",value:function(){return this.value.indexOf("#")<0?this:new pe(this.value.split("#")[0])}},{key:"toString",value:function(){return"<"+this.value+">"}},{key:"id",value:function(){return this.value.split("#")[1]}},{key:"uri",get:function(){return this.value},set:function(X){this.value=X}}],[{key:"fromValue",value:function(X){return typeof X>"u"||null===X||(0,he.D0)(X)?X:new pe(X)}}])}(k.A)},9788:(Ge,je,K)=>{"use strict";K.d(je,{A:()=>Ve});var Z=K(1322),ge=K(1308),ce=K(3380),Ve=function(){return(0,ge.A)(function Se(ne){(0,Z.A)(this,Se),(0,ce.A)(this,"termType",void 0),(0,ce.A)(this,"classOrder",void 0),(0,ce.A)(this,"value",void 0),this.value=ne},[{key:"substitute",value:function(H){return this}},{key:"compareTerm",value:function(H){return this.classOrder<H.classOrder?-1:this.classOrder>H.classOrder?1:this.value<H.value?-1:this.value>H.value?1:0}},{key:"equals",value:function(H){return!!H&&this.termType===H.termType&&this.value===H.value}},{key:"hashString",value:function(){return this.toCanonical()}},{key:"sameTerm",value:function(H){return this.equals(H)}},{key:"toCanonical",value:function(){return this.toNT()}},{key:"toNT",value:function(){return this.toString()}},{key:"toNQ",value:function(){return this.toNT()}},{key:"toString",value:function(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}])}();(0,ce.A)(Ve,"fromValue",void 0),(0,ce.A)(Ve,"toJS",void 0)},9535:(Ge,je,K)=>{"use strict";K.d(je,{$Q:()=>ge,BR:()=>j,Fn:()=>X,H:()=>ue,JG:()=>pe,K9:()=>oe,Kk:()=>Z,MG:()=>be,P2:()=>Ve,QW:()=>ce,S:()=>H,_0:()=>W,bD:()=>k,bM:()=>se,hu:()=>ae,i2:()=>_e,ic:()=>Se,lc:()=>f,ny:()=>he,r0:()=>ne,sT:()=>D});var Z="NamedNode",ge="BlankNode",ce="Literal",Ve="Variable",Se="DefaultGraph",ne="Collection",H="Empty",k="Graph",f="text/html",_e="application/ld+json",he="text/n3",be="application/n3",j="application/nquads",W="application/n-quads",se="application/n-triples",pe="application/rdf+xml",oe="application/sparql-update",X="application/sparql-update-single-match",D="text/turtle",ae="application/x-turtle",ue="application/xhtml+xml"},9223:(Ge,je,K)=>{"use strict";K.d(je,{Kw:()=>ne,Uz:()=>se,VQ:()=>be,h4:()=>W,jI:()=>k,tE:()=>Ve});var Z=K(1752),ge=K(2502);function Ve(D){return D=D.split(";")[0].trim(),new Z.A("http://www.w3.org/ns/iana/media-types/"+D+"#Resource")}function ne(D,ae){D.callbacks={};for(var ue=ae.length-1;ue>=0;ue--)D.callbacks[ae[ue]]=[];D.addHook=function(Le){D.callbacks[Le]||(D.callbacks[Le]=[])},D.addCallback=function(Le,J){D.callbacks[Le].push(J)},D.removeCallback=function(Le,J){for(var Ue=0;Ue<D.callbacks[Le].length;Ue++)if(D.callbacks[Le][Ue].name===J)return D.callbacks[Le].splice(Ue,1),!0;return!1},D.insertCallback=function(Le,J){D.callbacks[Le].unshift(J)},D.fireCallbacks=function(J,Ue){var Pe,te,re=[],xe=[],De=D.callbacks[J].length;for(Pe=De-1;Pe>=0;Pe--)(te=D.callbacks[J][Pe])&&te.apply(D,Ue)&&re.push(te);for(Pe=re.length-1;Pe>=0;Pe--)xe.push(re[Pe]);for(Pe=De;Pe<D.callbacks[J].length;Pe++)xe.push(D.callbacks[J][Pe]);D.callbacks[J]=xe}}function k(D,ae){var ue=[];(ae=ae||{})&&ae.selfClosing&&ae.selfClosing.split(" ").forEach(function(J){ue[J]=!0});var Le=[];return ae&&ae.skipAttributes&&ae.skipAttributes.split(" ").forEach(function(J){Le[J]=!0}),f(D,ae,ue,Le)}function f(D,ae,ue,Le){var J,Ue="",re=[!1];if(typeof D.nodeType>"u")return Ue;if(1===D.nodeType){if(D.hasAttribute("class")&&ae&&ae.classWithChildText&&D.matches(ae.classWithChildText.class))Ue+=D.querySelector(ae.classWithChildText.element).textContent;else if(!(ae&&ae.skipNodeWithClass&&D.matches("."+ae.skipNodeWithClass))){var xe=D.nodeName.toLowerCase();Ue+="<"+xe;var De=[];for(J=D.attributes.length-1;J>=0;J--){var Pe=D.attributes[J];if(!(Le&&Le.length>0&&Le[Pe.name]||/^\d+$/.test(Pe.name))){if("class"===Pe.name&&ae&&ae.replaceClassItemWith&&Pe.value.split(" ").indexOf(ae.replaceClassItemWith.source)>-1){var te=new RegExp(ae.replaceClassItemWith.source,"g");Pe.value=Pe.value.replace(te,ae.replaceClassItemWith.target).trim()}"class"===Pe.name&&ae&&ae.skipClassWithValue&&ae.skipClassWithValue===Pe.value||De.push(Pe.name+"='"+Pe.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(De.length>0&&(ae&&ae.sortAttributes&&De.sort(function(wt,mt){return wt.toLowerCase().localeCompare(mt.toLowerCase())}),Ue+=" "+De.join(" ")),ue&&ue.ename)Ue+=" />";else{for(Ue+=">",Ue+="html"===xe?"\n  ":"",re.push("style"===xe||"script"===xe),J=0;J<D.childNodes.length;J++)Ue+=f(D.childNodes[J]);re.pop(),Ue+="body"===xe?"</"+xe+">\n":"</"+xe+">"}}}else if(8===D.nodeType)Ue+="\x3c!--"+D.nodeValue+"--\x3e";else if(3===D.nodeType||4===D.nodeType){var ye=D.nodeValue.replace(/\n+$/,"");Ue+=re[re.length-1]?ye:ye.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+D.nodeType),console.log(D);return Ue}function he(D,ae,ue,Le){var J=function(De){return"BlankNode"===De.termType?null:De},Ue=function(De){var Pe=ue.statementsMatching(De).map(function(te){return J(te.subject)+" "+J(te.predicate)+" "+J(te.object)}).concat(ue.statementsMatching(void 0,void 0,De).map(function(te){return J(te.subject)+" "+J(te.predicate)+" "+J(te.object)}));return Pe.sort(),Pe.join("\n")},re=Object.prototype.hasOwnProperty.call(ue,"compareTerms")?ue.compareTerms(D,ae):D.compareTerm(ae);return"BlankNode"===D.termType&&"BlankNode"===ae.termType?0===re?0:Ue(D)>Ue(ae)?1:Ue(D)<Ue(ae)?-1:re:Le&&D.uri&&ae.uri?(Le[D.uri]||D.uri).localeCompare(Le[ae.uri]||ae.uri):re}function be(D,ae,ue,Le){return he(D.subject,ae.subject,ue,Le)||he(D.predicate,ae.predicate,ue,Le)||he(D.object,ae.object,ue,Le)}function W(D,ae){return ae=ae||{},Ge&&Ge.exports?(new ge.DOMParser).parseFromString(D,ae.contentType||"application/xhtml+xml"):(typeof window<"u"&&window.DOMParser?new window.DOMParser:new ge.DOMParser).parseFromString(D,"application/xml")}function se(D,ae){for(var ue=0;ue<D.length;ue++)if(D[ue].subject.equals(ae.subject)&&D[ue].predicate.equals(ae.predicate)&&D[ue].object.equals(ae.object)&&D[ue].why.equals(ae.why))return void D.splice(ue,1);throw new Error("RDFArrayRemove: Array did not contain "+ae+" "+ae.why)}Ge=K.hmd(Ge)},79:(Ge,je,K)=>{"use strict";function Z(ge){return"string"==typeof ge?ge:ge.value}K.d(je,{E:()=>Z})},1551:(Ge,je,K)=>{"use strict";K.d(je,{CZ:()=>H,D0:()=>_e,DJ:()=>ne,DZ:()=>f,P3:()=>Se,RN:()=>X,SH:()=>ce,Y2:()=>j,aF:()=>be,c$:()=>he,fY:()=>k,ok:()=>Ve});var Z=K(9391),ge=K(9535);function ce(D){return"object"===(0,Z.A)(D)&&null!==D&&"subject"in D}function Ve(D){return"object"===(0,Z.A)(D)&&null!==D&&"statements"in D}function Se(D){return _e(D)&&D.termType===ge.r0}function ne(D){return D&&Object.prototype.hasOwnProperty.call(D,"termType")&&(D.termType===ge.Kk||D.termType===ge.P2||D.termType===ge.$Q||D.termType===ge.r0||D.termType===ge.QW||D.termType===ge.bD)}function H(D){return D&&Object.prototype.hasOwnProperty.call(D,"termType")&&(D.termType===ge.Kk||D.termType===ge.P2||D.termType===ge.$Q||D.termType===ge.r0||D.termType===ge.QW||D.termType===ge.bD)}function k(D){return _e(D)&&(D.termType===ge.Kk||D.termType===ge.$Q||D.termType===ge.P2)}function f(D){return _e(D)&&D.termType===ge.P2}function _e(D){return"object"===(0,Z.A)(D)&&null!==D&&"termType"in D}function he(D){return D.termType===ge.QW}function be(D){return"object"===(0,Z.A)(D)&&null!==D&&"subject"in D&&"predicate"in D&&"object"in D}function j(D){return _e(D)&&"NamedNode"===D.termType}function X(D){return _e(D)&&(D.termType===ge.Kk||D.termType===ge.P2||D.termType===ge.$Q||D.termType===ge.ic)}},8868:function(Ge,je){var ce,K=typeof self<"u"?self:this,Z=function(){function ce(){this.fetch=!1,this.DOMException=K.DOMException}return ce.prototype=K,new ce}();ce=Z,function(Se){var ne_searchParams="URLSearchParams"in ce,ne_iterable="Symbol"in ce&&"iterator"in Symbol,ne_blob="FileReader"in ce&&"Blob"in ce&&function(){try{return new Blob,!0}catch{return!1}}(),ne_formData="FormData"in ce,ne_arrayBuffer="ArrayBuffer"in ce;if(ne_arrayBuffer)var k=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(te){return te&&k.indexOf(Object.prototype.toString.call(te))>-1};function _e(te){if("string"!=typeof te&&(te=String(te)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(te))throw new TypeError("Invalid character in header field name");return te.toLowerCase()}function he(te){return"string"!=typeof te&&(te=String(te)),te}function be(te){var ye={next:function(){var wt=te.shift();return{done:void 0===wt,value:wt}}};return ne_iterable&&(ye[Symbol.iterator]=function(){return ye}),ye}function j(te){this.map={},te instanceof j?te.forEach(function(ye,wt){this.append(wt,ye)},this):Array.isArray(te)?te.forEach(function(ye){this.append(ye[0],ye[1])},this):te&&Object.getOwnPropertyNames(te).forEach(function(ye){this.append(ye,te[ye])},this)}function W(te){if(te.bodyUsed)return Promise.reject(new TypeError("Already read"));te.bodyUsed=!0}function se(te){return new Promise(function(ye,wt){te.onload=function(){ye(te.result)},te.onerror=function(){wt(te.error)}})}function pe(te){var ye=new FileReader,wt=se(ye);return ye.readAsArrayBuffer(te),wt}function D(te){if(te.slice)return te.slice(0);var ye=new Uint8Array(te.byteLength);return ye.set(new Uint8Array(te)),ye.buffer}function ae(){return this.bodyUsed=!1,this._initBody=function(te){this._bodyInit=te,te?"string"==typeof te?this._bodyText=te:ne_blob&&Blob.prototype.isPrototypeOf(te)?this._bodyBlob=te:ne_formData&&FormData.prototype.isPrototypeOf(te)?this._bodyFormData=te:ne_searchParams&&URLSearchParams.prototype.isPrototypeOf(te)?this._bodyText=te.toString():ne_arrayBuffer&&ne_blob&&function H(te){return te&&DataView.prototype.isPrototypeOf(te)}(te)?(this._bodyArrayBuffer=D(te.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ne_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(te)||f(te))?this._bodyArrayBuffer=D(te):this._bodyText=te=Object.prototype.toString.call(te):this._bodyText="",this.headers.get("content-type")||("string"==typeof te?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ne_searchParams&&URLSearchParams.prototype.isPrototypeOf(te)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ne_blob&&(this.blob=function(){var te=W(this);if(te)return te;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?W(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(pe)}),this.text=function(){var te=W(this);if(te)return te;if(this._bodyBlob)return function oe(te){var ye=new FileReader,wt=se(ye);return ye.readAsText(te),wt}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function X(te){for(var ye=new Uint8Array(te),wt=new Array(ye.length),mt=0;mt<ye.length;mt++)wt[mt]=String.fromCharCode(ye[mt]);return wt.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ne_formData&&(this.formData=function(){return this.text().then(Ue)}),this.json=function(){return this.text().then(JSON.parse)},this}j.prototype.append=function(te,ye){te=_e(te),ye=he(ye);var wt=this.map[te];this.map[te]=wt?wt+", "+ye:ye},j.prototype.delete=function(te){delete this.map[_e(te)]},j.prototype.get=function(te){return te=_e(te),this.has(te)?this.map[te]:null},j.prototype.has=function(te){return this.map.hasOwnProperty(_e(te))},j.prototype.set=function(te,ye){this.map[_e(te)]=he(ye)},j.prototype.forEach=function(te,ye){for(var wt in this.map)this.map.hasOwnProperty(wt)&&te.call(ye,this.map[wt],wt,this)},j.prototype.keys=function(){var te=[];return this.forEach(function(ye,wt){te.push(wt)}),be(te)},j.prototype.values=function(){var te=[];return this.forEach(function(ye){te.push(ye)}),be(te)},j.prototype.entries=function(){var te=[];return this.forEach(function(ye,wt){te.push([wt,ye])}),be(te)},ne_iterable&&(j.prototype[Symbol.iterator]=j.prototype.entries);var ue=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function J(te,ye){var wt=(ye=ye||{}).body;if(te instanceof J){if(te.bodyUsed)throw new TypeError("Already read");this.url=te.url,this.credentials=te.credentials,ye.headers||(this.headers=new j(te.headers)),this.method=te.method,this.mode=te.mode,this.signal=te.signal,!wt&&null!=te._bodyInit&&(wt=te._bodyInit,te.bodyUsed=!0)}else this.url=String(te);if(this.credentials=ye.credentials||this.credentials||"same-origin",(ye.headers||!this.headers)&&(this.headers=new j(ye.headers)),this.method=function Le(te){var ye=te.toUpperCase();return ue.indexOf(ye)>-1?ye:te}(ye.method||this.method||"GET"),this.mode=ye.mode||this.mode||null,this.signal=ye.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&wt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(wt)}function Ue(te){var ye=new FormData;return te.trim().split("&").forEach(function(wt){if(wt){var mt=wt.split("="),Ft=mt.shift().replace(/\+/g," "),bt=mt.join("=").replace(/\+/g," ");ye.append(decodeURIComponent(Ft),decodeURIComponent(bt))}}),ye}function re(te){var ye=new j;return te.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(mt){var Ft=mt.split(":"),bt=Ft.shift().trim();if(bt){var L=Ft.join(":").trim();ye.append(bt,L)}}),ye}function xe(te,ye){ye||(ye={}),this.type="default",this.status=void 0===ye.status?200:ye.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in ye?ye.statusText:"OK",this.headers=new j(ye.headers),this.url=ye.url||"",this._initBody(te)}J.prototype.clone=function(){return new J(this,{body:this._bodyInit})},ae.call(J.prototype),ae.call(xe.prototype),xe.prototype.clone=function(){return new xe(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new j(this.headers),url:this.url})},xe.error=function(){var te=new xe(null,{status:0,statusText:""});return te.type="error",te};var De=[301,302,303,307,308];xe.redirect=function(te,ye){if(-1===De.indexOf(ye))throw new RangeError("Invalid status code");return new xe(null,{status:ye,headers:{location:te}})},Se.DOMException=ce.DOMException;try{new Se.DOMException}catch{Se.DOMException=function(ye,wt){this.message=ye,this.name=wt;var mt=Error(ye);this.stack=mt.stack},Se.DOMException.prototype=Object.create(Error.prototype),Se.DOMException.prototype.constructor=Se.DOMException}function Pe(te,ye){return new Promise(function(wt,mt){var Ft=new J(te,ye);if(Ft.signal&&Ft.signal.aborted)return mt(new Se.DOMException("Aborted","AbortError"));var bt=new XMLHttpRequest;function L(){bt.abort()}bt.onload=function(){var V={status:bt.status,statusText:bt.statusText,headers:re(bt.getAllResponseHeaders()||"")};V.url="responseURL"in bt?bt.responseURL:V.headers.get("X-Request-URL"),wt(new xe("response"in bt?bt.response:bt.responseText,V))},bt.onerror=function(){mt(new TypeError("Network request failed"))},bt.ontimeout=function(){mt(new TypeError("Network request failed"))},bt.onabort=function(){mt(new Se.DOMException("Aborted","AbortError"))},bt.open(Ft.method,Ft.url,!0),"include"===Ft.credentials?bt.withCredentials=!0:"omit"===Ft.credentials&&(bt.withCredentials=!1),"responseType"in bt&&ne_blob&&(bt.responseType="blob"),Ft.headers.forEach(function(V,$){bt.setRequestHeader($,V)}),Ft.signal&&(Ft.signal.addEventListener("abort",L),bt.onreadystatechange=function(){4===bt.readyState&&Ft.signal.removeEventListener("abort",L)}),bt.send(typeof Ft._bodyInit>"u"?null:Ft._bodyInit)})}Pe.polyfill=!0,ce.fetch||(ce.fetch=Pe,ce.Headers=j,ce.Request=J,ce.Response=xe),Se.Headers=j,Se.Request=J,Se.Response=xe,Se.fetch=Pe,Object.defineProperty(Se,"__esModule",{value:!0})}({}),Z.fetch.ponyfill=!0,delete Z.fetch.polyfill;var ge=Z;(je=ge.fetch).default=ge.fetch,je.fetch=ge.fetch,je.Headers=ge.Headers,je.Request=ge.Request,je.Response=ge.Response,Ge.exports=je},3591:(Ge,je,K)=>{"use strict";var Z=K(9711),ge=K(9327),ce=function(k,f,_e){for(var be,he=k;null!=(be=he.next);he=be)if(be.key===f)return he.next=be.next,_e||(be.next=k.next,k.next=be),be};Ge.exports=function(){var f,_e={assert:function(he){if(!_e.has(he))throw new ge("Side channel does not contain "+Z(he))},delete:function(he){var be=f&&f.next,j=function(k,f){if(k)return ce(k,f,!0)}(f,he);return j&&be&&be===j&&(f=void 0),!!j},get:function(he){return function(k,f){if(k){var _e=ce(k,f);return _e&&_e.value}}(f,he)},has:function(he){return function(k,f){return!!k&&!!ce(k,f)}(f,he)},set:function(he,be){f||(f={next:void 0}),function(k,f,_e){var he=ce(k,f);he?he.value=_e:k.next={key:f,next:k.next,value:_e}}(f,he,be)}};return _e}},6591:(Ge,je,K)=>{"use strict";var Z=K(9249),ge=K(448),ce=K(9711),Ve=K(9327),Se=Z("%Map%",!0),ne=ge("Map.prototype.get",!0),H=ge("Map.prototype.set",!0),k=ge("Map.prototype.has",!0),f=ge("Map.prototype.delete",!0),_e=ge("Map.prototype.size",!0);Ge.exports=!!Se&&function(){var be,j={assert:function(W){if(!j.has(W))throw new Ve("Side channel does not contain "+ce(W))},delete:function(W){if(be){var se=f(be,W);return 0===_e(be)&&(be=void 0),se}return!1},get:function(W){if(be)return ne(be,W)},has:function(W){return!!be&&k(be,W)},set:function(W,se){be||(be=new Se),H(be,W,se)}};return j}},6819:(Ge,je,K)=>{"use strict";var Z=K(9249),ge=K(448),ce=K(9711),Ve=K(6591),Se=K(9327),ne=Z("%WeakMap%",!0),H=ge("WeakMap.prototype.get",!0),k=ge("WeakMap.prototype.set",!0),f=ge("WeakMap.prototype.has",!0),_e=ge("WeakMap.prototype.delete",!0);Ge.exports=ne?function(){var be,j,W={assert:function(se){if(!W.has(se))throw new Se("Side channel does not contain "+ce(se))},delete:function(se){if(ne&&se&&("object"==typeof se||"function"==typeof se)){if(be)return _e(be,se)}else if(Ve&&j)return j.delete(se);return!1},get:function(se){return ne&&se&&("object"==typeof se||"function"==typeof se)&&be?H(be,se):j&&j.get(se)},has:function(se){return ne&&se&&("object"==typeof se||"function"==typeof se)&&be?f(be,se):!!j&&j.has(se)},set:function(se,pe){ne&&se&&("object"==typeof se||"function"==typeof se)?(be||(be=new ne),k(be,se,pe)):Ve&&(j||(j=Ve()),j.set(se,pe))}};return W}:Ve},8268:(Ge,je,K)=>{"use strict";var Z=K(9327),ge=K(9711),ce=K(3591),Ve=K(6591),ne=K(6819)||Ve||ce;Ge.exports=function(){var k,f={assert:function(_e){if(!f.has(_e))throw new Z("Side channel does not contain "+ge(_e))},delete:function(_e){return!!k&&k.delete(_e)},get:function(_e){return k&&k.get(_e)},has:function(_e){return!!k&&k.has(_e)},set:function(_e,he){k||(k=ne()),k.set(_e,he)}};return f}},974:Ge=>{const je={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",cal:"http://www.w3.org/2002/12/cal/ical#",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",skos:"http://www.w3.org/2004/02/skos/core#",bookmark:"http://www.w3.org/2002/01/bookmark#",vann:"http://purl.org/vocab/vann/"};Ge.exports=function K(Z={namedNode:ge=>ge}){const ge={};for(const ce in je){const Ve=je[ce];ge[ce]=function(Se=""){return Z.namedNode(Ve+Se)}}return ge}},1522:function(Ge,je,K){var Z;Ge=K.nmd(Ge),function(){"object"==typeof global&&global;var ne,H=2147483647,k=36,_e=26,he=38,be=700,pe=/^xn--/,oe=/[^\x20-\x7E]/,X=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ae=k-1,ue=Math.floor,Le=String.fromCharCode;function Ue(V){throw new RangeError(D[V])}function re(V,$){for(var Ae=V.length,Ne=[];Ae--;)Ne[Ae]=$(V[Ae]);return Ne}function xe(V,$){var Ae=V.split("@"),Ne="";return Ae.length>1&&(Ne=Ae[0]+"@",V=Ae[1]),Ne+re((V=V.replace(X,".")).split("."),$).join(".")}function De(V){for(var ht,Xe,$=[],Ae=0,Ne=V.length;Ae<Ne;)(ht=V.charCodeAt(Ae++))>=55296&&ht<=56319&&Ae<Ne?56320==(64512&(Xe=V.charCodeAt(Ae++)))?$.push(((1023&ht)<<10)+(1023&Xe)+65536):($.push(ht),Ae--):$.push(ht);return $}function Pe(V){return re(V,function($){var Ae="";return $>65535&&(Ae+=Le(($-=65536)>>>10&1023|55296),$=56320|1023&$),Ae+Le($)}).join("")}function te(V){return V-48<10?V-22:V-65<26?V-65:V-97<26?V-97:k}function ye(V,$){return V+22+75*(V<26)-((0!=$)<<5)}function wt(V,$,Ae){var Ne=0;for(V=Ae?ue(V/be):V>>1,V+=ue(V/$);V>ae*_e>>1;Ne+=k)V=ue(V/ae);return ue(Ne+(ae+1)*V/(V+he))}function mt(V){var Ne,Gt,Ut,St,nn,rn,xn,ln,Xt,G,$=[],Ae=V.length,ht=0,Xe=128,vt=72;for((Gt=V.lastIndexOf("-"))<0&&(Gt=0),Ut=0;Ut<Gt;++Ut)V.charCodeAt(Ut)>=128&&Ue("not-basic"),$.push(V.charCodeAt(Ut));for(St=Gt>0?Gt+1:0;St<Ae;){for(nn=ht,rn=1,xn=k;St>=Ae&&Ue("invalid-input"),((ln=te(V.charCodeAt(St++)))>=k||ln>ue((H-ht)/rn))&&Ue("overflow"),ht+=ln*rn,!(ln<(Xt=xn<=vt?1:xn>=vt+_e?_e:xn-vt));xn+=k)rn>ue(H/(G=k-Xt))&&Ue("overflow"),rn*=G;vt=wt(ht-nn,Ne=$.length+1,0==nn),ue(ht/Ne)>H-Xe&&Ue("overflow"),Xe+=ue(ht/Ne),ht%=Ne,$.splice(ht++,0,Xe)}return Pe($)}function Ft(V){var $,Ae,Ne,ht,Xe,vt,Gt,Ut,St,nn,rn,ln,Xt,G,He,xn=[];for(ln=(V=De(V)).length,$=128,Ae=0,Xe=72,vt=0;vt<ln;++vt)(rn=V[vt])<128&&xn.push(Le(rn));for(Ne=ht=xn.length,ht&&xn.push("-");Ne<ln;){for(Gt=H,vt=0;vt<ln;++vt)(rn=V[vt])>=$&&rn<Gt&&(Gt=rn);for(Gt-$>ue((H-Ae)/(Xt=Ne+1))&&Ue("overflow"),Ae+=(Gt-$)*Xt,$=Gt,vt=0;vt<ln;++vt)if((rn=V[vt])<$&&++Ae>H&&Ue("overflow"),rn==$){for(Ut=Ae,St=k;!(Ut<(nn=St<=Xe?1:St>=Xe+_e?_e:St-Xe));St+=k)xn.push(Le(ye(nn+(He=Ut-nn)%(G=k-nn),0))),Ut=ue(He/G);xn.push(Le(ye(Ut,0))),Xe=wt(Ae,Xt,Ne==ht),Ae=0,++Ne}++Ae,++$}return xn.join("")}ne={version:"1.4.1",ucs2:{decode:De,encode:Pe},decode:mt,encode:Ft,toASCII:function L(V){return xe(V,function($){return oe.test($)?"xn--"+Ft($):$})},toUnicode:function bt(V){return xe(V,function($){return pe.test($)?mt($.slice(4).toLowerCase()):$})}},void 0!==(Z=function(){return ne}.call(je,K,je,Ge))&&(Ge.exports=Z)}()},1391:(Ge,je,K)=>{"use strict";var ge=K(1522);function ce(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ve=/^([a-z0-9.+-]+:)/i,Se=/:[0-9]*$/,ne=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,k=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(k),_e=["%","/","?",";","#"].concat(f),he=["/","?","#"],j=/^[+a-z0-9A-Z_-]{0,63}$/,W=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,se={javascript:!0,"javascript:":!0},pe={javascript:!0,"javascript:":!0},oe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},X=K(6505);ce.prototype.parse=function(J,Ue,re){if("string"!=typeof J)throw new TypeError("Parameter 'url' must be a string, not "+typeof J);var xe=J.indexOf("?"),De=-1!==xe&&xe<J.indexOf("#")?"?":"#",Pe=J.split(De);Pe[0]=Pe[0].replace(/\\/g,"/");var ye=J=Pe.join(De);if(ye=ye.trim(),!re&&1===J.split("#").length){var wt=ne.exec(ye);if(wt)return this.path=ye,this.href=ye,this.pathname=wt[1],wt[2]?(this.search=wt[2],this.query=Ue?X.parse(this.search.substr(1)):this.search.substr(1)):Ue&&(this.search="",this.query={}),this}var mt=Ve.exec(ye);if(mt){var Ft=(mt=mt[0]).toLowerCase();this.protocol=Ft,ye=ye.substr(mt.length)}if(re||mt||ye.match(/^\/\/[^@/]+@[^@/]+/)){var bt="//"===ye.substr(0,2);bt&&(!mt||!pe[mt])&&(ye=ye.substr(2),this.slashes=!0)}if(!pe[mt]&&(bt||mt&&!oe[mt])){for(var L=-1,V=0;V<he.length;V++)-1!==($=ye.indexOf(he[V]))&&(-1===L||$<L)&&(L=$);var Ae,Ne;for(-1!==(Ne=-1===L?ye.lastIndexOf("@"):ye.lastIndexOf("@",L))&&(Ae=ye.slice(0,Ne),ye=ye.slice(Ne+1),this.auth=decodeURIComponent(Ae)),L=-1,V=0;V<_e.length;V++){var $;-1!==($=ye.indexOf(_e[V]))&&(-1===L||$<L)&&(L=$)}-1===L&&(L=ye.length),this.host=ye.slice(0,L),ye=ye.slice(L),this.parseHost(),this.hostname=this.hostname||"";var ht="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ht)for(var Xe=this.hostname.split(/\./),vt=(V=0,Xe.length);V<vt;V++){var Gt=Xe[V];if(Gt&&!Gt.match(j)){for(var Ut="",St=0,nn=Gt.length;St<nn;St++)Gt.charCodeAt(St)>127?Ut+="x":Ut+=Gt[St];if(!Ut.match(j)){var rn=Xe.slice(0,V),xn=Xe.slice(V+1),ln=Gt.match(W);ln&&(rn.push(ln[1]),xn.unshift(ln[2])),xn.length&&(ye="/"+xn.join(".")+ye),this.hostname=rn.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),ht||(this.hostname=ge.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,ht&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==ye[0]&&(ye="/"+ye))}if(!se[Ft])for(V=0,vt=f.length;V<vt;V++){var He=f[V];if(-1!==ye.indexOf(He)){var Fe=encodeURIComponent(He);Fe===He&&(Fe=escape(He)),ye=ye.split(He).join(Fe)}}var yt=ye.indexOf("#");-1!==yt&&(this.hash=ye.substr(yt),ye=ye.slice(0,yt));var Jt=ye.indexOf("?");return-1!==Jt?(this.search=ye.substr(Jt),this.query=ye.substr(Jt+1),Ue&&(this.query=X.parse(this.query)),ye=ye.slice(0,Jt)):Ue&&(this.search="",this.query={}),ye&&(this.pathname=ye),oe[Ft]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},ce.prototype.format=function(){var J=this.auth||"";J&&(J=(J=encodeURIComponent(J)).replace(/%3A/i,":"),J+="@");var Ue=this.protocol||"",re=this.pathname||"",xe=this.hash||"",De=!1,Pe="";this.host?De=J+this.host:this.hostname&&(De=J+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(De+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(Pe=X.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var te=this.search||Pe&&"?"+Pe||"";return Ue&&":"!==Ue.substr(-1)&&(Ue+=":"),this.slashes||(!Ue||oe[Ue])&&!1!==De?(De="//"+(De||""),re&&"/"!==re.charAt(0)&&(re="/"+re)):De||(De=""),xe&&"#"!==xe.charAt(0)&&(xe="#"+xe),te&&"?"!==te.charAt(0)&&(te="?"+te),Ue+De+(re=re.replace(/[?#]/g,function(ye){return encodeURIComponent(ye)}))+(te=te.replace("#","%23"))+xe},ce.prototype.resolve=function(J){return this.resolveObject(function D(J,Ue,re){if(J&&"object"==typeof J&&J instanceof ce)return J;var xe=new ce;return xe.parse(J,Ue,re),xe}(J,!1,!0)).format()},ce.prototype.resolveObject=function(J){if("string"==typeof J){var Ue=new ce;Ue.parse(J,!1,!0),J=Ue}for(var re=new ce,xe=Object.keys(this),De=0;De<xe.length;De++){var Pe=xe[De];re[Pe]=this[Pe]}if(re.hash=J.hash,""===J.href)return re.href=re.format(),re;if(J.slashes&&!J.protocol){for(var te=Object.keys(J),ye=0;ye<te.length;ye++){var wt=te[ye];"protocol"!==wt&&(re[wt]=J[wt])}return oe[re.protocol]&&re.hostname&&!re.pathname&&(re.pathname="/",re.path=re.pathname),re.href=re.format(),re}if(J.protocol&&J.protocol!==re.protocol){if(!oe[J.protocol]){for(var mt=Object.keys(J),Ft=0;Ft<mt.length;Ft++){var bt=mt[Ft];re[bt]=J[bt]}return re.href=re.format(),re}if(re.protocol=J.protocol,J.host||pe[J.protocol])re.pathname=J.pathname;else{for(var vt=(J.pathname||"").split("/");vt.length&&!(J.host=vt.shift()););J.host||(J.host=""),J.hostname||(J.hostname=""),""!==vt[0]&&vt.unshift(""),vt.length<2&&vt.unshift(""),re.pathname=vt.join("/")}return re.search=J.search,re.query=J.query,re.host=J.host||"",re.auth=J.auth,re.hostname=J.hostname||J.host,re.port=J.port,(re.pathname||re.search)&&(re.path=(re.pathname||"")+(re.search||"")),re.slashes=re.slashes||J.slashes,re.href=re.format(),re}var $=re.pathname&&"/"===re.pathname.charAt(0),Ae=J.host||J.pathname&&"/"===J.pathname.charAt(0),Ne=Ae||$||re.host&&J.pathname,ht=Ne,Xe=re.pathname&&re.pathname.split("/")||[],Gt=(vt=J.pathname&&J.pathname.split("/")||[],re.protocol&&!oe[re.protocol]);if(Gt&&(re.hostname="",re.port=null,re.host&&(""===Xe[0]?Xe[0]=re.host:Xe.unshift(re.host)),re.host="",J.protocol&&(J.hostname=null,J.port=null,J.host&&(""===vt[0]?vt[0]=J.host:vt.unshift(J.host)),J.host=null),Ne=Ne&&(""===vt[0]||""===Xe[0])),Ae)re.host=J.host||""===J.host?J.host:re.host,re.hostname=J.hostname||""===J.hostname?J.hostname:re.hostname,re.search=J.search,re.query=J.query,Xe=vt;else if(vt.length)Xe||(Xe=[]),Xe.pop(),Xe=Xe.concat(vt),re.search=J.search,re.query=J.query;else if(null!=J.search)return Gt&&(re.host=Xe.shift(),re.hostname=re.host,(Ut=!!(re.host&&re.host.indexOf("@")>0)&&re.host.split("@"))&&(re.auth=Ut.shift(),re.hostname=Ut.shift(),re.host=re.hostname)),re.search=J.search,re.query=J.query,(null!==re.pathname||null!==re.search)&&(re.path=(re.pathname?re.pathname:"")+(re.search?re.search:"")),re.href=re.format(),re;if(!Xe.length)return re.pathname=null,re.path=re.search?"/"+re.search:null,re.href=re.format(),re;for(var St=Xe.slice(-1)[0],nn=(re.host||J.host||Xe.length>1)&&("."===St||".."===St)||""===St,rn=0,xn=Xe.length;xn>=0;xn--)"."===(St=Xe[xn])?Xe.splice(xn,1):".."===St?(Xe.splice(xn,1),rn++):rn&&(Xe.splice(xn,1),rn--);if(!Ne&&!ht)for(;rn--;rn)Xe.unshift("..");Ne&&""!==Xe[0]&&(!Xe[0]||"/"!==Xe[0].charAt(0))&&Xe.unshift(""),nn&&"/"!==Xe.join("/").substr(-1)&&Xe.push("");var Ut,ln=""===Xe[0]||Xe[0]&&"/"===Xe[0].charAt(0);return Gt&&(re.hostname=ln?"":Xe.length?Xe.shift():"",re.host=re.hostname,(Ut=!!(re.host&&re.host.indexOf("@")>0)&&re.host.split("@"))&&(re.auth=Ut.shift(),re.hostname=Ut.shift(),re.host=re.hostname)),(Ne=Ne||re.host&&Xe.length)&&!ln&&Xe.unshift(""),Xe.length>0?re.pathname=Xe.join("/"):(re.pathname=null,re.path=null),(null!==re.pathname||null!==re.search)&&(re.path=(re.pathname?re.pathname:"")+(re.search?re.search:"")),re.auth=J.auth||re.auth,re.slashes=re.slashes||J.slashes,re.href=re.format(),re},ce.prototype.parseHost=function(){var J=this.host,Ue=Se.exec(J);Ue&&(":"!==(Ue=Ue[0])&&(this.port=Ue.substr(1)),J=J.substr(0,J.length-Ue.length)),J&&(this.hostname=J)}},2634:()=>{},5142:(Ge,je,K)=>{var Z=K(5429).default;function ge(){"use strict";Ge.exports=ge=function(){return Ve},Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports;var ce,Ve={},Se=Object.prototype,ne=Se.hasOwnProperty,H=Object.defineProperty||function(L,V,$){L[V]=$.value},k="function"==typeof Symbol?Symbol:{},f=k.iterator||"@@iterator",_e=k.asyncIterator||"@@asyncIterator",he=k.toStringTag||"@@toStringTag";function be(L,V,$){return Object.defineProperty(L,V,{value:$,enumerable:!0,configurable:!0,writable:!0}),L[V]}try{be({},"")}catch{be=function($,Ae,Ne){return $[Ae]=Ne}}function j(L,V,$,Ae){var ht=Object.create((V&&V.prototype instanceof ae?V:ae).prototype),Xe=new Ft(Ae||[]);return H(ht,"_invoke",{value:te(L,$,Xe)}),ht}function W(L,V,$){try{return{type:"normal",arg:L.call(V,$)}}catch(Ae){return{type:"throw",arg:Ae}}}Ve.wrap=j;var se="suspendedStart",pe="suspendedYield",oe="executing",X="completed",D={};function ae(){}function ue(){}function Le(){}var J={};be(J,f,function(){return this});var Ue=Object.getPrototypeOf,re=Ue&&Ue(Ue(bt([])));re&&re!==Se&&ne.call(re,f)&&(J=re);var xe=Le.prototype=ae.prototype=Object.create(J);function De(L){["next","throw","return"].forEach(function(V){be(L,V,function($){return this._invoke(V,$)})})}function Pe(L,V){function $(Ne,ht,Xe,vt){var Gt=W(L[Ne],L,ht);if("throw"!==Gt.type){var Ut=Gt.arg,St=Ut.value;return St&&"object"==Z(St)&&ne.call(St,"__await")?V.resolve(St.__await).then(function(nn){$("next",nn,Xe,vt)},function(nn){$("throw",nn,Xe,vt)}):V.resolve(St).then(function(nn){Ut.value=nn,Xe(Ut)},function(nn){return $("throw",nn,Xe,vt)})}vt(Gt.arg)}var Ae;H(this,"_invoke",{value:function(ht,Xe){function vt(){return new V(function(Gt,Ut){$(ht,Xe,Gt,Ut)})}return Ae=Ae?Ae.then(vt,vt):vt()}})}function te(L,V,$){var Ae=se;return function(Ne,ht){if(Ae===oe)throw Error("Generator is already running");if(Ae===X){if("throw"===Ne)throw ht;return{value:ce,done:!0}}for($.method=Ne,$.arg=ht;;){var Xe=$.delegate;if(Xe){var vt=ye(Xe,$);if(vt){if(vt===D)continue;return vt}}if("next"===$.method)$.sent=$._sent=$.arg;else if("throw"===$.method){if(Ae===se)throw Ae=X,$.arg;$.dispatchException($.arg)}else"return"===$.method&&$.abrupt("return",$.arg);Ae=oe;var Gt=W(L,V,$);if("normal"===Gt.type){if(Ae=$.done?X:pe,Gt.arg===D)continue;return{value:Gt.arg,done:$.done}}"throw"===Gt.type&&(Ae=X,$.method="throw",$.arg=Gt.arg)}}}function ye(L,V){var $=V.method,Ae=L.iterator[$];if(Ae===ce)return V.delegate=null,"throw"===$&&L.iterator.return&&(V.method="return",V.arg=ce,ye(L,V),"throw"===V.method)||"return"!==$&&(V.method="throw",V.arg=new TypeError("The iterator does not provide a '"+$+"' method")),D;var Ne=W(Ae,L.iterator,V.arg);if("throw"===Ne.type)return V.method="throw",V.arg=Ne.arg,V.delegate=null,D;var ht=Ne.arg;return ht?ht.done?(V[L.resultName]=ht.value,V.next=L.nextLoc,"return"!==V.method&&(V.method="next",V.arg=ce),V.delegate=null,D):ht:(V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,D)}function wt(L){var V={tryLoc:L[0]};1 in L&&(V.catchLoc=L[1]),2 in L&&(V.finallyLoc=L[2],V.afterLoc=L[3]),this.tryEntries.push(V)}function mt(L){var V=L.completion||{};V.type="normal",delete V.arg,L.completion=V}function Ft(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(wt,this),this.reset(!0)}function bt(L){if(L||""===L){var V=L[f];if(V)return V.call(L);if("function"==typeof L.next)return L;if(!isNaN(L.length)){var $=-1,Ae=function Ne(){for(;++$<L.length;)if(ne.call(L,$))return Ne.value=L[$],Ne.done=!1,Ne;return Ne.value=ce,Ne.done=!0,Ne};return Ae.next=Ae}}throw new TypeError(Z(L)+" is not iterable")}return ue.prototype=Le,H(xe,"constructor",{value:Le,configurable:!0}),H(Le,"constructor",{value:ue,configurable:!0}),ue.displayName=be(Le,he,"GeneratorFunction"),Ve.isGeneratorFunction=function(L){var V="function"==typeof L&&L.constructor;return!!V&&(V===ue||"GeneratorFunction"===(V.displayName||V.name))},Ve.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,Le):(L.__proto__=Le,be(L,he,"GeneratorFunction")),L.prototype=Object.create(xe),L},Ve.awrap=function(L){return{__await:L}},De(Pe.prototype),be(Pe.prototype,_e,function(){return this}),Ve.AsyncIterator=Pe,Ve.async=function(L,V,$,Ae,Ne){void 0===Ne&&(Ne=Promise);var ht=new Pe(j(L,V,$,Ae),Ne);return Ve.isGeneratorFunction(V)?ht:ht.next().then(function(Xe){return Xe.done?Xe.value:ht.next()})},De(xe),be(xe,he,"Generator"),be(xe,f,function(){return this}),be(xe,"toString",function(){return"[object Generator]"}),Ve.keys=function(L){var V=Object(L),$=[];for(var Ae in V)$.push(Ae);return $.reverse(),function Ne(){for(;$.length;){var ht=$.pop();if(ht in V)return Ne.value=ht,Ne.done=!1,Ne}return Ne.done=!0,Ne}},Ve.values=bt,Ft.prototype={constructor:Ft,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=ce,this.done=!1,this.delegate=null,this.method="next",this.arg=ce,this.tryEntries.forEach(mt),!V)for(var $ in this)"t"===$.charAt(0)&&ne.call(this,$)&&!isNaN(+$.slice(1))&&(this[$]=ce)},stop:function(){this.done=!0;var V=this.tryEntries[0].completion;if("throw"===V.type)throw V.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var $=this;function Ae(Ut,St){return Xe.type="throw",Xe.arg=V,$.next=Ut,St&&($.method="next",$.arg=ce),!!St}for(var Ne=this.tryEntries.length-1;Ne>=0;--Ne){var ht=this.tryEntries[Ne],Xe=ht.completion;if("root"===ht.tryLoc)return Ae("end");if(ht.tryLoc<=this.prev){var vt=ne.call(ht,"catchLoc"),Gt=ne.call(ht,"finallyLoc");if(vt&&Gt){if(this.prev<ht.catchLoc)return Ae(ht.catchLoc,!0);if(this.prev<ht.finallyLoc)return Ae(ht.finallyLoc)}else if(vt){if(this.prev<ht.catchLoc)return Ae(ht.catchLoc,!0)}else{if(!Gt)throw Error("try statement without catch or finally");if(this.prev<ht.finallyLoc)return Ae(ht.finallyLoc)}}}},abrupt:function(V,$){for(var Ae=this.tryEntries.length-1;Ae>=0;--Ae){var Ne=this.tryEntries[Ae];if(Ne.tryLoc<=this.prev&&ne.call(Ne,"finallyLoc")&&this.prev<Ne.finallyLoc){var ht=Ne;break}}ht&&("break"===V||"continue"===V)&&ht.tryLoc<=$&&$<=ht.finallyLoc&&(ht=null);var Xe=ht?ht.completion:{};return Xe.type=V,Xe.arg=$,ht?(this.method="next",this.next=ht.finallyLoc,D):this.complete(Xe)},complete:function(V,$){if("throw"===V.type)throw V.arg;return"break"===V.type||"continue"===V.type?this.next=V.arg:"return"===V.type?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):"normal"===V.type&&$&&(this.next=$),D},finish:function(V){for(var $=this.tryEntries.length-1;$>=0;--$){var Ae=this.tryEntries[$];if(Ae.finallyLoc===V)return this.complete(Ae.completion,Ae.afterLoc),mt(Ae),D}},catch:function(V){for(var $=this.tryEntries.length-1;$>=0;--$){var Ae=this.tryEntries[$];if(Ae.tryLoc===V){var Ne=Ae.completion;if("throw"===Ne.type){var ht=Ne.arg;mt(Ae)}return ht}}throw Error("illegal catch attempt")},delegateYield:function(V,$,Ae){return this.delegate={iterator:bt(V),resultName:$,nextLoc:Ae},"next"===this.method&&(this.arg=ce),D}},Ve}Ge.exports=ge,Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports},5429:Ge=>{function je(K){return Ge.exports=je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports,je(K)}Ge.exports=je,Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports},6725:(Ge,je,K)=>{var Z=K(5142)();Ge.exports=Z;try{regeneratorRuntime=Z}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=Z:Function("r","regeneratorRuntime = r")(Z)}},2058:(Ge,je,K)=>{"use strict";function Z(he,be,j){let W,se;j=j||ge;let pe=0,oe=he.length,X=!1;for(;pe<oe;)W=pe+(oe-pe>>1),se=+j(he[W],be),se<0?pe=W+1:(oe=W,X=!se);return X?pe:~pe}function ge(he,be){return he>be?1:he<be?-1:0}function Ve(he,be,j){if(he[0]<=be)return 0;const W=he.length;if(be<=he[W-1])return W-1;if("function"==typeof j){for(let se=1;se<W;++se){const pe=he[se];if(pe===be)return se;if(pe<be)return j(be,he[se-1],pe)>0?se-1:se}return W-1}if(j>0){for(let se=1;se<W;++se)if(he[se]<be)return se-1;return W-1}if(j<0){for(let se=1;se<W;++se)if(he[se]<=be)return se;return W-1}for(let se=1;se<W;++se){if(he[se]==be)return se;if(he[se]<be)return he[se-1]-be<be-he[se]?se-1:se}return W-1}function ne(he,be){const j=Array.isArray(be)?be:[be],W=j.length;for(let se=0;se<W;se++)he[he.length]=j[se]}function k(he,be){const j=he.length;if(j!==be.length)return!1;for(let W=0;W<j;W++)if(he[W]!==be[W])return!1;return!0}function _e(he,be,j){const W=be||ge;return he.every(function(se,pe){if(0===pe)return!0;const oe=W(he[pe-1],se);return!(oe>0||j&&0===oe)})}K.d(je,{El:()=>Z,FT:()=>Ve,V_:()=>ge,WC:()=>_e,X$:()=>ne,aI:()=>k})},5940:(Ge,je,K)=>{"use strict";function Z(ge,ce){if(!ge)throw new Error(ce)}K.d(je,{v:()=>Z})},3467:(Ge,je,K)=>{"use strict";K.d(je,{NW:()=>xn,Ld:()=>ne,ms:()=>k,Rj:()=>f,S5:()=>he,N:()=>be,aZ:()=>j,dP:()=>W,Vy:()=>pe,X$:()=>ae,R8:()=>J,sB:()=>xe,q1:()=>ye,Oq:()=>L,Py:()=>ht,RG:()=>vt,HY:()=>Gt,Mx:()=>rn,$u:()=>St});const Z={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function ne(G,He,Fe){let yt,Jt;return yt=He<G[0]?G[0]-He:G[2]<He?He-G[2]:0,Jt=Fe<G[1]?G[1]-Fe:G[3]<Fe?Fe-G[3]:0,yt*yt+Jt*Jt}function k(G,He){return G[0]<=He[0]&&He[2]<=G[2]&&G[1]<=He[1]&&He[3]<=G[3]}function f(G,He,Fe){return G[0]<=He&&He<=G[2]&&G[1]<=Fe&&Fe<=G[3]}function _e(G,He){const Ln=He[0],on=He[1];let cn=Z.UNKNOWN;return Ln<G[0]?cn|=Z.LEFT:Ln>G[2]&&(cn|=Z.RIGHT),on<G[1]?cn|=Z.BELOW:on>G[3]&&(cn|=Z.ABOVE),cn===Z.UNKNOWN&&(cn=Z.INTERSECTING),cn}function he(){return[1/0,1/0,-1/0,-1/0]}function be(G,He,Fe,yt,Jt){return Jt?(Jt[0]=G,Jt[1]=He,Jt[2]=Fe,Jt[3]=yt,Jt):[G,He,Fe,yt]}function j(G){return be(1/0,1/0,-1/0,-1/0,G)}function W(G,He){const Fe=G[0],yt=G[1];return be(Fe,yt,Fe,yt,He)}function pe(G,He,Fe,yt,Jt){return J(j(Jt),G,He,Fe,yt)}function ae(G,He){return He[0]<G[0]&&(G[0]=He[0]),He[2]>G[2]&&(G[2]=He[2]),He[1]<G[1]&&(G[1]=He[1]),He[3]>G[3]&&(G[3]=He[3]),G}function J(G,He,Fe,yt,Jt){for(;Fe<yt;Fe+=Jt)re(G,He[Fe],He[Fe+1]);return G}function re(G,He,Fe){G[0]=Math.min(G[0],He),G[1]=Math.min(G[1],Fe),G[2]=Math.max(G[2],He),G[3]=Math.max(G[3],Fe)}function xe(G,He){let Fe;return Fe=He(function Pe(G){return[G[0],G[1]]}(G)),!!(Fe||(Fe=He(function te(G){return[G[2],G[1]]}(G)),Fe)||(Fe=He(function Xe(G){return[G[2],G[3]]}(G)),Fe)||(Fe=He(ht(G)),Fe))&&Fe}function ye(G){return[(G[0]+G[2])/2,(G[1]+G[3])/2]}function L(G){return G[3]-G[1]}function ht(G){return[G[0],G[3]]}function vt(G){return G[2]-G[0]}function Gt(G,He){return G[0]<=He[2]&&G[2]>=He[0]&&G[1]<=He[3]&&G[3]>=He[1]}function St(G,He){return He?(He[0]=G[0],He[1]=G[1],He[2]=G[2],He[3]=G[3],He):G}function rn(G,He,Fe){let yt=!1;const Jt=_e(G,He),Mn=_e(G,Fe);if(Jt===Z.INTERSECTING||Mn===Z.INTERSECTING)yt=!0;else{const Ln=G[0],on=G[1],cn=G[2],Pn=G[3],Jr=Fe[0],B=Fe[1],A=(B-He[1])/(Jr-He[0]);let S,U;Mn&Z.ABOVE&&!(Jt&Z.ABOVE)&&(S=Jr-(B-Pn)/A,yt=S>=Ln&&S<=cn),!yt&&Mn&Z.RIGHT&&!(Jt&Z.RIGHT)&&(U=B-(Jr-cn)*A,yt=U>=on&&U<=Pn),!yt&&Mn&Z.BELOW&&!(Jt&Z.BELOW)&&(S=Jr-(B-on)/A,yt=S>=Ln&&S<=cn),!yt&&Mn&Z.LEFT&&!(Jt&Z.LEFT)&&(U=B-(Jr-Ln)*A,yt=U>=on&&U<=Pn)}return yt}function xn(G,He,Fe,yt){if(function Ut(G){return G[2]<G[0]||G[3]<G[1]}(G))return j(Fe);let Jt=[];if(yt>1){const on=G[2]-G[0],cn=G[3]-G[1];for(let Pn=0;Pn<yt;++Pn)Jt.push(G[0]+on*Pn/yt,G[1],G[2],G[1]+cn*Pn/yt,G[2]-on*Pn/yt,G[3],G[0],G[3]-cn*Pn/yt)}else Jt=[G[0],G[1],G[2],G[1],G[2],G[3],G[0],G[3]];He(Jt,Jt,2);const Mn=[],Ln=[];for(let on=0,cn=Jt.length;on<cn;on+=2)Mn.push(Jt[on]),Ln.push(Jt[on+1]);return function ce(G,He,Fe){return be(Math.min.apply(null,G),Math.min.apply(null,He),Math.max.apply(null,G),Math.max.apply(null,He),Fe)}(Mn,Ln,Fe)}},9749:(Ge,je,K)=>{"use strict";K.d(je,{Gd:()=>Se,a_:()=>ce,t7:()=>ge,zb:()=>Ve});var Z=K(3467);function ge(ne,H,k,f,_e){return!(0,Z.sB)(_e,function(be){return!ce(ne,H,k,f,be[0],be[1])})}function ce(ne,H,k,f,_e,he){let be=0,j=ne[k-f],W=ne[k-f+1];for(;H<k;H+=f){const se=ne[H],pe=ne[H+1];W<=he?pe>he&&(se-j)*(he-W)-(_e-j)*(pe-W)>0&&be++:pe<=he&&(se-j)*(he-W)-(_e-j)*(pe-W)<0&&be--,j=se,W=pe}return 0!==be}function Ve(ne,H,k,f,_e,he){if(0===k.length||!ce(ne,H,k[0],f,_e,he))return!1;for(let be=1,j=k.length;be<j;++be)if(ce(ne,k[be-1],k[be],f,_e,he))return!1;return!0}function Se(ne,H,k,f,_e,he){if(0===k.length)return!1;for(let be=0,j=k.length;be<j;++be){const W=k[be];if(Ve(ne,H,W,f,_e,he))return!0;H=W[W.length-1]}return!1}},9542:(Ge,je,K)=>{"use strict";K.d(je,{HT:()=>H,Wp:()=>k,fB:()=>Se,gp:()=>Ve,sj:()=>ne});var Z=K(3467),ge=K(3846),ce=K(9749);function Ve(f,_e,he,be,j){const W=(0,Z.R8)((0,Z.S5)(),f,_e,he,be);return!!(0,Z.HY)(j,W)&&(!!((0,Z.ms)(j,W)||W[0]>=j[0]&&W[2]<=j[2]||W[1]>=j[1]&&W[3]<=j[3])||(0,ge.j)(f,_e,he,be,function(se,pe){return(0,Z.Mx)(j,se,pe)}))}function Se(f,_e,he,be,j){for(let W=0,se=he.length;W<se;++W){if(Ve(f,_e,he[W],be,j))return!0;_e=he[W]}return!1}function ne(f,_e,he,be,j){return!!(Ve(f,_e,he,be,j)||(0,ce.a_)(f,_e,he,be,j[0],j[1])||(0,ce.a_)(f,_e,he,be,j[0],j[3])||(0,ce.a_)(f,_e,he,be,j[2],j[1])||(0,ce.a_)(f,_e,he,be,j[2],j[3]))}function H(f,_e,he,be,j){if(!ne(f,_e,he[0],be,j))return!1;if(1===he.length)return!0;for(let W=1,se=he.length;W<se;++W)if((0,ce.t7)(f,he[W-1],he[W],be,j)&&!Ve(f,he[W-1],he[W],be,j))return!1;return!0}function k(f,_e,he,be,j){for(let W=0,se=he.length;W<se;++W){const pe=he[W];if(H(f,_e,pe,be,j))return!0;_e=pe[pe.length-1]}return!1}},3846:(Ge,je,K)=>{"use strict";function Z(ge,ce,Ve,Se,ne){let H;for(ce+=Se;ce<Ve;ce+=Se)if(H=ne(ge.slice(ce-Se,ce),ge.slice(ce,ce+Se)),H)return H;return!1}K.d(je,{j:()=>Z})},9973:(Ge,je,K)=>{"use strict";function Z(j,W,se){return Math.min(Math.max(j,W),se)}function ge(j,W,se,pe,oe,X){const D=oe-se,ae=X-pe;if(0!==D||0!==ae){const ue=((j-se)*D+(W-pe)*ae)/(D*D+ae*ae);ue>1?(se=oe,pe=X):ue>0&&(se+=D*ue,pe+=ae*ue)}return ce(j,W,se,pe)}function ce(j,W,se,pe){const oe=se-j,X=pe-W;return oe*oe+X*X}function k(j,W,se){return j+se*(W-j)}function f(j,W){const se=Math.pow(10,W);return Math.round(j*se)/se}function he(j,W){return Math.floor(f(j,W))}function be(j,W){return Math.ceil(f(j,W))}K.d(je,{Cc:()=>k,Q1:()=>ge,RI:()=>he,hG:()=>ce,mk:()=>be,qE:()=>Z})},6016:(Ge,je,K)=>{"use strict";K.d(je,{hB:()=>He,O3:()=>rn,bF:()=>Gt,wU:()=>Ee,tI:()=>Jt,Jt:()=>St,RG:()=>Ln,DI:()=>cn});var Z=K(2018);const ge=6378137,ce=Math.PI*ge,Ve=[-ce,-ce,ce,ce],Se=[-180,-85,180,85],ne=ge*Math.log(Math.tan(Math.PI/2));class H extends Z.A{constructor(ze){super({code:ze,units:"m",extent:Ve,global:!0,worldExtent:Se,getPointResolution:function(ct,st){return ct/Math.cosh(st[1]/ge)}})}}const k=[new H("EPSG:3857"),new H("EPSG:102100"),new H("EPSG:102113"),new H("EPSG:900913"),new H("http://www.opengis.net/def/crs/EPSG/0/3857"),new H("http://www.opengis.net/gml/srs/epsg.xml#3857")];function f(le,ze,ct){const st=le.length;ct=ct>1?ct:2,void 0===ze&&(ze=ct>2?le.slice():new Array(st));for(let qt=0;qt<st;qt+=ct){ze[qt]=ce*le[qt]/180;let zn=ge*Math.log(Math.tan(Math.PI*(+le[qt+1]+90)/360));zn>ne?zn=ne:zn<-ne&&(zn=-ne),ze[qt+1]=zn}return ze}function _e(le,ze,ct){const st=le.length;ct=ct>1?ct:2,void 0===ze&&(ze=ct>2?le.slice():new Array(st));for(let qt=0;qt<st;qt+=ct)ze[qt]=180*le[qt]/ce,ze[qt+1]=360*Math.atan(Math.exp(le[qt+1]/ge))/Math.PI-90;return ze}const be=[-180,-90,180,90],j=6378137*Math.PI/180;class W extends Z.A{constructor(ze,ct){super({code:ze,units:"degrees",extent:be,axisOrientation:ct,global:!0,metersPerUnit:j,worldExtent:be})}}const se=[new W("CRS:84"),new W("EPSG:4326","neu"),new W("urn:ogc:def:crs:OGC:1.3:CRS84"),new W("urn:ogc:def:crs:OGC:2:84"),new W("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new W("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new W("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let pe={};var ae=K(4238),ue=K(3467),Le=K(9973);function Xe(le,ze){if(void 0!==ze)for(let ct=0,st=le.length;ct<st;++ct)ze[ct]=le[ct];else ze=le.slice();return ze}function vt(le,ze){if(void 0!==ze&&le!==ze){for(let ct=0,st=le.length;ct<st;++ct)ze[ct]=le[ct];le=ze}return le}function Gt(le){(function D(le,ze){pe[le]=ze})(le.getCode(),le),(0,ae.WQ)(le,le,Xe)}function St(le){return"string"==typeof le?function X(le){return pe[le]||pe[le.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(le):le||null}function rn(le){(function Ut(le){le.forEach(Gt)})(le),le.forEach(function(ze){le.forEach(function(ct){ze!==ct&&(0,ae.WQ)(ze,ct,Xe)})})}function G(le){return function(ze,ct,st){const qt=ze.length;st=void 0!==st?st:2,ct=void 0!==ct?ct:new Array(qt);for(let zn=0;zn<qt;zn+=st){const Rn=le(ze.slice(zn,zn+st)),Sn=Rn.length;for(let cr=0,ir=st;cr<ir;++cr)ct[zn+cr]=cr>=Sn?ze[zn+cr]:Rn[cr]}return ct}}function He(le,ze,ct,st){const qt=St(le),zn=St(ze);(0,ae.WQ)(qt,zn,G(ct)),(0,ae.WQ)(zn,qt,G(st))}function Jt(le,ze){if(le===ze)return!0;const ct=le.getUnits()===ze.getUnits();return(le.getCode()===ze.getCode()||Mn(le,ze)===Xe)&&ct}function Mn(le,ze){const ct=le.getCode(),st=ze.getCode();let qt=(0,ae.Jt)(ct,st);return qt||(qt=vt),qt}function Ln(le,ze){return Mn(St(le),St(ze))}function cn(le,ze,ct,st){const qt=Ln(ze,ct);return(0,ue.NW)(le,qt,void 0,st)}function Ee(le,ze,ct){return function(st){let qt,zn;if(le.canWrapX()){const Rn=le.getExtent(),Sn=(0,ue.RG)(Rn);zn=function Ae(le,ze,ct){const st=ze.getExtent();let qt=0;return ze.canWrapX()&&(le[0]<st[0]||le[0]>st[2])&&(ct=ct||(0,ue.RG)(st),qt=Math.floor((le[0]-st[0])/ct)),qt}(st=st.slice(0),le,Sn),zn&&(st[0]=st[0]-zn*Sn),st[0]=(0,Le.qE)(st[0],Rn[0],Rn[2]),st[1]=(0,Le.qE)(st[1],Rn[1],Rn[3]),qt=ct(st)}else qt=ct(st);return zn&&ze.canWrapX()&&(qt[0]+=zn*(0,ue.RG)(ze.getExtent())),qt}}!function Re(){rn(k),rn(se),function xn(le,ze,ct,st){le.forEach(function(qt){ze.forEach(function(zn){(0,ae.WQ)(qt,zn,ct),(0,ae.WQ)(zn,qt,st)})})}(se,k,f,_e)}()},2018:(Ge,je,K)=>{"use strict";K.d(je,{A:()=>Se});const ce={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},Se=class Ve{constructor(H){this.code_=H.code,this.units_=H.units,this.extent_=void 0!==H.extent?H.extent:null,this.worldExtent_=void 0!==H.worldExtent?H.worldExtent:null,this.axisOrientation_=void 0!==H.axisOrientation?H.axisOrientation:"enu",this.global_=void 0!==H.global&&H.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=H.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=H.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||ce[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(H){this.global_=H,this.canWrapX_=!(!H||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(H){this.defaultTileGrid_=H}setExtent(H){this.extent_=H,this.canWrapX_=!(!this.global_||!H)}setWorldExtent(H){this.worldExtent_=H}setGetPointResolution(H){this.getPointResolutionFunc_=H}getPointResolutionFunc(){return this.getPointResolutionFunc_}}},4238:(Ge,je,K)=>{"use strict";K.d(je,{Jt:()=>Se,WQ:()=>ce});let Z={};function ce(ne,H,k){const f=ne.getCode(),_e=H.getCode();f in Z||(Z[f]={}),Z[f][_e]=k}function Se(ne,H){let k;return ne in Z&&H in Z[ne]&&(k=Z[ne][H]),k}},3308:(Ge,je,K)=>{"use strict";function Z(ce,Ve,Se,ne,H,k,f){try{var _e=ce[k](f),he=_e.value}catch(be){return void Se(be)}_e.done?Ve(he):Promise.resolve(he).then(ne,H)}function ge(ce){return function(){var Ve=this,Se=arguments;return new Promise(function(ne,H){var k=ce.apply(Ve,Se);function f(he){Z(k,ne,H,f,_e,"next",he)}function _e(he){Z(k,ne,H,f,_e,"throw",he)}f(void 0)})}}K.d(je,{A:()=>ge})},1322:(Ge,je,K)=>{"use strict";function Z(ge,ce){if(!(ge instanceof ce))throw new TypeError("Cannot call a class as a function")}K.d(je,{A:()=>Z})},1308:(Ge,je,K)=>{"use strict";K.d(je,{A:()=>ce});var Z=K(6185);function ge(Ve,Se){for(var ne=0;ne<Se.length;ne++){var H=Se[ne];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(Ve,(0,Z.A)(H.key),H)}}function ce(Ve,Se,ne){return Se&&ge(Ve.prototype,Se),ne&&ge(Ve,ne),Object.defineProperty(Ve,"prototype",{writable:!1}),Ve}},3380:(Ge,je,K)=>{"use strict";K.d(je,{A:()=>ge});var Z=K(6185);function ge(ce,Ve,Se){return(Ve=(0,Z.A)(Ve))in ce?Object.defineProperty(ce,Ve,{value:Se,enumerable:!0,configurable:!0,writable:!0}):ce[Ve]=Se,ce}},4009:(Ge,je,K)=>{"use strict";function Z(ge){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ce){return ce.__proto__||Object.getPrototypeOf(ce)})(ge)}K.d(je,{A:()=>Z})},6190:(Ge,je,K)=>{"use strict";function Z(ce,Ve){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Se,ne){return Se.__proto__=ne,Se})(ce,Ve)}function ge(ce,Ve){if("function"!=typeof Ve&&null!==Ve)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Object.defineProperty(ce,"prototype",{writable:!1}),Ve&&Z(ce,Ve)}K.d(je,{A:()=>ge})},1853:(Ge,je,K)=>{"use strict";K.d(je,{A:()=>ce});var Z=K(9391);function ce(Ve,Se){if(Se&&("object"==(0,Z.A)(Se)||"function"==typeof Se))return Se;if(void 0!==Se)throw new TypeError("Derived constructors may only return object or undefined");return function ge(Ve){if(void 0===Ve)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ve}(Ve)}},6185:(Ge,je,K)=>{"use strict";K.d(je,{A:()=>ce});var Z=K(9391);function ce(Ve){var Se=function ge(Ve,Se){if("object"!=(0,Z.A)(Ve)||!Ve)return Ve;var ne=Ve[Symbol.toPrimitive];if(void 0!==ne){var H=ne.call(Ve,Se||"default");if("object"!=(0,Z.A)(H))return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Se?String:Number)(Ve)}(Ve,"string");return"symbol"==(0,Z.A)(Se)?Se:Se+""}},9391:(Ge,je,K)=>{"use strict";function Z(ge){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(ge)}K.d(je,{A:()=>Z})}},Ge=>{Ge(Ge.s=4421)}]);