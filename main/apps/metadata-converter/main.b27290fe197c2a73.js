(self.webpackChunkmetadata_converter=self.webpackChunkmetadata_converter||[]).push([[792],{3951:(We,Ue,K)=>{"use strict";function Z(t,n){return Object.is(t,n)}let ve=null,ce=!1,Ve=1;const Se=Symbol("SIGNAL");function ne(t){const n=ve;return ve=t,n}const Me={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function he(t){if(ce)throw new Error("");if(null===ve)return;ve.consumerOnSignalRead(t);const n=ve.nextProducerIndex++;$e(ve),n<ve.producerNode.length&&ve.producerNode[n]!==t&&J(ve)&&Le(ve.producerNode[n],ve.producerIndexOfThis[n]),ve.producerNode[n]!==t&&(ve.producerNode[n]=t,ve.producerIndexOfThis[n]=J(ve)?ue(t,ve,n):0),ve.producerLastReadVersion[n]=t.version}function j(t){if((!J(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Ve)){if(!t.producerMustRecompute(t)&&!D(t))return t.dirty=!1,void(t.lastCleanEpoch=Ve);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ve}}function W(t){if(void 0===t.liveConsumerNode)return;const n=ce;ce=!0;try{for(const e of t.liveConsumerNode)e.dirty||ge(e)}finally{ce=n}}function se(){return!1!==ve?.consumerAllowSignalWrites}function ge(t){t.dirty=!0,W(t),t.consumerMarkedDirty?.(t)}function oe(t){return t&&(t.nextProducerIndex=0),ne(t)}function X(t,n){if(ne(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(J(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Le(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function D(t){$e(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(j(e),r!==e.version))return!0}return!1}function ae(t){if($e(t),J(t))for(let n=0;n<t.producerNode.length;n++)Le(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ue(t,n,e){if(re(t),0===t.liveConsumerNode.length&&xe(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ue(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Le(t,n){if(re(t),1===t.liveConsumerNode.length&&xe(t))for(let r=0;r<t.producerNode.length;r++)Le(t.producerNode[r],t.producerIndexOfThis[r]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[n],s=t.liveConsumerNode[n];$e(s),s.producerIndexOfThis[r]=n}}function J(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $e(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function re(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function xe(t){return void 0!==t.producerNode}const Pe=Symbol("UNSET"),te=Symbol("COMPUTING"),ye=Symbol("ERRORED"),Ct={...Me,value:Pe,dirty:!0,error:null,equal:Z,producerMustRecompute:t=>t.value===Pe||t.value===te,producerRecomputeValue(t){if(t.value===te)throw new Error("Detected cycle in computations.");const n=t.value;t.value=te;const e=oe(t);let r;try{r=t.computation()}catch(s){r=ye,t.error=s}finally{X(t,e)}n!==Pe&&n!==ye&&r!==ye&&t.equal(n,r)?t.value=n:(t.value=r,t.version++)}};let Pt=function wt(){throw new Error};function xt(){Pt()}let V=null;function ht(t,n){se()||xt(),t.equal(t.value,n)||(t.value=n,function Ut(t){t.version++,function be(){Ve++}(),W(t),V?.()}(t))}const Wt={...Me,equal:Z,value:void 0};const rn=()=>{},sn={...Me,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{null!==t.schedule&&t.schedule(t.ref)},hasRun:!1,cleanupFn:rn};function cn(t){return"function"==typeof t}function Yt(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const G=Yt(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,s)=>`${s+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function He(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class Fe{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(cn(r))try{r()}catch(i){n=i instanceof G?i.errors:[i]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const i of s)try{Mn(i)}catch(o){n=n??[],o instanceof G?n=[...n,...o.errors]:n.push(o)}}if(n)throw new G(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Mn(n);else{if(n instanceof Fe){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&He(e,n)}remove(n){const{_finalizers:e}=this;e&&He(e,n),n instanceof Fe&&n._removeParent(this)}}Fe.EMPTY=(()=>{const t=new Fe;return t.closed=!0,t})();const yt=Fe.EMPTY;function qt(t){return t instanceof Fe||t&&"closed"in t&&cn(t.remove)&&cn(t.add)&&cn(t.unsubscribe)}function Mn(t){cn(t)?t():t.unsubscribe()}const Rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},an={setTimeout(t,n,...e){const{delegate:r}=an;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=an;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function un(t){an.setTimeout(()=>{const{onUnhandledError:n}=Rn;if(!n)throw t;n(t)})}function On(){}const Zn=N("C",void 0,void 0);function N(t,n,e){return{kind:t,value:n,error:e}}let A=null;function S(t){if(Rn.useDeprecatedSynchronousErrorHandling){const n=!A;if(n&&(A={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=A;if(A=null,e)throw r}}else t()}class _e extends Fe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,qt(n)&&n.add(this)):this.destination=ct}static create(n,e,r){return new Te(n,e,r)}next(n){this.isStopped?ze(function qr(t){return N("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?ze(function _r(t){return N("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ze(Zn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function lt(t,n){return Je.call(t,n)}class ln{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Re(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Re(r)}else Re(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Re(e)}}}class Te extends _e{constructor(n,e,r){let s;if(super(),cn(n)||!n)s={next:n??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&Rn.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),s={next:n.next&&lt(n.next,i),error:n.error&&lt(n.error,i),complete:n.complete&&lt(n.complete,i)}):s=n}this.destination=new ln(s)}}function Re(t){Rn.useDeprecatedSynchronousErrorHandling?function U(t){Rn.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=t)}(t):un(t)}function ze(t,n){const{onStoppedNotification:e}=Rn;e&&an.setTimeout(()=>e(t,n))}const ct={closed:!0,next:On,error:function le(t){throw t},complete:On},st="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qt(t){return t}let _n=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,s){const i=function Mr(t){return t&&t instanceof _e||function ar(t){return t&&cn(t.next)&&cn(t.error)&&cn(t.complete)}(t)&&qt(t)}(e)?e:new Te(e,r,s);return S(()=>{const{operator:o,source:a}=this;i.add(o?o.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=hr(r))((s,i)=>{const o=new Te({next:a=>{try{e(a)}catch(l){i(l),o.unsubscribe()}},error:i,complete:s});this.subscribe(o)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[st](){return this}pipe(...e){return function Dn(t){return 0===t.length?Qt:1===t.length?t[0]:function(e){return t.reduce((r,s)=>s(r),e)}}(e)(this)}toPromise(e){return new(e=hr(e))((r,s)=>{let i;this.subscribe(o=>i=o,o=>s(o),()=>r(i))})}}return t.create=n=>new t(n),t})();function hr(t){var n;return null!==(n=t??Rn.Promise)&&void 0!==n?n:Promise}const Ws=Yt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Qr=(()=>{class t extends _n{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Ei(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Ws}next(e){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:s,observers:i}=this;return r||s?yt:(this.currentObservers=null,i.push(e),new Fe(()=>{this.currentObservers=null,He(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:s,isStopped:i}=this;r?e.error(s):i&&e.complete()}asObservable(){const e=new _n;return e.source=this,e}}return t.create=(n,e)=>new Ei(n,e),t})();class Ei extends Qr{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:yt}}class Qs extends Qr{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Zs(t){return n=>{if(function ia(t){return cn(t?.lift)}(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function R(t,n,e,r,s){return new F(t,n,e,r,s)}class F extends _e{constructor(n,e,r,s,i,o){super(n),this.onFinalize=i,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=s?function(a){try{s(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function ie(t,n){return Zs((e,r)=>{let s=0;e.subscribe(R(r,i=>{r.next(t.call(n,i,s++))}))})}class Xe extends Error{constructor(n,e){super(function tr(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}const Cs=Symbol("InputSignalNode#UNSET"),vr={...Wt,transformFn:void 0,applyValueToInputSignal(t,n){ht(t,n)}};function xi(t,n){const e=Object.create(vr);function r(){if(he(e),e.value===Cs)throw new Xe(-950,!1);return e.value}return e.value=t,e.transformFn=n?.transform,r[Se]=e,r}function _s(t){return{toString:t}.toString()}const Ns="__parameters__";function Fs(t,n,e){return _s(()=>{const r=function yr(t){return function(...e){if(t){const r=t(...e);for(const s in r)this[s]=r[s]}}}(n);function s(...i){if(this instanceof s)return r.apply(this,i),this;const o=new s(...i);return a.annotation=o,a;function a(l,c,u){const h=l.hasOwnProperty(Ns)?l[Ns]:Object.defineProperty(l,Ns,{value:[]})[Ns];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}const hn=globalThis;function Dr(t){for(let n in t)if(t[n]===Dr)return n;throw Error("Could not find renamed property on target object.")}function Tp(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Us(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Us).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Mu(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const l1=Dr({__forward_ref__:Dr});function Ur(t){return t.__forward_ref__=Ur,t.toString=function(){return Us(this())},t}function En(t){return sl(t)?t():t}function sl(t){return"function"==typeof t&&t.hasOwnProperty(l1)&&t.__forward_ref__===Ur}function Zt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ua(t){return{providers:t.providers||[],imports:t.imports||[]}}function hc(t){return L2(t,u1)||L2(t,D2)}function L2(t,n){return t.hasOwnProperty(n)?t[n]:null}function c1(t){return t&&(t.hasOwnProperty(h1)||t.hasOwnProperty(Fp))?t[h1]:null}const u1=Dr({\u0275prov:Dr}),h1=Dr({\u0275inj:Dr}),D2=Dr({ngInjectableDef:Dr}),Fp=Dr({ngInjectorDef:Dr});class kt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Zt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Nu(t){return t&&!!t.\u0275providers}const Fl=Dr({\u0275cmp:Dr}),Fu=Dr({\u0275dir:Dr}),Pu=Dr({\u0275pipe:Dr}),ku=Dr({\u0275mod:Dr}),ha=Dr({\u0275fac:Dr}),dc=Dr({__NG_ELEMENT_ID__:Dr}),B2=Dr({__NG_ENV_ID__:Dr});function jn(t){return"string"==typeof t?t:null==t?"":String(t)}function Ou(t,n){throw new Xe(-201,!1)}var lr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(lr||{});let Gu;function N2(){return Gu}function Gi(t){const n=Gu;return Gu=t,n}function F2(t,n,e){const r=hc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&lr.Optional?null:void 0!==n?n:void Ou()}const pc={},Wu="__NG_DI_FLAG__",fc="ngTempTokenPath",jp=/\n/gm,P2="__source";let Pl;function Ra(t){const n=Pl;return Pl=t,n}function Xp(t,n=lr.Default){if(void 0===Pl)throw new Xe(-203,!1);return null===Pl?F2(t,void 0,n):Pl.get(t,n&lr.Optional?null:void 0,n)}function Ke(t,n=lr.Default){return(N2()||Xp)(En(t),n)}function ke(t,n=lr.Default){return Ke(t,il(n))}function il(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function co(t){const n=[];for(let e=0;e<t.length;e++){const r=En(t[e]);if(Array.isArray(r)){if(0===r.length)throw new Xe(900,!1);let s,i=lr.Default;for(let o=0;o<r.length;o++){const a=r[o],l=Ze(a);"number"==typeof l?-1===l?s=a.token:i|=l:s=a}n.push(Ke(s,i))}else n.push(Ke(r))}return n}function ol(t,n){return t[Wu]=n,t.prototype[Wu]=n,t}function Ze(t){return t[Wu]}const k2=ol(Fs("Optional"),8),Xn=ol(Fs("SkipSelf"),4);function kl(t,n){return t.hasOwnProperty(ha)?t[ha]:null}function al(t,n){t.forEach(e=>Array.isArray(e)?al(e,n):n(e))}function Ol(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Ge(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Nt(t,n,e){let r=Gl(t,n);return r>=0?t[1|r]=e:(r=~r,function ju(t,n,e,r){let s=t.length;if(s==n)t.push(e,r);else if(1===s)t.push(r,t[0]),t[0]=e;else{for(s--,t.push(t[s-1],t[s]);s>n;)t[s]=t[s-2],s--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function Uu(t,n){const e=Gl(t,n);if(e>=0)return t[1|e]}function Gl(t,n){return function O2(t,n,e){let r=0,s=t.length>>e;for(;s!==r;){const i=r+(s-r>>1),o=t[i<<e];if(n===o)return i<<e;o>n?s=i:r=i+1}return~(s<<e)}(t,n,1)}const Oo={},mr=[],Mo=new kt(""),v1=new kt("",-1),gc=new kt("");class m1{get(n,e=pc){if(e===pc){const r=new Error(`NullInjectorError: No provider for ${Us(n)}!`);throw r.name="NullInjectorError",r}return e}}var w1=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(w1||{}),Li=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Li||{}),Da=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Da||{});function G2(t,n,e){let r=t.length;for(;;){const s=t.indexOf(n,e);if(-1===s)return s;if(0===s||t.charCodeAt(s-1)<=32){const i=n.length;if(s+i===r||t.charCodeAt(s+i)<=32)return s}e=s+1}}function C1(t,n,e){let r=0;for(;r<e.length;){const s=e[r];if("number"==typeof s){if(0!==s)break;r++;const i=e[r++],o=e[r++],a=e[r++];t.setAttribute(n,o,a,i)}else{const i=s,o=e[++r];Z2(i)?t.setProperty(n,i,o):t.setAttribute(n,i,o),r++}}return r}function W2(t){return 3===t||4===t||6===t}function Z2(t){return 64===t.charCodeAt(0)}function vc(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const s=n[r];"number"==typeof s?e=s:0===e||y1(t,e,s,null,-1===e||2===e?n[++r]:null)}}return t}function y1(t,n,e,r,s){let i=0,o=t.length;if(-1===n)o=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==s&&(t[i+1]=s));if(r===t[i+1])return void(t[i+2]=s)}i++,null!==r&&i++,null!==s&&i++}-1!==o&&(t.splice(o,0,n),i=o+1),t.splice(i++,0,e),null!==r&&t.splice(i++,0,r),null!==s&&t.splice(i++,0,s)}const mc="ng-template";function Jp(t,n,e,r){let s=0;if(r){for(;s<n.length&&"string"==typeof n[s];s+=2)if("class"===n[s]&&-1!==G2(n[s+1].toLowerCase(),e,0))return!0}else if(I1(t))return!1;if(s=n.indexOf(1,s),s>-1){let i;for(;++s<n.length&&"string"==typeof(i=n[s]);)if(i.toLowerCase()===e)return!0}return!1}function I1(t){return 4===t.type&&t.value!==mc}function wc(t,n,e){return n===(4!==t.type||e?t.value:mc)}function j2(t,n,e){let r=4;const s=t.attrs,i=null!==s?function ef(t){for(let n=0;n<t.length;n++)if(W2(t[n]))return n;return t.length}(s):0;let o=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!wc(t,l,e)||""===l&&1===n.length){if(uo(r))return!1;o=!0}}else if(8&r){if(null===s||!Jp(t,s,l,e)){if(uo(r))return!1;o=!0}}else{const c=n[++a],u=qp(l,s,I1(t),e);if(-1===u){if(uo(r))return!1;o=!0;continue}if(""!==c){let h;if(h=u>i?"":s[u+1].toLowerCase(),2&r&&c!==h){if(uo(r))return!1;o=!0}}}}else{if(!o&&!uo(r)&&!uo(l))return!1;if(o&&uo(l))continue;o=!1,r=l|1&r}}return uo(r)||o}function uo(t){return!(1&t)}function qp(t,n,e,r){if(null===n)return-1;let s=0;if(r||!e){let i=!1;for(;s<n.length;){const o=n[s];if(o===t)return s;if(3===o||6===o)i=!0;else{if(1===o||2===o){let a=n[++s];for(;"string"==typeof a;)a=n[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=i?1:2}return-1}return function tf(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function U2(t,n,e=!1){for(let r=0;r<n.length;r++)if(j2(t,n[r],e))return!0;return!1}function nf(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let s=0;s<t.length;s++)if(t[s]!==r[s])continue e;return!0}}return!1}function A1(t,n){return t?":not("+n.trim()+")":n}function rf(t){let n=t[0],e=1,r=2,s="",i=!1;for(;e<t.length;){let o=t[e];if("string"==typeof o)if(2&r){const a=t[++e];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?s+="."+o:4&r&&(s+=" "+o);else""!==s&&!uo(o)&&(n+=A1(i,s),s=""),r=o,i=i||!uo(r);e++}return""!==s&&(n+=A1(i,s)),n}function Ho(t){return _s(()=>{const n=Ri(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===w1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Li.Emulated,styles:t.styles||mr,_:null,schemas:t.schemas||null,tView:null,id:""};X2(e);const r=t.dependencies;return e.directiveDefs=b1(r,!1),e.pipeDefs=b1(r,!0),e.id=function K2(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const s of e)n=Math.imul(31,n)+s.charCodeAt(0)|0;return n+=2147483648,"c"+n}(e),e})}function ts(t){return xn(t)||Ps(t)}function hs(t){return null!==t}function Ba(t){return _s(()=>({type:t.type,bootstrap:t.bootstrap||mr,declarations:t.declarations||mr,imports:t.imports||mr,exports:t.exports||mr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $2(t,n){if(null==t)return Oo;const e={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];let i,o,a=Da.None;Array.isArray(s)?(a=s[0],i=s[1],o=s[2]??i):(i=s,o=s),n?(e[i]=a!==Da.None?[r,a]:r,n[i]=o):e[i]=r}return e}function Un(t){return _s(()=>{const n=Ri(t);return X2(n),n})}function _i(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function xn(t){return t[Fl]||null}function Ps(t){return t[Fu]||null}function hi(t){return t[Pu]||null}function Ri(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Oo,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||mr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$2(t.inputs,n),outputs:$2(t.outputs),debugInfo:null}}function X2(t){t.features?.forEach(n=>n(t))}function b1(t,n){if(!t)return null;const e=n?hi:ts;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(hs)}function ll(t){return{\u0275providers:t}}function Er(...t){return{\u0275providers:Cc(0,t),\u0275fromNgModule:!0}}function Cc(t,...n){const e=[],r=new Set;let s;const i=o=>{e.push(o)};return al(n,o=>{const a=o;_(a,i,[],r)&&(s||=[],s.push(a))}),void 0!==s&&m(s,i),e}function m(t,n){for(let e=0;e<t.length;e++){const{ngModule:r,providers:s}=t[e];P(s,i=>{n(i,r)})}}function _(t,n,e,r){if(!(t=En(t)))return!1;let s=null,i=c1(t);const o=!i&&xn(t);if(i||o){if(o&&!o.standalone)return!1;s=t}else{const l=t.ngModule;if(i=c1(l),!i)return!1;s=l}const a=r.has(s);if(o){if(a)return!1;if(r.add(s),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)_(c,n,e,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;r.add(s);try{al(i.imports,u=>{_(u,n,e,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&m(c,n)}if(!a){const c=kl(s)||(()=>new s);n({provide:s,useFactory:c,deps:mr},s),n({provide:gc,useValue:s,multi:!0},s),n({provide:Mo,useValue:()=>Ke(s),multi:!0},s)}const l=i.providers;if(null!=l&&!a){const c=t;P(l,u=>{n(u,c)})}}}return s!==t&&void 0!==t.providers}function P(t,n){for(let e of t)Nu(e)&&(e=e.\u0275providers),Array.isArray(e)?P(e,n):n(e)}const q=Dr({provide:String,useValue:Dr});function me(t){return null!==t&&"object"==typeof t&&q in t}function Kt(t){return"function"==typeof t}const da=new kt(""),Go={},k7={};let lf;function J2(){return void 0===lf&&(lf=new m1),lf}class Wo{}class x1 extends Wo{get destroyed(){return this._destroyed}constructor(n,e,r,s){super(),this.parent=e,this.source=r,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uf(n,o=>this.processProvider(o)),this.records.set(v1,S1(void 0,this)),s.has("environment")&&this.records.set(Wo,S1(void 0,this));const i=this.records.get(da);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(gc,mr,lr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=ne(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Ra(this),r=Gi(void 0);try{return n()}finally{Ra(e),Gi(r)}}get(n,e=pc,r=lr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(B2))return n[B2](this);r=il(r);const i=Ra(this),o=Gi(void 0);try{if(!(r&lr.SkipSelf)){let l=this.records.get(n);if(void 0===l){const c=function j7(t){return"function"==typeof t||"object"==typeof t&&t instanceof kt}(n)&&hc(n);l=c&&this.injectableDefInScope(c)?S1(cf(n),Go):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(r&lr.Self?J2():this.parent).get(n,e=r&lr.Optional&&e===pc?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[fc]=a[fc]||[]).unshift(Us(n)),i)throw a;return function p1(t,n,e,r){const s=t[fc];throw n[P2]&&s.unshift(n[P2]),t.message=function B3(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let s=Us(n);if(Array.isArray(n))s=n.map(Us).join(" -> ");else if("object"==typeof n){let i=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):Us(a)))}s=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${s}]: ${t.replace(jp,"\n  ")}`}("\n"+t.message,s,e,r),t.ngTokenPath=s,t[fc]=null,t}(a,n,"R3InjectorError",this.source)}throw a}finally{Gi(o),Ra(i)}}resolveInjectorInitializers(){const n=ne(null),e=Ra(this),r=Gi(void 0);try{const i=this.get(Mo,mr,lr.Self);for(const o of i)o()}finally{Ra(e),Gi(r),ne(n)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Us(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processProvider(n){let e=Kt(n=En(n))?n:En(n&&n.provide);const r=function G7(t){return me(t)?S1(void 0,t.useValue):S1(k3(t),Go)}(n);if(!Kt(n)&&!0===n.multi){let s=this.records.get(e);s||(s=S1(void 0,Go,!0),s.factory=()=>co(s.multi),this.records.set(e,s)),e=n,s.multi.push(n)}this.records.set(e,r)}hydrate(n,e){const r=ne(null);try{return e.value===Go&&(e.value=k7,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Z7(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{ne(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;const e=En(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function cf(t){const n=hc(t),e=null!==n?n.factory:kl(t);if(null!==e)return e;if(t instanceof kt)throw new Xe(204,!1);if(t instanceof Function)return function O7(t){if(t.length>0)throw new Xe(204,!1);const e=function R2(t){return t&&(t[u1]||t[D2])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Xe(204,!1)}function k3(t,n,e){let r;if(Kt(t)){const s=En(t);return kl(s)||cf(s)}if(me(t))r=()=>En(t.useValue);else if(function Q(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...co(t.deps||[]));else if(function Ce(t){return!(!t||!t.useExisting)}(t))r=()=>Ke(En(t.useExisting));else{const s=En(t&&(t.useClass||t.provide));if(!function W7(t){return!!t.deps}(t))return kl(s)||cf(s);r=()=>new s(...co(t.deps))}return r}function S1(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function uf(t,n){for(const e of t)Array.isArray(e)?uf(e,n):e&&Nu(e)?uf(e.\u0275providers,n):n(e)}function O3(t,n){t instanceof x1&&t.assertNotDestroyed();const r=Ra(t),s=Gi(void 0);try{return n()}finally{Ra(r),Gi(s)}}function G3(){return void 0!==N2()||null!=function $p(){return Pl}()}const Ms=0,Dt=1,Hn=2,ni=3,Zo=4,ds=5,Rt=6,Or=7,pn=8,In=9,vt=10,je=11,jo=12,zr=13,Zi=14,Hs=15,yc=16,M1=17,cl=18,H1=19,Z3=20,Wl=21,Q2=22,Uo=23,Cn=25,pf=1,Na=7,z1=9,$s=10;var td=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(td||{});function pi(t){return Array.isArray(t)&&"object"==typeof t[pf]}function ji(t){return Array.isArray(t)&&!0===t[pf]}function ff(t){return!!(4&t.flags)}function Ic(t){return t.componentOffset>-1}function nd(t){return!(1&~t.flags)}function pa(t){return!!t.template}function Yu(t){return!!(512&t[Hn])}class ry{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Y3(t,n,e,r){null!==n?n.applyValueToInputSignal(n,r):t[e]=r}function ul(){return K3}function K3(t){return t.type.prototype.ngOnChanges&&(t.setInput=iy),sy}function sy(){const t=q3(this),n=t?.current;if(n){const e=t.previous;if(e===Oo)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function iy(t,n,e,r,s){const i=this.declaredInputs[r],o=q3(t)||function oy(t,n){return t[J3]=n}(t,{previous:Oo,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[i];a[i]=new ry(c&&c.currentValue,e,l===Oo),Y3(t,n,s,e)}ul.ngInherit=!0;const J3="__ngSimpleChanges__";function q3(t){return t[J3]||null}const Fa=function(t,n,e){};function Vr(t){for(;Array.isArray(t);)t=t[Ms];return t}function Ku(t,n){return Vr(n[t])}function Qi(t,n){return Vr(n[t.index])}function Ju(t,n){return t.data[n]}function Ac(t,n){return t[n]}function zo(t,n){const e=n[t];return pi(e)?e:e[Ms]}function Cf(t){return!(128&~t[Hn])}function $o(t,n){return null==n?null:t[n]}function tv(t){t[M1]=0}function nv(t){1024&t[Hn]||(t[Hn]|=1024,Cf(t)&&sd(t))}function rd(t){return!!(9216&t[Hn]||t[Uo]?.dirty)}function yf(t){t[vt].changeDetectionScheduler?.notify(8),64&t[Hn]&&(t[Hn]|=1024),rd(t)&&sd(t)}function sd(t){t[vt].changeDetectionScheduler?.notify(0);let n=hl(t);for(;null!==n&&!(8192&n[Hn])&&(n[Hn]|=8192,Cf(n));)n=hl(n)}function id(t,n){if(!(256&~t[Hn]))throw new Xe(911,!1);null===t[Wl]&&(t[Wl]=[]),t[Wl].push(n)}function hl(t){const n=t[ni];return ji(n)?n[ni]:n}const Gn={lFrame:gv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let sv=!1;function iv(){return Gn.bindingsEnabled}function bc(){return null!==Gn.skipHydrationRootTNode}function dt(){return Gn.lFrame.lView}function or(){return Gn.lFrame.tView}function ot(t){return Gn.lFrame.contextLView=t,t[pn]}function at(t){return Gn.lFrame.contextLView=null,t}function $r(){let t=ov();for(;null!==t&&64===t.type;)t=t.parent;return t}function ov(){return Gn.lFrame.currentTNode}function fa(t,n){const e=Gn.lFrame;e.currentTNode=t,e.isParent=n}function bf(){return Gn.lFrame.isParent}function xf(){Gn.lFrame.isParent=!1}function cv(){return sv}function uv(t){sv=t}function eo(){const t=Gn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ga(){return Gn.lFrame.bindingIndex++}function pl(t){const n=Gn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function yy(t,n){const e=Gn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Sf(n)}function Sf(t){Gn.lFrame.currentDirectiveIndex=t}function Mf(){return Gn.lFrame.currentQueryIndex}function ad(t){Gn.lFrame.currentQueryIndex=t}function Ay(t){const n=t[Dt];return 2===n.type?n.declTNode:1===n.type?t[ds]:null}function pv(t,n,e){if(e&lr.SkipSelf){let s=n,i=t;for(;!(s=s.parent,null!==s||e&lr.Host||(s=Ay(i),null===s||(i=i[Zi],10&s.type))););if(null===s)return!1;n=s,t=i}const r=Gn.lFrame=fv();return r.currentTNode=n,r.lView=t,!0}function Hf(t){const n=fv(),e=t[Dt];Gn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function fv(){const t=Gn.lFrame,n=null===t?null:t.child;return null===n?gv(t):n}function gv(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function vv(){const t=Gn.lFrame;return Gn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const mv=vv;function zf(){const t=vv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Di(){return Gn.lFrame.selectedIndex}function xc(t){Gn.lFrame.selectedIndex=t}function ps(){const t=Gn.lFrame;return Ju(t.tView,t.selectedIndex)}let Cv=!0;function Qu(){return Cv}function Pa(t){Cv=t}function ld(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const i=t.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=i;o&&(t.contentHooks??=[]).push(-e,o),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),null!=u&&(t.destroyHooks??=[]).push(e,u)}}function cd(t,n,e){yv(t,n,3,e)}function ud(t,n,e,r){(3&t[Hn])===e&&yv(t,n,e,r)}function Vf(t,n){let e=t[Hn];(3&e)===n&&(e&=16383,e+=1,t[Hn]=e)}function yv(t,n,e,r){const i=r??-1,o=n.length-1;let a=0;for(let l=void 0!==r?65535&t[M1]:0;l<o;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(t[M1]+=65536),(a<i||-1==i)&&(zy(t,e,n,l),t[M1]=(4294901760&t[M1])+l+2),l++}function Iv(t,n){Fa(4,t,n);const e=ne(null);try{n.call(t)}finally{ne(e),Fa(5,t,n)}}function zy(t,n,e,r){const s=e[r]<0,i=e[r+1],a=t[s?-e[r]:e[r]];s?t[Hn]>>14<t[M1]>>16&&(3&t[Hn])===n&&(t[Hn]+=16384,Iv(a,i)):Iv(a,i)}const V1=-1;class eh{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}const Ef={};class Sc{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=il(r);const s=this.injector.get(n,Ef,r);return s!==Ef||e===Ef?s:this.parentInjector.get(n,e,r)}}function Lf(t){return t!==V1}function th(t){return 32767&t}function nh(t,n){let e=function Ry(t){return t>>16}(t),r=n;for(;e>0;)r=r[Zi],e--;return r}let Rf=!0;function hd(t){const n=Rf;return Rf=t,n}const bv=255,xv=5;let By=0;const ka={};function dd(t,n){const e=Sv(t,n);if(-1!==e)return e;const r=n[Dt];r.firstCreatePass&&(t.injectorIndex=n.length,Df(r.data,t),Df(n,null),Df(r.blueprint,null));const s=pd(t,n),i=t.injectorIndex;if(Lf(s)){const o=th(s),a=nh(s,n),l=a[Dt].data;for(let c=0;c<8;c++)n[i+c]=a[o+c]|l[o+c]}return n[i+8]=s,i}function Df(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Sv(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function pd(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,s=n;for(;null!==s;){if(r=Ev(s),null===r)return V1;if(e++,s=s[Zi],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return V1}function Bf(t,n,e){!function Ny(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(dc)&&(r=e[dc]),null==r&&(r=e[dc]=By++);const s=r&bv;n.data[t+(s>>xv)]|=1<<s}(t,n,e)}function _v(t,n,e){if(e&lr.Optional||void 0!==t)return t;Ou()}function Mv(t,n,e,r){if(e&lr.Optional&&void 0===r&&(r=null),!(e&(lr.Self|lr.Host))){const s=t[In],i=Gi(void 0);try{return s?s.get(n,r,e&lr.Optional):F2(n,r,e&lr.Optional)}finally{Gi(i)}}return _v(r,0,e)}function Hv(t,n,e,r=lr.Default,s){if(null!==t){if(2048&n[Hn]&&!(r&lr.Self)){const o=function Gy(t,n,e,r,s){let i=t,o=n;for(;null!==i&&null!==o&&2048&o[Hn]&&!(512&o[Hn]);){const a=zv(i,o,e,r|lr.Self,ka);if(a!==ka)return a;let l=i.parent;if(!l){const c=o[Z3];if(c){const u=c.get(e,ka,r);if(u!==ka)return u}l=Ev(o),o=o[Zi]}i=l}return s}(t,n,e,r,ka);if(o!==ka)return o}const i=zv(t,n,e,r,ka);if(i!==ka)return i}return Mv(n,e,r,s)}function zv(t,n,e,r,s){const i=function ky(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(dc)?t[dc]:void 0;return"number"==typeof n?n>=0?n&bv:Oy:n}(e);if("function"==typeof i){if(!pv(n,t,r))return r&lr.Host?_v(s,0,r):Mv(n,e,r,s);try{let o;if(o=i(r),null!=o||r&lr.Optional)return o;Ou()}finally{mv()}}else if("number"==typeof i){let o=null,a=Sv(t,n),l=V1,c=r&lr.Host?n[Hs][ds]:null;for((-1===a||r&lr.SkipSelf)&&(l=-1===a?pd(t,n):n[a+8],l!==V1&&Tv(r,!1)?(o=n[Dt],a=th(l),n=nh(l,n)):a=-1);-1!==a;){const u=n[Dt];if(Vv(i,a,u.data)){const h=Py(a,n,e,o,r,c);if(h!==ka)return h}l=n[a+8],l!==V1&&Tv(r,n[Dt].data[a+8]===c)&&Vv(i,a,n)?(o=u,a=th(l),n=nh(l,n)):a=-1}}return s}function Py(t,n,e,r,s,i){const o=n[Dt],a=o.data[t+8],u=fd(a,o,e,null==r?Ic(a)&&Rf:r!=o&&!!(3&a.type),s&lr.Host&&i===a);return null!==u?_c(n,o,u,a):ka}function fd(t,n,e,r,s){const i=t.providerIndexes,o=n.data,a=1048575&i,l=t.directiveStart,u=i>>20,d=s?a+u:t.directiveEnd;for(let p=r?a:a+u;p<d;p++){const v=o[p];if(p<l&&e===v||p>=l&&v.type===e)return p}if(s){const p=o[l];if(p&&pa(p)&&p.type===e)return l}return null}function _c(t,n,e,r){let s=t[e];const i=n.data;if(function Vy(t){return t instanceof eh}(s)){const o=s;o.resolving&&function Gp(t,n){throw n&&n.join(" > "),new Xe(-200,t)}(function Hr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():jn(t)}(i[e]));const a=hd(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Gi(o.injectImpl):null;pv(t,r,lr.Default);try{s=t[e]=o.factory(void 0,i,t,r),n.firstCreatePass&&e>=r.directiveStart&&function Hy(t,n,e){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:i}=n.type.prototype;if(r){const o=K3(n);(e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o)}s&&(e.preOrderHooks??=[]).push(0-t,s),i&&((e.preOrderHooks??=[]).push(t,i),(e.preOrderCheckHooks??=[]).push(t,i))}(e,i[e],n)}finally{null!==c&&Gi(c),hd(a),o.resolving=!1,mv()}}return s}function Vv(t,n,e){return!!(e[n+(t>>xv)]&1<<t)}function Tv(t,n){return!(t&lr.Self||t&lr.Host&&n)}class fi{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return Hv(this._tNode,this._lView,n,il(r),e)}}function Oy(){return new fi($r(),dt())}function ri(t){return _s(()=>{const n=t.prototype.constructor,e=n[ha]||Nf(n),r=Object.prototype;let s=Object.getPrototypeOf(t.prototype).constructor;for(;s&&s!==r;){const i=s[ha]||Nf(s);if(i&&i!==e)return i;s=Object.getPrototypeOf(s)}return i=>new i})}function Nf(t){return sl(t)?()=>{const n=Nf(En(t));return n&&n()}:kl(t)}function Ev(t){const n=t[Dt],e=n.type;return 2===e?n.declTNode:1===e?t[ds]:null}function Zl(t,n=null,e=null,r){const s=ho(t,n,e,r);return s.resolveInjectorInitializers(),s}function ho(t,n=null,e=null,r,s=new Set){const i=[e||mr,Er(t)];return r=r||("object"==typeof t?void 0:Us(t)),new x1(i,n||J2(),r||null,s)}class kn{static{this.THROW_IF_NOT_FOUND=pc}static{this.NULL=new m1}static create(n,e){if(Array.isArray(n))return Zl({name:""},e,n,"");{const r=n.name??"";return Zl({name:r},n.parent,n.providers,r)}}static{this.\u0275prov=Zt({token:kn,providedIn:"any",factory:()=>Ke(v1)})}static{this.__NG_ELEMENT_ID__=-1}}new kt("").__NG_ELEMENT_ID__=t=>{const n=$r();if(null===n)throw new Xe(204,!1);if(2&n.type)return n.value;if(t&lr.Optional)return null;throw new Xe(204,!1)};function kf(t){return t.ngOriginalError}const Fv=!0;let rh=(()=>{class t{static{this.__NG_ELEMENT_ID__=Ky}static{this.__NG_ENV_ID__=e=>e}}return t})();class Yy extends rh{constructor(n){super(),this._lView=n}onDestroy(n){return id(this._lView,n),()=>function If(t,n){if(null===t[Wl])return;const e=t[Wl].indexOf(n);-1!==e&&t[Wl].splice(e,1)}(this._lView,n)}}function Ky(){return new Yy(dt())}let jl=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qs(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Zt({token:t,providedIn:"root",factory:()=>new t})}}return t})();const ns=class Jy extends Qr{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,G3()&&(this.destroyRef=ke(rh,{optional:!0})??void 0,this.pendingTasks=ke(jl,{optional:!0})??void 0)}emit(n){const e=ne(null);try{super.next(n)}finally{ne(e)}}subscribe(n,e,r){let s=n,i=e||(()=>null),o=r;if(n&&"object"==typeof n){const l=n;s=l.next?.bind(l),i=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),s&&(s=this.wrapInTimeout(s)),o&&(o=this.wrapInTimeout(o)));const a=super.subscribe({next:s,error:i,complete:o});return n instanceof Fe&&n.add(a),a}wrapInTimeout(n){return e=>{const r=this.pendingTasks?.add();setTimeout(()=>{n(e),void 0!==r&&this.pendingTasks?.remove(r)})}}};function md(...t){}function Pv(t){let n,e;function r(){t=md;try{void 0!==e&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(e),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),"function"==typeof requestAnimationFrame&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function kv(t){return queueMicrotask(()=>t()),()=>{t=md}}const Of="isAngularZone",wd=Of+"_ID";let qy=0;class Xr{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ns(!1),this.onMicrotaskEmpty=new ns(!1),this.onStable=new ns(!1),this.onError=new ns(!1);const{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:i=Fv}=n;if(typeof Zone>"u")throw new Xe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!s&&r,o.shouldCoalesceRunChangeDetection=s,o.callbackScheduled=!1,o.scheduleInRootZone=i,function tI(t){const n=()=>{!function eI(t){function n(){Pv(()=>{t.callbackScheduled=!1,Wf(t),t.isCheckStableRunning=!0,Gf(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Wf(t))}(t)},e=qy++;t._inner=t._inner.fork({name:"angular",properties:{[Of]:!0,[wd]:e,[wd+e]:!0},onInvokeTask:(r,s,i,o,a,l)=>{if(function nI(t){return Wv(t,"__ignore_ng_zone__")}(l))return r.invokeTask(i,o,a,l);try{return Ov(t),r.invokeTask(i,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),Gv(t)}},onInvoke:(r,s,i,o,a,l,c)=>{try{return Ov(t),r.invoke(i,o,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function rI(t){return Wv(t,"__scheduler_tick__")}(l)&&n(),Gv(t)}},onHasTask:(r,s,i,o)=>{r.hasTask(i,o),s===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Wf(t),Gf(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,s,i,o)=>(r.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Of)}static assertInAngularZone(){if(!Xr.isInAngularZone())throw new Xe(909,!1)}static assertNotInAngularZone(){if(Xr.isInAngularZone())throw new Xe(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,s){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+s,n,Qy,md,md);try{return i.runTask(o,e,r)}finally{i.cancelTask(o)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const Qy={};function Gf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Wf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Ov(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gv(t){t._nesting--,Gf(t)}class Zf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ns,this.onMicrotaskEmpty=new ns,this.onStable=new ns,this.onError=new ns}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,s){return n.apply(e,r)}}function Wv(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}class Oa{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&kf(n);for(;e&&kf(e);)e=kf(e);return e||null}}const iI=new kt("",{providedIn:"root",factory:()=>{const t=ke(Xr),n=ke(Oa);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function jv(t,n){return xi(t,n)}const sh=(jv.required=function oI(t){return xi(Cs,t)},jv);function aI(){return L1($r(),dt())}function L1(t,n){return new Xo(Qi(t,n))}let Xo=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=aI}}return t})();function Uv(t){return t instanceof Xo?t.nativeElement:t}function lI(){return this._results[Symbol.iterator]()}class jf{get changes(){return this._changes??=new ns}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=jf.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=lI)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;const r=function Wi(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Yp(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let s=t[r],i=n[r];if(e&&(s=e(s),i=e(i)),i!==s)return!1}return!0}(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function oh(t){return!(128&~t.flags)}const $f=new Map;let uI=0;function Xf(t){$f.delete(t[H1])}const Cd="__ngContext__";function Ui(t,n){pi(n)?(t[Cd]=n[H1],function dI(t){$f.set(t[H1],t)}(n)):t[Cd]=n}function nm(t){return sm(t[jo])}function rm(t){return sm(t[Zo])}function sm(t){for(;null!==t&&!ji(t);)t=t[Zo];return t}let Kf;const D1=new kt("",{providedIn:"root",factory:()=>zI}),zI="ng",dm=new kt(""),vl=new kt("",{providedIn:"platform",factory:()=>"unknown"}),pm=new kt("",{providedIn:"root",factory:()=>function Ul(){if(void 0!==Kf)return Kf;if(typeof document<"u")return document;throw new Xe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let fm=()=>null;function rg(t,n,e=!1){return fm(t,n,e)}const Am=new kt("",{providedIn:"root",factory:()=>!1});class Hm{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function $l(t){return t instanceof Hm?t.changingThisBreaksApplicationSecurity:t}const $n=/^>|^->|<!--|-->|--!>|<!-$/g,Yn=/(<|>)/g,tn="\u200b$1\u200b";var Ec=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ec||{});let Fm;function Pm(t,n){return Fm(t,n)}function wh(t,n,e,r,s){if(null!=r){let i,o=!1;ji(r)?i=r:pi(r)&&(o=!0,r=r[Ms]);const a=Vr(r);0===t&&null!==e?null==s?hA(n,e,a):k1(n,e,a,s||null,!0):1===t&&null!==e?k1(n,e,a,s||null,!0):2===t?function Ld(t,n,e){t.removeChild(null,n,e)}(n,a,o):3===t&&n.destroyNode(a),null!=i&&function nB(t,n,e,r,s){const i=e[Na];i!==Vr(e)&&wh(n,t,r,i,s);for(let a=$s;a<e.length;a++){const l=e[a];mg(l[Dt],l,t,n,r,i)}}(n,t,i,e,s)}}function Om(t,n){return t.createComment(function Gr(t){return t.replace($n,n=>n.replace(Yn,tn))}(n))}function fg(t,n,e){return t.createElement(n,e)}function lA(t,n){n[vt].changeDetectionScheduler?.notify(9),mg(t,n,n[je],2,null,null)}function cA(t,n){const e=t[z1],r=n[ni];(pi(r)||n[Hs]!==r[ni][Hs])&&(t[Hn]|=td.HasTransplantedViews),null===e?t[z1]=[n]:e.push(n)}function Gm(t,n){const e=t[z1],r=e.indexOf(n);e.splice(r,1)}function Ed(t,n){if(t.length<=$s)return;const e=$s+n,r=t[e];if(r){const s=r[yc];null!==s&&s!==t&&Gm(s,r),n>0&&(t[e-1][Zo]=r[Zo]);const i=Ge(t,$s+n);!function XD(t,n){lA(t,n),n[Ms]=null,n[ds]=null}(r[Dt],r);const o=i[cl];null!==o&&o.detachView(i[Dt]),r[ni]=null,r[Zo]=null,r[Hn]&=-129}return r}function gg(t,n){if(!(256&n[Hn])){const e=n[je];e.destroyNode&&mg(t,n,e,3,null,null),function KD(t){let n=t[jo];if(!n)return Wm(t[Dt],t);for(;n;){let e=null;if(pi(n))e=n[jo];else{const r=n[$s];r&&(e=r)}if(!e){for(;n&&!n[Zo]&&n!==t;)pi(n)&&Wm(n[Dt],n),n=n[ni];null===n&&(n=t),pi(n)&&Wm(n[Dt],n),e=n&&n[Zo]}n=e}}(n)}}function Wm(t,n){if(256&n[Hn])return;const e=ne(null);try{n[Hn]&=-129,n[Hn]|=256,n[Uo]&&ae(n[Uo]),function QD(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const s=n[e[r]];if(!(s instanceof eh)){const i=e[r+1];if(Array.isArray(i))for(let o=0;o<i.length;o+=2){const a=s[i[o]],l=i[o+1];Fa(4,a,l);try{l.call(a)}finally{Fa(5,a,l)}}else{Fa(4,s,i);try{i.call(s)}finally{Fa(5,s,i)}}}}}(t,n),function qD(t,n){const e=t.cleanup,r=n[Or];if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const o=e[i+3];o>=0?r[o]():r[-o].unsubscribe(),i+=2}else e[i].call(r[e[i+1]]);null!==r&&(n[Or]=null);const s=n[Wl];if(null!==s){n[Wl]=null;for(let i=0;i<s.length;i++)(0,s[i])()}}(t,n),1===n[Dt].type&&n[je].destroy();const r=n[yc];if(null!==r&&ji(n[ni])){r!==n[ni]&&Gm(r,n);const s=n[cl];null!==s&&s.detachView(t)}Xf(n)}finally{ne(e)}}function Zm(t,n,e){return function uA(t,n,e){let r=n;for(;null!==r&&168&r.type;)r=(n=r).parent;if(null===r)return e[Ms];{const{componentOffset:s}=r;if(s>-1){const{encapsulation:i}=t.data[r.directiveStart+s];if(i===Li.None||i===Li.Emulated)return null}return Qi(r,e)}}(t,n.parent,e)}function k1(t,n,e,r,s){t.insertBefore(n,e,r,s)}function hA(t,n,e){t.appendChild(n,e)}function dA(t,n,e,r,s){null!==r?k1(t,n,e,r,s):hA(t,n,e)}function jm(t,n){return t.parentNode(n)}function pA(t,n,e){return gA(t,n,e)}let Um,gA=function fA(t,n,e){return 40&t.type?Qi(t,e):null};function vg(t,n,e,r){const s=Zm(t,r,n),i=n[je],a=pA(r.parent||n[ds],r,n);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)dA(i,s,e[l],a,!1);else dA(i,s,e,a,!1);void 0!==Um&&Um(i,r,n,e,s)}function O1(t,n){if(null!==n){const e=n.type;if(3&e)return Qi(n,t);if(4&e)return $m(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return O1(t,r);{const s=t[n.index];return ji(s)?$m(-1,s):Vr(s)}}if(128&e)return O1(t,n.next);if(32&e)return Pm(n,t)()||Vr(t[n.index]);{const r=mA(t,n);return null!==r?Array.isArray(r)?r[0]:O1(hl(t[Hs]),r):O1(t,n.next)}}return null}function mA(t,n){return null!==n?t[Hs][ds].projection[n.projection]:null}function $m(t,n){const e=$s+t+1;if(e<n.length){const r=n[e],s=r[Dt].firstChild;if(null!==s)return O1(r,s)}return n[Na]}function Xm(t,n,e,r,s,i,o){for(;null!=e;){if(128===e.type){e=e.next;continue}const a=r[e.index],l=e.type;if(o&&0===n&&(a&&Ui(Vr(a),r),e.flags|=2),32&~e.flags)if(8&l)Xm(t,n,e.child,r,s,i,!1),wh(n,t,s,a,i);else if(32&l){const c=Pm(e,r);let u;for(;u=c();)wh(n,t,s,u,i);wh(n,t,s,a,i)}else 16&l?CA(t,n,r,e,s,i):wh(n,t,s,a,i);e=o?e.projectionNext:e.next}}function mg(t,n,e,r,s,i){Xm(e,r,t.firstChild,n,s,i,!1)}function CA(t,n,e,r,s,i){const o=e[Hs],l=o[ds].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)wh(n,t,s,l[c],i);else{let c=l;const u=o[ni];oh(r)&&(c.flags|=128),Xm(t,n,c,u,s,i,!0)}}function yA(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function IA(t,n,e){const{mergedAttrs:r,classes:s,styles:i}=e;null!==r&&C1(t,n,r),null!==s&&yA(t,n,s),null!==i&&function sB(t,n,e){t.setAttribute(n,"style",e)}(t,n,i)}const Jn={};function Ot(t=1){AA(or(),dt(),Di()+t,!1)}function AA(t,n,e,r){if(!r)if(3&~n[Hn]){const i=t.preOrderHooks;null!==i&&ud(n,i,0,e)}else{const i=t.preOrderCheckHooks;null!==i&&cd(n,i,e)}xc(e)}function jt(t,n=lr.Default){const e=dt();return null===e?Ke(t,n):Hv($r(),e,En(t),n)}function bA(t,n,e,r,s,i){const o=ne(null);try{let a=null;s&Da.SignalBased&&(a=n[r][Se]),null!==a&&void 0!==a.transformFn&&(i=a.transformFn(i)),s&Da.HasDecoratorInputTransform&&(i=t.inputTransforms[r].call(n,i)),null!==t.setInput?t.setInput(n,a,i,e,r):Y3(n,a,r,i)}finally{ne(o)}}function wg(t,n,e,r,s,i,o,a,l,c,u){const h=n.blueprint.slice();return h[Ms]=s,h[Hn]=204|r,(null!==c||t&&2048&t[Hn])&&(h[Hn]|=2048),tv(h),h[ni]=h[Zi]=t,h[pn]=e,h[vt]=o||t&&t[vt],h[je]=a||t&&t[je],h[In]=l||t&&t[In]||null,h[ds]=i,h[H1]=function hI(){return uI++}(),h[Rt]=u,h[Z3]=c,h[Hs]=2==n.type?t[Hs]:h,h}function G1(t,n,e,r,s){let i=t.data[n];if(null===i)i=function Ym(t,n,e,r,s){const i=ov(),o=bf(),l=t.data[n]=function pB(t,n,e,r,s,i){let o=n?n.injectorIndex:-1,a=0;return bc()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:s,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?i:i&&i.parent,e,n,r,s);return null===t.firstChild&&(t.firstChild=l),null!==i&&(o?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(t,n,e,r,s),function Cy(){return Gn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=e,i.value=r,i.attrs=s;const o=function qu(){const t=Gn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===o?-1:o.injectorIndex}return fa(i,!0),i}function Rd(t,n,e,r){if(0===e)return-1;const s=n.length;for(let i=0;i<e;i++)n.push(r),t.blueprint.push(r),t.data.push(null);return s}function xA(t,n,e,r,s){const i=Di(),o=2&r;try{xc(-1),o&&n.length>Cn&&AA(t,n,Cn,!1),Fa(o?2:0,s),e(r,s)}finally{xc(i),Fa(o?3:1,s)}}function Km(t,n,e){if(ff(n)){const r=ne(null);try{const i=n.directiveEnd;for(let o=n.directiveStart;o<i;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{ne(r)}}}function Jm(t,n,e){iv()&&(function yB(t,n,e,r){const s=e.directiveStart,i=e.directiveEnd;Ic(e)&&function MB(t,n,e){const r=Qi(n,t),s=SA(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=Cg(t,wg(t,s,null,o,r,n,null,t[vt].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=a}(n,e,t.data[s+e.componentOffset]),t.firstCreatePass||dd(e,n),Ui(r,n);const o=e.initialInputs;for(let a=s;a<i;a++){const l=t.data[a],c=_c(n,t,a,e);Ui(c,n),null!==o&&HB(0,a-s,c,l,0,o),pa(l)&&(zo(e.index,n)[pn]=_c(n,t,a,e))}}(t,n,e,Qi(e,n)),!(64&~e.flags)&&VA(t,n,e))}function qm(t,n,e=Qi){const r=n.localNames;if(null!==r){let s=n.index+1;for(let i=0;i<r.length;i+=2){const o=r[i+1],a=-1===o?e(n,t):t[o];t[s++]=a}}}function SA(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Qm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Qm(t,n,e,r,s,i,o,a,l,c,u){const h=Cn+r,d=h+s,p=function aB(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:Jn);return e}(h,d),v="function"==typeof c?c():c;return p[Dt]={type:t,blueprint:p,template:e,queries:null,viewQuery:a,declTNode:n,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}let _A=()=>null;function MA(t,n,e,r,s){for(let i in n){if(!n.hasOwnProperty(i))continue;const o=n[i];if(void 0===o)continue;r??={};let a,l=Da.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=i;if(null!==s){if(!s.hasOwnProperty(i))continue;c=s[i]}0===t?HA(r,e,c,a,l):HA(r,e,c,a)}return r}function HA(t,n,e,r,s){let i;t.hasOwnProperty(e)?(i=t[e]).push(n,r):i=t[e]=[n,r],void 0!==s&&i.push(s)}function Lo(t,n,e,r,s,i,o,a){const l=Qi(n,e);let u,c=n.inputs;!a&&null!=c&&(u=c[r])?(sw(t,e,u,r,s),Ic(n)&&function vB(t,n){const e=zo(n,t);16&e[Hn]||(e[Hn]|=64)}(e,n.index)):3&n.type&&(r=function gB(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),s=null!=o?o(s,n.value||"",r):s,i.setProperty(l,r,s))}function ew(t,n,e,r){if(iv()){const s=null===r?null:{"":-1},i=function AB(t,n){const e=t.directiveRegistry;let r=null,s=null;if(e)for(let i=0;i<e.length;i++){const o=e[i];if(U2(n,o.selectors,!1))if(r||(r=[]),pa(o))if(null!==o.findHostDirectiveDefs){const a=[];s=s||new Map,o.findHostDirectiveDefs(o,a,s),r.unshift(...a,o),tw(t,n,a.length)}else r.unshift(o),tw(t,n,0);else s=s||new Map,o.findHostDirectiveDefs?.(o,r,s),r.push(o)}return null===r?null:[r,s]}(t,e);let o,a;null===i?o=a=null:[o,a]=i,null!==o&&zA(t,n,e,o,s,a),s&&function bB(t,n,e){if(n){const r=t.localNames=[];for(let s=0;s<n.length;s+=2){const i=e[n[s+1]];if(null==i)throw new Xe(-301,!1);r.push(n[s],i)}}}(e,r,s)}e.mergedAttrs=vc(e.mergedAttrs,e.attrs)}function zA(t,n,e,r,s,i){for(let c=0;c<r.length;c++)Bf(dd(e,n),t,r[c].type);!function SB(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Rd(t,n,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];e.mergedAttrs=vc(e.mergedAttrs,u.hostAttrs),_B(t,e,n,l,u),xB(l,u,s),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function fB(t,n,e){const s=n.directiveEnd,i=t.data,o=n.attrs,a=[];let l=null,c=null;for(let u=n.directiveStart;u<s;u++){const h=i[u],d=e?e.get(h):null,v=d?d.outputs:null;l=MA(0,h.inputs,u,l,d?d.inputs:null),c=MA(1,h.outputs,u,c,v);const b=null===l||null===o||I1(n)?null:zB(l,u,o);a.push(b)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}(t,e,i)}function VA(t,n,e){const r=e.directiveStart,s=e.directiveEnd,i=e.index,o=function Iy(){return Gn.lFrame.currentDirectiveIndex}();try{xc(i);for(let a=r;a<s;a++){const l=t.data[a],c=n[a];Sf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&IB(l,c)}}finally{xc(-1),Sf(o)}}function IB(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function tw(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function xB(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;pa(n)&&(e[""]=t)}}function _B(t,n,e,r,s){t.data[r]=s;const i=s.factory||(s.factory=kl(s.type)),o=new eh(i,pa(s),jt);t.blueprint[r]=o,e[r]=o,function wB(t,n,e,r,s){const i=s.hostBindings;if(i){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~n.index;(function CB(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,r,i)}}(t,n,r,Rd(t,e,s.hostVars,Jn),s)}function HB(t,n,e,r,s,i){const o=i[n];if(null!==o)for(let a=0;a<o.length;)bA(r,e,o[a++],o[a++],o[a++],o[a++])}function zB(t,n,e){let r=null,s=0;for(;s<e.length;){const i=e[s];if(0!==i)if(5!==i){if("number"==typeof i)break;if(t.hasOwnProperty(i)){null===r&&(r=[]);const o=t[i];for(let a=0;a<o.length;a+=3)if(o[a]===n){r.push(i,o[a+1],o[a+2],e[s+1]);break}}s+=2}else s+=2;else s+=4}return r}function TA(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function EA(t,n){const e=t.contentQueries;if(null!==e){const r=ne(null);try{for(let s=0;s<e.length;s+=2){const o=e[s+1];if(-1!==o){const a=t.data[o];ad(e[s]),a.contentQueries(2,n[o],o)}}}finally{ne(r)}}}function Cg(t,n){return t[jo]?t[zr][Zo]=n:t[jo]=n,t[zr]=n,n}function rw(t,n,e){ad(0);const r=ne(null);try{n(t,e)}finally{ne(r)}}function LA(t){return t[Or]??=[]}function RA(t){return t.cleanup??=[]}function yg(t,n){const e=t[In],r=e?e.get(Oa,null):null;r&&r.handleError(n)}function sw(t,n,e,r,s){for(let i=0;i<e.length;){const o=e[i++],a=e[i++],l=e[i++];bA(t.data[o],n[o],r,a,l,s)}}function VB(t,n){const e=zo(n,t),r=e[Dt];!function TB(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const s=e[Ms];null!==s&&null===e[Rt]&&(e[Rt]=rg(s,e[In])),iw(r,e,e[pn])}function iw(t,n,e){Hf(n);try{const r=t.viewQuery;null!==r&&rw(1,r,e);const s=t.template;null!==s&&xA(t,n,s,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[cl]?.finishViewCreation(t),t.staticContentQueries&&EA(t,n),t.staticViewQueries&&rw(2,t.viewQuery,e);const i=t.components;null!==i&&function EB(t,n){for(let e=0;e<n.length;e++)VB(t,n[e])}(n,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[Hn]&=-5,zf()}}function Ch(t,n,e,r){const s=ne(null);try{const i=n.tView,l=wg(t,i,e,4096&t[Hn]?4096:16,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[yc]=t[n.index];const u=t[cl];return null!==u&&(l[cl]=u.createEmbeddedView(i)),iw(i,l,e),l}finally{ne(s)}}function W1(t,n){return!n||null===n.firstChild||oh(t)}function yh(t,n,e,r=!0){const s=n[Dt];if(function JD(t,n,e,r){const s=$s+r,i=e.length;r>0&&(e[s-1][Zo]=n),r<i-$s?(n[Zo]=e[s],Ol(e,$s+r,n)):(e.push(n),n[Zo]=null),n[ni]=e;const o=n[yc];null!==o&&e!==o&&cA(o,n);const a=n[cl];null!==a&&a.insertView(t),yf(n),n[Hn]|=128}(s,n,t,e),r){const o=$m(e,t),a=n[je],l=jm(a,t[Na]);null!==l&&function YD(t,n,e,r,s,i){r[Ms]=s,r[ds]=n,mg(t,r,e,1,s,i)}(s,t[ds],a,n,l,o)}const i=n[Rt];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function Dd(t,n,e,r,s=!1){for(;null!==e;){if(128===e.type){e=s?e.projectionNext:e.next;continue}const i=n[e.index];null!==i&&r.push(Vr(i)),ji(i)&&NA(i,r);const o=e.type;if(8&o)Dd(t,n,e.child,r);else if(32&o){const a=Pm(e,n);let l;for(;l=a();)r.push(l)}else if(16&o){const a=mA(n,e);if(Array.isArray(a))r.push(...a);else{const l=hl(n[Hs]);Dd(l[Dt],l,a,r,!0)}}e=s?e.projectionNext:e.next}return r}function NA(t,n){for(let e=$s;e<t.length;e++){const r=t[e],s=r[Dt].firstChild;null!==s&&Dd(r[Dt],r,s,n)}t[Na]!==t[Ms]&&n.push(t[Na])}let FA=[];const BB={...Me,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{sd(t.lView)},consumerOnSignalRead(){this.lView[Uo]=this}},FB={...Me,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=hl(t.lView);for(;n&&!PA(n[Dt]);)n=hl(n);n&&nv(n)},consumerOnSignalRead(){this.lView[Uo]=this}};function PA(t){return 2!==t.type}const PB=100;function Ig(t,n=!0,e=0){const r=t[vt],s=r.rendererFactory;s.begin?.();try{!function kB(t,n){const e=cv();try{uv(!0),aw(t,n);let r=0;for(;rd(t);){if(r===PB)throw new Xe(103,!1);r++,aw(t,1)}}finally{uv(e)}}(t,e)}catch(o){throw n&&yg(t,o),o}finally{s.end?.(),r.inlineEffectRunner?.flush()}}function OB(t,n,e,r){const s=n[Hn];if(!(256&~s))return;n[vt].inlineEffectRunner?.flush(),Hf(n);let a=!0,l=null,c=null;PA(t)?(c=function LB(t){return t[Uo]??function RB(t){const n=FA.pop()??Object.create(BB);return n.lView=t,n}(t)}(n),l=oe(c)):null===function H(){return ve}()?(a=!1,c=function NB(t){const n=t[Uo]??Object.create(FB);return n.lView=t,n}(n),l=oe(c)):n[Uo]&&(ae(n[Uo]),n[Uo]=null);try{tv(n),function hv(t){return Gn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&xA(t,n,e,2,r);const u=!(3&~s);if(u){const p=t.preOrderCheckHooks;null!==p&&cd(n,p,null)}else{const p=t.preOrderHooks;null!==p&&ud(n,p,0,null),Vf(n,0)}if(function GB(t){for(let n=nm(t);null!==n;n=rm(n)){if(!(n[Hn]&td.HasTransplantedViews))continue;const e=n[z1];for(let r=0;r<e.length;r++)nv(e[r])}}(n),OA(n,0),null!==t.contentQueries&&EA(t,n),u){const p=t.contentCheckHooks;null!==p&&cd(n,p)}else{const p=t.contentHooks;null!==p&&ud(n,p,1),Vf(n,1)}!function oB(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)xc(~s);else{const i=s,o=e[++r],a=e[++r];yy(o,i),a(2,n[i])}}}finally{xc(-1)}}(t,n);const h=t.components;null!==h&&WA(n,h,0);const d=t.viewQuery;if(null!==d&&rw(2,d,r),u){const p=t.viewCheckHooks;null!==p&&cd(n,p)}else{const p=t.viewHooks;null!==p&&ud(n,p,2),Vf(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Q2]){for(const p of n[Q2])p();n[Q2]=null}n[Hn]&=-73}catch(u){throw sd(n),u}finally{null!==c&&(X(c,l),a&&function DB(t){t.lView[Uo]!==t&&(t.lView=null,FA.push(t))}(c)),zf()}}function OA(t,n){for(let e=nm(t);null!==e;e=rm(e))for(let r=$s;r<e.length;r++)GA(e[r],n)}function WB(t,n,e){GA(zo(n,t),e)}function GA(t,n){Cf(t)&&aw(t,n)}function aw(t,n){const r=t[Dt],s=t[Hn],i=t[Uo];let o=!!(0===n&&16&s);if(o||=!!(64&s&&0===n),o||=!!(1024&s),o||=!(!i?.dirty||!D(i)),o||=!1,i&&(i.dirty=!1),t[Hn]&=-9217,o)OB(r,t,r.template,t[pn]);else if(8192&s){OA(t,1);const a=r.components;null!==a&&WA(t,a,1)}}function WA(t,n,e){for(let r=0;r<n.length;r++)WB(t,n[r],e)}function Bd(t,n){const e=cv()?64:1088;for(t[vt].changeDetectionScheduler?.notify(n);t;){t[Hn]|=e;const r=hl(t);if(Yu(t)&&!r)return t;t=r}return null}class Nd{get rootNodes(){const n=this._lView,e=n[Dt];return Dd(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(n){this._lView[pn]=n}get destroyed(){return!(256&~this._lView[Hn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[ni];if(ji(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(Ed(n,r),Ge(e,r))}this._attachedToViewContainer=!1}gg(this._lView[Dt],this._lView)}onDestroy(n){id(this._lView,n)}markForCheck(){Bd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Hn]&=-129}reattach(){yf(this._lView),this._lView[Hn]|=128}detectChanges(){this._lView[Hn]|=1024,Ig(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Yu(this._lView),e=this._lView[yc];null!==e&&!n&&Gm(e,this._lView),lA(this._lView[Dt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Xe(902,!1);this._appRef=n;const e=Yu(this._lView),r=this._lView[yc];null!==r&&!e&&cA(r,this._lView),yf(this._lView)}}let Yl=(()=>{class t{static{this.__NG_ELEMENT_ID__=UB}}return t})();const ZB=Yl,jB=class extends ZB{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){const s=Ch(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new Nd(s)}};function UB(){return Ag($r(),dt())}function Ag(t,n){return 4&t.type?new jB(n,t,L1(t,n)):null}let ub=()=>null;function j1(t,n){return ub(t,n)}class Ah{}const jd=new kt("",{providedIn:"root",factory:()=>!1}),hb=new kt(""),ww=new kt("");class FN{}class db{}class kN{resolveComponentFactory(n){throw function PN(t){const n=Error(`No component factory found for ${Us(t)}.`);return n.ngComponent=t,n}(n)}}class Hg{static{this.NULL=new kN}}class Cw{}let Lc=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function ON(){const t=dt(),e=zo($r().index,t);return(pi(e)?e:t)[je]}()}}return t})(),GN=(()=>{class t{static{this.\u0275prov=Zt({token:t,providedIn:"root",factory:()=>null})}}return t})();function Vg(t,n,e){let r=e?t.styles:null,s=e?t.classes:null,i=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?i=a:1==i?s=Mu(s,a):2==i&&(r=Mu(r,a+": "+n[++o]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=s:t.classesWithoutHost=s}class vb extends Hg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=xn(n);return new Xd(e,this.ngModule)}}function mb(t,n){const e=[];for(const r in t){if(!t.hasOwnProperty(r))continue;const s=t[r];if(void 0===s)continue;const i=Array.isArray(s),o=i?s[0]:s;e.push(n?{propName:o,templateName:r,isSignal:!!((i?s[1]:Da.None)&Da.SignalBased)}:{propName:o,templateName:r})}return e}class Xd extends db{get inputs(){const n=this.componentDef,e=n.inputTransforms,r=mb(n.inputs,!0);if(null!==e)for(const s of r)e.hasOwnProperty(s.propName)&&(s.transform=e[s.propName]);return r}get outputs(){return mb(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function sf(t){return t.map(rf).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,s){const i=ne(null);try{let o=(s=s||this.ngModule)instanceof Wo?s:s?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new Sc(n,o):n,l=a.get(Cw,null);if(null===l)throw new Xe(407,!1);const h={rendererFactory:l,sanitizer:a.get(GN,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(Ah,null)},d=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",v=r?function lB(t,n,e,r){const i=r.get(Am,!1)||e===Li.ShadowDom,o=t.selectRootElement(n,i);return function cB(t){_A(t)}(o),o}(d,r,this.componentDef.encapsulation,a):fg(d,p,function jN(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(p));let b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let M=null;null!==v&&(M=rg(v,a,!0));const z=Qm(0,null,null,1,0,null,null,null,null,null,null),B=wg(null,z,null,b,null,null,h,d,a,null,M);Hf(B);let pe,fe,we=null;try{const ee=this.componentDef;let Ie,De=null;ee.findHostDirectiveDefs?(Ie=[],De=new Map,ee.findHostDirectiveDefs(ee,Ie,De),Ie.push(ee)):Ie=[ee];const nt=function $N(t,n){const e=t[Dt],r=Cn;return t[r]=n,G1(e,r,2,"#host",null)}(B,v);we=function XN(t,n,e,r,s,i,o){const a=s[Dt];!function YN(t,n,e,r){for(const s of t)n.mergedAttrs=vc(n.mergedAttrs,s.hostAttrs);null!==n.mergedAttrs&&(Vg(n,n.mergedAttrs,!0),null!==e&&IA(r,e,n))}(r,t,n,o);let l=null;null!==n&&(l=rg(n,s[In]));const c=i.rendererFactory.createRenderer(n,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const h=wg(s,SA(e),null,u,s[t.index],t,i,c,null,null,l);return a.firstCreatePass&&tw(a,t,r.length-1),Cg(s,h),s[t.index]=h}(nt,v,ee,Ie,B,h,d),fe=Ju(z,Cn),v&&function JN(t,n,e,r){if(r)C1(t,e,["ng-version","18.2.13"]);else{const{attrs:s,classes:i}=function af(t){const n=[],e=[];let r=1,s=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===s?""!==i&&n.push(i,t[++r]):8===s&&e.push(i);else{if(!uo(s))break;s=i}r++}return{attrs:n,classes:e}}(n.selectors[0]);s&&C1(t,e,s),i&&i.length>0&&yA(t,e,i.join(" "))}}(d,ee,v,r),void 0!==e&&function qN(t,n,e){const r=t.projection=[];for(let s=0;s<n.length;s++){const i=e[s];r.push(null!=i?Array.from(i):null)}}(fe,this.ngContentSelectors,e),pe=function KN(t,n,e,r,s,i){const o=$r(),a=s[Dt],l=Qi(o,s);zA(a,s,o,e,null,r);for(let u=0;u<e.length;u++)Ui(_c(s,a,o.directiveStart+u,o),s);VA(a,s,o),l&&Ui(l,s);const c=_c(s,a,o.directiveStart+o.componentOffset,o);if(t[pn]=s[pn]=c,null!==i)for(const u of i)u(c,n);return Km(a,o,s),c}(we,ee,Ie,De,B,[QN]),iw(z,B,null)}catch(ee){throw null!==we&&Xf(we),Xf(B),ee}finally{zf()}return new UN(this.componentType,pe,L1(fe,B),B,fe)}finally{ne(i)}}}class UN extends FN{constructor(n,e,r,s,i){super(),this.location=r,this._rootLView=s,this._tNode=i,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Nd(s,void 0,!1),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let s;if(null!==r&&(s=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const i=this._rootLView;sw(i[Dt],i,s,n,e),this.previousInputValues.set(n,e),Bd(zo(this._tNode.index,i),1)}}get injector(){return new fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function QN(){const t=$r();ld(dt()[Dt],t)}let bl=(()=>{class t{static{this.__NG_ELEMENT_ID__=eF}}return t})();function eF(){return yb($r(),dt())}const tF=bl,wb=class extends tF{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return L1(this._hostTNode,this._hostLView)}get injector(){return new fi(this._hostTNode,this._hostLView)}get parentInjector(){const n=pd(this._hostTNode,this._hostLView);if(Lf(n)){const e=nh(n,this._hostLView),r=th(n);return new fi(e[Dt].data[r+8],e)}return new fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=Cb(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-$s}createEmbeddedView(n,e,r){let s,i;"number"==typeof r?s=r:null!=r&&(s=r.index,i=r.injector);const o=j1(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},i,o);return this.insertImpl(a,s,W1(this._hostTNode,o)),a}createComponent(n,e,r,s,i){const o=n&&!function $u(t){return"function"==typeof t}(n);let a;if(o)a=e;else{const v=e||{};a=v.index,r=v.injector,s=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef}const l=o?n:new Xd(xn(n)),c=r||this.parentInjector;if(!i&&null==l.ngModule){const b=(o?c:this.parentInjector).get(Wo,null);b&&(i=b)}const u=xn(l.componentType??{}),h=j1(this._lContainer,u?.id??null),p=l.create(c,s,h?.firstChild??null,i);return this.insertImpl(p.hostView,a,W1(this._hostTNode,h)),p}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){const s=n._lView;if(function uy(t){return ji(t[ni])}(s)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const l=s[ni],c=new wb(l,l[ds],l[ni]);c.detach(c.indexOf(n))}}const i=this._adjustIndex(e),o=this._lContainer;return yh(o,s,i,r),n.attachToViewContainerRef(),Ol(Aw(o),i,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=Cb(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=Ed(this._lContainer,e);r&&(Ge(Aw(this._lContainer),e),gg(r[Dt],r))}detach(n){const e=this._adjustIndex(n,-1),r=Ed(this._lContainer,e);return r&&null!=Ge(Aw(this._lContainer),e)?new Nd(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function Cb(t){return t[8]}function Aw(t){return t[8]||(t[8]=[])}function yb(t,n){let e;const r=n[t.index];return ji(r)?e=r:(e=TA(r,n,null,t),n[t.index]=e,Cg(n,e)),Ib(e,n,t,r),new wb(e,t,n)}let Ib=function bb(t,n,e,r){if(t[Na])return;let s;s=8&e.type?Vr(r):function nF(t,n){const e=t[je],r=e.createComment(""),s=Qi(n,t);return k1(e,jm(e,s),r,function eB(t,n){return t.nextSibling(n)}(e,s),!1),r}(n,e),t[Na]=s},bw=()=>!1;class xw{constructor(n){this.queryList=n,this.matches=null}clone(){return new xw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sw{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,s=[];for(let i=0;i<r;i++){const o=e.getByIndex(i);s.push(this.queries[o.indexInDeclarationView].clone())}return new Sw(s)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==Vw(n,e).matches&&this.queries[e].setDirty()}}class xb{constructor(n,e,r=null){this.flags=e,this.read=r,this.predicate="string"==typeof n?function uF(t){return t.split(",").map(n=>n.trim())}(n):n}}class _w{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const s=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(n,s);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new _w(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Mw{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Mw(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const i=r[s];this.matchTNodeWithReadOption(n,e,oF(e,i)),this.matchTNodeWithReadOption(n,e,fd(e,n,i,!1,!1))}else r===Yl?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,fd(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===Xo||s===bl||s===Yl&&4&e.type)this.addMatch(e.index,-2);else{const i=fd(e,n,s,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function oF(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function lF(t,n,e,r){return-1===e?function aF(t,n){return 11&t.type?L1(t,n):4&t.type?Ag(t,n):null}(n,t):-2===e?function cF(t,n,e){return e===Xo?L1(n,t):e===Yl?Ag(n,t):e===bl?yb(n,t):void 0}(t,n,r):_c(t,t[Dt],e,n)}function Sb(t,n,e,r){const s=n[cl].queries[r];if(null===s.matches){const i=t.data,o=e.matches,a=[];for(let l=0;null!==o&&l<o.length;l+=2){const c=o[l];a.push(c<0?null:lF(n,i[c],o[l+1],e.metadata.read))}s.matches=a}return s.matches}function Hw(t,n,e,r){const s=t.queries.getByIndex(e),i=s.matches;if(null!==i){const o=Sb(t,n,s,e);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)r.push(o[a/2]);else{const c=i[a+1],u=n[-l];for(let h=$s;h<u.length;h++){const d=u[h];d[yc]===d[ni]&&Hw(d[Dt],d,c,r)}if(null!==u[z1]){const h=u[z1];for(let d=0;d<h.length;d++){const p=h[d];Hw(p[Dt],p,c,r)}}}}}return r}function Mb(t,n,e){const r=or();return r.firstCreatePass&&(function zb(t,n,e){null===t.queries&&(t.queries=new _w),t.queries.track(new Mw(n,e))}(r,new xb(t,n,e),-1),!(2&~n)&&(r.staticViewQueries=!0)),function _b(t,n,e){const r=new jf(!(4&~e));return function dB(t,n,e,r){const s=LA(n);s.push(e),t.firstCreatePass&&RA(t).push(r,s.length-1)}(t,n,r,r.destroy),(n[cl]??=new Sw).queries.push(new xw(r))-1}(r,dt(),n)}function Vw(t,n){return t.queries.getByIndex(n)}function Vb(t,n){const e=t[Dt],r=Vw(e,n);return r.crossesNgTemplate?Hw(e,t,n,[]):Sb(e,t,r,n)}const Tb=new Set;function fo(t){Tb.has(t)||(Tb.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function bh(t,n){fo("NgSignals");const e=function $(t){const n=Object.create(Wt);n.value=t;const e=()=>(he(n),n.value);return e[Se]=n,e}(t),r=e[Se];return n?.equal&&(r.equal=n.equal),e.set=s=>ht(r,s),e.update=s=>function Ye(t,n){se()||xt(),ht(t,n(t.value))}(r,s),e.asReadonly=Lb.bind(e),e}function Lb(){const t=this[Se];if(void 0===t.readonlyFn){const n=()=>this();n[Se]=t,t.readonlyFn=n}return t.readonlyFn}function Rb(t){return function Eb(t){return"function"==typeof t&&void 0!==t[Se]}(t)&&"function"==typeof t.set}function rs(t){let n=function jb(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let s;if(pa(t))s=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Xe(903,!1);s=n.\u0275dir}if(s){if(e){r.push(s);const o=t;o.inputs=Eg(t.inputs),o.inputTransforms=Eg(t.inputTransforms),o.declaredInputs=Eg(t.declaredInputs),o.outputs=Eg(t.outputs);const a=s.hostBindings;a&&SF(t,a);const l=s.viewQuery,c=s.contentQueries;if(l&&bF(t,l),c&&xF(t,c),IF(t,s),Tp(t.outputs,s.outputs),pa(s)&&s.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(s.data.animation)}}const i=s.features;if(i)for(let o=0;o<i.length;o++){const a=i[o];a&&a.ngInherit&&a(t),a===rs&&(e=!1)}}n=Object.getPrototypeOf(n)}!function AF(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const s=t[r];s.hostVars=n+=s.hostVars,s.hostAttrs=vc(s.hostAttrs,e=vc(e,s.hostAttrs))}}(r)}function IF(t,n){for(const e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;const r=n.inputs[e];if(void 0!==r&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e],null!==n.inputTransforms)){const s=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(s))continue;t.inputTransforms??={},t.inputTransforms[s]=n.inputTransforms[s]}}}function Eg(t){return t===Oo?{}:t===mr?[]:t}function bF(t,n){const e=t.viewQuery;t.viewQuery=e?(r,s)=>{n(r,s),e(r,s)}:n}function xF(t,n){const e=t.contentQueries;t.contentQueries=e?(r,s,i)=>{n(r,s,i),e(r,s,i)}:n}function SF(t,n){const e=t.hostBindings;t.hostBindings=e?(r,s)=>{n(r,s),e(r,s)}:n}class $1{}class EF{}class Lw extends $1{constructor(n,e,r,s=!0){super(),this.ngModuleType=n,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vb(this);const i=function Mi(t,n){const e=t[ku]||null;if(!e&&!0===n)throw new Error(`Type ${Us(t)} does not have '\u0275mod' property.`);return e}(n);this._bootstrapComponents=function si(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=ho(n,e,[{provide:$1,useValue:this},{provide:Hg,useValue:this.componentFactoryResolver},...r],Us(n),new Set(["environment"])),s&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Rw extends EF{constructor(n){super(),this.moduleType=n}create(n){return new Lw(this.moduleType,n,[])}}class Kb extends $1{constructor(n){super(),this.componentFactoryResolver=new vb(this),this.instance=null;const e=new x1([...n.providers,{provide:$1,useValue:this},{provide:Hg,useValue:this.componentFactoryResolver}],n.parent||J2(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Lg(t){return!!Dw(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Dw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xl(t,n,e){return t[n]=e}function ii(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Jd(t,n,e,r,s,i,o,a,l,c){const u=e+Cn,h=n.firstCreatePass?function PF(t,n,e,r,s,i,o,a,l){const c=n.consts,u=G1(n,t,4,o||null,a||null);ew(n,e,u,$o(c,l)),ld(n,u);const h=u.tView=Qm(2,u,r,s,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return null!==n.queries&&(n.queries.template(n,u),h.queries=n.queries.embeddedTView(u)),u}(u,n,t,r,s,i,o,a,l):n.data[u];fa(h,!1);const d=qb(n,t,h,e);Qu()&&vg(n,t,d,h),Ui(d,t);const p=TA(d,t,d,h);return t[u]=p,Cg(t,p),function Ab(t,n,e){return bw(t,n,e)}(p,h,t),nd(h)&&Jm(n,t,h),null!=l&&qm(t,h,c),h}function vi(t,n,e,r,s,i,o,a){const l=dt(),c=or();return Jd(l,c,t,n,e,r,s,$o(c.consts,i),o,a),vi}let qb=function Qb(t,n,e,r){return Pa(!0),n[je].createComment("")};var Mh=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Mh||{});let ix=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Zt({token:t,providedIn:"root",factory:()=>new t})}}return t})();class e0{constructor(){this.ngZone=ke(Xr),this.scheduler=ke(Ah),this.errorHandler=ke(Oa,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Mh.EarlyRead,Mh.Write,Mh.MixedReadWrite,Mh.Read]}execute(){this.executing=!0;for(const n of e0.PHASES)for(const e of this.sequences)if(!e.erroredOrDestroyed&&e.hooks[n])try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[n](e.pipelinedValue))}catch(r){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=Zt({token:e0,providedIn:"root",factory:()=>new e0})}}function kg(t,n){return t<<17|n<<2}function Bc(t){return t>>17&32767}function $w(t){return 2|t}function K1(t){return(131068&t)>>2}function Xw(t,n){return-131069&t|n<<2}function Yw(t){return 1|t}function Lx(t,n,e,r){const s=t[e+1],i=null===n;let o=r?Bc(s):K1(s),a=!1;for(;0!==o&&(!1===a||i);){const c=t[o+1];MP(t[o],n)&&(a=!0,t[o+1]=r?Yw(c):$w(c)),o=r?Bc(c):K1(c)}a&&(t[e+1]=r?$w(s):Yw(s))}function MP(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Gl(t,n)>=0}const zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Rx(t){return t.substring(zi.key,zi.keyEnd)}function Dx(t,n){const e=zi.textEnd;return e===n?-1:(n=zi.keyEnd=function TP(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,zi.key=n,e),Gh(t,n,e))}function Gh(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function It(t,n,e){const r=dt();return ii(r,ga(),n)&&Lo(or(),ps(),r,t,n,r[je],e,!1),It}function Kw(t,n,e,r,s){const o=s?"class":"style";sw(t,e,n.inputs[o],o,r)}function Jw(t,n,e){return Wa(t,n,e,!1),Jw}function Og(t,n){return Wa(t,n,null,!0),Og}function kx(t){!function Za(t,n,e,r){const s=or(),i=pl(2);s.firstUpdatePass&&Gx(s,null,i,r);const o=dt();if(e!==Jn&&ii(o,i,e)){const a=s.data[Di()];if(Ux(a,r)&&!Ox(s,i)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Mu(l,e||"")),Kw(s,a,o,e,r)}else!function OP(t,n,e,r,s,i,o,a){s===Jn&&(s=mr);let l=0,c=0,u=0<s.length?s[0]:null,h=0<i.length?i[0]:null;for(;null!==u||null!==h;){const d=l<s.length?s[l+1]:void 0,p=c<i.length?i[c+1]:void 0;let b,v=null;u===h?(l+=2,c+=2,d!==p&&(v=h,b=p)):null===h||null!==u&&u<h?(l+=2,v=u):(c+=2,v=h,b=p),null!==v&&Zx(t,n,e,r,v,b,o,a),u=l<s.length?s[l]:null,h=c<i.length?i[c]:null}}(s,a,o,o[je],o[i+1],o[i+1]=function PP(t,n,e){if(null==e||""===e)return mr;const r=[],s=$l(e);if(Array.isArray(s))for(let i=0;i<s.length;i++)t(r,s[i],!0);else if("object"==typeof s)for(const i in s)s.hasOwnProperty(i)&&t(r,i,s[i]);else"string"==typeof s&&n(r,s);return r}(t,n,e),r,i)}}(kP,_l,t,!0)}function _l(t,n){for(let e=function zP(t){return function Nx(t){zi.key=0,zi.keyEnd=0,zi.value=0,zi.valueEnd=0,zi.textEnd=t.length}(t),Dx(t,Gh(t,0,zi.textEnd))}(n);e>=0;e=Dx(n,e))Nt(t,Rx(n),!0)}function Wa(t,n,e,r){const s=dt(),i=or(),o=pl(2);i.firstUpdatePass&&Gx(i,t,o,r),n!==Jn&&ii(s,o,n)&&Zx(i,i.data[Di()],s,s[je],t,s[o+1]=function GP(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Us($l(t)))),t}(n,e),r,o)}function Ox(t,n){return n>=t.expandoStartIndex}function Gx(t,n,e,r){const s=t.data;if(null===s[e+1]){const i=s[Di()],o=Ox(t,e);Ux(i,r)&&null===n&&!o&&(n=!1),n=function DP(t,n,e,r){const s=function _f(t){const n=Gn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=r?n.residualClasses:n.residualStyles;if(null===s)0===(r?n.classBindings:n.styleBindings)&&(e=n0(e=qw(null,t,n,e,r),n.attrs,r),i=null);else{const o=n.directiveStylingLast;if(-1===o||t[o]!==s)if(e=qw(s,t,n,e,r),null===i){let l=function BP(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==K1(r))return t[Bc(r)]}(t,n,r);void 0!==l&&Array.isArray(l)&&(l=qw(null,t,n,l[1],r),l=n0(l,n.attrs,r),function NP(t,n,e,r){t[Bc(e?n.classBindings:n.styleBindings)]=r}(t,n,r,l))}else i=function FP(t,n,e){let r;const s=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<s;i++)r=n0(r,t[i].hostAttrs,e);return n0(r,n.attrs,e)}(t,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),e}(s,i,n,r),function SP(t,n,e,r,s,i){let o=i?n.classBindings:n.styleBindings,a=Bc(o),l=K1(o);t[r]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||Gl(e,u)>0)&&(c=!0)):u=e,s)if(0!==l){const d=Bc(t[a+1]);t[r+1]=kg(d,a),0!==d&&(t[d+1]=Xw(t[d+1],r)),t[a+1]=function bP(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=kg(a,0),0!==a&&(t[a+1]=Xw(t[a+1],r)),a=r;else t[r+1]=kg(l,0),0===a?a=r:t[l+1]=Xw(t[l+1],r),l=r;c&&(t[r+1]=$w(t[r+1])),Lx(t,u,r,!0),Lx(t,u,r,!1),function _P(t,n,e,r,s){const i=s?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&Gl(i,n)>=0&&(e[r+1]=Yw(e[r+1]))}(n,u,t,r,i),o=kg(a,l),i?n.classBindings=o:n.styleBindings=o}(s,i,n,e,o,r)}}function qw(t,n,e,r,s){let i=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(i=n[a],r=n0(r,i.hostAttrs,s),i!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function n0(t,n,e){const r=e?1:2;let s=-1;if(null!==n)for(let i=0;i<n.length;i++){const o=n[i];"number"==typeof o?s=o:s===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Nt(t,o,!!e||n[++i]))}return void 0===t?null:t}function kP(t,n,e){const r=String(n);""!==r&&!r.includes(" ")&&Nt(t,r,e)}function Zx(t,n,e,r,s,i,o,a){if(!(3&n.type))return;const l=t.data,c=l[a+1],u=function xP(t){return!(1&~t)}(c)?jx(l,n,e,s,K1(c),o):void 0;Gg(u)||(Gg(i)||function AP(t){return!(2&~t)}(c)&&(i=jx(l,null,e,s,a,o)),function rB(t,n,e,r,s){if(n)s?t.addClass(e,r):t.removeClass(e,r);else{let i=-1===r.indexOf("-")?void 0:Ec.DashCase;null==s?t.removeStyle(e,r,i):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),i|=Ec.Important),t.setStyle(e,r,s,i))}}(r,o,Ku(Di(),e),s,i))}function jx(t,n,e,r,s,i){const o=null===n;let a;for(;s>0;){const l=t[s],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let d=e[s+1];d===Jn&&(d=h?mr:void 0);let p=h?Uu(d,r):u===r?d:void 0;if(c&&!Gg(p)&&(p=Uu(l,r)),Gg(p)&&(a=p,o))return a;const v=t[s+1];s=o?Bc(v):K1(v)}if(null!==n){let l=i?n.residualClasses:n.residualStyles;null!=l&&(a=Uu(l,r))}return a}function Gg(t){return void 0!==t}function Ux(t,n){return!!(t.flags&(n?8:16))}function Tt(t,n,e,r){const s=dt(),i=or(),o=Cn+t,a=s[je],l=i.firstCreatePass?function dk(t,n,e,r,s,i){const o=n.consts,l=G1(n,t,2,r,$o(o,s));return ew(n,e,l,$o(o,i)),null!==l.attrs&&Vg(l,l.attrs,!1),null!==l.mergedAttrs&&Vg(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(o,i,s,n,e,r):i.data[o],c=Kx(i,s,l,a,n,t);s[o]=c;const u=nd(l);return fa(l,!0),IA(a,c,l),!function Sh(t){return!(32&~t.flags)}(l)&&Qu()&&vg(i,s,c,l),0===function hy(){return Gn.lFrame.elementDepthCount}()&&Ui(c,s),function dy(){Gn.lFrame.elementDepthCount++}(),u&&(Jm(i,s,l),Km(i,l,s)),null!==r&&qm(s,l),Tt}function zt(){let t=$r();bf()?xf():(t=t.parent,fa(t,!1));const n=t;(function fy(t){return Gn.skipHydrationRootTNode===t})(n)&&function wy(){Gn.skipHydrationRootTNode=null}(),function py(){Gn.lFrame.elementDepthCount--}();const e=or();return e.firstCreatePass&&(ld(e,t),ff(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ey(t){return!!(8&t.flags)}(n)&&Kw(e,n,dt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ly(t){return!!(16&t.flags)}(n)&&Kw(e,n,dt(),n.stylesWithoutHost,!1),zt}function Wh(t,n,e,r){return Tt(t,n,e,r),zt(),Wh}let Kx=(t,n,e,r,s,i)=>(Pa(!0),fg(r,s,function wv(){return Gn.lFrame.currentNamespace}()));function Zg(t,n,e){const r=dt(),s=or(),i=t+Cn,o=s.firstCreatePass?function gk(t,n,e,r,s){const i=n.consts,o=$o(i,r),a=G1(n,t,8,"ng-container",o);return null!==o&&Vg(a,o,!0),ew(n,e,a,$o(i,s)),null!==n.queries&&n.queries.elementStart(n,a),a}(i,s,r,n,e):s.data[i];fa(o,!0);const a=Jx(s,r,o,t);return r[i]=a,Qu()&&vg(s,r,a,o),Ui(a,r),nd(o)&&(Jm(s,r,o),Km(s,o,r)),null!=e&&qm(r,o),Zg}function jg(){let t=$r();const n=or();return bf()?xf():(t=t.parent,fa(t,!1)),n.firstCreatePass&&(ld(n,t),ff(t)&&n.queries.elementEnd(t)),jg}function Ug(t,n,e){return Zg(t,n,e),jg(),Ug}let Jx=(t,n,e,r)=>(Pa(!0),Om(n[je],""));function wr(){return dt()}const $g="en-US";let nS=$g,yS=(t,n,e)=>{};function Gt(t,n,e,r){const s=dt(),i=or(),o=$r();return s6(i,s,s[je],o,t,n,r),Gt}function s6(t,n,e,r,s,i,o){const a=nd(r),c=t.firstCreatePass&&RA(t),u=n[pn],h=LA(n);let d=!0;if(3&r.type||o){const b=Qi(r,n),M=o?o(b):b,z=h.length,B=o?fe=>o(Vr(fe[r.index])):r.index;let pe=null;if(!o&&a&&(pe=function lO(t,n,e,r){const s=t.cleanup;if(null!=s)for(let i=0;i<s.length-1;i+=2){const o=s[i];if(o===e&&s[i+1]===r){const a=n[Or],l=s[i+2];return a.length>l?a[l]:null}"string"==typeof o&&(i+=2)}return null}(t,n,s,r.index)),null!==pe)(pe.__ngLastListenerFn__||pe).__ngNextListenerFn__=i,pe.__ngLastListenerFn__=i,d=!1;else{i=xS(r,n,u,i),yS(b,s,i);const fe=e.listen(M,s,i);h.push(i,fe),c&&c.push(s,B,z,z+1)}}else i=xS(r,n,u,i);const p=r.outputs;let v;if(d&&null!==p&&(v=p[s])){const b=v.length;if(b)for(let M=0;M<b;M+=2){const we=n[v[M]][v[M+1]].subscribe(i),ee=h.length;h.push(i,we),c&&c.push(s,r.index,ee,-(ee+1))}}}function bS(t,n,e,r){const s=ne(null);try{return Fa(6,n,e),!1!==e(r)}catch(i){return yg(t,i),!1}finally{Fa(7,n,e),ne(s)}}function xS(t,n,e,r){return function s(i){if(i===Function)return r;Bd(t.componentOffset>-1?zo(t.index,n):n,5);let a=bS(n,e,r,i),l=s.__ngNextListenerFn__;for(;l;)a=bS(n,e,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function At(t=1){return function by(t){return(Gn.lFrame.contextLView=function rv(t,n){for(;t>0;)n=n[Zi],t--;return n}(t,Gn.lFrame.contextLView))[pn]}(t)}function cO(t,n){let e=null;const r=function Qp(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let s=0;s<n.length;s++){const i=n[s];if("*"!==i){if(null===r?U2(t,i,!0):nf(r,i))return s}else e=s}return e}function i6(t){const n=dt()[Hs][ds];if(!n.projection){const r=n.projection=function f1(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}(t?t.length:1,null),s=r.slice();let i=n.child;for(;null!==i;){if(128!==i.type){const o=t?cO(i,t):0;null!==o&&(s[o]?s[o].projectionNext=i:r[o]=i,s[o]=i)}i=i.next}}}function o6(t,n=0,e,r,s,i){const o=dt(),a=or(),l=r?t+1:null;null!==l&&Jd(o,a,l,r,s,i,null,e);const c=G1(a,Cn+t,16,null,e||null);null===c.projection&&(c.projection=n),xf();const h=!o[Rt]||bc();null===o[Hs][ds].projection[c.projection]&&null!==l?function uO(t,n,e){const r=Cn+e,s=n.data[r],i=t[r],o=j1(i,s.tView.ssrId);yh(i,Ch(t,s,void 0,{dehydratedView:o}),0,W1(s,o))}(o,a,l):h&&32&~c.flags&&function tB(t,n,e){CA(n[je],0,n,e,Zm(t,e,n),pA(e.parent||n[ds],e,n))}(a,o,c)}function c0(t,n,e){Mb(t,n,e)}function u0(t){const n=dt(),e=or(),r=Mf();ad(r+1);const s=Vw(e,r);if(t.dirty&&function cy(t){return!(4&~t[Hn])}(n)===!(2&~s.metadata.flags)){if(null===s.matches)t.reset([]);else{const i=Vb(n,r);t.reset(i,Uv),t.notifyOnChanges()}return!0}return!1}function h0(){return function zw(t,n){return t[cl].queries[n].queryList}(dt(),Mf())}function Nc(t){return Ac(function av(){return Gn.lFrame.contextLView}(),Cn+t)}function vo(t,n=""){const e=dt(),r=or(),s=t+Cn,i=r.firstCreatePass?G1(r,s,1,n,null):r.data[s],o=WS(r,e,i,n,t);e[s]=o,Qu()&&vg(r,e,o,i),fa(i,!1)}let WS=(t,n,e,r,s)=>(Pa(!0),function km(t,n){return t.createText(n)}(n[je],r));function c6(t){return Fc("",t,""),c6}function Fc(t,n,e){const r=dt(),s=function Rh(t,n,e,r){return ii(t,ga(),e)?n+jn(e)+r:Jn}(r,t,n,e);return s!==Jn&&function Xl(t,n,e){const r=Ku(n,t);!function aA(t,n,e){t.setValue(n,e)}(t[je],r,e)}(r,Di(),s),Fc}function os(t,n,e){Rb(n)&&(n=n());const r=dt();return ii(r,ga(),n)&&Lo(or(),ps(),r,t,n,r[je],e,!1),os}function gs(t,n){const e=Rb(t);return e&&t.set(n),e}function as(t,n){const e=dt(),r=or(),s=$r();return s6(r,e,e[je],s,t,n),as}function u6(t,n,e,r,s){if(t=En(t),Array.isArray(t))for(let i=0;i<t.length;i++)u6(t[i],n,e,r,s);else{const i=or(),o=dt(),a=$r();let l=Kt(t)?t:En(t.provide);const c=k3(t),u=1048575&a.providerIndexes,h=a.directiveStart,d=a.providerIndexes>>20;if(Kt(t)||!t.multi){const p=new eh(c,s,jt),v=d6(l,n,s?u:u+d,h);-1===v?(Bf(dd(a,o),i,l),h6(i,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),e.push(p),o.push(p)):(e[v]=p,o[v]=p)}else{const p=d6(l,n,u+d,h),v=d6(l,n,u,u+d),M=v>=0&&e[v];if(s&&!M||!s&&!(p>=0&&e[p])){Bf(dd(a,o),i,l);const z=function TO(t,n,e,r,s){const i=new eh(t,e,jt);return i.multi=[],i.index=n,i.componentProviders=0,e_(i,s,r&&!e),i}(s?VO:zO,e.length,s,r,c);!s&&M&&(e[v].providerFactory=z),h6(i,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),e.push(z),o.push(z)}else h6(i,t,p>-1?p:v,e_(e[s?v:p],c,!s&&r));!s&&r&&M&&e[v].componentProviders++}}}function h6(t,n,e,r){const s=Kt(n),i=function Br(t){return!!t.useClass}(n);if(s||i){const l=(i?En(n.useClass):n).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!s&&n.multi){const u=c.indexOf(e);-1===u?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function e_(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function d6(t,n,e,r){for(let s=e;s<r;s++)if(n[s]===t)return s;return-1}function zO(t,n,e,r){return p6(this.multi,[])}function VO(t,n,e,r){const s=this.multi;let i;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=_c(e,e[Dt],this.providerFactory.index,r);i=a.slice(0,o),p6(s,i);for(let l=o;l<a.length;l++)i.push(a[l])}else i=[],p6(s,i);return i}function p6(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Ls(t,n=[]){return e=>{e.providersResolver=(r,s)=>function HO(t,n,e){const r=or();if(r.firstCreatePass){const s=pa(t);u6(e,r.data,r.blueprint,s,!0),u6(n,r.data,r.blueprint,s,!1)}}(r,s?s(t):t,n)}}let EO=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const r=Cc(0,e.type),s=r.length>0?function Jb(t,n,e=null){return new Kb({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,s)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Zt({token:t,providedIn:"environment",factory:()=>new t(Ke(Wo))})}}return t})();function f6(t){fo("NgStandalone"),t.getStandaloneInjector=n=>n.get(EO).getOrCreateStandaloneInjector(t)}function Do(t,n,e){const r=eo()+t,s=dt();return s[r]===Jn?xl(s,r,e?n.call(e):n()):function Kd(t,n){return t[n]}(s,r)}function Qg(t,n,e,r){return r_(dt(),eo(),t,n,e,r)}function g6(t,n,e,r,s){return function s_(t,n,e,r,s,i,o){const a=n+e;return function X1(t,n,e,r){const s=ii(t,n,e);return ii(t,n+1,r)||s}(t,a,s,i)?xl(t,a+2,o?r.call(o,s,i):r(s,i)):d0(t,a+2)}(dt(),eo(),t,n,e,r,s)}function d0(t,n){const e=t[n];return e===Jn?void 0:e}function r_(t,n,e,r,s,i){const o=n+e;return ii(t,o,s)?xl(t,o+1,i?r.call(i,s):r(s)):d0(t,o+1)}function c_(t,n,e){const r=t+Cn,s=dt(),i=Ac(s,r);return function p0(t,n){return t[Dt].data[n].pure}(s,r)?r_(s,eo(),n,i.transform,e,i):i.transform(e)}function Pc(t,n){return Ag(t,n)}const z_=new kt(""),r4=new kt("");let b6,I6=(()=>{class t{constructor(e,r,s){this._ngZone=e,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,b6||(function OG(t){b6=t}(s),s.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,s){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==i),e()},r)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:s})}whenStable(e,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,s),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,s){return[]}static{this.\u0275fac=function(r){return new(r||t)(Ke(Xr),Ke(A6),Ke(r4))}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})(),A6=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return b6?.findTestabilityInTree(this,e,r)??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function s4(t){return!!t&&"function"==typeof t.then}function V_(t){return!!t&&"function"==typeof t.subscribe}const T_=new kt("");let E_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=ke(T_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const s of this.appInits){const i=s();if(s4(i))e.push(i);else if(V_(i)){const o=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});e.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(s=>{this.reject(s)}),0===e.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const x6=new kt("");function R_(t,n){return Array.isArray(n)?n.reduce(R_,t):{...t,...n}}let Jl=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ke(iI),this.afterRenderManager=ke(ix),this.zonelessEnabled=ke(jd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Qr,this.afterTick=new Qr,this.componentTypes=[],this.components=[],this.isStable=ke(jl).hasPendingTasks.pipe(ie(e=>!e)),this._injector=ke(Wo)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,r){const s=e instanceof db;if(!this._injector.get(E_).done)throw!s&&function qi(t){const n=xn(t)||Ps(t)||hi(t);return null!==n&&n.standalone}(e),new Xe(405,!1);let o;o=s?e:this._injector.get(Hg).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function GG(t){return t.isBoundToModule}(o)?void 0:this._injector.get($1),c=o.create(kn.NULL,[],r||o.selector,a),u=c.location.nativeElement,h=c.injector.get(z_,null);return h?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),i4(this.components,c),h?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Xe(101,!1);const e=ne(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ne(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(Cw,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:s,notifyErrorHandler:i}of this._views)jG(s,i,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else e?.begin?.(),e?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:e})=>rd(e))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;i4(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(x6,[]);[...this._bootstrapListeners,...r].forEach(s=>s(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>i4(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Xe(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function i4(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function jG(t,n,e,r){(e||rd(t))&&Ig(t,n,e&&!r?0:1)}let YG=(()=>{class t{constructor(){this.zone=ke(Xr),this.changeDetectionScheduler=ke(Ah),this.applicationRef=ke(Jl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function S6({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new Xr({..._6(),scheduleInRootZone:e}),[{provide:Xr,useFactory:t},{provide:Mo,multi:!0,useFactory:()=>{const r=ke(YG,{optional:!0});return()=>r.initialize()}},{provide:Mo,multi:!0,useFactory:()=>{const r=ke(JG);return()=>{r.initialize()}}},!0===n?{provide:hb,useValue:!0}:[],{provide:ww,useValue:e??Fv}]}function _6(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let JG=(()=>{class t{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=ke(Xr),this.pendingTasks=ke(jl)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Xr.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Xr.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),v0=(()=>{class t{constructor(){this.appRef=ke(Jl),this.taskService=ke(jl),this.ngZone=ke(Xr),this.zonelessEnabled=ke(jd),this.disableScheduling=ke(hb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Fe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(wd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ke(ww,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Zf||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;switch(e){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?kv:Pv;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const kc=new kt("",{providedIn:"root",factory:()=>ke(kc,lr.Optional|lr.SkipSelf)||function qG(){return typeof $localize<"u"&&$localize.locale||$g}()}),a4=new kt("");function l4(t){return!t.moduleRef}let O_=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const s=r?.scheduleInRootZone,o=r?.ignoreChangesOutsideZone,a=[S6({ngZoneFactory:()=>function sI(t="zone.js",n){return"noop"===t?new Zf:"zone.js"===t?new Xr(n):t}(r?.ngZone,{..._6({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}),scheduleInRootZone:s}),ignoreChangesOutsideZone:o}),{provide:Ah,useExisting:v0}],l=function RF(t,n,e){return new Lw(t,n,e,!1)}(e.moduleType,this.injector,a);return function k_(t){const n=l4(t)?t.r3Injector:t.moduleRef.injector,e=n.get(Xr);return e.run(()=>{l4(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const r=n.get(Oa,null);let s;if(e.runOutsideAngular(()=>{s=e.onError.subscribe({next:i=>{r.handleError(i)}})}),l4(t)){const i=()=>n.destroy(),o=t.platformInjector.get(a4);o.add(i),n.onDestroy(()=>{s.unsubscribe(),o.delete(i)})}else{const i=()=>t.moduleRef.destroy(),o=t.platformInjector.get(a4);o.add(i),t.moduleRef.onDestroy(()=>{i4(t.allPlatformModules,t.moduleRef),s.unsubscribe(),o.delete(i)})}return function ZG(t,n,e){try{const r=e();return s4(r)?r.catch(s=>{throw n.runOutsideAngular(()=>t.handleError(s)),s}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(r,e,()=>{const i=n.get(E_);return i.runInitializers(),i.donePromise.then(()=>{if(function xk(t){"string"==typeof t&&(nS=t.toLowerCase().replace(/_/g,"-"))}(n.get(kc,$g)||$g),l4(t)){const a=n.get(Jl);return void 0!==t.rootComponent&&a.bootstrap(t.rootComponent),a}return function sW(t,n){const e=t.injector.get(Jl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Xe(-403,!1);t.instance.ngDoBootstrap(e)}n.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,r=[]){const s=R_({},r);return function XG(t,n,e){const r=new Rw(e);return Promise.resolve(r)}(0,0,e).then(i=>this.bootstrapModuleFactory(i,s))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(a4,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||t)(Ke(kn))}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Oc=null;const G_=new kt("");function W_(t,n,e=[]){const r=`Platform: ${n}`,s=new kt(r);return(i=[])=>{let o=H6();if(!o||o.injector.get(G_,!1)){const a=[...e,...i,{provide:s,useValue:!0}];t?t(a):function iW(t){if(Oc&&!Oc.get(G_,!1))throw new Xe(400,!1);(function L_(){!function L(t){Pt=t}(()=>{throw new Xe(600,!1)})})(),Oc=t;const n=t.get(O_);(function j_(t){t.get(dm,null)?.forEach(e=>e())})(t)}(function Z_(t=[],n){return kn.create({name:n,providers:[{provide:da,useValue:"platform"},{provide:a4,useValue:new Set([()=>Oc=null])},...t]})}(a,r))}return function oW(){const n=H6();if(!n)throw new Xe(401,!1);return n}()}}function H6(){return Oc?.get(O_)??null}let z6=(()=>{class t{static{this.__NG_ELEMENT_ID__=lW}}return t})();function lW(t){return function cW(t,n,e){if(Ic(t)&&!e){const r=zo(t.index,n);return new Nd(r,r)}return 175&t.type?new Nd(n[Hs],n):null}($r(),dt(),!(16&~t))}class K_{constructor(){}supports(n){return Lg(n)}create(n){return new fW(n)}}const pW=(t,n)=>n;class fW{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||pW}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,s=0,i=null;for(;e||r;){const o=!r||e&&e.currentIndex<q_(r,s,i)?e:r,a=q_(o,s,i),l=o.currentIndex;if(o===r)s--,r=r._nextRemoved;else if(e=e._next,null==o.previousIndex)s++;else{i||(i=[]);const c=a-s,u=l-s;if(c!=u){for(let d=0;d<c;d++){const p=d<i.length?i[d]:i[d]=0,v=p+d;u<=v&&v<c&&(i[d]=p+1)}i[o.previousIndex]=u-c}}a!==l&&n(o,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Lg(n))throw new Xe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s,i,o,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],o=this._trackByFn(a,i),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,i,o,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,o,a),r=!0),e=e._next}else s=0,function NF(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{o=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,a,o,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,s),r=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,s){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,i,s)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,i,s)):n=this._addAfter(new gW(e,r),i,s),n}_verifyReinsertion(n,e,r,s){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,s):n.currentIndex!=s&&(n.currentIndex=s,this._addToMoves(n,s)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const s=n._prevRemoved,i=n._nextRemoved;return null===s?this._removalsHead=i:s._nextRemoved=i,null===i?this._removalsTail=s:i._prevRemoved=s,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const s=null===e?this._itHead:e._next;return n._next=s,n._prev=e,null===s?this._itTail=n:s._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new J_),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new J_),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class gW{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vW{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class J_{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new vW,this.map.set(e,r)),r.add(n)}get(n,e){const s=this.map.get(n);return s?s.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function q_(t,n,e){const r=t.previousIndex;if(null===r)return r;let s=0;return e&&r<e.length&&(s=e[r]),r+n+s}class Q_{constructor(){}supports(n){return n instanceof Map||Dw(n)}create(){return new mW}}class mW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Dw(n)))throw new Xe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(s,r);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const s=this._records.get(n);this._maybeAddToChanges(s,e);const i=s._prev,o=s._next;return i&&(i._next=o),o&&(o._prev=i),s._next=null,s._prev=null,s}const r=new wW(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}}class wW{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eM(){return new R6([new K_])}let R6=(()=>{class t{static{this.\u0275prov=Zt({token:t,providedIn:"root",factory:eM})}constructor(e){this.factories=e}static create(e,r){if(null!=r){const s=r.factories.slice();e=e.concat(s)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||eM()),deps:[[t,new Xn,new k2]]}}find(e){const r=this.factories.find(s=>s.supports(e));if(null!=r)return r;throw new Xe(901,!1)}}return t})();function tM(){return new h4([new Q_])}let h4=(()=>{class t{static{this.\u0275prov=Zt({token:t,providedIn:"root",factory:tM})}constructor(e){this.factories=e}static create(e,r){if(r){const s=r.factories.slice();e=e.concat(s)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||tM()),deps:[[t,new Xn,new k2]]}}find(e){const r=this.factories.find(s=>s.supports(e));if(r)return r;throw new Xe(901,!1)}}return t})();const IW=W_(null,"core",[]);let AW=(()=>{class t{constructor(e){}static{this.\u0275fac=function(r){return new(r||t)(Ke(Jl))}}static{this.\u0275mod=Ba({type:t})}static{this.\u0275inj=ua({})}}return t})();function y0(t,n){fo("NgSignals");const e=function Be(t){const n=Object.create(Ct);n.computation=t;const e=()=>{if(j(n),he(n),n.value===ye)throw n.error;return n.value};return e[Se]=n,e}(t);return n?.equal&&(e[Se].equal=n.equal),e}function Ml(t){const n=ne(null);try{return t()}finally{ne(n)}}const eZ=new kt("",{providedIn:"root",factory:()=>ke(tZ)});let tZ=(()=>{class t{static{this.\u0275prov=Zt({token:t,providedIn:"root",factory:()=>new nZ})}}return t})();class nZ{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=ke(jl),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),null===this.taskId){const e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(n){const e=n.creationZone;this.queues.has(e)||this.queues.set(e,new Set);const r=this.queues.get(e);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,e]of this.queues)null===n?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(const e of n)n.delete(e),this.queuedEffectCount--,e.run()}}class rZ{constructor(n,e,r,s,i,o){this.scheduler=n,this.effectFn=e,this.creationZone=r,this.injector=i,this.watcher=function _t(t,n,e){const r=Object.create(sn);e&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=n;const s=l=>{r.cleanupFn=l};return r.ref={notify:()=>ge(r),run:()=>{if(null===r.fn)return;if(function k(){return ce}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!D(r))return;r.hasRun=!0;const l=oe(r);try{r.cleanupFn(),r.cleanupFn=rn,r.fn(s)}finally{X(r,l)}},cleanup:()=>r.cleanupFn(),destroy:()=>function o(l){(function i(l){return null===l.fn&&null===l.schedule})(l)||(ae(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=rn)}(r),[Se]:r},r.ref}(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(e){this.injector.get(Oa,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function xM(t,n){fo("NgSignals"),!n?.injector&&function hf(t){if(!G3())throw new Xe(-203,!1)}();const e=n?.injector??ke(kn),r=!0!==n?.manualCleanup?e.get(rh):null,s=new rZ(e.get(eZ),t,typeof Zone>"u"?null:Zone.current,r,e,n?.allowSignalWrites??!1),i=e.get(z6,null,{optional:!0});return i&&8&i._lView[Hn]?(i._lView[Q2]??=[]).push(s.watcher.notify):s.watcher.notify(),s}let SM=null;function I0(){return SM}class iZ{}const Gc=new kt("");function RM(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[s,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(s.trim()===n)return decodeURIComponent(i)}return null}const $6=/\s+/,DM=[];let BM=(()=>{class t{constructor(e,r){this._ngEl=e,this._renderer=r,this.initialClasses=DM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split($6):DM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split($6):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const s=this.stateMap.get(e);void 0!==s?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],s=e[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split($6).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static{this.\u0275fac=function(r){return new(r||t)(jt(Xo),jt(Lc))}}static{this.\u0275dir=Un({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();class UZ{constructor(n,e,r,s){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let z4=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,s){this._viewContainer=e,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((s,i,o)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new UZ(s.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,o),FM(a,s)}});for(let s=0,i=r.length;s<i;s++){const a=r.get(s).context;a.index=s,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{FM(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(jt(bl),jt(Yl),jt(R6))}}static{this.\u0275dir=Un({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function FM(t,n){t.context.$implicit=n.item}let b0=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new $Z,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){PM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){PM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(jt(bl),jt(Yl))}}static{this.\u0275dir=Un({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class $Z{constructor(){this.$implicit=null,this.ngIf=null}}function PM(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Us(n)}'.`)}let K6=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,s)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,s),get:(e,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}static{this.\u0275fac=function(r){return new(r||t)(jt(bl))}}static{this.\u0275dir=Un({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ul]})}}return t})(),OM=(()=>{class t{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=GM}transform(e,r=GM){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ??=this.differs.find(e).create();const s=this.differ.diff(e),i=r!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(o=>{this.keyValues.push(function gj(t,n){return{key:t,value:n}}(o.key,o.currentValue))})),(s||i)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static{this.\u0275fac=function(r){return new(r||t)(jt(h4,16))}}static{this.\u0275pipe=_i({name:"keyvalue",type:t,pure:!1,standalone:!0})}}return t})();function GM(t,n){const e=t.key,r=n.key;if(e===r)return 0;if(void 0===e)return 1;if(void 0===r)return-1;if(null===e)return 1;if(null===r)return-1;if("string"==typeof e&&"string"==typeof r)return e<r?-1:1;if("number"==typeof e&&"number"==typeof r)return e-r;if("boolean"==typeof e&&"boolean"==typeof r)return e<r?-1:1;const s=String(e),i=String(r);return s==i?0:s<i?-1:1}let Cj=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ba({type:t})}static{this.\u0275inj=ua({})}}return t})();function Q6(t){return"server"===t}class ZM{}class Yj extends iZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class r9 extends Yj{static makeCurrent(){!function sZ(t){SM??=t}(new r9)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Kj(){return _0=_0||document.querySelector("base"),_0?_0.getAttribute("href"):null}();return null==e?null:function Jj(t){return new URL(t,document.baseURI).pathname}(e)}resetBaseElement(){_0=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return RM(document.cookie,n)}}let _0=null,Qj=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})();const s9=new kt("");let tH=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(s=>{s.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,s){return this._findPluginFor(r).addEventListener(e,r,s)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(i=>i.supports(e)),!r)throw new Xe(5101,!1);return this._eventNameToPlugin.set(e,r),r}static{this.\u0275fac=function(r){return new(r||t)(Ke(s9),Ke(Xr))}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})();class nH{constructor(n){this._doc=n}}const i9="ng-app-id";let rH=(()=>{class t{constructor(e,r,s,i={}){this.doc=e,this.appId=r,this.nonce=s,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Q6(i),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(s=>s.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${i9}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(e,r){const s=this.styleRef;if(s.has(e)){const i=s.get(e);return i.usage+=r,i.usage}return s.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const s=this.styleNodesInDOM,i=s?.get(r);if(i?.parentNode===e)return s.delete(r),i.removeAttribute(i9),i;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(i9,this.appId),e.appendChild(o),o}}addStyleToHost(e,r){const s=this.getStyleElement(e,r),i=this.styleRef,o=i.get(r)?.elements;o?o.push(s):i.set(r,{elements:[s],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(Ke(Gc),Ke(D1),Ke(pm,8),Ke(vl))}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})();const o9={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},a9=/%COMP%/g,rU=new kt("",{providedIn:"root",factory:()=>!0});function iH(t,n){return n.map(e=>e.replace(a9,t))}let oH=(()=>{class t{constructor(e,r,s,i,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=i,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Q6(a),this.defaultRenderer=new l9(e,o,l,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Li.ShadowDom&&(r={...r,encapsulation:Li.Emulated});const s=this.getOrCreateRenderer(e,r);return s instanceof lH?s.applyToHost(e):s instanceof c9&&s.applyStyles(),s}getOrCreateRenderer(e,r){const s=this.rendererByCompId;let i=s.get(r.id);if(!i){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Li.Emulated:i=new lH(l,c,r,this.appId,u,o,a,h);break;case Li.ShadowDom:return new aU(l,c,e,r,o,a,this.nonce,h);default:i=new c9(l,c,r,u,o,a,h)}s.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(Ke(tH),Ke(rH),Ke(D1),Ke(rU),Ke(Gc),Ke(vl),Ke(Xr),Ke(pm))}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})();class l9{constructor(n,e,r,s){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(o9[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(aH(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(aH(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new Xe(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,s){if(s){e=s+":"+e;const i=o9[s];i?n.setAttributeNS(i,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const s=o9[r];s?n.removeAttributeNS(s,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,s){s&(Ec.DashCase|Ec.Important)?n.style.setProperty(e,r,s&Ec.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Ec.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){null!=n&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=I0().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function aH(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class aU extends l9{constructor(n,e,r,s,i,o,a,l){super(n,i,o,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=iH(s.id,s.styles);for(const u of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class c9 extends l9{constructor(n,e,r,s,i,o,a,l){super(n,i,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=s,this.styles=l?iH(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class lH extends c9{constructor(n,e,r,s,i,o,a,l){const c=s+"-"+r.id;super(n,e,r,i,o,a,l,c),this.contentAttr=function sU(t){return"_ngcontent-%COMP%".replace(a9,t)}(c),this.hostAttr=function iU(t){return"_nghost-%COMP%".replace(a9,t)}(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let lU=(()=>{class t extends nH{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,s){return e.addEventListener(r,s,!1),()=>this.removeEventListener(e,r,s)}removeEventListener(e,r,s){return e.removeEventListener(r,s)}static{this.\u0275fac=function(r){return new(r||t)(Ke(Gc))}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})();const cH=["alt","control","meta","shift"],cU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let hU=(()=>{class t extends nH{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,s){const i=t.parseEventName(r),o=t.eventCallback(i.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>I0().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const r=e.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const i=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),cH.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=i,0!=r.length||0===i.length)return null;const l={};return l.domEventName=s,l.fullKey=o,l}static matchEventFullKeyCode(e,r){let s=cU[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(s=e.code,i="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),cH.forEach(o=>{o!==s&&(0,uU[o])(e)&&(i+=o+".")}),i+=s,i===r)}static eventCallback(e,r,s){return i=>{t.matchEventFullKeyCode(i,e)&&s.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(r){return new(r||t)(Ke(Gc))}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})();const gU=W_(IW,"browser",[{provide:vl,useValue:"browser"},{provide:dm,useValue:function dU(){r9.makeCurrent()},multi:!0},{provide:Gc,useFactory:function fU(){return function HI(t){Kf=t}(document),document},deps:[]}]),vU=new kt(""),dH=[{provide:r4,useClass:class qj{addToWindow(n){hn.getAngularTestability=(r,s=!0)=>{const i=n.findTestabilityInTree(r,s);if(null==i)throw new Xe(5103,!1);return i},hn.getAllAngularTestabilities=()=>n.getAllTestabilities(),hn.getAllAngularRootElements=()=>n.getAllRootElements(),hn.frameworkStabilizers||(hn.frameworkStabilizers=[]),hn.frameworkStabilizers.push(r=>{const s=hn.getAllAngularTestabilities();let i=s.length;const o=function(){i--,0==i&&r()};s.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?I0().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:z_,useClass:I6,deps:[Xr,A6,r4]},{provide:I6,useClass:I6,deps:[Xr,A6,r4]}],pH=[{provide:da,useValue:"root"},{provide:Oa,useFactory:function pU(){return new Oa},deps:[]},{provide:s9,useClass:lU,multi:!0,deps:[Gc,Xr,vl]},{provide:s9,useClass:hU,multi:!0,deps:[Gc]},oH,rH,tH,{provide:Cw,useExisting:oH},{provide:ZM,useClass:Qj,deps:[]},[]];let mU=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:D1,useValue:e.appId}]}}static{this.\u0275fac=function(r){return new(r||t)(Ke(vU,12))}}static{this.\u0275mod=Ba({type:t})}static{this.\u0275inj=ua({providers:[...pH,...dH],imports:[Cj,AW]})}}return t})();var qo=K(3308);class vH{}class mH{constructor(n=new vH){this.ctx=n}readRecords(n){return Promise.all(n.map(e=>this.readRecord(e)))}writeRecords(n){return Promise.all(n.map(e=>this.writeRecord(e)))}}function R4(t,n){if(Array.isArray(t)&&Array.isArray(n))return t.length===n.length&&t.every((e,r)=>R4(e,n[r]));if(t instanceof Date&&n instanceof Date)return t.getTime()===n.getTime();if(t instanceof URL&&n instanceof URL)return t.toString()===n.toString();if(t instanceof Object&&n instanceof Object){const e=Object.keys(t),r=Object.keys(n);return e.length===r.length&&e.every(s=>R4(t[s],n[s]))}return t===n}const IU=["abstract","constraint","keywords","lineage","onlineResources","spatialExtents","title"];function wH(t){return IU.includes(t)}var Ci=K(7059);function O(...t){return n=>t.reduce((e,r)=>r(e),n)}function zn(t){return n=>t(n)}function Wn(t){return n=>n.map(t)}function Co(t){return n=>n.filter(t)}function Wc(t){return n=>n.length>t?n[t]:null}function Zc(...t){return n=>{for(let e=0;e<t.length;e++){const r=t[e](n);if(null!==r)return r}return null}}function ss(...t){return n=>t.map(e=>e(n))}function eu(t){return n=>(t(n),n)}const li=t=>t;class AU extends Error{constructor(n){super(n)}}function u9(t){let n=null;try{n=(0,Ci.parseXml)(t)}catch(e){throw new AU(e instanceof Error?e.message:e)}return n}function h9(t){function n(r){const s=function xU(t){const n=t.indexOf(":");return n>-1?t.substring(0,n):null}(r);"xmlns"===s||null===s||t.attributes[`xmlns:${s}`]||H0[s]&&(t.attributes[`xmlns:${s}`]=H0[s])}return t.attributes=t.attributes||{},function e(r){n(r.name);for(const i in r.attributes)n(i);B4(r).forEach(e)}(t),new Ci.XmlDocument([t])}function ec(t){const n=t.indexOf(":");return n>-1?t.substring(n+1):t}function CH(t){const n=t.indexOf(":");return n>-1?t.substring(0,n):""}function D4(t){return t.name||""}function d9(t){return t.children.find(n=>n instanceof Ci.XmlElement)}function Ar(t,n=!0){return e=>{const r=ec(t);return e&&Array.isArray(e.children)?e.children.reduce(function s(i,o){return ec(D4(o))===r&&i.push(o),n&&Array.isArray(o.children)?[...i,...o.children.reduce(s,[])]:i},[]):[]}}function nn(t,n=!0){return e=>Ar(t,n)(e)[0]||null}function B4(t){return t&&Array.isArray(t.children)?[...t.children.filter(n=>n instanceof Ci.XmlElement)]:[]}function bU(t){return B4(t)[0]??null}function Yr(...t){return n=>n&&Array.isArray(n.children)?n.children.reduce(function e(r){const s=ec(t[r]);return(i,o)=>ec(D4(o))!==s?i:r===t.length-1?[...i,o]:Array.isArray(o.children)?[...i,...o.children.reduce(e(r+1),[])]:i}(0),[]):[]}function Lr(...t){return n=>{const e=Yr(...t)(n);return e.length?e[0]:null}}function yH(t){return n=>{let e=n.parent;for(;e&&e instanceof Ci.XmlElement;){if(ec(D4(e))===ec(t))return e;e=e.parent}return null}}function Ca(){return t=>{if(!t)return null;const n=Array.isArray(t.children)?t.children.find(e=>"text"===e.type):null;return n?n.text:""}}function zs(t){return n=>n&&n.attributes[t]||null}function M0(t,n=0){const e=a=>a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(t instanceof Ci.XmlDocument)return`<?xml version="1.0" encoding="UTF-8"?>${M0(t.children[0])}`;if(t instanceof Ci.XmlText){const a=t.text;return a&&""!==a.replace(/^\s+|\s+$/g,"")?e(a):""}if(!(t instanceof Ci.XmlElement))return"\x3c!-- unknown --\x3e";const r="    ".repeat(n),s=Array.isArray(t.children)?t.children.map(a=>M0(a,n+1)).filter(a=>""!==a).map((a,l,c)=>l<c.length-1?a.replace(/\n\s*$/g,""):a).join(""):"",i=Object.keys(t.attributes).reduce((a,l)=>a+` ${l}="${e(t.attributes[l])}"`,""),o="    ".repeat(Math.max(0,n-1));return""===s?`\n${r}<${t.name}${i}/>\n${o}`:`\n${r}<${t.name}${i}>${s}</${t.name}>\n${o}`}const H0={gmd:"http://www.isotc211.org/2005/gmd",gco:"http://www.isotc211.org/2005/gco",gfc:"http://www.isotc211.org/2005/gfc",gml:"http://www.opengis.net/gml/3.2",xsi:"http://www.w3.org/2001/XMLSchema-instance",srv:"http://www.isotc211.org/2005/srv",gmx:"http://www.isotc211.org/2005/gmx",gts:"http://www.isotc211.org/2005/gts",gsr:"http://www.isotc211.org/2005/gsr",gmi:"http://www.isotc211.org/2005/gmi",xlink:"http://www.w3.org/1999/xlink",mdb:"http://standards.iso.org/iso/19115/-3/mdb/2.0",mdq:"http://standards.iso.org/iso/19157/-2/mdq/1.0",msr:"http://standards.iso.org/iso/19115/-3/msr/2.0",mrs:"http://standards.iso.org/iso/19115/-3/mrs/1.0",mmi:"http://standards.iso.org/iso/19115/-3/mmi/1.0",mrl:"http://standards.iso.org/iso/19115/-3/mrl/2.0",mdt:"http://standards.iso.org/iso/19115/-3/mdt/2.0",mrd:"http://standards.iso.org/iso/19115/-3/mrd/1.0",mds:"http://standards.iso.org/iso/19115/-3/mds/2.0",mpc:"http://standards.iso.org/iso/19115/-3/mpc/1.0",mcc:"http://standards.iso.org/iso/19115/-3/mcc/1.0",mac:"http://standards.iso.org/iso/19115/-3/mac/2.0",mco:"http://standards.iso.org/iso/19115/-3/mco/1.0",mda:"http://standards.iso.org/iso/19115/-3/mda/1.0",mex:"http://standards.iso.org/iso/19115/-3/mex/1.0",gex:"http://standards.iso.org/iso/19115/-3/gex/1.0",gcx:"http://standards.iso.org/iso/19115/-3/gcx/1.0",mas:"http://standards.iso.org/iso/19115/-3/mas/1.0",mri:"http://standards.iso.org/iso/19115/-3/mri/1.0",cit:"http://standards.iso.org/iso/19115/-3/cit/2.0",cat:"http://standards.iso.org/iso/19115/-3/cat/1.0",lan:"http://standards.iso.org/iso/19115/-3/lan/1.0",mrc:"http://standards.iso.org/iso/19115/-3/mrc/2.0",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",foaf:"http://xmlns.com/foaf/0.1/",xsd:"http://www.w3.org/2001/XMLSchema#",dcat:"http://www.w3.org/ns/dcat#",dct:"http://purl.org/dc/terms/",skos:"http://www.w3.org/2004/02/skos/core#",schema_org:"http://schema.org/",spdx:"https://spdx.org/rdf/terms/#",adms:"http://www.w3.org/ns/adms#",dqv:"http://www.w3.org/ns/dqv#",owl:"http://www.w3.org/2002/07/owl#",vcard:"http://www.w3.org/2006/vcard/ns#",time:"http://www.w3.org/2006/time#",locn:"http://www.w3.org/ns/locn#",mdcat:"https://data.vlaanderen.be/ns/metadata-dcat#"};function wn(t){return()=>new Ci.XmlElement(t,{},[])}function Rr(...t){return()=>{let n=null;for(const e of t)n=n?Gs(e)(n):wn(e)();return n}}function Fn(t,n){return e=>(e.attributes[t]=n,e)}function IH(t){return n=>{if(!n)return null;const e=t(),r=function SU(t){let n=t;for(;n.parent instanceof Ci.XmlElement;)n=n.parent;return n}(e);return n.children.push(r),r.parent=n,e}}function on(...t){return n=>n?(t.filter(e=>e).forEach(e=>IH(e)(n)),n):null}function Gs(t){return n=>{if(!n)return null;const e=wn(t)();return n.children.push(e),e.parent=n,e}}function z0(...t){return n=>{let e=n;for(const r of t)e=Gs(r)(e);return e}}function ya(t){return Zc(nn(t,!1),Gs(t))}function Xs(...t){return n=>{let e=n;for(const r of t)e=ya(r)(e);return e}}function $i(t){return n=>{if(!n)return null;const e=n.children.find(r=>r instanceof Ci.XmlText);return e?e.text=t:n.children.push(new Ci.XmlText(t)),n}}function Ni(t){return n=>{if(!n)return null;const e=ec(t),r=n.children.filter(s=>s instanceof Ci.XmlElement&&ec(D4(s))===e);return r.forEach(s=>s.parent=null),n.children=n.children.filter(s=>-1===r.indexOf(s)),n}}function Ia(t){return n=>{const e=t(n);return e.forEach(r=>r.parent=null),n.children=n.children.filter(r=>r instanceof Ci.XmlElement&&-1===e.indexOf(r)),n}}function p9(t){return/wms/i.test(t)?"wms":/wfs/i.test(t)?"wfs":/wmts/i.test(t)?"wmts":/tms/i.test(t)?"tms":/wps/i.test(t)?"wps":/ogc\W*api\W*features/i.test(t)?"ogcFeatures":/esri/i.test(t)?"esriRest":/DOWNLOAD-1/i.test(t)?"GPFDL":/DB:POSTGIS/i.test(t)?"postgis":/stac\W*items/i.test(t)?"stac":"other"}function bH(t){return/shp|shapefile/i.test(t)?"x-gis/x-shapefile":t||null}const xH=class MU{constructor(n){this.type=n,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},VU=class zU{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};var Xi=K(2058);function SH(){}function _H(t){let e,r,s,n=!1;return function(){const i=Array.prototype.slice.call(arguments);return(!n||this!==s||!(0,Xi.aI)(i,r))&&(n=!0,s=this,r=i,e=t.apply(this,arguments)),e}}function MH(t){for(const n in t)delete t[n]}function HH(t){let n;for(n in t)return!1;return!n}const EU=class TU extends VU{constructor(n){super(),this.eventTarget_=n,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(n,e){if(!n||!e)return;const r=this.listeners_||(this.listeners_={}),s=r[n]||(r[n]=[]);s.includes(e)||s.push(e)}dispatchEvent(n){const e="string"==typeof n,r=e?n:n.type,s=this.listeners_&&this.listeners_[r];if(!s)return;const i=e?new xH(n):n;i.target||(i.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});let l;r in o||(o[r]=0,a[r]=0),++o[r];for(let c=0,u=s.length;c<u;++c)if(l="handleEvent"in s[c]?s[c].handleEvent(i):s[c].call(this,i),!1===l||i.propagationStopped){l=!1;break}if(0==--o[r]){let c=a[r];for(delete a[r];c--;)this.removeEventListener(r,SH);delete o[r]}return l}disposeInternal(){this.listeners_&&MH(this.listeners_)}getListeners(n){return this.listeners_&&this.listeners_[n]||void 0}hasListener(n){return!!this.listeners_&&(n?n in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(n,e){if(!this.listeners_)return;const r=this.listeners_[n];if(!r)return;const s=r.indexOf(e);-1!==s&&(this.pendingRemovals_&&n in this.pendingRemovals_?(r[s]=SH,++this.pendingRemovals_[n]):(r.splice(s,1),0===r.length&&delete this.listeners_[n]))}};function V0(t,n,e,r,s){if(r&&r!==t&&(e=e.bind(r)),s){const o=e;e=function(){t.removeEventListener(n,e),o.apply(this,arguments)}}const i={target:t,type:n,listener:e};return t.addEventListener(n,e),i}function zH(t,n,e,r){return V0(t,n,e,r,!0)}function N4(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),MH(t))}const RU=class F4 extends EU{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent("change")}getRevision(){return this.revision_}onInternal(n,e){if(Array.isArray(n)){const r=n.length,s=new Array(r);for(let i=0;i<r;++i)s[i]=V0(this,n[i],e);return s}return V0(this,n,e)}onceInternal(n,e){let r;if(Array.isArray(n)){const s=n.length;r=new Array(s);for(let i=0;i<s;++i)r[i]=zH(this,n[i],e)}else r=zH(this,n,e);return e.ol_key=r,r}unInternal(n,e){const r=e.ol_key;if(r)!function LU(t){if(Array.isArray(t))for(let n=0,e=t.length;n<e;++n)N4(t[n]);else N4(t)}(r);else if(Array.isArray(n))for(let s=0,i=n.length;s<i;++s)this.removeEventListener(n[s],e);else this.removeEventListener(n,e)}};function ls(){throw new Error("Unimplemented abstract method.")}let DU=0;class VH extends xH{constructor(n,e,r){super(n),this.key=e,this.oldValue=r}}const TH=class NU extends RU{constructor(n){super(),function BU(t){t.ol_uid||(t.ol_uid=String(++DU))}(this),this.values_=null,void 0!==n&&this.setProperties(n)}get(n){let e;return this.values_&&this.values_.hasOwnProperty(n)&&(e=this.values_[n]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(n,e){let r;r=`change:${n}`,this.hasListener(r)&&this.dispatchEvent(new VH(r,n,e)),r="propertychange",this.hasListener(r)&&this.dispatchEvent(new VH(r,n,e))}addChangeListener(n,e){this.addEventListener(`change:${n}`,e)}removeChangeListener(n,e){this.removeEventListener(`change:${n}`,e)}set(n,e,r){const s=this.values_||(this.values_={});if(r)s[n]=e;else{const i=s[n];s[n]=e,i!==e&&this.notify(n,i)}}setProperties(n,e){for(const r in n)this.set(r,n[r],e)}applyProperties(n){n.values_&&Object.assign(this.values_||(this.values_={}),n.values_)}unset(n,e){if(this.values_&&n in this.values_){const r=this.values_[n];delete this.values_[n],HH(this.values_)&&(this.values_=null),e||this.notify(n,r)}}};var FU=K(5940);class g9 extends TH{constructor(n){super(),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),n&&("function"==typeof n.getSimplifiedGeometry?this.setGeometry(n):this.setProperties(n))}clone(){const n=new g9(this.hasProperties()?this.getProperties():null);n.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&n.setGeometry(e.clone());const r=this.getStyle();return r&&n.setStyle(r),n}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(N4(this.geometryChangeKey_),this.geometryChangeKey_=null);const n=this.getGeometry();n&&(this.geometryChangeKey_=V0(n,"change",this.handleGeometryChange_,this)),this.changed()}setGeometry(n){this.set(this.geometryName_,n)}setStyle(n){this.style_=n,this.styleFunction_=n?function PU(t){if("function"==typeof t)return t;let n;return Array.isArray(t)?n=t:((0,FU.v)("function"==typeof t.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),n=[t]),function(){return n}}(n):void 0,this.changed()}setId(n){this.id_=n,this.changed()}setGeometryName(n){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=n,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const v9=g9;function y9(t,n,e,r,s,i,o,a){const l=Math.sin(i),c=Math.cos(i);return t[0]=r*c,t[1]=s*l,t[2]=-r*l,t[3]=s*c,t[4]=o*r*c-a*r*l+n,t[5]=o*s*l+a*s*c+e,t}new Array(6);var Kr=K(3467),Vs=K(6016);function LH(t,n,e,r,s,i){i=i||[];let o=0;for(let a=n;a<e;a+=r){const l=t[a],c=t[a+1];i[o++]=s[0]*l+s[2]*c+s[4],i[o++]=s[1]*l+s[3]*c+s[5]}return i&&i.length!=o&&(i.length=o),i}const RH=[1,0,0,1,0,0],I9=class UU extends TH{constructor(){super(),this.extent_=(0,Kr.S5)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=_H((n,e,r)=>{if(!r)return this.getSimplifiedGeometry(e);const s=this.clone();return s.applyTransform(r),s.getSimplifiedGeometry(e)})}simplifyTransformed(n,e){return this.simplifyTransformedInternal(this.getRevision(),n,e)}clone(){return ls()}closestPointXY(n,e,r,s){return ls()}containsXY(n,e){const r=this.getClosestPoint([n,e]);return r[0]===n&&r[1]===e}getClosestPoint(n,e){return this.closestPointXY(n[0],n[1],e=e||[NaN,NaN],1/0),e}intersectsCoordinate(n){return this.containsXY(n[0],n[1])}computeExtent(n){return ls()}getExtent(n){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,Kr.aZ)(e),this.extentRevision_=this.getRevision()}return(0,Kr.$u)(this.extent_,n)}rotate(n,e){ls()}scale(n,e,r){ls()}simplify(n){return this.getSimplifiedGeometry(n*n)}getSimplifiedGeometry(n){return ls()}getType(){return ls()}applyTransform(n){ls()}intersectsExtent(n){return ls()}translate(n,e){ls()}transform(n,e){const r=(0,Vs.Jt)(n),s="tile-pixels"==r.getUnits()?function(i,o,a){const l=r.getExtent(),c=r.getWorldExtent(),u=(0,Kr.Oq)(c)/(0,Kr.Oq)(l);return y9(RH,c[0],c[3],u,-u,0,0,0),LH(i,0,i.length,a,RH,o),(0,Vs.RG)(r,e)(i,o,a)}:(0,Vs.RG)(r,e);return this.applyTransform(s),this}};function tu(t){let n;return 2==t?n="XY":3==t?n="XYZ":4==t&&(n="XYZM"),n}function DH(t){let n;return"XY"==t?n=2:"XYZ"==t||"XYM"==t?n=3:"XYZM"==t&&(n=4),n}const nu=class $U extends I9{constructor(){super(),this.layout="XY",this.stride=2}computeExtent(n){return(0,Kr.Vy)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)}getCoordinates(){return ls()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(n){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),n<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&n<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(n);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=n,this)}getSimplifiedGeometryInternal(n){return this}getStride(){return this.stride}setFlatCoordinates(n,e){this.stride=DH(n),this.layout=n,this.flatCoordinates=e}setCoordinates(n,e){ls()}setLayout(n,e,r){let s;if(n)s=DH(n);else{for(let i=0;i<r;++i){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}s=e.length,n=tu(s)}this.layout=n,this.stride=s}applyTransform(n){this.flatCoordinates&&(n(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(n,e){const r=this.getFlatCoordinates();if(r){const s=this.getStride();(function WU(t,n,e,r,s,i,o){o=o||[];const a=Math.cos(s),l=Math.sin(s),c=i[0],u=i[1];let h=0;for(let d=n;d<e;d+=r){const p=t[d]-c,v=t[d+1]-u;o[h++]=c+p*a-v*l,o[h++]=u+p*l+v*a;for(let b=d+2;b<d+r;++b)o[h++]=t[b]}o&&o.length!=h&&(o.length=h)})(r,0,r.length,s,n,e,r),this.changed()}}scale(n,e,r){void 0===e&&(e=n),r||(r=(0,Kr.q1)(this.getExtent()));const s=this.getFlatCoordinates();if(s){const i=this.getStride();(function ZU(t,n,e,r,s,i,o,a){a=a||[];const l=o[0],c=o[1];let u=0;for(let h=n;h<e;h+=r){const p=t[h+1]-c;a[u++]=l+s*(t[h]-l),a[u++]=c+i*p;for(let v=h+2;v<h+r;++v)a[u++]=t[v]}a&&a.length!=u&&(a.length=u)})(s,0,s.length,i,n,e,r,s),this.changed()}}translate(n,e){const r=this.getFlatCoordinates();if(r){const s=this.getStride();(function jU(t,n,e,r,s,i,o){o=o||[];let a=0;for(let l=n;l<e;l+=r){o[a++]=t[l]+s,o[a++]=t[l+1]+i;for(let c=l+2;c<l+r;++c)o[a++]=t[c]}o&&o.length!=a&&(o.length=a)})(r,0,r.length,s,n,e,r),this.changed()}}};var Hl=K(9973);function BH(t,n,e,r,s,i,o){const a=t[n],l=t[n+1],c=t[e]-a,u=t[e+1]-l;let h;if(0===c&&0===u)h=n;else{const d=((s-a)*c+(i-l)*u)/(c*c+u*u);if(d>1)h=e;else{if(d>0){for(let p=0;p<r;++p)o[p]=(0,Hl.Cc)(t[n+p],t[e+p],d);return void(o.length=r)}h=n}}for(let d=0;d<r;++d)o[d]=t[h+d];o.length=r}function A9(t,n,e,r,s){let i=t[n],o=t[n+1];for(n+=r;n<e;n+=r){const a=t[n],l=t[n+1],c=(0,Hl.hG)(i,o,a,l);c>s&&(s=c),i=a,o=l}return s}function b9(t,n,e,r,s){for(let i=0,o=e.length;i<o;++i){const a=e[i];s=A9(t,n,a,r,s),n=a}return s}function x9(t,n,e,r,s,i,o,a,l,c,u){if(n==e)return c;let h,d;if(0===s){if(d=(0,Hl.hG)(o,a,t[n],t[n+1]),d<c){for(h=0;h<r;++h)l[h]=t[n+h];return l.length=r,d}return c}u=u||[NaN,NaN];let p=n+r;for(;p<e;)if(BH(t,p-r,p,r,o,a,u),d=(0,Hl.hG)(o,a,u[0],u[1]),d<c){for(c=d,h=0;h<r;++h)l[h]=u[h];l.length=r,p+=r}else p+=r*Math.max((Math.sqrt(d)-Math.sqrt(c))/s|0,1);if(i&&(BH(t,e-r,n,r,o,a,u),d=(0,Hl.hG)(o,a,u[0],u[1]),d<c)){for(c=d,h=0;h<r;++h)l[h]=u[h];l.length=r}return c}function S9(t,n,e,r,s,i,o,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=e.length;h<d;++h){const p=e[h];c=x9(t,n,p,r,s,i,o,a,l,c,u),n=p}return c}function P4(t,n,e,r){for(let s=0,i=e.length;s<i;++s){const o=e[s];for(let a=0;a<r;++a)t[n++]=o[a]}return n}function E0(t,n,e,r,s){s=s||[];let i=0;for(let o=0,a=e.length;o<a;++o){const l=P4(t,n,e[o],r);s[i++]=l,n=l}return s.length=i,s}function NH(t,n,e,r,s){s=s||[];let i=0;for(let o=0,a=e.length;o<a;++o){const l=E0(t,n,e[o],r,s[i]);0===l.length&&(l[0]=n),s[i++]=l,n=l[l.length-1]}return s.length=i,s}function L0(t,n,e,r,s,i,o){const a=(e-n)/r;if(a<3){for(;n<e;n+=r)i[o++]=t[n],i[o++]=t[n+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[n,e-r];let u=0;for(;c.length>0;){const h=c.pop(),d=c.pop();let p=0;const v=t[d],b=t[d+1],M=t[h],z=t[h+1];for(let B=d+r;B<h;B+=r){const we=(0,Hl.Q1)(t[B],t[B+1],v,b,M,z);we>p&&(u=B,p=we)}p>s&&(l[(u-n)/r]=1,d+r<u&&c.push(d,u),u+r<h&&c.push(u,h))}for(let h=0;h<a;++h)l[h]&&(i[o++]=t[n+h*r],i[o++]=t[n+h*r+1]);return o}function _9(t,n,e,r,s,i,o,a){for(let l=0,c=e.length;l<c;++l){const u=e[l];o=L0(t,n,u,r,s,i,o),a.push(o),n=u}return o}function Yh(t,n){return n*Math.round(t/n)}function qU(t,n,e,r,s,i,o){if(n==e)return o;let c,u,a=Yh(t[n],s),l=Yh(t[n+1],s);n+=r,i[o++]=a,i[o++]=l;do{if(c=Yh(t[n],s),u=Yh(t[n+1],s),(n+=r)==e)return i[o++]=c,i[o++]=u,o}while(c==a&&u==l);for(;n<e;){const h=Yh(t[n],s),d=Yh(t[n+1],s);if(n+=r,h==c&&d==u)continue;const p=c-a,v=u-l,b=h-a,M=d-l;p*M==v*b&&(p<0&&b<p||p==b||p>0&&b>p)&&(v<0&&M<v||v==M||v>0&&M>v)?(c=h,u=d):(i[o++]=c,i[o++]=u,a=c,l=u,c=h,u=d)}return i[o++]=c,i[o++]=u,o}function M9(t,n,e,r,s,i,o,a){for(let l=0,c=e.length;l<c;++l){const u=e[l];o=qU(t,n,u,r,s,i,o),a.push(o),n=u}return o}var e$=K(3846);function k4(t,n,e,r,s){s=void 0!==s?s:[];let i=0;for(let o=n;o<e;o+=r)s[i++]=t.slice(o,o+r);return s.length=i,s}function H9(t,n,e,r,s){s=void 0!==s?s:[];let i=0;for(let o=0,a=e.length;o<a;++o){const l=e[o];s[i++]=k4(t,n,l,r,s[i]),n=l}return s.length=i,s}function O4(t,n,e,r,s,i,o){let a,l;const c=(e-n)/r;if(1===c)a=n;else if(2===c)a=n,l=s;else if(0!==c){let u=t[n],h=t[n+1],d=0;const p=[0];for(let M=n+r;M<e;M+=r){const z=t[M],B=t[M+1];d+=Math.sqrt((z-u)*(z-u)+(B-h)*(B-h)),p.push(d),u=z,h=B}const v=s*d,b=(0,Xi.El)(p,v);b<0?(l=(v-p[-b-2])/(p[-b-1]-p[-b-2]),a=n+(-b-2)*r):a=n+b*r}o=o>1?o:2,i=i||new Array(o);for(let u=0;u<o;++u)i[u]=void 0===a?NaN:void 0===l?t[a+u]:(0,Hl.Cc)(t[a+u],t[a+r+u],l);return i}function z9(t,n,e,r,s,i){if(e==n)return null;let o;if(s<t[n+r-1])return i?(o=t.slice(n,n+r),o[r-1]=s,o):null;if(t[e-1]<s)return i?(o=t.slice(e-r,e),o[r-1]=s,o):null;if(s==t[n+r-1])return t.slice(n,n+r);let a=n/r,l=e/r;for(;a<l;){const d=a+l>>1;s<t[(d+1)*r-1]?l=d:a=d+1}const c=t[a*r-1];if(s==c)return t.slice((a-1)*r,(a-1)*r+r);const h=(s-c)/(t[(a+1)*r-1]-c);o=[];for(let d=0;d<r-1;++d)o.push((0,Hl.Cc)(t[(a-1)*r+d],t[a*r+d],h));return o.push(s),o}var G4=K(9542);class W4 extends nu{constructor(n,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(n[0])?this.setCoordinates(n,e):this.setFlatCoordinates(e,n)}appendCoordinate(n){(0,Xi.X$)(this.flatCoordinates,n),this.changed()}clone(){const n=new W4(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n}closestPointXY(n,e,r,s){return s<(0,Kr.Ld)(this.getExtent(),n,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(A9(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),x9(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,n,e,r,s))}forEachSegment(n){return(0,e$.j)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)}getCoordinateAtM(n,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:z9(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,e=void 0!==e&&e)}getCoordinates(){return k4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(n,e){return O4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,e,this.stride)}getLength(){return function FH(t,n,e,r){let s=t[n],i=t[n+1],o=0;for(let a=n+r;a<e;a+=r){const l=t[a],c=t[a+1];o+=Math.sqrt((l-s)*(l-s)+(c-i)*(c-i)),s=l,i=c}return o}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(n){const e=[];return e.length=L0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,e,0),new W4(e,"XY")}getType(){return"LineString"}intersectsExtent(n){return(0,G4.gp)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)}setCoordinates(n,e){this.setLayout(e,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=P4(this.flatCoordinates,0,n,this.stride),this.changed()}}const R0=W4;function PH(t,n,e,r){let s=0,i=t[e-r],o=t[e-r+1];for(;n<e;n+=r){const a=t[n],l=t[n+1];s+=o*a-i*l,i=a,o=l}return s/2}function kH(t,n,e,r){let s=0;for(let i=0,o=e.length;i<o;++i){const a=e[i];s+=PH(t,n,a,r),n=a}return s}class Z4 extends nu{constructor(n,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(n[0])?this.setCoordinates(n,e):this.setFlatCoordinates(e,n)}clone(){return new Z4(this.flatCoordinates.slice(),this.layout)}closestPointXY(n,e,r,s){return s<(0,Kr.Ld)(this.getExtent(),n,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(A9(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),x9(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,n,e,r,s))}getArea(){return PH(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return k4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(n){const e=[];return e.length=L0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,e,0),new Z4(e,"XY")}getType(){return"LinearRing"}intersectsExtent(n){return!1}setCoordinates(n,e){this.setLayout(e,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=P4(this.flatCoordinates,0,n,this.stride),this.changed()}}const V9=Z4;class j4 extends nu{constructor(n,e,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(n[0]))this.setCoordinates(n,e);else if(void 0!==e&&r)this.setFlatCoordinates(e,n),this.ends_=r;else{const s=n,i=[],o=[];for(let l=0,c=s.length;l<c;++l)(0,Xi.X$)(i,s[l].getFlatCoordinates()),o.push(i.length);const a=0===s.length?this.getLayout():s[0].getLayout();this.setFlatCoordinates(a,i),this.ends_=o}}appendLineString(n){(0,Xi.X$)(this.flatCoordinates,n.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const n=new j4(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return n.applyProperties(this),n}closestPointXY(n,e,r,s){return s<(0,Kr.Ld)(this.getExtent(),n,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(b9(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),S9(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,n,e,r,s))}getCoordinateAtM(n,e,r){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:function n$(t,n,e,r,s,i,o){if(o)return z9(t,n,e[e.length-1],r,s,i);let a;if(s<t[r-1])return i?(a=t.slice(0,r),a[r-1]=s,a):null;if(t[t.length-1]<s)return i?(a=t.slice(t.length-r),a[r-1]=s,a):null;for(let l=0,c=e.length;l<c;++l){const u=e[l];if(n!=u){if(s<t[n+r-1])return null;if(s<=t[u-1])return z9(t,n,u,r,s,!1);n=u}}return null}(this.flatCoordinates,0,this.ends_,this.stride,n,e=void 0!==e&&e,r=void 0!==r&&r)}getCoordinates(){return H9(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(n){return n<0||this.ends_.length<=n?null:new R0(this.flatCoordinates.slice(0===n?0:this.ends_[n-1],this.ends_[n]),this.layout)}getLineStrings(){const n=this.flatCoordinates,e=this.ends_,r=this.layout,s=[];let i=0;for(let o=0,a=e.length;o<a;++o){const l=e[o],c=new R0(n.slice(i,l),r);s.push(c),i=l}return s}getFlatMidpoints(){const n=[],e=this.flatCoordinates;let r=0;const s=this.ends_,i=this.stride;for(let o=0,a=s.length;o<a;++o){const l=s[o],c=O4(e,r,l,i,.5);(0,Xi.X$)(n,c),r=l}return n}getSimplifiedGeometryInternal(n){const e=[],r=[];return e.length=_9(this.flatCoordinates,0,this.ends_,this.stride,n,e,0,r),new j4(e,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(n){return(0,G4.fB)(this.flatCoordinates,0,this.ends_,this.stride,n)}setCoordinates(n,e){this.setLayout(e,n,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=E0(this.flatCoordinates,0,n,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()}}const T9=j4;class E9 extends nu{constructor(n,e){super(),this.setCoordinates(n,e)}clone(){const n=new E9(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n}closestPointXY(n,e,r,s){const i=this.flatCoordinates,o=(0,Hl.hG)(n,e,i[0],i[1]);if(o<s){const a=this.stride;for(let l=0;l<a;++l)r[l]=i[l];return r.length=a,o}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(n){return(0,Kr.dP)(this.flatCoordinates,n)}getType(){return"Point"}intersectsExtent(n){return(0,Kr.Rj)(n,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(n,e){this.setLayout(e,n,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function KU(t,n,e){for(let s=0,i=e.length;s<i;++s)t[n++]=e[s];return n}(this.flatCoordinates,0,n),this.changed()}}const D0=E9;class L9 extends nu{constructor(n,e){super(),e&&!Array.isArray(n[0])?this.setFlatCoordinates(e,n):this.setCoordinates(n,e)}appendPoint(n){(0,Xi.X$)(this.flatCoordinates,n.getFlatCoordinates()),this.changed()}clone(){const n=new L9(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n}closestPointXY(n,e,r,s){if(s<(0,Kr.Ld)(this.getExtent(),n,e))return s;const i=this.flatCoordinates,o=this.stride;for(let a=0,l=i.length;a<l;a+=o){const c=(0,Hl.hG)(n,e,i[a],i[a+1]);if(c<s){s=c;for(let u=0;u<o;++u)r[u]=i[a+u];r.length=o}}return s}getCoordinates(){return k4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(n){return n<0||this.flatCoordinates.length/this.stride<=n?null:new D0(this.flatCoordinates.slice(n*this.stride,(n+1)*this.stride),this.layout)}getPoints(){const n=this.flatCoordinates,e=this.layout,r=this.stride,s=[];for(let i=0,o=n.length;i<o;i+=r){const a=new D0(n.slice(i,i+r),e);s.push(a)}return s}getType(){return"MultiPoint"}intersectsExtent(n){const e=this.flatCoordinates,r=this.stride;for(let s=0,i=e.length;s<i;s+=r)if((0,Kr.Rj)(n,e[s],e[s+1]))return!0;return!1}setCoordinates(n,e){this.setLayout(e,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=P4(this.flatCoordinates,0,n,this.stride),this.changed()}}const R9=L9;var D9=K(9749);function B9(t,n,e,r,s,i,o){let a,l,c,u,h,d,p;const v=s[i+1],b=[];for(let B=0,pe=e.length;B<pe;++B){const fe=e[B];for(u=t[fe-r],d=t[fe-r+1],a=n;a<fe;a+=r)h=t[a],p=t[a+1],(v<=d&&p<=v||d<=v&&v<=p)&&(c=(v-d)/(p-d)*(h-u)+u,b.push(c)),u=h,d=p}let M=NaN,z=-1/0;for(b.sort(Xi.V_),u=b[0],a=1,l=b.length;a<l;++a){h=b[a];const B=Math.abs(h-u);B>z&&(c=(u+h)/2,(0,D9.zb)(t,n,e,r,c,v)&&(M=c,z=B)),u=h}return isNaN(M)&&(M=s[i]),o?(o.push(M,v,z),o):[M,v,z]}function OH(t,n,e,r,s){let i=[];for(let o=0,a=e.length;o<a;++o){const l=e[o];i=B9(t,n,l,r,s,2*o,i),n=l[l.length-1]}return i}function s$(t,n,e,r){for(;n<e-r;){for(let s=0;s<r;++s){const i=t[n+s];t[n+s]=t[e-r+s],t[e-r+s]=i}n+=r,e-=r}}function N9(t,n,e,r){let s=0,i=t[e-r],o=t[e-r+1];for(;n<e;n+=r){const a=t[n],l=t[n+1];s+=(a-i)*(l+o),i=a,o=l}return 0===s?void 0:s>0}function F9(t,n,e,r,s){s=void 0!==s&&s;for(let i=0,o=e.length;i<o;++i){const a=e[i],l=N9(t,n,a,r);if(0===i){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;n=a}return!0}function GH(t,n,e,r,s){for(let i=0,o=e.length;i<o;++i){const a=e[i];if(!F9(t,n,a,r,s))return!1;a.length&&(n=a[a.length-1])}return!0}function U4(t,n,e,r,s){s=void 0!==s&&s;for(let i=0,o=e.length;i<o;++i){const a=e[i],l=N9(t,n,a,r);(0===i?s&&l||!s&&!l:s&&!l||!s&&l)&&s$(t,n,a,r),n=a}return n}function P9(t,n,e,r,s){for(let i=0,o=e.length;i<o;++i)n=U4(t,n,e[i],r,s);return n}class ru extends nu{constructor(n,e,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&r?(this.setFlatCoordinates(e,n),this.ends_=r):this.setCoordinates(n,e)}appendLinearRing(n){this.flatCoordinates?(0,Xi.X$)(this.flatCoordinates,n.getFlatCoordinates()):this.flatCoordinates=n.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const n=new ru(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return n.applyProperties(this),n}closestPointXY(n,e,r,s){return s<(0,Kr.Ld)(this.getExtent(),n,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(b9(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),S9(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,n,e,r,s))}containsXY(n,e){return(0,D9.zb)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n,e)}getArea(){return kH(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(n){let e;return void 0!==n?(e=this.getOrientedFlatCoordinates().slice(),U4(e,0,this.ends_,this.stride,n)):e=this.flatCoordinates,H9(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const n=(0,Kr.q1)(this.getExtent());this.flatInteriorPoint_=B9(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new D0(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(n){return n<0||this.ends_.length<=n?null:new V9(this.flatCoordinates.slice(0===n?0:this.ends_[n-1],this.ends_[n]),this.layout)}getLinearRings(){const n=this.layout,e=this.flatCoordinates,r=this.ends_,s=[];let i=0;for(let o=0,a=r.length;o<a;++o){const l=r[o],c=new V9(e.slice(i,l),n);s.push(c),i=l}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const n=this.flatCoordinates;F9(n,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=n:(this.orientedFlatCoordinates_=n.slice(),this.orientedFlatCoordinates_.length=U4(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(n){const e=[],r=[];return e.length=M9(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(n),e,0,r),new ru(e,"XY",r)}getType(){return"Polygon"}intersectsExtent(n){return(0,G4.HT)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n)}setCoordinates(n,e){this.setLayout(e,n,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=E0(this.flatCoordinates,0,n,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()}}const B0=ru;function WH(t,n,e,r){const s=[];let i=(0,Kr.S5)();for(let o=0,a=e.length;o<a;++o){const l=e[o];i=(0,Kr.Vy)(t,n,l[0],r),s.push((i[0]+i[2])/2,(i[1]+i[3])/2),n=l[l.length-1]}return s}class $4 extends nu{constructor(n,e,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(n[0])){const s=n,i=[],o=[];for(let a=0,l=s.length;a<l;++a){const c=s[a],u=i.length,h=c.getEnds();for(let d=0,p=h.length;d<p;++d)h[d]+=u;(0,Xi.X$)(i,c.getFlatCoordinates()),o.push(h)}e=0===s.length?this.getLayout():s[0].getLayout(),n=i,r=o}void 0!==e&&r?(this.setFlatCoordinates(e,n),this.endss_=r):this.setCoordinates(n,e)}appendPolygon(n){let e;if(this.flatCoordinates){const r=this.flatCoordinates.length;(0,Xi.X$)(this.flatCoordinates,n.getFlatCoordinates()),e=n.getEnds().slice();for(let s=0,i=e.length;s<i;++s)e[s]+=r}else this.flatCoordinates=n.getFlatCoordinates().slice(),e=n.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){const n=this.endss_.length,e=new Array(n);for(let s=0;s<n;++s)e[s]=this.endss_[s].slice();const r=new $4(this.flatCoordinates.slice(),this.layout,e);return r.applyProperties(this),r}closestPointXY(n,e,r,s){return s<(0,Kr.Ld)(this.getExtent(),n,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function XU(t,n,e,r,s){for(let i=0,o=e.length;i<o;++i){const a=e[i];s=b9(t,n,a,r,s),n=a[a.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function YU(t,n,e,r,s,i,o,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=e.length;h<d;++h){const p=e[h];c=S9(t,n,p,r,s,i,o,a,l,c,u),n=p[p.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,n,e,r,s))}containsXY(n,e){return(0,D9.Gd)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n,e)}getArea(){return function r$(t,n,e,r){let s=0;for(let i=0,o=e.length;i<o;++i){const a=e[i];s+=kH(t,n,a,r),n=a[a.length-1]}return s}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(n){let e;return void 0!==n?(e=this.getOrientedFlatCoordinates().slice(),P9(e,0,this.endss_,this.stride,n)):e=this.flatCoordinates,function t$(t,n,e,r,s){s=void 0!==s?s:[];let i=0;for(let o=0,a=e.length;o<a;++o){const l=e[o];s[i++]=1===l.length&&l[0]===n?[]:H9(t,n,l,r,s[i]),n=l[l.length-1]}return s.length=i,s}(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const n=WH(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=OH(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new R9(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const n=this.flatCoordinates;GH(n,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=n:(this.orientedFlatCoordinates_=n.slice(),this.orientedFlatCoordinates_.length=P9(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(n){const e=[],r=[];return e.length=function QU(t,n,e,r,s,i,o,a){for(let l=0,c=e.length;l<c;++l){const u=e[l],h=[];o=M9(t,n,u,r,s,i,o,h),a.push(h),n=u[u.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(n),e,0,r),new $4(e,"XY",r)}getPolygon(n){if(n<0||this.endss_.length<=n)return null;let e;if(0===n)e=0;else{const i=this.endss_[n-1];e=i[i.length-1]}const r=this.endss_[n].slice(),s=r[r.length-1];if(0!==e)for(let i=0,o=r.length;i<o;++i)r[i]-=e;return new B0(this.flatCoordinates.slice(e,s),this.layout,r)}getPolygons(){const n=this.layout,e=this.flatCoordinates,r=this.endss_,s=[];let i=0;for(let o=0,a=r.length;o<a;++o){const l=r[o].slice(),c=l[l.length-1];if(0!==i)for(let h=0,d=l.length;h<d;++h)l[h]-=i;const u=new B0(e.slice(i,c),n,l);s.push(u),i=c}return s}getType(){return"MultiPolygon"}intersectsExtent(n){return(0,G4.Wp)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n)}setCoordinates(n,e){this.setLayout(e,n,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=NH(this.flatCoordinates,0,n,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{const s=r[r.length-1];this.flatCoordinates.length=0===s.length?0:s[s.length-1]}this.changed()}}const k9=$4,ZH=[1,0,0,1,0,0];class Kh{constructor(n,e,r,s,i,o){this.id_=o,this.type_=n,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=i,this.stride_=s}get(n){return this.properties_[n]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,Kr.dP)(this.flatCoordinates_):(0,Kr.Vy)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const n=(0,Kr.q1)(this.getExtent());this.flatInteriorPoints_=B9(this.flatCoordinates_,0,this.ends_,2,n,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const n=function i$(t,n){const e=[];let i,r=0,s=0;for(let o=0,a=n.length;o<a;++o){const l=n[o],c=N9(t,r,l,2);if(void 0===i&&(i=c),c===i)e.push(n.slice(s,o+1));else{if(0===e.length)continue;e[e.length-1].push(n[s])}s=o+1,r=l}return e}(this.flatCoordinates_,this.ends_),e=WH(this.flatCoordinates_,0,n,2);this.flatInteriorPoints_=OH(this.flatCoordinates_,0,n,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=O4(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const n=this.flatCoordinates_;let e=0;const r=this.ends_;for(let s=0,i=r.length;s<i;++s){const o=r[s],a=O4(n,e,o,2,.5);(0,Xi.X$)(this.flatMidpoints_,a),e=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(n){return this}simplifyTransformed(n,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(n){const e=(n=(0,Vs.Jt)(n)).getExtent(),r=n.getWorldExtent();if(e&&r){const s=(0,Kr.Oq)(r)/(0,Kr.Oq)(e);y9(ZH,r[0],r[3],s,-s,0,0,0),LH(this.flatCoordinates_,0,this.flatCoordinates_.length,2,ZH,this.flatCoordinates_)}}applyTransform(n){n(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new Kh(this.type_,this.flatCoordinates_.slice(),this.ends_.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=_H((n,e)=>{if(n===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);const r=this.simplifiedGeometry_.getFlatCoordinates();let s;switch(this.type_){case"LineString":r.length=L0(r,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,n,r,0),s=[r.length];break;case"MultiLineString":s=[],r.length=_9(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,n,r,0,s);break;case"Polygon":s=[],r.length=M9(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(n),r,0,s)}return s&&(this.simplifiedGeometry_=new Kh(this.type_,r,s,2,this.properties_,this.id_)),this.squaredTolerance_=n,this.simplifiedGeometry_}),this}}Kh.prototype.getFlatCoordinates=Kh.prototype.getOrientedFlatCoordinates;const jH=Kh;class X4 extends I9{constructor(n){super(),this.geometries_=n||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(N4),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let n=0,e=this.geometries_.length;n<e;++n)this.changeEventsKeys_.push(V0(this.geometries_[n],"change",this.changed,this))}clone(){const n=new X4(null);return n.setGeometries(this.geometries_),n.applyProperties(this),n}closestPointXY(n,e,r,s){if(s<(0,Kr.Ld)(this.getExtent(),n,e))return s;const i=this.geometries_;for(let o=0,a=i.length;o<a;++o)s=i[o].closestPointXY(n,e,r,s);return s}containsXY(n,e){const r=this.geometries_;for(let s=0,i=r.length;s<i;++s)if(r[s].containsXY(n,e))return!0;return!1}computeExtent(n){(0,Kr.aZ)(n);const e=this.geometries_;for(let r=0,s=e.length;r<s;++r)(0,Kr.X$)(n,e[r].getExtent());return n}getGeometries(){return UH(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let n=[];const e=this.geometries_;for(let r=0,s=e.length;r<s;++r)e[r].getType()===this.getType()?n=n.concat(e[r].getGeometriesArrayRecursive()):n.push(e[r]);return n}getSimplifiedGeometry(n){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),n<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&n<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],r=this.geometries_;let s=!1;for(let i=0,o=r.length;i<o;++i){const a=r[i],l=a.getSimplifiedGeometry(n);e.push(l),l!==a&&(s=!0)}if(s){const i=new X4(null);return i.setGeometriesArray(e),i}return this.simplifiedGeometryMaxMinSquaredTolerance=n,this}getType(){return"GeometryCollection"}intersectsExtent(n){const e=this.geometries_;for(let r=0,s=e.length;r<s;++r)if(e[r].intersectsExtent(n))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(n,e){const r=this.geometries_;for(let s=0,i=r.length;s<i;++s)r[s].rotate(n,e);this.changed()}scale(n,e,r){r||(r=(0,Kr.q1)(this.getExtent()));const s=this.geometries_;for(let i=0,o=s.length;i<o;++i)s[i].scale(n,e,r);this.changed()}setGeometries(n){this.setGeometriesArray(UH(n))}setGeometriesArray(n){this.unlistenGeometriesChange_(),this.geometries_=n,this.listenGeometriesChange_(),this.changed()}applyTransform(n){const e=this.geometries_;for(let r=0,s=e.length;r<s;++r)e[r].applyTransform(n);this.changed()}translate(n,e){const r=this.geometries_;for(let s=0,i=r.length;s<i;++s)r[s].translate(n,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function UH(t){const n=[];for(let e=0,r=t.length;e<r;++e)n.push(t[e].clone());return n}const l$=X4,$H=class c${constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=v9,this.supportedMediaTypes=null}getReadOptions(n,e){if(e){let r=e.dataProjection?(0,Vs.Jt)(e.dataProjection):this.readProjection(n);e.extent&&r&&"tile-pixels"===r.getUnits()&&(r=(0,Vs.Jt)(r),r.setWorldExtent(e.extent)),e={dataProjection:r,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(n){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},n)}getType(){return ls()}readFeature(n,e){return ls()}readFeatures(n,e){return ls()}readGeometry(n,e){return ls()}readProjection(n){return ls()}writeFeature(n,e){return ls()}writeFeatures(n,e){return ls()}writeGeometry(n,e){return ls()}};function Jh(t,n,e){const r=e?(0,Vs.Jt)(e.featureProjection):null,s=e?(0,Vs.Jt)(e.dataProjection):null;let i=t;if(r&&s&&!(0,Vs.tI)(r,s)){n&&(i=t.clone());const o=n?r:s,a=n?s:r;"tile-pixels"===o.getUnits()?i.transform(o,a):i.applyTransform((0,Vs.RG)(o,a))}if(n&&e&&void 0!==e.decimals){const o=Math.pow(10,e.decimals),a=function(l){for(let c=0,u=l.length;c<u;++c)l[c]=Math.round(l[c]*o)/o;return l};i===t&&(i=t.clone()),i.applyTransform(a)}return i}function O9(t,n){const e=n?(0,Vs.Jt)(n.featureProjection):null,r=n?(0,Vs.Jt)(n.dataProjection):null;return e&&r&&!(0,Vs.tI)(e,r)?(0,Vs.DI)(t,r,e):t}const u$={Point:D0,LineString:R0,Polygon:B0,MultiPoint:R9,MultiLineString:T9,MultiPolygon:k9};function XH(t,n){const e=t.geometry;if(!e)return[];if(Array.isArray(e))return e.map(i=>XH({...t,geometry:i})).flat();const r="MultiPolygon"===e.type?"Polygon":e.type;if("GeometryCollection"===r||"Circle"===r)throw new Error("Unsupported geometry type: "+r);const s=e.layout.length;return Jh(new jH(r,"Polygon"===r?function h$(t,n,e){return Array.isArray(n[0])?(GH(t,0,n,e)||P9(t=t.slice(),0,n,e),t):(F9(t,0,n,e)||U4(t=t.slice(),0,n,e),t)}(e.flatCoordinates,e.ends,s):e.flatCoordinates,e.ends?.flat(),s,t.properties||{},t.id).enableSimplifyTransformed(),!1,n)}function G9(t,n){if(!t)return null;if(Array.isArray(t)){const r=t.map(s=>G9(s,n));return new l$(r)}return Jh(new(0,u$[t.type])(t.flatCoordinates,t.layout,t.ends),!1,n)}function Ts(t,n){return QH().createElementNS(t,n)}function Y4(t,n){return YH(t,n,[]).join("")}function YH(t,n,e){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e.push(n?String(t.nodeValue).replace(/(\r\n|\r|\n)/g,""):t.nodeValue);else{let r;for(r=t.firstChild;r;r=r.nextSibling)YH(r,n,e)}return e}function K4(t){return"documentElement"in t}function N0(t){return(new DOMParser).parseFromString(t,"application/xml")}function KH(t,n){return function(e,r){const s=t.call(void 0!==n?n:this,e,r);void 0!==s&&(0,Xi.X$)(r[r.length-1],s)}}function sr(t,n){return function(e,r){const s=t.call(void 0!==n?n:this,e,r);void 0!==s&&r[r.length-1].push(s)}}function Bn(t,n){return function(e,r){const s=t.call(void 0!==n?n:this,e,r);void 0!==s&&(r[r.length-1]=s)}}function dn(t,n){return function(e,r,s){t.call(void 0!==n?n:this,e,r,s),s[s.length-1].node.appendChild(e)}}function su(t,n){return function(e,r,s){let a=t;return void 0===a&&(a=s),Ts(void 0!==n?n:r[r.length-1].node.namespaceURI,a)}}const JH=su();function qh(t,n,e,r){let s;for(s=n.firstElementChild;s;s=s.nextElementSibling){const i=t[s.namespaceURI];if(void 0!==i){const o=i[s.localName];void 0!==o&&o.call(r,s,e)}}}function Es(t,n,e,r,s){return r.push(t),qh(n,e,r,s),r.pop()}function yo(t,n,e,r,s,i,o){return s.push(t),function qH(t,n,e,r,s,i){const o=(void 0!==s?s:e).length;let a,l;for(let c=0;c<o;++c)a=e[c],void 0!==a&&(l=n.call(void 0!==i?i:this,a,r,void 0!==s?s[c]:void 0),void 0!==l&&t[l.namespaceURI][l.localName].call(i,l,a,r))}(n,e,r,s,i,o),s.pop()}let J4,q4;function QH(){return void 0===q4&&typeof document<"u"&&(q4=document.implementation.createDocument("","",null)),q4}const v$=class g$ extends $H{constructor(){super(),this.xmlSerializer_=function f$(){return void 0===J4&&typeof XMLSerializer<"u"&&(J4=new XMLSerializer),J4}()}getType(){return"xml"}readFeature(n,e){if(!n)return null;if("string"==typeof n){const r=N0(n);return this.readFeatureFromDocument(r,e)}return K4(n)?this.readFeatureFromDocument(n,e):this.readFeatureFromNode(n,e)}readFeatureFromDocument(n,e){const r=this.readFeaturesFromDocument(n,e);return r.length>0?r[0]:null}readFeatureFromNode(n,e){return null}readFeatures(n,e){if(!n)return[];if("string"==typeof n){const r=N0(n);return this.readFeaturesFromDocument(r,e)}return K4(n)?this.readFeaturesFromDocument(n,e):this.readFeaturesFromNode(n,e)}readFeaturesFromDocument(n,e){const r=[];for(let s=n.firstChild;s;s=s.nextSibling)s.nodeType==Node.ELEMENT_NODE&&(0,Xi.X$)(r,this.readFeaturesFromNode(s,e));return r}readFeaturesFromNode(n,e){return ls()}readGeometry(n,e){if(!n)return null;if("string"==typeof n){const r=N0(n);return this.readGeometryFromDocument(r,e)}return K4(n)?this.readGeometryFromDocument(n,e):this.readGeometryFromNode(n,e)}readGeometryFromDocument(n,e){return null}readGeometryFromNode(n,e){return null}readProjection(n){if(!n)return null;if("string"==typeof n){const e=N0(n);return this.readProjectionFromDocument(e)}return K4(n)?this.readProjectionFromDocument(n):this.readProjectionFromNode(n)}readProjectionFromDocument(n){return this.dataProjection}readProjectionFromNode(n){return this.dataProjection}writeFeature(n,e){const r=this.writeFeatureNode(n,e);return this.xmlSerializer_.serializeToString(r)}writeFeatureNode(n,e){return null}writeFeatures(n,e){const r=this.writeFeaturesNode(n,e);return this.xmlSerializer_.serializeToString(r)}writeFeaturesNode(n,e){return null}writeGeometry(n,e){const r=this.writeGeometryNode(n,e);return this.xmlSerializer_.serializeToString(r)}writeGeometryNode(n,e){return null}},Q4="http://www.opengis.net/gml",m$=/^\s*$/;class Ys extends v${constructor(n){super(),this.featureType=(n=n||{}).featureType,this.featureNS=n.featureNS,this.srsName=n.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:sr(this.readFeaturesInternal),featureMembers:Bn(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(n,e){const r=n.localName;let s=null;if("FeatureCollection"==r)s=Es([],this.FEATURE_COLLECTION_PARSERS,n,e,this);else if("featureMembers"==r||"featureMember"==r||"member"==r){const i=e[0];let o=i.featureType,a=i.featureNS;const l="p",c="p0";if(!o&&n.childNodes){o=[],a={};for(let d=0,p=n.childNodes.length;d<p;++d){const v=n.childNodes[d];if(1===v.nodeType){const b=v.nodeName.split(":").pop();if(!o.includes(b)){let M="",z=0;const B=v.namespaceURI;for(const pe in a){if(a[pe]===B){M=pe;break}++z}M||(M=l+z,a[M]=B),o.push(M+":"+b)}}}"featureMember"!=r&&(i.featureType=o,i.featureNS=a)}if("string"==typeof a){const d=a;a={},a[c]=d}const u={},h=Array.isArray(o)?o:[o];for(const d in a){const p={};for(let v=0,b=h.length;v<b;++v)(h[v].includes(":")?h[v].split(":")[0]:c)===d&&(p[h[v].split(":").pop()]="featureMembers"==r?sr(this.readFeatureElement,this):Bn(this.readFeatureElement,this));u[a[d]]=p}s=Es("featureMember"==r||"member"==r?void 0:[],u,n,e)}return null===s&&(s=[]),s}readGeometryOrExtent(n,e){const r=e[0];return r.srsName=n.firstElementChild.getAttribute("srsName"),r.srsDimension=n.firstElementChild.getAttribute("srsDimension"),Es(null,this.GEOMETRY_PARSERS,n,e,this)}readExtentElement(n,e){const r=e[0],s=this.readGeometryOrExtent(n,e);return s?O9(s,r):void 0}readGeometryElement(n,e){const r=e[0],s=this.readGeometryOrExtent(n,e);return s?Jh(s,!1,r):void 0}readFeatureElementInternal(n,e,r){let s;const i={};for(let l=n.firstElementChild;l;l=l.nextElementSibling){let c;const u=l.localName;0===l.childNodes.length||1===l.childNodes.length&&(3===l.firstChild.nodeType||4===l.firstChild.nodeType)?(c=Y4(l,!1),m$.test(c)&&(c=void 0)):(r&&(c="boundedBy"===u?this.readExtentElement(l,e):this.readGeometryElement(l,e)),c?"boundedBy"!==u&&(s=u):c=this.readFeatureElementInternal(l,e,!1));const h=l.attributes.length;if(h>0&&!(c instanceof I9)){c={_content_:c};for(let d=0;d<h;d++)c[l.attributes[d].name]=l.attributes[d].value}i[u]?(i[u]instanceof Array||(i[u]=[i[u]]),i[u].push(c)):i[u]=c}if(!r)return i;const o=new v9(i);s&&o.setGeometryName(s);const a=n.getAttribute("fid")||function p$(t,n,e){return t.getAttributeNS(n,e)||""}(n,this.namespace,"id");return a&&o.setId(a),o}readFeatureElement(n,e){return this.readFeatureElementInternal(n,e,!0)}readPoint(n,e){const r=this.readFlatCoordinatesFromNode(n,e);if(r)return new D0(r,"XYZ")}readMultiPoint(n,e){const r=Es([],this.MULTIPOINT_PARSERS,n,e,this);if(r)return new R9(r)}readMultiLineString(n,e){const r=Es([],this.MULTILINESTRING_PARSERS,n,e,this);if(r)return new T9(r)}readMultiPolygon(n,e){const r=Es([],this.MULTIPOLYGON_PARSERS,n,e,this);if(r)return new k9(r)}pointMemberParser(n,e){qh(this.POINTMEMBER_PARSERS,n,e,this)}lineStringMemberParser(n,e){qh(this.LINESTRINGMEMBER_PARSERS,n,e,this)}polygonMemberParser(n,e){qh(this.POLYGONMEMBER_PARSERS,n,e,this)}readLineString(n,e){const r=this.readFlatCoordinatesFromNode(n,e);if(r)return new R0(r,"XYZ")}readFlatLinearRing(n,e){const r=Es(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,n,e,this);if(r)return r}readLinearRing(n,e){const r=this.readFlatCoordinatesFromNode(n,e);if(r)return new V9(r,"XYZ")}readPolygon(n,e){const r=Es([null],this.FLAT_LINEAR_RINGS_PARSERS,n,e,this);if(r&&r[0]){const s=r[0],i=[s.length];let o,a;for(o=1,a=r.length;o<a;++o)(0,Xi.X$)(s,r[o]),i.push(s.length);return new B0(s,"XYZ",i)}}readFlatCoordinatesFromNode(n,e){return Es(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,n,e,this)}readGeometryFromNode(n,e){return this.readGeometryElement(n,[this.getReadOptions(n,e||{})])||null}readFeaturesFromNode(n,e){const r={featureType:this.featureType,featureNS:this.featureNS};return r&&Object.assign(r,this.getReadOptions(n,e)),this.readFeaturesInternal(n,[r])||[]}readProjectionFromNode(n){return(0,Vs.Jt)(this.srsName?this.srsName:n.firstElementChild.getAttribute("srsName"))}}Ys.prototype.namespace=Q4,Ys.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},Ys.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},Ys.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},Ys.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:sr(Ys.prototype.pointMemberParser),pointMembers:sr(Ys.prototype.pointMemberParser)}},Ys.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:sr(Ys.prototype.lineStringMemberParser),lineStringMembers:sr(Ys.prototype.lineStringMemberParser)}},Ys.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:sr(Ys.prototype.polygonMemberParser),polygonMembers:sr(Ys.prototype.polygonMemberParser)}},Ys.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:sr(Ys.prototype.readFlatCoordinatesFromNode)}},Ys.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:sr(Ys.prototype.readLineString)}},Ys.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:sr(Ys.prototype.readPolygon)}},Ys.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Bn(Ys.prototype.readFlatLinearRing)}};const ur=Ys;function F0(t){const n=/^\s*(\d+)\s*$/.exec(t);if(n)return parseInt(n[1],10)}function Qo(t,n){t.appendChild(QH().createTextNode(n))}const y$=Q4+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",I$={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class br extends ur{constructor(n){super(n=n||{}),this.FEATURE_COLLECTION_PARSERS[Q4].featureMember=sr(this.readFeaturesInternal),this.schemaLocation=n.schemaLocation?n.schemaLocation:y$}readFlatCoordinates(n,e){const r=Y4(n,!1).replace(/^\s*|\s*$/g,""),i=e[0].srsName;let o="enu";if(i){const c=(0,Vs.Jt)(i);c&&(o=c.getAxisOrientation())}const a=r.trim().split(/\s+/),l=[];for(let c=0,u=a.length;c<u;c++){const h=a[c].split(/,+/),d=parseFloat(h[0]),p=parseFloat(h[1]),v=3===h.length?parseFloat(h[2]):0;"en"===o.substr(0,2)?l.push(d,p,v):l.push(p,d,v)}return l}readBox(n,e){const r=Es([null],this.BOX_PARSERS_,n,e,this);return(0,Kr.N)(r[1][0],r[1][1],r[1][3],r[1][4])}innerBoundaryIsParser(n,e){const r=Es(void 0,this.RING_PARSERS,n,e,this);r&&e[e.length-1].push(r)}outerBoundaryIsParser(n,e){const r=Es(void 0,this.RING_PARSERS,n,e,this);r&&(e[e.length-1][0]=r)}GEOMETRY_NODE_FACTORY_(n,e,r){const s=e[e.length-1],i=s.multiSurface,o=s.surface,a=s.multiCurve;return Array.isArray(n)?r="Envelope":"MultiPolygon"===(r=n.getType())&&!0===i?r="MultiSurface":"Polygon"===r&&!0===o?r="Surface":"MultiLineString"===r&&!0===a&&(r="MultiCurve"),Ts("http://www.opengis.net/gml",r)}writeFeatureElement(n,e,r){const s=e.getId();s&&n.setAttribute("fid",s);const i=r[r.length-1],o=i.featureNS,a=e.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});const l=[],c=[];if(e.hasProperties()){const h=e.getProperties();for(const d in h){const p=h[d];null!==p&&(l.push(d),c.push(p),d==a||"function"==typeof p.getSimplifiedGeometry?d in i.serializers[o]||(i.serializers[o][d]=dn(this.writeGeometryElement,this)):d in i.serializers[o]||(i.serializers[o][d]=dn(Qo)))}}const u=Object.assign({},i);u.node=n,yo(u,i.serializers,su(void 0,o),c,r,l)}writeCurveOrLineString(n,e,r){const i=r[r.length-1].srsName;if("LineStringSegment"!==n.nodeName&&i&&n.setAttribute("srsName",i),"LineString"===n.nodeName||"LineStringSegment"===n.nodeName){const o=this.createCoordinatesNode_(n.namespaceURI);n.appendChild(o),this.writeCoordinates_(o,e,r)}else if("Curve"===n.nodeName){const o=Ts(n.namespaceURI,"segments");n.appendChild(o),this.writeCurveSegments_(o,e,r)}}writeLineStringOrCurveMember(n,e,r){const s=this.GEOMETRY_NODE_FACTORY_(e,r);s&&(n.appendChild(s),this.writeCurveOrLineString(s,e,r))}writeMultiCurveOrLineString(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName,a=s.curve;o&&n.setAttribute("srsName",o);const l=e.getLineStrings();yo({node:n,hasZ:i,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeGeometryElement(n,e,r){const s=r[r.length-1],i=Object.assign({},s);let o;i.node=n,o=Array.isArray(e)?O9(e,s):Jh(e,!0,s),yo(i,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[o],r,void 0,this)}createCoordinatesNode_(n){const e=Ts(n,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e}writeCoordinates_(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName,a=e.getCoordinates(),l=a.length,c=new Array(l);for(let u=0;u<l;++u)c[u]=this.getCoords_(a[u],o,i);Qo(n,c.join(" "))}writeCurveSegments_(n,e,r){const s=Ts(n.namespaceURI,"LineStringSegment");n.appendChild(s),this.writeCurveOrLineString(s,e,r)}writeSurfaceOrPolygon(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName;if("PolygonPatch"!==n.nodeName&&o&&n.setAttribute("srsName",o),"Polygon"===n.nodeName||"PolygonPatch"===n.nodeName){const a=e.getLinearRings();yo({node:n,hasZ:i,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===n.nodeName){const a=Ts(n.namespaceURI,"patches");n.appendChild(a),this.writeSurfacePatches_(a,e,r)}}RING_NODE_FACTORY_(n,e,r){const s=e[e.length-1],i=s.node,o=s.exteriorWritten;return void 0===o&&(s.exteriorWritten=!0),Ts(i.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(n,e,r){const s=Ts(n.namespaceURI,"PolygonPatch");n.appendChild(s),this.writeSurfaceOrPolygon(s,e,r)}writeRing(n,e,r){const s=Ts(n.namespaceURI,"LinearRing");n.appendChild(s),this.writeLinearRing(s,e,r)}getCoords_(n,e,r){let s="enu";e&&(s=(0,Vs.Jt)(e).getAxisOrientation());let i="en"===s.substr(0,2)?n[0]+","+n[1]:n[1]+","+n[0];return r&&(i+=","+(n[2]||0)),i}writePoint(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName;o&&n.setAttribute("srsName",o);const a=this.createCoordinatesNode_(n.namespaceURI);n.appendChild(a);const l=e.getCoordinates();Qo(a,this.getCoords_(l,o,i))}writeMultiPoint(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName;o&&n.setAttribute("srsName",o);const a=e.getPoints();yo({node:n,hasZ:i,srsName:o},this.POINTMEMBER_SERIALIZERS,su("pointMember"),a,r,void 0,this)}writePointMember(n,e,r){const s=Ts(n.namespaceURI,"Point");n.appendChild(s),this.writePoint(s,e,r)}writeLinearRing(n,e,r){const i=r[r.length-1].srsName;i&&n.setAttribute("srsName",i);const o=this.createCoordinatesNode_(n.namespaceURI);n.appendChild(o),this.writeCoordinates_(o,e,r)}writeMultiSurfaceOrPolygon(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName,a=s.surface;o&&n.setAttribute("srsName",o);const l=e.getPolygons();yo({node:n,hasZ:i,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeSurfaceOrPolygonMember(n,e,r){const s=this.GEOMETRY_NODE_FACTORY_(e,r);s&&(n.appendChild(s),this.writeSurfaceOrPolygon(s,e,r))}writeEnvelope(n,e,r){const i=r[r.length-1].srsName;i&&n.setAttribute("srsName",i),yo({node:n},this.ENVELOPE_SERIALIZERS,JH,[e[0]+" "+e[1],e[2]+" "+e[3]],r,["lowerCorner","upperCorner"],this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(n,e,r){return Ts("http://www.opengis.net/gml",I$[e[e.length-1].node.nodeName])}}br.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:Bn(br.prototype.readFlatCoordinates)}},br.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:br.prototype.innerBoundaryIsParser,outerBoundaryIs:br.prototype.outerBoundaryIsParser}},br.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:sr(br.prototype.readFlatCoordinates)}},br.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Bn(ur.prototype.readPoint),MultiPoint:Bn(ur.prototype.readMultiPoint),LineString:Bn(ur.prototype.readLineString),MultiLineString:Bn(ur.prototype.readMultiLineString),LinearRing:Bn(ur.prototype.readLinearRing),Polygon:Bn(ur.prototype.readPolygon),MultiPolygon:Bn(ur.prototype.readMultiPolygon),Box:Bn(br.prototype.readBox)}},br.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:dn(br.prototype.writeCurveOrLineString),MultiCurve:dn(br.prototype.writeMultiCurveOrLineString),Point:dn(br.prototype.writePoint),MultiPoint:dn(br.prototype.writeMultiPoint),LineString:dn(br.prototype.writeCurveOrLineString),MultiLineString:dn(br.prototype.writeMultiCurveOrLineString),LinearRing:dn(br.prototype.writeLinearRing),Polygon:dn(br.prototype.writeSurfaceOrPolygon),MultiPolygon:dn(br.prototype.writeMultiSurfaceOrPolygon),Surface:dn(br.prototype.writeSurfaceOrPolygon),MultiSurface:dn(br.prototype.writeMultiSurfaceOrPolygon),Envelope:dn(br.prototype.writeEnvelope)}},br.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:dn(br.prototype.writeLineStringOrCurveMember),curveMember:dn(br.prototype.writeLineStringOrCurveMember)}},br.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:dn(br.prototype.writeRing),innerBoundaryIs:dn(br.prototype.writeRing)}},br.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:dn(br.prototype.writePointMember)}},br.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:dn(br.prototype.writeSurfaceOrPolygonMember),polygonMember:dn(br.prototype.writeSurfaceOrPolygonMember)}},br.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:dn(Qo),upperCorner:dn(Qo)}};const ez=br,A$=Q4+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",b$={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class yn extends ur{constructor(n){super(n=n||{}),this.surface_=void 0!==n.surface&&n.surface,this.curve_=void 0!==n.curve&&n.curve,this.multiCurve_=void 0===n.multiCurve||n.multiCurve,this.multiSurface_=void 0===n.multiSurface||n.multiSurface,this.schemaLocation=n.schemaLocation?n.schemaLocation:A$,this.hasZ=void 0!==n.hasZ&&n.hasZ}readMultiCurve(n,e){const r=Es([],this.MULTICURVE_PARSERS,n,e,this);if(r)return new T9(r)}readFlatCurveRing(n,e){const r=Es([],this.MULTICURVE_PARSERS,n,e,this),s=[];for(let i=0,o=r.length;i<o;++i)(0,Xi.X$)(s,r[i].getFlatCoordinates());return s}readMultiSurface(n,e){const r=Es([],this.MULTISURFACE_PARSERS,n,e,this);if(r)return new k9(r)}curveMemberParser(n,e){qh(this.CURVEMEMBER_PARSERS,n,e,this)}surfaceMemberParser(n,e){qh(this.SURFACEMEMBER_PARSERS,n,e,this)}readPatch(n,e){return Es([null],this.PATCHES_PARSERS,n,e,this)}readSegment(n,e){return Es([],this.SEGMENTS_PARSERS,n,e,this)}readPolygonPatch(n,e){return Es([null],this.FLAT_LINEAR_RINGS_PARSERS,n,e,this)}readLineStringSegment(n,e){return Es([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,n,e,this)}interiorParser(n,e){const r=Es(void 0,this.RING_PARSERS,n,e,this);r&&e[e.length-1].push(r)}exteriorParser(n,e){const r=Es(void 0,this.RING_PARSERS,n,e,this);r&&(e[e.length-1][0]=r)}readSurface(n,e){const r=Es([null],this.SURFACE_PARSERS,n,e,this);if(r&&r[0]){const s=r[0],i=[s.length];let o,a;for(o=1,a=r.length;o<a;++o)(0,Xi.X$)(s,r[o]),i.push(s.length);return new B0(s,"XYZ",i)}}readCurve(n,e){const r=Es([null],this.CURVE_PARSERS,n,e,this);if(r)return new R0(r,"XYZ")}readEnvelope(n,e){const r=Es([null],this.ENVELOPE_PARSERS,n,e,this);return(0,Kr.N)(r[1][0],r[1][1],r[2][0],r[2][1])}readFlatPos(n,e){let r=Y4(n,!1);const s=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,i=[];let o;for(;o=s.exec(r);)i.push(parseFloat(o[1])),r=r.substr(o[0].length);if(""!==r)return;const l=e[0].srsName;let c="enu";if(l&&(c=(0,Vs.Jt)(l).getAxisOrientation()),"neu"===c){let h,d;for(h=0,d=i.length;h<d;h+=3){const p=i[h];i[h]=i[h+1],i[h+1]=p}}const u=i.length;return 2==u&&i.push(0),0!==u?i:void 0}readFlatPosList(n,e){const r=Y4(n,!1).replace(/^\s*|\s*$/g,""),s=e[0],i=s.srsName,o=s.srsDimension;let a="enu";i&&(a=(0,Vs.Jt)(i).getAxisOrientation());const l=r.split(/\s+/);let u,h,d,c=2;n.getAttribute("srsDimension")?c=F0(n.getAttribute("srsDimension")):n.getAttribute("dimension")?c=F0(n.getAttribute("dimension")):n.parentNode.getAttribute("srsDimension")?c=F0(n.parentNode.getAttribute("srsDimension")):o&&(c=F0(o));const p=[];for(let v=0,b=l.length;v<b;v+=c)u=parseFloat(l[v]),h=parseFloat(l[v+1]),d=3===c?parseFloat(l[v+2]):0,"en"===a.substr(0,2)?p.push(u,h,d):p.push(h,u,d);return p}writePos_(n,e,r){const s=r[r.length-1],i=s.hasZ;n.setAttribute("srsDimension",i?"3":"2");const a=s.srsName;let l="enu";a&&(l=(0,Vs.Jt)(a).getAxisOrientation());const c=e.getCoordinates();let u;u="en"===l.substr(0,2)?c[0]+" "+c[1]:c[1]+" "+c[0],i&&(u+=" "+(c[2]||0)),Qo(n,u)}getCoords_(n,e,r){let s="enu";e&&(s=(0,Vs.Jt)(e).getAxisOrientation());let i="en"===s.substr(0,2)?n[0]+" "+n[1]:n[1]+" "+n[0];return r&&(i+=" "+(n[2]||0)),i}writePosList_(n,e,r){const s=r[r.length-1],i=s.hasZ;n.setAttribute("srsDimension",i?"3":"2");const a=s.srsName,l=e.getCoordinates(),c=l.length,u=new Array(c);let h;for(let d=0;d<c;++d)h=l[d],u[d]=this.getCoords_(h,a,i);Qo(n,u.join(" "))}writePoint(n,e,r){const i=r[r.length-1].srsName;i&&n.setAttribute("srsName",i);const o=Ts(n.namespaceURI,"pos");n.appendChild(o),this.writePos_(o,e,r)}writeEnvelope(n,e,r){const i=r[r.length-1].srsName;i&&n.setAttribute("srsName",i),yo({node:n},this.ENVELOPE_SERIALIZERS,JH,[e[0]+" "+e[1],e[2]+" "+e[3]],r,["lowerCorner","upperCorner"],this)}writeLinearRing(n,e,r){const i=r[r.length-1].srsName;i&&n.setAttribute("srsName",i);const o=Ts(n.namespaceURI,"posList");n.appendChild(o),this.writePosList_(o,e,r)}RING_NODE_FACTORY_(n,e,r){const s=e[e.length-1],i=s.node,o=s.exteriorWritten;return void 0===o&&(s.exteriorWritten=!0),Ts(i.namespaceURI,void 0!==o?"interior":"exterior")}writeSurfaceOrPolygon(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName;if("PolygonPatch"!==n.nodeName&&o&&n.setAttribute("srsName",o),"Polygon"===n.nodeName||"PolygonPatch"===n.nodeName){const a=e.getLinearRings();yo({node:n,hasZ:i,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===n.nodeName){const a=Ts(n.namespaceURI,"patches");n.appendChild(a),this.writeSurfacePatches_(a,e,r)}}writeCurveOrLineString(n,e,r){const i=r[r.length-1].srsName;if("LineStringSegment"!==n.nodeName&&i&&n.setAttribute("srsName",i),"LineString"===n.nodeName||"LineStringSegment"===n.nodeName){const o=Ts(n.namespaceURI,"posList");n.appendChild(o),this.writePosList_(o,e,r)}else if("Curve"===n.nodeName){const o=Ts(n.namespaceURI,"segments");n.appendChild(o),this.writeCurveSegments_(o,e,r)}}writeMultiSurfaceOrPolygon(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName,a=s.surface;o&&n.setAttribute("srsName",o);const l=e.getPolygons();yo({node:n,hasZ:i,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeMultiPoint(n,e,r){const s=r[r.length-1],i=s.srsName,o=s.hasZ;i&&n.setAttribute("srsName",i);const a=e.getPoints();yo({node:n,hasZ:o,srsName:i},this.POINTMEMBER_SERIALIZERS,su("pointMember"),a,r,void 0,this)}writeMultiCurveOrLineString(n,e,r){const s=r[r.length-1],i=s.hasZ,o=s.srsName,a=s.curve;o&&n.setAttribute("srsName",o);const l=e.getLineStrings();yo({node:n,hasZ:i,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeRing(n,e,r){const s=Ts(n.namespaceURI,"LinearRing");n.appendChild(s),this.writeLinearRing(s,e,r)}writeSurfaceOrPolygonMember(n,e,r){const s=this.GEOMETRY_NODE_FACTORY_(e,r);s&&(n.appendChild(s),this.writeSurfaceOrPolygon(s,e,r))}writePointMember(n,e,r){const s=Ts(n.namespaceURI,"Point");n.appendChild(s),this.writePoint(s,e,r)}writeLineStringOrCurveMember(n,e,r){const s=this.GEOMETRY_NODE_FACTORY_(e,r);s&&(n.appendChild(s),this.writeCurveOrLineString(s,e,r))}writeSurfacePatches_(n,e,r){const s=Ts(n.namespaceURI,"PolygonPatch");n.appendChild(s),this.writeSurfaceOrPolygon(s,e,r)}writeCurveSegments_(n,e,r){const s=Ts(n.namespaceURI,"LineStringSegment");n.appendChild(s),this.writeCurveOrLineString(s,e,r)}writeGeometryElement(n,e,r){const s=r[r.length-1],i=Object.assign({},s);let o;i.node=n,o=Array.isArray(e)?O9(e,s):Jh(e,!0,s),yo(i,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[o],r,void 0,this)}writeFeatureElement(n,e,r){const s=e.getId();s&&n.setAttribute("fid",s);const i=r[r.length-1],o=i.featureNS,a=e.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});const l=[],c=[];if(e.hasProperties()){const h=e.getProperties();for(const d in h){const p=h[d];null!==p&&(l.push(d),c.push(p),d==a||"function"==typeof p.getSimplifiedGeometry?d in i.serializers[o]||(i.serializers[o][d]=dn(this.writeGeometryElement,this)):d in i.serializers[o]||(i.serializers[o][d]=dn(Qo)))}}const u=Object.assign({},i);u.node=n,yo(u,i.serializers,su(void 0,o),c,r,l)}writeFeatureMembers_(n,e,r){const s=r[r.length-1],i=s.featureType,o=s.featureNS,a={};a[o]={},a[o][i]=dn(this.writeFeatureElement,this);const l=Object.assign({},s);l.node=n,yo(l,a,su(i,o),e,r)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(n,e,r){return Ts(this.namespace,b$[e[e.length-1].node.nodeName])}GEOMETRY_NODE_FACTORY_(n,e,r){const s=e[e.length-1],i=s.multiSurface,o=s.surface,a=s.curve,l=s.multiCurve;return Array.isArray(n)?r="Envelope":"MultiPolygon"===(r=n.getType())&&!0===i?r="MultiSurface":"Polygon"===r&&!0===o?r="Surface":"LineString"===r&&!0===a?r="Curve":"MultiLineString"===r&&!0===l&&(r="MultiCurve"),Ts(this.namespace,r)}writeGeometryNode(n,e){e=this.adaptOptions(e);const r=Ts(this.namespace,"geom"),s={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object.assign(s,e),this.writeGeometryElement(r,n,[s]),r}writeFeaturesNode(n,e){e=this.adaptOptions(e);const r=Ts(this.namespace,"featureMembers");r.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);const s={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object.assign(s,e),this.writeFeatureMembers_(r,n,[s]),r}}yn.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:Bn(yn.prototype.readFlatPos),posList:Bn(yn.prototype.readFlatPosList),coordinates:Bn(ez.prototype.readFlatCoordinates)}},yn.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:yn.prototype.interiorParser,exterior:yn.prototype.exteriorParser}},yn.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Bn(ur.prototype.readPoint),MultiPoint:Bn(ur.prototype.readMultiPoint),LineString:Bn(ur.prototype.readLineString),MultiLineString:Bn(ur.prototype.readMultiLineString),LinearRing:Bn(ur.prototype.readLinearRing),Polygon:Bn(ur.prototype.readPolygon),MultiPolygon:Bn(ur.prototype.readMultiPolygon),Surface:Bn(yn.prototype.readSurface),MultiSurface:Bn(yn.prototype.readMultiSurface),Curve:Bn(yn.prototype.readCurve),MultiCurve:Bn(yn.prototype.readMultiCurve),Envelope:Bn(yn.prototype.readEnvelope)}},yn.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:sr(yn.prototype.curveMemberParser),curveMembers:sr(yn.prototype.curveMemberParser)}},yn.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:sr(yn.prototype.surfaceMemberParser),surfaceMembers:sr(yn.prototype.surfaceMemberParser)}},yn.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:sr(ur.prototype.readLineString),Curve:sr(yn.prototype.readCurve)}},yn.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:sr(ur.prototype.readPolygon),Surface:sr(yn.prototype.readSurface)}},yn.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:Bn(yn.prototype.readPatch)}},yn.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:Bn(yn.prototype.readSegment)}},yn.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:sr(yn.prototype.readFlatPosList),upperCorner:sr(yn.prototype.readFlatPosList)}},yn.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:Bn(yn.prototype.readPolygonPatch)}},yn.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:KH(yn.prototype.readLineStringSegment)}},ur.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Bn(ur.prototype.readFlatLinearRing),Ring:Bn(yn.prototype.readFlatCurveRing)}},yn.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:dn(yn.prototype.writeRing),interior:dn(yn.prototype.writeRing)}},yn.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:dn(Qo),upperCorner:dn(Qo)}},yn.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:dn(yn.prototype.writeSurfaceOrPolygonMember),polygonMember:dn(yn.prototype.writeSurfaceOrPolygonMember)}},yn.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:dn(yn.prototype.writePointMember)}},yn.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:dn(yn.prototype.writeLineStringOrCurveMember),curveMember:dn(yn.prototype.writeLineStringOrCurveMember)}},yn.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:dn(yn.prototype.writeCurveOrLineString),MultiCurve:dn(yn.prototype.writeMultiCurveOrLineString),Point:dn(yn.prototype.writePoint),MultiPoint:dn(yn.prototype.writeMultiPoint),LineString:dn(yn.prototype.writeCurveOrLineString),MultiLineString:dn(yn.prototype.writeMultiCurveOrLineString),LinearRing:dn(yn.prototype.writeLinearRing),Polygon:dn(yn.prototype.writeSurfaceOrPolygon),MultiPolygon:dn(yn.prototype.writeMultiSurfaceOrPolygon),Surface:dn(yn.prototype.writeSurfaceOrPolygon),MultiSurface:dn(yn.prototype.writeMultiSurfaceOrPolygon),Envelope:dn(yn.prototype.writeEnvelope)}};const gr=yn;class Nr extends gr{constructor(n){super(n=n||{}),this.schemaLocation=n.schemaLocation?n.schemaLocation:this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd"}writeGeometryElement(n,e,r){r[r.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},r[r.length-1]),super.writeGeometryElement(n,e,r)}}Nr.prototype.namespace="http://www.opengis.net/gml/3.2",Nr.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:Bn(gr.prototype.readFlatPos),posList:Bn(gr.prototype.readFlatPosList),coordinates:Bn(ez.prototype.readFlatCoordinates)}},Nr.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:gr.prototype.interiorParser,exterior:gr.prototype.exteriorParser}},Nr.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:Bn(ur.prototype.readPoint),MultiPoint:Bn(ur.prototype.readMultiPoint),LineString:Bn(ur.prototype.readLineString),MultiLineString:Bn(ur.prototype.readMultiLineString),LinearRing:Bn(ur.prototype.readLinearRing),Polygon:Bn(ur.prototype.readPolygon),MultiPolygon:Bn(ur.prototype.readMultiPolygon),Surface:Bn(Nr.prototype.readSurface),MultiSurface:Bn(gr.prototype.readMultiSurface),Curve:Bn(Nr.prototype.readCurve),MultiCurve:Bn(gr.prototype.readMultiCurve),Envelope:Bn(Nr.prototype.readEnvelope)}},Nr.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:sr(gr.prototype.curveMemberParser),curveMembers:sr(gr.prototype.curveMemberParser)}},Nr.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:sr(gr.prototype.surfaceMemberParser),surfaceMembers:sr(gr.prototype.surfaceMemberParser)}},Nr.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:sr(ur.prototype.readLineString),Curve:sr(gr.prototype.readCurve)}},Nr.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:sr(ur.prototype.readPolygon),Surface:sr(gr.prototype.readSurface)}},Nr.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:Bn(gr.prototype.readPatch)}},Nr.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:Bn(gr.prototype.readSegment)}},Nr.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:sr(gr.prototype.readFlatPosList),upperCorner:sr(gr.prototype.readFlatPosList)}},Nr.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:Bn(gr.prototype.readPolygonPatch)}},Nr.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:KH(gr.prototype.readLineStringSegment)}},Nr.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:sr(ur.prototype.pointMemberParser),pointMembers:sr(ur.prototype.pointMemberParser)}},Nr.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:sr(ur.prototype.lineStringMemberParser),lineStringMembers:sr(ur.prototype.lineStringMemberParser)}},Nr.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:sr(ur.prototype.polygonMemberParser),polygonMembers:sr(ur.prototype.polygonMemberParser)}},Nr.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:sr(ur.prototype.readFlatCoordinatesFromNode)}},Nr.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:sr(ur.prototype.readLineString)}},Nr.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:sr(ur.prototype.readPolygon)}},Nr.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:Bn(ur.prototype.readFlatLinearRing),Ring:Bn(Nr.prototype.readFlatCurveRing)}},Nr.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:dn(gr.prototype.writeRing),interior:dn(gr.prototype.writeRing)}},Nr.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:dn(Qo),upperCorner:dn(Qo)}},Nr.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:dn(gr.prototype.writeSurfaceOrPolygonMember),polygonMember:dn(gr.prototype.writeSurfaceOrPolygonMember)}},Nr.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:dn(gr.prototype.writePointMember)}},Nr.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:dn(gr.prototype.writeLineStringOrCurveMember),curveMember:dn(gr.prototype.writeLineStringOrCurveMember)}},Nr.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:dn(gr.prototype.writeCurveOrLineString),MultiCurve:dn(gr.prototype.writeMultiCurveOrLineString),Point:dn(Nr.prototype.writePoint),MultiPoint:dn(gr.prototype.writeMultiPoint),LineString:dn(gr.prototype.writeCurveOrLineString),MultiLineString:dn(gr.prototype.writeMultiCurveOrLineString),LinearRing:dn(gr.prototype.writeLinearRing),Polygon:dn(gr.prototype.writeSurfaceOrPolygon),MultiPolygon:dn(gr.prototype.writeMultiSurfaceOrPolygon),Surface:dn(gr.prototype.writeSurfaceOrPolygon),MultiSurface:dn(gr.prototype.writeMultiSurfaceOrPolygon),Envelope:dn(gr.prototype.writeEnvelope)}};const tz=Nr;function e5(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}const S$=class x$ extends $H{constructor(){super()}getType(){return"json"}readFeature(n,e){return this.readFeatureFromObject(e5(n),this.getReadOptions(n,e))}readFeatures(n,e){return this.readFeaturesFromObject(e5(n),this.getReadOptions(n,e))}readFeatureFromObject(n,e){return ls()}readFeaturesFromObject(n,e){return ls()}readGeometry(n,e){return this.readGeometryFromObject(e5(n),this.getReadOptions(n,e))}readGeometryFromObject(n,e){return ls()}readProjection(n){return this.readProjectionFromObject(e5(n))}readProjectionFromObject(n){return ls()}writeFeature(n,e){return JSON.stringify(this.writeFeatureObject(n,e))}writeFeatureObject(n,e){return ls()}writeFeatures(n,e){return JSON.stringify(this.writeFeaturesObject(n,e))}writeFeaturesObject(n,e){return ls()}writeGeometry(n,e){return JSON.stringify(this.writeGeometryObject(n,e))}writeGeometryObject(n,e){return ls()}};function W9(t,n){if(!t)return null;let e;switch(t.type){case"Point":e=function z$(t){const n=t.coordinates;return{type:"Point",flatCoordinates:n,layout:tu(n.length)}}(t);break;case"LineString":e=function V$(t){const n=t.coordinates,e=n.flat();return{type:"LineString",flatCoordinates:e,ends:[e.length],layout:tu(n[0].length)}}(t);break;case"Polygon":e=function R$(t){const n=t.coordinates,e=[],r=n[0][0].length;return{type:"Polygon",flatCoordinates:e,ends:E0(e,0,n,r),layout:tu(r)}}(t);break;case"MultiPoint":e=function E$(t){const n=t.coordinates;return{type:"MultiPoint",flatCoordinates:n.flat(),layout:tu(n[0].length)}}(t);break;case"MultiLineString":e=function T$(t){const n=t.coordinates,e=n[0][0].length,r=[];return{type:"MultiLineString",flatCoordinates:r,ends:E0(r,0,n,e),layout:tu(e)}}(t);break;case"MultiPolygon":e=function L$(t){const n=t.coordinates,e=[],r=n[0][0][0].length;return{type:"MultiPolygon",flatCoordinates:e,ends:NH(e,0,n,r),layout:tu(r)}}(t);break;case"GeometryCollection":e=function H$(t){return t.geometries.map(function(r){return W9(r)})}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return e}function Z9(t,n){const e=(t=Jh(t,!0,n)).getType();let r;switch(e){case"Point":r=function k$(t){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":r=function B$(t){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":r=function O$(t,n){let e;return n&&(e=n.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(e)}}(t,n);break;case"MultiPoint":r=function F$(t){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":r=function N$(t){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":r=function P$(t,n){let e;return n&&(e=n.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(e)}}(t,n);break;case"GeometryCollection":r=function D$(t,n){return delete(n=Object.assign({},n)).featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(r){return Z9(r,n)})}}(t,n);break;case"Circle":r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+e)}return r}const nz=class _$ extends S${constructor(n){n=n||{},super(),this.dataProjection=(0,Vs.Jt)(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(this.defaultFeatureProjection=(0,Vs.Jt)(n.featureProjection)),n.featureClass&&(this.featureClass=n.featureClass),this.geometryName_=n.geometryName,this.extractGeometryName_=n.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(n,e){let r=null;r="Feature"===n.type?n:{type:"Feature",geometry:n,properties:null};const s=W9(r.geometry);if(this.featureClass===jH)return XH({geometry:s,id:r.id,properties:r.properties},e);const i=new v9;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&i.setGeometryName(r.geometry_name),i.setGeometry(G9(s,e)),"id"in r&&i.setId(r.id),r.properties&&i.setProperties(r.properties,!0),i}readFeaturesFromObject(n,e){let s=null;if("FeatureCollection"===n.type){s=[];const o=n.features;for(let a=0,l=o.length;a<l;++a){const c=this.readFeatureFromObject(o[a],e);c&&s.push(c)}}else s=[this.readFeatureFromObject(n,e)];return s.flat()}readGeometryFromObject(n,e){return function M$(t,n){return G9(W9(t),n)}(n,e)}readProjectionFromObject(n){const e=n.crs;let r;if(e)if("name"==e.type)r=(0,Vs.Jt)(e.properties.name);else{if("EPSG"!==e.type)throw new Error("Unknown SRS type");r=(0,Vs.Jt)("EPSG:"+e.properties.code)}else r=this.dataProjection;return r}writeFeatureObject(n,e){e=this.adaptOptions(e);const r={type:"Feature",geometry:null,properties:null},s=n.getId();if(void 0!==s&&(r.id=s),!n.hasProperties())return r;const i=n.getProperties(),o=n.getGeometry();return o&&(r.geometry=Z9(o,e),delete i[n.getGeometryName()]),HH(i)||(r.properties=i),r}writeFeaturesObject(n,e){e=this.adaptOptions(e);const r=[];for(let s=0,i=n.length;s<i;++s)r.push(this.writeFeatureObject(n[s],e));return{type:"FeatureCollection",features:r}}writeGeometryObject(n,e){return Z9(n,this.adaptOptions(e))}};function j9(t){const n=t.trim().split(/\s+/);return[n.shift(),n.join(" ").trim()||null]}function rz(t,n){const e=t?.trim(),r=n?.trim();return e||r?r&&e?`${e} ${r}`:r||e:null}function j$(t){if(!t)return"unspecified";switch(t){case"author":case"coAuthor":return"author";case"originator":return"originator";case"principalInvestigator":return"principal_investigator";case"resourceProvider":return"resource_provider";case"processor":return"processor";case"custodian":return"custodian";case"owner":return"owner";case"pointOfContact":return"point_of_contact";case"publisher":return"publisher";case"distributor":return"distributor";case"user":return"user";case"collaborator":return"collaborator";case"editor":return"editor";case"contributor":return"contributor";case"stakeholder":return"stakeholder";case"sponsor":return"sponsor";case"funder":return"funder";case"rightsHolder":return"rights_holder";case"mediator":return"mediator";default:return"other"}}function U$(t){switch(t){case"completed":return"completed";case"historicalArchive":return"removed";case"obsolete":return"deprecated";case"onGoing":return"ongoing";case"planned":return"planned";case"required":return"required";default:return"under_development"}}const $$=["unspecified","other","author","collaborator","contributor","custodian","distributor","editor","funder","mediator","originator","owner","point_of_contact","principal_investigator","processor","publisher","resource_provider","rights_holder","sponsor","stakeholder","user"],X$=["unknown","notPlanned","asNeeded","irregular","continual","periodic","daily","weekly","fortnightly","semimonthly","monthly","quarterly","biannually","annually","biennially"],Y$=["completed","ongoing","under_development","deprecated","removed","planned","required"];function K$(t){return t&&X$.includes(t)?t:null}const U9={eng:"en",nld:"nl",dut:"nl",fra:"fr",fre:"fr",deu:"de",ger:"de",kor:"ko",spa:"es",ces:"cs",cze:"cs",cat:"ca",fin:"fi",isl:"is",ice:"is",ita:"it",por:"pt",rus:"ru",zho:"zh",chi:"zh",slk:"sk",slo:"sk",roh:"rm",ara:"ar",dan:"da",nor:"no",pol:"pl",swe:"sv",tur:"tr",arm:"hy",aze:"az",kat:"ka",geo:"ka",ukr:"uk",cym:"cy",wel:"cy"},$9=Object.entries(U9).reduce((t,n)=>({...t,[n[1]]:n[0]}),{});function X9(t){if(!t)return t;if(3===t.length)return $9[U9[t.toLowerCase()]]??t;const n=t.toLowerCase().substring(0,2);return $9[n]??t}function t5(t){if(!t)return t;if(3===t.length)return U9[t.toLowerCase()]??t;const n=t.toLowerCase().substring(0,2);return n in $9||t.match(/[a-z]{2}_[A-Z]{2}/)?n:t}const sz={application:"reuse",dataset:"dataset",interactiveMap:"reuse",map:"reuse","map/static":"reuse","map/interactive":"reuse","map-interactive":"reuse","map-static":"reuse",mapDigital:"reuse",series:"dataset",service:"service",staticMap:"reuse"};function Y9(t){return sz[t]||"dataset"}function iz(t){return"reuse"===Y9(t)?{application:"application",map:"map","map/static":"map","map/interactive":"map","map-interactive":"map","map-static":"map",mapDigital:"map",interactiveMap:"map",staticMap:"map"}[t]||"other":void 0}function oz(t){return"reuse"===t.kind?t.reuseType:t.kind}function bs(){return O(Zc(nn("gco:CharacterString",!1),nn("gmx:Anchor",!1),nn("gmx:MimeFileType",!1)),Ca())}function Fi(t,n){return ss(O(Zc(nn("gco:CharacterString",!1),nn("gmx:Anchor",!1)),Ca()),e=>{const r=Yr("gmd:PT_FreeText","gmd:textGroup","gmd:LocalisedCharacterString")(e),s=n??{};if(!r.length)return s;const i=r.reduce((o,a)=>{const l=zs("locale")(a).toLowerCase().replace(/^#/,""),c=Ca()(a);return l?{...o,[l]:c}:o},{});return s[t]={...s[t],...i},s})}function K9(){return O(Zc(nn("gco:DateTime",!1),nn("gco:Date",!1)),Ca(),zn(t=>t?new Date(t):null))}function n5(){return O(nn("gco:Decimal",!1),Ca(),zn(t=>t?Number(t):null))}function tc(){const t=O(nn("gmd:URL",!1),Ca()),n=O(nn("gco:CharacterString",!1),Ca()),e=O(nn("gmx:Anchor",!1),zs("xlink:href"));return O(Zc(t,e,n),zn(r=>{try{return new URL(r)}catch{return null}}))}function r5(){return Zc(tc(),()=>new URL("http://missing"))}function az(){return O(nn("gmd:CI_RoleCode"),zs("codeListValue"),zn(j$))}function lz(){const t=O(Yr("gmd:contactInfo","gmd:CI_Contact","gmd:onlineResource","gmd:CI_OnlineResource","gmd:linkage"),Wc(0),tc());return O(ss(O(nn("gmd:organisationName",!1),Fi("name")),t),zn(([[n,e],r])=>({name:n,...r&&{website:r},translations:e})))}function cz(){const t=O(nn("gmd:role"),az()),n=O(nn("gmd:positionName"),bs()),e=O(nn("gmd:individualName"),bs(),zn(l=>l?j9(l):[])),r=lz(),s=Lr("gmd:contactInfo","gmd:CI_Contact"),i=O(s,nn("gmd:electronicMailAddress"),bs(),zn(l=>null===l?"missing@missing.com":l)),o=O(s,Lr("gmd:address","gmd:CI_Address"),ss(O(nn("gmd:deliveryPoint",!1),bs()),O(nn("gmd:city",!1),bs()),O(nn("gmd:postalCode",!1),bs()),O(nn("gmd:country",!1),bs())),zn(l=>l.filter(c=>!!c).join(", "))),a=O(s,Lr("gmd:phone","gmd:CI_Telephone","gmd:voice"),bs());return O(ss(t,n,e,r,i,o,a),zn(([l,c,[u,h],d,p,v,b])=>({email:p,role:l,organization:d,...c&&{position:c},...u&&{firstName:u},...h&&{lastName:h},...v&&{address:v},...b&&{phone:b}})))}Object.entries(sz).reduce((t,[n,e])=>((t[e]??=[]).push(n),t),{});const nX=O(yH("gmd:MD_Distribution"),Lr("gmd:distributionFormat","gmd:MD_Format","gmd:name"),bs(),zn(bH));function uz(t){const n=O(nn("gmd:linkage"),r5()),e=O(nn("gmd:protocol"),bs()),r=O(e,zn(p9)),s=O(Lr("gmd:function","gmd:CI_OnLineFunctionCode"),zs("codeListValue")),i=O(r,zn(c=>"other"!==c)),o=O(ss(i,s,e),zn(([c,u,h])=>!c&&"download"===u||/download/i.test(h))),a=O(nn("gmd:name"),Fi("name")),l=O(nn("gmd:description"),Fi("description"));return O(Yr("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),Wn(ss(i,o,r,n,a,l,t)),Wn(([c,u,h,d,[p,v],[b,M],z])=>{const B={...v,...M};return c?{type:"service",url:d,accessServiceProtocol:h,...p&&{identifierInService:p},...p&&{name:p},...b&&{description:b},translations:B}:u?{type:"download",url:d,...p&&{name:p},...b&&{description:b},...z&&{mimeType:z},translations:B}:{type:"link",url:d,...p&&{name:p},...b&&{description:b},translations:B}}))}function rX(t){if(!t)return null;const n=t.match(/^-?P(?:([0-9]+)Y)?(?:([0-9]+)M)?(?:([0-9]+)D)?T?(?:([0-9]+)H)?/);if(!n)return null;const e=parseInt(n[1],10)||0,r=parseInt(n[2],10)||0,s=parseInt(n[3],10)||0,i=parseInt(n[4],10)||0;return e?{per:"year",updatedTimes:1}:1===r?{per:"month",updatedTimes:1}:r?{per:"year",updatedTimes:Math.round(12/r)}:1===s?{per:"day",updatedTimes:1}:s>=1&&s<=7?{per:"week",updatedTimes:Math.round(7/s-1e-4)}:s?{per:"month",updatedTimes:Math.round(30/s)}:i?{per:"day",updatedTimes:Math.round(24/i)}:null}function Yi(){return O(nn("gmd:identificationInfo",!1),ss(nn("gmd:MD_DataIdentification",!1),nn("srv:SV_ServiceIdentification",!1)),Co(t=>null!==t),Wc(0))}function J9(t){return O(Yi(),Yr("gmd:citation","gmd:CI_Citation","gmd:date"),Co(O(Yr("gmd:CI_Date","gmd:dateType","gmd:CI_DateTypeCode"),Wc(0),zs("codeListValue"),zn(n=>n===t))),Wc(0),Yr("gmd:CI_Date","gmd:date"),Wc(0),K9())}function iX(t){switch(t){case"grid":case"vector":case"tin":case"table":case"point":return t;default:return null}}function oX(t){return O(nn("gmd:fileIdentifier",!1),bs())(t)}function s5(t){return O(Lr("gmd:hierarchyLevel","gmd:MD_ScopeCode"),zs("codeListValue"),zn(n=>Y9(n)))(t)}function aX(t){return O(Lr("gmd:contact","gmd:CI_ResponsibleParty"),lz())(t)}function lX(t){return J9("revision")(t)}function cX(t){return J9("creation")(t)}function uX(t){return J9("publication")(t)}function hX(t){return O(nn("gmd:dateStamp"),K9())(t)}function dX(t){return O(Lr("gmd:hierarchyLevel","gmd:MD_ScopeCode"),zs("codeListValue"),zn(n=>iz(n)))(t)}function pX(t,n){return O(Yi(),Lr("gmd:citation","gmd:CI_Citation","gmd:title"),Fi("title",n),zn(([e])=>e))(t)}function fX(t,n){return O(Yi(),nn("gmd:abstract",!1),Fi("abstract",n),zn(([e])=>e))(t)}function gX(t){return O(Ar("gmd:contact",!1),Wn(nn("gmd:CI_ResponsibleParty",!1)),Wn(cz()))(t)}function vX(t){return O(Yi(),ss(Ar("gmd:contact",!1),Ar("gmd:pointOfContact",!1)),t=>t.flat(),Wn(nn("gmd:CI_ResponsibleParty",!1)),Wn(cz()))(t)}function mX(t){if(!t)return null;const n=Lr("gmd:CI_Citation","gmd:identifier","gmd:MD_Identifier","gmd:code"),e=O(n,bs())(t),r=O(n,tc())(t),s=O(Lr("gmd:CI_Citation","gmd:title"),bs())(t);return{id:e,...s&&{name:s},...r&&{url:r}}}function wX(t){const n=O(Ar("gmd:MD_KeywordTypeCode"),Wn(zs("codeListValue")),zn(r=>function Z$(t){if(!t)return"other";switch(t){case"theme":case"place":case"temporal":case"other":return t;default:return"other"}}(r[0])))(t),e=O(Lr("gmd:thesaurusName"),mX)(t);return O(Ar("gmd:keyword"),Wn(r=>{const[s,i]=Fi("label")(r);return{...e?{thesaurus:e}:{},label:s,type:n,translations:i}}))(t)}function CX(t){return O(Yi(),Yr("gmd:descriptiveKeywords","gmd:MD_Keywords"),Wn(wX),t=>t.flat())(t)}function yX(t){return O(Yi(),nn("gmd:status",!1),function J$(){return O(nn("gmd:MD_ProgressCode"),zs("codeListValue"),zn(U$))}())(t)}const i5=O(Yi(),Ar("gmd:resourceConstraints",!1));function IX(t){return O(i5,Wn(function q$(){return O(Ar("gmd:MD_LegalConstraints",!1),Co(O(Ar("gmd:MD_RestrictionCode"),Wn(zs("codeListValue")),zn(t=>-1===t.indexOf("license")))),Wn(ss(Ar("gmd:otherConstraints"),Ar("gmd:useLimitation"))),t=>t.flat(),t=>t.flat(),Wn(ss(Fi("text"),tc())),Wn(([[t,n],e])=>({...e&&{url:e},text:t,translations:n})))}()),t=>t.flat(),t=>t.flat())(t)}function AX(t){return O(i5,Wn(function Q$(){return O(Yr("gmd:MD_SecurityConstraints","gmd:useLimitation"),t=>t.flat(),Wn(ss(Fi("text"),tc())),Wn(([[t,n],e])=>({...e&&{url:e},text:t,translations:n})))}()),t=>t.flat())(t)}function bX(t){return O(i5,Wn(function eX(){return O(Yr("gmd:MD_Constraints","gmd:useLimitation"),t=>t.flat(),Wn(ss(Fi("text"),tc())),Wn(([[t,n],e])=>({...e&&{url:e},text:t,translations:n})))}()),t=>t.flat())(t)}function xX(t){return O(i5,Wn(function tX(){return O(Ar("gmd:MD_LegalConstraints",!1),Co(O(Ar("gmd:MD_RestrictionCode"),Wn(zs("codeListValue")),zn(t=>t.indexOf("license")>-1))),Wn(ss(Ar("gmd:otherConstraints"),Ar("gmd:useLimitation"))),t=>t.flat(),t=>t.flat(),Wn(ss(Fi("text"),tc())),Wn(([[t,n],e])=>({...e&&{url:e},text:t,translations:n})))}()),t=>t.flat())(t)}function SX(t){return O(Yi(),Ar("gmd:MD_TopicCategoryCode",!0),Wn(Ca()))(t)}function _X(t){return O(Yi(),Lr("gmd:spatialRepresentationType","gmd:MD_SpatialRepresentationTypeCode"),zs("codeListValue"),zn(iX))(t)}function MX(t){return O(Yi(),Ar("gmd:graphicOverview",!1),Wn(ss(O(nn("gmd:fileName"),r5()),O(nn("gmd:fileDescription"),bs()))),Wn(([n,e])=>({url:n,...e&&{description:e}})))(t)}function HX(t,n){return O(Lr("gmd:dataQualityInfo","gmd:DQ_DataQuality","gmd:lineage","gmd:LI_Lineage","gmd:statement"),Fi("lineage",n),zn(([e])=>e))(t)}function zX(t){return O(Yi(),Lr("gmd:resourceMaintenance","gmd:MD_MaintenanceInformation"),function sX(){return Zc(O(nn("gmd:MD_MaintenanceFrequencyCode"),zs("codeListValue"),zn(K$)),O(Lr("gmd:userDefinedMaintenanceFrequency","gts:TM_PeriodDuration"),Ca(),zn(rX)),zn(()=>"unknown"))}(),zn(n=>n||"unknown"))(t)}function hz(){const t=O(nn("gmd:linkage"),r5()),n=O(nn("gmd:protocol"),bs()),e=O(n,zn(p9)),r=O(Lr("gmd:function","gmd:CI_OnLineFunctionCode"),zs("codeListValue")),s=O(r,zn(a=>"information"===a)),i=O(nn("gmd:name"),Fi("name")),o=O(nn("gmd:description"),Fi("description",{}));return O(Yr("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),Wn(ss(s,e,t,i,o)),Wn(([a,l,c,[u,h],[d,p]])=>{const v={...h,...p};return a?{type:"link",url:c,...u&&{name:u},...d&&{description:d},translations:v}:{type:"endpoint",url:c,accessServiceProtocol:l,...d&&{description:d},translations:v}}))}function dz(){const t=O(nn("gmd:linkage"),r5()),n=O(nn("gmd:name"),Fi("name")),e=O(nn("gmd:description"),Fi("description",{}));return O(Yr("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),Wn(ss(t,n,e)),Wn(([r,[s,i],[o,a]])=>({type:"link",url:r,...s&&{name:s},...o&&{description:o},translations:{...i,...a}})))}function VX(t){let n;return n="dataset"===s5(t)?e=>uz(nX)(e):"service"===s5(t)?hz():dz(),O(Yr("gmd:distributionInfo","gmd:MD_Distribution"),Wn(n),t=>t.flat())(t)}function TX(t){return O(Yi(),Yr("gmd:extent","gmd:EX_Extent","gmd:temporalElement"),Wn(ss(Lr("gmd:EX_TemporalExtent","gmd:extent","gml:TimePeriod"),Lr("gmd:EX_TemporalExtent","gmd:extent","gml:TimeInstant"))),Wn(([n,e])=>n?O(ss(O(nn("gml:beginPosition",!1),Ca(),zn(r=>r?new Date(r):null)),O(nn("gml:endPosition",!1),Ca(),zn(r=>r?new Date(r):null))),zn(([r,s])=>({start:r,end:s})))(n):O(nn("gml:timePosition",!1),Ca(),zn(r=>r?new Date(r):null),zn(r=>({start:r})))(e)))(t)}function EX(t){return O(Yi(),Yr("gmd:extent","gmd:EX_Extent","gmd:geographicElement"),Wn(ss(O(nn("gmd:EX_BoundingPolygon"),s=>s?O(nn("gmd:polygon",!1),bU,zn(i=>i?function G$(t){const n=h9(t);n.root.attributes.xmlns="http://www.opengis.net/gml/3.2";const r=N0(M0(n)),s=document.createElement("pre");s.appendChild(r.documentElement);const o=(new tz).readGeometryFromNode(s);return(new nz).writeGeometryObject(o)}(i):null))(s):null),O(nn("gmd:EX_GeographicBoundingBox"),s=>s?O(ss(O(nn("gmd:westBoundLongitude"),n5()),O(nn("gmd:southBoundLatitude"),n5()),O(nn("gmd:eastBoundLongitude"),n5()),O(nn("gmd:northBoundLatitude"),n5())))(s):null),O(nn("gmd:EX_GeographicDescription"),s=>s?O(Lr("gmd:geographicIdentifier","gmd:MD_Identifier","gmd:code"),Fi("description"))(s):[null,{}]))),Co(([s,i,[o]])=>!!s||!!i||!!o),Wn(([s,i,[o,a]])=>({...s&&{geometry:s},...i&&{bbox:i},...o&&{description:o},translations:a})))(t)}function LX(t){const n=pz(t);return O(Ar("gmd:locale",!1),Wn(O(nn("lan:LanguageCode"),zs("codeListValue"),zn(e=>t5(e?.toLowerCase())??e))),zn(e=>e.filter(r=>null!==r)),zn(e=>e.length?e:[n]))(t)}function pz(t){return O(nn("gmd:language",!1),nn("lan:LanguageCode"),zs("codeListValue"),zn(n=>n?t5(n.toLowerCase()):null))(t)}function RX(t){const n=O(Yi(),Lr("gmd:citation","gmd:CI_Citation","gmd:identifier","gmd:MD_Identifier","gmd:code"),bs())(t);return n?[{code:n}]:[]}const DX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function q9(t){return(n={})=>{const e=n.width?String(n.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const kX={date:q9({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:q9({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:q9({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},OX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function P0(t){return(n,e)=>{let s;if("formatting"===(e?.context?String(e.context):"standalone")&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=e?.width?String(e.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=e?.width?String(e.width):t.defaultWidth;s=t.values[a]||t.values[o]}return s[t.argumentCallback?t.argumentCallback(n):n]}}function k0(t){return(n,e={})=>{const r=e.width,i=n.match(r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth]);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?function JX(t,n){for(let e=0;e<t.length;e++)if(n(t[e]))return e}(a,h=>h.test(o)):function KX(t,n){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&n(t[e]))return e}(a,h=>h.test(o));let c;return c=t.valueCallback?t.valueCallback(l):l,c=e.valueCallback?e.valueCallback(c):c,{value:c,rest:n.slice(o.length)}}}const dY={code:"en-US",formatDistance:(t,n,e)=>{let r;const s=DX[t];return r="string"==typeof s?s:1===n?s.one:s.other.replace("{{count}}",n.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+r:r+" ago":r},formatLong:kX,formatRelative:(t,n,e,r)=>OX[t],localize:{ordinalNumber:(t,n)=>{const e=Number(t),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},era:P0({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:P0({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:P0({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:P0({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:P0({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function qX(t){return(n,e={})=>{const r=n.match(t.matchPattern);if(!r)return null;const s=r[0],i=n.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];return o=e.valueCallback?e.valueCallback(o):o,{value:o,rest:n.slice(s.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t,10)}),era:k0({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:k0({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:k0({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:k0({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:k0({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let fz={};function o5(){return fz}Math.pow(10,8);const gz=6048e5,fY=864e5,mz=Symbol.for("constructDateFrom");function jc(t,n){return"function"==typeof t?t(n):t&&"object"==typeof t&&mz in t?t[mz](n):t instanceof Date?new t.constructor(n):new Date(n)}function $a(t,n){return jc(n||t,t)}function wz(t){const n=$a(t),e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),+t-+e}function Cz(t,n){const e=$a(t,n?.in);return e.setHours(0,0,0,0),e}function CY(t,n){const e=$a(t,n?.in);return function mY(t,n,e){const[r,s]=function vY(t,...n){const e=jc.bind(null,t||n.find(r=>"object"==typeof r));return n.map(e)}(e?.in,t,n),i=Cz(r),o=Cz(s),a=+i-wz(i),l=+o-wz(o);return Math.round((a-l)/fY)}(e,function wY(t,n){const e=$a(t,n?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}(e))+1}function O0(t,n){const e=o5(),r=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,s=$a(t,n?.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function a5(t,n){return O0(t,{...n,weekStartsOn:1})}function yz(t,n){const e=$a(t,n?.in),r=e.getFullYear(),s=jc(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=a5(s),o=jc(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=a5(o);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function Iz(t,n){const e=$a(t,n?.in),r=e.getFullYear(),s=o5(),i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=jc(n?.in||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=O0(o,n),l=jc(n?.in||t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=O0(l,n);return+e>=+a?r+1:+e>=+c?r:r-1}function is(t,n){return(t<0?"-":"")+Math.abs(t).toString().padStart(n,"0")}const Uc={y(t,n){const e=t.getFullYear(),r=e>0?e:1-e;return is("yy"===n?r%100:r,n.length)},M(t,n){const e=t.getMonth();return"M"===n?String(e+1):is(e+1,2)},d:(t,n)=>is(t.getDate(),n.length),a(t,n){const e=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];default:return"am"===e?"a.m.":"p.m."}},h:(t,n)=>is(t.getHours()%12||12,n.length),H:(t,n)=>is(t.getHours(),n.length),m:(t,n)=>is(t.getMinutes(),n.length),s:(t,n)=>is(t.getSeconds(),n.length),S(t,n){const e=n.length,r=t.getMilliseconds();return is(Math.trunc(r*Math.pow(10,e-3)),n.length)}},Az={G:function(t,n,e){const r=t.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return e.era(r,{width:"abbreviated"});case"GGGGG":return e.era(r,{width:"narrow"});default:return e.era(r,{width:"wide"})}},y:function(t,n,e){if("yo"===n){const r=t.getFullYear();return e.ordinalNumber(r>0?r:1-r,{unit:"year"})}return Uc.y(t,n)},Y:function(t,n,e,r){const s=Iz(t,r),i=s>0?s:1-s;return"YY"===n?is(i%100,2):"Yo"===n?e.ordinalNumber(i,{unit:"year"}):is(i,n.length)},R:function(t,n){return is(yz(t),n.length)},u:function(t,n){return is(t.getFullYear(),n.length)},Q:function(t,n,e){const r=Math.ceil((t.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return is(r,2);case"Qo":return e.ordinalNumber(r,{unit:"quarter"});case"QQQ":return e.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(r,{width:"narrow",context:"formatting"});default:return e.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,n,e){const r=Math.ceil((t.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return is(r,2);case"qo":return e.ordinalNumber(r,{unit:"quarter"});case"qqq":return e.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(r,{width:"narrow",context:"standalone"});default:return e.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,n,e){const r=t.getMonth();switch(n){case"M":case"MM":return Uc.M(t,n);case"Mo":return e.ordinalNumber(r+1,{unit:"month"});case"MMM":return e.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(r,{width:"narrow",context:"formatting"});default:return e.month(r,{width:"wide",context:"formatting"})}},L:function(t,n,e){const r=t.getMonth();switch(n){case"L":return String(r+1);case"LL":return is(r+1,2);case"Lo":return e.ordinalNumber(r+1,{unit:"month"});case"LLL":return e.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(r,{width:"narrow",context:"standalone"});default:return e.month(r,{width:"wide",context:"standalone"})}},w:function(t,n,e,r){const s=function bY(t,n){const e=$a(t,n?.in),r=+O0(e,n)-+function AY(t,n){const e=o5(),r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,s=Iz(t,n),i=jc(n?.in||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),O0(i,n)}(e,n);return Math.round(r/gz)+1}(t,r);return"wo"===n?e.ordinalNumber(s,{unit:"week"}):is(s,n.length)},I:function(t,n,e){const r=function IY(t,n){const e=$a(t,n?.in),r=+a5(e)-+function yY(t,n){const e=yz(t,n),r=jc(n?.in||t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),a5(r)}(e);return Math.round(r/gz)+1}(t);return"Io"===n?e.ordinalNumber(r,{unit:"week"}):is(r,n.length)},d:function(t,n,e){return"do"===n?e.ordinalNumber(t.getDate(),{unit:"date"}):Uc.d(t,n)},D:function(t,n,e){const r=CY(t);return"Do"===n?e.ordinalNumber(r,{unit:"dayOfYear"}):is(r,n.length)},E:function(t,n,e){const r=t.getDay();switch(n){case"E":case"EE":case"EEE":return e.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(r,{width:"short",context:"formatting"});default:return e.day(r,{width:"wide",context:"formatting"})}},e:function(t,n,e,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return is(i,2);case"eo":return e.ordinalNumber(i,{unit:"day"});case"eee":return e.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(s,{width:"short",context:"formatting"});default:return e.day(s,{width:"wide",context:"formatting"})}},c:function(t,n,e,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return is(i,n.length);case"co":return e.ordinalNumber(i,{unit:"day"});case"ccc":return e.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(s,{width:"narrow",context:"standalone"});case"cccccc":return e.day(s,{width:"short",context:"standalone"});default:return e.day(s,{width:"wide",context:"standalone"})}},i:function(t,n,e){const r=t.getDay(),s=0===r?7:r;switch(n){case"i":return String(s);case"ii":return is(s,n.length);case"io":return e.ordinalNumber(s,{unit:"day"});case"iii":return e.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(r,{width:"short",context:"formatting"});default:return e.day(r,{width:"wide",context:"formatting"})}},a:function(t,n,e){const s=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(s,{width:"narrow",context:"formatting"});default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,n,e){const r=t.getHours();let s;switch(s=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",n){case"b":case"bb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(s,{width:"narrow",context:"formatting"});default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,n,e){const r=t.getHours();let s;switch(s=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",n){case"B":case"BB":case"BBB":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(s,{width:"narrow",context:"formatting"});default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,n,e){if("ho"===n){let r=t.getHours()%12;return 0===r&&(r=12),e.ordinalNumber(r,{unit:"hour"})}return Uc.h(t,n)},H:function(t,n,e){return"Ho"===n?e.ordinalNumber(t.getHours(),{unit:"hour"}):Uc.H(t,n)},K:function(t,n,e){const r=t.getHours()%12;return"Ko"===n?e.ordinalNumber(r,{unit:"hour"}):is(r,n.length)},k:function(t,n,e){let r=t.getHours();return 0===r&&(r=24),"ko"===n?e.ordinalNumber(r,{unit:"hour"}):is(r,n.length)},m:function(t,n,e){return"mo"===n?e.ordinalNumber(t.getMinutes(),{unit:"minute"}):Uc.m(t,n)},s:function(t,n,e){return"so"===n?e.ordinalNumber(t.getSeconds(),{unit:"second"}):Uc.s(t,n)},S:function(t,n){return Uc.S(t,n)},X:function(t,n,e){const r=t.getTimezoneOffset();if(0===r)return"Z";switch(n){case"X":return xz(r);case"XXXX":case"XX":return iu(r);default:return iu(r,":")}},x:function(t,n,e){const r=t.getTimezoneOffset();switch(n){case"x":return xz(r);case"xxxx":case"xx":return iu(r);default:return iu(r,":")}},O:function(t,n,e){const r=t.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+bz(r,":");default:return"GMT"+iu(r,":")}},z:function(t,n,e){const r=t.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+bz(r,":");default:return"GMT"+iu(r,":")}},t:function(t,n,e){return is(Math.trunc(+t/1e3),n.length)},T:function(t,n,e){return is(+t,n.length)}};function bz(t,n=""){const e=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return 0===i?e+String(s):e+String(s)+n+is(i,2)}function xz(t,n){return t%60==0?(t>0?"-":"+")+is(Math.abs(t)/60,2):iu(t,n)}function iu(t,n=""){const e=t>0?"-":"+",r=Math.abs(t);return e+is(Math.trunc(r/60),2)+n+is(r%60,2)}const Sz=(t,n)=>{switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});default:return n.date({width:"full"})}},_z=(t,n)=>{switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});default:return n.time({width:"full"})}},xY={p:_z,P:(t,n)=>{const e=t.match(/(P+)(p+)?/)||[],r=e[1],s=e[2];if(!s)return Sz(t,n);let i;switch(r){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;default:i=n.dateTime({width:"full"})}return i.replace("{{date}}",Sz(r,n)).replace("{{time}}",_z(s,n))}},SY=/^D+$/,_Y=/^Y+$/,MY=["D","DD","YY","YYYY"];const RY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BY=/^'([^]*?)'?$/,NY=/''/g,FY=/[a-zA-Z]/;function l5(t,n,e){const r=o5(),s=e?.locale??r.locale??dY,i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=$a(t,e?.in);if(!function LY(t){return!(!function EY(t){return t instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)}(t)&&"number"!=typeof t||isNaN(+$a(t)))}(a))throw new RangeError("Invalid time value");let l=n.match(DY).map(u=>{const h=u[0];return"p"===h||"P"===h?(0,xY[h])(u,s.formatLong):u}).join("").match(RY).map(u=>{if("''"===u)return{isToken:!1,value:"'"};const h=u[0];if("'"===h)return{isToken:!1,value:PY(u)};if(Az[h])return{isToken:!0,value:u};if(h.match(FY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(u=>{if(!u.isToken)return u.value;const h=u.value;return(!e?.useAdditionalWeekYearTokens&&function zY(t){return _Y.test(t)}(h)||!e?.useAdditionalDayOfYearTokens&&function HY(t){return SY.test(t)}(h))&&function VY(t,n,e){const r=function TY(t,n,e){const r="Y"===t[0]?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${n}\`) for formatting ${r} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(t,n,e);if(console.warn(r),MY.includes(t))throw new RangeError(r)}(h,n,String(t)),(0,Az[h[0]])(a,h,s.localize,c)}).join("")}function PY(t){const n=t.match(BY);return n?n[1].replace(NY,"'"):t}function Mz(t,n,e,r){if(!e)return O(t,Ni("gmd:PT_FreeText"));function s(i,o){return O(Rr("gmd:textGroup","gmd:LocalisedCharacterString"),Fn("locale",`#${i.toUpperCase()}`),$i(o))}return O(t,Ni("gmd:PT_FreeText"),Gs("gmd:PT_FreeText"),on(s(r,n),...Object.entries(e).map(([i,o])=>s(i,o))))}function ws(t){return eu(O(ya("gco:CharacterString"),$i(t)))}function ea(t,n,e){return Mz(ws(t),t,n,e)}function c5(t){return eu(O(Xs("gmd:linkage","gmd:URL"),$i(t.toString())))}function Q9(t,n){return eu(O(ya("gmx:Anchor"),Fn("xlink:href",t.toString()),n?$i(n):li))}function e8(t,n,e,r){return Mz(Q9(t,n),n,e,r)}function u5(t){return O(ya("gco:DateTime"),$i(l5(t,"yyyy-MM-dd'T'HH:mm:ss")))}function h5(t){return eu(O(ya("gco:Decimal"),$i(t.toString())))}function Hz(t){switch(t){case"completed":return"completed";case"deprecated":return"deprecated";case"ongoing":return"onGoing";case"removed":return"removed";case"under_development":return"underDevelopment";case"planned":return"planned";case"required":return"required";default:throw new Error(`Could not determine progress code from status: ${t}`)}}function t8(t){switch(t){case"author":return"author";case"collaborator":return"collaborator";case"contributor":return"contributor";case"custodian":return"custodian";case"distributor":return"distributor";case"editor":return"editor";case"funder":return"funder";case"mediator":return"mediator";case"originator":return"originator";case"other":return"other";case"owner":return"owner";case"point_of_contact":return"pointOfContact";case"principal_investigator":return"principalInvestigator";case"processor":return"processor";case"publisher":return"publisher";case"resource_provider":return"resourceProvider";case"rights_holder":return"rightsHolder";case"sponsor":return"sponsor";case"stakeholder":return"stakeholder";case"unspecified":return"unspecified";case"user":return"user";default:throw new Error(`Could not determine role code from role: ${t}`)}}function zz(t,n,e){const r=rz(t.firstName,t.lastName),s=O(Rr("gmd:address","gmd:CI_Address"),on(O(wn("gmd:electronicMailAddress"),ws(t.email))),t.address?on(O(wn("gmd:deliveryPoint"),ws(t.address))):li),i=O(Rr("gmd:contactInfo","gmd:CI_Contact"),t.phone?on(O(Rr("gmd:phone","gmd:CI_Telephone","gmd:voice"),ws(t.phone))):li,on(s),t.organization?.website?on(O(Rr("gmd:onlineResource","gmd:CI_OnlineResource"),c5(t.organization.website))):li);return on(O(wn("gmd:CI_ResponsibleParty"),r?on(O(wn("gmd:individualName"),ws(r))):li,t.position?on(O(wn("gmd:positionName"),ws(t.position))):li,t.organization?.name?on(O(wn("gmd:organisationName"),ws(t.organization.name))):li,on(i,O(Rr("gmd:role","gmd:CI_RoleCode"),Fn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_RoleCode"),Fn("codeListValue",t8(t.role))))))}function n8(t,n,e){return"security"===n?O(Rr("gmd:resourceConstraints","gmd:MD_SecurityConstraints"),on(O(Rr("gmd:classification","gmd:MD_ClassificationCode"),Fn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_ClassificationCode"),Fn("codeListValue","restricted")),O(wn("gmd:useLimitation"),"url"in t?e8(t.url,t.text,t.translations?.text,e):ea(t.text,t.translations?.text,e)))):"legal"===n?O(Rr("gmd:resourceConstraints","gmd:MD_LegalConstraints"),on(O(Rr("gmd:accessConstraints","gmd:MD_RestrictionCode"),Fn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_RestrictionCode"),Fn("codeListValue","otherRestrictions")),O(wn("gmd:otherConstraints"),"url"in t?e8(t.url,t.text,t.translations?.text,e):ea(t.text,t.translations?.text,e)))):O(Rr("gmd:resourceConstraints","gmd:MD_Constraints","gmd:useLimitation"),"url"in t?e8(t.url,t.text,t.translations?.text,e):ea(t.text,t.translations?.text,e))}function r8(){return Ia(O(Ar("gmd:resourceConstraints"),Co(O(B4,t=>0===t.length))))}function qY(t){return on(O(Rr("gmd:distributionFormat","gmd:MD_Format"),on(O(wn("gmd:name"),ws(t)),O(wn("gmd:version"),ws("1.0")))))}function Vz(){return Rr("gmd:distributionInfo","gmd:MD_Distribution")}function Tz(t,n,e,r){let s,i,o;"service"===t.type?(s=t.identifierInService,i="download",o=function kY(t){switch(t.accessServiceProtocol.toLowerCase()){case"ogcfeatures":return"OGC API Features";case"wfs":return"OGC:WFS";case"wms":return"OGC:WMS";case"wps":return"OGC:WPS";default:return t.accessServiceProtocol}}(t)):"download"===t.type?(s=t.name,i="download",o="WWW:DOWNLOAD"):(s=t.name,i="information",o="WWW:LINK");const a=on(O(Rr("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),c5(t.url),"description"in t?on(O(wn("gmd:description"),ea(t.description,t.translations?.description,r))):li,void 0!==s?on(O(wn("gmd:name"),ea(s,t.translations?.name,r))):li,on(O(wn("gmd:protocol"),ws(o)),O(Rr("gmd:function","gmd:CI_OnLineFunctionCode"),Fn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_OnLineFunctionCode"),Fn("codeListValue",i)))));return O("mimeType"in t?n(t.mimeType):li,a)}function Rs(){return t=>{let e="gmd:MD_DataIdentification";return"service"===s5(t)&&(e="srv:SV_ServiceIdentification"),Xs("gmd:identificationInfo",e)(t)}}function eK(t,n){O(ya("gmd:fileIdentifier"),ws(t.uniqueIdentifier))(n)}function Ez(t,n){O(Xs("gmd:hierarchyLevel","gmd:MD_ScopeCode"),Fn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_ScopeCode"),Fn("codeListValue",oz(t)))(n)}function tK(t,n){O(Rs(),Xs("gmd:citation","gmd:CI_Citation","gmd:title"),ea(t.title,t.translations?.title,t.defaultLanguage))(n)}function nK(t,n){O(Rs(),ya("gmd:abstract"),ea(t.abstract,t.translations?.abstract,t.defaultLanguage))(n)}function rK(t,n){O(Rs(),Xs("gmd:status","gmd:MD_ProgressCode"),Fn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_ProgressCode"),Fn("codeListValue",Hz(t.status)))(n)}function sK(t,n){O(Ni("gmd:contact"),on(...t.contacts.map(e=>O(wn("gmd:contact"),zz(e)))))(n)}function iK(t,n){O(Rs(),Ni("gmd:pointOfContact"),Ni("gmd:contact"),on(...t.contactsForResource.map(e=>O(wn("gmd:pointOfContact"),zz(e)))))(n)}function oK(t,n){O(Rs(),function WY(){return Ia(O(Yr("gmd:descriptiveKeywords")))}(),function jY(t,n){return on(...t.reduce((r,s)=>{const i=s.thesaurus?.id,o=s.type;let a=r.find(l=>i?l[0].thesaurus?.id===i:l[0].type===o&&!l[0].thesaurus);return a||(a=[],r.push(a)),a.push(s),r},[]).map(r=>O(Rr("gmd:descriptiveKeywords","gmd:MD_Keywords"),on(O(Rr("gmd:type","gmd:MD_KeywordTypeCode"),Fn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_KeywordTypeCode"),Fn("codeListValue",r[0].type))),r[0].thesaurus?on(function ZY(t){return O(Rr("gmd:thesaurusName","gmd:CI_Citation"),on(O(wn("gmd:title"),ws(t.name||t.id)),O(Rr("gmd:identifier","gmd:MD_Identifier"),on(O(wn("gmd:code"),t.url?Q9(t.url,t.id):ws(t.id))))))}(r[0].thesaurus)):li,on(...r.map(s=>O(wn("gmd:keyword"),ea(s.label,s.translations?.label,n)))))))}(t.keywords,t.defaultLanguage))(n)}function aK(t,n){O(Rs(),Ni("gmd:topicCategory"),on(...t.topics.map(e=>O(Rr("gmd:topicCategory","gmd:MD_TopicCategoryCode"),$i(e)))))(n)}function lK(t,n){O(Rs(),function YY(){return Ia(O(Ar("gmd:resourceConstraints"),Co(O(Yr("gmd:MD_LegalConstraints","gmd:accessConstraints","gmd:MD_RestrictionCode"),Wn(zs("codeListValue")),t=>t.some(n=>"license"===n)))))}(),on(...t.licenses.map(e=>function KY(t,n){return O(Rr("gmd:resourceConstraints","gmd:MD_LegalConstraints"),on(O(Rr("gmd:accessConstraints","gmd:MD_RestrictionCode"),Fn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_RestrictionCode"),Fn("codeListValue","license")),O(Rr("gmd:accessConstraints","gmd:MD_RestrictionCode"),Fn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_RestrictionCode"),Fn("codeListValue","otherRestrictions")),O(wn("gmd:otherConstraints"),"url"in t?Q9(t.url,t.text):ea(t.text,t.translations?.text,n))))}(e,t.defaultLanguage))))(n)}function cK(t,n){O(Rs(),function XY(){return eu(O(Ar("gmd:resourceConstraints"),Wn(Ia(O(Ar("gmd:MD_LegalConstraints"),Co(O(Yr("gmd:accessConstraints","gmd:MD_RestrictionCode"),Wn(zs("codeListValue")),t=>t.every(n=>"license"!==n))))))))}(),r8(),on(...t.legalConstraints.map(e=>n8(e,"legal",t.defaultLanguage))))(n)}function uK(t,n){O(Rs(),function $Y(){return eu(O(Ar("gmd:resourceConstraints"),Wn(Ia(O(Ar("gmd:MD_SecurityConstraints"),Co(O(Yr("gmd:useLimitation"),t=>t.length>0)))))))}(),r8(),on(...t.securityConstraints.map(e=>n8(e,"security",t.defaultLanguage))))(n)}function hK(t,n){O(Rs(),function UY(){return eu(O(Ar("gmd:resourceConstraints"),Wn(Ia(O(Ar("gmd:MD_Constraints"),Co(O(Yr("gmd:useLimitation"),t=>t.length>0)))))))}(),r8(),on(...t.otherConstraints.map(e=>n8(e,"other",t.defaultLanguage))))(n)}function dK(t,n){O(Rs(),ya("gmd:resourceMaintenance"),t=>t?(t.children.forEach(n=>n.parent=null),t.children=[],t):null,ya("gmd:MD_MaintenanceInformation"),"object"==typeof t.updateFrequency?O(z0("gmd:userDefinedMaintenanceFrequency","gts:TM_PeriodDuration"),$i(function GY(t){const n={years:0,months:0,weeks:0,days:0,hours:0};switch(t.per){case"day":t.updatedTimes<=1?n.days=1:n.hours=Math.round(24/t.updatedTimes);break;case"week":n.days=Math.round(7/t.updatedTimes-1e-4);break;case"month":t.updatedTimes<=1?n.months=1:n.days=Math.round(30/t.updatedTimes);break;case"year":t.updatedTimes<=1?n.years=1:n.months=Math.round(12/t.updatedTimes)}return`P${n.years}Y${n.months}M${n.days}D${n.hours>0?`T${n.hours}H`:""}`}(t.updateFrequency))):O(z0("gmd:maintenanceAndUpdateFrequency","gmd:MD_MaintenanceFrequencyCode"),Fn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_MaintenanceFrequencyCode"),Fn("codeListValue",function OY(t){switch(t){case"asNeeded":return"asNeeded";case"unknown":return"unknown";case"irregular":return"irregular";case"notPlanned":return"notPlanned";case"continual":return"continual";case"periodic":return"periodic";case"daily":return"daily";case"weekly":return"weekly";case"fortnightly":return"fortnightly";case"monthly":return"monthly";case"quarterly":return"quarterly";case"biannually":return"biannually";case"annually":return"annually";case"semimonthly":return"semimonthly";case"biennially":return"biennially"}}(t.updateFrequency))))(n)}function pK(t,n){O(ya("gmd:dateStamp"),t=>t?(t.children.forEach(n=>n.parent=null),t.children=[],t):null,u5(t.recordUpdated))(n)}function s8(t){return O(Rs(),Xs("gmd:citation","gmd:CI_Citation"),Ia(O(Yr("gmd:date"),Co(O(Lr("gmd:CI_Date","gmd:dateType","gmd:CI_DateTypeCode"),zs("codeListValue"),zn(n=>n===t))))))}function i8(t,n){return O(Rs(),Xs("gmd:citation","gmd:CI_Citation"),on(O(Rr("gmd:date","gmd:CI_Date"),on(O(wn("gmd:date"),u5(t)),O(Rr("gmd:dateType","gmd:CI_DateTypeCode"),Fn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_DateTypeCode"),Fn("codeListValue",n))))))}function fK(t,n){s8("creation")(n),t.resourceCreated&&i8(t.resourceCreated,"creation")(n)}function gK(t,n){s8("revision")(n),t.resourceUpdated&&i8(t.resourceUpdated,"revision")(n)}function vK(t,n){s8("publication")(n),t.resourcePublished&&i8(t.resourcePublished,"publication")(n)}function mK(t,n){Ez(t,n)}function wK(t,n){t.spatialRepresentation?O(Rs(),Xs("gmd:spatialRepresentationType","gmd:MD_SpatialRepresentationTypeCode"),Fn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_SpatialRepresentationTypeCode"),Fn("codeListValue",t.spatialRepresentation))(n):O(Rs(),Ni("gmd:spatialRepresentationType"))(n)}function CK(t,n){O(Rs(),Ni("gmd:graphicOverview"),on(...t.overviews.filter(e=>e.url).map(e=>O(Rr("gmd:graphicOverview","gmd:MD_BrowseGraphic"),on(O(wn("gmd:fileName"),ws(e.url.toString()))),"description"in e?on(O(wn("gmd:fileDescription"),ws(e.description))):li))))(n)}function yK(t,n){O(Xs("gmd:dataQualityInfo","gmd:DQ_DataQuality","gmd:lineage","gmd:LI_Lineage","gmd:statement"),ea(t.lineage,t.translations?.lineage,t.defaultLanguage))(n)}function AK(t){let n,e,r;"endpoint"===t.type?(n=t.url.toString(),r=function IK(t){switch(t.accessServiceProtocol.toLowerCase()){case"wfs":return"OGC:WFS";case"wms":return"OGC:WMS";case"wps":return"OGC:WPS";default:return t.accessServiceProtocol}}(t),e="download"):(n=t.url.toString(),e="information",r="WWW:LINK");const s=on(O(wn("gmd:transferOptions"),z0("gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),c5(n),"description"in t?on(O(wn("gmd:description"),ws(t.description))):li,"name"in t?on(O(wn("gmd:name"),ws(t.name))):li,on(O(wn("gmd:protocol"),ws(r)),O(Rr("gmd:function","gmd:CI_OnLineFunctionCode"),Fn("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_OnLineFunctionCode"),Fn("codeListValue",e)))));return O(Rr("gmd:distributionInfo","gmd:MD_Distribution"),s)}function Lz(t,n){on(...t.onlineResources.map(AK))(n)}function xK(t,n){(function JY(){return Ni("gmd:distributionInfo")})()(n),"dataset"!==t.kind&&"reuse"!==t.kind?Lz(t,n):function bK(t,n){on(...t.onlineResources.map(e=>O(Vz(),Tz(e,qY,0,t.defaultLanguage))))(n)}(t,n)}function SK(t,n){O(Rs(),Xs("gmd:extent","gmd:EX_Extent"),Ni("gmd:temporalElement"),on(...t.temporalExtents.map(e=>O(Rr("gmd:temporalElement","gmd:EX_TemporalExtent"),on("start"in e&&"end"in e?O(Rr("gmd:extent","gml:TimePeriod"),on(O(wn("gml:beginPosition"),O(e.start?$i(l5(e.start,"yyyy-MM-dd")):Fn("indeterminatePosition","unknown"))),O(wn("gml:endPosition"),O(e.end?$i(l5(e.end,"yyyy-MM-dd")):Fn("indeterminatePosition","unknown"))))):O(Rr("gmd:extent","gml:TimeInstant","gml:timePosition"),e.start?$i(l5(e.start,"yyyy-MM-dd")):Fn("indeterminatePosition","unknown")))))))(n)}function _K(t,n){O(Rs(),Xs("gmd:extent","gmd:EX_Extent"),Ni("gmd:geographicElement"),on(...t.spatialExtents.map(i=>O(wn("gmd:geographicElement"),on((i=>i?O(wn("gmd:EX_BoundingPolygon"),on(O(wn("gmd:polygon"),on(()=>function W$(t){const e=(new nz).readGeometry(t),i=(new tz).writeGeometryNode(e).firstElementChild;return d9(u9((new XMLSerializer).serializeToString(i)))}(i))))):null)(i.geometry),(i=>i?O(wn("gmd:EX_GeographicBoundingBox"),on(O(wn("gmd:westBoundLongitude"),h5(i[0])),O(wn("gmd:eastBoundLongitude"),h5(i[2])),O(wn("gmd:southBoundLatitude"),h5(i[1])),O(wn("gmd:northBoundLatitude"),h5(i[3])))):null)(i.bbox),((i,o)=>i?O(Rr("gmd:EX_GeographicDescription","gmd:geographicIdentifier","gmd:MD_Identifier","gmd:code"),ea(i,o,t.defaultLanguage)):null)(i.description,i.translations?.description))))))(n)}function MK(t,n){if(Ni("gmd:locale")(n),!t.otherLanguages?.length)return;const e=r=>O(Rr("gmd:locale","gmd:PT_Locale"),Fn("id",r.toUpperCase()),z0("gmd:languageCode","gmd:LanguageCode"),Fn("codeList","http://www.loc.gov/standards/iso639-2/"),Fn("codeListValue",X9(r)??r));on(e(t.defaultLanguage),...t.otherLanguages.map(e))(n)}function HK(t,n){const e=X9(t.defaultLanguage.toLowerCase());return O(Xs("gmd:language","gmd:LanguageCode"),Fn("codeList","http://www.loc.gov/standards/iso639-2/"),Fn("codeListValue",e))(n)}function zK(t,n){const e=t.resourceIdentifiers?.[0]?.code;O(Rs(),Xs("gmd:citation","gmd:CI_Citation"),Ni("gmd:identifier"),e?O(z0("gmd:identifier","gmd:MD_Identifier","gmd:code"),ws(e)):li)(n)}class o8 extends mH{constructor(){super(...arguments),this.readers={uniqueIdentifier:oX,kind:s5,ownerOrganization:aX,recordUpdated:hX,recordCreated:()=>{},recordPublished:()=>{},resourceIdentifiers:RX,resourceUpdated:lX,resourceCreated:cX,resourcePublished:uX,reuseType:dX,title:pX,abstract:fX,contacts:gX,contactsForResource:vX,keywords:CX,topics:SX,licenses:xX,legalConstraints:IX,securityConstraints:AX,otherConstraints:bX,status:yX,updateFrequency:zX,spatialRepresentation:_X,overviews:MX,lineage:HX,onlineResources:VX,temporalExtents:TX,spatialExtents:EX,otherLanguages:LX,defaultLanguage:pz,extras:()=>{},landingPage:()=>{},translations:()=>{}},this.writers={uniqueIdentifier:eK,kind:Ez,ownerOrganization:()=>{},recordUpdated:pK,recordCreated:()=>{},recordPublished:()=>{},resourceIdentifiers:zK,resourceUpdated:gK,resourceCreated:fK,resourcePublished:vK,reuseType:mK,title:tK,abstract:nK,contacts:sK,contactsForResource:iK,keywords:oK,topics:aK,licenses:lK,legalConstraints:cK,securityConstraints:uK,otherConstraints:hK,status:rK,updateFrequency:dK,spatialRepresentation:wK,overviews:CK,lineage:yK,onlineResources:xK,temporalExtents:SK,spatialExtents:_K,otherLanguages:MK,defaultLanguage:HK,extras:()=>{},landingPage:()=>{},translations:()=>{}}}beforeDocumentCreation(n){}afterRecordRead(n){function e(r){if("translations"in r)for(const s in r.translations){const i=r.translations[s]??{};if(n.defaultLanguage in i&&delete i[n.defaultLanguage],0!==Object.keys(i).length)for(const o in i)n.otherLanguages.includes(o)||n.otherLanguages.push(o);else delete r.translations[s]}}return e(n),n.keywords.map(e),n.onlineResources.map(e),n.licenses.map(e),n.legalConstraints.map(e),n.securityConstraints.map(e),n.otherConstraints.map(e),n.contacts.map(r=>e(r.organization)),n.contactsForResource.map(r=>e(r.organization)),e(n.ownerOrganization),"dataset"===n.kind&&n.spatialExtents.map(e),n.otherLanguages.includes(n.defaultLanguage)&&(n.otherLanguages=n.otherLanguages.filter(r=>r!==n.defaultLanguage)),n}readBaseRecord(n,e){const r=this.readers.uniqueIdentifier(n,e),s=this.readers.kind(n,e),i=this.readers.ownerOrganization(n,e),o=this.readers.title(n,e),a=this.readers.abstract(n,e),l=this.readers.contacts(n,e),c=this.readers.contactsForResource(n,e),u=this.readers.recordUpdated(n,e),h=this.readers.recordCreated(n,e),d=this.readers.recordPublished(n,e),p=this.readers.resourceCreated(n,e),v=this.readers.resourceUpdated(n,e),b=this.readers.resourcePublished(n,e),M=this.readers.keywords(n,e),z=this.readers.topics(n,e),B=this.readers.legalConstraints(n,e),pe=this.readers.otherConstraints(n,e),fe=this.readers.securityConstraints(n,e),we=this.readers.licenses(n,e),ee=this.readers.overviews(n,e),Ie=this.readers.landingPage(n,e),De=this.readers.onlineResources(n,e),nt=this.readers.otherLanguages(n,e),rt=this.readers.defaultLanguage(n,e),ft=this.readers.resourceIdentifiers(n,e),tt=this.readers.spatialExtents(n,e);return{uniqueIdentifier:r,...ft?.length>0&&{resourceIdentifiers:ft},kind:s,otherLanguages:nt,defaultLanguage:rt,...h&&{recordCreated:h},...d&&{recordPublished:d},recordUpdated:u,...p&&{resourceCreated:p},...v&&{resourceUpdated:v},...b&&{resourcePublished:b},title:o,abstract:a,ownerOrganization:i,contacts:l,contactsForResource:c,keywords:M,topics:z,licenses:we,legalConstraints:B,securityConstraints:fe,otherConstraints:pe,overviews:ee,spatialExtents:tt,onlineResources:De,translations:e,...Ie&&{landingPage:Ie}}}readRecord(n){var e=this;return(0,qo.A)(function*(){const s=d9(u9(n)),i={},o=e.readers.kind(s,i);if("dataset"===o){const a=e.readers.status(s,i),l=e.readers.spatialRepresentation(s,i),c=e.readers.temporalExtents(s,i),u=e.readers.lineage(s,i),h=e.readers.updateFrequency(s,i);return e.afterRecordRead({...e.readBaseRecord(s,i),kind:o,status:a,lineage:u,...l&&{spatialRepresentation:l},temporalExtents:c,updateFrequency:h,translations:i})}if("reuse"===o){const a=e.readers.lineage(s,i),l=e.readers.temporalExtents(s,i),c=e.readers.reuseType(s,i);return e.afterRecordRead({...e.readBaseRecord(s,i),kind:o,lineage:a,temporalExtents:l,reuseType:c})}return e.afterRecordRead({...e.readBaseRecord(s,i),kind:o})})()}writeRecord(n,e){var r=this;return(0,qo.A)(function*(){let s,i;if(e){let a;const l=u9(e),c=yield r.readRecord(e);s=d9(l),i=u=>null===c||!R4(n[u],c[u])||a&&wH(u),a=i("otherLanguages")}else s=wn("gmd:MD_Metadata")(),i=()=>!0;return i("uniqueIdentifier")&&r.writers.uniqueIdentifier(n,s),i("reuseType")&&r.writers.reuseType(n,s),i("kind")&&r.writers.kind(n,s),i("defaultLanguage")&&r.writers.defaultLanguage(n,s),i("contacts")&&r.writers.contacts(n,s),i("ownerOrganization")&&r.writers.ownerOrganization(n,s),i("recordUpdated")&&r.writers.recordUpdated(n,s),i("recordCreated")&&r.writers.recordCreated(n,s),i("recordPublished")&&r.writers.recordPublished(n,s),(i("title")||i("translations"))&&r.writers.title(n,s),(i("abstract")||i("translations"))&&r.writers.abstract(n,s),i("resourceCreated")&&r.writers.resourceCreated(n,s),i("resourcePublished")&&r.writers.resourcePublished(n,s),i("resourceUpdated")&&r.writers.resourceUpdated(n,s),i("contactsForResource")&&r.writers.contactsForResource(n,s),i("keywords")&&r.writers.keywords(n,s),i("topics")&&r.writers.topics(n,s),i("legalConstraints")&&r.writers.legalConstraints(n,s),i("securityConstraints")&&r.writers.securityConstraints(n,s),i("licenses")&&r.writers.licenses(n,s),i("otherConstraints")&&r.writers.otherConstraints(n,s),i("onlineResources")&&r.writers.onlineResources(n,s),i("resourceIdentifiers")&&r.writers.resourceIdentifiers(n,s),"dataset"===n.kind&&(i("status")&&r.writers.status(n,s),i("updateFrequency")&&r.writers.updateFrequency(n,s),i("spatialRepresentation")&&r.writers.spatialRepresentation(n,s),i("overviews")&&r.writers.overviews(n,s),i("temporalExtents")&&r.writers.temporalExtents(n,s),i("spatialExtents")&&r.writers.spatialExtents(n,s),(i("lineage")||i("translations"))&&r.writers.lineage(n,s)),i("otherLanguages")&&r.writers.otherLanguages(n,s),r.beforeDocumentCreation(s),M0(h9(s))})()}}function a8(t){return O(Lr("mdb:metadataScope","mdb:MD_MetadataScope","mdb:resourceScope","mcc:MD_ScopeCode"),zs("codeListValue"),zn(n=>Y9(n)))(t)}function l8(t,n,e){const r=O(nn("cit:positionName"),bs()),s=O(nn("cit:name"),bs(),zn(d=>d?j9(d):[])),i=Lr("cit:contactInfo","cit:CI_Contact"),o=O(i,Lr("cit:address","cit:CI_Address")),a=O(o,ss(O(nn("cit:deliveryPoint",!1),bs()),O(nn("cit:city",!1),bs()),O(nn("cit:postalCode",!1),bs()),O(nn("cit:country",!1),bs())),zn(d=>d.filter(p=>!!p).join(", "))),l=O(i,Lr("cit:phone","cit:CI_Telephone","cit:number"),bs()),c=O(o,nn("cit:electronicMailAddress",!1),bs()),u={name:"Missing Organization",translations:{}};let h={};return e&&(h={email:e.email,...e.address&&{address:e.address},...e.phone&&{phone:e.phone},...e.position&&{position:e.position},organization:n}),O(ss(r,s,c,a,l),zn(([d,[p,v],b,M,z])=>({...h,email:b||h.email||"missing@missing.com",role:t,organization:n||u,...d&&{position:d},...p&&{firstName:p},...v&&{lastName:v},...M&&{address:M},...z&&{phone:z}})))}function Rz(){const t=O(nn("cit:role"),az()),n=O(ss(t,Yr("cit:party","cit:CI_Individual")),([r,s])=>s.map(l8(r))),e=O(ss(t,Yr("cit:party","cit:CI_Organisation")),zn(([r,s])=>s.map(function EK(t){return O(ss(function TK(){const t=O(Yr("cit:contactInfo","cit:CI_Contact","cit:onlineResource","cit:CI_OnlineResource","cit:linkage"),Wc(0),tc());return O(ss(O(nn("cit:name",!1),Fi("name")),t),zn(([[n,e],r])=>({name:n,...r&&{website:r},translations:e})))}(),l8(t),Yr("cit:individual","cit:CI_Individual")),zn(([n,e,r])=>r.length?r.map(s=>l8(t,n,e)(s)):[{email:e.email,...e.address&&{address:e.address},...e.phone&&{phone:e.phone},...e.position&&{position:e.position},organization:n,role:t}]))}(r))),t=>t.flat());return O(ss(n,e),t=>t.flat())}function LK(t){return O(Lr("mdb:metadataIdentifier","mcc:MD_Identifier","mcc:code"),bs())(t)}function RK(t){const n=Dz(t),e=Bz(t);return(n.filter(s=>"point_of_contact"===s.role)[0]||n[0]||e[0]).organization}function Dz(t){return O(Yr("mdb:contact","cit:CI_Responsibility"),Wn(Rz()),t=>t.flat())(t)}function Bz(t){return O(ss(O(Yi(),Yr("mri:citation","cit:CI_Citation","cit:citedResponsibleParty")),O(Yi(),Ar("mri:pointOfContact",!1)),O(function VK(){return Lr("mdb:distributionInfo","mrd:MD_Distribution")}(),Ar("mrd:distributorContact"))),t=>t.flat(),Wn(nn("cit:CI_Responsibility",!1)),Wn(Rz()),t=>t.flat())(t)}function DK(t){return O(Lr("mdb:metadataLinkage","cit:CI_OnlineResource","cit:linkage"),tc())(t)}function BK(t,n){return O(Lr("mdb:resourceLineage","mrl:LI_Lineage","mrl:statement"),Fi("lineage",n),zn(([e])=>e))(t)}function c8(t){return O(Ar("mdb:dateInfo",!1),Co(n=>O(nn("cit:CI_DateTypeCode"),zs("codeListValue"))(n)===t),Wc(0),nn("cit:date"),K9())}function NK(t){return c8("revision")(t)}function FK(t){return c8("creation")(t)}function PK(t){return c8("publication")(t)}function kK(t){return O(Lr("mdb:metadataScope","mdb:MD_MetadataScope","mdb:resourceScope","mcc:MD_ScopeCode"),zs("codeListValue"),zn(n=>iz(n)))(t)}const OK=O(yH("mrd:MD_Distribution"),Lr("mrd:distributionFormat","mrd:MD_Format","mrd:formatSpecificationCitation","cit:CI_Citation","cit:title"),bs(),zn(bH));function GK(t){let n;return n="dataset"===a8(t)?uz(OK):"service"===a8(t)?hz():dz(),O(Yr("mrd:distributionInfo","mrd:MD_Distribution"),Wn(n),t=>t.flat())(t)}function Nz(){return O(nn("lan:LanguageCode"),zs("codeListValue"),zn(t=>t5(t?.toLowerCase())??t))}function WK(t){return O(nn("mdb:defaultLocale",!1),Nz())(t)}function ZK(t){return O(Ar("mdb:otherLocale",!1),Wn(Nz()),zn(n=>n.filter(e=>null!==e)))(t)}function jK(t,n){O(Xs("mdb:metadataIdentifier","mcc:MD_Identifier","mcc:code"),ws(t.uniqueIdentifier))(n)}function Fz(t,n){const e=oz(t);O(Xs("mdb:metadataScope","mdb:MD_MetadataScope","mdb:resourceScope","mcc:MD_ScopeCode"),Fn("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#MD_ScopeCode"),Fn("codeListValue",e),$i(e))(n)}function u8(t){return Ia(O(Ar("mdb:dateInfo",!1),Co(O(nn("cit:CI_DateTypeCode"),zs("codeListValue"),zn(n=>n===t)))))}function h8(t,n){return on(O(wn("mdb:dateInfo"),Gs("cit:CI_Date"),on(O(wn("cit:date"),u5(t)),O(wn("cit:dateType"),Gs("cit:CI_DateTypeCode"),Fn("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#CI_DateTypeCode"),Fn("codeListValue",n),$i(n)))))}function UK(t,n){u8("revision")(n),h8(t.recordUpdated,"revision")(n)}function $K(t,n){u8("creation")(n),t.recordCreated&&h8(t.recordCreated,"creation")(n)}function XK(t,n){u8("publication")(n),t.recordPublished&&h8(t.recordPublished,"publication")(n)}function d8(t){return O(Rs(),Xs("mri:citation","cit:CI_Citation"),Ia(O(Ar("cit:date",!1),Co(O(nn("cit:CI_DateTypeCode"),zs("codeListValue"),zn(n=>n===t))))))}function p8(t,n){return O(Yi(),Lr("mri:citation","cit:CI_Citation"),on(O(wn("cit:date"),Gs("cit:CI_Date"),on(O(wn("cit:date"),u5(t)),O(wn("cit:dateType"),Gs("cit:CI_DateTypeCode"),Fn("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#CI_DateTypeCode"),Fn("codeListValue",n),$i(n))))))}function YK(t,n){d8("revision")(n),t.resourceUpdated&&p8(t.resourceUpdated,"revision")(n)}function KK(t,n){d8("creation")(n),t.resourceCreated&&p8(t.resourceCreated,"creation")(n)}function JK(t,n){d8("publication")(n),t.resourcePublished&&p8(t.resourcePublished,"publication")(n)}function qK(t,n){Fz(t,n)}function f8(t,n){const e=rz(t.firstName,t.lastName),r=O(wn("cit:individual"),Gs("cit:CI_Individual"),e?on(O(wn("cit:name"),ws(e))):li,t.position?on(O(wn("cit:positionName"),ws(t.position))):li),s=O(wn("cit:contactInfo"),Gs("cit:CI_Contact"),on(O(wn("cit:address"),Gs("cit:CI_Address"),on(O(wn("cit:electronicMailAddress"),ws(t.email))),t.address?on(O(wn("cit:deliveryPoint"),ws(t.address))):li)),t.organization?.website?on(O(wn("cit:onlineResource"),Gs("cit:CI_OnlineResource"),Gs("cit:linkage"),ws(t.organization.website.toString()))):li,t.phone?on(O(wn("cit:phone"),Gs("cit:CI_Telephone"),Gs("cit:number"),ws(t.phone))):li),i=O(wn("cit:role"),Gs("cit:CI_RoleCode"),Fn("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#CI_RoleCode"),Fn("codeListValue",t8(t.role)),$i(t8(t.role))),o=O(wn("cit:party"),Gs("cit:CI_Organisation"),t.organization?.name?on(O(wn("cit:name"),ea(t.organization?.name,t.organization?.translations?.name,n))):li,on(s,r));return on(O(wn("cit:CI_Responsibility"),on(i,o)))}function QK(t,n){O(Ni("mdb:contact"),on(...t.contacts.map(e=>O(wn("gmd:contact"),f8(e,t.defaultLanguage)))))(n)}function eJ(t,n){const e=t.contactsForResource.filter(s=>"distributor"!==s.role),r=t.contactsForResource.filter(s=>"distributor"===s.role);O(Rs(),Ni("mri:pointOfContact"),on(...e.map(s=>O(wn("mri:pointOfContact"),f8(s,t.defaultLanguage)))))(n),r.length&&O(function QY(){return t=>Xs("gmd:distributionInfo","gmd:MD_Distribution")(t)}(),Ni("mrd:distributor"),Gs("mrd:distributor"),Gs("mrd:MD_Distributor"),on(...r.map(s=>O(wn("mrd:distributorContact"),f8(s,t.defaultLanguage)))))(n)}function tJ(t,n){O(Xs("mdb:metadataLinkage","cit:CI_OnlineResource","cit:linkage"),c5(t.landingPage))(n)}function nJ(t,n){O(Xs("mdb:resourceLineage","mrl:LI_Lineage","mrl:statement"),ea(t.lineage,t.translations?.lineage,t.defaultLanguage))(n)}function rJ(t,n){const e=Hz(t.status);O(Rs(),Xs("mri:status","mcc:MD_ProgressCode"),Fn("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#MD_ProgressCode"),Fn("codeListValue",e),$i(e))(n)}function sJ(t,n){t.spatialRepresentation?O(Rs(),Xs("mri:spatialRepresentationType","mcc:MD_SpatialRepresentationTypeCode"),Fn("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#MD_SpatialRepresentationTypeCode"),Fn("codeListValue",t.spatialRepresentation),$i(t.spatialRepresentation))(n):O(Rs(),Ni("mri:spatialRepresentationType"))(n)}function oJ(t){return on(O(wn("mrd:distributionFormat"),Gs("mrd:MD_Format"),Gs("mrd:formatSpecificationCitation"),Gs("cit:CI_Citation"),Gs("cit:title"),ws(t)))}function aJ(t,n){(function iJ(t){O(Yr("mdb:distributionInfo","mrd:MD_Distribution"),Wn(O(Ia(Ar("mrd:distributionFormat",!1)),Ia(Ar("mrd:transferOptions",!1)))))(t),Ia(O(Ar("mdb:distributionInfo",!1),Co(O(nn("mrd:MD_Distribution"),B4,zn(n=>0===n.length)))))(t)})(n),"service"!==t.kind?t.onlineResources.forEach((e,r)=>{O(Zc(O(Yr("gmd:distributionInfo","gmd:MD_Distribution"),Wc(r)),IH(Vz())),Tz(e,oJ,0,t.defaultLanguage))(n)}):Lz(t,n)}function Pz(t){const n=X9(t.toLowerCase())??t;return O(ya("lan:PT_Locale"),Fn("id",t.toUpperCase()),Xs("lan:language","gmd:LanguageCode"),Fn("codeList","http://www.loc.gov/standards/iso639-2/"),Fn("codeListValue",n))}function lJ(t,n){O(ya("mdb:defaultLocale"),Pz(t.defaultLanguage))(n)}function cJ(t,n){Ni("mdb:otherLocale")(n),t.otherLanguages?.length&&on(...t.otherLanguages.map(e=>O(wn("mdb:otherLocale"),Pz(e))))(n)}class g8 extends o8{constructor(){super(),this.readers.uniqueIdentifier=LK,this.readers.kind=a8,this.readers.recordUpdated=NK,this.readers.recordCreated=FK,this.readers.recordPublished=PK,this.readers.contacts=Dz,this.readers.contactsForResource=Bz,this.readers.ownerOrganization=RK,this.readers.landingPage=DK,this.readers.lineage=BK,this.readers.onlineResources=GK,this.readers.defaultLanguage=WK,this.readers.otherLanguages=ZK,this.readers.reuseType=kK,this.writers.uniqueIdentifier=jK,this.writers.kind=Fz,this.writers.recordUpdated=UK,this.writers.recordCreated=$K,this.writers.recordPublished=XK,this.writers.resourceUpdated=YK,this.writers.resourceCreated=KK,this.writers.resourcePublished=JK,this.writers.reuseType=qK,this.writers.contacts=QK,this.writers.contactsForResource=eJ,this.writers.ownerOrganization=()=>{},this.writers.landingPage=tJ,this.writers.lineage=nJ,this.writers.onlineResources=aJ,this.writers.status=rJ,this.writers.spatialRepresentation=sJ,this.writers.defaultLanguage=lJ,this.writers.otherLanguages=cJ}beforeDocumentCreation(n){!function _U(t,n){(function e(r){r.name in n?r.name=n[r.name]:r.name&&CH(r.name)in n&&(r.name=`${n[CH(r.name)]}:${ec(r.name)}`),r.children&&r.children.forEach(e)})(t)}(n,{gmd:"mdb","gmd:characterEncoding":"lan:characterEncoding","gmd:MD_CharacterSetCode":"lan:MD_CharacterSetCode","gmd:MD_DataIdentification":"mri:MD_DataIdentification","gmd:citation":"mri:citation","gmd:abstract":"mri:abstract","gmd:title":"cit:title","gmd:CI_Citation":"cit:CI_Citation","gmx:Anchor":"gcx:Anchor","gmd:PT_Locale":"lan:PT_Locale","gmd:PT_FreeText":"lan:PT_FreeText","gmd:LanguageCode":"lan:LanguageCode","gmd:status":"mri:status","gmd:MD_ProgressCode":"mri:MD_ProgressCode","gmd:date":"cit:date","gmd:CI_Date":"cit:CI_Date","gmd:dateType":"cit:dateType","gmd:CI_DateTypeCode":"cit:CI_DateTypeCode","gmd:CI_Responsibility":"cit:CI_Responsibility","gmd:role":"cit:role","gmd:CI_RoleCode":"cit:CI_RoleCode","gmd:descriptiveKeywords":"mri:descriptiveKeywords","gmd:MD_Keywords":"mri:MD_Keywords","gmd:type":"mri:type","gmd:MD_KeywordTypeCode":"mri:MD_KeywordTypeCode","gmd:thesaurusName":"mri:thesaurusName","gmd:keyword":"mri:keyword","gmd:identifier":"cit:identifier","gmd:MD_Identifier":"mcc:MD_Identifier","gmd:code":"mcc:code","gmd:MD_Distribution":"mrd:MD_Distribution","gmd:transferOptions":"mrd:transferOptions","gmd:MD_DigitalTransferOptions":"mrd:MD_DigitalTransferOptions","gmd:onLine":"mrd:onLine","gmd:distributionFormat":"mrd:distributionFormat","gmd:MD_Format":"mrd:MD_Format","gmd:CI_OnlineResource":"cit:CI_OnlineResource","gmd:linkage":"cit:linkage","gmd:name":"cit:name","gmd:description":"cit:description","gmd:CI_OnLineFunctionCode":"cit:CI_OnLineFunctionCode","gmd:function":"cit:function","gmd:protocol":"cit:protocol","gmd:topicCategory":"mri:topicCategory","gmd:MD_TopicCategoryCode":"mri:MD_TopicCategoryCode","gmd:resourceMaintenance":"mri:resourceMaintenance","gmd:MD_MaintenanceInformation":"mmi:MD_MaintenanceInformation","gmd:userDefinedMaintenanceFrequency":"mmi:userDefinedMaintenanceFrequency","gts:TM_PeriodDuration":"gco:TM_PeriodDuration","gmd:resourceConstraints":"mri:resourceConstraints","gmd:MD_Constraints":"mco:MD_Constraints","gmd:MD_LegalConstraints":"mco:MD_LegalConstraints","gmd:MD_SecurityConstraints":"mco:MD_SecurityConstraints","gmd:useLimitation":"mco:useLimitation","gmd:useConstraints":"mco:useConstraints","gmd:accessConstraints":"mco:accessConstraints","gmd:otherConstraints":"mco:otherConstraints","gmd:MD_RestrictionCode":"mco:MD_RestrictionCode","gmd:classification":"mco:classification","gmd:MD_ClassificationCode":"mco:MD_ClassificationCode","gmd:graphicOverview":"mri:graphicOverview","gmd:MD_BrowseGraphic":"mcc:MD_BrowseGraphic","gmd:fileName":"mcc:fileName","gmd:fileDescription":"mcc:fileDescription","gmd:URL":"gco:CharacterString"})}writeRecord(n,e){var r=()=>super.writeRecord,s=this;return(0,qo.A)(function*(){let i=yield r().call(s,n,e);return i=i.replace('"http://www.isotc211.org/2005/gco"','"http://standards.iso.org/iso/19115/-3/gco/1.0"'),i})()}}var to=K(1752);function xs(t,n){var e=n||{namedNode:function(s){return new to.A(s)}};return function(r){return e.namedNode(t+(r||""))}}const Io=xs("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),G0=(xs("http://www.w3.org/2000/01/rdf-schema#"),xs("http://xmlns.com/foaf/0.1/")),Cr=(xs("http://www.w3.org/2001/XMLSchema#"),xs("http://www.w3.org/ns/dcat#")),Ds=xs("http://purl.org/dc/terms/"),uJ=xs("http://www.w3.org/2004/02/skos/core#"),W0=(xs("http://schema.org/"),xs("https://spdx.org/rdf/terms/#"),xs("http://www.w3.org/ns/adms#"),xs("http://www.w3.org/ns/dqv#"),xs("http://www.w3.org/2002/07/owl#"),xs("http://www.w3.org/2006/vcard/ns#")),hJ=(xs("http://www.w3.org/2006/time#"),xs("http://www.w3.org/ns/locn#"));var v8=K(9391),Ks=K(1322),Js=K(1308),$c=K(1853),no=K(4009),Bo=K(6190),Vt=K(3380),nc=K(9423),Ao=K(9788),An=K(9535),Bs=K(1551);const rc={boolean:new to.A("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new to.A("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new to.A("http://www.w3.org/2001/XMLSchema#decimal"),double:new to.A("http://www.w3.org/2001/XMLSchema#double"),integer:new to.A("http://www.w3.org/2001/XMLSchema#integer"),langString:new to.A("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new to.A("http://www.w3.org/2001/XMLSchema#string")};function dJ(t,n,e){return n=(0,no.A)(n),(0,$c.A)(t,kz()?Reflect.construct(n,e||[],(0,no.A)(t).constructor):n.apply(t,e))}function kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kz=function(){return!!t})()}var ta=function(t){function n(e,r,s){var i;return(0,Ks.A)(this,n),i=dJ(this,n,[e]),(0,Vt.A)(i,"termType",An.QW),(0,Vt.A)(i,"classOrder",nc.A.Literal),(0,Vt.A)(i,"datatype",rc.string),(0,Vt.A)(i,"isVar",0),(0,Vt.A)(i,"language",""),r?(i.language=r,i.datatype=rc.langString):i.datatype=s?to.A.fromValue(s):rc.string,i}return(0,Bo.A)(n,t),(0,Js.A)(n,[{key:"copy",value:function(){return new n(this.value,this.lang,this.datatype)}},{key:"equals",value:function(r){return!!r&&this.termType===r.termType&&this.value===r.value&&this.language===r.language&&(!this.datatype&&!r.datatype||this.datatype&&this.datatype.equals(r.datatype))}},{key:"lang",get:function(){return this.language},set:function(r){this.language=r||""}},{key:"toNT",value:function(){return n.toNT(this)}},{key:"toString",value:function(){return""+this.value}}],[{key:"toNT",value:function(r){if("number"==typeof r.value)return""+r.value;if("string"!=typeof r.value)throw new Error("Value of RDF literal is not string or number: "+r.value);var s=r.value;return s='"'+(s=(s=(s=(s=s.replace(/\\/g,"\\\\")).replace(/\"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r"))+'"',r.language?s+="@"+r.language:r.datatype.equals(rc.string)||(s+="^^"+r.datatype.toCanonical()),s}},{key:"fromBoolean",value:function(r){return new n(r?"1":"0",null,rc.boolean)}},{key:"fromDate",value:function(r){if(!(r instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");var s=function(a){return(""+(100+a)).slice(1,3)};return new n(r.getUTCFullYear()+"-"+s(r.getUTCMonth()+1)+"-"+s(r.getUTCDate())+"T"+s(r.getUTCHours())+":"+s(r.getUTCMinutes())+":"+s(r.getUTCSeconds())+"Z",null,rc.dateTime)}},{key:"fromNumber",value:function(r){if("number"!=typeof r)throw new TypeError("Invalid argument to Literal.fromNumber()");var s,i=r.toString();return s=i.indexOf("e")<0&&Math.abs(r)<=Number.MAX_SAFE_INTEGER?Number.isInteger(r)?rc.integer:rc.decimal:rc.double,new n(i,null,s)}},{key:"fromValue",value:function(r){if((0,Bs.c$)(r))return r;switch((0,v8.A)(r)){case"object":if(r instanceof Date)return n.fromDate(r);case"boolean":return n.fromBoolean(r);case"number":return n.fromNumber(r);case"string":return new n(r)}throw new Error("Can't make literal from "+r+" of type "+(0,v8.A)(r))}}])}(Ao.A);function pJ(t,n,e){return n=(0,no.A)(n),(0,$c.A)(t,Oz()?Reflect.construct(n,e||[],(0,no.A)(t).constructor):n.apply(t,e))}function Oz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oz=function(){return!!t})()}var Xa=function(t){function n(e){var r;return(0,Ks.A)(this,n),r=pJ(this,n,[n.getId(e)]),(0,Vt.A)(r,"termType",An.$Q),(0,Vt.A)(r,"classOrder",nc.A.BlankNode),(0,Vt.A)(r,"isBlank",1),(0,Vt.A)(r,"isVar",1),r}return(0,Bo.A)(n,t),(0,Js.A)(n,[{key:"id",get:function(){return this.value},set:function(r){this.value=r}},{key:"compareTerm",value:function(r){return this.classOrder<r.classOrder?-1:this.classOrder>r.classOrder?1:this.id<r.id?-1:this.id>r.id?1:0}},{key:"copy",value:function(r){var s=new n;return r.copyTo(this,s),s}},{key:"toCanonical",value:function(){return n.NTAnonymousNodePrefix+this.value}},{key:"toString",value:function(){return n.NTAnonymousNodePrefix+this.id}}],[{key:"getId",value:function(r){if(r){if("string"!=typeof r)throw new Error("Bad id argument to new blank node: "+r);if(r.includes("#")){var s=r.split("#");return s[s.length-1]}return r}return"n"+n.nextId++}}])}(Ao.A);function fJ(t,n,e){return n=(0,no.A)(n),(0,$c.A)(t,Gz()?Reflect.construct(n,e||[],(0,no.A)(t).constructor):n.apply(t,e))}function Gz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gz=function(){return!!t})()}function Wz(t){return typeof t>"u"||null===t||(0,Bs.D0)(t)?t:Array.isArray(t)?new Xc(t):ta.fromValue(t)}(0,Vt.A)(Xa,"nextId",0),(0,Vt.A)(Xa,"NTAnonymousNodePrefix","_:");var Xc=function(t){function n(e){var r;return(0,Ks.A)(this,n),r=fJ(this,n,[(Xa.nextId++).toString()]),(0,Vt.A)(r,"termType",An.r0),(0,Vt.A)(r,"classOrder",nc.A.Collection),(0,Vt.A)(r,"closed",!1),(0,Vt.A)(r,"compareTerm",Xa.prototype.compareTerm),(0,Vt.A)(r,"elements",[]),(0,Vt.A)(r,"isVar",0),e&&e.length>0&&e.forEach(function(s){r.elements.push(Wz(s))}),r}return(0,Bo.A)(n,t),(0,Js.A)(n,[{key:"id",get:function(){return this.value},set:function(r){this.value=r}},{key:"append",value:function(r){return this.elements.push(r)}},{key:"close",value:function(){return this.closed=!0,this.closed}},{key:"shift",value:function(){return this.elements.shift()}},{key:"substitute",value:function(r){return new n(this.elements.map(function(i){return i.substitute(r)}))}},{key:"toNT",value:function(){return n.toNT(this)}},{key:"toString",value:function(){return"("+this.elements.join(" ")+")"}},{key:"unshift",value:function(r){return this.elements.unshift(r)}}],[{key:"toNT",value:function(r){return Xa.NTAnonymousNodePrefix+r.id}}])}(Ao.A);(0,Vt.A)(Xc,"termType",An.r0);var Z0="chrome:theSession";function gJ(t,n,e){return n=(0,no.A)(n),(0,$c.A)(t,Zz()?Reflect.construct(n,e||[],(0,no.A)(t).constructor):n.apply(t,e))}function Zz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zz=function(){return!!t})()}new to.A(Z0);var m8=function(t){function n(){var e;return(0,Ks.A)(this,n),e=gJ(this,n,[""]),(0,Vt.A)(e,"value",""),(0,Vt.A)(e,"termType",An.ic),(0,Vt.A)(e,"uri",Z0),e}return(0,Bo.A)(n,t),(0,Js.A)(n,[{key:"toCanonical",value:function(){return this.value}},{key:"toString",value:function(){return"DefaultGraph"}}])}(Ao.A);function jz(t){return!!t&&t.termType===An.ic}var vJ=new m8,ou=function(){function t(n,e,r,s){(0,Ks.A)(this,t),(0,Vt.A)(this,"subject",void 0),(0,Vt.A)(this,"predicate",void 0),(0,Vt.A)(this,"object",void 0),(0,Vt.A)(this,"graph",void 0),this.subject=Ao.A.fromValue(n),this.predicate=Ao.A.fromValue(e),this.object=Ao.A.fromValue(r),this.graph=null==s?vJ:Ao.A.fromValue(s)}return(0,Js.A)(t,[{key:"why",get:function(){return this.graph},set:function(e){this.graph=e}},{key:"equals",value:function(e){return e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}},{key:"substitute",value:function(e){return new t(this.subject.substitute(e),this.predicate.substitute(e),this.object.substitute(e),jz(this.graph)?this.graph:this.graph.substitute(e))}},{key:"toCanonical",value:function(){var e=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==An.ic&&e.push(this.graph.toCanonical()),e.join(" ")+" ."}},{key:"toNT",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}},{key:"toNQ",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),jz(this.graph)?"":this.graph.toNT()].join(" ")+" ."}},{key:"toString",value:function(){return this.toNT()}}])}(),Uz=Uz||console.log;function au(t){var n;return(n=t.indexOf("#"))<0?t:t.slice(0,n)}function mJ(t){var n=/[^\/]*\/\/([^\/]*)\//.exec(t);return n?n[1]:""}function Aa(t,n){var e,r,s,o,a,l=n.indexOf("#");if(l>0&&(n=n.slice(0,l)),0===t.length)return n;if(0===t.indexOf("#"))return n+t;if(t.indexOf(":")>=0||(e=n.indexOf(":"),0===n.length))return t;if(e<0)return Uz("Invalid base: "+n+" in join with given: "+t),t;if(r=n.slice(0,+e+1||9e9),0===t.indexOf("//"))return r+t;if(n.indexOf("//",e)===e+1){if((s=n.indexOf("/",e+3))<0)return n.length-e-3>0?n+"/"+t:r+t}else if((s=n.indexOf("/",e+1))<0)return n.length-e-1>0?n+"/"+t:r+t;if(0===t.indexOf("/"))return n.slice(0,s)+t;if((o=(a=n.slice(s)).lastIndexOf("/"))<0)return r+t;for(o>=0&&o<a.length-1&&(a=a.slice(0,+o+1||9e9)),a+=t;a.match(/[^\/]*\/\.\.\//);)a=a.replace(/[^\/]*\/\.\.\//,"");return a=(a=a.replace(/\.\//g,"")).replace(/\/\.$/,"/"),n.slice(0,s)+a}function $z(t){var n=t.indexOf(":");return n<0?null:t.slice(0,n)}function w8(t,n){var r,s,i,o,a,l,c,u,h,d,p,v,b=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!t)return n;if(t===n)return"";for(r=c=0,o=n.length;c<o&&n[r]===t[r];r=++c);if(t.slice(0,r).match(b)&&((s=n.indexOf("//"))<0&&(s=-2),i=n.indexOf("/",s+2),"/"!==n[i+1]&&"/"!==t[i+1]&&n.slice(0,i)===t.slice(0,i)))return n.slice(i);if("#"===n[r]&&t.length===r)return n.slice(r);for(;r>0&&"/"!==n[r-1];)r--;if(r<3||t.indexOf("//",r-2)>0||n.indexOf("//",r-2)>0||t.indexOf(":",r)>0)return n;for(l=0,u=0,a=(d=t.slice(r)).length;u<a;u++)"/"===d[u]&&l++;if(0===l&&r<n.length&&"#"===n[r])return"./"+n.slice(r);if(0===l&&r===n.length)return"./";if(v="",l>0)for(h=1,p=l;p>=1?h<=p:h>=p;p>=1?++h:--h)v+="../";return v+n.slice(r)}function wJ(t,n,e){return n=(0,no.A)(n),(0,$c.A)(t,Xz()?Reflect.construct(n,e||[],(0,no.A)(t).constructor):n.apply(t,e))}function Xz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xz=function(){return!!t})()}var lu=function(t){function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,Ks.A)(this,n),e=wJ(this,n,[r]),(0,Vt.A)(e,"termType",An.P2),(0,Vt.A)(e,"base","varid:"),(0,Vt.A)(e,"classOrder",nc.A.Variable),(0,Vt.A)(e,"isVar",1),(0,Vt.A)(e,"uri",void 0),e.base="varid:",e.uri=Aa(r,e.base),e}return(0,Bo.A)(n,t),(0,Js.A)(n,[{key:"equals",value:function(r){return!!r&&this.termType===r.termType&&this.value===r.value}},{key:"hashString",value:function(){return this.toString()}},{key:"substitute",value:function(r){var s;return null!=(s=r[this.toNT()])?s:this}},{key:"toString",value:function(){return n.toString(this)}}],[{key:"toString",value:function(r){return r.uri.slice(0,r.base.length)===r.base?"?".concat(r.uri.slice(r.base.length)):"?".concat(r.uri)}}])}(Ao.A),No=function(t){return t.collections="COLLECTIONS",t.defaultGraphType="DEFAULT_GRAPH_TYPE",t.equalsMethod="EQUALS_METHOD",t.id="ID",t.identity="IDENTITY",t.reversibleId="REVERSIBLE_ID",t.variableType="VARIABLE_TYPE",t}({}),Yz=new m8;const Ya={supports:(0,Vt.A)((0,Vt.A)((0,Vt.A)((0,Vt.A)((0,Vt.A)((0,Vt.A)((0,Vt.A)({},No.collections,!1),No.defaultGraphType,!1),No.equalsMethod,!0),No.identity,!1),No.id,!0),No.reversibleId,!1),No.variableType,!0),blankNode:function(n){return new Xa(n)},defaultGraph:function(){return Yz},equals:function(n,e){return n===e||!n||!e||((0,Bs.aF)(n)||(0,Bs.aF)(e)?!(!(0,Bs.aF)(n)||!(0,Bs.aF)(e))&&this.equals(n.subject,e.subject)&&this.equals(n.predicate,e.predicate)&&this.equals(n.object,e.object)&&this.equals(n.graph,e.graph):!(!(0,Bs.D0)(n)||!(0,Bs.D0)(e))&&this.id(n)===this.id(e))},id:function(n){if(!n)return"undefined";if((0,Bs.aF)(n))return this.quadToNQ(n);switch(n.termType){case An.ic:return"defaultGraph";case An.P2:return lu.toString(n);default:var e=this.termToNQ(n);if(e)return e;throw new Error("Can't id term with type '".concat(n.termType,"'"))}},isQuad:function(n){return n instanceof ou},literal:function(n,e){if("string"!=typeof n&&!e)return ta.fromValue(n);var r="string"==typeof n?n:""+n;return"string"==typeof e?-1===e.indexOf(":")?new ta(r,e):new ta(r,null,this.namedNode(e)):new ta(r,null,e)},namedNode:function(n){return new to.A(n)},quad:function(n,e,r,s){return new ou(n,e,r,s||Yz)},triple:function(n,e,r,s){return this.quad(n,e,r,s)},quadToNQ:function(n){return"".concat(this.termToNQ(n.subject)," ").concat(this.termToNQ(n.predicate)," ").concat(this.termToNQ(n.object)," ").concat(this.termToNQ(n.graph)," .")},termToNQ:function(n){var e=this;switch(n.termType){case An.$Q:return"_:"+n.value;case An.ic:return"";case An.S:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case An.QW:return ta.toNT(n);case An.bD:case An.Kk:return"<"+n.value+">";case An.r0:return"("+n.elements.map(function(r){return e.termToNQ(r)}).join(" ")+")";default:throw new Error("Can't serialize nonstandard term type (was '".concat(n.termType,"')"))}},toNQ:function(n){return this.isQuad(n)?this.quadToNQ(n):this.termToNQ(n)},variable:function(n){return new lu(n)}},Pi_debug=function(n){},Pi_warn=function(n){},Pi_info=function(n){},Pi_error=function(n){};var Ka=K(9223);function Kz(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya;return{boolean:t.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:t.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:t.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),double:t.namedNode("http://www.w3.org/2001/XMLSchema#double"),integer:t.namedNode("http://www.w3.org/2001/XMLSchema#integer"),langString:t.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:t.namedNode("http://www.w3.org/2001/XMLSchema#string")}}Kz(Ya);var IJ=K(974),Jz=K.n(IJ),AJ=K(6998),xJ=function(){function t(n){(0,Ks.A)(this,t),(0,Vt.A)(this,"_notQNameChars","\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~"),(0,Vt.A)(this,"_notNameChars",this._notQNameChars+":"),(0,Vt.A)(this,"validPrefix",new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/)),(0,Vt.A)(this,"forbidden1",new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm)),(0,Vt.A)(this,"forbidden3",new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm)),this.flags="",this.base=null,this.prefixes=[],this.namespaces=[];var e=Object.keys(Jz()());for(var r in e){var s=Jz()()[e[r]](""),i=e[r];this.prefixes[s]=i,this.namespaces[i]=s}this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=n,this.rdfFactory=n.rdfFactory||Ya,this.xsd=Kz(this.rdfFactory)}return(0,Js.A)(t,[{key:"setBase",value:function(e){return this.base=e,this}},{key:"setFlags",value:function(e){return this.flags=e||"",this}},{key:"toStr",value:function(e){var r=e.toNT();return"Graph"===e.termType&&(this.formulas[r]=e),r}},{key:"fromStr",value:function(e){if("{"===e[0]){var r=this.formulas[e];return r||console.log("No formula object for "+e),r}return this.store.fromNT(e)}},{key:"setNamespaces",value:function(e){for(var r in e)this.setPrefix(r,e[r]);return this}},{key:"setPrefix",value:function(e,r){if("default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&r){for(var s in this.prefixes)this.prefixes[s]==e&&delete this.prefixes[s];this.prefixes[r]=e,this.namespaces[e]=r}}},{key:"suggestPrefix",value:function(e,r){"default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&(!e||!r||e in this.namespaces||r in this.prefixes||(this.prefixes[r]=e,this.namespaces[e]=r))}},{key:"suggestNamespaces",value:function(e){for(var r in e)this.suggestPrefix(r,e[r]);return this}},{key:"checkIntegrity",value:function(){var e,r;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw new Error("Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!");for(r in this.prefixes)if(this.namespaces[this.prefixes[r]]!==r)throw new Error("Serializer integity error 2: "+r+", "+this.prefixs[r]+", "+this.namespaces[this.prefixes[r]]+"!")}},{key:"makeUpPrefix",value:function(e){var r=e,i=function s(c){return!(!this.validPrefix.test(c)||"ns"===c||c in this.namespaces)&&(this.prefixes[e]=c,this.namespaces[c]=e,c)}.bind(this);"#/".indexOf(r[r.length-1])>=0&&(r=r.slice(0,-1));var o=r.lastIndexOf("/");o>=0&&(r=r.slice(o+1));for(var a=0;a<r.length&&this.prefixchars.indexOf(r[a]);)a++;if((r=r.slice(0,a)).length<6&&i(r))return r;if(i(r.slice(0,3)))return r.slice(0,3);if(i(r.slice(0,2)))return r.slice(0,2);if(i(r.slice(0,4)))return r.slice(0,4);if(i(r.slice(0,1)))return r.slice(0,1);if(i(r.slice(0,5)))return r.slice(0,5);this.validPrefix.test(r)||(r="n");for(var l=0;;l++)if(i(r.slice(0,3)+l))return r.slice(0,3)+l}},{key:"rootSubjects",value:function(e){for(var r={},s={},i={},o=0;o<e.length;o++){var a=e[o],l=function(z){r.hasOwnProperty(z)||(r[z]=[]),r[z].push(a.subject)};[a.subject,a.predicate,a.object].map(function(M){"BlankNode"===M.termType?i[M.toNT()]=!0:"Collection"===M.termType&&M.elements.forEach(function(z){l(z)})}),l(e[o].object);var u=s[this.toStr(a.subject)];u||(u=[]),u.push(a),s[this.toStr(a.subject)]=u}var h=[];for(var d in s)if(s.hasOwnProperty(d)){var p=this.fromStr(d);if("BlankNode"!==p.termType||!r[p]||1!==r[p].length){h.push(p);continue}}this.incoming=r;for(var v={},b=0;b<h.length;b++)v[h[b].toNT()]=!0;return{roots:h,subjects:s,rootsHash:v,incoming:r}}},{key:"toN3",value:function(e){return this.statementsToN3(e.statements)}},{key:"explicitURI",value:function(e){return e=this.flags.indexOf("r")<0&&this.base?w8(this.base,e):this.flags.indexOf("u")>=0?function _J(t){for(var e,n="",r=0;r<t.length;r++)(e=t.charCodeAt(r))>65535?n+="\\U"+("00000000"+e.toString(16)).slice(-8):n+=e>126?"\\u"+("0000"+e.toString(16)).slice(-4):t[r];return n}(e):function SJ(t){return encodeURI(t)}(decodeURI(e)),"<"+e+">"}},{key:"statementsToNTriples",value:function(e){var r=e.slice();r.sort();for(var s="",i="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o=this,a=this.store,l=this.rdfFactory,c=function p(v){if("Collection"!==v.termType)return o.atomicTermToN3(v);for(var b=v.elements,M=a.sym(i+"nill"),z=b.length-1;z>=0;z--){var B=l.blankNode();s+=p(B)+" "+p(a.sym(i+"first"))+" "+p(b[z])+".\n",s+=p(B)+" "+p(a.sym(i+"rest"))+" "+p(M)+".\n",M=B}return o.atomicTermToN3(M)},u=0;u<r.length;u++){var h=r[u],d="";d+=c(h.subject)+" ",d+=c(h.predicate)+" ",d+=c(h.object)+" ",this.flags.indexOf("q")>=0&&(d+=c(h.why)+" "),s+=d+=".\n"}return s}},{key:"statementsToN3",value:function(e){var i=this.store,o={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"};e.sort(function(nt,rt){return Ka.VQ(nt,rt,i,o)}),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var l={};this.flags.indexOf("s")<0&&(l["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(l["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(l["http://www.w3.org/2000/10/swap/log#implies"]="=>");var c=function(nt){for(var rt="",ft=0;ft<nt;ft++)rt+=" ";return rt},u=function De(nt){for(var rt="",ft=0;ft<nt.length;ft++){var tt=nt[ft],gt="string"==typeof tt?tt:De(tt);if(0!==ft){var Ht=rt.slice(-1)||" ";","===gt||";"===gt||"."===gt&&!"0123456789.:".includes(Ht)||(rt+=" ")}rt+=gt}return rt},p=function d(De){for(var nt=this.rootSubjects(De),rt=nt.roots,ft=[],tt=0;tt<rt.length;tt++)ft.push(v(rt[tt],nt));return ft}.bind(this);function v(De,nt){return"BlankNode"!==De.termType||nt.incoming[De]?[fe(De,nt)].concat([M(De,nt)]).concat(["."]):B(De,nt,!0).concat(["."])}var M=function b(De,nt){var rt=[],ft=null,tt=nt.subjects[this.toStr(De)]||[];if(typeof tt>"u")throw new Error("Cant find statements for "+De);for(var gt=[],Ht=0;Ht<tt.length;Ht++){var Lt=tt[Ht];Lt.predicate.uri===ft?gt.push(","):(ft&&(rt=rt.concat([gt]).concat([";"]),gt=[]),rt.push(l[Lt.predicate.uri]?l[Lt.predicate.uri]:fe(Lt.predicate,nt))),ft=Lt.predicate.uri,gt.push(B(Lt.object,nt))}return rt.concat([gt])}.bind(this),B=function z(De,nt,rt){return"BlankNode"!==De.termType||!rt&&void 0!==nt.rootsHash[De.toNT()]?fe(De,nt):nt.subjects[this.toStr(De)]?["[",M(De,nt),"]"]:"[]"}.bind(this);t.prototype.termToN3=fe;var fe=function pe(De,nt){var rt,ft;switch(De.termType){case"Graph":return(ft=(ft=["{"]).concat(p(De.statements))).concat(["}"]);case"Collection":for(ft=["("],rt=0;rt<De.elements.length;rt++)ft.push([B(De.elements[rt],nt)]);return ft.push(")"),ft;default:return this.atomicTermToN3(De)}}.bind(this),ee=function we(){var De="";for(var nt in this.flags.indexOf("d")<0&&this.defaultNamespace&&(De+="@prefix : "+this.explicitURI(this.defaultNamespace)+".\n"),this.prefixes)this.prefixes.hasOwnProperty(nt)&&this.namespacesUsed[nt]&&(De+="@prefix "+this.prefixes[nt]+": "+this.explicitURI(nt)+".\n");return De+"\n"}.bind(this),Ie=p(e);return ee()+function De(nt,rt){var ft="",tt=1e5;void 0===rt&&(rt=-1);for(var gt=0;gt<nt.length;gt++){var Ht=nt[gt];if("string"!=typeof Ht){var Lt=De(Ht,rt+1);if(Lt.length<10*(80-4*rt)&&Lt.indexOf('"""')<0){var St=u(Ht);St.length<80-4*rt&&(Ht=St,Lt="")}Lt&&(tt=1e4),ft+=Lt}if("string"==typeof Ht){if(1===Ht.length&&"\n"===ft.slice(-1)&&",.;".indexOf(Ht)>=0){ft=ft.slice(0,-1),"."==Ht&&"0123456789.:".includes(ft.charAt(ft.length-1))&&(ft+=" ",tt+=1),ft+=Ht+"\n",tt+=1;continue}if(tt<4*rt+4||tt+Ht.length+1<80&&";.".indexOf(ft[ft.length-2])<0)ft=ft.slice(0,-1)+" "+Ht+"\n",tt+=Ht.length+1;else{var bn=c(4*rt)+Ht;ft+=bn+"\n",tt=bn.length,rt<0&&(ft+="\n",tt=1e5)}}}return ft}(Ie)}},{key:"atomicTermToN3",value:function(e,r){switch(e.termType){case"BlankNode":case"Variable":return e.toNT();case"Literal":var s=e.value;if("string"!=typeof s)throw new TypeError("Value of RDF literal node must be a string");if(e.datatype&&this.flags.indexOf("x")<0)switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return s;case"http://www.w3.org/2001/XMLSchema#decimal":return s.indexOf(".")<0&&(s+=".0"),s;case"http://www.w3.org/2001/XMLSchema#double":var i=s.toLowerCase().indexOf("e")>0;return s.indexOf(".")<0&&!i&&(s+=".0"),i||(s+="e0"),s;case"http://www.w3.org/2001/XMLSchema#boolean":return"1"===e.value?"true":"false"}var o=this.stringToN3(e.value);return e.language?o+="@"+e.language:e.datatype.equals(this.xsd.string)||(o+="^^"+this.atomicTermToN3(e.datatype,r)),o;case"NamedNode":return this.symbolToN3(e);case"DefaultGraph":return"";default:throw new Error("Internal: atomicTermToN3 cannot handle "+e+" of termType: "+e.termType)}}},{key:"stringToN3",value:function(e,r){r||(r="e");var i,o,a,l,c,s="";for(e.length>20&&'"'!==e.slice(-1)&&r.indexOf("n")<0&&(e.indexOf("\n")>0||e.indexOf('"')>0)?(l='"""',c=this.forbidden3):(l='"',c=this.forbidden1),i=0;i<e.length&&(c.lastIndex=0,null!=c.exec(e.slice(i)));){s+=e.slice(i,o=i+c.lastIndex-1);var h=e[o];'"'===h&&'"""'===l&&'"""'!==e.slice(o,o+3)?s+=h:(a='\b\f\r\t\v\n\\"'.indexOf(h))>=0?s+="\\"+'bfrtvn\\"'[a]:r.indexOf("e")>=0?s+="\\u"+("000"+h.charCodeAt(0).toString(16).toLowerCase()).slice(-4):s+=h,i=o+1}return l+s+e.slice(i)+l}},{key:"symbolToN3",value:function(e){var r=e.uri,s=r.indexOf("#");if(s<0&&this.flags.indexOf("/")<0&&(s=r.lastIndexOf("/")),s>=0&&this.flags.indexOf("p")<0&&(0===r.indexOf("http")||0===r.indexOf("ws")||0===r.indexOf("file"))){for(var i=!0,o=s+1;o<r.length;o++)if(this._notNameChars.indexOf(r[o])>=0){i=!1;break}if(i){var a=r.slice(s+1),l=r.slice(0,s+1);if(this.defaultNamespace&&this.defaultNamespace===l&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(a)<0?a:":"+a;var c=this.prefixes[l];if(c||(c=this.makeUpPrefix(l)),c)return this.namespacesUsed[l]=!0,c+":"+a}}return this.explicitURI(r)}},{key:"writeStore",value:function(e){var r=this.store,s=r.fetcher,i=s&&s.appNode,o=this.store.index[3];for(var a in o){var l=r.fromNT(a);i&&l.equals(i)||e("\n"+this.atomicTermToN3(l)+" "+this.atomicTermToN3(r.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(r.statementsMatching(void 0,void 0,void 0,l))+" }.\n")}r.statementsMatching(void 0,r.sym("http://www.w3.org/2007/ont/link#requestedURI")).map(function(h){e("\n<"+h.object.value+"> log:metadata {\n");var d=r.statementsMatching(void 0,void 0,void 0,h.subject);e(this.statementsToN3(this.statementsToN3(d))),e("}.\n")});var c=[];i&&c.push(i);var u=[];c.map(function(h){u=u.concat(r.statementsMatching(void 0,void 0,void 0,h))}),e(this.statementsToN3(u))}},{key:"statementsToXML",value:function(e){var i=[];i["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var o="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",a=function(tt){for(var gt="",Ht=0;Ht<tt;Ht++)gt+=" ";return gt},l=function ft(tt){for(var gt="",Ht=0;Ht<tt.length;Ht++){var Lt=tt[Ht];gt+="string"==typeof Lt?Lt:ft(Lt)}return gt},h=function u(ft){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var tt=this.rootSubjects(ft),gt=tt.roots,Ht=[],Lt=0;Lt<gt.length;Lt++)Ht.push(M(gt[Lt],tt));return Ht}.bind(this);function d(ft){return typeof ft>"u"?"@@@undefined@@@@":ft.replace(/[&<"]/g,function(tt){switch(tt[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}})}var v=function p(ft){return d(this.base?w8(this.base,ft.uri):ft.uri)}.bind(this),M=function b(ft,tt){var Ht,Lt,St,bn,gt=[],rr=tt.subjects[this.toStr(ft)];if(typeof rr>"u")return pe(ft,tt);rr.sort(function(Va,Fo){var Ji=Va.predicate.uri,io=Fo.predicate.uri;if(Ji.substring(0,44)===o||io.substring(0,44)===o)return Ji.localeCompare(io);var oo=Ji.substring(44),rl=io.substring(44),Po=parseInt(oo,10),Ta=parseInt(rl,10);return isNaN(Po)||isNaN(Ta)||Po!==oo||Ta!==rl?Ji.localeCompare(io):Po-Ta});for(var Jr=0;Jr<rr.length;Jr++)if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==(St=rr[Jr]).predicate.uri||Ht||"NamedNode"!==St.object.termType){if((bn=St.predicate).uri.substr(0,44)===o){var _o=bn.uri.substr(44);_o===parseInt(_o,10).toString()&&(bn=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(Lt=we(bn),St.object.termType){case"BlankNode":gt=gt.concat(1===tt.incoming[St.object].length?["<"+Lt+' rdf:parseType="Resource">',M(St.object,tt),"</"+Lt+">"]:["<"+Lt+' rdf:nodeID="'+St.object.toNT().slice(2)+'"/>']);break;case"NamedNode":gt=gt.concat(["<"+Lt+' rdf:resource="'+v(St.object)+'"/>']);break;case"Literal":gt=gt.concat(["<"+Lt+(St.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+d(St.object.datatype.uri)+'"')+(St.object.language?' xml:lang="'+St.object.language+'"':"")+">"+d(St.object.value)+"</"+Lt+">"]);break;case"Collection":gt=gt.concat(["<"+Lt+' rdf:parseType="Collection">',z(St.object,tt),"</"+Lt+">"]);break;default:throw new Error("Can't serialize object of type "+St.object.termType+" into XML")}}else Ht=St.object;var bi=Ht?we(Ht):"rdf:Description",cs="";return"BlankNode"===ft.termType?(!tt.incoming[ft]||1!==tt.incoming[ft].length)&&(cs=' rdf:nodeID="'+ft.toNT().slice(2)+'"'):cs=' rdf:about="'+v(ft)+'"',["<"+bi+cs+">"].concat([gt]).concat(["</"+bi+">"])}.bind(this);function z(ft,tt){for(var gt=[],Ht=0;Ht<ft.elements.length;Ht++)gt.push(M(ft.elements[Ht],tt));return gt}var pe=function B(ft,tt){var gt=[],Ht=tt.subjects[this.toStr(ft)];if(!Ht)return gt;Ht.sort();for(var Lt=0;Lt<Ht.length;Lt++){var St=Ht[Lt];switch(St.object.termType){case"BlankNode":gt=tt.rootsHash[St.object.toNT()]?gt.concat(["<"+we(St.predicate)+' rdf:nodeID="'+St.object.toNT().slice(2)+'">',"</"+we(St.predicate)+">"]):gt.concat(["<"+we(St.predicate)+' rdf:parseType="Resource">',pe(St.object,tt),"</"+we(St.predicate)+">"]);break;case"NamedNode":gt=gt.concat(["<"+we(St.predicate)+' rdf:resource="'+v(St.object)+'"/>']);break;case"Literal":gt=gt.concat(["<"+we(St.predicate)+(St.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+d(St.object.datatype.value)+'"')+(St.object.language?' xml:lang="'+St.object.language+'"':"")+">"+d(St.object.value)+"</"+we(St.predicate)+">"]);break;case"Collection":gt=gt.concat(["<"+we(St.predicate)+' rdf:parseType="Collection">',z(St.object,tt),"</"+we(St.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+St.object.termType+" into XML")}}return gt}.bind(this),we=function fe(ft){var tt=ft.uri,gt=tt.indexOf("#");if(gt<0&&this.flags.indexOf("/")<0&&(gt=tt.lastIndexOf("/")),gt<0)throw new Error("Cannot make qname out of <"+tt+">");for(var Ht=gt+1;Ht<tt.length;Ht++)if(this._notNameChars.indexOf(tt[Ht])>=0)throw new Error('Invalid character "'+tt[Ht]+'" cannot be in XML qname for URI: '+tt);var Lt=tt.slice(gt+1),St=tt.slice(0,gt+1);if(this.defaultNamespace&&this.defaultNamespace===St&&this.flags.indexOf("d")<0)return Lt;var bn=this.prefixes[St];return bn||(bn=this.makeUpPrefix(St)),i[St]=!0,bn+":"+Lt}.bind(this),ee=h(e),Ie="<rdf:RDF";for(var De in this.defaultNamespace&&(Ie+=' xmlns="'+d(this.defaultNamespace)+'"'),i)if(i.hasOwnProperty(De)){var nt=this.base&&this.flags.includes("z")?w8(this.base,De):De;Ie+="\n xmlns:"+this.prefixes[De]+'="'+d(nt)+'"'}return function ft(tt,gt){var Lt,Ht="",St=1e5;gt||(gt=0);for(var bn=0;bn<tt.length;bn++){var rr=tt[bn];if("string"!=typeof rr){var Jr=ft(rr,gt+1);Jr.length<10*(80-4*gt)&&Jr.indexOf('"""')<0&&(Lt=l(rr)).length<80-4*gt&&(rr="   "+Lt,Jr=""),Jr&&(St=1e4),Ht+=Jr}"string"==typeof rr&&(St<4*gt+4?(Ht=Ht.slice(0,-1)+" "+rr+"\n",St+=rr.length+1):(Ht+=(Lt=a(4*gt)+rr)+"\n",St=Lt.length))}return Ht}([Ie+=">",ee,"</rdf:RDF>"],-1)}},{key:"statementsToJsonld",value:function(e){var r=this.statementsToN3(e),s=AJ.parse(r);return JSON.stringify(s,null,2)}}])}();function d5(t,n,e,r,s,i){e=e||t?.value;var o=i||{};r=r||An.sT;try{var l=function bJ(t){return new xJ(t)}(n);o.flags&&l.setFlags(o.flags);var c=n.statementsMatching(void 0,void 0,void 0,t);switch("namespaces"in n&&l.suggestNamespaces(n.namespaces),o.namespaces&&l.setNamespaces(o.namespaces),l.setBase(e),r){case An.JG:return u(null,l.statementsToXML(c));case An.ny:case An.MG:return u(null,l.statementsToN3(c));case An.sT:case An.hu:return l.setFlags("si"),u(null,l.statementsToN3(c));case An.bM:return l.setFlags("deinprstux"),u(null,l.statementsToNTriples(c));case An.i2:return l.setFlags("si dr"),u(null,l.statementsToJsonld(c));case An._0:case An.BR:return l.setFlags("deinprstux q"),u(null,l.statementsToNTriples(c));default:throw new Error("Serialize: Content-type "+r+" not supported for data write.")}}catch(h){if(s)return s(h,void 0);throw h}function u(h,d){return s?void s(h,d):d}}var MJ=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"],p5={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function qz(t,n,e){var r=[];return e.reduce(function(s,i,o,a){var l;return r.push(t.quad(s,t.namedNode(p5.first),a[o])),o<a.length-1?(l=t.blankNode(),r.push(t.quad(s,t.namedNode(p5.rest),l))):r.push(t.quad(s,t.namedNode(p5.rest),t.namedNode(p5.nil))),l},n),r}function ba(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.length;for(e<0&&(e=r+e);e<r;e++)if(t[e]===n)return e;return-1}function Qz(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function VJ(t,n,e){return n=(0,no.A)(n),(0,$c.A)(t,eV()?Reflect.construct(n,e||[],(0,no.A)(t).constructor):n.apply(t,e))}function eV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eV=function(){return!!t})()}var tV=function(t){function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,Ks.A)(this,n),(e=VJ(this,n,[""])).statements=r,e.constraints=s,e.initBindings=i,e.optional=o,(0,Vt.A)(e,"termType",An.bD),(0,Vt.A)(e,"classOrder",nc.A.Graph),(0,Vt.A)(e,"fetcher",void 0),(0,Vt.A)(e,"isVar",0),(0,Vt.A)(e,"ns",xs),(0,Vt.A)(e,"rdfFactory",void 0),e.rdfFactory=a&&a.rdfFactory||Ya;var c,l=function HJ(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function zJ(t,n){if(t){if("string"==typeof t)return Qz(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Qz(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return i=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!i&&null!=e.return&&e.return()}finally{if(o)throw a}}}}(MJ);try{var u=function(){var d=c.value;e[d]=function(){var p;return(p=e.rdfFactory)[d].apply(p,arguments)}};for(l.s();!(c=l.n()).done;)u()}catch(h){l.e(h)}finally{l.f()}return e}return(0,Bo.A)(n,t),(0,Js.A)(n,[{key:"add",value:function(r,s,i,o){var a=this;return 1===arguments.length&&r.forEach(function(l){return a.add(l.subject,l.predicate,l.object,l.graph)}),this.statements.push(this.rdfFactory.quad(r,s,i,o))}},{key:"addStatement",value:function(r){return this.add(r)}},{key:"bnode",value:function(r){return this.rdfFactory.blankNode(r)}},{key:"addAll",value:function(r){var s=this;r.forEach(function(i){s.add(i.subject,i.predicate,i.object,i.graph)})}},{key:"any",value:function(r,s,i,o){var a=this.anyStatementMatching(r,s,i,o);return null==a?null:null==r?a.subject:null==s?a.predicate:null==i?a.object:null}},{key:"anyValue",value:function(r,s,i,o){var a=this.any(r,s,i,o);return a?a.value:void 0}},{key:"anyJS",value:function(r,s,i,o){var a=this.any(r,s,i,o);return a?Ao.A.toJS(a):void 0}},{key:"anyStatementMatching",value:function(r,s,i,o){var a=this.statementsMatching(r,s,i,o,!0);if(a&&0!==a.length)return a[0]}},{key:"id",value:function(r){return this.rdfFactory.id(r)}},{key:"statementsMatching",value:function(r,s,i,o,a){var l=this.statements.filter(function(c){return(!r||r.equals(c.subject))&&(!s||s.equals(c.predicate))&&(!i||i.equals(c.object))&&(!o||o.equals(c.graph))});return a?0===l.length?[]:[l[0]]:l}},{key:"bottomTypeURIs",value:function(r){var s,i,a,l,u,h;for(var d in s=[],r)if(r.hasOwnProperty(d)){for(h=r[d],i=!0,a=0,l=(u=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(d))).length;a<l;a++)if(u[a].uri in r){i=!1;break}i&&(s[d]=h)}return s}},{key:"collection",value:function(){return new Xc}},{key:"each",value:function(r,s,i,o){var a=[],l=this.statementsMatching(r,s,i,o,!1);if(null==r)for(var c=0,u=l.length;c<u;c++)a.push(l[c].subject);else if(null==s)for(var h=0,d=l.length;h<d;h++)a.push(l[h].predicate);else if(null==i)for(var p=0,v=l.length;p<v;p++)a.push(l[p].object);else if(null==o)for(var b=0,M=l.length;b<M;b++)a.push(new to.A(l[b].graph.value));return a}},{key:"equals",value:function(r){return!!r&&this.hashString()===r.hashString()}},{key:"findMembersNT",value:function(r){var s,i,o,a,c,u,h,d,p,v,b,M,z;for(var B in(b={})[r.toNT()]=!0,a={},c=this.transitiveClosure(b,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0))if(c.hasOwnProperty(B)){for(var pe=0,fe=(u=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(B))).length;pe<fe;pe++)a[(M=u[pe]).subject.toNT()]=M;for(var we=0,ee=(h=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(B))).length;we<ee;we++)for(o=0,s=(d=this.statementsMatching(void 0,h[we])).length;o<s;o++)a[(M=d[o]).subject.toNT()]=M;for(var Ie=0,De=(p=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(B))).length;Ie<De;Ie++)for(z=0,i=(v=this.statementsMatching(void 0,p[Ie])).length;z<i;z++)a[(M=v[z]).object.toNT()]=M}return a}},{key:"findMemberURIs",value:function(r){return this.NTtoURI(this.findMembersNT(r))}},{key:"findSubClassesNT",value:function(r){var s={};return s[r.toNT()]=!0,this.transitiveClosure(s,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}},{key:"findSuperClassesNT",value:function(r){var s={};return s[r.toNT()]=!0,this.transitiveClosure(s,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypesNT",value:function(r){var a,l,c,u,h,d;d=[];for(var p=0,v=(a=this.statementsMatching(r,void 0,void 0)).length;p<v;p++)if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===(h=a[p]).predicate.uri)d[h.object.toNT()]=h;else for(var b=0,M=(l=this.each(h.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"))).length;b<M;b++)d[l[b].toNT()]=h;for(var z=0,B=(c=this.statementsMatching(void 0,void 0,r)).length;z<B;z++)for(var pe=0,fe=(u=this.each((h=c[z]).predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"))).length;pe<fe;pe++)d[u[pe].toNT()]=h;return this.transitiveClosure(d,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypeURIs",value:function(r){return this.NTtoURI(this.findTypesNT(r))}},{key:"connectedStatements",value:function(r,s,i){i=i||[];for(var o=[r],a={},l={},c=[],u=this,h=function(p){var v=function(z){"BlankNode"===z.termType&&!a[z.value]&&(a[z.value]=!0,o.push(z))},b=u.statementsMatching(null,null,p,s).concat(u.statementsMatching(p,null,null,s));(b=b.filter(function(M){if(i[M.predicate.value])return!1;var z=M.toNT();return!l[z]&&(l[z]=!0,!0)})).forEach(function(M){v(M.subject),v(M.object)}),c=c.concat(b)};o.length;)h(o.shift());return c}},{key:"formula",value:function(r){return new n}},{key:"fromNT",value:function(r){var s,i,o;switch(r[0]){case"<":return this.sym(r.slice(1,-1));case'"':if(o=void 0,s=void 0,(i=r.lastIndexOf('"'))<r.length-1)if("@"===r[i+1])o=r.slice(i+2);else{if("^^"!==r.slice(i+1,i+3))throw new Error("Can't convert string from NT: "+r);s=this.fromNT(r.slice(i+3))}return r=(r=(r=(r=r.slice(1,i)).replace(/\\"/g,'"')).replace(/\\n/g,"\n")).replace(/\\\\/g,"\\"),this.rdfFactory.literal(r,o||s);case"_":return this.rdfFactory.blankNode(r.slice(2));case"?":return new lu(r.slice(1))}throw new Error("Can't convert from NT: "+r)}},{key:"holds",value:function(r,s,i,o){var a;if(1===arguments.length){if(!r)return!0;if(r instanceof Array){for(a=0;a<r.length;a++)if(!this.holds(r[a]))return!1;return!0}if((0,Bs.SH)(r))return this.holds(r.subject,r.predicate,r.object,r.graph);if(r.statements)return this.holds(r.statements)}return null!=this.anyStatementMatching(r,s,i,o)}},{key:"holdsStatement",value:function(r){return this.holds(r.subject,r.predicate,r.object,r.graph)}},{key:"list",value:function(r,s){if(s.rdfFactory.supports.COLLECTIONS){var i=s.rdfFactory.collection();return r.forEach(function(l){i.append(l)}),i}var o=s.rdfFactory.blankNode(),a=qz(s.rdfFactory,o,r);return s.addAll(a),o}},{key:"NTtoURI",value:function(r){var s,i,o={};for(s in r)r.hasOwnProperty(s)&&(i=r[s],"<"===s[0]&&(o[s.slice(1,-1)]=i));return o}},{key:"serialize",value:function(r,s,i,o){return d5(i,this,r,s,void 0,o)}},{key:"substitute",value:function(r){var s=this.statements.map(function(o){return o.substitute(r)}),i=new n;return i.addAll(s),i}},{key:"sym",value:function(r,s){if(s)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(r)}},{key:"the",value:function(r,s,i,o){var a=this.any(r,s,i,o);return null==a&&Pi_error("No value found for the() {"+r+" "+s+" "+i+"}."),a}},{key:"transitiveClosure",value:function(r,s,i){var a,l,c,u,h,d={};Object.assign(d,r);for(var p={};;){if(null==(h=function(){for(var v in d)if(d.hasOwnProperty(v))return v}()))return p;for(a=0,l=(u=i?this.each(void 0,s,this.fromNT(h)):this.each(this.fromNT(h),s)).length;a<l;a++)!((c=u[a].toNT())in p)&&(c in d||(d[c]=d[h]));p[h]=d[h],delete d[h]}}},{key:"topTypeURIs",value:function(r){var s,o,a,l,c,u,h;for(o in u=[],r)if(r.hasOwnProperty(o)){for(h=r[o],l=0,s=0,a=(c=this.each(this.rdfFactory.namedNode(o),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"))).length;s<a;s++)if("http://www.w3.org/2000/01/rdf-schema#Resource"!==c[s].uri){l++;break}l||(u[o]=h)}return u["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete u["http://www.w3.org/2000/01/rdf-schema#Resource"],u["http://www.w3.org/2002/07/owl#Thing"]&&delete u["http://www.w3.org/2002/07/owl#Thing"],u}},{key:"toString",value:function(){return"{"+this.statements.join("\n")+"}"}},{key:"variable",value:function(r){return new lu(r)}},{key:"whether",value:function(r,s,i,o){return this.statementsMatching(r,s,i,o,!1).length}}])}(Ao.A);Ao.A.fromValue=Wz;const sc=Ao.A;var e2={xsd:xs("http://www.w3.org/2001/XMLSchema#")};Ao.A.toJS=function(t){return(0,Bs.P3)(t)?t.elements.map(Ao.A.toJS):(0,Bs.c$)(t)?t.datatype.equals(e2.xsd("boolean"))?"1"===t.value||"true"===t.value:t.datatype.equals(e2.xsd("dateTime"))||t.datatype.equals(e2.xsd("date"))?new Date(t.value):t.datatype.equals(e2.xsd("integer"))||t.datatype.equals(e2.xsd("float"))||t.datatype.equals(e2.xsd("decimal"))?Number(t.value):t.value:t};var TJ=(0,Js.A)(function t(n,e){(0,Ks.A)(this,t),this.pat=new U0,this.vars=[],this.name=n,this.id=e});function nV(t,n,e,r){function s(we){var Ie,ee="";for(Ie in we)we.hasOwnProperty(Ie)&&(ee+="    "+Ie+" -> "+we[Ie]);return ee}function i(we){var Ie,ee="Bindings: ",De=we.length;for(Ie=0;Ie<De;Ie++)ee+=s(we[Ie][0])+";\n\t";return ee}function a(we,ee,Ie,De){var nt;if(we.length!==ee.length)return[];if(!we.length)return[[[],null]];var rt=function o(we,ee,Ie,De){var nt=Ie[we];if(void 0===nt){if(we.isVar){var rt=[];return rt[we]=ee,[[rt,null]]}nt=we}if(!nt.complexType)return De.redirections[nt]&&(nt=De.redirections[nt]),De.redirections[ee]&&(ee=De.redirections[ee]),nt.equals(ee)||nt.uri&&nt.uri===Z0?[[[],null]]:[];if(we instanceof Array)return ee instanceof Array?a(we,ee,Ie):[];throw new Error("query.js: oops - code not written yet")}(we[0],ee[0],Ie,De);if(0===rt.length)return rt;var tt,Ht,Lt,St,bn,rr,Jr,ft=[],gt=rt.length;for(tt=0;tt<gt;tt++){for(bn in Jr=[],Ht=rt[tt][0])Ht.hasOwnProperty(bn)&&(Jr[bn]=Ht[bn]);for(bn in Ie)Ie.hasOwnProperty(bn)&&(Jr[bn]=Ie[bn]);for(St=(nt=a(we.slice(1),ee.slice(1),Jr,De)).length,Lt=0;Lt<St;Lt++){for(bn in rr=nt[Lt][0],Ht)Ht.hasOwnProperty(bn)&&(rr[bn]=Ht[bn]);ft.push([rr,null])}}return ft}function l(we,ee){var Ie=ee[we];return void 0===Ie?we:Ie}function c(we,ee){var De,Ie={};for(De in we)we.hasOwnProperty(De)&&(Ie[De]=we[De]);for(De in ee)ee.hasOwnProperty(De)&&(Ie[De]=ee[De]);return Ie}function u(we,ee){return this.trunkBindings=ee,this.originalCallback=we,this.branches=[],this}function h(we,ee){return this.count=0,this.success=!1,this.done=!1,this.callback=we,this.onDone=ee,this}u.prototype.checkAllDone=function(){var we;for(we=0;we<this.branches.length;we++)if(!this.branches[we].done)return;Pi_debug("OPTIONAL BIDNINGS ALL DONE:"),this.doCallBacks(this.branches.length-1,this.trunkBindings)},u.prototype.doCallBacks=function(we,ee){var Ie;if(we<0)return this.originalCallback(ee);for(Ie=0;Ie<this.branches[we].results.length;Ie++)this.doCallBacks(we-1,c(ee,this.branches[we].results[Ie]))},h.prototype.reportMatch=function(we){this.callback(we),this.success=!0},h.prototype.reportDone=function(){this.done=!0,Pi_info("Mandatory query branch finished.***"),void 0!==this.onDone&&this.onDone()};var d=function(ee){return this.count=0,this.done=!1,this.results=[],this.junction=ee,ee.branches.push(this),this};function p(we,ee,Ie){var De,nt,rt,ft;for(ee.nvars=0,ee.index=null,De=[ee.subject,ee.predicate,ee.object,ee.why],ft=[we.subjectIndex,we.predicateIndex,we.objectIndex,we.whyIndex],rt=0;rt<4;rt++){var tt=De[rt];if(!tt.uri||tt.uri!==Z0)if(tt.isVar&&void 0===Ie[tt])ee.nvars++;else{if(tt=l(De[rt],Ie),we.redirections[we.id(tt)]&&(tt=we.redirections[we.id(tt)]),!(nt=ft[rt][we.id(tt)]))return ee.index=[],!1;(null===ee.index||ee.index.length>nt.length)&&(ee.index=nt)}}return null===ee.index&&(ee.index=we.statements),!0}function v(we,ee){return we.nvars!==ee.nvars?we.nvars-ee.nvars:we.index.length-ee.index.length}d.prototype.reportMatch=function(we){this.results.push(we)},d.prototype.reportDone=function(){Pi_debug("Optional branch finished - results.length = "+this.results.length),0===this.results.length&&(this.results.push({}),Pi_debug("Optional branch FAILED - that's OK.")),this.done=!0,this.junction.checkAllDone()};var M=function we(ee,Ie,De,nt,rt,ft,tt){Pi_debug("Match begins, Branch count now: "+tt.count+" for "+tt.pattern_debug);var gt=Ie.statements;if(0===gt.length){if(Pi_debug("FOUND MATCH WITH BINDINGS:"+s(De)),0===Ie.optional.length)tt.reportMatch(De);else{Pi_debug("OPTIONAL: "+Ie.optional);var St,Ht=new u(n,De),Lt=[];for(St=0;St<Ie.optional.length;St++)Lt[St]=new d(Ht),Lt[St].pattern_debug=Ie.optional[St];for(St=0;St<Ie.optional.length;St++)Lt[St].count=Lt[St].count+1,we(ee,Ie.optional[St],De,"",rt,n,Lt[St])}return tt.count--,void Pi_debug("Match ends -- success , Branch count now: "+tt.count+" for "+tt.pattern_debug)}var bn,rr,Jr=gt.length;if(rt){var jr=function(cs,Va){var Fo=cs.uri.split("#")[0];rt.nowOrWhenFetched(Fo,void 0,function(Ji,io,oo){Ji||console.log("Error following link to <"+cs.uri+"> in query: "+io),we(ee,Ie,De,nt,rt,ft,tt)})};for(rr=0;rr<Jr;rr++){if(void 0!==De[(bn=gt[rr]).subject]&&De[bn.subject].uri&&rt&&"unrequested"===rt.getState(au(De[bn.subject].uri)))return void jr(De[bn.subject]);if(void 0!==De[bn.object]&&De[bn.object].uri&&rt&&"unrequested"===rt.getState(au(De[bn.object].uri)))return void jr(De[bn.object])}}B(ee,Ie,De,nt,rt,ft,tt)},z=function(ee,Ie){var nt,rt,De=!0;for(nt in ee)ee.hasOwnProperty(nt)&&Ie[nt]&&(rt=Ie[nt].test)&&!rt(ee[nt])&&(De=!1);return De},B=function(ee,Ie,De,nt,rt,ft,tt){var Lt,St,bn,rr,Jr,_o,jr,gt=Ie.statements,Ht=gt.length;for(Lt=0;Lt<Ht;Lt++)p(ee,jr=gt[Lt],De);gt.sort(v),jr=gt[0];var bi=ee.formula();bi.optional=Ie.optional,bi.constraints=Ie.constraints,bi.statements=gt.slice(1),Pi_debug(nt+"match2 searching "+jr.index.length+" for "+jr+"; bindings so far="+s(De));var cs,Fo,Ji,Va=jr.index.length,io=0;for(cs=0;cs<Va;cs++)for(Fo=a([jr.subject,jr.predicate,jr.object,jr.why],[(Ji=jr.index[cs]).subject,Ji.predicate,Ji.object,Ji.why],De,ee),Pi_info(nt+" From first: "+Fo.length+": "+i(Fo)),bn=Fo.length,St=0;St<bn;St++)if(Jr=[],z(_o=Fo[St][0],Ie.constraints)){for(rr in _o)_o.hasOwnProperty(rr)&&(Jr[rr]=_o[rr]);for(rr in De)De.hasOwnProperty(rr)&&(Jr[rr]=De[rr]);tt.count++,io++,M(ee,bi,Jr,nt+"  ",rt,ft,tt)}else Pi_debug("Branch count CS: "+tt.count);tt.count--,0===io&&Pi_debug("Match2 fails completely on "+jr),Pi_debug("Match2 ends, Branch count: "+tt.count+" for "+tt.pattern_debug),0===tt.count&&(Pi_debug("Branch finished."),tt.reportDone())},pe=this;Pi_debug("Query on "+this.statements.length);var fe=new h(n,r);fe.count++,t.sync?M(pe,t.pat,t.pat.initBindings,"",e,n,fe):setTimeout(function(){M(pe,t.pat,t.pat.initBindings,"",e,n,fe)},0)}function rV(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,r)}return e}function j0(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?rV(Object(e),!0).forEach(function(r){(0,Vt.A)(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):rV(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function sV(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function RJ(t,n,e){return n=(0,no.A)(n),(0,$c.A)(t,iV()?Reflect.construct(n,e||[],(0,no.A)(t).constructor):n.apply(t,e))}function iV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iV=function(){return!!t})()}var C8="http://www.w3.org/2002/07/owl#";function DJ(t,n,e,r){var s=t.any(n,e,void 0);return!!s&&(t.equate(s,r),!0)}function BJ(t,n,e,r){var s=t.any(void 0,e,r);return!!s&&(t.equate(s,n),!0)}function oV(t,n,e,r,s){t.typeCallback&&t.typeCallback(t,r,s);var i=t.classActions[t.id(r)],o=!1;if(i)for(var a=0;a<i.length;a++)o=o||i[a](t,n,e,r,s);return o}var U0=function(t){function n(e){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ks.A)(this,n),r=RJ(this,n,[void 0,void 0,void 0,void 0,s]),(0,Vt.A)(r,"updater",void 0),(0,Vt.A)(r,"namespaces",void 0),(0,Vt.A)(r,"classActions",void 0),(0,Vt.A)(r,"propertyActions",void 0),(0,Vt.A)(r,"redirections",void 0),(0,Vt.A)(r,"aliases",void 0),(0,Vt.A)(r,"HTTPRedirects",void 0),(0,Vt.A)(r,"subjectIndex",void 0),(0,Vt.A)(r,"predicateIndex",void 0),(0,Vt.A)(r,"objectIndex",void 0),(0,Vt.A)(r,"whyIndex",void 0),(0,Vt.A)(r,"index",void 0),(0,Vt.A)(r,"features",void 0),(0,Vt.A)(r,"_universalVariables",void 0),(0,Vt.A)(r,"_existentialVariables",void 0),(0,Vt.A)(r,"rdfArrayRemove",void 0),(0,Vt.A)(r,"dataCallbacks",void 0),r.propertyActions={},r.classActions={},r.redirections=[],r.aliases=[],r.HTTPRedirects=[],r.subjectIndex=[],r.predicateIndex=[],r.objectIndex=[],r.whyIndex=[],r.index=[r.subjectIndex,r.predicateIndex,r.objectIndex,r.whyIndex],r.namespaces={},r.features=e||[],r.rdfArrayRemove=s.rdfArrayRemove||Ka.Uz,s.dataCallback&&(r.dataCallbacks=[s.dataCallback]),r.initPropertyActions(r.features),r}return(0,Bo.A)(n,t),(0,Js.A)(n,[{key:"substitute",value:function(r){var s=this.statements.map(function(o){return o.substitute(r)}),i=new n;return i.add(s),i}},{key:"addDataCallback",value:function(r){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(r)}},{key:"applyPatch",value:function(r,s,i){var a,o=this,l=null;function c(d){if(r.delete){a=r.delete,l&&(a=a.substitute(l));var p=[],v=(a=a.statements).map(function(b){var M=o.statementsMatching(b.subject,b.predicate,b.object,s);return 0===M.length?(p.push(b),null):M[0]});if(p.length)return i("Could not find to delete: "+p.join("\n or "));v.map(function(b){o.remove(b)})}r.insert&&(a=r.insert,l&&(a=a.substitute(l)),(a=a.statements).map(function(b){b.graph=s,o.add(b.subject,b.predicate,b.object,b.graph)})),d()}if(r.where){var u=new TJ("patch");u.pat=r.where,u.pat.statements.map(function(d){d.graph=ep(s.value)}),u.sync=!0;var h=[];o.query(u,function(p){h.push(p)},o.fetcher,function(){return 0===h.length?i("No match found to be patched:"+r.where):h.length>1?i("Patch ambiguous. No patch done."):(l=h[0],void c(i))})}else c(i)}},{key:"declareExistential",value:function(r){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(r),r}},{key:"initPropertyActions",value:function(r){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[oV],ba(r,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(C8,"sameAs")))]=[function(s,i,o,a,l){return s.equate(i,a),!0}]),ba(r,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(C8,"InverseFunctionalProperty")))]=[function(s,i,o,a,l){return s.newPropertyAction(i,BJ)}]),ba(r,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(C8,"FunctionalProperty")))]=[function(s,i,o,a,l){return s.newPropertyAction(i,DJ)}])}},{key:"addStatement",value:function(r){return this.add(r.subject,r.predicate,r.object,r.graph),this.statements.length}},{key:"add",value:function(r,s,i,o){var a,l,c;if(1===arguments.length){if(r instanceof Array)for(a=0;a<r.length;a++)this.add(r[a]);else(0,Bs.aF)(r)?this.add(r.subject,r.predicate,r.object,r.graph):(0,Bs.ok)(r)&&this.add(r.statements);return this}o||(o=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),"string"==typeof r&&(r=this.rdfFactory.namedNode(r)),s=sc.fromValue(s);var u=sc.fromValue(i);if(o=sc.fromValue(o),!(0,Bs.CZ)(r))throw new Error("Subject is not a subject type");if(!(0,Bs.fY)(s))throw new Error("Predicate ".concat(s," is not a predicate type"));if(!(0,Bs.DJ)(u))throw new Error("Object ".concat(u," is not an object type"));if(!(0,Bs.RN)(o))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,s,o);var h=this.id(this.canon(s)),d=!1;if(l=this.propertyActions[h])for(a=0;a<l.length;a++)d=d||l[a](this,r,s,u,o);if(this.holds(r,s,u,o))return null;var p=[this.id(this.canon(r)),h,this.id(this.canon(u)),this.id(this.canon(o))];for(c=this.rdfFactory.quad(r,s,u,o),a=0;a<4;a++){var v=this.index[a],b=p[a];v[b]||(v[b]=[]),v[b].push(c)}if(this.statements.push(c),this.dataCallbacks){var z,M=function EJ(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function LJ(t,n){if(t){if("string"==typeof t)return sV(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return sV(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return i=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!i&&null!=e.return&&e.return()}finally{if(o)throw a}}}}(this.dataCallbacks);try{for(M.s();!(z=M.n()).done;)(0,z.value)(c)}catch(pe){M.e(pe)}finally{M.f()}}return c}},{key:"canon",value:function(r){if(!r)return r;var s=this.redirections[this.id(r)];if(s)return s;switch(r.termType){case An.$Q:return new Xa(r.value);case An.r0:return r;case An.ic:return new m8;case An.S:case An.bD:return r;case An.QW:return new ta(r.value,r.language,r.datatype);case An.Kk:return new to.A(r.value);case An.P2:return new lu(r.value);default:throw new Error("Term Type not recognized for canonization: ".concat(r.termType))}}},{key:"check",value:function(){this.checkStatementList(this.statements);for(var r=0;r<4;r++){var s=this.index[r];for(var i in s)s.hasOwnProperty(i)&&this.checkStatementList(s[i],r)}}},{key:"checkStatementList",value:function(r,s){void 0===s&&(s=0);for(var a,o=" found in "+["subject","predicate","object","why"][s]+" index.",l=0;l<r.length;l++){for(var c=[(a=r[l]).subject,a.predicate,a.object,a.graph],u=function(b,M){for(var z=0;z<b.length;z++)if(b[z].subject.equals(M.subject)&&b[z].predicate.equals(M.predicate)&&b[z].object.equals(M.object)&&b[z].why.equals(M.graph))return!0},h=0;h<4;h++){var d=this.canon(c[h]),p=this.id(d);this.index[h][p]&&u(this.index[h][p],a)}if(!u(this.statements,a))throw new Error("Statement list does not statement "+a+"@"+a.graph+o)}}},{key:"close",value:function(){return this}},{key:"compareTerms",value:function(r,s){return Object.prototype.hasOwnProperty.call(r,"compareTerm")?r.compareTerm(s):nc.A[r.termType]<nc.A[s.termType]?-1:nc.A[r.termType]>nc.A[s.termType]?1:r.value<s.value?-1:r.value>s.value?1:0}},{key:"copyTo",value:function(r,s,i){i||(i=[]);var o=this.statementsMatching(r);-1!==ba(i,"two-direction")&&o.concat(this.statementsMatching(void 0,void 0,r));for(var a=0;a<o.length;a++){var l=o[a];switch(l.object.termType){case"NamedNode":this.add(s,l.predicate,l.object);break;case"Literal":case"BlankNode":case"Collection":this.add(s,l.predicate,l.object.copy(this))}-1!==ba(i,"delete")&&this.remove(l)}}},{key:"equate",value:function(r,s){var i=this.canon(r),o=this.canon(s),a=this.compareTerms(i,o);return!a||(a<0?this.replaceWith(o,i):this.replaceWith(i,o))}},{key:"formula",value:function(r){return new n(r)}},{key:"length",get:function(){return this.statements.length}},{key:"match",value:function(r,s,i,o){return this.statementsMatching(sc.fromValue(r),sc.fromValue(s),sc.fromValue(i),sc.fromValue(o))}},{key:"mentionsURI",value:function(r){var s="<"+r+">";return!!this.subjectIndex[s]||!!this.objectIndex[s]||!!this.predicateIndex[s]}},{key:"newExistential",value:function(r){if(!r)return this.bnode();var s=this.sym(r);return this.declareExistential(s)}},{key:"newPropertyAction",value:function(r,s){var i=this.id(r);this.propertyActions[i]||(this.propertyActions[i]=[]),this.propertyActions[i].push(s);for(var o=this.statementsMatching(void 0,r,void 0),a=!1,l=0;l<o.length;l++)a=a||s(this,o[l].subject,r,o[l].object);return a}},{key:"newUniversal",value:function(r){var s=this.sym(r);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(s),s}},{key:"variable",value:function(r){return new lu(r)}},{key:"nextSymbol",value:function(r){for(var s=0;;s++){var i=r.value+"#n"+s;if(!this.mentionsURI(i))return this.sym(i)}}},{key:"query",value:function(r,s,i,o){return nV.call(this,r,s,i,o)}},{key:"querySync",value:function(r){var s=[],a=!1;if(r.sync=!0,nV.call(this,r,function i(l){s.push(l)},null,function o(){a=!0}),!a)throw new Error("Sync query should have called done function");return s}},{key:"remove",value:function(r){if(r instanceof Array){for(var s=0;s<r.length;s++)this.remove(r[s]);return this}if((0,Bs.ok)(r))return this.remove(r.statements);var i=this.statementsMatching(r.subject,r.predicate,r.object,r.graph);if(!i.length)throw new Error("Statement to be removed is not on store: "+r);return this.removeStatement(i[0]),this}},{key:"removeDocument",value:function(r){this.removeMetadata(r);for(var s=this.statementsMatching(void 0,void 0,void 0,r).slice(),i=0;i<s.length;i++)this.removeStatement(s[i]);return this.removeMatches(r,null,null),this}},{key:"removeMetadata",value:function(r){for(var s=this.sym("chrome://TheCurrentSession"),i="http://www.w3.org/2007/ont/link#",o=this.statementsMatching(void 0,this.sym("".concat(i,"requestedURI")),this.rdfFactory.literal(r.value),s).map(function(p){return p.subject}),a=0;a<o.length;a++){var l=o[a];if(null!=l){var c=void 0,u=this.any(l,this.sym("".concat(i,"status")),null,s);if(null!=u){c=this.statementsMatching(u,this.sym("".concat(i,"status")),null,s).slice();for(var h=0;h<c.length;h++)this.removeStatement(c[h])}var d=this.any(l,this.sym("".concat(i,"response")),null,s);if(null!=d)for(c=this.statementsMatching(d,null,null,s).slice(),h=0;h<c.length;h++)this.removeStatement(c[h]);for(c=this.statementsMatching(l,null,null,s).slice(),h=0;h<c.length;h++)this.removeStatement(c[h])}}return this.removeMatches(this.sym(r.value),null,null,s),this}},{key:"removeMany",value:function(r,s,i,o,a){for(var l=this.statementsMatching(r,s,i,o,!1),c=[],u=0;u<l.length;u++)c.push(l[u]);for(a&&(c=c.slice(0,a)),u=0;u<c.length;u++)this.remove(c[u])}},{key:"removeMatches",value:function(r,s,i,o){return this.removeMany(r,s,i,o),this}},{key:"removeStatement",value:function(r){for(var s=[r.subject,r.predicate,r.object,r.graph],i=0;i<4;i++){var o=this.canon(s[i]),a=this.id(o);this.index[i][a]&&this.rdfArrayRemove(this.index[i][a],r)}return this.rdfArrayRemove(this.statements,r),this}},{key:"removeStatements",value:function(r){for(var s=0;s<r.length;s++)this.remove(r[s]);return this}},{key:"replaceWith",value:function(r,s){for(var i=this.id(r),o=this.id(s),a=function(u){var h=u[i];if(h){var d=u[o];u[o]=d?h.concat(d):h,delete u[i]}},l=0;l<4;l++)a(this.index[l]);if(this.redirections[i]=s,r.value){if(this.aliases[o]||(this.aliases[o]=[]),this.aliases[o].push(r),this.aliases[i])for(l=0;l<this.aliases[i].length;l++)this.redirections[this.id(this.aliases[i][l])]=s,this.aliases[o].push(this.aliases[i][l]);this.add(s,this.sym("http://www.w3.org/2007/ont/link#uri"),r),this.fetcher&&this.fetcher.nowKnownAs(r,s)}return a(this.classActions),a(this.propertyActions),!0}},{key:"allAliases",value:function(r){var s=this.aliases[this.id(this.canon(r))]||[];return s.push(this.canon(r)),s}},{key:"sameThings",value:function(r,s){if(r.equals(s))return!0;var i=this.canon(r);if(!i)return!1;var o=this.canon(s);return!!o&&i.value===o.value}},{key:"setPrefixForURI",value:function(r,s){if(("tab"!==r||!this.namespaces.tab)&&"ns"!==r.slice(0,2)&&"default"!==r.slice(0,7)){for(var i in this.namespaces)this.namespaces[i]==s&&delete this.namespaces[i];this.namespaces[r]=s}}},{key:"statementsMatching",value:function(r,s,i,o,a){var p,v,l=[r,s,i,o],c=[],u=[],h=[],d=[];for(p=0;p<4;p++)c[p]=this.canon(sc.fromValue(l[p])),c[p]?(d.push(p),u[p]=this.id(c[p])):h.push(p);if(0===d.length)return this.statements;if(1===d.length)return(v=this.index[p=d[0]][u[p]])&&a&&v.length>1&&(v=v.slice(0,1)),v||[];var M,z,b=1e10;for(z=0;z<d.length;z++){if(!(v=this.index[p=d[z]][u[p]]))return[];v.length<b&&(b=v.length,M=z)}for(var B=d[M],pe=this.index[B][u[B]],fe=d.slice(0,M).concat(d.slice(M+1)),we=[],ee=["subject","predicate","object","why"],Ie=0;Ie<pe.length;Ie++){var De=pe[Ie];for(z=0;z<fe.length;z++)if(!this.canon(De[ee[p=fe[z]]]).equals(c[p])){De=null;break}if(null!=De&&(we.push(De),a))break}return we}},{key:"uris",value:function(r){var s=this.canon(r),i=this.aliases[this.id(s)];if(!s.value)return[];var o=[s.value];if(i)for(var a=0;a<i.length;a++)o.push(i[a].uri);return o}},{key:"serialize",value:function(r,s,i,o){var a,l=null!==(a=o)&&void 0!==a&&a.namespaces?j0(j0({},this.namespaces),o.namespaces):j0({},this.namespaces);return d5(i,this,r,s,void 0,o=j0(j0({},o||{}),{},{namespaces:l}))}}],[{key:"defaultGraphURI",get:function(){return Z0}}])}(tV);(0,Vt.A)(U0,"handleRDFType",void 0),U0.handleRDFType=oV;var NJ=K(6725),f5=K.n(NJ);function $0(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function FJ(t,n){if(t){if("string"==typeof t)return aV(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return aV(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return i=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!i&&null!=e.return&&e.return()}finally{if(o)throw a}}}}function aV(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var cu=xs("http://www.w3.org/1999/02/22-rdf-syntax-ns#");function OJ(t,n){function e(s,i,o){var a=t.statementsMatching(s,cu("rest"),null,n);if(1!==a.length)throw new Error("Bad list structure: no rest at ".concat(s));var l=t.statementsMatching(s,cu("first"),null,n);if(1!==l.length)throw new Error("Bad list structure: rest but ".concat(l.length," firsts at ").concat(s));var u=[l[0].object].concat(i),h=o.concat(a).concat(l),d=t.statementsMatching(null,cu("rest"),s,n);if(0===d.length){var p=new Xc(u);return t.remove(h),void function PJ(t,n,e,r){var i,s=$0(t.statementsMatching(e,null,null,r));try{for(s.s();!(i=s.n()).done;){var o=i.value,a=new ou(n,o.predicate,o.object,r);t.remove(o),t.add(a)}}catch(v){s.e(v)}finally{s.f()}var c,l=$0(t.statementsMatching(null,e,null,r));try{for(l.s();!(c=l.n()).done;){var u=c.value;t.remove(u),t.add(new ou(u.subject,n,u.object,r))}}catch(v){l.e(v)}finally{l.f()}var d,h=$0(t.statementsMatching(null,null,e,r));try{for(h.s();!(d=h.n()).done;){var p=d.value;t.remove(p),t.add(new ou(p.subject,p.predicate,n,r))}}catch(v){h.e(v)}finally{h.f()}}(t,p,s,n)}if(1!==d.length)throw new Error("Bad list structure: ".concat(d.length," pres at ").concat(s));var v=d[0].subject;if("BlankNode"!==v.termType)throw new Error("Bad list element node ".concat(v," type: ").concat(v.termType," "));e(v,u,h)}!function kJ(t,n){var s,e=cu("nil"),r=$0(t.statementsMatching(e,null,null,n));try{for(r.s();!(s=r.n()).done;){var i=s.value;t.remove(i);var o=new Xc;t.add(new ou(o,i.predicate,i.object,n))}}catch(h){r.e(h)}finally{r.f()}var l,a=$0(t.statementsMatching(null,null,e,n));try{for(a.s();!(l=a.n()).done;){var c=l.value;if(!c.predicate.sameTerm(cu("rest"))){t.remove(c);var u=new Xc;t.add(new ou(c.subject,c.predicate,u,n))}}}catch(h){a.e(h)}finally{a.f()}}(t,n),t.statementsMatching(null,cu("rest"),cu("nil"),n).forEach(function(s){if("BlankNode"!==s.subject.termType)throw new Error("Bad list element node ".concat(s.subject," type: ").concat(s.subject.termType," "));e(s.subject,[],[])})}var y8="http://www.w3.org/2000/10/swap/log#",Ti=function(n){return n},ki=function(n){return n},X0=function(n){if(n.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},na=function(n){return n.length},I8=function(n,e,r){if(typeof n.slice>"u")throw"@@ mising.js: No .slice function for "+n+" of type "+(0,v8.A)(n);return typeof r>"u"||null==r?n.slice(e):n.slice(e,r)},t2=Error("dummy error stop iteration"),Y0=function(n){return this.last=0,this.li=n,this.next=function(){if(this.last==this.li.length)throw t2;return this.li[this.last++]},this},A8=function(n,e){return n.indexOf(e)},uu=function(n,e){if(!n)throw e?"python Assertion failed: "+e:"(python) Assertion failed."};String.prototype.encode=function(t){if("utf-8"!=t)throw"UTF8_converter: can only do utf-8";return function(n){n=n.replace(/\r\n/g,"\n");for(var e="",r=0;r<n.length;r++){var s=n.charCodeAt(r);s<128?e+=String.fromCharCode(s):s>127&&s<2048?(e+=String.fromCharCode(s>>6|192),e+=String.fromCharCode(63&s|128)):(e+=String.fromCharCode(s>>12|224),e+=String.fromCharCode(s>>6&63|128),e+=String.fromCharCode(63&s|128))}return e}(this)},String.prototype.decode=function(t){if("utf-8"!=t)throw"UTF8_converter: can only do utf-8";return this};var b8=function(n,e){return Aa(e,n)},cV="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",uV="http://www.w3.org/2002/07/owl#sameAs",hV="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",hu=hV+":",x8=new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g"),dV=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),S8=new RegExp('[\\\\\\r\\n\\"]',"g"),_8=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");const M8=function tq(t,n,e,r,s,i,o,a){return new nq(t,n,e,r,s,i,o,a)};var nq=function(){return(0,Js.A)(function t(n,e,r,s,i,o,a,l){(0,Ks.A)(this,t),typeof e>"u"&&(e=null),typeof r>"u"&&(r=""),typeof s>"u"&&(s=null),typeof i>"u"&&(i=""),typeof o>"u"&&(o=null),typeof a>"u"&&(a=""),typeof l>"u"&&(l=null),this._bindings=new X0([]),this._flags=a,""!=r&&(uu(r.indexOf(":")>=0,"Document URI not absolute: "+r),this._bindings[""]=r+"#"),this._store=n,i&&n.setGenPrefix(i),this._thisDoc=r,this.source=n.sym(r),this.lines=0,this.statementCount=0,this.hasNil=!1,this.startOfLine=0,this.previousLine=0,this._genPrefix=i,this.keywords=new ki(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new X0([]),this._variables=new X0([]),this._parentVariables=new X0([]),this._reason=l,this._reason2=null,this._baseURI=s||r||null,uu(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._genPrefix=this._thisDoc?this._thisDoc+"#_g":RDFSink_uniqueURI()),this._formula=null==e?this._thisDoc?n.formula(r+"#_formula"):n.formula():e,this._context=this._formula,this._parentContext=null},[{key:"here",value:function(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)}},{key:"formula",value:function(){return this._formula}},{key:"loadStream",value:function(e){return this.loadBuf(e.read())}},{key:"loadBuf",value:function(e){return this.startDoc(),this.feed(e),this.endDoc()}},{key:"feed",value:function(e){for(var r=e.decode("utf-8"),s=0;s>=0;){var i=this.skipSpace(r,s);if(i<0)return;if((s=this.directiveOrStatement(r,i))<0)throw Tn(this._thisDoc,this.lines,r,i,"expected directive or statement")}}},{key:"directiveOrStatement",value:function(e,r){var i,s=this.skipSpace(e,r);return s<0?s:(i=this.directive(e,s))>=0||(i=this.statement(e,s))>=0?this.checkDot(e,i):i}},{key:"tok",value:function(e,r,s){if("@"==r.slice(s,s+1))s+=1;else if(ba(this.keywords,e)<0)return-1;var o=s+na(e);return r.slice(s,o)==e&&hV.indexOf(r.charAt(o))>=0?o:-1}},{key:"directive",value:function(e,r){if((c=this.skipSpace(e,r))<0)return c;var s=new ki([]);if((c=this.tok("bind",e,r))>0)throw Tn(this._thisDoc,this.lines,e,r,"keyword bind is obsolete: use @prefix");if((c=this.tok("keywords",e,r))>0){if((r=this.commaSeparatedList(e,c,s,!1))<0)throw Tn(this._thisDoc,this.lines,e,r,"'@keywords' needs comma separated list of words");return this.setKeywords(I8(s,null,null)),r}if((c=this.tok("forAll",e,r))>0){if((r=this.commaSeparatedList(e,c,s,!0))<0)throw Tn(this._thisDoc,this.lines,e,r,"Bad variable list after @forAll");var i=new Y0(s);try{for(;;){var o=i.next();(ba(this._variables,o)<0||ba(this._parentVariables,o)>=0)&&(this._variables[o]=this._context.newUniversal(o))}}catch(h){if(h!=t2)throw h}return r}if((c=this.tok("forSome",e,r))>0){if((r=this.commaSeparatedList(e,c,s,this.uri_ref2))<0)throw Tn(this._thisDoc,this.lines,e,r,"Bad variable list after @forSome");i=new Y0(s);try{for(;;)o=i.next(),this._context.declareExistential(o)}catch(d){if(d!=t2)throw d}return r}if((c=this.tok("prefix",e,r))>=0){var c,a=new ki([]);if((r=this.qname(e,c,a))<0)throw Tn(this._thisDoc,this.lines,e,c,"expected qname after @prefix");if((c=this.uri_ref2(e,r,a))<0)throw Tn(this._thisDoc,this.lines,e,r,"expected <uriref> after @prefix _qname_");var l=a[1].uri;return this._baseURI?l=b8(this._baseURI,l):uu(l.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS"),uu(l.indexOf(":")>=0),this._bindings[a[0][0]]=l,this.bind(a[0][0],function GJ(t){return encodeURI(t)}(l)),c}if((c=this.tok("base",e,r))>=0){if(a=new ki([]),(r=this.uri_ref2(e,c,a))<0)throw Tn(this._thisDoc,this.lines,e,c,"expected <uri> after @base ");if(l=a[0].uri,!this._baseURI)throw Tn(this._thisDoc,this.lines,e,c,"With no previous base URI, cannot use relative URI in @base  <"+l+">");return l=b8(this._baseURI,l),uu(l.indexOf(":")>=0),this._baseURI=l,r}return-1}},{key:"bind",value:function(e,r){""==e||this._store.setPrefixForURI(e,r)}},{key:"setKeywords",value:function(e){null==e?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)}},{key:"startDoc",value:function(){}},{key:"endDoc",value:function(){return this.hasNil&&this._store.rdfFactory.supports.COLLECTIONS&&OJ(this._store,this.source),this._formula}},{key:"makeStatement",value:function(e){e[0].add(e[2],e[1],e[3],this.source),(e[2].uri&&e[2].uri===cV||e[3].uri&&e[3].uri===cV)&&(this.hasNil=!0),this.statementCount+=1}},{key:"statement",value:function(e,i){var s=new ki([]);if((i=this.object(e,i,s))<0)return i;var o=this.property_list(e,i,s[0]);if(o<0)throw Tn(this._thisDoc,this.lines,e,i,"expected propertylist");return o}},{key:"subject",value:function(e,r,s){return this.item(e,r,s)}},{key:"verb",value:function(e,r,s){if((o=this.skipSpace(e,r))<0)return o;var i=new ki([]);if((o=this.tok("has",e,r))>=0){if((r=this.prop(e,o,i))<0)throw Tn(this._thisDoc,this.lines,e,o,"expected property after 'has'");return s.push(new Ti(["->",i[0]])),r}if((o=this.tok("is",e,r))>=0){var o;if((r=this.prop(e,o,i))<0)throw Tn(this._thisDoc,this.lines,e,o,"expected <property> after 'is'");if((o=this.skipSpace(e,r))<0)throw Tn(this._thisDoc,this.lines,e,r,"End of file found, expected property after 'is'");if((o=this.tok("of",e,r=o))<0)throw Tn(this._thisDoc,this.lines,e,r,"expected 'of' after 'is' <prop>");return s.push(new Ti(["<-",i[0]])),o}if((o=this.tok("a",e,r))>=0)return s.push(new Ti(["->",this._store.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")])),o;if("<="==e.slice(r,r+2))return s.push(new Ti(["<-",this._store.sym(y8+"implies")])),r+2;if("="==e.slice(r,r+1))return">"==e.slice(r+1,r+2)?(s.push(new Ti(["->",this._store.sym(y8+"implies")])),r+2):(s.push(new Ti(["->",this._store.sym(uV)])),r+1);if(":="==e.slice(r,r+2))return s.push(new Ti(["->",y8+"becomes"])),r+2;if((o=this.prop(e,r,i))>=0)return s.push(new Ti(["->",i[0]])),o;if(">-"==e.slice(r,r+2)||"<-"==e.slice(r,r+2))throw Tn(this._thisDoc,this.lines,e,o,">- ... -> syntax is obsolete.");return-1}},{key:"prop",value:function(e,r,s){return this.item(e,r,s)}},{key:"item",value:function(e,r,s){return this.path(e,r,s)}},{key:"blankNode",value:function(e){return this._context.bnode(e,this._reason2)}},{key:"path",value:function(e,r,s){if((i=this.nodeOrLiteral(e,r,s))<0)return i;for(;"!^.".indexOf(e.slice(i,i+1))>=0;){var o=e.slice(i,i+1);if("."==o){var a=e.slice(i+1,i+2);if(!a||hu.indexOf(a)>=0&&":?<[{(".indexOf(a)<0)break}var i,l=s.pop(),c=this.blankNode(this.here(i));if((i=this.node(e,i+1,s))<0)throw Tn(this._thisDoc,this.lines,e,i,"EOF found in middle of path syntax");var u=s.pop();this.makeStatement(new Ti("^"==o?[this._context,u,c,l]:[this._context,u,l,c])),s.push(c)}return i}},{key:"anonymousNode",value:function(e){if(r=this._anonymousNodes[e])return r;var r=this._store.bnode(e);return this._anonymousNodes[e]=r,r}},{key:"node",value:function(e,a,s,i){typeof i>"u"&&(i=null);var o=i;if((ee=this.skipSpace(e,a))<0)return ee;var l=e.slice(a=ee,a+1);if("["==l){var c=this.here(a);if((ee=this.skipSpace(e,a+1))<0)throw Tn(this._thisDoc,this.lines,e,a,"EOF after '['");if("="==e.slice(ee,ee+1)){a=ee+1;var u=new ki([]);if(!((ee=this.objectList(e,a,u))>=0))throw Tn(this._thisDoc,this.lines,e,a,"objectList expected after [= ");if(o=u[0],na(u)>1){var h=new Y0(u);try{for(;;){var d=h.next();this.makeStatement(new Ti([this._context,this._store.sym(uV),o,d]))}}catch(gt){if(gt!=t2)throw gt}}if((ee=this.skipSpace(e,ee))<0)throw Tn(this._thisDoc,this.lines,e,a,"EOF when objectList expected after [ = ");if(";"==e.slice(ee,ee+1))var ee=ee+1}if(null==o&&(o=this.blankNode(c)),(a=this.property_list(e,ee,o))<0)throw Tn(this._thisDoc,this.lines,e,ee,"property_list expected");if((ee=this.skipSpace(e,a))<0)throw Tn(this._thisDoc,this.lines,e,a,"EOF when ']' expected after [ <propertyList>");if("]"!=e.slice(ee,ee+1))throw Tn(this._thisDoc,this.lines,e,ee,"']' expected");return s.push(o),ee+1}if("{"==l){if("$"==e.slice(a+1,a+2)){ee=(a+=1)+1;for(var v=new ki([]),b=!0;;){if((a=this.skipSpace(e,ee))<0)throw Tn(this._thisDoc,this.lines,e,a,"needed '$}', found end.");if("$}"==e.slice(a,a+2)){ee=a+2;break}if(b)b=!1;else{if(","!=e.slice(a,a+1))throw Tn(this._thisDoc,this.lines,e,a,"expected: ','");a+=1}var M=new ki([]);if((ee=this.item(e,a,M))<0)throw Tn(this._thisDoc,this.lines,e,a,"expected item in set or '$}'");v.push(M[0])}return s.push(this._store.newSet(v,this._context)),ee}ee=a+1;var z=this._parentContext;this._parentContext=this._context;var B=this._anonymousNodes,pe=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new X0([]),this._variables=this._variables.slice();var fe=this._reason2;for(this._reason2=null,null==o&&(o=this._store.formula()),this._context=o;;){if((a=this.skipSpace(e,ee))<0)throw Tn(this._thisDoc,this.lines,e,a,"needed '}', found end.");if("}"==e.slice(a,a+1)){ee=a+1;break}if((ee=this.directiveOrStatement(e,a))<0)throw Tn(this._thisDoc,this.lines,e,a,"expected statement or '}'")}return this._anonymousNodes=B,this._variables=this._parentVariables,this._parentVariables=pe,this._context=this._parentContext,this._reason2=fe,this._parentContext=z,s.push(o.close()),ee}if("("==l){var we=this._store.list;for("$"==e.slice(a+1,a+2)&&(we=this._store.newSet,a+=1),ee=a+1,v=new ki([]);;){if((a=this.skipSpace(e,ee))<0)throw Tn(this._thisDoc,this.lines,e,a,"needed ')', found end.");if(")"==e.slice(a,a+1)){ee=a+1;break}if(M=new ki([]),(ee=this.item(e,a,M))<0)throw Tn(this._thisDoc,this.lines,e,a,"expected item in list or ')'");v.push(M[0])}return s.push(we(v,this._context)),ee}if((ee=this.tok("this",e,a))>=0)throw Tn(this._thisDoc,this.lines,e,a,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");return(ee=this.tok("true",e,a))>=0?(s.push(!0),ee):(ee=this.tok("false",e,a))>=0?(s.push(!1),ee):null==o&&(ee=this.uri_ref2(e,a,s))>=0?ee:-1}},{key:"property_list",value:function(e,r,s){for(;;){if((p=this.skipSpace(e,r))<0)throw Tn(this._thisDoc,this.lines,e,r,"EOF found when expected verb in property list");if(":-"!=e.slice(p,p+2)){r=p;var o=new ki([]);if((p=this.verb(e,r,o))<=0)return r;var a=new ki([]);if((r=this.objectList(e,p,a))<0)throw Tn(this._thisDoc,this.lines,e,p,"objectList expected");var l=new Y0(a);try{for(;;){var c=l.next(),u=o[0],d=u[1];this.makeStatement(new Ti("->"==u[0]?[this._context,d,s,c]:[this._context,d,c,s]))}}catch(b){if(b!=t2)throw b}if((p=this.skipSpace(e,r))<0)throw Tn(this._thisDoc,this.lines,e,p,"EOF found in list of objects");if(";"!=e.slice(r,r+1))return r;r+=1}else{r=p+2;var p,i=new ki([]);if((p=this.node(e,r,i,s))<0)throw Tn(this._thisDoc,this.lines,e,r,"bad {} or () or [] node after :- ");r=p}}}},{key:"commaSeparatedList",value:function(e,r,s,i){if((o=this.skipSpace(e,r))<0)throw Tn(this._thisDoc,this.lines,e,o,"EOF found expecting comma sep list");if("."==e.charAt(o))return r;if(i)var o=this.uri_ref2(e,o,s);else o=this.bareWord(e,o,s);if(o<0)return-1;for(;;){if((r=this.skipSpace(e,o))<0)return r;var a=e.slice(r,r+1);if(","!=a)return"."!=a?-1:r;if((o=i?this.uri_ref2(e,r+1,s):this.bareWord(e,r+1,s))<0)throw Tn(this._thisDoc,this.lines,e,o,"bad list content")}}},{key:"objectList",value:function(e,i,s){if((i=this.object(e,i,s))<0)return-1;for(;;){var o=this.skipSpace(e,i);if(o<0)throw Tn(this._thisDoc,this.lines,e,o,"EOF found after object");if(","!=e.slice(o,o+1))return o;if((i=this.object(e,o+1,s))<0)return i}}},{key:"checkDot",value:function(e,r){var s=this.skipSpace(e,r);if(s<0)return s;if("."==e.slice(s,s+1))return s+1;if("}"==e.slice(s,s+1)||"]"==e.slice(s,s+1))return s;throw Tn(this._thisDoc,this.lines,e,s,"expected '.' or '}' or ']' at end of statement")}},{key:"uri_ref2",value:function(e,d,s){var i=new ki([]);if((o=this.qname(e,d,i))>=0){var a=i[0],l=a[0],c=a[1];if(null==l){uu(0,"not used?");var u=this._baseURI+"#"}else if(!(u=this._bindings[l])){if("_"==l)return s.push(this.anonymousNode(c)),o;throw Tn(this._thisDoc,this.lines,e,d,"Prefix "+l+" not bound.")}var h=this._store.sym(u+c);return ba(this._variables,h)>=0?s.push(this._variables[h]):s.push(h),o}if((d=this.skipSpace(e,d))<0)return-1;if("?"==e.charAt(d)){var p=new ki([]);return(o=this.variable(e,d,p))>0?(s.push(p[0]),o):-1}if("<"==e.charAt(d)){for(var v=d+=1;d<na(e);){if(">"==e.charAt(d)){var b=e.slice(v,d);return this._baseURI?b=b8(this._baseURI,b):uu(b.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs"),"#"==e.slice(d-1,d)&&"#"!=I8(b,-1,null)&&(b+="#"),h=this._store.sym(b),ba(this._variables,h)>=0?s.push(this._variables[h]):s.push(h),d+1}d+=1}throw Tn(this._thisDoc,this.lines,e,o,"unterminated URI reference")}if(this.keywordsSet){var o;if(p=new ki([]),(o=this.bareWord(e,d,p))<0)return-1;if(ba(this.keywords,p[0])>=0)throw Tn(this._thisDoc,this.lines,e,d,'Keyword "'+p[0]+'" not allowed here.');return s.push(this._store.sym(this._bindings[""]+p[0])),o}return-1}},{key:"skipSpace",value:function(e,r){for(var i=r||0;i<e.length;i++){var o=e.charAt(i);if(" \n\r\t\f\v\xa0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000".indexOf(o)<0){if("#"!==e.charAt(i))return i;for(;;i++){if(i===e.length)return-1;if("\n"===e.charAt(i)){this.lines=this.lines+1;break}}}else"\n"===e.charAt(i)&&(this.lines=this.lines+1)}return-1}},{key:"variable",value:function(e,o,s){if((i=this.skipSpace(e,o))<0||"?"!=e.slice(i,i+1))return-1;var i;if(o=i+=1,"0123456789-".indexOf(e.charAt(i))>=0)throw Tn(this._thisDoc,this.lines,e,i,"Varible name can't start with '"+e.charAt(i)+"s'");for(;o<na(e)&&hu.indexOf(e.charAt(o))<0;)o+=1;if(null==this._parentContext)throw Tn(this._thisDoc,this.lines,e,i,"Can't use ?xxx syntax for variable in outermost level: "+e.slice(i-1,o));return s.push(this._store.variable(e.slice(i,o))),o}},{key:"bareWord",value:function(e,a,s){var i=this.skipSpace(e,a);if(i<0)return-1;var o=e.charAt(i);if("0123456789-".indexOf(o)>=0||hu.indexOf(o)>=0)return-1;for(a=i;a<na(e)&&hu.indexOf(e.charAt(a))<0;)a+=1;return s.push(e.slice(i,a)),a}},{key:"qname",value:function(e,i,s){if((i=this.skipSpace(e,i))<0)return-1;var o=e.charAt(i);if("0123456789-+".indexOf(o)>=0)return-1;if(hu.indexOf(o)<0){var a=o;for(i+=1;i<na(e)&&(o=e.charAt(i),hu.indexOf(o)<0);)a+=o,i+=1}else a="";if(i<na(e)&&":"==e.charAt(i)){var l=a;for(i+=1,a="";i<na(e)&&(o=e.charAt(i),hu.indexOf(o)<0);)a+=o,i+=1;return s.push(new Ti([l,a])),i}return a&&this.keywordsSet&&ba(this.keywords,a)<0?(s.push(new Ti(["",a])),i):-1}},{key:"object",value:function(e,r,s){if((i=this.subject(e,r,s))>=0)return i;if((i=this.skipSpace(e,r))<0)return-1;var o=null,a=e.charAt(r=i);if('"'==a||"'"==a){o=e.slice(r,r+3==a+a)?a+a+a:a,r+=na(o);var l=this.strconst(e,r,o),i=l[0];return s.push(this._store.literal(l[1])),i}return-1}},{key:"nodeOrLiteral",value:function(e,r,s){if((i=this.node(e,r,s))>=0)return i;if((i=this.skipSpace(e,r))<0)return-1;var o=e.charAt(r=i);if("-+0987654321".indexOf(o)>=0){if(dV.lastIndex=0,null!=(a=dV.exec(e.slice(r))))i=r+(l=a[0]).length,l.indexOf("T")>=0?s.push(this._store.literal(l,this._store.sym("http://www.w3.org/2001/XMLSchema#dateTime"))):s.push(this._store.literal(l,this._store.sym("http://www.w3.org/2001/XMLSchema#date")));else{var l;if(x8.lastIndex=0,null==(a=x8.exec(e.slice(r))))throw Tn(this._thisDoc,this.lines,e,r,"Bad number or date syntax");(l=e.slice(r,i=r+x8.lastIndex)).indexOf("e")>=0?s.push(this._store.literal(parseFloat(l),this._store.sym("http://www.w3.org/2001/XMLSchema#double"))):e.slice(r,i).indexOf(".")>=0?s.push(this._store.literal(parseFloat(l),this._store.sym("http://www.w3.org/2001/XMLSchema#decimal"))):s.push(this._store.literal(parseInt(l),this._store.sym("http://www.w3.org/2001/XMLSchema#integer")))}return i}if('"'==e.charAt(r)){if('"""'==e.slice(r,r+3))var c='"""';else c='"';r+=na(c);var u=null,h=this.strconst(e,r,c),d=h[1],p=null;if("@"==e.slice(i=h[0],i+1)){var a;if(_8.lastIndex=0,null==(a=_8.exec(e.slice(i+1))))throw Tn(this._thisDoc,startline,e,r,"Bad language code syntax on string literal, after @");p=e.slice(i+1,r=_8.lastIndex+i+1);var i=r}if("^^"==e.slice(i,i+2)){var v=new ki([]);i=this.uri_ref2(e,i+2,v),u=v[0]}return s.push(this._store.literal(d,p||u)),i}return-1}},{key:"strconst",value:function(e,r,s){for(var i=r,o="",a=this.lines;i<na(e);){if(r=i+na(s),e.slice(i,r)==s)return new Ti([r,o]);if('"'!=e.charAt(i)){if(S8.lastIndex=0,!S8.exec(e.slice(i)))throw Tn(this._thisDoc,a,e,i,"Closing quote missing in string at ^ in "+e.slice(i-20,i)+"^"+e.slice(i,i+20));if(o+=e.slice(i,r=i+S8.lastIndex-1),'"'!=(c=e.charAt(r)))if("\r"!=c){if("\n"==c){if('"'==s)throw Tn(this._thisDoc,a,e,r,"newline found in string literal");this.lines=this.lines+1,o+=c,i=r+1,this.previousLine=this.startOfLine,this.startOfLine=i}else if("\\"==c){if(!(c=e.slice(i=r+1,i+1)))throw Tn(this._thisDoc,a,e,r,"unterminated string literal (2)");var u=A8('abfrtvn\\"',c);if(u>=0)o+='a\b\f\r\t\v\n\\"'.charAt(u),i+=1;else if("u"==c)i=(d=this.uEscape(e,i+1,a))[0],o+=c=d[1];else{if("U"!=c)throw Tn(this._thisDoc,this.lines,e,r,"bad escape");var d,c;i=(d=this.UEscape(e,i+1,a))[0],o+=c=d[1]}}}else i=r+1;else i=r}else o=o+'"',i=i+1}throw Tn(this._thisDoc,this.lines,e,r,"unterminated string literal")}},{key:"uEscape",value:function(e,r,s){for(var i=r,o=0,a=0;o<4;){var c=e.slice(i,i+1).toLowerCase();if(i+=1,""==c)throw Tn(this._thisDoc,s,e,r,"unterminated string literal(3)");var u=A8("0123456789abcdef",c);if(u<0)throw Tn(this._thisDoc,s,e,r,"bad string literal hex escape");a=16*a+u,o+=1}var h=String.fromCharCode(a);return new Ti([i,h])}},{key:"UEscape",value:function(e,r,s){for(var i=r,o=0,a="\\U";o<8;){var c=e.slice(i,i+1).toLowerCase();if(i+=1,""==c)throw Tn(this._thisDoc,s,e,r,"unterminated string literal(3)");if(A8("0123456789abcdef",c)<0)throw Tn(this._thisDoc,s,e,r,"bad string literal hex escape");a+=c,o+=1}var n,h=(n="0x"+I8(a,2,10)-0,String.fromCharCode(n));return new Ti([i,h])}}])}();function Tn(t,n,e,r,s){var i=n+1,o="Line "+i+" of <"+t+">: Bad syntax: "+s+'\nat: "'+e.slice(r,r+30)+'"',a=new SyntaxError(o,t,i);return a.lineNo=i,a.characterInFile=r,a.syntaxProblem=s,a}function fV(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,r)}return e}function gV(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?fV(Object(e),!0).forEach(function(r){(0,Vt.A)(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):fV(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}const H8=gV(gV({},Ya),{},{supports:(0,Vt.A)((0,Vt.A)((0,Vt.A)((0,Vt.A)((0,Vt.A)((0,Vt.A)((0,Vt.A)({},No.collections,!0),No.defaultGraphType,!1),No.equalsMethod,!0),No.identity,!1),No.id,!0),No.reversibleId,!1),No.variableType,!0),collection:function(n){return new Xc(n)},id:function(n){var e=this;return(0,Bs.P3)(n)?"( ".concat(n.elements.map(function(r){return e.id(r)}).join(", ")," )"):(0,Bs.DZ)(n)?lu.toString(n):Ya.id(n)},termToNQ:function(n){return n.termType===An.r0?Xc.toNT(n):Ya.termToNQ(n)}});function z8(t,n){return"string"==typeof n?t.rdfFactory.literal(n):Object.prototype.hasOwnProperty.call(n,"@list")?!0===t.rdfFactory.supports.COLLECTIONS?function iq(t,n){if(!Array.isArray(n))throw new TypeError("Object must be an array");return t.rdfFactory.collection(n.map(function(e){return z8(t,e)}))}(t,n["@list"]):function sq(t,n){var e=n["@id"]?V8(t,n):t.rdfFactory.blankNode(),r=n["@list"].map(function(i){return z8(t,i)}),s=qz(t.rdfFactory,e,r);return t.addAll(s),e}(t,n):Object.prototype.hasOwnProperty.call(n,"@id")?V8(t,n):Object.prototype.hasOwnProperty.call(n,"@language")?t.rdfFactory.literal(n["@value"],n["@language"]):Object.prototype.hasOwnProperty.call(n,"@type")?t.rdfFactory.literal(n["@value"],t.rdfFactory.namedNode(n["@type"])):Object.prototype.hasOwnProperty.call(n,"@value")?t.rdfFactory.literal(n["@value"]):t.rdfFactory.literal(n)}function vV(t,n,e,r){var s=e&&Object.prototype.hasOwnProperty.call(e,"termType")?e.value:e;return K.e(45).then(K.t.bind(K,1045,23)).then(function(i){return i.flatten(JSON.parse(t),null,{base:s})}).then(function(i){return i.reduce(function(o,a){return n=mV(n,e,a)},n)}).then(r).catch(r)}function V8(t,n){return n["@id"].startsWith("_:")?t.rdfFactory.blankNode(n["@id"].substring(2)):t.rdfFactory.namedNode(n["@id"])}function mV(t,n,e){for(var r=e["@id"]?V8(t,e):t.rdfFactory.blankNode(),s=0,i=Object.keys(e);s<i.length;s++){var o=i[s];if("@id"!==o){if("@graph"==o)for(var a=r,l=e[o],c=0;c<l.length;c++)t=mV(t,a,l[c]);var u=e[o];if(Array.isArray(u))for(var h=0;h<u.length;h++)t.addStatement(wV(t,r,o,u[h],n));else t.addStatement(wV(t,r,o,u,n))}}return t}function wV(t,n,e,r,s){var i,o;return"@type"===e?(i=t.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),o=t.rdfFactory.namedNode(r)):(i=t.rdfFactory.namedNode(e),o=z8(t,r)),t.rdfFactory.quad(n,i,o,t.rdfFactory.namedNode(s))}var oq=K(6148),aq=K(4416),lq=K.n(aq);const K0="http://www.w3.org/1999/02/22-rdf-syntax-ns#",J0="http://www.w3.org/2001/XMLSchema#",T8="http://www.w3.org/2000/10/swap/",zl={xsd:{decimal:`${J0}decimal`,boolean:`${J0}boolean`,double:`${J0}double`,integer:`${J0}integer`,string:`${J0}string`},rdf:{type:`${K0}type`,nil:`${K0}nil`,first:`${K0}first`,rest:`${K0}rest`,langString:`${K0}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${T8}reify#forSome`,forAll:`${T8}reify#forAll`},log:{implies:`${T8}log#implies`}},{xsd:g5}=zl,cq=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,CV={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},uq=/[\x00-\x20<>\\"\{\}\|\^\`]/,hq={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},dq=/$0^/;class pq{constructor(n){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,this._lineMode=!!(n=n||{}).lineMode){this._n3Mode=!1;for(const e in this)!(e in hq)&&this[e]instanceof RegExp&&(this[e]=dq)}else this._n3Mode=!1!==n.n3;this.comments=!!n.comments,this._literalClosingPos=0}_tokenizeToEnd(n,e){let r=this._input,s=r.length;for(;;){let a,l;for(;a=this._newline.exec(r);)this.comments&&(l=this._comment.exec(a[0]))&&i("comment",l[1],"",this._line,a[0].length),r=r.substr(a[0].length,r.length),s=r.length,this._line++;if(!a&&(a=this._whitespace.exec(r))&&(r=r.substr(a[0].length,r.length)),this._endOfFile.test(r))return e&&(this.comments&&(l=this._comment.exec(r))&&i("comment",l[1],"",this._line,r.length),r=null,i("eof","","",this._line,0)),this._input=r;const c=this._line,u=r[0];let h="",d="",p="",v=null,b=0,M=!1;switch(u){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(b=1,h="^");break}if(this._previousMarker="^^",r=r.substr(2),"<"!==r[0]){M=!0;break}case"<":if(v=this._unescapedIri.exec(r))h="IRI",d=v[1];else if(v=this._iri.exec(r)){if(d=this._unescape(v[1]),null===d||uq.test(d))return o(this);h="IRI"}else r.length>1&&"<"===r[1]?(h="<<",b=2):this._n3Mode&&r.length>1&&"="===r[1]&&(h="inverse",b=2,d=">");break;case">":r.length>1&&">"===r[1]&&(h=">>",b=2);break;case"_":((v=this._blank.exec(r))||e&&(v=this._blank.exec(`${r} `)))&&(h="blank",p="_",d=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))d=v[1];else if(({value:d,matchLength:b}=this._parseLiteral(r)),null===d)return o(this);(null!==v||0!==b)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))d=v[1];else if(({value:d,matchLength:b}=this._parseLiteral(r)),null===d)return o(this);(null!==v||0!==b)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(h="var",d=v[0]);break;case"@":"literal"===this._previousMarker&&(v=this._langcode.exec(r))?(h="langcode",d=v[1]):(v=this._keyword.exec(r))&&(h=v[0]);break;case".":if(1===r.length?e:r[1]<"0"||r[1]>"9"){h=".",b=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||e&&(v=this._number.exec(`${r} `)))&&(h="literal",d=v[0],p="string"==typeof v[1]?g5.double:"string"==typeof v[2]?g5.decimal:g5.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?h=v[0].toUpperCase():M=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(h="literal",d=v[0],p=g5.boolean):M=!0;break;case"a":(v=this._shortPredicates.exec(r))?(h="abbreviation",d="a"):M=!0;break;case"=":this._n3Mode&&r.length>1&&(h="abbreviation",">"!==r[1]?(b=1,d="="):(b=2,d=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(b=1,h=u);break;case"{":!this._lineMode&&r.length>=2&&("|"===r[1]?(h="{|",b=2):(h=u,b=1));break;case"|":r.length>=2&&"}"===r[1]&&(h="|}",b=2);break;default:M=!0}if(M&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(v=this._prefix.exec(r))?((v=this._prefixed.exec(r))||e&&(v=this._prefixed.exec(`${r} `)))&&(h="prefixed",p=v[1]||"",d=this._unescape(v[2])):(h="prefix",d=v[1]||"")),"^^"===this._previousMarker)switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return e||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const z=b||v[0].length,B=i(h,d,p,c,z);this.previousToken=B,this._previousMarker=h,r=r.substr(z,r.length)}function i(a,l,c,u,h){const d=r?s-r.length:s,v={type:a,value:l,prefix:c,line:u,start:d,end:d+h};return n(null,v),v}function o(a){n(a._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(n){let e=!1;const r=n.replace(cq,(s,i,o,a)=>{if("string"==typeof i)return String.fromCharCode(Number.parseInt(i,16));if("string"==typeof o){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(1023&l))}return a in CV?CV[a]:(e=!0,"")});return e?null:r}_parseLiteral(n){if(n.length>=3){const e=n.match(/^(?:"""|"|'''|'|)/)[0],r=e.length;let s=Math.max(this._literalClosingPos,r);for(;(s=n.indexOf(e,s))>0;){let i=0;for(;"\\"===n[s-i-1];)i++;if(i%2==0){const o=n.substring(r,s),a=o.split(/\r\n|\r|\n/).length-1,l=s+r;if(1===r&&0!==a||3===r&&this._lineMode)break;return this._line+=a,{value:this._unescape(o),matchLength:l}}s++}this._literalClosingPos=n.length-r+1}return{value:"",matchLength:0}}_syntaxError(n){this._input=null;const e=new Error(`Unexpected "${n}" on line ${this._line}.`);return e.context={token:void 0,line:this._line,previousToken:this.previousToken},e}_readStartingBom(n){return n.startsWith("\ufeff")?n.substr(1):n}tokenize(n,e){if(this._line=1,"string"==typeof n){if(this._input=this._readStartingBom(n),"function"!=typeof e){const r=[];let s;if(this._tokenizeToEnd((i,o)=>i?s=i:r.push(o),!0),s)throw s;return r}lq()(()=>this._tokenizeToEnd(e,!0))}else this._pendingBuffer=null,"function"==typeof n.setEncoding&&n.setEncoding("utf8"),n.on("data",r=>{null!==this._input&&0!==r.length&&(this._pendingBuffer&&(r=oq.hp.concat([this._pendingBuffer,r]),this._pendingBuffer=null),128&r[r.length-1]?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom("string"==typeof r?r:r.toString()):this._input+=r,this._tokenizeToEnd(e,!1)))}),n.on("end",()=>{"string"==typeof this._input&&this._tokenizeToEnd(e,!0)}),n.on("error",e)}}const{rdf:fq,xsd:du}=zl;let n2,gq=0;const vq={namedNode:bV,blankNode:xV,variable:_V,literal:SV,defaultGraph:function yq(){return n2},quad:L8,triple:L8,fromTerm:q0,fromQuad:MV};class Vl{constructor(n){this.id=n}get value(){return this.id}equals(n){return n instanceof Vl?this.id===n.id:!!n&&this.termType===n.termType&&this.value===n.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class IV extends Vl{get termType(){return"NamedNode"}}class r2 extends Vl{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const n=this.id;let e=n.lastIndexOf('"')+1;return e<n.length&&"@"===n[e++]?n.substr(e).toLowerCase():""}get datatype(){return new IV(this.datatypeString)}get datatypeString(){const n=this.id,e=n.lastIndexOf('"')+1,r=e<n.length?n[e]:"";return"^"===r?n.substr(e+2):"@"!==r?du.string:fq.langString}equals(n){return n instanceof r2?this.id===n.id:!!n&&!!n.datatype&&this.termType===n.termType&&this.value===n.value&&this.language===n.language&&this.datatype.value===n.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class mq extends Vl{constructor(n){super(`_:${n}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class wq extends Vl{constructor(n){super(`?${n}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}n2=new class Cq extends Vl{constructor(){return super(""),n2||this}get termType(){return"DefaultGraph"}equals(n){return this===n||!!n&&this.termType===n.termType}};class AV extends Vl{constructor(n,e,r,s){super(""),this._subject=n,this._predicate=e,this._object=r,this._graph=s||n2}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(n){return!!n&&this._subject.equals(n.subject)&&this._predicate.equals(n.predicate)&&this._object.equals(n.object)&&this._graph.equals(n.graph)}}function bV(t){return new IV(t)}function xV(t){return new mq(t||"n3-"+gq++)}function SV(t,n){if("string"==typeof n)return new r2(`"${t}"@${n.toLowerCase()}`);let e=n?n.value:"";return""===e&&("boolean"==typeof t?e=du.boolean:"number"==typeof t&&(Number.isFinite(t)?e=Number.isInteger(t)?du.integer:du.double:(e=du.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),new r2(""===e||e===du.string?`"${t}"`:`"${t}"^^${e}`)}function _V(t){return new wq(t)}function L8(t,n,e,r){return new AV(t,n,e,r)}function q0(t){if(t instanceof Vl)return t;switch(t.termType){case"NamedNode":return bV(t.value);case"BlankNode":return xV(t.value);case"Variable":return _V(t.value);case"DefaultGraph":return n2;case"Literal":return SV(t.value,t.language||t.datatype);case"Quad":return MV(t);default:throw new Error(`Unexpected termType: ${t.termType}`)}}function MV(t){if(t instanceof AV)return t;if("Quad"!==t.termType)throw new Error(`Unexpected termType: ${t.termType}`);return L8(q0(t.subject),q0(t.predicate),q0(t.object),q0(t.graph))}let HV=0;class zV{constructor(n){this._contextStack=[],this._graph=null,this._setBase((n=n||{}).baseIRI),n.factory&&VV(this,n.factory);const e="string"==typeof n.format?n.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(e),s=/trig/.test(e),i=/triple/.test(e),o=/quad/.test(e),a=this._n3Mode=/n3/.test(e),l=i||o;(this._supportsNamedGraphs=!(r||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||s||i||a),this._supportsRDFStar=""===e||/star|\*$/.test(e),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix="string"!=typeof n.blankNodePrefix?"":n.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=n.lexer||new pq({lineMode:l,n3:a}),this._explicitQuantifiers=!!n.explicitQuantifiers}static _resetBlankNodePrefix(){HV=0}_setBase(n){if(n){const e=n.indexOf("#");e>=0&&(n=n.substr(0,e)),this._base=n,this._basePath=n.indexOf("/")<0?n:n.replace(/[^\/?]*(?:\?.*)?$/,""),n=n.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=n[0],this._baseScheme=n[1]}else this._base="",this._basePath=""}_saveContext(n,e,r,s,i){const o=this._n3Mode;this._contextStack.push({type:n,subject:r,predicate:s,object:i,graph:e,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(n,e){const r=this._contextStack.pop();if(!r||r.type!==n)return this._error(`Unexpected ${e.type}`,e);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(n){switch(n.type){case"eof":return null!==this._graph?this._error("Unclosed graph",n):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(n)}}_readEntity(n,e){let r;switch(n.type){case"IRI":case"typeIRI":const s=this._resolveIRI(n.value);if(null===s)return this._error("Invalid IRI",n);r=this._factory.namedNode(s);break;case"type":case"prefixed":const i=this._prefixes[n.prefix];if(void 0===i)return this._error(`Undefined prefix "${n.prefix}:"`,n);r=this._factory.namedNode(i+n.value);break;case"blank":r=this._factory.blankNode(this._prefixes[n.prefix]+n.value);break;case"var":r=this._factory.variable(n.value.substr(1));break;default:return this._error(`Expected entity but got ${n.type}`,n)}return!e&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(n){switch(this._predicate=null,n.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",n);case"}":return this._readPunctuation(n);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',n);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',n);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",n);if(0===n.prefix.length)return this._literalValue=n.value,this._completeSubjectLiteral;this._subject=this._factory.literal(n.value,this._factory.namedNode(n.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",n);default:if(void 0===(this._subject=this._readEntity(n)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(n){const e=n.type;switch(e){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[n.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${e}`,n):(this._subject=null,"]"===e?this._readBlankNodeTail(n):this._readPunctuation(n));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",n);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",n);default:if(void 0===(this._predicate=this._readEntity(n)))return}return this._readObject}_readObject(n){switch(n.type){case"literal":if(0===n.prefix.length)return this._literalValue=n.value,this._readDataTypeOrLang;this._object=this._factory.literal(n.value,this._factory.namedNode(n.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",n);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",n);default:if(void 0===(this._object=this._readEntity(n)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(n){return"{"===n.type?this._readGraph(n):this._readPredicate(n)}_readGraph(n){return"{"!==n.type?this._error(`Expected graph but got ${n.type}`,n):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(n){return"]"===n.type?(this._subject=null,this._readBlankNodeTail(n)):(this._predicate=null,this._readPredicate(n))}_readBlankNodeTail(n){if("]"!==n.type)return this._readBlankNodePunctuation(n);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const e=null===this._predicate;return this._restoreContext("blank",n),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:e?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(n){switch(n.type){case".":case"}":return this._subject=null,this._readPunctuation(n);default:return this._readPredicate(n)}}_readListItem(n){let e=null,r=null,s=this._readListItem;const i=this._subject,o=this._contextStack,a=o[o.length-1];switch(n.type){case"[":this._saveContext("blank",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this._subject=e=this._factory.blankNode()),s=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",n),0!==o.length&&"list"===o[o.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(s=this._readPredicate,this._subject===this.RDF_NIL)return s}else if(s=this._getContextEndReader(),this._object===this.RDF_NIL)return s;r=this.RDF_NIL;break;case"literal":0===n.prefix.length?(this._literalValue=n.value,s=this._readListItemDataTypeOrLang):(e=this._factory.literal(n.value,this._factory.namedNode(n.prefix)),s=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",n);default:if(void 0===(e=this._readEntity(n)))return}if(null===r&&(this._subject=r=this._factory.blankNode()),null===i?null===a.predicate?a.subject=r:a.object=r:this._emit(i,this.RDF_REST,r,this._graph),null!==e){if(this._n3Mode&&("IRI"===n.type||"prefixed"===n.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,e),this._subject=e,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,e,this._graph)}return s}_readDataTypeOrLang(n){return this._completeObjectLiteral(n,!1)}_readListItemDataTypeOrLang(n){return this._completeObjectLiteral(n,!0)}_completeLiteral(n){let e=this._factory.literal(this._literalValue);switch(n.type){case"type":case"typeIRI":const r=this._readEntity(n);if(void 0===r)return;e=this._factory.literal(this._literalValue,r),n=null;break;case"langcode":e=this._factory.literal(this._literalValue,n.value),n=null}return{token:n,literal:e}}_completeSubjectLiteral(n){return this._subject=this._completeLiteral(n).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(n,e){const r=this._completeLiteral(n);if(r)return this._object=r.literal,e&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(n){return"}"!==n.type?this._readPunctuation(n):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",n),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(n){let e,r=this._graph;const s=this._subject,i=this._inversePredicate;switch(n.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",n);if(this._n3Mode)return this._readFormulaTail(n);this._graph=null;case".":this._subject=null,e=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":e=this._readPredicate;break;case",":e=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",n);this._subject=this._factory.quad(s,this._predicate,this._object,this.DEFAULTGRAPH),e=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",n);this._subject=null,e=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(n))){e=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,n)}if(null!==s){const o=this._predicate,a=this._object;i?this._emit(a,o,s,r):this._emit(s,o,a,r)}return e}_readBlankNodePunctuation(n){let e;switch(n.type){case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,n)}return this._emit(this._subject,this._predicate,this._object,this._graph),e}_readQuadPunctuation(n){return"."!==n.type?this._error("Expected dot to follow quad",n):this._readInTopContext}_readPrefix(n){return"prefix"!==n.type?this._error("Expected prefix to follow @prefix",n):(this._prefix=n.value,this._readPrefixIRI)}_readPrefixIRI(n){if("IRI"!==n.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,n);const e=this._readEntity(n);return this._prefixes[this._prefix]=e.value,this._prefixCallback(this._prefix,e),this._readDeclarationPunctuation}_readBaseIRI(n){const e="IRI"===n.type&&this._resolveIRI(n.value);return e?(this._setBase(e),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",n)}_readNamedGraphLabel(n){switch(n.type){case"IRI":case"blank":case"prefixed":return this._readSubject(n),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",n)}}_readNamedGraphBlankLabel(n){return"]"!==n.type?this._error("Invalid graph label",n):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(n){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(n)):"."!==n.type?this._error("Expected declaration to end with a dot",n):this._readInTopContext}_readQuantifierList(n){let e;switch(n.type){case"IRI":case"prefixed":if(void 0!==(e=this._readEntity(n,!0)))break;default:return this._error(`Unexpected ${n.type}`,n)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,e,this.QUANTIFIERS_GRAPH)):this._quantified[e.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(n){return","===n.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(n))}_getPathReader(n){return this._afterPath=n,this._readPath}_readPath(n){switch(n.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const e=this._contextStack,r=e.length&&e[e.length-1];if(r&&"item"===r.type){const s=this._subject;this._restoreContext("item",n),this._emit(this._subject,this.RDF_FIRST,s,this._graph)}return this._afterPath(n)}}_readForwardPath(n){let e,r;const s=this._factory.blankNode();if(void 0!==(r=this._readEntity(n)))return null===this._predicate?(e=this._subject,this._subject=s):(e=this._object,this._object=s),this._emit(e,r,s,this._graph),this._readPath}_readBackwardPath(n){const e=this._factory.blankNode();let r,s;if(void 0!==(r=this._readEntity(n)))return null===this._predicate?(s=this._subject,this._subject=e):(s=this._object,this._object=e),this._emit(e,r,s,this._graph),this._readPath}_readRDFStarTailOrGraph(n){return">>"!==n.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(n))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,n):this._readRDFStarTail(n)}_readRDFStarTail(n){if(">>"!==n.type)return this._error(`Expected >> but got ${n.type}`,n);const e=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",n),null===this._subject?(this._subject=e,this._readPredicate):(this._object=e,this._getContextEndReader())}_getContextEndReader(){const n=this._contextStack;if(!n.length)return this._readPunctuation;switch(n[n.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(n,e,r,s){this._callback(null,this._factory.quad(n,e,r,s||this.DEFAULTGRAPH))}_error(n,e){const r=new Error(`${n} on line ${e.line}.`);r.context={token:e,line:e.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=w5}_resolveIRI(n){return/^[a-z][a-z0-9+.-]*:/i.test(n)?n:this._resolveRelativeIRI(n)}_resolveRelativeIRI(n){if(!n.length)return this._base;switch(n[0]){case"#":return this._base+n;case"?":return this._base.replace(/(?:\?.*)?$/,n);case"/":return("/"===n[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(n);default:return/^[^/:]*:/.test(n)?null:this._removeDotSegments(this._basePath+n)}}_removeDotSegments(n){if(!/(^|\/)\.\.?($|[/#?])/.test(n))return n;const e=n.length;let r="",s=-1,i=-1,o=0,a="/";for(;s<e;){switch(a){case":":if(i<0&&"/"===n[++s]&&"/"===n[++s])for(;(i=s+1)<e&&"/"!==n[i];)s=i;break;case"?":case"#":s=e;break;case"/":if("."===n[s+1])switch(a=n[1+ ++s],a){case"/":r+=n.substring(o,s-1),o=s+1;break;case void 0:case"?":case"#":return r+n.substring(o,s)+n.substr(s+1);case".":if(a=n[1+ ++s],void 0===a||"/"===a||"?"===a||"#"===a){if(r+=n.substring(o,s-2),(o=r.lastIndexOf("/"))>=i&&(r=r.substr(0,o)),"/"!==a)return`${r}/${n.substr(s+1)}`;o=s+1}}}a=n[++s]}return r+n.substring(o)}parse(n,e,r){let s,i,o;if(e&&(e.onQuad||e.onPrefix||e.onComment)?(s=e.onQuad,i=e.onPrefix,o=e.onComment):(s=e,i=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${HV++}_`,this._prefixCallback=i||w5,this._inversePredicate=!1,this._quantified=Object.create(null),!s){const l=[];let c;if(this._callback=(u,h)=>{u?c=u:h&&l.push(h)},this._lexer.tokenize(n).every(u=>this._readCallback=this._readCallback(u)),c)throw c;return l}let a=(l,c)=>{null!==l?(this._callback(l),this._callback=w5):this._readCallback&&(this._readCallback=this._readCallback(c))};o&&(this._lexer.comments=!0,a=(l,c)=>{null!==l?(this._callback(l),this._callback=w5):this._readCallback&&("comment"===c.type?o(c.value):this._readCallback=this._readCallback(c))}),this._callback=s,this._lexer.tokenize(n,a)}}function w5(){}function VV(t,n){t._factory=n,t.DEFAULTGRAPH=n.defaultGraph(),t.RDF_FIRST=n.namedNode(zl.rdf.first),t.RDF_REST=n.namedNode(zl.rdf.rest),t.RDF_NIL=n.namedNode(zl.rdf.nil),t.N3_FORALL=n.namedNode(zl.r.forAll),t.N3_FORSOME=n.namedNode(zl.r.forSome),t.ABBREVIATIONS={a:n.namedNode(zl.rdf.type),"=":n.namedNode(zl.owl.sameAs),">":n.namedNode(zl.log.implies)},t.QUANTIFIERS_GRAPH=n.namedNode("urn:n3:quantifiers")}if(VV(zV.prototype,vq),typeof Yc>"u")var Yc={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var xa=function(){function t(n,e){(0,Ks.A)(this,t),this.options=e||{},this.kb=n,this.target=e.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return(0,Js.A)(t,[{key:"addTriple",value:function(e,r,s,i){var o,a,l,c;o=typeof r>"u"?Ya.namedNode(this.options.base):this.toRDFNodeObject(r),l=this.toRDFNodeObject(s),a=this.toRDFNodeObject(i),c=Ya.namedNode(this.options.base),this.kb.add(o,l,a,c)}},{key:"ancestorPath",value:function(e){for(var r="";e&&e.nodeType!==Yc.DOCUMENT_NODE;)r="/"+e.localName+r,e=e.parentNode;return r}},{key:"copyMappings",value:function(e){var r={};for(var s in e)r[s]=e[s];return r}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(e){for(var r=0;r<t.dateTimeTypes.length;r++){var s=t.dateTimeTypes[r].pattern.exec(e);if(s&&s[0].length===e.length)return t.dateTimeTypes[r].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return this.blankCounter++,"_:"+this.blankCounter}},{key:"newSubjectOrigin",value:function(e,r){}},{key:"parseCURIE",value:function(e,r,s){var o,i=e.indexOf(":");if(i>=0){var a=e.substring(0,i);if(""===a)return(o=r[""])?o+e.substring(i+1):null;if("_"===a)return"_:"+e.substring(i+1);if(t.NCNAME.test(a)&&(o=r[a]))return o+e.substring(i+1)}return null}},{key:"parseCURIEOrURI",value:function(e,r,s){return this.parseCURIE(e,r,s)||this.resolveAndNormalize(s,e)}},{key:"parsePredicate",value:function(e,r,s,i,o,a){if(""===e)return null;var l=this.parseTermOrCURIEOrAbsURI(e,r,a?null:s,i,o);return l&&0===l.indexOf("_:")?null:l}},{key:"parsePrefixMappings",value:function(e,r){for(var s=this.tokenize(e),i=null,o=0;o<s.length;o++)":"===s[o][s[o].length-1]?i=s[o].substring(0,s[o].length-1):i&&(r[i]=this.options.base?Aa(s[o],this.options.base):s[o],i=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(e,r,s){return"["===(e=this.trim(e)).charAt(0)&&"]"===e.charAt(e.length-1)?0===(e=(e=e.substring(1,e.length-1)).trim(e)).length?null:"_:"===e?this.theOne:this.parseCURIE(e,r,s):this.parseCURIEOrURI(e,r,s)}},{key:"parseTermOrCURIEOrAbsURI",value:function(e,r,s,i,o){e=this.trim(e);var a=this.parseCURIE(e,i,o);if(a)return a;if(s){if(r&&!this.absURIRE.exec(e))return r+e;var l=s[e];if(l)return l;if(l=s[e.toLowerCase()])return l}return this.absURIRE.exec(e)?this.resolveAndNormalize(o,e):null}},{key:"parseTermOrCURIEOrURI",value:function(e,r,s,i,o){e=this.trim(e);var a=this.parseCURIE(e,i,o);if(a)return a;var l=s[e];return l||(l=s[e.toLowerCase()])||(r&&!this.absURIRE.exec(e)?r+e:this.resolveAndNormalize(o,e))}},{key:"parseURI",value:function(e){return e}},{key:"process",value:function(e,r){var s;r=r||{},e.nodeType===Yc.DOCUMENT_NODE?(e.baseURI&&!r.baseURI&&(r.baseURI=e.baseURI),s=e.baseURI,(e=e.documentElement).baseURI||(e.baseURI=s),this.setContext(e)):e.parentNode.nodeType===Yc.DOCUMENT_NODE&&this.setContext(e);var i=[],o=function(_u){if(!_u&&r&&r.baseURI)return r.baseURI;var XR=_u.indexOf("#");return XR>=0&&(_u=_u.substring(0,XR)),r&&r.baseURIMap&&(_u=r.baseURIMap(_u)),_u};for(i.push({current:e,context:this.push(null,o(e.baseURI))});i.length>0;){var a=i.shift();if(a.parent){if(a.context.parent&&a.context.parent.listMapping===a.listMapping)continue;for(var l in a.listMapping){var c=a.listMapping[l];if(0!==c.length){for(var u=[],h=0;h<c.length;h++)u.push(this.newBlankNode());for(var d=0;d<u.length;d++)this.addTriple(a.parent,u[d],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",c[d]),this.addTriple(a.parent,u[d],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:t.objectURI,value:d+1<u.length?u[d+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(a.parent,a.subject,l,{type:t.objectURI,value:u[0]})}else this.addTriple(a.parent,a.subject,l,{type:t.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}}else{var p=a.current,v=a.context,b=!1,M=null,z=null,B=null,pe=v.prefixes,fe=!1,we=[],ee=v.listMapping,Ie=!v.parent,De=v.language,nt=v.vocabulary;s=this.parseURI(o(p.baseURI)),p.item=null;var rt=p.getAttributeNode("vocab");if(rt){var ft=this.trim(rt.value);ft.length>0?this.addTriple(p,s.spec,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:t.objectURI,value:nt=ft}):nt=this.vocabulary}for(var gt=0;gt<p.attributes.length;gt++){var Ht=p.attributes[gt];if("x"===Ht.nodeName.charAt(0)&&0===Ht.nodeName.indexOf("xmlns:")){fe||(pe=this.copyMappings(pe),fe=!0);var Lt=Ht.nodeName.substring(6),St=t.trim(Ht.value);pe[Lt]=this.options.base?Aa(St,this.options.base):St}}var bn=p.getAttributeNode("prefix");bn&&(fe||(pe=this.copyMappings(pe),fe=!0),this.parsePrefixMappings(bn.value,pe));for(var rr=null,Jr=0;!rr&&Jr<this.langAttributes.length;Jr++)rr=p.getAttributeNodeNS(this.langAttributes[Jr].namespaceURI,this.langAttributes[Jr].localName);if(rr){var _o=t.trim(rr.value);De=_o.length>0?_o:null}var xu,La,jr=p.getAttributeNode("rel"),bi=p.getAttributeNode("rev"),cs=p.getAttributeNode("typeof"),Va=p.getAttributeNode("property"),Fo=p.getAttributeNode("datatype"),Ji=this.inHTMLMode?p.getAttributeNode("datetime"):null,io=p.getAttributeNode("content"),oo=p.getAttributeNode("about"),rl=p.getAttributeNode("src"),Po=p.getAttributeNode("resource"),Ta=p.getAttributeNode("href"),V7=p.getAttributeNode("inlist"),Ea=[];if(jr){La=this.tokenize(jr.value);for(var T7=0;T7<La.length;T7++)(xu=this.parsePredicate(La[T7],nt,v.terms,pe,s,this.inHTMLMode&&null!==Va))&&Ea.push(xu)}var z2=[];if(bi){La=this.tokenize(bi.value);for(var E7=0;E7<La.length;E7++)(xu=this.parsePredicate(La[E7],nt,v.terms,pe,s,this.inHTMLMode&&Va))&&z2.push(xu)}if(this.inHTMLMode&&(jr||bi)&&Va&&(0===Ea.length&&(jr=null),0===z2.length&&(bi=null)),jr||bi?(oo&&(M=this.parseSafeCURIEOrCURIEOrURI(oo.value,pe,s)),cs&&(B=M),M||(p.parentNode.nodeType===Yc.DOCUMENT_NODE?M=o(p.baseURI):v.parentObject&&(M=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject)),Po&&(z=this.parseSafeCURIEOrCURIEOrURI(Po.value,pe,s)),z||(Ta?z=this.resolveAndNormalize(s,encodeURI(Ta.value)):rl?z=this.resolveAndNormalize(s,encodeURI(rl.value)):cs&&!oo&&!(this.inXHTMLMode&&("head"===p.localName||"body"===p.localName))&&(z=this.newBlankNode())),!cs||oo||!this.inXHTMLMode||"head"!==p.localName&&"body"!==p.localName?cs&&!oo&&(B=z):B=M):!Va||io||Fo?(oo&&(M=this.parseSafeCURIEOrCURIEOrURI(oo.value,pe,s)),!M&&Po&&(M=this.parseSafeCURIEOrCURIEOrURI(Po.value,pe,s)),!M&&Ta&&(M=this.resolveAndNormalize(s,encodeURI(Ta.value))),!M&&rl&&(M=this.resolveAndNormalize(s,encodeURI(rl.value))),M||(p.parentNode.nodeType===Yc.DOCUMENT_NODE?M=o(p.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!==p.localName&&"body"!==p.localName?cs?M=this.newBlankNode():v.parentObject&&(M=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject,Va||(b=!0)):M=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject),cs&&(B=M)):(oo&&(M=this.parseSafeCURIEOrCURIEOrURI(oo.value,pe,s),cs&&(B=M)),M||p.parentNode.nodeType!==Yc.DOCUMENT_NODE?!M&&v.parentObject&&(M=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject):(M=o(p.baseURI),cs&&(B=M)),cs&&!B&&(Po&&(B=this.parseSafeCURIEOrCURIEOrURI(Po.value,pe,s)),!B&&Ta&&(B=this.resolveAndNormalize(s,encodeURI(Ta.value))),!B&&rl&&(B=this.resolveAndNormalize(s,encodeURI(rl.value))),!B&&(this.inXHTMLMode||this.inHTMLMode)&&("head"===p.localName||"body"===p.localName)&&(B=M),B||(B=this.newBlankNode()),z=B)),M&&(oo||Po||B)){var jR=M;cs&&!oo&&!Po&&z&&(jR=z),this.newSubjectOrigin(p,jR)}if(B){La=this.tokenize(cs.value);for(var L7=0;L7<La.length;L7++){var UR=this.parseTermOrCURIEOrAbsURI(La[L7],nt,v.terms,pe,s);UR&&this.addTriple(p,B,t.typeURI,{type:t.objectURI,value:UR})}}if(M&&M!==v.parentObject&&(ee={},Ie=!0),z){if(jr&&V7)for(var I3=0;I3<Ea.length;I3++){var A3=ee[Ea[I3]];A3||(ee[Ea[I3]]=A3=[]),A3.push({type:t.objectURI,value:z})}else if(jr)for(var R7=0;R7<Ea.length;R7++)this.addTriple(p,M,Ea[R7],{type:t.objectURI,value:z});if(bi)for(var D7=0;D7<z2.length;D7++)this.addTriple(p,z,z2[D7],{type:t.objectURI,value:M})}else{if(M&&!z&&(jr||bi)&&(z=this.newBlankNode()),jr&&V7)for(var b3=0;b3<Ea.length;b3++){var x3=ee[Ea[b3]];x3||(ee[xu]=x3=[]),we.push({predicate:Ea[b3],list:x3})}else if(jr)for(var B7=0;B7<Ea.length;B7++)we.push({predicate:Ea[B7],forward:!0});if(bi)for(var N7=0;N7<z2.length;N7++)we.push({predicate:z2[N7],forward:!1})}if(Va){var ui=null,ao=null;Fo?(ui=""===Fo.value?t.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(Fo.value,nt,v.terms,pe,s),ao=Ji&&!io?Ji.value:ui===t.XMLLiteralURI||ui===t.HTMLLiteralURI?null:io?io.value:p.textContent):io?(ui=t.PlainLiteralURI,ao=io.value):Ji?(ui=t.deriveDateTimeType(ao=Ji.value))||(ui=t.PlainLiteralURI):!jr&&!bi&&(Po&&(ao=this.parseSafeCURIEOrCURIEOrURI(Po.value,pe,s)),!ao&&Ta?ao=this.resolveAndNormalize(s,encodeURI(Ta.value)):!ao&&rl&&(ao=this.resolveAndNormalize(s,encodeURI(rl.value))),ao&&(ui=t.objectURI)),ui||(cs&&!oo?(ui=t.objectURI,ao=B):(ao=p.textContent,this.inHTMLMode&&"time"===p.localName&&(ui=t.deriveDateTimeType(ao)),ui||(ui=t.PlainLiteralURI))),La=this.tokenize(Va.value);for(var F7=0;F7<La.length;F7++){var zp=this.parsePredicate(La[F7],nt,v.terms,pe,s);if(zp)if(V7){var S3=ee[zp];S3||(ee[zp]=S3=[]),S3.push(ui===t.XMLLiteralURI||ui===t.HTMLLiteralURI?{type:ui,value:p.childNodes}:{type:ui||t.PlainLiteralURI,value:ao,language:De})}else this.addTriple(p,M,zp,ui===t.XMLLiteralURI||ui===t.HTMLLiteralURI?{type:ui,value:p.childNodes}:{type:ui||t.PlainLiteralURI,value:ao,language:De})}}if(M&&!b)for(var Su=0;Su<v.incomplete.length;Su++)v.incomplete[Su].list?v.incomplete[Su].list.push({type:t.objectURI,value:M}):v.incomplete[Su].forward?this.addTriple(p,v.subject,v.incomplete[Su].predicate,{type:t.objectURI,value:M}):this.addTriple(p,M,v.incomplete[Su].predicate,{type:t.objectURI,value:v.subject});var ko=null,$R=M;b?((ko=this.push(v,v.subject)).parentObject=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject,ko.incomplete=v.incomplete,ko.language=De,ko.prefixes=pe,ko.vocabulary=nt):((ko=this.push(v,M)).parentObject=z||M||v.subject,ko.prefixes=pe,ko.incomplete=we,z&&($R=z,ee={},Ie=!0),ko.listMapping=ee,ko.language=De,ko.vocabulary=nt),Ie&&i.unshift({parent:p,context:v,subject:$R,listMapping:ee});for(var Vp=p.lastChild;Vp;Vp=Vp.previousSibling)Vp.nodeType===Yc.ELEMENT_NODE&&i.unshift({current:Vp,context:ko})}}this.inHTMLMode&&this.copyProperties();for(var P7=0;P7<this.finishedHandlers.length;P7++)this.finishedHandlers[P7](e)}},{key:"push",value:function(e,r){return{parent:e,subject:r||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(e,r){return Aa(r,e)}},{key:"setContext",value:function(e){"html"===e.localName&&"XHTML+RDFa 1.1"===e.getAttribute("version")?this.setXHTMLContext():"html"===e.localName||"http://www.w3.org/1999/xhtml"===e.namespaceURI?typeof document<"u"&&document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"===document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"===document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"toRDFNodeObject",value:function(e){var r=this;if(!(typeof e>"u")){if("string"==typeof e)return"_:"===e.substring(0,2)?(typeof this.blankNodes[e.substring(2)]>"u"&&(this.blankNodes[e.substring(2)]=new Xa(e.substring(2))),this.blankNodes[e.substring(2)]):Ya.namedNode(e);switch(e.type){case t.objectURI:return"_:"===e.value.substring(0,2)?(typeof this.blankNodes[e.value.substring(2)]>"u"&&(this.blankNodes[e.value.substring(2)]=new Xa(e.value.substring(2))),this.blankNodes[e.value.substring(2)]):Ya.namedNode(e.value);case t.PlainLiteralURI:return new ta(e.value,e.language||"");case t.XMLLiteralURI:case t.HTMLLiteralURI:var s="";return Object.keys(e.value).forEach(function(i){s+=Ka.jI(e.value[i],r.htmlOptions)}),new ta(s,"",new to.A(e.type));default:return new ta(e.value,"",new to.A(e.type))}}}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(e,r,s){var i=new t(r,{base:s});e.baseURI||(e.baseURI=s),i.process(e,{baseURI:s})}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}])}();xa.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",xa.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",xa.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",xa.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",xa.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",xa.nameChar="[-A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\u10000-\uefffF.0-9\xb7\u0300-\u036f\u203f-\u2040]",xa.nameStartChar="[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u0131\u0134-\u013e\u0141-\u0148\u014a-\u017e\u0180-\u01c3\u01cd-\u01f0\u01f4-\u01f5\u01fa-\u0217\u0250-\u02a8\u02bb-\u02c1\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03d6\u03da\u03dc\u03de\u03e0\u03e2-\u03f3\u0401-\u040c\u040e-\u044f\u0451-\u045c\u045e-\u0481\u0490-\u04c4\u04c7-\u04c8\u04cb-\u04cc\u04d0-\u04eb\u04ee-\u04f5\u04f8-\u04f9\u0531-\u0556\u0559\u0561-\u0586\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0641-\u064a\u0671-\u06b7\u06ba-\u06be\u06c0-\u06ce\u06d0-\u06d3\u06d5\u06e5-\u06e6\u0905-\u0939\u093d\u0958-\u0961\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8b\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ae0\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b36-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb5\u0bb7-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0e01-\u0e2e\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eae\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0f40-\u0f47\u0f49-\u0f69\u10a0-\u10c5\u10d0-\u10f6\u1100\u1102-\u1103\u1105-\u1107\u1109\u110b-\u110c\u110e-\u1112\u113c\u113e\u1140\u114c\u114e\u1150\u1154-\u1155\u1159\u115f-\u1161\u1163\u1165\u1167\u1169\u116d-\u116e\u1172-\u1173\u1175\u119e\u11a8\u11ab\u11ae-\u11af\u11b7-\u11b8\u11ba\u11bc-\u11c2\u11eb\u11f0\u11f9\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2126\u212a-\u212b\u212e\u2180-\u2182\u3041-\u3094\u30a1-\u30fa\u3105-\u312c\uac00-\ud7a3\u4e00-\u9fa5\u3007\u3021-\u3029_]",xa.NCNAME=new RegExp("^"+xa.nameStartChar+xa.nameChar+"*$"),xa.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];var C5=xa.parseRDFaDOM,y5=function(){function t(n){(0,Ks.A)(this,t),this.store=n,this.bnodes={},this.why=null,this.reify=!1}return(0,Js.A)(t,[{key:"frameFactory",value:function(e,r,s){return{NODE:1,ARC:2,parent:r,parser:e,store:e.store,element:s,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(o,a){a=Aa(a,this.base),this.node=this.store.sym(a),this.nodeType=o},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var o=this.store.sym(Aa("#"+this.parent.rdfid,this.base));this.store.add(o,this.store.sym(t.ns.RDF+"type"),this.store.sym(t.ns.RDF+"Statement"),this.parser.why),this.store.add(o,this.store.sym(t.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(o,this.store.sym(t.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(o,this.store.sym(t.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(o){this.addSymbol(this.NODE,o),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(o){this.node=null!=o?null!=this.parser.bnodes[o]?this.parser.bnodes[o]:this.parser.bnodes[o]=this.store.bnode():this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(o){o===t.ns.RDF+"li"&&(o=t.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,o)},addLiteral:function(o){this.node=this.store.literal(o,this.parent.datatype&&this.parent.datatype!==t.ns.RDF+"langString"?this.store.sym(this.parent.datatype):this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}}},{key:"getAttributeNodeNS",value:function(e,r,s){var i=null;if(e.getAttributeNodeNS)i=e.getAttributeNodeNS(r,s);else for(var a,o=e.attributes,c=0;c<o.length;++c)if((a=o[c]).namespaceURI===r&&(a.prefix?a.prefix+":"+s:s)===a.nodeName){i=a;break}return i}},{key:"parse",value:function(e,r,s){var o,i=e.childNodes;if(this.cleanParser(),e.nodeType===t.nodeType.DOCUMENT){for(var a=0;a<i.length;a++)if(i[a].nodeType===t.nodeType.ELEMENT){o=i[a];break}}else{if(e.nodeType!==t.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+r+". Halting. ");o=e}this.why=s;var l=this.frameFactory(this);return this.base=r,l.base=r,l.lang=null,this.parseDOM(this.buildFrame(l,o)),!0}},{key:"parseDOM",value:function(e){for(var r,s=function(we){var ee="";if(null==we.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+we.localName+" in "+this.base);return we.namespaceURI&&(ee+=we.namespaceURI),we.localName?ee+=we.localName:we.nodeName&&(we.nodeName.indexOf(":")>=0?ee+=we.nodeName.split(":")[1]:ee+=we.nodeName),ee}.bind(this),i=!0;e.parent;){var o=e.element,a=o.attributes;if(o.nodeType===t.nodeType.TEXT||o.nodeType===t.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(t.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(o.nodeValue);else if(s(o)!==t.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),(e=this.buildFrame(e,e.element)).parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!==e.ARC){e.addArc(s(o)),this.reify&&(r=this.getAttributeNodeNS(o,t.ns.RDF,"ID"))&&(e.rdfid=r.nodeValue,o.removeAttributeNode(r));var d=this.getAttributeNodeNS(o,t.ns.RDF,"parseType"),p=this.getAttributeNodeNS(o,t.ns.RDF,"datatype");if(p&&(e.datatype=p.nodeValue,o.removeAttributeNode(p)),d){var v=d.nodeValue;"Literal"===v?(e.datatype=t.ns.RDF+"XMLLiteral",(e=this.buildFrame(e)).addLiteral(o.innerHTML||o.childNodes),i=!1):"Resource"===v?((e=this.buildFrame(e,e.element)).parent.element=null,e.addBNode()):"Collection"===v&&((e=this.buildFrame(e,e.element)).parent.element=null,e.addCollection()),o.removeAttributeNode(d)}if(0!==a.length){var b=this.getAttributeNodeNS(o,t.ns.RDF,"resource"),M=this.getAttributeNodeNS(o,t.ns.RDF,"nodeID");e=this.buildFrame(e),b?(e.addNode(b.nodeValue),o.removeAttributeNode(b)):M?(e.addBNode(M.nodeValue),o.removeAttributeNode(M)):e.addBNode();for(var z=a.length-1;z>=0;z--){var B=this.buildFrame(e);B.addArc(s(a[z])),s(a[z])===t.ns.RDF+"type"?this.buildFrame(B).addNode(a[z].nodeValue):this.buildFrame(B).addLiteral(a[z].nodeValue)}}else 0===o.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var l=this.getAttributeNodeNS(o,t.ns.RDF,"about");if(r=this.getAttributeNodeNS(o,t.ns.RDF,"ID"),l&&r)throw new Error("RDFParser: "+o.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!l&&r)e.addNode("#"+r.nodeValue),o.removeAttributeNode(r);else if(null==l&&null==r){var c=this.getAttributeNodeNS(o,t.ns.RDF,"nodeID");c?(e.addBNode(c.nodeValue),o.removeAttributeNode(c)):e.addBNode()}else e.addNode(l.nodeValue),o.removeAttributeNode(l);var u=this.getAttributeNodeNS(o,t.ns.RDF,"type");t.ns.RDF+"Description"!==s(o)&&(u={nodeValue:s(o)}),null!=u&&(this.store.add(e.node,this.store.sym(t.ns.RDF+"type"),this.store.sym(Aa(u.nodeValue,e.base)),this.why),u.nodeName&&o.removeAttributeNode(u));for(var h=a.length-1;h>=0;h--)this.store.add(e.node,this.store.sym(s(a[h])),this.store.literal(a[h].nodeValue,e.lang),this.why)}for(o=e.element;e.parent;){for(var pe=e;null==o;)o=(e=e.parent).element;var fe=o.childNodes&&o.childNodes[e.lastChild];if(fe&&i){if((fe.nodeType===t.nodeType.ELEMENT||fe.nodeType===t.nodeType.TEXT||fe.nodeType===t.nodeType.CDATA_SECTION)&&(fe.nodeType!==t.nodeType.TEXT&&fe.nodeType!==t.nodeType.CDATA_SECTION||1===o.childNodes.length)){e.lastChild++,e=this.buildFrame(pe,o.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;o=e.element,i=!0}}}}},{key:"cleanParser",value:function(){this.bnodes={},this.why=null}},{key:"buildFrame",value:function(e,r){var s=this.frameFactory(this,e,r);if(e&&(s.base=e.base,s.lang=e.lang),!r||r.nodeType===t.nodeType.TEXT||r.nodeType===t.nodeType.CDATA_SECTION)return s;var i=r.attributes,o=r.getAttributeNode("xml:base");null!=o&&(s.base=o.nodeValue,r.removeAttribute("xml:base"));var a=r.getAttributeNode("xml:lang");null!=a&&(s.lang=a.nodeValue,r.removeAttribute("xml:lang"));for(var l=i.length-1;l>=0;l--)if("xml"===i[l].nodeName.substr(0,3)){if("xmlns:"===i[l].name.slice(0,6)){var c=i[l].nodeValue;this.base&&(c=Aa(c,this.base)),this.store.setPrefixForURI(i[l].name.slice(6),c)}r.removeAttributeNode(i[l])}return s}}])}();function I5(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text/turtle",s=arguments.length>4?arguments[4]:void 0;r=(r=r||An.sT).split(";")[0];try{if(r===An.ny||r===An.sT)M8(n,n,e,e,null,null,"",null).loadBuf(t),l();else if(r===An.JG)new y5(n).parse(Ka.h4(t),e,n.sym(e)),l();else if(r===An.H)C5(Ka.h4(t,{contentType:An.H}),n,e),l();else if(r===An.lc)C5(Ka.h4(t,{contentType:An.lc}),n,e),l();else if(r===An.K9||r===An.Fn)(function Iq(t,n,e){var r,s,i,o=["INSERT","DELETE","WHERE"],a=xs("http://www.w3.org/ns/pim/patch#"),l=M8(n,n,e,e,null,null,"",null),c={},u=function(M,z,B,pe,fe){return"Line "+(z+1)+" of <"+M+">: Bad syntax:\n   "+fe+'\n   at: "'+B.slice(pe,pe+30)+'"'};r=0;var h=n.sym(e+"#query");for(c.query=h;;){if((s=l.skipSpace(t,r))<0)return c;if(";"===t[s]){if((r=l.skipSpace(t,s+1))<0)return c;s=r}var d=!1;for(i=0;i<o.length;i++){var p=o[i];if(t.slice(s,s+p.length)===p){if((r=l.skipSpace(t,s+p.length))<0)throw u(l._thisDoc,l.lines,t,s+p.length,"found EOF, needed {...} after "+p);if(("INSERT"===p||"DELETE"===p)&&"DATA"===t.slice(r,r+4)){if((s=l.skipSpace(t,r+4))<0)throw u(l._thisDoc,l.lines,t,r+4,"needed {...} after INSERT DATA "+p);r=s}var v=[];if((s=l.node(t,r,v))<0)throw u(l._thisDoc,l.lines,t,r,"bad syntax or EOF in {...} after "+p);c[p.toLowerCase()]=v[0],n.add(h,a(p.toLowerCase()),v[0]),d=!0,r=s}}if(!d&&"@prefix"===t.slice(s,s+7)){if((r=l.directive(t,s))<0)throw u(l._thisDoc,l.lines,t,r,"bad syntax or EOF after @prefix ");r=l.checkDot(t,r),d=!0}if(!d)throw u(l._thisDoc,l.lines,t,s,"Unknown syntax at start of statememt: '"+t.slice(s).slice(0,20)+"'")}})(t,n,e),l();else if(r===An.i2)vV(t,n,e,l);else{if(r!==An._0&&r!==An.BR)throw void 0===r?new Error("contentType is undefined"):new Error("Don't know how to parse "+r+" yet");var a=new zV({factory:H8});!function u(d,p){d&&s(d,n);try{a.parse(p,h)}catch(v){s(v,n)}}(null,t)}}catch(d){!function c(d){if(r!==An.i2||r!==An._0||r!==An.BR){if(!s){var p=new Error(d+" while trying to parse <"+e+"> as "+r);throw p.cause=d,p}s(d,n)}}(d)}function l(){s&&s(null,n)}function h(d,p){p?n.add(p.subject,p.predicate,p.object,p.graph):s(d,n)}I5.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/sparql-update-single-match":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0}}(0,Vt.A)(y5,"ns",{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"}),(0,Vt.A)(y5,"nodeType",{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12});var A5=K(8868),Aq=K.n(A5),Q0=K(79);function TV(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function pu(t,n,e){return n=(0,no.A)(n),(0,$c.A)(t,EV()?Reflect.construct(n,e||[],(0,no.A)(t).constructor):n.apply(t,e))}function EV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EV=function(){return!!t})()}var Sq={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},LV={rdf:An.JG,owl:An.JG,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},RV=function(n){return{link:xs("http://www.w3.org/2007/ont/link#",n),http:xs("http://www.w3.org/2007/ont/http#",n),httph:xs("http://www.w3.org/2007/ont/httph#",n),rdf:xs("http://www.w3.org/1999/02/22-rdf-syntax-ns#",n),rdfs:xs("http://www.w3.org/2000/01/rdf-schema#",n),dc:xs("http://purl.org/dc/elements/1.1/",n),ldp:xs("http://www.w3.org/ns/ldp#",n)}},Tl=RV(),Kc=(0,Js.A)(function t(n,e){(0,Ks.A)(this,t),(0,Vt.A)(this,"response",void 0),(0,Vt.A)(this,"dom",void 0),this.response=n,this.dom=e});(0,Vt.A)(Kc,"pattern",void 0);var R8=function(t){function n(){return(0,Ks.A)(this,n),pu(this,n,arguments)}return(0,Bo.A)(n,t),(0,Js.A)(n,[{key:"parse",value:function(r,s,i){var o=r.store;if(this.dom||(this.dom=Ka.h4(s)),"parsererror"===this.dom.documentElement.nodeName)return r.failFetch(i,"Badly formed XML in "+i.resource.value,"parse_error");var l=new y5(o);try{l.parse(this.dom,i.original.value,i.original)}catch(c){return r.failFetch(i,"Syntax error parsing RDF/XML! "+c,"parse_error")}return i.noMeta||o.add(i.original,Tl.rdf("type"),Tl.link("RDFDocument"),r.appNode),r.doneFetch(i,this.response)}}],[{key:"toString",value:function(){return"RDFXMLHandler"}},{key:"register",value:function(r){r.mediatypes[An.JG]={q:.9}}}])}(Kc);R8.pattern=new RegExp("application/rdf\\+xml");var fu=function(t){function n(){return(0,Ks.A)(this,n),pu(this,n,arguments)}return(0,Bo.A)(n,t),(0,Js.A)(n,[{key:"parse",value:function(r,s,i){var o,a;this.dom||(this.dom=Ka.h4(s));var l=r.store,c=this.dom.getElementsByTagName("title");c.length>0&&l.add(i.resource,Tl.dc("title"),l.rdfFactory.literal(c[0].textContent),i.resource);for(var u=this.dom.getElementsByTagName("link"),h=u.length-1;h>=0;h--)a=!1,(o=u[h].getAttribute("rel"))||(o=u[h].getAttribute("rev"),a=!0),o&&r.linkData(i.original,o,u[h].getAttribute("href"),i.resource,a);for(var d=this.dom.getElementsByTagName("script"),p=0;p<d.length;p++){var v=d[p].getAttribute("type");Sq[v]&&(I5(d[p].textContent,l,i.original.value,v),I5(d[p].textContent,l,i.original.value,v))}if(i.noMeta||l.add(i.resource,Tl.rdf("type"),Tl.link("WebPage"),r.appNode),!i.noRDFa&&C5)try{C5(this.dom,l,i.original.value)}catch(M){return r.failFetch(i,"Error trying to parse "+i.resource+" as RDFa:\n"+M+":\n"+M.stack,"parse_error")}return r.doneFetch(i,this.response)}}],[{key:"toString",value:function(){return"XHTMLHandler"}},{key:"register",value:function(r){r.mediatypes[An.H]={}}}])}(Kc);fu.pattern=new RegExp("application/xhtml");var b5=function(t){function n(){return(0,Ks.A)(this,n),pu(this,n,arguments)}return(0,Bo.A)(n,t),(0,Js.A)(n,[{key:"parse",value:function(r,s,i){for(var o=Ka.h4(s),a=0;a<o.childNodes.length;a++){var l=o.childNodes[a];if(n.isElement(l)){var c=l.namespaceURI;if(c&&c===c.rdf)return r.addStatus(i.req,"Has XML root element in the RDF namespace, so assume RDF/XML."),new R8(this.response,o).parse(r,s,i);break}}if(o.doctype&&"html"===o.doctype.name&&o.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&o.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/))return r.addStatus(i.req,"Has XHTML DOCTYPE. Switching to XHTML Handler.\n"),new fu(this.response,o).parse(r,s,i);var d=o.getElementsByTagName("html")[0];if(d){var p=d.getAttribute("xmlns");if(p&&p.match(/^http:\/\/www.w3.org\/1999\/xhtml/))return r.addStatus(i.req,"Has a default namespace for XHTML. Switching to XHTMLHandler.\n"),new fu(this.response,o).parse(r,s,i)}return r.failFetch(i,"Unsupported dialect of XML: not RDF or XHTML namespace, etc.\n"+s.slice(0,80),901)}}],[{key:"toString",value:function(){return"XMLHandler"}},{key:"register",value:function(r){r.mediatypes["text/xml"]={q:.5},r.mediatypes["application/xml"]={q:.5}}},{key:"isElement",value:function(r){return r.nodeType===Node.ELEMENT_NODE}}])}(Kc);b5.pattern=new RegExp("(text|application)/(.*)xml");var DV=function(t){function n(){return(0,Ks.A)(this,n),pu(this,n,arguments)}return(0,Bo.A)(n,t),(0,Js.A)(n,[{key:"parse",value:function(r,s,i){var o=r.store;if(PV(s))return r.addStatus(i.req,"Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.\n"),new fu(this.response).parse(r,s,i);if(function _q(t){var n=t.indexOf("<!DOCTYPE html"),e=t.indexOf(">");return!(-1===n||-1===e||n>e)&&-1!==t.substr(n,e-n).indexOf("XHTML")}(s))return r.addStatus(i.req,"Has XHTML DOCTYPE. Switching to XHTMLHandler.\n"),new fu(this.response).parse(r,s,i);if(function Mq(t){return!!t.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/)}(s))return r.addStatus(i.req,"Has default namespace for XHTML, so switching to XHTMLHandler.\n"),new fu(this.response).parse(r,s,i);var u=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(s);return u&&o.add(i.resource,Tl.dc("title"),o.rdfFactory.literal(u[1]),i.resource),o.add(i.resource,Tl.rdf("type"),Tl.link("WebPage"),r.appNode),r.addStatus(i.req,"non-XML HTML document, not parsed for data."),r.doneFetch(i,this.response)}}],[{key:"toString",value:function(){return"HTMLHandler"}},{key:"register",value:function(r){r.mediatypes["text/html"]={q:.9}}}])}(Kc);DV.pattern=new RegExp("text/html");var BV=function(t){function n(){return(0,Ks.A)(this,n),pu(this,n,arguments)}return(0,Bo.A)(n,t),(0,Js.A)(n,[{key:"parse",value:function(r,s,i,o){var a=r.store;return new Promise(function(l,c){try{vV(s,a,i.original.value,function(){l(r.doneFetch(i,o))})}catch(h){l(r.failFetch(i,"Error trying to parse "+i.resource+" as JSON-LD:\n"+h,"parse_error",o))}})}}],[{key:"toString",value:function(){return"JsonLdHandler"}},{key:"register",value:function(r){r.mediatypes["application/ld+json"]={q:.9}}}])}(Kc);BV.pattern=/application\/ld\+json/;var NV=function(t){function n(){return(0,Ks.A)(this,n),pu(this,n,arguments)}return(0,Bo.A)(n,t),(0,Js.A)(n,[{key:"parse",value:function(r,s,i){return PV(s)?(r.addStatus(i.req,"Warning: "+i.resource+" has an XML declaration. We'll assume it's XML but its content-type wasn't XML.\n"),new b5(this.response).parse(r,s,i)):s.slice(0,500).match(/xmlns:/)?(r.addStatus(i.req,"May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.\n"),new b5(this.response).parse(r,s,i)):(r.addStatus(i.req,"Plain text document, no known RDF semantics."),r.doneFetch(i,this.response))}}],[{key:"toString",value:function(){return"TextHandler"}},{key:"register",value:function(r){r.mediatypes["text/plain"]={q:.5}}}])}(Kc);NV.pattern=new RegExp("text/plain");var FV=function(t){function n(){return(0,Ks.A)(this,n),pu(this,n,arguments)}return(0,Bo.A)(n,t),(0,Js.A)(n,[{key:"parse",value:function(r,s,i,o){var a=r.store,l=M8(a,a,i.original.value,i.original.value,null,null,"",null);try{l.loadBuf(s)}catch(u){return r.failFetch(i,"Error trying to parse "+i.resource+" as Notation3:\n"+u,"parse_error",o)}return r.addStatus(i.req,"N3 parsed: "+l.statementCount+" triples in "+l.lines+" lines."),r.store.add(i.original,Tl.rdf("type"),Tl.link("RDFDocument"),r.appNode),r.doneFetch(i,this.response)}}],[{key:"toString",value:function(){return"N3Handler"}},{key:"register",value:function(r){r.mediatypes["text/n3"]={q:"1.0"},r.mediatypes["text/turtle"]={q:1}}}])}(Kc);FV.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var D8={RDFXMLHandler:R8,XHTMLHandler:fu,XMLHandler:b5,HTMLHandler:DV,TextHandler:NV,N3Handler:FV,JsonLdHandler:BV};function PV(t){return!!t.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)}var s2=function(){function t(n){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,Ks.A)(this,t),(0,Vt.A)(this,"store",void 0),(0,Vt.A)(this,"timeout",void 0),(0,Vt.A)(this,"_fetch",void 0),(0,Vt.A)(this,"mediatypes",void 0),(0,Vt.A)(this,"appNode",void 0),(0,Vt.A)(this,"requested",void 0),(0,Vt.A)(this,"timeouts",void 0),(0,Vt.A)(this,"redirectedTo",void 0),(0,Vt.A)(this,"fetchQueue",void 0),(0,Vt.A)(this,"fetchCallbacks",void 0),(0,Vt.A)(this,"nonexistent",void 0),(0,Vt.A)(this,"lookedUp",void 0),(0,Vt.A)(this,"handlers",void 0),(0,Vt.A)(this,"ns",void 0),(0,Vt.A)(this,"fireCallbacks",void 0),this.store=n||new U0,this.ns=RV(this.store.rdfFactory),this.timeout=r.timeout||3e4,this._fetch=r.fetch||typeof global<"u"&&(global.solidFetcher||global.solidFetch)||typeof window<"u"&&(window.solidFetcher||window.solidFetch)||Aq(),!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.sym("chrome://TheCurrentSession"),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},Ka.Kw(this,["request","fail","refresh","retract","done"]),Object.keys(r.handlers||D8).map(function(s){return e.addHandler(D8[s])})}return(0,Js.A)(t,[{key:"load",value:function(e){var r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s=Object.assign({},s),e instanceof Array)return Promise.all(e.map(function(M){return r.load(M,Object.assign({},s))}));var o=(0,Q0.E)(e);o=o.split("#")[0],s=this.initFetchOptions(o,s);var h,a=this.appNode,l=this.store,u=function bq(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function xq(t,n){if(t){if("string"==typeof t)return TV(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return TV(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return i=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!i&&null!=e.return&&e.return()}finally{if(o)throw a}}}}(l.statementsMatching(void 0,this.ns.link("requestedURI"),l.sym(o),a).map(function(M){return M.subject}));try{for(u.s();!(h=u.n()).done;){var p=l.any(h.value,this.ns.link("response"),null,a);if(null!=p){var v=l.statementsMatching(p,this.ns.link("outOfDate"),!0,a);l.remove(v),s.force=!0,s.clearPreviousData=!0}}}catch(M){u.e(M)}finally{u.f()}var b=this.initFetchOptions(o,s);return this.pendingFetchPromise(o,b.baseURI,b)}},{key:"pendingFetchPromise",value:(n=(0,qo.A)(f5().mark(function r(s,i,o){var l,a=this;return f5().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.t0=!o.force,!u.t0){u.next=5;break}return u.next=4,this.fetchQueue[i];case 4:u.t0=u.sent;case 5:if(!u.t0){u.next=9;break}l=this.fetchQueue[i],u.next=12;break;case 9:l=Promise.race([this.setRequestTimeout(s,o),this.fetchUri(s,o)]),this.fetchQueue[i]=l,this.cleanupFetchRequest(i,void 0,this.timeout);case 12:return u.abrupt("return",l.then(function(h){return s in a.timeouts&&(a.timeouts[s].forEach(clearTimeout),delete a.timeouts[s]),h}));case 13:case"end":return u.stop()}},r,this)})),function e(r,s,i){return n.apply(this,arguments)})},{key:"cleanupFetchRequest",value:function(e,r,s){var i=this;void 0!==r&&console.warn("_options is deprecated"),this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout(function(){i.isPending(e)||delete i.fetchQueue[e]},s))}},{key:"initFetchOptions",value:function(e,r){var s=this.store;!r.method||"GET"===r.method.toUpperCase()||(r.force=!0),r.resource=s.rdfFactory.namedNode(e),r.baseURI=r.baseURI||e,r.original=s.rdfFactory.namedNode(r.baseURI),r.req=s.bnode(),r.headers=r.headers||new A5.Headers,r.contentType&&(r.headers["content-type"]=r.contentType),r.force&&(r.cache="no-cache");var o=this.acceptString();r.headers.accept=o;var a=t.offlineOverride(e);r.requestedURI=a,t.setCredentials(a,r);var l=t.proxyIfNecessary(a);return a!==l&&(r.proxyUsed=!0),r.actualProxyURI=l,r}},{key:"fetchUri",value:function(e,r){var s=this;if(!e)return Promise.reject(new Error("Cannot fetch an empty uri"));if(t.unsupportedProtocol(e))return this.failFetch(r,"fetcher: Unsupported protocol","unsupported_protocol");var i=this.getState(e);if(r.force)delete this.nonexistent[e];else{if("fetched"===i)return Promise.resolve(this.doneFetch(r,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if("failed"===i&&404===this.requested[e]){var o="Previously failed: "+this.requested[e],a={url:e,status:this.requested[e],statusText:o,responseText:o,headers:new A5.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(r,o,this.requested[e],a)}}this.fireCallbacks("request",[e]),this.requested[e]=!0,r.noMeta||this.saveRequestMetadata(e,r);var l=r.actualProxyURI;return this._fetch(l,r).then(function(c){return s.handleResponse(c,e,r)},function(c){var u={url:l,status:999,statusText:(c.name||"network failure")+": "+(c.errno||c.code||c.type),responseText:c.message,headers:new A5.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return s.handleError(u,e,r)})}},{key:"nowOrWhenFetched",value:function(e,r,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(0,Q0.E)(e);"function"==typeof r?s=r:typeof r>"u"||((0,Bs.Y2)(r)?i.referringTerm=r:i=r),this.load(o,i).then(function(a){if(s)if(a)if(a.ok)s(!0,"OK",a);else{var l="HTTP error: Status "+a.status+" ("+a.statusText+")";a.responseText&&(l+=" "+a.responseText),s(!1,l,a)}else s(!1,"@@ nowOrWhenFetched:  no response object!")},function(a){var l=a.message||a.statusText;l="Failed to load  <"+o+"> "+l,a.response&&a.response.status&&(l+=" status: "+a.response.status),s(!1,l,a.response)})}},{key:"addStatus",value:function(e,r){var s=new Date;r="["+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()+"."+s.getMilliseconds()+"] "+r;var i=this.store,o=i.the(e,this.ns.link("status"));(0,Bs.P3)(o)?o.append(i.rdfFactory.literal(r)):Pi_warn("web.js: No list to add to: "+o+","+r)}},{key:"failFetch",value:function(e,r,s,i){this.addStatus(e.req,r),e.noMeta||this.store.add(e.original,this.ns.link("error"),this.store.rdfFactory.literal(r));var o=(e.method||"GET").toUpperCase();("GET"===o||"HEAD"===o)&&(e.resource.equals(e.original),this.requested[au(e.original.value)]=s,this.fireCallbacks("fail",[e.original.value,r]));var l=new Error("Fetcher: "+r);return l.status=s,l.statusText=r,l.response=i,Promise.reject(l)}},{key:"linkData",value:function(e,r,s,i,o){if(s){var l,a=this.store,c=a.rdfFactory.namedNode(Aa(s,e.value));if("alternate"===r||"seeAlso"===r||"meta"===r||"describedby"===r){if(c.value===e.value)return;l=this.ns.rdfs("seeAlso")}else l=a.rdfFactory.namedNode("type"===r?"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":Aa(encodeURIComponent(r),"http://www.iana.org/assignments/link-relations/"));o?a.add(c,l,e,i):a.add(e,l,c,i)}}},{key:"parseLinkHeader",value:function(e,r,s){if(e){var o=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,a=e.match(/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g);if(null!=a)for(var l=0;l<a.length;l++){var c=a[l].split(">"),u=c[0].substring(1),d=c[1].match(o);if(null==d)return;for(var p=0;p<d.length;p++){var M=d[p].split("=")[1].replace(/["']/g,"");this.linkData(r,M,u,s)}}}}},{key:"doneFetch",value:function(e,r){return this.addStatus(e.req,"Done."),this.requested[e.original.value]="done",this.fireCallbacks("done",[e.original.value]),r.req=e.req,r}},{key:"nowKnownAs",value:function(e,r){this.lookedUp[e.value]?this.lookedUp[r.value]||this.lookUpThing(r,e):this.lookedUp[r.value]&&(this.lookedUp[e.value]||this.lookUpThing(e,r))}},{key:"putBack",value:function(e){var r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,Q0.E)(e),o=new to.A(i).doc();return s.contentType=s["content-type"]||s["Content-Type"]||s.contentType||An.sT,"application/ld+json"===s.contentType?new Promise(function(a,l){d5(o,r.store,o.uri,s.contentType,function(c,u){c?l(c):(s.data=u,r.webOperation("PUT",e,s).then(function(h){return a(h)}).catch(function(h){return l(h)}))})}):(s.data=d5(o,this.store,o.value,s.contentType),this.webOperation("PUT",i,s))}},{key:"webCopy",value:function(e,r,s){var i=this;return this.webOperation("GET",e).then(function(o){return i.webOperation("PUT",r,{data:o.responseText,contentType:s})})}},{key:"delete",value:function(e,r){var s=this;return this.webOperation("DELETE",e,r).then(function(i){return s.requested[e]=404,s.nonexistent[e]=!0,s.unload(s.store.rdfFactory.namedNode(e)),i})}},{key:"createIfNotExists",value:function(){var n=(0,qo.A)(f5().mark(function r(s){var i,o,a,l,c=arguments;return f5().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return i=c.length>1&&void 0!==c[1]?c[1]:An.sT,o=c.length>2&&void 0!==c[2]?c[2]:"",a=this,h.prev=3,h.next=6,a.load(s);case 6:l=h.sent,h.next=26;break;case 9:if(h.prev=9,h.t0=h.catch(3),404!==h.t0.response.status){h.next=25;break}return h.prev=12,h.next=15,a.webOperation("PUT",s.value,{data:o,contentType:i});case 15:l=h.sent,h.next=21;break;case 18:throw h.prev=18,h.t1=h.catch(12),h.t1;case 21:return delete a.requested[s.value],h.abrupt("return",l);case 25:throw h.t0;case 26:return h.abrupt("return",l);case 27:case"end":return h.stop()}},r,this,[[3,9],[12,18]])}));return function e(r){return n.apply(this,arguments)}}()},{key:"createContainer",value:function(e,r,s){var i={"content-type":An.sT,link:this.ns.ldp("BasicContainer")+'; rel="type"'};r&&(i.slug=r);var o={headers:i};return s&&(o.body=s),this.webOperation("POST",e,o)}},{key:"invalidateCache",value:function(e){var r=(0,Q0.E)(e),s=this;if(s.fetchQueue&&s.fetchQueue[r]&&delete s.fetchQueue[r],s.requested[r]&&"done"!==s.requested[r]&&"failed"!==s.requested[r]&&404!==s.requested[r]){var o="Rdflib: fetcher: Destructive operation on <".concat(s.requested[r],"> file being fetched! ")+r;console.error(o)}else delete s.requested[r],delete s.nonexistent[r]}},{key:"webOperation",value:function(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,Q0.E)(r);s.method=e,s.body=s.data||s.body,s.force=!0;var o=this;if(s.body&&!s.contentType)throw new Error("Web operation sending data must have a defined contentType.");return s.contentType&&(s.headers=s.headers||{},s.headers["content-type"]=s.contentType),t.setCredentials(i,s),new Promise(function(a,l){o._fetch(i,s).then(function(c){if(c.ok)("PUT"===e||"PATCH"===e||"POST"===e||"DELETE"===e)&&o.invalidateCache(i),c.text?c.text().then(function(d){c.responseText=d,a(c)}):a(c);else{var u="Web error: "+c.status;c.statusText&&(u+=" ("+c.statusText+")"),u+=" on "+e+" of <"+i+">",c.responseText&&(u+=": "+c.responseText);var h=new Error(u);h.response=c,l(h)}},function(c){l(new Error("Fetch error for "+e+" of <"+i+">:"+c))})})}},{key:"lookUpThing",value:function(e,r){var s=this,i=this.store.uris(e);return(i=i.map(function(o){return au(o)})).forEach(function(o){s.lookedUp[o]=!0}),this.load(i,{referringTerm:r})}},{key:"getHeader",value:function(e,r){for(var s=this.store,i=e.value,o=s.each(void 0,this.ns.link("requestedURI"),s.rdfFactory.literal(i)),a=0;a<o.length;a++){var l=o[a];if(void 0!==l){var c=s.any(l,this.ns.link("response"));if(void 0!==c&&s.anyValue(c,this.ns.http("status"))&&s.anyValue(c,this.ns.http("status")).startsWith("2")){var u=s.each(c,this.ns.httph(r.toLowerCase()));return u.length?u.map(function(h){return h.value}):[]}}}}},{key:"saveRequestMetadata",value:function(e,r){var s=r.req,i=this.store,o=r.referringTerm;this.addStatus(r.req,"Accept: "+r.headers.accept),(0,Bs.Y2)(o)&&i.add(i.rdfFactory.namedNode(e),this.ns.link("requestedBy"),o,this.appNode),r.original&&r.original.value!==e&&i.add(s,this.ns.link("orginalURI"),i.rdfFactory.literal(r.original.value),this.appNode);var a=new Date,l="["+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+"] ";i.add(s,this.ns.rdfs("label"),i.rdfFactory.literal(l+" Request for "+e),this.appNode),i.add(s,this.ns.link("requestedURI"),i.rdfFactory.literal(e),this.appNode),i.add(s,this.ns.link("status"),i.collection(),this.appNode)}},{key:"saveResponseMetadata",value:function(e,r){var s=this,i=this.store,o=i.bnode();return i.add(r.req,this.ns.link("response"),o,this.appNode),i.add(o,this.ns.http("status"),i.rdfFactory.literal(e.status),this.appNode),i.add(o,this.ns.http("statusText"),i.rdfFactory.literal(e.statusText),this.appNode),e.headers.forEach(function(a,l){i.add(o,s.ns.httph(l),s.store.rdfFactory.literal(a),s.appNode),"content-type"===l&&i.add(r.resource,s.ns.rdf("type"),i.rdfFactory.namedNode(Ka.tE(a).value),s.appNode)}),o}},{key:"objectRefresh",value:function(e){var r=this.store.uris(e);if(typeof r<"u")for(var s=0;s<r.length;s++)this.refresh(this.store.rdfFactory.namedNode(au(r[s])))}},{key:"refresh",value:function(e,r){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(e,{force:!0,clearPreviousData:!0},r)}},{key:"refreshIfExpired",value:function(e,r){var s=this.getHeader(e,"Expires");!s||new Date(s[0]).getTime()<=(new Date).getTime()?this.refresh(e,r):r(!0,"Not expired",{})}},{key:"retract",value:function(e){this.store.removeMany(void 0,void 0,void 0,e),e.value&&delete this.requested[au(e.value)],this.fireCallbacks("retract",arguments)}},{key:"getState",value:function(e){return typeof this.requested[e]>"u"?"unrequested":!0===this.requested[e]?"requested":"done"===this.requested[e]?"fetched":"redirected"===this.requested[e]?this.getState(this.redirectedTo[e]):"failed"}},{key:"isPending",value:function(e){return!0===this.requested[e]}},{key:"unload",value:function(e){this.store.removeDocument(e),delete this.requested[e.value]}},{key:"addHandler",value:function(e){this.handlers.push(e),e.register(this)}},{key:"retryNoCredentials",value:function(e,r){r.retriedWithNoCredentials=!0,delete this.requested[e],delete this.fetchQueue[e];var s=Object.assign({},r,{credentials:"omit"});return this.addStatus(r.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(e,s)}},{key:"isCrossSite",value:function(e){if(typeof document>"u"||!document.location)return!1;var r=mJ,s=""+document.location;return(r(s)&&r(e)&&r(s))!==r(e)}},{key:"handleError",value:function(e,r,s){if(this.isCrossSite(r)){if(s.credentials&&"include"===s.credentials&&!s.retriedWithNoCredentials)return this.retryNoCredentials(r,s);var i=t.crossSiteProxy(r);if(i&&!s.proxyUsed)return this.redirectToProxy(i,s)}var o;return e instanceof Error?o="Fetch error: "+e.message:(o=e.statusText,e.responseText&&(o+=" ".concat(e.responseText))),this.failFetch(s,o,e.status||998,e)}},{key:"addType",value:function(e,r,s,i){var o=r;if(i){var a=s.any(o,this.ns.link("requestedURI"));a&&a.value!==i&&s.add(s.rdfFactory.namedNode(i),this.ns.rdf("type"),e,this.appNode)}for(;;){var l=s.any(o,this.ns.link("requestedURI"));if(l&&l.value&&s.add(s.rdfFactory.namedNode(l.value),this.ns.rdf("type"),e,this.appNode),!(o=s.any(void 0,s.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),o)))break;var c=s.any(o,s.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!c)break;var u=s.any(c,s.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!u||"301"!==u&&"302"!==u)break}}},{key:"handleResponse",value:function(e,r,s){var i=this,o=this.store,a=e.headers,l=s.req,c=this.saveResponseMetadata(e,s),u=this.normalizedContentType(s,a)||"",h=a.get("content-location");if(0===e.status)return this.handleError(e,r,s);if(e.status>=400)return 404===e.status&&(this.nonexistent[s.original.value]=!0,this.nonexistent[r]=!0),this.saveErrorResponse(e,c).then(function(){return i.failFetch(s,s.resource+" "+e.statusText,e.status,e)});var d=null,p=null;if(h&&(p=Aa(h,r))!==r&&(d=p),200===e.status){if(this.addType(this.ns.link("Document"),l,o,r),d&&this.addType(this.ns.link("Document"),l,o,d),s.clearPreviousData)for(var v=o.statementsMatching(void 0,void 0,void 0,s.resource).slice(),b=0;b<v.length;b++)o.removeStatement(v[b]);var M=u.includes("image/")||u.includes("application/pdf");u&&M&&(this.addType(o.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),l,o,r),d&&this.addType(o.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),l,o,d))}if(h){if(!s.force&&d&&"done"===this.requested[p])return this.doneFetch(s,e);this.requested[p]=!0}this.parseLinkHeader(a.get("link"),s.original,l);var z=this.handlerForContentType(u,e);return z?e.text().then(function(B){return e.responseText=B,z.parse(i,B,s,e)}):(this.addStatus(l,"Fetch over. No data handled."),this.doneFetch(s,e))}},{key:"saveErrorResponse",value:function(e,r){var s=this,i=this.store;return e.text().then(function(o){o.length>10&&i.add(r,s.ns.http("content"),i.rdfFactory.literal(o),r)})}},{key:"handlerForContentType",value:function(e,r){if(!e)return null;var s=this.handlers.find(function(i){return e.match(i.pattern)});return s?new s(r):null}},{key:"guessContentType",value:function(e){return LV[e.split(".").pop()]}},{key:"normalizedContentType",value:function(e,r){if(e.forceContentType)return e.forceContentType;var s=r.get("content-type");if(!s||s.includes("application/octet-stream")){var i=this.guessContentType(e.resource.value);if(i)return i}var o=$z(e.resource.value);return!s&&["file","chrome"].includes(o)?"text/xml":s}},{key:"redirectToProxy",value:function(e,r){var s=this;this.addStatus(r.req,"BLOCKED -> Cross-site Proxy to <"+e+">"),r.proxyUsed=!0;var i=this.store,o=r.req;r.noMeta||(i.add(o,this.ns.link("redirectedTo"),i.rdfFactory.namedNode(e),o),this.addStatus(o,"redirected to new request")),this.requested[r.resource.value]="redirected",this.redirectedTo[r.resource.value]=e;var a=Object.assign({},r);return a.baseURI=r.resource.value,this.fetchUri(e,a).then(function(l){return a.noMeta||i.add(o,s.ns.link("redirectedRequest"),a.req,s.appNode),l})}},{key:"setRequestTimeout",value:function(e,r){var s=this;return new Promise(function(i){s.timeouts[e]=(s.timeouts[e]||[]).concat(setTimeout(function(){s.isPending(e)&&!r.retriedWithNoCredentials&&!r.proxyUsed&&i(s.failFetch(r,"Request to ".concat(e," timed out"),"timeout"))},s.timeout))})}},{key:"addFetchCallback",value:function(e,r){this.fetchCallbacks[e]?this.fetchCallbacks[e].push(r):this.fetchCallbacks[e]=[r]}},{key:"acceptString",value:function(){var e="";for(var r in this.mediatypes)for(var s in""!==e&&(e+=", "),e+=r,this.mediatypes[r])e+=";"+s+"="+this.mediatypes[r][s];return e}}],[{key:"crossSiteProxy",value:function(e){if(t.crossSiteProxyTemplate)return t.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e))}},{key:"offlineOverride",value:function(e){var s,r=e;return typeof window<"u"&&window.panes&&(s=window.panes.UI)&&s.preferences&&s.preferences.get("offlineModeUsingLocalhost")&&"http://"===r.slice(0,7)&&"localhost/"!==r.slice(7,17)&&(r="http://localhost/"+r.slice(7),Pi_warn("Localhost kludge for offline use: actually getting <"+r+">")),r}},{key:"proxyIfNecessary",value:function(e){var r;if(typeof window<"u"&&window.panes&&(r=window.panes.UI)&&r.isExtension)return e;if(typeof $SolidTestEnvironment<"u"&&$SolidTestEnvironment.localSiteMap){var o=function a(l,c){var u=c[l.shift()];return u?"string"==typeof u?u+l.join("/"):l?a(l,u):null:null}(e.split("/").slice(2),$SolidTestEnvironment.localSiteMap);if(o)return o}return t.crossSiteProxyTemplate&&typeof document<"u"&&document.location&&"https:"===(""+document.location).slice(0,6)&&"http:"===e.slice(0,5)?t.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):e}},{key:"unsupportedProtocol",value:function(e){var r=$z(e);return"tel"===r||"mailto"===r||"urn"===r}},{key:"setCredentials",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===r.credentials&&(r.credentials=void 0!==r.withCredentials?r.withCredentials?"include":"omit":"include")}}]);var n}();function kV(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,r)}return e}function OV(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?kV(Object(e),!0).forEach(function(r){(0,Vt.A)(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):kV(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}(0,Vt.A)(s2,"HANDLERS",void 0),(0,Vt.A)(s2,"CONTENT_TYPE_BY_EXT",void 0),(0,Vt.A)(s2,"crossSiteProxyTemplate",void 0),s2.HANDLERS=D8,s2.CONTENT_TYPE_BY_EXT=LV;const x5=OV(OV({},H8),{},{fetcher:function(n,e){return new s2(n,e)},graph:function(){return new U0(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)||{rdfFactory:H8})},lit:function(n,e,r){return this.literal(""+n,e||r)},st:function(n,e,r,s){return this.quad(n,e,r,s)}});var Sa={};for(var B8 in x5)"function"==typeof x5[B8]&&(Sa[B8]=x5[B8].bind(x5));var WV=Sa.graph,N8=Sa.lit,ep=Sa.namedNode;new tV;const tp="http://geonetwork-ui/";function Jc(t,n,e,r,s,i,o){function a(p){return p.language.toLowerCase().substring(0,2)}const l=t.each(n,e,r).filter(p=>p instanceof ta);if(!l.length)return[null,i];const c=l.find(p=>a(p)===o),u=l.find(p=>!p.language),h=c?.value??u?.value??"(value not found)",d=i??{};for(const p of l){const v=a(p);v===o||!v||(d[s]={...d[s],[v]:p.value})}return[h,d]}function ZV(t,n,e,r,s,i){if(t.removeStatements(t.statementsMatching(n,e,null)),t.add(n,e,N8(r,i)),s)for(const o in s)t.add(n,e,N8(s[o],o))}function jV(t,n,e,r=tp){return new Promise(s=>I5(n,t,r,e,s))}function S5(t,n=window.location.toString()){try{return new URL(t,n)}catch{return null}}function _a(t,n){return t.the(n,G0("primaryTopic"),null)||t.the(null,Io("type"),Cr("Dataset"))}function Lq(t,n){return t.the(n,Ds("identifier"),null)?.value}function Rq(t,n,e,r){const s=_a(t,n),[i]=Jc(t,s,Ds("title"),null,"title",e,r);return i}function Dq(t,n,e,r){const s=_a(t,n),[i]=Jc(t,s,Ds("description"),null,"abstract",e,r);return i}function UV(t,n){const e=n.object,r=t.the(e,W0("fn"),null)??t.the(e,W0("title"),null)??t.the(e,W0("organisation-name"),null);let s,i;if(r){const c=j9(r.value);s=c[0],i=c[1]}const o=t.the(e,W0("role"),null),a=t.the(e,W0("hasEmail"),null),l=a?a.value.replace(/^mailto:/,""):"missing@missing.com";return{role:o?.value??"point_of_contact",email:l,...s&&{firstName:s},...i&&{lastName:i}}}function Bq(t,n){return t.statementsMatching(n,Cr("contactPoint"),null).map(r=>UV(t,r))}function Nq(t,n){const e=_a(t,n);return t.statementsMatching(e,Cr("contactPoint"),null).map(s=>UV(t,s))}function Fq(t,n){const e=_a(t,n),r=t.the(e,Cr("landingPage"),null);return null!==r?S5(r.value):void 0}function Wq(t,n,e,r){const s=_a(t,n);return t.statementsMatching(s,Cr("distribution"),null).map(o=>function Gq(t,n,e){if(t.holds(n,Cr("accessService"),null)){const r=t.the(n,Cr("accessService"),null);if(t.the(r,Ds("conformsTo"),null))return function Oq(t,n,e){const r=t.the(n,Cr("accessService"),null),s=t.the(r,Ds("conformsTo"),null),i=t.the(n,Cr("accessURL"),null),o={},[a]=Jc(t,n,Ds("description"),null,"description",o,e),[l]=Jc(t,n,Ds("title"),null,"name",o,e);return{url:S5(i?.value),type:"service",accessServiceProtocol:p9(s?.value),...null!==l&&{name:l},...null!==a&&{description:a},translations:o}}(t,n,e)}return t.holds(n,Cr("downloadURL"),null)?function kq(t,n,e){const r=t.the(n,Cr("downloadURL"),null),s={},[i]=Jc(t,n,Ds("description"),null,"description",s,e),[o]=Jc(t,n,Ds("title"),null,"name",s,e);return{url:S5(r?.value),type:"download",...null!==o&&{name:o},...null!==i&&{description:i},translations:s}}(t,n,e):function Pq(t,n,e){const r=t.the(n,Cr("accessURL"),null),s={},[i]=Jc(t,n,Ds("description"),null,"description",s,e),[o]=Jc(t,n,Ds("title"),null,"name",s,e);return{url:S5(r?.value),type:"link",...null!==o&&{name:o},...null!==i&&{description:i},translations:s}}(t,n,e)}(t,o.object,r))}function Zq(t,n){const e=_a(t,n);return t.statementsMatching(e,Ds("spatial"),null).map(s=>{const i=t.the(s.object,hJ("geometry"),null);return i?{geometry:JSON.parse(i.value)}:{description:s.object.value}}).filter(s=>!!s)}function jq(t,n){const e=_a(t,n);return t.statementsMatching(e,Cr("keyword"),null).map(s=>({label:s.object.value,type:"theme"}))}function Uq(t,n){const e=_a(t,n);return t.statementsMatching(e,Cr("theme"),null).map(s=>t.the(s.object,uJ("prefLabel"),null)?.value??s.object.value)}function $q(t,n){const e=t.the(n,Ds("issued"),null)?.value;return e?new Date(e):null}function Xq(t,n){const e=t.the(n,Ds("modified"),null)?.value;return e?new Date(e):new Date}function Yq(t,n){const e=_a(t,n),r=t.the(e,Ds("issued"),null)?.value;return r?new Date(r):null}function Kq(t,n){const e=_a(t,n),r=t.the(e,Ds("modified"),null)?.value;return r?new Date(r):null}function Jq(t){const n=t.statementsMatching(null,Ds("publisher"),null);if(!n.length)return null;const e=n[0].object,r=t.the(e,G0("name"),null);return{name:r?r.value:e.value}}function qq(t,n){const e=_a(t,n);return t.statementsMatching(e,Cr("distribution"),null).map(s=>t.the(s.object,Ds("license"),null)).filter(s=>!!s).map(s=>function Tq(t){const n=/pddl|public domain dedication and licence/i.test(t),e=/odbl|open database license/i.test(t),r=/odc-by|opendatacommons.org\/licenses\/by/i.test(t),s=/cc-by-sa|creative.*commons.*(by-sa|attribution.*share-alike)/i.test(t),i=/cc-by|cc by|creative.*commons.*(by|attribution)/i.test(t),o=/cc.?0|creative.*commons.*(zero|0)/i.test(t),a=/etalab/i.test(t)&&/v2|2\.0/i.test(t),l=/etalab|open.?licence|licence.?ouverte/i.test(t);if(n)return{text:"Open Data Commons PDDL",url:new URL("https://opendatacommons.org/licenses/pddl/")};if(e)return{text:"Open Data Commons ODbL",url:new URL("https://opendatacommons.org/licenses/odbl/")};if(r)return{text:"Open Data Commons ODC-By",url:new URL("https://opendatacommons.org/licenses/by/")};if(s)return{text:"Creative Commons CC-BY-SA",url:new URL("https://creativecommons.org/licenses/by-sa/4.0/legalcode")};if(i)return{text:"Creative Commons CC-BY",url:new URL("https://creativecommons.org/licenses/by/4.0/legalcode")};if(o)return{text:"Creative Commons CC-0",url:new URL("https://creativecommons.org/publicdomain/zero/1.0/legalcode")};if(a)return{text:"Open Licence v2.0 (Etalab)",url:new URL("https://www.etalab.gouv.fr/wp-content/uploads/2017/04/ETALAB-Licence-Ouverte-v2.0.pdf")};if(l)return{text:"Open Licence (Etalab)",url:new URL("https://www.etalab.gouv.fr/wp-content/uploads/2014/05/Licence_Ouverte.pdf")};const c=/^https?:\/\//.test(t)?new URL(t):void 0;return{text:t,...c&&{url:c}}}(s.value)).filter((s,i,o)=>o.findIndex(a=>a.url?.toString()===s.url?.toString()&&a.text===s.text)===i)}function Qq(t,n){const e=_a(t,n),r=function Eq(t,n){return t.the(null,Cr("record"),n)||t.the(null,Io("type"),Cr("Catalog"))}(t,n);let s=t.statementsMatching(n,Ds("language"),null);if(!s.length&&e&&(s=t.statementsMatching(e,Ds("language"),null)),!s.length&&r&&(s=t.statementsMatching(r,Ds("language"),null)),!s.length)return null;const o=s[0].object.value.split("/").pop().toLowerCase();return t5(o)??o}function $V(t,n,e){let r=n.the(null,Io("type"),Cr("Dataset"));r||(r=ep(`${tp}dataset/${t.uniqueIdentifier}`),n.add(r,Io("type"),Cr("Dataset")),n.add(e,G0("primaryTopic"),r));const s=function eQ(t,n){if(t.holds(null,Io("type"),Cr("Catalog")))return t.the(null,Io("type"),Cr("Catalog"));const r=t.add(ep(`${tp}catalog`),Io("type"),Cr("Catalog")).subject;return t.add(r,Cr("record"),n),r}(n,e);return n.holds(s,Cr("dataset"),r)||n.add(s,Cr("dataset"),r),r}function tQ(t,n,e){!function Vq(t,n,e,r){t.removeStatements(t.statementsMatching(n,e,null)),t.add(n,e,N8(r))}(n,e,Ds("identifier"),t.uniqueIdentifier)}function nQ(t,n,e){ZV(n,$V(t,n,e),Ds("title"),t.title,t.translations?.title,t.defaultLanguage)}function rQ(t,n,e){ZV(n,$V(t,n,e),Ds("description"),t.abstract,t.translations?.abstract,t.defaultLanguage)}function F8(t,n){for(const e in H0)if(n.startsWith(H0[e]))return[e,n.replace(H0[e],"")];for(const e in t.namespaces)if(n.startsWith(t.namespaces[e]))return[e,n.replace(t.namespaces[e],"")];return[null,n]}function XV(t,n){if(n instanceof ta)return new Ci.XmlText(n.value);const e=t.the(n,Io("type"));if(!e)return null;const s=t.statementsMatching(n,null,null).filter(l=>l.predicate.value!==Io("type").value).map(l=>{if(l.object.toString()===l.subject.toString())return null;if(l.predicate.value===G0("primaryTopic").value||l.predicate.value===G0("topic").value||l.predicate.value===Cr("servesDataset").value){const[p,v]=F8(t,l.predicate.value);return new Ci.XmlElement(`${p}:${v}`,{"rdf:resource":l.object.value})}const[c,u]=F8(t,l.predicate.value),h=XV(t,l.object);if(!h)return new Ci.XmlElement(`${c}:${u}`,{"rdf:resource":l.object.value},[]);const d=new Ci.XmlElement(`${c}:${u}`,{},[h]);return l.object instanceof ta&&l.object.language&&(d.attributes["xml:lang"]=l.object.language),d}).filter(l=>!!l),[i,o]=F8(t,e.value);return new Ci.XmlElement(`${i}:${o}`,n instanceof Xa?{}:{"rdf:about":n.value},s)}class _5 extends mH{constructor(n="application/rdf+xml",e=new vH){super(e),this.contentType=n,this.readers={uniqueIdentifier:Lq,title:Rq,abstract:Dq,contacts:Bq,contactsForResource:Nq,landingPage:Fq,onlineResources:Wq,spatialExtents:Zq,keywords:jq,topics:Uq,resourceIdentifiers:()=>{},recordUpdated:Xq,recordCreated:$q,resourceUpdated:Kq,resourceCreated:Yq,ownerOrganization:Jq,licenses:qq,defaultLanguage:Qq,otherLanguages:()=>[],kind:()=>"dataset",recordPublished:()=>{},resourcePublished:()=>{},reuseType:()=>{},legalConstraints:()=>[],securityConstraints:()=>[],otherConstraints:()=>[],status:()=>"completed",updateFrequency:()=>"unknown",overviews:()=>[],lineage:()=>"",temporalExtents:()=>[],spatialRepresentation:()=>{},extras:()=>{},translations:()=>{}},this.writers={uniqueIdentifier:tQ,title:nQ,abstract:rQ,kind:()=>{},ownerOrganization:()=>{},recordUpdated:()=>{},recordCreated:()=>{},recordPublished:()=>{},resourceIdentifiers:()=>{},resourceUpdated:()=>{},resourceCreated:()=>{},resourcePublished:()=>{},reuseType:()=>{},contacts:()=>{},contactsForResource:()=>{},keywords:()=>{},topics:()=>{},licenses:()=>{},legalConstraints:()=>{},securityConstraints:()=>{},otherConstraints:()=>{},status:()=>{},updateFrequency:()=>{},spatialRepresentation:()=>{},overviews:()=>{},lineage:()=>{},onlineResources:()=>{},temporalExtents:()=>{},spatialExtents:()=>{},extras:()=>{},landingPage:()=>{},defaultLanguage:()=>{},otherLanguages:()=>{},translations:()=>{}}}readRecord(n){var e=this;return(0,qo.A)(function*(){const r=WV();yield jV(r,n,e.contentType);const s=r.the(null,null,Cr("CatalogRecord")),i={},o=e.readers.defaultLanguage(r,s,i,null),a=e.readers.uniqueIdentifier(r,s,i,o),l=e.readers.kind(r,s,i,o),c=e.readers.ownerOrganization(r,s,i,o),u=e.readers.title(r,s,i,o),h=e.readers.abstract(r,s,i,o),d=e.readers.contacts(r,s,i,o),p=e.readers.contactsForResource(r,s,i,o),v=e.readers.recordUpdated(r,s,i,o),b=e.readers.recordCreated(r,s,i,o),M=e.readers.recordPublished(r,s,i,o),z=e.readers.resourceCreated(r,s,i,o),B=e.readers.resourceUpdated(r,s,i,o),pe=e.readers.resourcePublished(r,s,i,o),fe=e.readers.keywords(r,s,i,o),we=e.readers.topics(r,s,i,o),ee=e.readers.legalConstraints(r,s,i,o),Ie=e.readers.otherConstraints(r,s,i,o),De=e.readers.securityConstraints(r,s,i,o),nt=e.readers.licenses(r,s,i,o),rt=e.readers.overviews(r,s,i,o),ft=e.readers.landingPage(r,s,i,o),tt=e.readers.otherLanguages(r,s,i,o);if("dataset"===l){const gt=e.readers.status(r,s,i,o),Ht=e.readers.spatialRepresentation(r,s,i,o),Lt=e.readers.spatialExtents(r,s,i,o),St=e.readers.temporalExtents(r,s,i,o);return{uniqueIdentifier:a,kind:l,defaultLanguage:o,otherLanguages:tt,...b&&{recordCreated:b},...M&&{recordPublished:M},recordUpdated:v,...z&&{resourceCreated:z},...B&&{resourceUpdated:B},...pe&&{resourcePublished:pe},status:gt,title:u,abstract:h,ownerOrganization:c,contacts:d,contactsForResource:p,keywords:fe,topics:we,licenses:nt,legalConstraints:ee,securityConstraints:De,otherConstraints:Ie,lineage:e.readers.lineage(r,s,i,o),...Ht&&{spatialRepresentation:Ht},overviews:rt,spatialExtents:Lt,temporalExtents:St,onlineResources:e.readers.onlineResources(r,s,i,o),updateFrequency:e.readers.updateFrequency(r,s,i,o),...ft&&{landingPage:ft},translations:i}}return{uniqueIdentifier:a,kind:l,defaultLanguage:o,otherLanguages:tt,...b&&{recordCreated:b},...M&&{recordPublished:M},recordUpdated:v,...z&&{resourceCreated:z},...B&&{resourceUpdated:B},...pe&&{resourcePublished:pe},title:u,abstract:h,ownerOrganization:c,contacts:d,contactsForResource:p,keywords:fe,topics:we,licenses:nt,legalConstraints:ee,securityConstraints:De,otherConstraints:Ie,overviews:rt,onlineResources:e.readers.onlineResources(r,s,i,o),...ft&&{landingPage:ft},translations:i}})()}writeRecord(n,e){var r=this;return(0,qo.A)(function*(){const s=WV();let i;if(e){const a=yield r.readRecord(e);let l;yield jV(s,e,r.contentType,Cr("CatalogRecord").value),i=c=>null===a||!R4(n[c],a[c])||l&&wH(c),l=i("otherLanguages")}else i=()=>!0;let o=s.the(null,Io("type"),Cr("CatalogRecord"));return o||(o=s.add(ep(`${tp}record/${n.uniqueIdentifier}`),Io("type"),Cr("CatalogRecord")).subject),i("uniqueIdentifier")&&r.writers.uniqueIdentifier(n,s,o),i("kind")&&r.writers.kind(n,s,o),i("defaultLanguage")&&r.writers.defaultLanguage(n,s,o),i("contacts")&&r.writers.contacts(n,s,o),i("ownerOrganization")&&r.writers.ownerOrganization(n,s,o),i("recordUpdated")&&r.writers.recordUpdated(n,s,o),i("recordCreated")&&r.writers.recordCreated(n,s,o),i("recordPublished")&&r.writers.recordPublished(n,s,o),i("title")&&r.writers.title(n,s,o),i("abstract")&&r.writers.abstract(n,s,o),i("resourceCreated")&&r.writers.resourceCreated(n,s,o),i("resourcePublished")&&r.writers.resourcePublished(n,s,o),i("resourceUpdated")&&r.writers.resourceUpdated(n,s,o),i("contactsForResource")&&r.writers.contactsForResource(n,s,o),i("keywords")&&r.writers.keywords(n,s,o),i("topics")&&r.writers.topics(n,s,o),i("legalConstraints")&&r.writers.legalConstraints(n,s,o),i("securityConstraints")&&r.writers.securityConstraints(n,s,o),i("licenses")&&r.writers.licenses(n,s,o),i("otherConstraints")&&r.writers.otherConstraints(n,s,o),i("onlineResources")&&r.writers.onlineResources(n,s,o),"dataset"===n.kind&&(i("status")&&r.writers.status(n,s,o),i("updateFrequency")&&r.writers.updateFrequency(n,s,o),i("spatialRepresentation")&&r.writers.spatialRepresentation(n,s,o),i("overviews")&&r.writers.overviews(n,s,o),i("temporalExtents")&&r.writers.temporalExtents(n,s,o),i("lineage")&&r.writers.lineage(n,s,o)),i("otherLanguages")&&r.writers.otherLanguages(n,s,o),r.contentType.includes("xml")?function sQ(t){let n=t.statementsMatching(null,Io("type"),Cr("Catalog"))[0]?.subject;if(!n){const r=t.the(null,Io("type"),Cr("CatalogRecord")),s=t.the(null,Io("type"),Cr("Dataset"));n=t.add(ep(`${tp}catalog`),Io("type"),Cr("Catalog")).subject,t.add(n,Cr("record"),r),t.add(n,Cr("dataset"),s)}const e=new Ci.XmlElement("rdf:RDF",{},[XV(t,n)]);for(const r in t.namespaces)e.attributes[`xmlns:${r}`]=t.namespaces[r];return M0(h9(e))}(s):s.serialize(void 0,r.contentType,null,{})})()}}function YV(t){if(t.indexOf("mdb:MD_Metadata")>0)return new g8;if(t.indexOf("gmd:MD_Metadata")>0)return new o8;if(/@prefix\s*[a-z]+\s*:\s*<http:\/\/www\.w3\.org\/ns\/dcat#>\s*\./.test(t))return new _5("text/turtle");if(/xmlns:[a-z]+="http:\/\/www\.w3\.org\/ns\/dcat#"/.test(t))return new _5("application/rdf+xml");if(/"[a-zA-Z]+"\s*:\s*"http:\/\/www\.w3\.org\/ns\/dcat#/.test(t))return new _5("application/ld+json");throw new Error(`No suitable converter found for the following document:\n${t.substring(0,400)}...`)}function P8(t){return t[t.length-1]}function KV(t){return function iQ(t){return t&&cn(t.schedule)}(P8(t))?t.pop():void 0}function qc(t){return this instanceof qc?(this.v=t,this):new qc(t)}function eT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function W8(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(o){return new Promise(function(a,l){!function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}(a,l,(o=t[i](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const tT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function nT(t){return cn(t?.then)}function rT(t){return cn(t[st])}function sT(t){return Symbol.asyncIterator&&cn(t?.[Symbol.asyncIterator])}function iT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const oT=function LQ(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function aT(t){return cn(t?.[oT])}function lT(t){return function QV(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,r=e.apply(t,n||[]),i=[];return s=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(p){return function(v){return Promise.resolve(v).then(p,h)}}),s[Symbol.asyncIterator]=function(){return this},s;function a(p,v){r[p]&&(s[p]=function(b){return new Promise(function(M,z){i.push([p,b,M,z])>1||l(p,b)})},v&&(s[p]=v(s[p])))}function l(p,v){try{!function c(p){p.value instanceof qc?Promise.resolve(p.value.v).then(u,h):d(i[0][2],p)}(r[p](v))}catch(b){d(i[0][3],b)}}function u(p){l("next",p)}function h(p){l("throw",p)}function d(p,v){p(v),i.shift(),i.length&&l(i[0][0],i[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:s}=yield qc(e.read());if(s)return yield qc(void 0);yield yield qc(r)}}finally{e.releaseLock()}})}function cT(t){return cn(t?.getReader)}function El(t){if(t instanceof _n)return t;if(null!=t){if(rT(t))return function RQ(t){return new _n(n=>{const e=t[st]();if(cn(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(tT(t))return function DQ(t){return new _n(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(nT(t))return function BQ(t){return new _n(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,un)})}(t);if(sT(t))return uT(t);if(aT(t))return function NQ(t){return new _n(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(cT(t))return function FQ(t){return uT(lT(t))}(t)}throw iT(t)}function uT(t){return new _n(n=>{(function PQ(t,n){var e,r,s,i;return function JV(t,n,e,r){return new(e||(e=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):function s(i){return i instanceof e?i:new e(function(o){o(i)})}(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=eT(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(o){s={error:o}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(s)throw s.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Qc(t,n,e,r=0,s=!1){const i=n.schedule(function(){e(),s?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!s)return i}function hT(t,n=0){return Zs((e,r)=>{e.subscribe(R(r,s=>Qc(r,t,()=>r.next(s),n),()=>Qc(r,t,()=>r.complete(),n),s=>Qc(r,t,()=>r.error(s),n)))})}function dT(t,n=0){return Zs((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function pT(t,n){if(!t)throw new Error("Iterable cannot be null");return new _n(e=>{Qc(e,n,()=>{const r=t[Symbol.asyncIterator]();Qc(e,n,()=>{r.next().then(s=>{s.done?e.complete():e.next(s.value)})},0,!0)})})}function M5(t,n){return n?function jQ(t,n){if(null!=t){if(rT(t))return function kQ(t,n){return El(t).pipe(dT(n),hT(n))}(t,n);if(tT(t))return function GQ(t,n){return new _n(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(nT(t))return function OQ(t,n){return El(t).pipe(dT(n),hT(n))}(t,n);if(sT(t))return pT(t,n);if(aT(t))return function WQ(t,n){return new _n(e=>{let r;return Qc(e,n,()=>{r=t[oT](),Qc(e,n,()=>{let s,i;try{({value:s,done:i}=r.next())}catch(o){return void e.error(o)}i?e.complete():e.next(s)},0,!0)}),()=>cn(r?.return)&&r.return()})}(t,n);if(cT(t))return function ZQ(t,n){return pT(lT(t),n)}(t,n)}throw iT(t)}(t,n):El(t)}function o2(...t){return M5(t,KV(t))}function H5(t,n,e=1/0){return cn(n)?H5((r,s)=>ie((i,o)=>n(r,i,s,o))(El(t(r,s))),e):("number"==typeof n&&(e=n),Zs((r,s)=>function UQ(t,n,e,r,s,i,o,a){const l=[];let c=0,u=0,h=!1;const d=()=>{h&&!l.length&&!c&&n.complete()},p=b=>c<r?v(b):l.push(b),v=b=>{i&&n.next(b),c++;let M=!1;El(e(b,u++)).subscribe(R(n,z=>{s?.(z),i?p(z):n.next(z)},()=>{M=!0},void 0,()=>{if(M)try{for(c--;l.length&&c<r;){const z=l.shift();o?Qc(n,o,()=>v(z)):v(z)}d()}catch(z){n.error(z)}}))};return t.subscribe(R(n,p,()=>{h=!0,d()})),()=>{a?.()}}(r,s,t,e)))}function fT(t,n){return cn(n)?H5(t,n,1):H5(t,1)}function gT(t){return Zs((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function j8(t,n){return Zs((e,r)=>{let s=null,i=0,o=!1;const a=()=>o&&!s&&r.complete();e.subscribe(R(r,l=>{s?.unsubscribe();let c=0;const u=i++;El(t(l,u)).subscribe(s=R(r,h=>r.next(n?n(l,h,u,c++):h),()=>{s=null,a()}))},()=>{o=!0,a()}))})}class z5{}class V5{}class Qn{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const s=e.slice(0,r),i=s.toLowerCase(),o=e.slice(r+1).trim();this.maybeSetNormalizedName(s,i),this.headers.has(i)?this.headers.get(i).push(o):this.headers.set(i,[o])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Qn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Qn;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Qn?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const s=("a"===n.op?this.headers.get(e):void 0)||[];s.push(...r),this.headers.set(e,s);break;case"d":const i=n.value;if(i){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===i.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(i=>i.toString()),s=n.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(n,s)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class XQ{encodeKey(n){return vT(n)}encodeValue(n){return vT(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const KQ=/%(\d[a-f0-9])/gi,JQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vT(t){return encodeURIComponent(t).replace(KQ,(n,e)=>JQ[e]??n)}function T5(t){return`${t}`}class qe{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new XQ,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YQ(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(s=>{const i=s.indexOf("="),[o,a]=-1==i?[n.decodeKey(s),""]:[n.decodeKey(s.slice(0,i)),n.decodeValue(s.slice(i+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],s=Array.isArray(r)?r.map(T5):[T5(r)];this.map.set(e,s)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const s=n[r];Array.isArray(s)?s.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:s,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new qe({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(T5(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const s=r.indexOf(T5(n.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class qQ{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function mT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function wT(t){return typeof Blob<"u"&&t instanceof Blob}function CT(t){return typeof FormData<"u"&&t instanceof FormData}class np{constructor(n,e,r,s){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function QQ(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,i=s):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new Qn,this.context??=new qQ,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new qe,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||mT(this.body)||wT(this.body)||CT(this.body)||function eee(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||CT(this.body)?null:wT(this.body)?this.body.type||null:mT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,s=n.responseType||this.responseType,i=n.transferCache??this.transferCache,o=void 0!==n.body?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress;let c=n.headers||this.headers,u=n.params||this.params;const h=n.context??this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce((d,p)=>d.set(p,n.setHeaders[p]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((d,p)=>d.set(p,n.setParams[p]),u)),new np(e,r,o,{params:u,headers:c,context:h,reportProgress:l,responseType:s,withCredentials:a,transferCache:i})}}var e1=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(e1||{});class U8{constructor(n,e=200,r="OK"){this.headers=n.headers||new Qn,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class E5 extends U8{constructor(n={}){super(n),this.type=e1.ResponseHeader}clone(n={}){return new E5({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class gu extends U8{constructor(n={}){super(n),this.type=e1.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new gu({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class a2 extends U8{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function $8(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let xr=(()=>{class t{constructor(e){this.handler=e}request(e,r,s={}){let i;if(e instanceof np)i=e;else{let l,c;l=s.headers instanceof Qn?s.headers:new Qn(s.headers),s.params&&(c=s.params instanceof qe?s.params:new qe({fromObject:s.params})),i=new np(e,r,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}const o=o2(i).pipe(fT(l=>this.handler.handle(l)));if(e instanceof np||"events"===s.observe)return o;const a=o.pipe(function $Q(t,n){return Zs((e,r)=>{let s=0;e.subscribe(R(r,i=>t.call(n,i,s++)&&r.next(i)))})}(l=>l instanceof gu));switch(s.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(ie(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ie(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ie(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ie(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new qe).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,s={}){return this.request("PATCH",e,$8(s,r))}post(e,r,s={}){return this.request("POST",e,$8(s,r))}put(e,r,s={}){return this.request("PUT",e,$8(s,r))}static{this.\u0275fac=function(r){return new(r||t)(Ke(z5))}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})();const ree=/^\)\]\}',?\n/;function IT(t){if(t.url)return t.url;const n="X-Request-URL".toLocaleLowerCase();return t.headers.get(n)}let X8=(()=>{class t{constructor(){this.fetchImpl=ke(iee,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=ke(Xr)}handle(e){return new _n(r=>{const s=new AbortController;return this.doRequest(e,s.signal,r).then(Y8,i=>r.error(new a2({error:i}))),()=>s.abort()})}doRequest(e,r,s){var i=this;return(0,qo.A)(function*(){const o=i.createRequestInit(e);let a;try{const v=i.ngZone.runOutsideAngular(()=>i.fetchImpl(e.urlWithParams,{signal:r,...o}));(function oee(t){t.then(Y8,Y8)})(v),s.next({type:e1.Sent}),a=yield v}catch(v){return void s.error(new a2({error:v,status:v.status??0,statusText:v.statusText,url:e.urlWithParams,headers:v.headers}))}const l=new Qn(a.headers),c=a.statusText,u=IT(a)??e.urlWithParams;let h=a.status,d=null;if(e.reportProgress&&s.next(new E5({headers:l,status:h,statusText:c,url:u})),a.body){const v=a.headers.get("content-length"),b=[],M=a.body.getReader();let B,pe,z=0;const fe=typeof Zone<"u"&&Zone.current;yield i.ngZone.runOutsideAngular((0,qo.A)(function*(){for(;;){const{done:ee,value:Ie}=yield M.read();if(ee)break;if(b.push(Ie),z+=Ie.length,e.reportProgress){pe="text"===e.responseType?(pe??"")+(B??=new TextDecoder).decode(Ie,{stream:!0}):void 0;const De=()=>s.next({type:e1.DownloadProgress,total:v?+v:void 0,loaded:z,partialText:pe});fe?fe.run(De):De()}}}));const we=i.concatChunks(b,z);try{const ee=a.headers.get("Content-Type")??"";d=i.parseBody(e,we,ee)}catch(ee){return void s.error(new a2({error:ee,headers:new Qn(a.headers),status:a.status,statusText:a.statusText,url:IT(a)??e.urlWithParams}))}}0===h&&(h=d?200:0),h>=200&&h<300?(s.next(new gu({body:d,headers:l,status:h,statusText:c,url:u})),s.complete()):s.error(new a2({error:d,headers:l,status:h,statusText:c,url:u}))})()}parseBody(e,r,s){switch(e.responseType){case"json":const i=(new TextDecoder).decode(r).replace(ree,"");return""===i?null:JSON.parse(i);case"text":return(new TextDecoder).decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(e){const r={},s=e.withCredentials?"include":void 0;if(e.headers.forEach((i,o)=>r[i]=o.join(",")),e.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){const i=e.detectContentTypeHeader();null!==i&&(r["Content-Type"]=i)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:s}}concatChunks(e,r){const s=new Uint8Array(r);let i=0;for(const o of e)s.set(o,i),i+=o.length;return s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})();class iee{}function Y8(){}function AT(t,n){return n(t)}function aee(t,n){return(e,r)=>n.intercept(e,{handle:s=>t(s,r)})}const bT=new kt(""),rp=new kt(""),xT=new kt(""),ST=new kt("",{providedIn:"root",factory:()=>!0});function cee(){let t=null;return(n,e)=>{null===t&&(t=(ke(bT,{optional:!0})??[]).reduceRight(aee,AT));const r=ke(jl);if(ke(ST)){const i=r.add();return t(n,e).pipe(gT(()=>r.remove(i)))}return t(n,e)}}let _T=(()=>{class t extends z5{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=ke(jl),this.contributeToStability=ke(ST)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(rp),...this.injector.get(xT,[])]));this.chain=r.reduceRight((s,i)=>function lee(t,n,e){return(r,s)=>O3(e,()=>n(r,i=>t(i,s)))}(s,i,this.injector),AT)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(e,s=>this.backend.handle(s)).pipe(gT(()=>this.pendingTasks.remove(r)))}return this.chain(e,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(Ke(V5),Ke(Wo))}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})();const fee=/^\)\]\}',?\n/;let HT=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Xe(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?M5(r.\u0275loadImpl()):o2(null)).pipe(j8(()=>new _n(i=>{const o=r.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((b,M)=>o.setRequestHeader(b,M.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const b=e.detectContentTypeHeader();null!==b&&o.setRequestHeader("Content-Type",b)}if(e.responseType){const b=e.responseType.toLowerCase();o.responseType="json"!==b?b:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const b=o.statusText||"OK",M=new Qn(o.getAllResponseHeaders()),z=function gee(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new E5({headers:M,status:o.status,statusText:b,url:z}),l},u=()=>{let{headers:b,status:M,statusText:z,url:B}=c(),pe=null;204!==M&&(pe=typeof o.response>"u"?o.responseText:o.response),0===M&&(M=pe?200:0);let fe=M>=200&&M<300;if("json"===e.responseType&&"string"==typeof pe){const we=pe;pe=pe.replace(fee,"");try{pe=""!==pe?JSON.parse(pe):null}catch(ee){pe=we,fe&&(fe=!1,pe={error:ee,text:pe})}}fe?(i.next(new gu({body:pe,headers:b,status:M,statusText:z,url:B||void 0})),i.complete()):i.error(new a2({error:pe,headers:b,status:M,statusText:z,url:B||void 0}))},h=b=>{const{url:M}=c(),z=new a2({error:b,status:o.status||0,statusText:o.statusText||"Unknown Error",url:M||void 0});i.error(z)};let d=!1;const p=b=>{d||(i.next(c()),d=!0);let M={type:e1.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(M.total=b.total),"text"===e.responseType&&o.responseText&&(M.partialText=o.responseText),i.next(M)},v=b=>{let M={type:e1.UploadProgress,loaded:b.loaded};b.lengthComputable&&(M.total=b.total),i.next(M)};return o.addEventListener("load",u),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),e.reportProgress&&(o.addEventListener("progress",p),null!==a&&o.upload&&o.upload.addEventListener("progress",v)),o.send(a),i.next({type:e1.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",u),o.removeEventListener("timeout",h),e.reportProgress&&(o.removeEventListener("progress",p),null!==a&&o.upload&&o.upload.removeEventListener("progress",v)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(Ke(ZM))}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})();const K8=new kt(""),zT=new kt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),VT=new kt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class TT{}let wee=(()=>{class t{constructor(e,r,s){this.doc=e,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=RM(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(Ke(Gc),Ke(vl),Ke(zT))}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})();function Cee(t,n){const e=t.url.toLowerCase();if(!ke(K8)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const r=ke(TT).getToken(),s=ke(VT);return null!=r&&!t.headers.has(s)&&(t=t.clone({headers:t.headers.set(s,r)})),n(t)}var t1=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(t1||{});function vu(t,n){return{\u0275kind:t,\u0275providers:n}}function yee(...t){const n=[xr,HT,_T,{provide:z5,useExisting:_T},{provide:V5,useFactory:()=>ke(X8,{optional:!0})??ke(HT)},{provide:rp,useValue:Cee,multi:!0},{provide:K8,useValue:!0},{provide:TT,useClass:wee}];for(const e of t)n.push(...e.\u0275providers);return ll(n)}const ET=new kt("");function sp(t){return!!t&&(t instanceof _n||cn(t.lift)&&cn(t.subscribe))}new kt("basePath");const{isArray:Uee}=Array,{getPrototypeOf:$ee,prototype:Xee,keys:Yee}=Object;const{isArray:qee}=Array;function tte(t,n){return t.reduce((e,r,s)=>(e[r]=n[s],e),{})}function kT(...t){const n=function oQ(t){return cn(P8(t))?t.pop():void 0}(t),{args:e,keys:r}=function Kee(t){if(1===t.length){const n=t[0];if(Uee(n))return{args:n,keys:null};if(function Jee(t){return t&&"object"==typeof t&&$ee(t)===Xee}(n)){const e=Yee(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}(t),s=new _n(i=>{const{length:o}=e;if(!o)return void i.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let h=!1;El(e[u]).subscribe(R(i,d=>{h||(h=!0,c--),a[u]=d},()=>l--,void 0,()=>{(!l||!h)&&(c||i.next(r?tte(r,a):a),i.complete())}))}});return n?s.pipe(function ete(t){return ie(n=>function Qee(t,n){return qee(n)?t(...n):t(n)}(t,n))}(n)):s}function OT(...t){return function rte(){return function nte(t=1/0){return H5(Qt,t)}(1)}()(M5(t,KV(t)))}function GT(t){return new _n(n=>{El(t()).subscribe(n)})}const WT=new _n(t=>t.complete());function R5(t){return t<=0?()=>WT:Zs((n,e)=>{let r=0;n.subscribe(R(e,s=>{++r<=t&&(e.next(s),t<=r&&e.complete())}))})}const J8={now:()=>(J8.delegate||Date).now(),delegate:void 0};class ite extends Qr{constructor(n=1/0,e=1/0,r=J8){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:i,_windowTime:o}=this;e||(r.push(n),!s&&r.push(i.now()+o)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:s}=this,i=s.slice();for(let o=0;o<i.length&&!n.closed;o+=r?1:2)n.next(i[o]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:s}=this,i=(s?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!s){const o=e.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function q8(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new Te({next:()=>{r.unsubscribe(),t()}});return El(n(...e)).subscribe(r)}function ZT(t,n,e){let r,s=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:n=1/0,refCount:s=!1,scheduler:e}=t):r=t??1/0,function ote(t={}){const{connector:n=()=>new Qr,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=t;return i=>{let o,a,l,c=0,u=!1,h=!1;const d=()=>{a?.unsubscribe(),a=void 0},p=()=>{d(),o=l=void 0,u=h=!1},v=()=>{const b=o;p(),b?.unsubscribe()};return Zs((b,M)=>{c++,!h&&!u&&d();const z=l=l??n();M.add(()=>{c--,0===c&&!h&&!u&&(a=q8(v,s))}),z.subscribe(M),!o&&c>0&&(o=new Te({next:B=>z.next(B),error:B=>{h=!0,d(),a=q8(p,e,B),z.error(B)},complete:()=>{u=!0,d(),a=q8(p,r),z.complete()}}),El(b).subscribe(o))})(i)}}({connector:()=>new ite(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}class D5{}let ate=(()=>{class t extends D5{getTranslation(e){return o2({})}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ri(t)))(s||t)}})();static \u0275prov=Zt({token:t,factory:t.\u0275fac})}return t})();class jT{}let lte=(()=>{class t{handle(e){return e.key}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Zt({token:t,factory:t.\u0275fac})}return t})();function mu(t){return typeof t<"u"&&null!==t}function B5(t){return N5(t)&&!Q8(t)&&null!==t}function N5(t){return"object"==typeof t}function Q8(t){return Array.isArray(t)}function $T(t){return"string"==typeof t}function eC(t,n){const e=Object.assign({},t);return N5(t)?(N5(t)&&N5(n)&&Object.keys(n).forEach(r=>{B5(n[r])?r in t?e[r]=eC(t[r],n[r]):Object.assign(e,{[r]:n[r]}):Object.assign(e,{[r]:n[r]})}),e):eC({},n)}function tC(t,n){const e=n.split(".");n="";do{n+=e.shift(),mu(t)&&mu(t[n])&&(B5(t[n])||Q8(t[n])||!e.length)?(t=t[n],n=""):e.length?n+=".":t=void 0}while(e.length);return t}class F5{}let XT=(()=>{class t extends F5{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,r){return $T(e)?this.interpolateString(e,r):function cte(t){return"function"==typeof t}(e)?this.interpolateFunction(e,r):void 0}interpolateFunction(e,r){return e(r)}interpolateString(e,r){return r?e.replace(this.templateMatcher,(s,i)=>{const o=tC(r,i);return mu(o)?o:s}):e}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ri(t)))(s||t)}})();static \u0275prov=Zt({token:t,factory:t.\u0275fac})}return t})();class l2{}let hte=(()=>{class t extends l2{compile(e,r){return e}compileTranslations(e,r){return e}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ri(t)))(s||t)}})();static \u0275prov=Zt({token:t,factory:t.\u0275fac})}return t})();class nC{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new ns;onLangChange=new ns;onDefaultLangChange=new ns}const YT=new kt("ISOLATE_TRANSLATE_SERVICE"),KT=new kt("USE_DEFAULT_LANG"),JT=new kt("DEFAULT_LANGUAGE"),qT=new kt("USE_EXTEND"),ip=t=>sp(t)?t:o2(t);let rC=(()=>{class t{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(e){this.store.defaultLang=e}get currentLang(){return this.store.currentLang}set currentLang(e){this.store.currentLang=e}get langs(){return this.store.langs}set langs(e){this.store.langs=e}get translations(){return this.store.translations}set translations(e){this.store.translations=e}constructor(e,r,s,i,o,a=!0,l=!1,c=!1,u){this.store=e,this.currentLoader=r,this.compiler=s,this.parser=i,this.missingTranslationHandler=o,this.useDefaultLang=a,this.extend=c,l&&(this.store=new nC),u&&this.setDefaultLang(u)}setDefaultLang(e){if(e===this.defaultLang)return;const r=this.retrieveTranslations(e);typeof r<"u"?(null==this.defaultLang&&(this.defaultLang=e),r.pipe(R5(1)).subscribe(()=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(this.lastUseLanguage=e,e===this.currentLang)return o2(this.translations[e]);this.currentLang||(this.currentLang=e);const r=this.retrieveTranslations(e);return sp(r)?(r.pipe(R5(1)).subscribe(()=>{this.changeLang(e)}),r):(this.changeLang(e),o2(this.translations[e]))}changeLang(e){e===this.lastUseLanguage&&(this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e))}retrieveTranslations(e){if(typeof this.translations[e]>"u"||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}getTranslation(e){return this.loadAndCompileTranslations(e)}loadAndCompileTranslations(e){this.pending=!0;const r=this.currentLoader.getTranslation(e).pipe(ZT(1),R5(1));return this.loadingTranslations=r.pipe(ie(s=>this.compiler.compileTranslations(s,e)),ZT(1),R5(1)),this.loadingTranslations.subscribe({next:s=>{this.translations[e]=this.extend&&this.translations[e]?{...s,...this.translations[e]}:s,this.updateLangs(),this.pending=!1},error:s=>{this.pending=!1}}),r}setTranslation(e,r,s=!1){const i=this.compiler.compileTranslations(r,e);this.translations[e]=(s||this.extend)&&this.translations[e]?eC(this.translations[e],i):i,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){const r=e.filter(s=>!this.langs.includes(s));r.length>0&&(this.langs=[...this.langs,...r])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(e,r,s){let i;if(e&&(i=this.runInterpolation(tC(e,r),s)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.runInterpolation(tC(this.translations[this.defaultLang],r),s)),void 0===i){const o={key:r,translateService:this};typeof s<"u"&&(o.interpolateParams=s),i=this.missingTranslationHandler.handle(o)}return void 0!==i?i:r}runInterpolation(e,r){if(Q8(e))return e.map(s=>this.runInterpolation(s,r));if(B5(e)){const s={};for(const i in e){const o=this.runInterpolation(e[i],r);void 0!==o&&(s[i]=o)}return s}return this.parser.interpolate(e,r)}getParsedResult(e,r,s){if(r instanceof Array){const i={};let o=!1;for(const l of r)i[l]=this.getParsedResultForKey(e,l,s),o=o||sp(i[l]);return o?kT(r.map(l=>ip(i[l]))).pipe(ie(l=>{const c={};return l.forEach((u,h)=>{c[r[h]]=u}),c})):i}return this.getParsedResultForKey(e,r,s)}get(e,r){if(!mu(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(fT(s=>ip(this.getParsedResult(s,e,r)))):ip(this.getParsedResult(this.translations[this.currentLang],e,r))}getStreamOnTranslationChange(e,r){if(!mu(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return OT(GT(()=>this.get(e,r)),this.onTranslationChange.pipe(j8(s=>{const i=this.getParsedResult(s.translations,e,r);return ip(i)})))}stream(e,r){if(!mu(e)||!e.length)throw new Error('Parameter "key" required');return OT(GT(()=>this.get(e,r)),this.onLangChange.pipe(j8(s=>{const i=this.getParsedResult(s.translations,e,r);return ip(i)})))}instant(e,r){if(!mu(e)||0===e.length)throw new Error('Parameter "key" is required and cannot be empty');const s=this.getParsedResult(this.translations[this.currentLang],e,r);return sp(s)?Array.isArray(e)?e.reduce((i,o)=>(i[o]=o,i),{}):e:s}set(e,r,s=this.currentLang){(function ute(t,n,e){const r=n.split(".");let s=t;for(let i=0;i<r.length;i++){const o=r[i];i===r.length-1?s[o]=e:((!s[o]||!B5(s[o]))&&(s[o]={}),s=s[o])}})(this.translations[s],e,$T(r)?this.compiler.compile(r,s):this.compiler.compileTranslations(r,s)),this.updateLangs(),this.onTranslationChange.emit({lang:s,translations:this.translations[s]})}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],delete this.translations[e]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(r){return new(r||t)(Ke(nC),Ke(D5),Ke(l2),Ke(F5),Ke(jT),Ke(KT),Ke(YT),Ke(qT),Ke(JT))};static \u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const dte=(t={})=>ll([t.loader||{provide:D5,useClass:ate},t.compiler||{provide:l2,useClass:hte},t.parser||{provide:F5,useClass:XT},t.missingTranslationHandler||{provide:jT,useClass:lte},nC,{provide:YT,useValue:t.isolate},{provide:KT,useValue:t.useDefaultLang},{provide:qT,useValue:t.extend},{provide:JT,useValue:t.defaultLanguage},rC]);var pte=K(517);const fte=new kt("MESSAGE_FORMAT_CONFIG"),gte={biDiSupport:!1,formatters:{},strictNumberSign:!1,currency:"USD",strictPluralKeys:!0,throwOnError:!1,fallbackPrefix:void 0};let QT=(()=>{class t extends l2{constructor(e){super(),this.mfCache=new Map;const{formatters:r,biDiSupport:s,strictNumberSign:i,currency:o,strictPluralKeys:a,throwOnError:l,fallbackPrefix:c}={...gte,...e};this.messageFormatOptions={customFormatters:r,biDiSupport:s,strict:i,currency:o,strictPluralKeys:a},this.throwOnError=!!l,this.fallbackPrefix=c}compile(e,r){if(this.fallbackPrefix&&e.startsWith(this.fallbackPrefix))return e.slice(this.fallbackPrefix.length);let s;try{s=this.getMessageFormatInstance(r).compile(e)}catch(i){if(this.throwOnError)throw i;console.error(i),console.error(`[ngx-translate-messageformat-compiler] Could not compile message for lang '${r}': '${e}'`),s=function mte(t,n){return()=>(console.warn(`[ngx-translate-messageformat-compiler] Falling back to original invalid message: '${t}' ('${n}')`),String(t))}(e,r)}return this.throwOnError||(s=function vte(t,n){return e=>{let r=n;try{r=t(e)}catch(s){console.error(s),console.error(`[ngx-translate-messageformat-compiler] Could not interpolate '${n}' with params '${e}'`)}return r}}(s,e)),s}compileTranslations(e,r){return"string"==typeof e?this.compile(e,r):Object.keys(e).reduce((s,i)=>(s[i]=this.compileTranslations(e[i],r),s),{})}getMessageFormatInstance(e){return this.mfCache.has(e)||this.mfCache.set(e,new pte(e,this.messageFormatOptions)),this.mfCache.get(e)}static{this.\u0275fac=function(r){return new(r||t)(Ke(fte,8))}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})(),Cte=(()=>{class t{http;prefix;suffix;constructor(e,r="/assets/i18n/",s=".json"){this.http=e,this.prefix=r,this.suffix=s}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}static \u0275fac=function(r){return new(r||t)(Ke(xr),Ke(String),Ke(String))};static \u0275prov=Zt({token:t,factory:t.\u0275fac})}return t})();function yte(t){return Object.keys(t).reduce((n,e)=>t[e].trim().length?{...n,[e]:t[e]}:n,{})}class Ite extends Cte{getTranslation(n){const e=n.substring(0,2);return super.getTranslation(e).pipe(ie(yte))}}const sC="en",Ate="geonetwork-ui-language",xte={compiler:{provide:l2,useClass:QT},loader:{provide:D5,useFactory:function bte(t){return new Ite(t,"./assets/i18n/")},deps:[xr]}},Ste={compiler:{provide:l2,useClass:QT},parser:{provide:F5,useClass:(()=>{class t extends XT{interpolate(e,r){return r?`${e} {{${Object.keys(r).map(i=>`${i}=${r[i]}`).join(", ")}}}`:e?.toString()}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ri(t)))(s||t)}})()}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})()}};let _te=(()=>{class t{constructor(e){this.injector=e}intercept(e,r){const s=this.injector.get(rC);return e=e.clone({setHeaders:{"Accept-Language":s.currentLang||sC}}),r.handle(e)}static{this.\u0275fac=function(r){return new(r||t)(Ke(kn))}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})();function Mte(t){return()=>{t.setDefaultLang(sC);let n=null;try{n=localStorage.getItem(Ate)}catch(e){console.warn(e)}t.use(n||t.getBrowserLang()||sC)}}function Hte(t,n=!0){let e=t??xte;"true"===new URL(window.location.toString()).searchParams.get("debugTranslations")&&(e=Ste);const r=[yee(vu(t1.LegacyInterceptors,[{provide:ET,useFactory:cee},{provide:rp,useExisting:ET,multi:!0}])),{provide:bT,useClass:_te,multi:!0},dte(e)];return n&&r.push({provide:T_,useFactory:Mte,deps:[rC],multi:!0}),ll(r)}const P5={"ISO 19139":o8,"ISO 19115-3":g8,"DCAT-AP":_5};function eE(t){return Object.keys(P5).reduce((n,e)=>t instanceof P5[e]?e:n)}let Vte=(()=>{class t{constructor(){this.newRecordNative=new ns,this.newMetadata=new ns,this.currentConverter=null,this.status="Standing by."}set recordNative(e){this._currentRecord=e,this.convertRecordToXml(e)}set currentMetadata(e){const r=performance.now();this.status="Converting to CatalogRecord...",this.xmlToRecord(e).then(s=>{this._currentRecord=s,this.newRecordNative.emit(s),this.newMetadata.emit(e);const i=Math.round(performance.now()-r);this.status=`Converting to CatalogRecord... Done (${i} ms).`}).catch(s=>{this.status=`Converting to CatalogRecord... Failed: ${s instanceof Error?s.message:s}`,console.error(s)})}startLoadingFile(){this.status="Loading file from url..."}errorLoadingFile(e){this.status=`Loading file from url... Failed: ${e}`,console.error(e)}startReadingFile(){this.status="Reading file..."}errorReadingFile(){this.status="Reading file... Failed"}changeFormat(e){const r=P5[e];if(!r)throw new Error(`Metadata format ${e} not supported`);this.referenceMetadata="",this.convertRecordToXml(this._currentRecord,new r)}convertRecordToXml(e,r){const s=performance.now(),o=eE(r??this.currentConverter);this.status=`Converting to ${o}...`,this.newMetadata.emit(""),this.recordToXml(e,r).then(a=>{this.newMetadata.emit(a);const l=Math.round(performance.now()-s);this.status=`Converting to ${o}... Done (${l} ms).`}).catch(a=>{this.status=`Converting to ${o}... Failed: ${a instanceof Error?a.message:a}`,console.error(a)})}recordToXml(e,r){try{return this.currentConverter=r||(this.referenceMetadata?YV(this.referenceMetadata):new g8),this.currentConverter.writeRecord(e,this.referenceMetadata)}catch(s){return Promise.reject(s)}}xmlToRecord(e){try{return this.currentConverter=YV(e),this.currentConverter.readRecord(e)}catch(r){return Promise.reject(r)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ho({type:t,selectors:[["gn-ui-status"]],inputs:{recordNative:"recordNative",currentMetadata:"currentMetadata",referenceMetadata:"referenceMetadata"},outputs:{newRecordNative:"newRecordNative",newMetadata:"newMetadata"},decls:2,vars:1,consts:[[1,"font-mono"]],template:function(r,s){1&r&&(Tt(0,"div",0),vo(1),zt()),2&r&&(Ot(),Fc("> ",s.status,""))}})}}return t})();const{min:Tte,max:Ete}=Math,wu=(t,n=0,e=1)=>Tte(Ete(n,t),e),iC=t=>{t._clipped=!1,t._unclipped=t.slice(0);for(let n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=wu(t[n],0,255)):3===n&&(t[n]=wu(t[n],0,1));return t},tE={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])tE[`[object ${t}]`]=t.toLowerCase();function pr(t){return tE[Object.prototype.toString.call(t)]||"object"}const ir=(t,n=null)=>t.length>=3?Array.prototype.slice.call(t):"object"==pr(t[0])&&n?n.split("").filter(e=>void 0!==t[0][e]).map(e=>t[0][e]):t[0].slice(0),c2=t=>{if(t.length<2)return null;const n=t.length-1;return"string"==pr(t[n])?t[n].toLowerCase():null},{PI:k5,min:nE,max:rE}=Math,Ma=t=>Math.round(100*t)/100,oC=t=>Math.round(100*t)/100,ic=2*k5,aC=k5/3,Lte=k5/180,Rte=180/k5;function sE(t){return[...t.slice(0,3).reverse(),...t.slice(3)]}const nr={format:{},autodetect:[]},Ft=class Dte{constructor(...n){const e=this;if("object"===pr(n[0])&&n[0].constructor&&n[0].constructor===this.constructor)return n[0];let r=c2(n),s=!1;if(!r){s=!0,nr.sorted||(nr.autodetect=nr.autodetect.sort((i,o)=>o.p-i.p),nr.sorted=!0);for(let i of nr.autodetect)if(r=i.test(...n),r)break}if(!nr.format[r])throw new Error("unknown format: "+n);{const i=nr.format[r].apply(null,s?n:n.slice(0,-1));e._rgb=iC(i)}3===e._rgb.length&&e._rgb.push(1)}toString(){return"function"==pr(this.hex)?this.hex():`[${this._rgb.join(",")}]`}},iE=(...t)=>new Ft(...t);iE.version="3.1.2";const Sr=iE,u2={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Nte=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Fte=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,oE=t=>{if(t.match(Nte)){(4===t.length||7===t.length)&&(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);const n=parseInt(t,16);return[n>>16,n>>8&255,255&n,1]}if(t.match(Fte)){(5===t.length||9===t.length)&&(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error(`unknown hex color: ${t}`)},{round:O5}=Math,aE=(...t)=>{let[n,e,r,s]=ir(t,"rgba"),i=c2(t)||"auto";void 0===s&&(s=1),"auto"===i&&(i=s<1?"rgba":"rgb"),n=O5(n),e=O5(e),r=O5(r);let a="000000"+(n<<16|e<<8|r).toString(16);a=a.substr(a.length-6);let l="0"+O5(255*s).toString(16);switch(l=l.substr(l.length-2),i.toLowerCase()){case"rgba":return`#${a}${l}`;case"argb":return`#${l}${a}`;default:return`#${a}`}};Ft.prototype.name=function(){const t=aE(this._rgb,"rgb");for(let n of Object.keys(u2))if(u2[n]===t)return n.toLowerCase();return t},nr.format.named=t=>{if(t=t.toLowerCase(),u2[t])return oE(u2[t]);throw new Error("unknown color name: "+t)},nr.autodetect.push({p:5,test:(t,...n)=>{if(!n.length&&"string"===pr(t)&&u2[t.toLowerCase()])return"named"}}),Ft.prototype.alpha=function(t,n=!1){return void 0!==t&&"number"===pr(t)?n?(this._rgb[3]=t,this):new Ft([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},Ft.prototype.clipped=function(){return this._rgb._clipped||!1};const op={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},h2=op,Pte=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function oc(t){const n=Pte.get(String(t).toLowerCase());if(!n)throw new Error("unknown Lab illuminant "+t);op.labWhitePoint=t,op.Xn=n[0],op.Zn=n[1]}function ap(){return op.labWhitePoint}const lC=t=>{const n=Math.sign(t);return((t=Math.abs(t))<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)*n},lE=(t,n,e)=>{const{MtxAdaptMa:r,MtxAdaptMaI:s,MtxXYZ2RGB:i,RefWhiteRGB:o,Xn:a,Yn:l,Zn:c}=h2,M=(o.X*r.m00+o.Y*r.m10+o.Z*r.m20)/(a*r.m00+l*r.m10+c*r.m20)*(t*r.m00+n*r.m10+e*r.m20),z=(o.X*r.m01+o.Y*r.m11+o.Z*r.m21)/(a*r.m01+l*r.m11+c*r.m21)*(t*r.m01+n*r.m11+e*r.m21),B=(o.X*r.m02+o.Y*r.m12+o.Z*r.m22)/(a*r.m02+l*r.m12+c*r.m22)*(t*r.m02+n*r.m12+e*r.m22),pe=M*s.m00+z*s.m10+B*s.m20,fe=M*s.m01+z*s.m11+B*s.m21,we=M*s.m02+z*s.m12+B*s.m22;return[255*lC(pe*i.m00+fe*i.m10+we*i.m20),255*lC(pe*i.m01+fe*i.m11+we*i.m21),255*lC(pe*i.m02+fe*i.m12+we*i.m22)]},cC=(...t)=>{t=ir(t,"lab");const[n,e,r]=t,[s,i,o]=((t,n,e)=>{const{kE:r,kK:s,kKE:i,Xn:o,Yn:a,Zn:l}=h2,c=(t+16)/116,u=.002*n+c,h=c-.005*e,d=u*u*u,p=h*h*h;return[(d>r?d:(116*u-16)/s)*o,(t>i?Math.pow((t+16)/116,3):t/s)*a,(p>r?p:(116*h-16)/s)*l]})(n,e,r),[a,l,c]=lE(s,i,o);return[a,l,c,t.length>3?t[3]:1]};function uC(t){const n=Math.sign(t);return((t=Math.abs(t))<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4))*n}const cE=(t,n,e)=>{t=uC(t/255),n=uC(n/255),e=uC(e/255);const{MtxRGB2XYZ:r,MtxAdaptMa:s,MtxAdaptMaI:i,Xn:o,Yn:a,Zn:l,As:c,Bs:u,Cs:h}=h2;let d=t*r.m00+n*r.m10+e*r.m20,p=t*r.m01+n*r.m11+e*r.m21,v=t*r.m02+n*r.m12+e*r.m22,B=d*s.m00+p*s.m10+v*s.m20,pe=d*s.m01+p*s.m11+v*s.m21,fe=d*s.m02+p*s.m12+v*s.m22;return B*=(o*s.m00+a*s.m10+l*s.m20)/c,pe*=(o*s.m01+a*s.m11+l*s.m21)/u,fe*=(o*s.m02+a*s.m12+l*s.m22)/h,d=B*i.m00+pe*i.m10+fe*i.m20,p=B*i.m01+pe*i.m11+fe*i.m21,v=B*i.m02+pe*i.m12+fe*i.m22,[d,p,v]},hC=(...t)=>{const[n,e,r,...s]=ir(t,"rgb"),[i,o,a]=cE(n,e,r),[l,c,u]=function Wte(t,n,e){const{Xn:r,Yn:s,Zn:i,kE:o,kK:a}=h2,l=t/r,c=n/s,u=e/i,h=l>o?Math.pow(l,1/3):(a*l+16)/116,d=c>o?Math.pow(c,1/3):(a*c+16)/116;return[116*d-16,500*(h-d),200*(d-(u>o?Math.pow(u,1/3):(a*u+16)/116))]}(i,o,a);return[l,c,u,...s.length>0&&s[0]<1?[s[0]]:[]]};Ft.prototype.lab=function(){return hC(this._rgb)},Object.assign(Sr,{lab:(...t)=>new Ft(...t,"lab"),getLabWhitePoint:ap,setLabWhitePoint:oc}),nr.format.lab=cC,nr.autodetect.push({p:2,test:(...t)=>{if("array"===pr(t=ir(t,"lab"))&&3===t.length)return"lab"}}),Ft.prototype.darken=function(t=1){const e=this.lab();return e[0]-=h2.Kn*t,new Ft(e,"lab").alpha(this.alpha(),!0)},Ft.prototype.brighten=function(t=1){return this.darken(-t)},Ft.prototype.darker=Ft.prototype.darken,Ft.prototype.brighter=Ft.prototype.brighten,Ft.prototype.get=function(t){const[n,e]=t.split("."),r=this[n]();if(e){const s=n.indexOf(e)-("ok"===n.substr(0,2)?2:0);if(s>-1)return r[s];throw new Error(`unknown channel ${e} in mode ${n}`)}return r};const{pow:Zte}=Math;Ft.prototype.luminance=function(t,n="rgb"){if(void 0!==t&&"number"===pr(t)){if(0===t)return new Ft([0,0,0,this._rgb[3]],"rgb");if(1===t)return new Ft([255,255,255,this._rgb[3]],"rgb");let e=this.luminance(),r=20;const s=(o,a)=>{const l=o.interpolate(a,.5,n),c=l.luminance();return Math.abs(t-c)<1e-7||!r--?l:c>t?s(o,l):s(l,a)},i=(e>t?s(new Ft([0,0,0]),this):s(this,new Ft([255,255,255]))).rgb();return new Ft([...i,this._rgb[3]])}return $te(...this._rgb.slice(0,3))};const $te=(t,n,e)=>.2126*(t=dC(t))+.7152*(n=dC(n))+.0722*dC(e),dC=t=>(t/=255)<=.03928?t/12.92:Zte((t+.055)/1.055,2.4),ro={},d2=(t,n,e=.5,...r)=>{let s=r[0]||"lrgb";if(!ro[s]&&!r.length&&(s=Object.keys(ro)[0]),!ro[s])throw new Error(`interpolation mode ${s} is not defined`);return"object"!==pr(t)&&(t=new Ft(t)),"object"!==pr(n)&&(n=new Ft(n)),ro[s](t,n,e).alpha(t.alpha()+e*(n.alpha()-t.alpha()))};Ft.prototype.mix=Ft.prototype.interpolate=function(t,n=.5,...e){return d2(this,t,n,...e)},Ft.prototype.premultiply=function(t=!1){const n=this._rgb,e=n[3];return t?(this._rgb=[n[0]*e,n[1]*e,n[2]*e,e],this):new Ft([n[0]*e,n[1]*e,n[2]*e,e],"rgb")};const{sin:Xte,cos:Yte}=Math,uE=(...t)=>{let[n,e,r]=ir(t,"lch");return isNaN(r)&&(r=0),r*=Lte,[n,Yte(r)*e,Xte(r)*e]},pC=(...t)=>{t=ir(t,"lch");const[n,e,r]=t,[s,i,o]=uE(n,e,r),[a,l,c]=cC(s,i,o);return[a,l,c,t.length>3?t[3]:1]},{sqrt:Jte,atan2:qte,round:Qte}=Math,hE=(...t)=>{const[n,e,r]=ir(t,"lab"),s=Jte(e*e+r*r);let i=(qte(r,e)*Rte+360)%360;return 0===Qte(1e4*s)&&(i=Number.NaN),[n,s,i]},fC=(...t)=>{const[n,e,r,...s]=ir(t,"rgb"),[i,o,a]=hC(n,e,r),[l,c,u]=hE(i,o,a);return[l,c,u,...s.length>0&&s[0]<1?[s[0]]:[]]};Ft.prototype.lch=function(){return fC(this._rgb)},Ft.prototype.hcl=function(){return sE(fC(this._rgb))},Object.assign(Sr,{lch:(...t)=>new Ft(...t,"lch"),hcl:(...t)=>new Ft(...t,"hcl")}),nr.format.lch=pC,nr.format.hcl=(...t)=>{const n=sE(ir(t,"hcl"));return pC(...n)},["lch","hcl"].forEach(t=>nr.autodetect.push({p:2,test:(...n)=>{if("array"===pr(n=ir(n,t))&&3===n.length)return t}})),Ft.prototype.saturate=function(t=1){const e=this.lch();return e[1]+=h2.Kn*t,e[1]<0&&(e[1]=0),new Ft(e,"lch").alpha(this.alpha(),!0)},Ft.prototype.desaturate=function(t=1){return this.saturate(-t)},Ft.prototype.set=function(t,n,e=!1){const[r,s]=t.split("."),i=this[r]();if(s){const o=r.indexOf(s)-("ok"===r.substr(0,2)?2:0);if(o>-1){if("string"==pr(n))switch(n.charAt(0)){case"+":case"-":i[o]+=+n;break;case"*":i[o]*=+n.substr(1);break;case"/":i[o]/=+n.substr(1);break;default:i[o]=+n}else{if("number"!==pr(n))throw new Error("unsupported value for Color.set");i[o]=n}const a=new Ft(i,r);return e?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${s} in mode ${r}`)}return i},Ft.prototype.tint=function(t=.5,...n){return d2(this,"white",t,...n)},Ft.prototype.shade=function(t=.5,...n){return d2(this,"black",t,...n)},ro.rgb=(t,n,e)=>{const r=t._rgb,s=n._rgb;return new Ft(r[0]+e*(s[0]-r[0]),r[1]+e*(s[1]-r[1]),r[2]+e*(s[2]-r[2]),"rgb")};const{sqrt:gC,pow:p2}=Math;ro.lrgb=(t,n,e)=>{const[r,s,i]=t._rgb,[o,a,l]=n._rgb;return new Ft(gC(p2(r,2)*(1-e)+p2(o,2)*e),gC(p2(s,2)*(1-e)+p2(a,2)*e),gC(p2(i,2)*(1-e)+p2(l,2)*e),"rgb")},ro.lab=(t,n,e)=>{const r=t.lab(),s=n.lab();return new Ft(r[0]+e*(s[0]-r[0]),r[1]+e*(s[1]-r[1]),r[2]+e*(s[2]-r[2]),"lab")};const f2=(t,n,e,r)=>{let s,i,o,a,l,c,u,h,d,p,v,b;return"hsl"===r?(s=t.hsl(),i=n.hsl()):"hsv"===r?(s=t.hsv(),i=n.hsv()):"hcg"===r?(s=t.hcg(),i=n.hcg()):"hsi"===r?(s=t.hsi(),i=n.hsi()):"lch"===r||"hcl"===r?(r="hcl",s=t.hcl(),i=n.hcl()):"oklch"===r&&(s=t.oklch().reverse(),i=n.oklch().reverse()),("h"===r.substr(0,1)||"oklch"===r)&&([o,l,u]=s,[a,c,h]=i),isNaN(o)||isNaN(a)?isNaN(o)?isNaN(a)?p=Number.NaN:(p=a,(1==u||0==u)&&"hsv"!=r&&(d=c)):(p=o,(1==h||0==h)&&"hsv"!=r&&(d=l)):(b=a>o&&a-o>180?a-(o+360):a<o&&o-a>180?a+360-o:a-o,p=o+e*b),void 0===d&&(d=l+e*(c-l)),v=u+e*(h-u),new Ft("oklch"===r?[v,d,p]:[p,d,v],r)},dE=(t,n,e)=>f2(t,n,e,"lch");ro.lch=dE,ro.hcl=dE,Ft.prototype.num=function(){return((...t)=>{const[n,e,r]=ir(t,"rgb");return(n<<16)+(e<<8)+r})(this._rgb)},Object.assign(Sr,{num:(...t)=>new Ft(...t,"num")}),nr.format.num=t=>{if("number"==pr(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},nr.autodetect.push({p:5,test:(...t)=>{if(1===t.length&&"number"===pr(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}}),ro.num=(t,n,e)=>{const r=t.num(),s=n.num();return new Ft(r+e*(s-r),"num")};const{floor:one}=Math;Ft.prototype.hcg=function(){return((...t)=>{const[n,e,r]=ir(t,"rgb"),s=nE(n,e,r),i=rE(n,e,r),o=i-s;let c;return 0===o?c=Number.NaN:(n===i&&(c=(e-r)/o),e===i&&(c=2+(r-n)/o),r===i&&(c=4+(n-e)/o),c*=60,c<0&&(c+=360)),[c,100*o/255,s/(255-o)*100]})(this._rgb)},Sr.hcg=(...t)=>new Ft(...t,"hcg"),nr.format.hcg=(...t)=>{t=ir(t,"hcg");let s,i,o,[n,e,r]=t;r*=255;const a=255*e;if(0===e)s=i=o=r;else{360===n&&(n=0),n>360&&(n-=360),n<0&&(n+=360),n/=60;const l=one(n),c=n-l,u=r*(1-e),h=u+a*(1-c),d=u+a*c,p=u+a;switch(l){case 0:[s,i,o]=[p,d,u];break;case 1:[s,i,o]=[h,p,u];break;case 2:[s,i,o]=[u,p,d];break;case 3:[s,i,o]=[u,h,p];break;case 4:[s,i,o]=[d,u,p];break;case 5:[s,i,o]=[p,u,h]}}return[s,i,o,t.length>3?t[3]:1]},nr.autodetect.push({p:1,test:(...t)=>{if("array"===pr(t=ir(t,"hcg"))&&3===t.length)return"hcg"}}),ro.hcg=(t,n,e)=>f2(t,n,e,"hcg");const{cos:g2}=Math,{min:dne,sqrt:pne,acos:fne}=Math;Ft.prototype.hsi=function(){return((...t)=>{let s,[n,e,r]=ir(t,"rgb");n/=255,e/=255,r/=255;const i=dne(n,e,r),o=(n+e+r)/3,a=o>0?1-i/o:0;return 0===a?s=NaN:(s=(n-e+(n-r))/2,s/=pne((n-e)*(n-e)+(n-r)*(e-r)),s=fne(s),r>e&&(s=ic-s),s/=ic),[360*s,a,o]})(this._rgb)},Sr.hsi=(...t)=>new Ft(...t,"hsi"),nr.format.hsi=(...t)=>{t=ir(t,"hsi");let s,i,o,[n,e,r]=t;return isNaN(n)&&(n=0),isNaN(e)&&(e=0),n>360&&(n-=360),n<0&&(n+=360),n/=360,n<1/3?(o=(1-e)/3,s=(1+e*g2(ic*n)/g2(aC-ic*n))/3,i=1-(o+s)):n<2/3?(n-=1/3,s=(1-e)/3,i=(1+e*g2(ic*n)/g2(aC-ic*n))/3,o=1-(s+i)):(n-=2/3,i=(1-e)/3,o=(1+e*g2(ic*n)/g2(aC-ic*n))/3,s=1-(i+o)),s=wu(r*s*3),i=wu(r*i*3),o=wu(r*o*3),[255*s,255*i,255*o,t.length>3?t[3]:1]},nr.autodetect.push({p:2,test:(...t)=>{if("array"===pr(t=ir(t,"hsi"))&&3===t.length)return"hsi"}}),ro.hsi=(t,n,e)=>f2(t,n,e,"hsi");const vC=(...t)=>{t=ir(t,"hsl");const[n,e,r]=t;let s,i,o;if(0===e)s=i=o=255*r;else{const a=[0,0,0],l=[0,0,0],c=r<.5?r*(1+e):r+e-r*e,u=2*r-c,h=n/360;a[0]=h+1/3,a[1]=h,a[2]=h-1/3;for(let d=0;d<3;d++)a[d]<0&&(a[d]+=1),a[d]>1&&(a[d]-=1),l[d]=6*a[d]<1?u+6*(c-u)*a[d]:2*a[d]<1?c:3*a[d]<2?u+(c-u)*(2/3-a[d])*6:u;[s,i,o]=[255*l[0],255*l[1],255*l[2]]}return t.length>3?[s,i,o,t[3]]:[s,i,o,1]},pE=(...t)=>{t=ir(t,"rgba");let[n,e,r]=t;n/=255,e/=255,r/=255;const s=nE(n,e,r),i=rE(n,e,r),o=(i+s)/2;let a,l;return i===s?(a=0,l=Number.NaN):a=o<.5?(i-s)/(i+s):(i-s)/(2-i-s),n==i?l=(e-r)/(i-s):e==i?l=2+(r-n)/(i-s):r==i&&(l=4+(n-e)/(i-s)),l*=60,l<0&&(l+=360),t.length>3&&void 0!==t[3]?[l,a,o,t[3]]:[l,a,o]};Ft.prototype.hsl=function(){return pE(this._rgb)},Sr.hsl=(...t)=>new Ft(...t,"hsl"),nr.format.hsl=vC,nr.autodetect.push({p:2,test:(...t)=>{if("array"===pr(t=ir(t,"hsl"))&&3===t.length)return"hsl"}}),ro.hsl=(t,n,e)=>f2(t,n,e,"hsl");const{floor:yne}=Math,{min:Ane,max:bne}=Math;function G5(t,n){let e=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(n[0])||(n=n.map(o=>[o]));let r=n[0].length,s=n[0].map((o,a)=>n.map(l=>l[a])),i=t.map(o=>s.map(a=>Array.isArray(o)?o.reduce((l,c,u)=>l+c*(a[u]||0),0):a.reduce((l,c)=>l+c*o,0)));return 1===e&&(i=i[0]),1===r?i.map(o=>o[0]):i}Ft.prototype.hsv=function(){return((...t)=>{t=ir(t,"rgb");let[n,e,r]=t;const s=Ane(n,e,r),i=bne(n,e,r),o=i-s;let a,l,c;return c=i/255,0===i?(a=Number.NaN,l=0):(l=o/i,n===i&&(a=(e-r)/o),e===i&&(a=2+(r-n)/o),r===i&&(a=4+(n-e)/o),a*=60,a<0&&(a+=360)),[a,l,c]})(this._rgb)},Sr.hsv=(...t)=>new Ft(...t,"hsv"),nr.format.hsv=(...t)=>{t=ir(t,"hsv");let s,i,o,[n,e,r]=t;if(r*=255,0===e)s=i=o=r;else{360===n&&(n=0),n>360&&(n-=360),n<0&&(n+=360),n/=60;const a=yne(n),l=n-a,c=r*(1-e),u=r*(1-e*l),h=r*(1-e*(1-l));switch(a){case 0:[s,i,o]=[r,h,c];break;case 1:[s,i,o]=[u,r,c];break;case 2:[s,i,o]=[c,r,h];break;case 3:[s,i,o]=[c,u,r];break;case 4:[s,i,o]=[h,c,r];break;case 5:[s,i,o]=[r,c,u]}}return[s,i,o,t.length>3?t[3]:1]},nr.autodetect.push({p:2,test:(...t)=>{if("array"===pr(t=ir(t,"hsv"))&&3===t.length)return"hsv"}}),ro.hsv=(t,n,e)=>f2(t,n,e,"hsv");const mC=(...t)=>{t=ir(t,"lab");const[n,e,r,...s]=t,[i,o,a]=function Hne(t){var r=G5([[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],t);return G5([[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],r.map(s=>s**3))}([n,e,r]),[l,c,u]=lE(i,o,a);return[l,c,u,...s.length>0&&s[0]<1?[s[0]]:[]]};function Vne(t){const r=G5([[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],t);return G5([[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r.map(s=>Math.cbrt(s)))}const wC=(...t)=>{const[n,e,r,...s]=ir(t,"rgb");return[...Vne(cE(n,e,r)),...s.length>0&&s[0]<1?[s[0]]:[]]};Ft.prototype.oklab=function(){return wC(this._rgb)},Object.assign(Sr,{oklab:(...t)=>new Ft(...t,"oklab")}),nr.format.oklab=mC,nr.autodetect.push({p:2,test:(...t)=>{if("array"===pr(t=ir(t,"oklab"))&&3===t.length)return"oklab"}}),ro.oklab=(t,n,e)=>{const r=t.oklab(),s=n.oklab();return new Ft(r[0]+e*(s[0]-r[0]),r[1]+e*(s[1]-r[1]),r[2]+e*(s[2]-r[2]),"oklab")},ro.oklch=(t,n,e)=>f2(t,n,e,"oklch");const{pow:CC,sqrt:yC,PI:IC,cos:fE,sin:gE,atan2:Lne}=Math,{pow:Bne}=Math;function W5(t){let n="rgb",e=Sr("#ccc"),r=0,s=[0,1],i=[],o=[0,0],a=!1,l=[],c=!1,u=0,h=1,d=!1,p={},v=!0,b=1;const M=function(Ie){if((Ie=Ie||["#fff","#000"])&&"string"===pr(Ie)&&Sr.brewer&&Sr.brewer[Ie.toLowerCase()]&&(Ie=Sr.brewer[Ie.toLowerCase()]),"array"===pr(Ie)){1===Ie.length&&(Ie=[Ie[0],Ie[0]]),Ie=Ie.slice(0);for(let De=0;De<Ie.length;De++)Ie[De]=Sr(Ie[De]);i.length=0;for(let De=0;De<Ie.length;De++)i.push(De/(Ie.length-1))}return we(),l=Ie};let B=Ie=>Ie,pe=Ie=>Ie;const fe=function(Ie,De){let nt,rt;if(null==De&&(De=!1),isNaN(Ie)||null===Ie)return e;rt=De?Ie:a&&a.length>2?function(Ie){if(null!=a){const De=a.length-1;let nt=0;for(;nt<De&&Ie>=a[nt];)nt++;return nt-1}return 0}(Ie)/(a.length-2):h!==u?(Ie-u)/(h-u):1,rt=pe(rt),De||(rt=B(rt)),1!==b&&(rt=Bne(rt,b)),rt=o[0]+rt*(1-o[0]-o[1]),rt=wu(rt,0,1);const ft=Math.floor(1e4*rt);if(v&&p[ft])nt=p[ft];else{if("array"===pr(l))for(let tt=0;tt<i.length;tt++){const gt=i[tt];if(rt<=gt){nt=l[tt];break}if(rt>=gt&&tt===i.length-1){nt=l[tt];break}if(rt>gt&&rt<i[tt+1]){rt=(rt-gt)/(i[tt+1]-gt),nt=Sr.interpolate(l[tt],l[tt+1],rt,n);break}}else"function"===pr(l)&&(nt=l(rt));v&&(p[ft]=nt)}return nt};var we=()=>p={};M(t);const ee=function(Ie){const De=Sr(fe(Ie));return c&&De[c]?De[c]():De};return ee.classes=function(Ie){if(null!=Ie){if("array"===pr(Ie))a=Ie,s=[Ie[0],Ie[Ie.length-1]];else{const De=Sr.analyze(s);a=0===Ie?[De.min,De.max]:Sr.limits(De,"e",Ie)}return ee}return a},ee.domain=function(Ie){if(!arguments.length)return s;u=Ie[0],h=Ie[Ie.length-1],i=[];const De=l.length;if(Ie.length===De&&u!==h)for(let nt of Array.from(Ie))i.push((nt-u)/(h-u));else{for(let nt=0;nt<De;nt++)i.push(nt/(De-1));if(Ie.length>2){const nt=Ie.map((ft,tt)=>tt/(Ie.length-1)),rt=Ie.map(ft=>(ft-u)/(h-u));rt.every((ft,tt)=>nt[tt]===ft)||(pe=ft=>{if(ft<=0||ft>=1)return ft;let tt=0;for(;ft>=rt[tt+1];)tt++;return nt[tt]+(ft-rt[tt])/(rt[tt+1]-rt[tt])*(nt[tt+1]-nt[tt])})}}return s=[u,h],ee},ee.mode=function(Ie){return arguments.length?(n=Ie,we(),ee):n},ee.range=function(Ie,De){return M(Ie),ee},ee.out=function(Ie){return c=Ie,ee},ee.spread=function(Ie){return arguments.length?(r=Ie,ee):r},ee.correctLightness=function(Ie){return null==Ie&&(Ie=!0),d=Ie,we(),B=d?function(De){const nt=fe(0,!0).lab()[0],rt=fe(1,!0).lab()[0],ft=nt>rt;let tt=fe(De,!0).lab()[0];const gt=nt+(rt-nt)*De;let Ht=tt-gt,Lt=0,St=1,bn=20;for(;Math.abs(Ht)>.01&&bn-- >0;)ft&&(Ht*=-1),Ht<0?(Lt=De,De+=.5*(St-De)):(St=De,De+=.5*(Lt-De)),tt=fe(De,!0).lab()[0],Ht=tt-gt;return De}:De=>De,ee},ee.padding=function(Ie){return null!=Ie?("number"===pr(Ie)&&(Ie=[Ie,Ie]),o=Ie,ee):o},ee.colors=function(Ie,De){arguments.length<2&&(De="hex");let nt=[];if(0===arguments.length)nt=l.slice(0);else if(1===Ie)nt=[ee(.5)];else if(Ie>1){const rt=s[0],ft=s[1]-rt;nt=function Nne(t,n,e){let r=[],s=t<n,i=e?s?n+1:n-1:n;for(let o=t;s?o<i:o>i;s?o++:o--)r.push(o);return r}(0,Ie,!1).map(tt=>ee(rt+tt/(Ie-1)*ft))}else{t=[];let rt=[];if(a&&a.length>2)for(let ft=1,tt=a.length,gt=1<=tt;gt?ft<tt:ft>tt;gt?ft++:ft--)rt.push(.5*(a[ft-1]+a[ft]));else rt=s;nt=rt.map(ft=>ee(ft))}return Sr[De]&&(nt=nt.map(rt=>rt[De]())),nt},ee.cache=function(Ie){return null!=Ie?(v=Ie,ee):v},ee.gamma=function(Ie){return null!=Ie?(b=Ie,ee):b},ee.nodata=function(Ie){return null!=Ie?(e=Sr(Ie),ee):e},ee}const{round:vE}=Math;Ft.prototype.rgb=function(t=!0){return!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(vE)},Ft.prototype.rgba=function(t=!0){return this._rgb.slice(0,4).map((n,e)=>e<3?!1===t?n:vE(n):n)},Object.assign(Sr,{rgb:(...t)=>new Ft(...t,"rgb")}),nr.format.rgb=(...t)=>{const n=ir(t,"rgba");return void 0===n[3]&&(n[3]=1),n},nr.autodetect.push({p:3,test:(...t)=>{if("array"===pr(t=ir(t,"rgba"))&&(3===t.length||4===t.length&&"number"==pr(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});const Ja=(t,n,e)=>{if(!Ja[e])throw new Error("unknown blend mode "+e);return Ja[e](t,n)},n1=t=>(n,e)=>{const r=Sr(e).rgb(),s=Sr(n).rgb();return Sr.rgb(t(r,s))},r1=t=>(n,e)=>{const r=[];return r[0]=t(n[0],e[0]),r[1]=t(n[1],e[1]),r[2]=t(n[2],e[2]),r};Ja.normal=n1(r1(t=>t)),Ja.multiply=n1(r1((t,n)=>t*n/255)),Ja.screen=n1(r1((t,n)=>255*(1-(1-t/255)*(1-n/255)))),Ja.overlay=n1(r1((t,n)=>n<128?2*t*n/255:255*(1-2*(1-t/255)*(1-n/255)))),Ja.darken=n1(r1((t,n)=>t>n?n:t)),Ja.lighten=n1(r1((t,n)=>t>n?t:n)),Ja.dodge=n1(r1((t,n)=>255===t||(t=n/255*255/(1-t/255))>255?255:t)),Ja.burn=n1(r1((t,n)=>255*(1-(1-n/255)/(t/255))));const Yne=Ja,{pow:Kne,sin:Jne,cos:qne}=Math,{floor:tre,random:nre}=Math,{log:mE,pow:sre,floor:ire,abs:ore}=Math;function wE(t,n=null){const e={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===pr(t)&&(t=Object.values(t)),t.forEach(r=>{n&&"object"===pr(r)&&(r=r[n]),null!=r&&!isNaN(r)&&(e.values.push(r),e.sum+=r,r<e.min&&(e.min=r),r>e.max&&(e.max=r),e.count+=1)}),e.domain=[e.min,e.max],e.limits=(r,s)=>CE(e,r,s),e}function CE(t,n="equal",e=7){"array"==pr(t)&&(t=wE(t));const{min:r,max:s}=t,i=t.values.sort((a,l)=>a-l);if(1===e)return[r,s];const o=[];if("c"===n.substr(0,1)&&(o.push(r),o.push(s)),"e"===n.substr(0,1)){o.push(r);for(let a=1;a<e;a++)o.push(r+a/e*(s-r));o.push(s)}else if("l"===n.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const a=Math.LOG10E*mE(r),l=Math.LOG10E*mE(s);o.push(r);for(let c=1;c<e;c++)o.push(sre(10,a+c/e*(l-a)));o.push(s)}else if("q"===n.substr(0,1)){o.push(r);for(let a=1;a<e;a++){const l=(i.length-1)*a/e,c=ire(l);if(c===l)o.push(i[c]);else{const u=l-c;o.push(i[c]*(1-u)+i[c+1]*u)}}o.push(s)}else if("k"===n.substr(0,1)){let a;const l=i.length,c=new Array(l),u=new Array(e);let h=!0,d=0,p=null;p=[],p.push(r);for(let M=1;M<e;M++)p.push(r+M/e*(s-r));for(p.push(s);h;){for(let z=0;z<e;z++)u[z]=0;for(let z=0;z<l;z++){const B=i[z];let fe,pe=Number.MAX_VALUE;for(let we=0;we<e;we++){const ee=ore(p[we]-B);ee<pe&&(pe=ee,fe=we),u[fe]++,c[z]=fe}}const M=new Array(e);for(let z=0;z<e;z++)M[z]=null;for(let z=0;z<l;z++)a=c[z],null===M[a]?M[a]=i[z]:M[a]+=i[z];for(let z=0;z<e;z++)M[z]*=1/u[z];h=!1;for(let z=0;z<e;z++)if(M[z]!==p[z]){h=!0;break}p=M,d++,d>200&&(h=!1)}const v={};for(let M=0;M<e;M++)v[M]=[];for(let M=0;M<l;M++)a=c[M],v[a].push(i[M]);let b=[];for(let M=0;M<e;M++)b.push(v[M][0]),b.push(v[M][v[M].length-1]);b=b.sort((M,z)=>M-z),o.push(b[0]);for(let M=1;M<b.length;M+=2){const z=b[M];!isNaN(z)&&-1===o.indexOf(z)&&o.push(z)}}return o}const Z5=.022;function bE(t,n,e){return.2126729*Math.pow(t/255,2.4)+.7151522*Math.pow(n/255,2.4)+.072175*Math.pow(e/255,2.4)}const{sqrt:ac,pow:Ii,min:hre,max:dre,atan2:xE,abs:SE,cos:j5,sin:_E,exp:pre,PI:ME}=Math,mre={cool:()=>W5([Sr.hsl(180,1,.9),Sr.hsl(250,.7,.4)]),hot:()=>W5(["#000","#f00","#ff0","#fff"]).mode("rgb")},AC={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},HE=Object.keys(AC),zE=new Map(HE.map(t=>[t.toLowerCase(),t])),wre="function"==typeof Proxy?new Proxy(AC,{get(t,n){const e=n.toLowerCase();if(zE.has(e))return t[zE.get(e)]},getOwnPropertyNames:()=>Object.getOwnPropertyNames(HE)}):AC,{max:VE}=Math;Ft.prototype.cmyk=function(){return((...t)=>{let[n,e,r]=ir(t,"rgb");n/=255,e/=255,r/=255;const s=1-VE(n,VE(e,r)),i=s<1?1/(1-s):0;return[(1-n-s)*i,(1-e-s)*i,(1-r-s)*i,s]})(this._rgb)},Object.assign(Sr,{cmyk:(...t)=>new Ft(...t,"cmyk")}),nr.format.cmyk=(...t)=>{t=ir(t,"cmyk");const[n,e,r,s]=t,i=t.length>4?t[4]:1;return 1===s?[0,0,0,i]:[n>=1?0:255*(1-n)*(1-s),e>=1?0:255*(1-e)*(1-s),r>=1?0:255*(1-r)*(1-s),i]},nr.autodetect.push({p:2,test:(...t)=>{if("array"===pr(t=ir(t,"cmyk"))&&4===t.length)return"cmyk"}});const TE=(...t)=>{const[n,e,r,...s]=ir(t,"rgb"),[i,o,a]=wC(n,e,r),[l,c,u]=hE(i,o,a);return[l,c,u,...s.length>0&&s[0]<1?[s[0]]:[]]},{round:bC}=Math,EE=(...t)=>{t=ir(t,"lch");const[n,e,r,...s]=t,[i,o,a]=uE(n,e,r),[l,c,u]=mC(i,o,a);return[l,c,u,...s.length>0&&s[0]<1?[s[0]]:[]]},lc=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,qa=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,U5=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,Ha=/\s*/.source,v2=/\s+/.source,xC=/\s*,\s*/.source,$5=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,m2=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,LE=new RegExp("^rgba?\\("+Ha+[lc,lc,lc].join(v2)+m2+"\\)$"),RE=new RegExp("^rgb\\("+Ha+[lc,lc,lc].join(xC)+Ha+"\\)$"),DE=new RegExp("^rgba\\("+Ha+[lc,lc,lc,qa].join(xC)+Ha+"\\)$"),BE=new RegExp("^hsla?\\("+Ha+[$5,U5,U5].join(v2)+m2+"\\)$"),NE=new RegExp("^hsl?\\("+Ha+[$5,U5,U5].join(xC)+Ha+"\\)$"),FE=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,PE=new RegExp("^lab\\("+Ha+[qa,qa,qa].join(v2)+m2+"\\)$"),kE=new RegExp("^lch\\("+Ha+[qa,qa,$5].join(v2)+m2+"\\)$"),OE=new RegExp("^oklab\\("+Ha+[qa,qa,qa].join(v2)+m2+"\\)$"),GE=new RegExp("^oklch\\("+Ha+[qa,qa,$5].join(v2)+m2+"\\)$"),{round:WE}=Math,w2=t=>t.map((n,e)=>e<=2?wu(WE(n),0,255):n),Ai=(t,n=0,e=100,r=!1)=>("string"==typeof t&&t.endsWith("%")&&(t=parseFloat(t.substring(0,t.length-1))/100,t=r?n+.5*(t+1)*(e-n):n+t*(e-n)),+t),bo=(t,n)=>"none"===t?n:t,ZE=t=>{if("transparent"===(t=t.toLowerCase().trim()))return[0,0,0,0];let n;if(nr.format.named)try{return nr.format.named(t)}catch{}if((n=t.match(LE))||(n=t.match(RE))){let e=n.slice(1,4);for(let s=0;s<3;s++)e[s]=+Ai(bo(e[s],0),0,255);e=w2(e);const r=void 0!==n[4]?+Ai(n[4],0,1):1;return e[3]=r,e}if(n=t.match(DE)){const e=n.slice(1,5);for(let r=0;r<4;r++)e[r]=+Ai(e[r],0,255);return e}if((n=t.match(BE))||(n=t.match(NE))){const e=n.slice(1,4);e[0]=+bo(e[0].replace("deg",""),0),e[1]=.01*+Ai(bo(e[1],0),0,100),e[2]=.01*+Ai(bo(e[2],0),0,100);const r=w2(vC(e)),s=void 0!==n[4]?+Ai(n[4],0,1):1;return r[3]=s,r}if(n=t.match(FE)){const e=n.slice(1,4);e[1]*=.01,e[2]*=.01;const r=vC(e);for(let s=0;s<3;s++)r[s]=WE(r[s]);return r[3]=+n[4],r}if(n=t.match(PE)){const e=n.slice(1,4);e[0]=Ai(bo(e[0],0),0,100),e[1]=Ai(bo(e[1],0),-125,125,!0),e[2]=Ai(bo(e[2],0),-125,125,!0);const r=ap();oc("d50");const s=w2(cC(e));oc(r);const i=void 0!==n[4]?+Ai(n[4],0,1):1;return s[3]=i,s}if(n=t.match(kE)){const e=n.slice(1,4);e[0]=Ai(e[0],0,100),e[1]=Ai(bo(e[1],0),0,150,!1),e[2]=+bo(e[2].replace("deg",""),0);const r=ap();oc("d50");const s=w2(pC(e));oc(r);const i=void 0!==n[4]?+Ai(n[4],0,1):1;return s[3]=i,s}if(n=t.match(OE)){const e=n.slice(1,4);e[0]=Ai(bo(e[0],0),0,1),e[1]=Ai(bo(e[1],0),-.4,.4,!0),e[2]=Ai(bo(e[2],0),-.4,.4,!0);const r=w2(mC(e)),s=void 0!==n[4]?+Ai(n[4],0,1):1;return r[3]=s,r}if(n=t.match(GE)){const e=n.slice(1,4);e[0]=Ai(bo(e[0],0),0,1),e[1]=Ai(bo(e[1],0),0,.4,!1),e[2]=+bo(e[2].replace("deg",""),0);const r=w2(EE(e)),s=void 0!==n[4]?+Ai(n[4],0,1):1;return r[3]=s,r}};ZE.test=t=>LE.test(t)||BE.test(t)||PE.test(t)||kE.test(t)||OE.test(t)||GE.test(t)||RE.test(t)||DE.test(t)||NE.test(t)||FE.test(t)||"transparent"===t;const jE=ZE;Ft.prototype.css=function(t){return((...t)=>{const n=ir(t,"rgba");let e=c2(t)||"rgb";if("hsl"===e.substr(0,3))return((...t)=>{const n=ir(t,"hsla");let e=c2(t)||"lsa";return n[0]=Ma(n[0]||0)+"deg",n[1]=Ma(100*n[1])+"%",n[2]=Ma(100*n[2])+"%","hsla"===e||n.length>3&&n[3]<1?(n[3]="/ "+(n.length>3?n[3]:1),e="hsla"):n.length=3,`${e.substr(0,3)}(${n.join(" ")})`})(pE(n),e);if("lab"===e.substr(0,3)){const r=ap();oc("d50");const s=((...t)=>{const n=ir(t,"lab");let e=c2(t)||"lab";return n[0]=Ma(n[0])+"%",n[1]=Ma(n[1]),n[2]=Ma(n[2]),"laba"===e||n.length>3&&n[3]<1?n[3]="/ "+(n.length>3?n[3]:1):n.length=3,`lab(${n.join(" ")})`})(hC(n),e);return oc(r),s}if("lch"===e.substr(0,3)){const r=ap();oc("d50");const s=((...t)=>{const n=ir(t,"lch");let e=c2(t)||"lab";return n[0]=Ma(n[0])+"%",n[1]=Ma(n[1]),n[2]=isNaN(n[2])?"none":Ma(n[2])+"deg","lcha"===e||n.length>3&&n[3]<1?n[3]="/ "+(n.length>3?n[3]:1):n.length=3,`lch(${n.join(" ")})`})(fC(n),e);return oc(r),s}return"oklab"===e.substr(0,5)?((...t)=>{const n=ir(t,"lab");return n[0]=Ma(100*n[0])+"%",n[1]=oC(n[1]),n[2]=oC(n[2]),n.length>3&&n[3]<1?n[3]="/ "+(n.length>3?n[3]:1):n.length=3,`oklab(${n.join(" ")})`})(wC(n)):"oklch"===e.substr(0,5)?((...t)=>{const n=ir(t,"lch");return n[0]=Ma(100*n[0])+"%",n[1]=oC(n[1]),n[2]=isNaN(n[2])?"none":Ma(n[2])+"deg",n.length>3&&n[3]<1?n[3]="/ "+(n.length>3?n[3]:1):n.length=3,`oklch(${n.join(" ")})`})(TE(n)):(n[0]=bC(n[0]),n[1]=bC(n[1]),n[2]=bC(n[2]),("rgba"===e||n.length>3&&n[3]<1)&&(n[3]="/ "+(n.length>3?n[3]:1),e="rgba"),`${e.substr(0,3)}(${n.slice(0,"rgb"===e?3:4).join(" ")})`)})(this._rgb,t)},Sr.css=(...t)=>new Ft(...t,"css"),nr.format.css=jE,nr.autodetect.push({p:5,test:(t,...n)=>{if(!n.length&&"string"===pr(t)&&jE.test(t))return"css"}}),nr.format.gl=(...t)=>{const n=ir(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},Sr.gl=(...t)=>new Ft(...t,"gl"),Ft.prototype.gl=function(){const t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]},Ft.prototype.hex=function(t){return aE(this._rgb,t)},Sr.hex=(...t)=>new Ft(...t,"hex"),nr.format.hex=oE,nr.autodetect.push({p:4,test:(t,...n)=>{if(!n.length&&"string"===pr(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});const{log:X5}=Math,UE=t=>{const n=t/100;let e,r,s;return n<66?(e=255,r=n<6?0:-155.25485562709179-.44596950469579133*(r=n-2)+104.49216199393888*X5(r),s=n<20?0:.8274096064007395*(s=n-10)-254.76935184120902+115.67994401066147*X5(s)):(e=351.97690566805693+.114206453784165*(e=n-55)-40.25366309332127*X5(e),r=325.4494125711974+.07943456536662342*(r=n-50)-28.0852963507957*X5(r),s=255),[e,r,s,1]},{round:Vre}=Math;Ft.prototype.temp=Ft.prototype.kelvin=Ft.prototype.temperature=function(){return(()=>{const n=ir([this._rgb],"rgb"),e=n[0],r=n[2];let a,s=1e3,i=4e4;for(;i-s>.4;){a=.5*(i+s);const l=UE(a);l[2]/l[0]>=r/e?i=a:s=a}return Vre(a)})()};const SC=(...t)=>new Ft(...t,"temp");Object.assign(Sr,{temp:SC,kelvin:SC,temperature:SC}),nr.format.temp=nr.format.kelvin=nr.format.temperature=UE,Ft.prototype.oklch=function(){return TE(this._rgb)},Object.assign(Sr,{oklch:(...t)=>new Ft(...t,"oklch")}),nr.format.oklch=EE,nr.autodetect.push({p:2,test:(...t)=>{if("array"===pr(t=ir(t,"oklch"))&&3===t.length)return"oklch"}}),Object.assign(Sr,{analyze:wE,average:(t,n="lrgb",e=null)=>{const r=t.length;e||(e=Array.from(new Array(r)).map(()=>1));const s=r/e.reduce(function(h,d){return h+d});if(e.forEach((h,d)=>{e[d]*=s}),t=t.map(h=>new Ft(h)),"lrgb"===n)return((t,n)=>{const e=t.length,r=[0,0,0,0];for(let s=0;s<t.length;s++){const o=n[s]/e,a=t[s]._rgb;r[0]+=CC(a[0],2)*o,r[1]+=CC(a[1],2)*o,r[2]+=CC(a[2],2)*o,r[3]+=a[3]*o}return r[0]=yC(r[0]),r[1]=yC(r[1]),r[2]=yC(r[2]),r[3]>.9999999&&(r[3]=1),new Ft(iC(r))})(t,e);const i=t.shift(),o=i.get(n),a=[];let l=0,c=0;for(let h=0;h<o.length;h++)if(o[h]=(o[h]||0)*e[0],a.push(isNaN(o[h])?0:e[0]),"h"===n.charAt(h)&&!isNaN(o[h])){const d=o[h]/180*IC;l+=fE(d)*e[0],c+=gE(d)*e[0]}let u=i.alpha()*e[0];t.forEach((h,d)=>{const p=h.get(n);u+=h.alpha()*e[d+1];for(let v=0;v<o.length;v++)if(!isNaN(p[v]))if(a[v]+=e[d+1],"h"===n.charAt(v)){const b=p[v]/180*IC;l+=fE(b)*e[d+1],c+=gE(b)*e[d+1]}else o[v]+=p[v]*e[d+1]});for(let h=0;h<o.length;h++)if("h"===n.charAt(h)){let d=Lne(c/a[h],l/a[h])/IC*180;for(;d<0;)d+=360;for(;d>=360;)d-=360;o[h]=d}else o[h]=o[h]/a[h];return u/=r,new Ft(o,n).alpha(u>.99999?1:u,!0)},bezier:t=>{const n=function(t){let n,e,r,s;if(2===(t=t.map(i=>new Ft(i))).length)[e,r]=t.map(i=>i.lab()),n=function(i){const o=[0,1,2].map(a=>e[a]+i*(r[a]-e[a]));return new Ft(o,"lab")};else if(3===t.length)[e,r,s]=t.map(i=>i.lab()),n=function(i){const o=[0,1,2].map(a=>(1-i)*(1-i)*e[a]+2*(1-i)*i*r[a]+i*i*s[a]);return new Ft(o,"lab")};else if(4===t.length){let i;[e,r,s,i]=t.map(o=>o.lab()),n=function(o){const a=[0,1,2].map(l=>(1-o)*(1-o)*(1-o)*e[l]+3*(1-o)*(1-o)*o*r[l]+3*(1-o)*o*o*s[l]+o*o*o*i[l]);return new Ft(a,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");{let i,o,a;i=t.map(l=>l.lab()),a=t.length-1,o=function(t){let n=[1,1];for(let e=1;e<t;e++){let r=[1];for(let s=1;s<=n.length;s++)r[s]=(n[s]||0)+n[s-1];n=r}return n}(a),n=function(l){const c=1-l,u=[0,1,2].map(h=>i.reduce((d,p,v)=>d+o[v]*c**(a-v)*l**v*p[h],0));return new Ft(u,"lab")}}}return n}(t);return n.scale=()=>W5(n),n},blend:Yne,brewer:wre,Color:Ft,colors:u2,contrast:(t,n)=>{t=new Ft(t),n=new Ft(n);const e=t.luminance(),r=n.luminance();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},contrastAPCA:(t,n)=>{t=new Ft(t),n=new Ft(n),t.alpha()<1&&(t=d2(n,t,t.alpha(),"rgb"));const e=bE(...t.rgb()),r=bE(...n.rgb()),s=e>=Z5?e:e+Math.pow(Z5-e,1.414),i=r>=Z5?r:r+Math.pow(Z5-r,1.414),o=Math.pow(i,.56)-Math.pow(s,.57),a=Math.pow(i,.65)-Math.pow(s,.62),l=Math.abs(i-s)<5e-4?0:s<i?1.14*o:1.14*a;return 100*(Math.abs(l)<.1?0:l>0?l-.027:l+.027)},cubehelix:function Qne(t=300,n=-1.5,e=1,r=1,s=[0,1]){let o,i=0;"array"===pr(s)?o=s[1]-s[0]:(o=0,s=[s,s]);const a=function(l){const c=ic*((t+120)/360+n*l),u=Kne(s[0]+o*l,r),d=(0!==i?e[0]+l*i:e)*u*(1-u)/2,p=qne(c),v=Jne(c);return Sr(iC([255*(u+d*(-.14861*p+1.78277*v)),255*(u+d*(-.29227*p-.90649*v)),255*(u+d*(1.97294*p)),1]))};return a.start=function(l){return null==l?t:(t=l,a)},a.rotations=function(l){return null==l?n:(n=l,a)},a.gamma=function(l){return null==l?r:(r=l,a)},a.hue=function(l){return null==l?e:("array"===pr(e=l)?(i=e[1]-e[0],0===i&&(e=e[1])):i=0,a)},a.lightness=function(l){return null==l?s:("array"===pr(l)?(s=l,o=l[1]-l[0]):(s=[l,l],o=0),a)},a.scale=()=>Sr.scale(a),a.hue(e),a},deltaE:function fre(t,n,e=1,r=1,s=1){var i=function(cs){return 360*cs/(2*ME)},o=function(cs){return 2*ME*cs/360};t=new Ft(t),n=new Ft(n);const[a,l,c]=Array.from(t.lab()),[u,h,d]=Array.from(n.lab()),p=(a+u)/2,M=(ac(Ii(l,2)+Ii(c,2))+ac(Ii(h,2)+Ii(d,2)))/2,z=.5*(1-ac(Ii(M,7)/(Ii(M,7)+Ii(25,7)))),B=l*(1+z),pe=h*(1+z),fe=ac(Ii(B,2)+Ii(c,2)),we=ac(Ii(pe,2)+Ii(d,2)),ee=(fe+we)/2,Ie=i(xE(c,B)),De=i(xE(d,pe)),nt=Ie>=0?Ie:Ie+360,rt=De>=0?De:De+360,ft=SE(nt-rt)>180?(nt+rt+360)/2:(nt+rt)/2,tt=1-.17*j5(o(ft-30))+.24*j5(o(2*ft))+.32*j5(o(3*ft+6))-.2*j5(o(4*ft-63));let gt=rt-nt;gt=SE(gt)<=180?gt:rt<=nt?gt+360:gt-360,gt=2*ac(fe*we)*_E(o(gt)/2);const Ht=u-a,Lt=we-fe,St=1+.015*Ii(p-50,2)/ac(20+Ii(p-50,2)),bn=1+.045*ee,rr=1+.015*ee*tt,Jr=30*pre(-Ii((ft-275)/25,2)),jr=-2*ac(Ii(ee,7)/(Ii(ee,7)+Ii(25,7)))*_E(2*o(Jr)),bi=ac(Ii(Ht/(e*St),2)+Ii(Lt/(r*bn),2)+Ii(gt/(s*rr),2)+jr*(Lt/(r*bn))*(gt/(s*rr)));return dre(0,hre(100,bi))},distance:function gre(t,n,e="lab"){t=new Ft(t),n=new Ft(n);const r=t.get(e),s=n.get(e);let i=0;for(let o in r){const a=(r[o]||0)-(s[o]||0);i+=a*a}return Math.sqrt(i)},input:nr,interpolate:d2,limits:CE,mix:d2,random:()=>{let t="#";for(let n=0;n<6;n++)t+="0123456789abcdef".charAt(tre(16*nre()));return new Ft(t,"hex")},scale:W5,scales:mre,valid:(...t)=>{try{return new Ft(...t),!0}catch{return!1}}});const ci=Sr;let Ere=(()=>{class t{static getColor(e){return document.documentElement.style.getPropertyValue(`--color-${e}`)}static generateBgOpacityClasses(e,r,s=[0,10,25,50,75]){const i=ci(r),o=document.createElement("style");o.innerHTML=s.reduce((a,l)=>(a+=`.bg-${e}-opacity-${l}{background-color:${i.alpha(l/100).css()};}`)+`.hover-bg-${e}-opacity-${l}:hover {background-color:${i.alpha(l/100).css()};}`,""),document.getElementsByTagName("head")[0].appendChild(o)}static applyCssVariables(e,r,s,i,o,a,l){const c=(p,v)=>{document.documentElement.style.setProperty(`--color-${p}`,v.css())},u=ci("black"),h=ci("white");c("primary",ci(e)),c("primary-lighter",ci.scale([e,h]).mode("lab")(.3)),c("primary-lightest",ci.scale([e,h]).mode("lab")(.6)),c("primary-white",ci.scale([e,h]).mode("lab")(.85)),c("primary-darker",ci.scale([e,u]).mode("lab")(.3)),c("primary-darkest",ci.scale([e,u]).mode("lab")(.6)),c("primary-black",ci.scale([e,u]).mode("lab")(.85)),c("secondary",ci(r)),c("secondary-lighter",ci.scale([r,h]).mode("lab")(.3)),c("secondary-lightest",ci.scale([r,h]).mode("lab")(.6)),c("secondary-white",ci.scale([r,h]).mode("lab")(.85)),c("secondary-darker",ci.scale([r,u]).mode("lab")(.3)),c("secondary-darkest",ci.scale([r,u]).mode("lab")(.6)),c("secondary-black",ci.scale([r,u]).mode("lab")(.85)),c("main",ci(s)),c("background",ci(i));const d=ci.scale([i,s]).mode("lrgb");if(c("gray-50",d(.05)),c("gray-100",d(.1)),c("gray-200",d(.2)),c("gray-300",d(.3)),c("gray-400",d(.4)),c("gray-500",d(.5)),c("gray-600",d(.6)),c("gray-700",d(.7)),c("gray-800",d(.8)),c("gray-900",d(.9)),c("gray-950",d(.95)),o&&document.documentElement.style.setProperty("--font-family-main",o),a&&document.documentElement.style.setProperty("--font-family-title",a),l){const p=document.createElement("link");p.href=l,p.rel="stylesheet",p.type="text/css",document.head.append(p)}}static generateLabelColor(e,r,s){let i=0;for(let o=0;o<e.length;o++)i+=e.charCodeAt(o);return ci.hsl(i%360,r,s).css()}static setFavicon(e){const r=document.querySelector("link[rel*='icon']")||document.createElement("link");r.rel="icon",r.href=e,document.getElementsByTagName("head")[0].appendChild(r)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();new kt("proxyPath");let Bre=0;var Ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_C={},Y5={},K5={};Object.defineProperty(K5,"__esModule",{value:!0}),K5.StringScanner=void 0;const Fre=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;K5.StringScanner=class Pre{constructor(n){if(this.charCount=this.charLength(n,!0),this.charIndex=0,this.length=n.length,this.multiByteMode=this.charCount!==this.length,this.string=n,this.multiByteMode){let e=[];for(let r=0,s=0;s<this.charCount;++s)e[s]=r,r+=n.codePointAt(r)>65535?2:1;this.charsToBytes=e}}get isEnd(){return this.charIndex>=this.charCount}charLength(n,e=this.multiByteMode){return e?n.replace(Fre,"_").length:n.length}advance(n=1){this.charIndex=Math.min(this.charCount,this.charIndex+n)}charIndexToByteIndex(n=this.charIndex){return this.multiByteMode?this.charsToBytes[n]??1/0:n}consume(n=1){let e=this.peek(n);return this.advance(n),e}consumeMatch(n){if(!n.sticky)throw new Error('`regex` must have a sticky flag ("y")');n.lastIndex=this.charIndexToByteIndex();let e=n.exec(this.string);if(null===e||0===e.length)return"";let r=e[0];return this.advance(this.charLength(r)),r}consumeMatchFn(n){let e,r="";for(;(e=this.peek())&&n(e);)r+=e,this.advance();return r}consumeString(n){if(this.consumeStringFast(n))return n;if(this.multiByteMode){let{length:e}=n,r=this.charLength(n);if(r!==e&&n===this.peek(r))return this.advance(r),n}return""}consumeStringFast(n){let{length:e}=n;return this.peek(e)===n?(this.advance(e),n):""}consumeUntilMatch(n){let e=this.string.slice(this.charIndexToByteIndex()),r=e.search(n);if(r<=0)return"";let s=e.slice(0,r);return this.advance(this.charLength(s)),s}consumeUntilString(n){let{string:e}=this,r=this.charIndexToByteIndex(),s=e.indexOf(n,r);if(s<=0)return"";let i=e.slice(r,s);return this.advance(this.charLength(i)),i}peek(n=1){let{charIndex:e,multiByteMode:r,string:s}=this;return r?e>=this.charCount?"":s.slice(this.charIndexToByteIndex(e),this.charIndexToByteIndex(e+n)):s.slice(e,e+n)}reset(n=0){this.charIndex=n>=0?Math.min(this.charCount,n):Math.max(0,this.charIndex+n)}};var qs={};function $E(t){let n=MC(t);return n>=97&&n<=122||n>=65&&n<=90||n>=48&&n<=57||45===n||46===n||183===n||n>=768&&n<=879||n>=8255&&n<=8256||XE(t,n)}function XE(t,n=MC(t)){return n>=97&&n<=122||n>=65&&n<=90||58===n||95===n||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}function MC(t){return t.codePointAt(0)||-1}Object.defineProperty(qs,"__esModule",{value:!0}),qs.isXmlCodePoint=qs.isWhitespace=qs.isReferenceChar=qs.isNameStartChar=qs.isNameChar=qs.predefinedEntities=qs.endCharData=qs.attValueNormalizedWhitespace=qs.attValueCharSingleQuote=qs.attValueCharDoubleQuote=void 0,qs.attValueCharDoubleQuote=/[^"&<]+/y,qs.attValueCharSingleQuote=/[^'&<]+/y,qs.attValueNormalizedWhitespace=/\r\n|[\n\r\t]/g,qs.endCharData=/<|&|]]>/,qs.predefinedEntities=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'})),qs.isNameChar=$E,qs.isNameStartChar=XE,qs.isReferenceChar=function kre(t){return"#"===t||$E(t)},qs.isWhitespace=function Ore(t){let n=MC(t);return 32===n||9===n||10===n||13===n},qs.isXmlCodePoint=function Gre(t){return 9===t||10===t||13===t||t>=32&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111};var lp={},ra={};Object.defineProperty(ra,"__esModule",{value:!0}),ra.XmlNode=void 0;class Qa{constructor(){this.parent=null,this.start=-1,this.end=-1}get document(){var n;return(null==(n=this.parent)?void 0:n.document)??null}get isRootNode(){return null!==this.parent&&this.parent===this.document&&this.type===Qa.TYPE_ELEMENT}get preserveWhitespace(){var n;return!(null==(n=this.parent)||!n.preserveWhitespace)}get type(){return""}toJSON(){let n={type:this.type};return this.isRootNode&&(n.isRootNode=!0),this.preserveWhitespace&&(n.preserveWhitespace=!0),-1!==this.start&&(n.start=this.start,n.end=this.end),n}}ra.XmlNode=Qa,Qa.TYPE_CDATA="cdata",Qa.TYPE_COMMENT="comment",Qa.TYPE_DOCUMENT="document",Qa.TYPE_DOCUMENT_TYPE="doctype",Qa.TYPE_ELEMENT="element",Qa.TYPE_PROCESSING_INSTRUCTION="pi",Qa.TYPE_TEXT="text",Qa.TYPE_XML_DECLARATION="xmldecl";var C2={};Object.defineProperty(C2,"__esModule",{value:!0}),C2.XmlText=void 0;const HC=ra;C2.XmlText=class Wre extends HC.XmlNode{constructor(n=""){super(),this.text=n}get type(){return HC.XmlNode.TYPE_TEXT}toJSON(){return Object.assign(HC.XmlNode.prototype.toJSON.call(this),{text:this.text})}},Object.defineProperty(lp,"__esModule",{value:!0}),lp.XmlCdata=void 0;const Zre=ra,jre=C2;lp.XmlCdata=class Ure extends jre.XmlText{get type(){return Zre.XmlNode.TYPE_CDATA}};var cp={};Object.defineProperty(cp,"__esModule",{value:!0}),cp.XmlComment=void 0;const zC=ra;cp.XmlComment=class $re extends zC.XmlNode{constructor(n=""){super(),this.content=n}get type(){return zC.XmlNode.TYPE_COMMENT}toJSON(){return Object.assign(zC.XmlNode.prototype.toJSON.call(this),{content:this.content})}};var up={};Object.defineProperty(up,"__esModule",{value:!0}),up.XmlDeclaration=void 0;const VC=ra;up.XmlDeclaration=class Xre extends VC.XmlNode{constructor(n,e,r){super(),this.version=n,this.encoding=e??null,this.standalone=r??null}get type(){return VC.XmlNode.TYPE_XML_DECLARATION}toJSON(){let n=VC.XmlNode.prototype.toJSON.call(this);n.version=this.version;for(let e of["encoding","standalone"])null!==this[e]&&(n[e]=this[e]);return n}};var hp={},y2={};Object.defineProperty(y2,"__esModule",{value:!0}),y2.XmlElement=void 0;const TC=ra;class EC extends TC.XmlNode{constructor(n,e=Object.create(null),r=[]){super(),this.name=n,this.attributes=e,this.children=r}get isEmpty(){return 0===this.children.length}get preserveWhitespace(){let n=this;for(;n instanceof EC;){if("xml:space"in n.attributes)return"preserve"===n.attributes["xml:space"];n=n.parent}return!1}get text(){return this.children.map(n=>"text"in n?n.text:"").join("")}get type(){return TC.XmlNode.TYPE_ELEMENT}toJSON(){return Object.assign(TC.XmlNode.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(n=>n.toJSON())})}}y2.XmlElement=EC,Object.defineProperty(hp,"__esModule",{value:!0}),hp.XmlDocument=void 0;const Yre=y2,LC=ra;hp.XmlDocument=class Kre extends LC.XmlNode{constructor(n=[]){super(),this.children=n}get document(){return this}get root(){for(let n of this.children)if(n instanceof Yre.XmlElement)return n;return null}get text(){return this.children.map(n=>"text"in n?n.text:"").join("")}get type(){return LC.XmlNode.TYPE_DOCUMENT}toJSON(){return Object.assign(LC.XmlNode.prototype.toJSON.call(this),{children:this.children.map(n=>n.toJSON())})}};var dp={};Object.defineProperty(dp,"__esModule",{value:!0}),dp.XmlDocumentType=void 0;const RC=ra;dp.XmlDocumentType=class Jre extends RC.XmlNode{constructor(n,e,r,s){super(),this.name=n,this.publicId=e??null,this.systemId=r??null,this.internalSubset=s??null}get type(){return RC.XmlNode.TYPE_DOCUMENT_TYPE}toJSON(){let n=RC.XmlNode.prototype.toJSON.call(this);n.name=this.name;for(let e of["publicId","systemId","internalSubset"])null!==this[e]&&(n[e]=this[e]);return n}};var pp={};Object.defineProperty(pp,"__esModule",{value:!0}),pp.XmlError=void 0;class qre extends Error{constructor(n,e,r){let s=1,i="",o=1;for(let c=0;c<e;++c){let u=r[c];"\n"===u?(s=1,i="",o+=1):(s+=1,i+=u)}let a=r.indexOf("\n",e);i+=-1===a?r.slice(e):r.slice(e,a);let l=0;i.length>50&&(s<40?i=i.slice(0,50):(l=s-20,i=i.slice(l,s+30))),super(`${n} (line ${o}, column ${s})\n  ${i}\n`+" ".repeat(s-l+1)+"^\n"),this.column=s,this.excerpt=i,this.line=o,this.name="XmlError",this.pos=e}}pp.XmlError=qre;var fp={};Object.defineProperty(fp,"__esModule",{value:!0}),fp.XmlProcessingInstruction=void 0;const DC=ra;fp.XmlProcessingInstruction=class Qre extends DC.XmlNode{constructor(n,e=""){super(),this.name=n,this.content=e}get type(){return DC.XmlNode.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(DC.XmlNode.prototype.toJSON.call(this),{name:this.name,content:this.content})}};var ese=Ll&&Ll.__createBinding||(Object.create?function(t,n,e,r){void 0===r&&(r=e);var s=Object.getOwnPropertyDescriptor(n,e);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(t,r,s)}:function(t,n,e,r){void 0===r&&(r=e),t[r]=n[e]}),tse=Ll&&Ll.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),nse=Ll&&Ll.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&ese(n,t,e);return tse(n,t),n};Object.defineProperty(Y5,"__esModule",{value:!0}),Y5.Parser=void 0;const rse=K5,el=nse(qs),sse=lp,ise=cp,ose=up,ase=hp,lse=dp,cse=y2,use=pp,hse=ra,YE=fp,dse=C2;function J5(t){let n=0;for(;-1!==(n=t.indexOf("\r",n));)t="\n"===t[n+1]?t.slice(0,n)+t.slice(n+1):t.slice(0,n)+"\n"+t.slice(n+1);return t}Y5.Parser=class pse{constructor(n,e={}){let r=this.document=new ase.XmlDocument,s=this.scanner=new rse.StringScanner(n);if(this.currentNode=r,this.options=e,this.options.includeOffsets&&(r.start=0,r.end=n.length),s.consumeStringFast("\ufeff"),this.consumeProlog(),!this.consumeElement())throw this.error("Root element is missing or invalid");for(;this.consumeMisc(););if(!s.isEnd)throw this.error("Extra content at the end of the document")}addNode(n,e){return n.parent=this.currentNode,this.options.includeOffsets&&(n.start=this.scanner.charIndexToByteIndex(e),n.end=this.scanner.charIndexToByteIndex()),this.currentNode.children.push(n),!0}addText(n,e){let{children:r}=this.currentNode,{length:s}=r;if(n=J5(n),s>0){let i=r[s-1];if(i?.type===hse.XmlNode.TYPE_TEXT){let o=i;return o.text+=n,this.options.includeOffsets&&(o.end=this.scanner.charIndexToByteIndex()),!0}}return this.addNode(new dse.XmlText(n),e)}consumeAttributes(){let n=Object.create(null);for(;this.consumeWhitespace();){let e=this.consumeName();if(!e)break;let r=this.consumeEqual()&&this.consumeAttributeValue();if(!1===r)throw this.error("Attribute value expected");if(e in n)throw this.error(`Duplicate attribute: ${e}`);if("xml:space"===e&&"default"!==r&&"preserve"!==r)throw this.error('Value of the `xml:space` attribute must be "default" or "preserve"');n[e]=r}if(this.options.sortAttributes){let e=Object.keys(n).sort(),r=Object.create(null);for(let s=0;s<e.length;++s){let i=e[s];r[i]=n[i]}n=r}return n}consumeAttributeValue(){let{scanner:n}=this,e=n.peek();if('"'!==e&&"'"!==e)return!1;n.advance();let r,s=!1,i="",o='"'===e?el.attValueCharDoubleQuote:el.attValueCharSingleQuote;e:for(;!n.isEnd;)switch(r=n.consumeMatch(o),r&&(this.validateChars(r),i+=r.replace(el.attValueNormalizedWhitespace," ")),n.peek()){case e:s=!0;break e;case"&":i+=this.consumeReference();continue;case"<":throw this.error("Unescaped `<` is not allowed in an attribute value");case"":break e}if(!s)throw this.error("Unclosed attribute");return n.advance(),i}consumeCdataSection(){let{scanner:n}=this,e=n.charIndex;if(!n.consumeStringFast("<![CDATA["))return!1;let r=n.consumeUntilString("]]>");if(this.validateChars(r),!n.consumeStringFast("]]>"))throw this.error("Unclosed CDATA section");return this.options.preserveCdata?this.addNode(new sse.XmlCdata(J5(r)),e):this.addText(r,e)}consumeCharData(){let{scanner:n}=this,e=n.charIndex,r=n.consumeUntilMatch(el.endCharData);if(!r)return!1;if(this.validateChars(r),"]]>"===n.peek(3))throw this.error("Element content may not contain the CDATA section close delimiter `]]>`");return this.addText(r,e)}consumeComment(){let{scanner:n}=this,e=n.charIndex;if(!n.consumeStringFast("\x3c!--"))return!1;let r=n.consumeUntilString("--");if(this.validateChars(r),!n.consumeStringFast("--\x3e"))throw"--"===n.peek(2)?this.error("The string `--` isn't allowed inside a comment"):this.error("Unclosed comment");return!this.options.preserveComments||this.addNode(new ise.XmlComment(J5(r)),e)}consumeContentReference(){let n=this.scanner.charIndex,e=this.consumeReference();return!!e&&this.addText(e,n)}consumeDoctypeDeclaration(){let{scanner:n}=this,e=n.charIndex;if(!n.consumeStringFast("<!DOCTYPE"))return!1;let s,i,o,r=this.consumeWhitespace()&&this.consumeName();if(!r)throw this.error("Expected a name");if(this.consumeWhitespace()){if(n.consumeStringFast("PUBLIC")){if(s=this.consumeWhitespace()&&this.consumePubidLiteral(),!1===s)throw this.error("Expected a public identifier");this.consumeWhitespace()}if(void 0!==s||n.consumeStringFast("SYSTEM")){if(this.consumeWhitespace(),i=this.consumeSystemLiteral(),!1===i)throw this.error("Expected a system identifier");this.consumeWhitespace()}}if(n.consumeStringFast("[")){if(o=n.consumeUntilMatch(/\][\x20\t\r\n]*>/),!n.consumeStringFast("]"))throw this.error("Unclosed internal subset");this.consumeWhitespace()}if(!n.consumeStringFast(">"))throw this.error("Unclosed doctype declaration");return!this.options.preserveDocumentType||this.addNode(new lse.XmlDocumentType(r,s,i,o),e)}consumeElement(){let{scanner:n}=this,e=n.charIndex;if(!n.consumeStringFast("<"))return!1;let r=this.consumeName();if(!r)return n.reset(e),!1;let s=this.consumeAttributes(),i=!!n.consumeStringFast("/>"),o=new cse.XmlElement(r,s);if(o.parent=this.currentNode,!i){if(!n.consumeStringFast(">"))throw this.error(`Unclosed start tag for element \`${r}\``);this.currentNode=o;do{this.consumeCharData()}while(this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment());let l,a=n.charIndex;if(!n.consumeStringFast("</")||!(l=this.consumeName())||l!==r)throw n.reset(a),this.error(`Missing end tag for element ${r}`);if(this.consumeWhitespace(),!n.consumeStringFast(">"))throw this.error(`Unclosed end tag for element ${r}`);this.currentNode=o.parent}return this.addNode(o,e)}consumeEqual(){return this.consumeWhitespace(),!!this.scanner.consumeStringFast("=")&&(this.consumeWhitespace(),!0)}consumeMisc(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}consumeName(){return el.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(el.isNameChar):""}consumeProcessingInstruction(){let{scanner:n}=this,e=n.charIndex;if(!n.consumeStringFast("<?"))return!1;let r=this.consumeName();if(!r)throw this.error("Invalid processing instruction");if("xml"===r.toLowerCase())throw n.reset(e),this.error("XML declaration isn't allowed here");if(!this.consumeWhitespace()){if(n.consumeStringFast("?>"))return this.addNode(new YE.XmlProcessingInstruction(r),e);throw this.error("Whitespace is required after a processing instruction name")}let s=n.consumeUntilString("?>");if(this.validateChars(s),!n.consumeStringFast("?>"))throw this.error("Unterminated processing instruction");return this.addNode(new YE.XmlProcessingInstruction(r,J5(s)),e)}consumeProlog(){let{scanner:n}=this,e=n.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return e<n.charIndex}consumePubidLiteral(){let n=this.scanner.charIndex,e=this.consumeSystemLiteral();if(!1!==e&&!/^[-\x20\r\na-zA-Z0-9'()+,./:=?;!*#@$_%]*$/.test(e))throw this.scanner.reset(n),this.error("Invalid character in public identifier");return e}consumeReference(){let{scanner:n}=this;if(!n.consumeStringFast("&"))return!1;let r,e=n.consumeMatchFn(el.isReferenceChar);if(";"!==n.consume())throw this.error("Unterminated reference (a reference must end with `;`)");if("#"===e[0]){let s="x"===e[1]?parseInt(e.slice(2),16):parseInt(e.slice(1),10);if(isNaN(s))throw this.error("Invalid character reference");if(!el.isXmlCodePoint(s))throw this.error("Character reference resolves to an invalid character");r=String.fromCodePoint(s)}else if(r=el.predefinedEntities[e],void 0===r){let{ignoreUndefinedEntities:s,resolveUndefinedEntity:i}=this.options,o=`&${e};`;if(i){let a=i(o);if(null!=a){let l=typeof a;if("string"!==l)throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${l}`);return a}}if(s)return o;throw n.reset(-o.length),this.error(`Named entity isn't defined: ${o}`)}return r}consumeSystemLiteral(){let{scanner:n}=this,e=n.consumeStringFast('"')||n.consumeStringFast("'");if(!e)return!1;let r=n.consumeUntilString(e);if(this.validateChars(r),!n.consumeStringFast(e))throw this.error("Missing end quote");return r}consumeWhitespace(){return!!this.scanner.consumeMatchFn(el.isWhitespace)}consumeXmlDeclaration(){let{scanner:n}=this,e=n.charIndex;if(!n.consumeStringFast("<?xml"))return!1;if(!this.consumeWhitespace())throw this.error("Invalid XML declaration");let s,i,r=!!n.consumeStringFast("version")&&this.consumeEqual()&&this.consumeSystemLiteral();if(!1===r)throw this.error("XML version is missing or invalid");if(!/^1\.[0-9]+$/.test(r))throw this.error("Invalid character in version number");if(this.consumeWhitespace()&&(s=!!n.consumeStringFast("encoding")&&this.consumeEqual()&&this.consumeSystemLiteral(),s&&this.consumeWhitespace(),i=!!n.consumeStringFast("standalone")&&this.consumeEqual()&&this.consumeSystemLiteral(),i)){if("yes"!==i&&"no"!==i)throw this.error('Only "yes" and "no" are permitted as values of `standalone`');this.consumeWhitespace()}if(!n.consumeStringFast("?>"))throw this.error("Invalid or unclosed XML declaration");return!this.options.preserveXmlDeclaration||this.addNode(new ose.XmlDeclaration(r,s||void 0,i||void 0),e)}error(n){let{scanner:e}=this;return new use.XmlError(n,e.charIndex,e.string)}validateChars(n){let{length:e}=n;for(let r=0;r<e;++r){let s=n.codePointAt(r);if(!el.isXmlCodePoint(s))throw this.scanner.reset(-([...n].length-r)),this.error("Invalid character");s>65535&&(r+=1)}}};var KE={};Object.defineProperty(KE,"__esModule",{value:!0}),function(t){var n=Ll&&Ll.__createBinding||(Object.create?function(b,M,z,B){void 0===B&&(B=z);var pe=Object.getOwnPropertyDescriptor(M,z);(!pe||("get"in pe?!M.__esModule:pe.writable||pe.configurable))&&(pe={enumerable:!0,get:function(){return M[z]}}),Object.defineProperty(b,B,pe)}:function(b,M,z,B){void 0===B&&(B=z),b[B]=M[z]}),e=Ll&&Ll.__exportStar||function(b,M){for(var z in b)"default"!==z&&!Object.prototype.hasOwnProperty.call(M,z)&&n(M,b,z)};Object.defineProperty(t,"__esModule",{value:!0}),t.parseXml=t.XmlText=t.XmlProcessingInstruction=t.XmlNode=t.XmlError=t.XmlElement=t.XmlDocumentType=t.XmlDocument=t.XmlDeclaration=t.XmlComment=t.XmlCdata=void 0;const r=Y5;e(KE,t);var s=lp;Object.defineProperty(t,"XmlCdata",{enumerable:!0,get:function(){return s.XmlCdata}});var i=cp;Object.defineProperty(t,"XmlComment",{enumerable:!0,get:function(){return i.XmlComment}});var o=up;Object.defineProperty(t,"XmlDeclaration",{enumerable:!0,get:function(){return o.XmlDeclaration}});var a=hp;Object.defineProperty(t,"XmlDocument",{enumerable:!0,get:function(){return a.XmlDocument}});var l=dp;Object.defineProperty(t,"XmlDocumentType",{enumerable:!0,get:function(){return l.XmlDocumentType}});var c=y2;Object.defineProperty(t,"XmlElement",{enumerable:!0,get:function(){return c.XmlElement}});var u=pp;Object.defineProperty(t,"XmlError",{enumerable:!0,get:function(){return u.XmlError}});var h=ra;Object.defineProperty(t,"XmlNode",{enumerable:!0,get:function(){return h.XmlNode}});var d=fp;Object.defineProperty(t,"XmlProcessingInstruction",{enumerable:!0,get:function(){return d.XmlProcessingInstruction}});var p=C2;Object.defineProperty(t,"XmlText",{enumerable:!0,get:function(){return p.XmlText}}),t.parseXml=function v(b,M){return new r.Parser(b,M).document}}(_C);class fse extends Error{constructor(n){super(n)}}function za(t){const n=t.indexOf(":");return n>-1?t.substr(n+1):t}function Ss(t){return t.children[0]}function Rl(t){return t.name||""}function Pn(t,n,e=!1){const r=za(n);return t&&Array.isArray(t.children)?t.children.reduce(function s(i,o){return za(Rl(o))===r&&i.push(o),e&&Array.isArray(o.children)?[...i,...o.children.reduce(s,[])]:i},[]):[]}function Oe(t,n,e=!1){return Pn(t,n,e)[0]||null}function Dl(t){return t&&Array.isArray(t.children)?[...t.children.filter(n=>n instanceof _C.XmlElement)]:[]}function bt(t){const n=t&&Array.isArray(t.children)?t.children.find(e=>"text"===e.type):null;return n?n.text:""}function Xt(t,n){return t&&t.attributes[n]||""}class er extends Error{constructor(n,e,r){super(n),this.httpStatus=e,this.isCrossOriginRelated=r,this.name="EndpointError"}}class NC extends Error{constructor(n,e,r,s,i){super(n),this.requestUrl=e,this.code=r,this.locator=s,this.response=i,this.name="ServiceExceptionError"}}function qE(t,n){const e=Xt(t,"code")||Xt(t,"exceptionCode"),r=Xt(t,"locator"),i=bt(Oe(t,"ExceptionText")||t).trim();return new NC(i,n,e,r,t.document)}function FC(t,n){const e=Ss(t),r=za(Rl(e));if("ServiceExceptionReport"===r){const s=Oe(e,"ServiceException");if(s)throw qE(s,n)}if("ExceptionReport"===r){const s=Oe(e,"Exception");if(s)throw qE(s,n)}return t}const gp=new EventTarget;function mp(t,n,e){const r=typeof WorkerGlobalScope<"u",s=function(){var i=(0,qo.A)(function*(o){if(o.taskName===t){let a,l;try{a=yield e(o.params)}catch(u){l=function gse(t){const n={message:t.message,stack:t.stack,name:t.name};return t instanceof NC?{...n,code:t.code,locator:t.locator,response:t.response,requestUrl:t.requestUrl}:t instanceof er?{...n,httpStatus:t.httpStatus,isCrossOriginRelated:t.isCrossOriginRelated}:n}(u)}const c={taskName:t,requestId:o.requestId,...a&&{response:a},...l&&{error:l}};r?n.postMessage(c):gp.dispatchEvent(new CustomEvent("ogc-client.response",{detail:c}))}});return function(a){return i.apply(this,arguments)}}();r?n.addEventListener("message",i=>s(i.data)):gp.addEventListener("ogc-client.request",i=>s(i.detail))}const QE=["utf-8","utf-16","iso-8859-1"],q5=new Map;let PC={},wp=null;function tL(){return PC}function I2(t){return function Q5(t,n="GET",e,r){let s=`${n}#${t}`;if((e||r)&&(s=`${n}#asJson#${t}`),q5.has(s))return q5.get(s);const i={...tL()};i.method=n,r?(i.headers="headers"in i?i.headers:{},i.headers.Accept=r):e&&(i.headers="headers"in i?i.headers:{},i.headers.Accept="application/json,application/schema+json");const o=fetch(t,i).catch(a=>a).then(a=>(q5.delete(s),a));return q5.set(s,o),o.then(a=>{if(a instanceof Error)throw a;return a.clone()})}(t).catch(()=>fetch(t,{...tL(),method:"HEAD",mode:"no-cors"}).catch(n=>{throw new er(`Fetching the document failed either due to network errors or unreachable host, error is: ${n.message}`,0,!1)}).then(()=>{throw new er("The document could not be fetched due to CORS limitations",0,!0)})).then(function(){var n=(0,qo.A)(function*(e){if(!e.ok){const i=yield e.text();throw new er(`Received an error with code ${e.status}: ${i}`,e.status,!1)}return function wse(t,n){const e=n?function mse(t){const n=/charset=([^;]+)/.exec(t);return n?n[1]:null}(n):null,r=e?[e,...QE]:QE;for(const s of r)try{return new TextDecoder(s,{fatal:!0}).decode(t)}catch{}return console.warn("[ogc-client] XML document encoding could not be determined, falling back to utf-8."),new TextDecoder("utf-8").decode(t)}(yield e.arrayBuffer(),e.headers.get("Content-Type"))});return function(e){return n.apply(this,arguments)}}()).then(n=>function JE(t){let n=null;try{n=_C.parseXml(t)}catch(e){throw new fse(e.message)}return n}(n))}function Bl(t,n){const e=t.match(/(https?%3A%2F%2F[^/]+)$/);if(e){const a=e[1],l=Bl(decodeURIComponent(a),n);return t.replace(a,encodeURIComponent(l))}const r=new URL(t),s=Object.keys(n),i=s.map(a=>a.toLowerCase()),o=[];for(const a of r.searchParams.keys())i.indexOf(a.toLowerCase())>-1&&o.push(a);return o.map(a=>r.searchParams.delete(a)),s.forEach(a=>r.searchParams.set(a,!0===n[a]?"":n[a])),r.search=r.search.replace(/\+/g,"%20"),r.toString()}const nL="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICAvKiEgQHJncm92ZS9wYXJzZS14bWwgdjQuMS4wIHwgSVNDIExpY2Vuc2UgfCBDb3B5cmlnaHQgUnlhbiBHcm92ZSAqLwogIHZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7CiAgdmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOwogIHZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzOwogIHZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5OwogIHZhciBfX2V4cG9ydCA9ICh0YXJnZXQsIGFsbCkgPT4gewogICAgZm9yICh2YXIgbmFtZSBpbiBhbGwpCiAgICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7CiAgfTsKICB2YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20sIGV4Y2VwdCwgZGVzYykgPT4gewogICAgaWYgKGZyb20gJiYgdHlwZW9mIGZyb20gPT09ICJvYmplY3QiIHx8IHR5cGVvZiBmcm9tID09PSAiZnVuY3Rpb24iKSB7CiAgICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhmcm9tKSkKICAgICAgICBpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KQogICAgICAgICAgX19kZWZQcm9wKHRvLCBrZXksIHsgZ2V0OiAoKSA9PiBmcm9tW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlIH0pOwogICAgfQogICAgcmV0dXJuIHRvOwogIH07CiAgdmFyIF9fdG9Db21tb25KUyA9IChtb2QpID0+IF9fY29weVByb3BzKF9fZGVmUHJvcCh7fSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pLCBtb2QpOwogIHZhciBzcmNfZXhwb3J0cyA9IHt9OwogIF9fZXhwb3J0KHNyY19leHBvcnRzLCB7CiAgICBYbWxDZGF0YTogKCkgPT4gWG1sQ2RhdGEsCiAgICBYbWxDb21tZW50OiAoKSA9PiBYbWxDb21tZW50LAogICAgWG1sRGVjbGFyYXRpb246ICgpID0+IFhtbERlY2xhcmF0aW9uLAogICAgWG1sRG9jdW1lbnQ6ICgpID0+IFhtbERvY3VtZW50LAogICAgWG1sRG9jdW1lbnRUeXBlOiAoKSA9PiBYbWxEb2N1bWVudFR5cGUsCiAgICBYbWxFbGVtZW50OiAoKSA9PiBYbWxFbGVtZW50LAogICAgWG1sRXJyb3I6ICgpID0+IFhtbEVycm9yLAogICAgWG1sTm9kZTogKCkgPT4gWG1sTm9kZSwKICAgIFhtbFByb2Nlc3NpbmdJbnN0cnVjdGlvbjogKCkgPT4gWG1sUHJvY2Vzc2luZ0luc3RydWN0aW9uLAogICAgWG1sVGV4dDogKCkgPT4gWG1sVGV4dCwKICAgIHBhcnNlWG1sOiAoKSA9PiBwYXJzZVhtbAogIH0pOwogIHZhciBicm93c2VyID0gX190b0NvbW1vbkpTKHNyY19leHBvcnRzKTsKICB2YXIgZW1wdHlTdHJpbmcgPSAiIjsKICB2YXIgc3Vycm9nYXRlUGFpciA9IC9bXHVEODAwLVx1REJGRl1bXHVEQzAwLVx1REZGRl0vZzsKICB2YXIgU3RyaW5nU2Nhbm5lciA9IGNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKHN0cmluZykgewogICAgICB0aGlzLmsgPSB0aGlzLnEoc3RyaW5nLCB0cnVlKTsKICAgICAgdGhpcy5kID0gMDsKICAgICAgdGhpcy5sZW5ndGggPSBzdHJpbmcubGVuZ3RoOwogICAgICB0aGlzLm4gPSB0aGlzLmsgIT09IHRoaXMubGVuZ3RoOwogICAgICB0aGlzLm0gPSBzdHJpbmc7CiAgICAgIGlmICh0aGlzLm4pIHsKICAgICAgICBsZXQgY2hhcnNUb0J5dGVzID0gW107CiAgICAgICAgZm9yIChsZXQgYnl0ZUluZGV4ID0gMCwgY2hhckluZGV4ID0gMDsgY2hhckluZGV4IDwgdGhpcy5rOyArK2NoYXJJbmRleCkgewogICAgICAgICAgY2hhcnNUb0J5dGVzW2NoYXJJbmRleF0gPSBieXRlSW5kZXg7CiAgICAgICAgICBieXRlSW5kZXggKz0gc3RyaW5nLmNvZGVQb2ludEF0KGJ5dGVJbmRleCkgPiA2NTUzNSA/IDIgOiAxOwogICAgICAgIH0KICAgICAgICB0aGlzLnkgPSBjaGFyc1RvQnl0ZXM7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogV2hldGhlciB0aGUgY3VycmVudCBjaGFyYWN0ZXIgaW5kZXggaXMgYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgc3RyaW5nLgogICAgICovCiAgICBnZXQgeigpIHsKICAgICAgcmV0dXJuIHRoaXMuZCA+PSB0aGlzLms7CiAgICB9CiAgICAvLyAtLSBQcm90ZWN0ZWQgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgaW4gdGhlIGdpdmVuIHN0cmluZywgd2hpY2ggbWF5IGRpZmZlciBmcm9tCiAgICAgKiB0aGUgYnl0ZSBsZW5ndGggaWYgdGhlIHN0cmluZyBjb250YWlucyBtdWx0aWJ5dGUgY2hhcmFjdGVycy4KICAgICAqLwogICAgcShzdHJpbmcsIG11bHRpQnl0ZVNhZmUgPSB0aGlzLm4pIHsKICAgICAgcmV0dXJuIG11bHRpQnl0ZVNhZmUgPyBzdHJpbmcucmVwbGFjZShzdXJyb2dhdGVQYWlyLCAiXyIpLmxlbmd0aCA6IHN0cmluZy5sZW5ndGg7CiAgICB9CiAgICAvLyAtLSBQdWJsaWMgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8qKgogICAgICogQWR2YW5jZXMgdGhlIHNjYW5uZXIgYnkgdGhlIGdpdmVuIG51bWJlciBvZiBjaGFyYWN0ZXJzLCBzdG9wcGluZyBpZiB0aGUgZW5kCiAgICAgKiBvZiB0aGUgc3RyaW5nIGlzIHJlYWNoZWQuCiAgICAgKi8KICAgIGcoY291bnQgPSAxKSB7CiAgICAgIHRoaXMuZCA9IE1hdGgubWluKHRoaXMuaywgdGhpcy5kICsgY291bnQpOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBieXRlIGluZGV4IG9mIHRoZSBnaXZlbiBjaGFyYWN0ZXIgaW5kZXggaW4gdGhlIHN0cmluZy4gVGhlIHR3bwogICAgICogbWF5IGRpZmZlciBpbiBzdHJpbmdzIHRoYXQgY29udGFpbiBtdWx0aWJ5dGUgY2hhcmFjdGVycy4KICAgICAqLwogICAgaShjaGFySW5kZXggPSB0aGlzLmQpIHsKICAgICAgdmFyIF9hOwogICAgICByZXR1cm4gdGhpcy5uID8gKF9hID0gdGhpcy55W2NoYXJJbmRleF0pICE9IG51bGwgPyBfYSA6IEluZmluaXR5IDogY2hhckluZGV4OwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhbmQgcmV0dXJucyB0aGUgZ2l2ZW4gbnVtYmVyIG9mIGNoYXJhY3RlcnMgaWYgcG9zc2libGUsIGFkdmFuY2luZwogICAgICogdGhlIHNjYW5uZXIgYW5kIHN0b3BwaW5nIGlmIHRoZSBlbmQgb2YgdGhlIHN0cmluZyBpcyByZWFjaGVkLgogICAgICoKICAgICAqIElmIG5vIGNoYXJhY3RlcnMgY291bGQgYmUgY29uc3VtZWQsIGFuIGVtcHR5IHN0cmluZyB3aWxsIGJlIHJldHVybmVkLgogICAgICovCiAgICBGKGNvdW50ID0gMSkgewogICAgICBsZXQgY2hhcnMgPSB0aGlzLmgoY291bnQpOwogICAgICB0aGlzLmcoY291bnQpOwogICAgICByZXR1cm4gY2hhcnM7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgbWF0Y2ggZm9yIHRoZSBnaXZlbiBzdGlja3kgcmVnZXgsIGFkdmFuY2VzIHRoZSBzY2FubmVyLCB1cGRhdGVzCiAgICAgKiB0aGUgYGxhc3RJbmRleGAgcHJvcGVydHkgb2YgdGhlIHJlZ2V4LCBhbmQgcmV0dXJucyB0aGUgbWF0Y2hpbmcgc3RyaW5nLgogICAgICoKICAgICAqIFRoZSByZWdleCBtdXN0IGhhdmUgYSBzdGlja3kgZmxhZyAoInkiKSBzbyB0aGF0IGl0cyBgbGFzdEluZGV4YCBwcm9wIGNhbiBiZQogICAgICogdXNlZCB0byBhbmNob3IgdGhlIG1hdGNoIGF0IHRoZSBjdXJyZW50IHNjYW5uZXIgcG9zaXRpb24uCiAgICAgKgogICAgICogUmV0dXJucyB0aGUgY29uc3VtZWQgc3RyaW5nLCBvciBhbiBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgY29uc3VtZWQuCiAgICAgKi8KICAgIEcocmVnZXgpIHsKICAgICAgaWYgKCFyZWdleC5zdGlja3kpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ByZWdleGAgbXVzdCBoYXZlIGEgc3RpY2t5IGZsYWcgKCJ5IiknKTsKICAgICAgfQogICAgICByZWdleC5sYXN0SW5kZXggPSB0aGlzLmkoKTsKICAgICAgbGV0IHJlc3VsdCA9IHJlZ2V4LmV4ZWModGhpcy5tKTsKICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIGVtcHR5U3RyaW5nOwogICAgICB9CiAgICAgIGxldCBtYXRjaCA9IHJlc3VsdFswXTsKICAgICAgdGhpcy5nKHRoaXMucShtYXRjaCkpOwogICAgICByZXR1cm4gbWF0Y2g7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGFuZCByZXR1cm5zIGFsbCBjaGFyYWN0ZXJzIGZvciB3aGljaCB0aGUgZ2l2ZW4gZnVuY3Rpb24gcmV0dXJucyBhCiAgICAgKiB0cnV0aHkgdmFsdWUsIHN0b3BwaW5nIG9uIHRoZSBmaXJzdCBmYWxzeSByZXR1cm4gdmFsdWUgb3IgaWYgdGhlIGVuZCBvZiB0aGUKICAgICAqIGlucHV0IGlzIHJlYWNoZWQuCiAgICAgKi8KICAgIHYoZm4pIHsKICAgICAgbGV0IGNoYXI7CiAgICAgIGxldCBtYXRjaCA9IGVtcHR5U3RyaW5nOwogICAgICB3aGlsZSAoKGNoYXIgPSB0aGlzLmgoKSkgJiYgZm4oY2hhcikpIHsKICAgICAgICBtYXRjaCArPSBjaGFyOwogICAgICAgIHRoaXMuZygpOwogICAgICB9CiAgICAgIHJldHVybiBtYXRjaDsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgdGhlIGdpdmVuIHN0cmluZyBpZiBpdCBleGlzdHMgYXQgdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGluZGV4LCBhbmQKICAgICAqIGFkdmFuY2VzIHRoZSBzY2FubmVyLgogICAgICoKICAgICAqIElmIHRoZSBnaXZlbiBzdHJpbmcgZG9lc24ndCBleGlzdCBhdCB0aGUgY3VycmVudCBjaGFyYWN0ZXIgaW5kZXgsIGFuIGVtcHR5CiAgICAgKiBzdHJpbmcgd2lsbCBiZSByZXR1cm5lZCBhbmQgdGhlIHNjYW5uZXIgd2lsbCBub3QgYmUgYWR2YW5jZWQuCiAgICAgKi8KICAgIFEoc3RyaW5nVG9Db25zdW1lKSB7CiAgICAgIGlmICh0aGlzLmIoc3RyaW5nVG9Db25zdW1lKSkgewogICAgICAgIHJldHVybiBzdHJpbmdUb0NvbnN1bWU7CiAgICAgIH0KICAgICAgaWYgKHRoaXMubikgewogICAgICAgIGxldCB7IGxlbmd0aCB9ID0gc3RyaW5nVG9Db25zdW1lOwogICAgICAgIGxldCBjaGFyTGVuZ3RoVG9NYXRjaCA9IHRoaXMucShzdHJpbmdUb0NvbnN1bWUpOwogICAgICAgIGlmIChjaGFyTGVuZ3RoVG9NYXRjaCAhPT0gbGVuZ3RoICYmIHN0cmluZ1RvQ29uc3VtZSA9PT0gdGhpcy5oKGNoYXJMZW5ndGhUb01hdGNoKSkgewogICAgICAgICAgdGhpcy5nKGNoYXJMZW5ndGhUb01hdGNoKTsKICAgICAgICAgIHJldHVybiBzdHJpbmdUb0NvbnN1bWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBlbXB0eVN0cmluZzsKICAgIH0KICAgIC8qKgogICAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBgY29uc3VtZVN0cmluZygpYCwgYnV0IGRvZXNuJ3Qgc3VwcG9ydCBjb25zdW1pbmcKICAgICAqIG11bHRpYnl0ZSBjaGFyYWN0ZXJzLiBUaGlzIGNhbiBiZSBmYXN0ZXIgaWYgeW91IG9ubHkgbmVlZCB0byBtYXRjaCBzaW5nbGUKICAgICAqIGJ5dGUgY2hhcmFjdGVycy4KICAgICAqLwogICAgYihzdHJpbmdUb0NvbnN1bWUpIHsKICAgICAgbGV0IHsgbGVuZ3RoIH0gPSBzdHJpbmdUb0NvbnN1bWU7CiAgICAgIGlmICh0aGlzLmgobGVuZ3RoKSA9PT0gc3RyaW5nVG9Db25zdW1lKSB7CiAgICAgICAgdGhpcy5nKGxlbmd0aCk7CiAgICAgICAgcmV0dXJuIHN0cmluZ1RvQ29uc3VtZTsKICAgICAgfQogICAgICByZXR1cm4gZW1wdHlTdHJpbmc7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGNoYXJhY3RlcnMgdW50aWwgdGhlIGdpdmVuIGdsb2JhbCByZWdleCBpcyBtYXRjaGVkLCBhZHZhbmNpbmcgdGhlCiAgICAgKiBzY2FubmVyIHVwIHRvIChidXQgbm90IGJleW9uZCkgdGhlIGJlZ2lubmluZyBvZiB0aGUgbWF0Y2guIElmIHRoZSByZWdleAogICAgICogZG9lc24ndCBtYXRjaCwgbm90aGluZyB3aWxsIGJlIGNvbnN1bWVkLgogICAgICoKICAgICAqIFJldHVybnMgdGhlIGNvbnN1bWVkIHN0cmluZywgb3IgYW4gZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIGNvbnN1bWVkLgogICAgICovCiAgICBBKHJlZ2V4KSB7CiAgICAgIGxldCByZXN0T2ZTdHJpbmcgPSB0aGlzLm0uc2xpY2UodGhpcy5pKCkpOwogICAgICBsZXQgbWF0Y2hCeXRlSW5kZXggPSByZXN0T2ZTdHJpbmcuc2VhcmNoKHJlZ2V4KTsKICAgICAgaWYgKG1hdGNoQnl0ZUluZGV4IDw9IDApIHsKICAgICAgICByZXR1cm4gZW1wdHlTdHJpbmc7CiAgICAgIH0KICAgICAgbGV0IHJlc3VsdCA9IHJlc3RPZlN0cmluZy5zbGljZSgwLCBtYXRjaEJ5dGVJbmRleCk7CiAgICAgIHRoaXMuZyh0aGlzLnEocmVzdWx0KSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGNoYXJhY3RlcnMgdW50aWwgdGhlIGdpdmVuIHN0cmluZyBpcyBmb3VuZCwgYWR2YW5jaW5nIHRoZSBzY2FubmVyCiAgICAgKiB1cCB0byAoYnV0IG5vdCBiZXlvbmQpIHRoYXQgcG9pbnQuIElmIHRoZSBzdHJpbmcgaXMgbmV2ZXIgZm91bmQsIG5vdGhpbmcKICAgICAqIHdpbGwgYmUgY29uc3VtZWQuCiAgICAgKgogICAgICogUmV0dXJucyB0aGUgY29uc3VtZWQgc3RyaW5nLCBvciBhbiBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgY29uc3VtZWQuCiAgICAgKi8KICAgIHQoc2VhcmNoU3RyaW5nKSB7CiAgICAgIGxldCB7IG06IHN0cmluZyB9ID0gdGhpczsKICAgICAgbGV0IGJ5dGVJbmRleCA9IHRoaXMuaSgpOwogICAgICBsZXQgbWF0Y2hCeXRlSW5kZXggPSBzdHJpbmcuaW5kZXhPZihzZWFyY2hTdHJpbmcsIGJ5dGVJbmRleCk7CiAgICAgIGlmIChtYXRjaEJ5dGVJbmRleCA8PSAwKSB7CiAgICAgICAgcmV0dXJuIGVtcHR5U3RyaW5nOwogICAgICB9CiAgICAgIGxldCByZXN1bHQgPSBzdHJpbmcuc2xpY2UoYnl0ZUluZGV4LCBtYXRjaEJ5dGVJbmRleCk7CiAgICAgIHRoaXMuZyh0aGlzLnEocmVzdWx0KSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGdpdmVuIG51bWJlciBvZiBjaGFyYWN0ZXJzIHN0YXJ0aW5nIGF0IHRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICogaW5kZXgsIHdpdGhvdXQgYWR2YW5jaW5nIHRoZSBzY2FubmVyIGFuZCB3aXRob3V0IGV4Y2VlZGluZyB0aGUgZW5kIG9mIHRoZQogICAgICogaW5wdXQgc3RyaW5nLgogICAgICovCiAgICBoKGNvdW50ID0gMSkgewogICAgICBsZXQgeyBkOiBjaGFySW5kZXgsIG46IG11bHRpQnl0ZU1vZGUsIG06IHN0cmluZyB9ID0gdGhpczsKICAgICAgaWYgKG11bHRpQnl0ZU1vZGUpIHsKICAgICAgICBpZiAoY2hhckluZGV4ID49IHRoaXMuaykgewogICAgICAgICAgcmV0dXJuIGVtcHR5U3RyaW5nOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKAogICAgICAgICAgdGhpcy5pKGNoYXJJbmRleCksCiAgICAgICAgICB0aGlzLmkoY2hhckluZGV4ICsgY291bnQpCiAgICAgICAgKTsKICAgICAgfQogICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKGNoYXJJbmRleCwgY2hhckluZGV4ICsgY291bnQpOwogICAgfQogICAgLyoqCiAgICAgKiBSZXNldHMgdGhlIHNjYW5uZXIgcG9zaXRpb24gdG8gdGhlIGdpdmVuIGNoYXJhY3RlciBfaW5kZXhfLCBvciB0byB0aGUgc3RhcnQKICAgICAqIG9mIHRoZSBpbnB1dCBzdHJpbmcgaWYgbm8gaW5kZXggaXMgZ2l2ZW4uCiAgICAgKgogICAgICogSWYgX2luZGV4XyBpcyBuZWdhdGl2ZSwgdGhlIHNjYW5uZXIgcG9zaXRpb24gd2lsbCBiZSBtb3ZlZCBiYWNrd2FyZCBieSB0aGF0CiAgICAgKiBtYW55IGNoYXJhY3RlcnMsIHN0b3BwaW5nIGlmIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHN0cmluZyBpcyByZWFjaGVkLgogICAgICovCiAgICBvKGluZGV4ID0gMCkgewogICAgICB0aGlzLmQgPSBpbmRleCA+PSAwID8gTWF0aC5taW4odGhpcy5rLCBpbmRleCkgOiBNYXRoLm1heCgwLCB0aGlzLmQgKyBpbmRleCk7CiAgICB9CiAgfTsKICB2YXIgYXR0VmFsdWVDaGFyRG91YmxlUXVvdGUgPSAvW14iJjxdKy95OwogIHZhciBhdHRWYWx1ZUNoYXJTaW5nbGVRdW90ZSA9IC9bXicmPF0rL3k7CiAgdmFyIGF0dFZhbHVlTm9ybWFsaXplZFdoaXRlc3BhY2UgPSAvXHJcbnxbXG5cclx0XS9nOwogIHZhciBlbmRDaGFyRGF0YSA9IC88fCZ8XV0+LzsKICB2YXIgcHJlZGVmaW5lZEVudGl0aWVzID0gT2JqZWN0LmZyZWV6ZShPYmplY3QuYXNzaWduKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCB7CiAgICBhbXA6ICImIiwKICAgIGFwb3M6ICInIiwKICAgIGd0OiAiPiIsCiAgICBsdDogIjwiLAogICAgcXVvdDogJyInCiAgfSkpOwogIGZ1bmN0aW9uIGlzTmFtZUNoYXIoY2hhcikgewogICAgbGV0IGNwID0gZ2V0Q29kZVBvaW50KGNoYXIpOwogICAgcmV0dXJuIGNwID49IDk3ICYmIGNwIDw9IDEyMiB8fCBjcCA+PSA2NSAmJiBjcCA8PSA5MCB8fCBjcCA+PSA0OCAmJiBjcCA8PSA1NyB8fCBjcCA9PT0gNDUgfHwgY3AgPT09IDQ2IHx8IGNwID09PSAxODMgfHwgY3AgPj0gNzY4ICYmIGNwIDw9IDg3OSB8fCBjcCA+PSA4MjU1ICYmIGNwIDw9IDgyNTYgfHwgaXNOYW1lU3RhcnRDaGFyKGNoYXIsIGNwKTsKICB9CiAgZnVuY3Rpb24gaXNOYW1lU3RhcnRDaGFyKGNoYXIsIGNwID0gZ2V0Q29kZVBvaW50KGNoYXIpKSB7CiAgICByZXR1cm4gY3AgPj0gOTcgJiYgY3AgPD0gMTIyIHx8IGNwID49IDY1ICYmIGNwIDw9IDkwIHx8IGNwID09PSA1OCB8fCBjcCA9PT0gOTUgfHwgY3AgPj0gMTkyICYmIGNwIDw9IDIxNCB8fCBjcCA+PSAyMTYgJiYgY3AgPD0gMjQ2IHx8IGNwID49IDI0OCAmJiBjcCA8PSA3NjcgfHwgY3AgPj0gODgwICYmIGNwIDw9IDg5MyB8fCBjcCA+PSA4OTUgJiYgY3AgPD0gODE5MSB8fCBjcCA+PSA4MjA0ICYmIGNwIDw9IDgyMDUgfHwgY3AgPj0gODMwNCAmJiBjcCA8PSA4NTkxIHx8IGNwID49IDExMjY0ICYmIGNwIDw9IDEyMjcxIHx8IGNwID49IDEyMjg5ICYmIGNwIDw9IDU1Mjk1IHx8IGNwID49IDYzNzQ0ICYmIGNwIDw9IDY0OTc1IHx8IGNwID49IDY1MDA4ICYmIGNwIDw9IDY1NTMzIHx8IGNwID49IDY1NTM2ICYmIGNwIDw9IDk4MzAzOTsKICB9CiAgZnVuY3Rpb24gaXNSZWZlcmVuY2VDaGFyKGNoYXIpIHsKICAgIHJldHVybiBjaGFyID09PSAiIyIgfHwgaXNOYW1lQ2hhcihjaGFyKTsKICB9CiAgZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKGNoYXIpIHsKICAgIGxldCBjcCA9IGdldENvZGVQb2ludChjaGFyKTsKICAgIHJldHVybiBjcCA9PT0gMzIgfHwgY3AgPT09IDkgfHwgY3AgPT09IDEwIHx8IGNwID09PSAxMzsKICB9CiAgZnVuY3Rpb24gaXNYbWxDb2RlUG9pbnQoY3ApIHsKICAgIHJldHVybiBjcCA9PT0gOSB8fCBjcCA9PT0gMTAgfHwgY3AgPT09IDEzIHx8IGNwID49IDMyICYmIGNwIDw9IDU1Mjk1IHx8IGNwID49IDU3MzQ0ICYmIGNwIDw9IDY1NTMzIHx8IGNwID49IDY1NTM2ICYmIGNwIDw9IDExMTQxMTE7CiAgfQogIGZ1bmN0aW9uIGdldENvZGVQb2ludChjaGFyKSB7CiAgICByZXR1cm4gY2hhci5jb2RlUG9pbnRBdCgwKSB8fCAtMTsKICB9CiAgdmFyIF9YbWxOb2RlID0gY2xhc3MgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHRoaXMucGFyZW50ID0gbnVsbDsKICAgICAgdGhpcy5zdGFydCA9IC0xOwogICAgICB0aGlzLmVuZCA9IC0xOwogICAgfQogICAgLyoqCiAgICAgKiBEb2N1bWVudCB0aGF0IGNvbnRhaW5zIHRoaXMgbm9kZSwgb3IgYG51bGxgIGlmIHRoaXMgbm9kZSBpcyBub3QgYXNzb2NpYXRlZAogICAgICogd2l0aCBhIGRvY3VtZW50LgogICAgICovCiAgICBnZXQgZG9jdW1lbnQoKSB7CiAgICAgIHZhciBfYSwgX2I7CiAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLnBhcmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRvY3VtZW50KSAhPSBudWxsID8gX2IgOiBudWxsOwogICAgfQogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRoaXMgbm9kZSBpcyB0aGUgcm9vdCBub2RlIG9mIHRoZSBkb2N1bWVudCAoYWxzbyBrbm93biBhcyB0aGUKICAgICAqIGRvY3VtZW50IGVsZW1lbnQpLgogICAgICovCiAgICBnZXQgaXNSb290Tm9kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMucGFyZW50ICE9PSBudWxsICYmIHRoaXMucGFyZW50ID09PSB0aGlzLmRvY3VtZW50ICYmIHRoaXMudHlwZSA9PT0gX1htbE5vZGUuVFlQRV9FTEVNRU5UOwogICAgfQogICAgLyoqCiAgICAgKiBXaGV0aGVyIHdoaXRlc3BhY2Ugc2hvdWxkIGJlIHByZXNlcnZlZCBpbiB0aGUgY29udGVudCBvZiB0aGlzIGVsZW1lbnQgYW5kCiAgICAgKiBpdHMgY2hpbGRyZW4uCiAgICAgKgogICAgICogVGhpcyBpcyBpbmZsdWVuY2VkIGJ5IHRoZSB2YWx1ZSBvZiB0aGUgc3BlY2lhbCBgeG1sOnNwYWNlYCBhdHRyaWJ1dGUsIGFuZAogICAgICogd2lsbCBiZSBgdHJ1ZWAgZm9yIGFueSBub2RlIHdob3NlIGB4bWw6c3BhY2VgIGF0dHJpYnV0ZSBpcyBzZXQgdG8KICAgICAqICJwcmVzZXJ2ZSIuIElmIGEgbm9kZSBoYXMgbm8gc3VjaCBhdHRyaWJ1dGUsIGl0IHdpbGwgaW5oZXJpdCB0aGUgdmFsdWUgb2YKICAgICAqIHRoZSBuZWFyZXN0IGFuY2VzdG9yIHRoYXQgZG9lcyAoaWYgYW55KS4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy13aGl0ZS1zcGFjZQogICAgICovCiAgICBnZXQgcHJlc2VydmVXaGl0ZXNwYWNlKCkgewogICAgICB2YXIgX2E7CiAgICAgIHJldHVybiAhISgoX2EgPSB0aGlzLnBhcmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnByZXNlcnZlV2hpdGVzcGFjZSk7CiAgICB9CiAgICAvKioKICAgICAqIFR5cGUgb2YgdGhpcyBub2RlLgogICAgICoKICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IGlzIGEgc3RyaW5nIHRoYXQgbWF0Y2hlcyBvbmUgb2YgdGhlIHN0YXRpYwogICAgICogYFRZUEVfKmAgcHJvcGVydGllcyBvbiB0aGUgYFhtbE5vZGVgIGNsYXNzIChlLmcuIGBUWVBFX0VMRU1FTlRgLAogICAgICogYFRZUEVfVEVYVGAsIGV0Yy4pLgogICAgICoKICAgICAqIFRoZSBgWG1sTm9kZWAgY2xhc3MgaXRzZWxmIGlzIGEgYmFzZSBjbGFzcyBhbmQgZG9lc24ndCBoYXZlIGl0cyBvd24gdHlwZQogICAgICogbmFtZS4KICAgICAqLwogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiAiIjsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhIEpTT04tc2VyaWFsaXphYmxlIG9iamVjdCByZXByZXNlbnRpbmcgdGhpcyBub2RlLCBtaW51cyBwcm9wZXJ0aWVzCiAgICAgKiB0aGF0IGNvdWxkIHJlc3VsdCBpbiBjaXJjdWxhciByZWZlcmVuY2VzLgogICAgICovCiAgICB0b0pTT04oKSB7CiAgICAgIGxldCBqc29uID0gewogICAgICAgIHR5cGU6IHRoaXMudHlwZQogICAgICB9OwogICAgICBpZiAodGhpcy5pc1Jvb3ROb2RlKSB7CiAgICAgICAganNvbi5pc1Jvb3ROb2RlID0gdHJ1ZTsKICAgICAgfQogICAgICBpZiAodGhpcy5wcmVzZXJ2ZVdoaXRlc3BhY2UpIHsKICAgICAgICBqc29uLnByZXNlcnZlV2hpdGVzcGFjZSA9IHRydWU7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuc3RhcnQgIT09IC0xKSB7CiAgICAgICAganNvbi5zdGFydCA9IHRoaXMuc3RhcnQ7CiAgICAgICAganNvbi5lbmQgPSB0aGlzLmVuZDsKICAgICAgfQogICAgICByZXR1cm4ganNvbjsKICAgIH0KICB9OwogIHZhciBYbWxOb2RlID0gX1htbE5vZGU7CiAgWG1sTm9kZS5UWVBFX0NEQVRBID0gImNkYXRhIjsKICBYbWxOb2RlLlRZUEVfQ09NTUVOVCA9ICJjb21tZW50IjsKICBYbWxOb2RlLlRZUEVfRE9DVU1FTlQgPSAiZG9jdW1lbnQiOwogIFhtbE5vZGUuVFlQRV9ET0NVTUVOVF9UWVBFID0gImRvY3R5cGUiOwogIFhtbE5vZGUuVFlQRV9FTEVNRU5UID0gImVsZW1lbnQiOwogIFhtbE5vZGUuVFlQRV9QUk9DRVNTSU5HX0lOU1RSVUNUSU9OID0gInBpIjsKICBYbWxOb2RlLlRZUEVfVEVYVCA9ICJ0ZXh0IjsKICBYbWxOb2RlLlRZUEVfWE1MX0RFQ0xBUkFUSU9OID0gInhtbGRlY2wiOwogIHZhciBYbWxUZXh0ID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKHRleHQgPSAiIikgewogICAgICBzdXBlcigpOwogICAgICB0aGlzLnRleHQgPSB0ZXh0OwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfVEVYVDsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICB0ZXh0OiB0aGlzLnRleHQKICAgICAgfSk7CiAgICB9CiAgfTsKICB2YXIgWG1sQ2RhdGEgPSBjbGFzcyBleHRlbmRzIFhtbFRleHQgewogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfQ0RBVEE7CiAgICB9CiAgfTsKICB2YXIgWG1sQ29tbWVudCA9IGNsYXNzIGV4dGVuZHMgWG1sTm9kZSB7CiAgICBjb25zdHJ1Y3Rvcihjb250ZW50ID0gIiIpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDsKICAgIH0KICAgIGdldCB0eXBlKCkgewogICAgICByZXR1cm4gWG1sTm9kZS5UWVBFX0NPTU1FTlQ7CiAgICB9CiAgICB0b0pTT04oKSB7CiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFhtbE5vZGUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpLCB7CiAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50CiAgICAgIH0pOwogICAgfQogIH07CiAgdmFyIFhtbERlY2xhcmF0aW9uID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247CiAgICAgIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZyAhPSBudWxsID8gZW5jb2RpbmcgOiBudWxsOwogICAgICB0aGlzLnN0YW5kYWxvbmUgPSBzdGFuZGFsb25lICE9IG51bGwgPyBzdGFuZGFsb25lIDogbnVsbDsKICAgIH0KICAgIGdldCB0eXBlKCkgewogICAgICByZXR1cm4gWG1sTm9kZS5UWVBFX1hNTF9ERUNMQVJBVElPTjsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgbGV0IGpzb24gPSBYbWxOb2RlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTsKICAgICAganNvbi52ZXJzaW9uID0gdGhpcy52ZXJzaW9uOwogICAgICBmb3IgKGxldCBrZXkgb2YgWyJlbmNvZGluZyIsICJzdGFuZGFsb25lIl0pIHsKICAgICAgICBpZiAodGhpc1trZXldICE9PSBudWxsKSB7CiAgICAgICAgICBqc29uW2tleV0gPSB0aGlzW2tleV07CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBqc29uOwogICAgfQogIH07CiAgdmFyIFhtbEVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIFhtbE5vZGUgewogICAgY29uc3RydWN0b3IobmFtZSwgYXR0cmlidXRlcyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCBjaGlsZHJlbiA9IFtdKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgIHRoaXMuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7CiAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjsKICAgIH0KICAgIC8qKgogICAgICogV2hldGhlciB0aGlzIGVsZW1lbnQgaXMgZW1wdHkgKG1lYW5pbmcgaXQgaGFzIG5vIGNoaWxkcmVuKS4KICAgICAqLwogICAgZ2V0IGlzRW1wdHkoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMDsKICAgIH0KICAgIGdldCBwcmVzZXJ2ZVdoaXRlc3BhY2UoKSB7CiAgICAgIGxldCBub2RlID0gdGhpczsKICAgICAgd2hpbGUgKG5vZGUgaW5zdGFuY2VvZiBYbWxFbGVtZW50KSB7CiAgICAgICAgaWYgKCJ4bWw6c3BhY2UiIGluIG5vZGUuYXR0cmlidXRlcykgewogICAgICAgICAgcmV0dXJuIG5vZGUuYXR0cmlidXRlc1sieG1sOnNwYWNlIl0gPT09ICJwcmVzZXJ2ZSI7CiAgICAgICAgfQogICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIFRleHQgY29udGVudCBvZiB0aGlzIGVsZW1lbnQgYW5kIGFsbCBpdHMgZGVzY2VuZGFudHMuCiAgICAgKi8KICAgIGdldCB0ZXh0KCkgewogICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiAidGV4dCIgaW4gY2hpbGQgPyBjaGlsZC50ZXh0IDogIiIpLmpvaW4oIiIpOwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfRUxFTUVOVDsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgYXR0cmlidXRlczogdGhpcy5hdHRyaWJ1dGVzLAogICAgICAgIGNoaWxkcmVuOiB0aGlzLmNoaWxkcmVuLm1hcCgoY2hpbGQpID0+IGNoaWxkLnRvSlNPTigpKQogICAgICB9KTsKICAgIH0KICB9OwogIHZhciBYbWxEb2N1bWVudCA9IGNsYXNzIGV4dGVuZHMgWG1sTm9kZSB7CiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbiA9IFtdKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjsKICAgIH0KICAgIGdldCBkb2N1bWVudCgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIFJvb3QgZWxlbWVudCBvZiB0aGlzIGRvY3VtZW50LCBvciBgbnVsbGAgaWYgdGhpcyBkb2N1bWVudCBpcyBlbXB0eS4KICAgICAqLwogICAgZ2V0IHJvb3QoKSB7CiAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHsKICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBYbWxFbGVtZW50KSB7CiAgICAgICAgICByZXR1cm4gY2hpbGQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgLyoqCiAgICAgKiBUZXh0IGNvbnRlbnQgb2YgdGhpcyBkb2N1bWVudCBhbmQgYWxsIGl0cyBkZXNjZW5kYW50cy4KICAgICAqLwogICAgZ2V0IHRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLm1hcCgoY2hpbGQpID0+ICJ0ZXh0IiBpbiBjaGlsZCA/IGNoaWxkLnRleHQgOiAiIikuam9pbigiIik7CiAgICB9CiAgICBnZXQgdHlwZSgpIHsKICAgICAgcmV0dXJuIFhtbE5vZGUuVFlQRV9ET0NVTUVOVDsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICBjaGlsZHJlbjogdGhpcy5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiBjaGlsZC50b0pTT04oKSkKICAgICAgfSk7CiAgICB9CiAgfTsKICB2YXIgWG1sRG9jdW1lbnRUeXBlID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKG5hbWUsIHB1YmxpY0lkLCBzeXN0ZW1JZCwgaW50ZXJuYWxTdWJzZXQpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgICAgdGhpcy5wdWJsaWNJZCA9IHB1YmxpY0lkICE9IG51bGwgPyBwdWJsaWNJZCA6IG51bGw7CiAgICAgIHRoaXMuc3lzdGVtSWQgPSBzeXN0ZW1JZCAhPSBudWxsID8gc3lzdGVtSWQgOiBudWxsOwogICAgICB0aGlzLmludGVybmFsU3Vic2V0ID0gaW50ZXJuYWxTdWJzZXQgIT0gbnVsbCA/IGludGVybmFsU3Vic2V0IDogbnVsbDsKICAgIH0KICAgIGdldCB0eXBlKCkgewogICAgICByZXR1cm4gWG1sTm9kZS5UWVBFX0RPQ1VNRU5UX1RZUEU7CiAgICB9CiAgICB0b0pTT04oKSB7CiAgICAgIGxldCBqc29uID0gWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7CiAgICAgIGpzb24ubmFtZSA9IHRoaXMubmFtZTsKICAgICAgZm9yIChsZXQga2V5IG9mIFsicHVibGljSWQiLCAic3lzdGVtSWQiLCAiaW50ZXJuYWxTdWJzZXQiXSkgewogICAgICAgIGlmICh0aGlzW2tleV0gIT09IG51bGwpIHsKICAgICAgICAgIGpzb25ba2V5XSA9IHRoaXNba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGpzb247CiAgICB9CiAgfTsKICB2YXIgWG1sRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHsKICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGNoYXJJbmRleCwgeG1sKSB7CiAgICAgIGxldCBjb2x1bW4gPSAxOwogICAgICBsZXQgZXhjZXJwdCA9ICIiOwogICAgICBsZXQgbGluZSA9IDE7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhckluZGV4OyArK2kpIHsKICAgICAgICBsZXQgY2hhciA9IHhtbFtpXTsKICAgICAgICBpZiAoY2hhciA9PT0gIlxuIikgewogICAgICAgICAgY29sdW1uID0gMTsKICAgICAgICAgIGV4Y2VycHQgPSAiIjsKICAgICAgICAgIGxpbmUgKz0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29sdW1uICs9IDE7CiAgICAgICAgICBleGNlcnB0ICs9IGNoYXI7CiAgICAgICAgfQogICAgICB9CiAgICAgIGxldCBlb2wgPSB4bWwuaW5kZXhPZigiXG4iLCBjaGFySW5kZXgpOwogICAgICBleGNlcnB0ICs9IGVvbCA9PT0gLTEgPyB4bWwuc2xpY2UoY2hhckluZGV4KSA6IHhtbC5zbGljZShjaGFySW5kZXgsIGVvbCk7CiAgICAgIGxldCBleGNlcnB0U3RhcnQgPSAwOwogICAgICBpZiAoZXhjZXJwdC5sZW5ndGggPiA1MCkgewogICAgICAgIGlmIChjb2x1bW4gPCA0MCkgewogICAgICAgICAgZXhjZXJwdCA9IGV4Y2VycHQuc2xpY2UoMCwgNTApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBleGNlcnB0U3RhcnQgPSBjb2x1bW4gLSAyMDsKICAgICAgICAgIGV4Y2VycHQgPSBleGNlcnB0LnNsaWNlKGV4Y2VycHRTdGFydCwgY29sdW1uICsgMzApOwogICAgICAgIH0KICAgICAgfQogICAgICBzdXBlcigKICAgICAgICBgJHttZXNzYWdlfSAobGluZSAke2xpbmV9LCBjb2x1bW4gJHtjb2x1bW59KQogICR7ZXhjZXJwdH0KYCArICIgIi5yZXBlYXQoY29sdW1uIC0gZXhjZXJwdFN0YXJ0ICsgMSkgKyAiXlxuIgogICAgICApOwogICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjsKICAgICAgdGhpcy5leGNlcnB0ID0gZXhjZXJwdDsKICAgICAgdGhpcy5saW5lID0gbGluZTsKICAgICAgdGhpcy5uYW1lID0gIlhtbEVycm9yIjsKICAgICAgdGhpcy5wb3MgPSBjaGFySW5kZXg7CiAgICB9CiAgfTsKICB2YXIgWG1sUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNvbnRlbnQgPSAiIikgewogICAgICBzdXBlcigpOwogICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50OwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfUFJPQ0VTU0lOR19JTlNUUlVDVElPTjsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50CiAgICAgIH0pOwogICAgfQogIH07CiAgdmFyIGVtcHR5U3RyaW5nMiA9ICIiOwogIHZhciBQYXJzZXIgPSBjbGFzcyB7CiAgICAvKioKICAgICAqIEBwYXJhbSB4bWwgWE1MIHN0cmluZyB0byBwYXJzZS4KICAgICAqIEBwYXJhbSBvcHRpb25zIFBhcnNlciBvcHRpb25zLgogICAgICovCiAgICBjb25zdHJ1Y3Rvcih4bWwsIG9wdGlvbnMgPSB7fSkgewogICAgICBsZXQgZG9jID0gdGhpcy5kb2N1bWVudCA9IG5ldyBYbWxEb2N1bWVudCgpOwogICAgICBsZXQgc2Nhbm5lciA9IHRoaXMuYyA9IG5ldyBTdHJpbmdTY2FubmVyKHhtbCk7CiAgICAgIHRoaXMubCA9IGRvYzsKICAgICAgdGhpcy5mID0gb3B0aW9uczsKICAgICAgaWYgKHRoaXMuZi5pbmNsdWRlT2Zmc2V0cykgewogICAgICAgIGRvYy5zdGFydCA9IDA7CiAgICAgICAgZG9jLmVuZCA9IHhtbC5sZW5ndGg7CiAgICAgIH0KICAgICAgc2Nhbm5lci5iKCJcdUZFRkYiKTsKICAgICAgdGhpcy5IKCk7CiAgICAgIGlmICghdGhpcy5CKCkpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlJvb3QgZWxlbWVudCBpcyBtaXNzaW5nIG9yIGludmFsaWQiKTsKICAgICAgfQogICAgICB3aGlsZSAodGhpcy53KCkpIHsKICAgICAgfQogICAgICBpZiAoIXNjYW5uZXIueikgewogICAgICAgIHRocm93IHRoaXMuYSgiRXh0cmEgY29udGVudCBhdCB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudCIpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEFkZHMgdGhlIGdpdmVuIGBYbWxOb2RlYCBhcyBhIGNoaWxkIG9mIGB0aGlzLmN1cnJlbnROb2RlYC4KICAgICAqLwogICAgaihub2RlLCBjaGFySW5kZXgpIHsKICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzLmw7CiAgICAgIGlmICh0aGlzLmYuaW5jbHVkZU9mZnNldHMpIHsKICAgICAgICBub2RlLnN0YXJ0ID0gdGhpcy5jLmkoY2hhckluZGV4KTsKICAgICAgICBub2RlLmVuZCA9IHRoaXMuYy5pKCk7CiAgICAgIH0KICAgICAgdGhpcy5sLmNoaWxkcmVuLnB1c2gobm9kZSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgLyoqCiAgICAgKiBBZGRzIHRoZSBnaXZlbiBfdGV4dF8gdG8gdGhlIGRvY3VtZW50LCBlaXRoZXIgYnkgYXBwZW5kaW5nIGl0IHRvIGEKICAgICAqIHByZWNlZGluZyBgWG1sVGV4dGAgbm9kZSAoaWYgcG9zc2libGUpIG9yIGJ5IGNyZWF0aW5nIGEgbmV3IGBYbWxUZXh0YCBub2RlLgogICAgICovCiAgICB4KHRleHQsIGNoYXJJbmRleCkgewogICAgICBsZXQgeyBjaGlsZHJlbiB9ID0gdGhpcy5sOwogICAgICBsZXQgeyBsZW5ndGggfSA9IGNoaWxkcmVuOwogICAgICB0ZXh0ID0gbm9ybWFsaXplTGluZUJyZWFrcyh0ZXh0KTsKICAgICAgaWYgKGxlbmd0aCA+IDApIHsKICAgICAgICBsZXQgcHJldk5vZGUgPSBjaGlsZHJlbltsZW5ndGggLSAxXTsKICAgICAgICBpZiAoKHByZXZOb2RlID09IG51bGwgPyB2b2lkIDAgOiBwcmV2Tm9kZS50eXBlKSA9PT0gWG1sTm9kZS5UWVBFX1RFWFQpIHsKICAgICAgICAgIGxldCB0ZXh0Tm9kZSA9IHByZXZOb2RlOwogICAgICAgICAgdGV4dE5vZGUudGV4dCArPSB0ZXh0OwogICAgICAgICAgaWYgKHRoaXMuZi5pbmNsdWRlT2Zmc2V0cykgewogICAgICAgICAgICB0ZXh0Tm9kZS5lbmQgPSB0aGlzLmMuaSgpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmoobmV3IFhtbFRleHQodGV4dCksIGNoYXJJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGVsZW1lbnQgYXR0cmlidXRlcy4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy1zdGFydHRhZ3MKICAgICAqLwogICAgSSgpIHsKICAgICAgbGV0IGF0dHJpYnV0ZXMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgICAgd2hpbGUgKHRoaXMuZSgpKSB7CiAgICAgICAgbGV0IGF0dHJOYW1lID0gdGhpcy5yKCk7CiAgICAgICAgaWYgKCFhdHRyTmFtZSkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGxldCBhdHRyVmFsdWUgPSB0aGlzLnUoKSAmJiB0aGlzLkooKTsKICAgICAgICBpZiAoYXR0clZhbHVlID09PSBmYWxzZSkgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCJBdHRyaWJ1dGUgdmFsdWUgZXhwZWN0ZWQiKTsKICAgICAgICB9CiAgICAgICAgaWYgKGF0dHJOYW1lIGluIGF0dHJpYnV0ZXMpIHsKICAgICAgICAgIHRocm93IHRoaXMuYShgRHVwbGljYXRlIGF0dHJpYnV0ZTogJHthdHRyTmFtZX1gKTsKICAgICAgICB9CiAgICAgICAgaWYgKGF0dHJOYW1lID09PSAieG1sOnNwYWNlIiAmJiBhdHRyVmFsdWUgIT09ICJkZWZhdWx0IiAmJiBhdHRyVmFsdWUgIT09ICJwcmVzZXJ2ZSIpIHsKICAgICAgICAgIHRocm93IHRoaXMuYSgnVmFsdWUgb2YgdGhlIGB4bWw6c3BhY2VgIGF0dHJpYnV0ZSBtdXN0IGJlICJkZWZhdWx0IiBvciAicHJlc2VydmUiJyk7CiAgICAgICAgfQogICAgICAgIGF0dHJpYnV0ZXNbYXR0ck5hbWVdID0gYXR0clZhbHVlOwogICAgICB9CiAgICAgIGlmICh0aGlzLmYuc29ydEF0dHJpYnV0ZXMpIHsKICAgICAgICBsZXQgYXR0ck5hbWVzID0gT2JqZWN0LmtleXMoYXR0cmlidXRlcykuc29ydCgpOwogICAgICAgIGxldCBzb3J0ZWRBdHRyaWJ1dGVzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyTmFtZXMubGVuZ3RoOyArK2kpIHsKICAgICAgICAgIGxldCBhdHRyTmFtZSA9IGF0dHJOYW1lc1tpXTsKICAgICAgICAgIHNvcnRlZEF0dHJpYnV0ZXNbYXR0ck5hbWVdID0gYXR0cmlidXRlc1thdHRyTmFtZV07CiAgICAgICAgfQogICAgICAgIGF0dHJpYnV0ZXMgPSBzb3J0ZWRBdHRyaWJ1dGVzOwogICAgICB9CiAgICAgIHJldHVybiBhdHRyaWJ1dGVzOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhbiBgQXR0VmFsdWVgIChhdHRyaWJ1dGUgdmFsdWUpIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zCiAgICAgKiAgIENvbnRlbnRzIG9mIHRoZSBgQXR0VmFsdWVgIG1pbnVzIHF1b3Rlcywgb3IgYGZhbHNlYCBpZiBub3RoaW5nIHdhcwogICAgICogICBjb25zdW1lZC4gQW4gZW1wdHkgc3RyaW5nIGluZGljYXRlcyB0aGF0IGFuIGBBdHRWYWx1ZWAgd2FzIGNvbnN1bWVkIGJ1dAogICAgICogICB3YXMgZW1wdHkuCiAgICAgKgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1BdHRWYWx1ZQogICAgICovCiAgICBKKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgcXVvdGUgPSBzY2FubmVyLmgoKTsKICAgICAgaWYgKHF1b3RlICE9PSAnIicgJiYgcXVvdGUgIT09ICInIikgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBzY2FubmVyLmcoKTsKICAgICAgbGV0IGNoYXJzOwogICAgICBsZXQgaXNDbG9zZWQgPSBmYWxzZTsKICAgICAgbGV0IHZhbHVlID0gZW1wdHlTdHJpbmcyOwogICAgICBsZXQgcmVnZXggPSBxdW90ZSA9PT0gJyInID8gYXR0VmFsdWVDaGFyRG91YmxlUXVvdGUgOiBhdHRWYWx1ZUNoYXJTaW5nbGVRdW90ZTsKICAgICAgbWF0Y2hMb29wOgogICAgICAgIHdoaWxlICghc2Nhbm5lci56KSB7CiAgICAgICAgICBjaGFycyA9IHNjYW5uZXIuRyhyZWdleCk7CiAgICAgICAgICBpZiAoY2hhcnMpIHsKICAgICAgICAgICAgdGhpcy5wKGNoYXJzKTsKICAgICAgICAgICAgdmFsdWUgKz0gY2hhcnMucmVwbGFjZShhdHRWYWx1ZU5vcm1hbGl6ZWRXaGl0ZXNwYWNlLCAiICIpOwogICAgICAgICAgfQogICAgICAgICAgc3dpdGNoIChzY2FubmVyLmgoKSkgewogICAgICAgICAgICBjYXNlIHF1b3RlOgogICAgICAgICAgICAgIGlzQ2xvc2VkID0gdHJ1ZTsKICAgICAgICAgICAgICBicmVhayBtYXRjaExvb3A7CiAgICAgICAgICAgIGNhc2UgIiYiOgogICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuQygpOwogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICBjYXNlICI8IjoKICAgICAgICAgICAgICB0aHJvdyB0aGlzLmEoIlVuZXNjYXBlZCBgPGAgaXMgbm90IGFsbG93ZWQgaW4gYW4gYXR0cmlidXRlIHZhbHVlIik7CiAgICAgICAgICAgIGNhc2UgZW1wdHlTdHJpbmcyOgogICAgICAgICAgICAgIGJyZWFrIG1hdGNoTG9vcDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIGlmICghaXNDbG9zZWQpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlVuY2xvc2VkIGF0dHJpYnV0ZSIpOwogICAgICB9CiAgICAgIHNjYW5uZXIuZygpOwogICAgICByZXR1cm4gdmFsdWU7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgQ0RBVEEgc2VjdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGEgQ0RBVEEgc2VjdGlvbiB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy1jZGF0YS1zZWN0CiAgICAgKi8KICAgIEsoKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPCFbQ0RBVEFbIikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IHRleHQgPSBzY2FubmVyLnQoIl1dPiIpOwogICAgICB0aGlzLnAodGV4dCk7CiAgICAgIGlmICghc2Nhbm5lci5iKCJdXT4iKSkgewogICAgICAgIHRocm93IHRoaXMuYSgiVW5jbG9zZWQgQ0RBVEEgc2VjdGlvbiIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmYucHJlc2VydmVDZGF0YSA/IHRoaXMuaihuZXcgWG1sQ2RhdGEobm9ybWFsaXplTGluZUJyZWFrcyh0ZXh0KSksIHN0YXJ0SW5kZXgpIDogdGhpcy54KHRleHQsIHN0YXJ0SW5kZXgpOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBjaGFyYWN0ZXIgZGF0YSBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGNoYXJhY3RlciBkYXRhIHdhcyBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jZHQtY2hhcmRhdGEKICAgICAqLwogICAgTCgpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSBzY2FubmVyLmQ7CiAgICAgIGxldCBjaGFyRGF0YSA9IHNjYW5uZXIuQShlbmRDaGFyRGF0YSk7CiAgICAgIGlmICghY2hhckRhdGEpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdGhpcy5wKGNoYXJEYXRhKTsKICAgICAgaWYgKHNjYW5uZXIuaCgzKSA9PT0gIl1dPiIpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIkVsZW1lbnQgY29udGVudCBtYXkgbm90IGNvbnRhaW4gdGhlIENEQVRBIHNlY3Rpb24gY2xvc2UgZGVsaW1pdGVyIGBdXT5gIik7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMueChjaGFyRGF0YSwgc3RhcnRJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgY29tbWVudCBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGEgY29tbWVudCB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULUNvbW1lbnQKICAgICAqLwogICAgRCgpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSBzY2FubmVyLmQ7CiAgICAgIGlmICghc2Nhbm5lci5iKCI8IS0tIikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IGNvbnRlbnQgPSBzY2FubmVyLnQoIi0tIik7CiAgICAgIHRoaXMucChjb250ZW50KTsKICAgICAgaWYgKCFzY2FubmVyLmIoIi0tPiIpKSB7CiAgICAgICAgaWYgKHNjYW5uZXIuaCgyKSA9PT0gIi0tIikgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCJUaGUgc3RyaW5nIGAtLWAgaXNuJ3QgYWxsb3dlZCBpbnNpZGUgYSBjb21tZW50Iik7CiAgICAgICAgfQogICAgICAgIHRocm93IHRoaXMuYSgiVW5jbG9zZWQgY29tbWVudCIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmYucHJlc2VydmVDb21tZW50cyA/IHRoaXMuaihuZXcgWG1sQ29tbWVudChub3JtYWxpemVMaW5lQnJlYWtzKGNvbnRlbnQpKSwgc3RhcnRJbmRleCkgOiB0cnVlOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhIHJlZmVyZW5jZSBpbiBhIGNvbnRlbnQgY29udGV4dCBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBUaGlzIGRpZmZlcnMgZnJvbSBgY29uc3VtZVJlZmVyZW5jZSgpYCBpbiB0aGF0IGEgY29uc3VtZWQgcmVmZXJlbmNlIHdpbGwgYmUKICAgICAqIGFkZGVkIHRvIHRoZSBkb2N1bWVudCBhcyBhIHRleHQgbm9kZSBpbnN0ZWFkIG9mIHJldHVybmVkLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSByZWZlcmVuY2Ugd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNlbnRwcm9jCiAgICAgKi8KICAgIE0oKSB7CiAgICAgIGxldCBzdGFydEluZGV4ID0gdGhpcy5jLmQ7CiAgICAgIGxldCByZWYgPSB0aGlzLkMoKTsKICAgICAgcmV0dXJuIHJlZiA/IHRoaXMueChyZWYsIHN0YXJ0SW5kZXgpIDogZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgZG9jdHlwZSBkZWNsYXJhdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBUaGlzIGlzIGEgbG9vc2UgaW1wbGVtZW50YXRpb24gc2luY2UgZG9jdHlwZSBkZWNsYXJhdGlvbnMgYXJlIGN1cnJlbnRseQogICAgICogZGlzY2FyZGVkIHdpdGhvdXQgZnVydGhlciBwYXJzaW5nLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSBkb2N0eXBlIGRlY2xhcmF0aW9uIHdhcyBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jZHRkCiAgICAgKi8KICAgIE4oKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPCFET0NUWVBFIikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IG5hbWUgPSB0aGlzLmUoKSAmJiB0aGlzLnIoKTsKICAgICAgaWYgKCFuYW1lKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJFeHBlY3RlZCBhIG5hbWUiKTsKICAgICAgfQogICAgICBsZXQgcHVibGljSWQ7CiAgICAgIGxldCBzeXN0ZW1JZDsKICAgICAgaWYgKHRoaXMuZSgpKSB7CiAgICAgICAgaWYgKHNjYW5uZXIuYigiUFVCTElDIikpIHsKICAgICAgICAgIHB1YmxpY0lkID0gdGhpcy5lKCkgJiYgdGhpcy5PKCk7CiAgICAgICAgICBpZiAocHVibGljSWQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHRocm93IHRoaXMuYSgiRXhwZWN0ZWQgYSBwdWJsaWMgaWRlbnRpZmllciIpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5lKCk7CiAgICAgICAgfQogICAgICAgIGlmIChwdWJsaWNJZCAhPT0gdm9pZCAwIHx8IHNjYW5uZXIuYigiU1lTVEVNIikpIHsKICAgICAgICAgIHRoaXMuZSgpOwogICAgICAgICAgc3lzdGVtSWQgPSB0aGlzLnMoKTsKICAgICAgICAgIGlmIChzeXN0ZW1JZCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgdGhyb3cgdGhpcy5hKCJFeHBlY3RlZCBhIHN5c3RlbSBpZGVudGlmaWVyIik7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmUoKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbGV0IGludGVybmFsU3Vic2V0OwogICAgICBpZiAoc2Nhbm5lci5iKCJbIikpIHsKICAgICAgICBpbnRlcm5hbFN1YnNldCA9IHNjYW5uZXIuQSgvXF1bXHgyMFx0XHJcbl0qPi8pOwogICAgICAgIGlmICghc2Nhbm5lci5iKCJdIikpIHsKICAgICAgICAgIHRocm93IHRoaXMuYSgiVW5jbG9zZWQgaW50ZXJuYWwgc3Vic2V0Iik7CiAgICAgICAgfQogICAgICAgIHRoaXMuZSgpOwogICAgICB9CiAgICAgIGlmICghc2Nhbm5lci5iKCI+IikpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlVuY2xvc2VkIGRvY3R5cGUgZGVjbGFyYXRpb24iKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5mLnByZXNlcnZlRG9jdW1lbnRUeXBlID8gdGhpcy5qKG5ldyBYbWxEb2N1bWVudFR5cGUobmFtZSwgcHVibGljSWQsIHN5c3RlbUlkLCBpbnRlcm5hbFN1YnNldCksIHN0YXJ0SW5kZXgpIDogdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYW4gZWxlbWVudCBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGFuIGVsZW1lbnQgd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1lbGVtZW50CiAgICAgKi8KICAgIEIoKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPCIpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGxldCBuYW1lID0gdGhpcy5yKCk7CiAgICAgIGlmICghbmFtZSkgewogICAgICAgIHNjYW5uZXIubyhzdGFydEluZGV4KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IGF0dHJpYnV0ZXMgPSB0aGlzLkkoKTsKICAgICAgbGV0IGlzRW1wdHkgPSAhIXNjYW5uZXIuYigiLz4iKTsKICAgICAgbGV0IGVsZW1lbnQgPSBuZXcgWG1sRWxlbWVudChuYW1lLCBhdHRyaWJ1dGVzKTsKICAgICAgZWxlbWVudC5wYXJlbnQgPSB0aGlzLmw7CiAgICAgIGlmICghaXNFbXB0eSkgewogICAgICAgIGlmICghc2Nhbm5lci5iKCI+IikpIHsKICAgICAgICAgIHRocm93IHRoaXMuYShgVW5jbG9zZWQgc3RhcnQgdGFnIGZvciBlbGVtZW50IFxgJHtuYW1lfVxgYCk7CiAgICAgICAgfQogICAgICAgIHRoaXMubCA9IGVsZW1lbnQ7CiAgICAgICAgZG8gewogICAgICAgICAgdGhpcy5MKCk7CiAgICAgICAgfSB3aGlsZSAodGhpcy5CKCkgfHwgdGhpcy5NKCkgfHwgdGhpcy5LKCkgfHwgdGhpcy5FKCkgfHwgdGhpcy5EKCkpOwogICAgICAgIGxldCBlbmRUYWdNYXJrID0gc2Nhbm5lci5kOwogICAgICAgIGxldCBlbmRUYWdOYW1lOwogICAgICAgIGlmICghc2Nhbm5lci5iKCI8LyIpIHx8ICEoZW5kVGFnTmFtZSA9IHRoaXMucigpKSB8fCBlbmRUYWdOYW1lICE9PSBuYW1lKSB7CiAgICAgICAgICBzY2FubmVyLm8oZW5kVGFnTWFyayk7CiAgICAgICAgICB0aHJvdyB0aGlzLmEoYE1pc3NpbmcgZW5kIHRhZyBmb3IgZWxlbWVudCAke25hbWV9YCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuZSgpOwogICAgICAgIGlmICghc2Nhbm5lci5iKCI+IikpIHsKICAgICAgICAgIHRocm93IHRoaXMuYShgVW5jbG9zZWQgZW5kIHRhZyBmb3IgZWxlbWVudCAke25hbWV9YCk7CiAgICAgICAgfQogICAgICAgIHRoaXMubCA9IGVsZW1lbnQucGFyZW50OwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmooZWxlbWVudCwgc3RhcnRJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGFuIGBFcWAgcHJvZHVjdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGFuIGBFcWAgcHJvZHVjdGlvbiB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULUVxCiAgICAgKi8KICAgIHUoKSB7CiAgICAgIHRoaXMuZSgpOwogICAgICBpZiAodGhpcy5jLmIoIj0iKSkgewogICAgICAgIHRoaXMuZSgpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYE1pc2NgIGNvbnRlbnQgaWYgcG9zc2libGUuCiAgICAgKgogICAgICogQHJldHVybnMgV2hldGhlciBhbnl0aGluZyB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULU1pc2MKICAgICAqLwogICAgdygpIHsKICAgICAgcmV0dXJuIHRoaXMuRCgpIHx8IHRoaXMuRSgpIHx8IHRoaXMuZSgpOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBvbmUgb3IgbW9yZSBgTmFtZWAgY2hhcmFjdGVycyBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBgTmFtZWAgY2hhcmFjdGVycywgb3IgYW4gZW1wdHkgc3RyaW5nIGlmIG5vbmUgd2VyZSBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jTlQtTmFtZQogICAgICovCiAgICByKCkgewogICAgICByZXR1cm4gaXNOYW1lU3RhcnRDaGFyKHRoaXMuYy5oKCkpID8gdGhpcy5jLnYoaXNOYW1lQ2hhcikgOiBlbXB0eVN0cmluZzI7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGEgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy1waQogICAgICovCiAgICBFKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgc3RhcnRJbmRleCA9IHNjYW5uZXIuZDsKICAgICAgaWYgKCFzY2FubmVyLmIoIjw/IikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IG5hbWUgPSB0aGlzLnIoKTsKICAgICAgaWYgKG5hbWUpIHsKICAgICAgICBpZiAobmFtZS50b0xvd2VyQ2FzZSgpID09PSAieG1sIikgewogICAgICAgICAgc2Nhbm5lci5vKHN0YXJ0SW5kZXgpOwogICAgICAgICAgdGhyb3cgdGhpcy5hKCJYTUwgZGVjbGFyYXRpb24gaXNuJ3QgYWxsb3dlZCBoZXJlIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IHRoaXMuYSgiSW52YWxpZCBwcm9jZXNzaW5nIGluc3RydWN0aW9uIik7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmUoKSkgewogICAgICAgIGlmIChzY2FubmVyLmIoIj8+IikpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmoobmV3IFhtbFByb2Nlc3NpbmdJbnN0cnVjdGlvbihuYW1lKSwgc3RhcnRJbmRleCk7CiAgICAgICAgfQogICAgICAgIHRocm93IHRoaXMuYSgiV2hpdGVzcGFjZSBpcyByZXF1aXJlZCBhZnRlciBhIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbmFtZSIpOwogICAgICB9CiAgICAgIGxldCBjb250ZW50ID0gc2Nhbm5lci50KCI/PiIpOwogICAgICB0aGlzLnAoY29udGVudCk7CiAgICAgIGlmICghc2Nhbm5lci5iKCI/PiIpKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJVbnRlcm1pbmF0ZWQgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmoobmV3IFhtbFByb2Nlc3NpbmdJbnN0cnVjdGlvbihuYW1lLCBub3JtYWxpemVMaW5lQnJlYWtzKGNvbnRlbnQpKSwgc3RhcnRJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgcHJvbG9nIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSBwcm9sb2cgd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNzZWMtcHJvbG9nLWR0ZAogICAgICovCiAgICBIKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgc3RhcnRJbmRleCA9IHNjYW5uZXIuZDsKICAgICAgdGhpcy5QKCk7CiAgICAgIHdoaWxlICh0aGlzLncoKSkgewogICAgICB9CiAgICAgIGlmICh0aGlzLk4oKSkgewogICAgICAgIHdoaWxlICh0aGlzLncoKSkgewogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gc3RhcnRJbmRleCA8IHNjYW5uZXIuZDsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYSBwdWJsaWMgaWRlbnRpZmllciBsaXRlcmFsIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zCiAgICAgKiAgIFZhbHVlIG9mIHRoZSBwdWJsaWMgaWRlbnRpZmllciBsaXRlcmFsIG1pbnVzIHF1b3Rlcywgb3IgYGZhbHNlYCBpZgogICAgICogICBub3RoaW5nIHdhcyBjb25zdW1lZC4gQW4gZW1wdHkgc3RyaW5nIGluZGljYXRlcyB0aGF0IGEgcHVibGljIGlkIGxpdGVyYWwKICAgICAqICAgd2FzIGNvbnN1bWVkIGJ1dCB3YXMgZW1wdHkuCiAgICAgKgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1QdWJpZExpdGVyYWwKICAgICAqLwogICAgTygpIHsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSB0aGlzLmMuZDsKICAgICAgbGV0IHZhbHVlID0gdGhpcy5zKCk7CiAgICAgIGlmICh2YWx1ZSAhPT0gZmFsc2UgJiYgIS9eWy1ceDIwXHJcbmEtekEtWjAtOScoKSssLi86PT87ISojQCRfJV0qJC8udGVzdCh2YWx1ZSkpIHsKICAgICAgICB0aGlzLmMubyhzdGFydEluZGV4KTsKICAgICAgICB0aHJvdyB0aGlzLmEoIkludmFsaWQgY2hhcmFjdGVyIGluIHB1YmxpYyBpZGVudGlmaWVyIik7CiAgICAgIH0KICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhIHJlZmVyZW5jZSBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBUaGlzIGRpZmZlcnMgZnJvbSBgY29uc3VtZUNvbnRlbnRSZWZlcmVuY2UoKWAgaW4gdGhhdCBhIGNvbnN1bWVkIHJlZmVyZW5jZQogICAgICogd2lsbCBiZSByZXR1cm5lZCByYXRoZXIgdGhhbiBhZGRlZCB0byB0aGUgZG9jdW1lbnQuCiAgICAgKgogICAgICogQHJldHVybnMKICAgICAqICAgUGFyc2VkIHJlZmVyZW5jZSB2YWx1ZSwgb3IgYGZhbHNlYCBpZiBub3RoaW5nIHdhcyBjb25zdW1lZCAodG8KICAgICAqICAgZGlzdGluZ3Vpc2ggZnJvbSBhIHJlZmVyZW5jZSB0aGF0IHJlc29sdmVzIHRvIGFuIGVtcHR5IHN0cmluZykuCiAgICAgKgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1SZWZlcmVuY2UKICAgICAqLwogICAgQygpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgaWYgKCFzY2FubmVyLmIoIiYiKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBsZXQgcmVmID0gc2Nhbm5lci52KGlzUmVmZXJlbmNlQ2hhcik7CiAgICAgIGlmIChzY2FubmVyLkYoKSAhPT0gIjsiKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJVbnRlcm1pbmF0ZWQgcmVmZXJlbmNlIChhIHJlZmVyZW5jZSBtdXN0IGVuZCB3aXRoIGA7YCkiKTsKICAgICAgfQogICAgICBsZXQgcGFyc2VkVmFsdWU7CiAgICAgIGlmIChyZWZbMF0gPT09ICIjIikgewogICAgICAgIGxldCBjb2RlUG9pbnQgPSByZWZbMV0gPT09ICJ4IiA/IHBhcnNlSW50KHJlZi5zbGljZSgyKSwgMTYpIDogcGFyc2VJbnQocmVmLnNsaWNlKDEpLCAxMCk7CiAgICAgICAgaWYgKGlzTmFOKGNvZGVQb2ludCkpIHsKICAgICAgICAgIHRocm93IHRoaXMuYSgiSW52YWxpZCBjaGFyYWN0ZXIgcmVmZXJlbmNlIik7CiAgICAgICAgfQogICAgICAgIGlmICghaXNYbWxDb2RlUG9pbnQoY29kZVBvaW50KSkgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCJDaGFyYWN0ZXIgcmVmZXJlbmNlIHJlc29sdmVzIHRvIGFuIGludmFsaWQgY2hhcmFjdGVyIik7CiAgICAgICAgfQogICAgICAgIHBhcnNlZFZhbHVlID0gU3RyaW5nLmZyb21Db2RlUG9pbnQoY29kZVBvaW50KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJzZWRWYWx1ZSA9IHByZWRlZmluZWRFbnRpdGllc1tyZWZdOwogICAgICAgIGlmIChwYXJzZWRWYWx1ZSA9PT0gdm9pZCAwKSB7CiAgICAgICAgICBsZXQgewogICAgICAgICAgICBpZ25vcmVVbmRlZmluZWRFbnRpdGllcywKICAgICAgICAgICAgcmVzb2x2ZVVuZGVmaW5lZEVudGl0eQogICAgICAgICAgfSA9IHRoaXMuZjsKICAgICAgICAgIGxldCB3cmFwcGVkUmVmID0gYCYke3JlZn07YDsKICAgICAgICAgIGlmIChyZXNvbHZlVW5kZWZpbmVkRW50aXR5KSB7CiAgICAgICAgICAgIGxldCByZXNvbHZlZFZhbHVlID0gcmVzb2x2ZVVuZGVmaW5lZEVudGl0eSh3cmFwcGVkUmVmKTsKICAgICAgICAgICAgaWYgKHJlc29sdmVkVmFsdWUgIT09IG51bGwgJiYgcmVzb2x2ZWRWYWx1ZSAhPT0gdm9pZCAwKSB7CiAgICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlb2YgcmVzb2x2ZWRWYWx1ZTsKICAgICAgICAgICAgICBpZiAodHlwZSAhPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFxgcmVzb2x2ZVVuZGVmaW5lZEVudGl0eSgpXGAgbXVzdCByZXR1cm4gYSBzdHJpbmcsIFxgbnVsbFxgLCBvciBcYHVuZGVmaW5lZFxgLCBidXQgcmV0dXJuZWQgYSB2YWx1ZSBvZiB0eXBlICR7dHlwZX1gKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkVmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChpZ25vcmVVbmRlZmluZWRFbnRpdGllcykgewogICAgICAgICAgICByZXR1cm4gd3JhcHBlZFJlZjsKICAgICAgICAgIH0KICAgICAgICAgIHNjYW5uZXIubygtd3JhcHBlZFJlZi5sZW5ndGgpOwogICAgICAgICAgdGhyb3cgdGhpcy5hKGBOYW1lZCBlbnRpdHkgaXNuJ3QgZGVmaW5lZDogJHt3cmFwcGVkUmVmfWApOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gcGFyc2VkVmFsdWU7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgYFN5c3RlbUxpdGVyYWxgIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEEgYFN5c3RlbUxpdGVyYWxgIGlzIHNpbWlsYXIgdG8gYW4gYXR0cmlidXRlIHZhbHVlLCBidXQgYWxsb3dzIHRoZQogICAgICogY2hhcmFjdGVycyBgPGAgYW5kIGAmYCBhbmQgZG9lc24ndCByZXBsYWNlIHJlZmVyZW5jZXMuCiAgICAgKgogICAgICogQHJldHVybnMKICAgICAqICAgVmFsdWUgb2YgdGhlIGBTeXN0ZW1MaXRlcmFsYCBtaW51cyBxdW90ZXMsIG9yIGBmYWxzZWAgaWYgbm90aGluZyB3YXMKICAgICAqICAgY29uc3VtZWQuIEFuIGVtcHR5IHN0cmluZyBpbmRpY2F0ZXMgdGhhdCBhIGBTeXN0ZW1MaXRlcmFsYCB3YXMgY29uc3VtZWQKICAgICAqICAgYnV0IHdhcyBlbXB0eS4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULVN5c3RlbUxpdGVyYWwKICAgICAqLwogICAgcygpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHF1b3RlID0gc2Nhbm5lci5iKCciJykgfHwgc2Nhbm5lci5iKCInIik7CiAgICAgIGlmICghcXVvdGUpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IHZhbHVlID0gc2Nhbm5lci50KHF1b3RlKTsKICAgICAgdGhpcy5wKHZhbHVlKTsKICAgICAgaWYgKCFzY2FubmVyLmIocXVvdGUpKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJNaXNzaW5nIGVuZCBxdW90ZSIpOwogICAgICB9CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgb25lIG9yIG1vcmUgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYW55IHdoaXRlc3BhY2UgY2hhcmFjdGVycyB3ZXJlIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyN3aGl0ZQogICAgICovCiAgICBlKCkgewogICAgICByZXR1cm4gISF0aGlzLmMudihpc1doaXRlc3BhY2UpOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhbiBYTUwgZGVjbGFyYXRpb24gaWYgcG9zc2libGUuCiAgICAgKgogICAgICogQHJldHVybnMgV2hldGhlciBhbiBYTUwgZGVjbGFyYXRpb24gd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1YTUxEZWNsCiAgICAgKi8KICAgIFAoKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPD94bWwiKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBpZiAoIXRoaXMuZSgpKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJJbnZhbGlkIFhNTCBkZWNsYXJhdGlvbiIpOwogICAgICB9CiAgICAgIGxldCB2ZXJzaW9uID0gISFzY2FubmVyLmIoInZlcnNpb24iKSAmJiB0aGlzLnUoKSAmJiB0aGlzLnMoKTsKICAgICAgaWYgKHZlcnNpb24gPT09IGZhbHNlKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJYTUwgdmVyc2lvbiBpcyBtaXNzaW5nIG9yIGludmFsaWQiKTsKICAgICAgfSBlbHNlIGlmICghL14xXC5bMC05XSskLy50ZXN0KHZlcnNpb24pKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJJbnZhbGlkIGNoYXJhY3RlciBpbiB2ZXJzaW9uIG51bWJlciIpOwogICAgICB9CiAgICAgIGxldCBlbmNvZGluZzsKICAgICAgbGV0IHN0YW5kYWxvbmU7CiAgICAgIGlmICh0aGlzLmUoKSkgewogICAgICAgIGVuY29kaW5nID0gISFzY2FubmVyLmIoImVuY29kaW5nIikgJiYgdGhpcy51KCkgJiYgdGhpcy5zKCk7CiAgICAgICAgaWYgKGVuY29kaW5nKSB7CiAgICAgICAgICB0aGlzLmUoKTsKICAgICAgICB9CiAgICAgICAgc3RhbmRhbG9uZSA9ICEhc2Nhbm5lci5iKCJzdGFuZGFsb25lIikgJiYgdGhpcy51KCkgJiYgdGhpcy5zKCk7CiAgICAgICAgaWYgKHN0YW5kYWxvbmUpIHsKICAgICAgICAgIGlmIChzdGFuZGFsb25lICE9PSAieWVzIiAmJiBzdGFuZGFsb25lICE9PSAibm8iKSB7CiAgICAgICAgICAgIHRocm93IHRoaXMuYSgnT25seSAieWVzIiBhbmQgIm5vIiBhcmUgcGVybWl0dGVkIGFzIHZhbHVlcyBvZiBgc3RhbmRhbG9uZWAnKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZSgpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIXNjYW5uZXIuYigiPz4iKSkgewogICAgICAgIHRocm93IHRoaXMuYSgiSW52YWxpZCBvciB1bmNsb3NlZCBYTUwgZGVjbGFyYXRpb24iKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5mLnByZXNlcnZlWG1sRGVjbGFyYXRpb24gPyB0aGlzLmoobmV3IFhtbERlY2xhcmF0aW9uKAogICAgICAgIHZlcnNpb24sCiAgICAgICAgZW5jb2RpbmcgfHwgdm9pZCAwLAogICAgICAgIHN0YW5kYWxvbmUgfHwgdm9pZCAwCiAgICAgICksIHN0YXJ0SW5kZXgpIDogdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhbiBgWG1sRXJyb3JgIGZvciB0aGUgY3VycmVudCBzY2FubmVyIHBvc2l0aW9uLgogICAgICovCiAgICBhKG1lc3NhZ2UpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgcmV0dXJuIG5ldyBYbWxFcnJvcihtZXNzYWdlLCBzY2FubmVyLmQsIHNjYW5uZXIubSk7CiAgICB9CiAgICAvKioKICAgICAqIFRocm93cyBhbiBpbnZhbGlkIGNoYXJhY3RlciBlcnJvciBpZiBhbnkgY2hhcmFjdGVyIGluIHRoZSBnaXZlbiBfc3RyaW5nXwogICAgICogaXNuJ3QgYSB2YWxpZCBYTUwgY2hhcmFjdGVyLgogICAgICovCiAgICBwKHN0cmluZykgewogICAgICBsZXQgeyBsZW5ndGggfSA9IHN0cmluZzsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkgewogICAgICAgIGxldCBjcCA9IHN0cmluZy5jb2RlUG9pbnRBdChpKTsKICAgICAgICBpZiAoIWlzWG1sQ29kZVBvaW50KGNwKSkgewogICAgICAgICAgdGhpcy5jLm8oLShbLi4uc3RyaW5nXS5sZW5ndGggLSBpKSk7CiAgICAgICAgICB0aHJvdyB0aGlzLmEoIkludmFsaWQgY2hhcmFjdGVyIik7CiAgICAgICAgfQogICAgICAgIGlmIChjcCA+IDY1NTM1KSB7CiAgICAgICAgICBpICs9IDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKICBmdW5jdGlvbiBub3JtYWxpemVMaW5lQnJlYWtzKHRleHQpIHsKICAgIGxldCBpID0gMDsKICAgIHdoaWxlICgoaSA9IHRleHQuaW5kZXhPZigiXHIiLCBpKSkgIT09IC0xKSB7CiAgICAgIHRleHQgPSB0ZXh0W2kgKyAxXSA9PT0gIlxuIiA/IHRleHQuc2xpY2UoMCwgaSkgKyB0ZXh0LnNsaWNlKGkgKyAxKSA6IHRleHQuc2xpY2UoMCwgaSkgKyAiXG4iICsgdGV4dC5zbGljZShpICsgMSk7CiAgICB9CiAgICByZXR1cm4gdGV4dDsKICB9CiAgZnVuY3Rpb24gcGFyc2VYbWwoeG1sLCBvcHRpb25zKSB7CiAgICByZXR1cm4gbmV3IFBhcnNlcih4bWwsIG9wdGlvbnMpLmRvY3VtZW50OwogIH0KICBjbGFzcyBYbWxQYXJzZUVycm9yIGV4dGVuZHMgRXJyb3IgewogICAgY29uc3RydWN0b3IobWVzc2FnZSkgewogICAgICBzdXBlcihtZXNzYWdlKTsKICAgIH0KICB9CiAgZnVuY3Rpb24gcGFyc2VYbWxTdHJpbmcoeG1sU3RyaW5nKSB7CiAgICBsZXQgZG9jID0gbnVsbDsKICAgIHRyeSB7CiAgICAgIGRvYyA9IGJyb3dzZXIucGFyc2VYbWwoeG1sU3RyaW5nKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdGhyb3cgbmV3IFhtbFBhcnNlRXJyb3IoZS5tZXNzYWdlKTsKICAgIH0KICAgIHJldHVybiBkb2M7CiAgfQogIGZ1bmN0aW9uIHN0cmlwTmFtZXNwYWNlKG5hbWUpIHsKICAgIGNvbnN0IGNvbG9uID0gbmFtZS5pbmRleE9mKCI6Iik7CiAgICByZXR1cm4gY29sb24gPiAtMSA/IG5hbWUuc3Vic3RyKGNvbG9uICsgMSkgOiBuYW1lOwogIH0KICBmdW5jdGlvbiBnZXRSb290RWxlbWVudCh4bWxEb2MpIHsKICAgIHJldHVybiB4bWxEb2MuY2hpbGRyZW5bMF07CiAgfQogIGZ1bmN0aW9uIGdldEVsZW1lbnROYW1lKGVsZW1lbnQpIHsKICAgIHJldHVybiBlbGVtZW50Lm5hbWUgfHwgIiI7CiAgfQogIGZ1bmN0aW9uIGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgbmFtZSwgbmVzdGVkID0gZmFsc2UpIHsKICAgIGNvbnN0IHN0cmlwcGVkTmFtZSA9IHN0cmlwTmFtZXNwYWNlKG5hbWUpOwogICAgZnVuY3Rpb24gcmVkdWNlcihwcmV2LCBjdXJyKSB7CiAgICAgIGlmIChzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShjdXJyKSkgPT09IHN0cmlwcGVkTmFtZSkgewogICAgICAgIHByZXYucHVzaChjdXJyKTsKICAgICAgfQogICAgICBpZiAobmVzdGVkICYmIEFycmF5LmlzQXJyYXkoY3Vyci5jaGlsZHJlbikpIHsKICAgICAgICByZXR1cm4gWy4uLnByZXYsIC4uLmN1cnIuY2hpbGRyZW4ucmVkdWNlKHJlZHVjZXIsIFtdKV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHByZXY7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBlbGVtZW50ICYmIEFycmF5LmlzQXJyYXkoZWxlbWVudC5jaGlsZHJlbikgPyBlbGVtZW50LmNoaWxkcmVuLnJlZHVjZShyZWR1Y2VyLCBbXSkgOiBbXTsKICB9CiAgZnVuY3Rpb24gZmluZENoaWxkRWxlbWVudChlbGVtZW50LCBuYW1lLCBuZXN0ZWQgPSBmYWxzZSkgewogICAgcmV0dXJuIGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgbmFtZSwgbmVzdGVkKVswXSB8fCBudWxsOwogIH0KICBmdW5jdGlvbiBnZXRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQgJiYgQXJyYXkuaXNBcnJheShlbGVtZW50LmNoaWxkcmVuKSA/IFsKICAgICAgLi4uZWxlbWVudC5jaGlsZHJlbi5maWx0ZXIoCiAgICAgICAgKGVsKSA9PiBlbCBpbnN0YW5jZW9mIGJyb3dzZXIuWG1sRWxlbWVudAogICAgICApCiAgICBdIDogW107CiAgfQogIGZ1bmN0aW9uIGdldEVsZW1lbnRUZXh0KGVsZW1lbnQpIHsKICAgIGNvbnN0IHRleHROb2RlID0gZWxlbWVudCAmJiBBcnJheS5pc0FycmF5KGVsZW1lbnQuY2hpbGRyZW4pID8gZWxlbWVudC5jaGlsZHJlbi5maW5kKChub2RlKSA9PiBub2RlLnR5cGUgPT09ICJ0ZXh0IikgOiBudWxsOwogICAgcmV0dXJuIHRleHROb2RlID8gdGV4dE5vZGUudGV4dCA6ICIiOwogIH0KICBmdW5jdGlvbiBnZXRFbGVtZW50QXR0cmlidXRlKGVsZW1lbnQsIGF0dHJOYW1lKSB7CiAgICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50LmF0dHJpYnV0ZXNbYXR0ck5hbWVdIHx8ICIiOwogIH0KICBjbGFzcyBFbmRwb2ludEVycm9yIGV4dGVuZHMgRXJyb3IgewogICAgY29uc3RydWN0b3IobWVzc2FnZSwgaHR0cFN0YXR1cywgaXNDcm9zc09yaWdpblJlbGF0ZWQpIHsKICAgICAgc3VwZXIobWVzc2FnZSk7CiAgICAgIHRoaXMuaHR0cFN0YXR1cyA9IGh0dHBTdGF0dXM7CiAgICAgIHRoaXMuaXNDcm9zc09yaWdpblJlbGF0ZWQgPSBpc0Nyb3NzT3JpZ2luUmVsYXRlZDsKICAgICAgdGhpcy5uYW1lID0gIkVuZHBvaW50RXJyb3IiOwogICAgfQogIH0KICBjbGFzcyBTZXJ2aWNlRXhjZXB0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7CiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yCiAgICAgKiBAcGFyYW0gbWVzc2FnZSBFcnJvciBtZXNzYWdlCiAgICAgKiBAcGFyYW0gcmVxdWVzdFVybCBVUkwgd2hpY2ggcmVzdWx0ZWQgaW4gdGhlIFNlcnZpY2VFeGNlcHRpb24KICAgICAqIEBwYXJhbSBjb2RlIE9wdGlvbmFsIFNlcnZpY2VFeGNlcHRpb24gY29kZQogICAgICogQHBhcmFtIGxvY2F0b3IgT3B0aW9uYWwgU2VydmljZUV4Y2VwdGlvbiBsb2NhdG9yCiAgICAgKiBAcGFyYW0gcmVzcG9uc2UgT3B0aW9uYWwgcmVzcG9uc2UgY29udGVudCByZWNlaXZlZAogICAgICovCiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZXF1ZXN0VXJsLCBjb2RlLCBsb2NhdG9yLCByZXNwb25zZSkgewogICAgICBzdXBlcihtZXNzYWdlKTsKICAgICAgdGhpcy5yZXF1ZXN0VXJsID0gcmVxdWVzdFVybDsKICAgICAgdGhpcy5jb2RlID0gY29kZTsKICAgICAgdGhpcy5sb2NhdG9yID0gbG9jYXRvcjsKICAgICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlOwogICAgICB0aGlzLm5hbWUgPSAiU2VydmljZUV4Y2VwdGlvbkVycm9yIjsKICAgIH0KICB9CiAgZnVuY3Rpb24gcGFyc2Uoc2VydmljZUV4Y2VwdGlvbiwgdXJsKSB7CiAgICBjb25zdCBlcnJvckNvZGUgPSBnZXRFbGVtZW50QXR0cmlidXRlKHNlcnZpY2VFeGNlcHRpb24sICJjb2RlIikgfHwgZ2V0RWxlbWVudEF0dHJpYnV0ZShzZXJ2aWNlRXhjZXB0aW9uLCAiZXhjZXB0aW9uQ29kZSIpOwogICAgY29uc3QgZXJyb3JMb2NhdG9yID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShzZXJ2aWNlRXhjZXB0aW9uLCAibG9jYXRvciIpOwogICAgY29uc3QgdGV4dEVsZW1lbnQgPSBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2VFeGNlcHRpb24sICJFeGNlcHRpb25UZXh0IikgfHwgc2VydmljZUV4Y2VwdGlvbjsKICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGdldEVsZW1lbnRUZXh0KHRleHRFbGVtZW50KS50cmltKCk7CiAgICByZXR1cm4gbmV3IFNlcnZpY2VFeGNlcHRpb25FcnJvcigKICAgICAgZXJyb3JNZXNzYWdlLAogICAgICB1cmwsCiAgICAgIGVycm9yQ29kZSwKICAgICAgZXJyb3JMb2NhdG9yLAogICAgICBzZXJ2aWNlRXhjZXB0aW9uLmRvY3VtZW50CiAgICApOwogIH0KICBmdW5jdGlvbiBjaGVjayhyZXNwb25zZSwgdXJsKSB7CiAgICBjb25zdCByb290RWwgPSBnZXRSb290RWxlbWVudChyZXNwb25zZSk7CiAgICBjb25zdCByb290RWxOYW1lID0gc3RyaXBOYW1lc3BhY2UoZ2V0RWxlbWVudE5hbWUocm9vdEVsKSk7CiAgICBpZiAocm9vdEVsTmFtZSA9PT0gIlNlcnZpY2VFeGNlcHRpb25SZXBvcnQiKSB7CiAgICAgIGNvbnN0IGVycm9yID0gZmluZENoaWxkRWxlbWVudChyb290RWwsICJTZXJ2aWNlRXhjZXB0aW9uIik7CiAgICAgIGlmIChlcnJvcikgewogICAgICAgIHRocm93IHBhcnNlKGVycm9yLCB1cmwpOwogICAgICB9CiAgICB9CiAgICBpZiAocm9vdEVsTmFtZSA9PT0gIkV4Y2VwdGlvblJlcG9ydCIpIHsKICAgICAgY29uc3QgZXJyb3IgPSBmaW5kQ2hpbGRFbGVtZW50KHJvb3RFbCwgIkV4Y2VwdGlvbiIpOwogICAgICBpZiAoZXJyb3IpIHsKICAgICAgICB0aHJvdyBwYXJzZShlcnJvciwgdXJsKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0KICBmdW5jdGlvbiBlbmNvZGVFcnJvcihlcnJvcikgewogICAgY29uc3QgYmFzZSA9IHsKICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLAogICAgICBuYW1lOiBlcnJvci5uYW1lCiAgICB9OwogICAgaWYgKGVycm9yIGluc3RhbmNlb2YgU2VydmljZUV4Y2VwdGlvbkVycm9yKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgLi4uYmFzZSwKICAgICAgICBjb2RlOiBlcnJvci5jb2RlLAogICAgICAgIGxvY2F0b3I6IGVycm9yLmxvY2F0b3IsCiAgICAgICAgcmVzcG9uc2U6IGVycm9yLnJlc3BvbnNlLAogICAgICAgIHJlcXVlc3RVcmw6IGVycm9yLnJlcXVlc3RVcmwKICAgICAgfTsKICAgIH0KICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVuZHBvaW50RXJyb3IpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAuLi5iYXNlLAogICAgICAgIGh0dHBTdGF0dXM6IGVycm9yLmh0dHBTdGF0dXMsCiAgICAgICAgaXNDcm9zc09yaWdpblJlbGF0ZWQ6IGVycm9yLmlzQ3Jvc3NPcmlnaW5SZWxhdGVkCiAgICAgIH07CiAgICB9CiAgICByZXR1cm4gYmFzZTsKICB9CiAgY29uc3QgZmFsbGJhY2tFdmVudFRhcmdldCA9IG5ldyBFdmVudFRhcmdldCgpOwogIGZ1bmN0aW9uIGFkZFRhc2tIYW5kbGVyKHRhc2tOYW1lLCBzY29wZSwgaGFuZGxlcikgewogICAgY29uc3QgdXNlV29ya2VyID0gdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAidW5kZWZpbmVkIjsKICAgIGNvbnN0IGV2ZW50SGFuZGxlciA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7CiAgICAgIGlmIChyZXF1ZXN0LnRhc2tOYW1lID09PSB0YXNrTmFtZSkgewogICAgICAgIGxldCByZXNwb25zZSwgZXJyb3I7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlcihyZXF1ZXN0LnBhcmFtcyk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgZXJyb3IgPSBlbmNvZGVFcnJvcihlKTsKICAgICAgICB9CiAgICAgICAgY29uc3QgbWVzc2FnZSA9ICgKICAgICAgICAgIC8qKiBAdHlwZSB7V29ya2VyUmVzcG9uc2V9ICovCiAgICAgICAgICB7CiAgICAgICAgICAgIHRhc2tOYW1lLAogICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QucmVxdWVzdElkLAogICAgICAgICAgICAuLi5yZXNwb25zZSAmJiB7IHJlc3BvbnNlIH0sCiAgICAgICAgICAgIC4uLmVycm9yICYmIHsgZXJyb3IgfQogICAgICAgICAgfQogICAgICAgICk7CiAgICAgICAgaWYgKHVzZVdvcmtlcikgewogICAgICAgICAgc2NvcGUucG9zdE1lc3NhZ2UobWVzc2FnZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZhbGxiYWNrRXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudCgKICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KCJvZ2MtY2xpZW50LnJlc3BvbnNlIiwgewogICAgICAgICAgICAgIGRldGFpbDogbWVzc2FnZQogICAgICAgICAgICB9KQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICBpZiAodXNlV29ya2VyKSB7CiAgICAgIHNjb3BlLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCAoZXZlbnQpID0+IGV2ZW50SGFuZGxlcihldmVudC5kYXRhKSk7CiAgICB9IGVsc2UgewogICAgICBmYWxsYmFja0V2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoCiAgICAgICAgIm9nYy1jbGllbnQucmVxdWVzdCIsCiAgICAgICAgKGV2ZW50KSA9PiBldmVudEhhbmRsZXIoZXZlbnQuZGV0YWlsKQogICAgICApOwogICAgfQogIH0KICBjb25zdCBFTkNPRElOR1MgPSBbInV0Zi04IiwgInV0Zi0xNiIsICJpc28tODg1OS0xIl07CiAgY29uc3QgRkFMTEJBQ0tfRU5DT0RJTkcgPSAidXRmLTgiOwogIGZ1bmN0aW9uIGV4dHJhY3RFbmNvZGluZyhjb250ZW50VHlwZSkgewogICAgY29uc3QgbWF0Y2hlcyA9IC9jaGFyc2V0PShbXjtdKykvLmV4ZWMoY29udGVudFR5cGUpOwogICAgcmV0dXJuIG1hdGNoZXMgPyBtYXRjaGVzWzFdIDogbnVsbDsKICB9CiAgZnVuY3Rpb24gZGVjb2RlU3RyaW5nKGJ1ZmZlciwgY29udGVudFR5cGUpIHsKICAgIGNvbnN0IGVuY29kaW5nSGludCA9IGNvbnRlbnRUeXBlID8gZXh0cmFjdEVuY29kaW5nKGNvbnRlbnRUeXBlKSA6IG51bGw7CiAgICBjb25zdCBlbmNvZGluZ0F0dGVtcHRzID0gZW5jb2RpbmdIaW50ID8gW2VuY29kaW5nSGludCwgLi4uRU5DT0RJTkdTXSA6IEVOQ09ESU5HUzsKICAgIGZvciAoY29uc3QgZW5jb2Rpbmcgb2YgZW5jb2RpbmdBdHRlbXB0cykgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmcsIHsgZmF0YWw6IHRydWUgfSk7CiAgICAgICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKGJ1ZmZlcik7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgfQogICAgfQogICAgY29uc29sZS53YXJuKAogICAgICBgW29nYy1jbGllbnRdIFhNTCBkb2N1bWVudCBlbmNvZGluZyBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZCwgZmFsbGluZyBiYWNrIHRvICR7RkFMTEJBQ0tfRU5DT0RJTkd9LmAKICAgICk7CiAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKEZBTExCQUNLX0VOQ09ESU5HKS5kZWNvZGUoYnVmZmVyKTsKICB9CiAgY29uc3QgZmV0Y2hQcm9taXNlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgbGV0IGZldGNoT3B0aW9ucyA9IHt9OwogIGZ1bmN0aW9uIHNldEZldGNoT3B0aW9ucyhvcHRpb25zKSB7CiAgICBmZXRjaE9wdGlvbnMgPSBvcHRpb25zOwogIH0KICBmdW5jdGlvbiBnZXRGZXRjaE9wdGlvbnMoKSB7CiAgICByZXR1cm4gZmV0Y2hPcHRpb25zOwogIH0KICBmdW5jdGlvbiBzaGFyZWRGZXRjaCh1cmwsIG1ldGhvZCA9ICJHRVQiLCBhc0pzb24sIGN1c3RvbUFjY2VwdEhlYWRlcikgewogICAgbGV0IGZldGNoS2V5ID0gYCR7bWV0aG9kfSMke3VybH1gOwogICAgaWYgKGFzSnNvbiB8fCBjdXN0b21BY2NlcHRIZWFkZXIpIHsKICAgICAgZmV0Y2hLZXkgPSBgJHttZXRob2R9I2FzSnNvbiMke3VybH1gOwogICAgfQogICAgaWYgKGZldGNoUHJvbWlzZXMuaGFzKGZldGNoS2V5KSkgewogICAgICByZXR1cm4gZmV0Y2hQcm9taXNlcy5nZXQoZmV0Y2hLZXkpOwogICAgfQogICAgY29uc3Qgb3B0aW9ucyA9IHsgLi4uZ2V0RmV0Y2hPcHRpb25zKCkgfTsKICAgIG9wdGlvbnMubWV0aG9kID0gbWV0aG9kOwogICAgaWYgKGN1c3RvbUFjY2VwdEhlYWRlcikgewogICAgICBvcHRpb25zLmhlYWRlcnMgPSAiaGVhZGVycyIgaW4gb3B0aW9ucyA/IG9wdGlvbnMuaGVhZGVycyA6IHt9OwogICAgICBvcHRpb25zLmhlYWRlcnNbIkFjY2VwdCJdID0gY3VzdG9tQWNjZXB0SGVhZGVyOwogICAgfSBlbHNlIGlmIChhc0pzb24pIHsKICAgICAgb3B0aW9ucy5oZWFkZXJzID0gImhlYWRlcnMiIGluIG9wdGlvbnMgPyBvcHRpb25zLmhlYWRlcnMgOiB7fTsKICAgICAgb3B0aW9ucy5oZWFkZXJzWyJBY2NlcHQiXSA9ICJhcHBsaWNhdGlvbi9qc29uLGFwcGxpY2F0aW9uL3NjaGVtYStqc29uIjsKICAgIH0KICAgIGNvbnN0IHByb21pc2UgPSBmZXRjaCh1cmwsIG9wdGlvbnMpLmNhdGNoKChlKSA9PiBlKS50aGVuKChyZXNwKSA9PiB7CiAgICAgIGZldGNoUHJvbWlzZXMuZGVsZXRlKGZldGNoS2V5KTsKICAgICAgcmV0dXJuIHJlc3A7CiAgICB9KTsKICAgIGZldGNoUHJvbWlzZXMuc2V0KGZldGNoS2V5LCBwcm9taXNlKTsKICAgIHJldHVybiBwcm9taXNlLnRoZW4oKHJlc3ApID0+IHsKICAgICAgaWYgKHJlc3AgaW5zdGFuY2VvZiBFcnJvcikKICAgICAgICB0aHJvdyByZXNwOwogICAgICByZXR1cm4gcmVzcC5jbG9uZSgpOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHF1ZXJ5WG1sRG9jdW1lbnQodXJsKSB7CiAgICByZXR1cm4gc2hhcmVkRmV0Y2godXJsKS5jYXRjaCgKICAgICAgKCkgPT4gKAogICAgICAgIC8vIGF0dGVtcHQgYSBIRUFEIHRvIHNlZSBpZiB0aGUgZmFpbHVyZSBjb21lcyBmcm9tIENPUlMgb3IgdGhlIHNlcnZpY2UgaXMgZ2VuZXJhbGx5IHVucmVhY2hhYmxlCiAgICAgICAgZmV0Y2godXJsLCB7IC4uLmdldEZldGNoT3B0aW9ucygpLCBtZXRob2Q6ICJIRUFEIiwgbW9kZTogIm5vLWNvcnMiIH0pLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoCiAgICAgICAgICAgIGBGZXRjaGluZyB0aGUgZG9jdW1lbnQgZmFpbGVkIGVpdGhlciBkdWUgdG8gbmV0d29yayBlcnJvcnMgb3IgdW5yZWFjaGFibGUgaG9zdCwgZXJyb3IgaXM6ICR7ZXJyb3IubWVzc2FnZX1gLAogICAgICAgICAgICAwLAogICAgICAgICAgICBmYWxzZQogICAgICAgICAgKTsKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKAogICAgICAgICAgICBgVGhlIGRvY3VtZW50IGNvdWxkIG5vdCBiZSBmZXRjaGVkIGR1ZSB0byBDT1JTIGxpbWl0YXRpb25zYCwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgdHJ1ZQogICAgICAgICAgKTsKICAgICAgICB9KQogICAgICApCiAgICApLnRoZW4oYXN5bmMgKHJlc3ApID0+IHsKICAgICAgaWYgKCFyZXNwLm9rKSB7CiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3AudGV4dCgpOwogICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKAogICAgICAgICAgYFJlY2VpdmVkIGFuIGVycm9yIHdpdGggY29kZSAke3Jlc3Auc3RhdHVzfTogJHt0ZXh0fWAsCiAgICAgICAgICByZXNwLnN0YXR1cywKICAgICAgICAgIGZhbHNlCiAgICAgICAgKTsKICAgICAgfQogICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCByZXNwLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGNvbnRlbnRUeXBlSGVhZGVyID0gcmVzcC5oZWFkZXJzLmdldCgiQ29udGVudC1UeXBlIik7CiAgICAgIHJldHVybiBkZWNvZGVTdHJpbmcoYnVmZmVyLCBjb250ZW50VHlwZUhlYWRlcik7CiAgICB9KS50aGVuKCh4bWwpID0+IHBhcnNlWG1sU3RyaW5nKHhtbCkpOwogIH0KICBmdW5jdGlvbiBzZXRRdWVyeVBhcmFtcyh1cmwsIHBhcmFtcykgewogICAgY29uc3QgZW5jb2RlZFVybE1hdGNoID0gdXJsLm1hdGNoKC8oaHR0cHM/JTNBJTJGJTJGW14vXSspJC8pOwogICAgaWYgKGVuY29kZWRVcmxNYXRjaCkgewogICAgICBjb25zdCBlbmNvZGVkVXJsID0gZW5jb2RlZFVybE1hdGNoWzFdOwogICAgICBjb25zdCBtb2RpZmllZFVybCA9IHNldFF1ZXJ5UGFyYW1zKGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkVXJsKSwgcGFyYW1zKTsKICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKGVuY29kZWRVcmwsIGVuY29kZVVSSUNvbXBvbmVudChtb2RpZmllZFVybCkpOwogICAgfQogICAgY29uc3QgdXJsT2JqID0gbmV3IFVSTCh1cmwpOwogICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHBhcmFtcyk7CiAgICBjb25zdCBrZXlzTG93ZXIgPSBrZXlzLm1hcCgoa2V5KSA9PiBrZXkudG9Mb3dlckNhc2UoKSk7CiAgICBjb25zdCB0b0RlbGV0ZSA9IFtdOwogICAgZm9yIChjb25zdCBwYXJhbSBvZiB1cmxPYmouc2VhcmNoUGFyYW1zLmtleXMoKSkgewogICAgICBpZiAoa2V5c0xvd2VyLmluZGV4T2YocGFyYW0udG9Mb3dlckNhc2UoKSkgPiAtMSkgewogICAgICAgIHRvRGVsZXRlLnB1c2gocGFyYW0pOwogICAgICB9CiAgICB9CiAgICB0b0RlbGV0ZS5tYXAoKHBhcmFtKSA9PiB1cmxPYmouc2VhcmNoUGFyYW1zLmRlbGV0ZShwYXJhbSkpOwogICAga2V5cy5mb3JFYWNoKAogICAgICAoa2V5KSA9PiB1cmxPYmouc2VhcmNoUGFyYW1zLnNldCgKICAgICAgICBrZXksCiAgICAgICAgcGFyYW1zW2tleV0gPT09IHRydWUgPyAiIiA6IHBhcmFtc1trZXldCiAgICAgICkKICAgICk7CiAgICB1cmxPYmouc2VhcmNoID0gdXJsT2JqLnNlYXJjaC5yZXBsYWNlKC9cKy9nLCAiJTIwIik7CiAgICByZXR1cm4gdXJsT2JqLnRvU3RyaW5nKCk7CiAgfQogIGNvbnN0IExhdExvbkNyc0xpc3QgPSBbCiAgICAiRVBTRzo0MDQ2IiwKICAgIC8vIFJHUkRDIDIwMDUKICAgICJFUFNHOjQwNzUiLAogICAgLy8gU1JFRjk4CiAgICAiRVBTRzo0MTIwIiwKICAgIC8vIEdyZWVrCiAgICAiRVBTRzo0MTIyIiwKICAgIC8vIEFUUzc3CiAgICAiRVBTRzo0MTI0IiwKICAgIC8vIFJUOTAKICAgICJFUFNHOjQxMjYiLAogICAgLy8gTEtTOTQgKEVUUlM4OSkKICAgICJFUFNHOjQxNDkiLAogICAgLy8gQ0gxOTAzCiAgICAiRVBTRzo0MTUxIiwKICAgIC8vIENIVFJGOTUKICAgICJFUFNHOjQxNTMiLAogICAgLy8gUmFzc2FkaXJhbgogICAgIkVQU0c6NDE1NSIsCiAgICAvLyBEYWJvbGEgMTk4MQogICAgIkVQU0c6NDE1NyIsCiAgICAvLyBNb3VudCBEaWxsb24KICAgICJFUFNHOjQxNTkiLAogICAgLy8gRUxENzkKICAgICJFUFNHOjQxNjEiLAogICAgLy8gUGFtcGEgZGVsIENhc3RpbGxvCiAgICAiRVBTRzo0MTYzIiwKICAgIC8vIFllbWVuIE5HTjk2CiAgICAiRVBTRzo0MTY1IiwKICAgIC8vIEJpc3NhdQogICAgIkVQU0c6NDE2NyIsCiAgICAvLyBOWkdEMjAwMAogICAgIkVQU0c6NDE2OSIsCiAgICAvLyBBbWVyaWNhbiBTYW1vYSAxOTYyCiAgICAiRVBTRzo0MTcxIiwKICAgIC8vIFJHRjkzCiAgICAiRVBTRzo0MTczIiwKICAgIC8vIElSRU5FVDk1CiAgICAiRVBTRzo0MTc1IiwKICAgIC8vIFNpZXJyYSBMZW9uZSAxOTY4CiAgICAiRVBTRzo0MTc4IiwKICAgIC8vIFB1bGtvdm8gMTk0Mig4MykKICAgICJFUFNHOjQxODAiLAogICAgLy8gRVNUOTcKICAgICJFUFNHOjQxODIiLAogICAgLy8gQXpvcmVzIE9jY2lkZW50YWwgMTkzOQogICAgIkVQU0c6NDE4NCIsCiAgICAvLyBBem9yZXMgT3JpZW50YWwgMTk0MAogICAgIkVQU0c6NDE4OCIsCiAgICAvLyBPU05JIDE5NTIKICAgICJFUFNHOjQxOTAiLAogICAgLy8gUE9TR0FSIDk4CiAgICAiRVBTRzo0MTkxIiwKICAgIC8vIEFsYmFuaWFuIDE5ODcKICAgICJFUFNHOjQxOTYiLAogICAgLy8gQW1tYXNzYWxpayAxOTU4CiAgICAiRVBTRzo0MTk4IiwKICAgIC8vIEtvdXNzZXJpCiAgICAiRVBTRzo0MjAyIiwKICAgIC8vIEFHRDY2CiAgICAiRVBTRzo0MjEwIiwKICAgIC8vIEFyYyAxOTYwCiAgICAiRVBTRzo0MjExIiwKICAgIC8vIEJhdGF2aWEKICAgICJFUFNHOjQyMTQiLAogICAgLy8gQmVpamluZyAxOTU0CiAgICAiRVBTRzo0MjI2IiwKICAgIC8vIENvdGUgZCdJdm9pcmUKICAgICJFUFNHOjQyMjkiLAogICAgLy8gRWd5cHQgMTkwNwogICAgIkVQU0c6NDIzMSIsCiAgICAvLyBFRDg3CiAgICAiRVBTRzo0MjMzIiwKICAgIC8vIEdhbmRhamlrYSAxOTcwCiAgICAiRVBTRzo0MjM2IiwKICAgIC8vIEh1IFR6dSBTaGFuIDE5NTAKICAgICJFUFNHOjQyMzgiLAogICAgLy8gSUQ3NAogICAgIkVQU0c6NDI0MCIsCiAgICAvLyBJbmRpYW4gMTk3NQogICAgIkVQU0c6NDI0MiIsCiAgICAvLyBKQUQ2OQogICAgIkVQU0c6NDI0NCIsCiAgICAvLyBLYW5kYXdhbGEKICAgICJFUFNHOjQyNDYiLAogICAgLy8gS09DCiAgICAiRVBTRzo0MjQ4IiwKICAgIC8vIFBTQUQ1NgogICAgIkVQU0c6NDI1MCIsCiAgICAvLyBMZWlnb24KICAgICJFUFNHOjQyNTIiLAogICAgLy8gTG9tZQogICAgIkVQU0c6NDI1NSIsCiAgICAvLyBIZXJhdCBOb3J0aAogICAgIkVQU0c6NDI1OCIsCiAgICAvLyBFVFJTODkKICAgICJFUFNHOjQyNjEiLAogICAgLy8gTWVyY2hpY2gKICAgICJFUFNHOjQyNjQiLAogICAgLy8gTWhhc3QKICAgICJFUFNHOjQyNjciLAogICAgLy8gTkFEMjcKICAgICJFUFNHOjQyNzAiLAogICAgLy8gTmFocndhbiAxOTY3CiAgICAiRVBTRzo0MjczIiwKICAgIC8vIE5HTyAxOTQ4CiAgICAiRVBTRzo0Mjc2IiwKICAgIC8vIE5TV0MgOVotMgogICAgIkVQU0c6NDI3OSIsCiAgICAvLyBPUyhTTik4MAogICAgIkVQU0c6NDI4MSIsCiAgICAvLyBQYWxlc3RpbmUgMTkyMwogICAgIkVQU0c6NDI4NCIsCiAgICAvLyBQdWxrb3ZvIDE5NDIKICAgICJFUFNHOjQyODYiLAogICAgLy8gUWF0YXIgMTk0OAogICAgIkVQU0c6NDI4OCIsCiAgICAvLyBMb21hIFF1aW50YW5hCiAgICAiRVBTRzo0MjkyIiwKICAgIC8vIFNhcHBlciBIaWxsIDE5NDMKICAgICJFUFNHOjQyOTUiLAogICAgLy8gU2VyaW5kdW5nCiAgICAiRVBTRzo0Mjk3IiwKICAgIC8vIFRhbmFuYXJpdmUKICAgICJFUFNHOjQyOTkiLAogICAgLy8gVE02NQogICAgIkVQU0c6NDMwMiIsCiAgICAvLyBUcmluaWRhZCAxOTAzCiAgICAiRVBTRzo0MzI0IiwKICAgIC8vIFdHUyA3MkJFCiAgICAiRVBTRzo0MzI2IgogICAgLy8gV0dTIDg0CiAgXTsKICBmdW5jdGlvbiBoYXNJbnZlcnRlZENvb3JkaW5hdGVzKGNyc05hbWUpIHsKICAgIHJldHVybiBMYXRMb25DcnNMaXN0LmluZGV4T2Yoc2ltcGxpZnlFcHNnVXJuKGNyc05hbWUpKSA+IC0xOwogIH0KICBmdW5jdGlvbiBzaW1wbGlmeUVwc2dVcm4oZnVsbENyc05hbWUpIHsKICAgIGlmICgvXnVybjooPzp4LSk/b2djOmRlZjpjcnM6ZXBzZzovLnRlc3QoZnVsbENyc05hbWUudG9Mb3dlckNhc2UoKSkpIHsKICAgICAgY29uc3QgY29kZSA9IC8oWzAtOV0rKSQvLmV4ZWMoZnVsbENyc05hbWUpWzFdOwogICAgICByZXR1cm4gYEVQU0c6JHtjb2RlfWA7CiAgICB9CiAgICByZXR1cm4gZnVsbENyc05hbWU7CiAgfQogIGZ1bmN0aW9uIHJlYWRPcGVyYXRpb25VcmxzRnJvbUNhcGFiaWxpdGllcyQxKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgdXJscyA9IHt9OwogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIGNvbnN0IHJlcXVlc3QgPSBmaW5kQ2hpbGRFbGVtZW50KGNhcGFiaWxpdHksICJSZXF1ZXN0Iik7CiAgICBnZXRDaGlsZHJlbkVsZW1lbnQocmVxdWVzdCkuZm9yRWFjaCgob3BlcmF0aW9uKSA9PiB7CiAgICAgIGNvbnN0IG9wZXJhdGlvbk5hbWUgPSBzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShvcGVyYXRpb24pKTsKICAgICAgdXJsc1tvcGVyYXRpb25OYW1lXSA9IHBhcnNlT3BlcmF0aW9uKG9wZXJhdGlvbik7CiAgICB9KTsKICAgIHJldHVybiB1cmxzOwogIH0KICBmdW5jdGlvbiByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIHJldHVybiBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLmF0dHJpYnV0ZXNbInZlcnNpb24iXTsKICB9CiAgZnVuY3Rpb24gcmVhZExheWVyc0Zyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIHJldHVybiBmaW5kQ2hpbGRyZW5FbGVtZW50KGNhcGFiaWxpdHksICJMYXllciIpLm1hcCgKICAgICAgKGxheWVyRWwpID0+IHBhcnNlTGF5ZXIobGF5ZXJFbCwgdmVyc2lvbikKICAgICk7CiAgfQogIGZ1bmN0aW9uIHJlYWRPdXRwdXRGb3JtYXRzRnJvbUNhcGFiaWxpdGllcyQxKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIGNvbnN0IGdldE1hcCA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY2FwYWJpbGl0eSwgIlJlcXVlc3QiKSwKICAgICAgIkdldE1hcCIKICAgICk7CiAgICBjb25zdCBvdXRwdXRGb3JtYXRzID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRNYXAsICJGb3JtYXQiKS5tYXAoCiAgICAgIGdldEVsZW1lbnRUZXh0CiAgICApOwogICAgcmV0dXJuIG91dHB1dEZvcm1hdHM7CiAgfQogIGZ1bmN0aW9uIHJlYWRJbmZvRm9ybWF0c0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBjb25zdCBjYXBhYmlsaXR5ID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIkNhcGFiaWxpdHkiCiAgICApOwogICAgY29uc3QgZ2V0RmVhdHVyZUluZm8gPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KGNhcGFiaWxpdHksICJSZXF1ZXN0IiksCiAgICAgICJHZXRGZWF0dXJlSW5mbyIKICAgICk7CiAgICBjb25zdCBvdXRwdXRGb3JtYXRzID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRGZWF0dXJlSW5mbywgIkZvcm1hdCIpLm1hcCgKICAgICAgZ2V0RWxlbWVudFRleHQKICAgICk7CiAgICByZXR1cm4gb3V0cHV0Rm9ybWF0czsKICB9CiAgZnVuY3Rpb24gcmVhZEV4Y2VwdGlvbkZvcm1hdHNGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIGNvbnN0IGV4Y2VwdGlvbiA9IGZpbmRDaGlsZEVsZW1lbnQoY2FwYWJpbGl0eSwgIkV4Y2VwdGlvbiIpOwogICAgY29uc3QgZXhjZXB0aW9uRm9ybWF0cyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoZXhjZXB0aW9uLCAiRm9ybWF0IikubWFwKAogICAgICBnZXRFbGVtZW50VGV4dAogICAgKTsKICAgIHJldHVybiBleGNlcHRpb25Gb3JtYXRzOwogIH0KICBmdW5jdGlvbiByZWFkSW5mb0Zyb21DYXBhYmlsaXRpZXMkMihjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHNlcnZpY2UgPSBmaW5kQ2hpbGRFbGVtZW50KGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksICJTZXJ2aWNlIik7CiAgICBjb25zdCBvdXRwdXRGb3JtYXRzID0gcmVhZE91dHB1dEZvcm1hdHNGcm9tQ2FwYWJpbGl0aWVzJDEoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IGluZm9Gb3JtYXRzID0gcmVhZEluZm9Gb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3QgZXhjZXB0aW9uRm9ybWF0cyA9IHJlYWRFeGNlcHRpb25Gb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3Qga2V5d29yZHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJLZXl3b3JkTGlzdCIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KS5maWx0ZXIoKHYsIGksIGFycikgPT4gYXJyLmluZGV4T2YodikgPT09IGkpOwogICAgY29uc3QgcHJvdmlkZXIgPSByZWFkUHJvdmlkZXJGcm9tQ2FwYWJpbGl0aWVzJDEoY2FwYWJpbGl0aWVzRG9jKTsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJUaXRsZSIpKSwKICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiTmFtZSIpKSwKICAgICAgYWJzdHJhY3Q6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkFic3RyYWN0IikpLAogICAgICBvdXRwdXRGb3JtYXRzLAogICAgICBpbmZvRm9ybWF0cywKICAgICAgZXhjZXB0aW9uRm9ybWF0cywKICAgICAgZmVlczogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiRmVlcyIpKSwKICAgICAgY29uc3RyYWludHM6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkFjY2Vzc0NvbnN0cmFpbnRzIikpLAogICAgICBwcm92aWRlciwKICAgICAga2V5d29yZHMKICAgIH07CiAgfQogIGZ1bmN0aW9uIHBhcnNlT3BlcmF0aW9uKG9wZXJhdGlvbikgewogICAgY29uc3QgdXJscyA9IHt9OwogICAgY29uc3QgZGNwVHlwZSA9IGZpbmRDaGlsZHJlbkVsZW1lbnQob3BlcmF0aW9uLCAiRENQVHlwZSIpOwogICAgY29uc3QgaHR0cCA9IGRjcFR5cGUuZmxhdE1hcCgoZCkgPT4gZmluZENoaWxkRWxlbWVudChkLCAiSFRUUCIpKTsKICAgIGNvbnN0IG1ldGhvZHMgPSBodHRwLmZsYXRNYXAoKGgpID0+IGdldENoaWxkcmVuRWxlbWVudChoKSk7CiAgICBtZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4gewogICAgICBjb25zdCBvbmxpbmVSZXNvdXJjZSA9IGZpbmRDaGlsZEVsZW1lbnQobWV0aG9kLCAiT25saW5lUmVzb3VyY2UiKTsKICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IHN0cmlwTmFtZXNwYWNlKGdldEVsZW1lbnROYW1lKG1ldGhvZCkpOwogICAgICB1cmxzW21ldGhvZE5hbWVdID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShvbmxpbmVSZXNvdXJjZSwgInhsaW5rOmhyZWYiKTsKICAgIH0pOwogICAgcmV0dXJuIHVybHM7CiAgfQogIGZ1bmN0aW9uIHBhcnNlTGF5ZXIobGF5ZXJFbCwgdmVyc2lvbiwgaW5oZXJpdGVkU3JzID0gW10sIGluaGVyaXRlZFN0eWxlcyA9IFtdLCBpbmhlcml0ZWRBdHRyaWJ1dGlvbiA9IG51bGwsIGluaGVyaXRlZEJvdW5kaW5nQm94ZXMgPSBudWxsLCBpbmhlcml0ZWRNYXhTY2FsZURlbm9tID0gbnVsbCwgaW5oZXJpdGVkTWluU2NhbGVEZW5vbSA9IG51bGwpIHsKICAgIGNvbnN0IHNyc1RhZyA9IHZlcnNpb24gPT09ICIxLjMuMCIgPyAiQ1JTIiA6ICJTUlMiOwogICAgY29uc3Qgc3JzTGlzdCA9IGZpbmRDaGlsZHJlbkVsZW1lbnQobGF5ZXJFbCwgc3JzVGFnKS5tYXAoZ2V0RWxlbWVudFRleHQpOwogICAgY29uc3QgYXZhaWxhYmxlQ3JzID0gc3JzTGlzdC5sZW5ndGggPiAwID8gc3JzTGlzdCA6IGluaGVyaXRlZFNyczsKICAgIGNvbnN0IGxheWVyU3R5bGVzID0gZmluZENoaWxkcmVuRWxlbWVudChsYXllckVsLCAiU3R5bGUiKS5tYXAoCiAgICAgIHBhcnNlTGF5ZXJTdHlsZQogICAgKTsKICAgIGNvbnN0IHN0eWxlcyA9IGxheWVyU3R5bGVzLmxlbmd0aCA+IDAgPyBsYXllclN0eWxlcyA6IGluaGVyaXRlZFN0eWxlczsKICAgIGZ1bmN0aW9uIHBhcnNlQkJveDIoYmJveEVsKSB7CiAgICAgIGNvbnN0IHNycyA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoYmJveEVsLCBzcnNUYWcpOwogICAgICBjb25zdCBhdHRycyA9IGhhc0ludmVydGVkQ29vcmRpbmF0ZXMoc3JzKSAmJiB2ZXJzaW9uID09PSAiMS4zLjAiID8gWyJtaW55IiwgIm1pbngiLCAibWF4eSIsICJtYXh4Il0gOiBbIm1pbngiLCAibWlueSIsICJtYXh4IiwgIm1heHkiXTsKICAgICAgcmV0dXJuIGF0dHJzLm1hcCgobmFtZSkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIG5hbWUpKTsKICAgIH0KICAgIGZ1bmN0aW9uIHBhcnNlRXhHZW9ncmFwaGljQm91bmRpbmdCb3goYmJveEVsKSB7CiAgICAgIHJldHVybiBbCiAgICAgICAgIndlc3RCb3VuZExvbmdpdHVkZSIsCiAgICAgICAgInNvdXRoQm91bmRMYXRpdHVkZSIsCiAgICAgICAgImVhc3RCb3VuZExvbmdpdHVkZSIsCiAgICAgICAgIm5vcnRoQm91bmRMYXRpdHVkZSIKICAgICAgXS5tYXAoKG5hbWUpID0+IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYmJveEVsLCBuYW1lKSkpOwogICAgfQogICAgZnVuY3Rpb24gcGFyc2VMYXRMb25Cb3VuZGluZ0JveChiYm94RWwpIHsKICAgICAgcmV0dXJuIFsibWlueCIsICJtaW55IiwgIm1heHgiLCAibWF4eSJdLm1hcCgKICAgICAgICAobmFtZSkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIG5hbWUpCiAgICAgICk7CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZVNjYWxlSGludFZhbHVlKHRleHRWYWx1ZSwgZGVmYXVsdFZhbHVlKSB7CiAgICAgIGlmICh0ZXh0VmFsdWUgPT09ICIiKSB7CiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTsKICAgICAgfQogICAgICByZXR1cm4gTWF0aC5zcXJ0KDAuNSAqIHBhcnNlRmxvYXQodGV4dFZhbHVlKSAqKiAyKSAvIDI4ZS01OwogICAgfQogICAgZnVuY3Rpb24gcGFyc2VTY2FsZUhpbnQoKSB7CiAgICAgIGNvbnN0IHNjYWxlSGludCA9IGZpbmRDaGlsZEVsZW1lbnQobGF5ZXJFbCwgIlNjYWxlSGludCIpOwogICAgICBpZiAoIXNjYWxlSGludCkgewogICAgICAgIHJldHVybiBbaW5oZXJpdGVkTWluU2NhbGVEZW5vbSwgaW5oZXJpdGVkTWF4U2NhbGVEZW5vbV07CiAgICAgIH0KICAgICAgY29uc3QgbWluID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShzY2FsZUhpbnQsICJtaW4iKTsKICAgICAgY29uc3QgbWF4ID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShzY2FsZUhpbnQsICJtYXgiKTsKICAgICAgcmV0dXJuIFsKICAgICAgICBwYXJzZVNjYWxlSGludFZhbHVlKG1pbiwgaW5oZXJpdGVkTWluU2NhbGVEZW5vbSksCiAgICAgICAgcGFyc2VTY2FsZUhpbnRWYWx1ZShtYXgsIGluaGVyaXRlZE1heFNjYWxlRGVub20pCiAgICAgIF07CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZVNjYWxlRGVub21pbmF0b3IobmFtZSwgaW5oZXJpdGVkVmFsdWUpIHsKICAgICAgY29uc3QgdGV4dFZhbHVlID0gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChsYXllckVsLCBuYW1lKSk7CiAgICAgIHJldHVybiB0ZXh0VmFsdWUgPT09ICIiID8gaW5oZXJpdGVkVmFsdWUgOiBwYXJzZUZsb2F0KHRleHRWYWx1ZSk7CiAgICB9CiAgICBjb25zdCBhdHRyaWJ1dGlvbkVsID0gZmluZENoaWxkRWxlbWVudChsYXllckVsLCAiQXR0cmlidXRpb24iKTsKICAgIGNvbnN0IGF0dHJpYnV0aW9uID0gYXR0cmlidXRpb25FbCAhPT0gbnVsbCA/IHBhcnNlTGF5ZXJBdHRyaWJ1dGlvbihhdHRyaWJ1dGlvbkVsKSA6IGluaGVyaXRlZEF0dHJpYnV0aW9uOwogICAgY29uc3QgbGF0TG9uQmJveEVsID0gdmVyc2lvbiA9PT0gIjEuMy4wIiA/IGZpbmRDaGlsZEVsZW1lbnQobGF5ZXJFbCwgIkVYX0dlb2dyYXBoaWNCb3VuZGluZ0JveCIpIDogZmluZENoaWxkRWxlbWVudChsYXllckVsLCAiTGF0TG9uQm91bmRpbmdCb3giKTsKICAgIGNvbnN0IGJhc2VCb3VuZGluZ0JveCA9IHt9OwogICAgaWYgKGxhdExvbkJib3hFbCkgewogICAgICBiYXNlQm91bmRpbmdCb3hbIkVQU0c6NDMyNiJdID0gdmVyc2lvbiA9PT0gIjEuMy4wIiA/IHBhcnNlRXhHZW9ncmFwaGljQm91bmRpbmdCb3gobGF0TG9uQmJveEVsKSA6IHBhcnNlTGF0TG9uQm91bmRpbmdCb3gobGF0TG9uQmJveEVsKTsKICAgIH0KICAgIGxldCBib3VuZGluZ0JveGVzID0gZmluZENoaWxkcmVuRWxlbWVudChsYXllckVsLCAiQm91bmRpbmdCb3giKS5yZWR1Y2UoCiAgICAgIChwcmV2LCBiYm94RWwpID0+ICh7CiAgICAgICAgLi4ucHJldiwKICAgICAgICBbZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIHNyc1RhZyldOiBwYXJzZUJCb3gyKGJib3hFbCkKICAgICAgfSksCiAgICAgIGJhc2VCb3VuZGluZ0JveAogICAgKTsKICAgIGJvdW5kaW5nQm94ZXMgPSBPYmplY3Qua2V5cyhib3VuZGluZ0JveGVzKS5sZW5ndGggPiAwIHx8IGluaGVyaXRlZEJvdW5kaW5nQm94ZXMgPT09IG51bGwgPyBib3VuZGluZ0JveGVzIDogaW5oZXJpdGVkQm91bmRpbmdCb3hlczsKICAgIGNvbnN0IHF1ZXJ5YWJsZSA9IGxheWVyRWwuYXR0cmlidXRlcy5xdWVyeWFibGUgPT09ICIxIiB8fCBsYXllckVsLmF0dHJpYnV0ZXMucXVlcnlhYmxlID09PSAidHJ1ZSIgPyB0cnVlIDogZmFsc2U7CiAgICBjb25zdCBvcGFxdWUgPSBsYXllckVsLmF0dHJpYnV0ZXMub3BhcXVlID09PSAiMSIgfHwgbGF5ZXJFbC5hdHRyaWJ1dGVzLm9wYXF1ZSA9PT0gInRydWUiID8gdHJ1ZSA6IGZhbHNlOwogICAgY29uc3Qga2V5d29yZHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJLZXl3b3JkTGlzdCIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KS5maWx0ZXIoKHYsIGksIGFycikgPT4gYXJyLmluZGV4T2YodikgPT09IGkpOwogICAgbGV0IG1pblNjYWxlRGVub21pbmF0b3IsIG1heFNjYWxlRGVub21pbmF0b3I7CiAgICBpZiAodmVyc2lvbiA9PT0gIjEuMy4wIikgewogICAgICBtaW5TY2FsZURlbm9taW5hdG9yID0gcGFyc2VTY2FsZURlbm9taW5hdG9yKAogICAgICAgICJNaW5TY2FsZURlbm9taW5hdG9yIiwKICAgICAgICBpbmhlcml0ZWRNaW5TY2FsZURlbm9tCiAgICAgICk7CiAgICAgIG1heFNjYWxlRGVub21pbmF0b3IgPSBwYXJzZVNjYWxlRGVub21pbmF0b3IoCiAgICAgICAgIk1heFNjYWxlRGVub21pbmF0b3IiLAogICAgICAgIGluaGVyaXRlZE1heFNjYWxlRGVub20KICAgICAgKTsKICAgIH0gZWxzZSB7CiAgICAgIFttaW5TY2FsZURlbm9taW5hdG9yLCBtYXhTY2FsZURlbm9taW5hdG9yXSA9IHBhcnNlU2NhbGVIaW50KCk7CiAgICB9CiAgICBjb25zdCBtZXRhZGF0YSA9IGZpbmRDaGlsZHJlbkVsZW1lbnQobGF5ZXJFbCwgIk1ldGFkYXRhVVJMIikubWFwKAogICAgICAobWV0YWRhdGFVcmxFbCkgPT4gKHsKICAgICAgICB0eXBlOiBnZXRFbGVtZW50QXR0cmlidXRlKG1ldGFkYXRhVXJsRWwsICJ0eXBlIiksCiAgICAgICAgZm9ybWF0OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KG1ldGFkYXRhVXJsRWwsICJGb3JtYXQiKSksCiAgICAgICAgdXJsOiBnZXRFbGVtZW50QXR0cmlidXRlKAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChtZXRhZGF0YVVybEVsLCAiT25saW5lUmVzb3VyY2UiKSwKICAgICAgICAgICJ4bGluazpocmVmIgogICAgICAgICkKICAgICAgfSkKICAgICk7CiAgICBjb25zdCBjaGlsZHJlbiA9IGZpbmRDaGlsZHJlbkVsZW1lbnQobGF5ZXJFbCwgIkxheWVyIikubWFwKAogICAgICAobGF5ZXIpID0+IHBhcnNlTGF5ZXIoCiAgICAgICAgbGF5ZXIsCiAgICAgICAgdmVyc2lvbiwKICAgICAgICBhdmFpbGFibGVDcnMsCiAgICAgICAgc3R5bGVzLAogICAgICAgIGF0dHJpYnV0aW9uLAogICAgICAgIGJvdW5kaW5nQm94ZXMsCiAgICAgICAgbWF4U2NhbGVEZW5vbWluYXRvciwKICAgICAgICBtaW5TY2FsZURlbm9taW5hdG9yCiAgICAgICkKICAgICk7CiAgICByZXR1cm4gewogICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJOYW1lIikpLAogICAgICB0aXRsZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChsYXllckVsLCAiVGl0bGUiKSksCiAgICAgIGFic3RyYWN0OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJBYnN0cmFjdCIpKSwKICAgICAgYXZhaWxhYmxlQ3JzLAogICAgICBzdHlsZXMsCiAgICAgIGF0dHJpYnV0aW9uLAogICAgICBib3VuZGluZ0JveGVzLAogICAgICBrZXl3b3JkcywKICAgICAgcXVlcnlhYmxlLAogICAgICBvcGFxdWUsCiAgICAgIC4uLm1pblNjYWxlRGVub21pbmF0b3IgIT09IG51bGwgPyB7IG1pblNjYWxlRGVub21pbmF0b3IgfSA6IHt9LAogICAgICAuLi5tYXhTY2FsZURlbm9taW5hdG9yICE9PSBudWxsID8geyBtYXhTY2FsZURlbm9taW5hdG9yIH0gOiB7fSwKICAgICAgLi4ubWV0YWRhdGEubGVuZ3RoICYmIHsgbWV0YWRhdGEgfSwKICAgICAgLi4uY2hpbGRyZW4ubGVuZ3RoICYmIHsgY2hpbGRyZW4gfQogICAgfTsKICB9CiAgZnVuY3Rpb24gcGFyc2VMYXllclN0eWxlKHN0eWxlRWwpIHsKICAgIGNvbnN0IGxlZ2VuZFVybCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoZmluZENoaWxkRWxlbWVudChzdHlsZUVsLCAiTGVnZW5kVVJMIiksICJPbmxpbmVSZXNvdXJjZSIpLAogICAgICAieGxpbms6aHJlZiIKICAgICk7CiAgICBjb25zdCBhYnN0cmFjdCA9IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc3R5bGVFbCwgIkFic3RyYWN0IikpOwogICAgcmV0dXJuIHsKICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzdHlsZUVsLCAiTmFtZSIpKSwKICAgICAgdGl0bGU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc3R5bGVFbCwgIlRpdGxlIikpLAogICAgICAuLi5hYnN0cmFjdCAmJiB7IGFic3RyYWN0IH0sCiAgICAgIC4uLmxlZ2VuZFVybCAmJiB7IGxlZ2VuZFVybCB9CiAgICB9OwogIH0KICBmdW5jdGlvbiBwYXJzZUxheWVyQXR0cmlidXRpb24oYXR0cmlidXRpb25FbCkgewogICAgY29uc3QgbG9nb1VybCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChhdHRyaWJ1dGlvbkVsLCAiTG9nb1VSTCIpLAogICAgICAgICJPbmxpbmVSZXNvdXJjZSIKICAgICAgKSwKICAgICAgInhsaW5rOmhyZWYiCiAgICApOwogICAgY29uc3QgdXJsID0gZ2V0RWxlbWVudEF0dHJpYnV0ZSgKICAgICAgZmluZENoaWxkRWxlbWVudChhdHRyaWJ1dGlvbkVsLCAiT25saW5lUmVzb3VyY2UiKSwKICAgICAgInhsaW5rOmhyZWYiCiAgICApOwogICAgY29uc3QgdGl0bGUgPSBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGF0dHJpYnV0aW9uRWwsICJUaXRsZSIpKTsKICAgIHJldHVybiB7CiAgICAgIC4uLnRpdGxlICYmIHsgdGl0bGUgfSwKICAgICAgLi4udXJsICYmIHsgdXJsIH0sCiAgICAgIC4uLmxvZ29VcmwgJiYgeyBsb2dvVXJsIH0KICAgIH07CiAgfQogIGZ1bmN0aW9uIHJlYWRQcm92aWRlckZyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHNlcnZpY2UgPSBmaW5kQ2hpbGRFbGVtZW50KGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksICJTZXJ2aWNlIik7CiAgICBjb25zdCBjb250YWN0SW5mb3JtYXRpb24gPSBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJDb250YWN0SW5mb3JtYXRpb24iKTsKICAgIGNvbnN0IGNvbnRhY3RQZXJzb25QcmltYXJ5ID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgY29udGFjdEluZm9ybWF0aW9uLAogICAgICAiQ29udGFjdFBlcnNvblByaW1hcnkiCiAgICApOwogICAgY29uc3QgYWRkcmVzcyA9IGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm9ybWF0aW9uLCAiQ29udGFjdEFkZHJlc3MiKTsKICAgIHJldHVybiB7CiAgICAgIGNvbnRhY3Q6IHsKICAgICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdFBlcnNvblByaW1hcnksICJDb250YWN0UGVyc29uIikKICAgICAgICApLAogICAgICAgIG9yZ2FuaXphdGlvbjogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGNvbnRhY3RQZXJzb25QcmltYXJ5LCAiQ29udGFjdE9yZ2FuaXphdGlvbiIpCiAgICAgICAgKSwKICAgICAgICBwb3NpdGlvbjogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGNvbnRhY3RJbmZvcm1hdGlvbiwgIkNvbnRhY3RQb3NpdGlvbiIpCiAgICAgICAgKSwKICAgICAgICBwaG9uZTogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGNvbnRhY3RJbmZvcm1hdGlvbiwgIkNvbnRhY3RWb2ljZVRlbGVwaG9uZSIpCiAgICAgICAgKSwKICAgICAgICBmYXg6IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChjb250YWN0SW5mb3JtYXRpb24sICJDb250YWN0RmFjc2ltaWxlVGVsZXBob25lIikKICAgICAgICApLAogICAgICAgIGFkZHJlc3M6IHsKICAgICAgICAgIGRlbGl2ZXJ5UG9pbnQ6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkFkZHJlc3MiKSksCiAgICAgICAgICBjaXR5OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJDaXR5IikpLAogICAgICAgICAgYWRtaW5pc3RyYXRpdmVBcmVhOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgICAgZmluZENoaWxkRWxlbWVudChhZGRyZXNzLCAiU3RhdGVPclByb3ZpbmNlIikKICAgICAgICAgICksCiAgICAgICAgICBwb3N0YWxDb2RlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJQb3N0Q29kZSIpKSwKICAgICAgICAgIGNvdW50cnk6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkNvdW50cnkiKSkKICAgICAgICB9LAogICAgICAgIGVtYWlsOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm9ybWF0aW9uLCAiQ29udGFjdEVsZWN0cm9uaWNNYWlsQWRkcmVzcyIpCiAgICAgICAgKQogICAgICB9CiAgICB9OwogIH0KICBmdW5jdGlvbiByZWFkUHJvdmlkZXJGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3Qgc2VydmljZVByb3ZpZGVyID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIlNlcnZpY2VQcm92aWRlciIKICAgICk7CiAgICBjb25zdCBzZXJ2aWNlQ29udGFjdCA9IGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZVByb3ZpZGVyLCAiU2VydmljZUNvbnRhY3QiKTsKICAgIGNvbnN0IGNvbnRhY3RJbmZvID0gZmluZENoaWxkRWxlbWVudChzZXJ2aWNlQ29udGFjdCwgIkNvbnRhY3RJbmZvIik7CiAgICBjb25zdCBwaG9uZSA9IGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm8sICJQaG9uZSIpOwogICAgY29uc3QgYWRkcmVzcyA9IGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm8sICJBZGRyZXNzIik7CiAgICByZXR1cm4gewogICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2VQcm92aWRlciwgIlByb3ZpZGVyTmFtZSIpKSwKICAgICAgc2l0ZTogZ2V0RWxlbWVudEF0dHJpYnV0ZSgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2VQcm92aWRlciwgIlByb3ZpZGVyU2l0ZSIpLAogICAgICAgICJ4bGluazpocmVmIgogICAgICApLAogICAgICBjb250YWN0OiB7CiAgICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlQ29udGFjdCwgIkluZGl2aWR1YWxOYW1lIikpLAogICAgICAgIHBvc2l0aW9uOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZUNvbnRhY3QsICJQb3NpdGlvbk5hbWUiKQogICAgICAgICksCiAgICAgICAgcGhvbmU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQocGhvbmUsICJWb2ljZSIpKSwKICAgICAgICBmYXg6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQocGhvbmUsICJGYWNzaW1pbGUiKSksCiAgICAgICAgYWRkcmVzczogewogICAgICAgICAgZGVsaXZlcnlQb2ludDogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkRlbGl2ZXJ5UG9pbnQiKQogICAgICAgICAgKSwKICAgICAgICAgIGNpdHk6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkNpdHkiKSksCiAgICAgICAgICBhZG1pbmlzdHJhdGl2ZUFyZWE6IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJBZG1pbmlzdHJhdGl2ZUFyZWEiKQogICAgICAgICAgKSwKICAgICAgICAgIHBvc3RhbENvZGU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIlBvc3RhbENvZGUiKSksCiAgICAgICAgICBjb3VudHJ5OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJDb3VudHJ5IikpCiAgICAgICAgfSwKICAgICAgICBlbWFpbDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChhZGRyZXNzLCAiRWxlY3Ryb25pY01haWxBZGRyZXNzIikpCiAgICAgIH0KICAgIH07CiAgfQogIGZ1bmN0aW9uIHJlYWRPcGVyYXRpb25VcmxzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHVybHMgPSB7fTsKICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyk7CiAgICBjb25zdCBvcGVyYXRpb25zTWV0YWRhdGEgPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBjYXBhYmlsaXRpZXMsCiAgICAgICJPcGVyYXRpb25zTWV0YWRhdGEiCiAgICApOwogICAgaWYgKG9wZXJhdGlvbnNNZXRhZGF0YSkgewogICAgICBmaW5kQ2hpbGRyZW5FbGVtZW50KG9wZXJhdGlvbnNNZXRhZGF0YSwgIk9wZXJhdGlvbiIpLmZvckVhY2goCiAgICAgICAgKG9wZXJhdGlvbikgPT4gewogICAgICAgICAgY29uc3QgbmFtZSA9IGdldEVsZW1lbnRBdHRyaWJ1dGUob3BlcmF0aW9uLCAibmFtZSIpOwogICAgICAgICAgdXJsc1tuYW1lXSA9IHBhcnNlT3BlcmF0aW9uMTEwKG9wZXJhdGlvbik7CiAgICAgICAgfQogICAgICApOwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoY2FwYWJpbGl0aWVzLCAiQ2FwYWJpbGl0eSIpOwogICAgICBjb25zdCByZXF1ZXN0ID0gZmluZENoaWxkRWxlbWVudChjYXBhYmlsaXR5LCAiUmVxdWVzdCIpOwogICAgICBnZXRDaGlsZHJlbkVsZW1lbnQocmVxdWVzdCkuZm9yRWFjaCgob3BlcmF0aW9uKSA9PiB7CiAgICAgICAgY29uc3QgbmFtZSA9IHN0cmlwTmFtZXNwYWNlKGdldEVsZW1lbnROYW1lKG9wZXJhdGlvbikpOwogICAgICAgIHVybHNbbmFtZV0gPSBwYXJzZU9wZXJhdGlvbjEwMChvcGVyYXRpb24pOwogICAgICB9KTsKICAgIH0KICAgIHJldHVybiB1cmxzOwogIH0KICBmdW5jdGlvbiByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICByZXR1cm4gZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKS5hdHRyaWJ1dGVzWyJ2ZXJzaW9uIl07CiAgfQogIGZ1bmN0aW9uIHJlYWRPdXRwdXRGb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGxldCBvdXRwdXRGb3JtYXRzOwogICAgaWYgKHZlcnNpb24uc3RhcnRzV2l0aCgiMS4wIikpIHsKICAgICAgY29uc3QgZ2V0RmVhdHVyZSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwgIkNhcGFiaWxpdHkiKSwKICAgICAgICAgICJSZXF1ZXN0IgogICAgICAgICksCiAgICAgICAgIkdldEZlYXR1cmUiCiAgICAgICk7CiAgICAgIG91dHB1dEZvcm1hdHMgPSBnZXRDaGlsZHJlbkVsZW1lbnQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChnZXRGZWF0dXJlLCAiUmVzdWx0Rm9ybWF0IikKICAgICAgKS5tYXAoZ2V0RWxlbWVudE5hbWUpOwogICAgfSBlbHNlIHsKICAgICAgY29uc3Qgb3BlcmF0aW9ucyA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgICAiT3BlcmF0aW9uc01ldGFkYXRhIgogICAgICApOwogICAgICBjb25zdCBnZXRGZWF0dXJlID0gZmluZENoaWxkcmVuRWxlbWVudChvcGVyYXRpb25zLCAiT3BlcmF0aW9uIikuZmluZCgKICAgICAgICAoZWwpID0+IGdldEVsZW1lbnRBdHRyaWJ1dGUoZWwsICJuYW1lIikgPT09ICJHZXRGZWF0dXJlIgogICAgICApOwogICAgICBjb25zdCBwYXJhbWV0ZXIgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGdldEZlYXR1cmUsICJQYXJhbWV0ZXIiKS5maW5kKAogICAgICAgIChlbCkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgIm5hbWUiKSA9PT0gIm91dHB1dEZvcm1hdCIKICAgICAgKTsKICAgICAgb3V0cHV0Rm9ybWF0cyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQocGFyYW1ldGVyLCAiVmFsdWUiLCB0cnVlKS5tYXAoCiAgICAgICAgZ2V0RWxlbWVudFRleHQKICAgICAgKTsKICAgIH0KICAgIHJldHVybiBvdXRwdXRGb3JtYXRzOwogIH0KICBmdW5jdGlvbiByZWFkSW5mb0Zyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IHNlcnZpY2VUYWcgPSB2ZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpID8gIlNlcnZpY2UiIDogIlNlcnZpY2VJZGVudGlmaWNhdGlvbiI7CiAgICBjb25zdCBuYW1lVGFnID0gdmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/ICJOYW1lIiA6ICJTZXJ2aWNlVHlwZSI7CiAgICBjb25zdCBzZXJ2aWNlID0gZmluZENoaWxkRWxlbWVudChnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLCBzZXJ2aWNlVGFnKTsKICAgIGxldCBrZXl3b3JkczsKICAgIGlmICh2ZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpKSB7CiAgICAgIGtleXdvcmRzID0gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiS2V5d29yZHMiKSkuc3BsaXQoIiwiKS5tYXAoKGtleXdvcmQpID0+IGtleXdvcmQudHJpbSgpKTsKICAgIH0gZWxzZSB7CiAgICAgIGtleXdvcmRzID0gZmluZENoaWxkcmVuRWxlbWVudCgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJLZXl3b3JkcyIpLAogICAgICAgICJLZXl3b3JkIgogICAgICApLm1hcChnZXRFbGVtZW50VGV4dCk7CiAgICB9CiAgICBsZXQgcHJvdmlkZXI7CiAgICBpZiAodmVyc2lvbiAhPT0gIjEuMC4wIikgewogICAgICBwcm92aWRlciA9IHJlYWRQcm92aWRlckZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJUaXRsZSIpKSwKICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCBuYW1lVGFnKSksCiAgICAgIGFic3RyYWN0OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJBYnN0cmFjdCIpKSwKICAgICAgZmVlczogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiRmVlcyIpKSwKICAgICAgY29uc3RyYWludHM6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkFjY2Vzc0NvbnN0cmFpbnRzIikpLAogICAgICBrZXl3b3JkcywKICAgICAgcHJvdmlkZXIsCiAgICAgIG91dHB1dEZvcm1hdHM6IHJlYWRPdXRwdXRGb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpCiAgICB9OwogIH0KICBmdW5jdGlvbiByZWFkRmVhdHVyZVR5cGVzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSByZWFkT3V0cHV0Rm9ybWF0c0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IGNhcGFiaWxpdHkgPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLAogICAgICAiRmVhdHVyZVR5cGVMaXN0IgogICAgKTsKICAgIHJldHVybiBmaW5kQ2hpbGRyZW5FbGVtZW50KGNhcGFiaWxpdHksICJGZWF0dXJlVHlwZSIpLm1hcCgKICAgICAgKGZlYXR1cmVUeXBlRWwpID0+IHBhcnNlRmVhdHVyZVR5cGUoZmVhdHVyZVR5cGVFbCwgdmVyc2lvbiwgb3V0cHV0Rm9ybWF0cykKICAgICk7CiAgfQogIGZ1bmN0aW9uIHBhcnNlT3BlcmF0aW9uMTAwKG9wZXJhdGlvbikgewogICAgY29uc3QgdXJscyA9IHt9OwogICAgY29uc3QgZGNwVHlwZSA9IGZpbmRDaGlsZHJlbkVsZW1lbnQob3BlcmF0aW9uLCAiRENQVHlwZSIpOwogICAgY29uc3QgaHR0cCA9IGRjcFR5cGUuZmxhdE1hcCgoZCkgPT4gZmluZENoaWxkcmVuRWxlbWVudChkLCAiSFRUUCIpKTsKICAgIGNvbnN0IG1ldGhvZHMgPSBodHRwLmZsYXRNYXAoKGgpID0+IGdldENoaWxkcmVuRWxlbWVudChoKSk7CiAgICBtZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4gewogICAgICBjb25zdCBtZXRob2ROYW1lID0gc3RyaXBOYW1lc3BhY2UoZ2V0RWxlbWVudE5hbWUobWV0aG9kKSk7CiAgICAgIHVybHNbbWV0aG9kTmFtZV0gPSBnZXRFbGVtZW50QXR0cmlidXRlKG1ldGhvZCwgIm9ubGluZVJlc291cmNlIik7CiAgICB9KTsKICAgIHJldHVybiB1cmxzOwogIH0KICBmdW5jdGlvbiBwYXJzZU9wZXJhdGlvbjExMChvcGVyYXRpb24pIHsKICAgIGNvbnN0IHVybHMgPSB7fTsKICAgIGNvbnN0IGRjcFR5cGUgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KG9wZXJhdGlvbiwgIkRDUCIpOwogICAgY29uc3QgaHR0cCA9IGRjcFR5cGUuZmxhdE1hcCgoZCkgPT4gZmluZENoaWxkRWxlbWVudChkLCAiSFRUUCIpKTsKICAgIGNvbnN0IG1ldGhvZHMgPSBodHRwLmZsYXRNYXAoKGgpID0+IGdldENoaWxkcmVuRWxlbWVudChoKSk7CiAgICBtZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4gewogICAgICBjb25zdCBtZXRob2ROYW1lID0gc3RyaXBOYW1lc3BhY2UoZ2V0RWxlbWVudE5hbWUobWV0aG9kKSk7CiAgICAgIHVybHNbbWV0aG9kTmFtZV0gPSBnZXRFbGVtZW50QXR0cmlidXRlKG1ldGhvZCwgInhsaW5rOmhyZWYiKTsKICAgIH0pOwogICAgcmV0dXJuIHVybHM7CiAgfQogIGZ1bmN0aW9uIHBhcnNlRmVhdHVyZVR5cGUoZmVhdHVyZVR5cGVFbCwgc2VydmljZVZlcnNpb24sIGRlZmF1bHRPdXRwdXRGb3JtYXRzKSB7CiAgICBjb25zdCBzcnNUYWcgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIyLiIpID8gIkNSUyIgOiAiU1JTIjsKICAgIGNvbnN0IGRlZmF1bHRTcnNUYWcgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/ICJTUlMiIDogYERlZmF1bHQke3Nyc1RhZ31gOwogICAgZnVuY3Rpb24gcGFyc2VCQm94MTAwKCkgewogICAgICBjb25zdCBiYm94RWwgPSBmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJMYXRMb25nQm91bmRpbmdCb3giKTsKICAgICAgcmV0dXJuIFsibWlueCIsICJtaW55IiwgIm1heHgiLCAibWF4eSJdLm1hcCgobmFtZSkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIG5hbWUpKS5tYXAocGFyc2VGbG9hdCk7CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZUJCb3gyKCkgewogICAgICBjb25zdCBiYm94RWwgPSBmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJXR1M4NEJvdW5kaW5nQm94Iik7CiAgICAgIHJldHVybiBbIkxvd2VyQ29ybmVyIiwgIlVwcGVyQ29ybmVyIl0ubWFwKChlbE5hbWUpID0+IGZpbmRDaGlsZEVsZW1lbnQoYmJveEVsLCBlbE5hbWUpKS5tYXAoKGNvcm5lckVsKSA9PiBnZXRFbGVtZW50VGV4dChjb3JuZXJFbCkuc3BsaXQoIiAiKSkucmVkdWNlKChwcmV2LCBjdXJyKSA9PiBbLi4ucHJldiwgLi4uY3Vycl0pLm1hcChwYXJzZUZsb2F0KTsKICAgIH0KICAgIGNvbnN0IG90aGVyQ3JzID0gc2VydmljZVZlcnNpb24uc3RhcnRzV2l0aCgiMS4wIikgPyBbXSA6IGZpbmRDaGlsZHJlbkVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgYE90aGVyJHtzcnNUYWd9YCkubWFwKGdldEVsZW1lbnRUZXh0KS5tYXAoc2ltcGxpZnlFcHNnVXJuKTsKICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/IFtdIDogZmluZENoaWxkcmVuRWxlbWVudCgKICAgICAgZmluZENoaWxkRWxlbWVudChmZWF0dXJlVHlwZUVsLCAiT3V0cHV0Rm9ybWF0cyIpLAogICAgICAiRm9ybWF0IgogICAgKS5tYXAoZ2V0RWxlbWVudFRleHQpOwogICAgY29uc3Qga2V5d29yZHMgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIktleXdvcmRzIikpLnNwbGl0KCIsIikubWFwKChrZXl3b3JkKSA9PiBrZXl3b3JkLnRyaW0oKSkgOiBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJLZXl3b3JkcyIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KS5maWx0ZXIoKHYsIGksIGFycikgPT4gYXJyLmluZGV4T2YodikgPT09IGkpOwogICAgY29uc3QgbWV0YWRhdGEgPSBzZXJ2aWNlVmVyc2lvbiA9PT0gIjIuMC4wIiA/IGZpbmRDaGlsZHJlbkVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIk1ldGFkYXRhVVJMIikubWFwKAogICAgICAobWV0YWRhdGFVcmxFbCkgPT4gKHsKICAgICAgICB1cmw6IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0YWRhdGFVcmxFbCwgInhsaW5rOmhyZWYiKQogICAgICB9KQogICAgKSA6IGZpbmRDaGlsZHJlbkVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIk1ldGFkYXRhVVJMIikubWFwKAogICAgICAobWV0YWRhdGFVcmxFbCkgPT4gKHsKICAgICAgICBmb3JtYXQ6IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0YWRhdGFVcmxFbCwgImZvcm1hdCIpLAogICAgICAgIHR5cGU6IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0YWRhdGFVcmxFbCwgInR5cGUiKSwKICAgICAgICB1cmw6IGdldEVsZW1lbnRUZXh0KG1ldGFkYXRhVXJsRWwpLnRyaW0oKQogICAgICB9KQogICAgKTsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIk5hbWUiKSksCiAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJUaXRsZSIpKSwKICAgICAgYWJzdHJhY3Q6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIkFic3RyYWN0IikpLAogICAgICBkZWZhdWx0Q3JzOiBzaW1wbGlmeUVwc2dVcm4oCiAgICAgICAgZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChmZWF0dXJlVHlwZUVsLCBkZWZhdWx0U3JzVGFnKSkKICAgICAgKSwKICAgICAgb3RoZXJDcnMsCiAgICAgIG91dHB1dEZvcm1hdHM6IG91dHB1dEZvcm1hdHMubGVuZ3RoID4gMCA/IG91dHB1dEZvcm1hdHMgOiBkZWZhdWx0T3V0cHV0Rm9ybWF0cywKICAgICAgbGF0TG9uQm91bmRpbmdCb3g6IHNlcnZpY2VWZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpID8gcGFyc2VCQm94MTAwKCkgOiBwYXJzZUJCb3gyKCksCiAgICAgIGtleXdvcmRzLAogICAgICAuLi5tZXRhZGF0YS5sZW5ndGggJiYgeyBtZXRhZGF0YSB9CiAgICB9OwogIH0KICBmdW5jdGlvbiBwYXJzZUJCb3goeG1sRWxlbWVudCkgewogICAgY29uc3QgcmVzdWx0ID0gWyJMb3dlckNvcm5lciIsICJVcHBlckNvcm5lciJdLm1hcCgoZWxOYW1lKSA9PiBmaW5kQ2hpbGRFbGVtZW50KHhtbEVsZW1lbnQsIGVsTmFtZSkpLm1hcCgoY29ybmVyRWwpID0+IGdldEVsZW1lbnRUZXh0KGNvcm5lckVsKS5zcGxpdCgiICIpKS5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IFsuLi5wcmV2LCAuLi5jdXJyXSkubWFwKHBhcnNlRmxvYXQpOwogICAgaWYgKHJlc3VsdC5zb21lKE51bWJlci5pc05hTikpCiAgICAgIHJldHVybiBudWxsOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgZnVuY3Rpb24gcmVhZEluZm9Gcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3Qgcm9vdEVsID0gZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IHNlcnZpY2UgPSBmaW5kQ2hpbGRFbGVtZW50KHJvb3RFbCwgIlNlcnZpY2VJZGVudGlmaWNhdGlvbiIpOwogICAgY29uc3Qga2V5d29yZHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJLZXl3b3JkcyIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KTsKICAgIGNvbnN0IG1ldGFkYXRhID0gZmluZENoaWxkRWxlbWVudChyb290RWwsICJPcGVyYXRpb25zTWV0YWRhdGEiKTsKICAgIGNvbnN0IGdldFRpbGVPcGVyYXRpb24gPSBmaW5kQ2hpbGRyZW5FbGVtZW50KG1ldGFkYXRhLCAiT3BlcmF0aW9uIikuZmluZCgKICAgICAgKGVsKSA9PiBnZXRFbGVtZW50QXR0cmlidXRlKGVsLCAibmFtZSIpID09ICJHZXRUaWxlIgogICAgKTsKICAgIGNvbnN0IGdldFRpbGVVcmxzID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRUaWxlT3BlcmF0aW9uLCAiR2V0IiwgdHJ1ZSkucmVkdWNlKAogICAgICAocHJldiwgY3VycikgPT4gewogICAgICAgIGNvbnN0IGVuY29kaW5nVHlwZSA9IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChjdXJyLCAiVmFsdWUiLCB0cnVlKQogICAgICAgICk7CiAgICAgICAgY29uc3QgdXJsID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShjdXJyLCAieGxpbms6aHJlZiIpOwogICAgICAgIGlmIChlbmNvZGluZ1R5cGUudG9Mb3dlckNhc2UoKSA9PT0gInJlc3RmdWwiKQogICAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgcmVzdDogdXJsIH07CiAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwga3ZwOiB1cmwgfTsKICAgICAgfSwKICAgICAge30KICAgICk7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiVGl0bGUiKSksCiAgICAgIG5hbWU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIlNlcnZpY2VUeXBlIikpLAogICAgICBhYnN0cmFjdDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiQWJzdHJhY3QiKSksCiAgICAgIGZlZXM6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkZlZXMiKSksCiAgICAgIGNvbnN0cmFpbnRzOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJBY2Nlc3NDb25zdHJhaW50cyIpKSwKICAgICAga2V5d29yZHMsCiAgICAgIHByb3ZpZGVyOiByZWFkUHJvdmlkZXJGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYyksCiAgICAgIGdldFRpbGVVcmxzCiAgICB9OwogIH0KICBmdW5jdGlvbiByZWFkTWF0cml4U2V0c0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBmdW5jdGlvbiBwYXJzZU1hdHJpeFNldChlbGVtZW50KSB7CiAgICAgIGNvbnN0IHRvcExlZnQgPSBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJUb3BMZWZ0Q29ybmVyIikpLnNwbGl0KCIgIikubWFwKHBhcnNlRmxvYXQpOwogICAgICByZXR1cm4gewogICAgICAgIGlkZW50aWZpZXI6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIklkZW50aWZpZXIiKSksCiAgICAgICAgdGlsZVdpZHRoOiBwYXJzZUludCgKICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIlRpbGVXaWR0aCIpKQogICAgICAgICksCiAgICAgICAgdGlsZUhlaWdodDogcGFyc2VJbnQoCiAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJUaWxlSGVpZ2h0IikpCiAgICAgICAgKSwKICAgICAgICBtYXRyaXhXaWR0aDogcGFyc2VJbnQoCiAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJNYXRyaXhXaWR0aCIpKQogICAgICAgICksCiAgICAgICAgbWF0cml4SGVpZ2h0OiBwYXJzZUludCgKICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIk1hdHJpeEhlaWdodCIpKQogICAgICAgICksCiAgICAgICAgc2NhbGVEZW5vbWluYXRvcjogcGFyc2VGbG9hdCgKICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIlNjYWxlRGVub21pbmF0b3IiKSkKICAgICAgICApLAogICAgICAgIHRvcExlZnQKICAgICAgfTsKICAgIH0KICAgIGNvbnN0IGNvbnRlbnRzID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIkNvbnRlbnRzIgogICAgKTsKICAgIGNvbnN0IG1hdHJpeFNldHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGNvbnRlbnRzLCAiVGlsZU1hdHJpeFNldCIpOwogICAgcmV0dXJuIG1hdHJpeFNldHMubWFwKChlbGVtZW50KSA9PiB7CiAgICAgIGNvbnN0IHdlbGxLbm93blNjYWxlU2V0ID0gZ2V0RWxlbWVudFRleHQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiV2VsbEtub3duU2NhbGVTZXQiKQogICAgICApOwogICAgICBjb25zdCBib3VuZGluZ0JveCA9IHBhcnNlQkJveChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJCb3VuZGluZ0JveCIpKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZGVudGlmaWVyOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJJZGVudGlmaWVyIikpLAogICAgICAgIGNyczogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiU3VwcG9ydGVkQ1JTIikpLAogICAgICAgIHRpbGVNYXRyaWNlczogZmluZENoaWxkcmVuRWxlbWVudChlbGVtZW50LCAiVGlsZU1hdHJpeCIpLm1hcCgKICAgICAgICAgIHBhcnNlTWF0cml4U2V0CiAgICAgICAgKSwKICAgICAgICAuLi5ib3VuZGluZ0JveCAmJiB7IGJvdW5kaW5nQm94IH0sCiAgICAgICAgLi4ud2VsbEtub3duU2NhbGVTZXQgJiYgeyB3ZWxsS25vd25TY2FsZVNldCB9CiAgICAgIH07CiAgICB9KTsKICB9CiAgZnVuY3Rpb24gcmVhZExheWVyc0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBjb25zdCByb290RWwgPSBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3QgY29udGVudHNFbCA9IGZpbmRDaGlsZEVsZW1lbnQocm9vdEVsLCAiQ29udGVudHMiKTsKICAgIGZ1bmN0aW9uIGdldE1hdHJpeFNldENycyhjb250ZW50c0VsMiwgaWRlbnRpZmllcikgewogICAgICBjb25zdCBtYXRyaXhTZXQgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGNvbnRlbnRzRWwyLCAiVGlsZU1hdHJpeFNldCIpLmZpbmQoCiAgICAgICAgKG1hdHJpeFNldEVsKSA9PiB7CiAgICAgICAgICBjb25zdCBpZGVudGlmaWVyRWwgPSBmaW5kQ2hpbGRFbGVtZW50KG1hdHJpeFNldEVsLCAiSWRlbnRpZmllciIpOwogICAgICAgICAgcmV0dXJuIGdldEVsZW1lbnRUZXh0KGlkZW50aWZpZXJFbCkgPT09IGlkZW50aWZpZXI7CiAgICAgICAgfQogICAgICApOwogICAgICByZXR1cm4gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChtYXRyaXhTZXQsICJTdXBwb3J0ZWRDUlMiKSk7CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZU1hdHJpeFNldExpbmsoZWxlbWVudCkgewogICAgICBjb25zdCBpZGVudGlmaWVyID0gZ2V0RWxlbWVudFRleHQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiVGlsZU1hdHJpeFNldCIpCiAgICAgICk7CiAgICAgIGNvbnN0IGNycyA9IGdldE1hdHJpeFNldENycyhjb250ZW50c0VsLCBpZGVudGlmaWVyKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZGVudGlmaWVyLAogICAgICAgIGNycywKICAgICAgICBsaW1pdHM6IGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgIlRpbGVNYXRyaXhMaW1pdHMiLCB0cnVlKS5tYXAoCiAgICAgICAgICAoZWxlbWVudDIpID0+ICh7CiAgICAgICAgICAgIHRpbGVNYXRyaXg6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJUaWxlTWF0cml4IikpLAogICAgICAgICAgICBtaW5UaWxlUm93OiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWluVGlsZVJvdyIpKQogICAgICAgICAgICApLAogICAgICAgICAgICBtaW5UaWxlQ29sOiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWluVGlsZUNvbCIpKQogICAgICAgICAgICApLAogICAgICAgICAgICBtYXhUaWxlUm93OiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWF4VGlsZVJvdyIpKQogICAgICAgICAgICApLAogICAgICAgICAgICBtYXhUaWxlQ29sOiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWF4VGlsZUNvbCIpKQogICAgICAgICAgICApCiAgICAgICAgICB9KQogICAgICAgICkKICAgICAgfTsKICAgIH0KICAgIGNvbnN0IGdldFRpbGVPcGVyYXRpb24gPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KHJvb3RFbCwgIk9wZXJhdGlvbnNNZXRhZGF0YSIpLAogICAgICAiT3BlcmF0aW9uIgogICAgKS5maW5kKChlbCkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgIm5hbWUiKSA9PSAiR2V0VGlsZSIpOwogICAgY29uc3QgZ2V0S3ZwRWx0ID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRUaWxlT3BlcmF0aW9uLCAiR2V0IiwgdHJ1ZSkuZmlsdGVyKAogICAgICAoZWx0KSA9PiB7CiAgICAgICAgY29uc3QgZW5jb2RpbmdUeXBlID0gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbHQsICJWYWx1ZSIsIHRydWUpKTsKICAgICAgICByZXR1cm4gZW5jb2RpbmdUeXBlLnRvTG93ZXJDYXNlKCkgPT09ICJrdnAiOwogICAgICB9CiAgICApWzBdOwogICAgY29uc3QgZ2V0S3ZwVXJsID0gZ2V0S3ZwRWx0ID8gZ2V0RWxlbWVudEF0dHJpYnV0ZShnZXRLdnBFbHQsICJ4bGluazpocmVmIikgOiAiIjsKICAgIGNvbnN0IGNvbnRlbnRzID0gZmluZENoaWxkRWxlbWVudChyb290RWwsICJDb250ZW50cyIpOwogICAgY29uc3QgbGF5ZXJzID0gZmluZENoaWxkcmVuRWxlbWVudChjb250ZW50cywgIkxheWVyIik7CiAgICByZXR1cm4gbGF5ZXJzLm1hcCgoZWxlbWVudCkgPT4gewogICAgICBjb25zdCBsYXRMb25Cb3VuZGluZ0JveCA9IHBhcnNlQkJveCgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJXR1M4NEJvdW5kaW5nQm94IikKICAgICAgKTsKICAgICAgbGV0IGRlZmF1bHRTdHlsZSA9ICIiOwogICAgICBjb25zdCBzdHlsZXMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGVsZW1lbnQsICJTdHlsZSIpLm1hcCgoZWxlbWVudDIpID0+IHsKICAgICAgICBjb25zdCBsZWdlbmRVcmwgPSBnZXRFbGVtZW50QXR0cmlidXRlKAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50MiwgIkxlZ2VuZFVSTCIpLAogICAgICAgICAgInhsaW5rOmhyZWYiCiAgICAgICAgKTsKICAgICAgICBjb25zdCBhYnN0cmFjdCA9IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJBYnN0cmFjdCIpKTsKICAgICAgICBjb25zdCBzdHlsZSA9IHsKICAgICAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiVGl0bGUiKSksCiAgICAgICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiSWRlbnRpZmllciIpKSwKICAgICAgICAgIC4uLmFic3RyYWN0ICYmIHsgYWJzdHJhY3QgfSwKICAgICAgICAgIC4uLmxlZ2VuZFVybCAmJiB7IGxlZ2VuZFVybCB9CiAgICAgICAgfTsKICAgICAgICBpZiAoZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50MiwgImlzRGVmYXVsdCIpID09PSAidHJ1ZSIpIHsKICAgICAgICAgIGRlZmF1bHRTdHlsZSA9IHN0eWxlLm5hbWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzdHlsZTsKICAgICAgfSk7CiAgICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGVsZW1lbnQsICJGb3JtYXQiKS5tYXAoCiAgICAgICAgZ2V0RWxlbWVudFRleHQKICAgICAgKTsKICAgICAgY29uc3QgcmVzb3VyY2VMaW5rcyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoCiAgICAgICAgZWxlbWVudCwKICAgICAgICAiUmVzb3VyY2VVUkwiCiAgICAgICkuZmlsdGVyKAogICAgICAgIChlbGVtZW50MikgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50MiwgInJlc291cmNlVHlwZSIpID09PSAidGlsZSIKICAgICAgKS5tYXAoKGVsZW1lbnQyKSA9PiB7CiAgICAgICAgY29uc3QgZm9ybWF0ID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50MiwgImZvcm1hdCIpOwogICAgICAgIGNvbnN0IHVybCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoZWxlbWVudDIsICJ0ZW1wbGF0ZSIpOwogICAgICAgIHJldHVybiB7IGZvcm1hdCwgdXJsLCBlbmNvZGluZzogIlJFU1QiIH07CiAgICAgIH0pOwogICAgICBpZiAoZ2V0S3ZwVXJsKSB7CiAgICAgICAgcmVzb3VyY2VMaW5rcy5wdXNoKAogICAgICAgICAgLi4ub3V0cHV0Rm9ybWF0cy5tYXAoKGZvcm1hdCkgPT4gKHsKICAgICAgICAgICAgZW5jb2Rpbmc6ICJLVlAiLAogICAgICAgICAgICB1cmw6IGdldEt2cFVybCwKICAgICAgICAgICAgZm9ybWF0CiAgICAgICAgICB9KSkKICAgICAgICApOwogICAgICB9CiAgICAgIGNvbnN0IG1hdHJpeFNldHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGVsZW1lbnQsICJUaWxlTWF0cml4U2V0TGluayIpLm1hcCgKICAgICAgICBwYXJzZU1hdHJpeFNldExpbmsKICAgICAgKTsKICAgICAgY29uc3QgZGltZW5zaW9ucyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgIkRpbWVuc2lvbiIpLm1hcCgKICAgICAgICAoZWxlbWVudDIpID0+IHsKICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50MiwgIklkZW50aWZpZXIiKQogICAgICAgICAgKTsKICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiRGVmYXVsdCIpCiAgICAgICAgICApOwogICAgICAgICAgY29uc3QgdmFsdWVzID0gZmluZENoaWxkcmVuRWxlbWVudChlbGVtZW50MiwgIlZhbHVlcyIpLm1hcCgKICAgICAgICAgICAgZ2V0RWxlbWVudFRleHQKICAgICAgICAgICk7CiAgICAgICAgICByZXR1cm4geyBpZGVudGlmaWVyLCBkZWZhdWx0VmFsdWUsIHZhbHVlcyB9OwogICAgICAgIH0KICAgICAgKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJJZGVudGlmaWVyIikpLAogICAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJUaXRsZSIpKSwKICAgICAgICBhYnN0cmFjdDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiQWJzdHJhY3QiKSksCiAgICAgICAgc3R5bGVzLAogICAgICAgIHJlc291cmNlTGlua3MsCiAgICAgICAgbWF0cml4U2V0cywKICAgICAgICBkZWZhdWx0U3R5bGUsCiAgICAgICAgLi4ubGF0TG9uQm91bmRpbmdCb3ggJiYgeyBsYXRMb25Cb3VuZGluZ0JveCB9LAogICAgICAgIC4uLmRpbWVuc2lvbnMgJiYgeyBkaW1lbnNpb25zIH0KICAgICAgfTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBwYXJzZUZlYXR1cmVQcm9wcyhnZXRGZWF0dXJlc0RvYywgZmVhdHVyZVR5cGVGdWxsLCBzZXJ2aWNlVmVyc2lvbikgewogICAgY29uc3QgY29sbGVjdGlvbiA9IGdldFJvb3RFbGVtZW50KGdldEZlYXR1cmVzRG9jKTsKICAgIGxldCBtZW1iZXJzOwogICAgaWYgKHNlcnZpY2VWZXJzaW9uLnN0YXJ0c1dpdGgoIjIuMCIpKSB7CiAgICAgIG1lbWJlcnMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGNvbGxlY3Rpb24sICJtZW1iZXIiKS5tYXAoCiAgICAgICAgKHBhcmVudCkgPT4gZ2V0Q2hpbGRyZW5FbGVtZW50KHBhcmVudClbMF0KICAgICAgKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IG1lbWJlcnNSb290ID0gZmluZENoaWxkRWxlbWVudChjb2xsZWN0aW9uLCAiZmVhdHVyZU1lbWJlcnMiKTsKICAgICAgbWVtYmVycyA9IG1lbWJlcnNSb290ID8gZ2V0Q2hpbGRyZW5FbGVtZW50KG1lbWJlcnNSb290KSA6IGZpbmRDaGlsZHJlbkVsZW1lbnQoY29sbGVjdGlvbiwgImZlYXR1cmVNZW1iZXIiKS5tYXAoCiAgICAgICAgKHBhcmVudCkgPT4gZ2V0Q2hpbGRyZW5FbGVtZW50KHBhcmVudClbMF0KICAgICAgKTsKICAgIH0KICAgIGNvbnN0IGlkQXR0ciA9IHNlcnZpY2VWZXJzaW9uID09PSAiMS4wLjAiID8gImZpZCIgOiAiZ21sOmlkIjsKICAgIGZ1bmN0aW9uIGlzRWxlbWVudFByb3BlcnR5KHByb3BOYW1lKSB7CiAgICAgIHJldHVybiBwcm9wTmFtZSBpbiBmZWF0dXJlVHlwZUZ1bGwucHJvcGVydGllczsKICAgIH0KICAgIGZ1bmN0aW9uIHBhcnNlRWxlbWVudFByb3BlcnR5VmFsdWUocHJvcE5hbWUsIHZhbHVlQXNTdHJpbmcpIHsKICAgICAgY29uc3QgdHlwZSA9IGZlYXR1cmVUeXBlRnVsbC5wcm9wZXJ0aWVzW3Byb3BOYW1lXTsKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAiaW50ZWdlciI6CiAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWVBc1N0cmluZyk7CiAgICAgICAgY2FzZSAiZmxvYXQiOgogICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWVBc1N0cmluZyk7CiAgICAgICAgY2FzZSAiYm9vbGVhbiI6CiAgICAgICAgICByZXR1cm4gdmFsdWVBc1N0cmluZyA9PT0gInRydWUiOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gdmFsdWVBc1N0cmluZzsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gZ2V0UHJvcGVydGllcyhtZW1iZXJFbCkgewogICAgICByZXR1cm4gZ2V0Q2hpbGRyZW5FbGVtZW50KG1lbWJlckVsKS5maWx0ZXIoKGVsKSA9PiBpc0VsZW1lbnRQcm9wZXJ0eShzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShlbCkpKSkucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7CiAgICAgICAgY29uc3QgcHJvcE5hbWUgPSBzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShjdXJyKSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIC4uLnByZXYsCiAgICAgICAgICBbcHJvcE5hbWVdOiBwYXJzZUVsZW1lbnRQcm9wZXJ0eVZhbHVlKHByb3BOYW1lLCBnZXRFbGVtZW50VGV4dChjdXJyKSkKICAgICAgICB9OwogICAgICB9LCB7fSk7CiAgICB9CiAgICByZXR1cm4gbWVtYmVycy5tYXAoKGVsKSA9PiAoewogICAgICBpZDogZ2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgaWRBdHRyKSwKICAgICAgcHJvcGVydGllczogZ2V0UHJvcGVydGllcyhlbCkKICAgIH0pKTsKICB9CiAgZnVuY3Rpb24gY29tcHV0ZUZlYXR1cmVQcm9wc0RldGFpbHMoZmVhdHVyZXNXaXRoUHJvcHMpIHsKICAgIHJldHVybiBmZWF0dXJlc1dpdGhQcm9wcy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHsKICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBjdXJyLnByb3BlcnRpZXMpIHsKICAgICAgICBjb25zdCBwcm9wVmFsdWUgPSBjdXJyLnByb3BlcnRpZXNbcHJvcE5hbWVdOwogICAgICAgIGlmICghKHByb3BOYW1lIGluIHByZXYpKSB7CiAgICAgICAgICBwcmV2W3Byb3BOYW1lXSA9IHsgdW5pcXVlVmFsdWVzOiBbXSB9OwogICAgICAgIH0KICAgICAgICBjb25zdCB1bmlxdWVWYWx1ZSA9IHByZXZbcHJvcE5hbWVdLnVuaXF1ZVZhbHVlcy5maW5kKAogICAgICAgICAgKHYpID0+IHYudmFsdWUgPT09IHByb3BWYWx1ZQogICAgICAgICk7CiAgICAgICAgaWYgKHVuaXF1ZVZhbHVlKQogICAgICAgICAgdW5pcXVlVmFsdWUuY291bnQrKzsKICAgICAgICBlbHNlCiAgICAgICAgICBwcmV2W3Byb3BOYW1lXS51bmlxdWVWYWx1ZXMucHVzaCh7IHZhbHVlOiBwcm9wVmFsdWUsIGNvdW50OiAxIH0pOwogICAgICB9CiAgICAgIHJldHVybiBwcmV2OwogICAgfSwge30pOwogIH0KICBmdW5jdGlvbiBnZW5lcmF0ZUdldEZlYXR1cmVVcmwoc2VydmljZVVybCwgdmVyc2lvbiwgZmVhdHVyZVR5cGUsIG91dHB1dEZvcm1hdCwgbWF4RmVhdHVyZXMsIGF0dHJpYnV0ZXMsIGhpdHNPbmx5LCBvdXRwdXRDcnMsIGV4dGVudCwgZXh0ZW50Q3JzLCBzdGFydEluZGV4LCBzb3J0QnkpIHsKICAgIGNvbnN0IHR5cGVQYXJhbSA9IHZlcnNpb24gPT09ICIyLjAuMCIgPyAiVFlQRU5BTUVTIiA6ICJUWVBFTkFNRSI7CiAgICBjb25zdCBjb3VudFBhcmFtID0gdmVyc2lvbiA9PT0gIjIuMC4wIiA/ICJDT1VOVCIgOiAiTUFYRkVBVFVSRVMiOwogICAgY29uc3QgbmV3UGFyYW1zID0gewogICAgICBTRVJWSUNFOiAiV0ZTIiwKICAgICAgUkVRVUVTVDogIkdldEZlYXR1cmUiLAogICAgICBWRVJTSU9OOiB2ZXJzaW9uLAogICAgICBbdHlwZVBhcmFtXTogZmVhdHVyZVR5cGUKICAgIH07CiAgICBpZiAob3V0cHV0Rm9ybWF0ICE9PSB2b2lkIDApCiAgICAgIG5ld1BhcmFtcy5PVVRQVVRGT1JNQVQgPSBvdXRwdXRGb3JtYXQ7CiAgICBpZiAoYXR0cmlidXRlcyAhPT0gdm9pZCAwKQogICAgICBuZXdQYXJhbXMuUFJPUEVSVFlOQU1FID0gYXR0cmlidXRlcy5qb2luKCIsIik7CiAgICBpZiAoaGl0c09ubHkpIHsKICAgICAgbmV3UGFyYW1zLlJFU1VMVFRZUEUgPSAiaGl0cyI7CiAgICAgIG5ld1BhcmFtc1tjb3VudFBhcmFtXSA9ICIxIjsKICAgIH0gZWxzZSBpZiAobWF4RmVhdHVyZXMgIT09IHZvaWQgMCkKICAgICAgbmV3UGFyYW1zW2NvdW50UGFyYW1dID0gbWF4RmVhdHVyZXMudG9TdHJpbmcoMTApOwogICAgaWYgKG91dHB1dENycykgewogICAgICBuZXdQYXJhbXMuU1JTTkFNRSA9IG91dHB1dENyczsKICAgIH0KICAgIGlmIChleHRlbnQpIHsKICAgICAgY29uc3QgZXh0ZW50Sm9pbmVkID0gZXh0ZW50LmpvaW4oIiwiKTsKICAgICAgbmV3UGFyYW1zLkJCT1ggPSBleHRlbnRDcnMgPyBgJHtleHRlbnRKb2luZWR9LCR7ZXh0ZW50Q3JzfWAgOiBleHRlbnRKb2luZWQ7CiAgICB9CiAgICBpZiAoc3RhcnRJbmRleCkgewogICAgICBuZXdQYXJhbXMuU1RBUlRJTkRFWCA9IHN0YXJ0SW5kZXgudG9TdHJpbmcoMTApOwogICAgfQogICAgY29uc3QgdXJsID0gbmV3IFVSTChzZXRRdWVyeVBhcmFtcyhzZXJ2aWNlVXJsLCBuZXdQYXJhbXMpKTsKICAgIGlmIChBcnJheS5pc0FycmF5KHNvcnRCeSkgJiYgc29ydEJ5Lmxlbmd0aCA+IDApIHsKICAgICAgY29uc3Qgc29ydHMgPSBzb3J0QnkubWFwKChmaWVsZFNvcnQpID0+IGAke2ZpZWxkU29ydFsxXX0gJHtmaWVsZFNvcnRbMF19YCkuam9pbigiLCIpOwogICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgiU09SVEJZIiwgc29ydHMpOwogICAgfQogICAgcmV0dXJuIHVybC50b1N0cmluZygpOwogIH0KICBhZGRUYXNrSGFuZGxlcigKICAgICJwYXJzZVdtc0NhcGFiaWxpdGllcyIsCiAgICBnbG9iYWxUaGlzLAogICAgKHsgdXJsIH0pID0+IHF1ZXJ5WG1sRG9jdW1lbnQodXJsKS50aGVuKCh4bWxEb2MpID0+IGNoZWNrKHhtbERvYywgdXJsKSkudGhlbigoeG1sRG9jKSA9PiAoewogICAgICBpbmZvOiByZWFkSW5mb0Zyb21DYXBhYmlsaXRpZXMkMih4bWxEb2MpLAogICAgICBsYXllcnM6IHJlYWRMYXllcnNGcm9tQ2FwYWJpbGl0aWVzJDEoeG1sRG9jKSwKICAgICAgdXJsOiByZWFkT3BlcmF0aW9uVXJsc0Zyb21DYXBhYmlsaXRpZXMkMSh4bWxEb2MpLAogICAgICB2ZXJzaW9uOiByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMkMSh4bWxEb2MpCiAgICB9KSkKICApOwogIGFkZFRhc2tIYW5kbGVyKAogICAgInBhcnNlV2ZzQ2FwYWJpbGl0aWVzIiwKICAgIGdsb2JhbFRoaXMsCiAgICAoeyB1cmwgfSkgPT4gcXVlcnlYbWxEb2N1bWVudCh1cmwpLnRoZW4oKHhtbERvYykgPT4gY2hlY2soeG1sRG9jLCB1cmwpKS50aGVuKCh4bWxEb2MpID0+ICh7CiAgICAgIGluZm86IHJlYWRJbmZvRnJvbUNhcGFiaWxpdGllcyQxKHhtbERvYyksCiAgICAgIGZlYXR1cmVUeXBlczogcmVhZEZlYXR1cmVUeXBlc0Zyb21DYXBhYmlsaXRpZXMoeG1sRG9jKSwKICAgICAgdXJsOiByZWFkT3BlcmF0aW9uVXJsc0Zyb21DYXBhYmlsaXRpZXMoeG1sRG9jKSwKICAgICAgdmVyc2lvbjogcmVhZFZlcnNpb25Gcm9tQ2FwYWJpbGl0aWVzKHhtbERvYykKICAgIH0pKQogICk7CiAgYWRkVGFza0hhbmRsZXIoCiAgICAicXVlcnlXZnNGZWF0dXJlVHlwZURldGFpbHMiLAogICAgZ2xvYmFsVGhpcywKICAgICh7CiAgICAgIHVybCwKICAgICAgc2VydmljZVZlcnNpb24sCiAgICAgIGZlYXR1cmVUeXBlRnVsbAogICAgfSkgPT4gewogICAgICBjb25zdCBnZXRGZWF0dXJlVXJsID0gZ2VuZXJhdGVHZXRGZWF0dXJlVXJsKAogICAgICAgIHVybCwKICAgICAgICBzZXJ2aWNlVmVyc2lvbiwKICAgICAgICBmZWF0dXJlVHlwZUZ1bGwubmFtZSwKICAgICAgICB2b2lkIDAsCiAgICAgICAgdm9pZCAwLAogICAgICAgIE9iamVjdC5rZXlzKGZlYXR1cmVUeXBlRnVsbC5wcm9wZXJ0aWVzKQogICAgICApOwogICAgICByZXR1cm4gcXVlcnlYbWxEb2N1bWVudChnZXRGZWF0dXJlVXJsKS50aGVuKChnZXRGZWF0dXJlRG9jKSA9PiAoewogICAgICAgIHByb3BzOiBjb21wdXRlRmVhdHVyZVByb3BzRGV0YWlscygKICAgICAgICAgIHBhcnNlRmVhdHVyZVByb3BzKGdldEZlYXR1cmVEb2MsIGZlYXR1cmVUeXBlRnVsbCwgc2VydmljZVZlcnNpb24pCiAgICAgICAgKQogICAgICB9KSk7CiAgICB9CiAgKTsKICBhZGRUYXNrSGFuZGxlcigKICAgICJ1cGRhdGVGZXRjaE9wdGlvbnMiLAogICAgZ2xvYmFsVGhpcywKICAgICh7IG9wdGlvbnMgfSkgPT4gewogICAgICBzZXRGZXRjaE9wdGlvbnMob3B0aW9ucyk7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe30pOwogICAgfQogICk7CiAgYWRkVGFza0hhbmRsZXIoCiAgICAicGFyc2VXbXRzQ2FwYWJpbGl0aWVzIiwKICAgIGdsb2JhbFRoaXMsCiAgICAoeyB1cmwgfSkgPT4gcXVlcnlYbWxEb2N1bWVudCh1cmwpLnRoZW4oKHhtbERvYykgPT4gY2hlY2soeG1sRG9jLCB1cmwpKS50aGVuKCh4bWxEb2MpID0+ICh7CiAgICAgIGluZm86IHJlYWRJbmZvRnJvbUNhcGFiaWxpdGllcyh4bWxEb2MpLAogICAgICBsYXllcnM6IHJlYWRMYXllcnNGcm9tQ2FwYWJpbGl0aWVzKHhtbERvYyksCiAgICAgIG1hdHJpeFNldHM6IHJlYWRNYXRyaXhTZXRzRnJvbUNhcGFiaWxpdGllcyh4bWxEb2MpCiAgICB9KSkKICApOwp9KSgpOwo=",rL=typeof window<"u"&&window.Blob&&new Blob([atob(nL)],{type:"text/javascript;charset=utf-8"});function Ise(t){let n;try{if(n=rL&&(window.URL||window.webkitURL).createObjectURL(rL),!n)throw"";const e=new Worker(n,{name:t?.name});return e.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(n)}),e}catch{return new Worker("data:text/javascript;base64,"+nL,{name:t?.name})}finally{n&&(window.URL||window.webkitURL).revokeObjectURL(n)}}let kC,sL=!1;function A2(){return sL?null:(kC||(kC=new Ise),kC)}function $C(t,n,e,r,s,i,o,a,l,c,u,h){const d="2.0.0"===n?"TYPENAMES":"TYPENAME",p="2.0.0"===n?"COUNT":"MAXFEATURES",v={SERVICE:"WFS",REQUEST:"GetFeature",VERSION:n,[d]:e};if(void 0!==r&&(v.OUTPUTFORMAT=r),void 0!==i&&(v.PROPERTYNAME=i.join(",")),o?(v.RESULTTYPE="hits",v[p]="1"):void 0!==s&&(v[p]=s.toString(10)),a&&(v.SRSNAME=a),l){const M=l.join(",");v.BBOX=c?`${M},${c}`:M}u&&(v.STARTINDEX=u.toString(10));const b=new URL(Bl(t,v));if(Array.isArray(h)&&h.length>0){const M=h.map(z=>`${z[1]} ${z[0]}`).join(",");b.searchParams.set("SORTBY",M)}return b.toString()}!function yse(t){wp=t}(t=>{A2()&&function vp(t,n,e){return new Promise((r,s)=>{const i=function Nre(){return Bre++}(),o={requestId:i,taskName:t,params:e};null===n?gp.dispatchEvent(new CustomEvent("ogc-client.request",{detail:o})):n.postMessage(o);const a=u=>{u.requestId===i&&(null===n?gp.removeEventListener("ogc-client.response",l):n.removeEventListener("message",c),"error"in u?s(function vse(t){if("ServiceExceptionError"===t.name){const e=new NC(t.message,t.requestUrl,t.code,t.locator,t.response);return e.stack=t.stack,e}if("EndpointError"===t.name){const e=new er(t.message,t.httpStatus,t.isCrossOriginRelated);return e.stack=t.stack,e}const n=new Error(t.message);return n.stack=t.stack,n}(u.error)):r(u.response))},l=u=>a(u.detail),c=u=>a(u.data);null===n?gp.addEventListener("ogc-client.response",l):n.addEventListener("message",c)})}("updateFetchOptions",A2(),{options:t})});const lie=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function r7(t){return/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())?`EPSG:${/([0-9]+)$/.exec(t)[1]}`:t}function uie(t){const n={},e=Oe(Ss(t),"Capability");return Dl(Oe(e,"Request")).forEach(s=>{const i=za(Rl(s));n[i]=function vie(t){const n={};return Pn(t,"DCPType").flatMap(i=>Oe(i,"HTTP")).flatMap(i=>Dl(i)).forEach(i=>{const o=Oe(i,"OnlineResource"),a=za(Rl(i));n[a]=Xt(o,"xlink:href")}),n}(s)}),n}function yL(t){return Ss(t).attributes.version}function hie(t){const n=yL(t);return Pn(Oe(Ss(t),"Capability"),"Layer").map(r=>IL(r,n))}function gie(t){const n=Oe(Ss(t),"Service"),e=function die(t){const n=Oe(Ss(t),"Capability");return Pn(Oe(Oe(n,"Request"),"GetMap"),"Format").map(bt)}(t),r=function pie(t){const n=Oe(Ss(t),"Capability");return Pn(Oe(Oe(n,"Request"),"GetFeatureInfo"),"Format").map(bt)}(t),s=function fie(t){const n=Oe(Ss(t),"Capability");return Pn(Oe(n,"Exception"),"Format").map(bt)}(t),i=Pn(Oe(n,"KeywordList"),"Keyword").map(bt).filter((a,l,c)=>c.indexOf(a)===l),o=function Cie(t){const n=Oe(Ss(t),"Service"),e=Oe(n,"ContactInformation"),r=Oe(e,"ContactPersonPrimary"),s=Oe(e,"ContactAddress");return{contact:{name:bt(Oe(r,"ContactPerson")),organization:bt(Oe(r,"ContactOrganization")),position:bt(Oe(e,"ContactPosition")),phone:bt(Oe(e,"ContactVoiceTelephone")),fax:bt(Oe(e,"ContactFacsimileTelephone")),address:{deliveryPoint:bt(Oe(s,"Address")),city:bt(Oe(s,"City")),administrativeArea:bt(Oe(s,"StateOrProvince")),postalCode:bt(Oe(s,"PostCode")),country:bt(Oe(s,"Country"))},email:bt(Oe(e,"ContactElectronicMailAddress"))}}}(t);return{title:bt(Oe(n,"Title")),name:bt(Oe(n,"Name")),abstract:bt(Oe(n,"Abstract")),outputFormats:e,infoFormats:r,exceptionFormats:s,fees:bt(Oe(n,"Fees")),constraints:bt(Oe(n,"AccessConstraints")),provider:o,keywords:i}}function IL(t,n,e=[],r=[],s=null,i=null,o=null,a=null){const l="1.3.0"===n?"CRS":"SRS",c=Pn(t,l).map(bt),u=c.length>0?c:e,h=Pn(t,"Style").map(mie),d=h.length>0?h:r;function p(Lt){return(function cie(t){return lie.indexOf(r7(t))>-1}(Xt(Lt,l))&&"1.3.0"===n?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map(rr=>Xt(Lt,rr))}function M(Lt,St){return""===Lt?St:Math.sqrt(.5*parseFloat(Lt)**2)/28e-5}function B(Lt,St){const bn=bt(Oe(t,Lt));return""===bn?St:parseFloat(bn)}const pe=Oe(t,"Attribution"),fe=null!==pe?function wie(t){const n=Xt(Oe(Oe(t,"LogoURL"),"OnlineResource"),"xlink:href"),e=Xt(Oe(t,"OnlineResource"),"xlink:href"),r=bt(Oe(t,"Title"));return{...r&&{title:r},...e&&{url:e},...n&&{logoUrl:n}}}(pe):s,we=Oe(t,"1.3.0"===n?"EX_GeographicBoundingBox":"LatLonBoundingBox"),ee={};we&&(ee["EPSG:4326"]="1.3.0"===n?function v(Lt){return["westBoundLongitude","southBoundLatitude","eastBoundLongitude","northBoundLatitude"].map(St=>bt(Oe(Lt,St)))}(we):function b(Lt){return["minx","miny","maxx","maxy"].map(St=>Xt(Lt,St))}(we));let Ie=Pn(t,"BoundingBox").reduce((Lt,St)=>({...Lt,[Xt(St,l)]:p(St)}),ee);Ie=Object.keys(Ie).length>0||null===i?Ie:i;const De="1"===t.attributes.queryable||"true"===t.attributes.queryable,nt="1"===t.attributes.opaque||"true"===t.attributes.opaque,rt=Pn(Oe(t,"KeywordList"),"Keyword").map(bt).filter((Lt,St,bn)=>bn.indexOf(Lt)===St);let ft,tt;"1.3.0"===n?(ft=B("MinScaleDenominator",a),tt=B("MaxScaleDenominator",o)):[ft,tt]=function z(){const Lt=Oe(t,"ScaleHint");if(!Lt)return[a,o];const St=Xt(Lt,"min"),bn=Xt(Lt,"max");return[M(St,a),M(bn,o)]}();const gt=Pn(t,"MetadataURL").map(Lt=>({type:Xt(Lt,"type"),format:bt(Oe(Lt,"Format")),url:Xt(Oe(Lt,"OnlineResource"),"xlink:href")})),Ht=Pn(t,"Layer").map(Lt=>IL(Lt,n,u,d,fe,Ie,tt,ft));return{name:bt(Oe(t,"Name")),title:bt(Oe(t,"Title")),abstract:bt(Oe(t,"Abstract")),availableCrs:u,styles:d,attribution:fe,boundingBoxes:Ie,keywords:rt,queryable:De,opaque:nt,...null!==ft?{minScaleDenominator:ft}:{},...null!==tt?{maxScaleDenominator:tt}:{},...gt.length&&{metadata:gt},...Ht.length&&{children:Ht}}}function mie(t){const n=Xt(Oe(Oe(t,"LegendURL"),"OnlineResource"),"xlink:href"),e=bt(Oe(t,"Abstract"));return{name:bt(Oe(t,"Name")),title:bt(Oe(t,"Title")),...e&&{abstract:e},...n&&{legendUrl:n}}}function AL(t){const n=Oe(Ss(t),"ServiceProvider"),e=Oe(n,"ServiceContact"),r=Oe(e,"ContactInfo"),s=Oe(r,"Phone"),i=Oe(r,"Address");return{name:bt(Oe(n,"ProviderName")),site:Xt(Oe(n,"ProviderSite"),"xlink:href"),contact:{name:bt(Oe(e,"IndividualName")),position:bt(Oe(e,"PositionName")),phone:bt(Oe(s,"Voice")),fax:bt(Oe(s,"Facsimile")),address:{deliveryPoint:bt(Oe(i,"DeliveryPoint")),city:bt(Oe(i,"City")),administrativeArea:bt(Oe(i,"AdministrativeArea")),postalCode:bt(Oe(i,"PostalCode")),country:bt(Oe(i,"Country"))},email:bt(Oe(i,"ElectronicMailAddress"))}}}function yie(t){const n={},e=Ss(t),r=Oe(e,"OperationsMetadata");if(r)Pn(r,"Operation").forEach(s=>{const i=Xt(s,"name");n[i]=function xie(t){const n={};return Pn(t,"DCP").flatMap(i=>Oe(i,"HTTP")).flatMap(i=>Dl(i)).forEach(i=>{const o=za(Rl(i));n[o]=Xt(i,"xlink:href")}),n}(s)});else{const s=Oe(e,"Capability");Dl(Oe(s,"Request")).forEach(o=>{const a=za(Rl(o));n[a]=function bie(t){const n={};return Pn(t,"DCPType").flatMap(i=>Pn(i,"HTTP")).flatMap(i=>Dl(i)).forEach(i=>{const o=za(Rl(i));n[o]=Xt(i,"onlineResource")}),n}(o)})}return n}function r3(t){return Ss(t).attributes.version}function bL(t){let e;if(r3(t).startsWith("1.0")){const r=Oe(Oe(Oe(Ss(t),"Capability"),"Request"),"GetFeature");e=Dl(Oe(r,"ResultFormat")).map(Rl)}else{const s=Pn(Oe(Ss(t),"OperationsMetadata"),"Operation").find(o=>"GetFeature"===Xt(o,"name")),i=Pn(s,"Parameter").find(o=>"outputFormat"===Xt(o,"name"));e=Pn(i,"Value",!0).map(bt)}return e}function Iie(t){const n=r3(t),e=n.startsWith("1.0")?"Service":"ServiceIdentification",r=n.startsWith("1.0")?"Name":"ServiceType",s=Oe(Ss(t),e);let i,o;return i=n.startsWith("1.0")?bt(Oe(s,"Keywords")).split(",").map(a=>a.trim()):Pn(Oe(s,"Keywords"),"Keyword").map(bt),"1.0.0"!==n&&(o=AL(t)),{title:bt(Oe(s,"Title")),name:bt(Oe(s,r)),abstract:bt(Oe(s,"Abstract")),fees:bt(Oe(s,"Fees")),constraints:bt(Oe(s,"AccessConstraints")),keywords:i,provider:o,outputFormats:bL(t)}}function Aie(t){const n=r3(t),e=bL(t);return Pn(Oe(Ss(t),"FeatureTypeList"),"FeatureType").map(s=>function Sie(t,n,e){const r=n.startsWith("2.")?"CRS":"SRS",s=n.startsWith("1.0")?"SRS":`Default${r}`;const a=n.startsWith("1.0")?[]:Pn(t,`Other${r}`).map(bt).map(r7),l=n.startsWith("1.0")?[]:Pn(Oe(t,"OutputFormats"),"Format").map(bt),c=n.startsWith("1.0")?bt(Oe(t,"Keywords")).split(",").map(h=>h.trim()):Pn(Oe(t,"Keywords"),"Keyword").map(bt).filter((h,d,p)=>p.indexOf(h)===d),u="2.0.0"===n?Pn(t,"MetadataURL").map(h=>({url:Xt(h,"xlink:href")})):Pn(t,"MetadataURL").map(h=>({format:Xt(h,"format"),type:Xt(h,"type"),url:bt(h).trim()}));return{name:bt(Oe(t,"Name")),title:bt(Oe(t,"Title")),abstract:bt(Oe(t,"Abstract")),defaultCrs:r7(bt(Oe(t,s))),otherCrs:a,outputFormats:l.length>0?l:e,latLonBoundingBox:n.startsWith("1.0")?function i(){const h=Oe(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map(d=>Xt(h,d)).map(parseFloat)}():function o(){const h=Oe(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map(d=>Oe(h,d)).map(d=>bt(d).split(" ")).reduce((d,p)=>[...d,...p]).map(parseFloat)}(),keywords:c,...u.length&&{metadata:u}}}(s,n,e))}function xL(t){const n=["LowerCorner","UpperCorner"].map(e=>Oe(t,e)).map(e=>bt(e).split(" ")).reduce((e,r)=>[...e,...r]).map(parseFloat);return n.some(Number.isNaN)?null:n}function _ie(t){const n=Ss(t),e=Oe(n,"ServiceIdentification"),r=Pn(Oe(e,"Keywords"),"Keyword").map(bt),i=Pn(Oe(n,"OperationsMetadata"),"Operation").find(a=>"GetTile"==Xt(a,"name")),o=Pn(i,"Get",!0).reduce((a,l)=>{const c=bt(Oe(l,"Value",!0)),u=Xt(l,"xlink:href");return"restful"===c.toLowerCase()?{...a,rest:u}:{...a,kvp:u}},{});return{title:bt(Oe(e,"Title")),name:bt(Oe(e,"ServiceType")),abstract:bt(Oe(e,"Abstract")),fees:bt(Oe(e,"Fees")),constraints:bt(Oe(e,"AccessConstraints")),keywords:r,provider:AL(t),getTileUrls:o}}function Mie(t){function n(s){const i=bt(Oe(s,"TopLeftCorner")).split(" ").map(parseFloat);return{identifier:bt(Oe(s,"Identifier")),tileWidth:parseInt(bt(Oe(s,"TileWidth"))),tileHeight:parseInt(bt(Oe(s,"TileHeight"))),matrixWidth:parseInt(bt(Oe(s,"MatrixWidth"))),matrixHeight:parseInt(bt(Oe(s,"MatrixHeight"))),scaleDenominator:parseFloat(bt(Oe(s,"ScaleDenominator"))),topLeft:i}}return Pn(Oe(Ss(t),"Contents"),"TileMatrixSet").map(s=>{const i=bt(Oe(s,"WellKnownScaleSet")),o=xL(Oe(s,"BoundingBox"));return{identifier:bt(Oe(s,"Identifier")),crs:bt(Oe(s,"SupportedCRS")),tileMatrices:Pn(s,"TileMatrix").map(n),...o&&{boundingBox:o},...i&&{wellKnownScaleSet:i}}})}function Hie(t){const n=Ss(t),e=Oe(n,"Contents");function s(u){const h=bt(Oe(u,"TileMatrixSet")),d=function r(u,h){const d=Pn(u,"TileMatrixSet").find(p=>bt(Oe(p,"Identifier"))===h);return bt(Oe(d,"SupportedCRS"))}(e,h);return{identifier:h,crs:d,limits:Pn(u,"TileMatrixLimits",!0).map(p=>({tileMatrix:bt(Oe(p,"TileMatrix")),minTileRow:parseInt(bt(Oe(p,"MinTileRow"))),minTileCol:parseInt(bt(Oe(p,"MinTileCol"))),maxTileRow:parseInt(bt(Oe(p,"MaxTileRow"))),maxTileCol:parseInt(bt(Oe(p,"MaxTileCol")))}))}}const i=Pn(Oe(n,"OperationsMetadata"),"Operation").find(u=>"GetTile"==Xt(u,"name")),o=Pn(i,"Get",!0).filter(u=>"kvp"===bt(Oe(u,"Value",!0)).toLowerCase())[0],a=o?Xt(o,"xlink:href"):"";return Pn(Oe(n,"Contents"),"Layer").map(u=>{const h=xL(Oe(u,"WGS84BoundingBox"));let d="";const p=Pn(u,"Style").map(B=>{const pe=Xt(Oe(B,"LegendURL"),"xlink:href"),fe=bt(Oe(B,"Abstract")),we={title:bt(Oe(B,"Title")),name:bt(Oe(B,"Identifier")),...fe&&{abstract:fe},...pe&&{legendUrl:pe}};return"true"===Xt(B,"isDefault")&&(d=we.name),we}),v=Pn(u,"Format").map(bt),b=Pn(u,"ResourceURL").filter(B=>"tile"===Xt(B,"resourceType")).map(B=>({format:Xt(B,"format"),url:Xt(B,"template"),encoding:"REST"}));a&&b.push(...v.map(B=>({encoding:"KVP",url:a,format:B})));const M=Pn(u,"TileMatrixSetLink").map(s),z=Pn(u,"Dimension").map(B=>({identifier:bt(Oe(B,"Identifier")),defaultValue:bt(Oe(B,"Default")),values:Pn(B,"Values").map(bt)}));return{name:bt(Oe(u,"Identifier")),title:bt(Oe(u,"Title")),abstract:bt(Oe(u,"Abstract")),styles:p,resourceLinks:b,matrixSets:M,defaultStyle:d,...h&&{latLonBoundingBox:h},...z&&{dimensions:z}}})}function zie(t,n,e){const r=Ss(t);let s;if(e.startsWith("2.0"))s=Pn(r,"member").map(c=>Dl(c)[0]);else{const c=Oe(r,"featureMembers");s=c?Dl(c):Pn(r,"featureMember").map(u=>Dl(u)[0])}const i="1.0.0"===e?"fid":"gml:id";function a(c,u){switch(n.properties[c]){case"integer":return parseInt(u);case"float":return parseFloat(u);case"boolean":return"true"===u;default:return u}}function l(c){return Dl(c).filter(u=>function o(c){return c in n.properties}(za(Rl(u)))).reduce((u,h)=>{const d=za(Rl(h));return{...u,[d]:a(d,bt(h))}},{})}return s.map(c=>({id:Xt(c,i),properties:l(c)}))}function Vie(t){return t.reduce((n,e)=>{for(const r in e.properties){const s=e.properties[r];r in n||(n[r]={uniqueValues:[]});const i=n[r].uniqueValues.find(o=>o.value===s);i?i.count++:n[r].uniqueValues.push({value:s,count:1})}return n},{})}mp("parseWmsCapabilities",globalThis,({url:t})=>I2(t).then(n=>FC(n,t)).then(n=>({info:gie(n),layers:hie(n),url:uie(n),version:yL(n)}))),mp("parseWfsCapabilities",globalThis,({url:t})=>I2(t).then(n=>FC(n,t)).then(n=>({info:Iie(n),featureTypes:Aie(n),url:yie(n),version:r3(n)}))),mp("queryWfsFeatureTypeDetails",globalThis,({url:t,serviceVersion:n,featureTypeFull:e})=>I2($C(t,n,e.name,void 0,void 0,Object.keys(e.properties))).then(s=>({props:Vie(zie(s,e,n))}))),mp("updateFetchOptions",globalThis,({options:t})=>(function Cse(t){PC=t,wp&&wp(t)}(t),Promise.resolve({}))),mp("parseWmtsCapabilities",globalThis,({url:t})=>I2(t).then(n=>FC(n,t)).then(n=>({info:_ie(n),layers:Hie(n),matrixSets:Mie(n)}))),function Ase(){sL=!0}();"2.8.0-dev".split("-");const Fie=["*"];let s3=(()=>{class t{constructor(){this.btnClass="gn-ui-btn-default",this.disabled=!1,this.extraClass="",this.buttonClick=new ns}set type(e){switch(e){case"primary":this.btnClass="gn-ui-btn-primary";break;case"secondary":this.btnClass="gn-ui-btn-secondary";break;case"outline":this.btnClass="gn-ui-btn-outline";break;case"light":this.btnClass="gn-ui-btn-light";break;case"gray":this.btnClass="gn-ui-btn-gray";break;case"black":this.btnClass="gn-ui-btn-black";break;default:this.btnClass="gn-ui-btn-default"}}get classList(){return`${this.btnClass} ${this.extraClass}`}handleClick(e){this.buttonClick.emit(e),e.preventDefault(),e.currentTarget.blur(),function Lre(t){t.stopPropagation(),setTimeout(()=>{window.document.dispatchEvent(t)},0)}(e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ho({type:t,selectors:[["gn-ui-button"]],inputs:{type:"type",disabled:"disabled",extraClass:"extraClass"},outputs:{buttonClick:"buttonClick"},standalone:!0,features:[f6],ngContentSelectors:Fie,decls:2,vars:3,consts:[["type","button",3,"click","disabled"]],template:function(r,s){1&r&&(i6(),Tt(0,"button",0),Gt("click",function(o){return s.handleClick(o)}),o6(1),zt()),2&r&&(kx(s.classList),It("disabled",s.disabled))},changeDetection:0})}}return t})();class Pie extends Fe{constructor(n,e){super()}schedule(n,e=0){return this}}const i3={setInterval(t,n,...e){const{delegate:r}=i3;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=i3;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class xp{constructor(n,e=xp.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}xp.now=J8.now;const Gie=new class Oie extends xp{constructor(n,e=xp.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class kie extends Pie{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const s=this.id,i=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(i,s,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,e),this}requestAsyncId(n,e,r=0){return i3.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&i3.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let s,r=!1;try{this.work(n)}catch(i){r=!0,s=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,He(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}});let zL=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(r){return new(r||t)(jt(Lc),jt(Xo))}}static{this.\u0275dir=Un({type:t})}}return t})(),Au=(()=>{class t extends zL{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ri(t)))(s||t)}})()}static{this.\u0275dir=Un({type:t,features:[rs]})}}return t})();const Nl=new kt(""),jie={provide:Nl,useExisting:Ur(()=>o3),multi:!0},$ie=new kt("");let o3=(()=>{class t extends zL{constructor(e,r,s){super(e,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Uie(){const t=I0()?I0().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(r){return new(r||t)(jt(Lc),jt(Xo),jt($ie,8))}}static{this.\u0275dir=Un({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&Gt("input",function(o){return s._handleInput(o.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(o){return s._compositionEnd(o.target.value)})},features:[Ls([jie]),rs]})}}return t})();const so=new kt(""),o1=new kt("");function kL(t){return null!=t}function OL(t){return s4(t)?M5(t):t}function GL(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function WL(t,n){return n.map(e=>e(t))}function ZL(t){return t.map(n=>function Yie(t){return!t.validate}(n)?n:e=>n.validate(e))}function i7(t){return null!=t?function jL(t){if(!t)return null;const n=t.filter(kL);return 0==n.length?null:function(e){return GL(WL(e,n))}}(ZL(t)):null}function o7(t){return null!=t?function UL(t){if(!t)return null;const n=t.filter(kL);return 0==n.length?null:function(e){return kT(WL(e,n).map(OL)).pipe(ie(GL))}}(ZL(t)):null}function $L(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function a7(t){return t?Array.isArray(t)?t:[t]:[]}function l3(t,n){return Array.isArray(t)?t.includes(n):t===n}function KL(t,n){const e=a7(n);return a7(t).forEach(s=>{l3(e,s)||e.push(s)}),e}function JL(t,n){return a7(n).filter(e=>!l3(t,e))}class qL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=i7(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=o7(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class So extends qL{get formDirective(){return null}get path(){return null}}class a1 extends qL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class QL{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let eR=(()=>{class t extends QL{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||t)(jt(a1,2))}}static{this.\u0275dir=Un({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&Og("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[rs]})}}return t})();const Sp="VALID",u3="INVALID",_2="PENDING",_p="DISABLED";class M2{}class nR extends M2{constructor(n,e){super(),this.value=n,this.source=e}}class u7 extends M2{constructor(n,e){super(),this.pristine=n,this.source=e}}class h7 extends M2{constructor(n,e){super(),this.touched=n,this.source=e}}class h3 extends M2{constructor(n,e){super(),this.status=n,this.source=e}}function d3(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class f7{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=y0(()=>this.statusReactive()),this.statusReactive=bh(void 0),this._pristine=y0(()=>this.pristineReactive()),this.pristineReactive=bh(!0),this._touched=y0(()=>this.touchedReactive()),this.touchedReactive=bh(!1),this._events=new Qr,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Ml(this.statusReactive)}set status(n){Ml(()=>this.statusReactive.set(n))}get valid(){return this.status===Sp}get invalid(){return this.status===u3}get pending(){return this.status==_2}get disabled(){return this.status===_p}get enabled(){return this.status!==_p}get pristine(){return Ml(this.pristineReactive)}set pristine(n){Ml(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return Ml(this.touchedReactive)}set touched(n){Ml(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(KL(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(KL(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(JL(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(JL(n,this._rawAsyncValidators))}hasValidator(n){return l3(this._rawValidators,n)}hasAsyncValidator(n){return l3(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){const e=!1===this.touched;this.touched=!0;const r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched({...n,sourceControl:r}),e&&!1!==n.emitEvent&&this._events.next(new h7(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=n.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&!1!==n.emitEvent&&this._events.next(new h7(!1,r))}markAsDirty(n={}){const e=!0===this.pristine;this.pristine=!1;const r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty({...n,sourceControl:r}),e&&!1!==n.emitEvent&&this._events.next(new u7(!1,r))}markAsPristine(n={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=n.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&!1!==n.emitEvent&&this._events.next(new u7(!0,r))}markAsPending(n={}){this.status=_2;const e=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new h3(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending({...n,sourceControl:e})}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=_p,this.errors=null,this._forEachChild(s=>{s.disable({...n,onlySelf:!0})}),this._updateValue();const r=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new nR(this.value,r)),this._events.next(new h3(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e},this),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Sp,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sp||this.status===_2)&&this._runAsyncValidator(r,n.emitEvent)}const e=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new nR(this.value,e)),this._events.next(new h3(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity({...n,sourceControl:e})}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_p:Sp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=_2,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const r=OL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,s)=>r&&r._find(s),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new h3(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new ns,this.statusChanges=new ns}_calculateStatus(){return this._allControlsDisabled()?_p:this.errors?u3:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_2)?_2:this._anyControlsHaveStatus(u3)?u3:Sp}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){const r=!this._anyControlsDirty(),s=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),s&&this._events.next(new u7(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new h7(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){d3(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function roe(t){return Array.isArray(t)?i7(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function soe(t){return Array.isArray(t)?o7(t):t||null}(this._rawAsyncValidators)}}const H2=new kt("CallSetDisabledState",{providedIn:"root",factory:()=>p3}),p3="always";function Mp(t,n,e=p3){(function v7(t,n){const e=function XL(t){return t._rawValidators}(t);null!==n.validator?t.setValidators($L(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=function YL(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators($L(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const s=()=>t.updateValueAndValidity();v3(n._rawValidators,s),v3(n._rawAsyncValidators,s)})(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function aoe(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&iR(t,n)})}(t,n),function coe(t,n){const e=(r,s)=>{n.valueAccessor.writeValue(r),s&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function loe(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&iR(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function ooe(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function v3(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function iR(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function lR(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function cR(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}Promise.resolve();const uR=class extends f7{constructor(n=null,e,r){super(function d7(t){return(d3(t)?t.validators:t)||null}(e),function p7(t,n){return(d3(n)?n.asyncValidators:t)||null}(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),d3(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=cR(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){lR(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){lR(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){cR(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},moe={provide:a1,useExisting:Ur(()=>I7)},pR=Promise.resolve();let I7=(()=>{class t extends a1{constructor(e,r,s,i,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new uR,this._registered=!1,this.name="",this.update=new ns,this._parent=e,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function C7(t,n){if(!n)return null;let e,r,s;return Array.isArray(n),n.forEach(i=>{i.constructor===o3?e=i:function doe(t){return Object.getPrototypeOf(t.constructor)===Au}(i)?r=i:s=i}),s||r||e||null}(0,i)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function w7(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){pR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,s=0!==r&&function N6(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);pR.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function f3(t,n){return[...n.path,t]}(e,this._parent):[e]}static{this.\u0275fac=function(r){return new(r||t)(jt(So,9),jt(so,10),jt(o1,10),jt(Nl,10),jt(z6,8),jt(H2,8))}}static{this.\u0275dir=Un({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ls([moe]),rs,ul]})}}return t})();const Coe={provide:Nl,useExisting:Ur(()=>A7),multi:!0};let A7=(()=>{class t extends Au{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ri(t)))(s||t)}})()}static{this.\u0275dir=Un({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){1&r&&Gt("input",function(o){return s.onChange(o.target.value)})("blur",function(){return s.onTouched()})},features:[Ls([Coe]),rs]})}}return t})();const Hoe={provide:Nl,useExisting:Ur(()=>w3),multi:!0};function yR(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let w3=(()=>{class t extends Au{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const s=yR(this._getOptionId(e),e);this.setProperty("value",s)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function zoe(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ri(t)))(s||t)}})()}static{this.\u0275dir=Un({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){1&r&&Gt("change",function(o){return s.onChange(o.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ls([Hoe]),rs]})}}return t})(),IR=(()=>{class t{constructor(e,r,s){this._element=e,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(yR(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(jt(Xo),jt(Lc),jt(w3,9))}}static{this.\u0275dir=Un({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();const Voe={provide:Nl,useExisting:Ur(()=>_7),multi:!0};function AR(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let _7=(()=>{class t extends Au{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const s=e.map(i=>this._getOptionId(i));r=(i,o)=>{i._setSelected(s.indexOf(o.toString())>-1)}}else r=(s,i)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const s=[],i=r.selectedOptions;if(void 0!==i){const o=i;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);s.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);s.push(c)}}}this.value=s,e(s)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function Toe(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ri(t)))(s||t)}})()}static{this.\u0275dir=Un({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){1&r&&Gt("change",function(o){return s.onChange(o.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ls([Voe]),rs]})}}return t})(),bR=(()=>{class t{constructor(e,r,s){this._element=e,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(AR(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(AR(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(jt(Xo),jt(Lc),jt(_7,9))}}static{this.\u0275dir=Un({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),koe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ba({type:t})}static{this.\u0275inj=ua({})}}return t})(),Goe=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:H2,useValue:e.callSetDisabledState??p3}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ba({type:t})}static{this.\u0275inj=ua({imports:[koe]})}}return t})();function Woe(t,n){if(1&t){const e=wr();Tt(0,"input",10),Gt("ngModelChange",function(s){return ot(e),at(At(2).fieldValueChange.next(s))}),zt()}if(2&t){const e=At(2);It("readonly",e.readonly)("ngModel",e.fieldValue)}}function Zoe(t,n){if(1&t){const e=wr();Tt(0,"input",10),Gt("ngModelChange",function(s){ot(e);const i=At(2);return at(i.fieldValueChange.next(i.toURL(s)))}),zt()}if(2&t){const e=At(2);It("readonly",e.readonly)("ngModel",e.fieldValue.toString())}}function joe(t,n){if(1&t){const e=wr();Tt(0,"textarea",11),Gt("ngModelChange",function(s){return ot(e),at(At(2).fieldValueChange.next(s))}),zt()}if(2&t){const e=At(2);It("readonly",e.readonly)("ngModel",e.fieldValue)}}function Uoe(t,n){if(1&t){const e=wr();Tt(0,"input",12),Gt("ngModelChange",function(s){ot(e);const i=At(2);return at(i.fieldValueChange.next(i.toDate(s)))}),zt()}if(2&t){const e=At(2);It("readonly",e.readonly)("ngModel",null==e.fieldValue?null:e.fieldValue.toISOString().substring(0,16))}}function $oe(t,n){if(1&t&&(Tt(0,"option",15),vo(1),zt()),2&t){const e=n.$implicit;It("selected",e===At(3).fieldValue)("ngValue",e),Ot(),Fc(" ",e," ")}}function Xoe(t,n){if(1&t){const e=wr();Tt(0,"select",13),Gt("ngModelChange",function(s){return ot(e),at(At(2).fieldValueChange.next(s))}),vi(1,$oe,2,3,"option",14),zt()}if(2&t){const e=At(2);It("ngModel",e.fieldValue),Ot(),It("ngForOf",e.options)}}function Yoe(t,n){if(1&t){const e=wr();Tt(0,"input",16),Gt("ngModelChange",function(s){ot(e);const i=At(2);return at(i.fieldValueChange.next(i.toNumber(s)))}),zt()}if(2&t){const e=At(2);It("readonly",e.readonly)("ngModel",e.fieldValue)}}function Koe(t,n){if(1&t&&(Tt(0,"div",2)(1,"label",3)(2,"span",4),vo(3),zt(),vi(4,Woe,1,2,"input",5)(5,Zoe,1,2,"input",5)(6,joe,1,2,"textarea",6)(7,Uoe,1,2,"input",7)(8,Xoe,2,2,"select",8)(9,Yoe,1,2,"input",9),zt()()),2&t){const e=At();Ot(3),c6(e.label),Ot(),It("ngIf",e.isSimpleText),Ot(),It("ngIf",e.isURL),Ot(),It("ngIf",e.isRichText),Ot(),It("ngIf",e.isDate),Ot(),It("ngIf",e.hasOptions),Ot(),It("ngIf",e.isNumber)}}function Joe(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-button",17),Gt("buttonClick",function(){return ot(e),at(At().addValue())}),Tt(1,"span")(2,"span",18),vo(3,"Add value for"),zt(),vo(4),zt()()}if(2&t){const e=At();It("type","outline"),Ot(4),Fc(" ",e.label,"")}}let qoe=(()=>{class t{constructor(){this.fieldValueChange=new ns,this.readonly=!1,this.type="text",this.confirm=this.fieldValueChange.pipe(function Wie(t,n=Gie){return Zs((e,r)=>{let s=null,i=null,o=null;const a=()=>{if(s){s.unsubscribe(),s=null;const c=i;i=null,r.next(c)}};function l(){const c=o+t,u=n.now();if(u<c)return s=this.schedule(void 0,c-u),void r.add(s);a()}e.subscribe(R(r,c=>{i=c,o=n.now(),s||(s=n.schedule(l,t),r.add(s))},()=>{a(),r.complete()},void 0,()=>{i=s=null}))})}(300),ie(()=>{}))}get hasOptions(){return Array.isArray(this.options)}get isMissing(){return void 0===this.fieldValue&&!this.hasOptions}get isSimpleText(){return!this.hasOptions&&!this.isMissing&&"text"===this.type}get isRichText(){return!this.hasOptions&&!this.isMissing&&"rich"===this.type}get isURL(){return!this.hasOptions&&!this.isMissing&&"url"===this.type}get isDate(){return!this.hasOptions&&!this.isMissing&&"date"===this.type}get isNumber(){return!this.hasOptions&&!this.isMissing&&"number"===this.type}toDate(e){return new Date(e)}toURL(e){return new URL(e,window.location.toString())}toNumber(e){return parseFloat(e)||0}addValue(){switch(this.type){case"url":this.fieldValue=new URL("",window.location.toString());break;case"date":this.fieldValue=new Date;break;default:this.fieldValue=""}this.fieldValueChange.emit(this.fieldValue)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ho({type:t,selectors:[["gn-ui-record-field-simple"]],inputs:{label:"label",fieldValue:"fieldValue",readonly:"readonly",type:"type",options:"options"},outputs:{fieldValueChange:"fieldValueChange",confirm:"confirm"},decls:2,vars:2,consts:[["class","border border-gray-400 rounded-sm m-2 shadow-sm bg-white",4,"ngIf"],["extraClass","m-2 py-[0.5em] px-[1em]",3,"type","buttonClick",4,"ngIf"],[1,"border","border-gray-400","rounded-sm","m-2","shadow-sm","bg-white"],[1,"block","leading-tight","text-right","relative"],[1,"absolute","top-[0.25em]","right-[0.5em]","text-[0.9em]","text-gray-700","uppercase","pointer-events-none"],["type","text",3,"readonly","ngModel","ngModelChange",4,"ngIf"],["rows","4",3,"readonly","ngModel","ngModelChange",4,"ngIf"],["type","datetime-local",3,"readonly","ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["type","number",3,"readonly","ngModel","ngModelChange",4,"ngIf"],["type","text",3,"ngModelChange","readonly","ngModel"],["rows","4",3,"ngModelChange","readonly","ngModel"],["type","datetime-local",3,"ngModelChange","readonly","ngModel"],[3,"ngModelChange","ngModel"],[3,"selected","ngValue",4,"ngFor","ngForOf"],[3,"selected","ngValue"],["type","number",3,"ngModelChange","readonly","ngModel"],["extraClass","m-2 py-[0.5em] px-[1em]",3,"buttonClick","type"],[1,"opacity-70"]],template:function(r,s){1&r&&vi(0,Koe,10,7,"div",0)(1,Joe,5,2,"gn-ui-button",1),2&r&&(It("ngIf",!s.isMissing),Ot(),It("ngIf",s.isMissing))},dependencies:[z4,b0,IR,bR,o3,A7,w3,eR,I7,s3],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1.3em .5em .3em}input[readonly][_ngcontent-%COMP%]{background-color:var(--color-gray-50);color:var(--color-gray-700)}"],changeDetection:0})}}return t})();const Qoe=["*"];let H7=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ho({type:t,selectors:[["gn-ui-record-field-group"]],inputs:{label:"label"},ngContentSelectors:Qoe,decls:4,vars:1,consts:[[1,"outer","p-[0.25em]","m-2"],[1,"p-[0.5em]","pb-0","uppercase","font-medium","text-gray-900","text-center"]],template:function(r,s){1&r&&(i6(),Tt(0,"div",0)(1,"div",1),vo(2),zt(),o6(3),zt()),2&r&&(Ot(2),Fc(" ",s.label," "))},styles:['.outer[_ngcontent-%COMP%]{position:relative;background:#ebebeb7f}.outer[_ngcontent-%COMP%]:before{position:absolute;top:0;bottom:0;left:0;width:10px;border-radius:.125rem;border-width:1px;border-right-width:0px;border-color:var(--color-gray-400);content:""}.outer[_ngcontent-%COMP%]:after{position:absolute;top:0;bottom:0;right:0;width:10px;border-radius:.125rem;border-width:1px;border-left-width:0px;border-color:var(--color-gray-400);content:""}'],changeDetection:0})}}return t})();function eae(t){return null==t?"":/^\d+$/.test(t)?`${t}px`:t}new kt("Ng Glyph Config"),new kt("NgGlyphsToken");const NR=new kt("Ng Icon Pre Processor"),FR=new kt("Ng Icon Post Processor"),PR=new kt("Ng Icon Logger");class iae{log(n){console.log(n)}warn(n){console.warn(n)}error(n){console.error(n)}}const kR=new kt("Ng Icon Config");function lae(t,...n){return[{provide:kR,useValue:t},n.map(e=>e.\u0275providers)]}const OR=new kt("Ng Icon Loader Token"),GR=new kt("Ng Icon Cache Token");function pae(t){return[{provide:C3,useFactory:(n=ke(C3,{optional:!0,skipSelf:!0}))=>({...n?.reduce((e,r)=>({...e,...r}),{}),...t}),multi:!0}]}const C3=new kt("Icons Token");let z7=(()=>{class t{constructor(){this.config=function cae(){return ke(kR,{optional:!0})??{}}(),this.icons=function fae(){return ke(C3,{optional:!0})??[]}(),this.loader=function hae(){return ke(OR,{optional:!0})}(),this.cache=function dae(){return ke(GR,{optional:!0})}(),this.preProcessor=function tae(){return ke(NR,{optional:!0})??(t=>t)}(),this.postProcessor=function nae(){return ke(FR,{optional:!0})??(()=>{})}(),this.injector=ke(kn),this.renderer=ke(Lc),this.platform=ke(vl),this.elementRef=ke(Xo),this.logger=function aae(){return ke(PR,{optional:!0})??new iae}(),this.name=sh(),this.svg=sh(),this.size=sh(this.config.size,{transform:eae}),this.strokeWidth=sh(this.config.strokeWidth),this.color=sh(this.config.color),xM(()=>this.updateIcon())}ngOnDestroy(){this.svgElement=void 0}updateIcon(){var e=this;return(0,qo.A)(function*(){const r=e.name(),s=e.svg();if(void 0!==s)return void e.setSvg(s);if(void 0===r)return;const i=function vae(t){return t.replace(/([^a-zA-Z0-9])+(.)?/g,(n,e,r)=>r?r.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,n=>n.toLowerCase())}(r);for(const o of[...e.icons].reverse())if(o[i])return void e.setSvg(o[i]);if(e.loader){const o=yield e.requestIconFromLoader(r);if(null!==o)return void e.setSvg(o)}e.logger.warn(`No icon named ${r} was found. You may need to import it using the withIcons function.`)})()}setSvg(e){if(Q6(this.platform))return this.elementRef.nativeElement.innerHTML=e,void this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===e)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),""===e))return;const r=this.renderer.createElement("template");this.renderer.setProperty(r,"innerHTML",this.preProcessor(e)),this.svgElement=r.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}requestIconFromLoader(e){var r=this;return new Promise(s=>{O3(this.injector,(0,qo.A)(function*(){if(r.cache){const a=r.cache.get(e);if("string"==typeof a)return void s(a);if(a instanceof Promise){const l=yield a;return void s(l)}}const i=function gae(t){return"string"==typeof t?Promise.resolve(t):sp(t)?t.toPromise():t}(r.loader(e));r.cache?.set(e,i);const o=yield i;r.cache?.set(e,o),s(o)}))})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ho({type:t,selectors:[["ng-icon"]],hostVars:6,hostBindings:function(r,s){2&r&&Jw("--ng-icon__stroke-width",s.strokeWidth())("--ng-icon__size",s.size())("--ng-icon__color",s.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},standalone:!0,features:[f6],decls:0,vars:0,template:function(r,s){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0})}}return t})(),mae=(()=>{class t{constructor(e){if(0===Object.keys(e).length)throw new Error("No icons have been provided. Ensure to include some icons by importing them using NgIconsModule.withIcons({ ... }).")}static withIcons(e){return{ngModule:t,providers:pae(e)}}static{this.\u0275fac=function(r){return new(r||t)(Ke(C3))}}static{this.\u0275mod=Ba({type:t})}static{this.\u0275inj=ua({})}}return t})();const wae=(t,n)=>({getValue:t,setValue:n});function Cae(t,n){if(1&t){const e=wr();Tt(0,"div",5),Ug(1,6),Tt(2,"gn-ui-button",7),Gt("buttonClick",function(){const s=ot(e).index;return at(At().removeItem(s))}),Wh(3,"ng-icon",8),zt()()}if(2&t){const e=n.index,r=At();Ot(),It("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",g6(3,wae,r.valueGetterByIndex(e),r.valueSetterByIndex(e))),Ot(),It("type","outline")}}let yae=(()=>{class t{constructor(){this.fieldValueChange=new ns,this.confirm=new ns}addItem(){this.fieldValue=[...this.fieldValue,this.defaultItem],this.fieldValueChange.emit(this.fieldValue),this.confirm.emit()}removeItem(e){this.fieldValue=this.fieldValue.filter((r,s)=>s!==e),this.fieldValueChange.emit(this.fieldValue),this.confirm.emit()}valueGetterByIndex(e){return()=>this.fieldValue[e]}valueSetterByIndex(e){return(r,s,i)=>{this.fieldValue[e]=s&&i?{...this.fieldValue[e],[s]:{...this.fieldValue[e][s],[i]:r}}:s?{...this.fieldValue[e],[s]:r}:r}}trackBy(e){return e}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ho({type:t,selectors:[["gn-ui-record-field-array"]],inputs:{label:"label",fieldValue:"fieldValue",itemTemplate:"itemTemplate",defaultItem:"defaultItem"},outputs:{fieldValueChange:"fieldValueChange",confirm:"confirm"},decls:6,vars:4,consts:[[3,"label"],[1,"text-[0.9em]"],["class","relative pr-[2.8em]",4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-2"],["extraClass","py-[0.5em] px-[1em]",3,"buttonClick","type"],[1,"relative","pr-[2.8em]"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["extraClass","!p-[0.5em]","title","Delete this item",1,"absolute","top-0","right-1",3,"buttonClick","type"],["name","matDeleteForeverSharp"]],template:function(r,s){1&r&&(Tt(0,"gn-ui-record-field-group",0)(1,"div",1),vi(2,Cae,4,6,"div",2),Tt(3,"div",3)(4,"gn-ui-button",4),Gt("buttonClick",function(){return s.addItem()}),vo(5," Add new item... "),zt()()()()),2&r&&(It("label",s.label),Ot(2),It("ngForOf",s.fieldValue)("ngForTrackBy",s.trackBy),Ot(2),It("type","primary"))},dependencies:[z4,K6,z7,s3,H7],styles:['.outer[_ngcontent-%COMP%]{position:relative;background:#ebebeb7f}.outer[_ngcontent-%COMP%]:before{position:absolute;top:0;bottom:0;left:0;width:10px;border-radius:.125rem;border-width:1px;border-right-width:0px;border-color:var(--color-gray-400);content:""}'],changeDetection:0})}}return t})();const Iae=(t,n)=>({getValue:t,setValue:n});function Aae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-button",7),Gt("buttonClick",function(){return ot(e),at(At(2).deleteObject())}),Wh(1,"ng-icon",8),zt()}2&t&&It("type","outline")}function bae(t,n){if(1&t&&(Tt(0,"div",4),Ug(1,5),vi(2,Aae,2,1,"gn-ui-button",6),zt()),2&t){const e=At();Ot(),It("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",g6(3,Iae,e.valueGetter(),e.valueSetter())),Ot(),It("ngIf",e.optional)}}function xae(t,n){if(1&t){const e=wr();Tt(0,"div",9)(1,"gn-ui-button",10),Gt("buttonClick",function(){return ot(e),at(At().createObject())}),vo(2," Create... "),zt()()}2&t&&(Ot(),It("type","primary"))}let Sae=(()=>{class t{constructor(){this.fieldValueChange=new ns,this.confirm=new ns}createObject(){this.fieldValue={},this.fieldValueChange.emit(this.fieldValue),this.confirm.emit()}deleteObject(){this.fieldValue=void 0,this.fieldValueChange.emit(this.fieldValue),this.confirm.emit()}valueGetter(){return()=>this.fieldValue}valueSetter(){return(e,r)=>{r?this.fieldValue[r]=e:this.fieldValue=e}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ho({type:t,selectors:[["gn-ui-record-field-object"]],inputs:{label:"label",fieldValue:"fieldValue",itemTemplate:"itemTemplate",defaultItem:"defaultItem",optional:"optional"},outputs:{fieldValueChange:"fieldValueChange",confirm:"confirm"},decls:4,vars:3,consts:[[3,"label"],[1,"text-[0.9em]"],["class","relative pr-[2.8em]",4,"ngIf"],["class","p-2",4,"ngIf"],[1,"relative","pr-[2.8em]"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","absolute top-0 right-1","extraClass","!p-[0.5em]","title","Delete this item",3,"type","buttonClick",4,"ngIf"],["extraClass","!p-[0.5em]","title","Delete this item",1,"absolute","top-0","right-1",3,"buttonClick","type"],["name","matDeleteForeverSharp"],[1,"p-2"],["extraClass","py-[0.5em] px-[1em]",3,"buttonClick","type"]],template:function(r,s){1&r&&(Tt(0,"gn-ui-record-field-group",0)(1,"div",1),vi(2,bae,3,6,"div",2)(3,xae,3,1,"div",3),zt()()),2&r&&(It("label",s.label),Ot(2),It("ngIf",s.fieldValue),Ot(),It("ngIf",!s.fieldValue))},dependencies:[b0,K6,z7,s3,H7],styles:['.outer[_ngcontent-%COMP%]{position:relative;background:#ebebeb7f}.outer[_ngcontent-%COMP%]:before{position:absolute;top:0;bottom:0;left:0;width:10px;border-radius:.125rem;border-width:1px;border-right-width:0px;border-color:var(--color-gray-400);content:""}.outer[_ngcontent-%COMP%]:after{position:absolute;top:0;bottom:0;right:0;width:10px;border-radius:.125rem;border-width:1px;border-left-width:0px;border-color:var(--color-gray-400);content:""}'],changeDetection:0})}}return t})();const _ae=()=>["dataset","service"],WR=()=>({name:"org"}),ZR=t=>({firstName:"first",lastName:"last",email:"email@domain.com",organization:t,role:"unspecified"}),Mae=()=>({label:"change me!",type:"other"}),y3=()=>({text:"change me!"}),Hae=()=>["other","theme","place","temporal"],zae=()=>["grid","vector","tin","table","point"],Vae=()=>["service","download","link"],Tae=()=>({url:"",accessServiceProtocol:"OGC:WMS"}),Eae=()=>["endpoint","link"];function Lae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-button",29),Gt("buttonClick",function(){return ot(e),at(At().addOwnerOrg())}),Tt(1,"span",30),vo(2,"Add a owner organization to this record"),zt()()}2&t&&It("type","outline")}function Rae(t,n){if(1&t){const e=wr();Zg(0),Tt(1,"gn-ui-record-field-simple",31),as("fieldValueChange",function(s){ot(e);const i=At();return gs(i.record.ownerOrganization.name,s)||(i.record.ownerOrganization.name=s),at(s)}),Gt("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt(),Tt(2,"gn-ui-record-field-simple",32),as("fieldValueChange",function(s){ot(e);const i=At();return gs(i.record.ownerOrganization.description,s)||(i.record.ownerOrganization.description=s),at(s)}),Gt("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt(),Tt(3,"gn-ui-record-field-simple",33),as("fieldValueChange",function(s){ot(e);const i=At();return gs(i.record.ownerOrganization.website,s)||(i.record.ownerOrganization.website=s),at(s)}),Gt("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt(),Tt(4,"gn-ui-record-field-simple",34),as("fieldValueChange",function(s){ot(e);const i=At();return gs(i.record.ownerOrganization.logoUrl,s)||(i.record.ownerOrganization.logoUrl=s),at(s)}),Gt("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt(),jg()}if(2&t){const e=At();Ot(),os("fieldValue",e.record.ownerOrganization.name),Ot(),os("fieldValue",e.record.ownerOrganization.description),Ot(),os("fieldValue",e.record.ownerOrganization.website),It("type","url"),Ot(),os("fieldValue",e.record.ownerOrganization.logoUrl),It("type","url")}}function Dae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-group",42)(1,"gn-ui-record-field-simple",31),Gt("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"organization","name"))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),zt(),Tt(2,"gn-ui-record-field-simple",32),Gt("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"organization","description"))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),zt(),Tt(3,"gn-ui-record-field-simple",33),Gt("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"organization","website"))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),zt(),Tt(4,"gn-ui-record-field-simple",34),Gt("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"organization","logoUrl"))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),zt()()}if(2&t){const e=At().getValue;Ot(),It("fieldValue",e().organization.name),Ot(),It("fieldValue",e().organization.description),Ot(),It("fieldValue",e().organization.website)("type","url"),Ot(),It("fieldValue",e().organization.logoUrl)("type","url")}}function Bae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-group",35)(1,"gn-ui-record-field-simple",36),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"firstName"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt(),Tt(2,"gn-ui-record-field-simple",37),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"lastName"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt(),Tt(3,"gn-ui-record-field-simple",38),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"email"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt(),Tt(4,"gn-ui-record-field-simple",39),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"role"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt(),Tt(5,"gn-ui-record-field-simple",40),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"position"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt(),vi(6,Dae,5,6,"gn-ui-record-field-group",41),zt()}if(2&t){const e=n.getValue,r=At();Ot(),It("fieldValue",e().firstName),Ot(),It("fieldValue",e().lastName),Ot(),It("fieldValue",e().email),Ot(),It("fieldValue",e().role)("options",r.roleOptions),Ot(),It("fieldValue",e().position),Ot(),It("ngIf",e().organization)}}function Nae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-simple",43),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt()}2&t&&It("fieldValue",(0,n.getValue)())}function Fae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-group")(1,"gn-ui-record-field-simple",44),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"label"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt(),Tt(2,"gn-ui-record-field-simple",45),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"type"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt(),Tt(3,"gn-ui-record-field-object",46),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"thesaurus"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt()()}if(2&t){const e=n.getValue;At();const r=Nc(35);Ot(),It("fieldValue",e().label)("type","text"),Ot(),It("options",Do(7,Hae))("fieldValue",e().type),Ot(),It("optional",!0)("itemTemplate",r)("fieldValue",e().thesaurus)}}function Pae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-simple",47),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"id"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt(),Tt(1,"gn-ui-record-field-simple",48),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"name"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt(),Tt(2,"gn-ui-record-field-simple",49),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"url"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt()}if(2&t){const e=n.getValue;It("fieldValue",e().id)("type","text"),Ot(),It("fieldValue",e().name)("type","text"),Ot(),It("fieldValue",e().url)("type","url")}}function kae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-group")(1,"gn-ui-record-field-simple",50),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"text"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt(),Tt(2,"gn-ui-record-field-simple",49),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"url"))})("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt()()}if(2&t){const e=n.getValue;Ot(),It("fieldValue",e().text)("type","rich"),Ot(),It("fieldValue",e().url)("type","url")}}function Oae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-simple",65),Gt("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"url"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),zt()}if(2&t){const e=At().getValue;It("type","url")("fieldValue",e().url)}}function Gae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-simple",66),Gt("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"accessServiceProtocol"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),zt()}2&t&&It("fieldValue",(0,At().getValue)().accessServiceProtocol)}function Wae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-simple",67),Gt("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"identifierInService"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),zt()}2&t&&It("fieldValue",(0,At().getValue)().identifierInService)}function Zae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-simple",68),Gt("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"url"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),zt()}if(2&t){const e=At().getValue;It("type","url")("fieldValue",e().url)}}function jae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-simple",69),Gt("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"mimeType"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),zt()}2&t&&It("fieldValue",(0,At().getValue)().mimeType)}function Uae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-simple",70),Gt("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"sizeBytes"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),zt()}if(2&t){const e=At().getValue;It("type","number")("fieldValue",e().sizeBytes)}}function $ae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-simple",71),Gt("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"url"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),zt()}if(2&t){const e=At().getValue;It("type","url")("fieldValue",e().url)}}function Xae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-group",56)(1,"gn-ui-record-field-simple",45),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(At(2).getOnlineResourceForType(s)))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),zt(),vi(2,Oae,1,2,"gn-ui-record-field-simple",57)(3,Gae,1,1,"gn-ui-record-field-simple",58)(4,Wae,1,1,"gn-ui-record-field-simple",59)(5,Zae,1,2,"gn-ui-record-field-simple",60)(6,jae,1,1,"gn-ui-record-field-simple",61)(7,Uae,1,2,"gn-ui-record-field-simple",62)(8,$ae,1,2,"gn-ui-record-field-simple",63),Tt(9,"gn-ui-record-field-simple",31),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"name"))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),zt(),Tt(10,"gn-ui-record-field-simple",64),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"description"))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),zt()()}if(2&t){const e=n.getValue;Ot(),It("options",Do(12,Vae))("fieldValue",e().type),Ot(),It("ngIf","service"===e().type),Ot(),It("ngIf","service"===e().type),Ot(),It("ngIf","service"===e().type),Ot(),It("ngIf","download"===e().type),Ot(),It("ngIf","download"===e().type),Ot(),It("ngIf","download"===e().type),Ot(),It("ngIf","link"===e().type),Ot(),It("fieldValue",e().name),Ot(),It("type","rich")("fieldValue",e().description)}}function Yae(t,n){if(1&t){const e=wr();Tt(0,"div")(1,"p",51),vo(2," Dataset record specific fields "),zt(),Tt(3,"p")(4,"gn-ui-record-field-simple",52),as("fieldValueChange",function(s){ot(e);const i=At();return gs(i.record.status,s)||(i.record.status=s),at(s)}),Gt("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt()(),Tt(5,"p")(6,"gn-ui-record-field-simple",53),as("fieldValueChange",function(s){ot(e);const i=At();return gs(i.record.spatialRepresentation,s)||(i.record.spatialRepresentation=s),at(s)}),Gt("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt()(),Tt(7,"p")(8,"gn-ui-record-field-simple",54),as("fieldValueChange",function(s){ot(e);const i=At();return gs(i.record.lineage,s)||(i.record.lineage=s),at(s)}),Gt("confirm",function(){return ot(e),at(At().emitChangedRecord())}),zt()(),Tt(9,"p")(10,"gn-ui-record-field-array",55),as("fieldValueChange",function(s){ot(e);const i=At();return gs(i.record.distributions,s)||(i.record.distributions=s),at(s)}),Gt("confirm",function(){return ot(e),at(At().emitChangedRecord())}),vi(11,Xae,11,13,"ng-template",null,5,Pc),zt()()()}if(2&t){const e=Nc(12),r=At();Ot(4),os("fieldValue",r.record.status),It("options",r.statusOptions),Ot(2),os("fieldValue",r.record.spatialRepresentation),It("options",Do(9,zae)),Ot(2),os("fieldValue",r.record.lineage),It("type","rich"),Ot(2),os("fieldValue",r.record.distributions),It("itemTemplate",e)("defaultItem",r.getOnlineResourceForType("download"))}}function Kae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-simple",77),Gt("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"url"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),zt()}if(2&t){const e=At().getValue;It("type","url")("fieldValue",e().url)}}function Jae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-simple",78),Gt("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"protocol"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),zt()}2&t&&It("fieldValue",(0,At().getValue)().accessServiceProtocol)}function qae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-simple",31),Gt("fieldValueChange",function(s){return ot(e),at((0,At().setValue)(s,"name"))})("confirm",function(){return ot(e),at(At(3).emitChangedRecord())}),zt()}2&t&&It("fieldValue",(0,At().getValue)().name)}function Qae(t,n){if(1&t){const e=wr();Tt(0,"gn-ui-record-field-group",73)(1,"gn-ui-record-field-simple",45),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(At(2).getOnlineResourceForType(s)))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),zt(),vi(2,Kae,1,2,"gn-ui-record-field-simple",74)(3,Jae,1,1,"gn-ui-record-field-simple",75)(4,qae,1,1,"gn-ui-record-field-simple",76),Tt(5,"gn-ui-record-field-simple",64),Gt("fieldValueChange",function(s){return at((0,ot(e).setValue)(s,"description"))})("confirm",function(){return ot(e),at(At(2).emitChangedRecord())}),zt()()}if(2&t){const e=n.getValue;Ot(),It("options",Do(7,Eae))("fieldValue",e().type),Ot(),It("ngIf","endpoint"===e().type),Ot(),It("ngIf","endpoint"===e().type),Ot(),It("ngIf","link"===e().type),Ot(),It("type","rich")("fieldValue",e().description)}}function ele(t,n){if(1&t){const e=wr();Tt(0,"div")(1,"p",51),vo(2," Service record specific fields "),zt(),Tt(3,"p")(4,"gn-ui-record-field-array",72),as("fieldValueChange",function(s){ot(e);const i=At();return gs(i.record.onlineResources,s)||(i.record.onlineResources=s),at(s)}),Gt("confirm",function(){return ot(e),at(At().emitChangedRecord())}),vi(5,Qae,6,8,"ng-template",null,6,Pc),zt()()()}if(2&t){const e=Nc(6),r=At();Ot(4),os("fieldValue",r.record.onlineResources),It("itemTemplate",e)("defaultItem",Do(3,Tae))}}let tle=(()=>{class t{get isDatasetRecord(){return"dataset"===this.record.kind}get isServiceRecord(){return"service"===this.record.kind}constructor(){this.recordChanged=new ns,this.statusOptions=Y$,this.roleOptions=$$,this.switchToRecordKind("dataset")}ngAfterViewInit(){setTimeout(()=>{this.recordChanged.emit(this.record)},100)}emitChangedRecord(){this.recordChanged.emit(this.record)}getOnlineResourceForType(e){switch(e){case"download":case"link":default:return{type:e,url:new URL("",window.location.toString())};case"service":case"endpoint":return{type:e,url:new URL("",window.location.toString()),accessServiceProtocol:"other"}}}switchToRecordKind(e){const r=!!this.record,s={uniqueIdentifier:r?this.record.uniqueIdentifier:"0000-0000-0000-0000",title:r?this.record.title:"My Record",abstract:r?this.record.abstract:"",recordUpdated:r?this.record.recordUpdated:new Date,ownerOrganization:r?this.record.ownerOrganization:{name:"My Organization"},contacts:r?this.record.contacts:[],contactsForResource:r?this.record.contactsForResource:[],licenses:r?[...this.record.licenses]:[],legalConstraints:r?[...this.record.legalConstraints]:[],securityConstraints:r?[...this.record.securityConstraints]:[],otherConstraints:r?[...this.record.otherConstraints]:[],keywords:r?this.record.keywords:[],topics:r?this.record.topics:[],onlineResources:[],otherLanguages:[],defaultLanguage:"en",overviews:[]};this.record="dataset"===e?{...s,kind:"dataset",status:"under_development",updateFrequency:"unknown",lineage:"",spatialExtents:[],temporalExtents:[]}:{...s,kind:"service",spatialExtents:[]},this.recordChanged.emit(this.record)}addOwnerOrg(){this.record={...this.record,ownerOrganization:{name:"My Organization"}},this.recordChanged.emit(this.record)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ho({type:t,selectors:[["gn-ui-record-form"]],inputs:{record:"record"},outputs:{recordChanged:"recordChanged"},decls:48,vars:58,consts:[["contactTpl",""],["topicTpl",""],["keywordTpl",""],["thesaurusTpl",""],["constraintTpl",""],["distributionTpl",""],["endpointTpl",""],["label","Unique identifier",3,"fieldValueChange","confirm","fieldValue"],["label","Title",3,"fieldValueChange","confirm","fieldValue"],["label","Abstract",3,"fieldValueChange","confirm","fieldValue","type"],["label","Kind",3,"fieldValueChange","options","fieldValue"],["label","Owner Organization"],["extraClass","m-2 py-[0.5em] px-[1em]",3,"type","buttonClick",4,"ngIf"],[4,"ngIf"],["label","Contacts",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Contacts for resource",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],[1,"grid","grid-cols-3"],["label","Record created on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Record updated on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Record published on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Resource created on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Resource updated on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Resource published on",3,"fieldValueChange","confirm","fieldValue","type"],["label","Topics",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Keywords",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Licenses",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Legal constraints",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Security constraints",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Other constraints",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["extraClass","m-2 py-[0.5em] px-[1em]",3,"buttonClick","type"],[1,"opacity-70"],["label","Name",3,"fieldValueChange","confirm","fieldValue"],["label","Description",3,"fieldValueChange","confirm","fieldValue"],["label","Website",3,"fieldValueChange","confirm","fieldValue","type"],["label","Logo URL",3,"fieldValueChange","confirm","fieldValue","type"],["label","Contact"],["label","First Name",3,"fieldValueChange","confirm","fieldValue"],["label","Last Name",3,"fieldValueChange","confirm","fieldValue"],["label","Email",3,"fieldValueChange","confirm","fieldValue"],["label","Role",3,"fieldValueChange","confirm","fieldValue","options"],["label","Position",3,"fieldValueChange","confirm","fieldValue"],["label","Organisation",4,"ngIf"],["label","Organisation"],["label","Topic",3,"fieldValueChange","confirm","fieldValue"],["label","Label",3,"fieldValueChange","confirm","fieldValue","type"],["label","Type",3,"fieldValueChange","confirm","options","fieldValue"],["label","Thesaurus",3,"fieldValueChange","confirm","optional","itemTemplate","fieldValue"],["label","Identifier",3,"fieldValueChange","confirm","fieldValue","type"],["label","Name",3,"fieldValueChange","confirm","fieldValue","type"],["label","URL",3,"fieldValueChange","confirm","fieldValue","type"],["label","Text",3,"fieldValueChange","confirm","fieldValue","type"],[1,"text-xl","font-bold","font-title","mt-8","mb-0","m-2"],["label","Status",3,"fieldValueChange","confirm","fieldValue","options"],["label","Spatial Representation Type",3,"fieldValueChange","confirm","fieldValue","options"],["label","Lineage",3,"fieldValueChange","confirm","fieldValue","type"],["label","Distributions",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Distribution"],["label","Access Service URL",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Access Service Protocol",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Identifier In Service",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Download URL",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Mime Type",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Size In Bytes",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Link URL",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Description",3,"fieldValueChange","confirm","type","fieldValue"],["label","Access Service URL",3,"fieldValueChange","confirm","type","fieldValue"],["label","Access Service Protocol",3,"fieldValueChange","confirm","fieldValue"],["label","Identifier In Service",3,"fieldValueChange","confirm","fieldValue"],["label","Download URL",3,"fieldValueChange","confirm","type","fieldValue"],["label","Mime Type",3,"fieldValueChange","confirm","fieldValue"],["label","Size In Bytes",3,"fieldValueChange","confirm","type","fieldValue"],["label","Link URL",3,"fieldValueChange","confirm","type","fieldValue"],["label","Online Resources",3,"fieldValueChange","confirm","fieldValue","itemTemplate","defaultItem"],["label","Online Resource"],["label","Endpoint URL",3,"type","fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Protocol",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Name",3,"fieldValue","fieldValueChange","confirm",4,"ngIf"],["label","Endpoint URL",3,"fieldValueChange","confirm","type","fieldValue"],["label","Protocol",3,"fieldValueChange","confirm","fieldValue"]],template:function(r,s){if(1&r){const i=wr();Tt(0,"p")(1,"gn-ui-record-field-simple",7),as("fieldValueChange",function(a){return ot(i),gs(s.record.uniqueIdentifier,a)||(s.record.uniqueIdentifier=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt()(),Tt(2,"p")(3,"gn-ui-record-field-simple",8),as("fieldValueChange",function(a){return ot(i),gs(s.record.title,a)||(s.record.title=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt()(),Tt(4,"p")(5,"gn-ui-record-field-simple",9),as("fieldValueChange",function(a){return ot(i),gs(s.record.abstract,a)||(s.record.abstract=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt()(),Tt(6,"p")(7,"gn-ui-record-field-simple",10),Gt("fieldValueChange",function(a){return ot(i),at(s.switchToRecordKind(a))}),zt()(),Tt(8,"p")(9,"gn-ui-record-field-group",11),vi(10,Lae,3,1,"gn-ui-button",12)(11,Rae,5,6,"ng-container",13),zt()(),Tt(12,"p")(13,"gn-ui-record-field-array",14),as("fieldValueChange",function(a){return ot(i),gs(s.record.contacts,a)||(s.record.contacts=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt()(),Tt(14,"p")(15,"gn-ui-record-field-array",15),as("fieldValueChange",function(a){return ot(i),gs(s.record.contactsForResource,a)||(s.record.contactsForResource=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt()(),vi(16,Bae,7,7,"ng-template",null,0,Pc),Tt(18,"p",16)(19,"gn-ui-record-field-simple",17),as("fieldValueChange",function(a){return ot(i),gs(s.record.recordCreated,a)||(s.record.recordCreated=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt(),Tt(20,"gn-ui-record-field-simple",18),as("fieldValueChange",function(a){return ot(i),gs(s.record.recordUpdated,a)||(s.record.recordUpdated=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt(),Tt(21,"gn-ui-record-field-simple",19),as("fieldValueChange",function(a){return ot(i),gs(s.record.recordPublished,a)||(s.record.recordPublished=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt()(),Tt(22,"p",16)(23,"gn-ui-record-field-simple",20),as("fieldValueChange",function(a){return ot(i),gs(s.record.resourceCreated,a)||(s.record.resourceCreated=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt(),Tt(24,"gn-ui-record-field-simple",21),as("fieldValueChange",function(a){return ot(i),gs(s.record.resourceUpdated,a)||(s.record.resourceUpdated=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt(),Tt(25,"gn-ui-record-field-simple",22),as("fieldValueChange",function(a){return ot(i),gs(s.record.resourcePublished,a)||(s.record.resourcePublished=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt()(),Tt(26,"p")(27,"gn-ui-record-field-array",23),as("fieldValueChange",function(a){return ot(i),gs(s.record.topics,a)||(s.record.topics=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),vi(28,Nae,1,1,"ng-template",null,1,Pc),zt()(),Tt(30,"p")(31,"gn-ui-record-field-array",24),as("fieldValueChange",function(a){return ot(i),gs(s.record.keywords,a)||(s.record.keywords=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt()(),vi(32,Fae,4,8,"ng-template",null,2,Pc)(34,Pae,3,6,"ng-template",null,3,Pc)(36,kae,3,4,"ng-template",null,4,Pc),Tt(38,"p")(39,"gn-ui-record-field-array",25),as("fieldValueChange",function(a){return ot(i),gs(s.record.licenses,a)||(s.record.licenses=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt()(),Tt(40,"p")(41,"gn-ui-record-field-array",26),as("fieldValueChange",function(a){return ot(i),gs(s.record.legalConstraints,a)||(s.record.legalConstraints=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt()(),Tt(42,"p")(43,"gn-ui-record-field-array",27),as("fieldValueChange",function(a){return ot(i),gs(s.record.securityConstraints,a)||(s.record.securityConstraints=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt()(),Tt(44,"p")(45,"gn-ui-record-field-array",28),as("fieldValueChange",function(a){return ot(i),gs(s.record.otherConstraints,a)||(s.record.otherConstraints=a),at(a)}),Gt("confirm",function(){return ot(i),at(s.emitChangedRecord())}),zt()(),vi(46,Yae,13,10,"div",13)(47,ele,7,4,"div",13)}if(2&r){const i=Nc(17),o=Nc(29),a=Nc(33),l=Nc(37);Ot(),os("fieldValue",s.record.uniqueIdentifier),Ot(2),os("fieldValue",s.record.title),Ot(2),os("fieldValue",s.record.abstract),It("type","rich"),Ot(2),It("options",Do(46,_ae))("fieldValue",s.record.kind),Ot(3),It("ngIf",!s.record.ownerOrganization),Ot(),It("ngIf",s.record.ownerOrganization),Ot(2),os("fieldValue",s.record.contacts),It("itemTemplate",i)("defaultItem",Qg(48,ZR,Do(47,WR))),Ot(2),os("fieldValue",s.record.contactsForResource),It("itemTemplate",i)("defaultItem",Qg(51,ZR,Do(50,WR))),Ot(4),os("fieldValue",s.record.recordCreated),It("type","date"),Ot(),os("fieldValue",s.record.recordUpdated),It("type","date"),Ot(),os("fieldValue",s.record.recordPublished),It("type","date"),Ot(2),os("fieldValue",s.record.resourceCreated),It("type","date"),Ot(),os("fieldValue",s.record.resourceUpdated),It("type","date"),Ot(),os("fieldValue",s.record.resourcePublished),It("type","date"),Ot(2),os("fieldValue",s.record.topics),It("itemTemplate",o)("defaultItem","change me!"),Ot(4),os("fieldValue",s.record.keywords),It("itemTemplate",a)("defaultItem",Do(53,Mae)),Ot(8),os("fieldValue",s.record.licenses),It("itemTemplate",l)("defaultItem",Do(54,y3)),Ot(2),os("fieldValue",s.record.legalConstraints),It("itemTemplate",l)("defaultItem",Do(55,y3)),Ot(2),os("fieldValue",s.record.securityConstraints),It("itemTemplate",l)("defaultItem",Do(56,y3)),Ot(2),os("fieldValue",s.record.otherConstraints),It("itemTemplate",l)("defaultItem",Do(57,y3)),Ot(),It("ngIf",s.isDatasetRecord),Ot(),It("ngIf",s.isServiceRecord)}},dependencies:[b0,s3,qoe,H7,yae,Sae],styles:["[_nghost-%COMP%]{font-size:14px}"]})}}return t})();const nle=["codeBlock"];let rle=(()=>{class t{set recordXml(e){const s=window.hljs.highlight(e,{language:"xml"}).value;this.codeBlockEl.nativeElement.innerHTML=s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ho({type:t,selectors:[["gn-ui-record-output-xml"]],viewQuery:function(r,s){if(1&r&&c0(nle,5),2&r){let i;u0(i=h0())&&(s.codeBlockEl=i.first)}},inputs:{recordXml:"recordXml"},decls:2,vars:0,consts:[["codeBlock",""],[1,"text-[14px]","hljs","overflow-auto","min-h-[80vh]","whitespace-pre-wrap"]],template:function(r,s){1&r&&Wh(0,"pre",1,0)}})}}return t})();const sle=["status"],ile=["output"],ole=["form"],ale=t=>({"font-bold":t});function lle(t,n){1&t&&(Tt(0,"span"),vo(1,"(native)"),zt())}function cle(t,n){if(1&t){const e=wr();Tt(0,"label",15)(1,"input",16),Gt("change",function(s){return ot(e),at(At().onFormatChange(s.target.value))}),zt(),vo(2),vi(3,lle,2,0,"span",17),zt()}if(2&t){const e=n.$implicit,r=At();It("ngClass",Qg(5,ale,e.key===r.originalFormat)),Ot(),It("checked",e.key===r.currentFormat)("value",e.key),Ot(),Fc(" ",e.key," "),Ot(),It("ngIf",e.key===r.originalFormat)}}let ule=(()=>{class t{constructor(){this.formats=P5}get originalFormat(){const e=this.statusComponent?.currentConverter;return eE(e)}onRecordChange(e){this.statusComponent.recordNative=e}onRecordOutputReceived(e){this.outputComponent.recordXml=e,this.currentFormat=this.originalFormat}onRecordNativeReceived(e){this.formComponent.record=e}onFileSelect(e){const r=e.target.files;if(0===r.length)return void console.warn("no file selected");const s=r[0],i=new FileReader;this.statusComponent.startReadingFile(),i.readAsText(s,"UTF-8"),i.onload=o=>{const a=o.target.result;this.statusComponent.referenceMetadata=a,this.statusComponent.currentMetadata=a},i.onerror=()=>this.statusComponent.errorReadingFile()}onFileUrlInput(e){!e||!e.startsWith("http://")&&!e.startsWith("https://")||(this.statusComponent.startLoadingFile(),fetch(e).then(r=>r.text()).then(r=>{this.statusComponent.referenceMetadata=r,this.statusComponent.currentMetadata=r}).catch(r=>this.statusComponent.errorLoadingFile(r.message)))}onFormatChange(e){this.statusComponent.changeFormat(e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ho({type:t,selectors:[["gn-ui-root"]],viewQuery:function(r,s){if(1&r&&(c0(sle,5),c0(ile,5),c0(ole,5)),2&r){let i;u0(i=h0())&&(s.statusComponent=i.first),u0(i=h0())&&(s.outputComponent=i.first),u0(i=h0())&&(s.formComponent=i.first)}},decls:18,vars:3,consts:[["status",""],["form",""],["output",""],[1,"grid","grid-cols-3","grid-rows-auto","auto-rows-min","h-full"],[1,"col-span-3","flex","flex-row","items-start"],[1,"text-[50px]","font-bold","font-title","my-6","mx-10"],[1,"whitespace-nowrap"],[1,"font-main","font-normal","text-gray-900","text-[16px]",3,"newMetadata","newRecordNative"],[1,"grow","shrink-0","p-3","min-w-[50%]"],["type","file","accept",".xml, .rdf, application/xml, application/rdf+xml, .jsonld, application/ld+json, application/json, .ttl, text/turtle, .n3, text/n3, .nt, application/n-triples","placeholder","Upload a record from your computer",1,"mb-3","border","border-gray-500","rounded-sm","w-full","bg-white","p-2",3,"change"],["type","text","placeholder","...or enter a URL pointing to a metadata record",1,"mb-3","border","border-gray-500","rounded-sm","w-full","bg-white","p-2",3,"change"],[1,"w-full"],["class","mr-4",3,"ngClass",4,"ngFor","ngForOf"],[1,"overflow-auto",3,"recordChanged"],[1,"col-span-2"],[1,"mr-4",3,"ngClass"],["type","radio","name","format",3,"change","checked","value"],[4,"ngIf"]],template:function(r,s){if(1&r){const i=wr();Tt(0,"div",3)(1,"header",4)(2,"div")(3,"h1",5)(4,"div",6),vo(5,"Simple metadata editor"),zt(),Tt(6,"gn-ui-status",7,0),Gt("newMetadata",function(a){return ot(i),at(s.onRecordOutputReceived(a))})("newRecordNative",function(a){return ot(i),at(s.onRecordNativeReceived(a))}),zt()()(),Tt(8,"div",8)(9,"input",9),Gt("change",function(a){return ot(i),at(s.onFileSelect(a))}),zt(),Tt(10,"input",10),Gt("change",function(a){return ot(i),at(s.onFileUrlInput(a.target.value))}),zt(),Tt(11,"div",11),vi(12,cle,4,7,"label",12),function l_(t,n){const e=or();let r;const s=t+Cn;e.firstCreatePass?(r=function WO(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[s]=r,r.onDestroy&&(e.destroyHooks??=[]).push(s,r.onDestroy)):r=e.data[s];const i=r.factory||(r.factory=kl(r.type)),a=Gi(jt);try{const l=hd(!1),c=i();return hd(l),function l6(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,dt(),s,c),c}finally{Gi(a)}}(13,"keyvalue"),zt()()(),Tt(14,"gn-ui-record-form",13,1),Gt("recordChanged",function(a){return ot(i),at(s.onRecordChange(a))}),zt(),Wh(16,"gn-ui-record-output-xml",14,2),zt()}2&r&&(Ot(12),It("ngForOf",c_(13,1,s.formats)))},dependencies:[BM,z4,b0,tle,rle,Vte,OM]})}}return t})(),dle=(()=>{class t{constructor(){Ere.applyCssVariables("#c82850","#001638","#212029","#fdfbff","'Rubik', sans-serif","'Readex Pro', sans-serif","https://fonts.googleapis.com/css2?family=Readex+Pro&family=Rubik&display=swap")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ba({type:t,bootstrap:[ule]})}static{this.\u0275inj=ua({providers:[Hte(),lae({size:"1.5em"})],imports:[mU,Goe,mae.withIcons({matDeleteForeverSharp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M6 21h12V7H6v14zm2.46-9.12l1.41-1.41L12 12.59l2.12-2.12l1.41 1.41L13.41 14l2.12 2.12l-1.41 1.41L12 15.41l-2.12 2.12l-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4h-3.5z"></path></svg>'})]})}}return t})();gU().bootstrapModule(dle).catch(t=>console.error(t))},6998:function(We,Ue,K){var Z,ce;void 0!==(ce="function"==typeof(Z=function(){"use strict";function Se(H,k,f,Me){this.message=H,this.expected=k,this.found=f,this.location=Me,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Se)}return function Ve(H,k){function f(){this.constructor=H}f.prototype=k.prototype,H.prototype=new f}(Se,Error),Se.buildMessage=function(H,k){var f={literal:function(ge){return'"'+he(ge.text)+'"'},class:function(ge){var X,oe="";for(X=0;X<ge.parts.length;X++)oe+=ge.parts[X]instanceof Array?be(ge.parts[X][0])+"-"+be(ge.parts[X][1]):be(ge.parts[X]);return"["+(ge.inverted?"^":"")+oe+"]"},any:function(ge){return"any character"},end:function(ge){return"end of input"},other:function(ge){return ge.description}};function Me(ge){return ge.charCodeAt(0).toString(16).toUpperCase()}function he(ge){return ge.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(oe){return"\\x0"+Me(oe)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(oe){return"\\x"+Me(oe)})}function be(ge){return ge.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(oe){return"\\x0"+Me(oe)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(oe){return"\\x"+Me(oe)})}function j(ge){return f[ge.type](ge)}return"Expected "+function W(ge){var X,D,oe=new Array(ge.length);for(X=0;X<ge.length;X++)oe[X]=j(ge[X]);if(oe.sort(),oe.length>0){for(X=1,D=1;X<oe.length;X++)oe[X-1]!==oe[X]&&(oe[D]=oe[X],D++);oe.length=D}switch(oe.length){case 1:return oe[0];case 2:return oe[0]+" or "+oe[1];default:return oe.slice(0,-1).join(", ")+", or "+oe[oe.length-1]}}(H)+" but "+function se(ge){return ge?'"'+he(ge)+'"':"end of input"}(k)+" found."},{SyntaxError:Se,parse:function ne(H,k){k=void 0!==k?k:{};var p1,f={},Me={turtleDoc:Kp},he=Kp,be=function(m){var _=Er.toJSON();return _["@graph"]=[],m.filter(T=>Array.isArray(T)).forEach(T=>{T.forEach(P=>{_["@graph"].push(P)})}),1===_["@graph"].length&&(Object.assign(_,_["@graph"][0]),delete _["@graph"]),_},j=".",W=Xn(".",!1),se=function(m){return m},ge="#",oe=Xn("#",!1),X=/^[^\n]/,D=kr(["\n"],!0,!1),ae="\n",ue=Xn("\n",!1),Le=function(m){return m.join("")},J="@prefix",$e=Xn("@prefix",!1),re=function(m,_){return Er.addPrefix(""===m?"0":m,_),{}},xe="@base",Be=Xn("@base",!1),Pe=function(m){return Er.addBase(m),{}},te=/^[Bb]/,ye=kr(["B","b"],!1,!1),Ct=/^[Aa]/,wt=kr(["A","a"],!1,!1),Pt=/^[Ss]/,xt=kr(["S","s"],!1,!1),L=/^[Ee]/,V=kr(["E","e"],!1,!1),$=/^[Pp]/,Ae=kr(["P","p"],!1,!1),Ne=/^[Rr]/,ht=kr(["R","r"],!1,!1),Ye=/^[Ff]/,mt=kr(["F","f"],!1,!1),Wt=/^[Ii]/,Ut=kr(["I","i"],!1,!1),_t=/^[Xx]/,rn=kr(["X","x"],!1,!1),sn=function(m,_){var T={};return"string"==typeof m&&"[]"!==m?T["@id"]=m:"object"==typeof m&&Object.assign(T,m),_&&Object.assign(T,_),[T]},Sn=function(m,_){var T={};return m&&Object.assign(T,m),_&&Object.assign(T,_),[T]},cn=";",Yt=Xn(";",!1),G=function(m,_,T,P){var q={};return q[T]=P,q},He=function(m,_,T){return T},Fe=function(m,_,T){var P={};return T.unshift(function ll(m,_){var T={};return T[m]=_,T}(m,_)),T.forEach(q=>{q&&Object.keys(q).forEach(me=>{q[me].forEach(Ce=>{"@type"===me&&void 0!==Ce["@id"]&&(Ce=Ce["@id"]),void 0===P[me]?P[me]=Ce:Array.isArray(P[me])?P[me].push(Ce):P[me]=[P[me],Ce]})})}),P},yt=",",qt=Xn(",",!1),Mn=function(m,_){return _},Rn=function(m,_){return _.unshift(m),_},an="a",un=Xn("a",!1),On=function(){return"@type"},Zn=function(m){return Cc(m,!0)},_r=function(m){return Cc(m,!1)},qr=function(m){return"[]"===m?{}:{"@id":m}},N=function(m){return{"@id":m}},A="[",S=Xn("[",!1),U="]",_e=Xn("]",!1),Je="(",lt=Xn("(",!1),ln=")",Te=Xn(")",!1),Re=function(m){return{"@list":m}},le=function(m,_){return{"@value":m,"@language":_}},ze="^^",ct=Xn("^^",!1),st=function(m,_){if("http://www.w3.org/2001/XMLSchema#boolean"===_&&"true"===m)return!0;if("http://www.w3.org/2001/XMLSchema#boolean"===_&&"false"===m)return!1;if("http://www.w3.org/2001/XMLSchema#integer"===_)return parseInt(m);if("http://www.w3.org/2001/XMLSchema#double"===_)return parseFloat(m);const T=Er.resolve(_,!0);if(T){const P=_.split(":")[0];if("http://www.w3.org/2001/XMLSchema#boolean"===T&&"true"===m)return Er.decrement(P),!0;if("http://www.w3.org/2001/XMLSchema#boolean"===T&&"false"===m)return Er.decrement(P),!1;if("http://www.w3.org/2001/XMLSchema#integer"===T)return Er.decrement(P),parseInt(m);if("http://www.w3.org/2001/XMLSchema#double"===T)return Er.decrement(P),parseFloat(m)}return{"@value":m,"@type":_}},Qt="true",Vn=Xn("true",!1),Dn=function(){return!0},_n="false",hr=Xn("false",!1),ar=function(){return!1},Mr=function(m){return m+":"},Ws="<",Qr=Xn("<",!1),Ei=/^[^\0- <>"{}|\^`\\]/,Qs=kr([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),ia=">",Zs=Xn(">",!1),R=function(m){const _=m.map(P=>65536<=P.codePointAt(0)&&P.codePointAt(0)<=983039?"a":1===P.length?P:6===P.length?String.fromCharCode("0x"+P.substring(2)):10===P.length?String.fromCodePoint("0x"+P.substring(2)):P).join("");if(_.match(/^[^\u0000-\u0020<>"{}|^`\\]*$/)){var T=m.join("");try{return Er.resolve(T)}catch{Zu("Invalid IRIREF "+T)}}else Zu("Invalid IRIREF "+m.join("")+" / "+_)},F=":",ie=Xn(":",!1),Qe=function(m){return!1===Er.hasPrefix(m=m||"0")&&Zu("undefined prefix "+m),m},Et=function(m){return m||""},Xe=function(m,_){return Er.increment(m),Er.resolve(m+":"+_)},tr="_:",Cs=Xn("_:",!1),vr=/^[0-9]/,dr=kr([["0","9"]],!1,!1),ei="@",xi=Xn("@",!1),_s=/^[a-zA-Z]/,js=kr([["a","z"],["A","Z"]],!1,!1),Ns="-",ti=Xn("-",!1),Mt=/^[a-zA-Z0-9]/,yr=kr([["a","z"],["A","Z"],["0","9"]],!1,!1),Fs=function(m,_){return"-"+_.join("")},us=function(m,_){return m.join("")+_.join("")},hn=/^[+\-]/,lo=kr(["+","-"],!1,!1),_3=function(m){return m.match(/^[0+][0-9]+$/)?{"@value":m,"@type":"http://www.w3.org/2001/XMLSchema#integer"}:parseInt(m)},Dr=function(m){return{"@value":m,"@type":"http://www.w3.org/2001/XMLSchema#decimal"}},Tp=function(m){return{"@value":m,"@type":"http://www.w3.org/2001/XMLSchema#double"}},Us=/^[eE]/,Mu=kr(["e","E"],!1,!1),Hu='"',l1=Xn('"',!1),Ur=/^[^"\\\n\r]/,En=kr(['"',"\\","\n","\r"],!0,!1),sl="'",Si=Xn("'",!1),Ep=/^[^'\\\n\r]/,V2=kr(["'","\\","\n","\r"],!0,!1),zu="'''",oa=Xn("'''",!1),aa=/^[^'\\]/,la=kr(["'","\\"],!0,!1),Vu="''",Lp=Xn("''",!1),T2=function(m,_){return"''"+_.join("")},Rp=function(m,_){return"'"+_.join("")},E2=function(m,_){return m.join("")+_.join("")},Tu='"""',Oi=Xn('"""',!1),gn=/^[^"\\]/,ca=kr(['"',"\\"],!0,!1),Eu='""',Dp=Xn('""',!1),Bp=function(m,_){return'""'+_.join("")},Np=function(m,_){return'"'+_.join("")},Zt="\\U",M3=Xn("\\U",!1),ua=function(m){return String.fromCodePoint(parseInt(m.join(""),16))},hc="\\u",H3=Xn("\\u",!1),L2=function(m){return String.fromCharCode(parseInt(m.join(""),16))},R2="\\t",c1=Xn("\\t",!1),u1=function(){return"\t"},h1="\\b",D2=Xn("\\b",!1),Fp=function(){return"\b"},kt="\\n",Lu=Xn("\\n",!1),Ru=function(){return"\n"},Du="\\r",Bu=Xn("\\r",!1),Pp=function(){return"\r"},d1="\\f",z3=Xn("\\f",!1),V3=function(){return"\f"},kp='\\"',T3=Xn('\\"',!1),Nu=function(){return'"'},Fl="\\'",Fu=Xn("\\'",!1),Pu=function(){return"'"},ku="\\\\",ha=Xn("\\\\",!1),dc=function(){return"\\"},B2=/^[ \t\r\n]/,jn=kr([" ","\t","\r","\n"],!1,!1),Hr=function(){return"[]"},E3=/^[\uD800-\uDBFF]/,Op=kr([["\ud800","\udbff"]],!1,!1),Gp=/^[\uDC00-\uDFFF]/,L3=kr([["\udc00","\udfff"]],!1,!1),Wp=function(m,_){return m+_},Ou=/^[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,lr=kr([["A","Z"],["a","z"],["\xc0","\xd6"],["\xd8","\xf6"],["\xf8","\u02ff"],["\u0370","\u037d"],["\u037f","\u1fff"],["\u200c","\u200d"],["\u2070","\u218f"],["\u2c00","\u2fef"],["\u3001","\ud7ff"],["\uf900","\ufdcf"],["\ufdf0","\ufffd"]],!1,!1),Gu="_",N2=Xn("_",!1),Gi="\xb7",F2=Xn("\xb7",!1),R3=/^[\u0300-\u036F]/,D3=kr([["\u0300","\u036f"]],!1,!1),pc=/^[\u203F-\u2040]/,Wu=kr([["\u203f","\u2040"]],!1,!1),fc=function(m,_,T,P){return T.join("")+P.join("")},Zp=function(m,_,T){return m+_.join("")+T.join("")},jp="%",Up=Xn("%",!1),P2=/^[0-9A-Fa-f]/,Pl=kr([["0","9"],["A","F"],["a","f"]],!1,!1),$p="\\",Ra=Xn("\\",!1),Xp=/^[_~.!$&'()*+,;=\/?#@%\-]/,Ke=kr(["_","~",".","!","$","&","'","(",")","*","+",",",";","=","/","?","#","@","%","-"],!1,!1),w=0,ke=0,il=[{line:1,column:1}],co=0,ol=[],Ze=0;if("startRule"in k){if(!(k.startRule in Me))throw new Error("Can't start parsing from rule \""+k.startRule+'".');he=Me[k.startRule]}function Zu(m,_){throw function f1(m,_){return new Se(m,null,null,_)}(m,_=void 0!==_?_:Ol(ke,w))}function Xn(m,_){return{type:"literal",text:m,ignoreCase:_}}function kr(m,_,T){return{type:"class",parts:m,inverted:_,ignoreCase:T}}function al(m){var T,_=il[m];if(_)return _;for(T=m-1;!il[T];)T--;for(_={line:(_=il[T]).line,column:_.column};T<m;)10===H.charCodeAt(T)?(_.line++,_.column=1):_.column++,T++;return il[m]=_,_}function Ol(m,_){var T=al(m),P=al(_);return{start:{offset:m,line:T.line,column:T.column},end:{offset:_,line:P.line,column:P.column}}}function Ge(m){w<co||(w>co&&(co=w,ol=[]),ol.push(m))}function Kp(){var m,_,T,P;for(m=w,_=[],T=ju();T!==f;)_.push(T),T=ju();if(_!==f){for(T=[],P=Nt();P!==f;)T.push(P),P=Nt();T!==f?(ke=m,m=_=be(_)):(w=m,m=f)}else w=m,m=f;return m}function ju(){var m,_,T,P;if((m=function Uu(){var m;return(m=function Gl(){var m,_,T,P,q,me,Ce,Q,Kt;for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();if(_!==f)if(H.substr(w,7)===J?(T=J,w+=7):(T=f,0===Ze&&Ge($e)),T!==f){for(P=[],q=Nt();q!==f;)P.push(q),q=Nt();if(P!==f)if((q=uo())!==f){for(me=[],Ce=Nt();Ce!==f;)me.push(Ce),Ce=Nt();if(me!==f)if((Ce=wc())!==f){for(Q=[],Kt=Nt();Kt!==f;)Q.push(Kt),Kt=Nt();Q!==f?(46===H.charCodeAt(w)?(Kt=j,w++):(Kt=f,0===Ze&&Ge(W)),Kt!==f?(ke=m,m=_=re(q,Ce)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;else w=m,m=f}else w=m,m=f;else w=m,m=f}else w=m,m=f;else w=m,m=f;return m}())===f&&(m=function P3(){var m,_,T,P,q,me,Ce;for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();if(_!==f)if(H.substr(w,5)===xe?(T=xe,w+=5):(T=f,0===Ze&&Ge(Be)),T!==f){for(P=[],q=Nt();q!==f;)P.push(q),q=Nt();if(P!==f)if((q=wc())!==f){for(me=[],Ce=Nt();Ce!==f;)me.push(Ce),Ce=Nt();me!==f?(46===H.charCodeAt(w)?(Ce=j,w++):(Ce=f,0===Ze&&Ge(W)),Ce!==f?(ke=m,m=_=Pe(q)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;else w=m,m=f}else w=m,m=f;else w=m,m=f;return m}())===f&&(m=function Oo(){var m,_,T,P,q,me,Ce,Q,Kt,Br,da,Go;for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();if(_!==f)if($.test(H.charAt(w))?(T=H.charAt(w),w++):(T=f,0===Ze&&Ge(Ae)),T!==f)if(Ne.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(ht)),P!==f)if(L.test(H.charAt(w))?(q=H.charAt(w),w++):(q=f,0===Ze&&Ge(V)),q!==f)if(Ye.test(H.charAt(w))?(me=H.charAt(w),w++):(me=f,0===Ze&&Ge(mt)),me!==f)if(Wt.test(H.charAt(w))?(Ce=H.charAt(w),w++):(Ce=f,0===Ze&&Ge(Ut)),Ce!==f)if(_t.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(rn)),Q!==f){for(Kt=[],Br=Nt();Br!==f;)Kt.push(Br),Br=Nt();if(Kt!==f)if((Br=uo())!==f){for(da=[],Go=Nt();Go!==f;)da.push(Go),Go=Nt();da!==f&&(Go=wc())!==f?(ke=m,m=_=re(Br,Go)):(w=m,m=f)}else w=m,m=f;else w=m,m=f}else w=m,m=f;else w=m,m=f;else w=m,m=f;else w=m,m=f;else w=m,m=f;else w=m,m=f;else w=m,m=f;return m}())===f&&(m=function O2(){var m,_,T,P,q,me,Ce,Q;for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();if(_!==f)if(te.test(H.charAt(w))?(T=H.charAt(w),w++):(T=f,0===Ze&&Ge(ye)),T!==f)if(Ct.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(wt)),P!==f)if(Pt.test(H.charAt(w))?(q=H.charAt(w),w++):(q=f,0===Ze&&Ge(xt)),q!==f)if(L.test(H.charAt(w))?(me=H.charAt(w),w++):(me=f,0===Ze&&Ge(V)),me!==f){for(Ce=[],Q=Nt();Q!==f;)Ce.push(Q),Q=Nt();Ce!==f&&(Q=wc())!==f?(ke=m,m=_=Pe(Q)):(w=m,m=f)}else w=m,m=f;else w=m,m=f;else w=m,m=f;else w=m,m=f;else w=m,m=f;return m}()),m}())===f)if(m=w,(_=function mr(){var m,_,T;return m=w,(_=function m1(){var m,_;return m=w,(_=C1())!==f&&(ke=m,_=Zn(_)),(m=_)===f&&(m=I1())===f&&(m=mc()),m}())!==f&&(T=Mo())!==f?(ke=m,m=_=sn(_,T)):(w=m,m=f),m===f&&(m=w,(_=G2())!==f?((T=Mo())===f&&(T=null),T!==f?(ke=m,m=_=Sn(_,T)):(w=m,m=f)):(w=m,m=f)),m}())!==f){for(T=[],P=Nt();P!==f;)T.push(P),P=Nt();T!==f?(46===H.charCodeAt(w)?(P=j,w++):(P=f,0===Ze&&Ge(W)),P!==f?(ke=m,m=_=se(_)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;return m}function Nt(){var m;return(m=function Ba(){var m;return B2.test(H.charAt(w))?(m=H.charAt(w),w++):(m=f,0===Ze&&Ge(jn)),m}())===f&&(m=function F3(){var m,_,T,P;if(m=w,35===H.charCodeAt(w)?(_=ge,w++):(_=f,0===Ze&&Ge(oe)),_!==f){for(T=[],X.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(D));P!==f;)T.push(P),X.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(D));T!==f?(10===H.charCodeAt(w)?(P=ae,w++):(P=f,0===Ze&&Ge(ue)),P!==f?(ke=m,m=_=Le(T)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;return m}()),m}function Mo(){var m,_,T,P,q,me,Ce,Q,Kt,Br;if(m=w,(_=gc())!==f)if((T=v1())!==f){for(P=[],q=w,me=[],Ce=Nt();Ce!==f;)me.push(Ce),Ce=Nt();for(me!==f?(59===H.charCodeAt(w)?(Ce=cn,w++):(Ce=f,0===Ze&&Ge(Yt)),Ce!==f?(Q=w,(Kt=gc())!==f&&(Br=v1())!==f?(ke=Q,Q=Kt=G(_,T,Kt,Br)):(w=Q,Q=f),Q===f&&(Q=null),Q!==f?(ke=q,q=me=He(_,T,Q)):(w=q,q=f)):(w=q,q=f)):(w=q,q=f);q!==f;){for(P.push(q),q=w,me=[],Ce=Nt();Ce!==f;)me.push(Ce),Ce=Nt();me!==f?(59===H.charCodeAt(w)?(Ce=cn,w++):(Ce=f,0===Ze&&Ge(Yt)),Ce!==f?(Q=w,(Kt=gc())!==f&&(Br=v1())!==f?(ke=Q,Q=Kt=G(_,T,Kt,Br)):(w=Q,Q=f),Q===f&&(Q=null),Q!==f?(ke=q,q=me=He(_,T,Q)):(w=q,q=f)):(w=q,q=f)):(w=q,q=f)}P!==f?(ke=m,m=_=Fe(_,T,P)):(w=m,m=f)}else w=m,m=f;else w=m,m=f;return m}function v1(){var m,_,T,P,q,me,Ce;if(m=w,(_=Li())!==f){for(T=[],P=w,q=[],me=Nt();me!==f;)q.push(me),me=Nt();for(q!==f?(44===H.charCodeAt(w)?(me=yt,w++):(me=f,0===Ze&&Ge(qt)),me!==f&&(Ce=Li())!==f?(ke=P,P=q=Mn(_,Ce)):(w=P,P=f)):(w=P,P=f);P!==f;){for(T.push(P),P=w,q=[],me=Nt();me!==f;)q.push(me),me=Nt();q!==f?(44===H.charCodeAt(w)?(me=yt,w++):(me=f,0===Ze&&Ge(qt)),me!==f&&(Ce=Li())!==f?(ke=P,P=q=Mn(_,Ce)):(w=P,P=f)):(w=P,P=f)}T!==f?(ke=m,m=_=Rn(_,T)):(w=m,m=f)}else w=m,m=f;return m}function gc(){var m,_,T;if(m=w,(_=function w1(){var m,_,T;for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();return _!==f&&(T=mc())!==f?(ke=m,m=_=se(T)):(w=m,m=f),m}())!==f&&(ke=m,_=se(_)),(m=_)===f){for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();_!==f?(97===H.charCodeAt(w)?(T=an,w++):(T=f,0===Ze&&Ge(un)),T!==f?(ke=m,m=_=On()):(w=m,m=f)):(w=m,m=f)}return m}function Li(){var m,_;return(m=function Da(){var m;return(m=function Z2(){var m,_,T,P,q,me,Ce;for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();if(_!==f)if((T=y1())!==f){for(P=[],q=Nt();q!==f;)P.push(q),q=Nt();P!==f&&(q=function Qp(){var m,_,T,P,q,me,Ce,Q;if(m=w,64===H.charCodeAt(w)?(_=ei,w++):(_=f,0===Ze&&Ge(xi)),_!==f){if(T=[],_s.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(js)),P!==f)for(;P!==f;)T.push(P),_s.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(js));else T=f;if(T!==f){if(P=[],q=w,45===H.charCodeAt(w)?(me=Ns,w++):(me=f,0===Ze&&Ge(ti)),me!==f){if(Ce=[],Mt.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(yr)),Q!==f)for(;Q!==f;)Ce.push(Q),Mt.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(yr));else Ce=f;Ce!==f?(ke=q,q=me=Fs(T,Ce)):(w=q,q=f)}else w=q,q=f;for(;q!==f;)if(P.push(q),q=w,45===H.charCodeAt(w)?(me=Ns,w++):(me=f,0===Ze&&Ge(ti)),me!==f){if(Ce=[],Mt.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(yr)),Q!==f)for(;Q!==f;)Ce.push(Q),Mt.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(yr));else Ce=f;Ce!==f?(ke=q,q=me=Fs(T,Ce)):(w=q,q=f)}else w=q,q=f;P!==f?(ke=m,m=_=us(T,P)):(w=m,m=f)}else w=m,m=f}else w=m,m=f;return m}())!==f?(ke=m,m=_=le(T,q)):(w=m,m=f)}else w=m,m=f;else w=m,m=f;if(m===f){for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();if(_!==f)if((T=y1())!==f){for(P=[],q=Nt();q!==f;)P.push(q),q=Nt();if(P!==f)if(H.substr(w,2)===ze?(q=ze,w+=2):(q=f,0===Ze&&Ge(ct)),q!==f){for(me=[],Ce=Nt();Ce!==f;)me.push(Ce),Ce=Nt();me!==f&&(Ce=mc())!==f?(ke=m,m=_=st(T,Ce)):(w=m,m=f)}else w=m,m=f;else w=m,m=f}else w=m,m=f;else w=m,m=f;if(m===f){for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();_!==f&&(T=y1())!==f?(ke=m,m=_=se(T)):(w=m,m=f)}}return m}())===f&&(m=function W2(){var m,_,T;for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();return _!==f?((T=function nf(){var m,_,T,P,q,me,Ce,Q,Kt;if(m=w,_=w,T=w,hn.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(lo)),P===f&&(P=null),P!==f){if(q=w,me=[],vr.test(H.charAt(w))?(Ce=H.charAt(w),w++):(Ce=f,0===Ze&&Ge(dr)),Ce!==f)for(;Ce!==f;)me.push(Ce),vr.test(H.charAt(w))?(Ce=H.charAt(w),w++):(Ce=f,0===Ze&&Ge(dr));else me=f;if(me!==f)if(46===H.charCodeAt(w)?(Ce=j,w++):(Ce=f,0===Ze&&Ge(W)),Ce!==f){for(Q=[],vr.test(H.charAt(w))?(Kt=H.charAt(w),w++):(Kt=f,0===Ze&&Ge(dr));Kt!==f;)Q.push(Kt),vr.test(H.charAt(w))?(Kt=H.charAt(w),w++):(Kt=f,0===Ze&&Ge(dr));Q!==f&&(Kt=A1())!==f?q=me=[me,Ce,Q,Kt]:(w=q,q=f)}else w=q,q=f;else w=q,q=f;if(q===f){if(q=w,46===H.charCodeAt(w)?(me=j,w++):(me=f,0===Ze&&Ge(W)),me!==f){if(Ce=[],vr.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(dr)),Q!==f)for(;Q!==f;)Ce.push(Q),vr.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(dr));else Ce=f;Ce!==f&&(Q=A1())!==f?q=me=[me,Ce,Q]:(w=q,q=f)}else w=q,q=f;if(q===f){if(q=w,me=[],vr.test(H.charAt(w))?(Ce=H.charAt(w),w++):(Ce=f,0===Ze&&Ge(dr)),Ce!==f)for(;Ce!==f;)me.push(Ce),vr.test(H.charAt(w))?(Ce=H.charAt(w),w++):(Ce=f,0===Ze&&Ge(dr));else me=f;me!==f&&(Ce=A1())!==f?q=me=[me,Ce]:(w=q,q=f)}}q!==f?T=P=[P,q]:(w=T,T=f)}else w=T,T=f;return(_=T!==f?H.substring(_,w):T)!==f&&(ke=m,_=Tp(_)),_}())===f&&(T=function tf(){var m,_,T,P,q,me,Ce,Q;if(m=w,_=w,T=w,hn.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(lo)),P===f&&(P=null),P!==f){for(q=[],vr.test(H.charAt(w))?(me=H.charAt(w),w++):(me=f,0===Ze&&Ge(dr));me!==f;)q.push(me),vr.test(H.charAt(w))?(me=H.charAt(w),w++):(me=f,0===Ze&&Ge(dr));if(q!==f)if(46===H.charCodeAt(w)?(me=j,w++):(me=f,0===Ze&&Ge(W)),me!==f){if(Ce=[],vr.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(dr)),Q!==f)for(;Q!==f;)Ce.push(Q),vr.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(dr));else Ce=f;Ce!==f?T=P=[P,q,me,Ce]:(w=T,T=f)}else w=T,T=f;else w=T,T=f}else w=T,T=f;return(_=T!==f?H.substring(_,w):T)!==f&&(ke=m,_=Dr(_)),_}())===f&&(T=function ef(){var m,_,T,P,q,me;if(m=w,_=w,T=w,hn.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(lo)),P===f&&(P=null),P!==f){if(q=[],vr.test(H.charAt(w))?(me=H.charAt(w),w++):(me=f,0===Ze&&Ge(dr)),me!==f)for(;me!==f;)q.push(me),vr.test(H.charAt(w))?(me=H.charAt(w),w++):(me=f,0===Ze&&Ge(dr));else q=f;q!==f?T=P=[P,q]:(w=T,T=f)}else w=T,T=f;return(_=T!==f?H.substring(_,w):T)!==f&&(ke=m,_=_3(_)),_}()),T!==f?(ke=m,m=_=se(T)):(w=m,m=f)):(w=m,m=f),m}())===f&&(m=function vc(){var m,_,T;for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();if(_!==f?(H.substr(w,4)===Qt?(T=Qt,w+=4):(T=f,0===Ze&&Ge(Vn)),T!==f?(ke=m,m=_=Dn()):(w=m,m=f)):(w=m,m=f),m===f){for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();_!==f?(H.substr(w,5)===_n?(T=_n,w+=5):(T=f,0===Ze&&Ge(hr)),T!==f?(ke=m,m=_=ar()):(w=m,m=f)):(w=m,m=f)}return m}()),m}())===f&&(m=w,(_=C1())!==f&&(ke=m,_=_r(_)),(m=_)===f&&(m=w,(_=I1())!==f&&(ke=m,_=qr(_)),(m=_)===f&&(m=w,(_=G2())!==f&&(ke=m,_=se(_)),(m=_)===f&&(m=w,(_=mc())!==f&&(ke=m,_=N(_)),m=_)))),m}function G2(){var m,_,T,P,q,me;for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();if(_!==f)if(91===H.charCodeAt(w)?(T=A,w++):(T=f,0===Ze&&Ge(S)),T!==f)if((P=Mo())!==f){for(q=[],me=Nt();me!==f;)q.push(me),me=Nt();q!==f?(93===H.charCodeAt(w)?(me=U,w++):(me=f,0===Ze&&Ge(_e)),me!==f?(ke=m,m=_=se(P)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;else w=m,m=f;else w=m,m=f;return m}function C1(){var m,_,T,P,q,me;for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();if(_!==f)if(40===H.charCodeAt(w)?(T=Je,w++):(T=f,0===Ze&&Ge(lt)),T!==f){for(P=[],q=Li();q!==f;)P.push(q),q=Li();if(P!==f){for(q=[],me=Nt();me!==f;)q.push(me),me=Nt();q!==f?(41===H.charCodeAt(w)?(me=ln,w++):(me=f,0===Ze&&Ge(Te)),me!==f?(ke=m,m=_=Re(P)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f}else w=m,m=f;else w=m,m=f;return m}function y1(){var m,_,T;for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();return _!==f?((T=function af(){var m,_,T,P,q,me,Ce,Q;if(m=w,H.substr(w,3)===zu?(_=zu,w+=3):(_=f,0===Ze&&Ge(oa)),_!==f){for(T=[],aa.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(la)),P===f&&(P=hs())===f&&(P=ts());P!==f;)T.push(P),aa.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(la)),P===f&&(P=hs())===f&&(P=ts());if(T!==f){if(P=[],q=w,H.substr(w,2)===Vu?(me=Vu,w+=2):(me=f,0===Ze&&Ge(Lp)),me!==f){if(Ce=[],aa.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(la)),Q===f&&(Q=hs())===f&&(Q=ts()),Q!==f)for(;Q!==f;)Ce.push(Q),aa.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(la)),Q===f&&(Q=hs())===f&&(Q=ts());else Ce=f;Ce!==f?(ke=q,q=me=T2(T,Ce)):(w=q,q=f)}else w=q,q=f;if(q===f)if(q=w,39===H.charCodeAt(w)?(me=sl,w++):(me=f,0===Ze&&Ge(Si)),me!==f){if(Ce=[],aa.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(la)),Q===f&&(Q=hs())===f&&(Q=ts()),Q!==f)for(;Q!==f;)Ce.push(Q),aa.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(la)),Q===f&&(Q=hs())===f&&(Q=ts());else Ce=f;Ce!==f?(ke=q,q=me=Rp(T,Ce)):(w=q,q=f)}else w=q,q=f;for(;q!==f;){if(P.push(q),q=w,H.substr(w,2)===Vu?(me=Vu,w+=2):(me=f,0===Ze&&Ge(Lp)),me!==f){if(Ce=[],aa.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(la)),Q===f&&(Q=hs())===f&&(Q=ts()),Q!==f)for(;Q!==f;)Ce.push(Q),aa.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(la)),Q===f&&(Q=hs())===f&&(Q=ts());else Ce=f;Ce!==f?(ke=q,q=me=T2(T,Ce)):(w=q,q=f)}else w=q,q=f;if(q===f)if(q=w,39===H.charCodeAt(w)?(me=sl,w++):(me=f,0===Ze&&Ge(Si)),me!==f){if(Ce=[],aa.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(la)),Q===f&&(Q=hs())===f&&(Q=ts()),Q!==f)for(;Q!==f;)Ce.push(Q),aa.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(la)),Q===f&&(Q=hs())===f&&(Q=ts());else Ce=f;Ce!==f?(ke=q,q=me=Rp(T,Ce)):(w=q,q=f)}else w=q,q=f}P!==f?(H.substr(w,3)===zu?(q=zu,w+=3):(q=f,0===Ze&&Ge(oa)),q!==f?(ke=m,m=_=E2(T,P)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f}else w=m,m=f;return m}())===f&&(T=function Ho(){var m,_,T,P,q,me,Ce,Q;if(m=w,H.substr(w,3)===Tu?(_=Tu,w+=3):(_=f,0===Ze&&Ge(Oi)),_!==f){for(T=[],gn.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(ca)),P===f&&(P=hs())===f&&(P=ts());P!==f;)T.push(P),gn.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(ca)),P===f&&(P=hs())===f&&(P=ts());if(T!==f){if(P=[],q=w,H.substr(w,2)===Eu?(me=Eu,w+=2):(me=f,0===Ze&&Ge(Dp)),me!==f){if(Ce=[],gn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(ca)),Q===f&&(Q=hs())===f&&(Q=ts()),Q!==f)for(;Q!==f;)Ce.push(Q),gn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(ca)),Q===f&&(Q=hs())===f&&(Q=ts());else Ce=f;Ce!==f?(ke=q,q=me=Bp(T,Ce)):(w=q,q=f)}else w=q,q=f;if(q===f)if(q=w,34===H.charCodeAt(w)?(me=Hu,w++):(me=f,0===Ze&&Ge(l1)),me!==f){if(Ce=[],gn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(ca)),Q===f&&(Q=hs())===f&&(Q=ts()),Q!==f)for(;Q!==f;)Ce.push(Q),gn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(ca)),Q===f&&(Q=hs())===f&&(Q=ts());else Ce=f;Ce!==f?(ke=q,q=me=Np(T,Ce)):(w=q,q=f)}else w=q,q=f;for(;q!==f;){if(P.push(q),q=w,H.substr(w,2)===Eu?(me=Eu,w+=2):(me=f,0===Ze&&Ge(Dp)),me!==f){if(Ce=[],gn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(ca)),Q===f&&(Q=hs())===f&&(Q=ts()),Q!==f)for(;Q!==f;)Ce.push(Q),gn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(ca)),Q===f&&(Q=hs())===f&&(Q=ts());else Ce=f;Ce!==f?(ke=q,q=me=Bp(T,Ce)):(w=q,q=f)}else w=q,q=f;if(q===f)if(q=w,34===H.charCodeAt(w)?(me=Hu,w++):(me=f,0===Ze&&Ge(l1)),me!==f){if(Ce=[],gn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(ca)),Q===f&&(Q=hs())===f&&(Q=ts()),Q!==f)for(;Q!==f;)Ce.push(Q),gn.test(H.charAt(w))?(Q=H.charAt(w),w++):(Q=f,0===Ze&&Ge(ca)),Q===f&&(Q=hs())===f&&(Q=ts());else Ce=f;Ce!==f?(ke=q,q=me=Np(T,Ce)):(w=q,q=f)}else w=q,q=f}P!==f?(H.substr(w,3)===Tu?(q=Tu,w+=3):(q=f,0===Ze&&Ge(Oi)),q!==f?(ke=m,m=_=E2(T,P)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f}else w=m,m=f;return m}())===f&&(T=function sf(){var m,_,T,P;if(m=w,39===H.charCodeAt(w)?(_=sl,w++):(_=f,0===Ze&&Ge(Si)),_!==f){for(T=[],Ep.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(V2)),P===f&&(P=hs())===f&&(P=ts());P!==f;)T.push(P),Ep.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(V2)),P===f&&(P=hs())===f&&(P=ts());T!==f?(39===H.charCodeAt(w)?(P=sl,w++):(P=f,0===Ze&&Ge(Si)),P!==f?(ke=m,m=_=Le(T)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;return m}())===f&&(T=function rf(){var m,_,T,P;if(m=w,34===H.charCodeAt(w)?(_=Hu,w++):(_=f,0===Ze&&Ge(l1)),_!==f){for(T=[],Ur.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(En)),P===f&&(P=hs())===f&&(P=ts());P!==f;)T.push(P),Ur.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(En)),P===f&&(P=hs())===f&&(P=ts());T!==f?(34===H.charCodeAt(w)?(P=Hu,w++):(P=f,0===Ze&&Ge(l1)),P!==f?(ke=m,m=_=Le(T)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;return m}()),T!==f?(ke=m,m=_=se(T)):(w=m,m=f)):(w=m,m=f),m}function mc(){var m,_,T;for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();if(_!==f&&(T=wc())!==f?(ke=m,m=_=se(T)):(w=m,m=f),m===f){for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();_!==f&&(T=function Jp(){var m,_;return(m=function qp(){var m,_,T;return m=w,(_=j2())!==f&&(T=function hi(){var m,_,T,P,q,me,Ce,Q;if(m=w,(_=_i())===f&&(58===H.charCodeAt(w)?(_=F,w++):(_=f,0===Ze&&Ge(ie)),_===f&&(vr.test(H.charAt(w))?(_=H.charAt(w),w++):(_=f,0===Ze&&Ge(dr)),_===f&&(_=qi()))),_!==f){for(T=[],(P=xn())===f&&(58===H.charCodeAt(w)?(P=F,w++):(P=f,0===Ze&&Ge(ie)),P===f&&(P=qi()));P!==f;)T.push(P),(P=xn())===f&&(58===H.charCodeAt(w)?(P=F,w++):(P=f,0===Ze&&Ge(ie)),P===f&&(P=qi()));if(T!==f){if(P=[],q=w,me=[],46===H.charCodeAt(w)?(Ce=j,w++):(Ce=f,0===Ze&&Ge(W)),Ce!==f)for(;Ce!==f;)me.push(Ce),46===H.charCodeAt(w)?(Ce=j,w++):(Ce=f,0===Ze&&Ge(W));else me=f;if(me!==f){if(Ce=[],(Q=xn())===f&&(58===H.charCodeAt(w)?(Q=F,w++):(Q=f,0===Ze&&Ge(ie)),Q===f&&(Q=qi())),Q!==f)for(;Q!==f;)Ce.push(Q),(Q=xn())===f&&(58===H.charCodeAt(w)?(Q=F,w++):(Q=f,0===Ze&&Ge(ie)),Q===f&&(Q=qi()));else Ce=f;Ce!==f?(ke=q,q=me=fc(_,T,me,Ce)):(w=q,q=f)}else w=q,q=f;for(;q!==f;){if(P.push(q),q=w,me=[],46===H.charCodeAt(w)?(Ce=j,w++):(Ce=f,0===Ze&&Ge(W)),Ce!==f)for(;Ce!==f;)me.push(Ce),46===H.charCodeAt(w)?(Ce=j,w++):(Ce=f,0===Ze&&Ge(W));else me=f;if(me!==f){if(Ce=[],(Q=xn())===f&&(58===H.charCodeAt(w)?(Q=F,w++):(Q=f,0===Ze&&Ge(ie)),Q===f&&(Q=qi())),Q!==f)for(;Q!==f;)Ce.push(Q),(Q=xn())===f&&(58===H.charCodeAt(w)?(Q=F,w++):(Q=f,0===Ze&&Ge(ie)),Q===f&&(Q=qi()));else Ce=f;Ce!==f?(ke=q,q=me=fc(_,T,me,Ce)):(w=q,q=f)}else w=q,q=f}P!==f?(ke=m,m=_=Zp(_,T,P)):(w=m,m=f)}else w=m,m=f}else w=m,m=f;return m}())!==f?(ke=m,m=_=Xe(_,T)):(w=m,m=f),m}())===f&&(m=w,(_=j2())!==f&&(ke=m,_=Mr(_)),m=_),m}())!==f?(ke=m,m=_=se(T)):(w=m,m=f)}return m}function I1(){var m,_,T;for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();if(_!==f&&(T=function U2(){var m,_,T,P,q,me,Ce,Q,Kt,Br;if(m=w,_=w,H.substr(w,2)===tr?(T=tr,w+=2):(T=f,0===Ze&&Ge(Cs)),T!==f)if((P=_i())===f&&(vr.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(dr))),P!==f){for(q=[],me=xn();me!==f;)q.push(me),me=xn();if(q!==f){if(me=[],Ce=w,Q=[],46===H.charCodeAt(w)?(Kt=j,w++):(Kt=f,0===Ze&&Ge(W)),Kt!==f)for(;Kt!==f;)Q.push(Kt),46===H.charCodeAt(w)?(Kt=j,w++):(Kt=f,0===Ze&&Ge(W));else Q=f;if(Q!==f){if(Kt=[],(Br=xn())!==f)for(;Br!==f;)Kt.push(Br),Br=xn();else Kt=f;Kt!==f?Ce=Q=[Q,Kt]:(w=Ce,Ce=f)}else w=Ce,Ce=f;for(;Ce!==f;){if(me.push(Ce),Ce=w,Q=[],46===H.charCodeAt(w)?(Kt=j,w++):(Kt=f,0===Ze&&Ge(W)),Kt!==f)for(;Kt!==f;)Q.push(Kt),46===H.charCodeAt(w)?(Kt=j,w++):(Kt=f,0===Ze&&Ge(W));else Q=f;if(Q!==f){if(Kt=[],(Br=xn())!==f)for(;Br!==f;)Kt.push(Br),Br=xn();else Kt=f;Kt!==f?Ce=Q=[Q,Kt]:(w=Ce,Ce=f)}else w=Ce,Ce=f}me!==f?_=T=[T,P,q,me]:(w=_,_=f)}else w=_,_=f}else w=_,_=f;else w=_,_=f;return _!==f?H.substring(m,w):_}())!==f?(ke=m,m=_=se(T)):(w=m,m=f),m===f){for(m=w,_=[],T=Nt();T!==f;)_.push(T),T=Nt();_!==f&&(T=function $2(){var m,_,T,P;if(m=w,91===H.charCodeAt(w)?(_=A,w++):(_=f,0===Ze&&Ge(S)),_!==f){for(T=[],P=Nt();P!==f;)T.push(P),P=Nt();T!==f?(93===H.charCodeAt(w)?(P=U,w++):(P=f,0===Ze&&Ge(_e)),P!==f?(ke=m,m=_=Hr()):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;return m}())!==f?(ke=m,m=_=se(T)):(w=m,m=f)}return m}function wc(){var m,_,T,P;if(m=w,60===H.charCodeAt(w)?(_=Ws,w++):(_=f,0===Ze&&Ge(Qr)),_!==f){for(T=[],Ei.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(Qs)),P===f&&(P=ts());P!==f;)T.push(P),Ei.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(Qs)),P===f&&(P=ts());T!==f?(62===H.charCodeAt(w)?(P=ia,w++):(P=f,0===Ze&&Ge(Zs)),P!==f?(ke=m,m=_=R(T)):(w=m,m=f)):(w=m,m=f)}else w=m,m=f;return m}function j2(){var m,_,T;return m=w,(_=Ps())===f&&(_=null),_!==f?(58===H.charCodeAt(w)?(T=F,w++):(T=f,0===Ze&&Ge(ie)),T!==f?(ke=m,m=_=Qe(_)):(w=m,m=f)):(w=m,m=f),m}function uo(){var m,_,T;return m=w,(_=Ps())===f&&(_=null),_!==f?(58===H.charCodeAt(w)?(T=F,w++):(T=f,0===Ze&&Ge(ie)),T!==f?(ke=m,m=_=Et(_)):(w=m,m=f)):(w=m,m=f),m}function A1(){var m,_,T,P,q,me;if(m=w,_=w,Us.test(H.charAt(w))?(T=H.charAt(w),w++):(T=f,0===Ze&&Ge(Mu)),T!==f)if(hn.test(H.charAt(w))?(P=H.charAt(w),w++):(P=f,0===Ze&&Ge(lo)),P===f&&(P=null),P!==f){if(q=[],vr.test(H.charAt(w))?(me=H.charAt(w),w++):(me=f,0===Ze&&Ge(dr)),me!==f)for(;me!==f;)q.push(me),vr.test(H.charAt(w))?(me=H.charAt(w),w++):(me=f,0===Ze&&Ge(dr));else q=f;q!==f?_=T=[T,P,q]:(w=_,_=f)}else w=_,_=f;else w=_,_=f;return _!==f?H.substring(m,w):_}function ts(){var m,_,T,P,q,me,Ce,Q,Kt,Br,da;return m=w,H.substr(w,2)===Zt?(_=Zt,w+=2):(_=f,0===Ze&&Ge(M3)),_!==f?(T=w,(P=Ri())!==f&&(q=Ri())!==f&&(me=Ri())!==f&&(Ce=Ri())!==f&&(Q=Ri())!==f&&(Kt=Ri())!==f&&(Br=Ri())!==f&&(da=Ri())!==f?T=P=[P,q,me,Ce,Q,Kt,Br,da]:(w=T,T=f),T!==f?(ke=m,m=_=ua(T)):(w=m,m=f)):(w=m,m=f),m===f&&(m=w,H.substr(w,2)===hc?(_=hc,w+=2):(_=f,0===Ze&&Ge(H3)),_!==f?(T=w,(P=Ri())!==f&&(q=Ri())!==f&&(me=Ri())!==f&&(Ce=Ri())!==f?T=P=[P,q,me,Ce]:(w=T,T=f),T!==f?(ke=m,m=_=L2(T)):(w=m,m=f)):(w=m,m=f)),m}function hs(){var m,_;return m=w,H.substr(w,2)===R2?(_=R2,w+=2):(_=f,0===Ze&&Ge(c1)),_!==f&&(ke=m,_=u1()),(m=_)===f&&(m=w,H.substr(w,2)===h1?(_=h1,w+=2):(_=f,0===Ze&&Ge(D2)),_!==f&&(ke=m,_=Fp()),(m=_)===f&&(m=w,H.substr(w,2)===kt?(_=kt,w+=2):(_=f,0===Ze&&Ge(Lu)),_!==f&&(ke=m,_=Ru()),(m=_)===f&&(m=w,H.substr(w,2)===Du?(_=Du,w+=2):(_=f,0===Ze&&Ge(Bu)),_!==f&&(ke=m,_=Pp()),(m=_)===f&&(m=w,H.substr(w,2)===d1?(_=d1,w+=2):(_=f,0===Ze&&Ge(z3)),_!==f&&(ke=m,_=V3()),(m=_)===f&&(m=w,H.substr(w,2)===kp?(_=kp,w+=2):(_=f,0===Ze&&Ge(T3)),_!==f&&(ke=m,_=Nu()),(m=_)===f&&(m=w,H.substr(w,2)===Fl?(_=Fl,w+=2):(_=f,0===Ze&&Ge(Fu)),_!==f&&(ke=m,_=Pu()),(m=_)===f&&(m=w,H.substr(w,2)===ku?(_=ku,w+=2):(_=f,0===Ze&&Ge(ha)),_!==f&&(ke=m,_=dc()),m=_))))))),m}function Un(){var m,_,T;return m=w,E3.test(H.charAt(w))?(_=H.charAt(w),w++):(_=f,0===Ze&&Ge(Op)),_!==f?(Gp.test(H.charAt(w))?(T=H.charAt(w),w++):(T=f,0===Ze&&Ge(L3)),T!==f?(ke=m,m=_=Wp(_,T)):(w=m,m=f)):(w=m,m=f),m===f&&(Ou.test(H.charAt(w))?(m=H.charAt(w),w++):(m=f,0===Ze&&Ge(lr))),m}function _i(){var m;return(m=Un())===f&&(95===H.charCodeAt(w)?(m=Gu,w++):(m=f,0===Ze&&Ge(N2))),m}function xn(){var m;return(m=_i())===f&&(45===H.charCodeAt(w)?(m=Ns,w++):(m=f,0===Ze&&Ge(ti)),m===f&&(vr.test(H.charAt(w))?(m=H.charAt(w),w++):(m=f,0===Ze&&Ge(dr)),m===f&&(183===H.charCodeAt(w)?(m=Gi,w++):(m=f,0===Ze&&Ge(F2)),m===f&&(R3.test(H.charAt(w))?(m=H.charAt(w),w++):(m=f,0===Ze&&Ge(D3)),m===f&&(pc.test(H.charAt(w))?(m=H.charAt(w),w++):(m=f,0===Ze&&Ge(Wu))))))),m}function Ps(){var m,_,T,P,q,me,Ce,Q,Kt;if(m=w,_=w,(T=Un())!==f){for(P=[],q=xn();q!==f;)P.push(q),q=xn();if(P!==f){if(q=[],me=w,Ce=[],46===H.charCodeAt(w)?(Q=j,w++):(Q=f,0===Ze&&Ge(W)),Q!==f)for(;Q!==f;)Ce.push(Q),46===H.charCodeAt(w)?(Q=j,w++):(Q=f,0===Ze&&Ge(W));else Ce=f;if(Ce!==f){if(Q=[],(Kt=xn())!==f)for(;Kt!==f;)Q.push(Kt),Kt=xn();else Q=f;Q!==f?me=Ce=[Ce,Q]:(w=me,me=f)}else w=me,me=f;for(;me!==f;){if(q.push(me),me=w,Ce=[],46===H.charCodeAt(w)?(Q=j,w++):(Q=f,0===Ze&&Ge(W)),Q!==f)for(;Q!==f;)Ce.push(Q),46===H.charCodeAt(w)?(Q=j,w++):(Q=f,0===Ze&&Ge(W));else Ce=f;if(Ce!==f){if(Q=[],(Kt=xn())!==f)for(;Kt!==f;)Q.push(Kt),Kt=xn();else Q=f;Q!==f?me=Ce=[Ce,Q]:(w=me,me=f)}else w=me,me=f}q!==f?_=T=[T,P,q]:(w=_,_=f)}else w=_,_=f}else w=_,_=f;return _!==f?H.substring(m,w):_}function qi(){var m;return(m=function Mi(){var m,_,T,P,q;return m=w,_=w,37===H.charCodeAt(w)?(T=jp,w++):(T=f,0===Ze&&Ge(Up)),T!==f&&(P=Ri())!==f&&(q=Ri())!==f?_=T=[T,P,q]:(w=_,_=f),_!==f?H.substring(m,w):_}())===f&&(m=function X2(){var m,_,T;return m=w,92===H.charCodeAt(w)?(_=$p,w++):(_=f,0===Ze&&Ge(Ra)),_!==f?(Xp.test(H.charAt(w))?(T=H.charAt(w),w++):(T=f,0===Ze&&Ge(Ke)),T!==f?(ke=m,m=_=se(T)):(w=m,m=f)):(w=m,m=f),m}()),m}function Ri(){var m;return P2.test(H.charAt(w))?(m=H.charAt(w),w++):(m=f,0===Ze&&Ge(Pl)),m}var Y2=new Function("try {return this===window;}catch(e){ return false;}")()?window.URL:K(1391).URL,K2=function(m){return m.match(/^[a-z](.*?):(.+?)/g)},Er={base:[],data:{},addBase:function(m){if(0===Er.base.length)return void Er.base.push(m);const _=Er.base[Er.base.length-1];_!==m&&Er.base.push(new Y2(m,_).toString())},addPrefix:function(m,_){const T=Er.data[m];void 0===T?Er.data[m]=[{uri:_,count:0}]:T[T.length-1].uri!==_&&T.push({uri:_,count:0})},hasPrefix:function(m){return void 0!==this.data[m]},resolve:function(m,_){const T=Object.keys(Er.data).find(q=>0===m.indexOf(q+":"));if(void 0!==T){const q=Er.data[T];return 1===q.length&&!0!==_&&K2(q[0].uri)?m:m.replace(T+":",q[q.length-1].uri)}var P=0===Er.base.length?k.baseIRI:Er.base[Er.base.length-1];return!P||m.match(/^(http:|https:|urn:|file:)/)?m:0===m.indexOf("//")&&P?P.split("//")[0]+m:new Y2(m,P).toString()},increment:function(m){const _=Er.data[m];void 0!==_&&_[_.length-1].count++},decrement:function(m){const _=Er.data[m];void 0!==_&&_[_.length-1].count--},toJSON:function(){const m={};return Er.base.length>0&&(void 0===m["@context"]&&(m["@context"]={}),m["@context"]["@base"]=Er.base[0]),Object.keys(Er.data).forEach(_=>{const T=Er.data[_][0];"http://www.w3.org/2001/XMLSchema#"===T.uri&&T.count<1||K2(T.uri)&&(void 0===m["@context"]&&(m["@context"]={}),m["@context"][_]=T.uri)}),m}};function Cc(m,_){if(void 0===m["@list"]||!_&&!m["@list"].find(q=>void 0!==q["@list"]))return m;if(0===m["@list"].length)return{"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};var T={},P=null;return m["@list"].forEach(q=>{null===P?P=T:(P["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={},P=P["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]),P["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"]=Cc(q,!0),P["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}),T}if((p1=he())!==f&&w===H.length)return p1;throw p1!==f&&w<H.length&&Ge({type:"end"}),function g1(m,_,T){return new Se(Se.buildMessage(m,_),m,_,T)}(ol,co<H.length?H.charAt(co):null,Ol(co,co<H.length?co+1:co))}}})?Z.apply(Ue,[]):Z)&&(We.exports=ce)},517:function(We){We.exports=function(){"use strict";var Ue=function(){return Ue=Object.assign||function(C){for(var y,I=1,x=arguments.length;I<x;I++)for(var E in y=arguments[I])Object.prototype.hasOwnProperty.call(y,E)&&(C[E]=y[E]);return C},Ue.apply(this,arguments)};function K(g){var C="function"==typeof Symbol&&Symbol.iterator,y=C&&g[C],I=0;if(y)return y.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&I>=g.length&&(g=void 0),{value:g&&g[I++],done:!g}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(g,C){var y="function"==typeof Symbol&&g[Symbol.iterator];if(!y)return g;var x,Y,I=y.call(g),E=[];try{for(;(void 0===C||C-- >0)&&!(x=I.next()).done;)E.push(x.value)}catch(Ee){Y={error:Ee}}finally{try{x&&!x.done&&(y=I.return)&&y.call(I)}finally{if(Y)throw Y.error}}return E}function ve(g,C,y){if(y||2===arguments.length)for(var E,I=0,x=C.length;I<x;I++)(E||!(I in C))&&(E||(E=Array.prototype.slice.call(C,0,I)),E[I]=C[I]);return g.concat(E||Array.prototype.slice.call(C))}"function"==typeof SuppressedError&&SuppressedError;class ce extends Error{constructor(C,y,I){super(C),this.token=y,this.type=I||"error"}}const Ve=g=>g<4?"short":4===g?"long":"narrow",Se=g=>g%2==0?"2-digit":"numeric";function H(g,C){switch(g.width){case 1:return"numeric";case 2:return"2-digit";case 3:return"short";case 4:return"long";case 5:return"narrow";default:return void C(`${g.desc} is not supported with width ${g.width}`)}}function k(g,C){const{char:y,desc:I,width:x}=g;if("d"===y)return Se(x);C(`${I} is not supported`)}function f(g,C){const{char:y,desc:I,width:x}=g;return("c"===y||"e"===y)&&x<3&&C(`Numeric value is not supported for ${I}; falling back to weekday:short`,ce.WARNING),Ve(x)}function he(g,C){const{char:y,desc:I,width:x}=g;switch(y){case"v":case"z":return 4===x?"long":"short";case"V":return 4===x?"long":void C(`${I} is not supported with width ${x}`);case"X":return void C(`${I} is not supported`)}return"short"}function be(g,C){switch(g.field){case"era":return{era:Ve(g.width)};case"year":return function ne(g,C){switch(g.char){case"y":return{year:Se(g.width)};case"r":return{calendar:"gregory",year:"numeric"};default:return C(`${g.desc} is not supported; falling back to year:numeric`,ce.WARNING),{year:"numeric"}}}(g,C);case"month":return{month:H(g,C)};case"day":return{day:k(g,C)};case"weekday":return{weekday:f(g,C)};case"period":return;case"hour":return function Me(g){const C=Se(g.width);let y;switch(g.char){case"h":y="h12";break;case"H":y="h23";break;case"k":y="h24";break;case"K":y="h11"}return y?{hour:C,hourCycle:y}:{hour:C}}(g);case"min":return{minute:Se(g.width)};case"sec":return{second:Se(g.width)};case"tz":return{timeZoneName:he(g,C)};case"quarter":case"week":case"sec-frac":case"ms":C(`${g.desc} is not supported`)}}function j(g,C){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E=>{throw E};const I={timeZone:C},x=[];for(const E of g){const{error:Y,field:Ee,str:et}=E;if(Y){const vn=new ce(Y.message,E);vn.stack=Y.stack,y(vn)}et&&y(new ce(`Ignoring string part: ${et}`,E,ce.WARNING)),Ee&&(-1===x.indexOf(Ee)?x.push(Ee):y(new ce(`Duplicate ${Ee} token`,E)));const Bt=be(E,(vn,$n)=>y(new ce(vn,E,$n)));Bt&&Object.assign(I,Bt)}return I}const W={G:{field:"era",desc:"Era"},y:{field:"year",desc:"Year"},Y:{field:"year",desc:'Year of "Week of Year"'},u:{field:"year",desc:"Extended year"},U:{field:"year",desc:"Cyclic year name"},r:{field:"year",desc:"Related Gregorian year"},Q:{field:"quarter",desc:"Quarter"},q:{field:"quarter",desc:"Stand-alone quarter"},M:{field:"month",desc:"Month in year"},L:{field:"month",desc:"Stand-alone month in year"},w:{field:"week",desc:"Week of year"},W:{field:"week",desc:"Week of month"},d:{field:"day",desc:"Day in month"},D:{field:"day",desc:"Day of year"},F:{field:"day",desc:"Day of week in month"},g:{field:"day",desc:"Modified julian day"},E:{field:"weekday",desc:"Day of week"},e:{field:"weekday",desc:"Local day of week"},c:{field:"weekday",desc:"Stand-alone local day of week"},a:{field:"period",desc:"AM/PM marker"},b:{field:"period",desc:"AM/PM/noon/midnight marker"},B:{field:"period",desc:"Flexible day period"},h:{field:"hour",desc:"Hour in AM/PM (1~12)"},H:{field:"hour",desc:"Hour in day (0~23)"},k:{field:"hour",desc:"Hour in day (1~24)"},K:{field:"hour",desc:"Hour in AM/PM (0~11)"},j:{field:"hour",desc:"Hour in preferred cycle"},J:{field:"hour",desc:"Hour in preferred cycle without marker"},C:{field:"hour",desc:"Hour in preferred cycle with flexible marker"},m:{field:"min",desc:"Minute in hour"},s:{field:"sec",desc:"Second in minute"},S:{field:"sec-frac",desc:"Fractional second"},A:{field:"ms",desc:"Milliseconds in day"},z:{field:"tz",desc:"Time Zone: specific non-location"},Z:{field:"tz",desc:"Time Zone"},O:{field:"tz",desc:"Time Zone: localized"},v:{field:"tz",desc:"Time Zone: generic non-location"},V:{field:"tz",desc:"Time Zone: ID"},X:{field:"tz",desc:"Time Zone: ISO8601 with Z"},x:{field:"tz",desc:"Time Zone: ISO8601"}},se=g=>g>="A"&&g<="Z"||g>="a"&&g<="z";function X(g,C){const y=g[C];if(!y)return null;if(se(y))return function ge(g,C){const y=g[C];let I=1;for(;g[++C]===y;)++I;const x=W[y];return x?{char:y,field:x.field,desc:x.desc,width:I}:{char:y,error:new Error(`The letter ${y} is not a valid field identifier`),width:I}}(g,C);if("'"===y)return function oe(g,C){let y=g[++C],I=2;if("'"===y)return{char:"'",str:y,width:I};for(;;){const x=g[++C];if(++I,void 0===x)return{char:"'",error:new Error(`Unterminated quoted literal in pattern: ${y||g}`),str:y,width:I};if("'"===x){if("'"!==g[++C])return{char:"'",str:y,width:I};++I}y+=x}}(g,C);let I=y,x=1;for(;;){const E=g[++C];if(!E||se(E)||"'"===E)return{char:y,str:I,width:x};I+=E,x+=1}}function D(g){const C=[];let y=0;for(;;){const I=X(g,y);if(!I)return C;C.push(I),y+=I.width}}class Le extends Error{constructor(C,y){super(y),this.code=C}}class J extends Le{constructor(C,y){super("BAD_OPTION",`Unknown ${C} option: ${y}`),this.stem=C,this.option=y}}class $e extends Le{constructor(C){super("BAD_STEM",`Unknown stem: ${C}`),this.stem=C}}class re extends Le{constructor(C,y){super("MASKED_VALUE",`Value for ${C} is set multiple times`),this.type=C,this.prev=y}}class xe extends Le{constructor(C){super("MISSING_OPTION",`Required option missing for ${C}`),this.stem=C}}class Be extends Le{constructor(C,y){super("BAD_PATTERN",y),this.char=C}}class Pe extends Le{constructor(C,y,I){super("TOO_MANY_OPTIONS",`Token ${C} only supports ${I>1?`${I} options`:"one option"} (got ${y.length})`),this.stem=C,this.options=y}}class te extends Le{constructor(C,y){super("UNSUPPORTED",`The stem ${C} is not supported`),this.stem=C,y&&(this.message+=` with value ${y}`,this.source=y)}}function ye(g,C){let{numberingSystem:y}=C;return Array.isArray(g)||(g=[g]),y?g.map(I=>{const x=-1===I.indexOf("-u-")?"u-nu":"nu";return`${I}-${x}-${y}`}).concat(g):g}function wt(g){let{scale:C,unit:y}=g,I="number"==typeof C&&C>=0?C:1;return y&&"percent"===y.style&&(I*=.01),I}function L(g,C){const{decimal:y,group:I,integerWidth:x,notation:E,precision:Y,roundingMode:Ee,sign:et,unit:Bt,unitPer:vn,unitWidth:$n}=g,Yn=(Gr,ys)=>{C&&C(new te(Gr,ys))},tn={};if(Bt)switch(Bt.style){case"base-unit":tn.style="decimal";break;case"currency":tn.style="currency",tn.currency=Bt.currency;break;case"measure-unit":tn.style="unit",tn.unit=Bt.unit.replace(/.*-/,""),vn&&(tn.unit+="-per-"+vn.replace(/.*-/,""));break;case"percent":tn.style="percent";break;case"permille":Yn("permille")}switch($n){case"unit-width-full-name":tn.currencyDisplay="name",tn.unitDisplay="long";break;case"unit-width-hidden":Yn($n);break;case"unit-width-iso-code":tn.currencyDisplay="code";break;case"unit-width-narrow":tn.currencyDisplay="narrowSymbol",tn.unitDisplay="narrow";break;case"unit-width-short":tn.currencyDisplay="symbol",tn.unitDisplay="short"}switch(I){case"group-off":tn.useGrouping=!1;break;case"group-auto":tn.useGrouping=!0;break;case"group-min2":case"group-on-aligned":case"group-thousands":Yn(I),tn.useGrouping=!0}if(Y)switch(Y.style){case"precision-fraction":{const{minFraction:Gr,maxFraction:ys,minSignificant:ks,maxSignificant:Bi,source:Vo}=Y;"number"==typeof Gr&&(tn.minimumFractionDigits=Gr,"number"==typeof ks&&Yn("precision-fraction",Vo)),"number"==typeof ys&&(tn.maximumFractionDigits=ys),"number"==typeof ks&&(tn.minimumSignificantDigits=ks),"number"==typeof Bi&&(tn.maximumSignificantDigits=Bi);break}case"precision-integer":tn.maximumFractionDigits=0;break;case"precision-unlimited":tn.maximumFractionDigits=20;break;case"precision-increment":break;case"precision-currency-standard":tn.trailingZeroDisplay=Y.trailingZero;break;case"precision-currency-cash":Yn(Y.style)}if(E)switch(E.style){case"compact-short":tn.notation="compact",tn.compactDisplay="short";break;case"compact-long":tn.notation="compact",tn.compactDisplay="long";break;case"notation-simple":tn.notation="standard";break;case"scientific":case"engineering":{const{expDigits:Gr,expSign:ys,source:ks,style:Bi}=E;tn.notation=Bi,(Gr&&Gr>1||ys&&"sign-auto"!==ys)&&Yn(Bi,ks);break}}if(x){const{min:Gr,max:ys,source:ks}=x;Gr>0&&(tn.minimumIntegerDigits=Gr),Number(ys)>0&&(3!==ys||"engineering"!==tn.notation&&"scientific"!==tn.notation?Yn("integer-width",ks):tn.notation="engineering")}switch(et){case"sign-auto":tn.signDisplay="auto";break;case"sign-always":tn.signDisplay="always";break;case"sign-except-zero":tn.signDisplay="exceptZero";break;case"sign-never":tn.signDisplay="never";break;case"sign-accounting":tn.currencySign="accounting";break;case"sign-accounting-always":tn.currencySign="accounting",tn.signDisplay="always";break;case"sign-accounting-except-zero":tn.currencySign="accounting",tn.signDisplay="exceptZero"}return"decimal-always"===y&&Yn(y),Ee&&Yn(Ee),tn}function V(g,C,y){const I=g[C];switch(I){case"%":return{char:"%",style:"percent",width:1};case"\u2030":return{char:"%",style:"permille",width:1};case"\xa4":{let x=1;for(;"\xa4"===g[++C];)++x;switch(x){case 1:return{char:I,currency:"default",width:x};case 2:return{char:I,currency:"iso-code",width:x};case 3:return{char:I,currency:"full-name",width:x};case 5:return{char:I,currency:"narrow",width:x};default:return y(new Be("\xa4",`Invalid number (${x}) of \xa4 chars in pattern`)),null}}case"*":{const x=g[C+1];if(x)return{char:I,pad:x,width:2};break}case"+":case"-":return{char:I,width:1};case"'":{let x=g[++C],E=2;if("'"===x)return{char:I,str:x,width:E};for(;;){const Y=g[++C];if(++E,void 0===Y)return y(new Be("'",`Unterminated quoted literal in pattern: ${x}`)),{char:I,str:x,width:E};if("'"===Y){if("'"!==g[++C])return{char:I,str:x,width:E};++E}x+=Y}}}return null}const $=g=>g>="0"&&g<="9";function Ae(g,C){const y=g[C];if($(y)){let I=y;for(;;){const x=g[++C];if(!$(x))return{char:"0",digits:I,width:I.length};I+=x}}switch(y){case"#":{let I=1;for(;"#"===g[++C];)++I;return{char:y,width:I}}case"@":{let I=1;for(;"@"===g[++C];)++I;let x=I;for(C-=1;"#"===g[++C];)++x;return{char:y,min:I,width:x}}case"E":{const I="+"===g[C+1];I&&++C;let x=0;for(;"0"===g[++C];)++x;if(x)return{char:y,expDigits:x,plus:I,width:(I?2:1)+x};break}case".":case",":return{char:y,width:1}}return null}function Ne(g,C,y){let I;var Bt;(Bt=I||(I={}))[Bt.Prefix=0]="Prefix",Bt[Bt.Number=1]="Number",Bt[Bt.Suffix=2]="Suffix";const x=[],E=[],Y=[];let Ee=I.Prefix,et="";for(;C<g.length;){const Bt=g[C];if(";"===Bt){C+=1;break}switch(Ee){case I.Prefix:{const vn=V(g,C,y);if(vn)et&&(x.push({char:"'",str:et,width:et.length}),et=""),x.push(vn),C+=vn.width;else{const $n=Ae(g,C);$n?(et&&(x.push({char:"'",str:et,width:et.length}),et=""),Ee=I.Number,E.push($n),C+=$n.width):(et+=Bt,C+=1)}break}case I.Number:{const vn=Ae(g,C);vn?(E.push(vn),C+=vn.width):Ee=I.Suffix;break}case I.Suffix:{const vn=V(g,C,y);vn?(et&&(Y.push({char:"'",str:et,width:et.length}),et=""),Y.push(vn),C+=vn.width):(et+=Bt,C+=1);break}}}return et&&Y.push({char:"'",str:et,width:et.length}),{pattern:{prefix:x,number:E,suffix:Y},pos:C}}function mt(g,C,y,I,x){let E=!1,Y="";for(const Ee of g)switch(Ee.char){case"%":C.unit={style:Ee.style},x?E=!0:Y="";break;case"\xa4":if(!y){I(new Be("\xa4","The \xa4 pattern requires a currency"));break}switch(C.unit={style:"currency",currency:y},Ee.currency){case"iso-code":C.unitWidth="unit-width-iso-code";break;case"full-name":C.unitWidth="unit-width-full-name";break;case"narrow":C.unitWidth="unit-width-narrow"}x?E=!0:Y="";break;case"*":break;case"+":E||(Y+="+");break;case"'":E||(Y+=Ee.str)}return Y}function Wt(g,C){let y=!1,I="";for(const x of g)switch(x.char){case"%":case"\xa4":C?y=!0:I="";break;case"-":y||(I+="-");break;case"'":y||(I+=x.str)}return I}function Ut(g,C){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:et=>{throw et};const{tokens:I,negative:x}=function ht(g,C){const{pattern:y,pos:I}=Ne(g,0,C);if(I<g.length){const{pattern:x}=Ne(g,I,C);return{tokens:y,negative:x}}return{tokens:y}}(g,y),E=function Ye(g,C){const y={};let I=!1,x=!1,E=0,Y="",Ee=-1,et="",Bt=0;for(let $n=0;$n<g.length;++$n){const Yn=g[$n];switch(Yn.char){case"#":-1===Ee?(Y&&C(new Be("#","Pattern has # after integer digits")),E+=Yn.width):Bt+=Yn.width;break;case"0":-1===Ee?Y+=Yn.digits:(Bt&&C(new Be("0","Pattern has digits after # in fraction")),et+=Yn.digits);break;case"@":y.precision&&C(new re("precision",y.precision)),y.precision={style:"precision-fraction",minSignificant:Yn.min,maxSignificant:Yn.width};break;case",":I=!0;break;case".":1===Ee&&C(new Be(".","Pattern has more than one decimal separator")),Ee=$n;break;case"E":x&&C(new re("exponent",y.notation)),I&&C(new Be("E","Exponential patterns may not contain grouping separators")),y.notation={style:"scientific"},Yn.expDigits>1&&(y.notation.expDigits=Yn.expDigits),Yn.plus&&(y.notation.expSign="sign-always"),x=!0}}I?y.group="group-auto":E+Y.length>3&&(y.group="group-off");const vn=+`${Y||"0"}.${et}`;if(vn&&(y.precision={style:"precision-increment",increment:vn}),x)if((!y.precision||vn)&&(y.integerWidth=E?{min:1,max:E+Y.length}:{min:Math.max(1,Y.length)}),y.precision)vn||(y.integerWidth={min:1,max:1});else{const $n=Y.length+et.length;-1===Ee?$n>0&&(y.precision={style:"precision-fraction",maxSignificant:$n}):(y.precision={style:"precision-fraction",maxSignificant:Math.max(1,$n)+Bt},$n>1&&(y.precision.minSignificant=$n))}else Y.length>1&&(y.integerWidth={min:Y.length}),!y.precision&&(et.length||Bt)&&(y.precision={style:"precision-fraction",minFraction:et.length,maxFraction:et.length+Bt});return y}(I.number,y),Y=mt(I.prefix,E,C,y,!0),Ee=mt(I.suffix,E,C,y,!1);if(x){const et=Wt(x.prefix,!0),Bt=Wt(x.suffix,!1);E.affix={pos:[Y,Ee],neg:[et,Bt]},E.sign="sign-never"}else(Y||Ee)&&(E.affix={pos:[Y,Ee]});return E}function rn(g){const[y]=g.split("-",1);return-1!==["acceleration","angle","area","concentr","consumption","digital","duration","electric","energy","force","frequency","graphics","length","light","mass","power","pressure","speed","temperature","torque","volume"].indexOf(y)}const sn={"compact-short":0,"compact-long":0,"notation-simple":0,scientific:2,engineering:2,percent:0,permille:0,"base-unit":0,currency:1,"measure-unit":1,"per-measure-unit":1,"unit-width-narrow":0,"unit-width-short":0,"unit-width-full-name":0,"unit-width-iso-code":0,"unit-width-hidden":0,"precision-integer":0,"precision-unlimited":0,"precision-currency-standard":1,"precision-currency-cash":0,"precision-increment":1,"rounding-mode-ceiling":0,"rounding-mode-floor":0,"rounding-mode-down":0,"rounding-mode-up":0,"rounding-mode-half-even":0,"rounding-mode-half-down":0,"rounding-mode-half-up":0,"rounding-mode-unnecessary":0,"integer-width":1,scale:1,"group-off":0,"group-min2":0,"group-auto":0,"group-on-aligned":0,"group-thousands":0,latin:0,"numbering-system":1,"sign-auto":0,"sign-always":0,"sign-never":0,"sign-accounting":0,"sign-accounting-always":0,"sign-except-zero":0,"sign-accounting-except-zero":0,"decimal-auto":0,"decimal-always":0},Sn={currency:1,"integer-width":1,"measure-unit":1,"numbering-system":1,"per-measure-unit":1,"precision-increment":1,scale:1};function G(g,C,y){if(function cn(g){return g in sn}(g)){const I=sn[g];if(C.length>I){if(0===I)for(const x of C)y(new J(g,x));else y(new Pe(g,C,I));return!1}if(function Yt(g){return g in Sn}(g)&&C.length<Sn[g])return y(new xe(g)),!1}return!0}function He(g,C){const I=g&&g.match("fraction"===C?/^\.(0*)(\+|#*)$/:/^(@+)(\+|#*)$/);if(I){const x=I[1].length;switch(I[2].charAt(0)){case"":return{min:x,max:x};case"+":return{min:x,max:null};case"#":return{min:x,max:x+I[2].length}}}return null}class yt{constructor(C){this.skeleton={},this.onError=C}badOption(C,y){this.onError(new J(C,y))}assertEmpty(C){const y=this.skeleton[C];y&&this.onError(new re(C,y))}parseToken(C,y){if(!G(C,y,this.onError))return;const I=y[0],x=this.skeleton;switch(C){case"compact-short":case"compact-long":case"notation-simple":this.assertEmpty("notation"),x.notation={style:C};break;case"scientific":case"engineering":{let Y,E=null;for(const et of y)switch(et){case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":Y=et;break;default:/^\+e+$/.test(et)?E=et.length-1:this.badOption(C,et)}this.assertEmpty("notation");const Ee=y.join("/");x.notation=E&&Y?{style:C,source:Ee,expDigits:E,expSign:Y}:E?{style:C,source:Ee,expDigits:E}:Y?{style:C,source:Ee,expSign:Y}:{style:C,source:Ee};break}case"percent":case"permille":case"base-unit":this.assertEmpty("unit"),x.unit={style:C};break;case"currency":/^[A-Z]{3}$/.test(I)?(this.assertEmpty("unit"),x.unit={style:C,currency:I}):this.badOption(C,I);break;case"measure-unit":rn(I)?(this.assertEmpty("unit"),x.unit={style:C,unit:I}):this.badOption(C,I);break;case"per-measure-unit":rn(I)?(this.assertEmpty("unitPer"),x.unitPer=I):this.badOption(C,I);break;case"unit-width-narrow":case"unit-width-short":case"unit-width-full-name":case"unit-width-iso-code":case"unit-width-hidden":this.assertEmpty("unitWidth"),x.unitWidth=C;break;case"precision-integer":case"precision-unlimited":case"precision-currency-cash":this.assertEmpty("precision"),x.precision={style:C};break;case"precision-currency-standard":this.assertEmpty("precision"),x.precision="w"===I?{style:C,trailingZero:"stripIfInteger"}:{style:C};break;case"precision-increment":{const E=Number(I);E>0?(this.assertEmpty("precision"),x.precision={style:C,increment:E}):this.badOption(C,I);break}case"rounding-mode-ceiling":case"rounding-mode-floor":case"rounding-mode-down":case"rounding-mode-up":case"rounding-mode-half-even":case"rounding-mode-half-odd":case"rounding-mode-half-ceiling":case"rounding-mode-half-floor":case"rounding-mode-half-down":case"rounding-mode-half-up":case"rounding-mode-unnecessary":this.assertEmpty("roundingMode"),x.roundingMode=C;break;case"integer-width":if(/^\+0*$/.test(I))this.assertEmpty("integerWidth"),x.integerWidth={source:I,min:I.length-1};else{const E=I.match(/^#*(0*)$/);E?(this.assertEmpty("integerWidth"),x.integerWidth={source:I,min:E[1].length,max:E[0].length}):this.badOption(C,I)}break;case"scale":{const E=Number(I);E>0?(this.assertEmpty("scale"),x.scale=E):this.badOption(C,I);break}case"group-off":case"group-min2":case"group-auto":case"group-on-aligned":case"group-thousands":this.assertEmpty("group"),x.group=C;break;case"latin":this.assertEmpty("numberingSystem"),x.numberingSystem="latn";break;case"numbering-system":!function _t(g){return-1!==["arab","arabext","bali","beng","deva","fullwide","gujr","guru","hanidec","khmr","knda","laoo","latn","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt"].indexOf(g)}(I)?this.badOption(C,I):(this.assertEmpty("numberingSystem"),x.numberingSystem=I);break;case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":this.assertEmpty("sign"),x.sign=C;break;case"decimal-auto":case"decimal-always":this.assertEmpty("decimal"),x.decimal=C;break;default:{const E=function Fe(g,C,y){const I=He(g,"fraction");if(I){C.length>1&&y(new Pe(g,C,1));const E={style:"precision-fraction",source:g,minFraction:I.min};null!=I.max&&(E.maxFraction=I.max);const Y=C[0],Ee=He(Y,"significant");return Ee?(E.source=`${g}/${Y}`,E.minSignificant=Ee.min,null!=Ee.max&&(E.maxSignificant=Ee.max)):Y&&y(new J(g,Y)),E}const x=He(g,"significant");if(x){for(const Y of C)y(new J(g,Y));const E={style:"precision-fraction",source:g,minSignificant:x.min};return null!=x.max&&(E.maxSignificant=x.max),E}return null}(C,y,this.onError);E?(this.assertEmpty("precision"),x.precision=E):this.onError(new $e(C))}}}}function qt(g){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x=>{throw x};const y=[];for(const x of g.split(" "))if(x){const E=x.split("/"),Y=E.shift()||"";y.push({stem:Y,options:E})}const I=new yt(C);for(const{stem:x,options:E}of y)I.parseToken(x,E);return I.skeleton}function Mn(g,C,y,I){"string"==typeof C&&(C=0===C.indexOf("::")?qt(C.slice(2),I):Ut(C,y,I));const x=ye(g,C),E=L(C,I),Y=function Pt(g){const C=wt(g),{precision:y}=g;return y&&"precision-increment"===y.style?I=>function Ct(g,C){const y=+g+C/2;return y-y%+C}(I,y.increment)*C:I=>I*C}(C),Ee=new Intl.NumberFormat(x,E);if(C.affix){const[et,Bt]=C.affix.pos,[vn,$n]=C.affix.neg||["",""];return Yn=>{const tn=Ee.format(Y(Yn));return Yn<0?`${vn}${tn}${$n}`:`${et}${tn}${Bt}`}}return et=>Ee.format(Y(et))}function Rn(g,C,y,I){"string"==typeof C&&(C=0===C.indexOf("::")?qt(C.slice(2),I):Ut(C,y,I));const x=ye(g,C),E=L(C,I),Y=function xt(g){const C=wt(g),{precision:y}=g;if(y&&"precision-increment"===y.style){let x=`x - (x % +${y.increment})`;return 1!==C&&(x=`(${x}) * ${C}`),`function(n) { var x = ${"+n + "+y.increment/2}; return ${x}; }`}return 1!==C?`function(n) { return n * ${C}; }`:null}(C),Ee=["(function() {",`var opt = ${JSON.stringify(E)};`,`var nf = new Intl.NumberFormat(${JSON.stringify(x)}, opt);`];let et="nf.format(value)";if(Y&&(Ee.push(`var mod = ${Y};`),et="nf.format(mod(value))"),C.affix){const[Bt,vn]=C.affix.pos.map($n=>JSON.stringify($n));if(C.affix.neg){const[$n,Yn]=C.affix.neg.map(tn=>JSON.stringify(tn));et=`value < 0 ? ${$n} + ${et} + ${Yn} : ${Bt} + ${et} + ${vn}`}else et=`${Bt} + ${et} + ${vn}`}return Ee.push(`return function(value) { return ${et}; }`),Ee.join("\n  ")+"\n})()"}var an=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function un(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var g,C,y,On={},Zn={},_r={exports:{}};C=an,y=function(){var C=Object.prototype.hasOwnProperty,y=Object.prototype.toString,I="boolean"==typeof(new RegExp).sticky;function x(ut){return ut&&"[object RegExp]"===y.call(ut)}function E(ut){return ut&&"object"==typeof ut&&!x(ut)&&!Array.isArray(ut)}function Ee(ut){return new RegExp("|"+ut).exec("").length-1}function et(ut){return"("+ut+")"}function Bt(ut){return ut.length?"(?:"+ut.map(function(mn){return"(?:"+mn+")"}).join("|")+")":"(?!)"}function vn(ut){if("string"==typeof ut)return"(?:"+function Y(ut){return ut.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(ut)+")";if(x(ut)){if(ut.ignoreCase)throw new Error("RegExp /i flag not allowed");if(ut.global)throw new Error("RegExp /g flag is implied");if(ut.sticky)throw new Error("RegExp /y flag is implied");if(ut.multiline)throw new Error("RegExp /m flag is implied");return ut.source}throw new Error("Not a pattern: "+ut)}function $n(ut,$t){return ut.length>$t?ut:Array($t-ut.length+1).join(" ")+ut}function ys(ut,$t){if(E($t)||($t={match:$t}),$t.include)throw new Error("Matching rules cannot also include states");var mn={defaultType:ut,lineBreaks:!!$t.error||!!$t.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var Ln in $t)C.call($t,Ln)&&(mn[Ln]=$t[Ln]);if("string"==typeof mn.type&&ut!==mn.type)throw new Error("Type transform cannot be a string (type '"+mn.type+"' for token '"+ut+"')");var Kn=mn.match;return mn.match=Array.isArray(Kn)?Kn:Kn?[Kn]:[],mn.match.sort(function(Nn,cr){return x(Nn)&&x(cr)?0:x(cr)?-1:x(Nn)?1:cr.length-Nn.length}),mn}function ks(ut){return Array.isArray(ut)?function Gr(ut){for(var $t=[],mn=0;mn<ut.length;mn++){var Ln=ut[mn];if(Ln.include)for(var Kn=[].concat(Ln.include),Nn=0;Nn<Kn.length;Nn++)$t.push({include:Kn[Nn]});else{if(!Ln.type)throw new Error("Rule has no type: "+JSON.stringify(Ln));$t.push(ys(Ln.type,Ln))}}return $t}(ut):function tn(ut){for(var $t=Object.getOwnPropertyNames(ut),mn=[],Ln=0;Ln<$t.length;Ln++){var Kn=$t[Ln],cr=[].concat(ut[Kn]);if("include"!==Kn){var Ir=[];cr.forEach(function(qn){E(qn)?(Ir.length&&mn.push(ys(Kn,Ir)),mn.push(ys(Kn,qn)),Ir=[]):Ir.push(qn)}),Ir.length&&mn.push(ys(Kn,Ir))}else for(var fs=0;fs<cr.length;fs++)mn.push({include:cr[fs]})}return mn}(ut)}var Bi=ys("error",{lineBreaks:!0,shouldThrow:!0});function Vo(ut,$t){for(var mn=null,Ln=Object.create(null),Kn=!0,Nn=null,cr=[],fs=[],Ir=0;Ir<ut.length;Ir++)ut[Ir].fallback&&(Kn=!1);for(Ir=0;Ir<ut.length;Ir++){var qn=ut[Ir];if(qn.include)throw new Error("Inheritance is not allowed in stateless lexers");if(qn.error||qn.fallback){if(mn)throw!qn.fallback==!mn.fallback?new Error("Multiple "+(qn.fallback?"fallback":"error")+" rules not allowed (for token '"+qn.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+qn.defaultType+"')");mn=qn}var Hi=qn.match.slice();if(Kn)for(;Hi.length&&"string"==typeof Hi[0]&&1===Hi[0].length;)Ln[Hi.shift().charCodeAt(0)]=qn;if(qn.pop||qn.push||qn.next){if(!$t)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+qn.defaultType+"')");if(qn.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+qn.defaultType+"')")}if(0!==Hi.length){Kn=!1,cr.push(qn);for(var To=0;To<Hi.length;To++){var si=Hi[To];if(x(si))if(null===Nn)Nn=si.unicode;else if(Nn!==si.unicode&&!1===qn.fallback)throw new Error("If one rule is /u then all must be")}var gi=Bt(Hi.map(vn)),Eo=new RegExp(gi);if(Eo.test(""))throw new Error("RegExp matches empty string: "+Eo);if(Ee(gi)>0)throw new Error("RegExp has capture groups: "+Eo+"\nUse (?: \u2026 ) instead");if(!qn.lineBreaks&&Eo.test("\n"))throw new Error("Rule should declare lineBreaks: "+Eo);fs.push(et(gi))}}var Tc=mn&&mn.fallback,mh=I&&!Tc?"ym":"gm",Td=I||Tc?"":"|";return!0===Nn&&(mh+="u"),{regexp:new RegExp(Bt(fs)+Td,mh),groups:cr,fast:Ln,error:mn||Bi}}function Ga(ut,$t,mn){var Ln=ut&&(ut.push||ut.next);if(Ln&&!mn[Ln])throw new Error("Missing state '"+Ln+"' (in token '"+ut.defaultType+"' of state '"+$t+"')");if(ut&&ut.pop&&1!=+ut.pop)throw new Error("pop must be 1 (in token '"+ut.defaultType+"' of state '"+$t+"')")}var Os=function(ut,$t){this.startState=$t,this.states=ut,this.buffer="",this.stack=[],this.reset()};Os.prototype.reset=function(ut,$t){return this.buffer=ut||"",this.index=0,this.line=$t?$t.line:1,this.col=$t?$t.col:1,this.queuedToken=$t?$t.queuedToken:null,this.queuedText=$t?$t.queuedText:"",this.queuedThrow=$t?$t.queuedThrow:null,this.setState($t?$t.state:this.startState),this.stack=$t&&$t.stack?$t.stack.slice():[],this},Os.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},Os.prototype.setState=function(ut){if(ut&&this.state!==ut){this.state=ut;var $t=this.states[ut];this.groups=$t.groups,this.error=$t.error,this.re=$t.regexp,this.fast=$t.fast}},Os.prototype.popState=function(){this.setState(this.stack.pop())},Os.prototype.pushState=function(ut){this.stack.push(this.state),this.setState(ut)};var Vc=I?function(ut,$t){return ut.exec($t)}:function(ut,$t){var mn=ut.exec($t);return 0===mn[0].length?null:mn};function Vd(){return this.value}if(Os.prototype._getGroup=function(ut){for(var $t=this.groups.length,mn=0;mn<$t;mn++)if(void 0!==ut[mn+1])return this.groups[mn];throw new Error("Cannot find token type for matched text")},Os.prototype.next=function(){var ut=this.index;if(this.queuedGroup){var $t=this._token(this.queuedGroup,this.queuedText,ut);return this.queuedGroup=null,this.queuedText="",$t}var mn=this.buffer;if(ut!==mn.length){if(cr=this.fast[mn.charCodeAt(ut)])return this._token(cr,mn.charAt(ut),ut);var Ln=this.re;Ln.lastIndex=ut;var Kn=Vc(Ln,mn),Nn=this.error;if(null==Kn)return this._token(Nn,mn.slice(ut,mn.length),ut);var cr=this._getGroup(Kn),fs=Kn[0];return Nn.fallback&&Kn.index!==ut?(this.queuedGroup=cr,this.queuedText=fs,this._token(Nn,mn.slice(ut,Kn.index),ut)):this._token(cr,fs,ut)}},Os.prototype._token=function(ut,$t,mn){var Ln=0;if(ut.lineBreaks){var Kn=/\n/g,Nn=1;if("\n"===$t)Ln=1;else for(;Kn.exec($t);)Ln++,Nn=Kn.lastIndex}var cr={type:"function"==typeof ut.type&&ut.type($t)||ut.defaultType,value:"function"==typeof ut.value?ut.value($t):$t,text:$t,toString:Vd,offset:mn,lineBreaks:Ln,line:this.line,col:this.col},fs=$t.length;if(this.index+=fs,this.line+=Ln,0!==Ln?this.col=fs-Nn+1:this.col+=fs,ut.shouldThrow)throw new Error(this.formatError(cr,"invalid syntax"));return ut.pop?this.popState():ut.push?this.pushState(ut.push):ut.next&&this.setState(ut.next),cr},typeof Symbol<"u"&&Symbol.iterator){var yl=function(ut){this.lexer=ut};yl.prototype.next=function(){var ut=this.lexer.next();return{value:ut,done:!ut}},yl.prototype[Symbol.iterator]=function(){return this},Os.prototype[Symbol.iterator]=function(){return new yl(this)}}return Os.prototype.formatError=function(ut,$t){if(null==ut){var mn=this.buffer.slice(this.index);ut={text:mn,offset:this.index,lineBreaks:-1===mn.indexOf("\n")?0:1,line:this.line,col:this.col}}var Kn=Math.max(ut.line-2,1),cr=String(ut.line+2).length,fs=function Yn(ut,$t){for(var mn=ut.length,Ln=0;;){var Kn=ut.lastIndexOf("\n",mn-1);if(-1===Kn||(mn=Kn,++Ln===$t)||0===mn)break}return ut.substring(Ln<$t?0:mn+1).split("\n")}(this.buffer,this.line-ut.line+2+1).slice(0,5),Ir=[];Ir.push($t+" at line "+ut.line+" col "+ut.col+":"),Ir.push("");for(var qn=0;qn<fs.length;qn++){var Hi=fs[qn],Il=Kn+qn;Ir.push($n(String(Il),cr)+"  "+Hi),Il===ut.line&&Ir.push($n("",cr+ut.col+1)+"^")}return Ir.join("\n")},Os.prototype.clone=function(){return new Os(this.states,this.state)},Os.prototype.has=function(ut){return!0},{compile:function wl(ut){var $t=Vo(ks(ut));return new Os({start:$t},"start")},states:function Yo(ut,$t){var mn=ut.$all?ks(ut.$all):[];delete ut.$all;var Ln=Object.getOwnPropertyNames(ut);$t||($t=Ln[0]);for(var Kn=Object.create(null),Nn=0;Nn<Ln.length;Nn++)Kn[cr=Ln[Nn]]=ks(ut[cr]).concat(mn);for(Nn=0;Nn<Ln.length;Nn++)for(var fs=Kn[cr=Ln[Nn]],Ir=Object.create(null),qn=0;qn<fs.length;qn++){var Hi=fs[qn];if(Hi.include){var Il=[qn,1];if(Hi.include!==cr&&!Ir[Hi.include]){Ir[Hi.include]=!0;var To=Kn[Hi.include];if(!To)throw new Error("Cannot include nonexistent state '"+Hi.include+"' (in state '"+cr+"')");for(var si=0;si<To.length;si++){var gi=To[si];-1===fs.indexOf(gi)&&Il.push(gi)}}fs.splice.apply(fs,Il),qn--}}var Eo=Object.create(null);for(Nn=0;Nn<Ln.length;Nn++){var cr;Eo[cr=Ln[Nn]]=Vo(Kn[cr],!0)}for(Nn=0;Nn<Ln.length;Nn++){var vh=Ln[Nn],Tc=Eo[vh],mh=Tc.groups;for(qn=0;qn<mh.length;qn++)Ga(mh[qn],vh,Eo);var Td=Object.getOwnPropertyNames(Tc.fast);for(qn=0;qn<Td.length;qn++)Ga(Tc.fast[Td[qn]],vh,Eo)}return new Os(Eo,$t)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function Cl(ut){for(var $t=typeof Map<"u",mn=$t?new Map:Object.create(null),Ln=Object.getOwnPropertyNames(ut),Kn=0;Kn<Ln.length;Kn++){var Nn=Ln[Kn],cr=ut[Nn];(Array.isArray(cr)?cr:[cr]).forEach(function(Ir){if("string"!=typeof Ir)throw new Error("keyword must be string (in keyword '"+Nn+"')");$t?mn.set(Ir,Nn):mn[Ir]=Nn})}return function(Ir){return $t?mn.get(Ir):mn[Ir]}}}},(g=_r).exports?g.exports=y():C.moo=y();var qr=_r.exports;(function(g){var C=an&&an.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(g,"__esModule",{value:!0}),g.lexer=g.states=void 0;const y=C(qr);g.states={body:{doubleapos:{match:"''",value:()=>"'"},quoted:{lineBreaks:!0,match:/'[{}#](?:[^]*?[^'])?'(?!')/u,value:I=>I.slice(1,-1).replace(/''/g,"'")},argument:{lineBreaks:!0,match:/\{\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,push:"arg",value:I=>I.substring(1).trim()},octothorpe:"#",end:{match:"}",pop:1},content:{lineBreaks:!0,match:/[^][^{}#']*/u}},arg:{select:{lineBreaks:!0,match:/,\s*(?:plural|select|selectordinal)\s*,\s*/u,next:"select",value:I=>I.split(",")[1].trim()},"func-args":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*,/u,next:"body",value:I=>I.split(",")[1].trim()},"func-simple":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,value:I=>I.substring(1).trim()},end:{match:"}",pop:1}},select:{offset:{lineBreaks:!0,match:/\s*offset\s*:\s*\d+\s*/u,value:I=>I.split(":")[1].trim()},case:{lineBreaks:!0,match:/\s*(?:=\d+|[^\p{Pat_Syn}\p{Pat_WS}]+)\s*\{/u,push:"body",value:I=>I.substring(0,I.indexOf("{")).trim()},end:{match:/\s*\}/u,pop:1}}},g.lexer=y.default.states(g.states)})(Zn),Object.defineProperty(On,"__esModule",{value:!0});var N=On.parse=On.ParseError=void 0;const A=Zn,S=g=>({offset:g.offset,line:g.line,col:g.col,text:g.text,lineBreaks:g.lineBreaks}),U=g=>"plural"===g||"select"===g||"selectordinal"===g;const Je=["number","date","time","spellout","ordinal","duration"],lt=["zero","one","two","few","many","other"];class ln extends Error{constructor(C,y){super(A.lexer.formatError(C,y))}}On.ParseError=ln;class Te{constructor(C,y){var I,x,E,Y;this.lexer=A.lexer.reset(C),this.cardinalKeys=null!==(I=y?.cardinal)&&void 0!==I?I:lt,this.ordinalKeys=null!==(x=y?.ordinal)&&void 0!==x?x:lt,this.strict=null!==(E=y?.strict)&&void 0!==E&&E,this.strictPluralKeys=null===(Y=y?.strictPluralKeys)||void 0===Y||Y}parse(){return this.parseBody(!1,!0)}checkSelectKey(C,y,I){if("="===I[0]){if("select"===y)throw new ln(C,`The case ${I} is not valid with select`)}else if("select"!==y){const x="plural"===y?this.cardinalKeys:this.ordinalKeys;if(this.strictPluralKeys&&x.length>0&&!x.includes(I))throw new ln(C,`The ${y} case ${I} is not valid in this locale`)}}parseSelect(C,y,I,x){let{value:E}=C;const Y={type:x,arg:E,cases:[],ctx:I};"plural"===x||"selectordinal"===x?y=!0:this.strict&&(y=!1);for(const Ee of this.lexer)switch(Ee.type){case"offset":if("select"===x)throw new ln(Ee,"Unexpected plural offset for select");if(Y.cases.length>0)throw new ln(Ee,"Plural offset must be set before cases");Y.pluralOffset=Number(Ee.value),I.text+=Ee.text,I.lineBreaks+=Ee.lineBreaks;break;case"case":this.checkSelectKey(Ee,x,Ee.value),Y.cases.push({key:Ee.value,tokens:this.parseBody(y),ctx:S(Ee)});break;case"end":return Y;default:throw new ln(Ee,`Unexpected lexer token: ${Ee.type}`)}throw new ln(null,"Unexpected message end")}parseArgToken(C,y){const I=S(C),x=this.lexer.next();if(!x)throw new ln(null,"Unexpected message end");if(I.text+=x.text,I.lineBreaks+=x.lineBreaks,this.strict&&("func-simple"===x.type||"func-args"===x.type)&&!Je.includes(x.value))throw new ln(C,`Invalid strict mode function arg type: ${x.value}`);switch(x.type){case"end":return{type:"argument",arg:C.value,ctx:I};case"func-simple":{const E=this.lexer.next();if(!E)throw new ln(null,"Unexpected message end");if("end"!==E.type)throw new ln(E,`Unexpected lexer token: ${E.type}`);if(I.text+=E.text,U(x.value.toLowerCase()))throw new ln(x,`Invalid type identifier: ${x.value}`);return{type:"function",arg:C.value,key:x.value,ctx:I}}case"func-args":{if(U(x.value.toLowerCase()))throw new ln(x,`Invalid type identifier: ${x.value}`);let E=this.parseBody(!this.strict&&y);return this.strict&&E.length>0&&(E=function _e(g,C){let y="",I="";for(const E of C){const Y=E.ctx.text;switch(I+=Y,E.type){case"content":y+=E.value;break;case"argument":case"function":case"octothorpe":y+=Y;break;default:throw new ln(g,`Unsupported part in strict mode function arg style: ${Y}`)}}return[{type:"content",value:y.trim(),ctx:Object.assign({},C[0].ctx,{text:I})}]}(C,E)),{type:"function",arg:C.value,key:x.value,param:E,ctx:I}}case"select":if(U(x.value))return this.parseSelect(C,y,I,x.value);throw new ln(x,`Unexpected select type ${x.value}`);default:throw new ln(x,`Unexpected lexer token: ${x.type}`)}}parseBody(C,y){const I=[];let x=null;for(const E of this.lexer)if("argument"===E.type)x&&(x=null),I.push(this.parseArgToken(E,C));else if("octothorpe"===E.type&&C)x&&(x=null),I.push({type:"octothorpe",ctx:S(E)});else{if("end"===E.type&&!y)return I;{let Y=E.value;if(!C&&"quoted"===E.type&&"#"===Y[0]){if(Y.includes("{"))throw new ln(E,`Unsupported escape pattern: ${Y}`);Y=E.text}x?(x.value+=Y,x.ctx.text+=E.text,x.ctx.lineBreaks+=E.lineBreaks):(x={type:"content",value:Y,ctx:S(E)},I.push(x))}}if(y)return I;throw new ln(null,"Unexpected message end")}}function le(g){return le[g]||(le[g]=new Intl.NumberFormat(g))}N=On.parse=function Re(g){return new Te(g,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).parse()};var Dn=Object.freeze({__proto__:null,_nf:le,number:function ze(g,C,y){return le(g).format(C-y)},plural:function st(g,C,y,I,x){if({}.hasOwnProperty.call(I,g))return I[g];C&&(g-=C);var E=y(g,x);return E in I?I[E]:I.other},reqArgs:function Vn(g,C){for(var y=0;y<g.length;++y)if(!C||void 0===C[g[y]])throw new Error("Message requires argument '".concat(g[y],"'"))},select:function Qt(g,C){return{}.hasOwnProperty.call(C,g)?C[g]:C.other},strictNumber:function ct(g,C,y,I){var x=C-y;if(isNaN(x))throw new Error("`"+I+"` or its offset is not a number");return le(g).format(x)}});var ar={};function Mr(g,C){var y=String(g)+JSON.stringify(C);return ar[y]||(ar[y]=new Intl.NumberFormat(g,C)),ar[y]}var Zs=Object.freeze({__proto__:null,date:function _n(g,C,y){var I={day:"numeric",month:"short",year:"numeric"};switch(y){case"full":I.weekday="long";case"long":I.month="long";break;case"short":I.month="numeric"}return new Date(g).toLocaleDateString(C,I)},duration:function hr(g){if("number"!=typeof g&&(g=Number(g)),!isFinite(g))return String(g);var C="";g<0?(C="-",g=Math.abs(g)):g=Number(g);var y=g%60,I=[Math.round(y)===y?y:y.toFixed(3)];return g<60?I.unshift(0):(g=Math.round((g-Number(I[0]))/60),I.unshift(g%60),g>=60&&(g=Math.round((g-Number(I[0]))/60),I.unshift(g))),C+I.shift()+":"+I.map(function(E){return Number(E)<10?"0"+String(E):String(E)}).join(":")},numberCurrency:function(g,C,y){return Mr(C,{style:"currency",currency:y,minimumFractionDigits:2,maximumFractionDigits:2}).format(g)},numberFmt:function Ws(g,C,y,I){var x=y&&y.split(":")||[],E=x[0],Y=x[1];return Mr(C,{integer:{maximumFractionDigits:0},percent:{style:"percent"},currency:{style:"currency",currency:Y&&Y.trim()||I,minimumFractionDigits:2,maximumFractionDigits:2}}[E]||{}).format(g)},numberInteger:function(g,C){return Mr(C,{maximumFractionDigits:0}).format(g)},numberPercent:function(g,C){return Mr(C,{style:"percent"}).format(g)},time:function ia(g,C,y){var I={second:"numeric",minute:"numeric",hour:"numeric"};switch(y){case"full":case"long":I.timeZoneName="short";break;case"short":delete I.second}return new Date(g).toLocaleTimeString(C,I)}}),Qe=un({ES3:{break:!0,continue:!0,delete:!0,else:!0,for:!0,function:!0,if:!0,in:!0,new:!0,return:!0,this:!0,typeof:!0,var:!0,void:!0,while:!0,with:!0,case:!0,catch:!0,default:!0,do:!0,finally:!0,instanceof:!0,switch:!0,throw:!0,try:!0},ESnext:{await:!0,debugger:!0,class:!0,enum:!0,extends:!0,super:!0,const:!0,export:!0,import:!0,null:!0,true:!0,false:!0,implements:!0,let:!0,private:!0,public:!0,yield:!0,interface:!0,package:!0,protected:!0,static:!0}});function Xe(g,C){C&&(g+=" "+function Et(g){let C=0;for(let y=0;y<g.length;++y)C=(C<<5)-C+g.charCodeAt(y),C|=0;return C}(g).toString(36));const y=g.trim().replace(/\W+/g,"_");return Qe.ES3[y]||Qe.ESnext[y]||/^\d/.test(y)?"_"+y:y}function tr(g,C){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(C)&&!Qe.ES3[C])return g?g+"."+C:C;{const y=JSON.stringify(C);return g?g+"["+y+"]":y}}var vr=new RegExp("^"+["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"].join("|^"));var _s="@messageformat/runtime/lib/plurals",Ns=function(){function g(C){this.arguments=[],this.runtime={},this.options=C}return g.prototype.compile=function(C,y,I){var x,E,Y=this,Ee=this.options,et=Ee.localeCodeFromKey,Bt=Ee.requireAllArguments,vn=Ee.strict,$n=Ee.strictPluralKeys;if("object"==typeof C){var Yn={};try{for(var tn=K(Object.keys(C)),Gr=tn.next();!Gr.done;Gr=tn.next()){var ys=Gr.value,ks=et?et(ys):ys;Yn[ys]=this.compile(C[ys],I&&ks&&I[ks]||y,I)}}catch(Os){x={error:Os}}finally{try{Gr&&!Gr.done&&(E=tn.return)&&E.call(tn)}finally{if(x)throw x.error}}return Yn}this.plural=y;var Vo={cardinal:y.cardinals,ordinal:y.ordinals,strict:vn,strictPluralKeys:$n};this.arguments=[];var wl=N(C,Vo).map(function(Os){return Y.token(Os,null)}),Ga=this.arguments.length>0,Yo=this.concatenate(wl,!0);if(Bt&&Ga){this.setRuntimeFn("reqArgs");var Cl=JSON.stringify(this.arguments);return"(d) => { reqArgs(".concat(Cl,", d); return ").concat(Yo,"; }")}return"(".concat(Ga?"d":"",") => ").concat(Yo)},g.prototype.cases=function(C,y){var I=this,x=!0,E=C.cases.map(function(vn){var $n=vn.key;"other"===$n&&(x=!1);var tn=vn.tokens.map(function(Gr){return I.token(Gr,y)});return"".concat(tr(null,$n.replace(/^=/,"")),": ").concat(I.concatenate(tn,!1))});if(x){var Y=C.type,Ee=this.plural,Bt=Ee.ordinals;if("select"===Y||"plural"===Y&&Ee.cardinals.includes("other")||"selectordinal"===Y&&Bt.includes("other"))throw new Error("No 'other' form found in ".concat(JSON.stringify(C)))}return"{ ".concat(E.join(", ")," }")},g.prototype.concatenate=function(C,y){return"values"===this.options.returnType&&(y||C.length>1)?"["+C.join(", ")+"]":C.join(" + ")||'""'},g.prototype.token=function(C,y){if("content"===C.type)return JSON.stringify(C.value);var Y,Ee,I=this.plural,x=I.id,E=I.lc;switch("arg"in C?(this.arguments.push(C.arg),Y=[tr("d",C.arg)]):Y=[],C.type){case"argument":return this.options.biDiSupport?function dr(g,C){var y=vr.test(C),I=JSON.stringify(y?"\u200f":"\u200e");return"".concat(I," + ").concat(g," + ").concat(I)}(String(Y[0]),E):String(Y[0]);case"select":Ee="select",y&&this.options.strict&&(y=null),Y.push(this.cases(C,y)),this.setRuntimeFn("select");break;case"selectordinal":Ee="plural",Y.push(C.pluralOffset||0,x,this.cases(C,C),1),this.setLocale(x,!0),this.setRuntimeFn("plural");break;case"plural":Ee="plural",Y.push(C.pluralOffset||0,x,this.cases(C,C)),this.setLocale(x,!1),this.setRuntimeFn("plural");break;case"function":var et=this.options.customFormatters[C.key],Bt=et&&"module"in et&&"function"==typeof et.module;if(!et){if("date"===C.key){Ee=this.setDateFormatter(C,Y,y);break}if("number"===C.key){Ee=this.setNumberFormatter(C,Y,y);break}}if(Y.push(JSON.stringify(this.plural.locale)),C.param){y&&this.options.strict&&(y=null);var vn=this.getFormatterArg(C,y);vn&&Y.push(vn)}Ee=Bt?Xe("".concat(C.key,"__").concat(this.plural.locale)):C.key,this.setFormatter(Ee,C.key);break;case"octothorpe":if(!y)return'"#"';Y=[JSON.stringify(this.plural.locale),tr("d",y.arg),y.pluralOffset||0],this.options.strict?(Ee="strictNumber",Y.push(JSON.stringify(y.arg)),this.setRuntimeFn("strictNumber")):(Ee="number",this.setRuntimeFn("number"))}if(!Ee)throw new Error("Parser error for token "+JSON.stringify(C));return"".concat(Ee,"(").concat(Y.join(", "),")")},g.prototype.runtimeIncludes=function(C,y){if(Xe(C)!==C)throw new SyntaxError("Reserved word used as ".concat(y," identifier: ").concat(C));var I=this.runtime[C];if(!I||I.type===y)return I;throw new TypeError("Cannot override ".concat(I.type," runtime function as ").concat(y,": ").concat(C))},g.prototype.setLocale=function(C,y){var et,Bt,vn,I=this.runtimeIncludes(C,"locale"),x=this.plural,E=x.getCardinal,Y=x.getPlural,Ee=x.isDefault;if(!y&&Ee&&E){if(I)return;et=function($n){return E($n)},Bt="@messageformat/runtime/lib/cardinals",vn=function(){return String(E)}}else{if(I&&(!Ee||I.module===_s))return;et=function($n,Yn){return Y($n,Yn)},Bt=Ee?_s:Y.module||null,vn=function(){return String(Y)}}this.runtime[C]=Object.assign(et,{id:C,module:Bt,toString:vn,type:"locale"})},g.prototype.setRuntimeFn=function(C){this.runtimeIncludes(C,"runtime")||(this.runtime[C]=Object.assign(Dn[C],{id:C,module:"@messageformat/runtime",type:"runtime"}))},g.prototype.getFormatterArg=function(C,y){var I,x,E,Y,Ee=this,et=C.key,Bt=C.param,vn=this.options.customFormatters[et]||ti(et)&&Zs[et];if(!vn||!Bt)return null;var $n="arg"in vn&&vn.arg||"string";if("options"===$n){var Yn="";try{for(var tn=K(Bt),Gr=tn.next();!Gr.done;Gr=tn.next()){var ys=Gr.value;if("content"!==ys.type)throw new SyntaxError("Expected literal options for ".concat(et," formatter"));Yn+=ys.value}}catch(yl){I={error:yl}}finally{try{Gr&&!Gr.done&&(x=tn.return)&&x.call(tn)}finally{if(I)throw I.error}}var ks={};try{for(var Bi=K(Yn.split(",")),Vo=Bi.next();!Vo.done;Vo=Bi.next()){var wl=Vo.value,Ga=wl.indexOf(":");if(-1===Ga)ks[wl.trim()]=null;else{var Yo=wl.substring(0,Ga).trim(),Cl=wl.substring(Ga+1).trim();if("true"===Cl)ks[Yo]=!0;else if("false"===Cl)ks[Yo]=!1;else if("null"===Cl)ks[Yo]=null;else{var Os=Number(Cl);ks[Yo]=Number.isFinite(Os)?Os:Cl}}}}catch(yl){E={error:yl}}finally{try{Vo&&!Vo.done&&(Y=Bi.return)&&Y.call(Bi)}finally{if(E)throw E.error}}return JSON.stringify(ks)}var Vc=Bt.map(function(yl){return Ee.token(yl,y)});if("raw"===$n)return"[".concat(Vc.join(", "),"]");var Vd=Vc.join(" + ");return Vd?"(".concat(Vd,").trim()"):'""'},g.prototype.setFormatter=function(C,y){if(!this.runtimeIncludes(C,"formatter")){var I=this.options.customFormatters[y||C];if(I){var x="function"==typeof I?{formatter:I}:I;this.runtime[C]=Object.assign(x.formatter.bind({}),Ue(Ue({},x.formatter.prototype),{toString:function(){return String(x.formatter)}}),{type:"formatter"},"module"in I&&I.module&&I.id?{id:Xe(I.id),module:"function"==typeof I.module?I.module(this.plural.locale):I.module}:{id:null,module:null})}else{if(!ti(C))throw new Error("Formatting function not found: ".concat(C));this.runtime[C]=Object.assign(Zs[C],{type:"formatter"},{id:C,module:"@messageformat/runtime/lib/formatters"})}}},g.prototype.setDateFormatter=function(C,y,I){var x=this,E=C.param,Y=this.plural.locale,Ee=E&&1===E.length&&E[0];if(Ee&&"content"===Ee.type&&/^\s*::/.test(Ee.value)){var et=Ee.value.trim().substr(2),Bt=Xe("date_".concat(Y,"_").concat(et),!0);if(!this.runtimeIncludes(Bt,"formatter")){var vn=function ae(g,C,y,I){"string"==typeof C&&(C=D(C)),"function"==typeof y&&(I=y,y=void 0);const x=j(C,y,I),E=new Intl.DateTimeFormat(g,x);return Y=>E.format(Y)}(Y,et,this.options.timeZone);this.runtime[Bt]=Object.assign(vn,{id:Bt,module:null,toString:function(){return function ue(g,C,y,I){"string"==typeof C&&(C=D(C)),"function"==typeof y&&(I=y,y=void 0);const x=j(C,y,I);return["(function() {",`var opt = ${JSON.stringify(x)};`,`var dtf = new Intl.DateTimeFormat(${JSON.stringify(g)}, opt);`,"return function(value) { return dtf.format(value); }"].join("\n  ")+"\n})()"}(Y,et,x.options.timeZone)},type:"formatter"})}return Bt}if(y.push(JSON.stringify(Y)),E&&E.length>0){I&&this.options.strict&&(I=null);var $n=E.map(function(Yn){return x.token(Yn,I)});y.push("("+($n.join(" + ")||'""')+").trim()")}return this.setFormatter("date"),"date"},g.prototype.setNumberFormatter=function(C,y,I){var x=this,E=C.param,Y=this.plural.locale;if(!E||0===E.length)return y.unshift(JSON.stringify(Y)),y.push("0"),this.setRuntimeFn("number"),"number";if(y.push(JSON.stringify(Y)),1===E.length&&"content"===E[0].type){var Ee=E[0].value.trim();switch(Ee){case"currency":return y.push(JSON.stringify(this.options.currency)),this.setFormatter("numberCurrency"),"numberCurrency";case"integer":return this.setFormatter("numberInteger"),"numberInteger";case"percent":return this.setFormatter("numberPercent"),"numberPercent"}var et=Ee.match(/^currency:([A-Z]+)$/);if(et)return y.push(JSON.stringify(et[1])),this.setFormatter("numberCurrency"),"numberCurrency";var Bt=Xe("number_".concat(Y,"_").concat(Ee),!0);if(!this.runtimeIncludes(Bt,"formatter")){var vn=this.options.currency,$n=Mn(Y,Ee,vn);this.runtime[Bt]=Object.assign($n,{id:null,module:null,toString:function(){return Rn(Y,Ee,vn)},type:"formatter"})}return Bt}I&&this.options.strict&&(I=null);var Yn=E.map(function(tn){return x.token(tn,I)});return y.push("("+(Yn.join(" + ")||'""')+").trim()"),y.push(JSON.stringify(this.options.currency)),this.setFormatter("numberFmt"),"numberFmt"},g}();function ti(g){return g in Zs}const Mt=g=>1==g?"one":"other",yr=g=>0==g||1==g?"one":"other",Fs=g=>g>=0&&g<=1?"one":"other",us=g=>{const C=String(g).split(".");return 1!=g||C[1]?"other":"one"},hn=g=>"other",lo=g=>1==g?"one":2==g?"two":"other";var Zo=Object.freeze({__proto__:null,af:Mt,ak:yr,am:Fs,an:Mt,ar:g=>{const C=String(g).split("."),I=Number(C[0])==g&&C[0].slice(-2);return 0==g?"zero":1==g?"one":2==g?"two":I>=3&&I<=10?"few":I>=11&&I<=99?"many":"other"},ars:g=>{const C=String(g).split("."),I=Number(C[0])==g&&C[0].slice(-2);return 0==g?"zero":1==g?"one":2==g?"two":I>=3&&I<=10?"few":I>=11&&I<=99?"many":"other"},as:Fs,asa:Mt,ast:us,az:Mt,bal:Mt,be:g=>{const C=String(g).split("."),y=Number(C[0])==g,I=y&&C[0].slice(-1),x=y&&C[0].slice(-2);return 1==I&&11!=x?"one":I>=2&&I<=4&&(x<12||x>14)?"few":y&&0==I||I>=5&&I<=9||x>=11&&x<=14?"many":"other"},bem:Mt,bez:Mt,bg:Mt,bho:yr,bm:hn,bn:Fs,bo:hn,br:g=>{const C=String(g).split("."),y=Number(C[0])==g,I=y&&C[0].slice(-1),x=y&&C[0].slice(-2),E=y&&C[0].slice(-6);return 1==I&&11!=x&&71!=x&&91!=x?"one":2==I&&12!=x&&72!=x&&92!=x?"two":(3==I||4==I||9==I)&&(x<10||x>19)&&(x<70||x>79)&&(x<90||x>99)?"few":0!=g&&y&&0==E?"many":"other"},brx:Mt,bs:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],E=y.slice(-1),Y=y.slice(-2),Ee=I.slice(-1),et=I.slice(-2);return x&&1==E&&11!=Y||1==Ee&&11!=et?"one":x&&E>=2&&E<=4&&(Y<12||Y>14)||Ee>=2&&Ee<=4&&(et<12||et>14)?"few":"other"},ca:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-6);return 1==g&&I?"one":0!=y&&0==x&&I?"many":"other"},ce:Mt,ceb:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],E=y.slice(-1),Y=I.slice(-1);return x&&(1==y||2==y||3==y)||x&&4!=E&&6!=E&&9!=E||!x&&4!=Y&&6!=Y&&9!=Y?"one":"other"},cgg:Mt,chr:Mt,ckb:Mt,cs:g=>{const C=String(g).split("."),y=C[0],I=!C[1];return 1==g&&I?"one":y>=2&&y<=4&&I?"few":I?"other":"many"},cy:g=>0==g?"zero":1==g?"one":2==g?"two":3==g?"few":6==g?"many":"other",da:g=>{const C=String(g).split("."),y=C[0],I=Number(C[0])==g;return 1!=g&&(I||0!=y&&1!=y)?"other":"one"},de:us,doi:Fs,dsb:g=>{const C=String(g).split("."),I=C[1]||"",x=!C[1],E=C[0].slice(-2),Y=I.slice(-2);return x&&1==E||1==Y?"one":x&&2==E||2==Y?"two":x&&(3==E||4==E)||3==Y||4==Y?"few":"other"},dv:Mt,dz:hn,ee:Mt,el:Mt,en:us,eo:Mt,es:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-6);return 1==g?"one":0!=y&&0==x&&I?"many":"other"},et:us,eu:Mt,fa:Fs,ff:g=>g>=0&&g<2?"one":"other",fi:us,fil:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],E=y.slice(-1),Y=I.slice(-1);return x&&(1==y||2==y||3==y)||x&&4!=E&&6!=E&&9!=E||!x&&4!=Y&&6!=Y&&9!=Y?"one":"other"},fo:Mt,fr:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-6);return g>=0&&g<2?"one":0!=y&&0==x&&I?"many":"other"},fur:Mt,fy:us,ga:g=>{const C=String(g).split("."),y=Number(C[0])==g;return 1==g?"one":2==g?"two":y&&g>=3&&g<=6?"few":y&&g>=7&&g<=10?"many":"other"},gd:g=>{const C=String(g).split("."),y=Number(C[0])==g;return 1==g||11==g?"one":2==g||12==g?"two":y&&g>=3&&g<=10||y&&g>=13&&g<=19?"few":"other"},gl:us,gsw:Mt,gu:Fs,guw:yr,gv:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-1),E=y.slice(-2);return I&&1==x?"one":I&&2==x?"two":!I||0!=E&&20!=E&&40!=E&&60!=E&&80!=E?I?"other":"many":"few"},ha:Mt,haw:Mt,he:g=>{const C=String(g).split("."),y=C[0],I=!C[1];return 1==y&&I||0==y&&!I?"one":2==y&&I?"two":"other"},hi:Fs,hnj:hn,hr:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],E=y.slice(-1),Y=y.slice(-2),Ee=I.slice(-1),et=I.slice(-2);return x&&1==E&&11!=Y||1==Ee&&11!=et?"one":x&&E>=2&&E<=4&&(Y<12||Y>14)||Ee>=2&&Ee<=4&&(et<12||et>14)?"few":"other"},hsb:g=>{const C=String(g).split("."),I=C[1]||"",x=!C[1],E=C[0].slice(-2),Y=I.slice(-2);return x&&1==E||1==Y?"one":x&&2==E||2==Y?"two":x&&(3==E||4==E)||3==Y||4==Y?"few":"other"},hu:Mt,hy:g=>g>=0&&g<2?"one":"other",ia:us,id:hn,ig:hn,ii:hn,io:us,is:g=>{const C=String(g).split("."),y=C[0],I=(C[1]||"").replace(/0+$/,""),x=Number(C[0])==g,E=y.slice(-1),Y=y.slice(-2);return x&&1==E&&11!=Y||I%10==1&&I%100!=11?"one":"other"},it:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-6);return 1==g&&I?"one":0!=y&&0==x&&I?"many":"other"},iu:lo,ja:hn,jbo:hn,jgo:Mt,jmc:Mt,jv:hn,jw:hn,ka:Mt,kab:g=>g>=0&&g<2?"one":"other",kaj:Mt,kcg:Mt,kde:hn,kea:hn,kk:Mt,kkj:Mt,kl:Mt,km:hn,kn:Fs,ko:hn,ks:Mt,ksb:Mt,ksh:g=>0==g?"zero":1==g?"one":"other",ku:Mt,kw:g=>{const C=String(g).split("."),y=Number(C[0])==g,I=y&&C[0].slice(-2),x=y&&C[0].slice(-3),E=y&&C[0].slice(-5),Y=y&&C[0].slice(-6);return 0==g?"zero":1==g?"one":2==I||22==I||42==I||62==I||82==I||y&&0==x&&(E>=1e3&&E<=2e4||4e4==E||6e4==E||8e4==E)||0!=g&&1e5==Y?"two":3==I||23==I||43==I||63==I||83==I?"few":1==g||1!=I&&21!=I&&41!=I&&61!=I&&81!=I?"other":"many"},ky:Mt,lag:g=>{const y=String(g).split(".")[0];return 0==g?"zero":0!=y&&1!=y||0==g?"other":"one"},lb:Mt,lg:Mt,lij:us,lkt:hn,ln:yr,lo:hn,lt:g=>{const C=String(g).split("."),y=C[1]||"",I=Number(C[0])==g,x=I&&C[0].slice(-1),E=I&&C[0].slice(-2);return 1==x&&(E<11||E>19)?"one":x>=2&&x<=9&&(E<11||E>19)?"few":0!=y?"many":"other"},lv:g=>{const C=String(g).split("."),y=C[1]||"",I=y.length,x=Number(C[0])==g,E=x&&C[0].slice(-1),Y=x&&C[0].slice(-2),Ee=y.slice(-2),et=y.slice(-1);return x&&0==E||Y>=11&&Y<=19||2==I&&Ee>=11&&Ee<=19?"zero":1==E&&11!=Y||2==I&&1==et&&11!=Ee||2!=I&&1==et?"one":"other"},mas:Mt,mg:yr,mgo:Mt,mk:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],E=y.slice(-1),Y=y.slice(-2),Ee=I.slice(-1),et=I.slice(-2);return x&&1==E&&11!=Y||1==Ee&&11!=et?"one":"other"},ml:Mt,mn:Mt,mo:g=>{const C=String(g).split("."),y=!C[1],x=Number(C[0])==g&&C[0].slice(-2);return 1==g&&y?"one":!y||0==g||1!=g&&x>=1&&x<=19?"few":"other"},mr:Mt,ms:hn,mt:g=>{const C=String(g).split("."),I=Number(C[0])==g&&C[0].slice(-2);return 1==g?"one":2==g?"two":0==g||I>=3&&I<=10?"few":I>=11&&I<=19?"many":"other"},my:hn,nah:Mt,naq:lo,nb:Mt,nd:Mt,ne:Mt,nl:us,nn:Mt,nnh:Mt,no:Mt,nqo:hn,nr:Mt,nso:yr,ny:Mt,nyn:Mt,om:Mt,or:Mt,os:Mt,osa:hn,pa:yr,pap:Mt,pcm:Fs,pl:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-1),E=y.slice(-2);return 1==g&&I?"one":I&&x>=2&&x<=4&&(E<12||E>14)?"few":I&&1!=y&&(0==x||1==x)||I&&x>=5&&x<=9||I&&E>=12&&E<=14?"many":"other"},prg:g=>{const C=String(g).split("."),y=C[1]||"",I=y.length,x=Number(C[0])==g,E=x&&C[0].slice(-1),Y=x&&C[0].slice(-2),Ee=y.slice(-2),et=y.slice(-1);return x&&0==E||Y>=11&&Y<=19||2==I&&Ee>=11&&Ee<=19?"zero":1==E&&11!=Y||2==I&&1==et&&11!=Ee||2!=I&&1==et?"one":"other"},ps:Mt,pt:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-6);return 0==y||1==y?"one":0!=y&&0==x&&I?"many":"other"},pt_PT:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-6);return 1==g&&I?"one":0!=y&&0==x&&I?"many":"other"},rm:Mt,ro:g=>{const C=String(g).split("."),y=!C[1],x=Number(C[0])==g&&C[0].slice(-2);return 1==g&&y?"one":!y||0==g||1!=g&&x>=1&&x<=19?"few":"other"},rof:Mt,ru:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-1),E=y.slice(-2);return I&&1==x&&11!=E?"one":I&&x>=2&&x<=4&&(E<12||E>14)?"few":I&&0==x||I&&x>=5&&x<=9||I&&E>=11&&E<=14?"many":"other"},rwk:Mt,sah:hn,saq:Mt,sat:lo,sc:us,scn:us,sd:Mt,sdh:Mt,se:lo,seh:Mt,ses:hn,sg:hn,sh:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],E=y.slice(-1),Y=y.slice(-2),Ee=I.slice(-1),et=I.slice(-2);return x&&1==E&&11!=Y||1==Ee&&11!=et?"one":x&&E>=2&&E<=4&&(Y<12||Y>14)||Ee>=2&&Ee<=4&&(et<12||et>14)?"few":"other"},shi:g=>{const C=String(g).split("."),y=Number(C[0])==g;return g>=0&&g<=1?"one":y&&g>=2&&g<=10?"few":"other"},si:g=>{const C=String(g).split(".");return 0==g||1==g||0==C[0]&&1==(C[1]||"")?"one":"other"},sk:g=>{const C=String(g).split("."),y=C[0],I=!C[1];return 1==g&&I?"one":y>=2&&y<=4&&I?"few":I?"other":"many"},sl:g=>{const C=String(g).split("."),I=!C[1],x=C[0].slice(-2);return I&&1==x?"one":I&&2==x?"two":I&&(3==x||4==x)||!I?"few":"other"},sma:lo,smi:lo,smj:lo,smn:lo,sms:lo,sn:Mt,so:Mt,sq:Mt,sr:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],E=y.slice(-1),Y=y.slice(-2),Ee=I.slice(-1),et=I.slice(-2);return x&&1==E&&11!=Y||1==Ee&&11!=et?"one":x&&E>=2&&E<=4&&(Y<12||Y>14)||Ee>=2&&Ee<=4&&(et<12||et>14)?"few":"other"},ss:Mt,ssy:Mt,st:Mt,su:hn,sv:us,sw:us,syr:Mt,ta:Mt,te:Mt,teo:Mt,th:hn,ti:yr,tig:Mt,tk:Mt,tl:g=>{const C=String(g).split("."),y=C[0],I=C[1]||"",x=!C[1],E=y.slice(-1),Y=I.slice(-1);return x&&(1==y||2==y||3==y)||x&&4!=E&&6!=E&&9!=E||!x&&4!=Y&&6!=Y&&9!=Y?"one":"other"},tn:Mt,to:hn,tpi:hn,tr:Mt,ts:Mt,tzm:g=>{const C=String(g).split("."),y=Number(C[0])==g;return 0==g||1==g||y&&g>=11&&g<=99?"one":"other"},ug:Mt,uk:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-1),E=y.slice(-2);return I&&1==x&&11!=E?"one":I&&x>=2&&x<=4&&(E<12||E>14)?"few":I&&0==x||I&&x>=5&&x<=9||I&&E>=11&&E<=14?"many":"other"},und:hn,ur:us,uz:Mt,ve:Mt,vec:g=>{const C=String(g).split("."),y=C[0],I=!C[1],x=y.slice(-6);return 1==g&&I?"one":0!=y&&0==x&&I?"many":"other"},vi:hn,vo:Mt,vun:Mt,wa:yr,wae:Mt,wo:hn,xh:Mt,xog:Mt,yi:us,yo:hn,yue:hn,zh:hn,zu:Fs});const ds="zero",Rt="one",Or="two",pn="few",In="many",vt="other",je={cardinal:[Rt,vt],ordinal:[vt]},jo={cardinal:[Rt,vt],ordinal:[Rt,vt]},zr={cardinal:[vt],ordinal:[vt]},Zi={cardinal:[Rt,Or,vt],ordinal:[vt]};var Pf=Object.freeze({__proto__:null,af:je,ak:je,am:je,an:je,ar:{cardinal:[ds,Rt,Or,pn,In,vt],ordinal:[vt]},ars:{cardinal:[ds,Rt,Or,pn,In,vt],ordinal:[vt]},as:{cardinal:[Rt,vt],ordinal:[Rt,Or,pn,In,vt]},asa:je,ast:je,az:{cardinal:[Rt,vt],ordinal:[Rt,pn,In,vt]},bal:jo,be:{cardinal:[Rt,pn,In,vt],ordinal:[pn,vt]},bem:je,bez:je,bg:je,bho:je,bm:zr,bn:{cardinal:[Rt,vt],ordinal:[Rt,Or,pn,In,vt]},bo:zr,br:{cardinal:[Rt,Or,pn,In,vt],ordinal:[vt]},brx:je,bs:{cardinal:[Rt,pn,vt],ordinal:[vt]},ca:{cardinal:[Rt,In,vt],ordinal:[Rt,Or,pn,vt]},ce:je,ceb:je,cgg:je,chr:je,ckb:je,cs:{cardinal:[Rt,pn,In,vt],ordinal:[vt]},cy:{cardinal:[ds,Rt,Or,pn,In,vt],ordinal:[ds,Rt,Or,pn,In,vt]},da:je,de:je,doi:je,dsb:{cardinal:[Rt,Or,pn,vt],ordinal:[vt]},dv:je,dz:zr,ee:je,el:je,en:{cardinal:[Rt,vt],ordinal:[Rt,Or,pn,vt]},eo:je,es:{cardinal:[Rt,In,vt],ordinal:[vt]},et:je,eu:je,fa:je,ff:je,fi:je,fil:jo,fo:je,fr:{cardinal:[Rt,In,vt],ordinal:[Rt,vt]},fur:je,fy:je,ga:{cardinal:[Rt,Or,pn,In,vt],ordinal:[Rt,vt]},gd:{cardinal:[Rt,Or,pn,vt],ordinal:[Rt,Or,pn,vt]},gl:je,gsw:je,gu:{cardinal:[Rt,vt],ordinal:[Rt,Or,pn,In,vt]},guw:je,gv:{cardinal:[Rt,Or,pn,In,vt],ordinal:[vt]},ha:je,haw:je,he:Zi,hi:{cardinal:[Rt,vt],ordinal:[Rt,Or,pn,In,vt]},hnj:zr,hr:{cardinal:[Rt,pn,vt],ordinal:[vt]},hsb:{cardinal:[Rt,Or,pn,vt],ordinal:[vt]},hu:jo,hy:jo,ia:je,id:zr,ig:zr,ii:zr,io:je,is:je,it:{cardinal:[Rt,In,vt],ordinal:[In,vt]},iu:Zi,ja:zr,jbo:zr,jgo:je,jmc:je,jv:zr,jw:zr,ka:{cardinal:[Rt,vt],ordinal:[Rt,In,vt]},kab:je,kaj:je,kcg:je,kde:zr,kea:zr,kk:{cardinal:[Rt,vt],ordinal:[In,vt]},kkj:je,kl:je,km:zr,kn:je,ko:zr,ks:je,ksb:je,ksh:{cardinal:[ds,Rt,vt],ordinal:[vt]},ku:je,kw:{cardinal:[ds,Rt,Or,pn,In,vt],ordinal:[Rt,In,vt]},ky:je,lag:{cardinal:[ds,Rt,vt],ordinal:[vt]},lb:je,lg:je,lij:{cardinal:[Rt,vt],ordinal:[In,vt]},lkt:zr,ln:je,lo:{cardinal:[vt],ordinal:[Rt,vt]},lt:{cardinal:[Rt,pn,In,vt],ordinal:[vt]},lv:{cardinal:[ds,Rt,vt],ordinal:[vt]},mas:je,mg:je,mgo:je,mk:{cardinal:[Rt,vt],ordinal:[Rt,Or,In,vt]},ml:je,mn:je,mo:{cardinal:[Rt,pn,vt],ordinal:[Rt,vt]},mr:{cardinal:[Rt,vt],ordinal:[Rt,Or,pn,vt]},ms:{cardinal:[vt],ordinal:[Rt,vt]},mt:{cardinal:[Rt,Or,pn,In,vt],ordinal:[vt]},my:zr,nah:je,naq:Zi,nb:je,nd:je,ne:jo,nl:je,nn:je,nnh:je,no:je,nqo:zr,nr:je,nso:je,ny:je,nyn:je,om:je,or:{cardinal:[Rt,vt],ordinal:[Rt,Or,pn,In,vt]},os:je,osa:zr,pa:je,pap:je,pcm:je,pl:{cardinal:[Rt,pn,In,vt],ordinal:[vt]},prg:{cardinal:[ds,Rt,vt],ordinal:[vt]},ps:je,pt:{cardinal:[Rt,In,vt],ordinal:[vt]},pt_PT:{cardinal:[Rt,In,vt],ordinal:[vt]},rm:je,ro:{cardinal:[Rt,pn,vt],ordinal:[Rt,vt]},rof:je,ru:{cardinal:[Rt,pn,In,vt],ordinal:[vt]},rwk:je,sah:zr,saq:je,sat:Zi,sc:{cardinal:[Rt,vt],ordinal:[In,vt]},scn:{cardinal:[Rt,vt],ordinal:[In,vt]},sd:je,sdh:je,se:Zi,seh:je,ses:zr,sg:zr,sh:{cardinal:[Rt,pn,vt],ordinal:[vt]},shi:{cardinal:[Rt,pn,vt],ordinal:[vt]},si:je,sk:{cardinal:[Rt,pn,In,vt],ordinal:[vt]},sl:{cardinal:[Rt,Or,pn,vt],ordinal:[vt]},sma:Zi,smi:Zi,smj:Zi,smn:Zi,sms:Zi,sn:je,so:je,sq:{cardinal:[Rt,vt],ordinal:[Rt,In,vt]},sr:{cardinal:[Rt,pn,vt],ordinal:[vt]},ss:je,ssy:je,st:je,su:zr,sv:jo,sw:je,syr:je,ta:je,te:je,teo:je,th:zr,ti:je,tig:je,tk:{cardinal:[Rt,vt],ordinal:[pn,vt]},tl:jo,tn:je,to:zr,tpi:zr,tr:je,ts:je,tzm:je,ug:je,uk:{cardinal:[Rt,pn,In,vt],ordinal:[pn,vt]},und:zr,ur:je,uz:je,ve:je,vec:{cardinal:[Rt,In,vt],ordinal:[In,vt]},vi:{cardinal:[vt],ordinal:[Rt,vt]},vo:je,vun:je,wa:je,wae:je,wo:zr,xh:je,xog:je,yi:je,yo:zr,yue:zr,zh:zr,zu:je});const Jt=(g,C)=>C?"other":1==g?"one":"other",fl=(g,C)=>C?"other":0==g||1==g?"one":"other",Zl=(g,C)=>C?"other":g>=0&&g<=1?"one":"other",ho=(g,C)=>{const y=String(g).split(".");return C||1!=g||y[1]?"other":"one"},kn=(g,C)=>"other",gl=(g,C)=>C?"other":1==g?"one":2==g?"two":"other";var P1=Object.freeze({__proto__:null,af:Jt,ak:fl,am:Zl,an:Jt,ar:(g,C)=>{const y=String(g).split("."),x=Number(y[0])==g&&y[0].slice(-2);return C?"other":0==g?"zero":1==g?"one":2==g?"two":x>=3&&x<=10?"few":x>=11&&x<=99?"many":"other"},ars:(g,C)=>{const y=String(g).split("."),x=Number(y[0])==g&&y[0].slice(-2);return C?"other":0==g?"zero":1==g?"one":2==g?"two":x>=3&&x<=10?"few":x>=11&&x<=99?"many":"other"},as:(g,C)=>C?1==g||5==g||7==g||8==g||9==g||10==g?"one":2==g||3==g?"two":4==g?"few":6==g?"many":"other":g>=0&&g<=1?"one":"other",asa:Jt,ast:ho,az:(g,C)=>{const I=String(g).split(".")[0],x=I.slice(-1),E=I.slice(-2),Y=I.slice(-3);return C?1==x||2==x||5==x||7==x||8==x||20==E||50==E||70==E||80==E?"one":3==x||4==x||100==Y||200==Y||300==Y||400==Y||500==Y||600==Y||700==Y||800==Y||900==Y?"few":0==I||6==x||40==E||60==E||90==E?"many":"other":1==g?"one":"other"},bal:(g,C)=>1==g?"one":"other",be:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g,x=I&&y[0].slice(-1),E=I&&y[0].slice(-2);return C?2!=x&&3!=x||12==E||13==E?"other":"few":1==x&&11!=E?"one":x>=2&&x<=4&&(E<12||E>14)?"few":I&&0==x||x>=5&&x<=9||E>=11&&E<=14?"many":"other"},bem:Jt,bez:Jt,bg:Jt,bho:fl,bm:kn,bn:(g,C)=>C?1==g||5==g||7==g||8==g||9==g||10==g?"one":2==g||3==g?"two":4==g?"few":6==g?"many":"other":g>=0&&g<=1?"one":"other",bo:kn,br:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g,x=I&&y[0].slice(-1),E=I&&y[0].slice(-2),Y=I&&y[0].slice(-6);return C?"other":1==x&&11!=E&&71!=E&&91!=E?"one":2==x&&12!=E&&72!=E&&92!=E?"two":(3==x||4==x||9==x)&&(E<10||E>19)&&(E<70||E>79)&&(E<90||E>99)?"few":0!=g&&I&&0==Y?"many":"other"},brx:Jt,bs:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",E=!y[1],Y=I.slice(-1),Ee=I.slice(-2),et=x.slice(-1),Bt=x.slice(-2);return C?"other":E&&1==Y&&11!=Ee||1==et&&11!=Bt?"one":E&&Y>=2&&Y<=4&&(Ee<12||Ee>14)||et>=2&&et<=4&&(Bt<12||Bt>14)?"few":"other"},ca:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],E=I.slice(-6);return C?1==g||3==g?"one":2==g?"two":4==g?"few":"other":1==g&&x?"one":0!=I&&0==E&&x?"many":"other"},ce:Jt,ceb:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",E=!y[1],Y=I.slice(-1),Ee=x.slice(-1);return C?"other":E&&(1==I||2==I||3==I)||E&&4!=Y&&6!=Y&&9!=Y||!E&&4!=Ee&&6!=Ee&&9!=Ee?"one":"other"},cgg:Jt,chr:Jt,ckb:Jt,cs:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1];return C?"other":1==g&&x?"one":I>=2&&I<=4&&x?"few":x?"other":"many"},cy:(g,C)=>C?0==g||7==g||8==g||9==g?"zero":1==g?"one":2==g?"two":3==g||4==g?"few":5==g||6==g?"many":"other":0==g?"zero":1==g?"one":2==g?"two":3==g?"few":6==g?"many":"other",da:(g,C)=>{const y=String(g).split("."),I=y[0],x=Number(y[0])==g;return C||1!=g&&(x||0!=I&&1!=I)?"other":"one"},de:ho,doi:Zl,dsb:(g,C)=>{const y=String(g).split("."),x=y[1]||"",E=!y[1],Y=y[0].slice(-2),Ee=x.slice(-2);return C?"other":E&&1==Y||1==Ee?"one":E&&2==Y||2==Ee?"two":E&&(3==Y||4==Y)||3==Ee||4==Ee?"few":"other"},dv:Jt,dz:kn,ee:Jt,el:Jt,en:(g,C)=>{const y=String(g).split("."),I=!y[1],x=Number(y[0])==g,E=x&&y[0].slice(-1),Y=x&&y[0].slice(-2);return C?1==E&&11!=Y?"one":2==E&&12!=Y?"two":3==E&&13!=Y?"few":"other":1==g&&I?"one":"other"},eo:Jt,es:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],E=I.slice(-6);return C?"other":1==g?"one":0!=I&&0==E&&x?"many":"other"},et:ho,eu:Jt,fa:Zl,ff:(g,C)=>C?"other":g>=0&&g<2?"one":"other",fi:ho,fil:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",E=!y[1],Y=I.slice(-1),Ee=x.slice(-1);return C?1==g?"one":"other":E&&(1==I||2==I||3==I)||E&&4!=Y&&6!=Y&&9!=Y||!E&&4!=Ee&&6!=Ee&&9!=Ee?"one":"other"},fo:Jt,fr:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],E=I.slice(-6);return C?1==g?"one":"other":g>=0&&g<2?"one":0!=I&&0==E&&x?"many":"other"},fur:Jt,fy:ho,ga:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g;return C?1==g?"one":"other":1==g?"one":2==g?"two":I&&g>=3&&g<=6?"few":I&&g>=7&&g<=10?"many":"other"},gd:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g;return C?1==g||11==g?"one":2==g||12==g?"two":3==g||13==g?"few":"other":1==g||11==g?"one":2==g||12==g?"two":I&&g>=3&&g<=10||I&&g>=13&&g<=19?"few":"other"},gl:ho,gsw:Jt,gu:(g,C)=>C?1==g?"one":2==g||3==g?"two":4==g?"few":6==g?"many":"other":g>=0&&g<=1?"one":"other",guw:fl,gv:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],E=I.slice(-1),Y=I.slice(-2);return C?"other":x&&1==E?"one":x&&2==E?"two":!x||0!=Y&&20!=Y&&40!=Y&&60!=Y&&80!=Y?x?"other":"many":"few"},ha:Jt,haw:Jt,he:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1];return C?"other":1==I&&x||0==I&&!x?"one":2==I&&x?"two":"other"},hi:(g,C)=>C?1==g?"one":2==g||3==g?"two":4==g?"few":6==g?"many":"other":g>=0&&g<=1?"one":"other",hnj:kn,hr:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",E=!y[1],Y=I.slice(-1),Ee=I.slice(-2),et=x.slice(-1),Bt=x.slice(-2);return C?"other":E&&1==Y&&11!=Ee||1==et&&11!=Bt?"one":E&&Y>=2&&Y<=4&&(Ee<12||Ee>14)||et>=2&&et<=4&&(Bt<12||Bt>14)?"few":"other"},hsb:(g,C)=>{const y=String(g).split("."),x=y[1]||"",E=!y[1],Y=y[0].slice(-2),Ee=x.slice(-2);return C?"other":E&&1==Y||1==Ee?"one":E&&2==Y||2==Ee?"two":E&&(3==Y||4==Y)||3==Ee||4==Ee?"few":"other"},hu:(g,C)=>C?1==g||5==g?"one":"other":1==g?"one":"other",hy:(g,C)=>C?1==g?"one":"other":g>=0&&g<2?"one":"other",ia:ho,id:kn,ig:kn,ii:kn,io:ho,is:(g,C)=>{const y=String(g).split("."),I=y[0],x=(y[1]||"").replace(/0+$/,""),E=Number(y[0])==g,Y=I.slice(-1),Ee=I.slice(-2);return C?"other":E&&1==Y&&11!=Ee||x%10==1&&x%100!=11?"one":"other"},it:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],E=I.slice(-6);return C?11==g||8==g||80==g||800==g?"many":"other":1==g&&x?"one":0!=I&&0==E&&x?"many":"other"},iu:gl,ja:kn,jbo:kn,jgo:Jt,jmc:Jt,jv:kn,jw:kn,ka:(g,C)=>{const I=String(g).split(".")[0],x=I.slice(-2);return C?1==I?"one":0==I||x>=2&&x<=20||40==x||60==x||80==x?"many":"other":1==g?"one":"other"},kab:(g,C)=>C?"other":g>=0&&g<2?"one":"other",kaj:Jt,kcg:Jt,kde:kn,kea:kn,kk:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g,x=I&&y[0].slice(-1);return C?6==x||9==x||I&&0==x&&0!=g?"many":"other":1==g?"one":"other"},kkj:Jt,kl:Jt,km:kn,kn:Zl,ko:kn,ks:Jt,ksb:Jt,ksh:(g,C)=>C?"other":0==g?"zero":1==g?"one":"other",ku:Jt,kw:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g,x=I&&y[0].slice(-2),E=I&&y[0].slice(-3),Y=I&&y[0].slice(-5),Ee=I&&y[0].slice(-6);return C?I&&g>=1&&g<=4||x>=1&&x<=4||x>=21&&x<=24||x>=41&&x<=44||x>=61&&x<=64||x>=81&&x<=84?"one":5==g||5==x?"many":"other":0==g?"zero":1==g?"one":2==x||22==x||42==x||62==x||82==x||I&&0==E&&(Y>=1e3&&Y<=2e4||4e4==Y||6e4==Y||8e4==Y)||0!=g&&1e5==Ee?"two":3==x||23==x||43==x||63==x||83==x?"few":1==g||1!=x&&21!=x&&41!=x&&61!=x&&81!=x?"other":"many"},ky:Jt,lag:(g,C)=>{const I=String(g).split(".")[0];return C?"other":0==g?"zero":0!=I&&1!=I||0==g?"other":"one"},lb:Jt,lg:Jt,lij:(g,C)=>{const y=String(g).split("."),I=!y[1],x=Number(y[0])==g;return C?11==g||8==g||x&&g>=80&&g<=89||x&&g>=800&&g<=899?"many":"other":1==g&&I?"one":"other"},lkt:kn,ln:fl,lo:(g,C)=>C&&1==g?"one":"other",lt:(g,C)=>{const y=String(g).split("."),I=y[1]||"",x=Number(y[0])==g,E=x&&y[0].slice(-1),Y=x&&y[0].slice(-2);return C?"other":1==E&&(Y<11||Y>19)?"one":E>=2&&E<=9&&(Y<11||Y>19)?"few":0!=I?"many":"other"},lv:(g,C)=>{const y=String(g).split("."),I=y[1]||"",x=I.length,E=Number(y[0])==g,Y=E&&y[0].slice(-1),Ee=E&&y[0].slice(-2),et=I.slice(-2),Bt=I.slice(-1);return C?"other":E&&0==Y||Ee>=11&&Ee<=19||2==x&&et>=11&&et<=19?"zero":1==Y&&11!=Ee||2==x&&1==Bt&&11!=et||2!=x&&1==Bt?"one":"other"},mas:Jt,mg:fl,mgo:Jt,mk:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",E=!y[1],Y=I.slice(-1),Ee=I.slice(-2),et=x.slice(-1),Bt=x.slice(-2);return C?1==Y&&11!=Ee?"one":2==Y&&12!=Ee?"two":7!=Y&&8!=Y||17==Ee||18==Ee?"other":"many":E&&1==Y&&11!=Ee||1==et&&11!=Bt?"one":"other"},ml:Jt,mn:Jt,mo:(g,C)=>{const y=String(g).split("."),I=!y[1],E=Number(y[0])==g&&y[0].slice(-2);return C?1==g?"one":"other":1==g&&I?"one":!I||0==g||1!=g&&E>=1&&E<=19?"few":"other"},mr:(g,C)=>C?1==g?"one":2==g||3==g?"two":4==g?"few":"other":1==g?"one":"other",ms:(g,C)=>C&&1==g?"one":"other",mt:(g,C)=>{const y=String(g).split("."),x=Number(y[0])==g&&y[0].slice(-2);return C?"other":1==g?"one":2==g?"two":0==g||x>=3&&x<=10?"few":x>=11&&x<=19?"many":"other"},my:kn,nah:Jt,naq:gl,nb:Jt,nd:Jt,ne:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g;return C?I&&g>=1&&g<=4?"one":"other":1==g?"one":"other"},nl:ho,nn:Jt,nnh:Jt,no:Jt,nqo:kn,nr:Jt,nso:fl,ny:Jt,nyn:Jt,om:Jt,or:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g;return C?1==g||5==g||I&&g>=7&&g<=9?"one":2==g||3==g?"two":4==g?"few":6==g?"many":"other":1==g?"one":"other"},os:Jt,osa:kn,pa:fl,pap:Jt,pcm:Zl,pl:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],E=I.slice(-1),Y=I.slice(-2);return C?"other":1==g&&x?"one":x&&E>=2&&E<=4&&(Y<12||Y>14)?"few":x&&1!=I&&(0==E||1==E)||x&&E>=5&&E<=9||x&&Y>=12&&Y<=14?"many":"other"},prg:(g,C)=>{const y=String(g).split("."),I=y[1]||"",x=I.length,E=Number(y[0])==g,Y=E&&y[0].slice(-1),Ee=E&&y[0].slice(-2),et=I.slice(-2),Bt=I.slice(-1);return C?"other":E&&0==Y||Ee>=11&&Ee<=19||2==x&&et>=11&&et<=19?"zero":1==Y&&11!=Ee||2==x&&1==Bt&&11!=et||2!=x&&1==Bt?"one":"other"},ps:Jt,pt:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],E=I.slice(-6);return C?"other":0==I||1==I?"one":0!=I&&0==E&&x?"many":"other"},pt_PT:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],E=I.slice(-6);return C?"other":1==g&&x?"one":0!=I&&0==E&&x?"many":"other"},rm:Jt,ro:(g,C)=>{const y=String(g).split("."),I=!y[1],E=Number(y[0])==g&&y[0].slice(-2);return C?1==g?"one":"other":1==g&&I?"one":!I||0==g||1!=g&&E>=1&&E<=19?"few":"other"},rof:Jt,ru:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],E=I.slice(-1),Y=I.slice(-2);return C?"other":x&&1==E&&11!=Y?"one":x&&E>=2&&E<=4&&(Y<12||Y>14)?"few":x&&0==E||x&&E>=5&&E<=9||x&&Y>=11&&Y<=14?"many":"other"},rwk:Jt,sah:kn,saq:Jt,sat:gl,sc:(g,C)=>{const y=String(g).split(".");return C?11==g||8==g||80==g||800==g?"many":"other":1!=g||y[1]?"other":"one"},scn:(g,C)=>{const y=String(g).split(".");return C?11==g||8==g||80==g||800==g?"many":"other":1!=g||y[1]?"other":"one"},sd:Jt,sdh:Jt,se:gl,seh:Jt,ses:kn,sg:kn,sh:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",E=!y[1],Y=I.slice(-1),Ee=I.slice(-2),et=x.slice(-1),Bt=x.slice(-2);return C?"other":E&&1==Y&&11!=Ee||1==et&&11!=Bt?"one":E&&Y>=2&&Y<=4&&(Ee<12||Ee>14)||et>=2&&et<=4&&(Bt<12||Bt>14)?"few":"other"},shi:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g;return C?"other":g>=0&&g<=1?"one":I&&g>=2&&g<=10?"few":"other"},si:(g,C)=>{const y=String(g).split(".");return C?"other":0==g||1==g||0==y[0]&&1==(y[1]||"")?"one":"other"},sk:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1];return C?"other":1==g&&x?"one":I>=2&&I<=4&&x?"few":x?"other":"many"},sl:(g,C)=>{const y=String(g).split("."),x=!y[1],E=y[0].slice(-2);return C?"other":x&&1==E?"one":x&&2==E?"two":x&&(3==E||4==E)||!x?"few":"other"},sma:gl,smi:gl,smj:gl,smn:gl,sms:gl,sn:Jt,so:Jt,sq:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g,x=I&&y[0].slice(-1),E=I&&y[0].slice(-2);return C?1==g?"one":4==x&&14!=E?"many":"other":1==g?"one":"other"},sr:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",E=!y[1],Y=I.slice(-1),Ee=I.slice(-2),et=x.slice(-1),Bt=x.slice(-2);return C?"other":E&&1==Y&&11!=Ee||1==et&&11!=Bt?"one":E&&Y>=2&&Y<=4&&(Ee<12||Ee>14)||et>=2&&et<=4&&(Bt<12||Bt>14)?"few":"other"},ss:Jt,ssy:Jt,st:Jt,su:kn,sv:(g,C)=>{const y=String(g).split("."),I=!y[1],x=Number(y[0])==g,E=x&&y[0].slice(-1),Y=x&&y[0].slice(-2);return C?1!=E&&2!=E||11==Y||12==Y?"other":"one":1==g&&I?"one":"other"},sw:ho,syr:Jt,ta:Jt,te:Jt,teo:Jt,th:kn,ti:fl,tig:Jt,tk:(g,C)=>{const y=String(g).split("."),x=Number(y[0])==g&&y[0].slice(-1);return C?6==x||9==x||10==g?"few":"other":1==g?"one":"other"},tl:(g,C)=>{const y=String(g).split("."),I=y[0],x=y[1]||"",E=!y[1],Y=I.slice(-1),Ee=x.slice(-1);return C?1==g?"one":"other":E&&(1==I||2==I||3==I)||E&&4!=Y&&6!=Y&&9!=Y||!E&&4!=Ee&&6!=Ee&&9!=Ee?"one":"other"},tn:Jt,to:kn,tpi:kn,tr:Jt,ts:Jt,tzm:(g,C)=>{const y=String(g).split("."),I=Number(y[0])==g;return C?"other":0==g||1==g||I&&g>=11&&g<=99?"one":"other"},ug:Jt,uk:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],E=Number(y[0])==g,Y=E&&y[0].slice(-1),Ee=E&&y[0].slice(-2),et=I.slice(-1),Bt=I.slice(-2);return C?3==Y&&13!=Ee?"few":"other":x&&1==et&&11!=Bt?"one":x&&et>=2&&et<=4&&(Bt<12||Bt>14)?"few":x&&0==et||x&&et>=5&&et<=9||x&&Bt>=11&&Bt<=14?"many":"other"},und:kn,ur:ho,uz:Jt,ve:Jt,vec:(g,C)=>{const y=String(g).split("."),I=y[0],x=!y[1],E=I.slice(-6);return C?11==g||8==g||80==g||800==g?"many":"other":1==g&&x?"one":0!=I&&0==E&&x?"many":"other"},vi:(g,C)=>C&&1==g?"one":"other",vo:Jt,vun:Jt,wa:fl,wae:Jt,wo:kn,xh:Jt,xog:Jt,yi:ho,yo:kn,yue:kn,zh:kn,zu:Zl});function Hc(g){if("string"!=typeof g||g.length<2)throw new RangeError("Invalid language tag: ".concat(g));if(g.startsWith("pt-PT"))return"pt-PT";var C=g.match(/.+?(?=[-_])/);return C?C[0]:g}function gh(g){if("function"==typeof g){var C=Hc(g.name);return{isDefault:!1,id:Xe(C),lc:C,locale:g.name,getPlural:g,cardinals:g.cardinals||[],ordinals:g.ordinals||[]}}var y=Hc(g),I=Xe(y);return function zc(g){return g in P1}(I)?{isDefault:!0,id:I,lc:y,locale:g,getCardinal:Zo[I],getPlural:P1[I],cardinals:Pf[I].cardinal,ordinals:Pf[I].ordinal}:null}function Bm(g){return Xe(Hc(g))in P1}var Nm=function(){function g(C,y){if(this.plurals=[],this.options=Object.assign({biDiSupport:!1,currency:"USD",customFormatters:{},localeCodeFromKey:null,requireAllArguments:!1,returnType:"string",strict:y&&y.strictNumberSign||!1,strictPluralKeys:!0},y),"*"===C?this.plurals=function zd(g){var C=Object.keys(P1).filter(function(y){return y!==g});return C.unshift(g),C.map(gh)}(g.defaultLocale):Array.isArray(C)?this.plurals=C.map(gh).filter(Boolean):C&&(I=gh(C))&&(this.plurals=[I]),0===this.plurals.length){var I=gh(g.defaultLocale);this.plurals=[I]}}return g.escape=function(C,y){var I=y?/[#{}]/g:/[{}]/g;return String(C).replace(I,"'$&'")},g.supportedLocalesOf=function(C){return(Array.isArray(C)?C:[C]).filter(Bm)},g.prototype.resolvedOptions=function(){return Ue(Ue({},this.options),{locale:this.plurals[0].locale,plurals:this.plurals})},g.prototype.compile=function(C){var y,I,x=new Ns(this.options),E="return "+x.compile(C,this.plurals[0]),Y=[],Ee=[];try{for(var et=K(Object.entries(x.runtime)),Bt=et.next();!Bt.done;Bt=et.next()){var vn=Z(Bt.value,2),Yn=vn[1];Y.push(vn[0]),Ee.push(Yn)}}catch(Gr){y={error:Gr}}finally{try{Bt&&!Bt.done&&(I=et.return)&&I.call(et)}finally{if(y)throw y.error}}return(new(Function.bind.apply(Function,ve(ve([void 0],Z(Y),!1),[E],!1)))).apply(void 0,ve([],Z(Ee),!1))},g.defaultLocale="en",g}();return Nm}()},7059:We=>{"use strict";var L,Ue=Object.defineProperty,K=Object.getOwnPropertyDescriptor,Z=Object.getOwnPropertyNames,ve=Object.prototype.hasOwnProperty,ne={};((L,V)=>{for(var $ in V)Ue(L,$,{get:V[$],enumerable:!0})})(ne,{XmlCdata:()=>J,XmlComment:()=>$e,XmlDeclaration:()=>re,XmlDocument:()=>Be,XmlDocumentType:()=>Pe,XmlElement:()=>xe,XmlError:()=>te,XmlNode:()=>ue,XmlProcessingInstruction:()=>ye,XmlText:()=>Le,parseXml:()=>xt}),We.exports=(L=ne,((L,V,$,Ae)=>{if(V&&"object"==typeof V||"function"==typeof V)for(let Ne of Z(V))!ve.call(L,Ne)&&undefined!==Ne&&Ue(L,Ne,{get:()=>V[Ne],enumerable:!(Ae=K(V,Ne))||Ae.enumerable});return L})(Ue({},"__esModule",{value:!0}),L));var k=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=class{constructor(L){if(this.k=this.u(L,!0),this.d=0,this.length=L.length,this.l=this.k!==this.length,this.h=L,this.l){let V=[];for(let $=0,Ae=0;Ae<this.k;++Ae)V[Ae]=$,$+=L.codePointAt($)>65535?2:1;this.A=V}}get B(){return this.d>=this.k}u(L,V=this.l){return V?L.replace(k,"_").length:L.length}p(L=1){this.d=Math.min(this.k,this.d+L)}f(L=this.d){var V;return this.l?null!=(V=this.A[L])?V:1/0:L}G(L=1){let V=this.m(L);return this.p(L),V}v(L){let V=this.f(),$=this.h.slice(V,V+L);return this.p(this.u($)),$}w(L){let{length:V,l:$,h:Ae}=this,Ne=this.f(),ht=Ne;if($)for(;ht<V;){let Ye=Ae[ht],mt=Ye>="\ud800"&&Ye<="\udbff";if(mt&&(Ye+=Ae[ht+1]),!L(Ye))break;ht+=mt?2:1}else for(;ht<V&&L(Ae[ht]);)++ht;return this.v(ht-Ne)}b(L){let{length:V}=L,$=this.f();return L===this.h.slice($,$+V)?(this.p(1===V?1:this.u(L)),L):""}x(L){let V=this.h.slice(this.f()).search(L);return V>0?this.v(V):""}s(L){let V=this.f(),$=this.h.indexOf(L,V);return $>0?this.v($-V):""}m(L=1){let{d:V,h:$}=this;return this.l?$.slice(this.f(V),this.f(V+L)):$.slice(V,V+L)}n(L=0){this.d=L>=0?Math.min(this.k,L):Math.max(0,this.d+L)}},Me=/["&<]/,he=/['&<]/,be=/\r\n|[\n\r\t]/g,j=/<|&|]]>/,W=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function se(L){let V=L.codePointAt(0);return V>=97&&V<=122||V>=65&&V<=90||V>=48&&V<=57||45===V||46===V||183===V||V>=768&&V<=879||8255===V||8256===V||ge(L,V)}function ge(L,V=L.codePointAt(0)){return V>=97&&V<=122||V>=65&&V<=90||58===V||95===V||V>=192&&V<=214||V>=216&&V<=246||V>=248&&V<=767||V>=880&&V<=893||V>=895&&V<=8191||8204===V||8205===V||V>=8304&&V<=8591||V>=11264&&V<=12271||V>=12289&&V<=55295||V>=63744&&V<=64975||V>=65008&&V<=65533||V>=65536&&V<=983039}function oe(L){return"#"===L||se(L)}function X(L){let V=L.codePointAt(0);return 32===V||9===V||10===V||13===V}function D(L){return L>=32&&L<=55295||10===L||9===L||13===L||L>=57344&&L<=65533||L>=65536&&L<=1114111}var ae=(()=>{let L=class YR{constructor(){this.parent=null,this.start=-1,this.end=-1}get document(){var $,Ae;return null!=(Ae=null==($=this.parent)?void 0:$.document)?Ae:null}get isRootNode(){return null!==this.parent&&this.parent===this.document&&this.type===YR.TYPE_ELEMENT}get preserveWhitespace(){var $;return!(null==($=this.parent)||!$.preserveWhitespace)}get type(){return""}toJSON(){let $={type:this.type};return this.isRootNode&&($.isRootNode=!0),this.preserveWhitespace&&($.preserveWhitespace=!0),-1!==this.start&&($.start=this.start,$.end=this.end),$}};return L.TYPE_CDATA="cdata",L.TYPE_COMMENT="comment",L.TYPE_DOCUMENT="document",L.TYPE_DOCUMENT_TYPE="doctype",L.TYPE_ELEMENT="element",L.TYPE_PROCESSING_INSTRUCTION="pi",L.TYPE_TEXT="text",L.TYPE_XML_DECLARATION="xmldecl",L})(),ue=ae,Le=class extends ue{constructor(L=""){super(),this.text=L}get type(){return ue.TYPE_TEXT}toJSON(){return Object.assign(ue.prototype.toJSON.call(this),{text:this.text})}},J=class extends Le{get type(){return ue.TYPE_CDATA}},$e=class extends ue{constructor(L=""){super(),this.content=L}get type(){return ue.TYPE_COMMENT}toJSON(){return Object.assign(ue.prototype.toJSON.call(this),{content:this.content})}},re=class extends ue{constructor(L,V,$){super(),this.version=L,this.encoding=V??null,this.standalone=$??null}get type(){return ue.TYPE_XML_DECLARATION}toJSON(){let L=ue.prototype.toJSON.call(this);L.version=this.version;for(let V of["encoding","standalone"])null!==this[V]&&(L[V]=this[V]);return L}},xe=class KR extends ue{constructor(V,$=Object.create(null),Ae=[]){super(),this.name=V,this.attributes=$,this.children=Ae}get isEmpty(){return 0===this.children.length}get preserveWhitespace(){let V=this;for(;V instanceof KR;){if("xml:space"in V.attributes)return"preserve"===V.attributes["xml:space"];V=V.parent}return!1}get text(){return this.children.map(V=>"text"in V?V.text:"").join("")}get type(){return ue.TYPE_ELEMENT}toJSON(){return Object.assign(ue.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(V=>V.toJSON())})}},Be=class extends ue{constructor(L=[]){super(),this.children=L}get document(){return this}get root(){for(let L of this.children)if(L instanceof xe)return L;return null}get text(){return this.children.map(L=>"text"in L?L.text:"").join("")}get type(){return ue.TYPE_DOCUMENT}toJSON(){return Object.assign(ue.prototype.toJSON.call(this),{children:this.children.map(L=>L.toJSON())})}},Pe=class extends ue{constructor(L,V,$,Ae){super(),this.name=L,this.publicId=V??null,this.systemId=$??null,this.internalSubset=Ae??null}get type(){return ue.TYPE_DOCUMENT_TYPE}toJSON(){let L=ue.prototype.toJSON.call(this);L.name=this.name;for(let V of["publicId","systemId","internalSubset"])null!==this[V]&&(L[V]=this[V]);return L}},te=class extends Error{constructor(L,V,$){let Ae=1,Ne="",ht=1;for(let Wt=0;Wt<V;++Wt){let Ut=$[Wt];"\n"===Ut?(Ae=1,Ne="",ht+=1):(Ae+=1,Ne+=Ut)}let Ye=$.indexOf("\n",V);Ne+=-1===Ye?$.slice(V):$.slice(V,Ye);let mt=0;Ne.length>50&&(Ae<40?Ne=Ne.slice(0,50):(mt=Ae-20,Ne=Ne.slice(mt,Ae+30))),super(`${L} (line ${ht}, column ${Ae})\n  ${Ne}\n`+" ".repeat(Ae-mt+1)+"^\n"),this.column=Ae,this.excerpt=Ne,this.line=ht,this.name="XmlError",this.pos=V}},ye=class extends ue{constructor(L,V=""){super(),this.name=L,this.content=V}get type(){return ue.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(ue.prototype.toJSON.call(this),{name:this.name,content:this.content})}},wt=class{constructor(L,V={}){let $=this.document=new Be;this.j=$,this.g=V,this.c=new f(L),this.g.includeOffsets&&($.start=0,$.end=L.length),this.parse()}i(L,V){return L.parent=this.j,this.g.includeOffsets&&(L.start=this.c.f(V),L.end=this.c.f()),this.j.children.push(L),!0}y(L,V){let{children:$}=this.j,{length:Ae}=$;if(L=Pt(L),Ae>0){let Ne=$[Ae-1];if(Ne?.type===ue.TYPE_TEXT){let ht=Ne;return ht.text+=L,this.g.includeOffsets&&(ht.end=this.c.f()),!0}}return this.i(new Le(L),V)}H(){let L=Object.create(null);for(;this.e();){let V=this.q();if(!V)break;let $=this.t()&&this.I();if(!1===$)throw this.a("Attribute value expected");if(V in L)throw this.a(`Duplicate attribute: ${V}`);if("xml:space"===V&&"default"!==$&&"preserve"!==$)throw this.a('Value of the `xml:space` attribute must be "default" or "preserve"');L[V]=$}if(this.g.sortAttributes){let V=Object.keys(L).sort(),$=Object.create(null);for(let Ae=0;Ae<V.length;++Ae){let Ne=V[Ae];$[Ne]=L[Ne]}L=$}return L}I(){let{c:L}=this,V=L.m();if('"'!==V&&"'"!==V)return!1;L.p();let $,Ae=!1,Ne="",ht='"'===V?Me:he;e:for(;!L.B;)switch($=L.x(ht),$&&(this.o($),Ne+=$.replace(be," ")),L.m()){case V:Ae=!0;break e;case"&":Ne+=this.C();continue;case"<":throw this.a("Unescaped `<` is not allowed in an attribute value");default:break e}if(!Ae)throw this.a("Unclosed attribute");return L.p(),Ne}J(){let{c:L}=this,V=L.d;if(!L.b("<![CDATA["))return!1;let $=L.s("]]>");if(this.o($),!L.b("]]>"))throw this.a("Unclosed CDATA section");return this.g.preserveCdata?this.i(new J(Pt($)),V):this.y($,V)}K(){let{c:L}=this,V=L.d,$=L.x(j);if(!$)return!1;if(this.o($),"]]>"===L.m(3))throw this.a("Element content may not contain the CDATA section close delimiter `]]>`");return this.y($,V)}D(){let{c:L}=this,V=L.d;if(!L.b("\x3c!--"))return!1;let $=L.s("--");if(this.o($),!L.b("--\x3e"))throw"--"===L.m(2)?this.a("The string `--` isn't allowed inside a comment"):this.a("Unclosed comment");return!this.g.preserveComments||this.i(new $e(Pt($)),V)}L(){let L=this.c.d,V=this.C();return!!V&&this.y(V,L)}M(){let{c:L}=this,V=L.d;if(!L.b("<!DOCTYPE"))return!1;let Ae,Ne,ht,$=this.e()&&this.q();if(!$)throw this.a("Expected a name");if(this.e()){if(L.b("PUBLIC")){if(Ae=this.e()&&this.N(),!1===Ae)throw this.a("Expected a public identifier");this.e()}if(void 0!==Ae||L.b("SYSTEM")){if(this.e(),Ne=this.r(),!1===Ne)throw this.a("Expected a system identifier");this.e()}}if(L.b("[")){if(ht=L.x(/\][\x20\t\r\n]*>/),!L.b("]"))throw this.a("Unclosed internal subset");this.e()}if(!L.b(">"))throw this.a("Unclosed doctype declaration");return!this.g.preserveDocumentType||this.i(new Pe($,Ae,Ne,ht),V)}E(){let{c:L}=this,V=L.d;if(!L.b("<"))return!1;let $=this.q();if(!$)return L.n(V),!1;let Ae=this.H(),Ne=!!L.b("/>"),ht=new xe($,Ae);if(ht.parent=this.j,!Ne){if(!L.b(">"))throw this.a(`Unclosed start tag for element \`${$}\``);this.j=ht;do{this.K()}while(this.E()||this.L()||this.J()||this.F()||this.D());let mt,Ye=L.d;if(!L.b("</")||!(mt=this.q())||mt!==$)throw L.n(Ye),this.a(`Missing end tag for element ${$}`);if(this.e(),!L.b(">"))throw this.a(`Unclosed end tag for element ${$}`);this.j=ht.parent}return this.i(ht,V)}t(){return this.e(),!!this.c.b("=")&&(this.e(),!0)}z(){return this.D()||this.F()||this.e()}q(){return ge(this.c.m())?this.c.w(se):""}F(){let{c:L}=this,V=L.d;if(!L.b("<?"))return!1;let $=this.q();if(!$)throw this.a("Invalid processing instruction");if("xml"===$.toLowerCase())throw L.n(V),this.a("XML declaration isn't allowed here");if(!this.e()){if(L.b("?>"))return this.i(new ye($),V);throw this.a("Whitespace is required after a processing instruction name")}let Ae=L.s("?>");if(this.o(Ae),!L.b("?>"))throw this.a("Unterminated processing instruction");return this.i(new ye($,Pt(Ae)),V)}O(){let{c:L}=this,V=L.d;for(this.P();this.z(););if(this.M())for(;this.z(););return V<L.d}N(){let L=this.c.d,V=this.r();if(!1!==V&&!/^[-\x20\r\na-zA-Z0-9'()+,./:=?;!*#@$_%]*$/.test(V))throw this.c.n(L),this.a("Invalid character in public identifier");return V}C(){let{c:L}=this;if(!L.b("&"))return!1;let $,V=L.w(oe);if(";"!==L.G())throw this.a("Unterminated reference (a reference must end with `;`)");if("#"===V[0]){let Ae="x"===V[1]?parseInt(V.slice(2),16):parseInt(V.slice(1),10);if(isNaN(Ae))throw this.a("Invalid character reference");if(!D(Ae))throw this.a("Character reference resolves to an invalid character");$=String.fromCodePoint(Ae)}else if($=W[V],void 0===$){let{ignoreUndefinedEntities:Ae,resolveUndefinedEntity:Ne}=this.g,ht=`&${V};`;if(Ne){let Ye=Ne(ht);if(null!=Ye){let mt=typeof Ye;if("string"!==mt)throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${mt}`);return Ye}}if(Ae)return ht;throw L.n(-ht.length),this.a(`Named entity isn't defined: ${ht}`)}return $}r(){let{c:L}=this,V=L.b('"')||L.b("'");if(!V)return!1;let $=L.s(V);if(this.o($),!L.b(V))throw this.a("Missing end quote");return $}e(){return!!this.c.w(X)}P(){let{c:L}=this,V=L.d;if(!L.b("<?xml"))return!1;if(!this.e())throw this.a("Invalid XML declaration");let Ae,Ne,$=!!L.b("version")&&this.t()&&this.r();if(!1===$)throw this.a("XML version is missing or invalid");if(!/^1\.[0-9]+$/.test($))throw this.a("Invalid character in version number");if(this.e()){if(Ae=!!L.b("encoding")&&this.t()&&this.r(),Ae){if(!/^[A-Za-z][\w.-]*$/.test(Ae))throw this.a("Invalid character in encoding name");this.e()}if(Ne=!!L.b("standalone")&&this.t()&&this.r(),Ne){if("yes"!==Ne&&"no"!==Ne)throw this.a('Only "yes" and "no" are permitted as values of `standalone`');this.e()}}if(!L.b("?>"))throw this.a("Invalid or unclosed XML declaration");return!this.g.preserveXmlDeclaration||this.i(new re($,Ae||void 0,Ne||void 0),V)}a(L){let{c:V}=this;return new te(L,V.d,V.h)}parse(){if(this.c.b("\ufeff"),this.O(),!this.E())throw this.a("Root element is missing or invalid");for(;this.z(););if(!this.c.B)throw this.a("Extra content at the end of the document")}o(L){let{length:V}=L;for(let $=0;$<V;++$){let Ae=L.codePointAt($);if(!D(Ae))throw this.c.n(-([...L].length-$)),this.a("Invalid character");Ae>65535&&($+=1)}}};function Pt(L){let V=0;for(;-1!==(V=L.indexOf("\r",V));)L="\n"===L[V+1]?L.slice(0,V)+L.slice(V+1):L.slice(0,V)+"\n"+L.slice(V+1);return L}function xt(L,V){return new wt(L,V).document}},2834:(We,Ue)=>{"use strict";function Z(Se,ne){return void 0===ne&&(ne=Object),ne&&"function"==typeof ne.freeze?ne.freeze(Se):Se}var ce=Z({HTML:"text/html",isHTML:function(Se){return Se===ce.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Ve=Z({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(Se){return Se===Ve.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Ue.assign=function ve(Se,ne){if(null===Se||"object"!=typeof Se)throw new TypeError("target is not an object");for(var H in ne)Object.prototype.hasOwnProperty.call(ne,H)&&(Se[H]=ne[H]);return Se},Ue.find=function K(Se,ne,H){if(void 0===H&&(H=Array.prototype),Se&&"function"==typeof H.find)return H.find.call(Se,ne);for(var k=0;k<Se.length;k++)if(Object.prototype.hasOwnProperty.call(Se,k)){var f=Se[k];if(ne.call(void 0,f,k,Se))return f}},Ue.freeze=Z,Ue.MIME_TYPE=ce,Ue.NAMESPACE=Ve},7044:(We,Ue,K)=>{var ve=K(2834),ce=K(8486),Ve=K(6443),Se=K(3742),ne=ce.DOMImplementation,H=ve.NAMESPACE,k=Se.ParseError,f=Se.XMLReader;function Me(X){return X.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function he(X){this.options=X||{locator:{}}}function j(){this.cdata=!1}function W(X,D){D.lineNumber=X.lineNumber,D.columnNumber=X.columnNumber}function se(X){if(X)return"\n@"+(X.systemId||"")+"#[line:"+X.lineNumber+",col:"+X.columnNumber+"]"}function ge(X,D,ae){return"string"==typeof X?X.substr(D,ae):X.length>=D+ae||D?new java.lang.String(X,D,ae)+"":X}function oe(X,D){X.currentElement?X.currentElement.appendChild(D):X.doc.appendChild(D)}he.prototype.parseFromString=function(X,D){var ae=this.options,ue=new f,Le=ae.domBuilder||new j,J=ae.errorHandler,$e=ae.locator,re=ae.xmlns||{},xe=/\/x?html?$/.test(D),Be=xe?Ve.HTML_ENTITIES:Ve.XML_ENTITIES;return $e&&Le.setDocumentLocator($e),ue.errorHandler=function be(X,D,ae){if(!X){if(D instanceof j)return D;X=D}var ue={},Le=X instanceof Function;function J($e){var re=X[$e];!re&&Le&&(re=2==X.length?function(xe){X($e,xe)}:X),ue[$e]=re&&function(xe){re("[xmldom "+$e+"]\t"+xe+se(ae))}||function(){}}return ae=ae||{},J("warning"),J("error"),J("fatalError"),ue}(J,Le,$e),ue.domBuilder=ae.domBuilder||Le,xe&&(re[""]=H.HTML),re.xml=re.xml||H.XML,X&&"string"==typeof X?ue.parse((ae.normalizeLineEndings||Me)(X),re,Be):ue.errorHandler.error("invalid doc source"),Le.doc},j.prototype={startDocument:function(){this.doc=(new ne).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(X,D,ae,ue){var Le=this.doc,J=Le.createElementNS(X,ae||D),$e=ue.length;oe(this,J),this.currentElement=J,this.locator&&W(this.locator,J);for(var re=0;re<$e;re++){X=ue.getURI(re);var xe=ue.getValue(re),Be=(ae=ue.getQName(re),Le.createAttributeNS(X,ae));this.locator&&W(ue.getLocator(re),Be),Be.value=Be.nodeValue=xe,J.setAttributeNode(Be)}},endElement:function(X,D,ae){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(X,D){},endPrefixMapping:function(X){},processingInstruction:function(X,D){var ae=this.doc.createProcessingInstruction(X,D);this.locator&&W(this.locator,ae),oe(this,ae)},ignorableWhitespace:function(X,D,ae){},characters:function(X,D,ae){if(X=ge.apply(this,arguments)){if(this.cdata)var ue=this.doc.createCDATASection(X);else ue=this.doc.createTextNode(X);this.currentElement?this.currentElement.appendChild(ue):/^\s*$/.test(X)&&this.doc.appendChild(ue),this.locator&&W(this.locator,ue)}},skippedEntity:function(X){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(X){(this.locator=X)&&(X.lineNumber=0)},comment:function(X,D,ae){X=ge.apply(this,arguments);var ue=this.doc.createComment(X);this.locator&&W(this.locator,ue),oe(this,ue)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(X,D,ae){var ue=this.doc.implementation;if(ue&&ue.createDocumentType){var Le=ue.createDocumentType(X,D,ae);this.locator&&W(this.locator,Le),oe(this,Le),this.doc.doctype=Le}},warning:function(X){console.warn("[xmldom warning]\t"+X,se(this.locator))},error:function(X){console.error("[xmldom error]\t"+X,se(this.locator))},fatalError:function(X){throw new k(X,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(X){j.prototype[X]=function(){return null}}),Ue.DOMParser=he},8486:(We,Ue,K)=>{var Z=K(2834),ve=Z.find,ce=Z.NAMESPACE;function Ve(R){return""!==R}function ne(R,F){return R.hasOwnProperty(F)||(R[F]=!0),R}function H(R){if(!R)return[];var F=function Se(R){return R?R.split(/[\t\n\f\r ]+/).filter(Ve):[]}(R);return Object.keys(F.reduce(ne,{}))}function f(R,F){for(var ie in R)Object.prototype.hasOwnProperty.call(R,ie)&&(F[ie]=R[ie])}function Me(R,F){var ie=R.prototype;if(!(ie instanceof F)){let Et=function(){};Et.prototype=F.prototype,Et=new Et,f(ie,Et),R.prototype=ie=Et}ie.constructor!=R&&("function"!=typeof R&&console.error("unknown Class:"+R),ie.constructor=R)}var he={},be=he.ELEMENT_NODE=1,j=he.ATTRIBUTE_NODE=2,W=he.TEXT_NODE=3,se=he.CDATA_SECTION_NODE=4,ge=he.ENTITY_REFERENCE_NODE=5,oe=he.ENTITY_NODE=6,X=he.PROCESSING_INSTRUCTION_NODE=7,D=he.COMMENT_NODE=8,ae=he.DOCUMENT_NODE=9,ue=he.DOCUMENT_TYPE_NODE=10,Le=he.DOCUMENT_FRAGMENT_NODE=11,J=he.NOTATION_NODE=12,$e={},re={},Pe=($e.INDEX_SIZE_ERR=(re[1]="Index size error",1),$e.DOMSTRING_SIZE_ERR=(re[2]="DOMString size error",2),$e.HIERARCHY_REQUEST_ERR=(re[3]="Hierarchy request error",3)),Pt=($e.WRONG_DOCUMENT_ERR=(re[4]="Wrong document",4),$e.INVALID_CHARACTER_ERR=(re[5]="Invalid character",5),$e.NO_DATA_ALLOWED_ERR=(re[6]="No data allowed",6),$e.NO_MODIFICATION_ALLOWED_ERR=(re[7]="No modification allowed",7),$e.NOT_FOUND_ERR=(re[8]="Not found",8)),L=($e.NOT_SUPPORTED_ERR=(re[9]="Not supported",9),$e.INUSE_ATTRIBUTE_ERR=(re[10]="Attribute in use",10));function Ye(R,F){if(F instanceof Error)var ie=F;else ie=this,Error.call(this,re[R]),this.message=re[R],Error.captureStackTrace&&Error.captureStackTrace(this,Ye);return ie.code=R,F&&(this.message=this.message+": "+F),ie}function mt(){}function Wt(R,F){this._node=R,this._refresh=F,Ut(this)}function Ut(R){var F=R._node._inc||R._node.ownerDocument._inc;if(R._inc!==F){var ie=R._refresh(R._node);if(ia(R,"length",ie.length),!R.$$length||ie.length<R.$$length)for(var Qe=ie.length;Qe in R;Qe++)Object.prototype.hasOwnProperty.call(R,Qe)&&delete R[Qe];f(ie,R),R._inc=F}}function _t(){}function rn(R,F){for(var ie=R.length;ie--;)if(R[ie]===F)return ie}function sn(R,F,ie,Qe){if(Qe?F[rn(F,Qe)]=ie:F[F.length++]=ie,R){ie.ownerElement=R;var Et=R.ownerDocument;Et&&(Qe&&qt(Et,R,Qe),function yt(R,F,ie){R&&R._inc++,ie.namespaceURI===ce.XMLNS&&(F._nsMap[ie.prefix?ie.localName:""]=ie.value)}(Et,R,ie))}}function Sn(R,F,ie){var Qe=rn(F,ie);if(!(Qe>=0))throw new Ye(Pt,new Error(R.tagName+"@"+ie));for(var Et=F.length-1;Qe<Et;)F[Qe]=F[++Qe];if(F.length=Et,R){var Xe=R.ownerDocument;Xe&&(qt(Xe,R,ie),ie.ownerElement=null)}}function cn(){}function Yt(){}function G(R){return("<"==R?"&lt;":">"==R&&"&gt;")||"&"==R&&"&amp;"||'"'==R&&"&quot;"||"&#"+R.charCodeAt()+";"}function He(R,F){if(F(R))return!0;if(R=R.firstChild)do{if(He(R,F))return!0}while(R=R.nextSibling)}function Fe(){this.ownerDocument=this}function qt(R,F,ie,Qe){R&&R._inc++,ie.namespaceURI===ce.XMLNS&&delete F._nsMap[ie.prefix?ie.localName:""]}function Mn(R,F,ie){if(R&&R._inc){R._inc++;var Qe=F.childNodes;if(ie)Qe[Qe.length++]=ie;else{for(var Et=F.firstChild,Xe=0;Et;)Qe[Xe++]=Et,Et=Et.nextSibling;Qe.length=Xe,delete Qe[Qe.length]}}}function Rn(R,F){var ie=F.previousSibling,Qe=F.nextSibling;return ie?ie.nextSibling=Qe:R.firstChild=Qe,Qe?Qe.previousSibling=ie:R.lastChild=ie,F.parentNode=null,F.previousSibling=null,F.nextSibling=null,Mn(R.ownerDocument,R),F}function On(R){return R&&R.nodeType===Yt.DOCUMENT_TYPE_NODE}function Zn(R){return R&&R.nodeType===Yt.ELEMENT_NODE}function _r(R){return R&&R.nodeType===Yt.TEXT_NODE}function qr(R,F){var ie=R.childNodes||[];if(ve(ie,Zn)||On(F))return!1;var Qe=ve(ie,On);return!(F&&Qe&&ie.indexOf(Qe)>ie.indexOf(F))}function N(R,F){var ie=R.childNodes||[];if(ve(ie,function Qe(Xe){return Zn(Xe)&&Xe!==F}))return!1;var Et=ve(ie,On);return!(F&&Et&&ie.indexOf(Et)>ie.indexOf(F))}function S(R,F,ie){var Qe=R.childNodes||[],Et=F.childNodes||[];if(F.nodeType===Yt.DOCUMENT_FRAGMENT_NODE){var Xe=Et.filter(Zn);if(Xe.length>1||ve(Et,_r))throw new Ye(Pe,"More than one element or text in fragment");if(1===Xe.length&&!qr(R,ie))throw new Ye(Pe,"Element in fragment can not be inserted before doctype")}if(Zn(F)&&!qr(R,ie))throw new Ye(Pe,"Only one element can be added and only after doctype");if(On(F)){if(ve(Qe,On))throw new Ye(Pe,"Only one doctype is allowed");var tr=ve(Qe,Zn);if(ie&&Qe.indexOf(tr)<Qe.indexOf(ie))throw new Ye(Pe,"Doctype can only be inserted before an element");if(!ie&&tr)throw new Ye(Pe,"Doctype can not be appended since element is present")}}function U(R,F,ie){var Qe=R.childNodes||[],Et=F.childNodes||[];if(F.nodeType===Yt.DOCUMENT_FRAGMENT_NODE){var Xe=Et.filter(Zn);if(Xe.length>1||ve(Et,_r))throw new Ye(Pe,"More than one element or text in fragment");if(1===Xe.length&&!N(R,ie))throw new Ye(Pe,"Element in fragment can not be inserted before doctype")}if(Zn(F)&&!N(R,ie))throw new Ye(Pe,"Only one element can be added and only after doctype");if(On(F)){if(ve(Qe,function(dr){return On(dr)&&dr!==ie}))throw new Ye(Pe,"Only one doctype is allowed");var tr=ve(Qe,Zn);if(ie&&Qe.indexOf(tr)<Qe.indexOf(ie))throw new Ye(Pe,"Doctype can only be inserted before an element")}}function _e(R,F,ie,Qe){(function A(R,F,ie){if(!function an(R){return R&&(R.nodeType===Yt.DOCUMENT_NODE||R.nodeType===Yt.DOCUMENT_FRAGMENT_NODE||R.nodeType===Yt.ELEMENT_NODE)}(R))throw new Ye(Pe,"Unexpected parent node type "+R.nodeType);if(ie&&ie.parentNode!==R)throw new Ye(Pt,"child not in parent");if(!function un(R){return R&&(Zn(R)||_r(R)||On(R)||R.nodeType===Yt.DOCUMENT_FRAGMENT_NODE||R.nodeType===Yt.COMMENT_NODE||R.nodeType===Yt.PROCESSING_INSTRUCTION_NODE)}(F)||On(F)&&R.nodeType!==Yt.DOCUMENT_NODE)throw new Ye(Pe,"Unexpected node type "+F.nodeType+" for parent node type "+R.nodeType)})(R,F,ie),R.nodeType===Yt.DOCUMENT_NODE&&(Qe||S)(R,F,ie);var Et=F.parentNode;if(Et&&Et.removeChild(F),F.nodeType===Le){var Xe=F.firstChild;if(null==Xe)return F;var tr=F.lastChild}else Xe=tr=F;var Cs=ie?ie.previousSibling:R.lastChild;Xe.previousSibling=Cs,tr.nextSibling=ie,Cs?Cs.nextSibling=Xe:R.firstChild=Xe,null==ie?R.lastChild=tr:ie.previousSibling=tr;do{Xe.parentNode=R}while(Xe!==tr&&(Xe=Xe.nextSibling));return Mn(R.ownerDocument||R,R),F.nodeType==Le&&(F.firstChild=F.lastChild=null),F}function lt(){this._nsMap={}}function ln(){}function Te(){}function Re(){}function le(){}function ze(){}function ct(){}function st(){}function Qt(){}function Vn(){}function Dn(){}function _n(){}function hr(){}function ar(R,F){var ie=[],Qe=9==this.nodeType&&this.documentElement||this,Et=Qe.prefix,Xe=Qe.namespaceURI;if(Xe&&null==Et&&null==(Et=Qe.lookupPrefix(Xe)))var tr=[{namespace:Xe,prefix:null}];return Qr(this,ie,R,F,tr),ie.join("")}function Mr(R,F,ie){var Qe=R.prefix||"",Et=R.namespaceURI;if(!Et||"xml"===Qe&&Et===ce.XML||Et===ce.XMLNS)return!1;for(var Xe=ie.length;Xe--;){var tr=ie[Xe];if(tr.prefix===Qe)return tr.namespace!==Et}return!0}function Ws(R,F,ie){R.push(" ",F,'="',ie.replace(/[<>&"\t\n\r]/g,G),'"')}function Qr(R,F,ie,Qe,Et){if(Et||(Et=[]),Qe){if(!(R=Qe(R)))return;if("string"==typeof R)return void F.push(R)}switch(R.nodeType){case be:var Xe=R.attributes,tr=Xe.length,yr=R.firstChild,Cs=R.tagName,vr=Cs;if(!(ie=ce.isHTML(R.namespaceURI)||ie)&&!R.prefix&&R.namespaceURI){for(var dr,ei=0;ei<Xe.length;ei++)if("xmlns"===Xe.item(ei).name){dr=Xe.item(ei).value;break}if(!dr)for(var xi=Et.length-1;xi>=0;xi--)if(""===(_s=Et[xi]).prefix&&_s.namespace===R.namespaceURI){dr=_s.namespace;break}if(dr!==R.namespaceURI)for(xi=Et.length-1;xi>=0;xi--){var _s;if((_s=Et[xi]).namespace===R.namespaceURI){_s.prefix&&(vr=_s.prefix+":"+Cs);break}}}F.push("<",vr);for(var js=0;js<tr;js++)"xmlns"==(Ns=Xe.item(js)).prefix?Et.push({prefix:Ns.localName,namespace:Ns.value}):"xmlns"==Ns.nodeName&&Et.push({prefix:"",namespace:Ns.value});for(js=0;js<tr;js++){var Ns,ti,Mt;Mr(Ns=Xe.item(js),0,Et)&&(Ws(F,(ti=Ns.prefix||"")?"xmlns:"+ti:"xmlns",Mt=Ns.namespaceURI),Et.push({prefix:ti,namespace:Mt})),Qr(Ns,F,ie,Qe,Et)}if(Cs===vr&&Mr(R,0,Et)&&(Ws(F,(ti=R.prefix||"")?"xmlns:"+ti:"xmlns",Mt=R.namespaceURI),Et.push({prefix:ti,namespace:Mt})),yr||ie&&!/^(?:meta|link|img|br|hr|input)$/i.test(Cs)){if(F.push(">"),ie&&/^script$/i.test(Cs))for(;yr;)yr.data?F.push(yr.data):Qr(yr,F,ie,Qe,Et.slice()),yr=yr.nextSibling;else for(;yr;)Qr(yr,F,ie,Qe,Et.slice()),yr=yr.nextSibling;F.push("</",vr,">")}else F.push("/>");return;case ae:case Le:for(yr=R.firstChild;yr;)Qr(yr,F,ie,Qe,Et.slice()),yr=yr.nextSibling;return;case j:return Ws(F,R.name,R.value);case W:return F.push(R.data.replace(/[<&>]/g,G));case se:return F.push("<![CDATA[",R.data,"]]>");case D:return F.push("\x3c!--",R.data,"--\x3e");case ue:var Fs=R.publicId,us=R.systemId;if(F.push("<!DOCTYPE ",R.name),Fs)F.push(" PUBLIC ",Fs),us&&"."!=us&&F.push(" ",us),F.push(">");else if(us&&"."!=us)F.push(" SYSTEM ",us,">");else{var hn=R.internalSubset;hn&&F.push(" [",hn,"]"),F.push(">")}return;case X:return F.push("<?",R.target," ",R.data,"?>");case ge:return F.push("&",R.nodeName,";");default:F.push("??",R.nodeName)}}function Ei(R,F,ie){var Qe;switch(F.nodeType){case be:(Qe=F.cloneNode(!1)).ownerDocument=R;case Le:break;case j:ie=!0}if(Qe||(Qe=F.cloneNode(!1)),Qe.ownerDocument=R,Qe.parentNode=null,ie)for(var Et=F.firstChild;Et;)Qe.appendChild(Ei(R,Et,ie)),Et=Et.nextSibling;return Qe}function Qs(R,F,ie){var Qe=new F.constructor;for(var Et in F)if(Object.prototype.hasOwnProperty.call(F,Et)){var Xe=F[Et];"object"!=typeof Xe&&Xe!=Qe[Et]&&(Qe[Et]=Xe)}switch(F.childNodes&&(Qe.childNodes=new mt),Qe.ownerDocument=R,Qe.nodeType){case be:var tr=F.attributes,Cs=Qe.attributes=new _t,vr=tr.length;Cs._ownerElement=Qe;for(var dr=0;dr<vr;dr++)Qe.setAttributeNode(Qs(R,tr.item(dr),!0));break;case j:ie=!0}if(ie)for(var ei=F.firstChild;ei;)Qe.appendChild(Qs(R,ei,ie)),ei=ei.nextSibling;return Qe}function ia(R,F,ie){R[F]=ie}$e.INVALID_STATE_ERR=(re[11]="Invalid state",11),$e.SYNTAX_ERR=(re[12]="Syntax error",12),$e.INVALID_MODIFICATION_ERR=(re[13]="Invalid modification",13),$e.NAMESPACE_ERR=(re[14]="Invalid namespace",14),$e.INVALID_ACCESS_ERR=(re[15]="Invalid access",15),Ye.prototype=Error.prototype,f($e,Ye),mt.prototype={length:0,item:function(R){return R>=0&&R<this.length?this[R]:null},toString:function(R,F){for(var ie=[],Qe=0;Qe<this.length;Qe++)Qr(this[Qe],ie,R,F);return ie.join("")},filter:function(R){return Array.prototype.filter.call(this,R)},indexOf:function(R){return Array.prototype.indexOf.call(this,R)}},Wt.prototype.item=function(R){return Ut(this),this[R]||null},Me(Wt,mt),_t.prototype={length:0,item:mt.prototype.item,getNamedItem:function(R){for(var F=this.length;F--;){var ie=this[F];if(ie.nodeName==R)return ie}},setNamedItem:function(R){var F=R.ownerElement;if(F&&F!=this._ownerElement)throw new Ye(L);var ie=this.getNamedItem(R.nodeName);return sn(this._ownerElement,this,R,ie),ie},setNamedItemNS:function(R){var ie,F=R.ownerElement;if(F&&F!=this._ownerElement)throw new Ye(L);return ie=this.getNamedItemNS(R.namespaceURI,R.localName),sn(this._ownerElement,this,R,ie),ie},removeNamedItem:function(R){var F=this.getNamedItem(R);return Sn(this._ownerElement,this,F),F},removeNamedItemNS:function(R,F){var ie=this.getNamedItemNS(R,F);return Sn(this._ownerElement,this,ie),ie},getNamedItemNS:function(R,F){for(var ie=this.length;ie--;){var Qe=this[ie];if(Qe.localName==F&&Qe.namespaceURI==R)return Qe}return null}},cn.prototype={hasFeature:function(R,F){return!0},createDocument:function(R,F,ie){var Qe=new Fe;if(Qe.implementation=this,Qe.childNodes=new mt,Qe.doctype=ie||null,ie&&Qe.appendChild(ie),F){var Et=Qe.createElementNS(R,F);Qe.appendChild(Et)}return Qe},createDocumentType:function(R,F,ie){var Qe=new ct;return Qe.name=R,Qe.nodeName=R,Qe.publicId=F||"",Qe.systemId=ie||"",Qe}},Yt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(R,F){return _e(this,R,F)},replaceChild:function(R,F){_e(this,R,F,U),F&&this.removeChild(F)},removeChild:function(R){return Rn(this,R)},appendChild:function(R){return this.insertBefore(R,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(R){return Qs(this.ownerDocument||this,this,R)},normalize:function(){for(var R=this.firstChild;R;){var F=R.nextSibling;F&&F.nodeType==W&&R.nodeType==W?(this.removeChild(F),R.appendData(F.data)):(R.normalize(),R=F)}},isSupported:function(R,F){return this.ownerDocument.implementation.hasFeature(R,F)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(R){for(var F=this;F;){var ie=F._nsMap;if(ie)for(var Qe in ie)if(Object.prototype.hasOwnProperty.call(ie,Qe)&&ie[Qe]===R)return Qe;F=F.nodeType==j?F.ownerDocument:F.parentNode}return null},lookupNamespaceURI:function(R){for(var F=this;F;){var ie=F._nsMap;if(ie&&Object.prototype.hasOwnProperty.call(ie,R))return ie[R];F=F.nodeType==j?F.ownerDocument:F.parentNode}return null},isDefaultNamespace:function(R){return null==this.lookupPrefix(R)}},f(he,Yt),f(he,Yt.prototype),Fe.prototype={nodeName:"#document",nodeType:ae,doctype:null,documentElement:null,_inc:1,insertBefore:function(R,F){if(R.nodeType==Le){for(var ie=R.firstChild;ie;){var Qe=ie.nextSibling;this.insertBefore(ie,F),ie=Qe}return R}return _e(this,R,F),R.ownerDocument=this,null===this.documentElement&&R.nodeType===be&&(this.documentElement=R),R},removeChild:function(R){return this.documentElement==R&&(this.documentElement=null),Rn(this,R)},replaceChild:function(R,F){_e(this,R,F,U),R.ownerDocument=this,F&&this.removeChild(F),Zn(R)&&(this.documentElement=R)},importNode:function(R,F){return Ei(this,R,F)},getElementById:function(R){var F=null;return He(this.documentElement,function(ie){if(ie.nodeType==be&&ie.getAttribute("id")==R)return F=ie,!0}),F},getElementsByClassName:function(R){var F=H(R);return new Wt(this,function(ie){var Qe=[];return F.length>0&&He(ie.documentElement,function(Et){if(Et!==ie&&Et.nodeType===be){var Xe=Et.getAttribute("class");if(Xe){var tr=R===Xe;if(!tr){var Cs=H(Xe);tr=F.every(function k(R){return function(F){return R&&-1!==R.indexOf(F)}}(Cs))}tr&&Qe.push(Et)}}}),Qe})},createElement:function(R){var F=new lt;return F.ownerDocument=this,F.nodeName=R,F.tagName=R,F.localName=R,F.childNodes=new mt,(F.attributes=new _t)._ownerElement=F,F},createDocumentFragment:function(){var R=new Dn;return R.ownerDocument=this,R.childNodes=new mt,R},createTextNode:function(R){var F=new Re;return F.ownerDocument=this,F.appendData(R),F},createComment:function(R){var F=new le;return F.ownerDocument=this,F.appendData(R),F},createCDATASection:function(R){var F=new ze;return F.ownerDocument=this,F.appendData(R),F},createProcessingInstruction:function(R,F){var ie=new _n;return ie.ownerDocument=this,ie.tagName=ie.nodeName=ie.target=R,ie.nodeValue=ie.data=F,ie},createAttribute:function(R){var F=new ln;return F.ownerDocument=this,F.name=R,F.nodeName=R,F.localName=R,F.specified=!0,F},createEntityReference:function(R){var F=new Vn;return F.ownerDocument=this,F.nodeName=R,F},createElementNS:function(R,F){var ie=new lt,Qe=F.split(":"),Et=ie.attributes=new _t;return ie.childNodes=new mt,ie.ownerDocument=this,ie.nodeName=F,ie.tagName=F,ie.namespaceURI=R,2==Qe.length?(ie.prefix=Qe[0],ie.localName=Qe[1]):ie.localName=F,Et._ownerElement=ie,ie},createAttributeNS:function(R,F){var ie=new ln,Qe=F.split(":");return ie.ownerDocument=this,ie.nodeName=F,ie.name=F,ie.namespaceURI=R,ie.specified=!0,2==Qe.length?(ie.prefix=Qe[0],ie.localName=Qe[1]):ie.localName=F,ie}},Me(Fe,Yt),Fe.prototype.getElementsByTagName=(lt.prototype={nodeType:be,hasAttribute:function(R){return null!=this.getAttributeNode(R)},getAttribute:function(R){var F=this.getAttributeNode(R);return F&&F.value||""},getAttributeNode:function(R){return this.attributes.getNamedItem(R)},setAttribute:function(R,F){var ie=this.ownerDocument.createAttribute(R);ie.value=ie.nodeValue=""+F,this.setAttributeNode(ie)},removeAttribute:function(R){var F=this.getAttributeNode(R);F&&this.removeAttributeNode(F)},appendChild:function(R){return R.nodeType===Le?this.insertBefore(R,null):function Je(R,F){return F.parentNode&&F.parentNode.removeChild(F),F.parentNode=R,F.previousSibling=R.lastChild,F.nextSibling=null,F.previousSibling?F.previousSibling.nextSibling=F:R.firstChild=F,R.lastChild=F,Mn(R.ownerDocument,R,F),F}(this,R)},setAttributeNode:function(R){return this.attributes.setNamedItem(R)},setAttributeNodeNS:function(R){return this.attributes.setNamedItemNS(R)},removeAttributeNode:function(R){return this.attributes.removeNamedItem(R.nodeName)},removeAttributeNS:function(R,F){var ie=this.getAttributeNodeNS(R,F);ie&&this.removeAttributeNode(ie)},hasAttributeNS:function(R,F){return null!=this.getAttributeNodeNS(R,F)},getAttributeNS:function(R,F){var ie=this.getAttributeNodeNS(R,F);return ie&&ie.value||""},setAttributeNS:function(R,F,ie){var Qe=this.ownerDocument.createAttributeNS(R,F);Qe.value=Qe.nodeValue=""+ie,this.setAttributeNode(Qe)},getAttributeNodeNS:function(R,F){return this.attributes.getNamedItemNS(R,F)},getElementsByTagName:function(R){return new Wt(this,function(F){var ie=[];return He(F,function(Qe){Qe!==F&&Qe.nodeType==be&&("*"===R||Qe.tagName==R)&&ie.push(Qe)}),ie})},getElementsByTagNameNS:function(R,F){return new Wt(this,function(ie){var Qe=[];return He(ie,function(Et){Et!==ie&&Et.nodeType===be&&("*"===R||Et.namespaceURI===R)&&("*"===F||Et.localName==F)&&Qe.push(Et)}),Qe})}}).getElementsByTagName,Fe.prototype.getElementsByTagNameNS=lt.prototype.getElementsByTagNameNS,Me(lt,Yt),ln.prototype.nodeType=j,Me(ln,Yt),Te.prototype={data:"",substringData:function(R,F){return this.data.substring(R,R+F)},appendData:function(R){this.nodeValue=this.data=R=this.data+R,this.length=R.length},insertData:function(R,F){this.replaceData(R,0,F)},appendChild:function(R){throw new Error(re[Pe])},deleteData:function(R,F){this.replaceData(R,F,"")},replaceData:function(R,F,ie){var Qe=this.data.substring(0,R),Et=this.data.substring(R+F);this.nodeValue=this.data=ie=Qe+ie+Et,this.length=ie.length}},Me(Te,Yt),Re.prototype={nodeName:"#text",nodeType:W,splitText:function(R){var F=this.data,ie=F.substring(R);F=F.substring(0,R),this.data=this.nodeValue=F,this.length=F.length;var Qe=this.ownerDocument.createTextNode(ie);return this.parentNode&&this.parentNode.insertBefore(Qe,this.nextSibling),Qe}},Me(Re,Te),le.prototype={nodeName:"#comment",nodeType:D},Me(le,Te),ze.prototype={nodeName:"#cdata-section",nodeType:se},Me(ze,Te),ct.prototype.nodeType=ue,Me(ct,Yt),st.prototype.nodeType=J,Me(st,Yt),Qt.prototype.nodeType=oe,Me(Qt,Yt),Vn.prototype.nodeType=ge,Me(Vn,Yt),Dn.prototype.nodeName="#document-fragment",Dn.prototype.nodeType=Le,Me(Dn,Yt),_n.prototype.nodeType=X,Me(_n,Yt),hr.prototype.serializeToString=function(R,F,ie){return ar.call(R,F,ie)},Yt.prototype.toString=ar;try{if(Object.defineProperty){let R=function(F){switch(F.nodeType){case be:case Le:var ie=[];for(F=F.firstChild;F;)7!==F.nodeType&&8!==F.nodeType&&ie.push(R(F)),F=F.nextSibling;return ie.join("");default:return F.nodeValue}};Object.defineProperty(Wt.prototype,"length",{get:function(){return Ut(this),this.$$length}}),Object.defineProperty(Yt.prototype,"textContent",{get:function(){return R(this)},set:function(F){switch(this.nodeType){case be:case Le:for(;this.firstChild;)this.removeChild(this.firstChild);(F||String(F))&&this.appendChild(this.ownerDocument.createTextNode(F));break;default:this.data=F,this.value=F,this.nodeValue=F}}}),ia=function(F,ie,Qe){F["$$"+ie]=Qe}}}catch{}Ue.DocumentType=ct,Ue.DOMException=Ye,Ue.DOMImplementation=cn,Ue.Element=lt,Ue.Node=Yt,Ue.NodeList=mt,Ue.XMLSerializer=hr},6443:(We,Ue,K)=>{"use strict";var Z=K(2834).freeze;Ue.XML_ENTITIES=Z({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),Ue.HTML_ENTITIES=Z({Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\u{1d504}",afr:"\u{1d51e}",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",AMP:"&",amp:"&",And:"\u2a53",and:"\u2227",andand:"\u2a55",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1d538}",aopf:"\u{1d552}",ap:"\u2248",apacir:"\u2a6f",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\u{1d49c}",ascr:"\u{1d4b6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\u{1d505}",bfr:"\u{1d51f}",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\u{1d539}",bopf:"\u{1d553}",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250c",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252c",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxUL:"\u255d",boxUl:"\u255c",boxuL:"\u255b",boxul:"\u2518",boxUR:"\u255a",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256c",boxVh:"\u256b",boxvH:"\u256a",boxvh:"\u253c",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255f",boxvR:"\u255e",boxvr:"\u251c",bprime:"\u2035",Breve:"\u02d8",breve:"\u02d8",brvbar:"\xa6",Bscr:"\u212c",bscr:"\u{1d4b7}",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsol:"\\",bsolb:"\u29c5",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22d2",cap:"\u2229",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",CenterDot:"\xb7",centerdot:"\xb7",Cfr:"\u212d",cfr:"\u{1d520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",cir:"\u25cb",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",Conint:"\u222f",conint:"\u222e",ContourIntegral:"\u222e",Copf:"\u2102",copf:"\u{1d554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xa9",copy:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",Cross:"\u2a2f",cross:"\u2717",Cscr:"\u{1d49e}",cscr:"\u{1d4b8}",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",Cup:"\u22d3",cup:"\u222a",cupbrcap:"\u2a48",CupCap:"\u224d",cupcap:"\u2a46",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21a1",dArr:"\u21d3",darr:"\u2193",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21ca",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\u{1d507}",dfr:"\u{1d521}",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",Diamond:"\u22c4",diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\u{1d53b}",dopf:"\u{1d555}",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21d3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVector:"\u21bd",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295f",DownRightVector:"\u21c1",DownRightVectorBar:"\u2957",DownTee:"\u22a4",DownTeeArrow:"\u21a7",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\u{1d49f}",dscr:"\u{1d4b9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",ecir:"\u2256",Ecirc:"\xca",ecirc:"\xea",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1d508}",efr:"\u{1d522}",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1d53c}",eopf:"\u{1d556}",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212f",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\u{1d509}",ffr:"\u{1d523}",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\u{1d53d}",fopf:"\u{1d557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1d4bb}",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",ges:"\u2a7e",gescc:"\u2aa9",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\u{1d50a}",gfr:"\u{1d524}",Gg:"\u22d9",gg:"\u226b",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2aa5",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gnE:"\u2269",gne:"\u2a88",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\u{1d53e}",gopf:"\u{1d558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\u{1d4a2}",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",Gt:"\u226b",GT:">",gt:">",gtcc:"\u2aa7",gtcir:"\u2a7a",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",hArr:"\u21d4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",Hfr:"\u210c",hfr:"\u{1d525}",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",Hopf:"\u210d",hopf:"\u{1d559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210b",hscr:"\u{1d4bd}",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",Ifr:"\u2111",ifr:"\u{1d526}",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",in:"\u2208",incare:"\u2105",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",Int:"\u222c",int:"\u222b",intcal:"\u22ba",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\u{1d540}",iopf:"\u{1d55a}",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",Iscr:"\u2110",iscr:"\u{1d4be}",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1d50d}",jfr:"\u{1d527}",jmath:"\u0237",Jopf:"\u{1d541}",jopf:"\u{1d55b}",Jscr:"\u{1d4a5}",jscr:"\u{1d4bf}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\u{1d50e}",kfr:"\u{1d528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\u{1d542}",kopf:"\u{1d55c}",Kscr:"\u{1d4a6}",kscr:"\u{1d4c0}",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",Lang:"\u27ea",lang:"\u27e8",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",Larr:"\u219e",lArr:"\u21d0",larr:"\u2190",larrb:"\u21e4",larrbfs:"\u291f",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",lat:"\u2aab",lAtail:"\u291b",latail:"\u2919",late:"\u2aad",lates:"\u2aad\ufe00",lBarr:"\u290e",lbarr:"\u290c",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27e8",LeftArrow:"\u2190",Leftarrow:"\u21d0",leftarrow:"\u2190",LeftArrowBar:"\u21e4",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21c3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrow:"\u2194",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTee:"\u22a3",LeftTeeArrow:"\u21a4",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangle:"\u22b2",LeftTriangleBar:"\u29cf",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21bf",LeftUpVectorBar:"\u2958",LeftVector:"\u21bc",LeftVectorBar:"\u2952",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",les:"\u2a7d",lescc:"\u2aa8",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\u{1d50f}",lfr:"\u{1d529}",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22d8",ll:"\u226a",llarr:"\u21c7",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoust:"\u23b0",lmoustache:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lnE:"\u2268",lne:"\u2a87",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftarrow:"\u27f5",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longleftrightarrow:"\u27f7",longmapsto:"\u27fc",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",longrightarrow:"\u27f6",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\u{1d543}",lopf:"\u{1d55d}",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1d4c1}",Lsh:"\u21b0",lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226a",LT:"<",lt:"<",ltcc:"\u2aa6",ltcir:"\u2a79",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\u{1d510}",mfr:"\u{1d52a}",mho:"\u2127",micro:"\xb5",mid:"\u2223",midast:"*",midcir:"\u2af0",middot:"\xb7",minus:"\u2212",minusb:"\u229f",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\u{1d544}",mopf:"\u{1d55e}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1d4c2}",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266e",natural:"\u266e",naturals:"\u2115",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21d7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1d511}",nfr:"\u{1d52b}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nhArr:"\u21ce",nharr:"\u21ae",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlArr:"\u21cd",nlarr:"\u219a",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21cd",nleftarrow:"\u219a",nLeftrightarrow:"\u21ce",nleftrightarrow:"\u21ae",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",Nopf:"\u2115",nopf:"\u{1d55f}",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangle:"\u22ea",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangle:"\u22eb",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",npre:"\u2aaf\u0338",nprec:"\u2280",npreceq:"\u2aaf\u0338",nrArr:"\u21cf",nrarr:"\u219b",nrarrc:"\u2933\u0338",nrarrw:"\u219d\u0338",nRightarrow:"\u21cf",nrightarrow:"\u219b",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\u{1d4a9}",nscr:"\u{1d4c3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nVDash:"\u22af",nVdash:"\u22ae",nvDash:"\u22ad",nvdash:"\u22ac",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwArr:"\u21d6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",ocir:"\u229a",Ocirc:"\xd4",ocirc:"\xf4",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\u{1d512}",ofr:"\u{1d52c}",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\u{1d546}",oopf:"\u{1d560}",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",Or:"\u2a54",or:"\u2228",orarr:"\u21bb",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\u{1d4aa}",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",Otimes:"\u2a37",otimes:"\u2297",otimesas:"\u2a36",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",par:"\u2225",para:"\xb6",parallel:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\u{1d513}",pfr:"\u{1d52d}",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plus:"+",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",Popf:"\u2119",popf:"\u{1d561}",pound:"\xa3",Pr:"\u2abb",pr:"\u227a",prap:"\u2ab7",prcue:"\u227c",prE:"\u2ab3",pre:"\u2aaf",prec:"\u227a",precapprox:"\u2ab7",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",precsim:"\u227e",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportion:"\u2237",Proportional:"\u221d",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\u{1d4ab}",pscr:"\u{1d4c5}",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\u{1d514}",qfr:"\u{1d52e}",qint:"\u2a0c",Qopf:"\u211a",qopf:"\u{1d562}",qprime:"\u2057",Qscr:"\u{1d4ac}",qscr:"\u{1d4c6}",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",QUOT:'"',quot:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",Rang:"\u27eb",rang:"\u27e9",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",Rarr:"\u21a0",rArr:"\u21d2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",rAtail:"\u291c",ratail:"\u291a",ratio:"\u2236",rationals:"\u211a",RBarr:"\u2910",rBarr:"\u290f",rbarr:"\u290d",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",Re:"\u211c",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",rect:"\u25ad",REG:"\xae",reg:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",Rfr:"\u211c",rfr:"\u{1d52f}",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrow:"\u2192",Rightarrow:"\u21d2",rightarrow:"\u2192",RightArrowBar:"\u21e5",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVector:"\u21c2",RightDownVectorBar:"\u2955",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTee:"\u22a2",RightTeeArrow:"\u21a6",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangle:"\u22b3",RightTriangleBar:"\u29d0",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVector:"\u21be",RightUpVectorBar:"\u2954",RightVector:"\u21c0",RightVectorBar:"\u2953",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoust:"\u23b1",rmoustache:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",Ropf:"\u211d",ropf:"\u{1d563}",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",Rscr:"\u211b",rscr:"\u{1d4c7}",Rsh:"\u21b1",rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",Sc:"\u2abc",sc:"\u227b",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227d",scE:"\u2ab4",sce:"\u2ab0",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdot:"\u22c5",sdotb:"\u22a1",sdote:"\u2a66",searhk:"\u2925",seArr:"\u21d8",searr:"\u2198",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1d516}",sfr:"\u{1d530}",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",sol:"/",solb:"\u29c4",solbar:"\u233f",Sopf:"\u{1d54a}",sopf:"\u{1d564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25a1",Square:"\u25a1",square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squf:"\u25aa",srarr:"\u2192",Sscr:"\u{1d4ae}",sscr:"\u{1d4c8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",Sub:"\u22d0",sub:"\u2282",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",Subset:"\u22d0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succ:"\u227b",succapprox:"\u2ab8",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",Sum:"\u2211",sum:"\u2211",sung:"\u266a",Sup:"\u22d1",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",Supset:"\u22d1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swArr:"\u21d9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\u{1d517}",tfr:"\u{1d531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",Tilde:"\u223c",tilde:"\u02dc",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xd7",timesb:"\u22a0",timesbar:"\u2a31",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",top:"\u22a4",topbot:"\u2336",topcir:"\u2af1",Topf:"\u{1d54b}",topf:"\u{1d565}",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\u{1d4af}",tscr:"\u{1d4c9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",Uarr:"\u219f",uArr:"\u21d1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\u{1d518}",ufr:"\u{1d532}",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1d54c}",uopf:"\u{1d566}",UpArrow:"\u2191",Uparrow:"\u21d1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21c5",UpDownArrow:"\u2195",Updownarrow:"\u21d5",updownarrow:"\u2195",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03d2",upsi:"\u03c5",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTee:"\u22a5",UpTeeArrow:"\u21a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\u{1d4b0}",uscr:"\u{1d4ca}",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",vArr:"\u21d5",varr:"\u2195",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",Vbar:"\u2aeb",vBar:"\u2ae8",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22ab",Vdash:"\u22a9",vDash:"\u22a8",vdash:"\u22a2",Vdashl:"\u2ae6",Vee:"\u22c1",vee:"\u2228",veebar:"\u22bb",veeeq:"\u225a",vellip:"\u22ee",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\u{1d519}",vfr:"\u{1d533}",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\u{1d54d}",vopf:"\u{1d567}",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\u{1d4b1}",vscr:"\u{1d4cb}",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",Wedge:"\u22c0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1d51a}",wfr:"\u{1d534}",Wopf:"\u{1d54e}",wopf:"\u{1d568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1d4b2}",wscr:"\u{1d4cc}",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\u{1d51b}",xfr:"\u{1d535}",xhArr:"\u27fa",xharr:"\u27f7",Xi:"\u039e",xi:"\u03be",xlArr:"\u27f8",xlarr:"\u27f5",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\u{1d54f}",xopf:"\u{1d569}",xoplus:"\u2a01",xotime:"\u2a02",xrArr:"\u27f9",xrarr:"\u27f6",Xscr:"\u{1d4b3}",xscr:"\u{1d4cd}",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\u{1d51c}",yfr:"\u{1d536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1d550}",yopf:"\u{1d56a}",Yscr:"\u{1d4b4}",yscr:"\u{1d4ce}",YUcy:"\u042e",yucy:"\u044e",Yuml:"\u0178",yuml:"\xff",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",Zfr:"\u2128",zfr:"\u{1d537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",Zopf:"\u2124",zopf:"\u{1d56b}",Zscr:"\u{1d4b5}",zscr:"\u{1d4cf}",zwj:"\u200d",zwnj:"\u200c"}),Ue.entityMap=Ue.HTML_ENTITIES},2502:(We,Ue,K)=>{K(8486);Ue.DOMParser=K(7044).DOMParser},3742:(We,Ue,K)=>{var Z=K(2834).NAMESPACE,ve=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ce=new RegExp("[\\-\\.0-9"+ve.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Ve=new RegExp("^"+ve.source+ce.source+"*(?::"+ve.source+ce.source+"*)?$");function j(xe,Be){this.message=xe,this.locator=Be,Error.captureStackTrace&&Error.captureStackTrace(this,j)}function W(){}function ge(xe,Be){return Be.lineNumber=xe.lineNumber,Be.columnNumber=xe.columnNumber,Be}function oe(xe,Be,Pe,te,ye,Ct){function wt(Ne,ht,Ye){Pe.attributeNames.hasOwnProperty(Ne)&&Ct.fatalError("Attribute "+Ne+" redefined"),Pe.addValue(Ne,ht.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,ye),Ye)}for(var Pt,L=++Be,V=0;;){var $=xe.charAt(L);switch($){case"=":if(1===V)Pt=xe.slice(Be,L),V=3;else{if(2!==V)throw new Error("attribute equal must after attrName");V=3}break;case"'":case'"':if(3===V||1===V){if(1===V&&(Ct.warning('attribute value must after "="'),Pt=xe.slice(Be,L)),!((L=xe.indexOf($,Be=L+1))>0))throw new Error("attribute value no end '"+$+"' match");wt(Pt,xt=xe.slice(Be,L),Be-1),V=5}else{if(4!=V)throw new Error('attribute value must after "="');wt(Pt,xt=xe.slice(Be,L),Be),Ct.warning('attribute "'+Pt+'" missed start quot('+$+")!!"),Be=L+1,V=5}break;case"/":switch(V){case 0:Pe.setTagName(xe.slice(Be,L));case 5:case 6:case 7:V=7,Pe.closed=!0;case 4:case 1:break;case 2:Pe.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return Ct.error("unexpected end of input"),0==V&&Pe.setTagName(xe.slice(Be,L)),L;case">":switch(V){case 0:Pe.setTagName(xe.slice(Be,L));case 5:case 6:case 7:break;case 4:case 1:"/"===(xt=xe.slice(Be,L)).slice(-1)&&(Pe.closed=!0,xt=xt.slice(0,-1));case 2:2===V&&(xt=Pt),4==V?(Ct.warning('attribute "'+xt+'" missed quot(")!'),wt(Pt,xt,Be)):((!Z.isHTML(te[""])||!xt.match(/^(?:disabled|checked|selected)$/i))&&Ct.warning('attribute "'+xt+'" missed value!! "'+xt+'" instead!!'),wt(xt,xt,Be));break;case 3:throw new Error("attribute value missed!!")}return L;case"\x80":$=" ";default:if($<=" ")switch(V){case 0:Pe.setTagName(xe.slice(Be,L)),V=6;break;case 1:Pt=xe.slice(Be,L),V=2;break;case 4:var xt=xe.slice(Be,L);Ct.warning('attribute "'+xt+'" missed quot(")!!'),wt(Pt,xt,Be);case 5:V=6}else switch(V){case 2:(!Z.isHTML(te[""])||!Pt.match(/^(?:disabled|checked|selected)$/i))&&Ct.warning('attribute "'+Pt+'" missed value!! "'+Pt+'" instead2!!'),wt(Pt,Pt,Be),Be=L,V=1;break;case 5:Ct.warning('attribute space is required"'+Pt+'"!!');case 6:V=1,Be=L;break;case 3:V=4,Be=L;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}L++}}function X(xe,Be,Pe){for(var te=xe.tagName,ye=null,$=xe.length;$--;){var Ct=xe[$],wt=Ct.qName,Pt=Ct.value;if((Ae=wt.indexOf(":"))>0)var xt=Ct.prefix=wt.slice(0,Ae),L=wt.slice(Ae+1),V="xmlns"===xt&&L;else L=wt,xt=null,V="xmlns"===wt&&"";Ct.localName=L,!1!==V&&(null==ye&&(ye={},ue(Pe,Pe={})),Pe[V]=ye[V]=Pt,Ct.uri=Z.XMLNS,Be.startPrefixMapping(V,Pt))}for($=xe.length;$--;)(xt=(Ct=xe[$]).prefix)&&("xml"===xt&&(Ct.uri=Z.XML),"xmlns"!==xt&&(Ct.uri=Pe[xt||""]));var Ae;(Ae=te.indexOf(":"))>0?(xt=xe.prefix=te.slice(0,Ae),L=xe.localName=te.slice(Ae+1)):(xt=null,L=xe.localName=te);var Ne=xe.uri=Pe[xt||""];if(Be.startElement(Ne,L,te,xe),!xe.closed)return xe.currentNSMap=Pe,xe.localNSMap=ye,!0;if(Be.endElement(Ne,L,te),ye)for(xt in ye)Object.prototype.hasOwnProperty.call(ye,xt)&&Be.endPrefixMapping(xt)}function D(xe,Be,Pe,te,ye){if(/^(?:script|textarea)$/i.test(Pe)){var Ct=xe.indexOf("</"+Pe+">",Be),wt=xe.substring(Be+1,Ct);if(/[&<]/.test(wt))return/^script$/i.test(Pe)?(ye.characters(wt,0,wt.length),Ct):(wt=wt.replace(/&#?\w+;/g,te),ye.characters(wt,0,wt.length),Ct)}return Be+1}function ae(xe,Be,Pe,te){var ye=te[Pe];return null==ye&&((ye=xe.lastIndexOf("</"+Pe+">"))<Be&&(ye=xe.lastIndexOf("</"+Pe)),te[Pe]=ye),ye<Be}function ue(xe,Be){for(var Pe in xe)Object.prototype.hasOwnProperty.call(xe,Pe)&&(Be[Pe]=xe[Pe])}function Le(xe,Be,Pe,te){if("-"===xe.charAt(Be+2))return"-"===xe.charAt(Be+3)?(Ct=xe.indexOf("--\x3e",Be+4))>Be?(Pe.comment(xe,Be+4,Ct-Be-4),Ct+3):(te.error("Unclosed comment"),-1):-1;if("CDATA["==xe.substr(Be+3,6)){var Ct=xe.indexOf("]]>",Be+9);return Pe.startCDATA(),Pe.characters(xe,Be+9,Ct-Be-9),Pe.endCDATA(),Ct+3}var wt=function re(xe,Be){var Pe,te=[],ye=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(ye.lastIndex=Be,ye.exec(xe);Pe=ye.exec(xe);)if(te.push(Pe),Pe[1])return te}(xe,Be),Pt=wt.length;if(Pt>1&&/!doctype/i.test(wt[0][0])){var xt=wt[1][0],L=!1,V=!1;Pt>3&&(/^public$/i.test(wt[2][0])?(L=wt[3][0],V=Pt>4&&wt[4][0]):/^system$/i.test(wt[2][0])&&(V=wt[3][0]));var $=wt[Pt-1];return Pe.startDTD(xt,L,V),Pe.endDTD(),$.index+$[0].length}return-1}function J(xe,Be,Pe){var te=xe.indexOf("?>",Be);if(te){var ye=xe.substring(Be,te).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return ye?(Pe.processingInstruction(ye[1],ye[2]),te+2):-1}return-1}function $e(){this.attributeNames={}}(j.prototype=new Error).name=j.name,W.prototype={parse:function(xe,Be,Pe){var te=this.domBuilder;te.startDocument(),ue(Be,Be={}),function se(xe,Be,Pe,te,ye){function wt(an){var un=an.slice(1,-1);return Object.hasOwnProperty.call(Pe,un)?Pe[un]:"#"===un.charAt(0)?function Ct(an){return an>65535?(an-=65536,String.fromCharCode(55296+(an>>10),56320+(1023&an))):String.fromCharCode(an)}(parseInt(un.substr(1).replace("x","0x"))):(ye.error("entity not found:"+an),an)}function Pt(an){if(an>Ye){var un=xe.substring(Ye,an).replace(/&#?\w+;/g,wt);Ae&&xt(Ye),te.characters(un,0,an-Ye),Ye=an}}function xt(an,un){for(;an>=V&&(un=$.exec(xe));)V=(L=un.index)+un[0].length,Ae.lineNumber++;Ae.columnNumber=an-L+1}for(var L=0,V=0,$=/.*(?:\r\n?|\n)|.*$/g,Ae=te.locator,Ne=[{currentNSMap:Be}],ht={},Ye=0;;){try{var mt=xe.indexOf("<",Ye);if(mt<0){if(!xe.substr(Ye).match(/^\s*$/)){var Wt=te.doc,Ut=Wt.createTextNode(xe.substr(Ye));Wt.appendChild(Ut),te.currentElement=Ut}return}switch(mt>Ye&&Pt(mt),xe.charAt(mt+1)){case"/":var Fe=xe.indexOf(">",mt+3),_t=xe.substring(mt+2,Fe).replace(/[ \t\n\r]+$/g,""),rn=Ne.pop();Fe<0?(_t=xe.substring(mt+2).replace(/[\s<].*/,""),ye.error("end tag name: "+_t+" is not complete:"+rn.tagName),Fe=mt+1+_t.length):_t.match(/\s</)&&(_t=_t.replace(/[\s<].*/,""),ye.error("end tag name: "+_t+" maybe not complete"),Fe=mt+1+_t.length);var sn=rn.localNSMap,Sn=rn.tagName==_t;if(Sn||rn.tagName&&rn.tagName.toLowerCase()==_t.toLowerCase()){if(te.endElement(rn.uri,rn.localName,_t),sn)for(var Yt in sn)Object.prototype.hasOwnProperty.call(sn,Yt)&&te.endPrefixMapping(Yt);Sn||ye.fatalError("end tag name: "+_t+" is not match the current start tagName:"+rn.tagName)}else Ne.push(rn);Fe++;break;case"?":Ae&&xt(mt),Fe=J(xe,mt,te);break;case"!":Ae&&xt(mt),Fe=Le(xe,mt,te,ye);break;default:Ae&&xt(mt);var G=new $e,He=Ne[Ne.length-1].currentNSMap,yt=(Fe=oe(xe,mt,G,He,wt,ye),G.length);if(!G.closed&&ae(xe,Fe,G.tagName,ht)&&(G.closed=!0,Pe.nbsp||ye.warning("unclosed xml attribute")),Ae&&yt){for(var qt=ge(Ae,{}),Mn=0;Mn<yt;Mn++){var Rn=G[Mn];xt(Rn.offset),Rn.locator=ge(Ae,{})}te.locator=qt,X(G,te,He)&&Ne.push(G),te.locator=Ae}else X(G,te,He)&&Ne.push(G);Z.isHTML(G.uri)&&!G.closed?Fe=D(xe,Fe,G.tagName,wt,te):Fe++}}catch(an){if(an instanceof j)throw an;ye.error("element parse error: "+an),Fe=-1}Fe>Ye?Ye=Fe:Pt(Math.max(mt,Ye)+1)}}(xe,Be,Pe,te,this.errorHandler),te.endDocument()}},$e.prototype={setTagName:function(xe){if(!Ve.test(xe))throw new Error("invalid tagName:"+xe);this.tagName=xe},addValue:function(xe,Be,Pe){if(!Ve.test(xe))throw new Error("invalid attribute:"+xe);this.attributeNames[xe]=this.length,this[this.length++]={qName:xe,value:Be,offset:Pe}},length:0,getLocalName:function(xe){return this[xe].localName},getLocator:function(xe){return this[xe].locator},getQName:function(xe){return this[xe].qName},getURI:function(xe){return this[xe].uri},getValue:function(xe){return this[xe].value}},Ue.XMLReader=W,Ue.ParseError=j},3450:(We,Ue)=>{"use strict";Ue.byteLength=function H(j){var W=ne(j),ge=W[1];return 3*(W[0]+ge)/4-ge},Ue.toByteArray=function f(j){var W,ue,se=ne(j),ge=se[0],oe=se[1],X=new ve(function k(j,W,se){return 3*(W+se)/4-se}(0,ge,oe)),D=0,ae=oe>0?ge-4:ge;for(ue=0;ue<ae;ue+=4)W=Z[j.charCodeAt(ue)]<<18|Z[j.charCodeAt(ue+1)]<<12|Z[j.charCodeAt(ue+2)]<<6|Z[j.charCodeAt(ue+3)],X[D++]=W>>16&255,X[D++]=W>>8&255,X[D++]=255&W;return 2===oe&&(W=Z[j.charCodeAt(ue)]<<2|Z[j.charCodeAt(ue+1)]>>4,X[D++]=255&W),1===oe&&(W=Z[j.charCodeAt(ue)]<<10|Z[j.charCodeAt(ue+1)]<<4|Z[j.charCodeAt(ue+2)]>>2,X[D++]=W>>8&255,X[D++]=255&W),X},Ue.fromByteArray=function be(j){for(var W,se=j.length,ge=se%3,oe=[],X=16383,D=0,ae=se-ge;D<ae;D+=X)oe.push(he(j,D,D+X>ae?ae:D+X));return 1===ge?oe.push(K[(W=j[se-1])>>2]+K[W<<4&63]+"=="):2===ge&&oe.push(K[(W=(j[se-2]<<8)+j[se-1])>>10]+K[W>>4&63]+K[W<<2&63]+"="),oe.join("")};for(var K=[],Z=[],ve=typeof Uint8Array<"u"?Uint8Array:Array,ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve=0;Ve<64;++Ve)K[Ve]=ce[Ve],Z[ce.charCodeAt(Ve)]=Ve;function ne(j){var W=j.length;if(W%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var se=j.indexOf("=");return-1===se&&(se=W),[se,se===W?0:4-se%4]}function Me(j){return K[j>>18&63]+K[j>>12&63]+K[j>>6&63]+K[63&j]}function he(j,W,se){for(var oe=[],X=W;X<se;X+=3)oe.push(Me((j[X]<<16&16711680)+(j[X+1]<<8&65280)+(255&j[X+2])));return oe.join("")}Z[45]=62,Z[95]=63},332:(We,Ue,K)=>{"use strict";var Z=K(4688),ve=K(7766),ce=K(7544),Ve=K(715);We.exports=Ve||Z.call(ce,ve)},7766:We=>{"use strict";We.exports=Function.prototype.apply},7544:We=>{"use strict";We.exports=Function.prototype.call},9138:(We,Ue,K)=>{"use strict";var Z=K(4688),ve=K(9327),ce=K(7544),Ve=K(332);We.exports=function(ne){if(ne.length<1||"function"!=typeof ne[0])throw new ve("a function is required");return Ve(Z,ce,ne)}},715:We=>{"use strict";We.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},448:(We,Ue,K)=>{"use strict";var Z=K(9249),ve=K(9138),ce=ve([Z("%String.prototype.indexOf%")]);We.exports=function(Se,ne){var H=Z(Se,!!ne);return"function"==typeof H&&ce(Se,".prototype.")>-1?ve([H]):H}},9660:(We,Ue,K)=>{"use strict";var ce,Z=K(9138),ve=K(1031);try{ce=[].__proto__===Array.prototype}catch(H){if(!H||"object"!=typeof H||!("code"in H)||"ERR_PROTO_ACCESS"!==H.code)throw H}var Ve=!!ce&&ve&&ve(Object.prototype,"__proto__"),Se=Object,ne=Se.getPrototypeOf;We.exports=Ve&&"function"==typeof Ve.get?Z([Ve.get]):"function"==typeof ne&&function(k){return ne(null==k?k:Se(k))}},2307:We=>{"use strict";var Ue=Object.defineProperty||!1;if(Ue)try{Ue({},"a",{value:1})}catch{Ue=!1}We.exports=Ue},7153:We=>{"use strict";We.exports=EvalError},939:We=>{"use strict";We.exports=Error},1486:We=>{"use strict";We.exports=RangeError},4654:We=>{"use strict";We.exports=ReferenceError},1144:We=>{"use strict";We.exports=SyntaxError},9327:We=>{"use strict";We.exports=TypeError},6005:We=>{"use strict";We.exports=URIError},3144:We=>{"use strict";We.exports=Object},421:We=>{"use strict";var K=Object.prototype.toString,Z=Math.max,ce=function(H,k){for(var f=[],Me=0;Me<H.length;Me+=1)f[Me]=H[Me];for(var he=0;he<k.length;he+=1)f[he+H.length]=k[he];return f};We.exports=function(H){var k=this;if("function"!=typeof k||"[object Function]"!==K.apply(k))throw new TypeError("Function.prototype.bind called on incompatible "+k);for(var Me,f=function(H){for(var f=[],Me=1,he=0;Me<H.length;Me+=1,he+=1)f[he]=H[Me];return f}(arguments),be=Z(0,k.length-f.length),j=[],W=0;W<be;W++)j[W]="$"+W;if(Me=Function("binder","return function ("+function(ne){for(var k="",f=0;f<ne.length;f+=1)k+=ne[f],f+1<ne.length&&(k+=",");return k}(j)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof Me){var ge=k.apply(this,ce(f,arguments));return Object(ge)===ge?ge:this}return k.apply(H,ce(f,arguments))}),k.prototype){var se=function(){};se.prototype=k.prototype,Me.prototype=new se,se.prototype=null}return Me}},4688:(We,Ue,K)=>{"use strict";var Z=K(421);We.exports=Function.prototype.bind||Z},9249:(We,Ue,K)=>{"use strict";var Z,ve=K(3144),ce=K(939),Ve=K(7153),Se=K(1486),ne=K(4654),H=K(1144),k=K(9327),f=K(6005),Me=K(7126),he=K(5092),be=K(8112),j=K(3390),W=K(2420),se=Function,ge=function(Wt){try{return se('"use strict"; return ('+Wt+").constructor;")()}catch{}},oe=K(1031),X=K(2307),D=function(){throw new k},ae=oe?function(){try{return D}catch{try{return oe(arguments,"callee").get}catch{return D}}}():D,ue=K(7067)(),Le=K(9660),J="function"==typeof Reflect&&Reflect.getPrototypeOf||ve.getPrototypeOf||Le,$e=K(7766),re=K(7544),xe={},Be=typeof Uint8Array>"u"||!J?Z:J(Uint8Array),Pe={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Z:ArrayBuffer,"%ArrayIteratorPrototype%":ue&&J?J([][Symbol.iterator]()):Z,"%AsyncFromSyncIteratorPrototype%":Z,"%AsyncFunction%":xe,"%AsyncGenerator%":xe,"%AsyncGeneratorFunction%":xe,"%AsyncIteratorPrototype%":xe,"%Atomics%":typeof Atomics>"u"?Z:Atomics,"%BigInt%":typeof BigInt>"u"?Z:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Z:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Z:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ce,"%eval%":eval,"%EvalError%":Ve,"%Float32Array%":typeof Float32Array>"u"?Z:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Z:FinalizationRegistry,"%Function%":se,"%GeneratorFunction%":xe,"%Int8Array%":typeof Int8Array>"u"?Z:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Z:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ue&&J?J(J([][Symbol.iterator]())):Z,"%JSON%":"object"==typeof JSON?JSON:Z,"%Map%":typeof Map>"u"?Z:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ue||!J?Z:J((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":ve,"%Object.getOwnPropertyDescriptor%":oe,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Z:Promise,"%Proxy%":typeof Proxy>"u"?Z:Proxy,"%RangeError%":Se,"%ReferenceError%":ne,"%Reflect%":typeof Reflect>"u"?Z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Z:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ue||!J?Z:J((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ue&&J?J(""[Symbol.iterator]()):Z,"%Symbol%":ue?Symbol:Z,"%SyntaxError%":H,"%ThrowTypeError%":ae,"%TypedArray%":Be,"%TypeError%":k,"%Uint8Array%":typeof Uint8Array>"u"?Z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Z:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Z:Uint32Array,"%URIError%":f,"%WeakMap%":typeof WeakMap>"u"?Z:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Z:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Z:WeakSet,"%Function.prototype.call%":re,"%Function.prototype.apply%":$e,"%Object.defineProperty%":X,"%Math.abs%":Me,"%Math.floor%":he,"%Math.max%":be,"%Math.min%":j,"%Math.pow%":W};if(J)try{null.error}catch(Wt){var te=J(J(Wt));Pe["%Error.prototype%"]=te}var ye=function Wt(Ut){var _t;if("%AsyncFunction%"===Ut)_t=ge("async function () {}");else if("%GeneratorFunction%"===Ut)_t=ge("function* () {}");else if("%AsyncGeneratorFunction%"===Ut)_t=ge("async function* () {}");else if("%AsyncGenerator%"===Ut){var rn=Wt("%AsyncGeneratorFunction%");rn&&(_t=rn.prototype)}else if("%AsyncIteratorPrototype%"===Ut){var sn=Wt("%AsyncGenerator%");sn&&J&&(_t=J(sn.prototype))}return Pe[Ut]=_t,_t},Ct={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},wt=K(4688),Pt=K(5961),xt=wt.call(re,Array.prototype.concat),L=wt.call($e,Array.prototype.splice),V=wt.call(re,String.prototype.replace),$=wt.call(re,String.prototype.slice),Ae=wt.call(re,RegExp.prototype.exec),Ne=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ht=/\\(\\)?/g,mt=function(Ut,_t){var sn,rn=Ut;if(Pt(Ct,rn)&&(rn="%"+(sn=Ct[rn])[0]+"%"),Pt(Pe,rn)){var Sn=Pe[rn];if(Sn===xe&&(Sn=ye(rn)),typeof Sn>"u"&&!_t)throw new k("intrinsic "+Ut+" exists, but is not available. Please file an issue!");return{alias:sn,name:rn,value:Sn}}throw new H("intrinsic "+Ut+" does not exist!")};We.exports=function(Ut,_t){if("string"!=typeof Ut||0===Ut.length)throw new k("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof _t)throw new k('"allowMissing" argument must be a boolean');if(null===Ae(/^%?[^%]*%?$/,Ut))throw new H("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var rn=function(Ut){var _t=$(Ut,0,1),rn=$(Ut,-1);if("%"===_t&&"%"!==rn)throw new H("invalid intrinsic syntax, expected closing `%`");if("%"===rn&&"%"!==_t)throw new H("invalid intrinsic syntax, expected opening `%`");var sn=[];return V(Ut,Ne,function(Sn,cn,Yt,G){sn[sn.length]=Yt?V(G,ht,"$1"):cn||Sn}),sn}(Ut),sn=rn.length>0?rn[0]:"",Sn=mt("%"+sn+"%",_t),cn=Sn.name,Yt=Sn.value,G=!1,He=Sn.alias;He&&(sn=He[0],L(rn,xt([0,1],He)));for(var Fe=1,yt=!0;Fe<rn.length;Fe+=1){var qt=rn[Fe],Mn=$(qt,0,1),Rn=$(qt,-1);if(('"'===Mn||"'"===Mn||"`"===Mn||'"'===Rn||"'"===Rn||"`"===Rn)&&Mn!==Rn)throw new H("property names with quotes must have matching quotes");if(("constructor"===qt||!yt)&&(G=!0),Pt(Pe,cn="%"+(sn+="."+qt)+"%"))Yt=Pe[cn];else if(null!=Yt){if(!(qt in Yt)){if(!_t)throw new k("base intrinsic for "+Ut+" exists, but the property is not available.");return}if(oe&&Fe+1>=rn.length){var an=oe(Yt,qt);Yt=(yt=!!an)&&"get"in an&&!("originalValue"in an.get)?an.get:Yt[qt]}else yt=Pt(Yt,qt),Yt=Yt[qt];yt&&!G&&(Pe[cn]=Yt)}}return Yt}},417:We=>{"use strict";We.exports=Object.getOwnPropertyDescriptor},1031:(We,Ue,K)=>{"use strict";var Z=K(417);if(Z)try{Z([],"length")}catch{Z=null}We.exports=Z},7067:(We,Ue,K)=>{"use strict";var Z=typeof Symbol<"u"&&Symbol,ve=K(5401);We.exports=function(){return"function"==typeof Z&&"function"==typeof Symbol&&"symbol"==typeof Z("foo")&&"symbol"==typeof Symbol("bar")&&ve()}},5401:We=>{"use strict";We.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var K={},Z=Symbol("test"),ve=Object(Z);if("string"==typeof Z||"[object Symbol]"!==Object.prototype.toString.call(Z)||"[object Symbol]"!==Object.prototype.toString.call(ve))return!1;for(var Ve in K[Z]=42,K)return!1;if("function"==typeof Object.keys&&0!==Object.keys(K).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(K).length)return!1;var Se=Object.getOwnPropertySymbols(K);if(1!==Se.length||Se[0]!==Z||!Object.prototype.propertyIsEnumerable.call(K,Z))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var ne=Object.getOwnPropertyDescriptor(K,Z);if(42!==ne.value||!0!==ne.enumerable)return!1}return!0}},5961:(We,Ue,K)=>{"use strict";var Z=Function.prototype.call,ve=Object.prototype.hasOwnProperty,ce=K(4688);We.exports=ce.call(Z,ve)},351:(We,Ue)=>{Ue.read=function(K,Z,ve,ce,Ve){var Se,ne,H=8*Ve-ce-1,k=(1<<H)-1,f=k>>1,Me=-7,he=ve?Ve-1:0,be=ve?-1:1,j=K[Z+he];for(he+=be,Se=j&(1<<-Me)-1,j>>=-Me,Me+=H;Me>0;Se=256*Se+K[Z+he],he+=be,Me-=8);for(ne=Se&(1<<-Me)-1,Se>>=-Me,Me+=ce;Me>0;ne=256*ne+K[Z+he],he+=be,Me-=8);if(0===Se)Se=1-f;else{if(Se===k)return ne?NaN:1/0*(j?-1:1);ne+=Math.pow(2,ce),Se-=f}return(j?-1:1)*ne*Math.pow(2,Se-ce)},Ue.write=function(K,Z,ve,ce,Ve,Se){var ne,H,k,f=8*Se-Ve-1,Me=(1<<f)-1,he=Me>>1,be=23===Ve?Math.pow(2,-24)-Math.pow(2,-77):0,j=ce?0:Se-1,W=ce?1:-1,se=Z<0||0===Z&&1/Z<0?1:0;for(Z=Math.abs(Z),isNaN(Z)||Z===1/0?(H=isNaN(Z)?1:0,ne=Me):(ne=Math.floor(Math.log(Z)/Math.LN2),Z*(k=Math.pow(2,-ne))<1&&(ne--,k*=2),(Z+=ne+he>=1?be/k:be*Math.pow(2,1-he))*k>=2&&(ne++,k/=2),ne+he>=Me?(H=0,ne=Me):ne+he>=1?(H=(Z*k-1)*Math.pow(2,Ve),ne+=he):(H=Z*Math.pow(2,he-1)*Math.pow(2,Ve),ne=0));Ve>=8;K[ve+j]=255&H,j+=W,H/=256,Ve-=8);for(ne=ne<<Ve|H,f+=Ve;f>0;K[ve+j]=255&ne,j+=W,ne/=256,f-=8);K[ve+j-W]|=128*se}},7126:We=>{"use strict";We.exports=Math.abs},5092:We=>{"use strict";We.exports=Math.floor},8112:We=>{"use strict";We.exports=Math.max},3390:We=>{"use strict";We.exports=Math.min},2420:We=>{"use strict";We.exports=Math.pow},6148:(We,Ue,K)=>{"use strict";const ve=K(3450),ce=K(351),Ve="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Ue.hp=k,Ue.IS=50;const Se=2147483647;function H(N){if(N>Se)throw new RangeError('The value "'+N+'" is invalid for option "size"');const A=new Uint8Array(N);return Object.setPrototypeOf(A,k.prototype),A}function k(N,A,S){if("number"==typeof N){if("string"==typeof A)throw new TypeError('The "string" argument must be of type string. Received type number');return be(N)}return f(N,A,S)}function f(N,A,S){if("string"==typeof N)return function j(N,A){if(("string"!=typeof A||""===A)&&(A="utf8"),!k.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const S=0|ae(N,A);let U=H(S);const _e=U.write(N,A);return _e!==S&&(U=U.slice(0,_e)),U}(N,A);if(ArrayBuffer.isView(N))return function se(N){if(un(N,Uint8Array)){const A=new Uint8Array(N);return ge(A.buffer,A.byteOffset,A.byteLength)}return W(N)}(N);if(null==N)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(un(N,ArrayBuffer)||N&&un(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(un(N,SharedArrayBuffer)||N&&un(N.buffer,SharedArrayBuffer)))return ge(N,A,S);if("number"==typeof N)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=N.valueOf&&N.valueOf();if(null!=U&&U!==N)return k.from(U,A,S);const _e=function oe(N){if(k.isBuffer(N)){const A=0|X(N.length),S=H(A);return 0===S.length||N.copy(S,0,0,A),S}return void 0!==N.length?"number"!=typeof N.length||On(N.length)?H(0):W(N):"Buffer"===N.type&&Array.isArray(N.data)?W(N.data):void 0}(N);if(_e)return _e;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof N[Symbol.toPrimitive])return k.from(N[Symbol.toPrimitive]("string"),A,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}function Me(N){if("number"!=typeof N)throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function be(N){return Me(N),H(N<0?0:0|X(N))}function W(N){const A=N.length<0?0:0|X(N.length),S=H(A);for(let U=0;U<A;U+=1)S[U]=255&N[U];return S}function ge(N,A,S){if(A<0||N.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<A+(S||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===A&&void 0===S?new Uint8Array(N):void 0===S?new Uint8Array(N,A):new Uint8Array(N,A,S),Object.setPrototypeOf(U,k.prototype),U}function X(N){if(N>=Se)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Se.toString(16)+" bytes");return 0|N}function ae(N,A){if(k.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||un(N,ArrayBuffer))return N.byteLength;if("string"!=typeof N)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const S=N.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===S)return 0;let _e=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return yt(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*S;case"hex":return S>>>1;case"base64":return Rn(N).length;default:if(_e)return U?-1:yt(N).length;A=(""+A).toLowerCase(),_e=!0}}function ue(N,A,S){let U=!1;if((void 0===A||A<0)&&(A=0),A>this.length||((void 0===S||S>this.length)&&(S=this.length),S<=0)||(S>>>=0)<=(A>>>=0))return"";for(N||(N="utf8");;)switch(N){case"hex":return V(this,A,S);case"utf8":case"utf-8":return Ct(this,A,S);case"ascii":return xt(this,A,S);case"latin1":case"binary":return L(this,A,S);case"base64":return ye(this,A,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,A,S);default:if(U)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),U=!0}}function Le(N,A,S){const U=N[A];N[A]=N[S],N[S]=U}function J(N,A,S,U,_e){if(0===N.length)return-1;if("string"==typeof S?(U=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),On(S=+S)&&(S=_e?0:N.length-1),S<0&&(S=N.length+S),S>=N.length){if(_e)return-1;S=N.length-1}else if(S<0){if(!_e)return-1;S=0}if("string"==typeof A&&(A=k.from(A,U)),k.isBuffer(A))return 0===A.length?-1:$e(N,A,S,U,_e);if("number"==typeof A)return A&=255,"function"==typeof Uint8Array.prototype.indexOf?_e?Uint8Array.prototype.indexOf.call(N,A,S):Uint8Array.prototype.lastIndexOf.call(N,A,S):$e(N,[A],S,U,_e);throw new TypeError("val must be string, number or Buffer")}function $e(N,A,S,U,_e){let Re,Je=1,lt=N.length,ln=A.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(N.length<2||A.length<2)return-1;Je=2,lt/=2,ln/=2,S/=2}function Te(le,ze){return 1===Je?le[ze]:le.readUInt16BE(ze*Je)}if(_e){let le=-1;for(Re=S;Re<lt;Re++)if(Te(N,Re)===Te(A,-1===le?0:Re-le)){if(-1===le&&(le=Re),Re-le+1===ln)return le*Je}else-1!==le&&(Re-=Re-le),le=-1}else for(S+ln>lt&&(S=lt-ln),Re=S;Re>=0;Re--){let le=!0;for(let ze=0;ze<ln;ze++)if(Te(N,Re+ze)!==Te(A,ze)){le=!1;break}if(le)return Re}return-1}function re(N,A,S,U){S=Number(S)||0;const _e=N.length-S;U?(U=Number(U))>_e&&(U=_e):U=_e;const Je=A.length;let lt;for(U>Je/2&&(U=Je/2),lt=0;lt<U;++lt){const ln=parseInt(A.substr(2*lt,2),16);if(On(ln))return lt;N[S+lt]=ln}return lt}function xe(N,A,S,U){return an(yt(A,N.length-S),N,S,U)}function Be(N,A,S,U){return an(function qt(N){const A=[];for(let S=0;S<N.length;++S)A.push(255&N.charCodeAt(S));return A}(A),N,S,U)}function Pe(N,A,S,U){return an(Rn(A),N,S,U)}function te(N,A,S,U){return an(function Mn(N,A){let S,U,_e;const Je=[];for(let lt=0;lt<N.length&&!((A-=2)<0);++lt)S=N.charCodeAt(lt),U=S>>8,_e=S%256,Je.push(_e),Je.push(U);return Je}(A,N.length-S),N,S,U)}function ye(N,A,S){return ve.fromByteArray(0===A&&S===N.length?N:N.slice(A,S))}function Ct(N,A,S){S=Math.min(N.length,S);const U=[];let _e=A;for(;_e<S;){const Je=N[_e];let lt=null,ln=Je>239?4:Je>223?3:Je>191?2:1;if(_e+ln<=S){let Te,Re,le,ze;switch(ln){case 1:Je<128&&(lt=Je);break;case 2:Te=N[_e+1],128==(192&Te)&&(ze=(31&Je)<<6|63&Te,ze>127&&(lt=ze));break;case 3:Te=N[_e+1],Re=N[_e+2],128==(192&Te)&&128==(192&Re)&&(ze=(15&Je)<<12|(63&Te)<<6|63&Re,ze>2047&&(ze<55296||ze>57343)&&(lt=ze));break;case 4:Te=N[_e+1],Re=N[_e+2],le=N[_e+3],128==(192&Te)&&128==(192&Re)&&128==(192&le)&&(ze=(15&Je)<<18|(63&Te)<<12|(63&Re)<<6|63&le,ze>65535&&ze<1114112&&(lt=ze))}}null===lt?(lt=65533,ln=1):lt>65535&&(lt-=65536,U.push(lt>>>10&1023|55296),lt=56320|1023&lt),U.push(lt),_e+=ln}return function Pt(N){const A=N.length;if(A<=wt)return String.fromCharCode.apply(String,N);let S="",U=0;for(;U<A;)S+=String.fromCharCode.apply(String,N.slice(U,U+=wt));return S}(U)}!(k.TYPED_ARRAY_SUPPORT=function ne(){try{const N=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(N,A),42===N.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(k.prototype,"parent",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.buffer}}),Object.defineProperty(k.prototype,"offset",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.byteOffset}}),k.poolSize=8192,k.from=function(N,A,S){return f(N,A,S)},Object.setPrototypeOf(k.prototype,Uint8Array.prototype),Object.setPrototypeOf(k,Uint8Array),k.alloc=function(N,A,S){return function he(N,A,S){return Me(N),N<=0?H(N):void 0!==A?"string"==typeof S?H(N).fill(A,S):H(N).fill(A):H(N)}(N,A,S)},k.allocUnsafe=function(N){return be(N)},k.allocUnsafeSlow=function(N){return be(N)},k.isBuffer=function(A){return null!=A&&!0===A._isBuffer&&A!==k.prototype},k.compare=function(A,S){if(un(A,Uint8Array)&&(A=k.from(A,A.offset,A.byteLength)),un(S,Uint8Array)&&(S=k.from(S,S.offset,S.byteLength)),!k.isBuffer(A)||!k.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===S)return 0;let U=A.length,_e=S.length;for(let Je=0,lt=Math.min(U,_e);Je<lt;++Je)if(A[Je]!==S[Je]){U=A[Je],_e=S[Je];break}return U<_e?-1:_e<U?1:0},k.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},k.concat=function(A,S){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(0===A.length)return k.alloc(0);let U;if(void 0===S)for(S=0,U=0;U<A.length;++U)S+=A[U].length;const _e=k.allocUnsafe(S);let Je=0;for(U=0;U<A.length;++U){let lt=A[U];if(un(lt,Uint8Array))Je+lt.length>_e.length?(k.isBuffer(lt)||(lt=k.from(lt)),lt.copy(_e,Je)):Uint8Array.prototype.set.call(_e,lt,Je);else{if(!k.isBuffer(lt))throw new TypeError('"list" argument must be an Array of Buffers');lt.copy(_e,Je)}Je+=lt.length}return _e},k.byteLength=ae,k.prototype._isBuffer=!0,k.prototype.swap16=function(){const A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<A;S+=2)Le(this,S,S+1);return this},k.prototype.swap32=function(){const A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<A;S+=4)Le(this,S,S+3),Le(this,S+1,S+2);return this},k.prototype.swap64=function(){const A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<A;S+=8)Le(this,S,S+7),Le(this,S+1,S+6),Le(this,S+2,S+5),Le(this,S+3,S+4);return this},k.prototype.toLocaleString=k.prototype.toString=function(){const A=this.length;return 0===A?"":0===arguments.length?Ct(this,0,A):ue.apply(this,arguments)},k.prototype.equals=function(A){if(!k.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A||0===k.compare(this,A)},k.prototype.inspect=function(){let A="";const S=Ue.IS;return A=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(A+=" ... "),"<Buffer "+A+">"},Ve&&(k.prototype[Ve]=k.prototype.inspect),k.prototype.compare=function(A,S,U,_e,Je){if(un(A,Uint8Array)&&(A=k.from(A,A.offset,A.byteLength)),!k.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(void 0===S&&(S=0),void 0===U&&(U=A?A.length:0),void 0===_e&&(_e=0),void 0===Je&&(Je=this.length),S<0||U>A.length||_e<0||Je>this.length)throw new RangeError("out of range index");if(_e>=Je&&S>=U)return 0;if(_e>=Je)return-1;if(S>=U)return 1;if(this===A)return 0;let lt=(Je>>>=0)-(_e>>>=0),ln=(U>>>=0)-(S>>>=0);const Te=Math.min(lt,ln),Re=this.slice(_e,Je),le=A.slice(S,U);for(let ze=0;ze<Te;++ze)if(Re[ze]!==le[ze]){lt=Re[ze],ln=le[ze];break}return lt<ln?-1:ln<lt?1:0},k.prototype.includes=function(A,S,U){return-1!==this.indexOf(A,S,U)},k.prototype.indexOf=function(A,S,U){return J(this,A,S,U,!0)},k.prototype.lastIndexOf=function(A,S,U){return J(this,A,S,U,!1)},k.prototype.write=function(A,S,U,_e){if(void 0===S)_e="utf8",U=this.length,S=0;else if(void 0===U&&"string"==typeof S)_e=S,U=this.length,S=0;else{if(!isFinite(S))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");S>>>=0,isFinite(U)?(U>>>=0,void 0===_e&&(_e="utf8")):(_e=U,U=void 0)}const Je=this.length-S;if((void 0===U||U>Je)&&(U=Je),A.length>0&&(U<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");_e||(_e="utf8");let lt=!1;for(;;)switch(_e){case"hex":return re(this,A,S,U);case"utf8":case"utf-8":return xe(this,A,S,U);case"ascii":case"latin1":case"binary":return Be(this,A,S,U);case"base64":return Pe(this,A,S,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,A,S,U);default:if(lt)throw new TypeError("Unknown encoding: "+_e);_e=(""+_e).toLowerCase(),lt=!0}},k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const wt=4096;function xt(N,A,S){let U="";S=Math.min(N.length,S);for(let _e=A;_e<S;++_e)U+=String.fromCharCode(127&N[_e]);return U}function L(N,A,S){let U="";S=Math.min(N.length,S);for(let _e=A;_e<S;++_e)U+=String.fromCharCode(N[_e]);return U}function V(N,A,S){const U=N.length;(!A||A<0)&&(A=0),(!S||S<0||S>U)&&(S=U);let _e="";for(let Je=A;Je<S;++Je)_e+=Zn[N[Je]];return _e}function $(N,A,S){const U=N.slice(A,S);let _e="";for(let Je=0;Je<U.length-1;Je+=2)_e+=String.fromCharCode(U[Je]+256*U[Je+1]);return _e}function Ae(N,A,S){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(N+A>S)throw new RangeError("Trying to access beyond buffer length")}function Ne(N,A,S,U,_e,Je){if(!k.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>_e||A<Je)throw new RangeError('"value" argument is out of bounds');if(S+U>N.length)throw new RangeError("Index out of range")}function ht(N,A,S,U,_e){cn(A,U,_e,N,S,7);let Je=Number(A&BigInt(4294967295));N[S++]=Je,Je>>=8,N[S++]=Je,Je>>=8,N[S++]=Je,Je>>=8,N[S++]=Je;let lt=Number(A>>BigInt(32)&BigInt(4294967295));return N[S++]=lt,lt>>=8,N[S++]=lt,lt>>=8,N[S++]=lt,lt>>=8,N[S++]=lt,S}function Ye(N,A,S,U,_e){cn(A,U,_e,N,S,7);let Je=Number(A&BigInt(4294967295));N[S+7]=Je,Je>>=8,N[S+6]=Je,Je>>=8,N[S+5]=Je,Je>>=8,N[S+4]=Je;let lt=Number(A>>BigInt(32)&BigInt(4294967295));return N[S+3]=lt,lt>>=8,N[S+2]=lt,lt>>=8,N[S+1]=lt,lt>>=8,N[S]=lt,S+8}function mt(N,A,S,U,_e,Je){if(S+U>N.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function Wt(N,A,S,U,_e){return A=+A,S>>>=0,_e||mt(N,0,S,4),ce.write(N,A,S,U,23,4),S+4}function Ut(N,A,S,U,_e){return A=+A,S>>>=0,_e||mt(N,0,S,8),ce.write(N,A,S,U,52,8),S+8}k.prototype.slice=function(A,S){const U=this.length;(A=~~A)<0?(A+=U)<0&&(A=0):A>U&&(A=U),(S=void 0===S?U:~~S)<0?(S+=U)<0&&(S=0):S>U&&(S=U),S<A&&(S=A);const _e=this.subarray(A,S);return Object.setPrototypeOf(_e,k.prototype),_e},k.prototype.readUintLE=k.prototype.readUIntLE=function(A,S,U){A>>>=0,S>>>=0,U||Ae(A,S,this.length);let _e=this[A],Je=1,lt=0;for(;++lt<S&&(Je*=256);)_e+=this[A+lt]*Je;return _e},k.prototype.readUintBE=k.prototype.readUIntBE=function(A,S,U){A>>>=0,S>>>=0,U||Ae(A,S,this.length);let _e=this[A+--S],Je=1;for(;S>0&&(Je*=256);)_e+=this[A+--S]*Je;return _e},k.prototype.readUint8=k.prototype.readUInt8=function(A,S){return A>>>=0,S||Ae(A,1,this.length),this[A]},k.prototype.readUint16LE=k.prototype.readUInt16LE=function(A,S){return A>>>=0,S||Ae(A,2,this.length),this[A]|this[A+1]<<8},k.prototype.readUint16BE=k.prototype.readUInt16BE=function(A,S){return A>>>=0,S||Ae(A,2,this.length),this[A]<<8|this[A+1]},k.prototype.readUint32LE=k.prototype.readUInt32LE=function(A,S){return A>>>=0,S||Ae(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},k.prototype.readUint32BE=k.prototype.readUInt32BE=function(A,S){return A>>>=0,S||Ae(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},k.prototype.readBigUInt64LE=_r(function(A){Yt(A>>>=0,"offset");const S=this[A],U=this[A+7];(void 0===S||void 0===U)&&G(A,this.length-8);const _e=S+256*this[++A]+65536*this[++A]+this[++A]*2**24,Je=this[++A]+256*this[++A]+65536*this[++A]+U*2**24;return BigInt(_e)+(BigInt(Je)<<BigInt(32))}),k.prototype.readBigUInt64BE=_r(function(A){Yt(A>>>=0,"offset");const S=this[A],U=this[A+7];(void 0===S||void 0===U)&&G(A,this.length-8);const _e=S*2**24+65536*this[++A]+256*this[++A]+this[++A],Je=this[++A]*2**24+65536*this[++A]+256*this[++A]+U;return(BigInt(_e)<<BigInt(32))+BigInt(Je)}),k.prototype.readIntLE=function(A,S,U){A>>>=0,S>>>=0,U||Ae(A,S,this.length);let _e=this[A],Je=1,lt=0;for(;++lt<S&&(Je*=256);)_e+=this[A+lt]*Je;return Je*=128,_e>=Je&&(_e-=Math.pow(2,8*S)),_e},k.prototype.readIntBE=function(A,S,U){A>>>=0,S>>>=0,U||Ae(A,S,this.length);let _e=S,Je=1,lt=this[A+--_e];for(;_e>0&&(Je*=256);)lt+=this[A+--_e]*Je;return Je*=128,lt>=Je&&(lt-=Math.pow(2,8*S)),lt},k.prototype.readInt8=function(A,S){return A>>>=0,S||Ae(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},k.prototype.readInt16LE=function(A,S){A>>>=0,S||Ae(A,2,this.length);const U=this[A]|this[A+1]<<8;return 32768&U?4294901760|U:U},k.prototype.readInt16BE=function(A,S){A>>>=0,S||Ae(A,2,this.length);const U=this[A+1]|this[A]<<8;return 32768&U?4294901760|U:U},k.prototype.readInt32LE=function(A,S){return A>>>=0,S||Ae(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},k.prototype.readInt32BE=function(A,S){return A>>>=0,S||Ae(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},k.prototype.readBigInt64LE=_r(function(A){Yt(A>>>=0,"offset");const S=this[A],U=this[A+7];return(void 0===S||void 0===U)&&G(A,this.length-8),(BigInt(this[A+4]+256*this[A+5]+65536*this[A+6]+(U<<24))<<BigInt(32))+BigInt(S+256*this[++A]+65536*this[++A]+this[++A]*2**24)}),k.prototype.readBigInt64BE=_r(function(A){Yt(A>>>=0,"offset");const S=this[A],U=this[A+7];(void 0===S||void 0===U)&&G(A,this.length-8);const _e=(S<<24)+65536*this[++A]+256*this[++A]+this[++A];return(BigInt(_e)<<BigInt(32))+BigInt(this[++A]*2**24+65536*this[++A]+256*this[++A]+U)}),k.prototype.readFloatLE=function(A,S){return A>>>=0,S||Ae(A,4,this.length),ce.read(this,A,!0,23,4)},k.prototype.readFloatBE=function(A,S){return A>>>=0,S||Ae(A,4,this.length),ce.read(this,A,!1,23,4)},k.prototype.readDoubleLE=function(A,S){return A>>>=0,S||Ae(A,8,this.length),ce.read(this,A,!0,52,8)},k.prototype.readDoubleBE=function(A,S){return A>>>=0,S||Ae(A,8,this.length),ce.read(this,A,!1,52,8)},k.prototype.writeUintLE=k.prototype.writeUIntLE=function(A,S,U,_e){A=+A,S>>>=0,U>>>=0,_e||Ne(this,A,S,U,Math.pow(2,8*U)-1,0);let Je=1,lt=0;for(this[S]=255&A;++lt<U&&(Je*=256);)this[S+lt]=A/Je&255;return S+U},k.prototype.writeUintBE=k.prototype.writeUIntBE=function(A,S,U,_e){A=+A,S>>>=0,U>>>=0,_e||Ne(this,A,S,U,Math.pow(2,8*U)-1,0);let Je=U-1,lt=1;for(this[S+Je]=255&A;--Je>=0&&(lt*=256);)this[S+Je]=A/lt&255;return S+U},k.prototype.writeUint8=k.prototype.writeUInt8=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,1,255,0),this[S]=255&A,S+1},k.prototype.writeUint16LE=k.prototype.writeUInt16LE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,2,65535,0),this[S]=255&A,this[S+1]=A>>>8,S+2},k.prototype.writeUint16BE=k.prototype.writeUInt16BE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,2,65535,0),this[S]=A>>>8,this[S+1]=255&A,S+2},k.prototype.writeUint32LE=k.prototype.writeUInt32LE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,4,4294967295,0),this[S+3]=A>>>24,this[S+2]=A>>>16,this[S+1]=A>>>8,this[S]=255&A,S+4},k.prototype.writeUint32BE=k.prototype.writeUInt32BE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,4,4294967295,0),this[S]=A>>>24,this[S+1]=A>>>16,this[S+2]=A>>>8,this[S+3]=255&A,S+4},k.prototype.writeBigUInt64LE=_r(function(A,S=0){return ht(this,A,S,BigInt(0),BigInt("0xffffffffffffffff"))}),k.prototype.writeBigUInt64BE=_r(function(A,S=0){return Ye(this,A,S,BigInt(0),BigInt("0xffffffffffffffff"))}),k.prototype.writeIntLE=function(A,S,U,_e){if(A=+A,S>>>=0,!_e){const Te=Math.pow(2,8*U-1);Ne(this,A,S,U,Te-1,-Te)}let Je=0,lt=1,ln=0;for(this[S]=255&A;++Je<U&&(lt*=256);)A<0&&0===ln&&0!==this[S+Je-1]&&(ln=1),this[S+Je]=(A/lt|0)-ln&255;return S+U},k.prototype.writeIntBE=function(A,S,U,_e){if(A=+A,S>>>=0,!_e){const Te=Math.pow(2,8*U-1);Ne(this,A,S,U,Te-1,-Te)}let Je=U-1,lt=1,ln=0;for(this[S+Je]=255&A;--Je>=0&&(lt*=256);)A<0&&0===ln&&0!==this[S+Je+1]&&(ln=1),this[S+Je]=(A/lt|0)-ln&255;return S+U},k.prototype.writeInt8=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,1,127,-128),A<0&&(A=255+A+1),this[S]=255&A,S+1},k.prototype.writeInt16LE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,2,32767,-32768),this[S]=255&A,this[S+1]=A>>>8,S+2},k.prototype.writeInt16BE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,2,32767,-32768),this[S]=A>>>8,this[S+1]=255&A,S+2},k.prototype.writeInt32LE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,4,2147483647,-2147483648),this[S]=255&A,this[S+1]=A>>>8,this[S+2]=A>>>16,this[S+3]=A>>>24,S+4},k.prototype.writeInt32BE=function(A,S,U){return A=+A,S>>>=0,U||Ne(this,A,S,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[S]=A>>>24,this[S+1]=A>>>16,this[S+2]=A>>>8,this[S+3]=255&A,S+4},k.prototype.writeBigInt64LE=_r(function(A,S=0){return ht(this,A,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),k.prototype.writeBigInt64BE=_r(function(A,S=0){return Ye(this,A,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),k.prototype.writeFloatLE=function(A,S,U){return Wt(this,A,S,!0,U)},k.prototype.writeFloatBE=function(A,S,U){return Wt(this,A,S,!1,U)},k.prototype.writeDoubleLE=function(A,S,U){return Ut(this,A,S,!0,U)},k.prototype.writeDoubleBE=function(A,S,U){return Ut(this,A,S,!1,U)},k.prototype.copy=function(A,S,U,_e){if(!k.isBuffer(A))throw new TypeError("argument should be a Buffer");if(U||(U=0),!_e&&0!==_e&&(_e=this.length),S>=A.length&&(S=A.length),S||(S=0),_e>0&&_e<U&&(_e=U),_e===U||0===A.length||0===this.length)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("sourceEnd out of bounds");_e>this.length&&(_e=this.length),A.length-S<_e-U&&(_e=A.length-S+U);const Je=_e-U;return this===A&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(S,U,_e):Uint8Array.prototype.set.call(A,this.subarray(U,_e),S),Je},k.prototype.fill=function(A,S,U,_e){if("string"==typeof A){if("string"==typeof S?(_e=S,S=0,U=this.length):"string"==typeof U&&(_e=U,U=this.length),void 0!==_e&&"string"!=typeof _e)throw new TypeError("encoding must be a string");if("string"==typeof _e&&!k.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e);if(1===A.length){const lt=A.charCodeAt(0);("utf8"===_e&&lt<128||"latin1"===_e)&&(A=lt)}}else"number"==typeof A?A&=255:"boolean"==typeof A&&(A=Number(A));if(S<0||this.length<S||this.length<U)throw new RangeError("Out of range index");if(U<=S)return this;let Je;if(S>>>=0,U=void 0===U?this.length:U>>>0,A||(A=0),"number"==typeof A)for(Je=S;Je<U;++Je)this[Je]=A;else{const lt=k.isBuffer(A)?A:k.from(A,_e),ln=lt.length;if(0===ln)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(Je=0;Je<U-S;++Je)this[Je+S]=lt[Je%ln]}return this};const _t={};function rn(N,A,S){_t[N]=class extends S{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,delete this.name}get code(){return N}set code(_e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_e,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}function sn(N){let A="",S=N.length;const U="-"===N[0]?1:0;for(;S>=U+4;S-=3)A=`_${N.slice(S-3,S)}${A}`;return`${N.slice(0,S)}${A}`}function cn(N,A,S,U,_e,Je){if(N>S||N<A){const lt="bigint"==typeof A?"n":"";let ln;throw ln=Je>3?0===A||A===BigInt(0)?`>= 0${lt} and < 2${lt} ** ${8*(Je+1)}${lt}`:`>= -(2${lt} ** ${8*(Je+1)-1}${lt}) and < 2 ** ${8*(Je+1)-1}${lt}`:`>= ${A}${lt} and <= ${S}${lt}`,new _t.ERR_OUT_OF_RANGE("value",ln,N)}!function Sn(N,A,S){Yt(A,"offset"),(void 0===N[A]||void 0===N[A+S])&&G(A,N.length-(S+1))}(U,_e,Je)}function Yt(N,A){if("number"!=typeof N)throw new _t.ERR_INVALID_ARG_TYPE(A,"number",N)}function G(N,A,S){throw Math.floor(N)!==N?(Yt(N,S),new _t.ERR_OUT_OF_RANGE(S||"offset","an integer",N)):A<0?new _t.ERR_BUFFER_OUT_OF_BOUNDS:new _t.ERR_OUT_OF_RANGE(S||"offset",`>= ${S?1:0} and <= ${A}`,N)}rn("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),rn("ERR_INVALID_ARG_TYPE",function(N,A){return`The "${N}" argument must be of type number. Received type ${typeof A}`},TypeError),rn("ERR_OUT_OF_RANGE",function(N,A,S){let U=`The value of "${N}" is out of range.`,_e=S;return Number.isInteger(S)&&Math.abs(S)>2**32?_e=sn(String(S)):"bigint"==typeof S&&(_e=String(S),(S>BigInt(2)**BigInt(32)||S<-(BigInt(2)**BigInt(32)))&&(_e=sn(_e)),_e+="n"),U+=` It must be ${A}. Received ${_e}`,U},RangeError);const He=/[^+/0-9A-Za-z-_]/g;function yt(N,A){let S;A=A||1/0;const U=N.length;let _e=null;const Je=[];for(let lt=0;lt<U;++lt){if(S=N.charCodeAt(lt),S>55295&&S<57344){if(!_e){if(S>56319){(A-=3)>-1&&Je.push(239,191,189);continue}if(lt+1===U){(A-=3)>-1&&Je.push(239,191,189);continue}_e=S;continue}if(S<56320){(A-=3)>-1&&Je.push(239,191,189),_e=S;continue}S=65536+(_e-55296<<10|S-56320)}else _e&&(A-=3)>-1&&Je.push(239,191,189);if(_e=null,S<128){if((A-=1)<0)break;Je.push(S)}else if(S<2048){if((A-=2)<0)break;Je.push(S>>6|192,63&S|128)}else if(S<65536){if((A-=3)<0)break;Je.push(S>>12|224,S>>6&63|128,63&S|128)}else{if(!(S<1114112))throw new Error("Invalid code point");if((A-=4)<0)break;Je.push(S>>18|240,S>>12&63|128,S>>6&63|128,63&S|128)}}return Je}function Rn(N){return ve.toByteArray(function Fe(N){if((N=(N=N.split("=")[0]).trim().replace(He,"")).length<2)return"";for(;N.length%4!=0;)N+="=";return N}(N))}function an(N,A,S,U){let _e;for(_e=0;_e<U&&!(_e+S>=A.length||_e>=N.length);++_e)A[_e+S]=N[_e];return _e}function un(N,A){return N instanceof A||null!=N&&null!=N.constructor&&null!=N.constructor.name&&N.constructor.name===A.name}function On(N){return N!=N}const Zn=function(){const N="0123456789abcdef",A=new Array(256);for(let S=0;S<16;++S){const U=16*S;for(let _e=0;_e<16;++_e)A[U+_e]=N[S]+N[_e]}return A}();function _r(N){return typeof BigInt>"u"?qr:N}function qr(){throw new Error("BigInt not supported")}},9711:(We,Ue,K)=>{var Z="function"==typeof Map&&Map.prototype,ve=Object.getOwnPropertyDescriptor&&Z?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ce=Z&&ve&&"function"==typeof ve.get?ve.get:null,Ve=Z&&Map.prototype.forEach,Se="function"==typeof Set&&Set.prototype,ne=Object.getOwnPropertyDescriptor&&Se?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,H=Se&&ne&&"function"==typeof ne.get?ne.get:null,k=Se&&Set.prototype.forEach,Me="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,be="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,W="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,se=Boolean.prototype.valueOf,ge=Object.prototype.toString,oe=Function.prototype.toString,X=String.prototype.match,D=String.prototype.slice,ae=String.prototype.replace,ue=String.prototype.toUpperCase,Le=String.prototype.toLowerCase,J=RegExp.prototype.test,$e=Array.prototype.concat,re=Array.prototype.join,xe=Array.prototype.slice,Be=Math.floor,Pe="function"==typeof BigInt?BigInt.prototype.valueOf:null,te=Object.getOwnPropertySymbols,ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ct="function"==typeof Symbol&&"object"==typeof Symbol.iterator,wt="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Pt=Object.prototype.propertyIsEnumerable,xt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Te){return Te.__proto__}:null);function L(Te,Re){if(Te===1/0||Te===-1/0||Te!=Te||Te&&Te>-1e3&&Te<1e3||J.call(/e/,Re))return Re;var le=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Te){var ze=Te<0?-Be(-Te):Be(Te);if(ze!==Te){var ct=String(ze),st=D.call(Re,ct.length+1);return ae.call(ct,le,"$&_")+"."+ae.call(ae.call(st,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ae.call(Re,le,"$&_")}var V=K(2634),$=V.custom,Ae=Yt($)?$:null,Ne={__proto__:null,double:'"',single:"'"},ht={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function Ye(Te,Re,le){var ct=Ne[le.quoteStyle||Re];return ct+Te+ct}function mt(Te){return ae.call(String(Te),/"/g,"&quot;")}function Wt(Te){return!("[object Array]"!==yt(Te)||wt&&"object"==typeof Te&&wt in Te)}function _t(Te){return!("[object RegExp]"!==yt(Te)||wt&&"object"==typeof Te&&wt in Te)}function Yt(Te){if(Ct)return Te&&"object"==typeof Te&&Te instanceof Symbol;if("symbol"==typeof Te)return!0;if(!Te||"object"!=typeof Te||!ye)return!1;try{return ye.call(Te),!0}catch{}return!1}We.exports=function Te(Re,le,ze,ct){var st=le||{};if(Fe(st,"quoteStyle")&&!Fe(Ne,st.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Fe(st,"maxStringLength")&&("number"==typeof st.maxStringLength?st.maxStringLength<0&&st.maxStringLength!==1/0:null!==st.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Qt=!Fe(st,"customInspect")||st.customInspect;if("boolean"!=typeof Qt&&"symbol"!==Qt)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Fe(st,"indent")&&null!==st.indent&&"\t"!==st.indent&&!(parseInt(st.indent,10)===st.indent&&st.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Fe(st,"numericSeparator")&&"boolean"!=typeof st.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Vn=st.numericSeparator;if(typeof Re>"u")return"undefined";if(null===Re)return"null";if("boolean"==typeof Re)return Re?"true":"false";if("string"==typeof Re)return qr(Re,st);if("number"==typeof Re){if(0===Re)return 1/0/Re>0?"0":"-0";var Dn=String(Re);return Vn?L(Re,Dn):Dn}if("bigint"==typeof Re){var _n=String(Re)+"n";return Vn?L(Re,_n):_n}var hr=typeof st.depth>"u"?5:st.depth;if(typeof ze>"u"&&(ze=0),ze>=hr&&hr>0&&"object"==typeof Re)return Wt(Re)?"[Array]":"[Object]";var ar=function Je(Te,Re){var le;if("\t"===Te.indent)le="\t";else{if(!("number"==typeof Te.indent&&Te.indent>0))return null;le=re.call(Array(Te.indent+1)," ")}return{base:le,prev:re.call(Array(Re+1),le)}}(st,ze);if(typeof ct>"u")ct=[];else if(Mn(ct,Re)>=0)return"[Circular]";function Mr(ei,xi,_s){if(xi&&(ct=xe.call(ct)).push(xi),_s){var js={depth:st.depth};return Fe(st,"quoteStyle")&&(js.quoteStyle=st.quoteStyle),Te(ei,js,ze+1,ct)}return Te(ei,st,ze+1,ct)}if("function"==typeof Re&&!_t(Re)){var Ws=function qt(Te){if(Te.name)return Te.name;var Re=X.call(oe.call(Te),/^function\s*([\w$]+)/);return Re?Re[1]:null}(Re),Qr=ln(Re,Mr);return"[Function"+(Ws?": "+Ws:" (anonymous)")+"]"+(Qr.length>0?" { "+re.call(Qr,", ")+" }":"")}if(Yt(Re)){var Ei=Ct?ae.call(String(Re),/^(Symbol\(.*\))_[^)]*$/,"$1"):ye.call(Re);return"object"!=typeof Re||Ct?Ei:A(Ei)}if(function _r(Te){return!(!Te||"object"!=typeof Te)&&(typeof HTMLElement<"u"&&Te instanceof HTMLElement||"string"==typeof Te.nodeName&&"function"==typeof Te.getAttribute)}(Re)){for(var Qs="<"+Le.call(String(Re.nodeName)),ia=Re.attributes||[],Zs=0;Zs<ia.length;Zs++)Qs+=" "+ia[Zs].name+"="+Ye(mt(ia[Zs].value),"double",st);return Qs+=">",Re.childNodes&&Re.childNodes.length&&(Qs+="..."),Qs+"</"+Le.call(String(Re.nodeName))+">"}if(Wt(Re)){if(0===Re.length)return"[]";var R=ln(Re,Mr);return ar&&!function _e(Te){for(var Re=0;Re<Te.length;Re++)if(Mn(Te[Re],"\n")>=0)return!1;return!0}(R)?"["+lt(R,ar)+"]":"[ "+re.call(R,", ")+" ]"}if(function rn(Te){return!("[object Error]"!==yt(Te)||wt&&"object"==typeof Te&&wt in Te)}(Re)){var F=ln(Re,Mr);return"cause"in Error.prototype||!("cause"in Re)||Pt.call(Re,"cause")?0===F.length?"["+String(Re)+"]":"{ ["+String(Re)+"] "+re.call(F,", ")+" }":"{ ["+String(Re)+"] "+re.call($e.call("[cause]: "+Mr(Re.cause),F),", ")+" }"}if("object"==typeof Re&&Qt){if(Ae&&"function"==typeof Re[Ae]&&V)return V(Re,{depth:hr-ze});if("symbol"!==Qt&&"function"==typeof Re.inspect)return Re.inspect()}if(function Rn(Te){if(!ce||!Te||"object"!=typeof Te)return!1;try{ce.call(Te);try{H.call(Te)}catch{return!0}return Te instanceof Map}catch{}return!1}(Re)){var ie=[];return Ve&&Ve.call(Re,function(ei,xi){ie.push(Mr(xi,Re,!0)+" => "+Mr(ei,Re))}),U("Map",ce.call(Re),ie,ar)}if(function On(Te){if(!H||!Te||"object"!=typeof Te)return!1;try{H.call(Te);try{ce.call(Te)}catch{return!0}return Te instanceof Set}catch{}return!1}(Re)){var Qe=[];return k&&k.call(Re,function(ei){Qe.push(Mr(ei,Re))}),U("Set",H.call(Re),Qe,ar)}if(function an(Te){if(!Me||!Te||"object"!=typeof Te)return!1;try{Me.call(Te,Me);try{be.call(Te,be)}catch{return!0}return Te instanceof WeakMap}catch{}return!1}(Re))return S("WeakMap");if(function Zn(Te){if(!be||!Te||"object"!=typeof Te)return!1;try{be.call(Te,be);try{Me.call(Te,Me)}catch{return!0}return Te instanceof WeakSet}catch{}return!1}(Re))return S("WeakSet");if(function un(Te){if(!W||!Te||"object"!=typeof Te)return!1;try{return W.call(Te),!0}catch{}return!1}(Re))return S("WeakRef");if(function Sn(Te){return!("[object Number]"!==yt(Te)||wt&&"object"==typeof Te&&wt in Te)}(Re))return A(Mr(Number(Re)));if(function G(Te){if(!Te||"object"!=typeof Te||!Pe)return!1;try{return Pe.call(Te),!0}catch{}return!1}(Re))return A(Mr(Pe.call(Re)));if(function cn(Te){return!("[object Boolean]"!==yt(Te)||wt&&"object"==typeof Te&&wt in Te)}(Re))return A(se.call(Re));if(function sn(Te){return!("[object String]"!==yt(Te)||wt&&"object"==typeof Te&&wt in Te)}(Re))return A(Mr(String(Re)));if(typeof window<"u"&&Re===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Re===globalThis||typeof global<"u"&&Re===global)return"{ [object globalThis] }";if(!function Ut(Te){return!("[object Date]"!==yt(Te)||wt&&"object"==typeof Te&&wt in Te)}(Re)&&!_t(Re)){var Et=ln(Re,Mr),Xe=xt?xt(Re)===Object.prototype:Re instanceof Object||Re.constructor===Object,tr=Re instanceof Object?"":"null prototype",Cs=!Xe&&wt&&Object(Re)===Re&&wt in Re?D.call(yt(Re),8,-1):tr?"Object":"",dr=(Xe||"function"!=typeof Re.constructor?"":Re.constructor.name?Re.constructor.name+" ":"")+(Cs||tr?"["+re.call($e.call([],Cs||[],tr||[]),": ")+"] ":"");return 0===Et.length?dr+"{}":ar?dr+"{"+lt(Et,ar)+"}":dr+"{ "+re.call(Et,", ")+" }"}return String(Re)};var He=Object.prototype.hasOwnProperty||function(Te){return Te in this};function Fe(Te,Re){return He.call(Te,Re)}function yt(Te){return ge.call(Te)}function Mn(Te,Re){if(Te.indexOf)return Te.indexOf(Re);for(var le=0,ze=Te.length;le<ze;le++)if(Te[le]===Re)return le;return-1}function qr(Te,Re){if(Te.length>Re.maxStringLength){var le=Te.length-Re.maxStringLength,ze="... "+le+" more character"+(le>1?"s":"");return qr(D.call(Te,0,Re.maxStringLength),Re)+ze}var ct=ht[Re.quoteStyle||"single"];return ct.lastIndex=0,Ye(ae.call(ae.call(Te,ct,"\\$1"),/[\x00-\x1f]/g,N),"single",Re)}function N(Te){var Re=Te.charCodeAt(0),le={8:"b",9:"t",10:"n",12:"f",13:"r"}[Re];return le?"\\"+le:"\\x"+(Re<16?"0":"")+ue.call(Re.toString(16))}function A(Te){return"Object("+Te+")"}function S(Te){return Te+" { ? }"}function U(Te,Re,le,ze){return Te+" ("+Re+") {"+(ze?lt(le,ze):re.call(le,", "))+"}"}function lt(Te,Re){if(0===Te.length)return"";var le="\n"+Re.prev+Re.base;return le+re.call(Te,","+le)+"\n"+Re.prev}function ln(Te,Re){var le=Wt(Te),ze=[];if(le){ze.length=Te.length;for(var ct=0;ct<Te.length;ct++)ze[ct]=Fe(Te,ct)?Re(Te[ct],Te):""}var Qt,st="function"==typeof te?te(Te):[];if(Ct){Qt={};for(var Vn=0;Vn<st.length;Vn++)Qt["$"+st[Vn]]=st[Vn]}for(var Dn in Te)Fe(Te,Dn)&&(le&&String(Number(Dn))===Dn&&Dn<Te.length||Ct&&Qt["$"+Dn]instanceof Symbol||(J.call(/[^\w$]/,Dn)?ze.push(Re(Dn,Te)+": "+Re(Te[Dn],Te)):ze.push(Dn+": "+Re(Te[Dn],Te))));if("function"==typeof te)for(var _n=0;_n<st.length;_n++)Pt.call(Te,st[_n])&&ze.push("["+Re(st[_n])+"]: "+Re(Te[st[_n]],Te));return ze}},3329:We=>{"use strict";var Ue=String.prototype.replace,K=/%20/g;We.exports={default:"RFC3986",formatters:{RFC1738:function(ve){return Ue.call(ve,K,"+")},RFC3986:function(ve){return String(ve)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},6505:(We,Ue,K)=>{"use strict";var Z=K(9792),ve=K(4014),ce=K(3329);We.exports={formats:ce,parse:ve,stringify:Z}},4014:(We,Ue,K)=>{"use strict";var Z=K(1956),ve=Object.prototype.hasOwnProperty,ce=Array.isArray,Ve={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Z.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},ne=function(j,W){return j&&"string"==typeof j&&W.comma&&j.indexOf(",")>-1?j.split(","):j},he=function(W,se,ge,oe){if(W){var X=ge.allowDots?W.replace(/\.([^.[]+)/g,"[$1]"):W,ae=/(\[[^[\]]*])/g,ue=ge.depth>0&&/(\[[^[\]]*])/.exec(X),Le=ue?X.slice(0,ue.index):X,J=[];if(Le){if(!ge.plainObjects&&ve.call(Object.prototype,Le)&&!ge.allowPrototypes)return;J.push(Le)}for(var $e=0;ge.depth>0&&null!==(ue=ae.exec(X))&&$e<ge.depth;){if($e+=1,!ge.plainObjects&&ve.call(Object.prototype,ue[1].slice(1,-1))&&!ge.allowPrototypes)return;J.push(ue[1])}if(ue){if(!0===ge.strictDepth)throw new RangeError("Input depth exceeded depth option of "+ge.depth+" and strictDepth is true");J.push("["+X.slice(ue.index)+"]")}return function(j,W,se,ge){for(var oe=ge?W:ne(W,se),X=j.length-1;X>=0;--X){var D,ae=j[X];if("[]"===ae&&se.parseArrays)D=se.allowEmptyArrays&&(""===oe||se.strictNullHandling&&null===oe)?[]:[].concat(oe);else{D=se.plainObjects?Object.create(null):{};var ue="["===ae.charAt(0)&&"]"===ae.charAt(ae.length-1)?ae.slice(1,-1):ae,Le=se.decodeDotInKeys?ue.replace(/%2E/g,"."):ue,J=parseInt(Le,10);se.parseArrays||""!==Le?!isNaN(J)&&ae!==Le&&String(J)===Le&&J>=0&&se.parseArrays&&J<=se.arrayLimit?(D=[])[J]=oe:"__proto__"!==Le&&(D[Le]=oe):D={0:oe}}oe=D}return oe}(J,se,ge,oe)}};We.exports=function(j,W){var se=function(W){if(!W)return Ve;if(typeof W.allowEmptyArrays<"u"&&"boolean"!=typeof W.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof W.decodeDotInKeys<"u"&&"boolean"!=typeof W.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==W.decoder&&typeof W.decoder<"u"&&"function"!=typeof W.decoder)throw new TypeError("Decoder has to be a function.");if(typeof W.charset<"u"&&"utf-8"!==W.charset&&"iso-8859-1"!==W.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var se=typeof W.charset>"u"?Ve.charset:W.charset,ge=typeof W.duplicates>"u"?Ve.duplicates:W.duplicates;if("combine"!==ge&&"first"!==ge&&"last"!==ge)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof W.allowDots>"u"?!0===W.decodeDotInKeys||Ve.allowDots:!!W.allowDots,allowEmptyArrays:"boolean"==typeof W.allowEmptyArrays?!!W.allowEmptyArrays:Ve.allowEmptyArrays,allowPrototypes:"boolean"==typeof W.allowPrototypes?W.allowPrototypes:Ve.allowPrototypes,allowSparse:"boolean"==typeof W.allowSparse?W.allowSparse:Ve.allowSparse,arrayLimit:"number"==typeof W.arrayLimit?W.arrayLimit:Ve.arrayLimit,charset:se,charsetSentinel:"boolean"==typeof W.charsetSentinel?W.charsetSentinel:Ve.charsetSentinel,comma:"boolean"==typeof W.comma?W.comma:Ve.comma,decodeDotInKeys:"boolean"==typeof W.decodeDotInKeys?W.decodeDotInKeys:Ve.decodeDotInKeys,decoder:"function"==typeof W.decoder?W.decoder:Ve.decoder,delimiter:"string"==typeof W.delimiter||Z.isRegExp(W.delimiter)?W.delimiter:Ve.delimiter,depth:"number"==typeof W.depth||!1===W.depth?+W.depth:Ve.depth,duplicates:ge,ignoreQueryPrefix:!0===W.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof W.interpretNumericEntities?W.interpretNumericEntities:Ve.interpretNumericEntities,parameterLimit:"number"==typeof W.parameterLimit?W.parameterLimit:Ve.parameterLimit,parseArrays:!1!==W.parseArrays,plainObjects:"boolean"==typeof W.plainObjects?W.plainObjects:Ve.plainObjects,strictDepth:"boolean"==typeof W.strictDepth?!!W.strictDepth:Ve.strictDepth,strictNullHandling:"boolean"==typeof W.strictNullHandling?W.strictNullHandling:Ve.strictNullHandling}}(W);if(""===j||null===j||typeof j>"u")return se.plainObjects?Object.create(null):{};for(var ge="string"==typeof j?function(W,se){var ue,ge={__proto__:null},oe=se.ignoreQueryPrefix?W.replace(/^\?/,""):W,D=(oe=oe.replace(/%5B/gi,"[").replace(/%5D/gi,"]")).split(se.delimiter,se.parameterLimit===1/0?void 0:se.parameterLimit),ae=-1,Le=se.charset;if(se.charsetSentinel)for(ue=0;ue<D.length;++ue)0===D[ue].indexOf("utf8=")&&("utf8=%E2%9C%93"===D[ue]?Le="utf-8":"utf8=%26%2310003%3B"===D[ue]&&(Le="iso-8859-1"),ae=ue,ue=D.length);for(ue=0;ue<D.length;++ue)if(ue!==ae){var xe,Be,J=D[ue],$e=J.indexOf("]="),re=-1===$e?J.indexOf("="):$e+1;-1===re?(xe=se.decoder(J,Ve.decoder,Le,"key"),Be=se.strictNullHandling?null:""):(xe=se.decoder(J.slice(0,re),Ve.decoder,Le,"key"),Be=Z.maybeMap(ne(J.slice(re+1),se),function(te){return se.decoder(te,Ve.decoder,Le,"value")})),Be&&se.interpretNumericEntities&&"iso-8859-1"===Le&&(Be=Be.replace(/&#(\d+);/g,function(W,se){return String.fromCharCode(parseInt(se,10))})),J.indexOf("[]=")>-1&&(Be=ce(Be)?[Be]:Be);var Pe=ve.call(ge,xe);Pe&&"combine"===se.duplicates?ge[xe]=Z.combine(ge[xe],Be):(!Pe||"last"===se.duplicates)&&(ge[xe]=Be)}return ge}(j,se):j,oe=se.plainObjects?Object.create(null):{},X=Object.keys(ge),D=0;D<X.length;++D){var ae=X[D],ue=he(ae,ge[ae],se,"string"==typeof j);oe=Z.merge(oe,ue,se)}return!0===se.allowSparse?oe:Z.compact(oe)}},9792:(We,Ue,K)=>{"use strict";var Z=K(8268),ve=K(1956),ce=K(3329),Ve=Object.prototype.hasOwnProperty,Se={brackets:function(oe){return oe+"[]"},comma:"comma",indices:function(oe,X){return oe+"["+X+"]"},repeat:function(oe){return oe}},ne=Array.isArray,H=Array.prototype.push,k=function(ge,oe){H.apply(ge,ne(oe)?oe:[oe])},f=Date.prototype.toISOString,Me=ce.default,he={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ve.encode,encodeValuesOnly:!1,format:Me,formatter:ce.formatters[Me],indices:!1,serializeDate:function(oe){return f.call(oe)},skipNulls:!1,strictNullHandling:!1},j={},W=function ge(oe,X,D,ae,ue,Le,J,$e,re,xe,Be,Pe,te,ye,Ct,wt,Pt,xt){for(var L=oe,V=xt,$=0,Ae=!1;void 0!==(V=V.get(j))&&!Ae;){var Ne=V.get(oe);if($+=1,typeof Ne<"u"){if(Ne===$)throw new RangeError("Cyclic object value");Ae=!0}typeof V.get(j)>"u"&&($=0)}if("function"==typeof xe?L=xe(X,L):L instanceof Date?L=te(L):"comma"===D&&ne(L)&&(L=ve.maybeMap(L,function(He){return He instanceof Date?te(He):He})),null===L){if(Le)return re&&!wt?re(X,he.encoder,Pt,"key",ye):X;L=""}if(function(oe){return"string"==typeof oe||"number"==typeof oe||"boolean"==typeof oe||"symbol"==typeof oe||"bigint"==typeof oe}(L)||ve.isBuffer(L))return re?[Ct(wt?X:re(X,he.encoder,Pt,"key",ye))+"="+Ct(re(L,he.encoder,Pt,"value",ye))]:[Ct(X)+"="+Ct(String(L))];var mt,Ye=[];if(typeof L>"u")return Ye;if("comma"===D&&ne(L))wt&&re&&(L=ve.maybeMap(L,re)),mt=[{value:L.length>0?L.join(",")||null:void 0}];else if(ne(xe))mt=xe;else{var Wt=Object.keys(L);mt=Be?Wt.sort(Be):Wt}var Ut=$e?X.replace(/\./g,"%2E"):X,_t=ae&&ne(L)&&1===L.length?Ut+"[]":Ut;if(ue&&ne(L)&&0===L.length)return _t+"[]";for(var rn=0;rn<mt.length;++rn){var sn=mt[rn],Sn="object"==typeof sn&&typeof sn.value<"u"?sn.value:L[sn];if(!J||null!==Sn){var cn=Pe&&$e?sn.replace(/\./g,"%2E"):sn,Yt=ne(L)?"function"==typeof D?D(_t,cn):_t:_t+(Pe?"."+cn:"["+cn+"]");xt.set(oe,$);var G=Z();G.set(j,xt),k(Ye,ge(Sn,Yt,D,ae,ue,Le,J,$e,"comma"===D&&wt&&ne(L)?null:re,xe,Be,Pe,te,ye,Ct,wt,Pt,G))}}return Ye};We.exports=function(ge,oe){var ae,X=ge,D=function(oe){if(!oe)return he;if(typeof oe.allowEmptyArrays<"u"&&"boolean"!=typeof oe.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof oe.encodeDotInKeys<"u"&&"boolean"!=typeof oe.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==oe.encoder&&typeof oe.encoder<"u"&&"function"!=typeof oe.encoder)throw new TypeError("Encoder has to be a function.");var X=oe.charset||he.charset;if(typeof oe.charset<"u"&&"utf-8"!==oe.charset&&"iso-8859-1"!==oe.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var D=ce.default;if(typeof oe.format<"u"){if(!Ve.call(ce.formatters,oe.format))throw new TypeError("Unknown format option provided.");D=oe.format}var Le,ae=ce.formatters[D],ue=he.filter;if(("function"==typeof oe.filter||ne(oe.filter))&&(ue=oe.filter),Le=oe.arrayFormat in Se?oe.arrayFormat:"indices"in oe?oe.indices?"indices":"repeat":he.arrayFormat,"commaRoundTrip"in oe&&"boolean"!=typeof oe.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof oe.addQueryPrefix?oe.addQueryPrefix:he.addQueryPrefix,allowDots:typeof oe.allowDots>"u"?!0===oe.encodeDotInKeys||he.allowDots:!!oe.allowDots,allowEmptyArrays:"boolean"==typeof oe.allowEmptyArrays?!!oe.allowEmptyArrays:he.allowEmptyArrays,arrayFormat:Le,charset:X,charsetSentinel:"boolean"==typeof oe.charsetSentinel?oe.charsetSentinel:he.charsetSentinel,commaRoundTrip:oe.commaRoundTrip,delimiter:typeof oe.delimiter>"u"?he.delimiter:oe.delimiter,encode:"boolean"==typeof oe.encode?oe.encode:he.encode,encodeDotInKeys:"boolean"==typeof oe.encodeDotInKeys?oe.encodeDotInKeys:he.encodeDotInKeys,encoder:"function"==typeof oe.encoder?oe.encoder:he.encoder,encodeValuesOnly:"boolean"==typeof oe.encodeValuesOnly?oe.encodeValuesOnly:he.encodeValuesOnly,filter:ue,format:D,formatter:ae,serializeDate:"function"==typeof oe.serializeDate?oe.serializeDate:he.serializeDate,skipNulls:"boolean"==typeof oe.skipNulls?oe.skipNulls:he.skipNulls,sort:"function"==typeof oe.sort?oe.sort:null,strictNullHandling:"boolean"==typeof oe.strictNullHandling?oe.strictNullHandling:he.strictNullHandling}}(oe);"function"==typeof D.filter?X=(0,D.filter)("",X):ne(D.filter)&&(ae=D.filter);var Le=[];if("object"!=typeof X||null===X)return"";var J=Se[D.arrayFormat],$e="comma"===J&&D.commaRoundTrip;ae||(ae=Object.keys(X)),D.sort&&ae.sort(D.sort);for(var re=Z(),xe=0;xe<ae.length;++xe){var Be=ae[xe];D.skipNulls&&null===X[Be]||k(Le,W(X[Be],Be,J,$e,D.allowEmptyArrays,D.strictNullHandling,D.skipNulls,D.encodeDotInKeys,D.encode?D.encoder:null,D.filter,D.sort,D.allowDots,D.serializeDate,D.format,D.formatter,D.encodeValuesOnly,D.charset,re))}var Pe=Le.join(D.delimiter),te=!0===D.addQueryPrefix?"?":"";return D.charsetSentinel&&(te+="iso-8859-1"===D.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),Pe.length>0?te+Pe:""}},1956:(We,Ue,K)=>{"use strict";var Z=K(3329),ve=Object.prototype.hasOwnProperty,ce=Array.isArray,Ve=function(){for(var oe=[],X=0;X<256;++X)oe.push("%"+((X<16?"0":"")+X.toString(16)).toUpperCase());return oe}(),ne=function(X,D){for(var ae=D&&D.plainObjects?Object.create(null):{},ue=0;ue<X.length;++ue)typeof X[ue]<"u"&&(ae[ue]=X[ue]);return ae};We.exports={arrayToObject:ne,assign:function(X,D){return Object.keys(D).reduce(function(ae,ue){return ae[ue]=D[ue],ae},X)},combine:function(X,D){return[].concat(X,D)},compact:function(X){for(var D=[{obj:{o:X},prop:"o"}],ae=[],ue=0;ue<D.length;++ue)for(var Le=D[ue],J=Le.obj[Le.prop],$e=Object.keys(J),re=0;re<$e.length;++re){var xe=$e[re],Be=J[xe];"object"==typeof Be&&null!==Be&&-1===ae.indexOf(Be)&&(D.push({obj:J,prop:xe}),ae.push(Be))}return function(X){for(;X.length>1;){var D=X.pop(),ae=D.obj[D.prop];if(ce(ae)){for(var ue=[],Le=0;Le<ae.length;++Le)typeof ae[Le]<"u"&&ue.push(ae[Le]);D.obj[D.prop]=ue}}}(D),X},decode:function(oe,X,D){var ae=oe.replace(/\+/g," ");if("iso-8859-1"===D)return ae.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(ae)}catch{return ae}},encode:function(X,D,ae,ue,Le){if(0===X.length)return X;var J=X;if("symbol"==typeof X?J=Symbol.prototype.toString.call(X):"string"!=typeof X&&(J=String(X)),"iso-8859-1"===ae)return escape(J).replace(/%u[0-9a-f]{4}/gi,function(ye){return"%26%23"+parseInt(ye.slice(2),16)+"%3B"});for(var $e="",re=0;re<J.length;re+=1024){for(var xe=J.length>=1024?J.slice(re,re+1024):J,Be=[],Pe=0;Pe<xe.length;++Pe){var te=xe.charCodeAt(Pe);45===te||46===te||95===te||126===te||te>=48&&te<=57||te>=65&&te<=90||te>=97&&te<=122||Le===Z.RFC1738&&(40===te||41===te)?Be[Be.length]=xe.charAt(Pe):te<128?Be[Be.length]=Ve[te]:te<2048?Be[Be.length]=Ve[192|te>>6]+Ve[128|63&te]:te<55296||te>=57344?Be[Be.length]=Ve[224|te>>12]+Ve[128|te>>6&63]+Ve[128|63&te]:(te=65536+((1023&te)<<10|1023&xe.charCodeAt(Pe+=1)),Be[Be.length]=Ve[240|te>>18]+Ve[128|te>>12&63]+Ve[128|te>>6&63]+Ve[128|63&te])}$e+=Be.join("")}return $e},isBuffer:function(X){return!(!X||"object"!=typeof X||!(X.constructor&&X.constructor.isBuffer&&X.constructor.isBuffer(X)))},isRegExp:function(X){return"[object RegExp]"===Object.prototype.toString.call(X)},maybeMap:function(X,D){if(ce(X)){for(var ae=[],ue=0;ue<X.length;ue+=1)ae.push(D(X[ue]));return ae}return D(X)},merge:function oe(X,D,ae){if(!D)return X;if("object"!=typeof D){if(ce(X))X.push(D);else{if(!X||"object"!=typeof X)return[X,D];(ae&&(ae.plainObjects||ae.allowPrototypes)||!ve.call(Object.prototype,D))&&(X[D]=!0)}return X}if(!X||"object"!=typeof X)return[X].concat(D);var ue=X;return ce(X)&&!ce(D)&&(ue=ne(X,ae)),ce(X)&&ce(D)?(D.forEach(function(Le,J){if(ve.call(X,J)){var $e=X[J];$e&&"object"==typeof $e&&Le&&"object"==typeof Le?X[J]=oe($e,Le,ae):X.push(Le)}else X[J]=Le}),X):Object.keys(D).reduce(function(Le,J){var $e=D[J];return Le[J]=ve.call(Le,J)?oe(Le[J],$e,ae):$e,Le},ue)}}},4416:We=>{let Ue;We.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:global):K=>(Ue||(Ue=Promise.resolve())).then(K).catch(Z=>setTimeout(()=>{throw Z},0))},9423:(We,Ue,K)=>{"use strict";K.d(Ue,{A:()=>ve});const ve={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7}},1752:(We,Ue,K)=>{"use strict";K.d(Ue,{A:()=>W});var Z=K(1322),ve=K(1308),ce=K(1853),Ve=K(4009),Se=K(6190),ne=K(3380),H=K(9423),k=K(9788),f=K(9535),Me=K(79),he=K(1551);function be(se,ge,oe){return ge=(0,Ve.A)(ge),(0,ce.A)(se,j()?Reflect.construct(ge,oe||[],(0,Ve.A)(se).constructor):ge.apply(se,oe))}function j(){try{var se=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j=function(){return!!se})()}var W=function(se){function ge(oe){var X;if((0,Z.A)(this,ge),X=be(this,ge,[(0,Me.E)(oe)]),(0,ne.A)(X,"termType",f.Kk),(0,ne.A)(X,"classOrder",H.A.NamedNode),!X.value)throw new Error("Missing IRI for NamedNode");if(!X.value.includes(":"))throw new Error('NamedNode IRI "'+oe+'" must be absolute.');if(X.value.includes(" "))throw new Error('Error: NamedNode IRI "'+oe+'" must not contain unencoded spaces.');return X}return(0,Se.A)(ge,se),(0,ve.A)(ge,[{key:"dir",value:function(){var X=this.value.split("#")[0],D=X.slice(0,-1).lastIndexOf("/"),ae=X.indexOf("//");return ae>=0&&D<ae+2||D<0?null:new ge(X.slice(0,D+1))}},{key:"site",value:function(){var X=this.value.split("#")[0],D=X.indexOf("//");if(D<0)throw new Error("This URI does not have a web site part (origin)");var ae=X.indexOf("/",D+2);return new ge(ae<0?X.slice(0)+"/":X.slice(0,ae+1))}},{key:"doc",value:function(){return this.value.indexOf("#")<0?this:new ge(this.value.split("#")[0])}},{key:"toString",value:function(){return"<"+this.value+">"}},{key:"id",value:function(){return this.value.split("#")[1]}},{key:"uri",get:function(){return this.value},set:function(X){this.value=X}}],[{key:"fromValue",value:function(X){return typeof X>"u"||null===X||(0,he.D0)(X)?X:new ge(X)}}])}(k.A)},9788:(We,Ue,K)=>{"use strict";K.d(Ue,{A:()=>Ve});var Z=K(1322),ve=K(1308),ce=K(3380),Ve=function(){return(0,ve.A)(function Se(ne){(0,Z.A)(this,Se),(0,ce.A)(this,"termType",void 0),(0,ce.A)(this,"classOrder",void 0),(0,ce.A)(this,"value",void 0),this.value=ne},[{key:"substitute",value:function(H){return this}},{key:"compareTerm",value:function(H){return this.classOrder<H.classOrder?-1:this.classOrder>H.classOrder?1:this.value<H.value?-1:this.value>H.value?1:0}},{key:"equals",value:function(H){return!!H&&this.termType===H.termType&&this.value===H.value}},{key:"hashString",value:function(){return this.toCanonical()}},{key:"sameTerm",value:function(H){return this.equals(H)}},{key:"toCanonical",value:function(){return this.toNT()}},{key:"toNT",value:function(){return this.toString()}},{key:"toNQ",value:function(){return this.toNT()}},{key:"toString",value:function(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}])}();(0,ce.A)(Ve,"fromValue",void 0),(0,ce.A)(Ve,"toJS",void 0)},9535:(We,Ue,K)=>{"use strict";K.d(Ue,{$Q:()=>ve,BR:()=>j,Fn:()=>X,H:()=>ue,JG:()=>ge,K9:()=>oe,Kk:()=>Z,MG:()=>be,P2:()=>Ve,QW:()=>ce,S:()=>H,_0:()=>W,bD:()=>k,bM:()=>se,hu:()=>ae,i2:()=>Me,ic:()=>Se,lc:()=>f,ny:()=>he,r0:()=>ne,sT:()=>D});var Z="NamedNode",ve="BlankNode",ce="Literal",Ve="Variable",Se="DefaultGraph",ne="Collection",H="Empty",k="Graph",f="text/html",Me="application/ld+json",he="text/n3",be="application/n3",j="application/nquads",W="application/n-quads",se="application/n-triples",ge="application/rdf+xml",oe="application/sparql-update",X="application/sparql-update-single-match",D="text/turtle",ae="application/x-turtle",ue="application/xhtml+xml"},9223:(We,Ue,K)=>{"use strict";K.d(Ue,{Kw:()=>ne,Uz:()=>se,VQ:()=>be,h4:()=>W,jI:()=>k,tE:()=>Ve});var Z=K(1752),ve=K(2502);function Ve(D){return D=D.split(";")[0].trim(),new Z.A("http://www.w3.org/ns/iana/media-types/"+D+"#Resource")}function ne(D,ae){D.callbacks={};for(var ue=ae.length-1;ue>=0;ue--)D.callbacks[ae[ue]]=[];D.addHook=function(Le){D.callbacks[Le]||(D.callbacks[Le]=[])},D.addCallback=function(Le,J){D.callbacks[Le].push(J)},D.removeCallback=function(Le,J){for(var $e=0;$e<D.callbacks[Le].length;$e++)if(D.callbacks[Le][$e].name===J)return D.callbacks[Le].splice($e,1),!0;return!1},D.insertCallback=function(Le,J){D.callbacks[Le].unshift(J)},D.fireCallbacks=function(J,$e){var Pe,te,re=[],xe=[],Be=D.callbacks[J].length;for(Pe=Be-1;Pe>=0;Pe--)(te=D.callbacks[J][Pe])&&te.apply(D,$e)&&re.push(te);for(Pe=re.length-1;Pe>=0;Pe--)xe.push(re[Pe]);for(Pe=Be;Pe<D.callbacks[J].length;Pe++)xe.push(D.callbacks[J][Pe]);D.callbacks[J]=xe}}function k(D,ae){var ue=[];(ae=ae||{})&&ae.selfClosing&&ae.selfClosing.split(" ").forEach(function(J){ue[J]=!0});var Le=[];return ae&&ae.skipAttributes&&ae.skipAttributes.split(" ").forEach(function(J){Le[J]=!0}),f(D,ae,ue,Le)}function f(D,ae,ue,Le){var J,$e="",re=[!1];if(typeof D.nodeType>"u")return $e;if(1===D.nodeType){if(D.hasAttribute("class")&&ae&&ae.classWithChildText&&D.matches(ae.classWithChildText.class))$e+=D.querySelector(ae.classWithChildText.element).textContent;else if(!(ae&&ae.skipNodeWithClass&&D.matches("."+ae.skipNodeWithClass))){var xe=D.nodeName.toLowerCase();$e+="<"+xe;var Be=[];for(J=D.attributes.length-1;J>=0;J--){var Pe=D.attributes[J];if(!(Le&&Le.length>0&&Le[Pe.name]||/^\d+$/.test(Pe.name))){if("class"===Pe.name&&ae&&ae.replaceClassItemWith&&Pe.value.split(" ").indexOf(ae.replaceClassItemWith.source)>-1){var te=new RegExp(ae.replaceClassItemWith.source,"g");Pe.value=Pe.value.replace(te,ae.replaceClassItemWith.target).trim()}"class"===Pe.name&&ae&&ae.skipClassWithValue&&ae.skipClassWithValue===Pe.value||Be.push(Pe.name+"='"+Pe.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(Be.length>0&&(ae&&ae.sortAttributes&&Be.sort(function(Ct,wt){return Ct.toLowerCase().localeCompare(wt.toLowerCase())}),$e+=" "+Be.join(" ")),ue&&ue.ename)$e+=" />";else{for($e+=">",$e+="html"===xe?"\n  ":"",re.push("style"===xe||"script"===xe),J=0;J<D.childNodes.length;J++)$e+=f(D.childNodes[J]);re.pop(),$e+="body"===xe?"</"+xe+">\n":"</"+xe+">"}}}else if(8===D.nodeType)$e+="\x3c!--"+D.nodeValue+"--\x3e";else if(3===D.nodeType||4===D.nodeType){var ye=D.nodeValue.replace(/\n+$/,"");$e+=re[re.length-1]?ye:ye.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+D.nodeType),console.log(D);return $e}function he(D,ae,ue,Le){var J=function(Be){return"BlankNode"===Be.termType?null:Be},$e=function(Be){var Pe=ue.statementsMatching(Be).map(function(te){return J(te.subject)+" "+J(te.predicate)+" "+J(te.object)}).concat(ue.statementsMatching(void 0,void 0,Be).map(function(te){return J(te.subject)+" "+J(te.predicate)+" "+J(te.object)}));return Pe.sort(),Pe.join("\n")},re=Object.prototype.hasOwnProperty.call(ue,"compareTerms")?ue.compareTerms(D,ae):D.compareTerm(ae);return"BlankNode"===D.termType&&"BlankNode"===ae.termType?0===re?0:$e(D)>$e(ae)?1:$e(D)<$e(ae)?-1:re:Le&&D.uri&&ae.uri?(Le[D.uri]||D.uri).localeCompare(Le[ae.uri]||ae.uri):re}function be(D,ae,ue,Le){return he(D.subject,ae.subject,ue,Le)||he(D.predicate,ae.predicate,ue,Le)||he(D.object,ae.object,ue,Le)}function W(D,ae){return ae=ae||{},We&&We.exports?(new ve.DOMParser).parseFromString(D,ae.contentType||"application/xhtml+xml"):(typeof window<"u"&&window.DOMParser?new window.DOMParser:new ve.DOMParser).parseFromString(D,"application/xml")}function se(D,ae){for(var ue=0;ue<D.length;ue++)if(D[ue].subject.equals(ae.subject)&&D[ue].predicate.equals(ae.predicate)&&D[ue].object.equals(ae.object)&&D[ue].why.equals(ae.why))return void D.splice(ue,1);throw new Error("RDFArrayRemove: Array did not contain "+ae+" "+ae.why)}We=K.hmd(We)},79:(We,Ue,K)=>{"use strict";function Z(ve){return"string"==typeof ve?ve:ve.value}K.d(Ue,{E:()=>Z})},1551:(We,Ue,K)=>{"use strict";K.d(Ue,{CZ:()=>H,D0:()=>Me,DJ:()=>ne,DZ:()=>f,P3:()=>Se,RN:()=>X,SH:()=>ce,Y2:()=>j,aF:()=>be,c$:()=>he,fY:()=>k,ok:()=>Ve});var Z=K(9391),ve=K(9535);function ce(D){return"object"===(0,Z.A)(D)&&null!==D&&"subject"in D}function Ve(D){return"object"===(0,Z.A)(D)&&null!==D&&"statements"in D}function Se(D){return Me(D)&&D.termType===ve.r0}function ne(D){return D&&Object.prototype.hasOwnProperty.call(D,"termType")&&(D.termType===ve.Kk||D.termType===ve.P2||D.termType===ve.$Q||D.termType===ve.r0||D.termType===ve.QW||D.termType===ve.bD)}function H(D){return D&&Object.prototype.hasOwnProperty.call(D,"termType")&&(D.termType===ve.Kk||D.termType===ve.P2||D.termType===ve.$Q||D.termType===ve.r0||D.termType===ve.QW||D.termType===ve.bD)}function k(D){return Me(D)&&(D.termType===ve.Kk||D.termType===ve.$Q||D.termType===ve.P2)}function f(D){return Me(D)&&D.termType===ve.P2}function Me(D){return"object"===(0,Z.A)(D)&&null!==D&&"termType"in D}function he(D){return D.termType===ve.QW}function be(D){return"object"===(0,Z.A)(D)&&null!==D&&"subject"in D&&"predicate"in D&&"object"in D}function j(D){return Me(D)&&"NamedNode"===D.termType}function X(D){return Me(D)&&(D.termType===ve.Kk||D.termType===ve.P2||D.termType===ve.$Q||D.termType===ve.ic)}},8868:function(We,Ue){var ce,K=typeof self<"u"?self:this,Z=function(){function ce(){this.fetch=!1,this.DOMException=K.DOMException}return ce.prototype=K,new ce}();ce=Z,function(Se){var ne_searchParams="URLSearchParams"in ce,ne_iterable="Symbol"in ce&&"iterator"in Symbol,ne_blob="FileReader"in ce&&"Blob"in ce&&function(){try{return new Blob,!0}catch{return!1}}(),ne_formData="FormData"in ce,ne_arrayBuffer="ArrayBuffer"in ce;if(ne_arrayBuffer)var k=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(te){return te&&k.indexOf(Object.prototype.toString.call(te))>-1};function Me(te){if("string"!=typeof te&&(te=String(te)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(te))throw new TypeError("Invalid character in header field name");return te.toLowerCase()}function he(te){return"string"!=typeof te&&(te=String(te)),te}function be(te){var ye={next:function(){var Ct=te.shift();return{done:void 0===Ct,value:Ct}}};return ne_iterable&&(ye[Symbol.iterator]=function(){return ye}),ye}function j(te){this.map={},te instanceof j?te.forEach(function(ye,Ct){this.append(Ct,ye)},this):Array.isArray(te)?te.forEach(function(ye){this.append(ye[0],ye[1])},this):te&&Object.getOwnPropertyNames(te).forEach(function(ye){this.append(ye,te[ye])},this)}function W(te){if(te.bodyUsed)return Promise.reject(new TypeError("Already read"));te.bodyUsed=!0}function se(te){return new Promise(function(ye,Ct){te.onload=function(){ye(te.result)},te.onerror=function(){Ct(te.error)}})}function ge(te){var ye=new FileReader,Ct=se(ye);return ye.readAsArrayBuffer(te),Ct}function D(te){if(te.slice)return te.slice(0);var ye=new Uint8Array(te.byteLength);return ye.set(new Uint8Array(te)),ye.buffer}function ae(){return this.bodyUsed=!1,this._initBody=function(te){this._bodyInit=te,te?"string"==typeof te?this._bodyText=te:ne_blob&&Blob.prototype.isPrototypeOf(te)?this._bodyBlob=te:ne_formData&&FormData.prototype.isPrototypeOf(te)?this._bodyFormData=te:ne_searchParams&&URLSearchParams.prototype.isPrototypeOf(te)?this._bodyText=te.toString():ne_arrayBuffer&&ne_blob&&function H(te){return te&&DataView.prototype.isPrototypeOf(te)}(te)?(this._bodyArrayBuffer=D(te.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ne_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(te)||f(te))?this._bodyArrayBuffer=D(te):this._bodyText=te=Object.prototype.toString.call(te):this._bodyText="",this.headers.get("content-type")||("string"==typeof te?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ne_searchParams&&URLSearchParams.prototype.isPrototypeOf(te)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ne_blob&&(this.blob=function(){var te=W(this);if(te)return te;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?W(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(ge)}),this.text=function(){var te=W(this);if(te)return te;if(this._bodyBlob)return function oe(te){var ye=new FileReader,Ct=se(ye);return ye.readAsText(te),Ct}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function X(te){for(var ye=new Uint8Array(te),Ct=new Array(ye.length),wt=0;wt<ye.length;wt++)Ct[wt]=String.fromCharCode(ye[wt]);return Ct.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ne_formData&&(this.formData=function(){return this.text().then($e)}),this.json=function(){return this.text().then(JSON.parse)},this}j.prototype.append=function(te,ye){te=Me(te),ye=he(ye);var Ct=this.map[te];this.map[te]=Ct?Ct+", "+ye:ye},j.prototype.delete=function(te){delete this.map[Me(te)]},j.prototype.get=function(te){return te=Me(te),this.has(te)?this.map[te]:null},j.prototype.has=function(te){return this.map.hasOwnProperty(Me(te))},j.prototype.set=function(te,ye){this.map[Me(te)]=he(ye)},j.prototype.forEach=function(te,ye){for(var Ct in this.map)this.map.hasOwnProperty(Ct)&&te.call(ye,this.map[Ct],Ct,this)},j.prototype.keys=function(){var te=[];return this.forEach(function(ye,Ct){te.push(Ct)}),be(te)},j.prototype.values=function(){var te=[];return this.forEach(function(ye){te.push(ye)}),be(te)},j.prototype.entries=function(){var te=[];return this.forEach(function(ye,Ct){te.push([Ct,ye])}),be(te)},ne_iterable&&(j.prototype[Symbol.iterator]=j.prototype.entries);var ue=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function J(te,ye){var Ct=(ye=ye||{}).body;if(te instanceof J){if(te.bodyUsed)throw new TypeError("Already read");this.url=te.url,this.credentials=te.credentials,ye.headers||(this.headers=new j(te.headers)),this.method=te.method,this.mode=te.mode,this.signal=te.signal,!Ct&&null!=te._bodyInit&&(Ct=te._bodyInit,te.bodyUsed=!0)}else this.url=String(te);if(this.credentials=ye.credentials||this.credentials||"same-origin",(ye.headers||!this.headers)&&(this.headers=new j(ye.headers)),this.method=function Le(te){var ye=te.toUpperCase();return ue.indexOf(ye)>-1?ye:te}(ye.method||this.method||"GET"),this.mode=ye.mode||this.mode||null,this.signal=ye.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Ct)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Ct)}function $e(te){var ye=new FormData;return te.trim().split("&").forEach(function(Ct){if(Ct){var wt=Ct.split("="),Pt=wt.shift().replace(/\+/g," "),xt=wt.join("=").replace(/\+/g," ");ye.append(decodeURIComponent(Pt),decodeURIComponent(xt))}}),ye}function re(te){var ye=new j;return te.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(wt){var Pt=wt.split(":"),xt=Pt.shift().trim();if(xt){var L=Pt.join(":").trim();ye.append(xt,L)}}),ye}function xe(te,ye){ye||(ye={}),this.type="default",this.status=void 0===ye.status?200:ye.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in ye?ye.statusText:"OK",this.headers=new j(ye.headers),this.url=ye.url||"",this._initBody(te)}J.prototype.clone=function(){return new J(this,{body:this._bodyInit})},ae.call(J.prototype),ae.call(xe.prototype),xe.prototype.clone=function(){return new xe(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new j(this.headers),url:this.url})},xe.error=function(){var te=new xe(null,{status:0,statusText:""});return te.type="error",te};var Be=[301,302,303,307,308];xe.redirect=function(te,ye){if(-1===Be.indexOf(ye))throw new RangeError("Invalid status code");return new xe(null,{status:ye,headers:{location:te}})},Se.DOMException=ce.DOMException;try{new Se.DOMException}catch{Se.DOMException=function(ye,Ct){this.message=ye,this.name=Ct;var wt=Error(ye);this.stack=wt.stack},Se.DOMException.prototype=Object.create(Error.prototype),Se.DOMException.prototype.constructor=Se.DOMException}function Pe(te,ye){return new Promise(function(Ct,wt){var Pt=new J(te,ye);if(Pt.signal&&Pt.signal.aborted)return wt(new Se.DOMException("Aborted","AbortError"));var xt=new XMLHttpRequest;function L(){xt.abort()}xt.onload=function(){var V={status:xt.status,statusText:xt.statusText,headers:re(xt.getAllResponseHeaders()||"")};V.url="responseURL"in xt?xt.responseURL:V.headers.get("X-Request-URL"),Ct(new xe("response"in xt?xt.response:xt.responseText,V))},xt.onerror=function(){wt(new TypeError("Network request failed"))},xt.ontimeout=function(){wt(new TypeError("Network request failed"))},xt.onabort=function(){wt(new Se.DOMException("Aborted","AbortError"))},xt.open(Pt.method,Pt.url,!0),"include"===Pt.credentials?xt.withCredentials=!0:"omit"===Pt.credentials&&(xt.withCredentials=!1),"responseType"in xt&&ne_blob&&(xt.responseType="blob"),Pt.headers.forEach(function(V,$){xt.setRequestHeader($,V)}),Pt.signal&&(Pt.signal.addEventListener("abort",L),xt.onreadystatechange=function(){4===xt.readyState&&Pt.signal.removeEventListener("abort",L)}),xt.send(typeof Pt._bodyInit>"u"?null:Pt._bodyInit)})}Pe.polyfill=!0,ce.fetch||(ce.fetch=Pe,ce.Headers=j,ce.Request=J,ce.Response=xe),Se.Headers=j,Se.Request=J,Se.Response=xe,Se.fetch=Pe,Object.defineProperty(Se,"__esModule",{value:!0})}({}),Z.fetch.ponyfill=!0,delete Z.fetch.polyfill;var ve=Z;(Ue=ve.fetch).default=ve.fetch,Ue.fetch=ve.fetch,Ue.Headers=ve.Headers,Ue.Request=ve.Request,Ue.Response=ve.Response,We.exports=Ue},3591:(We,Ue,K)=>{"use strict";var Z=K(9711),ve=K(9327),ce=function(k,f,Me){for(var be,he=k;null!=(be=he.next);he=be)if(be.key===f)return he.next=be.next,Me||(be.next=k.next,k.next=be),be};We.exports=function(){var f,Me={assert:function(he){if(!Me.has(he))throw new ve("Side channel does not contain "+Z(he))},delete:function(he){var be=f&&f.next,j=function(k,f){if(k)return ce(k,f,!0)}(f,he);return j&&be&&be===j&&(f=void 0),!!j},get:function(he){return function(k,f){if(k){var Me=ce(k,f);return Me&&Me.value}}(f,he)},has:function(he){return function(k,f){return!!k&&!!ce(k,f)}(f,he)},set:function(he,be){f||(f={next:void 0}),function(k,f,Me){var he=ce(k,f);he?he.value=Me:k.next={key:f,next:k.next,value:Me}}(f,he,be)}};return Me}},6591:(We,Ue,K)=>{"use strict";var Z=K(9249),ve=K(448),ce=K(9711),Ve=K(9327),Se=Z("%Map%",!0),ne=ve("Map.prototype.get",!0),H=ve("Map.prototype.set",!0),k=ve("Map.prototype.has",!0),f=ve("Map.prototype.delete",!0),Me=ve("Map.prototype.size",!0);We.exports=!!Se&&function(){var be,j={assert:function(W){if(!j.has(W))throw new Ve("Side channel does not contain "+ce(W))},delete:function(W){if(be){var se=f(be,W);return 0===Me(be)&&(be=void 0),se}return!1},get:function(W){if(be)return ne(be,W)},has:function(W){return!!be&&k(be,W)},set:function(W,se){be||(be=new Se),H(be,W,se)}};return j}},6819:(We,Ue,K)=>{"use strict";var Z=K(9249),ve=K(448),ce=K(9711),Ve=K(6591),Se=K(9327),ne=Z("%WeakMap%",!0),H=ve("WeakMap.prototype.get",!0),k=ve("WeakMap.prototype.set",!0),f=ve("WeakMap.prototype.has",!0),Me=ve("WeakMap.prototype.delete",!0);We.exports=ne?function(){var be,j,W={assert:function(se){if(!W.has(se))throw new Se("Side channel does not contain "+ce(se))},delete:function(se){if(ne&&se&&("object"==typeof se||"function"==typeof se)){if(be)return Me(be,se)}else if(Ve&&j)return j.delete(se);return!1},get:function(se){return ne&&se&&("object"==typeof se||"function"==typeof se)&&be?H(be,se):j&&j.get(se)},has:function(se){return ne&&se&&("object"==typeof se||"function"==typeof se)&&be?f(be,se):!!j&&j.has(se)},set:function(se,ge){ne&&se&&("object"==typeof se||"function"==typeof se)?(be||(be=new ne),k(be,se,ge)):Ve&&(j||(j=Ve()),j.set(se,ge))}};return W}:Ve},8268:(We,Ue,K)=>{"use strict";var Z=K(9327),ve=K(9711),ce=K(3591),Ve=K(6591),ne=K(6819)||Ve||ce;We.exports=function(){var k,f={assert:function(Me){if(!f.has(Me))throw new Z("Side channel does not contain "+ve(Me))},delete:function(Me){return!!k&&k.delete(Me)},get:function(Me){return k&&k.get(Me)},has:function(Me){return!!k&&k.has(Me)},set:function(Me,he){k||(k=ne()),k.set(Me,he)}};return f}},974:We=>{const Ue={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",cal:"http://www.w3.org/2002/12/cal/ical#",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",skos:"http://www.w3.org/2004/02/skos/core#",bookmark:"http://www.w3.org/2002/01/bookmark#",vann:"http://purl.org/vocab/vann/"};We.exports=function K(Z={namedNode:ve=>ve}){const ve={};for(const ce in Ue){const Ve=Ue[ce];ve[ce]=function(Se=""){return Z.namedNode(Ve+Se)}}return ve}},1522:function(We,Ue,K){var Z;We=K.nmd(We),function(){"object"==typeof global&&global;var ne,H=2147483647,k=36,Me=26,he=38,be=700,ge=/^xn--/,oe=/[^\x20-\x7E]/,X=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ae=k-1,ue=Math.floor,Le=String.fromCharCode;function $e(V){throw new RangeError(D[V])}function re(V,$){for(var Ae=V.length,Ne=[];Ae--;)Ne[Ae]=$(V[Ae]);return Ne}function xe(V,$){var Ae=V.split("@"),Ne="";return Ae.length>1&&(Ne=Ae[0]+"@",V=Ae[1]),Ne+re((V=V.replace(X,".")).split("."),$).join(".")}function Be(V){for(var ht,Ye,$=[],Ae=0,Ne=V.length;Ae<Ne;)(ht=V.charCodeAt(Ae++))>=55296&&ht<=56319&&Ae<Ne?56320==(64512&(Ye=V.charCodeAt(Ae++)))?$.push(((1023&ht)<<10)+(1023&Ye)+65536):($.push(ht),Ae--):$.push(ht);return $}function Pe(V){return re(V,function($){var Ae="";return $>65535&&(Ae+=Le(($-=65536)>>>10&1023|55296),$=56320|1023&$),Ae+Le($)}).join("")}function te(V){return V-48<10?V-22:V-65<26?V-65:V-97<26?V-97:k}function ye(V,$){return V+22+75*(V<26)-((0!=$)<<5)}function Ct(V,$,Ae){var Ne=0;for(V=Ae?ue(V/be):V>>1,V+=ue(V/$);V>ae*Me>>1;Ne+=k)V=ue(V/ae);return ue(Ne+(ae+1)*V/(V+he))}function wt(V){var Ne,Wt,Ut,_t,rn,sn,Sn,cn,Yt,G,$=[],Ae=V.length,ht=0,Ye=128,mt=72;for((Wt=V.lastIndexOf("-"))<0&&(Wt=0),Ut=0;Ut<Wt;++Ut)V.charCodeAt(Ut)>=128&&$e("not-basic"),$.push(V.charCodeAt(Ut));for(_t=Wt>0?Wt+1:0;_t<Ae;){for(rn=ht,sn=1,Sn=k;_t>=Ae&&$e("invalid-input"),((cn=te(V.charCodeAt(_t++)))>=k||cn>ue((H-ht)/sn))&&$e("overflow"),ht+=cn*sn,!(cn<(Yt=Sn<=mt?1:Sn>=mt+Me?Me:Sn-mt));Sn+=k)sn>ue(H/(G=k-Yt))&&$e("overflow"),sn*=G;mt=Ct(ht-rn,Ne=$.length+1,0==rn),ue(ht/Ne)>H-Ye&&$e("overflow"),Ye+=ue(ht/Ne),ht%=Ne,$.splice(ht++,0,Ye)}return Pe($)}function Pt(V){var $,Ae,Ne,ht,Ye,mt,Wt,Ut,_t,rn,sn,cn,Yt,G,He,Sn=[];for(cn=(V=Be(V)).length,$=128,Ae=0,Ye=72,mt=0;mt<cn;++mt)(sn=V[mt])<128&&Sn.push(Le(sn));for(Ne=ht=Sn.length,ht&&Sn.push("-");Ne<cn;){for(Wt=H,mt=0;mt<cn;++mt)(sn=V[mt])>=$&&sn<Wt&&(Wt=sn);for(Wt-$>ue((H-Ae)/(Yt=Ne+1))&&$e("overflow"),Ae+=(Wt-$)*Yt,$=Wt,mt=0;mt<cn;++mt)if((sn=V[mt])<$&&++Ae>H&&$e("overflow"),sn==$){for(Ut=Ae,_t=k;!(Ut<(rn=_t<=Ye?1:_t>=Ye+Me?Me:_t-Ye));_t+=k)Sn.push(Le(ye(rn+(He=Ut-rn)%(G=k-rn),0))),Ut=ue(He/G);Sn.push(Le(ye(Ut,0))),Ye=Ct(Ae,Yt,Ne==ht),Ae=0,++Ne}++Ae,++$}return Sn.join("")}ne={version:"1.4.1",ucs2:{decode:Be,encode:Pe},decode:wt,encode:Pt,toASCII:function L(V){return xe(V,function($){return oe.test($)?"xn--"+Pt($):$})},toUnicode:function xt(V){return xe(V,function($){return ge.test($)?wt($.slice(4).toLowerCase()):$})}},void 0!==(Z=function(){return ne}.call(Ue,K,Ue,We))&&(We.exports=Z)}()},1391:(We,Ue,K)=>{"use strict";var ve=K(1522);function ce(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ve=/^([a-z0-9.+-]+:)/i,Se=/:[0-9]*$/,ne=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,k=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(k),Me=["%","/","?",";","#"].concat(f),he=["/","?","#"],j=/^[+a-z0-9A-Z_-]{0,63}$/,W=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,se={javascript:!0,"javascript:":!0},ge={javascript:!0,"javascript:":!0},oe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},X=K(6505);ce.prototype.parse=function(J,$e,re){if("string"!=typeof J)throw new TypeError("Parameter 'url' must be a string, not "+typeof J);var xe=J.indexOf("?"),Be=-1!==xe&&xe<J.indexOf("#")?"?":"#",Pe=J.split(Be);Pe[0]=Pe[0].replace(/\\/g,"/");var ye=J=Pe.join(Be);if(ye=ye.trim(),!re&&1===J.split("#").length){var Ct=ne.exec(ye);if(Ct)return this.path=ye,this.href=ye,this.pathname=Ct[1],Ct[2]?(this.search=Ct[2],this.query=$e?X.parse(this.search.substr(1)):this.search.substr(1)):$e&&(this.search="",this.query={}),this}var wt=Ve.exec(ye);if(wt){var Pt=(wt=wt[0]).toLowerCase();this.protocol=Pt,ye=ye.substr(wt.length)}if(re||wt||ye.match(/^\/\/[^@/]+@[^@/]+/)){var xt="//"===ye.substr(0,2);xt&&(!wt||!ge[wt])&&(ye=ye.substr(2),this.slashes=!0)}if(!ge[wt]&&(xt||wt&&!oe[wt])){for(var L=-1,V=0;V<he.length;V++)-1!==($=ye.indexOf(he[V]))&&(-1===L||$<L)&&(L=$);var Ae,Ne;for(-1!==(Ne=-1===L?ye.lastIndexOf("@"):ye.lastIndexOf("@",L))&&(Ae=ye.slice(0,Ne),ye=ye.slice(Ne+1),this.auth=decodeURIComponent(Ae)),L=-1,V=0;V<Me.length;V++){var $;-1!==($=ye.indexOf(Me[V]))&&(-1===L||$<L)&&(L=$)}-1===L&&(L=ye.length),this.host=ye.slice(0,L),ye=ye.slice(L),this.parseHost(),this.hostname=this.hostname||"";var ht="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ht)for(var Ye=this.hostname.split(/\./),mt=(V=0,Ye.length);V<mt;V++){var Wt=Ye[V];if(Wt&&!Wt.match(j)){for(var Ut="",_t=0,rn=Wt.length;_t<rn;_t++)Wt.charCodeAt(_t)>127?Ut+="x":Ut+=Wt[_t];if(!Ut.match(j)){var sn=Ye.slice(0,V),Sn=Ye.slice(V+1),cn=Wt.match(W);cn&&(sn.push(cn[1]),Sn.unshift(cn[2])),Sn.length&&(ye="/"+Sn.join(".")+ye),this.hostname=sn.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),ht||(this.hostname=ve.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,ht&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==ye[0]&&(ye="/"+ye))}if(!se[Pt])for(V=0,mt=f.length;V<mt;V++){var He=f[V];if(-1!==ye.indexOf(He)){var Fe=encodeURIComponent(He);Fe===He&&(Fe=escape(He)),ye=ye.split(He).join(Fe)}}var yt=ye.indexOf("#");-1!==yt&&(this.hash=ye.substr(yt),ye=ye.slice(0,yt));var qt=ye.indexOf("?");return-1!==qt?(this.search=ye.substr(qt),this.query=ye.substr(qt+1),$e&&(this.query=X.parse(this.query)),ye=ye.slice(0,qt)):$e&&(this.search="",this.query={}),ye&&(this.pathname=ye),oe[Pt]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},ce.prototype.format=function(){var J=this.auth||"";J&&(J=(J=encodeURIComponent(J)).replace(/%3A/i,":"),J+="@");var $e=this.protocol||"",re=this.pathname||"",xe=this.hash||"",Be=!1,Pe="";this.host?Be=J+this.host:this.hostname&&(Be=J+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Be+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(Pe=X.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var te=this.search||Pe&&"?"+Pe||"";return $e&&":"!==$e.substr(-1)&&($e+=":"),this.slashes||(!$e||oe[$e])&&!1!==Be?(Be="//"+(Be||""),re&&"/"!==re.charAt(0)&&(re="/"+re)):Be||(Be=""),xe&&"#"!==xe.charAt(0)&&(xe="#"+xe),te&&"?"!==te.charAt(0)&&(te="?"+te),$e+Be+(re=re.replace(/[?#]/g,function(ye){return encodeURIComponent(ye)}))+(te=te.replace("#","%23"))+xe},ce.prototype.resolve=function(J){return this.resolveObject(function D(J,$e,re){if(J&&"object"==typeof J&&J instanceof ce)return J;var xe=new ce;return xe.parse(J,$e,re),xe}(J,!1,!0)).format()},ce.prototype.resolveObject=function(J){if("string"==typeof J){var $e=new ce;$e.parse(J,!1,!0),J=$e}for(var re=new ce,xe=Object.keys(this),Be=0;Be<xe.length;Be++){var Pe=xe[Be];re[Pe]=this[Pe]}if(re.hash=J.hash,""===J.href)return re.href=re.format(),re;if(J.slashes&&!J.protocol){for(var te=Object.keys(J),ye=0;ye<te.length;ye++){var Ct=te[ye];"protocol"!==Ct&&(re[Ct]=J[Ct])}return oe[re.protocol]&&re.hostname&&!re.pathname&&(re.pathname="/",re.path=re.pathname),re.href=re.format(),re}if(J.protocol&&J.protocol!==re.protocol){if(!oe[J.protocol]){for(var wt=Object.keys(J),Pt=0;Pt<wt.length;Pt++){var xt=wt[Pt];re[xt]=J[xt]}return re.href=re.format(),re}if(re.protocol=J.protocol,J.host||ge[J.protocol])re.pathname=J.pathname;else{for(var mt=(J.pathname||"").split("/");mt.length&&!(J.host=mt.shift()););J.host||(J.host=""),J.hostname||(J.hostname=""),""!==mt[0]&&mt.unshift(""),mt.length<2&&mt.unshift(""),re.pathname=mt.join("/")}return re.search=J.search,re.query=J.query,re.host=J.host||"",re.auth=J.auth,re.hostname=J.hostname||J.host,re.port=J.port,(re.pathname||re.search)&&(re.path=(re.pathname||"")+(re.search||"")),re.slashes=re.slashes||J.slashes,re.href=re.format(),re}var $=re.pathname&&"/"===re.pathname.charAt(0),Ae=J.host||J.pathname&&"/"===J.pathname.charAt(0),Ne=Ae||$||re.host&&J.pathname,ht=Ne,Ye=re.pathname&&re.pathname.split("/")||[],Wt=(mt=J.pathname&&J.pathname.split("/")||[],re.protocol&&!oe[re.protocol]);if(Wt&&(re.hostname="",re.port=null,re.host&&(""===Ye[0]?Ye[0]=re.host:Ye.unshift(re.host)),re.host="",J.protocol&&(J.hostname=null,J.port=null,J.host&&(""===mt[0]?mt[0]=J.host:mt.unshift(J.host)),J.host=null),Ne=Ne&&(""===mt[0]||""===Ye[0])),Ae)re.host=J.host||""===J.host?J.host:re.host,re.hostname=J.hostname||""===J.hostname?J.hostname:re.hostname,re.search=J.search,re.query=J.query,Ye=mt;else if(mt.length)Ye||(Ye=[]),Ye.pop(),Ye=Ye.concat(mt),re.search=J.search,re.query=J.query;else if(null!=J.search)return Wt&&(re.host=Ye.shift(),re.hostname=re.host,(Ut=!!(re.host&&re.host.indexOf("@")>0)&&re.host.split("@"))&&(re.auth=Ut.shift(),re.hostname=Ut.shift(),re.host=re.hostname)),re.search=J.search,re.query=J.query,(null!==re.pathname||null!==re.search)&&(re.path=(re.pathname?re.pathname:"")+(re.search?re.search:"")),re.href=re.format(),re;if(!Ye.length)return re.pathname=null,re.path=re.search?"/"+re.search:null,re.href=re.format(),re;for(var _t=Ye.slice(-1)[0],rn=(re.host||J.host||Ye.length>1)&&("."===_t||".."===_t)||""===_t,sn=0,Sn=Ye.length;Sn>=0;Sn--)"."===(_t=Ye[Sn])?Ye.splice(Sn,1):".."===_t?(Ye.splice(Sn,1),sn++):sn&&(Ye.splice(Sn,1),sn--);if(!Ne&&!ht)for(;sn--;sn)Ye.unshift("..");Ne&&""!==Ye[0]&&(!Ye[0]||"/"!==Ye[0].charAt(0))&&Ye.unshift(""),rn&&"/"!==Ye.join("/").substr(-1)&&Ye.push("");var Ut,cn=""===Ye[0]||Ye[0]&&"/"===Ye[0].charAt(0);return Wt&&(re.hostname=cn?"":Ye.length?Ye.shift():"",re.host=re.hostname,(Ut=!!(re.host&&re.host.indexOf("@")>0)&&re.host.split("@"))&&(re.auth=Ut.shift(),re.hostname=Ut.shift(),re.host=re.hostname)),(Ne=Ne||re.host&&Ye.length)&&!cn&&Ye.unshift(""),Ye.length>0?re.pathname=Ye.join("/"):(re.pathname=null,re.path=null),(null!==re.pathname||null!==re.search)&&(re.path=(re.pathname?re.pathname:"")+(re.search?re.search:"")),re.auth=J.auth||re.auth,re.slashes=re.slashes||J.slashes,re.href=re.format(),re},ce.prototype.parseHost=function(){var J=this.host,$e=Se.exec(J);$e&&(":"!==($e=$e[0])&&(this.port=$e.substr(1)),J=J.substr(0,J.length-$e.length)),J&&(this.hostname=J)}},2634:()=>{},5142:(We,Ue,K)=>{var Z=K(5429).default;function ve(){"use strict";We.exports=ve=function(){return Ve},We.exports.__esModule=!0,We.exports.default=We.exports;var ce,Ve={},Se=Object.prototype,ne=Se.hasOwnProperty,H=Object.defineProperty||function(L,V,$){L[V]=$.value},k="function"==typeof Symbol?Symbol:{},f=k.iterator||"@@iterator",Me=k.asyncIterator||"@@asyncIterator",he=k.toStringTag||"@@toStringTag";function be(L,V,$){return Object.defineProperty(L,V,{value:$,enumerable:!0,configurable:!0,writable:!0}),L[V]}try{be({},"")}catch{be=function($,Ae,Ne){return $[Ae]=Ne}}function j(L,V,$,Ae){var ht=Object.create((V&&V.prototype instanceof ae?V:ae).prototype),Ye=new Pt(Ae||[]);return H(ht,"_invoke",{value:te(L,$,Ye)}),ht}function W(L,V,$){try{return{type:"normal",arg:L.call(V,$)}}catch(Ae){return{type:"throw",arg:Ae}}}Ve.wrap=j;var se="suspendedStart",ge="suspendedYield",oe="executing",X="completed",D={};function ae(){}function ue(){}function Le(){}var J={};be(J,f,function(){return this});var $e=Object.getPrototypeOf,re=$e&&$e($e(xt([])));re&&re!==Se&&ne.call(re,f)&&(J=re);var xe=Le.prototype=ae.prototype=Object.create(J);function Be(L){["next","throw","return"].forEach(function(V){be(L,V,function($){return this._invoke(V,$)})})}function Pe(L,V){function $(Ne,ht,Ye,mt){var Wt=W(L[Ne],L,ht);if("throw"!==Wt.type){var Ut=Wt.arg,_t=Ut.value;return _t&&"object"==Z(_t)&&ne.call(_t,"__await")?V.resolve(_t.__await).then(function(rn){$("next",rn,Ye,mt)},function(rn){$("throw",rn,Ye,mt)}):V.resolve(_t).then(function(rn){Ut.value=rn,Ye(Ut)},function(rn){return $("throw",rn,Ye,mt)})}mt(Wt.arg)}var Ae;H(this,"_invoke",{value:function(ht,Ye){function mt(){return new V(function(Wt,Ut){$(ht,Ye,Wt,Ut)})}return Ae=Ae?Ae.then(mt,mt):mt()}})}function te(L,V,$){var Ae=se;return function(Ne,ht){if(Ae===oe)throw Error("Generator is already running");if(Ae===X){if("throw"===Ne)throw ht;return{value:ce,done:!0}}for($.method=Ne,$.arg=ht;;){var Ye=$.delegate;if(Ye){var mt=ye(Ye,$);if(mt){if(mt===D)continue;return mt}}if("next"===$.method)$.sent=$._sent=$.arg;else if("throw"===$.method){if(Ae===se)throw Ae=X,$.arg;$.dispatchException($.arg)}else"return"===$.method&&$.abrupt("return",$.arg);Ae=oe;var Wt=W(L,V,$);if("normal"===Wt.type){if(Ae=$.done?X:ge,Wt.arg===D)continue;return{value:Wt.arg,done:$.done}}"throw"===Wt.type&&(Ae=X,$.method="throw",$.arg=Wt.arg)}}}function ye(L,V){var $=V.method,Ae=L.iterator[$];if(Ae===ce)return V.delegate=null,"throw"===$&&L.iterator.return&&(V.method="return",V.arg=ce,ye(L,V),"throw"===V.method)||"return"!==$&&(V.method="throw",V.arg=new TypeError("The iterator does not provide a '"+$+"' method")),D;var Ne=W(Ae,L.iterator,V.arg);if("throw"===Ne.type)return V.method="throw",V.arg=Ne.arg,V.delegate=null,D;var ht=Ne.arg;return ht?ht.done?(V[L.resultName]=ht.value,V.next=L.nextLoc,"return"!==V.method&&(V.method="next",V.arg=ce),V.delegate=null,D):ht:(V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,D)}function Ct(L){var V={tryLoc:L[0]};1 in L&&(V.catchLoc=L[1]),2 in L&&(V.finallyLoc=L[2],V.afterLoc=L[3]),this.tryEntries.push(V)}function wt(L){var V=L.completion||{};V.type="normal",delete V.arg,L.completion=V}function Pt(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(Ct,this),this.reset(!0)}function xt(L){if(L||""===L){var V=L[f];if(V)return V.call(L);if("function"==typeof L.next)return L;if(!isNaN(L.length)){var $=-1,Ae=function Ne(){for(;++$<L.length;)if(ne.call(L,$))return Ne.value=L[$],Ne.done=!1,Ne;return Ne.value=ce,Ne.done=!0,Ne};return Ae.next=Ae}}throw new TypeError(Z(L)+" is not iterable")}return ue.prototype=Le,H(xe,"constructor",{value:Le,configurable:!0}),H(Le,"constructor",{value:ue,configurable:!0}),ue.displayName=be(Le,he,"GeneratorFunction"),Ve.isGeneratorFunction=function(L){var V="function"==typeof L&&L.constructor;return!!V&&(V===ue||"GeneratorFunction"===(V.displayName||V.name))},Ve.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,Le):(L.__proto__=Le,be(L,he,"GeneratorFunction")),L.prototype=Object.create(xe),L},Ve.awrap=function(L){return{__await:L}},Be(Pe.prototype),be(Pe.prototype,Me,function(){return this}),Ve.AsyncIterator=Pe,Ve.async=function(L,V,$,Ae,Ne){void 0===Ne&&(Ne=Promise);var ht=new Pe(j(L,V,$,Ae),Ne);return Ve.isGeneratorFunction(V)?ht:ht.next().then(function(Ye){return Ye.done?Ye.value:ht.next()})},Be(xe),be(xe,he,"Generator"),be(xe,f,function(){return this}),be(xe,"toString",function(){return"[object Generator]"}),Ve.keys=function(L){var V=Object(L),$=[];for(var Ae in V)$.push(Ae);return $.reverse(),function Ne(){for(;$.length;){var ht=$.pop();if(ht in V)return Ne.value=ht,Ne.done=!1,Ne}return Ne.done=!0,Ne}},Ve.values=xt,Pt.prototype={constructor:Pt,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=ce,this.done=!1,this.delegate=null,this.method="next",this.arg=ce,this.tryEntries.forEach(wt),!V)for(var $ in this)"t"===$.charAt(0)&&ne.call(this,$)&&!isNaN(+$.slice(1))&&(this[$]=ce)},stop:function(){this.done=!0;var V=this.tryEntries[0].completion;if("throw"===V.type)throw V.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var $=this;function Ae(Ut,_t){return Ye.type="throw",Ye.arg=V,$.next=Ut,_t&&($.method="next",$.arg=ce),!!_t}for(var Ne=this.tryEntries.length-1;Ne>=0;--Ne){var ht=this.tryEntries[Ne],Ye=ht.completion;if("root"===ht.tryLoc)return Ae("end");if(ht.tryLoc<=this.prev){var mt=ne.call(ht,"catchLoc"),Wt=ne.call(ht,"finallyLoc");if(mt&&Wt){if(this.prev<ht.catchLoc)return Ae(ht.catchLoc,!0);if(this.prev<ht.finallyLoc)return Ae(ht.finallyLoc)}else if(mt){if(this.prev<ht.catchLoc)return Ae(ht.catchLoc,!0)}else{if(!Wt)throw Error("try statement without catch or finally");if(this.prev<ht.finallyLoc)return Ae(ht.finallyLoc)}}}},abrupt:function(V,$){for(var Ae=this.tryEntries.length-1;Ae>=0;--Ae){var Ne=this.tryEntries[Ae];if(Ne.tryLoc<=this.prev&&ne.call(Ne,"finallyLoc")&&this.prev<Ne.finallyLoc){var ht=Ne;break}}ht&&("break"===V||"continue"===V)&&ht.tryLoc<=$&&$<=ht.finallyLoc&&(ht=null);var Ye=ht?ht.completion:{};return Ye.type=V,Ye.arg=$,ht?(this.method="next",this.next=ht.finallyLoc,D):this.complete(Ye)},complete:function(V,$){if("throw"===V.type)throw V.arg;return"break"===V.type||"continue"===V.type?this.next=V.arg:"return"===V.type?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):"normal"===V.type&&$&&(this.next=$),D},finish:function(V){for(var $=this.tryEntries.length-1;$>=0;--$){var Ae=this.tryEntries[$];if(Ae.finallyLoc===V)return this.complete(Ae.completion,Ae.afterLoc),wt(Ae),D}},catch:function(V){for(var $=this.tryEntries.length-1;$>=0;--$){var Ae=this.tryEntries[$];if(Ae.tryLoc===V){var Ne=Ae.completion;if("throw"===Ne.type){var ht=Ne.arg;wt(Ae)}return ht}}throw Error("illegal catch attempt")},delegateYield:function(V,$,Ae){return this.delegate={iterator:xt(V),resultName:$,nextLoc:Ae},"next"===this.method&&(this.arg=ce),D}},Ve}We.exports=ve,We.exports.__esModule=!0,We.exports.default=We.exports},5429:We=>{function Ue(K){return We.exports=Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},We.exports.__esModule=!0,We.exports.default=We.exports,Ue(K)}We.exports=Ue,We.exports.__esModule=!0,We.exports.default=We.exports},6725:(We,Ue,K)=>{var Z=K(5142)();We.exports=Z;try{regeneratorRuntime=Z}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=Z:Function("r","regeneratorRuntime = r")(Z)}},2058:(We,Ue,K)=>{"use strict";function Z(he,be,j){let W,se;j=j||ve;let ge=0,oe=he.length,X=!1;for(;ge<oe;)W=ge+(oe-ge>>1),se=+j(he[W],be),se<0?ge=W+1:(oe=W,X=!se);return X?ge:~ge}function ve(he,be){return he>be?1:he<be?-1:0}function Ve(he,be,j){if(he[0]<=be)return 0;const W=he.length;if(be<=he[W-1])return W-1;if("function"==typeof j){for(let se=1;se<W;++se){const ge=he[se];if(ge===be)return se;if(ge<be)return j(be,he[se-1],ge)>0?se-1:se}return W-1}if(j>0){for(let se=1;se<W;++se)if(he[se]<be)return se-1;return W-1}if(j<0){for(let se=1;se<W;++se)if(he[se]<=be)return se;return W-1}for(let se=1;se<W;++se){if(he[se]==be)return se;if(he[se]<be)return he[se-1]-be<be-he[se]?se-1:se}return W-1}function ne(he,be){const j=Array.isArray(be)?be:[be],W=j.length;for(let se=0;se<W;se++)he[he.length]=j[se]}function k(he,be){const j=he.length;if(j!==be.length)return!1;for(let W=0;W<j;W++)if(he[W]!==be[W])return!1;return!0}function Me(he,be,j){const W=be||ve;return he.every(function(se,ge){if(0===ge)return!0;const oe=W(he[ge-1],se);return!(oe>0||j&&0===oe)})}K.d(Ue,{El:()=>Z,FT:()=>Ve,V_:()=>ve,WC:()=>Me,X$:()=>ne,aI:()=>k})},5940:(We,Ue,K)=>{"use strict";function Z(ve,ce){if(!ve)throw new Error(ce)}K.d(Ue,{v:()=>Z})},3467:(We,Ue,K)=>{"use strict";K.d(Ue,{NW:()=>Sn,Ld:()=>ne,ms:()=>k,Rj:()=>f,S5:()=>he,N:()=>be,aZ:()=>j,dP:()=>W,Vy:()=>ge,X$:()=>ae,R8:()=>J,sB:()=>xe,q1:()=>ye,Oq:()=>L,Py:()=>ht,RG:()=>mt,HY:()=>Wt,Mx:()=>sn,$u:()=>_t});const Z={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function ne(G,He,Fe){let yt,qt;return yt=He<G[0]?G[0]-He:G[2]<He?He-G[2]:0,qt=Fe<G[1]?G[1]-Fe:G[3]<Fe?Fe-G[3]:0,yt*yt+qt*qt}function k(G,He){return G[0]<=He[0]&&He[2]<=G[2]&&G[1]<=He[1]&&He[3]<=G[3]}function f(G,He,Fe){return G[0]<=He&&He<=G[2]&&G[1]<=Fe&&Fe<=G[3]}function Me(G,He){const Rn=He[0],an=He[1];let un=Z.UNKNOWN;return Rn<G[0]?un|=Z.LEFT:Rn>G[2]&&(un|=Z.RIGHT),an<G[1]?un|=Z.BELOW:an>G[3]&&(un|=Z.ABOVE),un===Z.UNKNOWN&&(un=Z.INTERSECTING),un}function he(){return[1/0,1/0,-1/0,-1/0]}function be(G,He,Fe,yt,qt){return qt?(qt[0]=G,qt[1]=He,qt[2]=Fe,qt[3]=yt,qt):[G,He,Fe,yt]}function j(G){return be(1/0,1/0,-1/0,-1/0,G)}function W(G,He){const Fe=G[0],yt=G[1];return be(Fe,yt,Fe,yt,He)}function ge(G,He,Fe,yt,qt){return J(j(qt),G,He,Fe,yt)}function ae(G,He){return He[0]<G[0]&&(G[0]=He[0]),He[2]>G[2]&&(G[2]=He[2]),He[1]<G[1]&&(G[1]=He[1]),He[3]>G[3]&&(G[3]=He[3]),G}function J(G,He,Fe,yt,qt){for(;Fe<yt;Fe+=qt)re(G,He[Fe],He[Fe+1]);return G}function re(G,He,Fe){G[0]=Math.min(G[0],He),G[1]=Math.min(G[1],Fe),G[2]=Math.max(G[2],He),G[3]=Math.max(G[3],Fe)}function xe(G,He){let Fe;return Fe=He(function Pe(G){return[G[0],G[1]]}(G)),!!(Fe||(Fe=He(function te(G){return[G[2],G[1]]}(G)),Fe)||(Fe=He(function Ye(G){return[G[2],G[3]]}(G)),Fe)||(Fe=He(ht(G)),Fe))&&Fe}function ye(G){return[(G[0]+G[2])/2,(G[1]+G[3])/2]}function L(G){return G[3]-G[1]}function ht(G){return[G[0],G[3]]}function mt(G){return G[2]-G[0]}function Wt(G,He){return G[0]<=He[2]&&G[2]>=He[0]&&G[1]<=He[3]&&G[3]>=He[1]}function _t(G,He){return He?(He[0]=G[0],He[1]=G[1],He[2]=G[2],He[3]=G[3],He):G}function sn(G,He,Fe){let yt=!1;const qt=Me(G,He),Mn=Me(G,Fe);if(qt===Z.INTERSECTING||Mn===Z.INTERSECTING)yt=!0;else{const Rn=G[0],an=G[1],un=G[2],On=G[3],qr=Fe[0],N=Fe[1],A=(N-He[1])/(qr-He[0]);let S,U;Mn&Z.ABOVE&&!(qt&Z.ABOVE)&&(S=qr-(N-On)/A,yt=S>=Rn&&S<=un),!yt&&Mn&Z.RIGHT&&!(qt&Z.RIGHT)&&(U=N-(qr-un)*A,yt=U>=an&&U<=On),!yt&&Mn&Z.BELOW&&!(qt&Z.BELOW)&&(S=qr-(N-an)/A,yt=S>=Rn&&S<=un),!yt&&Mn&Z.LEFT&&!(qt&Z.LEFT)&&(U=N-(qr-Rn)*A,yt=U>=an&&U<=On)}return yt}function Sn(G,He,Fe,yt){if(function Ut(G){return G[2]<G[0]||G[3]<G[1]}(G))return j(Fe);let qt=[];if(yt>1){const an=G[2]-G[0],un=G[3]-G[1];for(let On=0;On<yt;++On)qt.push(G[0]+an*On/yt,G[1],G[2],G[1]+un*On/yt,G[2]-an*On/yt,G[3],G[0],G[3]-un*On/yt)}else qt=[G[0],G[1],G[2],G[1],G[2],G[3],G[0],G[3]];He(qt,qt,2);const Mn=[],Rn=[];for(let an=0,un=qt.length;an<un;an+=2)Mn.push(qt[an]),Rn.push(qt[an+1]);return function ce(G,He,Fe){return be(Math.min.apply(null,G),Math.min.apply(null,He),Math.max.apply(null,G),Math.max.apply(null,He),Fe)}(Mn,Rn,Fe)}},9749:(We,Ue,K)=>{"use strict";K.d(Ue,{Gd:()=>Se,a_:()=>ce,t7:()=>ve,zb:()=>Ve});var Z=K(3467);function ve(ne,H,k,f,Me){return!(0,Z.sB)(Me,function(be){return!ce(ne,H,k,f,be[0],be[1])})}function ce(ne,H,k,f,Me,he){let be=0,j=ne[k-f],W=ne[k-f+1];for(;H<k;H+=f){const se=ne[H],ge=ne[H+1];W<=he?ge>he&&(se-j)*(he-W)-(Me-j)*(ge-W)>0&&be++:ge<=he&&(se-j)*(he-W)-(Me-j)*(ge-W)<0&&be--,j=se,W=ge}return 0!==be}function Ve(ne,H,k,f,Me,he){if(0===k.length||!ce(ne,H,k[0],f,Me,he))return!1;for(let be=1,j=k.length;be<j;++be)if(ce(ne,k[be-1],k[be],f,Me,he))return!1;return!0}function Se(ne,H,k,f,Me,he){if(0===k.length)return!1;for(let be=0,j=k.length;be<j;++be){const W=k[be];if(Ve(ne,H,W,f,Me,he))return!0;H=W[W.length-1]}return!1}},9542:(We,Ue,K)=>{"use strict";K.d(Ue,{HT:()=>H,Wp:()=>k,fB:()=>Se,gp:()=>Ve,sj:()=>ne});var Z=K(3467),ve=K(3846),ce=K(9749);function Ve(f,Me,he,be,j){const W=(0,Z.R8)((0,Z.S5)(),f,Me,he,be);return!!(0,Z.HY)(j,W)&&(!!((0,Z.ms)(j,W)||W[0]>=j[0]&&W[2]<=j[2]||W[1]>=j[1]&&W[3]<=j[3])||(0,ve.j)(f,Me,he,be,function(se,ge){return(0,Z.Mx)(j,se,ge)}))}function Se(f,Me,he,be,j){for(let W=0,se=he.length;W<se;++W){if(Ve(f,Me,he[W],be,j))return!0;Me=he[W]}return!1}function ne(f,Me,he,be,j){return!!(Ve(f,Me,he,be,j)||(0,ce.a_)(f,Me,he,be,j[0],j[1])||(0,ce.a_)(f,Me,he,be,j[0],j[3])||(0,ce.a_)(f,Me,he,be,j[2],j[1])||(0,ce.a_)(f,Me,he,be,j[2],j[3]))}function H(f,Me,he,be,j){if(!ne(f,Me,he[0],be,j))return!1;if(1===he.length)return!0;for(let W=1,se=he.length;W<se;++W)if((0,ce.t7)(f,he[W-1],he[W],be,j)&&!Ve(f,he[W-1],he[W],be,j))return!1;return!0}function k(f,Me,he,be,j){for(let W=0,se=he.length;W<se;++W){const ge=he[W];if(H(f,Me,ge,be,j))return!0;Me=ge[ge.length-1]}return!1}},3846:(We,Ue,K)=>{"use strict";function Z(ve,ce,Ve,Se,ne){let H;for(ce+=Se;ce<Ve;ce+=Se)if(H=ne(ve.slice(ce-Se,ce),ve.slice(ce,ce+Se)),H)return H;return!1}K.d(Ue,{j:()=>Z})},9973:(We,Ue,K)=>{"use strict";function Z(j,W,se){return Math.min(Math.max(j,W),se)}function ve(j,W,se,ge,oe,X){const D=oe-se,ae=X-ge;if(0!==D||0!==ae){const ue=((j-se)*D+(W-ge)*ae)/(D*D+ae*ae);ue>1?(se=oe,ge=X):ue>0&&(se+=D*ue,ge+=ae*ue)}return ce(j,W,se,ge)}function ce(j,W,se,ge){const oe=se-j,X=ge-W;return oe*oe+X*X}function k(j,W,se){return j+se*(W-j)}function f(j,W){const se=Math.pow(10,W);return Math.round(j*se)/se}function he(j,W){return Math.floor(f(j,W))}function be(j,W){return Math.ceil(f(j,W))}K.d(Ue,{Cc:()=>k,Q1:()=>ve,RI:()=>he,hG:()=>ce,mk:()=>be,qE:()=>Z})},6016:(We,Ue,K)=>{"use strict";K.d(Ue,{hB:()=>He,O3:()=>sn,bF:()=>Wt,wU:()=>Te,tI:()=>qt,Jt:()=>_t,RG:()=>Rn,DI:()=>un});var Z=K(2018);const ve=6378137,ce=Math.PI*ve,Ve=[-ce,-ce,ce,ce],Se=[-180,-85,180,85],ne=ve*Math.log(Math.tan(Math.PI/2));class H extends Z.A{constructor(ze){super({code:ze,units:"m",extent:Ve,global:!0,worldExtent:Se,getPointResolution:function(ct,st){return ct/Math.cosh(st[1]/ve)}})}}const k=[new H("EPSG:3857"),new H("EPSG:102100"),new H("EPSG:102113"),new H("EPSG:900913"),new H("http://www.opengis.net/def/crs/EPSG/0/3857"),new H("http://www.opengis.net/gml/srs/epsg.xml#3857")];function f(le,ze,ct){const st=le.length;ct=ct>1?ct:2,void 0===ze&&(ze=ct>2?le.slice():new Array(st));for(let Qt=0;Qt<st;Qt+=ct){ze[Qt]=ce*le[Qt]/180;let Vn=ve*Math.log(Math.tan(Math.PI*(+le[Qt+1]+90)/360));Vn>ne?Vn=ne:Vn<-ne&&(Vn=-ne),ze[Qt+1]=Vn}return ze}function Me(le,ze,ct){const st=le.length;ct=ct>1?ct:2,void 0===ze&&(ze=ct>2?le.slice():new Array(st));for(let Qt=0;Qt<st;Qt+=ct)ze[Qt]=180*le[Qt]/ce,ze[Qt+1]=360*Math.atan(Math.exp(le[Qt+1]/ve))/Math.PI-90;return ze}const be=[-180,-90,180,90],j=6378137*Math.PI/180;class W extends Z.A{constructor(ze,ct){super({code:ze,units:"degrees",extent:be,axisOrientation:ct,global:!0,metersPerUnit:j,worldExtent:be})}}const se=[new W("CRS:84"),new W("EPSG:4326","neu"),new W("urn:ogc:def:crs:OGC:1.3:CRS84"),new W("urn:ogc:def:crs:OGC:2:84"),new W("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new W("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new W("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let ge={};var ae=K(4238),ue=K(3467),Le=K(9973);function Ye(le,ze){if(void 0!==ze)for(let ct=0,st=le.length;ct<st;++ct)ze[ct]=le[ct];else ze=le.slice();return ze}function mt(le,ze){if(void 0!==ze&&le!==ze){for(let ct=0,st=le.length;ct<st;++ct)ze[ct]=le[ct];le=ze}return le}function Wt(le){(function D(le,ze){ge[le]=ze})(le.getCode(),le),(0,ae.WQ)(le,le,Ye)}function _t(le){return"string"==typeof le?function X(le){return ge[le]||ge[le.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(le):le||null}function sn(le){(function Ut(le){le.forEach(Wt)})(le),le.forEach(function(ze){le.forEach(function(ct){ze!==ct&&(0,ae.WQ)(ze,ct,Ye)})})}function G(le){return function(ze,ct,st){const Qt=ze.length;st=void 0!==st?st:2,ct=void 0!==ct?ct:new Array(Qt);for(let Vn=0;Vn<Qt;Vn+=st){const Dn=le(ze.slice(Vn,Vn+st)),_n=Dn.length;for(let hr=0,ar=st;hr<ar;++hr)ct[Vn+hr]=hr>=_n?ze[Vn+hr]:Dn[hr]}return ct}}function He(le,ze,ct,st){const Qt=_t(le),Vn=_t(ze);(0,ae.WQ)(Qt,Vn,G(ct)),(0,ae.WQ)(Vn,Qt,G(st))}function qt(le,ze){if(le===ze)return!0;const ct=le.getUnits()===ze.getUnits();return(le.getCode()===ze.getCode()||Mn(le,ze)===Ye)&&ct}function Mn(le,ze){const ct=le.getCode(),st=ze.getCode();let Qt=(0,ae.Jt)(ct,st);return Qt||(Qt=mt),Qt}function Rn(le,ze){return Mn(_t(le),_t(ze))}function un(le,ze,ct,st){const Qt=Rn(ze,ct);return(0,ue.NW)(le,Qt,void 0,st)}function Te(le,ze,ct){return function(st){let Qt,Vn;if(le.canWrapX()){const Dn=le.getExtent(),_n=(0,ue.RG)(Dn);Vn=function Ae(le,ze,ct){const st=ze.getExtent();let Qt=0;return ze.canWrapX()&&(le[0]<st[0]||le[0]>st[2])&&(ct=ct||(0,ue.RG)(st),Qt=Math.floor((le[0]-st[0])/ct)),Qt}(st=st.slice(0),le,_n),Vn&&(st[0]=st[0]-Vn*_n),st[0]=(0,Le.qE)(st[0],Dn[0],Dn[2]),st[1]=(0,Le.qE)(st[1],Dn[1],Dn[3]),Qt=ct(st)}else Qt=ct(st);return Vn&&ze.canWrapX()&&(Qt[0]+=Vn*(0,ue.RG)(ze.getExtent())),Qt}}!function Re(){sn(k),sn(se),function Sn(le,ze,ct,st){le.forEach(function(Qt){ze.forEach(function(Vn){(0,ae.WQ)(Qt,Vn,ct),(0,ae.WQ)(Vn,Qt,st)})})}(se,k,f,Me)}()},2018:(We,Ue,K)=>{"use strict";K.d(Ue,{A:()=>Se});const ce={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},Se=class Ve{constructor(H){this.code_=H.code,this.units_=H.units,this.extent_=void 0!==H.extent?H.extent:null,this.worldExtent_=void 0!==H.worldExtent?H.worldExtent:null,this.axisOrientation_=void 0!==H.axisOrientation?H.axisOrientation:"enu",this.global_=void 0!==H.global&&H.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=H.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=H.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||ce[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(H){this.global_=H,this.canWrapX_=!(!H||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(H){this.defaultTileGrid_=H}setExtent(H){this.extent_=H,this.canWrapX_=!(!this.global_||!H)}setWorldExtent(H){this.worldExtent_=H}setGetPointResolution(H){this.getPointResolutionFunc_=H}getPointResolutionFunc(){return this.getPointResolutionFunc_}}},4238:(We,Ue,K)=>{"use strict";K.d(Ue,{Jt:()=>Se,WQ:()=>ce});let Z={};function ce(ne,H,k){const f=ne.getCode(),Me=H.getCode();f in Z||(Z[f]={}),Z[f][Me]=k}function Se(ne,H){let k;return ne in Z&&H in Z[ne]&&(k=Z[ne][H]),k}},3308:(We,Ue,K)=>{"use strict";function Z(ce,Ve,Se,ne,H,k,f){try{var Me=ce[k](f),he=Me.value}catch(be){return void Se(be)}Me.done?Ve(he):Promise.resolve(he).then(ne,H)}function ve(ce){return function(){var Ve=this,Se=arguments;return new Promise(function(ne,H){var k=ce.apply(Ve,Se);function f(he){Z(k,ne,H,f,Me,"next",he)}function Me(he){Z(k,ne,H,f,Me,"throw",he)}f(void 0)})}}K.d(Ue,{A:()=>ve})},1322:(We,Ue,K)=>{"use strict";function Z(ve,ce){if(!(ve instanceof ce))throw new TypeError("Cannot call a class as a function")}K.d(Ue,{A:()=>Z})},1308:(We,Ue,K)=>{"use strict";K.d(Ue,{A:()=>ce});var Z=K(6185);function ve(Ve,Se){for(var ne=0;ne<Se.length;ne++){var H=Se[ne];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(Ve,(0,Z.A)(H.key),H)}}function ce(Ve,Se,ne){return Se&&ve(Ve.prototype,Se),ne&&ve(Ve,ne),Object.defineProperty(Ve,"prototype",{writable:!1}),Ve}},3380:(We,Ue,K)=>{"use strict";K.d(Ue,{A:()=>ve});var Z=K(6185);function ve(ce,Ve,Se){return(Ve=(0,Z.A)(Ve))in ce?Object.defineProperty(ce,Ve,{value:Se,enumerable:!0,configurable:!0,writable:!0}):ce[Ve]=Se,ce}},4009:(We,Ue,K)=>{"use strict";function Z(ve){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ce){return ce.__proto__||Object.getPrototypeOf(ce)})(ve)}K.d(Ue,{A:()=>Z})},6190:(We,Ue,K)=>{"use strict";function Z(ce,Ve){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Se,ne){return Se.__proto__=ne,Se})(ce,Ve)}function ve(ce,Ve){if("function"!=typeof Ve&&null!==Ve)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Object.defineProperty(ce,"prototype",{writable:!1}),Ve&&Z(ce,Ve)}K.d(Ue,{A:()=>ve})},1853:(We,Ue,K)=>{"use strict";K.d(Ue,{A:()=>ce});var Z=K(9391);function ce(Ve,Se){if(Se&&("object"==(0,Z.A)(Se)||"function"==typeof Se))return Se;if(void 0!==Se)throw new TypeError("Derived constructors may only return object or undefined");return function ve(Ve){if(void 0===Ve)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ve}(Ve)}},6185:(We,Ue,K)=>{"use strict";K.d(Ue,{A:()=>ce});var Z=K(9391);function ce(Ve){var Se=function ve(Ve,Se){if("object"!=(0,Z.A)(Ve)||!Ve)return Ve;var ne=Ve[Symbol.toPrimitive];if(void 0!==ne){var H=ne.call(Ve,Se||"default");if("object"!=(0,Z.A)(H))return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Se?String:Number)(Ve)}(Ve,"string");return"symbol"==(0,Z.A)(Se)?Se:Se+""}},9391:(We,Ue,K)=>{"use strict";function Z(ve){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(ve)}K.d(Ue,{A:()=>Z})}},We=>{We(We.s=3951)}]);