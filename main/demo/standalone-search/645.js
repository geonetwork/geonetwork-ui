"use strict";(self.webpackChunkwebcomponents=self.webpackChunkwebcomponents||[]).push([[645],{9645:($,G,p)=>{p.r(G),p.d(G,{buildOpenLayersTileGrid:()=>k});var y=p(3308),M=p(5534),a=p(2181);class W extends M.A{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}var z=p(206),L=p(4238);let m=null;function C(t){m=t;const e=Object.keys(t.defs),r=e.length;let o,f;for(o=0;o<r;++o){const n=e[o];if(!(0,a.Jt)(n)){const s=t.defs(n);let i=s.units;!i&&"longlat"===s.projName&&(i="degrees"),(0,a.bF)(new z.A({code:n,axisOrientation:s.axis,metersPerUnit:s.to_meter,units:i}))}}for(o=0;o<r;++o){const n=e[o],s=(0,a.Jt)(n);for(f=0;f<r;++f){const i=e[f],d=(0,a.Jt)(i);if(!(0,L.Jt)(n,i))if(t.defs[n]===t.defs[i])(0,a.O3)([s,d]);else{const l=t(n,i);(0,a.hB)(s,d,(0,a.wU)(s,d,l.forward),(0,a.wU)(d,s,l.inverse))}}}}let T=function(){var t=(0,y.A)(function*(e){const r=yield fetch(`https://epsg.io/${e}.proj4`);if(!r.ok)throw new Error(`Unexpected response from epsg.io: ${r.status}`);return r.text()});return function(r){return t.apply(this,arguments)}}();function S(){return(S=(0,y.A)(function*(t){"string"==typeof t&&(t=parseInt(t.split(":").pop(),10));const e=m;if(!e)throw new Error("Proj4 must be registered first with register(proj4)");const r="EPSG:"+t;return e.defs(r)||(e.defs(r,yield T(t)),C(e)),(0,a.Jt)(r)})).apply(this,arguments)}function k(t,e){return P.apply(this,arguments)}function P(){return P=(0,y.A)(function*(t,e){let r=(0,a.Jt)(t.crs);if(r||(r=yield function b(t){return S.apply(this,arguments)}(t.crs)),!r)throw new Error(`[ogc-client] could not create OpenLayers tile grid, the following projection is unknown: ${t.crs}`);return function v(t,e,r){const o=[],f=[],n=[],s=[],i=[];r=void 0!==r?r:[];const l="TileMatrix",u="Identifier",h="ScaleDenominator",j="TopLeftCorner",I=(0,a.Jt)(t.SupportedCRS),N=I.getMetersPerUnit(),U="ne"==I.getAxisOrientation().substr(0,2);return t[l].sort(function(c,g){return g[h]-c[h]}),t[l].forEach(function(c){let g;if(g=!(r.length>0)||r.find(function(x){return c[u]==x[l]||!c[u].includes(":")&&t[u]+":"+c[u]===x[l]}),g){f.push(c[u]);const x=28e-5*c[h]/N,w=c.TileWidth,E=c.TileHeight;n.push(U?[c[j][1],c[j][0]]:c[j]),o.push(x),s.push(w==E?w:[w,E]),i.push([c.MatrixWidth,c.MatrixHeight])}}),new W({extent:e,origins:n,resolutions:o,matrixIds:f,tileSizes:s,sizes:i})}({SupportedCRS:r,TileMatrix:t.tileMatrices.map(n=>({Identifier:n.identifier,ScaleDenominator:n.scaleDenominator,TopLeftCorner:n.topLeft,TileWidth:n.tileWidth,TileHeight:n.tileHeight,MatrixWidth:n.matrixWidth,MatrixHeight:n.matrixHeight}))},null,e.map(n=>({TileMatrix:n.tileMatrix})))}),P.apply(this,arguments)}C(p(176).A)}}]);