import{_ as s,v as a,b as n,R as o}from"./chunks/framework.02cfc778.js";const h=JSON.parse('{"title":"Creating a Custom application based on GeoNetwork-UI","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"guide/custom-app.md","filePath":"guide/custom-app.md"}'),e={name:"guide/custom-app.md"},l=o(`<h1 id="creating-a-custom-application-based-on-geonetwork-ui" tabindex="-1">Creating a Custom application based on GeoNetwork-UI <a class="header-anchor" href="#creating-a-custom-application-based-on-geonetwork-ui" aria-label="Permalink to &quot;Creating a Custom application based on GeoNetwork-UI&quot;">​</a></h1><p>An important principle when looking to use GeoNetwork-UI is: <strong>do not fork it!</strong></p><p>Forking is tempting because it allows customizing things right away and easily, but it has many drawbacks: difficulties for keeping the forked repository in sync, fewer contributions being brought upstream, breaking changes and compatibility issues.</p><p>If you want to create your own application using GeoNetwork-UI functionalities, you should <strong>create a Custom Application</strong> as described in this guide.</p><h3 id="creating-a-custom-application" tabindex="-1">Creating a Custom Application <a class="header-anchor" href="#creating-a-custom-application" aria-label="Permalink to &quot;Creating a Custom Application&quot;">​</a></h3><p>In order to discourage forking, GeoNetwork-UI is made to be publishable as an <a href="https://www.npmjs.com/package/geonetwork-ui" target="_blank" rel="noreferrer">NPM package</a>. This means that <strong>a Custom Application should be a separate project in a separate repository</strong>, and that it should simply list GeoNetwork-UI as a regular dependency. No forking, no git submodules, just NPM.</p><p>This also means that whenever new functionalities from GeoNetwork-UI are needed the version of the dependency can be bumped accordingly.</p><h2 id="what-does-the-npm-package-for-geonetwork-ui-contain" tabindex="-1">What does the NPM package for GeoNetwork-UI contain? <a class="header-anchor" href="#what-does-the-npm-package-for-geonetwork-ui-contain" aria-label="Permalink to &quot;What does the NPM package for GeoNetwork-UI contain?&quot;">​</a></h2><p>The <a href="https://www.npmjs.com/package/geonetwork-ui" target="_blank" rel="noreferrer"><code>geonetwork-ui</code> NPM package</a> contains:</p><ul><li>all the libraries in the <code>libs</code> folder</li><li>all translations</li><li>various configuration files (explained later)</li></ul><p>The package <em>does not</em> contain:</p><ul><li>applications (Datahub, etc.)</li><li>unit and E2E tests</li><li>docker composition</li><li>documentation</li><li>anything related to <a href="https://nx.dev/" target="_blank" rel="noreferrer">NX</a></li></ul><h2 id="what-is-the-npm-package-compatible-with" tabindex="-1">What is the NPM package compatible with? <a class="header-anchor" href="#what-is-the-npm-package-compatible-with" aria-label="Permalink to &quot;What is the NPM package compatible with?&quot;">​</a></h2><p>The NPM package is compiled as a single Angular Library with the so-called <a href="https://angular.io/guide/angular-compiler-options#compilationmode" target="_blank" rel="noreferrer">partial-Ivy mode</a>, which means that it is theoretically compatible with a wide range of Angular versions.</p><p>The <a href="https://github.com/geonetwork/geonetwork-ui/package/package.json" target="_blank" rel="noreferrer">package.json</a> file of the NPM package lists Angular libraries as peer dependencies, along with a range of versions that indicate what can be expected in terms of compatibility with Angular.</p><p>Please note that <strong>the GeoNetwork-UI package only requires a basic Angular application to run!</strong></p><h2 id="how-to-set-up-a-custom-application" tabindex="-1">How to set up a Custom Application <a class="header-anchor" href="#how-to-set-up-a-custom-application" aria-label="Permalink to &quot;How to set up a Custom Application&quot;">​</a></h2><p>Setting up a Custom Application requires precisely following several steps.</p><h3 id="step-1-create-an-application-with-angular" tabindex="-1">Step 1: Create an application with Angular <a class="header-anchor" href="#step-1-create-an-application-with-angular" aria-label="Permalink to &quot;Step 1: Create an application with Angular&quot;">​</a></h3><p>This can be done in several ways, see for instance <a href="https://angular.io/guide/setup-local" target="_blank" rel="noreferrer">Angular Setup Guide</a>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>GeoNetwork-UI as an NPM package is <strong>not compatible with Server-Side Rendering!</strong> use the <code>--ssr false</code> flag</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If using Angular 17+, make sure to create a <strong>non-standalone app</strong> using the <code>--no-standalone</code> flag</p></div><h3 id="step-2-adjust-the-typescript-configuration" tabindex="-1">Step 2: Adjust the Typescript configuration <a class="header-anchor" href="#step-2-adjust-the-typescript-configuration" aria-label="Permalink to &quot;Step 2: Adjust the Typescript configuration&quot;">​</a></h3><p>Add the following settings to the <code>tsconfig.json</code> file at the root of your project:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">compilerOptions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">strict</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">noImplicitOverride</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">noPropertyAccessFromIndexSignature</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">lib</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dom.iterable</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">skipDefaultLibCheck</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">skipLibCheck</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">emitDecoratorMetadata</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">allowJs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">allowSyntheticDefaultImports</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">resolveJsonModule</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">angularCompilerOptions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">strictTemplates</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>This is necessary mostly because GeoNetwork-UI will not compile under Typescript strict mode.</p><h3 id="step-3-adjust-the-angular-configuration" tabindex="-1">Step 3: Adjust the Angular configuration <a class="header-anchor" href="#step-3-adjust-the-angular-configuration" aria-label="Permalink to &quot;Step 3: Adjust the Angular configuration&quot;">​</a></h3><p>Some dependencies of GeoNetwork-UI will trigger a warning by the Angular compiler. To suppress these warnings, add the following settings to the <code>angular.json</code> file at the root of your project:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">architect</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">build</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">configurations</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">production</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;">// ..</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">development</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;">// ..</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">preserveSymlinks</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">allowedCommonJsDependencies</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">duration-relativetimeformat</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">papaparse</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xlsx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">chroma-js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@rgrove/parse-xml</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@messageformat/core</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rbush</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pbf</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">alasql</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;">// add dependencies here if other warnings show up and you want to hide them</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">defaultConfiguration</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span></code></pre></div><p>The <code>preserveSymlinks</code> setting is also important if you&#39;re working in dev mode and use a symbolic link to point to a dev build of GeoNetwork-UI.</p><h3 id="step-4-install-tailwind" tabindex="-1">Step 4: Install Tailwind <a class="header-anchor" href="#step-4-install-tailwind" aria-label="Permalink to &quot;Step 4: Install Tailwind&quot;">​</a></h3><p><a href="https://tailwindcss.com/" target="_blank" rel="noreferrer">Tailwind CSS</a> is used for styling across the whole of GeoNetwork-UI, and is a mandatory dependency.</p><p>To install and initialize it:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tailwindcss</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">postcss</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">autoprefixer</span></span>
<span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tailwindcss</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span></span></code></pre></div><p>Note that this is taken from the Tailwind CSS setup guide.</p><p>Then, adjust the <code>tailwind.config.js</code> file like so:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> baseConfig </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">geonetwork-ui/tailwind.base.config.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/** </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">type</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">import(&#39;tailwindcss&#39;).Config</span><span style="color:#89DDFF;font-style:italic;">}</span><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">baseConfig</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">content</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./node_modules/geonetwork-ui/**/*.mjs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/**/*.{html,ts}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>Here we are inheriting from the GeoNetwork-UI base Tailwind config, which provides many essential things like theme colors etc.</p><h3 id="step-5-install-other-mandatory-dependencies" tabindex="-1">Step 5: Install other mandatory dependencies <a class="header-anchor" href="#step-5-install-other-mandatory-dependencies" aria-label="Permalink to &quot;Step 5: Install other mandatory dependencies&quot;">​</a></h3><p><a href="https://material.angular.io/" target="_blank" rel="noreferrer">Angular Material</a> and <a href="https://github.com/ngx-translate/core" target="_blank" rel="noreferrer">ngx-translate</a> are other dependencies essential for many GeoNetwork-UI components. To install them:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">@angular/material</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">@angular/material-moment-adapter</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">@angular/cdk</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">@ngrx/component</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">@ngrx/effects</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">@ngrx/router-store</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">@ngrx/store</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">@ngrx/store-devtools</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">@ngx-translate/core</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">@ngx-translate/http-loader</span></span></code></pre></div><h3 id="step-6-install-the-geonetwork-ui-package" tabindex="-1">Step 6: Install the <code>geonetwork-ui</code> package <a class="header-anchor" href="#step-6-install-the-geonetwork-ui-package" aria-label="Permalink to &quot;Step 6: Install the \`geonetwork-ui\` package&quot;">​</a></h3><p>Run:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">geonetwork-ui</span></span></code></pre></div><h3 id="step-7-include-the-required-fonts" tabindex="-1">Step 7: Include the required fonts <a class="header-anchor" href="#step-7-include-the-required-fonts" aria-label="Permalink to &quot;Step 7: Include the required fonts&quot;">​</a></h3><p>The root <code>index.html</code> file of your application should include the Material Symbols font for icons. Add these lines to itS <code>&lt;head&gt;</code> section:</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">&lt;!-- ... --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">preconnect</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://fonts.googleapis.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">preconnect</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://fonts.gstatic.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">crossorigin</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stylesheet</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><h3 id="step-8-include-the-geonetwork-ui-stylesheet" tabindex="-1">Step 8: Include the GeoNetwork-UI stylesheet <a class="header-anchor" href="#step-8-include-the-geonetwork-ui-stylesheet" aria-label="Permalink to &quot;Step 8: Include the GeoNetwork-UI stylesheet&quot;">​</a></h3><p>GeoNetwork-UI comes with its own stylesheet, which you should include at the top of your application <code>style.css</code> file like so:</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">@import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">geonetwork-ui/style.css</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="step-9-initialize-the-color-theme" tabindex="-1">Step 9: Initialize the color theme <a class="header-anchor" href="#step-9-initialize-the-color-theme" aria-label="Permalink to &quot;Step 9: Initialize the color theme&quot;">​</a></h3><p>GeoNetwork-UI lets users define their own theme based on primary and secondary colors for instance. By default, no theme is specified so UI components might not render properly. To define a theme, call the following function on the application module constructor:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AppModule</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// change colors as you see fit!</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">ThemeService</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">applyCssVariables</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#e73f51</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#c2e9dc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#212029</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#fdfbff</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="that-s-it-🎉" tabindex="-1">That&#39;s it! 🎉 <a class="header-anchor" href="#that-s-it-🎉" aria-label="Permalink to &quot;That&#39;s it! 🎉&quot;">​</a></h3><p>Congratulations, you should be able to use components and services from GeoNetwork-UI now. Try adding <code>&lt;gn-ui-button&gt;</code> to your HTML template, and your IDE should offer you to import the required dependencies in your application module.</p><p>In case things do not work out properly, please be so kind as to <a href="https://github.com/geonetwork/geonetwork-ui/issues/new" target="_blank" rel="noreferrer">open an issue on GitHub</a> so the project team can work on improving this workflow. Thank you!</p><p>As an illustration, a working Custom Application can be found in this repository: <a href="https://github.com/jahow/geonetwork-ui-custom-app" target="_blank" rel="noreferrer">https://github.com/jahow/geonetwork-ui-custom-app</a> Note that this is not guaranteed to be maintained in the long run.</p><h2 id="using-the-npm-package-in-development-mode" tabindex="-1">Using the NPM package in development mode <a class="header-anchor" href="#using-the-npm-package-in-development-mode" aria-label="Permalink to &quot;Using the NPM package in development mode&quot;">​</a></h2><p>When developing in parallel on GeoNetwork-UI and a Custom Application, the following guidelines should be followed:</p><ul><li>A tool such as <a href="https://github.com/wclr/yalc" target="_blank" rel="noreferrer">yalc</a> is recommended to make a link between the Custom Application and GeoNetwork-UI <ul><li><a href="https://docs.npmjs.com/cli/v9/commands/npm-link" target="_blank" rel="noreferrer"><code>npm link</code></a> or <code>npm install &lt;path/to/package/dist&gt;</code> can also be used, but it will require including the <a href="https://docs.npmjs.com/cli/v8/commands/npm-install#install-links" target="_blank" rel="noreferrer"><code>--install-links</code> flag for <code>npm install</code></a>, otherwise <em>transitive dependencies will not be installed!</em></li></ul></li><li>Having live reload on changes made in a dependency (such as GeoNetwork-UI) is really hard to achieve with Angular; usually, changes in GeoNetwork-UI will only be reflected after a browser refresh</li><li>To make sure that changes in GeoNetwork-UI are correctly reflected, it might be necessary to disable the Angular cache in <code>.angular</code> altogether; see <a href="https://angular.io/cli/cache" target="_blank" rel="noreferrer">https://angular.io/cli/cache</a> for how to do this</li></ul>`,60),t=[l];function p(r,c,i,D,y,F){return a(),n("div",null,t)}const C=s(e,[["render",p]]);export{h as __pageData,C as default};
