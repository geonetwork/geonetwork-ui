import{_ as i,c as s,a3 as t,o as a}from"./chunks/framework.BU4YErrW.js";const u=JSON.parse('{"title":"Styling guidelines","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"developers/styling-guide.md","filePath":"developers/styling-guide.md"}'),o={name:"developers/styling-guide.md"};function n(l,e,c,r,d,h){return a(),s("div",null,e[0]||(e[0]=[t('<h1 id="styling-guidelines" tabindex="-1">Styling guidelines <a class="header-anchor" href="#styling-guidelines" aria-label="Permalink to &quot;Styling guidelines&quot;">​</a></h1><p>In order to guarantee consistency and maintainability, all contributions to GeoNetwork-UI should adhere to the following guidelines.</p><h2 id="how-to-style-components" tabindex="-1">How to style components <a class="header-anchor" href="#how-to-style-components" aria-label="Permalink to &quot;How to style components&quot;">​</a></h2><p>Most styling in GeoNetwork-UI happens at the component level. All components might contain styling, although the most complicated styles should live in presentation components (<code>ui/*</code> libraries).</p><h3 id="tailwind-classes" tabindex="-1">Tailwind classes <a class="header-anchor" href="#tailwind-classes" aria-label="Permalink to &quot;Tailwind classes&quot;">​</a></h3><p>The primary way of applying styles to a component is through <a href="https://v3.tailwindcss.com/docs/" target="_blank" rel="noreferrer">Tailwind v3 classes</a> in the HTML template.</p><p>Tailwind classes offer the following advantages:</p><ul><li>Styles can be applied to different states (<code>focus:bg-white</code>, <code>hover:bg-gray</code>, etc.) and different screen sizes (<code>sm:bg-white</code>, <code>md:bg-gray</code>, etc.)</li><li>Explicit values can be specified instead of built-in ones, e.g. <code>w-[50px]</code> instead of <code>w-12</code></li><li>Styling can also be based on the parent state <a href="https://v3.tailwindcss.com/docs/hover-focus-and-other-states#styling-based-on-parent-state" target="_blank" rel="noreferrer">using <code>group</code> and <code>group-{modifier}</code> classes</a></li><li>Many prebuilt component libraries exists, e.g. <a href="https://flowbite.com/docs/getting-started/introduction/" target="_blank" rel="noreferrer">Flowbite</a>; copy-pasting these gives a great starting point without adding dependencies to the project</li></ul><p>Tailwind classes have some limitations, especially when doing more elaborate CSS code. In that case, using the component CSS file is often the best option.</p><div class="info custom-block"><p class="custom-block-title">👉 Rule of thumb</p><ul><li>Use Tailwind classes unless hitting a limitation (see alternatives below)</li></ul></div><h4 id="should-i-use-built-in-values-w-12-or-explicit-values-w-50px" tabindex="-1">Should I use built-in values (<code>w-12</code>) or explicit values (<code>w-[50px]</code>)? <a class="header-anchor" href="#should-i-use-built-in-values-w-12-or-explicit-values-w-50px" aria-label="Permalink to &quot;Should I use built-in values (`w-12`) or explicit values (`w-[50px]`)?&quot;">​</a></h4><p>Using built-in Tailwind values has the advantage to offer consistency in scaling, spacing etc. On the other hand, it does not give right away the information about <em>how much the value actually is</em>.</p><div class="info custom-block"><p class="custom-block-title">👉 Rule of thumb</p><ul><li>Use explicit <code>px</code> values when trying to stick to a precise layout, e.g. a mockup, or when manipulating large values, i.e. above the <code>*-8</code> size,</li><li>Use explicit <code>em</code> values when writing a <a href="#scalable-components">scalable component</a>,</li><li>Use built-in values otherwise.</li></ul></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Tailwind classes should always be written explicitly! For instance, this will <em>not</em> get picked up by the compiler:</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;w-{{isLarge ? &#39;16&#39; : &#39;12&#39;}}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;hello world&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div></div><h3 id="css-file" tabindex="-1">CSS file <a class="header-anchor" href="#css-file" aria-label="Permalink to &quot;CSS file&quot;">​</a></h3><p>Every component in the project comes with its titular CSS file. The CSS in that file will always be scoped to the component, which means that the styles written there will never leak onto other components or parts of the layout.</p><p>The CSS file also has some advantages like offering access to the <code>:host</code> selector.</p><div class="info custom-block"><p class="custom-block-title">👉 Rule of thumb</p><ul><li>Use the CSS file when using <code>:before</code> and <code>:after</code> pseudo-elements</li><li>Use the CSS file when using <code>:first-child</code>, <code>:first-of-type</code> and others advanced CSS selector</li><li>Use the CSS file for defining animations</li><li>Use the CSS file when styling the host element through <code>:host</code></li></ul></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Keep in mind that CSS can be hard to maintain: it cannot be tested reliably and its cascading nature makes it hard to understand.</p><p>The policy in GeoNetwork-UI is to <strong>have as few lines of CSS as possible.</strong></p></div><h3 id="inline-css-in-html" tabindex="-1">Inline CSS in HTML <a class="header-anchor" href="#inline-css-in-html" aria-label="Permalink to &quot;Inline CSS in HTML&quot;">​</a></h3><p>Writing inline CSS in HTML can also be done. It is the less readable option, but has the following advantages:</p><ul><li>Does not require setting classes or other markers on elements for CSS selectors</li><li>Allows computing values dynamically with <code>ngStyle</code>, e.g.:</li></ul><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;absolute top-0&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> [ngStyle]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{ left: shiftValuePx + &#39;px&#39; }&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;hello world&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">👉 Rule of thumb</p><ul><li>Use inline CSS if the style values must be computed by Angular</li><li>Use inline CSS if Tailwind does not offer a suitable class for that case</li><li>Use inline CSS for setting CSS variables at a certain point in the DOM tree</li></ul></div><h2 id="how-to-make-presentation-components-reusable" tabindex="-1">How to make presentation components reusable <a class="header-anchor" href="#how-to-make-presentation-components-reusable" aria-label="Permalink to &quot;How to make presentation components reusable&quot;">​</a></h2><p>Presentation components should be built in a way that makes them easy to use. To address the fact that things almost never look the same twice, the following mechanisms have been set up in GeoNetwork-UI.</p><h3 id="scalable-components" tabindex="-1">Scalable components <a class="header-anchor" href="#scalable-components" aria-label="Permalink to &quot;Scalable components&quot;">​</a></h3><p>A presentation component can be made to be &quot;scalable&quot;: this means that its whole design will scale proportionally when changing its text size.</p><p>This entails that all style rules applied in this component are written using <code>em</code> units.</p><div class="info custom-block"><p class="custom-block-title">👉 Rule of thumb</p><ul><li>Make a component scalable if it is part of <code>ui/widgets</code> or <code>ui/input</code></li><li>Do not make a component scalable if it relies too much on text; in that case, only the text size can be made customizable</li><li>Do not make a component scalable if it can contain arbitrary content using e.g. <code>&lt;ng-content&gt;</code></li></ul></div><h3 id="generic-components" tabindex="-1">Generic components <a class="header-anchor" href="#generic-components" aria-label="Permalink to &quot;Generic components&quot;">​</a></h3><p>In order to improve code reuse and facilitate customization of presentation components, a small number of generic components classes have been introduced. These classes are written in the <a href="https://github.com/geonetwork/geonetwork-ui/blob/main/tailwind.base.css" target="_blank" rel="noreferrer"><code>tailwind.base.css</code> file</a> which is imported in all applications.</p><p>The generic components classes are:</p><ul><li><code>.gn-ui-btn</code>: buttons</li><li><code>.gn-ui-text-input</code>: text input fields</li><li><code>.gn-ui-link</code>: links</li><li><code>.gn-ui-card</code>: cards (i.e. generic blocks used to enclose content)</li><li><code>.gn-ui-badge</code>: badges</li></ul><p>Any introduction of a new generic component class should be discussed and approved.</p><p>All generic component classes should be prefixed with <code>gn-ui-</code>.</p><div class="info custom-block"><p class="custom-block-title">👉 Rule of thumb</p><p>Use generic component classes if you need to benefit from the above-mentioned styles without using an existing Angular component like <code>gn-ui-button</code> or <code>gn-ui-text-input</code>.</p></div><h3 id="css-variables" tabindex="-1">CSS variables <a class="header-anchor" href="#css-variables" aria-label="Permalink to &quot;CSS variables&quot;">​</a></h3><p>Presentation components should be usable in different contexts and environments. As such, it is important to provide flexibility in their design.</p><p>To provide that flexibility, CSS variables can be used to alter parameters such as: margins, paddings, sizing, colors, text size, opacity, border size and radius, box shadow.</p><p>CSS variables should be introduced gradually as the need for it arises, instead of trying to cover all possible use cases early (see <a href="https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it" target="_blank" rel="noreferrer">YAGNI principle</a>).</p><p>All CSS variables should be named as such: <code>--gn-ui-&lt;component-name&gt;-&lt;property-name&gt;</code>. For instance: <code>--gn-ui-tooltip-background</code> or <code>--gn-ui-search-bar-shadow</code>.</p><p>A presentation component should work when none of its CSS variables are set, i.e. <strong>always provide a default value</strong>. This can be done with the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/var" target="_blank" rel="noreferrer"><code>var</code> CSS operator</a> like so:</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  margin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">--gn-ui-my-component-margin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Always add a corresponding demonstration case in the component&#39;s storybook entry when adding a CSS variable.</p><div class="info custom-block"><p class="custom-block-title">👉 Rule of thumb</p><ul><li>Introduce a CSS variable in a presentation component if you need to tweak its appearance in a certain context.</li><li>When introducing a CSS variable, always maintain previous appearance/behavior if the CSS variable is not set.</li></ul></div><h2 id="theme-based-styling" tabindex="-1">Theme-based styling <a class="header-anchor" href="#theme-based-styling" aria-label="Permalink to &quot;Theme-based styling&quot;">​</a></h2><p>GeoNetwork-UI provides a theming system that allows customizing (among other things):</p><ul><li>Primary and secondary colors</li><li>Main color (i.e. text color) and background color</li><li>Fonts for title and body</li></ul><p>Whenever designing a presentation component, the style values derived from the theme should be used as much as possible:</p><ul><li><p>Tailwind classes are provided for the theme colors and their associated scales, such as:</p><ul><li><code>text-color-primary</code>, <code>text-color-primary-lighter</code>, <code>text-color-primary-lightest</code>, etc.</li><li><code>bg-color-primary</code>, <code>bg-color-primary-lighter</code>, <code>bg-color-primary-lightest</code>, etc.</li><li><code>font-main</code> and <code>font-title</code></li></ul></li><li><p>Global CSS variables can also be used directly like so:</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">--color-primary-lightest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><p>See the <a href="https://geonetwork.github.io/geonetwork-ui/main/storybook/demo/?path=/docs/widgets-colorscalecomponent--docs" target="_blank" rel="noreferrer">ColorScale component on Storybook</a> for a showcase of available theme-based color scales.</p><div class="info custom-block"><p class="custom-block-title">👉 Rule of thumb</p><ul><li>Use theme-based values for text colors, background colors, border colors</li><li>Do not use <code>black</code> and <code>white</code> color; instead, use <code>main</code> and <code>background</code></li><li>Do not use explicit fonts; instead, use <code>font-main</code> or <code>font-title</code></li><li>Do not use built-in <a href="https://v3.tailwindcss.com/docs/customizing-colors" target="_blank" rel="noreferrer">Tailwind color scales</a> unless a color is meant to convey a meaning (e.g. red for error, orange for warning)</li></ul></div><h2 id="things-not-to-do" tabindex="-1">Things not to do <a class="header-anchor" href="#things-not-to-do" aria-label="Permalink to &quot;Things not to do&quot;">​</a></h2><ul><li>❌ Do <em>not</em> use <code>!important</code> (either in CSS or Tailwind classes) unless it is absolutely necessary and no other solution exists</li><li>❌ Do <em>not</em> use global CSS classes; exceptions are the <a href="#generic-components">generic components</a> described above</li><li>❌ Do <em>not</em> use explicit fonts in layouts; fonts used should always be the <code>main</code> or <code>title</code> ones from the theme; exceptions are things like tooltips, code blocks, etc. where the font used is completely unrelated to the general theme</li><li>❌ Do <em>not</em> use <a href="https://angular.dev/guide/components/styling#ng-deep" target="_blank" rel="noreferrer"><code>::ng-deep</code> selector</a> unless absolutely necessary (e.g. styling a third-party component)</li><li>❌ Do <em>not</em> take changes to presentation components lightly; <strong>these components are foundational</strong> and often used in very different environments (including custom apps!). Any change to them should be carefully considered and thoroughly tested in Storybook.</li></ul>',55)]))}const g=i(o,[["render",n]]);export{u as __pageData,g as default};
