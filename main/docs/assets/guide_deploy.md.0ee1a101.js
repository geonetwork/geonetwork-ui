import{_ as s,v as a,b as e,R as n}from"./chunks/framework.02cfc778.js";const D=JSON.parse('{"title":"Deploy","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"guide/deploy.md","filePath":"guide/deploy.md"}'),l={name:"guide/deploy.md"},o=n(`<h1 id="deploy" tabindex="-1">Deploy <a class="header-anchor" href="#deploy" aria-label="Permalink to &quot;Deploy&quot;">​</a></h1><p>After building your app, you can deploy it in any HTTP server (e.g Nginx, Apache, Azure Static Website with Blob storage ...).</p><p>Move the content of <code>dist/</code> folder into your server and adjust your configuration file (if needed).</p><h2 id="web-server" tabindex="-1">Web Server <a class="header-anchor" href="#web-server" aria-label="Permalink to &quot;Web Server&quot;">​</a></h2><p>Geonetwork-UI apps are using path based routing strategy. HTTP server needs some modifications to make application work</p><p>If resource is not available, the request must be redirected to angular&#39;s <code>index.html</code>.</p><h3 id="nginx" tabindex="-1">NGINX <a class="header-anchor" href="#nginx" aria-label="Permalink to &quot;NGINX&quot;">​</a></h3><p>For Nginx, edit your server configuration to redirect to index.html as fallback.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">listen</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">listen</span><span style="color:#A6ACCD;"> [::] 80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">server_name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">www.example.com</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example.com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/www/example</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">index</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">index.html</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">try_files</span><span style="color:#A6ACCD;"> $uri$args $uri$args</span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/index.html</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h3 id="apache" tabindex="-1">Apache <a class="header-anchor" href="#apache" aria-label="Permalink to &quot;Apache&quot;">​</a></h3><p>For Apache, you will need to activate the rewrite module :</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">a2enmod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rewrite</span></span>
<span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restart</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apache2</span></span></code></pre></div><p>Then there&#39;s two solutions. You will need to add thoses lines in a <code>.htaccess</code> file along the <code>index.html</code> or in a directory rule inside your <code>httpd.conf</code></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">RewriteEngine</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">On</span></span>
<span class="line"><span style="color:#FFCB6B;">RewriteCond</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">%{DOCUMENT_ROOT}%{REQUEST_URI}</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> [OR]</span></span>
<span class="line"><span style="color:#FFCB6B;">RewriteCond</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">%{DOCUMENT_ROOT}%{REQUEST_URI}</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span></span>
<span class="line"><span style="color:#FFCB6B;">RewriteRule</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">^</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;"> [L]</span></span>
<span class="line"><span style="color:#FFCB6B;">RewriteRule</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">^</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{link_to_angular}/index.html</span></span></code></pre></div><p>Replace <code>{link_to_angular}/index.html</code> with your needs.</p>`,15),p=[o];function t(r,c,i,C,y,d){return a(),e("div",null,p)}const h=s(l,[["render",t]]);export{D as __pageData,h as default};
