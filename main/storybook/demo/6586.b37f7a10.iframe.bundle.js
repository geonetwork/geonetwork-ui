"use strict";(self.webpackChunkgeonetwork_ui=self.webpackChunkgeonetwork_ui||[]).push([[6586],{"./node_modules/ol/TileRange.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>createOrUpdate,Z:()=>__WEBPACK_DEFAULT_EXPORT__});class TileRange{constructor(minX,maxX,minY,maxY){this.minX=minX,this.maxX=maxX,this.minY=minY,this.maxY=maxY}contains(tileCoord){return this.containsXY(tileCoord[1],tileCoord[2])}containsTileRange(tileRange){return this.minX<=tileRange.minX&&tileRange.maxX<=this.maxX&&this.minY<=tileRange.minY&&tileRange.maxY<=this.maxY}containsXY(x,y){return this.minX<=x&&x<=this.maxX&&this.minY<=y&&y<=this.maxY}equals(tileRange){return this.minX==tileRange.minX&&this.minY==tileRange.minY&&this.maxX==tileRange.maxX&&this.maxY==tileRange.maxY}extend(tileRange){tileRange.minX<this.minX&&(this.minX=tileRange.minX),tileRange.maxX>this.maxX&&(this.maxX=tileRange.maxX),tileRange.minY<this.minY&&(this.minY=tileRange.minY),tileRange.maxY>this.maxY&&(this.maxY=tileRange.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(tileRange){return this.minX<=tileRange.maxX&&this.maxX>=tileRange.minX&&this.minY<=tileRange.maxY&&this.maxY>=tileRange.minY}}function createOrUpdate(minX,maxX,minY,maxY,tileRange){return void 0!==tileRange?(tileRange.minX=minX,tileRange.maxX=maxX,tileRange.minY=minY,tileRange.maxY=maxY,tileRange):new TileRange(minX,maxX,minY,maxY)}const __WEBPACK_DEFAULT_EXPORT__=TileRange},"./node_modules/ol/proj/proj4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{sM:()=>fromEPSGCode,z2:()=>register});var _home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_Projection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/proj/Projection.js"),_proj_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/proj.js"),_transforms_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/proj/transforms.js");let registered=null;function register(proj4){registered=proj4;const projCodes=Object.keys(proj4.defs),len=projCodes.length;let i,j;for(i=0;i<len;++i){const code=projCodes[i];if(!(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.U2)(code)){const def=proj4.defs(code);let units=def.units;units||"longlat"!==def.projName||(units="degrees"),(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.Sx)(new _Projection_js__WEBPACK_IMPORTED_MODULE_1__.Z({code,axisOrientation:def.axis,metersPerUnit:def.to_meter,units}))}}for(i=0;i<len;++i){const code1=projCodes[i],proj1=(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.U2)(code1);for(j=0;j<len;++j){const code2=projCodes[j],proj2=(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.U2)(code2);if(!(0,_transforms_js__WEBPACK_IMPORTED_MODULE_2__.U2)(code1,code2))if(proj4.defs[code1]===proj4.defs[code2])(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.rM)([proj1,proj2]);else{const transform=proj4(code1,code2);(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.zY)(proj1,proj2,(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.uA)(proj1,proj2,transform.forward),(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.uA)(proj2,proj1,transform.inverse))}}}}let epsgLookup=function(){var _ref=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.Z)((function*(code){const response=yield fetch(`https://epsg.io/${code}.proj4`);if(!response.ok)throw new Error(`Unexpected response from epsg.io: ${response.status}`);return response.text()}));return function epsgLookup(_x){return _ref.apply(this,arguments)}}();function fromEPSGCode(_x2){return _fromEPSGCode.apply(this,arguments)}function _fromEPSGCode(){return(_fromEPSGCode=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.Z)((function*(code){"string"==typeof code&&(code=parseInt(code.split(":").pop(),10));const proj4=registered;if(!proj4)throw new Error("Proj4 must be registered first with register(proj4)");const epsgCode="EPSG:"+code;return proj4.defs(epsgCode)||(proj4.defs(epsgCode,yield epsgLookup(code)),register(proj4)),(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.U2)(epsgCode)}))).apply(this,arguments)}},"./node_modules/ol/size.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function hasArea(size){return size[0]>0&&size[1]>0}function scale(size,ratio,dest){return void 0===dest&&(dest=[0,0]),dest[0]=size[0]*ratio+.5|0,dest[1]=size[1]*ratio+.5|0,dest}function toSize(size,dest){return Array.isArray(size)?size:(void 0===dest?dest=[size,size]:(dest[0]=size,dest[1]=size),dest)}__webpack_require__.d(__webpack_exports__,{Pq:()=>toSize,bA:()=>scale,py:()=>hasArea})},"./node_modules/ol/tilecoord.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function createOrUpdate(z,x,y,tileCoord){return void 0!==tileCoord?(tileCoord[0]=z,tileCoord[1]=x,tileCoord[2]=y,tileCoord):[z,x,y]}function getKeyZXY(z,x,y){return z+"/"+x+"/"+y}function getKey(tileCoord){return getKeyZXY(tileCoord[0],tileCoord[1],tileCoord[2])}function fromKey(key){return key.split("/").map(Number)}function hash(tileCoord){return(tileCoord[1]<<tileCoord[0])+tileCoord[2]}function withinExtentAndZ(tileCoord,tileGrid){const z=tileCoord[0],x=tileCoord[1],y=tileCoord[2];if(tileGrid.getMinZoom()>z||z>tileGrid.getMaxZoom())return!1;const tileRange=tileGrid.getFullTileRange(z);return!tileRange||tileRange.containsXY(x,y)}__webpack_require__.d(__webpack_exports__,{T9:()=>createOrUpdate,Ul:()=>fromKey,km:()=>getKey,lg:()=>getKeyZXY,tE:()=>withinExtentAndZ,vp:()=>hash})},"./node_modules/ol/tilegrid/TileGrid.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _TileRange_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/TileRange.js"),_common_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/tilegrid/common.js"),_asserts_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/asserts.js"),_math_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ol/math.js"),_extent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/extent.js"),_tilecoord_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/ol/tilecoord.js"),_geom_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/ol/geom/flat/intersectsextent.js"),_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/array.js"),_size_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/size.js");const tmpTileCoord=[0,0,0];const __WEBPACK_DEFAULT_EXPORT__=class TileGrid{constructor(options){let zoomFactor;if(this.minZoom=void 0!==options.minZoom?options.minZoom:0,this.resolutions_=options.resolutions,(0,_asserts_js__WEBPACK_IMPORTED_MODULE_0__.h)((0,_array_js__WEBPACK_IMPORTED_MODULE_1__.pT)(this.resolutions_,((a,b)=>b-a),!0),"`resolutions` must be sorted in descending order"),!options.origins)for(let i=0,ii=this.resolutions_.length-1;i<ii;++i)if(zoomFactor){if(this.resolutions_[i]/this.resolutions_[i+1]!==zoomFactor){zoomFactor=void 0;break}}else zoomFactor=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=zoomFactor,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==options.origin?options.origin:null,this.origins_=null,void 0!==options.origins&&(this.origins_=options.origins,(0,_asserts_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const extent=options.extent;void 0===extent||this.origin_||this.origins_||(this.origin_=(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.rL)(extent)),(0,_asserts_js__WEBPACK_IMPORTED_MODULE_0__.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==options.tileSizes&&(this.tileSizes_=options.tileSizes,(0,_asserts_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==options.tileSize?options.tileSize:this.tileSizes_?null:_common_js__WEBPACK_IMPORTED_MODULE_3__.S,(0,_asserts_js__WEBPACK_IMPORTED_MODULE_0__.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==extent?extent:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==options.sizes?this.fullTileRanges_=options.sizes.map(((size,z)=>{const tileRange=new _TileRange_js__WEBPACK_IMPORTED_MODULE_4__.Z(Math.min(0,size[0]),Math.max(size[0]-1,-1),Math.min(0,size[1]),Math.max(size[1]-1,-1));if(extent){const restrictedTileRange=this.getTileRangeForExtentAndZ(extent,z);tileRange.minX=Math.max(restrictedTileRange.minX,tileRange.minX),tileRange.maxX=Math.min(restrictedTileRange.maxX,tileRange.maxX),tileRange.minY=Math.max(restrictedTileRange.minY,tileRange.minY),tileRange.maxY=Math.min(restrictedTileRange.maxY,tileRange.maxY)}return tileRange})):extent&&this.calculateTileRanges_(extent)}forEachTileCoord(extent,zoom,callback){const tileRange=this.getTileRangeForExtentAndZ(extent,zoom);for(let i=tileRange.minX,ii=tileRange.maxX;i<=ii;++i)for(let j=tileRange.minY,jj=tileRange.maxY;j<=jj;++j)callback([zoom,i,j])}forEachTileCoordParentTileRange(tileCoord,callback,tempTileRange,tempExtent){let tileRange,x,y,tileCoordExtent=null,z=tileCoord[0]-1;for(2===this.zoomFactor_?(x=tileCoord[1],y=tileCoord[2]):tileCoordExtent=this.getTileCoordExtent(tileCoord,tempExtent);z>=this.minZoom;){if(void 0!==x&&void 0!==y?(x=Math.floor(x/2),y=Math.floor(y/2),tileRange=(0,_TileRange_js__WEBPACK_IMPORTED_MODULE_4__.T)(x,x,y,y,tempTileRange)):tileRange=this.getTileRangeForExtentAndZ(tileCoordExtent,z,tempTileRange),callback(z,tileRange))return!0;--z}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(z){return this.origin_?this.origin_:this.origins_[z]}getResolution(z){return this.resolutions_[z]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(tileCoord,tempTileRange,tempExtent){if(tileCoord[0]<this.maxZoom){if(2===this.zoomFactor_){const minX=2*tileCoord[1],minY=2*tileCoord[2];return(0,_TileRange_js__WEBPACK_IMPORTED_MODULE_4__.T)(minX,minX+1,minY,minY+1,tempTileRange)}const tileCoordExtent=this.getTileCoordExtent(tileCoord,tempExtent||this.tmpExtent_);return this.getTileRangeForExtentAndZ(tileCoordExtent,tileCoord[0]+1,tempTileRange)}return null}getTileRangeForTileCoordAndZ(tileCoord,z,tempTileRange){if(z>this.maxZoom||z<this.minZoom)return null;const tileCoordZ=tileCoord[0],tileCoordX=tileCoord[1],tileCoordY=tileCoord[2];if(z===tileCoordZ)return(0,_TileRange_js__WEBPACK_IMPORTED_MODULE_4__.T)(tileCoordX,tileCoordY,tileCoordX,tileCoordY,tempTileRange);if(this.zoomFactor_){const factor=Math.pow(this.zoomFactor_,z-tileCoordZ),minX=Math.floor(tileCoordX*factor),minY=Math.floor(tileCoordY*factor);if(z<tileCoordZ)return(0,_TileRange_js__WEBPACK_IMPORTED_MODULE_4__.T)(minX,minX,minY,minY,tempTileRange);const maxX=Math.floor(factor*(tileCoordX+1))-1,maxY=Math.floor(factor*(tileCoordY+1))-1;return(0,_TileRange_js__WEBPACK_IMPORTED_MODULE_4__.T)(minX,maxX,minY,maxY,tempTileRange)}const tileCoordExtent=this.getTileCoordExtent(tileCoord,this.tmpExtent_);return this.getTileRangeForExtentAndZ(tileCoordExtent,z,tempTileRange)}getTileRangeForExtentAndZ(extent,z,tempTileRange){this.getTileCoordForXYAndZ_(extent[0],extent[3],z,!1,tmpTileCoord);const minX=tmpTileCoord[1],minY=tmpTileCoord[2];this.getTileCoordForXYAndZ_(extent[2],extent[1],z,!0,tmpTileCoord);const maxX=tmpTileCoord[1],maxY=tmpTileCoord[2];return(0,_TileRange_js__WEBPACK_IMPORTED_MODULE_4__.T)(minX,maxX,minY,maxY,tempTileRange)}getTileCoordCenter(tileCoord){const origin=this.getOrigin(tileCoord[0]),resolution=this.getResolution(tileCoord[0]),tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_5__.Pq)(this.getTileSize(tileCoord[0]),this.tmpSize_);return[origin[0]+(tileCoord[1]+.5)*tileSize[0]*resolution,origin[1]-(tileCoord[2]+.5)*tileSize[1]*resolution]}getTileCoordExtent(tileCoord,tempExtent){const origin=this.getOrigin(tileCoord[0]),resolution=this.getResolution(tileCoord[0]),tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_5__.Pq)(this.getTileSize(tileCoord[0]),this.tmpSize_),minX=origin[0]+tileCoord[1]*tileSize[0]*resolution,minY=origin[1]-(tileCoord[2]+1)*tileSize[1]*resolution,maxX=minX+tileSize[0]*resolution,maxY=minY+tileSize[1]*resolution;return(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.T9)(minX,minY,maxX,maxY,tempExtent)}getTileCoordForCoordAndResolution(coordinate,resolution,opt_tileCoord){return this.getTileCoordForXYAndResolution_(coordinate[0],coordinate[1],resolution,!1,opt_tileCoord)}getTileCoordForXYAndResolution_(x,y,resolution,reverseIntersectionPolicy,opt_tileCoord){const z=this.getZForResolution(resolution),scale=resolution/this.getResolution(z),origin=this.getOrigin(z),tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_5__.Pq)(this.getTileSize(z),this.tmpSize_);let tileCoordX=scale*(x-origin[0])/resolution/tileSize[0],tileCoordY=scale*(origin[1]-y)/resolution/tileSize[1];return reverseIntersectionPolicy?(tileCoordX=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.mD)(tileCoordX,5)-1,tileCoordY=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.mD)(tileCoordY,5)-1):(tileCoordX=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.GW)(tileCoordX,5),tileCoordY=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.GW)(tileCoordY,5)),(0,_tilecoord_js__WEBPACK_IMPORTED_MODULE_7__.T9)(z,tileCoordX,tileCoordY,opt_tileCoord)}getTileCoordForXYAndZ_(x,y,z,reverseIntersectionPolicy,opt_tileCoord){const origin=this.getOrigin(z),resolution=this.getResolution(z),tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_5__.Pq)(this.getTileSize(z),this.tmpSize_);let tileCoordX=(x-origin[0])/resolution/tileSize[0],tileCoordY=(origin[1]-y)/resolution/tileSize[1];return reverseIntersectionPolicy?(tileCoordX=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.mD)(tileCoordX,5)-1,tileCoordY=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.mD)(tileCoordY,5)-1):(tileCoordX=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.GW)(tileCoordX,5),tileCoordY=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.GW)(tileCoordY,5)),(0,_tilecoord_js__WEBPACK_IMPORTED_MODULE_7__.T9)(z,tileCoordX,tileCoordY,opt_tileCoord)}getTileCoordForCoordAndZ(coordinate,z,opt_tileCoord){return this.getTileCoordForXYAndZ_(coordinate[0],coordinate[1],z,!1,opt_tileCoord)}getTileCoordResolution(tileCoord){return this.resolutions_[tileCoord[0]]}getTileSize(z){return this.tileSize_?this.tileSize_:this.tileSizes_[z]}getFullTileRange(z){return this.fullTileRanges_?this.fullTileRanges_[z]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,z):null}getZForResolution(resolution,opt_direction){const z=(0,_array_js__WEBPACK_IMPORTED_MODULE_1__.h7)(this.resolutions_,resolution,opt_direction||0);return(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.uZ)(z,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(tileCoord,viewport){return(0,_geom_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_8__.mV)(viewport,0,viewport.length,2,this.getTileCoordExtent(tileCoord))}calculateTileRanges_(extent){const length=this.resolutions_.length,fullTileRanges=new Array(length);for(let z=this.minZoom;z<length;++z)fullTileRanges[z]=this.getTileRangeForExtentAndZ(extent,z);this.fullTileRanges_=fullTileRanges}}},"./node_modules/ol/tilegrid/common.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>DEFAULT_TILE_SIZE,e:()=>DEFAULT_MAX_ZOOM});const DEFAULT_MAX_ZOOM=42,DEFAULT_TILE_SIZE=256}}]);