(self.webpackChunkgeonetwork_ui=self.webpackChunkgeonetwork_ui||[]).push([[7847],{"./libs/ui/layout/src/lib/carousel/carousel.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>CarouselComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var carousel_componentngResource=__webpack_require__("./libs/ui/layout/src/lib/carousel/carousel.component.css?ngResource"),carousel_componentngResource_default=__webpack_require__.n(carousel_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),embla_carousel_esm=__webpack_require__("./node_modules/embla-carousel/esm/embla-carousel.esm.js"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),pagination_dots_component=__webpack_require__("./libs/ui/layout/src/lib/pagination-dots/pagination-dots.component.ts");let CarouselComponent=class CarouselComponent{get isFirstPage(){return 0===this.currentStep}get isLastPage(){return this.currentStep===this.steps.length-1}get currentPage(){return this.currentStep+1}get pagesCount(){return this.steps.length}goToPage(stepIndex){this.emblaApi.scrollTo(stepIndex-1)}goToPrevPage(){this.isFirstPage||this.emblaApi.scrollPrev()}goToNextPage(){this.isLastPage||this.emblaApi.scrollNext()}constructor(changeDetector){this.changeDetector=changeDetector,this.containerClass="",this.stepsContainerClass="w-full bottom-0 top-auto",this.currentStepChange=new core.EventEmitter,this.steps=[],this.currentStep=0,this.refreshSteps=()=>{this.steps=this.emblaApi.scrollSnapList(),this.currentStep=this.emblaApi.selectedScrollSnap(),this.currentStepChange.emit(this.currentStep),this.changeDetector.detectChanges()}}ngAfterViewInit(){this.emblaApi=(0,embla_carousel_esm.A)(this.carouselOverflowContainer.nativeElement,{duration:15}),this.emblaApi.on("init",this.refreshSteps).on("reInit",this.refreshSteps).on("select",this.refreshSteps)}static{this.ctorParameters=()=>[{type:core.ChangeDetectorRef}]}static{this.propDecorators={carouselOverflowContainer:[{type:core.ViewChild,args:["carouselOverflowContainer"]}],containerClass:[{type:core.Input}],stepsContainerClass:[{type:core.Input}],currentStepChange:[{type:core.Output}]}}};CarouselComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"gn-ui-carousel",template:'<div #carouselOverflowContainer class="w-full block">\n  <div class="carousel-container flex" [ngClass]="containerClass">\n    <ng-content></ng-content>\n  </div>\n</div>\n<gn-ui-pagination-dots\n  [containerClass]="\'absolute \' + stepsContainerClass"\n  [listComponent]="this"\n></gn-ui-pagination-dots>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[common.CommonModule,pagination_dots_component.E],styles:[carousel_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ChangeDetectorRef])],CarouselComponent)},"./libs/ui/layout/src/lib/pagination-dots/pagination-dots.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>PaginationDotsComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var pagination_dots_componentngResource=__webpack_require__("./libs/ui/layout/src/lib/pagination-dots/pagination-dots.component.css?ngResource"),pagination_dots_componentngResource_default=__webpack_require__.n(pagination_dots_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),ng_icons_core=__webpack_require__("./node_modules/@ng-icons/core/fesm2022/ng-icons-core.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),ng_icons_iconoir=__webpack_require__("./node_modules/@ng-icons/iconoir/fesm2022/ng-icons-iconoir.mjs");let PaginationDotsComponent=class PaginationDotsComponent{constructor(){this.containerClass=""}get steps(){return Array.from({length:this.listComponent.pagesCount},((_,i)=>i+1))}static{this.propDecorators={listComponent:[{type:core.Input}],containerClass:[{type:core.Input}]}}};PaginationDotsComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"gn-ui-pagination-dots",template:'<div\n  *ngIf="listComponent.pagesCount > 1"\n  class="overflow-hidden flex flex-row justify-center gap-[14px] p-1"\n  [ngClass]="containerClass"\n>\n  <button\n    type="button"\n    *ngFor="let step of steps"\n    class="pagination-dot"\n    (click)="listComponent.goToPage(step)"\n    [ngClass]="\n      listComponent.currentPage === step ? \'bg-primary\' : \'bg-gray-400\'\n    "\n  ></button>\n</div>\n',standalone:!0,imports:[common.CommonModule],viewProviders:[(0,ng_icons_core.EB)({iconoirNavArrowRight:ng_icons_iconoir.oan,iconoirNavArrowLeft:ng_icons_iconoir.RiM})],styles:[pagination_dots_componentngResource_default()]})],PaginationDotsComponent)},"./node_modules/embla-carousel/esm/embla-carousel.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isNumber(subject){return"number"==typeof subject}function isString(subject){return"string"==typeof subject}function isBoolean(subject){return"boolean"==typeof subject}function isObject(subject){return"[object Object]"===Object.prototype.toString.call(subject)}function mathAbs(n){return Math.abs(n)}function mathSign(n){return Math.sign(n)}function deltaAbs(valueB,valueA){return mathAbs(valueB-valueA)}function arrayKeys(array){return objectKeys(array).map(Number)}function arrayLast(array){return array[arrayLastIndex(array)]}function arrayLastIndex(array){return Math.max(0,array.length-1)}function arrayIsLastIndex(array,index){return index===arrayLastIndex(array)}function arrayFromNumber(n,startAt=0){return Array.from(Array(n),((_,i)=>startAt+i))}function objectKeys(object){return Object.keys(object)}function objectsMergeDeep(objectA,objectB){return[objectA,objectB].reduce(((mergedObjects,currentObject)=>(objectKeys(currentObject).forEach((key=>{const valueA=mergedObjects[key],valueB=currentObject[key],areObjects=isObject(valueA)&&isObject(valueB);mergedObjects[key]=areObjects?objectsMergeDeep(valueA,valueB):valueB})),mergedObjects)),{})}function isMouseEvent(evt,ownerWindow){return void 0!==ownerWindow.MouseEvent&&evt instanceof ownerWindow.MouseEvent}function EventStore(){let listeners=[];const self={add:function add(node,type,handler,options={passive:!0}){let removeListener;if("addEventListener"in node)node.addEventListener(type,handler,options),removeListener=()=>node.removeEventListener(type,handler,options);else{const legacyMediaQueryList=node;legacyMediaQueryList.addListener(handler),removeListener=()=>legacyMediaQueryList.removeListener(handler)}return listeners.push(removeListener),self},clear:function clear(){listeners=listeners.filter((remove=>remove()))}};return self}function Animations(ownerDocument,ownerWindow,update,render){const documentVisibleHandler=EventStore(),fixedTimeStep=1e3/60;let lastTimeStamp=null,accumulatedTime=0,animationId=0;function animate(timeStamp){if(!animationId)return;lastTimeStamp||(lastTimeStamp=timeStamp);const timeElapsed=timeStamp-lastTimeStamp;for(lastTimeStamp=timeStamp,accumulatedTime+=timeElapsed;accumulatedTime>=fixedTimeStep;)update(),accumulatedTime-=fixedTimeStep;render(accumulatedTime/fixedTimeStep),animationId&&(animationId=ownerWindow.requestAnimationFrame(animate))}function stop(){ownerWindow.cancelAnimationFrame(animationId),lastTimeStamp=null,accumulatedTime=0,animationId=0}return{init:function init(){documentVisibleHandler.add(ownerDocument,"visibilitychange",(()=>{ownerDocument.hidden&&function reset(){lastTimeStamp=null,accumulatedTime=0}()}))},destroy:function destroy(){stop(),documentVisibleHandler.clear()},start:function start(){animationId||(animationId=ownerWindow.requestAnimationFrame(animate))},stop,update,render}}function Limit(min=0,max=0){const length=mathAbs(min-max);function reachedMin(n){return n<min}function reachedMax(n){return n>max}function reachedAny(n){return reachedMin(n)||reachedMax(n)}return{length,max,min,constrain:function constrain(n){return reachedAny(n)?reachedMin(n)?min:max:n},reachedAny,reachedMax,reachedMin,removeOffset:function removeOffset(n){return length?n-length*Math.ceil((n-max)/length):n}}}function Counter(max,start,loop){const{constrain}=Limit(0,max),loopEnd=max+1;let counter=withinLimit(start);function withinLimit(n){return loop?mathAbs((loopEnd+n)%loopEnd):constrain(n)}function get(){return counter}function clone(){return Counter(max,get(),loop)}const self={get,set:function set(n){return counter=withinLimit(n),self},add:function add(n){return clone().set(get()+n)},clone};return self}function DragHandler(axis,rootNode,ownerDocument,ownerWindow,target,dragTracker,location,animation,scrollTo,scrollBody,scrollTarget,index,eventHandler,percentOfView,dragFree,dragThreshold,skipSnaps,baseFriction,watchDrag){const{cross:crossAxis,direction}=axis,focusNodes=["INPUT","SELECT","TEXTAREA"],nonPassiveEvent={passive:!1},initEvents=EventStore(),dragEvents=EventStore(),goToNextThreshold=Limit(50,225).constrain(percentOfView.measure(20)),snapForceBoost={mouse:300,touch:400},freeForceBoost={mouse:500,touch:600},baseSpeed=dragFree?43:25;let isMoving=!1,startScroll=0,startCross=0,pointerIsDown=!1,preventScroll=!1,preventClick=!1,isMouse=!1;function move(evt){if(!isMouseEvent(evt,ownerWindow)&&evt.touches.length>=2)return up(evt);const lastScroll=dragTracker.readPoint(evt),lastCross=dragTracker.readPoint(evt,crossAxis),diffScroll=deltaAbs(lastScroll,startScroll),diffCross=deltaAbs(lastCross,startCross);if(!preventScroll&&!isMouse){if(!evt.cancelable)return up(evt);if(preventScroll=diffScroll>diffCross,!preventScroll)return up(evt)}const diff=dragTracker.pointerMove(evt);diffScroll>dragThreshold&&(preventClick=!0),scrollBody.useFriction(.3).useDuration(.75),animation.start(),target.add(direction(diff)),evt.preventDefault()}function up(evt){const targetChanged=scrollTarget.byDistance(0,!1).index!==index.get(),rawForce=dragTracker.pointerUp(evt)*function forceBoost(){return(dragFree?freeForceBoost:snapForceBoost)[isMouse?"mouse":"touch"]}(),force=function allowedForce(force,targetChanged){const next=index.add(-1*mathSign(force)),baseForce=scrollTarget.byDistance(force,!dragFree).distance;return dragFree||mathAbs(force)<goToNextThreshold?baseForce:skipSnaps&&targetChanged?.5*baseForce:scrollTarget.byIndex(next.get(),0).distance}(direction(rawForce),targetChanged),forceFactor=function factorAbs(valueB,valueA){if(0===valueB||0===valueA)return 0;if(mathAbs(valueB)<=mathAbs(valueA))return 0;const diff=deltaAbs(mathAbs(valueB),mathAbs(valueA));return mathAbs(diff/valueB)}(rawForce,force),speed=baseSpeed-10*forceFactor,friction=baseFriction+forceFactor/50;preventScroll=!1,pointerIsDown=!1,dragEvents.clear(),scrollBody.useDuration(speed).useFriction(friction),scrollTo.distance(force,!dragFree),isMouse=!1,eventHandler.emit("pointerUp")}function click(evt){preventClick&&(evt.stopPropagation(),evt.preventDefault(),preventClick=!1)}return{init:function init(emblaApi){if(!watchDrag)return;function downIfAllowed(evt){(isBoolean(watchDrag)||watchDrag(emblaApi,evt))&&function down(evt){const isMouseEvt=isMouseEvent(evt,ownerWindow);if(isMouse=isMouseEvt,preventClick=dragFree&&isMouseEvt&&!evt.buttons&&isMoving,isMoving=deltaAbs(target.get(),location.get())>=2,isMouseEvt&&0!==evt.button)return;if(function isFocusNode(node){const nodeName=node.nodeName||"";return focusNodes.includes(nodeName)}(evt.target))return;pointerIsDown=!0,dragTracker.pointerDown(evt),scrollBody.useFriction(0).useDuration(0),target.set(location),function addDragEvents(){const node=isMouse?ownerDocument:rootNode;dragEvents.add(node,"touchmove",move,nonPassiveEvent).add(node,"touchend",up).add(node,"mousemove",move,nonPassiveEvent).add(node,"mouseup",up)}(),startScroll=dragTracker.readPoint(evt),startCross=dragTracker.readPoint(evt,crossAxis),eventHandler.emit("pointerDown")}(evt)}const node=rootNode;initEvents.add(node,"dragstart",(evt=>evt.preventDefault()),nonPassiveEvent).add(node,"touchmove",(()=>{}),nonPassiveEvent).add(node,"touchend",(()=>{})).add(node,"touchstart",downIfAllowed).add(node,"mousedown",downIfAllowed).add(node,"touchcancel",up).add(node,"contextmenu",up).add(node,"click",click,!0)},destroy:function destroy(){initEvents.clear(),dragEvents.clear()},pointerDown:function pointerDown(){return pointerIsDown}}}function DragTracker(axis,ownerWindow){let startEvent,lastEvent;function readTime(evt){return evt.timeStamp}function readPoint(evt,evtAxis){const coord="client"+("x"===(evtAxis||axis.scroll)?"X":"Y");return(isMouseEvent(evt,ownerWindow)?evt:evt.touches[0])[coord]}return{pointerDown:function pointerDown(evt){return startEvent=evt,lastEvent=evt,readPoint(evt)},pointerMove:function pointerMove(evt){const diff=readPoint(evt)-readPoint(lastEvent),expired=readTime(evt)-readTime(startEvent)>170;return lastEvent=evt,expired&&(startEvent=evt),diff},pointerUp:function pointerUp(evt){if(!startEvent||!lastEvent)return 0;const diffDrag=readPoint(lastEvent)-readPoint(startEvent),diffTime=readTime(evt)-readTime(startEvent),expired=readTime(evt)-readTime(lastEvent)>170,force=diffDrag/diffTime;return diffTime&&!expired&&mathAbs(force)>.1?force:0},readPoint}}function ResizeHandler(container,eventHandler,ownerWindow,slides,axis,watchResize,nodeRects){const observeNodes=[container].concat(slides);let resizeObserver,containerSize,slideSizes=[],destroyed=!1;function readSize(node){return axis.measureSize(nodeRects.measure(node))}return{init:function init(emblaApi){watchResize&&(containerSize=readSize(container),slideSizes=slides.map(readSize),resizeObserver=new ResizeObserver((entries=>{(isBoolean(watchResize)||watchResize(emblaApi,entries))&&function defaultCallback(entries){for(const entry of entries){if(destroyed)return;const isContainer=entry.target===container,slideIndex=slides.indexOf(entry.target),lastSize=isContainer?containerSize:slideSizes[slideIndex];if(mathAbs(readSize(isContainer?container:slides[slideIndex])-lastSize)>=.5){emblaApi.reInit(),eventHandler.emit("resize");break}}}(entries)})),ownerWindow.requestAnimationFrame((()=>{observeNodes.forEach((node=>resizeObserver.observe(node)))})))},destroy:function destroy(){destroyed=!0,resizeObserver&&resizeObserver.disconnect()}}}function ScrollBounds(limit,location,target,scrollBody,percentOfView){const pullBackThreshold=percentOfView.measure(10),edgeOffsetTolerance=percentOfView.measure(50),frictionLimit=Limit(.1,.99);let disabled=!1;function shouldConstrain(){return!disabled&&(!!limit.reachedAny(target.get())&&!!limit.reachedAny(location.get()))}return{shouldConstrain,constrain:function constrain(pointerDown){if(!shouldConstrain())return;const edge=limit.reachedMin(location.get())?"min":"max",diffToEdge=mathAbs(limit[edge]-location.get()),diffToTarget=target.get()-location.get(),friction=frictionLimit.constrain(diffToEdge/edgeOffsetTolerance);target.subtract(diffToTarget*friction),!pointerDown&&mathAbs(diffToTarget)<pullBackThreshold&&(target.set(limit.constrain(target.get())),scrollBody.useDuration(25).useBaseFriction())},toggleActive:function toggleActive(active){disabled=!active}}}function ScrollLooper(contentSize,limit,location,vectors){const min=limit.min+.1,max=limit.max+.1,{reachedMin,reachedMax}=Limit(min,max);return{loop:function loop(direction){if(!function shouldLoop(direction){return 1===direction?reachedMax(location.get()):-1===direction&&reachedMin(location.get())}(direction))return;const loopDistance=contentSize*(-1*direction);vectors.forEach((v=>v.add(loopDistance)))}}}function ScrollTarget(loop,scrollSnaps,contentSize,limit,targetVector){const{reachedAny,removeOffset,constrain}=limit;function minDistance(distances){return distances.concat().sort(((a,b)=>mathAbs(a)-mathAbs(b)))[0]}function shortcut(target,direction){const targets=[target,target+contentSize,target-contentSize];if(!loop)return target;if(!direction)return minDistance(targets);const matchingTargets=targets.filter((t=>mathSign(t)===direction));return matchingTargets.length?minDistance(matchingTargets):arrayLast(targets)-contentSize}return{byDistance:function byDistance(distance,snap){const target=targetVector.get()+distance,{index,distance:targetSnapDistance}=function findTargetSnap(target){const distance=loop?removeOffset(target):constrain(target),ascDiffsToSnaps=scrollSnaps.map(((snap,index)=>({diff:shortcut(snap-distance,0),index}))).sort(((d1,d2)=>mathAbs(d1.diff)-mathAbs(d2.diff))),{index}=ascDiffsToSnaps[0];return{index,distance}}(target),reachedBound=!loop&&reachedAny(target);return!snap||reachedBound?{index,distance}:{index,distance:distance+shortcut(scrollSnaps[index]-targetSnapDistance,0)}},byIndex:function byIndex(index,direction){return{index,distance:shortcut(scrollSnaps[index]-targetVector.get(),direction)}},shortcut}}function SlideFocus(root,slides,slideRegistry,scrollTo,scrollBody,eventStore,eventHandler,watchFocus){const focusListenerOptions={passive:!0,capture:!0};let lastTabPressTime=0;function registerTabPress(event){"Tab"===event.code&&(lastTabPressTime=(new Date).getTime())}return{init:function init(emblaApi){watchFocus&&(eventStore.add(document,"keydown",registerTabPress,!1),slides.forEach(((slide,slideIndex)=>{eventStore.add(slide,"focus",(evt=>{(isBoolean(watchFocus)||watchFocus(emblaApi,evt))&&function defaultCallback(index){if((new Date).getTime()-lastTabPressTime>10)return;eventHandler.emit("slideFocusStart"),root.scrollLeft=0;const group=slideRegistry.findIndex((group=>group.includes(index)));isNumber(group)&&(scrollBody.useDuration(0),scrollTo.index(group,0),eventHandler.emit("slideFocus"))}(slideIndex)}),focusListenerOptions)})))}}}function Vector1D(initialValue){let value=initialValue;function normalizeInput(n){return isNumber(n)?n:n.get()}return{get:function get(){return value},set:function set(n){value=normalizeInput(n)},add:function add(n){value+=normalizeInput(n)},subtract:function subtract(n){value-=normalizeInput(n)}}}function Translate(axis,container){const translate="x"===axis.scroll?function x(n){return`translate3d(${n}px,0px,0px)`}:function y(n){return`translate3d(0px,${n}px,0px)`},containerStyle=container.style;let previousTarget=null,disabled=!1;return{clear:function clear(){disabled||(containerStyle.transform="",container.getAttribute("style")||container.removeAttribute("style"))},to:function to(target){if(disabled)return;const newTarget=function roundToTwoDecimals(num){return Math.round(100*num)/100}(axis.direction(target));newTarget!==previousTarget&&(containerStyle.transform=translate(newTarget),previousTarget=newTarget)},toggleActive:function toggleActive(active){disabled=!active}}}function SlideLooper(axis,viewSize,contentSize,slideSizes,slideSizesWithGaps,snaps,scrollSnaps,location,slides){const roundingSafety=.5,ascItems=arrayKeys(slideSizesWithGaps),descItems=arrayKeys(slideSizesWithGaps).reverse(),loopPoints=function startPoints(){const gap=scrollSnaps[0];return findLoopPoints(slidesInGap(descItems,gap),contentSize,!1)}().concat(function endPoints(){const gap=viewSize-scrollSnaps[0]-1;return findLoopPoints(slidesInGap(ascItems,gap),-contentSize,!0)}());function removeSlideSizes(indexes,from){return indexes.reduce(((a,i)=>a-slideSizesWithGaps[i]),from)}function slidesInGap(indexes,gap){return indexes.reduce(((a,i)=>removeSlideSizes(a,gap)>0?a.concat([i]):a),[])}function findLoopPoints(indexes,offset,isEndEdge){const slideBounds=function findSlideBounds(offset){return snaps.map(((snap,index)=>({start:snap-slideSizes[index]+roundingSafety+offset,end:snap+viewSize-roundingSafety+offset})))}(offset);return indexes.map((index=>{const initial=isEndEdge?0:-contentSize,altered=isEndEdge?contentSize:0,boundEdge=isEndEdge?"end":"start",loopPoint=slideBounds[index][boundEdge];return{index,loopPoint,slideLocation:Vector1D(-1),translate:Translate(axis,slides[index]),target:()=>location.get()>loopPoint?initial:altered}}))}return{canLoop:function canLoop(){return loopPoints.every((({index})=>removeSlideSizes(ascItems.filter((i=>i!==index)),viewSize)<=.1))},clear:function clear(){loopPoints.forEach((loopPoint=>loopPoint.translate.clear()))},loop:function loop(){loopPoints.forEach((loopPoint=>{const{target,translate,slideLocation}=loopPoint,shiftLocation=target();shiftLocation!==slideLocation.get()&&(translate.to(shiftLocation),slideLocation.set(shiftLocation))}))},loopPoints}}function SlidesHandler(container,eventHandler,watchSlides){let mutationObserver,destroyed=!1;return{init:function init(emblaApi){watchSlides&&(mutationObserver=new MutationObserver((mutations=>{destroyed||(isBoolean(watchSlides)||watchSlides(emblaApi,mutations))&&function defaultCallback(mutations){for(const mutation of mutations)if("childList"===mutation.type){emblaApi.reInit(),eventHandler.emit("slidesChanged");break}}(mutations)})),mutationObserver.observe(container,{childList:!0}))},destroy:function destroy(){mutationObserver&&mutationObserver.disconnect(),destroyed=!0}}}function SlidesInView(container,slides,eventHandler,threshold){const intersectionEntryMap={};let intersectionObserver,inViewCache=null,notInViewCache=null,destroyed=!1;return{init:function init(){intersectionObserver=new IntersectionObserver((entries=>{destroyed||(entries.forEach((entry=>{const index=slides.indexOf(entry.target);intersectionEntryMap[index]=entry})),inViewCache=null,notInViewCache=null,eventHandler.emit("slidesInView"))}),{root:container.parentElement,threshold}),slides.forEach((slide=>intersectionObserver.observe(slide)))},destroy:function destroy(){intersectionObserver&&intersectionObserver.disconnect(),destroyed=!0},get:function get(inView=!0){if(inView&&inViewCache)return inViewCache;if(!inView&&notInViewCache)return notInViewCache;const slideIndexes=function createInViewList(inView){return objectKeys(intersectionEntryMap).reduce(((list,slideIndex)=>{const index=parseInt(slideIndex),{isIntersecting}=intersectionEntryMap[index];return(inView&&isIntersecting||!inView&&!isIntersecting)&&list.push(index),list}),[])}(inView);return inView&&(inViewCache=slideIndexes),inView||(notInViewCache=slideIndexes),slideIndexes}}}function SlidesToScroll(axis,viewSize,slidesToScroll,loop,containerRect,slideRects,startGap,endGap,pixelTolerance){const{startEdge,endEdge,direction}=axis,groupByNumber=isNumber(slidesToScroll);return{groupSlides:function groupSlides(array){return groupByNumber?function byNumber(array,groupSize){return arrayKeys(array).filter((i=>i%groupSize==0)).map((i=>array.slice(i,i+groupSize)))}(array,slidesToScroll):function bySize(array){return array.length?arrayKeys(array).reduce(((groups,rectB,index)=>{const rectA=arrayLast(groups)||0,isFirst=0===rectA,isLast=rectB===arrayLastIndex(array),edgeA=containerRect[startEdge]-slideRects[rectA][startEdge],edgeB=containerRect[startEdge]-slideRects[rectB][endEdge],gapA=!loop&&isFirst?direction(startGap):0,chunkSize=mathAbs(edgeB-(!loop&&isLast?direction(endGap):0)-(edgeA+gapA));return index&&chunkSize>viewSize+pixelTolerance&&groups.push(rectB),isLast&&groups.push(array.length),groups}),[]).map(((currentSize,index,groups)=>{const previousSize=Math.max(groups[index-1]||0);return array.slice(previousSize,currentSize)})):[]}(array)}}}function Engine(root,container,slides,ownerDocument,ownerWindow,options,eventHandler){const{align,axis:scrollAxis,direction,startIndex,loop,duration,dragFree,dragThreshold,inViewThreshold,slidesToScroll:groupSlides,skipSnaps,containScroll,watchResize,watchSlides,watchDrag,watchFocus}=options,nodeRects={measure:function measure(node){const{offsetTop,offsetLeft,offsetWidth,offsetHeight}=node;return{top:offsetTop,right:offsetLeft+offsetWidth,bottom:offsetTop+offsetHeight,left:offsetLeft,width:offsetWidth,height:offsetHeight}}},containerRect=nodeRects.measure(container),slideRects=slides.map(nodeRects.measure),axis=function Axis(axis,contentDirection){const isRightToLeft="rtl"===contentDirection,isVertical="y"===axis,sign=!isVertical&&isRightToLeft?-1:1;return{scroll:isVertical?"y":"x",cross:isVertical?"x":"y",startEdge:function getStartEdge(){return isVertical?"top":isRightToLeft?"right":"left"}(),endEdge:function getEndEdge(){return isVertical?"bottom":isRightToLeft?"left":"right"}(),measureSize:function measureSize(nodeRect){const{height,width}=nodeRect;return isVertical?height:width},direction:function direction(n){return n*sign}}}(scrollAxis,direction),viewSize=axis.measureSize(containerRect),percentOfView=function PercentOfView(viewSize){return{measure:function measure(n){return viewSize*(n/100)}}}(viewSize),alignment=function Alignment(align,viewSize){const predefined={start:function start(){return 0},center:function center(n){return end(n)/2},end};function end(n){return viewSize-n}return{measure:function measure(n,index){return isString(align)?predefined[align](n):align(viewSize,n,index)}}}(align,viewSize),containSnaps=!loop&&!!containScroll,readEdgeGap=loop||!!containScroll,{slideSizes,slideSizesWithGaps,startGap,endGap}=function SlideSizes(axis,containerRect,slideRects,slides,readEdgeGap,ownerWindow){const{measureSize,startEdge,endEdge}=axis,withEdgeGap=slideRects[0]&&readEdgeGap,startGap=function measureStartGap(){if(!withEdgeGap)return 0;const slideRect=slideRects[0];return mathAbs(containerRect[startEdge]-slideRect[startEdge])}(),endGap=function measureEndGap(){if(!withEdgeGap)return 0;const style=ownerWindow.getComputedStyle(arrayLast(slides));return parseFloat(style.getPropertyValue(`margin-${endEdge}`))}(),slideSizes=slideRects.map(measureSize),slideSizesWithGaps=function measureWithGaps(){return slideRects.map(((rect,index,rects)=>{const isFirst=!index,isLast=arrayIsLastIndex(rects,index);return isFirst?slideSizes[index]+startGap:isLast?slideSizes[index]+endGap:rects[index+1][startEdge]-rect[startEdge]})).map(mathAbs)}();return{slideSizes,slideSizesWithGaps,startGap,endGap}}(axis,containerRect,slideRects,slides,readEdgeGap,ownerWindow),slidesToScroll=SlidesToScroll(axis,viewSize,groupSlides,loop,containerRect,slideRects,startGap,endGap,2),{snaps,snapsAligned}=function ScrollSnaps(axis,alignment,containerRect,slideRects,slidesToScroll){const{startEdge,endEdge}=axis,{groupSlides}=slidesToScroll,alignments=function measureSizes(){return groupSlides(slideRects).map((rects=>arrayLast(rects)[endEdge]-rects[0][startEdge])).map(mathAbs)}().map(alignment.measure),snaps=function measureUnaligned(){return slideRects.map((rect=>containerRect[startEdge]-rect[startEdge])).map((snap=>-mathAbs(snap)))}(),snapsAligned=function measureAligned(){return groupSlides(snaps).map((g=>g[0])).map(((snap,index)=>snap+alignments[index]))}();return{snaps,snapsAligned}}(axis,alignment,containerRect,slideRects,slidesToScroll),contentSize=-arrayLast(snaps)+arrayLast(slideSizesWithGaps),{snapsContained,scrollContainLimit}=function ScrollContain(viewSize,contentSize,snapsAligned,containScroll,pixelTolerance){const scrollBounds=Limit(-contentSize+viewSize,0),snapsBounded=function measureBounded(){return snapsAligned.map(((snapAligned,index)=>{const{min,max}=scrollBounds,snap=scrollBounds.constrain(snapAligned),isFirst=!index,isLast=arrayIsLastIndex(snapsAligned,index);return isFirst?max:isLast||usePixelTolerance(min,snap)?min:usePixelTolerance(max,snap)?max:snap})).map((scrollBound=>parseFloat(scrollBound.toFixed(3))))}(),scrollContainLimit=function findScrollContainLimit(){const startSnap=snapsBounded[0],endSnap=arrayLast(snapsBounded);return Limit(snapsBounded.lastIndexOf(startSnap),snapsBounded.indexOf(endSnap)+1)}();function usePixelTolerance(bound,snap){return deltaAbs(bound,snap)<1}return{snapsContained:function measureContained(){if(contentSize<=viewSize+pixelTolerance)return[scrollBounds.max];if("keepSnaps"===containScroll)return snapsBounded;const{min,max}=scrollContainLimit;return snapsBounded.slice(min,max)}(),scrollContainLimit}}(viewSize,contentSize,snapsAligned,containScroll,2),scrollSnaps=containSnaps?snapsContained:snapsAligned,{limit}=function ScrollLimit(contentSize,scrollSnaps,loop){const max=scrollSnaps[0];return{limit:Limit(loop?max-contentSize:arrayLast(scrollSnaps),max)}}(contentSize,scrollSnaps,loop),index=Counter(arrayLastIndex(scrollSnaps),startIndex,loop),indexPrevious=index.clone(),slideIndexes=arrayKeys(slides),animation=Animations(ownerDocument,ownerWindow,(()=>(({dragHandler,scrollBody,scrollBounds,options:{loop}})=>{loop||scrollBounds.constrain(dragHandler.pointerDown()),scrollBody.seek()})(engine)),(alpha=>(({scrollBody,translate,location,offsetLocation,previousLocation,scrollLooper,slideLooper,dragHandler,animation,eventHandler,scrollBounds,options:{loop}},alpha)=>{const shouldSettle=scrollBody.settled(),withinBounds=!scrollBounds.shouldConstrain(),hasSettled=loop?shouldSettle:shouldSettle&&withinBounds;hasSettled&&!dragHandler.pointerDown()&&(animation.stop(),eventHandler.emit("settle")),hasSettled||eventHandler.emit("scroll");const interpolatedLocation=location.get()*alpha+previousLocation.get()*(1-alpha);offsetLocation.set(interpolatedLocation),loop&&(scrollLooper.loop(scrollBody.direction()),slideLooper.loop()),translate.to(offsetLocation.get())})(engine,alpha))),startLocation=scrollSnaps[index.get()],location=Vector1D(startLocation),previousLocation=Vector1D(startLocation),offsetLocation=Vector1D(startLocation),target=Vector1D(startLocation),scrollBody=function ScrollBody(location,offsetLocation,previousLocation,target,baseDuration,baseFriction){let scrollVelocity=0,scrollDirection=0,scrollDuration=baseDuration,scrollFriction=baseFriction,rawLocation=location.get(),rawLocationPrevious=0;function useDuration(n){return scrollDuration=n,self}function useFriction(n){return scrollFriction=n,self}const self={direction:function direction(){return scrollDirection},duration:function duration(){return scrollDuration},velocity:function velocity(){return scrollVelocity},seek:function seek(){const displacement=target.get()-location.get();let scrollDistance=0;return scrollDuration?(previousLocation.set(location),scrollVelocity+=displacement/scrollDuration,scrollVelocity*=scrollFriction,rawLocation+=scrollVelocity,location.add(scrollVelocity),scrollDistance=rawLocation-rawLocationPrevious):(scrollVelocity=0,previousLocation.set(target),location.set(target),scrollDistance=displacement),scrollDirection=mathSign(scrollDistance),rawLocationPrevious=rawLocation,self},settled:function settled(){return mathAbs(target.get()-offsetLocation.get())<.001},useBaseFriction:function useBaseFriction(){return useFriction(baseFriction)},useBaseDuration:function useBaseDuration(){return useDuration(baseDuration)},useFriction,useDuration};return self}(location,offsetLocation,previousLocation,target,duration,.68),scrollTarget=ScrollTarget(loop,scrollSnaps,contentSize,limit,target),scrollTo=function ScrollTo(animation,indexCurrent,indexPrevious,scrollBody,scrollTarget,targetVector,eventHandler){function scrollTo(target){const distanceDiff=target.distance,indexDiff=target.index!==indexCurrent.get();targetVector.add(distanceDiff),distanceDiff&&(scrollBody.duration()?animation.start():(animation.update(),animation.render(1),animation.update())),indexDiff&&(indexPrevious.set(indexCurrent.get()),indexCurrent.set(target.index),eventHandler.emit("select"))}return{distance:function distance(n,snap){scrollTo(scrollTarget.byDistance(n,snap))},index:function index(n,direction){const targetIndex=indexCurrent.clone().set(n);scrollTo(scrollTarget.byIndex(targetIndex.get(),direction))}}}(animation,index,indexPrevious,scrollBody,scrollTarget,target,eventHandler),scrollProgress=function ScrollProgress(limit){const{max,length}=limit;return{get:function get(n){return length?(n-max)/-length:0}}}(limit),eventStore=EventStore(),slidesInView=SlidesInView(container,slides,eventHandler,inViewThreshold),{slideRegistry}=function SlideRegistry(containSnaps,containScroll,scrollSnaps,scrollContainLimit,slidesToScroll,slideIndexes){const{groupSlides}=slidesToScroll,{min,max}=scrollContainLimit;return{slideRegistry:function createSlideRegistry(){const groupedSlideIndexes=groupSlides(slideIndexes),doNotContain=!containSnaps||"keepSnaps"===containScroll;return 1===scrollSnaps.length?[slideIndexes]:doNotContain?groupedSlideIndexes:groupedSlideIndexes.slice(min,max).map(((group,index,groups)=>{const isFirst=!index,isLast=arrayIsLastIndex(groups,index);return isFirst?arrayFromNumber(arrayLast(groups[0])+1):isLast?arrayFromNumber(arrayLastIndex(slideIndexes)-arrayLast(groups)[0]+1,arrayLast(groups)[0]):group}))}()}}(containSnaps,containScroll,scrollSnaps,scrollContainLimit,slidesToScroll,slideIndexes),slideFocus=SlideFocus(root,slides,slideRegistry,scrollTo,scrollBody,eventStore,eventHandler,watchFocus),engine={ownerDocument,ownerWindow,eventHandler,containerRect,slideRects,animation,axis,dragHandler:DragHandler(axis,root,ownerDocument,ownerWindow,target,DragTracker(axis,ownerWindow),location,animation,scrollTo,scrollBody,scrollTarget,index,eventHandler,percentOfView,dragFree,dragThreshold,skipSnaps,.68,watchDrag),eventStore,percentOfView,index,indexPrevious,limit,location,offsetLocation,previousLocation,options,resizeHandler:ResizeHandler(container,eventHandler,ownerWindow,slides,axis,watchResize,nodeRects),scrollBody,scrollBounds:ScrollBounds(limit,offsetLocation,target,scrollBody,percentOfView),scrollLooper:ScrollLooper(contentSize,limit,offsetLocation,[location,offsetLocation,previousLocation,target]),scrollProgress,scrollSnapList:scrollSnaps.map(scrollProgress.get),scrollSnaps,scrollTarget,scrollTo,slideLooper:SlideLooper(axis,viewSize,contentSize,slideSizes,slideSizesWithGaps,snaps,scrollSnaps,offsetLocation,slides),slideFocus,slidesHandler:SlidesHandler(container,eventHandler,watchSlides),slidesInView,slideIndexes,slideRegistry,slidesToScroll,target,translate:Translate(axis,container)};return engine}__webpack_require__.d(__webpack_exports__,{A:()=>EmblaCarousel});const defaultOptions={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function OptionsHandler(ownerWindow){function mergeOptions(optionsA,optionsB){return objectsMergeDeep(optionsA,optionsB||{})}const self={mergeOptions,optionsAtMedia:function optionsAtMedia(options){const optionsAtMedia=options.breakpoints||{},matchedMediaOptions=objectKeys(optionsAtMedia).filter((media=>ownerWindow.matchMedia(media).matches)).map((media=>optionsAtMedia[media])).reduce(((a,mediaOption)=>mergeOptions(a,mediaOption)),{});return mergeOptions(options,matchedMediaOptions)},optionsMediaQueries:function optionsMediaQueries(optionsList){return optionsList.map((options=>objectKeys(options.breakpoints||{}))).reduce(((acc,mediaQueries)=>acc.concat(mediaQueries)),[]).map(ownerWindow.matchMedia)}};return self}function EmblaCarousel(root,userOptions,userPlugins){const ownerDocument=root.ownerDocument,ownerWindow=ownerDocument.defaultView,optionsHandler=OptionsHandler(ownerWindow),pluginsHandler=function PluginsHandler(optionsHandler){let activePlugins=[];return{init:function init(emblaApi,plugins){return activePlugins=plugins.filter((({options})=>!1!==optionsHandler.optionsAtMedia(options).active)),activePlugins.forEach((plugin=>plugin.init(emblaApi,optionsHandler))),plugins.reduce(((map,plugin)=>Object.assign(map,{[plugin.name]:plugin})),{})},destroy:function destroy(){activePlugins=activePlugins.filter((plugin=>plugin.destroy()))}}}(optionsHandler),mediaHandlers=EventStore(),eventHandler=function EventHandler(){let api,listeners={};function getListeners(evt){return listeners[evt]||[]}const self={init:function init(emblaApi){api=emblaApi},emit:function emit(evt){return getListeners(evt).forEach((e=>e(api,evt))),self},off:function off(evt,cb){return listeners[evt]=getListeners(evt).filter((e=>e!==cb)),self},on:function on(evt,cb){return listeners[evt]=getListeners(evt).concat([cb]),self},clear:function clear(){listeners={}}};return self}(),{mergeOptions,optionsAtMedia,optionsMediaQueries}=optionsHandler,{on,off,emit}=eventHandler,reInit=reActivate;let engine,pluginApis,container,slides,destroyed=!1,optionsBase=mergeOptions(defaultOptions,EmblaCarousel.globalOptions),options=mergeOptions(optionsBase),pluginList=[];function createEngine(options){const engine=Engine(root,container,slides,ownerDocument,ownerWindow,options,eventHandler);if(options.loop&&!engine.slideLooper.canLoop()){return createEngine(Object.assign({},options,{loop:!1}))}return engine}function activate(withOptions,withPlugins){destroyed||(optionsBase=mergeOptions(optionsBase,withOptions),options=optionsAtMedia(optionsBase),pluginList=withPlugins||pluginList,function storeElements(){const{container:userContainer,slides:userSlides}=options,customContainer=isString(userContainer)?root.querySelector(userContainer):userContainer;container=customContainer||root.children[0];const customSlides=isString(userSlides)?container.querySelectorAll(userSlides):userSlides;slides=[].slice.call(customSlides||container.children)}(),engine=createEngine(options),optionsMediaQueries([optionsBase,...pluginList.map((({options})=>options))]).forEach((query=>mediaHandlers.add(query,"change",reActivate))),options.active&&(engine.translate.to(engine.location.get()),engine.animation.init(),engine.slidesInView.init(),engine.slideFocus.init(self),engine.eventHandler.init(self),engine.resizeHandler.init(self),engine.slidesHandler.init(self),engine.options.loop&&engine.slideLooper.loop(),container.offsetParent&&slides.length&&engine.dragHandler.init(self),pluginApis=pluginsHandler.init(self,pluginList)))}function reActivate(withOptions,withPlugins){const startIndex=selectedScrollSnap();deActivate(),activate(mergeOptions({startIndex},withOptions),withPlugins),eventHandler.emit("reInit")}function deActivate(){engine.dragHandler.destroy(),engine.eventStore.clear(),engine.translate.clear(),engine.slideLooper.clear(),engine.resizeHandler.destroy(),engine.slidesHandler.destroy(),engine.slidesInView.destroy(),engine.animation.destroy(),pluginsHandler.destroy(),mediaHandlers.clear()}function scrollTo(index,jump,direction){options.active&&!destroyed&&(engine.scrollBody.useBaseFriction().useDuration(!0===jump?0:options.duration),engine.scrollTo.index(index,direction||0))}function selectedScrollSnap(){return engine.index.get()}const self={canScrollNext:function canScrollNext(){return engine.index.add(1).get()!==selectedScrollSnap()},canScrollPrev:function canScrollPrev(){return engine.index.add(-1).get()!==selectedScrollSnap()},containerNode:function containerNode(){return container},internalEngine:function internalEngine(){return engine},destroy:function destroy(){destroyed||(destroyed=!0,mediaHandlers.clear(),deActivate(),eventHandler.emit("destroy"),eventHandler.clear())},off,on,emit,plugins:function plugins(){return pluginApis},previousScrollSnap:function previousScrollSnap(){return engine.indexPrevious.get()},reInit,rootNode:function rootNode(){return root},scrollNext:function scrollNext(jump){scrollTo(engine.index.add(1).get(),jump,-1)},scrollPrev:function scrollPrev(jump){scrollTo(engine.index.add(-1).get(),jump,1)},scrollProgress:function scrollProgress(){return engine.scrollProgress.get(engine.location.get())},scrollSnapList:function scrollSnapList(){return engine.scrollSnapList},scrollTo,selectedScrollSnap,slideNodes:function slideNodes(){return slides},slidesInView:function slidesInView(){return engine.slidesInView.get()},slidesNotInView:function slidesNotInView(){return engine.slidesInView.get(!1)}};return activate(userOptions,userPlugins),setTimeout((()=>eventHandler.emit("init")),0),self}EmblaCarousel.globalOptions=void 0},"./libs/ui/layout/src/lib/carousel/carousel.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _carousel_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/ui/layout/src/lib/carousel/carousel.component.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs");const __WEBPACK_DEFAULT_EXPORT__={component:_carousel_component__WEBPACK_IMPORTED_MODULE_0__.g,title:"Layout/CarouselComponent",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.componentWrapperDecorator)((story=>`<p>Please note that the carousel will overflow by default; to hide its items, make its container overflow-hidden!</p>\n<div class="border border-gray-300 h-[150px] w-[800px] overflow-x-hidden overflow-y-auto resize">${story}</div>`))]},Primary={args:{},render:args=>({props:args,template:"\n    <gn-ui-carousel containerClass='py-4 gap-4'>\n      <div class='border border-black w-[160px] ml-[calc(50%-80px)]'>\n        First box\n      </div>\n      <div class='border border-black w-[240px]'>\n        Second box\n      </div>\n      <div class='border border-blue-700 w-[180px] h-[50px] resize overflow-auto'>\n        Third box (resize me!)\n      </div>\n      <div class='border border-black w-[120px]'>\n        Fourth box\n      </div>\n      <div class='border border-black w-[280px] mr-[calc(50%-140px)]'>\n        Fifth box\n      </div>\n    </gn-ui-carousel>\n"})},__namedExportsOrder=["Primary"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  args: {},\n  render: args => ({\n    props: args,\n    template: `\n    <gn-ui-carousel containerClass='py-4 gap-4'>\n      <div class='border border-black w-[160px] ml-[calc(50%-80px)]'>\n        First box\n      </div>\n      <div class='border border-black w-[240px]'>\n        Second box\n      </div>\n      <div class='border border-blue-700 w-[180px] h-[50px] resize overflow-auto'>\n        Third box (resize me!)\n      </div>\n      <div class='border border-black w-[120px]'>\n        Fourth box\n      </div>\n      <div class='border border-black w-[280px] mr-[calc(50%-140px)]'>\n        Fifth box\n      </div>\n    </gn-ui-carousel>\n`\n  })\n}",...Primary.parameters?.docs?.source}}}},"./libs/ui/layout/src/lib/carousel/carousel.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  position: relative;\n}\n",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/ui/layout/src/lib/pagination-dots/pagination-dots.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".pagination-dot {\n  width: 6px;\n  height: 6px;\n  border-radius: 6px;\n  position: relative;\n  flex-shrink: 0;\n}\n\n.pagination-dot:after {\n  content: '';\n  position: absolute;\n  left: -7px;\n  top: -7px;\n  width: 20px;\n  height: 20px;\n}\n",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);