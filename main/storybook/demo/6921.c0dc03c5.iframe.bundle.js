"use strict";(self.webpackChunkgeonetwork_ui=self.webpackChunkgeonetwork_ui||[]).push([[6921],{"./node_modules/@camptocamp/ogc-client/dist/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{exports.Td=exports.YT=exports.us=exports.VR=void 0;var endpoint_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/wfs/endpoint.js");Object.defineProperty(exports,"VR",{enumerable:!0,get:function(){return endpoint_1.default}});var endpoint_2=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/wms/endpoint.js");Object.defineProperty(exports,"us",{enumerable:!0,get:function(){return endpoint_2.default}});var cache_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/cache.js");Object.defineProperty(exports,"YT",{enumerable:!0,get:function(){return cache_1.useCache}});var http_utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/http-utils.js");Object.defineProperty(exports,"Td",{enumerable:!0,get:function(){return http_utils_1.sharedFetch}});var index_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/worker/index.js");__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/worker-fallback/index.js")},"./node_modules/@camptocamp/ogc-client/dist/shared/cache.js":(__unused_webpack_module,exports,__webpack_require__)=>{var _asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.purgeEntries=exports.useCache=exports.readCacheEntry=exports.hasValidCacheEntry=exports.storeCacheEntry=exports.getCacheExpiryDuration=exports.setCacheExpiryDuration=void 0;let cacheExpiryDuration=36e5;function getCacheExpiryDuration(){return cacheExpiryDuration}exports.setCacheExpiryDuration=function setCacheExpiryDuration(value){cacheExpiryDuration=value},exports.getCacheExpiryDuration=getCacheExpiryDuration;const cachePromise="caches"in globalThis?caches.open("ogc-client"):null;function storeCacheEntry(_x){return _storeCacheEntry.apply(this,arguments)}function _storeCacheEntry(){return(_storeCacheEntry=_asyncToGenerator((function*(object,...keys){if(!cachePromise)return;const entryUrl="https://cache/"+keys.join("/"),cache=yield cachePromise;yield cache.put(entryUrl,new Response(JSON.stringify(object),{headers:{"x-expiry":(Date.now()+getCacheExpiryDuration()).toString(10)}}))}))).apply(this,arguments)}function hasValidCacheEntry(){return _hasValidCacheEntry.apply(this,arguments)}function _hasValidCacheEntry(){return(_hasValidCacheEntry=_asyncToGenerator((function*(...keys){if(!cachePromise)return!1;const entryUrl="https://cache/"+keys.join("/");return(yield cachePromise).match(entryUrl).then((req=>!!req&&parseInt(req.headers.get("x-expiry"))>Date.now()))}))).apply(this,arguments)}function readCacheEntry(){return _readCacheEntry.apply(this,arguments)}function _readCacheEntry(){return(_readCacheEntry=_asyncToGenerator((function*(...keys){if(!cachePromise)return null;const entryUrl="https://cache/"+keys.join("/"),cache=yield cachePromise,response=yield cache.match(entryUrl);return response?response.clone().json():null}))).apply(this,arguments)}exports.storeCacheEntry=storeCacheEntry,exports.hasValidCacheEntry=hasValidCacheEntry,exports.readCacheEntry=readCacheEntry;const tasksMap=new Map;function _useCache(){return(_useCache=_asyncToGenerator((function*(factory,...keys){if(yield purgeEntries(),yield hasValidCacheEntry(...keys))return readCacheEntry(...keys);const taskKey=keys.join("#");if(tasksMap.has(taskKey))return tasksMap.get(taskKey);const taskRun=factory();taskRun instanceof Promise&&(taskRun.then((()=>tasksMap.delete(taskKey))),tasksMap.set(taskKey,taskRun));const result=yield taskRun;return yield storeCacheEntry(result,...keys),result}))).apply(this,arguments)}function purgeEntries(){return _purgeEntries.apply(this,arguments)}function _purgeEntries(){return(_purgeEntries=_asyncToGenerator((function*(){if(!cachePromise)return;const cache=yield cachePromise,keys=yield cache.keys();for(let key of keys){const resp=yield cache.match(key);parseInt(resp.headers.get("x-expiry"))<=Date.now()&&(yield cache.delete(key))}}))).apply(this,arguments)}exports.useCache=function useCache(_x2){return _useCache.apply(this,arguments)},exports.purgeEntries=purgeEntries},"./node_modules/@camptocamp/ogc-client/dist/shared/crs-utils.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.simplifyEpsgUrn=exports.hasInvertedCoordinates=void 0;const LatLonCrsList=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function simplifyEpsgUrn(fullCrsName){if(/^urn:(?:x-)?ogc:def:crs:epsg:/.test(fullCrsName.toLowerCase())){return`EPSG:${/([0-9]+)$/.exec(fullCrsName)[1]}`}return fullCrsName}exports.hasInvertedCoordinates=function hasInvertedCoordinates(crsName){return LatLonCrsList.indexOf(simplifyEpsgUrn(crsName))>-1},exports.simplifyEpsgUrn=simplifyEpsgUrn},"./node_modules/@camptocamp/ogc-client/dist/shared/encoding.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.decodeString=void 0;const ENCODINGS=["utf-8","utf-16","iso-8859-1"];exports.decodeString=function decodeString(buffer,contentType){const encodingHint=contentType?function extractEncoding(contentType){const matches=/charset=([^;]+)/.exec(contentType);return matches?matches[1]:null}(contentType):null,encodingAttempts=encodingHint?[encodingHint,...ENCODINGS]:ENCODINGS;for(const encoding of encodingAttempts)try{return new TextDecoder(encoding,{fatal:!0}).decode(buffer)}catch(e){}return console.warn("XML document encoding could not be determined, falling back to utf-8."),new TextDecoder("utf-8").decode(buffer)}},"./node_modules/@camptocamp/ogc-client/dist/shared/errors.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.EndpointError=void 0;exports.EndpointError=class EndpointError{constructor(message,httpStatus,isCrossOriginRelated){this.message=message,this.httpStatus=httpStatus,this.isCrossOriginRelated=isCrossOriginRelated}}},"./node_modules/@camptocamp/ogc-client/dist/shared/http-utils.js":(__unused_webpack_module,exports,__webpack_require__)=>{var _asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.setQueryParams=exports.queryXmlDocument=exports.sharedFetch=void 0;var xml_utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/xml-utils.js"),errors_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/errors.js"),encoding_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/encoding.js");const fetchPromises=new Map;function sharedFetch(url,method="GET"){const fetchKey=`${method}#${url}`;if(fetchPromises.has(fetchKey))return fetchPromises.get(fetchKey);const promise=fetch(url,{method}).catch((e=>e)).then((resp=>(fetchPromises.delete(fetchKey),resp)));return fetchPromises.set(fetchKey,promise),promise.then((resp=>{if(resp instanceof Error)throw resp;return resp}))}exports.sharedFetch=sharedFetch,exports.queryXmlDocument=function queryXmlDocument(url){return sharedFetch(url).catch((()=>fetch(url,{method:"HEAD",mode:"no-cors"}).catch((error=>{throw new errors_1.EndpointError(`Fetching the document failed either due to network errors or unreachable host, error is: ${error.message}`,0,!1)})).then((()=>{throw new errors_1.EndpointError("The document could not be fetched due to CORS limitations",0,!0)})))).then(function(){var _ref=_asyncToGenerator((function*(resp){if(!resp.ok){const text=yield resp.text();throw new errors_1.EndpointError(`Received an error with code ${resp.status}: ${text}`,resp.status,!1)}const buffer=yield resp.arrayBuffer(),contentTypeHeader=resp.headers.get("Content-Type");return(0,encoding_1.decodeString)(buffer,contentTypeHeader)}));return function(_x){return _ref.apply(this,arguments)}}()).then((xml=>(0,xml_utils_1.parseXmlString)(xml)))},exports.setQueryParams=function setQueryParams(url,params){const encodedUrlMatch=url.match(/(https?%3A%2F%2F[^/]+)$/);if(encodedUrlMatch){const encodedUrl=encodedUrlMatch[1],modifiedUrl=setQueryParams(decodeURIComponent(encodedUrl),params);return url.replace(encodedUrl,encodeURIComponent(modifiedUrl))}const urlObj=new URL(url),keys=Object.keys(params),keysLower=keys.map((key=>key.toLowerCase())),toDelete=[];for(const param of urlObj.searchParams.keys())keysLower.indexOf(param.toLowerCase())>-1&&toDelete.push(param);return toDelete.map((param=>urlObj.searchParams.delete(param))),keys.forEach((key=>urlObj.searchParams.set(key,!0===params[key]?"":params[key]))),urlObj.toString()}},"./node_modules/@camptocamp/ogc-client/dist/shared/id.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUniqueId=void 0;let counter=0;exports.getUniqueId=function getUniqueId(){return counter++}},"./node_modules/@camptocamp/ogc-client/dist/shared/xml-utils.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.getElementAttribute=exports.getElementText=exports.getChildrenElement=exports.findChildElement=exports.findChildrenElement=exports.getElementName=exports.getRootElement=exports.stripNamespace=exports.parseXmlString=exports.XmlParseError=void 0;var parse_xml_1=__webpack_require__("./node_modules/@rgrove/parse-xml/dist/browser.js");class XmlParseError extends Error{constructor(message){super(message)}}function stripNamespace(name){const colon=name.indexOf(":");return colon>-1?name.substr(colon+1):name}function getElementName(element){return element.name||""}function findChildrenElement(element,name,nested=!1){const strippedName=stripNamespace(name);return element&&Array.isArray(element.children)?element.children.reduce((function reducer(prev,curr){return stripNamespace(getElementName(curr))===strippedName&&prev.push(curr),nested&&Array.isArray(curr.children)?[...prev,...curr.children.reduce(reducer,[])]:prev}),[]):[]}exports.XmlParseError=XmlParseError,exports.parseXmlString=function parseXmlString(xmlString){let doc=null;try{doc=(0,parse_xml_1.parseXml)(xmlString)}catch(e){throw new XmlParseError(e.message)}return doc},exports.stripNamespace=stripNamespace,exports.getRootElement=function getRootElement(xmlDoc){return xmlDoc.children[0]},exports.getElementName=getElementName,exports.findChildrenElement=findChildrenElement,exports.findChildElement=function findChildElement(element,name,nested=!1){return findChildrenElement(element,name,nested)[0]||null},exports.getChildrenElement=function getChildrenElement(element){return element&&Array.isArray(element.children)?[...element.children.filter((el=>el instanceof parse_xml_1.XmlElement))]:[]},exports.getElementText=function getElementText(element){const textNode=element&&Array.isArray(element.children)?element.children.find((node=>"text"===node.type)):null;return textNode?textNode.text:""},exports.getElementAttribute=function getElementAttribute(element,attrName){return element&&element.attributes[attrName]||""}},"./node_modules/@camptocamp/ogc-client/dist/wfs/capabilities.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.readFeatureTypesFromCapabilities=exports.readInfoFromCapabilities=exports.readOutputFormatsFromCapabilities=exports.readVersionFromCapabilities=void 0;var xml_utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/xml-utils.js"),crs_utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/crs-utils.js");function readVersionFromCapabilities(capabilitiesDoc){return(0,xml_utils_1.getRootElement)(capabilitiesDoc).attributes.version}function readOutputFormatsFromCapabilities(capabilitiesDoc){let outputFormats;if(readVersionFromCapabilities(capabilitiesDoc).startsWith("1.0")){const getFeature=(0,xml_utils_1.findChildElement)((0,xml_utils_1.findChildElement)((0,xml_utils_1.findChildElement)((0,xml_utils_1.getRootElement)(capabilitiesDoc),"Capability"),"Request"),"GetFeature");outputFormats=(0,xml_utils_1.getChildrenElement)((0,xml_utils_1.findChildElement)(getFeature,"ResultFormat")).map(xml_utils_1.getElementName)}else{const operations=(0,xml_utils_1.findChildElement)((0,xml_utils_1.getRootElement)(capabilitiesDoc),"OperationsMetadata"),getFeature=(0,xml_utils_1.findChildrenElement)(operations,"Operation").find((el=>"GetFeature"===(0,xml_utils_1.getElementAttribute)(el,"name"))),parameter=(0,xml_utils_1.findChildrenElement)(getFeature,"Parameter").find((el=>"outputFormat"===(0,xml_utils_1.getElementAttribute)(el,"name")));outputFormats=(0,xml_utils_1.findChildrenElement)(parameter,"Value",!0).map(xml_utils_1.getElementText)}return outputFormats}exports.readVersionFromCapabilities=readVersionFromCapabilities,exports.readOutputFormatsFromCapabilities=readOutputFormatsFromCapabilities,exports.readInfoFromCapabilities=function readInfoFromCapabilities(capabilitiesDoc){const version=readVersionFromCapabilities(capabilitiesDoc),serviceTag=version.startsWith("1.0")?"Service":"ServiceIdentification",nameTag=version.startsWith("1.0")?"Name":"ServiceType",service=(0,xml_utils_1.findChildElement)((0,xml_utils_1.getRootElement)(capabilitiesDoc),serviceTag);let keywords;return keywords=version.startsWith("1.0")?(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(service,"Keywords")).split(",").map((keyword=>keyword.trim())):(0,xml_utils_1.findChildrenElement)((0,xml_utils_1.findChildElement)(service,"Keywords"),"Keyword").map(xml_utils_1.getElementText),{title:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(service,"Title")),name:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(service,nameTag)),abstract:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(service,"Abstract")),fees:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(service,"Fees")),constraints:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(service,"AccessConstraints")),keywords,outputFormats:readOutputFormatsFromCapabilities(capabilitiesDoc)}},exports.readFeatureTypesFromCapabilities=function readFeatureTypesFromCapabilities(capabilitiesDoc){const version=readVersionFromCapabilities(capabilitiesDoc),outputFormats=readOutputFormatsFromCapabilities(capabilitiesDoc),capability=(0,xml_utils_1.findChildElement)((0,xml_utils_1.getRootElement)(capabilitiesDoc),"FeatureTypeList");return(0,xml_utils_1.findChildrenElement)(capability,"FeatureType").map((featureTypeEl=>function parseFeatureType(featureTypeEl,serviceVersion,defaultOutputFormats){const srsTag=serviceVersion.startsWith("2.")?"CRS":"SRS",defaultSrsTag=serviceVersion.startsWith("1.0")?"SRS":`Default${srsTag}`;function parseBBox100(){const bboxEl=(0,xml_utils_1.findChildElement)(featureTypeEl,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map((name=>(0,xml_utils_1.getElementAttribute)(bboxEl,name))).map(parseFloat)}function parseBBox(){const bboxEl=(0,xml_utils_1.findChildElement)(featureTypeEl,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map((elName=>(0,xml_utils_1.findChildElement)(bboxEl,elName))).map((cornerEl=>(0,xml_utils_1.getElementText)(cornerEl).split(" "))).reduce(((prev,curr)=>[...prev,...curr])).map(parseFloat)}const otherCrs=serviceVersion.startsWith("1.0")?[]:(0,xml_utils_1.findChildrenElement)(featureTypeEl,`Other${srsTag}`).map(xml_utils_1.getElementText).map(crs_utils_1.simplifyEpsgUrn),outputFormats=serviceVersion.startsWith("1.0")?[]:(0,xml_utils_1.findChildrenElement)((0,xml_utils_1.findChildElement)(featureTypeEl,"OutputFormats"),"Format").map(xml_utils_1.getElementText);return{name:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(featureTypeEl,"Name")),title:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(featureTypeEl,"Title")),abstract:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(featureTypeEl,"Abstract")),defaultCrs:(0,crs_utils_1.simplifyEpsgUrn)((0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(featureTypeEl,defaultSrsTag))),otherCrs,outputFormats:outputFormats.length>0?outputFormats:defaultOutputFormats,latLonBoundingBox:serviceVersion.startsWith("1.0")?parseBBox100():parseBBox()}}(featureTypeEl,version,outputFormats)))}},"./node_modules/@camptocamp/ogc-client/dist/wfs/endpoint.js":(__unused_webpack_module,exports,__webpack_require__)=>{var _asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js").default;Object.defineProperty(exports,"__esModule",{value:!0});var worker_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/worker/index.js"),http_utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/http-utils.js"),featuretypeinfo_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/wfs/featuretypeinfo.js"),cache_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/cache.js"),url_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/wfs/url.js"),xml_utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/xml-utils.js");exports.default=class WfsEndpoint{constructor(url){this._capabilitiesUrl=(0,http_utils_1.setQueryParams)(url,{SERVICE:"WFS",REQUEST:"GetCapabilities"}),this._capabilitiesPromise=(0,cache_1.useCache)((()=>(0,worker_1.parseWfsCapabilities)(this._capabilitiesUrl)),"WFS","CAPABILITIES",this._capabilitiesUrl).then((({info,featureTypes,version})=>{this._info=info,this._featureTypes=featureTypes,this._version=version}))}isReady(){return this._capabilitiesPromise.then((()=>this))}getServiceInfo(){return this._info}getFeatureTypes(){return this._featureTypes.map((featureType=>({name:featureType.name,..."title"in featureType&&{title:featureType.title},..."abstract"in featureType&&{abstract:featureType.abstract},..."latLonBoundingBox"in featureType&&{boundingBox:featureType.latLonBoundingBox}})))}_getFeatureTypeByName(name){if(!this._featureTypes)return null;const isQualified=(0,xml_utils_1.stripNamespace)(name)!==name;return this._featureTypes.find((featureType=>isQualified?featureType.name===name:(0,xml_utils_1.stripNamespace)(featureType.name)===name))||null}getFeatureTypeSummary(name){const featureType=this._getFeatureTypeByName(name);return featureType?{name:featureType.name,..."title"in featureType&&{title:featureType.title},..."abstract"in featureType&&{abstract:featureType.abstract},..."latLonBoundingBox"in featureType&&{boundingBox:featureType.latLonBoundingBox},defaultCrs:featureType.defaultCrs,otherCrs:featureType.otherCrs,outputFormats:featureType.outputFormats}:null}getFeatureTypeFull(name){const featureType=this._getFeatureTypeByName(name);return featureType?(0,cache_1.useCache)((()=>{const describeUrl=(0,url_1.generateDescribeFeatureTypeUrl)(this._capabilitiesUrl,this._version,name),getFeatureUrl=(0,url_1.generateGetFeatureUrl)(this._capabilitiesUrl,this._version,name,void 0,void 0,void 0,!0);return Promise.all([(0,http_utils_1.queryXmlDocument)(describeUrl),(0,http_utils_1.queryXmlDocument)(getFeatureUrl)]).then((([describeResponse,getFeatureResponse])=>(0,featuretypeinfo_1.parseFeatureTypeInfo)(featureType,describeResponse,getFeatureResponse,this._version)))}),"WFS","FEATURETYPEINFO",this._capabilitiesUrl,name):null}getFeatureTypePropDetails(name){var _this=this;return _asyncToGenerator((function*(){const featureTypeFull=yield _this.getFeatureTypeFull(name);return null===featureTypeFull?null:(0,cache_1.useCache)((()=>(0,worker_1.queryWfsFeatureTypeDetails)(_this._capabilitiesUrl,_this._version,featureTypeFull).then((result=>result.props))),"WFS","FEATURETYPEPROPDETAILS",_this._capabilitiesUrl,name)}))()}getVersion(){return this._version}_getJsonCompatibleOutputFormat(featureType){const featureTypeInfo=this._getFeatureTypeByName(featureType);if(!featureTypeInfo)throw new Error(`The following feature type was not found in the service: ${featureType}`);const candidates=featureTypeInfo.outputFormats.filter((f=>f.toLowerCase().indexOf("json")>-1));return candidates.length?candidates[0]:null}supportsJson(featureType){return this._featureTypes?!!this._getJsonCompatibleOutputFormat(featureType):null}getFeatureUrl(featureType,options){if(!this._featureTypes)return null;const{maxFeatures,asJson,outputFormat,outputCrs,extent,extentCrs}=options||{},internalFeatureType=this._getFeatureTypeByName(featureType);if(!internalFeatureType)throw new Error(`The following feature type was not found in the service: ${featureType}`);let format=outputFormat;if(asJson){if(format=this._getJsonCompatibleOutputFormat(featureType)||void 0,!format)throw new Error(`The endpoint does not appear to support GeoJSON for the feature type ${internalFeatureType.name}`)}else outputFormat&&-1===internalFeatureType.outputFormats.indexOf(outputFormat)&&console.warn(`The following output format type was not found in the feature type ${internalFeatureType.name}: ${outputFormat}`);return(0,url_1.generateGetFeatureUrl)(this._capabilitiesUrl,this._version,internalFeatureType.name,format,maxFeatures,void 0,void 0,outputCrs,extent,extentCrs)}}},"./node_modules/@camptocamp/ogc-client/dist/wfs/featureprops.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.computeFeaturePropsDetails=exports.parseFeaturePropsGeojson=exports.parseFeatureProps=void 0;var xml_utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/xml-utils.js");exports.parseFeatureProps=function parseFeatureProps(getFeaturesDoc,featureTypeFull,serviceVersion){const collection=(0,xml_utils_1.getRootElement)(getFeaturesDoc);let members;if(serviceVersion.startsWith("2.0"))members=(0,xml_utils_1.findChildrenElement)(collection,"member").map((parent=>(0,xml_utils_1.getChildrenElement)(parent)[0]));else{const membersRoot=(0,xml_utils_1.findChildElement)(collection,"featureMembers");members=membersRoot?(0,xml_utils_1.getChildrenElement)(membersRoot):(0,xml_utils_1.findChildrenElement)(collection,"featureMember").map((parent=>(0,xml_utils_1.getChildrenElement)(parent)[0]))}const idAttr="1.0.0"===serviceVersion?"fid":"gml:id";function parseElementPropertyValue(propName,valueAsString){switch(featureTypeFull.properties[propName]){case"integer":return parseInt(valueAsString);case"float":return parseFloat(valueAsString);case"boolean":return"true"===valueAsString;default:return valueAsString}}function getProperties(memberEl){return(0,xml_utils_1.getChildrenElement)(memberEl).filter((el=>function isElementProperty(propName){return propName in featureTypeFull.properties}((0,xml_utils_1.stripNamespace)((0,xml_utils_1.getElementName)(el))))).reduce(((prev,curr)=>{const propName=(0,xml_utils_1.stripNamespace)((0,xml_utils_1.getElementName)(curr));return{...prev,[propName]:parseElementPropertyValue(propName,(0,xml_utils_1.getElementText)(curr))}}),{})}return members.map((el=>({id:(0,xml_utils_1.getElementAttribute)(el,idAttr),properties:getProperties(el)})))},exports.parseFeaturePropsGeojson=function parseFeaturePropsGeojson(getFeaturesGeojson){if(!("features"in getFeaturesGeojson)||!Array.isArray(getFeaturesGeojson.features))throw new Error("Geojson object is apparently not a FeatureCollection");return getFeaturesGeojson.features.map((feature=>({id:feature.id,properties:{...feature.properties}})))},exports.computeFeaturePropsDetails=function computeFeaturePropsDetails(featuresWithProps){return featuresWithProps.reduce(((prev,curr)=>{for(const propName in curr.properties){const propValue=curr.properties[propName];propName in prev||(prev[propName]={uniqueValues:[]});const uniqueValue=prev[propName].uniqueValues.find((v=>v.value===propValue));uniqueValue?uniqueValue.count++:prev[propName].uniqueValues.push({value:propValue,count:1})}return prev}),{})}},"./node_modules/@camptocamp/ogc-client/dist/wfs/featuretypeinfo.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseFeatureTypeInfo=void 0;var xml_utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/xml-utils.js");function getTypeFromXsdType(xsdType){switch(xsdType.indexOf(":")>-1?xsdType.substr(xsdType.indexOf(":")+1):xsdType){case"string":default:return"string";case"boolean":return"boolean";case"float":case"double":case"decimal":return"float";case"long":case"byte":case"integer":case"int":case"positiveInteger":case"negativeInteger":case"nonPositiveInteger":case"nonNegativeInteger":case"short":case"unsignedLong":case"unsignedInt":case"unsignedShort":case"unsignedByte":return"integer"}}exports.parseFeatureTypeInfo=function parseFeatureTypeInfo(featureType,describeFeatureTypeDoc,getFeatureHitsDoc,serviceVersion){const{name,title,abstract,defaultCrs,otherCrs,outputFormats,latLonBoundingBox:boundingBox}=featureType,hitsAttr=serviceVersion.startsWith("2.0")?"numberMatched":"numberOfFeatures",objectCount=parseInt((0,xml_utils_1.getElementAttribute)((0,xml_utils_1.getRootElement)(getFeatureHitsDoc),hitsAttr)),complexTypeEl=(0,xml_utils_1.findChildrenElement)((0,xml_utils_1.getRootElement)(describeFeatureTypeDoc),"complexType",!0)[0],typeElementsEls=(0,xml_utils_1.findChildrenElement)(complexTypeEl,"element",!0),properties=typeElementsEls.filter((el=>(0,xml_utils_1.getElementAttribute)(el,"type").startsWith("xsd:"))).reduce(((prev,curr)=>({...prev,[(0,xml_utils_1.getElementAttribute)(curr,"name")]:getTypeFromXsdType((0,xml_utils_1.getElementAttribute)(curr,"type"))})),{}),geomEl=typeElementsEls.filter((el=>(0,xml_utils_1.getElementAttribute)(el,"type").startsWith("gml:")))[0],geometryName=geomEl?(0,xml_utils_1.getElementAttribute)(geomEl,"name"):void 0,geometryType=geomEl?function getGeomTypeFromGmlType(gmlType){switch(gmlType.indexOf(":")>-1?gmlType.substr(gmlType.indexOf(":")+1):gmlType){case"PointPropertyType":return"point";case"MultiPointPropertyType":return"multipoint";case"CurvePropertyType":case"LineStringPropertyType":case"MultiCurvePropertyType":case"MultiLineStringPropertyType":return"linestring";case"PolygonPropertyType":case"SurfacePropertyType":return"polygon";case"MultiPolygonPropertyType":case"MultiSurfacePropertyType":return"multipolygon";default:return"unknown"}}((0,xml_utils_1.getElementAttribute)(geomEl,"type")):void 0;return{name,...title&&{title},...abstract&&{abstract},...boundingBox&&{boundingBox},...defaultCrs&&{defaultCrs},...otherCrs&&{otherCrs},...outputFormats&&{outputFormats},properties,...geometryName&&{geometryName},...geometryType&&{geometryType},...!Number.isNaN(objectCount)&&{objectCount}}}},"./node_modules/@camptocamp/ogc-client/dist/wfs/url.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateDescribeFeatureTypeUrl=exports.generateGetFeatureUrl=void 0;var http_utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/http-utils.js");exports.generateGetFeatureUrl=function generateGetFeatureUrl(serviceUrl,version,featureType,outputFormat,maxFeatures,attributes,hitsOnly,outputCrs,extent,extentCrs){const countParam="2.0.0"===version?"COUNT":"MAXFEATURES",newParams={SERVICE:"WFS",REQUEST:"GetFeature",VERSION:version,["2.0.0"===version?"TYPENAMES":"TYPENAME"]:featureType};if(void 0!==outputFormat&&(newParams.OUTPUTFORMAT=outputFormat),void 0!==attributes&&(newParams.PROPERTYNAME=attributes.join(",")),hitsOnly?(newParams.RESULTTYPE="hits",newParams[countParam]="1"):void 0!==maxFeatures&&(newParams[countParam]=maxFeatures.toString(10)),outputCrs&&(newParams.SRSNAME=outputCrs),extent){const extentJoined=extent.join(",");newParams.BBOX=extentCrs?`${extentJoined},${extentCrs}`:extentJoined}return(0,http_utils_1.setQueryParams)(serviceUrl,newParams)},exports.generateDescribeFeatureTypeUrl=function generateDescribeFeatureTypeUrl(serviceUrl,version,featureType){const typeParam="2.0.0"===version?"TYPENAMES":"TYPENAME";return(0,http_utils_1.setQueryParams)(serviceUrl,{SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:version,[typeParam]:featureType})}},"./node_modules/@camptocamp/ogc-client/dist/wms/capabilities.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.readInfoFromCapabilities=exports.readLayersFromCapabilities=exports.readVersionFromCapabilities=void 0;var xml_utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/xml-utils.js"),crs_utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/crs-utils.js");function readVersionFromCapabilities(capabilitiesDoc){return(0,xml_utils_1.getRootElement)(capabilitiesDoc).attributes.version}function parseLayer(layerEl,version,inheritedSrs=[],inheritedStyles=[],inheritedAttribution=null){const srsTag="1.3.0"===version?"CRS":"SRS",srsList=(0,xml_utils_1.findChildrenElement)(layerEl,srsTag).map(xml_utils_1.getElementText),availableCrs=srsList.length>0?srsList:inheritedSrs,layerStyles=(0,xml_utils_1.findChildrenElement)(layerEl,"Style").map(parseLayerStyle),styles=layerStyles.length>0?layerStyles:inheritedStyles;function parseBBox(bboxEl){const srs=(0,xml_utils_1.getElementAttribute)(bboxEl,srsTag);return((0,crs_utils_1.hasInvertedCoordinates)(srs)&&"1.3.0"===version?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map((name=>(0,xml_utils_1.getElementAttribute)(bboxEl,name)))}const attributionEl=(0,xml_utils_1.findChildElement)(layerEl,"Attribution"),attribution=null!==attributionEl?function parseLayerAttribution(attributionEl){const logoUrl=(0,xml_utils_1.getElementAttribute)((0,xml_utils_1.findChildElement)((0,xml_utils_1.findChildElement)(attributionEl,"LogoURL"),"OnlineResource"),"xlink:href"),url=(0,xml_utils_1.getElementAttribute)((0,xml_utils_1.findChildElement)(attributionEl,"OnlineResource"),"xlink:href"),title=(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(attributionEl,"Title"));return{...title&&{title},...url&&{url},...logoUrl&&{logoUrl}}}(attributionEl):inheritedAttribution,children=(0,xml_utils_1.findChildrenElement)(layerEl,"Layer").map((layer=>parseLayer(layer,version,availableCrs,styles,attribution)));return{name:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(layerEl,"Name")),title:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(layerEl,"Title")),abstract:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(layerEl,"Abstract")),availableCrs,styles,attribution,boundingBoxes:(0,xml_utils_1.findChildrenElement)(layerEl,"BoundingBox").reduce(((prev,bboxEl)=>({...prev,[(0,xml_utils_1.getElementAttribute)(bboxEl,srsTag)]:parseBBox(bboxEl)})),{}),...children.length&&{children}}}function parseLayerStyle(styleEl){const legendUrl=(0,xml_utils_1.getElementAttribute)((0,xml_utils_1.findChildElement)((0,xml_utils_1.findChildElement)(styleEl,"LegendURL"),"OnlineResource"),"xlink:href");return{name:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(styleEl,"Name")),title:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(styleEl,"Title")),...legendUrl&&{legendUrl}}}exports.readVersionFromCapabilities=readVersionFromCapabilities,exports.readLayersFromCapabilities=function readLayersFromCapabilities(capabilitiesDoc){const version=readVersionFromCapabilities(capabilitiesDoc),capability=(0,xml_utils_1.findChildElement)((0,xml_utils_1.getRootElement)(capabilitiesDoc),"Capability");return(0,xml_utils_1.findChildrenElement)(capability,"Layer").map((layerEl=>parseLayer(layerEl,version)))},exports.readInfoFromCapabilities=function readInfoFromCapabilities(capabilitiesDoc){const service=(0,xml_utils_1.findChildElement)((0,xml_utils_1.getRootElement)(capabilitiesDoc),"Service"),keywords=(0,xml_utils_1.findChildrenElement)((0,xml_utils_1.findChildElement)(service,"KeywordList"),"Keyword").map(xml_utils_1.getElementText).filter(((v,i,arr)=>arr.indexOf(v)===i));return{title:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(service,"Title")),name:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(service,"Name")),abstract:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(service,"Abstract")),fees:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(service,"Fees")),constraints:(0,xml_utils_1.getElementText)((0,xml_utils_1.findChildElement)(service,"AccessConstraints")),keywords}}},"./node_modules/@camptocamp/ogc-client/dist/wms/endpoint.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var worker_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/worker/index.js"),cache_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/cache.js"),http_utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/http-utils.js");exports.default=class WmsEndpoint{constructor(url){const capabilitiesUrl=(0,http_utils_1.setQueryParams)(url,{SERVICE:"WMS",REQUEST:"GetCapabilities"});this._capabilitiesPromise=(0,cache_1.useCache)((()=>(0,worker_1.parseWmsCapabilities)(capabilitiesUrl)),"WMS","CAPABILITIES",capabilitiesUrl).then((({info,layers,version})=>{this._info=info,this._layers=layers,this._version=version}))}isReady(){return this._capabilitiesPromise.then((()=>this))}getServiceInfo(){return this._info}getLayers(){return this._layers.map((function layerSummaryMapper(layerFull){return{title:layerFull.title,name:layerFull.name,abstract:layerFull.abstract,..."children"in layerFull&&{children:layerFull.children.map(layerSummaryMapper)}}}))}getLayerByName(name){let result=null;return this._layers.map((function layerLookup(layer){null===result&&(layer.name!==name?"children"in layer&&layer.children.map(layerLookup):result=layer)})),result}getVersion(){return this._version}}},"./node_modules/@camptocamp/ogc-client/dist/worker-fallback/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/worker/worker.js")},"./node_modules/@camptocamp/ogc-client/dist/worker/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.queryWfsFeatureTypeDetails=exports.parseWfsCapabilities=exports.parseWmsCapabilities=exports.enableFallbackWithoutWorker=void 0;var utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/worker/utils.js");let workerInstance,fallbackWithoutWorker=!1;function getWorkerInstance(){return fallbackWithoutWorker?null:(workerInstance||(workerInstance=new Worker(URL.createObjectURL(new Blob(['function e(e,t,n){const r="undefined"!=typeof WorkerGlobalScope,s=async s=>{if(s.taskName===e){let i,o;try{i=await n(s.params)}catch(e){o=e}const a=Object.assign(Object.assign({taskName:e,requestId:s.requestId},i&&{response:i}),o&&{error:o});r?t.postMessage(a):t.dispatchEvent(new CustomEvent("ogc-client.response",{detail:a}))}};r?t.addEventListener("message",(e=>s(e.data))):t.addEventListener("ogc-client.request",(e=>s(e.detail)))}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n={},r={},s={};Object.defineProperty(s,"__esModule",{value:!0}),s.StringScanner=void 0;const i=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;s.StringScanner=class{constructor(e){if(this.charCount=this.charLength(e,!0),this.charIndex=0,this.length=e.length,this.multiByteMode=this.charCount!==this.length,this.string=e,this.multiByteMode){let t=[];for(let n=0,r=0;r<this.charCount;++r)t[r]=n,n+=e.codePointAt(n)>65535?2:1;this.charsToBytes=t}}get isEnd(){return this.charIndex>=this.charCount}charIndexToByteIndex(e=this.charIndex){return this.multiByteMode?this.charsToBytes[e]??1/0:e}charLength(e,t=this.multiByteMode){return t?e.replace(i,"_").length:e.length}advance(e=1){this.charIndex=Math.min(this.charCount,this.charIndex+e)}consume(e=1){let t=this.peek(e);return this.advance(e),t}consumeMatch(e){if(!e.sticky)throw new Error(\'`regex` must have a sticky flag ("y")\');e.lastIndex=this.charIndexToByteIndex();let t=e.exec(this.string);if(null===t||0===t.length)return"";let n=t[0];return this.advance(this.charLength(n)),n}consumeMatchFn(e){let t,n="";for(;(t=this.peek())&&e(t);)n+=t,this.advance();return n}consumeString(e){if(this.consumeStringFast(e))return e;if(this.multiByteMode){let{length:t}=e,n=this.charLength(e);if(n!==t&&e===this.peek(n))return this.advance(n),e}return""}consumeStringFast(e){let{length:t}=e;return this.peek(t)===e?(this.advance(t),e):""}consumeUntilMatch(e){let t=this.string.slice(this.charIndexToByteIndex()),n=t.search(e);if(n<=0)return"";let r=t.slice(0,n);return this.advance(this.charLength(r)),r}consumeUntilString(e){let{string:t}=this,n=this.charIndexToByteIndex(),r=t.indexOf(e,n);if(r<=0)return"";let s=t.slice(n,r);return this.advance(this.charLength(s)),s}peek(e=1){let{charIndex:t,multiByteMode:n,string:r}=this;return n?t>=this.charCount?"":r.slice(this.charIndexToByteIndex(t),this.charIndexToByteIndex(t+e)):r.slice(t,t+e)}reset(e=0){this.charIndex=e>=0?Math.min(this.charCount,e):Math.max(0,this.charIndex+e)}};var o={};function a(e){let t=u(e);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256||c(e,t)}function c(e,t=u(e)){return t>=97&&t<=122||t>=65&&t<=90||58===t||95===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function u(e){return e.codePointAt(0)||-1}Object.defineProperty(o,"__esModule",{value:!0}),o.isXmlCodePoint=o.isWhitespace=o.isReferenceChar=o.isNameStartChar=o.isNameChar=o.predefinedEntities=o.endCharData=o.attValueNormalizedWhitespace=o.attValueCharSingleQuote=o.attValueCharDoubleQuote=void 0,o.attValueCharDoubleQuote=/[^"&<]+/y,o.attValueCharSingleQuote=/[^\'&<]+/y,o.attValueNormalizedWhitespace=/[\\t\\n]/g,o.endCharData=/<|&|]]>/,o.predefinedEntities=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"\'",gt:">",lt:"<",quot:\'"\'})),o.isNameChar=a,o.isNameStartChar=c,o.isReferenceChar=function(e){return"#"===e||a(e)},o.isWhitespace=function(e){let t=u(e);return 32===t||9===t||10===t||13===t},o.isXmlCodePoint=function(e){return 9===e||10===e||13===e||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111};var l={},h={};Object.defineProperty(h,"__esModule",{value:!0}),h.XmlNode=void 0;class d{constructor(){this.parent=null}get document(){return this.parent?.document??null}get isRootNode(){return null!==this.parent&&this.parent===this.document}get preserveWhitespace(){return Boolean(this.parent?.preserveWhitespace)}get type(){return""}toJSON(){let e={type:this.type};return this.isRootNode&&(e.isRootNode=!0),this.preserveWhitespace&&(e.preserveWhitespace=!0),e}}h.XmlNode=d,d.TYPE_CDATA="cdata",d.TYPE_COMMENT="comment",d.TYPE_DOCUMENT="document",d.TYPE_ELEMENT="element",d.TYPE_PROCESSING_INSTRUCTION="pi",d.TYPE_TEXT="text";var m={};Object.defineProperty(m,"__esModule",{value:!0}),m.XmlText=void 0;const f=h;class p extends f.XmlNode{constructor(e=""){super(),this.text=e}get type(){return f.XmlNode.TYPE_TEXT}toJSON(){return Object.assign(f.XmlNode.prototype.toJSON.call(this),{text:this.text})}}m.XmlText=p,Object.defineProperty(l,"__esModule",{value:!0}),l.XmlCdata=void 0;const g=h,S=m;class E extends S.XmlText{get type(){return g.XmlNode.TYPE_CDATA}}l.XmlCdata=E;var P={};Object.defineProperty(P,"__esModule",{value:!0}),P.XmlComment=void 0;const y=h;class b extends y.XmlNode{constructor(e=""){super(),this.content=e}get type(){return y.XmlNode.TYPE_COMMENT}toJSON(){return Object.assign(y.XmlNode.prototype.toJSON.call(this),{content:this.content})}}P.XmlComment=b;var v={},x={};Object.defineProperty(x,"__esModule",{value:!0}),x.XmlElement=void 0;const O=h;class C extends O.XmlNode{constructor(e,t=Object.create(null),n=[]){super(),this.name=e,this.attributes=t,this.children=n}get isEmpty(){return 0===this.children.length}get preserveWhitespace(){let e=this;for(;e instanceof C;){if("xml:space"in e.attributes)return"preserve"===e.attributes["xml:space"];e=e.parent}return!1}get text(){return this.children.map((e=>"text"in e?e.text:"")).join("")}get type(){return O.XmlNode.TYPE_ELEMENT}toJSON(){return Object.assign(O.XmlNode.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map((e=>e.toJSON()))})}}x.XmlElement=C,Object.defineProperty(v,"__esModule",{value:!0}),v.XmlDocument=void 0;const w=x,N=h;class T extends N.XmlNode{constructor(e=[]){super(),this.children=e}get document(){return this}get root(){for(let e of this.children)if(e instanceof w.XmlElement)return e;return null}get text(){return this.children.map((e=>"text"in e?e.text:"")).join("")}get type(){return N.XmlNode.TYPE_DOCUMENT}toJSON(){return Object.assign(N.XmlNode.prototype.toJSON.call(this),{children:this.children.map((e=>e.toJSON()))})}}v.XmlDocument=T;var X={};Object.defineProperty(X,"__esModule",{value:!0}),X.XmlProcessingInstruction=void 0;const G=h;class M extends G.XmlNode{constructor(e,t=""){super(),this.name=e,this.content=t}get type(){return G.XmlNode.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(G.XmlNode.prototype.toJSON.call(this),{name:this.name,content:this.content})}}X.XmlProcessingInstruction=M;var j=t&&t.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),F=t&&t.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),I=t&&t.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&j(t,e,n);return F(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Parser=void 0;const _=s,A=I(o),R=l,D=P,W=v,L=x,U=X,B=m;r.Parser=class{constructor(e,t={}){if(this.document=new W.XmlDocument,this.currentNode=this.document,this.options=t,this.scanner=new _.StringScanner(function(e){"\\ufeff"===e[0]&&(e=e.slice(1));return e.replace(/\\r\\n?/g,"\\n")}(e)),this.consumeProlog(),!this.consumeElement())throw this.error("Root element is missing or invalid");for(;this.consumeMisc(););if(!this.scanner.isEnd)throw this.error("Extra content at the end of the document")}addNode(e){e.parent=this.currentNode,this.currentNode.children.push(e)}addText(e){let{children:t}=this.currentNode,{length:n}=t;if(n>0){let r=t[n-1];if(r instanceof B.XmlText)return void(r.text+=e)}this.addNode(new B.XmlText(e))}consumeAttributes(){let e=Object.create(null);for(;this.consumeWhitespace();){let t=this.consumeName();if(!t)break;let n=this.consumeEqual()&&this.consumeAttributeValue();if(!1===n)throw this.error("Attribute value expected");if(t in e)throw this.error(`Duplicate attribute: ${t}`);if("xml:space"===t&&"default"!==n&&"preserve"!==n)throw this.error(\'Value of the `xml:space` attribute must be "default" or "preserve"\');e[t]=n}if(this.options.sortAttributes){let t=Object.keys(e).sort(),n=Object.create(null);for(let r=0;r<t.length;++r){let s=t[r];n[s]=e[s]}e=n}return e}consumeAttributeValue(){let e,{scanner:t}=this,n=t.peek();if(\'"\'!==n&&"\'"!==n)return!1;t.advance();let r=!1,s="",i=\'"\'===n?A.attValueCharDoubleQuote:A.attValueCharSingleQuote;e:for(;!t.isEnd;)switch(e=t.consumeMatch(i),e&&(this.validateChars(e),s+=e.replace(A.attValueNormalizedWhitespace," ")),t.peek()){case n:r=!0;break e;case"&":s+=this.consumeReference();continue;case"<":throw this.error("Unescaped `<` is not allowed in an attribute value");case"":break e}if(!r)throw this.error("Unclosed attribute");return t.advance(),s}consumeCdataSection(){let{scanner:e}=this;if(!e.consumeStringFast("<![CDATA["))return!1;let t=e.consumeUntilString("]]>");if(this.validateChars(t),!e.consumeStringFast("]]>"))throw this.error("Unclosed CDATA section");return this.options.preserveCdata?this.addNode(new R.XmlCdata(t)):this.addText(t),!0}consumeCharData(){let{scanner:e}=this,t=e.consumeUntilMatch(A.endCharData);if(!t)return!1;if(this.validateChars(t),"]]>"===e.peek(3))throw this.error("Element content may not contain the CDATA section close delimiter `]]>`");return this.addText(t),!0}consumeComment(){let{scanner:e}=this;if(!e.consumeStringFast("\\x3c!--"))return!1;let t=e.consumeUntilString("--");if(this.validateChars(t),!e.consumeStringFast("--\\x3e")){if("--"===e.peek(2))throw this.error("The string `--` isn\'t allowed inside a comment");throw this.error("Unclosed comment")}return this.options.preserveComments&&this.addNode(new D.XmlComment(t.trim())),!0}consumeContentReference(){let e=this.consumeReference();return!!e&&(this.addText(e),!0)}consumeDoctypeDeclaration(){let{scanner:e}=this;if(!e.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace())return!1;if(e.consumeMatch(/[^[>]+/y),e.consumeMatch(/\\[[\\s\\S]+?\\][\\x20\\t\\r\\n]*>/y))return!0;if(!e.consumeStringFast(">"))throw this.error("Unclosed doctype declaration");return!0}consumeElement(){let{scanner:e}=this,t=e.charIndex;if(!e.consumeStringFast("<"))return!1;let n=this.consumeName();if(!n)return e.reset(t),!1;let r=this.consumeAttributes(),s=Boolean(e.consumeStringFast("/>")),i=new L.XmlElement(n,r);if(i.parent=this.currentNode,!s){if(!e.consumeStringFast(">"))throw this.error(`Unclosed start tag for element \\`${n}\\``);this.currentNode=i;do{this.consumeCharData()}while(this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment());let t,r=e.charIndex;if(!e.consumeStringFast("</")||!(t=this.consumeName())||t!==n)throw e.reset(r),this.error(`Missing end tag for element ${n}`);if(this.consumeWhitespace(),!e.consumeStringFast(">"))throw this.error(`Unclosed end tag for element ${n}`);this.currentNode=i.parent}return this.addNode(i),!0}consumeEqual(){return this.consumeWhitespace(),!!this.scanner.consumeStringFast("=")&&(this.consumeWhitespace(),!0)}consumeMisc(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}consumeName(){return A.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(A.isNameChar):""}consumeProcessingInstruction(){let{scanner:e}=this,t=e.charIndex;if(!e.consumeStringFast("<?"))return!1;let n=this.consumeName();if(!n)throw this.error("Invalid processing instruction");if("xml"===n.toLowerCase())throw e.reset(t),this.error("XML declaration isn\'t allowed here");if(!this.consumeWhitespace()){if(e.consumeStringFast("?>"))return this.addNode(new U.XmlProcessingInstruction(n)),!0;throw this.error("Whitespace is required after a processing instruction name")}let r=e.consumeUntilString("?>");if(this.validateChars(r),!e.consumeStringFast("?>"))throw this.error("Unterminated processing instruction");return this.addNode(new U.XmlProcessingInstruction(n,r)),!0}consumeProlog(){let{scanner:e}=this,t=e.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return t<e.charIndex}consumeReference(){let{scanner:e}=this;if(!e.consumeStringFast("&"))return!1;let t,n=e.consumeMatchFn(A.isReferenceChar);if(";"!==e.consume())throw this.error("Unterminated reference (a reference must end with `;`)");if("#"===n[0]){let e="x"===n[1]?parseInt(n.slice(2),16):parseInt(n.slice(1),10);if(isNaN(e))throw this.error("Invalid character reference");if(!A.isXmlCodePoint(e))throw this.error("Character reference resolves to an invalid character");t=String.fromCodePoint(e)}else if(t=A.predefinedEntities[n],void 0===t){let{ignoreUndefinedEntities:t,resolveUndefinedEntity:r}=this.options,s=`&${n};`;if(r){let e=r(s);if(null!=e){let t=typeof e;if("string"!==t)throw new TypeError(`\\`resolveUndefinedEntity()\\` must return a string, \\`null\\`, or \\`undefined\\`, but returned a value of type ${t}`);return e}}if(t)return s;throw e.reset(-s.length),this.error(`Named entity isn\'t defined: ${s}`)}return t}consumeSystemLiteral(){let{scanner:e}=this,t=e.consumeStringFast(\'"\')||e.consumeStringFast("\'");if(!t)return!1;let n=e.consumeUntilString(t);if(this.validateChars(n),!e.consumeStringFast(t))throw this.error("Missing end quote");return n}consumeWhitespace(){return Boolean(this.scanner.consumeMatchFn(A.isWhitespace))}consumeXmlDeclaration(){let{scanner:e}=this;if(!e.consumeStringFast("<?xml"))return!1;if(!this.consumeWhitespace())throw this.error("Invalid XML declaration");let t=Boolean(e.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(!1===t)throw this.error("XML version is missing or invalid");if(!/^1\\.[0-9]+$/.test(t))throw this.error("Invalid character in version number");if(this.consumeWhitespace()){Boolean(e.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();let t=Boolean(e.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(t){if("yes"!==t&&"no"!==t)throw this.error(\'Only "yes" and "no" are permitted as values of `standalone`\');this.consumeWhitespace()}}if(!e.consumeStringFast("?>"))throw this.error("Invalid or unclosed XML declaration");return!0}error(e){let{charIndex:t,string:n}=this.scanner,r=1,s="",i=1;for(let e=0;e<t;++e){let t=n[e];"\\n"===t?(r=1,s="",i+=1):(r+=1,s+=t)}let o=n.indexOf("\\n",t);s+=-1===o?n.slice(t):n.slice(t,o);let a=0;s.length>50&&(r<40?s=s.slice(0,50):(a=r-20,s=s.slice(a,r+30)));let c=new Error(`${e} (line ${i}, column ${r})\\n  ${s}\\n`+" ".repeat(r-a+1)+"^\\n");return Object.assign(c,{column:r,excerpt:s,line:i,pos:t}),c}validateChars(e){let{length:t}=e;for(let n=0;n<t;++n){let t=e.codePointAt(n);if(!A.isXmlCodePoint(t))throw this.scanner.reset(-([...e].length-n)),this.error("Invalid character");t>65535&&(n+=1)}}};var k={};Object.defineProperty(k,"__esModule",{value:!0}),function(e){var n=t&&t.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=t&&t.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.parseXml=e.XmlText=e.XmlProcessingInstruction=e.XmlNode=e.XmlElement=e.XmlDocument=e.XmlComment=e.XmlCdata=void 0;const i=r;s(k,e);var o=l;Object.defineProperty(e,"XmlCdata",{enumerable:!0,get:function(){return o.XmlCdata}});var a=P;Object.defineProperty(e,"XmlComment",{enumerable:!0,get:function(){return a.XmlComment}});var c=v;Object.defineProperty(e,"XmlDocument",{enumerable:!0,get:function(){return c.XmlDocument}});var u=x;Object.defineProperty(e,"XmlElement",{enumerable:!0,get:function(){return u.XmlElement}});var d=h;Object.defineProperty(e,"XmlNode",{enumerable:!0,get:function(){return d.XmlNode}});var f=X;Object.defineProperty(e,"XmlProcessingInstruction",{enumerable:!0,get:function(){return f.XmlProcessingInstruction}});var p=m;Object.defineProperty(e,"XmlText",{enumerable:!0,get:function(){return p.XmlText}}),e.parseXml=function(e,t){return new i.Parser(e,t).document}}(n);class $ extends Error{constructor(e){super(e)}}function V(e){const t=e.indexOf(":");return t>-1?e.substr(t+1):e}function Y(e){return e.children[0]}function q(e){return e.name||""}function J(e,t,n=!1){const r=V(t);return e&&Array.isArray(e.children)?e.children.reduce((function e(t,s){return V(q(s))===r&&t.push(s),n&&Array.isArray(s.children)?[...t,...s.children.reduce(e,[])]:t}),[]):[]}function Q(e,t,n=!1){return J(e,t,n)[0]||null}function K(e){return e&&Array.isArray(e.children)?[...e.children.filter((e=>e instanceof n.XmlElement))]:[]}function z(e){const t=e&&Array.isArray(e.children)?e.children.find((e=>"text"===e.type)):null;return t?t.text:""}function H(e,t){return e&&e.attributes[t]||""}class Z{constructor(e,t,n){this.message=e,this.httpStatus=t,this.isCrossOriginRelated=n}}const ee=["utf-8","utf-16","iso-8859-1"];const te=new Map;function ne(e){return function(e,t="GET"){const n=`${t}#${e}`;if(te.has(n))return te.get(n);const r=fetch(e,{method:t}).catch((e=>e)).then((e=>(te.delete(n),e)));return te.set(n,r),r.then((e=>{if(e instanceof Error)throw e;return e}))}(e).catch((()=>fetch(e,{method:"HEAD",mode:"no-cors"}).catch((e=>{throw new Z(`Fetching the document failed either due to network errors or unreachable host, error is: ${e.message}`,0,!1)})).then((()=>{throw new Z("The document could not be fetched due to CORS limitations",0,!0)})))).then((async e=>{if(!e.ok){const t=await e.text();throw new Z(`Received an error with code ${e.status}: ${t}`,e.status,!1)}return function(e,t){const n=t?function(e){const t=/charset=([^;]+)/.exec(e);return t?t[1]:null}(t):null,r=n?[n,...ee]:ee;for(const t of r)try{return new TextDecoder(t,{fatal:!0}).decode(e)}catch(e){}return console.warn("XML document encoding could not be determined, falling back to utf-8."),new TextDecoder("utf-8").decode(e)}(await e.arrayBuffer(),e.headers.get("Content-Type"))})).then((e=>function(e){let t=null;try{t=n.parseXml(e)}catch(e){throw new $(e.message)}return t}(e)))}function re(e,t){const n=e.match(/(https?%3A%2F%2F[^/]+)$/);if(n){const r=n[1],s=re(decodeURIComponent(r),t);return e.replace(r,encodeURIComponent(s))}const r=new URL(e),s=Object.keys(t),i=s.map((e=>e.toLowerCase())),o=[];for(const e of r.searchParams.keys())i.indexOf(e.toLowerCase())>-1&&o.push(e);return o.map((e=>r.searchParams.delete(e))),s.forEach((e=>r.searchParams.set(e,!0===t[e]?"":t[e]))),r.toString()}const se=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function ie(e){if(/^urn:(?:x-)?ogc:def:crs:epsg:/.test(e.toLowerCase())){return`EPSG:${/([0-9]+)$/.exec(e)[1]}`}return e}function oe(e){return Y(e).attributes.version}function ae(e){const t=oe(e);return J(Q(Y(e),"Capability"),"Layer").map((e=>ue(e,t)))}function ce(e){const t=Q(Y(e),"Service"),n=J(Q(t,"KeywordList"),"Keyword").map(z).filter(((e,t,n)=>n.indexOf(e)===t));return{title:z(Q(t,"Title")),name:z(Q(t,"Name")),abstract:z(Q(t,"Abstract")),fees:z(Q(t,"Fees")),constraints:z(Q(t,"AccessConstraints")),keywords:n}}function ue(e,t,n=[],r=[],s=null){const i="1.3.0"===t?"CRS":"SRS",o=J(e,i).map(z),a=o.length>0?o:n,c=J(e,"Style").map(le),u=c.length>0?c:r;function l(e){const n=H(e,i);var r;return(r=n,se.indexOf(ie(r))>-1&&"1.3.0"===t?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map((t=>H(e,t)))}const h=Q(e,"Attribution"),d=null!==h?function(e){const t=H(Q(Q(e,"LogoURL"),"OnlineResource"),"xlink:href"),n=H(Q(e,"OnlineResource"),"xlink:href"),r=z(Q(e,"Title"));return Object.assign(Object.assign(Object.assign({},r&&{title:r}),n&&{url:n}),t&&{logoUrl:t})}(h):s,m=J(e,"Layer").map((e=>ue(e,t,a,u,d)));return Object.assign({name:z(Q(e,"Name")),title:z(Q(e,"Title")),abstract:z(Q(e,"Abstract")),availableCrs:a,styles:u,attribution:d,boundingBoxes:J(e,"BoundingBox").reduce(((e,t)=>Object.assign(Object.assign({},e),{[H(t,i)]:l(t)})),{})},m.length&&{children:m})}function le(e){const t=H(Q(Q(e,"LegendURL"),"OnlineResource"),"xlink:href");return Object.assign({name:z(Q(e,"Name")),title:z(Q(e,"Title"))},t&&{legendUrl:t})}function he(e){return Y(e).attributes.version}function de(e){let t;if(he(e).startsWith("1.0")){const n=Q(Q(Q(Y(e),"Capability"),"Request"),"GetFeature");t=K(Q(n,"ResultFormat")).map(q)}else{const n=J(Q(Y(e),"OperationsMetadata"),"Operation").find((e=>"GetFeature"===H(e,"name"))),r=J(n,"Parameter").find((e=>"outputFormat"===H(e,"name")));t=J(r,"Value",!0).map(z)}return t}function me(e){const t=he(e),n=t.startsWith("1.0")?"Service":"ServiceIdentification",r=t.startsWith("1.0")?"Name":"ServiceType",s=Q(Y(e),n);let i;return i=t.startsWith("1.0")?z(Q(s,"Keywords")).split(",").map((e=>e.trim())):J(Q(s,"Keywords"),"Keyword").map(z),{title:z(Q(s,"Title")),name:z(Q(s,r)),abstract:z(Q(s,"Abstract")),fees:z(Q(s,"Fees")),constraints:z(Q(s,"AccessConstraints")),keywords:i,outputFormats:de(e)}}function fe(e){const t=he(e),n=de(e);return J(Q(Y(e),"FeatureTypeList"),"FeatureType").map((e=>function(e,t,n){const r=t.startsWith("2.")?"CRS":"SRS",s=t.startsWith("1.0")?"SRS":`Default${r}`;function i(){const t=Q(e,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map((e=>H(t,e))).map(parseFloat)}function o(){const t=Q(e,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map((e=>Q(t,e))).map((e=>z(e).split(" "))).reduce(((e,t)=>[...e,...t])).map(parseFloat)}const a=t.startsWith("1.0")?[]:J(e,`Other${r}`).map(z).map(ie),c=t.startsWith("1.0")?[]:J(Q(e,"OutputFormats"),"Format").map(z);return{name:z(Q(e,"Name")),title:z(Q(e,"Title")),abstract:z(Q(e,"Abstract")),defaultCrs:ie(z(Q(e,s))),otherCrs:a,outputFormats:c.length>0?c:n,latLonBoundingBox:t.startsWith("1.0")?i():o()}}(e,t,n)))}function pe(e,t,n){const r=Y(e);let s;if(n.startsWith("2.0"))s=J(r,"member").map((e=>K(e)[0]));else{const e=Q(r,"featureMembers");s=e?K(e):J(r,"featureMember").map((e=>K(e)[0]))}const i="1.0.0"===n?"fid":"gml:id";function o(e,n){switch(t.properties[e]){case"integer":return parseInt(n);case"float":return parseFloat(n);case"boolean":return"true"===n;default:return n}}function a(e){return K(e).filter((e=>V(q(e))in t.properties)).reduce(((e,t)=>{const n=V(q(t));return Object.assign(Object.assign({},e),{[n]:o(n,z(t))})}),{})}return s.map((e=>({id:H(e,i),properties:a(e)})))}function ge(e,t,n,r,s,i,o,a,c,u){const l="2.0.0"===t?"COUNT":"MAXFEATURES",h={SERVICE:"WFS",REQUEST:"GetFeature",VERSION:t,["2.0.0"===t?"TYPENAMES":"TYPENAME"]:n};if(void 0!==r&&(h.OUTPUTFORMAT=r),void 0!==i&&(h.PROPERTYNAME=i.join(",")),o?(h.RESULTTYPE="hits",h[l]="1"):void 0!==s&&(h[l]=s.toString(10)),a&&(h.SRSNAME=a),c){const e=c.join(",");h.BBOX=u?`${e},${u}`:e}return re(e,h)}e("parseWmsCapabilities",globalThis,(({url:e})=>ne(e).then((e=>({info:ce(e),layers:ae(e),version:oe(e)}))))),e("parseWfsCapabilities",globalThis,(({url:e})=>ne(e).then((e=>({info:me(e),featureTypes:fe(e),version:he(e)}))))),e("queryWfsFeatureTypeDetails",globalThis,(({url:e,serviceVersion:t,featureTypeFull:n})=>ne(ge(e,t,n.name,void 0,void 0,Object.keys(n.properties))).then((e=>{return{props:(r=pe(e,n,t),r.reduce(((e,t)=>{for(const n in t.properties){const r=t.properties[n];n in e||(e[n]={uniqueValues:[]});const s=e[n].uniqueValues.find((e=>e.value===r));s?s.count++:e[n].uniqueValues.push({value:r,count:1})}return e}),{}))};var r}))));\n'],{type:"application/javascript"})),{type:"module"})),workerInstance)}exports.enableFallbackWithoutWorker=function enableFallbackWithoutWorker(){fallbackWithoutWorker=!0},exports.parseWmsCapabilities=function parseWmsCapabilities(capabilitiesUrl){return(0,utils_1.sendTaskRequest)("parseWmsCapabilities",getWorkerInstance(),{url:capabilitiesUrl})},exports.parseWfsCapabilities=function parseWfsCapabilities(capabilitiesUrl){return(0,utils_1.sendTaskRequest)("parseWfsCapabilities",getWorkerInstance(),{url:capabilitiesUrl})},exports.queryWfsFeatureTypeDetails=function queryWfsFeatureTypeDetails(capabilitiesUrl,serviceVersion,featureTypeFull){return(0,utils_1.sendTaskRequest)("queryWfsFeatureTypeDetails",getWorkerInstance(),{url:capabilitiesUrl,serviceVersion,featureTypeFull})}},"./node_modules/@camptocamp/ogc-client/dist/worker/utils.js":(__unused_webpack_module,exports,__webpack_require__)=>{var _asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.addTaskHandler=exports.sendTaskRequest=void 0;var id_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/id.js");exports.sendTaskRequest=function sendTaskRequest(taskName,workerInstance,params){return new Promise(((resolve,reject)=>{const requestId=(0,id_1.getUniqueId)(),request={requestId,taskName,params};null===workerInstance?globalThis.dispatchEvent(new CustomEvent("ogc-client.request",{detail:request})):workerInstance.postMessage(request);const handler=response=>{response.requestId===requestId&&(null===workerInstance?globalThis.removeEventListener("message",windowHandler):workerInstance.removeEventListener("message",workerHandler),"error"in response?reject(response.error):resolve(response.response))},windowHandler=event=>handler(event.detail),workerHandler=event=>handler(event.data);null===workerInstance?globalThis.addEventListener("ogc-client.response",windowHandler):workerInstance.addEventListener("message",workerHandler)}))},exports.addTaskHandler=function addTaskHandler(taskName,scope,handler){const useWorker="undefined"!=typeof WorkerGlobalScope,eventHandler=function(){var _ref=_asyncToGenerator((function*(request){if(request.taskName===taskName){let response,error;try{response=yield handler(request.params)}catch(e){error=e}const message={taskName,requestId:request.requestId,...response&&{response},...error&&{error}};useWorker?scope.postMessage(message):scope.dispatchEvent(new CustomEvent("ogc-client.response",{detail:message}))}}));return function eventHandler(_x){return _ref.apply(this,arguments)}}();useWorker?scope.addEventListener("message",(event=>eventHandler(event.data))):scope.addEventListener("ogc-client.request",(event=>eventHandler(event.detail)))}},"./node_modules/@camptocamp/ogc-client/dist/worker/worker.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/worker/utils.js"),http_utils_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/shared/http-utils.js"),wmsCapabilities=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/wms/capabilities.js"),wfsCapabilities=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/wfs/capabilities.js"),featureprops_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/wfs/featureprops.js"),url_1=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/wfs/url.js");(0,utils_1.addTaskHandler)("parseWmsCapabilities",globalThis,(({url})=>(0,http_utils_1.queryXmlDocument)(url).then((xmlDoc=>({info:wmsCapabilities.readInfoFromCapabilities(xmlDoc),layers:wmsCapabilities.readLayersFromCapabilities(xmlDoc),version:wmsCapabilities.readVersionFromCapabilities(xmlDoc)}))))),(0,utils_1.addTaskHandler)("parseWfsCapabilities",globalThis,(({url})=>(0,http_utils_1.queryXmlDocument)(url).then((xmlDoc=>({info:wfsCapabilities.readInfoFromCapabilities(xmlDoc),featureTypes:wfsCapabilities.readFeatureTypesFromCapabilities(xmlDoc),version:wfsCapabilities.readVersionFromCapabilities(xmlDoc)}))))),(0,utils_1.addTaskHandler)("queryWfsFeatureTypeDetails",globalThis,(({url,serviceVersion,featureTypeFull})=>{const getFeatureUrl=(0,url_1.generateGetFeatureUrl)(url,serviceVersion,featureTypeFull.name,void 0,void 0,Object.keys(featureTypeFull.properties));return(0,http_utils_1.queryXmlDocument)(getFeatureUrl).then((getFeatureDoc=>({props:(0,featureprops_1.computeFeaturePropsDetails)((0,featureprops_1.parseFeatureProps)(getFeatureDoc,featureTypeFull,serviceVersion))})))}))},"./node_modules/ol/format/Feature.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{YU:()=>createGeometry,zg:()=>createRenderFeature,ZP:()=>format_Feature,lj:()=>transformExtentWithOptions,fI:()=>transformGeometryWithOptions});var Feature=__webpack_require__("./node_modules/ol/Feature.js"),render_Feature=__webpack_require__("./node_modules/ol/render/Feature.js"),Point=__webpack_require__("./node_modules/ol/geom/Point.js"),LineString=__webpack_require__("./node_modules/ol/geom/LineString.js"),Polygon=__webpack_require__("./node_modules/ol/geom/Polygon.js"),MultiPoint=__webpack_require__("./node_modules/ol/geom/MultiPoint.js"),MultiLineString=__webpack_require__("./node_modules/ol/geom/MultiLineString.js"),MultiPolygon=__webpack_require__("./node_modules/ol/geom/MultiPolygon.js"),EventType=__webpack_require__("./node_modules/ol/events/EventType.js"),Geometry=__webpack_require__("./node_modules/ol/geom/Geometry.js"),ol_extent=__webpack_require__("./node_modules/ol/extent.js"),events=__webpack_require__("./node_modules/ol/events.js");class GeometryCollection extends Geometry.Z{constructor(geometries){super(),this.geometries_=geometries||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(events.bN),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let i=0,ii=this.geometries_.length;i<ii;++i)this.changeEventsKeys_.push((0,events.oL)(this.geometries_[i],EventType.Z.CHANGE,this.changed,this))}clone(){const geometryCollection=new GeometryCollection(null);return geometryCollection.setGeometries(this.geometries_),geometryCollection.applyProperties(this),geometryCollection}closestPointXY(x,y,closestPoint,minSquaredDistance){if(minSquaredDistance<(0,ol_extent.qf)(this.getExtent(),x,y))return minSquaredDistance;const geometries=this.geometries_;for(let i=0,ii=geometries.length;i<ii;++i)minSquaredDistance=geometries[i].closestPointXY(x,y,closestPoint,minSquaredDistance);return minSquaredDistance}containsXY(x,y){const geometries=this.geometries_;for(let i=0,ii=geometries.length;i<ii;++i)if(geometries[i].containsXY(x,y))return!0;return!1}computeExtent(extent){(0,ol_extent.YN)(extent);const geometries=this.geometries_;for(let i=0,ii=geometries.length;i<ii;++i)(0,ol_extent.l7)(extent,geometries[i].getExtent());return extent}getGeometries(){return cloneGeometries(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let geometriesArray=[];const geometries=this.geometries_;for(let i=0,ii=geometries.length;i<ii;++i)geometries[i].getType()===this.getType()?geometriesArray=geometriesArray.concat(geometries[i].getGeometriesArrayRecursive()):geometriesArray.push(geometries[i]);return geometriesArray}getSimplifiedGeometry(squaredTolerance){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),squaredTolerance<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&squaredTolerance<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const simplifiedGeometries=[],geometries=this.geometries_;let simplified=!1;for(let i=0,ii=geometries.length;i<ii;++i){const geometry=geometries[i],simplifiedGeometry=geometry.getSimplifiedGeometry(squaredTolerance);simplifiedGeometries.push(simplifiedGeometry),simplifiedGeometry!==geometry&&(simplified=!0)}if(simplified){const simplifiedGeometryCollection=new GeometryCollection(null);return simplifiedGeometryCollection.setGeometriesArray(simplifiedGeometries),simplifiedGeometryCollection}return this.simplifiedGeometryMaxMinSquaredTolerance=squaredTolerance,this}getType(){return"GeometryCollection"}intersectsExtent(extent){const geometries=this.geometries_;for(let i=0,ii=geometries.length;i<ii;++i)if(geometries[i].intersectsExtent(extent))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(angle,anchor){const geometries=this.geometries_;for(let i=0,ii=geometries.length;i<ii;++i)geometries[i].rotate(angle,anchor);this.changed()}scale(sx,sy,anchor){anchor||(anchor=(0,ol_extent.qg)(this.getExtent()));const geometries=this.geometries_;for(let i=0,ii=geometries.length;i<ii;++i)geometries[i].scale(sx,sy,anchor);this.changed()}setGeometries(geometries){this.setGeometriesArray(cloneGeometries(geometries))}setGeometriesArray(geometries){this.unlistenGeometriesChange_(),this.geometries_=geometries,this.listenGeometriesChange_(),this.changed()}applyTransform(transformFn){const geometries=this.geometries_;for(let i=0,ii=geometries.length;i<ii;++i)geometries[i].applyTransform(transformFn);this.changed()}translate(deltaX,deltaY){const geometries=this.geometries_;for(let i=0,ii=geometries.length;i<ii;++i)geometries[i].translate(deltaX,deltaY);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function cloneGeometries(geometries){const clonedGeometries=[];for(let i=0,ii=geometries.length;i<ii;++i)clonedGeometries.push(geometries[i].clone());return clonedGeometries}const geom_GeometryCollection=GeometryCollection;var util=__webpack_require__("./node_modules/ol/util.js"),proj=__webpack_require__("./node_modules/ol/proj.js"),orient=__webpack_require__("./node_modules/ol/geom/flat/orient.js");const format_Feature=class FeatureFormat{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Feature.Z,this.supportedMediaTypes=null}getReadOptions(source,options){if(options){let dataProjection=options.dataProjection?(0,proj.U2)(options.dataProjection):this.readProjection(source);options.extent&&dataProjection&&"tile-pixels"===dataProjection.getUnits()&&(dataProjection=(0,proj.U2)(dataProjection),dataProjection.setWorldExtent(options.extent)),options={dataProjection,featureProjection:options.featureProjection}}return this.adaptOptions(options)}adaptOptions(options){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},options)}getType(){return(0,util.O3)()}readFeature(source,options){return(0,util.O3)()}readFeatures(source,options){return(0,util.O3)()}readGeometry(source,options){return(0,util.O3)()}readProjection(source){return(0,util.O3)()}writeFeature(feature,options){return(0,util.O3)()}writeFeatures(features,options){return(0,util.O3)()}writeGeometry(geometry,options){return(0,util.O3)()}};function transformGeometryWithOptions(geometry,write,options){const featureProjection=options?(0,proj.U2)(options.featureProjection):null,dataProjection=options?(0,proj.U2)(options.dataProjection):null;let transformed=geometry;if(featureProjection&&dataProjection&&!(0,proj.OP)(featureProjection,dataProjection)){write&&(transformed=geometry.clone());const fromProjection=write?featureProjection:dataProjection,toProjection=write?dataProjection:featureProjection;"tile-pixels"===fromProjection.getUnits()?transformed.transform(fromProjection,toProjection):transformed.applyTransform((0,proj.Ck)(fromProjection,toProjection))}if(write&&options&&void 0!==options.decimals){const power=Math.pow(10,options.decimals),transform=function(coordinates){for(let i=0,ii=coordinates.length;i<ii;++i)coordinates[i]=Math.round(coordinates[i]*power)/power;return coordinates};transformed===geometry&&(transformed=geometry.clone()),transformed.applyTransform(transform)}return transformed}function transformExtentWithOptions(extent,options){const featureProjection=options?(0,proj.U2)(options.featureProjection):null,dataProjection=options?(0,proj.U2)(options.dataProjection):null;return featureProjection&&dataProjection&&!(0,proj.OP)(featureProjection,dataProjection)?(0,proj.$A)(extent,dataProjection,featureProjection):extent}const GeometryConstructor={Point:Point.Z,LineString:LineString.Z,Polygon:Polygon.ZP,MultiPoint:MultiPoint.Z,MultiLineString:MultiLineString.Z,MultiPolygon:MultiPolygon.Z};function createRenderFeature(object,options){const geometry=object.geometry;if(!geometry)return[];if(Array.isArray(geometry))return geometry.map((geometry=>createRenderFeature({...object,geometry}))).flat();const geometryType="MultiPolygon"===geometry.type?"Polygon":geometry.type;if("GeometryCollection"===geometryType||"Circle"===geometryType)throw new Error("Unsupported geometry type: "+geometryType);const stride=geometry.layout.length;return transformGeometryWithOptions(new render_Feature.ZP(geometryType,"Polygon"===geometryType?function orientFlatCoordinates(flatCoordinates,ends,stride){return Array.isArray(ends[0])?((0,orient.Oj)(flatCoordinates,0,ends,stride)||(flatCoordinates=flatCoordinates.slice(),(0,orient.dL)(flatCoordinates,0,ends,stride)),flatCoordinates):((0,orient.$v)(flatCoordinates,0,ends,stride)||(flatCoordinates=flatCoordinates.slice(),(0,orient.zX)(flatCoordinates,0,ends,stride)),flatCoordinates)}(geometry.flatCoordinates,geometry.ends,stride):geometry.flatCoordinates,geometry.ends?.flat(),stride,object.properties||{},object.id).enableSimplifyTransformed(),!1,options)}function createGeometry(object,options){if(!object)return null;if(Array.isArray(object)){const geometries=object.map((geometry=>createGeometry(geometry,options)));return new geom_GeometryCollection(geometries)}return transformGeometryWithOptions(new(0,GeometryConstructor[object.type])(object.flatCoordinates,object.layout,object.ends),!1,options)}},"./node_modules/ol/format/GeoJSON.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>format_GeoJSON});var Feature=__webpack_require__("./node_modules/ol/Feature.js"),format_Feature=__webpack_require__("./node_modules/ol/format/Feature.js"),util=__webpack_require__("./node_modules/ol/util.js");class JSONFeature extends format_Feature.ZP{constructor(){super()}getType(){return"json"}readFeature(source,options){return this.readFeatureFromObject(getObject(source),this.getReadOptions(source,options))}readFeatures(source,options){return this.readFeaturesFromObject(getObject(source),this.getReadOptions(source,options))}readFeatureFromObject(object,options){return(0,util.O3)()}readFeaturesFromObject(object,options){return(0,util.O3)()}readGeometry(source,options){return this.readGeometryFromObject(getObject(source),this.getReadOptions(source,options))}readGeometryFromObject(object,options){return(0,util.O3)()}readProjection(source){return this.readProjectionFromObject(getObject(source))}readProjectionFromObject(object){return(0,util.O3)()}writeFeature(feature,options){return JSON.stringify(this.writeFeatureObject(feature,options))}writeFeatureObject(feature,options){return(0,util.O3)()}writeFeatures(features,options){return JSON.stringify(this.writeFeaturesObject(features,options))}writeFeaturesObject(features,options){return(0,util.O3)()}writeGeometry(geometry,options){return JSON.stringify(this.writeGeometryObject(geometry,options))}writeGeometryObject(geometry,options){return(0,util.O3)()}}function getObject(source){if("string"==typeof source){const object=JSON.parse(source);return object||null}return null!==source?source:null}const format_JSONFeature=JSONFeature;var render_Feature=__webpack_require__("./node_modules/ol/render/Feature.js"),deflate=__webpack_require__("./node_modules/ol/geom/flat/deflate.js"),SimpleGeometry=__webpack_require__("./node_modules/ol/geom/SimpleGeometry.js"),proj=__webpack_require__("./node_modules/ol/proj.js"),obj=__webpack_require__("./node_modules/ol/obj.js");function readGeometryInternal(object,options){if(!object)return null;let geometry;switch(object.type){case"Point":geometry=function readPointGeometry(object){const flatCoordinates=object.coordinates;return{type:"Point",flatCoordinates,layout:(0,SimpleGeometry.Ss)(flatCoordinates.length)}}(object);break;case"LineString":geometry=function readLineStringGeometry(object){const coordinates=object.coordinates,flatCoordinates=coordinates.flat();return{type:"LineString",flatCoordinates,ends:[flatCoordinates.length],layout:(0,SimpleGeometry.Ss)(coordinates[0].length)}}(object);break;case"Polygon":geometry=function readPolygonGeometry(object){const coordinates=object.coordinates,flatCoordinates=[],stride=coordinates[0][0].length,ends=(0,deflate._5)(flatCoordinates,0,coordinates,stride);return{type:"Polygon",flatCoordinates,ends,layout:(0,SimpleGeometry.Ss)(stride)}}(object);break;case"MultiPoint":geometry=function readMultiPointGeometry(object){const coordinates=object.coordinates;return{type:"MultiPoint",flatCoordinates:coordinates.flat(),layout:(0,SimpleGeometry.Ss)(coordinates[0].length)}}(object);break;case"MultiLineString":geometry=function readMultiLineStringGeometry(object){const coordinates=object.coordinates,stride=coordinates[0][0].length,flatCoordinates=[],ends=(0,deflate._5)(flatCoordinates,0,coordinates,stride);return{type:"MultiLineString",flatCoordinates,ends,layout:(0,SimpleGeometry.Ss)(stride)}}(object);break;case"MultiPolygon":geometry=function readMultiPolygonGeometry(object){const coordinates=object.coordinates,flatCoordinates=[],stride=coordinates[0][0][0].length,endss=(0,deflate.QT)(flatCoordinates,0,coordinates,stride);return{type:"MultiPolygon",flatCoordinates,ends:endss,layout:(0,SimpleGeometry.Ss)(stride)}}(object);break;case"GeometryCollection":geometry=function readGeometryCollectionGeometry(object,options){const geometries=object.geometries.map((function(geometry){return readGeometryInternal(geometry,options)}));return geometries}(object);break;default:throw new Error("Unsupported GeoJSON type: "+object.type)}return geometry}function writeGeometry(geometry,options){const type=(geometry=(0,format_Feature.fI)(geometry,!0,options)).getType();let geoJSON;switch(type){case"Point":geoJSON=function writePointGeometry(geometry,options){return{type:"Point",coordinates:geometry.getCoordinates()}}(geometry);break;case"LineString":geoJSON=function writeLineStringGeometry(geometry,options){return{type:"LineString",coordinates:geometry.getCoordinates()}}(geometry);break;case"Polygon":geoJSON=function writePolygonGeometry(geometry,options){let right;options&&(right=options.rightHanded);return{type:"Polygon",coordinates:geometry.getCoordinates(right)}}(geometry,options);break;case"MultiPoint":geoJSON=function writeMultiPointGeometry(geometry,options){return{type:"MultiPoint",coordinates:geometry.getCoordinates()}}(geometry);break;case"MultiLineString":geoJSON=function writeMultiLineStringGeometry(geometry,options){return{type:"MultiLineString",coordinates:geometry.getCoordinates()}}(geometry);break;case"MultiPolygon":geoJSON=function writeMultiPolygonGeometry(geometry,options){let right;options&&(right=options.rightHanded);return{type:"MultiPolygon",coordinates:geometry.getCoordinates(right)}}(geometry,options);break;case"GeometryCollection":geoJSON=function writeGeometryCollectionGeometry(geometry,options){options=Object.assign({},options),delete options.featureProjection;const geometries=geometry.getGeometriesArray().map((function(geometry){return writeGeometry(geometry,options)}));return{type:"GeometryCollection",geometries}}(geometry,options);break;case"Circle":geoJSON={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+type)}return geoJSON}const format_GeoJSON=class GeoJSON extends format_JSONFeature{constructor(options){options=options||{},super(),this.dataProjection=(0,proj.U2)(options.dataProjection?options.dataProjection:"EPSG:4326"),options.featureProjection&&(this.defaultFeatureProjection=(0,proj.U2)(options.featureProjection)),options.featureClass&&(this.featureClass=options.featureClass),this.geometryName_=options.geometryName,this.extractGeometryName_=options.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(object,options){let geoJSONFeature=null;geoJSONFeature="Feature"===object.type?object:{type:"Feature",geometry:object,properties:null};const geometry=readGeometryInternal(geoJSONFeature.geometry,options);if(this.featureClass===render_Feature.ZP)return(0,format_Feature.zg)({geometry,id:geoJSONFeature.id,properties:geoJSONFeature.properties},options);const feature=new Feature.Z;return this.geometryName_?feature.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in geoJSONFeature!==void 0&&feature.setGeometryName(geoJSONFeature.geometry_name),feature.setGeometry((0,format_Feature.YU)(geometry,options)),"id"in geoJSONFeature&&feature.setId(geoJSONFeature.id),geoJSONFeature.properties&&feature.setProperties(geoJSONFeature.properties,!0),feature}readFeaturesFromObject(object,options){let features=null;if("FeatureCollection"===object.type){features=[];const geoJSONFeatures=object.features;for(let i=0,ii=geoJSONFeatures.length;i<ii;++i){const featureObject=this.readFeatureFromObject(geoJSONFeatures[i],options);featureObject&&features.push(featureObject)}}else features=[this.readFeatureFromObject(object,options)];return features.flat()}readGeometryFromObject(object,options){return function readGeometry(object,options){const geometryObject=readGeometryInternal(object,options);return(0,format_Feature.YU)(geometryObject,options)}(object,options)}readProjectionFromObject(object){const crs=object.crs;let projection;if(crs)if("name"==crs.type)projection=(0,proj.U2)(crs.properties.name);else{if("EPSG"!==crs.type)throw new Error("Unknown SRS type");projection=(0,proj.U2)("EPSG:"+crs.properties.code)}else projection=this.dataProjection;return projection}writeFeatureObject(feature,options){options=this.adaptOptions(options);const object={type:"Feature",geometry:null,properties:null},id=feature.getId();if(void 0!==id&&(object.id=id),!feature.hasProperties())return object;const properties=feature.getProperties(),geometry=feature.getGeometry();return geometry&&(object.geometry=writeGeometry(geometry,options),delete properties[feature.getGeometryName()]),(0,obj.x)(properties)||(object.properties=properties),object}writeFeaturesObject(features,options){options=this.adaptOptions(options);const objects=[];for(let i=0,ii=features.length;i<ii;++i)objects.push(this.writeFeatureObject(features[i],options));return{type:"FeatureCollection",features:objects}}writeGeometryObject(geometry,options){return writeGeometry(geometry,this.adaptOptions(options))}}},"./node_modules/ol/format/xsd.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$L:()=>readPositiveInteger,_E:()=>readNonNegativeIntegerString,bZ:()=>writeStringTextNode,fy:()=>readDecimal,s2:()=>readString});var _xml_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/xml.js");function readDecimal(node){return function readDecimalString(string){const m=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(string);if(m)return parseFloat(m[1]);return}((0,_xml_js__WEBPACK_IMPORTED_MODULE_0__.Ve)(node,!1))}function readPositiveInteger(node){return readNonNegativeIntegerString((0,_xml_js__WEBPACK_IMPORTED_MODULE_0__.Ve)(node,!1))}function readNonNegativeIntegerString(string){const m=/^\s*(\d+)\s*$/.exec(string);if(m)return parseInt(m[1],10)}function readString(node){return(0,_xml_js__WEBPACK_IMPORTED_MODULE_0__.Ve)(node,!1).trim()}function writeStringTextNode(node,string){node.appendChild((0,_xml_js__WEBPACK_IMPORTED_MODULE_0__.Me)().createTextNode(string))}},"./node_modules/ol/geom/LineString.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/geom/SimpleGeometry.js"),_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/geom/flat/closest.js"),_extent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/extent.js"),_flat_deflate_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/ol/geom/flat/deflate.js"),_flat_simplify_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/ol/geom/flat/simplify.js"),_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/array.js"),_flat_segments_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/geom/flat/segments.js"),_flat_inflate_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ol/geom/flat/inflate.js"),_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/geom/flat/interpolate.js"),_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/ol/geom/flat/intersectsextent.js"),_flat_length_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/ol/geom/flat/length.js");class LineString extends _SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_0__.ZP{constructor(coordinates,layout){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===layout||Array.isArray(coordinates[0])?this.setCoordinates(coordinates,layout):this.setFlatCoordinates(layout,coordinates)}appendCoordinate(coordinate){(0,_array_js__WEBPACK_IMPORTED_MODULE_1__.l7)(this.flatCoordinates,coordinate),this.changed()}clone(){const lineString=new LineString(this.flatCoordinates.slice(),this.layout);return lineString.applyProperties(this),lineString}closestPointXY(x,y,closestPoint,minSquaredDistance){return minSquaredDistance<(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.qf)(this.getExtent(),x,y)?minSquaredDistance:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__.Bv)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__.H$)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,x,y,closestPoint,minSquaredDistance))}forEachSegment(callback){return(0,_flat_segments_js__WEBPACK_IMPORTED_MODULE_4__.E)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,callback)}getCoordinateAtM(m,extrapolate){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(extrapolate=void 0!==extrapolate&&extrapolate,(0,_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_5__.iJ)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,m,extrapolate))}getCoordinates(){return(0,_flat_inflate_js__WEBPACK_IMPORTED_MODULE_6__.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(fraction,dest){return(0,_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_5__.WW)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,fraction,dest,this.stride)}getLength(){return(0,_flat_length_js__WEBPACK_IMPORTED_MODULE_7__.W)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(squaredTolerance){const simplifiedFlatCoordinates=[];return simplifiedFlatCoordinates.length=(0,_flat_simplify_js__WEBPACK_IMPORTED_MODULE_8__.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,squaredTolerance,simplifiedFlatCoordinates,0),new LineString(simplifiedFlatCoordinates,"XY")}getType(){return"LineString"}intersectsExtent(extent){return(0,_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_9__.Kz)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,extent)}setCoordinates(coordinates,layout){this.setLayout(layout,coordinates,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,_flat_deflate_js__WEBPACK_IMPORTED_MODULE_10__.Sg)(this.flatCoordinates,0,coordinates,this.stride),this.changed()}}const __WEBPACK_DEFAULT_EXPORT__=LineString},"./node_modules/ol/geom/LinearRing.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/geom/SimpleGeometry.js"),_flat_closest_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/geom/flat/closest.js"),_extent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/extent.js"),_flat_deflate_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ol/geom/flat/deflate.js"),_flat_simplify_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/geom/flat/simplify.js"),_flat_inflate_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/geom/flat/inflate.js"),_flat_area_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/geom/flat/area.js");class LinearRing extends _SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_0__.ZP{constructor(coordinates,layout){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===layout||Array.isArray(coordinates[0])?this.setCoordinates(coordinates,layout):this.setFlatCoordinates(layout,coordinates)}clone(){return new LinearRing(this.flatCoordinates.slice(),this.layout)}closestPointXY(x,y,closestPoint,minSquaredDistance){return minSquaredDistance<(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.qf)(this.getExtent(),x,y)?minSquaredDistance:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,_flat_closest_js__WEBPACK_IMPORTED_MODULE_2__.Bv)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,_flat_closest_js__WEBPACK_IMPORTED_MODULE_2__.H$)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,x,y,closestPoint,minSquaredDistance))}getArea(){return(0,_flat_area_js__WEBPACK_IMPORTED_MODULE_3__.QQ)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return(0,_flat_inflate_js__WEBPACK_IMPORTED_MODULE_4__.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(squaredTolerance){const simplifiedFlatCoordinates=[];return simplifiedFlatCoordinates.length=(0,_flat_simplify_js__WEBPACK_IMPORTED_MODULE_5__.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,squaredTolerance,simplifiedFlatCoordinates,0),new LinearRing(simplifiedFlatCoordinates,"XY")}getType(){return"LinearRing"}intersectsExtent(extent){return!1}setCoordinates(coordinates,layout){this.setLayout(layout,coordinates,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,_flat_deflate_js__WEBPACK_IMPORTED_MODULE_6__.Sg)(this.flatCoordinates,0,coordinates,this.stride),this.changed()}}const __WEBPACK_DEFAULT_EXPORT__=LinearRing},"./node_modules/ol/geom/MultiLineString.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _LineString_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ol/geom/LineString.js"),_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/geom/SimpleGeometry.js"),_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/geom/flat/closest.js"),_extent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/extent.js"),_flat_deflate_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/ol/geom/flat/deflate.js"),_flat_simplify_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/ol/geom/flat/simplify.js"),_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/array.js"),_flat_inflate_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/geom/flat/inflate.js"),_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/geom/flat/interpolate.js"),_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/ol/geom/flat/intersectsextent.js");class MultiLineString extends _SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_0__.ZP{constructor(coordinates,layout,ends){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(coordinates[0]))this.setCoordinates(coordinates,layout);else if(void 0!==layout&&ends)this.setFlatCoordinates(layout,coordinates),this.ends_=ends;else{const lineStrings=coordinates,flatCoordinates=[],ends=[];for(let i=0,ii=lineStrings.length;i<ii;++i){const lineString=lineStrings[i];(0,_array_js__WEBPACK_IMPORTED_MODULE_1__.l7)(flatCoordinates,lineString.getFlatCoordinates()),ends.push(flatCoordinates.length)}const layout=0===lineStrings.length?this.getLayout():lineStrings[0].getLayout();this.setFlatCoordinates(layout,flatCoordinates),this.ends_=ends}}appendLineString(lineString){(0,_array_js__WEBPACK_IMPORTED_MODULE_1__.l7)(this.flatCoordinates,lineString.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const multiLineString=new MultiLineString(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return multiLineString.applyProperties(this),multiLineString}closestPointXY(x,y,closestPoint,minSquaredDistance){return minSquaredDistance<(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.qf)(this.getExtent(),x,y)?minSquaredDistance:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__.Af)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__.Xl)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,x,y,closestPoint,minSquaredDistance))}getCoordinateAtM(m,extrapolate,interpolate){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(extrapolate=void 0!==extrapolate&&extrapolate,interpolate=void 0!==interpolate&&interpolate,(0,_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_4__.dG)(this.flatCoordinates,0,this.ends_,this.stride,m,extrapolate,interpolate))}getCoordinates(){return(0,_flat_inflate_js__WEBPACK_IMPORTED_MODULE_5__.o1)(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(index){return index<0||this.ends_.length<=index?null:new _LineString_js__WEBPACK_IMPORTED_MODULE_6__.Z(this.flatCoordinates.slice(0===index?0:this.ends_[index-1],this.ends_[index]),this.layout)}getLineStrings(){const flatCoordinates=this.flatCoordinates,ends=this.ends_,layout=this.layout,lineStrings=[];let offset=0;for(let i=0,ii=ends.length;i<ii;++i){const end=ends[i],lineString=new _LineString_js__WEBPACK_IMPORTED_MODULE_6__.Z(flatCoordinates.slice(offset,end),layout);lineStrings.push(lineString),offset=end}return lineStrings}getFlatMidpoints(){const midpoints=[],flatCoordinates=this.flatCoordinates;let offset=0;const ends=this.ends_,stride=this.stride;for(let i=0,ii=ends.length;i<ii;++i){const end=ends[i],midpoint=(0,_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_4__.WW)(flatCoordinates,offset,end,stride,.5);(0,_array_js__WEBPACK_IMPORTED_MODULE_1__.l7)(midpoints,midpoint),offset=end}return midpoints}getSimplifiedGeometryInternal(squaredTolerance){const simplifiedFlatCoordinates=[],simplifiedEnds=[];return simplifiedFlatCoordinates.length=(0,_flat_simplify_js__WEBPACK_IMPORTED_MODULE_7__.UJ)(this.flatCoordinates,0,this.ends_,this.stride,squaredTolerance,simplifiedFlatCoordinates,0,simplifiedEnds),new MultiLineString(simplifiedFlatCoordinates,"XY",simplifiedEnds)}getType(){return"MultiLineString"}intersectsExtent(extent){return(0,_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_8__.AW)(this.flatCoordinates,0,this.ends_,this.stride,extent)}setCoordinates(coordinates,layout){this.setLayout(layout,coordinates,2),this.flatCoordinates||(this.flatCoordinates=[]);const ends=(0,_flat_deflate_js__WEBPACK_IMPORTED_MODULE_9__._5)(this.flatCoordinates,0,coordinates,this.stride,this.ends_);this.flatCoordinates.length=0===ends.length?0:ends[ends.length-1],this.changed()}}const __WEBPACK_DEFAULT_EXPORT__=MultiLineString},"./node_modules/ol/geom/MultiPoint.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _Point_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/geom/Point.js"),_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/geom/SimpleGeometry.js"),_extent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/extent.js"),_flat_deflate_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ol/geom/flat/deflate.js"),_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/array.js"),_flat_inflate_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/geom/flat/inflate.js"),_math_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/math.js");class MultiPoint extends _SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_0__.ZP{constructor(coordinates,layout){super(),layout&&!Array.isArray(coordinates[0])?this.setFlatCoordinates(layout,coordinates):this.setCoordinates(coordinates,layout)}appendPoint(point){(0,_array_js__WEBPACK_IMPORTED_MODULE_1__.l7)(this.flatCoordinates,point.getFlatCoordinates()),this.changed()}clone(){const multiPoint=new MultiPoint(this.flatCoordinates.slice(),this.layout);return multiPoint.applyProperties(this),multiPoint}closestPointXY(x,y,closestPoint,minSquaredDistance){if(minSquaredDistance<(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.qf)(this.getExtent(),x,y))return minSquaredDistance;const flatCoordinates=this.flatCoordinates,stride=this.stride;for(let i=0,ii=flatCoordinates.length;i<ii;i+=stride){const squaredDistance=(0,_math_js__WEBPACK_IMPORTED_MODULE_3__.bI)(x,y,flatCoordinates[i],flatCoordinates[i+1]);if(squaredDistance<minSquaredDistance){minSquaredDistance=squaredDistance;for(let j=0;j<stride;++j)closestPoint[j]=flatCoordinates[i+j];closestPoint.length=stride}}return minSquaredDistance}getCoordinates(){return(0,_flat_inflate_js__WEBPACK_IMPORTED_MODULE_4__.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(index){const n=this.flatCoordinates.length/this.stride;return index<0||n<=index?null:new _Point_js__WEBPACK_IMPORTED_MODULE_5__.Z(this.flatCoordinates.slice(index*this.stride,(index+1)*this.stride),this.layout)}getPoints(){const flatCoordinates=this.flatCoordinates,layout=this.layout,stride=this.stride,points=[];for(let i=0,ii=flatCoordinates.length;i<ii;i+=stride){const point=new _Point_js__WEBPACK_IMPORTED_MODULE_5__.Z(flatCoordinates.slice(i,i+stride),layout);points.push(point)}return points}getType(){return"MultiPoint"}intersectsExtent(extent){const flatCoordinates=this.flatCoordinates,stride=this.stride;for(let i=0,ii=flatCoordinates.length;i<ii;i+=stride){const x=flatCoordinates[i],y=flatCoordinates[i+1];if((0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.jE)(extent,x,y))return!0}return!1}setCoordinates(coordinates,layout){this.setLayout(layout,coordinates,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,_flat_deflate_js__WEBPACK_IMPORTED_MODULE_6__.Sg)(this.flatCoordinates,0,coordinates,this.stride),this.changed()}}const __WEBPACK_DEFAULT_EXPORT__=MultiPoint},"./node_modules/ol/geom/MultiPolygon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _MultiPoint_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/ol/geom/MultiPoint.js"),_Polygon_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/ol/geom/Polygon.js"),_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/geom/SimpleGeometry.js"),_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/geom/flat/closest.js"),_extent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/extent.js"),_flat_deflate_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/ol/geom/flat/deflate.js"),_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/array.js"),_flat_interiorpoint_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/ol/geom/flat/interiorpoint.js"),_flat_inflate_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/ol/geom/flat/inflate.js"),_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/ol/geom/flat/intersectsextent.js"),_flat_orient_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ol/geom/flat/orient.js"),_flat_area_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/geom/flat/area.js"),_flat_center_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/ol/geom/flat/center.js"),_flat_contains_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/geom/flat/contains.js"),_flat_simplify_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/ol/geom/flat/simplify.js");class MultiPolygon extends _SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_0__.ZP{constructor(coordinates,layout,endss){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!endss&&!Array.isArray(coordinates[0])){const polygons=coordinates,flatCoordinates=[],thisEndss=[];for(let i=0,ii=polygons.length;i<ii;++i){const polygon=polygons[i],offset=flatCoordinates.length,ends=polygon.getEnds();for(let j=0,jj=ends.length;j<jj;++j)ends[j]+=offset;(0,_array_js__WEBPACK_IMPORTED_MODULE_1__.l7)(flatCoordinates,polygon.getFlatCoordinates()),thisEndss.push(ends)}layout=0===polygons.length?this.getLayout():polygons[0].getLayout(),coordinates=flatCoordinates,endss=thisEndss}void 0!==layout&&endss?(this.setFlatCoordinates(layout,coordinates),this.endss_=endss):this.setCoordinates(coordinates,layout)}appendPolygon(polygon){let ends;if(this.flatCoordinates){const offset=this.flatCoordinates.length;(0,_array_js__WEBPACK_IMPORTED_MODULE_1__.l7)(this.flatCoordinates,polygon.getFlatCoordinates()),ends=polygon.getEnds().slice();for(let i=0,ii=ends.length;i<ii;++i)ends[i]+=offset}else this.flatCoordinates=polygon.getFlatCoordinates().slice(),ends=polygon.getEnds().slice(),this.endss_.push();this.endss_.push(ends),this.changed()}clone(){const len=this.endss_.length,newEndss=new Array(len);for(let i=0;i<len;++i)newEndss[i]=this.endss_[i].slice();const multiPolygon=new MultiPolygon(this.flatCoordinates.slice(),this.layout,newEndss);return multiPolygon.applyProperties(this),multiPolygon}closestPointXY(x,y,closestPoint,minSquaredDistance){return minSquaredDistance<(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.qf)(this.getExtent(),x,y)?minSquaredDistance:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__.sD)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__.gI)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,x,y,closestPoint,minSquaredDistance))}containsXY(x,y){return(0,_flat_contains_js__WEBPACK_IMPORTED_MODULE_4__.Zl)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,x,y)}getArea(){return(0,_flat_area_js__WEBPACK_IMPORTED_MODULE_5__.Eu)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(right){let flatCoordinates;return void 0!==right?(flatCoordinates=this.getOrientedFlatCoordinates().slice(),(0,_flat_orient_js__WEBPACK_IMPORTED_MODULE_6__.dL)(flatCoordinates,0,this.endss_,this.stride,right)):flatCoordinates=this.flatCoordinates,(0,_flat_inflate_js__WEBPACK_IMPORTED_MODULE_7__.ug)(flatCoordinates,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const flatCenters=(0,_flat_center_js__WEBPACK_IMPORTED_MODULE_8__.E)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,_flat_interiorpoint_js__WEBPACK_IMPORTED_MODULE_9__.U)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,flatCenters),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new _MultiPoint_js__WEBPACK_IMPORTED_MODULE_10__.Z(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const flatCoordinates=this.flatCoordinates;(0,_flat_orient_js__WEBPACK_IMPORTED_MODULE_6__.Oj)(flatCoordinates,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=flatCoordinates:(this.orientedFlatCoordinates_=flatCoordinates.slice(),this.orientedFlatCoordinates_.length=(0,_flat_orient_js__WEBPACK_IMPORTED_MODULE_6__.dL)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(squaredTolerance){const simplifiedFlatCoordinates=[],simplifiedEndss=[];return simplifiedFlatCoordinates.length=(0,_flat_simplify_js__WEBPACK_IMPORTED_MODULE_11__.Pp)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(squaredTolerance),simplifiedFlatCoordinates,0,simplifiedEndss),new MultiPolygon(simplifiedFlatCoordinates,"XY",simplifiedEndss)}getPolygon(index){if(index<0||this.endss_.length<=index)return null;let offset;if(0===index)offset=0;else{const prevEnds=this.endss_[index-1];offset=prevEnds[prevEnds.length-1]}const ends=this.endss_[index].slice(),end=ends[ends.length-1];if(0!==offset)for(let i=0,ii=ends.length;i<ii;++i)ends[i]-=offset;return new _Polygon_js__WEBPACK_IMPORTED_MODULE_12__.ZP(this.flatCoordinates.slice(offset,end),this.layout,ends)}getPolygons(){const layout=this.layout,flatCoordinates=this.flatCoordinates,endss=this.endss_,polygons=[];let offset=0;for(let i=0,ii=endss.length;i<ii;++i){const ends=endss[i].slice(),end=ends[ends.length-1];if(0!==offset)for(let j=0,jj=ends.length;j<jj;++j)ends[j]-=offset;const polygon=new _Polygon_js__WEBPACK_IMPORTED_MODULE_12__.ZP(flatCoordinates.slice(offset,end),layout,ends);polygons.push(polygon),offset=end}return polygons}getType(){return"MultiPolygon"}intersectsExtent(extent){return(0,_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_13__.oW)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,extent)}setCoordinates(coordinates,layout){this.setLayout(layout,coordinates,3),this.flatCoordinates||(this.flatCoordinates=[]);const endss=(0,_flat_deflate_js__WEBPACK_IMPORTED_MODULE_14__.QT)(this.flatCoordinates,0,coordinates,this.stride,this.endss_);if(0===endss.length)this.flatCoordinates.length=0;else{const lastEnds=endss[endss.length-1];this.flatCoordinates.length=0===lastEnds.length?0:lastEnds[lastEnds.length-1]}this.changed()}}const __WEBPACK_DEFAULT_EXPORT__=MultiPolygon},"./node_modules/ol/geom/Point.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/geom/SimpleGeometry.js"),_extent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/extent.js"),_flat_deflate_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/geom/flat/deflate.js"),_math_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/math.js");class Point extends _SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_0__.ZP{constructor(coordinates,layout){super(),this.setCoordinates(coordinates,layout)}clone(){const point=new Point(this.flatCoordinates.slice(),this.layout);return point.applyProperties(this),point}closestPointXY(x,y,closestPoint,minSquaredDistance){const flatCoordinates=this.flatCoordinates,squaredDistance=(0,_math_js__WEBPACK_IMPORTED_MODULE_1__.bI)(x,y,flatCoordinates[0],flatCoordinates[1]);if(squaredDistance<minSquaredDistance){const stride=this.stride;for(let i=0;i<stride;++i)closestPoint[i]=flatCoordinates[i];return closestPoint.length=stride,squaredDistance}return minSquaredDistance}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(extent){return(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.HK)(this.flatCoordinates,extent)}getType(){return"Point"}intersectsExtent(extent){return(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.jE)(extent,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(coordinates,layout){this.setLayout(layout,coordinates,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,_flat_deflate_js__WEBPACK_IMPORTED_MODULE_3__.IG)(this.flatCoordinates,0,coordinates,this.stride),this.changed()}}const __WEBPACK_DEFAULT_EXPORT__=Point},"./node_modules/ol/geom/Polygon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__,oJ:()=>fromExtent});var _LinearRing_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/ol/geom/LinearRing.js"),_Point_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/ol/geom/Point.js"),_SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/geom/SimpleGeometry.js"),_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/geom/flat/closest.js"),_extent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/extent.js"),_flat_deflate_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/ol/geom/flat/deflate.js"),_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/array.js"),_flat_interiorpoint_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/ol/geom/flat/interiorpoint.js"),_flat_inflate_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/ol/geom/flat/inflate.js"),_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/ol/geom/flat/intersectsextent.js"),_flat_orient_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ol/geom/flat/orient.js"),_flat_area_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/geom/flat/area.js"),_flat_contains_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/geom/flat/contains.js"),_flat_simplify_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/ol/geom/flat/simplify.js");class Polygon extends _SimpleGeometry_js__WEBPACK_IMPORTED_MODULE_0__.ZP{constructor(coordinates,layout,ends){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==layout&&ends?(this.setFlatCoordinates(layout,coordinates),this.ends_=ends):this.setCoordinates(coordinates,layout)}appendLinearRing(linearRing){this.flatCoordinates?(0,_array_js__WEBPACK_IMPORTED_MODULE_1__.l7)(this.flatCoordinates,linearRing.getFlatCoordinates()):this.flatCoordinates=linearRing.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const polygon=new Polygon(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return polygon.applyProperties(this),polygon}closestPointXY(x,y,closestPoint,minSquaredDistance){return minSquaredDistance<(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.qf)(this.getExtent(),x,y)?minSquaredDistance:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__.Af)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,_flat_closest_js__WEBPACK_IMPORTED_MODULE_3__.Xl)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,x,y,closestPoint,minSquaredDistance))}containsXY(x,y){return(0,_flat_contains_js__WEBPACK_IMPORTED_MODULE_4__.wY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,x,y)}getArea(){return(0,_flat_area_js__WEBPACK_IMPORTED_MODULE_5__.KP)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(right){let flatCoordinates;return void 0!==right?(flatCoordinates=this.getOrientedFlatCoordinates().slice(),(0,_flat_orient_js__WEBPACK_IMPORTED_MODULE_6__.zX)(flatCoordinates,0,this.ends_,this.stride,right)):flatCoordinates=this.flatCoordinates,(0,_flat_inflate_js__WEBPACK_IMPORTED_MODULE_7__.o1)(flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const flatCenter=(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.qg)(this.getExtent());this.flatInteriorPoint_=(0,_flat_interiorpoint_js__WEBPACK_IMPORTED_MODULE_8__.X)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,flatCenter,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new _Point_js__WEBPACK_IMPORTED_MODULE_9__.Z(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(index){return index<0||this.ends_.length<=index?null:new _LinearRing_js__WEBPACK_IMPORTED_MODULE_10__.Z(this.flatCoordinates.slice(0===index?0:this.ends_[index-1],this.ends_[index]),this.layout)}getLinearRings(){const layout=this.layout,flatCoordinates=this.flatCoordinates,ends=this.ends_,linearRings=[];let offset=0;for(let i=0,ii=ends.length;i<ii;++i){const end=ends[i],linearRing=new _LinearRing_js__WEBPACK_IMPORTED_MODULE_10__.Z(flatCoordinates.slice(offset,end),layout);linearRings.push(linearRing),offset=end}return linearRings}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const flatCoordinates=this.flatCoordinates;(0,_flat_orient_js__WEBPACK_IMPORTED_MODULE_6__.$v)(flatCoordinates,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=flatCoordinates:(this.orientedFlatCoordinates_=flatCoordinates.slice(),this.orientedFlatCoordinates_.length=(0,_flat_orient_js__WEBPACK_IMPORTED_MODULE_6__.zX)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(squaredTolerance){const simplifiedFlatCoordinates=[],simplifiedEnds=[];return simplifiedFlatCoordinates.length=(0,_flat_simplify_js__WEBPACK_IMPORTED_MODULE_11__.Zh)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(squaredTolerance),simplifiedFlatCoordinates,0,simplifiedEnds),new Polygon(simplifiedFlatCoordinates,"XY",simplifiedEnds)}getType(){return"Polygon"}intersectsExtent(extent){return(0,_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_12__.ac)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,extent)}setCoordinates(coordinates,layout){this.setLayout(layout,coordinates,2),this.flatCoordinates||(this.flatCoordinates=[]);const ends=(0,_flat_deflate_js__WEBPACK_IMPORTED_MODULE_13__._5)(this.flatCoordinates,0,coordinates,this.stride,this.ends_);this.flatCoordinates.length=0===ends.length?0:ends[ends.length-1],this.changed()}}const __WEBPACK_DEFAULT_EXPORT__=Polygon;function fromExtent(extent){if((0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.xb)(extent))throw new Error("Cannot create polygon from empty extent");const minX=extent[0],minY=extent[1],maxX=extent[2],maxY=extent[3],flatCoordinates=[minX,minY,minX,maxY,maxX,maxY,maxX,minY,minX,minY];return new Polygon(flatCoordinates,"XY",[flatCoordinates.length])}},"./node_modules/ol/geom/SimpleGeometry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Kr:()=>transformGeom2D,Ss:()=>getLayoutForStride,ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var _Geometry_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/geom/Geometry.js"),_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/util.js"),_extent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/extent.js"),_flat_transform_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/geom/flat/transform.js");class SimpleGeometry extends _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(extent){return(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,extent)}getCoordinates(){return(0,_util_js__WEBPACK_IMPORTED_MODULE_2__.O3)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(squaredTolerance){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),squaredTolerance<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&squaredTolerance<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const simplifiedGeometry=this.getSimplifiedGeometryInternal(squaredTolerance);return simplifiedGeometry.getFlatCoordinates().length<this.flatCoordinates.length?simplifiedGeometry:(this.simplifiedGeometryMaxMinSquaredTolerance=squaredTolerance,this)}getSimplifiedGeometryInternal(squaredTolerance){return this}getStride(){return this.stride}setFlatCoordinates(layout,flatCoordinates){this.stride=getStrideForLayout(layout),this.layout=layout,this.flatCoordinates=flatCoordinates}setCoordinates(coordinates,layout){(0,_util_js__WEBPACK_IMPORTED_MODULE_2__.O3)()}setLayout(layout,coordinates,nesting){let stride;if(layout)stride=getStrideForLayout(layout);else{for(let i=0;i<nesting;++i){if(0===coordinates.length)return this.layout="XY",void(this.stride=2);coordinates=coordinates[0]}stride=coordinates.length,layout=getLayoutForStride(stride)}this.layout=layout,this.stride=stride}applyTransform(transformFn){this.flatCoordinates&&(transformFn(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(angle,anchor){const flatCoordinates=this.getFlatCoordinates();if(flatCoordinates){const stride=this.getStride();(0,_flat_transform_js__WEBPACK_IMPORTED_MODULE_3__.U1)(flatCoordinates,0,flatCoordinates.length,stride,angle,anchor,flatCoordinates),this.changed()}}scale(sx,sy,anchor){void 0===sy&&(sy=sx),anchor||(anchor=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.qg)(this.getExtent()));const flatCoordinates=this.getFlatCoordinates();if(flatCoordinates){const stride=this.getStride();(0,_flat_transform_js__WEBPACK_IMPORTED_MODULE_3__.bA)(flatCoordinates,0,flatCoordinates.length,stride,sx,sy,anchor,flatCoordinates),this.changed()}}translate(deltaX,deltaY){const flatCoordinates=this.getFlatCoordinates();if(flatCoordinates){const stride=this.getStride();(0,_flat_transform_js__WEBPACK_IMPORTED_MODULE_3__.Iu)(flatCoordinates,0,flatCoordinates.length,stride,deltaX,deltaY,flatCoordinates),this.changed()}}}function getLayoutForStride(stride){let layout;return 2==stride?layout="XY":3==stride?layout="XYZ":4==stride&&(layout="XYZM"),layout}function getStrideForLayout(layout){let stride;return"XY"==layout?stride=2:"XYZ"==layout||"XYM"==layout?stride=3:"XYZM"==layout&&(stride=4),stride}function transformGeom2D(simpleGeometry,transform,dest){const flatCoordinates=simpleGeometry.getFlatCoordinates();if(!flatCoordinates)return null;const stride=simpleGeometry.getStride();return(0,_flat_transform_js__WEBPACK_IMPORTED_MODULE_3__.vT)(flatCoordinates,0,flatCoordinates.length,stride,transform,dest)}const __WEBPACK_DEFAULT_EXPORT__=SimpleGeometry},"./node_modules/ol/geom/flat/area.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function linearRing(flatCoordinates,offset,end,stride){let twiceArea=0,x1=flatCoordinates[end-stride],y1=flatCoordinates[end-stride+1];for(;offset<end;offset+=stride){const x2=flatCoordinates[offset],y2=flatCoordinates[offset+1];twiceArea+=y1*x2-x1*y2,x1=x2,y1=y2}return twiceArea/2}function linearRings(flatCoordinates,offset,ends,stride){let area=0;for(let i=0,ii=ends.length;i<ii;++i){const end=ends[i];area+=linearRing(flatCoordinates,offset,end,stride),offset=end}return area}function linearRingss(flatCoordinates,offset,endss,stride){let area=0;for(let i=0,ii=endss.length;i<ii;++i){const ends=endss[i];area+=linearRings(flatCoordinates,offset,ends,stride),offset=ends[ends.length-1]}return area}__webpack_require__.d(__webpack_exports__,{Eu:()=>linearRingss,KP:()=>linearRings,QQ:()=>linearRing})},"./node_modules/ol/geom/flat/center.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>linearRingss});var _extent_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/extent.js");function linearRingss(flatCoordinates,offset,endss,stride){const flatCenters=[];let extent=(0,_extent_js__WEBPACK_IMPORTED_MODULE_0__.lJ)();for(let i=0,ii=endss.length;i<ii;++i){const ends=endss[i];extent=(0,_extent_js__WEBPACK_IMPORTED_MODULE_0__.GN)(flatCoordinates,offset,ends[0],stride),flatCenters.push((extent[0]+extent[2])/2,(extent[1]+extent[3])/2),offset=ends[ends.length-1]}return flatCenters}},"./node_modules/ol/geom/flat/closest.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Af:()=>arrayMaxSquaredDelta,Bv:()=>maxSquaredDelta,H$:()=>assignClosestPoint,Xl:()=>assignClosestArrayPoint,gI:()=>assignClosestMultiArrayPoint,sD:()=>multiArrayMaxSquaredDelta});var _math_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/math.js");function assignClosest(flatCoordinates,offset1,offset2,stride,x,y,closestPoint){const x1=flatCoordinates[offset1],y1=flatCoordinates[offset1+1],dx=flatCoordinates[offset2]-x1,dy=flatCoordinates[offset2+1]-y1;let offset;if(0===dx&&0===dy)offset=offset1;else{const t=((x-x1)*dx+(y-y1)*dy)/(dx*dx+dy*dy);if(t>1)offset=offset2;else{if(t>0){for(let i=0;i<stride;++i)closestPoint[i]=(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.t7)(flatCoordinates[offset1+i],flatCoordinates[offset2+i],t);return void(closestPoint.length=stride)}offset=offset1}}for(let i=0;i<stride;++i)closestPoint[i]=flatCoordinates[offset+i];closestPoint.length=stride}function maxSquaredDelta(flatCoordinates,offset,end,stride,max){let x1=flatCoordinates[offset],y1=flatCoordinates[offset+1];for(offset+=stride;offset<end;offset+=stride){const x2=flatCoordinates[offset],y2=flatCoordinates[offset+1],squaredDelta=(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.bI)(x1,y1,x2,y2);squaredDelta>max&&(max=squaredDelta),x1=x2,y1=y2}return max}function arrayMaxSquaredDelta(flatCoordinates,offset,ends,stride,max){for(let i=0,ii=ends.length;i<ii;++i){const end=ends[i];max=maxSquaredDelta(flatCoordinates,offset,end,stride,max),offset=end}return max}function multiArrayMaxSquaredDelta(flatCoordinates,offset,endss,stride,max){for(let i=0,ii=endss.length;i<ii;++i){const ends=endss[i];max=arrayMaxSquaredDelta(flatCoordinates,offset,ends,stride,max),offset=ends[ends.length-1]}return max}function assignClosestPoint(flatCoordinates,offset,end,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,tmpPoint){if(offset==end)return minSquaredDistance;let i,squaredDistance;if(0===maxDelta){if(squaredDistance=(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.bI)(x,y,flatCoordinates[offset],flatCoordinates[offset+1]),squaredDistance<minSquaredDistance){for(i=0;i<stride;++i)closestPoint[i]=flatCoordinates[offset+i];return closestPoint.length=stride,squaredDistance}return minSquaredDistance}tmpPoint=tmpPoint||[NaN,NaN];let index=offset+stride;for(;index<end;)if(assignClosest(flatCoordinates,index-stride,index,stride,x,y,tmpPoint),squaredDistance=(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.bI)(x,y,tmpPoint[0],tmpPoint[1]),squaredDistance<minSquaredDistance){for(minSquaredDistance=squaredDistance,i=0;i<stride;++i)closestPoint[i]=tmpPoint[i];closestPoint.length=stride,index+=stride}else index+=stride*Math.max((Math.sqrt(squaredDistance)-Math.sqrt(minSquaredDistance))/maxDelta|0,1);if(isRing&&(assignClosest(flatCoordinates,end-stride,offset,stride,x,y,tmpPoint),squaredDistance=(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.bI)(x,y,tmpPoint[0],tmpPoint[1]),squaredDistance<minSquaredDistance)){for(minSquaredDistance=squaredDistance,i=0;i<stride;++i)closestPoint[i]=tmpPoint[i];closestPoint.length=stride}return minSquaredDistance}function assignClosestArrayPoint(flatCoordinates,offset,ends,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,tmpPoint){tmpPoint=tmpPoint||[NaN,NaN];for(let i=0,ii=ends.length;i<ii;++i){const end=ends[i];minSquaredDistance=assignClosestPoint(flatCoordinates,offset,end,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,tmpPoint),offset=end}return minSquaredDistance}function assignClosestMultiArrayPoint(flatCoordinates,offset,endss,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,tmpPoint){tmpPoint=tmpPoint||[NaN,NaN];for(let i=0,ii=endss.length;i<ii;++i){const ends=endss[i];minSquaredDistance=assignClosestArrayPoint(flatCoordinates,offset,ends,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,tmpPoint),offset=ends[ends.length-1]}return minSquaredDistance}},"./node_modules/ol/geom/flat/contains.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{TG:()=>linearRingContainsXY,Zl:()=>linearRingssContainsXY,uG:()=>linearRingContainsExtent,wY:()=>linearRingsContainsXY});var _extent_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/extent.js");function linearRingContainsExtent(flatCoordinates,offset,end,stride,extent){return!(0,_extent_js__WEBPACK_IMPORTED_MODULE_0__.H6)(extent,(function(coordinate){return!linearRingContainsXY(flatCoordinates,offset,end,stride,coordinate[0],coordinate[1])}))}function linearRingContainsXY(flatCoordinates,offset,end,stride,x,y){let wn=0,x1=flatCoordinates[end-stride],y1=flatCoordinates[end-stride+1];for(;offset<end;offset+=stride){const x2=flatCoordinates[offset],y2=flatCoordinates[offset+1];y1<=y?y2>y&&(x2-x1)*(y-y1)-(x-x1)*(y2-y1)>0&&wn++:y2<=y&&(x2-x1)*(y-y1)-(x-x1)*(y2-y1)<0&&wn--,x1=x2,y1=y2}return 0!==wn}function linearRingsContainsXY(flatCoordinates,offset,ends,stride,x,y){if(0===ends.length)return!1;if(!linearRingContainsXY(flatCoordinates,offset,ends[0],stride,x,y))return!1;for(let i=1,ii=ends.length;i<ii;++i)if(linearRingContainsXY(flatCoordinates,ends[i-1],ends[i],stride,x,y))return!1;return!0}function linearRingssContainsXY(flatCoordinates,offset,endss,stride,x,y){if(0===endss.length)return!1;for(let i=0,ii=endss.length;i<ii;++i){const ends=endss[i];if(linearRingsContainsXY(flatCoordinates,offset,ends,stride,x,y))return!0;offset=ends[ends.length-1]}return!1}},"./node_modules/ol/geom/flat/deflate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function deflateCoordinate(flatCoordinates,offset,coordinate,stride){for(let i=0,ii=coordinate.length;i<ii;++i)flatCoordinates[offset++]=coordinate[i];return offset}function deflateCoordinates(flatCoordinates,offset,coordinates,stride){for(let i=0,ii=coordinates.length;i<ii;++i){const coordinate=coordinates[i];for(let j=0;j<stride;++j)flatCoordinates[offset++]=coordinate[j]}return offset}function deflateCoordinatesArray(flatCoordinates,offset,coordinatess,stride,ends){ends=ends||[];let i=0;for(let j=0,jj=coordinatess.length;j<jj;++j){const end=deflateCoordinates(flatCoordinates,offset,coordinatess[j],stride);ends[i++]=end,offset=end}return ends.length=i,ends}function deflateMultiCoordinatesArray(flatCoordinates,offset,coordinatesss,stride,endss){endss=endss||[];let i=0;for(let j=0,jj=coordinatesss.length;j<jj;++j){const ends=deflateCoordinatesArray(flatCoordinates,offset,coordinatesss[j],stride,endss[i]);0===ends.length&&(ends[0]=offset),endss[i++]=ends,offset=ends[ends.length-1]}return endss.length=i,endss}__webpack_require__.d(__webpack_exports__,{IG:()=>deflateCoordinate,QT:()=>deflateMultiCoordinatesArray,Sg:()=>deflateCoordinates,_5:()=>deflateCoordinatesArray})},"./node_modules/ol/geom/flat/inflate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function inflateCoordinates(flatCoordinates,offset,end,stride,coordinates){coordinates=void 0!==coordinates?coordinates:[];let i=0;for(let j=offset;j<end;j+=stride)coordinates[i++]=flatCoordinates.slice(j,j+stride);return coordinates.length=i,coordinates}function inflateCoordinatesArray(flatCoordinates,offset,ends,stride,coordinatess){coordinatess=void 0!==coordinatess?coordinatess:[];let i=0;for(let j=0,jj=ends.length;j<jj;++j){const end=ends[j];coordinatess[i++]=inflateCoordinates(flatCoordinates,offset,end,stride,coordinatess[i]),offset=end}return coordinatess.length=i,coordinatess}function inflateMultiCoordinatesArray(flatCoordinates,offset,endss,stride,coordinatesss){coordinatesss=void 0!==coordinatesss?coordinatesss:[];let i=0;for(let j=0,jj=endss.length;j<jj;++j){const ends=endss[j];coordinatesss[i++]=1===ends.length&&ends[0]===offset?[]:inflateCoordinatesArray(flatCoordinates,offset,ends,stride,coordinatesss[i]),offset=ends[ends.length-1]}return coordinatesss.length=i,coordinatesss}__webpack_require__.d(__webpack_exports__,{Ml:()=>inflateCoordinates,o1:()=>inflateCoordinatesArray,ug:()=>inflateMultiCoordinatesArray})},"./node_modules/ol/geom/flat/interiorpoint.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>getInteriorPointsOfMultiArray,X:()=>getInteriorPointOfArray});var _array_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/array.js"),_contains_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/geom/flat/contains.js");function getInteriorPointOfArray(flatCoordinates,offset,ends,stride,flatCenters,flatCentersOffset,dest){let i,ii,x,x1,x2,y1,y2;const y=flatCenters[flatCentersOffset+1],intersections=[];for(let r=0,rr=ends.length;r<rr;++r){const end=ends[r];for(x1=flatCoordinates[end-stride],y1=flatCoordinates[end-stride+1],i=offset;i<end;i+=stride)x2=flatCoordinates[i],y2=flatCoordinates[i+1],(y<=y1&&y2<=y||y1<=y&&y<=y2)&&(x=(y-y1)/(y2-y1)*(x2-x1)+x1,intersections.push(x)),x1=x2,y1=y2}let pointX=NaN,maxSegmentLength=-1/0;for(intersections.sort(_array_js__WEBPACK_IMPORTED_MODULE_0__.j2),x1=intersections[0],i=1,ii=intersections.length;i<ii;++i){x2=intersections[i];const segmentLength=Math.abs(x2-x1);segmentLength>maxSegmentLength&&(x=(x1+x2)/2,(0,_contains_js__WEBPACK_IMPORTED_MODULE_1__.wY)(flatCoordinates,offset,ends,stride,x,y)&&(pointX=x,maxSegmentLength=segmentLength)),x1=x2}return isNaN(pointX)&&(pointX=flatCenters[flatCentersOffset]),dest?(dest.push(pointX,y,maxSegmentLength),dest):[pointX,y,maxSegmentLength]}function getInteriorPointsOfMultiArray(flatCoordinates,offset,endss,stride,flatCenters){let interiorPoints=[];for(let i=0,ii=endss.length;i<ii;++i){const ends=endss[i];interiorPoints=getInteriorPointOfArray(flatCoordinates,offset,ends,stride,flatCenters,2*i,interiorPoints),offset=ends[ends.length-1]}return interiorPoints}},"./node_modules/ol/geom/flat/interpolate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{WW:()=>interpolatePoint,dG:()=>lineStringsCoordinateAtM,iJ:()=>lineStringCoordinateAtM});var _array_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/array.js"),_math_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/math.js");function interpolatePoint(flatCoordinates,offset,end,stride,fraction,dest,dimension){let o,t;const n=(end-offset)/stride;if(1===n)o=offset;else if(2===n)o=offset,t=fraction;else if(0!==n){let x1=flatCoordinates[offset],y1=flatCoordinates[offset+1],length=0;const cumulativeLengths=[0];for(let i=offset+stride;i<end;i+=stride){const x2=flatCoordinates[i],y2=flatCoordinates[i+1];length+=Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1)),cumulativeLengths.push(length),x1=x2,y1=y2}const target=fraction*length,index=(0,_array_js__WEBPACK_IMPORTED_MODULE_0__.ry)(cumulativeLengths,target);index<0?(t=(target-cumulativeLengths[-index-2])/(cumulativeLengths[-index-1]-cumulativeLengths[-index-2]),o=offset+(-index-2)*stride):o=offset+index*stride}dimension=dimension>1?dimension:2,dest=dest||new Array(dimension);for(let i=0;i<dimension;++i)dest[i]=void 0===o?NaN:void 0===t?flatCoordinates[o+i]:(0,_math_js__WEBPACK_IMPORTED_MODULE_1__.t7)(flatCoordinates[o+i],flatCoordinates[o+stride+i],t);return dest}function lineStringCoordinateAtM(flatCoordinates,offset,end,stride,m,extrapolate){if(end==offset)return null;let coordinate;if(m<flatCoordinates[offset+stride-1])return extrapolate?(coordinate=flatCoordinates.slice(offset,offset+stride),coordinate[stride-1]=m,coordinate):null;if(flatCoordinates[end-1]<m)return extrapolate?(coordinate=flatCoordinates.slice(end-stride,end),coordinate[stride-1]=m,coordinate):null;if(m==flatCoordinates[offset+stride-1])return flatCoordinates.slice(offset,offset+stride);let lo=offset/stride,hi=end/stride;for(;lo<hi;){const mid=lo+hi>>1;m<flatCoordinates[(mid+1)*stride-1]?hi=mid:lo=mid+1}const m0=flatCoordinates[lo*stride-1];if(m==m0)return flatCoordinates.slice((lo-1)*stride,(lo-1)*stride+stride);const t=(m-m0)/(flatCoordinates[(lo+1)*stride-1]-m0);coordinate=[];for(let i=0;i<stride-1;++i)coordinate.push((0,_math_js__WEBPACK_IMPORTED_MODULE_1__.t7)(flatCoordinates[(lo-1)*stride+i],flatCoordinates[lo*stride+i],t));return coordinate.push(m),coordinate}function lineStringsCoordinateAtM(flatCoordinates,offset,ends,stride,m,extrapolate,interpolate){if(interpolate)return lineStringCoordinateAtM(flatCoordinates,offset,ends[ends.length-1],stride,m,extrapolate);let coordinate;if(m<flatCoordinates[stride-1])return extrapolate?(coordinate=flatCoordinates.slice(0,stride),coordinate[stride-1]=m,coordinate):null;if(flatCoordinates[flatCoordinates.length-1]<m)return extrapolate?(coordinate=flatCoordinates.slice(flatCoordinates.length-stride),coordinate[stride-1]=m,coordinate):null;for(let i=0,ii=ends.length;i<ii;++i){const end=ends[i];if(offset!=end){if(m<flatCoordinates[offset+stride-1])return null;if(m<=flatCoordinates[end-1])return lineStringCoordinateAtM(flatCoordinates,offset,end,stride,m,!1);offset=end}}return null}},"./node_modules/ol/geom/flat/intersectsextent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AW:()=>intersectsLineStringArray,Kz:()=>intersectsLineString,ac:()=>intersectsLinearRingArray,mV:()=>intersectsLinearRing,oW:()=>intersectsLinearRingMultiArray});var _extent_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/extent.js"),_segments_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/geom/flat/segments.js"),_contains_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/geom/flat/contains.js");function intersectsLineString(flatCoordinates,offset,end,stride,extent){const coordinatesExtent=(0,_extent_js__WEBPACK_IMPORTED_MODULE_0__.qP)((0,_extent_js__WEBPACK_IMPORTED_MODULE_0__.lJ)(),flatCoordinates,offset,end,stride);return!!(0,_extent_js__WEBPACK_IMPORTED_MODULE_0__.kK)(extent,coordinatesExtent)&&(!!(0,_extent_js__WEBPACK_IMPORTED_MODULE_0__.r4)(extent,coordinatesExtent)||(coordinatesExtent[0]>=extent[0]&&coordinatesExtent[2]<=extent[2]||(coordinatesExtent[1]>=extent[1]&&coordinatesExtent[3]<=extent[3]||(0,_segments_js__WEBPACK_IMPORTED_MODULE_1__.E)(flatCoordinates,offset,end,stride,(function(point1,point2){return(0,_extent_js__WEBPACK_IMPORTED_MODULE_0__.I7)(extent,point1,point2)})))))}function intersectsLineStringArray(flatCoordinates,offset,ends,stride,extent){for(let i=0,ii=ends.length;i<ii;++i){if(intersectsLineString(flatCoordinates,offset,ends[i],stride,extent))return!0;offset=ends[i]}return!1}function intersectsLinearRing(flatCoordinates,offset,end,stride,extent){return!!intersectsLineString(flatCoordinates,offset,end,stride,extent)||(!!(0,_contains_js__WEBPACK_IMPORTED_MODULE_2__.TG)(flatCoordinates,offset,end,stride,extent[0],extent[1])||(!!(0,_contains_js__WEBPACK_IMPORTED_MODULE_2__.TG)(flatCoordinates,offset,end,stride,extent[0],extent[3])||(!!(0,_contains_js__WEBPACK_IMPORTED_MODULE_2__.TG)(flatCoordinates,offset,end,stride,extent[2],extent[1])||!!(0,_contains_js__WEBPACK_IMPORTED_MODULE_2__.TG)(flatCoordinates,offset,end,stride,extent[2],extent[3]))))}function intersectsLinearRingArray(flatCoordinates,offset,ends,stride,extent){if(!intersectsLinearRing(flatCoordinates,offset,ends[0],stride,extent))return!1;if(1===ends.length)return!0;for(let i=1,ii=ends.length;i<ii;++i)if((0,_contains_js__WEBPACK_IMPORTED_MODULE_2__.uG)(flatCoordinates,ends[i-1],ends[i],stride,extent)&&!intersectsLineString(flatCoordinates,ends[i-1],ends[i],stride,extent))return!1;return!0}function intersectsLinearRingMultiArray(flatCoordinates,offset,endss,stride,extent){for(let i=0,ii=endss.length;i<ii;++i){const ends=endss[i];if(intersectsLinearRingArray(flatCoordinates,offset,ends,stride,extent))return!0;offset=ends[ends.length-1]}return!1}},"./node_modules/ol/geom/flat/length.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function lineStringLength(flatCoordinates,offset,end,stride){let x1=flatCoordinates[offset],y1=flatCoordinates[offset+1],length=0;for(let i=offset+stride;i<end;i+=stride){const x2=flatCoordinates[i],y2=flatCoordinates[i+1];length+=Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1)),x1=x2,y1=y2}return length}__webpack_require__.d(__webpack_exports__,{W:()=>lineStringLength})},"./node_modules/ol/geom/flat/orient.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function coordinates(flatCoordinates,offset,end,stride){for(;offset<end-stride;){for(let i=0;i<stride;++i){const tmp=flatCoordinates[offset+i];flatCoordinates[offset+i]=flatCoordinates[end-stride+i],flatCoordinates[end-stride+i]=tmp}offset+=stride,end-=stride}}function linearRingIsClockwise(flatCoordinates,offset,end,stride){let edge=0,x1=flatCoordinates[end-stride],y1=flatCoordinates[end-stride+1];for(;offset<end;offset+=stride){const x2=flatCoordinates[offset],y2=flatCoordinates[offset+1];edge+=(x2-x1)*(y2+y1),x1=x2,y1=y2}return 0===edge?void 0:edge>0}function linearRingsAreOriented(flatCoordinates,offset,ends,stride,right){right=void 0!==right&&right;for(let i=0,ii=ends.length;i<ii;++i){const end=ends[i],isClockwise=linearRingIsClockwise(flatCoordinates,offset,end,stride);if(0===i){if(right&&isClockwise||!right&&!isClockwise)return!1}else if(right&&!isClockwise||!right&&isClockwise)return!1;offset=end}return!0}function linearRingssAreOriented(flatCoordinates,offset,endss,stride,right){for(let i=0,ii=endss.length;i<ii;++i){const ends=endss[i];if(!linearRingsAreOriented(flatCoordinates,offset,ends,stride,right))return!1;ends.length&&(offset=ends[ends.length-1])}return!0}function orientLinearRings(flatCoordinates,offset,ends,stride,right){right=void 0!==right&&right;for(let i=0,ii=ends.length;i<ii;++i){const end=ends[i],isClockwise=linearRingIsClockwise(flatCoordinates,offset,end,stride);(0===i?right&&isClockwise||!right&&!isClockwise:right&&!isClockwise||!right&&isClockwise)&&coordinates(flatCoordinates,offset,end,stride),offset=end}return offset}function orientLinearRingsArray(flatCoordinates,offset,endss,stride,right){for(let i=0,ii=endss.length;i<ii;++i)offset=orientLinearRings(flatCoordinates,offset,endss[i],stride,right);return offset}function inflateEnds(flatCoordinates,ends){const endss=[];let startOrientation,offset=0,prevEndIndex=0;for(let i=0,ii=ends.length;i<ii;++i){const end=ends[i],orientation=linearRingIsClockwise(flatCoordinates,offset,end,2);if(void 0===startOrientation&&(startOrientation=orientation),orientation===startOrientation)endss.push(ends.slice(prevEndIndex,i+1));else{if(0===endss.length)continue;endss[endss.length-1].push(ends[prevEndIndex])}prevEndIndex=i+1,offset=end}return endss}__webpack_require__.d(__webpack_exports__,{Q3:()=>inflateEnds,$v:()=>linearRingsAreOriented,Oj:()=>linearRingssAreOriented,zX:()=>orientLinearRings,dL:()=>orientLinearRingsArray})},"./node_modules/ol/geom/flat/segments.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function forEach(flatCoordinates,offset,end,stride,callback){let ret;for(offset+=stride;offset<end;offset+=stride)if(ret=callback(flatCoordinates.slice(offset-stride,offset),flatCoordinates.slice(offset,offset+stride)),ret)return ret;return!1}__webpack_require__.d(__webpack_exports__,{E:()=>forEach})},"./node_modules/ol/geom/flat/simplify.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Pp:()=>quantizeMultiArray,UJ:()=>douglasPeuckerArray,Zh:()=>quantizeArray,dt:()=>douglasPeucker,uZ:()=>snap});var _math_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/math.js");function douglasPeucker(flatCoordinates,offset,end,stride,squaredTolerance,simplifiedFlatCoordinates,simplifiedOffset){const n=(end-offset)/stride;if(n<3){for(;offset<end;offset+=stride)simplifiedFlatCoordinates[simplifiedOffset++]=flatCoordinates[offset],simplifiedFlatCoordinates[simplifiedOffset++]=flatCoordinates[offset+1];return simplifiedOffset}const markers=new Array(n);markers[0]=1,markers[n-1]=1;const stack=[offset,end-stride];let index=0;for(;stack.length>0;){const last=stack.pop(),first=stack.pop();let maxSquaredDistance=0;const x1=flatCoordinates[first],y1=flatCoordinates[first+1],x2=flatCoordinates[last],y2=flatCoordinates[last+1];for(let i=first+stride;i<last;i+=stride){const x=flatCoordinates[i],y=flatCoordinates[i+1],squaredDistance=(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.rU)(x,y,x1,y1,x2,y2);squaredDistance>maxSquaredDistance&&(index=i,maxSquaredDistance=squaredDistance)}maxSquaredDistance>squaredTolerance&&(markers[(index-offset)/stride]=1,first+stride<index&&stack.push(first,index),index+stride<last&&stack.push(index,last))}for(let i=0;i<n;++i)markers[i]&&(simplifiedFlatCoordinates[simplifiedOffset++]=flatCoordinates[offset+i*stride],simplifiedFlatCoordinates[simplifiedOffset++]=flatCoordinates[offset+i*stride+1]);return simplifiedOffset}function douglasPeuckerArray(flatCoordinates,offset,ends,stride,squaredTolerance,simplifiedFlatCoordinates,simplifiedOffset,simplifiedEnds){for(let i=0,ii=ends.length;i<ii;++i){const end=ends[i];simplifiedOffset=douglasPeucker(flatCoordinates,offset,end,stride,squaredTolerance,simplifiedFlatCoordinates,simplifiedOffset),simplifiedEnds.push(simplifiedOffset),offset=end}return simplifiedOffset}function snap(value,tolerance){return tolerance*Math.round(value/tolerance)}function quantize(flatCoordinates,offset,end,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset){if(offset==end)return simplifiedOffset;let x2,y2,x1=snap(flatCoordinates[offset],tolerance),y1=snap(flatCoordinates[offset+1],tolerance);offset+=stride,simplifiedFlatCoordinates[simplifiedOffset++]=x1,simplifiedFlatCoordinates[simplifiedOffset++]=y1;do{if(x2=snap(flatCoordinates[offset],tolerance),y2=snap(flatCoordinates[offset+1],tolerance),(offset+=stride)==end)return simplifiedFlatCoordinates[simplifiedOffset++]=x2,simplifiedFlatCoordinates[simplifiedOffset++]=y2,simplifiedOffset}while(x2==x1&&y2==y1);for(;offset<end;){const x3=snap(flatCoordinates[offset],tolerance),y3=snap(flatCoordinates[offset+1],tolerance);if(offset+=stride,x3==x2&&y3==y2)continue;const dx1=x2-x1,dy1=y2-y1,dx2=x3-x1,dy2=y3-y1;dx1*dy2==dy1*dx2&&(dx1<0&&dx2<dx1||dx1==dx2||dx1>0&&dx2>dx1)&&(dy1<0&&dy2<dy1||dy1==dy2||dy1>0&&dy2>dy1)?(x2=x3,y2=y3):(simplifiedFlatCoordinates[simplifiedOffset++]=x2,simplifiedFlatCoordinates[simplifiedOffset++]=y2,x1=x2,y1=y2,x2=x3,y2=y3)}return simplifiedFlatCoordinates[simplifiedOffset++]=x2,simplifiedFlatCoordinates[simplifiedOffset++]=y2,simplifiedOffset}function quantizeArray(flatCoordinates,offset,ends,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset,simplifiedEnds){for(let i=0,ii=ends.length;i<ii;++i){const end=ends[i];simplifiedOffset=quantize(flatCoordinates,offset,end,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset),simplifiedEnds.push(simplifiedOffset),offset=end}return simplifiedOffset}function quantizeMultiArray(flatCoordinates,offset,endss,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset,simplifiedEndss){for(let i=0,ii=endss.length;i<ii;++i){const ends=endss[i],simplifiedEnds=[];simplifiedOffset=quantizeArray(flatCoordinates,offset,ends,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset,simplifiedEnds),simplifiedEndss.push(simplifiedEnds),offset=ends[ends.length-1]}return simplifiedOffset}},"./node_modules/ol/render/Feature.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var _transform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/transform.js"),_extent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/extent.js"),_geom_flat_simplify_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/ol/geom/flat/simplify.js"),_array_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/ol/array.js"),_geom_flat_interiorpoint_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/geom/flat/interiorpoint.js"),_proj_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/proj.js"),_geom_flat_orient_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/geom/flat/orient.js"),_geom_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ol/geom/flat/interpolate.js"),_geom_flat_center_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/geom/flat/center.js"),_functions_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/ol/functions.js"),_geom_flat_transform_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/ol/geom/flat/transform.js");const tmpTransform=(0,_transform_js__WEBPACK_IMPORTED_MODULE_1__.Ue)();class RenderFeature{constructor(type,flatCoordinates,ends,stride,properties,id){this.styleFunction,this.extent_,this.id_=id,this.type_=type,this.flatCoordinates_=flatCoordinates,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=ends,this.properties_=properties,this.squaredTolerance_,this.stride_=stride,this.simplifiedGeometry_}get(key){return this.properties_[key]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.HK)(this.flatCoordinates_):(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.GN)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const flatCenter=(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.qg)(this.getExtent());this.flatInteriorPoints_=(0,_geom_flat_interiorpoint_js__WEBPACK_IMPORTED_MODULE_3__.X)(this.flatCoordinates_,0,this.ends_,2,flatCenter,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const ends=(0,_geom_flat_orient_js__WEBPACK_IMPORTED_MODULE_4__.Q3)(this.flatCoordinates_,this.ends_),flatCenters=(0,_geom_flat_center_js__WEBPACK_IMPORTED_MODULE_5__.E)(this.flatCoordinates_,0,ends,2);this.flatInteriorPoints_=(0,_geom_flat_interiorpoint_js__WEBPACK_IMPORTED_MODULE_3__.U)(this.flatCoordinates_,0,ends,2,flatCenters)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=(0,_geom_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_6__.WW)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const flatCoordinates=this.flatCoordinates_;let offset=0;const ends=this.ends_;for(let i=0,ii=ends.length;i<ii;++i){const end=ends[i],midpoint=(0,_geom_flat_interpolate_js__WEBPACK_IMPORTED_MODULE_6__.WW)(flatCoordinates,offset,end,2,.5);(0,_array_js__WEBPACK_IMPORTED_MODULE_7__.l7)(this.flatMidpoints_,midpoint),offset=end}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(squaredTolerance){return this}simplifyTransformed(squaredTolerance,transform){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(projection){const pixelExtent=(projection=(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.U2)(projection)).getExtent(),projectedExtent=projection.getWorldExtent();if(pixelExtent&&projectedExtent){const scale=(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.Cr)(projectedExtent)/(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.Cr)(pixelExtent);(0,_transform_js__WEBPACK_IMPORTED_MODULE_1__.qC)(tmpTransform,projectedExtent[0],projectedExtent[3],scale,-scale,0,0,0),(0,_geom_flat_transform_js__WEBPACK_IMPORTED_MODULE_8__.vT)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,tmpTransform,this.flatCoordinates_)}}applyTransform(transformFn){transformFn(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new RenderFeature(this.type_,this.flatCoordinates_.slice(),this.ends_.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=(0,_functions_js__WEBPACK_IMPORTED_MODULE_9__.qe)(((squaredTolerance,transform)=>{if(squaredTolerance===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),transform&&this.simplifiedGeometry_.applyTransform(transform);const simplifiedFlatCoordinates=this.simplifiedGeometry_.getFlatCoordinates();let simplifiedEnds;switch(this.type_){case"LineString":simplifiedFlatCoordinates.length=(0,_geom_flat_simplify_js__WEBPACK_IMPORTED_MODULE_10__.dt)(simplifiedFlatCoordinates,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,squaredTolerance,simplifiedFlatCoordinates,0),simplifiedEnds=[simplifiedFlatCoordinates.length];break;case"MultiLineString":simplifiedEnds=[],simplifiedFlatCoordinates.length=(0,_geom_flat_simplify_js__WEBPACK_IMPORTED_MODULE_10__.UJ)(simplifiedFlatCoordinates,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,squaredTolerance,simplifiedFlatCoordinates,0,simplifiedEnds);break;case"Polygon":simplifiedEnds=[],simplifiedFlatCoordinates.length=(0,_geom_flat_simplify_js__WEBPACK_IMPORTED_MODULE_10__.Zh)(simplifiedFlatCoordinates,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(squaredTolerance),simplifiedFlatCoordinates,0,simplifiedEnds)}return simplifiedEnds&&(this.simplifiedGeometry_=new RenderFeature(this.type_,simplifiedFlatCoordinates,simplifiedEnds,2,this.properties_,this.id_)),this.squaredTolerance_=squaredTolerance,this.simplifiedGeometry_})),this}}RenderFeature.prototype.getFlatCoordinates=RenderFeature.prototype.getOrientedFlatCoordinates;const __WEBPACK_DEFAULT_EXPORT__=RenderFeature},"./node_modules/ol/xml.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A4:()=>makeChildAppender,As:()=>getAttributeNS,C5:()=>makeStructureNS,Ei:()=>makeArrayPusher,G3:()=>makeSimpleNodeFactory,Me:()=>getDocument,O:()=>pushParseAndPop,Pr:()=>makeObjectPropertySetter,Qc:()=>parse,T3:()=>parseNode,Ve:()=>getAllTextContent,ZL:()=>pushSerializeAndPop,c:()=>createElementNS,fJ:()=>XML_SCHEMA_INSTANCE_URI,hg:()=>OBJECT_PROPERTY_NODE_FACTORY,ke:()=>makeObjectPropertyPusher,pc:()=>makeArrayExtender,qk:()=>isDocument,xc:()=>getXMLSerializer,z:()=>makeReplacer});var _array_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/array.js");const XML_SCHEMA_INSTANCE_URI="http://www.w3.org/2001/XMLSchema-instance";function createElementNS(namespaceURI,qualifiedName){return getDocument().createElementNS(namespaceURI,qualifiedName)}function getAllTextContent(node,normalizeWhitespace){return getAllTextContent_(node,normalizeWhitespace,[]).join("")}function getAllTextContent_(node,normalizeWhitespace,accumulator){if(node.nodeType==Node.CDATA_SECTION_NODE||node.nodeType==Node.TEXT_NODE)normalizeWhitespace?accumulator.push(String(node.nodeValue).replace(/(\r\n|\r|\n)/g,"")):accumulator.push(node.nodeValue);else{let n;for(n=node.firstChild;n;n=n.nextSibling)getAllTextContent_(n,normalizeWhitespace,accumulator)}return accumulator}function isDocument(object){return"documentElement"in object}function getAttributeNS(node,namespaceURI,name){return node.getAttributeNS(namespaceURI,name)||""}function parse(xml){return(new DOMParser).parseFromString(xml,"application/xml")}function makeArrayExtender(valueReader,thisArg){return function(node,objectStack){const value=valueReader.call(void 0!==thisArg?thisArg:this,node,objectStack);if(void 0!==value){const array=objectStack[objectStack.length-1];(0,_array_js__WEBPACK_IMPORTED_MODULE_0__.l7)(array,value)}}}function makeArrayPusher(valueReader,thisArg){return function(node,objectStack){const value=valueReader.call(void 0!==thisArg?thisArg:this,node,objectStack);if(void 0!==value){objectStack[objectStack.length-1].push(value)}}}function makeReplacer(valueReader,thisArg){return function(node,objectStack){const value=valueReader.call(void 0!==thisArg?thisArg:this,node,objectStack);void 0!==value&&(objectStack[objectStack.length-1]=value)}}function makeObjectPropertyPusher(valueReader,property,thisArg){return function(node,objectStack){const value=valueReader.call(void 0!==thisArg?thisArg:this,node,objectStack);if(void 0!==value){const object=objectStack[objectStack.length-1],name=void 0!==property?property:node.localName;let array;name in object?array=object[name]:(array=[],object[name]=array),array.push(value)}}}function makeObjectPropertySetter(valueReader,property,thisArg){return function(node,objectStack){const value=valueReader.call(void 0!==thisArg?thisArg:this,node,objectStack);if(void 0!==value){objectStack[objectStack.length-1][void 0!==property?property:node.localName]=value}}}function makeChildAppender(nodeWriter,thisArg){return function(node,value,objectStack){nodeWriter.call(void 0!==thisArg?thisArg:this,node,value,objectStack);objectStack[objectStack.length-1].node.appendChild(node)}}function makeSimpleNodeFactory(fixedNodeName,fixedNamespaceURI){return function(value,objectStack,newNodeName){const node=objectStack[objectStack.length-1].node;let nodeName=fixedNodeName;void 0===nodeName&&(nodeName=newNodeName);return createElementNS(void 0!==fixedNamespaceURI?fixedNamespaceURI:node.namespaceURI,nodeName)}}const OBJECT_PROPERTY_NODE_FACTORY=makeSimpleNodeFactory();function makeStructureNS(namespaceURIs,structure,structureNS){let i,ii;for(structureNS=void 0!==structureNS?structureNS:{},i=0,ii=namespaceURIs.length;i<ii;++i)structureNS[namespaceURIs[i]]=structure;return structureNS}function parseNode(parsersNS,node,objectStack,thisArg){let n;for(n=node.firstElementChild;n;n=n.nextElementSibling){const parsers=parsersNS[n.namespaceURI];if(void 0!==parsers){const parser=parsers[n.localName];void 0!==parser&&parser.call(thisArg,n,objectStack)}}}function pushParseAndPop(object,parsersNS,node,objectStack,thisArg){return objectStack.push(object),parseNode(parsersNS,node,objectStack,thisArg),objectStack.pop()}function serialize(serializersNS,nodeFactory,values,objectStack,keys,thisArg){const length=(void 0!==keys?keys:values).length;let value,node;for(let i=0;i<length;++i)value=values[i],void 0!==value&&(node=nodeFactory.call(void 0!==thisArg?thisArg:this,value,objectStack,void 0!==keys?keys[i]:void 0),void 0!==node&&serializersNS[node.namespaceURI][node.localName].call(thisArg,node,value,objectStack))}function pushSerializeAndPop(object,serializersNS,nodeFactory,values,objectStack,keys,thisArg){return objectStack.push(object),serialize(serializersNS,nodeFactory,values,objectStack,keys,thisArg),objectStack.pop()}let xmlSerializer_,document_;function getXMLSerializer(){return void 0===xmlSerializer_&&"undefined"!=typeof XMLSerializer&&(xmlSerializer_=new XMLSerializer),xmlSerializer_}function getDocument(){return void 0===document_&&"undefined"!=typeof document&&(document_=document.implementation.createDocument("","",null)),document_}}}]);