(self.webpackChunkgeonetwork_ui=self.webpackChunkgeonetwork_ui||[]).push([[3080],{"./libs/feature/dataviz/src/lib/service/data.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>DataService});var _home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_biesbjerg_ngx_translate_extract_marker__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@biesbjerg/ngx-translate-extract-marker/fesm5/biesbjerg-ngx-translate-extract-marker.js"),_camptocamp_ogc_client__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/index.js"),_geonetwork_ui_data_fetcher__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/util/data-fetcher/src/index.ts"),_geonetwork_ui_util_shared__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/util/shared/src/index.ts"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/from.js"),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/throwError.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/catchError.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js");(0,_biesbjerg_ngx_translate_extract_marker__WEBPACK_IMPORTED_MODULE_3__.x)("wfs.unreachable.cors"),(0,_biesbjerg_ngx_translate_extract_marker__WEBPACK_IMPORTED_MODULE_3__.x)("wfs.unreachable.http"),(0,_biesbjerg_ngx_translate_extract_marker__WEBPACK_IMPORTED_MODULE_3__.x)("wfs.unreachable.unknown"),(0,_biesbjerg_ngx_translate_extract_marker__WEBPACK_IMPORTED_MODULE_3__.x)("wfs.featuretype.notfound"),(0,_biesbjerg_ngx_translate_extract_marker__WEBPACK_IMPORTED_MODULE_3__.x)("wfs.geojsongml.notsupported"),(0,_biesbjerg_ngx_translate_extract_marker__WEBPACK_IMPORTED_MODULE_3__.x)("ogc.unreachable.unknown"),(0,_biesbjerg_ngx_translate_extract_marker__WEBPACK_IMPORTED_MODULE_3__.x)("dataset.error.network"),(0,_biesbjerg_ngx_translate_extract_marker__WEBPACK_IMPORTED_MODULE_3__.x)("dataset.error.http"),(0,_biesbjerg_ngx_translate_extract_marker__WEBPACK_IMPORTED_MODULE_3__.x)("dataset.error.parse"),(0,_biesbjerg_ngx_translate_extract_marker__WEBPACK_IMPORTED_MODULE_3__.x)("dataset.error.unsupportedType"),(0,_biesbjerg_ngx_translate_extract_marker__WEBPACK_IMPORTED_MODULE_3__.x)("dataset.error.unknown");let DataService=class DataService{constructor(proxy){this.proxy=proxy}getDownloadUrlsFromWfs(wfsUrl,featureTypeName){return(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.H)(new _camptocamp_ogc_client__WEBPACK_IMPORTED_MODULE_0__.ym(this.proxy.getProxiedUrl(wfsUrl)).isReady()).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.W)((error=>{if(error instanceof Error)throw new Error("wfs.unreachable.unknown");if("network"===error.type)throw new Error("wfs.unreachable.cors");if("http"===error.type)throw new Error("wfs.unreachable.http");if("parse"===error.type)throw new Error("wfs.unreachable.parse");throw"unsupportedType"===error.type?new Error("wfs.unreachable.unsupportedType"):new Error("wfs.unreachable.unknown")})),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.T)((endpoint=>{const featureTypes=endpoint.getFeatureTypes(),featureType=endpoint.getFeatureTypeSummary(1!==featureTypes.length||featureTypeName?featureTypeName:featureTypes[0].name);if(!featureType)throw new Error("wfs.featuretype.notfound");return{all:featureType.outputFormats.reduce(((prev,curr)=>({...prev,[curr]:endpoint.getFeatureUrl(featureType.name,{outputFormat:curr})})),{}),geojson:endpoint.supportsJson(featureType.name)?endpoint.getFeatureUrl(featureType.name,{asJson:!0,outputCrs:"EPSG:4326"}):null,gml:featureType.outputFormats.find((f=>f.toLowerCase().includes("gml")))&&("EPSG:4326"===featureType.defaultCrs||featureType.otherCrs?.includes("EPSG:4326"))?{featureUrl:endpoint.getFeatureUrl(featureType.name,{outputFormat:featureType.outputFormats.find((f=>f.toLowerCase().includes("gml"))),outputCrs:"EPSG:4326"}),namespace:featureType.name,wfsVersion:endpoint.getVersion()}:null}})))}getDownloadUrlFromEsriRest(apiUrl,format){return this.proxy.getProxiedUrl(`${apiUrl}/query?f=${format}&where=1=1&outFields=*`)}getDownloadLinksFromWfs(wfsLink){return this.getDownloadUrlsFromWfs(wfsLink.url.toString(),wfsLink.name).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.T)((urls=>urls.all)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.T)((urls=>Object.keys(urls).map((format=>({...wfsLink,type:"download",url:new URL(urls[format]),mimeType:(0,_geonetwork_ui_util_shared__WEBPACK_IMPORTED_MODULE_2__.pY)((0,_geonetwork_ui_util_shared__WEBPACK_IMPORTED_MODULE_2__.i8)(format))}))))))}getDownloadLinksFromOgcApiFeatures(ogcApiLink){var _this=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__.A)((function*(){const collectionInfo=yield _this.getDownloadUrlsFromOgcApi(ogcApiLink.url.href);return Object.keys(collectionInfo.bulkDownloadLinks).map((downloadLink=>({...ogcApiLink,type:"download",url:new URL(collectionInfo.bulkDownloadLinks[downloadLink]),mimeType:(0,_geonetwork_ui_util_shared__WEBPACK_IMPORTED_MODULE_2__.pY)((0,_geonetwork_ui_util_shared__WEBPACK_IMPORTED_MODULE_2__.i8)(downloadLink))})))}))()}getDownloadUrlsFromOgcApi(url){var _this2=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__.A)((function*(){const endpoint=new _camptocamp_ogc_client__WEBPACK_IMPORTED_MODULE_0__.TL(_this2.proxy.getProxiedUrl(url));return yield endpoint.allCollections.then((collections=>endpoint.getCollectionInfo(collections[0].name))).catch((error=>{throw new Error("ogc.unreachable.unknown")}))}))()}getItemsFromOgcApi(url){var _this3=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__.A)((function*(){const endpoint=new _camptocamp_ogc_client__WEBPACK_IMPORTED_MODULE_0__.TL(_this3.proxy.getProxiedUrl(url));return yield endpoint.featureCollections.then((collections=>collections.length?endpoint.getCollectionItem(collections[0],"1"):null)).catch((error=>{throw new Error("ogc.unreachable.unknown")}))}))()}getDownloadLinksFromEsriRest(esriRestLink){return["json","geojson"].map((format=>({...esriRestLink,url:new URL(this.getDownloadUrlFromEsriRest(esriRestLink.url.toString(),format)),mimeType:(0,_geonetwork_ui_util_shared__WEBPACK_IMPORTED_MODULE_2__.pY)((0,_geonetwork_ui_util_shared__WEBPACK_IMPORTED_MODULE_2__.i8)(format))})))}readAsGeoJson(link){return this.getDataset(link).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.n)((dataset=>dataset.selectAll().read())),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.T)((features=>({type:"FeatureCollection",features}))))}getDataset(link){if("service"===link.type&&"wfs"===link.accessServiceProtocol)return this.getDownloadUrlsFromWfs(link.url.toString(),link.name).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.n)((urls=>urls.geojson?(0,_geonetwork_ui_data_fetcher__WEBPACK_IMPORTED_MODULE_1__.Jp)(urls.geojson,"geojson"):urls.gml?(0,_geonetwork_ui_data_fetcher__WEBPACK_IMPORTED_MODULE_1__.Jp)(urls.gml.featureUrl,"gml",{namespace:urls.gml.namespace,wfsVersion:urls.gml.wfsVersion}):null)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.M)((url=>{if(null===url)throw new Error("wfs.geojsongml.notsupported")})));if("download"===link.type){const linkProxifiedUrl=this.proxy.getProxiedUrl(link.url.toString()),format=(0,_geonetwork_ui_util_shared__WEBPACK_IMPORTED_MODULE_2__.uL)(link),supportedType=_geonetwork_ui_data_fetcher__WEBPACK_IMPORTED_MODULE_1__.S5.indexOf(format)>-1?format:void 0;return(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.H)((0,_geonetwork_ui_data_fetcher__WEBPACK_IMPORTED_MODULE_1__.Jp)(linkProxifiedUrl,supportedType)).pipe()}if("service"===link.type&&"esriRest"===link.accessServiceProtocol){const url=this.getDownloadUrlFromEsriRest(link.url.toString(),"geojson");return(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.H)((0,_geonetwork_ui_data_fetcher__WEBPACK_IMPORTED_MODULE_1__.Jp)(url,"geojson")).pipe()}return"service"===link.type&&"ogcFeatures"===link.accessServiceProtocol?(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.H)(this.getDownloadUrlsFromOgcApi(link.url.href)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.n)((collectionInfo=>{const geojsonUrl=collectionInfo.jsonDownloadLink;return(0,_geonetwork_ui_data_fetcher__WEBPACK_IMPORTED_MODULE_1__.Jp)(geojsonUrl,"geojson")})),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.M)((url=>{if(null===url)throw new Error("wfs.geojsongml.notsupported")}))):(0,rxjs__WEBPACK_IMPORTED_MODULE_10__.$)((()=>"protocol not supported"))}static#_=this.ctorParameters=()=>[{type:_geonetwork_ui_util_shared__WEBPACK_IMPORTED_MODULE_2__.Uk}]};DataService=(0,tslib__WEBPACK_IMPORTED_MODULE_11__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_12__.Injectable)({providedIn:"root"}),(0,tslib__WEBPACK_IMPORTED_MODULE_11__.Sn)("design:paramtypes",[_geonetwork_ui_util_shared__WEBPACK_IMPORTED_MODULE_2__.Uk])],DataService)},"./libs/feature/dataviz/src/lib/table-view/table-view.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N:()=>TableViewComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var table_view_componentngResource=__webpack_require__("./libs/feature/dataviz/src/lib/table-view/table-view.component.css?ngResource"),table_view_componentngResource_default=__webpack_require__.n(table_view_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),BehaviorSubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),catchError=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/catchError.js"),finalize=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/finalize.js"),startWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),shareReplay=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js"),src=__webpack_require__("./libs/util/data-fetcher/src/index.ts"),data_service=__webpack_require__("./libs/feature/dataviz/src/lib/service/data.service.ts"),dataviz_src=__webpack_require__("./libs/ui/dataviz/src/index.ts"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/fesm2020/ngx-translate-core.mjs"),widgets_src=__webpack_require__("./libs/ui/widgets/src/index.ts"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");let TableViewComponent=class TableViewComponent{set link(value){this.currentLink$.next(value)}constructor(dataService,translateService){this.dataService=dataService,this.translateService=translateService,this.currentLink$=new BehaviorSubject.t(null),this.loading=!1,this.error=null,this.tableData$=this.currentLink$.pipe((0,switchMap.n)((link=>(this.error=null,link?(this.loading=!0,this.fetchData(link).pipe((0,map.T)((items=>items.map((item=>({id:item.id,...item.properties}))))),(0,catchError.W)((error=>(this.handleError(error),(0,of.of)([])))),(0,finalize.j)((()=>{this.loading=!1})))):(0,of.of)([])))),(0,startWith.Z)([]),(0,shareReplay.t)(1))}fetchData(link){return this.dataService.getDataset(link).pipe((0,switchMap.n)((dataset=>dataset.read())))}onTableSelect(event){console.log(event)}handleError(error){error instanceof src.fk?(this.error=this.translateService.instant(`dataset.error.${error.type}`,{info:error.info}),console.warn(error.message)):error instanceof Error?(this.error=this.translateService.instant(error.message),console.warn(error.stack||error)):(this.error=this.translateService.instant(error),console.warn(error)),this.loading=!1}static#_=this.ctorParameters=()=>[{type:data_service.u},{type:ngx_translate_core.c$}];static#_2=this.propDecorators={link:[{type:core.Input}]}};TableViewComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"gn-ui-table-view",template:'<div class="w-full h-full flex flex-col">\n  <div class="relative h-full">\n    <gn-ui-table\n      class="overflow-auto grow"\n      [data]="tableData$ | async"\n      (selected)="onTableSelect($event)"\n    ></gn-ui-table>\n    <gn-ui-loading-mask\n      *ngIf="loading"\n      class="absolute inset-0"\n      [message]="\'table.loading.data\' | translate"\n    ></gn-ui-loading-mask>\n    <gn-ui-popup-alert\n      *ngIf="error"\n      type="warning"\n      icon="matErrorOutlineOutline"\n      class="absolute m-2 inset-0"\n    >\n      <span translate>{{ error }}</span>\n    </gn-ui-popup-alert>\n  </div>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,imports:[common.CommonModule,dataviz_src.Or,widgets_src.OR,widgets_src.oz,ngx_translate_core.h],standalone:!0,styles:[table_view_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[data_service.u,ngx_translate_core.c$])],TableViewComponent)},"./libs/ui/dataviz/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Qe:()=>chart_component.Q,Or:()=>table_component.O,A5:()=>ui_dataviz_module.A,g$:()=>someHabTableItemFixture,ly:()=>tableItemFixture});var ui_dataviz_module=__webpack_require__("./libs/ui/dataviz/src/lib/ui-dataviz.module.ts"),chart_component=__webpack_require__("./libs/ui/dataviz/src/lib/chart/chart.component.ts"),table_component=__webpack_require__("./libs/ui/dataviz/src/lib/table/table.component.ts");const tableItemFixture=()=>[{name:"name 1",id:"id 1",age:15},{name:"name 2",id:"id 2",age:10},{name:"name 3",id:"id 3",age:55}],someHabTableItemFixture=()=>[{name:"France",id:"1",pop:505e5},{name:"Italy",id:"2",pop:155878789655},{name:"UK",id:"3",pop:31522456},{name:"US",id:"4",pop:3215448888}];__webpack_require__("./libs/ui/dataviz/src/lib/figure/figure.component.ts")},"./libs/ui/dataviz/src/lib/chart/chart.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>ChartComponent});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var chart_componentngResource=__webpack_require__("./libs/ui/dataviz/src/lib/chart/chart.component.css?ngResource"),chart_componentngResource_default=__webpack_require__.n(chart_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),chart=__webpack_require__("./node_modules/chart.js/dist/chart.js");chart.t1.register(chart.A6,chart.E8,chart.PP,chart.kc,chart.ZT,chart.No,chart.FN,chart.P$,chart.Bs,chart.Pz,chart.m_,chart.Jy,chart.s$);let ChartComponent=class ChartComponent{constructor(){this.type="bar",this.dataRaw=[],this.ready=new Promise((resolve=>this.setReady=resolve))}set data(value){this.dataRaw=value}ngAfterViewInit(){this.setReady()}ngOnChanges(){this.refreshChart()}createChart(){return new chart.t1(this.canvasRef.nativeElement,{type:this.getChartType(),data:this.getChartData(),options:this.getOptions()})}getChartData(){const data=this.handlesSecondaryValue()?this.getDataProxy(this.valueProperty,this.secondaryValueProperty):this.getDataProxy(this.valueProperty);return{labels:this.getDataProxy(this.labelProperty),datasets:[{label:this.valueProperty,data}]}}getOptions(){const truncateString=this.truncateString,options={maintainAspectRatio:!1,parsing:{},scales:{x:{ticks:{callback:function(value){return truncateString(this.getLabelForValue(Number(value)),30)}}},y:{ticks:{callback:function(value){return truncateString(this.getLabelForValue(Number(value)),30)}}}}};switch(this.type){case"line-interpolated":return{...options,elements:{line:{cubicInterpolationMode:"monotone"}}};case"bar-horizontal":return{...options,indexAxis:"y"};case"pie":return{...options,scales:{},plugins:{legend:{position:"left",align:"start"}}};default:return options}}truncateString(str,truncateLength){return str?str.length<=truncateLength?str:`${str.slice(0,truncateLength)}...`:""}getChartType(){switch(this.type){case"bar":case"bar-horizontal":return"bar";case"line":case"line-interpolated":return"line";case"scatter":case"pie":return this.type}}handlesSecondaryValue(){return this.secondaryValueProperty&&"scatter"===this.type}getDataProxy(property,secondaryProperty){return new Proxy(this.dataRaw,{get:(target,index)=>"string"!=typeof index||Number.isNaN(parseInt(index))||void 0===target[index]?target[index]:secondaryProperty?{y:target[index][property],x:target[index][secondaryProperty]}:target[index][property]})}refreshChart(){var _this=this;return(0,asyncToGenerator.A)((function*(){_this.chart&&(_this.chart.destroy(),_this.chart=null),yield _this.ready,_this.chart=_this.createChart()}))()}static#_=this.propDecorators={data:[{type:core.Input}],labelProperty:[{type:core.Input}],valueProperty:[{type:core.Input}],secondaryValueProperty:[{type:core.Input}],type:[{type:core.Input}],canvasRef:[{type:core.ViewChild,args:["chartCanvas"]}]}};ChartComponent=(0,tslib_es6.Cg)([(0,core.Component)({standalone:!0,selector:"gn-ui-chart",template:'<div class="h-full flex justify-center items-center p-1">\n  <canvas #chartCanvas></canvas>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[chart_componentngResource_default()]})],ChartComponent)},"./libs/ui/dataviz/src/lib/figure/figure.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>FigureComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var figure_componentngResource=__webpack_require__("./libs/ui/dataviz/src/lib/figure/figure.component.css?ngResource"),figure_componentngResource_default=__webpack_require__.n(figure_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let FigureComponent=class FigureComponent{constructor(){this.unit="",this.color="primary"}get textClass(){return"primary"===this.color?"text-primary":"text-secondary"}get bgClass(){return"primary"===this.color?"bg-primary-white":"bg-secondary-white"}static#_=this.propDecorators={icon:[{type:core.Input}],title:[{type:core.Input}],figure:[{type:core.Input}],unit:[{type:core.Input}],color:[{type:core.Input}]}};FigureComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"gn-ui-figure",template:'<div\n  class="flex flex-row justify-start items-center overflow-hidden"\n  data-test="figureTitle"\n  [title]="\n    figure.toString() +\n    \' \' +\n    unit +\n    \' \' +\n    (title | translate: { count: figure })\n  "\n>\n  <ng-icon\n    class="{{ bgClass }} {{\n      textClass\n    }} text-[1.875em] rounded-full mr-[0.55em] p-[0.6em] w-[2.2em] h-[2.2em] shrink-0"\n    style="width: 2.2em; height: 2.2em"\n    [name]="icon"\n  >\n  </ng-icon>\n  <div class="shrink overflow-hidden">\n    <div class="figure-block text-[1.5em] text-black">\n      <span class="figure font-medium mr-[0.3em]" data-test="figure">{{\n        figure\n      }}</span>\n      <span class="unit text-[0.665em]">{{ unit }}</span>\n    </div>\n    <div translate class="title truncate" [translateParams]="{ count: figure }">\n      {{ title }}\n    </div>\n  </div>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[figure_componentngResource_default()]})],FigureComponent)},"./libs/ui/dataviz/src/lib/table/table.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>TableComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var table_componentngResource=__webpack_require__("./libs/ui/dataviz/src/lib/table/table.component.css?ngResource"),table_componentngResource_default=__webpack_require__.n(table_componentngResource),scrolling=__webpack_require__("./node_modules/@angular/cdk/fesm2022/scrolling.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),sort=__webpack_require__("./node_modules/@angular/material/fesm2022/sort.mjs"),table=__webpack_require__("./node_modules/@angular/material/fesm2022/table.mjs"),ng_table_virtual_scroll=__webpack_require__("./node_modules/ng-table-virtual-scroll/fesm2020/ng-table-virtual-scroll.mjs"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/fesm2020/ngx-translate-core.mjs");let TableComponent=class TableComponent{set data(value){this.dataSource=new ng_table_virtual_scroll.ap(value),this.dataSource.sort=this.sort,this.properties=Array.isArray(value)&&value.length?Object.keys(value[0]):[],this.count=value.length}constructor(eltRef){this.eltRef=eltRef,this.selected=new core.EventEmitter}ngAfterViewInit(){this.headerHeight=this.eltRef.nativeElement.querySelector("thead").offsetHeight}scrollToItem(itemId){const row=this.eltRef.nativeElement.querySelector(`#${this.getRowEltId(itemId)}`);this.eltRef.nativeElement.scrollTop=row.offsetTop-this.headerHeight}getRowEltId(id){return"table-item-"+id}static#_=this.ctorParameters=()=>[{type:core.ElementRef}];static#_2=this.propDecorators={data:[{type:core.Input}],activeId:[{type:core.Input}],selected:[{type:core.Output}],sort:[{type:core.ViewChild,args:[sort.B4,{static:!0}]}]}};TableComponent=(0,tslib_es6.Cg)([(0,core.Component)({standalone:!0,imports:[table.tP,sort.NQ,ng_table_virtual_scroll.VL,scrolling.E9,common.NgForOf,ngx_translate_core.h],selector:"gn-ui-table",template:'<div class="border border-gray-300 rounded-lg overflow-hidden bg-white h-full">\n  <cdk-virtual-scroll-viewport\n    tvsItemSize="48"\n    headerHeight="56"\n    style="height: calc(100% - 37px)"\n  >\n    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>\n      <ng-container *ngFor="let prop of properties" [matColumnDef]="prop">\n        <th\n          mat-header-cell\n          *matHeaderCellDef\n          mat-sort-header\n          class="text-sm text-black bg-white"\n        >\n          {{ prop }}\n        </th>\n        <td\n          mat-cell\n          *matCellDef="let element"\n          class="whitespace-nowrap pr-1 truncate"\n        >\n          {{ element[prop] }}\n        </td>\n      </ng-container>\n\n      <tr mat-header-row *matHeaderRowDef="properties; sticky: true"></tr>\n      <tr\n        [id]="getRowEltId(row.id)"\n        mat-row\n        *matRowDef="let row; columns: properties"\n        (click)="selected.emit(row)"\n        [class.active]="row.id === activeId"\n      ></tr>\n    </table>\n  </cdk-virtual-scroll-viewport>\n  <div class="text-gray-900 border-t border-gray-300 px-4 py-2 text-sm">\n    <span class="count font-extrabold text-primary">{{ count }}</span\n    >&nbsp;<span translate>table.object.count</span>.\n  </div>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[table_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ElementRef])],TableComponent)},"./libs/ui/dataviz/src/lib/ui-dataviz.module.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>UiDatavizModule});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),_figure_figure_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/ui/dataviz/src/lib/figure/figure.component.ts"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@ngx-translate/core/fesm2020/ngx-translate-core.mjs"),_ng_icons_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@ng-icons/core/fesm2022/ng-icons-core.mjs"),_ng_icons_material_icons_baseline__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@ng-icons/material-icons/fesm2022/ng-icons-material-icons-baseline.mjs"),_ng_icons_tabler_icons__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@ng-icons/tabler-icons/fesm2022/ng-icons-tabler-icons.mjs");let UiDatavizModule=class UiDatavizModule{};UiDatavizModule=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.NgModule)({imports:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__.h.forChild(),_ng_icons_core__WEBPACK_IMPORTED_MODULE_5__.i6.withIcons({matCorporateFare:_ng_icons_material_icons_baseline__WEBPACK_IMPORTED_MODULE_6__.MB9,tablerFolderOpen:_ng_icons_tabler_icons__WEBPACK_IMPORTED_MODULE_7__.B7Z})],providers:[(0,_ng_icons_core__WEBPACK_IMPORTED_MODULE_5__.PG)({size:"1.5em"})],declarations:[_figure_figure_component__WEBPACK_IMPORTED_MODULE_0__.Q],exports:[_figure_figure_component__WEBPACK_IMPORTED_MODULE_0__.Q]})],UiDatavizModule)},"./libs/ui/widgets/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{OR:()=>loading_mask_component.O,r3:()=>popover_component.r,oz:()=>popup_alert_component.o,aD:()=>progress_bar_component.a,n0:()=>spinning_loader_component.n,Gi:()=>UiWidgetsModule});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),src=__webpack_require__("./libs/util/shared/src/index.ts"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/fesm2020/ngx-translate-core.mjs"),ngx_dropzone=__webpack_require__("./node_modules/ngx-dropzone/fesm2020/ngx-dropzone.mjs"),color_scale_component=__webpack_require__("./libs/ui/widgets/src/lib/color-scale/color-scale.component.ts"),step_bar_component=__webpack_require__("./libs/ui/widgets/src/lib/step-bar/step-bar.component.ts"),ngx_chips=__webpack_require__("./node_modules/ngx-chips/fesm2020/ngx-chips.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),progress_spinner=__webpack_require__("./node_modules/@angular/material/fesm2022/progress-spinner.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");let UiWidgetsModule=class UiWidgetsModule{};UiWidgetsModule=(0,tslib_es6.Cg)([(0,core.NgModule)({declarations:[color_scale_component.r,step_bar_component.Z],imports:[common.CommonModule,ngx_translate_core.h.forChild(),ngx_dropzone.Fg,fesm2022_forms.YN,fesm2022_forms.X1,ngx_chips.bh,src.ek,progress_spinner.D6],exports:[step_bar_component.Z]})],UiWidgetsModule);var progress_bar_component=__webpack_require__("./libs/ui/widgets/src/lib/progress-bar/progress-bar.component.ts"),popover_component=__webpack_require__("./libs/ui/widgets/src/lib/popover/popover.component.ts"),loading_mask_component=__webpack_require__("./libs/ui/widgets/src/lib/loading-mask/loading-mask.component.ts"),popup_alert_component=__webpack_require__("./libs/ui/widgets/src/lib/popup-alert/popup-alert.component.ts"),spinning_loader_component=__webpack_require__("./libs/ui/widgets/src/lib/spinning-loader/spinning-loader.component.ts")},"./libs/ui/widgets/src/lib/color-scale/color-scale.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>ColorScaleComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var color_scale_componentngResource=__webpack_require__("./libs/ui/widgets/src/lib/color-scale/color-scale.component.css?ngResource"),color_scale_componentngResource_default=__webpack_require__.n(color_scale_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let ColorScaleComponent=class ColorScaleComponent{};ColorScaleComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"gn-ui-color-scale",template:'<div class="flex flex-row items-center">\n  <div class="text-xs text-gray-700 font-bold m-2 w-32 text-right">primary</div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-primary-black"\n    title="primary-black"\n  ></div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-primary-darkest"\n    title="primary-darkest"\n  ></div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-primary-darker"\n    title="primary-darker"\n  ></div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-primary border-2 border-primary-darkest"\n    title="primary"\n  ></div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-primary-lighter"\n    title="primary-lighter"\n  ></div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-primary-lightest"\n    title="primary-lightest"\n  ></div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-primary-white"\n    title="primary-white"\n  ></div>\n</div>\n<div class="flex flex-row">\n  <div class="text-xs text-gray-700 font-bold m-2 w-32 text-right">\n    secondary\n  </div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-secondary-black"\n    title="secondary-black"\n  ></div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-secondary-darkest"\n    title="secondary-darkest"\n  ></div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-secondary-darker"\n    title="secondary-darker"\n  ></div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-secondary border-2 border-secondary-darkest"\n    title="secondary"\n  ></div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-secondary-lighter"\n    title="secondary-lighter"\n  ></div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-secondary-lightest"\n    title="secondary-lightest"\n  ></div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-secondary-white"\n    title="secondary-white"\n  ></div>\n</div>\n<div class="flex flex-row">\n  <div class="text-xs text-gray-700 font-bold m-2 w-32 text-right">main</div>\n  <div class="shadow-md rounded w-6 h-6 m-2 bg-main" title="main"></div>\n  <div class="shadow-md rounded w-6 h-6 m-2 bg-gray-900" title="gray-900"></div>\n  <div class="shadow-md rounded w-6 h-6 m-2 bg-gray-800" title="gray-800"></div>\n  <div class="shadow-md rounded w-6 h-6 m-2 bg-gray-700" title="gray-700"></div>\n  <div class="shadow-md rounded w-6 h-6 m-2 bg-gray-600" title="gray-600"></div>\n  <div class="shadow-md rounded w-6 h-6 m-2 bg-gray-500" title="gray-500"></div>\n  <div class="shadow-md rounded w-6 h-6 m-2 bg-gray-400" title="gray-400"></div>\n  <div class="shadow-md rounded w-6 h-6 m-2 bg-gray-300" title="gray-300"></div>\n  <div class="shadow-md rounded w-6 h-6 m-2 bg-gray-200" title="gray-200"></div>\n  <div class="shadow-md rounded w-6 h-6 m-2 bg-gray-100" title="gray-100"></div>\n  <div class="shadow-md rounded w-6 h-6 m-2 bg-gray-50" title="gray-50"></div>\n  <div\n    class="shadow-md rounded w-6 h-6 m-2 bg-background"\n    title="background"\n  ></div>\n  <div class="text-xs text-gray-700 font-bold m-2 w-32">background</div>\n</div>\n',styles:[color_scale_componentngResource_default()]})],ColorScaleComponent)},"./libs/ui/widgets/src/lib/loading-mask/loading-mask.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>LoadingMaskComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var loading_mask_componentngResource=__webpack_require__("./libs/ui/widgets/src/lib/loading-mask/loading-mask.component.css?ngResource"),loading_mask_componentngResource_default=__webpack_require__.n(loading_mask_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),progress_spinner=__webpack_require__("./node_modules/@angular/material/fesm2022/progress-spinner.mjs");let LoadingMaskComponent=class LoadingMaskComponent{static#_=this.propDecorators={message:[{type:core.Input}]}};LoadingMaskComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"gn-ui-loading-mask",template:'<div class="h-full flex flex-col justify-center items-center relative backdrop">\n  <div class="absolute background bg-white inset-0"></div>\n  <mat-spinner [diameter]="28" class="relative"></mat-spinner>\n  <span class="text-sm text-gray-700 mt-3 relative">{{ message }}</span>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,imports:[progress_spinner.D6],standalone:!0,styles:[loading_mask_componentngResource_default()]})],LoadingMaskComponent)},"./libs/ui/widgets/src/lib/popover/popover.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>PopoverComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var popover_componentngResource=__webpack_require__("./libs/ui/widgets/src/lib/popover/popover.component.css?ngResource"),popover_componentngResource_default=__webpack_require__.n(popover_componentngResource),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),tippy_esm=__webpack_require__("./node_modules/tippy.js/dist/tippy.esm.js");let PopoverComponent=class PopoverComponent{constructor(viewContainerRef,renderer){this.viewContainerRef=viewContainerRef,this.renderer=renderer}getContent(){if(this.content instanceof core.TemplateRef){this.view&&this.view.destroy(),this.view=this.viewContainerRef.createEmbeddedView(this.content),this.view.detectChanges();const wrapper=this.renderer.createElement("div");return this.view.rootNodes.forEach((node=>{this.renderer.appendChild(wrapper,node)})),wrapper}return this.content}ngAfterViewInit(){this.tippyInstance=(0,tippy_esm.Ay)(this.popoverContent.nativeElement,{content:this.getContent(),allowHTML:!0,theme:this.theme})}ngOnChanges(changes){changes.theme&&(this.theme=changes.theme.currentValue,this.tippyInstance&&this.tippyInstance.setProps({theme:this.theme})),changes.content&&(this.content=changes.content.currentValue,this.tippyInstance&&this.tippyInstance.setContent(this.getContent()))}ngOnDestroy(){this.tippyInstance&&this.tippyInstance.destroy(),this.view&&this.view.destroy()}static#_=this.ctorParameters=()=>[{type:core.ViewContainerRef},{type:core.Renderer2}];static#_2=this.propDecorators={popoverContent:[{type:core.ViewChild,args:["popoverContent",{static:!1}]}],content:[{type:core.Input}],theme:[{type:core.Input}]}};PopoverComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"gn-ui-popover",template:"<span #popoverContent>\n  <ng-content></ng-content>\n</span>\n",standalone:!0,imports:[common.CommonModule],styles:[popover_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ViewContainerRef,core.Renderer2])],PopoverComponent)},"./libs/ui/widgets/src/lib/popup-alert/popup-alert.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>PopupAlertComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var popup_alert_componentngResource=__webpack_require__("./libs/ui/widgets/src/lib/popup-alert/popup-alert.component.css?ngResource"),popup_alert_componentngResource_default=__webpack_require__.n(popup_alert_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),ng_icons_core=__webpack_require__("./node_modules/@ng-icons/core/fesm2022/ng-icons-core.mjs"),ng_icons_material_icons_outline=__webpack_require__("./node_modules/@ng-icons/material-icons/fesm2022/ng-icons-material-icons-outline.mjs");let PopupAlertComponent=class PopupAlertComponent{constructor(changeDetector){this.changeDetector=changeDetector,this.type="info",this.position="top",this.expanded=!1,this.timeout=null}get showDuration(){const chars=this.content.nativeElement.innerHTML.length;return Math.max(3e3,20*chars)}ngOnInit(){this.expandAndClose()}expand(){this.expanded=!0,this.changeDetector.detectChanges(),clearTimeout(this.timeout)}expandAndClose(){this.expanded=!0,this.changeDetector.detectChanges(),clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.expanded=!1,this.changeDetector.detectChanges()}),this.showDuration)}static#_=this.ctorParameters=()=>[{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={icon:[{type:core.Input}],type:[{type:core.Input}],position:[{type:core.Input}],content:[{type:core.ViewChild,args:["content"]}]}};PopupAlertComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"gn-ui-popup-alert",template:"<div class=\"h-full relative container\">\n  <div\n    class=\"pointer-events-auto absolute text-white flex flex-row p-2 rounded message\"\n    role=\"alert\"\n    [ngClass]=\"{\n      'position-bottom': position === 'bottom',\n      'position-top': position === 'top',\n      expanded: this.expanded,\n      'bg-red-500': type === 'danger',\n      'bg-yellow-500': type === 'warning',\n      'bg-blue-500': type === 'info'\n    }\"\n    (mouseenter)=\"expand()\"\n    (mouseleave)=\"expandAndClose()\"\n  >\n    <ng-icon class=\"mr-2 shrink-0 select-none\" [name]=\"icon\"></ng-icon>\n    <div class=\"grow\" #content [ngClass]=\"{ invisible: !expanded }\">\n      <ng-content></ng-content>\n    </div>\n  </div>\n</div>\n",changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[common.CommonModule,ng_icons_core.Uq],providers:[(0,ng_icons_core.EB)({matErrorOutlineOutline:ng_icons_material_icons_outline.Bak})],styles:[popup_alert_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ChangeDetectorRef])],PopupAlertComponent)},"./libs/ui/widgets/src/lib/progress-bar/progress-bar.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>ProgressBarComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var progress_bar_componentngResource=__webpack_require__("./libs/ui/widgets/src/lib/progress-bar/progress-bar.component.css?ngResource"),progress_bar_componentngResource_default=__webpack_require__.n(progress_bar_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let ProgressBarComponent=class ProgressBarComponent{constructor(){this.value=0,this.type="default"}get progress(){return this.value>0?this.value<100?this.value:100:0}get color(){switch(this.type){case"default":return{outerBar:"bg-gray-200",innerBar:"bg-gray-100",text:"text-gray-900"};case"primary":return{outerBar:"bg-primary",innerBar:"bg-primary-lighter",text:"text-white"};case"secondary":return{outerBar:"bg-secondary",innerBar:"bg-secondary-lighter",text:"text-white"}}}static#_=this.propDecorators={value:[{type:core.Input}],type:[{type:core.Input}]}};ProgressBarComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"gn-ui-progress-bar",template:'<div class="flex h-full {{ color.outerBar }} rounded-t-lg rounded-b-lg">\n  <div\n    [style.width.%]="progress"\n    class="flex {{\n      color.innerBar\n    }} my-1 mx-1 transition-width duration-500 ease-in-out rounded-t-md rounded-b-md shadow-xl"\n  >\n    <div class="flex items-center pl-2 py-1 {{ color.text }} font-bold text-4">\n      {{ progress }}%\n    </div>\n  </div>\n</div>\n',standalone:!0,styles:[progress_bar_componentngResource_default()]})],ProgressBarComponent)},"./libs/ui/widgets/src/lib/spinning-loader/spinning-loader.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>SpinningLoaderComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var spinning_loader_componentngResource=__webpack_require__("./libs/ui/widgets/src/lib/spinning-loader/spinning-loader.component.css?ngResource"),spinning_loader_componentngResource_default=__webpack_require__.n(spinning_loader_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let SpinningLoaderComponent=class SpinningLoaderComponent{};SpinningLoaderComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"gn-ui-spinning-loader",template:'<span>\n  <svg\n    class="animate-spin h-8 w-8 text-primary"\n    xmlns="http://www.w3.org/2000/svg"\n    fill="none"\n    viewBox="0 0 24 24"\n  >\n    <circle\n      class="opacity-25"\n      cx="12"\n      cy="12"\n      r="10"\n      stroke="currentColor"\n      stroke-width="4"\n    ></circle>\n    <path\n      class="opacity-75"\n      fill="currentColor"\n      d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"\n    ></path>\n  </svg>\n</span>\n',standalone:!0,styles:[spinning_loader_componentngResource_default()]})],SpinningLoaderComponent)},"./libs/ui/widgets/src/lib/step-bar/step-bar.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>StepBarComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var step_bar_componentngResource=__webpack_require__("./libs/ui/widgets/src/lib/step-bar/step-bar.component.css?ngResource"),step_bar_componentngResource_default=__webpack_require__.n(step_bar_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let StepBarComponent=class StepBarComponent{constructor(cdr){this.cdr=cdr,this.currentStep=1,this.type="default"}get stepCounter(){return new Array(this.steps)}get color(){switch(this.type){case"default":return{outerBar:"bg-gray-200",innerBar:"bg-gray-100"};case"primary":return{outerBar:"bg-primary",innerBar:"bg-primary-lighter"};case"secondary":return{outerBar:"bg-secondary",innerBar:"bg-secondary-lighter"}}}getCircleColor(index){return index===this.currentStep?"bg-black":index<this.currentStep?"bg-white":this.color.innerBar}getChecked(index){return index+1<this.currentStep}static#_=this.ctorParameters=()=>[{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={steps:[{type:core.Input}],currentStep:[{type:core.Input}],type:[{type:core.Input}]}};StepBarComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"gn-ui-step-bar",template:'<div class="relative flex flex-col justify-center">\n  <div class="flex justify-between ml-16 mr-16 z-10 circle-steps">\n    <div\n      *ngFor="let step of stepCounter; let i = index"\n      class="shadow-md rounded-full h-6 w-6 {{ getCircleColor(i + 1) }}"\n    >\n      <span class="icon-check pl-1" *ngIf="getChecked(i)"></span>\n    </div>\n  </div>\n  <div\n    class="absolute rounded-lg right-0 w-full {{ color.outerBar }} h-2 z-0"\n  ></div>\n</div>\n',styles:[step_bar_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ChangeDetectorRef])],StepBarComponent)},"./libs/util/data-fetcher/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{fk:()=>model_FetchError,S5:()=>SupportedTypes,PJ:()=>getJsonDataItemsProxy,Jp:()=>openDataset});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");class model_FetchError{constructor(type,info,httpStatus=0){this.type=type,this.info=info,this.httpStatus=httpStatus,this.stack=null,this.message=`An error happened in the data fetcher, type: ${type}, info: ${info}`}static http(code){return new model_FetchError("http","",code)}static corsOrNetwork(message){return new model_FetchError("network",message,0)}static parsingFailed(info){return new model_FetchError("parse",info,0)}static unsupportedType(mimeType){return new model_FetchError("unsupportedType",mimeType,0)}static unknownType(){return new model_FetchError("unknown","",0)}}const SupportedTypes=["csv","json","geojson","excel","gml"],AllMimeTypes={csv:["text/csv","application/csv"],json:["application/json"],geojson:["application/geo+json","application/vnd.geo+json"],excel:["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],gml:["application/gml+xml"]};var papaparse_min=__webpack_require__("./node_modules/papaparse/papaparse.min.js"),dist=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/index.js"),parse=__webpack_require__("./node_modules/date-fns/esm/parse/index.js"),parseISO=__webpack_require__("./node_modules/date-fns/esm/parseISO/index.js");function _inferDatasetType(){return(_inferDatasetType=(0,asyncToGenerator.A)((function*(url,typeHint){const fileExtensionMatches=new URL(url,"undefined"!=typeof window?window.location.toString():void 0).pathname.match(/\.(.+)$/),fileExtension=fileExtensionMatches&&fileExtensionMatches.length?fileExtensionMatches[1].toLowerCase():null;if(typeHint)return Promise.resolve(typeHint);const headers=yield function fetchHeaders(url){return(0,dist.cB)(url,"HEAD").catch((error=>{throw model_FetchError.corsOrNetwork(error.message)})).then((response=>{if(!response.ok)throw model_FetchError.http(response.status);return function headers_parseHeaders(httpHeaders){const result={};if(httpHeaders.has("Content-Type")){result.mimeType=httpHeaders.get("Content-Type").split(";")[0];const supported=SupportedTypes.filter((type=>AllMimeTypes[type].indexOf(result.mimeType)>-1))[0]||null;null!==supported&&(result.supportedType=supported)}if(httpHeaders.has("Content-Length")&&(result.fileSizeBytes=parseInt(httpHeaders.get("Content-Length"))),httpHeaders.has("Last-Modified")){const date=new Date(httpHeaders.get("Last-Modified"));Number.isNaN(date.valueOf())?result.lastUpdateInvalid=!0:result.lastUpdate=date}return result}(response.headers)}))}(url);if("supportedType"in headers)return headers.supportedType;if(SupportedTypes.indexOf(fileExtension)>-1)return fileExtension;throw"mimeType"in headers?model_FetchError.unsupportedType(headers.mimeType):model_FetchError.unknownType()}))).apply(this,arguments)}function fetchDataAsText(url){return(0,dist.E6)((()=>(0,dist.cB)(url).catch((error=>{throw model_FetchError.corsOrNetwork(error.message)})).then(function(){var _ref=(0,asyncToGenerator.A)((function*(response){if(!response.ok)throw model_FetchError.http(response.status);return response.text()}));return function(_x3){return _ref.apply(this,arguments)}}())),url,"asText")}function tryParseDate(input){function tryFormat(format){const parsed=(0,parse.A)(input,format,new Date);return isNaN(parsed.getDate())?null:parsed}return function tryIso(){const parsed=(0,parseISO.A)(input);return isNaN(parsed.getDate())?null:parsed}()||tryFormat("dd/MM/yyyy")||tryFormat("dd.MM.yyyy")||tryFormat("MM/dd/yyyy")||null}function tryParseNumber(input){if(isNaN(input))return null;const parsed=parseFloat(input);return isNaN(parsed)?null:parsed}function jsonToGeojsonFeature(object){const{id,properties}=Object.keys(object).map((property=>property||"unknown")).reduce(((prev,curr)=>curr.toLowerCase().endsWith("id")?{...prev,id:object[curr]}:{...prev,properties:{...prev.properties,[curr]:object[curr]}}),{id:void 0,properties:{}});return{type:"Feature",geometry:null,properties,...void 0!==id&&{id}}}function processItemProperties(items,inferTypes=!1){const foundFields={};for(let i=0,ii=Math.min(20,items.length);i<ii;i++){const item=items[i],fields=Object.keys(item.properties);for(const field of fields){field in foundFields||(foundFields[field]={label:field,name:field,type:null});const value=item.properties[field],info=foundFields[field];if(void 0===value||""===value||null===value)continue;if(!inferTypes){null===info.type&&"number"==typeof value?info.type="number":"number"===info.type&&"number"!=typeof value&&(info.type="string");continue}const parsedNumber=tryParseNumber(value);if(null===info.type&&null!==parsedNumber){info.type="number";continue}if("number"===info.type&&null===parsedNumber){info.type="string";continue}const parsedDate=tryParseDate(value);null===info.type&&null!==parsedDate?info.type="date":"date"===info.type&&null===parsedDate&&(info.type="string")}}const properties=[],mutators={};for(const field in foundFields){const info=foundFields[field];"number"===info.type?mutators[field]=tryParseNumber:"date"===info.type&&(mutators[field]=tryParseDate),properties.push({...info,type:info.type||"string"})}return inferTypes&&function mutateProperties(items,mutators){const mutatorKeys=Object.keys(mutators);for(let i=0,ii=items.length;i<ii;i++){const item=items[i];for(const mutatorField of mutatorKeys)mutatorField in item.properties&&(item.properties[mutatorField]=mutators[mutatorField](item.properties[mutatorField]))}return items}(items,mutators),{items,properties}}function getJsonDataItemsProxy(items){return new Proxy(items,{get:(target,p)=>"string"==typeof p&&!Number.isNaN(parseInt(p))&&target[p]?.properties?target[p].properties:target[p],set(){throw new Error("This object is read-only")}})}class BaseReader{constructor(url){this.url=url,this.selected=null,this.groupedBy=null,this.aggregations=null,this.filter=null,this.sort=null,this.startIndex=null,this.count=null}load(){throw new Error("not implemented")}get properties(){throw new Error("not implemented")}get info(){throw new Error("not implemented")}read(){throw new Error("not implemented")}selectAll(){return this.groupedBy=null,this.aggregations=null,this.selected=null,this.filter=null,this.startIndex=null,this.count=null,this}select(...selectedFields){return this.selected=selectedFields,this.aggregations=null,this.groupedBy=null,this}groupBy(...groupBy){return this.groupedBy=groupBy,this.selected=null,this}aggregate(...aggregations){return this.aggregations=aggregations,this}where(filter){return this.filter=filter,this}orderBy(...fieldSorts){return this.sort=fieldSorts,this}limit(startIndex,count){return this.startIndex=startIndex,this.count=count,this}}function filterToSql(filter){const operator=filter[0],args=filter.slice(1);function valueToSql(value){return"number"==typeof value?value:`'${value}'`}switch(operator){case"<":case"<=":case">":case">=":case"=":case"!=":case"like":return`[${args[0]}] ${operator.toUpperCase()} ${valueToSql(args[1])}`;case"in":{const values=args.slice(1);return`[${args[0]}] IN (${values.map(valueToSql).join(", ")})`}case"and":case"or":return`(${args.map(filterToSql).join(` ${operator.toUpperCase()} `)})`;case"not":return`NOT (${filterToSql(args[0])})`}throw new Error(`Could not generate SQL query, operator not recognized: ${operator}`)}function aggregationToSql(aggregation){const operation=aggregation[0],field=aggregation[1];switch(operation){case"average":return`AVG([${field}]) as [average(${field})]`;case"sum":case"max":case"min":return`${operation.toUpperCase()}([${field}]) as [${operation}(${field})]`;case"count":return"COUNT(*) as [count()]"}}class BaseFileReader extends BaseReader{getData(){throw new Error("not implemented")}load(){this.parseResult_=this.getData()}get properties(){return this.parseResult_.then((result=>result.properties))}get info(){return this.parseResult_.then((result=>({itemsCount:result.items.length})))}read(){var _this=this;return(0,asyncToGenerator.A)((function*(){const items=(yield _this.parseResult_).items;if(null==_this.groupedBy&&null==_this.aggregations&&null==_this.selected&&null==_this.sort&&null==_this.filter&&null==_this.startIndex&&null==_this.count)return items;const jsonItems=getJsonDataItemsProxy(items),query=function generateSqlQuery(selected=null,filter=null,sort=null,startIndex=null,count=null,groupBy=null,aggregations=null){let sqlSelect="SELECT *",sqlOrderBy="",sqlWhere="",sqlLimit="",sqlGroupBy="";if(null!==selected&&(sqlSelect=`SELECT ${selected.map((name=>`[${name}]`)).join(", ")}`),null!==filter&&(sqlWhere=` WHERE ${filterToSql(filter)}`),sort?.length&&(sqlOrderBy=` ORDER BY ${sort.map((sort=>`[${sort[1]}] ${sort[0].toUpperCase()}`)).join(", ")}`),null!==startIndex&&null!==count&&(sqlLimit=` LIMIT ${count} OFFSET ${startIndex}`),null!==groupBy&&null!==aggregations){sqlSelect=`SELECT ${aggregations.map(aggregationToSql).join(", ")}`;const groupedByDistinct=groupBy.filter((group=>"distinct"===group[0])),sqlGroupByFields=groupedByDistinct.map((group=>`[${group[1]}]`)).join(", "),sqlGroupBySelect=groupedByDistinct.map((group=>`[${group[1]}] as [distinct(${group[1]})]`)).join(", ");sqlGroupByFields&&sqlGroupBySelect&&(sqlGroupBy=` GROUP BY ${sqlGroupByFields}`,sqlSelect+=`, ${sqlGroupBySelect}`)}return sqlSelect+" FROM ?"+sqlGroupBy+sqlOrderBy+sqlWhere+sqlLimit}(_this.selected,_this.filter,_this.sort,_this.startIndex,_this.count,_this.groupedBy,_this.aggregations);return(yield __webpack_require__.e(2603).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/alasql/dist/alasql.min.js",23)).then((module=>module.default(query,[jsonItems])))).map(jsonToGeojsonFeature)}))()}}function parseCsv(text){let delimiter;try{const header=text.split("\n")[0];delimiter=papaparse_min.parse(header,{header:!1}).meta.delimiter}catch(e){throw new Error("CSV parsing failed: the delimiter could not be guessed")}const parsed=papaparse_min.parse(text,{header:!0,skipEmptyLines:!0,delimiter});if(parsed.errors.length)throw new Error("CSV parsing failed for the following reasons:\n"+parsed.errors.map((error=>`* ${error.message} at row ${error.row}, column ${error.index}`)).join("\n"));return processItemProperties(parsed.data.map(jsonToGeojsonFeature),!0)}class CsvReader extends BaseFileReader{getData(){return fetchDataAsText(this.url).then(parseCsv)}}function parseJson(text){const parsed=JSON.parse(text);if(!Array.isArray(parsed))throw new Error("Could not parse JSON, expected an array at root level");return processItemProperties(parsed.map(jsonToGeojsonFeature))}class JsonReader extends BaseFileReader{getData(){return fetchDataAsText(this.url).then(parseJson)}}function parseGeojson(text){const parsed=JSON.parse(text),features="FeatureCollection"===parsed.type?parsed.features:parsed;if(!Array.isArray(features))throw new Error("Could not parse GeoJSON, expected a features collection or an array of features at root level");return processItemProperties(features)}class GeojsonReader extends BaseFileReader{getData(){return fetchDataAsText(this.url).then(parseGeojson)}}function parseExcel(buffer){return __webpack_require__.e(1151).then(__webpack_require__.bind(__webpack_require__,"./node_modules/xlsx/xlsx.mjs")).then((({read,utils})=>{const workbook=read(buffer),sheet=workbook.Sheets[workbook.SheetNames[0]];let json=utils.sheet_to_json(sheet);return json.length||(json=[]),processItemProperties(json.map(jsonToGeojsonFeature),!0)}))}class ExcelReader extends BaseFileReader{getData(){return function fetchDataAsArrayBuffer(url){return(0,dist.E6)((()=>(0,dist.cB)(url).catch((error=>{throw model_FetchError.corsOrNetwork(error.message)})).then(function(){var _ref2=(0,asyncToGenerator.A)((function*(response){if(!response.ok)throw model_FetchError.http(response.status);return Array.from(new Uint8Array(yield response.arrayBuffer()))}));return function(_x4){return _ref2.apply(this,arguments)}}())),url,"asArrayBuffer").then((array=>new Uint8Array(array).buffer))}(this.url).then(parseExcel)}}var WFS=__webpack_require__("./node_modules/ol/format/WFS.js"),GeoJSON=__webpack_require__("./node_modules/ol/format/GeoJSON.js");class GmlReader extends BaseFileReader{constructor(url,namespace,version){super(url),this.namespace=namespace,this.version=version}getData(){return fetchDataAsText(this.url).then((text=>function parseGml(text,namespace,version){const splittedNamespace=namespace.split(":"),match=new RegExp(`xmlns:${splittedNamespace[0]}=["']([^'"]*)["']`).exec(text);if(match&&match.length>=2){const wf=new WFS.A({featureNS:match[1],featureType:splittedNamespace[1],version});let features;try{features=wf.readFeatures(text)}catch(e){throw Error("Couldn't parse WFS with GML features")}return processItemProperties((new GeoJSON.A).writeFeaturesObject(features).features,!0)}throw Error("Couldn't retrieve namespace url")}(text,this.namespace,this.version)))}}function openDataset(_x,_x2,_x3){return _openDataset.apply(this,arguments)}function _openDataset(){return _openDataset=(0,asyncToGenerator.A)((function*(url,typeHint,options){const fileType=yield function inferDatasetType(_x,_x2){return _inferDatasetType.apply(this,arguments)}(url,typeHint);let reader;try{switch(fileType){case"csv":reader=new CsvReader(url);break;case"json":reader=new JsonReader(url);break;case"geojson":reader=new GeojsonReader(url);break;case"excel":reader=new ExcelReader(url);break;case"gml":reader=new GmlReader(url,options.namespace,options.wfsVersion)}return reader.load(),reader}catch(e){throw model_FetchError.parsingFailed(e.message)}})),_openDataset.apply(this,arguments)}},"./node_modules/rxjs/dist/esm5/internal/observable/throwError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>throwError});var _Observable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_util_isFunction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js");function throwError(errorOrErrorFactory,scheduler){var errorFactory=(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_0__.T)(errorOrErrorFactory)?errorOrErrorFactory:function(){return errorOrErrorFactory},init=function(subscriber){return subscriber.error(errorFactory())};return new _Observable__WEBPACK_IMPORTED_MODULE_1__.c(scheduler?function(subscriber){return scheduler.schedule(init,0,subscriber)}:init)}},"./node_modules/rxjs/dist/esm5/internal/operators/catchError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>catchError});var _observable_innerFrom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_util_lift__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js");function catchError(selector){return(0,_util_lift__WEBPACK_IMPORTED_MODULE_0__.N)((function(source,subscriber){var handledResult,innerSub=null,syncUnsub=!1;innerSub=source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__._)(subscriber,void 0,void 0,(function(err){handledResult=(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_2__.Tg)(selector(err,catchError(selector)(source))),innerSub?(innerSub.unsubscribe(),innerSub=null,handledResult.subscribe(subscriber)):syncUnsub=!0}))),syncUnsub&&(innerSub.unsubscribe(),innerSub=null,handledResult.subscribe(subscriber))}))}},"./node_modules/rxjs/dist/esm5/internal/operators/delayWhen.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>delayWhen});var _observable_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/concat.js"),_take__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/take.js"),_ignoreElements__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/ignoreElements.js"),_mapTo__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mapTo.js"),_mergeMap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js");function delayWhen(delayDurationSelector,subscriptionDelay){return subscriptionDelay?function(source){return(0,_observable_concat__WEBPACK_IMPORTED_MODULE_0__.x)(subscriptionDelay.pipe((0,_take__WEBPACK_IMPORTED_MODULE_1__.s)(1),(0,_ignoreElements__WEBPACK_IMPORTED_MODULE_2__.w)()),source.pipe(delayWhen(delayDurationSelector)))}:(0,_mergeMap__WEBPACK_IMPORTED_MODULE_3__.Z)((function(value,index){return(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_4__.Tg)(delayDurationSelector(value,index)).pipe((0,_take__WEBPACK_IMPORTED_MODULE_1__.s)(1),(0,_mapTo__WEBPACK_IMPORTED_MODULE_5__.u)(value))}))}},"./node_modules/rxjs/dist/esm5/internal/operators/ignoreElements.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>ignoreElements});var _util_lift__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_util_noop__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/noop.js");function ignoreElements(){return(0,_util_lift__WEBPACK_IMPORTED_MODULE_0__.N)((function(source,subscriber){source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__._)(subscriber,_util_noop__WEBPACK_IMPORTED_MODULE_2__.l))}))}},"./node_modules/rxjs/dist/esm5/internal/operators/mapTo.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>mapTo});var _map__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js");function mapTo(value){return(0,_map__WEBPACK_IMPORTED_MODULE_0__.T)((function(){return value}))}},"./libs/feature/dataviz/src/lib/table-view/table-view.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_common_http__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs"),_geonetwork_ui_util_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/util/i18n/src/index.ts"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@ngx-translate/core/fesm2020/ngx-translate-core.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),_table_view_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/feature/dataviz/src/lib/table-view/table-view.component.ts"),_geonetwork_ui_ui_dataviz__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/ui/dataviz/src/index.ts"),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");const __WEBPACK_DEFAULT_EXPORT__={title:"Smart/Dataviz/TableView",component:_table_view_component__WEBPACK_IMPORTED_MODULE_2__.N,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({imports:[_geonetwork_ui_ui_dataviz__WEBPACK_IMPORTED_MODULE_3__.Or,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__.h.forRoot(_geonetwork_ui_util_i18n__WEBPACK_IMPORTED_MODULE_0__.sU)]}),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.applicationConfig)({providers:[(0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.importProvidersFrom)(_geonetwork_ui_ui_dataviz__WEBPACK_IMPORTED_MODULE_3__.A5),(0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.importProvidersFrom)(_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__.BrowserAnimationsModule),(0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.importProvidersFrom)(_angular_common_http__WEBPACK_IMPORTED_MODULE_7__.q1)]}),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.componentWrapperDecorator)((story=>`<div class="border border-gray-300 h-[500px] w-[800px] p-[10px]" style="resize: both; overflow: auto">${story}</div>`))]},LINKS={wfs:{description:"US states",name:"topp:states",url:new URL("https://ahocevar.com/geoserver/wfs?service=WFS&version=1.1.0&request=GetCapabilities"),type:"service",accessServiceProtocol:"wfs"},csv:{description:"France departments",url:new URL("https://www.data.gouv.fr/fr/datasets/r/70cef74f-70b1-495a-8500-c089229c0254"),type:"download"}},Primary={args:{link:"wfs"},argTypes:{link:{control:"radio",options:Object.keys(LINKS)}},render:args=>({props:{...args,link:LINKS[args.link]}})}},"./libs/feature/dataviz/src/lib/table-view/table-view.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/ui/dataviz/src/lib/chart/chart.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/ui/dataviz/src/lib/figure/figure.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: inherit;\n}\n",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/ui/dataviz/src/lib/table/table.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"table {\n  width: 100%;\n  background: white;\n}\nth.mat-mdc-header-cell,\ntd.mat-mdc-cell,\ntd.mat-mdc-footer-cell {\n  padding-right: 20px;\n}\ntr.mat-mdc-row,\ntr.mat-mdc-footer-row {\n  height: 36px;\n}\ntr:hover {\n  background: whitesmoke;\n}\ntr.mat-mdc-header-row {\n  height: 48px;\n}\n\n[mat-header-cell] {\n  color: #0000008a;\n  font-size: 12px;\n  font-weight: 500;\n}\ntr {\n  cursor: pointer;\n}\n\n.active .mat-mdc-cell {\n  color: var(--color-primary);\n}\n",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/ui/widgets/src/lib/color-scale/color-scale.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/ui/widgets/src/lib/loading-mask/loading-mask.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"/* this overrides the spinner color with a CSS variable to match the theme */\n::ng-deep .mat-spinner circle {\n  stroke: var(--color-gray-700);\n  opacity: 0.5;\n}\n\n.backdrop {\n  background-color: rgba(255, 255, 255, 0.4);\n}\n\n@supports ((-webkit-backdrop-filter: blur()) or (backdrop-filter: blur())) {\n  .backdrop {\n    background-color: transparent;\n    -webkit-backdrop-filter: blur(4px);\n            backdrop-filter: blur(4px);\n  }\n}\n\n.background {\n  opacity: 0.7;\n}\n",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/ui/widgets/src/lib/popover/popover.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/ui/widgets/src/lib/popup-alert/popup-alert.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  pointer-events: none;\n}\n.container {\n  filter: drop-shadow(0px 4px 3px rgba(0, 0, 0, 0.2));\n}\n.message {\n  transition: clip-path 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n}\n.message.expanded {\n  clip-path: circle(100%);\n}\n.position-top {\n  clip-path: circle(19px at 20px 20px);\n  align-items: start;\n  top: 0;\n  left: 0;\n}\n.position-bottom {\n  clip-path: circle(19px at 20px calc(100% - 20px));\n  align-items: end;\n  bottom: 0;\n  left: 0;\n}\n\n/* style links inside message */\n.container ::ng-deep a {\n  text-decoration: underline;\n  font-weight: bold;\n}\n.container ::ng-deep a:hover {\n  opacity: 0.85;\n}\n",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/ui/widgets/src/lib/progress-bar/progress-bar.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".font-bold {\n  font-weight: var(--progress-bar-font-weight, 'bold');\n}\n",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/ui/widgets/src/lib/spinning-loader/spinning-loader.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/ui/widgets/src/lib/step-bar/step-bar.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".icon-check {\n  color: var(--color-primary);\n}\n",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);