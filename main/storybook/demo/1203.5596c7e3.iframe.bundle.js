(self.webpackChunkgeonetwork_ui=self.webpackChunkgeonetwork_ui||[]).push([[1203],{"./node_modules/ol/Collection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var extendStatics,_AssertionError_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/AssertionError.js"),_Object_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/Object.js"),_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/CollectionEventType.js"),_events_Event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/events/Event.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Property_LENGTH="length",CollectionEvent=function(_super){function CollectionEvent(type,opt_element,opt_index){var _this=_super.call(this,type)||this;return _this.element=opt_element,_this.index=opt_index,_this}return __extends(CollectionEvent,_super),CollectionEvent}(_events_Event_js__WEBPACK_IMPORTED_MODULE_0__.ZP);const __WEBPACK_DEFAULT_EXPORT__=function(_super){function Collection(opt_array,opt_options){var _this=_super.call(this)||this;_this.on,_this.once,_this.un;var options=opt_options||{};if(_this.unique_=!!options.unique,_this.array_=opt_array||[],_this.unique_)for(var i=0,ii=_this.array_.length;i<ii;++i)_this.assertUnique_(_this.array_[i],i);return _this.updateLength_(),_this}return __extends(Collection,_super),Collection.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},Collection.prototype.extend=function(arr){for(var i=0,ii=arr.length;i<ii;++i)this.push(arr[i]);return this},Collection.prototype.forEach=function(f){for(var array=this.array_,i=0,ii=array.length;i<ii;++i)f(array[i],i,array)},Collection.prototype.getArray=function(){return this.array_},Collection.prototype.item=function(index){return this.array_[index]},Collection.prototype.getLength=function(){return this.get(Property_LENGTH)},Collection.prototype.insertAt=function(index,elem){this.unique_&&this.assertUnique_(elem),this.array_.splice(index,0,elem),this.updateLength_(),this.dispatchEvent(new CollectionEvent(_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_1__.Z.ADD,elem,index))},Collection.prototype.pop=function(){return this.removeAt(this.getLength()-1)},Collection.prototype.push=function(elem){this.unique_&&this.assertUnique_(elem);var n=this.getLength();return this.insertAt(n,elem),this.getLength()},Collection.prototype.remove=function(elem){for(var arr=this.array_,i=0,ii=arr.length;i<ii;++i)if(arr[i]===elem)return this.removeAt(i)},Collection.prototype.removeAt=function(index){var prev=this.array_[index];return this.array_.splice(index,1),this.updateLength_(),this.dispatchEvent(new CollectionEvent(_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_1__.Z.REMOVE,prev,index)),prev},Collection.prototype.setAt=function(index,elem){var n=this.getLength();if(index<n){this.unique_&&this.assertUnique_(elem,index);var prev=this.array_[index];this.array_[index]=elem,this.dispatchEvent(new CollectionEvent(_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_1__.Z.REMOVE,prev,index)),this.dispatchEvent(new CollectionEvent(_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_1__.Z.ADD,elem,index))}else{for(var j=n;j<index;++j)this.insertAt(j,void 0);this.insertAt(index,elem)}},Collection.prototype.updateLength_=function(){this.set(Property_LENGTH,this.array_.length)},Collection.prototype.assertUnique_=function(elem,opt_except){for(var i=0,ii=this.array_.length;i<ii;++i)if(this.array_[i]===elem&&i!==opt_except)throw new _AssertionError_js__WEBPACK_IMPORTED_MODULE_2__.Z(58)},Collection}(_Object_js__WEBPACK_IMPORTED_MODULE_3__.Z)},"./node_modules/ol/CollectionEventType.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={ADD:"add",REMOVE:"remove"}},"./node_modules/ol/Image.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>listenImage,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var extendStatics,_events_EventType_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/events/EventType.js"),_ImageBase_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/ImageBase.js"),_ImageState_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/ImageState.js"),_has_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/has.js"),_extent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/extent.js"),_events_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/events.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});function listenImage(image,loadHandler,errorHandler){var img=image,listening=!0,decoding=!1,loaded=!1,listenerKeys=[(0,_events_js__WEBPACK_IMPORTED_MODULE_3__.Vx)(img,_events_EventType_js__WEBPACK_IMPORTED_MODULE_4__.Z.LOAD,(function(){loaded=!0,decoding||loadHandler()}))];return img.src&&_has_js__WEBPACK_IMPORTED_MODULE_5__.Tp?(decoding=!0,img.decode().then((function(){listening&&loadHandler()})).catch((function(error){listening&&(loaded?loadHandler():errorHandler())}))):listenerKeys.push((0,_events_js__WEBPACK_IMPORTED_MODULE_3__.Vx)(img,_events_EventType_js__WEBPACK_IMPORTED_MODULE_4__.Z.ERROR,errorHandler)),function unlisten(){listening=!1,listenerKeys.forEach(_events_js__WEBPACK_IMPORTED_MODULE_3__.bN)}}const __WEBPACK_DEFAULT_EXPORT__=function(_super){function ImageWrapper(extent,resolution,pixelRatio,src,crossOrigin,imageLoadFunction){var _this=_super.call(this,extent,resolution,pixelRatio,_ImageState_js__WEBPACK_IMPORTED_MODULE_0__.Z.IDLE)||this;return _this.src_=src,_this.image_=new Image,null!==crossOrigin&&(_this.image_.crossOrigin=crossOrigin),_this.unlisten_=null,_this.state=_ImageState_js__WEBPACK_IMPORTED_MODULE_0__.Z.IDLE,_this.imageLoadFunction_=imageLoadFunction,_this}return __extends(ImageWrapper,_super),ImageWrapper.prototype.getImage=function(){return this.image_},ImageWrapper.prototype.handleImageError_=function(){this.state=_ImageState_js__WEBPACK_IMPORTED_MODULE_0__.Z.ERROR,this.unlistenImage_(),this.changed()},ImageWrapper.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.Cr)(this.extent)/this.image_.height),this.state=_ImageState_js__WEBPACK_IMPORTED_MODULE_0__.Z.LOADED,this.unlistenImage_(),this.changed()},ImageWrapper.prototype.load=function(){this.state!=_ImageState_js__WEBPACK_IMPORTED_MODULE_0__.Z.IDLE&&this.state!=_ImageState_js__WEBPACK_IMPORTED_MODULE_0__.Z.ERROR||(this.state=_ImageState_js__WEBPACK_IMPORTED_MODULE_0__.Z.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},ImageWrapper.prototype.setImage=function(image){this.image_=image,this.resolution=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.Cr)(this.extent)/this.image_.height},ImageWrapper.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},ImageWrapper}(_ImageBase_js__WEBPACK_IMPORTED_MODULE_2__.Z)},"./node_modules/ol/ImageBase.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var extendStatics,_events_Target_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/events/Target.js"),_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/events/EventType.js"),_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/util.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const __WEBPACK_DEFAULT_EXPORT__=function(_super){function ImageBase(extent,resolution,pixelRatio,state){var _this=_super.call(this)||this;return _this.extent=extent,_this.pixelRatio_=pixelRatio,_this.resolution=resolution,_this.state=state,_this}return __extends(ImageBase,_super),ImageBase.prototype.changed=function(){this.dispatchEvent(_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__.Z.CHANGE)},ImageBase.prototype.getExtent=function(){return this.extent},ImageBase.prototype.getImage=function(){return(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.O3)()},ImageBase.prototype.getPixelRatio=function(){return this.pixelRatio_},ImageBase.prototype.getResolution=function(){return this.resolution},ImageBase.prototype.getState=function(){return this.state},ImageBase.prototype.load=function(){(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.O3)()},ImageBase}(_events_Target_js__WEBPACK_IMPORTED_MODULE_2__.Z)},"./node_modules/ol/ImageState.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},"./node_modules/ol/ImageTile.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var extendStatics,_Tile_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/Tile.js"),_TileState_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/TileState.js"),_dom_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/dom.js"),_Image_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/Image.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const __WEBPACK_DEFAULT_EXPORT__=function(_super){function ImageTile(tileCoord,state,src,crossOrigin,tileLoadFunction,opt_options){var _this=_super.call(this,tileCoord,state,opt_options)||this;return _this.crossOrigin_=crossOrigin,_this.src_=src,_this.key=src,_this.image_=new Image,null!==crossOrigin&&(_this.image_.crossOrigin=crossOrigin),_this.unlisten_=null,_this.tileLoadFunction_=tileLoadFunction,_this}return __extends(ImageTile,_super),ImageTile.prototype.getImage=function(){return this.image_},ImageTile.prototype.setImage=function(element){this.image_=element,this.state=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.LOADED,this.unlistenImage_(),this.changed()},ImageTile.prototype.handleImageError_=function(){this.state=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.ERROR,this.unlistenImage_(),this.image_=function getBlankImage(){var ctx=(0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.E4)(1,1);return ctx.fillStyle="rgba(0,0,0,0)",ctx.fillRect(0,0,1,1),ctx.canvas}(),this.changed()},ImageTile.prototype.handleImageLoad_=function(){var image=this.image_;image.naturalWidth&&image.naturalHeight?this.state=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.LOADED:this.state=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.EMPTY,this.unlistenImage_(),this.changed()},ImageTile.prototype.load=function(){this.state==_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.ERROR&&(this.state=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.IDLE&&(this.state=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,_Image_js__WEBPACK_IMPORTED_MODULE_1__.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},ImageTile.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},ImageTile}(_Tile_js__WEBPACK_IMPORTED_MODULE_2__.Z)},"./node_modules/ol/Map.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>ol_Map});var extendStatics,Disposable=__webpack_require__("./node_modules/ol/Disposable.js"),functions=__webpack_require__("./node_modules/ol/functions.js"),util=__webpack_require__("./node_modules/ol/util.js"),transform=__webpack_require__("./node_modules/ol/transform.js"),extent=__webpack_require__("./node_modules/ol/extent.js"),IconImageCache=__webpack_require__("./node_modules/ol/style/IconImageCache.js"),Layer=__webpack_require__("./node_modules/ol/layer/Layer.js"),ol_coordinate=__webpack_require__("./node_modules/ol/coordinate.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});function expireIconCache(map,frameState){IconImageCache.c.expire()}const Map=function(_super){function MapRenderer(map){var _this=_super.call(this)||this;return _this.map_=map,_this}return __extends(MapRenderer,_super),MapRenderer.prototype.dispatchRenderEvent=function(type,frameState){(0,util.O3)()},MapRenderer.prototype.calculateMatrices2D=function(frameState){var viewState=frameState.viewState,coordinateToPixelTransform=frameState.coordinateToPixelTransform,pixelToCoordinateTransform=frameState.pixelToCoordinateTransform;(0,transform.qC)(coordinateToPixelTransform,frameState.size[0]/2,frameState.size[1]/2,1/viewState.resolution,-1/viewState.resolution,-viewState.rotation,-viewState.center[0],-viewState.center[1]),(0,transform.nb)(pixelToCoordinateTransform,coordinateToPixelTransform)},MapRenderer.prototype.forEachFeatureAtCoordinate=function(coordinate,frameState,hitTolerance,checkWrapped,callback,thisArg,layerFilter,thisArg2){var result,viewState=frameState.viewState;function forEachFeatureAtCoordinate(managed,feature,layer,geometry){return callback.call(thisArg,feature,managed?layer:null,geometry)}var projection=viewState.projection,translatedCoordinate=(0,ol_coordinate.Cf)(coordinate.slice(),projection),offsets=[[0,0]];if(projection.canWrapX()&&checkWrapped){var projectionExtent=projection.getExtent(),worldWidth=(0,extent.dz)(projectionExtent);offsets.push([-worldWidth,0],[worldWidth,0])}for(var layerStates=frameState.layerStatesArray,numLayers=layerStates.length,matches=[],tmpCoord=[],i=0;i<offsets.length;i++)for(var j=numLayers-1;j>=0;--j){var layerState=layerStates[j],layer=layerState.layer;if(layer.hasRenderer()&&(0,Layer.j)(layerState,viewState)&&layerFilter.call(thisArg2,layer)){var layerRenderer=layer.getRenderer(),source=layer.getSource();if(layerRenderer&&source){var coordinates=source.getWrapX()?translatedCoordinate:coordinate,callback_1=forEachFeatureAtCoordinate.bind(null,layerState.managed);tmpCoord[0]=coordinates[0]+offsets[i][0],tmpCoord[1]=coordinates[1]+offsets[i][1],result=layerRenderer.forEachFeatureAtCoordinate(tmpCoord,frameState,hitTolerance,callback_1,matches)}if(result)return result}}if(0!==matches.length){var order=1/matches.length;return matches.forEach((function(m,i){return m.distanceSq+=i*order})),matches.sort((function(a,b){return a.distanceSq-b.distanceSq})),matches.some((function(m){return result=m.callback(m.feature,m.layer,m.geometry)})),result}},MapRenderer.prototype.forEachLayerAtPixel=function(pixel,frameState,hitTolerance,callback,layerFilter){return(0,util.O3)()},MapRenderer.prototype.hasFeatureAtCoordinate=function(coordinate,frameState,hitTolerance,checkWrapped,layerFilter,thisArg){return void 0!==this.forEachFeatureAtCoordinate(coordinate,frameState,hitTolerance,checkWrapped,functions.uX,this,layerFilter,thisArg)},MapRenderer.prototype.getMap=function(){return this.map_},MapRenderer.prototype.renderFrame=function(frameState){(0,util.O3)()},MapRenderer.prototype.scheduleExpireIconCache=function(frameState){IconImageCache.c.canExpireCache()&&frameState.postRenderFunctions.push(expireIconCache)},MapRenderer}(Disposable.Z);var ObjectEventType=__webpack_require__("./node_modules/ol/ObjectEventType.js"),Event=__webpack_require__("./node_modules/ol/render/Event.js"),EventType=__webpack_require__("./node_modules/ol/render/EventType.js"),css=__webpack_require__("./node_modules/ol/css.js"),canvas=__webpack_require__("./node_modules/ol/render/canvas.js"),events=__webpack_require__("./node_modules/ol/events.js"),dom=__webpack_require__("./node_modules/ol/dom.js"),Composite_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const Composite=function(_super){function CompositeMapRenderer(map){var _this=_super.call(this,map)||this;_this.fontChangeListenerKey_=(0,events.oL)(canvas.sG,ObjectEventType.Z.PROPERTYCHANGE,map.redrawText.bind(map)),_this.element_=document.createElement("div");var style=_this.element_.style;style.position="absolute",style.width="100%",style.height="100%",style.zIndex="0",_this.element_.className=css.XV+" ol-layers";var container=map.getViewport();return container.insertBefore(_this.element_,container.firstChild||null),_this.children_=[],_this.renderedVisible_=!0,_this}return Composite_extends(CompositeMapRenderer,_super),CompositeMapRenderer.prototype.dispatchRenderEvent=function(type,frameState){var map=this.getMap();if(map.hasListener(type)){var event_1=new Event.Z(type,void 0,frameState);map.dispatchEvent(event_1)}},CompositeMapRenderer.prototype.disposeInternal=function(){(0,events.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),_super.prototype.disposeInternal.call(this)},CompositeMapRenderer.prototype.renderFrame=function(frameState){if(frameState){this.calculateMatrices2D(frameState),this.dispatchRenderEvent(EventType.Z.PRECOMPOSE,frameState);var layerStatesArray=frameState.layerStatesArray.sort((function(a,b){return a.zIndex-b.zIndex})),viewState=frameState.viewState;this.children_.length=0;for(var declutterLayers=[],previousElement=null,i=0,ii=layerStatesArray.length;i<ii;++i){var layerState=layerStatesArray[i];frameState.layerIndex=i;var layer=layerState.layer,sourceState=layer.getSourceState();if(!(0,Layer.j)(layerState,viewState)||"ready"!=sourceState&&"undefined"!=sourceState)layer.unrender();else{var element=layer.render(frameState,previousElement);element&&(element!==previousElement&&(this.children_.push(element),previousElement=element),"getDeclutter"in layer&&declutterLayers.push(layer))}}for(i=declutterLayers.length-1;i>=0;--i)declutterLayers[i].renderDeclutter(frameState);(0,dom.hF)(this.element_,this.children_),this.dispatchRenderEvent(EventType.Z.POSTCOMPOSE,frameState),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(frameState)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},CompositeMapRenderer.prototype.forEachLayerAtPixel=function(pixel,frameState,hitTolerance,callback,layerFilter){for(var viewState=frameState.viewState,layerStates=frameState.layerStatesArray,i=layerStates.length-1;i>=0;--i){var layerState=layerStates[i],layer=layerState.layer;if(layer.hasRenderer()&&(0,Layer.j)(layerState,viewState)&&layerFilter(layer)){var data=layer.getRenderer().getDataAtPixel(pixel,frameState,hitTolerance);if(data){var result=callback(layer,data);if(result)return result}}}},CompositeMapRenderer}(Map);var ol_Object=__webpack_require__("./node_modules/ol/Object.js"),Collection=__webpack_require__("./node_modules/ol/Collection.js"),CollectionEventType=__webpack_require__("./node_modules/ol/CollectionEventType.js"),events_EventType=__webpack_require__("./node_modules/ol/events/EventType.js"),Base=__webpack_require__("./node_modules/ol/layer/Base.js"),events_Event=__webpack_require__("./node_modules/ol/events/Event.js"),asserts=__webpack_require__("./node_modules/ol/asserts.js"),obj=__webpack_require__("./node_modules/ol/obj.js"),Group_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),GroupEvent=function(_super){function GroupEvent(type,layer){var _this=_super.call(this,type)||this;return _this.layer=layer,_this}return Group_extends(GroupEvent,_super),GroupEvent}(events_Event.ZP),Property_LAYERS="layers",LayerGroup=function(_super){function LayerGroup(opt_options){var _this=this,options=opt_options||{},baseOptions=(0,obj.f0)({},options);delete baseOptions.layers;var layers=options.layers;return(_this=_super.call(this,baseOptions)||this).on,_this.once,_this.un,_this.layersListenerKeys_=[],_this.listenerKeys_={},_this.addChangeListener(Property_LAYERS,_this.handleLayersChanged_),layers?Array.isArray(layers)?layers=new Collection.Z(layers.slice(),{unique:!0}):(0,asserts.h)("function"==typeof layers.getArray,43):layers=new Collection.Z(void 0,{unique:!0}),_this.setLayers(layers),_this}return Group_extends(LayerGroup,_super),LayerGroup.prototype.handleLayerChange_=function(){this.changed()},LayerGroup.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(events.bN),this.layersListenerKeys_.length=0;var layers=this.getLayers();for(var id in this.layersListenerKeys_.push((0,events.oL)(layers,CollectionEventType.Z.ADD,this.handleLayersAdd_,this),(0,events.oL)(layers,CollectionEventType.Z.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[id].forEach(events.bN);(0,obj.ZH)(this.listenerKeys_);for(var layersArray=layers.getArray(),i=0,ii=layersArray.length;i<ii;i++){var layer=layersArray[i];this.registerLayerListeners_(layer),this.dispatchEvent(new GroupEvent("addlayer",layer))}this.changed()},LayerGroup.prototype.registerLayerListeners_=function(layer){var listenerKeys=[(0,events.oL)(layer,ObjectEventType.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,events.oL)(layer,events_EventType.Z.CHANGE,this.handleLayerChange_,this)];layer instanceof LayerGroup&&listenerKeys.push((0,events.oL)(layer,"addlayer",this.handleLayerGroupAdd_,this),(0,events.oL)(layer,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,util.sq)(layer)]=listenerKeys},LayerGroup.prototype.handleLayerGroupAdd_=function(event){this.dispatchEvent(new GroupEvent("addlayer",event.layer))},LayerGroup.prototype.handleLayerGroupRemove_=function(event){this.dispatchEvent(new GroupEvent("removelayer",event.layer))},LayerGroup.prototype.handleLayersAdd_=function(collectionEvent){var layer=collectionEvent.element;this.registerLayerListeners_(layer),this.dispatchEvent(new GroupEvent("addlayer",layer)),this.changed()},LayerGroup.prototype.handleLayersRemove_=function(collectionEvent){var layer=collectionEvent.element,key=(0,util.sq)(layer);this.listenerKeys_[key].forEach(events.bN),delete this.listenerKeys_[key],this.dispatchEvent(new GroupEvent("removelayer",layer)),this.changed()},LayerGroup.prototype.getLayers=function(){return this.get(Property_LAYERS)},LayerGroup.prototype.setLayers=function(layers){var collection=this.getLayers();if(collection)for(var currentLayers=collection.getArray(),i=0,ii=currentLayers.length;i<ii;++i)this.dispatchEvent(new GroupEvent("removelayer",currentLayers[i]));this.set(Property_LAYERS,layers)},LayerGroup.prototype.getLayersArray=function(opt_array){var array=void 0!==opt_array?opt_array:[];return this.getLayers().forEach((function(layer){layer.getLayersArray(array)})),array},LayerGroup.prototype.getLayerStatesArray=function(opt_states){var states=void 0!==opt_states?opt_states:[],pos=states.length;this.getLayers().forEach((function(layer){layer.getLayerStatesArray(states)}));var ownLayerState=this.getLayerState(),defaultZIndex=ownLayerState.zIndex;opt_states||void 0!==ownLayerState.zIndex||(defaultZIndex=0);for(var i=pos,ii=states.length;i<ii;i++){var layerState=states[i];layerState.opacity*=ownLayerState.opacity,layerState.visible=layerState.visible&&ownLayerState.visible,layerState.maxResolution=Math.min(layerState.maxResolution,ownLayerState.maxResolution),layerState.minResolution=Math.max(layerState.minResolution,ownLayerState.minResolution),layerState.minZoom=Math.max(layerState.minZoom,ownLayerState.minZoom),layerState.maxZoom=Math.min(layerState.maxZoom,ownLayerState.maxZoom),void 0!==ownLayerState.extent&&(void 0!==layerState.extent?layerState.extent=(0,extent.Ed)(layerState.extent,ownLayerState.extent):layerState.extent=ownLayerState.extent),void 0===layerState.zIndex&&(layerState.zIndex=defaultZIndex)}return states},LayerGroup.prototype.getSourceState=function(){return"ready"},LayerGroup}(Base.Z);const Group=LayerGroup;var MapEvent_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const ol_MapEvent=function(_super){function MapEvent(type,map,opt_frameState){var _this=_super.call(this,type)||this;return _this.map=map,_this.frameState=void 0!==opt_frameState?opt_frameState:null,_this}return MapEvent_extends(MapEvent,_super),MapEvent}(events_Event.ZP);var MapBrowserEvent_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const ol_MapBrowserEvent=function(_super){function MapBrowserEvent(type,map,originalEvent,opt_dragging,opt_frameState,opt_activePointers){var _this=_super.call(this,type,map,opt_frameState)||this;return _this.originalEvent=originalEvent,_this.pixel_=null,_this.coordinate_=null,_this.dragging=void 0!==opt_dragging&&opt_dragging,_this.activePointers=opt_activePointers,_this}return MapBrowserEvent_extends(MapBrowserEvent,_super),Object.defineProperty(MapBrowserEvent.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(pixel){this.pixel_=pixel},enumerable:!1,configurable:!0}),Object.defineProperty(MapBrowserEvent.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(coordinate){this.coordinate_=coordinate},enumerable:!1,configurable:!0}),MapBrowserEvent.prototype.preventDefault=function(){_super.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},MapBrowserEvent.prototype.stopPropagation=function(){_super.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},MapBrowserEvent}(ol_MapEvent);var MapBrowserEventType=__webpack_require__("./node_modules/ol/MapBrowserEventType.js");const pointer_EventType_POINTERMOVE="pointermove",pointer_EventType_POINTERDOWN="pointerdown";var Target=__webpack_require__("./node_modules/ol/events/Target.js"),has=__webpack_require__("./node_modules/ol/has.js"),MapBrowserEventHandler_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const ol_MapBrowserEventHandler=function(_super){function MapBrowserEventHandler(map,moveTolerance){var _this=_super.call(this,map)||this;_this.map_=map,_this.clickTimeoutId_,_this.emulateClicks_=!1,_this.dragging_=!1,_this.dragListenerKeys_=[],_this.moveTolerance_=void 0===moveTolerance?1:moveTolerance,_this.down_=null;var element=_this.map_.getViewport();return _this.activePointers_=[],_this.trackedTouches_={},_this.element_=element,_this.pointerdownListenerKey_=(0,events.oL)(element,pointer_EventType_POINTERDOWN,_this.handlePointerDown_,_this),_this.originalPointerMoveEvent_,_this.relayedListenerKey_=(0,events.oL)(element,pointer_EventType_POINTERMOVE,_this.relayMoveEvent_,_this),_this.boundHandleTouchMove_=_this.handleTouchMove_.bind(_this),_this.element_.addEventListener(events_EventType.Z.TOUCHMOVE,_this.boundHandleTouchMove_,!!has.bM&&{passive:!1}),_this}return MapBrowserEventHandler_extends(MapBrowserEventHandler,_super),MapBrowserEventHandler.prototype.emulateClick_=function(pointerEvent){var newEvent=new ol_MapBrowserEvent(MapBrowserEventType.Z.CLICK,this.map_,pointerEvent);this.dispatchEvent(newEvent),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,newEvent=new ol_MapBrowserEvent(MapBrowserEventType.Z.DBLCLICK,this.map_,pointerEvent),this.dispatchEvent(newEvent)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var newEvent=new ol_MapBrowserEvent(MapBrowserEventType.Z.SINGLECLICK,this.map_,pointerEvent);this.dispatchEvent(newEvent)}.bind(this),250)},MapBrowserEventHandler.prototype.updateActivePointers_=function(pointerEvent){var event=pointerEvent,id=event.pointerId;if(event.type==MapBrowserEventType.Z.POINTERUP||event.type==MapBrowserEventType.Z.POINTERCANCEL){for(var pointerId in delete this.trackedTouches_[id],this.trackedTouches_)if(this.trackedTouches_[pointerId].target!==event.target){delete this.trackedTouches_[pointerId];break}}else event.type!=MapBrowserEventType.Z.POINTERDOWN&&event.type!=MapBrowserEventType.Z.POINTERMOVE||(this.trackedTouches_[id]=event);this.activePointers_=(0,obj.KX)(this.trackedTouches_)},MapBrowserEventHandler.prototype.handlePointerUp_=function(pointerEvent){this.updateActivePointers_(pointerEvent);var newEvent=new ol_MapBrowserEvent(MapBrowserEventType.Z.POINTERUP,this.map_,pointerEvent,void 0,void 0,this.activePointers_);this.dispatchEvent(newEvent),this.emulateClicks_&&!newEvent.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(pointerEvent)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(events.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},MapBrowserEventHandler.prototype.isMouseActionButton_=function(pointerEvent){return 0===pointerEvent.button},MapBrowserEventHandler.prototype.handlePointerDown_=function(pointerEvent){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(pointerEvent);var newEvent=new ol_MapBrowserEvent(MapBrowserEventType.Z.POINTERDOWN,this.map_,pointerEvent,void 0,void 0,this.activePointers_);for(var property in this.dispatchEvent(newEvent),this.down_={},pointerEvent){var value=pointerEvent[property];this.down_[property]="function"==typeof value?functions.Zn:value}if(0===this.dragListenerKeys_.length){var doc=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,events.oL)(doc,MapBrowserEventType.Z.POINTERMOVE,this.handlePointerMove_,this),(0,events.oL)(doc,MapBrowserEventType.Z.POINTERUP,this.handlePointerUp_,this),(0,events.oL)(this.element_,MapBrowserEventType.Z.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==doc&&this.dragListenerKeys_.push((0,events.oL)(this.element_.getRootNode(),MapBrowserEventType.Z.POINTERUP,this.handlePointerUp_,this))}},MapBrowserEventHandler.prototype.handlePointerMove_=function(pointerEvent){if(this.isMoving_(pointerEvent)){this.updateActivePointers_(pointerEvent),this.dragging_=!0;var newEvent=new ol_MapBrowserEvent(MapBrowserEventType.Z.POINTERDRAG,this.map_,pointerEvent,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(newEvent)}},MapBrowserEventHandler.prototype.relayMoveEvent_=function(pointerEvent){this.originalPointerMoveEvent_=pointerEvent;var dragging=!(!this.down_||!this.isMoving_(pointerEvent));this.dispatchEvent(new ol_MapBrowserEvent(MapBrowserEventType.Z.POINTERMOVE,this.map_,pointerEvent,dragging))},MapBrowserEventHandler.prototype.handleTouchMove_=function(event){var originalEvent=this.originalPointerMoveEvent_;originalEvent&&!originalEvent.defaultPrevented||"boolean"==typeof event.cancelable&&!0!==event.cancelable||event.preventDefault()},MapBrowserEventHandler.prototype.isMoving_=function(pointerEvent){return this.dragging_||Math.abs(pointerEvent.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(pointerEvent.clientY-this.down_.clientY)>this.moveTolerance_},MapBrowserEventHandler.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,events.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(events_EventType.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,events.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(events.bN),this.dragListenerKeys_.length=0,this.element_=null,_super.prototype.disposeInternal.call(this)},MapBrowserEventHandler}(Target.Z),MapEventType_POSTRENDER="postrender",MapEventType_MOVESTART="movestart",MapEventType_MOVEEND="moveend",MapEventType_LOADSTART="loadstart",MapEventType_LOADEND="loadend",MapProperty_LAYERGROUP="layergroup",MapProperty_SIZE="size",MapProperty_TARGET="target",MapProperty_VIEW="view";var DROP=1/0;const structs_PriorityQueue=function(){function PriorityQueue(priorityFunction,keyFunction){this.priorityFunction_=priorityFunction,this.keyFunction_=keyFunction,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return PriorityQueue.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,obj.ZH)(this.queuedElements_)},PriorityQueue.prototype.dequeue=function(){var elements=this.elements_,priorities=this.priorities_,element=elements[0];1==elements.length?(elements.length=0,priorities.length=0):(elements[0]=elements.pop(),priorities[0]=priorities.pop(),this.siftUp_(0));var elementKey=this.keyFunction_(element);return delete this.queuedElements_[elementKey],element},PriorityQueue.prototype.enqueue=function(element){(0,asserts.h)(!(this.keyFunction_(element)in this.queuedElements_),31);var priority=this.priorityFunction_(element);return priority!=DROP&&(this.elements_.push(element),this.priorities_.push(priority),this.queuedElements_[this.keyFunction_(element)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},PriorityQueue.prototype.getCount=function(){return this.elements_.length},PriorityQueue.prototype.getLeftChildIndex_=function(index){return 2*index+1},PriorityQueue.prototype.getRightChildIndex_=function(index){return 2*index+2},PriorityQueue.prototype.getParentIndex_=function(index){return index-1>>1},PriorityQueue.prototype.heapify_=function(){var i;for(i=(this.elements_.length>>1)-1;i>=0;i--)this.siftUp_(i)},PriorityQueue.prototype.isEmpty=function(){return 0===this.elements_.length},PriorityQueue.prototype.isKeyQueued=function(key){return key in this.queuedElements_},PriorityQueue.prototype.isQueued=function(element){return this.isKeyQueued(this.keyFunction_(element))},PriorityQueue.prototype.siftUp_=function(index){for(var elements=this.elements_,priorities=this.priorities_,count=elements.length,element=elements[index],priority=priorities[index],startIndex=index;index<count>>1;){var lIndex=this.getLeftChildIndex_(index),rIndex=this.getRightChildIndex_(index),smallerChildIndex=rIndex<count&&priorities[rIndex]<priorities[lIndex]?rIndex:lIndex;elements[index]=elements[smallerChildIndex],priorities[index]=priorities[smallerChildIndex],index=smallerChildIndex}elements[index]=element,priorities[index]=priority,this.siftDown_(startIndex,index)},PriorityQueue.prototype.siftDown_=function(startIndex,index){for(var elements=this.elements_,priorities=this.priorities_,element=elements[index],priority=priorities[index];index>startIndex;){var parentIndex=this.getParentIndex_(index);if(!(priorities[parentIndex]>priority))break;elements[index]=elements[parentIndex],priorities[index]=priorities[parentIndex],index=parentIndex}elements[index]=element,priorities[index]=priority},PriorityQueue.prototype.reprioritize=function(){var element,i,priority,priorityFunction=this.priorityFunction_,elements=this.elements_,priorities=this.priorities_,index=0,n=elements.length;for(i=0;i<n;++i)(priority=priorityFunction(element=elements[i]))==DROP?delete this.queuedElements_[this.keyFunction_(element)]:(priorities[index]=priority,elements[index++]=element);elements.length=index,priorities.length=index,this.heapify_()},PriorityQueue}();var TileState=__webpack_require__("./node_modules/ol/TileState.js"),TileQueue_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const ol_TileQueue=function(_super){function TileQueue(tilePriorityFunction,tileChangeCallback){var _this=_super.call(this,(function(element){return tilePriorityFunction.apply(null,element)}),(function(element){return element[0].getKey()}))||this;return _this.boundHandleTileChange_=_this.handleTileChange.bind(_this),_this.tileChangeCallback_=tileChangeCallback,_this.tilesLoading_=0,_this.tilesLoadingKeys_={},_this}return TileQueue_extends(TileQueue,_super),TileQueue.prototype.enqueue=function(element){var added=_super.prototype.enqueue.call(this,element);added&&element[0].addEventListener(events_EventType.Z.CHANGE,this.boundHandleTileChange_);return added},TileQueue.prototype.getTilesLoading=function(){return this.tilesLoading_},TileQueue.prototype.handleTileChange=function(event){var tile=event.target,state=tile.getState();if(state===TileState.Z.LOADED||state===TileState.Z.ERROR||state===TileState.Z.EMPTY){tile.removeEventListener(events_EventType.Z.CHANGE,this.boundHandleTileChange_);var tileKey=tile.getKey();tileKey in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[tileKey],--this.tilesLoading_),this.tileChangeCallback_()}},TileQueue.prototype.loadMoreTiles=function(maxTotalLoading,maxNewLoads){for(var tile,tileKey,newLoads=0;this.tilesLoading_<maxTotalLoading&&newLoads<maxNewLoads&&this.getCount()>0;)tileKey=(tile=this.dequeue()[0]).getKey(),tile.getState()!==TileState.Z.IDLE||tileKey in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[tileKey]=!0,++this.tilesLoading_,++newLoads,tile.load())},TileQueue}(structs_PriorityQueue);var View=__webpack_require__("./node_modules/ol/View.js"),ViewHint=__webpack_require__("./node_modules/ol/ViewHint.js"),proj=__webpack_require__("./node_modules/ol/proj.js"),ol_size=__webpack_require__("./node_modules/ol/size.js"),PluggableMap_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();function removeLayerMapProperty(layer){layer instanceof Layer.Z?layer.setMapInternal(null):layer instanceof Group&&layer.getLayers().forEach(removeLayerMapProperty)}function setLayerMapProperty(layer,map){if(layer instanceof Layer.Z)layer.setMapInternal(map);else if(layer instanceof Group)for(var layers=layer.getLayers().getArray(),i=0,ii=layers.length;i<ii;++i)setLayerMapProperty(layers[i],map)}var PluggableMap=function(_super){function PluggableMap(options){var _this=_super.call(this)||this;_this.on,_this.once,_this.un;var optionsInternal=function createOptionsInternal(options){var keyboardEventTarget=null;void 0!==options.keyboardEventTarget&&(keyboardEventTarget="string"==typeof options.keyboardEventTarget?document.getElementById(options.keyboardEventTarget):options.keyboardEventTarget);var controls,interactions,overlays,values={},layerGroup=options.layers&&"function"==typeof options.layers.getLayers?options.layers:new Group({layers:options.layers});values[MapProperty_LAYERGROUP]=layerGroup,values[MapProperty_TARGET]=options.target,values[MapProperty_VIEW]=options.view instanceof View.ZP?options.view:new View.ZP,void 0!==options.controls&&(Array.isArray(options.controls)?controls=new Collection.Z(options.controls.slice()):((0,asserts.h)("function"==typeof options.controls.getArray,47),controls=options.controls));void 0!==options.interactions&&(Array.isArray(options.interactions)?interactions=new Collection.Z(options.interactions.slice()):((0,asserts.h)("function"==typeof options.interactions.getArray,48),interactions=options.interactions));void 0!==options.overlays?Array.isArray(options.overlays)?overlays=new Collection.Z(options.overlays.slice()):((0,asserts.h)("function"==typeof options.overlays.getArray,49),overlays=options.overlays):overlays=new Collection.Z;return{controls,interactions,keyboardEventTarget,overlays,values}}(options);_this.renderComplete_,_this.loaded_=!0,_this.boundHandleBrowserEvent_=_this.handleBrowserEvent.bind(_this),_this.maxTilesLoading_=void 0!==options.maxTilesLoading?options.maxTilesLoading:16,_this.pixelRatio_=void 0!==options.pixelRatio?options.pixelRatio:has.MP,_this.postRenderTimeoutHandle_,_this.animationDelayKey_,_this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(_this),_this.coordinateToPixelTransform_=(0,transform.Ue)(),_this.pixelToCoordinateTransform_=(0,transform.Ue)(),_this.frameIndex_=0,_this.frameState_=null,_this.previousExtent_=null,_this.viewPropertyListenerKey_=null,_this.viewChangeListenerKey_=null,_this.layerGroupPropertyListenerKeys_=null,_this.viewport_=document.createElement("div"),_this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),_this.viewport_.style.position="relative",_this.viewport_.style.overflow="hidden",_this.viewport_.style.width="100%",_this.viewport_.style.height="100%",_this.overlayContainer_=document.createElement("div"),_this.overlayContainer_.style.position="absolute",_this.overlayContainer_.style.zIndex="0",_this.overlayContainer_.style.width="100%",_this.overlayContainer_.style.height="100%",_this.overlayContainer_.style.pointerEvents="none",_this.overlayContainer_.className="ol-overlaycontainer",_this.viewport_.appendChild(_this.overlayContainer_),_this.overlayContainerStopEvent_=document.createElement("div"),_this.overlayContainerStopEvent_.style.position="absolute",_this.overlayContainerStopEvent_.style.zIndex="0",_this.overlayContainerStopEvent_.style.width="100%",_this.overlayContainerStopEvent_.style.height="100%",_this.overlayContainerStopEvent_.style.pointerEvents="none",_this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",_this.viewport_.appendChild(_this.overlayContainerStopEvent_),_this.mapBrowserEventHandler_=null,_this.moveTolerance_=options.moveTolerance,_this.keyboardEventTarget_=optionsInternal.keyboardEventTarget,_this.targetChangeHandlerKeys_=null,_this.controls=optionsInternal.controls||new Collection.Z,_this.interactions=optionsInternal.interactions||new Collection.Z,_this.overlays_=optionsInternal.overlays,_this.overlayIdIndex_={},_this.renderer_=null,_this.postRenderFunctions_=[],_this.tileQueue_=new ol_TileQueue(_this.getTilePriority.bind(_this),_this.handleTileChange_.bind(_this)),_this.addChangeListener(MapProperty_LAYERGROUP,_this.handleLayerGroupChanged_),_this.addChangeListener(MapProperty_VIEW,_this.handleViewChanged_),_this.addChangeListener(MapProperty_SIZE,_this.handleSizeChanged_),_this.addChangeListener(MapProperty_TARGET,_this.handleTargetChanged_),_this.setProperties(optionsInternal.values);var map=_this;return!options.view||options.view instanceof View.ZP||options.view.then((function(viewOptions){map.setView(new View.ZP(viewOptions))})),_this.controls.addEventListener(CollectionEventType.Z.ADD,function(event){event.element.setMap(this)}.bind(_this)),_this.controls.addEventListener(CollectionEventType.Z.REMOVE,function(event){event.element.setMap(null)}.bind(_this)),_this.interactions.addEventListener(CollectionEventType.Z.ADD,function(event){event.element.setMap(this)}.bind(_this)),_this.interactions.addEventListener(CollectionEventType.Z.REMOVE,function(event){event.element.setMap(null)}.bind(_this)),_this.overlays_.addEventListener(CollectionEventType.Z.ADD,function(event){this.addOverlayInternal_(event.element)}.bind(_this)),_this.overlays_.addEventListener(CollectionEventType.Z.REMOVE,function(event){var id=event.element.getId();void 0!==id&&delete this.overlayIdIndex_[id.toString()],event.element.setMap(null)}.bind(_this)),_this.controls.forEach(function(control){control.setMap(this)}.bind(_this)),_this.interactions.forEach(function(interaction){interaction.setMap(this)}.bind(_this)),_this.overlays_.forEach(_this.addOverlayInternal_.bind(_this)),_this}return PluggableMap_extends(PluggableMap,_super),PluggableMap.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},PluggableMap.prototype.addControl=function(control){this.getControls().push(control)},PluggableMap.prototype.addInteraction=function(interaction){this.getInteractions().push(interaction)},PluggableMap.prototype.addLayer=function(layer){this.getLayerGroup().getLayers().push(layer)},PluggableMap.prototype.handleLayerAdd_=function(event){setLayerMapProperty(event.layer,this)},PluggableMap.prototype.addOverlay=function(overlay){this.getOverlays().push(overlay)},PluggableMap.prototype.addOverlayInternal_=function(overlay){var id=overlay.getId();void 0!==id&&(this.overlayIdIndex_[id.toString()]=overlay),overlay.setMap(this)},PluggableMap.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),_super.prototype.disposeInternal.call(this)},PluggableMap.prototype.forEachFeatureAtPixel=function(pixel,callback,opt_options){if(this.frameState_&&this.renderer_){var coordinate=this.getCoordinateFromPixelInternal(pixel),hitTolerance=void 0!==(opt_options=void 0!==opt_options?opt_options:{}).hitTolerance?opt_options.hitTolerance:0,layerFilter=void 0!==opt_options.layerFilter?opt_options.layerFilter:functions.uX,checkWrapped=!1!==opt_options.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(coordinate,this.frameState_,hitTolerance,checkWrapped,callback,null,layerFilter,null)}},PluggableMap.prototype.getFeaturesAtPixel=function(pixel,opt_options){var features=[];return this.forEachFeatureAtPixel(pixel,(function(feature){features.push(feature)}),opt_options),features},PluggableMap.prototype.getAllLayers=function(){var layers=[];return function addLayersFrom(layerGroup){layerGroup.forEach((function(layer){layer instanceof Group?addLayersFrom(layer.getLayers()):layers.push(layer)}))}(this.getLayers()),layers},PluggableMap.prototype.forEachLayerAtPixel=function(pixel,callback,opt_options){if(this.frameState_&&this.renderer_){var options=opt_options||{},hitTolerance=void 0!==options.hitTolerance?options.hitTolerance:0,layerFilter=options.layerFilter||functions.uX;return this.renderer_.forEachLayerAtPixel(pixel,this.frameState_,hitTolerance,callback,layerFilter)}},PluggableMap.prototype.hasFeatureAtPixel=function(pixel,opt_options){if(!this.frameState_||!this.renderer_)return!1;var coordinate=this.getCoordinateFromPixelInternal(pixel),layerFilter=void 0!==(opt_options=void 0!==opt_options?opt_options:{}).layerFilter?opt_options.layerFilter:functions.uX,hitTolerance=void 0!==opt_options.hitTolerance?opt_options.hitTolerance:0,checkWrapped=!1!==opt_options.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(coordinate,this.frameState_,hitTolerance,checkWrapped,layerFilter,null)},PluggableMap.prototype.getEventCoordinate=function(event){return this.getCoordinateFromPixel(this.getEventPixel(event))},PluggableMap.prototype.getEventCoordinateInternal=function(event){return this.getCoordinateFromPixelInternal(this.getEventPixel(event))},PluggableMap.prototype.getEventPixel=function(event){var viewportPosition=this.viewport_.getBoundingClientRect(),eventPosition="changedTouches"in event?event.changedTouches[0]:event;return[eventPosition.clientX-viewportPosition.left,eventPosition.clientY-viewportPosition.top]},PluggableMap.prototype.getTarget=function(){return this.get(MapProperty_TARGET)},PluggableMap.prototype.getTargetElement=function(){var target=this.getTarget();return void 0!==target?"string"==typeof target?document.getElementById(target):target:null},PluggableMap.prototype.getCoordinateFromPixel=function(pixel){return(0,proj.lO)(this.getCoordinateFromPixelInternal(pixel),this.getView().getProjection())},PluggableMap.prototype.getCoordinateFromPixelInternal=function(pixel){var frameState=this.frameState_;return frameState?(0,transform.nn)(frameState.pixelToCoordinateTransform,pixel.slice()):null},PluggableMap.prototype.getControls=function(){return this.controls},PluggableMap.prototype.getOverlays=function(){return this.overlays_},PluggableMap.prototype.getOverlayById=function(id){var overlay=this.overlayIdIndex_[id.toString()];return void 0!==overlay?overlay:null},PluggableMap.prototype.getInteractions=function(){return this.interactions},PluggableMap.prototype.getLayerGroup=function(){return this.get(MapProperty_LAYERGROUP)},PluggableMap.prototype.setLayers=function(layers){var group=this.getLayerGroup();if(layers instanceof Collection.Z)group.setLayers(layers);else{var collection=group.getLayers();collection.clear(),collection.extend(layers)}},PluggableMap.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},PluggableMap.prototype.getLoadingOrNotReady=function(){for(var layerStatesArray=this.getLayerGroup().getLayerStatesArray(),i=0,ii=layerStatesArray.length;i<ii;++i){var state=layerStatesArray[i];if(state.visible){var renderer=state.layer.getRenderer();if(renderer&&!renderer.ready)return!0;var source=state.layer.getSource();if(source&&source.loading)return!0}}return!1},PluggableMap.prototype.getPixelFromCoordinate=function(coordinate){var viewCoordinate=(0,proj.Vs)(coordinate,this.getView().getProjection());return this.getPixelFromCoordinateInternal(viewCoordinate)},PluggableMap.prototype.getPixelFromCoordinateInternal=function(coordinate){var frameState=this.frameState_;return frameState?(0,transform.nn)(frameState.coordinateToPixelTransform,coordinate.slice(0,2)):null},PluggableMap.prototype.getRenderer=function(){return this.renderer_},PluggableMap.prototype.getSize=function(){return this.get(MapProperty_SIZE)},PluggableMap.prototype.getView=function(){return this.get(MapProperty_VIEW)},PluggableMap.prototype.getViewport=function(){return this.viewport_},PluggableMap.prototype.getOverlayContainer=function(){return this.overlayContainer_},PluggableMap.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},PluggableMap.prototype.getOwnerDocument=function(){var targetElement=this.getTargetElement();return targetElement?targetElement.ownerDocument:document},PluggableMap.prototype.getTilePriority=function(tile,tileSourceKey,tileCenter,tileResolution){return function getTilePriority(frameState,tile,tileSourceKey,tileCenter,tileResolution){if(!frameState||!(tileSourceKey in frameState.wantedTiles))return DROP;if(!frameState.wantedTiles[tileSourceKey][tile.getKey()])return DROP;var center=frameState.viewState.center,deltaX=tileCenter[0]-center[0],deltaY=tileCenter[1]-center[1];return 65536*Math.log(tileResolution)+Math.sqrt(deltaX*deltaX+deltaY*deltaY)/tileResolution}(this.frameState_,tile,tileSourceKey,tileCenter,tileResolution)},PluggableMap.prototype.handleBrowserEvent=function(browserEvent,opt_type){var type=opt_type||browserEvent.type,mapBrowserEvent=new ol_MapBrowserEvent(type,this,browserEvent);this.handleMapBrowserEvent(mapBrowserEvent)},PluggableMap.prototype.handleMapBrowserEvent=function(mapBrowserEvent){if(this.frameState_){var originalEvent=mapBrowserEvent.originalEvent,eventType=originalEvent.type;if(eventType===pointer_EventType_POINTERDOWN||eventType===events_EventType.Z.WHEEL||eventType===events_EventType.Z.KEYDOWN){var doc=this.getOwnerDocument(),rootNode=this.viewport_.getRootNode?this.viewport_.getRootNode():doc,target=originalEvent.target;if(this.overlayContainerStopEvent_.contains(target)||!(rootNode===doc?doc.documentElement:rootNode).contains(target))return}if(mapBrowserEvent.frameState=this.frameState_,!1!==this.dispatchEvent(mapBrowserEvent))for(var interactionsArray=this.getInteractions().getArray().slice(),i=interactionsArray.length-1;i>=0;i--){var interaction=interactionsArray[i];if(interaction.getMap()===this&&interaction.getActive()&&this.getTargetElement())if(!interaction.handleEvent(mapBrowserEvent)||mapBrowserEvent.propagationStopped)break}}},PluggableMap.prototype.handlePostRender=function(){var frameState=this.frameState_,tileQueue=this.tileQueue_;if(!tileQueue.isEmpty()){var maxTotalLoading=this.maxTilesLoading_,maxNewLoads=maxTotalLoading;if(frameState){var hints=frameState.viewHints;if(hints[ViewHint.Z.ANIMATING]||hints[ViewHint.Z.INTERACTING]){var lowOnFrameBudget=Date.now()-frameState.time>8;maxTotalLoading=lowOnFrameBudget?0:8,maxNewLoads=lowOnFrameBudget?0:2}}tileQueue.getTilesLoading()<maxTotalLoading&&(tileQueue.reprioritize(),tileQueue.loadMoreTiles(maxTotalLoading,maxNewLoads))}frameState&&this.renderer_&&!frameState.animate&&(!0===this.renderComplete_?(this.hasListener(EventType.Z.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(EventType.Z.RENDERCOMPLETE,frameState),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new ol_MapEvent(MapEventType_LOADEND,this,frameState)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new ol_MapEvent(MapEventType_LOADSTART,this,frameState))));for(var postRenderFunctions=this.postRenderFunctions_,i=0,ii=postRenderFunctions.length;i<ii;++i)postRenderFunctions[i](this,frameState);postRenderFunctions.length=0},PluggableMap.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},PluggableMap.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var i=0,ii=this.targetChangeHandlerKeys_.length;i<ii;++i)(0,events.bN)(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(events_EventType.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(events_EventType.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,dom.ZF)(this.viewport_)}var targetElement=this.getTargetElement();if(targetElement){for(var key in targetElement.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new ol_MapBrowserEventHandler(this,this.moveTolerance_),MapBrowserEventType.Z)this.mapBrowserEventHandler_.addEventListener(MapBrowserEventType.Z[key],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(events_EventType.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(events_EventType.Z.WHEEL,this.boundHandleBrowserEvent_,!!has.bM&&{passive:!1});var defaultView=this.getOwnerDocument().defaultView,keyboardEventTarget=this.keyboardEventTarget_?this.keyboardEventTarget_:targetElement;this.targetChangeHandlerKeys_=[(0,events.oL)(keyboardEventTarget,events_EventType.Z.KEYDOWN,this.handleBrowserEvent,this),(0,events.oL)(keyboardEventTarget,events_EventType.Z.KEYPRESS,this.handleBrowserEvent,this),(0,events.oL)(defaultView,events_EventType.Z.RESIZE,this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},PluggableMap.prototype.handleTileChange_=function(){this.render()},PluggableMap.prototype.handleViewPropertyChanged_=function(){this.render()},PluggableMap.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,events.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,events.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var view=this.getView();view&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,events.oL)(view,ObjectEventType.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,events.oL)(view,events_EventType.Z.CHANGE,this.handleViewPropertyChanged_,this),view.resolveConstraints(0)),this.render()},PluggableMap.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(events.bN),this.layerGroupPropertyListenerKeys_=null);var layerGroup=this.getLayerGroup();layerGroup&&(this.handleLayerAdd_(new GroupEvent("addlayer",layerGroup)),this.layerGroupPropertyListenerKeys_=[(0,events.oL)(layerGroup,ObjectEventType.Z.PROPERTYCHANGE,this.render,this),(0,events.oL)(layerGroup,events_EventType.Z.CHANGE,this.render,this),(0,events.oL)(layerGroup,"addlayer",this.handleLayerAdd_,this),(0,events.oL)(layerGroup,"removelayer",this.handleLayerRemove_,this)]),this.render()},PluggableMap.prototype.isRendered=function(){return!!this.frameState_},PluggableMap.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},PluggableMap.prototype.redrawText=function(){for(var layerStates=this.getLayerGroup().getLayerStatesArray(),i=0,ii=layerStates.length;i<ii;++i){var layer=layerStates[i].layer;layer.hasRenderer()&&layer.getRenderer().handleFontsChanged()}},PluggableMap.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},PluggableMap.prototype.removeControl=function(control){return this.getControls().remove(control)},PluggableMap.prototype.removeInteraction=function(interaction){return this.getInteractions().remove(interaction)},PluggableMap.prototype.removeLayer=function(layer){return this.getLayerGroup().getLayers().remove(layer)},PluggableMap.prototype.handleLayerRemove_=function(event){removeLayerMapProperty(event.layer)},PluggableMap.prototype.removeOverlay=function(overlay){return this.getOverlays().remove(overlay)},PluggableMap.prototype.renderFrame_=function(time){var _this=this,size=this.getSize(),view=this.getView(),previousFrameState=this.frameState_,frameState=null;if(void 0!==size&&(0,ol_size.py)(size)&&view&&view.isDef()){var viewHints=view.getHints(this.frameState_?this.frameState_.viewHints:void 0),viewState=view.getState();if(frameState={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,extent.p8)(viewState.center,viewState.resolution,viewState.rotation,size),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size,tileQueue:this.tileQueue_,time,usedTiles:{},viewState,viewHints,wantedTiles:{},mapId:(0,util.sq)(this),renderTargets:{}},viewState.nextCenter&&viewState.nextResolution){var rotation=isNaN(viewState.nextRotation)?viewState.rotation:viewState.nextRotation;frameState.nextExtent=(0,extent.p8)(viewState.nextCenter,viewState.nextResolution,rotation,size)}}if(this.frameState_=frameState,this.renderer_.renderFrame(frameState),frameState){if(frameState.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,frameState.postRenderFunctions),previousFrameState)(!this.previousExtent_||!(0,extent.xb)(this.previousExtent_)&&!(0,extent.fS)(frameState.extent,this.previousExtent_))&&(this.dispatchEvent(new ol_MapEvent(MapEventType_MOVESTART,this,previousFrameState)),this.previousExtent_=(0,extent.YN)(this.previousExtent_));this.previousExtent_&&!frameState.viewHints[ViewHint.Z.ANIMATING]&&!frameState.viewHints[ViewHint.Z.INTERACTING]&&!(0,extent.fS)(frameState.extent,this.previousExtent_)&&(this.dispatchEvent(new ol_MapEvent(MapEventType_MOVEEND,this,frameState)),(0,extent.d9)(frameState.extent,this.previousExtent_))}this.dispatchEvent(new ol_MapEvent(MapEventType_POSTRENDER,this,frameState)),this.renderComplete_=this.hasListener(MapEventType_LOADSTART)||this.hasListener(MapEventType_LOADEND)||this.hasListener(EventType.Z.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){_this.postRenderTimeoutHandle_=void 0,_this.handlePostRender()}),0))},PluggableMap.prototype.setLayerGroup=function(layerGroup){var oldLayerGroup=this.getLayerGroup();oldLayerGroup&&this.handleLayerRemove_(new GroupEvent("removelayer",oldLayerGroup)),this.set(MapProperty_LAYERGROUP,layerGroup)},PluggableMap.prototype.setSize=function(size){this.set(MapProperty_SIZE,size)},PluggableMap.prototype.setTarget=function(target){this.set(MapProperty_TARGET,target)},PluggableMap.prototype.setView=function(view){if(!view||view instanceof View.ZP)this.set(MapProperty_VIEW,view);else{this.set(MapProperty_VIEW,new View.ZP);var map=this;view.then((function(viewOptions){map.setView(new View.ZP(viewOptions))}))}},PluggableMap.prototype.updateSize=function(){var targetElement=this.getTargetElement(),size=void 0;if(targetElement){var computedStyle=getComputedStyle(targetElement),width=targetElement.offsetWidth-parseFloat(computedStyle.borderLeftWidth)-parseFloat(computedStyle.paddingLeft)-parseFloat(computedStyle.paddingRight)-parseFloat(computedStyle.borderRightWidth),height=targetElement.offsetHeight-parseFloat(computedStyle.borderTopWidth)-parseFloat(computedStyle.paddingTop)-parseFloat(computedStyle.paddingBottom)-parseFloat(computedStyle.borderBottomWidth);isNaN(width)||isNaN(height)||(size=[width,height],!(0,ol_size.py)(size)&&(targetElement.offsetWidth||targetElement.offsetHeight||targetElement.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(size),this.updateViewportSize_()},PluggableMap.prototype.updateViewportSize_=function(){var view=this.getView();if(view){var size=void 0,computedStyle=getComputedStyle(this.viewport_);computedStyle.width&&computedStyle.height&&(size=[parseInt(computedStyle.width,10),parseInt(computedStyle.height,10)]),view.setViewportSize(size)}},PluggableMap}(ol_Object.Z);const ol_PluggableMap=PluggableMap;var Control_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const control_Control=function(_super){function Control(options){var _this=_super.call(this)||this,element=options.element;return!element||options.target||element.style.pointerEvents||(element.style.pointerEvents="auto"),_this.element=element||null,_this.target_=null,_this.map_=null,_this.listenerKeys=[],options.render&&(_this.render=options.render),options.target&&_this.setTarget(options.target),_this}return Control_extends(Control,_super),Control.prototype.disposeInternal=function(){(0,dom.ZF)(this.element),_super.prototype.disposeInternal.call(this)},Control.prototype.getMap=function(){return this.map_},Control.prototype.setMap=function(map){this.map_&&(0,dom.ZF)(this.element);for(var i=0,ii=this.listenerKeys.length;i<ii;++i)(0,events.bN)(this.listenerKeys[i]);(this.listenerKeys.length=0,this.map_=map,map)&&((this.target_?this.target_:map.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==functions.Zn&&this.listenerKeys.push((0,events.oL)(map,MapEventType_POSTRENDER,this.render,this)),map.render())},Control.prototype.render=function(mapEvent){},Control.prototype.setTarget=function(target){this.target_="string"==typeof target?document.getElementById(target):target},Control}(ol_Object.Z);var array=__webpack_require__("./node_modules/ol/array.js"),Attribution_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const control_Attribution=function(_super){function Attribution(opt_options){var _this=this,options=opt_options||{};(_this=_super.call(this,{element:document.createElement("div"),render:options.render,target:options.target})||this).ulElement_=document.createElement("ul"),_this.collapsed_=void 0===options.collapsed||options.collapsed,_this.userCollapsed_=_this.collapsed_,_this.overrideCollapsible_=void 0!==options.collapsible,_this.collapsible_=void 0===options.collapsible||options.collapsible,_this.collapsible_||(_this.collapsed_=!1);var className=void 0!==options.className?options.className:"ol-attribution",tipLabel=void 0!==options.tipLabel?options.tipLabel:"Attributions",expandClassName=void 0!==options.expandClassName?options.expandClassName:className+"-expand",collapseLabel=void 0!==options.collapseLabel?options.collapseLabel:"",collapseClassName=void 0!==options.collapseClassName?options.collapseClassName:className+"-collapse";"string"==typeof collapseLabel?(_this.collapseLabel_=document.createElement("span"),_this.collapseLabel_.textContent=collapseLabel,_this.collapseLabel_.className=collapseClassName):_this.collapseLabel_=collapseLabel;var label=void 0!==options.label?options.label:"i";"string"==typeof label?(_this.label_=document.createElement("span"),_this.label_.textContent=label,_this.label_.className=expandClassName):_this.label_=label;var activeLabel=_this.collapsible_&&!_this.collapsed_?_this.collapseLabel_:_this.label_;_this.toggleButton_=document.createElement("button"),_this.toggleButton_.setAttribute("type","button"),_this.toggleButton_.setAttribute("aria-expanded",String(!_this.collapsed_)),_this.toggleButton_.title=tipLabel,_this.toggleButton_.appendChild(activeLabel),_this.toggleButton_.addEventListener(events_EventType.Z.CLICK,_this.handleClick_.bind(_this),!1);var cssClasses=className+" "+css.XV+" "+css.hg+(_this.collapsed_&&_this.collapsible_?" "+css.hN:"")+(_this.collapsible_?"":" ol-uncollapsible"),element=_this.element;return element.className=cssClasses,element.appendChild(_this.toggleButton_),element.appendChild(_this.ulElement_),_this.renderedAttributions_=[],_this.renderedVisible_=!0,_this}return Attribution_extends(Attribution,_super),Attribution.prototype.collectSourceAttributions_=function(frameState){for(var lookup={},visibleAttributions=[],collapsible=!0,layerStatesArray=frameState.layerStatesArray,i=0,ii=layerStatesArray.length;i<ii;++i){var layerState=layerStatesArray[i];if((0,Layer.j)(layerState,frameState.viewState)){var source=layerState.layer.getSource();if(source){var attributionGetter=source.getAttributions();if(attributionGetter){var attributions=attributionGetter(frameState);if(attributions)if(collapsible=collapsible&&!1!==source.getAttributionsCollapsible(),Array.isArray(attributions))for(var j=0,jj=attributions.length;j<jj;++j)attributions[j]in lookup||(visibleAttributions.push(attributions[j]),lookup[attributions[j]]=!0);else attributions in lookup||(visibleAttributions.push(attributions),lookup[attributions]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(collapsible),visibleAttributions},Attribution.prototype.updateElement_=function(frameState){if(frameState){var attributions=this.collectSourceAttributions_(frameState),visible=attributions.length>0;if(this.renderedVisible_!=visible&&(this.element.style.display=visible?"":"none",this.renderedVisible_=visible),!(0,array.fS)(attributions,this.renderedAttributions_)){(0,dom.ep)(this.ulElement_);for(var i=0,ii=attributions.length;i<ii;++i){var element=document.createElement("li");element.innerHTML=attributions[i],this.ulElement_.appendChild(element)}this.renderedAttributions_=attributions}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},Attribution.prototype.handleClick_=function(event){event.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},Attribution.prototype.handleToggle_=function(){this.element.classList.toggle(css.hN),this.collapsed_?(0,dom.$H)(this.collapseLabel_,this.label_):(0,dom.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},Attribution.prototype.getCollapsible=function(){return this.collapsible_},Attribution.prototype.setCollapsible=function(collapsible){this.collapsible_!==collapsible&&(this.collapsible_=collapsible,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},Attribution.prototype.setCollapsed=function(collapsed){this.userCollapsed_=collapsed,this.collapsible_&&this.collapsed_!==collapsed&&this.handleToggle_()},Attribution.prototype.getCollapsed=function(){return this.collapsed_},Attribution.prototype.render=function(mapEvent){this.updateElement_(mapEvent.frameState)},Attribution}(control_Control);var easing=__webpack_require__("./node_modules/ol/easing.js"),Rotate_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),Rotate=function(_super){function Rotate(opt_options){var _this=this,options=opt_options||{};_this=_super.call(this,{element:document.createElement("div"),render:options.render,target:options.target})||this;var className=void 0!==options.className?options.className:"ol-rotate",label=void 0!==options.label?options.label:"",compassClassName=void 0!==options.compassClassName?options.compassClassName:"ol-compass";_this.label_=null,"string"==typeof label?(_this.label_=document.createElement("span"),_this.label_.className=compassClassName,_this.label_.textContent=label):(_this.label_=label,_this.label_.classList.add(compassClassName));var tipLabel=options.tipLabel?options.tipLabel:"Reset rotation",button=document.createElement("button");button.className=className+"-reset",button.setAttribute("type","button"),button.title=tipLabel,button.appendChild(_this.label_),button.addEventListener(events_EventType.Z.CLICK,_this.handleClick_.bind(_this),!1);var cssClasses=className+" "+css.XV+" "+css.hg,element=_this.element;return element.className=cssClasses,element.appendChild(button),_this.callResetNorth_=options.resetNorth?options.resetNorth:void 0,_this.duration_=void 0!==options.duration?options.duration:250,_this.autoHide_=void 0===options.autoHide||options.autoHide,_this.rotation_=void 0,_this.autoHide_&&_this.element.classList.add(css.oj),_this}return Rotate_extends(Rotate,_super),Rotate.prototype.handleClick_=function(event){event.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},Rotate.prototype.resetNorth_=function(){var view=this.getMap().getView();if(view){var rotation=view.getRotation();void 0!==rotation&&(this.duration_>0&&rotation%(2*Math.PI)!=0?view.animate({rotation:0,duration:this.duration_,easing:easing.Vv}):view.setRotation(0))}},Rotate.prototype.render=function(mapEvent){var frameState=mapEvent.frameState;if(frameState){var rotation=frameState.viewState.rotation;if(rotation!=this.rotation_){var transform="rotate("+rotation+"rad)";if(this.autoHide_){var contains=this.element.classList.contains(css.oj);contains||0!==rotation?contains&&0!==rotation&&this.element.classList.remove(css.oj):this.element.classList.add(css.oj)}this.label_.style.transform=transform}this.rotation_=rotation}},Rotate}(control_Control);const control_Rotate=Rotate;var Zoom_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const control_Zoom=function(_super){function Zoom(opt_options){var _this=this,options=opt_options||{};_this=_super.call(this,{element:document.createElement("div"),target:options.target})||this;var className=void 0!==options.className?options.className:"ol-zoom",delta=void 0!==options.delta?options.delta:1,zoomInClassName=void 0!==options.zoomInClassName?options.zoomInClassName:className+"-in",zoomOutClassName=void 0!==options.zoomOutClassName?options.zoomOutClassName:className+"-out",zoomInLabel=void 0!==options.zoomInLabel?options.zoomInLabel:"+",zoomOutLabel=void 0!==options.zoomOutLabel?options.zoomOutLabel:"",zoomInTipLabel=void 0!==options.zoomInTipLabel?options.zoomInTipLabel:"Zoom in",zoomOutTipLabel=void 0!==options.zoomOutTipLabel?options.zoomOutTipLabel:"Zoom out",inElement=document.createElement("button");inElement.className=zoomInClassName,inElement.setAttribute("type","button"),inElement.title=zoomInTipLabel,inElement.appendChild("string"==typeof zoomInLabel?document.createTextNode(zoomInLabel):zoomInLabel),inElement.addEventListener(events_EventType.Z.CLICK,_this.handleClick_.bind(_this,delta),!1);var outElement=document.createElement("button");outElement.className=zoomOutClassName,outElement.setAttribute("type","button"),outElement.title=zoomOutTipLabel,outElement.appendChild("string"==typeof zoomOutLabel?document.createTextNode(zoomOutLabel):zoomOutLabel),outElement.addEventListener(events_EventType.Z.CLICK,_this.handleClick_.bind(_this,-delta),!1);var cssClasses=className+" "+css.XV+" "+css.hg,element=_this.element;return element.className=cssClasses,element.appendChild(inElement),element.appendChild(outElement),_this.duration_=void 0!==options.duration?options.duration:250,_this}return Zoom_extends(Zoom,_super),Zoom.prototype.handleClick_=function(delta,event){event.preventDefault(),this.zoomByDelta_(delta)},Zoom.prototype.zoomByDelta_=function(delta){var view=this.getMap().getView();if(view){var currentZoom=view.getZoom();if(void 0!==currentZoom){var newZoom=view.getConstrainedZoom(currentZoom+delta);this.duration_>0?(view.getAnimating()&&view.cancelAnimations(),view.animate({zoom:newZoom,duration:this.duration_,easing:easing.Vv})):view.setZoom(newZoom)}}},Zoom}(control_Control);var interaction=__webpack_require__("./node_modules/ol/interaction.js"),Map_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),Map_Map=function(_super){function Map(options){return(options=(0,obj.f0)({},options)).controls||(options.controls=function defaults(opt_options){var options=opt_options||{},controls=new Collection.Z;return(void 0===options.zoom||options.zoom)&&controls.push(new control_Zoom(options.zoomOptions)),(void 0===options.rotate||options.rotate)&&controls.push(new control_Rotate(options.rotateOptions)),(void 0===options.attribution||options.attribution)&&controls.push(new control_Attribution(options.attributionOptions)),controls}()),options.interactions||(options.interactions=(0,interaction.ce)({onFocusOnly:!0})),_super.call(this,options)||this}return Map_extends(Map,_super),Map.prototype.createRenderer=function(){return new Composite(this)},Map}(ol_PluggableMap);const ol_Map=Map_Map},"./node_modules/ol/MapBrowserEventType.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _events_EventType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/events/EventType.js");const __WEBPACK_DEFAULT_EXPORT__={SINGLECLICK:"singleclick",CLICK:_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__.Z.CLICK,DBLCLICK:_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},"./node_modules/ol/Tile.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var extendStatics,_events_Target_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/events/Target.js"),_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/events/EventType.js"),_TileState_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/TileState.js"),_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/util.js"),_easing_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/easing.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const __WEBPACK_DEFAULT_EXPORT__=function(_super){function Tile(tileCoord,state,opt_options){var _this=_super.call(this)||this,options=opt_options||{};return _this.tileCoord=tileCoord,_this.state=state,_this.interimTile=null,_this.key="",_this.transition_=void 0===options.transition?250:options.transition,_this.transitionStarts_={},_this.interpolate=!!options.interpolate,_this}return __extends(Tile,_super),Tile.prototype.changed=function(){this.dispatchEvent(_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__.Z.CHANGE)},Tile.prototype.release=function(){},Tile.prototype.getKey=function(){return this.key+"/"+this.tileCoord},Tile.prototype.getInterimTile=function(){if(!this.interimTile)return this;var tile=this.interimTile;do{if(tile.getState()==_TileState_js__WEBPACK_IMPORTED_MODULE_1__.Z.LOADED)return this.transition_=0,tile;tile=tile.interimTile}while(tile);return this},Tile.prototype.refreshInterimChain=function(){if(this.interimTile){var tile=this.interimTile,prev=this;do{if(tile.getState()==_TileState_js__WEBPACK_IMPORTED_MODULE_1__.Z.LOADED){tile.interimTile=null;break}tile.getState()==_TileState_js__WEBPACK_IMPORTED_MODULE_1__.Z.LOADING?prev=tile:tile.getState()==_TileState_js__WEBPACK_IMPORTED_MODULE_1__.Z.IDLE?prev.interimTile=tile.interimTile:prev=tile,tile=prev.interimTile}while(tile)}},Tile.prototype.getTileCoord=function(){return this.tileCoord},Tile.prototype.getState=function(){return this.state},Tile.prototype.setState=function(state){if(this.state!==_TileState_js__WEBPACK_IMPORTED_MODULE_1__.Z.ERROR&&this.state>state)throw new Error("Tile load sequence violation");this.state=state,this.changed()},Tile.prototype.load=function(){(0,_util_js__WEBPACK_IMPORTED_MODULE_2__.O3)()},Tile.prototype.getAlpha=function(id,time){if(!this.transition_)return 1;var start=this.transitionStarts_[id];if(start){if(-1===start)return 1}else start=time,this.transitionStarts_[id]=start;var delta=time-start+1e3/60;return delta>=this.transition_?1:(0,_easing_js__WEBPACK_IMPORTED_MODULE_3__.YQ)(delta/this.transition_)},Tile.prototype.inTransition=function(id){return!!this.transition_&&-1!==this.transitionStarts_[id]},Tile.prototype.endTransition=function(id){this.transition_&&(this.transitionStarts_[id]=-1)},Tile}(_events_Target_js__WEBPACK_IMPORTED_MODULE_4__.Z)},"./node_modules/ol/TileRange.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>createOrUpdate,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var TileRange=function(){function TileRange(minX,maxX,minY,maxY){this.minX=minX,this.maxX=maxX,this.minY=minY,this.maxY=maxY}return TileRange.prototype.contains=function(tileCoord){return this.containsXY(tileCoord[1],tileCoord[2])},TileRange.prototype.containsTileRange=function(tileRange){return this.minX<=tileRange.minX&&tileRange.maxX<=this.maxX&&this.minY<=tileRange.minY&&tileRange.maxY<=this.maxY},TileRange.prototype.containsXY=function(x,y){return this.minX<=x&&x<=this.maxX&&this.minY<=y&&y<=this.maxY},TileRange.prototype.equals=function(tileRange){return this.minX==tileRange.minX&&this.minY==tileRange.minY&&this.maxX==tileRange.maxX&&this.maxY==tileRange.maxY},TileRange.prototype.extend=function(tileRange){tileRange.minX<this.minX&&(this.minX=tileRange.minX),tileRange.maxX>this.maxX&&(this.maxX=tileRange.maxX),tileRange.minY<this.minY&&(this.minY=tileRange.minY),tileRange.maxY>this.maxY&&(this.maxY=tileRange.maxY)},TileRange.prototype.getHeight=function(){return this.maxY-this.minY+1},TileRange.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},TileRange.prototype.getWidth=function(){return this.maxX-this.minX+1},TileRange.prototype.intersects=function(tileRange){return this.minX<=tileRange.maxX&&this.maxX>=tileRange.minX&&this.minY<=tileRange.maxY&&this.maxY>=tileRange.minY},TileRange}();function createOrUpdate(minX,maxX,minY,maxY,tileRange){return void 0!==tileRange?(tileRange.minX=minX,tileRange.maxX=maxX,tileRange.minY=minY,tileRange.maxY=maxY,tileRange):new TileRange(minX,maxX,minY,maxY)}const __WEBPACK_DEFAULT_EXPORT__=TileRange},"./node_modules/ol/TileState.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},"./node_modules/ol/View.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>ol_View});var ol_Object=__webpack_require__("./node_modules/ol/Object.js"),Units=__webpack_require__("./node_modules/ol/proj/Units.js"),ViewHint=__webpack_require__("./node_modules/ol/ViewHint.js");const ViewProperty={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var common=__webpack_require__("./node_modules/ol/tilegrid/common.js"),proj=__webpack_require__("./node_modules/ol/proj.js"),functions=__webpack_require__("./node_modules/ol/functions.js"),coordinate=__webpack_require__("./node_modules/ol/coordinate.js"),asserts=__webpack_require__("./node_modules/ol/asserts.js"),obj=__webpack_require__("./node_modules/ol/obj.js"),math=__webpack_require__("./node_modules/ol/math.js");function createExtent(extent,onlyCenter,smooth){return function(center,resolution,size,opt_isMoving,opt_centerShift){if(center){if(!resolution&&!onlyCenter)return center;var viewWidth=onlyCenter?0:size[0]*resolution,viewHeight=onlyCenter?0:size[1]*resolution,shiftX=opt_centerShift?opt_centerShift[0]:0,shiftY=opt_centerShift?opt_centerShift[1]:0,minX=extent[0]+viewWidth/2+shiftX,maxX=extent[2]-viewWidth/2+shiftX,minY=extent[1]+viewHeight/2+shiftY,maxY=extent[3]-viewHeight/2+shiftY;minX>maxX&&(maxX=minX=(maxX+minX)/2),minY>maxY&&(maxY=minY=(maxY+minY)/2);var x=(0,math.uZ)(center[0],minX,maxX),y=(0,math.uZ)(center[1],minY,maxY);if(opt_isMoving&&smooth&&resolution){var ratio=30*resolution;x+=-ratio*Math.log(1+Math.max(0,minX-center[0])/ratio)+ratio*Math.log(1+Math.max(0,center[0]-maxX)/ratio),y+=-ratio*Math.log(1+Math.max(0,minY-center[1])/ratio)+ratio*Math.log(1+Math.max(0,center[1]-maxY)/ratio)}return[x,y]}}}function none(center){return center}var ol_extent=__webpack_require__("./node_modules/ol/extent.js"),array=__webpack_require__("./node_modules/ol/array.js");function getViewportClampedResolution(resolution,maxExtent,viewportSize,showFullExtent){var xResolution=(0,ol_extent.dz)(maxExtent)/viewportSize[0],yResolution=(0,ol_extent.Cr)(maxExtent)/viewportSize[1];return showFullExtent?Math.min(resolution,Math.max(xResolution,yResolution)):Math.min(resolution,Math.min(xResolution,yResolution))}function getSmoothClampedResolution(resolution,maxResolution,minResolution){var result=Math.min(resolution,maxResolution);return result*=Math.log(1+50*Math.max(0,resolution/maxResolution-1))/50+1,minResolution&&(result=Math.max(result,minResolution),result/=Math.log(1+50*Math.max(0,minResolution/resolution-1))/50+1),(0,math.uZ)(result,minResolution/2,2*maxResolution)}function createMinMaxResolution(maxResolution,minResolution,opt_smooth,opt_maxExtent,opt_showFullExtent){return function(resolution,direction,size,opt_isMoving){if(void 0!==resolution){var cappedMaxRes=opt_maxExtent?getViewportClampedResolution(maxResolution,opt_maxExtent,size,opt_showFullExtent):maxResolution;return(void 0===opt_smooth||opt_smooth)&&opt_isMoving?getSmoothClampedResolution(resolution,cappedMaxRes,minResolution):(0,math.uZ)(resolution,minResolution,cappedMaxRes)}}}var extendStatics,rotationconstraint=__webpack_require__("./node_modules/ol/rotationconstraint.js"),easing=__webpack_require__("./node_modules/ol/easing.js"),Polygon=__webpack_require__("./node_modules/ol/geom/Polygon.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});function animationCallback(callback,returnValue){setTimeout((function(){callback(returnValue)}),0)}function isNoopAnimation(animation){return!(animation.sourceCenter&&animation.targetCenter&&!(0,coordinate.fS)(animation.sourceCenter,animation.targetCenter))&&(animation.sourceResolution===animation.targetResolution&&animation.sourceRotation===animation.targetRotation)}function calculateCenterOn(coordinate,size,position,resolution,rotation){var cosAngle=Math.cos(-rotation),sinAngle=Math.sin(-rotation),rotX=coordinate[0]*cosAngle-coordinate[1]*sinAngle,rotY=coordinate[1]*cosAngle+coordinate[0]*sinAngle;return[(rotX+=(size[0]/2-position[0])*resolution)*cosAngle-(rotY+=(position[1]-size[1]/2)*resolution)*(sinAngle=-sinAngle),rotY*cosAngle+rotX*sinAngle]}const ol_View=function(_super){function View(opt_options){var _this=_super.call(this)||this;_this.on,_this.once,_this.un;var options=(0,obj.f0)({},opt_options);return _this.hints_=[0,0],_this.animations_=[],_this.updateAnimationKey_,_this.projection_=(0,proj.UQ)(options.projection,"EPSG:3857"),_this.viewportSize_=[100,100],_this.targetCenter_=null,_this.targetResolution_,_this.targetRotation_,_this.nextCenter_=null,_this.nextResolution_,_this.nextRotation_,_this.cancelAnchor_=void 0,options.projection&&(0,proj.h_)(),options.center&&(options.center=(0,proj.Vs)(options.center,_this.projection_)),options.extent&&(options.extent=(0,proj.dY)(options.extent,_this.projection_)),_this.applyOptions_(options),_this}return __extends(View,_super),View.prototype.applyOptions_=function(options){var properties=(0,obj.f0)({},options);for(var key in ViewProperty)delete properties[key];this.setProperties(properties,!0);var resolutionConstraintInfo=function createResolutionConstraint(options){var resolutionConstraint,maxResolution,minResolution,defaultMaxZoom=28,defaultZoomFactor=2,minZoom=void 0!==options.minZoom?options.minZoom:0,maxZoom=void 0!==options.maxZoom?options.maxZoom:defaultMaxZoom,zoomFactor=void 0!==options.zoomFactor?options.zoomFactor:defaultZoomFactor,multiWorld=void 0!==options.multiWorld&&options.multiWorld,smooth=void 0===options.smoothResolutionConstraint||options.smoothResolutionConstraint,showFullExtent=void 0!==options.showFullExtent&&options.showFullExtent,projection=(0,proj.UQ)(options.projection,"EPSG:3857"),projExtent=projection.getExtent(),constrainOnlyCenter=options.constrainOnlyCenter,extent=options.extent;multiWorld||extent||!projection.isGlobal()||(constrainOnlyCenter=!1,extent=projExtent);if(void 0!==options.resolutions){var resolutions=options.resolutions;maxResolution=resolutions[minZoom],minResolution=void 0!==resolutions[maxZoom]?resolutions[maxZoom]:resolutions[resolutions.length-1],resolutionConstraint=options.constrainResolution?function createSnapToResolutions(resolutions,opt_smooth,opt_maxExtent,opt_showFullExtent){return function(resolution,direction,size,opt_isMoving){if(void 0!==resolution){var maxResolution=resolutions[0],minResolution=resolutions[resolutions.length-1],cappedMaxRes=opt_maxExtent?getViewportClampedResolution(maxResolution,opt_maxExtent,size,opt_showFullExtent):maxResolution;if(opt_isMoving)return void 0===opt_smooth||opt_smooth?getSmoothClampedResolution(resolution,cappedMaxRes,minResolution):(0,math.uZ)(resolution,minResolution,cappedMaxRes);var capped=Math.min(cappedMaxRes,resolution),z=Math.floor((0,array.h7)(resolutions,capped,direction));return resolutions[z]>cappedMaxRes&&z<resolutions.length-1?resolutions[z+1]:resolutions[z]}}}(resolutions,smooth,!constrainOnlyCenter&&extent,showFullExtent):createMinMaxResolution(maxResolution,minResolution,smooth,!constrainOnlyCenter&&extent,showFullExtent)}else{var defaultMaxResolution=(projExtent?Math.max((0,ol_extent.dz)(projExtent),(0,ol_extent.Cr)(projExtent)):360*proj.Wm[Units.ZP.DEGREES]/projection.getMetersPerUnit())/common.S/Math.pow(defaultZoomFactor,0),defaultMinResolution=defaultMaxResolution/Math.pow(defaultZoomFactor,defaultMaxZoom-0);void 0!==(maxResolution=options.maxResolution)?minZoom=0:maxResolution=defaultMaxResolution/Math.pow(zoomFactor,minZoom),void 0===(minResolution=options.minResolution)&&(minResolution=void 0!==options.maxZoom?void 0!==options.maxResolution?maxResolution/Math.pow(zoomFactor,maxZoom):defaultMaxResolution/Math.pow(zoomFactor,maxZoom):defaultMinResolution),maxZoom=minZoom+Math.floor(Math.log(maxResolution/minResolution)/Math.log(zoomFactor)),minResolution=maxResolution/Math.pow(zoomFactor,maxZoom-minZoom),resolutionConstraint=options.constrainResolution?function createSnapToPower(power,maxResolution,opt_minResolution,opt_smooth,opt_maxExtent,opt_showFullExtent){return function(resolution,direction,size,opt_isMoving){if(void 0!==resolution){var cappedMaxRes=opt_maxExtent?getViewportClampedResolution(maxResolution,opt_maxExtent,size,opt_showFullExtent):maxResolution,minResolution=void 0!==opt_minResolution?opt_minResolution:0;if(opt_isMoving)return void 0===opt_smooth||opt_smooth?getSmoothClampedResolution(resolution,cappedMaxRes,minResolution):(0,math.uZ)(resolution,minResolution,cappedMaxRes);var minZoomLevel=Math.ceil(Math.log(maxResolution/cappedMaxRes)/Math.log(power)-1e-9),offset=-direction*(.5-1e-9)+.5,capped=Math.min(cappedMaxRes,resolution),cappedZoomLevel=Math.floor(Math.log(maxResolution/capped)/Math.log(power)+offset),zoomLevel=Math.max(minZoomLevel,cappedZoomLevel),newResolution=maxResolution/Math.pow(power,zoomLevel);return(0,math.uZ)(newResolution,minResolution,cappedMaxRes)}}}(zoomFactor,maxResolution,minResolution,smooth,!constrainOnlyCenter&&extent,showFullExtent):createMinMaxResolution(maxResolution,minResolution,smooth,!constrainOnlyCenter&&extent,showFullExtent)}return{constraint:resolutionConstraint,maxResolution,minResolution,minZoom,zoomFactor}}(options);this.maxResolution_=resolutionConstraintInfo.maxResolution,this.minResolution_=resolutionConstraintInfo.minResolution,this.zoomFactor_=resolutionConstraintInfo.zoomFactor,this.resolutions_=options.resolutions,this.padding_=options.padding,this.minZoom_=resolutionConstraintInfo.minZoom;var centerConstraint=function createCenterConstraint(options){if(void 0!==options.extent){var smooth=void 0===options.smoothExtentConstraint||options.smoothExtentConstraint;return createExtent(options.extent,options.constrainOnlyCenter,smooth)}var projection=(0,proj.UQ)(options.projection,"EPSG:3857");if(!0!==options.multiWorld&&projection.isGlobal()){var extent=projection.getExtent().slice();return extent[0]=-1/0,extent[2]=1/0,createExtent(extent,!1,!1)}return none}(options),resolutionConstraint=resolutionConstraintInfo.constraint,rotationConstraint=function createRotationConstraint(options){var enableRotation=void 0===options.enableRotation||options.enableRotation;if(enableRotation){var constrainRotation=options.constrainRotation;return void 0===constrainRotation||!0===constrainRotation?(0,rotationconstraint.Gw)():!1===constrainRotation?rotationconstraint.YP:"number"==typeof constrainRotation?(0,rotationconstraint.gE)(constrainRotation):rotationconstraint.YP}return rotationconstraint.h$}(options);this.constraints_={center:centerConstraint,resolution:resolutionConstraint,rotation:rotationConstraint},this.setRotation(void 0!==options.rotation?options.rotation:0),this.setCenterInternal(void 0!==options.center?options.center:null),void 0!==options.resolution?this.setResolution(options.resolution):void 0!==options.zoom&&this.setZoom(options.zoom)},Object.defineProperty(View.prototype,"padding",{get:function(){return this.padding_},set:function(padding){var oldPadding=this.padding_;this.padding_=padding;var center=this.getCenter();if(center){var newPadding=padding||[0,0,0,0];oldPadding=oldPadding||[0,0,0,0];var resolution=this.getResolution(),offsetX=resolution/2*(newPadding[3]-oldPadding[3]+oldPadding[1]-newPadding[1]),offsetY=resolution/2*(newPadding[0]-oldPadding[0]+oldPadding[2]-newPadding[2]);this.setCenterInternal([center[0]+offsetX,center[1]-offsetY])}},enumerable:!1,configurable:!0}),View.prototype.getUpdatedOptions_=function(newOptions){var options=this.getProperties();return void 0!==options.resolution?options.resolution=this.getResolution():options.zoom=this.getZoom(),options.center=this.getCenterInternal(),options.rotation=this.getRotation(),(0,obj.f0)({},options,newOptions)},View.prototype.animate=function(var_args){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var args=new Array(arguments.length),i=0;i<args.length;++i){var options=arguments[i];options.center&&((options=(0,obj.f0)({},options)).center=(0,proj.Vs)(options.center,this.getProjection())),options.anchor&&((options=(0,obj.f0)({},options)).anchor=(0,proj.Vs)(options.anchor,this.getProjection())),args[i]=options}this.animateInternal.apply(this,args)},View.prototype.animateInternal=function(var_args){var callback,animationCount=arguments.length;animationCount>1&&"function"==typeof arguments[animationCount-1]&&(callback=arguments[animationCount-1],--animationCount);for(var i=0;i<animationCount&&!this.isDef();++i){var state=arguments[i];state.center&&this.setCenterInternal(state.center),void 0!==state.zoom?this.setZoom(state.zoom):state.resolution&&this.setResolution(state.resolution),void 0!==state.rotation&&this.setRotation(state.rotation)}if(i!==animationCount){for(var start=Date.now(),center=this.targetCenter_.slice(),resolution=this.targetResolution_,rotation=this.targetRotation_,series=[];i<animationCount;++i){var options=arguments[i],animation={start,complete:!1,anchor:options.anchor,duration:void 0!==options.duration?options.duration:1e3,easing:options.easing||easing.rd,callback};if(options.center&&(animation.sourceCenter=center,animation.targetCenter=options.center.slice(),center=animation.targetCenter),void 0!==options.zoom?(animation.sourceResolution=resolution,animation.targetResolution=this.getResolutionForZoom(options.zoom),resolution=animation.targetResolution):options.resolution&&(animation.sourceResolution=resolution,animation.targetResolution=options.resolution,resolution=animation.targetResolution),void 0!==options.rotation){animation.sourceRotation=rotation;var delta=(0,math.$W)(options.rotation-rotation+Math.PI,2*Math.PI)-Math.PI;animation.targetRotation=rotation+delta,rotation=animation.targetRotation}isNoopAnimation(animation)?animation.complete=!0:start+=animation.duration,series.push(animation)}this.animations_.push(series),this.setHint(ViewHint.Z.ANIMATING,1),this.updateAnimations_()}else callback&&animationCallback(callback,!0)},View.prototype.getAnimating=function(){return this.hints_[ViewHint.Z.ANIMATING]>0},View.prototype.getInteracting=function(){return this.hints_[ViewHint.Z.INTERACTING]>0},View.prototype.cancelAnimations=function(){var anchor;this.setHint(ViewHint.Z.ANIMATING,-this.hints_[ViewHint.Z.ANIMATING]);for(var i=0,ii=this.animations_.length;i<ii;++i){var series=this.animations_[i];if(series[0].callback&&animationCallback(series[0].callback,!1),!anchor)for(var j=0,jj=series.length;j<jj;++j){var animation=series[j];if(!animation.complete){anchor=animation.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=anchor,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},View.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var now=Date.now(),more=!1,i=this.animations_.length-1;i>=0;--i){for(var series=this.animations_[i],seriesComplete=!0,j=0,jj=series.length;j<jj;++j){var animation=series[j];if(!animation.complete){var elapsed=now-animation.start,fraction=animation.duration>0?elapsed/animation.duration:1;fraction>=1?(animation.complete=!0,fraction=1):seriesComplete=!1;var progress=animation.easing(fraction);if(animation.sourceCenter){var x0=animation.sourceCenter[0],y0=animation.sourceCenter[1],x1=animation.targetCenter[0],y1=animation.targetCenter[1];this.nextCenter_=animation.targetCenter;var x=x0+progress*(x1-x0),y=y0+progress*(y1-y0);this.targetCenter_=[x,y]}if(animation.sourceResolution&&animation.targetResolution){var resolution=1===progress?animation.targetResolution:animation.sourceResolution+progress*(animation.targetResolution-animation.sourceResolution);if(animation.anchor){var size=this.getViewportSize_(this.getRotation()),constrainedResolution=this.constraints_.resolution(resolution,0,size,!0);this.targetCenter_=this.calculateCenterZoom(constrainedResolution,animation.anchor)}this.nextResolution_=animation.targetResolution,this.targetResolution_=resolution,this.applyTargetState_(!0)}if(void 0!==animation.sourceRotation&&void 0!==animation.targetRotation){var rotation=1===progress?(0,math.$W)(animation.targetRotation+Math.PI,2*Math.PI)-Math.PI:animation.sourceRotation+progress*(animation.targetRotation-animation.sourceRotation);if(animation.anchor){var constrainedRotation=this.constraints_.rotation(rotation,!0);this.targetCenter_=this.calculateCenterRotate(constrainedRotation,animation.anchor)}this.nextRotation_=animation.targetRotation,this.targetRotation_=rotation}if(this.applyTargetState_(!0),more=!0,!animation.complete)break}}if(seriesComplete){this.animations_[i]=null,this.setHint(ViewHint.Z.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var callback=series[0].callback;callback&&animationCallback(callback,!0)}}this.animations_=this.animations_.filter(Boolean),more&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},View.prototype.calculateCenterRotate=function(rotation,anchor){var center,currentCenter=this.getCenterInternal();return void 0!==currentCenter&&(center=[currentCenter[0]-anchor[0],currentCenter[1]-anchor[1]],(0,coordinate.U1)(center,rotation-this.getRotation()),(0,coordinate.IH)(center,anchor)),center},View.prototype.calculateCenterZoom=function(resolution,anchor){var center,currentCenter=this.getCenterInternal(),currentResolution=this.getResolution();void 0!==currentCenter&&void 0!==currentResolution&&(center=[anchor[0]-resolution*(anchor[0]-currentCenter[0])/currentResolution,anchor[1]-resolution*(anchor[1]-currentCenter[1])/currentResolution]);return center},View.prototype.getViewportSize_=function(opt_rotation){var size=this.viewportSize_;if(opt_rotation){var w=size[0],h=size[1];return[Math.abs(w*Math.cos(opt_rotation))+Math.abs(h*Math.sin(opt_rotation)),Math.abs(w*Math.sin(opt_rotation))+Math.abs(h*Math.cos(opt_rotation))]}return size},View.prototype.setViewportSize=function(opt_size){this.viewportSize_=Array.isArray(opt_size)?opt_size.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},View.prototype.getCenter=function(){var center=this.getCenterInternal();return center?(0,proj.lO)(center,this.getProjection()):center},View.prototype.getCenterInternal=function(){return this.get(ViewProperty.CENTER)},View.prototype.getConstraints=function(){return this.constraints_},View.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},View.prototype.getHints=function(opt_hints){return void 0!==opt_hints?(opt_hints[0]=this.hints_[0],opt_hints[1]=this.hints_[1],opt_hints):this.hints_.slice()},View.prototype.calculateExtent=function(opt_size){var extent=this.calculateExtentInternal(opt_size);return(0,proj.Fj)(extent,this.getProjection())},View.prototype.calculateExtentInternal=function(opt_size){var size=opt_size||this.getViewportSizeMinusPadding_(),center=this.getCenterInternal();(0,asserts.h)(center,1);var resolution=this.getResolution();(0,asserts.h)(void 0!==resolution,2);var rotation=this.getRotation();return(0,asserts.h)(void 0!==rotation,3),(0,ol_extent.p8)(center,resolution,rotation,size)},View.prototype.getMaxResolution=function(){return this.maxResolution_},View.prototype.getMinResolution=function(){return this.minResolution_},View.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},View.prototype.setMaxZoom=function(zoom){this.applyOptions_(this.getUpdatedOptions_({maxZoom:zoom}))},View.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},View.prototype.setMinZoom=function(zoom){this.applyOptions_(this.getUpdatedOptions_({minZoom:zoom}))},View.prototype.setConstrainResolution=function(enabled){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:enabled}))},View.prototype.getProjection=function(){return this.projection_},View.prototype.getResolution=function(){return this.get(ViewProperty.RESOLUTION)},View.prototype.getResolutions=function(){return this.resolutions_},View.prototype.getResolutionForExtent=function(extent,opt_size){return this.getResolutionForExtentInternal((0,proj.dY)(extent,this.getProjection()),opt_size)},View.prototype.getResolutionForExtentInternal=function(extent,opt_size){var size=opt_size||this.getViewportSizeMinusPadding_(),xResolution=(0,ol_extent.dz)(extent)/size[0],yResolution=(0,ol_extent.Cr)(extent)/size[1];return Math.max(xResolution,yResolution)},View.prototype.getResolutionForValueFunction=function(opt_power){var power=opt_power||2,maxResolution=this.getConstrainedResolution(this.maxResolution_),minResolution=this.minResolution_,max=Math.log(maxResolution/minResolution)/Math.log(power);return function(value){return maxResolution/Math.pow(power,value*max)}},View.prototype.getRotation=function(){return this.get(ViewProperty.ROTATION)},View.prototype.getValueForResolutionFunction=function(opt_power){var logPower=Math.log(opt_power||2),maxResolution=this.getConstrainedResolution(this.maxResolution_),minResolution=this.minResolution_,max=Math.log(maxResolution/minResolution)/logPower;return function(resolution){return Math.log(maxResolution/resolution)/logPower/max}},View.prototype.getViewportSizeMinusPadding_=function(opt_rotation){var size=this.getViewportSize_(opt_rotation),padding=this.padding_;return padding&&(size=[size[0]-padding[1]-padding[3],size[1]-padding[0]-padding[2]]),size},View.prototype.getState=function(){var projection=this.getProjection(),resolution=this.getResolution(),rotation=this.getRotation(),center=this.getCenterInternal(),padding=this.padding_;if(padding){var reducedSize=this.getViewportSizeMinusPadding_();center=calculateCenterOn(center,this.getViewportSize_(),[reducedSize[0]/2+padding[3],reducedSize[1]/2+padding[0]],resolution,rotation)}return{center:center.slice(0),projection:void 0!==projection?projection:null,resolution,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation,zoom:this.getZoom()}},View.prototype.getZoom=function(){var zoom,resolution=this.getResolution();return void 0!==resolution&&(zoom=this.getZoomForResolution(resolution)),zoom},View.prototype.getZoomForResolution=function(resolution){var max,zoomFactor,offset=this.minZoom_||0;if(this.resolutions_){var nearest=(0,array.h7)(this.resolutions_,resolution,1);offset=nearest,max=this.resolutions_[nearest],zoomFactor=nearest==this.resolutions_.length-1?2:max/this.resolutions_[nearest+1]}else max=this.maxResolution_,zoomFactor=this.zoomFactor_;return offset+Math.log(max/resolution)/Math.log(zoomFactor)},View.prototype.getResolutionForZoom=function(zoom){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var baseLevel=(0,math.uZ)(Math.floor(zoom),0,this.resolutions_.length-2),zoomFactor=this.resolutions_[baseLevel]/this.resolutions_[baseLevel+1];return this.resolutions_[baseLevel]/Math.pow(zoomFactor,(0,math.uZ)(zoom-baseLevel,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,zoom-this.minZoom_)},View.prototype.fit=function(geometryOrExtent,opt_options){var geometry;if((0,asserts.h)(Array.isArray(geometryOrExtent)||"function"==typeof geometryOrExtent.getSimplifiedGeometry,24),Array.isArray(geometryOrExtent)){(0,asserts.h)(!(0,ol_extent.xb)(geometryOrExtent),25);var extent=(0,proj.dY)(geometryOrExtent,this.getProjection());geometry=(0,Polygon.oJ)(extent)}else if("Circle"===geometryOrExtent.getType()){extent=(0,proj.dY)(geometryOrExtent.getExtent(),this.getProjection());(geometry=(0,Polygon.oJ)(extent)).rotate(this.getRotation(),(0,ol_extent.qg)(extent))}else{var userProjection=(0,proj.Cs)();geometry=userProjection?geometryOrExtent.clone().transform(userProjection,this.getProjection()):geometryOrExtent}this.fitInternal(geometry,opt_options)},View.prototype.rotatedExtentForGeometry=function(geometry){for(var rotation=this.getRotation(),cosAngle=Math.cos(rotation),sinAngle=Math.sin(-rotation),coords=geometry.getFlatCoordinates(),stride=geometry.getStride(),minRotX=1/0,minRotY=1/0,maxRotX=-1/0,maxRotY=-1/0,i=0,ii=coords.length;i<ii;i+=stride){var rotX=coords[i]*cosAngle-coords[i+1]*sinAngle,rotY=coords[i]*sinAngle+coords[i+1]*cosAngle;minRotX=Math.min(minRotX,rotX),minRotY=Math.min(minRotY,rotY),maxRotX=Math.max(maxRotX,rotX),maxRotY=Math.max(maxRotY,rotY)}return[minRotX,minRotY,maxRotX,maxRotY]},View.prototype.fitInternal=function(geometry,opt_options){var options=opt_options||{},size=options.size;size||(size=this.getViewportSizeMinusPadding_());var minResolution,padding=void 0!==options.padding?options.padding:[0,0,0,0],nearest=void 0!==options.nearest&&options.nearest;minResolution=void 0!==options.minResolution?options.minResolution:void 0!==options.maxZoom?this.getResolutionForZoom(options.maxZoom):0;var rotatedExtent=this.rotatedExtentForGeometry(geometry),resolution=this.getResolutionForExtentInternal(rotatedExtent,[size[0]-padding[1]-padding[3],size[1]-padding[0]-padding[2]]);resolution=isNaN(resolution)?minResolution:Math.max(resolution,minResolution),resolution=this.getConstrainedResolution(resolution,nearest?0:1);var rotation=this.getRotation(),sinAngle=Math.sin(rotation),cosAngle=Math.cos(rotation),centerRot=(0,ol_extent.qg)(rotatedExtent);centerRot[0]+=(padding[1]-padding[3])/2*resolution,centerRot[1]+=(padding[0]-padding[2])/2*resolution;var centerX=centerRot[0]*cosAngle-centerRot[1]*sinAngle,centerY=centerRot[1]*cosAngle+centerRot[0]*sinAngle,center=this.getConstrainedCenter([centerX,centerY],resolution),callback=options.callback?options.callback:functions.Zn;void 0!==options.duration?this.animateInternal({resolution,center,duration:options.duration,easing:options.easing},callback):(this.targetResolution_=resolution,this.targetCenter_=center,this.applyTargetState_(!1,!0),animationCallback(callback,!0))},View.prototype.centerOn=function(coordinate,size,position){this.centerOnInternal((0,proj.Vs)(coordinate,this.getProjection()),size,position)},View.prototype.centerOnInternal=function(coordinate,size,position){this.setCenterInternal(calculateCenterOn(coordinate,size,position,this.getResolution(),this.getRotation()))},View.prototype.calculateCenterShift=function(center,resolution,rotation,size){var centerShift,padding=this.padding_;if(padding&&center){var reducedSize=this.getViewportSizeMinusPadding_(-rotation),shiftedCenter=calculateCenterOn(center,size,[reducedSize[0]/2+padding[3],reducedSize[1]/2+padding[0]],resolution,rotation);centerShift=[center[0]-shiftedCenter[0],center[1]-shiftedCenter[1]]}return centerShift},View.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},View.prototype.adjustCenter=function(deltaCoordinates){var center=(0,proj.lO)(this.targetCenter_,this.getProjection());this.setCenter([center[0]+deltaCoordinates[0],center[1]+deltaCoordinates[1]])},View.prototype.adjustCenterInternal=function(deltaCoordinates){var center=this.targetCenter_;this.setCenterInternal([center[0]+deltaCoordinates[0],center[1]+deltaCoordinates[1]])},View.prototype.adjustResolution=function(ratio,opt_anchor){var anchor=opt_anchor&&(0,proj.Vs)(opt_anchor,this.getProjection());this.adjustResolutionInternal(ratio,anchor)},View.prototype.adjustResolutionInternal=function(ratio,opt_anchor){var isMoving=this.getAnimating()||this.getInteracting(),size=this.getViewportSize_(this.getRotation()),newResolution=this.constraints_.resolution(this.targetResolution_*ratio,0,size,isMoving);opt_anchor&&(this.targetCenter_=this.calculateCenterZoom(newResolution,opt_anchor)),this.targetResolution_*=ratio,this.applyTargetState_()},View.prototype.adjustZoom=function(delta,opt_anchor){this.adjustResolution(Math.pow(this.zoomFactor_,-delta),opt_anchor)},View.prototype.adjustRotation=function(delta,opt_anchor){opt_anchor&&(opt_anchor=(0,proj.Vs)(opt_anchor,this.getProjection())),this.adjustRotationInternal(delta,opt_anchor)},View.prototype.adjustRotationInternal=function(delta,opt_anchor){var isMoving=this.getAnimating()||this.getInteracting(),newRotation=this.constraints_.rotation(this.targetRotation_+delta,isMoving);opt_anchor&&(this.targetCenter_=this.calculateCenterRotate(newRotation,opt_anchor)),this.targetRotation_+=delta,this.applyTargetState_()},View.prototype.setCenter=function(center){this.setCenterInternal(center?(0,proj.Vs)(center,this.getProjection()):center)},View.prototype.setCenterInternal=function(center){this.targetCenter_=center,this.applyTargetState_()},View.prototype.setHint=function(hint,delta){return this.hints_[hint]+=delta,this.changed(),this.hints_[hint]},View.prototype.setResolution=function(resolution){this.targetResolution_=resolution,this.applyTargetState_()},View.prototype.setRotation=function(rotation){this.targetRotation_=rotation,this.applyTargetState_()},View.prototype.setZoom=function(zoom){this.setResolution(this.getResolutionForZoom(zoom))},View.prototype.applyTargetState_=function(opt_doNotCancelAnims,opt_forceMoving){var isMoving=this.getAnimating()||this.getInteracting()||opt_forceMoving,newRotation=this.constraints_.rotation(this.targetRotation_,isMoving),size=this.getViewportSize_(newRotation),newResolution=this.constraints_.resolution(this.targetResolution_,0,size,isMoving),newCenter=this.constraints_.center(this.targetCenter_,newResolution,size,isMoving,this.calculateCenterShift(this.targetCenter_,newResolution,newRotation,size));this.get(ViewProperty.ROTATION)!==newRotation&&this.set(ViewProperty.ROTATION,newRotation),this.get(ViewProperty.RESOLUTION)!==newResolution&&(this.set(ViewProperty.RESOLUTION,newResolution),this.set("zoom",this.getZoom(),!0)),newCenter&&this.get(ViewProperty.CENTER)&&(0,coordinate.fS)(this.get(ViewProperty.CENTER),newCenter)||this.set(ViewProperty.CENTER,newCenter),this.getAnimating()&&!opt_doNotCancelAnims&&this.cancelAnimations(),this.cancelAnchor_=void 0},View.prototype.resolveConstraints=function(opt_duration,opt_resolutionDirection,opt_anchor){var duration=void 0!==opt_duration?opt_duration:200,direction=opt_resolutionDirection||0,newRotation=this.constraints_.rotation(this.targetRotation_),size=this.getViewportSize_(newRotation),newResolution=this.constraints_.resolution(this.targetResolution_,direction,size),newCenter=this.constraints_.center(this.targetCenter_,newResolution,size,!1,this.calculateCenterShift(this.targetCenter_,newResolution,newRotation,size));if(0===duration&&!this.cancelAnchor_)return this.targetResolution_=newResolution,this.targetRotation_=newRotation,this.targetCenter_=newCenter,void this.applyTargetState_();var anchor=opt_anchor||(0===duration?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===newResolution&&this.getRotation()===newRotation&&this.getCenterInternal()&&(0,coordinate.fS)(this.getCenterInternal(),newCenter)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:newRotation,center:newCenter,resolution:newResolution,duration,easing:easing.Vv,anchor}))},View.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(ViewHint.Z.INTERACTING,1)},View.prototype.endInteraction=function(opt_duration,opt_resolutionDirection,opt_anchor){var anchor=opt_anchor&&(0,proj.Vs)(opt_anchor,this.getProjection());this.endInteractionInternal(opt_duration,opt_resolutionDirection,anchor)},View.prototype.endInteractionInternal=function(opt_duration,opt_resolutionDirection,opt_anchor){this.setHint(ViewHint.Z.INTERACTING,-1),this.resolveConstraints(opt_duration,opt_resolutionDirection,opt_anchor)},View.prototype.getConstrainedCenter=function(targetCenter,opt_targetResolution){var size=this.getViewportSize_(this.getRotation());return this.constraints_.center(targetCenter,opt_targetResolution||this.getResolution(),size)},View.prototype.getConstrainedZoom=function(targetZoom,opt_direction){var targetRes=this.getResolutionForZoom(targetZoom);return this.getZoomForResolution(this.getConstrainedResolution(targetRes,opt_direction))},View.prototype.getConstrainedResolution=function(targetResolution,opt_direction){var direction=opt_direction||0,size=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(targetResolution,direction,size)},View}(ol_Object.Z)},"./node_modules/ol/ViewHint.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={ANIMATING:0,INTERACTING:1}},"./node_modules/ol/color.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{BB:()=>toString,XC:()=>asString,_2:()=>asArray});var _asserts_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/asserts.js"),_math_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/math.js"),HEX_COLOR_RE_=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,NAMED_COLOR_RE_=/^([a-z]*)$|^hsla?\(.*\)$/i;function asString(color){return"string"==typeof color?color:toString(color)}function fromNamed(color){var el=document.createElement("div");if(el.style.color=color,""!==el.style.color){document.body.appendChild(el);var rgb=getComputedStyle(el).color;return document.body.removeChild(el),rgb}return""}var cache,cacheSize,fromString=(cache={},cacheSize=0,function(s){var color;if(cache.hasOwnProperty(s))color=cache[s];else{if(cacheSize>=1024){var i=0;for(var key in cache)0==(3&i++)&&(delete cache[key],--cacheSize)}color=function fromStringInternal_(s){var r,g,b,a,color;if(NAMED_COLOR_RE_.exec(s)&&(s=fromNamed(s)),HEX_COLOR_RE_.exec(s)){var n=s.length-1,d=void 0;d=n<=4?1:2;var hasAlpha=4===n||8===n;r=parseInt(s.substr(1+0*d,d),16),g=parseInt(s.substr(1+1*d,d),16),b=parseInt(s.substr(1+2*d,d),16),a=hasAlpha?parseInt(s.substr(1+3*d,d),16):255,1==d&&(r=(r<<4)+r,g=(g<<4)+g,b=(b<<4)+b,hasAlpha&&(a=(a<<4)+a)),color=[r,g,b,a/255]}else 0==s.indexOf("rgba(")?normalize(color=s.slice(5,-1).split(",").map(Number)):0==s.indexOf("rgb(")?((color=s.slice(4,-1).split(",").map(Number)).push(1),normalize(color)):(0,_asserts_js__WEBPACK_IMPORTED_MODULE_0__.h)(!1,14);return color}(s),cache[s]=color,++cacheSize}return color});function asArray(color){return Array.isArray(color)?color:fromString(color)}function normalize(color){return color[0]=(0,_math_js__WEBPACK_IMPORTED_MODULE_1__.uZ)(color[0]+.5|0,0,255),color[1]=(0,_math_js__WEBPACK_IMPORTED_MODULE_1__.uZ)(color[1]+.5|0,0,255),color[2]=(0,_math_js__WEBPACK_IMPORTED_MODULE_1__.uZ)(color[2]+.5|0,0,255),color[3]=(0,_math_js__WEBPACK_IMPORTED_MODULE_1__.uZ)(color[3],0,1),color}function toString(color){var r=color[0];r!=(0|r)&&(r=r+.5|0);var g=color[1];g!=(0|g)&&(g=g+.5|0);var b=color[2];return b!=(0|b)&&(b=b+.5|0),"rgba("+r+","+g+","+b+","+(void 0===color[3]?1:Math.round(100*color[3])/100)+")"}},"./node_modules/ol/colorlike.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{y:()=>asColorLike});var _color_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/color.js");function asColorLike(color){return Array.isArray(color)?(0,_color_js__WEBPACK_IMPORTED_MODULE_0__.BB)(color):color}},"./node_modules/ol/css.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{XV:()=>CLASS_UNSELECTABLE,hN:()=>CLASS_COLLAPSED,hg:()=>CLASS_CONTROL,oj:()=>CLASS_HIDDEN,p:()=>getFontParameters});var CLASS_HIDDEN="ol-hidden",CLASS_UNSELECTABLE="ol-unselectable",CLASS_CONTROL="ol-control",CLASS_COLLAPSED="ol-collapsed",fontRegEx=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),fontRegExMatchIndex=["style","variant","weight","size","lineHeight","family"],getFontParameters=function(fontSpec){var match=fontSpec.match(fontRegEx);if(!match)return null;for(var style={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,ii=fontRegExMatchIndex.length;i<ii;++i){var value=match[i+1];void 0!==value&&(style[fontRegExMatchIndex[i]]=value)}return style.families=style.family.split(/,\s?/),style}},"./node_modules/ol/dom.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$H:()=>replaceNode,E4:()=>createCanvasContext2D,ZF:()=>removeNode,ep:()=>removeChildren,hF:()=>replaceChildren,jy:()=>releaseCanvas});var _has_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/has.js");function createCanvasContext2D(opt_width,opt_height,opt_canvasPool,opt_Context2DSettings){var canvas;return canvas=opt_canvasPool&&opt_canvasPool.length?opt_canvasPool.shift():_has_js__WEBPACK_IMPORTED_MODULE_0__.Id?new OffscreenCanvas(opt_width||300,opt_height||300):document.createElement("canvas"),opt_width&&(canvas.width=opt_width),opt_height&&(canvas.height=opt_height),canvas.getContext("2d",opt_Context2DSettings)}function releaseCanvas(context){var canvas=context.canvas;canvas.width=1,canvas.height=1,context.clearRect(0,0,1,1)}function replaceNode(newNode,oldNode){var parent=oldNode.parentNode;parent&&parent.replaceChild(newNode,oldNode)}function removeNode(node){return node&&node.parentNode?node.parentNode.removeChild(node):null}function removeChildren(node){for(;node.lastChild;)node.removeChild(node.lastChild)}function replaceChildren(node,children){for(var oldChildren=node.childNodes,i=0;;++i){var oldChild=oldChildren[i],newChild=children[i];if(!oldChild&&!newChild)break;oldChild!==newChild&&(oldChild?newChild?node.insertBefore(newChild,oldChild):(node.removeChild(oldChild),--i):node.appendChild(newChild))}}},"./node_modules/ol/easing.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function easeIn(t){return Math.pow(t,3)}function easeOut(t){return 1-easeIn(1-t)}function inAndOut(t){return 3*t*t-2*t*t*t}function linear(t){return t}__webpack_require__.d(__webpack_exports__,{GE:()=>linear,Vv:()=>easeOut,YQ:()=>easeIn,rd:()=>inAndOut})},"./node_modules/ol/events/condition.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$6:()=>all,Bx:()=>always,QC:()=>platformModifierKeyOnly,QL:()=>mouseOnly,TN:()=>targetNotEditable,Xp:()=>primaryAction,aj:()=>altShiftKeysOnly,rM:()=>noModifierKeys,v8:()=>mouseActionButton,vY:()=>shiftKeyOnly,yZ:()=>focusWithTabindex});var _functions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/functions.js"),_has_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/has.js"),_asserts_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/asserts.js");function all(var_args){var conditions=arguments;return function(event){for(var pass=!0,i=0,ii=conditions.length;i<ii&&(pass=pass&&conditions[i](event));++i);return pass}}var altShiftKeysOnly=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return originalEvent.altKey&&!(originalEvent.metaKey||originalEvent.ctrlKey)&&originalEvent.shiftKey},focusWithTabindex=function(event){return!event.map.getTargetElement().hasAttribute("tabindex")||function(event){var targetElement=event.map.getTargetElement(),activeElement=event.map.getOwnerDocument().activeElement;return targetElement.contains(activeElement)}(event)},always=_functions_js__WEBPACK_IMPORTED_MODULE_0__.uX,mouseActionButton=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return 0==originalEvent.button&&!(_has_js__WEBPACK_IMPORTED_MODULE_1__.G$&&_has_js__WEBPACK_IMPORTED_MODULE_1__.tK&&originalEvent.ctrlKey)},noModifierKeys=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return!originalEvent.altKey&&!(originalEvent.metaKey||originalEvent.ctrlKey)&&!originalEvent.shiftKey},platformModifierKeyOnly=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return!originalEvent.altKey&&(_has_js__WEBPACK_IMPORTED_MODULE_1__.tK?originalEvent.metaKey:originalEvent.ctrlKey)&&!originalEvent.shiftKey},shiftKeyOnly=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return!originalEvent.altKey&&!(originalEvent.metaKey||originalEvent.ctrlKey)&&originalEvent.shiftKey},targetNotEditable=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent,tagName=originalEvent.target.tagName;return"INPUT"!==tagName&&"SELECT"!==tagName&&"TEXTAREA"!==tagName&&!originalEvent.target.isContentEditable},mouseOnly=function(mapBrowserEvent){var pointerEvent=mapBrowserEvent.originalEvent;return(0,_asserts_js__WEBPACK_IMPORTED_MODULE_2__.h)(void 0!==pointerEvent,56),"mouse"==pointerEvent.pointerType},primaryAction=function(mapBrowserEvent){var pointerEvent=mapBrowserEvent.originalEvent;return(0,_asserts_js__WEBPACK_IMPORTED_MODULE_2__.h)(void 0!==pointerEvent,56),pointerEvent.isPrimary&&0===pointerEvent.button}},"./node_modules/ol/format/WMTSCapabilities.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>format_WMTSCapabilities});var xml=__webpack_require__("./node_modules/ol/xml.js");const format_XML=function(){function XML(){}return XML.prototype.read=function(source){if(source){if("string"==typeof source){var doc=(0,xml.Qc)(source);return this.readFromDocument(doc)}return(0,xml.qk)(source)?this.readFromDocument(source):this.readFromNode(source)}return null},XML.prototype.readFromDocument=function(doc){for(var n=doc.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return this.readFromNode(n);return null},XML.prototype.readFromNode=function(node){},XML}();var NAMESPACE_URI="http://www.w3.org/1999/xlink";function readHref(node){return node.getAttributeNS(NAMESPACE_URI,"href")}var extendStatics,xsd=__webpack_require__("./node_modules/ol/format/xsd.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),NAMESPACE_URIS=[null,"http://www.opengis.net/ows/1.1"],PARSERS=(0,xml.C5)(NAMESPACE_URIS,{ServiceIdentification:(0,xml.Pr)((function readServiceIdentification(node,objectStack){return(0,xml.O)({},SERVICE_IDENTIFICATION_PARSERS,node,objectStack)})),ServiceProvider:(0,xml.Pr)((function readServiceProvider(node,objectStack){return(0,xml.O)({},SERVICE_PROVIDER_PARSERS,node,objectStack)})),OperationsMetadata:(0,xml.Pr)((function readOperationsMetadata(node,objectStack){return(0,xml.O)({},OPERATIONS_METADATA_PARSERS,node,objectStack)}))}),OWS=function(_super){function OWS(){return _super.call(this)||this}return __extends(OWS,_super),OWS.prototype.readFromNode=function(node){var owsObject=(0,xml.O)({},PARSERS,node,[]);return owsObject||null},OWS}(format_XML),ADDRESS_PARSERS=(0,xml.C5)(NAMESPACE_URIS,{DeliveryPoint:(0,xml.Pr)(xsd.s2),City:(0,xml.Pr)(xsd.s2),AdministrativeArea:(0,xml.Pr)(xsd.s2),PostalCode:(0,xml.Pr)(xsd.s2),Country:(0,xml.Pr)(xsd.s2),ElectronicMailAddress:(0,xml.Pr)(xsd.s2)}),ALLOWED_VALUES_PARSERS=(0,xml.C5)(NAMESPACE_URIS,{Value:(0,xml.ke)((function readValue(node,objectStack){return(0,xsd.s2)(node)}))}),CONSTRAINT_PARSERS=(0,xml.C5)(NAMESPACE_URIS,{AllowedValues:(0,xml.Pr)((function readAllowedValues(node,objectStack){return(0,xml.O)({},ALLOWED_VALUES_PARSERS,node,objectStack)}))}),CONTACT_INFO_PARSERS=(0,xml.C5)(NAMESPACE_URIS,{Phone:(0,xml.Pr)((function readPhone(node,objectStack){return(0,xml.O)({},PHONE_PARSERS,node,objectStack)})),Address:(0,xml.Pr)((function readAddress(node,objectStack){return(0,xml.O)({},ADDRESS_PARSERS,node,objectStack)}))}),DCP_PARSERS=(0,xml.C5)(NAMESPACE_URIS,{HTTP:(0,xml.Pr)((function readHttp(node,objectStack){return(0,xml.O)({},HTTP_PARSERS,node,objectStack)}))}),HTTP_PARSERS=(0,xml.C5)(NAMESPACE_URIS,{Get:(0,xml.ke)((function readGet(node,objectStack){var href=readHref(node);if(!href)return;return(0,xml.O)({href},REQUEST_METHOD_PARSERS,node,objectStack)})),Post:void 0}),OPERATION_PARSERS=(0,xml.C5)(NAMESPACE_URIS,{DCP:(0,xml.Pr)((function readDcp(node,objectStack){return(0,xml.O)({},DCP_PARSERS,node,objectStack)}))}),OPERATIONS_METADATA_PARSERS=(0,xml.C5)(NAMESPACE_URIS,{Operation:function readOperation(node,objectStack){var name=node.getAttribute("name"),value=(0,xml.O)({},OPERATION_PARSERS,node,objectStack);if(!value)return;objectStack[objectStack.length-1][name]=value}}),PHONE_PARSERS=(0,xml.C5)(NAMESPACE_URIS,{Voice:(0,xml.Pr)(xsd.s2),Facsimile:(0,xml.Pr)(xsd.s2)}),REQUEST_METHOD_PARSERS=(0,xml.C5)(NAMESPACE_URIS,{Constraint:(0,xml.ke)((function readConstraint(node,objectStack){var name=node.getAttribute("name");if(!name)return;return(0,xml.O)({name},CONSTRAINT_PARSERS,node,objectStack)}))}),SERVICE_CONTACT_PARSERS=(0,xml.C5)(NAMESPACE_URIS,{IndividualName:(0,xml.Pr)(xsd.s2),PositionName:(0,xml.Pr)(xsd.s2),ContactInfo:(0,xml.Pr)((function readContactInfo(node,objectStack){return(0,xml.O)({},CONTACT_INFO_PARSERS,node,objectStack)}))}),SERVICE_IDENTIFICATION_PARSERS=(0,xml.C5)(NAMESPACE_URIS,{Abstract:(0,xml.Pr)(xsd.s2),AccessConstraints:(0,xml.Pr)(xsd.s2),Fees:(0,xml.Pr)(xsd.s2),Title:(0,xml.Pr)(xsd.s2),ServiceTypeVersion:(0,xml.Pr)(xsd.s2),ServiceType:(0,xml.Pr)(xsd.s2)}),SERVICE_PROVIDER_PARSERS=(0,xml.C5)(NAMESPACE_URIS,{ProviderName:(0,xml.Pr)(xsd.s2),ProviderSite:(0,xml.Pr)(readHref),ServiceContact:(0,xml.Pr)((function readServiceContact(node,objectStack){return(0,xml.O)({},SERVICE_CONTACT_PARSERS,node,objectStack)}))});const format_OWS=OWS;var extent=__webpack_require__("./node_modules/ol/extent.js"),WMTSCapabilities_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),WMTSCapabilities_NAMESPACE_URIS=[null,"http://www.opengis.net/wmts/1.0"],OWS_NAMESPACE_URIS=[null,"http://www.opengis.net/ows/1.1"],WMTSCapabilities_PARSERS=(0,xml.C5)(WMTSCapabilities_NAMESPACE_URIS,{Contents:(0,xml.Pr)((function readContents(node,objectStack){return(0,xml.O)({},CONTENTS_PARSERS,node,objectStack)}))}),WMTSCapabilities=function(_super){function WMTSCapabilities(){var _this=_super.call(this)||this;return _this.owsParser_=new format_OWS,_this}return WMTSCapabilities_extends(WMTSCapabilities,_super),WMTSCapabilities.prototype.readFromNode=function(node){var version=node.getAttribute("version");version&&(version=version.trim());var WMTSCapabilityObject=this.owsParser_.readFromNode(node);return WMTSCapabilityObject?(WMTSCapabilityObject.version=version,(WMTSCapabilityObject=(0,xml.O)(WMTSCapabilityObject,WMTSCapabilities_PARSERS,node,[]))||null):null},WMTSCapabilities}(format_XML),CONTENTS_PARSERS=(0,xml.C5)(WMTSCapabilities_NAMESPACE_URIS,{Layer:(0,xml.ke)((function readLayer(node,objectStack){return(0,xml.O)({},LAYER_PARSERS,node,objectStack)})),TileMatrixSet:(0,xml.ke)((function readTileMatrixSet(node,objectStack){return(0,xml.O)({},TMS_PARSERS,node,objectStack)}))}),LAYER_PARSERS=(0,xml.C5)(WMTSCapabilities_NAMESPACE_URIS,{Style:(0,xml.ke)((function readStyle(node,objectStack){var style=(0,xml.O)({},STYLE_PARSERS,node,objectStack);if(!style)return;var isDefault="true"===node.getAttribute("isDefault");return style.isDefault=isDefault,style})),Format:(0,xml.ke)(xsd.s2),TileMatrixSetLink:(0,xml.ke)((function readTileMatrixSetLink(node,objectStack){return(0,xml.O)({},TMS_LINKS_PARSERS,node,objectStack)})),Dimension:(0,xml.ke)((function readDimensions(node,objectStack){return(0,xml.O)({},DIMENSION_PARSERS,node,objectStack)})),ResourceURL:(0,xml.ke)((function readResourceUrl(node,objectStack){var format=node.getAttribute("format"),template=node.getAttribute("template"),resourceType=node.getAttribute("resourceType"),resource={};format&&(resource.format=format);template&&(resource.template=template);resourceType&&(resource.resourceType=resourceType);return resource}))},(0,xml.C5)(OWS_NAMESPACE_URIS,{Title:(0,xml.Pr)(xsd.s2),Abstract:(0,xml.Pr)(xsd.s2),WGS84BoundingBox:(0,xml.Pr)(readBoundingBox),Identifier:(0,xml.Pr)(xsd.s2)})),STYLE_PARSERS=(0,xml.C5)(WMTSCapabilities_NAMESPACE_URIS,{LegendURL:(0,xml.ke)((function readLegendUrl(node,objectStack){var legend={};return legend.format=node.getAttribute("format"),legend.href=readHref(node),legend}))},(0,xml.C5)(OWS_NAMESPACE_URIS,{Title:(0,xml.Pr)(xsd.s2),Identifier:(0,xml.Pr)(xsd.s2)})),TMS_LINKS_PARSERS=(0,xml.C5)(WMTSCapabilities_NAMESPACE_URIS,{TileMatrixSet:(0,xml.Pr)(xsd.s2),TileMatrixSetLimits:(0,xml.Pr)((function readTileMatrixLimitsList(node,objectStack){return(0,xml.O)([],TMS_LIMITS_LIST_PARSERS,node,objectStack)}))}),TMS_LIMITS_LIST_PARSERS=(0,xml.C5)(WMTSCapabilities_NAMESPACE_URIS,{TileMatrixLimits:(0,xml.Ei)((function readTileMatrixLimits(node,objectStack){return(0,xml.O)({},TMS_LIMITS_PARSERS,node,objectStack)}))}),TMS_LIMITS_PARSERS=(0,xml.C5)(WMTSCapabilities_NAMESPACE_URIS,{TileMatrix:(0,xml.Pr)(xsd.s2),MinTileRow:(0,xml.Pr)(xsd.$L),MaxTileRow:(0,xml.Pr)(xsd.$L),MinTileCol:(0,xml.Pr)(xsd.$L),MaxTileCol:(0,xml.Pr)(xsd.$L)}),DIMENSION_PARSERS=(0,xml.C5)(WMTSCapabilities_NAMESPACE_URIS,{Default:(0,xml.Pr)(xsd.s2),Value:(0,xml.ke)(xsd.s2)},(0,xml.C5)(OWS_NAMESPACE_URIS,{Identifier:(0,xml.Pr)(xsd.s2)})),WGS84_BBOX_READERS=(0,xml.C5)(OWS_NAMESPACE_URIS,{LowerCorner:(0,xml.Ei)(readCoordinates),UpperCorner:(0,xml.Ei)(readCoordinates)}),TMS_PARSERS=(0,xml.C5)(WMTSCapabilities_NAMESPACE_URIS,{WellKnownScaleSet:(0,xml.Pr)(xsd.s2),TileMatrix:(0,xml.ke)((function readTileMatrix(node,objectStack){return(0,xml.O)({},TM_PARSERS,node,objectStack)}))},(0,xml.C5)(OWS_NAMESPACE_URIS,{SupportedCRS:(0,xml.Pr)(xsd.s2),Identifier:(0,xml.Pr)(xsd.s2),BoundingBox:(0,xml.Pr)(readBoundingBox)})),TM_PARSERS=(0,xml.C5)(WMTSCapabilities_NAMESPACE_URIS,{TopLeftCorner:(0,xml.Pr)(readCoordinates),ScaleDenominator:(0,xml.Pr)(xsd.fy),TileWidth:(0,xml.Pr)(xsd.$L),TileHeight:(0,xml.Pr)(xsd.$L),MatrixWidth:(0,xml.Pr)(xsd.$L),MatrixHeight:(0,xml.Pr)(xsd.$L)},(0,xml.C5)(OWS_NAMESPACE_URIS,{Identifier:(0,xml.Pr)(xsd.s2)}));function readBoundingBox(node,objectStack){var coordinates=(0,xml.O)([],WGS84_BBOX_READERS,node,objectStack);if(2==coordinates.length)return(0,extent.hI)(coordinates)}function readCoordinates(node,objectStack){var coordinates=(0,xsd.s2)(node).split(/\s+/);if(coordinates&&2==coordinates.length){var x=+coordinates[0],y=+coordinates[1];if(!isNaN(x)&&!isNaN(y))return[x,y]}}const format_WMTSCapabilities=WMTSCapabilities},"./node_modules/ol/interaction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ce:()=>defaults});var extendStatics,Collection=__webpack_require__("./node_modules/ol/Collection.js"),Interaction=__webpack_require__("./node_modules/ol/interaction/Interaction.js"),MapBrowserEventType=__webpack_require__("./node_modules/ol/MapBrowserEventType.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const interaction_DoubleClickZoom=function(_super){function DoubleClickZoom(opt_options){var _this=_super.call(this)||this,options=opt_options||{};return _this.delta_=options.delta?options.delta:1,_this.duration_=void 0!==options.duration?options.duration:250,_this}return __extends(DoubleClickZoom,_super),DoubleClickZoom.prototype.handleEvent=function(mapBrowserEvent){var stopEvent=!1;if(mapBrowserEvent.type==MapBrowserEventType.Z.DBLCLICK){var browserEvent=mapBrowserEvent.originalEvent,map=mapBrowserEvent.map,anchor=mapBrowserEvent.coordinate,delta=browserEvent.shiftKey?-this.delta_:this.delta_,view=map.getView();(0,Interaction.FW)(view,delta,anchor,this.duration_),browserEvent.preventDefault(),stopEvent=!0}return!stopEvent},DoubleClickZoom}(Interaction.ZP);var DragPan=__webpack_require__("./node_modules/ol/interaction/DragPan.js"),Pointer=__webpack_require__("./node_modules/ol/interaction/Pointer.js"),functions=__webpack_require__("./node_modules/ol/functions.js"),events_condition=__webpack_require__("./node_modules/ol/events/condition.js"),rotationconstraint=__webpack_require__("./node_modules/ol/rotationconstraint.js"),DragRotate_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const interaction_DragRotate=function(_super){function DragRotate(opt_options){var _this=this,options=opt_options||{};return(_this=_super.call(this,{stopDown:functions.Dv})||this).condition_=options.condition?options.condition:events_condition.aj,_this.lastAngle_=void 0,_this.duration_=void 0!==options.duration?options.duration:250,_this}return DragRotate_extends(DragRotate,_super),DragRotate.prototype.handleDragEvent=function(mapBrowserEvent){if((0,events_condition.QL)(mapBrowserEvent)){var map=mapBrowserEvent.map,view=map.getView();if(view.getConstraints().rotation!==rotationconstraint.h$){var size=map.getSize(),offset=mapBrowserEvent.pixel,theta=Math.atan2(size[1]/2-offset[1],offset[0]-size[0]/2);if(void 0!==this.lastAngle_){var delta=theta-this.lastAngle_;view.adjustRotationInternal(-delta)}this.lastAngle_=theta}}},DragRotate.prototype.handleUpEvent=function(mapBrowserEvent){return!(0,events_condition.QL)(mapBrowserEvent)||(mapBrowserEvent.map.getView().endInteraction(this.duration_),!1)},DragRotate.prototype.handleDownEvent=function(mapBrowserEvent){return!!(0,events_condition.QL)(mapBrowserEvent)&&(!(!(0,events_condition.v8)(mapBrowserEvent)||!this.condition_(mapBrowserEvent))&&(mapBrowserEvent.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},DragRotate}(Pointer.Z);var Event=__webpack_require__("./node_modules/ol/events/Event.js"),Disposable=__webpack_require__("./node_modules/ol/Disposable.js"),Polygon=__webpack_require__("./node_modules/ol/geom/Polygon.js"),Box_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const Box=function(_super){function RenderBox(className){var _this=_super.call(this)||this;return _this.geometry_=null,_this.element_=document.createElement("div"),_this.element_.style.position="absolute",_this.element_.style.pointerEvents="auto",_this.element_.className="ol-box "+className,_this.map_=null,_this.startPixel_=null,_this.endPixel_=null,_this}return Box_extends(RenderBox,_super),RenderBox.prototype.disposeInternal=function(){this.setMap(null)},RenderBox.prototype.render_=function(){var startPixel=this.startPixel_,endPixel=this.endPixel_,style=this.element_.style;style.left=Math.min(startPixel[0],endPixel[0])+"px",style.top=Math.min(startPixel[1],endPixel[1])+"px",style.width=Math.abs(endPixel[0]-startPixel[0])+"px",style.height=Math.abs(endPixel[1]-startPixel[1])+"px"},RenderBox.prototype.setMap=function(map){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var style=this.element_.style;style.left="inherit",style.top="inherit",style.width="inherit",style.height="inherit"}this.map_=map,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},RenderBox.prototype.setPixels=function(startPixel,endPixel){this.startPixel_=startPixel,this.endPixel_=endPixel,this.createOrUpdateGeometry(),this.render_()},RenderBox.prototype.createOrUpdateGeometry=function(){var startPixel=this.startPixel_,endPixel=this.endPixel_,coordinates=[startPixel,[startPixel[0],endPixel[1]],endPixel,[endPixel[0],startPixel[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);coordinates[4]=coordinates[0].slice(),this.geometry_?this.geometry_.setCoordinates([coordinates]):this.geometry_=new Polygon.ZP([coordinates])},RenderBox.prototype.getGeometry=function(){return this.geometry_},RenderBox}(Disposable.Z);var DragBox_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),DragBoxEventType_BOXSTART="boxstart",DragBoxEventType_BOXDRAG="boxdrag",DragBoxEventType_BOXEND="boxend",DragBoxEventType_BOXCANCEL="boxcancel",DragBoxEvent=function(_super){function DragBoxEvent(type,coordinate,mapBrowserEvent){var _this=_super.call(this,type)||this;return _this.coordinate=coordinate,_this.mapBrowserEvent=mapBrowserEvent,_this}return DragBox_extends(DragBoxEvent,_super),DragBoxEvent}(Event.ZP);const interaction_DragBox=function(_super){function DragBox(opt_options){var _this=_super.call(this)||this;_this.on,_this.once,_this.un;var options=opt_options||{};return _this.box_=new Box(options.className||"ol-dragbox"),_this.minArea_=void 0!==options.minArea?options.minArea:64,options.onBoxEnd&&(_this.onBoxEnd=options.onBoxEnd),_this.startPixel_=null,_this.condition_=options.condition?options.condition:events_condition.v8,_this.boxEndCondition_=options.boxEndCondition?options.boxEndCondition:_this.defaultBoxEndCondition,_this}return DragBox_extends(DragBox,_super),DragBox.prototype.defaultBoxEndCondition=function(mapBrowserEvent,startPixel,endPixel){var width=endPixel[0]-startPixel[0],height=endPixel[1]-startPixel[1];return width*width+height*height>=this.minArea_},DragBox.prototype.getGeometry=function(){return this.box_.getGeometry()},DragBox.prototype.handleDragEvent=function(mapBrowserEvent){this.box_.setPixels(this.startPixel_,mapBrowserEvent.pixel),this.dispatchEvent(new DragBoxEvent(DragBoxEventType_BOXDRAG,mapBrowserEvent.coordinate,mapBrowserEvent))},DragBox.prototype.handleUpEvent=function(mapBrowserEvent){this.box_.setMap(null);var completeBox=this.boxEndCondition_(mapBrowserEvent,this.startPixel_,mapBrowserEvent.pixel);return completeBox&&this.onBoxEnd(mapBrowserEvent),this.dispatchEvent(new DragBoxEvent(completeBox?DragBoxEventType_BOXEND:DragBoxEventType_BOXCANCEL,mapBrowserEvent.coordinate,mapBrowserEvent)),!1},DragBox.prototype.handleDownEvent=function(mapBrowserEvent){return!!this.condition_(mapBrowserEvent)&&(this.startPixel_=mapBrowserEvent.pixel,this.box_.setMap(mapBrowserEvent.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new DragBoxEvent(DragBoxEventType_BOXSTART,mapBrowserEvent.coordinate,mapBrowserEvent)),!0)},DragBox.prototype.onBoxEnd=function(event){},DragBox}(Pointer.Z);var easing=__webpack_require__("./node_modules/ol/easing.js"),DragZoom_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const interaction_DragZoom=function(_super){function DragZoom(opt_options){var _this=this,options=opt_options||{},condition=options.condition?options.condition:events_condition.vY;return(_this=_super.call(this,{condition,className:options.className||"ol-dragzoom",minArea:options.minArea})||this).duration_=void 0!==options.duration?options.duration:200,_this.out_=void 0!==options.out&&options.out,_this}return DragZoom_extends(DragZoom,_super),DragZoom.prototype.onBoxEnd=function(event){var view=this.getMap().getView(),geometry=this.getGeometry();if(this.out_){var rotatedExtent=view.rotatedExtentForGeometry(geometry),resolution=view.getResolutionForExtentInternal(rotatedExtent),factor=view.getResolution()/resolution;(geometry=geometry.clone()).scale(factor*factor)}view.fitInternal(geometry,{duration:this.duration_,easing:easing.Vv})},DragZoom}(interaction_DragBox);var EventType=__webpack_require__("./node_modules/ol/events/EventType.js");const KeyCode_LEFT=37,KeyCode_UP=38,KeyCode_RIGHT=39,KeyCode_DOWN=40;var coordinate=__webpack_require__("./node_modules/ol/coordinate.js"),KeyboardPan_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const interaction_KeyboardPan=function(_super){function KeyboardPan(opt_options){var _this=_super.call(this)||this,options=opt_options||{};return _this.defaultCondition_=function(mapBrowserEvent){return(0,events_condition.rM)(mapBrowserEvent)&&(0,events_condition.TN)(mapBrowserEvent)},_this.condition_=void 0!==options.condition?options.condition:_this.defaultCondition_,_this.duration_=void 0!==options.duration?options.duration:100,_this.pixelDelta_=void 0!==options.pixelDelta?options.pixelDelta:128,_this}return KeyboardPan_extends(KeyboardPan,_super),KeyboardPan.prototype.handleEvent=function(mapBrowserEvent){var stopEvent=!1;if(mapBrowserEvent.type==EventType.Z.KEYDOWN){var keyEvent=mapBrowserEvent.originalEvent,keyCode=keyEvent.keyCode;if(this.condition_(mapBrowserEvent)&&(keyCode==KeyCode_DOWN||keyCode==KeyCode_LEFT||keyCode==KeyCode_RIGHT||keyCode==KeyCode_UP)){var view=mapBrowserEvent.map.getView(),mapUnitsDelta=view.getResolution()*this.pixelDelta_,deltaX=0,deltaY=0;keyCode==KeyCode_DOWN?deltaY=-mapUnitsDelta:keyCode==KeyCode_LEFT?deltaX=-mapUnitsDelta:keyCode==KeyCode_RIGHT?deltaX=mapUnitsDelta:deltaY=mapUnitsDelta;var delta=[deltaX,deltaY];(0,coordinate.U1)(delta,view.getRotation()),(0,Interaction.Cv)(view,delta,this.duration_),keyEvent.preventDefault(),stopEvent=!0}}return!stopEvent},KeyboardPan}(Interaction.ZP);var KeyboardZoom_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const interaction_KeyboardZoom=function(_super){function KeyboardZoom(opt_options){var _this=_super.call(this)||this,options=opt_options||{};return _this.condition_=options.condition?options.condition:events_condition.TN,_this.delta_=options.delta?options.delta:1,_this.duration_=void 0!==options.duration?options.duration:100,_this}return KeyboardZoom_extends(KeyboardZoom,_super),KeyboardZoom.prototype.handleEvent=function(mapBrowserEvent){var stopEvent=!1;if(mapBrowserEvent.type==EventType.Z.KEYDOWN||mapBrowserEvent.type==EventType.Z.KEYPRESS){var keyEvent=mapBrowserEvent.originalEvent,charCode=keyEvent.charCode;if(this.condition_(mapBrowserEvent)&&(charCode=="+".charCodeAt(0)||charCode=="-".charCodeAt(0))){var map=mapBrowserEvent.map,delta=charCode=="+".charCodeAt(0)?this.delta_:-this.delta_,view=map.getView();(0,Interaction.FW)(view,delta,void 0,this.duration_),keyEvent.preventDefault(),stopEvent=!0}}return!stopEvent},KeyboardZoom}(Interaction.ZP);const ol_Kinetic=function(){function Kinetic(decay,minVelocity,delay){this.decay_=decay,this.minVelocity_=minVelocity,this.delay_=delay,this.points_=[],this.angle_=0,this.initialVelocity_=0}return Kinetic.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},Kinetic.prototype.update=function(x,y){this.points_.push(x,y,Date.now())},Kinetic.prototype.end=function(){if(this.points_.length<6)return!1;var delay=Date.now()-this.delay_,lastIndex=this.points_.length-3;if(this.points_[lastIndex+2]<delay)return!1;for(var firstIndex=lastIndex-3;firstIndex>0&&this.points_[firstIndex+2]>delay;)firstIndex-=3;var duration=this.points_[lastIndex+2]-this.points_[firstIndex+2];if(duration<1e3/60)return!1;var dx=this.points_[lastIndex]-this.points_[firstIndex],dy=this.points_[lastIndex+1]-this.points_[firstIndex+1];return this.angle_=Math.atan2(dy,dx),this.initialVelocity_=Math.sqrt(dx*dx+dy*dy)/duration,this.initialVelocity_>this.minVelocity_},Kinetic.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},Kinetic.prototype.getAngle=function(){return this.angle_},Kinetic}();var MouseWheelZoom=__webpack_require__("./node_modules/ol/interaction/MouseWheelZoom.js"),PinchRotate_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const interaction_PinchRotate=function(_super){function PinchRotate(opt_options){var _this=this,options=opt_options||{},pointerOptions=options;return pointerOptions.stopDown||(pointerOptions.stopDown=functions.Dv),(_this=_super.call(this,pointerOptions)||this).anchor_=null,_this.lastAngle_=void 0,_this.rotating_=!1,_this.rotationDelta_=0,_this.threshold_=void 0!==options.threshold?options.threshold:.3,_this.duration_=void 0!==options.duration?options.duration:250,_this}return PinchRotate_extends(PinchRotate,_super),PinchRotate.prototype.handleDragEvent=function(mapBrowserEvent){var rotationDelta=0,touch0=this.targetPointers[0],touch1=this.targetPointers[1],angle=Math.atan2(touch1.clientY-touch0.clientY,touch1.clientX-touch0.clientX);if(void 0!==this.lastAngle_){var delta=angle-this.lastAngle_;this.rotationDelta_+=delta,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),rotationDelta=delta}this.lastAngle_=angle;var map=mapBrowserEvent.map,view=map.getView();if(view.getConstraints().rotation!==rotationconstraint.h$){var viewportPosition=map.getViewport().getBoundingClientRect(),centroid=(0,Pointer.S)(this.targetPointers);centroid[0]-=viewportPosition.left,centroid[1]-=viewportPosition.top,this.anchor_=map.getCoordinateFromPixelInternal(centroid),this.rotating_&&(map.render(),view.adjustRotationInternal(rotationDelta,this.anchor_))}},PinchRotate.prototype.handleUpEvent=function(mapBrowserEvent){return!(this.targetPointers.length<2)||(mapBrowserEvent.map.getView().endInteraction(this.duration_),!1)},PinchRotate.prototype.handleDownEvent=function(mapBrowserEvent){if(this.targetPointers.length>=2){var map=mapBrowserEvent.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||map.getView().beginInteraction(),!0}return!1},PinchRotate}(Pointer.Z);var PinchZoom_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const interaction_PinchZoom=function(_super){function PinchZoom(opt_options){var _this=this,options=opt_options||{},pointerOptions=options;return pointerOptions.stopDown||(pointerOptions.stopDown=functions.Dv),(_this=_super.call(this,pointerOptions)||this).anchor_=null,_this.duration_=void 0!==options.duration?options.duration:400,_this.lastDistance_=void 0,_this.lastScaleDelta_=1,_this}return PinchZoom_extends(PinchZoom,_super),PinchZoom.prototype.handleDragEvent=function(mapBrowserEvent){var scaleDelta=1,touch0=this.targetPointers[0],touch1=this.targetPointers[1],dx=touch0.clientX-touch1.clientX,dy=touch0.clientY-touch1.clientY,distance=Math.sqrt(dx*dx+dy*dy);void 0!==this.lastDistance_&&(scaleDelta=this.lastDistance_/distance),this.lastDistance_=distance;var map=mapBrowserEvent.map,view=map.getView();1!=scaleDelta&&(this.lastScaleDelta_=scaleDelta);var viewportPosition=map.getViewport().getBoundingClientRect(),centroid=(0,Pointer.S)(this.targetPointers);centroid[0]-=viewportPosition.left,centroid[1]-=viewportPosition.top,this.anchor_=map.getCoordinateFromPixelInternal(centroid),map.render(),view.adjustResolutionInternal(scaleDelta,this.anchor_)},PinchZoom.prototype.handleUpEvent=function(mapBrowserEvent){if(this.targetPointers.length<2){var view=mapBrowserEvent.map.getView(),direction=this.lastScaleDelta_>1?1:-1;return view.endInteraction(this.duration_,direction),!1}return!0},PinchZoom.prototype.handleDownEvent=function(mapBrowserEvent){if(this.targetPointers.length>=2){var map=mapBrowserEvent.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||map.getView().beginInteraction(),!0}return!1},PinchZoom}(Pointer.Z);function defaults(opt_options){var options=opt_options||{},interactions=new Collection.Z,kinetic=new ol_Kinetic(-.005,.05,100);return(void 0===options.altShiftDragRotate||options.altShiftDragRotate)&&interactions.push(new interaction_DragRotate),(void 0===options.doubleClickZoom||options.doubleClickZoom)&&interactions.push(new interaction_DoubleClickZoom({delta:options.zoomDelta,duration:options.zoomDuration})),(void 0===options.dragPan||options.dragPan)&&interactions.push(new DragPan.Z({onFocusOnly:options.onFocusOnly,kinetic})),(void 0===options.pinchRotate||options.pinchRotate)&&interactions.push(new interaction_PinchRotate),(void 0===options.pinchZoom||options.pinchZoom)&&interactions.push(new interaction_PinchZoom({duration:options.zoomDuration})),(void 0===options.keyboard||options.keyboard)&&(interactions.push(new interaction_KeyboardPan),interactions.push(new interaction_KeyboardZoom({delta:options.zoomDelta,duration:options.zoomDuration}))),(void 0===options.mouseWheelZoom||options.mouseWheelZoom)&&interactions.push(new MouseWheelZoom.Z({onFocusOnly:options.onFocusOnly,duration:options.zoomDuration})),(void 0===options.shiftDragZoom||options.shiftDragZoom)&&interactions.push(new interaction_DragZoom({duration:options.zoomDuration})),interactions}},"./node_modules/ol/interaction/DragPan.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var extendStatics,_Pointer_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/interaction/Pointer.js"),_functions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/functions.js"),_events_condition_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/events/condition.js"),_easing_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/easing.js"),_coordinate_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/coordinate.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const __WEBPACK_DEFAULT_EXPORT__=function(_super){function DragPan(opt_options){var _this=_super.call(this,{stopDown:_functions_js__WEBPACK_IMPORTED_MODULE_0__.Dv})||this,options=opt_options||{};_this.kinetic_=options.kinetic,_this.lastCentroid=null,_this.lastPointersCount_,_this.panning_=!1;var condition=options.condition?options.condition:(0,_events_condition_js__WEBPACK_IMPORTED_MODULE_1__.$6)(_events_condition_js__WEBPACK_IMPORTED_MODULE_1__.rM,_events_condition_js__WEBPACK_IMPORTED_MODULE_1__.Xp);return _this.condition_=options.onFocusOnly?(0,_events_condition_js__WEBPACK_IMPORTED_MODULE_1__.$6)(_events_condition_js__WEBPACK_IMPORTED_MODULE_1__.yZ,condition):condition,_this.noKinetic_=!1,_this}return __extends(DragPan,_super),DragPan.prototype.handleDragEvent=function(mapBrowserEvent){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var targetPointers=this.targetPointers,centroid=(0,_Pointer_js__WEBPACK_IMPORTED_MODULE_2__.S)(targetPointers);if(targetPointers.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(centroid[0],centroid[1]),this.lastCentroid){var delta=[this.lastCentroid[0]-centroid[0],centroid[1]-this.lastCentroid[1]],view=mapBrowserEvent.map.getView();(0,_coordinate_js__WEBPACK_IMPORTED_MODULE_3__.bA)(delta,view.getResolution()),(0,_coordinate_js__WEBPACK_IMPORTED_MODULE_3__.U1)(delta,view.getRotation()),view.adjustCenterInternal(delta)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=centroid,this.lastPointersCount_=targetPointers.length,mapBrowserEvent.originalEvent.preventDefault()},DragPan.prototype.handleUpEvent=function(mapBrowserEvent){var map=mapBrowserEvent.map,view=map.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var distance=this.kinetic_.getDistance(),angle=this.kinetic_.getAngle(),center=view.getCenterInternal(),centerpx=map.getPixelFromCoordinateInternal(center),dest=map.getCoordinateFromPixelInternal([centerpx[0]-distance*Math.cos(angle),centerpx[1]-distance*Math.sin(angle)]);view.animateInternal({center:view.getConstrainedCenter(dest),duration:500,easing:_easing_js__WEBPACK_IMPORTED_MODULE_4__.Vv})}return this.panning_&&(this.panning_=!1,view.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},DragPan.prototype.handleDownEvent=function(mapBrowserEvent){if(this.targetPointers.length>0&&this.condition_(mapBrowserEvent)){var view=mapBrowserEvent.map.getView();return this.lastCentroid=null,view.getAnimating()&&view.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},DragPan}(_Pointer_js__WEBPACK_IMPORTED_MODULE_2__.Z)},"./node_modules/ol/interaction/Interaction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>interaction_Interaction,Cv:()=>pan,FW:()=>zoomByDelta});var ol_Object=__webpack_require__("./node_modules/ol/Object.js");const Property_ACTIVE="active";var extendStatics,easing=__webpack_require__("./node_modules/ol/easing.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});function pan(view,delta,opt_duration){var currentCenter=view.getCenterInternal();if(currentCenter){var center=[currentCenter[0]+delta[0],currentCenter[1]+delta[1]];view.animateInternal({duration:void 0!==opt_duration?opt_duration:250,easing:easing.GE,center:view.getConstrainedCenter(center)})}}function zoomByDelta(view,delta,opt_anchor,opt_duration){var currentZoom=view.getZoom();if(void 0!==currentZoom){var newZoom=view.getConstrainedZoom(currentZoom+delta),newResolution=view.getResolutionForZoom(newZoom);view.getAnimating()&&view.cancelAnimations(),view.animate({resolution:newResolution,anchor:opt_anchor,duration:void 0!==opt_duration?opt_duration:250,easing:easing.Vv})}}const interaction_Interaction=function(_super){function Interaction(opt_options){var _this=_super.call(this)||this;return _this.on,_this.once,_this.un,opt_options&&opt_options.handleEvent&&(_this.handleEvent=opt_options.handleEvent),_this.map_=null,_this.setActive(!0),_this}return __extends(Interaction,_super),Interaction.prototype.getActive=function(){return this.get(Property_ACTIVE)},Interaction.prototype.getMap=function(){return this.map_},Interaction.prototype.handleEvent=function(mapBrowserEvent){return!0},Interaction.prototype.setActive=function(active){this.set(Property_ACTIVE,active)},Interaction.prototype.setMap=function(map){this.map_=map},Interaction}(ol_Object.Z)},"./node_modules/ol/interaction/MouseWheelZoom.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var extendStatics,_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/events/EventType.js"),_Interaction_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/interaction/Interaction.js"),_has_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/has.js"),_events_condition_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/events/condition.js"),_math_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/math.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Mode_TRACKPAD="trackpad",Mode_WHEEL="wheel";const __WEBPACK_DEFAULT_EXPORT__=function(_super){function MouseWheelZoom(opt_options){var _this=this,options=opt_options||{};(_this=_super.call(this,options)||this).totalDelta_=0,_this.lastDelta_=0,_this.maxDelta_=void 0!==options.maxDelta?options.maxDelta:1,_this.duration_=void 0!==options.duration?options.duration:250,_this.timeout_=void 0!==options.timeout?options.timeout:80,_this.useAnchor_=void 0===options.useAnchor||options.useAnchor,_this.constrainResolution_=void 0!==options.constrainResolution&&options.constrainResolution;var condition=options.condition?options.condition:_events_condition_js__WEBPACK_IMPORTED_MODULE_0__.Bx;return _this.condition_=options.onFocusOnly?(0,_events_condition_js__WEBPACK_IMPORTED_MODULE_0__.$6)(_events_condition_js__WEBPACK_IMPORTED_MODULE_0__.yZ,condition):condition,_this.lastAnchor_=null,_this.startTime_=void 0,_this.timeoutId_,_this.mode_=void 0,_this.trackpadEventGap_=400,_this.trackpadTimeoutId_,_this.deltaPerZoom_=300,_this}return __extends(MouseWheelZoom,_super),MouseWheelZoom.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var map=this.getMap();map&&map.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},MouseWheelZoom.prototype.handleEvent=function(mapBrowserEvent){if(!this.condition_(mapBrowserEvent))return!0;if(mapBrowserEvent.type!==_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.Z.WHEEL)return!0;var delta,map=mapBrowserEvent.map,wheelEvent=mapBrowserEvent.originalEvent;if(wheelEvent.preventDefault(),this.useAnchor_&&(this.lastAnchor_=mapBrowserEvent.coordinate),mapBrowserEvent.type==_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__.Z.WHEEL&&(delta=wheelEvent.deltaY,_has_js__WEBPACK_IMPORTED_MODULE_2__.V&&wheelEvent.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(delta/=_has_js__WEBPACK_IMPORTED_MODULE_2__.MP),wheelEvent.deltaMode===WheelEvent.DOM_DELTA_LINE&&(delta*=40)),0===delta)return!1;this.lastDelta_=delta;var now=Date.now();void 0===this.startTime_&&(this.startTime_=now),(!this.mode_||now-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(delta)<4?Mode_TRACKPAD:Mode_WHEEL);var view=map.getView();if(this.mode_===Mode_TRACKPAD&&!view.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(view.getAnimating()&&view.cancelAnimations(),view.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),view.adjustZoom(-delta/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=now,!1;this.totalDelta_+=delta;var timeLeft=Math.max(this.timeout_-(now-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,map),timeLeft),!1},MouseWheelZoom.prototype.handleWheelZoom_=function(map){var view=map.getView();view.getAnimating()&&view.cancelAnimations();var delta=-(0,_math_js__WEBPACK_IMPORTED_MODULE_3__.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(view.getConstrainResolution()||this.constrainResolution_)&&(delta=delta?delta>0?1:-1:0),(0,_Interaction_js__WEBPACK_IMPORTED_MODULE_4__.FW)(view,delta,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},MouseWheelZoom.prototype.setMouseAnchor=function(useAnchor){this.useAnchor_=useAnchor,useAnchor||(this.lastAnchor_=null)},MouseWheelZoom}(_Interaction_js__WEBPACK_IMPORTED_MODULE_4__.ZP)},"./node_modules/ol/interaction/Pointer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>centroid,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var extendStatics,_Interaction_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/interaction/Interaction.js"),_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/MapBrowserEventType.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});function centroid(pointerEvents){for(var length=pointerEvents.length,clientX=0,clientY=0,i=0;i<length;i++)clientX+=pointerEvents[i].clientX,clientY+=pointerEvents[i].clientY;return[clientX/length,clientY/length]}const __WEBPACK_DEFAULT_EXPORT__=function(_super){function PointerInteraction(opt_options){var _this=this,options=opt_options||{};return _this=_super.call(this,options)||this,options.handleDownEvent&&(_this.handleDownEvent=options.handleDownEvent),options.handleDragEvent&&(_this.handleDragEvent=options.handleDragEvent),options.handleMoveEvent&&(_this.handleMoveEvent=options.handleMoveEvent),options.handleUpEvent&&(_this.handleUpEvent=options.handleUpEvent),options.stopDown&&(_this.stopDown=options.stopDown),_this.handlingDownUpSequence=!1,_this.targetPointers=[],_this}return __extends(PointerInteraction,_super),PointerInteraction.prototype.getPointerCount=function(){return this.targetPointers.length},PointerInteraction.prototype.handleDownEvent=function(mapBrowserEvent){return!1},PointerInteraction.prototype.handleDragEvent=function(mapBrowserEvent){},PointerInteraction.prototype.handleEvent=function(mapBrowserEvent){if(!mapBrowserEvent.originalEvent)return!0;var stopEvent=!1;if(this.updateTrackedPointers_(mapBrowserEvent),this.handlingDownUpSequence){if(mapBrowserEvent.type==_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_0__.Z.POINTERDRAG)this.handleDragEvent(mapBrowserEvent),mapBrowserEvent.originalEvent.preventDefault();else if(mapBrowserEvent.type==_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_0__.Z.POINTERUP){var handledUp=this.handleUpEvent(mapBrowserEvent);this.handlingDownUpSequence=handledUp&&this.targetPointers.length>0}}else if(mapBrowserEvent.type==_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_0__.Z.POINTERDOWN){var handled=this.handleDownEvent(mapBrowserEvent);this.handlingDownUpSequence=handled,stopEvent=this.stopDown(handled)}else mapBrowserEvent.type==_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_0__.Z.POINTERMOVE&&this.handleMoveEvent(mapBrowserEvent);return!stopEvent},PointerInteraction.prototype.handleMoveEvent=function(mapBrowserEvent){},PointerInteraction.prototype.handleUpEvent=function(mapBrowserEvent){return!1},PointerInteraction.prototype.stopDown=function(handled){return handled},PointerInteraction.prototype.updateTrackedPointers_=function(mapBrowserEvent){mapBrowserEvent.activePointers&&(this.targetPointers=mapBrowserEvent.activePointers)},PointerInteraction}(_Interaction_js__WEBPACK_IMPORTED_MODULE_1__.ZP)},"./node_modules/ol/layer/Base.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var extendStatics,_Object_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/Object.js"),_Property_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/layer/Property.js"),_util_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/util.js"),_asserts_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/asserts.js"),_obj_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/obj.js"),_math_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/math.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const __WEBPACK_DEFAULT_EXPORT__=function(_super){function BaseLayer(options){var _this=_super.call(this)||this;_this.on,_this.once,_this.un,_this.background_=options.background;var properties=(0,_obj_js__WEBPACK_IMPORTED_MODULE_0__.f0)({},options);return"object"==typeof options.properties&&(delete properties.properties,(0,_obj_js__WEBPACK_IMPORTED_MODULE_0__.f0)(properties,options.properties)),properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.OPACITY]=void 0!==options.opacity?options.opacity:1,(0,_asserts_js__WEBPACK_IMPORTED_MODULE_2__.h)("number"==typeof properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.OPACITY],64),properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.VISIBLE]=void 0===options.visible||options.visible,properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.Z_INDEX]=options.zIndex,properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.MAX_RESOLUTION]=void 0!==options.maxResolution?options.maxResolution:1/0,properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.MIN_RESOLUTION]=void 0!==options.minResolution?options.minResolution:0,properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.MIN_ZOOM]=void 0!==options.minZoom?options.minZoom:-1/0,properties[_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.MAX_ZOOM]=void 0!==options.maxZoom?options.maxZoom:1/0,_this.className_=void 0!==properties.className?properties.className:"ol-layer",delete properties.className,_this.setProperties(properties),_this.state_=null,_this}return __extends(BaseLayer,_super),BaseLayer.prototype.getBackground=function(){return this.background_},BaseLayer.prototype.getClassName=function(){return this.className_},BaseLayer.prototype.getLayerState=function(opt_managed){var state=this.state_||{layer:this,managed:void 0===opt_managed||opt_managed},zIndex=this.getZIndex();return state.opacity=(0,_math_js__WEBPACK_IMPORTED_MODULE_3__.uZ)(Math.round(100*this.getOpacity())/100,0,1),state.visible=this.getVisible(),state.extent=this.getExtent(),state.zIndex=void 0!==zIndex||state.managed?zIndex:1/0,state.maxResolution=this.getMaxResolution(),state.minResolution=Math.max(this.getMinResolution(),0),state.minZoom=this.getMinZoom(),state.maxZoom=this.getMaxZoom(),this.state_=state,state},BaseLayer.prototype.getLayersArray=function(opt_array){return(0,_util_js__WEBPACK_IMPORTED_MODULE_4__.O3)()},BaseLayer.prototype.getLayerStatesArray=function(opt_states){return(0,_util_js__WEBPACK_IMPORTED_MODULE_4__.O3)()},BaseLayer.prototype.getExtent=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.EXTENT)},BaseLayer.prototype.getMaxResolution=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.MAX_RESOLUTION)},BaseLayer.prototype.getMinResolution=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.MIN_RESOLUTION)},BaseLayer.prototype.getMinZoom=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.MIN_ZOOM)},BaseLayer.prototype.getMaxZoom=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.MAX_ZOOM)},BaseLayer.prototype.getOpacity=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.OPACITY)},BaseLayer.prototype.getSourceState=function(){return(0,_util_js__WEBPACK_IMPORTED_MODULE_4__.O3)()},BaseLayer.prototype.getVisible=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.VISIBLE)},BaseLayer.prototype.getZIndex=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.Z_INDEX)},BaseLayer.prototype.setBackground=function(opt_background){this.background_=opt_background,this.changed()},BaseLayer.prototype.setExtent=function(extent){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.EXTENT,extent)},BaseLayer.prototype.setMaxResolution=function(maxResolution){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.MAX_RESOLUTION,maxResolution)},BaseLayer.prototype.setMinResolution=function(minResolution){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.MIN_RESOLUTION,minResolution)},BaseLayer.prototype.setMaxZoom=function(maxZoom){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.MAX_ZOOM,maxZoom)},BaseLayer.prototype.setMinZoom=function(minZoom){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.MIN_ZOOM,minZoom)},BaseLayer.prototype.setOpacity=function(opacity){(0,_asserts_js__WEBPACK_IMPORTED_MODULE_2__.h)("number"==typeof opacity,64),this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.OPACITY,opacity)},BaseLayer.prototype.setVisible=function(visible){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.VISIBLE,visible)},BaseLayer.prototype.setZIndex=function(zindex){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.Z_INDEX,zindex)},BaseLayer.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),_super.prototype.disposeInternal.call(this)},BaseLayer}(_Object_js__WEBPACK_IMPORTED_MODULE_5__.Z)},"./node_modules/ol/layer/Layer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__,j:()=>inView});var extendStatics,_Base_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ol/layer/Base.js"),_events_EventType_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/events/EventType.js"),_Property_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/layer/Property.js"),_render_EventType_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/render/EventType.js"),_asserts_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/asserts.js"),_obj_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/obj.js"),_events_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/events.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});function inView(layerState,viewState){if(!layerState.visible)return!1;var resolution=viewState.resolution;if(resolution<layerState.minResolution||resolution>=layerState.maxResolution)return!1;var zoom=viewState.zoom;return zoom>layerState.minZoom&&zoom<=layerState.maxZoom}const __WEBPACK_DEFAULT_EXPORT__=function(_super){function Layer(options){var _this=this,baseOptions=(0,_obj_js__WEBPACK_IMPORTED_MODULE_0__.f0)({},options);delete baseOptions.source,(_this=_super.call(this,baseOptions)||this).on,_this.once,_this.un,_this.mapPrecomposeKey_=null,_this.mapRenderKey_=null,_this.sourceChangeKey_=null,_this.renderer_=null,_this.rendered=!1,options.render&&(_this.render=options.render),options.map&&_this.setMap(options.map),_this.addChangeListener(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.SOURCE,_this.handleSourcePropertyChange_);var source=options.source?options.source:null;return _this.setSource(source),_this}return __extends(Layer,_super),Layer.prototype.getLayersArray=function(opt_array){var array=opt_array||[];return array.push(this),array},Layer.prototype.getLayerStatesArray=function(opt_states){var states=opt_states||[];return states.push(this.getLayerState()),states},Layer.prototype.getSource=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.SOURCE)||null},Layer.prototype.getRenderSource=function(){return this.getSource()},Layer.prototype.getSourceState=function(){var source=this.getSource();return source?source.getState():"undefined"},Layer.prototype.handleSourceChange_=function(){this.changed()},Layer.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,_events_js__WEBPACK_IMPORTED_MODULE_2__.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null);var source=this.getSource();source&&(this.sourceChangeKey_=(0,_events_js__WEBPACK_IMPORTED_MODULE_2__.oL)(source,_events_EventType_js__WEBPACK_IMPORTED_MODULE_3__.Z.CHANGE,this.handleSourceChange_,this)),this.changed()},Layer.prototype.getFeatures=function(pixel){return this.renderer_?this.renderer_.getFeatures(pixel):new Promise((function(resolve){return resolve([])}))},Layer.prototype.getData=function(pixel){return this.renderer_&&this.rendered?this.renderer_.getData(pixel):null},Layer.prototype.render=function(frameState,target){var layerRenderer=this.getRenderer();if(layerRenderer.prepareFrame(frameState))return this.rendered=!0,layerRenderer.renderFrame(frameState,target)},Layer.prototype.unrender=function(){this.rendered=!1},Layer.prototype.setMapInternal=function(map){map||this.unrender(),this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.MAP,map)},Layer.prototype.getMapInternal=function(){return this.get(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.MAP)},Layer.prototype.setMap=function(map){this.mapPrecomposeKey_&&((0,_events_js__WEBPACK_IMPORTED_MODULE_2__.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),map||this.changed(),this.mapRenderKey_&&((0,_events_js__WEBPACK_IMPORTED_MODULE_2__.bN)(this.mapRenderKey_),this.mapRenderKey_=null),map&&(this.mapPrecomposeKey_=(0,_events_js__WEBPACK_IMPORTED_MODULE_2__.oL)(map,_render_EventType_js__WEBPACK_IMPORTED_MODULE_4__.Z.PRECOMPOSE,(function(evt){var layerStatesArray=evt.frameState.layerStatesArray,layerState=this.getLayerState(!1);(0,_asserts_js__WEBPACK_IMPORTED_MODULE_5__.h)(!layerStatesArray.some((function(arrayLayerState){return arrayLayerState.layer===layerState.layer})),67),layerStatesArray.push(layerState)}),this),this.mapRenderKey_=(0,_events_js__WEBPACK_IMPORTED_MODULE_2__.oL)(this,_events_EventType_js__WEBPACK_IMPORTED_MODULE_3__.Z.CHANGE,map.render,map),this.changed())},Layer.prototype.setSource=function(source){this.set(_Property_js__WEBPACK_IMPORTED_MODULE_1__.Z.SOURCE,source)},Layer.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},Layer.prototype.hasRenderer=function(){return!!this.renderer_},Layer.prototype.createRenderer=function(){return null},Layer.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),_super.prototype.disposeInternal.call(this)},Layer}(_Base_js__WEBPACK_IMPORTED_MODULE_6__.Z)},"./node_modules/ol/layer/Property.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},"./node_modules/ol/layer/Tile.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>layer_Tile});var Layer=__webpack_require__("./node_modules/ol/layer/Layer.js");const TileProperty_PRELOAD="preload",TileProperty_USE_INTERIM_TILES_ON_ERROR="useInterimTilesOnError";var extendStatics,obj=__webpack_require__("./node_modules/ol/obj.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const BaseTile=function(_super){function BaseTileLayer(opt_options){var _this=this,options=opt_options||{},baseOptions=(0,obj.f0)({},options);return delete baseOptions.preload,delete baseOptions.useInterimTilesOnError,(_this=_super.call(this,baseOptions)||this).on,_this.once,_this.un,_this.setPreload(void 0!==options.preload?options.preload:0),_this.setUseInterimTilesOnError(void 0===options.useInterimTilesOnError||options.useInterimTilesOnError),_this}return __extends(BaseTileLayer,_super),BaseTileLayer.prototype.getPreload=function(){return this.get(TileProperty_PRELOAD)},BaseTileLayer.prototype.setPreload=function(preload){this.set(TileProperty_PRELOAD,preload)},BaseTileLayer.prototype.getUseInterimTilesOnError=function(){return this.get(TileProperty_USE_INTERIM_TILES_ON_ERROR)},BaseTileLayer.prototype.setUseInterimTilesOnError=function(useInterimTilesOnError){this.set(TileProperty_USE_INTERIM_TILES_ON_ERROR,useInterimTilesOnError)},BaseTileLayer.prototype.getData=function(pixel){return _super.prototype.getData.call(this,pixel)},BaseTileLayer}(Layer.Z);var canvas_Layer=__webpack_require__("./node_modules/ol/renderer/canvas/Layer.js"),ImageTile=__webpack_require__("./node_modules/ol/ImageTile.js"),Tile=__webpack_require__("./node_modules/ol/reproj/Tile.js"),TileRange=__webpack_require__("./node_modules/ol/TileRange.js"),TileState=__webpack_require__("./node_modules/ol/TileState.js"),common=__webpack_require__("./node_modules/ol/renderer/canvas/common.js"),transform=__webpack_require__("./node_modules/ol/transform.js"),ol_extent=__webpack_require__("./node_modules/ol/extent.js"),proj=__webpack_require__("./node_modules/ol/proj.js"),util=__webpack_require__("./node_modules/ol/util.js"),array=__webpack_require__("./node_modules/ol/array.js"),size=__webpack_require__("./node_modules/ol/size.js"),TileLayer_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const canvas_TileLayer=function(_super){function CanvasTileLayerRenderer(tileLayer){var _this=_super.call(this,tileLayer)||this;return _this.extentChanged=!0,_this.renderedExtent_=null,_this.renderedPixelRatio,_this.renderedProjection=null,_this.renderedRevision,_this.renderedTiles=[],_this.newTiles_=!1,_this.tmpExtent=(0,ol_extent.lJ)(),_this.tmpTileRange_=new TileRange.Z(0,0,0,0),_this}return TileLayer_extends(CanvasTileLayerRenderer,_super),CanvasTileLayerRenderer.prototype.isDrawableTile=function(tile){var tileLayer=this.getLayer(),tileState=tile.getState(),useInterimTilesOnError=tileLayer.getUseInterimTilesOnError();return tileState==TileState.Z.LOADED||tileState==TileState.Z.EMPTY||tileState==TileState.Z.ERROR&&!useInterimTilesOnError},CanvasTileLayerRenderer.prototype.getTile=function(z,x,y,frameState){var pixelRatio=frameState.pixelRatio,projection=frameState.viewState.projection,tileLayer=this.getLayer(),tile=tileLayer.getSource().getTile(z,x,y,pixelRatio,projection);return tile.getState()==TileState.Z.ERROR&&(tileLayer.getUseInterimTilesOnError()?tileLayer.getPreload()>0&&(this.newTiles_=!0):tile.setState(TileState.Z.LOADED)),this.isDrawableTile(tile)||(tile=tile.getInterimTile()),tile},CanvasTileLayerRenderer.prototype.getData=function(pixel){var frameState=this.frameState;if(!frameState)return null;var layer=this.getLayer(),coordinate=(0,transform.nn)(frameState.pixelToCoordinateTransform,pixel.slice()),layerExtent=layer.getExtent();if(layerExtent&&!(0,ol_extent.b8)(layerExtent,coordinate))return null;for(var pixelRatio=frameState.pixelRatio,projection=frameState.viewState.projection,viewState=frameState.viewState,source=layer.getRenderSource(),tileGrid=source.getTileGridForProjection(viewState.projection),tilePixelRatio=source.getTilePixelRatio(frameState.pixelRatio),z=tileGrid.getZForResolution(viewState.resolution);z>=tileGrid.getMinZoom();--z){var tileCoord=tileGrid.getTileCoordForCoordAndZ(coordinate,z),tile=source.getTile(z,tileCoord[1],tileCoord[2],pixelRatio,projection);if(!(tile instanceof ImageTile.Z||tile instanceof Tile.Z))return null;if(tile.getState()===TileState.Z.LOADED){var tileOrigin=tileGrid.getOrigin(z),tileSize=(0,size.Pq)(tileGrid.getTileSize(z)),tileResolution=tileGrid.getResolution(z),col=Math.floor(tilePixelRatio*((coordinate[0]-tileOrigin[0])/tileResolution-tileCoord[1]*tileSize[0])),row=Math.floor(tilePixelRatio*((tileOrigin[1]-coordinate[1])/tileResolution-tileCoord[2]*tileSize[1])),gutter=Math.round(tilePixelRatio*source.getGutterForProjection(viewState.projection));return this.getImageData(tile.getImage(),col+gutter,row+gutter)}}return null},CanvasTileLayerRenderer.prototype.loadedTileCallback=function(tiles,zoom,tile){return!!this.isDrawableTile(tile)&&_super.prototype.loadedTileCallback.call(this,tiles,zoom,tile)},CanvasTileLayerRenderer.prototype.prepareFrame=function(frameState){return!!this.getLayer().getSource()},CanvasTileLayerRenderer.prototype.renderFrame=function(frameState,target){var layerState=frameState.layerStatesArray[frameState.layerIndex],viewState=frameState.viewState,projection=viewState.projection,viewResolution=viewState.resolution,viewCenter=viewState.center,rotation=viewState.rotation,pixelRatio=frameState.pixelRatio,tileLayer=this.getLayer(),tileSource=tileLayer.getSource(),sourceRevision=tileSource.getRevision(),tileGrid=tileSource.getTileGridForProjection(projection),z=tileGrid.getZForResolution(viewResolution,tileSource.zDirection),tileResolution=tileGrid.getResolution(z),extent=frameState.extent,resolution=frameState.viewState.resolution,tilePixelRatio=tileSource.getTilePixelRatio(pixelRatio),width=Math.round((0,ol_extent.dz)(extent)/resolution*pixelRatio),height=Math.round((0,ol_extent.Cr)(extent)/resolution*pixelRatio),layerExtent=layerState.extent&&(0,proj.dY)(layerState.extent,projection);layerExtent&&(extent=(0,ol_extent.Ed)(extent,(0,proj.dY)(layerState.extent,projection)));var dx=tileResolution*width/2/tilePixelRatio,dy=tileResolution*height/2/tilePixelRatio,canvasExtent=[viewCenter[0]-dx,viewCenter[1]-dy,viewCenter[0]+dx,viewCenter[1]+dy],tileRange=tileGrid.getTileRangeForExtentAndZ(extent,z),tilesToDrawByZ={};tilesToDrawByZ[z]={};var findLoadedTiles=this.createLoadedTileFinder(tileSource,projection,tilesToDrawByZ),tmpExtent=this.tmpExtent,tmpTileRange=this.tmpTileRange_;this.newTiles_=!1;for(var viewport=rotation?(0,ol_extent.dY)(viewState.center,resolution,rotation,frameState.size):void 0,x=tileRange.minX;x<=tileRange.maxX;++x)for(var y=tileRange.minY;y<=tileRange.maxY;++y)if(!rotation||tileGrid.tileCoordIntersectsViewport([z,x,y],viewport)){var tile=this.getTile(z,x,y,frameState);if(this.isDrawableTile(tile)){var uid=(0,util.sq)(this);if(tile.getState()==TileState.Z.LOADED)tilesToDrawByZ[z][tile.tileCoord.toString()]=tile,(inTransition=tile.inTransition(uid))&&1!==layerState.opacity&&(tile.endTransition(uid),inTransition=!1),this.newTiles_||!inTransition&&-1!==this.renderedTiles.indexOf(tile)||(this.newTiles_=!0);if(1===tile.getAlpha(uid,frameState.time))continue}var childTileRange=tileGrid.getTileCoordChildTileRange(tile.tileCoord,tmpTileRange,tmpExtent),covered=!1;childTileRange&&(covered=findLoadedTiles(z+1,childTileRange)),covered||tileGrid.forEachTileCoordParentTileRange(tile.tileCoord,findLoadedTiles,tmpTileRange,tmpExtent)}var canvasScale=tileResolution/viewResolution*pixelRatio/tilePixelRatio;(0,transform.qC)(this.pixelTransform,frameState.size[0]/2,frameState.size[1]/2,1/pixelRatio,1/pixelRatio,rotation,-width/2,-height/2);var canvasTransform=(0,transform.BB)(this.pixelTransform);this.useContainer(target,canvasTransform,this.getBackground(frameState));var context=this.context,canvas=context.canvas;(0,transform.nb)(this.inversePixelTransform,this.pixelTransform),(0,transform.qC)(this.tempTransform,width/2,height/2,canvasScale,canvasScale,0,-width/2,-height/2),canvas.width!=width||canvas.height!=height?(canvas.width=width,canvas.height=height):this.containerReused||context.clearRect(0,0,width,height),layerExtent&&this.clipUnrotated(context,frameState,layerExtent),tileSource.getInterpolate()||(0,obj.f0)(context,common.$),this.preRender(context,frameState),this.renderedTiles.length=0;var clips,clipZs,currentClip,zs=Object.keys(tilesToDrawByZ).map(Number);zs.sort(array.kK),1!==layerState.opacity||this.containerReused&&!tileSource.getOpaque(frameState.viewState.projection)?(clips=[],clipZs=[]):zs=zs.reverse();for(var i=zs.length-1;i>=0;--i){var currentZ=zs[i],currentTilePixelSize=tileSource.getTilePixelSize(currentZ,pixelRatio,projection),currentScale=tileGrid.getResolution(currentZ)/tileResolution,dx_1=currentTilePixelSize[0]*currentScale*canvasScale,dy_1=currentTilePixelSize[1]*currentScale*canvasScale,originTileCoord=tileGrid.getTileCoordForCoordAndZ((0,ol_extent.rL)(canvasExtent),currentZ),originTileExtent=tileGrid.getTileCoordExtent(originTileCoord),origin_1=(0,transform.nn)(this.tempTransform,[tilePixelRatio*(originTileExtent[0]-canvasExtent[0])/tileResolution,tilePixelRatio*(canvasExtent[3]-originTileExtent[3])/tileResolution]),tileGutter=tilePixelRatio*tileSource.getGutterForProjection(projection),tilesToDraw=tilesToDrawByZ[currentZ];for(var tileCoordKey in tilesToDraw){var inTransition,tileCoord=(tile=tilesToDraw[tileCoordKey]).tileCoord,xIndex=originTileCoord[1]-tileCoord[1],nextX=Math.round(origin_1[0]-(xIndex-1)*dx_1),yIndex=originTileCoord[2]-tileCoord[2],nextY=Math.round(origin_1[1]-(yIndex-1)*dy_1),w=nextX-(x=Math.round(origin_1[0]-xIndex*dx_1)),h=nextY-(y=Math.round(origin_1[1]-yIndex*dy_1)),transition=z===currentZ,contextSaved=!1;if(!(inTransition=transition&&1!==tile.getAlpha((0,util.sq)(this),frameState.time)))if(clips){currentClip=[x,y,x+w,y,x+w,y+h,x,y+h];for(var i_1=0,ii=clips.length;i_1<ii;++i_1)if(z!==currentZ&&currentZ<clipZs[i_1]){var clip=clips[i_1];(0,ol_extent.kK)([x,y,x+w,y+h],[clip[0],clip[3],clip[4],clip[7]])&&(contextSaved||(context.save(),contextSaved=!0),context.beginPath(),context.moveTo(currentClip[0],currentClip[1]),context.lineTo(currentClip[2],currentClip[3]),context.lineTo(currentClip[4],currentClip[5]),context.lineTo(currentClip[6],currentClip[7]),context.moveTo(clip[6],clip[7]),context.lineTo(clip[4],clip[5]),context.lineTo(clip[2],clip[3]),context.lineTo(clip[0],clip[1]),context.clip())}clips.push(currentClip),clipZs.push(currentZ)}else context.clearRect(x,y,w,h);this.drawTileImage(tile,frameState,x,y,w,h,tileGutter,transition),clips&&!inTransition?(contextSaved&&context.restore(),this.renderedTiles.unshift(tile)):this.renderedTiles.push(tile),this.updateUsedTiles(frameState.usedTiles,tileSource,tile)}}return this.renderedRevision=sourceRevision,this.renderedResolution=tileResolution,this.extentChanged=!this.renderedExtent_||!(0,ol_extent.fS)(this.renderedExtent_,canvasExtent),this.renderedExtent_=canvasExtent,this.renderedPixelRatio=pixelRatio,this.renderedProjection=projection,this.manageTilePyramid(frameState,tileSource,tileGrid,pixelRatio,projection,extent,z,tileLayer.getPreload()),this.scheduleExpireCache(frameState,tileSource),this.postRender(context,frameState),layerState.extent&&context.restore(),(0,obj.f0)(context,common.s),canvasTransform!==canvas.style.transform&&(canvas.style.transform=canvasTransform),this.container},CanvasTileLayerRenderer.prototype.drawTileImage=function(tile,frameState,x,y,w,h,gutter,transition){var image=this.getTileImage(tile);if(image){var uid=(0,util.sq)(this),layerState=frameState.layerStatesArray[frameState.layerIndex],alpha=layerState.opacity*(transition?tile.getAlpha(uid,frameState.time):1),alphaChanged=alpha!==this.context.globalAlpha;alphaChanged&&(this.context.save(),this.context.globalAlpha=alpha),this.context.drawImage(image,gutter,gutter,image.width-2*gutter,image.height-2*gutter,x,y,w,h),alphaChanged&&this.context.restore(),alpha!==layerState.opacity?frameState.animate=!0:transition&&tile.endTransition(uid)}},CanvasTileLayerRenderer.prototype.getImage=function(){var context=this.context;return context?context.canvas:null},CanvasTileLayerRenderer.prototype.getTileImage=function(tile){return tile.getImage()},CanvasTileLayerRenderer.prototype.scheduleExpireCache=function(frameState,tileSource){if(tileSource.canExpireCache()){var postRenderFunction=function(tileSource,map,frameState){var tileSourceKey=(0,util.sq)(tileSource);tileSourceKey in frameState.usedTiles&&tileSource.expireCache(frameState.viewState.projection,frameState.usedTiles[tileSourceKey])}.bind(null,tileSource);frameState.postRenderFunctions.push(postRenderFunction)}},CanvasTileLayerRenderer.prototype.updateUsedTiles=function(usedTiles,tileSource,tile){var tileSourceKey=(0,util.sq)(tileSource);tileSourceKey in usedTiles||(usedTiles[tileSourceKey]={}),usedTiles[tileSourceKey][tile.getKey()]=!0},CanvasTileLayerRenderer.prototype.manageTilePyramid=function(frameState,tileSource,tileGrid,pixelRatio,projection,extent,currentZ,preload,opt_tileCallback){var tileSourceKey=(0,util.sq)(tileSource);tileSourceKey in frameState.wantedTiles||(frameState.wantedTiles[tileSourceKey]={});var tile,tileRange,tileResolution,x,y,z,wantedTiles=frameState.wantedTiles[tileSourceKey],tileQueue=frameState.tileQueue,minZoom=tileGrid.getMinZoom(),rotation=frameState.viewState.rotation,viewport=rotation?(0,ol_extent.dY)(frameState.viewState.center,frameState.viewState.resolution,rotation,frameState.size):void 0,tileCount=0;for(z=minZoom;z<=currentZ;++z)for(tileRange=tileGrid.getTileRangeForExtentAndZ(extent,z,tileRange),tileResolution=tileGrid.getResolution(z),x=tileRange.minX;x<=tileRange.maxX;++x)for(y=tileRange.minY;y<=tileRange.maxY;++y)rotation&&!tileGrid.tileCoordIntersectsViewport([z,x,y],viewport)||(currentZ-z<=preload?(++tileCount,(tile=tileSource.getTile(z,x,y,pixelRatio,projection)).getState()==TileState.Z.IDLE&&(wantedTiles[tile.getKey()]=!0,tileQueue.isKeyQueued(tile.getKey())||tileQueue.enqueue([tile,tileSourceKey,tileGrid.getTileCoordCenter(tile.tileCoord),tileResolution])),void 0!==opt_tileCallback&&opt_tileCallback(tile)):tileSource.useTile(z,x,y,projection));tileSource.updateCacheSize(tileCount,projection)},CanvasTileLayerRenderer}(canvas_Layer.Z);var Tile_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const layer_Tile=function(_super){function TileLayer(opt_options){return _super.call(this,opt_options)||this}return Tile_extends(TileLayer,_super),TileLayer.prototype.createRenderer=function(){return new canvas_TileLayer(this)},TileLayer}(BaseTile)},"./node_modules/ol/layer/Vector.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Vector});var extendStatics,Layer=__webpack_require__("./node_modules/ol/layer/Layer.js"),rbush_min=__webpack_require__("./node_modules/rbush/rbush.min.js"),rbush_min_default=__webpack_require__.n(rbush_min),obj=__webpack_require__("./node_modules/ol/obj.js"),Style=__webpack_require__("./node_modules/ol/style/Style.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Property_RENDER_ORDER="renderOrder";const BaseVector=function(_super){function BaseVectorLayer(opt_options){var _this=this,options=opt_options||{},baseOptions=(0,obj.f0)({},options);return delete baseOptions.style,delete baseOptions.renderBuffer,delete baseOptions.updateWhileAnimating,delete baseOptions.updateWhileInteracting,(_this=_super.call(this,baseOptions)||this).declutter_=void 0!==options.declutter&&options.declutter,_this.renderBuffer_=void 0!==options.renderBuffer?options.renderBuffer:100,_this.style_=null,_this.styleFunction_=void 0,_this.setStyle(options.style),_this.updateWhileAnimating_=void 0!==options.updateWhileAnimating&&options.updateWhileAnimating,_this.updateWhileInteracting_=void 0!==options.updateWhileInteracting&&options.updateWhileInteracting,_this}return __extends(BaseVectorLayer,_super),BaseVectorLayer.prototype.getDeclutter=function(){return this.declutter_},BaseVectorLayer.prototype.getFeatures=function(pixel){return _super.prototype.getFeatures.call(this,pixel)},BaseVectorLayer.prototype.getRenderBuffer=function(){return this.renderBuffer_},BaseVectorLayer.prototype.getRenderOrder=function(){return this.get(Property_RENDER_ORDER)},BaseVectorLayer.prototype.getStyle=function(){return this.style_},BaseVectorLayer.prototype.getStyleFunction=function(){return this.styleFunction_},BaseVectorLayer.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},BaseVectorLayer.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},BaseVectorLayer.prototype.renderDeclutter=function(frameState){frameState.declutterTree||(frameState.declutterTree=new(rbush_min_default())(9)),this.getRenderer().renderDeclutter(frameState)},BaseVectorLayer.prototype.setRenderOrder=function(renderOrder){this.set(Property_RENDER_ORDER,renderOrder)},BaseVectorLayer.prototype.setStyle=function(opt_style){this.style_=void 0!==opt_style?opt_style:Style.yF,this.styleFunction_=null===opt_style?void 0:(0,Style.J$)(this.style_),this.changed()},BaseVectorLayer}(Layer.Z);var Instruction={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},fillInstruction=[Instruction.FILL],strokeInstruction=[Instruction.STROKE],beginPathInstruction=[Instruction.BEGIN_PATH],closePathInstruction=[Instruction.CLOSE_PATH];const canvas_Instruction=Instruction;var Relationship=__webpack_require__("./node_modules/ol/extent/Relationship.js");const render_VectorContext=function(){function VectorContext(){}return VectorContext.prototype.drawCustom=function(geometry,feature,renderer,hitDetectionRenderer){},VectorContext.prototype.drawGeometry=function(geometry){},VectorContext.prototype.setStyle=function(style){},VectorContext.prototype.drawCircle=function(circleGeometry,feature){},VectorContext.prototype.drawFeature=function(feature,style){},VectorContext.prototype.drawGeometryCollection=function(geometryCollectionGeometry,feature){},VectorContext.prototype.drawLineString=function(lineStringGeometry,feature){},VectorContext.prototype.drawMultiLineString=function(multiLineStringGeometry,feature){},VectorContext.prototype.drawMultiPoint=function(multiPointGeometry,feature){},VectorContext.prototype.drawMultiPolygon=function(multiPolygonGeometry,feature){},VectorContext.prototype.drawPoint=function(pointGeometry,feature){},VectorContext.prototype.drawPolygon=function(polygonGeometry,feature){},VectorContext.prototype.drawText=function(geometry,feature){},VectorContext.prototype.setFillStrokeStyle=function(fillStyle,strokeStyle){},VectorContext.prototype.setImageStyle=function(imageStyle,opt_declutterImageWithText){},VectorContext.prototype.setTextStyle=function(textStyle,opt_declutterImageWithText){},VectorContext}();var colorlike=__webpack_require__("./node_modules/ol/colorlike.js"),ol_extent=__webpack_require__("./node_modules/ol/extent.js"),render_canvas=__webpack_require__("./node_modules/ol/render/canvas.js"),array=__webpack_require__("./node_modules/ol/array.js"),inflate=__webpack_require__("./node_modules/ol/geom/flat/inflate.js"),Builder_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),CanvasBuilder=function(_super){function CanvasBuilder(tolerance,maxExtent,resolution,pixelRatio){var _this=_super.call(this)||this;return _this.tolerance=tolerance,_this.maxExtent=maxExtent,_this.pixelRatio=pixelRatio,_this.maxLineWidth=0,_this.resolution=resolution,_this.beginGeometryInstruction1_=null,_this.beginGeometryInstruction2_=null,_this.bufferedMaxExtent_=null,_this.instructions=[],_this.coordinates=[],_this.tmpCoordinate_=[],_this.hitDetectionInstructions=[],_this.state={},_this}return Builder_extends(CanvasBuilder,_super),CanvasBuilder.prototype.applyPixelRatio=function(dashArray){var pixelRatio=this.pixelRatio;return 1==pixelRatio?dashArray:dashArray.map((function(dash){return dash*pixelRatio}))},CanvasBuilder.prototype.appendFlatPointCoordinates=function(flatCoordinates,stride){for(var extent=this.getBufferedMaxExtent(),tmpCoord=this.tmpCoordinate_,coordinates=this.coordinates,myEnd=coordinates.length,i=0,ii=flatCoordinates.length;i<ii;i+=stride)tmpCoord[0]=flatCoordinates[i],tmpCoord[1]=flatCoordinates[i+1],(0,ol_extent.b8)(extent,tmpCoord)&&(coordinates[myEnd++]=tmpCoord[0],coordinates[myEnd++]=tmpCoord[1]);return myEnd},CanvasBuilder.prototype.appendFlatLineCoordinates=function(flatCoordinates,offset,end,stride,closed,skipFirst){var coordinates=this.coordinates,myEnd=coordinates.length,extent=this.getBufferedMaxExtent();skipFirst&&(offset+=stride);var i,lastRel,nextRel,lastXCoord=flatCoordinates[offset],lastYCoord=flatCoordinates[offset+1],nextCoord=this.tmpCoordinate_,skipped=!0;for(i=offset+stride;i<end;i+=stride)nextCoord[0]=flatCoordinates[i],nextCoord[1]=flatCoordinates[i+1],(nextRel=(0,ol_extent.pX)(extent,nextCoord))!==lastRel?(skipped&&(coordinates[myEnd++]=lastXCoord,coordinates[myEnd++]=lastYCoord,skipped=!1),coordinates[myEnd++]=nextCoord[0],coordinates[myEnd++]=nextCoord[1]):nextRel===Relationship.Z.INTERSECTING?(coordinates[myEnd++]=nextCoord[0],coordinates[myEnd++]=nextCoord[1],skipped=!1):skipped=!0,lastXCoord=nextCoord[0],lastYCoord=nextCoord[1],lastRel=nextRel;return(closed&&skipped||i===offset+stride)&&(coordinates[myEnd++]=lastXCoord,coordinates[myEnd++]=lastYCoord),myEnd},CanvasBuilder.prototype.drawCustomCoordinates_=function(flatCoordinates,offset,ends,stride,builderEnds){for(var i=0,ii=ends.length;i<ii;++i){var end=ends[i],builderEnd=this.appendFlatLineCoordinates(flatCoordinates,offset,end,stride,!1,!1);builderEnds.push(builderEnd),offset=end}return offset},CanvasBuilder.prototype.drawCustom=function(geometry,feature,renderer,hitDetectionRenderer){this.beginGeometry(geometry,feature);var flatCoordinates,builderEnd,builderEnds,builderEndss,offset,type=geometry.getType(),stride=geometry.getStride(),builderBegin=this.coordinates.length;switch(type){case"MultiPolygon":flatCoordinates=geometry.getOrientedFlatCoordinates(),builderEndss=[];var endss=geometry.getEndss();offset=0;for(var i=0,ii=endss.length;i<ii;++i){var myEnds=[];offset=this.drawCustomCoordinates_(flatCoordinates,offset,endss[i],stride,myEnds),builderEndss.push(myEnds)}this.instructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEndss,geometry,renderer,inflate.ug]),this.hitDetectionInstructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEndss,geometry,hitDetectionRenderer||renderer,inflate.ug]);break;case"Polygon":case"MultiLineString":builderEnds=[],flatCoordinates="Polygon"==type?geometry.getOrientedFlatCoordinates():geometry.getFlatCoordinates(),offset=this.drawCustomCoordinates_(flatCoordinates,0,geometry.getEnds(),stride,builderEnds),this.instructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEnds,geometry,renderer,inflate.o1]),this.hitDetectionInstructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEnds,geometry,hitDetectionRenderer||renderer,inflate.o1]);break;case"LineString":case"Circle":flatCoordinates=geometry.getFlatCoordinates(),builderEnd=this.appendFlatLineCoordinates(flatCoordinates,0,flatCoordinates.length,stride,!1,!1),this.instructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEnd,geometry,renderer,inflate.Ml]),this.hitDetectionInstructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEnd,geometry,hitDetectionRenderer||renderer,inflate.Ml]);break;case"MultiPoint":flatCoordinates=geometry.getFlatCoordinates(),(builderEnd=this.appendFlatPointCoordinates(flatCoordinates,stride))>builderBegin&&(this.instructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEnd,geometry,renderer,inflate.Ml]),this.hitDetectionInstructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEnd,geometry,hitDetectionRenderer||renderer,inflate.Ml]));break;case"Point":flatCoordinates=geometry.getFlatCoordinates(),this.coordinates.push(flatCoordinates[0],flatCoordinates[1]),builderEnd=this.coordinates.length,this.instructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEnd,geometry,renderer]),this.hitDetectionInstructions.push([canvas_Instruction.CUSTOM,builderBegin,builderEnd,geometry,hitDetectionRenderer||renderer])}this.endGeometry(feature)},CanvasBuilder.prototype.beginGeometry=function(geometry,feature){this.beginGeometryInstruction1_=[canvas_Instruction.BEGIN_GEOMETRY,feature,0,geometry],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[canvas_Instruction.BEGIN_GEOMETRY,feature,0,geometry],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},CanvasBuilder.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},CanvasBuilder.prototype.reverseHitDetectionInstructions=function(){var i,hitDetectionInstructions=this.hitDetectionInstructions;hitDetectionInstructions.reverse();var instruction,type,n=hitDetectionInstructions.length,begin=-1;for(i=0;i<n;++i)(type=(instruction=hitDetectionInstructions[i])[0])==canvas_Instruction.END_GEOMETRY?begin=i:type==canvas_Instruction.BEGIN_GEOMETRY&&(instruction[2]=i,(0,array.FZ)(this.hitDetectionInstructions,begin,i),begin=-1)},CanvasBuilder.prototype.setFillStrokeStyle=function(fillStyle,strokeStyle){var state=this.state;if(fillStyle){var fillStyleColor=fillStyle.getColor();state.fillStyle=(0,colorlike.y)(fillStyleColor||render_canvas.bL)}else state.fillStyle=void 0;if(strokeStyle){var strokeStyleColor=strokeStyle.getColor();state.strokeStyle=(0,colorlike.y)(strokeStyleColor||render_canvas.Tx);var strokeStyleLineCap=strokeStyle.getLineCap();state.lineCap=void 0!==strokeStyleLineCap?strokeStyleLineCap:render_canvas.mb;var strokeStyleLineDash=strokeStyle.getLineDash();state.lineDash=strokeStyleLineDash?strokeStyleLineDash.slice():render_canvas.X9;var strokeStyleLineDashOffset=strokeStyle.getLineDashOffset();state.lineDashOffset=strokeStyleLineDashOffset||render_canvas.He;var strokeStyleLineJoin=strokeStyle.getLineJoin();state.lineJoin=void 0!==strokeStyleLineJoin?strokeStyleLineJoin:render_canvas.rc;var strokeStyleWidth=strokeStyle.getWidth();state.lineWidth=void 0!==strokeStyleWidth?strokeStyleWidth:render_canvas.yC;var strokeStyleMiterLimit=strokeStyle.getMiterLimit();state.miterLimit=void 0!==strokeStyleMiterLimit?strokeStyleMiterLimit:render_canvas.V4,state.lineWidth>this.maxLineWidth&&(this.maxLineWidth=state.lineWidth,this.bufferedMaxExtent_=null)}else state.strokeStyle=void 0,state.lineCap=void 0,state.lineDash=null,state.lineDashOffset=void 0,state.lineJoin=void 0,state.lineWidth=void 0,state.miterLimit=void 0},CanvasBuilder.prototype.createFill=function(state){var fillStyle=state.fillStyle,fillInstruction=[canvas_Instruction.SET_FILL_STYLE,fillStyle];return"string"!=typeof fillStyle&&fillInstruction.push(!0),fillInstruction},CanvasBuilder.prototype.applyStroke=function(state){this.instructions.push(this.createStroke(state))},CanvasBuilder.prototype.createStroke=function(state){return[canvas_Instruction.SET_STROKE_STYLE,state.strokeStyle,state.lineWidth*this.pixelRatio,state.lineCap,state.lineJoin,state.miterLimit,this.applyPixelRatio(state.lineDash),state.lineDashOffset*this.pixelRatio]},CanvasBuilder.prototype.updateFillStyle=function(state,createFill){var fillStyle=state.fillStyle;"string"==typeof fillStyle&&state.currentFillStyle==fillStyle||(void 0!==fillStyle&&this.instructions.push(createFill.call(this,state)),state.currentFillStyle=fillStyle)},CanvasBuilder.prototype.updateStrokeStyle=function(state,applyStroke){var strokeStyle=state.strokeStyle,lineCap=state.lineCap,lineDash=state.lineDash,lineDashOffset=state.lineDashOffset,lineJoin=state.lineJoin,lineWidth=state.lineWidth,miterLimit=state.miterLimit;(state.currentStrokeStyle!=strokeStyle||state.currentLineCap!=lineCap||lineDash!=state.currentLineDash&&!(0,array.fS)(state.currentLineDash,lineDash)||state.currentLineDashOffset!=lineDashOffset||state.currentLineJoin!=lineJoin||state.currentLineWidth!=lineWidth||state.currentMiterLimit!=miterLimit)&&(void 0!==strokeStyle&&applyStroke.call(this,state),state.currentStrokeStyle=strokeStyle,state.currentLineCap=lineCap,state.currentLineDash=lineDash,state.currentLineDashOffset=lineDashOffset,state.currentLineJoin=lineJoin,state.currentLineWidth=lineWidth,state.currentMiterLimit=miterLimit)},CanvasBuilder.prototype.endGeometry=function(feature){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var endGeometryInstruction=[canvas_Instruction.END_GEOMETRY,feature];this.instructions.push(endGeometryInstruction),this.hitDetectionInstructions.push(endGeometryInstruction)},CanvasBuilder.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,ol_extent.d9)(this.maxExtent),this.maxLineWidth>0)){var width=this.resolution*(this.maxLineWidth+1)/2;(0,ol_extent.f3)(this.bufferedMaxExtent_,width,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},CanvasBuilder}(render_VectorContext);const Builder=CanvasBuilder;var ImageBuilder_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const ImageBuilder=function(_super){function CanvasImageBuilder(tolerance,maxExtent,resolution,pixelRatio){var _this=_super.call(this,tolerance,maxExtent,resolution,pixelRatio)||this;return _this.hitDetectionImage_=null,_this.image_=null,_this.imagePixelRatio_=void 0,_this.anchorX_=void 0,_this.anchorY_=void 0,_this.height_=void 0,_this.opacity_=void 0,_this.originX_=void 0,_this.originY_=void 0,_this.rotateWithView_=void 0,_this.rotation_=void 0,_this.scale_=void 0,_this.width_=void 0,_this.declutterMode_=void 0,_this.declutterImageWithText_=void 0,_this}return ImageBuilder_extends(CanvasImageBuilder,_super),CanvasImageBuilder.prototype.drawPoint=function(pointGeometry,feature){if(this.image_){this.beginGeometry(pointGeometry,feature);var flatCoordinates=pointGeometry.getFlatCoordinates(),stride=pointGeometry.getStride(),myBegin=this.coordinates.length,myEnd=this.appendFlatPointCoordinates(flatCoordinates,stride);this.instructions.push([canvas_Instruction.DRAW_IMAGE,myBegin,myEnd,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([canvas_Instruction.DRAW_IMAGE,myBegin,myEnd,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(feature)}},CanvasImageBuilder.prototype.drawMultiPoint=function(multiPointGeometry,feature){if(this.image_){this.beginGeometry(multiPointGeometry,feature);var flatCoordinates=multiPointGeometry.getFlatCoordinates(),stride=multiPointGeometry.getStride(),myBegin=this.coordinates.length,myEnd=this.appendFlatPointCoordinates(flatCoordinates,stride);this.instructions.push([canvas_Instruction.DRAW_IMAGE,myBegin,myEnd,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([canvas_Instruction.DRAW_IMAGE,myBegin,myEnd,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(feature)}},CanvasImageBuilder.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,_super.prototype.finish.call(this)},CanvasImageBuilder.prototype.setImageStyle=function(imageStyle,opt_sharedData){var anchor=imageStyle.getAnchor(),size=imageStyle.getSize(),origin=imageStyle.getOrigin();this.imagePixelRatio_=imageStyle.getPixelRatio(this.pixelRatio),this.anchorX_=anchor[0],this.anchorY_=anchor[1],this.hitDetectionImage_=imageStyle.getHitDetectionImage(),this.image_=imageStyle.getImage(this.pixelRatio),this.height_=size[1],this.opacity_=imageStyle.getOpacity(),this.originX_=origin[0],this.originY_=origin[1],this.rotateWithView_=imageStyle.getRotateWithView(),this.rotation_=imageStyle.getRotation(),this.scale_=imageStyle.getScaleArray(),this.width_=size[0],this.declutterMode_=imageStyle.getDeclutterMode(),this.declutterImageWithText_=opt_sharedData},CanvasImageBuilder}(Builder);var LineStringBuilder_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const LineStringBuilder=function(_super){function CanvasLineStringBuilder(tolerance,maxExtent,resolution,pixelRatio){return _super.call(this,tolerance,maxExtent,resolution,pixelRatio)||this}return LineStringBuilder_extends(CanvasLineStringBuilder,_super),CanvasLineStringBuilder.prototype.drawFlatCoordinates_=function(flatCoordinates,offset,end,stride){var myBegin=this.coordinates.length,myEnd=this.appendFlatLineCoordinates(flatCoordinates,offset,end,stride,!1,!1),moveToLineToInstruction=[canvas_Instruction.MOVE_TO_LINE_TO,myBegin,myEnd];return this.instructions.push(moveToLineToInstruction),this.hitDetectionInstructions.push(moveToLineToInstruction),end},CanvasLineStringBuilder.prototype.drawLineString=function(lineStringGeometry,feature){var state=this.state,strokeStyle=state.strokeStyle,lineWidth=state.lineWidth;if(void 0!==strokeStyle&&void 0!==lineWidth){this.updateStrokeStyle(state,this.applyStroke),this.beginGeometry(lineStringGeometry,feature),this.hitDetectionInstructions.push([canvas_Instruction.SET_STROKE_STYLE,state.strokeStyle,state.lineWidth,state.lineCap,state.lineJoin,state.miterLimit,render_canvas.X9,render_canvas.He],beginPathInstruction);var flatCoordinates=lineStringGeometry.getFlatCoordinates(),stride=lineStringGeometry.getStride();this.drawFlatCoordinates_(flatCoordinates,0,flatCoordinates.length,stride),this.hitDetectionInstructions.push(strokeInstruction),this.endGeometry(feature)}},CanvasLineStringBuilder.prototype.drawMultiLineString=function(multiLineStringGeometry,feature){var state=this.state,strokeStyle=state.strokeStyle,lineWidth=state.lineWidth;if(void 0!==strokeStyle&&void 0!==lineWidth){this.updateStrokeStyle(state,this.applyStroke),this.beginGeometry(multiLineStringGeometry,feature),this.hitDetectionInstructions.push([canvas_Instruction.SET_STROKE_STYLE,state.strokeStyle,state.lineWidth,state.lineCap,state.lineJoin,state.miterLimit,state.lineDash,state.lineDashOffset],beginPathInstruction);for(var ends=multiLineStringGeometry.getEnds(),flatCoordinates=multiLineStringGeometry.getFlatCoordinates(),stride=multiLineStringGeometry.getStride(),offset=0,i=0,ii=ends.length;i<ii;++i)offset=this.drawFlatCoordinates_(flatCoordinates,offset,ends[i],stride);this.hitDetectionInstructions.push(strokeInstruction),this.endGeometry(feature)}},CanvasLineStringBuilder.prototype.finish=function(){var state=this.state;return null!=state.lastStroke&&state.lastStroke!=this.coordinates.length&&this.instructions.push(strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null,_super.prototype.finish.call(this)},CanvasLineStringBuilder.prototype.applyStroke=function(state){null!=state.lastStroke&&state.lastStroke!=this.coordinates.length&&(this.instructions.push(strokeInstruction),state.lastStroke=this.coordinates.length),state.lastStroke=0,_super.prototype.applyStroke.call(this,state),this.instructions.push(beginPathInstruction)},CanvasLineStringBuilder}(Builder);var simplify=__webpack_require__("./node_modules/ol/geom/flat/simplify.js"),PolygonBuilder_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const PolygonBuilder=function(_super){function CanvasPolygonBuilder(tolerance,maxExtent,resolution,pixelRatio){return _super.call(this,tolerance,maxExtent,resolution,pixelRatio)||this}return PolygonBuilder_extends(CanvasPolygonBuilder,_super),CanvasPolygonBuilder.prototype.drawFlatCoordinatess_=function(flatCoordinates,offset,ends,stride){var state=this.state,fill=void 0!==state.fillStyle,stroke=void 0!==state.strokeStyle,numEnds=ends.length;this.instructions.push(beginPathInstruction),this.hitDetectionInstructions.push(beginPathInstruction);for(var i=0;i<numEnds;++i){var end=ends[i],myBegin=this.coordinates.length,myEnd=this.appendFlatLineCoordinates(flatCoordinates,offset,end,stride,!0,!stroke),moveToLineToInstruction=[canvas_Instruction.MOVE_TO_LINE_TO,myBegin,myEnd];this.instructions.push(moveToLineToInstruction),this.hitDetectionInstructions.push(moveToLineToInstruction),stroke&&(this.instructions.push(closePathInstruction),this.hitDetectionInstructions.push(closePathInstruction)),offset=end}return fill&&(this.instructions.push(fillInstruction),this.hitDetectionInstructions.push(fillInstruction)),stroke&&(this.instructions.push(strokeInstruction),this.hitDetectionInstructions.push(strokeInstruction)),offset},CanvasPolygonBuilder.prototype.drawCircle=function(circleGeometry,feature){var state=this.state,fillStyle=state.fillStyle,strokeStyle=state.strokeStyle;if(void 0!==fillStyle||void 0!==strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(circleGeometry,feature),void 0!==state.fillStyle&&this.hitDetectionInstructions.push([canvas_Instruction.SET_FILL_STYLE,render_canvas.bL]),void 0!==state.strokeStyle&&this.hitDetectionInstructions.push([canvas_Instruction.SET_STROKE_STYLE,state.strokeStyle,state.lineWidth,state.lineCap,state.lineJoin,state.miterLimit,state.lineDash,state.lineDashOffset]);var flatCoordinates=circleGeometry.getFlatCoordinates(),stride=circleGeometry.getStride(),myBegin=this.coordinates.length;this.appendFlatLineCoordinates(flatCoordinates,0,flatCoordinates.length,stride,!1,!1);var circleInstruction=[canvas_Instruction.CIRCLE,myBegin];this.instructions.push(beginPathInstruction,circleInstruction),this.hitDetectionInstructions.push(beginPathInstruction,circleInstruction),void 0!==state.fillStyle&&(this.instructions.push(fillInstruction),this.hitDetectionInstructions.push(fillInstruction)),void 0!==state.strokeStyle&&(this.instructions.push(strokeInstruction),this.hitDetectionInstructions.push(strokeInstruction)),this.endGeometry(feature)}},CanvasPolygonBuilder.prototype.drawPolygon=function(polygonGeometry,feature){var state=this.state,fillStyle=state.fillStyle,strokeStyle=state.strokeStyle;if(void 0!==fillStyle||void 0!==strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(polygonGeometry,feature),void 0!==state.fillStyle&&this.hitDetectionInstructions.push([canvas_Instruction.SET_FILL_STYLE,render_canvas.bL]),void 0!==state.strokeStyle&&this.hitDetectionInstructions.push([canvas_Instruction.SET_STROKE_STYLE,state.strokeStyle,state.lineWidth,state.lineCap,state.lineJoin,state.miterLimit,state.lineDash,state.lineDashOffset]);var ends=polygonGeometry.getEnds(),flatCoordinates=polygonGeometry.getOrientedFlatCoordinates(),stride=polygonGeometry.getStride();this.drawFlatCoordinatess_(flatCoordinates,0,ends,stride),this.endGeometry(feature)}},CanvasPolygonBuilder.prototype.drawMultiPolygon=function(multiPolygonGeometry,feature){var state=this.state,fillStyle=state.fillStyle,strokeStyle=state.strokeStyle;if(void 0!==fillStyle||void 0!==strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(multiPolygonGeometry,feature),void 0!==state.fillStyle&&this.hitDetectionInstructions.push([canvas_Instruction.SET_FILL_STYLE,render_canvas.bL]),void 0!==state.strokeStyle&&this.hitDetectionInstructions.push([canvas_Instruction.SET_STROKE_STYLE,state.strokeStyle,state.lineWidth,state.lineCap,state.lineJoin,state.miterLimit,state.lineDash,state.lineDashOffset]);for(var endss=multiPolygonGeometry.getEndss(),flatCoordinates=multiPolygonGeometry.getOrientedFlatCoordinates(),stride=multiPolygonGeometry.getStride(),offset=0,i=0,ii=endss.length;i<ii;++i)offset=this.drawFlatCoordinatess_(flatCoordinates,offset,endss[i],stride);this.endGeometry(feature)}},CanvasPolygonBuilder.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var tolerance=this.tolerance;if(0!==tolerance)for(var coordinates=this.coordinates,i=0,ii=coordinates.length;i<ii;++i)coordinates[i]=(0,simplify.uZ)(coordinates[i],tolerance);return _super.prototype.finish.call(this)},CanvasPolygonBuilder.prototype.setFillStrokeStyles_=function(){var state=this.state;void 0!==state.fillStyle&&this.updateFillStyle(state,this.createFill),void 0!==state.strokeStyle&&this.updateStrokeStyle(state,this.applyStroke)},CanvasPolygonBuilder}(Builder),TextPlacement_LINE="line";var util=__webpack_require__("./node_modules/ol/util.js");function matchingChunk(maxAngle,flatCoordinates,offset,end,stride){var i,m12,m23,x1,y1,x12,y12,x23,y23,chunkStart=offset,chunkEnd=offset,chunkM=0,m=0,start=offset;for(i=offset;i<end;i+=stride){var x2=flatCoordinates[i],y2=flatCoordinates[i+1];void 0!==x1&&(x23=x2-x1,y23=y2-y1,m23=Math.sqrt(x23*x23+y23*y23),void 0!==x12&&(m+=m12,Math.acos((x12*x23+y12*y23)/(m12*m23))>maxAngle&&(m>chunkM&&(chunkM=m,chunkStart=start,chunkEnd=i),m=0,start=i-stride)),m12=m23,x12=x23,y12=y23),x1=x2,y1=y2}return(m+=m23)>chunkM?[start,i]:[chunkStart,chunkEnd]}var TextBuilder_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),TEXT_ALIGN={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},CanvasTextBuilder=function(_super){function CanvasTextBuilder(tolerance,maxExtent,resolution,pixelRatio){var _this=_super.call(this,tolerance,maxExtent,resolution,pixelRatio)||this;return _this.labels_=null,_this.text_="",_this.textOffsetX_=0,_this.textOffsetY_=0,_this.textRotateWithView_=void 0,_this.textRotation_=0,_this.textFillState_=null,_this.fillStates={},_this.textStrokeState_=null,_this.strokeStates={},_this.textState_={},_this.textStates={},_this.textKey_="",_this.fillKey_="",_this.strokeKey_="",_this.declutterImageWithText_=void 0,_this}return TextBuilder_extends(CanvasTextBuilder,_super),CanvasTextBuilder.prototype.finish=function(){var instructions=_super.prototype.finish.call(this);return instructions.textStates=this.textStates,instructions.fillStates=this.fillStates,instructions.strokeStates=this.strokeStates,instructions},CanvasTextBuilder.prototype.drawText=function(geometry,feature){var fillState=this.textFillState_,strokeState=this.textStrokeState_,textState=this.textState_;if(""!==this.text_&&textState&&(fillState||strokeState)){var coordinates=this.coordinates,begin=coordinates.length,geometryType=geometry.getType(),flatCoordinates=null,stride=geometry.getStride();if(textState.placement!==TextPlacement_LINE||"LineString"!=geometryType&&"MultiLineString"!=geometryType&&"Polygon"!=geometryType&&"MultiPolygon"!=geometryType){var geometryWidths=textState.overflow?null:[];switch(geometryType){case"Point":case"MultiPoint":flatCoordinates=geometry.getFlatCoordinates();break;case"LineString":flatCoordinates=geometry.getFlatMidpoint();break;case"Circle":flatCoordinates=geometry.getCenter();break;case"MultiLineString":flatCoordinates=geometry.getFlatMidpoints(),stride=2;break;case"Polygon":flatCoordinates=geometry.getFlatInteriorPoint(),textState.overflow||geometryWidths.push(flatCoordinates[2]/this.resolution),stride=3;break;case"MultiPolygon":var interiorPoints=geometry.getFlatInteriorPoints();flatCoordinates=[];for(i=0,ii=interiorPoints.length;i<ii;i+=3)textState.overflow||geometryWidths.push(interiorPoints[i+2]/this.resolution),flatCoordinates.push(interiorPoints[i],interiorPoints[i+1]);if(0===flatCoordinates.length)return;stride=2}if((end=this.appendFlatPointCoordinates(flatCoordinates,stride))===begin)return;if(geometryWidths&&(end-begin)/2!=flatCoordinates.length/stride){var beg_1=begin/2;geometryWidths=geometryWidths.filter((function(w,i){var keep=coordinates[2*(beg_1+i)]===flatCoordinates[i*stride]&&coordinates[2*(beg_1+i)+1]===flatCoordinates[i*stride+1];return keep||--beg_1,keep}))}this.saveTextStates_(),(textState.backgroundFill||textState.backgroundStroke)&&(this.setFillStrokeStyle(textState.backgroundFill,textState.backgroundStroke),textState.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),textState.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(geometry,feature);var padding=textState.padding;if(padding!=render_canvas.oB&&(textState.scale[0]<0||textState.scale[1]<0)){var p0=textState.padding[0],p1=textState.padding[1],p2=textState.padding[2],p3=textState.padding[3];textState.scale[0]<0&&(p1=-p1,p3=-p3),textState.scale[1]<0&&(p0=-p0,p2=-p2),padding=[p0,p1,p2,p3]}var pixelRatio_1=this.pixelRatio;this.instructions.push([canvas_Instruction.DRAW_IMAGE,begin,end,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,padding==render_canvas.oB?render_canvas.oB:padding.map((function(p){return p*pixelRatio_1})),!!textState.backgroundFill,!!textState.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,geometryWidths]);var scale=1/pixelRatio_1;this.hitDetectionInstructions.push([canvas_Instruction.DRAW_IMAGE,begin,end,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[scale,scale],NaN,void 0,this.declutterImageWithText_,padding,!!textState.backgroundFill,!!textState.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,geometryWidths]),this.endGeometry(feature)}else{if(!(0,ol_extent.kK)(this.getBufferedMaxExtent(),geometry.getExtent()))return;var ends=void 0;if(flatCoordinates=geometry.getFlatCoordinates(),"LineString"==geometryType)ends=[flatCoordinates.length];else if("MultiLineString"==geometryType)ends=geometry.getEnds();else if("Polygon"==geometryType)ends=geometry.getEnds().slice(0,1);else if("MultiPolygon"==geometryType){var endss=geometry.getEndss();ends=[];for(var i=0,ii=endss.length;i<ii;++i)ends.push(endss[i][0])}this.beginGeometry(geometry,feature);for(var textAlign=textState.textAlign,flatOffset=0,flatEnd=void 0,o=0,oo=ends.length;o<oo;++o){if(null==textAlign){var range=matchingChunk(textState.maxAngle,flatCoordinates,flatOffset,ends[o],stride);flatOffset=range[0],flatEnd=range[1]}else flatEnd=ends[o];for(var i=flatOffset;i<flatEnd;i+=stride)coordinates.push(flatCoordinates[i],flatCoordinates[i+1]);var end=coordinates.length;flatOffset=ends[o],this.drawChars_(begin,end),begin=end}this.endGeometry(feature)}}},CanvasTextBuilder.prototype.saveTextStates_=function(){var strokeState=this.textStrokeState_,textState=this.textState_,fillState=this.textFillState_,strokeKey=this.strokeKey_;strokeState&&(strokeKey in this.strokeStates||(this.strokeStates[strokeKey]={strokeStyle:strokeState.strokeStyle,lineCap:strokeState.lineCap,lineDashOffset:strokeState.lineDashOffset,lineWidth:strokeState.lineWidth,lineJoin:strokeState.lineJoin,miterLimit:strokeState.miterLimit,lineDash:strokeState.lineDash}));var textKey=this.textKey_;textKey in this.textStates||(this.textStates[textKey]={font:textState.font,textAlign:textState.textAlign||render_canvas.PH,justify:textState.justify,textBaseline:textState.textBaseline||render_canvas.ru,scale:textState.scale});var fillKey=this.fillKey_;fillState&&(fillKey in this.fillStates||(this.fillStates[fillKey]={fillStyle:fillState.fillStyle}))},CanvasTextBuilder.prototype.drawChars_=function(begin,end){var strokeState=this.textStrokeState_,textState=this.textState_,strokeKey=this.strokeKey_,textKey=this.textKey_,fillKey=this.fillKey_;this.saveTextStates_();var pixelRatio=this.pixelRatio,baseline=TEXT_ALIGN[textState.textBaseline],offsetY=this.textOffsetY_*pixelRatio,text=this.text_,strokeWidth=strokeState?strokeState.lineWidth*Math.abs(textState.scale[0])/2:0;this.instructions.push([canvas_Instruction.DRAW_CHARS,begin,end,baseline,textState.overflow,fillKey,textState.maxAngle,pixelRatio,offsetY,strokeKey,strokeWidth*pixelRatio,text,textKey,1]),this.hitDetectionInstructions.push([canvas_Instruction.DRAW_CHARS,begin,end,baseline,textState.overflow,fillKey,textState.maxAngle,1,offsetY,strokeKey,strokeWidth,text,textKey,1/pixelRatio])},CanvasTextBuilder.prototype.setTextStyle=function(textStyle,opt_sharedData){var textState,fillState,strokeState;if(textStyle){var textFillStyle=textStyle.getFill();textFillStyle?((fillState=this.textFillState_)||(fillState={},this.textFillState_=fillState),fillState.fillStyle=(0,colorlike.y)(textFillStyle.getColor()||render_canvas.bL)):(fillState=null,this.textFillState_=fillState);var textStrokeStyle=textStyle.getStroke();if(textStrokeStyle){(strokeState=this.textStrokeState_)||(strokeState={},this.textStrokeState_=strokeState);var lineDash=textStrokeStyle.getLineDash(),lineDashOffset=textStrokeStyle.getLineDashOffset(),lineWidth=textStrokeStyle.getWidth(),miterLimit=textStrokeStyle.getMiterLimit();strokeState.lineCap=textStrokeStyle.getLineCap()||render_canvas.mb,strokeState.lineDash=lineDash?lineDash.slice():render_canvas.X9,strokeState.lineDashOffset=void 0===lineDashOffset?render_canvas.He:lineDashOffset,strokeState.lineJoin=textStrokeStyle.getLineJoin()||render_canvas.rc,strokeState.lineWidth=void 0===lineWidth?render_canvas.yC:lineWidth,strokeState.miterLimit=void 0===miterLimit?render_canvas.V4:miterLimit,strokeState.strokeStyle=(0,colorlike.y)(textStrokeStyle.getColor()||render_canvas.Tx)}else strokeState=null,this.textStrokeState_=strokeState;textState=this.textState_;var font=textStyle.getFont()||render_canvas.Df;(0,render_canvas.Qx)(font);var textScale=textStyle.getScaleArray();textState.overflow=textStyle.getOverflow(),textState.font=font,textState.maxAngle=textStyle.getMaxAngle(),textState.placement=textStyle.getPlacement(),textState.textAlign=textStyle.getTextAlign(),textState.justify=textStyle.getJustify(),textState.textBaseline=textStyle.getTextBaseline()||render_canvas.ru,textState.backgroundFill=textStyle.getBackgroundFill(),textState.backgroundStroke=textStyle.getBackgroundStroke(),textState.padding=textStyle.getPadding()||render_canvas.oB,textState.scale=void 0===textScale?[1,1]:textScale;var textOffsetX=textStyle.getOffsetX(),textOffsetY=textStyle.getOffsetY(),textRotateWithView=textStyle.getRotateWithView(),textRotation=textStyle.getRotation();this.text_=textStyle.getText()||"",this.textOffsetX_=void 0===textOffsetX?0:textOffsetX,this.textOffsetY_=void 0===textOffsetY?0:textOffsetY,this.textRotateWithView_=void 0!==textRotateWithView&&textRotateWithView,this.textRotation_=void 0===textRotation?0:textRotation,this.strokeKey_=strokeState?("string"==typeof strokeState.strokeStyle?strokeState.strokeStyle:(0,util.sq)(strokeState.strokeStyle))+strokeState.lineCap+strokeState.lineDashOffset+"|"+strokeState.lineWidth+strokeState.lineJoin+strokeState.miterLimit+"["+strokeState.lineDash.join()+"]":"",this.textKey_=textState.font+textState.scale+(textState.textAlign||"?")+(textState.justify||"?")+(textState.textBaseline||"?"),this.fillKey_=fillState?"string"==typeof fillState.fillStyle?fillState.fillStyle:"|"+(0,util.sq)(fillState.fillStyle):""}else this.text_="";this.declutterImageWithText_=opt_sharedData},CanvasTextBuilder}(Builder);var BATCH_CONSTRUCTORS={Circle:PolygonBuilder,Default:Builder,Image:ImageBuilder,LineString:LineStringBuilder,Polygon:PolygonBuilder,Text:CanvasTextBuilder};const canvas_BuilderGroup=function(){function BuilderGroup(tolerance,maxExtent,resolution,pixelRatio){this.tolerance_=tolerance,this.maxExtent_=maxExtent,this.pixelRatio_=pixelRatio,this.resolution_=resolution,this.buildersByZIndex_={}}return BuilderGroup.prototype.finish=function(){var builderInstructions={};for(var zKey in this.buildersByZIndex_){builderInstructions[zKey]=builderInstructions[zKey]||{};var builders=this.buildersByZIndex_[zKey];for(var builderKey in builders){var builderInstruction=builders[builderKey].finish();builderInstructions[zKey][builderKey]=builderInstruction}}return builderInstructions},BuilderGroup.prototype.getBuilder=function(zIndex,builderType){var zIndexKey=void 0!==zIndex?zIndex.toString():"0",replays=this.buildersByZIndex_[zIndexKey];void 0===replays&&(replays={},this.buildersByZIndex_[zIndexKey]=replays);var replay=replays[builderType];void 0===replay&&(replay=new(0,BATCH_CONSTRUCTORS[builderType])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),replays[builderType]=replay);return replay},BuilderGroup}();var canvas_Layer=__webpack_require__("./node_modules/ol/renderer/canvas/Layer.js"),has=__webpack_require__("./node_modules/ol/has.js"),ol_transform=__webpack_require__("./node_modules/ol/transform.js"),math=__webpack_require__("./node_modules/ol/math.js"),flat_transform=__webpack_require__("./node_modules/ol/geom/flat/transform.js");function drawTextOnPath(flatCoordinates,offset,end,stride,text,startM,maxAngle,scale,measureAndCacheTextWidth,font,cache,rotation){var x2=flatCoordinates[offset],y2=flatCoordinates[offset+1],x1=0,y1=0,segmentLength=0,segmentM=0;function advance(){x1=x2,y1=y2,x2=flatCoordinates[offset+=stride],y2=flatCoordinates[offset+1],segmentM+=segmentLength,segmentLength=Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))}do{advance()}while(offset<end-stride&&segmentM+segmentLength<startM);for(var interpolate=0===segmentLength?0:(startM-segmentM)/segmentLength,beginX=(0,math.t7)(x1,x2,interpolate),beginY=(0,math.t7)(y1,y2,interpolate),startOffset=offset-stride,startLength=segmentM,endM=startM+scale*measureAndCacheTextWidth(font,text,cache);offset<end-stride&&segmentM+segmentLength<endM;)advance();interpolate=0===segmentLength?0:(endM-segmentM)/segmentLength;var reverse,endX=(0,math.t7)(x1,x2,interpolate),endY=(0,math.t7)(y1,y2,interpolate);if(rotation){var flat=[beginX,beginY,endX,endY];(0,flat_transform.U1)(flat,0,4,2,rotation,flat,flat),reverse=flat[0]>flat[2]}else reverse=beginX>endX;var previousAngle,PI=Math.PI,result=[],singleSegment=startOffset+stride===offset;if(segmentLength=0,segmentM=startLength,x2=flatCoordinates[offset=startOffset],y2=flatCoordinates[offset+1],singleSegment){advance(),previousAngle=Math.atan2(y2-y1,x2-x1),reverse&&(previousAngle+=previousAngle>0?-PI:PI);var x=(endX+beginX)/2,y=(endY+beginY)/2;return result[0]=[x,y,(endM-startM)/2,previousAngle,text],result}for(var i=0,ii=(text=text.replace(/\n/g," ")).length;i<ii;){advance();var angle=Math.atan2(y2-y1,x2-x1);if(reverse&&(angle+=angle>0?-PI:PI),void 0!==previousAngle){var delta=angle-previousAngle;if(delta+=delta>PI?-2*PI:delta<-PI?2*PI:0,Math.abs(delta)>maxAngle)return null}previousAngle=angle;for(var iStart=i,charLength=0;i<ii;++i){var len=scale*measureAndCacheTextWidth(font,text[reverse?ii-i-1:i],cache);if(offset+stride<end&&segmentM+segmentLength<startM+charLength+len/2)break;charLength+=len}if(i!==iStart){var chars=reverse?text.substring(ii-iStart,ii-i):text.substring(iStart,i);interpolate=0===segmentLength?0:(startM+charLength/2-segmentM)/segmentLength;x=(0,math.t7)(x1,x2,interpolate),y=(0,math.t7)(y1,y2,interpolate);result.push([x,y,charLength/2,angle,chars]),startM+=charLength}}return result}var flat_length=__webpack_require__("./node_modules/ol/geom/flat/length.js"),tmpExtent=(0,ol_extent.lJ)(),p1=[],p2=[],p3=[],p4=[];function getDeclutterBox(replayImageOrLabelArgs){return replayImageOrLabelArgs[3].declutterBox}var rtlRegEx=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function horizontalTextAlign(text,align){return"start"!==align&&"end"!==align||rtlRegEx.test(text)||(align="start"===align?"left":"right"),TEXT_ALIGN[align]}function createTextChunks(acc,line,i){return i>0&&acc.push("\n",""),acc.push(line,""),acc}var Executor=function(){function Executor(resolution,pixelRatio,overlaps,instructions){this.overlaps=overlaps,this.pixelRatio=pixelRatio,this.resolution=resolution,this.alignFill_,this.instructions=instructions.instructions,this.coordinates=instructions.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,ol_transform.Ue)(),this.hitDetectionInstructions=instructions.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=instructions.fillStates||{},this.strokeStates=instructions.strokeStates||{},this.textStates=instructions.textStates||{},this.widths_={},this.labels_={}}return Executor.prototype.createLabel=function(text,textKey,fillKey,strokeKey){var key=text+textKey+fillKey+strokeKey;if(this.labels_[key])return this.labels_[key];var strokeState=strokeKey?this.strokeStates[strokeKey]:null,fillState=fillKey?this.fillStates[fillKey]:null,textState=this.textStates[textKey],pixelRatio=this.pixelRatio,scale=[textState.scale[0]*pixelRatio,textState.scale[1]*pixelRatio],textIsArray=Array.isArray(text),align=textState.justify?TEXT_ALIGN[textState.justify]:horizontalTextAlign(Array.isArray(text)?text[0]:text,textState.textAlign||render_canvas.PH),strokeWidth=strokeKey&&strokeState.lineWidth?strokeState.lineWidth:0,chunks=textIsArray?text:text.split("\n").reduce(createTextChunks,[]),_a=(0,render_canvas.Zw)(textState,chunks),width=_a.width,height=_a.height,widths=_a.widths,heights=_a.heights,lineWidths=_a.lineWidths,renderWidth=width+strokeWidth,contextInstructions=[],w=(renderWidth+2)*scale[0],h=(height+strokeWidth)*scale[1],label={width:w<0?Math.floor(w):Math.ceil(w),height:h<0?Math.floor(h):Math.ceil(h),contextInstructions};(1==scale[0]&&1==scale[1]||contextInstructions.push("scale",scale),strokeKey)&&(contextInstructions.push("strokeStyle",strokeState.strokeStyle),contextInstructions.push("lineWidth",strokeWidth),contextInstructions.push("lineCap",strokeState.lineCap),contextInstructions.push("lineJoin",strokeState.lineJoin),contextInstructions.push("miterLimit",strokeState.miterLimit),(has.Id?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(contextInstructions.push("setLineDash",[strokeState.lineDash]),contextInstructions.push("lineDashOffset",strokeState.lineDashOffset)));fillKey&&contextInstructions.push("fillStyle",fillState.fillStyle),contextInstructions.push("textBaseline","middle"),contextInstructions.push("textAlign","center");for(var previousFont,leftRight=.5-align,x=align*renderWidth+leftRight*strokeWidth,strokeInstructions=[],fillInstructions=[],lineHeight=0,lineOffset=0,widthHeightIndex=0,lineWidthIndex=0,i=0,ii=chunks.length;i<ii;i+=2){var text_1=chunks[i];if("\n"!==text_1){var font=chunks[i+1]||textState.font;font!==previousFont&&(strokeKey&&strokeInstructions.push("font",font),fillKey&&fillInstructions.push("font",font),previousFont=font),lineHeight=Math.max(lineHeight,heights[widthHeightIndex]);var fillStrokeArgs=[text_1,x+leftRight*widths[widthHeightIndex]+align*(widths[widthHeightIndex]-lineWidths[lineWidthIndex]),.5*(strokeWidth+lineHeight)+lineOffset];x+=widths[widthHeightIndex],strokeKey&&strokeInstructions.push("strokeText",fillStrokeArgs),fillKey&&fillInstructions.push("fillText",fillStrokeArgs),++widthHeightIndex}else lineOffset+=lineHeight,lineHeight=0,x=align*renderWidth+leftRight*strokeWidth,++lineWidthIndex}return Array.prototype.push.apply(contextInstructions,strokeInstructions),Array.prototype.push.apply(contextInstructions,fillInstructions),this.labels_[key]=label,label},Executor.prototype.replayTextBackground_=function(context,p1,p2,p3,p4,fillInstruction,strokeInstruction){context.beginPath(),context.moveTo.apply(context,p1),context.lineTo.apply(context,p2),context.lineTo.apply(context,p3),context.lineTo.apply(context,p4),context.lineTo.apply(context,p1),fillInstruction&&(this.alignFill_=fillInstruction[2],this.fill_(context)),strokeInstruction&&(this.setStrokeStyle_(context,strokeInstruction),context.stroke())},Executor.prototype.calculateImageOrLabelDimensions_=function(sheetWidth,sheetHeight,centerX,centerY,width,height,anchorX,anchorY,originX,originY,rotation,scale,snapToPixel,padding,fillStroke,feature){var transform,x=centerX-(anchorX*=scale[0]),y=centerY-(anchorY*=scale[1]),w=width+originX>sheetWidth?sheetWidth-originX:width,h=height+originY>sheetHeight?sheetHeight-originY:height,boxW=padding[3]+w*scale[0]+padding[1],boxH=padding[0]+h*scale[1]+padding[2],boxX=x-padding[3],boxY=y-padding[0];return(fillStroke||0!==rotation)&&(p1[0]=boxX,p4[0]=boxX,p1[1]=boxY,p2[1]=boxY,p2[0]=boxX+boxW,p3[0]=p2[0],p3[1]=boxY+boxH,p4[1]=p3[1]),0!==rotation?(transform=(0,ol_transform.qC)((0,ol_transform.Ue)(),centerX,centerY,1,1,rotation,-centerX,-centerY),(0,ol_transform.nn)(transform,p1),(0,ol_transform.nn)(transform,p2),(0,ol_transform.nn)(transform,p3),(0,ol_transform.nn)(transform,p4),(0,ol_extent.T9)(Math.min(p1[0],p2[0],p3[0],p4[0]),Math.min(p1[1],p2[1],p3[1],p4[1]),Math.max(p1[0],p2[0],p3[0],p4[0]),Math.max(p1[1],p2[1],p3[1],p4[1]),tmpExtent)):(0,ol_extent.T9)(Math.min(boxX,boxX+boxW),Math.min(boxY,boxY+boxH),Math.max(boxX,boxX+boxW),Math.max(boxY,boxY+boxH),tmpExtent),snapToPixel&&(x=Math.round(x),y=Math.round(y)),{drawImageX:x,drawImageY:y,drawImageW:w,drawImageH:h,originX,originY,declutterBox:{minX:tmpExtent[0],minY:tmpExtent[1],maxX:tmpExtent[2],maxY:tmpExtent[3],value:feature},canvasTransform:transform,scale}},Executor.prototype.replayImageOrLabel_=function(context,contextScale,imageOrLabel,dimensions,opacity,fillInstruction,strokeInstruction){var fillStroke=!(!fillInstruction&&!strokeInstruction),box=dimensions.declutterBox,canvas=context.canvas,strokePadding=strokeInstruction?strokeInstruction[2]*dimensions.scale[0]/2:0;return box.minX-strokePadding<=canvas.width/contextScale&&box.maxX+strokePadding>=0&&box.minY-strokePadding<=canvas.height/contextScale&&box.maxY+strokePadding>=0&&(fillStroke&&this.replayTextBackground_(context,p1,p2,p3,p4,fillInstruction,strokeInstruction),(0,render_canvas._f)(context,dimensions.canvasTransform,opacity,imageOrLabel,dimensions.originX,dimensions.originY,dimensions.drawImageW,dimensions.drawImageH,dimensions.drawImageX,dimensions.drawImageY,dimensions.scale)),!0},Executor.prototype.fill_=function(context){if(this.alignFill_){var origin_1=(0,ol_transform.nn)(this.renderedTransform_,[0,0]),repeatSize=512*this.pixelRatio;context.save(),context.translate(origin_1[0]%repeatSize,origin_1[1]%repeatSize),context.rotate(this.viewRotation_)}context.fill(),this.alignFill_&&context.restore()},Executor.prototype.setStrokeStyle_=function(context,instruction){context.strokeStyle=instruction[1],context.lineWidth=instruction[2],context.lineCap=instruction[3],context.lineJoin=instruction[4],context.miterLimit=instruction[5],context.setLineDash&&(context.lineDashOffset=instruction[7],context.setLineDash(instruction[6]))},Executor.prototype.drawLabelWithPointPlacement_=function(text,textKey,strokeKey,fillKey){var textState=this.textStates[textKey],label=this.createLabel(text,textKey,fillKey,strokeKey),strokeState=this.strokeStates[strokeKey],pixelRatio=this.pixelRatio,align=horizontalTextAlign(Array.isArray(text)?text[0]:text,textState.textAlign||render_canvas.PH),baseline=TEXT_ALIGN[textState.textBaseline||render_canvas.ru],strokeWidth=strokeState&&strokeState.lineWidth?strokeState.lineWidth:0;return{label,anchorX:align*(label.width/pixelRatio-2*textState.scale[0])+2*(.5-align)*strokeWidth,anchorY:baseline*label.height/pixelRatio+2*(.5-baseline)*strokeWidth}},Executor.prototype.execute_=function(context,contextScale,transform,instructions,snapToPixel,opt_featureCallback,opt_hitExtent,opt_declutterTree){var pixelCoordinates;this.pixelCoordinates_&&(0,array.fS)(transform,this.renderedTransform_)?pixelCoordinates=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),pixelCoordinates=(0,flat_transform.vT)(this.coordinates,0,this.coordinates.length,2,transform,this.pixelCoordinates_),(0,ol_transform.lk)(this.renderedTransform_,transform));for(var dd,anchorX,anchorY,prevX,prevY,roundX,roundY,image,text,textKey,strokeKey,fillKey,feature,x,y,currentGeometry,i=0,ii=instructions.length,d=0,pendingFill=0,pendingStroke=0,lastFillInstruction=null,lastStrokeInstruction=null,coordinateCache=this.coordinateCache_,viewRotation=this.viewRotation_,viewRotationFromTransform=Math.round(1e12*Math.atan2(-transform[1],transform[0]))/1e12,state={context,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:viewRotation},batchSize=this.instructions!=instructions||this.overlaps?0:200;i<ii;){var instruction=instructions[i];switch(instruction[0]){case canvas_Instruction.BEGIN_GEOMETRY:feature=instruction[1],currentGeometry=instruction[3],feature.getGeometry()?void 0===opt_hitExtent||(0,ol_extent.kK)(opt_hitExtent,currentGeometry.getExtent())?++i:i=instruction[2]+1:i=instruction[2];break;case canvas_Instruction.BEGIN_PATH:pendingFill>batchSize&&(this.fill_(context),pendingFill=0),pendingStroke>batchSize&&(context.stroke(),pendingStroke=0),pendingFill||pendingStroke||(context.beginPath(),prevX=NaN,prevY=NaN),++i;break;case canvas_Instruction.CIRCLE:var x1=pixelCoordinates[d=instruction[1]],y1=pixelCoordinates[d+1],dx=pixelCoordinates[d+2]-x1,dy=pixelCoordinates[d+3]-y1,r=Math.sqrt(dx*dx+dy*dy);context.moveTo(x1+r,y1),context.arc(x1,y1,r,0,2*Math.PI,!0),++i;break;case canvas_Instruction.CLOSE_PATH:context.closePath(),++i;break;case canvas_Instruction.CUSTOM:d=instruction[1],dd=instruction[2];var geometry=instruction[3],renderer=instruction[4],fn=6==instruction.length?instruction[5]:void 0;state.geometry=geometry,state.feature=feature,i in coordinateCache||(coordinateCache[i]=[]);var coords=coordinateCache[i];fn?fn(pixelCoordinates,d,dd,2,coords):(coords[0]=pixelCoordinates[d],coords[1]=pixelCoordinates[d+1],coords.length=2),renderer(coords,state),++i;break;case canvas_Instruction.DRAW_IMAGE:d=instruction[1],dd=instruction[2],image=instruction[3],anchorX=instruction[4],anchorY=instruction[5];var height=instruction[6],opacity=instruction[7],originX=instruction[8],originY=instruction[9],rotateWithView=instruction[10],rotation=instruction[11],scale=instruction[12],width=instruction[13],declutterMode=instruction[14],declutterImageWithText=instruction[15];if(!image&&instruction.length>=20){text=instruction[19],textKey=instruction[20],strokeKey=instruction[21],fillKey=instruction[22];var labelWithAnchor=this.drawLabelWithPointPlacement_(text,textKey,strokeKey,fillKey);image=labelWithAnchor.label,instruction[3]=image;var textOffsetX=instruction[23];anchorX=(labelWithAnchor.anchorX-textOffsetX)*this.pixelRatio,instruction[4]=anchorX;var textOffsetY=instruction[24];anchorY=(labelWithAnchor.anchorY-textOffsetY)*this.pixelRatio,instruction[5]=anchorY,height=image.height,instruction[6]=height,width=image.width,instruction[13]=width}var geometryWidths=void 0;instruction.length>25&&(geometryWidths=instruction[25]);var padding=void 0,backgroundFill=void 0,backgroundStroke=void 0;instruction.length>17?(padding=instruction[16],backgroundFill=instruction[17],backgroundStroke=instruction[18]):(padding=render_canvas.oB,backgroundFill=!1,backgroundStroke=!1),rotateWithView&&viewRotationFromTransform?rotation+=viewRotation:rotateWithView||viewRotationFromTransform||(rotation-=viewRotation);for(var widthIndex=0;d<dd;d+=2)if(!(geometryWidths&&geometryWidths[widthIndex++]<width/this.pixelRatio)){var args=[context,contextScale,image,dimensions=this.calculateImageOrLabelDimensions_(image.width,image.height,pixelCoordinates[d],pixelCoordinates[d+1],width,height,anchorX,anchorY,originX,originY,rotation,scale,snapToPixel,padding,backgroundFill||backgroundStroke,feature),opacity,backgroundFill?lastFillInstruction:null,backgroundStroke?lastStrokeInstruction:null];if(opt_declutterTree){if("none"===declutterMode)continue;if("obstacle"===declutterMode){opt_declutterTree.insert(dimensions.declutterBox);continue}var imageArgs=void 0,imageDeclutterBox=void 0;if(declutterImageWithText){var index=dd-d;if(!declutterImageWithText[index]){declutterImageWithText[index]=args;continue}if(imageArgs=declutterImageWithText[index],delete declutterImageWithText[index],imageDeclutterBox=getDeclutterBox(imageArgs),opt_declutterTree.collides(imageDeclutterBox))continue}if(opt_declutterTree.collides(dimensions.declutterBox))continue;imageArgs&&(opt_declutterTree.insert(imageDeclutterBox),this.replayImageOrLabel_.apply(this,imageArgs)),opt_declutterTree.insert(dimensions.declutterBox)}this.replayImageOrLabel_.apply(this,args)}++i;break;case canvas_Instruction.DRAW_CHARS:var begin=instruction[1],end=instruction[2],baseline=instruction[3],overflow=instruction[4];fillKey=instruction[5];var maxAngle=instruction[6],measurePixelRatio=instruction[7],offsetY=instruction[8];strokeKey=instruction[9];var strokeWidth=instruction[10];text=instruction[11],textKey=instruction[12];var pixelRatioScale=[instruction[13],instruction[13]],textState=this.textStates[textKey],font=textState.font,textScale=[textState.scale[0]*measurePixelRatio,textState.scale[1]*measurePixelRatio],cachedWidths=void 0;font in this.widths_?cachedWidths=this.widths_[font]:(cachedWidths={},this.widths_[font]=cachedWidths);var pathLength=(0,flat_length.W)(pixelCoordinates,begin,end,2),textLength=Math.abs(textScale[0])*(0,render_canvas.Kd)(font,text,cachedWidths);if(overflow||textLength<=pathLength){var textAlign=this.textStates[textKey].textAlign,parts=drawTextOnPath(pixelCoordinates,begin,end,2,text,(pathLength-textLength)*TEXT_ALIGN[textAlign],maxAngle,Math.abs(textScale[0]),render_canvas.Kd,font,cachedWidths,viewRotationFromTransform?0:this.viewRotation_);drawChars:if(parts){var replayImageOrLabelArgs=[],c=void 0,cc=void 0,chars=void 0,label=void 0,part=void 0;if(strokeKey)for(c=0,cc=parts.length;c<cc;++c){chars=(part=parts[c])[4],label=this.createLabel(chars,textKey,"",strokeKey),anchorX=part[2]+(textScale[0]<0?-strokeWidth:strokeWidth),anchorY=baseline*label.height+2*(.5-baseline)*strokeWidth*textScale[1]/textScale[0]-offsetY;var dimensions=this.calculateImageOrLabelDimensions_(label.width,label.height,part[0],part[1],label.width,label.height,anchorX,anchorY,0,0,part[3],pixelRatioScale,!1,render_canvas.oB,!1,feature);if(opt_declutterTree&&opt_declutterTree.collides(dimensions.declutterBox))break drawChars;replayImageOrLabelArgs.push([context,contextScale,label,dimensions,1,null,null])}if(fillKey)for(c=0,cc=parts.length;c<cc;++c){chars=(part=parts[c])[4],label=this.createLabel(chars,textKey,fillKey,""),anchorX=part[2],anchorY=baseline*label.height-offsetY;dimensions=this.calculateImageOrLabelDimensions_(label.width,label.height,part[0],part[1],label.width,label.height,anchorX,anchorY,0,0,part[3],pixelRatioScale,!1,render_canvas.oB,!1,feature);if(opt_declutterTree&&opt_declutterTree.collides(dimensions.declutterBox))break drawChars;replayImageOrLabelArgs.push([context,contextScale,label,dimensions,1,null,null])}opt_declutterTree&&opt_declutterTree.load(replayImageOrLabelArgs.map(getDeclutterBox));for(var i_1=0,ii_1=replayImageOrLabelArgs.length;i_1<ii_1;++i_1)this.replayImageOrLabel_.apply(this,replayImageOrLabelArgs[i_1])}}++i;break;case canvas_Instruction.END_GEOMETRY:if(void 0!==opt_featureCallback){var result=opt_featureCallback(feature=instruction[1],currentGeometry);if(result)return result}++i;break;case canvas_Instruction.FILL:batchSize?pendingFill++:this.fill_(context),++i;break;case canvas_Instruction.MOVE_TO_LINE_TO:for(d=instruction[1],dd=instruction[2],x=pixelCoordinates[d],roundY=(y=pixelCoordinates[d+1])+.5|0,(roundX=x+.5|0)===prevX&&roundY===prevY||(context.moveTo(x,y),prevX=roundX,prevY=roundY),d+=2;d<dd;d+=2)roundX=(x=pixelCoordinates[d])+.5|0,roundY=(y=pixelCoordinates[d+1])+.5|0,d!=dd-2&&roundX===prevX&&roundY===prevY||(context.lineTo(x,y),prevX=roundX,prevY=roundY);++i;break;case canvas_Instruction.SET_FILL_STYLE:lastFillInstruction=instruction,this.alignFill_=instruction[2],pendingFill&&(this.fill_(context),pendingFill=0,pendingStroke&&(context.stroke(),pendingStroke=0)),context.fillStyle=instruction[1],++i;break;case canvas_Instruction.SET_STROKE_STYLE:lastStrokeInstruction=instruction,pendingStroke&&(context.stroke(),pendingStroke=0),this.setStrokeStyle_(context,instruction),++i;break;case canvas_Instruction.STROKE:batchSize?pendingStroke++:context.stroke(),++i;break;default:++i}}pendingFill&&this.fill_(context),pendingStroke&&context.stroke()},Executor.prototype.execute=function(context,contextScale,transform,viewRotation,snapToPixel,opt_declutterTree){this.viewRotation_=viewRotation,this.execute_(context,contextScale,transform,this.instructions,snapToPixel,void 0,void 0,opt_declutterTree)},Executor.prototype.executeHitDetection=function(context,transform,viewRotation,opt_featureCallback,opt_hitExtent){return this.viewRotation_=viewRotation,this.execute_(context,1,transform,this.hitDetectionInstructions,!0,opt_featureCallback,opt_hitExtent)},Executor}();const canvas_Executor=Executor;var dom=__webpack_require__("./node_modules/ol/dom.js"),ORDER=["Polygon","Circle","LineString","Image","Text","Default"],ExecutorGroup=function(){function ExecutorGroup(maxExtent,resolution,pixelRatio,overlaps,allInstructions,opt_renderBuffer){this.maxExtent_=maxExtent,this.overlaps_=overlaps,this.pixelRatio_=pixelRatio,this.resolution_=resolution,this.renderBuffer_=opt_renderBuffer,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,ol_transform.Ue)(),this.createExecutors_(allInstructions)}return ExecutorGroup.prototype.clip=function(context,transform){var flatClipCoords=this.getClipCoords(transform);context.beginPath(),context.moveTo(flatClipCoords[0],flatClipCoords[1]),context.lineTo(flatClipCoords[2],flatClipCoords[3]),context.lineTo(flatClipCoords[4],flatClipCoords[5]),context.lineTo(flatClipCoords[6],flatClipCoords[7]),context.clip()},ExecutorGroup.prototype.createExecutors_=function(allInstructions){for(var zIndex in allInstructions){var executors=this.executorsByZIndex_[zIndex];void 0===executors&&(executors={},this.executorsByZIndex_[zIndex]=executors);var instructionByZindex=allInstructions[zIndex];for(var builderType in instructionByZindex){var instructions=instructionByZindex[builderType];executors[builderType]=new canvas_Executor(this.resolution_,this.pixelRatio_,this.overlaps_,instructions)}}},ExecutorGroup.prototype.hasExecutors=function(executors){for(var zIndex in this.executorsByZIndex_)for(var candidates=this.executorsByZIndex_[zIndex],i=0,ii=executors.length;i<ii;++i)if(executors[i]in candidates)return!0;return!1},ExecutorGroup.prototype.forEachFeatureAtCoordinate=function(coordinate,resolution,rotation,hitTolerance,callback,declutteredFeatures){var contextSize=2*(hitTolerance=Math.round(hitTolerance))+1,transform=(0,ol_transform.qC)(this.hitDetectionTransform_,hitTolerance+.5,hitTolerance+.5,1/resolution,-1/resolution,-rotation,-coordinate[0],-coordinate[1]),newContext=!this.hitDetectionContext_;newContext&&(this.hitDetectionContext_=(0,dom.E4)(contextSize,contextSize));var hitExtent,context=this.hitDetectionContext_;context.canvas.width!==contextSize||context.canvas.height!==contextSize?(context.canvas.width=contextSize,context.canvas.height=contextSize):newContext||context.clearRect(0,0,contextSize,contextSize),void 0!==this.renderBuffer_&&(hitExtent=(0,ol_extent.lJ)(),(0,ol_extent.Wj)(hitExtent,coordinate),(0,ol_extent.f3)(hitExtent,resolution*(this.renderBuffer_+hitTolerance),hitExtent));var builderType,indexes=function getPixelIndexArray(radius){if(void 0!==circlePixelIndexArrayCache[radius])return circlePixelIndexArrayCache[radius];for(var size=2*radius+1,maxDistanceSq=radius*radius,distances=new Array(maxDistanceSq+1),i=0;i<=radius;++i)for(var j=0;j<=radius;++j){var distanceSq=i*i+j*j;if(distanceSq>maxDistanceSq)break;var distance=distances[distanceSq];distance||(distance=[],distances[distanceSq]=distance),distance.push(4*((radius+i)*size+(radius+j))+3),i>0&&distance.push(4*((radius-i)*size+(radius+j))+3),j>0&&(distance.push(4*((radius+i)*size+(radius-j))+3),i>0&&distance.push(4*((radius-i)*size+(radius-j))+3))}for(var pixelIndex=[],ii=(i=0,distances.length);i<ii;++i)distances[i]&&pixelIndex.push.apply(pixelIndex,distances[i]);return circlePixelIndexArrayCache[radius]=pixelIndex,pixelIndex}(hitTolerance);function featureCallback(feature,geometry){for(var imageData=context.getImageData(0,0,contextSize,contextSize).data,i_1=0,ii=indexes.length;i_1<ii;i_1++)if(imageData[indexes[i_1]]>0){if(!declutteredFeatures||"Image"!==builderType&&"Text"!==builderType||-1!==declutteredFeatures.indexOf(feature)){var idx=(indexes[i_1]-3)/4,x=hitTolerance-idx%contextSize,y=hitTolerance-(idx/contextSize|0),result_1=callback(feature,geometry,x*x+y*y);if(result_1)return result_1}context.clearRect(0,0,contextSize,contextSize);break}}var i,j,executors,executor,result,zs=Object.keys(this.executorsByZIndex_).map(Number);for(zs.sort(array.kK),i=zs.length-1;i>=0;--i){var zIndexKey=zs[i].toString();for(executors=this.executorsByZIndex_[zIndexKey],j=ORDER.length-1;j>=0;--j)if(void 0!==(executor=executors[builderType=ORDER[j]])&&(result=executor.executeHitDetection(context,transform,rotation,featureCallback,hitExtent)))return result}},ExecutorGroup.prototype.getClipCoords=function(transform){var maxExtent=this.maxExtent_;if(!maxExtent)return null;var minX=maxExtent[0],minY=maxExtent[1],maxX=maxExtent[2],maxY=maxExtent[3],flatClipCoords=[minX,minY,minX,maxY,maxX,maxY,maxX,minY];return(0,flat_transform.vT)(flatClipCoords,0,8,2,transform,flatClipCoords),flatClipCoords},ExecutorGroup.prototype.isEmpty=function(){return(0,obj.xb)(this.executorsByZIndex_)},ExecutorGroup.prototype.execute=function(context,contextScale,transform,viewRotation,snapToPixel,opt_builderTypes,opt_declutterTree){var zs=Object.keys(this.executorsByZIndex_).map(Number);zs.sort(array.kK),this.maxExtent_&&(context.save(),this.clip(context,transform));var i,ii,j,jj,replays,replay,builderTypes=opt_builderTypes||ORDER;for(opt_declutterTree&&zs.reverse(),i=0,ii=zs.length;i<ii;++i){var zIndexKey=zs[i].toString();for(replays=this.executorsByZIndex_[zIndexKey],j=0,jj=builderTypes.length;j<jj;++j){void 0!==(replay=replays[builderTypes[j]])&&replay.execute(context,contextScale,transform,viewRotation,snapToPixel,opt_declutterTree)}}this.maxExtent_&&context.restore()},ExecutorGroup}(),circlePixelIndexArrayCache={};const canvas_ExecutorGroup=ExecutorGroup;var ViewHint=__webpack_require__("./node_modules/ol/ViewHint.js"),SimpleGeometry=__webpack_require__("./node_modules/ol/geom/SimpleGeometry.js"),Immediate_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const Immediate=function(_super){function CanvasImmediateRenderer(context,pixelRatio,extent,transform,viewRotation,opt_squaredTolerance,opt_userTransform){var _this=_super.call(this)||this;return _this.context_=context,_this.pixelRatio_=pixelRatio,_this.extent_=extent,_this.transform_=transform,_this.viewRotation_=viewRotation,_this.squaredTolerance_=opt_squaredTolerance,_this.userTransform_=opt_userTransform,_this.contextFillState_=null,_this.contextStrokeState_=null,_this.contextTextState_=null,_this.fillState_=null,_this.strokeState_=null,_this.image_=null,_this.imageAnchorX_=0,_this.imageAnchorY_=0,_this.imageHeight_=0,_this.imageOpacity_=0,_this.imageOriginX_=0,_this.imageOriginY_=0,_this.imageRotateWithView_=!1,_this.imageRotation_=0,_this.imageScale_=[0,0],_this.imageWidth_=0,_this.text_="",_this.textOffsetX_=0,_this.textOffsetY_=0,_this.textRotateWithView_=!1,_this.textRotation_=0,_this.textScale_=[0,0],_this.textFillState_=null,_this.textStrokeState_=null,_this.textState_=null,_this.pixelCoordinates_=[],_this.tmpLocalTransform_=(0,ol_transform.Ue)(),_this}return Immediate_extends(CanvasImmediateRenderer,_super),CanvasImmediateRenderer.prototype.drawImages_=function(flatCoordinates,offset,end,stride){if(this.image_){var pixelCoordinates=(0,flat_transform.vT)(flatCoordinates,offset,end,stride,this.transform_,this.pixelCoordinates_),context=this.context_,localTransform=this.tmpLocalTransform_,alpha=context.globalAlpha;1!=this.imageOpacity_&&(context.globalAlpha=alpha*this.imageOpacity_);var rotation=this.imageRotation_;this.imageRotateWithView_&&(rotation+=this.viewRotation_);for(var i=0,ii=pixelCoordinates.length;i<ii;i+=2){var x=pixelCoordinates[i]-this.imageAnchorX_,y=pixelCoordinates[i+1]-this.imageAnchorY_;if(0!==rotation||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var centerX=x+this.imageAnchorX_,centerY=y+this.imageAnchorY_;(0,ol_transform.qC)(localTransform,centerX,centerY,1,1,rotation,-centerX,-centerY),context.setTransform.apply(context,localTransform),context.translate(centerX,centerY),context.scale(this.imageScale_[0],this.imageScale_[1]),context.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),context.setTransform(1,0,0,1,0,0)}else context.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,x,y,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(context.globalAlpha=alpha)}},CanvasImmediateRenderer.prototype.drawText_=function(flatCoordinates,offset,end,stride){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var pixelCoordinates=(0,flat_transform.vT)(flatCoordinates,offset,end,stride,this.transform_,this.pixelCoordinates_),context=this.context_,rotation=this.textRotation_;for(this.textRotateWithView_&&(rotation+=this.viewRotation_);offset<end;offset+=stride){var x=pixelCoordinates[offset]+this.textOffsetX_,y=pixelCoordinates[offset+1]+this.textOffsetY_;if(0!==rotation||1!=this.textScale_[0]||1!=this.textScale_[1]){var localTransform=(0,ol_transform.qC)(this.tmpLocalTransform_,x,y,1,1,rotation,-x,-y);context.setTransform.apply(context,localTransform),context.translate(x,y),context.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&context.strokeText(this.text_,0,0),this.textFillState_&&context.fillText(this.text_,0,0),context.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&context.strokeText(this.text_,x,y),this.textFillState_&&context.fillText(this.text_,x,y)}}},CanvasImmediateRenderer.prototype.moveToLineTo_=function(flatCoordinates,offset,end,stride,close){var context=this.context_,pixelCoordinates=(0,flat_transform.vT)(flatCoordinates,offset,end,stride,this.transform_,this.pixelCoordinates_);context.moveTo(pixelCoordinates[0],pixelCoordinates[1]);var length=pixelCoordinates.length;close&&(length-=2);for(var i=2;i<length;i+=2)context.lineTo(pixelCoordinates[i],pixelCoordinates[i+1]);return close&&context.closePath(),end},CanvasImmediateRenderer.prototype.drawRings_=function(flatCoordinates,offset,ends,stride){for(var i=0,ii=ends.length;i<ii;++i)offset=this.moveToLineTo_(flatCoordinates,offset,ends[i],stride,!0);return offset},CanvasImmediateRenderer.prototype.drawCircle=function(geometry){if((0,ol_extent.kK)(this.extent_,geometry.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var pixelCoordinates=(0,SimpleGeometry.Kr)(geometry,this.transform_,this.pixelCoordinates_),dx=pixelCoordinates[2]-pixelCoordinates[0],dy=pixelCoordinates[3]-pixelCoordinates[1],radius=Math.sqrt(dx*dx+dy*dy),context=this.context_;context.beginPath(),context.arc(pixelCoordinates[0],pixelCoordinates[1],radius,0,2*Math.PI),this.fillState_&&context.fill(),this.strokeState_&&context.stroke()}""!==this.text_&&this.drawText_(geometry.getCenter(),0,2,2)}},CanvasImmediateRenderer.prototype.setStyle=function(style){this.setFillStrokeStyle(style.getFill(),style.getStroke()),this.setImageStyle(style.getImage()),this.setTextStyle(style.getText())},CanvasImmediateRenderer.prototype.setTransform=function(transform){this.transform_=transform},CanvasImmediateRenderer.prototype.drawGeometry=function(geometry){switch(geometry.getType()){case"Point":this.drawPoint(geometry);break;case"LineString":this.drawLineString(geometry);break;case"Polygon":this.drawPolygon(geometry);break;case"MultiPoint":this.drawMultiPoint(geometry);break;case"MultiLineString":this.drawMultiLineString(geometry);break;case"MultiPolygon":this.drawMultiPolygon(geometry);break;case"GeometryCollection":this.drawGeometryCollection(geometry);break;case"Circle":this.drawCircle(geometry)}},CanvasImmediateRenderer.prototype.drawFeature=function(feature,style){var geometry=style.getGeometryFunction()(feature);geometry&&(0,ol_extent.kK)(this.extent_,geometry.getExtent())&&(this.setStyle(style),this.drawGeometry(geometry))},CanvasImmediateRenderer.prototype.drawGeometryCollection=function(geometry){for(var geometries=geometry.getGeometriesArray(),i=0,ii=geometries.length;i<ii;++i)this.drawGeometry(geometries[i])},CanvasImmediateRenderer.prototype.drawPoint=function(geometry){this.squaredTolerance_&&(geometry=geometry.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var flatCoordinates=geometry.getFlatCoordinates(),stride=geometry.getStride();this.image_&&this.drawImages_(flatCoordinates,0,flatCoordinates.length,stride),""!==this.text_&&this.drawText_(flatCoordinates,0,flatCoordinates.length,stride)},CanvasImmediateRenderer.prototype.drawMultiPoint=function(geometry){this.squaredTolerance_&&(geometry=geometry.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var flatCoordinates=geometry.getFlatCoordinates(),stride=geometry.getStride();this.image_&&this.drawImages_(flatCoordinates,0,flatCoordinates.length,stride),""!==this.text_&&this.drawText_(flatCoordinates,0,flatCoordinates.length,stride)},CanvasImmediateRenderer.prototype.drawLineString=function(geometry){if(this.squaredTolerance_&&(geometry=geometry.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,ol_extent.kK)(this.extent_,geometry.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var context=this.context_,flatCoordinates=geometry.getFlatCoordinates();context.beginPath(),this.moveToLineTo_(flatCoordinates,0,flatCoordinates.length,geometry.getStride(),!1),context.stroke()}if(""!==this.text_){var flatMidpoint=geometry.getFlatMidpoint();this.drawText_(flatMidpoint,0,2,2)}}},CanvasImmediateRenderer.prototype.drawMultiLineString=function(geometry){this.squaredTolerance_&&(geometry=geometry.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var geometryExtent=geometry.getExtent();if((0,ol_extent.kK)(this.extent_,geometryExtent)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var context=this.context_,flatCoordinates=geometry.getFlatCoordinates(),offset=0,ends=geometry.getEnds(),stride=geometry.getStride();context.beginPath();for(var i=0,ii=ends.length;i<ii;++i)offset=this.moveToLineTo_(flatCoordinates,offset,ends[i],stride,!1);context.stroke()}if(""!==this.text_){var flatMidpoints=geometry.getFlatMidpoints();this.drawText_(flatMidpoints,0,flatMidpoints.length,2)}}},CanvasImmediateRenderer.prototype.drawPolygon=function(geometry){if(this.squaredTolerance_&&(geometry=geometry.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,ol_extent.kK)(this.extent_,geometry.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var context=this.context_;context.beginPath(),this.drawRings_(geometry.getOrientedFlatCoordinates(),0,geometry.getEnds(),geometry.getStride()),this.fillState_&&context.fill(),this.strokeState_&&context.stroke()}if(""!==this.text_){var flatInteriorPoint=geometry.getFlatInteriorPoint();this.drawText_(flatInteriorPoint,0,2,2)}}},CanvasImmediateRenderer.prototype.drawMultiPolygon=function(geometry){if(this.squaredTolerance_&&(geometry=geometry.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,ol_extent.kK)(this.extent_,geometry.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var context=this.context_,flatCoordinates=geometry.getOrientedFlatCoordinates(),offset=0,endss=geometry.getEndss(),stride=geometry.getStride();context.beginPath();for(var i=0,ii=endss.length;i<ii;++i){var ends=endss[i];offset=this.drawRings_(flatCoordinates,offset,ends,stride)}this.fillState_&&context.fill(),this.strokeState_&&context.stroke()}if(""!==this.text_){var flatInteriorPoints=geometry.getFlatInteriorPoints();this.drawText_(flatInteriorPoints,0,flatInteriorPoints.length,2)}}},CanvasImmediateRenderer.prototype.setContextFillState_=function(fillState){var context=this.context_,contextFillState=this.contextFillState_;contextFillState?contextFillState.fillStyle!=fillState.fillStyle&&(contextFillState.fillStyle=fillState.fillStyle,context.fillStyle=fillState.fillStyle):(context.fillStyle=fillState.fillStyle,this.contextFillState_={fillStyle:fillState.fillStyle})},CanvasImmediateRenderer.prototype.setContextStrokeState_=function(strokeState){var context=this.context_,contextStrokeState=this.contextStrokeState_;contextStrokeState?(contextStrokeState.lineCap!=strokeState.lineCap&&(contextStrokeState.lineCap=strokeState.lineCap,context.lineCap=strokeState.lineCap),context.setLineDash&&((0,array.fS)(contextStrokeState.lineDash,strokeState.lineDash)||context.setLineDash(contextStrokeState.lineDash=strokeState.lineDash),contextStrokeState.lineDashOffset!=strokeState.lineDashOffset&&(contextStrokeState.lineDashOffset=strokeState.lineDashOffset,context.lineDashOffset=strokeState.lineDashOffset)),contextStrokeState.lineJoin!=strokeState.lineJoin&&(contextStrokeState.lineJoin=strokeState.lineJoin,context.lineJoin=strokeState.lineJoin),contextStrokeState.lineWidth!=strokeState.lineWidth&&(contextStrokeState.lineWidth=strokeState.lineWidth,context.lineWidth=strokeState.lineWidth),contextStrokeState.miterLimit!=strokeState.miterLimit&&(contextStrokeState.miterLimit=strokeState.miterLimit,context.miterLimit=strokeState.miterLimit),contextStrokeState.strokeStyle!=strokeState.strokeStyle&&(contextStrokeState.strokeStyle=strokeState.strokeStyle,context.strokeStyle=strokeState.strokeStyle)):(context.lineCap=strokeState.lineCap,context.setLineDash&&(context.setLineDash(strokeState.lineDash),context.lineDashOffset=strokeState.lineDashOffset),context.lineJoin=strokeState.lineJoin,context.lineWidth=strokeState.lineWidth,context.miterLimit=strokeState.miterLimit,context.strokeStyle=strokeState.strokeStyle,this.contextStrokeState_={lineCap:strokeState.lineCap,lineDash:strokeState.lineDash,lineDashOffset:strokeState.lineDashOffset,lineJoin:strokeState.lineJoin,lineWidth:strokeState.lineWidth,miterLimit:strokeState.miterLimit,strokeStyle:strokeState.strokeStyle})},CanvasImmediateRenderer.prototype.setContextTextState_=function(textState){var context=this.context_,contextTextState=this.contextTextState_,textAlign=textState.textAlign?textState.textAlign:render_canvas.PH;contextTextState?(contextTextState.font!=textState.font&&(contextTextState.font=textState.font,context.font=textState.font),contextTextState.textAlign!=textAlign&&(contextTextState.textAlign=textAlign,context.textAlign=textAlign),contextTextState.textBaseline!=textState.textBaseline&&(contextTextState.textBaseline=textState.textBaseline,context.textBaseline=textState.textBaseline)):(context.font=textState.font,context.textAlign=textAlign,context.textBaseline=textState.textBaseline,this.contextTextState_={font:textState.font,textAlign,textBaseline:textState.textBaseline})},CanvasImmediateRenderer.prototype.setFillStrokeStyle=function(fillStyle,strokeStyle){var _this=this;if(fillStyle){var fillStyleColor=fillStyle.getColor();this.fillState_={fillStyle:(0,colorlike.y)(fillStyleColor||render_canvas.bL)}}else this.fillState_=null;if(strokeStyle){var strokeStyleColor=strokeStyle.getColor(),strokeStyleLineCap=strokeStyle.getLineCap(),strokeStyleLineDash=strokeStyle.getLineDash(),strokeStyleLineDashOffset=strokeStyle.getLineDashOffset(),strokeStyleLineJoin=strokeStyle.getLineJoin(),strokeStyleWidth=strokeStyle.getWidth(),strokeStyleMiterLimit=strokeStyle.getMiterLimit(),lineDash=strokeStyleLineDash||render_canvas.X9;this.strokeState_={lineCap:void 0!==strokeStyleLineCap?strokeStyleLineCap:render_canvas.mb,lineDash:1===this.pixelRatio_?lineDash:lineDash.map((function(n){return n*_this.pixelRatio_})),lineDashOffset:(strokeStyleLineDashOffset||render_canvas.He)*this.pixelRatio_,lineJoin:void 0!==strokeStyleLineJoin?strokeStyleLineJoin:render_canvas.rc,lineWidth:(void 0!==strokeStyleWidth?strokeStyleWidth:render_canvas.yC)*this.pixelRatio_,miterLimit:void 0!==strokeStyleMiterLimit?strokeStyleMiterLimit:render_canvas.V4,strokeStyle:(0,colorlike.y)(strokeStyleColor||render_canvas.Tx)}}else this.strokeState_=null},CanvasImmediateRenderer.prototype.setImageStyle=function(imageStyle){var imageSize;if(imageStyle&&(imageSize=imageStyle.getSize())){var imageAnchor=imageStyle.getAnchor(),imageOrigin=imageStyle.getOrigin();this.image_=imageStyle.getImage(this.pixelRatio_),this.imageAnchorX_=imageAnchor[0]*this.pixelRatio_,this.imageAnchorY_=imageAnchor[1]*this.pixelRatio_,this.imageHeight_=imageSize[1]*this.pixelRatio_,this.imageOpacity_=imageStyle.getOpacity(),this.imageOriginX_=imageOrigin[0],this.imageOriginY_=imageOrigin[1],this.imageRotateWithView_=imageStyle.getRotateWithView(),this.imageRotation_=imageStyle.getRotation(),this.imageScale_=imageStyle.getScaleArray(),this.imageWidth_=imageSize[0]*this.pixelRatio_}else this.image_=null},CanvasImmediateRenderer.prototype.setTextStyle=function(textStyle){if(textStyle){var textFillStyle=textStyle.getFill();if(textFillStyle){var textFillStyleColor=textFillStyle.getColor();this.textFillState_={fillStyle:(0,colorlike.y)(textFillStyleColor||render_canvas.bL)}}else this.textFillState_=null;var textStrokeStyle=textStyle.getStroke();if(textStrokeStyle){var textStrokeStyleColor=textStrokeStyle.getColor(),textStrokeStyleLineCap=textStrokeStyle.getLineCap(),textStrokeStyleLineDash=textStrokeStyle.getLineDash(),textStrokeStyleLineDashOffset=textStrokeStyle.getLineDashOffset(),textStrokeStyleLineJoin=textStrokeStyle.getLineJoin(),textStrokeStyleWidth=textStrokeStyle.getWidth(),textStrokeStyleMiterLimit=textStrokeStyle.getMiterLimit();this.textStrokeState_={lineCap:void 0!==textStrokeStyleLineCap?textStrokeStyleLineCap:render_canvas.mb,lineDash:textStrokeStyleLineDash||render_canvas.X9,lineDashOffset:textStrokeStyleLineDashOffset||render_canvas.He,lineJoin:void 0!==textStrokeStyleLineJoin?textStrokeStyleLineJoin:render_canvas.rc,lineWidth:void 0!==textStrokeStyleWidth?textStrokeStyleWidth:render_canvas.yC,miterLimit:void 0!==textStrokeStyleMiterLimit?textStrokeStyleMiterLimit:render_canvas.V4,strokeStyle:(0,colorlike.y)(textStrokeStyleColor||render_canvas.Tx)}}else this.textStrokeState_=null;var textFont=textStyle.getFont(),textOffsetX=textStyle.getOffsetX(),textOffsetY=textStyle.getOffsetY(),textRotateWithView=textStyle.getRotateWithView(),textRotation=textStyle.getRotation(),textScale=textStyle.getScaleArray(),textText=textStyle.getText(),textTextAlign=textStyle.getTextAlign(),textTextBaseline=textStyle.getTextBaseline();this.textState_={font:void 0!==textFont?textFont:render_canvas.Df,textAlign:void 0!==textTextAlign?textTextAlign:render_canvas.PH,textBaseline:void 0!==textTextBaseline?textTextBaseline:render_canvas.ru},this.text_=void 0!==textText?Array.isArray(textText)?textText.reduce((function(acc,t,i){return acc+(i%2?" ":t)}),""):textText:"",this.textOffsetX_=void 0!==textOffsetX?this.pixelRatio_*textOffsetX:0,this.textOffsetY_=void 0!==textOffsetY?this.pixelRatio_*textOffsetY:0,this.textRotateWithView_=void 0!==textRotateWithView&&textRotateWithView,this.textRotation_=void 0!==textRotation?textRotation:0,this.textScale_=[this.pixelRatio_*textScale[0],this.pixelRatio_*textScale[1]]}else this.text_=""},CanvasImmediateRenderer}(render_VectorContext),IconAnchorUnits_FRACTION="fraction",IconAnchorUnits_PIXELS="pixels";var EventType=__webpack_require__("./node_modules/ol/events/EventType.js");const IconOrigin_BOTTOM_LEFT="bottom-left",IconOrigin_BOTTOM_RIGHT="bottom-right",IconOrigin_TOP_LEFT="top-left",IconOrigin_TOP_RIGHT="top-right";var ImageState=__webpack_require__("./node_modules/ol/ImageState.js"),style_Image=__webpack_require__("./node_modules/ol/style/Image.js"),color=__webpack_require__("./node_modules/ol/color.js"),asserts=__webpack_require__("./node_modules/ol/asserts.js"),Target=__webpack_require__("./node_modules/ol/events/Target.js"),IconImageCache=__webpack_require__("./node_modules/ol/style/IconImageCache.js"),ol_Image=__webpack_require__("./node_modules/ol/Image.js"),IconImage_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),taintedTestContext=null,IconImage=function(_super){function IconImage(image,src,size,crossOrigin,imageState,color){var _this=_super.call(this)||this;return _this.hitDetectionImage_=null,_this.image_=image||new Image,null!==crossOrigin&&(_this.image_.crossOrigin=crossOrigin),_this.canvas_={},_this.color_=color,_this.unlisten_=null,_this.imageState_=imageState,_this.size_=size,_this.src_=src,_this.tainted_,_this}return IconImage_extends(IconImage,_super),IconImage.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===ImageState.Z.LOADED){taintedTestContext||(taintedTestContext=(0,dom.E4)(1,1)),taintedTestContext.drawImage(this.image_,0,0);try{taintedTestContext.getImageData(0,0,1,1),this.tainted_=!1}catch(e){taintedTestContext=null,this.tainted_=!0}}return!0===this.tainted_},IconImage.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(EventType.Z.CHANGE)},IconImage.prototype.handleImageError_=function(){this.imageState_=ImageState.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},IconImage.prototype.handleImageLoad_=function(){this.imageState_=ImageState.Z.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},IconImage.prototype.getImage=function(pixelRatio){return this.replaceColor_(pixelRatio),this.canvas_[pixelRatio]?this.canvas_[pixelRatio]:this.image_},IconImage.prototype.getPixelRatio=function(pixelRatio){return this.replaceColor_(pixelRatio),this.canvas_[pixelRatio]?pixelRatio:1},IconImage.prototype.getImageState=function(){return this.imageState_},IconImage.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var width=this.size_[0],height=this.size_[1],context=(0,dom.E4)(width,height);context.fillRect(0,0,width,height),this.hitDetectionImage_=context.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},IconImage.prototype.getSize=function(){return this.size_},IconImage.prototype.getSrc=function(){return this.src_},IconImage.prototype.load=function(){if(this.imageState_==ImageState.Z.IDLE){this.imageState_=ImageState.Z.LOADING;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=(0,ol_Image.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},IconImage.prototype.replaceColor_=function(pixelRatio){if(this.color_&&!this.canvas_[pixelRatio]&&this.imageState_===ImageState.Z.LOADED){var canvas=document.createElement("canvas");this.canvas_[pixelRatio]=canvas,canvas.width=Math.ceil(this.image_.width*pixelRatio),canvas.height=Math.ceil(this.image_.height*pixelRatio);var ctx=canvas.getContext("2d");if(ctx.scale(pixelRatio,pixelRatio),ctx.drawImage(this.image_,0,0),ctx.globalCompositeOperation="multiply","multiply"===ctx.globalCompositeOperation||this.isTainted_())ctx.fillStyle=(0,color.XC)(this.color_),ctx.fillRect(0,0,canvas.width/pixelRatio,canvas.height/pixelRatio),ctx.globalCompositeOperation="destination-in",ctx.drawImage(this.image_,0,0);else{for(var imgData=ctx.getImageData(0,0,canvas.width,canvas.height),data=imgData.data,r=this.color_[0]/255,g=this.color_[1]/255,b=this.color_[2]/255,a=this.color_[3],i=0,ii=data.length;i<ii;i+=4)data[i]*=r,data[i+1]*=g,data[i+2]*=b,data[i+3]*=a;ctx.putImageData(imgData,0,0)}}},IconImage.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},IconImage}(Target.Z);var Icon_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),Icon=function(_super){function Icon(opt_options){var _this=this,options=opt_options||{},opacity=void 0!==options.opacity?options.opacity:1,rotation=void 0!==options.rotation?options.rotation:0,scale=void 0!==options.scale?options.scale:1,rotateWithView=void 0!==options.rotateWithView&&options.rotateWithView;(_this=_super.call(this,{opacity,rotation,scale,displacement:void 0!==options.displacement?options.displacement:[0,0],rotateWithView,declutterMode:options.declutterMode})||this).anchor_=void 0!==options.anchor?options.anchor:[.5,.5],_this.normalizedAnchor_=null,_this.anchorOrigin_=void 0!==options.anchorOrigin?options.anchorOrigin:IconOrigin_TOP_LEFT,_this.anchorXUnits_=void 0!==options.anchorXUnits?options.anchorXUnits:IconAnchorUnits_FRACTION,_this.anchorYUnits_=void 0!==options.anchorYUnits?options.anchorYUnits:IconAnchorUnits_FRACTION,_this.crossOrigin_=void 0!==options.crossOrigin?options.crossOrigin:null;var image=void 0!==options.img?options.img:null;_this.imgSize_=options.imgSize;var src=options.src;(0,asserts.h)(!(void 0!==src&&image),4),(0,asserts.h)(!image||image&&_this.imgSize_,5),void 0!==src&&0!==src.length||!image||(src=image.src||(0,util.sq)(image)),(0,asserts.h)(void 0!==src&&src.length>0,6);var imageState=void 0!==options.src?ImageState.Z.IDLE:ImageState.Z.LOADED;return _this.color_=void 0!==options.color?(0,color._2)(options.color):null,_this.iconImage_=function get(image,src,size,crossOrigin,imageState,color){var iconImage=IconImageCache.c.get(src,crossOrigin,color);return iconImage||(iconImage=new IconImage(image,src,size,crossOrigin,imageState,color),IconImageCache.c.set(src,crossOrigin,color,iconImage)),iconImage}(image,src,void 0!==_this.imgSize_?_this.imgSize_:null,_this.crossOrigin_,imageState,_this.color_),_this.offset_=void 0!==options.offset?options.offset:[0,0],_this.offsetOrigin_=void 0!==options.offsetOrigin?options.offsetOrigin:IconOrigin_TOP_LEFT,_this.origin_=null,_this.size_=void 0!==options.size?options.size:null,_this}return Icon_extends(Icon,_super),Icon.prototype.clone=function(){var scale=this.getScale();return new Icon({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(scale)?scale.slice():scale,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},Icon.prototype.getAnchor=function(){var anchor=this.normalizedAnchor_;if(!anchor){anchor=this.anchor_;var size=this.getSize();if(this.anchorXUnits_==IconAnchorUnits_FRACTION||this.anchorYUnits_==IconAnchorUnits_FRACTION){if(!size)return null;anchor=this.anchor_.slice(),this.anchorXUnits_==IconAnchorUnits_FRACTION&&(anchor[0]*=size[0]),this.anchorYUnits_==IconAnchorUnits_FRACTION&&(anchor[1]*=size[1])}if(this.anchorOrigin_!=IconOrigin_TOP_LEFT){if(!size)return null;anchor===this.anchor_&&(anchor=this.anchor_.slice()),this.anchorOrigin_!=IconOrigin_TOP_RIGHT&&this.anchorOrigin_!=IconOrigin_BOTTOM_RIGHT||(anchor[0]=-anchor[0]+size[0]),this.anchorOrigin_!=IconOrigin_BOTTOM_LEFT&&this.anchorOrigin_!=IconOrigin_BOTTOM_RIGHT||(anchor[1]=-anchor[1]+size[1])}this.normalizedAnchor_=anchor}var displacement=this.getDisplacement();return[anchor[0]-displacement[0],anchor[1]+displacement[1]]},Icon.prototype.setAnchor=function(anchor){this.anchor_=anchor,this.normalizedAnchor_=null},Icon.prototype.getColor=function(){return this.color_},Icon.prototype.getImage=function(pixelRatio){return this.iconImage_.getImage(pixelRatio)},Icon.prototype.getPixelRatio=function(pixelRatio){return this.iconImage_.getPixelRatio(pixelRatio)},Icon.prototype.getImageSize=function(){return this.iconImage_.getSize()},Icon.prototype.getImageState=function(){return this.iconImage_.getImageState()},Icon.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},Icon.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var offset=this.offset_;if(this.offsetOrigin_!=IconOrigin_TOP_LEFT){var size=this.getSize(),iconImageSize=this.iconImage_.getSize();if(!size||!iconImageSize)return null;offset=offset.slice(),this.offsetOrigin_!=IconOrigin_TOP_RIGHT&&this.offsetOrigin_!=IconOrigin_BOTTOM_RIGHT||(offset[0]=iconImageSize[0]-size[0]-offset[0]),this.offsetOrigin_!=IconOrigin_BOTTOM_LEFT&&this.offsetOrigin_!=IconOrigin_BOTTOM_RIGHT||(offset[1]=iconImageSize[1]-size[1]-offset[1])}return this.origin_=offset,this.origin_},Icon.prototype.getSrc=function(){return this.iconImage_.getSrc()},Icon.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},Icon.prototype.listenImageChange=function(listener){this.iconImage_.addEventListener(EventType.Z.CHANGE,listener)},Icon.prototype.load=function(){this.iconImage_.load()},Icon.prototype.unlistenImageChange=function(listener){this.iconImage_.removeEventListener(EventType.Z.CHANGE,listener)},Icon}(style_Image.Z);const style_Icon=Icon;var SIMPLIFY_TOLERANCE=.5,GEOMETRY_RENDERERS={Point:function renderPointGeometry(builderGroup,geometry,style,feature,opt_declutterBuilderGroup){var declutterImageWithText,imageStyle=style.getImage(),textStyle=style.getText();if(imageStyle){if(imageStyle.getImageState()!=ImageState.Z.LOADED)return;var imageBuilderGroup=builderGroup;if(opt_declutterBuilderGroup){var declutterMode=imageStyle.getDeclutterMode();if("none"!==declutterMode)if(imageBuilderGroup=opt_declutterBuilderGroup,"obstacle"===declutterMode){var imageReplay_1=builderGroup.getBuilder(style.getZIndex(),"Image");imageReplay_1.setImageStyle(imageStyle,declutterImageWithText),imageReplay_1.drawPoint(geometry,feature)}else textStyle&&textStyle.getText()&&(declutterImageWithText={})}var imageReplay=imageBuilderGroup.getBuilder(style.getZIndex(),"Image");imageReplay.setImageStyle(imageStyle,declutterImageWithText),imageReplay.drawPoint(geometry,feature)}if(textStyle&&textStyle.getText()){var textBuilderGroup=builderGroup;opt_declutterBuilderGroup&&(textBuilderGroup=opt_declutterBuilderGroup);var textReplay=textBuilderGroup.getBuilder(style.getZIndex(),"Text");textReplay.setTextStyle(textStyle,declutterImageWithText),textReplay.drawText(geometry,feature)}},LineString:function renderLineStringGeometry(builderGroup,geometry,style,feature,opt_declutterBuilderGroup){var strokeStyle=style.getStroke();if(strokeStyle){var lineStringReplay=builderGroup.getBuilder(style.getZIndex(),"LineString");lineStringReplay.setFillStrokeStyle(null,strokeStyle),lineStringReplay.drawLineString(geometry,feature)}var textStyle=style.getText();if(textStyle&&textStyle.getText()){var textReplay=(opt_declutterBuilderGroup||builderGroup).getBuilder(style.getZIndex(),"Text");textReplay.setTextStyle(textStyle),textReplay.drawText(geometry,feature)}},Polygon:function renderPolygonGeometry(builderGroup,geometry,style,feature,opt_declutterBuilderGroup){var fillStyle=style.getFill(),strokeStyle=style.getStroke();if(fillStyle||strokeStyle){var polygonReplay=builderGroup.getBuilder(style.getZIndex(),"Polygon");polygonReplay.setFillStrokeStyle(fillStyle,strokeStyle),polygonReplay.drawPolygon(geometry,feature)}var textStyle=style.getText();if(textStyle&&textStyle.getText()){var textReplay=(opt_declutterBuilderGroup||builderGroup).getBuilder(style.getZIndex(),"Text");textReplay.setTextStyle(textStyle),textReplay.drawText(geometry,feature)}},MultiPoint:function renderMultiPointGeometry(builderGroup,geometry,style,feature,opt_declutterBuilderGroup){var declutterImageWithText,imageStyle=style.getImage(),textStyle=style.getText();if(imageStyle){if(imageStyle.getImageState()!=ImageState.Z.LOADED)return;var imageBuilderGroup=builderGroup;if(opt_declutterBuilderGroup){var declutterMode=imageStyle.getDeclutterMode();if("none"!==declutterMode)if(imageBuilderGroup=opt_declutterBuilderGroup,"obstacle"===declutterMode){var imageReplay_2=builderGroup.getBuilder(style.getZIndex(),"Image");imageReplay_2.setImageStyle(imageStyle,declutterImageWithText),imageReplay_2.drawMultiPoint(geometry,feature)}else textStyle&&textStyle.getText()&&(declutterImageWithText={})}var imageReplay=imageBuilderGroup.getBuilder(style.getZIndex(),"Image");imageReplay.setImageStyle(imageStyle,declutterImageWithText),imageReplay.drawMultiPoint(geometry,feature)}if(textStyle&&textStyle.getText()){var textBuilderGroup=builderGroup;opt_declutterBuilderGroup&&(textBuilderGroup=opt_declutterBuilderGroup);var textReplay=textBuilderGroup.getBuilder(style.getZIndex(),"Text");textReplay.setTextStyle(textStyle,declutterImageWithText),textReplay.drawText(geometry,feature)}},MultiLineString:function renderMultiLineStringGeometry(builderGroup,geometry,style,feature,opt_declutterBuilderGroup){var strokeStyle=style.getStroke();if(strokeStyle){var lineStringReplay=builderGroup.getBuilder(style.getZIndex(),"LineString");lineStringReplay.setFillStrokeStyle(null,strokeStyle),lineStringReplay.drawMultiLineString(geometry,feature)}var textStyle=style.getText();if(textStyle&&textStyle.getText()){var textReplay=(opt_declutterBuilderGroup||builderGroup).getBuilder(style.getZIndex(),"Text");textReplay.setTextStyle(textStyle),textReplay.drawText(geometry,feature)}},MultiPolygon:function renderMultiPolygonGeometry(builderGroup,geometry,style,feature,opt_declutterBuilderGroup){var fillStyle=style.getFill(),strokeStyle=style.getStroke();if(strokeStyle||fillStyle){var polygonReplay=builderGroup.getBuilder(style.getZIndex(),"Polygon");polygonReplay.setFillStrokeStyle(fillStyle,strokeStyle),polygonReplay.drawMultiPolygon(geometry,feature)}var textStyle=style.getText();if(textStyle&&textStyle.getText()){var textReplay=(opt_declutterBuilderGroup||builderGroup).getBuilder(style.getZIndex(),"Text");textReplay.setTextStyle(textStyle),textReplay.drawText(geometry,feature)}},GeometryCollection:function renderGeometryCollectionGeometry(replayGroup,geometry,style,feature,opt_declutterBuilderGroup){var i,ii,geometries=geometry.getGeometriesArray();for(i=0,ii=geometries.length;i<ii;++i){(0,GEOMETRY_RENDERERS[geometries[i].getType()])(replayGroup,geometries[i],style,feature,opt_declutterBuilderGroup)}},Circle:function renderCircleGeometry(builderGroup,geometry,style,feature,opt_declutterBuilderGroup){var fillStyle=style.getFill(),strokeStyle=style.getStroke();if(fillStyle||strokeStyle){var circleReplay=builderGroup.getBuilder(style.getZIndex(),"Circle");circleReplay.setFillStrokeStyle(fillStyle,strokeStyle),circleReplay.drawCircle(geometry,feature)}var textStyle=style.getText();if(textStyle&&textStyle.getText()){var textReplay=(opt_declutterBuilderGroup||builderGroup).getBuilder(style.getZIndex(),"Text");textReplay.setTextStyle(textStyle),textReplay.drawText(geometry,feature)}}};function defaultOrder(feature1,feature2){return parseInt((0,util.sq)(feature1),10)-parseInt((0,util.sq)(feature2),10)}function getTolerance(resolution,pixelRatio){return SIMPLIFY_TOLERANCE*resolution/pixelRatio}function renderFeature(replayGroup,feature,style,squaredTolerance,listener,opt_transform,opt_declutterBuilderGroup){var loading=!1,imageStyle=style.getImage();if(imageStyle){var imageState=imageStyle.getImageState();imageState==ImageState.Z.LOADED||imageState==ImageState.Z.ERROR?imageStyle.unlistenImageChange(listener):(imageState==ImageState.Z.IDLE&&imageStyle.load(),imageStyle.listenImageChange(listener),loading=!0)}return function renderFeatureInternal(replayGroup,feature,style,squaredTolerance,opt_transform,opt_declutterBuilderGroup){var geometry=style.getGeometryFunction()(feature);if(!geometry)return;var simplifiedGeometry=geometry.simplifyTransformed(squaredTolerance,opt_transform),renderer=style.getRenderer();if(renderer)renderGeometry(replayGroup,simplifiedGeometry,style,feature);else{(0,GEOMETRY_RENDERERS[simplifiedGeometry.getType()])(replayGroup,simplifiedGeometry,style,feature,opt_declutterBuilderGroup)}}(replayGroup,feature,style,squaredTolerance,opt_transform,opt_declutterBuilderGroup),loading}function renderGeometry(replayGroup,geometry,style,feature){if("GeometryCollection"!=geometry.getType())replayGroup.getBuilder(style.getZIndex(),"Default").drawCustom(geometry,feature,style.getRenderer(),style.getHitDetectionRenderer());else for(var geometries=geometry.getGeometries(),i=0,ii=geometries.length;i<ii;++i)renderGeometry(replayGroup,geometries[i],style,feature)}var proj=__webpack_require__("./node_modules/ol/proj.js"),coordinate=__webpack_require__("./node_modules/ol/coordinate.js"),VectorLayer_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),CanvasVectorLayerRenderer=function(_super){function CanvasVectorLayerRenderer(vectorLayer){var _this=_super.call(this,vectorLayer)||this;return _this.boundHandleStyleImageChange_=_this.handleStyleImageChange_.bind(_this),_this.animatingOrInteracting_,_this.hitDetectionImageData_=null,_this.renderedFeatures_=null,_this.renderedRevision_=-1,_this.renderedResolution_=NaN,_this.renderedExtent_=(0,ol_extent.lJ)(),_this.wrappedRenderedExtent_=(0,ol_extent.lJ)(),_this.renderedRotation_,_this.renderedCenter_=null,_this.renderedProjection_=null,_this.renderedRenderOrder_=null,_this.replayGroup_=null,_this.replayGroupChanged=!0,_this.declutterExecutorGroup=null,_this.clipping=!0,_this.compositionContext_=null,_this.opacity_=1,_this}return VectorLayer_extends(CanvasVectorLayerRenderer,_super),CanvasVectorLayerRenderer.prototype.renderWorlds=function(executorGroup,frameState,opt_declutterTree){var extent=frameState.extent,viewState=frameState.viewState,center=viewState.center,resolution=viewState.resolution,projection=viewState.projection,rotation=viewState.rotation,projectionExtent=projection.getExtent(),vectorSource=this.getLayer().getSource(),pixelRatio=frameState.pixelRatio,viewHints=frameState.viewHints,snapToPixel=!(viewHints[ViewHint.Z.ANIMATING]||viewHints[ViewHint.Z.INTERACTING]),context=this.compositionContext_,width=Math.round(frameState.size[0]*pixelRatio),height=Math.round(frameState.size[1]*pixelRatio),multiWorld=vectorSource.getWrapX()&&projection.canWrapX(),worldWidth=multiWorld?(0,ol_extent.dz)(projectionExtent):null,endWorld=multiWorld?Math.ceil((extent[2]-projectionExtent[2])/worldWidth)+1:1,world=multiWorld?Math.floor((extent[0]-projectionExtent[0])/worldWidth):0;do{var transform=this.getRenderTransform(center,resolution,rotation,pixelRatio,width,height,world*worldWidth);executorGroup.execute(context,1,transform,rotation,snapToPixel,void 0,opt_declutterTree)}while(++world<endWorld)},CanvasVectorLayerRenderer.prototype.setupCompositionContext_=function(){if(1!==this.opacity_){var compositionContext=(0,dom.E4)(this.context.canvas.width,this.context.canvas.height,canvas_Layer.r);this.compositionContext_=compositionContext}else this.compositionContext_=this.context},CanvasVectorLayerRenderer.prototype.releaseCompositionContext_=function(){if(1!==this.opacity_){var alpha=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=alpha,(0,dom.jy)(this.compositionContext_),canvas_Layer.r.push(this.compositionContext_.canvas),this.compositionContext_=null}},CanvasVectorLayerRenderer.prototype.renderDeclutter=function(frameState){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,frameState,frameState.declutterTree),this.releaseCompositionContext_())},CanvasVectorLayerRenderer.prototype.renderFrame=function(frameState,target){var pixelRatio=frameState.pixelRatio,layerState=frameState.layerStatesArray[frameState.layerIndex];(0,ol_transform.n3)(this.pixelTransform,1/pixelRatio,1/pixelRatio),(0,ol_transform.nb)(this.inversePixelTransform,this.pixelTransform);var canvasTransform=(0,ol_transform.BB)(this.pixelTransform);this.useContainer(target,canvasTransform,this.getBackground(frameState));var context=this.context,canvas=context.canvas,replayGroup=this.replayGroup_,declutterExecutorGroup=this.declutterExecutorGroup;if((!replayGroup||replayGroup.isEmpty())&&(!declutterExecutorGroup||declutterExecutorGroup.isEmpty()))return null;var width=Math.round(frameState.size[0]*pixelRatio),height=Math.round(frameState.size[1]*pixelRatio);canvas.width!=width||canvas.height!=height?(canvas.width=width,canvas.height=height,canvas.style.transform!==canvasTransform&&(canvas.style.transform=canvasTransform)):this.containerReused||context.clearRect(0,0,width,height),this.preRender(context,frameState);var viewState=frameState.viewState,projection=viewState.projection;this.opacity_=layerState.opacity,this.setupCompositionContext_();var clipped=!1,render=!0;if(layerState.extent&&this.clipping){var layerExtent=(0,proj.dY)(layerState.extent,projection);(clipped=(render=(0,ol_extent.kK)(layerExtent,frameState.extent))&&!(0,ol_extent.r4)(layerExtent,frameState.extent))&&this.clipUnrotated(this.compositionContext_,frameState,layerExtent)}return render&&this.renderWorlds(replayGroup,frameState),clipped&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(context,frameState),this.renderedRotation_!==viewState.rotation&&(this.renderedRotation_=viewState.rotation,this.hitDetectionImageData_=null),this.container},CanvasVectorLayerRenderer.prototype.getFeatures=function(pixel){return new Promise(function(resolve){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var size=[this.context.canvas.width,this.context.canvas.height];(0,ol_transform.nn)(this.pixelTransform,size);var center=this.renderedCenter_,resolution=this.renderedResolution_,rotation=this.renderedRotation_,projection=this.renderedProjection_,extent=this.wrappedRenderedExtent_,layer=this.getLayer(),transforms=[],width=.5*size[0],height=.5*size[1];transforms.push(this.getRenderTransform(center,resolution,rotation,.5,width,height,0).slice());var source=layer.getSource(),projectionExtent=projection.getExtent();if(source.getWrapX()&&projection.canWrapX()&&!(0,ol_extent.r4)(projectionExtent,extent)){for(var startX=extent[0],worldWidth=(0,ol_extent.dz)(projectionExtent),world=0,offsetX=void 0;startX<projectionExtent[0];)offsetX=worldWidth*--world,transforms.push(this.getRenderTransform(center,resolution,rotation,.5,width,height,offsetX).slice()),startX+=worldWidth;for(world=0,startX=extent[2];startX>projectionExtent[2];)offsetX=worldWidth*++world,transforms.push(this.getRenderTransform(center,resolution,rotation,.5,width,height,offsetX).slice()),startX-=worldWidth}this.hitDetectionImageData_=function createHitDetectionImageData(size,transforms,features,styleFunction,extent,resolution,rotation){var width=.5*size[0],height=.5*size[1],context=(0,dom.E4)(width,height);context.imageSmoothingEnabled=!1;for(var canvas=context.canvas,renderer=new Immediate(context,.5,extent,null,rotation),featureCount=features.length,indexFactor=Math.floor(16777215/featureCount),featuresByZIndex={},i=1;i<=featureCount;++i){var feature=features[i-1],featureStyleFunction=feature.getStyleFunction()||styleFunction;if(styleFunction){var styles=featureStyleFunction(feature,resolution);if(styles){Array.isArray(styles)||(styles=[styles]);for(var color="#"+("000000"+(i*indexFactor).toString(16)).slice(-6),j=0,jj=styles.length;j<jj;++j){var originalStyle=styles[j],geometry=originalStyle.getGeometryFunction()(feature);if(geometry&&(0,ol_extent.kK)(extent,geometry.getExtent())){var style=originalStyle.clone(),fill=style.getFill();fill&&fill.setColor(color);var stroke=style.getStroke();stroke&&(stroke.setColor(color),stroke.setLineDash(null)),style.setText(void 0);var image=originalStyle.getImage();if(image&&0!==image.getOpacity()){var imgSize=image.getImageSize();if(!imgSize)continue;var imgContext=(0,dom.E4)(imgSize[0],imgSize[1],void 0,{alpha:!1}),img=imgContext.canvas;imgContext.fillStyle=color,imgContext.fillRect(0,0,img.width,img.height),style.setImage(new style_Icon({img,imgSize,anchor:image.getAnchor(),anchorXUnits:IconAnchorUnits_PIXELS,anchorYUnits:IconAnchorUnits_PIXELS,offset:image.getOrigin(),opacity:1,size:image.getSize(),scale:image.getScale(),rotation:image.getRotation(),rotateWithView:image.getRotateWithView()}))}var zIndex=style.getZIndex()||0;(byGeometryType=featuresByZIndex[zIndex])||(byGeometryType={},featuresByZIndex[zIndex]=byGeometryType,byGeometryType.Polygon=[],byGeometryType.Circle=[],byGeometryType.LineString=[],byGeometryType.Point=[]),byGeometryType[geometry.getType().replace("Multi","")].push(geometry,style)}}}}}for(var zIndexKeys=Object.keys(featuresByZIndex).map(Number).sort(array.kK),ii=(i=0,zIndexKeys.length);i<ii;++i){var byGeometryType=featuresByZIndex[zIndexKeys[i]];for(var type in byGeometryType){var geomAndStyle=byGeometryType[type];for(j=0,jj=geomAndStyle.length;j<jj;j+=2){renderer.setStyle(geomAndStyle[j+1]);for(var k=0,kk=transforms.length;k<kk;++k)renderer.setTransform(transforms[k]),renderer.drawGeometry(geomAndStyle[j])}}}return context.getImageData(0,0,canvas.width,canvas.height)}(size,transforms,this.renderedFeatures_,layer.getStyleFunction(),extent,resolution,rotation)}resolve(function hitDetect(pixel,features,imageData){var resultFeatures=[];if(imageData){var x=Math.floor(.5*Math.round(pixel[0])),y=Math.floor(.5*Math.round(pixel[1])),index=4*((0,math.uZ)(x,0,imageData.width-1)+(0,math.uZ)(y,0,imageData.height-1)*imageData.width),r=imageData.data[index],g=imageData.data[index+1],i=imageData.data[index+2]+256*(g+256*r),indexFactor=Math.floor(16777215/features.length);i&&i%indexFactor==0&&resultFeatures.push(features[i/indexFactor-1])}return resultFeatures}(pixel,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},CanvasVectorLayerRenderer.prototype.forEachFeatureAtCoordinate=function(coordinate,frameState,hitTolerance,callback,matches){var _this=this;if(this.replayGroup_){var result,resolution=frameState.viewState.resolution,rotation=frameState.viewState.rotation,layer=this.getLayer(),features={},featureCallback=function(feature,geometry,distanceSq){var key=(0,util.sq)(feature),match=features[key];if(match){if(!0!==match&&distanceSq<match.distanceSq){if(0===distanceSq)return features[key]=!0,matches.splice(matches.lastIndexOf(match),1),callback(feature,layer,geometry);match.geometry=geometry,match.distanceSq=distanceSq}}else{if(0===distanceSq)return features[key]=!0,callback(feature,layer,geometry);matches.push(features[key]={feature,layer,geometry,distanceSq,callback})}},executorGroups=[this.replayGroup_];return this.declutterExecutorGroup&&executorGroups.push(this.declutterExecutorGroup),executorGroups.some((function(executorGroup){return result=executorGroup.forEachFeatureAtCoordinate(coordinate,resolution,rotation,hitTolerance,featureCallback,executorGroup===_this.declutterExecutorGroup&&frameState.declutterTree?frameState.declutterTree.all().map((function(item){return item.value})):null)})),result}},CanvasVectorLayerRenderer.prototype.handleFontsChanged=function(){var layer=this.getLayer();layer.getVisible()&&this.replayGroup_&&layer.changed()},CanvasVectorLayerRenderer.prototype.handleStyleImageChange_=function(event){this.renderIfReadyAndVisible()},CanvasVectorLayerRenderer.prototype.prepareFrame=function(frameState){var vectorLayer=this.getLayer(),vectorSource=vectorLayer.getSource();if(!vectorSource)return!1;var animating=frameState.viewHints[ViewHint.Z.ANIMATING],interacting=frameState.viewHints[ViewHint.Z.INTERACTING],updateWhileAnimating=vectorLayer.getUpdateWhileAnimating(),updateWhileInteracting=vectorLayer.getUpdateWhileInteracting();if(this.ready&&!updateWhileAnimating&&animating||!updateWhileInteracting&&interacting)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var frameStateExtent=frameState.extent,viewState=frameState.viewState,projection=viewState.projection,resolution=viewState.resolution,pixelRatio=frameState.pixelRatio,vectorLayerRevision=vectorLayer.getRevision(),vectorLayerRenderBuffer=vectorLayer.getRenderBuffer(),vectorLayerRenderOrder=vectorLayer.getRenderOrder();void 0===vectorLayerRenderOrder&&(vectorLayerRenderOrder=defaultOrder);var center=viewState.center.slice(),extent=(0,ol_extent.f3)(frameStateExtent,vectorLayerRenderBuffer*resolution),renderedExtent=extent.slice(),loadExtents=[extent.slice()],projectionExtent=projection.getExtent();if(vectorSource.getWrapX()&&projection.canWrapX()&&!(0,ol_extent.r4)(projectionExtent,frameState.extent)){var worldWidth=(0,ol_extent.dz)(projectionExtent),gutter=Math.max((0,ol_extent.dz)(extent)/2,worldWidth);extent[0]=projectionExtent[0]-gutter,extent[2]=projectionExtent[2]+gutter,(0,coordinate.Cf)(center,projection);var loadExtent=(0,ol_extent.Cf)(loadExtents[0],projection);loadExtent[0]<projectionExtent[0]&&loadExtent[2]<projectionExtent[2]?loadExtents.push([loadExtent[0]+worldWidth,loadExtent[1],loadExtent[2]+worldWidth,loadExtent[3]]):loadExtent[0]>projectionExtent[0]&&loadExtent[2]>projectionExtent[2]&&loadExtents.push([loadExtent[0]-worldWidth,loadExtent[1],loadExtent[2]-worldWidth,loadExtent[3]])}if(this.ready&&this.renderedResolution_==resolution&&this.renderedRevision_==vectorLayerRevision&&this.renderedRenderOrder_==vectorLayerRenderOrder&&(0,ol_extent.r4)(this.wrappedRenderedExtent_,extent))return(0,array.fS)(this.renderedExtent_,renderedExtent)||(this.hitDetectionImageData_=null,this.renderedExtent_=renderedExtent),this.renderedCenter_=center,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var declutterBuilderGroup,replayGroup=new canvas_BuilderGroup(getTolerance(resolution,pixelRatio),extent,resolution,pixelRatio);this.getLayer().getDeclutter()&&(declutterBuilderGroup=new canvas_BuilderGroup(getTolerance(resolution,pixelRatio),extent,resolution,pixelRatio));var userTransform,userProjection=(0,proj.Cs)();if(userProjection){for(var i=0,ii=loadExtents.length;i<ii;++i){var extent_1=loadExtents[i],userExtent_1=(0,proj.Fj)(extent_1,projection);vectorSource.loadFeatures(userExtent_1,(0,proj.on)(resolution,projection),userProjection)}userTransform=(0,proj.WO)(userProjection,projection)}else for(i=0,ii=loadExtents.length;i<ii;++i)vectorSource.loadFeatures(loadExtents[i],resolution,projection);var squaredTolerance=function getSquaredTolerance(resolution,pixelRatio){var tolerance=getTolerance(resolution,pixelRatio);return tolerance*tolerance}(resolution,pixelRatio),ready=!0,render=function(feature){var styles,styleFunction=feature.getStyleFunction()||vectorLayer.getStyleFunction();if(styleFunction&&(styles=styleFunction(feature,resolution)),styles){var dirty=this.renderFeature(feature,squaredTolerance,styles,replayGroup,userTransform,declutterBuilderGroup);ready=ready&&!dirty}}.bind(this),userExtent=(0,proj.Fj)(extent,projection),features=vectorSource.getFeaturesInExtent(userExtent);vectorLayerRenderOrder&&features.sort(vectorLayerRenderOrder);for(i=0,ii=features.length;i<ii;++i)render(features[i]);this.renderedFeatures_=features,this.ready=ready;var replayGroupInstructions=replayGroup.finish(),executorGroup=new canvas_ExecutorGroup(extent,resolution,pixelRatio,vectorSource.getOverlaps(),replayGroupInstructions,vectorLayer.getRenderBuffer());return declutterBuilderGroup&&(this.declutterExecutorGroup=new canvas_ExecutorGroup(extent,resolution,pixelRatio,vectorSource.getOverlaps(),declutterBuilderGroup.finish(),vectorLayer.getRenderBuffer())),this.renderedResolution_=resolution,this.renderedRevision_=vectorLayerRevision,this.renderedRenderOrder_=vectorLayerRenderOrder,this.renderedExtent_=renderedExtent,this.wrappedRenderedExtent_=extent,this.renderedCenter_=center,this.renderedProjection_=projection,this.replayGroup_=executorGroup,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},CanvasVectorLayerRenderer.prototype.renderFeature=function(feature,squaredTolerance,styles,builderGroup,opt_transform,opt_declutterBuilderGroup){if(!styles)return!1;var loading=!1;if(Array.isArray(styles))for(var i=0,ii=styles.length;i<ii;++i)loading=renderFeature(builderGroup,feature,styles[i],squaredTolerance,this.boundHandleStyleImageChange_,opt_transform,opt_declutterBuilderGroup)||loading;else loading=renderFeature(builderGroup,feature,styles,squaredTolerance,this.boundHandleStyleImageChange_,opt_transform,opt_declutterBuilderGroup);return loading},CanvasVectorLayerRenderer}(canvas_Layer.Z);const canvas_VectorLayer=CanvasVectorLayerRenderer;var Vector_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const Vector=function(_super){function VectorLayer(opt_options){return _super.call(this,opt_options)||this}return Vector_extends(VectorLayer,_super),VectorLayer.prototype.createRenderer=function(){return new canvas_VectorLayer(this)},VectorLayer}(BaseVector)},"./node_modules/ol/loadingstrategy.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$6:()=>all,VW:()=>bbox});__webpack_require__("./node_modules/ol/proj.js");function all(extent,resolution){return[[-1/0,-1/0,1/0,1/0]]}function bbox(extent,resolution){return[extent]}},"./node_modules/ol/render/Event.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var extendStatics,_events_Event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/events/Event.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const __WEBPACK_DEFAULT_EXPORT__=function(_super){function RenderEvent(type,opt_inversePixelTransform,opt_frameState,opt_context){var _this=_super.call(this,type)||this;return _this.inversePixelTransform=opt_inversePixelTransform,_this.frameState=opt_frameState,_this.context=opt_context,_this}return __extends(RenderEvent,_super),RenderEvent}(_events_Event_js__WEBPACK_IMPORTED_MODULE_0__.ZP)},"./node_modules/ol/render/EventType.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},"./node_modules/ol/render/canvas.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Df:()=>defaultFont,He:()=>defaultLineDashOffset,Kd:()=>measureAndCacheTextWidth,PH:()=>defaultTextAlign,Qx:()=>registerFont,Tx:()=>defaultStrokeStyle,V4:()=>defaultMiterLimit,X9:()=>defaultLineDash,Zw:()=>getTextDimensions,_f:()=>drawImageOrLabel,bL:()=>defaultFillStyle,mb:()=>defaultLineCap,oB:()=>defaultPadding,rc:()=>defaultLineJoin,ru:()=>defaultTextBaseline,sG:()=>checkedFonts,yC:()=>defaultLineWidth});var _Object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/Object.js"),_events_Target_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/events/Target.js"),_has_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/has.js"),_obj_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/obj.js"),_dom_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/dom.js"),_css_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/css.js"),defaultFont="10px sans-serif",defaultFillStyle="#000",defaultLineCap="round",defaultLineDash=[],defaultLineDashOffset=0,defaultLineJoin="round",defaultMiterLimit=10,defaultStrokeStyle="#000",defaultTextAlign="center",defaultTextBaseline="middle",defaultPadding=[0,0,0,0],defaultLineWidth=1,checkedFonts=new _Object_js__WEBPACK_IMPORTED_MODULE_0__.Z;(new _events_Target_js__WEBPACK_IMPORTED_MODULE_1__.Z).setSize=function(){console.warn("labelCache is deprecated.")};var measureFont,measureElement,measureContext=null,textHeights={},registerFont=function(){var interval,referenceWidth,size="32px ",referenceFonts=["monospace","serif"],len=referenceFonts.length,text="wmytzilWMYTZIL@#/&?$%10";function isAvailable(fontStyle,fontWeight,fontFamily){for(var available=!0,i=0;i<len;++i){var referenceFont=referenceFonts[i];if(referenceWidth=measureTextWidth(fontStyle+" "+fontWeight+" "+size+referenceFont,text),fontFamily!=referenceFont){var width=measureTextWidth(fontStyle+" "+fontWeight+" "+size+fontFamily+","+referenceFont,text);available=available&&width!=referenceWidth}}return!!available}function check(){for(var done=!0,fonts=checkedFonts.getKeys(),i=0,ii=fonts.length;i<ii;++i){var font=fonts[i];checkedFonts.get(font)<100&&(isAvailable.apply(this,font.split("\n"))?((0,_obj_js__WEBPACK_IMPORTED_MODULE_2__.ZH)(textHeights),measureContext=null,measureFont=void 0,checkedFonts.set(font,100)):(checkedFonts.set(font,checkedFonts.get(font)+1,!0),done=!1))}done&&(clearInterval(interval),interval=void 0)}return function(fontSpec){var font=(0,_css_js__WEBPACK_IMPORTED_MODULE_3__.p)(fontSpec);if(font)for(var families=font.families,i=0,ii=families.length;i<ii;++i){var family=families[i],key=font.style+"\n"+font.weight+"\n"+family;void 0===checkedFonts.get(key)&&(checkedFonts.set(key,100,!0),isAvailable(font.style,font.weight,family)||(checkedFonts.set(key,0,!0),void 0===interval&&(interval=setInterval(check,32))))}}}(),measureTextHeight=function(fontSpec){var height=textHeights[fontSpec];if(null==height){if(_has_js__WEBPACK_IMPORTED_MODULE_4__.Id){var font=(0,_css_js__WEBPACK_IMPORTED_MODULE_3__.p)(fontSpec),metrics=measureText(fontSpec,"g");height=(isNaN(Number(font.lineHeight))?1.2:Number(font.lineHeight))*(metrics.actualBoundingBoxAscent+metrics.actualBoundingBoxDescent)}else measureElement||((measureElement=document.createElement("div")).innerHTML="M",measureElement.style.minHeight="0",measureElement.style.maxHeight="none",measureElement.style.height="auto",measureElement.style.padding="0",measureElement.style.border="none",measureElement.style.position="absolute",measureElement.style.display="block",measureElement.style.left="-99999px"),measureElement.style.font=fontSpec,document.body.appendChild(measureElement),height=measureElement.offsetHeight,document.body.removeChild(measureElement);textHeights[fontSpec]=height}return height};function measureText(font,text){return measureContext||(measureContext=(0,_dom_js__WEBPACK_IMPORTED_MODULE_5__.E4)(1,1)),font!=measureFont&&(measureContext.font=font,measureFont=measureContext.font),measureContext.measureText(text)}function measureTextWidth(font,text){return measureText(font,text).width}function measureAndCacheTextWidth(font,text,cache){if(text in cache)return cache[text];var width=text.split("\n").reduce((function(prev,curr){return Math.max(prev,measureTextWidth(font,curr))}),0);return cache[text]=width,width}function getTextDimensions(baseStyle,chunks){for(var widths=[],heights=[],lineWidths=[],width=0,lineWidth=0,height=0,lineHeight=0,i=0,ii=chunks.length;i<=ii;i+=2){var text=chunks[i];if("\n"!==text&&i!==ii){var font=chunks[i+1]||baseStyle.font,currentWidth=measureTextWidth(font,text);widths.push(currentWidth),lineWidth+=currentWidth;var currentHeight=measureTextHeight(font);heights.push(currentHeight),lineHeight=Math.max(lineHeight,currentHeight)}else width=Math.max(width,lineWidth),lineWidths.push(lineWidth),lineWidth=0,height+=lineHeight}return{width,height,widths,heights,lineWidths}}function drawImageOrLabel(context,transform,opacity,labelOrImage,originX,originY,w,h,x,y,scale){context.save(),1!==opacity&&(context.globalAlpha*=opacity),transform&&context.setTransform.apply(context,transform),labelOrImage.contextInstructions?(context.translate(x,y),context.scale(scale[0],scale[1]),function executeLabelInstructions(label,context){for(var contextInstructions=label.contextInstructions,i=0,ii=contextInstructions.length;i<ii;i+=2)Array.isArray(contextInstructions[i+1])?context[contextInstructions[i]].apply(context,contextInstructions[i+1]):context[contextInstructions[i]]=contextInstructions[i+1]}(labelOrImage,context)):scale[0]<0||scale[1]<0?(context.translate(x,y),context.scale(scale[0],scale[1]),context.drawImage(labelOrImage,originX,originY,w,h,0,0,w,h)):context.drawImage(labelOrImage,originX,originY,w,h,x,y,w*scale[0],h*scale[1]),context.restore()}},"./node_modules/ol/renderer/canvas/Layer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>canvasPool,Z:()=>canvas_Layer});var extendStatics,EventType=__webpack_require__("./node_modules/ol/events/EventType.js"),ImageState=__webpack_require__("./node_modules/ol/ImageState.js"),Observable=__webpack_require__("./node_modules/ol/Observable.js"),util=__webpack_require__("./node_modules/ol/util.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const Layer=function(_super){function LayerRenderer(layer){var _this=_super.call(this)||this;return _this.ready=!0,_this.boundHandleImageChange_=_this.handleImageChange_.bind(_this),_this.layer_=layer,_this.declutterExecutorGroup=null,_this}return __extends(LayerRenderer,_super),LayerRenderer.prototype.getFeatures=function(pixel){return(0,util.O3)()},LayerRenderer.prototype.getData=function(pixel){return null},LayerRenderer.prototype.prepareFrame=function(frameState){return(0,util.O3)()},LayerRenderer.prototype.renderFrame=function(frameState,target){return(0,util.O3)()},LayerRenderer.prototype.loadedTileCallback=function(tiles,zoom,tile){tiles[zoom]||(tiles[zoom]={}),tiles[zoom][tile.tileCoord.toString()]=tile},LayerRenderer.prototype.createLoadedTileFinder=function(source,projection,tiles){return function(zoom,tileRange){var callback=this.loadedTileCallback.bind(this,tiles,zoom);return source.forEachLoadedTile(projection,zoom,tileRange,callback)}.bind(this)},LayerRenderer.prototype.forEachFeatureAtCoordinate=function(coordinate,frameState,hitTolerance,callback,matches){},LayerRenderer.prototype.getDataAtPixel=function(pixel,frameState,hitTolerance){return null},LayerRenderer.prototype.getLayer=function(){return this.layer_},LayerRenderer.prototype.handleFontsChanged=function(){},LayerRenderer.prototype.handleImageChange_=function(event){event.target.getState()===ImageState.Z.LOADED&&this.renderIfReadyAndVisible()},LayerRenderer.prototype.loadImage=function(image){var imageState=image.getState();return imageState!=ImageState.Z.LOADED&&imageState!=ImageState.Z.ERROR&&image.addEventListener(EventType.Z.CHANGE,this.boundHandleImageChange_),imageState==ImageState.Z.IDLE&&(image.load(),imageState=image.getState()),imageState==ImageState.Z.LOADED},LayerRenderer.prototype.renderIfReadyAndVisible=function(){var layer=this.getLayer();layer&&layer.getVisible()&&"ready"===layer.getSourceState()&&layer.changed()},LayerRenderer.prototype.disposeInternal=function(){delete this.layer_,_super.prototype.disposeInternal.call(this)},LayerRenderer}(Observable.Z);var Event=__webpack_require__("./node_modules/ol/render/Event.js"),render_EventType=__webpack_require__("./node_modules/ol/render/EventType.js"),transform=__webpack_require__("./node_modules/ol/transform.js"),color=__webpack_require__("./node_modules/ol/color.js"),ol_extent=__webpack_require__("./node_modules/ol/extent.js"),dom=__webpack_require__("./node_modules/ol/dom.js"),array=__webpack_require__("./node_modules/ol/array.js"),Layer_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),canvasPool=[],pixelContext=null;const canvas_Layer=function(_super){function CanvasLayerRenderer(layer){var _this=_super.call(this,layer)||this;return _this.container=null,_this.renderedResolution,_this.tempTransform=(0,transform.Ue)(),_this.pixelTransform=(0,transform.Ue)(),_this.inversePixelTransform=(0,transform.Ue)(),_this.context=null,_this.containerReused=!1,_this.pixelContext_=null,_this.frameState=null,_this}return Layer_extends(CanvasLayerRenderer,_super),CanvasLayerRenderer.prototype.getImageData=function(image,col,row){var data;pixelContext||function createPixelContext(){var canvas=document.createElement("canvas");canvas.width=1,canvas.height=1,pixelContext=canvas.getContext("2d")}(),pixelContext.clearRect(0,0,1,1);try{pixelContext.drawImage(image,col,row,1,1,0,0,1,1),data=pixelContext.getImageData(0,0,1,1).data}catch(err){return pixelContext=null,null}return data},CanvasLayerRenderer.prototype.getBackground=function(frameState){var background=this.getLayer().getBackground();return"function"==typeof background&&(background=background(frameState.viewState.resolution)),background||void 0},CanvasLayerRenderer.prototype.useContainer=function(target,transform,opt_backgroundColor){var container,context,layerClassName=this.getLayer().getClassName();target&&target.className===layerClassName&&(!opt_backgroundColor||target&&target.style.backgroundColor&&(0,array.fS)((0,color._2)(target.style.backgroundColor),(0,color._2)(opt_backgroundColor)))&&((canvas=target.firstElementChild)instanceof HTMLCanvasElement&&(context=canvas.getContext("2d")));if(context&&context.canvas.style.transform===transform?(this.container=target,this.context=context,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(container=document.createElement("div")).className=layerClassName;var style=container.style;style.position="absolute",style.width="100%",style.height="100%";var canvas=(context=(0,dom.E4)()).canvas;container.appendChild(canvas),(style=canvas.style).position="absolute",style.left="0",style.transformOrigin="top left",this.container=container,this.context=context}this.containerReused||!opt_backgroundColor||this.container.style.backgroundColor||(this.container.style.backgroundColor=opt_backgroundColor)},CanvasLayerRenderer.prototype.clipUnrotated=function(context,frameState,extent){var topLeft=(0,ol_extent.rL)(extent),topRight=(0,ol_extent.Xv)(extent),bottomRight=(0,ol_extent.w$)(extent),bottomLeft=(0,ol_extent.hC)(extent);(0,transform.nn)(frameState.coordinateToPixelTransform,topLeft),(0,transform.nn)(frameState.coordinateToPixelTransform,topRight),(0,transform.nn)(frameState.coordinateToPixelTransform,bottomRight),(0,transform.nn)(frameState.coordinateToPixelTransform,bottomLeft);var inverted=this.inversePixelTransform;(0,transform.nn)(inverted,topLeft),(0,transform.nn)(inverted,topRight),(0,transform.nn)(inverted,bottomRight),(0,transform.nn)(inverted,bottomLeft),context.save(),context.beginPath(),context.moveTo(Math.round(topLeft[0]),Math.round(topLeft[1])),context.lineTo(Math.round(topRight[0]),Math.round(topRight[1])),context.lineTo(Math.round(bottomRight[0]),Math.round(bottomRight[1])),context.lineTo(Math.round(bottomLeft[0]),Math.round(bottomLeft[1])),context.clip()},CanvasLayerRenderer.prototype.dispatchRenderEvent_=function(type,context,frameState){var layer=this.getLayer();if(layer.hasListener(type)){var event_1=new Event.Z(type,this.inversePixelTransform,frameState,context);layer.dispatchEvent(event_1)}},CanvasLayerRenderer.prototype.preRender=function(context,frameState){this.frameState=frameState,this.dispatchRenderEvent_(render_EventType.Z.PRERENDER,context,frameState)},CanvasLayerRenderer.prototype.postRender=function(context,frameState){this.dispatchRenderEvent_(render_EventType.Z.POSTRENDER,context,frameState)},CanvasLayerRenderer.prototype.getRenderTransform=function(center,resolution,rotation,pixelRatio,width,height,offsetX){var dx1=width/2,dy1=height/2,sx=pixelRatio/resolution,sy=-sx,dx2=-center[0]+offsetX,dy2=-center[1];return(0,transform.qC)(this.tempTransform,dx1,dy1,sx,sy,-rotation,dx2,dy2)},CanvasLayerRenderer.prototype.getDataAtPixel=function(pixel,frameState,hitTolerance){var renderPixel=(0,transform.nn)(this.inversePixelTransform,pixel.slice()),context=this.context,layerExtent=this.getLayer().getExtent();if(layerExtent){var renderCoordinate=(0,transform.nn)(frameState.pixelToCoordinateTransform,pixel.slice());if(!(0,ol_extent.b8)(layerExtent,renderCoordinate))return null}var data,x=Math.round(renderPixel[0]),y=Math.round(renderPixel[1]),pixelContext=this.pixelContext_;if(!pixelContext){var pixelCanvas=document.createElement("canvas");pixelCanvas.width=1,pixelCanvas.height=1,pixelContext=pixelCanvas.getContext("2d"),this.pixelContext_=pixelContext}pixelContext.clearRect(0,0,1,1);try{pixelContext.drawImage(context.canvas,x,y,1,1,0,0,1,1),data=pixelContext.getImageData(0,0,1,1).data}catch(err){return"SecurityError"===err.name?(this.pixelContext_=null,new Uint8Array):data}return 0===data[3]?null:data},CanvasLayerRenderer.prototype.disposeInternal=function(){delete this.frameState,_super.prototype.disposeInternal.call(this)},CanvasLayerRenderer}(Layer)},"./node_modules/ol/renderer/canvas/common.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>IMAGE_SMOOTHING_DISABLED,s:()=>IMAGE_SMOOTHING_ENABLED});var IMAGE_SMOOTHING_DISABLED={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},IMAGE_SMOOTHING_ENABLED={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0}},"./node_modules/ol/reproj.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Co:()=>calculateSourceExtentResolution,aA:()=>calculateSourceResolution,rX:()=>canvasPool,sY:()=>render});var brokenDiagonalRendering_,_renderer_canvas_common_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/renderer/canvas/common.js"),_obj_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/obj.js"),_extent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/extent.js"),_dom_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/dom.js"),_proj_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/proj.js"),_math_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/math.js"),canvasPool=[];function drawTestTriangle(ctx,u1,v1,u2,v2){ctx.beginPath(),ctx.moveTo(0,0),ctx.lineTo(u1,v1),ctx.lineTo(u2,v2),ctx.closePath(),ctx.save(),ctx.clip(),ctx.fillRect(0,0,Math.max(u1,u2)+1,Math.max(v1,v2)),ctx.restore()}function verifyBrokenDiagonalRendering(data,offset){return Math.abs(data[4*offset]-210)>2||Math.abs(data[4*offset+3]-191.25)>2}function calculateSourceResolution(sourceProj,targetProj,targetCenter,targetResolution){var sourceCenter=(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.vs)(targetCenter,targetProj,sourceProj),sourceResolution=(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__._Q)(targetProj,targetResolution,targetCenter),targetMetersPerUnit=targetProj.getMetersPerUnit();void 0!==targetMetersPerUnit&&(sourceResolution*=targetMetersPerUnit);var sourceMetersPerUnit=sourceProj.getMetersPerUnit();void 0!==sourceMetersPerUnit&&(sourceResolution/=sourceMetersPerUnit);var sourceExtent=sourceProj.getExtent();if(!sourceExtent||(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.b8)(sourceExtent,sourceCenter)){var compensationFactor=(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__._Q)(sourceProj,sourceResolution,sourceCenter)/sourceResolution;isFinite(compensationFactor)&&compensationFactor>0&&(sourceResolution/=compensationFactor)}return sourceResolution}function calculateSourceExtentResolution(sourceProj,targetProj,targetExtent,targetResolution){var targetCenter=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.qg)(targetExtent),sourceResolution=calculateSourceResolution(sourceProj,targetProj,targetCenter,targetResolution);return(!isFinite(sourceResolution)||sourceResolution<=0)&&(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.H6)(targetExtent,(function(corner){return sourceResolution=calculateSourceResolution(sourceProj,targetProj,corner,targetResolution),isFinite(sourceResolution)&&sourceResolution>0})),sourceResolution}function render(width,height,pixelRatio,sourceResolution,sourceExtent,targetResolution,targetExtent,triangulation,sources,gutter,opt_renderEdges,opt_interpolate){var context=(0,_dom_js__WEBPACK_IMPORTED_MODULE_2__.E4)(Math.round(pixelRatio*width),Math.round(pixelRatio*height),canvasPool);if(opt_interpolate||(0,_obj_js__WEBPACK_IMPORTED_MODULE_3__.f0)(context,_renderer_canvas_common_js__WEBPACK_IMPORTED_MODULE_4__.$),0===sources.length)return context.canvas;function pixelRound(value){return Math.round(value*pixelRatio)/pixelRatio}context.scale(pixelRatio,pixelRatio),context.globalCompositeOperation="lighter";var sourceDataExtent=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.lJ)();sources.forEach((function(src,i,arr){(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.l7)(sourceDataExtent,src.extent)}));var canvasWidthInUnits=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.dz)(sourceDataExtent),canvasHeightInUnits=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.Cr)(sourceDataExtent),stitchContext=(0,_dom_js__WEBPACK_IMPORTED_MODULE_2__.E4)(Math.round(pixelRatio*canvasWidthInUnits/sourceResolution),Math.round(pixelRatio*canvasHeightInUnits/sourceResolution));opt_interpolate||(0,_obj_js__WEBPACK_IMPORTED_MODULE_3__.f0)(stitchContext,_renderer_canvas_common_js__WEBPACK_IMPORTED_MODULE_4__.$);var stitchScale=pixelRatio/sourceResolution;sources.forEach((function(src,i,arr){var xPos=src.extent[0]-sourceDataExtent[0],yPos=-(src.extent[3]-sourceDataExtent[3]),srcWidth=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.dz)(src.extent),srcHeight=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.Cr)(src.extent);src.image.width>0&&src.image.height>0&&stitchContext.drawImage(src.image,gutter,gutter,src.image.width-2*gutter,src.image.height-2*gutter,xPos*stitchScale,yPos*stitchScale,srcWidth*stitchScale,srcHeight*stitchScale)}));var targetTopLeft=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.rL)(targetExtent);return triangulation.getTriangles().forEach((function(triangle,i,arr){var source=triangle.source,target=triangle.target,x0=source[0][0],y0=source[0][1],x1=source[1][0],y1=source[1][1],x2=source[2][0],y2=source[2][1],u0=pixelRound((target[0][0]-targetTopLeft[0])/targetResolution),v0=pixelRound(-(target[0][1]-targetTopLeft[1])/targetResolution),u1=pixelRound((target[1][0]-targetTopLeft[0])/targetResolution),v1=pixelRound(-(target[1][1]-targetTopLeft[1])/targetResolution),u2=pixelRound((target[2][0]-targetTopLeft[0])/targetResolution),v2=pixelRound(-(target[2][1]-targetTopLeft[1])/targetResolution),sourceNumericalShiftX=x0,sourceNumericalShiftY=y0;x0=0,y0=0;var augmentedMatrix=[[x1-=sourceNumericalShiftX,y1-=sourceNumericalShiftY,0,0,u1-u0],[x2-=sourceNumericalShiftX,y2-=sourceNumericalShiftY,0,0,u2-u0],[0,0,x1,y1,v1-v0],[0,0,x2,y2,v2-v0]],affineCoefs=(0,_math_js__WEBPACK_IMPORTED_MODULE_5__.SV)(augmentedMatrix);if(affineCoefs){if(context.save(),context.beginPath(),function isBrokenDiagonalRendering(){if(void 0===brokenDiagonalRendering_){var ctx=document.createElement("canvas").getContext("2d");ctx.globalCompositeOperation="lighter",ctx.fillStyle="rgba(210, 0, 0, 0.75)",drawTestTriangle(ctx,4,5,4,0),drawTestTriangle(ctx,4,5,0,5);var data=ctx.getImageData(0,0,3,3).data;brokenDiagonalRendering_=verifyBrokenDiagonalRendering(data,0)||verifyBrokenDiagonalRendering(data,4)||verifyBrokenDiagonalRendering(data,8)}return brokenDiagonalRendering_}()||!opt_interpolate){context.moveTo(u1,v1);for(var ud=u0-u1,vd=v0-v1,step=0;step<4;step++)context.lineTo(u1+pixelRound((step+1)*ud/4),v1+pixelRound(step*vd/3)),3!=step&&context.lineTo(u1+pixelRound((step+1)*ud/4),v1+pixelRound((step+1)*vd/3));context.lineTo(u2,v2)}else context.moveTo(u1,v1),context.lineTo(u0,v0),context.lineTo(u2,v2);context.clip(),context.transform(affineCoefs[0],affineCoefs[2],affineCoefs[1],affineCoefs[3],u0,v0),context.translate(sourceDataExtent[0]-sourceNumericalShiftX,sourceDataExtent[3]-sourceNumericalShiftY),context.scale(sourceResolution/pixelRatio,-sourceResolution/pixelRatio),context.drawImage(stitchContext.canvas,0,0),context.restore()}})),opt_renderEdges&&(context.save(),context.globalCompositeOperation="source-over",context.strokeStyle="black",context.lineWidth=1,triangulation.getTriangles().forEach((function(triangle,i,arr){var target=triangle.target,u0=(target[0][0]-targetTopLeft[0])/targetResolution,v0=-(target[0][1]-targetTopLeft[1])/targetResolution,u1=(target[1][0]-targetTopLeft[0])/targetResolution,v1=-(target[1][1]-targetTopLeft[1])/targetResolution,u2=(target[2][0]-targetTopLeft[0])/targetResolution,v2=-(target[2][1]-targetTopLeft[1])/targetResolution;context.beginPath(),context.moveTo(u1,v1),context.lineTo(u0,v0),context.lineTo(u2,v2),context.closePath(),context.stroke()})),context.restore()),context.canvas}},"./node_modules/ol/reproj/Tile.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var extendStatics,_common_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/reproj/common.js"),_events_EventType_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/ol/events/EventType.js"),_Tile_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/ol/Tile.js"),_TileState_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/TileState.js"),_Triangulation_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/reproj/Triangulation.js"),_reproj_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/reproj.js"),_math_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/math.js"),_extent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/extent.js"),_events_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ol/events.js"),_dom_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/ol/dom.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const __WEBPACK_DEFAULT_EXPORT__=function(_super){function ReprojTile(sourceProj,sourceTileGrid,targetProj,targetTileGrid,tileCoord,wrappedTileCoord,pixelRatio,gutter,getTileFunction,opt_errorThreshold,opt_renderEdges,opt_interpolate){var _this=_super.call(this,tileCoord,_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.IDLE,{interpolate:!!opt_interpolate})||this;_this.renderEdges_=void 0!==opt_renderEdges&&opt_renderEdges,_this.pixelRatio_=pixelRatio,_this.gutter_=gutter,_this.canvas_=null,_this.sourceTileGrid_=sourceTileGrid,_this.targetTileGrid_=targetTileGrid,_this.wrappedTileCoord_=wrappedTileCoord||tileCoord,_this.sourceTiles_=[],_this.sourcesListenerKeys_=null,_this.sourceZ_=0;var targetExtent=targetTileGrid.getTileCoordExtent(_this.wrappedTileCoord_),maxTargetExtent=_this.targetTileGrid_.getExtent(),maxSourceExtent=_this.sourceTileGrid_.getExtent(),limitedTargetExtent=maxTargetExtent?(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.Ed)(targetExtent,maxTargetExtent):targetExtent;if(0===(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.bg)(limitedTargetExtent))return _this.state=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.EMPTY,_this;var sourceProjExtent=sourceProj.getExtent();sourceProjExtent&&(maxSourceExtent=maxSourceExtent?(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.Ed)(maxSourceExtent,sourceProjExtent):sourceProjExtent);var targetResolution=targetTileGrid.getResolution(_this.wrappedTileCoord_[0]),sourceResolution=(0,_reproj_js__WEBPACK_IMPORTED_MODULE_2__.Co)(sourceProj,targetProj,limitedTargetExtent,targetResolution);if(!isFinite(sourceResolution)||sourceResolution<=0)return _this.state=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.EMPTY,_this;var errorThresholdInPixels=void 0!==opt_errorThreshold?opt_errorThreshold:_common_js__WEBPACK_IMPORTED_MODULE_3__.m;if(_this.triangulation_=new _Triangulation_js__WEBPACK_IMPORTED_MODULE_4__.Z(sourceProj,targetProj,limitedTargetExtent,maxSourceExtent,sourceResolution*errorThresholdInPixels,targetResolution),0===_this.triangulation_.getTriangles().length)return _this.state=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.EMPTY,_this;_this.sourceZ_=sourceTileGrid.getZForResolution(sourceResolution);var sourceExtent=_this.triangulation_.calculateSourceExtent();if(maxSourceExtent&&(sourceProj.canWrapX()?(sourceExtent[1]=(0,_math_js__WEBPACK_IMPORTED_MODULE_5__.uZ)(sourceExtent[1],maxSourceExtent[1],maxSourceExtent[3]),sourceExtent[3]=(0,_math_js__WEBPACK_IMPORTED_MODULE_5__.uZ)(sourceExtent[3],maxSourceExtent[1],maxSourceExtent[3])):sourceExtent=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.Ed)(sourceExtent,maxSourceExtent)),(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.bg)(sourceExtent)){for(var sourceRange=sourceTileGrid.getTileRangeForExtentAndZ(sourceExtent,_this.sourceZ_),srcX=sourceRange.minX;srcX<=sourceRange.maxX;srcX++)for(var srcY=sourceRange.minY;srcY<=sourceRange.maxY;srcY++){var tile=getTileFunction(_this.sourceZ_,srcX,srcY,pixelRatio);tile&&_this.sourceTiles_.push(tile)}0===_this.sourceTiles_.length&&(_this.state=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.EMPTY)}else _this.state=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.EMPTY;return _this}return __extends(ReprojTile,_super),ReprojTile.prototype.getImage=function(){return this.canvas_},ReprojTile.prototype.reproject_=function(){var sources=[];if(this.sourceTiles_.forEach(function(tile,i,arr){tile&&tile.getState()==_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.LOADED&&sources.push({extent:this.sourceTileGrid_.getTileCoordExtent(tile.tileCoord),image:tile.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===sources.length)this.state=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.ERROR;else{var z=this.wrappedTileCoord_[0],size=this.targetTileGrid_.getTileSize(z),width="number"==typeof size?size:size[0],height="number"==typeof size?size:size[1],targetResolution=this.targetTileGrid_.getResolution(z),sourceResolution=this.sourceTileGrid_.getResolution(this.sourceZ_),targetExtent=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,_reproj_js__WEBPACK_IMPORTED_MODULE_2__.sY)(width,height,this.pixelRatio_,sourceResolution,this.sourceTileGrid_.getExtent(),targetResolution,targetExtent,this.triangulation_,sources,this.gutter_,this.renderEdges_,this.interpolate),this.state=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.LOADED}this.changed()},ReprojTile.prototype.load=function(){if(this.state==_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.IDLE){this.state=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.LOADING,this.changed();var leftToLoad_1=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(tile,i,arr){var state=tile.getState();if(state==_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.IDLE||state==_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.LOADING){leftToLoad_1++;var sourceListenKey_1=(0,_events_js__WEBPACK_IMPORTED_MODULE_6__.oL)(tile,_events_EventType_js__WEBPACK_IMPORTED_MODULE_7__.Z.CHANGE,(function(e){var state=tile.getState();state!=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.LOADED&&state!=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.ERROR&&state!=_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.EMPTY||((0,_events_js__WEBPACK_IMPORTED_MODULE_6__.bN)(sourceListenKey_1),0===--leftToLoad_1&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(sourceListenKey_1)}}.bind(this)),0===leftToLoad_1?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(tile,i,arr){tile.getState()==_TileState_js__WEBPACK_IMPORTED_MODULE_0__.Z.IDLE&&tile.load()}))}},ReprojTile.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(_events_js__WEBPACK_IMPORTED_MODULE_6__.bN),this.sourcesListenerKeys_=null},ReprojTile.prototype.release=function(){this.canvas_&&((0,_dom_js__WEBPACK_IMPORTED_MODULE_8__.jy)(this.canvas_.getContext("2d")),_reproj_js__WEBPACK_IMPORTED_MODULE_2__.rX.push(this.canvas_),this.canvas_=null),_super.prototype.release.call(this)},ReprojTile}(_Tile_js__WEBPACK_IMPORTED_MODULE_9__.Z)},"./node_modules/ol/reproj/Triangulation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _extent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/extent.js"),_proj_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/proj.js"),_math_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/math.js");const __WEBPACK_DEFAULT_EXPORT__=function(){function Triangulation(sourceProj,targetProj,targetExtent,maxSourceExtent,errorThreshold,opt_destinationResolution){this.sourceProj_=sourceProj,this.targetProj_=targetProj;var transformInvCache={},transformInv=(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(c){var key=c[0]+"/"+c[1];return transformInvCache[key]||(transformInvCache[key]=transformInv(c)),transformInvCache[key]},this.maxSourceExtent_=maxSourceExtent,this.errorThresholdSquared_=errorThreshold*errorThreshold,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!maxSourceExtent&&!!this.sourceProj_.getExtent()&&(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.dz)(maxSourceExtent)==(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.dz)(this.targetProj_.getExtent()):null;var destinationTopLeft=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.rL)(targetExtent),destinationTopRight=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.Xv)(targetExtent),destinationBottomRight=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.w$)(targetExtent),destinationBottomLeft=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.hC)(targetExtent),sourceTopLeft=this.transformInv_(destinationTopLeft),sourceTopRight=this.transformInv_(destinationTopRight),sourceBottomRight=this.transformInv_(destinationBottomRight),sourceBottomLeft=this.transformInv_(destinationBottomLeft),maxSubdivision=10+(opt_destinationResolution?Math.max(0,Math.ceil((0,_math_js__WEBPACK_IMPORTED_MODULE_2__.k3)((0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.bg)(targetExtent)/(opt_destinationResolution*opt_destinationResolution*256*256)))):0);if(this.addQuad_(destinationTopLeft,destinationTopRight,destinationBottomRight,destinationBottomLeft,sourceTopLeft,sourceTopRight,sourceBottomRight,sourceBottomLeft,maxSubdivision),this.wrapsXInSource_){var leftBound_1=1/0;this.triangles_.forEach((function(triangle,i,arr){leftBound_1=Math.min(leftBound_1,triangle.source[0][0],triangle.source[1][0],triangle.source[2][0])})),this.triangles_.forEach(function(triangle){if(Math.max(triangle.source[0][0],triangle.source[1][0],triangle.source[2][0])-leftBound_1>this.sourceWorldWidth_/2){var newTriangle=[[triangle.source[0][0],triangle.source[0][1]],[triangle.source[1][0],triangle.source[1][1]],[triangle.source[2][0],triangle.source[2][1]]];newTriangle[0][0]-leftBound_1>this.sourceWorldWidth_/2&&(newTriangle[0][0]-=this.sourceWorldWidth_),newTriangle[1][0]-leftBound_1>this.sourceWorldWidth_/2&&(newTriangle[1][0]-=this.sourceWorldWidth_),newTriangle[2][0]-leftBound_1>this.sourceWorldWidth_/2&&(newTriangle[2][0]-=this.sourceWorldWidth_);var minX=Math.min(newTriangle[0][0],newTriangle[1][0],newTriangle[2][0]);Math.max(newTriangle[0][0],newTriangle[1][0],newTriangle[2][0])-minX<this.sourceWorldWidth_/2&&(triangle.source=newTriangle)}}.bind(this))}transformInvCache={}}return Triangulation.prototype.addTriangle_=function(a,b,c,aSrc,bSrc,cSrc){this.triangles_.push({source:[aSrc,bSrc,cSrc],target:[a,b,c]})},Triangulation.prototype.addQuad_=function(a,b,c,d,aSrc,bSrc,cSrc,dSrc,maxSubdivision){var sourceQuadExtent=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.hI)([aSrc,bSrc,cSrc,dSrc]),sourceCoverageX=this.sourceWorldWidth_?(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.dz)(sourceQuadExtent)/this.sourceWorldWidth_:null,sourceWorldWidth=this.sourceWorldWidth_,wrapsX=this.sourceProj_.canWrapX()&&sourceCoverageX>.5&&sourceCoverageX<1,needsSubdivision=!1;if(maxSubdivision>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var targetQuadExtent=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.hI)([a,b,c,d]);needsSubdivision=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.dz)(targetQuadExtent)/this.targetWorldWidth_>.25||needsSubdivision}!wrapsX&&this.sourceProj_.isGlobal()&&sourceCoverageX&&(needsSubdivision=sourceCoverageX>.25||needsSubdivision)}if(!(!needsSubdivision&&this.maxSourceExtent_&&isFinite(sourceQuadExtent[0])&&isFinite(sourceQuadExtent[1])&&isFinite(sourceQuadExtent[2])&&isFinite(sourceQuadExtent[3]))||(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.kK)(sourceQuadExtent,this.maxSourceExtent_)){var isNotFinite=0;if(!(needsSubdivision||isFinite(aSrc[0])&&isFinite(aSrc[1])&&isFinite(bSrc[0])&&isFinite(bSrc[1])&&isFinite(cSrc[0])&&isFinite(cSrc[1])&&isFinite(dSrc[0])&&isFinite(dSrc[1])))if(maxSubdivision>0)needsSubdivision=!0;else if(1!=(isNotFinite=(isFinite(aSrc[0])&&isFinite(aSrc[1])?0:8)+(isFinite(bSrc[0])&&isFinite(bSrc[1])?0:4)+(isFinite(cSrc[0])&&isFinite(cSrc[1])?0:2)+(isFinite(dSrc[0])&&isFinite(dSrc[1])?0:1))&&2!=isNotFinite&&4!=isNotFinite&&8!=isNotFinite)return;if(maxSubdivision>0){if(!needsSubdivision){var center=[(a[0]+c[0])/2,(a[1]+c[1])/2],centerSrc=this.transformInv_(center),dx=void 0;if(wrapsX)dx=((0,_math_js__WEBPACK_IMPORTED_MODULE_2__.$W)(aSrc[0],sourceWorldWidth)+(0,_math_js__WEBPACK_IMPORTED_MODULE_2__.$W)(cSrc[0],sourceWorldWidth))/2-(0,_math_js__WEBPACK_IMPORTED_MODULE_2__.$W)(centerSrc[0],sourceWorldWidth);else dx=(aSrc[0]+cSrc[0])/2-centerSrc[0];var dy=(aSrc[1]+cSrc[1])/2-centerSrc[1];needsSubdivision=dx*dx+dy*dy>this.errorThresholdSquared_}if(needsSubdivision){if(Math.abs(a[0]-c[0])<=Math.abs(a[1]-c[1])){var bc=[(b[0]+c[0])/2,(b[1]+c[1])/2],bcSrc=this.transformInv_(bc),da=[(d[0]+a[0])/2,(d[1]+a[1])/2],daSrc=this.transformInv_(da);this.addQuad_(a,b,bc,da,aSrc,bSrc,bcSrc,daSrc,maxSubdivision-1),this.addQuad_(da,bc,c,d,daSrc,bcSrc,cSrc,dSrc,maxSubdivision-1)}else{var ab=[(a[0]+b[0])/2,(a[1]+b[1])/2],abSrc=this.transformInv_(ab),cd=[(c[0]+d[0])/2,(c[1]+d[1])/2],cdSrc=this.transformInv_(cd);this.addQuad_(a,ab,cd,d,aSrc,abSrc,cdSrc,dSrc,maxSubdivision-1),this.addQuad_(ab,b,c,cd,abSrc,bSrc,cSrc,cdSrc,maxSubdivision-1)}return}}if(wrapsX){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&isNotFinite)&&this.addTriangle_(a,c,d,aSrc,cSrc,dSrc),0==(14&isNotFinite)&&this.addTriangle_(a,c,b,aSrc,cSrc,bSrc),isNotFinite&&(0==(13&isNotFinite)&&this.addTriangle_(b,d,a,bSrc,dSrc,aSrc),0==(7&isNotFinite)&&this.addTriangle_(b,d,c,bSrc,dSrc,cSrc))}},Triangulation.prototype.calculateSourceExtent=function(){var extent=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.lJ)();return this.triangles_.forEach((function(triangle,i,arr){var src=triangle.source;(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.Wj)(extent,src[0]),(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.Wj)(extent,src[1]),(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.Wj)(extent,src[2])})),extent},Triangulation.prototype.getTriangles=function(){return this.triangles_},Triangulation}()},"./node_modules/ol/reproj/common.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>ENABLE_RASTER_REPROJECTION,m:()=>ERROR_THRESHOLD});var ERROR_THRESHOLD=.5,ENABLE_RASTER_REPROJECTION=!0},"./node_modules/ol/rotationconstraint.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Gw:()=>createSnapToZero,YP:()=>none,gE:()=>createSnapToN,h$:()=>disable});var _math_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/math.js");function disable(rotation){return void 0!==rotation?0:void 0}function none(rotation){return void 0!==rotation?rotation:void 0}function createSnapToN(n){var theta=2*Math.PI/n;return function(rotation,opt_isMoving){return opt_isMoving?rotation:void 0!==rotation?rotation=Math.floor(rotation/theta+.5)*theta:void 0}}function createSnapToZero(opt_tolerance){var tolerance=opt_tolerance||(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.Yr)(5);return function(rotation,opt_isMoving){return opt_isMoving?rotation:void 0!==rotation?Math.abs(rotation)<=tolerance?0:rotation:void 0}}},"./node_modules/ol/size.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function buffer(size,num,opt_size){return void 0===opt_size&&(opt_size=[0,0]),opt_size[0]=size[0]+2*num,opt_size[1]=size[1]+2*num,opt_size}function hasArea(size){return size[0]>0&&size[1]>0}function scale(size,ratio,opt_size){return void 0===opt_size&&(opt_size=[0,0]),opt_size[0]=size[0]*ratio+.5|0,opt_size[1]=size[1]*ratio+.5|0,opt_size}function toSize(size,opt_size){return Array.isArray(size)?size:(void 0===opt_size?opt_size=[size,size]:(opt_size[0]=size,opt_size[1]=size),opt_size)}__webpack_require__.d(__webpack_exports__,{Pq:()=>toSize,bA:()=>scale,f3:()=>buffer,py:()=>hasArea})},"./node_modules/ol/source/ImageWMS.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>source_ImageWMS});var extendStatics,EventType=__webpack_require__("./node_modules/ol/events/EventType.js"),Event=__webpack_require__("./node_modules/ol/events/Event.js"),ImageState=__webpack_require__("./node_modules/ol/ImageState.js"),common=__webpack_require__("./node_modules/ol/reproj/common.js"),ImageBase=__webpack_require__("./node_modules/ol/ImageBase.js"),Triangulation=__webpack_require__("./node_modules/ol/reproj/Triangulation.js"),reproj=__webpack_require__("./node_modules/ol/reproj.js"),ol_extent=__webpack_require__("./node_modules/ol/extent.js"),events=__webpack_require__("./node_modules/ol/events.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const Image=function(_super){function ReprojImage(sourceProj,targetProj,targetExtent,targetResolution,pixelRatio,getImageFunction,interpolate){var _this=this,maxSourceExtent=sourceProj.getExtent(),maxTargetExtent=targetProj.getExtent(),limitedTargetExtent=maxTargetExtent?(0,ol_extent.Ed)(targetExtent,maxTargetExtent):targetExtent,targetCenter=(0,ol_extent.qg)(limitedTargetExtent),sourceResolution=(0,reproj.aA)(sourceProj,targetProj,targetCenter,targetResolution),errorThresholdInPixels=common.m,triangulation=new Triangulation.Z(sourceProj,targetProj,limitedTargetExtent,maxSourceExtent,sourceResolution*errorThresholdInPixels,targetResolution),sourceImage=getImageFunction(triangulation.calculateSourceExtent(),sourceResolution,pixelRatio),state=sourceImage?ImageState.Z.IDLE:ImageState.Z.EMPTY,sourcePixelRatio=sourceImage?sourceImage.getPixelRatio():1;return(_this=_super.call(this,targetExtent,targetResolution,sourcePixelRatio,state)||this).targetProj_=targetProj,_this.maxSourceExtent_=maxSourceExtent,_this.triangulation_=triangulation,_this.targetResolution_=targetResolution,_this.targetExtent_=targetExtent,_this.sourceImage_=sourceImage,_this.sourcePixelRatio_=sourcePixelRatio,_this.interpolate_=interpolate,_this.canvas_=null,_this.sourceListenerKey_=null,_this}return __extends(ReprojImage,_super),ReprojImage.prototype.disposeInternal=function(){this.state==ImageState.Z.LOADING&&this.unlistenSource_(),_super.prototype.disposeInternal.call(this)},ReprojImage.prototype.getImage=function(){return this.canvas_},ReprojImage.prototype.getProjection=function(){return this.targetProj_},ReprojImage.prototype.reproject_=function(){var sourceState=this.sourceImage_.getState();if(sourceState==ImageState.Z.LOADED){var width=(0,ol_extent.dz)(this.targetExtent_)/this.targetResolution_,height=(0,ol_extent.Cr)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,reproj.sY)(width,height,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=sourceState,this.changed()},ReprojImage.prototype.load=function(){if(this.state==ImageState.Z.IDLE){this.state=ImageState.Z.LOADING,this.changed();var sourceState=this.sourceImage_.getState();sourceState==ImageState.Z.LOADED||sourceState==ImageState.Z.ERROR?this.reproject_():(this.sourceListenerKey_=(0,events.oL)(this.sourceImage_,EventType.Z.CHANGE,(function(e){var sourceState=this.sourceImage_.getState();sourceState!=ImageState.Z.LOADED&&sourceState!=ImageState.Z.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},ReprojImage.prototype.unlistenSource_=function(){(0,events.bN)(this.sourceListenerKey_),this.sourceListenerKey_=null},ReprojImage}(ImageBase.Z);var Source=__webpack_require__("./node_modules/ol/source/Source.js"),util=__webpack_require__("./node_modules/ol/util.js"),proj=__webpack_require__("./node_modules/ol/proj.js"),array=__webpack_require__("./node_modules/ol/array.js"),Image_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),ImageSourceEventType_IMAGELOADSTART="imageloadstart",ImageSourceEventType_IMAGELOADEND="imageloadend",ImageSourceEventType_IMAGELOADERROR="imageloaderror",ImageSourceEvent=function(_super){function ImageSourceEvent(type,image){var _this=_super.call(this,type)||this;return _this.image=image,_this}return Image_extends(ImageSourceEvent,_super),ImageSourceEvent}(Event.ZP);function defaultImageLoadFunction(image,src){image.getImage().src=src}const source_Image=function(_super){function ImageSource(options){var _this=this,interpolate=void 0===options.imageSmoothing||options.imageSmoothing;return void 0!==options.interpolate&&(interpolate=options.interpolate),(_this=_super.call(this,{attributions:options.attributions,projection:options.projection,state:options.state,interpolate})||this).on,_this.once,_this.un,_this.resolutions_=void 0!==options.resolutions?options.resolutions:null,_this.reprojectedImage_=null,_this.reprojectedRevision_=0,_this}return Image_extends(ImageSource,_super),ImageSource.prototype.getResolutions=function(){return this.resolutions_},ImageSource.prototype.findNearestResolution=function(resolution){if(this.resolutions_){var idx=(0,array.h7)(this.resolutions_,resolution,0);resolution=this.resolutions_[idx]}return resolution},ImageSource.prototype.getImage=function(extent,resolution,pixelRatio,projection){var sourceProjection=this.getProjection();if(common.j&&sourceProjection&&projection&&!(0,proj.OP)(sourceProjection,projection)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,proj.OP)(this.reprojectedImage_.getProjection(),projection)&&this.reprojectedImage_.getResolution()==resolution&&(0,ol_extent.fS)(this.reprojectedImage_.getExtent(),extent))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Image(sourceProjection,projection,extent,resolution,pixelRatio,function(extent,resolution,pixelRatio){return this.getImageInternal(extent,resolution,pixelRatio,sourceProjection)}.bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return sourceProjection&&(projection=sourceProjection),this.getImageInternal(extent,resolution,pixelRatio,projection)},ImageSource.prototype.getImageInternal=function(extent,resolution,pixelRatio,projection){return(0,util.O3)()},ImageSource.prototype.handleImageChange=function(event){var type,image=event.target;switch(image.getState()){case ImageState.Z.LOADING:this.loading=!0,type=ImageSourceEventType_IMAGELOADSTART;break;case ImageState.Z.LOADED:this.loading=!1,type=ImageSourceEventType_IMAGELOADEND;break;case ImageState.Z.ERROR:this.loading=!1,type=ImageSourceEventType_IMAGELOADERROR;break;default:return}this.hasListener(type)&&this.dispatchEvent(new ImageSourceEvent(type,image))},ImageSource}(Source.Z);var ol_Image=__webpack_require__("./node_modules/ol/Image.js"),wms=__webpack_require__("./node_modules/ol/source/wms.js"),uri=__webpack_require__("./node_modules/ol/uri.js"),asserts=__webpack_require__("./node_modules/ol/asserts.js"),obj=__webpack_require__("./node_modules/ol/obj.js"),math=__webpack_require__("./node_modules/ol/math.js"),string=__webpack_require__("./node_modules/ol/string.js"),ImageWMS_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),GETFEATUREINFO_IMAGE_SIZE=[101,101];const source_ImageWMS=function(_super){function ImageWMS(opt_options){var _this=this,options=opt_options||{},interpolate=void 0===options.imageSmoothing||options.imageSmoothing;return void 0!==options.interpolate&&(interpolate=options.interpolate),(_this=_super.call(this,{attributions:options.attributions,interpolate,projection:options.projection,resolutions:options.resolutions})||this).crossOrigin_=void 0!==options.crossOrigin?options.crossOrigin:null,_this.url_=options.url,_this.imageLoadFunction_=void 0!==options.imageLoadFunction?options.imageLoadFunction:defaultImageLoadFunction,_this.params_=options.params||{},_this.v13_=!0,_this.updateV13_(),_this.serverType_=options.serverType,_this.hidpi_=void 0===options.hidpi||options.hidpi,_this.image_=null,_this.imageSize_=[0,0],_this.renderedRevision_=0,_this.ratio_=void 0!==options.ratio?options.ratio:1.5,_this}return ImageWMS_extends(ImageWMS,_super),ImageWMS.prototype.getFeatureInfoUrl=function(coordinate,resolution,projection,params){if(void 0!==this.url_){var projectionObj=(0,proj.U2)(projection),sourceProjectionObj=this.getProjection();sourceProjectionObj&&sourceProjectionObj!==projectionObj&&(resolution=(0,reproj.aA)(sourceProjectionObj,projectionObj,coordinate,resolution),coordinate=(0,proj.vs)(coordinate,projectionObj,sourceProjectionObj));var extent=(0,ol_extent.p8)(coordinate,resolution,0,GETFEATUREINFO_IMAGE_SIZE),baseParams={SERVICE:"WMS",VERSION:wms.e,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,obj.f0)(baseParams,this.params_,params);var x=(0,math.GW)((coordinate[0]-extent[0])/resolution,4),y=(0,math.GW)((extent[3]-coordinate[1])/resolution,4);return baseParams[this.v13_?"I":"X"]=x,baseParams[this.v13_?"J":"Y"]=y,this.getRequestUrl_(extent,GETFEATUREINFO_IMAGE_SIZE,1,sourceProjectionObj||projectionObj,baseParams)}},ImageWMS.prototype.getLegendUrl=function(resolution,params){if(void 0!==this.url_){var baseParams={SERVICE:"WMS",VERSION:wms.e,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===params||void 0===params.LAYER){var layers=this.params_.LAYERS;if(!(!Array.isArray(layers)||1===layers.length))return;baseParams.LAYER=layers}if(void 0!==resolution){var mpu=this.getProjection()?this.getProjection().getMetersPerUnit():1;baseParams.SCALE=resolution*mpu/28e-5}return(0,obj.f0)(baseParams,params),(0,uri.B)(this.url_,baseParams)}},ImageWMS.prototype.getParams=function(){return this.params_},ImageWMS.prototype.getImageInternal=function(extent,resolution,pixelRatio,projection){if(void 0===this.url_)return null;resolution=this.findNearestResolution(resolution),1==pixelRatio||this.hidpi_&&void 0!==this.serverType_||(pixelRatio=1);var imageResolution=resolution/pixelRatio,center=(0,ol_extent.qg)(extent),viewWidth=(0,math.mD)((0,ol_extent.dz)(extent)/imageResolution,4),viewHeight=(0,math.mD)((0,ol_extent.Cr)(extent)/imageResolution,4),viewExtent=(0,ol_extent.p8)(center,imageResolution,0,[viewWidth,viewHeight]),requestWidth=(0,math.mD)(this.ratio_*(0,ol_extent.dz)(extent)/imageResolution,4),requestHeight=(0,math.mD)(this.ratio_*(0,ol_extent.Cr)(extent)/imageResolution,4),requestExtent=(0,ol_extent.p8)(center,imageResolution,0,[requestWidth,requestHeight]),image=this.image_;if(image&&this.renderedRevision_==this.getRevision()&&image.getResolution()==resolution&&image.getPixelRatio()==pixelRatio&&(0,ol_extent.r4)(image.getExtent(),viewExtent))return image;var params={SERVICE:"WMS",VERSION:wms.e,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,obj.f0)(params,this.params_),this.imageSize_[0]=(0,math.NM)((0,ol_extent.dz)(requestExtent)/imageResolution,4),this.imageSize_[1]=(0,math.NM)((0,ol_extent.Cr)(requestExtent)/imageResolution,4);var url=this.getRequestUrl_(requestExtent,this.imageSize_,pixelRatio,projection,params);return this.image_=new ol_Image.Z(requestExtent,resolution,pixelRatio,url,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(EventType.Z.CHANGE,this.handleImageChange.bind(this)),this.image_},ImageWMS.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},ImageWMS.prototype.getRequestUrl_=function(extent,size,pixelRatio,projection,params){if((0,asserts.h)(void 0!==this.url_,9),params[this.v13_?"CRS":"SRS"]=projection.getCode(),"STYLES"in this.params_||(params.STYLES=""),1!=pixelRatio)switch(this.serverType_){case"geoserver":var dpi=90*pixelRatio+.5|0;"FORMAT_OPTIONS"in params?params.FORMAT_OPTIONS+=";dpi:"+dpi:params.FORMAT_OPTIONS="dpi:"+dpi;break;case"mapserver":params.MAP_RESOLUTION=90*pixelRatio;break;case"carmentaserver":case"qgis":params.DPI=90*pixelRatio;break;default:(0,asserts.h)(!1,8)}params.WIDTH=size[0],params.HEIGHT=size[1];var bbox,axisOrientation=projection.getAxisOrientation();return bbox=this.v13_&&"ne"==axisOrientation.substr(0,2)?[extent[1],extent[0],extent[3],extent[2]]:extent,params.BBOX=bbox.join(","),(0,uri.B)(this.url_,params)},ImageWMS.prototype.getUrl=function(){return this.url_},ImageWMS.prototype.setImageLoadFunction=function(imageLoadFunction){this.image_=null,this.imageLoadFunction_=imageLoadFunction,this.changed()},ImageWMS.prototype.setUrl=function(url){url!=this.url_&&(this.url_=url,this.image_=null,this.changed())},ImageWMS.prototype.updateParams=function(params){(0,obj.f0)(this.params_,params),this.updateV13_(),this.image_=null,this.changed()},ImageWMS.prototype.updateV13_=function(){var version=this.params_.VERSION||wms.e;this.v13_=(0,string.n)(version,"1.3")>=0},ImageWMS}(source_Image)},"./node_modules/ol/source/Source.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var extendStatics,_Object_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/Object.js"),_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/util.js"),_proj_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/proj.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});function adaptAttributions(attributionLike){return attributionLike?Array.isArray(attributionLike)?function(frameState){return attributionLike}:"function"==typeof attributionLike?attributionLike:function(frameState){return[attributionLike]}:null}const __WEBPACK_DEFAULT_EXPORT__=function(_super){function Source(options){var _this=_super.call(this)||this;_this.projection=(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.U2)(options.projection),_this.attributions_=adaptAttributions(options.attributions),_this.attributionsCollapsible_=void 0===options.attributionsCollapsible||options.attributionsCollapsible,_this.loading=!1,_this.state_=void 0!==options.state?options.state:"ready",_this.wrapX_=void 0!==options.wrapX&&options.wrapX,_this.interpolate_=!!options.interpolate,_this.viewResolver=null,_this.viewRejector=null;var self=_this;return _this.viewPromise_=new Promise((function(resolve,reject){self.viewResolver=resolve,self.viewRejector=reject})),_this}return __extends(Source,_super),Source.prototype.getAttributions=function(){return this.attributions_},Source.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},Source.prototype.getProjection=function(){return this.projection},Source.prototype.getResolutions=function(){return(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.O3)()},Source.prototype.getView=function(){return this.viewPromise_},Source.prototype.getState=function(){return this.state_},Source.prototype.getWrapX=function(){return this.wrapX_},Source.prototype.getInterpolate=function(){return this.interpolate_},Source.prototype.refresh=function(){this.changed()},Source.prototype.setAttributions=function(attributions){this.attributions_=adaptAttributions(attributions),this.changed()},Source.prototype.setState=function(state){this.state_=state,this.changed()},Source}(_Object_js__WEBPACK_IMPORTED_MODULE_2__.Z)},"./node_modules/ol/source/TileImage.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>source_TileImage});var EventType=__webpack_require__("./node_modules/ol/events/EventType.js"),ImageTile=__webpack_require__("./node_modules/ol/ImageTile.js"),Tile=__webpack_require__("./node_modules/ol/reproj/Tile.js"),asserts=__webpack_require__("./node_modules/ol/asserts.js"),LRUCache=function(){function LRUCache(opt_highWaterMark){this.highWaterMark=void 0!==opt_highWaterMark?opt_highWaterMark:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return LRUCache.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},LRUCache.prototype.expireCache=function(keep){for(;this.canExpireCache();)this.pop()},LRUCache.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},LRUCache.prototype.containsKey=function(key){return this.entries_.hasOwnProperty(key)},LRUCache.prototype.forEach=function(f){for(var entry=this.oldest_;entry;)f(entry.value_,entry.key_,this),entry=entry.newer},LRUCache.prototype.get=function(key,opt_options){var entry=this.entries_[key];return(0,asserts.h)(void 0!==entry,15),entry===this.newest_||(entry===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(entry.newer.older=entry.older,entry.older.newer=entry.newer),entry.newer=null,entry.older=this.newest_,this.newest_.newer=entry,this.newest_=entry),entry.value_},LRUCache.prototype.remove=function(key){var entry=this.entries_[key];return(0,asserts.h)(void 0!==entry,15),entry===this.newest_?(this.newest_=entry.older,this.newest_&&(this.newest_.newer=null)):entry===this.oldest_?(this.oldest_=entry.newer,this.oldest_&&(this.oldest_.older=null)):(entry.newer.older=entry.older,entry.older.newer=entry.newer),delete this.entries_[key],--this.count_,entry.value_},LRUCache.prototype.getCount=function(){return this.count_},LRUCache.prototype.getKeys=function(){var entry,keys=new Array(this.count_),i=0;for(entry=this.newest_;entry;entry=entry.older)keys[i++]=entry.key_;return keys},LRUCache.prototype.getValues=function(){var entry,values=new Array(this.count_),i=0;for(entry=this.newest_;entry;entry=entry.older)values[i++]=entry.value_;return values},LRUCache.prototype.peekLast=function(){return this.oldest_.value_},LRUCache.prototype.peekLastKey=function(){return this.oldest_.key_},LRUCache.prototype.peekFirstKey=function(){return this.newest_.key_},LRUCache.prototype.peek=function(key){if(this.containsKey(key))return this.entries_[key].value_},LRUCache.prototype.pop=function(){var entry=this.oldest_;return delete this.entries_[entry.key_],entry.newer&&(entry.newer.older=null),this.oldest_=entry.newer,this.oldest_||(this.newest_=null),--this.count_,entry.value_},LRUCache.prototype.replace=function(key,value){this.get(key),this.entries_[key].value_=value},LRUCache.prototype.set=function(key,value){(0,asserts.h)(!(key in this.entries_),16);var entry={key_:key,newer:null,older:this.newest_,value_:value};this.newest_?this.newest_.newer=entry:this.oldest_=entry,this.newest_=entry,this.entries_[key]=entry,++this.count_},LRUCache.prototype.setSize=function(size){this.highWaterMark=size},LRUCache}();const structs_LRUCache=LRUCache;var extendStatics,tilecoord=__webpack_require__("./node_modules/ol/tilecoord.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const ol_TileCache=function(_super){function TileCache(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TileCache,_super),TileCache.prototype.expireCache=function(usedTiles){for(;this.canExpireCache();){if(this.peekLast().getKey()in usedTiles)break;this.pop().release()}},TileCache.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var key=this.peekFirstKey(),z=(0,tilecoord.Ul)(key)[0];this.forEach(function(tile){tile.tileCoord[0]!==z&&(this.remove((0,tilecoord.km)(tile.tileCoord)),tile.release())}.bind(this))}},TileCache}(structs_LRUCache);var TileState=__webpack_require__("./node_modules/ol/TileState.js");const TileEventType_TILELOADSTART="tileloadstart",TileEventType_TILELOADEND="tileloadend",TileEventType_TILELOADERROR="tileloaderror";var Event=__webpack_require__("./node_modules/ol/events/Event.js"),Source=__webpack_require__("./node_modules/ol/source/Source.js"),util=__webpack_require__("./node_modules/ol/util.js"),ol_proj=__webpack_require__("./node_modules/ol/proj.js"),tilegrid=__webpack_require__("./node_modules/ol/tilegrid.js"),size=__webpack_require__("./node_modules/ol/size.js"),Tile_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),TileSource=function(_super){function TileSource(options){var _this=_super.call(this,{attributions:options.attributions,attributionsCollapsible:options.attributionsCollapsible,projection:options.projection,state:options.state,wrapX:options.wrapX,interpolate:options.interpolate})||this;_this.on,_this.once,_this.un,_this.opaque_=void 0!==options.opaque&&options.opaque,_this.tilePixelRatio_=void 0!==options.tilePixelRatio?options.tilePixelRatio:1,_this.tileGrid=void 0!==options.tileGrid?options.tileGrid:null;return _this.tileGrid&&(0,size.Pq)(_this.tileGrid.getTileSize(_this.tileGrid.getMinZoom()),[256,256]),_this.tileCache=new ol_TileCache(options.cacheSize||0),_this.tmpSize=[0,0],_this.key_=options.key||"",_this.tileOptions={transition:options.transition,interpolate:options.interpolate},_this.zDirection=options.zDirection?options.zDirection:0,_this}return Tile_extends(TileSource,_super),TileSource.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},TileSource.prototype.expireCache=function(projection,usedTiles){var tileCache=this.getTileCacheForProjection(projection);tileCache&&tileCache.expireCache(usedTiles)},TileSource.prototype.forEachLoadedTile=function(projection,z,tileRange,callback){var tileCache=this.getTileCacheForProjection(projection);if(!tileCache)return!1;for(var tile,tileCoordKey,loaded,covered=!0,x=tileRange.minX;x<=tileRange.maxX;++x)for(var y=tileRange.minY;y<=tileRange.maxY;++y)tileCoordKey=(0,tilecoord.lg)(z,x,y),loaded=!1,tileCache.containsKey(tileCoordKey)&&(loaded=(tile=tileCache.get(tileCoordKey)).getState()===TileState.Z.LOADED)&&(loaded=!1!==callback(tile)),loaded||(covered=!1);return covered},TileSource.prototype.getGutterForProjection=function(projection){return 0},TileSource.prototype.getKey=function(){return this.key_},TileSource.prototype.setKey=function(key){this.key_!==key&&(this.key_=key,this.changed())},TileSource.prototype.getOpaque=function(projection){return this.opaque_},TileSource.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},TileSource.prototype.getTile=function(z,x,y,pixelRatio,projection){return(0,util.O3)()},TileSource.prototype.getTileGrid=function(){return this.tileGrid},TileSource.prototype.getTileGridForProjection=function(projection){return this.tileGrid?this.tileGrid:(0,tilegrid.X$)(projection)},TileSource.prototype.getTileCacheForProjection=function(projection){var sourceProjection=this.getProjection();return(0,asserts.h)(null===sourceProjection||(0,ol_proj.OP)(sourceProjection,projection),68),this.tileCache},TileSource.prototype.getTilePixelRatio=function(pixelRatio){return this.tilePixelRatio_},TileSource.prototype.getTilePixelSize=function(z,pixelRatio,projection){var tileGrid=this.getTileGridForProjection(projection),tilePixelRatio=this.getTilePixelRatio(pixelRatio),tileSize=(0,size.Pq)(tileGrid.getTileSize(z),this.tmpSize);return 1==tilePixelRatio?tileSize:(0,size.bA)(tileSize,tilePixelRatio,this.tmpSize)},TileSource.prototype.getTileCoordForTileUrlFunction=function(tileCoord,opt_projection){var projection=void 0!==opt_projection?opt_projection:this.getProjection(),tileGrid=this.getTileGridForProjection(projection);return this.getWrapX()&&projection.isGlobal()&&(tileCoord=(0,tilegrid.Cf)(tileGrid,tileCoord,projection)),(0,tilecoord.tE)(tileCoord,tileGrid)?tileCoord:null},TileSource.prototype.clear=function(){this.tileCache.clear()},TileSource.prototype.refresh=function(){this.clear(),_super.prototype.refresh.call(this)},TileSource.prototype.updateCacheSize=function(tileCount,projection){var tileCache=this.getTileCacheForProjection(projection);tileCount>tileCache.highWaterMark&&(tileCache.highWaterMark=tileCount)},TileSource.prototype.useTile=function(z,x,y,projection){},TileSource}(Source.Z),TileSourceEvent=function(_super){function TileSourceEvent(type,tile){var _this=_super.call(this,type)||this;return _this.tile=tile,_this}return Tile_extends(TileSourceEvent,_super),TileSourceEvent}(Event.ZP);const source_Tile=TileSource;var tileurlfunction=__webpack_require__("./node_modules/ol/tileurlfunction.js"),UrlTile_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const source_UrlTile=function(_super){function UrlTile(options){var _this=_super.call(this,{attributions:options.attributions,cacheSize:options.cacheSize,opaque:options.opaque,projection:options.projection,state:options.state,tileGrid:options.tileGrid,tilePixelRatio:options.tilePixelRatio,wrapX:options.wrapX,transition:options.transition,interpolate:options.interpolate,key:options.key,attributionsCollapsible:options.attributionsCollapsible,zDirection:options.zDirection})||this;return _this.generateTileUrlFunction_=_this.tileUrlFunction===UrlTile.prototype.tileUrlFunction,_this.tileLoadFunction=options.tileLoadFunction,options.tileUrlFunction&&(_this.tileUrlFunction=options.tileUrlFunction),_this.urls=null,options.urls?_this.setUrls(options.urls):options.url&&_this.setUrl(options.url),_this.tileLoadingKeys_={},_this}return UrlTile_extends(UrlTile,_super),UrlTile.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},UrlTile.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},UrlTile.prototype.getUrls=function(){return this.urls},UrlTile.prototype.handleTileChange=function(event){var type,tile=event.target,uid=(0,util.sq)(tile),tileState=tile.getState();tileState==TileState.Z.LOADING?(this.tileLoadingKeys_[uid]=!0,type=TileEventType_TILELOADSTART):uid in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[uid],type=tileState==TileState.Z.ERROR?TileEventType_TILELOADERROR:tileState==TileState.Z.LOADED?TileEventType_TILELOADEND:void 0),null!=type&&this.dispatchEvent(new TileSourceEvent(type,tile))},UrlTile.prototype.setTileLoadFunction=function(tileLoadFunction){this.tileCache.clear(),this.tileLoadFunction=tileLoadFunction,this.changed()},UrlTile.prototype.setTileUrlFunction=function(tileUrlFunction,key){this.tileUrlFunction=tileUrlFunction,this.tileCache.pruneExceptNewestZ(),void 0!==key?this.setKey(key):this.changed()},UrlTile.prototype.setUrl=function(url){var urls=(0,tileurlfunction.Gk)(url);this.urls=urls,this.setUrls(urls)},UrlTile.prototype.setUrls=function(urls){this.urls=urls;var key=urls.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,tileurlfunction.uR)(urls,this.tileGrid),key):this.setKey(key)},UrlTile.prototype.tileUrlFunction=function(tileCoord,pixelRatio,projection){},UrlTile.prototype.useTile=function(z,x,y){var tileCoordKey=(0,tilecoord.lg)(z,x,y);this.tileCache.containsKey(tileCoordKey)&&this.tileCache.get(tileCoordKey)},UrlTile}(source_Tile);var common=__webpack_require__("./node_modules/ol/reproj/common.js"),TileImage_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),TileImage=function(_super){function TileImage(options){var _this=this,interpolate=void 0===options.imageSmoothing||options.imageSmoothing;return void 0!==options.interpolate&&(interpolate=options.interpolate),(_this=_super.call(this,{attributions:options.attributions,cacheSize:options.cacheSize,opaque:options.opaque,projection:options.projection,state:options.state,tileGrid:options.tileGrid,tileLoadFunction:options.tileLoadFunction?options.tileLoadFunction:defaultTileLoadFunction,tilePixelRatio:options.tilePixelRatio,tileUrlFunction:options.tileUrlFunction,url:options.url,urls:options.urls,wrapX:options.wrapX,transition:options.transition,interpolate,key:options.key,attributionsCollapsible:options.attributionsCollapsible,zDirection:options.zDirection})||this).crossOrigin=void 0!==options.crossOrigin?options.crossOrigin:null,_this.tileClass=void 0!==options.tileClass?options.tileClass:ImageTile.Z,_this.tileCacheForProjection={},_this.tileGridForProjection={},_this.reprojectionErrorThreshold_=options.reprojectionErrorThreshold,_this.renderReprojectionEdges_=!1,_this}return TileImage_extends(TileImage,_super),TileImage.prototype.canExpireCache=function(){if(!common.j)return _super.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var key in this.tileCacheForProjection)if(this.tileCacheForProjection[key].canExpireCache())return!0;return!1},TileImage.prototype.expireCache=function(projection,usedTiles){if(common.j){var usedTileCache=this.getTileCacheForProjection(projection);for(var id in this.tileCache.expireCache(this.tileCache==usedTileCache?usedTiles:{}),this.tileCacheForProjection){var tileCache=this.tileCacheForProjection[id];tileCache.expireCache(tileCache==usedTileCache?usedTiles:{})}}else _super.prototype.expireCache.call(this,projection,usedTiles)},TileImage.prototype.getGutterForProjection=function(projection){return common.j&&this.getProjection()&&projection&&!(0,ol_proj.OP)(this.getProjection(),projection)?0:this.getGutter()},TileImage.prototype.getGutter=function(){return 0},TileImage.prototype.getKey=function(){var key=_super.prototype.getKey.call(this);return this.getInterpolate()||(key+=":disable-interpolation"),key},TileImage.prototype.getOpaque=function(projection){return!(common.j&&this.getProjection()&&projection&&!(0,ol_proj.OP)(this.getProjection(),projection))&&_super.prototype.getOpaque.call(this,projection)},TileImage.prototype.getTileGridForProjection=function(projection){if(!common.j)return _super.prototype.getTileGridForProjection.call(this,projection);var thisProj=this.getProjection();if(!this.tileGrid||thisProj&&!(0,ol_proj.OP)(thisProj,projection)){var projKey=(0,util.sq)(projection);return projKey in this.tileGridForProjection||(this.tileGridForProjection[projKey]=(0,tilegrid.X$)(projection)),this.tileGridForProjection[projKey]}return this.tileGrid},TileImage.prototype.getTileCacheForProjection=function(projection){if(!common.j)return _super.prototype.getTileCacheForProjection.call(this,projection);var thisProj=this.getProjection();if(!thisProj||(0,ol_proj.OP)(thisProj,projection))return this.tileCache;var projKey=(0,util.sq)(projection);return projKey in this.tileCacheForProjection||(this.tileCacheForProjection[projKey]=new ol_TileCache(this.tileCache.highWaterMark)),this.tileCacheForProjection[projKey]},TileImage.prototype.createTile_=function(z,x,y,pixelRatio,projection,key){var tileCoord=[z,x,y],urlTileCoord=this.getTileCoordForTileUrlFunction(tileCoord,projection),tileUrl=urlTileCoord?this.tileUrlFunction(urlTileCoord,pixelRatio,projection):void 0,tile=new this.tileClass(tileCoord,void 0!==tileUrl?TileState.Z.IDLE:TileState.Z.EMPTY,void 0!==tileUrl?tileUrl:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return tile.key=key,tile.addEventListener(EventType.Z.CHANGE,this.handleTileChange.bind(this)),tile},TileImage.prototype.getTile=function(z,x,y,pixelRatio,projection){var sourceProjection=this.getProjection();if(common.j&&sourceProjection&&projection&&!(0,ol_proj.OP)(sourceProjection,projection)){var cache=this.getTileCacheForProjection(projection),tileCoord=[z,x,y],tile=void 0,tileCoordKey=(0,tilecoord.km)(tileCoord);cache.containsKey(tileCoordKey)&&(tile=cache.get(tileCoordKey));var key=this.getKey();if(tile&&tile.key==key)return tile;var sourceTileGrid=this.getTileGridForProjection(sourceProjection),targetTileGrid=this.getTileGridForProjection(projection),wrappedTileCoord=this.getTileCoordForTileUrlFunction(tileCoord,projection),newTile=new Tile.Z(sourceProjection,sourceTileGrid,projection,targetTileGrid,tileCoord,wrappedTileCoord,this.getTilePixelRatio(pixelRatio),this.getGutter(),function(z,x,y,pixelRatio){return this.getTileInternal(z,x,y,pixelRatio,sourceProjection)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return newTile.key=key,tile?(newTile.interimTile=tile,newTile.refreshInterimChain(),cache.replace(tileCoordKey,newTile)):cache.set(tileCoordKey,newTile),newTile}return this.getTileInternal(z,x,y,pixelRatio,sourceProjection||projection)},TileImage.prototype.getTileInternal=function(z,x,y,pixelRatio,projection){var tile=null,tileCoordKey=(0,tilecoord.lg)(z,x,y),key=this.getKey();if(this.tileCache.containsKey(tileCoordKey)){if((tile=this.tileCache.get(tileCoordKey)).key!=key){var interimTile=tile;tile=this.createTile_(z,x,y,pixelRatio,projection,key),interimTile.getState()==TileState.Z.IDLE?tile.interimTile=interimTile.interimTile:tile.interimTile=interimTile,tile.refreshInterimChain(),this.tileCache.replace(tileCoordKey,tile)}}else tile=this.createTile_(z,x,y,pixelRatio,projection,key),this.tileCache.set(tileCoordKey,tile);return tile},TileImage.prototype.setRenderReprojectionEdges=function(render){if(common.j&&this.renderReprojectionEdges_!=render){for(var id in this.renderReprojectionEdges_=render,this.tileCacheForProjection)this.tileCacheForProjection[id].clear();this.changed()}},TileImage.prototype.setTileGridForProjection=function(projection,tilegrid){if(common.j){var proj=(0,ol_proj.U2)(projection);if(proj){var projKey=(0,util.sq)(proj);projKey in this.tileGridForProjection||(this.tileGridForProjection[projKey]=tilegrid)}}},TileImage}(source_UrlTile);function defaultTileLoadFunction(imageTile,src){imageTile.getImage().src=src}const source_TileImage=TileImage},"./node_modules/ol/source/TileWMS.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var extendStatics,_TileImage_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/ol/source/TileImage.js"),_wms_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/source/wms.js"),_uri_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ol/uri.js"),_asserts_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/ol/asserts.js"),_obj_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/obj.js"),_extent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/extent.js"),_size_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/size.js"),_reproj_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/reproj.js"),_string_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/ol/string.js"),_proj_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/proj.js"),_math_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/ol/math.js"),_tilecoord_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/ol/tilecoord.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const __WEBPACK_DEFAULT_EXPORT__=function(_super){function TileWMS(opt_options){var _this=this,options=opt_options||{},interpolate=void 0===options.imageSmoothing||options.imageSmoothing;void 0!==options.interpolate&&(interpolate=options.interpolate);var params=options.params||{},transparent=!("TRANSPARENT"in params)||params.TRANSPARENT;return(_this=_super.call(this,{attributions:options.attributions,attributionsCollapsible:options.attributionsCollapsible,cacheSize:options.cacheSize,crossOrigin:options.crossOrigin,interpolate,opaque:!transparent,projection:options.projection,reprojectionErrorThreshold:options.reprojectionErrorThreshold,tileClass:options.tileClass,tileGrid:options.tileGrid,tileLoadFunction:options.tileLoadFunction,url:options.url,urls:options.urls,wrapX:void 0===options.wrapX||options.wrapX,transition:options.transition,zDirection:options.zDirection})||this).gutter_=void 0!==options.gutter?options.gutter:0,_this.params_=params,_this.v13_=!0,_this.serverType_=options.serverType,_this.hidpi_=void 0===options.hidpi||options.hidpi,_this.tmpExtent_=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.lJ)(),_this.updateV13_(),_this.setKey(_this.getKeyForParams_()),_this}return __extends(TileWMS,_super),TileWMS.prototype.getFeatureInfoUrl=function(coordinate,resolution,projection,params){var projectionObj=(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.U2)(projection),sourceProjectionObj=this.getProjection(),tileGrid=this.getTileGrid();tileGrid||(tileGrid=this.getTileGridForProjection(projectionObj));var z=tileGrid.getZForResolution(resolution,this.zDirection),tileCoord=tileGrid.getTileCoordForCoordAndZ(coordinate,z);if(!(tileGrid.getResolutions().length<=tileCoord[0])){var tileResolution=tileGrid.getResolution(tileCoord[0]),tileExtent=tileGrid.getTileCoordExtent(tileCoord,this.tmpExtent_),tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_2__.Pq)(tileGrid.getTileSize(tileCoord[0]),this.tmpSize),gutter=this.gutter_;0!==gutter&&(tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_2__.f3)(tileSize,gutter,this.tmpSize),tileExtent=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.f3)(tileExtent,tileResolution*gutter,tileExtent)),sourceProjectionObj&&sourceProjectionObj!==projectionObj&&(tileResolution=(0,_reproj_js__WEBPACK_IMPORTED_MODULE_3__.aA)(sourceProjectionObj,projectionObj,coordinate,tileResolution),tileExtent=(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.$A)(tileExtent,projectionObj,sourceProjectionObj),coordinate=(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.vs)(coordinate,projectionObj,sourceProjectionObj));var baseParams={SERVICE:"WMS",VERSION:_wms_js__WEBPACK_IMPORTED_MODULE_4__.e,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,_obj_js__WEBPACK_IMPORTED_MODULE_5__.f0)(baseParams,this.params_,params);var x=Math.floor((coordinate[0]-tileExtent[0])/tileResolution),y=Math.floor((tileExtent[3]-coordinate[1])/tileResolution);return baseParams[this.v13_?"I":"X"]=x,baseParams[this.v13_?"J":"Y"]=y,this.getRequestUrl_(tileCoord,tileSize,tileExtent,1,sourceProjectionObj||projectionObj,baseParams)}},TileWMS.prototype.getLegendUrl=function(resolution,params){if(void 0!==this.urls[0]){var baseParams={SERVICE:"WMS",VERSION:_wms_js__WEBPACK_IMPORTED_MODULE_4__.e,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===params||void 0===params.LAYER){var layers=this.params_.LAYERS;if(!(!Array.isArray(layers)||1===layers.length))return;baseParams.LAYER=layers}if(void 0!==resolution){var mpu=this.getProjection()?this.getProjection().getMetersPerUnit():1;baseParams.SCALE=resolution*mpu/28e-5}return(0,_obj_js__WEBPACK_IMPORTED_MODULE_5__.f0)(baseParams,params),(0,_uri_js__WEBPACK_IMPORTED_MODULE_6__.B)(this.urls[0],baseParams)}},TileWMS.prototype.getGutter=function(){return this.gutter_},TileWMS.prototype.getParams=function(){return this.params_},TileWMS.prototype.getRequestUrl_=function(tileCoord,tileSize,tileExtent,pixelRatio,projection,params){var urls=this.urls;if(urls){if(params.WIDTH=tileSize[0],params.HEIGHT=tileSize[1],params[this.v13_?"CRS":"SRS"]=projection.getCode(),"STYLES"in this.params_||(params.STYLES=""),1!=pixelRatio)switch(this.serverType_){case"geoserver":var dpi=90*pixelRatio+.5|0;"FORMAT_OPTIONS"in params?params.FORMAT_OPTIONS+=";dpi:"+dpi:params.FORMAT_OPTIONS="dpi:"+dpi;break;case"mapserver":params.MAP_RESOLUTION=90*pixelRatio;break;case"carmentaserver":case"qgis":params.DPI=90*pixelRatio;break;default:(0,_asserts_js__WEBPACK_IMPORTED_MODULE_7__.h)(!1,52)}var url,axisOrientation=projection.getAxisOrientation(),bbox=tileExtent;if(this.v13_&&"ne"==axisOrientation.substr(0,2)){var tmp=void 0;tmp=tileExtent[0],bbox[0]=tileExtent[1],bbox[1]=tmp,tmp=tileExtent[2],bbox[2]=tileExtent[3],bbox[3]=tmp}if(params.BBOX=bbox.join(","),1==urls.length)url=urls[0];else url=urls[(0,_math_js__WEBPACK_IMPORTED_MODULE_8__.$W)((0,_tilecoord_js__WEBPACK_IMPORTED_MODULE_9__.vp)(tileCoord),urls.length)];return(0,_uri_js__WEBPACK_IMPORTED_MODULE_6__.B)(url,params)}},TileWMS.prototype.getTilePixelRatio=function(pixelRatio){return this.hidpi_&&void 0!==this.serverType_?pixelRatio:1},TileWMS.prototype.getKeyForParams_=function(){var i=0,res=[];for(var key in this.params_)res[i++]=key+"-"+this.params_[key];return res.join("/")},TileWMS.prototype.updateParams=function(params){(0,_obj_js__WEBPACK_IMPORTED_MODULE_5__.f0)(this.params_,params),this.updateV13_(),this.setKey(this.getKeyForParams_())},TileWMS.prototype.updateV13_=function(){var version=this.params_.VERSION||_wms_js__WEBPACK_IMPORTED_MODULE_4__.e;this.v13_=(0,_string_js__WEBPACK_IMPORTED_MODULE_10__.n)(version,"1.3")>=0},TileWMS.prototype.tileUrlFunction=function(tileCoord,pixelRatio,projection){var tileGrid=this.getTileGrid();if(tileGrid||(tileGrid=this.getTileGridForProjection(projection)),!(tileGrid.getResolutions().length<=tileCoord[0])){1==pixelRatio||this.hidpi_&&void 0!==this.serverType_||(pixelRatio=1);var tileResolution=tileGrid.getResolution(tileCoord[0]),tileExtent=tileGrid.getTileCoordExtent(tileCoord,this.tmpExtent_),tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_2__.Pq)(tileGrid.getTileSize(tileCoord[0]),this.tmpSize),gutter=this.gutter_;0!==gutter&&(tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_2__.f3)(tileSize,gutter,this.tmpSize),tileExtent=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.f3)(tileExtent,tileResolution*gutter,tileExtent)),1!=pixelRatio&&(tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_2__.bA)(tileSize,pixelRatio,this.tmpSize));var baseParams={SERVICE:"WMS",VERSION:_wms_js__WEBPACK_IMPORTED_MODULE_4__.e,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return(0,_obj_js__WEBPACK_IMPORTED_MODULE_5__.f0)(baseParams,this.params_),this.getRequestUrl_(tileCoord,tileSize,tileExtent,pixelRatio,projection,baseParams)}},TileWMS}(_TileImage_js__WEBPACK_IMPORTED_MODULE_11__.Z)},"./node_modules/ol/source/Vector.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Vector});var Collection=__webpack_require__("./node_modules/ol/Collection.js"),CollectionEventType=__webpack_require__("./node_modules/ol/CollectionEventType.js"),Event=__webpack_require__("./node_modules/ol/events/Event.js"),EventType=__webpack_require__("./node_modules/ol/events/EventType.js"),ObjectEventType=__webpack_require__("./node_modules/ol/ObjectEventType.js"),rbush_min=__webpack_require__("./node_modules/rbush/rbush.min.js"),rbush_min_default=__webpack_require__.n(rbush_min),ol_extent=__webpack_require__("./node_modules/ol/extent.js"),util=__webpack_require__("./node_modules/ol/util.js"),obj=__webpack_require__("./node_modules/ol/obj.js");const structs_RBush=function(){function RBush(opt_maxEntries){this.rbush_=new(rbush_min_default())(opt_maxEntries),this.items_={}}return RBush.prototype.insert=function(extent,value){var item={minX:extent[0],minY:extent[1],maxX:extent[2],maxY:extent[3],value};this.rbush_.insert(item),this.items_[(0,util.sq)(value)]=item},RBush.prototype.load=function(extents,values){for(var items=new Array(values.length),i=0,l=values.length;i<l;i++){var extent=extents[i],value=values[i],item={minX:extent[0],minY:extent[1],maxX:extent[2],maxY:extent[3],value};items[i]=item,this.items_[(0,util.sq)(value)]=item}this.rbush_.load(items)},RBush.prototype.remove=function(value){var uid=(0,util.sq)(value),item=this.items_[uid];return delete this.items_[uid],null!==this.rbush_.remove(item)},RBush.prototype.update=function(extent,value){var item=this.items_[(0,util.sq)(value)],bbox=[item.minX,item.minY,item.maxX,item.maxY];(0,ol_extent.fS)(bbox,extent)||(this.remove(value),this.insert(extent,value))},RBush.prototype.getAll=function(){return this.rbush_.all().map((function(item){return item.value}))},RBush.prototype.getInExtent=function(extent){var bbox={minX:extent[0],minY:extent[1],maxX:extent[2],maxY:extent[3]};return this.rbush_.search(bbox).map((function(item){return item.value}))},RBush.prototype.forEach=function(callback){return this.forEach_(this.getAll(),callback)},RBush.prototype.forEachInExtent=function(extent,callback){return this.forEach_(this.getInExtent(extent),callback)},RBush.prototype.forEach_=function(values,callback){for(var result,i=0,l=values.length;i<l;i++)if(result=callback(values[i]))return result;return result},RBush.prototype.isEmpty=function(){return(0,obj.xb)(this.items_)},RBush.prototype.clear=function(){this.rbush_.clear(),this.items_={}},RBush.prototype.getExtent=function(opt_extent){var data=this.rbush_.toJSON();return(0,ol_extent.T9)(data.minX,data.minY,data.maxX,data.maxY,opt_extent)},RBush.prototype.concat=function(rbush){for(var i in this.rbush_.load(rbush.rbush_.all()),rbush.items_)this.items_[i]=rbush.items_[i]},RBush}();var Source=__webpack_require__("./node_modules/ol/source/Source.js");const VectorEventType_ADDFEATURE="addfeature",VectorEventType_CHANGEFEATURE="changefeature",VectorEventType_CLEAR="clear",VectorEventType_REMOVEFEATURE="removefeature",VectorEventType_FEATURESLOADSTART="featuresloadstart",VectorEventType_FEATURESLOADEND="featuresloadend",VectorEventType_FEATURESLOADERROR="featuresloaderror";var functions=__webpack_require__("./node_modules/ol/functions.js"),loadingstrategy=__webpack_require__("./node_modules/ol/loadingstrategy.js"),asserts=__webpack_require__("./node_modules/ol/asserts.js"),array=__webpack_require__("./node_modules/ol/array.js"),events=__webpack_require__("./node_modules/ol/events.js"),withCredentials=!1;function xhr(url,format){return function(extent,resolution,projection,success,failure){var source=this;!function loadFeaturesXhr(url,format,extent,resolution,projection,success,failure){var xhr=new XMLHttpRequest;xhr.open("GET","function"==typeof url?url(extent,resolution,projection):url,!0),"arraybuffer"==format.getType()&&(xhr.responseType="arraybuffer"),xhr.withCredentials=withCredentials,xhr.onload=function(event){if(!xhr.status||xhr.status>=200&&xhr.status<300){var type=format.getType(),source=void 0;"json"==type||"text"==type?source=xhr.responseText:"xml"==type?(source=xhr.responseXML)||(source=(new DOMParser).parseFromString(xhr.responseText,"application/xml")):"arraybuffer"==type&&(source=xhr.response),source?success(format.readFeatures(source,{extent,featureProjection:projection}),format.readProjection(source)):failure()}else failure()},xhr.onerror=failure,xhr.send()}(url,format,extent,resolution,projection,(function(features,dataProjection){source.addFeatures(features),void 0!==success&&success(features)}),failure||functions.Zn)}}var extendStatics,__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),VectorSourceEvent=function(_super){function VectorSourceEvent(type,opt_feature,opt_features){var _this=_super.call(this,type)||this;return _this.feature=opt_feature,_this.features=opt_features,_this}return __extends(VectorSourceEvent,_super),VectorSourceEvent}(Event.ZP),VectorSource=function(_super){function VectorSource(opt_options){var _this=this,options=opt_options||{};(_this=_super.call(this,{attributions:options.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===options.wrapX||options.wrapX})||this).on,_this.once,_this.un,_this.loader_=functions.Zn,_this.format_=options.format,_this.overlaps_=void 0===options.overlaps||options.overlaps,_this.url_=options.url,void 0!==options.loader?_this.loader_=options.loader:void 0!==_this.url_&&((0,asserts.h)(_this.format_,7),_this.loader_=xhr(_this.url_,_this.format_)),_this.strategy_=void 0!==options.strategy?options.strategy:loadingstrategy.$6;var collection,features,useSpatialIndex=void 0===options.useSpatialIndex||options.useSpatialIndex;return _this.featuresRtree_=useSpatialIndex?new structs_RBush:null,_this.loadedExtentsRtree_=new structs_RBush,_this.loadingExtentsCount_=0,_this.nullGeometryFeatures_={},_this.idIndex_={},_this.uidIndex_={},_this.featureChangeKeys_={},_this.featuresCollection_=null,Array.isArray(options.features)?features=options.features:options.features&&(features=(collection=options.features).getArray()),useSpatialIndex||void 0!==collection||(collection=new Collection.Z(features)),void 0!==features&&_this.addFeaturesInternal(features),void 0!==collection&&_this.bindFeaturesCollection_(collection),_this}return __extends(VectorSource,_super),VectorSource.prototype.addFeature=function(feature){this.addFeatureInternal(feature),this.changed()},VectorSource.prototype.addFeatureInternal=function(feature){var featureKey=(0,util.sq)(feature);if(this.addToIndex_(featureKey,feature)){this.setupChangeEvents_(featureKey,feature);var geometry=feature.getGeometry();if(geometry){var extent=geometry.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(extent,feature)}else this.nullGeometryFeatures_[featureKey]=feature;this.dispatchEvent(new VectorSourceEvent(VectorEventType_ADDFEATURE,feature))}else this.featuresCollection_&&this.featuresCollection_.remove(feature)},VectorSource.prototype.setupChangeEvents_=function(featureKey,feature){this.featureChangeKeys_[featureKey]=[(0,events.oL)(feature,EventType.Z.CHANGE,this.handleFeatureChange_,this),(0,events.oL)(feature,ObjectEventType.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]},VectorSource.prototype.addToIndex_=function(featureKey,feature){var valid=!0,id=feature.getId();return void 0!==id&&(id.toString()in this.idIndex_?valid=!1:this.idIndex_[id.toString()]=feature),valid&&((0,asserts.h)(!(featureKey in this.uidIndex_),30),this.uidIndex_[featureKey]=feature),valid},VectorSource.prototype.addFeatures=function(features){this.addFeaturesInternal(features),this.changed()},VectorSource.prototype.addFeaturesInternal=function(features){for(var extents=[],newFeatures=[],geometryFeatures=[],i=0,length_1=features.length;i<length_1;i++){var feature=features[i],featureKey=(0,util.sq)(feature);this.addToIndex_(featureKey,feature)&&newFeatures.push(feature)}i=0;for(var length_2=newFeatures.length;i<length_2;i++){feature=newFeatures[i],featureKey=(0,util.sq)(feature);this.setupChangeEvents_(featureKey,feature);var geometry=feature.getGeometry();if(geometry){var extent=geometry.getExtent();extents.push(extent),geometryFeatures.push(feature)}else this.nullGeometryFeatures_[featureKey]=feature}if(this.featuresRtree_&&this.featuresRtree_.load(extents,geometryFeatures),this.hasListener(VectorEventType_ADDFEATURE)){i=0;for(var length_3=newFeatures.length;i<length_3;i++)this.dispatchEvent(new VectorSourceEvent(VectorEventType_ADDFEATURE,newFeatures[i]))}},VectorSource.prototype.bindFeaturesCollection_=function(collection){var modifyingCollection=!1;this.addEventListener(VectorEventType_ADDFEATURE,(function(evt){modifyingCollection||(modifyingCollection=!0,collection.push(evt.feature),modifyingCollection=!1)})),this.addEventListener(VectorEventType_REMOVEFEATURE,(function(evt){modifyingCollection||(modifyingCollection=!0,collection.remove(evt.feature),modifyingCollection=!1)})),collection.addEventListener(CollectionEventType.Z.ADD,function(evt){modifyingCollection||(modifyingCollection=!0,this.addFeature(evt.element),modifyingCollection=!1)}.bind(this)),collection.addEventListener(CollectionEventType.Z.REMOVE,function(evt){modifyingCollection||(modifyingCollection=!0,this.removeFeature(evt.element),modifyingCollection=!1)}.bind(this)),this.featuresCollection_=collection},VectorSource.prototype.clear=function(opt_fast){if(opt_fast){for(var featureId in this.featureChangeKeys_){this.featureChangeKeys_[featureId].forEach(events.bN)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var removeAndIgnoreReturn=function(feature){this.removeFeatureInternal(feature)}.bind(this);for(var id in this.featuresRtree_.forEach(removeAndIgnoreReturn),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[id])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var clearEvent=new VectorSourceEvent(VectorEventType_CLEAR);this.dispatchEvent(clearEvent),this.changed()},VectorSource.prototype.forEachFeature=function(callback){if(this.featuresRtree_)return this.featuresRtree_.forEach(callback);this.featuresCollection_&&this.featuresCollection_.forEach(callback)},VectorSource.prototype.forEachFeatureAtCoordinateDirect=function(coordinate,callback){var extent=[coordinate[0],coordinate[1],coordinate[0],coordinate[1]];return this.forEachFeatureInExtent(extent,(function(feature){return feature.getGeometry().intersectsCoordinate(coordinate)?callback(feature):void 0}))},VectorSource.prototype.forEachFeatureInExtent=function(extent,callback){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(extent,callback);this.featuresCollection_&&this.featuresCollection_.forEach(callback)},VectorSource.prototype.forEachFeatureIntersectingExtent=function(extent,callback){return this.forEachFeatureInExtent(extent,(function(feature){if(feature.getGeometry().intersectsExtent(extent)){var result=callback(feature);if(result)return result}}))},VectorSource.prototype.getFeaturesCollection=function(){return this.featuresCollection_},VectorSource.prototype.getFeatures=function(){var features;return this.featuresCollection_?features=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(features=this.featuresRtree_.getAll(),(0,obj.xb)(this.nullGeometryFeatures_)||(0,array.l7)(features,(0,obj.KX)(this.nullGeometryFeatures_))),features},VectorSource.prototype.getFeaturesAtCoordinate=function(coordinate){var features=[];return this.forEachFeatureAtCoordinateDirect(coordinate,(function(feature){features.push(feature)})),features},VectorSource.prototype.getFeaturesInExtent=function(extent,opt_projection){var _this=this;if(this.featuresRtree_){if(!(opt_projection&&opt_projection.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(extent);var extents=(0,ol_extent.MV)(extent,opt_projection);return[].concat.apply([],extents.map((function(anExtent){return _this.featuresRtree_.getInExtent(anExtent)})))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},VectorSource.prototype.getClosestFeatureToCoordinate=function(coordinate,opt_filter){var x=coordinate[0],y=coordinate[1],closestFeature=null,closestPoint=[NaN,NaN],minSquaredDistance=1/0,extent=[-1/0,-1/0,1/0,1/0],filter=opt_filter||functions.uX;return this.featuresRtree_.forEachInExtent(extent,(function(feature){if(filter(feature)){var geometry=feature.getGeometry(),previousMinSquaredDistance=minSquaredDistance;if((minSquaredDistance=geometry.closestPointXY(x,y,closestPoint,minSquaredDistance))<previousMinSquaredDistance){closestFeature=feature;var minDistance=Math.sqrt(minSquaredDistance);extent[0]=x-minDistance,extent[1]=y-minDistance,extent[2]=x+minDistance,extent[3]=y+minDistance}}})),closestFeature},VectorSource.prototype.getExtent=function(opt_extent){return this.featuresRtree_.getExtent(opt_extent)},VectorSource.prototype.getFeatureById=function(id){var feature=this.idIndex_[id.toString()];return void 0!==feature?feature:null},VectorSource.prototype.getFeatureByUid=function(uid){var feature=this.uidIndex_[uid];return void 0!==feature?feature:null},VectorSource.prototype.getFormat=function(){return this.format_},VectorSource.prototype.getOverlaps=function(){return this.overlaps_},VectorSource.prototype.getUrl=function(){return this.url_},VectorSource.prototype.handleFeatureChange_=function(event){var feature=event.target,featureKey=(0,util.sq)(feature),geometry=feature.getGeometry();if(geometry){var extent=geometry.getExtent();featureKey in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[featureKey],this.featuresRtree_&&this.featuresRtree_.insert(extent,feature)):this.featuresRtree_&&this.featuresRtree_.update(extent,feature)}else featureKey in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(feature),this.nullGeometryFeatures_[featureKey]=feature);var id=feature.getId();if(void 0!==id){var sid=id.toString();this.idIndex_[sid]!==feature&&(this.removeFromIdIndex_(feature),this.idIndex_[sid]=feature)}else this.removeFromIdIndex_(feature),this.uidIndex_[featureKey]=feature;this.changed(),this.dispatchEvent(new VectorSourceEvent(VectorEventType_CHANGEFEATURE,feature))},VectorSource.prototype.hasFeature=function(feature){var id=feature.getId();return void 0!==id?id in this.idIndex_:(0,util.sq)(feature)in this.uidIndex_},VectorSource.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,obj.xb)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},VectorSource.prototype.loadFeatures=function(extent,resolution,projection){for(var loadedExtentsRtree=this.loadedExtentsRtree_,extentsToLoad=this.strategy_(extent,resolution,projection),_loop_1=function(i,ii){var extentToLoad=extentsToLoad[i];loadedExtentsRtree.forEachInExtent(extentToLoad,(function(object){return(0,ol_extent.r4)(object.extent,extentToLoad)}))||(++this_1.loadingExtentsCount_,this_1.dispatchEvent(new VectorSourceEvent(VectorEventType_FEATURESLOADSTART)),this_1.loader_.call(this_1,extentToLoad,resolution,projection,function(features){--this.loadingExtentsCount_,this.dispatchEvent(new VectorSourceEvent(VectorEventType_FEATURESLOADEND,void 0,features))}.bind(this_1),function(){--this.loadingExtentsCount_,this.dispatchEvent(new VectorSourceEvent(VectorEventType_FEATURESLOADERROR))}.bind(this_1)),loadedExtentsRtree.insert(extentToLoad,{extent:extentToLoad.slice()}))},this_1=this,i=0,ii=extentsToLoad.length;i<ii;++i)_loop_1(i);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},VectorSource.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),_super.prototype.refresh.call(this)},VectorSource.prototype.removeLoadedExtent=function(extent){var obj,loadedExtentsRtree=this.loadedExtentsRtree_;loadedExtentsRtree.forEachInExtent(extent,(function(object){if((0,ol_extent.fS)(object.extent,extent))return obj=object,!0})),obj&&loadedExtentsRtree.remove(obj)},VectorSource.prototype.removeFeature=function(feature){if(feature){var featureKey=(0,util.sq)(feature);featureKey in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[featureKey]:this.featuresRtree_&&this.featuresRtree_.remove(feature),this.removeFeatureInternal(feature)&&this.changed()}},VectorSource.prototype.removeFeatureInternal=function(feature){var featureKey=(0,util.sq)(feature),featureChangeKeys=this.featureChangeKeys_[featureKey];if(featureChangeKeys){featureChangeKeys.forEach(events.bN),delete this.featureChangeKeys_[featureKey];var id=feature.getId();return void 0!==id&&delete this.idIndex_[id.toString()],delete this.uidIndex_[featureKey],this.dispatchEvent(new VectorSourceEvent(VectorEventType_REMOVEFEATURE,feature)),feature}},VectorSource.prototype.removeFromIdIndex_=function(feature){var removed=!1;for(var id in this.idIndex_)if(this.idIndex_[id]===feature){delete this.idIndex_[id],removed=!0;break}return removed},VectorSource.prototype.setLoader=function(loader){this.loader_=loader},VectorSource.prototype.setUrl=function(url){(0,asserts.h)(this.format_,7),this.url_=url,this.setLoader(xhr(url,this.format_))},VectorSource}(Source.Z);const Vector=VectorSource},"./node_modules/ol/source/WMTS.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>source_WMTS,B:()=>optionsFromCapabilities});var extendStatics,TileImage=__webpack_require__("./node_modules/ol/source/TileImage.js"),uri=__webpack_require__("./node_modules/ol/uri.js"),obj=__webpack_require__("./node_modules/ol/obj.js"),ol_extent=__webpack_require__("./node_modules/ol/extent.js"),TileGrid=__webpack_require__("./node_modules/ol/tilegrid/TileGrid.js"),ol_array=__webpack_require__("./node_modules/ol/array.js"),proj=__webpack_require__("./node_modules/ol/proj.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),WMTSTileGrid=function(_super){function WMTSTileGrid(options){var _this=_super.call(this,{extent:options.extent,origin:options.origin,origins:options.origins,resolutions:options.resolutions,tileSize:options.tileSize,tileSizes:options.tileSizes,sizes:options.sizes})||this;return _this.matrixIds_=options.matrixIds,_this}return __extends(WMTSTileGrid,_super),WMTSTileGrid.prototype.getMatrixId=function(z){return this.matrixIds_[z]},WMTSTileGrid.prototype.getMatrixIds=function(){return this.matrixIds_},WMTSTileGrid}(TileGrid.Z);var tileurlfunction=__webpack_require__("./node_modules/ol/tileurlfunction.js"),WMTS_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),WMTS_WMTS=function(_super){function WMTS(options){var _this=this,interpolate=void 0===options.imageSmoothing||options.imageSmoothing;void 0!==options.interpolate&&(interpolate=options.interpolate);var requestEncoding=void 0!==options.requestEncoding?options.requestEncoding:"KVP",tileGrid=options.tileGrid,urls=options.urls;return void 0===urls&&void 0!==options.url&&(urls=(0,tileurlfunction.Gk)(options.url)),(_this=_super.call(this,{attributions:options.attributions,attributionsCollapsible:options.attributionsCollapsible,cacheSize:options.cacheSize,crossOrigin:options.crossOrigin,interpolate,projection:options.projection,reprojectionErrorThreshold:options.reprojectionErrorThreshold,tileClass:options.tileClass,tileGrid,tileLoadFunction:options.tileLoadFunction,tilePixelRatio:options.tilePixelRatio,urls,wrapX:void 0!==options.wrapX&&options.wrapX,transition:options.transition,zDirection:options.zDirection})||this).version_=void 0!==options.version?options.version:"1.0.0",_this.format_=void 0!==options.format?options.format:"image/jpeg",_this.dimensions_=void 0!==options.dimensions?options.dimensions:{},_this.layer_=options.layer,_this.matrixSet_=options.matrixSet,_this.style_=options.style,_this.requestEncoding_=requestEncoding,_this.setKey(_this.getKeyForDimensions_()),urls&&urls.length>0&&(_this.tileUrlFunction=(0,tileurlfunction.Un)(urls.map(_this.createFromWMTSTemplate.bind(_this)))),_this}return WMTS_extends(WMTS,_super),WMTS.prototype.setUrls=function(urls){this.urls=urls;var key=urls.join("\n");this.setTileUrlFunction((0,tileurlfunction.Un)(urls.map(this.createFromWMTSTemplate.bind(this))),key)},WMTS.prototype.getDimensions=function(){return this.dimensions_},WMTS.prototype.getFormat=function(){return this.format_},WMTS.prototype.getLayer=function(){return this.layer_},WMTS.prototype.getMatrixSet=function(){return this.matrixSet_},WMTS.prototype.getRequestEncoding=function(){return this.requestEncoding_},WMTS.prototype.getStyle=function(){return this.style_},WMTS.prototype.getVersion=function(){return this.version_},WMTS.prototype.getKeyForDimensions_=function(){var i=0,res=[];for(var key in this.dimensions_)res[i++]=key+"-"+this.dimensions_[key];return res.join("/")},WMTS.prototype.updateDimensions=function(dimensions){(0,obj.f0)(this.dimensions_,dimensions),this.setKey(this.getKeyForDimensions_())},WMTS.prototype.createFromWMTSTemplate=function(template){var requestEncoding=this.requestEncoding_,context={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==requestEncoding&&(0,obj.f0)(context,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),template="KVP"==requestEncoding?(0,uri.B)(template,context):template.replace(/\{(\w+?)\}/g,(function(m,p){return p.toLowerCase()in context?context[p.toLowerCase()]:m}));var tileGrid=this.tileGrid,dimensions=this.dimensions_;return function(tileCoord,pixelRatio,projection){if(tileCoord){var localContext_1={TileMatrix:tileGrid.getMatrixId(tileCoord[0]),TileCol:tileCoord[1],TileRow:tileCoord[2]};(0,obj.f0)(localContext_1,dimensions);var url=template;return url="KVP"==requestEncoding?(0,uri.B)(url,localContext_1):url.replace(/\{(\w+?)\}/g,(function(m,p){return localContext_1[p]}))}}},WMTS}(TileImage.Z);const source_WMTS=WMTS_WMTS;function optionsFromCapabilities(wmtsCap,config){var layers=wmtsCap.Contents.Layer,l=(0,ol_array.sE)(layers,(function(elt,index,array){return elt.Identifier==config.layer}));if(null===l)return null;var idx,tileMatrixSets=wmtsCap.Contents.TileMatrixSet;(idx=l.TileMatrixSetLink.length>1?"projection"in config?(0,ol_array.cx)(l.TileMatrixSetLink,(function(elt,index,array){var supportedCRS=(0,ol_array.sE)(tileMatrixSets,(function(el){return el.Identifier==elt.TileMatrixSet})).SupportedCRS,proj1=(0,proj.U2)(supportedCRS),proj2=(0,proj.U2)(config.projection);return proj1&&proj2?(0,proj.OP)(proj1,proj2):supportedCRS==config.projection})):(0,ol_array.cx)(l.TileMatrixSetLink,(function(elt,index,array){return elt.TileMatrixSet==config.matrixSet})):0)<0&&(idx=0);var matrixSet=l.TileMatrixSetLink[idx].TileMatrixSet,matrixLimits=l.TileMatrixSetLink[idx].TileMatrixSetLimits,format=l.Format[0];"format"in config&&(format=config.format),(idx=(0,ol_array.cx)(l.Style,(function(elt,index,array){return"style"in config?elt.Title==config.style:elt.isDefault})))<0&&(idx=0);var style=l.Style[idx].Identifier,dimensions={};"Dimension"in l&&l.Dimension.forEach((function(elt,index,array){var key=elt.Identifier,value=elt.Default;void 0===value&&(value=elt.Value[0]),dimensions[key]=value}));var projection,matrixSets=wmtsCap.Contents.TileMatrixSet,matrixSetObj=(0,ol_array.sE)(matrixSets,(function(elt,index,array){return elt.Identifier==matrixSet})),code=matrixSetObj.SupportedCRS;if(code&&(projection=(0,proj.U2)(code)),"projection"in config){var projConfig=(0,proj.U2)(config.projection);projConfig&&(projection&&!(0,proj.OP)(projConfig,projection)||(projection=projConfig))}var wrapX=!1,switchXY="ne"==projection.getAxisOrientation().substr(0,2),matrix=matrixSetObj.TileMatrix[0],selectedMatrixLimit={MinTileCol:0,MinTileRow:0,MaxTileCol:matrix.MatrixWidth-1,MaxTileRow:matrix.MatrixHeight-1};if(matrixLimits){selectedMatrixLimit=matrixLimits[matrixLimits.length-1];var m=(0,ol_array.sE)(matrixSetObj.TileMatrix,(function(tileMatrixValue){return tileMatrixValue.Identifier===selectedMatrixLimit.TileMatrix||matrixSetObj.Identifier+":"+tileMatrixValue.Identifier===selectedMatrixLimit.TileMatrix}));m&&(matrix=m)}var resolution=28e-5*matrix.ScaleDenominator/projection.getMetersPerUnit(),origin=switchXY?[matrix.TopLeftCorner[1],matrix.TopLeftCorner[0]]:matrix.TopLeftCorner,tileSpanX=matrix.TileWidth*resolution,tileSpanY=matrix.TileHeight*resolution,matrixSetExtent=matrixSetObj.BoundingBox;matrixSetExtent&&switchXY&&(matrixSetExtent=[matrixSetExtent[1],matrixSetExtent[0],matrixSetExtent[3],matrixSetExtent[2]]);var extent=[origin[0]+tileSpanX*selectedMatrixLimit.MinTileCol,origin[1]-tileSpanY*(1+selectedMatrixLimit.MaxTileRow),origin[0]+tileSpanX*(1+selectedMatrixLimit.MaxTileCol),origin[1]-tileSpanY*selectedMatrixLimit.MinTileRow];if(void 0!==matrixSetExtent&&!(0,ol_extent.r4)(matrixSetExtent,extent)){var wgs84BoundingBox=l.WGS84BoundingBox,wgs84ProjectionExtent=(0,proj.U2)("EPSG:4326").getExtent();if(extent=matrixSetExtent,wgs84BoundingBox)wrapX=wgs84BoundingBox[0]===wgs84ProjectionExtent[0]&&wgs84BoundingBox[2]===wgs84ProjectionExtent[2];else{var wgs84MatrixSetExtent=(0,proj.$A)(matrixSetExtent,matrixSetObj.SupportedCRS,"EPSG:4326");wrapX=wgs84MatrixSetExtent[0]-1e-10<=wgs84ProjectionExtent[0]&&wgs84MatrixSetExtent[2]+1e-10>=wgs84ProjectionExtent[2]}}var tileGrid=function createFromCapabilitiesMatrixSet(matrixSet,opt_extent,opt_matrixLimits){var resolutions=[],matrixIds=[],origins=[],tileSizes=[],sizes=[],matrixLimits=void 0!==opt_matrixLimits?opt_matrixLimits:[],code=matrixSet.SupportedCRS,projection=(0,proj.U2)(code),metersPerUnit=projection.getMetersPerUnit(),switchOriginXY="ne"==projection.getAxisOrientation().substr(0,2);return matrixSet.TileMatrix.sort((function(a,b){return b.ScaleDenominator-a.ScaleDenominator})),matrixSet.TileMatrix.forEach((function(elt){if(!(matrixLimits.length>0)||(0,ol_array.sE)(matrixLimits,(function(elt_ml){return elt.Identifier==elt_ml.TileMatrix||-1===elt.Identifier.indexOf(":")&&matrixSet.Identifier+":"+elt.Identifier===elt_ml.TileMatrix}))){matrixIds.push(elt.Identifier);var resolution=28e-5*elt.ScaleDenominator/metersPerUnit,tileWidth=elt.TileWidth,tileHeight=elt.TileHeight;switchOriginXY?origins.push([elt.TopLeftCorner[1],elt.TopLeftCorner[0]]):origins.push(elt.TopLeftCorner),resolutions.push(resolution),tileSizes.push(tileWidth==tileHeight?tileWidth:[tileWidth,tileHeight]),sizes.push([elt.MatrixWidth,elt.MatrixHeight])}})),new WMTSTileGrid({extent:opt_extent,origins,resolutions,matrixIds,tileSizes,sizes})}(matrixSetObj,extent,matrixLimits),urls=[],requestEncoding=config.requestEncoding;if(requestEncoding=void 0!==requestEncoding?requestEncoding:"","OperationsMetadata"in wmtsCap&&"GetTile"in wmtsCap.OperationsMetadata)for(var gets=wmtsCap.OperationsMetadata.GetTile.DCP.HTTP.Get,i=0,ii=gets.length;i<ii;++i)if(gets[i].Constraint){var encodings=(0,ol_array.sE)(gets[i].Constraint,(function(element){return"GetEncoding"==element.name})).AllowedValues.Value;if(""===requestEncoding&&(requestEncoding=encodings[0]),"KVP"!==requestEncoding)break;(0,ol_array.q9)(encodings,"KVP")&&urls.push(gets[i].href)}else gets[i].href&&(requestEncoding="KVP",urls.push(gets[i].href));return 0===urls.length&&(requestEncoding="REST",l.ResourceURL.forEach((function(element){"tile"===element.resourceType&&(format=element.format,urls.push(element.template))}))),{urls,layer:config.layer,matrixSet,format,projection,requestEncoding,tileGrid,style,dimensions,wrapX,crossOrigin:config.crossOrigin}}},"./node_modules/ol/source/XYZ.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var extendStatics,_TileImage_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/source/TileImage.js"),_tilegrid_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/tilegrid.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const __WEBPACK_DEFAULT_EXPORT__=function(_super){function XYZ(opt_options){var _this=this,options=opt_options||{},interpolate=void 0===options.imageSmoothing||options.imageSmoothing;void 0!==options.interpolate&&(interpolate=options.interpolate);var projection=void 0!==options.projection?options.projection:"EPSG:3857",tileGrid=void 0!==options.tileGrid?options.tileGrid:(0,_tilegrid_js__WEBPACK_IMPORTED_MODULE_0__.dl)({extent:(0,_tilegrid_js__WEBPACK_IMPORTED_MODULE_0__.Tl)(projection),maxResolution:options.maxResolution,maxZoom:options.maxZoom,minZoom:options.minZoom,tileSize:options.tileSize});return(_this=_super.call(this,{attributions:options.attributions,cacheSize:options.cacheSize,crossOrigin:options.crossOrigin,interpolate,opaque:options.opaque,projection,reprojectionErrorThreshold:options.reprojectionErrorThreshold,tileGrid,tileLoadFunction:options.tileLoadFunction,tilePixelRatio:options.tilePixelRatio,tileUrlFunction:options.tileUrlFunction,url:options.url,urls:options.urls,wrapX:void 0===options.wrapX||options.wrapX,transition:options.transition,attributionsCollapsible:options.attributionsCollapsible,zDirection:options.zDirection})||this).gutter_=void 0!==options.gutter?options.gutter:0,_this}return __extends(XYZ,_super),XYZ.prototype.getGutter=function(){return this.gutter_},XYZ}(_TileImage_js__WEBPACK_IMPORTED_MODULE_1__.Z)},"./node_modules/ol/source/wms.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>DEFAULT_VERSION});var DEFAULT_VERSION="1.3.0"},"./node_modules/ol/string.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function compareVersions(v1,v2){for(var s1=(""+v1).split("."),s2=(""+v2).split("."),i=0;i<Math.max(s1.length,s2.length);i++){var n1=parseInt(s1[i]||"0",10),n2=parseInt(s2[i]||"0",10);if(n1>n2)return 1;if(n2>n1)return-1}return 0}__webpack_require__.d(__webpack_exports__,{n:()=>compareVersions})},"./node_modules/ol/style/Circle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Circle});var extendStatics,ImageState=__webpack_require__("./node_modules/ol/ImageState.js"),Image=__webpack_require__("./node_modules/ol/style/Image.js"),ol_color=__webpack_require__("./node_modules/ol/color.js"),colorlike=__webpack_require__("./node_modules/ol/colorlike.js"),dom=__webpack_require__("./node_modules/ol/dom.js"),canvas=__webpack_require__("./node_modules/ol/render/canvas.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const style_RegularShape=function(_super){function RegularShape(options){var _this=this,rotateWithView=void 0!==options.rotateWithView&&options.rotateWithView;return(_this=_super.call(this,{opacity:1,rotateWithView,rotation:void 0!==options.rotation?options.rotation:0,scale:void 0!==options.scale?options.scale:1,displacement:void 0!==options.displacement?options.displacement:[0,0],declutterMode:options.declutterMode})||this).canvas_=void 0,_this.hitDetectionCanvas_=null,_this.fill_=void 0!==options.fill?options.fill:null,_this.origin_=[0,0],_this.points_=options.points,_this.radius_=void 0!==options.radius?options.radius:options.radius1,_this.radius2_=options.radius2,_this.angle_=void 0!==options.angle?options.angle:0,_this.stroke_=void 0!==options.stroke?options.stroke:null,_this.size_=null,_this.renderOptions_=null,_this.render(),_this}return __extends(RegularShape,_super),RegularShape.prototype.clone=function(){var scale=this.getScale(),style=new RegularShape({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(scale)?scale.slice():scale,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return style.setOpacity(this.getOpacity()),style},RegularShape.prototype.getAnchor=function(){var size=this.size_;if(!size)return null;var displacement=this.getDisplacement();return[size[0]/2-displacement[0],size[1]/2+displacement[1]]},RegularShape.prototype.getAngle=function(){return this.angle_},RegularShape.prototype.getFill=function(){return this.fill_},RegularShape.prototype.setFill=function(fill){this.fill_=fill,this.render()},RegularShape.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},RegularShape.prototype.getImage=function(pixelRatio){var image=this.canvas_[pixelRatio];if(!image){var renderOptions=this.renderOptions_,context=(0,dom.E4)(renderOptions.size*pixelRatio,renderOptions.size*pixelRatio);this.draw_(renderOptions,context,pixelRatio),image=context.canvas,this.canvas_[pixelRatio]=image}return image},RegularShape.prototype.getPixelRatio=function(pixelRatio){return pixelRatio},RegularShape.prototype.getImageSize=function(){return this.size_},RegularShape.prototype.getImageState=function(){return ImageState.Z.LOADED},RegularShape.prototype.getOrigin=function(){return this.origin_},RegularShape.prototype.getPoints=function(){return this.points_},RegularShape.prototype.getRadius=function(){return this.radius_},RegularShape.prototype.getRadius2=function(){return this.radius2_},RegularShape.prototype.getSize=function(){return this.size_},RegularShape.prototype.getStroke=function(){return this.stroke_},RegularShape.prototype.setStroke=function(stroke){this.stroke_=stroke,this.render()},RegularShape.prototype.listenImageChange=function(listener){},RegularShape.prototype.load=function(){},RegularShape.prototype.unlistenImageChange=function(listener){},RegularShape.prototype.calculateLineJoinSize_=function(lineJoin,strokeWidth,miterLimit){if(0===strokeWidth||this.points_===1/0||"bevel"!==lineJoin&&"miter"!==lineJoin)return strokeWidth;var r1=this.radius_,r2=void 0===this.radius2_?r1:this.radius2_;if(r1<r2){var tmp=r1;r1=r2,r2=tmp}var points=void 0===this.radius2_?this.points_:2*this.points_,alpha=2*Math.PI/points,a=r2*Math.sin(alpha),d=r1-Math.sqrt(r2*r2-a*a),e=Math.sqrt(a*a+d*d),miterRatio=e/a;if("miter"===lineJoin&&miterRatio<=miterLimit)return miterRatio*strokeWidth;var k=strokeWidth/2/miterRatio,l=strokeWidth/2*(d/e),bevelAdd=Math.sqrt((r1+k)*(r1+k)+l*l)-r1;if(void 0===this.radius2_||"bevel"===lineJoin)return 2*bevelAdd;var aa=r1*Math.sin(alpha),dd=r2-Math.sqrt(r1*r1-aa*aa),innerMiterRatio=Math.sqrt(aa*aa+dd*dd)/aa;if(innerMiterRatio<=miterLimit){var innerLength=innerMiterRatio*strokeWidth/2-r2-r1;return 2*Math.max(bevelAdd,innerLength)}return 2*bevelAdd},RegularShape.prototype.createRenderOptions=function(){var strokeStyle,lineJoin=canvas.rc,miterLimit=0,lineDash=null,lineDashOffset=0,strokeWidth=0;this.stroke_&&(null===(strokeStyle=this.stroke_.getColor())&&(strokeStyle=canvas.Tx),strokeStyle=(0,colorlike.y)(strokeStyle),void 0===(strokeWidth=this.stroke_.getWidth())&&(strokeWidth=canvas.yC),lineDash=this.stroke_.getLineDash(),lineDashOffset=this.stroke_.getLineDashOffset(),void 0===(lineJoin=this.stroke_.getLineJoin())&&(lineJoin=canvas.rc),void 0===(miterLimit=this.stroke_.getMiterLimit())&&(miterLimit=canvas.V4));var add=this.calculateLineJoinSize_(lineJoin,strokeWidth,miterLimit),maxRadius=Math.max(this.radius_,this.radius2_||0);return{strokeStyle,strokeWidth,size:Math.ceil(2*maxRadius+add),lineDash,lineDashOffset,lineJoin,miterLimit}},RegularShape.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var size=this.renderOptions_.size;this.canvas_={},this.size_=[size,size]},RegularShape.prototype.draw_=function(renderOptions,context,pixelRatio){if(context.scale(pixelRatio,pixelRatio),context.translate(renderOptions.size/2,renderOptions.size/2),this.createPath_(context),this.fill_){var color=this.fill_.getColor();null===color&&(color=canvas.bL),context.fillStyle=(0,colorlike.y)(color),context.fill()}this.stroke_&&(context.strokeStyle=renderOptions.strokeStyle,context.lineWidth=renderOptions.strokeWidth,context.setLineDash&&renderOptions.lineDash&&(context.setLineDash(renderOptions.lineDash),context.lineDashOffset=renderOptions.lineDashOffset),context.lineJoin=renderOptions.lineJoin,context.miterLimit=renderOptions.miterLimit,context.stroke())},RegularShape.prototype.createHitDetectionCanvas_=function(renderOptions){if(this.fill_){var color=this.fill_.getColor(),opacity=0;if("string"==typeof color&&(color=(0,ol_color._2)(color)),null===color?opacity=1:Array.isArray(color)&&(opacity=4===color.length?color[3]:1),0===opacity){var context=(0,dom.E4)(renderOptions.size,renderOptions.size);this.hitDetectionCanvas_=context.canvas,this.drawHitDetectionCanvas_(renderOptions,context)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},RegularShape.prototype.createPath_=function(context){var points=this.points_,radius=this.radius_;if(points===1/0)context.arc(0,0,radius,0,2*Math.PI);else{var radius2=void 0===this.radius2_?radius:this.radius2_;void 0!==this.radius2_&&(points*=2);for(var startAngle=this.angle_-Math.PI/2,step=2*Math.PI/points,i=0;i<points;i++){var angle0=startAngle+i*step,radiusC=i%2==0?radius:radius2;context.lineTo(radiusC*Math.cos(angle0),radiusC*Math.sin(angle0))}context.closePath()}},RegularShape.prototype.drawHitDetectionCanvas_=function(renderOptions,context){context.translate(renderOptions.size/2,renderOptions.size/2),this.createPath_(context),context.fillStyle=canvas.bL,context.fill(),this.stroke_&&(context.strokeStyle=renderOptions.strokeStyle,context.lineWidth=renderOptions.strokeWidth,renderOptions.lineDash&&(context.setLineDash(renderOptions.lineDash),context.lineDashOffset=renderOptions.lineDashOffset),context.lineJoin=renderOptions.lineJoin,context.miterLimit=renderOptions.miterLimit,context.stroke())},RegularShape}(Image.Z);var Circle_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();const Circle=function(_super){function CircleStyle(opt_options){var options=opt_options||{};return _super.call(this,{points:1/0,fill:options.fill,radius:options.radius,stroke:options.stroke,scale:void 0!==options.scale?options.scale:1,rotation:void 0!==options.rotation?options.rotation:0,rotateWithView:void 0!==options.rotateWithView&&options.rotateWithView,displacement:void 0!==options.displacement?options.displacement:[0,0],declutterMode:options.declutterMode})||this}return Circle_extends(CircleStyle,_super),CircleStyle.prototype.clone=function(){var scale=this.getScale(),style=new CircleStyle({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(scale)?scale.slice():scale,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return style.setOpacity(this.getOpacity()),style},CircleStyle.prototype.setRadius=function(radius){this.radius_=radius,this.render()},CircleStyle}(style_RegularShape)},"./node_modules/ol/style/Fill.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function(){function Fill(opt_options){var options=opt_options||{};this.color_=void 0!==options.color?options.color:null}return Fill.prototype.clone=function(){var color=this.getColor();return new Fill({color:Array.isArray(color)?color.slice():color||void 0})},Fill.prototype.getColor=function(){return this.color_},Fill.prototype.setColor=function(color){this.color_=color},Fill}()},"./node_modules/ol/style/IconImageCache.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>shared});var _color_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/color.js"),IconImageCache=function(){function IconImageCache(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return IconImageCache.prototype.clear=function(){this.cache_={},this.cacheSize_=0},IconImageCache.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},IconImageCache.prototype.expire=function(){if(this.canExpireCache()){var i=0;for(var key in this.cache_){var iconImage=this.cache_[key];0!=(3&i++)||iconImage.hasListener()||(delete this.cache_[key],--this.cacheSize_)}}},IconImageCache.prototype.get=function(src,crossOrigin,color){var key=getKey(src,crossOrigin,color);return key in this.cache_?this.cache_[key]:null},IconImageCache.prototype.set=function(src,crossOrigin,color,iconImage){var key=getKey(src,crossOrigin,color);this.cache_[key]=iconImage,++this.cacheSize_},IconImageCache.prototype.setSize=function(maxCacheSize){this.maxCacheSize_=maxCacheSize,this.expire()},IconImageCache}();function getKey(src,crossOrigin,color){return crossOrigin+":"+src+":"+(color?(0,_color_js__WEBPACK_IMPORTED_MODULE_0__.XC)(color):"null")}var shared=new IconImageCache},"./node_modules/ol/style/Image.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/util.js"),_size_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/size.js");const __WEBPACK_DEFAULT_EXPORT__=function(){function ImageStyle(options){this.opacity_=options.opacity,this.rotateWithView_=options.rotateWithView,this.rotation_=options.rotation,this.scale_=options.scale,this.scaleArray_=(0,_size_js__WEBPACK_IMPORTED_MODULE_0__.Pq)(options.scale),this.displacement_=options.displacement,this.declutterMode_=options.declutterMode}return ImageStyle.prototype.clone=function(){var scale=this.getScale();return new ImageStyle({opacity:this.getOpacity(),scale:Array.isArray(scale)?scale.slice():scale,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},ImageStyle.prototype.getOpacity=function(){return this.opacity_},ImageStyle.prototype.getRotateWithView=function(){return this.rotateWithView_},ImageStyle.prototype.getRotation=function(){return this.rotation_},ImageStyle.prototype.getScale=function(){return this.scale_},ImageStyle.prototype.getScaleArray=function(){return this.scaleArray_},ImageStyle.prototype.getDisplacement=function(){return this.displacement_},ImageStyle.prototype.getDeclutterMode=function(){return this.declutterMode_},ImageStyle.prototype.getAnchor=function(){return(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.O3)()},ImageStyle.prototype.getImage=function(pixelRatio){return(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.O3)()},ImageStyle.prototype.getHitDetectionImage=function(){return(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.O3)()},ImageStyle.prototype.getPixelRatio=function(pixelRatio){return 1},ImageStyle.prototype.getImageState=function(){return(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.O3)()},ImageStyle.prototype.getImageSize=function(){return(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.O3)()},ImageStyle.prototype.getOrigin=function(){return(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.O3)()},ImageStyle.prototype.getSize=function(){return(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.O3)()},ImageStyle.prototype.setDisplacement=function(displacement){this.displacement_=displacement},ImageStyle.prototype.setOpacity=function(opacity){this.opacity_=opacity},ImageStyle.prototype.setRotateWithView=function(rotateWithView){this.rotateWithView_=rotateWithView},ImageStyle.prototype.setRotation=function(rotation){this.rotation_=rotation},ImageStyle.prototype.setScale=function(scale){this.scale_=scale,this.scaleArray_=(0,_size_js__WEBPACK_IMPORTED_MODULE_0__.Pq)(scale)},ImageStyle.prototype.listenImageChange=function(listener){(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.O3)()},ImageStyle.prototype.load=function(){(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.O3)()},ImageStyle.prototype.unlistenImageChange=function(listener){(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.O3)()},ImageStyle}()},"./node_modules/ol/style/Stroke.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function(){function Stroke(opt_options){var options=opt_options||{};this.color_=void 0!==options.color?options.color:null,this.lineCap_=options.lineCap,this.lineDash_=void 0!==options.lineDash?options.lineDash:null,this.lineDashOffset_=options.lineDashOffset,this.lineJoin_=options.lineJoin,this.miterLimit_=options.miterLimit,this.width_=options.width}return Stroke.prototype.clone=function(){var color=this.getColor();return new Stroke({color:Array.isArray(color)?color.slice():color||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},Stroke.prototype.getColor=function(){return this.color_},Stroke.prototype.getLineCap=function(){return this.lineCap_},Stroke.prototype.getLineDash=function(){return this.lineDash_},Stroke.prototype.getLineDashOffset=function(){return this.lineDashOffset_},Stroke.prototype.getLineJoin=function(){return this.lineJoin_},Stroke.prototype.getMiterLimit=function(){return this.miterLimit_},Stroke.prototype.getWidth=function(){return this.width_},Stroke.prototype.setColor=function(color){this.color_=color},Stroke.prototype.setLineCap=function(lineCap){this.lineCap_=lineCap},Stroke.prototype.setLineDash=function(lineDash){this.lineDash_=lineDash},Stroke.prototype.setLineDashOffset=function(lineDashOffset){this.lineDashOffset_=lineDashOffset},Stroke.prototype.setLineJoin=function(lineJoin){this.lineJoin_=lineJoin},Stroke.prototype.setMiterLimit=function(miterLimit){this.miterLimit_=miterLimit},Stroke.prototype.setWidth=function(width){this.width_=width},Stroke}()},"./node_modules/ol/style/Style.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J$:()=>toFunction,ZP:()=>__WEBPACK_DEFAULT_EXPORT__,yF:()=>createDefaultStyle});var _Circle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/style/Circle.js"),_Fill_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/style/Fill.js"),_Stroke_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/style/Stroke.js"),_asserts_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/asserts.js"),Style=function(){function Style(opt_options){var options=opt_options||{};this.geometry_=null,this.geometryFunction_=defaultGeometryFunction,void 0!==options.geometry&&this.setGeometry(options.geometry),this.fill_=void 0!==options.fill?options.fill:null,this.image_=void 0!==options.image?options.image:null,this.renderer_=void 0!==options.renderer?options.renderer:null,this.hitDetectionRenderer_=void 0!==options.hitDetectionRenderer?options.hitDetectionRenderer:null,this.stroke_=void 0!==options.stroke?options.stroke:null,this.text_=void 0!==options.text?options.text:null,this.zIndex_=options.zIndex}return Style.prototype.clone=function(){var geometry=this.getGeometry();return geometry&&"object"==typeof geometry&&(geometry=geometry.clone()),new Style({geometry,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},Style.prototype.getRenderer=function(){return this.renderer_},Style.prototype.setRenderer=function(renderer){this.renderer_=renderer},Style.prototype.setHitDetectionRenderer=function(renderer){this.hitDetectionRenderer_=renderer},Style.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},Style.prototype.getGeometry=function(){return this.geometry_},Style.prototype.getGeometryFunction=function(){return this.geometryFunction_},Style.prototype.getFill=function(){return this.fill_},Style.prototype.setFill=function(fill){this.fill_=fill},Style.prototype.getImage=function(){return this.image_},Style.prototype.setImage=function(image){this.image_=image},Style.prototype.getStroke=function(){return this.stroke_},Style.prototype.setStroke=function(stroke){this.stroke_=stroke},Style.prototype.getText=function(){return this.text_},Style.prototype.setText=function(text){this.text_=text},Style.prototype.getZIndex=function(){return this.zIndex_},Style.prototype.setGeometry=function(geometry){"function"==typeof geometry?this.geometryFunction_=geometry:"string"==typeof geometry?this.geometryFunction_=function(feature){return feature.get(geometry)}:geometry?void 0!==geometry&&(this.geometryFunction_=function(){return geometry}):this.geometryFunction_=defaultGeometryFunction,this.geometry_=geometry},Style.prototype.setZIndex=function(zIndex){this.zIndex_=zIndex},Style}();function toFunction(obj){var styleFunction;if("function"==typeof obj)styleFunction=obj;else{var styles_1;if(Array.isArray(obj))styles_1=obj;else(0,_asserts_js__WEBPACK_IMPORTED_MODULE_0__.h)("function"==typeof obj.getZIndex,41),styles_1=[obj];styleFunction=function(){return styles_1}}return styleFunction}var defaultStyles=null;function createDefaultStyle(feature,resolution){if(!defaultStyles){var fill=new _Fill_js__WEBPACK_IMPORTED_MODULE_1__.Z({color:"rgba(255,255,255,0.4)"}),stroke=new _Stroke_js__WEBPACK_IMPORTED_MODULE_2__.Z({color:"#3399CC",width:1.25});defaultStyles=[new Style({image:new _Circle_js__WEBPACK_IMPORTED_MODULE_3__.Z({fill,stroke,radius:5}),fill,stroke})]}return defaultStyles}function defaultGeometryFunction(feature){return feature.getGeometry()}const __WEBPACK_DEFAULT_EXPORT__=Style},"./node_modules/ol/tilecoord.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function createOrUpdate(z,x,y,opt_tileCoord){return void 0!==opt_tileCoord?(opt_tileCoord[0]=z,opt_tileCoord[1]=x,opt_tileCoord[2]=y,opt_tileCoord):[z,x,y]}function getKeyZXY(z,x,y){return z+"/"+x+"/"+y}function getKey(tileCoord){return getKeyZXY(tileCoord[0],tileCoord[1],tileCoord[2])}function fromKey(key){return key.split("/").map(Number)}function hash(tileCoord){return(tileCoord[1]<<tileCoord[0])+tileCoord[2]}function withinExtentAndZ(tileCoord,tileGrid){var z=tileCoord[0],x=tileCoord[1],y=tileCoord[2];if(tileGrid.getMinZoom()>z||z>tileGrid.getMaxZoom())return!1;var tileRange=tileGrid.getFullTileRange(z);return!tileRange||tileRange.containsXY(x,y)}__webpack_require__.d(__webpack_exports__,{T9:()=>createOrUpdate,Ul:()=>fromKey,km:()=>getKey,lg:()=>getKeyZXY,tE:()=>withinExtentAndZ,vp:()=>hash})},"./node_modules/ol/tilegrid.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Cf:()=>wrapX,Tl:()=>extentFromProjection,X$:()=>getForProjection,dl:()=>createXYZ});var _tilegrid_TileGrid_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/tilegrid/TileGrid.js"),_proj_Units_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/proj/Units.js"),_tilegrid_common_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/tilegrid/common.js"),_proj_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/proj.js"),_extent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/extent.js"),_size_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/size.js");function getForProjection(projection){var tileGrid=projection.getDefaultTileGrid();return tileGrid||(tileGrid=function createForProjection(projection,opt_maxZoom,opt_tileSize,opt_corner){var extent=extentFromProjection(projection);return function createForExtent(extent,opt_maxZoom,opt_tileSize,opt_corner){var corner=void 0!==opt_corner?opt_corner:"top-left",resolutions=resolutionsFromExtent(extent,opt_maxZoom,opt_tileSize);return new _tilegrid_TileGrid_js__WEBPACK_IMPORTED_MODULE_2__.Z({extent,origin:(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.g0)(extent,corner),resolutions,tileSize:opt_tileSize})}(extent,opt_maxZoom,opt_tileSize,opt_corner)}(projection),projection.setDefaultTileGrid(tileGrid)),tileGrid}function wrapX(tileGrid,tileCoord,projection){var z=tileCoord[0],center=tileGrid.getTileCoordCenter(tileCoord),projectionExtent=extentFromProjection(projection);if((0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.b8)(projectionExtent,center))return tileCoord;var worldWidth=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.dz)(projectionExtent),worldsAway=Math.ceil((projectionExtent[0]-center[0])/worldWidth);return center[0]+=worldWidth*worldsAway,tileGrid.getTileCoordForCoordAndZ(center,z)}function createXYZ(opt_options){var xyzOptions=opt_options||{},extent=xyzOptions.extent||(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.U2)("EPSG:3857").getExtent(),gridOptions={extent,minZoom:xyzOptions.minZoom,tileSize:xyzOptions.tileSize,resolutions:resolutionsFromExtent(extent,xyzOptions.maxZoom,xyzOptions.tileSize,xyzOptions.maxResolution)};return new _tilegrid_TileGrid_js__WEBPACK_IMPORTED_MODULE_2__.Z(gridOptions)}function resolutionsFromExtent(extent,opt_maxZoom,opt_tileSize,opt_maxResolution){for(var maxZoom=void 0!==opt_maxZoom?opt_maxZoom:_tilegrid_common_js__WEBPACK_IMPORTED_MODULE_3__.e,height=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.Cr)(extent),width=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.dz)(extent),tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_4__.Pq)(void 0!==opt_tileSize?opt_tileSize:_tilegrid_common_js__WEBPACK_IMPORTED_MODULE_3__.S),maxResolution=opt_maxResolution>0?opt_maxResolution:Math.max(width/tileSize[0],height/tileSize[1]),length=maxZoom+1,resolutions=new Array(length),z=0;z<length;++z)resolutions[z]=maxResolution/Math.pow(2,z);return resolutions}function extentFromProjection(projection){var extent=(projection=(0,_proj_js__WEBPACK_IMPORTED_MODULE_0__.U2)(projection)).getExtent();if(!extent){var half=180*_proj_js__WEBPACK_IMPORTED_MODULE_0__.Wm[_proj_Units_js__WEBPACK_IMPORTED_MODULE_5__.ZP.DEGREES]/projection.getMetersPerUnit();extent=(0,_extent_js__WEBPACK_IMPORTED_MODULE_1__.T9)(-half,-half,half,half)}return extent}},"./node_modules/ol/tilegrid/TileGrid.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _TileRange_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/TileRange.js"),_common_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/tilegrid/common.js"),_asserts_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/asserts.js"),_math_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ol/math.js"),_extent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/extent.js"),_tilecoord_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/ol/tilecoord.js"),_geom_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/ol/geom/flat/intersectsextent.js"),_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/array.js"),_size_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/size.js"),tmpTileCoord=[0,0,0];const __WEBPACK_DEFAULT_EXPORT__=function(){function TileGrid(options){var zoomFactor;if(this.minZoom=void 0!==options.minZoom?options.minZoom:0,this.resolutions_=options.resolutions,(0,_asserts_js__WEBPACK_IMPORTED_MODULE_0__.h)((0,_array_js__WEBPACK_IMPORTED_MODULE_1__.pT)(this.resolutions_,(function(a,b){return b-a}),!0),17),!options.origins)for(var i=0,ii=this.resolutions_.length-1;i<ii;++i)if(zoomFactor){if(this.resolutions_[i]/this.resolutions_[i+1]!==zoomFactor){zoomFactor=void 0;break}}else zoomFactor=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=zoomFactor,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==options.origin?options.origin:null,this.origins_=null,void 0!==options.origins&&(this.origins_=options.origins,(0,_asserts_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.origins_.length==this.resolutions_.length,20));var extent=options.extent;void 0===extent||this.origin_||this.origins_||(this.origin_=(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.rL)(extent)),(0,_asserts_js__WEBPACK_IMPORTED_MODULE_0__.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==options.tileSizes&&(this.tileSizes_=options.tileSizes,(0,_asserts_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==options.tileSize?options.tileSize:this.tileSizes_?null:_common_js__WEBPACK_IMPORTED_MODULE_3__.S,(0,_asserts_js__WEBPACK_IMPORTED_MODULE_0__.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==extent?extent:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==options.sizes?this.fullTileRanges_=options.sizes.map((function(size,z){var tileRange=new _TileRange_js__WEBPACK_IMPORTED_MODULE_4__.Z(Math.min(0,size[0]),Math.max(size[0]-1,-1),Math.min(0,size[1]),Math.max(size[1]-1,-1));if(extent){var restrictedTileRange=this.getTileRangeForExtentAndZ(extent,z);tileRange.minX=Math.max(restrictedTileRange.minX,tileRange.minX),tileRange.maxX=Math.min(restrictedTileRange.maxX,tileRange.maxX),tileRange.minY=Math.max(restrictedTileRange.minY,tileRange.minY),tileRange.maxY=Math.min(restrictedTileRange.maxY,tileRange.maxY)}return tileRange}),this):extent&&this.calculateTileRanges_(extent)}return TileGrid.prototype.forEachTileCoord=function(extent,zoom,callback){for(var tileRange=this.getTileRangeForExtentAndZ(extent,zoom),i=tileRange.minX,ii=tileRange.maxX;i<=ii;++i)for(var j=tileRange.minY,jj=tileRange.maxY;j<=jj;++j)callback([zoom,i,j])},TileGrid.prototype.forEachTileCoordParentTileRange=function(tileCoord,callback,opt_tileRange,opt_extent){var tileRange,x,y,tileCoordExtent=null,z=tileCoord[0]-1;for(2===this.zoomFactor_?(x=tileCoord[1],y=tileCoord[2]):tileCoordExtent=this.getTileCoordExtent(tileCoord,opt_extent);z>=this.minZoom;){if(2===this.zoomFactor_?(x=Math.floor(x/2),y=Math.floor(y/2),tileRange=(0,_TileRange_js__WEBPACK_IMPORTED_MODULE_4__.T)(x,x,y,y,opt_tileRange)):tileRange=this.getTileRangeForExtentAndZ(tileCoordExtent,z,opt_tileRange),callback(z,tileRange))return!0;--z}return!1},TileGrid.prototype.getExtent=function(){return this.extent_},TileGrid.prototype.getMaxZoom=function(){return this.maxZoom},TileGrid.prototype.getMinZoom=function(){return this.minZoom},TileGrid.prototype.getOrigin=function(z){return this.origin_?this.origin_:this.origins_[z]},TileGrid.prototype.getResolution=function(z){return this.resolutions_[z]},TileGrid.prototype.getResolutions=function(){return this.resolutions_},TileGrid.prototype.getTileCoordChildTileRange=function(tileCoord,opt_tileRange,opt_extent){if(tileCoord[0]<this.maxZoom){if(2===this.zoomFactor_){var minX=2*tileCoord[1],minY=2*tileCoord[2];return(0,_TileRange_js__WEBPACK_IMPORTED_MODULE_4__.T)(minX,minX+1,minY,minY+1,opt_tileRange)}var tileCoordExtent=this.getTileCoordExtent(tileCoord,opt_extent||this.tmpExtent_);return this.getTileRangeForExtentAndZ(tileCoordExtent,tileCoord[0]+1,opt_tileRange)}return null},TileGrid.prototype.getTileRangeForTileCoordAndZ=function(tileCoord,z,opt_tileRange){if(z>this.maxZoom||z<this.minZoom)return null;var tileCoordZ=tileCoord[0],tileCoordX=tileCoord[1],tileCoordY=tileCoord[2];if(z===tileCoordZ)return(0,_TileRange_js__WEBPACK_IMPORTED_MODULE_4__.T)(tileCoordX,tileCoordY,tileCoordX,tileCoordY,opt_tileRange);if(this.zoomFactor_){var factor=Math.pow(this.zoomFactor_,z-tileCoordZ),minX=Math.floor(tileCoordX*factor),minY=Math.floor(tileCoordY*factor);if(z<tileCoordZ)return(0,_TileRange_js__WEBPACK_IMPORTED_MODULE_4__.T)(minX,minX,minY,minY,opt_tileRange);var maxX=Math.floor(factor*(tileCoordX+1))-1,maxY=Math.floor(factor*(tileCoordY+1))-1;return(0,_TileRange_js__WEBPACK_IMPORTED_MODULE_4__.T)(minX,maxX,minY,maxY,opt_tileRange)}var tileCoordExtent=this.getTileCoordExtent(tileCoord,this.tmpExtent_);return this.getTileRangeForExtentAndZ(tileCoordExtent,z,opt_tileRange)},TileGrid.prototype.getTileRangeExtent=function(z,tileRange,opt_extent){var origin=this.getOrigin(z),resolution=this.getResolution(z),tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_5__.Pq)(this.getTileSize(z),this.tmpSize_),minX=origin[0]+tileRange.minX*tileSize[0]*resolution,maxX=origin[0]+(tileRange.maxX+1)*tileSize[0]*resolution,minY=origin[1]+tileRange.minY*tileSize[1]*resolution,maxY=origin[1]+(tileRange.maxY+1)*tileSize[1]*resolution;return(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.T9)(minX,minY,maxX,maxY,opt_extent)},TileGrid.prototype.getTileRangeForExtentAndZ=function(extent,z,opt_tileRange){var tileCoord=tmpTileCoord;this.getTileCoordForXYAndZ_(extent[0],extent[3],z,!1,tileCoord);var minX=tileCoord[1],minY=tileCoord[2];return this.getTileCoordForXYAndZ_(extent[2],extent[1],z,!0,tileCoord),(0,_TileRange_js__WEBPACK_IMPORTED_MODULE_4__.T)(minX,tileCoord[1],minY,tileCoord[2],opt_tileRange)},TileGrid.prototype.getTileCoordCenter=function(tileCoord){var origin=this.getOrigin(tileCoord[0]),resolution=this.getResolution(tileCoord[0]),tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_5__.Pq)(this.getTileSize(tileCoord[0]),this.tmpSize_);return[origin[0]+(tileCoord[1]+.5)*tileSize[0]*resolution,origin[1]-(tileCoord[2]+.5)*tileSize[1]*resolution]},TileGrid.prototype.getTileCoordExtent=function(tileCoord,opt_extent){var origin=this.getOrigin(tileCoord[0]),resolution=this.getResolution(tileCoord[0]),tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_5__.Pq)(this.getTileSize(tileCoord[0]),this.tmpSize_),minX=origin[0]+tileCoord[1]*tileSize[0]*resolution,minY=origin[1]-(tileCoord[2]+1)*tileSize[1]*resolution,maxX=minX+tileSize[0]*resolution,maxY=minY+tileSize[1]*resolution;return(0,_extent_js__WEBPACK_IMPORTED_MODULE_2__.T9)(minX,minY,maxX,maxY,opt_extent)},TileGrid.prototype.getTileCoordForCoordAndResolution=function(coordinate,resolution,opt_tileCoord){return this.getTileCoordForXYAndResolution_(coordinate[0],coordinate[1],resolution,!1,opt_tileCoord)},TileGrid.prototype.getTileCoordForXYAndResolution_=function(x,y,resolution,reverseIntersectionPolicy,opt_tileCoord){var z=this.getZForResolution(resolution),scale=resolution/this.getResolution(z),origin=this.getOrigin(z),tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_5__.Pq)(this.getTileSize(z),this.tmpSize_),tileCoordX=scale*(x-origin[0])/resolution/tileSize[0],tileCoordY=scale*(origin[1]-y)/resolution/tileSize[1];return reverseIntersectionPolicy?(tileCoordX=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.mD)(tileCoordX,5)-1,tileCoordY=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.mD)(tileCoordY,5)-1):(tileCoordX=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.GW)(tileCoordX,5),tileCoordY=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.GW)(tileCoordY,5)),(0,_tilecoord_js__WEBPACK_IMPORTED_MODULE_7__.T9)(z,tileCoordX,tileCoordY,opt_tileCoord)},TileGrid.prototype.getTileCoordForXYAndZ_=function(x,y,z,reverseIntersectionPolicy,opt_tileCoord){var origin=this.getOrigin(z),resolution=this.getResolution(z),tileSize=(0,_size_js__WEBPACK_IMPORTED_MODULE_5__.Pq)(this.getTileSize(z),this.tmpSize_),tileCoordX=(x-origin[0])/resolution/tileSize[0],tileCoordY=(origin[1]-y)/resolution/tileSize[1];return reverseIntersectionPolicy?(tileCoordX=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.mD)(tileCoordX,5)-1,tileCoordY=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.mD)(tileCoordY,5)-1):(tileCoordX=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.GW)(tileCoordX,5),tileCoordY=(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.GW)(tileCoordY,5)),(0,_tilecoord_js__WEBPACK_IMPORTED_MODULE_7__.T9)(z,tileCoordX,tileCoordY,opt_tileCoord)},TileGrid.prototype.getTileCoordForCoordAndZ=function(coordinate,z,opt_tileCoord){return this.getTileCoordForXYAndZ_(coordinate[0],coordinate[1],z,!1,opt_tileCoord)},TileGrid.prototype.getTileCoordResolution=function(tileCoord){return this.resolutions_[tileCoord[0]]},TileGrid.prototype.getTileSize=function(z){return this.tileSize_?this.tileSize_:this.tileSizes_[z]},TileGrid.prototype.getFullTileRange=function(z){return this.fullTileRanges_?this.fullTileRanges_[z]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,z):null},TileGrid.prototype.getZForResolution=function(resolution,opt_direction){var z=(0,_array_js__WEBPACK_IMPORTED_MODULE_1__.h7)(this.resolutions_,resolution,opt_direction||0);return(0,_math_js__WEBPACK_IMPORTED_MODULE_6__.uZ)(z,this.minZoom,this.maxZoom)},TileGrid.prototype.tileCoordIntersectsViewport=function(tileCoord,viewport){return(0,_geom_flat_intersectsextent_js__WEBPACK_IMPORTED_MODULE_8__.mV)(viewport,0,viewport.length,2,this.getTileCoordExtent(tileCoord))},TileGrid.prototype.calculateTileRanges_=function(extent){for(var length=this.resolutions_.length,fullTileRanges=new Array(length),z=this.minZoom;z<length;++z)fullTileRanges[z]=this.getTileRangeForExtentAndZ(extent,z);this.fullTileRanges_=fullTileRanges},TileGrid}()},"./node_modules/ol/tilegrid/common.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>DEFAULT_TILE_SIZE,e:()=>DEFAULT_MAX_ZOOM});var DEFAULT_MAX_ZOOM=42,DEFAULT_TILE_SIZE=256},"./node_modules/ol/tileurlfunction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Gk:()=>expandUrl,Un:()=>createFromTileUrlFunctions,uR:()=>createFromTemplates});var _asserts_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ol/asserts.js"),_math_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/math.js"),_tilecoord_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ol/tilecoord.js");function createFromTemplate(template,tileGrid){var zRegEx=/\{z\}/g,xRegEx=/\{x\}/g,yRegEx=/\{y\}/g,dashYRegEx=/\{-y\}/g;return function(tileCoord,pixelRatio,projection){return tileCoord?template.replace(zRegEx,tileCoord[0].toString()).replace(xRegEx,tileCoord[1].toString()).replace(yRegEx,tileCoord[2].toString()).replace(dashYRegEx,(function(){var z=tileCoord[0],range=tileGrid.getFullTileRange(z);return(0,_asserts_js__WEBPACK_IMPORTED_MODULE_0__.h)(range,55),(range.getHeight()-tileCoord[2]-1).toString()})):void 0}}function createFromTemplates(templates,tileGrid){for(var len=templates.length,tileUrlFunctions=new Array(len),i=0;i<len;++i)tileUrlFunctions[i]=createFromTemplate(templates[i],tileGrid);return createFromTileUrlFunctions(tileUrlFunctions)}function createFromTileUrlFunctions(tileUrlFunctions){return 1===tileUrlFunctions.length?tileUrlFunctions[0]:function(tileCoord,pixelRatio,projection){if(tileCoord){var h=(0,_tilecoord_js__WEBPACK_IMPORTED_MODULE_1__.vp)(tileCoord),index=(0,_math_js__WEBPACK_IMPORTED_MODULE_2__.$W)(h,tileUrlFunctions.length);return tileUrlFunctions[index](tileCoord,pixelRatio,projection)}}}function expandUrl(url){var urls=[],match=/\{([a-z])-([a-z])\}/.exec(url);if(match){var startCharCode=match[1].charCodeAt(0),stopCharCode=match[2].charCodeAt(0),charCode=void 0;for(charCode=startCharCode;charCode<=stopCharCode;++charCode)urls.push(url.replace(match[0],String.fromCharCode(charCode)));return urls}if(match=/\{(\d+)-(\d+)\}/.exec(url)){for(var stop_1=parseInt(match[2],10),i=parseInt(match[1],10);i<=stop_1;i++)urls.push(url.replace(match[0],i.toString()));return urls}return urls.push(url),urls}},"./node_modules/ol/uri.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function appendParams(uri,params){var keyParams=[];Object.keys(params).forEach((function(k){null!==params[k]&&void 0!==params[k]&&keyParams.push(k+"="+encodeURIComponent(params[k]))}));var qs=keyParams.join("&");return(uri=-1===(uri=uri.replace(/[?&]$/,"")).indexOf("?")?uri+"?":uri+"&")+qs}__webpack_require__.d(__webpack_exports__,{B:()=>appendParams})},"./node_modules/rbush/rbush.min.js":function(module){module.exports=function(){"use strict";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1);t(n,r,Math.max(e,Math.floor(r-s*f/o+u)),Math.min(a,Math.floor(r+(o-s)*f/o+u)),h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r}()}}]);