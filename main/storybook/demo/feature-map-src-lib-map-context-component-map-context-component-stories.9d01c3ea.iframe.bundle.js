(self.webpackChunkgeonetwork_ui=self.webpackChunkgeonetwork_ui||[]).push([[9988],{"./libs/feature/map/src/lib/feature-info/feature-info.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>FeatureInfoService});var tslib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/forkJoin.js"),_manager_map_manager_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/feature/map/src/lib/manager/map-manager.service.ts"),_utils_map_utils_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/feature/map/src/lib/utils/map-utils.service.ts");let FeatureInfoService=class FeatureInfoService{constructor(manager,mapUtils){this.manager=manager,this.mapUtils=mapUtils,this.features$=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter}handleFeatureInfo(){const{map}=this.manager;map.on("click",(event=>{const featuresObservablesArray=[...this.mapUtils.getGFIFeaturesObservablesFromClick(map,event),(0,rxjs__WEBPACK_IMPORTED_MODULE_3__.of)(this.mapUtils.getVectorFeaturesFromClick(map,event))];(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.D)(...featuresObservablesArray).subscribe((featuresArrays=>{const allFeatures=featuresArrays.reduce(((outputFeatures,features)=>[...outputFeatures,...features]),[]);this.features$.emit(allFeatures)}))}))}static#_=this.ctorParameters=()=>[{type:_manager_map_manager_service__WEBPACK_IMPORTED_MODULE_0__.L},{type:_utils_map_utils_service__WEBPACK_IMPORTED_MODULE_1__.fD}]};FeatureInfoService=(0,tslib__WEBPACK_IMPORTED_MODULE_5__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injectable)({providedIn:"root"}),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:paramtypes",[_manager_map_manager_service__WEBPACK_IMPORTED_MODULE_0__.L,_utils_map_utils_service__WEBPACK_IMPORTED_MODULE_1__.fD])],FeatureInfoService)},"./libs/feature/map/src/lib/manager/map-manager.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>MapManagerService});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_utils_map_utils_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/feature/map/src/lib/utils/map-utils.service.ts");let MapManagerService=class MapManagerService{constructor(utils){this.utils=utils,this.map=this.utils.createEmptyMap()}static#_=this.ctorParameters=()=>[{type:_utils_map_utils_service__WEBPACK_IMPORTED_MODULE_0__.fD}]};MapManagerService=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injectable)({providedIn:"root"}),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:paramtypes",[_utils_map_utils_service__WEBPACK_IMPORTED_MODULE_0__.fD])],MapManagerService)},"./libs/feature/map/src/lib/map-context/component/map-context.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>MapContextComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var map_context_componentngResource=__webpack_require__("./libs/feature/map/src/lib/map-context/component/map-context.component.css?ngResource"),map_context_componentngResource_default=__webpack_require__.n(map_context_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),map_utils_service=__webpack_require__("./libs/feature/map/src/lib/utils/map-utils.service.ts"),feature_info_service=__webpack_require__("./libs/feature/map/src/lib/feature-info/feature-info.service.ts"),map_manager_service=__webpack_require__("./libs/feature/map/src/lib/manager/map-manager.service.ts"),map_context_service=__webpack_require__("./libs/feature/map/src/lib/map-context/map-context.service.ts");let MapContextComponent=class MapContextComponent{constructor(service,featureInfo,manager,utils){this.service=service,this.featureInfo=featureInfo,this.manager=manager,this.utils=utils,this.featureClicked=new core.EventEmitter,this.map=manager.map}ngOnChanges(){this.context?.view&&(this.context.view.extent&&!this.map.getSize()?this.map.once("change:size",(()=>{this.service.resetMapFromContext(this.map,this.context,this.mapConfig)})):this.service.resetMapFromContext(this.map,this.context,this.mapConfig))}static#_=this.ctorParameters=()=>[{type:map_context_service.$i},{type:feature_info_service.K},{type:map_manager_service.L},{type:map_utils_service.fD}];static#_2=this.propDecorators={context:[{type:core.Input}],mapConfig:[{type:core.Input}],featureClicked:[{type:core.Output}]}};MapContextComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"gn-ui-map-context",template:'<gn-ui-map [map]="map"></gn-ui-map>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[map_context_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[map_context_service.$i,feature_info_service.K,map_manager_service.L,map_utils_service.fD])],MapContextComponent)},"./libs/feature/map/src/lib/map-context/map-context.model.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var MapContextLayerTypeEnum;__webpack_require__.d(__webpack_exports__,{K:()=>MapContextLayerTypeEnum}),function(MapContextLayerTypeEnum){MapContextLayerTypeEnum.XYZ="xyz",MapContextLayerTypeEnum.WMS="wms",MapContextLayerTypeEnum.WMTS="wmts",MapContextLayerTypeEnum.WFS="wfs",MapContextLayerTypeEnum.GEOJSON="geojson"}(MapContextLayerTypeEnum||(MapContextLayerTypeEnum={}))},"./libs/feature/map/src/lib/map-context/map-context.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$i:()=>MapContextService,SL:()=>DEFAULT_BASELAYER_CONTEXT});var tslib__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_style_map_style_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/feature/map/src/lib/style/map-style.service.ts"),_map_context_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/feature/map/src/lib/map-context/map-context.model.ts"),ol_View__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/ol/View.js"),ol_layer_Vector__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/ol/layer/Vector.js"),ol_source_TileWMS__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/ol/source/TileWMS.js"),ol_layer_Tile__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/layer/Tile.js"),ol_source_XYZ__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ol/source/XYZ.js"),ol_source_Vector__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/ol/source/Vector.js"),ol_format_GeoJSON__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/ol/format/GeoJSON.js"),_utils_map_utils_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/feature/map/src/lib/utils/map-utils.service.ts"),ol_loadingstrategy__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/ol/loadingstrategy.js"),ol_proj__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/proj.js"),ol_source_WMTS__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/ol/source/WMTS.js"),_geonetwork_ui_util_shared__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/util/shared/src/index.ts");const DEFAULT_BASELAYER_CONTEXT={type:_map_context_model__WEBPACK_IMPORTED_MODULE_1__.K.XYZ,urls:["https://a.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png","https://b.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png","https://c.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png"]},DEFAULT_VIEW={center:[0,15],zoom:2};let MapContextService=class MapContextService{constructor(mapUtils,styleService){this.mapUtils=mapUtils,this.styleService=styleService}resetMapFromContext(map,mapContext,mapConfig){return mapConfig?mapContext=this.mergeMapConfigWithContext(mapContext,mapConfig):mapContext.layers=this.addDefaultBaselayerContext(mapContext.layers),mapContext.view?.extent||mapContext.view?.center&&mapContext.view?.zoom||(mapContext.view=this.getFallbackView(mapConfig)),map.setView(this.createView(mapContext.view,map)),map.getLayers().clear(),mapContext.layers.forEach((layer=>map.addLayer(this.createLayer(layer)))),map}createLayer(layerModel){const{type}=layerModel,style=this.styleService.styles.default;switch(type){case _map_context_model__WEBPACK_IMPORTED_MODULE_1__.K.XYZ:return new ol_layer_Tile__WEBPACK_IMPORTED_MODULE_5__.Z({source:new ol_source_XYZ__WEBPACK_IMPORTED_MODULE_6__.Z({url:"url"in layerModel?layerModel.url:void 0,urls:"urls"in layerModel?layerModel.urls:void 0})});case _map_context_model__WEBPACK_IMPORTED_MODULE_1__.K.WMS:return new ol_layer_Tile__WEBPACK_IMPORTED_MODULE_5__.Z({source:new ol_source_TileWMS__WEBPACK_IMPORTED_MODULE_7__.Z({url:(0,_geonetwork_ui_util_shared__WEBPACK_IMPORTED_MODULE_4__.Q)(layerModel.url,["request","service"]),params:{LAYERS:layerModel.name},gutter:20})});case _map_context_model__WEBPACK_IMPORTED_MODULE_1__.K.WMTS:return new ol_layer_Tile__WEBPACK_IMPORTED_MODULE_5__.Z({source:new ol_source_WMTS__WEBPACK_IMPORTED_MODULE_8__.Z(layerModel.options)});case _map_context_model__WEBPACK_IMPORTED_MODULE_1__.K.WFS:return new ol_layer_Vector__WEBPACK_IMPORTED_MODULE_9__.Z({source:new ol_source_Vector__WEBPACK_IMPORTED_MODULE_10__.Z({format:new ol_format_GeoJSON__WEBPACK_IMPORTED_MODULE_11__.Z,url:function(extent){const urlObj=new URL((0,_geonetwork_ui_util_shared__WEBPACK_IMPORTED_MODULE_4__.Q)(layerModel.url,["service","version","request"]));return urlObj.searchParams.set("service","WFS"),urlObj.searchParams.set("version","1.1.0"),urlObj.searchParams.set("request","GetFeature"),urlObj.searchParams.set("outputFormat","application/json"),urlObj.searchParams.set("typename",layerModel.name),urlObj.searchParams.set("srsname","EPSG:3857"),urlObj.searchParams.set("bbox",`${extent.join(",")},EPSG:3857`),urlObj.searchParams.set("maxFeatures",1e4.toString()),urlObj.toString()},strategy:ol_loadingstrategy__WEBPACK_IMPORTED_MODULE_12__.VW}),style});case _map_context_model__WEBPACK_IMPORTED_MODULE_1__.K.GEOJSON:if("url"in layerModel)return new ol_layer_Vector__WEBPACK_IMPORTED_MODULE_9__.Z({source:new ol_source_Vector__WEBPACK_IMPORTED_MODULE_10__.Z({format:new ol_format_GeoJSON__WEBPACK_IMPORTED_MODULE_11__.Z,url:layerModel.url}),style});{let geojson=layerModel.data;if("string"==typeof geojson)try{geojson=JSON.parse(geojson)}catch(e){console.warn("A layer could not be created",layerModel,e),geojson={type:"FeatureCollection",features:[]}}const features=this.mapUtils.readFeatureCollection(geojson);return new ol_layer_Vector__WEBPACK_IMPORTED_MODULE_9__.Z({source:new ol_source_Vector__WEBPACK_IMPORTED_MODULE_10__.Z({features}),style})}default:throw new Error(`Unrecognized layer type: ${layerModel.type}`)}}createView(viewModel,map){const{center:centerInViewProj,zoom,maxZoom,maxExtent}=viewModel,center=centerInViewProj?(0,ol_proj__WEBPACK_IMPORTED_MODULE_3__.mi)(centerInViewProj,"EPSG:3857"):[0,0],view=new ol_View__WEBPACK_IMPORTED_MODULE_13__.ZP({center,zoom,maxZoom,extent:maxExtent,multiWorld:!1,constrainResolution:!0});return viewModel.extent&&map&&view.fit(viewModel.extent,{size:map.getSize()}),view}addDefaultBaselayerContext(layers){return layers.includes(DEFAULT_BASELAYER_CONTEXT)?layers:[DEFAULT_BASELAYER_CONTEXT,...layers]}mergeMapConfigWithContext(mapContext,mapConfig){return{...mapContext,view:{...mapContext.view,...mapConfig.MAX_ZOOM&&{maxZoom:mapConfig.MAX_ZOOM},...mapConfig.MAX_EXTENT&&{maxExtent:mapConfig.MAX_EXTENT}},layers:[...mapConfig.DO_NOT_USE_DEFAULT_BASEMAP?[]:[DEFAULT_BASELAYER_CONTEXT],...mapConfig.MAP_LAYERS.map(this.getContextLayerFromConfig),...mapContext.layers]}}getFallbackView(mapConfig){return mapConfig?.MAX_EXTENT?{extent:mapConfig.MAX_EXTENT}:DEFAULT_VIEW}getContextLayerFromConfig(config){switch(config.TYPE){case"wms":return{type:"wms",url:config.URL,name:config.NAME};case"wfs":return{type:"wfs",url:config.URL,name:config.NAME};case"xyz":return{type:config.TYPE,url:config.URL,name:config.NAME};case"geojson":return{type:config.TYPE,...config.DATA?{data:config.DATA}:{url:config.URL}}}}static#_=this.ctorParameters=()=>[{type:_utils_map_utils_service__WEBPACK_IMPORTED_MODULE_2__.fD},{type:_style_map_style_service__WEBPACK_IMPORTED_MODULE_0__.Y}]};MapContextService=(0,tslib__WEBPACK_IMPORTED_MODULE_14__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_15__.Injectable)({providedIn:"root"}),(0,tslib__WEBPACK_IMPORTED_MODULE_14__.w6)("design:paramtypes",[_utils_map_utils_service__WEBPACK_IMPORTED_MODULE_2__.fD,_style_map_style_service__WEBPACK_IMPORTED_MODULE_0__.Y])],MapContextService)},"./libs/feature/map/src/lib/style/map-style.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>MapStyleService});var tslib__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_geonetwork_ui_util_app_config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/util/app-config/src/index.ts"),chroma_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/chroma-js/chroma.js"),chroma_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(chroma_js__WEBPACK_IMPORTED_MODULE_1__),ol_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ol/style/Style.js"),ol_style__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ol/style/Fill.js"),ol_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ol/style/Stroke.js"),ol_style_Circle__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/ol/style/Circle.js");let MapStyleService=class MapStyleService{constructor(){this.styles={default:this.createStyleFunction(this.createGeometryStyles({color:(0,_geonetwork_ui_util_app_config__WEBPACK_IMPORTED_MODULE_0__.P0)()?(0,_geonetwork_ui_util_app_config__WEBPACK_IMPORTED_MODULE_0__.Is)().PRIMARY_COLOR:"blue"})),defaultHL:this.createStyleFunction(this.createGeometryStyles({color:(0,_geonetwork_ui_util_app_config__WEBPACK_IMPORTED_MODULE_0__.P0)()?(0,_geonetwork_ui_util_app_config__WEBPACK_IMPORTED_MODULE_0__.Is)().SECONDARY_COLOR:"red",isFocused:!0}))}}createGeometryStyles(options){const{color,isFocused}=options,zIndex=isFocused?10:void 0;return{polygon:new ol_style__WEBPACK_IMPORTED_MODULE_2__.ZP({fill:new ol_style__WEBPACK_IMPORTED_MODULE_3__.Z({color:this.computeTransparentFillColor(color)}),stroke:new ol_style__WEBPACK_IMPORTED_MODULE_4__.Z({color:"white",width:2}),zIndex}),point:new ol_style__WEBPACK_IMPORTED_MODULE_2__.ZP({image:new ol_style_Circle__WEBPACK_IMPORTED_MODULE_5__.Z({fill:new ol_style__WEBPACK_IMPORTED_MODULE_3__.Z({color}),stroke:new ol_style__WEBPACK_IMPORTED_MODULE_4__.Z({color:"white",width:isFocused?3:2}),radius:isFocused?8:7}),zIndex}),line:[new ol_style__WEBPACK_IMPORTED_MODULE_2__.ZP({stroke:new ol_style__WEBPACK_IMPORTED_MODULE_4__.Z({color:"white",width:isFocused?8:6}),zIndex}),new ol_style__WEBPACK_IMPORTED_MODULE_2__.ZP({stroke:new ol_style__WEBPACK_IMPORTED_MODULE_4__.Z({color,width:isFocused?3:2}),zIndex})]}}createStyleFunction(styleByGeometryType){return feature=>{const geometryType=feature?.getGeometry()?.getType();switch(geometryType){case"LinearRing":case"LineString":case"MultiLineString":return styleByGeometryType.line;case"Point":case"MultiPoint":default:return styleByGeometryType.point;case"Circle":case"Polygon":case"MultiPolygon":return styleByGeometryType.polygon}}}computeTransparentFillColor(color,alpha=.25){return chroma_js__WEBPACK_IMPORTED_MODULE_1___default()(color).alpha(alpha).css()}};MapStyleService=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_7__.Injectable)({providedIn:"root"})],MapStyleService)},"./libs/feature/map/src/lib/utils/map-utils.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{fD:()=>MapUtilsService});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),http=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),extent=__webpack_require__("./node_modules/ol/extent.js"),GeoJSON=__webpack_require__("./node_modules/ol/format/GeoJSON.js"),Map=__webpack_require__("./node_modules/ol/Map.js"),ol_proj=__webpack_require__("./node_modules/ol/proj.js"),ImageWMS=__webpack_require__("./node_modules/ol/source/ImageWMS.js"),TileWMS=__webpack_require__("./node_modules/ol/source/TileWMS.js"),Vector=__webpack_require__("./node_modules/ol/source/Vector.js"),WMTS=__webpack_require__("./node_modules/ol/source/WMTS.js"),defaults=__webpack_require__("./node_modules/ol/interaction/defaults.js"),DragPan=__webpack_require__("./node_modules/ol/interaction/DragPan.js"),MouseWheelZoom=__webpack_require__("./node_modules/ol/interaction/MouseWheelZoom.js"),condition=__webpack_require__("./node_modules/ol/events/condition.js"),WMTSCapabilities=__webpack_require__("./node_modules/ol/format/WMTSCapabilities.js"),from=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/from.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),map_context_model=__webpack_require__("./libs/feature/map/src/lib/map-context/map-context.model.ts"),src=__webpack_require__("./libs/util/shared/src/index.ts"),dist=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/index.js");const LONLAT_CRS_CODES=["EPSG:4326","CRS:84"];var proj4=__webpack_require__("./node_modules/ol/proj/proj4.js"),dist_proj4=__webpack_require__("./node_modules/proj4/dist/proj4.js"),proj4_default=__webpack_require__.n(dist_proj4);const GEOJSON=new GeoJSON.Z;let MapUtilsService=class MapUtilsService{constructor(http,proxy){this.http=http,this.proxy=proxy,this.readFeatureCollection=(featureCollection,featureProjection="EPSG:3857",dataProjection="EPSG:4326")=>GEOJSON.readFeatures(featureCollection,{featureProjection,dataProjection})}createEmptyMap(){return new Map.Z({controls:[],pixelRatio:1})}isWMSLayer(layer){return layer.getSource()instanceof TileWMS.Z||layer.getSource()instanceof ImageWMS.Z}getGFIUrl(layer,map,coordinate){const view=map.getView(),projection=view.getProjection(),resolution=view.getResolution(),source=layer.getSource(),params={...source.getParams(),INFO_FORMAT:"application/json"};return source.getFeatureInfoUrl(coordinate,resolution,projection,params)}getVectorFeaturesFromClick(olMap,event){const features=[],hit=olMap.forEachFeatureAtPixel(event.pixel,(feature=>feature),{layerFilter:layer=>layer.getSource()instanceof Vector.Z});return hit&&features.push(hit),features}getGFIFeaturesObservablesFromClick(olMap,event){const wmsLayers=olMap.getLayers().getArray().filter(this.isWMSLayer);if(wmsLayers.length>0){const{coordinate}=event;return wmsLayers.reduce(((urls,layer)=>[...urls,this.getGFIUrl(layer,olMap,coordinate)]),[]).map((url=>this.http.get(url).pipe((0,map.U)((collection=>this.readFeatureCollection(collection))))))}return[]}getLayerExtent(layer){var _this=this;return(0,asyncToGenerator.Z)((function*(){let latLonExtent;if(layer&&"geojson"===layer.type&&"data"in layer&&"object"==typeof layer.data&&layer.data.features[0]&&layer.data.features[0].geometry)latLonExtent=(new GeoJSON.Z).readFeatures(layer.data).map((feature=>feature.getGeometry())).filter((geom=>!!geom)).reduce(((prev,curr)=>prev?(0,extent.l7)(prev,curr.getExtent()):curr.getExtent()),null);else if(layer&&"wms"===layer.type)latLonExtent=yield _this.getWmsLayerExtent(layer);else{if(!layer||"wmts"!==layer.type)return null;if(!layer.extent)return layer.options.tileGrid.getExtent();latLonExtent=layer.extent}return!latLonExtent||(0,extent.xb)(latLonExtent)?null:(0,ol_proj.$A)(latLonExtent,"EPSG:4326","EPSG:3857")}))()}getWmsLayerExtent(layer){var _this2=this;return(0,asyncToGenerator.Z)((function*(){const endpoint=yield new dist.us(_this2.proxy.getProxiedUrl(layer.url)).isReady(),{boundingBoxes}=endpoint.getLayerByName(layer.name);if(!Object.keys(boundingBoxes).length)return null;const lonLatCRS=Object.keys(boundingBoxes)?.find((crs=>LONLAT_CRS_CODES.includes(crs)));if(lonLatCRS)return boundingBoxes[lonLatCRS].map(parseFloat);{const availableEPSGCode=Object.keys(boundingBoxes)[0];(0,proj4.z2)(proj4_default());const proj=yield(0,proj4.sM)(availableEPSGCode),bboxWithFiniteNumbers=boundingBoxes[availableEPSGCode].map(parseFloat);return(0,ol_proj.$A)(bboxWithFiniteNumbers,proj,"EPSG:4326")}}))()}getWmtsLayerFromCapabilities(link){const getCapabilitiesUrl=new URL(link.url,window.location.toString());return getCapabilitiesUrl.searchParams.set("SERVICE","WMTS"),getCapabilitiesUrl.searchParams.set("REQUEST","GetCapabilities"),(0,from.D)(fetch(getCapabilitiesUrl.toString()).then(function(){var _ref=(0,asyncToGenerator.Z)((function*(response){if(!response.ok)throw new Error(`WMTS GetCapabilities HTTP request failed with code ${response.status} and body:\n${yield response.text()}`);return response.text()}));return function(_x){return _ref.apply(this,arguments)}}()).then((function(text){try{const result=(new WMTSCapabilities.Z).read(text),options=(0,WMTS.B)(result,{layer:link.name,matrixSet:"EPSG:3857"}),layerCap=result?.Contents?.Layer.find((layer=>layer.Identifier===link.name));return{options,type:map_context_model.K.WMTS,...layerCap?.WGS84BoundingBox?{extent:layerCap.WGS84BoundingBox}:{}}}catch(e){throw new Error(`WMTS GetCapabilities parsing failed:\n${e.stack||e.message||e}`)}})))}prioritizePageScroll(interactions){interactions.clear(),interactions.extend((0,defaults.c)({altShiftDragRotate:!1,pinchRotate:!1,dragPan:!1,mouseWheelZoom:!1}).extend([new DragPan.Z({condition:dragPanCondition}),new MouseWheelZoom.Z({condition:mouseWheelZoomCondition})]).getArray())}getRecordExtent(record){if(!("spatialExtents"in record))return null;const totalExtent=record.spatialExtents.reduce(((prev,curr)=>{const geom=GEOJSON.readGeometry(curr.geometry);return(0,extent.l7)(prev,geom.getExtent())}),[1/0,1/0,-1/0,-1/0]);return(0,ol_proj.$A)(totalExtent,"EPSG:4326","EPSG:3857")}static#_=this.ctorParameters=()=>[{type:http.eN},{type:src.yn}]};function dragPanCondition(event){const dragPanCondition=2===this.getPointerCount()||(0,condition.QL)(event);return dragPanCondition||this.getMap().dispatchEvent("mapmuted"),dragPanCondition&&(0,condition.rM)(event)&&(0,condition.Xp)(event)}function mouseWheelZoomCondition(event){return(0,condition.QC)(event)||"wheel"!==event.type||this.getMap().dispatchEvent("mapmuted"),(0,condition.QC)(event)}MapUtilsService=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"}),(0,tslib_es6.w6)("design:paramtypes",[http.eN,src.yn])],MapUtilsService)},"./libs/ui/map/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{cS:()=>UiMapModule});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),http=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");var map_componentngResource=__webpack_require__("./libs/ui/map/src/lib/components/map/map.component.css?ngResource"),map_componentngResource_default=__webpack_require__.n(map_componentngResource),merge=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/merge.js"),fromEvent=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js"),timer=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/timer.js"),of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),startWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),delay=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/delay.js");let MapComponent=class MapComponent{constructor(_element){this._element=_element,this.resizeObserver=new ResizeObserver((()=>{this.map.updateSize(),this.resizeObserver.unobserve(this.container.nativeElement)}))}ngOnInit(){this.displayMessage$=(0,merge.T)((0,fromEvent.R)(this.map,"mapmuted").pipe((0,map.U)((()=>!0))),(0,fromEvent.R)(this.map,"movestart").pipe((0,map.U)((()=>!1))),(0,fromEvent.R)(this.map,"singleclick").pipe((0,map.U)((()=>!1)))).pipe((0,switchMap.w)((muted=>muted?(0,timer.H)(2e3).pipe((0,map.U)((()=>!1)),(0,startWith.O)(!0),(0,delay.g)(400)):(0,of.of)(!1))))}ngAfterViewInit(){this.map.setTarget(this.container.nativeElement),this.resizeObserver.observe(this.container.nativeElement)}static#_=this.ctorParameters=()=>[{type:core.ElementRef}];static#_2=this.propDecorators={map:[{type:core.Input}],container:[{type:core.ViewChild,args:["map"]}]}};MapComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"gn-ui-map",template:'<div class="h-full w-full" #map></div>\n<div\n  class="absolute inset-0 p-2 rounded z-40 transition-all flex flex-col justify-center items-center text-primary font-sans pointer-events-none"\n  [ngClass]="\n    (displayMessage$ | async) ? \'visible opacity-100\' : \'invisible opacity-0\'\n  "\n>\n  <div\n    class="absolute z-[-1] inset-0 bg-gradient-to-b from-white to-primary-lightest opacity-60"\n  ></div>\n  <mat-icon class="material-symbols-outlined !w-16 !h-16 text-[64px] mb-4"\n    >swipe</mat-icon\n  >\n  <p translate>map.navigation.message</p>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[map_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[core.ElementRef])],MapComponent);var feature_detail_componentngResource=__webpack_require__("./libs/ui/map/src/lib/components/feature-detail/feature-detail.component.css?ngResource"),feature_detail_componentngResource_default=__webpack_require__.n(feature_detail_componentngResource);const geometryKeys=["geometry","the_geom"];let FeatureDetailComponent=class FeatureDetailComponent{get properties(){return Object.keys(this.feature.getProperties()).filter((prop=>!geometryKeys.includes(prop)))}static#_=this.propDecorators={feature:[{type:core.Input}]}};FeatureDetailComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"gn-ui-feature-detail",template:'<div *ngIf="feature" class="root">\n  <div class="property" *ngFor="let propName of properties">\n    <div>{{ propName }}</div>\n    <div class="font-bold">{{ feature.get(propName) }}</div>\n  </div>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[feature_detail_componentngResource_default()]})],FeatureDetailComponent);var ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/fesm2020/ngx-translate-core.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs");let UiMapModule=class UiMapModule{};UiMapModule=(0,tslib_es6.gn)([(0,core.NgModule)({declarations:[MapComponent,FeatureDetailComponent],imports:[common.CommonModule,http.JF,icon.Ps,ngx_translate_core.aw.forRoot()],exports:[MapComponent,FeatureDetailComponent]})],UiMapModule)},"./libs/util/app-config/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{cE:()=>getOptionalMapConfig,Is:()=>getThemeConfig,P0:()=>isConfigLoaded});__webpack_require__("./node_modules/@ltd/j-toml/index.mjs");var ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/fesm2020/ngx-translate-core.mjs"),ngx_translate_messageformat_compiler=__webpack_require__("./node_modules/ngx-translate-messageformat-compiler/fesm2022/ngx-translate-messageformat-compiler.mjs"),http=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),src=__webpack_require__("./libs/util/i18n/src/index.ts"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js");class FileWithOverridesTranslateLoader extends src.sq{getTranslation(lang){const baseLang=lang.substring(0,2);return super.getTranslation(baseLang).pipe((0,map.U)((translations=>({...translations,...getCustomTranslations(baseLang)}))))}}const MISSING_CONFIG_ERROR="Application configuration was not initialized correctly.\nThis error might show up in case of an invalid/malformed configuration file.\n\nNote: make sure that you have called `loadAppConfig` from '@geonetwork-ui/util/app-config' before starting the Angular application.";let themeConfig=null;function getThemeConfig(){if(null===themeConfig)throw new Error(MISSING_CONFIG_ERROR);return themeConfig}let mapConfig=null;function getOptionalMapConfig(){return mapConfig}let customTranslations=null;function getCustomTranslations(langCode){if(null===customTranslations)throw new Error(MISSING_CONFIG_ERROR);return langCode in customTranslations?customTranslations[langCode]:{}}let appConfigLoaded=!1;function isConfigLoaded(){return appConfigLoaded}ngx_translate_core.k2,ngx_translate_messageformat_compiler.Fq,ngx_translate_core.Zw,src.Hj,http.eN},"./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>fromEvent});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_Observable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_operators_mergeMap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js"),_util_isArrayLike__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js"),_util_isFunction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js"),_util_mapOneOrManyArgs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/mapOneOrManyArgs.js"),nodeEventEmitterMethods=["addListener","removeListener"],eventTargetMethods=["addEventListener","removeEventListener"],jqueryMethods=["on","off"];function fromEvent(target,eventName,options,resultSelector){if((0,_util_isFunction__WEBPACK_IMPORTED_MODULE_0__.m)(options)&&(resultSelector=options,options=void 0),resultSelector)return fromEvent(target,eventName,options).pipe((0,_util_mapOneOrManyArgs__WEBPACK_IMPORTED_MODULE_1__.Z)(resultSelector));var _a=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.CR)(function isEventTarget(target){return(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_0__.m)(target.addEventListener)&&(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_0__.m)(target.removeEventListener)}(target)?eventTargetMethods.map((function(methodName){return function(handler){return target[methodName](eventName,handler,options)}})):function isNodeStyleEventEmitter(target){return(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_0__.m)(target.addListener)&&(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_0__.m)(target.removeListener)}(target)?nodeEventEmitterMethods.map(toCommonHandlerRegistry(target,eventName)):function isJQueryStyleEventEmitter(target){return(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_0__.m)(target.on)&&(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_0__.m)(target.off)}(target)?jqueryMethods.map(toCommonHandlerRegistry(target,eventName)):[],2),add=_a[0],remove=_a[1];if(!add&&(0,_util_isArrayLike__WEBPACK_IMPORTED_MODULE_3__.z)(target))return(0,_operators_mergeMap__WEBPACK_IMPORTED_MODULE_4__.z)((function(subTarget){return fromEvent(subTarget,eventName,options)}))((0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_5__.Xf)(target));if(!add)throw new TypeError("Invalid event target");return new _Observable__WEBPACK_IMPORTED_MODULE_6__.y((function(subscriber){var handler=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return subscriber.next(1<args.length?args:args[0])};return add(handler),function(){return remove(handler)}}))}function toCommonHandlerRegistry(target,eventName){return function(methodName){return function(handler){return target[methodName](eventName,handler)}}}},"./node_modules/rxjs/dist/esm5/internal/observable/timer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>timer});var _Observable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_scheduler_async__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/async.js"),_util_isScheduler__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isScheduler.js"),_util_isDate__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isDate.js");function timer(dueTime,intervalOrScheduler,scheduler){void 0===dueTime&&(dueTime=0),void 0===scheduler&&(scheduler=_scheduler_async__WEBPACK_IMPORTED_MODULE_0__.P);var intervalDuration=-1;return null!=intervalOrScheduler&&((0,_util_isScheduler__WEBPACK_IMPORTED_MODULE_1__.K)(intervalOrScheduler)?scheduler=intervalOrScheduler:intervalDuration=intervalOrScheduler),new _Observable__WEBPACK_IMPORTED_MODULE_2__.y((function(subscriber){var due=(0,_util_isDate__WEBPACK_IMPORTED_MODULE_3__.q)(dueTime)?+dueTime-scheduler.now():dueTime;due<0&&(due=0);var n=0;return scheduler.schedule((function(){subscriber.closed||(subscriber.next(n++),0<=intervalDuration?this.schedule(void 0,intervalDuration):subscriber.complete())}),due)}))}},"./node_modules/rxjs/dist/esm5/internal/operators/delay.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>delay});var _scheduler_async__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/async.js"),_delayWhen__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/delayWhen.js"),_observable_timer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/timer.js");function delay(due,scheduler){void 0===scheduler&&(scheduler=_scheduler_async__WEBPACK_IMPORTED_MODULE_0__.z);var duration=(0,_observable_timer__WEBPACK_IMPORTED_MODULE_1__.H)(due,scheduler);return(0,_delayWhen__WEBPACK_IMPORTED_MODULE_2__.j)((function(){return duration}))}},"./node_modules/rxjs/dist/esm5/internal/operators/delayWhen.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>delayWhen});var _observable_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/concat.js"),_take__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/take.js"),_ignoreElements__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/ignoreElements.js"),_mapTo__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mapTo.js"),_mergeMap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js");function delayWhen(delayDurationSelector,subscriptionDelay){return subscriptionDelay?function(source){return(0,_observable_concat__WEBPACK_IMPORTED_MODULE_0__.z)(subscriptionDelay.pipe((0,_take__WEBPACK_IMPORTED_MODULE_1__.q)(1),(0,_ignoreElements__WEBPACK_IMPORTED_MODULE_2__.l)()),source.pipe(delayWhen(delayDurationSelector)))}:(0,_mergeMap__WEBPACK_IMPORTED_MODULE_3__.z)((function(value,index){return(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_4__.Xf)(delayDurationSelector(value,index)).pipe((0,_take__WEBPACK_IMPORTED_MODULE_1__.q)(1),(0,_mapTo__WEBPACK_IMPORTED_MODULE_5__.h)(value))}))}},"./node_modules/rxjs/dist/esm5/internal/operators/ignoreElements.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{l:()=>ignoreElements});var _util_lift__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_util_noop__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/noop.js");function ignoreElements(){return(0,_util_lift__WEBPACK_IMPORTED_MODULE_0__.e)((function(source,subscriber){source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__.x)(subscriber,_util_noop__WEBPACK_IMPORTED_MODULE_2__.Z))}))}},"./node_modules/rxjs/dist/esm5/internal/operators/mapTo.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>mapTo});var _map__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js");function mapTo(value){return(0,_map__WEBPACK_IMPORTED_MODULE_0__.U)((function(){return value}))}},"./node_modules/rxjs/dist/esm5/internal/util/isDate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isValidDate(value){return value instanceof Date&&!isNaN(value)}__webpack_require__.d(__webpack_exports__,{q:()=>isValidDate})},"./libs/feature/map/src/lib/map-context/component/map-context.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GEOJSON:()=>GEOJSON,WMS:()=>WMS,default:()=>map_context_component_stories});var http=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),animations=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs"),src=__webpack_require__("./libs/ui/map/src/index.ts"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),fixtures_src=__webpack_require__("./libs/common/fixtures/src/index.ts"),map_context_model=__webpack_require__("./libs/feature/map/src/lib/map-context/map-context.model.ts");const MAP_CTX_LAYER_XYZ_FIXTURE={type:map_context_model.K.XYZ,url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"},MAP_CTX_LAYER_WMS_FIXTURE={type:map_context_model.K.WMS,url:"https://www.geograndest.fr/geoserver/region-grand-est/ows?REQUEST=GetCapabilities&SERVICE=WMS",name:"commune_actuelle_3857"},MAP_CTX_LAYER_GEOJSON_FIXTURE=(map_context_model.K.WFS,{type:map_context_model.K.GEOJSON,data:fixtures_src.B2});map_context_model.K.GEOJSON;var map_context_component=__webpack_require__("./libs/feature/map/src/lib/map-context/component/map-context.component.ts"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");const map_context_component_stories={title:"Map/MapContext",component:map_context_component.p,decorators:[(0,dist.moduleMetadata)({imports:[src.cS]}),(0,dist.applicationConfig)({providers:[(0,core.importProvidersFrom)(animations.BrowserAnimationsModule),(0,core.importProvidersFrom)(http.JF)]}),(0,dist.componentWrapperDecorator)((story=>`<div style="height: 300px; max-width: 500px" >${story}</div>`))]},WMS={args:{context:{layers:[MAP_CTX_LAYER_XYZ_FIXTURE,MAP_CTX_LAYER_WMS_FIXTURE],view:{center:[7.75,48.6],zoom:4}}}},GEOJSON={args:{context:{layers:[MAP_CTX_LAYER_XYZ_FIXTURE,MAP_CTX_LAYER_GEOJSON_FIXTURE],view:{center:[7.75,48.6],zoom:4}}}}},"./node_modules/@ltd/j-toml sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/@ltd/j-toml sync recursive",module.exports=webpackEmptyContext},"./libs/feature/map/src/lib/map-context/component/map-context.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/ui/map/src/lib/components/feature-detail/feature-detail.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".property {\n  border-bottom: 1px solid #f2f2f2;\n  padding-bottom: 0.625rem;\n  margin-bottom: 0.625rem;\n  font-size: 0.75rem;\n}\n",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/ui/map/src/lib/components/map/map.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);