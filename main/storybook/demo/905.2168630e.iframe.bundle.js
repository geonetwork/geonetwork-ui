/*! For license information please see 905.2168630e.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkgeonetwork_ui=self.webpackChunkgeonetwork_ui||[]).push([[905],{"./node_modules/@angular/common/fesm2022/common.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AJ:()=>PLATFORM_BROWSER_ID,UE:()=>isPlatformBrowser,Vy:()=>isPlatformServer});var _home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");const PLATFORM_BROWSER_ID="browser",PLATFORM_SERVER_ID="server";function isPlatformBrowser(platformId){return platformId===PLATFORM_BROWSER_ID}function isPlatformServer(platformId){return platformId===PLATFORM_SERVER_ID}function getUrl(src,win){return isAbsoluteUrl(src)?new URL(src):new URL(src,win.location.href)}function isAbsoluteUrl(src){return/^https?:\/\//.test(src)}function extractHostname(url){return isAbsoluteUrl(url)?new URL(url).hostname:url}function isValidPath(path){if(!("string"==typeof path)||""===path.trim())return!1;try{new URL(path);return!0}catch{return!1}}const noopImageLoader=config=>config.src,IMAGE_LOADER=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"ImageLoader":"",{providedIn:"root",factory:()=>noopImageLoader});function createImageLoader(buildUrlFn,exampleUrls){return function provideImageLoader(path){isValidPath(path)||function throwInvalidPathError(path,exampleUrls){throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2959,ngDevMode&&`Image loader has detected an invalid path (\`${path}\`). To fix this, supply a path using one of the following formats: ${exampleUrls.join(" or ")}`)}(path,exampleUrls||[]),path=function normalizePath(path){return path.endsWith("/")?path.slice(0,-1):path}(path);return[{provide:IMAGE_LOADER,useValue:config=>{return isAbsoluteUrl(config.src)&&function throwUnexpectedAbsoluteUrlError(path,url){throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2959,ngDevMode&&`Image loader has detected a \`<img>\` tag with an invalid \`ngSrc\` attribute: ${url}. This image loader expects \`ngSrc\` to be a relative URL - however the provided value is an absolute URL. To fix this, provide \`ngSrc\` as a path relative to the base URL configured for this loader (\`${path}\`).`)}(path,config.src),buildUrlFn(path,{...config,src:(src=config.src,src.startsWith("/")?src.slice(1):src)});var src}}]}}createImageLoader(function createCloudflareUrl(path,config){let params="format=auto";config.width&&(params+=`,width=${config.width}`);config.isPlaceholder&&(params+=",quality=20");return`${path}/cdn-cgi/image/${params}/${config.src}`},ngDevMode?["https://<ZONE>/cdn-cgi/image/<OPTIONS>/<SOURCE-IMAGE>"]:void 0);const cloudinaryLoaderInfo={name:"Cloudinary",testUrl:function isCloudinaryUrl(url){return CLOUDINARY_LOADER_REGEX.test(url)}},CLOUDINARY_LOADER_REGEX=/https?\:\/\/[^\/]+\.cloudinary\.com\/.+/;createImageLoader(function createCloudinaryUrl(path,config){let params="f_auto,"+(config.isPlaceholder?"q_auto:low":"q_auto");config.width&&(params+=`,w_${config.width}`);config.loaderParams?.rounded&&(params+=",r_max");return`${path}/image/upload/${params}/${config.src}`},ngDevMode?["https://res.cloudinary.com/mysite","https://mysite.cloudinary.com","https://subdomain.mysite.com"]:void 0);const imageKitLoaderInfo={name:"ImageKit",testUrl:function isImageKitUrl(url){return IMAGE_KIT_LOADER_REGEX.test(url)}},IMAGE_KIT_LOADER_REGEX=/https?\:\/\/[^\/]+\.imagekit\.io\/.+/;createImageLoader(function createImagekitUrl(path,config){const{src,width}=config,params=[];width&&params.push(`w-${width}`);config.isPlaceholder&&params.push("q-20");const urlSegments=params.length?[path,`tr:${params.join(",")}`,src]:[path,src];return new URL(urlSegments.join("/")).href},ngDevMode?["https://ik.imagekit.io/mysite","https://subdomain.mysite.com"]:void 0);const imgixLoaderInfo={name:"Imgix",testUrl:function isImgixUrl(url){return IMGIX_LOADER_REGEX.test(url)}},IMGIX_LOADER_REGEX=/https?\:\/\/[^\/]+\.imgix\.net\/.+/;createImageLoader(function createImgixUrl(path,config){const url=new URL(`${path}/${config.src}`);url.searchParams.set("auto","format"),config.width&&url.searchParams.set("w",config.width.toString());config.isPlaceholder&&url.searchParams.set("q","20");return url.href},ngDevMode?["https://somepath.imgix.net/"]:void 0);const netlifyLoaderInfo={name:"Netlify",testUrl:function isNetlifyUrl(url){return NETLIFY_LOADER_REGEX.test(url)}},NETLIFY_LOADER_REGEX=/https?\:\/\/[^\/]+\.netlify\.app\/.+/;new Map([["height","h"],["fit","fit"],["quality","q"],["q","q"],["position","position"]]);function imgDirectiveDetails(ngSrc,includeNgSrc=!0){return`The NgOptimizedImage directive ${includeNgSrc?`(activated on an <img> element with the \`ngSrc="${ngSrc}"\`) `:""}has detected that`}function assertDevMode(checkName){if(!ngDevMode)throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2958,`Unexpected invocation of the ${checkName} in the prod mode. Please make sure that the prod mode is enabled for production builds.`)}class LCPImageObserver{images=new Map;window=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.WQX)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.qQL).defaultView;observer=null;constructor(){assertDevMode("LCP checker"),"undefined"!=typeof ngServerMode&&ngServerMode||"undefined"==typeof PerformanceObserver||(this.observer=this.initPerformanceObserver())}initPerformanceObserver(){const observer=new PerformanceObserver(entryList=>{const entries=entryList.getEntries();if(0===entries.length)return;const lcpElement=entries[entries.length-1],imgSrc=lcpElement.element?.src??"";if(imgSrc.startsWith("data:")||imgSrc.startsWith("blob:"))return;const img=this.images.get(imgSrc);img&&(img.priority||img.alreadyWarnedPriority||(img.alreadyWarnedPriority=!0,function logMissingPriorityError(ngSrc){const directiveDetails=imgDirectiveDetails(ngSrc);console.error((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.OsK)(2955,`${directiveDetails} this image is the Largest Contentful Paint (LCP) element but was not marked "priority". This image should be marked "priority" in order to prioritize its loading. To fix this, add the "priority" attribute.`))}(imgSrc)),img.modified&&!img.alreadyWarnedModified&&(img.alreadyWarnedModified=!0,function logModifiedWarning(ngSrc){const directiveDetails=imgDirectiveDetails(ngSrc);console.warn((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.OsK)(2964,`${directiveDetails} this image is the Largest Contentful Paint (LCP) element and has had its "ngSrc" attribute modified. This can cause slower loading performance. It is recommended not to modify the "ngSrc" property on any image which could be the LCP element.`))}(imgSrc)))});return observer.observe({type:"largest-contentful-paint",buffered:!0}),observer}registerImage(rewrittenSrc,originalNgSrc,isPriority){if(!this.observer)return;const newObservedImageState={priority:isPriority,modified:!1,alreadyWarnedModified:!1,alreadyWarnedPriority:!1};this.images.set(getUrl(rewrittenSrc,this.window).href,newObservedImageState)}unregisterImage(rewrittenSrc){this.observer&&this.images.delete(getUrl(rewrittenSrc,this.window).href)}updateImage(originalSrc,newSrc){if(!this.observer)return;const originalUrl=getUrl(originalSrc,this.window).href,img=this.images.get(originalUrl);img&&(img.modified=!0,this.images.set(getUrl(newSrc,this.window).href,img),this.images.delete(originalUrl))}ngOnDestroy(){this.observer&&(this.observer.disconnect(),this.images.clear())}static ɵfac=function LCPImageObserver_Factory(__ngFactoryType__){return new(__ngFactoryType__||LCPImageObserver)};static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.jDH({token:LCPImageObserver,factory:LCPImageObserver.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.cDI(LCPImageObserver,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__._qm,args:[{providedIn:"root"}]}],()=>[],null);const INTERNAL_PRECONNECT_CHECK_BLOCKLIST=new Set(["localhost","127.0.0.1","0.0.0.0","[::1]"]),PRECONNECT_CHECK_BLOCKLIST=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"PRECONNECT_CHECK_BLOCKLIST":"");class PreconnectLinkChecker{document=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.WQX)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.qQL);preconnectLinks=null;alreadySeen=new Set;window=this.document.defaultView;blocklist=new Set(INTERNAL_PRECONNECT_CHECK_BLOCKLIST);constructor(){assertDevMode("preconnect link checker");const blocklist=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.WQX)(PRECONNECT_CHECK_BLOCKLIST,{optional:!0});blocklist&&this.populateBlocklist(blocklist)}populateBlocklist(origins){Array.isArray(origins)?deepForEach(origins,origin=>{this.blocklist.add(extractHostname(origin))}):this.blocklist.add(extractHostname(origins))}assertPreconnect(rewrittenSrc,originalNgSrc){if("undefined"!=typeof ngServerMode&&ngServerMode)return;const imgUrl=getUrl(rewrittenSrc,this.window);this.blocklist.has(imgUrl.hostname)||this.alreadySeen.has(imgUrl.origin)||(this.alreadySeen.add(imgUrl.origin),this.preconnectLinks??=this.queryPreconnectLinks(),this.preconnectLinks.has(imgUrl.origin)||console.warn((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.OsK)(2956,`${imgDirectiveDetails(originalNgSrc)} there is no preconnect tag present for this image. Preconnecting to the origin(s) that serve priority images ensures that these images are delivered as soon as possible. To fix this, please add the following element into the <head> of the document:\n  <link rel="preconnect" href="${imgUrl.origin}">`)))}queryPreconnectLinks(){const preconnectUrls=new Set,links=this.document.querySelectorAll("link[rel=preconnect]");for(const link of links){const url=getUrl(link.href,this.window);preconnectUrls.add(url.origin)}return preconnectUrls}ngOnDestroy(){this.preconnectLinks?.clear(),this.alreadySeen.clear()}static ɵfac=function PreconnectLinkChecker_Factory(__ngFactoryType__){return new(__ngFactoryType__||PreconnectLinkChecker)};static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.jDH({token:PreconnectLinkChecker,factory:PreconnectLinkChecker.ɵfac,providedIn:"root"})}function deepForEach(input,fn){for(let value of input)Array.isArray(value)?deepForEach(value,fn):fn(value)}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.cDI(PreconnectLinkChecker,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__._qm,args:[{providedIn:"root"}]}],()=>[],null);const PRELOADED_IMAGES=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.nKC("undefined"==typeof ngDevMode||ngDevMode?"NG_OPTIMIZED_PRELOADED_IMAGES":"",{providedIn:"root",factory:()=>new Set});class PreloadLinkCreator{preloadedImages=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.WQX)(PRELOADED_IMAGES);document=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.WQX)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.qQL);errorShown=!1;createPreloadLinkTag(renderer,src,srcset,sizes){if(ngDevMode&&!this.errorShown&&this.preloadedImages.size>=5&&(this.errorShown=!0,console.warn((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.OsK)(2961,'The `NgOptimizedImage` directive has detected that more than 5 images were marked as priority. This might negatively affect an overall performance of the page. To fix this, remove the "priority" attribute from images with less priority.'))),this.preloadedImages.has(src))return;this.preloadedImages.add(src);const preload=renderer.createElement("link");renderer.setAttribute(preload,"as","image"),renderer.setAttribute(preload,"href",src),renderer.setAttribute(preload,"rel","preload"),renderer.setAttribute(preload,"fetchpriority","high"),sizes&&renderer.setAttribute(preload,"imageSizes",sizes),srcset&&renderer.setAttribute(preload,"imageSrcset",srcset),renderer.appendChild(this.document.head,preload)}static ɵfac=function PreloadLinkCreator_Factory(__ngFactoryType__){return new(__ngFactoryType__||PreloadLinkCreator)};static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.jDH({token:PreloadLinkCreator,factory:PreloadLinkCreator.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.cDI(PreloadLinkCreator,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__._qm,args:[{providedIn:"root"}]}],null,null);const VALID_WIDTH_DESCRIPTOR_SRCSET=/^((\s*\d+w\s*(,|$)){1,})$/,VALID_DENSITY_DESCRIPTOR_SRCSET=/^((\s*\d+(\.\d+)?x\s*(,|$)){1,})$/,DENSITY_SRCSET_MULTIPLIERS=[1,2],BUILT_IN_LOADERS=[imgixLoaderInfo,imageKitLoaderInfo,cloudinaryLoaderInfo,netlifyLoaderInfo];let IMGS_WITH_PRIORITY_ATTR_COUNT=0;class NgOptimizedImage{imageLoader=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.WQX)(IMAGE_LOADER);config=function processConfig(config){let sortedBreakpoints={};config.breakpoints&&(sortedBreakpoints.breakpoints=config.breakpoints.sort((a,b)=>a-b));return Object.assign({},_angular_core__WEBPACK_IMPORTED_MODULE_2__.mY,config,sortedBreakpoints)}((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.WQX)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.VeQ));renderer=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.WQX)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.sFG);imgElement=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.WQX)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.aKT).nativeElement;injector=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.WQX)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.zZn);destroyRef=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.WQX)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.abz);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){ngDevMode&&(this.lcpObserver=this.injector.get(LCPImageObserver),this.destroyRef.onDestroy(()=>{this.priority||null===this._renderedSrc||this.lcpObserver.unregisterImage(this._renderedSrc)}))}ngOnInit(){if((0,_angular_core__WEBPACK_IMPORTED_MODULE_2__._jY)("NgOptimizedImage"),ngDevMode){const ngZone=this.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_2__.SKi);if(assertNonEmptyInput(this,"ngSrc",this.ngSrc),function assertValidNgSrcset(dir,value){if(null==value)return;assertNonEmptyInput(dir,"ngSrcset",value);const stringVal=value,isValidWidthDescriptor=VALID_WIDTH_DESCRIPTOR_SRCSET.test(stringVal),isValidDensityDescriptor=VALID_DENSITY_DESCRIPTOR_SRCSET.test(stringVal);isValidDensityDescriptor&&function assertUnderDensityCap(dir,value){const underDensityCap=value.split(",").every(num=>""===num||parseFloat(num)<=3);if(!underDensityCap)throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2952,`${imgDirectiveDetails(dir.ngSrc)} the \`ngSrcset\` contains an unsupported image density:\`${value}\`. NgOptimizedImage generally recommends a max image density of 2x but supports image densities up to 3x. The human eye cannot distinguish between image densities greater than 2x - which makes them unnecessary for most use cases. Images that will be pinch-zoomed are typically the primary use case for 3x images. Please remove the high density descriptor and try again.`)}(dir,stringVal);if(!isValidWidthDescriptor&&!isValidDensityDescriptor)throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2952,`${imgDirectiveDetails(dir.ngSrc)} \`ngSrcset\` has an invalid value (\`${value}\`). To fix this, supply \`ngSrcset\` using a comma-separated list of one or more width descriptors (e.g. "100w, 200w") or density descriptors (e.g. "1x, 2x").`)}(this,this.ngSrcset),function assertNoConflictingSrc(dir){if(dir.src)throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2950,`${imgDirectiveDetails(dir.ngSrc)} both \`src\` and \`ngSrc\` have been set. Supplying both of these attributes breaks lazy loading. The NgOptimizedImage directive sets \`src\` itself based on the value of \`ngSrc\`. To fix this, please remove the \`src\` attribute.`)}(this),this.ngSrcset&&function assertNoConflictingSrcset(dir){if(dir.srcset)throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2951,`${imgDirectiveDetails(dir.ngSrc)} both \`srcset\` and \`ngSrcset\` have been set. Supplying both of these attributes breaks lazy loading. The NgOptimizedImage directive sets \`srcset\` itself based on the value of \`ngSrcset\`. To fix this, please remove the \`srcset\` attribute.`)}(this),function assertNotBase64Image(dir){let ngSrc=dir.ngSrc.trim();if(ngSrc.startsWith("data:"))throw ngSrc.length>50&&(ngSrc=ngSrc.substring(0,50)+"..."),new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2952,`${imgDirectiveDetails(dir.ngSrc,!1)} \`ngSrc\` is a Base64-encoded string (${ngSrc}). NgOptimizedImage does not support Base64-encoded strings. To fix this, disable the NgOptimizedImage directive for this element by removing \`ngSrc\` and using a standard \`src\` attribute instead.`)}(this),function assertNotBlobUrl(dir){const ngSrc=dir.ngSrc.trim();if(ngSrc.startsWith("blob:"))throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2952,`${imgDirectiveDetails(dir.ngSrc)} \`ngSrc\` was set to a blob URL (${ngSrc}). Blob URLs are not supported by the NgOptimizedImage directive. To fix this, disable the NgOptimizedImage directive for this element by removing \`ngSrc\` and using a regular \`src\` attribute instead.`)}(this),this.fill?(!function assertEmptyWidthAndHeight(dir){if(dir.width||dir.height)throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2952,`${imgDirectiveDetails(dir.ngSrc)} the attributes \`height\` and/or \`width\` are present along with the \`fill\` attribute. Because \`fill\` mode causes an image to fill its containing element, the size attributes have no effect and should be removed.`)}(this),ngZone.runOutsideAngular(()=>function assertNonZeroRenderedHeight(dir,img,renderer,destroyRef){const callback=()=>{removeLoadListenerFn(),removeErrorListenerFn();const renderedHeight=img.clientHeight;dir.fill&&0===renderedHeight&&console.warn((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.OsK)(2952,`${imgDirectiveDetails(dir.ngSrc)} the height of the fill-mode image is zero. This is likely because the containing element does not have the CSS 'position' property set to one of the following: "relative", "fixed", or "absolute". To fix this problem, make sure the container element has the CSS 'position' property defined and the height of the element is not zero.`))},removeLoadListenerFn=renderer.listen(img,"load",callback),removeErrorListenerFn=renderer.listen(img,"error",()=>{removeLoadListenerFn(),removeErrorListenerFn()});destroyRef.onDestroy(()=>{removeLoadListenerFn(),removeErrorListenerFn()}),callOnLoadIfImageIsLoaded(img,callback)}(this,this.imgElement,this.renderer,this.destroyRef))):(!function assertNonEmptyWidthAndHeight(dir){let missingAttributes=[];void 0===dir.width&&missingAttributes.push("width");void 0===dir.height&&missingAttributes.push("height");if(missingAttributes.length>0)throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2954,`${imgDirectiveDetails(dir.ngSrc)} these required attributes are missing: ${missingAttributes.map(attr=>`"${attr}"`).join(", ")}. Including "width" and "height" attributes will prevent image-related layout shifts. To fix this, include "width" and "height" attributes on the image tag or turn on "fill" mode with the \`fill\` attribute.`)}(this),void 0!==this.height&&assertGreaterThanZero(this,this.height,"height"),void 0!==this.width&&assertGreaterThanZero(this,this.width,"width"),ngZone.runOutsideAngular(()=>function assertNoImageDistortion(dir,img,renderer,destroyRef){const callback=()=>{removeLoadListenerFn(),removeErrorListenerFn();const computedStyle=window.getComputedStyle(img);let renderedWidth=parseFloat(computedStyle.getPropertyValue("width")),renderedHeight=parseFloat(computedStyle.getPropertyValue("height"));if("border-box"===computedStyle.getPropertyValue("box-sizing")){const paddingTop=computedStyle.getPropertyValue("padding-top"),paddingRight=computedStyle.getPropertyValue("padding-right"),paddingBottom=computedStyle.getPropertyValue("padding-bottom"),paddingLeft=computedStyle.getPropertyValue("padding-left");renderedWidth-=parseFloat(paddingRight)+parseFloat(paddingLeft),renderedHeight-=parseFloat(paddingTop)+parseFloat(paddingBottom)}const renderedAspectRatio=renderedWidth/renderedHeight,nonZeroRenderedDimensions=0!==renderedWidth&&0!==renderedHeight,intrinsicWidth=img.naturalWidth,intrinsicHeight=img.naturalHeight,intrinsicAspectRatio=intrinsicWidth/intrinsicHeight,suppliedWidth=dir.width,suppliedHeight=dir.height,suppliedAspectRatio=suppliedWidth/suppliedHeight,inaccurateDimensions=Math.abs(suppliedAspectRatio-intrinsicAspectRatio)>.1,stylingDistortion=nonZeroRenderedDimensions&&Math.abs(intrinsicAspectRatio-renderedAspectRatio)>.1;if(inaccurateDimensions)console.warn((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.OsK)(2952,`${imgDirectiveDetails(dir.ngSrc)} the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: ${intrinsicWidth}w x ${intrinsicHeight}h (aspect-ratio: ${round(intrinsicAspectRatio)}). \nSupplied width and height attributes: ${suppliedWidth}w x ${suppliedHeight}h (aspect-ratio: ${round(suppliedAspectRatio)}). \nTo fix this, update the width and height attributes.`));else if(stylingDistortion)console.warn((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.OsK)(2952,`${imgDirectiveDetails(dir.ngSrc)} the aspect ratio of the rendered image does not match the image's intrinsic aspect ratio. \nIntrinsic image size: ${intrinsicWidth}w x ${intrinsicHeight}h (aspect-ratio: ${round(intrinsicAspectRatio)}). \nRendered image size: ${renderedWidth}w x ${renderedHeight}h (aspect-ratio: ${round(renderedAspectRatio)}). \nThis issue can occur if "width" and "height" attributes are added to an image without updating the corresponding image styling. To fix this, adjust image styling. In most cases, adding "height: auto" or "width: auto" to the image styling will fix this issue.`));else if(!dir.ngSrcset&&nonZeroRenderedDimensions){const recommendedWidth=2*renderedWidth,recommendedHeight=2*renderedHeight;(intrinsicWidth-recommendedWidth>=1e3||intrinsicHeight-recommendedHeight>=1e3)&&console.warn((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.OsK)(2960,`${imgDirectiveDetails(dir.ngSrc)} the intrinsic image is significantly larger than necessary. \nRendered image size: ${renderedWidth}w x ${renderedHeight}h. \nIntrinsic image size: ${intrinsicWidth}w x ${intrinsicHeight}h. \nRecommended intrinsic image size: ${recommendedWidth}w x ${recommendedHeight}h. \nNote: Recommended intrinsic image size is calculated assuming a maximum DPR of 2. To improve loading time, resize the image or consider using the "ngSrcset" and "sizes" attributes.`))}},removeLoadListenerFn=renderer.listen(img,"load",callback),removeErrorListenerFn=renderer.listen(img,"error",()=>{removeLoadListenerFn(),removeErrorListenerFn()});destroyRef.onDestroy(()=>{removeLoadListenerFn(),removeErrorListenerFn()}),callOnLoadIfImageIsLoaded(img,callback)}(this,this.imgElement,this.renderer,this.destroyRef))),function assertValidLoadingInput(dir){if(dir.loading&&dir.priority)throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2952,`${imgDirectiveDetails(dir.ngSrc)} the \`loading\` attribute was used on an image that was marked "priority". Setting \`loading\` on priority images is not allowed because these images will always be eagerly loaded. To fix this, remove the “loading” attribute from the priority image.`);const validInputs=["auto","eager","lazy"];if("string"==typeof dir.loading&&!validInputs.includes(dir.loading))throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2952,`${imgDirectiveDetails(dir.ngSrc)} the \`loading\` attribute has an invalid value (\`${dir.loading}\`). To fix this, provide a valid value ("lazy", "eager", or "auto").`)}(this),function assertValidDecodingInput(dir){const validInputs=["sync","async","auto"];if("string"==typeof dir.decoding&&!validInputs.includes(dir.decoding))throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2952,`${imgDirectiveDetails(dir.ngSrc)} the \`decoding\` attribute has an invalid value (\`${dir.decoding}\`). To fix this, provide a valid value ("sync", "async", or "auto").`)}(this),this.ngSrcset||function assertNoComplexSizes(dir){let sizes=dir.sizes;if(sizes?.match(/((\)|,)\s|^)\d+px/))throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2952,`${imgDirectiveDetails(dir.ngSrc,!1)} \`sizes\` was set to a string including pixel values. For automatic \`srcset\` generation, \`sizes\` must only include responsive values, such as \`sizes="50vw"\` or \`sizes="(min-width: 768px) 50vw, 100vw"\`. To fix this, modify the \`sizes\` attribute, or provide your own \`ngSrcset\` value directly.`)}(this),function assertValidPlaceholder(dir,imageLoader){(function assertNoPlaceholderConfigWithoutPlaceholder(dir){if(dir.placeholderConfig&&!dir.placeholder)throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2952,`${imgDirectiveDetails(dir.ngSrc,!1)} \`placeholderConfig\` options were provided for an image that does not use the \`placeholder\` attribute, and will have no effect.`)})(dir),function assertNoRelativePlaceholderWithoutLoader(dir,imageLoader){if(!0===dir.placeholder&&imageLoader===noopImageLoader)throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2963,`${imgDirectiveDetails(dir.ngSrc)} the \`placeholder\` attribute is set to true but no image loader is configured (i.e. the default one is being used), which would result in the same image being used for the primary image and its placeholder. To fix this, provide a loader or remove the \`placeholder\` attribute from the image.`)}(dir,imageLoader),function assertNoOversizedDataUrl(dir){if(dir.placeholder&&"string"==typeof dir.placeholder&&dir.placeholder.startsWith("data:")){if(dir.placeholder.length>1e4)throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2965,`${imgDirectiveDetails(dir.ngSrc)} the \`placeholder\` attribute is set to a data URL which is longer than 10000 characters. This is strongly discouraged, as large inline placeholders directly increase the bundle size of Angular and hurt page load performance. To fix this, generate a smaller data URL placeholder.`);dir.placeholder.length>4e3&&console.warn((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.OsK)(2965,`${imgDirectiveDetails(dir.ngSrc)} the \`placeholder\` attribute is set to a data URL which is longer than 4000 characters. This is discouraged, as large inline placeholders directly increase the bundle size of Angular and hurt page load performance. For better loading performance, generate a smaller data URL placeholder.`))}}(dir)}(this,this.imageLoader),function assertNotMissingBuiltInLoader(ngSrc,imageLoader){if(imageLoader===noopImageLoader){let builtInLoaderName="";for(const loader of BUILT_IN_LOADERS)if(loader.testUrl(ngSrc)){builtInLoaderName=loader.name;break}builtInLoaderName&&console.warn((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.OsK)(2962,`NgOptimizedImage: It looks like your images may be hosted on the ${builtInLoaderName} CDN, but your app is not using Angular's built-in loader for that CDN. We recommend switching to use the built-in by calling \`provide${builtInLoaderName}Loader()\` in your \`providers\` and passing it your instance's base URL. If you don't want to use the built-in loader, define a custom loader function using IMAGE_LOADER to silence this warning.`))}}(this.ngSrc,this.imageLoader),function assertNoNgSrcsetWithoutLoader(dir,imageLoader){dir.ngSrcset&&imageLoader===noopImageLoader&&console.warn((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.OsK)(2963,`${imgDirectiveDetails(dir.ngSrc)} the \`ngSrcset\` attribute is present but no image loader is configured (i.e. the default one is being used), which would result in the same image being used for all configured sizes. To fix this, provide a loader or remove the \`ngSrcset\` attribute from the image.`))}(this,this.imageLoader),function assertNoLoaderParamsWithoutLoader(dir,imageLoader){dir.loaderParams&&imageLoader===noopImageLoader&&console.warn((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.OsK)(2963,`${imgDirectiveDetails(dir.ngSrc)} the \`loaderParams\` attribute is present but no image loader is configured (i.e. the default one is being used), which means that the loaderParams data will not be consumed and will not affect the URL. To fix this, provide a custom loader or remove the \`loaderParams\` attribute from the image.`))}(this,this.imageLoader),ngZone.runOutsideAngular(()=>{this.lcpObserver.registerImage(this.getRewrittenSrc(),this.ngSrc,this.priority)}),this.priority){if(this.injector.get(PreconnectLinkChecker).assertPreconnect(this.getRewrittenSrc(),this.ngSrc),"undefined"!=typeof ngServerMode&&!ngServerMode){!function assetPriorityCountBelowThreshold(_x){return _assetPriorityCountBelowThreshold.apply(this,arguments)}(this.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_2__.o8S))}}}this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");const rewrittenSrcset=this.updateSrcAndSrcset();if(this.sizes?"lazy"===this.getLoadingBehavior()?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&VALID_WIDTH_DESCRIPTOR_SRCSET.test(this.ngSrcset)&&"lazy"===this.getLoadingBehavior()&&this.setHostAttribute("sizes","auto, 100vw"),"undefined"!=typeof ngServerMode&&ngServerMode&&this.priority){this.injector.get(PreloadLinkCreator).createPreloadLinkTag(this.renderer,this.getRewrittenSrc(),rewrittenSrcset,this.sizes)}}ngOnChanges(changes){if(ngDevMode&&function assertNoPostInitInputChange(dir,changes,inputs){inputs.forEach(input=>{if(changes.hasOwnProperty(input)&&!changes[input].isFirstChange())throw"ngSrc"===input&&(dir={ngSrc:changes[input].previousValue}),function postInitInputChangeError(dir,inputName){let reason;reason="width"===inputName||"height"===inputName?`Changing \`${inputName}\` may result in different attribute value applied to the underlying image element and cause layout shifts on a page.`:`Changing the \`${inputName}\` would have no effect on the underlying image element, because the resource loading has already occurred.`;return new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2953,`${imgDirectiveDetails(dir.ngSrc)} \`${inputName}\` was updated after initialization. The NgOptimizedImage directive will not react to this input change. ${reason} To fix this, either switch \`${inputName}\` to a static value or wrap the image element in an @if that is gated on the necessary value.`)}(dir,input)})}(this,changes,["ngSrcset","width","height","priority","fill","loading","sizes","loaderParams","disableOptimizedSrcset"]),changes.ngSrc&&!changes.ngSrc.isFirstChange()){const oldSrc=this._renderedSrc;if(this.updateSrcAndSrcset(!0),ngDevMode){const newSrc=this._renderedSrc;if(oldSrc&&newSrc&&oldSrc!==newSrc){this.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_2__.SKi).runOutsideAngular(()=>{this.lcpObserver.updateImage(oldSrc,newSrc)})}}}ngDevMode&&changes.placeholder?.currentValue&&"undefined"!=typeof ngServerMode&&!ngServerMode&&function assertPlaceholderDimensions(dir,imgElement){const computedStyle=window.getComputedStyle(imgElement);let renderedWidth=parseFloat(computedStyle.getPropertyValue("width")),renderedHeight=parseFloat(computedStyle.getPropertyValue("height"));(renderedWidth>1e3||renderedHeight>1e3)&&console.warn((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.OsK)(2967,`${imgDirectiveDetails(dir.ngSrc)} it uses a placeholder image, but at least one of the dimensions attribute (height or width) exceeds the limit of 1000px. To fix this, use a smaller image as a placeholder.`))}(this,this.imgElement)}callImageLoader(configWithoutCustomParams){let augmentedConfig=configWithoutCustomParams;return this.loaderParams&&(augmentedConfig.loaderParams=this.loaderParams),this.imageLoader(augmentedConfig)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){const imgConfig={src:this.ngSrc};this._renderedSrc=this.callImageLoader(imgConfig)}return this._renderedSrc}getRewrittenSrcset(){const widthSrcSet=VALID_WIDTH_DESCRIPTOR_SRCSET.test(this.ngSrcset);return this.ngSrcset.split(",").filter(src=>""!==src).map(srcStr=>{srcStr=srcStr.trim();const width=widthSrcSet?parseFloat(srcStr):parseFloat(srcStr)*this.width;return`${this.callImageLoader({src:this.ngSrc,width})} ${srcStr}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints}=this.config;let filteredBreakpoints=breakpoints;"100vw"===this.sizes?.trim()&&(filteredBreakpoints=breakpoints.filter(bp=>bp>=640));return filteredBreakpoints.map(bp=>`${this.callImageLoader({src:this.ngSrc,width:bp})} ${bp}w`).join(", ")}updateSrcAndSrcset(forceSrcRecalc=!1){forceSrcRecalc&&(this._renderedSrc=null);const rewrittenSrc=this.getRewrittenSrc();let rewrittenSrcset;return this.setHostAttribute("src",rewrittenSrc),this.ngSrcset?rewrittenSrcset=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(rewrittenSrcset=this.getAutomaticSrcset()),rewrittenSrcset&&this.setHostAttribute("srcset",rewrittenSrcset),rewrittenSrcset}getFixedSrcset(){return DENSITY_SRCSET_MULTIPLIERS.map(multiplier=>`${this.callImageLoader({src:this.ngSrc,width:this.width*multiplier})} ${multiplier}x`).join(", ")}shouldGenerateAutomaticSrcset(){let oversizedImage=!1;return this.sizes||(oversizedImage=this.width>1920||this.height>1080),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==noopImageLoader&&!oversizedImage}generatePlaceholder(placeholderInput){const{placeholderResolution}=this.config;return!0===placeholderInput?`url(${this.callImageLoader({src:this.ngSrc,width:placeholderResolution,isPlaceholder:!0})})`:"string"==typeof placeholderInput?`url(${placeholderInput})`:null}shouldBlurPlaceholder(placeholderConfig){return!placeholderConfig||!placeholderConfig.hasOwnProperty("blur")||Boolean(placeholderConfig.blur)}removePlaceholderOnLoad(img){const callback=()=>{const changeDetectorRef=this.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_3__.ChangeDetectorRef);removeLoadListenerFn(),removeErrorListenerFn(),this.placeholder=!1,changeDetectorRef.markForCheck()},removeLoadListenerFn=this.renderer.listen(img,"load",callback),removeErrorListenerFn=this.renderer.listen(img,"error",callback);this.destroyRef.onDestroy(()=>{removeLoadListenerFn(),removeErrorListenerFn()}),callOnLoadIfImageIsLoaded(img,callback)}setHostAttribute(name,value){this.renderer.setAttribute(this.imgElement,name,value)}static ɵfac=function NgOptimizedImage_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgOptimizedImage)};static ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_2__.FsC({type:NgOptimizedImage,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function NgOptimizedImage_HostBindings(rf,ctx){2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.xc7("position",ctx.fill?"absolute":null)("width",ctx.fill?"100%":null)("height",ctx.fill?"100%":null)("inset",ctx.fill?"0":null)("background-size",ctx.placeholder?"cover":null)("background-position",ctx.placeholder?"50% 50%":null)("background-repeat",ctx.placeholder?"no-repeat":null)("background-image",ctx.placeholder?ctx.generatePlaceholder(ctx.placeholder):null)("filter",ctx.placeholder&&ctx.shouldBlurPlaceholder(ctx.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",unwrapSafeUrl],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",_angular_core__WEBPACK_IMPORTED_MODULE_3__.numberAttribute],height:[2,"height","height",_angular_core__WEBPACK_IMPORTED_MODULE_3__.numberAttribute],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",_angular_core__WEBPACK_IMPORTED_MODULE_3__.booleanAttribute],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",_angular_core__WEBPACK_IMPORTED_MODULE_3__.booleanAttribute],fill:[2,"fill","fill",_angular_core__WEBPACK_IMPORTED_MODULE_3__.booleanAttribute],placeholder:[2,"placeholder","placeholder",booleanOrUrlAttribute],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.OA$]})}function assertNonEmptyInput(dir,name,value){const isString="string"==typeof value,isEmptyString=isString&&""===value.trim();if(!isString||isEmptyString)throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2952,`${imgDirectiveDetails(dir.ngSrc)} \`${name}\` has an invalid value (\`${value}\`). To fix this, change the value to a non-empty string.`)}function assertGreaterThanZero(dir,inputValue,inputName){const validNumber="number"==typeof inputValue&&inputValue>0,validString="string"==typeof inputValue&&/^\d+$/.test(inputValue.trim())&&parseInt(inputValue)>0;if(!validNumber&&!validString)throw new _angular_core__WEBPACK_IMPORTED_MODULE_1__.buA(2952,`${imgDirectiveDetails(dir.ngSrc)} \`${inputName}\` has an invalid value. To fix this, provide \`${inputName}\` as a number greater than 0.`)}function _assetPriorityCountBelowThreshold(){return(_assetPriorityCountBelowThreshold=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(appRef){0===IMGS_WITH_PRIORITY_ATTR_COUNT?(IMGS_WITH_PRIORITY_ATTR_COUNT++,yield appRef.whenStable(),IMGS_WITH_PRIORITY_ATTR_COUNT>10&&console.warn((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.OsK)(2966,`NgOptimizedImage: The "priority" attribute is set to true more than 10 times (${IMGS_WITH_PRIORITY_ATTR_COUNT} times). Marking too many images as "high" priority can hurt your application's LCP (https://web.dev/lcp). "Priority" should only be set on the image expected to be the page's LCP element.`))):IMGS_WITH_PRIORITY_ATTR_COUNT++})).apply(this,arguments)}function callOnLoadIfImageIsLoaded(img,callback){img.complete&&img.naturalWidth&&callback()}function round(input){return Number.isInteger(input)?input:input.toFixed(2)}function unwrapSafeUrl(value){return"string"==typeof value?value:(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.aCM)(value)}function booleanOrUrlAttribute(value){return"string"==typeof value&&"true"!==value&&"false"!==value&&""!==value?value:(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.booleanAttribute)(value)}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.cDI(NgOptimizedImage,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.WLR,args:[{selector:"img[ngSrc]",host:{"[style.position]":'fill ? "absolute" : null',"[style.width]":'fill ? "100%" : null',"[style.height]":'fill ? "100%" : null',"[style.inset]":'fill ? "0" : null',"[style.background-size]":'placeholder ? "cover" : null',"[style.background-position]":'placeholder ? "50% 50%" : null',"[style.background-repeat]":'placeholder ? "no-repeat" : null',"[style.background-image]":"placeholder ? generatePlaceholder(placeholder) : null","[style.filter]":'placeholder && shouldBlurPlaceholder(placeholderConfig) ? "blur(15px)" : null'}}]}],()=>[],{ngSrc:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde,args:[{required:!0,transform:unwrapSafeUrl}]}],ngSrcset:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde}],sizes:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde}],width:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_3__.numberAttribute}]}],height:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_3__.numberAttribute}]}],decoding:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde}],loading:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde}],priority:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_3__.booleanAttribute}]}],loaderParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde}],disableOptimizedSrcset:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_3__.booleanAttribute}]}],fill:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde,args:[{transform:_angular_core__WEBPACK_IMPORTED_MODULE_3__.booleanAttribute}]}],placeholder:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde,args:[{transform:booleanOrUrlAttribute}]}],placeholderConfig:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde}],src:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde}],srcset:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.pde}]})},"./node_modules/@angular/common/fesm2022/common_module.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{MD:()=>CommonModule,T3:()=>NgTemplateOutlet,YU:()=>NgClass,bT:()=>NgIf,vh:()=>DatePipe});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/core/fesm2022/resource.mjs"),_location_mjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/common/fesm2022/location.mjs");class HashLocationStrategy extends _location_mjs__WEBPACK_IMPORTED_MODULE_4__.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(_platformLocation,_baseHref){super(),this._platformLocation=_platformLocation,null!=_baseHref&&(this._baseHref=_baseHref)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(fn){this._removeListenerFns.push(this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn))}getBaseHref(){return this._baseHref}path(includeHash=!1){const path=this._platformLocation.hash??"#";return path.length>0?path.substring(1):path}prepareExternalUrl(internal){const url=(0,_location_mjs__WEBPACK_IMPORTED_MODULE_4__.om)(this._baseHref,internal);return url.length>0?"#"+url:url}pushState(state,title,path,queryParams){const url=this.prepareExternalUrl(path+(0,_location_mjs__WEBPACK_IMPORTED_MODULE_4__.Q)(queryParams))||this._platformLocation.pathname;this._platformLocation.pushState(state,title,url)}replaceState(state,title,path,queryParams){const url=this.prepareExternalUrl(path+(0,_location_mjs__WEBPACK_IMPORTED_MODULE_4__.Q)(queryParams))||this._platformLocation.pathname;this._platformLocation.replaceState(state,title,url)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(relativePosition=0){this._platformLocation.historyGo?.(relativePosition)}static ɵfac=function HashLocationStrategy_Factory(__ngFactoryType__){return new(__ngFactoryType__||HashLocationStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(_location_mjs__WEBPACK_IMPORTED_MODULE_4__.Vw),_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(_location_mjs__WEBPACK_IMPORTED_MODULE_4__.kB,8))};static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:HashLocationStrategy,factory:HashLocationStrategy.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(HashLocationStrategy,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__._qm}],()=>[{type:_location_mjs__WEBPACK_IMPORTED_MODULE_4__.Vw},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xx1},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.y_5,args:[_location_mjs__WEBPACK_IMPORTED_MODULE_4__.kB]}]}],null);const CURRENCIES_EN={ADP:[void 0,void 0,0],AFN:[void 0,"؋",0],ALL:[void 0,void 0,0],AMD:[void 0,"֏",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"₼"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"৳"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN¥","¥"],COP:[void 0,"$",2],CRC:[void 0,"₡",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"Kč",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E£"],ESP:[void 0,"₧",0],EUR:["€"],FJD:[void 0,"$"],FKP:[void 0,"£"],GBP:["£"],GEL:[void 0,"₾"],GHS:[void 0,"GH₵"],GIP:[void 0,"£"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["₪"],INR:["₹"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["¥",void 0,0],KHR:[void 0,"៛"],KMF:[void 0,"CF",0],KPW:[void 0,"₩",0],KRW:["₩",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"₸"],LAK:[void 0,"₭",0],LBP:[void 0,"L£",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"₮",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"₦"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["₱"],PKR:[void 0,"Rs",2],PLN:[void 0,"zł"],PYG:[void 0,"₲",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"₽"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"£"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"£"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"£",0],THB:[void 0,"฿"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"₺"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"₴"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["₫",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["¤"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var NumberFormatStyle,Plural,FormStyle,TranslationWidth,FormatWidth;!function(NumberFormatStyle){NumberFormatStyle[NumberFormatStyle.Decimal=0]="Decimal",NumberFormatStyle[NumberFormatStyle.Percent=1]="Percent",NumberFormatStyle[NumberFormatStyle.Currency=2]="Currency",NumberFormatStyle[NumberFormatStyle.Scientific=3]="Scientific"}(NumberFormatStyle||(NumberFormatStyle={})),function(Plural){Plural[Plural.Zero=0]="Zero",Plural[Plural.One=1]="One",Plural[Plural.Two=2]="Two",Plural[Plural.Few=3]="Few",Plural[Plural.Many=4]="Many",Plural[Plural.Other=5]="Other"}(Plural||(Plural={})),function(FormStyle){FormStyle[FormStyle.Format=0]="Format",FormStyle[FormStyle.Standalone=1]="Standalone"}(FormStyle||(FormStyle={})),function(TranslationWidth){TranslationWidth[TranslationWidth.Narrow=0]="Narrow",TranslationWidth[TranslationWidth.Abbreviated=1]="Abbreviated",TranslationWidth[TranslationWidth.Wide=2]="Wide",TranslationWidth[TranslationWidth.Short=3]="Short"}(TranslationWidth||(TranslationWidth={})),function(FormatWidth){FormatWidth[FormatWidth.Short=0]="Short",FormatWidth[FormatWidth.Medium=1]="Medium",FormatWidth[FormatWidth.Long=2]="Long",FormatWidth[FormatWidth.Full=3]="Full"}(FormatWidth||(FormatWidth={}));const NumberSymbol_Decimal=0,NumberSymbol_Group=1,NumberSymbol_PercentSign=3,NumberSymbol_MinusSign=5,NumberSymbol_Exponential=6,NumberSymbol_Infinity=9,NumberSymbol_CurrencyDecimal=12,NumberSymbol_CurrencyGroup=13;var WeekDay;function getLocaleDateFormat(locale,width){return getLastDefinedValue((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.kBR)(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.DateFormat],width)}function getLocaleTimeFormat(locale,width){return getLastDefinedValue((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.kBR)(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.TimeFormat],width)}function getLocaleDateTimeFormat(locale,width){return getLastDefinedValue((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.kBR)(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.DateTimeFormat],width)}function getLocaleNumberSymbol(locale,symbol){const data=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.kBR)(locale),res=data[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.NumberSymbols][symbol];if(void 0===res){if(symbol===NumberSymbol_CurrencyDecimal)return data[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.NumberSymbols][NumberSymbol_Decimal];if(symbol===NumberSymbol_CurrencyGroup)return data[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.NumberSymbols][NumberSymbol_Group]}return res}function getLocaleNumberFormat(locale,type){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.kBR)(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.NumberFormats][type]}!function(WeekDay){WeekDay[WeekDay.Sunday=0]="Sunday",WeekDay[WeekDay.Monday=1]="Monday",WeekDay[WeekDay.Tuesday=2]="Tuesday",WeekDay[WeekDay.Wednesday=3]="Wednesday",WeekDay[WeekDay.Thursday=4]="Thursday",WeekDay[WeekDay.Friday=5]="Friday",WeekDay[WeekDay.Saturday=6]="Saturday"}(WeekDay||(WeekDay={}));const getLocalePluralCase=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Jt5;function checkFullData(data){if(!data[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.ExtraData])throw new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2303,ngDevMode&&`Missing extra locale data for the locale "${data[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function getLastDefinedValue(data,index){for(let i=index;i>-1;i--)if(void 0!==data[i])return data[i];throw new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2304,ngDevMode&&"Locale data API: locale data undefined")}function extractTime(time){const[h,m]=time.split(":");return{hours:+h,minutes:+m}}function getCurrencySymbol(code,format,locale="en"){const currency=function getLocaleCurrencies(locale){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.kBR)(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.Currencies]}(locale)[code]||CURRENCIES_EN[code]||[],symbolNarrow=currency[1];return"narrow"===format&&"string"==typeof symbolNarrow?symbolNarrow:currency[0]||code}const ISO8601_DATE_REGEX=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,NAMED_FORMATS={},DATE_FORMATS_SPLIT=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function formatDate(value,format,locale,timezone){let date=function toDate(value){if(isDate(value))return value;if("number"==typeof value&&!isNaN(value))return new Date(value);if("string"==typeof value){if(value=value.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(value)){const[y,m=1,d=1]=value.split("-").map(val=>+val);return createDate(y,m-1,d)}const parsedNb=parseFloat(value);if(!isNaN(value-parsedNb))return new Date(parsedNb);let match;if(match=value.match(ISO8601_DATE_REGEX))return function isoStringToDate(match){const date=new Date(0);let tzHour=0,tzMin=0;const dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=Number(match[9]+match[10]),tzMin=Number(match[9]+match[11]));dateSetter.call(date,Number(match[1]),Number(match[2])-1,Number(match[3]));const h=Number(match[4]||0)-tzHour,m=Number(match[5]||0)-tzMin,s=Number(match[6]||0),ms=Math.floor(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}(match)}const date=new Date(value);if(!isDate(date))throw new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2311,ngDevMode&&`Unable to convert "${value}" into a date`);return date}(value);format=getNamedFormat(locale,format)||format;let match,parts=[];for(;format;){if(match=DATE_FORMATS_SPLIT.exec(format),!match){parts.push(format);break}{parts=parts.concat(match.slice(1));const part=parts.pop();if(!part)break;format=part}}("undefined"==typeof ngDevMode||ngDevMode)&&function assertValidDateFormat(parts){if(parts.some(part=>/^Y+$/.test(part))&&!parts.some(part=>/^w+$/.test(part))){const message=`Suspicious use of week-based year "Y" in date pattern "${parts.join("")}". Did you mean to use calendar year "y" instead?`;if(1!==parts.length)throw new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2300,message);console.error((0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.OsK)(2300,message))}}(parts);let dateTimezoneOffset=date.getTimezoneOffset();timezone&&(dateTimezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset),date=function convertTimezoneToLocal(date,timezone,reverse){const reverseValue=-1,dateTimezoneOffset=date.getTimezoneOffset(),timezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);return function addDateMinutes(date,minutes){return date=new Date(date.getTime()),date.setMinutes(date.getMinutes()+minutes),date}(date,reverseValue*(timezoneOffset-dateTimezoneOffset))}(date,timezone));let text="";return parts.forEach(value=>{const dateFormatter=function getDateFormatter(format){if(DATE_FORMATS[format])return DATE_FORMATS[format];let formatter;switch(format){case"G":case"GG":case"GGG":formatter=dateStrGetter(3,TranslationWidth.Abbreviated);break;case"GGGG":formatter=dateStrGetter(3,TranslationWidth.Wide);break;case"GGGGG":formatter=dateStrGetter(3,TranslationWidth.Narrow);break;case"y":formatter=dateGetter(0,1,0,!1,!0);break;case"yy":formatter=dateGetter(0,2,0,!0,!0);break;case"yyy":formatter=dateGetter(0,3,0,!1,!0);break;case"yyyy":formatter=dateGetter(0,4,0,!1,!0);break;case"Y":formatter=weekNumberingYearGetter(1);break;case"YY":formatter=weekNumberingYearGetter(2,!0);break;case"YYY":formatter=weekNumberingYearGetter(3);break;case"YYYY":formatter=weekNumberingYearGetter(4);break;case"M":case"L":formatter=dateGetter(1,1,1);break;case"MM":case"LL":formatter=dateGetter(1,2,1);break;case"MMM":formatter=dateStrGetter(2,TranslationWidth.Abbreviated);break;case"MMMM":formatter=dateStrGetter(2,TranslationWidth.Wide);break;case"MMMMM":formatter=dateStrGetter(2,TranslationWidth.Narrow);break;case"LLL":formatter=dateStrGetter(2,TranslationWidth.Abbreviated,FormStyle.Standalone);break;case"LLLL":formatter=dateStrGetter(2,TranslationWidth.Wide,FormStyle.Standalone);break;case"LLLLL":formatter=dateStrGetter(2,TranslationWidth.Narrow,FormStyle.Standalone);break;case"w":formatter=weekGetter(1);break;case"ww":formatter=weekGetter(2);break;case"W":formatter=weekGetter(1,!0);break;case"d":formatter=dateGetter(2,1);break;case"dd":formatter=dateGetter(2,2);break;case"c":case"cc":formatter=dateGetter(7,1);break;case"ccc":formatter=dateStrGetter(1,TranslationWidth.Abbreviated,FormStyle.Standalone);break;case"cccc":formatter=dateStrGetter(1,TranslationWidth.Wide,FormStyle.Standalone);break;case"ccccc":formatter=dateStrGetter(1,TranslationWidth.Narrow,FormStyle.Standalone);break;case"cccccc":formatter=dateStrGetter(1,TranslationWidth.Short,FormStyle.Standalone);break;case"E":case"EE":case"EEE":formatter=dateStrGetter(1,TranslationWidth.Abbreviated);break;case"EEEE":formatter=dateStrGetter(1,TranslationWidth.Wide);break;case"EEEEE":formatter=dateStrGetter(1,TranslationWidth.Narrow);break;case"EEEEEE":formatter=dateStrGetter(1,TranslationWidth.Short);break;case"a":case"aa":case"aaa":formatter=dateStrGetter(0,TranslationWidth.Abbreviated);break;case"aaaa":formatter=dateStrGetter(0,TranslationWidth.Wide);break;case"aaaaa":formatter=dateStrGetter(0,TranslationWidth.Narrow);break;case"b":case"bb":case"bbb":formatter=dateStrGetter(0,TranslationWidth.Abbreviated,FormStyle.Standalone,!0);break;case"bbbb":formatter=dateStrGetter(0,TranslationWidth.Wide,FormStyle.Standalone,!0);break;case"bbbbb":formatter=dateStrGetter(0,TranslationWidth.Narrow,FormStyle.Standalone,!0);break;case"B":case"BB":case"BBB":formatter=dateStrGetter(0,TranslationWidth.Abbreviated,FormStyle.Format,!0);break;case"BBBB":formatter=dateStrGetter(0,TranslationWidth.Wide,FormStyle.Format,!0);break;case"BBBBB":formatter=dateStrGetter(0,TranslationWidth.Narrow,FormStyle.Format,!0);break;case"h":formatter=dateGetter(3,1,-12);break;case"hh":formatter=dateGetter(3,2,-12);break;case"H":formatter=dateGetter(3,1);break;case"HH":formatter=dateGetter(3,2);break;case"m":formatter=dateGetter(4,1);break;case"mm":formatter=dateGetter(4,2);break;case"s":formatter=dateGetter(5,1);break;case"ss":formatter=dateGetter(5,2);break;case"S":formatter=dateGetter(6,1);break;case"SS":formatter=dateGetter(6,2);break;case"SSS":formatter=dateGetter(6,3);break;case"Z":case"ZZ":case"ZZZ":formatter=timeZoneGetter(0);break;case"ZZZZZ":formatter=timeZoneGetter(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":formatter=timeZoneGetter(1);break;case"OOOO":case"ZZZZ":case"zzzz":formatter=timeZoneGetter(2);break;default:return null}return DATE_FORMATS[format]=formatter,formatter}(value);text+=dateFormatter?dateFormatter(date,locale,dateTimezoneOffset):"''"===value?"'":value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}function createDate(year,month,date){const newDate=new Date(0);return newDate.setFullYear(year,month,date),newDate.setHours(0,0,0),newDate}function getNamedFormat(locale,format){const localeId=function getLocaleId(locale){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.kBR)(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.LocaleId]}(locale);if(NAMED_FORMATS[localeId]??={},NAMED_FORMATS[localeId][format])return NAMED_FORMATS[localeId][format];let formatValue="";switch(format){case"shortDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Short);break;case"mediumDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Medium);break;case"longDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Long);break;case"fullDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Full);break;case"shortTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Short);break;case"mediumTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Medium);break;case"longTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Long);break;case"fullTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Full);break;case"short":const shortTime=getNamedFormat(locale,"shortTime"),shortDate=getNamedFormat(locale,"shortDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Short),[shortTime,shortDate]);break;case"medium":const mediumTime=getNamedFormat(locale,"mediumTime"),mediumDate=getNamedFormat(locale,"mediumDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Medium),[mediumTime,mediumDate]);break;case"long":const longTime=getNamedFormat(locale,"longTime"),longDate=getNamedFormat(locale,"longDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Long),[longTime,longDate]);break;case"full":const fullTime=getNamedFormat(locale,"fullTime"),fullDate=getNamedFormat(locale,"fullDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Full),[fullTime,fullDate])}return formatValue&&(NAMED_FORMATS[localeId][format]=formatValue),formatValue}function formatDateTime(str,opt_values){return opt_values&&(str=str.replace(/\{([^}]+)}/g,function(match,key){return null!=opt_values&&key in opt_values?opt_values[key]:match})),str}function padNumber(num,digits,minusSign="-",trim,negWrap){let neg="";(num<0||negWrap&&num<=0)&&(negWrap?num=1-num:(num=-num,neg=minusSign));let strNum=String(num);for(;strNum.length<digits;)strNum="0"+strNum;return trim&&(strNum=strNum.slice(strNum.length-digits)),neg+strNum}function dateGetter(name,size,offset=0,trim=!1,negWrap=!1){return function(date,locale){let part=function getDatePart(part,date){switch(part){case 0:return date.getFullYear();case 1:return date.getMonth();case 2:return date.getDate();case 3:return date.getHours();case 4:return date.getMinutes();case 5:return date.getSeconds();case 6:return date.getMilliseconds();case 7:return date.getDay();default:throw new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2301,ngDevMode&&`Unknown DateType value "${part}".`)}}(name,date);if((offset>0||part>-offset)&&(part+=offset),3===name)0===part&&-12===offset&&(part=12);else if(6===name)return function formatFractionalSeconds(milliseconds,digits){return padNumber(milliseconds,3).substring(0,digits)}(part,size);const localeMinus=getLocaleNumberSymbol(locale,NumberSymbol_MinusSign);return padNumber(part,size,localeMinus,trim,negWrap)}}function dateStrGetter(name,width,form=FormStyle.Format,extended=!1){return function(date,locale){return function getDateTranslation(date,locale,name,width,form,extended){switch(name){case 2:return function getLocaleMonthNames(locale,formStyle,width){const data=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.kBR)(locale),months=getLastDefinedValue([data[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.MonthsFormat],data[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.MonthsStandalone]],formStyle);return getLastDefinedValue(months,width)}(locale,form,width)[date.getMonth()];case 1:return function getLocaleDayNames(locale,formStyle,width){const data=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.kBR)(locale),days=getLastDefinedValue([data[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.DaysFormat],data[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.DaysStandalone]],formStyle);return getLastDefinedValue(days,width)}(locale,form,width)[date.getDay()];case 0:const currentHours=date.getHours(),currentMinutes=date.getMinutes();if(extended){const rules=function getLocaleExtraDayPeriodRules(locale){const data=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.kBR)(locale);return checkFullData(data),(data[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.ExtraData][2]||[]).map(rule=>"string"==typeof rule?extractTime(rule):[extractTime(rule[0]),extractTime(rule[1])])}(locale),dayPeriods=function getLocaleExtraDayPeriods(locale,formStyle,width){const data=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.kBR)(locale);checkFullData(data);const dayPeriods=getLastDefinedValue([data[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.ExtraData][0],data[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.ExtraData][1]],formStyle)||[];return getLastDefinedValue(dayPeriods,width)||[]}(locale,form,width),index=rules.findIndex(rule=>{if(Array.isArray(rule)){const[from,to]=rule,afterFrom=currentHours>=from.hours&&currentMinutes>=from.minutes,beforeTo=currentHours<to.hours||currentHours===to.hours&&currentMinutes<to.minutes;if(from.hours<to.hours){if(afterFrom&&beforeTo)return!0}else if(afterFrom||beforeTo)return!0}else if(rule.hours===currentHours&&rule.minutes===currentMinutes)return!0;return!1});if(-1!==index)return dayPeriods[index]}return function getLocaleDayPeriods(locale,formStyle,width){const data=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.kBR)(locale),amPm=getLastDefinedValue([data[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.DayPeriodsFormat],data[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.DayPeriodsStandalone]],formStyle);return getLastDefinedValue(amPm,width)}(locale,form,width)[currentHours<12?0:1];case 3:return function getLocaleEraNames(locale,width){return getLastDefinedValue((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.kBR)(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NSC.Eras],width)}(locale,width)[date.getFullYear()<=0?0:1];default:const unexpected=name;throw new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2302,ngDevMode&&`unexpected translation type ${unexpected}`)}}(date,locale,name,width,form,extended)}}function timeZoneGetter(width){return function(date,locale,offset){const zone=-1*offset,minusSign=getLocaleNumberSymbol(locale,NumberSymbol_MinusSign),hours=zone>0?Math.floor(zone/60):Math.ceil(zone/60);switch(width){case 0:return(zone>=0?"+":"")+padNumber(hours,2,minusSign)+padNumber(Math.abs(zone%60),2,minusSign);case 1:return"GMT"+(zone>=0?"+":"")+padNumber(hours,1,minusSign);case 2:return"GMT"+(zone>=0?"+":"")+padNumber(hours,2,minusSign)+":"+padNumber(Math.abs(zone%60),2,minusSign);case 3:return 0===offset?"Z":(zone>=0?"+":"")+padNumber(hours,2,minusSign)+":"+padNumber(Math.abs(zone%60),2,minusSign);default:throw new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2310,ngDevMode&&`Unknown zone width "${width}"`)}}}const JANUARY=0,THURSDAY=4;function getThursdayThisIsoWeek(datetime){const currentDay=datetime.getDay(),deltaToThursday=0===currentDay?-3:THURSDAY-currentDay;return createDate(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+deltaToThursday)}function weekGetter(size,monthBased=!1){return function(date,locale){let result;if(monthBased){const nbDaysBefore1stDayOfMonth=new Date(date.getFullYear(),date.getMonth(),1).getDay()-1,today=date.getDate();result=1+Math.floor((today+nbDaysBefore1stDayOfMonth)/7)}else{const thisThurs=getThursdayThisIsoWeek(date),firstThurs=function getFirstThursdayOfYear(year){const firstDayOfYear=createDate(year,JANUARY,1).getDay();return createDate(year,0,1+(firstDayOfYear<=THURSDAY?THURSDAY:THURSDAY+7)-firstDayOfYear)}(thisThurs.getFullYear()),diff=thisThurs.getTime()-firstThurs.getTime();result=1+Math.round(diff/6048e5)}return padNumber(result,size,getLocaleNumberSymbol(locale,NumberSymbol_MinusSign))}}function weekNumberingYearGetter(size,trim=!1){return function(date,locale){return padNumber(getThursdayThisIsoWeek(date).getFullYear(),size,getLocaleNumberSymbol(locale,NumberSymbol_MinusSign),trim)}}const DATE_FORMATS={};function timezoneToOffset(timezone,fallback){timezone=timezone.replace(/:/g,"");const requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function isDate(value){return value instanceof Date&&!isNaN(value.valueOf())}const NUMBER_FORMAT_REGEXP=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function formatNumberToLocaleString(value,pattern,locale,groupSymbol,decimalSymbol,digitsInfo,isPercent=!1){let formattedText="",isZero=!1;if(isFinite(value)){let parsedNumber=function parseNumber(num){let digits,integerLen,i,j,zeros,numStr=Math.abs(num)+"",exponent=0;(integerLen=numStr.indexOf("."))>-1&&(numStr=numStr.replace(".",""));(i=numStr.search(/e/i))>0?(integerLen<0&&(integerLen=i),integerLen+=+numStr.slice(i+1),numStr=numStr.substring(0,i)):integerLen<0&&(integerLen=numStr.length);for(i=0;"0"===numStr.charAt(i);i++);if(i===(zeros=numStr.length))digits=[0],integerLen=1;else{for(zeros--;"0"===numStr.charAt(zeros);)zeros--;for(integerLen-=i,digits=[],j=0;i<=zeros;i++,j++)digits[j]=Number(numStr.charAt(i))}integerLen>22&&(digits=digits.splice(0,21),exponent=integerLen-1,integerLen=1);return{digits,exponent,integerLen}}(value);isPercent&&(parsedNumber=function toPercent(parsedNumber){if(0===parsedNumber.digits[0])return parsedNumber;const fractionLen=parsedNumber.digits.length-parsedNumber.integerLen;parsedNumber.exponent?parsedNumber.exponent+=2:(0===fractionLen?parsedNumber.digits.push(0,0):1===fractionLen&&parsedNumber.digits.push(0),parsedNumber.integerLen+=2);return parsedNumber}(parsedNumber));let minInt=pattern.minInt,minFraction=pattern.minFrac,maxFraction=pattern.maxFrac;if(digitsInfo){const parts=digitsInfo.match(NUMBER_FORMAT_REGEXP);if(null===parts)throw new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2306,ngDevMode&&`${digitsInfo} is not a valid digit info`);const minIntPart=parts[1],minFractionPart=parts[3],maxFractionPart=parts[5];null!=minIntPart&&(minInt=parseIntAutoRadix(minIntPart)),null!=minFractionPart&&(minFraction=parseIntAutoRadix(minFractionPart)),null!=maxFractionPart?maxFraction=parseIntAutoRadix(maxFractionPart):null!=minFractionPart&&minFraction>maxFraction&&(maxFraction=minFraction)}!function roundNumber(parsedNumber,minFrac,maxFrac){if(minFrac>maxFrac)throw new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2307,ngDevMode&&`The minimum number of digits after fraction (${minFrac}) is higher than the maximum (${maxFrac}).`);let digits=parsedNumber.digits,fractionLen=digits.length-parsedNumber.integerLen;const fractionSize=Math.min(Math.max(minFrac,fractionLen),maxFrac);let roundAt=fractionSize+parsedNumber.integerLen,digit=digits[roundAt];if(roundAt>0){digits.splice(Math.max(parsedNumber.integerLen,roundAt));for(let j=roundAt;j<digits.length;j++)digits[j]=0}else{fractionLen=Math.max(0,fractionLen),parsedNumber.integerLen=1,digits.length=Math.max(1,roundAt=fractionSize+1),digits[0]=0;for(let i=1;i<roundAt;i++)digits[i]=0}if(digit>=5)if(roundAt-1<0){for(let k=0;k>roundAt;k--)digits.unshift(0),parsedNumber.integerLen++;digits.unshift(1),parsedNumber.integerLen++}else digits[roundAt-1]++;for(;fractionLen<Math.max(0,fractionSize);fractionLen++)digits.push(0);let dropTrailingZeros=0!==fractionSize;const minLen=minFrac+parsedNumber.integerLen,carry=digits.reduceRight(function(carry,d,i,digits){return d+=carry,digits[i]=d<10?d:d-10,dropTrailingZeros&&(0===digits[i]&&i>=minLen?digits.pop():dropTrailingZeros=!1),d>=10?1:0},0);carry&&(digits.unshift(carry),parsedNumber.integerLen++)}(parsedNumber,minFraction,maxFraction);let digits=parsedNumber.digits,integerLen=parsedNumber.integerLen;const exponent=parsedNumber.exponent;let decimals=[];for(isZero=digits.every(d=>!d);integerLen<minInt;integerLen++)digits.unshift(0);for(;integerLen<0;integerLen++)digits.unshift(0);integerLen>0?decimals=digits.splice(integerLen,digits.length):(decimals=digits,digits=[0]);const groups=[];for(digits.length>=pattern.lgSize&&groups.unshift(digits.splice(-pattern.lgSize,digits.length).join(""));digits.length>pattern.gSize;)groups.unshift(digits.splice(-pattern.gSize,digits.length).join(""));digits.length&&groups.unshift(digits.join("")),formattedText=groups.join(getLocaleNumberSymbol(locale,groupSymbol)),decimals.length&&(formattedText+=getLocaleNumberSymbol(locale,decimalSymbol)+decimals.join("")),exponent&&(formattedText+=getLocaleNumberSymbol(locale,NumberSymbol_Exponential)+"+"+exponent)}else formattedText=getLocaleNumberSymbol(locale,NumberSymbol_Infinity);return formattedText=value<0&&!isZero?pattern.negPre+formattedText+pattern.negSuf:pattern.posPre+formattedText+pattern.posSuf,formattedText}function formatCurrency(value,locale,currency,currencyCode,digitsInfo){const pattern=parseNumberFormat(getLocaleNumberFormat(locale,NumberFormatStyle.Currency),getLocaleNumberSymbol(locale,NumberSymbol_MinusSign));pattern.minFrac=function getNumberOfCurrencyDigits(code){let digits;const currency=CURRENCIES_EN[code];return currency&&(digits=currency[2]),"number"==typeof digits?digits:2}(currencyCode),pattern.maxFrac=pattern.minFrac;return formatNumberToLocaleString(value,pattern,locale,NumberSymbol_CurrencyGroup,NumberSymbol_CurrencyDecimal,digitsInfo).replace("¤",currency).replace("¤","").trim()}function parseNumberFormat(format,minusSign="-"){const p={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},patternParts=format.split(";"),positive=patternParts[0],negative=patternParts[1],positiveParts=-1!==positive.indexOf(".")?positive.split("."):[positive.substring(0,positive.lastIndexOf("0")+1),positive.substring(positive.lastIndexOf("0")+1)],integer=positiveParts[0],fraction=positiveParts[1]||"";p.posPre=integer.substring(0,integer.indexOf("#"));for(let i=0;i<fraction.length;i++){const ch=fraction.charAt(i);"0"===ch?p.minFrac=p.maxFrac=i+1:"#"===ch?p.maxFrac=i+1:p.posSuf+=ch}const groups=integer.split(",");if(p.gSize=groups[1]?groups[1].length:0,p.lgSize=groups[2]||groups[1]?(groups[2]||groups[1]).length:0,negative){const trunkLen=positive.length-p.posPre.length-p.posSuf.length,pos=negative.indexOf("#");p.negPre=negative.substring(0,pos).replace(/'/g,""),p.negSuf=negative.slice(pos+trunkLen).replace(/'/g,"")}else p.negPre=minusSign+p.posPre,p.negSuf=p.posSuf;return p}function parseIntAutoRadix(text){const result=parseInt(text);if(isNaN(result))throw new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2305,ngDevMode&&"Invalid integer literal when parsing "+text);return result}class NgLocalization{static ɵfac=function NgLocalization_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgLocalization)};static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:NgLocalization,factory:function NgLocalization_Factory(__ngFactoryType__){let __ngConditionalFactory__=null;var locale;return __ngFactoryType__?__ngConditionalFactory__=new __ngFactoryType__:(locale=_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(_angular_core__WEBPACK_IMPORTED_MODULE_1__.xe9),__ngConditionalFactory__=new NgLocaleLocalization(locale)),__ngConditionalFactory__},providedIn:"root"})}function getPluralCategory(value,cases,ngLocalization,locale){let key=`=${value}`;if(cases.indexOf(key)>-1)return key;if(key=ngLocalization.getPluralCategory(value,locale),cases.indexOf(key)>-1)return key;if(cases.indexOf("other")>-1)return"other";throw new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2308,ngDevMode&&`No plural message found for value "${value}"`)}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(NgLocalization,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__._qm,args:[{providedIn:"root",useFactory:locale=>new NgLocaleLocalization(locale),deps:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.xe9]}]}],null,null);class NgLocaleLocalization extends NgLocalization{locale;constructor(locale){super(),this.locale=locale}getPluralCategory(value,locale){switch(getLocalePluralCase(locale||this.locale)(value)){case Plural.Zero:return"zero";case Plural.One:return"one";case Plural.Two:return"two";case Plural.Few:return"few";case Plural.Many:return"many";default:return"other"}}static ɵfac=function NgLocaleLocalization_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgLocaleLocalization)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(_angular_core__WEBPACK_IMPORTED_MODULE_1__.xe9))};static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:NgLocaleLocalization,factory:NgLocaleLocalization.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(NgLocaleLocalization,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__._qm}],()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.y_5,args:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.xe9]}]}],null);const WS_REGEXP=/\s+/,EMPTY_ARRAY=[];class NgClass{_ngEl;_renderer;initialClasses=EMPTY_ARRAY;rawClass;stateMap=new Map;constructor(_ngEl,_renderer){this._ngEl=_ngEl,this._renderer=_renderer}set klass(value){this.initialClasses=null!=value?value.trim().split(WS_REGEXP):EMPTY_ARRAY}set ngClass(value){this.rawClass="string"==typeof value?value.trim().split(WS_REGEXP):value}ngDoCheck(){for(const klass of this.initialClasses)this._updateState(klass,!0);const rawClass=this.rawClass;if(Array.isArray(rawClass)||rawClass instanceof Set)for(const klass of rawClass)this._updateState(klass,!0);else if(null!=rawClass)for(const klass of Object.keys(rawClass))this._updateState(klass,Boolean(rawClass[klass]));this._applyStateDiff()}_updateState(klass,nextEnabled){const state=this.stateMap.get(klass);void 0!==state?(state.enabled!==nextEnabled&&(state.changed=!0,state.enabled=nextEnabled),state.touched=!0):this.stateMap.set(klass,{enabled:nextEnabled,changed:!0,touched:!0})}_applyStateDiff(){for(const stateEntry of this.stateMap){const klass=stateEntry[0],state=stateEntry[1];state.changed?(this._toggleClass(klass,state.enabled),state.changed=!1):state.touched||(state.enabled&&this._toggleClass(klass,!1),this.stateMap.delete(klass)),state.touched=!1}}_toggleClass(klass,enabled){if(ngDevMode&&"string"!=typeof klass)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.AsM)(klass)}`);(klass=klass.trim()).length>0&&klass.split(WS_REGEXP).forEach(klass=>{enabled?this._renderer.addClass(this._ngEl.nativeElement,klass):this._renderer.removeClass(this._ngEl.nativeElement,klass)})}static ɵfac=function NgClass_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgClass)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.aKT),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.sFG))};static ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.FsC({type:NgClass,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(NgClass,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLR,args:[{selector:"[ngClass]"}]}],()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.aKT},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.sFG}],{klass:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde,args:["class"]}],ngClass:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde,args:["ngClass"]}]});class NgComponentOutlet{_viewContainerRef;ngComponentOutlet=null;ngComponentOutletInputs;ngComponentOutletInjector;ngComponentOutletEnvironmentInjector;ngComponentOutletContent;ngComponentOutletNgModule;ngComponentOutletNgModuleFactory;_componentRef;_moduleRef;_inputsUsed=new Map;get componentInstance(){return this._componentRef?.instance??null}constructor(_viewContainerRef){this._viewContainerRef=_viewContainerRef}_needToReCreateNgModuleInstance(changes){return void 0!==changes.ngComponentOutletNgModule||void 0!==changes.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(changes){return void 0!==changes.ngComponentOutlet||void 0!==changes.ngComponentOutletContent||void 0!==changes.ngComponentOutletInjector||void 0!==changes.ngComponentOutletEnvironmentInjector||this._needToReCreateNgModuleInstance(changes)}ngOnChanges(changes){if(this._needToReCreateComponentInstance(changes)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const injector=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(changes)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.w6W)(this.ngComponentOutletNgModule,getParentInjector(injector)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(getParentInjector(injector)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent,environmentInjector:this.ngComponentOutletEnvironmentInjector})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const inputName of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(inputName,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(componentRef){for(const[inputName,touched]of this._inputsUsed)touched?(componentRef.setInput(inputName,this.ngComponentOutletInputs[inputName]),this._inputsUsed.set(inputName,!1)):(componentRef.setInput(inputName,void 0),this._inputsUsed.delete(inputName))}static ɵfac=function NgComponentOutlet_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgComponentOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.c1b))};static ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.FsC({type:NgComponentOutlet,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletEnvironmentInjector:"ngComponentOutletEnvironmentInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},exportAs:["ngComponentOutlet"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.OA$]})}function getParentInjector(injector){return injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Ab1).injector}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(NgComponentOutlet,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLR,args:[{selector:"[ngComponentOutlet]",exportAs:"ngComponentOutlet"}]}],()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.c1b}],{ngComponentOutlet:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}],ngComponentOutletInputs:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}],ngComponentOutletInjector:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}],ngComponentOutletEnvironmentInjector:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}],ngComponentOutletContent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}],ngComponentOutletNgModule:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}],ngComponentOutletNgModuleFactory:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}]});class NgForOfContext{$implicit;ngForOf;index;count;constructor($implicit,ngForOf,index,count){this.$implicit=$implicit,this.ngForOf=ngForOf,this.index=index,this.count=count}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class NgForOf{_viewContainer;_template;_differs;set ngForOf(ngForOf){this._ngForOf=ngForOf,this._ngForOfDirty=!0}set ngForTrackBy(fn){"undefined"!=typeof ngDevMode&&!ngDevMode||null==fn||"function"==typeof fn||console.warn(`trackBy must be a function, but received ${JSON.stringify(fn)}. See https://angular.dev/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=fn}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(_viewContainer,_template,_differs){this._viewContainer=_viewContainer,this._template=_template,this._differs=_differs}set ngForTemplate(value){value&&(this._template=value)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const value=this._ngForOf;if(!this._differ&&value)if("undefined"==typeof ngDevMode||ngDevMode)try{this._differ=this._differs.find(value).create(this.ngForTrackBy)}catch{let errorMessage=`Cannot find a differ supporting object '${value}' of type '${function getTypeName(type){return type.name||typeof type}(value)}'. NgFor only supports binding to Iterables, such as Arrays.`;throw"object"==typeof value&&(errorMessage+=" Did you mean to use the keyvalue pipe?"),new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(-2200,errorMessage)}else this._differ=this._differs.find(value).create(this.ngForTrackBy)}if(this._differ){const changes=this._differ.diff(this._ngForOf);changes&&this._applyChanges(changes)}}_applyChanges(changes){const viewContainer=this._viewContainer;changes.forEachOperation((item,adjustedPreviousIndex,currentIndex)=>{if(null==item.previousIndex)viewContainer.createEmbeddedView(this._template,new NgForOfContext(item.item,this._ngForOf,-1,-1),null===currentIndex?void 0:currentIndex);else if(null==currentIndex)viewContainer.remove(null===adjustedPreviousIndex?void 0:adjustedPreviousIndex);else if(null!==adjustedPreviousIndex){const view=viewContainer.get(adjustedPreviousIndex);viewContainer.move(view,currentIndex),applyViewChange(view,item)}});for(let i=0,ilen=viewContainer.length;i<ilen;i++){const context=viewContainer.get(i).context;context.index=i,context.count=ilen,context.ngForOf=this._ngForOf}changes.forEachIdentityChange(record=>{applyViewChange(viewContainer.get(record.currentIndex),record)})}static ngTemplateContextGuard(dir,ctx){return!0}static ɵfac=function NgForOf_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgForOf)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.c1b),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.C4Q),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_2__.IterableDiffers))};static ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.FsC({type:NgForOf,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}function applyViewChange(view,record){view.context.$implicit=record.item}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(NgForOf,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLR,args:[{selector:"[ngFor][ngForOf]"}]}],()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.c1b},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.C4Q},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.IterableDiffers}],{ngForOf:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}],ngForTrackBy:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}],ngForTemplate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}]});class NgIf{_viewContainer;_context=new NgIfContext;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(_viewContainer,templateRef){this._viewContainer=_viewContainer,this._thenTemplateRef=templateRef}set ngIf(condition){this._context.$implicit=this._context.ngIf=condition,this._updateView()}set ngIfThen(templateRef){assertTemplate(templateRef,("undefined"==typeof ngDevMode||ngDevMode)&&"ngIfThen"),this._thenTemplateRef=templateRef,this._thenViewRef=null,this._updateView()}set ngIfElse(templateRef){assertTemplate(templateRef,("undefined"==typeof ngDevMode||ngDevMode)&&"ngIfElse"),this._elseTemplateRef=templateRef,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(dir,ctx){return!0}static ɵfac=function NgIf_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgIf)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.c1b),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.C4Q))};static ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.FsC({type:NgIf,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(NgIf,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLR,args:[{selector:"[ngIf]"}]}],()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.c1b},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.C4Q}],{ngIf:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}],ngIfThen:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}],ngIfElse:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}]});class NgIfContext{$implicit=null;ngIf=null}function assertTemplate(templateRef,property){if(templateRef&&!templateRef.createEmbeddedView)throw new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2020,("undefined"==typeof ngDevMode||ngDevMode)&&`${property} must be a TemplateRef, but received '${(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.AsM)(templateRef)}'.`)}class SwitchView{_viewContainerRef;_templateRef;_created=!1;constructor(_viewContainerRef,_templateRef){this._viewContainerRef=_viewContainerRef,this._templateRef=_templateRef}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(created){created&&!this._created?this.create():!created&&this._created&&this.destroy()}}class NgSwitch{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(newValue){this._ngSwitch=newValue,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(view){this._defaultViews.push(view)}_matchCase(value){const matched=value===this._ngSwitch;return this._lastCasesMatched||=matched,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),matched}_updateDefaultCases(useDefault){if(this._defaultViews.length>0&&useDefault!==this._defaultUsed){this._defaultUsed=useDefault;for(const defaultView of this._defaultViews)defaultView.enforceState(useDefault)}}static ɵfac=function NgSwitch_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgSwitch)};static ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.FsC({type:NgSwitch,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(NgSwitch,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLR,args:[{selector:"[ngSwitch]"}]}],null,{ngSwitch:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}]});class NgSwitchCase{ngSwitch;_view;ngSwitchCase;constructor(viewContainer,templateRef,ngSwitch){this.ngSwitch=ngSwitch,"undefined"!=typeof ngDevMode&&!ngDevMode||ngSwitch||throwNgSwitchProviderNotFoundError("ngSwitchCase","NgSwitchCase"),ngSwitch._addCase(),this._view=new SwitchView(viewContainer,templateRef)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static ɵfac=function NgSwitchCase_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgSwitchCase)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.c1b),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.C4Q),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(NgSwitch,9))};static ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.FsC({type:NgSwitchCase,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(NgSwitchCase,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLR,args:[{selector:"[ngSwitchCase]"}]}],()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.c1b},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.C4Q},{type:NgSwitch,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xx1},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.xri}]}],{ngSwitchCase:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}]});class NgSwitchDefault{constructor(viewContainer,templateRef,ngSwitch){"undefined"!=typeof ngDevMode&&!ngDevMode||ngSwitch||throwNgSwitchProviderNotFoundError("ngSwitchDefault","NgSwitchDefault"),ngSwitch._addDefault(new SwitchView(viewContainer,templateRef))}static ɵfac=function NgSwitchDefault_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgSwitchDefault)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.c1b),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.C4Q),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(NgSwitch,9))};static ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.FsC({type:NgSwitchDefault,selectors:[["","ngSwitchDefault",""]]})}function throwNgSwitchProviderNotFoundError(attrName,directiveName){throw new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2e3,`An element with the "${attrName}" attribute (matching the "${directiveName}" directive) must be located inside an element with the "ngSwitch" attribute (matching "NgSwitch" directive)`)}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(NgSwitchDefault,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLR,args:[{selector:"[ngSwitchDefault]"}]}],()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.c1b},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.C4Q},{type:NgSwitch,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xx1},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.xri}]}],null);class NgPlural{_localization;_activeView;_caseViews={};constructor(_localization){this._localization=_localization}set ngPlural(value){this._updateView(value)}addCase(value,switchView){this._caseViews[value]=switchView}_updateView(switchValue){this._clearViews();const key=getPluralCategory(switchValue,Object.keys(this._caseViews),this._localization);this._activateView(this._caseViews[key])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(view){view&&(this._activeView=view,this._activeView.create())}static ɵfac=function NgPlural_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgPlural)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(NgLocalization))};static ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.FsC({type:NgPlural,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(NgPlural,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLR,args:[{selector:"[ngPlural]"}]}],()=>[{type:NgLocalization}],{ngPlural:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}]});class NgPluralCase{value;constructor(value,template,viewContainer,ngPlural){this.value=value;const isANumber=!isNaN(Number(value));ngPlural.addCase(isANumber?`=${value}`:value,new SwitchView(viewContainer,template))}static ɵfac=function NgPluralCase_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgPluralCase)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.kS0("ngPluralCase"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.C4Q),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.c1b),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(NgPlural,1))};static ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.FsC({type:NgPluralCase,selectors:[["","ngPluralCase",""]]})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(NgPluralCase,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLR,args:[{selector:"[ngPluralCase]"}]}],()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nWp,args:["ngPluralCase"]}]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.C4Q},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.c1b},{type:NgPlural,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.xri}]}],null);class NgStyle{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(_ngEl,_differs,_renderer){this._ngEl=_ngEl,this._differs=_differs,this._renderer=_renderer}set ngStyle(values){this._ngStyle=values,!this._differ&&values&&(this._differ=this._differs.find(values).create())}ngDoCheck(){if(this._differ){const changes=this._differ.diff(this._ngStyle);changes&&this._applyChanges(changes)}}_setStyle(nameAndUnit,value){const[name,unit]=nameAndUnit.split("."),flags=-1===name.indexOf("-")?void 0:_angular_core__WEBPACK_IMPORTED_MODULE_1__.czy.DashCase;null!=value?this._renderer.setStyle(this._ngEl.nativeElement,name,unit?`${value}${unit}`:value,flags):this._renderer.removeStyle(this._ngEl.nativeElement,name,flags)}_applyChanges(changes){changes.forEachRemovedItem(record=>this._setStyle(record.key,null)),changes.forEachAddedItem(record=>this._setStyle(record.key,record.currentValue)),changes.forEachChangedItem(record=>this._setStyle(record.key,record.currentValue))}static ɵfac=function NgStyle_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgStyle)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.aKT),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_2__.KeyValueDiffers),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.sFG))};static ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.FsC({type:NgStyle,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(NgStyle,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLR,args:[{selector:"[ngStyle]"}]}],()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.aKT},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.KeyValueDiffers},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.sFG}],{ngStyle:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde,args:["ngStyle"]}]});class NgTemplateOutlet{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(_viewContainerRef){this._viewContainerRef=_viewContainerRef}ngOnChanges(changes){if(this._shouldRecreateView(changes)){const viewContainerRef=this._viewContainerRef;if(this._viewRef&&viewContainerRef.remove(viewContainerRef.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const viewContext=this._createContextForwardProxy();this._viewRef=viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,viewContext,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(changes){return!!changes.ngTemplateOutlet||!!changes.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(_target,prop,newValue)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,prop,newValue),get:(_target,prop,receiver)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,prop,receiver)}})}static ɵfac=function NgTemplateOutlet_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgTemplateOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.c1b))};static ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.FsC({type:NgTemplateOutlet,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.OA$]})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(NgTemplateOutlet,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLR,args:[{selector:"[ngTemplateOutlet]"}]}],()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.c1b}],{ngTemplateOutletContext:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}],ngTemplateOutlet:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}],ngTemplateOutletInjector:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}]});const COMMON_DIRECTIVES=[NgClass,NgComponentOutlet,NgForOf,NgIf,NgTemplateOutlet,NgStyle,NgSwitch,NgSwitchCase,NgSwitchDefault,NgPlural,NgPluralCase];function invalidPipeArgumentError(type,value){return new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2100,ngDevMode&&`InvalidPipeArgument: '${value}' for pipe '${(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.AsM)(type)}'`)}const _promiseStrategy=new class PromiseStrategy{createSubscription(async,updateLatestValue,onError){return async.then(v=>updateLatestValue?.(v),e=>onError?.(e)),{unsubscribe:()=>{updateLatestValue=null,onError=null}}}dispose(subscription){subscription.unsubscribe()}},_subscribableStrategy=new class SubscribableStrategy{createSubscription(async,updateLatestValue,onError){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.O8)(()=>async.subscribe({next:updateLatestValue,error:onError}))}dispose(subscription){(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.O8)(()=>subscription.unsubscribe())}};class AsyncPipe{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.WQX)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ZTf);constructor(ref){this._ref=ref}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(obj){if(!this._obj){if(obj)try{this.markForCheckOnValueUpdate=!1,this._subscribe(obj)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return obj!==this._obj?(this._dispose(),this.transform(obj)):this._latestValue}_subscribe(obj){this._obj=obj,this._strategy=this._selectStrategy(obj),this._subscription=this._strategy.createSubscription(obj,value=>this._updateLatestValue(obj,value),e=>this.applicationErrorHandler(e))}_selectStrategy(obj){if((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.yLl)(obj))return _promiseStrategy;if((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.cdK)(obj))return _subscribableStrategy;throw invalidPipeArgumentError(AsyncPipe,obj)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(async,value){async===this._obj&&(this._latestValue=value,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static ɵfac=function AsyncPipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||AsyncPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_2__.ChangeDetectorRef,16))};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EJ8({name:"async",type:AsyncPipe,pure:!1})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(AsyncPipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nT_,args:[{name:"async",pure:!1}]}],()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.ChangeDetectorRef}],null);class LowerCasePipe{transform(value){if(null==value)return null;if("string"!=typeof value)throw invalidPipeArgumentError(LowerCasePipe,value);return value.toLowerCase()}static ɵfac=function LowerCasePipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||LowerCasePipe)};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EJ8({name:"lowercase",type:LowerCasePipe,pure:!0})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(LowerCasePipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nT_,args:[{name:"lowercase"}]}],null,null);const unicodeWordMatch=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;class TitleCasePipe{transform(value){if(null==value)return null;if("string"!=typeof value)throw invalidPipeArgumentError(TitleCasePipe,value);return value.replace(unicodeWordMatch,txt=>txt[0].toUpperCase()+txt.slice(1).toLowerCase())}static ɵfac=function TitleCasePipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||TitleCasePipe)};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EJ8({name:"titlecase",type:TitleCasePipe,pure:!0})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(TitleCasePipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nT_,args:[{name:"titlecase"}]}],null,null);class UpperCasePipe{transform(value){if(null==value)return null;if("string"!=typeof value)throw invalidPipeArgumentError(UpperCasePipe,value);return value.toUpperCase()}static ɵfac=function UpperCasePipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||UpperCasePipe)};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EJ8({name:"uppercase",type:UpperCasePipe,pure:!0})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(UpperCasePipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nT_,args:[{name:"uppercase"}]}],null,null);const DATE_PIPE_DEFAULT_TIMEZONE=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.nKC(ngDevMode?"DATE_PIPE_DEFAULT_TIMEZONE":""),DATE_PIPE_DEFAULT_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.nKC(ngDevMode?"DATE_PIPE_DEFAULT_OPTIONS":"");class DatePipe{locale;defaultTimezone;defaultOptions;constructor(locale,defaultTimezone,defaultOptions){this.locale=locale,this.defaultTimezone=defaultTimezone,this.defaultOptions=defaultOptions}transform(value,format,timezone,locale){if(null==value||""===value||value!=value)return null;try{const _format=format??this.defaultOptions?.dateFormat??"mediumDate",_timezone=timezone??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return formatDate(value,_format,locale||this.locale,_timezone)}catch(error){throw invalidPipeArgumentError(DatePipe,error.message)}}static ɵfac=function DatePipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||DatePipe)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.xe9,16),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(DATE_PIPE_DEFAULT_TIMEZONE,24),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(DATE_PIPE_DEFAULT_OPTIONS,24))};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EJ8({name:"date",type:DatePipe,pure:!0})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(DatePipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nT_,args:[{name:"date"}]}],()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.y_5,args:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.xe9]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.y_5,args:[DATE_PIPE_DEFAULT_TIMEZONE]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xx1}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.y_5,args:[DATE_PIPE_DEFAULT_OPTIONS]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xx1}]}],null);const _INTERPOLATION_REGEXP=/#/g;class I18nPluralPipe{_localization;constructor(_localization){this._localization=_localization}transform(value,pluralMap,locale){if(null==value)return"";if("object"!=typeof pluralMap||null===pluralMap)throw invalidPipeArgumentError(I18nPluralPipe,pluralMap);return pluralMap[getPluralCategory(value,Object.keys(pluralMap),this._localization,locale)].replace(_INTERPOLATION_REGEXP,value.toString())}static ɵfac=function I18nPluralPipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||I18nPluralPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(NgLocalization,16))};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EJ8({name:"i18nPlural",type:I18nPluralPipe,pure:!0})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(I18nPluralPipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nT_,args:[{name:"i18nPlural"}]}],()=>[{type:NgLocalization}],null);class I18nSelectPipe{transform(value,mapping){if(null==value)return"";if("object"!=typeof mapping||"string"!=typeof value)throw invalidPipeArgumentError(I18nSelectPipe,mapping);return mapping.hasOwnProperty(value)?mapping[value]:mapping.hasOwnProperty("other")?mapping.other:""}static ɵfac=function I18nSelectPipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||I18nSelectPipe)};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EJ8({name:"i18nSelect",type:I18nSelectPipe,pure:!0})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(I18nSelectPipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nT_,args:[{name:"i18nSelect"}]}],null,null);class JsonPipe{transform(value){return JSON.stringify(value,null,2)}static ɵfac=function JsonPipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||JsonPipe)};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EJ8({name:"json",type:JsonPipe,pure:!1})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(JsonPipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nT_,args:[{name:"json",pure:!1}]}],null,null);class KeyValuePipe{differs;constructor(differs){this.differs=differs}differ;keyValues=[];compareFn=defaultComparator;transform(input,compareFn=defaultComparator){if(!input||!(input instanceof Map)&&"object"!=typeof input)return null;this.differ??=this.differs.find(input).create();const differChanges=this.differ.diff(input),compareFnChanged=compareFn!==this.compareFn;return differChanges&&(this.keyValues=[],differChanges.forEachItem(r=>{this.keyValues.push(function makeKeyValuePair(key,value){return{key,value}}(r.key,r.currentValue))})),(differChanges||compareFnChanged)&&(compareFn&&this.keyValues.sort(compareFn),this.compareFn=compareFn),this.keyValues}static ɵfac=function KeyValuePipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||KeyValuePipe)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_2__.KeyValueDiffers,16))};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EJ8({name:"keyvalue",type:KeyValuePipe,pure:!1})}function defaultComparator(keyValueA,keyValueB){const a=keyValueA.key,b=keyValueB.key;if(a===b)return 0;if(null==a)return 1;if(null==b)return-1;if("string"==typeof a&&"string"==typeof b)return a<b?-1:1;if("number"==typeof a&&"number"==typeof b)return a-b;if("boolean"==typeof a&&"boolean"==typeof b)return a<b?-1:1;const aString=String(a),bString=String(b);return aString==bString?0:aString<bString?-1:1}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(KeyValuePipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nT_,args:[{name:"keyvalue",pure:!1}]}],()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.KeyValueDiffers}],null);class DecimalPipe{_locale;constructor(_locale){this._locale=_locale}transform(value,digitsInfo,locale){if(!isValue(value))return null;locale||=this._locale;try{return function formatNumber(value,locale,digitsInfo){return formatNumberToLocaleString(value,parseNumberFormat(getLocaleNumberFormat(locale,NumberFormatStyle.Decimal),getLocaleNumberSymbol(locale,NumberSymbol_MinusSign)),locale,NumberSymbol_Group,NumberSymbol_Decimal,digitsInfo)}(strToNumber(value),locale,digitsInfo)}catch(error){throw invalidPipeArgumentError(DecimalPipe,error.message)}}static ɵfac=function DecimalPipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||DecimalPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.xe9,16))};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EJ8({name:"number",type:DecimalPipe,pure:!0})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(DecimalPipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nT_,args:[{name:"number"}]}],()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.y_5,args:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.xe9]}]}],null);class PercentPipe{_locale;constructor(_locale){this._locale=_locale}transform(value,digitsInfo,locale){if(!isValue(value))return null;locale||=this._locale;try{return function formatPercent(value,locale,digitsInfo){return formatNumberToLocaleString(value,parseNumberFormat(getLocaleNumberFormat(locale,NumberFormatStyle.Percent),getLocaleNumberSymbol(locale,NumberSymbol_MinusSign)),locale,NumberSymbol_Group,NumberSymbol_Decimal,digitsInfo,!0).replace(new RegExp("%","g"),getLocaleNumberSymbol(locale,NumberSymbol_PercentSign))}(strToNumber(value),locale,digitsInfo)}catch(error){throw invalidPipeArgumentError(PercentPipe,error.message)}}static ɵfac=function PercentPipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||PercentPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.xe9,16))};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EJ8({name:"percent",type:PercentPipe,pure:!0})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(PercentPipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nT_,args:[{name:"percent"}]}],()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.y_5,args:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.xe9]}]}],null);class CurrencyPipe{_locale;_defaultCurrencyCode;constructor(_locale,_defaultCurrencyCode="USD"){this._locale=_locale,this._defaultCurrencyCode=_defaultCurrencyCode}transform(value,currencyCode=this._defaultCurrencyCode,display="symbol",digitsInfo,locale){if(!isValue(value))return null;locale||=this._locale,"boolean"==typeof display&&(("undefined"==typeof ngDevMode||ngDevMode)&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),display=display?"symbol":"code");let currency=currencyCode||this._defaultCurrencyCode;"code"!==display&&(currency="symbol"===display||"symbol-narrow"===display?getCurrencySymbol(currency,"symbol"===display?"wide":"narrow",locale):display);try{return formatCurrency(strToNumber(value),locale,currency,currencyCode,digitsInfo)}catch(error){throw invalidPipeArgumentError(CurrencyPipe,error.message)}}static ɵfac=function CurrencyPipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||CurrencyPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.xe9,16),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Ocv,16))};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EJ8({name:"currency",type:CurrencyPipe,pure:!0})}function isValue(value){return!(null==value||""===value||value!=value)}function strToNumber(value){if("string"==typeof value&&!isNaN(Number(value)-parseFloat(value)))return Number(value);if("number"!=typeof value)throw new _angular_core__WEBPACK_IMPORTED_MODULE_0__.buA(2309,ngDevMode&&`${value} is not a number`);return value}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(CurrencyPipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nT_,args:[{name:"currency"}]}],()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.y_5,args:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.xe9]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.y_5,args:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.Ocv]}]}],null);class SlicePipe{transform(value,start,end){if(null==value)return null;if(!("string"==typeof value||Array.isArray(value)))throw invalidPipeArgumentError(SlicePipe,value);return value.slice(start,end)}static ɵfac=function SlicePipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||SlicePipe)};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EJ8({name:"slice",type:SlicePipe,pure:!1})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(SlicePipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nT_,args:[{name:"slice",pure:!1}]}],null,null);const COMMON_PIPES=[AsyncPipe,UpperCasePipe,LowerCasePipe,JsonPipe,SlicePipe,DecimalPipe,PercentPipe,TitleCasePipe,CurrencyPipe,DatePipe,I18nPluralPipe,I18nSelectPipe,KeyValuePipe];class CommonModule{static ɵfac=function CommonModule_Factory(__ngFactoryType__){return new(__ngFactoryType__||CommonModule)};static ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.$C({type:CommonModule,imports:[NgClass,NgComponentOutlet,NgForOf,NgIf,NgTemplateOutlet,NgStyle,NgSwitch,NgSwitchCase,NgSwitchDefault,NgPlural,NgPluralCase,AsyncPipe,UpperCasePipe,LowerCasePipe,JsonPipe,SlicePipe,DecimalPipe,PercentPipe,TitleCasePipe,CurrencyPipe,DatePipe,I18nPluralPipe,I18nSelectPipe,KeyValuePipe],exports:[NgClass,NgComponentOutlet,NgForOf,NgIf,NgTemplateOutlet,NgStyle,NgSwitch,NgSwitchCase,NgSwitchDefault,NgPlural,NgPluralCase,AsyncPipe,UpperCasePipe,LowerCasePipe,JsonPipe,SlicePipe,DecimalPipe,PercentPipe,TitleCasePipe,CurrencyPipe,DatePipe,I18nPluralPipe,I18nSelectPipe,KeyValuePipe]});static ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.G2t({})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(CommonModule,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.UQu,args:[{imports:[COMMON_DIRECTIVES,COMMON_PIPES],exports:[COMMON_DIRECTIVES,COMMON_PIPES]}]}],null,null)},"./node_modules/@angular/common/fesm2022/location.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>normalizeQueryParams,Vw:()=>PlatformLocation,aZ:()=>Location,hb:()=>LocationStrategy,ig:()=>setRootDomAdapter,kB:()=>APP_BASE_HREF,om:()=>joinWithSlash,qj:()=>DomAdapter,rb:()=>getDOM});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js");let _DOM=null;function getDOM(){return _DOM}function setRootDomAdapter(adapter){_DOM??=adapter}class DomAdapter{}class PlatformLocation{historyGo(relativePosition){throw new Error(ngDevMode?"Not implemented":"")}static ɵfac=function PlatformLocation_Factory(__ngFactoryType__){return new(__ngFactoryType__||PlatformLocation)};static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:PlatformLocation,factory:()=>(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.WQX)(BrowserPlatformLocation),providedIn:"platform"})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(PlatformLocation,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__._qm,args:[{providedIn:"platform",useFactory:()=>(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.WQX)(BrowserPlatformLocation)}]}],null,null);new _angular_core__WEBPACK_IMPORTED_MODULE_0__.nKC(ngDevMode?"Location Initialized":"");class BrowserPlatformLocation extends PlatformLocation{_location;_history;_doc=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.WQX)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return getDOM().getBaseHref(this._doc)}onPopState(fn){const window=getDOM().getGlobalEventTarget(this._doc,"window");return window.addEventListener("popstate",fn,!1),()=>window.removeEventListener("popstate",fn)}onHashChange(fn){const window=getDOM().getGlobalEventTarget(this._doc,"window");return window.addEventListener("hashchange",fn,!1),()=>window.removeEventListener("hashchange",fn)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(newPath){this._location.pathname=newPath}pushState(state,title,url){this._history.pushState(state,title,url)}replaceState(state,title,url){this._history.replaceState(state,title,url)}forward(){this._history.forward()}back(){this._history.back()}historyGo(relativePosition=0){this._history.go(relativePosition)}getState(){return this._history.state}static ɵfac=function BrowserPlatformLocation_Factory(__ngFactoryType__){return new(__ngFactoryType__||BrowserPlatformLocation)};static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:BrowserPlatformLocation,factory:()=>new BrowserPlatformLocation,providedIn:"platform"})}function joinWithSlash(start,end){return start?end?start.endsWith("/")?end.startsWith("/")?start+end.slice(1):start+end:end.startsWith("/")?start+end:`${start}/${end}`:start:end}function stripTrailingSlash(url){const pathEndIdx=url.search(/#|\?|$/);return"/"===url[pathEndIdx-1]?url.slice(0,pathEndIdx-1)+url.slice(pathEndIdx):url}function normalizeQueryParams(params){return params&&"?"!==params[0]?`?${params}`:params}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(BrowserPlatformLocation,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__._qm,args:[{providedIn:"platform",useFactory:()=>new BrowserPlatformLocation}]}],()=>[],null);class LocationStrategy{historyGo(relativePosition){throw new Error(ngDevMode?"Not implemented":"")}static ɵfac=function LocationStrategy_Factory(__ngFactoryType__){return new(__ngFactoryType__||LocationStrategy)};static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:LocationStrategy,factory:()=>(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.WQX)(PathLocationStrategy),providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(LocationStrategy,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__._qm,args:[{providedIn:"root",useFactory:()=>(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.WQX)(PathLocationStrategy)}]}],null,null);const APP_BASE_HREF=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.nKC(ngDevMode?"appBaseHref":"");class PathLocationStrategy extends LocationStrategy{_platformLocation;_baseHref;_removeListenerFns=[];constructor(_platformLocation,href){super(),this._platformLocation=_platformLocation,this._baseHref=href??this._platformLocation.getBaseHrefFromDOM()??(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.WQX)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qQL).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(fn){this._removeListenerFns.push(this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn))}getBaseHref(){return this._baseHref}prepareExternalUrl(internal){return joinWithSlash(this._baseHref,internal)}path(includeHash=!1){const pathname=this._platformLocation.pathname+normalizeQueryParams(this._platformLocation.search),hash=this._platformLocation.hash;return hash&&includeHash?`${pathname}${hash}`:pathname}pushState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+normalizeQueryParams(queryParams));this._platformLocation.pushState(state,title,externalUrl)}replaceState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+normalizeQueryParams(queryParams));this._platformLocation.replaceState(state,title,externalUrl)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(relativePosition=0){this._platformLocation.historyGo?.(relativePosition)}static ɵfac=function PathLocationStrategy_Factory(__ngFactoryType__){return new(__ngFactoryType__||PathLocationStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(PlatformLocation),_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(APP_BASE_HREF,8))};static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:PathLocationStrategy,factory:PathLocationStrategy.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(PathLocationStrategy,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__._qm,args:[{providedIn:"root"}]}],()=>[{type:PlatformLocation},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xx1},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.y_5,args:[APP_BASE_HREF]}]}],null);class Location{_subject=new rxjs__WEBPACK_IMPORTED_MODULE_2__.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(locationStrategy){this._locationStrategy=locationStrategy;const baseHref=this._locationStrategy.getBaseHref();this._basePath=function _stripOrigin(baseHref){const isAbsoluteUrl=new RegExp("^(https?:)?//").test(baseHref);if(isAbsoluteUrl){const[,pathname]=baseHref.split(/\/\/[^\/]+/);return pathname}return baseHref}(stripTrailingSlash(_stripIndexHtml(baseHref))),this._locationStrategy.onPopState(ev=>{this._subject.next({url:this.path(!0),pop:!0,state:ev.state,type:ev.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(includeHash=!1){return this.normalize(this._locationStrategy.path(includeHash))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(path,query=""){return this.path()==this.normalize(path+normalizeQueryParams(query))}normalize(url){return Location.stripTrailingSlash(function _stripBasePath(basePath,url){if(!basePath||!url.startsWith(basePath))return url;const strippedUrl=url.substring(basePath.length);if(""===strippedUrl||["/",";","?","#"].includes(strippedUrl[0]))return strippedUrl;return url}(this._basePath,_stripIndexHtml(url)))}prepareExternalUrl(url){return url&&"/"!==url[0]&&(url="/"+url),this._locationStrategy.prepareExternalUrl(url)}go(path,query="",state=null){this._locationStrategy.pushState(state,"",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+normalizeQueryParams(query)),state)}replaceState(path,query="",state=null){this._locationStrategy.replaceState(state,"",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+normalizeQueryParams(query)),state)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(relativePosition=0){this._locationStrategy.historyGo?.(relativePosition)}onUrlChange(fn){return this._urlChangeListeners.push(fn),this._urlChangeSubscription??=this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)}),()=>{const fnIndex=this._urlChangeListeners.indexOf(fn);this._urlChangeListeners.splice(fnIndex,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(url="",state){this._urlChangeListeners.forEach(fn=>fn(url,state))}subscribe(onNext,onThrow,onReturn){return this._subject.subscribe({next:onNext,error:onThrow??void 0,complete:onReturn??void 0})}static normalizeQueryParams=normalizeQueryParams;static joinWithSlash=joinWithSlash;static stripTrailingSlash=stripTrailingSlash;static ɵfac=function Location_Factory(__ngFactoryType__){return new(__ngFactoryType__||Location)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(LocationStrategy))};static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:Location,factory:()=>createLocation(),providedIn:"root"})}function createLocation(){return new Location((0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO)(LocationStrategy))}function _stripIndexHtml(url){return url.replace(/\/index.html$/,"")}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(Location,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__._qm,args:[{providedIn:"root",useFactory:createLocation}]}],()=>[{type:LocationStrategy}],null)},"./node_modules/@angular/common/fesm2022/xhr.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function parseCookieValue(cookieStr,name){name=encodeURIComponent(name);for(const cookie of cookieStr.split(";")){const eqIndex=cookie.indexOf("="),[cookieName,cookieValue]=-1==eqIndex?[cookie,""]:[cookie.slice(0,eqIndex),cookie.slice(eqIndex+1)];if(cookieName.trim()===name)return decodeURIComponent(cookieValue)}return null}__webpack_require__.d(__webpack_exports__,{N:()=>XhrFactory,b:()=>parseCookieValue});class XhrFactory{}},"./node_modules/@angular/compiler/fesm2022/compiler.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{const _SELECTOR_REGEXP=new RegExp("(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g");class CssSelector{element=null;classNames=[];attrs=[];notSelectors=[];static parse(selector){const results=[],_addResult=(res,cssSel)=>{cssSel.notSelectors.length>0&&!cssSel.element&&0==cssSel.classNames.length&&0==cssSel.attrs.length&&(cssSel.element="*"),res.push(cssSel)};let match,cssSelector=new CssSelector,current=cssSelector,inNot=!1;for(_SELECTOR_REGEXP.lastIndex=0;match=_SELECTOR_REGEXP.exec(selector);){if(match[1]){if(inNot)throw new Error("Nesting :not in a selector is not allowed");inNot=!0,current=new CssSelector,cssSelector.notSelectors.push(current)}const tag=match[2];if(tag){const prefix=match[3];"#"===prefix?current.addAttribute("id",tag.slice(1)):"."===prefix?current.addClassName(tag.slice(1)):current.setElement(tag)}const attribute=match[4];if(attribute&&current.addAttribute(current.unescapeAttribute(attribute),match[6]),match[7]&&(inNot=!1,current=cssSelector),match[8]){if(inNot)throw new Error("Multiple selectors in :not are not supported");_addResult(results,cssSelector),cssSelector=current=new CssSelector}}return _addResult(results,cssSelector),results}unescapeAttribute(attr){let result="",escaping=!1;for(let i=0;i<attr.length;i++){const char=attr.charAt(i);if("\\"!==char){if("$"===char&&!escaping)throw new Error(`Error in attribute selector "${attr}". Unescaped "$" is not supported. Please escape with "\\$".`);escaping=!1,result+=char}else escaping=!0}return result}escapeAttribute(attr){return attr.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}hasElementSelector(){return!!this.element}setElement(element=null){this.element=element}getAttrs(){const result=[];return this.classNames.length>0&&result.push("class",this.classNames.join(" ")),result.concat(this.attrs)}addAttribute(name,value=""){this.attrs.push(name,value&&value.toLowerCase()||"")}addClassName(name){this.classNames.push(name.toLowerCase())}toString(){let res=this.element||"";if(this.classNames&&this.classNames.forEach(klass=>res+=`.${klass}`),this.attrs)for(let i=0;i<this.attrs.length;i+=2){const name=this.escapeAttribute(this.attrs[i]),value=this.attrs[i+1];res+=`[${name}${value?"="+value:""}]`}return this.notSelectors.forEach(notSelector=>res+=`:not(${notSelector})`),res}}class SelectorMatcher{static createNotMatcher(notSelectors){const notMatcher=new SelectorMatcher;return notMatcher.addSelectables(notSelectors,null),notMatcher}_elementMap=new Map;_elementPartialMap=new Map;_classMap=new Map;_classPartialMap=new Map;_attrValueMap=new Map;_attrValuePartialMap=new Map;_listContexts=[];addSelectables(cssSelectors,callbackCtxt){let listContext=null;cssSelectors.length>1&&(listContext=new SelectorListContext(cssSelectors),this._listContexts.push(listContext));for(let i=0;i<cssSelectors.length;i++)this._addSelectable(cssSelectors[i],callbackCtxt,listContext)}_addSelectable(cssSelector,callbackCtxt,listContext){let matcher=this;const element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs,selectable=new SelectorContext(cssSelector,callbackCtxt,listContext);if(element){0===attrs.length&&0===classNames.length?this._addTerminal(matcher._elementMap,element,selectable):matcher=this._addPartial(matcher._elementPartialMap,element)}if(classNames)for(let i=0;i<classNames.length;i++){const isTerminal=0===attrs.length&&i===classNames.length-1,className=classNames[i];isTerminal?this._addTerminal(matcher._classMap,className,selectable):matcher=this._addPartial(matcher._classPartialMap,className)}if(attrs)for(let i=0;i<attrs.length;i+=2){const isTerminal=i===attrs.length-2,name=attrs[i],value=attrs[i+1];if(isTerminal){const terminalMap=matcher._attrValueMap;let terminalValuesMap=terminalMap.get(name);terminalValuesMap||(terminalValuesMap=new Map,terminalMap.set(name,terminalValuesMap)),this._addTerminal(terminalValuesMap,value,selectable)}else{const partialMap=matcher._attrValuePartialMap;let partialValuesMap=partialMap.get(name);partialValuesMap||(partialValuesMap=new Map,partialMap.set(name,partialValuesMap)),matcher=this._addPartial(partialValuesMap,value)}}}_addTerminal(map,name,selectable){let terminalList=map.get(name);terminalList||(terminalList=[],map.set(name,terminalList)),terminalList.push(selectable)}_addPartial(map,name){let matcher=map.get(name);return matcher||(matcher=new SelectorMatcher,map.set(name,matcher)),matcher}match(cssSelector,matchedCallback){let result=!1;const element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs;for(let i=0;i<this._listContexts.length;i++)this._listContexts[i].alreadyMatched=!1;if(result=this._matchTerminal(this._elementMap,element,cssSelector,matchedCallback)||result,result=this._matchPartial(this._elementPartialMap,element,cssSelector,matchedCallback)||result,classNames)for(let i=0;i<classNames.length;i++){const className=classNames[i];result=this._matchTerminal(this._classMap,className,cssSelector,matchedCallback)||result,result=this._matchPartial(this._classPartialMap,className,cssSelector,matchedCallback)||result}if(attrs)for(let i=0;i<attrs.length;i+=2){const name=attrs[i],value=attrs[i+1],terminalValuesMap=this._attrValueMap.get(name);value&&(result=this._matchTerminal(terminalValuesMap,"",cssSelector,matchedCallback)||result),result=this._matchTerminal(terminalValuesMap,value,cssSelector,matchedCallback)||result;const partialValuesMap=this._attrValuePartialMap.get(name);value&&(result=this._matchPartial(partialValuesMap,"",cssSelector,matchedCallback)||result),result=this._matchPartial(partialValuesMap,value,cssSelector,matchedCallback)||result}return result}_matchTerminal(map,name,cssSelector,matchedCallback){if(!map||"string"!=typeof name)return!1;let selectables=map.get(name)||[];const starSelectables=map.get("*");if(starSelectables&&(selectables=selectables.concat(starSelectables)),0===selectables.length)return!1;let selectable,result=!1;for(let i=0;i<selectables.length;i++)selectable=selectables[i],result=selectable.finalize(cssSelector,matchedCallback)||result;return result}_matchPartial(map,name,cssSelector,matchedCallback){if(!map||"string"!=typeof name)return!1;const nestedSelector=map.get(name);return!!nestedSelector&&nestedSelector.match(cssSelector,matchedCallback)}}class SelectorListContext{selectors;alreadyMatched=!1;constructor(selectors){this.selectors=selectors}}class SelectorContext{selector;cbContext;listContext;notSelectors;constructor(selector,cbContext,listContext){this.selector=selector,this.cbContext=cbContext,this.listContext=listContext,this.notSelectors=selector.notSelectors}finalize(cssSelector,callback){let result=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){result=!SelectorMatcher.createNotMatcher(this.notSelectors).match(cssSelector,null)}return!result||!callback||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),callback(this.selector,this.cbContext)),result}}class SelectorlessMatcher{registry;constructor(registry){this.registry=registry}match(name){return this.registry.has(name)?this.registry.get(name):[]}}var ViewEncapsulation$1,ChangeDetectionStrategy,InputFlags;!function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.None=2]="None",ViewEncapsulation[ViewEncapsulation.ShadowDom=3]="ShadowDom"}(ViewEncapsulation$1||(ViewEncapsulation$1={})),function(ChangeDetectionStrategy){ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush=0]="OnPush",ChangeDetectionStrategy[ChangeDetectionStrategy.Default=1]="Default"}(ChangeDetectionStrategy||(ChangeDetectionStrategy={})),function(InputFlags){InputFlags[InputFlags.None=0]="None",InputFlags[InputFlags.SignalBased=1]="SignalBased",InputFlags[InputFlags.HasDecoratorInputTransform=2]="HasDecoratorInputTransform"}(InputFlags||(InputFlags={}));const CUSTOM_ELEMENTS_SCHEMA={name:"custom-elements"},NO_ERRORS_SCHEMA={name:"no-errors-schema"};var SecurityContext,MissingTranslationStrategy;function parserSelectorToR3Selector(selector){const positive=function parserSelectorToSimpleSelector(selector){const classes=selector.classNames&&selector.classNames.length?[8,...selector.classNames]:[];return[selector.element&&"*"!==selector.element?selector.element:"",...selector.attrs,...classes]}(selector),negative=selector.notSelectors&&selector.notSelectors.length?selector.notSelectors.map(notSelector=>function parserSelectorToNegativeSelector(selector){const classes=selector.classNames&&selector.classNames.length?[8,...selector.classNames]:[];return selector.element?[5,selector.element,...selector.attrs,...classes]:selector.attrs.length?[3,...selector.attrs,...classes]:selector.classNames&&selector.classNames.length?[9,...selector.classNames]:[]}(notSelector)):[];return positive.concat(...negative)}function parseSelectorToR3Selector(selector){return selector?CssSelector.parse(selector).map(parserSelectorToR3Selector):[]}!function(SecurityContext){SecurityContext[SecurityContext.NONE=0]="NONE",SecurityContext[SecurityContext.HTML=1]="HTML",SecurityContext[SecurityContext.STYLE=2]="STYLE",SecurityContext[SecurityContext.SCRIPT=3]="SCRIPT",SecurityContext[SecurityContext.URL=4]="URL",SecurityContext[SecurityContext.RESOURCE_URL=5]="RESOURCE_URL",SecurityContext[SecurityContext.ATTRIBUTE_NO_BINDING=6]="ATTRIBUTE_NO_BINDING"}(SecurityContext||(SecurityContext={})),function(MissingTranslationStrategy){MissingTranslationStrategy[MissingTranslationStrategy.Error=0]="Error",MissingTranslationStrategy[MissingTranslationStrategy.Warning=1]="Warning",MissingTranslationStrategy[MissingTranslationStrategy.Ignore=2]="Ignore"}(MissingTranslationStrategy||(MissingTranslationStrategy={}));var FactoryTarget,R3TemplateDependencyKind$1,ViewEncapsulation;let textEncoder;function computeDigest(message){return function sha1(str){textEncoder??=new TextEncoder;const utf8=[...textEncoder.encode(str)],words32=function bytesToWords32(bytes,endian){const size=bytes.length+3>>>2,words32=[];for(let i=0;i<size;i++)words32[i]=wordAt(bytes,4*i,endian);return words32}(utf8,Endian.Big),len=8*utf8.length,w=new Uint32Array(80);let a=1732584193,b=4023233417,c=2562383102,d=271733878,e=3285377520;words32[len>>5]|=128<<24-len%32,words32[15+(len+64>>9<<4)]=len;for(let i=0;i<words32.length;i+=16){const h0=a,h1=b,h2=c,h3=d,h4=e;for(let j=0;j<80;j++){w[j]=j<16?words32[i+j]:rol32(w[j-3]^w[j-8]^w[j-14]^w[j-16],1);const fkVal=fk(j,b,c,d),f=fkVal[0],k=fkVal[1],temp=[rol32(a,5),f,e,k,w[j]].reduce(add32);e=d,d=c,c=rol32(b,30),b=a,a=temp}a=add32(a,h0),b=add32(b,h1),c=add32(c,h2),d=add32(d,h3),e=add32(e,h4)}return toHexU32(a)+toHexU32(b)+toHexU32(c)+toHexU32(d)+toHexU32(e)}(function serializeNodes(nodes){return nodes.map(a=>a.visit(serializerVisitor$1,null))}(message.nodes).join("")+`[${message.meaning}]`)}function decimalDigest(message){return message.id||computeDecimalDigest(message)}function computeDecimalDigest(message){const visitor=new _SerializerIgnoreIcuExpVisitor;return computeMsgId(message.nodes.map(a=>a.visit(visitor,null)).join(""),message.meaning)}!function(FactoryTarget){FactoryTarget[FactoryTarget.Directive=0]="Directive",FactoryTarget[FactoryTarget.Component=1]="Component",FactoryTarget[FactoryTarget.Injectable=2]="Injectable",FactoryTarget[FactoryTarget.Pipe=3]="Pipe",FactoryTarget[FactoryTarget.NgModule=4]="NgModule"}(FactoryTarget||(FactoryTarget={})),function(R3TemplateDependencyKind){R3TemplateDependencyKind[R3TemplateDependencyKind.Directive=0]="Directive",R3TemplateDependencyKind[R3TemplateDependencyKind.Pipe=1]="Pipe",R3TemplateDependencyKind[R3TemplateDependencyKind.NgModule=2]="NgModule"}(R3TemplateDependencyKind$1||(R3TemplateDependencyKind$1={})),function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.None=2]="None",ViewEncapsulation[ViewEncapsulation.ShadowDom=3]="ShadowDom"}(ViewEncapsulation||(ViewEncapsulation={}));class _SerializerVisitor{visitText(text,context){return text.value}visitContainer(container,context){return`[${container.children.map(child=>child.visit(this)).join(", ")}]`}visitIcu(icu,context){const strCases=Object.keys(icu.cases).map(k=>`${k} {${icu.cases[k].visit(this)}}`);return`{${icu.expression}, ${icu.type}, ${strCases.join(", ")}}`}visitTagPlaceholder(ph,context){return ph.isVoid?`<ph tag name="${ph.startName}"/>`:`<ph tag name="${ph.startName}">${ph.children.map(child=>child.visit(this)).join(", ")}</ph name="${ph.closeName}">`}visitPlaceholder(ph,context){return ph.value?`<ph name="${ph.name}">${ph.value}</ph>`:`<ph name="${ph.name}"/>`}visitIcuPlaceholder(ph,context){return`<ph icu name="${ph.name}">${ph.value.visit(this)}</ph>`}visitBlockPlaceholder(ph,context){return`<ph block name="${ph.startName}">${ph.children.map(child=>child.visit(this)).join(", ")}</ph name="${ph.closeName}">`}}const serializerVisitor$1=new _SerializerVisitor;class _SerializerIgnoreIcuExpVisitor extends _SerializerVisitor{visitIcu(icu){let strCases=Object.keys(icu.cases).map(k=>`${k} {${icu.cases[k].visit(this)}}`);return`{${icu.type}, ${strCases.join(", ")}}`}}function toHexU32(value){return(value>>>0).toString(16).padStart(8,"0")}function fk(index,b,c,d){return index<20?[b&c|~b&d,1518500249]:index<40?[b^c^d,1859775393]:index<60?[b&c|b&d|c&d,2400959708]:[b^c^d,3395469782]}function fingerprint(str){textEncoder??=new TextEncoder;const utf8=textEncoder.encode(str),view=new DataView(utf8.buffer,utf8.byteOffset,utf8.byteLength);let hi=hash32(view,utf8.length,0),lo=hash32(view,utf8.length,102072);return 0!=hi||0!=lo&&1!=lo||(hi^=319790063,lo^=-1801410264),BigInt.asUintN(32,BigInt(hi))<<BigInt(32)|BigInt.asUintN(32,BigInt(lo))}function computeMsgId(msg,meaning=""){let msgFingerprint=fingerprint(msg);return meaning&&(msgFingerprint=BigInt.asUintN(64,msgFingerprint<<BigInt(1))|msgFingerprint>>BigInt(63)&BigInt(1),msgFingerprint+=fingerprint(meaning)),BigInt.asUintN(63,msgFingerprint).toString()}function hash32(view,length,c){let a=2654435769,b=2654435769,index=0;const end=length-12;for(;index<=end;index+=12){a+=view.getUint32(index,!0),b+=view.getUint32(index+4,!0);const res=mix(a,b,c+=view.getUint32(index+8,!0));a=res[0],b=res[1],c=res[2]}const remainder=length-index;return c+=length,remainder>=4?(a+=view.getUint32(index,!0),index+=4,remainder>=8?(b+=view.getUint32(index,!0),index+=4,remainder>=9&&(c+=view.getUint8(index++)<<8),remainder>=10&&(c+=view.getUint8(index++)<<16),11===remainder&&(c+=view.getUint8(index++)<<24)):(remainder>=5&&(b+=view.getUint8(index++)),remainder>=6&&(b+=view.getUint8(index++)<<8),7===remainder&&(b+=view.getUint8(index++)<<16))):(remainder>=1&&(a+=view.getUint8(index++)),remainder>=2&&(a+=view.getUint8(index++)<<8),3===remainder&&(a+=view.getUint8(index++)<<16)),mix(a,b,c)[2]}function mix(a,b,c){return a-=b,a-=c,b-=c,b-=a^=c>>>13,c-=a,c-=b^=a<<8,a-=b,a-=c^=b>>>13,b-=c,b-=a^=c>>>12,c-=a,c-=b^=a<<16,a-=b,a-=c^=b>>>5,b-=c,b-=a^=c>>>3,c-=a,c-=b^=a<<10,[a,b,c^=b>>>15]}var Endian,TypeModifier,BuiltinTypeName;function add32(a,b){return function add32to64(a,b){const low=(65535&a)+(65535&b),high=(a>>>16)+(b>>>16)+(low>>>16);return[high>>>16,high<<16|65535&low]}(a,b)[1]}function rol32(a,count){return a<<count|a>>>32-count}function byteAt(bytes,index){return index>=bytes.length?0:bytes[index]}function wordAt(bytes,index,endian){let word=0;if(endian===Endian.Big)for(let i=0;i<4;i++)word+=byteAt(bytes,index+i)<<24-8*i;else for(let i=0;i<4;i++)word+=byteAt(bytes,index+i)<<8*i;return word}!function(Endian){Endian[Endian.Little=0]="Little",Endian[Endian.Big=1]="Big"}(Endian||(Endian={})),function(TypeModifier){TypeModifier[TypeModifier.None=0]="None",TypeModifier[TypeModifier.Const=1]="Const"}(TypeModifier||(TypeModifier={}));class Type{modifiers;constructor(modifiers=TypeModifier.None){this.modifiers=modifiers}hasModifier(modifier){return 0!==(this.modifiers&modifier)}}!function(BuiltinTypeName){BuiltinTypeName[BuiltinTypeName.Dynamic=0]="Dynamic",BuiltinTypeName[BuiltinTypeName.Bool=1]="Bool",BuiltinTypeName[BuiltinTypeName.String=2]="String",BuiltinTypeName[BuiltinTypeName.Int=3]="Int",BuiltinTypeName[BuiltinTypeName.Number=4]="Number",BuiltinTypeName[BuiltinTypeName.Function=5]="Function",BuiltinTypeName[BuiltinTypeName.Inferred=6]="Inferred",BuiltinTypeName[BuiltinTypeName.None=7]="None"}(BuiltinTypeName||(BuiltinTypeName={}));class BuiltinType extends Type{name;constructor(name,modifiers){super(modifiers),this.name=name}visitType(visitor,context){return visitor.visitBuiltinType(this,context)}}class ExpressionType extends Type{value;typeParams;constructor(value,modifiers,typeParams=null){super(modifiers),this.value=value,this.typeParams=typeParams}visitType(visitor,context){return visitor.visitExpressionType(this,context)}}const DYNAMIC_TYPE=new BuiltinType(BuiltinTypeName.Dynamic),INFERRED_TYPE=new BuiltinType(BuiltinTypeName.Inferred),BOOL_TYPE=new BuiltinType(BuiltinTypeName.Bool),NUMBER_TYPE=(new BuiltinType(BuiltinTypeName.Int),new BuiltinType(BuiltinTypeName.Number)),STRING_TYPE=new BuiltinType(BuiltinTypeName.String),NONE_TYPE=(new BuiltinType(BuiltinTypeName.Function),new BuiltinType(BuiltinTypeName.None));var UnaryOperator,BinaryOperator;function nullSafeIsEquivalent(base,other){return null==base||null==other?base==other:base.isEquivalent(other)}function areAllEquivalentPredicate(base,other,equivalentPredicate){const len=base.length;if(len!==other.length)return!1;for(let i=0;i<len;i++)if(!equivalentPredicate(base[i],other[i]))return!1;return!0}function areAllEquivalent(base,other){return areAllEquivalentPredicate(base,other,(baseElement,otherElement)=>baseElement.isEquivalent(otherElement))}!function(UnaryOperator){UnaryOperator[UnaryOperator.Minus=0]="Minus",UnaryOperator[UnaryOperator.Plus=1]="Plus"}(UnaryOperator||(UnaryOperator={})),function(BinaryOperator){BinaryOperator[BinaryOperator.Equals=0]="Equals",BinaryOperator[BinaryOperator.NotEquals=1]="NotEquals",BinaryOperator[BinaryOperator.Assign=2]="Assign",BinaryOperator[BinaryOperator.Identical=3]="Identical",BinaryOperator[BinaryOperator.NotIdentical=4]="NotIdentical",BinaryOperator[BinaryOperator.Minus=5]="Minus",BinaryOperator[BinaryOperator.Plus=6]="Plus",BinaryOperator[BinaryOperator.Divide=7]="Divide",BinaryOperator[BinaryOperator.Multiply=8]="Multiply",BinaryOperator[BinaryOperator.Modulo=9]="Modulo",BinaryOperator[BinaryOperator.And=10]="And",BinaryOperator[BinaryOperator.Or=11]="Or",BinaryOperator[BinaryOperator.BitwiseOr=12]="BitwiseOr",BinaryOperator[BinaryOperator.BitwiseAnd=13]="BitwiseAnd",BinaryOperator[BinaryOperator.Lower=14]="Lower",BinaryOperator[BinaryOperator.LowerEquals=15]="LowerEquals",BinaryOperator[BinaryOperator.Bigger=16]="Bigger",BinaryOperator[BinaryOperator.BiggerEquals=17]="BiggerEquals",BinaryOperator[BinaryOperator.NullishCoalesce=18]="NullishCoalesce",BinaryOperator[BinaryOperator.Exponentiation=19]="Exponentiation",BinaryOperator[BinaryOperator.In=20]="In",BinaryOperator[BinaryOperator.AdditionAssignment=21]="AdditionAssignment",BinaryOperator[BinaryOperator.SubtractionAssignment=22]="SubtractionAssignment",BinaryOperator[BinaryOperator.MultiplicationAssignment=23]="MultiplicationAssignment",BinaryOperator[BinaryOperator.DivisionAssignment=24]="DivisionAssignment",BinaryOperator[BinaryOperator.RemainderAssignment=25]="RemainderAssignment",BinaryOperator[BinaryOperator.ExponentiationAssignment=26]="ExponentiationAssignment",BinaryOperator[BinaryOperator.AndAssignment=27]="AndAssignment",BinaryOperator[BinaryOperator.OrAssignment=28]="OrAssignment",BinaryOperator[BinaryOperator.NullishCoalesceAssignment=29]="NullishCoalesceAssignment"}(BinaryOperator||(BinaryOperator={}));class Expression{type;sourceSpan;constructor(type,sourceSpan){this.type=type||null,this.sourceSpan=sourceSpan||null}prop(name,sourceSpan){return new ReadPropExpr(this,name,null,sourceSpan)}key(index,type,sourceSpan){return new ReadKeyExpr(this,index,type,sourceSpan)}callFn(params,sourceSpan,pure){return new InvokeFunctionExpr(this,params,null,sourceSpan,pure)}instantiate(params,type,sourceSpan){return new InstantiateExpr(this,params,type,sourceSpan)}conditional(trueCase,falseCase=null,sourceSpan){return new ConditionalExpr(this,trueCase,falseCase,null,sourceSpan)}equals(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Equals,this,rhs,null,sourceSpan)}notEquals(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.NotEquals,this,rhs,null,sourceSpan)}identical(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Identical,this,rhs,null,sourceSpan)}notIdentical(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.NotIdentical,this,rhs,null,sourceSpan)}minus(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Minus,this,rhs,null,sourceSpan)}plus(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Plus,this,rhs,null,sourceSpan)}divide(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Divide,this,rhs,null,sourceSpan)}multiply(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Multiply,this,rhs,null,sourceSpan)}modulo(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Modulo,this,rhs,null,sourceSpan)}power(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Exponentiation,this,rhs,null,sourceSpan)}and(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.And,this,rhs,null,sourceSpan)}bitwiseOr(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.BitwiseOr,this,rhs,null,sourceSpan)}bitwiseAnd(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.BitwiseAnd,this,rhs,null,sourceSpan)}or(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Or,this,rhs,null,sourceSpan)}lower(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Lower,this,rhs,null,sourceSpan)}lowerEquals(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.LowerEquals,this,rhs,null,sourceSpan)}bigger(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Bigger,this,rhs,null,sourceSpan)}biggerEquals(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.BiggerEquals,this,rhs,null,sourceSpan)}isBlank(sourceSpan){return this.equals(TYPED_NULL_EXPR,sourceSpan)}nullishCoalesce(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.NullishCoalesce,this,rhs,null,sourceSpan)}toStmt(){return new ExpressionStatement(this,null)}}class ReadVarExpr extends Expression{name;constructor(name,type,sourceSpan){super(type,sourceSpan),this.name=name}isEquivalent(e){return e instanceof ReadVarExpr&&this.name===e.name}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitReadVarExpr(this,context)}clone(){return new ReadVarExpr(this.name,this.type,this.sourceSpan)}set(value){return new BinaryOperatorExpr(BinaryOperator.Assign,this,value,null,this.sourceSpan)}}class TypeofExpr extends Expression{expr;constructor(expr,type,sourceSpan){super(type,sourceSpan),this.expr=expr}visitExpression(visitor,context){return visitor.visitTypeofExpr(this,context)}isEquivalent(e){return e instanceof TypeofExpr&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new TypeofExpr(this.expr.clone())}}class VoidExpr extends Expression{expr;constructor(expr,type,sourceSpan){super(type,sourceSpan),this.expr=expr}visitExpression(visitor,context){return visitor.visitVoidExpr(this,context)}isEquivalent(e){return e instanceof VoidExpr&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new VoidExpr(this.expr.clone())}}class WrappedNodeExpr extends Expression{node;constructor(node,type,sourceSpan){super(type,sourceSpan),this.node=node}isEquivalent(e){return e instanceof WrappedNodeExpr&&this.node===e.node}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitWrappedNodeExpr(this,context)}clone(){return new WrappedNodeExpr(this.node,this.type,this.sourceSpan)}}class InvokeFunctionExpr extends Expression{fn;args;pure;constructor(fn,args,type,sourceSpan,pure=!1){super(type,sourceSpan),this.fn=fn,this.args=args,this.pure=pure}get receiver(){return this.fn}isEquivalent(e){return e instanceof InvokeFunctionExpr&&this.fn.isEquivalent(e.fn)&&areAllEquivalent(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitInvokeFunctionExpr(this,context)}clone(){return new InvokeFunctionExpr(this.fn.clone(),this.args.map(arg=>arg.clone()),this.type,this.sourceSpan,this.pure)}}class TaggedTemplateLiteralExpr extends Expression{tag;template;constructor(tag,template,type,sourceSpan){super(type,sourceSpan),this.tag=tag,this.template=template}isEquivalent(e){return e instanceof TaggedTemplateLiteralExpr&&this.tag.isEquivalent(e.tag)&&this.template.isEquivalent(e.template)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitTaggedTemplateLiteralExpr(this,context)}clone(){return new TaggedTemplateLiteralExpr(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}}class InstantiateExpr extends Expression{classExpr;args;constructor(classExpr,args,type,sourceSpan){super(type,sourceSpan),this.classExpr=classExpr,this.args=args}isEquivalent(e){return e instanceof InstantiateExpr&&this.classExpr.isEquivalent(e.classExpr)&&areAllEquivalent(this.args,e.args)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitInstantiateExpr(this,context)}clone(){return new InstantiateExpr(this.classExpr.clone(),this.args.map(arg=>arg.clone()),this.type,this.sourceSpan)}}class LiteralExpr extends Expression{value;constructor(value,type,sourceSpan){super(type,sourceSpan),this.value=value}isEquivalent(e){return e instanceof LiteralExpr&&this.value===e.value}isConstant(){return!0}visitExpression(visitor,context){return visitor.visitLiteralExpr(this,context)}clone(){return new LiteralExpr(this.value,this.type,this.sourceSpan)}}class TemplateLiteralExpr extends Expression{elements;expressions;constructor(elements,expressions,sourceSpan){super(null,sourceSpan),this.elements=elements,this.expressions=expressions}isEquivalent(e){return e instanceof TemplateLiteralExpr&&areAllEquivalentPredicate(this.elements,e.elements,(a,b)=>a.text===b.text)&&areAllEquivalent(this.expressions,e.expressions)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitTemplateLiteralExpr(this,context)}clone(){return new TemplateLiteralExpr(this.elements.map(el=>el.clone()),this.expressions.map(expr=>expr.clone()))}}class TemplateLiteralElementExpr extends Expression{text;rawText;constructor(text,sourceSpan,rawText){super(STRING_TYPE,sourceSpan),this.text=text,this.rawText=rawText??escapeForTemplateLiteral(escapeSlashes(text))}visitExpression(visitor,context){return visitor.visitTemplateLiteralElementExpr(this,context)}isEquivalent(e){return e instanceof TemplateLiteralElementExpr&&e.text===this.text&&e.rawText===this.rawText}isConstant(){return!0}clone(){return new TemplateLiteralElementExpr(this.text,this.sourceSpan,this.rawText)}}class LiteralPiece{text;sourceSpan;constructor(text,sourceSpan){this.text=text,this.sourceSpan=sourceSpan}}class PlaceholderPiece{text;sourceSpan;associatedMessage;constructor(text,sourceSpan,associatedMessage){this.text=text,this.sourceSpan=sourceSpan,this.associatedMessage=associatedMessage}}class LocalizedString extends Expression{metaBlock;messageParts;placeHolderNames;expressions;constructor(metaBlock,messageParts,placeHolderNames,expressions,sourceSpan){super(STRING_TYPE,sourceSpan),this.metaBlock=metaBlock,this.messageParts=messageParts,this.placeHolderNames=placeHolderNames,this.expressions=expressions}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitLocalizedString(this,context)}clone(){return new LocalizedString(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(expr=>expr.clone()),this.sourceSpan)}serializeI18nHead(){let metaBlock=this.metaBlock.description||"";return this.metaBlock.meaning&&(metaBlock=`${this.metaBlock.meaning}|${metaBlock}`),this.metaBlock.customId&&(metaBlock=`${metaBlock}@@${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(legacyId=>{metaBlock=`${metaBlock}␟${legacyId}`}),createCookedRawString(metaBlock,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(i){return this.messageParts[i]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(i){return this.placeHolderNames[i]?.sourceSpan??this.expressions[i]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(partIndex){const placeholder=this.placeHolderNames[partIndex-1],messagePart=this.messageParts[partIndex];let metaBlock=placeholder.text;return 0===placeholder.associatedMessage?.legacyIds.length&&(metaBlock+=`@@${computeMsgId(placeholder.associatedMessage.messageString,placeholder.associatedMessage.meaning)}`),createCookedRawString(metaBlock,messagePart.text,this.getMessagePartSourceSpan(partIndex))}}const escapeSlashes=str=>str.replace(/\\/g,"\\\\"),escapeStartingColon=str=>str.replace(/^:/,"\\:"),escapeColons=str=>str.replace(/:/g,"\\:"),escapeForTemplateLiteral=str=>str.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function createCookedRawString(metaBlock,messagePart,range){return""===metaBlock?{cooked:messagePart,raw:escapeForTemplateLiteral(escapeStartingColon(escapeSlashes(messagePart))),range}:{cooked:`:${metaBlock}:${messagePart}`,raw:escapeForTemplateLiteral(`:${escapeColons(escapeSlashes(metaBlock))}:${escapeSlashes(messagePart)}`),range}}class ExternalExpr extends Expression{value;typeParams;constructor(value,type,typeParams=null,sourceSpan){super(type,sourceSpan),this.value=value,this.typeParams=typeParams}isEquivalent(e){return e instanceof ExternalExpr&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitExternalExpr(this,context)}clone(){return new ExternalExpr(this.value,this.type,this.typeParams,this.sourceSpan)}}class ConditionalExpr extends Expression{condition;falseCase;trueCase;constructor(condition,trueCase,falseCase=null,type,sourceSpan){super(type||trueCase.type,sourceSpan),this.condition=condition,this.falseCase=falseCase,this.trueCase=trueCase}isEquivalent(e){return e instanceof ConditionalExpr&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&nullSafeIsEquivalent(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitConditionalExpr(this,context)}clone(){return new ConditionalExpr(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}}class NotExpr extends Expression{condition;constructor(condition,sourceSpan){super(BOOL_TYPE,sourceSpan),this.condition=condition}isEquivalent(e){return e instanceof NotExpr&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitNotExpr(this,context)}clone(){return new NotExpr(this.condition.clone(),this.sourceSpan)}}class FnParam{name;type;constructor(name,type=null){this.name=name,this.type=type}isEquivalent(param){return this.name===param.name}clone(){return new FnParam(this.name,this.type)}}class FunctionExpr extends Expression{params;statements;name;constructor(params,statements,type,sourceSpan,name){super(type,sourceSpan),this.params=params,this.statements=statements,this.name=name}isEquivalent(e){return(e instanceof FunctionExpr||e instanceof DeclareFunctionStmt)&&areAllEquivalent(this.params,e.params)&&areAllEquivalent(this.statements,e.statements)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitFunctionExpr(this,context)}toDeclStmt(name,modifiers){return new DeclareFunctionStmt(name,this.params,this.statements,this.type,modifiers,this.sourceSpan)}clone(){return new FunctionExpr(this.params.map(p=>p.clone()),this.statements,this.type,this.sourceSpan,this.name)}}class ArrowFunctionExpr extends Expression{params;body;constructor(params,body,type,sourceSpan){super(type,sourceSpan),this.params=params,this.body=body}isEquivalent(e){return!!(e instanceof ArrowFunctionExpr&&areAllEquivalent(this.params,e.params))&&(this.body instanceof Expression&&e.body instanceof Expression?this.body.isEquivalent(e.body):!(!Array.isArray(this.body)||!Array.isArray(e.body))&&areAllEquivalent(this.body,e.body))}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitArrowFunctionExpr(this,context)}clone(){return new ArrowFunctionExpr(this.params.map(p=>p.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(name,modifiers){return new DeclareVarStmt(name,this,INFERRED_TYPE,modifiers,this.sourceSpan)}}class UnaryOperatorExpr extends Expression{operator;expr;parens;constructor(operator,expr,type,sourceSpan,parens=!0){super(type||NUMBER_TYPE,sourceSpan),this.operator=operator,this.expr=expr,this.parens=parens}isEquivalent(e){return e instanceof UnaryOperatorExpr&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitUnaryOperatorExpr(this,context)}clone(){return new UnaryOperatorExpr(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}}class ParenthesizedExpr extends Expression{expr;constructor(expr,type,sourceSpan){super(type,sourceSpan),this.expr=expr}visitExpression(visitor,context){return visitor.visitParenthesizedExpr(this,context)}isEquivalent(e){return e instanceof ParenthesizedExpr&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new ParenthesizedExpr(this.expr.clone())}}class BinaryOperatorExpr extends Expression{operator;rhs;lhs;constructor(operator,lhs,rhs,type,sourceSpan){super(type||lhs.type,sourceSpan),this.operator=operator,this.rhs=rhs,this.lhs=lhs}isEquivalent(e){return e instanceof BinaryOperatorExpr&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitBinaryOperatorExpr(this,context)}clone(){return new BinaryOperatorExpr(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan)}isAssignment(){const op=this.operator;return op===BinaryOperator.Assign||op===BinaryOperator.AdditionAssignment||op===BinaryOperator.SubtractionAssignment||op===BinaryOperator.MultiplicationAssignment||op===BinaryOperator.DivisionAssignment||op===BinaryOperator.RemainderAssignment||op===BinaryOperator.ExponentiationAssignment||op===BinaryOperator.AndAssignment||op===BinaryOperator.OrAssignment||op===BinaryOperator.NullishCoalesceAssignment}}class ReadPropExpr extends Expression{receiver;name;constructor(receiver,name,type,sourceSpan){super(type,sourceSpan),this.receiver=receiver,this.name=name}get index(){return this.name}isEquivalent(e){return e instanceof ReadPropExpr&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitReadPropExpr(this,context)}set(value){return new BinaryOperatorExpr(BinaryOperator.Assign,this.receiver.prop(this.name),value,null,this.sourceSpan)}clone(){return new ReadPropExpr(this.receiver.clone(),this.name,this.type,this.sourceSpan)}}class ReadKeyExpr extends Expression{receiver;index;constructor(receiver,index,type,sourceSpan){super(type,sourceSpan),this.receiver=receiver,this.index=index}isEquivalent(e){return e instanceof ReadKeyExpr&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitReadKeyExpr(this,context)}set(value){return new BinaryOperatorExpr(BinaryOperator.Assign,this.receiver.key(this.index),value,null,this.sourceSpan)}clone(){return new ReadKeyExpr(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}}class LiteralArrayExpr extends Expression{entries;constructor(entries,type,sourceSpan){super(type,sourceSpan),this.entries=entries}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof LiteralArrayExpr&&areAllEquivalent(this.entries,e.entries)}visitExpression(visitor,context){return visitor.visitLiteralArrayExpr(this,context)}clone(){return new LiteralArrayExpr(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}}class LiteralMapEntry{key;value;quoted;constructor(key,value,quoted){this.key=key,this.value=value,this.quoted=quoted}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new LiteralMapEntry(this.key,this.value.clone(),this.quoted)}}class LiteralMapExpr extends Expression{entries;valueType=null;constructor(entries,type,sourceSpan){super(type,sourceSpan),this.entries=entries,type&&(this.valueType=type.valueType)}isEquivalent(e){return e instanceof LiteralMapExpr&&areAllEquivalent(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(visitor,context){return visitor.visitLiteralMapExpr(this,context)}clone(){const entriesClone=this.entries.map(entry=>entry.clone());return new LiteralMapExpr(entriesClone,this.type,this.sourceSpan)}}const NULL_EXPR=new LiteralExpr(null,null,null),TYPED_NULL_EXPR=new LiteralExpr(null,INFERRED_TYPE,null);var StmtModifier;!function(StmtModifier){StmtModifier[StmtModifier.None=0]="None",StmtModifier[StmtModifier.Final=1]="Final",StmtModifier[StmtModifier.Private=2]="Private",StmtModifier[StmtModifier.Exported=4]="Exported",StmtModifier[StmtModifier.Static=8]="Static"}(StmtModifier||(StmtModifier={}));class LeadingComment{text;multiline;trailingNewline;constructor(text,multiline,trailingNewline){this.text=text,this.multiline=multiline,this.trailingNewline=trailingNewline}toString(){return this.multiline?` ${this.text} `:this.text}}class JSDocComment extends LeadingComment{tags;constructor(tags){super("",!0,!0),this.tags=tags}toString(){return function serializeTags(tags){if(0===tags.length)return"";if(1===tags.length&&tags[0].tagName&&!tags[0].text)return`*${tagToString(tags[0])} `;let out="*\n";for(const tag of tags)out+=" *",out+=tagToString(tag).replace(/\n/g,"\n * "),out+="\n";return out+=" ",out}(this.tags)}}class Statement{modifiers;sourceSpan;leadingComments;constructor(modifiers=StmtModifier.None,sourceSpan=null,leadingComments){this.modifiers=modifiers,this.sourceSpan=sourceSpan,this.leadingComments=leadingComments}hasModifier(modifier){return 0!==(this.modifiers&modifier)}addLeadingComment(leadingComment){this.leadingComments=this.leadingComments??[],this.leadingComments.push(leadingComment)}}class DeclareVarStmt extends Statement{name;value;type;constructor(name,value,type,modifiers,sourceSpan,leadingComments){super(modifiers,sourceSpan,leadingComments),this.name=name,this.value=value,this.type=type||value&&value.type||null}isEquivalent(stmt){return stmt instanceof DeclareVarStmt&&this.name===stmt.name&&(this.value?!!stmt.value&&this.value.isEquivalent(stmt.value):!stmt.value)}visitStatement(visitor,context){return visitor.visitDeclareVarStmt(this,context)}}class DeclareFunctionStmt extends Statement{name;params;statements;type;constructor(name,params,statements,type,modifiers,sourceSpan,leadingComments){super(modifiers,sourceSpan,leadingComments),this.name=name,this.params=params,this.statements=statements,this.type=type||null}isEquivalent(stmt){return stmt instanceof DeclareFunctionStmt&&areAllEquivalent(this.params,stmt.params)&&areAllEquivalent(this.statements,stmt.statements)}visitStatement(visitor,context){return visitor.visitDeclareFunctionStmt(this,context)}}class ExpressionStatement extends Statement{expr;constructor(expr,sourceSpan,leadingComments){super(StmtModifier.None,sourceSpan,leadingComments),this.expr=expr}isEquivalent(stmt){return stmt instanceof ExpressionStatement&&this.expr.isEquivalent(stmt.expr)}visitStatement(visitor,context){return visitor.visitExpressionStmt(this,context)}}class ReturnStatement extends Statement{value;constructor(value,sourceSpan=null,leadingComments){super(StmtModifier.None,sourceSpan,leadingComments),this.value=value}isEquivalent(stmt){return stmt instanceof ReturnStatement&&this.value.isEquivalent(stmt.value)}visitStatement(visitor,context){return visitor.visitReturnStmt(this,context)}}class IfStmt extends Statement{condition;trueCase;falseCase;constructor(condition,trueCase,falseCase=[],sourceSpan,leadingComments){super(StmtModifier.None,sourceSpan,leadingComments),this.condition=condition,this.trueCase=trueCase,this.falseCase=falseCase}isEquivalent(stmt){return stmt instanceof IfStmt&&this.condition.isEquivalent(stmt.condition)&&areAllEquivalent(this.trueCase,stmt.trueCase)&&areAllEquivalent(this.falseCase,stmt.falseCase)}visitStatement(visitor,context){return visitor.visitIfStmt(this,context)}}function jsDocComment(tags=[]){return new JSDocComment(tags)}function variable(name,type,sourceSpan){return new ReadVarExpr(name,type,sourceSpan)}function importExpr(id,typeParams=null,sourceSpan){return new ExternalExpr(id,null,typeParams,sourceSpan)}function expressionType(expr,typeModifiers,typeParams){return new ExpressionType(expr,typeModifiers,typeParams)}function typeofExpr(expr){return new TypeofExpr(expr)}function literalArr(values,type,sourceSpan){return new LiteralArrayExpr(values,type,sourceSpan)}function literalMap(values,type=null){return new LiteralMapExpr(values.map(e=>new LiteralMapEntry(e.key,e.value,e.quoted)),type,null)}function not(expr,sourceSpan){return new NotExpr(expr,sourceSpan)}function fn(params,body,type,sourceSpan,name){return new FunctionExpr(params,body,type,sourceSpan,name)}function arrowFn(params,body,type,sourceSpan){return new ArrowFunctionExpr(params,body,type,sourceSpan)}function ifStmt(condition,thenClause,elseClause,sourceSpan,leadingComments){return new IfStmt(condition,thenClause,elseClause,sourceSpan,leadingComments)}function taggedTemplate(tag,template,type,sourceSpan){return new TaggedTemplateLiteralExpr(tag,template,type,sourceSpan)}function literal(value,type,sourceSpan){return new LiteralExpr(value,type,sourceSpan)}function localizedString(metaBlock,messageParts,placeholderNames,expressions,sourceSpan){return new LocalizedString(metaBlock,messageParts,placeholderNames,expressions,sourceSpan)}function tagToString(tag){let out="";if(tag.tagName&&(out+=` @${tag.tagName}`),tag.text){if(tag.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');out+=" "+tag.text.replace(/@/g,"\\@")}return out}const UNKNOWN_VALUE_KEY=variable("<unknown>"),KEY_CONTEXT={};class FixupExpression extends Expression{resolved;original;shared=!1;constructor(resolved){super(resolved.type),this.resolved=resolved,this.original=resolved}visitExpression(visitor,context){return context===KEY_CONTEXT?this.original.visitExpression(visitor,context):this.resolved.visitExpression(visitor,context)}isEquivalent(e){return e instanceof FixupExpression&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(expression){this.resolved=expression,this.shared=!0}}class ConstantPool{isClosureCompilerEnabled;statements=[];literals=new Map;literalFactories=new Map;sharedConstants=new Map;_claimedNames=new Map;nextNameIndex=0;constructor(isClosureCompilerEnabled=!1){this.isClosureCompilerEnabled=isClosureCompilerEnabled}getConstLiteral(literal,forceShared){if(literal instanceof LiteralExpr&&!isLongStringLiteral(literal)||literal instanceof FixupExpression)return literal;const key=GenericKeyFn.INSTANCE.keyOf(literal);let fixup=this.literals.get(key),newValue=!1;if(fixup||(fixup=new FixupExpression(literal),this.literals.set(key,fixup),newValue=!0),!newValue&&!fixup.shared||newValue&&forceShared){const name=this.freshName();let value,usage;this.isClosureCompilerEnabled&&isLongStringLiteral(literal)?(value=new FunctionExpr([],[new ReturnStatement(literal)]),usage=variable(name).callFn([])):(value=literal,usage=variable(name)),this.statements.push(new DeclareVarStmt(name,value,INFERRED_TYPE,StmtModifier.Final)),fixup.fixup(usage)}return fixup}getSharedConstant(def,expr){const key=def.keyOf(expr);if(!this.sharedConstants.has(key)){const id=this.freshName();this.sharedConstants.set(key,variable(id)),this.statements.push(def.toSharedConstantDeclaration(id,expr))}return this.sharedConstants.get(key)}getLiteralFactory(literal){if(literal instanceof LiteralArrayExpr){const argumentsForKey=literal.entries.map(e=>e.isConstant()?e:UNKNOWN_VALUE_KEY),key=GenericKeyFn.INSTANCE.keyOf(literalArr(argumentsForKey));return this._getLiteralFactory(key,literal.entries,entries=>literalArr(entries))}{const expressionForKey=literalMap(literal.entries.map(e=>({key:e.key,value:e.value.isConstant()?e.value:UNKNOWN_VALUE_KEY,quoted:e.quoted}))),key=GenericKeyFn.INSTANCE.keyOf(expressionForKey);return this._getLiteralFactory(key,literal.entries.map(e=>e.value),entries=>literalMap(entries.map((value,index)=>({key:literal.entries[index].key,value,quoted:literal.entries[index].quoted}))))}}getSharedFunctionReference(fn,prefix,useUniqueName=!0){const isArrow=fn instanceof ArrowFunctionExpr;for(const current of this.statements){if(isArrow&&current instanceof DeclareVarStmt&&current.value?.isEquivalent(fn))return variable(current.name);if(!isArrow&&current instanceof DeclareFunctionStmt&&fn instanceof FunctionExpr&&fn.isEquivalent(current))return variable(current.name)}const name=useUniqueName?this.uniqueName(prefix):prefix;return this.statements.push(fn instanceof FunctionExpr?fn.toDeclStmt(name,StmtModifier.Final):new DeclareVarStmt(name,fn,INFERRED_TYPE,StmtModifier.Final,fn.sourceSpan)),variable(name)}_getLiteralFactory(key,values,resultMap){let literalFactory=this.literalFactories.get(key);const literalFactoryArguments=values.filter(e=>!e.isConstant());if(!literalFactory){const resultExpressions=values.map((e,index)=>e.isConstant()?this.getConstLiteral(e,!0):variable(`a${index}`)),pureFunctionDeclaration=arrowFn(resultExpressions.filter(isVariable).map(e=>new FnParam(e.name,DYNAMIC_TYPE)),resultMap(resultExpressions),INFERRED_TYPE),name=this.freshName();this.statements.push(new DeclareVarStmt(name,pureFunctionDeclaration,INFERRED_TYPE,StmtModifier.Final)),literalFactory=variable(name),this.literalFactories.set(key,literalFactory)}return{literalFactory,literalFactoryArguments}}uniqueName(name,alwaysIncludeSuffix=!0){const count=this._claimedNames.get(name)??0,result=0!==count||alwaysIncludeSuffix?`${name}${count}`:`${name}`;return this._claimedNames.set(name,count+1),result}freshName(){return this.uniqueName("_c")}}class GenericKeyFn{static INSTANCE=new GenericKeyFn;keyOf(expr){if(expr instanceof LiteralExpr&&"string"==typeof expr.value)return`"${expr.value}"`;if(expr instanceof LiteralExpr)return String(expr.value);if(expr instanceof LiteralArrayExpr){const entries=[];for(const entry of expr.entries)entries.push(this.keyOf(entry));return`[${entries.join(",")}]`}if(expr instanceof LiteralMapExpr){const entries=[];for(const entry of expr.entries){let key=entry.key;entry.quoted&&(key=`"${key}"`),entries.push(key+":"+this.keyOf(entry.value))}return`{${entries.join(",")}}`}if(expr instanceof ExternalExpr)return`import("${expr.value.moduleName}", ${expr.value.name})`;if(expr instanceof ReadVarExpr)return`read(${expr.name})`;if(expr instanceof TypeofExpr)return`typeof(${this.keyOf(expr.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${expr.constructor.name}`)}}function isVariable(e){return e instanceof ReadVarExpr}function isLongStringLiteral(expr){return expr instanceof LiteralExpr&&"string"==typeof expr.value&&expr.value.length>=50}const CORE="@angular/core";class Identifiers{static NEW_METHOD="factory";static TRANSFORM_METHOD="transform";static PATCH_DEPS="patchedDeps";static core={name:null,moduleName:CORE};static namespaceHTML={name:"ɵɵnamespaceHTML",moduleName:CORE};static namespaceMathML={name:"ɵɵnamespaceMathML",moduleName:CORE};static namespaceSVG={name:"ɵɵnamespaceSVG",moduleName:CORE};static element={name:"ɵɵelement",moduleName:CORE};static elementStart={name:"ɵɵelementStart",moduleName:CORE};static elementEnd={name:"ɵɵelementEnd",moduleName:CORE};static domElement={name:"ɵɵdomElement",moduleName:CORE};static domElementStart={name:"ɵɵdomElementStart",moduleName:CORE};static domElementEnd={name:"ɵɵdomElementEnd",moduleName:CORE};static domElementContainer={name:"ɵɵdomElementContainer",moduleName:CORE};static domElementContainerStart={name:"ɵɵdomElementContainerStart",moduleName:CORE};static domElementContainerEnd={name:"ɵɵdomElementContainerEnd",moduleName:CORE};static domTemplate={name:"ɵɵdomTemplate",moduleName:CORE};static domListener={name:"ɵɵdomListener",moduleName:CORE};static advance={name:"ɵɵadvance",moduleName:CORE};static syntheticHostProperty={name:"ɵɵsyntheticHostProperty",moduleName:CORE};static syntheticHostListener={name:"ɵɵsyntheticHostListener",moduleName:CORE};static attribute={name:"ɵɵattribute",moduleName:CORE};static classProp={name:"ɵɵclassProp",moduleName:CORE};static elementContainerStart={name:"ɵɵelementContainerStart",moduleName:CORE};static elementContainerEnd={name:"ɵɵelementContainerEnd",moduleName:CORE};static elementContainer={name:"ɵɵelementContainer",moduleName:CORE};static styleMap={name:"ɵɵstyleMap",moduleName:CORE};static classMap={name:"ɵɵclassMap",moduleName:CORE};static styleProp={name:"ɵɵstyleProp",moduleName:CORE};static interpolate={name:"ɵɵinterpolate",moduleName:CORE};static interpolate1={name:"ɵɵinterpolate1",moduleName:CORE};static interpolate2={name:"ɵɵinterpolate2",moduleName:CORE};static interpolate3={name:"ɵɵinterpolate3",moduleName:CORE};static interpolate4={name:"ɵɵinterpolate4",moduleName:CORE};static interpolate5={name:"ɵɵinterpolate5",moduleName:CORE};static interpolate6={name:"ɵɵinterpolate6",moduleName:CORE};static interpolate7={name:"ɵɵinterpolate7",moduleName:CORE};static interpolate8={name:"ɵɵinterpolate8",moduleName:CORE};static interpolateV={name:"ɵɵinterpolateV",moduleName:CORE};static nextContext={name:"ɵɵnextContext",moduleName:CORE};static resetView={name:"ɵɵresetView",moduleName:CORE};static templateCreate={name:"ɵɵtemplate",moduleName:CORE};static defer={name:"ɵɵdefer",moduleName:CORE};static deferWhen={name:"ɵɵdeferWhen",moduleName:CORE};static deferOnIdle={name:"ɵɵdeferOnIdle",moduleName:CORE};static deferOnImmediate={name:"ɵɵdeferOnImmediate",moduleName:CORE};static deferOnTimer={name:"ɵɵdeferOnTimer",moduleName:CORE};static deferOnHover={name:"ɵɵdeferOnHover",moduleName:CORE};static deferOnInteraction={name:"ɵɵdeferOnInteraction",moduleName:CORE};static deferOnViewport={name:"ɵɵdeferOnViewport",moduleName:CORE};static deferPrefetchWhen={name:"ɵɵdeferPrefetchWhen",moduleName:CORE};static deferPrefetchOnIdle={name:"ɵɵdeferPrefetchOnIdle",moduleName:CORE};static deferPrefetchOnImmediate={name:"ɵɵdeferPrefetchOnImmediate",moduleName:CORE};static deferPrefetchOnTimer={name:"ɵɵdeferPrefetchOnTimer",moduleName:CORE};static deferPrefetchOnHover={name:"ɵɵdeferPrefetchOnHover",moduleName:CORE};static deferPrefetchOnInteraction={name:"ɵɵdeferPrefetchOnInteraction",moduleName:CORE};static deferPrefetchOnViewport={name:"ɵɵdeferPrefetchOnViewport",moduleName:CORE};static deferHydrateWhen={name:"ɵɵdeferHydrateWhen",moduleName:CORE};static deferHydrateNever={name:"ɵɵdeferHydrateNever",moduleName:CORE};static deferHydrateOnIdle={name:"ɵɵdeferHydrateOnIdle",moduleName:CORE};static deferHydrateOnImmediate={name:"ɵɵdeferHydrateOnImmediate",moduleName:CORE};static deferHydrateOnTimer={name:"ɵɵdeferHydrateOnTimer",moduleName:CORE};static deferHydrateOnHover={name:"ɵɵdeferHydrateOnHover",moduleName:CORE};static deferHydrateOnInteraction={name:"ɵɵdeferHydrateOnInteraction",moduleName:CORE};static deferHydrateOnViewport={name:"ɵɵdeferHydrateOnViewport",moduleName:CORE};static deferEnableTimerScheduling={name:"ɵɵdeferEnableTimerScheduling",moduleName:CORE};static conditionalCreate={name:"ɵɵconditionalCreate",moduleName:CORE};static conditionalBranchCreate={name:"ɵɵconditionalBranchCreate",moduleName:CORE};static conditional={name:"ɵɵconditional",moduleName:CORE};static repeater={name:"ɵɵrepeater",moduleName:CORE};static repeaterCreate={name:"ɵɵrepeaterCreate",moduleName:CORE};static repeaterTrackByIndex={name:"ɵɵrepeaterTrackByIndex",moduleName:CORE};static repeaterTrackByIdentity={name:"ɵɵrepeaterTrackByIdentity",moduleName:CORE};static componentInstance={name:"ɵɵcomponentInstance",moduleName:CORE};static text={name:"ɵɵtext",moduleName:CORE};static enableBindings={name:"ɵɵenableBindings",moduleName:CORE};static disableBindings={name:"ɵɵdisableBindings",moduleName:CORE};static getCurrentView={name:"ɵɵgetCurrentView",moduleName:CORE};static textInterpolate={name:"ɵɵtextInterpolate",moduleName:CORE};static textInterpolate1={name:"ɵɵtextInterpolate1",moduleName:CORE};static textInterpolate2={name:"ɵɵtextInterpolate2",moduleName:CORE};static textInterpolate3={name:"ɵɵtextInterpolate3",moduleName:CORE};static textInterpolate4={name:"ɵɵtextInterpolate4",moduleName:CORE};static textInterpolate5={name:"ɵɵtextInterpolate5",moduleName:CORE};static textInterpolate6={name:"ɵɵtextInterpolate6",moduleName:CORE};static textInterpolate7={name:"ɵɵtextInterpolate7",moduleName:CORE};static textInterpolate8={name:"ɵɵtextInterpolate8",moduleName:CORE};static textInterpolateV={name:"ɵɵtextInterpolateV",moduleName:CORE};static restoreView={name:"ɵɵrestoreView",moduleName:CORE};static pureFunction0={name:"ɵɵpureFunction0",moduleName:CORE};static pureFunction1={name:"ɵɵpureFunction1",moduleName:CORE};static pureFunction2={name:"ɵɵpureFunction2",moduleName:CORE};static pureFunction3={name:"ɵɵpureFunction3",moduleName:CORE};static pureFunction4={name:"ɵɵpureFunction4",moduleName:CORE};static pureFunction5={name:"ɵɵpureFunction5",moduleName:CORE};static pureFunction6={name:"ɵɵpureFunction6",moduleName:CORE};static pureFunction7={name:"ɵɵpureFunction7",moduleName:CORE};static pureFunction8={name:"ɵɵpureFunction8",moduleName:CORE};static pureFunctionV={name:"ɵɵpureFunctionV",moduleName:CORE};static pipeBind1={name:"ɵɵpipeBind1",moduleName:CORE};static pipeBind2={name:"ɵɵpipeBind2",moduleName:CORE};static pipeBind3={name:"ɵɵpipeBind3",moduleName:CORE};static pipeBind4={name:"ɵɵpipeBind4",moduleName:CORE};static pipeBindV={name:"ɵɵpipeBindV",moduleName:CORE};static domProperty={name:"ɵɵdomProperty",moduleName:CORE};static ariaProperty={name:"ɵɵariaProperty",moduleName:CORE};static property={name:"ɵɵproperty",moduleName:CORE};static animationEnterListener={name:"ɵɵanimateEnterListener",moduleName:CORE};static animationLeaveListener={name:"ɵɵanimateLeaveListener",moduleName:CORE};static animationEnter={name:"ɵɵanimateEnter",moduleName:CORE};static animationLeave={name:"ɵɵanimateLeave",moduleName:CORE};static i18n={name:"ɵɵi18n",moduleName:CORE};static i18nAttributes={name:"ɵɵi18nAttributes",moduleName:CORE};static i18nExp={name:"ɵɵi18nExp",moduleName:CORE};static i18nStart={name:"ɵɵi18nStart",moduleName:CORE};static i18nEnd={name:"ɵɵi18nEnd",moduleName:CORE};static i18nApply={name:"ɵɵi18nApply",moduleName:CORE};static i18nPostprocess={name:"ɵɵi18nPostprocess",moduleName:CORE};static pipe={name:"ɵɵpipe",moduleName:CORE};static projection={name:"ɵɵprojection",moduleName:CORE};static projectionDef={name:"ɵɵprojectionDef",moduleName:CORE};static reference={name:"ɵɵreference",moduleName:CORE};static inject={name:"ɵɵinject",moduleName:CORE};static injectAttribute={name:"ɵɵinjectAttribute",moduleName:CORE};static directiveInject={name:"ɵɵdirectiveInject",moduleName:CORE};static invalidFactory={name:"ɵɵinvalidFactory",moduleName:CORE};static invalidFactoryDep={name:"ɵɵinvalidFactoryDep",moduleName:CORE};static templateRefExtractor={name:"ɵɵtemplateRefExtractor",moduleName:CORE};static forwardRef={name:"forwardRef",moduleName:CORE};static resolveForwardRef={name:"resolveForwardRef",moduleName:CORE};static replaceMetadata={name:"ɵɵreplaceMetadata",moduleName:CORE};static getReplaceMetadataURL={name:"ɵɵgetReplaceMetadataURL",moduleName:CORE};static ɵɵdefineInjectable={name:"ɵɵdefineInjectable",moduleName:CORE};static declareInjectable={name:"ɵɵngDeclareInjectable",moduleName:CORE};static InjectableDeclaration={name:"ɵɵInjectableDeclaration",moduleName:CORE};static resolveWindow={name:"ɵɵresolveWindow",moduleName:CORE};static resolveDocument={name:"ɵɵresolveDocument",moduleName:CORE};static resolveBody={name:"ɵɵresolveBody",moduleName:CORE};static getComponentDepsFactory={name:"ɵɵgetComponentDepsFactory",moduleName:CORE};static defineComponent={name:"ɵɵdefineComponent",moduleName:CORE};static declareComponent={name:"ɵɵngDeclareComponent",moduleName:CORE};static setComponentScope={name:"ɵɵsetComponentScope",moduleName:CORE};static ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:CORE};static ViewEncapsulation={name:"ViewEncapsulation",moduleName:CORE};static ComponentDeclaration={name:"ɵɵComponentDeclaration",moduleName:CORE};static FactoryDeclaration={name:"ɵɵFactoryDeclaration",moduleName:CORE};static declareFactory={name:"ɵɵngDeclareFactory",moduleName:CORE};static FactoryTarget={name:"ɵɵFactoryTarget",moduleName:CORE};static defineDirective={name:"ɵɵdefineDirective",moduleName:CORE};static declareDirective={name:"ɵɵngDeclareDirective",moduleName:CORE};static DirectiveDeclaration={name:"ɵɵDirectiveDeclaration",moduleName:CORE};static InjectorDef={name:"ɵɵInjectorDef",moduleName:CORE};static InjectorDeclaration={name:"ɵɵInjectorDeclaration",moduleName:CORE};static defineInjector={name:"ɵɵdefineInjector",moduleName:CORE};static declareInjector={name:"ɵɵngDeclareInjector",moduleName:CORE};static NgModuleDeclaration={name:"ɵɵNgModuleDeclaration",moduleName:CORE};static ModuleWithProviders={name:"ModuleWithProviders",moduleName:CORE};static defineNgModule={name:"ɵɵdefineNgModule",moduleName:CORE};static declareNgModule={name:"ɵɵngDeclareNgModule",moduleName:CORE};static setNgModuleScope={name:"ɵɵsetNgModuleScope",moduleName:CORE};static registerNgModuleType={name:"ɵɵregisterNgModuleType",moduleName:CORE};static PipeDeclaration={name:"ɵɵPipeDeclaration",moduleName:CORE};static definePipe={name:"ɵɵdefinePipe",moduleName:CORE};static declarePipe={name:"ɵɵngDeclarePipe",moduleName:CORE};static declareClassMetadata={name:"ɵɵngDeclareClassMetadata",moduleName:CORE};static declareClassMetadataAsync={name:"ɵɵngDeclareClassMetadataAsync",moduleName:CORE};static setClassMetadata={name:"ɵsetClassMetadata",moduleName:CORE};static setClassMetadataAsync={name:"ɵsetClassMetadataAsync",moduleName:CORE};static setClassDebugInfo={name:"ɵsetClassDebugInfo",moduleName:CORE};static queryRefresh={name:"ɵɵqueryRefresh",moduleName:CORE};static viewQuery={name:"ɵɵviewQuery",moduleName:CORE};static loadQuery={name:"ɵɵloadQuery",moduleName:CORE};static contentQuery={name:"ɵɵcontentQuery",moduleName:CORE};static viewQuerySignal={name:"ɵɵviewQuerySignal",moduleName:CORE};static contentQuerySignal={name:"ɵɵcontentQuerySignal",moduleName:CORE};static queryAdvance={name:"ɵɵqueryAdvance",moduleName:CORE};static twoWayProperty={name:"ɵɵtwoWayProperty",moduleName:CORE};static twoWayBindingSet={name:"ɵɵtwoWayBindingSet",moduleName:CORE};static twoWayListener={name:"ɵɵtwoWayListener",moduleName:CORE};static declareLet={name:"ɵɵdeclareLet",moduleName:CORE};static storeLet={name:"ɵɵstoreLet",moduleName:CORE};static readContextLet={name:"ɵɵreadContextLet",moduleName:CORE};static attachSourceLocations={name:"ɵɵattachSourceLocations",moduleName:CORE};static NgOnChangesFeature={name:"ɵɵNgOnChangesFeature",moduleName:CORE};static InheritDefinitionFeature={name:"ɵɵInheritDefinitionFeature",moduleName:CORE};static CopyDefinitionFeature={name:"ɵɵCopyDefinitionFeature",moduleName:CORE};static ProvidersFeature={name:"ɵɵProvidersFeature",moduleName:CORE};static HostDirectivesFeature={name:"ɵɵHostDirectivesFeature",moduleName:CORE};static ExternalStylesFeature={name:"ɵɵExternalStylesFeature",moduleName:CORE};static listener={name:"ɵɵlistener",moduleName:CORE};static getInheritedFactory={name:"ɵɵgetInheritedFactory",moduleName:CORE};static sanitizeHtml={name:"ɵɵsanitizeHtml",moduleName:CORE};static sanitizeStyle={name:"ɵɵsanitizeStyle",moduleName:CORE};static validateAttribute={name:"ɵɵvalidateAttribute",moduleName:CORE};static sanitizeResourceUrl={name:"ɵɵsanitizeResourceUrl",moduleName:CORE};static sanitizeScript={name:"ɵɵsanitizeScript",moduleName:CORE};static sanitizeUrl={name:"ɵɵsanitizeUrl",moduleName:CORE};static sanitizeUrlOrResourceUrl={name:"ɵɵsanitizeUrlOrResourceUrl",moduleName:CORE};static trustConstantHtml={name:"ɵɵtrustConstantHtml",moduleName:CORE};static trustConstantResourceUrl={name:"ɵɵtrustConstantResourceUrl",moduleName:CORE};static inputDecorator={name:"Input",moduleName:CORE};static outputDecorator={name:"Output",moduleName:CORE};static viewChildDecorator={name:"ViewChild",moduleName:CORE};static viewChildrenDecorator={name:"ViewChildren",moduleName:CORE};static contentChildDecorator={name:"ContentChild",moduleName:CORE};static contentChildrenDecorator={name:"ContentChildren",moduleName:CORE};static InputSignalBrandWriteType={name:"ɵINPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:CORE};static UnwrapDirectiveSignalInputs={name:"ɵUnwrapDirectiveSignalInputs",moduleName:CORE};static unwrapWritableSignal={name:"ɵunwrapWritableSignal",moduleName:CORE};static assertType={name:"ɵassertType",moduleName:CORE}}const DASH_CASE_REGEXP=/-+([a-z0-9])/g;function _splitAt(input,character,defaultValues){const characterIndex=input.indexOf(character);return-1==characterIndex?defaultValues:[input.slice(0,characterIndex).trim(),input.slice(characterIndex+1).trim()]}function stringify(token){if("string"==typeof token)return token;if(Array.isArray(token))return`[${token.map(stringify).join(", ")}]`;if(null==token)return""+token;const name=token.overriddenName||token.name;if(name)return`${name}`;if(!token.toString)return"object";const result=token.toString();if(null==result)return""+result;const newLineIndex=result.indexOf("\n");return newLineIndex>=0?result.slice(0,newLineIndex):result}const _global=globalThis,V1_TO_18=/^([1-9]|1[0-8])\./;function getJitStandaloneDefaultForVersion(version){return!!version.startsWith("0.")||!V1_TO_18.test(version)}class SourceMapGenerator{file;sourcesContent=new Map;lines=[];lastCol0=0;hasMappings=!1;constructor(file=null){this.file=file}addSource(url,content=null){return this.sourcesContent.has(url)||this.sourcesContent.set(url,content),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(col0,sourceUrl,sourceLine0,sourceCol0){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=sourceUrl&&!this.sourcesContent.has(sourceUrl))throw new Error(`Unknown source file "${sourceUrl}"`);if(null==col0)throw new Error("The column in the generated code must be provided");if(col0<this.lastCol0)throw new Error("Mapping should be added in output order");if(sourceUrl&&(null==sourceLine0||null==sourceCol0))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=col0,this.currentLine.push({col0,sourceUrl,sourceLine0,sourceCol0}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;const sourcesIndex=new Map,sources=[],sourcesContent=[];Array.from(this.sourcesContent.keys()).forEach((url,i)=>{sourcesIndex.set(url,i),sources.push(url),sourcesContent.push(this.sourcesContent.get(url)||null)});let mappings="",lastCol0=0,lastSourceIndex=0,lastSourceLine0=0,lastSourceCol0=0;return this.lines.forEach(segments=>{lastCol0=0,mappings+=segments.map(segment=>{let segAsStr=toBase64VLQ(segment.col0-lastCol0);return lastCol0=segment.col0,null!=segment.sourceUrl&&(segAsStr+=toBase64VLQ(sourcesIndex.get(segment.sourceUrl)-lastSourceIndex),lastSourceIndex=sourcesIndex.get(segment.sourceUrl),segAsStr+=toBase64VLQ(segment.sourceLine0-lastSourceLine0),lastSourceLine0=segment.sourceLine0,segAsStr+=toBase64VLQ(segment.sourceCol0-lastSourceCol0),lastSourceCol0=segment.sourceCol0),segAsStr}).join(","),mappings+=";"}),mappings=mappings.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources,sourcesContent,mappings}}toJsComment(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function toBase64String(value){let b64="";const encoded=function utf8Encode(str){let encoded=[];for(let index=0;index<str.length;index++){let codePoint=str.charCodeAt(index);if(codePoint>=55296&&codePoint<=56319&&str.length>index+1){const low=str.charCodeAt(index+1);low>=56320&&low<=57343&&(index++,codePoint=(codePoint-55296<<10)+low-56320+65536)}codePoint<=127?encoded.push(codePoint):codePoint<=2047?encoded.push(codePoint>>6&31|192,63&codePoint|128):codePoint<=65535?encoded.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128):codePoint<=2097151&&encoded.push(codePoint>>18&7|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}return encoded}(value);for(let i=0;i<encoded.length;){const i1=encoded[i++],i2=i<encoded.length?encoded[i++]:null,i3=i<encoded.length?encoded[i++]:null;b64+=toBase64Digit(i1>>2),b64+=toBase64Digit((3&i1)<<4|(null===i2?0:i2>>4)),b64+=null===i2?"=":toBase64Digit((15&i2)<<2|(null===i3?0:i3>>6)),b64+=null===i2||null===i3?"=":toBase64Digit(63&i3)}return b64}(JSON.stringify(this,null,0)):""}}function toBase64VLQ(value){value=value<0?1+(-value<<1):value<<1;let out="";do{let digit=31&value;(value>>=5)>0&&(digit|=32),out+=toBase64Digit(digit)}while(value>0);return out}const B64_DIGITS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function toBase64Digit(value){if(value<0||value>=64)throw new Error("Can only encode value in the range [0, 63]");return B64_DIGITS[value]}const _SINGLE_QUOTE_ESCAPE_STRING_RE=/'|\\|\n|\r|\$/g,_LEGAL_IDENTIFIER_RE=/^[$A-Z_][0-9A-Z_$]*$/i;class _EmittedLine{indent;partsLength=0;parts=[];srcSpans=[];constructor(indent){this.indent=indent}}const BINARY_OPERATORS$1=new Map([[BinaryOperator.And,"&&"],[BinaryOperator.Bigger,">"],[BinaryOperator.BiggerEquals,">="],[BinaryOperator.BitwiseOr,"|"],[BinaryOperator.BitwiseAnd,"&"],[BinaryOperator.Divide,"/"],[BinaryOperator.Assign,"="],[BinaryOperator.Equals,"=="],[BinaryOperator.Identical,"==="],[BinaryOperator.Lower,"<"],[BinaryOperator.LowerEquals,"<="],[BinaryOperator.Minus,"-"],[BinaryOperator.Modulo,"%"],[BinaryOperator.Exponentiation,"**"],[BinaryOperator.Multiply,"*"],[BinaryOperator.NotEquals,"!="],[BinaryOperator.NotIdentical,"!=="],[BinaryOperator.NullishCoalesce,"??"],[BinaryOperator.Or,"||"],[BinaryOperator.Plus,"+"],[BinaryOperator.In,"in"],[BinaryOperator.AdditionAssignment,"+="],[BinaryOperator.SubtractionAssignment,"-="],[BinaryOperator.MultiplicationAssignment,"*="],[BinaryOperator.DivisionAssignment,"/="],[BinaryOperator.RemainderAssignment,"%="],[BinaryOperator.ExponentiationAssignment,"**="],[BinaryOperator.AndAssignment,"&&="],[BinaryOperator.OrAssignment,"||="],[BinaryOperator.NullishCoalesceAssignment,"??="]]);class EmitterVisitorContext{_indent;static createRoot(){return new EmitterVisitorContext(0)}_lines;constructor(_indent){this._indent=_indent,this._lines=[new _EmittedLine(_indent)]}get _currentLine(){return this._lines[this._lines.length-1]}println(from,lastPart=""){this.print(from||null,lastPart,!0)}lineIsEmpty(){return 0===this._currentLine.parts.length}lineLength(){return 2*this._currentLine.indent+this._currentLine.partsLength}print(from,part,newLine=!1){part.length>0&&(this._currentLine.parts.push(part),this._currentLine.partsLength+=part.length,this._currentLine.srcSpans.push(from&&from.sourceSpan||null)),newLine&&this._lines.push(new _EmittedLine(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(l=>l.parts.length>0?_createIndent(l.indent)+l.parts.join(""):"").join("\n")}toSourceMapGenerator(genFilePath,startsAtLine=0){const map=new SourceMapGenerator(genFilePath);let firstOffsetMapped=!1;const mapFirstOffsetIfNeeded=()=>{firstOffsetMapped||(map.addSource(genFilePath," ").addMapping(0,genFilePath,0,0),firstOffsetMapped=!0)};for(let i=0;i<startsAtLine;i++)map.addLine(),mapFirstOffsetIfNeeded();return this.sourceLines.forEach((line,lineIdx)=>{map.addLine();const spans=line.srcSpans,parts=line.parts;let col0=2*line.indent,spanIdx=0;for(;spanIdx<spans.length&&!spans[spanIdx];)col0+=parts[spanIdx].length,spanIdx++;for(spanIdx<spans.length&&0===lineIdx&&0===col0?firstOffsetMapped=!0:mapFirstOffsetIfNeeded();spanIdx<spans.length;){const span=spans[spanIdx],source=span.start.file,sourceLine=span.start.line,sourceCol=span.start.col;for(map.addSource(source.url,source.content).addMapping(col0,source.url,sourceLine,sourceCol),col0+=parts[spanIdx].length,spanIdx++;spanIdx<spans.length&&(span===spans[spanIdx]||!spans[spanIdx]);)col0+=parts[spanIdx].length,spanIdx++}}),map}spanOf(line,column){const emittedLine=this._lines[line];if(emittedLine){let columnsLeft=column-_createIndent(emittedLine.indent).length;for(let partIndex=0;partIndex<emittedLine.parts.length;partIndex++){const part=emittedLine.parts[partIndex];if(part.length>columnsLeft)return emittedLine.srcSpans[partIndex];columnsLeft-=part.length}}return null}get sourceLines(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}class AbstractEmitterVisitor{_escapeDollarInStrings;lastIfCondition=null;constructor(_escapeDollarInStrings){this._escapeDollarInStrings=_escapeDollarInStrings}printLeadingComments(stmt,ctx){if(void 0!==stmt.leadingComments)for(const comment of stmt.leadingComments)comment instanceof JSDocComment?ctx.print(stmt,`/*${comment.toString()}*/`,comment.trailingNewline):comment.multiline?ctx.print(stmt,`/* ${comment.text} */`,comment.trailingNewline):comment.text.split("\n").forEach(line=>{ctx.println(stmt,`// ${line}`)})}visitExpressionStmt(stmt,ctx){return this.printLeadingComments(stmt,ctx),stmt.expr.visitExpression(this,ctx),ctx.println(stmt,";"),null}visitReturnStmt(stmt,ctx){return this.printLeadingComments(stmt,ctx),ctx.print(stmt,"return "),stmt.value.visitExpression(this,ctx),ctx.println(stmt,";"),null}visitIfStmt(stmt,ctx){this.printLeadingComments(stmt,ctx),ctx.print(stmt,"if ("),this.lastIfCondition=stmt.condition,stmt.condition.visitExpression(this,ctx),this.lastIfCondition=null,ctx.print(stmt,") {");const hasElseCase=null!=stmt.falseCase&&stmt.falseCase.length>0;return stmt.trueCase.length<=1&&!hasElseCase?(ctx.print(stmt," "),this.visitAllStatements(stmt.trueCase,ctx),ctx.removeEmptyLastLine(),ctx.print(stmt," ")):(ctx.println(),ctx.incIndent(),this.visitAllStatements(stmt.trueCase,ctx),ctx.decIndent(),hasElseCase&&(ctx.println(stmt,"} else {"),ctx.incIndent(),this.visitAllStatements(stmt.falseCase,ctx),ctx.decIndent())),ctx.println(stmt,"}"),null}visitInvokeFunctionExpr(expr,ctx){const shouldParenthesize=expr.fn instanceof ArrowFunctionExpr;return shouldParenthesize&&ctx.print(expr.fn,"("),expr.fn.visitExpression(this,ctx),shouldParenthesize&&ctx.print(expr.fn,")"),ctx.print(expr,"("),this.visitAllExpressions(expr.args,ctx,","),ctx.print(expr,")"),null}visitTaggedTemplateLiteralExpr(expr,ctx){return expr.tag.visitExpression(this,ctx),expr.template.visitExpression(this,ctx),null}visitTemplateLiteralExpr(expr,ctx){ctx.print(expr,"`");for(let i=0;i<expr.elements.length;i++){expr.elements[i].visitExpression(this,ctx);const expression=i<expr.expressions.length?expr.expressions[i]:null;null!==expression&&(ctx.print(expression,"${"),expression.visitExpression(this,ctx),ctx.print(expression,"}"))}ctx.print(expr,"`")}visitTemplateLiteralElementExpr(expr,ctx){ctx.print(expr,expr.rawText)}visitWrappedNodeExpr(ast,ctx){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(expr,ctx){ctx.print(expr,"typeof "),expr.expr.visitExpression(this,ctx)}visitVoidExpr(expr,ctx){ctx.print(expr,"void "),expr.expr.visitExpression(this,ctx)}visitReadVarExpr(ast,ctx){return ctx.print(ast,ast.name),null}visitInstantiateExpr(ast,ctx){return ctx.print(ast,"new "),ast.classExpr.visitExpression(this,ctx),ctx.print(ast,"("),this.visitAllExpressions(ast.args,ctx,","),ctx.print(ast,")"),null}visitLiteralExpr(ast,ctx){const value=ast.value;return"string"==typeof value?ctx.print(ast,escapeIdentifier(value,this._escapeDollarInStrings)):ctx.print(ast,`${value}`),null}visitLocalizedString(ast,ctx){const head=ast.serializeI18nHead();ctx.print(ast,"$localize `"+head.raw);for(let i=1;i<ast.messageParts.length;i++)ctx.print(ast,"${"),ast.expressions[i-1].visitExpression(this,ctx),ctx.print(ast,`}${ast.serializeI18nTemplatePart(i).raw}`);return ctx.print(ast,"`"),null}visitConditionalExpr(ast,ctx){return ctx.print(ast,"("),ast.condition.visitExpression(this,ctx),ctx.print(ast,"? "),ast.trueCase.visitExpression(this,ctx),ctx.print(ast,": "),ast.falseCase.visitExpression(this,ctx),ctx.print(ast,")"),null}visitDynamicImportExpr(ast,ctx){ctx.print(ast,`import(${ast.url})`)}visitNotExpr(ast,ctx){return ctx.print(ast,"!"),ast.condition.visitExpression(this,ctx),null}visitUnaryOperatorExpr(ast,ctx){let opStr;switch(ast.operator){case UnaryOperator.Plus:opStr="+";break;case UnaryOperator.Minus:opStr="-";break;default:throw new Error(`Unknown operator ${ast.operator}`)}const parens=ast!==this.lastIfCondition;return parens&&ctx.print(ast,"("),ctx.print(ast,opStr),ast.expr.visitExpression(this,ctx),parens&&ctx.print(ast,")"),null}visitBinaryOperatorExpr(ast,ctx){const operator=BINARY_OPERATORS$1.get(ast.operator);if(!operator)throw new Error(`Unknown operator ${ast.operator}`);const parens=ast!==this.lastIfCondition;return parens&&ctx.print(ast,"("),ast.lhs.visitExpression(this,ctx),ctx.print(ast,` ${operator} `),ast.rhs.visitExpression(this,ctx),parens&&ctx.print(ast,")"),null}visitReadPropExpr(ast,ctx){return ast.receiver.visitExpression(this,ctx),ctx.print(ast,"."),ctx.print(ast,ast.name),null}visitReadKeyExpr(ast,ctx){return ast.receiver.visitExpression(this,ctx),ctx.print(ast,"["),ast.index.visitExpression(this,ctx),ctx.print(ast,"]"),null}visitLiteralArrayExpr(ast,ctx){return ctx.print(ast,"["),this.visitAllExpressions(ast.entries,ctx,","),ctx.print(ast,"]"),null}visitLiteralMapExpr(ast,ctx){return ctx.print(ast,"{"),this.visitAllObjects(entry=>{ctx.print(ast,`${escapeIdentifier(entry.key,this._escapeDollarInStrings,entry.quoted)}:`),entry.value.visitExpression(this,ctx)},ast.entries,ctx,","),ctx.print(ast,"}"),null}visitCommaExpr(ast,ctx){return ctx.print(ast,"("),this.visitAllExpressions(ast.parts,ctx,","),ctx.print(ast,")"),null}visitParenthesizedExpr(ast,ctx){ast.expr.visitExpression(this,ctx)}visitAllExpressions(expressions,ctx,separator){this.visitAllObjects(expr=>expr.visitExpression(this,ctx),expressions,ctx,separator)}visitAllObjects(handler,expressions,ctx,separator){let incrementedIndent=!1;for(let i=0;i<expressions.length;i++)i>0&&(ctx.lineLength()>80?(ctx.print(null,separator,!0),incrementedIndent||(ctx.incIndent(),ctx.incIndent(),incrementedIndent=!0)):ctx.print(null,separator,!1)),handler(expressions[i]);incrementedIndent&&(ctx.decIndent(),ctx.decIndent())}visitAllStatements(statements,ctx){statements.forEach(stmt=>stmt.visitStatement(this,ctx))}}function escapeIdentifier(input,escapeDollar,alwaysQuote=!0){if(null==input)return null;const body=input.replace(_SINGLE_QUOTE_ESCAPE_STRING_RE,(...match)=>"$"==match[0]?escapeDollar?"\\$":"$":"\n"==match[0]?"\\n":"\r"==match[0]?"\\r":`\\${match[0]}`);return alwaysQuote||!_LEGAL_IDENTIFIER_RE.test(body)?`'${body}'`:body}function _createIndent(count){let res="";for(let i=0;i<count;i++)res+="  ";return res}function typeWithParameters(type,numParams){if(0===numParams)return expressionType(type);const params=[];for(let i=0;i<numParams;i++)params.push(DYNAMIC_TYPE);return expressionType(type,void 0,params)}function getSafePropertyAccessString(accessor,name){const escapedName=escapeIdentifier(name,!1,!1);return escapedName!==name?`${accessor}[${escapedName}]`:`${accessor}.${name}`}function guardedExpression(guard,expr){const guardExpr=new ExternalExpr({name:guard,moduleName:null}),guardNotDefined=new BinaryOperatorExpr(BinaryOperator.Identical,new TypeofExpr(guardExpr),literal("undefined")),guardUndefinedOrTrue=new BinaryOperatorExpr(BinaryOperator.Or,guardNotDefined,guardExpr,void 0,void 0);return new BinaryOperatorExpr(BinaryOperator.And,guardUndefinedOrTrue,expr)}function wrapReference(value){const wrapped=new WrappedNodeExpr(value);return{value:wrapped,type:wrapped}}function refsToArray(refs,shouldForwardDeclare){const values=literalArr(refs.map(ref=>ref.value));return shouldForwardDeclare?arrowFn([],values):values}function createMayBeForwardRefExpression(expression,forwardRef){return{expression,forwardRef}}function convertFromMaybeForwardRefExpression({expression,forwardRef}){switch(forwardRef){case 0:case 1:return expression;case 2:return generateForwardRef(expression)}}function generateForwardRef(expr){return importExpr(Identifiers.forwardRef).callFn([arrowFn([],expr)])}var R3FactoryDelegateType;function compileFactoryFunction(meta){const t=variable("__ngFactoryType__");let baseFactoryVar=null;const typeForCtor=isDelegatedFactoryMetadata(meta)?t:new BinaryOperatorExpr(BinaryOperator.Or,t,meta.type.value);let ctorExpr=null;null!==meta.deps?"invalid"!==meta.deps&&(ctorExpr=new InstantiateExpr(typeForCtor,injectDependencies(meta.deps,meta.target))):(baseFactoryVar=variable(`ɵ${meta.name}_BaseFactory`),ctorExpr=baseFactoryVar.callFn([typeForCtor]));const body=[];let retExpr=null;function makeConditionalFactory(nonCtorExpr){const r=variable("__ngConditionalFactory__");body.push(new DeclareVarStmt(r.name,NULL_EXPR,INFERRED_TYPE));const ctorStmt=null!==ctorExpr?r.set(ctorExpr).toStmt():importExpr(Identifiers.invalidFactory).callFn([]).toStmt();return body.push(ifStmt(t,[ctorStmt],[r.set(nonCtorExpr).toStmt()])),r}if(isDelegatedFactoryMetadata(meta)){const delegateArgs=injectDependencies(meta.delegateDeps,meta.target);retExpr=makeConditionalFactory(new(meta.delegateType===R3FactoryDelegateType.Class?InstantiateExpr:InvokeFunctionExpr)(meta.delegate,delegateArgs))}else retExpr=function isExpressionFactoryMetadata(meta){return void 0!==meta.expression}(meta)?makeConditionalFactory(meta.expression):ctorExpr;if(null===retExpr)body.push(importExpr(Identifiers.invalidFactory).callFn([]).toStmt());else if(null!==baseFactoryVar){const getInheritedFactoryCall=importExpr(Identifiers.getInheritedFactory).callFn([meta.type.value]),baseFactory=new BinaryOperatorExpr(BinaryOperator.Or,baseFactoryVar,baseFactoryVar.set(getInheritedFactoryCall));body.push(new ReturnStatement(baseFactory.callFn([typeForCtor])))}else body.push(new ReturnStatement(retExpr));let factoryFn=fn([new FnParam(t.name,DYNAMIC_TYPE)],body,INFERRED_TYPE,void 0,`${meta.name}_Factory`);return null!==baseFactoryVar&&(factoryFn=arrowFn([],[new DeclareVarStmt(baseFactoryVar.name),new ReturnStatement(factoryFn)]).callFn([],void 0,!0)),{expression:factoryFn,statements:[],type:createFactoryType(meta)}}function createFactoryType(meta){const ctorDepsType=null!==meta.deps&&"invalid"!==meta.deps?function createCtorDepsType(deps){let hasTypes=!1;const attributeTypes=deps.map(dep=>{const type=function createCtorDepType(dep){const entries=[];null!==dep.attributeNameType&&entries.push({key:"attribute",value:dep.attributeNameType,quoted:!1});dep.optional&&entries.push({key:"optional",value:literal(!0),quoted:!1});dep.host&&entries.push({key:"host",value:literal(!0),quoted:!1});dep.self&&entries.push({key:"self",value:literal(!0),quoted:!1});dep.skipSelf&&entries.push({key:"skipSelf",value:literal(!0),quoted:!1});return entries.length>0?literalMap(entries):null}(dep);return null!==type?(hasTypes=!0,type):literal(null)});return hasTypes?expressionType(literalArr(attributeTypes)):NONE_TYPE}(meta.deps):NONE_TYPE;return expressionType(importExpr(Identifiers.FactoryDeclaration,[typeWithParameters(meta.type.type,meta.typeArgumentCount),ctorDepsType]))}function injectDependencies(deps,target){return deps.map((dep,index)=>function compileInjectDependency(dep,target,index){if(null===dep.token)return importExpr(Identifiers.invalidFactoryDep).callFn([literal(index)]);if(null===dep.attributeNameType){const flags=(dep.self?2:0)|(dep.skipSelf?4:0)|(dep.host?1:0)|(dep.optional?8:0)|(target===FactoryTarget.Pipe?16:0);let flagsParam=0!==flags||dep.optional?literal(flags):null;const injectArgs=[dep.token];flagsParam&&injectArgs.push(flagsParam);const injectFn=function getInjectFn(target){switch(target){case FactoryTarget.Component:case FactoryTarget.Directive:case FactoryTarget.Pipe:return Identifiers.directiveInject;case FactoryTarget.NgModule:case FactoryTarget.Injectable:default:return Identifiers.inject}}(target);return importExpr(injectFn).callFn(injectArgs)}return importExpr(Identifiers.injectAttribute).callFn([dep.token])}(dep,target,index))}function isDelegatedFactoryMetadata(meta){return void 0!==meta.delegateType}!function(R3FactoryDelegateType){R3FactoryDelegateType[R3FactoryDelegateType.Class=0]="Class",R3FactoryDelegateType[R3FactoryDelegateType.Function=1]="Function"}(R3FactoryDelegateType||(R3FactoryDelegateType={}));class ParseSpan{start;end;constructor(start,end){this.start=start,this.end=end}toAbsolute(absoluteOffset){return new AbsoluteSourceSpan(absoluteOffset+this.start,absoluteOffset+this.end)}}class AST{span;sourceSpan;constructor(span,sourceSpan){this.span=span,this.sourceSpan=sourceSpan}toString(){return"AST"}}class ASTWithName extends AST{nameSpan;constructor(span,sourceSpan,nameSpan){super(span,sourceSpan),this.nameSpan=nameSpan}}let EmptyExpr$1=class EmptyExpr extends AST{visit(visitor,context=null){}};class ImplicitReceiver extends AST{visit(visitor,context=null){return visitor.visitImplicitReceiver(this,context)}}class ThisReceiver extends ImplicitReceiver{visit(visitor,context=null){return visitor.visitThisReceiver?.(this,context)}}class Chain extends AST{expressions;constructor(span,sourceSpan,expressions){super(span,sourceSpan),this.expressions=expressions}visit(visitor,context=null){return visitor.visitChain(this,context)}}class Conditional extends AST{condition;trueExp;falseExp;constructor(span,sourceSpan,condition,trueExp,falseExp){super(span,sourceSpan),this.condition=condition,this.trueExp=trueExp,this.falseExp=falseExp}visit(visitor,context=null){return visitor.visitConditional(this,context)}}class PropertyRead extends ASTWithName{receiver;name;constructor(span,sourceSpan,nameSpan,receiver,name){super(span,sourceSpan,nameSpan),this.receiver=receiver,this.name=name}visit(visitor,context=null){return visitor.visitPropertyRead(this,context)}}class SafePropertyRead extends ASTWithName{receiver;name;constructor(span,sourceSpan,nameSpan,receiver,name){super(span,sourceSpan,nameSpan),this.receiver=receiver,this.name=name}visit(visitor,context=null){return visitor.visitSafePropertyRead(this,context)}}class KeyedRead extends AST{receiver;key;constructor(span,sourceSpan,receiver,key){super(span,sourceSpan),this.receiver=receiver,this.key=key}visit(visitor,context=null){return visitor.visitKeyedRead(this,context)}}class SafeKeyedRead extends AST{receiver;key;constructor(span,sourceSpan,receiver,key){super(span,sourceSpan),this.receiver=receiver,this.key=key}visit(visitor,context=null){return visitor.visitSafeKeyedRead(this,context)}}var BindingPipeType;!function(BindingPipeType){BindingPipeType[BindingPipeType.ReferencedByName=0]="ReferencedByName",BindingPipeType[BindingPipeType.ReferencedDirectly=1]="ReferencedDirectly"}(BindingPipeType||(BindingPipeType={}));class BindingPipe extends ASTWithName{exp;name;args;type;constructor(span,sourceSpan,exp,name,args,type,nameSpan){super(span,sourceSpan,nameSpan),this.exp=exp,this.name=name,this.args=args,this.type=type}visit(visitor,context=null){return visitor.visitPipe(this,context)}}class LiteralPrimitive extends AST{value;constructor(span,sourceSpan,value){super(span,sourceSpan),this.value=value}visit(visitor,context=null){return visitor.visitLiteralPrimitive(this,context)}}class LiteralArray extends AST{expressions;constructor(span,sourceSpan,expressions){super(span,sourceSpan),this.expressions=expressions}visit(visitor,context=null){return visitor.visitLiteralArray(this,context)}}class LiteralMap extends AST{keys;values;constructor(span,sourceSpan,keys,values){super(span,sourceSpan),this.keys=keys,this.values=values}visit(visitor,context=null){return visitor.visitLiteralMap(this,context)}}let Interpolation$1=class Interpolation extends AST{strings;expressions;constructor(span,sourceSpan,strings,expressions){super(span,sourceSpan),this.strings=strings,this.expressions=expressions}visit(visitor,context=null){return visitor.visitInterpolation(this,context)}};class Binary extends AST{operation;left;right;constructor(span,sourceSpan,operation,left,right){super(span,sourceSpan),this.operation=operation,this.left=left,this.right=right}visit(visitor,context=null){return visitor.visitBinary(this,context)}static isAssignmentOperation(op){return"="===op||"+="===op||"-="===op||"*="===op||"/="===op||"%="===op||"**="===op||"&&="===op||"||="===op||"??="===op}}class Unary extends Binary{operator;expr;left=null;right=null;operation=null;static createMinus(span,sourceSpan,expr){return new Unary(span,sourceSpan,"-",expr,"-",new LiteralPrimitive(span,sourceSpan,0),expr)}static createPlus(span,sourceSpan,expr){return new Unary(span,sourceSpan,"+",expr,"-",expr,new LiteralPrimitive(span,sourceSpan,0))}constructor(span,sourceSpan,operator,expr,binaryOp,binaryLeft,binaryRight){super(span,sourceSpan,binaryOp,binaryLeft,binaryRight),this.operator=operator,this.expr=expr}visit(visitor,context=null){return void 0!==visitor.visitUnary?visitor.visitUnary(this,context):visitor.visitBinary(this,context)}}class PrefixNot extends AST{expression;constructor(span,sourceSpan,expression){super(span,sourceSpan),this.expression=expression}visit(visitor,context=null){return visitor.visitPrefixNot(this,context)}}class TypeofExpression extends AST{expression;constructor(span,sourceSpan,expression){super(span,sourceSpan),this.expression=expression}visit(visitor,context=null){return visitor.visitTypeofExpression(this,context)}}class VoidExpression extends AST{expression;constructor(span,sourceSpan,expression){super(span,sourceSpan),this.expression=expression}visit(visitor,context=null){return visitor.visitVoidExpression(this,context)}}class NonNullAssert extends AST{expression;constructor(span,sourceSpan,expression){super(span,sourceSpan),this.expression=expression}visit(visitor,context=null){return visitor.visitNonNullAssert(this,context)}}class Call extends AST{receiver;args;argumentSpan;constructor(span,sourceSpan,receiver,args,argumentSpan){super(span,sourceSpan),this.receiver=receiver,this.args=args,this.argumentSpan=argumentSpan}visit(visitor,context=null){return visitor.visitCall(this,context)}}class SafeCall extends AST{receiver;args;argumentSpan;constructor(span,sourceSpan,receiver,args,argumentSpan){super(span,sourceSpan),this.receiver=receiver,this.args=args,this.argumentSpan=argumentSpan}visit(visitor,context=null){return visitor.visitSafeCall(this,context)}}class TaggedTemplateLiteral extends AST{tag;template;constructor(span,sourceSpan,tag,template){super(span,sourceSpan),this.tag=tag,this.template=template}visit(visitor,context){return visitor.visitTaggedTemplateLiteral(this,context)}}class TemplateLiteral extends AST{elements;expressions;constructor(span,sourceSpan,elements,expressions){super(span,sourceSpan),this.elements=elements,this.expressions=expressions}visit(visitor,context){return visitor.visitTemplateLiteral(this,context)}}class TemplateLiteralElement extends AST{text;constructor(span,sourceSpan,text){super(span,sourceSpan),this.text=text}visit(visitor,context){return visitor.visitTemplateLiteralElement(this,context)}}class ParenthesizedExpression extends AST{expression;constructor(span,sourceSpan,expression){super(span,sourceSpan),this.expression=expression}visit(visitor,context){return visitor.visitParenthesizedExpression(this,context)}}class AbsoluteSourceSpan{start;end;constructor(start,end){this.start=start,this.end=end}}class ASTWithSource extends AST{ast;source;location;errors;constructor(ast,source,location,absoluteOffset,errors){super(new ParseSpan(0,null===source?0:source.length),new AbsoluteSourceSpan(absoluteOffset,null===source?absoluteOffset:absoluteOffset+source.length)),this.ast=ast,this.source=source,this.location=location,this.errors=errors}visit(visitor,context=null){return visitor.visitASTWithSource?visitor.visitASTWithSource(this,context):this.ast.visit(visitor,context)}toString(){return`${this.source} in ${this.location}`}}class VariableBinding{sourceSpan;key;value;constructor(sourceSpan,key,value){this.sourceSpan=sourceSpan,this.key=key,this.value=value}}class ExpressionBinding{sourceSpan;key;value;constructor(sourceSpan,key,value){this.sourceSpan=sourceSpan,this.key=key,this.value=value}}class RecursiveAstVisitor{visit(ast,context){ast.visit(this,context)}visitUnary(ast,context){this.visit(ast.expr,context)}visitBinary(ast,context){this.visit(ast.left,context),this.visit(ast.right,context)}visitChain(ast,context){this.visitAll(ast.expressions,context)}visitConditional(ast,context){this.visit(ast.condition,context),this.visit(ast.trueExp,context),this.visit(ast.falseExp,context)}visitPipe(ast,context){this.visit(ast.exp,context),this.visitAll(ast.args,context)}visitImplicitReceiver(ast,context){}visitThisReceiver(ast,context){}visitInterpolation(ast,context){this.visitAll(ast.expressions,context)}visitKeyedRead(ast,context){this.visit(ast.receiver,context),this.visit(ast.key,context)}visitLiteralArray(ast,context){this.visitAll(ast.expressions,context)}visitLiteralMap(ast,context){this.visitAll(ast.values,context)}visitLiteralPrimitive(ast,context){}visitPrefixNot(ast,context){this.visit(ast.expression,context)}visitTypeofExpression(ast,context){this.visit(ast.expression,context)}visitVoidExpression(ast,context){this.visit(ast.expression,context)}visitNonNullAssert(ast,context){this.visit(ast.expression,context)}visitPropertyRead(ast,context){this.visit(ast.receiver,context)}visitSafePropertyRead(ast,context){this.visit(ast.receiver,context)}visitSafeKeyedRead(ast,context){this.visit(ast.receiver,context),this.visit(ast.key,context)}visitCall(ast,context){this.visit(ast.receiver,context),this.visitAll(ast.args,context)}visitSafeCall(ast,context){this.visit(ast.receiver,context),this.visitAll(ast.args,context)}visitTemplateLiteral(ast,context){for(let i=0;i<ast.elements.length;i++){this.visit(ast.elements[i],context);const expression=i<ast.expressions.length?ast.expressions[i]:null;null!==expression&&this.visit(expression,context)}}visitTemplateLiteralElement(ast,context){}visitTaggedTemplateLiteral(ast,context){this.visit(ast.tag,context),this.visit(ast.template,context)}visitParenthesizedExpression(ast,context){this.visit(ast.expression,context)}visitAll(asts,context){for(const ast of asts)this.visit(ast,context)}}class ParsedProperty{name;expression;type;sourceSpan;keySpan;valueSpan;isLiteral;isLegacyAnimation;isAnimation;constructor(name,expression,type,sourceSpan,keySpan,valueSpan){this.name=name,this.expression=expression,this.type=type,this.sourceSpan=sourceSpan,this.keySpan=keySpan,this.valueSpan=valueSpan,this.isLiteral=this.type===ParsedPropertyType.LITERAL_ATTR,this.isLegacyAnimation=this.type===ParsedPropertyType.LEGACY_ANIMATION,this.isAnimation=this.type===ParsedPropertyType.ANIMATION}}var ParsedPropertyType,ParsedEventType,BindingType,TagContentType;!function(ParsedPropertyType){ParsedPropertyType[ParsedPropertyType.DEFAULT=0]="DEFAULT",ParsedPropertyType[ParsedPropertyType.LITERAL_ATTR=1]="LITERAL_ATTR",ParsedPropertyType[ParsedPropertyType.LEGACY_ANIMATION=2]="LEGACY_ANIMATION",ParsedPropertyType[ParsedPropertyType.TWO_WAY=3]="TWO_WAY",ParsedPropertyType[ParsedPropertyType.ANIMATION=4]="ANIMATION"}(ParsedPropertyType||(ParsedPropertyType={})),function(ParsedEventType){ParsedEventType[ParsedEventType.Regular=0]="Regular",ParsedEventType[ParsedEventType.LegacyAnimation=1]="LegacyAnimation",ParsedEventType[ParsedEventType.TwoWay=2]="TwoWay",ParsedEventType[ParsedEventType.Animation=3]="Animation"}(ParsedEventType||(ParsedEventType={}));class ParsedEvent{name;targetOrPhase;type;handler;sourceSpan;handlerSpan;keySpan;constructor(name,targetOrPhase,type,handler,sourceSpan,handlerSpan,keySpan){this.name=name,this.targetOrPhase=targetOrPhase,this.type=type,this.handler=handler,this.sourceSpan=sourceSpan,this.handlerSpan=handlerSpan,this.keySpan=keySpan}}class ParsedVariable{name;value;sourceSpan;keySpan;valueSpan;constructor(name,value,sourceSpan,keySpan,valueSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.keySpan=keySpan,this.valueSpan=valueSpan}}!function(BindingType){BindingType[BindingType.Property=0]="Property",BindingType[BindingType.Attribute=1]="Attribute",BindingType[BindingType.Class=2]="Class",BindingType[BindingType.Style=3]="Style",BindingType[BindingType.LegacyAnimation=4]="LegacyAnimation",BindingType[BindingType.TwoWay=5]="TwoWay",BindingType[BindingType.Animation=6]="Animation"}(BindingType||(BindingType={}));class BoundElementProperty{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;constructor(name,type,securityContext,value,unit,sourceSpan,keySpan,valueSpan){this.name=name,this.type=type,this.securityContext=securityContext,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan,this.keySpan=keySpan,this.valueSpan=valueSpan}}function splitNsName(elementName,fatal=!0){if(":"!=elementName[0])return[null,elementName];const colonIndex=elementName.indexOf(":",1);if(-1===colonIndex){if(fatal)throw new Error(`Unsupported format "${elementName}" expecting ":namespace:name"`);return[null,elementName]}return[elementName.slice(1,colonIndex),elementName.slice(colonIndex+1)]}function isNgContainer(tagName){return"ng-container"===splitNsName(tagName)[1]}function isNgContent(tagName){return"ng-content"===splitNsName(tagName)[1]}function getNsPrefix(fullName){return null===fullName?null:splitNsName(fullName)[0]}function mergeNsAndName(prefix,localName){return prefix?`:${prefix}:${localName}`:localName}!function(TagContentType){TagContentType[TagContentType.RAW_TEXT=0]="RAW_TEXT",TagContentType[TagContentType.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",TagContentType[TagContentType.PARSABLE_DATA=2]="PARSABLE_DATA"}(TagContentType||(TagContentType={}));let Comment$1=class Comment{value;sourceSpan;constructor(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}visit(_visitor){throw new Error("visit() not implemented for Comment")}},Text$3=class Text{value;sourceSpan;constructor(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}visit(visitor){return visitor.visitText(this)}};class BoundText{value;sourceSpan;i18n;constructor(value,sourceSpan,i18n){this.value=value,this.sourceSpan=sourceSpan,this.i18n=i18n}visit(visitor){return visitor.visitBoundText(this)}}class TextAttribute{name;value;sourceSpan;keySpan;valueSpan;i18n;constructor(name,value,sourceSpan,keySpan,valueSpan,i18n){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.keySpan=keySpan,this.valueSpan=valueSpan,this.i18n=i18n}visit(visitor){return visitor.visitTextAttribute(this)}}class BoundAttribute{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;i18n;constructor(name,type,securityContext,value,unit,sourceSpan,keySpan,valueSpan,i18n){this.name=name,this.type=type,this.securityContext=securityContext,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan,this.keySpan=keySpan,this.valueSpan=valueSpan,this.i18n=i18n}static fromBoundElementProperty(prop,i18n){if(void 0===prop.keySpan)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${prop.name}: ${prop.sourceSpan}`);return new BoundAttribute(prop.name,prop.type,prop.securityContext,prop.value,prop.unit,prop.sourceSpan,prop.keySpan,prop.valueSpan,i18n)}visit(visitor){return visitor.visitBoundAttribute(this)}}class BoundEvent{name;type;handler;target;phase;sourceSpan;handlerSpan;keySpan;constructor(name,type,handler,target,phase,sourceSpan,handlerSpan,keySpan){this.name=name,this.type=type,this.handler=handler,this.target=target,this.phase=phase,this.sourceSpan=sourceSpan,this.handlerSpan=handlerSpan,this.keySpan=keySpan}static fromParsedEvent(event){const target=event.type===ParsedEventType.Regular?event.targetOrPhase:null,phase=event.type===ParsedEventType.LegacyAnimation?event.targetOrPhase:null;if(void 0===event.keySpan)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${event.name}: ${event.sourceSpan}`);return new BoundEvent(event.name,event.type,event.handler,target,phase,event.sourceSpan,event.handlerSpan,event.keySpan)}visit(visitor){return visitor.visitBoundEvent(this)}}let Element$1=class Element{name;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;isVoid;i18n;constructor(name,attributes,inputs,outputs,directives,children,references,isSelfClosing,sourceSpan,startSourceSpan,endSourceSpan,isVoid,i18n){this.name=name,this.attributes=attributes,this.inputs=inputs,this.outputs=outputs,this.directives=directives,this.children=children,this.references=references,this.isSelfClosing=isSelfClosing,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan,this.isVoid=isVoid,this.i18n=i18n}visit(visitor){return visitor.visitElement(this)}};class DeferredTrigger{nameSpan;sourceSpan;prefetchSpan;whenOrOnSourceSpan;hydrateSpan;constructor(nameSpan,sourceSpan,prefetchSpan,whenOrOnSourceSpan,hydrateSpan){this.nameSpan=nameSpan,this.sourceSpan=sourceSpan,this.prefetchSpan=prefetchSpan,this.whenOrOnSourceSpan=whenOrOnSourceSpan,this.hydrateSpan=hydrateSpan}visit(visitor){return visitor.visitDeferredTrigger(this)}}class BoundDeferredTrigger extends DeferredTrigger{value;constructor(value,sourceSpan,prefetchSpan,whenSourceSpan,hydrateSpan){super(null,sourceSpan,prefetchSpan,whenSourceSpan,hydrateSpan),this.value=value}}class NeverDeferredTrigger extends DeferredTrigger{}class IdleDeferredTrigger extends DeferredTrigger{}class ImmediateDeferredTrigger extends DeferredTrigger{}class HoverDeferredTrigger extends DeferredTrigger{reference;constructor(reference,nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan){super(nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan),this.reference=reference}}class TimerDeferredTrigger extends DeferredTrigger{delay;constructor(delay,nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan){super(nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan),this.delay=delay}}class InteractionDeferredTrigger extends DeferredTrigger{reference;constructor(reference,nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan){super(nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan),this.reference=reference}}class ViewportDeferredTrigger extends DeferredTrigger{reference;constructor(reference,nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan){super(nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan),this.reference=reference}}class BlockNode{nameSpan;sourceSpan;startSourceSpan;endSourceSpan;constructor(nameSpan,sourceSpan,startSourceSpan,endSourceSpan){this.nameSpan=nameSpan,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan}}class DeferredBlockPlaceholder extends BlockNode{children;minimumTime;i18n;constructor(children,minimumTime,nameSpan,sourceSpan,startSourceSpan,endSourceSpan,i18n){super(nameSpan,sourceSpan,startSourceSpan,endSourceSpan),this.children=children,this.minimumTime=minimumTime,this.i18n=i18n}visit(visitor){return visitor.visitDeferredBlockPlaceholder(this)}}class DeferredBlockLoading extends BlockNode{children;afterTime;minimumTime;i18n;constructor(children,afterTime,minimumTime,nameSpan,sourceSpan,startSourceSpan,endSourceSpan,i18n){super(nameSpan,sourceSpan,startSourceSpan,endSourceSpan),this.children=children,this.afterTime=afterTime,this.minimumTime=minimumTime,this.i18n=i18n}visit(visitor){return visitor.visitDeferredBlockLoading(this)}}class DeferredBlockError extends BlockNode{children;i18n;constructor(children,nameSpan,sourceSpan,startSourceSpan,endSourceSpan,i18n){super(nameSpan,sourceSpan,startSourceSpan,endSourceSpan),this.children=children,this.i18n=i18n}visit(visitor){return visitor.visitDeferredBlockError(this)}}class DeferredBlock extends BlockNode{children;placeholder;loading;error;mainBlockSpan;i18n;triggers;prefetchTriggers;hydrateTriggers;definedTriggers;definedPrefetchTriggers;definedHydrateTriggers;constructor(children,triggers,prefetchTriggers,hydrateTriggers,placeholder,loading,error,nameSpan,sourceSpan,mainBlockSpan,startSourceSpan,endSourceSpan,i18n){super(nameSpan,sourceSpan,startSourceSpan,endSourceSpan),this.children=children,this.placeholder=placeholder,this.loading=loading,this.error=error,this.mainBlockSpan=mainBlockSpan,this.i18n=i18n,this.triggers=triggers,this.prefetchTriggers=prefetchTriggers,this.hydrateTriggers=hydrateTriggers,this.definedTriggers=Object.keys(triggers),this.definedPrefetchTriggers=Object.keys(prefetchTriggers),this.definedHydrateTriggers=Object.keys(hydrateTriggers)}visit(visitor){return visitor.visitDeferredBlock(this)}visitAll(visitor){this.visitTriggers(this.definedHydrateTriggers,this.hydrateTriggers,visitor),this.visitTriggers(this.definedTriggers,this.triggers,visitor),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,visitor),visitAll$1(visitor,this.children);visitAll$1(visitor,[this.placeholder,this.loading,this.error].filter(x=>null!==x))}visitTriggers(keys,triggers,visitor){visitAll$1(visitor,keys.map(k=>triggers[k]))}}class SwitchBlock extends BlockNode{expression;cases;unknownBlocks;constructor(expression,cases,unknownBlocks,sourceSpan,startSourceSpan,endSourceSpan,nameSpan){super(nameSpan,sourceSpan,startSourceSpan,endSourceSpan),this.expression=expression,this.cases=cases,this.unknownBlocks=unknownBlocks}visit(visitor){return visitor.visitSwitchBlock(this)}}class SwitchBlockCase extends BlockNode{expression;children;i18n;constructor(expression,children,sourceSpan,startSourceSpan,endSourceSpan,nameSpan,i18n){super(nameSpan,sourceSpan,startSourceSpan,endSourceSpan),this.expression=expression,this.children=children,this.i18n=i18n}visit(visitor){return visitor.visitSwitchBlockCase(this)}}class ForLoopBlock extends BlockNode{item;expression;trackBy;trackKeywordSpan;contextVariables;children;empty;mainBlockSpan;i18n;constructor(item,expression,trackBy,trackKeywordSpan,contextVariables,children,empty,sourceSpan,mainBlockSpan,startSourceSpan,endSourceSpan,nameSpan,i18n){super(nameSpan,sourceSpan,startSourceSpan,endSourceSpan),this.item=item,this.expression=expression,this.trackBy=trackBy,this.trackKeywordSpan=trackKeywordSpan,this.contextVariables=contextVariables,this.children=children,this.empty=empty,this.mainBlockSpan=mainBlockSpan,this.i18n=i18n}visit(visitor){return visitor.visitForLoopBlock(this)}}class ForLoopBlockEmpty extends BlockNode{children;i18n;constructor(children,sourceSpan,startSourceSpan,endSourceSpan,nameSpan,i18n){super(nameSpan,sourceSpan,startSourceSpan,endSourceSpan),this.children=children,this.i18n=i18n}visit(visitor){return visitor.visitForLoopBlockEmpty(this)}}class IfBlock extends BlockNode{branches;constructor(branches,sourceSpan,startSourceSpan,endSourceSpan,nameSpan){super(nameSpan,sourceSpan,startSourceSpan,endSourceSpan),this.branches=branches}visit(visitor){return visitor.visitIfBlock(this)}}class IfBlockBranch extends BlockNode{expression;children;expressionAlias;i18n;constructor(expression,children,expressionAlias,sourceSpan,startSourceSpan,endSourceSpan,nameSpan,i18n){super(nameSpan,sourceSpan,startSourceSpan,endSourceSpan),this.expression=expression,this.children=children,this.expressionAlias=expressionAlias,this.i18n=i18n}visit(visitor){return visitor.visitIfBlockBranch(this)}}class UnknownBlock{name;sourceSpan;nameSpan;constructor(name,sourceSpan,nameSpan){this.name=name,this.sourceSpan=sourceSpan,this.nameSpan=nameSpan}visit(visitor){return visitor.visitUnknownBlock(this)}}let LetDeclaration$1=class LetDeclaration{name;value;sourceSpan;nameSpan;valueSpan;constructor(name,value,sourceSpan,nameSpan,valueSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.nameSpan=nameSpan,this.valueSpan=valueSpan}visit(visitor){return visitor.visitLetDeclaration(this)}},Component$1=class Component{componentName;tagName;fullName;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(componentName,tagName,fullName,attributes,inputs,outputs,directives,children,references,isSelfClosing,sourceSpan,startSourceSpan,endSourceSpan,i18n){this.componentName=componentName,this.tagName=tagName,this.fullName=fullName,this.attributes=attributes,this.inputs=inputs,this.outputs=outputs,this.directives=directives,this.children=children,this.references=references,this.isSelfClosing=isSelfClosing,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan,this.i18n=i18n}visit(visitor){return visitor.visitComponent(this)}},Directive$1=class Directive{name;attributes;inputs;outputs;references;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(name,attributes,inputs,outputs,references,sourceSpan,startSourceSpan,endSourceSpan,i18n){this.name=name,this.attributes=attributes,this.inputs=inputs,this.outputs=outputs,this.references=references,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan,this.i18n=i18n}visit(visitor){return visitor.visitDirective(this)}};class Template{tagName;attributes;inputs;outputs;directives;templateAttrs;children;references;variables;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(tagName,attributes,inputs,outputs,directives,templateAttrs,children,references,variables,isSelfClosing,sourceSpan,startSourceSpan,endSourceSpan,i18n){this.tagName=tagName,this.attributes=attributes,this.inputs=inputs,this.outputs=outputs,this.directives=directives,this.templateAttrs=templateAttrs,this.children=children,this.references=references,this.variables=variables,this.isSelfClosing=isSelfClosing,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan,this.i18n=i18n}visit(visitor){return visitor.visitTemplate(this)}}class Content{selector;attributes;children;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;name="ng-content";constructor(selector,attributes,children,isSelfClosing,sourceSpan,startSourceSpan,endSourceSpan,i18n){this.selector=selector,this.attributes=attributes,this.children=children,this.isSelfClosing=isSelfClosing,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan,this.i18n=i18n}visit(visitor){return visitor.visitContent(this)}}class Variable{name;value;sourceSpan;keySpan;valueSpan;constructor(name,value,sourceSpan,keySpan,valueSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.keySpan=keySpan,this.valueSpan=valueSpan}visit(visitor){return visitor.visitVariable(this)}}class Reference{name;value;sourceSpan;keySpan;valueSpan;constructor(name,value,sourceSpan,keySpan,valueSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.keySpan=keySpan,this.valueSpan=valueSpan}visit(visitor){return visitor.visitReference(this)}}let Icu$1=class Icu{vars;placeholders;sourceSpan;i18n;constructor(vars,placeholders,sourceSpan,i18n){this.vars=vars,this.placeholders=placeholders,this.sourceSpan=sourceSpan,this.i18n=i18n}visit(visitor){return visitor.visitIcu(this)}};class HostElement{tagNames;bindings;listeners;sourceSpan;constructor(tagNames,bindings,listeners,sourceSpan){if(this.tagNames=tagNames,this.bindings=bindings,this.listeners=listeners,this.sourceSpan=sourceSpan,0===tagNames.length)throw new Error("HostElement must have at least one tag name.")}visit(){throw new Error("HostElement cannot be visited")}}function visitAll$1(visitor,nodes){const result=[];if(visitor.visit)for(const node of nodes)visitor.visit(node);else for(const node of nodes){const newNode=node.visit(visitor);newNode&&result.push(newNode)}return result}class Message{nodes;placeholders;placeholderToMessage;meaning;description;customId;sources;id;legacyIds=[];messageString;constructor(nodes,placeholders,placeholderToMessage,meaning,description,customId){this.nodes=nodes,this.placeholders=placeholders,this.placeholderToMessage=placeholderToMessage,this.meaning=meaning,this.description=description,this.customId=customId,this.id=this.customId,this.messageString=function serializeMessage(messageNodes){const visitor=new LocalizeMessageStringVisitor;return messageNodes.map(n=>n.visit(visitor)).join("")}(this.nodes),nodes.length?this.sources=[{filePath:nodes[0].sourceSpan.start.file.url,startLine:nodes[0].sourceSpan.start.line+1,startCol:nodes[0].sourceSpan.start.col+1,endLine:nodes[nodes.length-1].sourceSpan.end.line+1,endCol:nodes[0].sourceSpan.start.col+1}]:this.sources=[]}}let Text$2=class Text{value;sourceSpan;constructor(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitText(this,context)}};class Container{children;sourceSpan;constructor(children,sourceSpan){this.children=children,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitContainer(this,context)}}class Icu{expression;type;cases;sourceSpan;expressionPlaceholder;constructor(expression,type,cases,sourceSpan,expressionPlaceholder){this.expression=expression,this.type=type,this.cases=cases,this.sourceSpan=sourceSpan,this.expressionPlaceholder=expressionPlaceholder}visit(visitor,context){return visitor.visitIcu(this,context)}}class TagPlaceholder{tag;attrs;startName;closeName;children;isVoid;sourceSpan;startSourceSpan;endSourceSpan;constructor(tag,attrs,startName,closeName,children,isVoid,sourceSpan,startSourceSpan,endSourceSpan){this.tag=tag,this.attrs=attrs,this.startName=startName,this.closeName=closeName,this.children=children,this.isVoid=isVoid,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan}visit(visitor,context){return visitor.visitTagPlaceholder(this,context)}}class Placeholder{value;name;sourceSpan;constructor(value,name,sourceSpan){this.value=value,this.name=name,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitPlaceholder(this,context)}}class IcuPlaceholder{value;name;sourceSpan;previousMessage;constructor(value,name,sourceSpan){this.value=value,this.name=name,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitIcuPlaceholder(this,context)}}class BlockPlaceholder{name;parameters;startName;closeName;children;sourceSpan;startSourceSpan;endSourceSpan;constructor(name,parameters,startName,closeName,children,sourceSpan,startSourceSpan,endSourceSpan){this.name=name,this.parameters=parameters,this.startName=startName,this.closeName=closeName,this.children=children,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan}visit(visitor,context){return visitor.visitBlockPlaceholder(this,context)}}class LocalizeMessageStringVisitor{visitText(text){return text.value}visitContainer(container){return container.children.map(child=>child.visit(this)).join("")}visitIcu(icu){const strCases=Object.keys(icu.cases).map(k=>`${k} {${icu.cases[k].visit(this)}}`);return`{${icu.expressionPlaceholder}, ${icu.type}, ${strCases.join(" ")}}`}visitTagPlaceholder(ph){const children=ph.children.map(child=>child.visit(this)).join("");return`{$${ph.startName}}${children}{$${ph.closeName}}`}visitPlaceholder(ph){return`{$${ph.name}}`}visitIcuPlaceholder(ph){return`{$${ph.name}}`}visitBlockPlaceholder(ph){const children=ph.children.map(child=>child.visit(this)).join("");return`{$${ph.startName}}${children}{$${ph.closeName}}`}}new class _Visitor{visitTag(tag){const strAttrs=this._serializeAttributes(tag.attrs);if(0==tag.children.length)return`<${tag.name}${strAttrs}/>`;const strChildren=tag.children.map(node=>node.visit(this));return`<${tag.name}${strAttrs}>${strChildren.join("")}</${tag.name}>`}visitText(text){return text.value}visitDeclaration(decl){return`<?xml${this._serializeAttributes(decl.attrs)} ?>`}_serializeAttributes(attrs){const strAttrs=Object.keys(attrs).map(name=>`${name}="${attrs[name]}"`).join(" ");return strAttrs.length>0?" "+strAttrs:""}visitDoctype(doctype){return`<!DOCTYPE ${doctype.rootTag} [\n${doctype.dtd}\n]>`}};function toPublicName(internalName){return internalName.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function isI18nAttribute(name){return"i18n"===name||name.startsWith("i18n-")}function icuFromI18nMessage(message){return message.nodes[0]}function formatI18nPlaceholderNamesInMap(params={},useCamelCase){const _params={};return params&&Object.keys(params).length&&Object.keys(params).forEach(key=>_params[formatI18nPlaceholderName(key,useCamelCase)]=params[key]),_params}function formatI18nPlaceholderName(name,useCamelCase=!0){const publicName=toPublicName(name);if(!useCamelCase)return publicName;const chunks=publicName.split("_");if(1===chunks.length)return name.toLowerCase();let postfix;/^\d+$/.test(chunks[chunks.length-1])&&(postfix=chunks.pop());let raw=chunks.shift().toLowerCase();return chunks.length&&(raw+=chunks.map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join("")),postfix?`${raw}_${postfix}`:raw}const UNSAFE_OBJECT_KEY_NAME_REGEXP=/[-.]/;function temporaryAllocator(pushStatement,name){let temp=null;return()=>(temp||(pushStatement(new DeclareVarStmt("_t",void 0,DYNAMIC_TYPE)),temp=variable(name)),temp)}function asLiteral(value){return Array.isArray(value)?literalArr(value.map(asLiteral)):literal(value,INFERRED_TYPE)}function conditionallyCreateDirectiveBindingLiteral(map,forInputs){const keys=Object.getOwnPropertyNames(map);return 0===keys.length?null:literalMap(keys.map(key=>{const value=map[key];let declaredName,publicName,minifiedName,expressionValue;if("string"==typeof value)declaredName=key,minifiedName=key,publicName=value,expressionValue=asLiteral(publicName);else{minifiedName=key,declaredName=value.classPropertyName,publicName=value.bindingPropertyName;const differentDeclaringName=publicName!==declaredName,hasDecoratorInputTransform=null!==value.transformFunction;let flags=InputFlags.None;if(value.isSignal&&(flags|=InputFlags.SignalBased),hasDecoratorInputTransform&&(flags|=InputFlags.HasDecoratorInputTransform),forInputs&&(differentDeclaringName||hasDecoratorInputTransform||flags!==InputFlags.None)){const result=[literal(flags),asLiteral(publicName)];(differentDeclaringName||hasDecoratorInputTransform)&&(result.push(asLiteral(declaredName)),hasDecoratorInputTransform&&result.push(value.transformFunction)),expressionValue=literalArr(result)}else expressionValue=asLiteral(publicName)}return{key:minifiedName,quoted:UNSAFE_OBJECT_KEY_NAME_REGEXP.test(minifiedName),value:expressionValue}}))}class DefinitionMap{values=[];set(key,value){if(value){const existing=this.values.find(value=>value.key===key);existing?existing.value=value:this.values.push({key,value,quoted:!1})}}toLiteralMap(){return literalMap(this.values)}}function createCssSelectorFromNode(node){const elementName=node instanceof Element$1?node.name:"ng-template",attributes=function getAttrsForDirectiveMatching(elOrTpl){const attributesMap={};elOrTpl instanceof Template&&"ng-template"!==elOrTpl.tagName?elOrTpl.templateAttrs.forEach(a=>attributesMap[a.name]=""):(elOrTpl.attributes.forEach(a=>{isI18nAttribute(a.name)||(attributesMap[a.name]=a.value)}),elOrTpl.inputs.forEach(i=>{i.type!==BindingType.Property&&i.type!==BindingType.TwoWay||(attributesMap[i.name]="")}),elOrTpl.outputs.forEach(o=>{attributesMap[o.name]=""}));return attributesMap}(node),cssSelector=new CssSelector,elementNameNoNs=splitNsName(elementName)[1];return cssSelector.setElement(elementNameNoNs),Object.getOwnPropertyNames(attributes).forEach(name=>{const nameNoNs=splitNsName(name)[1],value=attributes[name];if(cssSelector.addAttribute(nameNoNs,value),"class"===name.toLowerCase()){value.trim().split(/\s+/).forEach(className=>cssSelector.addClassName(className))}}),cssSelector}function compileInjectable(meta,resolveForwardRefs){let result=null;const factoryMeta={name:meta.name,type:meta.type,typeArgumentCount:meta.typeArgumentCount,deps:[],target:FactoryTarget.Injectable};if(void 0!==meta.useClass){const useClassOnSelf=meta.useClass.expression.isEquivalent(meta.type.value);let deps;void 0!==meta.deps&&(deps=meta.deps),result=void 0!==deps?compileFactoryFunction({...factoryMeta,delegate:meta.useClass.expression,delegateDeps:deps,delegateType:R3FactoryDelegateType.Class}):useClassOnSelf?compileFactoryFunction(factoryMeta):{statements:[],expression:delegateToFactory(meta.type.value,meta.useClass.expression,resolveForwardRefs)}}else result=void 0!==meta.useFactory?void 0!==meta.deps?compileFactoryFunction({...factoryMeta,delegate:meta.useFactory,delegateDeps:meta.deps||[],delegateType:R3FactoryDelegateType.Function}):{statements:[],expression:arrowFn([],meta.useFactory.callFn([]))}:void 0!==meta.useValue?compileFactoryFunction({...factoryMeta,expression:meta.useValue.expression}):void 0!==meta.useExisting?compileFactoryFunction({...factoryMeta,expression:importExpr(Identifiers.inject).callFn([meta.useExisting.expression])}):{statements:[],expression:delegateToFactory(meta.type.value,meta.type.value,resolveForwardRefs)};const token=meta.type.value,injectableProps=new DefinitionMap;injectableProps.set("token",token),injectableProps.set("factory",result.expression),null!==meta.providedIn.expression.value&&injectableProps.set("providedIn",convertFromMaybeForwardRefExpression(meta.providedIn));return{expression:importExpr(Identifiers.ɵɵdefineInjectable).callFn([injectableProps.toLiteralMap()],void 0,!0),type:createInjectableType(meta),statements:result.statements}}function createInjectableType(meta){return new ExpressionType(importExpr(Identifiers.InjectableDeclaration,[typeWithParameters(meta.type.type,meta.typeArgumentCount)]))}function delegateToFactory(type,useType,unwrapForwardRefs){if(type.node===useType.node)return useType.prop("ɵfac");if(!unwrapForwardRefs)return createFactoryFunction(useType);return createFactoryFunction(importExpr(Identifiers.resolveForwardRef).callFn([useType]))}function createFactoryFunction(type){const t=new FnParam("__ngFactoryType__",DYNAMIC_TYPE);return arrowFn([t],type.prop("ɵfac").callFn([variable(t.name)]))}const UNUSABLE_INTERPOLATION_REGEXPS=[/@/,/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];class InterpolationConfig{start;end;static fromArray(markers){return markers?(function assertInterpolationSymbols(identifier,value){if(!(null==value||Array.isArray(value)&&2==value.length))throw new Error(`Expected '${identifier}' to be an array, [start, end].`);if(null!=value){const start=value[0],end=value[1];UNUSABLE_INTERPOLATION_REGEXPS.forEach(regexp=>{if(regexp.test(start)||regexp.test(end))throw new Error(`['${start}', '${end}'] contains unusable interpolation symbol.`)})}}("interpolation",markers),new InterpolationConfig(markers[0],markers[1])):DEFAULT_INTERPOLATION_CONFIG}constructor(start,end){this.start=start,this.end=end}}const DEFAULT_INTERPOLATION_CONFIG=new InterpolationConfig("{{","}}"),DEFAULT_CONTAINER_BLOCKS=new Set(["switch"]);function isWhitespace(code){return code>=9&&code<=32||160==code}function isDigit(code){return 48<=code&&code<=57}function isAsciiLetter(code){return code>=97&&code<=122||code>=65&&code<=90}function isNewLine(code){return 10===code||13===code}function isOctalDigit(code){return 48<=code&&code<=55}function isQuote(code){return 39===code||34===code||96===code}class ParseLocation{file;offset;line;col;constructor(file,offset,line,col){this.file=file,this.offset=offset,this.line=line,this.col=col}toString(){return null!=this.offset?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(delta){const source=this.file.content,len=source.length;let offset=this.offset,line=this.line,col=this.col;for(;offset>0&&delta<0;){offset--,delta++;if(10==source.charCodeAt(offset)){line--;const priorLine=source.substring(0,offset-1).lastIndexOf(String.fromCharCode(10));col=priorLine>0?offset-priorLine:offset}else col--}for(;offset<len&&delta>0;){const ch=source.charCodeAt(offset);offset++,delta--,10==ch?(line++,col=0):col++}return new ParseLocation(this.file,offset,line,col)}getContext(maxChars,maxLines){const content=this.file.content;let startOffset=this.offset;if(null!=startOffset){startOffset>content.length-1&&(startOffset=content.length-1);let endOffset=startOffset,ctxChars=0,ctxLines=0;for(;ctxChars<maxChars&&startOffset>0&&(startOffset--,ctxChars++,"\n"!=content[startOffset]||++ctxLines!=maxLines););for(ctxChars=0,ctxLines=0;ctxChars<maxChars&&endOffset<content.length-1&&(endOffset++,ctxChars++,"\n"!=content[endOffset]||++ctxLines!=maxLines););return{before:content.substring(startOffset,this.offset),after:content.substring(this.offset,endOffset+1)}}return null}}class ParseSourceFile{content;url;constructor(content,url){this.content=content,this.url=url}}class ParseSourceSpan{start;end;fullStart;details;constructor(start,end,fullStart=start,details=null){this.start=start,this.end=end,this.fullStart=fullStart,this.details=details}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}var ParseErrorLevel;!function(ParseErrorLevel){ParseErrorLevel[ParseErrorLevel.WARNING=0]="WARNING",ParseErrorLevel[ParseErrorLevel.ERROR=1]="ERROR"}(ParseErrorLevel||(ParseErrorLevel={}));class ParseError extends Error{span;msg;level;relatedError;constructor(span,msg,level=ParseErrorLevel.ERROR,relatedError){super(msg),this.span=span,this.msg=msg,this.level=level,this.relatedError=relatedError,Object.setPrototypeOf(this,new.target.prototype)}contextualMessage(){const ctx=this.span.start.getContext(100,3);return ctx?`${this.msg} ("${ctx.before}[${ParseErrorLevel[this.level]} ->]${ctx.after}")`:this.msg}toString(){const details=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${details}`}}let _anonymousTypeIndex=0;function sanitizeIdentifier(name){return name.replace(/\W/g,"_")}const makeTemplateObjectPolyfill='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})';class AbstractJsEmitterVisitor extends AbstractEmitterVisitor{constructor(){super(!1)}visitWrappedNodeExpr(ast,ctx){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(stmt,ctx){return ctx.print(stmt,`var ${stmt.name}`),stmt.value&&(ctx.print(stmt," = "),stmt.value.visitExpression(this,ctx)),ctx.println(stmt,";"),null}visitTaggedTemplateLiteralExpr(ast,ctx){const elements=ast.template.elements;return ast.tag.visitExpression(this,ctx),ctx.print(ast,`(${makeTemplateObjectPolyfill}(`),ctx.print(ast,`[${elements.map(part=>escapeIdentifier(part.text,!1)).join(", ")}], `),ctx.print(ast,`[${elements.map(part=>escapeIdentifier(part.rawText,!1)).join(", ")}])`),ast.template.expressions.forEach(expression=>{ctx.print(ast,", "),expression.visitExpression(this,ctx)}),ctx.print(ast,")"),null}visitTemplateLiteralExpr(expr,ctx){ctx.print(expr,"`");for(let i=0;i<expr.elements.length;i++){expr.elements[i].visitExpression(this,ctx);const expression=i<expr.expressions.length?expr.expressions[i]:null;null!==expression&&(ctx.print(expression,"${"),expression.visitExpression(this,ctx),ctx.print(expression,"}"))}ctx.print(expr,"`")}visitTemplateLiteralElementExpr(expr,ctx){return ctx.print(expr,expr.rawText),null}visitFunctionExpr(ast,ctx){return ctx.print(ast,`function${ast.name?" "+ast.name:""}(`),this._visitParams(ast.params,ctx),ctx.println(ast,") {"),ctx.incIndent(),this.visitAllStatements(ast.statements,ctx),ctx.decIndent(),ctx.print(ast,"}"),null}visitArrowFunctionExpr(ast,ctx){if(ctx.print(ast,"("),this._visitParams(ast.params,ctx),ctx.print(ast,") =>"),Array.isArray(ast.body))ctx.println(ast,"{"),ctx.incIndent(),this.visitAllStatements(ast.body,ctx),ctx.decIndent(),ctx.print(ast,"}");else{const isObjectLiteral=ast.body instanceof LiteralMapExpr;isObjectLiteral&&ctx.print(ast,"("),ast.body.visitExpression(this,ctx),isObjectLiteral&&ctx.print(ast,")")}return null}visitDeclareFunctionStmt(stmt,ctx){return ctx.print(stmt,`function ${stmt.name}(`),this._visitParams(stmt.params,ctx),ctx.println(stmt,") {"),ctx.incIndent(),this.visitAllStatements(stmt.statements,ctx),ctx.decIndent(),ctx.println(stmt,"}"),null}visitLocalizedString(ast,ctx){ctx.print(ast,`$localize(${makeTemplateObjectPolyfill}(`);const parts=[ast.serializeI18nHead()];for(let i=1;i<ast.messageParts.length;i++)parts.push(ast.serializeI18nTemplatePart(i));return ctx.print(ast,`[${parts.map(part=>escapeIdentifier(part.cooked,!1)).join(", ")}], `),ctx.print(ast,`[${parts.map(part=>escapeIdentifier(part.raw,!1)).join(", ")}])`),ast.expressions.forEach(expression=>{ctx.print(ast,", "),expression.visitExpression(this,ctx)}),ctx.print(ast,")"),null}_visitParams(params,ctx){this.visitAllObjects(param=>ctx.print(null,param.name),params,ctx,",")}}let policy;function trustedScriptFromString(script){return function getPolicy(){if(void 0===policy){const trustedTypes=_global.trustedTypes;if(policy=null,trustedTypes)try{policy=trustedTypes.createPolicy("angular#unsafe-jit",{createScript:s=>s})}catch{}}return policy}()?.createScript(script)||script}function newTrustedFunctionForJIT(...args){if(!_global.trustedTypes)return new Function(...args);const body=`(function anonymous(${args.slice(0,-1).join(",")}\n) { ${args[args.length-1]}\n})`,fn=_global.eval(trustedScriptFromString(body));return void 0===fn.bind?new Function(...args):(fn.toString=()=>body,fn.bind(_global))}class JitEvaluator{evaluateStatements(sourceUrl,statements,refResolver,createSourceMaps){const converter=new JitEmitterVisitor(refResolver),ctx=EmitterVisitorContext.createRoot();return statements.length>0&&!function isUseStrictStatement(statement){return statement.isEquivalent(literal("use strict").toStmt())}(statements[0])&&(statements=[literal("use strict").toStmt(),...statements]),converter.visitAllStatements(statements,ctx),converter.createReturnStmt(ctx),this.evaluateCode(sourceUrl,ctx,converter.getArgs(),createSourceMaps)}evaluateCode(sourceUrl,ctx,vars,createSourceMap){let fnBody=`"use strict";${ctx.toSource()}\n//# sourceURL=${sourceUrl}`;const fnArgNames=[],fnArgValues=[];for(const argName in vars)fnArgValues.push(vars[argName]),fnArgNames.push(argName);if(createSourceMap){const emptyFn=newTrustedFunctionForJIT(...fnArgNames.concat("return null;")).toString(),headerLines=emptyFn.slice(0,emptyFn.indexOf("return null;")).split("\n").length-1;fnBody+=`\n${ctx.toSourceMapGenerator(sourceUrl,headerLines).toJsComment()}`}const fn=newTrustedFunctionForJIT(...fnArgNames.concat(fnBody));return this.executeFunction(fn,fnArgValues)}executeFunction(fn,args){return fn(...args)}}class JitEmitterVisitor extends AbstractJsEmitterVisitor{refResolver;_evalArgNames=[];_evalArgValues=[];_evalExportedVars=[];constructor(refResolver){super(),this.refResolver=refResolver}createReturnStmt(ctx){new ReturnStatement(new LiteralMapExpr(this._evalExportedVars.map(resultVar=>new LiteralMapEntry(resultVar,variable(resultVar),!1)))).visitStatement(this,ctx)}getArgs(){const result={};for(let i=0;i<this._evalArgNames.length;i++)result[this._evalArgNames[i]]=this._evalArgValues[i];return result}visitExternalExpr(ast,ctx){return this._emitReferenceToExternal(ast,this.refResolver.resolveExternalReference(ast.value),ctx),null}visitWrappedNodeExpr(ast,ctx){return this._emitReferenceToExternal(ast,ast.node,ctx),null}visitDeclareVarStmt(stmt,ctx){return stmt.hasModifier(StmtModifier.Exported)&&this._evalExportedVars.push(stmt.name),super.visitDeclareVarStmt(stmt,ctx)}visitDeclareFunctionStmt(stmt,ctx){return stmt.hasModifier(StmtModifier.Exported)&&this._evalExportedVars.push(stmt.name),super.visitDeclareFunctionStmt(stmt,ctx)}_emitReferenceToExternal(ast,value,ctx){let id=this._evalArgValues.indexOf(value);if(-1===id){id=this._evalArgValues.length,this._evalArgValues.push(value);const name=function identifierName(compileIdentifier){if(!compileIdentifier||!compileIdentifier.reference)return null;const ref=compileIdentifier.reference;if(ref.__anonymousType)return ref.__anonymousType;if(ref.__forward_ref__)return"__forward_ref__";let identifier=stringify(ref);return identifier.indexOf("(")>=0?(identifier="anonymous_"+_anonymousTypeIndex++,ref.__anonymousType=identifier):identifier=sanitizeIdentifier(identifier),identifier}({reference:value})||"val";this._evalArgNames.push(`jit_${name}_${id}`)}ctx.print(ast,this._evalArgNames[id])}}function compileInjector(meta){const definitionMap=new DefinitionMap;null!==meta.providers&&definitionMap.set("providers",meta.providers),meta.imports.length>0&&definitionMap.set("imports",literalArr(meta.imports));return{expression:importExpr(Identifiers.defineInjector).callFn([definitionMap.toLiteralMap()],void 0,!0),type:createInjectorType(meta),statements:[]}}function createInjectorType(meta){return new ExpressionType(importExpr(Identifiers.InjectorDeclaration,[new ExpressionType(meta.type.type)]))}class R3JitReflector{context;constructor(context){this.context=context}resolveExternalReference(ref){if("@angular/core"!==ref.moduleName)throw new Error(`Cannot resolve external reference to ${ref.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(ref.name))throw new Error(`No value provided for @angular/core symbol '${ref.name}'.`);return this.context[ref.name]}}var R3SelectorScopeMode,R3NgModuleMetadataKind,R3TemplateDependencyKind;function compileNgModule(meta){const statements=[],definitionMap=new DefinitionMap;if(definitionMap.set("type",meta.type.value),meta.kind===R3NgModuleMetadataKind.Global&&meta.bootstrap.length>0&&definitionMap.set("bootstrap",refsToArray(meta.bootstrap,meta.containsForwardDecls)),meta.selectorScopeMode===R3SelectorScopeMode.Inline)meta.declarations.length>0&&definitionMap.set("declarations",refsToArray(meta.declarations,meta.containsForwardDecls)),meta.imports.length>0&&definitionMap.set("imports",refsToArray(meta.imports,meta.containsForwardDecls)),meta.exports.length>0&&definitionMap.set("exports",refsToArray(meta.exports,meta.containsForwardDecls));else if(meta.selectorScopeMode===R3SelectorScopeMode.SideEffect){const setNgModuleScopeCall=function generateSetNgModuleScopeCall(meta){const scopeMap=new DefinitionMap;meta.kind===R3NgModuleMetadataKind.Global?meta.declarations.length>0&&scopeMap.set("declarations",refsToArray(meta.declarations,meta.containsForwardDecls)):meta.declarationsExpression&&scopeMap.set("declarations",meta.declarationsExpression);meta.kind===R3NgModuleMetadataKind.Global?meta.imports.length>0&&scopeMap.set("imports",refsToArray(meta.imports,meta.containsForwardDecls)):meta.importsExpression&&scopeMap.set("imports",meta.importsExpression);meta.kind===R3NgModuleMetadataKind.Global?meta.exports.length>0&&scopeMap.set("exports",refsToArray(meta.exports,meta.containsForwardDecls)):meta.exportsExpression&&scopeMap.set("exports",meta.exportsExpression);meta.kind===R3NgModuleMetadataKind.Local&&meta.bootstrapExpression&&scopeMap.set("bootstrap",meta.bootstrapExpression);if(0===Object.keys(scopeMap.values).length)return null;const fnCall=new InvokeFunctionExpr(importExpr(Identifiers.setNgModuleScope),[meta.type.value,scopeMap.toLiteralMap()]),guardedCall=function jitOnlyGuardedExpression(expr){return guardedExpression("ngJitMode",expr)}(fnCall),iife=new FunctionExpr([],[guardedCall.toStmt()]);return new InvokeFunctionExpr(iife,[]).toStmt()}(meta);null!==setNgModuleScopeCall&&statements.push(setNgModuleScopeCall)}null!==meta.schemas&&meta.schemas.length>0&&definitionMap.set("schemas",literalArr(meta.schemas.map(ref=>ref.value))),null!==meta.id&&(definitionMap.set("id",meta.id),statements.push(importExpr(Identifiers.registerNgModuleType).callFn([meta.type.value,meta.id]).toStmt()));return{expression:importExpr(Identifiers.defineNgModule).callFn([definitionMap.toLiteralMap()],void 0,!0),type:createNgModuleType(meta),statements}}function createNgModuleType(meta){if(meta.kind===R3NgModuleMetadataKind.Local)return new ExpressionType(meta.type.value);const{type:moduleType,declarations,exports,imports,includeImportTypes,publicDeclarationTypes}=meta;return new ExpressionType(importExpr(Identifiers.NgModuleDeclaration,[new ExpressionType(moduleType.type),null===publicDeclarationTypes?tupleTypeOf(declarations):tupleOfTypes(publicDeclarationTypes),includeImportTypes?tupleTypeOf(imports):NONE_TYPE,tupleTypeOf(exports)]))}function tupleTypeOf(exp){const types=exp.map(ref=>typeofExpr(ref.type));return exp.length>0?expressionType(literalArr(types)):NONE_TYPE}function tupleOfTypes(types){const typeofTypes=types.map(type=>typeofExpr(type));return types.length>0?expressionType(literalArr(typeofTypes)):NONE_TYPE}function compilePipeFromMetadata(metadata){const definitionMapValues=[];definitionMapValues.push({key:"name",value:literal(metadata.pipeName??metadata.name),quoted:!1}),definitionMapValues.push({key:"type",value:metadata.type.value,quoted:!1}),definitionMapValues.push({key:"pure",value:literal(metadata.pure),quoted:!1}),!1===metadata.isStandalone&&definitionMapValues.push({key:"standalone",value:literal(!1),quoted:!1});return{expression:importExpr(Identifiers.definePipe).callFn([literalMap(definitionMapValues)],void 0,!0),type:createPipeType(metadata),statements:[]}}function createPipeType(metadata){return new ExpressionType(importExpr(Identifiers.PipeDeclaration,[typeWithParameters(metadata.type.type,metadata.typeArgumentCount),new ExpressionType(new LiteralExpr(metadata.pipeName)),new ExpressionType(new LiteralExpr(metadata.isStandalone))]))}!function(R3SelectorScopeMode){R3SelectorScopeMode[R3SelectorScopeMode.Inline=0]="Inline",R3SelectorScopeMode[R3SelectorScopeMode.SideEffect=1]="SideEffect",R3SelectorScopeMode[R3SelectorScopeMode.Omit=2]="Omit"}(R3SelectorScopeMode||(R3SelectorScopeMode={})),function(R3NgModuleMetadataKind){R3NgModuleMetadataKind[R3NgModuleMetadataKind.Global=0]="Global",R3NgModuleMetadataKind[R3NgModuleMetadataKind.Local=1]="Local"}(R3NgModuleMetadataKind||(R3NgModuleMetadataKind={})),function(R3TemplateDependencyKind){R3TemplateDependencyKind[R3TemplateDependencyKind.Directive=0]="Directive",R3TemplateDependencyKind[R3TemplateDependencyKind.Pipe=1]="Pipe",R3TemplateDependencyKind[R3TemplateDependencyKind.NgModule=2]="NgModule"}(R3TemplateDependencyKind||(R3TemplateDependencyKind={}));const animationKeywords=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),scopedAtRuleIdentifiers=["@media","@supports","@document","@layer","@container","@scope","@starting-style"];class ShadowCss{shimCssText(cssText,selector,hostSelector=""){const comments=[];cssText=cssText.replace(_commentRe,m=>{if(m.match(_commentWithHashRe))comments.push(m);else{const newLinesMatches=m.match(_newLinesRe);comments.push((newLinesMatches?.join("")??"")+"\n")}return COMMENT_PLACEHOLDER}),cssText=this._insertDirectives(cssText);const scopedCssText=this._scopeCssText(cssText,selector,hostSelector);let commentIdx=0;return scopedCssText.replace(_commentWithHashPlaceHolderRe,()=>comments[commentIdx++])}_insertDirectives(cssText){return cssText=this._insertPolyfillDirectivesInCssText(cssText),this._insertPolyfillRulesInCssText(cssText)}_scopeKeyframesRelatedCss(cssText,scopeSelector){const unscopedKeyframesSet=new Set,scopedKeyframesCssText=processRules(cssText,rule=>this._scopeLocalKeyframeDeclarations(rule,scopeSelector,unscopedKeyframesSet));return processRules(scopedKeyframesCssText,rule=>this._scopeAnimationRule(rule,scopeSelector,unscopedKeyframesSet))}_scopeLocalKeyframeDeclarations(rule,scopeSelector,unscopedKeyframesSet){return{...rule,selector:rule.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(_,start,quote,keyframeName,endSpaces)=>(unscopedKeyframesSet.add(unescapeQuotes(keyframeName,quote)),`${start}${quote}${scopeSelector}_${keyframeName}${quote}${endSpaces}`))}}_scopeAnimationKeyframe(keyframe,scopeSelector,unscopedKeyframesSet){return keyframe.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(_,spaces1,quote,name,spaces2)=>`${spaces1}${quote}${name=`${unscopedKeyframesSet.has(unescapeQuotes(name,quote))?scopeSelector+"_":""}${name}`}${quote}${spaces2}`)}_animationDeclarationKeyframesRe=/(^|\s+|,)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g;_scopeAnimationRule(rule,scopeSelector,unscopedKeyframesSet){let content=rule.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation\s*:\s*),*([^;]+)/g,(_,start,animationDeclarations)=>start+animationDeclarations.replace(this._animationDeclarationKeyframesRe,(original,leadingSpaces,quote="",quotedName,nonQuotedName)=>quotedName?`${leadingSpaces}${this._scopeAnimationKeyframe(`${quote}${quotedName}${quote}`,scopeSelector,unscopedKeyframesSet)}`:animationKeywords.has(nonQuotedName)?original:`${leadingSpaces}${this._scopeAnimationKeyframe(nonQuotedName,scopeSelector,unscopedKeyframesSet)}`));return content=content.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(_match,start,commaSeparatedKeyframes)=>`${start}${commaSeparatedKeyframes.split(",").map(keyframe=>this._scopeAnimationKeyframe(keyframe,scopeSelector,unscopedKeyframesSet)).join(",")}`),{...rule,content}}_insertPolyfillDirectivesInCssText(cssText){return cssText.replace(_cssContentNextSelectorRe,function(...m){return m[2]+"{"})}_insertPolyfillRulesInCssText(cssText){return cssText.replace(_cssContentRuleRe,(...m)=>{const rule=m[0].replace(m[1],"").replace(m[2],"");return m[4]+rule})}_scopeCssText(cssText,scopeSelector,hostSelector){const unscopedRules=this._extractUnscopedRulesFromCssText(cssText);return cssText=this._insertPolyfillHostInCssText(cssText),cssText=this._convertColonHost(cssText),cssText=this._convertColonHostContext(cssText),cssText=this._convertShadowDOMSelectors(cssText),scopeSelector&&(cssText=this._scopeKeyframesRelatedCss(cssText,scopeSelector),cssText=this._scopeSelectors(cssText,scopeSelector,hostSelector)),(cssText=cssText+"\n"+unscopedRules).trim()}_extractUnscopedRulesFromCssText(cssText){let m,r="";for(_cssContentUnscopedRuleRe.lastIndex=0;null!==(m=_cssContentUnscopedRuleRe.exec(cssText));){r+=m[0].replace(m[2],"").replace(m[1],m[4])+"\n\n"}return r}_convertColonHost(cssText){return cssText.replace(_cssColonHostRe,(_,hostSelectors,otherSelectors)=>{if(hostSelectors){const convertedSelectors=[],hostSelectorArray=hostSelectors.split(",").map(p=>p.trim());for(const hostSelector of hostSelectorArray){if(!hostSelector)break;const convertedSelector=_polyfillHostNoCombinator+hostSelector.replace(_polyfillHost,"")+otherSelectors;convertedSelectors.push(convertedSelector)}return convertedSelectors.join(",")}return _polyfillHostNoCombinator+otherSelectors})}_convertColonHostContext(cssText){const length=cssText.length;let parens=0,prev=0,result="";for(let i=0;i<length;i++){const char=cssText[i];if(","!==char||0!==parens){if(i===length-1){result+=this._convertColonHostContextInSelectorPart(cssText.slice(prev));break}"("===char?parens++:")"===char&&parens--}else result+=this._convertColonHostContextInSelectorPart(cssText.slice(prev,i))+",",prev=i+1}return result}_convertColonHostContextInSelectorPart(cssText){return cssText.replace(_cssColonHostContextReGlobal,(selectorText,pseudoPrefix)=>{const contextSelectorGroups=[[]];let match;for(;match=_cssColonHostContextRe.exec(selectorText);){const newContextSelectors=(match[1]??"").trim().split(",").map(m=>m.trim()).filter(m=>""!==m),contextSelectorGroupsLength=contextSelectorGroups.length;repeatGroups(contextSelectorGroups,newContextSelectors.length);for(let i=0;i<newContextSelectors.length;i++)for(let j=0;j<contextSelectorGroupsLength;j++)contextSelectorGroups[j+i*contextSelectorGroupsLength].push(newContextSelectors[i]);selectorText=match[2]}return contextSelectorGroups.map(contextSelectors=>function _combineHostContextSelectors(contextSelectors,otherSelectors,pseudoPrefix=""){const hostMarker=_polyfillHostNoCombinator;_polyfillHostRe.lastIndex=0;const otherSelectorsHasHost=_polyfillHostRe.test(otherSelectors);if(0===contextSelectors.length)return hostMarker+otherSelectors;const combined=[contextSelectors.pop()||""];for(;contextSelectors.length>0;){const length=combined.length,contextSelector=contextSelectors.pop();for(let i=0;i<length;i++){const previousSelectors=combined[i];combined[2*length+i]=previousSelectors+" "+contextSelector,combined[length+i]=contextSelector+" "+previousSelectors,combined[i]=contextSelector+previousSelectors}}return combined.map(s=>otherSelectorsHasHost?`${pseudoPrefix}${s}${otherSelectors}`:`${pseudoPrefix}${s}${hostMarker}${otherSelectors}, ${pseudoPrefix}${s} ${hostMarker}${otherSelectors}`).join(",")}(contextSelectors,selectorText,pseudoPrefix)).join(", ")})}_convertShadowDOMSelectors(cssText){return _shadowDOMSelectorsRe.reduce((result,pattern)=>result.replace(pattern," "),cssText)}_scopeSelectors(cssText,scopeSelector,hostSelector){return processRules(cssText,rule=>{let selector=rule.selector,content=rule.content;return"@"!==rule.selector[0]?selector=this._scopeSelector({selector,scopeSelector,hostSelector,isParentSelector:!0}):scopedAtRuleIdentifiers.some(atRule=>rule.selector.startsWith(atRule))?content=this._scopeSelectors(rule.content,scopeSelector,hostSelector):(rule.selector.startsWith("@font-face")||rule.selector.startsWith("@page"))&&(content=this._stripScopingSelectors(rule.content)),new CssRule(selector,content)})}_stripScopingSelectors(cssText){return processRules(cssText,rule=>{const selector=rule.selector.replace(_shadowDeepSelectors," ").replace(_polyfillHostNoCombinatorRe," ");return new CssRule(selector,rule.content)})}_safeSelector;_shouldScopeIndicator;_scopeSelector({selector,scopeSelector,hostSelector,isParentSelector=!1}){return selector.split(/ ?,(?!(?:[^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\))) ?/).map(part=>part.split(_shadowDeepSelectors)).map(deepParts=>{const[shallowPart,...otherParts]=deepParts;return[(shallowPart=>this._selectorNeedsScoping(shallowPart,scopeSelector)?this._applySelectorScope({selector:shallowPart,scopeSelector,hostSelector,isParentSelector}):shallowPart)(shallowPart),...otherParts].join(" ")}).join(", ")}_selectorNeedsScoping(selector,scopeSelector){return!this._makeScopeMatcher(scopeSelector).test(selector)}_makeScopeMatcher(scopeSelector){return scopeSelector=scopeSelector.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+scopeSelector+")"+_selectorReSuffix,"m")}_applySimpleSelectorScope(selector,scopeSelector,hostSelector){if(_polyfillHostRe.lastIndex=0,_polyfillHostRe.test(selector)){const replaceBy=`[${hostSelector}]`;let result=selector;for(;result.match(_polyfillHostNoCombinatorRe);)result=result.replace(_polyfillHostNoCombinatorRe,(_hnc,selector)=>selector.replace(/([^:\)]*)(:*)(.*)/,(_,before,colon,after)=>before+replaceBy+colon+after));return result.replace(_polyfillHostRe,replaceBy)}return scopeSelector+" "+selector}_applySelectorScope({selector,scopeSelector,hostSelector,isParentSelector}){const attrName=`[${scopeSelector=scopeSelector.replace(/\[is=([^\]]*)\]/g,(_,...parts)=>parts[0])}]`,_scopeSelectorPart=p=>{let scopedP=p.trim();if(!scopedP)return p;if(p.includes(_polyfillHostNoCombinator)){if(scopedP=this._applySimpleSelectorScope(p,scopeSelector,hostSelector),!p.match(_polyfillHostNoCombinatorOutsidePseudoFunction)){const[_,before,colon,after]=scopedP.match(/([^:]*)(:*)([\s\S]*)/);scopedP=before+attrName+colon+after}}else{const t=p.replace(_polyfillHostRe,"");if(t.length>0){const matches=t.match(/([^:]*)(:*)([\s\S]*)/);matches&&(scopedP=matches[1]+attrName+matches[2]+matches[3])}}return scopedP},_pseudoFunctionAwareScopeSelectorPart=selectorPart=>{let scopedPart="";const pseudoSelectorParts=[];let pseudoSelectorMatch;for(;null!==(pseudoSelectorMatch=_cssPrefixWithPseudoSelectorFunction.exec(selectorPart));){let openedBrackets=1,index=_cssPrefixWithPseudoSelectorFunction.lastIndex;for(;index<selectorPart.length;){const currentSymbol=selectorPart[index];if(index++,"("!==currentSymbol){if(")"!==currentSymbol);else if(openedBrackets--,0===openedBrackets)break}else openedBrackets++}pseudoSelectorParts.push(`${pseudoSelectorMatch[0]}${selectorPart.slice(_cssPrefixWithPseudoSelectorFunction.lastIndex,index)}`),_cssPrefixWithPseudoSelectorFunction.lastIndex=index}return pseudoSelectorParts.join("")===selectorPart?scopedPart=pseudoSelectorParts.map(selectorPart=>{const[cssPseudoSelectorFunction]=selectorPart.match(_cssPrefixWithPseudoSelectorFunction)??[],selectorToScope=selectorPart.slice(cssPseudoSelectorFunction?.length,-1);selectorToScope.includes(_polyfillHostNoCombinator)&&(this._shouldScopeIndicator=!0);return`${cssPseudoSelectorFunction}${this._scopeSelector({selector:selectorToScope,scopeSelector,hostSelector})})`}).join(""):(this._shouldScopeIndicator=this._shouldScopeIndicator||selectorPart.includes(_polyfillHostNoCombinator),scopedPart=this._shouldScopeIndicator?_scopeSelectorPart(selectorPart):selectorPart),scopedPart};isParentSelector&&(this._safeSelector=new SafeSelector(selector),selector=this._safeSelector.content());let res,scopedSelector="",startIndex=0;const sep=/( |>|\+|~(?!=))(?!([^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\)))\s*/g,hasHost=selector.includes(_polyfillHostNoCombinator);for((isParentSelector||this._shouldScopeIndicator)&&(this._shouldScopeIndicator=!hasHost);null!==(res=sep.exec(selector));){const separator=res[1],part=selector.slice(startIndex,res.index);if(part.match(/__esc-ph-(\d+)__/)&&selector[res.index+1]?.match(/[a-fA-F\d]/))continue;scopedSelector+=`${_pseudoFunctionAwareScopeSelectorPart(part)} ${separator} `,startIndex=sep.lastIndex}return scopedSelector+=_pseudoFunctionAwareScopeSelectorPart(selector.substring(startIndex)),this._safeSelector.restore(scopedSelector)}_insertPolyfillHostInCssText(selector){return selector.replace(_colonHostContextRe,_polyfillHostContext).replace(_colonHostRe,_polyfillHost)}}class SafeSelector{placeholders=[];index=0;_content;constructor(selector){selector=(selector=this._escapeRegexMatches(selector,/(\[[^\]]*\])/g)).replace(/(\\.)/g,(_,keep)=>{const replaceBy=`__esc-ph-${this.index}__`;return this.placeholders.push(keep),this.index++,replaceBy}),this._content=selector.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(_,pseudo,exp)=>{const replaceBy=`__ph-${this.index}__`;return this.placeholders.push(exp),this.index++,pseudo+replaceBy})}restore(content){return content.replace(/__(?:ph|esc-ph)-(\d+)__/g,(_ph,index)=>this.placeholders[+index])}content(){return this._content}_escapeRegexMatches(content,pattern){return content.replace(pattern,(_,keep)=>{const replaceBy=`__ph-${this.index}__`;return this.placeholders.push(keep),this.index++,replaceBy})}}const _cssPrefixWithPseudoSelectorFunction=/:(where|is)\(/gi,_cssContentNextSelectorRe=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,_cssContentRuleRe=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,_cssContentUnscopedRuleRe=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,_polyfillHost="-shadowcsshost",_polyfillHostContext="-shadowcsscontext",_cssColonHostRe=new RegExp(_polyfillHost+"(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)","gim"),_hostContextPattern=_polyfillHostContext+"(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^{]*)",_cssColonHostContextReGlobal=new RegExp(`(:(where|is)\\()?(${_hostContextPattern})`,"gim"),_cssColonHostContextRe=new RegExp(_hostContextPattern,"im"),_polyfillHostNoCombinator=_polyfillHost+"-no-combinator",_polyfillHostNoCombinatorOutsidePseudoFunction=new RegExp(`${_polyfillHostNoCombinator}(?![^(]*\\))`,"g"),_polyfillHostNoCombinatorRe=/-shadowcsshost-no-combinator([^\s,]*)/,_shadowDOMSelectorsRe=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],_shadowDeepSelectors=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,_selectorReSuffix="([>\\s~+[.,{:][\\s\\S]*)?$",_polyfillHostRe=/-shadowcsshost/gim,_colonHostRe=/:host/gim,_colonHostContextRe=/:host-context/gim,_newLinesRe=/\r?\n/g,_commentRe=/\/\*[\s\S]*?\*\//g,_commentWithHashRe=/\/\*\s*#\s*source(Mapping)?URL=/g,COMMENT_PLACEHOLDER="%COMMENT%",_commentWithHashPlaceHolderRe=new RegExp(COMMENT_PLACEHOLDER,"g"),BLOCK_PLACEHOLDER="%BLOCK%",_ruleRe=new RegExp(`(\\s*(?:${COMMENT_PLACEHOLDER}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),CONTENT_PAIRS=new Map([["{","}"]]),_cssCommaInPlaceholderReGlobal=new RegExp("%COMMA_IN_PLACEHOLDER%","g"),_cssSemiInPlaceholderReGlobal=new RegExp("%SEMI_IN_PLACEHOLDER%","g"),_cssColonInPlaceholderReGlobal=new RegExp("%COLON_IN_PLACEHOLDER%","g");class CssRule{selector;content;constructor(selector,content){this.selector=selector,this.content=content}}function processRules(input,ruleCallback){const escaped=function escapeInStrings(input){let result=input,currentQuoteChar=null;for(let i=0;i<result.length;i++){const char=result[i];if("\\"===char)i++;else if(null!==currentQuoteChar)if(char===currentQuoteChar)currentQuoteChar=null;else{const placeholder=ESCAPE_IN_STRING_MAP[char];placeholder&&(result=`${result.substr(0,i)}${placeholder}${result.substr(i+1)}`,i+=placeholder.length-1)}else"'"!==char&&'"'!==char||(currentQuoteChar=char)}return result}(input),inputWithEscapedBlocks=function escapeBlocks(input,charPairs,placeholder){const resultParts=[],escapedBlocks=[];let openChar,closeChar,openCharCount=0,nonBlockStartIndex=0,blockStartIndex=-1;for(let i=0;i<input.length;i++){const char=input[i];"\\"===char?i++:char===closeChar?(openCharCount--,0===openCharCount&&(escapedBlocks.push(input.substring(blockStartIndex,i)),resultParts.push(placeholder),nonBlockStartIndex=i,blockStartIndex=-1,openChar=closeChar=void 0)):char===openChar?openCharCount++:0===openCharCount&&charPairs.has(char)&&(openChar=char,closeChar=charPairs.get(char),openCharCount=1,blockStartIndex=i+1,resultParts.push(input.substring(nonBlockStartIndex,blockStartIndex)))}-1!==blockStartIndex?(escapedBlocks.push(input.substring(blockStartIndex)),resultParts.push(placeholder)):resultParts.push(input.substring(nonBlockStartIndex));return new StringWithEscapedBlocks(resultParts.join(""),escapedBlocks)}(escaped,CONTENT_PAIRS,BLOCK_PLACEHOLDER);let nextBlockIndex=0;return function unescapeInStrings(input){let result=input.replace(_cssCommaInPlaceholderReGlobal,",");return result=result.replace(_cssSemiInPlaceholderReGlobal,";"),result=result.replace(_cssColonInPlaceholderReGlobal,":"),result}(inputWithEscapedBlocks.escapedString.replace(_ruleRe,(...m)=>{const selector=m[2];let content="",suffix=m[4],contentPrefix="";suffix&&suffix.startsWith("{"+BLOCK_PLACEHOLDER)&&(content=inputWithEscapedBlocks.blocks[nextBlockIndex++],suffix=suffix.substring(BLOCK_PLACEHOLDER.length+1),contentPrefix="{");const rule=ruleCallback(new CssRule(selector,content));return`${m[1]}${rule.selector}${m[3]}${contentPrefix}${rule.content}${suffix}`}))}class StringWithEscapedBlocks{escapedString;blocks;constructor(escapedString,blocks){this.escapedString=escapedString,this.blocks=blocks}}const ESCAPE_IN_STRING_MAP={";":"%SEMI_IN_PLACEHOLDER%",",":"%COMMA_IN_PLACEHOLDER%",":":"%COLON_IN_PLACEHOLDER%"};function unescapeQuotes(str,isQuoted){return isQuoted?str.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):str}function repeatGroups(groups,multiples){const length=groups.length;for(let i=1;i<multiples;i++)for(let j=0;j<length;j++)groups[j+i*length]=groups[j].slice(0)}var OpKind,ExpressionKind,VariableFlags,SemanticVariableKind,CompatibilityMode,BindingKind,I18nParamResolutionTime,I18nExpressionFor,I18nParamValueFlags,Namespace,DeferTriggerKind,I18nContextKind,TemplateKind;!function(OpKind){OpKind[OpKind.ListEnd=0]="ListEnd",OpKind[OpKind.Statement=1]="Statement",OpKind[OpKind.Variable=2]="Variable",OpKind[OpKind.ElementStart=3]="ElementStart",OpKind[OpKind.Element=4]="Element",OpKind[OpKind.Template=5]="Template",OpKind[OpKind.ElementEnd=6]="ElementEnd",OpKind[OpKind.ContainerStart=7]="ContainerStart",OpKind[OpKind.Container=8]="Container",OpKind[OpKind.ContainerEnd=9]="ContainerEnd",OpKind[OpKind.DisableBindings=10]="DisableBindings",OpKind[OpKind.ConditionalCreate=11]="ConditionalCreate",OpKind[OpKind.ConditionalBranchCreate=12]="ConditionalBranchCreate",OpKind[OpKind.Conditional=13]="Conditional",OpKind[OpKind.EnableBindings=14]="EnableBindings",OpKind[OpKind.Text=15]="Text",OpKind[OpKind.Listener=16]="Listener",OpKind[OpKind.InterpolateText=17]="InterpolateText",OpKind[OpKind.Binding=18]="Binding",OpKind[OpKind.Property=19]="Property",OpKind[OpKind.StyleProp=20]="StyleProp",OpKind[OpKind.ClassProp=21]="ClassProp",OpKind[OpKind.StyleMap=22]="StyleMap",OpKind[OpKind.ClassMap=23]="ClassMap",OpKind[OpKind.Advance=24]="Advance",OpKind[OpKind.Pipe=25]="Pipe",OpKind[OpKind.Attribute=26]="Attribute",OpKind[OpKind.ExtractedAttribute=27]="ExtractedAttribute",OpKind[OpKind.Defer=28]="Defer",OpKind[OpKind.DeferOn=29]="DeferOn",OpKind[OpKind.DeferWhen=30]="DeferWhen",OpKind[OpKind.I18nMessage=31]="I18nMessage",OpKind[OpKind.DomProperty=32]="DomProperty",OpKind[OpKind.Namespace=33]="Namespace",OpKind[OpKind.ProjectionDef=34]="ProjectionDef",OpKind[OpKind.Projection=35]="Projection",OpKind[OpKind.RepeaterCreate=36]="RepeaterCreate",OpKind[OpKind.Repeater=37]="Repeater",OpKind[OpKind.TwoWayProperty=38]="TwoWayProperty",OpKind[OpKind.TwoWayListener=39]="TwoWayListener",OpKind[OpKind.DeclareLet=40]="DeclareLet",OpKind[OpKind.StoreLet=41]="StoreLet",OpKind[OpKind.I18nStart=42]="I18nStart",OpKind[OpKind.I18n=43]="I18n",OpKind[OpKind.I18nEnd=44]="I18nEnd",OpKind[OpKind.I18nExpression=45]="I18nExpression",OpKind[OpKind.I18nApply=46]="I18nApply",OpKind[OpKind.IcuStart=47]="IcuStart",OpKind[OpKind.IcuEnd=48]="IcuEnd",OpKind[OpKind.IcuPlaceholder=49]="IcuPlaceholder",OpKind[OpKind.I18nContext=50]="I18nContext",OpKind[OpKind.I18nAttributes=51]="I18nAttributes",OpKind[OpKind.SourceLocation=52]="SourceLocation",OpKind[OpKind.Animation=53]="Animation",OpKind[OpKind.AnimationString=54]="AnimationString",OpKind[OpKind.AnimationBinding=55]="AnimationBinding",OpKind[OpKind.AnimationListener=56]="AnimationListener"}(OpKind||(OpKind={})),function(ExpressionKind){ExpressionKind[ExpressionKind.LexicalRead=0]="LexicalRead",ExpressionKind[ExpressionKind.Context=1]="Context",ExpressionKind[ExpressionKind.TrackContext=2]="TrackContext",ExpressionKind[ExpressionKind.ReadVariable=3]="ReadVariable",ExpressionKind[ExpressionKind.NextContext=4]="NextContext",ExpressionKind[ExpressionKind.Reference=5]="Reference",ExpressionKind[ExpressionKind.StoreLet=6]="StoreLet",ExpressionKind[ExpressionKind.ContextLetReference=7]="ContextLetReference",ExpressionKind[ExpressionKind.GetCurrentView=8]="GetCurrentView",ExpressionKind[ExpressionKind.RestoreView=9]="RestoreView",ExpressionKind[ExpressionKind.ResetView=10]="ResetView",ExpressionKind[ExpressionKind.PureFunctionExpr=11]="PureFunctionExpr",ExpressionKind[ExpressionKind.PureFunctionParameterExpr=12]="PureFunctionParameterExpr",ExpressionKind[ExpressionKind.PipeBinding=13]="PipeBinding",ExpressionKind[ExpressionKind.PipeBindingVariadic=14]="PipeBindingVariadic",ExpressionKind[ExpressionKind.SafePropertyRead=15]="SafePropertyRead",ExpressionKind[ExpressionKind.SafeKeyedRead=16]="SafeKeyedRead",ExpressionKind[ExpressionKind.SafeInvokeFunction=17]="SafeInvokeFunction",ExpressionKind[ExpressionKind.SafeTernaryExpr=18]="SafeTernaryExpr",ExpressionKind[ExpressionKind.EmptyExpr=19]="EmptyExpr",ExpressionKind[ExpressionKind.AssignTemporaryExpr=20]="AssignTemporaryExpr",ExpressionKind[ExpressionKind.ReadTemporaryExpr=21]="ReadTemporaryExpr",ExpressionKind[ExpressionKind.SlotLiteralExpr=22]="SlotLiteralExpr",ExpressionKind[ExpressionKind.ConditionalCase=23]="ConditionalCase",ExpressionKind[ExpressionKind.ConstCollected=24]="ConstCollected",ExpressionKind[ExpressionKind.TwoWayBindingSet=25]="TwoWayBindingSet"}(ExpressionKind||(ExpressionKind={})),function(VariableFlags){VariableFlags[VariableFlags.None=0]="None",VariableFlags[VariableFlags.AlwaysInline=1]="AlwaysInline"}(VariableFlags||(VariableFlags={})),function(SemanticVariableKind){SemanticVariableKind[SemanticVariableKind.Context=0]="Context",SemanticVariableKind[SemanticVariableKind.Identifier=1]="Identifier",SemanticVariableKind[SemanticVariableKind.SavedView=2]="SavedView",SemanticVariableKind[SemanticVariableKind.Alias=3]="Alias"}(SemanticVariableKind||(SemanticVariableKind={})),function(CompatibilityMode){CompatibilityMode[CompatibilityMode.Normal=0]="Normal",CompatibilityMode[CompatibilityMode.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder"}(CompatibilityMode||(CompatibilityMode={})),function(BindingKind){BindingKind[BindingKind.Attribute=0]="Attribute",BindingKind[BindingKind.ClassName=1]="ClassName",BindingKind[BindingKind.StyleProperty=2]="StyleProperty",BindingKind[BindingKind.Property=3]="Property",BindingKind[BindingKind.Template=4]="Template",BindingKind[BindingKind.I18n=5]="I18n",BindingKind[BindingKind.LegacyAnimation=6]="LegacyAnimation",BindingKind[BindingKind.TwoWayProperty=7]="TwoWayProperty",BindingKind[BindingKind.Animation=8]="Animation"}(BindingKind||(BindingKind={})),function(I18nParamResolutionTime){I18nParamResolutionTime[I18nParamResolutionTime.Creation=0]="Creation",I18nParamResolutionTime[I18nParamResolutionTime.Postproccessing=1]="Postproccessing"}(I18nParamResolutionTime||(I18nParamResolutionTime={})),function(I18nExpressionFor){I18nExpressionFor[I18nExpressionFor.I18nText=0]="I18nText",I18nExpressionFor[I18nExpressionFor.I18nAttribute=1]="I18nAttribute"}(I18nExpressionFor||(I18nExpressionFor={})),function(I18nParamValueFlags){I18nParamValueFlags[I18nParamValueFlags.None=0]="None",I18nParamValueFlags[I18nParamValueFlags.ElementTag=1]="ElementTag",I18nParamValueFlags[I18nParamValueFlags.TemplateTag=2]="TemplateTag",I18nParamValueFlags[I18nParamValueFlags.OpenTag=4]="OpenTag",I18nParamValueFlags[I18nParamValueFlags.CloseTag=8]="CloseTag",I18nParamValueFlags[I18nParamValueFlags.ExpressionIndex=16]="ExpressionIndex"}(I18nParamValueFlags||(I18nParamValueFlags={})),function(Namespace){Namespace[Namespace.HTML=0]="HTML",Namespace[Namespace.SVG=1]="SVG",Namespace[Namespace.Math=2]="Math"}(Namespace||(Namespace={})),function(DeferTriggerKind){DeferTriggerKind[DeferTriggerKind.Idle=0]="Idle",DeferTriggerKind[DeferTriggerKind.Immediate=1]="Immediate",DeferTriggerKind[DeferTriggerKind.Timer=2]="Timer",DeferTriggerKind[DeferTriggerKind.Hover=3]="Hover",DeferTriggerKind[DeferTriggerKind.Interaction=4]="Interaction",DeferTriggerKind[DeferTriggerKind.Viewport=5]="Viewport",DeferTriggerKind[DeferTriggerKind.Never=6]="Never"}(DeferTriggerKind||(DeferTriggerKind={})),function(I18nContextKind){I18nContextKind[I18nContextKind.RootI18n=0]="RootI18n",I18nContextKind[I18nContextKind.Icu=1]="Icu",I18nContextKind[I18nContextKind.Attr=2]="Attr"}(I18nContextKind||(I18nContextKind={})),function(TemplateKind){TemplateKind[TemplateKind.NgTemplate=0]="NgTemplate",TemplateKind[TemplateKind.Structural=1]="Structural",TemplateKind[TemplateKind.Block=2]="Block"}(TemplateKind||(TemplateKind={}));const ConsumesSlot=Symbol("ConsumesSlot"),DependsOnSlotContext=Symbol("DependsOnSlotContext"),ConsumesVarsTrait=Symbol("ConsumesVars"),UsesVarOffset=Symbol("UsesVarOffset"),TRAIT_CONSUMES_SLOT={[ConsumesSlot]:!0,numSlotsUsed:1},TRAIT_DEPENDS_ON_SLOT_CONTEXT={[DependsOnSlotContext]:!0},TRAIT_CONSUMES_VARS={[ConsumesVarsTrait]:!0};function hasConsumesSlotTrait(op){return!0===op[ConsumesSlot]}function hasDependsOnSlotContextTrait(value){return!0===value[DependsOnSlotContext]}function hasConsumesVarsTrait(value){return!0===value[ConsumesVarsTrait]}function hasUsesVarOffsetTrait(expr){return!0===expr[UsesVarOffset]}function createStatementOp(statement){return{kind:OpKind.Statement,statement,...NEW_OP}}function createVariableOp(xref,variable,initializer,flags){return{kind:OpKind.Variable,xref,variable,initializer,flags,...NEW_OP}}const NEW_OP={debugListId:null,prev:null,next:null};class Interpolation{strings;expressions;i18nPlaceholders;constructor(strings,expressions,i18nPlaceholders){if(this.strings=strings,this.expressions=expressions,this.i18nPlaceholders=i18nPlaceholders,0!==i18nPlaceholders.length&&i18nPlaceholders.length!==expressions.length)throw new Error(`Expected ${expressions.length} placeholders to match interpolation expression count, but got ${i18nPlaceholders.length}`)}}function createBindingOp(target,kind,name,expression,unit,securityContext,isTextAttribute,isStructuralTemplateAttribute,templateKind,i18nMessage,sourceSpan){return{kind:OpKind.Binding,bindingKind:kind,target,name,expression,unit,securityContext,isTextAttribute,isStructuralTemplateAttribute,templateKind,i18nContext:null,i18nMessage,sourceSpan,...NEW_OP}}function createPropertyOp(target,name,expression,bindingKind,securityContext,isStructuralTemplateAttribute,templateKind,i18nContext,i18nMessage,sourceSpan){return{kind:OpKind.Property,target,name,expression,bindingKind,securityContext,sanitizer:null,isStructuralTemplateAttribute,templateKind,i18nContext,i18nMessage,sourceSpan,...TRAIT_DEPENDS_ON_SLOT_CONTEXT,...TRAIT_CONSUMES_VARS,...NEW_OP}}function createTwoWayPropertyOp(target,name,expression,securityContext,isStructuralTemplateAttribute,templateKind,i18nContext,i18nMessage,sourceSpan){return{kind:OpKind.TwoWayProperty,target,name,expression,securityContext,sanitizer:null,isStructuralTemplateAttribute,templateKind,i18nContext,i18nMessage,sourceSpan,...TRAIT_DEPENDS_ON_SLOT_CONTEXT,...TRAIT_CONSUMES_VARS,...NEW_OP}}function createStylePropOp(xref,name,expression,unit,sourceSpan){return{kind:OpKind.StyleProp,target:xref,name,expression,unit,sourceSpan,...TRAIT_DEPENDS_ON_SLOT_CONTEXT,...TRAIT_CONSUMES_VARS,...NEW_OP}}function createClassPropOp(xref,name,expression,sourceSpan){return{kind:OpKind.ClassProp,target:xref,name,expression,sourceSpan,...TRAIT_DEPENDS_ON_SLOT_CONTEXT,...TRAIT_CONSUMES_VARS,...NEW_OP}}function createStyleMapOp(xref,expression,sourceSpan){return{kind:OpKind.StyleMap,target:xref,expression,sourceSpan,...TRAIT_DEPENDS_ON_SLOT_CONTEXT,...TRAIT_CONSUMES_VARS,...NEW_OP}}function createClassMapOp(xref,expression,sourceSpan){return{kind:OpKind.ClassMap,target:xref,expression,sourceSpan,...TRAIT_DEPENDS_ON_SLOT_CONTEXT,...TRAIT_CONSUMES_VARS,...NEW_OP}}function createAttributeOp(target,namespace,name,expression,securityContext,isTextAttribute,isStructuralTemplateAttribute,templateKind,i18nMessage,sourceSpan){return{kind:OpKind.Attribute,target,namespace,name,expression,securityContext,sanitizer:null,isTextAttribute,isStructuralTemplateAttribute,templateKind,i18nContext:null,i18nMessage,sourceSpan,...TRAIT_DEPENDS_ON_SLOT_CONTEXT,...TRAIT_CONSUMES_VARS,...NEW_OP}}function createAdvanceOp(delta,sourceSpan){return{kind:OpKind.Advance,delta,sourceSpan,...NEW_OP}}function createConditionalOp(target,test,conditions,sourceSpan){return{kind:OpKind.Conditional,target,test,conditions,processed:null,sourceSpan,contextValue:null,...NEW_OP,...TRAIT_DEPENDS_ON_SLOT_CONTEXT,...TRAIT_CONSUMES_VARS}}function createAnimationBindingOp(name,target,animationKind,expression,securityContext,sourceSpan,animationBindingKind){return{kind:OpKind.AnimationBinding,name,target,animationKind,expression,i18nMessage:null,securityContext,sanitizer:null,sourceSpan,animationBindingKind,...NEW_OP}}function createI18nExpressionOp(context,target,i18nOwner,handle,expression,icuPlaceholder,i18nPlaceholder,resolutionTime,usage,name,sourceSpan){return{kind:OpKind.I18nExpression,context,target,i18nOwner,handle,expression,icuPlaceholder,i18nPlaceholder,resolutionTime,usage,name,sourceSpan,...NEW_OP,...TRAIT_CONSUMES_VARS,...TRAIT_DEPENDS_ON_SLOT_CONTEXT}}function createI18nApplyOp(owner,handle,sourceSpan){return{kind:OpKind.I18nApply,owner,handle,sourceSpan,...NEW_OP}}function isIrExpression(expr){return expr instanceof ExpressionBase}class ExpressionBase extends Expression{constructor(sourceSpan=null){super(null,sourceSpan)}}class LexicalReadExpr extends ExpressionBase{name;kind=ExpressionKind.LexicalRead;constructor(name){super(),this.name=name}visitExpression(visitor,context){}isEquivalent(other){return this.name===other.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new LexicalReadExpr(this.name)}}class ReferenceExpr extends ExpressionBase{target;targetSlot;offset;kind=ExpressionKind.Reference;constructor(target,targetSlot,offset){super(),this.target=target,this.targetSlot=targetSlot,this.offset=offset}visitExpression(){}isEquivalent(e){return e instanceof ReferenceExpr&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new ReferenceExpr(this.target,this.targetSlot,this.offset)}}class StoreLetExpr extends ExpressionBase{target;value;sourceSpan;kind=ExpressionKind.StoreLet;[ConsumesVarsTrait]=!0;[DependsOnSlotContext]=!0;constructor(target,value,sourceSpan){super(),this.target=target,this.value=value,this.sourceSpan=sourceSpan}visitExpression(){}isEquivalent(e){return e instanceof StoreLetExpr&&e.target===this.target&&e.value.isEquivalent(this.value)}isConstant(){return!1}transformInternalExpressions(transform,flags){this.value=transformExpressionsInExpression(this.value,transform,flags)}clone(){return new StoreLetExpr(this.target,this.value,this.sourceSpan)}}class ContextLetReferenceExpr extends ExpressionBase{target;targetSlot;kind=ExpressionKind.ContextLetReference;constructor(target,targetSlot){super(),this.target=target,this.targetSlot=targetSlot}visitExpression(){}isEquivalent(e){return e instanceof ContextLetReferenceExpr&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new ContextLetReferenceExpr(this.target,this.targetSlot)}}class ContextExpr extends ExpressionBase{view;kind=ExpressionKind.Context;constructor(view){super(),this.view=view}visitExpression(){}isEquivalent(e){return e instanceof ContextExpr&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new ContextExpr(this.view)}}class TrackContextExpr extends ExpressionBase{view;kind=ExpressionKind.TrackContext;constructor(view){super(),this.view=view}visitExpression(){}isEquivalent(e){return e instanceof TrackContextExpr&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new TrackContextExpr(this.view)}}class NextContextExpr extends ExpressionBase{kind=ExpressionKind.NextContext;steps=1;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof NextContextExpr&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){const expr=new NextContextExpr;return expr.steps=this.steps,expr}}class GetCurrentViewExpr extends ExpressionBase{kind=ExpressionKind.GetCurrentView;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof GetCurrentViewExpr}isConstant(){return!1}transformInternalExpressions(){}clone(){return new GetCurrentViewExpr}}class RestoreViewExpr extends ExpressionBase{view;kind=ExpressionKind.RestoreView;constructor(view){super(),this.view=view}visitExpression(visitor,context){"number"!=typeof this.view&&this.view.visitExpression(visitor,context)}isEquivalent(e){return e instanceof RestoreViewExpr&&typeof e.view==typeof this.view&&("number"==typeof this.view?this.view===e.view:this.view.isEquivalent(e.view))}isConstant(){return!1}transformInternalExpressions(transform,flags){"number"!=typeof this.view&&(this.view=transformExpressionsInExpression(this.view,transform,flags))}clone(){return new RestoreViewExpr(this.view instanceof Expression?this.view.clone():this.view)}}class ResetViewExpr extends ExpressionBase{expr;kind=ExpressionKind.ResetView;constructor(expr){super(),this.expr=expr}visitExpression(visitor,context){this.expr.visitExpression(visitor,context)}isEquivalent(e){return e instanceof ResetViewExpr&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(transform,flags){this.expr=transformExpressionsInExpression(this.expr,transform,flags)}clone(){return new ResetViewExpr(this.expr.clone())}}class TwoWayBindingSetExpr extends ExpressionBase{target;value;kind=ExpressionKind.TwoWayBindingSet;constructor(target,value){super(),this.target=target,this.value=value}visitExpression(visitor,context){this.target.visitExpression(visitor,context),this.value.visitExpression(visitor,context)}isEquivalent(other){return this.target.isEquivalent(other.target)&&this.value.isEquivalent(other.value)}isConstant(){return!1}transformInternalExpressions(transform,flags){this.target=transformExpressionsInExpression(this.target,transform,flags),this.value=transformExpressionsInExpression(this.value,transform,flags)}clone(){return new TwoWayBindingSetExpr(this.target,this.value)}}class ReadVariableExpr extends ExpressionBase{xref;kind=ExpressionKind.ReadVariable;name=null;constructor(xref){super(),this.xref=xref}visitExpression(){}isEquivalent(other){return other instanceof ReadVariableExpr&&other.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){const expr=new ReadVariableExpr(this.xref);return expr.name=this.name,expr}}class PureFunctionExpr extends ExpressionBase{kind=ExpressionKind.PureFunctionExpr;[ConsumesVarsTrait]=!0;[UsesVarOffset]=!0;varOffset=null;body;args;fn=null;constructor(expression,args){super(),this.body=expression,this.args=args}visitExpression(visitor,context){this.body?.visitExpression(visitor,context);for(const arg of this.args)arg.visitExpression(visitor,context)}isEquivalent(other){return other instanceof PureFunctionExpr&&other.args.length===this.args.length&&(null!==other.body&&null!==this.body&&other.body.isEquivalent(this.body)&&other.args.every((arg,idx)=>arg.isEquivalent(this.args[idx])))}isConstant(){return!1}transformInternalExpressions(transform,flags){null!==this.body?this.body=transformExpressionsInExpression(this.body,transform,flags|VisitorContextFlag.InChildOperation):null!==this.fn&&(this.fn=transformExpressionsInExpression(this.fn,transform,flags));for(let i=0;i<this.args.length;i++)this.args[i]=transformExpressionsInExpression(this.args[i],transform,flags)}clone(){const expr=new PureFunctionExpr(this.body?.clone()??null,this.args.map(arg=>arg.clone()));return expr.fn=this.fn?.clone()??null,expr.varOffset=this.varOffset,expr}}class PureFunctionParameterExpr extends ExpressionBase{index;kind=ExpressionKind.PureFunctionParameterExpr;constructor(index){super(),this.index=index}visitExpression(){}isEquivalent(other){return other instanceof PureFunctionParameterExpr&&other.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new PureFunctionParameterExpr(this.index)}}class PipeBindingExpr extends ExpressionBase{target;targetSlot;name;args;kind=ExpressionKind.PipeBinding;[ConsumesVarsTrait]=!0;[UsesVarOffset]=!0;varOffset=null;constructor(target,targetSlot,name,args){super(),this.target=target,this.targetSlot=targetSlot,this.name=name,this.args=args}visitExpression(visitor,context){for(const arg of this.args)arg.visitExpression(visitor,context)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(transform,flags){for(let idx=0;idx<this.args.length;idx++)this.args[idx]=transformExpressionsInExpression(this.args[idx],transform,flags)}clone(){const r=new PipeBindingExpr(this.target,this.targetSlot,this.name,this.args.map(a=>a.clone()));return r.varOffset=this.varOffset,r}}class PipeBindingVariadicExpr extends ExpressionBase{target;targetSlot;name;args;numArgs;kind=ExpressionKind.PipeBindingVariadic;[ConsumesVarsTrait]=!0;[UsesVarOffset]=!0;varOffset=null;constructor(target,targetSlot,name,args,numArgs){super(),this.target=target,this.targetSlot=targetSlot,this.name=name,this.args=args,this.numArgs=numArgs}visitExpression(visitor,context){this.args.visitExpression(visitor,context)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(transform,flags){this.args=transformExpressionsInExpression(this.args,transform,flags)}clone(){const r=new PipeBindingVariadicExpr(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return r.varOffset=this.varOffset,r}}class SafePropertyReadExpr extends ExpressionBase{receiver;name;kind=ExpressionKind.SafePropertyRead;constructor(receiver,name){super(),this.receiver=receiver,this.name=name}get index(){return this.name}visitExpression(visitor,context){this.receiver.visitExpression(visitor,context)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(transform,flags){this.receiver=transformExpressionsInExpression(this.receiver,transform,flags)}clone(){return new SafePropertyReadExpr(this.receiver.clone(),this.name)}}class SafeKeyedReadExpr extends ExpressionBase{receiver;index;kind=ExpressionKind.SafeKeyedRead;constructor(receiver,index,sourceSpan){super(sourceSpan),this.receiver=receiver,this.index=index}visitExpression(visitor,context){this.receiver.visitExpression(visitor,context),this.index.visitExpression(visitor,context)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(transform,flags){this.receiver=transformExpressionsInExpression(this.receiver,transform,flags),this.index=transformExpressionsInExpression(this.index,transform,flags)}clone(){return new SafeKeyedReadExpr(this.receiver.clone(),this.index.clone(),this.sourceSpan)}}class SafeInvokeFunctionExpr extends ExpressionBase{receiver;args;kind=ExpressionKind.SafeInvokeFunction;constructor(receiver,args){super(),this.receiver=receiver,this.args=args}visitExpression(visitor,context){this.receiver.visitExpression(visitor,context);for(const a of this.args)a.visitExpression(visitor,context)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(transform,flags){this.receiver=transformExpressionsInExpression(this.receiver,transform,flags);for(let i=0;i<this.args.length;i++)this.args[i]=transformExpressionsInExpression(this.args[i],transform,flags)}clone(){return new SafeInvokeFunctionExpr(this.receiver.clone(),this.args.map(a=>a.clone()))}}class SafeTernaryExpr extends ExpressionBase{guard;expr;kind=ExpressionKind.SafeTernaryExpr;constructor(guard,expr){super(),this.guard=guard,this.expr=expr}visitExpression(visitor,context){this.guard.visitExpression(visitor,context),this.expr.visitExpression(visitor,context)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(transform,flags){this.guard=transformExpressionsInExpression(this.guard,transform,flags),this.expr=transformExpressionsInExpression(this.expr,transform,flags)}clone(){return new SafeTernaryExpr(this.guard.clone(),this.expr.clone())}}class EmptyExpr extends ExpressionBase{kind=ExpressionKind.EmptyExpr;visitExpression(visitor,context){}isEquivalent(e){return e instanceof EmptyExpr}isConstant(){return!0}clone(){return new EmptyExpr}transformInternalExpressions(){}}class AssignTemporaryExpr extends ExpressionBase{expr;xref;kind=ExpressionKind.AssignTemporaryExpr;name=null;constructor(expr,xref){super(),this.expr=expr,this.xref=xref}visitExpression(visitor,context){this.expr.visitExpression(visitor,context)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(transform,flags){this.expr=transformExpressionsInExpression(this.expr,transform,flags)}clone(){const a=new AssignTemporaryExpr(this.expr.clone(),this.xref);return a.name=this.name,a}}class ReadTemporaryExpr extends ExpressionBase{xref;kind=ExpressionKind.ReadTemporaryExpr;name=null;constructor(xref){super(),this.xref=xref}visitExpression(visitor,context){}isEquivalent(){return this.xref==this.xref}isConstant(){return!1}transformInternalExpressions(transform,flags){}clone(){const r=new ReadTemporaryExpr(this.xref);return r.name=this.name,r}}class SlotLiteralExpr extends ExpressionBase{slot;kind=ExpressionKind.SlotLiteralExpr;constructor(slot){super(),this.slot=slot}visitExpression(visitor,context){}isEquivalent(e){return e instanceof SlotLiteralExpr&&e.slot===this.slot}isConstant(){return!0}clone(){return new SlotLiteralExpr(this.slot)}transformInternalExpressions(){}}class ConditionalCaseExpr extends ExpressionBase{expr;target;targetSlot;alias;kind=ExpressionKind.ConditionalCase;constructor(expr,target,targetSlot,alias=null){super(),this.expr=expr,this.target=target,this.targetSlot=targetSlot,this.alias=alias}visitExpression(visitor,context){null!==this.expr&&this.expr.visitExpression(visitor,context)}isEquivalent(e){return e instanceof ConditionalCaseExpr&&e.expr===this.expr}isConstant(){return!0}clone(){return new ConditionalCaseExpr(this.expr,this.target,this.targetSlot)}transformInternalExpressions(transform,flags){null!==this.expr&&(this.expr=transformExpressionsInExpression(this.expr,transform,flags))}}class ConstCollectedExpr extends ExpressionBase{expr;kind=ExpressionKind.ConstCollected;constructor(expr){super(),this.expr=expr}transformInternalExpressions(transform,flags){this.expr=transform(this.expr,flags)}visitExpression(visitor,context){this.expr.visitExpression(visitor,context)}isEquivalent(e){return e instanceof ConstCollectedExpr&&this.expr.isEquivalent(e.expr)}isConstant(){return this.expr.isConstant()}clone(){return new ConstCollectedExpr(this.expr)}}function visitExpressionsInOp(op,visitor){transformExpressionsInOp(op,(expr,flags)=>(visitor(expr,flags),expr),VisitorContextFlag.None)}var VisitorContextFlag;function transformExpressionsInInterpolation(interpolation,transform,flags){for(let i=0;i<interpolation.expressions.length;i++)interpolation.expressions[i]=transformExpressionsInExpression(interpolation.expressions[i],transform,flags)}function transformExpressionsInOp(op,transform,flags){switch(op.kind){case OpKind.StyleProp:case OpKind.StyleMap:case OpKind.ClassProp:case OpKind.ClassMap:case OpKind.AnimationString:case OpKind.AnimationBinding:case OpKind.Binding:op.expression instanceof Interpolation?transformExpressionsInInterpolation(op.expression,transform,flags):op.expression=transformExpressionsInExpression(op.expression,transform,flags);break;case OpKind.Property:case OpKind.DomProperty:case OpKind.Attribute:op.expression instanceof Interpolation?transformExpressionsInInterpolation(op.expression,transform,flags):op.expression=transformExpressionsInExpression(op.expression,transform,flags),op.sanitizer=op.sanitizer&&transformExpressionsInExpression(op.sanitizer,transform,flags);break;case OpKind.TwoWayProperty:op.expression=transformExpressionsInExpression(op.expression,transform,flags),op.sanitizer=op.sanitizer&&transformExpressionsInExpression(op.sanitizer,transform,flags);break;case OpKind.I18nExpression:op.expression=transformExpressionsInExpression(op.expression,transform,flags);break;case OpKind.InterpolateText:transformExpressionsInInterpolation(op.interpolation,transform,flags);break;case OpKind.Statement:transformExpressionsInStatement(op.statement,transform,flags);break;case OpKind.Variable:op.initializer=transformExpressionsInExpression(op.initializer,transform,flags);break;case OpKind.Conditional:for(const condition of op.conditions)null!==condition.expr&&(condition.expr=transformExpressionsInExpression(condition.expr,transform,flags));null!==op.processed&&(op.processed=transformExpressionsInExpression(op.processed,transform,flags)),null!==op.contextValue&&(op.contextValue=transformExpressionsInExpression(op.contextValue,transform,flags));break;case OpKind.Animation:case OpKind.AnimationListener:case OpKind.Listener:case OpKind.TwoWayListener:for(const innerOp of op.handlerOps)transformExpressionsInOp(innerOp,transform,flags|VisitorContextFlag.InChildOperation);break;case OpKind.ExtractedAttribute:op.expression=op.expression&&transformExpressionsInExpression(op.expression,transform,flags),op.trustedValueFn=op.trustedValueFn&&transformExpressionsInExpression(op.trustedValueFn,transform,flags);break;case OpKind.RepeaterCreate:if(null===op.trackByOps)op.track=transformExpressionsInExpression(op.track,transform,flags);else for(const innerOp of op.trackByOps)transformExpressionsInOp(innerOp,transform,flags|VisitorContextFlag.InChildOperation);null!==op.trackByFn&&(op.trackByFn=transformExpressionsInExpression(op.trackByFn,transform,flags));break;case OpKind.Repeater:op.collection=transformExpressionsInExpression(op.collection,transform,flags);break;case OpKind.Defer:null!==op.loadingConfig&&(op.loadingConfig=transformExpressionsInExpression(op.loadingConfig,transform,flags)),null!==op.placeholderConfig&&(op.placeholderConfig=transformExpressionsInExpression(op.placeholderConfig,transform,flags)),null!==op.resolverFn&&(op.resolverFn=transformExpressionsInExpression(op.resolverFn,transform,flags));break;case OpKind.I18nMessage:for(const[placeholder,expr]of op.params)op.params.set(placeholder,transformExpressionsInExpression(expr,transform,flags));for(const[placeholder,expr]of op.postprocessingParams)op.postprocessingParams.set(placeholder,transformExpressionsInExpression(expr,transform,flags));break;case OpKind.DeferWhen:op.expr=transformExpressionsInExpression(op.expr,transform,flags);break;case OpKind.StoreLet:op.value=transformExpressionsInExpression(op.value,transform,flags);break;case OpKind.Advance:case OpKind.Container:case OpKind.ContainerEnd:case OpKind.ContainerStart:case OpKind.DeferOn:case OpKind.DisableBindings:case OpKind.Element:case OpKind.ElementEnd:case OpKind.ElementStart:case OpKind.EnableBindings:case OpKind.I18n:case OpKind.I18nApply:case OpKind.I18nContext:case OpKind.I18nEnd:case OpKind.I18nStart:case OpKind.IcuEnd:case OpKind.IcuStart:case OpKind.Namespace:case OpKind.Pipe:case OpKind.Projection:case OpKind.ProjectionDef:case OpKind.Template:case OpKind.Text:case OpKind.I18nAttributes:case OpKind.IcuPlaceholder:case OpKind.DeclareLet:case OpKind.SourceLocation:case OpKind.ConditionalCreate:case OpKind.ConditionalBranchCreate:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${OpKind[op.kind]}`)}}function transformExpressionsInExpression(expr,transform,flags){if(expr instanceof ExpressionBase)expr.transformInternalExpressions(transform,flags);else if(expr instanceof BinaryOperatorExpr)expr.lhs=transformExpressionsInExpression(expr.lhs,transform,flags),expr.rhs=transformExpressionsInExpression(expr.rhs,transform,flags);else if(expr instanceof UnaryOperatorExpr)expr.expr=transformExpressionsInExpression(expr.expr,transform,flags);else if(expr instanceof ReadPropExpr)expr.receiver=transformExpressionsInExpression(expr.receiver,transform,flags);else if(expr instanceof ReadKeyExpr)expr.receiver=transformExpressionsInExpression(expr.receiver,transform,flags),expr.index=transformExpressionsInExpression(expr.index,transform,flags);else if(expr instanceof InvokeFunctionExpr){expr.fn=transformExpressionsInExpression(expr.fn,transform,flags);for(let i=0;i<expr.args.length;i++)expr.args[i]=transformExpressionsInExpression(expr.args[i],transform,flags)}else if(expr instanceof LiteralArrayExpr)for(let i=0;i<expr.entries.length;i++)expr.entries[i]=transformExpressionsInExpression(expr.entries[i],transform,flags);else if(expr instanceof LiteralMapExpr)for(let i=0;i<expr.entries.length;i++)expr.entries[i].value=transformExpressionsInExpression(expr.entries[i].value,transform,flags);else if(expr instanceof ConditionalExpr)expr.condition=transformExpressionsInExpression(expr.condition,transform,flags),expr.trueCase=transformExpressionsInExpression(expr.trueCase,transform,flags),null!==expr.falseCase&&(expr.falseCase=transformExpressionsInExpression(expr.falseCase,transform,flags));else if(expr instanceof TypeofExpr)expr.expr=transformExpressionsInExpression(expr.expr,transform,flags);else if(expr instanceof VoidExpr)expr.expr=transformExpressionsInExpression(expr.expr,transform,flags);else if(expr instanceof LocalizedString)for(let i=0;i<expr.expressions.length;i++)expr.expressions[i]=transformExpressionsInExpression(expr.expressions[i],transform,flags);else if(expr instanceof NotExpr)expr.condition=transformExpressionsInExpression(expr.condition,transform,flags);else if(expr instanceof TaggedTemplateLiteralExpr)expr.tag=transformExpressionsInExpression(expr.tag,transform,flags),expr.template.expressions=expr.template.expressions.map(e=>transformExpressionsInExpression(e,transform,flags));else if(expr instanceof ArrowFunctionExpr)if(Array.isArray(expr.body))for(let i=0;i<expr.body.length;i++)transformExpressionsInStatement(expr.body[i],transform,flags);else expr.body=transformExpressionsInExpression(expr.body,transform,flags);else if(expr instanceof WrappedNodeExpr);else if(expr instanceof TemplateLiteralExpr)for(let i=0;i<expr.expressions.length;i++)expr.expressions[i]=transformExpressionsInExpression(expr.expressions[i],transform,flags);else if(expr instanceof ParenthesizedExpr)expr.expr=transformExpressionsInExpression(expr.expr,transform,flags);else if(!(expr instanceof ReadVarExpr||expr instanceof ExternalExpr||expr instanceof LiteralExpr))throw new Error(`Unhandled expression kind: ${expr.constructor.name}`);return transform(expr,flags)}function transformExpressionsInStatement(stmt,transform,flags){if(stmt instanceof ExpressionStatement)stmt.expr=transformExpressionsInExpression(stmt.expr,transform,flags);else if(stmt instanceof ReturnStatement)stmt.value=transformExpressionsInExpression(stmt.value,transform,flags);else if(stmt instanceof DeclareVarStmt)void 0!==stmt.value&&(stmt.value=transformExpressionsInExpression(stmt.value,transform,flags));else{if(!(stmt instanceof IfStmt))throw new Error(`Unhandled statement kind: ${stmt.constructor.name}`);stmt.condition=transformExpressionsInExpression(stmt.condition,transform,flags);for(const caseStatement of stmt.trueCase)transformExpressionsInStatement(caseStatement,transform,flags);for(const caseStatement of stmt.falseCase)transformExpressionsInStatement(caseStatement,transform,flags)}}function isStringLiteral(expr){return expr instanceof LiteralExpr&&"string"==typeof expr.value}!function(VisitorContextFlag){VisitorContextFlag[VisitorContextFlag.None=0]="None",VisitorContextFlag[VisitorContextFlag.InChildOperation=1]="InChildOperation"}(VisitorContextFlag||(VisitorContextFlag={}));class OpList{static nextListId=0;debugListId=OpList.nextListId++;head={kind:OpKind.ListEnd,next:null,prev:null,debugListId:this.debugListId};tail={kind:OpKind.ListEnd,next:null,prev:null,debugListId:this.debugListId};constructor(){this.head.next=this.tail,this.tail.prev=this.head}push(op){if(Array.isArray(op)){for(const o of op)this.push(o);return}OpList.assertIsNotEnd(op),OpList.assertIsUnowned(op),op.debugListId=this.debugListId;const oldLast=this.tail.prev;op.prev=oldLast,oldLast.next=op,op.next=this.tail,this.tail.prev=op}prepend(ops){if(0===ops.length)return;for(const op of ops)OpList.assertIsNotEnd(op),OpList.assertIsUnowned(op),op.debugListId=this.debugListId;const first=this.head.next;let prev=this.head;for(const op of ops)prev.next=op,op.prev=prev,prev=op;prev.next=first,first.prev=prev}*[Symbol.iterator](){let current=this.head.next;for(;current!==this.tail;){OpList.assertIsOwned(current,this.debugListId);const next=current.next;yield current,current=next}}*reversed(){let current=this.tail.prev;for(;current!==this.head;){OpList.assertIsOwned(current,this.debugListId);const prev=current.prev;yield current,current=prev}}static replace(oldOp,newOp){OpList.assertIsNotEnd(oldOp),OpList.assertIsNotEnd(newOp),OpList.assertIsOwned(oldOp),OpList.assertIsUnowned(newOp),newOp.debugListId=oldOp.debugListId,null!==oldOp.prev&&(oldOp.prev.next=newOp,newOp.prev=oldOp.prev),null!==oldOp.next&&(oldOp.next.prev=newOp,newOp.next=oldOp.next),oldOp.debugListId=null,oldOp.prev=null,oldOp.next=null}static replaceWithMany(oldOp,newOps){if(0===newOps.length)return void OpList.remove(oldOp);OpList.assertIsNotEnd(oldOp),OpList.assertIsOwned(oldOp);const listId=oldOp.debugListId;oldOp.debugListId=null;for(const newOp of newOps)OpList.assertIsNotEnd(newOp),OpList.assertIsUnowned(newOp);const{prev:oldPrev,next:oldNext}=oldOp;oldOp.prev=null,oldOp.next=null;let prev=oldPrev;for(const newOp of newOps)OpList.assertIsUnowned(newOp),newOp.debugListId=listId,prev.next=newOp,newOp.prev=prev,newOp.next=null,prev=newOp;const first=newOps[0],last=prev;null!==oldPrev&&(oldPrev.next=first,first.prev=oldPrev),null!==oldNext&&(oldNext.prev=last,last.next=oldNext)}static remove(op){OpList.assertIsNotEnd(op),OpList.assertIsOwned(op),op.prev.next=op.next,op.next.prev=op.prev,op.debugListId=null,op.prev=null,op.next=null}static insertBefore(op,target){if(Array.isArray(op))for(const o of op)OpList.insertBefore(o,target);else{if(OpList.assertIsOwned(target),null===target.prev)throw new Error("AssertionError: illegal operation on list start");OpList.assertIsNotEnd(op),OpList.assertIsUnowned(op),op.debugListId=target.debugListId,op.prev=null,target.prev.next=op,op.prev=target.prev,op.next=target,target.prev=op}}static insertAfter(op,target){if(OpList.assertIsOwned(target),null===target.next)throw new Error("AssertionError: illegal operation on list end");OpList.assertIsNotEnd(op),OpList.assertIsUnowned(op),op.debugListId=target.debugListId,target.next.prev=op,op.next=target.next,op.prev=target,target.next=op}static assertIsUnowned(op){if(null!==op.debugListId)throw new Error(`AssertionError: illegal operation on owned node: ${OpKind[op.kind]}`)}static assertIsOwned(op,byList){if(null===op.debugListId)throw new Error(`AssertionError: illegal operation on unowned node: ${OpKind[op.kind]}`);if(void 0!==byList&&op.debugListId!==byList)throw new Error(`AssertionError: node belongs to the wrong list (expected ${byList}, actual ${op.debugListId})`)}static assertIsNotEnd(op){if(op.kind===OpKind.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}}class SlotHandle{slot=null}const elementContainerOpKinds=new Set([OpKind.Element,OpKind.ElementStart,OpKind.Container,OpKind.ContainerStart,OpKind.Template,OpKind.RepeaterCreate,OpKind.ConditionalCreate,OpKind.ConditionalBranchCreate]);function isElementOrContainerOp(op){return elementContainerOpKinds.has(op.kind)}function createTemplateOp(xref,templateKind,tag,functionNameSuffix,namespace,i18nPlaceholder,startSourceSpan,wholeSourceSpan){return{kind:OpKind.Template,xref,templateKind,attributes:null,tag,handle:new SlotHandle,functionNameSuffix,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace,i18nPlaceholder,startSourceSpan,wholeSourceSpan,...TRAIT_CONSUMES_SLOT,...NEW_OP}}function createConditionalCreateOp(xref,templateKind,tag,functionNameSuffix,namespace,i18nPlaceholder,startSourceSpan,wholeSourceSpan){return{kind:OpKind.ConditionalCreate,xref,templateKind,attributes:null,tag,handle:new SlotHandle,functionNameSuffix,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace,i18nPlaceholder,startSourceSpan,wholeSourceSpan,...TRAIT_CONSUMES_SLOT,...NEW_OP}}function createConditionalBranchCreateOp(xref,templateKind,tag,functionNameSuffix,namespace,i18nPlaceholder,startSourceSpan,wholeSourceSpan){return{kind:OpKind.ConditionalBranchCreate,xref,templateKind,attributes:null,tag,handle:new SlotHandle,functionNameSuffix,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace,i18nPlaceholder,startSourceSpan,wholeSourceSpan,...TRAIT_CONSUMES_SLOT,...NEW_OP}}function createDisableBindingsOp(xref){return{kind:OpKind.DisableBindings,xref,...NEW_OP}}function createEnableBindingsOp(xref){return{kind:OpKind.EnableBindings,xref,...NEW_OP}}function createTextOp(xref,initialValue,icuPlaceholder,sourceSpan){return{kind:OpKind.Text,xref,handle:new SlotHandle,initialValue,icuPlaceholder,sourceSpan,...TRAIT_CONSUMES_SLOT,...NEW_OP}}function createListenerOp(target,targetSlot,name,tag,handlerOps,legacyAnimationPhase,eventTarget,hostListener,sourceSpan){const handlerList=new OpList;return handlerList.push(handlerOps),{kind:OpKind.Listener,target,targetSlot,tag,hostListener,name,handlerOps:handlerList,handlerFnName:null,consumesDollarEvent:!1,isLegacyAnimationListener:null!==legacyAnimationPhase,legacyAnimationPhase,eventTarget,sourceSpan,...NEW_OP}}function createAnimationListenerOp(target,targetSlot,name,tag,handlerOps,animationKind,eventTarget,hostListener,sourceSpan){const handlerList=new OpList;return handlerList.push(handlerOps),{kind:OpKind.AnimationListener,target,targetSlot,tag,hostListener,name,animationKind,handlerOps:handlerList,handlerFnName:null,consumesDollarEvent:!1,eventTarget,sourceSpan,...NEW_OP}}function createTwoWayListenerOp(target,targetSlot,name,tag,handlerOps,sourceSpan){const handlerList=new OpList;return handlerList.push(handlerOps),{kind:OpKind.TwoWayListener,target,targetSlot,tag,name,handlerOps:handlerList,handlerFnName:null,sourceSpan,...NEW_OP}}function createPipeOp(xref,slot,name){return{kind:OpKind.Pipe,xref,handle:slot,name,...NEW_OP,...TRAIT_CONSUMES_SLOT}}function createNamespaceOp(namespace){return{kind:OpKind.Namespace,active:namespace,...NEW_OP}}function createExtractedAttributeOp(target,bindingKind,namespace,name,expression,i18nContext,i18nMessage,securityContext){return{kind:OpKind.ExtractedAttribute,target,bindingKind,namespace,name,expression,i18nContext,i18nMessage,securityContext,trustedValueFn:null,...NEW_OP}}function createDeferOnOp(defer,trigger,modifier,sourceSpan){return{kind:OpKind.DeferOn,defer,trigger,modifier,sourceSpan,...NEW_OP}}function createI18nStartOp(xref,message,root,sourceSpan){return{kind:OpKind.I18nStart,xref,handle:new SlotHandle,root:root??xref,message,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan,...NEW_OP,...TRAIT_CONSUMES_SLOT}}function createI18nEndOp(xref,sourceSpan){return{kind:OpKind.I18nEnd,xref,sourceSpan,...NEW_OP}}function createIcuPlaceholderOp(xref,name,strings){return{kind:OpKind.IcuPlaceholder,xref,name,strings,expressionPlaceholders:[],...NEW_OP}}function createI18nContextOp(contextKind,xref,i18nBlock,message,sourceSpan){if(null===i18nBlock&&contextKind!==I18nContextKind.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return{kind:OpKind.I18nContext,contextKind,xref,i18nBlock,message,sourceSpan,params:new Map,postprocessingParams:new Map,...NEW_OP}}function createI18nAttributesOp(xref,handle,target){return{kind:OpKind.I18nAttributes,xref,handle,target,i18nAttributesConfig:null,...NEW_OP,...TRAIT_CONSUMES_SLOT}}function createSourceLocationOp(templatePath,locations){return{kind:OpKind.SourceLocation,templatePath,locations,...NEW_OP}}function createDomPropertyOp(name,expression,bindingKind,i18nContext,securityContext,sourceSpan){return{kind:OpKind.DomProperty,name,expression,bindingKind,i18nContext,securityContext,sanitizer:null,sourceSpan,...TRAIT_CONSUMES_VARS,...NEW_OP}}var CompilationJobKind,TemplateCompilationMode;!function(CompilationJobKind){CompilationJobKind[CompilationJobKind.Tmpl=0]="Tmpl",CompilationJobKind[CompilationJobKind.Host=1]="Host",CompilationJobKind[CompilationJobKind.Both=2]="Both"}(CompilationJobKind||(CompilationJobKind={})),function(TemplateCompilationMode){TemplateCompilationMode[TemplateCompilationMode.Full=0]="Full",TemplateCompilationMode[TemplateCompilationMode.DomOnly=1]="DomOnly"}(TemplateCompilationMode||(TemplateCompilationMode={}));class CompilationJob{componentName;pool;compatibility;mode;constructor(componentName,pool,compatibility,mode){this.componentName=componentName,this.pool=pool,this.compatibility=compatibility,this.mode=mode}kind=CompilationJobKind.Both;allocateXrefId(){return this.nextXrefId++}nextXrefId=0}class ComponentCompilationJob extends CompilationJob{relativeContextFilePath;i18nUseExternalIds;deferMeta;allDeferrableDepsFn;relativeTemplatePath;enableDebugLocations;constructor(componentName,pool,compatibility,mode,relativeContextFilePath,i18nUseExternalIds,deferMeta,allDeferrableDepsFn,relativeTemplatePath,enableDebugLocations){super(componentName,pool,compatibility,mode),this.relativeContextFilePath=relativeContextFilePath,this.i18nUseExternalIds=i18nUseExternalIds,this.deferMeta=deferMeta,this.allDeferrableDepsFn=allDeferrableDepsFn,this.relativeTemplatePath=relativeTemplatePath,this.enableDebugLocations=enableDebugLocations,this.root=new ViewCompilationUnit(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}kind=CompilationJobKind.Tmpl;fnSuffix="Template";root;views=new Map;contentSelectors=null;allocateView(parent){const view=new ViewCompilationUnit(this,this.allocateXrefId(),parent);return this.views.set(view.xref,view),view}get units(){return this.views.values()}addConst(newConst,initializers){for(let idx=0;idx<this.consts.length;idx++)if(this.consts[idx].isEquivalent(newConst))return idx;const idx=this.consts.length;return this.consts.push(newConst),initializers&&this.constsInitializers.push(...initializers),idx}consts=[];constsInitializers=[]}class CompilationUnit{xref;constructor(xref){this.xref=xref}create=new OpList;update=new OpList;fnName=null;vars=null;*ops(){for(const op of this.create)if(yield op,op.kind===OpKind.Listener||op.kind===OpKind.Animation||op.kind===OpKind.AnimationListener||op.kind===OpKind.TwoWayListener)for(const listenerOp of op.handlerOps)yield listenerOp;else if(op.kind===OpKind.RepeaterCreate&&null!==op.trackByOps)for(const trackOp of op.trackByOps)yield trackOp;for(const op of this.update)yield op}}class ViewCompilationUnit extends CompilationUnit{job;parent;constructor(job,xref,parent){super(xref),this.job=job,this.parent=parent}contextVariables=new Map;aliases=new Set;decls=null}class HostBindingCompilationJob extends CompilationJob{constructor(componentName,pool,compatibility,mode){super(componentName,pool,compatibility,mode),this.root=new HostBindingCompilationUnit(this)}kind=CompilationJobKind.Host;fnSuffix="HostBindings";root;get units(){return[this.root]}}class HostBindingCompilationUnit extends CompilationUnit{job;constructor(job){super(0),this.job=job}attributes=null}function removeAnys(e){if(e instanceof InvokeFunctionExpr&&e.fn instanceof LexicalReadExpr&&"$any"===e.fn.name){if(1!==e.args.length)throw new Error("The $any builtin function expects exactly one argument.");return e.args[0]}return e}function needsApplication(i18nContexts,op){if(op.next?.kind!==OpKind.I18nExpression)return!0;const context=i18nContexts.get(op.context),nextContext=i18nContexts.get(op.next.context);if(void 0===context)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(void 0===nextContext)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return null!==context.i18nBlock?context.i18nBlock!==nextContext.i18nBlock:op.i18nOwner!==op.next.i18nOwner}function createOpXrefMap(unit){const map=new Map;for(const op of unit.create)hasConsumesSlotTrait(op)&&(map.set(op.xref,op),op.kind===OpKind.RepeaterCreate&&null!==op.emptyView&&map.set(op.emptyView,op));return map}function lookupElement$3(elements,xref){const el=elements.get(xref);if(void 0===el)throw new Error("All attributes should have an element-like target.");return el}function extractAttributeOp(unit,op,elements){if(op.expression instanceof Interpolation)return;let extractable=op.isTextAttribute||op.expression.isConstant();if(unit.job.compatibility===CompatibilityMode.TemplateDefinitionBuilder&&(extractable&&=op.isTextAttribute),extractable){const extractedAttributeOp=createExtractedAttributeOp(op.target,op.isStructuralTemplateAttribute?BindingKind.Template:BindingKind.Attribute,op.namespace,op.name,op.expression,op.i18nContext,op.i18nMessage,op.securityContext);if(unit.job.kind===CompilationJobKind.Host)unit.create.push(extractedAttributeOp);else{const ownerOp=lookupElement$3(elements,op.target);OpList.insertBefore(extractedAttributeOp,ownerOp)}OpList.remove(op)}}function isAriaAttribute(name){return name.startsWith("aria-")&&name.length>5}function lookupElement$2(elements,xref){const el=elements.get(xref);if(void 0===el)throw new Error("All attributes should have an element-like target.");return el}const CHAIN_COMPATIBILITY=new Map([[Identifiers.ariaProperty,Identifiers.ariaProperty],[Identifiers.attribute,Identifiers.attribute],[Identifiers.classProp,Identifiers.classProp],[Identifiers.element,Identifiers.element],[Identifiers.elementContainer,Identifiers.elementContainer],[Identifiers.elementContainerEnd,Identifiers.elementContainerEnd],[Identifiers.elementContainerStart,Identifiers.elementContainerStart],[Identifiers.elementEnd,Identifiers.elementEnd],[Identifiers.elementStart,Identifiers.elementStart],[Identifiers.domProperty,Identifiers.domProperty],[Identifiers.i18nExp,Identifiers.i18nExp],[Identifiers.listener,Identifiers.listener],[Identifiers.listener,Identifiers.listener],[Identifiers.property,Identifiers.property],[Identifiers.styleProp,Identifiers.styleProp],[Identifiers.syntheticHostListener,Identifiers.syntheticHostListener],[Identifiers.syntheticHostProperty,Identifiers.syntheticHostProperty],[Identifiers.templateCreate,Identifiers.templateCreate],[Identifiers.twoWayProperty,Identifiers.twoWayProperty],[Identifiers.twoWayListener,Identifiers.twoWayListener],[Identifiers.declareLet,Identifiers.declareLet],[Identifiers.conditionalCreate,Identifiers.conditionalBranchCreate],[Identifiers.conditionalBranchCreate,Identifiers.conditionalBranchCreate],[Identifiers.domElement,Identifiers.domElement],[Identifiers.domElementStart,Identifiers.domElementStart],[Identifiers.domElementEnd,Identifiers.domElementEnd],[Identifiers.domElementContainer,Identifiers.domElementContainer],[Identifiers.domElementContainerStart,Identifiers.domElementContainerStart],[Identifiers.domElementContainerEnd,Identifiers.domElementContainerEnd],[Identifiers.domListener,Identifiers.domListener],[Identifiers.domTemplate,Identifiers.domTemplate],[Identifiers.animationEnter,Identifiers.animationEnter],[Identifiers.animationLeave,Identifiers.animationLeave],[Identifiers.animationEnterListener,Identifiers.animationEnterListener],[Identifiers.animationLeaveListener,Identifiers.animationLeaveListener]]);function chainOperationsInList(opList){let chain=null;for(const op of opList){if(op.kind!==OpKind.Statement||!(op.statement instanceof ExpressionStatement)){chain=null;continue}if(!(op.statement.expr instanceof InvokeFunctionExpr&&op.statement.expr.fn instanceof ExternalExpr)){chain=null;continue}const instruction=op.statement.expr.fn.value;if(CHAIN_COMPATIBILITY.has(instruction))if(null!==chain&&CHAIN_COMPATIBILITY.get(chain.instruction)===instruction&&chain.length<256){const expression=chain.expression.callFn(op.statement.expr.args,op.statement.expr.sourceSpan,op.statement.expr.pure);chain.expression=expression,chain.op.statement=expression.toStmt(),chain.length++,OpList.remove(op)}else chain={op,instruction,expression:op.statement.expr,length:1};else chain=null}}const BINARY_OPERATORS=new Map([["&&",BinaryOperator.And],[">",BinaryOperator.Bigger],[">=",BinaryOperator.BiggerEquals],["|",BinaryOperator.BitwiseOr],["&",BinaryOperator.BitwiseAnd],["/",BinaryOperator.Divide],["=",BinaryOperator.Assign],["==",BinaryOperator.Equals],["===",BinaryOperator.Identical],["<",BinaryOperator.Lower],["<=",BinaryOperator.LowerEquals],["-",BinaryOperator.Minus],["%",BinaryOperator.Modulo],["**",BinaryOperator.Exponentiation],["*",BinaryOperator.Multiply],["!=",BinaryOperator.NotEquals],["!==",BinaryOperator.NotIdentical],["??",BinaryOperator.NullishCoalesce],["||",BinaryOperator.Or],["+",BinaryOperator.Plus],["in",BinaryOperator.In],["+=",BinaryOperator.AdditionAssignment],["-=",BinaryOperator.SubtractionAssignment],["*=",BinaryOperator.MultiplicationAssignment],["/=",BinaryOperator.DivisionAssignment],["%=",BinaryOperator.RemainderAssignment],["**=",BinaryOperator.ExponentiationAssignment],["&&=",BinaryOperator.AndAssignment],["||=",BinaryOperator.OrAssignment],["??=",BinaryOperator.NullishCoalesceAssignment]]);function namespaceForKey(namespacePrefixKey){const NAMESPACES=new Map([["svg",Namespace.SVG],["math",Namespace.Math]]);return null===namespacePrefixKey?Namespace.HTML:NAMESPACES.get(namespacePrefixKey)??Namespace.HTML}function prefixWithNamespace(strippedTag,namespace){return namespace===Namespace.HTML?strippedTag:`:${function keyForNamespace(namespace){const NAMESPACES=new Map([["svg",Namespace.SVG],["math",Namespace.Math]]);for(const[k,n]of NAMESPACES.entries())if(n===namespace)return k;return null}(namespace)}:${strippedTag}`}function literalOrArrayLiteral(value){return Array.isArray(value)?literalArr(value.map(literalOrArrayLiteral)):literal(value)}function getConstIndex(job,allElementAttributes,xref){const attributes=allElementAttributes.get(xref);if(void 0!==attributes){const attrArray=serializeAttributes(attributes);if(attrArray.entries.length>0)return job.addConst(attrArray)}return null}const FLYWEIGHT_ARRAY=Object.freeze([]);class ElementAttributes{compatibility;known=new Map;byKind=new Map;propertyBindings=null;projectAs=null;get attributes(){return this.byKind.get(BindingKind.Attribute)??FLYWEIGHT_ARRAY}get classes(){return this.byKind.get(BindingKind.ClassName)??FLYWEIGHT_ARRAY}get styles(){return this.byKind.get(BindingKind.StyleProperty)??FLYWEIGHT_ARRAY}get bindings(){return this.propertyBindings??FLYWEIGHT_ARRAY}get template(){return this.byKind.get(BindingKind.Template)??FLYWEIGHT_ARRAY}get i18n(){return this.byKind.get(BindingKind.I18n)??FLYWEIGHT_ARRAY}constructor(compatibility){this.compatibility=compatibility}isKnown(kind,name){const nameToValue=this.known.get(kind)??new Set;return this.known.set(kind,nameToValue),!!nameToValue.has(name)||(nameToValue.add(name),!1)}add(kind,name,value,namespace,trustedValueFn){if(!(this.compatibility===CompatibilityMode.TemplateDefinitionBuilder&&(kind===BindingKind.Attribute||kind===BindingKind.ClassName||kind===BindingKind.StyleProperty))&&this.isKnown(kind,name))return;if("ngProjectAs"===name){if(null===value||!(value instanceof LiteralExpr)||null==value.value||"string"!=typeof value.value?.toString())throw Error("ngProjectAs must have a string literal value");this.projectAs=value.value.toString()}const array=this.arrayFor(kind);if(array.push(...function getAttributeNameLiterals(namespace,name){const nameLiteral=literal(name);if(namespace)return[literal(0),literal(namespace),nameLiteral];return[nameLiteral]}(namespace,name)),kind===BindingKind.Attribute||kind===BindingKind.StyleProperty){if(null===value)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(null!==trustedValueFn){if(!isStringLiteral(value))throw Error("AssertionError: extracted attribute value should be string literal");array.push(taggedTemplate(trustedValueFn,new TemplateLiteralExpr([new TemplateLiteralElementExpr(value.value)],[]),void 0,value.sourceSpan))}else array.push(value)}}arrayFor(kind){return kind===BindingKind.Property||kind===BindingKind.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(kind)||this.byKind.set(kind,[]),this.byKind.get(kind))}}function serializeAttributes({attributes,bindings,classes,i18n,projectAs,styles,template}){const attrArray=[...attributes];if(null!==projectAs){const parsedR3Selector=parseSelectorToR3Selector(projectAs)[0];attrArray.push(literal(5),literalOrArrayLiteral(parsedR3Selector))}return classes.length>0&&attrArray.push(literal(1),...classes),styles.length>0&&attrArray.push(literal(2),...styles),bindings.length>0&&attrArray.push(literal(3),...bindings),template.length>0&&attrArray.push(literal(4),...template),i18n.length>0&&attrArray.push(literal(6),...i18n),literalArr(attrArray)}function lookupElement$1(elements,xref){const el=elements.get(xref);if(void 0===el)throw new Error("All attributes should have an element-like target.");return el}function getAnimationOp(op){if(0===op.animationBindingKind)return function createAnimationStringOp(name,target,animationKind,expression,securityContext,sourceSpan){return{kind:OpKind.AnimationString,name,target,animationKind,expression,i18nMessage:null,securityContext,sanitizer:null,sourceSpan,...NEW_OP}}(op.name,op.target,"animate.enter"===op.name?"enter":"leave",op.expression,op.securityContext,op.sourceSpan);{const expression=op.expression;return function createAnimationOp(name,target,animationKind,callbackOps,securityContext,sourceSpan){const handlerOps=new OpList;return handlerOps.push(callbackOps),{kind:OpKind.Animation,name,target,animationKind,handlerOps,handlerFnName:null,i18nMessage:null,securityContext,sanitizer:null,sourceSpan,...NEW_OP}}(op.name,op.target,"animate.enter"===op.name?"enter":"leave",[createStatementOp(new ReturnStatement(expression,expression.sourceSpan))],op.securityContext,op.sourceSpan)}}let Scope$1=class Scope{targets=new Map};const REPLACEMENTS=new Map([[OpKind.ElementEnd,[OpKind.ElementStart,OpKind.Element]],[OpKind.ContainerEnd,[OpKind.ContainerStart,OpKind.Container]],[OpKind.I18nEnd,[OpKind.I18nStart,OpKind.I18n]]]),IGNORED_OP_KINDS=new Set([OpKind.Pipe]);function needsTemporaryInSafeAccess(e){return e instanceof UnaryOperatorExpr?needsTemporaryInSafeAccess(e.expr):e instanceof BinaryOperatorExpr?needsTemporaryInSafeAccess(e.lhs)||needsTemporaryInSafeAccess(e.rhs):e instanceof ConditionalExpr?!(!e.falseCase||!needsTemporaryInSafeAccess(e.falseCase))||(needsTemporaryInSafeAccess(e.condition)||needsTemporaryInSafeAccess(e.trueCase)):e instanceof NotExpr?needsTemporaryInSafeAccess(e.condition):e instanceof AssignTemporaryExpr?needsTemporaryInSafeAccess(e.expr):e instanceof ReadPropExpr?needsTemporaryInSafeAccess(e.receiver):e instanceof ReadKeyExpr?needsTemporaryInSafeAccess(e.receiver)||needsTemporaryInSafeAccess(e.index):e instanceof ParenthesizedExpr?needsTemporaryInSafeAccess(e.expr):e instanceof InvokeFunctionExpr||e instanceof LiteralArrayExpr||e instanceof LiteralMapExpr||e instanceof SafeInvokeFunctionExpr||e instanceof PipeBindingExpr}function safeTernaryWithTemporary(guard,body,ctx){let result;if(needsTemporaryInSafeAccess(guard)){const xref=ctx.job.allocateXrefId();result=[new AssignTemporaryExpr(guard,xref),new ReadTemporaryExpr(xref)]}else result=[guard,guard.clone()],function eliminateTemporaryAssignments(e,tmps,ctx){return transformExpressionsInExpression(e,e=>{if(e instanceof AssignTemporaryExpr&&tmps.has(e.xref)){const read=new ReadTemporaryExpr(e.xref);return ctx.job.compatibility===CompatibilityMode.TemplateDefinitionBuilder?new AssignTemporaryExpr(read,read.xref):read}return e},VisitorContextFlag.None),e}(result[1],function temporariesIn(e){const temporaries=new Set;return transformExpressionsInExpression(e,e=>(e instanceof AssignTemporaryExpr&&temporaries.add(e.xref),e),VisitorContextFlag.None),temporaries}(result[0]),ctx);return new SafeTernaryExpr(result[0],body(result[1]))}function isAccessExpression(e){return function isSafeAccessExpression(e){return e instanceof SafePropertyReadExpr||e instanceof SafeKeyedReadExpr||e instanceof SafeInvokeFunctionExpr}(e)||function isUnsafeAccessExpression(e){return e instanceof ReadPropExpr||e instanceof ReadKeyExpr||e instanceof InvokeFunctionExpr}(e)}function safeTransform(e,ctx){if(!isAccessExpression(e))return e;const dst=function deepestSafeTernary(e){if(isAccessExpression(e)&&e.receiver instanceof SafeTernaryExpr){let st=e.receiver;for(;st.expr instanceof SafeTernaryExpr;)st=st.expr;return st}return null}(e);if(dst){if(e instanceof InvokeFunctionExpr)return dst.expr=dst.expr.callFn(e.args),e.receiver;if(e instanceof ReadPropExpr)return dst.expr=dst.expr.prop(e.name),e.receiver;if(e instanceof ReadKeyExpr)return dst.expr=dst.expr.key(e.index),e.receiver;if(e instanceof SafeInvokeFunctionExpr)return dst.expr=safeTernaryWithTemporary(dst.expr,r=>r.callFn(e.args),ctx),e.receiver;if(e instanceof SafePropertyReadExpr)return dst.expr=safeTernaryWithTemporary(dst.expr,r=>r.prop(e.name),ctx),e.receiver;if(e instanceof SafeKeyedReadExpr)return dst.expr=safeTernaryWithTemporary(dst.expr,r=>r.key(e.index),ctx),e.receiver}else{if(e instanceof SafeInvokeFunctionExpr)return safeTernaryWithTemporary(e.receiver,r=>r.callFn(e.args),ctx);if(e instanceof SafePropertyReadExpr)return safeTernaryWithTemporary(e.receiver,r=>r.prop(e.name),ctx);if(e instanceof SafeKeyedReadExpr)return safeTernaryWithTemporary(e.receiver,r=>r.key(e.index),ctx)}return e}function ternaryTransform(e){return e instanceof SafeTernaryExpr?new ParenthesizedExpr(new ConditionalExpr(new BinaryOperatorExpr(BinaryOperator.Equals,e.guard,NULL_EXPR),NULL_EXPR,e.expr)):e}function createI18nMessage(job,context,messagePlaceholder){let formattedParams=formatParams(context.params);const formattedPostprocessingParams=formatParams(context.postprocessingParams);let needsPostprocessing=[...context.params.values()].some(v=>v.length>1);return function createI18nMessageOp(xref,i18nContext,i18nBlock,message,messagePlaceholder,params,postprocessingParams,needsPostprocessing){return{kind:OpKind.I18nMessage,xref,i18nContext,i18nBlock,message,messagePlaceholder,params,postprocessingParams,needsPostprocessing,subMessages:[],...NEW_OP}}(job.allocateXrefId(),context.xref,context.i18nBlock,context.message,null,formattedParams,formattedPostprocessingParams,needsPostprocessing)}function formatIcuPlaceholder(op){if(op.strings.length!==op.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${op.strings.length} strings and ${op.expressionPlaceholders.length} expressions`);const values=op.expressionPlaceholders.map(formatValue);return op.strings.flatMap((str,i)=>[str,values[i]||""]).join("")}function formatParams(params){const formattedParams=new Map;for(const[placeholder,placeholderValues]of params){const serializedValues=formatParamValues(placeholderValues);null!==serializedValues&&formattedParams.set(placeholder,literal(serializedValues))}return formattedParams}function formatParamValues(values){if(0===values.length)return null;const serializedValues=values.map(value=>formatValue(value));return 1===serializedValues.length?serializedValues[0]:`[${serializedValues.join("|")}]`}function formatValue(value){if(value.flags&I18nParamValueFlags.ElementTag&&value.flags&I18nParamValueFlags.TemplateTag){if("object"!=typeof value.value)throw Error("AssertionError: Expected i18n param value to have an element and template slot");const elementValue=formatValue({...value,value:value.value.element,flags:value.flags&~I18nParamValueFlags.TemplateTag}),templateValue=formatValue({...value,value:value.value.template,flags:value.flags&~I18nParamValueFlags.ElementTag});return value.flags&I18nParamValueFlags.OpenTag&&value.flags&I18nParamValueFlags.CloseTag?`${templateValue}${elementValue}${templateValue}`:value.flags&I18nParamValueFlags.CloseTag?`${elementValue}${templateValue}`:`${templateValue}${elementValue}`}if(value.flags&I18nParamValueFlags.OpenTag&&value.flags&I18nParamValueFlags.CloseTag)return`${formatValue({...value,flags:value.flags&~I18nParamValueFlags.CloseTag})}${formatValue({...value,flags:value.flags&~I18nParamValueFlags.OpenTag})}`;if(value.flags===I18nParamValueFlags.None)return`${value.value}`;let tagMarker="",closeMarker="";value.flags&I18nParamValueFlags.ElementTag?tagMarker="#":value.flags&I18nParamValueFlags.TemplateTag&&(tagMarker="*"),""!==tagMarker&&(closeMarker=value.flags&I18nParamValueFlags.CloseTag?"/":"");const context=null===value.subTemplateIndex?"":`:${value.subTemplateIndex}`;return`�${closeMarker}${tagMarker}${value.value}${context}�`}function recursivelyProcessView(view,parentScope){const scope=function getScopeForView(view,parent){const scope={view:view.xref,viewContextVariable:{kind:SemanticVariableKind.Context,name:null,view:view.xref},contextVariables:new Map,aliases:view.aliases,references:[],letDeclarations:[],parent};for(const identifier of view.contextVariables.keys())scope.contextVariables.set(identifier,{kind:SemanticVariableKind.Identifier,name:null,identifier,local:!1});for(const op of view.create)switch(op.kind){case OpKind.ElementStart:case OpKind.ConditionalCreate:case OpKind.ConditionalBranchCreate:case OpKind.Template:if(!Array.isArray(op.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let offset=0;offset<op.localRefs.length;offset++)scope.references.push({name:op.localRefs[offset].name,targetId:op.xref,targetSlot:op.handle,offset,variable:{kind:SemanticVariableKind.Identifier,name:null,identifier:op.localRefs[offset].name,local:!1}});break;case OpKind.DeclareLet:scope.letDeclarations.push({targetId:op.xref,targetSlot:op.handle,variable:{kind:SemanticVariableKind.Identifier,name:null,identifier:op.declaredName,local:!1}})}return scope}(view,parentScope);for(const op of view.create)switch(op.kind){case OpKind.ConditionalCreate:case OpKind.ConditionalBranchCreate:case OpKind.Template:recursivelyProcessView(view.job.views.get(op.xref),scope);break;case OpKind.Projection:null!==op.fallbackView&&recursivelyProcessView(view.job.views.get(op.fallbackView),scope);break;case OpKind.RepeaterCreate:recursivelyProcessView(view.job.views.get(op.xref),scope),op.emptyView&&recursivelyProcessView(view.job.views.get(op.emptyView),scope),null!==op.trackByOps&&op.trackByOps.prepend(generateVariablesInScopeForView(view,scope,!1));break;case OpKind.Animation:case OpKind.AnimationListener:case OpKind.Listener:case OpKind.TwoWayListener:op.handlerOps.prepend(generateVariablesInScopeForView(view,scope,!0))}view.update.prepend(generateVariablesInScopeForView(view,scope,!1))}function generateVariablesInScopeForView(view,scope,isCallback){const newOps=[];scope.view!==view.xref&&newOps.push(createVariableOp(view.job.allocateXrefId(),scope.viewContextVariable,new NextContextExpr,VariableFlags.None));const scopeView=view.job.views.get(scope.view);for(const[name,value]of scopeView.contextVariables){const context=new ContextExpr(scope.view),variable="CTX_REF_MARKER"===value?context:new ReadPropExpr(context,value);newOps.push(createVariableOp(view.job.allocateXrefId(),scope.contextVariables.get(name),variable,VariableFlags.None))}for(const alias of scopeView.aliases)newOps.push(createVariableOp(view.job.allocateXrefId(),alias,alias.expression.clone(),VariableFlags.AlwaysInline));for(const ref of scope.references)newOps.push(createVariableOp(view.job.allocateXrefId(),ref.variable,new ReferenceExpr(ref.targetId,ref.targetSlot,ref.offset),VariableFlags.None));if(scope.view!==view.xref||isCallback)for(const decl of scope.letDeclarations)newOps.push(createVariableOp(view.job.allocateXrefId(),decl.variable,new ContextLetReferenceExpr(decl.targetId,decl.targetSlot),VariableFlags.None));return null!==scope.parent&&newOps.push(...generateVariablesInScopeForView(view,scope.parent,!1)),newOps}function isCssCustomProperty(name){return name.startsWith("--")}function hyphenate$1(value){return value.replace(/[a-z][A-Z]/g,v=>v.charAt(0)+"-"+v.charAt(1)).toLowerCase()}function parseProperty(name){const overrideIndex=name.indexOf("!important");-1!==overrideIndex&&(name=overrideIndex>0?name.substring(0,overrideIndex):"");let suffix=null,property=name;const unitIndex=name.lastIndexOf(".");return unitIndex>0&&(suffix=name.slice(unitIndex+1),property=name.substring(0,unitIndex)),{property,suffix}}function mapLiteral(obj,quoted=!1){return literalMap(Object.keys(obj).map(key=>({key,quoted,value:obj[key]})))}const serializer=new class IcuSerializerVisitor{visitText(text){return text.value}visitContainer(container){return container.children.map(child=>child.visit(this)).join("")}visitIcu(icu){const strCases=Object.keys(icu.cases).map(k=>`${k} {${icu.cases[k].visit(this)}}`);return`{${icu.expressionPlaceholder}, ${icu.type}, ${strCases.join(" ")}}`}visitTagPlaceholder(ph){return ph.isVoid?this.formatPh(ph.startName):`${this.formatPh(ph.startName)}${ph.children.map(child=>child.visit(this)).join("")}${this.formatPh(ph.closeName)}`}visitPlaceholder(ph){return this.formatPh(ph.name)}visitBlockPlaceholder(ph){return`${this.formatPh(ph.startName)}${ph.children.map(child=>child.visit(this)).join("")}${this.formatPh(ph.closeName)}`}visitIcuPlaceholder(ph,context){return this.formatPh(ph.name)}formatPh(value){return`{${formatI18nPlaceholderName(value,!1)}}`}};function serializeIcuNode(icu){return icu.visit(serializer)}class NodeWithI18n{sourceSpan;i18n;constructor(sourceSpan,i18n){this.sourceSpan=sourceSpan,this.i18n=i18n}}class Text extends NodeWithI18n{value;tokens;constructor(value,sourceSpan,tokens,i18n){super(sourceSpan,i18n),this.value=value,this.tokens=tokens}visit(visitor,context){return visitor.visitText(this,context)}}class Expansion extends NodeWithI18n{switchValue;type;cases;switchValueSourceSpan;constructor(switchValue,type,cases,sourceSpan,switchValueSourceSpan,i18n){super(sourceSpan,i18n),this.switchValue=switchValue,this.type=type,this.cases=cases,this.switchValueSourceSpan=switchValueSourceSpan}visit(visitor,context){return visitor.visitExpansion(this,context)}}class ExpansionCase{value;expression;sourceSpan;valueSourceSpan;expSourceSpan;constructor(value,expression,sourceSpan,valueSourceSpan,expSourceSpan){this.value=value,this.expression=expression,this.sourceSpan=sourceSpan,this.valueSourceSpan=valueSourceSpan,this.expSourceSpan=expSourceSpan}visit(visitor,context){return visitor.visitExpansionCase(this,context)}}class Attribute extends NodeWithI18n{name;value;keySpan;valueSpan;valueTokens;constructor(name,value,sourceSpan,keySpan,valueSpan,valueTokens,i18n){super(sourceSpan,i18n),this.name=name,this.value=value,this.keySpan=keySpan,this.valueSpan=valueSpan,this.valueTokens=valueTokens}visit(visitor,context){return visitor.visitAttribute(this,context)}}class Element extends NodeWithI18n{name;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;isVoid;constructor(name,attrs,directives,children,isSelfClosing,sourceSpan,startSourceSpan,endSourceSpan=null,isVoid,i18n){super(sourceSpan,i18n),this.name=name,this.attrs=attrs,this.directives=directives,this.children=children,this.isSelfClosing=isSelfClosing,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan,this.isVoid=isVoid}visit(visitor,context){return visitor.visitElement(this,context)}}class Comment{value;sourceSpan;constructor(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitComment(this,context)}}class Block extends NodeWithI18n{name;parameters;children;nameSpan;startSourceSpan;endSourceSpan;constructor(name,parameters,children,sourceSpan,nameSpan,startSourceSpan,endSourceSpan=null,i18n){super(sourceSpan,i18n),this.name=name,this.parameters=parameters,this.children=children,this.nameSpan=nameSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan}visit(visitor,context){return visitor.visitBlock(this,context)}}class Component extends NodeWithI18n{componentName;tagName;fullName;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;constructor(componentName,tagName,fullName,attrs,directives,children,isSelfClosing,sourceSpan,startSourceSpan,endSourceSpan=null,i18n){super(sourceSpan,i18n),this.componentName=componentName,this.tagName=tagName,this.fullName=fullName,this.attrs=attrs,this.directives=directives,this.children=children,this.isSelfClosing=isSelfClosing,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan}visit(visitor,context){return visitor.visitComponent(this,context)}}class Directive{name;attrs;sourceSpan;startSourceSpan;endSourceSpan;constructor(name,attrs,sourceSpan,startSourceSpan,endSourceSpan=null){this.name=name,this.attrs=attrs,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan}visit(visitor,context){return visitor.visitDirective(this,context)}}class BlockParameter{expression;sourceSpan;constructor(expression,sourceSpan){this.expression=expression,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitBlockParameter(this,context)}}class LetDeclaration{name;value;sourceSpan;nameSpan;valueSpan;constructor(name,value,sourceSpan,nameSpan,valueSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.nameSpan=nameSpan,this.valueSpan=valueSpan}visit(visitor,context){return visitor.visitLetDeclaration(this,context)}}function visitAll(visitor,nodes,context=null){const result=[],visit=visitor.visit?ast=>visitor.visit(ast,context)||ast.visit(visitor,context):ast=>ast.visit(visitor,context);return nodes.forEach(ast=>{const astResult=visit(ast);astResult&&result.push(astResult)}),result}const NAMED_ENTITIES={AElig:"Æ",AMP:"&",amp:"&",Aacute:"Á",Abreve:"Ă",Acirc:"Â",Acy:"А",Afr:"𝔄",Agrave:"À",Alpha:"Α",Amacr:"Ā",And:"⩓",Aogon:"Ą",Aopf:"𝔸",ApplyFunction:"⁡",af:"⁡",Aring:"Å",angst:"Å",Ascr:"𝒜",Assign:"≔",colone:"≔",coloneq:"≔",Atilde:"Ã",Auml:"Ä",Backslash:"∖",setminus:"∖",setmn:"∖",smallsetminus:"∖",ssetmn:"∖",Barv:"⫧",Barwed:"⌆",doublebarwedge:"⌆",Bcy:"Б",Because:"∵",becaus:"∵",because:"∵",Bernoullis:"ℬ",Bscr:"ℬ",bernou:"ℬ",Beta:"Β",Bfr:"𝔅",Bopf:"𝔹",Breve:"˘",breve:"˘",Bumpeq:"≎",HumpDownHump:"≎",bump:"≎",CHcy:"Ч",COPY:"©",copy:"©",Cacute:"Ć",Cap:"⋒",CapitalDifferentialD:"ⅅ",DD:"ⅅ",Cayleys:"ℭ",Cfr:"ℭ",Ccaron:"Č",Ccedil:"Ç",Ccirc:"Ĉ",Cconint:"∰",Cdot:"Ċ",Cedilla:"¸",cedil:"¸",CenterDot:"·",centerdot:"·",middot:"·",Chi:"Χ",CircleDot:"⊙",odot:"⊙",CircleMinus:"⊖",ominus:"⊖",CirclePlus:"⊕",oplus:"⊕",CircleTimes:"⊗",otimes:"⊗",ClockwiseContourIntegral:"∲",cwconint:"∲",CloseCurlyDoubleQuote:"”",rdquo:"”",rdquor:"”",CloseCurlyQuote:"’",rsquo:"’",rsquor:"’",Colon:"∷",Proportion:"∷",Colone:"⩴",Congruent:"≡",equiv:"≡",Conint:"∯",DoubleContourIntegral:"∯",ContourIntegral:"∮",conint:"∮",oint:"∮",Copf:"ℂ",complexes:"ℂ",Coproduct:"∐",coprod:"∐",CounterClockwiseContourIntegral:"∳",awconint:"∳",Cross:"⨯",Cscr:"𝒞",Cup:"⋓",CupCap:"≍",asympeq:"≍",DDotrahd:"⤑",DJcy:"Ђ",DScy:"Ѕ",DZcy:"Џ",Dagger:"‡",ddagger:"‡",Darr:"↡",Dashv:"⫤",DoubleLeftTee:"⫤",Dcaron:"Ď",Dcy:"Д",Del:"∇",nabla:"∇",Delta:"Δ",Dfr:"𝔇",DiacriticalAcute:"´",acute:"´",DiacriticalDot:"˙",dot:"˙",DiacriticalDoubleAcute:"˝",dblac:"˝",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"˜",tilde:"˜",Diamond:"⋄",diam:"⋄",diamond:"⋄",DifferentialD:"ⅆ",dd:"ⅆ",Dopf:"𝔻",Dot:"¨",DoubleDot:"¨",die:"¨",uml:"¨",DotDot:"⃜",DotEqual:"≐",doteq:"≐",esdot:"≐",DoubleDownArrow:"⇓",Downarrow:"⇓",dArr:"⇓",DoubleLeftArrow:"⇐",Leftarrow:"⇐",lArr:"⇐",DoubleLeftRightArrow:"⇔",Leftrightarrow:"⇔",hArr:"⇔",iff:"⇔",DoubleLongLeftArrow:"⟸",Longleftarrow:"⟸",xlArr:"⟸",DoubleLongLeftRightArrow:"⟺",Longleftrightarrow:"⟺",xhArr:"⟺",DoubleLongRightArrow:"⟹",Longrightarrow:"⟹",xrArr:"⟹",DoubleRightArrow:"⇒",Implies:"⇒",Rightarrow:"⇒",rArr:"⇒",DoubleRightTee:"⊨",vDash:"⊨",DoubleUpArrow:"⇑",Uparrow:"⇑",uArr:"⇑",DoubleUpDownArrow:"⇕",Updownarrow:"⇕",vArr:"⇕",DoubleVerticalBar:"∥",par:"∥",parallel:"∥",shortparallel:"∥",spar:"∥",DownArrow:"↓",ShortDownArrow:"↓",darr:"↓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",duarr:"⇵",DownBreve:"̑",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",leftharpoondown:"↽",lhard:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",rhard:"⇁",rightharpoondown:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",top:"⊤",DownTeeArrow:"↧",mapstodown:"↧",Dscr:"𝒟",Dstrok:"Đ",ENG:"Ŋ",ETH:"Ð",Eacute:"É",Ecaron:"Ě",Ecirc:"Ê",Ecy:"Э",Edot:"Ė",Efr:"𝔈",Egrave:"È",Element:"∈",in:"∈",isin:"∈",isinv:"∈",Emacr:"Ē",EmptySmallSquare:"◻",EmptyVerySmallSquare:"▫",Eogon:"Ę",Eopf:"𝔼",Epsilon:"Ε",Equal:"⩵",EqualTilde:"≂",eqsim:"≂",esim:"≂",Equilibrium:"⇌",rightleftharpoons:"⇌",rlhar:"⇌",Escr:"ℰ",expectation:"ℰ",Esim:"⩳",Eta:"Η",Euml:"Ë",Exists:"∃",exist:"∃",ExponentialE:"ⅇ",ee:"ⅇ",exponentiale:"ⅇ",Fcy:"Ф",Ffr:"𝔉",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",blacksquare:"▪",squarf:"▪",squf:"▪",Fopf:"𝔽",ForAll:"∀",forall:"∀",Fouriertrf:"ℱ",Fscr:"ℱ",GJcy:"Ѓ",GT:">",gt:">",Gamma:"Γ",Gammad:"Ϝ",Gbreve:"Ğ",Gcedil:"Ģ",Gcirc:"Ĝ",Gcy:"Г",Gdot:"Ġ",Gfr:"𝔊",Gg:"⋙",ggg:"⋙",Gopf:"𝔾",GreaterEqual:"≥",ge:"≥",geq:"≥",GreaterEqualLess:"⋛",gel:"⋛",gtreqless:"⋛",GreaterFullEqual:"≧",gE:"≧",geqq:"≧",GreaterGreater:"⪢",GreaterLess:"≷",gl:"≷",gtrless:"≷",GreaterSlantEqual:"⩾",geqslant:"⩾",ges:"⩾",GreaterTilde:"≳",gsim:"≳",gtrsim:"≳",Gscr:"𝒢",Gt:"≫",NestedGreaterGreater:"≫",gg:"≫",HARDcy:"Ъ",Hacek:"ˇ",caron:"ˇ",Hat:"^",Hcirc:"Ĥ",Hfr:"ℌ",Poincareplane:"ℌ",HilbertSpace:"ℋ",Hscr:"ℋ",hamilt:"ℋ",Hopf:"ℍ",quaternions:"ℍ",HorizontalLine:"─",boxh:"─",Hstrok:"Ħ",HumpEqual:"≏",bumpe:"≏",bumpeq:"≏",IEcy:"Е",IJlig:"Ĳ",IOcy:"Ё",Iacute:"Í",Icirc:"Î",Icy:"И",Idot:"İ",Ifr:"ℑ",Im:"ℑ",image:"ℑ",imagpart:"ℑ",Igrave:"Ì",Imacr:"Ī",ImaginaryI:"ⅈ",ii:"ⅈ",Int:"∬",Integral:"∫",int:"∫",Intersection:"⋂",bigcap:"⋂",xcap:"⋂",InvisibleComma:"⁣",ic:"⁣",InvisibleTimes:"⁢",it:"⁢",Iogon:"Į",Iopf:"𝕀",Iota:"Ι",Iscr:"ℐ",imagline:"ℐ",Itilde:"Ĩ",Iukcy:"І",Iuml:"Ï",Jcirc:"Ĵ",Jcy:"Й",Jfr:"𝔍",Jopf:"𝕁",Jscr:"𝒥",Jsercy:"Ј",Jukcy:"Є",KHcy:"Х",KJcy:"Ќ",Kappa:"Κ",Kcedil:"Ķ",Kcy:"К",Kfr:"𝔎",Kopf:"𝕂",Kscr:"𝒦",LJcy:"Љ",LT:"<",lt:"<",Lacute:"Ĺ",Lambda:"Λ",Lang:"⟪",Laplacetrf:"ℒ",Lscr:"ℒ",lagran:"ℒ",Larr:"↞",twoheadleftarrow:"↞",Lcaron:"Ľ",Lcedil:"Ļ",Lcy:"Л",LeftAngleBracket:"⟨",lang:"⟨",langle:"⟨",LeftArrow:"←",ShortLeftArrow:"←",larr:"←",leftarrow:"←",slarr:"←",LeftArrowBar:"⇤",larrb:"⇤",LeftArrowRightArrow:"⇆",leftrightarrows:"⇆",lrarr:"⇆",LeftCeiling:"⌈",lceil:"⌈",LeftDoubleBracket:"⟦",lobrk:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",dharl:"⇃",downharpoonleft:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",lfloor:"⌊",LeftRightArrow:"↔",harr:"↔",leftrightarrow:"↔",LeftRightVector:"⥎",LeftTee:"⊣",dashv:"⊣",LeftTeeArrow:"↤",mapstoleft:"↤",LeftTeeVector:"⥚",LeftTriangle:"⊲",vartriangleleft:"⊲",vltri:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",ltrie:"⊴",trianglelefteq:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",uharl:"↿",upharpoonleft:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",leftharpoonup:"↼",lharu:"↼",LeftVectorBar:"⥒",LessEqualGreater:"⋚",leg:"⋚",lesseqgtr:"⋚",LessFullEqual:"≦",lE:"≦",leqq:"≦",LessGreater:"≶",lessgtr:"≶",lg:"≶",LessLess:"⪡",LessSlantEqual:"⩽",leqslant:"⩽",les:"⩽",LessTilde:"≲",lesssim:"≲",lsim:"≲",Lfr:"𝔏",Ll:"⋘",Lleftarrow:"⇚",lAarr:"⇚",Lmidot:"Ŀ",LongLeftArrow:"⟵",longleftarrow:"⟵",xlarr:"⟵",LongLeftRightArrow:"⟷",longleftrightarrow:"⟷",xharr:"⟷",LongRightArrow:"⟶",longrightarrow:"⟶",xrarr:"⟶",Lopf:"𝕃",LowerLeftArrow:"↙",swarr:"↙",swarrow:"↙",LowerRightArrow:"↘",searr:"↘",searrow:"↘",Lsh:"↰",lsh:"↰",Lstrok:"Ł",Lt:"≪",NestedLessLess:"≪",ll:"≪",Map:"⤅",Mcy:"М",MediumSpace:" ",Mellintrf:"ℳ",Mscr:"ℳ",phmmat:"ℳ",Mfr:"𝔐",MinusPlus:"∓",mnplus:"∓",mp:"∓",Mopf:"𝕄",Mu:"Μ",NJcy:"Њ",Nacute:"Ń",Ncaron:"Ň",Ncedil:"Ņ",Ncy:"Н",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",ZeroWidthSpace:"​",NewLine:"\n",Nfr:"𝔑",NoBreak:"⁠",NonBreakingSpace:" ",nbsp:" ",Nopf:"ℕ",naturals:"ℕ",Not:"⫬",NotCongruent:"≢",nequiv:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",npar:"∦",nparallel:"∦",nshortparallel:"∦",nspar:"∦",NotElement:"∉",notin:"∉",notinva:"∉",NotEqual:"≠",ne:"≠",NotEqualTilde:"≂̸",nesim:"≂̸",NotExists:"∄",nexist:"∄",nexists:"∄",NotGreater:"≯",ngt:"≯",ngtr:"≯",NotGreaterEqual:"≱",nge:"≱",ngeq:"≱",NotGreaterFullEqual:"≧̸",ngE:"≧̸",ngeqq:"≧̸",NotGreaterGreater:"≫̸",nGtv:"≫̸",NotGreaterLess:"≹",ntgl:"≹",NotGreaterSlantEqual:"⩾̸",ngeqslant:"⩾̸",nges:"⩾̸",NotGreaterTilde:"≵",ngsim:"≵",NotHumpDownHump:"≎̸",nbump:"≎̸",NotHumpEqual:"≏̸",nbumpe:"≏̸",NotLeftTriangle:"⋪",nltri:"⋪",ntriangleleft:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",nltrie:"⋬",ntrianglelefteq:"⋬",NotLess:"≮",nless:"≮",nlt:"≮",NotLessEqual:"≰",nle:"≰",nleq:"≰",NotLessGreater:"≸",ntlg:"≸",NotLessLess:"≪̸",nLtv:"≪̸",NotLessSlantEqual:"⩽̸",nleqslant:"⩽̸",nles:"⩽̸",NotLessTilde:"≴",nlsim:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",NotPrecedes:"⊀",npr:"⊀",nprec:"⊀",NotPrecedesEqual:"⪯̸",npre:"⪯̸",npreceq:"⪯̸",NotPrecedesSlantEqual:"⋠",nprcue:"⋠",NotReverseElement:"∌",notni:"∌",notniva:"∌",NotRightTriangle:"⋫",nrtri:"⋫",ntriangleright:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",nrtrie:"⋭",ntrianglerighteq:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",nsqsube:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",nsqsupe:"⋣",NotSubset:"⊂⃒",nsubset:"⊂⃒",vnsub:"⊂⃒",NotSubsetEqual:"⊈",nsube:"⊈",nsubseteq:"⊈",NotSucceeds:"⊁",nsc:"⊁",nsucc:"⊁",NotSucceedsEqual:"⪰̸",nsce:"⪰̸",nsucceq:"⪰̸",NotSucceedsSlantEqual:"⋡",nsccue:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",nsupset:"⊃⃒",vnsup:"⊃⃒",NotSupersetEqual:"⊉",nsupe:"⊉",nsupseteq:"⊉",NotTilde:"≁",nsim:"≁",NotTildeEqual:"≄",nsime:"≄",nsimeq:"≄",NotTildeFullEqual:"≇",ncong:"≇",NotTildeTilde:"≉",nap:"≉",napprox:"≉",NotVerticalBar:"∤",nmid:"∤",nshortmid:"∤",nsmid:"∤",Nscr:"𝒩",Ntilde:"Ñ",Nu:"Ν",OElig:"Œ",Oacute:"Ó",Ocirc:"Ô",Ocy:"О",Odblac:"Ő",Ofr:"𝔒",Ograve:"Ò",Omacr:"Ō",Omega:"Ω",ohm:"Ω",Omicron:"Ο",Oopf:"𝕆",OpenCurlyDoubleQuote:"“",ldquo:"“",OpenCurlyQuote:"‘",lsquo:"‘",Or:"⩔",Oscr:"𝒪",Oslash:"Ø",Otilde:"Õ",Otimes:"⨷",Ouml:"Ö",OverBar:"‾",oline:"‾",OverBrace:"⏞",OverBracket:"⎴",tbrk:"⎴",OverParenthesis:"⏜",PartialD:"∂",part:"∂",Pcy:"П",Pfr:"𝔓",Phi:"Φ",Pi:"Π",PlusMinus:"±",plusmn:"±",pm:"±",Popf:"ℙ",primes:"ℙ",Pr:"⪻",Precedes:"≺",pr:"≺",prec:"≺",PrecedesEqual:"⪯",pre:"⪯",preceq:"⪯",PrecedesSlantEqual:"≼",prcue:"≼",preccurlyeq:"≼",PrecedesTilde:"≾",precsim:"≾",prsim:"≾",Prime:"″",Product:"∏",prod:"∏",Proportional:"∝",prop:"∝",propto:"∝",varpropto:"∝",vprop:"∝",Pscr:"𝒫",Psi:"Ψ",QUOT:'"',quot:'"',Qfr:"𝔔",Qopf:"ℚ",rationals:"ℚ",Qscr:"𝒬",RBarr:"⤐",drbkarow:"⤐",REG:"®",circledR:"®",reg:"®",Racute:"Ŕ",Rang:"⟫",Rarr:"↠",twoheadrightarrow:"↠",Rarrtl:"⤖",Rcaron:"Ř",Rcedil:"Ŗ",Rcy:"Р",Re:"ℜ",Rfr:"ℜ",real:"ℜ",realpart:"ℜ",ReverseElement:"∋",SuchThat:"∋",ni:"∋",niv:"∋",ReverseEquilibrium:"⇋",leftrightharpoons:"⇋",lrhar:"⇋",ReverseUpEquilibrium:"⥯",duhar:"⥯",Rho:"Ρ",RightAngleBracket:"⟩",rang:"⟩",rangle:"⟩",RightArrow:"→",ShortRightArrow:"→",rarr:"→",rightarrow:"→",srarr:"→",RightArrowBar:"⇥",rarrb:"⇥",RightArrowLeftArrow:"⇄",rightleftarrows:"⇄",rlarr:"⇄",RightCeiling:"⌉",rceil:"⌉",RightDoubleBracket:"⟧",robrk:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",dharr:"⇂",downharpoonright:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rfloor:"⌋",RightTee:"⊢",vdash:"⊢",RightTeeArrow:"↦",map:"↦",mapsto:"↦",RightTeeVector:"⥛",RightTriangle:"⊳",vartriangleright:"⊳",vrtri:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",rtrie:"⊵",trianglerighteq:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",uharr:"↾",upharpoonright:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",rharu:"⇀",rightharpoonup:"⇀",RightVectorBar:"⥓",Ropf:"ℝ",reals:"ℝ",RoundImplies:"⥰",Rrightarrow:"⇛",rAarr:"⇛",Rscr:"ℛ",realine:"ℛ",Rsh:"↱",rsh:"↱",RuleDelayed:"⧴",SHCHcy:"Щ",SHcy:"Ш",SOFTcy:"Ь",Sacute:"Ś",Sc:"⪼",Scaron:"Š",Scedil:"Ş",Scirc:"Ŝ",Scy:"С",Sfr:"𝔖",ShortUpArrow:"↑",UpArrow:"↑",uarr:"↑",uparrow:"↑",Sigma:"Σ",SmallCircle:"∘",compfn:"∘",Sopf:"𝕊",Sqrt:"√",radic:"√",Square:"□",squ:"□",square:"□",SquareIntersection:"⊓",sqcap:"⊓",SquareSubset:"⊏",sqsub:"⊏",sqsubset:"⊏",SquareSubsetEqual:"⊑",sqsube:"⊑",sqsubseteq:"⊑",SquareSuperset:"⊐",sqsup:"⊐",sqsupset:"⊐",SquareSupersetEqual:"⊒",sqsupe:"⊒",sqsupseteq:"⊒",SquareUnion:"⊔",sqcup:"⊔",Sscr:"𝒮",Star:"⋆",sstarf:"⋆",Sub:"⋐",Subset:"⋐",SubsetEqual:"⊆",sube:"⊆",subseteq:"⊆",Succeeds:"≻",sc:"≻",succ:"≻",SucceedsEqual:"⪰",sce:"⪰",succeq:"⪰",SucceedsSlantEqual:"≽",sccue:"≽",succcurlyeq:"≽",SucceedsTilde:"≿",scsim:"≿",succsim:"≿",Sum:"∑",sum:"∑",Sup:"⋑",Supset:"⋑",Superset:"⊃",sup:"⊃",supset:"⊃",SupersetEqual:"⊇",supe:"⊇",supseteq:"⊇",THORN:"Þ",TRADE:"™",trade:"™",TSHcy:"Ћ",TScy:"Ц",Tab:"\t",Tau:"Τ",Tcaron:"Ť",Tcedil:"Ţ",Tcy:"Т",Tfr:"𝔗",Therefore:"∴",there4:"∴",therefore:"∴",Theta:"Θ",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",Tilde:"∼",sim:"∼",thicksim:"∼",thksim:"∼",TildeEqual:"≃",sime:"≃",simeq:"≃",TildeFullEqual:"≅",cong:"≅",TildeTilde:"≈",ap:"≈",approx:"≈",asymp:"≈",thickapprox:"≈",thkap:"≈",Topf:"𝕋",TripleDot:"⃛",tdot:"⃛",Tscr:"𝒯",Tstrok:"Ŧ",Uacute:"Ú",Uarr:"↟",Uarrocir:"⥉",Ubrcy:"Ў",Ubreve:"Ŭ",Ucirc:"Û",Ucy:"У",Udblac:"Ű",Ufr:"𝔘",Ugrave:"Ù",Umacr:"Ū",UnderBar:"_",lowbar:"_",UnderBrace:"⏟",UnderBracket:"⎵",bbrk:"⎵",UnderParenthesis:"⏝",Union:"⋃",bigcup:"⋃",xcup:"⋃",UnionPlus:"⊎",uplus:"⊎",Uogon:"Ų",Uopf:"𝕌",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",udarr:"⇅",UpDownArrow:"↕",updownarrow:"↕",varr:"↕",UpEquilibrium:"⥮",udhar:"⥮",UpTee:"⊥",bot:"⊥",bottom:"⊥",perp:"⊥",UpTeeArrow:"↥",mapstoup:"↥",UpperLeftArrow:"↖",nwarr:"↖",nwarrow:"↖",UpperRightArrow:"↗",nearr:"↗",nearrow:"↗",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",Uring:"Ů",Uscr:"𝒰",Utilde:"Ũ",Uuml:"Ü",VDash:"⊫",Vbar:"⫫",Vcy:"В",Vdash:"⊩",Vdashl:"⫦",Vee:"⋁",bigvee:"⋁",xvee:"⋁",Verbar:"‖",Vert:"‖",VerticalBar:"∣",mid:"∣",shortmid:"∣",smid:"∣",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"❘",VerticalTilde:"≀",wr:"≀",wreath:"≀",VeryThinSpace:" ",hairsp:" ",Vfr:"𝔙",Vopf:"𝕍",Vscr:"𝒱",Vvdash:"⊪",Wcirc:"Ŵ",Wedge:"⋀",bigwedge:"⋀",xwedge:"⋀",Wfr:"𝔚",Wopf:"𝕎",Wscr:"𝒲",Xfr:"𝔛",Xi:"Ξ",Xopf:"𝕏",Xscr:"𝒳",YAcy:"Я",YIcy:"Ї",YUcy:"Ю",Yacute:"Ý",Ycirc:"Ŷ",Ycy:"Ы",Yfr:"𝔜",Yopf:"𝕐",Yscr:"𝒴",Yuml:"Ÿ",ZHcy:"Ж",Zacute:"Ź",Zcaron:"Ž",Zcy:"З",Zdot:"Ż",Zeta:"Ζ",Zfr:"ℨ",zeetrf:"ℨ",Zopf:"ℤ",integers:"ℤ",Zscr:"𝒵",aacute:"á",abreve:"ă",ac:"∾",mstpos:"∾",acE:"∾̳",acd:"∿",acirc:"â",acy:"а",aelig:"æ",afr:"𝔞",agrave:"à",alefsym:"ℵ",aleph:"ℵ",alpha:"α",amacr:"ā",amalg:"⨿",and:"∧",wedge:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",angle:"∠",ange:"⦤",angmsd:"∡",measuredangle:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angzarr:"⍼",aogon:"ą",aopf:"𝕒",apE:"⩰",apacir:"⩯",ape:"≊",approxeq:"≊",apid:"≋",apos:"'",aring:"å",ascr:"𝒶",ast:"*",midast:"*",atilde:"ã",auml:"ä",awint:"⨑",bNot:"⫭",backcong:"≌",bcong:"≌",backepsilon:"϶",bepsi:"϶",backprime:"‵",bprime:"‵",backsim:"∽",bsim:"∽",backsimeq:"⋍",bsime:"⋍",barvee:"⊽",barwed:"⌅",barwedge:"⌅",bbrktbrk:"⎶",bcy:"б",bdquo:"„",ldquor:"„",bemptyv:"⦰",beta:"β",beth:"ℶ",between:"≬",twixt:"≬",bfr:"𝔟",bigcirc:"◯",xcirc:"◯",bigodot:"⨀",xodot:"⨀",bigoplus:"⨁",xoplus:"⨁",bigotimes:"⨂",xotime:"⨂",bigsqcup:"⨆",xsqcup:"⨆",bigstar:"★",starf:"★",bigtriangledown:"▽",xdtri:"▽",bigtriangleup:"△",xutri:"△",biguplus:"⨄",xuplus:"⨄",bkarow:"⤍",rbarr:"⤍",blacklozenge:"⧫",lozf:"⧫",blacktriangle:"▴",utrif:"▴",blacktriangledown:"▾",dtrif:"▾",blacktriangleleft:"◂",ltrif:"◂",blacktriangleright:"▸",rtrif:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bopf:"𝕓",bowtie:"⋈",boxDL:"╗",boxDR:"╔",boxDl:"╖",boxDr:"╓",boxH:"═",boxHD:"╦",boxHU:"╩",boxHd:"╤",boxHu:"╧",boxUL:"╝",boxUR:"╚",boxUl:"╜",boxUr:"╙",boxV:"║",boxVH:"╬",boxVL:"╣",boxVR:"╠",boxVh:"╫",boxVl:"╢",boxVr:"╟",boxbox:"⧉",boxdL:"╕",boxdR:"╒",boxdl:"┐",boxdr:"┌",boxhD:"╥",boxhU:"╨",boxhd:"┬",boxhu:"┴",boxminus:"⊟",minusb:"⊟",boxplus:"⊞",plusb:"⊞",boxtimes:"⊠",timesb:"⊠",boxuL:"╛",boxuR:"╘",boxul:"┘",boxur:"└",boxv:"│",boxvH:"╪",boxvL:"╡",boxvR:"╞",boxvh:"┼",boxvl:"┤",boxvr:"├",brvbar:"¦",bscr:"𝒷",bsemi:"⁏",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bumpE:"⪮",cacute:"ć",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",caps:"∩︀",caret:"⁁",ccaps:"⩍",ccaron:"č",ccedil:"ç",ccirc:"ĉ",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",cemptyv:"⦲",cent:"¢",cfr:"𝔠",chcy:"ч",check:"✓",checkmark:"✓",chi:"χ",cir:"○",cirE:"⧃",circ:"ˆ",circeq:"≗",cire:"≗",circlearrowleft:"↺",olarr:"↺",circlearrowright:"↻",orarr:"↻",circledS:"Ⓢ",oS:"Ⓢ",circledast:"⊛",oast:"⊛",circledcirc:"⊚",ocir:"⊚",circleddash:"⊝",odash:"⊝",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",clubs:"♣",clubsuit:"♣",colon:":",comma:",",commat:"@",comp:"∁",complement:"∁",congdot:"⩭",copf:"𝕔",copysr:"℗",crarr:"↵",cross:"✗",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",curlyeqprec:"⋞",cuesc:"⋟",curlyeqsucc:"⋟",cularr:"↶",curvearrowleft:"↶",cularrp:"⤽",cup:"∪",cupbrcap:"⩈",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curvearrowright:"↷",curarrm:"⤼",curlyvee:"⋎",cuvee:"⋎",curlywedge:"⋏",cuwed:"⋏",curren:"¤",cwint:"∱",cylcty:"⌭",dHar:"⥥",dagger:"†",daleth:"ℸ",dash:"‐",hyphen:"‐",dbkarow:"⤏",rBarr:"⤏",dcaron:"ď",dcy:"д",ddarr:"⇊",downdownarrows:"⇊",ddotseq:"⩷",eDDot:"⩷",deg:"°",delta:"δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",diamondsuit:"♦",diams:"♦",digamma:"ϝ",gammad:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",dlcorn:"⌞",llcorner:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",doteqdot:"≑",eDot:"≑",dotminus:"∸",minusd:"∸",dotplus:"∔",plusdo:"∔",dotsquare:"⊡",sdotb:"⊡",drcorn:"⌟",lrcorner:"⌟",drcrop:"⌌",dscr:"𝒹",dscy:"ѕ",dsol:"⧶",dstrok:"đ",dtdot:"⋱",dtri:"▿",triangledown:"▿",dwangle:"⦦",dzcy:"џ",dzigrarr:"⟿",eacute:"é",easter:"⩮",ecaron:"ě",ecir:"≖",eqcirc:"≖",ecirc:"ê",ecolon:"≕",eqcolon:"≕",ecy:"э",edot:"ė",efDot:"≒",fallingdotseq:"≒",efr:"𝔢",eg:"⪚",egrave:"è",egs:"⪖",eqslantgtr:"⪖",egsdot:"⪘",el:"⪙",elinters:"⏧",ell:"ℓ",els:"⪕",eqslantless:"⪕",elsdot:"⪗",emacr:"ē",empty:"∅",emptyset:"∅",emptyv:"∅",varnothing:"∅",emsp13:" ",emsp14:" ",emsp:" ",eng:"ŋ",ensp:" ",eogon:"ę",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",epsiv:"ϵ",straightepsilon:"ϵ",varepsilon:"ϵ",equals:"=",equest:"≟",questeq:"≟",equivDD:"⩸",eqvparsl:"⧥",erDot:"≓",risingdotseq:"≓",erarr:"⥱",escr:"ℯ",eta:"η",eth:"ð",euml:"ë",euro:"€",excl:"!",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",filig:"ﬁ",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",fork:"⋔",pitchfork:"⋔",forkv:"⫙",fpartint:"⨍",frac12:"½",half:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",sfrown:"⌢",fscr:"𝒻",gEl:"⪌",gtreqqless:"⪌",gacute:"ǵ",gamma:"γ",gap:"⪆",gtrapprox:"⪆",gbreve:"ğ",gcirc:"ĝ",gcy:"г",gdot:"ġ",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",gimel:"ℷ",gjcy:"ѓ",glE:"⪒",gla:"⪥",glj:"⪤",gnE:"≩",gneqq:"≩",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gneq:"⪈",gnsim:"⋧",gopf:"𝕘",gscr:"ℊ",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtrdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrarr:"⥸",gvertneqq:"≩︀",gvnE:"≩︀",hardcy:"ъ",harrcir:"⥈",harrw:"↭",leftrightsquigarrow:"↭",hbar:"ℏ",hslash:"ℏ",planck:"ℏ",plankv:"ℏ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",mldr:"…",hercon:"⊹",hfr:"𝔥",hksearow:"⤥",searhk:"⤥",hkswarow:"⤦",swarhk:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",larrhk:"↩",hookrightarrow:"↪",rarrhk:"↪",hopf:"𝕙",horbar:"―",hscr:"𝒽",hstrok:"ħ",hybull:"⁃",iacute:"í",icirc:"î",icy:"и",iecy:"е",iexcl:"¡",ifr:"𝔦",igrave:"ì",iiiint:"⨌",qint:"⨌",iiint:"∭",tint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",imacr:"ī",imath:"ı",inodot:"ı",imof:"⊷",imped:"Ƶ",incare:"℅",infin:"∞",infintie:"⧝",intcal:"⊺",intercal:"⊺",intlarhk:"⨗",intprod:"⨼",iprod:"⨼",iocy:"ё",iogon:"į",iopf:"𝕚",iota:"ι",iquest:"¿",iscr:"𝒾",isinE:"⋹",isindot:"⋵",isins:"⋴",isinsv:"⋳",itilde:"ĩ",iukcy:"і",iuml:"ï",jcirc:"ĵ",jcy:"й",jfr:"𝔧",jmath:"ȷ",jopf:"𝕛",jscr:"𝒿",jsercy:"ј",jukcy:"є",kappa:"κ",kappav:"ϰ",varkappa:"ϰ",kcedil:"ķ",kcy:"к",kfr:"𝔨",kgreen:"ĸ",khcy:"х",kjcy:"ќ",kopf:"𝕜",kscr:"𝓀",lAtail:"⤛",lBarr:"⤎",lEg:"⪋",lesseqqgtr:"⪋",lHar:"⥢",lacute:"ĺ",laemptyv:"⦴",lambda:"λ",langd:"⦑",lap:"⪅",lessapprox:"⪅",laquo:"«",larrbfs:"⤟",larrfs:"⤝",larrlp:"↫",looparrowleft:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",leftarrowtail:"↢",lat:"⪫",latail:"⤙",late:"⪭",lates:"⪭︀",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",lcedil:"ļ",lcy:"л",ldca:"⤶",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",leq:"≤",leftleftarrows:"⇇",llarr:"⇇",leftthreetimes:"⋋",lthree:"⋋",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessdot:"⋖",ltdot:"⋖",lfisht:"⥼",lfr:"𝔩",lgE:"⪑",lharul:"⥪",lhblk:"▄",ljcy:"љ",llhard:"⥫",lltri:"◺",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnE:"≨",lneqq:"≨",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lneq:"⪇",lnsim:"⋦",loang:"⟬",loarr:"⇽",longmapsto:"⟼",xmap:"⟼",looparrowright:"↬",rarrlp:"↬",lopar:"⦅",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",loz:"◊",lozenge:"◊",lpar:"(",lparlt:"⦓",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",lsime:"⪍",lsimg:"⪏",lsquor:"‚",sbquo:"‚",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltrPar:"⦖",ltri:"◃",triangleleft:"◃",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",mDDot:"∺",macr:"¯",strns:"¯",male:"♂",malt:"✠",maltese:"✠",marker:"▮",mcomma:"⨩",mcy:"м",mdash:"—",mfr:"𝔪",mho:"℧",micro:"µ",midcir:"⫰",minus:"−",minusdu:"⨪",mlcp:"⫛",models:"⊧",mopf:"𝕞",mscr:"𝓂",mu:"μ",multimap:"⊸",mumap:"⊸",nGg:"⋙̸",nGt:"≫⃒",nLeftarrow:"⇍",nlArr:"⇍",nLeftrightarrow:"⇎",nhArr:"⇎",nLl:"⋘̸",nLt:"≪⃒",nRightarrow:"⇏",nrArr:"⇏",nVDash:"⊯",nVdash:"⊮",nacute:"ń",nang:"∠⃒",napE:"⩰̸",napid:"≋̸",napos:"ŉ",natur:"♮",natural:"♮",ncap:"⩃",ncaron:"ň",ncedil:"ņ",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",ndash:"–",neArr:"⇗",nearhk:"⤤",nedot:"≐̸",nesear:"⤨",toea:"⤨",nfr:"𝔫",nharr:"↮",nleftrightarrow:"↮",nhpar:"⫲",nis:"⋼",nisd:"⋺",njcy:"њ",nlE:"≦̸",nleqq:"≦̸",nlarr:"↚",nleftarrow:"↚",nldr:"‥",nopf:"𝕟",not:"¬",notinE:"⋹̸",notindot:"⋵̸",notinvb:"⋷",notinvc:"⋶",notnivb:"⋾",notnivc:"⋽",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",nrarr:"↛",nrightarrow:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nscr:"𝓃",nsub:"⊄",nsubE:"⫅̸",nsubseteqq:"⫅̸",nsup:"⊅",nsupE:"⫆̸",nsupseteqq:"⫆̸",ntilde:"ñ",nu:"ν",num:"#",numero:"№",numsp:" ",nvDash:"⊭",nvHarr:"⤄",nvap:"≍⃒",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwArr:"⇖",nwarhk:"⤣",nwnear:"⤧",oacute:"ó",ocirc:"ô",ocy:"о",odblac:"ő",odiv:"⨸",odsold:"⦼",oelig:"œ",ofcir:"⦿",ofr:"𝔬",ogon:"˛",ograve:"ò",ogt:"⧁",ohbar:"⦵",olcir:"⦾",olcross:"⦻",olt:"⧀",omacr:"ō",omega:"ω",omicron:"ο",omid:"⦶",oopf:"𝕠",opar:"⦷",operp:"⦹",or:"∨",vee:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",oscr:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oslash:"ø",osol:"⊘",otilde:"õ",otimesas:"⨶",ouml:"ö",ovbar:"⌽",para:"¶",parsim:"⫳",parsl:"⫽",pcy:"п",percnt:"%",period:".",permil:"‰",pertenk:"‱",pfr:"𝔭",phi:"φ",phiv:"ϕ",straightphi:"ϕ",varphi:"ϕ",phone:"☎",pi:"π",piv:"ϖ",varpi:"ϖ",planckh:"ℎ",plus:"+",plusacir:"⨣",pluscir:"⨢",plusdu:"⨥",pluse:"⩲",plussim:"⨦",plustwo:"⨧",pointint:"⨕",popf:"𝕡",pound:"£",prE:"⪳",prap:"⪷",precapprox:"⪷",precnapprox:"⪹",prnap:"⪹",precneqq:"⪵",prnE:"⪵",precnsim:"⋨",prnsim:"⋨",prime:"′",profalar:"⌮",profline:"⌒",profsurf:"⌓",prurel:"⊰",pscr:"𝓅",psi:"ψ",puncsp:" ",qfr:"𝔮",qopf:"𝕢",qprime:"⁗",qscr:"𝓆",quatint:"⨖",quest:"?",rAtail:"⤜",rHar:"⥤",race:"∽̱",racute:"ŕ",raemptyv:"⦳",rangd:"⦒",range:"⦥",raquo:"»",rarrap:"⥵",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",rightarrowtail:"↣",rarrw:"↝",rightsquigarrow:"↝",ratail:"⤚",ratio:"∶",rbbrk:"❳",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",rcedil:"ŗ",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdsh:"↳",rect:"▭",rfisht:"⥽",rfr:"𝔯",rharul:"⥬",rho:"ρ",rhov:"ϱ",varrho:"ϱ",rightrightarrows:"⇉",rrarr:"⇉",rightthreetimes:"⋌",rthree:"⋌",ring:"˚",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",ropar:"⦆",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",rpar:")",rpargt:"⦔",rppolint:"⨒",rsaquo:"›",rscr:"𝓇",rtimes:"⋊",rtri:"▹",triangleright:"▹",rtriltri:"⧎",ruluhar:"⥨",rx:"℞",sacute:"ś",scE:"⪴",scap:"⪸",succapprox:"⪸",scaron:"š",scedil:"ş",scirc:"ŝ",scnE:"⪶",succneqq:"⪶",scnap:"⪺",succnapprox:"⪺",scnsim:"⋩",succnsim:"⋩",scpolint:"⨓",scy:"с",sdot:"⋅",sdote:"⩦",seArr:"⇘",sect:"§",semi:";",seswar:"⤩",tosa:"⤩",sext:"✶",sfr:"𝔰",sharp:"♯",shchcy:"щ",shcy:"ш",shy:"­",sigma:"σ",sigmaf:"ς",sigmav:"ς",varsigma:"ς",simdot:"⩪",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",smashp:"⨳",smeparsl:"⧤",smile:"⌣",ssmile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",spades:"♠",spadesuit:"♠",sqcaps:"⊓︀",sqcups:"⊔︀",sscr:"𝓈",star:"☆",sub:"⊂",subset:"⊂",subE:"⫅",subseteqq:"⫅",subdot:"⪽",subedot:"⫃",submult:"⫁",subnE:"⫋",subsetneqq:"⫋",subne:"⊊",subsetneq:"⊊",subplus:"⪿",subrarr:"⥹",subsim:"⫇",subsub:"⫕",subsup:"⫓",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",supE:"⫆",supseteqq:"⫆",supdot:"⪾",supdsub:"⫘",supedot:"⫄",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supsetneqq:"⫌",supne:"⊋",supsetneq:"⊋",supplus:"⫀",supsim:"⫈",supsub:"⫔",supsup:"⫖",swArr:"⇙",swnwar:"⤪",szlig:"ß",target:"⌖",tau:"τ",tcaron:"ť",tcedil:"ţ",tcy:"т",telrec:"⌕",tfr:"𝔱",theta:"θ",thetasym:"ϑ",thetav:"ϑ",vartheta:"ϑ",thorn:"þ",times:"×",timesbar:"⨱",timesd:"⨰",topbot:"⌶",topcir:"⫱",topf:"𝕥",topfork:"⫚",tprime:"‴",triangle:"▵",utri:"▵",triangleq:"≜",trie:"≜",tridot:"◬",triminus:"⨺",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",tscy:"ц",tshcy:"ћ",tstrok:"ŧ",uHar:"⥣",uacute:"ú",ubrcy:"ў",ubreve:"ŭ",ucirc:"û",ucy:"у",udblac:"ű",ufisht:"⥾",ufr:"𝔲",ugrave:"ù",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",uogon:"ų",uopf:"𝕦",upsi:"υ",upsilon:"υ",upuparrows:"⇈",uuarr:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",urtri:"◹",uscr:"𝓊",utdot:"⋰",utilde:"ũ",uuml:"ü",uwangle:"⦧",vBar:"⫨",vBarv:"⫩",vangrt:"⦜",varsubsetneq:"⊊︀",vsubne:"⊊︀",varsubsetneqq:"⫋︀",vsubnE:"⫋︀",varsupsetneq:"⊋︀",vsupne:"⊋︀",varsupsetneqq:"⫌︀",vsupnE:"⫌︀",vcy:"в",veebar:"⊻",veeeq:"≚",vellip:"⋮",vfr:"𝔳",vopf:"𝕧",vscr:"𝓋",vzigzag:"⦚",wcirc:"ŵ",wedbar:"⩟",wedgeq:"≙",weierp:"℘",wp:"℘",wfr:"𝔴",wopf:"𝕨",wscr:"𝓌",xfr:"𝔵",xi:"ξ",xnis:"⋻",xopf:"𝕩",xscr:"𝓍",yacute:"ý",yacy:"я",ycirc:"ŷ",ycy:"ы",yen:"¥",yfr:"𝔶",yicy:"ї",yopf:"𝕪",yscr:"𝓎",yucy:"ю",yuml:"ÿ",zacute:"ź",zcaron:"ž",zcy:"з",zdot:"ż",zeta:"ζ",zfr:"𝔷",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",zscr:"𝓏",zwj:"‍",zwnj:"‌"};NAMED_ENTITIES.ngsp="";class TokenizeResult{tokens;errors;nonNormalizedIcuExpressions;constructor(tokens,errors,nonNormalizedIcuExpressions){this.tokens=tokens,this.errors=errors,this.nonNormalizedIcuExpressions=nonNormalizedIcuExpressions}}function tokenize(source,url,getTagDefinition,options={}){const tokenizer=new _Tokenizer(new ParseSourceFile(source,url),getTagDefinition,options);return tokenizer.tokenize(),new TokenizeResult(function mergeTextTokens(srcTokens){const dstTokens=[];let lastDstToken;for(let i=0;i<srcTokens.length;i++){const token=srcTokens[i];lastDstToken&&5===lastDstToken.type&&5===token.type||lastDstToken&&16===lastDstToken.type&&16===token.type?(lastDstToken.parts[0]+=token.parts[0],lastDstToken.sourceSpan.end=token.sourceSpan.end):(lastDstToken=token,dstTokens.push(lastDstToken))}return dstTokens}(tokenizer.tokens),tokenizer.errors,tokenizer.nonNormalizedIcuExpressions)}const _CR_OR_CRLF_REGEXP=/\r\n?/g;function _unexpectedCharacterErrorMsg(charCode){return`Unexpected character "${0===charCode?"EOF":String.fromCharCode(charCode)}"`}function _unknownEntityErrorMsg(entitySrc){return`Unknown entity "${entitySrc}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}var CharacterReferenceType;!function(CharacterReferenceType){CharacterReferenceType.HEX="hexadecimal",CharacterReferenceType.DEC="decimal"}(CharacterReferenceType||(CharacterReferenceType={}));const SUPPORTED_BLOCKS=["@if","@else","@for","@switch","@case","@default","@empty","@defer","@placeholder","@loading","@error"];class _Tokenizer{_getTagDefinition;_cursor;_tokenizeIcu;_interpolationConfig;_leadingTriviaCodePoints;_currentTokenStart=null;_currentTokenType=null;_expansionCaseStack=[];_openDirectiveCount=0;_inInterpolation=!1;_preserveLineEndings;_i18nNormalizeLineEndingsInICUs;_tokenizeBlocks;_tokenizeLet;_selectorlessEnabled;tokens=[];errors=[];nonNormalizedIcuExpressions=[];constructor(_file,_getTagDefinition,options){this._getTagDefinition=_getTagDefinition,this._tokenizeIcu=options.tokenizeExpansionForms||!1,this._interpolationConfig=options.interpolationConfig||DEFAULT_INTERPOLATION_CONFIG,this._leadingTriviaCodePoints=options.leadingTriviaChars&&options.leadingTriviaChars.map(c=>c.codePointAt(0)||0);const range=options.range||{endPos:_file.content.length,startPos:0,startLine:0,startCol:0};this._cursor=options.escapedString?new EscapedCharacterCursor(_file,range):new PlainCharacterCursor(_file,range),this._preserveLineEndings=options.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=options.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=options.tokenizeBlocks??!0,this._tokenizeLet=options.tokenizeLet??!0,this._selectorlessEnabled=options.selectorlessEnabled??!1;try{this._cursor.init()}catch(e){this.handleError(e)}}_processCarriageReturns(content){return this._preserveLineEndings?content:content.replace(_CR_OR_CRLF_REGEXP,"\n")}tokenize(){for(;0!==this._cursor.peek();){const start=this._cursor.clone();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(start):this._attemptCharCode(45)?this._consumeComment(start):this._consumeDocType(start):this._attemptCharCode(47)?this._consumeTagClose(start):this._consumeTagOpen(start):this._tokenizeLet&&64===this._cursor.peek()&&!this._inInterpolation&&this._isLetStart()?this._consumeLetDeclaration(start):this._tokenizeBlocks&&this._isBlockStart()?this._consumeBlockStart(start):!this._tokenizeBlocks||this._inInterpolation||this._isInExpansionCase()||this._isInExpansionForm()||!this._attemptCharCode(125)?this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart()):this._consumeBlockEnd(start)}catch(e){this.handleError(e)}}this._beginToken(41),this._endToken([])}_getBlockName(){let spacesInNameAllowed=!1;const nameCursor=this._cursor.clone();return this._attemptCharCodeUntilFn(code=>isWhitespace(code)?!spacesInNameAllowed:!function isBlockNameChar(code){return isAsciiLetter(code)||isDigit(code)||95===code}(code)||(spacesInNameAllowed=!0,!1)),this._cursor.getChars(nameCursor).trim()}_consumeBlockStart(start){this._requireCharCode(64),this._beginToken(24,start);const startToken=this._endToken([this._getBlockName()]);if(40===this._cursor.peek()){if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(isNotWhitespace),!this._attemptCharCode(41))return void(startToken.type=28);this._attemptCharCodeUntilFn(isNotWhitespace)}this._attemptCharCode(123)?(this._beginToken(25),this._endToken([])):startToken.type=28}_consumeBlockEnd(start){this._beginToken(26,start),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(isBlockParameterChar);41!==this._cursor.peek()&&0!==this._cursor.peek();){this._beginToken(27);const start=this._cursor.clone();let inQuote=null,openParens=0;for(;59!==this._cursor.peek()&&0!==this._cursor.peek()||null!==inQuote;){const char=this._cursor.peek();if(92===char)this._cursor.advance();else if(char===inQuote)inQuote=null;else if(null===inQuote&&isQuote(char))inQuote=char;else if(40===char&&null===inQuote)openParens++;else if(41===char&&null===inQuote){if(0===openParens)break;openParens>0&&openParens--}this._cursor.advance()}this._endToken([this._cursor.getChars(start)]),this._attemptCharCodeUntilFn(isBlockParameterChar)}}_consumeLetDeclaration(start){if(this._requireStr("@let"),this._beginToken(29,start),!isWhitespace(this._cursor.peek())){return void(this._endToken([this._cursor.getChars(start)]).type=32)}this._attemptCharCodeUntilFn(isNotWhitespace);const startToken=this._endToken([this._getLetDeclarationName()]);if(this._attemptCharCodeUntilFn(isNotWhitespace),!this._attemptCharCode(61))return void(startToken.type=32);this._attemptCharCodeUntilFn(code=>isNotWhitespace(code)&&!isNewLine(code)),this._consumeLetDeclarationValue();59===this._cursor.peek()?(this._beginToken(31),this._endToken([]),this._cursor.advance()):(startToken.type=32,startToken.sourceSpan=this._cursor.getSpan(start))}_getLetDeclarationName(){const nameCursor=this._cursor.clone();let allowDigit=!1;return this._attemptCharCodeUntilFn(code=>!(isAsciiLetter(code)||36===code||95===code||allowDigit&&isDigit(code))||(allowDigit=!0,!1)),this._cursor.getChars(nameCursor).trim()}_consumeLetDeclarationValue(){const start=this._cursor.clone();for(this._beginToken(30,start);0!==this._cursor.peek();){const char=this._cursor.peek();if(59===char)break;isQuote(char)&&(this._cursor.advance(),this._attemptCharCodeUntilFn(inner=>92===inner?(this._cursor.advance(),!1):inner===char)),this._cursor.advance()}this._endToken([this._cursor.getChars(start)])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(function isExpansionCaseStart(peek){return 125!==peek}(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(125===this._cursor.peek()){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(type,start=this._cursor.clone()){this._currentTokenStart=start,this._currentTokenType=type}_endToken(parts,end){if(null===this._currentTokenStart)throw new ParseError(this._cursor.getSpan(end),"Programming error - attempted to end a token when there was no start to the token");if(null===this._currentTokenType)throw new ParseError(this._cursor.getSpan(this._currentTokenStart),"Programming error - attempted to end a token which has no token type");const token={type:this._currentTokenType,parts,sourceSpan:(end??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(token),this._currentTokenStart=null,this._currentTokenType=null,token}_createError(msg,span){this._isInExpansionForm()&&(msg+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');const error=new ParseError(span,msg);return this._currentTokenStart=null,this._currentTokenType=null,error}handleError(e){if(e instanceof CursorError&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),!(e instanceof ParseError))throw e;this.errors.push(e)}_attemptCharCode(charCode){return this._cursor.peek()===charCode&&(this._cursor.advance(),!0)}_attemptCharCodeCaseInsensitive(charCode){return!!function compareCharCodeCaseInsensitive(code1,code2){return toUpperCaseCharCode(code1)===toUpperCaseCharCode(code2)}(this._cursor.peek(),charCode)&&(this._cursor.advance(),!0)}_requireCharCode(charCode){const location=this._cursor.clone();if(!this._attemptCharCode(charCode))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(location))}_attemptStr(chars){const len=chars.length;if(this._cursor.charsLeft()<len)return!1;const initialPosition=this._cursor.clone();for(let i=0;i<len;i++)if(!this._attemptCharCode(chars.charCodeAt(i)))return this._cursor=initialPosition,!1;return!0}_attemptStrCaseInsensitive(chars){for(let i=0;i<chars.length;i++)if(!this._attemptCharCodeCaseInsensitive(chars.charCodeAt(i)))return!1;return!0}_requireStr(chars){const location=this._cursor.clone();if(!this._attemptStr(chars))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(location))}_attemptCharCodeUntilFn(predicate){for(;!predicate(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(predicate,len){const start=this._cursor.clone();if(this._attemptCharCodeUntilFn(predicate),this._cursor.diff(start)<len)throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(start))}_attemptUntilChar(char){for(;this._cursor.peek()!==char;)this._cursor.advance()}_readChar(){const char=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),char}_peekStr(chars){const len=chars.length;if(this._cursor.charsLeft()<len)return!1;const cursor=this._cursor.clone();for(let i=0;i<len;i++){if(cursor.peek()!==chars.charCodeAt(i))return!1;cursor.advance()}return!0}_isBlockStart(){return 64===this._cursor.peek()&&SUPPORTED_BLOCKS.some(blockName=>this._peekStr(blockName))}_isLetStart(){return 64===this._cursor.peek()&&this._peekStr("@let")}_consumeEntity(textTokenType){this._beginToken(9);const start=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(35)){const isHex=this._attemptCharCode(120)||this._attemptCharCode(88),codeStart=this._cursor.clone();if(this._attemptCharCodeUntilFn(isDigitEntityEnd),59!=this._cursor.peek()){this._cursor.advance();const entityType=isHex?CharacterReferenceType.HEX:CharacterReferenceType.DEC;throw this._createError(function _unparsableEntityErrorMsg(type,entityStr){return`Unable to parse entity "${entityStr}" - ${type} character reference entities must end with ";"`}(entityType,this._cursor.getChars(start)),this._cursor.getSpan())}const strNum=this._cursor.getChars(codeStart);this._cursor.advance();try{const charCode=parseInt(strNum,isHex?16:10);this._endToken([String.fromCodePoint(charCode),this._cursor.getChars(start)])}catch{throw this._createError(_unknownEntityErrorMsg(this._cursor.getChars(start)),this._cursor.getSpan())}}else{const nameStart=this._cursor.clone();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),59!=this._cursor.peek())this._beginToken(textTokenType,start),this._cursor=nameStart,this._endToken(["&"]);else{const name=this._cursor.getChars(nameStart);this._cursor.advance();const char=NAMED_ENTITIES.hasOwnProperty(name)&&NAMED_ENTITIES[name];if(!char)throw this._createError(_unknownEntityErrorMsg(name),this._cursor.getSpan(start));this._endToken([char,`&${name};`])}}}_consumeRawText(consumeEntities,endMarkerPredicate){this._beginToken(consumeEntities?6:7);const parts=[];for(;;){const tagCloseStart=this._cursor.clone(),foundEndMarker=endMarkerPredicate();if(this._cursor=tagCloseStart,foundEndMarker)break;consumeEntities&&38===this._cursor.peek()?(this._endToken([this._processCarriageReturns(parts.join(""))]),parts.length=0,this._consumeEntity(6),this._beginToken(6)):parts.push(this._readChar())}this._endToken([this._processCarriageReturns(parts.join(""))])}_consumeComment(start){this._beginToken(10,start),this._requireCharCode(45),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("--\x3e")),this._beginToken(11),this._requireStr("--\x3e"),this._endToken([])}_consumeCdata(start){this._beginToken(12,start),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(start){this._beginToken(18,start);const contentStart=this._cursor.clone();this._attemptUntilChar(62);const content=this._cursor.getChars(contentStart);this._cursor.advance(),this._endToken([content])}_consumePrefixAndName(endPredicate){const nameOrPrefixStart=this._cursor.clone();let nameStart,prefix="";for(;58!==this._cursor.peek()&&!isPrefixEnd(this._cursor.peek());)this._cursor.advance();58===this._cursor.peek()?(prefix=this._cursor.getChars(nameOrPrefixStart),this._cursor.advance(),nameStart=this._cursor.clone()):nameStart=nameOrPrefixStart,this._requireCharCodeUntilFn(endPredicate,""===prefix?0:1);return[prefix,this._cursor.getChars(nameStart)]}_consumeTagOpen(start){let tagName,prefix,closingTagName,openToken;try{if(this._selectorlessEnabled&&isSelectorlessNameStart(this._cursor.peek()))openToken=this._consumeComponentOpenStart(start),[closingTagName,prefix,tagName]=openToken.parts,prefix&&(closingTagName+=`:${prefix}`),tagName&&(closingTagName+=`:${tagName}`),this._attemptCharCodeUntilFn(isNotWhitespace);else{if(!isAsciiLetter(this._cursor.peek()))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(start));openToken=this._consumeTagOpenStart(start),prefix=openToken.parts[0],tagName=closingTagName=openToken.parts[1],this._attemptCharCodeUntilFn(isNotWhitespace)}for(;!isAttributeTerminator(this._cursor.peek());)if(this._selectorlessEnabled&&64===this._cursor.peek()){const start=this._cursor.clone(),nameStart=start.clone();nameStart.advance(),isSelectorlessNameStart(nameStart.peek())&&this._consumeDirective(start,nameStart)}else this._consumeAttribute();33===openToken.type?this._consumeComponentOpenEnd():this._consumeTagOpenEnd()}catch(e){if(e instanceof ParseError)return void(openToken?openToken.type=33===openToken.type?37:4:(this._beginToken(5,start),this._endToken(["<"])));throw e}const contentTokenType=this._getTagDefinition(tagName).getContentType(prefix);contentTokenType===TagContentType.RAW_TEXT?this._consumeRawTextWithTagClose(openToken,closingTagName,!1):contentTokenType===TagContentType.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(openToken,closingTagName,!0)}_consumeRawTextWithTagClose(openToken,tagName,consumeEntities){this._consumeRawText(consumeEntities,()=>!!this._attemptCharCode(60)&&(!!this._attemptCharCode(47)&&(this._attemptCharCodeUntilFn(isNotWhitespace),!!this._attemptStrCaseInsensitive(tagName)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode(62))))),this._beginToken(33===openToken.type?36:3),this._requireCharCodeUntilFn(code=>62===code,3),this._cursor.advance(),this._endToken(openToken.parts)}_consumeTagOpenStart(start){this._beginToken(0,start);const parts=this._consumePrefixAndName(isNameEnd);return this._endToken(parts)}_consumeComponentOpenStart(start){this._beginToken(33,start);const parts=this._consumeComponentName();return this._endToken(parts)}_consumeComponentName(){const nameStart=this._cursor.clone();for(;isSelectorlessNameChar(this._cursor.peek());)this._cursor.advance();const name=this._cursor.getChars(nameStart);let prefix="",tagName="";return 58===this._cursor.peek()&&(this._cursor.advance(),[prefix,tagName]=this._consumePrefixAndName(isNameEnd)),[name,prefix,tagName]}_consumeAttribute(){this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode(61)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace)}_consumeAttributeName(){const attrNameStart=this._cursor.peek();if(39===attrNameStart||34===attrNameStart)throw this._createError(_unexpectedCharacterErrorMsg(attrNameStart),this._cursor.getSpan());let nameEndPredicate;if(this._beginToken(14),this._openDirectiveCount>0){let openParens=0;nameEndPredicate=code=>{if(this._openDirectiveCount>0)if(40===code)openParens++;else if(41===code){if(0===openParens)return!0;openParens--}return isNameEnd(code)}}else if(91===attrNameStart){let openBrackets=0;nameEndPredicate=code=>(91===code?openBrackets++:93===code&&openBrackets--,openBrackets<=0?isNameEnd(code):isNewLine(code))}else nameEndPredicate=isNameEnd;const prefixAndName=this._consumePrefixAndName(nameEndPredicate);this._endToken(prefixAndName)}_consumeAttributeValue(){if(39===this._cursor.peek()||34===this._cursor.peek()){const quoteChar=this._cursor.peek();this._consumeQuote(quoteChar);const endPredicate=()=>this._cursor.peek()===quoteChar;this._consumeWithInterpolation(16,17,endPredicate,endPredicate),this._consumeQuote(quoteChar)}else{const endPredicate=()=>isNameEnd(this._cursor.peek());this._consumeWithInterpolation(16,17,endPredicate,endPredicate)}}_consumeQuote(quoteChar){this._beginToken(15),this._requireCharCode(quoteChar),this._endToken([String.fromCodePoint(quoteChar)])}_consumeTagOpenEnd(){const tokenType=this._attemptCharCode(47)?2:1;this._beginToken(tokenType),this._requireCharCode(62),this._endToken([])}_consumeComponentOpenEnd(){const tokenType=this._attemptCharCode(47)?35:34;this._beginToken(tokenType),this._requireCharCode(62),this._endToken([])}_consumeTagClose(start){if(this._selectorlessEnabled){const clone=start.clone();for(;62!==clone.peek()&&!isSelectorlessNameStart(clone.peek());)clone.advance();if(isSelectorlessNameStart(clone.peek())){this._beginToken(36,start);const parts=this._consumeComponentName();return this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode(62),void this._endToken(parts)}}this._beginToken(3,start),this._attemptCharCodeUntilFn(isNotWhitespace);const prefixAndName=this._consumePrefixAndName(isNameEnd);this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode(62),this._endToken(prefixAndName)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(123),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);const condition=this._readUntil(44),normalizedCondition=this._processCarriageReturns(condition);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([normalizedCondition]);else{const conditionToken=this._endToken([condition]);normalizedCondition!==condition&&this.nonNormalizedIcuExpressions.push(conditionToken)}this._requireCharCode(44),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(7);const type=this._readUntil(44);this._endToken([type]),this._requireCharCode(44),this._attemptCharCodeUntilFn(isNotWhitespace)}_consumeExpansionCaseStart(){this._beginToken(20);const value=this._readUntil(123).trim();this._endToken([value]),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(21),this._requireCharCode(123),this._endToken([]),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(125),this._endToken([]),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(textTokenType,interpolationTokenType,endPredicate,endInterpolation){this._beginToken(textTokenType);const parts=[];for(;!endPredicate();){const current=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(parts.join(""))],current),parts.length=0,this._consumeInterpolation(interpolationTokenType,current,endInterpolation),this._beginToken(textTokenType)):38===this._cursor.peek()?(this._endToken([this._processCarriageReturns(parts.join(""))]),parts.length=0,this._consumeEntity(textTokenType),this._beginToken(textTokenType)):parts.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(parts.join(""))])}_consumeInterpolation(interpolationTokenType,interpolationStart,prematureEndPredicate){const parts=[];this._beginToken(interpolationTokenType,interpolationStart),parts.push(this._interpolationConfig.start);const expressionStart=this._cursor.clone();let inQuote=null,inComment=!1;for(;0!==this._cursor.peek()&&(null===prematureEndPredicate||!prematureEndPredicate());){const current=this._cursor.clone();if(this._isTagStart())return this._cursor=current,parts.push(this._getProcessedChars(expressionStart,current)),void this._endToken(parts);if(null===inQuote){if(this._attemptStr(this._interpolationConfig.end))return parts.push(this._getProcessedChars(expressionStart,current)),parts.push(this._interpolationConfig.end),void this._endToken(parts);this._attemptStr("//")&&(inComment=!0)}const char=this._cursor.peek();this._cursor.advance(),92===char?this._cursor.advance():char===inQuote?inQuote=null:!inComment&&null===inQuote&&isQuote(char)&&(inQuote=char)}parts.push(this._getProcessedChars(expressionStart,this._cursor)),this._endToken(parts)}_consumeDirective(start,nameStart){for(this._requireCharCode(64),this._cursor.advance();isSelectorlessNameChar(this._cursor.peek());)this._cursor.advance();this._beginToken(38,start);const name=this._cursor.getChars(nameStart);if(this._endToken([name]),this._attemptCharCodeUntilFn(isNotWhitespace),40===this._cursor.peek()){for(this._openDirectiveCount++,this._beginToken(39),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(isNotWhitespace);!isAttributeTerminator(this._cursor.peek())&&41!==this._cursor.peek();)this._consumeAttribute();if(this._attemptCharCodeUntilFn(isNotWhitespace),this._openDirectiveCount--,41!==this._cursor.peek()){if(62===this._cursor.peek()||47===this._cursor.peek())return;throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(start))}this._beginToken(40),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(isNotWhitespace)}}_getProcessedChars(start,end){return this._processCarriageReturns(end.getChars(start))}_isTextEnd(){if(this._isTagStart()||0===this._cursor.peek())return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(125===this._cursor.peek()&&this._isInExpansionCase())return!0}return!(!this._tokenizeBlocks||this._inInterpolation||this._isInExpansion()||!this._isBlockStart()&&!this._isLetStart()&&125!==this._cursor.peek())}_isTagStart(){if(60===this._cursor.peek()){const tmp=this._cursor.clone();tmp.advance();const code=tmp.peek();if(97<=code&&code<=122||65<=code&&code<=90||47===code||33===code)return!0}return!1}_readUntil(char){const start=this._cursor.clone();return this._attemptUntilChar(char),this._cursor.getChars(start)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&21===this._expansionCaseStack[this._expansionCaseStack.length-1]}_isInExpansionForm(){return this._expansionCaseStack.length>0&&19===this._expansionCaseStack[this._expansionCaseStack.length-1]}isExpansionFormStart(){if(123!==this._cursor.peek())return!1;if(this._interpolationConfig){const start=this._cursor.clone(),isInterpolation=this._attemptStr(this._interpolationConfig.start);return this._cursor=start,!isInterpolation}return!0}}function isNotWhitespace(code){return!isWhitespace(code)||0===code}function isNameEnd(code){return isWhitespace(code)||62===code||60===code||47===code||39===code||34===code||61===code||0===code}function isPrefixEnd(code){return(code<97||122<code)&&(code<65||90<code)&&(code<48||code>57)}function isDigitEntityEnd(code){return 59===code||0===code||!function isAsciiHexDigit(code){return code>=97&&code<=102||code>=65&&code<=70||isDigit(code)}(code)}function isNamedEntityEnd(code){return 59===code||0===code||!isAsciiLetter(code)}function toUpperCaseCharCode(code){return code>=97&&code<=122?code-97+65:code}function isBlockParameterChar(code){return 59!==code&&isNotWhitespace(code)}function isSelectorlessNameStart(code){return 95===code||code>=65&&code<=90}function isSelectorlessNameChar(code){return isAsciiLetter(code)||isDigit(code)||95===code}function isAttributeTerminator(code){return 47===code||62===code||60===code||0===code}class PlainCharacterCursor{state;file;input;end;constructor(fileOrCursor,range){if(fileOrCursor instanceof PlainCharacterCursor){this.file=fileOrCursor.file,this.input=fileOrCursor.input,this.end=fileOrCursor.end;const state=fileOrCursor.state;this.state={peek:state.peek,offset:state.offset,line:state.line,column:state.column}}else{if(!range)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=fileOrCursor,this.input=fileOrCursor.content,this.end=range.endPos,this.state={peek:-1,offset:range.startPos,line:range.startLine,column:range.startCol}}}clone(){return new PlainCharacterCursor(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(other){return this.state.offset-other.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(start,leadingTriviaCodePoints){let fullStart=start=start||this;if(leadingTriviaCodePoints)for(;this.diff(start)>0&&-1!==leadingTriviaCodePoints.indexOf(start.peek());)fullStart===start&&(start=start.clone()),start.advance();const startLocation=this.locationFromCursor(start),endLocation=this.locationFromCursor(this),fullStartLocation=fullStart!==start?this.locationFromCursor(fullStart):startLocation;return new ParseSourceSpan(startLocation,endLocation,fullStartLocation)}getChars(start){return this.input.substring(start.state.offset,this.state.offset)}charAt(pos){return this.input.charCodeAt(pos)}advanceState(state){if(state.offset>=this.end)throw this.state=state,new CursorError('Unexpected character "EOF"',this);const currentChar=this.charAt(state.offset);10===currentChar?(state.line++,state.column=0):isNewLine(currentChar)||state.column++,state.offset++,this.updatePeek(state)}updatePeek(state){state.peek=state.offset>=this.end?0:this.charAt(state.offset)}locationFromCursor(cursor){return new ParseLocation(cursor.file,cursor.state.offset,cursor.state.line,cursor.state.column)}}class EscapedCharacterCursor extends PlainCharacterCursor{internalState;constructor(fileOrCursor,range){fileOrCursor instanceof EscapedCharacterCursor?(super(fileOrCursor),this.internalState={...fileOrCursor.internalState}):(super(fileOrCursor,range),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new EscapedCharacterCursor(this)}getChars(start){const cursor=start.clone();let chars="";for(;cursor.internalState.offset<this.internalState.offset;)chars+=String.fromCodePoint(cursor.peek()),cursor.advance();return chars}processEscapeSequence(){const peek=()=>this.internalState.peek;if(92===peek())if(this.internalState={...this.state},this.advanceState(this.internalState),110===peek())this.state.peek=10;else if(114===peek())this.state.peek=13;else if(118===peek())this.state.peek=11;else if(116===peek())this.state.peek=9;else if(98===peek())this.state.peek=8;else if(102===peek())this.state.peek=12;else if(117===peek())if(this.advanceState(this.internalState),123===peek()){this.advanceState(this.internalState);const digitStart=this.clone();let length=0;for(;125!==peek();)this.advanceState(this.internalState),length++;this.state.peek=this.decodeHexDigits(digitStart,length)}else{const digitStart=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(digitStart,4)}else if(120===peek()){this.advanceState(this.internalState);const digitStart=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(digitStart,2)}else if(isOctalDigit(peek())){let octal="",length=0,previous=this.clone();for(;isOctalDigit(peek())&&length<3;)previous=this.clone(),octal+=String.fromCodePoint(peek()),this.advanceState(this.internalState),length++;this.state.peek=parseInt(octal,8),this.internalState=previous.internalState}else isNewLine(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(start,length){const hex=this.input.slice(start.internalState.offset,start.internalState.offset+length),charCode=parseInt(hex,16);if(isNaN(charCode))throw start.state=start.internalState,new CursorError("Invalid hexadecimal escape sequence",start);return charCode}}class CursorError extends Error{msg;cursor;constructor(msg,cursor){super(msg),this.msg=msg,this.cursor=cursor,Object.setPrototypeOf(this,new.target.prototype)}}class TreeError extends ParseError{elementName;static create(elementName,span,msg){return new TreeError(elementName,span,msg)}constructor(elementName,span,msg){super(span,msg),this.elementName=elementName}}class ParseTreeResult{rootNodes;errors;constructor(rootNodes,errors){this.rootNodes=rootNodes,this.errors=errors}}let Parser$1=class Parser{getTagDefinition;constructor(getTagDefinition){this.getTagDefinition=getTagDefinition}parse(source,url,options){const tokenizeResult=tokenize(source,url,this.getTagDefinition,options),parser=new _TreeBuilder(tokenizeResult.tokens,this.getTagDefinition);return parser.build(),new ParseTreeResult(parser.rootNodes,[...tokenizeResult.errors,...parser.errors])}};class _TreeBuilder{tokens;tagDefinitionResolver;_index=-1;_peek;_containerStack=[];rootNodes=[];errors=[];constructor(tokens,tagDefinitionResolver){this.tokens=tokens,this.tagDefinitionResolver=tagDefinitionResolver,this._advance()}build(){for(;41!==this._peek.type;)0===this._peek.type||4===this._peek.type?this._consumeElementStartTag(this._advance()):3===this._peek.type?this._consumeElementEndTag(this._advance()):12===this._peek.type?(this._closeVoidElement(),this._consumeCdata(this._advance())):10===this._peek.type?(this._closeVoidElement(),this._consumeComment(this._advance())):5===this._peek.type||7===this._peek.type||6===this._peek.type?(this._closeVoidElement(),this._consumeText(this._advance())):19===this._peek.type?this._consumeExpansion(this._advance()):24===this._peek.type?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):26===this._peek.type?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):28===this._peek.type?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):29===this._peek.type?(this._closeVoidElement(),this._consumeLet(this._advance())):32===this._peek.type?(this._closeVoidElement(),this._consumeIncompleteLet(this._advance())):33===this._peek.type||37===this._peek.type?this._consumeComponentStartTag(this._advance()):36===this._peek.type?this._consumeComponentEndTag(this._advance()):this._advance();for(const leftoverContainer of this._containerStack)leftoverContainer instanceof Block&&this.errors.push(TreeError.create(leftoverContainer.name,leftoverContainer.sourceSpan,`Unclosed block "${leftoverContainer.name}"`))}_advance(){const prev=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],prev}_advanceIf(type){return this._peek.type===type?this._advance():null}_consumeCdata(_startToken){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(token){const text=this._advanceIf(7),endToken=this._advanceIf(11),value=null!=text?text.parts[0].trim():null,sourceSpan=null==endToken?token.sourceSpan:new ParseSourceSpan(token.sourceSpan.start,endToken.sourceSpan.end,token.sourceSpan.fullStart);this._addToParent(new Comment(value,sourceSpan))}_consumeExpansion(token){const switchValue=this._advance(),type=this._advance(),cases=[];for(;20===this._peek.type;){const expCase=this._parseExpansionCase();if(!expCase)return;cases.push(expCase)}if(23!==this._peek.type)return void this.errors.push(TreeError.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));const sourceSpan=new ParseSourceSpan(token.sourceSpan.start,this._peek.sourceSpan.end,token.sourceSpan.fullStart);this._addToParent(new Expansion(switchValue.parts[0],type.parts[0],cases,sourceSpan,switchValue.sourceSpan)),this._advance()}_parseExpansionCase(){const value=this._advance();if(21!==this._peek.type)return this.errors.push(TreeError.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;const start=this._advance(),exp=this._collectExpansionExpTokens(start);if(!exp)return null;const end=this._advance();exp.push({type:41,parts:[],sourceSpan:end.sourceSpan});const expansionCaseParser=new _TreeBuilder(exp,this.tagDefinitionResolver);if(expansionCaseParser.build(),expansionCaseParser.errors.length>0)return this.errors=this.errors.concat(expansionCaseParser.errors),null;const sourceSpan=new ParseSourceSpan(value.sourceSpan.start,end.sourceSpan.end,value.sourceSpan.fullStart),expSourceSpan=new ParseSourceSpan(start.sourceSpan.start,end.sourceSpan.end,start.sourceSpan.fullStart);return new ExpansionCase(value.parts[0],expansionCaseParser.rootNodes,sourceSpan,value.sourceSpan,expSourceSpan)}_collectExpansionExpTokens(start){const exp=[],expansionFormStack=[21];for(;;){if(19!==this._peek.type&&21!==this._peek.type||expansionFormStack.push(this._peek.type),22===this._peek.type){if(!lastOnStack(expansionFormStack,21))return this.errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(expansionFormStack.pop(),0===expansionFormStack.length)return exp}if(23===this._peek.type){if(!lastOnStack(expansionFormStack,19))return this.errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;expansionFormStack.pop()}if(41===this._peek.type)return this.errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;exp.push(this._advance())}}_consumeText(token){const tokens=[token],startSpan=token.sourceSpan;let text=token.parts[0];if(text.length>0&&"\n"===text[0]){const parent=this._getContainer();null!=parent&&0===parent.children.length&&this._getTagDefinition(parent)?.ignoreFirstLf&&(text=text.substring(1),tokens[0]={type:token.type,sourceSpan:token.sourceSpan,parts:[text]})}for(;8===this._peek.type||5===this._peek.type||9===this._peek.type;)token=this._advance(),tokens.push(token),8===token.type?text+=token.parts.join("").replace(/&([^;]+);/g,decodeEntity):9===token.type?text+=token.parts[0]:text+=token.parts.join("");if(text.length>0){const endSpan=token.sourceSpan;this._addToParent(new Text(text,new ParseSourceSpan(startSpan.start,endSpan.end,startSpan.fullStart,startSpan.details),tokens))}}_closeVoidElement(){const el=this._getContainer();null!==el&&this._getTagDefinition(el)?.isVoid&&this._containerStack.pop()}_consumeElementStartTag(startTagToken){const attrs=[],directives=[];this._consumeAttributesAndDirectives(attrs,directives);const fullName=this._getElementFullName(startTagToken,this._getClosestElementLikeParent()),tagDef=this._getTagDefinition(fullName);let selfClosing=!1;2===this._peek.type?(this._advance(),selfClosing=!0,tagDef?.canSelfClose||null!==getNsPrefix(fullName)||tagDef?.isVoid||this.errors.push(TreeError.create(fullName,startTagToken.sourceSpan,`Only void, custom and foreign elements can be self closed "${startTagToken.parts[1]}"`))):1===this._peek.type&&(this._advance(),selfClosing=!1);const end=this._peek.sourceSpan.fullStart,span=new ParseSourceSpan(startTagToken.sourceSpan.start,end,startTagToken.sourceSpan.fullStart),startSpan=new ParseSourceSpan(startTagToken.sourceSpan.start,end,startTagToken.sourceSpan.fullStart),el=new Element(fullName,attrs,directives,[],selfClosing,span,startSpan,void 0,tagDef?.isVoid??!1),parent=this._getContainer(),isClosedByChild=null!==parent&&!!this._getTagDefinition(parent)?.isClosedByChild(el.name);this._pushContainer(el,isClosedByChild),selfClosing?this._popContainer(fullName,Element,span):4===startTagToken.type&&(this._popContainer(fullName,Element,null),this.errors.push(TreeError.create(fullName,span,`Opening tag "${fullName}" not terminated.`)))}_consumeComponentStartTag(startToken){const componentName=startToken.parts[0],attrs=[],directives=[];this._consumeAttributesAndDirectives(attrs,directives);const closestElement=this._getClosestElementLikeParent(),tagName=this._getComponentTagName(startToken,closestElement),fullName=this._getComponentFullName(startToken,closestElement),selfClosing=35===this._peek.type;this._advance();const end=this._peek.sourceSpan.fullStart,span=new ParseSourceSpan(startToken.sourceSpan.start,end,startToken.sourceSpan.fullStart),startSpan=new ParseSourceSpan(startToken.sourceSpan.start,end,startToken.sourceSpan.fullStart),node=new Component(componentName,tagName,fullName,attrs,directives,[],selfClosing,span,startSpan,void 0),parent=this._getContainer(),isClosedByChild=null!==parent&&null!==node.tagName&&!!this._getTagDefinition(parent)?.isClosedByChild(node.tagName);this._pushContainer(node,isClosedByChild),selfClosing?this._popContainer(fullName,Component,span):37===startToken.type&&(this._popContainer(fullName,Component,null),this.errors.push(TreeError.create(fullName,span,`Opening tag "${fullName}" not terminated.`)))}_consumeAttributesAndDirectives(attributesResult,directivesResult){for(;14===this._peek.type||38===this._peek.type;)38===this._peek.type?directivesResult.push(this._consumeDirective(this._peek)):attributesResult.push(this._consumeAttr(this._advance()))}_consumeComponentEndTag(endToken){const fullName=this._getComponentFullName(endToken,this._getClosestElementLikeParent());if(!this._popContainer(fullName,Component,endToken.sourceSpan)){const container=this._containerStack[this._containerStack.length-1];let suffix;suffix=container instanceof Component&&container.componentName===endToken.parts[0]?`, did you mean "${container.fullName}"?`:". It may happen when the tag has already been closed by another tag.";const errMsg=`Unexpected closing tag "${fullName}"${suffix}`;this.errors.push(TreeError.create(fullName,endToken.sourceSpan,errMsg))}}_getTagDefinition(nodeOrName){return"string"==typeof nodeOrName?this.tagDefinitionResolver(nodeOrName):nodeOrName instanceof Element?this.tagDefinitionResolver(nodeOrName.name):nodeOrName instanceof Component&&null!==nodeOrName.tagName?this.tagDefinitionResolver(nodeOrName.tagName):null}_pushContainer(node,isClosedByChild){isClosedByChild&&this._containerStack.pop(),this._addToParent(node),this._containerStack.push(node)}_consumeElementEndTag(endTagToken){const fullName=this._getElementFullName(endTagToken,this._getClosestElementLikeParent());if(this._getTagDefinition(fullName)?.isVoid)this.errors.push(TreeError.create(fullName,endTagToken.sourceSpan,`Void elements do not have end tags "${endTagToken.parts[1]}"`));else if(!this._popContainer(fullName,Element,endTagToken.sourceSpan)){const errMsg=`Unexpected closing tag "${fullName}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(TreeError.create(fullName,endTagToken.sourceSpan,errMsg))}}_popContainer(expectedName,expectedType,endSourceSpan){let unexpectedCloseTagDetected=!1;for(let stackIndex=this._containerStack.length-1;stackIndex>=0;stackIndex--){const node=this._containerStack[stackIndex];if(((node instanceof Component?node.fullName:node.name)===expectedName||null===expectedName)&&node instanceof expectedType)return node.endSourceSpan=endSourceSpan,node.sourceSpan.end=null!==endSourceSpan?endSourceSpan.end:node.sourceSpan.end,this._containerStack.splice(stackIndex,this._containerStack.length-stackIndex),!unexpectedCloseTagDetected;(node instanceof Block||!this._getTagDefinition(node)?.closedByParent)&&(unexpectedCloseTagDetected=!0)}return!1}_consumeAttr(attrName){const fullName=mergeNsAndName(attrName.parts[0],attrName.parts[1]);let attrEnd=attrName.sourceSpan.end;15===this._peek.type&&this._advance();let value="";const valueTokens=[];let valueStartSpan,valueEnd;if(16===this._peek.type)for(valueStartSpan=this._peek.sourceSpan,valueEnd=this._peek.sourceSpan.end;16===this._peek.type||17===this._peek.type||9===this._peek.type;){const valueToken=this._advance();valueTokens.push(valueToken),17===valueToken.type?value+=valueToken.parts.join("").replace(/&([^;]+);/g,decodeEntity):9===valueToken.type?value+=valueToken.parts[0]:value+=valueToken.parts.join(""),valueEnd=attrEnd=valueToken.sourceSpan.end}if(15===this._peek.type){attrEnd=this._advance().sourceSpan.end}const valueSpan=valueStartSpan&&valueEnd&&new ParseSourceSpan(valueStartSpan.start,valueEnd,valueStartSpan.fullStart);return new Attribute(fullName,value,new ParseSourceSpan(attrName.sourceSpan.start,attrEnd,attrName.sourceSpan.fullStart),attrName.sourceSpan,valueSpan,valueTokens.length>0?valueTokens:void 0,void 0)}_consumeDirective(nameToken){const attributes=[];let startSourceSpanEnd=nameToken.sourceSpan.end,endSourceSpan=null;if(this._advance(),39===this._peek.type){for(startSourceSpanEnd=this._peek.sourceSpan.end,this._advance();14===this._peek.type;)attributes.push(this._consumeAttr(this._advance()));40===this._peek.type?(endSourceSpan=this._peek.sourceSpan,this._advance()):this.errors.push(TreeError.create(null,nameToken.sourceSpan,"Unterminated directive definition"))}const startSourceSpan=new ParseSourceSpan(nameToken.sourceSpan.start,startSourceSpanEnd,nameToken.sourceSpan.fullStart),sourceSpan=new ParseSourceSpan(startSourceSpan.start,null===endSourceSpan?nameToken.sourceSpan.end:endSourceSpan.end,startSourceSpan.fullStart);return new Directive(nameToken.parts[0],attributes,sourceSpan,startSourceSpan,endSourceSpan)}_consumeBlockOpen(token){const parameters=[];for(;27===this._peek.type;){const paramToken=this._advance();parameters.push(new BlockParameter(paramToken.parts[0],paramToken.sourceSpan))}25===this._peek.type&&this._advance();const end=this._peek.sourceSpan.fullStart,span=new ParseSourceSpan(token.sourceSpan.start,end,token.sourceSpan.fullStart),startSpan=new ParseSourceSpan(token.sourceSpan.start,end,token.sourceSpan.fullStart),block=new Block(token.parts[0],parameters,[],span,token.sourceSpan,startSpan);this._pushContainer(block,!1)}_consumeBlockClose(token){this._popContainer(null,Block,token.sourceSpan)||this.errors.push(TreeError.create(null,token.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(token){const parameters=[];for(;27===this._peek.type;){const paramToken=this._advance();parameters.push(new BlockParameter(paramToken.parts[0],paramToken.sourceSpan))}const end=this._peek.sourceSpan.fullStart,span=new ParseSourceSpan(token.sourceSpan.start,end,token.sourceSpan.fullStart),startSpan=new ParseSourceSpan(token.sourceSpan.start,end,token.sourceSpan.fullStart),block=new Block(token.parts[0],parameters,[],span,token.sourceSpan,startSpan);this._pushContainer(block,!1),this._popContainer(null,Block,null),this.errors.push(TreeError.create(token.parts[0],span,`Incomplete block "${token.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_consumeLet(startToken){const name=startToken.parts[0];let valueToken,endToken;if(30!==this._peek.type)return void this.errors.push(TreeError.create(startToken.parts[0],startToken.sourceSpan,`Invalid @let declaration "${name}". Declaration must have a value.`));if(valueToken=this._advance(),31!==this._peek.type)return void this.errors.push(TreeError.create(startToken.parts[0],startToken.sourceSpan,`Unterminated @let declaration "${name}". Declaration must be terminated with a semicolon.`));endToken=this._advance();const end=endToken.sourceSpan.fullStart,span=new ParseSourceSpan(startToken.sourceSpan.start,end,startToken.sourceSpan.fullStart),startOffset=startToken.sourceSpan.toString().lastIndexOf(name),nameStart=startToken.sourceSpan.start.moveBy(startOffset),nameSpan=new ParseSourceSpan(nameStart,startToken.sourceSpan.end),node=new LetDeclaration(name,valueToken.parts[0],span,nameSpan,valueToken.sourceSpan);this._addToParent(node)}_consumeIncompleteLet(token){const name=token.parts[0]??"",nameString=name?` "${name}"`:"";if(name.length>0){const startOffset=token.sourceSpan.toString().lastIndexOf(name),nameStart=token.sourceSpan.start.moveBy(startOffset),nameSpan=new ParseSourceSpan(nameStart,token.sourceSpan.end),valueSpan=new ParseSourceSpan(token.sourceSpan.start,token.sourceSpan.start.moveBy(0)),node=new LetDeclaration(name,"",token.sourceSpan,nameSpan,valueSpan);this._addToParent(node)}this.errors.push(TreeError.create(token.parts[0],token.sourceSpan,`Incomplete @let declaration${nameString}. @let declarations must be written as \`@let <name> = <value>;\``))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestElementLikeParent(){for(let i=this._containerStack.length-1;i>-1;i--){const current=this._containerStack[i];if(current instanceof Element||current instanceof Component)return current}return null}_addToParent(node){const parent=this._getContainer();null===parent?this.rootNodes.push(node):parent.children.push(node)}_getElementFullName(token,parent){return mergeNsAndName(this._getPrefix(token,parent),token.parts[1])}_getComponentFullName(token,parent){const componentName=token.parts[0],tagName=this._getComponentTagName(token,parent);return null===tagName?componentName:tagName.startsWith(":")?componentName+tagName:`${componentName}:${tagName}`}_getComponentTagName(token,parent){const prefix=this._getPrefix(token,parent),tagName=token.parts[2];return prefix||tagName?!prefix&&tagName?tagName:mergeNsAndName(prefix,tagName||"ng-component"):null}_getPrefix(token,parent){let prefix,tagName;if(33===token.type||37===token.type||36===token.type?(prefix=token.parts[1],tagName=token.parts[2]):(prefix=token.parts[0],tagName=token.parts[1]),prefix=prefix||this._getTagDefinition(tagName)?.implicitNamespacePrefix||"",!prefix&&parent){const parentName=parent instanceof Element?parent.name:parent.tagName;if(null!==parentName){const parentTagName=splitNsName(parentName)[1],parentTagDefinition=this._getTagDefinition(parentTagName);null===parentTagDefinition||parentTagDefinition.preventNamespaceInheritance||(prefix=getNsPrefix(parentName))}}return prefix}}function lastOnStack(stack,element){return stack.length>0&&stack[stack.length-1]===element}function decodeEntity(match,entity){return void 0!==NAMED_ENTITIES[entity]?NAMED_ENTITIES[entity]||match:/^#x[a-f0-9]+$/i.test(entity)?String.fromCodePoint(parseInt(entity.slice(2),16)):/^#\d+$/.test(entity)?String.fromCodePoint(parseInt(entity.slice(1),10)):match}const SKIP_WS_TRIM_TAGS=new Set(["pre","template","textarea","script","style"]),NO_WS_REGEXP=new RegExp("[^ \f\n\r\t\v ᠎ - \u2028\u2029  　\ufeff]"),WS_REPLACE_REGEXP=new RegExp("[ \f\n\r\t\v ᠎ - \u2028\u2029  　\ufeff]{2,}","g");function hasPreserveWhitespacesAttr(attrs){return attrs.some(attr=>"ngPreserveWhitespaces"===attr.name)}function replaceNgsp(value){return value.replace(new RegExp("","g")," ")}class WhitespaceVisitor{preserveSignificantWhitespace;originalNodeMap;requireContext;icuExpansionDepth=0;constructor(preserveSignificantWhitespace,originalNodeMap,requireContext=!0){this.preserveSignificantWhitespace=preserveSignificantWhitespace,this.originalNodeMap=originalNodeMap,this.requireContext=requireContext}visitElement(element,context){if(SKIP_WS_TRIM_TAGS.has(element.name)||hasPreserveWhitespacesAttr(element.attrs)){const newElement=new Element(element.name,visitAllWithSiblings(this,element.attrs),visitAllWithSiblings(this,element.directives),element.children,element.isSelfClosing,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.isVoid,element.i18n);return this.originalNodeMap?.set(newElement,element),newElement}const newElement=new Element(element.name,element.attrs,element.directives,visitAllWithSiblings(this,element.children),element.isSelfClosing,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.isVoid,element.i18n);return this.originalNodeMap?.set(newElement,element),newElement}visitAttribute(attribute,context){return"ngPreserveWhitespaces"!==attribute.name?attribute:null}visitText(text,context){const isNotBlank=text.value.match(NO_WS_REGEXP),hasExpansionSibling=context&&(context.prev instanceof Expansion||context.next instanceof Expansion);if(this.icuExpansionDepth>0&&this.preserveSignificantWhitespace)return text;if(isNotBlank||hasExpansionSibling){const tokens=text.tokens.map(token=>5===token.type?function createWhitespaceProcessedTextToken({type,parts,sourceSpan}){return{type,parts:[processWhitespace(parts[0])],sourceSpan}}(token):token);if(!this.preserveSignificantWhitespace&&tokens.length>0){const firstToken=tokens[0];tokens.splice(0,1,function trimLeadingWhitespace(token,context){if(5!==token.type)return token;const isFirstTokenInTag=!context?.prev;return isFirstTokenInTag?transformTextToken(token,text=>text.trimStart()):token}(firstToken,context));const lastToken=tokens[tokens.length-1];tokens.splice(tokens.length-1,1,function trimTrailingWhitespace(token,context){if(5!==token.type)return token;const isLastTokenInTag=!context?.next;return isLastTokenInTag?transformTextToken(token,text=>text.trimEnd()):token}(lastToken,context))}const processed=processWhitespace(text.value),value=this.preserveSignificantWhitespace?processed:function trimLeadingAndTrailingWhitespace(text,context){const isFirstTokenInTag=!context?.prev,isLastTokenInTag=!context?.next,maybeTrimmedStart=isFirstTokenInTag?text.trimStart():text;return isLastTokenInTag?maybeTrimmedStart.trimEnd():maybeTrimmedStart}(processed,context),result=new Text(value,text.sourceSpan,tokens,text.i18n);return this.originalNodeMap?.set(result,text),result}return null}visitComment(comment,context){return comment}visitExpansion(expansion,context){let newExpansion;this.icuExpansionDepth++;try{newExpansion=new Expansion(expansion.switchValue,expansion.type,visitAllWithSiblings(this,expansion.cases),expansion.sourceSpan,expansion.switchValueSourceSpan,expansion.i18n)}finally{this.icuExpansionDepth--}return this.originalNodeMap?.set(newExpansion,expansion),newExpansion}visitExpansionCase(expansionCase,context){const newExpansionCase=new ExpansionCase(expansionCase.value,visitAllWithSiblings(this,expansionCase.expression),expansionCase.sourceSpan,expansionCase.valueSourceSpan,expansionCase.expSourceSpan);return this.originalNodeMap?.set(newExpansionCase,expansionCase),newExpansionCase}visitBlock(block,context){const newBlock=new Block(block.name,block.parameters,visitAllWithSiblings(this,block.children),block.sourceSpan,block.nameSpan,block.startSourceSpan,block.endSourceSpan);return this.originalNodeMap?.set(newBlock,block),newBlock}visitBlockParameter(parameter,context){return parameter}visitLetDeclaration(decl,context){return decl}visitComponent(node,context){if(node.tagName&&SKIP_WS_TRIM_TAGS.has(node.tagName)||hasPreserveWhitespacesAttr(node.attrs)){const newElement=new Component(node.componentName,node.tagName,node.fullName,visitAllWithSiblings(this,node.attrs),visitAllWithSiblings(this,node.directives),node.children,node.isSelfClosing,node.sourceSpan,node.startSourceSpan,node.endSourceSpan,node.i18n);return this.originalNodeMap?.set(newElement,node),newElement}const newElement=new Component(node.componentName,node.tagName,node.fullName,node.attrs,node.directives,visitAllWithSiblings(this,node.children),node.isSelfClosing,node.sourceSpan,node.startSourceSpan,node.endSourceSpan,node.i18n);return this.originalNodeMap?.set(newElement,node),newElement}visitDirective(directive,context){return directive}visit(_node,context){if(this.requireContext&&!context)throw new Error("WhitespaceVisitor requires context. Visit via `visitAllWithSiblings` to get this context.");return!1}}function transformTextToken({type,parts,sourceSpan},transform){return{type,parts:[transform(parts[0])],sourceSpan}}function processWhitespace(text){return replaceNgsp(text).replace(WS_REPLACE_REGEXP," ")}function visitAllWithSiblings(visitor,nodes){const result=[];return nodes.forEach((ast,i)=>{const context={prev:nodes[i-1],next:nodes[i+1]},astResult=ast.visit(visitor,context);astResult&&result.push(astResult)}),result}var TokenType,StringTokenKind;!function(TokenType){TokenType[TokenType.Character=0]="Character",TokenType[TokenType.Identifier=1]="Identifier",TokenType[TokenType.PrivateIdentifier=2]="PrivateIdentifier",TokenType[TokenType.Keyword=3]="Keyword",TokenType[TokenType.String=4]="String",TokenType[TokenType.Operator=5]="Operator",TokenType[TokenType.Number=6]="Number",TokenType[TokenType.Error=7]="Error"}(TokenType||(TokenType={})),function(StringTokenKind){StringTokenKind[StringTokenKind.Plain=0]="Plain",StringTokenKind[StringTokenKind.TemplateLiteralPart=1]="TemplateLiteralPart",StringTokenKind[StringTokenKind.TemplateLiteralEnd=2]="TemplateLiteralEnd"}(StringTokenKind||(StringTokenKind={}));const KEYWORDS=["var","let","as","null","undefined","true","false","if","else","this","typeof","void","in"];class Lexer{tokenize(text){return new _Scanner(text).scan()}}class Token{index;end;type;numValue;strValue;constructor(index,end,type,numValue,strValue){this.index=index,this.end=end,this.type=type,this.numValue=numValue,this.strValue=strValue}isCharacter(code){return this.type===TokenType.Character&&this.numValue===code}isNumber(){return this.type===TokenType.Number}isString(){return this.type===TokenType.String}isOperator(operator){return this.type===TokenType.Operator&&this.strValue===operator}isIdentifier(){return this.type===TokenType.Identifier}isPrivateIdentifier(){return this.type===TokenType.PrivateIdentifier}isKeyword(){return this.type===TokenType.Keyword}isKeywordLet(){return this.type===TokenType.Keyword&&"let"===this.strValue}isKeywordAs(){return this.type===TokenType.Keyword&&"as"===this.strValue}isKeywordNull(){return this.type===TokenType.Keyword&&"null"===this.strValue}isKeywordUndefined(){return this.type===TokenType.Keyword&&"undefined"===this.strValue}isKeywordTrue(){return this.type===TokenType.Keyword&&"true"===this.strValue}isKeywordFalse(){return this.type===TokenType.Keyword&&"false"===this.strValue}isKeywordThis(){return this.type===TokenType.Keyword&&"this"===this.strValue}isKeywordTypeof(){return this.type===TokenType.Keyword&&"typeof"===this.strValue}isKeywordVoid(){return this.type===TokenType.Keyword&&"void"===this.strValue}isKeywordIn(){return this.type===TokenType.Keyword&&"in"===this.strValue}isError(){return this.type===TokenType.Error}toNumber(){return this.type===TokenType.Number?this.numValue:-1}isTemplateLiteralPart(){return this.isString()&&this.kind===StringTokenKind.TemplateLiteralPart}isTemplateLiteralEnd(){return this.isString()&&this.kind===StringTokenKind.TemplateLiteralEnd}isTemplateLiteralInterpolationStart(){return this.isOperator("${")}toString(){switch(this.type){case TokenType.Character:case TokenType.Identifier:case TokenType.Keyword:case TokenType.Operator:case TokenType.PrivateIdentifier:case TokenType.String:case TokenType.Error:return this.strValue;case TokenType.Number:return this.numValue.toString();default:return null}}}class StringToken extends Token{kind;constructor(index,end,strValue,kind){super(index,end,TokenType.String,0,strValue),this.kind=kind}}function newCharacterToken(index,end,code){return new Token(index,end,TokenType.Character,code,String.fromCharCode(code))}function newOperatorToken(index,end,text){return new Token(index,end,TokenType.Operator,0,text)}const EOF=new Token(-1,-1,TokenType.Character,0,"");class _Scanner{input;tokens=[];length;peek=0;index=-1;braceStack=[];constructor(input){this.input=input,this.length=input.length,this.advance()}scan(){let token=this.scanToken();for(;null!==token;)this.tokens.push(token),token=this.scanToken();return this.tokens}advance(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}scanToken(){const input=this.input,length=this.length;let peek=this.peek,index=this.index;for(;peek<=32;){if(++index>=length){peek=0;break}peek=input.charCodeAt(index)}if(this.peek=peek,this.index=index,index>=length)return null;if(isIdentifierStart(peek))return this.scanIdentifier();if(isDigit(peek))return this.scanNumber(index);const start=index;switch(peek){case 46:return this.advance(),isDigit(this.peek)?this.scanNumber(start):newCharacterToken(start,this.index,46);case 40:case 41:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(start,peek);case 123:return this.scanOpenBrace(start,peek);case 125:return this.scanCloseBrace(start,peek);case 39:case 34:return this.scanString();case 96:return this.advance(),this.scanTemplateLiteralPart(start);case 35:return this.scanPrivateIdentifier();case 43:return this.scanComplexOperator(start,"+",61,"=");case 45:return this.scanComplexOperator(start,"-",61,"=");case 47:return this.scanComplexOperator(start,"/",61,"=");case 37:return this.scanComplexOperator(start,"%",61,"=");case 94:return this.scanOperator(start,"^");case 42:return this.scanStar(start);case 63:return this.scanQuestion(start);case 60:case 62:return this.scanComplexOperator(start,String.fromCharCode(peek),61,"=");case 33:case 61:return this.scanComplexOperator(start,String.fromCharCode(peek),61,"=",61,"=");case 38:return this.scanComplexOperator(start,"&",38,"&",61,"=");case 124:return this.scanComplexOperator(start,"|",124,"|",61,"=");case 160:for(;isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(peek)}]`,0)}scanCharacter(start,code){return this.advance(),newCharacterToken(start,this.index,code)}scanOperator(start,str){return this.advance(),newOperatorToken(start,this.index,str)}scanOpenBrace(start,code){return this.braceStack.push("expression"),this.advance(),newCharacterToken(start,this.index,code)}scanCloseBrace(start,code){this.advance();return"interpolation"===this.braceStack.pop()?(this.tokens.push(newCharacterToken(start,this.index,125)),this.scanTemplateLiteralPart(this.index)):newCharacterToken(start,this.index,code)}scanComplexOperator(start,one,twoCode,two,threeCode,three){this.advance();let str=one;return this.peek==twoCode&&(this.advance(),str+=two),null!=threeCode&&this.peek==threeCode&&(this.advance(),str+=three),newOperatorToken(start,this.index,str)}scanIdentifier(){const start=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();const str=this.input.substring(start,this.index);return KEYWORDS.indexOf(str)>-1?function newKeywordToken(index,end,text){return new Token(index,end,TokenType.Keyword,0,text)}(start,this.index,str):function newIdentifierToken(index,end,text){return new Token(index,end,TokenType.Identifier,0,text)}(start,this.index,str)}scanPrivateIdentifier(){const start=this.index;if(this.advance(),!isIdentifierStart(this.peek))return this.error("Invalid character [#]",-1);for(;isIdentifierPart(this.peek);)this.advance();const identifierName=this.input.substring(start,this.index);return function newPrivateIdentifierToken(index,end,text){return new Token(index,end,TokenType.PrivateIdentifier,0,text)}(start,this.index,identifierName)}scanNumber(start){let simple=this.index===start,hasSeparators=!1;for(this.advance();;){if(isDigit(this.peek));else if(95===this.peek){if(!isDigit(this.input.charCodeAt(this.index-1))||!isDigit(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);hasSeparators=!0}else if(46===this.peek)simple=!1;else{if(!isExponentStart(this.peek))break;if(this.advance(),isExponentSign(this.peek)&&this.advance(),!isDigit(this.peek))return this.error("Invalid exponent",-1);simple=!1}this.advance()}let str=this.input.substring(start,this.index);hasSeparators&&(str=str.replace(/_/g,""));const value=simple?function parseIntAutoRadix(text){const result=parseInt(text);if(isNaN(result))throw new Error("Invalid integer literal when parsing "+text);return result}(str):parseFloat(str);return function newNumberToken(index,end,n){return new Token(index,end,TokenType.Number,n,"")}(start,this.index,value)}scanString(){const start=this.index,quote=this.peek;this.advance();let buffer="",marker=this.index;const input=this.input;for(;this.peek!=quote;)if(92==this.peek){const result=this.scanStringBackslash(buffer,marker);if("string"!=typeof result)return result;buffer=result,marker=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}const last=input.substring(marker,this.index);return this.advance(),new StringToken(start,this.index,buffer+last,StringTokenKind.Plain)}scanQuestion(start){this.advance();let operator="?";return 63===this.peek?(operator+="?",this.advance(),61===this.peek&&(operator+="=",this.advance())):46===this.peek&&(operator+=".",this.advance()),newOperatorToken(start,this.index,operator)}scanTemplateLiteralPart(start){let buffer="",marker=this.index;for(;96!==this.peek;)if(92===this.peek){const result=this.scanStringBackslash(buffer,marker);if("string"!=typeof result)return result;buffer=result,marker=this.index}else if(36===this.peek){const dollar=this.index;if(this.advance(),123===this.peek)return this.braceStack.push("interpolation"),this.tokens.push(new StringToken(start,dollar,buffer+this.input.substring(marker,dollar),StringTokenKind.TemplateLiteralPart)),this.advance(),newOperatorToken(dollar,this.index,this.input.substring(dollar,this.index))}else{if(0===this.peek)return this.error("Unterminated template literal",0);this.advance()}const last=this.input.substring(marker,this.index);return this.advance(),new StringToken(start,this.index,buffer+last,StringTokenKind.TemplateLiteralEnd)}error(message,offset){const position=this.index+offset;return function newErrorToken(index,end,message){return new Token(index,end,TokenType.Error,0,message)}(position,this.index,`Lexer Error: ${message} at column ${position} in expression [${this.input}]`)}scanStringBackslash(buffer,marker){let unescapedCode;if(buffer+=this.input.substring(marker,this.index),this.advance(),117===this.peek){const hex=this.input.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(hex))return this.error(`Invalid unicode escape [\\u${hex}]`,0);unescapedCode=parseInt(hex,16);for(let i=0;i<5;i++)this.advance()}else unescapedCode=function unescape(code){switch(code){case 110:return 10;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return code}}(this.peek),this.advance();return buffer+=String.fromCharCode(unescapedCode)}scanStar(start){this.advance();let operator="*";return 42===this.peek?(operator+="*",this.advance(),61===this.peek&&(operator+="=",this.advance())):61===this.peek&&(operator+="=",this.advance()),newOperatorToken(start,this.index,operator)}}function isIdentifierStart(code){return 97<=code&&code<=122||65<=code&&code<=90||95==code||36==code}function isIdentifierPart(code){return isAsciiLetter(code)||isDigit(code)||95==code||36==code}function isExponentStart(code){return 101==code||69==code}function isExponentSign(code){return 45==code||43==code}class SplitInterpolation{strings;expressions;offsets;constructor(strings,expressions,offsets){this.strings=strings,this.expressions=expressions,this.offsets=offsets}}class TemplateBindingParseResult{templateBindings;warnings;errors;constructor(templateBindings,warnings,errors){this.templateBindings=templateBindings,this.warnings=warnings,this.errors=errors}}function getLocation(span){return span.start.toString()||"(unknown)"}class Parser{_lexer;_supportsDirectPipeReferences;constructor(_lexer,_supportsDirectPipeReferences=!1){this._lexer=_lexer,this._supportsDirectPipeReferences=_supportsDirectPipeReferences}parseAction(input,parseSourceSpan,absoluteOffset,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){const errors=[];this._checkNoInterpolation(errors,input,parseSourceSpan,interpolationConfig);const{stripped:sourceToLex}=this._stripComments(input),tokens=this._lexer.tokenize(sourceToLex),ast=new _ParseAST(input,parseSourceSpan,absoluteOffset,tokens,1,errors,0,this._supportsDirectPipeReferences).parseChain();return new ASTWithSource(ast,input,getLocation(parseSourceSpan),absoluteOffset,errors)}parseBinding(input,parseSourceSpan,absoluteOffset,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){const errors=[],ast=this._parseBindingAst(input,parseSourceSpan,absoluteOffset,interpolationConfig,errors);return new ASTWithSource(ast,input,getLocation(parseSourceSpan),absoluteOffset,errors)}checkSimpleExpression(ast){const checker=new SimpleExpressionChecker;return ast.visit(checker),checker.errors}parseSimpleBinding(input,parseSourceSpan,absoluteOffset,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){const errors=[],ast=this._parseBindingAst(input,parseSourceSpan,absoluteOffset,interpolationConfig,errors),simplExpressionErrors=this.checkSimpleExpression(ast);return simplExpressionErrors.length>0&&errors.push(getParseError(`Host binding expression cannot contain ${simplExpressionErrors.join(" ")}`,input,"",parseSourceSpan)),new ASTWithSource(ast,input,getLocation(parseSourceSpan),absoluteOffset,errors)}_parseBindingAst(input,parseSourceSpan,absoluteOffset,interpolationConfig,errors){this._checkNoInterpolation(errors,input,parseSourceSpan,interpolationConfig);const{stripped:sourceToLex}=this._stripComments(input),tokens=this._lexer.tokenize(sourceToLex);return new _ParseAST(input,parseSourceSpan,absoluteOffset,tokens,0,errors,0,this._supportsDirectPipeReferences).parseChain()}parseTemplateBindings(templateKey,templateValue,parseSourceSpan,absoluteKeyOffset,absoluteValueOffset){const tokens=this._lexer.tokenize(templateValue);return new _ParseAST(templateValue,parseSourceSpan,absoluteValueOffset,tokens,0,[],0,this._supportsDirectPipeReferences).parseTemplateBindings({source:templateKey,span:new AbsoluteSourceSpan(absoluteKeyOffset,absoluteKeyOffset+templateKey.length)})}parseInterpolation(input,parseSourceSpan,absoluteOffset,interpolatedTokens,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){const errors=[],{strings,expressions,offsets}=this.splitInterpolation(input,parseSourceSpan,errors,interpolatedTokens,interpolationConfig);if(0===expressions.length)return null;const expressionNodes=[];for(let i=0;i<expressions.length;++i){const expressionSpan=interpolatedTokens?.[2*i+1]?.sourceSpan,expressionText=expressions[i].text,{stripped:sourceToLex,hasComments}=this._stripComments(expressionText),tokens=this._lexer.tokenize(sourceToLex);if(hasComments&&0===sourceToLex.trim().length&&0===tokens.length){errors.push(getParseError("Interpolation expression cannot only contain a comment",input,`at column ${expressions[i].start} in`,parseSourceSpan));continue}const ast=new _ParseAST(expressionSpan?expressionText:input,expressionSpan||parseSourceSpan,absoluteOffset,tokens,0,errors,offsets[i],this._supportsDirectPipeReferences).parseChain();expressionNodes.push(ast)}return this.createInterpolationAst(strings.map(s=>s.text),expressionNodes,input,getLocation(parseSourceSpan),absoluteOffset,errors)}parseInterpolationExpression(expression,parseSourceSpan,absoluteOffset){const{stripped:sourceToLex}=this._stripComments(expression),tokens=this._lexer.tokenize(sourceToLex),errors=[],ast=new _ParseAST(expression,parseSourceSpan,absoluteOffset,tokens,0,errors,0,this._supportsDirectPipeReferences).parseChain();return this.createInterpolationAst(["",""],[ast],expression,getLocation(parseSourceSpan),absoluteOffset,errors)}createInterpolationAst(strings,expressions,input,location,absoluteOffset,errors){const span=new ParseSpan(0,input.length),interpolation=new Interpolation$1(span,span.toAbsolute(absoluteOffset),strings,expressions);return new ASTWithSource(interpolation,input,location,absoluteOffset,errors)}splitInterpolation(input,parseSourceSpan,errors,interpolatedTokens,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){const strings=[],expressions=[],offsets=[],inputToTemplateIndexMap=interpolatedTokens?function getIndexMapForOriginalTemplate(interpolatedTokens){let offsetMap=new Map,consumedInOriginalTemplate=0,consumedInInput=0,tokenIndex=0;for(;tokenIndex<interpolatedTokens.length;){const currentToken=interpolatedTokens[tokenIndex];if(9===currentToken.type){const[decoded,encoded]=currentToken.parts;consumedInOriginalTemplate+=encoded.length,consumedInInput+=decoded.length}else{const lengthOfParts=currentToken.parts.reduce((sum,current)=>sum+current.length,0);consumedInInput+=lengthOfParts,consumedInOriginalTemplate+=lengthOfParts}offsetMap.set(consumedInInput,consumedInOriginalTemplate),tokenIndex++}return offsetMap}(interpolatedTokens):null;let i=0,atInterpolation=!1,extendLastString=!1,{start:interpStart,end:interpEnd}=interpolationConfig;for(;i<input.length;)if(atInterpolation){const fullStart=i,exprStart=fullStart+interpStart.length,exprEnd=this._getInterpolationEndIndex(input,interpEnd,exprStart);if(-1===exprEnd){atInterpolation=!1,extendLastString=!0;break}const fullEnd=exprEnd+interpEnd.length,text=input.substring(exprStart,exprEnd);0===text.trim().length&&errors.push(getParseError("Blank expressions are not allowed in interpolated strings",input,`at column ${i} in`,parseSourceSpan)),expressions.push({text,start:fullStart,end:fullEnd});const offset=(inputToTemplateIndexMap?.get(fullStart)??fullStart)+interpStart.length;offsets.push(offset),i=fullEnd,atInterpolation=!1}else{const start=i;i=input.indexOf(interpStart,i),-1===i&&(i=input.length);const text=input.substring(start,i);strings.push({text,start,end:i}),atInterpolation=!0}if(!atInterpolation)if(extendLastString){const piece=strings[strings.length-1];piece.text+=input.substring(i),piece.end=input.length}else strings.push({text:input.substring(i),start:i,end:input.length});return new SplitInterpolation(strings,expressions,offsets)}wrapLiteralPrimitive(input,sourceSpanOrLocation,absoluteOffset){const span=new ParseSpan(0,null==input?0:input.length);return new ASTWithSource(new LiteralPrimitive(span,span.toAbsolute(absoluteOffset),input),input,"string"==typeof sourceSpanOrLocation?sourceSpanOrLocation:getLocation(sourceSpanOrLocation),absoluteOffset,[])}_stripComments(input){const i=this._commentStart(input);return null!=i?{stripped:input.substring(0,i),hasComments:!0}:{stripped:input,hasComments:!1}}_commentStart(input){let outerQuote=null;for(let i=0;i<input.length-1;i++){const char=input.charCodeAt(i),nextChar=input.charCodeAt(i+1);if(47===char&&47==nextChar&&null==outerQuote)return i;outerQuote===char?outerQuote=null:null==outerQuote&&isQuote(char)&&(outerQuote=char)}return null}_checkNoInterpolation(errors,input,parseSourceSpan,{start,end}){let startIndex=-1,endIndex=-1;for(const charIndex of this._forEachUnquotedChar(input,0))if(-1===startIndex)input.startsWith(start)&&(startIndex=charIndex);else if(endIndex=this._getInterpolationEndIndex(input,end,charIndex),endIndex>-1)break;startIndex>-1&&endIndex>-1&&errors.push(getParseError(`Got interpolation (${start}${end}) where expression was expected`,input,`at column ${startIndex} in`,parseSourceSpan))}_getInterpolationEndIndex(input,expressionEnd,start){for(const charIndex of this._forEachUnquotedChar(input,start)){if(input.startsWith(expressionEnd,charIndex))return charIndex;if(input.startsWith("//",charIndex))return input.indexOf(expressionEnd,charIndex)}return-1}*_forEachUnquotedChar(input,start){let currentQuote=null,escapeCount=0;for(let i=start;i<input.length;i++){const char=input[i];!isQuote(input.charCodeAt(i))||null!==currentQuote&&currentQuote!==char||escapeCount%2!=0?null===currentQuote&&(yield i):currentQuote=null===currentQuote?char:null,escapeCount="\\"===char?escapeCount+1:0}}}var ParseContextFlags;!function(ParseContextFlags){ParseContextFlags[ParseContextFlags.None=0]="None",ParseContextFlags[ParseContextFlags.Writable=1]="Writable"}(ParseContextFlags||(ParseContextFlags={}));class _ParseAST{input;parseSourceSpan;absoluteOffset;tokens;parseFlags;errors;offset;supportsDirectPipeReferences;rparensExpected=0;rbracketsExpected=0;rbracesExpected=0;context=ParseContextFlags.None;sourceSpanCache=new Map;index=0;constructor(input,parseSourceSpan,absoluteOffset,tokens,parseFlags,errors,offset,supportsDirectPipeReferences){this.input=input,this.parseSourceSpan=parseSourceSpan,this.absoluteOffset=absoluteOffset,this.tokens=tokens,this.parseFlags=parseFlags,this.errors=errors,this.offset=offset,this.supportsDirectPipeReferences=supportsDirectPipeReferences}peek(offset){const i=this.index+offset;return i<this.tokens.length?this.tokens[i]:EOF}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){if(this.index>0){return this.peek(-1).end+this.offset}return 0===this.tokens.length?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(start,artificialEndIndex){let endIndex=this.currentEndIndex;if(void 0!==artificialEndIndex&&artificialEndIndex>this.currentEndIndex&&(endIndex=artificialEndIndex),start>endIndex){const tmp=endIndex;endIndex=start,start=tmp}return new ParseSpan(start,endIndex)}sourceSpan(start,artificialEndIndex){const serial=`${start}@${this.inputIndex}:${artificialEndIndex}`;return this.sourceSpanCache.has(serial)||this.sourceSpanCache.set(serial,this.span(start,artificialEndIndex).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(serial)}advance(){this.index++}withContext(context,cb){this.context|=context;const ret=cb();return this.context^=context,ret}consumeOptionalCharacter(code){return!!this.next.isCharacter(code)&&(this.advance(),!0)}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(code){this.consumeOptionalCharacter(code)||this.error(`Missing expected ${String.fromCharCode(code)}`)}consumeOptionalOperator(op){return!!this.next.isOperator(op)&&(this.advance(),!0)}isAssignmentOperator(token){return token.type===TokenType.Operator&&Binary.isAssignmentOperation(token.strValue)}expectOperator(operator){this.consumeOptionalOperator(operator)||this.error(`Missing expected operator ${operator}`)}prettyPrintToken(tok){return tok===EOF?"end of input":`token ${tok}`}expectIdentifierOrKeyword(){const n=this.next;return n.isIdentifier()||n.isKeyword()?(this.advance(),n.toString()):(n.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(n,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(n)}, expected identifier or keyword`),null)}expectIdentifierOrKeywordOrString(){const n=this.next;return n.isIdentifier()||n.isKeyword()||n.isString()?(this.advance(),n.toString()):(n.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(n,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(n)}, expected identifier, keyword, or string`),"")}parseChain(){const exprs=[],start=this.inputIndex;for(;this.index<this.tokens.length;){const expr=this.parsePipe();if(exprs.push(expr),this.consumeOptionalCharacter(59))for(1&this.parseFlags||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(59););else if(this.index<this.tokens.length){const errorIndex=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===errorIndex)break}}if(0===exprs.length){const artificialStart=this.offset,artificialEnd=this.offset+this.input.length;return new EmptyExpr$1(this.span(artificialStart,artificialEnd),this.sourceSpan(artificialStart,artificialEnd))}return 1==exprs.length?exprs[0]:new Chain(this.span(start),this.sourceSpan(start),exprs)}parsePipe(){const start=this.inputIndex;let result=this.parseExpression();if(this.consumeOptionalOperator("|")){1&this.parseFlags&&this.error("Cannot have a pipe in an action expression");do{const nameStart=this.inputIndex;let nameSpan,fullSpanEnd,nameId=this.expectIdentifierOrKeyword();null!==nameId?nameSpan=this.sourceSpan(nameStart):(nameId="",fullSpanEnd=-1!==this.next.index?this.next.index:this.input.length+this.offset,nameSpan=new ParseSpan(fullSpanEnd,fullSpanEnd).toAbsolute(this.absoluteOffset));const args=[];for(;this.consumeOptionalCharacter(58);)args.push(this.parseExpression());let type;if(this.supportsDirectPipeReferences){const charCode=nameId.charCodeAt(0);type=95===charCode||charCode>=65&&charCode<=90?BindingPipeType.ReferencedDirectly:BindingPipeType.ReferencedByName}else type=BindingPipeType.ReferencedByName;result=new BindingPipe(this.span(start),this.sourceSpan(start,fullSpanEnd),result,nameId,args,type,nameSpan)}while(this.consumeOptionalOperator("|"))}return result}parseExpression(){return this.parseConditional()}parseConditional(){const start=this.inputIndex,result=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){const yes=this.parsePipe();let no;if(this.consumeOptionalCharacter(58))no=this.parsePipe();else{const end=this.inputIndex,expression=this.input.substring(start,end);this.error(`Conditional expression ${expression} requires all 3 expressions`),no=new EmptyExpr$1(this.span(start),this.sourceSpan(start))}return new Conditional(this.span(start),this.sourceSpan(start),result,yes,no)}return result}parseLogicalOr(){const start=this.inputIndex;let result=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){const right=this.parseLogicalAnd();result=new Binary(this.span(start),this.sourceSpan(start),"||",result,right)}return result}parseLogicalAnd(){const start=this.inputIndex;let result=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){const right=this.parseNullishCoalescing();result=new Binary(this.span(start),this.sourceSpan(start),"&&",result,right)}return result}parseNullishCoalescing(){const start=this.inputIndex;let result=this.parseEquality();for(;this.consumeOptionalOperator("??");){const right=this.parseEquality();result=new Binary(this.span(start),this.sourceSpan(start),"??",result,right)}return result}parseEquality(){const start=this.inputIndex;let result=this.parseRelational();for(;this.next.type==TokenType.Operator;){const operator=this.next.strValue;switch(operator){case"==":case"===":case"!=":case"!==":this.advance();const right=this.parseRelational();result=new Binary(this.span(start),this.sourceSpan(start),operator,result,right);continue}break}return result}parseRelational(){const start=this.inputIndex;let result=this.parseAdditive();for(;this.next.type==TokenType.Operator||this.next.isKeywordIn;){const operator=this.next.strValue;switch(operator){case"<":case">":case"<=":case">=":case"in":this.advance();const right=this.parseAdditive();result=new Binary(this.span(start),this.sourceSpan(start),operator,result,right);continue}break}return result}parseAdditive(){const start=this.inputIndex;let result=this.parseMultiplicative();for(;this.next.type==TokenType.Operator;){const operator=this.next.strValue;switch(operator){case"+":case"-":this.advance();let right=this.parseMultiplicative();result=new Binary(this.span(start),this.sourceSpan(start),operator,result,right);continue}break}return result}parseMultiplicative(){const start=this.inputIndex;let result=this.parseExponentiation();for(;this.next.type==TokenType.Operator;){const operator=this.next.strValue;switch(operator){case"*":case"%":case"/":this.advance();const right=this.parseExponentiation();result=new Binary(this.span(start),this.sourceSpan(start),operator,result,right);continue}break}return result}parseExponentiation(){const start=this.inputIndex;let result=this.parsePrefix();for(;this.next.type==TokenType.Operator&&"**"===this.next.strValue;){(result instanceof Unary||result instanceof PrefixNot||result instanceof TypeofExpression||result instanceof VoidExpression)&&this.error("Unary operator used immediately before exponentiation expression. Parenthesis must be used to disambiguate operator precedence"),this.advance();const right=this.parseExponentiation();result=new Binary(this.span(start),this.sourceSpan(start),"**",result,right)}return result}parsePrefix(){if(this.next.type==TokenType.Operator){const start=this.inputIndex;let result;switch(this.next.strValue){case"+":return this.advance(),result=this.parsePrefix(),Unary.createPlus(this.span(start),this.sourceSpan(start),result);case"-":return this.advance(),result=this.parsePrefix(),Unary.createMinus(this.span(start),this.sourceSpan(start),result);case"!":return this.advance(),result=this.parsePrefix(),new PrefixNot(this.span(start),this.sourceSpan(start),result)}}else{if(this.next.isKeywordTypeof()){this.advance();const start=this.inputIndex;let result=this.parsePrefix();return new TypeofExpression(this.span(start),this.sourceSpan(start),result)}if(this.next.isKeywordVoid()){this.advance();const start=this.inputIndex;let result=this.parsePrefix();return new VoidExpression(this.span(start),this.sourceSpan(start),result)}}return this.parseCallChain()}parseCallChain(){const start=this.inputIndex;let result=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(46))result=this.parseAccessMember(result,start,!1);else if(this.consumeOptionalOperator("?."))result=this.consumeOptionalCharacter(40)?this.parseCall(result,start,!0):this.consumeOptionalCharacter(91)?this.parseKeyedReadOrWrite(result,start,!0):this.parseAccessMember(result,start,!0);else if(this.consumeOptionalCharacter(91))result=this.parseKeyedReadOrWrite(result,start,!1);else if(this.consumeOptionalCharacter(40))result=this.parseCall(result,start,!1);else if(this.consumeOptionalOperator("!"))result=new NonNullAssert(this.span(start),this.sourceSpan(start),result);else if(this.next.isTemplateLiteralEnd())result=this.parseNoInterpolationTaggedTemplateLiteral(result,start);else{if(!this.next.isTemplateLiteralPart())return result;result=this.parseTaggedTemplateLiteral(result,start)}}parsePrimary(){const start=this.inputIndex;if(this.consumeOptionalCharacter(40)){this.rparensExpected++;const result=this.parsePipe();return this.consumeOptionalCharacter(41)||(this.error("Missing closing parentheses"),this.consumeOptionalCharacter(41)),this.rparensExpected--,new ParenthesizedExpression(this.span(start),this.sourceSpan(start),result)}if(this.next.isKeywordNull())return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),null);if(this.next.isKeywordUndefined())return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),void 0);if(this.next.isKeywordTrue())return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),!0);if(this.next.isKeywordFalse())return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),!1);if(this.next.isKeywordIn())return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),"in");if(this.next.isKeywordThis())return this.advance(),new ThisReceiver(this.span(start),this.sourceSpan(start));if(this.consumeOptionalCharacter(91)){this.rbracketsExpected++;const elements=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new LiteralArray(this.span(start),this.sourceSpan(start),elements)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new ImplicitReceiver(this.span(start),this.sourceSpan(start)),start,!1);if(this.next.isNumber()){const value=this.next.toNumber();return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),value)}if(this.next.isTemplateLiteralEnd())return this.parseNoInterpolationTemplateLiteral();if(this.next.isTemplateLiteralPart())return this.parseTemplateLiteral();if(this.next.isString()&&this.next.kind===StringTokenKind.Plain){const literalValue=this.next.toString();return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),literalValue)}return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new EmptyExpr$1(this.span(start),this.sourceSpan(start))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new EmptyExpr$1(this.span(start),this.sourceSpan(start))):(this.error(`Unexpected token ${this.next}`),new EmptyExpr$1(this.span(start),this.sourceSpan(start)))}parseExpressionList(terminator){const result=[];do{if(this.next.isCharacter(terminator))break;result.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));return result}parseLiteralMap(){const keys=[],values=[],start=this.inputIndex;if(this.expectCharacter(123),!this.consumeOptionalCharacter(125)){this.rbracesExpected++;do{const keyStart=this.inputIndex,quoted=this.next.isString(),key=this.expectIdentifierOrKeywordOrString(),literalMapKey={key,quoted};if(keys.push(literalMapKey),quoted)this.expectCharacter(58),values.push(this.parsePipe());else if(this.consumeOptionalCharacter(58))values.push(this.parsePipe());else{literalMapKey.isShorthandInitialized=!0;const span=this.span(keyStart),sourceSpan=this.sourceSpan(keyStart);values.push(new PropertyRead(span,sourceSpan,sourceSpan,new ImplicitReceiver(span,sourceSpan),key))}}while(this.consumeOptionalCharacter(44)&&!this.next.isCharacter(125));this.rbracesExpected--,this.expectCharacter(125)}return new LiteralMap(this.span(start),this.sourceSpan(start),keys,values)}parseAccessMember(readReceiver,start,isSafe){const nameStart=this.inputIndex,id=this.withContext(ParseContextFlags.Writable,()=>{const id=this.expectIdentifierOrKeyword()??"";return 0===id.length&&this.error("Expected identifier for property access",readReceiver.span.end),id}),nameSpan=this.sourceSpan(nameStart);if(isSafe)return this.isAssignmentOperator(this.next)?(this.advance(),this.error("The '?.' operator cannot be used in the assignment"),new EmptyExpr$1(this.span(start),this.sourceSpan(start))):new SafePropertyRead(this.span(start),this.sourceSpan(start),nameSpan,readReceiver,id);if(this.isAssignmentOperator(this.next)){const operation=this.next.strValue;if(!(1&this.parseFlags))return this.advance(),this.error("Bindings cannot contain assignments"),new EmptyExpr$1(this.span(start),this.sourceSpan(start));const receiver=new PropertyRead(this.span(start),this.sourceSpan(start),nameSpan,readReceiver,id);this.advance();const value=this.parseConditional();return new Binary(this.span(start),this.sourceSpan(start),operation,receiver,value)}return new PropertyRead(this.span(start),this.sourceSpan(start),nameSpan,readReceiver,id)}parseCall(receiver,start,isSafe){const argumentStart=this.inputIndex;this.rparensExpected++;const args=this.parseCallArguments(),argumentSpan=this.span(argumentStart,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(41),this.rparensExpected--;const span=this.span(start),sourceSpan=this.sourceSpan(start);return isSafe?new SafeCall(span,sourceSpan,receiver,args,argumentSpan):new Call(span,sourceSpan,receiver,args,argumentSpan)}parseCallArguments(){if(this.next.isCharacter(41))return[];const positionals=[];do{positionals.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));return positionals}expectTemplateBindingKey(){let result="",operatorFound=!1;const start=this.currentAbsoluteOffset;do{result+=this.expectIdentifierOrKeywordOrString(),operatorFound=this.consumeOptionalOperator("-"),operatorFound&&(result+="-")}while(operatorFound);return{source:result,span:new AbsoluteSourceSpan(start,start+result.length)}}parseTemplateBindings(templateKey){const bindings=[];for(bindings.push(...this.parseDirectiveKeywordBindings(templateKey));this.index<this.tokens.length;){const letBinding=this.parseLetBinding();if(letBinding)bindings.push(letBinding);else{const key=this.expectTemplateBindingKey(),binding=this.parseAsBinding(key);binding?bindings.push(binding):(key.source=templateKey.source+key.source.charAt(0).toUpperCase()+key.source.substring(1),bindings.push(...this.parseDirectiveKeywordBindings(key)))}this.consumeStatementTerminator()}return new TemplateBindingParseResult(bindings,[],this.errors)}parseKeyedReadOrWrite(receiver,start,isSafe){return this.withContext(ParseContextFlags.Writable,()=>{this.rbracketsExpected++;const key=this.parsePipe();if(key instanceof EmptyExpr$1&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(93),!this.isAssignmentOperator(this.next))return isSafe?new SafeKeyedRead(this.span(start),this.sourceSpan(start),receiver,key):new KeyedRead(this.span(start),this.sourceSpan(start),receiver,key);{const operation=this.next.strValue;if(!isSafe){const binaryReceiver=new KeyedRead(this.span(start),this.sourceSpan(start),receiver,key);this.advance();const value=this.parseConditional();return new Binary(this.span(start),this.sourceSpan(start),operation,binaryReceiver,value)}this.advance(),this.error("The '?.' operator cannot be used in the assignment")}return new EmptyExpr$1(this.span(start),this.sourceSpan(start))})}parseDirectiveKeywordBindings(key){const bindings=[];this.consumeOptionalCharacter(58);const value=this.getDirectiveBoundTarget();let spanEnd=this.currentAbsoluteOffset;const asBinding=this.parseAsBinding(key);asBinding||(this.consumeStatementTerminator(),spanEnd=this.currentAbsoluteOffset);const sourceSpan=new AbsoluteSourceSpan(key.span.start,spanEnd);return bindings.push(new ExpressionBinding(sourceSpan,key,value)),asBinding&&bindings.push(asBinding),bindings}getDirectiveBoundTarget(){if(this.next===EOF||this.peekKeywordAs()||this.peekKeywordLet())return null;const ast=this.parsePipe(),{start,end}=ast.span,value=this.input.substring(start,end);return new ASTWithSource(ast,value,getLocation(this.parseSourceSpan),this.absoluteOffset+start,this.errors)}parseAsBinding(value){if(!this.peekKeywordAs())return null;this.advance();const key=this.expectTemplateBindingKey();this.consumeStatementTerminator();const sourceSpan=new AbsoluteSourceSpan(value.span.start,this.currentAbsoluteOffset);return new VariableBinding(sourceSpan,key,value)}parseLetBinding(){if(!this.peekKeywordLet())return null;const spanStart=this.currentAbsoluteOffset;this.advance();const key=this.expectTemplateBindingKey();let value=null;this.consumeOptionalOperator("=")&&(value=this.expectTemplateBindingKey()),this.consumeStatementTerminator();const sourceSpan=new AbsoluteSourceSpan(spanStart,this.currentAbsoluteOffset);return new VariableBinding(sourceSpan,key,value)}parseNoInterpolationTaggedTemplateLiteral(tag,start){const template=this.parseNoInterpolationTemplateLiteral();return new TaggedTemplateLiteral(this.span(start),this.sourceSpan(start),tag,template)}parseNoInterpolationTemplateLiteral(){const text=this.next.strValue,start=this.inputIndex;this.advance();const span=this.span(start),sourceSpan=this.sourceSpan(start);return new TemplateLiteral(span,sourceSpan,[new TemplateLiteralElement(span,sourceSpan,text)],[])}parseTaggedTemplateLiteral(tag,start){const template=this.parseTemplateLiteral();return new TaggedTemplateLiteral(this.span(start),this.sourceSpan(start),tag,template)}parseTemplateLiteral(){const elements=[],expressions=[],start=this.inputIndex;for(;this.next!==EOF;){const token=this.next;if(token.isTemplateLiteralPart()||token.isTemplateLiteralEnd()){const partStart=this.inputIndex;if(this.advance(),elements.push(new TemplateLiteralElement(this.span(partStart),this.sourceSpan(partStart),token.strValue)),token.isTemplateLiteralEnd())break}else if(token.isTemplateLiteralInterpolationStart()){this.advance(),this.rbracesExpected++;const expression=this.parsePipe();expression instanceof EmptyExpr$1?this.error("Template literal interpolation cannot be empty"):expressions.push(expression),this.rbracesExpected--}else this.advance()}return new TemplateLiteral(this.span(start),this.sourceSpan(start),elements,expressions)}consumeStatementTerminator(){this.consumeOptionalCharacter(59)||this.consumeOptionalCharacter(44)}error(message,index=this.index){this.errors.push(getParseError(message,this.input,this.getErrorLocationText(index),this.parseSourceSpan)),this.skip()}getErrorLocationText(index){return index<this.tokens.length?`at column ${this.tokens[index].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(token,extraMessage){let errorMessage=`Private identifiers are not supported. Unexpected private identifier: ${token}`;null!==extraMessage&&(errorMessage+=`, ${extraMessage}`),this.error(errorMessage)}skip(){let n=this.next;for(;!(!(this.index<this.tokens.length)||n.isCharacter(59)||n.isOperator("|")||!(this.rparensExpected<=0)&&n.isCharacter(41)||!(this.rbracesExpected<=0)&&n.isCharacter(125)||!(this.rbracketsExpected<=0)&&n.isCharacter(93)||this.context&ParseContextFlags.Writable&&this.isAssignmentOperator(n));)this.next.isError()&&this.errors.push(getParseError(this.next.toString(),this.input,this.getErrorLocationText(this.next.index),this.parseSourceSpan)),this.advance(),n=this.next}}function getParseError(message,input,locationText,parseSourceSpan){locationText.length>0&&(locationText=` ${locationText} `);const location=getLocation(parseSourceSpan);return new ParseError(parseSourceSpan,`Parser Error: ${message}${locationText}[${input}] in ${location}`)}class SimpleExpressionChecker extends RecursiveAstVisitor{errors=[];visitPipe(){this.errors.push("pipes")}}class SerializeExpressionVisitor{visitUnary(ast,context){return`${ast.operator}${ast.expr.visit(this,context)}`}visitBinary(ast,context){return`${ast.left.visit(this,context)} ${ast.operation} ${ast.right.visit(this,context)}`}visitChain(ast,context){return ast.expressions.map(e=>e.visit(this,context)).join("; ")}visitConditional(ast,context){return`${ast.condition.visit(this,context)} ? ${ast.trueExp.visit(this,context)} : ${ast.falseExp.visit(this,context)}`}visitThisReceiver(){return"this"}visitImplicitReceiver(){return""}visitInterpolation(ast,context){return function interleave(left,right){const result=[];for(let index=0;index<Math.max(left.length,right.length);index++)index<left.length&&result.push(left[index]),index<right.length&&result.push(right[index]);return result}(ast.strings,ast.expressions.map(e=>e.visit(this,context))).join("")}visitKeyedRead(ast,context){return`${ast.receiver.visit(this,context)}[${ast.key.visit(this,context)}]`}visitLiteralArray(ast,context){return`[${ast.expressions.map(e=>e.visit(this,context)).join(", ")}]`}visitLiteralMap(ast,context){return`{${function zip(left,right){if(left.length!==right.length)throw new Error("Array lengths must match");return left.map((l,i)=>[l,right[i]])}(ast.keys.map(literal=>literal.quoted?`'${literal.key}'`:literal.key),ast.values.map(value=>value.visit(this,context))).map(([key,value])=>`${key}: ${value}`).join(", ")}}`}visitLiteralPrimitive(ast){if(null===ast.value)return"null";switch(typeof ast.value){case"number":case"boolean":return ast.value.toString();case"undefined":return"undefined";case"string":return`'${ast.value.replace(/'/g,"\\'")}'`;default:throw new Error(`Unsupported primitive type: ${ast.value}`)}}visitPipe(ast,context){return`${ast.exp.visit(this,context)} | ${ast.name}`}visitPrefixNot(ast,context){return`!${ast.expression.visit(this,context)}`}visitNonNullAssert(ast,context){return`${ast.expression.visit(this,context)}!`}visitPropertyRead(ast,context){return ast.receiver instanceof ImplicitReceiver?ast.name:`${ast.receiver.visit(this,context)}.${ast.name}`}visitSafePropertyRead(ast,context){return`${ast.receiver.visit(this,context)}?.${ast.name}`}visitSafeKeyedRead(ast,context){return`${ast.receiver.visit(this,context)}?.[${ast.key.visit(this,context)}]`}visitCall(ast,context){return`${ast.receiver.visit(this,context)}(${ast.args.map(e=>e.visit(this,context)).join(", ")})`}visitSafeCall(ast,context){return`${ast.receiver.visit(this,context)}?.(${ast.args.map(e=>e.visit(this,context)).join(", ")})`}visitTypeofExpression(ast,context){return`typeof ${ast.expression.visit(this,context)}`}visitVoidExpression(ast,context){return`void ${ast.expression.visit(this,context)}`}visitASTWithSource(ast,context){return ast.ast.visit(this,context)}visitTemplateLiteral(ast,context){let result="";for(let i=0;i<ast.elements.length;i++){result+=ast.elements[i].visit(this,context);const expression=i<ast.expressions.length?ast.expressions[i]:null;null!==expression&&(result+="${"+expression.visit(this,context)+"}")}return"`"+result+"`"}visitTemplateLiteralElement(ast,context){return ast.text}visitTaggedTemplateLiteral(ast,context){return ast.tag.visit(this,context)+ast.template.visit(this,context)}visitParenthesizedExpression(ast,context){return"("+ast.expression.visit(this,context)+")"}}let _SECURITY_SCHEMA;function SECURITY_SCHEMA(){return _SECURITY_SCHEMA||(_SECURITY_SCHEMA={},registerContext(SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),registerContext(SecurityContext.STYLE,["*|style"]),registerContext(SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|xlink:href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src","annotation|href","annotation|xlink:href","annotation-xml|href","annotation-xml|xlink:href","maction|href","maction|xlink:href","malignmark|href","malignmark|xlink:href","math|href","math|xlink:href","mroot|href","mroot|xlink:href","msqrt|href","msqrt|xlink:href","merror|href","merror|xlink:href","mfrac|href","mfrac|xlink:href","mglyph|href","mglyph|xlink:href","msub|href","msub|xlink:href","msup|href","msup|xlink:href","msubsup|href","msubsup|xlink:href","mmultiscripts|href","mmultiscripts|xlink:href","mprescripts|href","mprescripts|xlink:href","mi|href","mi|xlink:href","mn|href","mn|xlink:href","mo|href","mo|xlink:href","mpadded|href","mpadded|xlink:href","mphantom|href","mphantom|xlink:href","mrow|href","mrow|xlink:href","ms|href","ms|xlink:href","mspace|href","mspace|xlink:href","mstyle|href","mstyle|xlink:href","mtable|href","mtable|xlink:href","mtd|href","mtd|xlink:href","mtr|href","mtr|xlink:href","mtext|href","mtext|xlink:href","mover|href","mover|xlink:href","munder|href","munder|xlink:href","munderover|href","munderover|xlink:href","semantics|href","semantics|xlink:href","none|href","none|xlink:href"]),registerContext(SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"]),registerContext(SecurityContext.ATTRIBUTE_NO_BINDING,["animate|attributeName","set|attributeName","animateMotion|attributeName","animateTransform|attributeName","unknown|attributeName","iframe|sandbox","iframe|allow","iframe|allowFullscreen","iframe|referrerPolicy","iframe|csp","iframe|fetchPriority","unknown|sandbox","unknown|allow","unknown|allowFullscreen","unknown|referrerPolicy","unknown|csp","unknown|fetchPriority"])),_SECURITY_SCHEMA}function registerContext(ctx,specs){for(const spec of specs)_SECURITY_SCHEMA[spec.toLowerCase()]=ctx}class ElementSchemaRegistry{}const SCHEMA=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaInvalid,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,search,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","selectedcontent^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","search^[HTMLELement]|","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|",":math:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforeinput,*beforematch,*beforetoggle,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contentvisibilityautostatechange,*contextlost,*contextmenu,*contextrestored,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*scrollend,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":math:math^:math:|",":math:maction^:math:|",":math:menclose^:math:|",":math:merror^:math:|",":math:mfenced^:math:|",":math:mfrac^:math:|",":math:mi^:math:|",":math:mmultiscripts^:math:|",":math:mn^:math:|",":math:mo^:math:|",":math:mover^:math:|",":math:mpadded^:math:|",":math:mphantom^:math:|",":math:mroot^:math:|",":math:mrow^:math:|",":math:ms^:math:|",":math:mspace^:math:|",":math:msqrt^:math:|",":math:mstyle^:math:|",":math:msub^:math:|",":math:msubsup^:math:|",":math:msup^:math:|",":math:mtable^:math:|",":math:mtd^:math:|",":math:mtext^:math:|",":math:mtr^:math:|",":math:munder^:math:|",":math:munderover^:math:|",":math:semantics^:math:|"],_ATTR_TO_PROP=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex","aria-atomic":"ariaAtomic","aria-autocomplete":"ariaAutoComplete","aria-busy":"ariaBusy","aria-checked":"ariaChecked","aria-colcount":"ariaColCount","aria-colindex":"ariaColIndex","aria-colspan":"ariaColSpan","aria-current":"ariaCurrent","aria-disabled":"ariaDisabled","aria-expanded":"ariaExpanded","aria-haspopup":"ariaHasPopup","aria-hidden":"ariaHidden","aria-invalid":"ariaInvalid","aria-keyshortcuts":"ariaKeyShortcuts","aria-label":"ariaLabel","aria-level":"ariaLevel","aria-live":"ariaLive","aria-modal":"ariaModal","aria-multiline":"ariaMultiLine","aria-multiselectable":"ariaMultiSelectable","aria-orientation":"ariaOrientation","aria-placeholder":"ariaPlaceholder","aria-posinset":"ariaPosInSet","aria-pressed":"ariaPressed","aria-readonly":"ariaReadOnly","aria-required":"ariaRequired","aria-roledescription":"ariaRoleDescription","aria-rowcount":"ariaRowCount","aria-rowindex":"ariaRowIndex","aria-rowspan":"ariaRowSpan","aria-selected":"ariaSelected","aria-setsize":"ariaSetSize","aria-sort":"ariaSort","aria-valuemax":"ariaValueMax","aria-valuemin":"ariaValueMin","aria-valuenow":"ariaValueNow","aria-valuetext":"ariaValueText"})),_PROP_TO_ATTR=Array.from(_ATTR_TO_PROP).reduce((inverted,[propertyName,attributeName])=>(inverted.set(propertyName,attributeName),inverted),new Map);class DomElementSchemaRegistry extends ElementSchemaRegistry{_schema=new Map;_eventSchema=new Map;constructor(){super(),SCHEMA.forEach(encodedType=>{const type=new Map,events=new Set,[strType,strProperties]=encodedType.split("|"),properties=strProperties.split(","),[typeNames,superName]=strType.split("^");typeNames.split(",").forEach(tag=>{this._schema.set(tag.toLowerCase(),type),this._eventSchema.set(tag.toLowerCase(),events)});const superType=superName&&this._schema.get(superName.toLowerCase());if(superType){for(const[prop,value]of superType)type.set(prop,value);for(const superEvent of this._eventSchema.get(superName.toLowerCase()))events.add(superEvent)}properties.forEach(property=>{if(property.length>0)switch(property[0]){case"*":events.add(property.substring(1));break;case"!":type.set(property.substring(1),"boolean");break;case"#":type.set(property.substring(1),"number");break;case"%":type.set(property.substring(1),"object");break;default:type.set(property,"string")}})})}hasProperty(tagName,propName,schemaMetas){if(schemaMetas.some(schema=>schema.name===NO_ERRORS_SCHEMA.name))return!0;if(tagName.indexOf("-")>-1){if(isNgContainer(tagName)||isNgContent(tagName))return!1;if(schemaMetas.some(schema=>schema.name===CUSTOM_ELEMENTS_SCHEMA.name))return!0}return(this._schema.get(tagName.toLowerCase())||this._schema.get("unknown")).has(propName)}hasElement(tagName,schemaMetas){if(schemaMetas.some(schema=>schema.name===NO_ERRORS_SCHEMA.name))return!0;if(tagName.indexOf("-")>-1){if(isNgContainer(tagName)||isNgContent(tagName))return!0;if(schemaMetas.some(schema=>schema.name===CUSTOM_ELEMENTS_SCHEMA.name))return!0}return this._schema.has(tagName.toLowerCase())}securityContext(tagName,propName,isAttribute){isAttribute&&(propName=this.getMappedPropName(propName)),tagName=tagName.toLowerCase(),propName=propName.toLowerCase();let ctx=SECURITY_SCHEMA()[tagName+"|"+propName];return ctx||(ctx=SECURITY_SCHEMA()["*|"+propName],ctx||SecurityContext.NONE)}getMappedPropName(propName){return _ATTR_TO_PROP.get(propName)??propName}getDefaultComponentElementName(){return"ng-component"}validateProperty(name){if(name.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event property '${name}' is disallowed for security reasons, please use (${name.slice(2)})=...\nIf '${name}' is a directive input, make sure the directive is imported by the current module.`}}return{error:!1}}validateAttribute(name){if(name.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event attribute '${name}' is disallowed for security reasons, please use (${name.slice(2)})=...`}}return{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(tagName){const elementProperties=this._schema.get(tagName.toLowerCase())||this._schema.get("unknown");return Array.from(elementProperties.keys()).map(prop=>_PROP_TO_ATTR.get(prop)??prop)}allKnownEventsOfElement(tagName){return Array.from(this._eventSchema.get(tagName.toLowerCase())??[])}normalizeAnimationStyleProperty(propName){return function dashCaseToCamelCase(input){return input.replace(DASH_CASE_REGEXP,(...m)=>m[1].toUpperCase())}(propName)}normalizeAnimationStyleValue(camelCaseProp,userProvidedProp,val){let unit="";const strVal=val.toString().trim();let errorMsg=null;if(function _isPixelDimensionStyle(prop){switch(prop){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(camelCaseProp)&&0!==val&&"0"!==val)if("number"==typeof val)unit="px";else{const valAndSuffixMatch=val.match(/^[+-]?[\d\.]+([a-z]*)$/);valAndSuffixMatch&&0==valAndSuffixMatch[1].length&&(errorMsg=`Please provide a CSS unit value for ${userProvidedProp}:${val}`)}return{error:errorMsg,value:strVal+unit}}}class HtmlTagDefinition{closedByChildren={};contentType;closedByParent=!1;implicitNamespacePrefix;isVoid;ignoreFirstLf;canSelfClose;preventNamespaceInheritance;constructor({closedByChildren,implicitNamespacePrefix,contentType=TagContentType.PARSABLE_DATA,closedByParent=!1,isVoid=!1,ignoreFirstLf=!1,preventNamespaceInheritance=!1,canSelfClose=!1}={}){closedByChildren&&closedByChildren.length>0&&closedByChildren.forEach(tagName=>this.closedByChildren[tagName]=!0),this.isVoid=isVoid,this.closedByParent=closedByParent||isVoid,this.implicitNamespacePrefix=implicitNamespacePrefix||null,this.contentType=contentType,this.ignoreFirstLf=ignoreFirstLf,this.preventNamespaceInheritance=preventNamespaceInheritance,this.canSelfClose=canSelfClose??isVoid}isClosedByChild(name){return this.isVoid||name.toLowerCase()in this.closedByChildren}getContentType(prefix){if("object"==typeof this.contentType){return(void 0===prefix?void 0:this.contentType[prefix])??this.contentType.default}return this.contentType}}let DEFAULT_TAG_DEFINITION,TAG_DEFINITIONS;function getHtmlTagDefinition(tagName){return TAG_DEFINITIONS||(DEFAULT_TAG_DEFINITION=new HtmlTagDefinition({canSelfClose:!0}),TAG_DEFINITIONS=Object.assign(Object.create(null),{base:new HtmlTagDefinition({isVoid:!0}),meta:new HtmlTagDefinition({isVoid:!0}),area:new HtmlTagDefinition({isVoid:!0}),embed:new HtmlTagDefinition({isVoid:!0}),link:new HtmlTagDefinition({isVoid:!0}),img:new HtmlTagDefinition({isVoid:!0}),input:new HtmlTagDefinition({isVoid:!0}),param:new HtmlTagDefinition({isVoid:!0}),hr:new HtmlTagDefinition({isVoid:!0}),br:new HtmlTagDefinition({isVoid:!0}),source:new HtmlTagDefinition({isVoid:!0}),track:new HtmlTagDefinition({isVoid:!0}),wbr:new HtmlTagDefinition({isVoid:!0}),p:new HtmlTagDefinition({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"]}),tbody:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new HtmlTagDefinition({closedByChildren:["tbody"],closedByParent:!0}),tr:new HtmlTagDefinition({closedByChildren:["tr"],closedByParent:!0}),td:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),th:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),col:new HtmlTagDefinition({isVoid:!0}),svg:new HtmlTagDefinition({implicitNamespacePrefix:"svg"}),foreignObject:new HtmlTagDefinition({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new HtmlTagDefinition({implicitNamespacePrefix:"math"}),li:new HtmlTagDefinition({closedByChildren:["li"],closedByParent:!0}),dt:new HtmlTagDefinition({closedByChildren:["dt","dd"]}),dd:new HtmlTagDefinition({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new HtmlTagDefinition({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new HtmlTagDefinition({closedByChildren:["optgroup"],closedByParent:!0}),option:new HtmlTagDefinition({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new HtmlTagDefinition({ignoreFirstLf:!0}),listing:new HtmlTagDefinition({ignoreFirstLf:!0}),style:new HtmlTagDefinition({contentType:TagContentType.RAW_TEXT}),script:new HtmlTagDefinition({contentType:TagContentType.RAW_TEXT}),title:new HtmlTagDefinition({contentType:{default:TagContentType.ESCAPABLE_RAW_TEXT,svg:TagContentType.PARSABLE_DATA}}),textarea:new HtmlTagDefinition({contentType:TagContentType.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),(new DomElementSchemaRegistry).allKnownElementNames().forEach(knownTagName=>{TAG_DEFINITIONS[knownTagName]||null!==getNsPrefix(knownTagName)||(TAG_DEFINITIONS[knownTagName]=new HtmlTagDefinition({canSelfClose:!1}))})),TAG_DEFINITIONS[tagName]??TAG_DEFINITIONS[tagName.toLowerCase()]??DEFAULT_TAG_DEFINITION}const TAG_TO_PLACEHOLDER_NAMES={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"};class PlaceholderRegistry{_placeHolderNameCounts={};_signatureToName={};getStartTagPlaceholderName(tag,attrs,isVoid){const signature=this._hashTag(tag,attrs,isVoid);if(this._signatureToName[signature])return this._signatureToName[signature];const upperTag=tag.toUpperCase(),baseName=TAG_TO_PLACEHOLDER_NAMES[upperTag]||`TAG_${upperTag}`,name=this._generateUniqueName(isVoid?baseName:`START_${baseName}`);return this._signatureToName[signature]=name,name}getCloseTagPlaceholderName(tag){const signature=this._hashClosingTag(tag);if(this._signatureToName[signature])return this._signatureToName[signature];const upperTag=tag.toUpperCase(),baseName=TAG_TO_PLACEHOLDER_NAMES[upperTag]||`TAG_${upperTag}`,name=this._generateUniqueName(`CLOSE_${baseName}`);return this._signatureToName[signature]=name,name}getPlaceholderName(name,content){const upperName=name.toUpperCase(),signature=`PH: ${upperName}=${content}`;if(this._signatureToName[signature])return this._signatureToName[signature];const uniqueName=this._generateUniqueName(upperName);return this._signatureToName[signature]=uniqueName,uniqueName}getUniquePlaceholder(name){return this._generateUniqueName(name.toUpperCase())}getStartBlockPlaceholderName(name,parameters){const signature=this._hashBlock(name,parameters);if(this._signatureToName[signature])return this._signatureToName[signature];const placeholder=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(name)}`);return this._signatureToName[signature]=placeholder,placeholder}getCloseBlockPlaceholderName(name){const signature=this._hashClosingBlock(name);if(this._signatureToName[signature])return this._signatureToName[signature];const placeholder=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(name)}`);return this._signatureToName[signature]=placeholder,placeholder}_hashTag(tag,attrs,isVoid){return`<${tag}`+Object.keys(attrs).sort().map(name=>` ${name}=${attrs[name]}`).join("")+(isVoid?"/>":`></${tag}>`)}_hashClosingTag(tag){return this._hashTag(`/${tag}`,{},!1)}_hashBlock(name,parameters){return`@${name}${0===parameters.length?"":` (${parameters.sort().join("; ")})`} {}`}_hashClosingBlock(name){return this._hashBlock(`close_${name}`,[])}_toSnakeCase(name){return name.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(base){if(!this._placeHolderNameCounts.hasOwnProperty(base))return this._placeHolderNameCounts[base]=1,base;const id=this._placeHolderNameCounts[base];return this._placeHolderNameCounts[base]=id+1,`${base}_${id}`}}const _expParser=new Parser(new Lexer);function createI18nMessageFactory(interpolationConfig,containerBlocks,retainEmptyTokens,preserveExpressionWhitespace){const visitor=new _I18nVisitor(_expParser,interpolationConfig,containerBlocks,retainEmptyTokens,preserveExpressionWhitespace);return(nodes,meaning,description,customId,visitNodeFn)=>visitor.toI18nMessage(nodes,meaning,description,customId,visitNodeFn)}function noopVisitNodeFn(_html,i18n){return i18n}class _I18nVisitor{_expressionParser;_interpolationConfig;_containerBlocks;_retainEmptyTokens;_preserveExpressionWhitespace;constructor(_expressionParser,_interpolationConfig,_containerBlocks,_retainEmptyTokens,_preserveExpressionWhitespace){this._expressionParser=_expressionParser,this._interpolationConfig=_interpolationConfig,this._containerBlocks=_containerBlocks,this._retainEmptyTokens=_retainEmptyTokens,this._preserveExpressionWhitespace=_preserveExpressionWhitespace}toI18nMessage(nodes,meaning="",description="",customId="",visitNodeFn){const context={isIcu:1==nodes.length&&nodes[0]instanceof Expansion,icuDepth:0,placeholderRegistry:new PlaceholderRegistry,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:visitNodeFn||noopVisitNodeFn},i18nodes=visitAll(this,nodes,context);return new Message(i18nodes,context.placeholderToContent,context.placeholderToMessage,meaning,description,customId)}visitElement(el,context){return this._visitElementLike(el,context)}visitComponent(component,context){return this._visitElementLike(component,context)}visitDirective(directive,context){throw new Error("Unreachable code")}visitAttribute(attribute,context){const node=void 0===attribute.valueTokens||1===attribute.valueTokens.length?new Text$2(attribute.value,attribute.valueSpan||attribute.sourceSpan):this._visitTextWithInterpolation(attribute.valueTokens,attribute.valueSpan||attribute.sourceSpan,context,attribute.i18n);return context.visitNodeFn(attribute,node)}visitText(text,context){const node=1===text.tokens.length?new Text$2(text.value,text.sourceSpan):this._visitTextWithInterpolation(text.tokens,text.sourceSpan,context,text.i18n);return context.visitNodeFn(text,node)}visitComment(comment,context){return null}visitExpansion(icu,context){context.icuDepth++;const i18nIcuCases={},i18nIcu=new Icu(icu.switchValue,icu.type,i18nIcuCases,icu.sourceSpan);if(icu.cases.forEach(caze=>{i18nIcuCases[caze.value]=new Container(caze.expression.map(node=>node.visit(this,context)),caze.expSourceSpan)}),context.icuDepth--,context.isIcu||context.icuDepth>0){const expPh=context.placeholderRegistry.getUniquePlaceholder(`VAR_${icu.type}`);return i18nIcu.expressionPlaceholder=expPh,context.placeholderToContent[expPh]={text:icu.switchValue,sourceSpan:icu.switchValueSourceSpan},context.visitNodeFn(icu,i18nIcu)}const phName=context.placeholderRegistry.getPlaceholderName("ICU",icu.sourceSpan.toString());context.placeholderToMessage[phName]=this.toI18nMessage([icu],"","","",void 0);const node=new IcuPlaceholder(i18nIcu,phName,icu.sourceSpan);return context.visitNodeFn(icu,node)}visitExpansionCase(_icuCase,_context){throw new Error("Unreachable code")}visitBlock(block,context){const children=visitAll(this,block.children,context);if(this._containerBlocks.has(block.name))return new Container(children,block.sourceSpan);const parameters=block.parameters.map(param=>param.expression),startPhName=context.placeholderRegistry.getStartBlockPlaceholderName(block.name,parameters),closePhName=context.placeholderRegistry.getCloseBlockPlaceholderName(block.name);context.placeholderToContent[startPhName]={text:block.startSourceSpan.toString(),sourceSpan:block.startSourceSpan},context.placeholderToContent[closePhName]={text:block.endSourceSpan?block.endSourceSpan.toString():"}",sourceSpan:block.endSourceSpan??block.sourceSpan};const node=new BlockPlaceholder(block.name,parameters,startPhName,closePhName,children,block.sourceSpan,block.startSourceSpan,block.endSourceSpan);return context.visitNodeFn(block,node)}visitBlockParameter(_parameter,_context){throw new Error("Unreachable code")}visitLetDeclaration(decl,context){return null}_visitElementLike(node,context){const children=visitAll(this,node.children,context),attrs={},visitAttribute=attr=>{attrs[attr.name]=attr.value};let nodeName,isVoid;node instanceof Element?(nodeName=node.name,isVoid=getHtmlTagDefinition(node.name).isVoid):(nodeName=node.fullName,isVoid=!!node.tagName&&getHtmlTagDefinition(node.tagName).isVoid),node.attrs.forEach(visitAttribute),node.directives.forEach(dir=>dir.attrs.forEach(visitAttribute));const startPhName=context.placeholderRegistry.getStartTagPlaceholderName(nodeName,attrs,isVoid);context.placeholderToContent[startPhName]={text:node.startSourceSpan.toString(),sourceSpan:node.startSourceSpan};let closePhName="";isVoid||(closePhName=context.placeholderRegistry.getCloseTagPlaceholderName(nodeName),context.placeholderToContent[closePhName]={text:`</${nodeName}>`,sourceSpan:node.endSourceSpan??node.sourceSpan});const i18nNode=new TagPlaceholder(nodeName,attrs,startPhName,closePhName,children,isVoid,node.sourceSpan,node.startSourceSpan,node.endSourceSpan);return context.visitNodeFn(node,i18nNode)}_visitTextWithInterpolation(tokens,sourceSpan,context,previousI18n){const nodes=[];let hasInterpolation=!1;for(const token of tokens)switch(token.type){case 8:case 17:hasInterpolation=!0;const[startMarker,expression,endMarker]=token.parts,baseName=extractPlaceholderName(expression)||"INTERPOLATION",phName=context.placeholderRegistry.getPlaceholderName(baseName,expression);if(this._preserveExpressionWhitespace)context.placeholderToContent[phName]={text:token.parts.join(""),sourceSpan:token.sourceSpan},nodes.push(new Placeholder(expression,phName,token.sourceSpan));else{const normalized=this.normalizeExpression(token);context.placeholderToContent[phName]={text:`${startMarker}${normalized}${endMarker}`,sourceSpan:token.sourceSpan},nodes.push(new Placeholder(normalized,phName,token.sourceSpan))}break;default:if(token.parts[0].length>0||this._retainEmptyTokens){const previous=nodes[nodes.length-1];previous instanceof Text$2?(previous.value+=token.parts[0],previous.sourceSpan=new ParseSourceSpan(previous.sourceSpan.start,token.sourceSpan.end,previous.sourceSpan.fullStart,previous.sourceSpan.details)):nodes.push(new Text$2(token.parts[0],token.sourceSpan))}else this._retainEmptyTokens&&nodes.push(new Text$2(token.parts[0],token.sourceSpan))}return hasInterpolation?(function reusePreviousSourceSpans(nodes,previousI18n){previousI18n instanceof Message&&(!function assertSingleContainerMessage(message){const nodes=message.nodes;if(1!==nodes.length||!(nodes[0]instanceof Container))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}(previousI18n),previousI18n=previousI18n.nodes[0]);if(previousI18n instanceof Container){!function assertEquivalentNodes(previousNodes,nodes){if(previousNodes.length!==nodes.length)throw new Error(`\nThe number of i18n message children changed between first and second pass.\n\nFirst pass (${previousNodes.length} tokens):\n${previousNodes.map(node=>`"${node.sourceSpan.toString()}"`).join("\n")}\n\nSecond pass (${nodes.length} tokens):\n${nodes.map(node=>`"${node.sourceSpan.toString()}"`).join("\n")}\n    `.trim());if(previousNodes.some((node,i)=>nodes[i].constructor!==node.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}(previousI18n.children,nodes);for(let i=0;i<nodes.length;i++)nodes[i].sourceSpan=previousI18n.children[i].sourceSpan}}(nodes,previousI18n),new Container(nodes,sourceSpan)):nodes[0]}normalizeExpression(token){const expression=token.parts[1];return function serialize(expression){return expression.visit(new SerializeExpressionVisitor)}(this._expressionParser.parseBinding(expression,token.sourceSpan,token.sourceSpan.start.offset,this._interpolationConfig))}}const _CUSTOM_PH_EXP=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function extractPlaceholderName(input){return input.split(_CUSTOM_PH_EXP)[2]}const TRUSTED_TYPES_SINKS=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function isTrustedTypesSink(tagName,propName){return tagName=tagName.toLowerCase(),propName=propName.toLowerCase(),TRUSTED_TYPES_SINKS.has(tagName+"|"+propName)||TRUSTED_TYPES_SINKS.has("*|"+propName)}const setI18nRefs=originalNodeMap=>(trimmedNode,i18nNode)=>{const originalNode=originalNodeMap.get(trimmedNode)??trimmedNode;return originalNode instanceof NodeWithI18n&&(i18nNode instanceof IcuPlaceholder&&originalNode.i18n instanceof Message&&(i18nNode.previousMessage=originalNode.i18n),originalNode.i18n=i18nNode),i18nNode};class I18nMetaVisitor{interpolationConfig;keepI18nAttrs;enableI18nLegacyMessageIdFormat;containerBlocks;preserveSignificantWhitespace;retainEmptyTokens;hasI18nMeta=!1;_errors=[];constructor(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG,keepI18nAttrs=!1,enableI18nLegacyMessageIdFormat=!1,containerBlocks=DEFAULT_CONTAINER_BLOCKS,preserveSignificantWhitespace=!0,retainEmptyTokens=!preserveSignificantWhitespace){this.interpolationConfig=interpolationConfig,this.keepI18nAttrs=keepI18nAttrs,this.enableI18nLegacyMessageIdFormat=enableI18nLegacyMessageIdFormat,this.containerBlocks=containerBlocks,this.preserveSignificantWhitespace=preserveSignificantWhitespace,this.retainEmptyTokens=retainEmptyTokens}_generateI18nMessage(nodes,meta="",visitNodeFn){const{meaning,description,customId}=this._parseMetadata(meta),message=createI18nMessageFactory(this.interpolationConfig,this.containerBlocks,this.retainEmptyTokens,this.preserveSignificantWhitespace)(nodes,meaning,description,customId,visitNodeFn);return this._setMessageId(message,meta),this._setLegacyIds(message,meta),message}visitAllWithErrors(nodes){const result=nodes.map(node=>node.visit(this,null));return new ParseTreeResult(result,this._errors)}visitElement(element){return this._visitElementLike(element),element}visitComponent(component,context){return this._visitElementLike(component),component}visitExpansion(expansion,currentMessage){let message;const meta=expansion.i18n;if(this.hasI18nMeta=!0,meta instanceof IcuPlaceholder){const name=meta.name;message=this._generateI18nMessage([expansion],meta);icuFromI18nMessage(message).name=name,null!==currentMessage&&(currentMessage.placeholderToMessage[name]=message)}else message=this._generateI18nMessage([expansion],currentMessage||meta);return expansion.i18n=message,expansion}visitText(text){return text}visitAttribute(attribute){return attribute}visitComment(comment){return comment}visitExpansionCase(expansionCase){return expansionCase}visitBlock(block,context){return visitAll(this,block.children,context),block}visitBlockParameter(parameter,context){return parameter}visitLetDeclaration(decl,context){return decl}visitDirective(directive,context){return directive}_visitElementLike(node){let message;if(function hasI18nAttrs(node){return node.attrs.some(attr=>isI18nAttribute(attr.name))}(node)){this.hasI18nMeta=!0;const attrs=[],attrsMeta={};for(const attr of node.attrs)if("i18n"===attr.name){const i18n=node.i18n||attr.value,originalNodeMap=new Map,trimmedNodes=this.preserveSignificantWhitespace?node.children:visitAllWithSiblings(new WhitespaceVisitor(!1,originalNodeMap),node.children);message=this._generateI18nMessage(trimmedNodes,i18n,setI18nRefs(originalNodeMap)),0===message.nodes.length&&(message=void 0),node.i18n=message}else if(attr.name.startsWith("i18n-")){const name=attr.name.slice(5);let isTrustedType;isTrustedType=node instanceof Component?null!==node.tagName&&isTrustedTypesSink(node.tagName,name):isTrustedTypesSink(node.name,name),isTrustedType?this._reportError(attr,`Translating attribute '${name}' is disallowed for security reasons.`):attrsMeta[name]=attr.value}else attrs.push(attr);if(Object.keys(attrsMeta).length)for(const attr of attrs){const meta=attrsMeta[attr.name];void 0!==meta&&attr.value&&(attr.i18n=this._generateI18nMessage([attr],attr.i18n||meta))}this.keepI18nAttrs||(node.attrs=attrs)}visitAll(this,node.children,message)}_parseMetadata(meta){return"string"==typeof meta?function parseI18nMeta(meta=""){let customId,meaning,description;if(meta=meta.trim(),meta){const idIndex=meta.indexOf(I18N_ID_SEPARATOR),descIndex=meta.indexOf(I18N_MEANING_SEPARATOR);let meaningAndDesc;[meaningAndDesc,customId]=idIndex>-1?[meta.slice(0,idIndex),meta.slice(idIndex+2)]:[meta,""],[meaning,description]=descIndex>-1?[meaningAndDesc.slice(0,descIndex),meaningAndDesc.slice(descIndex+1)]:["",meaningAndDesc]}return{customId,meaning,description}}(meta):meta instanceof Message?meta:{}}_setMessageId(message,meta){message.id||(message.id=meta instanceof Message&&meta.id||decimalDigest(message))}_setLegacyIds(message,meta){if(this.enableI18nLegacyMessageIdFormat)message.legacyIds=[computeDigest(message),computeDecimalDigest(message)];else if("string"!=typeof meta){const previousMessage=meta instanceof Message?meta:meta instanceof IcuPlaceholder?meta.previousMessage:void 0;message.legacyIds=previousMessage?previousMessage.legacyIds:[]}}_reportError(node,msg){this._errors.push(new ParseError(node.sourceSpan,msg))}}const I18N_MEANING_SEPARATOR="|",I18N_ID_SEPARATOR="@@";function createGoogleGetMsgStatements(variable$1,message,closureVar,placeholderValues){const messageString=function serializeI18nMessageForGetMsg(message){return message.nodes.map(node=>node.visit(serializerVisitor,null)).join("")}(message),args=[literal(messageString)];Object.keys(placeholderValues).length&&(args.push(mapLiteral(formatI18nPlaceholderNamesInMap(placeholderValues,!0),!0)),args.push(mapLiteral({original_code:literalMap(Object.keys(placeholderValues).map(param=>({key:formatI18nPlaceholderName(param),quoted:!0,value:message.placeholders[param]?literal(message.placeholders[param].sourceSpan.toString()):literal(message.placeholderToMessage[param].nodes.map(node=>node.sourceSpan.toString()).join(""))})))})));const googGetMsgStmt=new DeclareVarStmt(closureVar.name,variable("goog.getMsg").callFn(args),INFERRED_TYPE,StmtModifier.Final);googGetMsgStmt.addLeadingComment(function i18nMetaToJSDoc(meta){const tags=[];return meta.description?tags.push({tagName:"desc",text:meta.description}):tags.push({tagName:"suppress",text:"{msgDescriptions}"}),meta.meaning&&tags.push({tagName:"meaning",text:meta.meaning}),jsDocComment(tags)}(message));return[googGetMsgStmt,new ExpressionStatement(variable$1.set(closureVar))]}const serializerVisitor=new class GetMsgSerializerVisitor{formatPh(value){return`{$${formatI18nPlaceholderName(value)}}`}visitText(text){return text.value}visitContainer(container){return container.children.map(child=>child.visit(this)).join("")}visitIcu(icu){return serializeIcuNode(icu)}visitTagPlaceholder(ph){return ph.isVoid?this.formatPh(ph.startName):`${this.formatPh(ph.startName)}${ph.children.map(child=>child.visit(this)).join("")}${this.formatPh(ph.closeName)}`}visitPlaceholder(ph){return this.formatPh(ph.name)}visitBlockPlaceholder(ph){return`${this.formatPh(ph.startName)}${ph.children.map(child=>child.visit(this)).join("")}${this.formatPh(ph.closeName)}`}visitIcuPlaceholder(ph,context){return this.formatPh(ph.name)}};function createLocalizeStatements(variable,message,params){const{messageParts,placeHolders}=function serializeI18nMessageForLocalize(message){const pieces=[],serializerVisitor=new LocalizeSerializerVisitor(message.placeholderToMessage,pieces);return message.nodes.forEach(node=>node.visit(serializerVisitor)),function processMessagePieces(pieces){const messageParts=[],placeHolders=[];pieces[0]instanceof PlaceholderPiece&&messageParts.push(createEmptyMessagePart(pieces[0].sourceSpan.start));for(let i=0;i<pieces.length;i++){const part=pieces[i];part instanceof LiteralPiece?messageParts.push(part):(placeHolders.push(part),pieces[i-1]instanceof PlaceholderPiece&&messageParts.push(createEmptyMessagePart(pieces[i-1].sourceSpan.end)))}pieces[pieces.length-1]instanceof PlaceholderPiece&&messageParts.push(createEmptyMessagePart(pieces[pieces.length-1].sourceSpan.end));return{messageParts,placeHolders}}(pieces)}(message),sourceSpan=function getSourceSpan(message){const startNode=message.nodes[0],endNode=message.nodes[message.nodes.length-1];return new ParseSourceSpan(startNode.sourceSpan.fullStart,endNode.sourceSpan.end,startNode.sourceSpan.fullStart,startNode.sourceSpan.details)}(message),expressions=placeHolders.map(ph=>params[ph.text]),localizedString$1=localizedString(message,messageParts,placeHolders,expressions,sourceSpan),variableInitialization=variable.set(localizedString$1);return[new ExpressionStatement(variableInitialization)]}class LocalizeSerializerVisitor{placeholderToMessage;pieces;constructor(placeholderToMessage,pieces){this.placeholderToMessage=placeholderToMessage,this.pieces=pieces}visitText(text){if(this.pieces[this.pieces.length-1]instanceof LiteralPiece)this.pieces[this.pieces.length-1].text+=text.value;else{const sourceSpan=new ParseSourceSpan(text.sourceSpan.fullStart,text.sourceSpan.end,text.sourceSpan.fullStart,text.sourceSpan.details);this.pieces.push(new LiteralPiece(text.value,sourceSpan))}}visitContainer(container){container.children.forEach(child=>child.visit(this))}visitIcu(icu){this.pieces.push(new LiteralPiece(serializeIcuNode(icu),icu.sourceSpan))}visitTagPlaceholder(ph){this.pieces.push(this.createPlaceholderPiece(ph.startName,ph.startSourceSpan??ph.sourceSpan)),ph.isVoid||(ph.children.forEach(child=>child.visit(this)),this.pieces.push(this.createPlaceholderPiece(ph.closeName,ph.endSourceSpan??ph.sourceSpan)))}visitPlaceholder(ph){this.pieces.push(this.createPlaceholderPiece(ph.name,ph.sourceSpan))}visitBlockPlaceholder(ph){this.pieces.push(this.createPlaceholderPiece(ph.startName,ph.startSourceSpan??ph.sourceSpan)),ph.children.forEach(child=>child.visit(this)),this.pieces.push(this.createPlaceholderPiece(ph.closeName,ph.endSourceSpan??ph.sourceSpan))}visitIcuPlaceholder(ph){this.pieces.push(this.createPlaceholderPiece(ph.name,ph.sourceSpan,this.placeholderToMessage[ph.name]))}createPlaceholderPiece(name,sourceSpan,associatedMessage){return new PlaceholderPiece(formatI18nPlaceholderName(name,!1),sourceSpan,associatedMessage)}}function createEmptyMessagePart(location){return new LiteralPiece("",new ParseSourceSpan(location,location))}function getTranslationConstPrefix(extra){return`MSG_${extra}`.toUpperCase()}function declareI18nVariable(variable){return new DeclareVarStmt(variable.name,void 0,INFERRED_TYPE,void 0,variable.sourceSpan)}function collectMessage(job,fileBasedI18nSuffix,messages,messageOp){const statements=[],subMessagePlaceholders=new Map;for(const subMessageId of messageOp.subMessages){const subMessage=messages.get(subMessageId),{mainVar:subMessageVar,statements:subMessageStatements}=collectMessage(job,fileBasedI18nSuffix,messages,subMessage);statements.push(...subMessageStatements);const subMessages=subMessagePlaceholders.get(subMessage.messagePlaceholder)??[];subMessages.push(subMessageVar),subMessagePlaceholders.set(subMessage.messagePlaceholder,subMessages)}!function addSubMessageParams(messageOp,subMessagePlaceholders){for(const[placeholder,subMessages]of subMessagePlaceholders)1===subMessages.length?messageOp.params.set(placeholder,subMessages[0]):(messageOp.params.set(placeholder,literal(`�I18N_EXP_${placeholder}�`)),messageOp.postprocessingParams.set(placeholder,literalArr(subMessages)))}(messageOp,subMessagePlaceholders),messageOp.params=new Map([...messageOp.params.entries()].sort());const mainVar=variable(job.pool.uniqueName("i18n_")),closureVar=function i18nGenerateClosureVar(pool,messageId,fileBasedI18nSuffix,useExternalIds){let name;const suffix=fileBasedI18nSuffix;if(useExternalIds){const prefix=getTranslationConstPrefix("EXTERNAL_"),uniqueSuffix=pool.uniqueName(suffix);name=`${prefix}${sanitizeIdentifier(messageId)}$$${uniqueSuffix}`}else{const prefix=getTranslationConstPrefix(suffix);name=pool.uniqueName(prefix)}return variable(name)}(job.pool,messageOp.message.id,fileBasedI18nSuffix,job.i18nUseExternalIds);let transformFn;if(messageOp.needsPostprocessing||messageOp.postprocessingParams.size>0){const formattedPostprocessingParams=formatI18nPlaceholderNamesInMap(Object.fromEntries([...messageOp.postprocessingParams.entries()].sort()),!1),extraTransformFnParams=[];messageOp.postprocessingParams.size>0&&extraTransformFnParams.push(mapLiteral(formattedPostprocessingParams,!0)),transformFn=expr=>importExpr(Identifiers.i18nPostprocess).callFn([expr,...extraTransformFnParams])}return statements.push(...function getTranslationDeclStmts(message,variable,closureVar,params,transformFn){const paramsObject=Object.fromEntries(params),statements=[declareI18nVariable(variable),ifStmt(createClosureModeGuard(),createGoogleGetMsgStatements(variable,message,closureVar,paramsObject),createLocalizeStatements(variable,message,formatI18nPlaceholderNamesInMap(paramsObject,!1)))];transformFn&&statements.push(new ExpressionStatement(variable.set(transformFn(variable))));return statements}(messageOp.message,mainVar,closureVar,messageOp.params,transformFn)),{mainVar,statements}}function createClosureModeGuard(){return typeofExpr(variable("ngI18nClosureMode")).notIdentical(literal("undefined",STRING_TYPE)).and(variable("ngI18nClosureMode"))}function serializeLocalRefs(refs){const constRefs=[];for(const ref of refs)constRefs.push(literal(ref.name),literal(ref.target));return literalArr(constRefs)}function parse(value){const styles=[];let i=0,parenDepth=0,quote=0,valueStart=0,propStart=0,currentProp=null;for(;i<value.length;){switch(value.charCodeAt(i++)){case 40:parenDepth++;break;case 41:parenDepth--;break;case 39:0===quote?quote=39:39===quote&&92!==value.charCodeAt(i-1)&&(quote=0);break;case 34:0===quote?quote=34:34===quote&&92!==value.charCodeAt(i-1)&&(quote=0);break;case 58:currentProp||0!==parenDepth||0!==quote||(currentProp=hyphenate(value.substring(propStart,i-1).trim()),valueStart=i);break;case 59:if(currentProp&&valueStart>0&&0===parenDepth&&0===quote){const styleVal=value.substring(valueStart,i-1).trim();styles.push(currentProp,styleVal),propStart=i,valueStart=0,currentProp=null}}}if(currentProp&&valueStart){const styleVal=value.slice(valueStart).trim();styles.push(currentProp,styleVal)}return styles}function hyphenate(value){return value.replace(/[a-z][A-Z]/g,v=>v.charAt(0)+"-"+v.charAt(1)).toLowerCase()}function addNamesToView(unit,baseName,state,compatibility){null===unit.fnName&&(unit.fnName=unit.job.pool.uniqueName(sanitizeIdentifier(`${baseName}_${unit.job.fnSuffix}`),!1));const varNames=new Map;for(const op of unit.ops())switch(op.kind){case OpKind.Property:case OpKind.DomProperty:op.bindingKind===BindingKind.LegacyAnimation&&(op.name="@"+op.name);break;case OpKind.Animation:if(null===op.handlerFnName){const animationKind=op.name.replace(".","");op.handlerFnName=`${unit.fnName}_${animationKind}_cb`,op.handlerFnName=sanitizeIdentifier(op.handlerFnName)}break;case OpKind.AnimationListener:if(null!==op.handlerFnName)break;if(!op.hostListener&&null===op.targetSlot.slot)throw new Error("Expected a slot to be assigned");const animationKind=op.name.replace(".","");op.hostListener?op.handlerFnName=`${baseName}_${animationKind}_HostBindingHandler`:op.handlerFnName=`${unit.fnName}_${op.tag.replace("-","_")}_${animationKind}_${op.targetSlot.slot}_listener`,op.handlerFnName=sanitizeIdentifier(op.handlerFnName);break;case OpKind.Listener:if(null!==op.handlerFnName)break;if(!op.hostListener&&null===op.targetSlot.slot)throw new Error("Expected a slot to be assigned");let animation="";op.isLegacyAnimationListener&&(op.name=`@${op.name}.${op.legacyAnimationPhase}`,animation="animation"),op.hostListener?op.handlerFnName=`${baseName}_${animation}${op.name}_HostBindingHandler`:op.handlerFnName=`${unit.fnName}_${op.tag.replace("-","_")}_${animation}${op.name}_${op.targetSlot.slot}_listener`,op.handlerFnName=sanitizeIdentifier(op.handlerFnName);break;case OpKind.TwoWayListener:if(null!==op.handlerFnName)break;if(null===op.targetSlot.slot)throw new Error("Expected a slot to be assigned");op.handlerFnName=sanitizeIdentifier(`${unit.fnName}_${op.tag.replace("-","_")}_${op.name}_${op.targetSlot.slot}_listener`);break;case OpKind.Variable:varNames.set(op.xref,getVariableName(unit,op.variable,state));break;case OpKind.RepeaterCreate:if(!(unit instanceof ViewCompilationUnit))throw new Error("AssertionError: must be compiling a component");if(null===op.handle.slot)throw new Error("Expected slot to be assigned");if(null!==op.emptyView){addNamesToView(unit.job.views.get(op.emptyView),`${baseName}_${op.functionNameSuffix}Empty_${op.handle.slot+2}`,state,compatibility)}addNamesToView(unit.job.views.get(op.xref),`${baseName}_${op.functionNameSuffix}_${op.handle.slot+1}`,state,compatibility);break;case OpKind.Projection:if(!(unit instanceof ViewCompilationUnit))throw new Error("AssertionError: must be compiling a component");if(null===op.handle.slot)throw new Error("Expected slot to be assigned");if(null!==op.fallbackView){addNamesToView(unit.job.views.get(op.fallbackView),`${baseName}_ProjectionFallback_${op.handle.slot}`,state,compatibility)}break;case OpKind.ConditionalCreate:case OpKind.ConditionalBranchCreate:case OpKind.Template:if(!(unit instanceof ViewCompilationUnit))throw new Error("AssertionError: must be compiling a component");const childView=unit.job.views.get(op.xref);if(null===op.handle.slot)throw new Error("Expected slot to be assigned");addNamesToView(childView,`${baseName}${0===op.functionNameSuffix.length?"":`_${op.functionNameSuffix}`}_${op.handle.slot}`,state,compatibility);break;case OpKind.StyleProp:op.name=normalizeStylePropName(op.name),compatibility&&(op.name=stripImportant(op.name));break;case OpKind.ClassProp:compatibility&&(op.name=stripImportant(op.name))}for(const op of unit.ops())visitExpressionsInOp(op,expr=>{if(expr instanceof ReadVariableExpr&&null===expr.name){if(!varNames.has(expr.xref))throw new Error(`Variable ${expr.xref} not yet named`);expr.name=varNames.get(expr.xref)}})}function getVariableName(unit,variable,state){if(null===variable.name)switch(variable.kind){case SemanticVariableKind.Context:variable.name="ctx_r"+state.index++;break;case SemanticVariableKind.Identifier:if(unit.job.compatibility===CompatibilityMode.TemplateDefinitionBuilder){const compatPrefix="ctx"===variable.identifier?"i":"";variable.name=`${variable.identifier}_${compatPrefix}r${++state.index}`}else variable.name=`${variable.identifier}_i${state.index++}`;break;default:variable.name="_r"+ ++state.index}return variable.name}function normalizeStylePropName(name){return name.startsWith("--")?name:hyphenate(name)}function stripImportant(name){const importantIndex=name.indexOf("!important");return importantIndex>-1?name.substring(0,importantIndex):name}function mergeNextContextsInOps(ops){for(const op of ops){if(!(op.kind===OpKind.Statement&&op.statement instanceof ExpressionStatement&&op.statement.expr instanceof NextContextExpr))continue;const mergeSteps=op.statement.expr.steps;let tryToMerge=!0;for(let candidate=op.next;candidate.kind!==OpKind.ListEnd&&tryToMerge;candidate=candidate.next)visitExpressionsInOp(candidate,(expr,flags)=>{if(!isIrExpression(expr))return expr;if(tryToMerge&&!(flags&VisitorContextFlag.InChildOperation))switch(expr.kind){case ExpressionKind.NextContext:expr.steps+=mergeSteps,OpList.remove(op),tryToMerge=!1;break;case ExpressionKind.GetCurrentView:case ExpressionKind.Reference:case ExpressionKind.ContextLetReference:tryToMerge=!1}})}}function lookupElement(elements,xref){const el=elements.get(xref);if(void 0===el)throw new Error("All attributes should have an element-like target.");return el}function kindTest(kind){return op=>op.kind===kind}function kindWithInterpolationTest(kind,interpolation){return op=>op.kind===kind&&interpolation===op.expression instanceof Interpolation}const CREATE_ORDERING=[{test:op=>op.kind===OpKind.Listener&&op.hostListener&&op.isLegacyAnimationListener},{test:function basicListenerKindTest(op){return op.kind===OpKind.Listener&&!(op.hostListener&&op.isLegacyAnimationListener)||op.kind===OpKind.TwoWayListener||op.kind===OpKind.Animation||op.kind===OpKind.AnimationListener}}],UPDATE_ORDERING=[{test:kindTest(OpKind.StyleMap),transform:keepLast},{test:kindTest(OpKind.ClassMap),transform:keepLast},{test:kindTest(OpKind.StyleProp)},{test:kindTest(OpKind.ClassProp)},{test:kindWithInterpolationTest(OpKind.Attribute,!0)},{test:kindWithInterpolationTest(OpKind.Property,!0)},{test:function nonInterpolationPropertyKindTest(op){return!(op.kind!==OpKind.Property&&op.kind!==OpKind.TwoWayProperty||op.expression instanceof Interpolation)}},{test:kindWithInterpolationTest(OpKind.Attribute,!1)}],UPDATE_HOST_ORDERING=[{test:kindWithInterpolationTest(OpKind.DomProperty,!0)},{test:kindWithInterpolationTest(OpKind.DomProperty,!1)},{test:kindTest(OpKind.Attribute)},{test:kindTest(OpKind.StyleMap),transform:keepLast},{test:kindTest(OpKind.ClassMap),transform:keepLast},{test:kindTest(OpKind.StyleProp)},{test:kindTest(OpKind.ClassProp)}],handledOpKinds=new Set([OpKind.Listener,OpKind.TwoWayListener,OpKind.AnimationListener,OpKind.StyleMap,OpKind.ClassMap,OpKind.StyleProp,OpKind.ClassProp,OpKind.Property,OpKind.TwoWayProperty,OpKind.DomProperty,OpKind.Attribute,OpKind.Animation]);function orderWithin(opList,ordering){let opsToOrder=[],firstTargetInGroup=null;for(const op of opList){const currentTarget=hasDependsOnSlotContextTrait(op)?op.target:null;(!handledOpKinds.has(op.kind)||currentTarget!==firstTargetInGroup&&null!==firstTargetInGroup&&null!==currentTarget)&&(OpList.insertBefore(reorder(opsToOrder,ordering),op),opsToOrder=[],firstTargetInGroup=null),handledOpKinds.has(op.kind)&&(opsToOrder.push(op),OpList.remove(op),firstTargetInGroup=currentTarget??firstTargetInGroup)}opList.push(reorder(opsToOrder,ordering))}function reorder(ops,ordering){const groups=Array.from(ordering,()=>new Array);for(const op of ops){groups[ordering.findIndex(o=>o.test(op))].push(op)}return groups.flatMap((group,i)=>{const transform=ordering[i].transform;return transform?transform(group):group})}function keepLast(ops){return ops.slice(ops.length-1)}function isSelectAttribute(name){return"select"===name.toLowerCase()}function lookupInXrefMap(map,xref){const el=map.get(xref);if(void 0===el)throw new Error("All attributes should have an slottable target.");return el}function processPipeBindingsInView(unit){for(const updateOp of unit.update)visitExpressionsInOp(updateOp,(expr,flags)=>{if(isIrExpression(expr)&&expr.kind===ExpressionKind.PipeBinding){if(flags&VisitorContextFlag.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(unit.job.compatibility){if(null==updateOp.target)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");addPipeToCreationBlock(unit,updateOp.target,expr)}else unit.create.push(createPipeOp(expr.target,expr.targetSlot,expr.name))}})}function addPipeToCreationBlock(unit,afterTargetXref,binding){for(let op=unit.create.head.next;op.kind!==OpKind.ListEnd;op=op.next){if(!hasConsumesSlotTrait(op))continue;if(op.xref!==afterTargetXref)continue;for(;op.next.kind===OpKind.Pipe;)op=op.next;const pipe=createPipeOp(binding.target,binding.targetSlot,binding.name);return void OpList.insertBefore(pipe,op.next)}throw new Error(`AssertionError: unable to find insertion point for pipe ${binding.name}`)}function propagateI18nBlocksToTemplates(unit,subTemplateIndex){let i18nBlock=null;for(const op of unit.create)switch(op.kind){case OpKind.I18nStart:op.subTemplateIndex=0===subTemplateIndex?null:subTemplateIndex,i18nBlock=op;break;case OpKind.I18nEnd:null===i18nBlock.subTemplateIndex&&(subTemplateIndex=0),i18nBlock=null;break;case OpKind.ConditionalCreate:case OpKind.ConditionalBranchCreate:case OpKind.Template:subTemplateIndex=propagateI18nBlocksForView(unit.job.views.get(op.xref),i18nBlock,op.i18nPlaceholder,subTemplateIndex);break;case OpKind.RepeaterCreate:subTemplateIndex=propagateI18nBlocksForView(unit.job.views.get(op.xref),i18nBlock,op.i18nPlaceholder,subTemplateIndex),null!==op.emptyView&&(subTemplateIndex=propagateI18nBlocksForView(unit.job.views.get(op.emptyView),i18nBlock,op.emptyI18nPlaceholder,subTemplateIndex));break;case OpKind.Projection:null!==op.fallbackView&&(subTemplateIndex=propagateI18nBlocksForView(unit.job.views.get(op.fallbackView),i18nBlock,op.fallbackViewI18nPlaceholder,subTemplateIndex))}return subTemplateIndex}function propagateI18nBlocksForView(view,i18nBlock,i18nPlaceholder,subTemplateIndex){if(void 0!==i18nPlaceholder){if(null===i18nBlock)throw Error("Expected template with i18n placeholder to be in an i18n block.");subTemplateIndex++,function wrapTemplateWithI18n(unit,parentI18n){if(unit.create.head.next?.kind!==OpKind.I18nStart){const id=unit.job.allocateXrefId();OpList.insertAfter(createI18nStartOp(id,parentI18n.message,parentI18n.root,null),unit.create.head),OpList.insertBefore(createI18nEndOp(id,null),unit.create.tail)}}(view,i18nBlock)}return propagateI18nBlocksToTemplates(view,subTemplateIndex)}class PureFunctionConstant extends GenericKeyFn{numArgs;constructor(numArgs){super(),this.numArgs=numArgs}keyOf(expr){return expr instanceof PureFunctionParameterExpr?`param(${expr.index})`:super.keyOf(expr)}toSharedConstantDeclaration(declName,keyExpr){const fnParams=[];for(let idx=0;idx<this.numArgs;idx++)fnParams.push(new FnParam("a"+idx));const returnExpr=transformExpressionsInExpression(keyExpr,expr=>expr instanceof PureFunctionParameterExpr?variable("a"+expr.index):expr,VisitorContextFlag.None);return new DeclareVarStmt(declName,new ArrowFunctionExpr(fnParams,returnExpr),void 0,StmtModifier.Final)}}function transformLiteralArray(expr){const derivedEntries=[],nonConstantArgs=[];for(const entry of expr.entries)if(entry.isConstant())derivedEntries.push(entry);else{const idx=nonConstantArgs.length;nonConstantArgs.push(entry),derivedEntries.push(new PureFunctionParameterExpr(idx))}return new PureFunctionExpr(literalArr(derivedEntries),nonConstantArgs)}function transformLiteralMap(expr){let derivedEntries=[];const nonConstantArgs=[];for(const entry of expr.entries)if(entry.value.isConstant())derivedEntries.push(entry);else{const idx=nonConstantArgs.length;nonConstantArgs.push(entry.value),derivedEntries.push(new LiteralMapEntry(entry.key,new PureFunctionParameterExpr(idx),entry.quoted))}return new PureFunctionExpr(literalMap(derivedEntries),nonConstantArgs)}function element(slot,tag,constIndex,localRefIndex,sourceSpan){return elementOrContainerBase(Identifiers.element,slot,tag,constIndex,localRefIndex,sourceSpan)}function elementStart(slot,tag,constIndex,localRefIndex,sourceSpan){return elementOrContainerBase(Identifiers.elementStart,slot,tag,constIndex,localRefIndex,sourceSpan)}function elementOrContainerBase(instruction,slot,tag,constIndex,localRefIndex,sourceSpan){const args=[literal(slot)];return null!==tag&&args.push(literal(tag)),null!==localRefIndex?args.push(literal(constIndex),literal(localRefIndex)):null!==constIndex&&args.push(literal(constIndex)),call(instruction,args,sourceSpan)}function templateBase(instruction,slot,templateFnRef,decls,vars,tag,constIndex,localRefs,sourceSpan){const args=[literal(slot),templateFnRef,literal(decls),literal(vars),literal(tag),literal(constIndex)];for(null!==localRefs&&(args.push(literal(localRefs)),args.push(importExpr(Identifiers.templateRefExtractor)));args[args.length-1].isEquivalent(NULL_EXPR);)args.pop();return call(instruction,args,sourceSpan)}function propertyBase(instruction,name,expression,sanitizer,sourceSpan){const args=[literal(name)];return expression instanceof Interpolation?args.push(interpolationToExpression(expression,sourceSpan)):args.push(expression),null!==sanitizer&&args.push(sanitizer),call(instruction,args,sourceSpan)}function elementEnd(sourceSpan){return call(Identifiers.elementEnd,[],sourceSpan)}function elementContainerStart(slot,constIndex,localRefIndex,sourceSpan){return elementOrContainerBase(Identifiers.elementContainerStart,slot,null,constIndex,localRefIndex,sourceSpan)}function elementContainer(slot,constIndex,localRefIndex,sourceSpan){return elementOrContainerBase(Identifiers.elementContainer,slot,null,constIndex,localRefIndex,sourceSpan)}function elementContainerEnd(){return call(Identifiers.elementContainerEnd,[],null)}function template(slot,templateFnRef,decls,vars,tag,constIndex,localRefs,sourceSpan){return templateBase(Identifiers.templateCreate,slot,templateFnRef,decls,vars,tag,constIndex,localRefs,sourceSpan)}function disableBindings(){return call(Identifiers.disableBindings,[],null)}function enableBindings(){return call(Identifiers.enableBindings,[],null)}function listener(name,handlerFn,eventTargetResolver,syntheticHost,sourceSpan){const args=[literal(name),handlerFn];return null!==eventTargetResolver&&args.push(importExpr(eventTargetResolver)),call(syntheticHost?Identifiers.syntheticHostListener:Identifiers.listener,args,sourceSpan)}function twoWayBindingSet(target,value){return importExpr(Identifiers.twoWayBindingSet).callFn([target,value])}function twoWayListener(name,handlerFn,sourceSpan){return call(Identifiers.twoWayListener,[literal(name),handlerFn],sourceSpan)}function pipe(slot,name){return call(Identifiers.pipe,[literal(slot),literal(name)],null)}function namespaceHTML(){return call(Identifiers.namespaceHTML,[],null)}function namespaceSVG(){return call(Identifiers.namespaceSVG,[],null)}function namespaceMath(){return call(Identifiers.namespaceMathML,[],null)}function advance(delta,sourceSpan){return call(Identifiers.advance,delta>1?[literal(delta)]:[],sourceSpan)}function text(slot,initialValue,sourceSpan){const args=[literal(slot,null)];return""!==initialValue&&args.push(literal(initialValue)),call(Identifiers.text,args,sourceSpan)}function defer(selfSlot,primarySlot,dependencyResolverFn,loadingSlot,placeholderSlot,errorSlot,loadingConfig,placeholderConfig,enableTimerScheduling,sourceSpan,flags){const args=[literal(selfSlot),literal(primarySlot),dependencyResolverFn??literal(null),literal(loadingSlot),literal(placeholderSlot),literal(errorSlot),loadingConfig??literal(null),placeholderConfig??literal(null),enableTimerScheduling?importExpr(Identifiers.deferEnableTimerScheduling):literal(null),literal(flags)];let expr;for(;null!==(expr=args[args.length-1])&&expr instanceof LiteralExpr&&null===expr.value;)args.pop();return call(Identifiers.defer,args,sourceSpan)}const deferTriggerToR3TriggerInstructionsMap=new Map([[DeferTriggerKind.Idle,{none:Identifiers.deferOnIdle,prefetch:Identifiers.deferPrefetchOnIdle,hydrate:Identifiers.deferHydrateOnIdle}],[DeferTriggerKind.Immediate,{none:Identifiers.deferOnImmediate,prefetch:Identifiers.deferPrefetchOnImmediate,hydrate:Identifiers.deferHydrateOnImmediate}],[DeferTriggerKind.Timer,{none:Identifiers.deferOnTimer,prefetch:Identifiers.deferPrefetchOnTimer,hydrate:Identifiers.deferHydrateOnTimer}],[DeferTriggerKind.Hover,{none:Identifiers.deferOnHover,prefetch:Identifiers.deferPrefetchOnHover,hydrate:Identifiers.deferHydrateOnHover}],[DeferTriggerKind.Interaction,{none:Identifiers.deferOnInteraction,prefetch:Identifiers.deferPrefetchOnInteraction,hydrate:Identifiers.deferHydrateOnInteraction}],[DeferTriggerKind.Viewport,{none:Identifiers.deferOnViewport,prefetch:Identifiers.deferPrefetchOnViewport,hydrate:Identifiers.deferHydrateOnViewport}],[DeferTriggerKind.Never,{none:Identifiers.deferHydrateNever,prefetch:Identifiers.deferHydrateNever,hydrate:Identifiers.deferHydrateNever}]]);function deferOn(trigger,args,modifier,sourceSpan){const instructionToCall=deferTriggerToR3TriggerInstructionsMap.get(trigger)?.[modifier];if(void 0===instructionToCall)throw new Error(`Unable to determine instruction for trigger ${trigger}`);return call(instructionToCall,args.map(a=>literal(a)),sourceSpan)}function projectionDef(def){return call(Identifiers.projectionDef,def?[def]:[],null)}function projection(slot,projectionSlotIndex,attributes,fallbackFnName,fallbackDecls,fallbackVars,sourceSpan){const args=[literal(slot)];return 0===projectionSlotIndex&&null===attributes&&null===fallbackFnName||(args.push(literal(projectionSlotIndex)),null!==attributes&&args.push(attributes),null!==fallbackFnName&&(null===attributes&&args.push(literal(null)),args.push(variable(fallbackFnName),literal(fallbackDecls),literal(fallbackVars)))),call(Identifiers.projection,args,sourceSpan)}function i18nStart(slot,constIndex,subTemplateIndex,sourceSpan){const args=[literal(slot),literal(constIndex)];return null!==subTemplateIndex&&args.push(literal(subTemplateIndex)),call(Identifiers.i18nStart,args,sourceSpan)}function conditionalCreate(slot,templateFnRef,decls,vars,tag,constIndex,localRefs,sourceSpan){const args=[literal(slot),templateFnRef,literal(decls),literal(vars),literal(tag),literal(constIndex)];for(null!==localRefs&&(args.push(literal(localRefs)),args.push(importExpr(Identifiers.templateRefExtractor)));args[args.length-1].isEquivalent(NULL_EXPR);)args.pop();return call(Identifiers.conditionalCreate,args,sourceSpan)}function conditionalBranchCreate(slot,templateFnRef,decls,vars,tag,constIndex,localRefs,sourceSpan){const args=[literal(slot),templateFnRef,literal(decls),literal(vars),literal(tag),literal(constIndex)];for(null!==localRefs&&(args.push(literal(localRefs)),args.push(importExpr(Identifiers.templateRefExtractor)));args[args.length-1].isEquivalent(NULL_EXPR);)args.pop();return call(Identifiers.conditionalBranchCreate,args,sourceSpan)}function repeaterCreate(slot,viewFnName,decls,vars,tag,constIndex,trackByFn,trackByUsesComponentInstance,emptyViewFnName,emptyDecls,emptyVars,emptyTag,emptyConstIndex,sourceSpan){const args=[literal(slot),variable(viewFnName),literal(decls),literal(vars),literal(tag),literal(constIndex),trackByFn];return(trackByUsesComponentInstance||null!==emptyViewFnName)&&(args.push(literal(trackByUsesComponentInstance)),null!==emptyViewFnName&&(args.push(variable(emptyViewFnName),literal(emptyDecls),literal(emptyVars)),null===emptyTag&&null===emptyConstIndex||args.push(literal(emptyTag)),null!==emptyConstIndex&&args.push(literal(emptyConstIndex)))),call(Identifiers.repeaterCreate,args,sourceSpan)}function repeater(collection,sourceSpan){return call(Identifiers.repeater,[collection],sourceSpan)}function deferWhen(modifier,expr,sourceSpan){return call("prefetch"===modifier?Identifiers.deferPrefetchWhen:"hydrate"===modifier?Identifiers.deferHydrateWhen:Identifiers.deferWhen,[expr],sourceSpan)}function declareLet(slot,sourceSpan){return call(Identifiers.declareLet,[literal(slot)],sourceSpan)}function i18n(slot,constIndex,subTemplateIndex,sourceSpan){const args=[literal(slot),literal(constIndex)];return subTemplateIndex&&args.push(literal(subTemplateIndex)),call(Identifiers.i18n,args,sourceSpan)}function i18nEnd(endSourceSpan){return call(Identifiers.i18nEnd,[],endSourceSpan)}function i18nAttributes(slot,i18nAttributesConfig){const args=[literal(slot),literal(i18nAttributesConfig)];return call(Identifiers.i18nAttributes,args,null)}function twoWayProperty(name,expression,sanitizer,sourceSpan){const args=[literal(name),expression];return null!==sanitizer&&args.push(sanitizer),call(Identifiers.twoWayProperty,args,sourceSpan)}function attribute(name,expression,sanitizer,namespace,sourceSpan){const args=[literal(name)];return expression instanceof Interpolation?args.push(interpolationToExpression(expression,sourceSpan)):args.push(expression),null===sanitizer&&null===namespace||args.push(sanitizer??literal(null)),null!==namespace&&args.push(literal(namespace)),call(Identifiers.attribute,args,null)}function styleProp(name,expression,unit,sourceSpan){const args=[literal(name)];return expression instanceof Interpolation?args.push(interpolationToExpression(expression,sourceSpan)):args.push(expression),null!==unit&&args.push(literal(unit)),call(Identifiers.styleProp,args,sourceSpan)}function classProp(name,expression,sourceSpan){return call(Identifiers.classProp,[literal(name),expression],sourceSpan)}function styleMap(expression,sourceSpan){const value=expression instanceof Interpolation?interpolationToExpression(expression,sourceSpan):expression;return call(Identifiers.styleMap,[value],sourceSpan)}function classMap(expression,sourceSpan){const value=expression instanceof Interpolation?interpolationToExpression(expression,sourceSpan):expression;return call(Identifiers.classMap,[value],sourceSpan)}function domElement(slot,tag,constIndex,localRefIndex,sourceSpan){return elementOrContainerBase(Identifiers.domElement,slot,tag,constIndex,localRefIndex,sourceSpan)}function domElementStart(slot,tag,constIndex,localRefIndex,sourceSpan){return elementOrContainerBase(Identifiers.domElementStart,slot,tag,constIndex,localRefIndex,sourceSpan)}function domElementEnd(sourceSpan){return call(Identifiers.domElementEnd,[],sourceSpan)}function domElementContainerStart(slot,constIndex,localRefIndex,sourceSpan){return elementOrContainerBase(Identifiers.domElementContainerStart,slot,null,constIndex,localRefIndex,sourceSpan)}function domElementContainer(slot,constIndex,localRefIndex,sourceSpan){return elementOrContainerBase(Identifiers.domElementContainer,slot,null,constIndex,localRefIndex,sourceSpan)}function domElementContainerEnd(){return call(Identifiers.domElementContainerEnd,[],null)}function domListener(name,handlerFn,eventTargetResolver,sourceSpan){const args=[literal(name),handlerFn];return null!==eventTargetResolver&&args.push(importExpr(eventTargetResolver)),call(Identifiers.domListener,args,sourceSpan)}function domTemplate(slot,templateFnRef,decls,vars,tag,constIndex,localRefs,sourceSpan){return templateBase(Identifiers.domTemplate,slot,templateFnRef,decls,vars,tag,constIndex,localRefs,sourceSpan)}const PIPE_BINDINGS=[Identifiers.pipeBind1,Identifiers.pipeBind2,Identifiers.pipeBind3,Identifiers.pipeBind4];function textInterpolate(strings,expressions,sourceSpan){const interpolationArgs=collateInterpolationArgs(strings,expressions);return function callVariadicInstruction(config,baseArgs,interpolationArgs,extraArgs,sourceSpan){return createStatementOp(callVariadicInstructionExpr(config,baseArgs,interpolationArgs,extraArgs,sourceSpan).toStmt())}(TEXT_INTERPOLATE_CONFIG,[],interpolationArgs,[],sourceSpan)}function i18nExp(expr,sourceSpan){return call(Identifiers.i18nExp,[expr],sourceSpan)}function i18nApply(slot,sourceSpan){return call(Identifiers.i18nApply,[literal(slot)],sourceSpan)}function animation(animationKind,handlerFn,sanitizer,sourceSpan){const args=[handlerFn];null!==sanitizer&&args.push(sanitizer);return call("enter"===animationKind?Identifiers.animationEnter:Identifiers.animationLeave,args,sourceSpan)}function animationString(animationKind,expression,sanitizer,sourceSpan){const args=[expression instanceof Interpolation?interpolationToExpression(expression,sourceSpan):expression];null!==sanitizer&&args.push(sanitizer);return call("enter"===animationKind?Identifiers.animationEnter:Identifiers.animationLeave,args,sourceSpan)}function animationListener(animationKind,handlerFn,eventTargetResolver,sourceSpan){return call("enter"===animationKind?Identifiers.animationEnterListener:Identifiers.animationLeaveListener,[handlerFn],sourceSpan)}function syntheticHostProperty(name,expression,sourceSpan){return call(Identifiers.syntheticHostProperty,[literal(name),expression],sourceSpan)}function attachSourceLocation(templatePath,locations){return call(Identifiers.attachSourceLocations,[literal(templatePath),locations],null)}function collateInterpolationArgs(strings,expressions){if(strings.length<1||expressions.length!==strings.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");const interpolationArgs=[];if(1===expressions.length&&""===strings[0]&&""===strings[1])interpolationArgs.push(expressions[0]);else{let idx;for(idx=0;idx<expressions.length;idx++)interpolationArgs.push(literal(strings[idx]),expressions[idx]);interpolationArgs.push(literal(strings[idx]))}return interpolationArgs}function interpolationToExpression(interpolation,sourceSpan){const interpolationArgs=collateInterpolationArgs(interpolation.strings,interpolation.expressions);return callVariadicInstructionExpr(VALUE_INTERPOLATE_CONFIG,[],interpolationArgs,[],sourceSpan)}function call(instruction,args,sourceSpan){const expr=importExpr(instruction).callFn(args,sourceSpan);return createStatementOp(new ExpressionStatement(expr,sourceSpan))}function conditional(condition,contextValue,sourceSpan){const args=[condition];return null!==contextValue&&args.push(contextValue),call(Identifiers.conditional,args,sourceSpan)}const TEXT_INTERPOLATE_CONFIG={constant:[Identifiers.textInterpolate,Identifiers.textInterpolate1,Identifiers.textInterpolate2,Identifiers.textInterpolate3,Identifiers.textInterpolate4,Identifiers.textInterpolate5,Identifiers.textInterpolate6,Identifiers.textInterpolate7,Identifiers.textInterpolate8],variable:Identifiers.textInterpolateV,mapping:n=>{if(n%2==0)throw new Error("Expected odd number of arguments");return(n-1)/2}},VALUE_INTERPOLATE_CONFIG={constant:[Identifiers.interpolate,Identifiers.interpolate1,Identifiers.interpolate2,Identifiers.interpolate3,Identifiers.interpolate4,Identifiers.interpolate5,Identifiers.interpolate6,Identifiers.interpolate7,Identifiers.interpolate8],variable:Identifiers.interpolateV,mapping:n=>{if(n%2==0)throw new Error("Expected odd number of arguments");return(n-1)/2}},PURE_FUNCTION_CONFIG={constant:[Identifiers.pureFunction0,Identifiers.pureFunction1,Identifiers.pureFunction2,Identifiers.pureFunction3,Identifiers.pureFunction4,Identifiers.pureFunction5,Identifiers.pureFunction6,Identifiers.pureFunction7,Identifiers.pureFunction8],variable:Identifiers.pureFunctionV,mapping:n=>n};function callVariadicInstructionExpr(config,baseArgs,interpolationArgs,extraArgs,sourceSpan){const n=config.mapping(interpolationArgs.length),lastInterpolationArg=interpolationArgs.at(-1);if(0===extraArgs.length&&interpolationArgs.length>1&&lastInterpolationArg instanceof LiteralExpr&&""===lastInterpolationArg.value&&interpolationArgs.pop(),n<config.constant.length)return importExpr(config.constant[n]).callFn([...baseArgs,...interpolationArgs,...extraArgs],sourceSpan);if(null!==config.variable)return importExpr(config.variable).callFn([...baseArgs,literalArr(interpolationArgs),...extraArgs],sourceSpan);throw new Error("AssertionError: unable to call variadic function")}const GLOBAL_TARGET_RESOLVERS=new Map([["window",Identifiers.resolveWindow],["document",Identifiers.resolveDocument],["body",Identifiers.resolveBody]]),DOM_PROPERTY_REMAPPING=new Map([["class","className"],["for","htmlFor"],["formaction","formAction"],["innerHtml","innerHTML"],["readonly","readOnly"],["tabindex","tabIndex"]]);function reifyCreateOperations(unit,ops){for(const op of ops)switch(transformExpressionsInOp(op,reifyIrExpression,VisitorContextFlag.None),op.kind){case OpKind.Text:OpList.replace(op,text(op.handle.slot,op.initialValue,op.sourceSpan));break;case OpKind.ElementStart:OpList.replace(op,unit.job.mode===TemplateCompilationMode.DomOnly?domElementStart(op.handle.slot,op.tag,op.attributes,op.localRefs,op.startSourceSpan):elementStart(op.handle.slot,op.tag,op.attributes,op.localRefs,op.startSourceSpan));break;case OpKind.Element:OpList.replace(op,unit.job.mode===TemplateCompilationMode.DomOnly?domElement(op.handle.slot,op.tag,op.attributes,op.localRefs,op.wholeSourceSpan):element(op.handle.slot,op.tag,op.attributes,op.localRefs,op.wholeSourceSpan));break;case OpKind.ElementEnd:OpList.replace(op,unit.job.mode===TemplateCompilationMode.DomOnly?domElementEnd(op.sourceSpan):elementEnd(op.sourceSpan));break;case OpKind.ContainerStart:OpList.replace(op,unit.job.mode===TemplateCompilationMode.DomOnly?domElementContainerStart(op.handle.slot,op.attributes,op.localRefs,op.startSourceSpan):elementContainerStart(op.handle.slot,op.attributes,op.localRefs,op.startSourceSpan));break;case OpKind.Container:OpList.replace(op,unit.job.mode===TemplateCompilationMode.DomOnly?domElementContainer(op.handle.slot,op.attributes,op.localRefs,op.wholeSourceSpan):elementContainer(op.handle.slot,op.attributes,op.localRefs,op.wholeSourceSpan));break;case OpKind.ContainerEnd:OpList.replace(op,unit.job.mode===TemplateCompilationMode.DomOnly?domElementContainerEnd():elementContainerEnd());break;case OpKind.I18nStart:OpList.replace(op,i18nStart(op.handle.slot,op.messageIndex,op.subTemplateIndex,op.sourceSpan));break;case OpKind.I18nEnd:OpList.replace(op,i18nEnd(op.sourceSpan));break;case OpKind.I18n:OpList.replace(op,i18n(op.handle.slot,op.messageIndex,op.subTemplateIndex,op.sourceSpan));break;case OpKind.I18nAttributes:if(null===op.i18nAttributesConfig)throw new Error("AssertionError: i18nAttributesConfig was not set");OpList.replace(op,i18nAttributes(op.handle.slot,op.i18nAttributesConfig));break;case OpKind.Template:if(!(unit instanceof ViewCompilationUnit))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(op.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");const childView=unit.job.views.get(op.xref);OpList.replace(op,op.templateKind===TemplateKind.Block||unit.job.mode===TemplateCompilationMode.DomOnly?domTemplate(op.handle.slot,variable(childView.fnName),childView.decls,childView.vars,op.tag,op.attributes,op.localRefs,op.startSourceSpan):template(op.handle.slot,variable(childView.fnName),childView.decls,childView.vars,op.tag,op.attributes,op.localRefs,op.startSourceSpan));break;case OpKind.DisableBindings:OpList.replace(op,disableBindings());break;case OpKind.EnableBindings:OpList.replace(op,enableBindings());break;case OpKind.Pipe:OpList.replace(op,pipe(op.handle.slot,op.name));break;case OpKind.DeclareLet:OpList.replace(op,declareLet(op.handle.slot,op.sourceSpan));break;case OpKind.AnimationString:OpList.replace(op,animationString(op.animationKind,op.expression,op.sanitizer,op.sourceSpan));break;case OpKind.Animation:const animationCallbackFn=reifyListenerHandler(unit,op.handlerFnName,op.handlerOps,!1);OpList.replace(op,animation(op.animationKind,animationCallbackFn,op.sanitizer,op.sourceSpan));break;case OpKind.AnimationListener:const animationListenerFn=reifyListenerHandler(unit,op.handlerFnName,op.handlerOps,op.consumesDollarEvent);OpList.replace(op,animationListener(op.animationKind,animationListenerFn,0,op.sourceSpan));break;case OpKind.Listener:const listenerFn=reifyListenerHandler(unit,op.handlerFnName,op.handlerOps,op.consumesDollarEvent),eventTargetResolver=op.eventTarget?GLOBAL_TARGET_RESOLVERS.get(op.eventTarget):null;if(void 0===eventTargetResolver)throw new Error(`Unexpected global target '${op.eventTarget}' defined for '${op.name}' event. Supported list of global targets: window,document,body.`);OpList.replace(op,unit.job.mode!==TemplateCompilationMode.DomOnly||op.hostListener||op.isLegacyAnimationListener?listener(op.name,listenerFn,eventTargetResolver,op.hostListener&&op.isLegacyAnimationListener,op.sourceSpan):domListener(op.name,listenerFn,eventTargetResolver,op.sourceSpan));break;case OpKind.TwoWayListener:OpList.replace(op,twoWayListener(op.name,reifyListenerHandler(unit,op.handlerFnName,op.handlerOps,!0),op.sourceSpan));break;case OpKind.Variable:if(null===op.variable.name)throw new Error(`AssertionError: unnamed variable ${op.xref}`);OpList.replace(op,createStatementOp(new DeclareVarStmt(op.variable.name,op.initializer,void 0,StmtModifier.Final)));break;case OpKind.Namespace:switch(op.active){case Namespace.HTML:OpList.replace(op,namespaceHTML());break;case Namespace.SVG:OpList.replace(op,namespaceSVG());break;case Namespace.Math:OpList.replace(op,namespaceMath())}break;case OpKind.Defer:const timerScheduling=!!op.loadingMinimumTime||!!op.loadingAfterTime||!!op.placeholderMinimumTime;OpList.replace(op,defer(op.handle.slot,op.mainSlot.slot,op.resolverFn,op.loadingSlot?.slot??null,op.placeholderSlot?.slot??null,op.errorSlot?.slot??null,op.loadingConfig,op.placeholderConfig,timerScheduling,op.sourceSpan,op.flags));break;case OpKind.DeferOn:let args=[];switch(op.trigger.kind){case DeferTriggerKind.Never:case DeferTriggerKind.Idle:case DeferTriggerKind.Immediate:break;case DeferTriggerKind.Timer:args=[op.trigger.delay];break;case DeferTriggerKind.Interaction:case DeferTriggerKind.Hover:case DeferTriggerKind.Viewport:"hydrate"===op.modifier?args=[]:(args=[op.trigger.targetSlot?.slot??null],0!==op.trigger.targetSlotViewSteps&&args.push(op.trigger.targetSlotViewSteps));break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${op.trigger.kind}`)}OpList.replace(op,deferOn(op.trigger.kind,args,op.modifier,op.sourceSpan));break;case OpKind.ProjectionDef:OpList.replace(op,projectionDef(op.def));break;case OpKind.Projection:if(null===op.handle.slot)throw new Error("No slot was assigned for project instruction");let fallbackViewFnName=null,fallbackDecls=null,fallbackVars=null;if(null!==op.fallbackView){if(!(unit instanceof ViewCompilationUnit))throw new Error("AssertionError: must be compiling a component");const fallbackView=unit.job.views.get(op.fallbackView);if(void 0===fallbackView)throw new Error("AssertionError: projection had fallback view xref, but fallback view was not found");if(null===fallbackView.fnName||null===fallbackView.decls||null===fallbackView.vars)throw new Error("AssertionError: expected projection fallback view to have been named and counted");fallbackViewFnName=fallbackView.fnName,fallbackDecls=fallbackView.decls,fallbackVars=fallbackView.vars}OpList.replace(op,projection(op.handle.slot,op.projectionSlotIndex,op.attributes,fallbackViewFnName,fallbackDecls,fallbackVars,op.sourceSpan));break;case OpKind.ConditionalCreate:if(!(unit instanceof ViewCompilationUnit))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(op.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");const conditionalCreateChildView=unit.job.views.get(op.xref);OpList.replace(op,conditionalCreate(op.handle.slot,variable(conditionalCreateChildView.fnName),conditionalCreateChildView.decls,conditionalCreateChildView.vars,op.tag,op.attributes,op.localRefs,op.startSourceSpan));break;case OpKind.ConditionalBranchCreate:if(!(unit instanceof ViewCompilationUnit))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(op.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");const conditionalBranchCreateChildView=unit.job.views.get(op.xref);OpList.replace(op,conditionalBranchCreate(op.handle.slot,variable(conditionalBranchCreateChildView.fnName),conditionalBranchCreateChildView.decls,conditionalBranchCreateChildView.vars,op.tag,op.attributes,op.localRefs,op.startSourceSpan));break;case OpKind.RepeaterCreate:if(null===op.handle.slot)throw new Error("No slot was assigned for repeater instruction");if(!(unit instanceof ViewCompilationUnit))throw new Error("AssertionError: must be compiling a component");const repeaterView=unit.job.views.get(op.xref);if(null===repeaterView.fnName)throw new Error("AssertionError: expected repeater primary view to have been named");let emptyViewFnName=null,emptyDecls=null,emptyVars=null;if(null!==op.emptyView){const emptyView=unit.job.views.get(op.emptyView);if(void 0===emptyView)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(null===emptyView.fnName||null===emptyView.decls||null===emptyView.vars)throw new Error("AssertionError: expected repeater empty view to have been named and counted");emptyViewFnName=emptyView.fnName,emptyDecls=emptyView.decls,emptyVars=emptyView.vars}OpList.replace(op,repeaterCreate(op.handle.slot,repeaterView.fnName,op.decls,op.vars,op.tag,op.attributes,reifyTrackBy(unit,op),op.usesComponentInstance,emptyViewFnName,emptyDecls,emptyVars,op.emptyTag,op.emptyAttributes,op.wholeSourceSpan));break;case OpKind.SourceLocation:const locationsLiteral=literalArr(op.locations.map(({targetSlot,offset,line,column})=>{if(null===targetSlot.slot)throw new Error("No slot was assigned for source location");return literalArr([literal(targetSlot.slot),literal(offset),literal(line),literal(column)])}));OpList.replace(op,attachSourceLocation(op.templatePath,locationsLiteral));break;case OpKind.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${OpKind[op.kind]}`)}}function reifyUpdateOperations(unit,ops){for(const op of ops)switch(transformExpressionsInOp(op,reifyIrExpression,VisitorContextFlag.None),op.kind){case OpKind.Advance:OpList.replace(op,advance(op.delta,op.sourceSpan));break;case OpKind.Property:OpList.replace(op,unit.job.mode===TemplateCompilationMode.DomOnly&&op.bindingKind!==BindingKind.LegacyAnimation&&op.bindingKind!==BindingKind.Animation?reifyDomProperty(op):reifyProperty(op));break;case OpKind.TwoWayProperty:OpList.replace(op,twoWayProperty(op.name,op.expression,op.sanitizer,op.sourceSpan));break;case OpKind.StyleProp:OpList.replace(op,styleProp(op.name,op.expression,op.unit,op.sourceSpan));break;case OpKind.ClassProp:OpList.replace(op,classProp(op.name,op.expression,op.sourceSpan));break;case OpKind.StyleMap:OpList.replace(op,styleMap(op.expression,op.sourceSpan));break;case OpKind.ClassMap:OpList.replace(op,classMap(op.expression,op.sourceSpan));break;case OpKind.I18nExpression:OpList.replace(op,i18nExp(op.expression,op.sourceSpan));break;case OpKind.I18nApply:OpList.replace(op,i18nApply(op.handle.slot,op.sourceSpan));break;case OpKind.InterpolateText:OpList.replace(op,textInterpolate(op.interpolation.strings,op.interpolation.expressions,op.sourceSpan));break;case OpKind.Attribute:OpList.replace(op,attribute(op.name,op.expression,op.sanitizer,op.namespace,op.sourceSpan));break;case OpKind.DomProperty:if(op.expression instanceof Interpolation)throw new Error("not yet handled");op.bindingKind===BindingKind.LegacyAnimation||op.bindingKind===BindingKind.Animation?OpList.replace(op,syntheticHostProperty(op.name,op.expression,op.sourceSpan)):OpList.replace(op,reifyDomProperty(op));break;case OpKind.Variable:if(null===op.variable.name)throw new Error(`AssertionError: unnamed variable ${op.xref}`);OpList.replace(op,createStatementOp(new DeclareVarStmt(op.variable.name,op.initializer,void 0,StmtModifier.Final)));break;case OpKind.Conditional:if(null===op.processed)throw new Error("Conditional test was not set.");OpList.replace(op,conditional(op.processed,op.contextValue,op.sourceSpan));break;case OpKind.Repeater:OpList.replace(op,repeater(op.collection,op.sourceSpan));break;case OpKind.DeferWhen:OpList.replace(op,deferWhen(op.modifier,op.expr,op.sourceSpan));break;case OpKind.StoreLet:throw new Error(`AssertionError: unexpected storeLet ${op.declaredName}`);case OpKind.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${OpKind[op.kind]}`)}}function reifyDomProperty(op){return function domProperty(name,expression,sanitizer,sourceSpan){return propertyBase(Identifiers.domProperty,name,expression,sanitizer,sourceSpan)}(DOM_PROPERTY_REMAPPING.get(op.name)??op.name,op.expression,op.sanitizer,op.sourceSpan)}function reifyProperty(op){return isAriaAttribute(op.name)?function ariaProperty(name,expression,sourceSpan){return propertyBase(Identifiers.ariaProperty,name,expression,null,sourceSpan)}(op.name,op.expression,op.sourceSpan):function property(name,expression,sanitizer,sourceSpan){return propertyBase(Identifiers.property,name,expression,sanitizer,sourceSpan)}(op.name,op.expression,op.sanitizer,op.sourceSpan)}function reifyIrExpression(expr){if(!isIrExpression(expr))return expr;switch(expr.kind){case ExpressionKind.NextContext:return function nextContext(steps){return importExpr(Identifiers.nextContext).callFn(1===steps?[]:[literal(steps)])}(expr.steps);case ExpressionKind.Reference:return function reference(slot){return importExpr(Identifiers.reference).callFn([literal(slot)])}(expr.targetSlot.slot+1+expr.offset);case ExpressionKind.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${expr.name}`);case ExpressionKind.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case ExpressionKind.RestoreView:if("number"==typeof expr.view)throw new Error("AssertionError: unresolved RestoreView");return function restoreView(savedView){return importExpr(Identifiers.restoreView).callFn([savedView])}(expr.view);case ExpressionKind.ResetView:return function resetView(returnValue){return importExpr(Identifiers.resetView).callFn([returnValue])}(expr.expr);case ExpressionKind.GetCurrentView:return function getCurrentView(){return importExpr(Identifiers.getCurrentView).callFn([])}();case ExpressionKind.ReadVariable:if(null===expr.name)throw new Error(`Read of unnamed variable ${expr.xref}`);return variable(expr.name);case ExpressionKind.ReadTemporaryExpr:if(null===expr.name)throw new Error(`Read of unnamed temporary ${expr.xref}`);return variable(expr.name);case ExpressionKind.AssignTemporaryExpr:if(null===expr.name)throw new Error(`Assign of unnamed temporary ${expr.xref}`);return variable(expr.name).set(expr.expr);case ExpressionKind.PureFunctionExpr:if(null===expr.fn)throw new Error("AssertionError: expected PureFunctions to have been extracted");return function pureFunction(varOffset,fn,args){return callVariadicInstructionExpr(PURE_FUNCTION_CONFIG,[literal(varOffset),fn],args,[],null)}(expr.varOffset,expr.fn,expr.args);case ExpressionKind.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case ExpressionKind.PipeBinding:return function pipeBind(slot,varOffset,args){if(args.length<1||args.length>PIPE_BINDINGS.length)throw new Error("pipeBind() argument count out of bounds");return importExpr(PIPE_BINDINGS[args.length-1]).callFn([literal(slot),literal(varOffset),...args])}(expr.targetSlot.slot,expr.varOffset,expr.args);case ExpressionKind.PipeBindingVariadic:return function pipeBindV(slot,varOffset,args){return importExpr(Identifiers.pipeBindV).callFn([literal(slot),literal(varOffset),args])}(expr.targetSlot.slot,expr.varOffset,expr.args);case ExpressionKind.SlotLiteralExpr:return literal(expr.slot.slot);case ExpressionKind.ContextLetReference:return function readContextLet(slot){return importExpr(Identifiers.readContextLet).callFn([literal(slot)])}(expr.targetSlot.slot);case ExpressionKind.StoreLet:return function storeLet(value,sourceSpan){return importExpr(Identifiers.storeLet).callFn([value],sourceSpan)}(expr.value,expr.sourceSpan);case ExpressionKind.TrackContext:return variable("this");default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${ExpressionKind[expr.kind]}`)}}function reifyListenerHandler(unit,name,handlerOps,consumesDollarEvent){reifyUpdateOperations(unit,handlerOps);const handlerStmts=[];for(const op of handlerOps){if(op.kind!==OpKind.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${OpKind[op.kind]}`);handlerStmts.push(op.statement)}const params=[];return consumesDollarEvent&&params.push(new FnParam("$event")),fn(params,handlerStmts,void 0,void 0,name)}function reifyTrackBy(unit,op){if(null!==op.trackByFn)return op.trackByFn;const params=[new FnParam("$index"),new FnParam("$item")];let fn$1;if(null===op.trackByOps)fn$1=op.usesComponentInstance?fn(params,[new ReturnStatement(op.track)]):arrowFn(params,op.track);else{reifyUpdateOperations(unit,op.trackByOps);const statements=[];for(const trackOp of op.trackByOps){if(trackOp.kind!==OpKind.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${OpKind[trackOp.kind]}`);statements.push(trackOp.statement)}fn$1=!op.usesComponentInstance&&1===statements.length&&statements[0]instanceof ReturnStatement?arrowFn(params,statements[0].value):fn(params,statements)}return op.trackByFn=unit.job.pool.getSharedFunctionReference(fn$1,"_forTrack"),op.trackByFn}function processLexicalScope$1(view,ops){const scope=new Map;scope.set(view.xref,variable("ctx"));for(const op of ops)switch(op.kind){case OpKind.Variable:if(op.variable.kind===SemanticVariableKind.Context)scope.set(op.variable.view,new ReadVariableExpr(op.xref));break;case OpKind.Animation:case OpKind.AnimationListener:case OpKind.Listener:case OpKind.TwoWayListener:processLexicalScope$1(view,op.handlerOps);break;case OpKind.RepeaterCreate:null!==op.trackByOps&&processLexicalScope$1(view,op.trackByOps)}view===view.job.root&&scope.set(view.xref,variable("ctx"));for(const op of ops)transformExpressionsInOp(op,expr=>{if(expr instanceof ContextExpr){if(!scope.has(expr.view))throw new Error(`No context found for reference to view ${expr.view} from view ${view.xref}`);return scope.get(expr.view)}return expr},VisitorContextFlag.None)}function transformDollarEvent(ops){for(const op of ops)op.kind!==OpKind.Listener&&op.kind!==OpKind.TwoWayListener&&op.kind!==OpKind.AnimationListener||transformExpressionsInOp(op,expr=>expr instanceof LexicalReadExpr&&"$event"===expr.name?(op.kind!==OpKind.Listener&&op.kind!==OpKind.AnimationListener||(op.consumesDollarEvent=!0),new ReadVarExpr(expr.name)):expr,VisitorContextFlag.InChildOperation)}function resolvePlaceholdersForView(job,unit,i18nContexts,elements,pendingStructuralDirective){let currentOps=null,pendingStructuralDirectiveCloses=new Map;for(const op of unit.create)switch(op.kind){case OpKind.I18nStart:if(!op.context)throw Error("Could not find i18n context for i18n op");currentOps={i18nBlock:op,i18nContext:i18nContexts.get(op.context)};break;case OpKind.I18nEnd:currentOps=null;break;case OpKind.ElementStart:if(void 0!==op.i18nPlaceholder){if(null===currentOps)throw Error("i18n tag placeholder should only occur inside an i18n block");recordElementStart(op,currentOps.i18nContext,currentOps.i18nBlock,pendingStructuralDirective),pendingStructuralDirective&&op.i18nPlaceholder.closeName&&pendingStructuralDirectiveCloses.set(op.xref,pendingStructuralDirective),pendingStructuralDirective=void 0}break;case OpKind.ElementEnd:const startOp=elements.get(op.xref);if(startOp&&void 0!==startOp.i18nPlaceholder){if(null===currentOps)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");recordElementClose(startOp,currentOps.i18nContext,currentOps.i18nBlock,pendingStructuralDirectiveCloses.get(op.xref)),pendingStructuralDirectiveCloses.delete(op.xref)}break;case OpKind.Projection:if(void 0!==op.i18nPlaceholder){if(null===currentOps)throw Error("i18n tag placeholder should only occur inside an i18n block");recordElementStart(op,currentOps.i18nContext,currentOps.i18nBlock,pendingStructuralDirective),recordElementClose(op,currentOps.i18nContext,currentOps.i18nBlock,pendingStructuralDirective),pendingStructuralDirective=void 0}if(null!==op.fallbackView){const view=job.views.get(op.fallbackView);if(void 0===op.fallbackViewI18nPlaceholder)resolvePlaceholdersForView(job,view,i18nContexts,elements);else{if(null===currentOps)throw Error("i18n tag placeholder should only occur inside an i18n block");recordTemplateStart(job,view,op.handle.slot,op.fallbackViewI18nPlaceholder,currentOps.i18nContext,currentOps.i18nBlock,pendingStructuralDirective),resolvePlaceholdersForView(job,view,i18nContexts,elements),recordTemplateClose(job,view,op.handle.slot,op.fallbackViewI18nPlaceholder,currentOps.i18nContext,currentOps.i18nBlock,pendingStructuralDirective),pendingStructuralDirective=void 0}}break;case OpKind.ConditionalCreate:case OpKind.ConditionalBranchCreate:case OpKind.Template:const view=job.views.get(op.xref);if(void 0===op.i18nPlaceholder)resolvePlaceholdersForView(job,view,i18nContexts,elements);else{if(null===currentOps)throw Error("i18n tag placeholder should only occur inside an i18n block");op.templateKind===TemplateKind.Structural?resolvePlaceholdersForView(job,view,i18nContexts,elements,op):(recordTemplateStart(job,view,op.handle.slot,op.i18nPlaceholder,currentOps.i18nContext,currentOps.i18nBlock,pendingStructuralDirective),resolvePlaceholdersForView(job,view,i18nContexts,elements),recordTemplateClose(job,view,op.handle.slot,op.i18nPlaceholder,currentOps.i18nContext,currentOps.i18nBlock,pendingStructuralDirective),pendingStructuralDirective=void 0)}break;case OpKind.RepeaterCreate:if(void 0!==pendingStructuralDirective)throw Error("AssertionError: Unexpected structural directive associated with @for block");const forSlot=op.handle.slot+1,forView=job.views.get(op.xref);if(void 0===op.i18nPlaceholder)resolvePlaceholdersForView(job,forView,i18nContexts,elements);else{if(null===currentOps)throw Error("i18n tag placeholder should only occur inside an i18n block");recordTemplateStart(job,forView,forSlot,op.i18nPlaceholder,currentOps.i18nContext,currentOps.i18nBlock,pendingStructuralDirective),resolvePlaceholdersForView(job,forView,i18nContexts,elements),recordTemplateClose(job,forView,forSlot,op.i18nPlaceholder,currentOps.i18nContext,currentOps.i18nBlock,pendingStructuralDirective),pendingStructuralDirective=void 0}if(null!==op.emptyView){const emptySlot=op.handle.slot+2,emptyView=job.views.get(op.emptyView);if(void 0===op.emptyI18nPlaceholder)resolvePlaceholdersForView(job,emptyView,i18nContexts,elements);else{if(null===currentOps)throw Error("i18n tag placeholder should only occur inside an i18n block");recordTemplateStart(job,emptyView,emptySlot,op.emptyI18nPlaceholder,currentOps.i18nContext,currentOps.i18nBlock,pendingStructuralDirective),resolvePlaceholdersForView(job,emptyView,i18nContexts,elements),recordTemplateClose(job,emptyView,emptySlot,op.emptyI18nPlaceholder,currentOps.i18nContext,currentOps.i18nBlock,pendingStructuralDirective),pendingStructuralDirective=void 0}}}}function recordElementStart(op,i18nContext,i18nBlock,structuralDirective){const{startName,closeName}=op.i18nPlaceholder;let flags=I18nParamValueFlags.ElementTag|I18nParamValueFlags.OpenTag,value=op.handle.slot;void 0!==structuralDirective&&(flags|=I18nParamValueFlags.TemplateTag,value={element:value,template:structuralDirective.handle.slot}),closeName||(flags|=I18nParamValueFlags.CloseTag),addParam(i18nContext.params,startName,value,i18nBlock.subTemplateIndex,flags)}function recordElementClose(op,i18nContext,i18nBlock,structuralDirective){const{closeName}=op.i18nPlaceholder;if(closeName){let flags=I18nParamValueFlags.ElementTag|I18nParamValueFlags.CloseTag,value=op.handle.slot;void 0!==structuralDirective&&(flags|=I18nParamValueFlags.TemplateTag,value={element:value,template:structuralDirective.handle.slot}),addParam(i18nContext.params,closeName,value,i18nBlock.subTemplateIndex,flags)}}function recordTemplateStart(job,view,slot,i18nPlaceholder,i18nContext,i18nBlock,structuralDirective){let{startName,closeName}=i18nPlaceholder,flags=I18nParamValueFlags.TemplateTag|I18nParamValueFlags.OpenTag;closeName||(flags|=I18nParamValueFlags.CloseTag),void 0!==structuralDirective&&addParam(i18nContext.params,startName,structuralDirective.handle.slot,i18nBlock.subTemplateIndex,flags),addParam(i18nContext.params,startName,slot,getSubTemplateIndexForTemplateTag(job,i18nBlock,view),flags)}function recordTemplateClose(job,view,slot,i18nPlaceholder,i18nContext,i18nBlock,structuralDirective){const{closeName}=i18nPlaceholder,flags=I18nParamValueFlags.TemplateTag|I18nParamValueFlags.CloseTag;closeName&&(addParam(i18nContext.params,closeName,slot,getSubTemplateIndexForTemplateTag(job,i18nBlock,view),flags),void 0!==structuralDirective&&addParam(i18nContext.params,closeName,structuralDirective.handle.slot,i18nBlock.subTemplateIndex,flags))}function getSubTemplateIndexForTemplateTag(job,i18nOp,view){for(const childOp of view.create)if(childOp.kind===OpKind.I18nStart)return childOp.subTemplateIndex;return i18nOp.subTemplateIndex}function addParam(params,placeholder,value,subTemplateIndex,flags){const values=params.get(placeholder)??[];values.push({value,subTemplateIndex,flags}),params.set(placeholder,values)}function updatePlaceholder(op,value,i18nContexts,icuPlaceholders){if(null!==op.i18nPlaceholder){const i18nContext=i18nContexts.get(op.context),params=op.resolutionTime===I18nParamResolutionTime.Creation?i18nContext.params:i18nContext.postprocessingParams,values=params.get(op.i18nPlaceholder)||[];values.push(value),params.set(op.i18nPlaceholder,values)}if(null!==op.icuPlaceholder){const icuPlaceholderOp=icuPlaceholders.get(op.icuPlaceholder);icuPlaceholderOp?.expressionPlaceholders.push(value)}}function processLexicalScope(unit,ops,savedView){const scope=new Map,localDefinitions=new Map;for(const op of ops)switch(op.kind){case OpKind.Variable:switch(op.variable.kind){case SemanticVariableKind.Identifier:if(op.variable.local){if(localDefinitions.has(op.variable.identifier))continue;localDefinitions.set(op.variable.identifier,op.xref)}else if(scope.has(op.variable.identifier))continue;scope.set(op.variable.identifier,op.xref);break;case SemanticVariableKind.Alias:if(scope.has(op.variable.identifier))continue;scope.set(op.variable.identifier,op.xref);break;case SemanticVariableKind.SavedView:savedView={view:op.variable.view,variable:op.xref}}break;case OpKind.Animation:case OpKind.AnimationListener:case OpKind.Listener:case OpKind.TwoWayListener:processLexicalScope(unit,op.handlerOps,savedView);break;case OpKind.RepeaterCreate:null!==op.trackByOps&&processLexicalScope(unit,op.trackByOps,savedView)}for(const op of ops)op.kind!=OpKind.Listener&&op.kind!==OpKind.TwoWayListener&&op.kind!==OpKind.Animation&&op.kind!==OpKind.AnimationListener&&transformExpressionsInOp(op,expr=>{if(expr instanceof LexicalReadExpr)return localDefinitions.has(expr.name)?new ReadVariableExpr(localDefinitions.get(expr.name)):scope.has(expr.name)?new ReadVariableExpr(scope.get(expr.name)):new ReadPropExpr(new ContextExpr(unit.job.root.xref),expr.name);if(expr instanceof RestoreViewExpr&&"number"==typeof expr.view){if(null===savedView||savedView.view!==expr.view)throw new Error(`AssertionError: no saved view ${expr.view} from view ${unit.xref}`);return expr.view=new ReadVariableExpr(savedView.variable),expr}return expr},VisitorContextFlag.None);for(const op of ops)visitExpressionsInOp(op,expr=>{if(expr instanceof LexicalReadExpr)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${expr.name}`)})}const sanitizerFns=new Map([[SecurityContext.HTML,Identifiers.sanitizeHtml],[SecurityContext.RESOURCE_URL,Identifiers.sanitizeResourceUrl],[SecurityContext.SCRIPT,Identifiers.sanitizeScript],[SecurityContext.STYLE,Identifiers.sanitizeStyle],[SecurityContext.URL,Identifiers.sanitizeUrl],[SecurityContext.ATTRIBUTE_NO_BINDING,Identifiers.validateAttribute]]),trustedValueFns=new Map([[SecurityContext.HTML,Identifiers.trustConstantHtml],[SecurityContext.RESOURCE_URL,Identifiers.trustConstantResourceUrl]]);function getOnlySecurityContext(securityContext){if(Array.isArray(securityContext)){if(securityContext.length>1)throw Error("AssertionError: Ambiguous security context");return securityContext[0]||SecurityContext.NONE}return securityContext}function addSaveRestoreViewOperationToListener(unit,op){op.handlerOps.prepend([createVariableOp(unit.job.allocateXrefId(),{kind:SemanticVariableKind.Context,name:null,view:unit.xref},new RestoreViewExpr(unit.xref),VariableFlags.None)]);for(const handlerOp of op.handlerOps)handlerOp.kind===OpKind.Statement&&handlerOp.statement instanceof ReturnStatement&&(handlerOp.statement.value=new ResetViewExpr(handlerOp.statement.value))}function hasPipe(root){let result=!1;return transformExpressionsInExpression(root,expr=>((expr instanceof PipeBindingExpr||expr instanceof PipeBindingVariadicExpr)&&(result=!0),expr),VisitorContextFlag.None),result}function checkExponentiationParens(expr,requiredParens){expr.lhs instanceof ParenthesizedExpr&&expr.lhs.expr instanceof UnaryOperatorExpr&&requiredParens.add(expr.lhs)}function checkNullishCoalescingParens(expr,requiredParens){expr.lhs instanceof ParenthesizedExpr&&(isLogicalAndOr(expr.lhs.expr)||expr.lhs.expr instanceof ConditionalExpr)&&requiredParens.add(expr.lhs),expr.rhs instanceof ParenthesizedExpr&&(isLogicalAndOr(expr.rhs.expr)||expr.rhs.expr instanceof ConditionalExpr)&&requiredParens.add(expr.rhs)}function checkAndOrParens(expr,requiredParens){expr.lhs instanceof ParenthesizedExpr&&expr.lhs.expr instanceof BinaryOperatorExpr&&expr.lhs.expr.operator===BinaryOperator.NullishCoalesce&&requiredParens.add(expr.lhs)}function isLogicalAndOr(expr){return expr instanceof BinaryOperatorExpr&&(expr.operator===BinaryOperator.And||expr.operator===BinaryOperator.Or)}function generateTemporaries(ops){let opCount=0,generatedStatements=[];for(const op of ops){const finalReads=new Map;visitExpressionsInOp(op,(expr,flag)=>{flag&VisitorContextFlag.InChildOperation||expr instanceof ReadTemporaryExpr&&finalReads.set(expr.xref,expr)});let count=0;const assigned=new Set,released=new Set,defs=new Map;visitExpressionsInOp(op,(expr,flag)=>{flag&VisitorContextFlag.InChildOperation||(expr instanceof AssignTemporaryExpr?(assigned.has(expr.xref)||(assigned.add(expr.xref),defs.set(expr.xref,`tmp_${opCount}_${count++}`)),assignName(defs,expr)):expr instanceof ReadTemporaryExpr&&(finalReads.get(expr.xref)===expr&&(released.add(expr.xref),count--),assignName(defs,expr)))}),generatedStatements.push(...Array.from(new Set(defs.values())).map(name=>createStatementOp(new DeclareVarStmt(name)))),opCount++,op.kind===OpKind.Listener||op.kind===OpKind.Animation||op.kind===OpKind.AnimationListener||op.kind===OpKind.TwoWayListener?op.handlerOps.prepend(generateTemporaries(op.handlerOps)):op.kind===OpKind.RepeaterCreate&&null!==op.trackByOps&&op.trackByOps.prepend(generateTemporaries(op.trackByOps))}return generatedStatements}function assignName(names,expr){const name=names.get(expr.xref);if(void 0===name)throw new Error(`Found xref with unassigned name: ${expr.xref}`);expr.name=name}function isTrackByFunctionCall(rootView,expr){if(!(expr instanceof InvokeFunctionExpr)||0===expr.args.length||expr.args.length>2)return!1;if(!(expr.receiver instanceof ReadPropExpr&&expr.receiver.receiver instanceof ContextExpr)||expr.receiver.receiver.view!==rootView)return!1;const[arg0,arg1]=expr.args;return arg0 instanceof ReadVarExpr&&"$index"===arg0.name&&(1===expr.args.length||arg1 instanceof ReadVarExpr&&"$item"===arg1.name)}function varsUsedByOp(op){let slots;switch(op.kind){case OpKind.Attribute:return slots=1,op.expression instanceof Interpolation&&!function isSingletonInterpolation(expr){if(1!==expr.expressions.length||2!==expr.strings.length)return!1;if(""!==expr.strings[0]||""!==expr.strings[1])return!1;return!0}(op.expression)&&(slots+=op.expression.expressions.length),slots;case OpKind.Property:case OpKind.DomProperty:return slots=1,op.expression instanceof Interpolation&&(slots+=op.expression.expressions.length),slots;case OpKind.TwoWayProperty:return 1;case OpKind.StyleProp:case OpKind.ClassProp:case OpKind.StyleMap:case OpKind.ClassMap:return slots=2,op.expression instanceof Interpolation&&(slots+=op.expression.expressions.length),slots;case OpKind.InterpolateText:return op.interpolation.expressions.length;case OpKind.I18nExpression:case OpKind.Conditional:case OpKind.DeferWhen:case OpKind.StoreLet:return 1;case OpKind.RepeaterCreate:return op.emptyView?1:0;default:throw new Error(`Unhandled op: ${OpKind[op.kind]}`)}}function varsUsedByIrExpression(expr){switch(expr.kind){case ExpressionKind.PureFunctionExpr:case ExpressionKind.PipeBinding:return 1+expr.args.length;case ExpressionKind.PipeBindingVariadic:return 1+expr.numArgs;case ExpressionKind.StoreLet:return 1;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${expr.constructor.name}`)}}var Fence;function inlineAlwaysInlineVariables(ops){const vars=new Map;for(const op of ops)op.kind===OpKind.Variable&&op.flags&VariableFlags.AlwaysInline&&(visitExpressionsInOp(op,expr=>{if(isIrExpression(expr)&&fencesForIrExpression(expr)!==Fence.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),vars.set(op.xref,op)),transformExpressionsInOp(op,expr=>{if(expr instanceof ReadVariableExpr&&vars.has(expr.xref)){return vars.get(expr.xref).initializer.clone()}return expr},VisitorContextFlag.None);for(const op of vars.values())OpList.remove(op)}function optimizeVariablesInOpList(ops,compatibility){const varDecls=new Map,varUsages=new Map,varRemoteUsages=new Set,opMap=new Map;for(const op of ops){if(op.kind===OpKind.Variable){if(varDecls.has(op.xref)||varUsages.has(op.xref))throw new Error(`Should not see two declarations of the same variable: ${op.xref}`);varDecls.set(op.xref,op),varUsages.set(op.xref,0)}opMap.set(op,collectOpInfo(op)),countVariableUsages(op,varUsages,varRemoteUsages)}let contextIsUsed=!1;for(const op of ops.reversed()){const opInfo=opMap.get(op);if(op.kind!==OpKind.Variable||0!==varUsages.get(op.xref))opInfo.fences&Fence.ViewContextRead&&(contextIsUsed=!0);else{if(contextIsUsed&&opInfo.fences&Fence.ViewContextWrite||opInfo.fences&Fence.SideEffectful){const stmtOp=createStatementOp(op.initializer.toStmt());opMap.set(stmtOp,opInfo),OpList.replace(op,stmtOp)}else uncountVariableUsages(op,varUsages),OpList.remove(op);opMap.delete(op),varDecls.delete(op.xref),varUsages.delete(op.xref)}}const toInline=[];for(const[id,count]of varUsages){const isAlwaysInline=!!(varDecls.get(id).flags&VariableFlags.AlwaysInline);1!==count||isAlwaysInline||(varRemoteUsages.has(id)||toInline.push(id))}let candidate;for(;candidate=toInline.pop();){const decl=varDecls.get(candidate),varInfo=opMap.get(decl);if(!!(decl.flags&VariableFlags.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let targetOp=decl.next;targetOp.kind!==OpKind.ListEnd;targetOp=targetOp.next){const opInfo=opMap.get(targetOp);if(opInfo.variablesUsed.has(candidate)){if(compatibility===CompatibilityMode.TemplateDefinitionBuilder&&!allowConservativeInlining(decl,targetOp))break;if(tryInlineVariableInitializer(candidate,decl.initializer,targetOp,varInfo.fences)){opInfo.variablesUsed.delete(candidate);for(const id of varInfo.variablesUsed)opInfo.variablesUsed.add(id);opInfo.fences|=varInfo.fences,varDecls.delete(candidate),varUsages.delete(candidate),opMap.delete(decl),OpList.remove(decl)}break}if(!safeToInlinePastFences(opInfo.fences,varInfo.fences))break}}}function fencesForIrExpression(expr){switch(expr.kind){case ExpressionKind.NextContext:return Fence.ViewContextRead|Fence.ViewContextWrite;case ExpressionKind.RestoreView:return Fence.ViewContextRead|Fence.ViewContextWrite|Fence.SideEffectful;case ExpressionKind.StoreLet:return Fence.SideEffectful;case ExpressionKind.Reference:case ExpressionKind.ContextLetReference:return Fence.ViewContextRead;default:return Fence.None}}function collectOpInfo(op){let fences=Fence.None;const variablesUsed=new Set;return visitExpressionsInOp(op,expr=>{if(isIrExpression(expr))if(expr.kind===ExpressionKind.ReadVariable)variablesUsed.add(expr.xref);else fences|=fencesForIrExpression(expr)}),{fences,variablesUsed}}function countVariableUsages(op,varUsages,varRemoteUsage){visitExpressionsInOp(op,(expr,flags)=>{if(!isIrExpression(expr))return;if(expr.kind!==ExpressionKind.ReadVariable)return;const count=varUsages.get(expr.xref);void 0!==count&&(varUsages.set(expr.xref,count+1),flags&VisitorContextFlag.InChildOperation&&varRemoteUsage.add(expr.xref))})}function uncountVariableUsages(op,varUsages){visitExpressionsInOp(op,expr=>{if(!isIrExpression(expr))return;if(expr.kind!==ExpressionKind.ReadVariable)return;const count=varUsages.get(expr.xref);if(void 0!==count){if(0===count)throw new Error(`Inaccurate variable count: ${expr.xref} - found another read but count is already 0`);varUsages.set(expr.xref,count-1)}})}function safeToInlinePastFences(fences,declFences){if(fences&Fence.ViewContextWrite){if(declFences&Fence.ViewContextRead)return!1}else if(fences&Fence.ViewContextRead&&declFences&Fence.ViewContextWrite)return!1;return!0}function tryInlineVariableInitializer(id,initializer,target,declFences){let inlined=!1,inliningAllowed=!0;return transformExpressionsInOp(target,(expr,flags)=>{if(!isIrExpression(expr))return expr;if(inlined||!inliningAllowed)return expr;if(flags&VisitorContextFlag.InChildOperation&&declFences&Fence.ViewContextRead)return expr;if(expr.kind===ExpressionKind.ReadVariable){if(expr.xref===id)return inlined=!0,initializer}else{const exprFences=fencesForIrExpression(expr);inliningAllowed=inliningAllowed&&safeToInlinePastFences(exprFences,declFences)}return expr},VisitorContextFlag.None),inlined}function allowConservativeInlining(decl,target){switch(decl.variable.kind){case SemanticVariableKind.Identifier:return decl.initializer instanceof ReadVarExpr&&"ctx"===decl.initializer.name;case SemanticVariableKind.Context:return target.kind===OpKind.Variable;default:return!0}}!function(Fence){Fence[Fence.None=0]="None",Fence[Fence.ViewContextRead=1]="ViewContextRead",Fence[Fence.ViewContextWrite=2]="ViewContextWrite",Fence[Fence.SideEffectful=4]="SideEffectful"}(Fence||(Fence={}));const phases=[{kind:CompilationJobKind.Tmpl,fn:function removeContentSelectors(job){for(const unit of job.units){const elements=createOpXrefMap(unit);for(const op of unit.ops())if(op.kind===OpKind.Binding){const target=lookupInXrefMap(elements,op.target);isSelectAttribute(op.name)&&target.kind===OpKind.Projection&&OpList.remove(op)}}}},{kind:CompilationJobKind.Host,fn:function parseHostStyleProperties(job){for(const op of job.root.update)if(op.kind===OpKind.Binding&&op.bindingKind===BindingKind.Property)if(op.name.endsWith("!important")&&(op.name=op.name.substring(0,op.name.length-10)),op.name.startsWith("style.")){op.bindingKind=BindingKind.StyleProperty,op.name=op.name.substring(6),isCssCustomProperty(op.name)||(op.name=hyphenate$1(op.name));const{property,suffix}=parseProperty(op.name);op.name=property,op.unit=suffix}else op.name.startsWith("style!")?(op.bindingKind=BindingKind.StyleProperty,op.name="style"):(op.name.startsWith("class.")||op.name.startsWith("class!"))&&(op.bindingKind=BindingKind.ClassName,op.name=parseProperty(op.name.substring(6)).property)}},{kind:CompilationJobKind.Tmpl,fn:function emitNamespaceChanges(job){for(const unit of job.units){let activeNamespace=Namespace.HTML;for(const op of unit.create)op.kind===OpKind.ElementStart&&op.namespace!==activeNamespace&&(OpList.insertBefore(createNamespaceOp(op.namespace),op),activeNamespace=op.namespace)}}},{kind:CompilationJobKind.Tmpl,fn:function propagateI18nBlocks(job){propagateI18nBlocksToTemplates(job.root,0)}},{kind:CompilationJobKind.Tmpl,fn:function wrapI18nIcus(job){for(const unit of job.units){let currentI18nOp=null,addedI18nId=null;for(const op of unit.create)switch(op.kind){case OpKind.I18nStart:currentI18nOp=op;break;case OpKind.I18nEnd:currentI18nOp=null;break;case OpKind.IcuStart:null===currentI18nOp&&(addedI18nId=job.allocateXrefId(),OpList.insertBefore(createI18nStartOp(addedI18nId,op.message,void 0,null),op));break;case OpKind.IcuEnd:null!==addedI18nId&&(OpList.insertAfter(createI18nEndOp(addedI18nId,null),op),addedI18nId=null)}}}},{kind:CompilationJobKind.Both,fn:function deduplicateTextBindings(job){const seen=new Map;for(const unit of job.units)for(const op of unit.update.reversed())if(op.kind===OpKind.Binding&&op.isTextAttribute){const seenForElement=seen.get(op.target)||new Set;seenForElement.has(op.name)&&job.compatibility===CompatibilityMode.TemplateDefinitionBuilder&&("style"!==op.name&&"class"!==op.name||OpList.remove(op)),seenForElement.add(op.name),seen.set(op.target,seenForElement)}}},{kind:CompilationJobKind.Both,fn:function specializeStyleBindings(job){for(const unit of job.units)for(const op of unit.update)if(op.kind===OpKind.Binding)switch(op.bindingKind){case BindingKind.ClassName:if(op.expression instanceof Interpolation)throw new Error("Unexpected interpolation in ClassName binding");OpList.replace(op,createClassPropOp(op.target,op.name,op.expression,op.sourceSpan));break;case BindingKind.StyleProperty:OpList.replace(op,createStylePropOp(op.target,op.name,op.expression,op.unit,op.sourceSpan));break;case BindingKind.Property:case BindingKind.Template:"style"===op.name?OpList.replace(op,createStyleMapOp(op.target,op.expression,op.sourceSpan)):"class"===op.name&&OpList.replace(op,createClassMapOp(op.target,op.expression,op.sourceSpan))}}},{kind:CompilationJobKind.Both,fn:function specializeBindings(job){const elements=new Map;for(const unit of job.units)for(const op of unit.create)isElementOrContainerOp(op)&&elements.set(op.xref,op);for(const unit of job.units)for(const op of unit.ops())if(op.kind===OpKind.Binding)switch(op.bindingKind){case BindingKind.Attribute:if("ngNonBindable"===op.name){OpList.remove(op);lookupElement$2(elements,op.target).nonBindable=!0}else if(op.name.startsWith("animate."))OpList.replace(op,createAnimationBindingOp(op.name,op.target,"animate.enter"===op.name?"enter":"leave",op.expression,op.securityContext,op.sourceSpan,0));else{const[namespace,name]=splitNsName(op.name);OpList.replace(op,createAttributeOp(op.target,namespace,name,op.expression,op.securityContext,op.isTextAttribute,op.isStructuralTemplateAttribute,op.templateKind,op.i18nMessage,op.sourceSpan))}break;case BindingKind.Animation:OpList.replace(op,createAnimationBindingOp(op.name,op.target,"animate.enter"===op.name?"enter":"leave",op.expression,op.securityContext,op.sourceSpan,1));break;case BindingKind.Property:case BindingKind.LegacyAnimation:job.mode===TemplateCompilationMode.DomOnly&&isAriaAttribute(op.name)?OpList.replace(op,createAttributeOp(op.target,null,op.name,op.expression,op.securityContext,!1,op.isStructuralTemplateAttribute,op.templateKind,op.i18nMessage,op.sourceSpan)):job.kind===CompilationJobKind.Host?OpList.replace(op,createDomPropertyOp(op.name,op.expression,op.bindingKind,op.i18nContext,op.securityContext,op.sourceSpan)):OpList.replace(op,createPropertyOp(op.target,op.name,op.expression,op.bindingKind,op.securityContext,op.isStructuralTemplateAttribute,op.templateKind,op.i18nContext,op.i18nMessage,op.sourceSpan));break;case BindingKind.TwoWayProperty:if(!(op.expression instanceof Expression))throw new Error(`Expected value of two-way property binding "${op.name}" to be an expression`);OpList.replace(op,createTwoWayPropertyOp(op.target,op.name,op.expression,op.securityContext,op.isStructuralTemplateAttribute,op.templateKind,op.i18nContext,op.i18nMessage,op.sourceSpan));break;case BindingKind.I18n:case BindingKind.ClassName:case BindingKind.StyleProperty:throw new Error(`Unhandled binding of kind ${BindingKind[op.bindingKind]}`)}}},{kind:CompilationJobKind.Both,fn:function convertAnimations(job){const elements=new Map;for(const unit of job.units)for(const op of unit.create)isElementOrContainerOp(op)&&elements.set(op.xref,op);for(const unit of job.units)for(const op of unit.ops())if(op.kind===OpKind.AnimationBinding){const createAnimationOp=getAnimationOp(op);job.kind===CompilationJobKind.Host?unit.create.push(createAnimationOp):OpList.insertAfter(createAnimationOp,lookupElement$1(elements,op.target)),OpList.remove(op)}}},{kind:CompilationJobKind.Both,fn:function extractAttributes(job){for(const unit of job.units){const elements=createOpXrefMap(unit);for(const op of unit.ops())switch(op.kind){case OpKind.Attribute:extractAttributeOp(unit,op,elements);break;case OpKind.Property:if(op.bindingKind!==BindingKind.LegacyAnimation&&op.bindingKind!==BindingKind.Animation){let bindingKind;bindingKind=null!==op.i18nMessage&&null===op.templateKind?BindingKind.I18n:op.isStructuralTemplateAttribute?BindingKind.Template:BindingKind.Property,OpList.insertBefore(createExtractedAttributeOp(op.target,bindingKind,null,op.name,null,null,null,op.securityContext),lookupElement$3(elements,op.target))}break;case OpKind.TwoWayProperty:OpList.insertBefore(createExtractedAttributeOp(op.target,BindingKind.TwoWayProperty,null,op.name,null,null,null,op.securityContext),lookupElement$3(elements,op.target));break;case OpKind.StyleProp:case OpKind.ClassProp:unit.job.compatibility===CompatibilityMode.TemplateDefinitionBuilder&&op.expression instanceof EmptyExpr&&OpList.insertBefore(createExtractedAttributeOp(op.target,BindingKind.Property,null,op.name,null,null,null,SecurityContext.STYLE),lookupElement$3(elements,op.target));break;case OpKind.Listener:if(!op.isLegacyAnimationListener){const extractedAttributeOp=createExtractedAttributeOp(op.target,BindingKind.Property,null,op.name,null,null,null,SecurityContext.NONE);if(job.kind===CompilationJobKind.Host){if(job.compatibility)break;unit.create.push(extractedAttributeOp)}else OpList.insertBefore(extractedAttributeOp,lookupElement$3(elements,op.target))}break;case OpKind.TwoWayListener:if(job.kind!==CompilationJobKind.Host){const extractedAttributeOp=createExtractedAttributeOp(op.target,BindingKind.Property,null,op.name,null,null,null,SecurityContext.NONE);OpList.insertBefore(extractedAttributeOp,lookupElement$3(elements,op.target))}}}}},{kind:CompilationJobKind.Tmpl,fn:function createI18nContexts(job){const attrContextByMessage=new Map;for(const unit of job.units)for(const op of unit.ops())switch(op.kind){case OpKind.Binding:case OpKind.Property:case OpKind.Attribute:case OpKind.ExtractedAttribute:if(null===op.i18nMessage)continue;if(!attrContextByMessage.has(op.i18nMessage)){const i18nContext=createI18nContextOp(I18nContextKind.Attr,job.allocateXrefId(),null,op.i18nMessage,null);unit.create.push(i18nContext),attrContextByMessage.set(op.i18nMessage,i18nContext.xref)}op.i18nContext=attrContextByMessage.get(op.i18nMessage)}const blockContextByI18nBlock=new Map;for(const unit of job.units)for(const op of unit.create)if(op.kind===OpKind.I18nStart)if(op.xref===op.root){const contextOp=createI18nContextOp(I18nContextKind.RootI18n,job.allocateXrefId(),op.xref,op.message,null);unit.create.push(contextOp),op.context=contextOp.xref,blockContextByI18nBlock.set(op.xref,contextOp)}for(const unit of job.units)for(const op of unit.create)if(op.kind===OpKind.I18nStart&&op.xref!==op.root){const rootContext=blockContextByI18nBlock.get(op.root);if(void 0===rootContext)throw Error("AssertionError: Root i18n block i18n context should have been created.");op.context=rootContext.xref,blockContextByI18nBlock.set(op.xref,rootContext)}let currentI18nOp=null;for(const unit of job.units)for(const op of unit.create)switch(op.kind){case OpKind.I18nStart:currentI18nOp=op;break;case OpKind.I18nEnd:currentI18nOp=null;break;case OpKind.IcuStart:if(null===currentI18nOp)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(op.message.id!==currentI18nOp.message.id){const contextOp=createI18nContextOp(I18nContextKind.Icu,job.allocateXrefId(),currentI18nOp.root,op.message,null);unit.create.push(contextOp),op.context=contextOp.xref}else op.context=currentI18nOp.context,blockContextByI18nBlock.get(currentI18nOp.xref).contextKind=I18nContextKind.Icu}}},{kind:CompilationJobKind.Both,fn:function parseExtractedStyles(job){const elements=new Map;for(const unit of job.units)for(const op of unit.create)isElementOrContainerOp(op)&&elements.set(op.xref,op);for(const unit of job.units)for(const op of unit.create)if(op.kind===OpKind.ExtractedAttribute&&op.bindingKind===BindingKind.Attribute&&isStringLiteral(op.expression)){const target=elements.get(op.target);if(void 0!==target&&(target.kind===OpKind.Template||target.kind===OpKind.ConditionalCreate||target.kind===OpKind.ConditionalBranchCreate)&&target.templateKind===TemplateKind.Structural)continue;if("style"===op.name){const parsedStyles=parse(op.expression.value);for(let i=0;i<parsedStyles.length-1;i+=2)OpList.insertBefore(createExtractedAttributeOp(op.target,BindingKind.StyleProperty,null,parsedStyles[i],literal(parsedStyles[i+1]),null,null,SecurityContext.STYLE),op);OpList.remove(op)}else if("class"===op.name){const parsedClasses=op.expression.value.trim().split(/\s+/g);for(const parsedClass of parsedClasses)OpList.insertBefore(createExtractedAttributeOp(op.target,BindingKind.ClassName,null,parsedClass,null,null,null,SecurityContext.NONE),op);OpList.remove(op)}}}},{kind:CompilationJobKind.Tmpl,fn:function removeEmptyBindings(job){for(const unit of job.units)for(const op of unit.update)switch(op.kind){case OpKind.Attribute:case OpKind.Binding:case OpKind.ClassProp:case OpKind.ClassMap:case OpKind.Property:case OpKind.StyleProp:case OpKind.StyleMap:op.expression instanceof EmptyExpr&&OpList.remove(op)}}},{kind:CompilationJobKind.Both,fn:function collapseSingletonInterpolations(job){for(const unit of job.units)for(const op of unit.update){(op.kind===OpKind.Attribute||op.kind===OpKind.StyleProp||op.kind==OpKind.StyleMap||op.kind===OpKind.ClassMap)&&op.expression instanceof Interpolation&&2===op.expression.strings.length&&op.expression.strings.every(s=>""===s)&&(op.expression=op.expression.expressions[0])}}},{kind:CompilationJobKind.Both,fn:function orderOps(job){for(const unit of job.units){orderWithin(unit.create,CREATE_ORDERING);const ordering=unit.job.kind===CompilationJobKind.Host?UPDATE_HOST_ORDERING:UPDATE_ORDERING;orderWithin(unit.update,ordering)}}},{kind:CompilationJobKind.Tmpl,fn:function generateConditionalExpressions(job){for(const unit of job.units)for(const op of unit.ops()){if(op.kind!==OpKind.Conditional)continue;let test;const defaultCase=op.conditions.findIndex(cond=>null===cond.expr);if(defaultCase>=0){const slot=op.conditions.splice(defaultCase,1)[0].targetSlot;test=new SlotLiteralExpr(slot)}else test=literal(-1);let tmp=null==op.test?null:new AssignTemporaryExpr(op.test,job.allocateXrefId()),caseExpressionTemporaryXref=null;for(let i=op.conditions.length-1;i>=0;i--){let conditionalCase=op.conditions[i];if(null!==conditionalCase.expr){if(null!==tmp){const useTmp=0===i?tmp:new ReadTemporaryExpr(tmp.xref);conditionalCase.expr=new BinaryOperatorExpr(BinaryOperator.Identical,useTmp,conditionalCase.expr)}else null!==conditionalCase.alias&&(caseExpressionTemporaryXref??=job.allocateXrefId(),conditionalCase.expr=new AssignTemporaryExpr(conditionalCase.expr,caseExpressionTemporaryXref),op.contextValue=new ReadTemporaryExpr(caseExpressionTemporaryXref));test=new ConditionalExpr(conditionalCase.expr,new SlotLiteralExpr(conditionalCase.targetSlot),test)}}op.processed=test,op.conditions=[]}}},{kind:CompilationJobKind.Tmpl,fn:function createPipes(job){for(const unit of job.units)processPipeBindingsInView(unit)}},{kind:CompilationJobKind.Tmpl,fn:function configureDeferInstructions(job){for(const unit of job.units)for(const op of unit.create)op.kind===OpKind.Defer&&(null!==op.placeholderMinimumTime&&(op.placeholderConfig=new ConstCollectedExpr(literalOrArrayLiteral([op.placeholderMinimumTime]))),null===op.loadingMinimumTime&&null===op.loadingAfterTime||(op.loadingConfig=new ConstCollectedExpr(literalOrArrayLiteral([op.loadingMinimumTime,op.loadingAfterTime]))))}},{kind:CompilationJobKind.Tmpl,fn:function createVariadicPipes(job){for(const unit of job.units)for(const op of unit.update)transformExpressionsInOp(op,expr=>expr instanceof PipeBindingExpr?expr.args.length<=4?expr:new PipeBindingVariadicExpr(expr.target,expr.targetSlot,expr.name,literalArr(expr.args),expr.args.length):expr,VisitorContextFlag.None)}},{kind:CompilationJobKind.Both,fn:function generatePureLiteralStructures(job){for(const unit of job.units)for(const op of unit.update)transformExpressionsInOp(op,(expr,flags)=>flags&VisitorContextFlag.InChildOperation?expr:expr instanceof LiteralArrayExpr?transformLiteralArray(expr):expr instanceof LiteralMapExpr?transformLiteralMap(expr):expr,VisitorContextFlag.None)}},{kind:CompilationJobKind.Tmpl,fn:function generateProjectionDefs(job){const share=job.compatibility===CompatibilityMode.TemplateDefinitionBuilder,selectors=[];let projectionSlotIndex=0;for(const unit of job.units)for(const op of unit.create)op.kind===OpKind.Projection&&(selectors.push(op.selector),op.projectionSlotIndex=projectionSlotIndex++);if(selectors.length>0){let defExpr=null;if(selectors.length>1||"*"!==selectors[0]){const def=selectors.map(s=>"*"===s?s:parseSelectorToR3Selector(s));defExpr=job.pool.getConstLiteral(literalOrArrayLiteral(def),share)}job.contentSelectors=job.pool.getConstLiteral(literalOrArrayLiteral(selectors),share),job.root.create.prepend([(def=defExpr,{kind:OpKind.ProjectionDef,def,...NEW_OP})])}var def}},{kind:CompilationJobKind.Tmpl,fn:function generateLocalLetReferences(job){for(const unit of job.units)for(const op of unit.update){if(op.kind!==OpKind.StoreLet)continue;const variable={kind:SemanticVariableKind.Identifier,name:null,identifier:op.declaredName,local:!0};OpList.replace(op,createVariableOp(job.allocateXrefId(),variable,new StoreLetExpr(op.target,op.value,op.sourceSpan),VariableFlags.None))}}},{kind:CompilationJobKind.Tmpl,fn:function generateVariables(job){recursivelyProcessView(job.root,null)}},{kind:CompilationJobKind.Tmpl,fn:function saveAndRestoreView(job){for(const unit of job.units){unit.create.prepend([createVariableOp(unit.job.allocateXrefId(),{kind:SemanticVariableKind.SavedView,name:null,view:unit.xref},new GetCurrentViewExpr,VariableFlags.None)]);for(const op of unit.create){if(op.kind!==OpKind.Listener&&op.kind!==OpKind.TwoWayListener&&op.kind!==OpKind.Animation&&op.kind!==OpKind.AnimationListener)continue;let needsRestoreView=unit!==job.root;if(!needsRestoreView)for(const handlerOp of op.handlerOps)visitExpressionsInOp(handlerOp,expr=>{(expr instanceof ReferenceExpr||expr instanceof ContextLetReferenceExpr)&&(needsRestoreView=!0)});needsRestoreView&&addSaveRestoreViewOperationToListener(unit,op)}}}},{kind:CompilationJobKind.Both,fn:function deleteAnyCasts(job){for(const unit of job.units)for(const op of unit.ops())transformExpressionsInOp(op,removeAnys,VisitorContextFlag.None)}},{kind:CompilationJobKind.Both,fn:function resolveDollarEvent(job){for(const unit of job.units)transformDollarEvent(unit.create),transformDollarEvent(unit.update)}},{kind:CompilationJobKind.Tmpl,fn:function generateTrackVariables(job){for(const unit of job.units)for(const op of unit.create)op.kind===OpKind.RepeaterCreate&&(op.track=transformExpressionsInExpression(op.track,expr=>{if(expr instanceof LexicalReadExpr){if(op.varNames.$index.has(expr.name))return variable("$index");if(expr.name===op.varNames.$implicit)return variable("$item")}return expr},VisitorContextFlag.None))}},{kind:CompilationJobKind.Tmpl,fn:function removeIllegalLetReferences(job){for(const unit of job.units)for(const op of unit.update){if(op.kind!==OpKind.Variable||op.variable.kind!==SemanticVariableKind.Identifier||!(op.initializer instanceof StoreLetExpr))continue;const name=op.variable.identifier;let current=op;for(;current&&current.kind!==OpKind.ListEnd;)transformExpressionsInOp(current,expr=>expr instanceof LexicalReadExpr&&expr.name===name?literal(void 0):expr,VisitorContextFlag.None),current=current.prev}}},{kind:CompilationJobKind.Both,fn:function resolveNames(job){for(const unit of job.units)processLexicalScope(unit,unit.create,null),processLexicalScope(unit,unit.update,null)}},{kind:CompilationJobKind.Tmpl,fn:function resolveDeferTargetNames(job){const scopes=new Map;function getScopeForView(view){if(scopes.has(view.xref))return scopes.get(view.xref);const scope=new Scope$1;for(const op of view.create)if(isElementOrContainerOp(op)&&null!==op.localRefs){if(!Array.isArray(op.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(const ref of op.localRefs)""===ref.target&&scope.targets.set(ref.name,{xref:op.xref,slot:op.handle})}return scopes.set(view.xref,scope),scope}function resolveTrigger(deferOwnerView,op,placeholderView){switch(op.trigger.kind){case DeferTriggerKind.Idle:case DeferTriggerKind.Never:case DeferTriggerKind.Immediate:case DeferTriggerKind.Timer:return;case DeferTriggerKind.Hover:case DeferTriggerKind.Interaction:case DeferTriggerKind.Viewport:if(null===op.trigger.targetName){if(null===placeholderView)throw new Error("defer on trigger with no target name must have a placeholder block");const placeholder=job.views.get(placeholderView);if(null==placeholder)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(const placeholderOp of placeholder.create)if(hasConsumesSlotTrait(placeholderOp)&&(isElementOrContainerOp(placeholderOp)||placeholderOp.kind===OpKind.Projection))return op.trigger.targetXref=placeholderOp.xref,op.trigger.targetView=placeholderView,op.trigger.targetSlotViewSteps=-1,void(op.trigger.targetSlot=placeholderOp.handle);return}let view=null!==placeholderView?job.views.get(placeholderView):deferOwnerView,step=null!==placeholderView?-1:0;for(;null!==view;){const scope=getScopeForView(view);if(scope.targets.has(op.trigger.targetName)){const{xref,slot}=scope.targets.get(op.trigger.targetName);return op.trigger.targetXref=xref,op.trigger.targetView=view.xref,op.trigger.targetSlotViewSteps=step,void(op.trigger.targetSlot=slot)}view=null!==view.parent?job.views.get(view.parent):null,step++}break;default:throw new Error(`Trigger kind ${op.trigger.kind} not handled`)}}for(const unit of job.units){const defers=new Map;for(const op of unit.create)switch(op.kind){case OpKind.Defer:defers.set(op.xref,op);break;case OpKind.DeferOn:const deferOp=defers.get(op.defer);resolveTrigger(unit,op,"hydrate"===op.modifier?deferOp.mainView:deferOp.placeholderView)}}}},{kind:CompilationJobKind.Tmpl,fn:function transformTwoWayBindingSet(job){for(const unit of job.units)for(const op of unit.create)op.kind===OpKind.TwoWayListener&&transformExpressionsInOp(op,expr=>{if(!(expr instanceof TwoWayBindingSetExpr))return expr;const{target,value}=expr;if(target instanceof ReadPropExpr||target instanceof ReadKeyExpr)return twoWayBindingSet(target,value).or(target.set(value));if(target instanceof ReadVariableExpr)return twoWayBindingSet(target,value);throw new Error("Unsupported expression in two-way action binding.")},VisitorContextFlag.InChildOperation)}},{kind:CompilationJobKind.Tmpl,fn:function optimizeTrackFns(job){for(const unit of job.units)for(const op of unit.create)if(op.kind===OpKind.RepeaterCreate)if(op.track instanceof ReadVarExpr&&"$index"===op.track.name)op.trackByFn=importExpr(Identifiers.repeaterTrackByIndex);else if(op.track instanceof ReadVarExpr&&"$item"===op.track.name)op.trackByFn=importExpr(Identifiers.repeaterTrackByIdentity);else if(isTrackByFunctionCall(job.root.xref,op.track))op.usesComponentInstance=!0,op.track.receiver.receiver.view===unit.xref?op.trackByFn=op.track.receiver:(op.trackByFn=importExpr(Identifiers.componentInstance).callFn([]).prop(op.track.receiver.name),op.track=op.trackByFn);else{op.track=transformExpressionsInExpression(op.track,expr=>{if(expr instanceof PipeBindingExpr||expr instanceof PipeBindingVariadicExpr)throw new Error("Illegal State: Pipes are not allowed in this context");return expr instanceof ContextExpr?(op.usesComponentInstance=!0,new TrackContextExpr(expr.view)):expr},VisitorContextFlag.None);const trackOpList=new OpList;trackOpList.push(createStatementOp(new ReturnStatement(op.track,op.track.sourceSpan))),op.trackByOps=trackOpList}}},{kind:CompilationJobKind.Both,fn:function resolveContexts(job){for(const unit of job.units)processLexicalScope$1(unit,unit.create),processLexicalScope$1(unit,unit.update)}},{kind:CompilationJobKind.Both,fn:function resolveSanitizers(job){for(const unit of job.units){if(job.kind!==CompilationJobKind.Host)for(const op of unit.create)if(op.kind===OpKind.ExtractedAttribute){const trustedValueFn=trustedValueFns.get(getOnlySecurityContext(op.securityContext))??null;op.trustedValueFn=null!==trustedValueFn?importExpr(trustedValueFn):null}for(const op of unit.update)switch(op.kind){case OpKind.Property:case OpKind.Attribute:case OpKind.DomProperty:let sanitizerFn=null;sanitizerFn=Array.isArray(op.securityContext)&&2===op.securityContext.length&&op.securityContext.includes(SecurityContext.URL)&&op.securityContext.includes(SecurityContext.RESOURCE_URL)?Identifiers.sanitizeUrlOrResourceUrl:sanitizerFns.get(getOnlySecurityContext(op.securityContext))??null,op.sanitizer=null!==sanitizerFn?importExpr(sanitizerFn):null}}}},{kind:CompilationJobKind.Tmpl,fn:function liftLocalRefs(job){for(const unit of job.units)for(const op of unit.create)switch(op.kind){case OpKind.ElementStart:case OpKind.ConditionalCreate:case OpKind.ConditionalBranchCreate:case OpKind.Template:if(!Array.isArray(op.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(op.numSlotsUsed+=op.localRefs.length,op.localRefs.length>0){const localRefs=serializeLocalRefs(op.localRefs);op.localRefs=job.addConst(localRefs)}else op.localRefs=null}}},{kind:CompilationJobKind.Both,fn:function expandSafeReads(job){for(const unit of job.units)for(const op of unit.ops())transformExpressionsInOp(op,e=>safeTransform(e,{job}),VisitorContextFlag.None),transformExpressionsInOp(op,ternaryTransform,VisitorContextFlag.None)}},{kind:CompilationJobKind.Both,fn:function stripNonrequiredParentheses(job){const requiredParens=new Set;for(const unit of job.units)for(const op of unit.ops())visitExpressionsInOp(op,expr=>{if(expr instanceof BinaryOperatorExpr)switch(expr.operator){case BinaryOperator.Exponentiation:checkExponentiationParens(expr,requiredParens);break;case BinaryOperator.NullishCoalesce:checkNullishCoalescingParens(expr,requiredParens);break;case BinaryOperator.And:case BinaryOperator.Or:checkAndOrParens(expr,requiredParens)}});for(const unit of job.units)for(const op of unit.ops())transformExpressionsInOp(op,expr=>expr instanceof ParenthesizedExpr?requiredParens.has(expr)?expr:expr.expr:expr,VisitorContextFlag.None)}},{kind:CompilationJobKind.Both,fn:function generateTemporaryVariables(job){for(const unit of job.units)unit.create.prepend(generateTemporaries(unit.create)),unit.update.prepend(generateTemporaries(unit.update))}},{kind:CompilationJobKind.Both,fn:function optimizeVariables(job){for(const unit of job.units){inlineAlwaysInlineVariables(unit.create),inlineAlwaysInlineVariables(unit.update);for(const op of unit.create)op.kind===OpKind.Listener||op.kind===OpKind.Animation||op.kind===OpKind.AnimationListener||op.kind===OpKind.TwoWayListener?inlineAlwaysInlineVariables(op.handlerOps):op.kind===OpKind.RepeaterCreate&&null!==op.trackByOps&&inlineAlwaysInlineVariables(op.trackByOps);optimizeVariablesInOpList(unit.create,job.compatibility),optimizeVariablesInOpList(unit.update,job.compatibility);for(const op of unit.create)op.kind===OpKind.Listener||op.kind===OpKind.Animation||op.kind===OpKind.AnimationListener||op.kind===OpKind.TwoWayListener?optimizeVariablesInOpList(op.handlerOps,job.compatibility):op.kind===OpKind.RepeaterCreate&&null!==op.trackByOps&&optimizeVariablesInOpList(op.trackByOps,job.compatibility)}}},{kind:CompilationJobKind.Both,fn:function optimizeStoreLet(job){const letUsedExternally=new Set,declareLetOps=new Map;for(const unit of job.units)for(const op of unit.ops())op.kind===OpKind.DeclareLet&&declareLetOps.set(op.xref,op),visitExpressionsInOp(op,expr=>{expr instanceof ContextLetReferenceExpr&&letUsedExternally.add(expr.target)});for(const unit of job.units)for(const op of unit.update)transformExpressionsInOp(op,expr=>expr instanceof StoreLetExpr&&!letUsedExternally.has(expr.target)?(hasPipe(expr)||OpList.remove(declareLetOps.get(expr.target)),expr.value):expr,VisitorContextFlag.None)}},{kind:CompilationJobKind.Tmpl,fn:function convertI18nText(job){for(const unit of job.units){let currentI18n=null,currentIcu=null;const textNodeI18nBlocks=new Map,textNodeIcus=new Map,icuPlaceholderByText=new Map;for(const op of unit.create)switch(op.kind){case OpKind.I18nStart:if(null===op.context)throw Error("I18n op should have its context set.");currentI18n=op;break;case OpKind.I18nEnd:currentI18n=null;break;case OpKind.IcuStart:if(null===op.context)throw Error("Icu op should have its context set.");currentIcu=op;break;case OpKind.IcuEnd:currentIcu=null;break;case OpKind.Text:if(null!==currentI18n)if(textNodeI18nBlocks.set(op.xref,currentI18n),textNodeIcus.set(op.xref,currentIcu),null!==op.icuPlaceholder){const icuPlaceholderOp=createIcuPlaceholderOp(job.allocateXrefId(),op.icuPlaceholder,[op.initialValue]);OpList.replace(op,icuPlaceholderOp),icuPlaceholderByText.set(op.xref,icuPlaceholderOp)}else OpList.remove(op)}for(const op of unit.update)if(op.kind===OpKind.InterpolateText){if(!textNodeI18nBlocks.has(op.target))continue;const i18nOp=textNodeI18nBlocks.get(op.target),icuOp=textNodeIcus.get(op.target),icuPlaceholder=icuPlaceholderByText.get(op.target),contextId=icuOp?icuOp.context:i18nOp.context,resolutionTime=icuOp?I18nParamResolutionTime.Postproccessing:I18nParamResolutionTime.Creation,ops=[];for(let i=0;i<op.interpolation.expressions.length;i++){const expr=op.interpolation.expressions[i];ops.push(createI18nExpressionOp(contextId,i18nOp.xref,i18nOp.xref,i18nOp.handle,expr,icuPlaceholder?.xref??null,op.interpolation.i18nPlaceholders[i]??null,resolutionTime,I18nExpressionFor.I18nText,"",expr.sourceSpan??op.sourceSpan))}OpList.replaceWithMany(op,ops),void 0!==icuPlaceholder&&(icuPlaceholder.strings=op.interpolation.strings)}}}},{kind:CompilationJobKind.Tmpl,fn:function convertI18nBindings(job){const i18nAttributesByElem=new Map;for(const unit of job.units){for(const op of unit.create)op.kind===OpKind.I18nAttributes&&i18nAttributesByElem.set(op.target,op);for(const op of unit.update)switch(op.kind){case OpKind.Property:case OpKind.Attribute:if(null===op.i18nContext)continue;if(!(op.expression instanceof Interpolation))continue;const i18nAttributesForElem=i18nAttributesByElem.get(op.target);if(void 0===i18nAttributesForElem)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(i18nAttributesForElem.target!==op.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");const ops=[];for(let i=0;i<op.expression.expressions.length;i++){const expr=op.expression.expressions[i];if(op.expression.i18nPlaceholders.length!==op.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${op.expression.i18nPlaceholders.length} placeholders and ${op.expression.expressions.length} expressions`);ops.push(createI18nExpressionOp(op.i18nContext,i18nAttributesForElem.target,i18nAttributesForElem.xref,i18nAttributesForElem.handle,expr,null,op.expression.i18nPlaceholders[i],I18nParamResolutionTime.Creation,I18nExpressionFor.I18nAttribute,op.name,op.sourceSpan))}OpList.replaceWithMany(op,ops)}}}},{kind:CompilationJobKind.Tmpl,fn:function removeUnusedI18nAttributesOps(job){for(const unit of job.units){const ownersWithI18nExpressions=new Set;for(const op of unit.update)if(op.kind===OpKind.I18nExpression)ownersWithI18nExpressions.add(op.i18nOwner);for(const op of unit.create)if(op.kind===OpKind.I18nAttributes){if(ownersWithI18nExpressions.has(op.xref))continue;OpList.remove(op)}}}},{kind:CompilationJobKind.Tmpl,fn:function assignI18nSlotDependencies(job){for(const unit of job.units){let updateOp=unit.update.head,i18nExpressionsInProgress=[],state=null;for(const createOp of unit.create){if(createOp.kind===OpKind.I18nStart)state={blockXref:createOp.xref,lastSlotConsumer:createOp.xref};else if(createOp.kind===OpKind.I18nEnd){for(const op of i18nExpressionsInProgress)op.target=state.lastSlotConsumer,OpList.insertBefore(op,updateOp);i18nExpressionsInProgress.length=0,state=null}if(hasConsumesSlotTrait(createOp))for(null!==state&&(state.lastSlotConsumer=createOp.xref);null!==updateOp.next;){if(null!==state&&updateOp.kind===OpKind.I18nExpression&&updateOp.usage===I18nExpressionFor.I18nText&&updateOp.i18nOwner===state.blockXref){const opToRemove=updateOp;updateOp=updateOp.next,OpList.remove(opToRemove),i18nExpressionsInProgress.push(opToRemove);continue}let hasDifferentTarget=!1;if(hasDependsOnSlotContextTrait(updateOp)&&updateOp.target!==createOp.xref?hasDifferentTarget=!0:updateOp.kind!==OpKind.Statement&&updateOp.kind!==OpKind.Variable||visitExpressionsInOp(updateOp,expr=>{!hasDifferentTarget&&hasDependsOnSlotContextTrait(expr)&&expr.target!==createOp.xref&&(hasDifferentTarget=!0)}),hasDifferentTarget)break;updateOp=updateOp.next}}}}},{kind:CompilationJobKind.Tmpl,fn:function applyI18nExpressions(job){const i18nContexts=new Map;for(const unit of job.units)for(const op of unit.create)op.kind===OpKind.I18nContext&&i18nContexts.set(op.xref,op);for(const unit of job.units)for(const op of unit.update)op.kind===OpKind.I18nExpression&&needsApplication(i18nContexts,op)&&OpList.insertAfter(createI18nApplyOp(op.i18nOwner,op.handle,null),op)}},{kind:CompilationJobKind.Tmpl,fn:function allocateSlots(job){const slotMap=new Map;for(const unit of job.units){let slotCount=0;for(const op of unit.create)hasConsumesSlotTrait(op)&&(op.handle.slot=slotCount,slotMap.set(op.xref,op.handle.slot),slotCount+=op.numSlotsUsed);unit.decls=slotCount}for(const unit of job.units)for(const op of unit.ops())if(op.kind===OpKind.Template||op.kind===OpKind.ConditionalCreate||op.kind===OpKind.ConditionalBranchCreate||op.kind===OpKind.RepeaterCreate){const childView=job.views.get(op.xref);op.decls=childView.decls}}},{kind:CompilationJobKind.Tmpl,fn:function resolveI18nElementPlaceholders(job){const i18nContexts=new Map,elements=new Map;for(const unit of job.units)for(const op of unit.create)switch(op.kind){case OpKind.I18nContext:i18nContexts.set(op.xref,op);break;case OpKind.ElementStart:elements.set(op.xref,op)}resolvePlaceholdersForView(job,job.root,i18nContexts,elements)}},{kind:CompilationJobKind.Tmpl,fn:function resolveI18nExpressionPlaceholders(job){const subTemplateIndices=new Map,i18nContexts=new Map,icuPlaceholders=new Map;for(const unit of job.units)for(const op of unit.create)switch(op.kind){case OpKind.I18nStart:subTemplateIndices.set(op.xref,op.subTemplateIndex);break;case OpKind.I18nContext:i18nContexts.set(op.xref,op);break;case OpKind.IcuPlaceholder:icuPlaceholders.set(op.xref,op)}const expressionIndices=new Map,referenceIndex=op=>op.usage===I18nExpressionFor.I18nText?op.i18nOwner:op.context;for(const unit of job.units)for(const op of unit.update)if(op.kind===OpKind.I18nExpression){const index=expressionIndices.get(referenceIndex(op))||0;updatePlaceholder(op,{value:index,subTemplateIndex:subTemplateIndices.get(op.i18nOwner)??null,flags:I18nParamValueFlags.ExpressionIndex},i18nContexts,icuPlaceholders),expressionIndices.set(referenceIndex(op),index+1)}}},{kind:CompilationJobKind.Tmpl,fn:function extractI18nMessages(job){const i18nMessagesByContext=new Map,i18nBlocks=new Map,i18nContexts=new Map;for(const unit of job.units)for(const op of unit.create)switch(op.kind){case OpKind.I18nContext:const i18nMessageOp=createI18nMessage(job,op);unit.create.push(i18nMessageOp),i18nMessagesByContext.set(op.xref,i18nMessageOp),i18nContexts.set(op.xref,op);break;case OpKind.I18nStart:i18nBlocks.set(op.xref,op)}let currentIcu=null;for(const unit of job.units)for(const op of unit.create)switch(op.kind){case OpKind.IcuStart:currentIcu=op,OpList.remove(op);const icuContext=i18nContexts.get(op.context);if(icuContext.contextKind!==I18nContextKind.Icu)continue;const i18nBlock=i18nBlocks.get(icuContext.i18nBlock);if(i18nBlock.context===icuContext.xref)continue;const rootI18nBlock=i18nBlocks.get(i18nBlock.root),rootMessage=i18nMessagesByContext.get(rootI18nBlock.context);if(void 0===rootMessage)throw Error("AssertionError: ICU sub-message should belong to a root message.");const subMessage=i18nMessagesByContext.get(icuContext.xref);subMessage.messagePlaceholder=op.messagePlaceholder,rootMessage.subMessages.push(subMessage.xref);break;case OpKind.IcuEnd:currentIcu=null,OpList.remove(op);break;case OpKind.IcuPlaceholder:if(null===currentIcu||null==currentIcu.context)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");i18nMessagesByContext.get(currentIcu.context).postprocessingParams.set(op.name,literal(formatIcuPlaceholder(op))),OpList.remove(op)}}},{kind:CompilationJobKind.Tmpl,fn:function collectI18nConsts(job){const fileBasedI18nSuffix=job.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",extractedAttributesByI18nContext=new Map,i18nAttributesByElement=new Map,i18nExpressionsByElement=new Map,messages=new Map;for(const unit of job.units)for(const op of unit.ops())if(op.kind===OpKind.ExtractedAttribute&&null!==op.i18nContext){const attributes=extractedAttributesByI18nContext.get(op.i18nContext)??[];attributes.push(op),extractedAttributesByI18nContext.set(op.i18nContext,attributes)}else if(op.kind===OpKind.I18nAttributes)i18nAttributesByElement.set(op.target,op);else if(op.kind===OpKind.I18nExpression&&op.usage===I18nExpressionFor.I18nAttribute){const expressions=i18nExpressionsByElement.get(op.target)??[];expressions.push(op),i18nExpressionsByElement.set(op.target,expressions)}else op.kind===OpKind.I18nMessage&&messages.set(op.xref,op);const i18nValuesByContext=new Map,messageConstIndices=new Map;for(const unit of job.units)for(const op of unit.create)if(op.kind===OpKind.I18nMessage){if(null===op.messagePlaceholder){const{mainVar,statements}=collectMessage(job,fileBasedI18nSuffix,messages,op);if(null!==op.i18nBlock){const i18nConst=job.addConst(mainVar,statements);messageConstIndices.set(op.i18nBlock,i18nConst)}else{job.constsInitializers.push(...statements),i18nValuesByContext.set(op.i18nContext,mainVar);const attributesForMessage=extractedAttributesByI18nContext.get(op.i18nContext);if(void 0!==attributesForMessage)for(const attr of attributesForMessage)attr.expression=mainVar.clone()}}OpList.remove(op)}for(const unit of job.units)for(const elem of unit.create)if(isElementOrContainerOp(elem)){const i18nAttributes=i18nAttributesByElement.get(elem.xref);if(void 0===i18nAttributes)continue;let i18nExpressions=i18nExpressionsByElement.get(elem.xref);if(void 0===i18nExpressions)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");const seenPropertyNames=new Set;i18nExpressions=i18nExpressions.filter(i18nExpr=>{const seen=seenPropertyNames.has(i18nExpr.name);return seenPropertyNames.add(i18nExpr.name),!seen});const i18nAttributeConfig=i18nExpressions.flatMap(i18nExpr=>{const i18nExprValue=i18nValuesByContext.get(i18nExpr.context);if(void 0===i18nExprValue)throw new Error("AssertionError: Could not find i18n expression's value");return[literal(i18nExpr.name),i18nExprValue]});i18nAttributes.i18nAttributesConfig=job.addConst(new LiteralArrayExpr(i18nAttributeConfig))}for(const unit of job.units)for(const op of unit.create)if(op.kind===OpKind.I18nStart){const msgIndex=messageConstIndices.get(op.root);if(void 0===msgIndex)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");op.messageIndex=msgIndex}}},{kind:CompilationJobKind.Tmpl,fn:function collectConstExpressions(job){for(const unit of job.units)for(const op of unit.ops())transformExpressionsInOp(op,expr=>expr instanceof ConstCollectedExpr?literal(job.addConst(expr.expr)):expr,VisitorContextFlag.None)}},{kind:CompilationJobKind.Both,fn:function collectElementConsts(job){const allElementAttributes=new Map;for(const unit of job.units)for(const op of unit.create)if(op.kind===OpKind.ExtractedAttribute){const attributes=allElementAttributes.get(op.target)||new ElementAttributes(job.compatibility);allElementAttributes.set(op.target,attributes),attributes.add(op.bindingKind,op.name,op.expression,op.namespace,op.trustedValueFn),OpList.remove(op)}if(job instanceof ComponentCompilationJob)for(const unit of job.units)for(const op of unit.create)if(op.kind==OpKind.Projection){const attributes=allElementAttributes.get(op.xref);if(void 0!==attributes){const attrArray=serializeAttributes(attributes);attrArray.entries.length>0&&(op.attributes=attrArray)}}else isElementOrContainerOp(op)&&(op.attributes=getConstIndex(job,allElementAttributes,op.xref),op.kind===OpKind.RepeaterCreate&&null!==op.emptyView&&(op.emptyAttributes=getConstIndex(job,allElementAttributes,op.emptyView)));else if(job instanceof HostBindingCompilationJob)for(const[xref,attributes]of allElementAttributes.entries()){if(xref!==job.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");const attrArray=serializeAttributes(attributes);attrArray.entries.length>0&&(job.root.attributes=attrArray)}}},{kind:CompilationJobKind.Tmpl,fn:function removeI18nContexts(job){for(const unit of job.units)for(const op of unit.create)switch(op.kind){case OpKind.I18nContext:OpList.remove(op);break;case OpKind.I18nStart:op.context=null}}},{kind:CompilationJobKind.Both,fn:function countVariables(job){for(const unit of job.units){let varCount=0;for(const op of unit.ops())hasConsumesVarsTrait(op)&&(varCount+=varsUsedByOp(op));for(const op of unit.ops())visitExpressionsInOp(op,expr=>{isIrExpression(expr)&&(job.compatibility===CompatibilityMode.TemplateDefinitionBuilder&&expr instanceof PureFunctionExpr||(hasUsesVarOffsetTrait(expr)&&(expr.varOffset=varCount),hasConsumesVarsTrait(expr)&&(varCount+=varsUsedByIrExpression(expr))))});if(job.compatibility===CompatibilityMode.TemplateDefinitionBuilder)for(const op of unit.ops())visitExpressionsInOp(op,expr=>{isIrExpression(expr)&&expr instanceof PureFunctionExpr&&(hasUsesVarOffsetTrait(expr)&&(expr.varOffset=varCount),hasConsumesVarsTrait(expr)&&(varCount+=varsUsedByIrExpression(expr)))});unit.vars=varCount}if(job instanceof ComponentCompilationJob)for(const unit of job.units)for(const op of unit.create){if(op.kind!==OpKind.Template&&op.kind!==OpKind.RepeaterCreate&&op.kind!==OpKind.ConditionalCreate&&op.kind!==OpKind.ConditionalBranchCreate)continue;const childView=job.views.get(op.xref);op.vars=childView.vars}}},{kind:CompilationJobKind.Tmpl,fn:function generateAdvance(job){for(const unit of job.units){const slotMap=new Map;for(const op of unit.create)if(hasConsumesSlotTrait(op)){if(null===op.handle.slot)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls");slotMap.set(op.xref,op.handle.slot)}let slotContext=0;for(const op of unit.update){let consumer=null;if(hasDependsOnSlotContextTrait(op)?consumer=op:visitExpressionsInOp(op,expr=>{null===consumer&&hasDependsOnSlotContextTrait(expr)&&(consumer=expr)}),null===consumer)continue;if(!slotMap.has(consumer.target))throw new Error(`AssertionError: reference to unknown slot for target ${consumer.target}`);const slot=slotMap.get(consumer.target);if(slotContext!==slot){const delta=slot-slotContext;if(delta<0)throw new Error("AssertionError: slot counter should never need to move backwards");OpList.insertBefore(createAdvanceOp(delta,consumer.sourceSpan),op),slotContext=slot}}}}},{kind:CompilationJobKind.Both,fn:function nameFunctionsAndVariables(job){addNamesToView(job.root,job.componentName,{index:0},job.compatibility===CompatibilityMode.TemplateDefinitionBuilder)}},{kind:CompilationJobKind.Tmpl,fn:function resolveDeferDepsFns(job){for(const unit of job.units)for(const op of unit.create)if(op.kind===OpKind.Defer){if(null!==op.resolverFn)continue;if(null!==op.ownResolverFn){if(null===op.handle.slot)throw new Error("AssertionError: slot must be assigned before extracting defer deps functions");const fullPathName=unit.fnName?.replace("_Template","");op.resolverFn=job.pool.getSharedFunctionReference(op.ownResolverFn,`${fullPathName}_Defer_${op.handle.slot}_DepsFn`,!1)}}}},{kind:CompilationJobKind.Tmpl,fn:function mergeNextContextExpressions(job){for(const unit of job.units){for(const op of unit.create)op.kind!==OpKind.Listener&&op.kind!==OpKind.Animation&&op.kind!==OpKind.AnimationListener&&op.kind!==OpKind.TwoWayListener||mergeNextContextsInOps(op.handlerOps);mergeNextContextsInOps(unit.update)}}},{kind:CompilationJobKind.Tmpl,fn:function generateNgContainerOps(job){for(const unit of job.units){const updatedElementXrefs=new Set;for(const op of unit.create)op.kind===OpKind.ElementStart&&"ng-container"===op.tag&&(op.kind=OpKind.ContainerStart,updatedElementXrefs.add(op.xref)),op.kind===OpKind.ElementEnd&&updatedElementXrefs.has(op.xref)&&(op.kind=OpKind.ContainerEnd)}}},{kind:CompilationJobKind.Tmpl,fn:function collapseEmptyInstructions(job){for(const unit of job.units)for(const op of unit.create){const opReplacements=REPLACEMENTS.get(op.kind);if(void 0===opReplacements)continue;const[startKind,mergedKind]=opReplacements;let prevOp=op.prev;for(;null!==prevOp&&IGNORED_OP_KINDS.has(prevOp.kind);)prevOp=prevOp.prev;null!==prevOp&&prevOp.kind===startKind&&(prevOp.kind=mergedKind,OpList.remove(op))}}},{kind:CompilationJobKind.Tmpl,fn:function attachSourceLocations(job){if(job.enableDebugLocations&&null!==job.relativeTemplatePath)for(const unit of job.units){const locations=[];for(const op of unit.create)if(op.kind===OpKind.ElementStart||op.kind===OpKind.Element){const start=op.startSourceSpan.start;locations.push({targetSlot:op.handle,offset:start.offset,line:start.line,column:start.col})}locations.length>0&&unit.create.push(createSourceLocationOp(job.relativeTemplatePath,locations))}}},{kind:CompilationJobKind.Tmpl,fn:function disableBindings$1(job){const elements=new Map;for(const view of job.units)for(const op of view.create)isElementOrContainerOp(op)&&elements.set(op.xref,op);for(const unit of job.units)for(const op of unit.create)op.kind!==OpKind.ElementStart&&op.kind!==OpKind.ContainerStart||!op.nonBindable||OpList.insertAfter(createDisableBindingsOp(op.xref),op),op.kind!==OpKind.ElementEnd&&op.kind!==OpKind.ContainerEnd||!lookupElement(elements,op.xref).nonBindable||OpList.insertBefore(createEnableBindingsOp(op.xref),op)}},{kind:CompilationJobKind.Both,fn:function extractPureFunctions(job){for(const view of job.units)for(const op of view.ops())visitExpressionsInOp(op,expr=>{if(!(expr instanceof PureFunctionExpr)||null===expr.body)return;const constantDef=new PureFunctionConstant(expr.args.length);expr.fn=job.pool.getSharedConstant(constantDef,expr.body),expr.body=null})}},{kind:CompilationJobKind.Both,fn:function reify(job){for(const unit of job.units)reifyCreateOperations(unit,unit.create),reifyUpdateOperations(unit,unit.update)}},{kind:CompilationJobKind.Both,fn:function chain(job){for(const unit of job.units)chainOperationsInList(unit.create),chainOperationsInList(unit.update)}}];function transform(job,kind){for(const phase of phases)phase.kind!==kind&&phase.kind!==CompilationJobKind.Both||phase.fn(job)}function emitTemplateFn(tpl,pool){const rootFn=emitView(tpl.root);return emitChildViews(tpl.root,pool),rootFn}function emitChildViews(parent,pool){for(const unit of parent.job.units){if(unit.parent!==parent.xref)continue;emitChildViews(unit,pool);const viewFn=emitView(unit);pool.statements.push(viewFn.toDeclStmt(viewFn.name))}}function emitView(view){if(null===view.fnName)throw new Error(`AssertionError: view ${view.xref} is unnamed`);const createStatements=[];for(const op of view.create){if(op.kind!==OpKind.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${OpKind[op.kind]}`);createStatements.push(op.statement)}const updateStatements=[];for(const op of view.update){if(op.kind!==OpKind.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${OpKind[op.kind]}`);updateStatements.push(op.statement)}const createCond=maybeGenerateRfBlock(1,createStatements),updateCond=maybeGenerateRfBlock(2,updateStatements);return fn([new FnParam("rf"),new FnParam("ctx")],[...createCond,...updateCond],void 0,void 0,view.fnName)}function maybeGenerateRfBlock(flag,statements){return 0===statements.length?[]:[ifStmt(new BinaryOperatorExpr(BinaryOperator.BitwiseAnd,variable("rf"),literal(flag)),statements)]}const compatibilityMode=CompatibilityMode.TemplateDefinitionBuilder,domSchema=new DomElementSchemaRegistry;function isI18nRootNode(meta){return meta instanceof Message}function ingestDomProperty(job,property,bindingKind,securityContexts){let expression;const ast=property.expression.ast;expression=ast instanceof Interpolation$1?new Interpolation(ast.strings,ast.expressions.map(expr=>convertAst(expr,job,property.sourceSpan)),[]):convertAst(ast,job,property.sourceSpan),job.root.update.push(createBindingOp(job.root.xref,bindingKind,property.name,expression,null,securityContexts,!1,!1,null,null,property.sourceSpan))}function ingestHostAttribute(job,name,value,securityContexts){const attrBinding=createBindingOp(job.root.xref,BindingKind.Attribute,name,value,null,securityContexts,!0,!1,null,null,value.sourceSpan);job.root.update.push(attrBinding)}function ingestHostEvent(job,event){let eventBinding;if(event.type===ParsedEventType.Animation)eventBinding=createAnimationListenerOp(job.root.xref,new SlotHandle,event.name,null,makeListenerHandlerOps(job.root,event.handler,event.handlerSpan),event.name.endsWith("enter")?"enter":"leave",event.targetOrPhase,!0,event.sourceSpan);else{const[phase,target]=event.type!==ParsedEventType.LegacyAnimation?[null,event.targetOrPhase]:[event.targetOrPhase,null];eventBinding=createListenerOp(job.root.xref,new SlotHandle,event.name,null,makeListenerHandlerOps(job.root,event.handler,event.handlerSpan),phase,target,!0,event.sourceSpan)}job.root.create.push(eventBinding)}function ingestNodes(unit,template){for(const node of template)if(node instanceof Element$1)ingestElement(unit,node);else if(node instanceof Template)ingestTemplate(unit,node);else if(node instanceof Content)ingestContent(unit,node);else if(node instanceof Text$3)ingestText(unit,node,null);else if(node instanceof BoundText)ingestBoundText(unit,node,null);else if(node instanceof IfBlock)ingestIfBlock(unit,node);else if(node instanceof SwitchBlock)ingestSwitchBlock(unit,node);else if(node instanceof DeferredBlock)ingestDeferBlock(unit,node);else if(node instanceof Icu$1)ingestIcu(unit,node);else if(node instanceof ForLoopBlock)ingestForBlock(unit,node);else if(node instanceof LetDeclaration$1)ingestLetDeclaration(unit,node);else if(!(node instanceof Component$1))throw new Error(`Unsupported template node: ${node.constructor.name}`)}function ingestElement(unit,element){if(void 0!==element.i18n&&!(element.i18n instanceof Message||element.i18n instanceof TagPlaceholder))throw Error(`Unhandled i18n metadata type for element: ${element.i18n.constructor.name}`);const id=unit.job.allocateXrefId(),[namespaceKey,elementName]=splitNsName(element.name),startOp=function createElementStartOp(tag,xref,namespace,i18nPlaceholder,startSourceSpan,wholeSourceSpan){return{kind:OpKind.ElementStart,xref,tag,handle:new SlotHandle,attributes:null,localRefs:[],nonBindable:!1,namespace,i18nPlaceholder,startSourceSpan,wholeSourceSpan,...TRAIT_CONSUMES_SLOT,...NEW_OP}}(elementName,id,namespaceForKey(namespaceKey),element.i18n instanceof TagPlaceholder?element.i18n:void 0,element.startSourceSpan,element.sourceSpan);unit.create.push(startOp),function ingestElementBindings(unit,op,element){let bindings=new Array,i18nAttributeBindingNames=new Set;for(const attr of element.attributes){const securityContext=domSchema.securityContext(element.name,attr.name,!0);bindings.push(createBindingOp(op.xref,BindingKind.Attribute,attr.name,convertAstWithInterpolation(unit.job,attr.value,attr.i18n),null,securityContext,!0,!1,null,asMessage(attr.i18n),attr.sourceSpan)),attr.i18n&&i18nAttributeBindingNames.add(attr.name)}for(const input of element.inputs)i18nAttributeBindingNames.has(input.name)&&console.error(`On component ${unit.job.componentName}, the binding ${input.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),bindings.push(createBindingOp(op.xref,BINDING_KINDS.get(input.type),input.name,convertAstWithInterpolation(unit.job,astOf(input.value),input.i18n),input.unit,input.securityContext,!1,!1,null,asMessage(input.i18n)??null,input.sourceSpan));unit.create.push(bindings.filter(b=>b?.kind===OpKind.ExtractedAttribute)),unit.update.push(bindings.filter(b=>b?.kind===OpKind.Binding));for(const output of element.outputs){if(output.type===ParsedEventType.LegacyAnimation&&null===output.phase)throw Error("Animation listener should have a phase");output.type===ParsedEventType.TwoWay?unit.create.push(createTwoWayListenerOp(op.xref,op.handle,output.name,op.tag,makeTwoWayListenerHandlerOps(unit,output.handler,output.handlerSpan),output.sourceSpan)):output.type===ParsedEventType.Animation?unit.create.push(createAnimationListenerOp(op.xref,op.handle,output.name,op.tag,makeListenerHandlerOps(unit,output.handler,output.handlerSpan),output.name.endsWith("enter")?"enter":"leave",output.target,!1,output.sourceSpan)):unit.create.push(createListenerOp(op.xref,op.handle,output.name,op.tag,makeListenerHandlerOps(unit,output.handler,output.handlerSpan),output.phase,output.target,!1,output.sourceSpan))}null!==bindings.some(b=>b?.i18nMessage)&&unit.create.push(createI18nAttributesOp(unit.job.allocateXrefId(),new SlotHandle,op.xref))}(unit,startOp,element),ingestReferences(startOp,element);let i18nBlockId=null;element.i18n instanceof Message&&(i18nBlockId=unit.job.allocateXrefId(),unit.create.push(createI18nStartOp(i18nBlockId,element.i18n,void 0,element.startSourceSpan))),ingestNodes(unit,element.children);const endOp=function createElementEndOp(xref,sourceSpan){return{kind:OpKind.ElementEnd,xref,sourceSpan,...NEW_OP}}(id,element.endSourceSpan??element.startSourceSpan);unit.create.push(endOp),null!==i18nBlockId&&OpList.insertBefore(createI18nEndOp(i18nBlockId,element.endSourceSpan??element.startSourceSpan),endOp)}function ingestTemplate(unit,tmpl){if(void 0!==tmpl.i18n&&!(tmpl.i18n instanceof Message||tmpl.i18n instanceof TagPlaceholder))throw Error(`Unhandled i18n metadata type for template: ${tmpl.i18n.constructor.name}`);const childView=unit.job.allocateView(unit.xref);let tagNameWithoutNamespace=tmpl.tagName,namespacePrefix="";tmpl.tagName&&([namespacePrefix,tagNameWithoutNamespace]=splitNsName(tmpl.tagName));const i18nPlaceholder=tmpl.i18n instanceof TagPlaceholder?tmpl.i18n:void 0,namespace=namespaceForKey(namespacePrefix),functionNameSuffix=null===tagNameWithoutNamespace?"":prefixWithNamespace(tagNameWithoutNamespace,namespace),templateKind=function isPlainTemplate(tmpl){return"ng-template"===splitNsName(tmpl.tagName??"")[1]}(tmpl)?TemplateKind.NgTemplate:TemplateKind.Structural,templateOp=createTemplateOp(childView.xref,templateKind,tagNameWithoutNamespace,functionNameSuffix,namespace,i18nPlaceholder,tmpl.startSourceSpan,tmpl.sourceSpan);unit.create.push(templateOp),function ingestTemplateBindings(unit,op,template,templateKind){let bindings=new Array;for(const attr of template.templateAttrs)if(attr instanceof TextAttribute){const securityContext=domSchema.securityContext("ng-template",attr.name,!0);bindings.push(createTemplateBinding(unit,op.xref,BindingType.Attribute,attr.name,attr.value,null,securityContext,!0,templateKind,asMessage(attr.i18n),attr.sourceSpan))}else bindings.push(createTemplateBinding(unit,op.xref,attr.type,attr.name,astOf(attr.value),attr.unit,attr.securityContext,!0,templateKind,asMessage(attr.i18n),attr.sourceSpan));for(const attr of template.attributes){const securityContext=domSchema.securityContext("ng-template",attr.name,!0);bindings.push(createTemplateBinding(unit,op.xref,BindingType.Attribute,attr.name,attr.value,null,securityContext,!1,templateKind,asMessage(attr.i18n),attr.sourceSpan))}for(const input of template.inputs)bindings.push(createTemplateBinding(unit,op.xref,input.type,input.name,astOf(input.value),input.unit,input.securityContext,!1,templateKind,asMessage(input.i18n),input.sourceSpan));unit.create.push(bindings.filter(b=>b?.kind===OpKind.ExtractedAttribute)),unit.update.push(bindings.filter(b=>b?.kind===OpKind.Binding));for(const output of template.outputs){if(output.type===ParsedEventType.LegacyAnimation&&null===output.phase)throw Error("Animation listener should have a phase");if(templateKind===TemplateKind.NgTemplate&&(output.type===ParsedEventType.TwoWay?unit.create.push(createTwoWayListenerOp(op.xref,op.handle,output.name,op.tag,makeTwoWayListenerHandlerOps(unit,output.handler,output.handlerSpan),output.sourceSpan)):unit.create.push(createListenerOp(op.xref,op.handle,output.name,op.tag,makeListenerHandlerOps(unit,output.handler,output.handlerSpan),output.phase,output.target,!1,output.sourceSpan))),templateKind===TemplateKind.Structural&&output.type!==ParsedEventType.LegacyAnimation){const securityContext=domSchema.securityContext("ng-template",output.name,!1);unit.create.push(createExtractedAttributeOp(op.xref,BindingKind.Property,null,output.name,null,null,null,securityContext))}}null!==bindings.some(b=>b?.i18nMessage)&&unit.create.push(createI18nAttributesOp(unit.job.allocateXrefId(),new SlotHandle,op.xref))}(unit,templateOp,tmpl,templateKind),ingestReferences(templateOp,tmpl),ingestNodes(childView,tmpl.children);for(const{name,value}of tmpl.variables)childView.contextVariables.set(name,""!==value?value:"$implicit");if(templateKind===TemplateKind.NgTemplate&&tmpl.i18n instanceof Message){const id=unit.job.allocateXrefId();OpList.insertAfter(createI18nStartOp(id,tmpl.i18n,void 0,tmpl.startSourceSpan),childView.create.head),OpList.insertBefore(createI18nEndOp(id,tmpl.endSourceSpan??tmpl.startSourceSpan),childView.create.tail)}}function ingestContent(unit,content){if(void 0!==content.i18n&&!(content.i18n instanceof TagPlaceholder))throw Error(`Unhandled i18n metadata type for element: ${content.i18n.constructor.name}`);let fallbackView=null;content.children.some(child=>!(child instanceof Comment$1||child instanceof Text$3&&!(child.value.trim().length>0)))&&(fallbackView=unit.job.allocateView(unit.xref),ingestNodes(fallbackView,content.children));const op=function createProjectionOp(xref,selector,i18nPlaceholder,fallbackView,sourceSpan){return{kind:OpKind.Projection,xref,handle:new SlotHandle,selector,i18nPlaceholder,fallbackView,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan,...NEW_OP,...TRAIT_CONSUMES_SLOT,numSlotsUsed:null===fallbackView?1:2}}(unit.job.allocateXrefId(),content.selector,content.i18n,fallbackView?.xref??null,content.sourceSpan);for(const attr of content.attributes){const securityContext=domSchema.securityContext(content.name,attr.name,!0);unit.update.push(createBindingOp(op.xref,BindingKind.Attribute,attr.name,literal(attr.value),null,securityContext,!0,!1,null,asMessage(attr.i18n),attr.sourceSpan))}unit.create.push(op)}function ingestText(unit,text,icuPlaceholder){unit.create.push(createTextOp(unit.job.allocateXrefId(),text.value,icuPlaceholder,text.sourceSpan))}function ingestBoundText(unit,text,icuPlaceholder){let value=text.value;if(value instanceof ASTWithSource&&(value=value.ast),!(value instanceof Interpolation$1))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${value.constructor.name}`);if(void 0!==text.i18n&&!(text.i18n instanceof Container))throw Error(`Unhandled i18n metadata type for text interpolation: ${text.i18n?.constructor.name}`);const i18nPlaceholders=text.i18n instanceof Container?text.i18n.children.filter(node=>node instanceof Placeholder).map(placeholder=>placeholder.name):[];if(i18nPlaceholders.length>0&&i18nPlaceholders.length!==value.expressions.length)throw Error(`Unexpected number of i18n placeholders (${value.expressions.length}) for BoundText with ${value.expressions.length} expressions`);const textXref=unit.job.allocateXrefId();unit.create.push(createTextOp(textXref,"",icuPlaceholder,text.sourceSpan));const baseSourceSpan=unit.job.compatibility?null:text.sourceSpan;unit.update.push(function createInterpolateTextOp(xref,interpolation,sourceSpan){return{kind:OpKind.InterpolateText,target:xref,interpolation,sourceSpan,...TRAIT_DEPENDS_ON_SLOT_CONTEXT,...TRAIT_CONSUMES_VARS,...NEW_OP}}(textXref,new Interpolation(value.strings,value.expressions.map(expr=>convertAst(expr,unit.job,baseSourceSpan)),i18nPlaceholders),text.sourceSpan))}function ingestIfBlock(unit,ifBlock){let firstXref=null,conditions=[];for(let i=0;i<ifBlock.branches.length;i++){const ifCase=ifBlock.branches[i],cView=unit.job.allocateView(unit.xref),tagName=ingestControlFlowInsertionPoint(unit,cView.xref,ifCase);let ifCaseI18nMeta;if(null!==ifCase.expressionAlias&&cView.contextVariables.set(ifCase.expressionAlias.name,"CTX_REF_MARKER"),void 0!==ifCase.i18n){if(!(ifCase.i18n instanceof BlockPlaceholder))throw Error(`Unhandled i18n metadata type for if block: ${ifCase.i18n?.constructor.name}`);ifCaseI18nMeta=ifCase.i18n}const conditionalCreateOp=(0===i?createConditionalCreateOp:createConditionalBranchCreateOp)(cView.xref,TemplateKind.Block,tagName,"Conditional",Namespace.HTML,ifCaseI18nMeta,ifCase.startSourceSpan,ifCase.sourceSpan);unit.create.push(conditionalCreateOp),null===firstXref&&(firstXref=cView.xref);const caseExpr=ifCase.expression?convertAst(ifCase.expression,unit.job,null):null,conditionalCaseExpr=new ConditionalCaseExpr(caseExpr,conditionalCreateOp.xref,conditionalCreateOp.handle,ifCase.expressionAlias);conditions.push(conditionalCaseExpr),ingestNodes(cView,ifCase.children)}unit.update.push(createConditionalOp(firstXref,null,conditions,ifBlock.sourceSpan))}function ingestSwitchBlock(unit,switchBlock){if(0===switchBlock.cases.length)return;let firstXref=null,conditions=[];for(let i=0;i<switchBlock.cases.length;i++){const switchCase=switchBlock.cases[i],cView=unit.job.allocateView(unit.xref),tagName=ingestControlFlowInsertionPoint(unit,cView.xref,switchCase);let switchCaseI18nMeta;if(void 0!==switchCase.i18n){if(!(switchCase.i18n instanceof BlockPlaceholder))throw Error(`Unhandled i18n metadata type for switch block: ${switchCase.i18n?.constructor.name}`);switchCaseI18nMeta=switchCase.i18n}const conditionalCreateOp=(0===i?createConditionalCreateOp:createConditionalBranchCreateOp)(cView.xref,TemplateKind.Block,tagName,"Case",Namespace.HTML,switchCaseI18nMeta,switchCase.startSourceSpan,switchCase.sourceSpan);unit.create.push(conditionalCreateOp),null===firstXref&&(firstXref=cView.xref);const caseExpr=switchCase.expression?convertAst(switchCase.expression,unit.job,switchBlock.startSourceSpan):null,conditionalCaseExpr=new ConditionalCaseExpr(caseExpr,conditionalCreateOp.xref,conditionalCreateOp.handle);conditions.push(conditionalCaseExpr),ingestNodes(cView,switchCase.children)}unit.update.push(createConditionalOp(firstXref,convertAst(switchBlock.expression,unit.job,null),conditions,switchBlock.sourceSpan))}function ingestDeferView(unit,suffix,i18nMeta,children,sourceSpan){if(void 0!==i18nMeta&&!(i18nMeta instanceof BlockPlaceholder))throw Error("Unhandled i18n metadata type for defer block");if(void 0===children)return null;const secondaryView=unit.job.allocateView(unit.xref);ingestNodes(secondaryView,children);const templateOp=createTemplateOp(secondaryView.xref,TemplateKind.Block,null,`Defer${suffix}`,Namespace.HTML,i18nMeta,sourceSpan,sourceSpan);return unit.create.push(templateOp),templateOp}function ingestDeferBlock(unit,deferBlock){let ownResolverFn=null;if(0===unit.job.deferMeta.mode){if(!unit.job.deferMeta.blocks.has(deferBlock))throw new Error("AssertionError: unable to find a dependency function for this deferred block");ownResolverFn=unit.job.deferMeta.blocks.get(deferBlock)??null}const main=ingestDeferView(unit,"",deferBlock.i18n,deferBlock.children,deferBlock.sourceSpan),loading=ingestDeferView(unit,"Loading",deferBlock.loading?.i18n,deferBlock.loading?.children,deferBlock.loading?.sourceSpan),placeholder=ingestDeferView(unit,"Placeholder",deferBlock.placeholder?.i18n,deferBlock.placeholder?.children,deferBlock.placeholder?.sourceSpan),error=ingestDeferView(unit,"Error",deferBlock.error?.i18n,deferBlock.error?.children,deferBlock.error?.sourceSpan),deferXref=unit.job.allocateXrefId(),deferOp=function createDeferOp(xref,main,mainSlot,ownResolverFn,resolverFn,sourceSpan){return{kind:OpKind.Defer,xref,handle:new SlotHandle,mainView:main,mainSlot,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,ownResolverFn,resolverFn,flags:null,sourceSpan,...NEW_OP,...TRAIT_CONSUMES_SLOT,numSlotsUsed:2}}(deferXref,main.xref,main.handle,ownResolverFn,unit.job.allDeferrableDepsFn,deferBlock.sourceSpan);deferOp.placeholderView=placeholder?.xref??null,deferOp.placeholderSlot=placeholder?.handle??null,deferOp.loadingSlot=loading?.handle??null,deferOp.errorSlot=error?.handle??null,deferOp.placeholderMinimumTime=deferBlock.placeholder?.minimumTime??null,deferOp.loadingMinimumTime=deferBlock.loading?.minimumTime??null,deferOp.loadingAfterTime=deferBlock.loading?.afterTime??null,deferOp.flags=function calcDeferBlockFlags(deferBlockDetails){if(Object.keys(deferBlockDetails.hydrateTriggers).length>0)return 1;return null}(deferBlock),unit.create.push(deferOp);const deferOnOps=[],deferWhenOps=[];ingestDeferTriggers("hydrate",deferBlock.hydrateTriggers,deferOnOps,deferWhenOps,unit,deferXref),ingestDeferTriggers("none",deferBlock.triggers,deferOnOps,deferWhenOps,unit,deferXref),ingestDeferTriggers("prefetch",deferBlock.prefetchTriggers,deferOnOps,deferWhenOps,unit,deferXref);deferOnOps.some(op=>"none"===op.modifier)||deferWhenOps.some(op=>"none"===op.modifier)||deferOnOps.push(createDeferOnOp(deferXref,{kind:DeferTriggerKind.Idle},"none",null)),unit.create.push(deferOnOps),unit.update.push(deferWhenOps)}function ingestDeferTriggers(modifier,triggers,onOps,whenOps,unit,deferXref){if(void 0!==triggers.idle){const deferOnOp=createDeferOnOp(deferXref,{kind:DeferTriggerKind.Idle},modifier,triggers.idle.sourceSpan);onOps.push(deferOnOp)}if(void 0!==triggers.immediate){const deferOnOp=createDeferOnOp(deferXref,{kind:DeferTriggerKind.Immediate},modifier,triggers.immediate.sourceSpan);onOps.push(deferOnOp)}if(void 0!==triggers.timer){const deferOnOp=createDeferOnOp(deferXref,{kind:DeferTriggerKind.Timer,delay:triggers.timer.delay},modifier,triggers.timer.sourceSpan);onOps.push(deferOnOp)}if(void 0!==triggers.hover){const deferOnOp=createDeferOnOp(deferXref,{kind:DeferTriggerKind.Hover,targetName:triggers.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},modifier,triggers.hover.sourceSpan);onOps.push(deferOnOp)}if(void 0!==triggers.interaction){const deferOnOp=createDeferOnOp(deferXref,{kind:DeferTriggerKind.Interaction,targetName:triggers.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},modifier,triggers.interaction.sourceSpan);onOps.push(deferOnOp)}if(void 0!==triggers.viewport){const deferOnOp=createDeferOnOp(deferXref,{kind:DeferTriggerKind.Viewport,targetName:triggers.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},modifier,triggers.viewport.sourceSpan);onOps.push(deferOnOp)}if(void 0!==triggers.never){const deferOnOp=createDeferOnOp(deferXref,{kind:DeferTriggerKind.Never},modifier,triggers.never.sourceSpan);onOps.push(deferOnOp)}if(void 0!==triggers.when){if(triggers.when.value instanceof Interpolation$1)throw new Error("Unexpected interpolation in defer block when trigger");const deferOnOp=function createDeferWhenOp(target,expr,modifier,sourceSpan){return{kind:OpKind.DeferWhen,target,expr,modifier,sourceSpan,...NEW_OP,...TRAIT_DEPENDS_ON_SLOT_CONTEXT,...TRAIT_CONSUMES_VARS}}(deferXref,convertAst(triggers.when.value,unit.job,triggers.when.sourceSpan),modifier,triggers.when.sourceSpan);whenOps.push(deferOnOp)}}function ingestIcu(unit,icu){if(!(icu.i18n instanceof Message&&function isSingleI18nIcu(meta){return isI18nRootNode(meta)&&1===meta.nodes.length&&meta.nodes[0]instanceof Icu}(icu.i18n)))throw Error(`Unhandled i18n metadata type for ICU: ${icu.i18n?.constructor.name}`);{const xref=unit.job.allocateXrefId();unit.create.push(function createIcuStartOp(xref,message,messagePlaceholder,sourceSpan){return{kind:OpKind.IcuStart,xref,message,messagePlaceholder,context:null,sourceSpan,...NEW_OP}}(xref,icu.i18n,icuFromI18nMessage(icu.i18n).name,null));for(const[placeholder,text]of Object.entries({...icu.vars,...icu.placeholders}))text instanceof BoundText?ingestBoundText(unit,text,placeholder):ingestText(unit,text,placeholder);unit.create.push(function createIcuEndOp(xref){return{kind:OpKind.IcuEnd,xref,...NEW_OP}}(xref))}}function ingestForBlock(unit,forBlock){const repeaterView=unit.job.allocateView(unit.xref),indexName=`ɵ$index_${repeaterView.xref}`,countName=`ɵ$count_${repeaterView.xref}`,indexVarNames=new Set;repeaterView.contextVariables.set(forBlock.item.name,forBlock.item.value);for(const variable of forBlock.contextVariables)"$index"===variable.value&&indexVarNames.add(variable.name),"$index"===variable.name?repeaterView.contextVariables.set("$index",variable.value).set(indexName,variable.value):"$count"===variable.name?repeaterView.contextVariables.set("$count",variable.value).set(countName,variable.value):repeaterView.aliases.add({kind:SemanticVariableKind.Alias,name:null,identifier:variable.name,expression:getComputedForLoopVariableExpression(variable,indexName,countName)});const sourceSpan=convertSourceSpan(forBlock.trackBy.span,forBlock.sourceSpan),track=convertAst(forBlock.trackBy,unit.job,sourceSpan);ingestNodes(repeaterView,forBlock.children);let emptyView=null,emptyTagName=null;null!==forBlock.empty&&(emptyView=unit.job.allocateView(unit.xref),ingestNodes(emptyView,forBlock.empty.children),emptyTagName=ingestControlFlowInsertionPoint(unit,emptyView.xref,forBlock.empty));const varNames={$index:indexVarNames,$implicit:forBlock.item.name};if(void 0!==forBlock.i18n&&!(forBlock.i18n instanceof BlockPlaceholder))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(void 0!==forBlock.empty?.i18n&&!(forBlock.empty.i18n instanceof BlockPlaceholder))throw Error("AssertionError: Unhandled i18n metadata type or @empty");const i18nPlaceholder=forBlock.i18n,emptyI18nPlaceholder=forBlock.empty?.i18n,tagName=ingestControlFlowInsertionPoint(unit,repeaterView.xref,forBlock),repeaterCreate=function createRepeaterCreateOp(primaryView,emptyView,tag,track,varNames,emptyTag,i18nPlaceholder,emptyI18nPlaceholder,startSourceSpan,wholeSourceSpan){return{kind:OpKind.RepeaterCreate,attributes:null,xref:primaryView,handle:new SlotHandle,emptyView,track,trackByFn:null,trackByOps:null,tag,emptyTag,emptyAttributes:null,functionNameSuffix:"For",namespace:Namespace.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames,usesComponentInstance:!1,i18nPlaceholder,emptyI18nPlaceholder,startSourceSpan,wholeSourceSpan,...TRAIT_CONSUMES_SLOT,...NEW_OP,...TRAIT_CONSUMES_VARS,numSlotsUsed:null===emptyView?2:3}}(repeaterView.xref,emptyView?.xref??null,tagName,track,varNames,emptyTagName,i18nPlaceholder,emptyI18nPlaceholder,forBlock.startSourceSpan,forBlock.sourceSpan);unit.create.push(repeaterCreate);const expression=convertAst(forBlock.expression,unit.job,convertSourceSpan(forBlock.expression.span,forBlock.sourceSpan)),repeater=function createRepeaterOp(repeaterCreate,targetSlot,collection,sourceSpan){return{kind:OpKind.Repeater,target:repeaterCreate,targetSlot,collection,sourceSpan,...NEW_OP,...TRAIT_DEPENDS_ON_SLOT_CONTEXT}}(repeaterCreate.xref,repeaterCreate.handle,expression,forBlock.sourceSpan);unit.update.push(repeater)}function getComputedForLoopVariableExpression(variable,indexName,countName){switch(variable.value){case"$index":return new LexicalReadExpr(indexName);case"$count":return new LexicalReadExpr(countName);case"$first":return new LexicalReadExpr(indexName).identical(literal(0));case"$last":return new LexicalReadExpr(indexName).identical(new LexicalReadExpr(countName).minus(literal(1)));case"$even":return new LexicalReadExpr(indexName).modulo(literal(2)).identical(literal(0));case"$odd":return new LexicalReadExpr(indexName).modulo(literal(2)).notIdentical(literal(0));default:throw new Error(`AssertionError: unknown @for loop variable ${variable.value}`)}}function ingestLetDeclaration(unit,node){const target=unit.job.allocateXrefId();unit.create.push(function createDeclareLetOp(xref,declaredName,sourceSpan){return{kind:OpKind.DeclareLet,xref,declaredName,sourceSpan,handle:new SlotHandle,...TRAIT_CONSUMES_SLOT,...NEW_OP}}(target,node.name,node.sourceSpan)),unit.update.push(function createStoreLetOp(target,declaredName,value,sourceSpan){return{kind:OpKind.StoreLet,target,declaredName,value,sourceSpan,...TRAIT_DEPENDS_ON_SLOT_CONTEXT,...TRAIT_CONSUMES_VARS,...NEW_OP}}(target,node.name,convertAst(node.value,unit.job,node.valueSpan),node.sourceSpan))}function convertAst(ast,job,baseSourceSpan){if(ast instanceof ASTWithSource)return convertAst(ast.ast,job,baseSourceSpan);if(ast instanceof PropertyRead){return ast.receiver instanceof ImplicitReceiver&&!(ast.receiver instanceof ThisReceiver)?new LexicalReadExpr(ast.name):new ReadPropExpr(convertAst(ast.receiver,job,baseSourceSpan),ast.name,null,convertSourceSpan(ast.span,baseSourceSpan))}if(ast instanceof Call){if(ast.receiver instanceof ImplicitReceiver)throw new Error("Unexpected ImplicitReceiver");return new InvokeFunctionExpr(convertAst(ast.receiver,job,baseSourceSpan),ast.args.map(arg=>convertAst(arg,job,baseSourceSpan)),void 0,convertSourceSpan(ast.span,baseSourceSpan))}if(ast instanceof LiteralPrimitive)return literal(ast.value,void 0,convertSourceSpan(ast.span,baseSourceSpan));if(!(ast instanceof Unary)){if(ast instanceof Binary){const operator=BINARY_OPERATORS.get(ast.operation);if(void 0===operator)throw new Error(`AssertionError: unknown binary operator ${ast.operation}`);return new BinaryOperatorExpr(operator,convertAst(ast.left,job,baseSourceSpan),convertAst(ast.right,job,baseSourceSpan),void 0,convertSourceSpan(ast.span,baseSourceSpan))}if(ast instanceof ThisReceiver)return new ContextExpr(job.root.xref);if(ast instanceof KeyedRead)return new ReadKeyExpr(convertAst(ast.receiver,job,baseSourceSpan),convertAst(ast.key,job,baseSourceSpan),void 0,convertSourceSpan(ast.span,baseSourceSpan));if(ast instanceof Chain)throw new Error("AssertionError: Chain in unknown context");if(ast instanceof LiteralMap){const entries=ast.keys.map((key,idx)=>{const value=ast.values[idx];return new LiteralMapEntry(key.key,convertAst(value,job,baseSourceSpan),key.quoted)});return new LiteralMapExpr(entries,void 0,convertSourceSpan(ast.span,baseSourceSpan))}if(ast instanceof LiteralArray)return new LiteralArrayExpr(ast.expressions.map(expr=>convertAst(expr,job,baseSourceSpan)));if(ast instanceof Conditional)return new ConditionalExpr(convertAst(ast.condition,job,baseSourceSpan),convertAst(ast.trueExp,job,baseSourceSpan),convertAst(ast.falseExp,job,baseSourceSpan),void 0,convertSourceSpan(ast.span,baseSourceSpan));if(ast instanceof NonNullAssert)return convertAst(ast.expression,job,baseSourceSpan);if(ast instanceof BindingPipe)return new PipeBindingExpr(job.allocateXrefId(),new SlotHandle,ast.name,[convertAst(ast.exp,job,baseSourceSpan),...ast.args.map(arg=>convertAst(arg,job,baseSourceSpan))]);if(ast instanceof SafeKeyedRead)return new SafeKeyedReadExpr(convertAst(ast.receiver,job,baseSourceSpan),convertAst(ast.key,job,baseSourceSpan),convertSourceSpan(ast.span,baseSourceSpan));if(ast instanceof SafePropertyRead)return new SafePropertyReadExpr(convertAst(ast.receiver,job,baseSourceSpan),ast.name);if(ast instanceof SafeCall)return new SafeInvokeFunctionExpr(convertAst(ast.receiver,job,baseSourceSpan),ast.args.map(a=>convertAst(a,job,baseSourceSpan)));if(ast instanceof EmptyExpr$1)return new EmptyExpr(convertSourceSpan(ast.span,baseSourceSpan));if(ast instanceof PrefixNot)return not(convertAst(ast.expression,job,baseSourceSpan),convertSourceSpan(ast.span,baseSourceSpan));if(ast instanceof TypeofExpression)return typeofExpr(convertAst(ast.expression,job,baseSourceSpan));if(ast instanceof VoidExpression)return new VoidExpr(convertAst(ast.expression,job,baseSourceSpan),void 0,convertSourceSpan(ast.span,baseSourceSpan));if(ast instanceof TemplateLiteral)return convertTemplateLiteral(ast,job,baseSourceSpan);if(ast instanceof TaggedTemplateLiteral)return new TaggedTemplateLiteralExpr(convertAst(ast.tag,job,baseSourceSpan),convertTemplateLiteral(ast.template,job,baseSourceSpan),void 0,convertSourceSpan(ast.span,baseSourceSpan));if(ast instanceof ParenthesizedExpression)return new ParenthesizedExpr(convertAst(ast.expression,job,baseSourceSpan),void 0,convertSourceSpan(ast.span,baseSourceSpan));throw new Error(`Unhandled expression type "${ast.constructor.name}" in file "${baseSourceSpan?.start.file.url}"`)}switch(ast.operator){case"+":return new UnaryOperatorExpr(UnaryOperator.Plus,convertAst(ast.expr,job,baseSourceSpan),void 0,convertSourceSpan(ast.span,baseSourceSpan));case"-":return new UnaryOperatorExpr(UnaryOperator.Minus,convertAst(ast.expr,job,baseSourceSpan),void 0,convertSourceSpan(ast.span,baseSourceSpan));default:throw new Error(`AssertionError: unknown unary operator ${ast.operator}`)}}function convertTemplateLiteral(ast,job,baseSourceSpan){return new TemplateLiteralExpr(ast.elements.map(el=>new TemplateLiteralElementExpr(el.text,convertSourceSpan(el.span,baseSourceSpan))),ast.expressions.map(expr=>convertAst(expr,job,baseSourceSpan)),convertSourceSpan(ast.span,baseSourceSpan))}function convertAstWithInterpolation(job,value,i18nMeta,sourceSpan){let expression;return expression=value instanceof Interpolation$1?new Interpolation(value.strings,value.expressions.map(e=>convertAst(e,job,null)),Object.keys(asMessage(i18nMeta)?.placeholders??{})):value instanceof AST?convertAst(value,job,null):literal(value),expression}const BINDING_KINDS=new Map([[BindingType.Property,BindingKind.Property],[BindingType.TwoWay,BindingKind.TwoWayProperty],[BindingType.Attribute,BindingKind.Attribute],[BindingType.Class,BindingKind.ClassName],[BindingType.Style,BindingKind.StyleProperty],[BindingType.LegacyAnimation,BindingKind.LegacyAnimation],[BindingType.Animation,BindingKind.Animation]]);function asMessage(i18nMeta){if(null==i18nMeta)return null;if(!(i18nMeta instanceof Message))throw Error(`Expected i18n meta to be a Message, but got: ${i18nMeta.constructor.name}`);return i18nMeta}function createTemplateBinding(view,xref,type,name,value,unit,securityContext,isStructuralTemplateAttribute,templateKind,i18nMessage,sourceSpan){const isTextBinding="string"==typeof value;if(templateKind===TemplateKind.Structural){if(!isStructuralTemplateAttribute)switch(type){case BindingType.Property:case BindingType.Class:case BindingType.Style:return createExtractedAttributeOp(xref,BindingKind.Property,null,name,null,null,i18nMessage,securityContext);case BindingType.TwoWay:return createExtractedAttributeOp(xref,BindingKind.TwoWayProperty,null,name,null,null,i18nMessage,securityContext)}if(!isTextBinding&&(type===BindingType.Attribute||type===BindingType.LegacyAnimation||type===BindingType.Animation))return null}let bindingType=BINDING_KINDS.get(type);return templateKind===TemplateKind.NgTemplate&&(type===BindingType.Class||type===BindingType.Style||type===BindingType.Attribute&&!isTextBinding)&&(bindingType=BindingKind.Property),createBindingOp(xref,bindingType,name,convertAstWithInterpolation(view.job,value,i18nMessage),unit,securityContext,isTextBinding,isStructuralTemplateAttribute,templateKind,i18nMessage,sourceSpan)}function makeListenerHandlerOps(unit,handler,handlerSpan){handler=astOf(handler);const handlerOps=new Array;let handlerExprs=handler instanceof Chain?handler.expressions:[handler];if(0===handlerExprs.length)throw new Error("Expected listener to have non-empty expression list.");const expressions=handlerExprs.map(expr=>convertAst(expr,unit.job,handlerSpan)),returnExpr=expressions.pop();return handlerOps.push(...expressions.map(e=>createStatementOp(new ExpressionStatement(e,e.sourceSpan)))),handlerOps.push(createStatementOp(new ReturnStatement(returnExpr,returnExpr.sourceSpan))),handlerOps}function makeTwoWayListenerHandlerOps(unit,handler,handlerSpan){handler=astOf(handler);const handlerOps=new Array;if(handler instanceof Chain){if(1!==handler.expressions.length)throw new Error("Expected two-way listener to have a single expression.");handler=handler.expressions[0]}const handlerExpr=convertAst(handler,unit.job,handlerSpan),eventReference=new LexicalReadExpr("$event"),twoWaySetExpr=new TwoWayBindingSetExpr(handlerExpr,eventReference);return handlerOps.push(createStatementOp(new ExpressionStatement(twoWaySetExpr))),handlerOps.push(createStatementOp(new ReturnStatement(eventReference))),handlerOps}function astOf(ast){return ast instanceof ASTWithSource?ast.ast:ast}function ingestReferences(op,element){!function assertIsArray(value){if(!Array.isArray(value))throw new Error("AssertionError: expected an array")}(op.localRefs);for(const{name,value}of element.references)op.localRefs.push({name,target:value})}function convertSourceSpan(span,baseSourceSpan){if(null===baseSourceSpan)return null;const start=baseSourceSpan.start.moveBy(span.start),end=baseSourceSpan.start.moveBy(span.end),fullStart=baseSourceSpan.fullStart.moveBy(span.start);return new ParseSourceSpan(start,end,fullStart)}function ingestControlFlowInsertionPoint(unit,xref,node){let root=null;for(const child of node.children)if(!(child instanceof Comment$1||child instanceof LetDeclaration$1)){if(null!==root)return null;if(!(child instanceof Element$1||child instanceof Template&&null!==child.tagName))return null;root=child}if(null!==root){for(const attr of root.attributes)if(!attr.name.startsWith("animate.")){const securityContext=domSchema.securityContext("ng-template",attr.name,!0);unit.update.push(createBindingOp(xref,BindingKind.Attribute,attr.name,literal(attr.value),null,securityContext,!0,!1,null,asMessage(attr.i18n),attr.sourceSpan))}for(const attr of root.inputs)if(attr.type!==BindingType.LegacyAnimation&&attr.type!==BindingType.Animation&&attr.type!==BindingType.Attribute){const securityContext=domSchema.securityContext("ng-template",attr.name,!0);unit.create.push(createExtractedAttributeOp(xref,BindingKind.Property,null,attr.name,null,null,null,securityContext))}const tagName=root instanceof Element$1?root.name:root.tagName;return"ng-template"===tagName?null:tagName}return null}let ENABLE_TEMPLATE_SOURCE_LOCATIONS=!1;function renderFlagCheckIfStmt(flags,statements){return ifStmt(variable("rf").bitwiseAnd(literal(flags),null),statements)}function createQueryCreateCall(query,constantPool,queryTypeFns,prependParams){const parameters=[];void 0!==prependParams&&parameters.push(...prependParams),query.isSignal&&parameters.push(new ReadPropExpr(variable("ctx"),query.propertyName)),parameters.push(function getQueryPredicate(query,constantPool){if(Array.isArray(query.predicate)){let predicate=[];return query.predicate.forEach(selector=>{const selectors=selector.split(",").map(token=>literal(token.trim()));predicate.push(...selectors)}),constantPool.getConstLiteral(literalArr(predicate),!0)}switch(query.predicate.forwardRef){case 0:case 2:return query.predicate.expression;case 1:return importExpr(Identifiers.resolveForwardRef).callFn([query.predicate.expression])}}(query,constantPool),literal(function toQueryFlags(query){return(query.descendants?1:0)|(query.static?2:0)|(query.emitDistinctChangesOnly?4:0)}(query))),query.read&&parameters.push(query.read);return importExpr(query.isSignal?queryTypeFns.signalBased:queryTypeFns.nonSignal).callFn(parameters)}const queryAdvancePlaceholder=Symbol("queryAdvancePlaceholder");function collapseAdvanceStatements(statements){const result=[];let advanceCollapseCount=0;const flushAdvanceCount=()=>{advanceCollapseCount>0&&(result.unshift(importExpr(Identifiers.queryAdvance).callFn(1===advanceCollapseCount?[]:[literal(advanceCollapseCount)]).toStmt()),advanceCollapseCount=0)};for(let i=statements.length-1;i>=0;i--){const st=statements[i];st===queryAdvancePlaceholder?advanceCollapseCount++:(flushAdvanceCount(),result.unshift(st))}return flushAdvanceCount(),result}class HtmlParser extends Parser$1{constructor(){super(getHtmlTagDefinition)}parse(source,url,options){return super.parse(source,url,options)}}class BindingParser{_exprParser;_interpolationConfig;_schemaRegistry;errors;constructor(_exprParser,_interpolationConfig,_schemaRegistry,errors){this._exprParser=_exprParser,this._interpolationConfig=_interpolationConfig,this._schemaRegistry=_schemaRegistry,this.errors=errors}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(properties,sourceSpan){const boundProps=[];for(const propName of Object.keys(properties)){const expression=properties[propName];"string"==typeof expression?this.parsePropertyBinding(propName,expression,!0,!1,sourceSpan,sourceSpan.start.offset,void 0,[],boundProps,sourceSpan):this._reportError(`Value of the host property binding "${propName}" needs to be a string representing an expression but got "${expression}" (${typeof expression})`,sourceSpan)}return boundProps}createDirectiveHostEventAsts(hostListeners,sourceSpan){const targetEvents=[];for(const propName of Object.keys(hostListeners)){const expression=hostListeners[propName];"string"==typeof expression?this.parseEvent(propName,expression,!1,sourceSpan,sourceSpan,[],targetEvents,sourceSpan):this._reportError(`Value of the host listener "${propName}" needs to be a string representing an expression but got "${expression}" (${typeof expression})`,sourceSpan)}return targetEvents}parseInterpolation(value,sourceSpan,interpolatedTokens){const absoluteOffset=sourceSpan.fullStart.offset;try{const ast=this._exprParser.parseInterpolation(value,sourceSpan,absoluteOffset,interpolatedTokens,this._interpolationConfig);return ast&&this.errors.push(...ast.errors),ast}catch(e){return this._reportError(`${e}`,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceSpan,absoluteOffset)}}parseInterpolationExpression(expression,sourceSpan){const absoluteOffset=sourceSpan.start.offset;try{const ast=this._exprParser.parseInterpolationExpression(expression,sourceSpan,absoluteOffset);return ast&&this.errors.push(...ast.errors),ast}catch(e){return this._reportError(`${e}`,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceSpan,absoluteOffset)}}parseInlineTemplateBinding(tplKey,tplValue,sourceSpan,absoluteValueOffset,targetMatchableAttrs,targetProps,targetVars,isIvyAst){const absoluteKeyOffset=sourceSpan.start.offset+1,bindings=this._parseTemplateBindings(tplKey,tplValue,sourceSpan,absoluteKeyOffset,absoluteValueOffset);for(const binding of bindings){const bindingSpan=moveParseSourceSpan(sourceSpan,binding.sourceSpan),key=binding.key.source,keySpan=moveParseSourceSpan(sourceSpan,binding.key.span);if(binding instanceof VariableBinding){const value=binding.value?binding.value.source:"$implicit",valueSpan=binding.value?moveParseSourceSpan(sourceSpan,binding.value.span):void 0;targetVars.push(new ParsedVariable(key,value,bindingSpan,keySpan,valueSpan))}else if(binding.value){const srcSpan=isIvyAst?bindingSpan:sourceSpan,valueSpan=moveParseSourceSpan(sourceSpan,binding.value.ast.sourceSpan);this._parsePropertyAst(key,binding.value,!1,srcSpan,keySpan,valueSpan,targetMatchableAttrs,targetProps)}else targetMatchableAttrs.push([key,""]),this.parseLiteralAttr(key,null,keySpan,absoluteValueOffset,void 0,targetMatchableAttrs,targetProps,keySpan)}}_parseTemplateBindings(tplKey,tplValue,sourceSpan,absoluteKeyOffset,absoluteValueOffset){try{const bindingsResult=this._exprParser.parseTemplateBindings(tplKey,tplValue,sourceSpan,absoluteKeyOffset,absoluteValueOffset);return bindingsResult.errors.forEach(e=>this.errors.push(e)),bindingsResult.warnings.forEach(warning=>{this._reportError(warning,sourceSpan,ParseErrorLevel.WARNING)}),bindingsResult.templateBindings}catch(e){return this._reportError(`${e}`,sourceSpan),[]}}parseLiteralAttr(name,value,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps,keySpan){isLegacyAnimationLabel(name)?(name=name.substring(1),void 0!==keySpan&&(keySpan=moveParseSourceSpan(keySpan,new AbsoluteSourceSpan(keySpan.start.offset+1,keySpan.end.offset))),value&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',sourceSpan,ParseErrorLevel.ERROR),this._parseLegacyAnimation(name,value,sourceSpan,absoluteOffset,keySpan,valueSpan,targetMatchableAttrs,targetProps)):targetProps.push(new ParsedProperty(name,this._exprParser.wrapLiteralPrimitive(value,"",absoluteOffset),ParsedPropertyType.LITERAL_ATTR,sourceSpan,keySpan,valueSpan))}parsePropertyBinding(name,expression,isHost,isPartOfAssignmentBinding,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps,keySpan){0===name.length&&this._reportError("Property name is missing in binding",sourceSpan);let isLegacyAnimationProp=!1;name.startsWith("animate-")?(isLegacyAnimationProp=!0,name=name.substring(8),void 0!==keySpan&&(keySpan=moveParseSourceSpan(keySpan,new AbsoluteSourceSpan(keySpan.start.offset+8,keySpan.end.offset)))):isLegacyAnimationLabel(name)&&(isLegacyAnimationProp=!0,name=name.substring(1),void 0!==keySpan&&(keySpan=moveParseSourceSpan(keySpan,new AbsoluteSourceSpan(keySpan.start.offset+1,keySpan.end.offset)))),isLegacyAnimationProp?this._parseLegacyAnimation(name,expression,sourceSpan,absoluteOffset,keySpan,valueSpan,targetMatchableAttrs,targetProps):name.startsWith("animate.")?this._parseAnimation(name,this.parseBinding(expression,isHost,valueSpan||sourceSpan,absoluteOffset),sourceSpan,keySpan,valueSpan,targetMatchableAttrs,targetProps):this._parsePropertyAst(name,this.parseBinding(expression,isHost,valueSpan||sourceSpan,absoluteOffset),isPartOfAssignmentBinding,sourceSpan,keySpan,valueSpan,targetMatchableAttrs,targetProps)}parsePropertyInterpolation(name,value,sourceSpan,valueSpan,targetMatchableAttrs,targetProps,keySpan,interpolatedTokens){const expr=this.parseInterpolation(value,valueSpan||sourceSpan,interpolatedTokens);return!!expr&&(this._parsePropertyAst(name,expr,!1,sourceSpan,keySpan,valueSpan,targetMatchableAttrs,targetProps),!0)}_parsePropertyAst(name,ast,isPartOfAssignmentBinding,sourceSpan,keySpan,valueSpan,targetMatchableAttrs,targetProps){targetMatchableAttrs.push([name,ast.source]),targetProps.push(new ParsedProperty(name,ast,isPartOfAssignmentBinding?ParsedPropertyType.TWO_WAY:ParsedPropertyType.DEFAULT,sourceSpan,keySpan,valueSpan))}_parseAnimation(name,ast,sourceSpan,keySpan,valueSpan,targetMatchableAttrs,targetProps){targetMatchableAttrs.push([name,ast.source]),targetProps.push(new ParsedProperty(name,ast,ParsedPropertyType.ANIMATION,sourceSpan,keySpan,valueSpan))}_parseLegacyAnimation(name,expression,sourceSpan,absoluteOffset,keySpan,valueSpan,targetMatchableAttrs,targetProps){0===name.length&&this._reportError("Animation trigger is missing",sourceSpan);const ast=this.parseBinding(expression||"undefined",!1,valueSpan||sourceSpan,absoluteOffset);targetMatchableAttrs.push([name,ast.source]),targetProps.push(new ParsedProperty(name,ast,ParsedPropertyType.LEGACY_ANIMATION,sourceSpan,keySpan,valueSpan))}parseBinding(value,isHostBinding,sourceSpan,absoluteOffset){try{const ast=isHostBinding?this._exprParser.parseSimpleBinding(value,sourceSpan,absoluteOffset,this._interpolationConfig):this._exprParser.parseBinding(value,sourceSpan,absoluteOffset,this._interpolationConfig);return ast&&this.errors.push(...ast.errors),ast}catch(e){return this._reportError(`${e}`,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceSpan,absoluteOffset)}}createBoundElementProperty(elementSelector,boundProp,skipValidation=!1,mapPropertyName=!0){if(boundProp.isLegacyAnimation)return new BoundElementProperty(boundProp.name,BindingType.LegacyAnimation,SecurityContext.NONE,boundProp.expression,null,boundProp.sourceSpan,boundProp.keySpan,boundProp.valueSpan);let bindingType,unit=null,boundPropertyName=null;const parts=boundProp.name.split(".");let securityContexts;if(parts.length>1)if("attr"==parts[0]){boundPropertyName=parts.slice(1).join("."),skipValidation||this._validatePropertyOrAttributeName(boundPropertyName,boundProp.sourceSpan,!0),securityContexts=calcPossibleSecurityContexts(this._schemaRegistry,elementSelector,boundPropertyName,!0);const nsSeparatorIdx=boundPropertyName.indexOf(":");if(nsSeparatorIdx>-1){const ns=boundPropertyName.substring(0,nsSeparatorIdx),name=boundPropertyName.substring(nsSeparatorIdx+1);boundPropertyName=mergeNsAndName(ns,name)}bindingType=BindingType.Attribute}else"class"==parts[0]?(boundPropertyName=parts[1],bindingType=BindingType.Class,securityContexts=[SecurityContext.NONE]):"style"==parts[0]?(unit=parts.length>2?parts[2]:null,boundPropertyName=parts[1],bindingType=BindingType.Style,securityContexts=[SecurityContext.STYLE]):"animate"==parts[0]&&(boundPropertyName=boundProp.name,bindingType=BindingType.Animation,securityContexts=[SecurityContext.NONE]);if(null===boundPropertyName){const mappedPropName=this._schemaRegistry.getMappedPropName(boundProp.name);boundPropertyName=mapPropertyName?mappedPropName:boundProp.name,securityContexts=calcPossibleSecurityContexts(this._schemaRegistry,elementSelector,mappedPropName,!1),bindingType=boundProp.type===ParsedPropertyType.TWO_WAY?BindingType.TwoWay:BindingType.Property,skipValidation||this._validatePropertyOrAttributeName(mappedPropName,boundProp.sourceSpan,!1)}return new BoundElementProperty(boundPropertyName,bindingType,securityContexts[0],boundProp.expression,unit,boundProp.sourceSpan,boundProp.keySpan,boundProp.valueSpan)}parseEvent(name,expression,isAssignmentEvent,sourceSpan,handlerSpan,targetMatchableAttrs,targetEvents,keySpan){0===name.length&&this._reportError("Event name is missing in binding",sourceSpan),isLegacyAnimationLabel(name)?(name=name.slice(1),void 0!==keySpan&&(keySpan=moveParseSourceSpan(keySpan,new AbsoluteSourceSpan(keySpan.start.offset+1,keySpan.end.offset))),this._parseLegacyAnimationEvent(name,expression,sourceSpan,handlerSpan,targetEvents,keySpan)):this._parseRegularEvent(name,expression,isAssignmentEvent,sourceSpan,handlerSpan,targetMatchableAttrs,targetEvents,keySpan)}calcPossibleSecurityContexts(selector,propName,isAttribute){const prop=this._schemaRegistry.getMappedPropName(propName);return calcPossibleSecurityContexts(this._schemaRegistry,selector,prop,isAttribute)}parseEventListenerName(rawName){const[target,eventName]=function splitAtColon(input,defaultValues){return _splitAt(input,":",defaultValues)}(rawName,[null,rawName]);return{eventName,target}}parseLegacyAnimationEventName(rawName){const matches=function splitAtPeriod(input,defaultValues){return _splitAt(input,".",defaultValues)}(rawName,[rawName,null]);return{eventName:matches[0],phase:null===matches[1]?null:matches[1].toLowerCase()}}_parseLegacyAnimationEvent(name,expression,sourceSpan,handlerSpan,targetEvents,keySpan){const{eventName,phase}=this.parseLegacyAnimationEventName(name),ast=this._parseAction(expression,handlerSpan);targetEvents.push(new ParsedEvent(eventName,phase,ParsedEventType.LegacyAnimation,ast,sourceSpan,handlerSpan,keySpan)),0===eventName.length&&this._reportError("Animation event name is missing in binding",sourceSpan),phase?"start"!==phase&&"done"!==phase&&this._reportError(`The provided animation output phase value "${phase}" for "@${eventName}" is not supported (use start or done)`,sourceSpan):this._reportError(`The animation trigger output event (@${eventName}) is missing its phase value name (start or done are currently supported)`,sourceSpan)}_parseRegularEvent(name,expression,isAssignmentEvent,sourceSpan,handlerSpan,targetMatchableAttrs,targetEvents,keySpan){const{eventName,target}=this.parseEventListenerName(name),prevErrorCount=this.errors.length,ast=this._parseAction(expression,handlerSpan),isValid=this.errors.length===prevErrorCount;targetMatchableAttrs.push([name,ast.source]),isAssignmentEvent&&isValid&&!this._isAllowedAssignmentEvent(ast)&&this._reportError("Unsupported expression in a two-way binding",sourceSpan);let eventType=ParsedEventType.Regular;isAssignmentEvent&&(eventType=ParsedEventType.TwoWay),name.startsWith("animate.")&&(eventType=ParsedEventType.Animation),targetEvents.push(new ParsedEvent(eventName,target,eventType,ast,sourceSpan,handlerSpan,keySpan))}_parseAction(value,sourceSpan){const absoluteOffset=sourceSpan&&sourceSpan.start?sourceSpan.start.offset:0;try{const ast=this._exprParser.parseAction(value,sourceSpan,absoluteOffset,this._interpolationConfig);return ast&&this.errors.push(...ast.errors),!ast||ast.ast instanceof EmptyExpr$1?(this._reportError("Empty expressions are not allowed",sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceSpan,absoluteOffset)):ast}catch(e){return this._reportError(`${e}`,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceSpan,absoluteOffset)}}_reportError(message,sourceSpan,level=ParseErrorLevel.ERROR){this.errors.push(new ParseError(sourceSpan,message,level))}_validatePropertyOrAttributeName(propName,sourceSpan,isAttr){const report=isAttr?this._schemaRegistry.validateAttribute(propName):this._schemaRegistry.validateProperty(propName);report.error&&this._reportError(report.msg,sourceSpan,ParseErrorLevel.ERROR)}_isAllowedAssignmentEvent(ast){return ast instanceof ASTWithSource?this._isAllowedAssignmentEvent(ast.ast):ast instanceof NonNullAssert?this._isAllowedAssignmentEvent(ast.expression):ast instanceof Call&&1===ast.args.length&&ast.receiver instanceof PropertyRead&&"$any"===ast.receiver.name&&ast.receiver.receiver instanceof ImplicitReceiver&&!(ast.receiver.receiver instanceof ThisReceiver)?this._isAllowedAssignmentEvent(ast.args[0]):(ast instanceof PropertyRead||ast instanceof KeyedRead)&&!hasRecursiveSafeReceiver(ast)}}function hasRecursiveSafeReceiver(ast){return ast instanceof SafePropertyRead||ast instanceof SafeKeyedRead||(ast instanceof ParenthesizedExpression?hasRecursiveSafeReceiver(ast.expression):(ast instanceof PropertyRead||ast instanceof KeyedRead||ast instanceof Call)&&hasRecursiveSafeReceiver(ast.receiver))}function isLegacyAnimationLabel(name){return"@"==name[0]}function calcPossibleSecurityContexts(registry,selector,propName,isAttribute){let ctxs;const nameToContext=elName=>registry.securityContext(elName,propName,isAttribute);return null===selector?ctxs=registry.allKnownElementNames().map(nameToContext):(ctxs=[],CssSelector.parse(selector).forEach(selector=>{const elementNames=selector.element?[selector.element]:registry.allKnownElementNames(),notElementNames=new Set(selector.notSelectors.filter(selector=>selector.isElementSelector()).map(selector=>selector.element)),possibleElementNames=elementNames.filter(elName=>!notElementNames.has(elName));ctxs.push(...possibleElementNames.map(nameToContext))})),0===ctxs.length?[SecurityContext.NONE]:Array.from(new Set(ctxs)).sort()}function moveParseSourceSpan(sourceSpan,absoluteSpan){const startDiff=absoluteSpan.start-sourceSpan.start.offset,endDiff=absoluteSpan.end-sourceSpan.end.offset;return new ParseSourceSpan(sourceSpan.start.moveBy(startDiff),sourceSpan.end.moveBy(endDiff),sourceSpan.fullStart.moveBy(startDiff),sourceSpan.details)}const URL_WITH_SCHEMA_REGEXP=/^([^:/?#]+):/;function preparseElement(ast){let selectAttr=null,hrefAttr=null,relAttr=null,nonBindable=!1,projectAs="";ast.attrs.forEach(attr=>{const lcAttrName=attr.name.toLowerCase();"select"==lcAttrName?selectAttr=attr.value:"href"==lcAttrName?hrefAttr=attr.value:"rel"==lcAttrName?relAttr=attr.value:"ngNonBindable"==attr.name?nonBindable=!0:"ngProjectAs"==attr.name&&attr.value.length>0&&(projectAs=attr.value)}),selectAttr=function normalizeNgContentSelect(selectAttr){if(null===selectAttr||0===selectAttr.length)return"*";return selectAttr}(selectAttr);const nodeName=ast.name.toLowerCase();let type=PreparsedElementType.OTHER;return isNgContent(nodeName)?type=PreparsedElementType.NG_CONTENT:"style"==nodeName?type=PreparsedElementType.STYLE:"script"==nodeName?type=PreparsedElementType.SCRIPT:"link"==nodeName&&"stylesheet"==relAttr&&(type=PreparsedElementType.STYLESHEET),new PreparsedElement(type,selectAttr,hrefAttr,nonBindable,projectAs)}var PreparsedElementType;!function(PreparsedElementType){PreparsedElementType[PreparsedElementType.NG_CONTENT=0]="NG_CONTENT",PreparsedElementType[PreparsedElementType.STYLE=1]="STYLE",PreparsedElementType[PreparsedElementType.STYLESHEET=2]="STYLESHEET",PreparsedElementType[PreparsedElementType.SCRIPT=3]="SCRIPT",PreparsedElementType[PreparsedElementType.OTHER=4]="OTHER"}(PreparsedElementType||(PreparsedElementType={}));class PreparsedElement{type;selectAttr;hrefAttr;nonBindable;projectAs;constructor(type,selectAttr,hrefAttr,nonBindable,projectAs){this.type=type,this.selectAttr=selectAttr,this.hrefAttr=hrefAttr,this.nonBindable=nonBindable,this.projectAs=projectAs}}const FOR_LOOP_EXPRESSION_PATTERN=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,FOR_LOOP_TRACK_PATTERN=/^track\s+([\S\s]*)/,CONDITIONAL_ALIAS_PATTERN=/^(as\s+)(.*)/,ELSE_IF_PATTERN=/^else[^\S\r\n]+if/,FOR_LOOP_LET_PATTERN=/^let\s+([\S\s]*)/,IDENTIFIER_PATTERN=/^[$A-Z_][0-9A-Z_$]*$/i,CHARACTERS_IN_SURROUNDING_WHITESPACE_PATTERN=/(\s*)(\S+)(\s*)/,ALLOWED_FOR_LOOP_LET_VARIABLES=new Set(["$index","$first","$last","$even","$odd","$count"]);function isConnectedForLoopBlock(name){return"empty"===name}function isConnectedIfLoopBlock(name){return"else"===name||ELSE_IF_PATTERN.test(name)}function createIfBlock(ast,connectedBlocks,visitor,bindingParser){const errors=function validateIfConnectedBlocks(connectedBlocks){const errors=[];let hasElse=!1;for(let i=0;i<connectedBlocks.length;i++){const block=connectedBlocks[i];"else"===block.name?(hasElse?errors.push(new ParseError(block.startSourceSpan,"Conditional can only have one @else block")):connectedBlocks.length>1&&i<connectedBlocks.length-1?errors.push(new ParseError(block.startSourceSpan,"@else block must be last inside the conditional")):block.parameters.length>0&&errors.push(new ParseError(block.startSourceSpan,"@else block cannot have parameters")),hasElse=!0):ELSE_IF_PATTERN.test(block.name)||errors.push(new ParseError(block.startSourceSpan,`Unrecognized conditional block @${block.name}`))}return errors}(connectedBlocks),branches=[],mainBlockParams=parseConditionalBlockParameters(ast,errors,bindingParser);null!==mainBlockParams&&branches.push(new IfBlockBranch(mainBlockParams.expression,visitAll(visitor,ast.children,ast.children),mainBlockParams.expressionAlias,ast.sourceSpan,ast.startSourceSpan,ast.endSourceSpan,ast.nameSpan,ast.i18n));for(const block of connectedBlocks)if(ELSE_IF_PATTERN.test(block.name)){const params=parseConditionalBlockParameters(block,errors,bindingParser);if(null!==params){const children=visitAll(visitor,block.children,block.children);branches.push(new IfBlockBranch(params.expression,children,params.expressionAlias,block.sourceSpan,block.startSourceSpan,block.endSourceSpan,block.nameSpan,block.i18n))}}else if("else"===block.name){const children=visitAll(visitor,block.children,block.children);branches.push(new IfBlockBranch(null,children,null,block.sourceSpan,block.startSourceSpan,block.endSourceSpan,block.nameSpan,block.i18n))}const ifBlockStartSourceSpan=branches.length>0?branches[0].startSourceSpan:ast.startSourceSpan,ifBlockEndSourceSpan=branches.length>0?branches[branches.length-1].endSourceSpan:ast.endSourceSpan;let wholeSourceSpan=ast.sourceSpan;const lastBranch=branches[branches.length-1];return void 0!==lastBranch&&(wholeSourceSpan=new ParseSourceSpan(ifBlockStartSourceSpan.start,lastBranch.sourceSpan.end)),{node:new IfBlock(branches,wholeSourceSpan,ast.startSourceSpan,ifBlockEndSourceSpan,ast.nameSpan),errors}}function createForLoop(ast,connectedBlocks,visitor,bindingParser){const errors=[],params=function parseForLoopParameters(block,errors,bindingParser){if(0===block.parameters.length)return errors.push(new ParseError(block.startSourceSpan,"@for loop does not have an expression")),null;const[expressionParam,...secondaryParams]=block.parameters,match=function stripOptionalParentheses(param,errors){const expression=param.expression,spaceRegex=/^\s$/;let openParens=0,start=0,end=expression.length-1;for(let i=0;i<expression.length;i++){const char=expression[i];if("("!==char){if(spaceRegex.test(char))continue;break}start=i+1,openParens++}if(0===openParens)return expression;for(let i=expression.length-1;i>-1;i--){const char=expression[i];if(")"!==char){if(spaceRegex.test(char))continue;break}if(end=i,openParens--,0===openParens)break}if(0!==openParens)return errors.push(new ParseError(param.sourceSpan,"Unclosed parentheses in expression")),null;return expression.slice(start,end)}(expressionParam,errors)?.match(FOR_LOOP_EXPRESSION_PATTERN);if(!match||0===match[2].trim().length)return errors.push(new ParseError(expressionParam.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;const[,itemName,rawExpression]=match;ALLOWED_FOR_LOOP_LET_VARIABLES.has(itemName)&&errors.push(new ParseError(expressionParam.sourceSpan,`@for loop item name cannot be one of ${Array.from(ALLOWED_FOR_LOOP_LET_VARIABLES).join(", ")}.`));const variableName=expressionParam.expression.split(" ")[0],variableSpan=new ParseSourceSpan(expressionParam.sourceSpan.start,expressionParam.sourceSpan.start.moveBy(variableName.length)),result={itemName:new Variable(itemName,"$implicit",variableSpan,variableSpan),trackBy:null,expression:parseBlockParameterToBinding(expressionParam,bindingParser,rawExpression),context:Array.from(ALLOWED_FOR_LOOP_LET_VARIABLES,variableName=>{const emptySpanAfterForBlockStart=new ParseSourceSpan(block.startSourceSpan.end,block.startSourceSpan.end);return new Variable(variableName,variableName,emptySpanAfterForBlockStart,emptySpanAfterForBlockStart)})};for(const param of secondaryParams){const letMatch=param.expression.match(FOR_LOOP_LET_PATTERN);if(null!==letMatch){const variablesSpan=new ParseSourceSpan(param.sourceSpan.start.moveBy(letMatch[0].length-letMatch[1].length),param.sourceSpan.end);parseLetParameter(param.sourceSpan,letMatch[1],variablesSpan,itemName,result.context,errors);continue}const trackMatch=param.expression.match(FOR_LOOP_TRACK_PATTERN);if(null===trackMatch)errors.push(new ParseError(param.sourceSpan,`Unrecognized @for loop parameter "${param.expression}"`));else if(null!==result.trackBy)errors.push(new ParseError(param.sourceSpan,'@for loop can only have one "track" expression'));else{const expression=parseBlockParameterToBinding(param,bindingParser,trackMatch[1]);expression.ast instanceof EmptyExpr$1&&errors.push(new ParseError(block.startSourceSpan,'@for loop must have a "track" expression'));const keywordSpan=new ParseSourceSpan(param.sourceSpan.start,param.sourceSpan.start.moveBy(5));result.trackBy={expression,keywordSpan}}}return result}(ast,errors,bindingParser);let node=null,empty=null;for(const block of connectedBlocks)"empty"===block.name?null!==empty?errors.push(new ParseError(block.sourceSpan,"@for loop can only have one @empty block")):block.parameters.length>0?errors.push(new ParseError(block.sourceSpan,"@empty block cannot have parameters")):empty=new ForLoopBlockEmpty(visitAll(visitor,block.children,block.children),block.sourceSpan,block.startSourceSpan,block.endSourceSpan,block.nameSpan,block.i18n):errors.push(new ParseError(block.sourceSpan,`Unrecognized @for loop block "${block.name}"`));if(null!==params)if(null===params.trackBy)errors.push(new ParseError(ast.startSourceSpan,'@for loop must have a "track" expression'));else{const endSpan=empty?.endSourceSpan??ast.endSourceSpan,sourceSpan=new ParseSourceSpan(ast.sourceSpan.start,endSpan?.end??ast.sourceSpan.end);!function validateTrackByExpression(expression,parseSourceSpan,errors){const visitor=new PipeVisitor;expression.ast.visit(visitor),visitor.hasPipe&&errors.push(new ParseError(parseSourceSpan,"Cannot use pipes in track expressions"))}(params.trackBy.expression,params.trackBy.keywordSpan,errors),node=new ForLoopBlock(params.itemName,params.expression,params.trackBy.expression,params.trackBy.keywordSpan,params.context,visitAll(visitor,ast.children,ast.children),empty,sourceSpan,ast.sourceSpan,ast.startSourceSpan,endSpan,ast.nameSpan,ast.i18n)}return{node,errors}}function createSwitchBlock(ast,visitor,bindingParser){const errors=function validateSwitchBlock(ast){const errors=[];let hasDefault=!1;if(1!==ast.parameters.length)return errors.push(new ParseError(ast.startSourceSpan,"@switch block must have exactly one parameter")),errors;for(const node of ast.children)node instanceof Comment||node instanceof Text&&0===node.value.trim().length||(node instanceof Block&&("case"===node.name||"default"===node.name)?"default"===node.name?(hasDefault?errors.push(new ParseError(node.startSourceSpan,"@switch block can only have one @default block")):node.parameters.length>0&&errors.push(new ParseError(node.startSourceSpan,"@default block cannot have parameters")),hasDefault=!0):"case"===node.name&&1!==node.parameters.length&&errors.push(new ParseError(node.startSourceSpan,"@case block must have exactly one parameter")):errors.push(new ParseError(node.sourceSpan,"@switch block can only contain @case and @default blocks")));return errors}(ast),primaryExpression=ast.parameters.length>0?parseBlockParameterToBinding(ast.parameters[0],bindingParser):bindingParser.parseBinding("",!1,ast.sourceSpan,0),cases=[],unknownBlocks=[];let defaultCase=null;for(const node of ast.children){if(!(node instanceof Block))continue;if(("case"!==node.name||0===node.parameters.length)&&"default"!==node.name){unknownBlocks.push(new UnknownBlock(node.name,node.sourceSpan,node.nameSpan));continue}const expression="case"===node.name?parseBlockParameterToBinding(node.parameters[0],bindingParser):null,ast=new SwitchBlockCase(expression,visitAll(visitor,node.children,node.children),node.sourceSpan,node.startSourceSpan,node.endSourceSpan,node.nameSpan,node.i18n);null===expression?defaultCase=ast:cases.push(ast)}return null!==defaultCase&&cases.push(defaultCase),{node:new SwitchBlock(primaryExpression,cases,unknownBlocks,ast.sourceSpan,ast.startSourceSpan,ast.endSourceSpan,ast.nameSpan),errors}}function parseLetParameter(sourceSpan,expression,span,loopItemName,context,errors){const parts=expression.split(",");let startSpan=span.start;for(const part of parts){const expressionParts=part.split("="),name=2===expressionParts.length?expressionParts[0].trim():"",variableName=2===expressionParts.length?expressionParts[1].trim():"";if(0===name.length||0===variableName.length)errors.push(new ParseError(sourceSpan,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(ALLOWED_FOR_LOOP_LET_VARIABLES.has(variableName))if(name===loopItemName)errors.push(new ParseError(sourceSpan,`Invalid @for loop "let" parameter. Variable cannot be called "${loopItemName}"`));else if(context.some(v=>v.name===name))errors.push(new ParseError(sourceSpan,`Duplicate "let" parameter variable "${variableName}"`));else{const[,keyLeadingWhitespace,keyName]=expressionParts[0].match(CHARACTERS_IN_SURROUNDING_WHITESPACE_PATTERN)??[],keySpan=void 0!==keyLeadingWhitespace&&2===expressionParts.length?new ParseSourceSpan(startSpan.moveBy(keyLeadingWhitespace.length),startSpan.moveBy(keyLeadingWhitespace.length+keyName.length)):span;let valueSpan;if(2===expressionParts.length){const[,valueLeadingWhitespace,implicit]=expressionParts[1].match(CHARACTERS_IN_SURROUNDING_WHITESPACE_PATTERN)??[];valueSpan=void 0!==valueLeadingWhitespace?new ParseSourceSpan(startSpan.moveBy(expressionParts[0].length+1+valueLeadingWhitespace.length),startSpan.moveBy(expressionParts[0].length+1+valueLeadingWhitespace.length+implicit.length)):void 0}const sourceSpan=new ParseSourceSpan(keySpan.start,valueSpan?.end??keySpan.end);context.push(new Variable(name,variableName,sourceSpan,keySpan,valueSpan))}else errors.push(new ParseError(sourceSpan,`Unknown "let" parameter variable "${variableName}". The allowed variables are: ${Array.from(ALLOWED_FOR_LOOP_LET_VARIABLES).join(", ")}`));startSpan=startSpan.moveBy(part.length+1)}}function parseBlockParameterToBinding(ast,bindingParser,part){let start,end;return"string"==typeof part?(start=Math.max(0,ast.expression.lastIndexOf(part)),end=start+part.length):(start=0,end=ast.expression.length),bindingParser.parseBinding(ast.expression.slice(start,end),!1,ast.sourceSpan,ast.sourceSpan.start.offset+start)}function parseConditionalBlockParameters(block,errors,bindingParser){if(0===block.parameters.length)return errors.push(new ParseError(block.startSourceSpan,"Conditional block does not have an expression")),null;const expression=parseBlockParameterToBinding(block.parameters[0],bindingParser);let expressionAlias=null;for(let i=1;i<block.parameters.length;i++){const param=block.parameters[i],aliasMatch=param.expression.match(CONDITIONAL_ALIAS_PATTERN);if(null===aliasMatch)errors.push(new ParseError(param.sourceSpan,`Unrecognized conditional parameter "${param.expression}"`));else if("if"===block.name||ELSE_IF_PATTERN.test(block.name))if(null!==expressionAlias)errors.push(new ParseError(param.sourceSpan,'Conditional can only have one "as" expression'));else{const name=aliasMatch[2].trim();if(IDENTIFIER_PATTERN.test(name)){const variableStart=param.sourceSpan.start.moveBy(aliasMatch[1].length),variableSpan=new ParseSourceSpan(variableStart,variableStart.moveBy(name.length));expressionAlias=new Variable(name,name,variableSpan,variableSpan)}else errors.push(new ParseError(param.sourceSpan,'"as" expression must be a valid JavaScript identifier'))}else errors.push(new ParseError(param.sourceSpan,'"as" expression is only allowed on `@if` and `@else if` blocks'))}return{expression,expressionAlias}}class PipeVisitor extends RecursiveAstVisitor{hasPipe=!1;visitPipe(){this.hasPipe=!0}}const TIME_PATTERN=/^\d+\.?\d*(ms|s)?$/,SEPARATOR_PATTERN=/^\s$/,COMMA_DELIMITED_SYNTAX=new Map([[123,125],[91,93],[40,41]]);var OnTriggerType;function parseNeverTrigger({expression,sourceSpan},triggers,errors){const neverIndex=expression.indexOf("never"),neverSourceSpan=new ParseSourceSpan(sourceSpan.start.moveBy(neverIndex),sourceSpan.start.moveBy(neverIndex+5)),prefetchSpan=getPrefetchSpan(expression,sourceSpan),hydrateSpan=getHydrateSpan(expression,sourceSpan);-1===neverIndex?errors.push(new ParseError(sourceSpan,'Could not find "never" keyword in expression')):trackTrigger("never",triggers,errors,new NeverDeferredTrigger(neverSourceSpan,sourceSpan,prefetchSpan,null,hydrateSpan))}function parseWhenTrigger({expression,sourceSpan},bindingParser,triggers,errors){const whenIndex=expression.indexOf("when"),whenSourceSpan=new ParseSourceSpan(sourceSpan.start.moveBy(whenIndex),sourceSpan.start.moveBy(whenIndex+4)),prefetchSpan=getPrefetchSpan(expression,sourceSpan),hydrateSpan=getHydrateSpan(expression,sourceSpan);if(-1===whenIndex)errors.push(new ParseError(sourceSpan,'Could not find "when" keyword in expression'));else{const start=getTriggerParametersStart(expression,whenIndex+1),parsed=bindingParser.parseBinding(expression.slice(start),!1,sourceSpan,sourceSpan.start.offset+start);trackTrigger("when",triggers,errors,new BoundDeferredTrigger(parsed,sourceSpan,prefetchSpan,whenSourceSpan,hydrateSpan))}}function parseOnTrigger({expression,sourceSpan},triggers,errors,placeholder){const onIndex=expression.indexOf("on"),onSourceSpan=new ParseSourceSpan(sourceSpan.start.moveBy(onIndex),sourceSpan.start.moveBy(onIndex+2)),prefetchSpan=getPrefetchSpan(expression,sourceSpan),hydrateSpan=getHydrateSpan(expression,sourceSpan);if(-1===onIndex)errors.push(new ParseError(sourceSpan,'Could not find "on" keyword in expression'));else{const start=getTriggerParametersStart(expression,onIndex+1);new OnTriggerParser(expression,start,sourceSpan,triggers,errors,expression.startsWith("hydrate")?validateHydrateReferenceBasedTrigger:validatePlainReferenceBasedTrigger,placeholder,prefetchSpan,onSourceSpan,hydrateSpan).parse()}}function getPrefetchSpan(expression,sourceSpan){return expression.startsWith("prefetch")?new ParseSourceSpan(sourceSpan.start,sourceSpan.start.moveBy(8)):null}function getHydrateSpan(expression,sourceSpan){return expression.startsWith("hydrate")?new ParseSourceSpan(sourceSpan.start,sourceSpan.start.moveBy(7)):null}!function(OnTriggerType){OnTriggerType.IDLE="idle",OnTriggerType.TIMER="timer",OnTriggerType.INTERACTION="interaction",OnTriggerType.IMMEDIATE="immediate",OnTriggerType.HOVER="hover",OnTriggerType.VIEWPORT="viewport",OnTriggerType.NEVER="never"}(OnTriggerType||(OnTriggerType={}));class OnTriggerParser{expression;start;span;triggers;errors;validator;placeholder;prefetchSpan;onSourceSpan;hydrateSpan;index=0;tokens;constructor(expression,start,span,triggers,errors,validator,placeholder,prefetchSpan,onSourceSpan,hydrateSpan){this.expression=expression,this.start=start,this.span=span,this.triggers=triggers,this.errors=errors,this.validator=validator,this.placeholder=placeholder,this.prefetchSpan=prefetchSpan,this.onSourceSpan=onSourceSpan,this.hydrateSpan=hydrateSpan,this.tokens=(new Lexer).tokenize(expression.slice(start))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){const token=this.token();if(!token.isIdentifier()){this.unexpectedToken(token);break}if(this.isFollowedByOrLast(44))this.consumeTrigger(token,[]),this.advance();else if(this.isFollowedByOrLast(40)){this.advance();const prevErrors=this.errors.length,parameters=this.consumeParameters();if(this.errors.length!==prevErrors)break;this.consumeTrigger(token,parameters),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(char){return this.index===this.tokens.length-1||this.tokens[this.index+1].isCharacter(char)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(identifier,parameters){const triggerNameStartSpan=this.span.start.moveBy(this.start+identifier.index-this.tokens[0].index),nameSpan=new ParseSourceSpan(triggerNameStartSpan,triggerNameStartSpan.moveBy(identifier.strValue.length)),endSpan=triggerNameStartSpan.moveBy(this.token().end-identifier.index),isFirstTrigger=0===identifier.index,onSourceSpan=isFirstTrigger?this.onSourceSpan:null,prefetchSourceSpan=isFirstTrigger?this.prefetchSpan:null,hydrateSourceSpan=isFirstTrigger?this.hydrateSpan:null,sourceSpan=new ParseSourceSpan(isFirstTrigger?this.span.start:triggerNameStartSpan,endSpan);try{switch(identifier.toString()){case OnTriggerType.IDLE:this.trackTrigger("idle",function createIdleTrigger(parameters,nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan){if(parameters.length>0)throw new Error(`"${OnTriggerType.IDLE}" trigger cannot have parameters`);return new IdleDeferredTrigger(nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan)}(parameters,nameSpan,sourceSpan,prefetchSourceSpan,onSourceSpan,hydrateSourceSpan));break;case OnTriggerType.TIMER:this.trackTrigger("timer",function createTimerTrigger(parameters,nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan){if(1!==parameters.length)throw new Error(`"${OnTriggerType.TIMER}" trigger must have exactly one parameter`);const delay=parseDeferredTime(parameters[0]);if(null===delay)throw new Error(`Could not parse time value of trigger "${OnTriggerType.TIMER}"`);return new TimerDeferredTrigger(delay,nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan)}(parameters,nameSpan,sourceSpan,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case OnTriggerType.INTERACTION:this.trackTrigger("interaction",function createInteractionTrigger(parameters,nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan,validator){return validator(OnTriggerType.INTERACTION,parameters),new InteractionDeferredTrigger(parameters[0]??null,nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan)}(parameters,nameSpan,sourceSpan,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;case OnTriggerType.IMMEDIATE:this.trackTrigger("immediate",function createImmediateTrigger(parameters,nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan){if(parameters.length>0)throw new Error(`"${OnTriggerType.IMMEDIATE}" trigger cannot have parameters`);return new ImmediateDeferredTrigger(nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan)}(parameters,nameSpan,sourceSpan,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case OnTriggerType.HOVER:this.trackTrigger("hover",function createHoverTrigger(parameters,nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan,placeholder,validator){return validator(OnTriggerType.HOVER,parameters),new HoverDeferredTrigger(parameters[0]??null,nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan)}(parameters,nameSpan,sourceSpan,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;case OnTriggerType.VIEWPORT:this.trackTrigger("viewport",function createViewportTrigger(parameters,nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan,validator){return validator(OnTriggerType.VIEWPORT,parameters),new ViewportDeferredTrigger(parameters[0]??null,nameSpan,sourceSpan,prefetchSpan,onSourceSpan,hydrateSpan)}(parameters,nameSpan,sourceSpan,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;default:throw new Error(`Unrecognized trigger type "${identifier}"`)}}catch(e){this.error(identifier,e.message)}}consumeParameters(){const parameters=[];if(!this.token().isCharacter(40))return this.unexpectedToken(this.token()),parameters;this.advance();const commaDelimStack=[];let current="";for(;this.index<this.tokens.length;){const token=this.token();if(token.isCharacter(41)&&0===commaDelimStack.length){current.length&&parameters.push(current);break}token.type===TokenType.Character&&COMMA_DELIMITED_SYNTAX.has(token.numValue)&&commaDelimStack.push(COMMA_DELIMITED_SYNTAX.get(token.numValue)),commaDelimStack.length>0&&token.isCharacter(commaDelimStack[commaDelimStack.length-1])&&commaDelimStack.pop(),0===commaDelimStack.length&&token.isCharacter(44)&&current.length>0?(parameters.push(current),current="",this.advance()):(current+=this.tokenText(),this.advance())}return(!this.token().isCharacter(41)||commaDelimStack.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(44)&&this.unexpectedToken(this.tokens[this.index+1]),parameters}tokenText(){return this.expression.slice(this.start+this.token().index,this.start+this.token().end)}trackTrigger(name,trigger){trackTrigger(name,this.triggers,this.errors,trigger)}error(token,message){const newStart=this.span.start.moveBy(this.start+token.index),newEnd=newStart.moveBy(token.end-token.index);this.errors.push(new ParseError(new ParseSourceSpan(newStart,newEnd),message))}unexpectedToken(token){this.error(token,`Unexpected token "${token}"`)}}function trackTrigger(name,allTriggers,errors,trigger){allTriggers[name]?errors.push(new ParseError(trigger.sourceSpan,`Duplicate "${name}" trigger is not allowed`)):allTriggers[name]=trigger}function validatePlainReferenceBasedTrigger(type,parameters){if(parameters.length>1)throw new Error(`"${type}" trigger can only have zero or one parameters`)}function validateHydrateReferenceBasedTrigger(type,parameters){if(parameters.length>0)throw new Error(`Hydration trigger "${type}" cannot have parameters`)}function getTriggerParametersStart(value,startPosition=0){let hasFoundSeparator=!1;for(let i=startPosition;i<value.length;i++)if(SEPARATOR_PATTERN.test(value[i]))hasFoundSeparator=!0;else if(hasFoundSeparator)return i;return-1}function parseDeferredTime(value){const match=value.match(TIME_PATTERN);if(!match)return null;const[time,units]=match;return parseFloat(time)*("s"===units?1e3:1)}const PREFETCH_WHEN_PATTERN=/^prefetch\s+when\s/,PREFETCH_ON_PATTERN=/^prefetch\s+on\s/,HYDRATE_WHEN_PATTERN=/^hydrate\s+when\s/,HYDRATE_ON_PATTERN=/^hydrate\s+on\s/,HYDRATE_NEVER_PATTERN=/^hydrate\s+never(\s*)$/,MINIMUM_PARAMETER_PATTERN=/^minimum\s/,AFTER_PARAMETER_PATTERN=/^after\s/,WHEN_PARAMETER_PATTERN=/^when\s/,ON_PARAMETER_PATTERN=/^on\s/;function isConnectedDeferLoopBlock(name){return"placeholder"===name||"loading"===name||"error"===name}function createDeferredBlock(ast,connectedBlocks,visitor,bindingParser){const errors=[],{placeholder,loading,error}=function parseConnectedBlocks(connectedBlocks,errors,visitor){let placeholder=null,loading=null,error=null;for(const block of connectedBlocks)try{if(!isConnectedDeferLoopBlock(block.name)){errors.push(new ParseError(block.startSourceSpan,`Unrecognized block "@${block.name}"`));break}switch(block.name){case"placeholder":null!==placeholder?errors.push(new ParseError(block.startSourceSpan,"@defer block can only have one @placeholder block")):placeholder=parsePlaceholderBlock(block,visitor);break;case"loading":null!==loading?errors.push(new ParseError(block.startSourceSpan,"@defer block can only have one @loading block")):loading=parseLoadingBlock(block,visitor);break;case"error":null!==error?errors.push(new ParseError(block.startSourceSpan,"@defer block can only have one @error block")):error=parseErrorBlock(block,visitor)}}catch(e){errors.push(new ParseError(block.startSourceSpan,e.message))}return{placeholder,loading,error}}(connectedBlocks,errors,visitor),{triggers,prefetchTriggers,hydrateTriggers}=function parsePrimaryTriggers(ast,bindingParser,errors,placeholder){const triggers={},prefetchTriggers={},hydrateTriggers={};for(const param of ast.parameters)WHEN_PARAMETER_PATTERN.test(param.expression)?parseWhenTrigger(param,bindingParser,triggers,errors):ON_PARAMETER_PATTERN.test(param.expression)?parseOnTrigger(param,triggers,errors,placeholder):PREFETCH_WHEN_PATTERN.test(param.expression)?parseWhenTrigger(param,bindingParser,prefetchTriggers,errors):PREFETCH_ON_PATTERN.test(param.expression)?parseOnTrigger(param,prefetchTriggers,errors,placeholder):HYDRATE_WHEN_PATTERN.test(param.expression)?parseWhenTrigger(param,bindingParser,hydrateTriggers,errors):HYDRATE_ON_PATTERN.test(param.expression)?parseOnTrigger(param,hydrateTriggers,errors,placeholder):HYDRATE_NEVER_PATTERN.test(param.expression)?parseNeverTrigger(param,hydrateTriggers,errors):errors.push(new ParseError(param.sourceSpan,"Unrecognized trigger"));hydrateTriggers.never&&Object.keys(hydrateTriggers).length>1&&errors.push(new ParseError(ast.startSourceSpan,"Cannot specify additional `hydrate` triggers if `hydrate never` is present"));return{triggers,prefetchTriggers,hydrateTriggers}}(ast,bindingParser,errors,placeholder);let lastEndSourceSpan=ast.endSourceSpan,endOfLastSourceSpan=ast.sourceSpan.end;if(connectedBlocks.length>0){const lastConnectedBlock=connectedBlocks[connectedBlocks.length-1];lastEndSourceSpan=lastConnectedBlock.endSourceSpan,endOfLastSourceSpan=lastConnectedBlock.sourceSpan.end}const sourceSpanWithConnectedBlocks=new ParseSourceSpan(ast.sourceSpan.start,endOfLastSourceSpan);return{node:new DeferredBlock(visitAll(visitor,ast.children,ast.children),triggers,prefetchTriggers,hydrateTriggers,placeholder,loading,error,ast.nameSpan,sourceSpanWithConnectedBlocks,ast.sourceSpan,ast.startSourceSpan,lastEndSourceSpan,ast.i18n),errors}}function parsePlaceholderBlock(ast,visitor){let minimumTime=null;for(const param of ast.parameters){if(!MINIMUM_PARAMETER_PATTERN.test(param.expression))throw new Error(`Unrecognized parameter in @placeholder block: "${param.expression}"`);{if(null!=minimumTime)throw new Error('@placeholder block can only have one "minimum" parameter');const parsedTime=parseDeferredTime(param.expression.slice(getTriggerParametersStart(param.expression)));if(null===parsedTime)throw new Error('Could not parse time value of parameter "minimum"');minimumTime=parsedTime}}return new DeferredBlockPlaceholder(visitAll(visitor,ast.children,ast.children),minimumTime,ast.nameSpan,ast.sourceSpan,ast.startSourceSpan,ast.endSourceSpan,ast.i18n)}function parseLoadingBlock(ast,visitor){let afterTime=null,minimumTime=null;for(const param of ast.parameters)if(AFTER_PARAMETER_PATTERN.test(param.expression)){if(null!=afterTime)throw new Error('@loading block can only have one "after" parameter');const parsedTime=parseDeferredTime(param.expression.slice(getTriggerParametersStart(param.expression)));if(null===parsedTime)throw new Error('Could not parse time value of parameter "after"');afterTime=parsedTime}else{if(!MINIMUM_PARAMETER_PATTERN.test(param.expression))throw new Error(`Unrecognized parameter in @loading block: "${param.expression}"`);{if(null!=minimumTime)throw new Error('@loading block can only have one "minimum" parameter');const parsedTime=parseDeferredTime(param.expression.slice(getTriggerParametersStart(param.expression)));if(null===parsedTime)throw new Error('Could not parse time value of parameter "minimum"');minimumTime=parsedTime}}return new DeferredBlockLoading(visitAll(visitor,ast.children,ast.children),afterTime,minimumTime,ast.nameSpan,ast.sourceSpan,ast.startSourceSpan,ast.endSourceSpan,ast.i18n)}function parseErrorBlock(ast,visitor){if(ast.parameters.length>0)throw new Error("@error block cannot have parameters");return new DeferredBlockError(visitAll(visitor,ast.children,ast.children),ast.nameSpan,ast.sourceSpan,ast.startSourceSpan,ast.endSourceSpan,ast.i18n)}const BIND_NAME_REGEXP=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,BINDING_DELIMS_BANANA_BOX={start:"[(",end:")]"},BINDING_DELIMS_PROPERTY={start:"[",end:"]"},BINDING_DELIMS_EVENT={start:"(",end:")"},UNSUPPORTED_SELECTORLESS_TAGS=new Set(["link","style","script","ng-template","ng-container","ng-content"]),UNSUPPORTED_SELECTORLESS_DIRECTIVE_ATTRS=new Set(["ngProjectAs","ngNonBindable"]);class HtmlAstToIvyAst{bindingParser;options;errors=[];styles=[];styleUrls=[];ngContentSelectors=[];commentNodes=[];inI18nBlock=!1;processedNodes=new Set;constructor(bindingParser,options){this.bindingParser=bindingParser,this.options=options}visitElement(element){const isI18nRootElement=isI18nRootNode(element.i18n);isI18nRootElement&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",element.sourceSpan),this.inI18nBlock=!0);const preparsedElement=preparseElement(element);if(preparsedElement.type===PreparsedElementType.SCRIPT)return null;if(preparsedElement.type===PreparsedElementType.STYLE){const contents=function textContents(node){return 1===node.children.length&&node.children[0]instanceof Text?node.children[0].value:null}(element);return null!==contents&&this.styles.push(contents),null}if(preparsedElement.type===PreparsedElementType.STYLESHEET&&function isStyleUrlResolvable(url){if(null==url||0===url.length||"/"==url[0])return!1;const schemeMatch=url.match(URL_WITH_SCHEMA_REGEXP);return null===schemeMatch||"package"==schemeMatch[1]||"asset"==schemeMatch[1]}(preparsedElement.hrefAttr))return this.styleUrls.push(preparsedElement.hrefAttr),null;const isTemplateElement=function isNgTemplate(tagName){return"ng-template"===splitNsName(tagName)[1]}(element.name),{attributes,boundEvents,references,variables,templateVariables,elementHasInlineTemplate,parsedProperties,templateParsedProperties,i18nAttrsMeta}=this.prepareAttributes(element.attrs,isTemplateElement),directives=this.extractDirectives(element);let children,parsedElement;if(children=preparsedElement.nonBindable?visitAll(NON_BINDABLE_VISITOR,element.children).flat(1/0):visitAll(this,element.children,element.children),preparsedElement.type===PreparsedElementType.NG_CONTENT){const selector=preparsedElement.selectAttr,attrs=element.attrs.map(attr=>this.visitAttribute(attr));parsedElement=new Content(selector,attrs,children,element.isSelfClosing,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n),this.ngContentSelectors.push(selector)}else if(isTemplateElement){const attrs=this.categorizePropertyAttributes(element.name,parsedProperties,i18nAttrsMeta);parsedElement=new Template(element.name,attributes,attrs.bound,boundEvents,directives,[],children,references,variables,element.isSelfClosing,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n)}else{const attrs=this.categorizePropertyAttributes(element.name,parsedProperties,i18nAttrsMeta);if("ng-container"===element.name)for(const bound of attrs.bound)bound.type===BindingType.Attribute&&this.reportError("Attribute bindings are not supported on ng-container. Use property bindings instead.",bound.sourceSpan);parsedElement=new Element$1(element.name,attributes,attrs.bound,boundEvents,directives,children,references,element.isSelfClosing,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.isVoid,element.i18n)}return elementHasInlineTemplate&&(parsedElement=this.wrapInTemplate(parsedElement,templateParsedProperties,templateVariables,i18nAttrsMeta,isTemplateElement,isI18nRootElement)),isI18nRootElement&&(this.inI18nBlock=!1),parsedElement}visitAttribute(attribute){return new TextAttribute(attribute.name,attribute.value,attribute.sourceSpan,attribute.keySpan,attribute.valueSpan,attribute.i18n)}visitText(text){return this.processedNodes.has(text)?null:this._visitTextWithInterpolation(text.value,text.sourceSpan,text.tokens,text.i18n)}visitExpansion(expansion){if(!expansion.i18n)return null;if(!isI18nRootNode(expansion.i18n))throw new Error(`Invalid type "${expansion.i18n.constructor}" for "i18n" property of ${expansion.sourceSpan.toString()}. Expected a "Message"`);const message=expansion.i18n,vars={},placeholders={};return Object.keys(message.placeholders).forEach(key=>{const value=message.placeholders[key];if(key.startsWith("VAR_")){const formattedKey=key.trim(),ast=this.bindingParser.parseInterpolationExpression(value.text,value.sourceSpan);vars[formattedKey]=new BoundText(ast,value.sourceSpan)}else placeholders[key]=this._visitTextWithInterpolation(value.text,value.sourceSpan,null)}),new Icu$1(vars,placeholders,expansion.sourceSpan,message)}visitExpansionCase(expansionCase){return null}visitComment(comment){return this.options.collectCommentNodes&&this.commentNodes.push(new Comment$1(comment.value||"",comment.sourceSpan)),null}visitLetDeclaration(decl,context){const value=this.bindingParser.parseBinding(decl.value,!1,decl.valueSpan,decl.valueSpan.start.offset);return 0===value.errors.length&&value.ast instanceof EmptyExpr$1&&this.reportError("@let declaration value cannot be empty",decl.valueSpan),new LetDeclaration$1(decl.name,value,decl.sourceSpan,decl.nameSpan,decl.valueSpan)}visitComponent(component){const isI18nRootElement=isI18nRootNode(component.i18n);if(isI18nRootElement&&(this.inI18nBlock&&this.reportError("Cannot mark a component as translatable inside of a translatable section. Please remove the nested i18n marker.",component.sourceSpan),this.inI18nBlock=!0),null!==component.tagName&&UNSUPPORTED_SELECTORLESS_TAGS.has(component.tagName))return this.reportError(`Tag name "${component.tagName}" cannot be used as a component tag`,component.startSourceSpan),null;const{attributes,boundEvents,references,templateVariables,elementHasInlineTemplate,parsedProperties,templateParsedProperties,i18nAttrsMeta}=this.prepareAttributes(component.attrs,!1);this.validateSelectorlessReferences(references);const directives=this.extractDirectives(component);let children;children=component.attrs.find(attr=>"ngNonBindable"===attr.name)?visitAll(NON_BINDABLE_VISITOR,component.children).flat(1/0):visitAll(this,component.children,component.children);const attrs=this.categorizePropertyAttributes(component.tagName,parsedProperties,i18nAttrsMeta);let node=new Component$1(component.componentName,component.tagName,component.fullName,attributes,attrs.bound,boundEvents,directives,children,references,component.isSelfClosing,component.sourceSpan,component.startSourceSpan,component.endSourceSpan,component.i18n);return elementHasInlineTemplate&&(node=this.wrapInTemplate(node,templateParsedProperties,templateVariables,i18nAttrsMeta,!1,isI18nRootElement)),isI18nRootElement&&(this.inI18nBlock=!1),node}visitDirective(){return null}visitBlockParameter(){return null}visitBlock(block,context){const index=Array.isArray(context)?context.indexOf(block):-1;if(-1===index)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(block))return null;let result=null;switch(block.name){case"defer":result=createDeferredBlock(block,this.findConnectedBlocks(index,context,isConnectedDeferLoopBlock),this,this.bindingParser);break;case"switch":result=createSwitchBlock(block,this,this.bindingParser);break;case"for":result=createForLoop(block,this.findConnectedBlocks(index,context,isConnectedForLoopBlock),this,this.bindingParser);break;case"if":result=createIfBlock(block,this.findConnectedBlocks(index,context,isConnectedIfLoopBlock),this,this.bindingParser);break;default:let errorMessage;isConnectedDeferLoopBlock(block.name)?(errorMessage=`@${block.name} block can only be used after an @defer block.`,this.processedNodes.add(block)):isConnectedForLoopBlock(block.name)?(errorMessage=`@${block.name} block can only be used after an @for block.`,this.processedNodes.add(block)):isConnectedIfLoopBlock(block.name)?(errorMessage=`@${block.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(block)):errorMessage=`Unrecognized block @${block.name}.`,result={node:new UnknownBlock(block.name,block.sourceSpan,block.nameSpan),errors:[new ParseError(block.sourceSpan,errorMessage)]}}return this.errors.push(...result.errors),result.node}findConnectedBlocks(primaryBlockIndex,siblings,predicate){const relatedBlocks=[];for(let i=primaryBlockIndex+1;i<siblings.length;i++){const node=siblings[i];if(!(node instanceof Comment))if(node instanceof Text&&0===node.value.trim().length)this.processedNodes.add(node);else{if(!(node instanceof Block&&predicate(node.name)))break;relatedBlocks.push(node),this.processedNodes.add(node)}}return relatedBlocks}categorizePropertyAttributes(elementName,properties,i18nPropsMeta){const bound=[],literal=[];return properties.forEach(prop=>{const i18n=i18nPropsMeta[prop.name];if(prop.isLiteral)literal.push(new TextAttribute(prop.name,prop.expression.source||"",prop.sourceSpan,prop.keySpan,prop.valueSpan,i18n));else{const bep=this.bindingParser.createBoundElementProperty(elementName,prop,!0,!1);bound.push(BoundAttribute.fromBoundElementProperty(bep,i18n))}}),{bound,literal}}prepareAttributes(attrs,isTemplateElement){const parsedProperties=[],boundEvents=[],variables=[],references=[],attributes=[],i18nAttrsMeta={},templateParsedProperties=[],templateVariables=[];let elementHasInlineTemplate=!1;for(const attribute of attrs){let hasBinding=!1;const normalizedName=normalizeAttributeName(attribute.name);let isTemplateBinding=!1;if(attribute.i18n&&(i18nAttrsMeta[attribute.name]=attribute.i18n),normalizedName.startsWith("*")){elementHasInlineTemplate&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",attribute.sourceSpan),isTemplateBinding=!0,elementHasInlineTemplate=!0;const templateValue=attribute.value,templateKey=normalizedName.substring(1),parsedVariables=[],absoluteValueOffset=attribute.valueSpan?attribute.valueSpan.fullStart.offset:attribute.sourceSpan.fullStart.offset+attribute.name.length;this.bindingParser.parseInlineTemplateBinding(templateKey,templateValue,attribute.sourceSpan,absoluteValueOffset,[],templateParsedProperties,parsedVariables,!0),templateVariables.push(...parsedVariables.map(v=>new Variable(v.name,v.value,v.sourceSpan,v.keySpan,v.valueSpan)))}else hasBinding=this.parseAttribute(isTemplateElement,attribute,[],parsedProperties,boundEvents,variables,references);hasBinding||isTemplateBinding||attributes.push(this.visitAttribute(attribute))}return{attributes,boundEvents,references,variables,templateVariables,elementHasInlineTemplate,parsedProperties,templateParsedProperties,i18nAttrsMeta}}parseAttribute(isTemplateElement,attribute,matchableAttributes,parsedProperties,boundEvents,variables,references){const name=normalizeAttributeName(attribute.name),value=attribute.value,srcSpan=attribute.sourceSpan,absoluteOffset=attribute.valueSpan?attribute.valueSpan.fullStart.offset:srcSpan.fullStart.offset;function createKeySpan(srcSpan,prefix,identifier){const normalizationAdjustment=attribute.name.length-name.length,keySpanStart=srcSpan.start.moveBy(prefix.length+normalizationAdjustment),keySpanEnd=keySpanStart.moveBy(identifier.length);return new ParseSourceSpan(keySpanStart,keySpanEnd,keySpanStart,identifier)}const bindParts=name.match(BIND_NAME_REGEXP);if(bindParts){if(null!=bindParts[1]){const identifier=bindParts[7],keySpan=createKeySpan(srcSpan,bindParts[1],identifier);this.bindingParser.parsePropertyBinding(identifier,value,!1,!1,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties,keySpan)}else if(bindParts[2])if(isTemplateElement){const identifier=bindParts[7],keySpan=createKeySpan(srcSpan,bindParts[2],identifier);this.parseVariable(identifier,value,srcSpan,keySpan,attribute.valueSpan,variables)}else this.reportError('"let-" is only supported on ng-template elements.',srcSpan);else if(bindParts[3]){const identifier=bindParts[7],keySpan=createKeySpan(srcSpan,bindParts[3],identifier);this.parseReference(identifier,value,srcSpan,keySpan,attribute.valueSpan,references)}else if(bindParts[4]){const events=[],identifier=bindParts[7],keySpan=createKeySpan(srcSpan,bindParts[4],identifier);this.bindingParser.parseEvent(identifier,value,!1,srcSpan,attribute.valueSpan||srcSpan,matchableAttributes,events,keySpan),addEvents(events,boundEvents)}else if(bindParts[5]){const identifier=bindParts[7],keySpan=createKeySpan(srcSpan,bindParts[5],identifier);this.bindingParser.parsePropertyBinding(identifier,value,!1,!0,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties,keySpan),this.parseAssignmentEvent(identifier,value,srcSpan,attribute.valueSpan,matchableAttributes,boundEvents,keySpan,absoluteOffset)}else if(bindParts[6]){const keySpan=createKeySpan(srcSpan,"",name);this.bindingParser.parseLiteralAttr(name,value,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties,keySpan)}return!0}let delims=null;if(name.startsWith(BINDING_DELIMS_BANANA_BOX.start)?delims=BINDING_DELIMS_BANANA_BOX:name.startsWith(BINDING_DELIMS_PROPERTY.start)?delims=BINDING_DELIMS_PROPERTY:name.startsWith(BINDING_DELIMS_EVENT.start)&&(delims=BINDING_DELIMS_EVENT),null!==delims&&name.endsWith(delims.end)&&name.length>delims.start.length+delims.end.length){const identifier=name.substring(delims.start.length,name.length-delims.end.length),keySpan=createKeySpan(srcSpan,delims.start,identifier);if(delims.start===BINDING_DELIMS_BANANA_BOX.start)this.bindingParser.parsePropertyBinding(identifier,value,!1,!0,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties,keySpan),this.parseAssignmentEvent(identifier,value,srcSpan,attribute.valueSpan,matchableAttributes,boundEvents,keySpan,absoluteOffset);else if(delims.start===BINDING_DELIMS_PROPERTY.start)this.bindingParser.parsePropertyBinding(identifier,value,!1,!1,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties,keySpan);else{const events=[];this.bindingParser.parseEvent(identifier,value,!1,srcSpan,attribute.valueSpan||srcSpan,matchableAttributes,events,keySpan),addEvents(events,boundEvents)}return!0}const keySpan=createKeySpan(srcSpan,"",name);return this.bindingParser.parsePropertyInterpolation(name,value,srcSpan,attribute.valueSpan,matchableAttributes,parsedProperties,keySpan,attribute.valueTokens??null)}extractDirectives(node){const elementName=node instanceof Component?node.tagName:node.name,directives=[],seenDirectives=new Set;for(const directive of node.directives){let invalid=!1;for(const attr of directive.attrs)attr.name.startsWith("*")?(invalid=!0,this.reportError(`Shorthand template syntax "${attr.name}" is not supported inside a directive context`,attr.sourceSpan)):UNSUPPORTED_SELECTORLESS_DIRECTIVE_ATTRS.has(attr.name)&&(invalid=!0,this.reportError(`Attribute "${attr.name}" is not supported in a directive context`,attr.sourceSpan));if(!invalid&&seenDirectives.has(directive.name)&&(invalid=!0,this.reportError(`Cannot apply directive "${directive.name}" multiple times on the same element`,directive.sourceSpan)),invalid)continue;const{attributes,parsedProperties,boundEvents,references,i18nAttrsMeta}=this.prepareAttributes(directive.attrs,!1);this.validateSelectorlessReferences(references);const{bound:inputs}=this.categorizePropertyAttributes(elementName,parsedProperties,i18nAttrsMeta);for(const input of inputs)input.type!==BindingType.Property&&input.type!==BindingType.TwoWay&&(invalid=!0,this.reportError("Binding is not supported in a directive context",input.sourceSpan));invalid||(seenDirectives.add(directive.name),directives.push(new Directive$1(directive.name,attributes,inputs,boundEvents,references,directive.sourceSpan,directive.startSourceSpan,directive.endSourceSpan,void 0)))}return directives}filterAnimationAttributes(attributes){return attributes.filter(a=>!a.name.startsWith("animate."))}filterAnimationInputs(attributes){return attributes.filter(a=>a.type!==BindingType.Animation)}wrapInTemplate(node,templateProperties,templateVariables,i18nAttrsMeta,isTemplateElement,isI18nRootElement){const attrs=this.categorizePropertyAttributes("ng-template",templateProperties,i18nAttrsMeta),templateAttrs=[];attrs.literal.forEach(attr=>templateAttrs.push(attr)),attrs.bound.forEach(attr=>templateAttrs.push(attr));const hoistedAttrs={attributes:[],inputs:[],outputs:[]};(node instanceof Element$1||node instanceof Component$1)&&(hoistedAttrs.attributes.push(...this.filterAnimationAttributes(node.attributes)),hoistedAttrs.inputs.push(...this.filterAnimationInputs(node.inputs)),hoistedAttrs.outputs.push(...node.outputs));const i18n=isTemplateElement&&isI18nRootElement?void 0:node.i18n;let name;return name=node instanceof Component$1?node.tagName:node instanceof Template?null:node.name,new Template(name,hoistedAttrs.attributes,hoistedAttrs.inputs,hoistedAttrs.outputs,[],templateAttrs,[node],[],templateVariables,!1,node.sourceSpan,node.startSourceSpan,node.endSourceSpan,i18n)}_visitTextWithInterpolation(value,sourceSpan,interpolatedTokens,i18n){const valueNoNgsp=replaceNgsp(value),expr=this.bindingParser.parseInterpolation(valueNoNgsp,sourceSpan,interpolatedTokens);return expr?new BoundText(expr,sourceSpan,i18n):new Text$3(valueNoNgsp,sourceSpan)}parseVariable(identifier,value,sourceSpan,keySpan,valueSpan,variables){identifier.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',sourceSpan):0===identifier.length&&this.reportError("Variable does not have a name",sourceSpan),variables.push(new Variable(identifier,value,sourceSpan,keySpan,valueSpan))}parseReference(identifier,value,sourceSpan,keySpan,valueSpan,references){identifier.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',sourceSpan):0===identifier.length?this.reportError("Reference does not have a name",sourceSpan):references.some(reference=>reference.name===identifier)&&this.reportError(`Reference "#${identifier}" is defined more than once`,sourceSpan),references.push(new Reference(identifier,value,sourceSpan,keySpan,valueSpan))}parseAssignmentEvent(name,expression,sourceSpan,valueSpan,targetMatchableAttrs,boundEvents,keySpan,absoluteOffset){const events=[];this.bindingParser.parseEvent(`${name}Change`,expression,!0,sourceSpan,valueSpan||sourceSpan,targetMatchableAttrs,events,keySpan),addEvents(events,boundEvents)}validateSelectorlessReferences(references){if(0===references.length)return;const seenNames=new Set;for(const ref of references)ref.value.length>0?this.reportError("Cannot specify a value for a local reference in this context",ref.valueSpan||ref.sourceSpan):seenNames.has(ref.name)?this.reportError("Duplicate reference names are not allowed",ref.sourceSpan):seenNames.add(ref.name)}reportError(message,sourceSpan,level=ParseErrorLevel.ERROR){this.errors.push(new ParseError(sourceSpan,message,level))}}const NON_BINDABLE_VISITOR=new class NonBindableVisitor{visitElement(ast){const preparsedElement=preparseElement(ast);if(preparsedElement.type===PreparsedElementType.SCRIPT||preparsedElement.type===PreparsedElementType.STYLE||preparsedElement.type===PreparsedElementType.STYLESHEET)return null;const children=visitAll(this,ast.children,null);return new Element$1(ast.name,visitAll(this,ast.attrs),[],[],[],children,[],ast.isSelfClosing,ast.sourceSpan,ast.startSourceSpan,ast.endSourceSpan,ast.isVoid)}visitComment(comment){return null}visitAttribute(attribute){return new TextAttribute(attribute.name,attribute.value,attribute.sourceSpan,attribute.keySpan,attribute.valueSpan,attribute.i18n)}visitText(text){return new Text$3(text.value,text.sourceSpan)}visitExpansion(expansion){return null}visitExpansionCase(expansionCase){return null}visitBlock(block,context){const nodes=[new Text$3(block.startSourceSpan.toString(),block.startSourceSpan),...visitAll(this,block.children)];return null!==block.endSourceSpan&&nodes.push(new Text$3(block.endSourceSpan.toString(),block.endSourceSpan)),nodes}visitBlockParameter(parameter,context){return null}visitLetDeclaration(decl,context){return new Text$3(`@let ${decl.name} = ${decl.value};`,decl.sourceSpan)}visitComponent(ast,context){const children=visitAll(this,ast.children,null);return new Element$1(ast.fullName,visitAll(this,ast.attrs),[],[],[],children,[],ast.isSelfClosing,ast.sourceSpan,ast.startSourceSpan,ast.endSourceSpan,!1)}visitDirective(directive,context){return null}};function normalizeAttributeName(attrName){return/^data-/i.test(attrName)?attrName.substring(5):attrName}function addEvents(events,boundEvents){boundEvents.push(...events.map(e=>BoundEvent.fromParsedEvent(e)))}const LEADING_TRIVIA_CHARS=[" ","\n","\r","\t"];function parseTemplate(template,templateUrl,options={}){const{interpolationConfig,preserveWhitespaces,enableI18nLegacyMessageIdFormat}=options,selectorlessEnabled=options.enableSelectorless??!1,bindingParser=makeBindingParser(interpolationConfig,selectorlessEnabled),parseResult=(new HtmlParser).parse(template,templateUrl,{leadingTriviaChars:LEADING_TRIVIA_CHARS,...options,tokenizeExpansionForms:!0,tokenizeBlocks:options.enableBlockSyntax??!0,tokenizeLet:options.enableLetSyntax??!0,selectorlessEnabled});if(!options.alwaysAttemptHtmlToR3AstConversion&&parseResult.errors&&parseResult.errors.length>0){const parsedTemplate={interpolationConfig,preserveWhitespaces,errors:parseResult.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return options.collectCommentNodes&&(parsedTemplate.commentNodes=[]),parsedTemplate}let rootNodes=parseResult.rootNodes;const retainEmptyTokens=!(options.preserveSignificantWhitespace??1),i18nMetaVisitor=new I18nMetaVisitor(interpolationConfig,!preserveWhitespaces,enableI18nLegacyMessageIdFormat,void 0,options.preserveSignificantWhitespace,retainEmptyTokens),i18nMetaResult=i18nMetaVisitor.visitAllWithErrors(rootNodes);if(!options.alwaysAttemptHtmlToR3AstConversion&&i18nMetaResult.errors&&i18nMetaResult.errors.length>0){const parsedTemplate={interpolationConfig,preserveWhitespaces,errors:i18nMetaResult.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return options.collectCommentNodes&&(parsedTemplate.commentNodes=[]),parsedTemplate}rootNodes=i18nMetaResult.rootNodes,preserveWhitespaces||(rootNodes=visitAll(new WhitespaceVisitor(!0,void 0,!1),rootNodes),i18nMetaVisitor.hasI18nMeta&&(rootNodes=visitAll(new I18nMetaVisitor(interpolationConfig,!1,void 0,void 0,!0,retainEmptyTokens),rootNodes)));const{nodes,errors,styleUrls,styles,ngContentSelectors,commentNodes}=function htmlAstToRender3Ast(htmlNodes,bindingParser,options){const transformer=new HtmlAstToIvyAst(bindingParser,options),result={nodes:visitAll(transformer,htmlNodes,htmlNodes),errors:bindingParser.errors.concat(transformer.errors),styleUrls:transformer.styleUrls,styles:transformer.styles,ngContentSelectors:transformer.ngContentSelectors};return options.collectCommentNodes&&(result.commentNodes=transformer.commentNodes),result}(rootNodes,bindingParser,{collectCommentNodes:!!options.collectCommentNodes});errors.push(...parseResult.errors,...i18nMetaResult.errors);const parsedTemplate={interpolationConfig,preserveWhitespaces,errors:errors.length>0?errors:null,nodes,styleUrls,styles,ngContentSelectors};return options.collectCommentNodes&&(parsedTemplate.commentNodes=commentNodes),parsedTemplate}const elementRegistry=new DomElementSchemaRegistry;function makeBindingParser(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG,selectorlessEnabled=!1){return new BindingParser(new Parser(new Lexer,selectorlessEnabled),interpolationConfig,elementRegistry,[])}const HOST_ATTR="_nghost-%COMP%",CONTENT_ATTR="_ngcontent-%COMP%";function baseDirectiveFields(meta,constantPool,bindingParser){const definitionMap=new DefinitionMap,selectors=parseSelectorToR3Selector(meta.selector);return definitionMap.set("type",meta.type.value),selectors.length>0&&definitionMap.set("selectors",asLiteral(selectors)),meta.queries.length>0&&definitionMap.set("contentQueries",function createContentQueriesFunction(queries,constantPool,name){const createStatements=[],updateStatements=[],tempAllocator=temporaryAllocator(st=>updateStatements.push(st),"_t");for(const query of queries){if(createStatements.push(createQueryCreateCall(query,constantPool,{nonSignal:Identifiers.contentQuery,signalBased:Identifiers.contentQuerySignal},[variable("dirIndex")]).toStmt()),query.isSignal){updateStatements.push(queryAdvancePlaceholder);continue}const temporary=tempAllocator(),getQueryList=importExpr(Identifiers.loadQuery).callFn([]),refresh=importExpr(Identifiers.queryRefresh).callFn([temporary.set(getQueryList)]),updateDirective=variable("ctx").prop(query.propertyName).set(query.first?temporary.prop("first"):temporary);updateStatements.push(refresh.and(updateDirective).toStmt())}const contentQueriesFnName=name?`${name}_ContentQueries`:null;return fn([new FnParam("rf",NUMBER_TYPE),new FnParam("ctx",null),new FnParam("dirIndex",null)],[renderFlagCheckIfStmt(1,createStatements),renderFlagCheckIfStmt(2,collapseAdvanceStatements(updateStatements))],INFERRED_TYPE,null,contentQueriesFnName)}(meta.queries,constantPool,meta.name)),meta.viewQueries.length&&definitionMap.set("viewQuery",function createViewQueriesFunction(viewQueries,constantPool,name){const createStatements=[],updateStatements=[],tempAllocator=temporaryAllocator(st=>updateStatements.push(st),"_t");viewQueries.forEach(query=>{const queryDefinitionCall=createQueryCreateCall(query,constantPool,{signalBased:Identifiers.viewQuerySignal,nonSignal:Identifiers.viewQuery});if(createStatements.push(queryDefinitionCall.toStmt()),query.isSignal)return void updateStatements.push(queryAdvancePlaceholder);const temporary=tempAllocator(),getQueryList=importExpr(Identifiers.loadQuery).callFn([]),refresh=importExpr(Identifiers.queryRefresh).callFn([temporary.set(getQueryList)]),updateDirective=variable("ctx").prop(query.propertyName).set(query.first?temporary.prop("first"):temporary);updateStatements.push(refresh.and(updateDirective).toStmt())});const viewQueryFnName=name?`${name}_Query`:null;return fn([new FnParam("rf",NUMBER_TYPE),new FnParam("ctx",null)],[renderFlagCheckIfStmt(1,createStatements),renderFlagCheckIfStmt(2,collapseAdvanceStatements(updateStatements))],INFERRED_TYPE,null,viewQueryFnName)}(meta.viewQueries,constantPool,meta.name)),definitionMap.set("hostBindings",function createHostBindingsFunction(hostBindingsMetadata,typeSourceSpan,bindingParser,constantPool,selector,name,definitionMap){const bindings=bindingParser.createBoundHostProperties(hostBindingsMetadata.properties,typeSourceSpan),eventBindings=bindingParser.createDirectiveHostEventAsts(hostBindingsMetadata.listeners,typeSourceSpan);hostBindingsMetadata.specialAttributes.styleAttr&&(hostBindingsMetadata.attributes.style=literal(hostBindingsMetadata.specialAttributes.styleAttr));hostBindingsMetadata.specialAttributes.classAttr&&(hostBindingsMetadata.attributes.class=literal(hostBindingsMetadata.specialAttributes.classAttr));const hostJob=function ingestHostBinding(input,bindingParser,constantPool){const job=new HostBindingCompilationJob(input.componentName,constantPool,compatibilityMode,TemplateCompilationMode.DomOnly);for(const property of input.properties??[]){let bindingKind=BindingKind.Property;property.name.startsWith("attr.")&&(property.name=property.name.substring(5),bindingKind=BindingKind.Attribute),property.isLegacyAnimation&&(bindingKind=BindingKind.LegacyAnimation),property.isAnimation&&(bindingKind=BindingKind.Animation),ingestDomProperty(job,property,bindingKind,bindingParser.calcPossibleSecurityContexts(input.componentSelector,property.name,bindingKind===BindingKind.Attribute).filter(context=>context!==SecurityContext.NONE))}for(const[name,expr]of Object.entries(input.attributes)??[])ingestHostAttribute(job,name,expr,bindingParser.calcPossibleSecurityContexts(input.componentSelector,name,!0).filter(context=>context!==SecurityContext.NONE));for(const event of input.events??[])ingestHostEvent(job,event);return job}({componentName:name,componentSelector:selector,properties:bindings,events:eventBindings,attributes:hostBindingsMetadata.attributes},bindingParser,constantPool);transform(hostJob,CompilationJobKind.Host),definitionMap.set("hostAttrs",hostJob.root.attributes);const varCount=hostJob.root.vars;null!==varCount&&varCount>0&&definitionMap.set("hostVars",literal(varCount));return function emitHostBindingFunction(job){if(null===job.root.fnName)throw new Error("AssertionError: host binding function is unnamed");const createStatements=[];for(const op of job.root.create){if(op.kind!==OpKind.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${OpKind[op.kind]}`);createStatements.push(op.statement)}const updateStatements=[];for(const op of job.root.update){if(op.kind!==OpKind.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${OpKind[op.kind]}`);updateStatements.push(op.statement)}if(0===createStatements.length&&0===updateStatements.length)return null;const createCond=maybeGenerateRfBlock(1,createStatements),updateCond=maybeGenerateRfBlock(2,updateStatements);return fn([new FnParam("rf"),new FnParam("ctx")],[...createCond,...updateCond],void 0,void 0,job.root.fnName)}(hostJob)}(meta.host,meta.typeSourceSpan,bindingParser,constantPool,meta.selector||"",meta.name,definitionMap)),definitionMap.set("inputs",conditionallyCreateDirectiveBindingLiteral(meta.inputs,!0)),definitionMap.set("outputs",conditionallyCreateDirectiveBindingLiteral(meta.outputs)),null!==meta.exportAs&&definitionMap.set("exportAs",literalArr(meta.exportAs.map(e=>literal(e)))),!1===meta.isStandalone&&definitionMap.set("standalone",literal(!1)),meta.isSignal&&definitionMap.set("signals",literal(!0)),definitionMap}function addFeatures(definitionMap,meta){const features=[],providers=meta.providers,viewProviders=meta.viewProviders;if(providers||viewProviders){const args=[providers||new LiteralArrayExpr([])];viewProviders&&args.push(viewProviders),features.push(importExpr(Identifiers.ProvidersFeature).callFn(args))}if(meta.hostDirectives?.length&&features.push(importExpr(Identifiers.HostDirectivesFeature).callFn([createHostDirectivesFeatureArg(meta.hostDirectives)])),meta.usesInheritance&&features.push(importExpr(Identifiers.InheritDefinitionFeature)),meta.fullInheritance&&features.push(importExpr(Identifiers.CopyDefinitionFeature)),meta.lifecycle.usesOnChanges&&features.push(importExpr(Identifiers.NgOnChangesFeature)),"externalStyles"in meta&&meta.externalStyles?.length){const externalStyleNodes=meta.externalStyles.map(externalStyle=>literal(externalStyle));features.push(importExpr(Identifiers.ExternalStylesFeature).callFn([literalArr(externalStyleNodes)]))}features.length&&definitionMap.set("features",literalArr(features))}function compileComponentFromMetadata(meta,constantPool,bindingParser){const definitionMap=baseDirectiveFields(meta,constantPool,bindingParser);addFeatures(definitionMap,meta);const selector=meta.selector&&CssSelector.parse(meta.selector),firstSelector=selector&&selector[0];if(firstSelector){const selectorAttributes=firstSelector.getAttrs();selectorAttributes.length&&definitionMap.set("attrs",constantPool.getConstLiteral(literalArr(selectorAttributes.map(value=>literal(null!=value?value:void 0))),!0))}const templateTypeName=meta.name;let allDeferrableDepsFn=null;if(1===meta.defer.mode&&null!==meta.defer.dependenciesFn){const fnName=`${templateTypeName}_DeferFn`;constantPool.statements.push(new DeclareVarStmt(fnName,meta.defer.dependenciesFn,void 0,StmtModifier.Final)),allDeferrableDepsFn=variable(fnName)}const compilationMode=meta.isStandalone&&!meta.hasDirectiveDependencies?TemplateCompilationMode.DomOnly:TemplateCompilationMode.Full,tpl=function ingestComponent(componentName,template,constantPool,compilationMode,relativeContextFilePath,i18nUseExternalIds,deferMeta,allDeferrableDepsFn,relativeTemplatePath,enableDebugLocations){const job=new ComponentCompilationJob(componentName,constantPool,compatibilityMode,compilationMode,relativeContextFilePath,i18nUseExternalIds,deferMeta,allDeferrableDepsFn,relativeTemplatePath,enableDebugLocations);return ingestNodes(job.root,template),job}(meta.name,meta.template.nodes,constantPool,compilationMode,meta.relativeContextFilePath,meta.i18nUseExternalIds,meta.defer,allDeferrableDepsFn,meta.relativeTemplatePath,function getTemplateSourceLocationsEnabled(){return ENABLE_TEMPLATE_SOURCE_LOCATIONS}());transform(tpl,CompilationJobKind.Tmpl);const templateFn=emitTemplateFn(tpl,constantPool);if(null!==tpl.contentSelectors&&definitionMap.set("ngContentSelectors",tpl.contentSelectors),definitionMap.set("decls",literal(tpl.root.decls)),definitionMap.set("vars",literal(tpl.root.vars)),tpl.consts.length>0&&(tpl.constsInitializers.length>0?definitionMap.set("consts",arrowFn([],[...tpl.constsInitializers,new ReturnStatement(literalArr(tpl.consts))])):definitionMap.set("consts",literalArr(tpl.consts))),definitionMap.set("template",templateFn),3!==meta.declarationListEmitMode&&meta.declarations.length>0)definitionMap.set("dependencies",function compileDeclarationList(list,mode){switch(mode){case 0:return list;case 1:return arrowFn([],list);case 2:return arrowFn([],list.prop("map").callFn([importExpr(Identifiers.resolveForwardRef)]));case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}(literalArr(meta.declarations.map(decl=>decl.type)),meta.declarationListEmitMode));else if(3===meta.declarationListEmitMode){const args=[meta.type.value];meta.rawImports&&args.push(meta.rawImports),definitionMap.set("dependencies",importExpr(Identifiers.getComponentDepsFactory).callFn(args))}null===meta.encapsulation&&(meta.encapsulation=ViewEncapsulation$1.Emulated);let hasStyles=!!meta.externalStyles?.length;if(meta.styles&&meta.styles.length){const styleValues=meta.encapsulation==ViewEncapsulation$1.Emulated?function compileStyles(styles,selector,hostSelector){const shadowCss=new ShadowCss;return styles.map(style=>shadowCss.shimCssText(style,selector,hostSelector))}(meta.styles,CONTENT_ATTR,HOST_ATTR):meta.styles,styleNodes=styleValues.reduce((result,style)=>(style.trim().length>0&&result.push(constantPool.getConstLiteral(literal(style))),result),[]);styleNodes.length>0&&(hasStyles=!0,definitionMap.set("styles",literalArr(styleNodes)))}hasStyles||meta.encapsulation!==ViewEncapsulation$1.Emulated||(meta.encapsulation=ViewEncapsulation$1.None),meta.encapsulation!==ViewEncapsulation$1.Emulated&&definitionMap.set("encapsulation",literal(meta.encapsulation)),null!==meta.animations&&definitionMap.set("data",literalMap([{key:"animation",value:meta.animations,quoted:!1}])),null!==meta.changeDetection&&("number"==typeof meta.changeDetection&&meta.changeDetection!==ChangeDetectionStrategy.Default?definitionMap.set("changeDetection",literal(meta.changeDetection)):"object"==typeof meta.changeDetection&&definitionMap.set("changeDetection",meta.changeDetection));return{expression:importExpr(Identifiers.defineComponent).callFn([definitionMap.toLiteralMap()],void 0,!0),type:createComponentType(meta),statements:[]}}function createComponentType(meta){const typeParams=createBaseDirectiveTypeParams(meta);return typeParams.push(stringArrayAsType(meta.template.ngContentSelectors)),typeParams.push(expressionType(literal(meta.isStandalone))),typeParams.push(createHostDirectivesType(meta)),meta.isSignal&&typeParams.push(expressionType(literal(meta.isSignal))),expressionType(importExpr(Identifiers.ComponentDeclaration,typeParams))}function stringMapAsLiteralExpression(map){return literalMap(Object.keys(map).map(key=>({key,value:literal(Array.isArray(map[key])?map[key][0]:map[key]),quoted:!0})))}function stringArrayAsType(arr){return arr.length>0?expressionType(literalArr(arr.map(value=>literal(value)))):NONE_TYPE}function createBaseDirectiveTypeParams(meta){const selectorForType=null!==meta.selector?meta.selector.replace(/\n/g,""):null;return[typeWithParameters(meta.type.type,meta.typeArgumentCount),null!==selectorForType?(str=selectorForType,expressionType(literal(str))):NONE_TYPE,null!==meta.exportAs?stringArrayAsType(meta.exportAs):NONE_TYPE,expressionType(getInputsTypeExpression(meta)),expressionType(stringMapAsLiteralExpression(meta.outputs)),stringArrayAsType(meta.queries.map(q=>q.propertyName))];var str}function getInputsTypeExpression(meta){return literalMap(Object.keys(meta.inputs).map(key=>{const value=meta.inputs[key],values=[{key:"alias",value:literal(value.bindingPropertyName),quoted:!0},{key:"required",value:literal(value.required),quoted:!0}];return value.isSignal&&values.push({key:"isSignal",value:literal(value.isSignal),quoted:!0}),{key,value:literalMap(values),quoted:!0}}))}function createDirectiveType(meta){const typeParams=createBaseDirectiveTypeParams(meta);return typeParams.push(NONE_TYPE),typeParams.push(expressionType(literal(meta.isStandalone))),typeParams.push(createHostDirectivesType(meta)),meta.isSignal&&typeParams.push(expressionType(literal(meta.isSignal))),expressionType(importExpr(Identifiers.DirectiveDeclaration,typeParams))}const HOST_REG_EXP=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function createHostDirectivesType(meta){return meta.hostDirectives?.length?expressionType(literalArr(meta.hostDirectives.map(hostMeta=>literalMap([{key:"directive",value:typeofExpr(hostMeta.directive.type),quoted:!1},{key:"inputs",value:stringMapAsLiteralExpression(hostMeta.inputs||{}),quoted:!1},{key:"outputs",value:stringMapAsLiteralExpression(hostMeta.outputs||{}),quoted:!1}])))):NONE_TYPE}function createHostDirectivesFeatureArg(hostDirectives){const expressions=[];let hasForwardRef=!1;for(const current of hostDirectives){if(current.inputs||current.outputs){const keys=[{key:"directive",value:current.directive.type,quoted:!1}];if(current.inputs){const inputsLiteral=createHostDirectivesMappingArray(current.inputs);inputsLiteral&&keys.push({key:"inputs",value:inputsLiteral,quoted:!1})}if(current.outputs){const outputsLiteral=createHostDirectivesMappingArray(current.outputs);outputsLiteral&&keys.push({key:"outputs",value:outputsLiteral,quoted:!1})}expressions.push(literalMap(keys))}else expressions.push(current.directive.type);current.isForwardReference&&(hasForwardRef=!0)}return hasForwardRef?new FunctionExpr([],[new ReturnStatement(literalArr(expressions))]):literalArr(expressions)}function createHostDirectivesMappingArray(mapping){const elements=[];for(const publicName in mapping)mapping.hasOwnProperty(publicName)&&elements.push(literal(publicName),literal(mapping[publicName]));return elements.length>0?literalArr(elements):null}class CombinedRecursiveAstVisitor extends RecursiveAstVisitor{visit(node){node instanceof ASTWithSource?this.visit(node.ast):node.visit(this)}visitElement(element){this.visitAllTemplateNodes(element.attributes),this.visitAllTemplateNodes(element.inputs),this.visitAllTemplateNodes(element.outputs),this.visitAllTemplateNodes(element.directives),this.visitAllTemplateNodes(element.references),this.visitAllTemplateNodes(element.children)}visitTemplate(template){this.visitAllTemplateNodes(template.attributes),this.visitAllTemplateNodes(template.inputs),this.visitAllTemplateNodes(template.outputs),this.visitAllTemplateNodes(template.directives),this.visitAllTemplateNodes(template.templateAttrs),this.visitAllTemplateNodes(template.variables),this.visitAllTemplateNodes(template.references),this.visitAllTemplateNodes(template.children)}visitContent(content){this.visitAllTemplateNodes(content.children)}visitBoundAttribute(attribute){this.visit(attribute.value)}visitBoundEvent(attribute){this.visit(attribute.handler)}visitBoundText(text){this.visit(text.value)}visitIcu(icu){Object.keys(icu.vars).forEach(key=>this.visit(icu.vars[key])),Object.keys(icu.placeholders).forEach(key=>this.visit(icu.placeholders[key]))}visitDeferredBlock(deferred){deferred.visitAll(this)}visitDeferredTrigger(trigger){trigger instanceof BoundDeferredTrigger&&this.visit(trigger.value)}visitDeferredBlockPlaceholder(block){this.visitAllTemplateNodes(block.children)}visitDeferredBlockError(block){this.visitAllTemplateNodes(block.children)}visitDeferredBlockLoading(block){this.visitAllTemplateNodes(block.children)}visitSwitchBlock(block){this.visit(block.expression),this.visitAllTemplateNodes(block.cases)}visitSwitchBlockCase(block){block.expression&&this.visit(block.expression),this.visitAllTemplateNodes(block.children)}visitForLoopBlock(block){block.item.visit(this),this.visitAllTemplateNodes(block.contextVariables),this.visit(block.expression),this.visitAllTemplateNodes(block.children),block.empty?.visit(this)}visitForLoopBlockEmpty(block){this.visitAllTemplateNodes(block.children)}visitIfBlock(block){this.visitAllTemplateNodes(block.branches)}visitIfBlockBranch(block){block.expression&&this.visit(block.expression),block.expressionAlias?.visit(this),this.visitAllTemplateNodes(block.children)}visitLetDeclaration(decl){this.visit(decl.value)}visitComponent(component){this.visitAllTemplateNodes(component.attributes),this.visitAllTemplateNodes(component.inputs),this.visitAllTemplateNodes(component.outputs),this.visitAllTemplateNodes(component.directives),this.visitAllTemplateNodes(component.references),this.visitAllTemplateNodes(component.children)}visitDirective(directive){this.visitAllTemplateNodes(directive.attributes),this.visitAllTemplateNodes(directive.inputs),this.visitAllTemplateNodes(directive.outputs),this.visitAllTemplateNodes(directive.references)}visitVariable(variable){}visitReference(reference){}visitTextAttribute(attribute){}visitText(text){}visitUnknownBlock(block){}visitAllTemplateNodes(nodes){for(const node of nodes)this.visit(node)}}class R3TargetBinder{directiveMatcher;constructor(directiveMatcher){this.directiveMatcher=directiveMatcher}bind(target){if(!target.template&&!target.host)throw new Error("Empty bound targets are not supported");const directives=new Map,eagerDirectives=[],missingDirectives=new Set,bindings=new Map,references=new Map,scopedNodeEntities=new Map,expressions=new Map,symbols=new Map,nestingLevel=new Map,usedPipes=new Set,eagerPipes=new Set,deferBlocks=[];if(target.template){const scope=Scope.apply(target.template);!function extractScopedNodeEntities(rootScope,templateEntities){const entityMap=new Map;function extractScopeEntities(scope){if(entityMap.has(scope.rootNode))return entityMap.get(scope.rootNode);const currentEntities=scope.namedEntities;let entities;return entities=null!==scope.parentScope?new Map([...extractScopeEntities(scope.parentScope),...currentEntities]):new Map(currentEntities),entityMap.set(scope.rootNode,entities),entities}const scopesToProcess=[rootScope];for(;scopesToProcess.length>0;){const scope=scopesToProcess.pop();for(const childScope of scope.childScopes.values())scopesToProcess.push(childScope);extractScopeEntities(scope)}for(const[template,entities]of entityMap)templateEntities.set(template,new Set(entities.values()))}(scope,scopedNodeEntities),DirectiveBinder.apply(target.template,this.directiveMatcher,directives,eagerDirectives,missingDirectives,bindings,references),TemplateBinder.applyWithScope(target.template,scope,expressions,symbols,nestingLevel,usedPipes,eagerPipes,deferBlocks)}return target.host&&(directives.set(target.host.node,target.host.directives),TemplateBinder.applyWithScope(target.host.node,Scope.apply(target.host.node),expressions,symbols,nestingLevel,usedPipes,eagerPipes,deferBlocks)),new R3BoundTarget(target,directives,eagerDirectives,missingDirectives,bindings,references,expressions,symbols,nestingLevel,scopedNodeEntities,usedPipes,eagerPipes,deferBlocks)}}class Scope{parentScope;rootNode;namedEntities=new Map;elementLikeInScope=new Set;childScopes=new Map;isDeferred;constructor(parentScope,rootNode){this.parentScope=parentScope,this.rootNode=rootNode,this.isDeferred=!(null===parentScope||!parentScope.isDeferred)||rootNode instanceof DeferredBlock}static newRootScope(){return new Scope(null,null)}static apply(template){const scope=Scope.newRootScope();return scope.ingest(template),scope}ingest(nodeOrNodes){nodeOrNodes instanceof Template?(nodeOrNodes.variables.forEach(node=>this.visitVariable(node)),nodeOrNodes.children.forEach(node=>node.visit(this))):nodeOrNodes instanceof IfBlockBranch?(null!==nodeOrNodes.expressionAlias&&this.visitVariable(nodeOrNodes.expressionAlias),nodeOrNodes.children.forEach(node=>node.visit(this))):nodeOrNodes instanceof ForLoopBlock?(this.visitVariable(nodeOrNodes.item),nodeOrNodes.contextVariables.forEach(v=>this.visitVariable(v)),nodeOrNodes.children.forEach(node=>node.visit(this))):nodeOrNodes instanceof SwitchBlockCase||nodeOrNodes instanceof ForLoopBlockEmpty||nodeOrNodes instanceof DeferredBlock||nodeOrNodes instanceof DeferredBlockError||nodeOrNodes instanceof DeferredBlockPlaceholder||nodeOrNodes instanceof DeferredBlockLoading||nodeOrNodes instanceof Content?nodeOrNodes.children.forEach(node=>node.visit(this)):nodeOrNodes instanceof HostElement||nodeOrNodes.forEach(node=>node.visit(this))}visitElement(element){this.visitElementLike(element)}visitTemplate(template){template.directives.forEach(node=>node.visit(this)),template.references.forEach(node=>this.visitReference(node)),this.ingestScopedNode(template)}visitVariable(variable){this.maybeDeclare(variable)}visitReference(reference){this.maybeDeclare(reference)}visitDeferredBlock(deferred){this.ingestScopedNode(deferred),deferred.placeholder?.visit(this),deferred.loading?.visit(this),deferred.error?.visit(this)}visitDeferredBlockPlaceholder(block){this.ingestScopedNode(block)}visitDeferredBlockError(block){this.ingestScopedNode(block)}visitDeferredBlockLoading(block){this.ingestScopedNode(block)}visitSwitchBlock(block){block.cases.forEach(node=>node.visit(this))}visitSwitchBlockCase(block){this.ingestScopedNode(block)}visitForLoopBlock(block){this.ingestScopedNode(block),block.empty?.visit(this)}visitForLoopBlockEmpty(block){this.ingestScopedNode(block)}visitIfBlock(block){block.branches.forEach(node=>node.visit(this))}visitIfBlockBranch(block){this.ingestScopedNode(block)}visitContent(content){this.ingestScopedNode(content)}visitLetDeclaration(decl){this.maybeDeclare(decl)}visitComponent(component){this.visitElementLike(component)}visitDirective(directive){directive.references.forEach(current=>this.visitReference(current))}visitBoundAttribute(attr){}visitBoundEvent(event){}visitBoundText(text){}visitText(text){}visitTextAttribute(attr){}visitIcu(icu){}visitDeferredTrigger(trigger){}visitUnknownBlock(block){}visitElementLike(node){node.directives.forEach(current=>current.visit(this)),node.references.forEach(current=>this.visitReference(current)),node.children.forEach(current=>current.visit(this)),this.elementLikeInScope.add(node)}maybeDeclare(thing){this.namedEntities.has(thing.name)||this.namedEntities.set(thing.name,thing)}lookup(name){return this.namedEntities.has(name)?this.namedEntities.get(name):null!==this.parentScope?this.parentScope.lookup(name):null}getChildScope(node){const res=this.childScopes.get(node);if(void 0===res)throw new Error(`Assertion error: child scope for ${node} not found`);return res}ingestScopedNode(node){const scope=new Scope(this,node);scope.ingest(node),this.childScopes.set(node,scope)}}class DirectiveBinder{directiveMatcher;directives;eagerDirectives;missingDirectives;bindings;references;isInDeferBlock=!1;constructor(directiveMatcher,directives,eagerDirectives,missingDirectives,bindings,references){this.directiveMatcher=directiveMatcher,this.directives=directives,this.eagerDirectives=eagerDirectives,this.missingDirectives=missingDirectives,this.bindings=bindings,this.references=references}static apply(template,directiveMatcher,directives,eagerDirectives,missingDirectives,bindings,references){new DirectiveBinder(directiveMatcher,directives,eagerDirectives,missingDirectives,bindings,references).ingest(template)}ingest(template){template.forEach(node=>node.visit(this))}visitElement(element){this.visitElementOrTemplate(element)}visitTemplate(template){this.visitElementOrTemplate(template)}visitDeferredBlock(deferred){const wasInDeferBlock=this.isInDeferBlock;this.isInDeferBlock=!0,deferred.children.forEach(child=>child.visit(this)),this.isInDeferBlock=wasInDeferBlock,deferred.placeholder?.visit(this),deferred.loading?.visit(this),deferred.error?.visit(this)}visitDeferredBlockPlaceholder(block){block.children.forEach(child=>child.visit(this))}visitDeferredBlockError(block){block.children.forEach(child=>child.visit(this))}visitDeferredBlockLoading(block){block.children.forEach(child=>child.visit(this))}visitSwitchBlock(block){block.cases.forEach(node=>node.visit(this))}visitSwitchBlockCase(block){block.children.forEach(node=>node.visit(this))}visitForLoopBlock(block){block.item.visit(this),block.contextVariables.forEach(v=>v.visit(this)),block.children.forEach(node=>node.visit(this)),block.empty?.visit(this)}visitForLoopBlockEmpty(block){block.children.forEach(node=>node.visit(this))}visitIfBlock(block){block.branches.forEach(node=>node.visit(this))}visitIfBlockBranch(block){block.expressionAlias?.visit(this),block.children.forEach(node=>node.visit(this))}visitContent(content){content.children.forEach(child=>child.visit(this))}visitComponent(node){if(this.directiveMatcher instanceof SelectorlessMatcher){const componentMatches=this.directiveMatcher.match(node.componentName);componentMatches.length>0?this.trackSelectorlessMatchesAndDirectives(node,componentMatches):this.missingDirectives.add(node.componentName)}node.directives.forEach(directive=>directive.visit(this)),node.children.forEach(child=>child.visit(this))}visitDirective(node){if(this.directiveMatcher instanceof SelectorlessMatcher){const directives=this.directiveMatcher.match(node.name);directives.length>0?this.trackSelectorlessMatchesAndDirectives(node,directives):this.missingDirectives.add(node.name)}}visitElementOrTemplate(node){if(this.directiveMatcher instanceof SelectorMatcher){const directives=[],cssSelector=createCssSelectorFromNode(node);this.directiveMatcher.match(cssSelector,(_,results)=>directives.push(...results)),this.trackSelectorBasedBindingsAndDirectives(node,directives)}else node.references.forEach(ref=>{""===ref.value.trim()&&this.references.set(ref,node)});node.directives.forEach(directive=>directive.visit(this)),node.children.forEach(child=>child.visit(this))}trackMatchedDirectives(node,directives){directives.length>0&&(this.directives.set(node,directives),this.isInDeferBlock||this.eagerDirectives.push(...directives))}trackSelectorlessMatchesAndDirectives(node,directives){if(0===directives.length)return;this.trackMatchedDirectives(node,directives);const setBinding=(meta,attribute,ioType)=>{meta[ioType].hasBindingPropertyName(attribute.name)&&this.bindings.set(attribute,meta)};for(const directive of directives)node.inputs.forEach(input=>setBinding(directive,input,"inputs")),node.attributes.forEach(attr=>setBinding(directive,attr,"inputs")),node.outputs.forEach(output=>setBinding(directive,output,"outputs"));node.references.forEach(ref=>this.references.set(ref,{directive:directives[0],node}))}trackSelectorBasedBindingsAndDirectives(node,directives){this.trackMatchedDirectives(node,directives),node.references.forEach(ref=>{let dirTarget=null;if(""===ref.value.trim())dirTarget=directives.find(dir=>dir.isComponent)||null;else if(dirTarget=directives.find(dir=>null!==dir.exportAs&&dir.exportAs.some(value=>value===ref.value))||null,null===dirTarget)return;null!==dirTarget?this.references.set(ref,{directive:dirTarget,node}):this.references.set(ref,node)});const setAttributeBinding=(attribute,ioType)=>{const dir=directives.find(dir=>dir[ioType].hasBindingPropertyName(attribute.name)),binding=void 0!==dir?dir:node;this.bindings.set(attribute,binding)};node.inputs.forEach(input=>setAttributeBinding(input,"inputs")),node.attributes.forEach(attr=>setAttributeBinding(attr,"inputs")),node instanceof Template&&node.templateAttrs.forEach(attr=>setAttributeBinding(attr,"inputs")),node.outputs.forEach(output=>setAttributeBinding(output,"outputs"))}visitVariable(variable){}visitReference(reference){}visitTextAttribute(attribute){}visitBoundAttribute(attribute){}visitBoundEvent(attribute){}visitBoundAttributeOrEvent(node){}visitText(text){}visitBoundText(text){}visitIcu(icu){}visitDeferredTrigger(trigger){}visitUnknownBlock(block){}visitLetDeclaration(decl){}}class TemplateBinder extends CombinedRecursiveAstVisitor{bindings;symbols;usedPipes;eagerPipes;deferBlocks;nestingLevel;scope;rootNode;level;visitNode=node=>node.visit(this);constructor(bindings,symbols,usedPipes,eagerPipes,deferBlocks,nestingLevel,scope,rootNode,level){super(),this.bindings=bindings,this.symbols=symbols,this.usedPipes=usedPipes,this.eagerPipes=eagerPipes,this.deferBlocks=deferBlocks,this.nestingLevel=nestingLevel,this.scope=scope,this.rootNode=rootNode,this.level=level}static applyWithScope(nodeOrNodes,scope,expressions,symbols,nestingLevel,usedPipes,eagerPipes,deferBlocks){new TemplateBinder(expressions,symbols,usedPipes,eagerPipes,deferBlocks,nestingLevel,scope,nodeOrNodes instanceof Template?nodeOrNodes:null,0).ingest(nodeOrNodes)}ingest(nodeOrNodes){if(nodeOrNodes instanceof Template)nodeOrNodes.variables.forEach(this.visitNode),nodeOrNodes.children.forEach(this.visitNode),this.nestingLevel.set(nodeOrNodes,this.level);else if(nodeOrNodes instanceof IfBlockBranch)null!==nodeOrNodes.expressionAlias&&this.visitNode(nodeOrNodes.expressionAlias),nodeOrNodes.children.forEach(this.visitNode),this.nestingLevel.set(nodeOrNodes,this.level);else if(nodeOrNodes instanceof ForLoopBlock)this.visitNode(nodeOrNodes.item),nodeOrNodes.contextVariables.forEach(v=>this.visitNode(v)),nodeOrNodes.trackBy.visit(this),nodeOrNodes.children.forEach(this.visitNode),this.nestingLevel.set(nodeOrNodes,this.level);else if(nodeOrNodes instanceof DeferredBlock){if(this.scope.rootNode!==nodeOrNodes)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${nodeOrNodes}`);this.deferBlocks.push([nodeOrNodes,this.scope]),nodeOrNodes.children.forEach(node=>node.visit(this)),this.nestingLevel.set(nodeOrNodes,this.level)}else nodeOrNodes instanceof SwitchBlockCase||nodeOrNodes instanceof ForLoopBlockEmpty||nodeOrNodes instanceof DeferredBlockError||nodeOrNodes instanceof DeferredBlockPlaceholder||nodeOrNodes instanceof DeferredBlockLoading||nodeOrNodes instanceof Content?(nodeOrNodes.children.forEach(node=>node.visit(this)),this.nestingLevel.set(nodeOrNodes,this.level)):nodeOrNodes instanceof HostElement?this.nestingLevel.set(nodeOrNodes,0):nodeOrNodes.forEach(this.visitNode)}visitTemplate(template){template.inputs.forEach(this.visitNode),template.outputs.forEach(this.visitNode),template.directives.forEach(this.visitNode),template.templateAttrs.forEach(this.visitNode),template.references.forEach(this.visitNode),this.ingestScopedNode(template)}visitVariable(variable){null!==this.rootNode&&this.symbols.set(variable,this.rootNode)}visitReference(reference){null!==this.rootNode&&this.symbols.set(reference,this.rootNode)}visitDeferredBlock(deferred){this.ingestScopedNode(deferred),deferred.triggers.when?.value.visit(this),deferred.prefetchTriggers.when?.value.visit(this),deferred.hydrateTriggers.when?.value.visit(this),deferred.hydrateTriggers.never?.visit(this),deferred.placeholder&&this.visitNode(deferred.placeholder),deferred.loading&&this.visitNode(deferred.loading),deferred.error&&this.visitNode(deferred.error)}visitDeferredBlockPlaceholder(block){this.ingestScopedNode(block)}visitDeferredBlockError(block){this.ingestScopedNode(block)}visitDeferredBlockLoading(block){this.ingestScopedNode(block)}visitSwitchBlockCase(block){block.expression?.visit(this),this.ingestScopedNode(block)}visitForLoopBlock(block){block.expression.visit(this),this.ingestScopedNode(block),block.empty?.visit(this)}visitForLoopBlockEmpty(block){this.ingestScopedNode(block)}visitIfBlockBranch(block){block.expression?.visit(this),this.ingestScopedNode(block)}visitContent(content){this.ingestScopedNode(content)}visitLetDeclaration(decl){super.visitLetDeclaration(decl),null!==this.rootNode&&this.symbols.set(decl,this.rootNode)}visitPipe(ast,context){return this.usedPipes.add(ast.name),this.scope.isDeferred||this.eagerPipes.add(ast.name),super.visitPipe(ast,context)}visitPropertyRead(ast,context){return this.maybeMap(ast,ast.name),super.visitPropertyRead(ast,context)}visitSafePropertyRead(ast,context){return this.maybeMap(ast,ast.name),super.visitSafePropertyRead(ast,context)}ingestScopedNode(node){const childScope=this.scope.getChildScope(node);new TemplateBinder(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,childScope,node,this.level+1).ingest(node)}maybeMap(ast,name){if(!(ast.receiver instanceof ImplicitReceiver)||ast.receiver instanceof ThisReceiver)return;const target=this.scope.lookup(name);null!==target&&this.bindings.set(ast,target)}}class R3BoundTarget{target;directives;eagerDirectives;missingDirectives;bindings;references;exprTargets;symbols;nestingLevel;scopedNodeEntities;usedPipes;eagerPipes;deferredBlocks;deferredScopes;constructor(target,directives,eagerDirectives,missingDirectives,bindings,references,exprTargets,symbols,nestingLevel,scopedNodeEntities,usedPipes,eagerPipes,rawDeferred){this.target=target,this.directives=directives,this.eagerDirectives=eagerDirectives,this.missingDirectives=missingDirectives,this.bindings=bindings,this.references=references,this.exprTargets=exprTargets,this.symbols=symbols,this.nestingLevel=nestingLevel,this.scopedNodeEntities=scopedNodeEntities,this.usedPipes=usedPipes,this.eagerPipes=eagerPipes,this.deferredBlocks=rawDeferred.map(current=>current[0]),this.deferredScopes=new Map(rawDeferred)}getEntitiesInScope(node){return this.scopedNodeEntities.get(node)??new Set}getDirectivesOfNode(node){return this.directives.get(node)||null}getReferenceTarget(ref){return this.references.get(ref)||null}getConsumerOfBinding(binding){return this.bindings.get(binding)||null}getExpressionTarget(expr){return this.exprTargets.get(expr)||null}getDefinitionNodeOfSymbol(symbol){return this.symbols.get(symbol)||null}getNestingLevel(node){return this.nestingLevel.get(node)||0}getUsedDirectives(){const set=new Set;return this.directives.forEach(dirs=>dirs.forEach(dir=>set.add(dir))),Array.from(set.values())}getEagerlyUsedDirectives(){const set=new Set(this.eagerDirectives);return Array.from(set.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return this.deferredBlocks}getDeferredTriggerTarget(block,trigger){if(!(trigger instanceof InteractionDeferredTrigger||trigger instanceof ViewportDeferredTrigger||trigger instanceof HoverDeferredTrigger))return null;const name=trigger.reference;if(null===name){let target=null;if(null!==block.placeholder)for(const child of block.placeholder.children)if(!(child instanceof Comment$1)){if(null!==target)return null;child instanceof Element$1&&(target=child)}return target}const outsideRef=this.findEntityInScope(block,name);if(outsideRef instanceof Reference&&this.getDefinitionNodeOfSymbol(outsideRef)!==block){const target=this.getReferenceTarget(outsideRef);if(null!==target)return this.referenceTargetToElement(target)}if(null!==block.placeholder){const refInPlaceholder=this.findEntityInScope(block.placeholder,name),targetInPlaceholder=refInPlaceholder instanceof Reference?this.getReferenceTarget(refInPlaceholder):null;if(null!==targetInPlaceholder)return this.referenceTargetToElement(targetInPlaceholder)}return null}isDeferred(element){for(const block of this.deferredBlocks){if(!this.deferredScopes.has(block))continue;const stack=[this.deferredScopes.get(block)];for(;stack.length>0;){const current=stack.pop();if(current.elementLikeInScope.has(element))return!0;stack.push(...current.childScopes.values())}}return!1}referencedDirectiveExists(name){return!this.missingDirectives.has(name)}findEntityInScope(rootNode,name){const entities=this.getEntitiesInScope(rootNode);for(const entity of entities)if(entity.name===name)return entity;return null}referenceTargetToElement(target){return target instanceof Element$1?target:target instanceof Template||target.node instanceof Component$1||target.node instanceof Directive$1||target.node instanceof HostElement?null:this.referenceTargetToElement(target.node)}}class ResourceLoader{}class CompilerFacadeImpl{jitEvaluator;FactoryTarget=FactoryTarget;ResourceLoader=ResourceLoader;elementSchemaRegistry=new DomElementSchemaRegistry;constructor(jitEvaluator=new JitEvaluator){this.jitEvaluator=jitEvaluator}compilePipe(angularCoreEnv,sourceMapUrl,facade){const res=compilePipeFromMetadata({name:facade.name,type:wrapReference(facade.type),typeArgumentCount:0,deps:null,pipeName:facade.pipeName,pure:facade.pure,isStandalone:facade.isStandalone});return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,[])}compilePipeDeclaration(angularCoreEnv,sourceMapUrl,declaration){const meta=function convertDeclarePipeFacadeToMetadata(declaration){return{name:declaration.type.name,type:wrapReference(declaration.type),typeArgumentCount:0,pipeName:declaration.name,deps:null,pure:declaration.pure??!0,isStandalone:declaration.isStandalone??getJitStandaloneDefaultForVersion(declaration.version)}}(declaration),res=compilePipeFromMetadata(meta);return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,[])}compileInjectable(angularCoreEnv,sourceMapUrl,facade){const{expression,statements}=compileInjectable({name:facade.name,type:wrapReference(facade.type),typeArgumentCount:facade.typeArgumentCount,providedIn:computeProvidedIn(facade.providedIn),useClass:convertToProviderExpression(facade,"useClass"),useFactory:wrapExpression(facade,"useFactory"),useValue:convertToProviderExpression(facade,"useValue"),useExisting:convertToProviderExpression(facade,"useExisting"),deps:facade.deps?.map(convertR3DependencyMetadata)},!0);return this.jitExpression(expression,angularCoreEnv,sourceMapUrl,statements)}compileInjectableDeclaration(angularCoreEnv,sourceMapUrl,facade){const{expression,statements}=compileInjectable({name:facade.type.name,type:wrapReference(facade.type),typeArgumentCount:0,providedIn:computeProvidedIn(facade.providedIn),useClass:convertToProviderExpression(facade,"useClass"),useFactory:wrapExpression(facade,"useFactory"),useValue:convertToProviderExpression(facade,"useValue"),useExisting:convertToProviderExpression(facade,"useExisting"),deps:facade.deps?.map(convertR3DeclareDependencyMetadata)},!0);return this.jitExpression(expression,angularCoreEnv,sourceMapUrl,statements)}compileInjector(angularCoreEnv,sourceMapUrl,facade){const res=compileInjector({name:facade.name,type:wrapReference(facade.type),providers:facade.providers&&facade.providers.length>0?new WrappedNodeExpr(facade.providers):null,imports:facade.imports.map(i=>new WrappedNodeExpr(i))});return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,[])}compileInjectorDeclaration(angularCoreEnv,sourceMapUrl,declaration){const meta=function convertDeclareInjectorFacadeToMetadata(declaration){return{name:declaration.type.name,type:wrapReference(declaration.type),providers:void 0!==declaration.providers&&declaration.providers.length>0?new WrappedNodeExpr(declaration.providers):null,imports:void 0!==declaration.imports?declaration.imports.map(i=>new WrappedNodeExpr(i)):[]}}(declaration),res=compileInjector(meta);return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,[])}compileNgModule(angularCoreEnv,sourceMapUrl,facade){const res=compileNgModule({kind:R3NgModuleMetadataKind.Global,type:wrapReference(facade.type),bootstrap:facade.bootstrap.map(wrapReference),declarations:facade.declarations.map(wrapReference),publicDeclarationTypes:null,imports:facade.imports.map(wrapReference),includeImportTypes:!0,exports:facade.exports.map(wrapReference),selectorScopeMode:R3SelectorScopeMode.Inline,containsForwardDecls:!1,schemas:facade.schemas?facade.schemas.map(wrapReference):null,id:facade.id?new WrappedNodeExpr(facade.id):null});return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,[])}compileNgModuleDeclaration(angularCoreEnv,sourceMapUrl,declaration){const expression=function compileNgModuleDeclarationExpression(meta){const definitionMap=new DefinitionMap;return definitionMap.set("type",new WrappedNodeExpr(meta.type)),void 0!==meta.bootstrap&&definitionMap.set("bootstrap",new WrappedNodeExpr(meta.bootstrap)),void 0!==meta.declarations&&definitionMap.set("declarations",new WrappedNodeExpr(meta.declarations)),void 0!==meta.imports&&definitionMap.set("imports",new WrappedNodeExpr(meta.imports)),void 0!==meta.exports&&definitionMap.set("exports",new WrappedNodeExpr(meta.exports)),void 0!==meta.schemas&&definitionMap.set("schemas",new WrappedNodeExpr(meta.schemas)),void 0!==meta.id&&definitionMap.set("id",new WrappedNodeExpr(meta.id)),importExpr(Identifiers.defineNgModule).callFn([definitionMap.toLiteralMap()])}(declaration);return this.jitExpression(expression,angularCoreEnv,sourceMapUrl,[])}compileDirective(angularCoreEnv,sourceMapUrl,facade){const meta=convertDirectiveFacadeToMetadata(facade);return this.compileDirectiveFromMeta(angularCoreEnv,sourceMapUrl,meta)}compileDirectiveDeclaration(angularCoreEnv,sourceMapUrl,declaration){const meta=convertDeclareDirectiveFacadeToMetadata(declaration,this.createParseSourceSpan("Directive",declaration.type.name,sourceMapUrl));return this.compileDirectiveFromMeta(angularCoreEnv,sourceMapUrl,meta)}compileDirectiveFromMeta(angularCoreEnv,sourceMapUrl,meta){const constantPool=new ConstantPool,res=function compileDirectiveFromMetadata(meta,constantPool,bindingParser){const definitionMap=baseDirectiveFields(meta,constantPool,bindingParser);return addFeatures(definitionMap,meta),{expression:importExpr(Identifiers.defineDirective).callFn([definitionMap.toLiteralMap()],void 0,!0),type:createDirectiveType(meta),statements:[]}}(meta,constantPool,makeBindingParser());return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,constantPool.statements)}compileComponent(angularCoreEnv,sourceMapUrl,facade){const{template,interpolation,defer}=parseJitTemplate(facade.template,facade.name,sourceMapUrl,facade.preserveWhitespaces,facade.interpolation,void 0),meta={...facade,...convertDirectiveFacadeToMetadata(facade),selector:facade.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template,declarations:facade.declarations.map(convertDeclarationFacadeToMetadata),declarationListEmitMode:0,defer,styles:[...facade.styles,...template.styles],encapsulation:facade.encapsulation,interpolation,changeDetection:facade.changeDetection??null,animations:null!=facade.animations?new WrappedNodeExpr(facade.animations):null,viewProviders:null!=facade.viewProviders?new WrappedNodeExpr(facade.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null},jitExpressionSourceMap=`ng:///${facade.name}.js`;return this.compileComponentFromMeta(angularCoreEnv,jitExpressionSourceMap,meta)}compileComponentDeclaration(angularCoreEnv,sourceMapUrl,declaration){const meta=function convertDeclareComponentFacadeToMetadata(decl,typeSourceSpan,sourceMapUrl){const{template,interpolation,defer}=parseJitTemplate(decl.template,decl.type.name,sourceMapUrl,decl.preserveWhitespaces??!1,decl.interpolation,decl.deferBlockDependencies),declarations=[];if(decl.dependencies)for(const innerDep of decl.dependencies)switch(innerDep.kind){case"directive":case"component":declarations.push(convertDirectiveDeclarationToMetadata(innerDep));break;case"pipe":declarations.push(convertPipeDeclarationToMetadata(innerDep))}else(decl.components||decl.directives||decl.pipes)&&(decl.components&&declarations.push(...decl.components.map(dir=>convertDirectiveDeclarationToMetadata(dir,!0))),decl.directives&&declarations.push(...decl.directives.map(dir=>convertDirectiveDeclarationToMetadata(dir))),decl.pipes&&declarations.push(...function convertPipeMapToMetadata(pipes){if(!pipes)return[];return Object.keys(pipes).map(name=>({kind:R3TemplateDependencyKind.Pipe,name,type:new WrappedNodeExpr(pipes[name])}))}(decl.pipes)));const hasDirectiveDependencies=declarations.some(({kind})=>kind===R3TemplateDependencyKind.Directive||kind===R3TemplateDependencyKind.NgModule);return{...convertDeclareDirectiveFacadeToMetadata(decl,typeSourceSpan),template,styles:decl.styles??[],declarations,viewProviders:void 0!==decl.viewProviders?new WrappedNodeExpr(decl.viewProviders):null,animations:void 0!==decl.animations?new WrappedNodeExpr(decl.animations):null,defer,changeDetection:decl.changeDetection??ChangeDetectionStrategy.Default,encapsulation:decl.encapsulation??ViewEncapsulation$1.Emulated,interpolation,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null,hasDirectiveDependencies}}(declaration,this.createParseSourceSpan("Component",declaration.type.name,sourceMapUrl),sourceMapUrl);return this.compileComponentFromMeta(angularCoreEnv,sourceMapUrl,meta)}compileComponentFromMeta(angularCoreEnv,sourceMapUrl,meta){const constantPool=new ConstantPool,res=compileComponentFromMetadata(meta,constantPool,makeBindingParser(meta.interpolation));return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,constantPool.statements)}compileFactory(angularCoreEnv,sourceMapUrl,meta){const factoryRes=compileFactoryFunction({name:meta.name,type:wrapReference(meta.type),typeArgumentCount:meta.typeArgumentCount,deps:(facades=meta.deps,null==facades?null:facades.map(convertR3DependencyMetadata)),target:meta.target});var facades;return this.jitExpression(factoryRes.expression,angularCoreEnv,sourceMapUrl,factoryRes.statements)}compileFactoryDeclaration(angularCoreEnv,sourceMapUrl,meta){const factoryRes=compileFactoryFunction({name:meta.type.name,type:wrapReference(meta.type),typeArgumentCount:0,deps:Array.isArray(meta.deps)?meta.deps.map(convertR3DeclareDependencyMetadata):meta.deps,target:meta.target});return this.jitExpression(factoryRes.expression,angularCoreEnv,sourceMapUrl,factoryRes.statements)}createParseSourceSpan(kind,typeName,sourceUrl){return function r3JitTypeSourceSpan(kind,typeName,sourceUrl){const sourceFile=new ParseSourceFile("",`in ${kind} ${typeName} in ${sourceUrl}`);return new ParseSourceSpan(new ParseLocation(sourceFile,-1,-1,-1),new ParseLocation(sourceFile,-1,-1,-1))}(kind,typeName,sourceUrl)}jitExpression(def,context,sourceUrl,preStatements){const statements=[...preStatements,new DeclareVarStmt("$def",def,void 0,StmtModifier.Exported)];return this.jitEvaluator.evaluateStatements(sourceUrl,statements,new R3JitReflector(context),!0).$def}}function convertToR3QueryMetadata(facade){return{...facade,isSignal:facade.isSignal,predicate:convertQueryPredicate(facade.predicate),read:facade.read?new WrappedNodeExpr(facade.read):null,static:facade.static,emitDistinctChangesOnly:facade.emitDistinctChangesOnly}}function convertQueryDeclarationToMetadata(declaration){return{propertyName:declaration.propertyName,first:declaration.first??!1,predicate:convertQueryPredicate(declaration.predicate),descendants:declaration.descendants??!1,read:declaration.read?new WrappedNodeExpr(declaration.read):null,static:declaration.static??!1,emitDistinctChangesOnly:declaration.emitDistinctChangesOnly??!0,isSignal:!!declaration.isSignal}}function convertQueryPredicate(predicate){return Array.isArray(predicate)?predicate:createMayBeForwardRefExpression(new WrappedNodeExpr(predicate),1)}function convertDirectiveFacadeToMetadata(facade){const inputsFromMetadata=function parseInputsArray(values){return values.reduce((results,value)=>{if("string"==typeof value){const[bindingPropertyName,classPropertyName]=parseMappingString(value);results[classPropertyName]={bindingPropertyName,classPropertyName,required:!1,isSignal:!1,transformFunction:null}}else results[value.name]={bindingPropertyName:value.alias||value.name,classPropertyName:value.name,required:value.required||!1,isSignal:!1,transformFunction:null!=value.transform?new WrappedNodeExpr(value.transform):null};return results},{})}(facade.inputs||[]),outputsFromMetadata=parseMappingStringArray(facade.outputs||[]),propMetadata=facade.propMetadata,inputsFromType={},outputsFromType={};for(const field in propMetadata)propMetadata.hasOwnProperty(field)&&propMetadata[field].forEach(ann=>{"Input"===ann.ngMetadataName?inputsFromType[field]={bindingPropertyName:ann.alias||field,classPropertyName:field,required:ann.required||!1,isSignal:!!ann.isSignal,transformFunction:null!=ann.transform?new WrappedNodeExpr(ann.transform):null}:isOutput(ann)&&(outputsFromType[field]=ann.alias||field)});const hostDirectives=facade.hostDirectives?.length?facade.hostDirectives.map(hostDirective=>"function"==typeof hostDirective?{directive:wrapReference(hostDirective),inputs:null,outputs:null,isForwardReference:!1}:{directive:wrapReference(hostDirective.directive),isForwardReference:!1,inputs:hostDirective.inputs?parseMappingStringArray(hostDirective.inputs):null,outputs:hostDirective.outputs?parseMappingStringArray(hostDirective.outputs):null}):null;return{...facade,typeArgumentCount:0,typeSourceSpan:facade.typeSourceSpan,type:wrapReference(facade.type),deps:null,host:{...extractHostBindings(facade.propMetadata,facade.typeSourceSpan,facade.host)},inputs:{...inputsFromMetadata,...inputsFromType},outputs:{...outputsFromMetadata,...outputsFromType},queries:facade.queries.map(convertToR3QueryMetadata),providers:null!=facade.providers?new WrappedNodeExpr(facade.providers):null,viewQueries:facade.viewQueries.map(convertToR3QueryMetadata),fullInheritance:!1,hostDirectives}}function convertDeclareDirectiveFacadeToMetadata(declaration,typeSourceSpan){const hostDirectives=declaration.hostDirectives?.length?declaration.hostDirectives.map(dir=>({directive:wrapReference(dir.directive),isForwardReference:!1,inputs:dir.inputs?getHostDirectiveBindingMapping(dir.inputs):null,outputs:dir.outputs?getHostDirectiveBindingMapping(dir.outputs):null})):null;return{name:declaration.type.name,type:wrapReference(declaration.type),typeSourceSpan,selector:declaration.selector??null,inputs:declaration.inputs?(inputs=declaration.inputs,Object.keys(inputs).reduce((result,minifiedClassName)=>{const value=inputs[minifiedClassName];return"string"==typeof value||Array.isArray(value)?result[minifiedClassName]=function parseLegacyInputPartialOutput(value){if("string"==typeof value)return{bindingPropertyName:value,classPropertyName:value,transformFunction:null,required:!1,isSignal:!1};return{bindingPropertyName:value[0],classPropertyName:value[1],transformFunction:value[2]?new WrappedNodeExpr(value[2]):null,required:!1,isSignal:!1}}(value):result[minifiedClassName]={bindingPropertyName:value.publicName,classPropertyName:minifiedClassName,transformFunction:null!==value.transformFunction?new WrappedNodeExpr(value.transformFunction):null,required:value.isRequired,isSignal:value.isSignal},result},{})):{},outputs:declaration.outputs??{},host:convertHostDeclarationToMetadata(declaration.host),queries:(declaration.queries??[]).map(convertQueryDeclarationToMetadata),viewQueries:(declaration.viewQueries??[]).map(convertQueryDeclarationToMetadata),providers:void 0!==declaration.providers?new WrappedNodeExpr(declaration.providers):null,exportAs:declaration.exportAs??null,usesInheritance:declaration.usesInheritance??!1,lifecycle:{usesOnChanges:declaration.usesOnChanges??!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:declaration.isStandalone??getJitStandaloneDefaultForVersion(declaration.version),isSignal:declaration.isSignal??!1,hostDirectives};var inputs}function convertHostDeclarationToMetadata(host={}){return{attributes:convertOpaqueValuesToExpressions(host.attributes??{}),listeners:host.listeners??{},properties:host.properties??{},specialAttributes:{classAttr:host.classAttribute,styleAttr:host.styleAttribute}}}function getHostDirectiveBindingMapping(array){let result=null;for(let i=1;i<array.length;i+=2)result=result||{},result[array[i-1]]=array[i];return result}function convertOpaqueValuesToExpressions(obj){const result={};for(const key of Object.keys(obj))result[key]=new WrappedNodeExpr(obj[key]);return result}function convertDeclarationFacadeToMetadata(declaration){return{...declaration,type:new WrappedNodeExpr(declaration.type)}}function convertDirectiveDeclarationToMetadata(declaration,isComponent=null){return{kind:R3TemplateDependencyKind.Directive,isComponent:isComponent||"component"===declaration.kind,selector:declaration.selector,type:new WrappedNodeExpr(declaration.type),inputs:declaration.inputs??[],outputs:declaration.outputs??[],exportAs:declaration.exportAs??null}}function convertPipeDeclarationToMetadata(pipe){return{kind:R3TemplateDependencyKind.Pipe,name:pipe.name,type:new WrappedNodeExpr(pipe.type)}}function parseJitTemplate(template,typeName,sourceMapUrl,preserveWhitespaces,interpolation,deferBlockDependencies){const interpolationConfig=interpolation?InterpolationConfig.fromArray(interpolation):DEFAULT_INTERPOLATION_CONFIG,parsed=parseTemplate(template,sourceMapUrl,{preserveWhitespaces,interpolationConfig});if(null!==parsed.errors){const errors=parsed.errors.map(err=>err.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${typeName}: ${errors}`)}return{template:parsed,interpolation:interpolationConfig,defer:createR3ComponentDeferMetadata(new R3TargetBinder(null).bind({template:parsed.nodes}),deferBlockDependencies)}}function convertToProviderExpression(obj,property){return obj.hasOwnProperty(property)?createMayBeForwardRefExpression(new WrappedNodeExpr(obj[property]),0):void 0}function wrapExpression(obj,property){return obj.hasOwnProperty(property)?new WrappedNodeExpr(obj[property]):void 0}function computeProvidedIn(providedIn){return createMayBeForwardRefExpression("function"==typeof providedIn?new WrappedNodeExpr(providedIn):new LiteralExpr(providedIn??null),0)}function convertR3DependencyMetadata(facade){const isAttributeDep=null!=facade.attribute,rawToken=null===facade.token?null:new WrappedNodeExpr(facade.token);return createR3DependencyMetadata(isAttributeDep?new WrappedNodeExpr(facade.attribute):rawToken,isAttributeDep,facade.host,facade.optional,facade.self,facade.skipSelf)}function convertR3DeclareDependencyMetadata(facade){const isAttributeDep=facade.attribute??!1;return createR3DependencyMetadata(null===facade.token?null:new WrappedNodeExpr(facade.token),isAttributeDep,facade.host??!1,facade.optional??!1,facade.self??!1,facade.skipSelf??!1)}function createR3DependencyMetadata(token,isAttributeDep,host,optional,self,skipSelf){return{token,attributeNameType:isAttributeDep?literal("unknown"):null,host,optional,self,skipSelf}}function createR3ComponentDeferMetadata(boundTarget,deferBlockDependencies){const deferredBlocks=boundTarget.getDeferBlocks(),blocks=new Map;for(let i=0;i<deferredBlocks.length;i++){const dependencyFn=deferBlockDependencies?.[i];blocks.set(deferredBlocks[i],dependencyFn?new WrappedNodeExpr(dependencyFn):null)}return{mode:0,blocks}}function extractHostBindings(propMetadata,sourceSpan,host){const bindings=function parseHostBindings(host){const attributes={},listeners={},properties={},specialAttributes={};for(const key of Object.keys(host)){const value=host[key],matches=key.match(HOST_REG_EXP);if(null===matches)switch(key){case"class":if("string"!=typeof value)throw new Error("Class binding must be string");specialAttributes.classAttr=value;break;case"style":if("string"!=typeof value)throw new Error("Style binding must be string");specialAttributes.styleAttr=value;break;default:attributes[key]="string"==typeof value?literal(value):value}else if(null!=matches[1]){if("string"!=typeof value)throw new Error("Property binding must be string");properties[matches[1]]=value}else if(null!=matches[2]){if("string"!=typeof value)throw new Error("Event binding must be string");listeners[matches[2]]=value}}return{attributes,listeners,properties,specialAttributes}}(host||{}),errors=function verifyHostBindings(bindings,sourceSpan){const bindingParser=makeBindingParser();return bindingParser.createDirectiveHostEventAsts(bindings.listeners,sourceSpan),bindingParser.createBoundHostProperties(bindings.properties,sourceSpan),bindingParser.errors}(bindings,sourceSpan);if(errors.length)throw new Error(errors.map(error=>error.msg).join("\n"));for(const field in propMetadata)propMetadata.hasOwnProperty(field)&&propMetadata[field].forEach(ann=>{"HostBinding"===ann.ngMetadataName?bindings.properties[ann.hostPropertyName||field]=getSafePropertyAccessString("this",field):isHostListener(ann)&&(bindings.listeners[ann.eventName||field]=`${field}(${(ann.args||[]).join(",")})`)});return bindings}function isHostListener(value){return"HostListener"===value.ngMetadataName}function isOutput(value){return"Output"===value.ngMetadataName}function parseMappingStringArray(values){return values.reduce((results,value)=>{const[alias,fieldName]=parseMappingString(value);return results[fieldName]=alias,results},{})}function parseMappingString(value){const[fieldName,bindingPropertyName]=value.split(":",2).map(str=>str.trim());return[bindingPropertyName??fieldName,fieldName]}var _VisitorMode;!function(_VisitorMode){_VisitorMode[_VisitorMode.Extract=0]="Extract",_VisitorMode[_VisitorMode.Merge=1]="Merge"}(_VisitorMode||(_VisitorMode={}));new class XmlTagDefinition{closedByParent=!1;implicitNamespacePrefix=null;isVoid=!1;ignoreFirstLf=!1;canSelfClose=!0;preventNamespaceInheritance=!1;requireExtraParent(currentParent){return!1}isClosedByChild(name){return!1}getContentType(){return TagContentType.PARSABLE_DATA}};new class Version{full;major;minor;patch;constructor(full){this.full=full;const splits=full.split(".");this.major=splits[0],this.minor=splits[1],this.patch=splits.slice(2).join(".")}}("20.3.15");!function publishFacade(global){(global.ng||(global.ng={})).ɵcompilerFacade=new CompilerFacadeImpl}(_global)},"./node_modules/@angular/core/fesm2022/attribute.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>Attribute});const Attribute={JSACTION:"jsaction"}},"./node_modules/@angular/core/fesm2022/core.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ANIMATION_MODULE_TYPE:()=>debug_node.bc$,APP_BOOTSTRAP_LISTENER:()=>debug_node.iLQ,APP_ID:()=>debug_node.sZ2,APP_INITIALIZER:()=>debug_node.hnV,ApplicationInitStatus:()=>debug_node.H1s,ApplicationModule:()=>ApplicationModule,ApplicationRef:()=>debug_node.o8S,Attribute:()=>debug_node.nWp,COMPILER_OPTIONS:()=>debug_node.d80,CSP_NONCE:()=>debug_node.BIS,CUSTOM_ELEMENTS_SCHEMA:()=>debug_node.CkJ,ChangeDetectionStrategy:()=>debug_node.Ngq,ChangeDetectorRef:()=>ChangeDetectorRef,Compiler:()=>debug_node.Ql9,CompilerFactory:()=>debug_node.OfE,Component:()=>debug_node.uAl,ComponentFactory:()=>debug_node.vtR,ComponentFactoryResolver:()=>debug_node.OM3,ComponentRef:()=>debug_node.rjb,ContentChild:()=>ContentChild,ContentChildren:()=>ContentChildren,DEFAULT_CURRENCY_CODE:()=>debug_node.Ocv,DOCUMENT:()=>root_effect_scheduler.qQL,DebugElement:()=>debug_node.KIx,DebugEventListener:()=>debug_node.UFQ,DebugNode:()=>debug_node.GAm,DefaultIterableDiffer:()=>DefaultIterableDiffer,DestroyRef:()=>root_effect_scheduler.abz,Directive:()=>debug_node.WLR,ENVIRONMENT_INITIALIZER:()=>root_effect_scheduler.Z63,ElementRef:()=>debug_node.aKT,EmbeddedViewRef:()=>EmbeddedViewRef,EnvironmentInjector:()=>root_effect_scheduler.uvJ,ErrorHandler:()=>root_effect_scheduler.zcH,EventEmitter:()=>debug_node.bkB,HOST_TAG_NAME:()=>HOST_TAG_NAME,Host:()=>debug_node.xri,HostAttributeToken:()=>HostAttributeToken,HostBinding:()=>debug_node.g$6,HostListener:()=>debug_node.Z$l,INJECTOR:()=>root_effect_scheduler.duS,Inject:()=>debug_node.y_5,Injectable:()=>debug_node._qm,InjectionToken:()=>root_effect_scheduler.nKC,Injector:()=>root_effect_scheduler.zZn,Input:()=>debug_node.pde,IterableDiffers:()=>IterableDiffers,KeyValueDiffers:()=>KeyValueDiffers,LOCALE_ID:()=>debug_node.xe9,MAX_ANIMATION_TIMEOUT:()=>debug_node.KA5,MissingTranslationStrategy:()=>debug_node.ZtX,ModuleWithComponentFactories:()=>debug_node.S7R,NO_ERRORS_SCHEMA:()=>debug_node.EmY,NgModule:()=>debug_node.UQu,NgModuleFactory:()=>debug_node.PYt,NgModuleRef:()=>debug_node.Ab1,NgProbeToken:()=>debug_node.NEm,NgZone:()=>debug_node.SKi,Optional:()=>debug_node.Xx1,Output:()=>debug_node.k7i,OutputEmitterRef:()=>resource.Zf,PACKAGE_ROOT_URL:()=>debug_node.wKD,PLATFORM_ID:()=>debug_node.Agw,PLATFORM_INITIALIZER:()=>debug_node.PLl,PendingTasks:()=>root_effect_scheduler.u5s,Pipe:()=>debug_node.nT_,PlatformRef:()=>PlatformRef,Query:()=>Query,QueryList:()=>debug_node.rOR,REQUEST:()=>REQUEST,REQUEST_CONTEXT:()=>REQUEST_CONTEXT,RESPONSE_INIT:()=>RESPONSE_INIT,Renderer2:()=>debug_node.sFG,RendererFactory2:()=>debug_node._9s,RendererStyleFlags2:()=>debug_node.czy,Sanitizer:()=>debug_node.Ifp,SecurityContext:()=>debug_node.WPN,Self:()=>debug_node.B$B,SimpleChange:()=>debug_node.FRM,SkipSelf:()=>debug_node.kdw,TRANSLATIONS:()=>debug_node.b5y,TRANSLATIONS_FORMAT:()=>debug_node.Lp4,TemplateRef:()=>debug_node.C4Q,Testability:()=>debug_node.NYb,TestabilityRegistry:()=>debug_node.giA,TransferState:()=>debug_node.pJN,Type:()=>debug_node.ZUJ,VERSION:()=>root_effect_scheduler.xvI,Version:()=>root_effect_scheduler.RxE,ViewChild:()=>ViewChild,ViewChildren:()=>ViewChildren,ViewContainerRef:()=>debug_node.c1b,ViewEncapsulation:()=>debug_node.gXe,ViewRef:()=>ViewRef,afterEveryRender:()=>debug_node.WeM,afterNextRender:()=>debug_node.mal,afterRenderEffect:()=>afterRenderEffect,asNativeElements:()=>debug_node.BXs,assertInInjectionContext:()=>root_effect_scheduler.Af3,assertNotInReactiveContext:()=>root_effect_scheduler.tdH,assertPlatform:()=>assertPlatform,booleanAttribute:()=>booleanAttribute,computed:()=>resource.EW,contentChild:()=>contentChild,contentChildren:()=>contentChildren,createComponent:()=>createComponent,createEnvironmentInjector:()=>debug_node.Ol2,createNgModule:()=>debug_node.w6W,createNgModuleRef:()=>debug_node.fWk,createPlatform:()=>createPlatform,createPlatformFactory:()=>createPlatformFactory,defineInjectable:()=>root_effect_scheduler.vEq,destroyPlatform:()=>destroyPlatform,effect:()=>resource.QZ,enableProdMode:()=>enableProdMode,enableProfiling:()=>debug_node._KS,forwardRef:()=>root_effect_scheduler.Rfq,getDebugNode:()=>debug_node.uRB,getModuleFactory:()=>getModuleFactory,getNgModuleById:()=>getNgModuleById,getPlatform:()=>getPlatform,importProvidersFrom:()=>root_effect_scheduler.oKB,inject:()=>root_effect_scheduler.WQX,input:()=>input,inputBinding:()=>debug_node.SqE,isDevMode:()=>isDevMode,isSignal:()=>root_effect_scheduler.Hps,isStandalone:()=>root_effect_scheduler.QuC,linkedSignal:()=>resource.uu,makeEnvironmentProviders:()=>root_effect_scheduler.EmA,makeStateKey:()=>debug_node.zw6,mergeApplicationConfig:()=>mergeApplicationConfig,model:()=>model,numberAttribute:()=>numberAttribute,output:()=>output,outputBinding:()=>debug_node.f7o,platformCore:()=>platformCore,provideAppInitializer:()=>debug_node.phd,provideBrowserGlobalErrorListeners:()=>root_effect_scheduler.gOD,provideCheckNoChangesConfig:()=>provideCheckNoChangesConfig,provideEnvironmentInitializer:()=>root_effect_scheduler.BCV,provideNgReflectAttributes:()=>debug_node.R3q,providePlatformInitializer:()=>providePlatformInitializer,provideZoneChangeDetection:()=>debug_node.Jn2,provideZonelessChangeDetection:()=>debug_node.gZZ,reflectComponentType:()=>reflectComponentType,resolveForwardRef:()=>root_effect_scheduler.nl4,resource:()=>resource.Zc,runInInjectionContext:()=>root_effect_scheduler.N4e,setTestabilityGetter:()=>debug_node.a4y,signal:()=>root_effect_scheduler.vPA,twoWayBinding:()=>debug_node.rxK,untracked:()=>resource.O8,viewChild:()=>viewChild,viewChildren:()=>viewChildren,ɵANIMATIONS_DISABLED:()=>debug_node.DG8,ɵAcxChangeDetectionStrategy:()=>debug_node.TI_,ɵAcxViewEncapsulation:()=>debug_node.eX9,ɵAfterRenderManager:()=>debug_node.cf$,ɵCLIENT_RENDER_MODE_FLAG:()=>CLIENT_RENDER_MODE_FLAG,ɵCONTAINER_HEADER_OFFSET:()=>root_effect_scheduler.Y20,ɵChangeDetectionScheduler:()=>root_effect_scheduler.hk6,ɵChangeDetectionSchedulerImpl:()=>debug_node.Ts$,ɵComponentFactory:()=>debug_node.vtR,ɵConsole:()=>debug_node.C7A,ɵDEFAULT_LOCALE_ID:()=>debug_node.DkB,ɵDEFER_BLOCK_CONFIG:()=>debug_node.Mlj,ɵDEFER_BLOCK_DEPENDENCY_INTERCEPTOR:()=>debug_node.X22,ɵDEHYDRATED_BLOCK_REGISTRY:()=>debug_node.Ryq,ɵDeferBlockBehavior:()=>debug_node.saZ,ɵDeferBlockState:()=>debug_node.DnF,ɵENABLE_ROOT_COMPONENT_BOOTSTRAP:()=>ENABLE_ROOT_COMPONENT_BOOTSTRAP,ɵEffectScheduler:()=>root_effect_scheduler.VML,ɵFramework:()=>debug_node.dTB,ɵHydrationStatus:()=>debug_node.Po0,ɵIMAGE_CONFIG:()=>debug_node.VeQ,ɵIMAGE_CONFIG_DEFAULTS:()=>debug_node.mY,ɵINJECTOR_SCOPE:()=>root_effect_scheduler.GBX,ɵINPUT_SIGNAL_BRAND_WRITE_TYPE:()=>ɵINPUT_SIGNAL_BRAND_WRITE_TYPE,ɵINTERNAL_APPLICATION_ERROR_HANDLER:()=>root_effect_scheduler.ZTf,ɵIS_ENABLED_BLOCKING_INITIAL_NAVIGATION:()=>debug_node.tvf,ɵIS_HYDRATION_DOM_REUSE_ENABLED:()=>debug_node.qBF,ɵIS_INCREMENTAL_HYDRATION_ENABLED:()=>debug_node.njN,ɵJSACTION_BLOCK_ELEMENT_MAP:()=>debug_node.mu_,ɵJSACTION_EVENT_CONTRACT:()=>debug_node.SVM,ɵLContext:()=>debug_node.ajQ,ɵLocaleDataIndex:()=>debug_node.NSC,ɵNG_COMP_DEF:()=>root_effect_scheduler.CQl,ɵNG_DIR_DEF:()=>root_effect_scheduler.CZt,ɵNG_ELEMENT_ID:()=>root_effect_scheduler.p9y,ɵNG_INJ_DEF:()=>root_effect_scheduler.ONQ,ɵNG_MOD_DEF:()=>root_effect_scheduler.hmW,ɵNG_PIPE_DEF:()=>root_effect_scheduler.Vx9,ɵNG_PROV_DEF:()=>root_effect_scheduler.yAH,ɵNOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>debug_node.vet,ɵNO_CHANGE:()=>debug_node.XGJ,ɵNgModuleFactory:()=>debug_node.Co$,ɵNoopNgZone:()=>debug_node.myG,ɵPERFORMANCE_MARK_PREFIX:()=>PERFORMANCE_MARK_PREFIX,ɵPROVIDED_NG_ZONE:()=>debug_node.V5L,ɵPendingTasksInternal:()=>root_effect_scheduler.rev,ɵR3Injector:()=>root_effect_scheduler.e5P,ɵReflectionCapabilities:()=>debug_node.XKJ,ɵRender3ComponentFactory:()=>debug_node.eHC,ɵRender3ComponentRef:()=>debug_node.okJ,ɵRender3NgModuleRef:()=>debug_node.Vns,ɵResourceImpl:()=>resource.vG,ɵRuntimeError:()=>root_effect_scheduler.buA,ɵSIGNAL:()=>signal.bh,ɵSSR_CONTENT_INTEGRITY_MARKER:()=>debug_node.MZY,ɵTESTABILITY:()=>debug_node.dOL,ɵTESTABILITY_GETTER:()=>debug_node.$Ln,ɵTimerScheduler:()=>debug_node.pDl,ɵTracingAction:()=>debug_node.zut,ɵTracingService:()=>debug_node.a8H,ɵViewRef:()=>debug_node.NCX,ɵXSS_SECURITY_URL:()=>root_effect_scheduler.ok8,ɵZONELESS_ENABLED:()=>root_effect_scheduler.Evm,ɵ_sanitizeHtml:()=>debug_node.wr$,ɵ_sanitizeUrl:()=>debug_node.gil,ɵallLeavingAnimations:()=>debug_node.DUP,ɵallowSanitizationBypassAndThrow:()=>debug_node.iWE,ɵannotateForHydration:()=>annotateForHydration,ɵassertType:()=>ɵassertType,ɵbypassSanitizationTrustHtml:()=>debug_node.PYC,ɵbypassSanitizationTrustResourceUrl:()=>debug_node.RPW,ɵbypassSanitizationTrustScript:()=>debug_node.p2i,ɵbypassSanitizationTrustStyle:()=>debug_node.rAh,ɵbypassSanitizationTrustUrl:()=>debug_node.B1s,ɵclearResolutionOfComponentResourcesQueue:()=>debug_node.ik9,ɵcompileComponent:()=>debug_node.$RC,ɵcompileDirective:()=>debug_node.jqK,ɵcompileNgModule:()=>debug_node.PDb,ɵcompileNgModuleDefs:()=>debug_node.FW2,ɵcompileNgModuleFactory:()=>compileNgModuleFactory,ɵcompilePipe:()=>debug_node.QMp,ɵconvertToBitFlags:()=>root_effect_scheduler.hjC,ɵcreateInjector:()=>root_effect_scheduler.Jat,ɵcreateOrReusePlatformInjector:()=>createOrReusePlatformInjector,ɵdefaultIterableDiffers:()=>defaultIterableDiffers,ɵdefaultKeyValueDiffers:()=>defaultKeyValueDiffers,ɵdepsTracker:()=>debug_node.ZKm,ɵdevModeEqual:()=>debug_node.lgU,ɵdisableProfiling:()=>disableProfiling,ɵenableProfiling:()=>enableProfiling,ɵencapsulateResourceError:()=>resource.wl,ɵfindLocaleData:()=>debug_node.kBR,ɵflushModuleScopingQueueAsMuchAsPossible:()=>debug_node.$dP,ɵformatRuntimeError:()=>root_effect_scheduler.OsK,ɵgenerateStandaloneInDeclarationsError:()=>debug_node.ZX9,ɵgetAsyncClassMetadataFn:()=>debug_node.Cpm,ɵgetClosestComponentName:()=>getClosestComponentName,ɵgetComponentDef:()=>root_effect_scheduler.xUg,ɵgetDebugNode:()=>debug_node.uRB,ɵgetDeferBlocks:()=>debug_node.xHs,ɵgetDirectives:()=>debug_node.paT,ɵgetDocument:()=>debug_node.YEm,ɵgetHostElement:()=>debug_node.vE1,ɵgetInjectableDef:()=>root_effect_scheduler.rrq,ɵgetLContext:()=>debug_node.knv,ɵgetLocaleCurrencyCode:()=>debug_node.VDI,ɵgetLocalePluralCase:()=>debug_node.Jt5,ɵgetOutputDestroyRef:()=>resource.nf,ɵgetSanitizationBypassType:()=>debug_node.sQ7,ɵgetTransferState:()=>debug_node.di$,ɵgetUnknownElementStrictMode:()=>debug_node.GaJ,ɵgetUnknownPropertyStrictMode:()=>debug_node.x4$,ɵglobal:()=>root_effect_scheduler.laP,ɵinferTagNameFromDefinition:()=>debug_node.Fp,ɵinjectChangeDetectorRef:()=>injectChangeDetectorRef,ɵinternalCreateApplication:()=>internalCreateApplication,ɵinternalProvideZoneChangeDetection:()=>debug_node.SdI,ɵisBoundToModule:()=>debug_node.O1M,ɵisComponentDefPendingResolution:()=>debug_node.uuc,ɵisEnvironmentProviders:()=>root_effect_scheduler._y6,ɵisInjectable:()=>root_effect_scheduler.muV,ɵisNgModule:()=>debug_node.OR8,ɵisPromise:()=>debug_node.yLl,ɵisSubscribable:()=>debug_node.cdK,ɵisViewDirty:()=>debug_node.szM,ɵmarkForRefresh:()=>debug_node.cgM,ɵnoSideEffects:()=>debug_node.TDp,ɵpatchComponentDefWithScope:()=>debug_node.jdi,ɵperformanceMarkFeature:()=>debug_node._jY,ɵpublishExternalGlobalUtil:()=>debug_node.CsU,ɵreadHydrationInfo:()=>debug_node.DZS,ɵregisterLocaleData:()=>debug_node.EOD,ɵrenderDeferBlockState:()=>debug_node.Hlh,ɵresetCompiledComponents:()=>debug_node.Ded,ɵresetIncrementalHydrationEnabledWarnedForTests:()=>debug_node.yBx,ɵresetJitOptions:()=>debug_node.Vj4,ɵresolveComponentResources:()=>debug_node.Zhj,ɵrestoreComponentResolutionQueue:()=>debug_node.Za0,ɵsetAllowDuplicateNgModuleIdsForTest:()=>debug_node.Peg,ɵsetAlternateWeakRefImpl:()=>setAlternateWeakRefImpl,ɵsetClassDebugInfo:()=>debug_node.LsU,ɵsetClassMetadata:()=>debug_node.cDI,ɵsetClassMetadataAsync:()=>debug_node.mqX,ɵsetCurrentInjector:()=>not_found.mu,ɵsetDocument:()=>debug_node._9u,ɵsetInjectorProfilerContext:()=>root_effect_scheduler.DFp,ɵsetLocaleId:()=>debug_node.e6s,ɵsetUnknownElementStrictMode:()=>debug_node.kx9,ɵsetUnknownPropertyStrictMode:()=>debug_node.Hd_,ɵstartMeasuring:()=>startMeasuring,ɵstopMeasuring:()=>stopMeasuring,ɵstore:()=>root_effect_scheduler.M_e,ɵstringify:()=>root_effect_scheduler.AsM,ɵtransitiveScopesFor:()=>debug_node.QEn,ɵtriggerResourceLoading:()=>debug_node.n5O,ɵtruncateMiddle:()=>root_effect_scheduler.kU6,ɵunregisterLocaleData:()=>debug_node.Ou5,ɵunwrapSafeValue:()=>debug_node.aCM,ɵunwrapWritableSignal:()=>root_effect_scheduler.V3y,ɵwithDomHydration:()=>withDomHydration,ɵwithEventReplay:()=>withEventReplay,ɵwithI18nSupport:()=>withI18nSupport,ɵwithIncrementalHydration:()=>withIncrementalHydration,ɵɵCopyDefinitionFeature:()=>debug_node.ZDP,ɵɵExternalStylesFeature:()=>debug_node.aGu,ɵɵFactoryTarget:()=>FactoryTarget,ɵɵHostDirectivesFeature:()=>debug_node.nM4,ɵɵInheritDefinitionFeature:()=>debug_node.Vt3,ɵɵNgOnChangesFeature:()=>debug_node.OA$,ɵɵProvidersFeature:()=>debug_node.Jv_,ɵɵadvance:()=>debug_node.R7$,ɵɵanimateEnter:()=>debug_node.QR4,ɵɵanimateEnterListener:()=>debug_node.Wk0,ɵɵanimateLeave:()=>debug_node.vzT,ɵɵanimateLeaveListener:()=>debug_node.LJX,ɵɵariaProperty:()=>debug_node.jOp,ɵɵattachSourceLocations:()=>debug_node.xwS,ɵɵattribute:()=>debug_node.BMQ,ɵɵclassMap:()=>debug_node.HbH,ɵɵclassProp:()=>debug_node.AVh,ɵɵcomponentInstance:()=>debug_node.BUC,ɵɵconditional:()=>debug_node.vxM,ɵɵconditionalBranchCreate:()=>debug_node.vZN,ɵɵconditionalCreate:()=>debug_node.nVh,ɵɵcontentQuery:()=>debug_node.wni,ɵɵcontentQuerySignal:()=>debug_node.C6U,ɵɵdeclareLet:()=>debug_node.SS7,ɵɵdefer:()=>debug_node.nv$,ɵɵdeferEnableTimerScheduling:()=>debug_node.T$4,ɵɵdeferHydrateNever:()=>debug_node.Ymk,ɵɵdeferHydrateOnHover:()=>debug_node.Rcz,ɵɵdeferHydrateOnIdle:()=>debug_node.jW3,ɵɵdeferHydrateOnImmediate:()=>debug_node.WDK,ɵɵdeferHydrateOnInteraction:()=>debug_node.D_2,ɵɵdeferHydrateOnTimer:()=>debug_node.yv$,ɵɵdeferHydrateOnViewport:()=>debug_node.XSp,ɵɵdeferHydrateWhen:()=>debug_node.mCi,ɵɵdeferOnHover:()=>debug_node.UoJ,ɵɵdeferOnIdle:()=>debug_node.g25,ɵɵdeferOnImmediate:()=>debug_node.HdQ,ɵɵdeferOnInteraction:()=>debug_node.KSk,ɵɵdeferOnTimer:()=>debug_node.BUe,ɵɵdeferOnViewport:()=>debug_node.qhs,ɵɵdeferPrefetchOnHover:()=>debug_node.zs0,ɵɵdeferPrefetchOnIdle:()=>debug_node.jbH,ɵɵdeferPrefetchOnImmediate:()=>debug_node.aqp,ɵɵdeferPrefetchOnInteraction:()=>debug_node.$xL,ɵɵdeferPrefetchOnTimer:()=>debug_node.AN5,ɵɵdeferPrefetchOnViewport:()=>debug_node.j9$,ɵɵdeferPrefetchWhen:()=>debug_node.o6I,ɵɵdeferWhen:()=>debug_node.LVR,ɵɵdefineComponent:()=>debug_node.VBU,ɵɵdefineDirective:()=>debug_node.FsC,ɵɵdefineInjectable:()=>root_effect_scheduler.jDH,ɵɵdefineInjector:()=>root_effect_scheduler.G2t,ɵɵdefineNgModule:()=>debug_node.$C,ɵɵdefinePipe:()=>debug_node.EJ8,ɵɵdirectiveInject:()=>debug_node.rXU,ɵɵdisableBindings:()=>root_effect_scheduler.fuf,ɵɵdomElement:()=>debug_node.Hgh,ɵɵdomElementContainer:()=>debug_node.AQ1,ɵɵdomElementContainerEnd:()=>debug_node.Zht,ɵɵdomElementContainerStart:()=>debug_node.iHH,ɵɵdomElementEnd:()=>debug_node.eux,ɵɵdomElementStart:()=>debug_node.rj2,ɵɵdomListener:()=>debug_node.VwU,ɵɵdomProperty:()=>debug_node.Avn,ɵɵdomTemplate:()=>debug_node.PeT,ɵɵelement:()=>debug_node.nrm,ɵɵelementContainer:()=>debug_node.eu8,ɵɵelementContainerEnd:()=>debug_node.bVm,ɵɵelementContainerStart:()=>debug_node.qex,ɵɵelementEnd:()=>debug_node.k0s,ɵɵelementStart:()=>debug_node.j41,ɵɵenableBindings:()=>root_effect_scheduler.cSN,ɵɵgetComponentDepsFactory:()=>debug_node._46,ɵɵgetCurrentView:()=>debug_node.RV6,ɵɵgetInheritedFactory:()=>debug_node.xGo,ɵɵgetReplaceMetadataURL:()=>debug_node.P4o,ɵɵi18n:()=>debug_node.pXf,ɵɵi18nApply:()=>debug_node.nnv,ɵɵi18nAttributes:()=>debug_node.ehv,ɵɵi18nEnd:()=>debug_node.YFu,ɵɵi18nExp:()=>debug_node.uP7,ɵɵi18nPostprocess:()=>debug_node.k04,ɵɵi18nStart:()=>debug_node.PLo,ɵɵinject:()=>root_effect_scheduler.KVO,ɵɵinjectAttribute:()=>debug_node.kS0,ɵɵinterpolate:()=>debug_node.mNQ,ɵɵinterpolate1:()=>debug_node.VkB,ɵɵinterpolate2:()=>debug_node.ai1,ɵɵinterpolate3:()=>debug_node.VFN,ɵɵinterpolate4:()=>debug_node.a5S,ɵɵinterpolate5:()=>debug_node.VqF,ɵɵinterpolate6:()=>debug_node.OIn,ɵɵinterpolate7:()=>debug_node.H6$,ɵɵinterpolate8:()=>debug_node.Otf,ɵɵinterpolateV:()=>debug_node.oP1,ɵɵinvalidFactory:()=>debug_node.QTQ,ɵɵinvalidFactoryDep:()=>root_effect_scheduler.dmw,ɵɵlistener:()=>debug_node.bIt,ɵɵloadQuery:()=>debug_node.lsd,ɵɵnamespaceHTML:()=>root_effect_scheduler.joV,ɵɵnamespaceMathML:()=>root_effect_scheduler.By9,ɵɵnamespaceSVG:()=>root_effect_scheduler.qSk,ɵɵnextContext:()=>debug_node.XpG,ɵɵngDeclareClassMetadata:()=>ɵɵngDeclareClassMetadata,ɵɵngDeclareClassMetadataAsync:()=>ɵɵngDeclareClassMetadataAsync,ɵɵngDeclareComponent:()=>ɵɵngDeclareComponent,ɵɵngDeclareDirective:()=>ɵɵngDeclareDirective,ɵɵngDeclareFactory:()=>ɵɵngDeclareFactory,ɵɵngDeclareInjectable:()=>ɵɵngDeclareInjectable,ɵɵngDeclareInjector:()=>ɵɵngDeclareInjector,ɵɵngDeclareNgModule:()=>ɵɵngDeclareNgModule,ɵɵngDeclarePipe:()=>ɵɵngDeclarePipe,ɵɵpipe:()=>debug_node.nI1,ɵɵpipeBind1:()=>debug_node.bMT,ɵɵpipeBind2:()=>debug_node.i5U,ɵɵpipeBind3:()=>debug_node.brH,ɵɵpipeBind4:()=>debug_node.ii3,ɵɵpipeBindV:()=>debug_node.iJd,ɵɵprojection:()=>debug_node.SdG,ɵɵprojectionDef:()=>debug_node.NAR,ɵɵproperty:()=>debug_node.Y8G,ɵɵpureFunction0:()=>debug_node.lJ4,ɵɵpureFunction1:()=>debug_node.eq3,ɵɵpureFunction2:()=>debug_node.l_i,ɵɵpureFunction3:()=>debug_node.sMw,ɵɵpureFunction4:()=>debug_node.ziG,ɵɵpureFunction5:()=>debug_node.s1E,ɵɵpureFunction6:()=>debug_node.l4e,ɵɵpureFunction7:()=>debug_node.sGs,ɵɵpureFunction8:()=>debug_node.lV,ɵɵpureFunctionV:()=>debug_node.zJS,ɵɵqueryAdvance:()=>debug_node.NyB,ɵɵqueryRefresh:()=>debug_node.mGM,ɵɵreadContextLet:()=>debug_node.r8f,ɵɵreference:()=>debug_node.sdS,ɵɵregisterNgModuleType:()=>debug_node.JT1,ɵɵrepeater:()=>debug_node.Dyx,ɵɵrepeaterCreate:()=>debug_node.Z7z,ɵɵrepeaterTrackByIdentity:()=>debug_node.fX1,ɵɵrepeaterTrackByIndex:()=>debug_node.Vm6,ɵɵreplaceMetadata:()=>debug_node.kNo,ɵɵresetView:()=>root_effect_scheduler.Njj,ɵɵresolveBody:()=>debug_node.N_X,ɵɵresolveDocument:()=>debug_node.EBC,ɵɵresolveWindow:()=>debug_node.tSv,ɵɵrestoreView:()=>root_effect_scheduler.eBV,ɵɵsanitizeHtml:()=>debug_node.npT,ɵɵsanitizeResourceUrl:()=>debug_node.f$h,ɵɵsanitizeScript:()=>debug_node.TMq,ɵɵsanitizeStyle:()=>debug_node.$dS,ɵɵsanitizeUrl:()=>debug_node.B4B,ɵɵsanitizeUrlOrResourceUrl:()=>debug_node.n$t,ɵɵsetComponentScope:()=>debug_node.wjB,ɵɵsetNgModuleScope:()=>debug_node.Obh,ɵɵstoreLet:()=>debug_node.bH3,ɵɵstyleMap:()=>debug_node.Aen,ɵɵstyleProp:()=>debug_node.xc7,ɵɵsyntheticHostListener:()=>debug_node.Kam,ɵɵsyntheticHostProperty:()=>debug_node.zvX,ɵɵtemplate:()=>debug_node.DNE,ɵɵtemplateRefExtractor:()=>debug_node.C5r,ɵɵtext:()=>debug_node.EFF,ɵɵtextInterpolate:()=>debug_node.JRh,ɵɵtextInterpolate1:()=>debug_node.SpI,ɵɵtextInterpolate2:()=>debug_node.Lme,ɵɵtextInterpolate3:()=>debug_node.E5c,ɵɵtextInterpolate4:()=>debug_node.LHq,ɵɵtextInterpolate5:()=>debug_node.SjE,ɵɵtextInterpolate6:()=>debug_node.ZXR,ɵɵtextInterpolate7:()=>debug_node.SEQ,ɵɵtextInterpolate8:()=>debug_node.Ld,ɵɵtextInterpolateV:()=>debug_node.xRd,ɵɵtrustConstantHtml:()=>debug_node.OP0,ɵɵtrustConstantResourceUrl:()=>debug_node.wXG,ɵɵtwoWayBindingSet:()=>debug_node.DH7,ɵɵtwoWayListener:()=>debug_node.mxI,ɵɵtwoWayProperty:()=>debug_node.R50,ɵɵvalidateAttribute:()=>debug_node.lzW,ɵɵviewQuery:()=>debug_node.GBs,ɵɵviewQuerySignal:()=>debug_node.wEZ});var root_effect_scheduler=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),signal=__webpack_require__("./node_modules/@angular/core/fesm2022/signal.mjs"),debug_node=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node.mjs"),resource=__webpack_require__("./node_modules/@angular/core/fesm2022/resource.mjs");function setAlternateWeakRefImpl(impl){}var not_found=__webpack_require__("./node_modules/@angular/core/fesm2022/not_found.mjs"),attribute=__webpack_require__("./node_modules/@angular/core/fesm2022/attribute.mjs");const Property_JSACTION="__jsaction",Property_OWNER="__owner",parseCache={};function get(element){return element[Property_JSACTION]}function set(element,actionMap){element[Property_JSACTION]=actionMap}const EventType_CLICK="click",EventType_CLICKMOD="clickmod",EventType_MOUSEOVER="mouseover",EventType_MOUSEOUT="mouseout",EventType_MOUSEENTER="mouseenter",EventType_MOUSELEAVE="mouseleave",EventType_POINTEROVER="pointerover",EventType_POINTEROUT="pointerout",EventType_POINTERENTER="pointerenter",EventType_POINTERLEAVE="pointerleave",MOUSE_SPECIAL_EVENT_TYPES=[EventType_MOUSEENTER,EventType_MOUSELEAVE,"pointerenter","pointerleave"],CAPTURE_EVENT_TYPES=["focus","blur","error","load","toggle"],isCaptureEventType=eventType=>CAPTURE_EVENT_TYPES.indexOf(eventType)>=0,EARLY_EVENT_TYPES=[EventType_CLICK,"dblclick","focusin","focusout","keydown","keyup","keypress",EventType_MOUSEOVER,EventType_MOUSEOUT,"submit","touchstart","touchend","touchmove","touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"].concat(CAPTURE_EVENT_TYPES),isEarlyEventType=eventType=>EARLY_EVENT_TYPES.indexOf(eventType)>=0;function removeEventListener(element,info){if(element.removeEventListener){const options="boolean"==typeof info.passive?{capture:info.capture}:info.capture;element.removeEventListener(info.eventType,info.handler,options)}else element.detachEvent&&element.detachEvent(`on${info.eventType}`,info.handler)}let isMac="undefined"!=typeof navigator&&/Macintosh/.test(navigator.userAgent);const isIos="undefined"!=typeof navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent);class EventContractContainer{element;handlerInfos=[];constructor(element){this.element=element}addEventListener(eventType,getHandler,passive){isIos&&(this.element.style.cursor="pointer"),this.handlerInfos.push(function addEventListener(element,eventType,handler,passive){let capture=!1;isCaptureEventType(eventType)&&(capture=!0);const options="boolean"==typeof passive?{capture,passive}:capture;return element.addEventListener(eventType,handler,options),{eventType,handler,capture,passive}}(this.element,eventType,getHandler(this.element),passive))}cleanUp(){for(let i=0;i<this.handlerInfos.length;i++)removeEventListener(this.element,this.handlerInfos[i]);this.handlerInfos=[]}}const Char_EVENT_ACTION_SEPARATOR=":";function getEventType(eventInfo){return eventInfo.eventType}function setEventType(eventInfo,eventType){eventInfo.eventType=eventType}function getEvent(eventInfo){return eventInfo.event}function setEvent(eventInfo,event){eventInfo.event=event}function getTargetElement(eventInfo){return eventInfo.targetElement}function setTargetElement(eventInfo,targetElement){eventInfo.targetElement=targetElement}function getContainer(eventInfo){return eventInfo.eic}function getAction(eventInfo){return eventInfo.eia}function setAction(eventInfo,actionName,actionElement){eventInfo.eia=[actionName,actionElement]}function unsetAction(eventInfo){eventInfo.eia=void 0}function getActionElement(actionInfo){return actionInfo[1]}function setIsReplay(eventInfo,replay){eventInfo.eirp=replay}function getResolved(eventInfo){return eventInfo.eir}function setResolved(eventInfo,resolved){eventInfo.eir=resolved}function cloneEventInfo(eventInfo){return{eventType:eventInfo.eventType,event:eventInfo.event,targetElement:eventInfo.targetElement,eic:eventInfo.eic,eia:eventInfo.eia,timeStamp:eventInfo.timeStamp,eirp:eventInfo.eirp,eiack:eventInfo.eiack,eir:eventInfo.eir}}function createEventInfoFromParameters(eventType,event,targetElement,container,timestamp,action,isReplay,a11yClickKey){return{eventType,event,targetElement,eic:container,timeStamp:timestamp,eia:action,eirp:isReplay,eiack:a11yClickKey}}class EventInfoWrapper{eventInfo;constructor(eventInfo){this.eventInfo=eventInfo}getEventType(){return getEventType(this.eventInfo)}setEventType(eventType){setEventType(this.eventInfo,eventType)}getEvent(){return getEvent(this.eventInfo)}setEvent(event){setEvent(this.eventInfo,event)}getTargetElement(){return getTargetElement(this.eventInfo)}setTargetElement(targetElement){setTargetElement(this.eventInfo,targetElement)}getContainer(){return getContainer(this.eventInfo)}setContainer(container){!function setContainer(eventInfo,container){eventInfo.eic=container}(this.eventInfo,container)}getTimestamp(){return function getTimestamp(eventInfo){return eventInfo.timeStamp}(this.eventInfo)}setTimestamp(timestamp){!function setTimestamp(eventInfo,timestamp){eventInfo.timeStamp=timestamp}(this.eventInfo,timestamp)}getAction(){const action=getAction(this.eventInfo);if(action)return{name:action[0],element:action[1]}}setAction(action){action?setAction(this.eventInfo,action.name,action.element):unsetAction(this.eventInfo)}getIsReplay(){return function getIsReplay(eventInfo){return eventInfo.eirp}(this.eventInfo)}setIsReplay(replay){setIsReplay(this.eventInfo,replay)}getResolved(){return getResolved(this.eventInfo)}setResolved(resolved){setResolved(this.eventInfo,resolved)}clone(){return new EventInfoWrapper(cloneEventInfo(this.eventInfo))}}const EMPTY_ACTION_MAP={},REGEXP_SEMICOLON=/\s*;\s*/,DEFAULT_EVENT_TYPE=EventType_CLICK;class ActionResolver{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport=!1,clickModSupport=!0}={}){this.syntheticMouseEventSupport=syntheticMouseEventSupport,this.clickModSupport=clickModSupport}resolveEventType(eventInfo){this.clickModSupport&&getEventType(eventInfo)===EventType_CLICK&&function isModifiedClickEvent(e){return isMac&&e.metaKey||!isMac&&e.ctrlKey||function isMiddleClick(e){return 2===e.which||null==e.which&&4===e.button}(e)||e.shiftKey}(getEvent(eventInfo))?setEventType(eventInfo,EventType_CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(eventInfo)}resolveAction(eventInfo){getResolved(eventInfo)||(this.populateAction(eventInfo,getTargetElement(eventInfo)),setResolved(eventInfo,!0))}resolveParentAction(eventInfo){const action=getAction(eventInfo),actionElement=action&&getActionElement(action);unsetAction(eventInfo);const parentNode=actionElement&&this.getParentNode(actionElement);parentNode&&this.populateAction(eventInfo,parentNode)}populateAction(eventInfo,currentTarget){let actionElement=currentTarget;for(;actionElement&&actionElement!==getContainer(eventInfo)&&(actionElement.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(actionElement,eventInfo),!getAction(eventInfo));)actionElement=this.getParentNode(actionElement);const action=getAction(eventInfo);if(action&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(eventInfo),this.syntheticMouseEventSupport&&(getEventType(eventInfo)===EventType_MOUSEENTER||getEventType(eventInfo)===EventType_MOUSELEAVE||getEventType(eventInfo)===EventType_POINTERENTER||getEventType(eventInfo)===EventType_POINTERLEAVE)))if(function isMouseSpecialEvent(e,type,element){const related=e.relatedTarget;return(e.type===EventType_MOUSEOVER&&type===EventType_MOUSEENTER||e.type===EventType_MOUSEOUT&&type===EventType_MOUSELEAVE||e.type===EventType_POINTEROVER&&type===EventType_POINTERENTER||e.type===EventType_POINTEROUT&&type===EventType_POINTERLEAVE)&&(!related||related!==element&&!element.contains(related))}(getEvent(eventInfo),getEventType(eventInfo),getActionElement(action))){setEvent(eventInfo,function createMouseSpecialEvent(e,target){const copy={};for(const property in e){if("srcElement"===property||"target"===property)continue;const key=property,value=e[key];"function"!=typeof value&&(copy[key]=value)}return e.type===EventType_MOUSEOVER?copy.type=EventType_MOUSEENTER:e.type===EventType_MOUSEOUT?copy.type=EventType_MOUSELEAVE:e.type===EventType_POINTEROVER?copy.type=EventType_POINTERENTER:copy.type=EventType_POINTERLEAVE,copy.target=copy.srcElement=target,copy.bubbles=!1,copy._originalEvent=e,copy}(getEvent(eventInfo),getActionElement(action))),setTargetElement(eventInfo,getActionElement(action))}else unsetAction(eventInfo)}getParentNode(element){const owner=element[Property_OWNER];if(owner)return owner;const parentNode=element.parentNode;return"#document-fragment"===parentNode?.nodeName?parentNode?.host??null:parentNode}populateActionOnElement(actionElement,eventInfo){const actionMap=this.parseActions(actionElement),actionName=actionMap[getEventType(eventInfo)];void 0!==actionName&&setAction(eventInfo,actionName,actionElement),this.a11yClickSupport&&this.populateClickOnlyAction(actionElement,eventInfo,actionMap)}parseActions(actionElement){let actionMap=get(actionElement);if(!actionMap){const jsactionAttribute=actionElement.getAttribute(attribute.n.JSACTION);if(jsactionAttribute){if(actionMap=function getParsed(text){return parseCache[text]}(jsactionAttribute),!actionMap){actionMap={};const values=jsactionAttribute.split(REGEXP_SEMICOLON);for(let idx=0;idx<values.length;idx++){const value=values[idx];if(!value)continue;const colon=value.indexOf(Char_EVENT_ACTION_SEPARATOR),hasColon=-1!==colon,type=hasColon?value.substr(0,colon).trim():DEFAULT_EVENT_TYPE,action=hasColon?value.substr(colon+1).trim():value;actionMap[type]=action}!function setParsed(text,parsed){parseCache[text]=parsed}(jsactionAttribute,actionMap)}set(actionElement,actionMap)}else actionMap=EMPTY_ACTION_MAP,set(actionElement,actionMap)}return actionMap}addA11yClickSupport(updateEventInfoForA11yClick,preventDefaultForA11yClick,populateClickOnlyAction){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=updateEventInfoForA11yClick,this.preventDefaultForA11yClick=preventDefaultForA11yClick,this.populateClickOnlyAction=populateClickOnlyAction}}var Restriction;!function(Restriction){Restriction[Restriction.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK"}(Restriction||(Restriction={}));class Dispatcher{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(dispatchDelegate,{actionResolver,eventReplayer}={}){this.dispatchDelegate=dispatchDelegate,this.actionResolver=actionResolver,this.eventReplayer=eventReplayer}dispatch(eventInfo){const eventInfoWrapper=new EventInfoWrapper(eventInfo);this.actionResolver?.resolveEventType(eventInfo),this.actionResolver?.resolveAction(eventInfo);const action=eventInfoWrapper.getAction();action&&function shouldPreventDefaultBeforeDispatching(actionElement,eventInfoWrapper){return"A"===actionElement.tagName&&(eventInfoWrapper.getEventType()===EventType_CLICK||eventInfoWrapper.getEventType()===EventType_CLICKMOD)}(action.element,eventInfoWrapper)&&function preventDefault(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(eventInfoWrapper.getEvent()),this.eventReplayer&&eventInfoWrapper.getIsReplay()?this.scheduleEventInfoWrapperReplay(eventInfoWrapper):this.dispatchDelegate(eventInfoWrapper)}scheduleEventInfoWrapperReplay(eventInfoWrapper){this.replayEventInfoWrappers.push(eventInfoWrapper),this.eventReplayScheduled||(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}}const PROPAGATION_STOPPED_SYMBOL=Symbol.for("propagationStopped"),EventPhase_REPLAY=101,PREVENT_DEFAULT_ERROR_MESSAGE_DETAILS=" Because event replay occurs after browser dispatch, `preventDefault` would have no effect. You can check whether an event is being replayed by accessing the event phase: `event.eventPhase === EventPhase.REPLAY`.",COMPOSED_PATH_ERROR_MESSAGE_DETAILS=" Because event replay occurs after browser dispatch, `composedPath()` will be empty. Iterate parent nodes from `event.target` or `event.currentTarget` if you need to check elements in the event path.";class EventDispatcher{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(dispatchDelegate,clickModSupport=!0){this.dispatchDelegate=dispatchDelegate,this.clickModSupport=clickModSupport,this.actionResolver=new ActionResolver({clickModSupport}),this.dispatcher=new Dispatcher(eventInfoWrapper=>{this.dispatchToDelegate(eventInfoWrapper)},{actionResolver:this.actionResolver})}dispatch(eventInfo){this.dispatcher.dispatch(eventInfo)}dispatchToDelegate(eventInfoWrapper){for(eventInfoWrapper.getIsReplay()&&function prepareEventForReplay(eventInfoWrapper){const event=eventInfoWrapper.getEvent(),target=eventInfoWrapper.getTargetElement(),originalPreventDefault=event.preventDefault.bind(event);patchEventInstance(event,"target",target),patchEventInstance(event,"eventPhase",EventPhase_REPLAY),patchEventInstance(event,"preventDefault",()=>{throw originalPreventDefault(),new Error("`preventDefault` called during event replay."+(ngDevMode?PREVENT_DEFAULT_ERROR_MESSAGE_DETAILS:""))}),patchEventInstance(event,"composedPath",()=>{throw new Error("`composedPath` called during event replay."+(ngDevMode?COMPOSED_PATH_ERROR_MESSAGE_DETAILS:""))})}(eventInfoWrapper),function prepareEventForBubbling(eventInfoWrapper){const event=eventInfoWrapper.getEvent(),originalStopPropagation=eventInfoWrapper.getEvent().stopPropagation.bind(event),stopPropagation=()=>{event[PROPAGATION_STOPPED_SYMBOL]=!0,originalStopPropagation()};patchEventInstance(event,"stopPropagation",stopPropagation),patchEventInstance(event,"stopImmediatePropagation",stopPropagation)}(eventInfoWrapper);eventInfoWrapper.getAction();){if(prepareEventForDispatch(eventInfoWrapper),isCaptureEventType(eventInfoWrapper.getEventType())&&eventInfoWrapper.getAction().element!==eventInfoWrapper.getTargetElement())return;if(this.dispatchDelegate(eventInfoWrapper.getEvent(),eventInfoWrapper.getAction().name),propagationStopped(eventInfoWrapper))return;this.actionResolver.resolveParentAction(eventInfoWrapper.eventInfo)}}}function propagationStopped(eventInfoWrapper){return!!eventInfoWrapper.getEvent()[PROPAGATION_STOPPED_SYMBOL]}function prepareEventForDispatch(eventInfoWrapper){const event=eventInfoWrapper.getEvent(),currentTarget=eventInfoWrapper.getAction()?.element;currentTarget&&patchEventInstance(event,"currentTarget",currentTarget,{configurable:!0})}function patchEventInstance(event,property,value,{configurable=!1}={}){Object.defineProperty(event,property,{value,configurable})}function removeAllEventListeners(earlyJsactionData){earlyJsactionData&&(removeEventListeners(earlyJsactionData.c,earlyJsactionData.et,earlyJsactionData.h),removeEventListeners(earlyJsactionData.c,earlyJsactionData.etc,earlyJsactionData.h,!0))}function removeEventListeners(container,eventTypes,earlyEventHandler,capture){for(let i=0;i<eventTypes.length;i++)container.removeEventListener(eventTypes[i],earlyEventHandler,capture)}class EventContract{static MOUSE_SPECIAL_SUPPORT=false;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(containerManager){this.containerManager=containerManager}handleEvent(eventType,event,container){const eventInfo=createEventInfoFromParameters(eventType,event,event.target,container,Date.now());this.handleEventInfo(eventInfo)}handleEventInfo(eventInfo){if(!this.dispatcher)return setIsReplay(eventInfo,!0),void this.queuedEventInfos?.push(eventInfo);this.dispatcher(eventInfo)}addEvent(eventType,prefixedEventType,passive){if(eventType in this.eventHandlers||!this.containerManager)return;if(!EventContract.MOUSE_SPECIAL_SUPPORT&&MOUSE_SPECIAL_EVENT_TYPES.indexOf(eventType)>=0)return;const eventHandler=(eventType,event,container)=>{this.handleEvent(eventType,event,container)};this.eventHandlers[eventType]=eventHandler;const browserEventType=function getBrowserEventType(eventType){return eventType===EventType_MOUSEENTER?EventType_MOUSEOVER:eventType===EventType_MOUSELEAVE?EventType_MOUSEOUT:eventType===EventType_POINTERENTER?EventType_POINTEROVER:eventType===EventType_POINTERLEAVE?EventType_POINTEROUT:eventType}(prefixedEventType||eventType);if(browserEventType!==eventType){const eventTypes=this.browserEventTypeToExtraEventTypes[browserEventType]||[];eventTypes.push(eventType),this.browserEventTypeToExtraEventTypes[browserEventType]=eventTypes}this.containerManager.addEventListener(browserEventType,element=>event=>{eventHandler(eventType,event,element)},passive)}replayEarlyEvents(earlyJsactionData=window._ejsa){earlyJsactionData&&(this.replayEarlyEventInfos(earlyJsactionData.q),removeAllEventListeners(earlyJsactionData),delete window._ejsa)}replayEarlyEventInfos(earlyEventInfos){for(let i=0;i<earlyEventInfos.length;i++){const earlyEventInfo=earlyEventInfos[i],eventTypes=this.getEventTypesForBrowserEventType(earlyEventInfo.eventType);for(let j=0;j<eventTypes.length;j++){const eventInfo=cloneEventInfo(earlyEventInfo);setEventType(eventInfo,eventTypes[j]),this.handleEventInfo(eventInfo)}}}getEventTypesForBrowserEventType(browserEventType){const eventTypes=[];return this.eventHandlers[browserEventType]&&eventTypes.push(browserEventType),this.browserEventTypeToExtraEventTypes[browserEventType]&&eventTypes.push(...this.browserEventTypeToExtraEventTypes[browserEventType]),eventTypes}handler(eventType){return this.eventHandlers[eventType]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(dispatcher,restriction){this.ecrd(dispatcher,restriction)}ecrd(dispatcher,restriction){if(this.dispatcher=dispatcher,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}function clearAppScopedEarlyEventContract(appId,dataContainer=window){dataContainer._ejsas&&(dataContainer._ejsas[appId]=void 0)}const REQUIRED_UNSET_VALUE=Symbol("InputSignalNode#UNSET"),INPUT_SIGNAL_NODE=(()=>({...signal.s0,transformFn:void 0,applyValueToInputSignal(node,value){(0,signal.j2)(node,value)}}))(),ɵINPUT_SIGNAL_BRAND_WRITE_TYPE=Symbol();function createInputSignal(initialValue,options){const node=Object.create(INPUT_SIGNAL_NODE);function inputValueFn(){if((0,signal.mK)(node),node.value===REQUIRED_UNSET_VALUE){let message=null;if(ngDevMode){const name=options?.debugName??options?.alias;message=`Input${name?` "${name}"`:""} is required but no value is available yet.`}throw new root_effect_scheduler.buA(-950,message)}return node.value}return node.value=initialValue,node.transformFn=options?.transform,inputValueFn[signal.bh]=node,ngDevMode&&(inputValueFn.toString=()=>`[Input Signal: ${inputValueFn()}]`,node.debugName=options?.debugName),inputValueFn}var FactoryTarget,R3TemplateDependencyKind,ViewEncapsulation;!function(FactoryTarget){FactoryTarget[FactoryTarget.Directive=0]="Directive",FactoryTarget[FactoryTarget.Component=1]="Component",FactoryTarget[FactoryTarget.Injectable=2]="Injectable",FactoryTarget[FactoryTarget.Pipe=3]="Pipe",FactoryTarget[FactoryTarget.NgModule=4]="NgModule"}(FactoryTarget||(FactoryTarget={})),function(R3TemplateDependencyKind){R3TemplateDependencyKind[R3TemplateDependencyKind.Directive=0]="Directive",R3TemplateDependencyKind[R3TemplateDependencyKind.Pipe=1]="Pipe",R3TemplateDependencyKind[R3TemplateDependencyKind.NgModule=2]="NgModule"}(R3TemplateDependencyKind||(R3TemplateDependencyKind={})),function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.None=2]="None",ViewEncapsulation[ViewEncapsulation.ShadowDom=3]="ShadowDom"}(ViewEncapsulation||(ViewEncapsulation={}));class HostAttributeToken{attributeName;constructor(attributeName){this.attributeName=attributeName}__NG_ELEMENT_ID__=()=>(0,debug_node.kS0)(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}const HOST_TAG_NAME=new root_effect_scheduler.nKC(ngDevMode?"HOST_TAG_NAME":"");function output(opts){return ngDevMode&&(0,root_effect_scheduler.Af3)(output),new resource.Zf}function inputFunction(initialValue,opts){return ngDevMode&&(0,root_effect_scheduler.Af3)(input),createInputSignal(initialValue,opts)}function inputRequiredFunction(opts){return ngDevMode&&(0,root_effect_scheduler.Af3)(input),createInputSignal(REQUIRED_UNSET_VALUE,opts)}HOST_TAG_NAME.__NG_ELEMENT_ID__=flags=>{const tNode=(0,root_effect_scheduler.Mx4)();if(null===tNode)throw new root_effect_scheduler.buA(204,ngDevMode&&"HOST_TAG_NAME can only be injected in directives and components during construction time (in a class constructor or as a class field initializer)");if(2&tNode.type)return tNode.value;if(8&flags)return null;throw new root_effect_scheduler.buA(204,ngDevMode&&`HOST_TAG_NAME was used on ${function getDevModeNodeName(tNode){return 8&tNode.type?"an <ng-container>":4&tNode.type?"an <ng-template>":128&tNode.type?"an @let declaration":"a node"}(tNode)} which doesn't have an underlying element in the DOM. This is invalid, and so the dependency should be marked as optional.`)};const input=(inputFunction.required=inputRequiredFunction,inputFunction);function viewChildFn(locator,opts){return ngDevMode&&(0,root_effect_scheduler.Af3)(viewChild),(0,debug_node.mU9)(opts)}function viewChildRequiredFn(locator,opts){return ngDevMode&&(0,root_effect_scheduler.Af3)(viewChild),(0,debug_node.hnC)(opts)}const viewChild=(viewChildFn.required=viewChildRequiredFn,viewChildFn);function viewChildren(locator,opts){return ngDevMode&&(0,root_effect_scheduler.Af3)(viewChildren),(0,debug_node.FuF)(opts)}function contentChildFn(locator,opts){return ngDevMode&&(0,root_effect_scheduler.Af3)(contentChild),(0,debug_node.mU9)(opts)}function contentChildRequiredFn(locator,opts){return ngDevMode&&(0,root_effect_scheduler.Af3)(contentChildren),(0,debug_node.hnC)(opts)}const contentChild=(contentChildFn.required=contentChildRequiredFn,contentChildFn);function contentChildren(locator,opts){return(0,debug_node.FuF)(opts)}function createModelSignal(initialValue,opts){const node=Object.create(INPUT_SIGNAL_NODE),emitterRef=new resource.Zf;function getter(){return(0,signal.mK)(node),assertModelSet(node.value),node.value}return node.value=initialValue,getter[signal.bh]=node,getter.asReadonly=root_effect_scheduler.HO5.bind(getter),getter.set=newValue=>{node.equal(node.value,newValue)||((0,signal.j2)(node,newValue),emitterRef.emit(newValue))},getter.update=updateFn=>{assertModelSet(node.value),getter.set(updateFn(node.value))},getter.subscribe=emitterRef.subscribe.bind(emitterRef),getter.destroyRef=emitterRef.destroyRef,ngDevMode&&(getter.toString=()=>`[Model Signal: ${getter()}]`,node.debugName=opts?.debugName),getter}function assertModelSet(value){if(value===REQUIRED_UNSET_VALUE)throw new root_effect_scheduler.buA(952,ngDevMode&&"Model is required but no value is available yet.")}function modelFunction(initialValue,opts){return ngDevMode&&(0,root_effect_scheduler.Af3)(model),createModelSignal(initialValue,opts)}function modelRequiredFunction(opts){return ngDevMode&&(0,root_effect_scheduler.Af3)(model),createModelSignal(REQUIRED_UNSET_VALUE,opts)}const model=(modelFunction.required=modelRequiredFunction,modelFunction);class Query{}const ContentChildren=(0,debug_node.RN$)("ContentChildren",(selector,opts={})=>({selector,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:true,...opts}),Query),ContentChild=(0,debug_node.RN$)("ContentChild",(selector,opts={})=>({selector,first:!0,isViewQuery:!1,descendants:!0,...opts}),Query),ViewChildren=(0,debug_node.RN$)("ViewChildren",(selector,opts={})=>({selector,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:true,...opts}),Query),ViewChild=(0,debug_node.RN$)("ViewChild",(selector,opts)=>({selector,first:!0,isViewQuery:!0,descendants:!0,...opts}),Query);function compileNgModuleFactory(injector,options,moduleType){ngDevMode&&(0,root_effect_scheduler.KET)(moduleType);const moduleFactory=new debug_node.Co$(moduleType);if("undefined"!=typeof ngJitMode&&!ngJitMode)return Promise.resolve(moduleFactory);const compilerOptions=injector.get(debug_node.d80,[]).concat(options);if((0,debug_node.KED)({defaultEncapsulation:_lastDefined(compilerOptions.map(opts=>opts.defaultEncapsulation)),preserveWhitespaces:_lastDefined(compilerOptions.map(opts=>opts.preserveWhitespaces))}),(0,debug_node.sgu)())return Promise.resolve(moduleFactory);const compilerProviders=compilerOptions.flatMap(option=>option.providers??[]);if(0===compilerProviders.length)return Promise.resolve(moduleFactory);const compiler=(0,debug_node.uiO)({usage:0,kind:"NgModule",type:moduleType}),resourceLoader=root_effect_scheduler.zZn.create({providers:compilerProviders}).get(compiler.ResourceLoader);return(0,debug_node.Zhj)(url=>Promise.resolve(resourceLoader.get(url))).then(()=>moduleFactory)}function _lastDefined(args){for(let i=args.length-1;i>=0;i--)if(void 0!==args[i])return args[i]}class ImagePerformanceWarning{window=null;observer=null;options=(0,root_effect_scheduler.WQX)(debug_node.VeQ);lcpImageUrl;start(){if("undefined"!=typeof ngServerMode&&ngServerMode||"undefined"==typeof PerformanceObserver||this.options?.disableImageSizeWarning&&this.options?.disableImageLazyLoadWarning)return;this.observer=this.initPerformanceObserver();const doc=(0,debug_node.YEm)(),win=doc.defaultView;if(win){this.window=win;const waitToScan=()=>{setTimeout(this.scanImages.bind(this),200)},setup=()=>{"complete"===doc.readyState?waitToScan():this.window?.addEventListener("load",waitToScan,{once:!0})};"undefined"!=typeof Zone?Zone.root.run(()=>setup()):setup()}}ngOnDestroy(){this.observer?.disconnect()}initPerformanceObserver(){if("undefined"==typeof PerformanceObserver)return null;const observer=new PerformanceObserver(entryList=>{const entries=entryList.getEntries();if(0===entries.length)return;const lcpElement=entries[entries.length-1],imgSrc=lcpElement.element?.src??"";imgSrc.startsWith("data:")||imgSrc.startsWith("blob:")||(this.lcpImageUrl=imgSrc)});return observer.observe({type:"largest-contentful-paint",buffered:!0}),observer}scanImages(){const images=(0,debug_node.YEm)().querySelectorAll("img");let lcpElementFound,lcpElementLoadedCorrectly=!1;for(let index=0;index<images.length;index++){const image=images[index];image&&(this.options?.disableImageSizeWarning||!image.getAttribute("ng-img")&&this.isOversized(image)&&logOversizedImageWarning(image.src),!this.options?.disableImageLazyLoadWarning&&this.lcpImageUrl&&image.src===this.lcpImageUrl&&(lcpElementFound=!0,("lazy"!==image.loading||image.getAttribute("ng-img"))&&(lcpElementLoadedCorrectly=!0)))}lcpElementFound&&!lcpElementLoadedCorrectly&&this.lcpImageUrl&&!this.options?.disableImageLazyLoadWarning&&function logLazyLCPWarning(src){console.warn((0,root_effect_scheduler.OsK)(-913,`An image with src ${src} is the Largest Contentful Paint (LCP) element but was given a "loading" value of "lazy", which can negatively impact application loading performance. This warning can be addressed by changing the loading value of the LCP image to "eager", or by using the NgOptimizedImage directive's prioritization utilities. For more information about addressing or disabling this warning, see https://angular.dev/errors/NG0913`))}(this.lcpImageUrl)}isOversized(image){if(!this.window)return!1;const imageSource=(image.src||"").toLowerCase();if([".svg"].some(extension=>imageSource.endsWith(extension)))return!1;const computedStyle=this.window.getComputedStyle(image);let renderedWidth=parseFloat(computedStyle.getPropertyValue("width")),renderedHeight=parseFloat(computedStyle.getPropertyValue("height"));const boxSizing=computedStyle.getPropertyValue("box-sizing");if("cover"===computedStyle.getPropertyValue("object-fit"))return!1;if("border-box"===boxSizing){const paddingTop=computedStyle.getPropertyValue("padding-top"),paddingRight=computedStyle.getPropertyValue("padding-right"),paddingBottom=computedStyle.getPropertyValue("padding-bottom"),paddingLeft=computedStyle.getPropertyValue("padding-left");renderedWidth-=parseFloat(paddingRight)+parseFloat(paddingLeft),renderedHeight-=parseFloat(paddingTop)+parseFloat(paddingBottom)}const intrinsicWidth=image.naturalWidth,intrinsicHeight=image.naturalHeight,recommendedWidth=this.window.devicePixelRatio*renderedWidth,recommendedHeight=this.window.devicePixelRatio*renderedHeight;return intrinsicWidth-recommendedWidth>=1200||intrinsicHeight-recommendedHeight>=1200}static ɵfac=function ImagePerformanceWarning_Factory(__ngFactoryType__){return new(__ngFactoryType__||ImagePerformanceWarning)};static ɵprov=(0,root_effect_scheduler.jDH)({token:ImagePerformanceWarning,factory:ImagePerformanceWarning.ɵfac,providedIn:"root"})}function logOversizedImageWarning(src){console.warn((0,root_effect_scheduler.OsK)(-913,`An image with src ${src} has intrinsic file dimensions much larger than its rendered size. This can negatively impact application loading performance. For more information about addressing or disabling this warning, see https://angular.dev/errors/NG0913`))}("undefined"==typeof ngDevMode||ngDevMode)&&(0,debug_node.cDI)(ImagePerformanceWarning,[{type:debug_node._qm,args:[{providedIn:"root"}]}],null,null);const PLATFORM_DESTROY_LISTENERS=new root_effect_scheduler.nKC(ngDevMode?"PlatformDestroyListeners":""),ENABLE_ROOT_COMPONENT_BOOTSTRAP=new root_effect_scheduler.nKC(ngDevMode?"ENABLE_ROOT_COMPONENT_BOOTSTRAP":"");function isApplicationBootstrapConfig(config){return!config.moduleRef}function bootstrap(config){const envInjector=isApplicationBootstrapConfig(config)?config.r3Injector:config.moduleRef.injector,ngZone=envInjector.get(debug_node.SKi);return ngZone.run(()=>{isApplicationBootstrapConfig(config)?config.r3Injector.resolveInjectorInitializers():config.moduleRef.resolveInjectorInitializers();const exceptionHandler=envInjector.get(root_effect_scheduler.ZTf);if(("undefined"==typeof ngDevMode||ngDevMode)&&envInjector.get(root_effect_scheduler.GYQ)&&envInjector.get(debug_node.V5L))throw new root_effect_scheduler.buA(408,"Invalid change detection configuration: provideZoneChangeDetection and provideZonelessChangeDetection cannot be used together.");let onErrorSubscription;if(ngZone.runOutsideAngular(()=>{onErrorSubscription=ngZone.onError.subscribe({next:exceptionHandler})}),isApplicationBootstrapConfig(config)){const destroyListener=()=>envInjector.destroy(),onPlatformDestroyListeners=config.platformInjector.get(PLATFORM_DESTROY_LISTENERS);onPlatformDestroyListeners.add(destroyListener),envInjector.onDestroy(()=>{onErrorSubscription.unsubscribe(),onPlatformDestroyListeners.delete(destroyListener)})}else{const destroyListener=()=>config.moduleRef.destroy(),onPlatformDestroyListeners=config.platformInjector.get(PLATFORM_DESTROY_LISTENERS);onPlatformDestroyListeners.add(destroyListener),config.moduleRef.onDestroy(()=>{(0,debug_node.TFI)(config.allPlatformModules,config.moduleRef),onErrorSubscription.unsubscribe(),onPlatformDestroyListeners.delete(destroyListener)})}return function _callAndReportToErrorHandler(errorHandler,ngZone,callback){try{const result=callback();return(0,debug_node.yLl)(result)?result.catch(e=>{throw ngZone.runOutsideAngular(()=>errorHandler(e)),e}):result}catch(e){throw ngZone.runOutsideAngular(()=>errorHandler(e)),e}}(exceptionHandler,ngZone,()=>{const pendingTasks=envInjector.get(root_effect_scheduler.rev),taskId=pendingTasks.add(),initStatus=envInjector.get(debug_node.H1s);return initStatus.runInitializers(),initStatus.donePromise.then(()=>{const localeId=envInjector.get(debug_node.xe9,debug_node.DkB);(0,debug_node.e6s)(localeId||debug_node.DkB);if(!envInjector.get(ENABLE_ROOT_COMPONENT_BOOTSTRAP,!0))return isApplicationBootstrapConfig(config)?envInjector.get(debug_node.o8S):(config.allPlatformModules.push(config.moduleRef),config.moduleRef);if("undefined"==typeof ngDevMode||ngDevMode){envInjector.get(ImagePerformanceWarning).start()}if(isApplicationBootstrapConfig(config)){const appRef=envInjector.get(debug_node.o8S);return void 0!==config.rootComponent&&appRef.bootstrap(config.rootComponent),appRef}return moduleBootstrapImpl?.(config.moduleRef,config.allPlatformModules),config.moduleRef}).finally(()=>{pendingTasks.remove(taskId)})})})}let moduleBootstrapImpl;function setModuleBootstrapImpl(){moduleBootstrapImpl=_moduleDoBootstrap}function _moduleDoBootstrap(moduleRef,allPlatformModules){const appRef=moduleRef.injector.get(debug_node.o8S);if(moduleRef._bootstrapComponents.length>0)moduleRef._bootstrapComponents.forEach(f=>appRef.bootstrap(f));else{if(!moduleRef.instance.ngDoBootstrap)throw new root_effect_scheduler.buA(-403,ngDevMode&&`The module ${(0,root_effect_scheduler.AsM)(moduleRef.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);moduleRef.instance.ngDoBootstrap(appRef)}allPlatformModules.push(moduleRef)}class PlatformRef{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(_injector){this._injector=_injector}bootstrapModuleFactory(moduleFactory,options){const scheduleInRootZone=options?.scheduleInRootZone,ignoreChangesOutsideZone=options?.ignoreChangesOutsideZone,allAppProviders=[(0,debug_node.SdI)({ngZoneFactory:()=>(0,debug_node.G5x)(options?.ngZone,{...(0,debug_node.cZr)({eventCoalescing:options?.ngZoneEventCoalescing,runCoalescing:options?.ngZoneRunCoalescing}),scheduleInRootZone}),ignoreChangesOutsideZone}),{provide:root_effect_scheduler.hk6,useExisting:debug_node.Ts$},root_effect_scheduler.gv8],moduleRef=(0,debug_node.VzW)(moduleFactory.moduleType,this.injector,allAppProviders);return setModuleBootstrapImpl(),bootstrap({moduleRef,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(moduleType,compilerOptions=[]){const options=(0,debug_node.lJT)({},compilerOptions);return setModuleBootstrapImpl(),compileNgModuleFactory(this.injector,options,moduleType).then(moduleFactory=>this.bootstrapModuleFactory(moduleFactory,options))}onDestroy(callback){this._destroyListeners.push(callback)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new root_effect_scheduler.buA(404,ngDevMode&&"The platform has already been destroyed!");this._modules.slice().forEach(module=>module.destroy()),this._destroyListeners.forEach(listener=>listener());const destroyListeners=this._injector.get(PLATFORM_DESTROY_LISTENERS,null);destroyListeners&&(destroyListeners.forEach(listener=>listener()),destroyListeners.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static ɵfac=function PlatformRef_Factory(__ngFactoryType__){return new(__ngFactoryType__||PlatformRef)((0,root_effect_scheduler.KVO)(root_effect_scheduler.zZn))};static ɵprov=(0,root_effect_scheduler.jDH)({token:PlatformRef,factory:PlatformRef.ɵfac,providedIn:"platform"})}("undefined"==typeof ngDevMode||ngDevMode)&&(0,debug_node.cDI)(PlatformRef,[{type:debug_node._qm,args:[{providedIn:"platform"}]}],()=>[{type:root_effect_scheduler.zZn}],null);let _platformInjector=null;function createPlatform(injector){if(getPlatform())throw new root_effect_scheduler.buA(400,ngDevMode&&"There can be only one platform. Destroy the previous one to create a new one.");(0,debug_node.pl0)(),(0,debug_node.ypd)(),_platformInjector="undefined"!=typeof ngServerMode&&ngServerMode?null:injector;const platform=injector.get(PlatformRef);return runPlatformInitializers(injector),platform}function createPlatformFactory(parentPlatformFactory,name,providers=[]){const desc=`Platform: ${name}`,marker=new root_effect_scheduler.nKC(desc);return(extraProviders=[])=>{let platform=getPlatform();if(!platform){const platformProviders=[...providers,...extraProviders,{provide:marker,useValue:!0}];platform=parentPlatformFactory?.(platformProviders)??createPlatform(createPlatformInjector(platformProviders,desc))}return"undefined"!=typeof ngServerMode&&ngServerMode?platform:assertPlatform(marker)}}function createPlatformInjector(providers=[],name){return root_effect_scheduler.zZn.create({name,providers:[{provide:root_effect_scheduler.GBX,useValue:"platform"},{provide:PLATFORM_DESTROY_LISTENERS,useValue:new Set([()=>_platformInjector=null])},...providers]})}function assertPlatform(requiredToken){const platform=getPlatform();if(!platform)throw new root_effect_scheduler.buA(-401,ngDevMode&&"No platform exists!");if(("undefined"==typeof ngDevMode||ngDevMode)&&!platform.injector.get(requiredToken,null))throw new root_effect_scheduler.buA(400,"A platform with a different configuration has been created. Please destroy it first.");return platform}function getPlatform(){return"undefined"!=typeof ngServerMode&&ngServerMode?null:_platformInjector?.get(PlatformRef)??null}function destroyPlatform(){getPlatform()?.destroy()}function createOrReusePlatformInjector(providers=[]){if(_platformInjector)return _platformInjector;(0,debug_node.pl0)();const injector=createPlatformInjector(providers);return"undefined"!=typeof ngServerMode&&ngServerMode||(_platformInjector=injector),(0,debug_node.ypd)(),runPlatformInitializers(injector),injector}function providePlatformInitializer(initializerFn){return(0,root_effect_scheduler.EmA)([{provide:debug_node.PLl,useValue:initializerFn,multi:!0}])}function runPlatformInitializers(injector){const inits=injector.get(debug_node.PLl,null);(0,root_effect_scheduler.N4e)(injector,()=>{inits?.forEach(init=>init())})}function provideCheckNoChangesConfig(options){return(0,root_effect_scheduler.EmA)("undefined"==typeof ngDevMode||ngDevMode?[{provide:debug_node.orn,useValue:options.exhaustive},void 0!==options?.interval?(interval=options.interval,(0,root_effect_scheduler.BCV)(()=>{const applicationRef=(0,root_effect_scheduler.WQX)(debug_node.o8S),errorHandler=(0,root_effect_scheduler.WQX)(root_effect_scheduler.zcH),scheduler=(0,root_effect_scheduler.WQX)(debug_node.Ts$),ngZone=(0,root_effect_scheduler.WQX)(debug_node.SKi);!function scheduleCheckNoChanges(){ngZone.runOutsideAngular(()=>{setTimeout(()=>{if(!applicationRef.destroyed)if(scheduler.pendingRenderTaskId||scheduler.runningTick)scheduleCheckNoChanges();else{for(const view of applicationRef.allViews)try{(0,debug_node.Ssr)(view._lView,!0)}catch(e){errorHandler.handleError(e)}scheduleCheckNoChanges()}},interval)})}()})):[]]:[]);var interval}function isDevMode(){return"undefined"==typeof ngDevMode||!!ngDevMode}function enableProdMode(){("undefined"==typeof ngDevMode||ngDevMode)&&(root_effect_scheduler.laP.ngDevMode=!1)}function getModuleFactory(id){const type=(0,debug_node.SQm)(id);if(!type)throw noModuleError(id);return new debug_node.Co$(type)}function getNgModuleById(id){const type=(0,debug_node.SQm)(id);if(!type)throw noModuleError(id);return type}function noModuleError(id){return new Error(`No module with ID ${id} loaded`)}class ChangeDetectorRef{static __NG_ELEMENT_ID__=injectChangeDetectorRef}function injectChangeDetectorRef(flags){return function createViewRef(tNode,lView,isPipe){if((0,root_effect_scheduler.Qs1)(tNode)&&!isPipe){const componentView=(0,root_effect_scheduler.KdJ)(tNode.index,lView);return new debug_node.NCX(componentView,componentView)}if(175&tNode.type){const hostComponentView=lView[root_effect_scheduler.b5C];return new debug_node.NCX(hostComponentView,lView)}return null}((0,root_effect_scheduler.Mx4)(),(0,root_effect_scheduler.OAn)(),!(16&~flags))}class ViewRef extends ChangeDetectorRef{}class EmbeddedViewRef extends ViewRef{}class DefaultIterableDifferFactory{constructor(){}supports(obj){return(0,debug_node.ozJ)(obj)}create(trackByFn){return new DefaultIterableDiffer(trackByFn)}}const trackByIdentity=(index,item)=>item;class DefaultIterableDiffer{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(trackByFn){this._trackByFn=trackByFn||trackByIdentity}forEachItem(fn){let record;for(record=this._itHead;null!==record;record=record._next)fn(record)}forEachOperation(fn){let nextIt=this._itHead,nextRemove=this._removalsHead,addRemoveOffset=0,moveOffsets=null;for(;nextIt||nextRemove;){const record=!nextRemove||nextIt&&nextIt.currentIndex<getPreviousIndex(nextRemove,addRemoveOffset,moveOffsets)?nextIt:nextRemove,adjPreviousIndex=getPreviousIndex(record,addRemoveOffset,moveOffsets),currentIndex=record.currentIndex;if(record===nextRemove)addRemoveOffset--,nextRemove=nextRemove._nextRemoved;else if(nextIt=nextIt._next,null==record.previousIndex)addRemoveOffset++;else{moveOffsets||(moveOffsets=[]);const localMovePreviousIndex=adjPreviousIndex-addRemoveOffset,localCurrentIndex=currentIndex-addRemoveOffset;if(localMovePreviousIndex!=localCurrentIndex){for(let i=0;i<localMovePreviousIndex;i++){const offset=i<moveOffsets.length?moveOffsets[i]:moveOffsets[i]=0,index=offset+i;localCurrentIndex<=index&&index<localMovePreviousIndex&&(moveOffsets[i]=offset+1)}moveOffsets[record.previousIndex]=localCurrentIndex-localMovePreviousIndex}}adjPreviousIndex!==currentIndex&&fn(record,adjPreviousIndex,currentIndex)}}forEachPreviousItem(fn){let record;for(record=this._previousItHead;null!==record;record=record._nextPrevious)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachMovedItem(fn){let record;for(record=this._movesHead;null!==record;record=record._nextMoved)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}forEachIdentityChange(fn){let record;for(record=this._identityChangesHead;null!==record;record=record._nextIdentityChange)fn(record)}diff(collection){if(null==collection&&(collection=[]),!(0,debug_node.ozJ)(collection))throw new root_effect_scheduler.buA(900,ngDevMode&&`Error trying to diff '${(0,root_effect_scheduler.AsM)(collection)}'. Only arrays and iterables are allowed`);return this.check(collection)?this:null}onDestroy(){}check(collection){this._reset();let index,item,itemTrackBy,record=this._itHead,mayBeDirty=!1;if(Array.isArray(collection)){this.length=collection.length;for(let index=0;index<this.length;index++)item=collection[index],itemTrackBy=this._trackByFn(index,item),null!==record&&Object.is(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),Object.is(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next}else index=0,(0,debug_node.utN)(collection,item=>{itemTrackBy=this._trackByFn(index,item),null!==record&&Object.is(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),Object.is(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next,index++}),this.length=index;return this._truncate(record),this.collection=collection,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let record;for(record=this._previousItHead=this._itHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._additionsHead;null!==record;record=record._nextAdded)record.previousIndex=record.currentIndex;for(this._additionsHead=this._additionsTail=null,record=this._movesHead;null!==record;record=record._nextMoved)record.previousIndex=record.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(record,item,itemTrackBy,index){let previousRecord;return null===record?previousRecord=this._itTail:(previousRecord=record._prev,this._remove(record)),null!==(record=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null))?(Object.is(record.item,item)||this._addIdentityChange(record,item),this._reinsertAfter(record,previousRecord,index)):null!==(record=null===this._linkedRecords?null:this._linkedRecords.get(itemTrackBy,index))?(Object.is(record.item,item)||this._addIdentityChange(record,item),this._moveAfter(record,previousRecord,index)):record=this._addAfter(new IterableChangeRecord_(item,itemTrackBy),previousRecord,index),record}_verifyReinsertion(record,item,itemTrackBy,index){let reinsertRecord=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null);return null!==reinsertRecord?record=this._reinsertAfter(reinsertRecord,record._prev,index):record.currentIndex!=index&&(record.currentIndex=index,this._addToMoves(record,index)),record}_truncate(record){for(;null!==record;){const nextRecord=record._next;this._addToRemovals(this._unlink(record)),record=nextRecord}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(record,prevRecord,index){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(record);const prev=record._prevRemoved,next=record._nextRemoved;return null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_moveAfter(record,prevRecord,index){return this._unlink(record),this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_addAfter(record,prevRecord,index){return this._insertAfter(record,prevRecord,index),null===this._additionsTail?this._additionsTail=this._additionsHead=record:this._additionsTail=this._additionsTail._nextAdded=record,record}_insertAfter(record,prevRecord,index){const next=null===prevRecord?this._itHead:prevRecord._next;return record._next=next,record._prev=prevRecord,null===next?this._itTail=record:next._prev=record,null===prevRecord?this._itHead=record:prevRecord._next=record,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(record),record.currentIndex=index,record}_remove(record){return this._addToRemovals(this._unlink(record))}_unlink(record){null!==this._linkedRecords&&this._linkedRecords.remove(record);const prev=record._prev,next=record._next;return null===prev?this._itHead=next:prev._next=next,null===next?this._itTail=prev:next._prev=prev,record}_addToMoves(record,toIndex){return record.previousIndex===toIndex||(null===this._movesTail?this._movesTail=this._movesHead=record:this._movesTail=this._movesTail._nextMoved=record),record}_addToRemovals(record){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(record),record.currentIndex=null,record._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=record,record._prevRemoved=null):(record._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=record),record}_addIdentityChange(record,item){return record.item=item,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=record:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=record,record}}class IterableChangeRecord_{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(item,trackById){this.item=item,this.trackById=trackById}}class _DuplicateItemRecordList{_head=null;_tail=null;add(record){null===this._head?(this._head=this._tail=record,record._nextDup=null,record._prevDup=null):(this._tail._nextDup=record,record._prevDup=this._tail,record._nextDup=null,this._tail=record)}get(trackById,atOrAfterIndex){let record;for(record=this._head;null!==record;record=record._nextDup)if((null===atOrAfterIndex||atOrAfterIndex<=record.currentIndex)&&Object.is(record.trackById,trackById))return record;return null}remove(record){const prev=record._prevDup,next=record._nextDup;return null===prev?this._head=next:prev._nextDup=next,null===next?this._tail=prev:next._prevDup=prev,null===this._head}}class _DuplicateMap{map=new Map;put(record){const key=record.trackById;let duplicates=this.map.get(key);duplicates||(duplicates=new _DuplicateItemRecordList,this.map.set(key,duplicates)),duplicates.add(record)}get(trackById,atOrAfterIndex){const key=trackById,recordList=this.map.get(key);return recordList?recordList.get(trackById,atOrAfterIndex):null}remove(record){const key=record.trackById;return this.map.get(key).remove(record)&&this.map.delete(key),record}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function getPreviousIndex(item,addRemoveOffset,moveOffsets){const previousIndex=item.previousIndex;if(null===previousIndex)return previousIndex;let moveOffset=0;return moveOffsets&&previousIndex<moveOffsets.length&&(moveOffset=moveOffsets[previousIndex]),previousIndex+addRemoveOffset+moveOffset}class DefaultKeyValueDifferFactory{constructor(){}supports(obj){return obj instanceof Map||(0,debug_node.vDg)(obj)}create(){return new DefaultKeyValueDiffer}}class DefaultKeyValueDiffer{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(fn){let record;for(record=this._mapHead;null!==record;record=record._next)fn(record)}forEachPreviousItem(fn){let record;for(record=this._previousMapHead;null!==record;record=record._nextPrevious)fn(record)}forEachChangedItem(fn){let record;for(record=this._changesHead;null!==record;record=record._nextChanged)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}diff(map){if(map){if(!(map instanceof Map||(0,debug_node.vDg)(map)))throw new root_effect_scheduler.buA(900,ngDevMode&&`Error trying to diff '${(0,root_effect_scheduler.AsM)(map)}'. Only maps and objects are allowed`)}else map=new Map;return this.check(map)?this:null}onDestroy(){}check(map){this._reset();let insertBefore=this._mapHead;if(this._appendAfter=null,this._forEach(map,(value,key)=>{if(insertBefore&&insertBefore.key===key)this._maybeAddToChanges(insertBefore,value),this._appendAfter=insertBefore,insertBefore=insertBefore._next;else{const record=this._getOrCreateRecordForKey(key,value);insertBefore=this._insertBeforeOrAppend(insertBefore,record)}}),insertBefore){insertBefore._prev&&(insertBefore._prev._next=null),this._removalsHead=insertBefore;for(let record=insertBefore;null!==record;record=record._nextRemoved)record===this._mapHead&&(this._mapHead=null),this._records.delete(record.key),record._nextRemoved=record._next,record.previousValue=record.currentValue,record.currentValue=null,record._prev=null,record._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(before,record){if(before){const prev=before._prev;return record._next=before,record._prev=prev,before._prev=record,prev&&(prev._next=record),before===this._mapHead&&(this._mapHead=record),this._appendAfter=before,before}return this._appendAfter?(this._appendAfter._next=record,record._prev=this._appendAfter):this._mapHead=record,this._appendAfter=record,null}_getOrCreateRecordForKey(key,value){if(this._records.has(key)){const record=this._records.get(key);this._maybeAddToChanges(record,value);const prev=record._prev,next=record._next;return prev&&(prev._next=next),next&&(next._prev=prev),record._next=null,record._prev=null,record}const record=new KeyValueChangeRecord_(key);return this._records.set(key,record),record.currentValue=value,this._addToAdditions(record),record}_reset(){if(this.isDirty){let record;for(this._previousMapHead=this._mapHead,record=this._previousMapHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._changesHead;null!==record;record=record._nextChanged)record.previousValue=record.currentValue;for(record=this._additionsHead;null!=record;record=record._nextAdded)record.previousValue=record.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(record,newValue){Object.is(newValue,record.currentValue)||(record.previousValue=record.currentValue,record.currentValue=newValue,this._addToChanges(record))}_addToAdditions(record){null===this._additionsHead?this._additionsHead=this._additionsTail=record:(this._additionsTail._nextAdded=record,this._additionsTail=record)}_addToChanges(record){null===this._changesHead?this._changesHead=this._changesTail=record:(this._changesTail._nextChanged=record,this._changesTail=record)}_forEach(obj,fn){obj instanceof Map?obj.forEach(fn):Object.keys(obj).forEach(k=>fn(obj[k],k))}}class KeyValueChangeRecord_{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(key){this.key=key}}function defaultIterableDiffersFactory(){return new IterableDiffers([new DefaultIterableDifferFactory])}class IterableDiffers{factories;static ɵprov=(0,root_effect_scheduler.jDH)({token:IterableDiffers,providedIn:"root",factory:defaultIterableDiffersFactory});constructor(factories){this.factories=factories}static create(factories,parent){if(null!=parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new IterableDiffers(factories)}static extend(factories){return{provide:IterableDiffers,useFactory:()=>{const parent=(0,root_effect_scheduler.WQX)(IterableDiffers,{optional:!0,skipSelf:!0});return IterableDiffers.create(factories,parent||defaultIterableDiffersFactory())}}}find(iterable){const factory=this.factories.find(f=>f.supports(iterable));if(null!=factory)return factory;throw new root_effect_scheduler.buA(901,ngDevMode&&`Cannot find a differ supporting object '${iterable}' of type '${function getTypeNameForDebugging(type){return type.name||typeof type}(iterable)}'`)}}function defaultKeyValueDiffersFactory(){return new KeyValueDiffers([new DefaultKeyValueDifferFactory])}class KeyValueDiffers{static ɵprov=(0,root_effect_scheduler.jDH)({token:KeyValueDiffers,providedIn:"root",factory:defaultKeyValueDiffersFactory});factories;constructor(factories){this.factories=factories}static create(factories,parent){if(parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new KeyValueDiffers(factories)}static extend(factories){return{provide:KeyValueDiffers,useFactory:()=>{const parent=(0,root_effect_scheduler.WQX)(KeyValueDiffers,{optional:!0,skipSelf:!0});return KeyValueDiffers.create(factories,parent||defaultKeyValueDiffersFactory())}}}find(kv){const factory=this.factories.find(f=>f.supports(kv));if(factory)return factory;throw new root_effect_scheduler.buA(901,ngDevMode&&`Cannot find a differ supporting object '${kv}'`)}}const keyValDiff=[new DefaultKeyValueDifferFactory],iterableDiff=[new DefaultIterableDifferFactory],defaultIterableDiffers=new IterableDiffers(iterableDiff),defaultKeyValueDiffers=new KeyValueDiffers(keyValDiff),platformCore=createPlatformFactory(null,"core",[]);class ApplicationModule{constructor(appRef){}static ɵfac=function ApplicationModule_Factory(__ngFactoryType__){return new(__ngFactoryType__||ApplicationModule)((0,root_effect_scheduler.KVO)(debug_node.o8S))};static ɵmod=(0,debug_node.$C)({type:ApplicationModule});static ɵinj=(0,root_effect_scheduler.G2t)({})}function internalCreateApplication(config){const{rootComponent,appProviders,platformProviders,platformRef}=config;if((0,debug_node.Ef8)(8),"undefined"!=typeof ngServerMode&&ngServerMode&&!platformRef)throw new root_effect_scheduler.buA(-401,ngDevMode&&"Missing Platform: This may be due to using `bootstrapApplication` on the server without passing a `BootstrapContext`. Please make sure that `bootstrapApplication` is called with a `context` argument.");try{const platformInjector=platformRef?.injector??createOrReusePlatformInjector(platformProviders);"undefined"!=typeof ngDevMode&&!ngDevMode||void 0===rootComponent||(0,debug_node.dfE)(rootComponent);const allAppProviders=[(0,debug_node.SdI)({}),{provide:root_effect_scheduler.hk6,useExisting:debug_node.Ts$},root_effect_scheduler.gv8,...appProviders||[]];return bootstrap({r3Injector:new debug_node.bH1({providers:allAppProviders,parent:platformInjector,debugName:"undefined"==typeof ngDevMode||ngDevMode?"Environment Injector":"",runEnvironmentInitializers:!1}).injector,platformInjector,rootComponent})}catch(e){return Promise.reject(e)}finally{(0,debug_node.Ef8)(9)}}("undefined"==typeof ngDevMode||ngDevMode)&&(0,debug_node.cDI)(ApplicationModule,[{type:debug_node.UQu}],()=>[{type:debug_node.o8S}],null);const appsWithEventReplay=new WeakSet,EAGER_CONTENT_LISTENERS_KEY="";let blockEventQueue=[];function shouldEnableEventReplay(injector){return injector.get(debug_node.Kzh,debug_node.N1r)}function withEventReplay(){const providers=[{provide:debug_node.Kzh,useFactory:()=>{let isEnabled=!0;if("undefined"==typeof ngServerMode||!ngServerMode){const appId=(0,root_effect_scheduler.WQX)(debug_node.sZ2);isEnabled=!!window._ejsas?.[appId]}return isEnabled&&(0,debug_node._jY)("NgEventReplay"),isEnabled}}];return"undefined"!=typeof ngServerMode&&ngServerMode||providers.push({provide:root_effect_scheduler.Z63,useValue:()=>{const appRef=(0,root_effect_scheduler.WQX)(debug_node.o8S),{injector}=appRef;if(!appsWithEventReplay.has(appRef)){const jsActionMap=(0,root_effect_scheduler.WQX)(debug_node.mu_);if(shouldEnableEventReplay(injector)){(0,debug_node.$KE)();const appId=injector.get(debug_node.sZ2),clearStashFn=(0,debug_node.cTO)(appId,(rEl,eventName,listenerFn)=>{rEl.nodeType===Node.ELEMENT_NODE&&((0,debug_node.JeD)(rEl,eventName,listenerFn),(0,debug_node.iBR)(rEl,jsActionMap))});appRef.onDestroy(clearStashFn)}}},multi:!0},{provide:debug_node.iLQ,useFactory:()=>{const appRef=(0,root_effect_scheduler.WQX)(debug_node.o8S),{injector}=appRef;return()=>{if(!shouldEnableEventReplay(injector)||appsWithEventReplay.has(appRef))return;appsWithEventReplay.add(appRef);const appId=injector.get(debug_node.sZ2);appRef.onDestroy(()=>{appsWithEventReplay.delete(appRef),"undefined"==typeof ngServerMode||ngServerMode||clearAppScopedEarlyEventContract(appId)}),appRef.whenStable().then(()=>{if(appRef.destroyed)return;const eventContractDetails=injector.get(debug_node.SVM);initEventReplay(eventContractDetails,injector);const jsActionMap=injector.get(debug_node.mu_);jsActionMap.get(EAGER_CONTENT_LISTENERS_KEY)?.forEach(debug_node.UQZ),jsActionMap.delete(EAGER_CONTENT_LISTENERS_KEY);const eventContract=eventContractDetails.instance;(0,debug_node.ATY)(injector)?appRef.onDestroy(()=>eventContract.cleanUp()):eventContract.cleanUp()})}},multi:!0}),providers}const initEventReplay=(eventDelegation,injector)=>{const appId=injector.get(debug_node.sZ2),earlyJsactionData=window._ejsas[appId],eventContract=eventDelegation.instance=new EventContract(new EventContractContainer(earlyJsactionData.c));for(const et of earlyJsactionData.et)eventContract.addEvent(et);for(const et of earlyJsactionData.etc)eventContract.addEvent(et);const eventInfos=function getAppScopedQueuedEventInfos(appId,dataContainer=window){return function getQueuedEventInfos(earlyJsactionData){return earlyJsactionData?.q??[]}(dataContainer._ejsas?.[appId])}(appId);eventContract.replayEarlyEventInfos(eventInfos),clearAppScopedEarlyEventContract(appId);const dispatcher=new EventDispatcher(event=>{!function invokeRegisteredReplayListeners(injector,event,currentTarget){const blockName=(currentTarget&&currentTarget.getAttribute(debug_node.n$e))??"";/d\d+/.test(blockName)?function hydrateAndInvokeBlockListeners(blockName,injector,event,currentTarget){blockEventQueue.push({event,currentTarget}),(0,debug_node.DQ1)(injector,blockName,replayQueuedBlockEvents)}(blockName,injector,event,currentTarget):event.eventPhase===EventPhase_REPLAY&&(0,debug_node.c0O)(event,currentTarget)}(injector,event,event.currentTarget)});!function registerDispatcher$1(eventContract,dispatcher){eventContract.ecrd(eventInfo=>{dispatcher.dispatch(eventInfo)},Restriction.I_AM_THE_JSACTION_FRAMEWORK)}(eventContract,dispatcher)};function replayQueuedBlockEvents(hydratedBlocks){const queue=[...blockEventQueue],hydrated=new Set(hydratedBlocks);blockEventQueue=[];for(let{event,currentTarget}of queue){const blockName=currentTarget.getAttribute(debug_node.n$e);hydrated.has(blockName)?(0,debug_node.c0O)(event,currentTarget):blockEventQueue.push({event,currentTarget})}}class SerializedViewCollection{views=[];indexByContent=new Map;add(serializedView){const viewAsString=JSON.stringify(serializedView);if(!this.indexByContent.has(viewAsString)){const index=this.views.length;return this.views.push(serializedView),this.indexByContent.set(viewAsString,index),index}return this.indexByContent.get(viewAsString)}getAll(){return this.views}}let tViewSsrId=0;function getSsrId(tView){return tView.ssrId||(tView.ssrId="t"+tViewSsrId++),tView.ssrId}function calcNumRootNodes(tView,lView,tNode){const rootNodes=[];return(0,debug_node.bSP)(tView,lView,tNode,rootNodes),rootNodes.length}function calcNumRootNodesInLContainer(lContainer){const rootNodes=[];return(0,debug_node.fc5)(lContainer,rootNodes),rootNodes.length}function annotateComponentLViewForHydration(lView,context,injector){const hostElement=lView[root_effect_scheduler.jgP];return hostElement&&!hostElement.hasAttribute(debug_node.RlW)?annotateHostElementForHydration(hostElement,lView,null,context):null}function annotateLContainerForHydration(lContainer,context,injector){const componentLView=(0,root_effect_scheduler.zAe)(lContainer[root_effect_scheduler.jgP]),componentLViewNghIndex=annotateComponentLViewForHydration(componentLView,context);if(null===componentLViewNghIndex)return;const hostElement=(0,root_effect_scheduler.IvY)(componentLView[root_effect_scheduler.jgP]),finalIndex=`${componentLViewNghIndex}|${annotateHostElementForHydration(hostElement,lContainer[root_effect_scheduler.f7T],null,context)}`;componentLView[root_effect_scheduler.GpT].setAttribute(hostElement,debug_node.WPW,finalIndex)}function annotateForHydration(appRef,doc){const injector=appRef.injector,isI18nHydrationEnabledVal=(0,debug_node.cEi)(injector),isIncrementalHydrationEnabledVal=(0,debug_node.ATY)(injector),serializedViewCollection=new SerializedViewCollection,corruptedTextNodes=new Map,viewRefs=appRef._views,shouldReplayEvents=injector.get(debug_node.Kzh,debug_node.N1r),eventTypesToReplay={regular:new Set,capture:new Set},deferBlocks=new Map,appId=appRef.injector.get(debug_node.sZ2);for(const viewRef of viewRefs){const lNode=(0,debug_node.sM2)(viewRef);if(null!==lNode){const context={serializedViewCollection,corruptedTextNodes,isI18nHydrationEnabled:isI18nHydrationEnabledVal,isIncrementalHydrationEnabled:isIncrementalHydrationEnabledVal,i18nChildren:new Map,eventTypesToReplay,shouldReplayEvents,appId,deferBlocks};(0,root_effect_scheduler.A0l)(lNode)?annotateLContainerForHydration(lNode,context):annotateComponentLViewForHydration(lNode,context),insertCorruptedTextNodeMarkers(corruptedTextNodes,doc)}}const serializedViews=serializedViewCollection.getAll(),transferState=injector.get(debug_node.pJN);if(transferState.set(debug_node.TMN,serializedViews),deferBlocks.size>0){const blocks={};for(const[id,info]of deferBlocks.entries())blocks[id]=info;transferState.set(debug_node.Q$y,blocks)}return eventTypesToReplay}function serializeLContainer(lContainer,tNode,lView,parentDeferBlockId,context){const views=[];let lastViewAsString="";for(let i=root_effect_scheduler.Y20;i<lContainer.length;i++){let template,numRootNodes,serializedView,childLView=lContainer[i];if((0,root_effect_scheduler.EFk)(childLView)&&(childLView=childLView[root_effect_scheduler.Yw1],(0,root_effect_scheduler.A0l)(childLView))){numRootNodes=calcNumRootNodesInLContainer(childLView)+1,annotateLContainerForHydration(childLView,context);const componentLView=(0,root_effect_scheduler.zAe)(childLView[root_effect_scheduler.jgP]);serializedView={[debug_node.ZWI]:componentLView[root_effect_scheduler.eDl].ssrId,[debug_node.CvP]:numRootNodes}}if(!serializedView){const childTView=childLView[root_effect_scheduler.eDl];1===childTView.type?(template=childTView.ssrId,numRootNodes=1):(template=getSsrId(childTView),numRootNodes=calcNumRootNodes(childTView,childLView,childTView.firstChild)),serializedView={[debug_node.ZWI]:template,[debug_node.CvP]:numRootNodes};let isHydrateNeverBlock=!1;if((0,debug_node.qIb)(lView[root_effect_scheduler.eDl],tNode)){const lDetails=(0,debug_node.S5K)(lView,tNode),tDetails=(0,debug_node.goK)(lView[root_effect_scheduler.eDl],tNode);if(context.isIncrementalHydrationEnabled&&null!==tDetails.hydrateTriggers){const deferBlockId=`d${context.deferBlocks.size}`;tDetails.hydrateTriggers.has(7)&&(isHydrateNeverBlock=!0);let rootNodes=[];(0,debug_node.fc5)(lContainer,rootNodes);const deferBlockInfo={[debug_node.CvP]:rootNodes.length,[debug_node.vMv]:lDetails[debug_node.EHz]},serializedTriggers=serializeHydrateTriggers(tDetails.hydrateTriggers);serializedTriggers.length>0&&(deferBlockInfo[debug_node.Zq$]=serializedTriggers),null!==parentDeferBlockId&&(deferBlockInfo[debug_node.Y40]=parentDeferBlockId),context.deferBlocks.set(deferBlockId,deferBlockInfo);const node=(0,root_effect_scheduler.IvY)(lContainer);void 0!==node?node.nodeType===Node.COMMENT_NODE&&annotateDeferBlockAnchorForHydration(node,deferBlockId):(ngDevMode&&(0,debug_node.DgD)(node,childLView,tNode),ngDevMode&&(0,debug_node.Mdk)(node,Node.COMMENT_NODE,null,childLView,tNode,!0),annotateDeferBlockAnchorForHydration(node,deferBlockId)),isHydrateNeverBlock||annotateDeferBlockRootNodesWithJsAction(tDetails,rootNodes,deferBlockId,context),parentDeferBlockId=deferBlockId,serializedView[debug_node.NRt]=deferBlockId}serializedView[debug_node.vMv]=lDetails[debug_node.EHz]}isHydrateNeverBlock||Object.assign(serializedView,serializeLView(lContainer[i],parentDeferBlockId,context))}const currentViewAsString=JSON.stringify(serializedView);if(views.length>0&&currentViewAsString===lastViewAsString){const previousView=views[views.length-1];previousView[debug_node.Egq]??=1,previousView[debug_node.Egq]++}else lastViewAsString=currentViewAsString,views.push(serializedView)}return views}function serializeHydrateTriggers(triggerMap){const serializableDeferBlockTrigger=new Set([0,1,2,5]);let triggers=[];for(let[trigger,details]of triggerMap)serializableDeferBlockTrigger.has(trigger)&&(null===details?triggers.push(trigger):triggers.push({trigger,delay:details.delay}));return triggers}function appendSerializedNodePath(ngh,tNode,lView,excludedParentNodes){const noOffsetIndex=tNode.index-root_effect_scheduler.Yw1;ngh[debug_node.K3I]??={},ngh[debug_node.K3I][noOffsetIndex]??=(0,debug_node.QkG)(tNode,lView,excludedParentNodes)}function appendDisconnectedNodeIndex(ngh,tNodeOrNoOffsetIndex){const noOffsetIndex="number"==typeof tNodeOrNoOffsetIndex?tNodeOrNoOffsetIndex:tNodeOrNoOffsetIndex.index-root_effect_scheduler.Yw1;ngh[debug_node.QZz]??=[],ngh[debug_node.QZz].includes(noOffsetIndex)||ngh[debug_node.QZz].push(noOffsetIndex)}function serializeLView(lView,parentDeferBlockId=null,context){const ngh={},tView=lView[root_effect_scheduler.eDl],i18nChildren=(0,debug_node.ikV)(tView,context),nativeElementsToEventTypes=context.shouldReplayEvents?function collectDomEventsInfo(tView,lView,eventTypesToReplay){const domEventsInfo=new Map,lCleanup=lView[root_effect_scheduler.VVG],tCleanup=tView.cleanup;if(!tCleanup||!lCleanup)return domEventsInfo;for(let i=0;i<tCleanup.length;){const firstParam=tCleanup[i++],secondParam=tCleanup[i++];if("string"!=typeof firstParam)continue;const eventType=firstParam;if(!isEarlyEventType(eventType))continue;isCaptureEventType(eventType)?eventTypesToReplay.capture.add(eventType):eventTypesToReplay.regular.add(eventType);const listenerElement=(0,root_effect_scheduler.IvY)(lView[secondParam]);i++;const useCaptureOrIndx=tCleanup[i++];("boolean"==typeof useCaptureOrIndx||useCaptureOrIndx>=0)&&(domEventsInfo.has(listenerElement)?domEventsInfo.get(listenerElement).push(eventType):domEventsInfo.set(listenerElement,[eventType]))}return domEventsInfo}(tView,lView,context.eventTypesToReplay):null;for(let i=root_effect_scheduler.Yw1;i<tView.bindingStartIndex;i++){const tNode=tView.data[i],noOffsetIndex=i-root_effect_scheduler.Yw1,i18nData=(0,debug_node.n9R)(lView,i,context);if(i18nData){ngh[debug_node.cYU]??={},ngh[debug_node.cYU][noOffsetIndex]=i18nData.caseQueue;for(const nodeNoOffsetIndex of i18nData.disconnectedNodes)appendDisconnectedNodeIndex(ngh,nodeNoOffsetIndex);for(const nodeNoOffsetIndex of i18nData.disjointNodes){const tNode=tView.data[nodeNoOffsetIndex+root_effect_scheduler.Yw1];ngDevMode&&(0,root_effect_scheduler.R2n)(tNode),appendSerializedNodePath(ngh,tNode,lView,i18nChildren)}}else if((0,debug_node.m8V)(tNode)&&!(0,debug_node.qRz)(tNode))if((0,root_effect_scheduler.A0l)(lView[i])&&tNode.tView&&(ngh[debug_node.QTg]??={},ngh[debug_node.QTg][noOffsetIndex]=getSsrId(tNode.tView)),(0,debug_node.Q8v)(tNode,lView)&&isContentProjectedNode(tNode))appendDisconnectedNodeIndex(ngh,tNode);else{if(Array.isArray(tNode.projection))for(const projectionHeadTNode of tNode.projection)if(projectionHeadTNode){if(Array.isArray(projectionHeadTNode))throw(0,debug_node.BSy)((0,root_effect_scheduler.IvY)(lView[i]));(0,root_effect_scheduler.MdQ)(projectionHeadTNode)||(0,debug_node.KtD)(projectionHeadTNode)||((0,debug_node.Q8v)(projectionHeadTNode,lView)?appendDisconnectedNodeIndex(ngh,projectionHeadTNode):appendSerializedNodePath(ngh,projectionHeadTNode,lView,i18nChildren))}if(conditionallyAnnotateNodePath(ngh,tNode,lView,i18nChildren),(0,root_effect_scheduler.A0l)(lView[i])){const hostNode=lView[i][root_effect_scheduler.jgP];if(Array.isArray(hostNode)){const targetNode=(0,root_effect_scheduler.IvY)(hostNode);targetNode.hasAttribute(debug_node.RlW)||annotateHostElementForHydration(targetNode,hostNode,parentDeferBlockId,context)}ngh[debug_node.f1e]??={},ngh[debug_node.f1e][noOffsetIndex]=serializeLContainer(lView[i],tNode,lView,parentDeferBlockId,context)}else if(Array.isArray(lView[i])&&!(0,debug_node.WfU)(tNode)){const targetNode=(0,root_effect_scheduler.IvY)(lView[i][root_effect_scheduler.jgP]);targetNode.hasAttribute(debug_node.RlW)||annotateHostElementForHydration(targetNode,lView[i],parentDeferBlockId,context)}else if(8&tNode.type)ngh[debug_node.wHK]??={},ngh[debug_node.wHK][noOffsetIndex]=calcNumRootNodes(tView,lView,tNode.child);else if(144&tNode.type){let nextTNode=tNode.next;for(;null!==nextTNode&&144&nextTNode.type;)nextTNode=nextTNode.next;nextTNode&&!(0,debug_node.KtD)(nextTNode)&&appendSerializedNodePath(ngh,nextTNode,lView,i18nChildren)}else if(1&tNode.type){const rNode=(0,root_effect_scheduler.IvY)(lView[i]);(0,debug_node.smM)(context,rNode)}if(nativeElementsToEventTypes&&2&tNode.type){const nativeElement=(0,root_effect_scheduler.IvY)(lView[i]);nativeElementsToEventTypes.has(nativeElement)&&(0,debug_node.rUl)(nativeElement,nativeElementsToEventTypes.get(nativeElement),parentDeferBlockId)}}}return ngh}function conditionallyAnnotateNodePath(ngh,tNode,lView,excludedParentNodes){(0,root_effect_scheduler.MdQ)(tNode)||(tNode.projectionNext&&tNode.projectionNext!==tNode.next&&!(0,debug_node.KtD)(tNode.projectionNext)&&appendSerializedNodePath(ngh,tNode.projectionNext,lView,excludedParentNodes),null===tNode.prev&&null!==tNode.parent&&(0,debug_node.Q8v)(tNode.parent,lView)&&!(0,debug_node.Q8v)(tNode,lView)&&appendSerializedNodePath(ngh,tNode,lView,excludedParentNodes))}function annotateHostElementForHydration(element,lView,parentDeferBlockId,context){const renderer=lView[root_effect_scheduler.GpT];if((0,root_effect_scheduler.NtR)(lView)&&!(0,debug_node.vBu)()||function componentUsesShadowDomEncapsulation(lView){const instance=lView[root_effect_scheduler.SKP];return!!instance?.constructor&&(0,root_effect_scheduler.xUg)(instance.constructor)?.encapsulation===debug_node.gXe.ShadowDom}(lView))return renderer.setAttribute(element,debug_node.RlW,""),null;{const ngh=serializeLView(lView,parentDeferBlockId,context),index=context.serializedViewCollection.add(ngh);return renderer.setAttribute(element,debug_node.WPW,index.toString()),index}}function annotateDeferBlockAnchorForHydration(comment,deferBlockId){comment.textContent=`ngh=${deferBlockId}`}function insertCorruptedTextNodeMarkers(corruptedTextNodes,doc){for(const[textNode,marker]of corruptedTextNodes)textNode.after(doc.createComment(marker))}function isContentProjectedNode(tNode){let currentTNode=tNode;for(;null!=currentTNode;){if((0,root_effect_scheduler.Qs1)(currentTNode))return!0;currentTNode=currentTNode.parent}return!1}function annotateDeferBlockRootNodesWithJsAction(tDetails,rootNodes,parentDeferBlockId,context){const actionList=(0,debug_node.QoY)(tDetails.hydrateTriggers);for(let et of actionList)context.eventTypesToReplay.regular.add(et);if(actionList.length>0){const elementNodes=rootNodes.filter(rn=>rn.nodeType===Node.ELEMENT_NODE);for(let rNode of elementNodes)(0,debug_node.rUl)(rNode,actionList,parentDeferBlockId)}}let isHydrationSupportEnabled=!1,isI18nHydrationRuntimeSupportEnabled=!1,isIncrementalHydrationRuntimeSupportEnabled=!1;const APPLICATION_IS_STABLE_TIMEOUT=1e4;function whenStableWithTimeout(appRef){const whenStablePromise=appRef.whenStable();if("undefined"!=typeof ngDevMode&&ngDevMode){const timeoutTime=APPLICATION_IS_STABLE_TIMEOUT,console=appRef.injector.get(debug_node.C7A),timeoutId=appRef.injector.get(debug_node.SKi).runOutsideAngular(()=>setTimeout(()=>function logWarningOnStableTimedout(time,console){const message=`Angular hydration expected the ApplicationRef.isStable() to emit \`true\`, but it didn't happen within ${time}ms. Angular hydration logic depends on the application becoming stable as a signal to complete hydration process.`;console.warn((0,root_effect_scheduler.OsK)(-506,message))}(timeoutTime,console),timeoutTime));whenStablePromise.finally(()=>clearTimeout(timeoutId))}return whenStablePromise}const CLIENT_RENDER_MODE_FLAG="ngcm";function withDomHydration(){const providers=[{provide:debug_node.qBF,useFactory:()=>{let isEnabled=!0;if("undefined"==typeof ngServerMode||!ngServerMode){const transferState=(0,root_effect_scheduler.WQX)(debug_node.pJN,{optional:!0});isEnabled=!!transferState?.get(debug_node.TMN,null)}return isEnabled&&(0,debug_node._jY)("NgHydration"),isEnabled}},{provide:root_effect_scheduler.Z63,useValue:()=>{if((0,debug_node.pDL)(!1),"undefined"==typeof ngServerMode||!ngServerMode)if((0,root_effect_scheduler.WQX)(debug_node.qBF))(0,debug_node.bRx)((0,debug_node.YEm)()),function enableHydrationRuntimeSupport(){isHydrationSupportEnabled||(isHydrationSupportEnabled=!0,(0,debug_node.yJU)(),(0,debug_node.hkx)(),(0,debug_node.SML)(),(0,debug_node.Qdn)(),(0,debug_node.XSi)(),(0,debug_node.L8h)(),(0,debug_node.xtN)(),(0,debug_node.UJm)())}();else if("undefined"!=typeof ngDevMode&&ngDevMode&&!function isClientRenderModeEnabled(){const doc=(0,debug_node.YEm)();return("undefined"==typeof ngServerMode||!ngServerMode)&&doc.body.hasAttribute(CLIENT_RENDER_MODE_FLAG)}()){const console=(0,root_effect_scheduler.WQX)(debug_node.C7A),message=(0,root_effect_scheduler.OsK)(-505,"Angular hydration was requested on the client, but there was no serialized information present in the server response, thus hydration was not enabled. Make sure the `provideClientHydration()` is included into the list of providers in the server part of the application configuration.");console.warn(message)}},multi:!0}];return"undefined"!=typeof ngServerMode&&ngServerMode||providers.push({provide:debug_node.uzI,useFactory:()=>(0,root_effect_scheduler.WQX)(debug_node.qBF)},{provide:debug_node.iLQ,useFactory:()=>{if((0,root_effect_scheduler.WQX)(debug_node.qBF)){const appRef=(0,root_effect_scheduler.WQX)(debug_node.o8S);return()=>{whenStableWithTimeout(appRef).then(()=>{appRef.destroyed||((0,debug_node.LN$)(appRef),"undefined"!=typeof ngDevMode&&ngDevMode&&((0,debug_node.tDU)(appRef.injector),function printHydrationStats(injector){const console=injector.get(debug_node.C7A),message=`Angular hydrated ${ngDevMode.hydratedComponents} component(s) and ${ngDevMode.hydratedNodes} node(s), ${ngDevMode.componentsSkippedHydration} component(s) were skipped. `+((0,debug_node.ATY)(injector)?`${ngDevMode.deferBlocksWithIncrementalHydration} defer block(s) were configured to use incremental hydration. `:"")+"Learn more at https://angular.dev/guide/hydration.";console.log(message)}(appRef.injector)))})}}return()=>{}},multi:!0}),(0,root_effect_scheduler.EmA)(providers)}function withI18nSupport(){return[{provide:debug_node.x4E,useFactory:()=>(0,root_effect_scheduler.WQX)(debug_node.qBF)},{provide:root_effect_scheduler.Z63,useValue:()=>{(0,root_effect_scheduler.WQX)(debug_node.qBF)&&(!function enableI18nHydrationRuntimeSupport(){isI18nHydrationRuntimeSupportEnabled||(isI18nHydrationRuntimeSupportEnabled=!0,(0,debug_node.L_O)(),(0,debug_node.La1)(),(0,debug_node.dK5)())}(),(0,debug_node.pDL)(!0),(0,debug_node._jY)("NgI18nHydration"))},multi:!0}]}function withIncrementalHydration(){const providers=[withEventReplay(),{provide:debug_node.njN,useValue:!0},{provide:debug_node.Ryq,useClass:debug_node.XcC},{provide:root_effect_scheduler.Z63,useValue:()=>{!function enableIncrementalHydrationRuntimeSupport(){isIncrementalHydrationRuntimeSupportEnabled||(isIncrementalHydrationRuntimeSupportEnabled=!0,(0,debug_node.NyN)())}(),(0,debug_node._jY)("NgIncrementalHydration")},multi:!0}];return"undefined"!=typeof ngServerMode&&ngServerMode||providers.push({provide:debug_node.iLQ,useFactory:()=>{const injector=(0,root_effect_scheduler.WQX)(root_effect_scheduler.zZn),doc=(0,debug_node.YEm)();return()=>{const deferBlockData=(0,debug_node.$qc)(injector),commentsByBlockId=(0,debug_node.ylm)(doc,doc.body);(0,debug_node.cnB)(injector,deferBlockData,commentsByBlockId),(0,debug_node.d48)(doc,injector)}},multi:!0}),providers}function booleanAttribute(value){return"boolean"==typeof value?value:null!=value&&"false"!==value}function numberAttribute(value,fallbackValue=NaN){return!isNaN(parseFloat(value))&&!isNaN(Number(value))?Number(value):fallbackValue}const PERFORMANCE_MARK_PREFIX="🅰️";let enablePerfLogging=!1;function startMeasuring(label){if(!enablePerfLogging)return;const{startLabel}=labels(label);performance.mark(startLabel)}function stopMeasuring(label){if(!enablePerfLogging)return;const{startLabel,labelName,endLabel}=labels(label);performance.mark(endLabel),performance.measure(labelName,startLabel,endLabel),performance.clearMarks(startLabel),performance.clearMarks(endLabel)}function labels(label){const labelName=`${PERFORMANCE_MARK_PREFIX}:${label}`;return{labelName,startLabel:`start:${labelName}`,endLabel:`end:${labelName}`}}let warningLogged=!1;function enableProfiling(){if(!(warningLogged||"undefined"!=typeof performance&&performance.mark&&performance.measure))return warningLogged=!0,void console.warn("Performance API is not supported on this platform");enablePerfLogging=!0}function disableProfiling(){enablePerfLogging=!1}function getClosestComponentName(node){let currentNode=node;for(;currentNode;){const lView=(0,debug_node.D36)(currentNode);if(null!==lView)for(let i=root_effect_scheduler.Yw1;i<lView.length;i++){const current=lView[i];if(!(0,root_effect_scheduler.q$2)(current)&&!(0,root_effect_scheduler.A0l)(current)||current[root_effect_scheduler.jgP]!==currentNode)continue;const tView=lView[root_effect_scheduler.eDl],tNode=(0,root_effect_scheduler.XRZ)(tView,i);if((0,root_effect_scheduler.Qs1)(tNode)){const def=tView.data[tNode.directiveStart+tNode.componentOffset],name=def.debugInfo?.className||def.type.name;if(name)return name;break}}currentNode=currentNode.parentNode}return null}function ɵassertType(value){}function ɵɵngDeclareDirective(decl){return(0,debug_node.uiO)({usage:1,kind:"directive",type:decl.type}).compileDirectiveDeclaration(debug_node.r1f,`ng:///${decl.type.name}/ɵfac.js`,decl)}function ɵɵngDeclareClassMetadata(decl){(0,debug_node.cDI)(decl.type,decl.decorators,decl.ctorParameters??null,decl.propDecorators??null)}function ɵɵngDeclareClassMetadataAsync(decl){(0,debug_node.mqX)(decl.type,decl.resolveDeferredDeps,(...types)=>{const meta=decl.resolveMetadata(...types);(0,debug_node.cDI)(decl.type,meta.decorators,meta.ctorParameters,meta.propDecorators)})}function ɵɵngDeclareComponent(decl){return(0,debug_node.uiO)({usage:1,kind:"component",type:decl.type}).compileComponentDeclaration(debug_node.r1f,`ng:///${decl.type.name}/ɵcmp.js`,decl)}function ɵɵngDeclareFactory(decl){return(0,debug_node.uiO)({usage:1,kind:getFactoryKind(decl.target),type:decl.type}).compileFactoryDeclaration(debug_node.r1f,`ng:///${decl.type.name}/ɵfac.js`,decl)}function getFactoryKind(target){switch(target){case FactoryTarget.Directive:return"directive";case FactoryTarget.Component:return"component";case FactoryTarget.Injectable:return"injectable";case FactoryTarget.Pipe:return"pipe";case FactoryTarget.NgModule:return"NgModule"}}function ɵɵngDeclareInjectable(decl){return(0,debug_node.uiO)({usage:1,kind:"injectable",type:decl.type}).compileInjectableDeclaration(debug_node.r1f,`ng:///${decl.type.name}/ɵprov.js`,decl)}function ɵɵngDeclareInjector(decl){return(0,debug_node.uiO)({usage:1,kind:"NgModule",type:decl.type}).compileInjectorDeclaration(debug_node.r1f,`ng:///${decl.type.name}/ɵinj.js`,decl)}function ɵɵngDeclareNgModule(decl){return(0,debug_node.uiO)({usage:1,kind:"NgModule",type:decl.type}).compileNgModuleDeclaration(debug_node.r1f,`ng:///${decl.type.name}/ɵmod.js`,decl)}function ɵɵngDeclarePipe(decl){return(0,debug_node.uiO)({usage:1,kind:"pipe",type:decl.type}).compilePipeDeclaration(debug_node.r1f,`ng:///${decl.type.name}/ɵpipe.js`,decl)}const NOT_SET=Symbol("NOT_SET"),EMPTY_CLEANUP_SET=new Set,AFTER_RENDER_PHASE_EFFECT_NODE=(()=>({...signal.s0,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:NOT_SET,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(null===this.sequence.lastPhase||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(previousValue){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==NOT_SET&&!(0,signal.si)(this))return this.signal;try{for(const cleanupFn of this.cleanup??EMPTY_CLEANUP_SET)cleanupFn()}finally{this.cleanup?.clear()}const args=[];void 0!==previousValue&&args.push(previousValue),args.push(this.registerCleanupFn);const prevConsumer=(0,signal.Bg)(this);let newValue;try{newValue=this.userFn.apply(null,args)}finally{(0,signal.Wu)(this,prevConsumer)}return this.value!==NOT_SET&&this.equal(this.value,newValue)||(this.value=newValue,this.version++),this.signal}}))();class AfterRenderEffectSequence extends debug_node._ys{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(impl,effectHooks,view,scheduler,injector,snapshot=null){super(impl,[void 0,void 0,void 0,void 0],view,!1,injector.get(root_effect_scheduler.abz),snapshot),this.scheduler=scheduler;for(const phase of debug_node.zoo){const effectHook=effectHooks[phase];if(void 0===effectHook)continue;const node=Object.create(AFTER_RENDER_PHASE_EFFECT_NODE);node.sequence=this,node.phase=phase,node.userFn=effectHook,node.dirty=!0,node.signal=()=>((0,signal.mK)(node),node.value),node.signal[signal.bh]=node,node.registerCleanupFn=fn=>(node.cleanup??=new Set).add(fn),this.nodes[phase]=node,this.hooks[phase]=value=>node.phaseFn(value),ngDevMode&&setupDebugInfo(node,injector)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(const node of this.nodes)if(node)try{for(const fn of node.cleanup??EMPTY_CLEANUP_SET)fn()}finally{(0,signal.XR)(node)}}}function afterRenderEffect(callbackOrSpec,options){if(ngDevMode&&(0,root_effect_scheduler.tdH)(afterRenderEffect,"Call `afterRenderEffect` outside of a reactive context. For example, create the render effect inside the component constructor`."),ngDevMode&&!options?.injector&&(0,root_effect_scheduler.Af3)(afterRenderEffect),"undefined"!=typeof ngServerMode&&ngServerMode)return debug_node.nI4;const injector=options?.injector??(0,root_effect_scheduler.WQX)(root_effect_scheduler.zZn),scheduler=injector.get(root_effect_scheduler.hk6),manager=injector.get(debug_node.cf$),tracing=injector.get(debug_node.a8H,null,{optional:!0});manager.impl??=injector.get(debug_node.ziy);let spec=callbackOrSpec;"function"==typeof spec&&(spec={mixedReadWrite:callbackOrSpec});const viewContext=injector.get(root_effect_scheduler.r4V,null,{optional:!0}),sequence=new AfterRenderEffectSequence(manager.impl,[spec.earlyRead,spec.write,spec.mixedReadWrite,spec.read],viewContext?.view,scheduler,injector,tracing?.snapshot(null));return manager.impl.register(sequence),sequence}function setupDebugInfo(node,injector){node.debugName=`afterRenderEffect - ${function phaseDebugName(phase){switch(phase){case 0:return"EarlyRead";case 1:return"Write";case 2:return"MixedReadWrite";case 3:return"Read"}}(node.phase)} phase`;const prevInjectorProfilerContext=(0,root_effect_scheduler.DFp)({injector,token:null});try{(0,root_effect_scheduler.zuh)({[signal.bh]:node,destroy(){}})}finally{(0,root_effect_scheduler.DFp)(prevInjectorProfilerContext)}}function createComponent(component,options){ngDevMode&&(0,debug_node.NOj)(component);const componentDef=(0,root_effect_scheduler.xUg)(component),elementInjector=options.elementInjector||(0,root_effect_scheduler.WB9)();return new debug_node.eHC(componentDef).create(elementInjector,options.projectableNodes,options.hostElement,options.environmentInjector,options.directives,options.bindings)}function reflectComponentType(component){const componentDef=(0,root_effect_scheduler.xUg)(component);if(!componentDef)return null;const factory=new debug_node.eHC(componentDef);return{get selector(){return factory.selector},get type(){return factory.componentType},get inputs(){return factory.inputs},get outputs(){return factory.outputs},get ngContentSelectors(){return factory.ngContentSelectors},get isStandalone(){return componentDef.standalone},get isSignal(){return componentDef.signals}}}function mergeApplicationConfig(...configs){return configs.reduce((prev,curr)=>Object.assign(prev,curr,{providers:[...prev.providers,...curr.providers]}),{providers:[]})}const REQUEST=new root_effect_scheduler.nKC("undefined"==typeof ngDevMode||ngDevMode?"REQUEST":"",{providedIn:"platform",factory:()=>null}),RESPONSE_INIT=new root_effect_scheduler.nKC("undefined"==typeof ngDevMode||ngDevMode?"RESPONSE_INIT":"",{providedIn:"platform",factory:()=>null}),REQUEST_CONTEXT=new root_effect_scheduler.nKC("undefined"==typeof ngDevMode||ngDevMode?"REQUEST_CONTEXT":"",{providedIn:"platform",factory:()=>null})},"./node_modules/@angular/core/fesm2022/debug_node.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$C:()=>ɵɵdefineNgModule,$KE:()=>enableStashEventListenerImpl,$Ln:()=>TESTABILITY_GETTER,$RC:()=>compileComponent,$dP:()=>flushModuleScopingQueueAsMuchAsPossible,$dS:()=>ɵɵsanitizeStyle,$qc:()=>processBlockData,$xL:()=>ɵɵdeferPrefetchOnInteraction,AN5:()=>ɵɵdeferPrefetchOnTimer,AQ1:()=>ɵɵdomElementContainer,ATY:()=>isIncrementalHydrationEnabled,AVh:()=>ɵɵclassProp,Ab1:()=>NgModuleRef$1,Aen:()=>ɵɵstyleMap,Agw:()=>PLATFORM_ID,Avn:()=>ɵɵdomProperty,B$B:()=>Self,B1s:()=>bypassSanitizationTrustUrl,B4B:()=>ɵɵsanitizeUrl,BIS:()=>CSP_NONCE,BMQ:()=>ɵɵattribute,BSy:()=>unsupportedProjectionOfDomNodes,BUC:()=>ɵɵcomponentInstance,BUe:()=>ɵɵdeferOnTimer,BXs:()=>asNativeElements,C4Q:()=>TemplateRef,C5r:()=>ɵɵtemplateRefExtractor,C6U:()=>ɵɵcontentQuerySignal,C7A:()=>Console,CkJ:()=>CUSTOM_ELEMENTS_SCHEMA,Co$:()=>NgModuleFactory,Cpm:()=>getAsyncClassMetadataFn,CsU:()=>publishExternalGlobalUtil,CvP:()=>NUM_ROOT_NODES,D36:()=>readPatchedLView,DG8:()=>ANIMATIONS_DISABLED,DH7:()=>ɵɵtwoWayBindingSet,DNE:()=>ɵɵtemplate,DQ1:()=>triggerHydrationFromBlockName,DUP:()=>allLeavingAnimations,DZS:()=>readHydrationInfo,D_2:()=>ɵɵdeferHydrateOnInteraction,Ded:()=>resetCompiledComponents,DgD:()=>validateNodeExists,DkB:()=>DEFAULT_LOCALE_ID,DnF:()=>DeferBlockState,Dyx:()=>ɵɵrepeater,E5c:()=>ɵɵtextInterpolate3,EBC:()=>ɵɵresolveDocument,EFF:()=>ɵɵtext,EHz:()=>DEFER_BLOCK_STATE,EJ8:()=>ɵɵdefinePipe,EOD:()=>registerLocaleData,Ef8:()=>profiler,Egq:()=>MULTIPLIER,EmY:()=>NO_ERRORS_SCHEMA,FRM:()=>SimpleChange,FW2:()=>compileNgModuleDefs,Fp:()=>inferTagNameFromDefinition,FsC:()=>ɵɵdefineDirective,FuF:()=>createMultiResultQuerySignalFn,G5x:()=>getNgZone,GAm:()=>DebugNode,GBs:()=>ɵɵviewQuery,GaJ:()=>ɵgetUnknownElementStrictMode,H1s:()=>ApplicationInitStatus,H6$:()=>ɵɵinterpolate7,HbH:()=>ɵɵclassMap,HdQ:()=>ɵɵdeferOnImmediate,Hd_:()=>ɵsetUnknownPropertyStrictMode,Hgh:()=>ɵɵdomElement,Hlh:()=>renderDeferBlockState,Ifp:()=>Sanitizer,JRh:()=>ɵɵtextInterpolate,JT1:()=>registerNgModuleType,JeD:()=>sharedStashFunction,Jn2:()=>provideZoneChangeDetection,Jt5:()=>getLocalePluralCase,Jv_:()=>ɵɵProvidersFeature,K3I:()=>NODES,KA5:()=>MAX_ANIMATION_TIMEOUT,KED:()=>setJitOptions,KIx:()=>DebugElement,KSk:()=>ɵɵdeferOnInteraction,Kam:()=>ɵɵsyntheticHostListener,KtD:()=>isInSkipHydrationBlock,Kzh:()=>IS_EVENT_REPLAY_ENABLED,L8h:()=>enableLocateOrCreateContainerRefImpl,LHq:()=>ɵɵtextInterpolate4,LJX:()=>ɵɵanimateLeaveListener,LN$:()=>cleanupDehydratedViews,LVR:()=>ɵɵdeferWhen,L_O:()=>enableLocateOrCreateI18nNodeImpl,La1:()=>enablePrepareI18nBlockForHydrationImpl,Ld:()=>ɵɵtextInterpolate8,Lme:()=>ɵɵtextInterpolate2,Lp4:()=>TRANSLATIONS_FORMAT,LsU:()=>ɵsetClassDebugInfo,MZY:()=>SSR_CONTENT_INTEGRITY_MARKER,Mdk:()=>validateMatchingNode,Mlj:()=>DEFER_BLOCK_CONFIG,N1r:()=>EVENT_REPLAY_ENABLED_DEFAULT,NAR:()=>ɵɵprojectionDef,NCX:()=>ViewRef,NEm:()=>NgProbeToken,NOj:()=>assertComponentDef,NRt:()=>DEFER_BLOCK_ID,NSC:()=>LocaleDataIndex,NYb:()=>Testability,N_X:()=>ɵɵresolveBody,Ngq:()=>ChangeDetectionStrategy,NyB:()=>ɵɵqueryAdvance,NyN:()=>enableRetrieveDeferBlockDataImpl,O1M:()=>isBoundToModule,OA$:()=>ɵɵNgOnChangesFeature,OIn:()=>ɵɵinterpolate6,OM3:()=>ComponentFactoryResolver$1,OP0:()=>ɵɵtrustConstantHtml,OR8:()=>isNgModule,Obh:()=>ɵɵsetNgModuleScope,Ocv:()=>DEFAULT_CURRENCY_CODE,OfE:()=>CompilerFactory,Ol2:()=>createEnvironmentInjector,Otf:()=>ɵɵinterpolate8,Ou5:()=>unregisterAllLocaleData,P4o:()=>ɵɵgetReplaceMetadataURL,PDb:()=>compileNgModule,PLl:()=>PLATFORM_INITIALIZER,PLo:()=>ɵɵi18nStart,PYC:()=>bypassSanitizationTrustHtml,PYt:()=>NgModuleFactory$1,PeT:()=>ɵɵdomTemplate,Peg:()=>setAllowDuplicateNgModuleIdsForTest,Po0:()=>HydrationStatus,Q$y:()=>NGH_DEFER_BLOCKS_KEY,Q8v:()=>isDisconnectedNode,QEn:()=>transitiveScopesFor,QMp:()=>compilePipe,QR4:()=>ɵɵanimateEnter,QTQ:()=>ɵɵinvalidFactory,QTg:()=>TEMPLATES,QZz:()=>DISCONNECTED_NODES,Qdn:()=>enableLocateOrCreateElementContainerNodeImpl,QkG:()=>calcPathForNode,Ql9:()=>Compiler,QoY:()=>convertHydrateTriggersToJsAction,R3q:()=>provideNgReflectAttributes,R50:()=>ɵɵtwoWayProperty,R7$:()=>ɵɵadvance,RN$:()=>makePropDecorator,RPW:()=>bypassSanitizationTrustResourceUrl,RV6:()=>ɵɵgetCurrentView,Rcz:()=>ɵɵdeferHydrateOnHover,RlW:()=>SKIP_HYDRATION_ATTR_NAME,Ryq:()=>DEHYDRATED_BLOCK_REGISTRY,S5K:()=>getLDeferBlockDetails,S7R:()=>ModuleWithComponentFactories,SEQ:()=>ɵɵtextInterpolate7,SKi:()=>NgZone,SML:()=>enableLocateOrCreateTextNodeImpl,SQm:()=>getRegisteredNgModuleType,SS7:()=>ɵɵdeclareLet,SVM:()=>JSACTION_EVENT_CONTRACT,SdG:()=>ɵɵprojection,SdI:()=>internalProvideZoneChangeDetection,SjE:()=>ɵɵtextInterpolate5,SpI:()=>ɵɵtextInterpolate1,SqE:()=>inputBinding,Ssr:()=>checkNoChangesInternal,T$4:()=>ɵɵdeferEnableTimerScheduling,TDp:()=>noSideEffects,TFI:()=>remove,TI_:()=>AcxChangeDetectionStrategy,TMN:()=>NGH_DATA_KEY,TMq:()=>ɵɵsanitizeScript,Ts$:()=>ChangeDetectionSchedulerImpl,UFQ:()=>DebugEventListener,UJm:()=>enableApplyRootElementTransformImpl,UQZ:()=>removeListeners,UQu:()=>NgModule,UoJ:()=>ɵɵdeferOnHover,V5L:()=>PROVIDED_NG_ZONE,VBU:()=>ɵɵdefineComponent,VDI:()=>getLocaleCurrencyCode,VFN:()=>ɵɵinterpolate3,VeQ:()=>IMAGE_CONFIG,Vj4:()=>resetJitOptions,VkB:()=>ɵɵinterpolate1,Vm6:()=>ɵɵrepeaterTrackByIndex,Vns:()=>NgModuleRef,VqF:()=>ɵɵinterpolate5,Vt3:()=>ɵɵInheritDefinitionFeature,VwU:()=>ɵɵdomListener,VzW:()=>createNgModuleRefWithProviders,WDK:()=>ɵɵdeferHydrateOnImmediate,WLR:()=>Directive,WPN:()=>SecurityContext,WPW:()=>NGH_ATTR_NAME,WeM:()=>afterEveryRender,WfU:()=>isLetDeclaration,Wk0:()=>ɵɵanimateEnterListener,X22:()=>DEFER_BLOCK_DEPENDENCY_INTERCEPTOR,XGJ:()=>NO_CHANGE,XKJ:()=>ReflectionCapabilities,XSi:()=>enableLocateOrCreateContainerAnchorImpl,XSp:()=>ɵɵdeferHydrateOnViewport,XcC:()=>DehydratedBlockRegistry,XpG:()=>ɵɵnextContext,Xx1:()=>Optional,Y40:()=>DEFER_PARENT_BLOCK_ID,Y8G:()=>ɵɵproperty,YEm:()=>getDocument,YFu:()=>ɵɵi18nEnd,Ymk:()=>ɵɵdeferHydrateNever,Z$l:()=>HostListener,Z7z:()=>ɵɵrepeaterCreate,ZDP:()=>ɵɵCopyDefinitionFeature,ZKm:()=>depsTracker,ZUJ:()=>Type,ZWI:()=>TEMPLATE_ID,ZX9:()=>generateStandaloneInDeclarationsError,ZXR:()=>ɵɵtextInterpolate6,Za0:()=>restoreComponentResolutionQueue,Zhj:()=>resolveComponentResources,Zht:()=>ɵɵdomElementContainerEnd,Zq$:()=>DEFER_HYDRATE_TRIGGERS,ZtX:()=>MissingTranslationStrategy,_46:()=>ɵɵgetComponentDepsFactory,_9s:()=>RendererFactory2,_9u:()=>setDocument,_KS:()=>enableProfiling,_jY:()=>performanceMarkFeature,_qm:()=>Injectable,_ys:()=>AfterRenderSequence,a4y:()=>setTestabilityGetter,a5S:()=>ɵɵinterpolate4,a8H:()=>TracingService,aCM:()=>unwrapSafeValue,aGu:()=>ɵɵExternalStylesFeature,aKT:()=>ElementRef,ai1:()=>ɵɵinterpolate2,ajQ:()=>LContext,aqp:()=>ɵɵdeferPrefetchOnImmediate,b5y:()=>TRANSLATIONS,bH1:()=>EnvironmentNgModuleRefAdapter,bH3:()=>ɵɵstoreLet,bIt:()=>ɵɵlistener,bMT:()=>ɵɵpipeBind1,bRx:()=>verifySsrContentsIntegrity,bSP:()=>collectNativeNodes,bVm:()=>ɵɵelementContainerEnd,bc$:()=>ANIMATION_MODULE_TYPE,bkB:()=>EventEmitter,brH:()=>ɵɵpipeBind3,c0O:()=>invokeListeners,c1b:()=>ViewContainerRef,cDI:()=>setClassMetadata,cEi:()=>isI18nHydrationEnabled,cTO:()=>setStashFn,cYU:()=>I18N_DATA,cZr:()=>getNgZoneOptions,cdK:()=>isSubscribable,cf$:()=>AfterRenderManager,cgM:()=>markForRefresh,cnB:()=>processAndInitTriggers,czy:()=>RendererStyleFlags2,d48:()=>appendDeferBlocksToJSActionMap,d80:()=>COMPILER_OPTIONS,dK5:()=>enableClaimDehydratedIcuCaseImpl,dOL:()=>TESTABILITY,dTB:()=>Framework,dfE:()=>assertStandaloneComponentType,di$:()=>getTransferState,e6s:()=>setLocaleId,eHC:()=>ComponentFactory,eX9:()=>AcxViewEncapsulation,ehv:()=>ɵɵi18nAttributes,eq3:()=>ɵɵpureFunction1,eu8:()=>ɵɵelementContainer,eux:()=>ɵɵdomElementEnd,f$h:()=>ɵɵsanitizeResourceUrl,f1e:()=>CONTAINERS,f7o:()=>outputBinding,fWk:()=>createNgModuleRef,fX1:()=>ɵɵrepeaterTrackByIdentity,fc5:()=>collectNativeNodesInLContainer,g$6:()=>HostBinding,g25:()=>ɵɵdeferOnIdle,gXe:()=>ViewEncapsulation,gZZ:()=>provideZonelessChangeDetection,giA:()=>TestabilityRegistry,gil:()=>_sanitizeUrl,goK:()=>getTDeferBlockDetails,hkx:()=>enableLocateOrCreateElementNodeImpl,hnC:()=>createSingleResultRequiredQuerySignalFn,hnV:()=>APP_INITIALIZER,i5U:()=>ɵɵpipeBind2,iBR:()=>sharedMapFunction,iHH:()=>ɵɵdomElementContainerStart,iJd:()=>ɵɵpipeBindV,iLQ:()=>APP_BOOTSTRAP_LISTENER,iWE:()=>allowSanitizationBypassAndThrow,ii3:()=>ɵɵpipeBind4,ik9:()=>clearResolutionOfComponentResourcesQueue,ikV:()=>getOrComputeI18nChildren,j41:()=>ɵɵelementStart,j9$:()=>ɵɵdeferPrefetchOnViewport,jOp:()=>ɵɵariaProperty,jW3:()=>ɵɵdeferHydrateOnIdle,jbH:()=>ɵɵdeferPrefetchOnIdle,jdi:()=>patchComponentDefWithScope,jqK:()=>compileDirective,k04:()=>ɵɵi18nPostprocess,k0s:()=>ɵɵelementEnd,k7i:()=>Output,kBR:()=>findLocaleData,kNo:()=>ɵɵreplaceMetadata,kS0:()=>ɵɵinjectAttribute,kdw:()=>SkipSelf,knv:()=>getLContext,kx9:()=>ɵsetUnknownElementStrictMode,l4e:()=>ɵɵpureFunction6,lJ4:()=>ɵɵpureFunction0,lJT:()=>optionsReducer,lV:()=>ɵɵpureFunction8,l_i:()=>ɵɵpureFunction2,lgU:()=>devModeEqual,lsd:()=>ɵɵloadQuery,lzW:()=>ɵɵvalidateAttribute,m8V:()=>isTNodeShape,mCi:()=>ɵɵdeferHydrateWhen,mGM:()=>ɵɵqueryRefresh,mNQ:()=>ɵɵinterpolate,mU9:()=>createSingleResultOptionalQuerySignalFn,mY:()=>IMAGE_CONFIG_DEFAULTS,mal:()=>afterNextRender,mqX:()=>setClassMetadataAsync,mu_:()=>JSACTION_BLOCK_ELEMENT_MAP,mxI:()=>ɵɵtwoWayListener,myG:()=>NoopNgZone,n$e:()=>DEFER_BLOCK_SSR_ID_ATTRIBUTE,n$t:()=>ɵɵsanitizeUrlOrResourceUrl,n5O:()=>triggerResourceLoading,n9R:()=>trySerializeI18nBlock,nI1:()=>ɵɵpipe,nI4:()=>NOOP_AFTER_RENDER_REF,nM4:()=>ɵɵHostDirectivesFeature,nT_:()=>Pipe,nVh:()=>ɵɵconditionalCreate,nWp:()=>Attribute,njN:()=>IS_INCREMENTAL_HYDRATION_ENABLED,nnv:()=>ɵɵi18nApply,npT:()=>ɵɵsanitizeHtml,nrm:()=>ɵɵelement,nv$:()=>ɵɵdefer,o6I:()=>ɵɵdeferPrefetchWhen,o8S:()=>ApplicationRef,oP1:()=>ɵɵinterpolateV,okJ:()=>ComponentRef,orn:()=>UseExhaustiveCheckNoChanges,ozJ:()=>isListLikeIterable,p2i:()=>bypassSanitizationTrustScript,pDL:()=>setIsI18nHydrationSupportEnabled,pDl:()=>TimerScheduler,pJN:()=>TransferState,pXf:()=>ɵɵi18n,paT:()=>getDirectives,pde:()=>Input,phd:()=>provideAppInitializer,pl0:()=>publishDefaultGlobalUtils,qBF:()=>IS_HYDRATION_DOM_REUSE_ENABLED,qIb:()=>isDeferBlock,qRz:()=>isDetachedByI18n,qex:()=>ɵɵelementContainerStart,qhs:()=>ɵɵdeferOnViewport,r1f:()=>angularCoreEnv,r8f:()=>ɵɵreadContextLet,rAh:()=>bypassSanitizationTrustStyle,rOR:()=>QueryList,rUl:()=>setJSActionAttributes,rXU:()=>ɵɵdirectiveInject,rj2:()=>ɵɵdomElementStart,rjb:()=>ComponentRef$1,rxK:()=>twoWayBinding,s1E:()=>ɵɵpureFunction5,sFG:()=>Renderer2,sGs:()=>ɵɵpureFunction7,sM2:()=>getLNodeForHydration,sMw:()=>ɵɵpureFunction3,sQ7:()=>getSanitizationBypassType,sZ2:()=>APP_ID,saZ:()=>DeferBlockBehavior,sdS:()=>ɵɵreference,sgu:()=>isComponentResourceResolutionQueueEmpty,smM:()=>processTextNodeBeforeSerialization,szM:()=>isViewDirty,tDU:()=>countBlocksSkippedByHydration,tSv:()=>ɵɵresolveWindow,tvf:()=>IS_ENABLED_BLOCKING_INITIAL_NAVIGATION,uAl:()=>Component,uP7:()=>ɵɵi18nExp,uRB:()=>getDebugNode,uiO:()=>getCompilerFacade,utN:()=>iterateListLike,uuc:()=>isComponentDefPendingResolution,uzI:()=>PRESERVE_HOST_CONTENT,vBu:()=>isI18nHydrationSupportEnabled,vDg:()=>isJsObject,vE1:()=>getHostElement,vMv:()=>DEFER_BLOCK_STATE$1,vZN:()=>ɵɵconditionalBranchCreate,vet:()=>NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR,vtR:()=>ComponentFactory$1,vxM:()=>ɵɵconditional,vzT:()=>ɵɵanimateLeave,w6W:()=>createNgModule,wEZ:()=>ɵɵviewQuerySignal,wHK:()=>ELEMENT_CONTAINERS,wKD:()=>PACKAGE_ROOT_URL,wXG:()=>ɵɵtrustConstantResourceUrl,wjB:()=>ɵɵsetComponentScope,wni:()=>ɵɵcontentQuery,wr$:()=>_sanitizeHtml,x4$:()=>ɵgetUnknownPropertyStrictMode,x4E:()=>IS_I18N_HYDRATION_ENABLED,xGo:()=>ɵɵgetInheritedFactory,xHs:()=>getDeferBlocks$1,xRd:()=>ɵɵtextInterpolateV,xc7:()=>ɵɵstyleProp,xe9:()=>LOCALE_ID,xri:()=>Host,xtN:()=>enableFindMatchingDehydratedViewImpl,xwS:()=>ɵɵattachSourceLocations,yBx:()=>resetIncrementalHydrationEnabledWarnedForTests,yJU:()=>enableRetrieveHydrationInfoImpl,yLl:()=>isPromise,y_5:()=>Inject,ylm:()=>gatherDeferBlocksCommentNodes,ypd:()=>publishSignalConfiguration,yv$:()=>ɵɵdeferHydrateOnTimer,zJS:()=>ɵɵpureFunctionV,ziG:()=>ɵɵpureFunction4,ziy:()=>AfterRenderImpl,zoo:()=>AFTER_RENDER_PHASES,zs0:()=>ɵɵdeferPrefetchOnHover,zut:()=>TracingAction,zvX:()=>ɵɵsyntheticHostProperty,zw6:()=>makeStateKey});var _home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),_signal_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/signal.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subscription.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),_attribute_mjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/core/fesm2022/attribute.mjs");function noSideEffects(fn){return{toString:fn}.toString()}const ANNOTATIONS="__annotations__",PARAMETERS="__parameters__",PROP_METADATA="__prop__metadata__";function makeDecorator(name,props,parentClass,additionalProcessing,typeFn){return noSideEffects(()=>{const metaCtor=makeMetadataCtor(props);function DecoratorFactory(...args){if(this instanceof DecoratorFactory)return metaCtor.call(this,...args),this;const annotationInstance=new DecoratorFactory(...args);return function TypeDecorator(cls){typeFn&&typeFn(cls,...args);return(cls.hasOwnProperty(ANNOTATIONS)?cls[ANNOTATIONS]:Object.defineProperty(cls,ANNOTATIONS,{value:[]})[ANNOTATIONS]).push(annotationInstance),cls}}return parentClass&&(DecoratorFactory.prototype=Object.create(parentClass.prototype)),DecoratorFactory.prototype.ngMetadataName=name,DecoratorFactory.annotationCls=DecoratorFactory,DecoratorFactory})}function makeMetadataCtor(props){return function ctor(...args){if(props){const values=props(...args);for(const propName in values)this[propName]=values[propName]}}}function makeParamDecorator(name,props,parentClass){return noSideEffects(()=>{const metaCtor=makeMetadataCtor(props);function ParamDecoratorFactory(...args){if(this instanceof ParamDecoratorFactory)return metaCtor.apply(this,args),this;const annotationInstance=new ParamDecoratorFactory(...args);return ParamDecorator.annotation=annotationInstance,ParamDecorator;function ParamDecorator(cls,unusedKey,index){const parameters=cls.hasOwnProperty(PARAMETERS)?cls[PARAMETERS]:Object.defineProperty(cls,PARAMETERS,{value:[]})[PARAMETERS];for(;parameters.length<=index;)parameters.push(null);return(parameters[index]=parameters[index]||[]).push(annotationInstance),cls}}return ParamDecoratorFactory.prototype.ngMetadataName=name,ParamDecoratorFactory.annotationCls=ParamDecoratorFactory,ParamDecoratorFactory})}function makePropDecorator(name,props,parentClass,additionalProcessing){return noSideEffects(()=>{const metaCtor=makeMetadataCtor(props);function PropDecoratorFactory(...args){if(this instanceof PropDecoratorFactory)return metaCtor.apply(this,args),this;const decoratorInstance=new PropDecoratorFactory(...args);return function PropDecorator(target,name){if(void 0===target)throw new Error("Standard Angular field decorators are not supported in JIT mode.");const constructor=target.constructor,meta=constructor.hasOwnProperty(PROP_METADATA)?constructor[PROP_METADATA]:Object.defineProperty(constructor,PROP_METADATA,{value:{}})[PROP_METADATA];meta[name]=meta.hasOwnProperty(name)&&meta[name]||[],meta[name].unshift(decoratorInstance)}}return parentClass&&(PropDecoratorFactory.prototype=Object.create(parentClass.prototype)),PropDecoratorFactory.prototype.ngMetadataName=name,PropDecoratorFactory.annotationCls=PropDecoratorFactory,PropDecoratorFactory})}const Inject=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.z6V)(makeParamDecorator("Inject",token=>({token})),-1),Optional=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.z6V)(makeParamDecorator("Optional"),8),Self=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.z6V)(makeParamDecorator("Self"),2),SkipSelf=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.z6V)(makeParamDecorator("SkipSelf"),4),Host=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.z6V)(makeParamDecorator("Host"),1);function getCompilerFacade(request){const globalNg=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.laP.ng;if(globalNg&&globalNg.ɵcompilerFacade)return globalNg.ɵcompilerFacade;if("undefined"==typeof ngDevMode||ngDevMode){console.error(`JIT compilation failed for ${request.kind}`,request.type);let message=`The ${request.kind} '${request.type.name}' needs to be compiled using the JIT compiler, but '@angular/compiler' is not available.\n\n`;throw 1===request.usage?(message+=`The ${request.kind} is part of a library that has been partially compiled.\n`,message+="However, the Angular Linker has not processed the library such that JIT compilation is used as fallback.\n",message+="\n",message+="Ideally, the library is processed using the Angular Linker to become fully AOT compiled.\n"):message+="JIT compilation is discouraged for production use-cases! Consider using AOT mode instead.\n",message+="Alternatively, the JIT compiler should be loaded by bootstrapping using '@angular/platform-browser-dynamic' or '@angular/platform-server',\n",message+="or manually provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.",new Error(message)}throw new Error("JIT compiler unavailable")}const angularCoreDiEnv={ɵɵdefineInjectable:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH,ɵɵdefineInjector:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.G2t,ɵɵinject:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KVO,ɵɵinvalidFactoryDep:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.dmw,resolveForwardRef:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4},Type=Function;function isType(v){return"function"==typeof v}const ES5_DELEGATE_CTOR=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,ES2015_INHERITED_CLASS=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ES2015_INHERITED_CLASS_WITH_CTOR=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,ES2015_INHERITED_CLASS_WITH_DELEGATE_CTOR=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class ReflectionCapabilities{_reflect;constructor(reflect){this._reflect=reflect||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.laP.Reflect}factory(t){return(...args)=>new t(...args)}_zipTypesAndAnnotations(paramTypes,paramAnnotations){let result;result=void 0===paramTypes?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WfI)(paramAnnotations.length):(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WfI)(paramTypes.length);for(let i=0;i<result.length;i++)void 0===paramTypes?result[i]=[]:paramTypes[i]&&paramTypes[i]!=Object?result[i]=[paramTypes[i]]:result[i]=[],paramAnnotations&&null!=paramAnnotations[i]&&(result[i]=result[i].concat(paramAnnotations[i]));return result}_ownParameters(type,parentCtor){if(function isDelegateCtor(typeStr){return ES5_DELEGATE_CTOR.test(typeStr)||ES2015_INHERITED_CLASS_WITH_DELEGATE_CTOR.test(typeStr)||ES2015_INHERITED_CLASS.test(typeStr)&&!ES2015_INHERITED_CLASS_WITH_CTOR.test(typeStr)}(type.toString()))return null;if(type.parameters&&type.parameters!==parentCtor.parameters)return type.parameters;const tsickleCtorParams=type.ctorParameters;if(tsickleCtorParams&&tsickleCtorParams!==parentCtor.ctorParameters){const ctorParameters="function"==typeof tsickleCtorParams?tsickleCtorParams():tsickleCtorParams,paramTypes=ctorParameters.map(ctorParam=>ctorParam&&ctorParam.type),paramAnnotations=ctorParameters.map(ctorParam=>ctorParam&&convertTsickleDecoratorIntoMetadata(ctorParam.decorators));return this._zipTypesAndAnnotations(paramTypes,paramAnnotations)}const paramAnnotations=type.hasOwnProperty(PARAMETERS)&&type[PARAMETERS],paramTypes=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",type);return paramTypes||paramAnnotations?this._zipTypesAndAnnotations(paramTypes,paramAnnotations):(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WfI)(type.length)}parameters(type){if(!isType(type))return[];const parentCtor=getParentCtor(type);let parameters=this._ownParameters(type,parentCtor);return parameters||parentCtor===Object||(parameters=this.parameters(parentCtor)),parameters||[]}_ownAnnotations(typeOrFunc,parentCtor){if(typeOrFunc.annotations&&typeOrFunc.annotations!==parentCtor.annotations){let annotations=typeOrFunc.annotations;return"function"==typeof annotations&&annotations.annotations&&(annotations=annotations.annotations),annotations}return typeOrFunc.decorators&&typeOrFunc.decorators!==parentCtor.decorators?convertTsickleDecoratorIntoMetadata(typeOrFunc.decorators):typeOrFunc.hasOwnProperty(ANNOTATIONS)?typeOrFunc[ANNOTATIONS]:null}annotations(typeOrFunc){if(!isType(typeOrFunc))return[];const parentCtor=getParentCtor(typeOrFunc),ownAnnotations=this._ownAnnotations(typeOrFunc,parentCtor)||[];return(parentCtor!==Object?this.annotations(parentCtor):[]).concat(ownAnnotations)}_ownPropMetadata(typeOrFunc,parentCtor){if(typeOrFunc.propMetadata&&typeOrFunc.propMetadata!==parentCtor.propMetadata){let propMetadata=typeOrFunc.propMetadata;return"function"==typeof propMetadata&&propMetadata.propMetadata&&(propMetadata=propMetadata.propMetadata),propMetadata}if(typeOrFunc.propDecorators&&typeOrFunc.propDecorators!==parentCtor.propDecorators){const propDecorators=typeOrFunc.propDecorators,propMetadata={};return Object.keys(propDecorators).forEach(prop=>{propMetadata[prop]=convertTsickleDecoratorIntoMetadata(propDecorators[prop])}),propMetadata}return typeOrFunc.hasOwnProperty(PROP_METADATA)?typeOrFunc[PROP_METADATA]:null}propMetadata(typeOrFunc){if(!isType(typeOrFunc))return{};const parentCtor=getParentCtor(typeOrFunc),propMetadata={};if(parentCtor!==Object){const parentPropMetadata=this.propMetadata(parentCtor);Object.keys(parentPropMetadata).forEach(propName=>{propMetadata[propName]=parentPropMetadata[propName]})}const ownPropMetadata=this._ownPropMetadata(typeOrFunc,parentCtor);return ownPropMetadata&&Object.keys(ownPropMetadata).forEach(propName=>{const decorators=[];propMetadata.hasOwnProperty(propName)&&decorators.push(...propMetadata[propName]),decorators.push(...ownPropMetadata[propName]),propMetadata[propName]=decorators}),propMetadata}ownPropMetadata(typeOrFunc){return isType(typeOrFunc)&&this._ownPropMetadata(typeOrFunc,getParentCtor(typeOrFunc))||{}}hasLifecycleHook(type,lcProperty){return type instanceof Type&&lcProperty in type.prototype}}function convertTsickleDecoratorIntoMetadata(decoratorInvocations){return decoratorInvocations?decoratorInvocations.map(decoratorInvocation=>new(0,decoratorInvocation.type.annotationCls)(...decoratorInvocation.args?decoratorInvocation.args:[])):[]}function getParentCtor(ctor){const parentProto=ctor.prototype?Object.getPrototypeOf(ctor.prototype):null;return(parentProto?parentProto.constructor:null)||Object}class SimpleChange{previousValue;currentValue;firstChange;constructor(previousValue,currentValue,firstChange){this.previousValue=previousValue,this.currentValue=currentValue,this.firstChange=firstChange}isFirstChange(){return this.firstChange}}function applyValueToInputField(instance,inputSignalNode,privateName,value){null!==inputSignalNode?inputSignalNode.applyValueToInputSignal(inputSignalNode,value):instance[privateName]=value}const ɵɵNgOnChangesFeature=(()=>{const ɵɵNgOnChangesFeatureImpl=()=>NgOnChangesFeatureImpl;return ɵɵNgOnChangesFeatureImpl.ngInherit=!0,ɵɵNgOnChangesFeatureImpl})();function NgOnChangesFeatureImpl(definition){return definition.type.prototype.ngOnChanges&&(definition.setInput=ngOnChangesSetInput),rememberChangeHistoryAndInvokeOnChangesHook}function rememberChangeHistoryAndInvokeOnChangesHook(){const simpleChangesStore=getSimpleChangesStore(this),current=simpleChangesStore?.current;if(current){const previous=simpleChangesStore.previous;if(previous===_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MZA)simpleChangesStore.previous=current;else for(let key in current)previous[key]=current[key];simpleChangesStore.current=null,this.ngOnChanges(current)}}function ngOnChangesSetInput(instance,inputSignalNode,value,publicName,privateName){const declaredName=this.declaredInputs[publicName];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Cv0)(declaredName,"Name of input in ngOnChanges has to be a string");const simpleChangesStore=getSimpleChangesStore(instance)||function setSimpleChangesStore(instance,store){return instance[SIMPLE_CHANGES_STORE]=store}(instance,{previous:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MZA,current:null}),current=simpleChangesStore.current||(simpleChangesStore.current={}),previous=simpleChangesStore.previous,previousChange=previous[declaredName];current[declaredName]=new SimpleChange(previousChange&&previousChange.currentValue,value,previous===_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MZA),applyValueToInputField(instance,inputSignalNode,privateName,value)}const SIMPLE_CHANGES_STORE="__ngSimpleChanges__";function getSimpleChangesStore(instance){return instance[SIMPLE_CHANGES_STORE]||null}const profilerCallbacks=[],NOOP_PROFILER_REMOVAL=()=>{};function setProfiler(profiler){return null!==profiler?(profilerCallbacks.includes(profiler)||profilerCallbacks.push(profiler),()=>function removeProfiler(profiler){const profilerIdx=profilerCallbacks.indexOf(profiler);-1!==profilerIdx&&profilerCallbacks.splice(profilerIdx,1)}(profiler)):(profilerCallbacks.length=0,NOOP_PROFILER_REMOVAL)}const profiler=function(event,instance=null,eventFn){for(let i=0;i<profilerCallbacks.length;i++){(0,profilerCallbacks[i])(event,instance,eventFn)}};function registerPostOrderHooks(tView,tNode){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)(tView);for(let i=tNode.directiveStart,end=tNode.directiveEnd;i<end;i++){const directiveDef=tView.data[i];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(directiveDef,"Expecting DirectiveDef");const lifecycleHooks=directiveDef.type.prototype,{ngAfterContentInit,ngAfterContentChecked,ngAfterViewInit,ngAfterViewChecked,ngOnDestroy}=lifecycleHooks;ngAfterContentInit&&(tView.contentHooks??=[]).push(-i,ngAfterContentInit),ngAfterContentChecked&&((tView.contentHooks??=[]).push(i,ngAfterContentChecked),(tView.contentCheckHooks??=[]).push(i,ngAfterContentChecked)),ngAfterViewInit&&(tView.viewHooks??=[]).push(-i,ngAfterViewInit),ngAfterViewChecked&&((tView.viewHooks??=[]).push(i,ngAfterViewChecked),(tView.viewCheckHooks??=[]).push(i,ngAfterViewChecked)),null!=ngOnDestroy&&(tView.destroyHooks??=[]).push(i,ngOnDestroy)}}function executeCheckHooks(lView,hooks,nodeIndex){callHooks(lView,hooks,3,nodeIndex)}function executeInitAndCheckHooks(lView,hooks,initPhase,nodeIndex){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iw4)(initPhase,3,"Init pre-order hooks should not be called more than once"),(3&lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1])===initPhase&&callHooks(lView,hooks,initPhase,nodeIndex)}function incrementInitPhaseFlags(lView,initPhase){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iw4)(initPhase,3,"Init hooks phase should not be incremented after all init hooks have been run.");let flags=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1];(3&flags)===initPhase&&(flags&=16383,flags+=1,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]=flags)}function callHooks(currentView,arr,initPhase,currentNodeIndex){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rFz)(),!1,"Hooks should never be run when in check no changes mode.");const startIndex=void 0!==currentNodeIndex?65535&currentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.wVl]:0,nodeIndexLimit=null!=currentNodeIndex?currentNodeIndex:-1,max=arr.length-1;let lastNodeIndexFound=0;for(let i=startIndex;i<max;i++){if("number"==typeof arr[i+1]){if(lastNodeIndexFound=arr[i],null!=currentNodeIndex&&lastNodeIndexFound>=currentNodeIndex)break}else{arr[i]<0&&(currentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.wVl]+=65536),(lastNodeIndexFound<nodeIndexLimit||-1==nodeIndexLimit)&&(callHook(currentView,initPhase,arr,i),currentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.wVl]=(4294901760&currentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.wVl])+i+2),i++}}}function callHookInternal(directive,hook){profiler(4,directive,hook);const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{hook.call(directive)}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer),profiler(5,directive,hook)}}function callHook(currentView,initPhase,arr,i){const isInitHook=arr[i]<0,hook=arr[i+1],directive=currentView[isInitHook?-arr[i]:arr[i]];if(isInitHook){currentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]>>14<currentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.wVl]>>16&&(3&currentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1])===initPhase&&(currentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]+=16384,callHookInternal(directive,hook))}else callHookInternal(directive,hook)}const NO_PARENT_INJECTOR=-1;class NodeInjectorFactory{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(factory,isViewProvider,injectImplementation,name){this.factory=factory,this.name=name,ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(factory,"Factory not specified"),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(typeof factory,"function","Expected factory function."),this.canSeeViewProviders=isViewProvider,this.injectImpl=injectImplementation}}function toTNodeTypeAsString(tNodeType){let text="";return 1&tNodeType&&(text+="|Text"),2&tNodeType&&(text+="|Element"),4&tNodeType&&(text+="|Container"),8&tNodeType&&(text+="|ElementContainer"),16&tNodeType&&(text+="|Projection"),32&tNodeType&&(text+="|IcuContainer"),64&tNodeType&&(text+="|Placeholder"),128&tNodeType&&(text+="|LetDeclaration"),text.length>0?text.substring(1):text}function isTNodeShape(value){return null!=value&&"object"==typeof value&&(null===value.insertBeforeIndex||"number"==typeof value.insertBeforeIndex||Array.isArray(value.insertBeforeIndex))}function isLetDeclaration(tNode){return!!(128&tNode.type)}function assertTNodeType(tNode,expectedTypes,message){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(tNode,"should be called with a TNode"),0===(tNode.type&expectedTypes)&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)(message||`Expected [${toTNodeTypeAsString(expectedTypes)}] but got ${toTNodeTypeAsString(tNode.type)}.`)}function isNameOnlyAttributeMarker(marker){return 3===marker||4===marker||6===marker}function isAnimationProp(name){return 64===name.charCodeAt(0)}function mergeHostAttrs(dst,src){if(null===src||0===src.length);else if(null===dst||0===dst.length)dst=src.slice();else{let srcMarker=-1;for(let i=0;i<src.length;i++){const item=src[i];"number"==typeof item?srcMarker=item:0===srcMarker||mergeHostAttribute(dst,srcMarker,item,null,-1===srcMarker||2===srcMarker?src[++i]:null)}}return dst}function mergeHostAttribute(dst,marker,key1,key2,value){let i=0,markerInsertPosition=dst.length;if(-1===marker)markerInsertPosition=-1;else for(;i<dst.length;){const dstValue=dst[i++];if("number"==typeof dstValue){if(dstValue===marker){markerInsertPosition=-1;break}if(dstValue>marker){markerInsertPosition=i-1;break}}}for(;i<dst.length;){const item=dst[i];if("number"==typeof item)break;if(item===key1)return void(null!==value&&(dst[i+1]=value));i++,null!==value&&i++}-1!==markerInsertPosition&&(dst.splice(markerInsertPosition,0,marker),i=markerInsertPosition+1),dst.splice(i++,0,key1),null!==value&&dst.splice(i++,0,value)}function hasParentInjector(parentLocation){return parentLocation!==NO_PARENT_INJECTOR}function getParentInjectorIndex(parentLocation){if(ngDevMode){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(parentLocation,"Number expected"),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iw4)(parentLocation,-1,"Not a valid state.");const parentInjectorIndex=32767&parentLocation;(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GWr)(parentInjectorIndex,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,"Parent injector must be pointing past HEADER_OFFSET.")}return 32767&parentLocation}function getParentInjectorView(location,startView){let viewOffset=function getParentInjectorViewOffset(parentLocation){return parentLocation>>16}(location),parentView=startView;for(;viewOffset>0;)parentView=parentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.X5O],viewOffset--;return parentView}let includeViewProviders=!0;function setIncludeViewProviders(v){const oldValue=includeViewProviders;return includeViewProviders=v,oldValue}const BLOOM_MASK=255,BLOOM_BUCKET_BITS=5;let nextNgElementId=0;const NOT_FOUND={};function getOrCreateNodeInjectorForNode(tNode,lView){const existingInjectorIndex=getInjectorIndex(tNode,lView);if(-1!==existingInjectorIndex)return existingInjectorIndex;const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];tView.firstCreatePass&&(tNode.injectorIndex=lView.length,insertBloom(tView.data,tNode),insertBloom(lView,null),insertBloom(tView.blueprint,null));const parentLoc=getParentInjectorLocation(tNode,lView),injectorIndex=tNode.injectorIndex;if(hasParentInjector(parentLoc)){const parentIndex=getParentInjectorIndex(parentLoc),parentLView=getParentInjectorView(parentLoc,lView),parentData=parentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data;for(let i=0;i<8;i++)lView[injectorIndex+i]=parentLView[parentIndex+i]|parentData[parentIndex+i]}return lView[injectorIndex+8]=parentLoc,injectorIndex}function insertBloom(arr,footer){arr.push(0,0,0,0,0,0,0,0,footer)}function getInjectorIndex(tNode,lView){return-1===tNode.injectorIndex||tNode.parent&&tNode.parent.injectorIndex===tNode.injectorIndex||null===lView[tNode.injectorIndex+8]?-1:(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView,tNode.injectorIndex),tNode.injectorIndex)}function getParentInjectorLocation(tNode,lView){if(tNode.parent&&-1!==tNode.parent.injectorIndex)return tNode.parent.injectorIndex;let declarationViewOffset=0,parentTNode=null,lViewCursor=lView;for(;null!==lViewCursor;){if(parentTNode=getTNodeFromLView(lViewCursor),null===parentTNode)return NO_PARENT_INJECTOR;if(ngDevMode&&parentTNode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VKj)(parentTNode,lViewCursor[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.X5O]),declarationViewOffset++,lViewCursor=lViewCursor[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.X5O],-1!==parentTNode.injectorIndex)return parentTNode.injectorIndex|declarationViewOffset<<16}return NO_PARENT_INJECTOR}function diPublicInInjector(injectorIndex,tView,token){!function bloomAdd(injectorIndex,tView,type){let id;ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(tView.firstCreatePass,!0,"expected firstCreatePass to be true"),"string"==typeof type?id=type.charCodeAt(0)||0:type.hasOwnProperty(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.p9y)&&(id=type[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.p9y]),null==id&&(id=type[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.p9y]=nextNgElementId++);const bloomHash=id&BLOOM_MASK,mask=1<<bloomHash;tView.data[injectorIndex+(bloomHash>>BLOOM_BUCKET_BITS)]|=mask}(injectorIndex,tView,token)}function notFoundValueOrThrow(notFoundValue,token,flags){if(8&flags||void 0!==notFoundValue)return notFoundValue;(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$Hz)(token,"NodeInjector")}function lookupTokenUsingModuleInjector(lView,token,flags,notFoundValue){if(8&flags&&void 0===notFoundValue&&(notFoundValue=null),!(3&flags)){const moduleInjector=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],previousInjectImplementation=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.a2B)(void 0);try{return moduleInjector?moduleInjector.get(token,notFoundValue,8&flags):(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MzJ)(token,notFoundValue,8&flags)}finally{(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.a2B)(previousInjectImplementation)}}return notFoundValueOrThrow(notFoundValue,token,flags)}function getOrCreateInjectable(tNode,lView,token,flags=0,notFoundValue){if(null!==tNode){if(2048&lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]&&!(2&flags)){const embeddedInjectorValue=function lookupTokenUsingEmbeddedInjector(tNode,lView,token,flags,notFoundValue){let currentTNode=tNode,currentLView=lView;for(;null!==currentTNode&&null!==currentLView&&2048&currentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]&&!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EFk)(currentLView);){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VKj)(currentTNode,currentLView);const nodeInjectorValue=lookupTokenUsingNodeInjector(currentTNode,currentLView,token,2|flags,NOT_FOUND);if(nodeInjectorValue!==NOT_FOUND)return nodeInjectorValue;let parentTNode=currentTNode.parent;if(!parentTNode){const embeddedViewInjector=currentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oMQ];if(embeddedViewInjector){const embeddedViewInjectorValue=embeddedViewInjector.get(token,NOT_FOUND,flags);if(embeddedViewInjectorValue!==NOT_FOUND)return embeddedViewInjectorValue}parentTNode=getTNodeFromLView(currentLView),currentLView=currentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.X5O]}currentTNode=parentTNode}return notFoundValue}(tNode,lView,token,flags,NOT_FOUND);if(embeddedInjectorValue!==NOT_FOUND)return embeddedInjectorValue}const value=lookupTokenUsingNodeInjector(tNode,lView,token,flags,NOT_FOUND);if(value!==NOT_FOUND)return value}return lookupTokenUsingModuleInjector(lView,token,flags,notFoundValue)}function lookupTokenUsingNodeInjector(tNode,lView,token,flags,notFoundValue){const bloomHash=function bloomHashBitOrFactory(token){if(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(token,"token must be defined"),"string"==typeof token)return token.charCodeAt(0)||0;const tokenId=token.hasOwnProperty(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.p9y)?token[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.p9y]:void 0;return"number"==typeof tokenId?tokenId>=0?tokenId&BLOOM_MASK:(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(tokenId,-1,"Expecting to get Special Injector Id"),createNodeInjector):tokenId}(token);if("function"==typeof bloomHash){if(!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ihb)(lView,tNode,flags))return 1&flags?notFoundValueOrThrow(notFoundValue,token,flags):lookupTokenUsingModuleInjector(lView,token,flags,notFoundValue);try{let value;if(ngDevMode?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.XaM)(new NodeInjector((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)()),token,()=>{(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U7d)(token),value=bloomHash(flags),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.uXy)(value)}):value=bloomHash(flags),null!=value||8&flags)return value;(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$Hz)(token)}finally{(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.niQ)()}}else if("number"==typeof bloomHash){let previousTView=null,injectorIndex=getInjectorIndex(tNode,lView),parentLocation=NO_PARENT_INJECTOR,hostTElementNode=1&flags?lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT]:null;for((-1===injectorIndex||4&flags)&&(parentLocation=-1===injectorIndex?getParentInjectorLocation(tNode,lView):lView[injectorIndex+8],parentLocation!==NO_PARENT_INJECTOR&&shouldSearchParent(flags,!1)?(previousTView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],injectorIndex=getParentInjectorIndex(parentLocation),lView=getParentInjectorView(parentLocation,lView)):injectorIndex=-1);-1!==injectorIndex;){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Tkx)(lView,injectorIndex);const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];if(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VKj)(tView.data[injectorIndex+8],lView),bloomHasToken(bloomHash,injectorIndex,tView.data)){const instance=searchTokensOnInjector(injectorIndex,lView,token,previousTView,flags,hostTElementNode);if(instance!==NOT_FOUND)return instance}parentLocation=lView[injectorIndex+8],parentLocation!==NO_PARENT_INJECTOR&&shouldSearchParent(flags,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data[injectorIndex+8]===hostTElementNode)&&bloomHasToken(bloomHash,injectorIndex,lView)?(previousTView=tView,injectorIndex=getParentInjectorIndex(parentLocation),lView=getParentInjectorView(parentLocation,lView)):injectorIndex=-1}}return notFoundValue}function searchTokensOnInjector(injectorIndex,lView,token,previousTView,flags,hostTElementNode){const currentTView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode=currentTView.data[injectorIndex+8],injectableIdx=locateDirectiveOrProvider(tNode,currentTView,token,null==previousTView?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Qs1)(tNode)&&includeViewProviders:previousTView!=currentTView&&!!(3&tNode.type),1&flags&&hostTElementNode===tNode);return null!==injectableIdx?getNodeInjectable(lView,currentTView,injectableIdx,tNode,flags):NOT_FOUND}function locateDirectiveOrProvider(tNode,tView,token,canAccessViewProviders,isHostSpecialCase){const nodeProviderIndexes=tNode.providerIndexes,tInjectables=tView.data,injectablesStart=1048575&nodeProviderIndexes,directivesStart=tNode.directiveStart,directiveEnd=tNode.directiveEnd,cptViewProvidersCount=nodeProviderIndexes>>20,endIndex=isHostSpecialCase?injectablesStart+cptViewProvidersCount:directiveEnd;for(let i=canAccessViewProviders?injectablesStart:injectablesStart+cptViewProvidersCount;i<endIndex;i++){const providerTokenOrDef=tInjectables[i];if(i<directivesStart&&token===providerTokenOrDef||i>=directivesStart&&providerTokenOrDef.type===token)return i}if(isHostSpecialCase){const dirDef=tInjectables[directivesStart];if(dirDef&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV)(dirDef)&&dirDef.type===token)return directivesStart}return null}let injectionPath=[];function getNodeInjectable(lView,tView,index,tNode,flags){let value=lView[index];const tData=tView.data;if(value instanceof NodeInjectorFactory){const factory=value;if(ngDevMode&&injectionPath.push(factory.name??"unknown"),factory.resolving){const token=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(tData[index]);throw ngDevMode?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VX4)(token,injectionPath):(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PQT)(token)}const previousIncludeViewProviders=setIncludeViewProviders(factory.canSeeViewProviders);factory.resolving=!0;const token=tData[index].type||tData[index];let prevInjectContext;if(ngDevMode){const injector=new NodeInjector(tNode,lView);prevInjectContext=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.DFp)({injector,token})}const previousInjectImplementation=factory.injectImpl?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.a2B)(factory.injectImpl):null,success=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ihb)(lView,tNode,0);ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(success,!0,"Because flags do not contain `SkipSelf' we expect this to always succeed.");try{ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U7d)(token),value=lView[index]=factory.factory(void 0,flags,tData,lView,tNode),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.uXy)(value),tView.firstCreatePass&&index>=tNode.directiveStart&&(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PEr)(tData[index]),function registerPreOrderHooks(directiveIndex,directiveDef,tView){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)(tView);const{ngOnChanges,ngOnInit,ngDoCheck}=directiveDef.type.prototype;if(ngOnChanges){const wrappedOnChanges=NgOnChangesFeatureImpl(directiveDef);(tView.preOrderHooks??=[]).push(directiveIndex,wrappedOnChanges),(tView.preOrderCheckHooks??=[]).push(directiveIndex,wrappedOnChanges)}ngOnInit&&(tView.preOrderHooks??=[]).push(0-directiveIndex,ngOnInit),ngDoCheck&&((tView.preOrderHooks??=[]).push(directiveIndex,ngDoCheck),(tView.preOrderCheckHooks??=[]).push(directiveIndex,ngDoCheck))}(index,tData[index],tView))}finally{ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.DFp)(prevInjectContext),null!==previousInjectImplementation&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.a2B)(previousInjectImplementation),setIncludeViewProviders(previousIncludeViewProviders),factory.resolving=!1,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.niQ)(),ngDevMode&&(injectionPath=[])}}return value}function bloomHasToken(bloomHash,injectorIndex,injectorView){const mask=1<<bloomHash;return!!(injectorView[injectorIndex+(bloomHash>>BLOOM_BUCKET_BITS)]&mask)}function shouldSearchParent(flags,isFirstHostTNode){return!(2&flags||1&flags&&isFirstHostTNode)}function getNodeInjectorLView(nodeInjector){return nodeInjector._lView}function getNodeInjectorTNode(nodeInjector){return nodeInjector._tNode}class NodeInjector{_tNode;_lView;constructor(_tNode,_lView){this._tNode=_tNode,this._lView=_lView}get(token,notFoundValue,flags){return getOrCreateInjectable(this._tNode,this._lView,token,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.hjC)(flags),notFoundValue)}}function createNodeInjector(){return new NodeInjector((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)())}function ɵɵgetInheritedFactory(type){return noSideEffects(()=>{const ownConstructor=type.prototype.constructor,ownFactory=ownConstructor[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zSs]||getFactoryOf(ownConstructor),objectPrototype=Object.prototype;let parent=Object.getPrototypeOf(type.prototype).constructor;for(;parent&&parent!==objectPrototype;){const factory=parent[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zSs]||getFactoryOf(parent);if(factory&&factory!==ownFactory)return factory;parent=Object.getPrototypeOf(parent)}return t=>new t})}function getFactoryOf(type){return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Jzi)(type)?()=>{const factory=getFactoryOf((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(type));return factory&&factory()}:(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.wGu)(type)}function getTNodeFromLView(lView){const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tViewType=tView.type;return 2===tViewType?(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(tView.declTNode,"Embedded TNodes should have declaration parents."),tView.declTNode):1===tViewType?lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT]:null}function ɵɵinjectAttribute(attrNameToInject){return function injectAttributeImpl(tNode,attrNameToInject){if(ngDevMode&&assertTNodeType(tNode,15),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(tNode,"expecting tNode"),"class"===attrNameToInject)return tNode.classes;if("style"===attrNameToInject)return tNode.styles;const attrs=tNode.attrs;if(attrs){const attrsLength=attrs.length;let i=0;for(;i<attrsLength;){const value=attrs[i];if(isNameOnlyAttributeMarker(value))break;if(0===value)i+=2;else if("number"==typeof value)for(i++;i<attrsLength&&"string"==typeof attrs[i];)i++;else{if(value===attrNameToInject)return attrs[i+1];i+=2}}}return null}((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)(),attrNameToInject)}const Attribute=makeParamDecorator("Attribute",attributeName=>({attributeName,__NG_ELEMENT_ID__:()=>ɵɵinjectAttribute(attributeName)}));let _reflect=null;function getReflect(){return _reflect=_reflect||new ReflectionCapabilities}function reflectDependencies(type){return convertDependencies(getReflect().parameters(type))}function convertDependencies(deps){return deps.map(dep=>function reflectDependency(dep){const meta={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(dep)&&dep.length>0)for(let j=0;j<dep.length;j++){const param=dep[j];if(void 0===param)continue;const proto=Object.getPrototypeOf(param);if(param instanceof Optional||"Optional"===proto.ngMetadataName)meta.optional=!0;else if(param instanceof SkipSelf||"SkipSelf"===proto.ngMetadataName)meta.skipSelf=!0;else if(param instanceof Self||"Self"===proto.ngMetadataName)meta.self=!0;else if(param instanceof Host||"Host"===proto.ngMetadataName)meta.host=!0;else if(param instanceof Inject)meta.token=param.token;else if(param instanceof Attribute){if(void 0===param.attributeName)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(204,ngDevMode&&"Attribute name must be defined.");meta.attribute=param.attributeName}else meta.token=param}else void 0===dep||Array.isArray(dep)&&0===dep.length?meta.token=null:meta.token=dep;return meta}(dep))}function compileInjectable(type,meta){let ngInjectableDef=null,ngFactoryDef=null;type.hasOwnProperty(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yAH)||Object.defineProperty(type,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yAH,{get:()=>{if(null===ngInjectableDef){const compiler=getCompilerFacade({usage:0,kind:"injectable",type});ngInjectableDef=compiler.compileInjectable(angularCoreDiEnv,`ng:///${type.name}/ɵprov.js`,function getInjectableMetadata(type,srcMeta){const meta=srcMeta||{providedIn:null},compilerMeta={name:type.name,type,typeArgumentCount:0,providedIn:meta.providedIn};(isUseClassProvider(meta)||isUseFactoryProvider(meta))&&void 0!==meta.deps&&(compilerMeta.deps=convertDependencies(meta.deps));isUseClassProvider(meta)?compilerMeta.useClass=meta.useClass:!function isUseValueProvider(meta){return USE_VALUE in meta}(meta)?isUseFactoryProvider(meta)?compilerMeta.useFactory=meta.useFactory:function isUseExistingProvider(meta){return void 0!==meta.useExisting}(meta)&&(compilerMeta.useExisting=meta.useExisting):compilerMeta.useValue=meta.useValue;return compilerMeta}(type,meta))}return ngInjectableDef}}),type.hasOwnProperty(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zSs)||Object.defineProperty(type,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zSs,{get:()=>{if(null===ngFactoryDef){const compiler=getCompilerFacade({usage:0,kind:"injectable",type});ngFactoryDef=compiler.compileFactory(angularCoreDiEnv,`ng:///${type.name}/ɵfac.js`,{name:type.name,type,typeArgumentCount:0,deps:reflectDependencies(type),target:compiler.FactoryTarget.Injectable})}return ngFactoryDef},configurable:!0})}const USE_VALUE=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.kLh)({provide:String,useValue:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.kLh});function isUseClassProvider(meta){return void 0!==meta.useClass}function isUseFactoryProvider(meta){return void 0!==meta.useFactory}const Injectable=makeDecorator("Injectable",void 0,void 0,0,(type,meta)=>compileInjectable(type,meta));function injectElementRef(){return createElementRef((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)())}function createElementRef(tNode,lView){return new ElementRef((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(tNode,lView))}class ElementRef{nativeElement;constructor(nativeElement){this.nativeElement=nativeElement}static __NG_ELEMENT_ID__=injectElementRef}function unwrapElementRef(value){return value instanceof ElementRef?value.nativeElement:value}function symbolIterator(){return this._results[Symbol.iterator]()}class QueryList{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new rxjs__WEBPACK_IMPORTED_MODULE_3__.B}constructor(_emitDistinctChangesOnly=!1){this._emitDistinctChangesOnly=_emitDistinctChangesOnly}get(index){return this._results[index]}map(fn){return this._results.map(fn)}filter(fn){return this._results.filter(fn)}find(fn){return this._results.find(fn)}reduce(fn,init){return this._results.reduce(fn,init)}forEach(fn){this._results.forEach(fn)}some(fn){return this._results.some(fn)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(resultsTree,identityAccessor){this.dirty=!1;const newResultFlat=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Bqz)(resultsTree);(this._changesDetected=!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ng7)(this._results,newResultFlat,identityAccessor))&&(this._results=newResultFlat,this.length=newResultFlat.length,this.last=newResultFlat[this.length-1],this.first=newResultFlat[0])}notifyOnChanges(){void 0===this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.next(this)}onDirty(cb){this._onDirty=cb}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=(()=>symbolIterator)()}const SKIP_HYDRATION_ATTR_NAME="ngSkipHydration",SKIP_HYDRATION_ATTR_NAME_LOWER_CASE="ngskiphydration";function hasSkipHydrationAttrOnTNode(tNode){const attrs=tNode.mergedAttrs;if(null===attrs)return!1;for(let i=0;i<attrs.length;i+=2){const value=attrs[i];if("number"==typeof value)return!1;if("string"==typeof value&&value.toLowerCase()===SKIP_HYDRATION_ATTR_NAME_LOWER_CASE)return!0}return!1}function hasSkipHydrationAttrOnRElement(rNode){return rNode.hasAttribute(SKIP_HYDRATION_ATTR_NAME)}function hasInSkipHydrationBlockFlag(tNode){return!(128&~tNode.flags)}function isInSkipHydrationBlock(tNode){if(hasInSkipHydrationBlockFlag(tNode))return!0;let currentTNode=tNode.parent;for(;currentTNode;){if(hasInSkipHydrationBlockFlag(tNode)||hasSkipHydrationAttrOnTNode(currentTNode))return!0;currentTNode=currentTNode.parent}return!1}function isI18nInSkipHydrationBlock(parentTNode){return hasInSkipHydrationBlockFlag(parentTNode)||hasSkipHydrationAttrOnTNode(parentTNode)||isInSkipHydrationBlock(parentTNode)}var ChangeDetectionStrategy;!function(ChangeDetectionStrategy){ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush=0]="OnPush",ChangeDetectionStrategy[ChangeDetectionStrategy.Default=1]="Default"}(ChangeDetectionStrategy||(ChangeDetectionStrategy={}));const TRACKED_LVIEWS=new Map;let uniqueIdCounter=0;function getLViewById(id){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(id,"ID used for LView lookup must be a number"),TRACKED_LVIEWS.get(id)||null}function unregisterLView(lView){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ID],"Cannot stop tracking an LView that does not have an ID"),TRACKED_LVIEWS.delete(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ID])}class LContext{lViewId;nodeIndex;native;component;directives;localRefs;get lView(){return getLViewById(this.lViewId)}constructor(lViewId,nodeIndex,native){this.lViewId=lViewId,this.nodeIndex=nodeIndex,this.native=native}}function getLContext(target){let mpValue=readPatchedData(target);if(mpValue){if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(mpValue)){const lView=mpValue;let nodeIndex,component,directives;if(isComponentInstance(target)){if(nodeIndex=findViaComponent(lView,target),-1==nodeIndex)throw new Error("The provided component was not found in the application");component=target}else if(function isDirectiveInstance(instance){return instance&&instance.constructor&&instance.constructor.ɵdir}(target)){if(nodeIndex=function findViaDirective(lView,directiveInstance){let tNode=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].firstChild;for(;tNode;){const directiveIndexStart=tNode.directiveStart,directiveIndexEnd=tNode.directiveEnd;for(let i=directiveIndexStart;i<directiveIndexEnd;i++)if(lView[i]===directiveInstance)return tNode.index;tNode=traverseNextElement(tNode)}return-1}(lView,target),-1==nodeIndex)throw new Error("The provided directive was not found in the application");directives=getDirectivesAtNodeIndex(nodeIndex,lView)}else if(nodeIndex=findViaNativeElement(lView,target),-1==nodeIndex)return null;const native=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[nodeIndex]),existingCtx=readPatchedData(native),context=existingCtx&&!Array.isArray(existingCtx)?existingCtx:createLContext(lView,nodeIndex,native);if(component&&void 0===context.component&&(context.component=component,attachPatchData(context.component,context)),directives&&void 0===context.directives){context.directives=directives;for(let i=0;i<directives.length;i++)attachPatchData(directives[i],context)}attachPatchData(context.native,context),mpValue=context}}else{const rElement=target;ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.z7f)(rElement);let parent=rElement;for(;parent=parent.parentNode;){const parentContext=readPatchedData(parent);if(parentContext){const lView=Array.isArray(parentContext)?parentContext:parentContext.lView;if(!lView)return null;const index=findViaNativeElement(lView,rElement);if(index>=0){const native=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[index]),context=createLContext(lView,index,native);attachPatchData(native,context),mpValue=context;break}}}}return mpValue||null}function createLContext(lView,nodeIndex,native){return new LContext(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ID],nodeIndex,native)}function getComponentViewByInstance(componentInstance){let lView,patchedData=readPatchedData(componentInstance);if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(patchedData)){const contextLView=patchedData,nodeIndex=findViaComponent(contextLView,componentInstance);lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(nodeIndex,contextLView);const context=createLContext(contextLView,nodeIndex,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP]);context.component=componentInstance,attachPatchData(componentInstance,context),attachPatchData(context.native,context)}else{const context=patchedData,contextLView=context.lView;ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MdC)(contextLView),lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(context.nodeIndex,contextLView)}return lView}const MONKEY_PATCH_KEY_NAME="__ngContext__";function attachPatchData(target,data){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(target,"Target expected"),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(data)?(target[MONKEY_PATCH_KEY_NAME]=data[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ID],function registerLView(lView){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ID],"LView must have an ID in order to be registered"),TRACKED_LVIEWS.set(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ID],lView)}(data)):target[MONKEY_PATCH_KEY_NAME]=data}function readPatchedData(target){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(target,"Target expected");const data=target[MONKEY_PATCH_KEY_NAME];return"number"==typeof data?getLViewById(data):data||null}function readPatchedLView(target){const value=readPatchedData(target);return value?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(value)?value:value.lView:null}function isComponentInstance(instance){return instance&&instance.constructor&&instance.constructor.ɵcmp}function findViaNativeElement(lView,target){const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];for(let i=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1;i<tView.bindingStartIndex;i++)if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[i])===target)return i;return-1}function traverseNextElement(tNode){if(tNode.child)return tNode.child;if(tNode.next)return tNode.next;for(;tNode.parent&&!tNode.parent.next;)tNode=tNode.parent;return tNode.parent&&tNode.parent.next}function findViaComponent(lView,componentInstance){const componentIndices=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].components;if(componentIndices)for(let i=0;i<componentIndices.length;i++){const elementComponentIndex=componentIndices[i];if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(elementComponentIndex,lView)[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]===componentInstance)return elementComponentIndex}else{if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,lView)[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]===componentInstance)return _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1}return-1}function getDirectivesAtNodeIndex(nodeIndex,lView){const tNode=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data[nodeIndex];if(0===tNode.directiveStart)return _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv;const results=[];for(let i=tNode.directiveStart;i<tNode.directiveEnd;i++){const directiveInstance=lView[i];isComponentInstance(directiveInstance)||results.push(directiveInstance)}return results}function getRootContext(viewOrComponent){const rootView=function getRootView(componentOrLView){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(componentOrLView,"component");let lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(componentOrLView)?componentOrLView:readPatchedLView(componentOrLView);for(;lView&&!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EFk)(lView);)lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._0$)(lView);return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MdC)(lView),lView}(viewOrComponent);return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(rootView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP],"Root view has no context. Perhaps it is disconnected?"),rootView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]}function getFirstLContainer(lView){return getNearestLContainer(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EJG])}function getNextLContainer(container){return getNearestLContainer(container[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29])}function getNearestLContainer(viewOrContainer){for(;null!==viewOrContainer&&!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.A0l)(viewOrContainer);)viewOrContainer=viewOrContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29];return viewOrContainer}function getComponent(element){ngDevMode&&assertDomElement(element);const context=getLContext(element);if(null===context)return null;if(void 0===context.component){const lView=context.lView;if(null===lView)return null;context.component=function getComponentAtNodeIndex(nodeIndex,lView){const tNode=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data[nodeIndex];return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Qs1)(tNode)?lView[tNode.directiveStart+tNode.componentOffset]:null}(context.nodeIndex,lView)}return context.component}function getContext(element){assertDomElement(element);const context=getLContext(element),lView=context?context.lView:null;return null===lView?null:lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]}function getOwningComponent(elementOrDir){const context=getLContext(elementOrDir);let parent,lView=context?context.lView:null;if(null===lView)return null;for(;2===lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].type&&(parent=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._0$)(lView));)lView=parent;return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EFk)(lView)?null:lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]}function getRootComponents(elementOrDir){const lView=readPatchedLView(elementOrDir);return null!==lView?[getRootContext(lView)]:[]}function getInjector(elementOrDir){const context=getLContext(elementOrDir),lView=context?context.lView:null;if(null===lView)return _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zZn.NULL;const tNode=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data[context.nodeIndex];return new NodeInjector(tNode,lView)}function getDirectives(node){if(node instanceof Text)return[];const context=getLContext(node),lView=context?context.lView:null;if(null===lView)return[];const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],nodeIndex=context.nodeIndex;return tView?.data[nodeIndex]?(void 0===context.directives&&(context.directives=getDirectivesAtNodeIndex(nodeIndex,lView)),null===context.directives?[]:[...context.directives]):[]}var Framework,AcxChangeDetectionStrategy,AcxViewEncapsulation;function getLocalRefs(target){const context=getLContext(target);if(null===context)return{};if(void 0===context.localRefs){const lView=context.lView;if(null===lView)return{};context.localRefs=function discoverLocalRefs(lView,nodeIndex){const tNode=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data[nodeIndex];if(tNode&&tNode.localNames){const result={};let localIndex=tNode.index+1;for(let i=0;i<tNode.localNames.length;i+=2)result[tNode.localNames[i]]=lView[localIndex],localIndex++;return result}return null}(lView,context.nodeIndex)}return context.localRefs||{}}function getHostElement(componentOrDirective){return getLContext(componentOrDirective).native}function getListeners(element){ngDevMode&&assertDomElement(element);const lContext=getLContext(element),lView=null===lContext?null:lContext.lView;if(null===lView)return[];const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],lCleanup=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VVG],tCleanup=tView.cleanup,listeners=[];if(tCleanup&&lCleanup)for(let i=0;i<tCleanup.length;){const firstParam=tCleanup[i++],secondParam=tCleanup[i++];if("string"==typeof firstParam){const name=firstParam,listenerElement=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[secondParam]),callback=lCleanup[tCleanup[i++]],useCaptureOrIndx=tCleanup[i++],type="boolean"==typeof useCaptureOrIndx||useCaptureOrIndx>=0?"dom":"output",useCapture="boolean"==typeof useCaptureOrIndx&&useCaptureOrIndx;element==listenerElement&&listeners.push({element,name,callback,useCapture,type})}}return listeners.sort(sortListeners),listeners}function sortListeners(a,b){return a.name==b.name?0:a.name<b.name?-1:1}function isDirectiveDefHack(obj){return void 0!==obj.type&&void 0!==obj.declaredInputs&&void 0!==obj.resolveHostDirectives}function assertDomElement(value){if("undefined"!=typeof Element&&!(value instanceof Element))throw new Error("Expecting instance of DOM Element")}function extractInputDebugMetadata(inputs){const res={};for(const key in inputs)if(inputs.hasOwnProperty(key)){const value=inputs[key];void 0!==value&&(res[key]=value[0])}return res}let DOCUMENT;function setDocument(document){DOCUMENT=document}function getDocument(){if(void 0!==DOCUMENT)return DOCUMENT;if("undefined"!=typeof document)return document;throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(210,("undefined"==typeof ngDevMode||ngDevMode)&&"The document object is not available in this context. Make sure the DOCUMENT injection token is provided.")}!function(Framework){Framework.Angular="angular",Framework.ACX="acx",Framework.Wiz="wiz"}(Framework||(Framework={})),function(AcxChangeDetectionStrategy){AcxChangeDetectionStrategy[AcxChangeDetectionStrategy.Default=0]="Default",AcxChangeDetectionStrategy[AcxChangeDetectionStrategy.OnPush=1]="OnPush"}(AcxChangeDetectionStrategy||(AcxChangeDetectionStrategy={})),function(AcxViewEncapsulation){AcxViewEncapsulation[AcxViewEncapsulation.Emulated=0]="Emulated",AcxViewEncapsulation[AcxViewEncapsulation.None=1]="None"}(AcxViewEncapsulation||(AcxViewEncapsulation={}));const APP_ID=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"AppId":"",{providedIn:"root",factory:()=>DEFAULT_APP_ID}),DEFAULT_APP_ID="ng",PLATFORM_INITIALIZER=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"Platform Initializer":""),PLATFORM_ID=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"Platform ID":"",{providedIn:"platform",factory:()=>"unknown"}),PACKAGE_ROOT_URL=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"Application Packages Root URL":""),ANIMATION_MODULE_TYPE=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"AnimationModuleType":""),CSP_NONCE=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"CSP nonce":"",{providedIn:"root",factory:()=>getDocument().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),IMAGE_CONFIG_DEFAULTS={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},IMAGE_CONFIG=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"ImageConfig":"",{providedIn:"root",factory:()=>IMAGE_CONFIG_DEFAULTS});function makeStateKey(key){return key}function initTransferState(){const transferState=new TransferState;return"undefined"!=typeof ngServerMode&&ngServerMode||(transferState.store=retrieveTransferredState(getDocument(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(APP_ID))),transferState}class TransferState{static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:TransferState,providedIn:"root",factory:initTransferState});store={};onSerializeCallbacks={};get(key,defaultValue){return void 0!==this.store[key]?this.store[key]:defaultValue}set(key,value){this.store[key]=value}remove(key){delete this.store[key]}hasKey(key){return this.store.hasOwnProperty(key)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(key,callback){this.onSerializeCallbacks[key]=callback}toJson(){for(const key in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(key))try{this.store[key]=this.onSerializeCallbacks[key]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}function retrieveTransferredState(doc,appId){const script=doc.getElementById(appId+"-state");if(script?.textContent)try{return JSON.parse(script.textContent)}catch(e){console.warn("Exception while restoring TransferState for app "+appId,e)}return{}}const REFERENCE_NODE_HOST="h",REFERENCE_NODE_BODY="b",NODE_NAVIGATION_STEP_FIRST_CHILD="f",NODE_NAVIGATION_STEP_NEXT_SIBLING="n",ELEMENT_CONTAINERS="e",TEMPLATES="t",CONTAINERS="c",MULTIPLIER="x",NUM_ROOT_NODES="r",TEMPLATE_ID="i",NODES="n",DISCONNECTED_NODES="d",I18N_DATA="l",DEFER_BLOCK_ID="di",DEFER_BLOCK_STATE$1="s",DEFER_PARENT_BLOCK_ID="p",DEFER_HYDRATE_TRIGGERS="t",IS_HYDRATION_DOM_REUSE_ENABLED=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC("undefined"==typeof ngDevMode||ngDevMode?"IS_HYDRATION_DOM_REUSE_ENABLED":""),PRESERVE_HOST_CONTENT=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC("undefined"==typeof ngDevMode||ngDevMode?"PRESERVE_HOST_CONTENT":"",{providedIn:"root",factory:()=>false}),IS_I18N_HYDRATION_ENABLED=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC("undefined"==typeof ngDevMode||ngDevMode?"IS_I18N_HYDRATION_ENABLED":""),IS_EVENT_REPLAY_ENABLED=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC("undefined"==typeof ngDevMode||ngDevMode?"IS_EVENT_REPLAY_ENABLED":""),EVENT_REPLAY_ENABLED_DEFAULT=!1,IS_INCREMENTAL_HYDRATION_ENABLED=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC("undefined"==typeof ngDevMode||ngDevMode?"IS_INCREMENTAL_HYDRATION_ENABLED":""),JSACTION_BLOCK_ELEMENT_MAP=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"JSACTION_BLOCK_ELEMENT_MAP":"",{providedIn:"root",factory:()=>new Map}),IS_ENABLED_BLOCKING_INITIAL_NAVIGATION=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC("undefined"==typeof ngDevMode||ngDevMode?"IS_ENABLED_BLOCKING_INITIAL_NAVIGATION":""),eventListenerOptions={passive:!0,capture:!0},hoverTriggers=new WeakMap,interactionTriggers=new WeakMap,viewportTriggers=new WeakMap,interactionEventNames=["click","keydown"],hoverEventNames=["mouseenter","mouseover","focusin"];let intersectionObserver=null,observedViewportElements=0;class DeferEventEntry{callbacks=new Set;listener=()=>{for(const callback of this.callbacks)callback()}}function onInteraction(trigger,callback){let entry=interactionTriggers.get(trigger);if(!entry){entry=new DeferEventEntry,interactionTriggers.set(trigger,entry);for(const name of interactionEventNames)trigger.addEventListener(name,entry.listener,eventListenerOptions)}return entry.callbacks.add(callback),()=>{const{callbacks,listener}=entry;if(callbacks.delete(callback),0===callbacks.size){interactionTriggers.delete(trigger);for(const name of interactionEventNames)trigger.removeEventListener(name,listener,eventListenerOptions)}}}function onHover(trigger,callback){let entry=hoverTriggers.get(trigger);if(!entry){entry=new DeferEventEntry,hoverTriggers.set(trigger,entry);for(const name of hoverEventNames)trigger.addEventListener(name,entry.listener,eventListenerOptions)}return entry.callbacks.add(callback),()=>{const{callbacks,listener}=entry;if(callbacks.delete(callback),0===callbacks.size){for(const name of hoverEventNames)trigger.removeEventListener(name,listener,eventListenerOptions);hoverTriggers.delete(trigger)}}}const DEFER_BLOCK_SSR_ID_ATTRIBUTE="ngb";function setJSActionAttributes(nativeElement,eventTypes,parentDeferBlockId=null){if(0===eventTypes.length||nativeElement.nodeType!==Node.ELEMENT_NODE)return;const existingAttr=nativeElement.getAttribute(_attribute_mjs__WEBPACK_IMPORTED_MODULE_6__.n.JSACTION),parts=eventTypes.reduce((prev,curr)=>-1===(existingAttr?.indexOf(curr)??-1)?prev+curr+":;":prev,"");nativeElement.setAttribute(_attribute_mjs__WEBPACK_IMPORTED_MODULE_6__.n.JSACTION,`${existingAttr??""}${parts}`);const blockName=parentDeferBlockId??"";""!==blockName&&parts.length>0&&nativeElement.setAttribute(DEFER_BLOCK_SSR_ID_ATTRIBUTE,blockName)}const sharedStashFunction=(rEl,eventType,listenerFn)=>{const el=rEl,eventListenerMap=el.__jsaction_fns??new Map,eventListeners=eventListenerMap.get(eventType)??[];eventListeners.push(listenerFn),eventListenerMap.set(eventType,eventListeners),el.__jsaction_fns=eventListenerMap},sharedMapFunction=(rEl,jsActionMap)=>{const el=rEl;let blockName=el.getAttribute(DEFER_BLOCK_SSR_ID_ATTRIBUTE)??"";const blockSet=jsActionMap.get(blockName)??new Set;blockSet.has(el)||blockSet.add(el),jsActionMap.set(blockName,blockSet)};const removeListeners=el=>{el.removeAttribute(_attribute_mjs__WEBPACK_IMPORTED_MODULE_6__.n.JSACTION),el.removeAttribute(DEFER_BLOCK_SSR_ID_ATTRIBUTE),el.__jsaction_fns=void 0},JSACTION_EVENT_CONTRACT=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"EVENT_CONTRACT_DETAILS":"",{providedIn:"root",factory:()=>({})});function invokeListeners(event,currentTarget){const handlerFns=currentTarget?.__jsaction_fns?.get(event.type);if(handlerFns&&currentTarget?.isConnected)for(const handler of handlerFns)handler(event)}const stashEventListeners=new Map;function setStashFn(appId,fn){return stashEventListeners.set(appId,fn),()=>stashEventListeners.delete(appId)}let isStashEventListenerImplEnabled=!1,_stashEventListenerImpl=(lView,target,eventName,wrappedListener)=>{};function enableStashEventListenerImpl(){isStashEventListenerImplEnabled||(_stashEventListenerImpl=(lView,target,eventName,wrappedListener)=>{const appId=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL].get(APP_ID),stashEventListener=stashEventListeners.get(appId);stashEventListener?.(target,eventName,wrappedListener)},isStashEventListenerImplEnabled=!0)}const DEHYDRATED_BLOCK_REGISTRY=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"DEHYDRATED_BLOCK_REGISTRY":"");class DehydratedBlockRegistry{registry=new Map;cleanupFns=new Map;jsActionMap=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(JSACTION_BLOCK_ELEMENT_MAP);contract=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(JSACTION_EVENT_CONTRACT);add(blockId,info){if(this.registry.set(blockId,info),this.awaitingCallbacks.has(blockId)){const awaitingCallbacks=this.awaitingCallbacks.get(blockId);for(const cb of awaitingCallbacks)cb()}}get(blockId){return this.registry.get(blockId)??null}has(blockId){return this.registry.has(blockId)}cleanup(hydratedBlocks){!function removeListenersFromBlocks(blockNames,jsActionMap){if(blockNames.length>0){let blockList=[];for(let blockName of blockNames)jsActionMap.has(blockName)&&(blockList=[...blockList,...jsActionMap.get(blockName)]);new Set(blockList).forEach(removeListeners)}}(hydratedBlocks,this.jsActionMap);for(let blockId of hydratedBlocks)this.registry.delete(blockId),this.jsActionMap.delete(blockId),this.invokeTriggerCleanupFns(blockId),this.hydrating.delete(blockId),this.awaitingCallbacks.delete(blockId);0===this.size&&this.contract.instance?.cleanUp()}get size(){return this.registry.size}addCleanupFn(blockId,fn){let cleanupFunctions=[];this.cleanupFns.has(blockId)&&(cleanupFunctions=this.cleanupFns.get(blockId)),cleanupFunctions.push(fn),this.cleanupFns.set(blockId,cleanupFunctions)}invokeTriggerCleanupFns(blockId){const fns=this.cleanupFns.get(blockId)??[];for(let fn of fns)fn();this.cleanupFns.delete(blockId)}hydrating=new Map;awaitingCallbacks=new Map;awaitParentBlock(topmostParentBlock,callback){const parentBlockAwaitCallbacks=this.awaitingCallbacks.get(topmostParentBlock)??[];parentBlockAwaitCallbacks.push(callback),this.awaitingCallbacks.set(topmostParentBlock,parentBlockAwaitCallbacks)}static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:DehydratedBlockRegistry,providedIn:null,factory:()=>new DehydratedBlockRegistry})}function isDetachedByI18n(tNode){return!(32&~tNode.flags)}const TRANSFER_STATE_TOKEN_ID="__nghData__",NGH_DATA_KEY=TRANSFER_STATE_TOKEN_ID,TRANSFER_STATE_DEFER_BLOCKS_INFO="__nghDeferData__",NGH_DEFER_BLOCKS_KEY=TRANSFER_STATE_DEFER_BLOCKS_INFO;function isInternalHydrationTransferStateKey(key){return key===TRANSFER_STATE_TOKEN_ID||key===TRANSFER_STATE_DEFER_BLOCKS_INFO}const NGH_ATTR_NAME="ngh",SSR_CONTENT_INTEGRITY_MARKER="nghm";let _retrieveHydrationInfoImpl=()=>null;function retrieveHydrationInfoImpl(rNode,injector,isRootView=!1){let nghAttrValue=rNode.getAttribute(NGH_ATTR_NAME);if(null==nghAttrValue)return null;const[componentViewNgh,rootViewNgh]=nghAttrValue.split("|");if(nghAttrValue=isRootView?rootViewNgh:componentViewNgh,!nghAttrValue)return null;const remainingNgh=isRootView?componentViewNgh:rootViewNgh?`|${rootViewNgh}`:"";let data={};if(""!==nghAttrValue){const transferState=injector.get(TransferState,null,{optional:!0});if(null!==transferState){data=transferState.get(NGH_DATA_KEY,[])[Number(nghAttrValue)],ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(data,"Unable to retrieve hydration info from the TransferState.")}}const dehydratedView={data,firstChild:rNode.firstChild??null};return isRootView&&(dehydratedView.firstChild=rNode,setSegmentHead(dehydratedView,0,rNode.nextSibling)),remainingNgh?rNode.setAttribute(NGH_ATTR_NAME,remainingNgh):rNode.removeAttribute(NGH_ATTR_NAME),ngDevMode&&markRNodeAsClaimedByHydration(rNode,!1),ngDevMode&&ngDevMode.hydratedComponents++,dehydratedView}function enableRetrieveHydrationInfoImpl(){_retrieveHydrationInfoImpl=retrieveHydrationInfoImpl}function retrieveHydrationInfo(rNode,injector,isRootView=!1){return _retrieveHydrationInfoImpl(rNode,injector,isRootView)}function getLNodeForHydration(viewRef){let lView=viewRef._lView;return 2===lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].type?null:((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EFk)(lView)&&(lView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1]),lView)}var HydrationStatus;!function(HydrationStatus){HydrationStatus.Hydrated="hydrated",HydrationStatus.Skipped="skipped",HydrationStatus.Mismatched="mismatched"}(HydrationStatus||(HydrationStatus={}));const HYDRATION_INFO_KEY="__ngDebugHydrationInfo__";function patchHydrationInfo(node,info){node[HYDRATION_INFO_KEY]=info}function readHydrationInfo(node){return node[HYDRATION_INFO_KEY]??null}function markRNodeAsClaimedByHydration(node,checkIfAlreadyClaimed=!0){if(!ngDevMode)throw new Error("Calling `markRNodeAsClaimedByHydration` in prod mode is not supported and likely a mistake.");if(checkIfAlreadyClaimed&&function isRNodeClaimedForHydration(node){return readHydrationInfo(node)?.status===HydrationStatus.Hydrated}(node))throw new Error("Trying to claim a node, which was claimed already.");patchHydrationInfo(node,{status:HydrationStatus.Hydrated}),ngDevMode.hydratedNodes++}function countBlocksSkippedByHydration(injector){const nghDeferData=injector.get(TransferState).get(NGH_DEFER_BLOCKS_KEY,{});ngDevMode&&(ngDevMode.deferBlocksWithIncrementalHydration=Object.keys(nghDeferData).length)}function markRNodeAsHavingHydrationMismatch(node,expectedNodeDetails=null,actualNodeDetails=null){if(!ngDevMode)throw new Error("Calling `markRNodeAsMismatchedByHydration` in prod mode is not supported and likely a mistake.");for(;node&&!getComponent(node);)node=node?.parentNode;node&&patchHydrationInfo(node,{status:HydrationStatus.Mismatched,expectedNodeDetails,actualNodeDetails})}function setSegmentHead(hydrationInfo,index,node){hydrationInfo.segmentHeads??={},hydrationInfo.segmentHeads[index]=node}function getSegmentHead(hydrationInfo,index){return hydrationInfo.segmentHeads?.[index]??null}function isIncrementalHydrationEnabled(injector){return injector.get(IS_INCREMENTAL_HYDRATION_ENABLED,!1,{optional:!0})}let incrementalHydrationEnabledWarned=!1;function resetIncrementalHydrationEnabledWarnedForTests(){incrementalHydrationEnabledWarned=!1}function assertSsrIdDefined(ssrUniqueId){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(ssrUniqueId,"Internal error: expecting an SSR id for a defer block that should be hydrated, but the id is not present")}function getNgContainerSize(hydrationInfo,index){const data=hydrationInfo.data;let size=data[ELEMENT_CONTAINERS]?.[index]??null;return null===size&&data[CONTAINERS]?.[index]&&(size=calcSerializedContainerSize(hydrationInfo,index)),size}function getSerializedContainerViews(hydrationInfo,index){return hydrationInfo.data[CONTAINERS]?.[index]??null}function calcSerializedContainerSize(hydrationInfo,index){const views=getSerializedContainerViews(hydrationInfo,index)??[];let numNodes=0;for(let view of views)numNodes+=view[NUM_ROOT_NODES]*(view[MULTIPLIER]??1);return numNodes}function initDisconnectedNodes(hydrationInfo){if(void 0===hydrationInfo.disconnectedNodes){const nodeIds=hydrationInfo.data[DISCONNECTED_NODES];hydrationInfo.disconnectedNodes=nodeIds?new Set(nodeIds):null}return hydrationInfo.disconnectedNodes}function isDisconnectedNode$1(hydrationInfo,index){if(void 0===hydrationInfo.disconnectedNodes){const nodeIds=hydrationInfo.data[DISCONNECTED_NODES];hydrationInfo.disconnectedNodes=nodeIds?new Set(nodeIds):null}return!!initDisconnectedNodes(hydrationInfo)?.has(index)}function canHydrateNode(lView,tNode){const hydrationInfo=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA];return null!==hydrationInfo&&!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KtD)()&&!isDetachedByI18n(tNode)&&!isDisconnectedNode$1(hydrationInfo,tNode.index-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1)}function processTextNodeBeforeSerialization(context,node){const el=node,corruptedTextNodes=context.corruptedTextNodes;""===el.textContent?corruptedTextNodes.set(el,"ngetn"):el.nextSibling?.nodeType===Node.TEXT_NODE&&corruptedTextNodes.set(el,"ngtns")}function convertHydrateTriggersToJsAction(triggers){let actionList=[];return null!==triggers&&(triggers.has(4)&&actionList.push(...hoverEventNames),triggers.has(3)&&actionList.push(...interactionEventNames)),actionList}function appendDeferBlocksToJSActionMap(doc,injector){const blockMap=function gatherDeferBlocksByJSActionAttribute(doc){const jsactionNodes=doc.body.querySelectorAll("[jsaction]"),blockMap=new Set,eventTypes=[hoverEventNames.join(":;"),interactionEventNames.join(":;")].join("|");for(let node of jsactionNodes){const attr=node.getAttribute("jsaction"),blockId=node.getAttribute("ngb");attr?.match(eventTypes)&&null!==blockId&&blockMap.add(node)}return blockMap}(doc),jsActionMap=injector.get(JSACTION_BLOCK_ELEMENT_MAP);for(let rNode of blockMap)sharedMapFunction(rNode,jsActionMap)}let _retrieveDeferBlockDataImpl=()=>({});function retrieveDeferBlockDataImpl(injector){const transferState=injector.get(TransferState,null,{optional:!0});if(null!==transferState){const nghDeferData=transferState.get(NGH_DEFER_BLOCKS_KEY,{});return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(nghDeferData,"Unable to retrieve defer block info from the TransferState."),nghDeferData}return{}}function enableRetrieveDeferBlockDataImpl(){_retrieveDeferBlockDataImpl=retrieveDeferBlockDataImpl}function getHydrateTimerTrigger(blockData){const trigger=blockData[DEFER_HYDRATE_TRIGGERS]?.find(t=>function isTimerTrigger(triggerInfo){return"object"==typeof triggerInfo&&5===triggerInfo.trigger}(t));return trigger?.delay??null}function hasHydrateTrigger(blockData,trigger){return blockData[DEFER_HYDRATE_TRIGGERS]?.includes(trigger)??!1}function createBlockSummary(blockInfo){return{data:blockInfo,hydrate:{idle:hasHydrateTrigger(blockInfo,0),immediate:hasHydrateTrigger(blockInfo,1),timer:getHydrateTimerTrigger(blockInfo),viewport:hasHydrateTrigger(blockInfo,2)}}}function processBlockData(injector){const blockData=function retrieveDeferBlockData(injector){return _retrieveDeferBlockDataImpl(injector)}(injector);let blockDetails=new Map;for(let blockId in blockData)blockDetails.set(blockId,createBlockSummary(blockData[blockId]));return blockDetails}function isSsrContentsIntegrity(node){return!!node&&node.nodeType===Node.COMMENT_NODE&&node.textContent?.trim()===SSR_CONTENT_INTEGRITY_MARKER}function skipTextNodes(node){for(;node&&node.nodeType===Node.TEXT_NODE;)node=node.previousSibling;return node}function verifySsrContentsIntegrity(doc){for(const node of doc.body.childNodes)if(isSsrContentsIntegrity(node))return;if(isSsrContentsIntegrity(skipTextNodes(doc.body.previousSibling)))return;if(!isSsrContentsIntegrity(skipTextNodes(doc.head.lastChild)))throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-507,"undefined"!=typeof ngDevMode&&ngDevMode&&"Angular hydration logic detected that HTML content of this page was modified after it was produced during server side rendering. Make sure that there are no optimizations that remove comment nodes from HTML enabled on your CDN. Angular hydration relies on HTML produced by the server, including whitespaces and comment nodes.")}function refreshContentQueries(tView,lView){const contentQueries=tView.contentQueries;if(null!==contentQueries){const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{for(let i=0;i<contentQueries.length;i+=2){const queryStartIdx=contentQueries[i],directiveDefIdx=contentQueries[i+1];if(-1!==directiveDefIdx){const directiveDef=tView.data[directiveDefIdx];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(directiveDef,"DirectiveDef not found."),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(directiveDef.contentQueries,"contentQueries function should be defined"),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GA0)(queryStartIdx),directiveDef.contentQueries(2,lView[directiveDefIdx],directiveDefIdx)}}}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}}function executeViewQueryFn(flags,viewQueryFn,component){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(viewQueryFn,"View queries function to execute must be defined."),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GA0)(0);const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{viewQueryFn(flags,component)}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}function executeContentQueries(tView,tNode,lView){if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.srX)(tNode)){const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{const start=tNode.directiveStart,end=tNode.directiveEnd;for(let directiveIndex=start;directiveIndex<end;directiveIndex++){const def=tView.data[directiveIndex];if(def.contentQueries){const directiveInstance=lView[directiveIndex];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(directiveIndex,"Incorrect reference to a directive defining a content query"),def.contentQueries(1,directiveInstance,directiveIndex)}}}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}}var ViewEncapsulation;!function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.None=2]="None",ViewEncapsulation[ViewEncapsulation.ShadowDom=3]="ShadowDom"}(ViewEncapsulation||(ViewEncapsulation={}));const CUSTOM_ELEMENTS_SCHEMA={name:"custom-elements"},NO_ERRORS_SCHEMA={name:"no-errors-schema"};let shouldThrowErrorOnUnknownElement=!1;function ɵsetUnknownElementStrictMode(shouldThrow){shouldThrowErrorOnUnknownElement=shouldThrow}function ɵgetUnknownElementStrictMode(){return shouldThrowErrorOnUnknownElement}let shouldThrowErrorOnUnknownProperty=!1;function ɵsetUnknownPropertyStrictMode(shouldThrow){shouldThrowErrorOnUnknownProperty=shouldThrow}function ɵgetUnknownPropertyStrictMode(){return shouldThrowErrorOnUnknownProperty}function validateElementIsKnown(lView,tNode){const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];if(null===tView.schemas)return;const tagName=tNode.value;if(!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yoD)(tNode)&&null!==tagName){if(("undefined"!=typeof HTMLUnknownElement&&HTMLUnknownElement&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(tNode,lView)instanceof HTMLUnknownElement||"undefined"!=typeof customElements&&tagName.indexOf("-")>-1&&!customElements.get(tagName))&&!matchingSchemas(tView.schemas,tagName)){const isHostStandalone=isHostComponentStandalone(lView),schemas=`'${isHostStandalone?"@Component":"@NgModule"}.schemas'`;let message=`'${tagName}' is not a known element${getTemplateLocationDetails(lView)}:\n`;if(message+=`1. If '${tagName}' is an Angular component, then verify that it is ${isHostStandalone?"included in the '@Component.imports' of this component":"a part of an @NgModule where this component is declared"}.\n`,tagName&&tagName.indexOf("-")>-1?message+=`2. If '${tagName}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the ${schemas} of this component to suppress this message.`:message+=`2. To allow any element add 'NO_ERRORS_SCHEMA' to the ${schemas} of this component.`,shouldThrowErrorOnUnknownElement)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(304,message);console.error((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OsK)(304,message))}}}function handleUnknownPropertyError(propName,tagName,nodeType,lView){tagName||4!==nodeType||(tagName="ng-template");const isHostStandalone=isHostComponentStandalone(lView);let message=`Can't bind to '${propName}' since it isn't a known property of '${tagName}'${getTemplateLocationDetails(lView)}.`;const schemas=`'${isHostStandalone?"@Component":"@NgModule"}.schemas'`,importLocation=isHostStandalone?"included in the '@Component.imports' of this component":"a part of an @NgModule where this component is declared";if(KNOWN_CONTROL_FLOW_DIRECTIVES.has(propName)){message+=`\nIf the '${propName}' is an Angular control flow directive, please make sure that either the '${KNOWN_CONTROL_FLOW_DIRECTIVES.get(propName)}' directive or the 'CommonModule' is ${importLocation}.`}else message+=`\n1. If '${tagName}' is an Angular component and it has the '${propName}' input, then verify that it is ${importLocation}.`,tagName&&tagName.indexOf("-")>-1?(message+=`\n2. If '${tagName}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the ${schemas} of this component to suppress this message.`,message+=`\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the ${schemas} of this component.`):message+=`\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the ${schemas} of this component.`;reportUnknownPropertyError(message)}function reportUnknownPropertyError(message){if(shouldThrowErrorOnUnknownProperty)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(303,message);console.error((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OsK)(303,message))}function getDeclarationComponentDef(lView){!ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("Must never be called in production mode");const context=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP];return context&&context.constructor?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(context.constructor):null}function isHostComponentStandalone(lView){!ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("Must never be called in production mode");const componentDef=getDeclarationComponentDef(lView);return!!componentDef?.standalone}function getTemplateLocationDetails(lView){!ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("Must never be called in production mode");const hostComponentDef=getDeclarationComponentDef(lView),componentClassName=hostComponentDef?.type?.name;return componentClassName?` (used in the '${componentClassName}' component template)`:""}const KNOWN_CONTROL_FLOW_DIRECTIVES=new Map([["ngIf","NgIf"],["ngFor","NgFor"],["ngSwitchCase","NgSwitchCase"],["ngSwitchDefault","NgSwitchDefault"]]);function matchingSchemas(schemas,tagName){if(null!==schemas)for(let i=0;i<schemas.length;i++){const schema=schemas[i];if(schema===NO_ERRORS_SCHEMA||schema===CUSTOM_ELEMENTS_SCHEMA&&tagName&&tagName.indexOf("-")>-1)return!0}return!1}let policy$1,policy;function getPolicy$1(){if(void 0===policy$1&&(policy$1=null,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.laP.trustedTypes))try{policy$1=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.laP.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return policy$1}function trustedHTMLFromString(html){return getPolicy$1()?.createHTML(html)||html}function getPolicy(){if(void 0===policy&&(policy=null,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.laP.trustedTypes))try{policy=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return policy}function trustedHTMLFromStringBypass(html){return getPolicy()?.createHTML(html)||html}function trustedScriptFromStringBypass(script){return getPolicy()?.createScript(script)||script}function trustedScriptURLFromStringBypass(url){return getPolicy()?.createScriptURL(url)||url}class SafeValueImpl{changingThisBreaksApplicationSecurity;constructor(changingThisBreaksApplicationSecurity){this.changingThisBreaksApplicationSecurity=changingThisBreaksApplicationSecurity}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ok8})`}}class SafeHtmlImpl extends SafeValueImpl{getTypeName(){return"HTML"}}class SafeStyleImpl extends SafeValueImpl{getTypeName(){return"Style"}}class SafeScriptImpl extends SafeValueImpl{getTypeName(){return"Script"}}class SafeUrlImpl extends SafeValueImpl{getTypeName(){return"URL"}}class SafeResourceUrlImpl extends SafeValueImpl{getTypeName(){return"ResourceURL"}}function unwrapSafeValue(value){return value instanceof SafeValueImpl?value.changingThisBreaksApplicationSecurity:value}function allowSanitizationBypassAndThrow(value,type){const actualType=getSanitizationBypassType(value);if(null!=actualType&&actualType!==type){if("ResourceURL"===actualType&&"URL"===type)return!0;throw new Error(`Required a safe ${type}, got a ${actualType} (see ${_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ok8})`)}return actualType===type}function getSanitizationBypassType(value){return value instanceof SafeValueImpl&&value.getTypeName()||null}function bypassSanitizationTrustHtml(trustedHtml){return new SafeHtmlImpl(trustedHtml)}function bypassSanitizationTrustStyle(trustedStyle){return new SafeStyleImpl(trustedStyle)}function bypassSanitizationTrustScript(trustedScript){return new SafeScriptImpl(trustedScript)}function bypassSanitizationTrustUrl(trustedUrl){return new SafeUrlImpl(trustedUrl)}function bypassSanitizationTrustResourceUrl(trustedResourceUrl){return new SafeResourceUrlImpl(trustedResourceUrl)}function getInertBodyHelper(defaultDoc){const inertDocumentHelper=new InertDocumentHelper(defaultDoc);return function isDOMParserAvailable(){try{return!!(new window.DOMParser).parseFromString(trustedHTMLFromString(""),"text/html")}catch{return!1}}()?new DOMParserHelper(inertDocumentHelper):inertDocumentHelper}class DOMParserHelper{inertDocumentHelper;constructor(inertDocumentHelper){this.inertDocumentHelper=inertDocumentHelper}getInertBodyElement(html){html="<body><remove></remove>"+html;try{const body=(new window.DOMParser).parseFromString(trustedHTMLFromString(html),"text/html").body;return null===body?this.inertDocumentHelper.getInertBodyElement(html):(body.firstChild?.remove(),body)}catch{return null}}}class InertDocumentHelper{defaultDoc;inertDocument;constructor(defaultDoc){this.defaultDoc=defaultDoc,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(html){const templateEl=this.inertDocument.createElement("template");return templateEl.innerHTML=trustedHTMLFromString(html),templateEl}}const SAFE_URL_PATTERN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _sanitizeUrl(url){return(url=String(url)).match(SAFE_URL_PATTERN)?url:(("undefined"==typeof ngDevMode||ngDevMode)&&console.warn(`WARNING: sanitizing unsafe URL value ${url} (see ${_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ok8})`),"unsafe:"+url)}function tagSet(tags){const res={};for(const t of tags.split(","))res[t]=!0;return res}function merge(...sets){const res={};for(const s of sets)for(const v in s)s.hasOwnProperty(v)&&(res[v]=!0);return res}const VOID_ELEMENTS=tagSet("area,br,col,hr,img,wbr"),OPTIONAL_END_TAG_BLOCK_ELEMENTS=tagSet("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),OPTIONAL_END_TAG_INLINE_ELEMENTS=tagSet("rp,rt"),OPTIONAL_END_TAG_ELEMENTS=merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,OPTIONAL_END_TAG_BLOCK_ELEMENTS),BLOCK_ELEMENTS=merge(OPTIONAL_END_TAG_BLOCK_ELEMENTS,tagSet("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),INLINE_ELEMENTS=merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,tagSet("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),VALID_ELEMENTS=merge(VOID_ELEMENTS,BLOCK_ELEMENTS,INLINE_ELEMENTS,OPTIONAL_END_TAG_ELEMENTS),URI_ATTRS=tagSet("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),HTML_ATTRS=tagSet("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ARIA_ATTRS=tagSet("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),VALID_ATTRS=merge(URI_ATTRS,HTML_ATTRS,ARIA_ATTRS),SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS=tagSet("script,style,template");class SanitizingHtmlSerializer{sanitizedSomething=!1;buf=[];sanitizeChildren(el){let current=el.firstChild,traverseContent=!0,parentNodes=[];for(;current;)if(current.nodeType===Node.ELEMENT_NODE?traverseContent=this.startElement(current):current.nodeType===Node.TEXT_NODE?this.chars(current.nodeValue):this.sanitizedSomething=!0,traverseContent&&current.firstChild)parentNodes.push(current),current=getFirstChild(current);else for(;current;){current.nodeType===Node.ELEMENT_NODE&&this.endElement(current);let next=getNextSibling(current);if(next){current=next;break}current=parentNodes.pop()}return this.buf.join("")}startElement(element){const tagName=getNodeName(element).toLowerCase();if(!VALID_ELEMENTS.hasOwnProperty(tagName))return this.sanitizedSomething=!0,!SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS.hasOwnProperty(tagName);this.buf.push("<"),this.buf.push(tagName);const elAttrs=element.attributes;for(let i=0;i<elAttrs.length;i++){const elAttr=elAttrs.item(i),attrName=elAttr.name,lower=attrName.toLowerCase();if(!VALID_ATTRS.hasOwnProperty(lower)){this.sanitizedSomething=!0;continue}let value=elAttr.value;URI_ATTRS[lower]&&(value=_sanitizeUrl(value)),this.buf.push(" ",attrName,'="',encodeEntities(value),'"')}return this.buf.push(">"),!0}endElement(current){const tagName=getNodeName(current).toLowerCase();VALID_ELEMENTS.hasOwnProperty(tagName)&&!VOID_ELEMENTS.hasOwnProperty(tagName)&&(this.buf.push("</"),this.buf.push(tagName),this.buf.push(">"))}chars(chars){this.buf.push(encodeEntities(chars))}}function getNextSibling(node){const nextSibling=node.nextSibling;if(nextSibling&&node!==nextSibling.previousSibling)throw clobberedElementError(nextSibling);return nextSibling}function getFirstChild(node){const firstChild=node.firstChild;if(firstChild&&function isClobberedElement(parentNode,childNode){return(parentNode.compareDocumentPosition(childNode)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(node,firstChild))throw clobberedElementError(firstChild);return firstChild}function getNodeName(node){const nodeName=node.nodeName;return"string"==typeof nodeName?nodeName:"FORM"}function clobberedElementError(node){return new Error(`Failed to sanitize html because the element is clobbered: ${node.outerHTML}`)}const SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~ |!])/g;function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(match){return"&#"+(1024*(match.charCodeAt(0)-55296)+(match.charCodeAt(1)-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(match){return"&#"+match.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let inertBodyHelper;function _sanitizeHtml(defaultDoc,unsafeHtmlInput){let inertBodyElement=null;try{inertBodyHelper=inertBodyHelper||getInertBodyHelper(defaultDoc);let unsafeHtml=unsafeHtmlInput?String(unsafeHtmlInput):"";inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml);let mXSSAttempts=5,parsedHtml=unsafeHtml;do{if(0===mXSSAttempts)throw new Error("Failed to sanitize html because the input is unstable");mXSSAttempts--,unsafeHtml=parsedHtml,parsedHtml=inertBodyElement.innerHTML,inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml)}while(unsafeHtml!==parsedHtml);const sanitizer=new SanitizingHtmlSerializer,safeHtml=sanitizer.sanitizeChildren(getTemplateContent(inertBodyElement)||inertBodyElement);return("undefined"==typeof ngDevMode||ngDevMode)&&sanitizer.sanitizedSomething&&console.warn(`WARNING: sanitizing HTML stripped some content, see ${_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ok8}`),trustedHTMLFromString(safeHtml)}finally{if(inertBodyElement){const parent=getTemplateContent(inertBodyElement)||inertBodyElement;for(;parent.firstChild;)parent.firstChild.remove()}}}function getTemplateContent(el){return"content"in el&&function isTemplateElement(el){return el.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===el.nodeName}(el)?el.content:null}const COMMENT_DISALLOWED=/^>|^->|<!--|-->|--!>|<!-$/g,COMMENT_DELIMITER=/(<|>)/g,COMMENT_DELIMITER_ESCAPED="​$1​";function escapeCommentText(value){return value.replace(COMMENT_DISALLOWED,text=>text.replace(COMMENT_DELIMITER,COMMENT_DELIMITER_ESCAPED))}function createTextNode(renderer,value){return renderer.createText(value)}function updateTextNode(renderer,rNode,value){renderer.setValue(rNode,value)}function createCommentNode(renderer,value){return renderer.createComment(escapeCommentText(value))}function createElementNode(renderer,name,namespace){return renderer.createElement(name,namespace)}function nativeInsertBefore(renderer,parent,child,beforeNode,isMove){renderer.insertBefore(parent,child,beforeNode,isMove)}function nativeAppendChild(renderer,parent,child){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(parent,"parent node must be defined"),renderer.appendChild(parent,child)}function nativeAppendOrInsertBefore(renderer,parent,child,beforeNode,isMove){null!==beforeNode?nativeInsertBefore(renderer,parent,child,beforeNode,isMove):nativeAppendChild(renderer,parent,child)}function nativeRemoveNode(renderer,rNode,isHostElement,requireSynchronousElementRemoval){renderer.removeChild(null,rNode,isHostElement,requireSynchronousElementRemoval)}function clearElementContents(rElement){rElement.textContent=""}function setupStaticAttributes(renderer,element,tNode){const{mergedAttrs,classes,styles}=tNode;null!==mergedAttrs&&function setUpAttributes(renderer,native,attrs){let i=0;for(;i<attrs.length;){const value=attrs[i];if("number"==typeof value){if(0!==value)break;i++;const namespaceURI=attrs[i++],attrName=attrs[i++],attrVal=attrs[i++];renderer.setAttribute(native,attrName,attrVal,namespaceURI)}else{const attrName=value,attrVal=attrs[++i];isAnimationProp(attrName)?renderer.setProperty(native,attrName,attrVal):renderer.setAttribute(native,attrName,attrVal),i++}}return i}(renderer,element,mergedAttrs),null!==classes&&function writeDirectClass(renderer,element,newValue){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Cv0)(newValue,"'newValue' should be a string"),""===newValue?renderer.removeAttribute(element,"class"):renderer.setAttribute(element,"class",newValue)}(renderer,element,classes),null!==styles&&function writeDirectStyle(renderer,element,newValue){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Cv0)(newValue,"'newValue' should be a string"),renderer.setAttribute(element,"style",newValue)}(renderer,element,styles)}var SecurityContext;function ɵɵsanitizeHtml(unsafeHtml){const sanitizer=getSanitizer();return sanitizer?trustedHTMLFromStringBypass(sanitizer.sanitize(SecurityContext.HTML,unsafeHtml)||""):allowSanitizationBypassAndThrow(unsafeHtml,"HTML")?trustedHTMLFromStringBypass(unwrapSafeValue(unsafeHtml)):_sanitizeHtml(getDocument(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(unsafeHtml))}function ɵɵsanitizeStyle(unsafeStyle){const sanitizer=getSanitizer();return sanitizer?sanitizer.sanitize(SecurityContext.STYLE,unsafeStyle)||"":allowSanitizationBypassAndThrow(unsafeStyle,"Style")?unwrapSafeValue(unsafeStyle):(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(unsafeStyle)}function ɵɵsanitizeUrl(unsafeUrl){const sanitizer=getSanitizer();return sanitizer?sanitizer.sanitize(SecurityContext.URL,unsafeUrl)||"":allowSanitizationBypassAndThrow(unsafeUrl,"URL")?unwrapSafeValue(unsafeUrl):_sanitizeUrl((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(unsafeUrl))}function ɵɵsanitizeResourceUrl(unsafeResourceUrl){const sanitizer=getSanitizer();if(sanitizer)return trustedScriptURLFromStringBypass(sanitizer.sanitize(SecurityContext.RESOURCE_URL,unsafeResourceUrl)||"");if(allowSanitizationBypassAndThrow(unsafeResourceUrl,"ResourceURL"))return trustedScriptURLFromStringBypass(unwrapSafeValue(unsafeResourceUrl));throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(904,ngDevMode&&`unsafe value used in a resource URL context (see ${_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ok8})`)}function ɵɵsanitizeScript(unsafeScript){const sanitizer=getSanitizer();if(sanitizer)return trustedScriptFromStringBypass(sanitizer.sanitize(SecurityContext.SCRIPT,unsafeScript)||"");if(allowSanitizationBypassAndThrow(unsafeScript,"Script"))return trustedScriptFromStringBypass(unwrapSafeValue(unsafeScript));throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(905,ngDevMode&&"unsafe value used in a script context")}function ɵɵtrustConstantHtml(html){if(ngDevMode&&(!Array.isArray(html)||!Array.isArray(html.raw)||1!==html.length))throw new Error(`Unexpected interpolation in trusted HTML constant: ${html.join("?")}`);return trustedHTMLFromString(html[0])}function ɵɵtrustConstantResourceUrl(url){if(ngDevMode&&(!Array.isArray(url)||!Array.isArray(url.raw)||1!==url.length))throw new Error(`Unexpected interpolation in trusted URL constant: ${url.join("?")}`);return function trustedScriptURLFromString(url){return getPolicy$1()?.createScriptURL(url)||url}(url[0])}function ɵɵsanitizeUrlOrResourceUrl(unsafeUrl,tag,prop){return function getUrlSanitizer(tag,prop){return"src"===prop&&("embed"===tag||"frame"===tag||"iframe"===tag||"media"===tag||"script"===tag)||"href"===prop&&("base"===tag||"link"===tag)?ɵɵsanitizeResourceUrl:ɵɵsanitizeUrl}(tag,prop)(unsafeUrl)}function getSanitizer(){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)();return lView&&lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M0L].sanitizer}!function(SecurityContext){SecurityContext[SecurityContext.NONE=0]="NONE",SecurityContext[SecurityContext.HTML=1]="HTML",SecurityContext[SecurityContext.STYLE=2]="STYLE",SecurityContext[SecurityContext.SCRIPT=3]="SCRIPT",SecurityContext[SecurityContext.URL=4]="URL",SecurityContext[SecurityContext.RESOURCE_URL=5]="RESOURCE_URL"}(SecurityContext||(SecurityContext={}));const attributeName=new Set(["attributename"]),SECURITY_SENSITIVE_ELEMENTS={iframe:new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]),animate:attributeName,set:attributeName,animatemotion:attributeName,animatetransform:attributeName};function ɵɵvalidateAttribute(value,tagName,attributeName){const lowerCaseTagName=tagName.toLowerCase(),lowerCaseAttrName=attributeName.toLowerCase();if(!SECURITY_SENSITIVE_ELEMENTS[lowerCaseTagName]?.has(lowerCaseAttrName))return value;const tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CpD)();if(2!==tNode.type)return value;const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)();if("iframe"===lowerCaseTagName){!function enforceIframeSecurity(iframe){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)();iframe.src="",iframe.srcdoc=trustedHTMLFromString(""),nativeRemoveNode(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],iframe)}((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(tNode,lView))}const errorMessage=ngDevMode&&`Angular has detected that the \`${attributeName}\` was applied as a binding to the <${tagName}> element${getTemplateLocationDetails(lView)}. For security reasons, the \`${attributeName}\` can be set on the <${tagName}> element as a static attribute only. \nTo fix this, switch the \`${attributeName}\` binding to a static attribute in a template or in host bindings section.`;throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-910,errorMessage)}const NG_REFLECT_ATTRS_FLAG=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC("undefined"==typeof ngDevMode||ngDevMode?"NG_REFLECT_FLAG":"",{providedIn:"root",factory:()=>false});function provideNgReflectAttributes(){const providers="undefined"==typeof ngDevMode||ngDevMode?[{provide:NG_REFLECT_ATTRS_FLAG,useValue:!0}]:[];return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EmA)(providers)}function normalizeDebugBindingName(name){return`ng-reflect-${name=function camelCaseToDashCase(input){return input.replace(CAMEL_CASE_REGEXP,(...m)=>"-"+m[1].toLowerCase())}(name.replace(/[$@]/g,"_"))}`}const CAMEL_CASE_REGEXP=/([A-Z])/g;function ɵɵresolveWindow(element){return element.ownerDocument.defaultView}function ɵɵresolveDocument(element){return element.ownerDocument}function ɵɵresolveBody(element){return element.ownerDocument.body}const INTERPOLATION_DELIMITER="�";function maybeUnwrapFn(value){return value instanceof Function?value():value}const VALUE_STRING_LENGTH_LIMIT=200;function assertStandaloneComponentType(type){assertComponentDef(type);if(!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type).standalone)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(907,`The ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)} component has the \`standalone: true\` flag in the decorator.`)}function assertComponentDef(type){if(!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type))throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(906,`The ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}function throwMultipleComponentError(tNode,first,second){throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-300,`Multiple components match node with tagname ${tNode.value}: ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(first)} and ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(second)}`)}function formatValue(value){let strValue=String(value);try{(Array.isArray(value)||"[object Object]"===strValue)&&(strValue=JSON.stringify(value))}catch(error){}return strValue.length>VALUE_STRING_LENGTH_LIMIT?strValue.substring(0,VALUE_STRING_LENGTH_LIMIT)+"…":strValue}function constructDetailsForInterpolation(lView,rootIndex,expressionIndex,meta,changedValue){const[propName,prefix,...chunks]=meta.split(INTERPOLATION_DELIMITER);let oldValue=prefix,newValue=prefix;for(let i=0;i<chunks.length;i++){const slotIdx=rootIndex+i;oldValue+=`${lView[slotIdx]}${chunks[i]}`,newValue+=`${slotIdx===expressionIndex?changedValue:lView[slotIdx]}${chunks[i]}`}return{propName,oldValue,newValue}}function classIndexOf(className,classToSearch,startingIndex){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iw4)(classToSearch,"",'can not look for "" string.');let end=className.length;for(;;){const foundIndex=className.indexOf(classToSearch,startingIndex);if(-1===foundIndex)return foundIndex;if(0===foundIndex||className.charCodeAt(foundIndex-1)<=32){const length=classToSearch.length;if(foundIndex+length===end||className.charCodeAt(foundIndex+length)<=32)return foundIndex}startingIndex=foundIndex+1}}const NG_TEMPLATE_SELECTOR="ng-template";function isCssClassMatching(tNode,attrs,cssClassToMatch,isProjectionMode){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(cssClassToMatch,cssClassToMatch.toLowerCase(),"Class name expected to be lowercase.");let i=0;if(isProjectionMode){for(;i<attrs.length&&"string"==typeof attrs[i];i+=2)if("class"===attrs[i]&&-1!==classIndexOf(attrs[i+1].toLowerCase(),cssClassToMatch,0))return!0}else if(isInlineTemplate(tNode))return!1;if(i=attrs.indexOf(1,i),i>-1){let item;for(;++i<attrs.length&&"string"==typeof(item=attrs[i]);)if(item.toLowerCase()===cssClassToMatch)return!0}return!1}function isInlineTemplate(tNode){return 4===tNode.type&&tNode.value!==NG_TEMPLATE_SELECTOR}function hasTagAndTypeMatch(tNode,currentSelector,isProjectionMode){return currentSelector===(4!==tNode.type||isProjectionMode?tNode.value:NG_TEMPLATE_SELECTOR)}function isNodeMatchingSelector(tNode,selector,isProjectionMode){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(selector[0],"Selector should have a tag name");let mode=4;const nodeAttrs=tNode.attrs,nameOnlyMarkerIdx=null!==nodeAttrs?function getNameOnlyMarkerIndex(nodeAttrs){for(let i=0;i<nodeAttrs.length;i++){if(isNameOnlyAttributeMarker(nodeAttrs[i]))return i}return nodeAttrs.length}(nodeAttrs):0;let skipToNextSelector=!1;for(let i=0;i<selector.length;i++){const current=selector[i];if("number"!=typeof current){if(!skipToNextSelector)if(4&mode){if(mode=2|1&mode,""!==current&&!hasTagAndTypeMatch(tNode,current,isProjectionMode)||""===current&&1===selector.length){if(isPositive(mode))return!1;skipToNextSelector=!0}}else if(8&mode){if(null===nodeAttrs||!isCssClassMatching(tNode,nodeAttrs,current,isProjectionMode)){if(isPositive(mode))return!1;skipToNextSelector=!0}}else{const selectorAttrValue=selector[++i],attrIndexInNode=findAttrIndexInNode(current,nodeAttrs,isInlineTemplate(tNode),isProjectionMode);if(-1===attrIndexInNode){if(isPositive(mode))return!1;skipToNextSelector=!0;continue}if(""!==selectorAttrValue){let nodeAttrValue;if(attrIndexInNode>nameOnlyMarkerIdx?nodeAttrValue="":(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iw4)(nodeAttrs[attrIndexInNode],0,"We do not match directives on namespaced attributes"),nodeAttrValue=nodeAttrs[attrIndexInNode+1].toLowerCase()),2&mode&&selectorAttrValue!==nodeAttrValue){if(isPositive(mode))return!1;skipToNextSelector=!0}}}}else{if(!skipToNextSelector&&!isPositive(mode)&&!isPositive(current))return!1;if(skipToNextSelector&&isPositive(current))continue;skipToNextSelector=!1,mode=current|1&mode}}return isPositive(mode)||skipToNextSelector}function isPositive(mode){return!(1&mode)}function findAttrIndexInNode(name,attrs,isInlineTemplate,isProjectionMode){if(null===attrs)return-1;let i=0;if(isProjectionMode||!isInlineTemplate){let bindingsMode=!1;for(;i<attrs.length;){const maybeAttrName=attrs[i];if(maybeAttrName===name)return i;if(3===maybeAttrName||6===maybeAttrName)bindingsMode=!0;else{if(1===maybeAttrName||2===maybeAttrName){let value=attrs[++i];for(;"string"==typeof value;)value=attrs[++i];continue}if(4===maybeAttrName)break;if(0===maybeAttrName){i+=4;continue}}i+=bindingsMode?1:2}return-1}return function matchTemplateAttribute(attrs,name){let i=attrs.indexOf(4);if(i>-1)for(i++;i<attrs.length;){const attr=attrs[i];if("number"==typeof attr)return-1;if(attr===name)return i;i++}return-1}(attrs,name)}function isNodeMatchingSelectorList(tNode,selector,isProjectionMode=!1){for(let i=0;i<selector.length;i++)if(isNodeMatchingSelector(tNode,selector[i],isProjectionMode))return!0;return!1}function isSelectorInSelectorList(selector,list){selectorListLoop:for(let i=0;i<list.length;i++){const currentSelectorInList=list[i];if(selector.length===currentSelectorInList.length){for(let j=0;j<selector.length;j++)if(selector[j]!==currentSelectorInList[j])continue selectorListLoop;return!0}}return!1}function maybeWrapInNotSelector(isNegativeMode,chunk){return isNegativeMode?":not("+chunk.trim()+")":chunk}function stringifyCSSSelector(selector){let result=selector[0],i=1,mode=2,currentChunk="",isNegativeMode=!1;for(;i<selector.length;){let valueOrMarker=selector[i];if("string"==typeof valueOrMarker)if(2&mode){const attrValue=selector[++i];currentChunk+="["+valueOrMarker+(attrValue.length>0?'="'+attrValue+'"':"")+"]"}else 8&mode?currentChunk+="."+valueOrMarker:4&mode&&(currentChunk+=" "+valueOrMarker);else""===currentChunk||isPositive(valueOrMarker)||(result+=maybeWrapInNotSelector(isNegativeMode,currentChunk),currentChunk=""),mode=valueOrMarker,isNegativeMode=isNegativeMode||!isPositive(mode);i++}return""!==currentChunk&&(result+=maybeWrapInNotSelector(isNegativeMode,currentChunk)),result}function stringifyCSSSelectorList(selectorList){return selectorList.map(stringifyCSSSelector).join(",")}const NO_CHANGE="undefined"==typeof ngDevMode||ngDevMode?{__brand__:"NO_CHANGE"}:{};function createTView(type,declTNode,templateFn,decls,vars,directives,pipes,viewQuery,schemas,constsOrFactory,ssrId){const bindingStartIndex=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1+decls,initialViewLength=bindingStartIndex+vars,blueprint=function createViewBlueprint(bindingStartIndex,initialViewLength){const blueprint=[];for(let i=0;i<initialViewLength;i++)blueprint.push(i<bindingStartIndex?null:NO_CHANGE);return blueprint}(bindingStartIndex,initialViewLength),consts="function"==typeof constsOrFactory?constsOrFactory():constsOrFactory,tView=blueprint[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl]={type,blueprint,template:templateFn,queries:null,viewQuery,declTNode,data:blueprint.slice().fill(null,bindingStartIndex),bindingStartIndex,expandoStartIndex:initialViewLength,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof directives?directives():directives,pipeRegistry:"function"==typeof pipes?pipes():pipes,firstChild:null,schemas,consts,incompleteFirstPass:!1,ssrId};return ngDevMode&&Object.seal(tView),tView}function getOrCreateComponentTView(def){const tView=def.tView;if(null===tView||tView.incompleteFirstPass){const declTNode=null;return def.tView=createTView(1,declTNode,def.template,def.decls,def.vars,def.directiveDefs,def.pipeDefs,def.viewQuery,def.schemas,def.consts,def.id)}return tView}function createLView(parentLView,tView,context,flags,host,tHostNode,environment,renderer,injector,embeddedViewInjector,hydrationInfo){const lView=tView.blueprint.slice();return lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP]=host,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]=1228|flags,(null!==embeddedViewInjector||parentLView&&2048&parentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1])&&(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]|=2048),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HUe)(lView),ngDevMode&&tView.declTNode&&parentLView&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VKj)(tView.declTNode,parentLView),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T]=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.X5O]=parentLView,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]=context,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M0L]=environment||parentLView&&parentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M0L],ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M0L],"LViewEnvironment is required"),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT]=renderer||parentLView&&parentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],"Renderer is required"),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL]=injector||parentLView&&parentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL]||null,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT]=tHostNode,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ID]=function getUniqueLViewId(){return uniqueIdCounter++}(),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA]=hydrationInfo,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oMQ]=embeddedViewInjector,ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(2!=tView.type||null!==parentLView,!0,"Embedded views must have parentLView"),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C]=2==tView.type?parentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C]:lView,lView}function getInitialLViewFlagsFromDef(def){let flags=16;return def.signals?flags=4096:def.onPush&&(flags=64),flags}function allocExpando(tView,lView,numSlotsToAlloc,initialValue){if(0===numSlotsToAlloc)return-1;ngDevMode&&((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)(tView),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ZQF)(tView,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],"`LView` must be associated with `TView`!"),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(tView.data.length,lView.length,"Expecting LView to be same size as TView"),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(tView.data.length,tView.blueprint.length,"Expecting Blueprint to be same size as TView"),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.TWe)(tView));const allocIdx=lView.length;for(let i=0;i<numSlotsToAlloc;i++)lView.push(initialValue),tView.blueprint.push(initialValue),tView.data.push(null);return allocIdx}function addToEndOfViewTree(lView,lViewOrLContainer){return lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EJG]?lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yrj][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29]=lViewOrLContainer:lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EJG]=lViewOrLContainer,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yrj]=lViewOrLContainer,lViewOrLContainer}function ɵɵadvance(delta=1){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GWr)(delta,0,"Can only advance forward"),selectIndexInternal((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)()+delta,!!ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rFz)())}function selectIndexInternal(tView,lView,index,checkNoChangesMode){if(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zQk)(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],index),!checkNoChangesMode){if(!(3&~lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1])){const preOrderCheckHooks=tView.preOrderCheckHooks;null!==preOrderCheckHooks&&executeCheckHooks(lView,preOrderCheckHooks,index)}else{const preOrderHooks=tView.preOrderHooks;null!==preOrderHooks&&executeInitAndCheckHooks(lView,preOrderHooks,0,index)}}(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ypq)(index)}var InputFlags,RendererStyleFlags2;function writeToDirectiveInput(def,instance,publicName,value){const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{if(ngDevMode){if(!def.inputs.hasOwnProperty(publicName))throw new Error(`ASSERTION ERROR: Directive ${def.type.name} does not have an input with a public name of "${publicName}"`);if(instance instanceof NodeInjectorFactory)throw new Error(`ASSERTION ERROR: Cannot write input to factory for type ${def.type.name}. Directive has not been created yet.`)}const[privateName,flags,transform]=def.inputs[publicName];let inputSignalNode=null;if(0!==(flags&InputFlags.SignalBased)){inputSignalNode=instance[privateName][_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.bh]}null!==inputSignalNode&&void 0!==inputSignalNode.transformFn?value=inputSignalNode.transformFn(value):null!==transform&&(value=transform.call(instance,value)),null!==def.setInput?def.setInput(instance,inputSignalNode,value,publicName,privateName):applyValueToInputField(instance,inputSignalNode,privateName,value)}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}let _icuContainerIterate;function icuContainerIterate(tIcuContainerNode,lView){return _icuContainerIterate(tIcuContainerNode,lView)}function parseCssTimeUnitsToMs(value){if(!value)return 0;const multiplier=value.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(value)*multiplier}function parseCssPropertyValue(computedStyle,name){return computedStyle.getPropertyValue(name).split(",").map(part=>part.trim())}function isShorterThanExistingAnimation(existing,longest){return void 0!==existing&&existing.duration>longest.duration}function longestExists(longest){return(null!=longest.animationName||null!=longest.propertyName)&&longest.duration>0}function determineLongestAnimationFromComputedStyles(el,animationsMap){const computedStyle=getComputedStyle(el),longestAnimation=function getLongestComputedAnimation(computedStyle){const rawNames=parseCssPropertyValue(computedStyle,"animation-name"),rawDelays=parseCssPropertyValue(computedStyle,"animation-delay"),rawDurations=parseCssPropertyValue(computedStyle,"animation-duration"),longest={animationName:"",propertyName:void 0,duration:0};for(let i=0;i<rawNames.length;i++){const duration=parseCssTimeUnitsToMs(rawDelays[i])+parseCssTimeUnitsToMs(rawDurations[i]);duration>longest.duration&&(longest.animationName=rawNames[i],longest.duration=duration)}return longest}(computedStyle),longestTransition=function getLongestComputedTransition(computedStyle){const transitionedProperties=parseCssPropertyValue(computedStyle,"transition-property"),rawDurations=parseCssPropertyValue(computedStyle,"transition-duration"),rawDelays=parseCssPropertyValue(computedStyle,"transition-delay"),longest={propertyName:"",duration:0,animationName:void 0};for(let i=0;i<transitionedProperties.length;i++){const duration=parseCssTimeUnitsToMs(rawDelays[i])+parseCssTimeUnitsToMs(rawDurations[i]);duration>longest.duration&&(longest.propertyName=transitionedProperties[i],longest.duration=duration)}return longest}(computedStyle),longest=longestAnimation.duration>longestTransition.duration?longestAnimation:longestTransition;isShorterThanExistingAnimation(animationsMap.get(el),longest)||longestExists(longest)&&animationsMap.set(el,longest)}function determineLongestAnimation(el,animationsMap,areAnimationSupported){if(!areAnimationSupported)return;const animations=el.getAnimations();return 0===animations.length?determineLongestAnimationFromComputedStyles(el,animationsMap):function determineLongestAnimationFromElementAnimations(el,animationsMap,animations){let longest={animationName:void 0,propertyName:void 0,duration:0};for(const animation of animations){const timing=animation.effect?.getTiming(),animDuration="number"==typeof timing?.duration?timing.duration:0;let propertyName,animationName,duration=(timing?.delay??0)+animDuration;animation.animationName?animationName=animation.animationName:propertyName=animation.transitionProperty,duration>=longest.duration&&(longest={animationName,propertyName,duration})}if(isShorterThanExistingAnimation(animationsMap.get(el),longest))return;longestExists(longest)&&animationsMap.set(el,longest)}(el,animationsMap,animations)}!function(InputFlags){InputFlags[InputFlags.None=0]="None",InputFlags[InputFlags.SignalBased=1]="SignalBased",InputFlags[InputFlags.HasDecoratorInputTransform=2]="HasDecoratorInputTransform"}(InputFlags||(InputFlags={})),function(RendererStyleFlags2){RendererStyleFlags2[RendererStyleFlags2.Important=1]="Important",RendererStyleFlags2[RendererStyleFlags2.DashCase=2]="DashCase"}(RendererStyleFlags2||(RendererStyleFlags2={}));const allLeavingAnimations=new Set;var TracingAction;!function(TracingAction){TracingAction[TracingAction.CHANGE_DETECTION=0]="CHANGE_DETECTION",TracingAction[TracingAction.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER"}(TracingAction||(TracingAction={}));const TracingService=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"TracingService":""),markedFeatures=new Set;function performanceMarkFeature(feature){markedFeatures.has(feature)||(markedFeatures.add(feature),performance?.mark?.("mark_feature_usage",{detail:{feature}}))}const SCHEDULE_IN_ROOT_ZONE_DEFAULT=!1;class EventEmitter_ extends rxjs__WEBPACK_IMPORTED_MODULE_3__.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(isAsync=!1){super(),this.__isAsync=isAsync,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M6u)()&&(this.destroyRef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.abz,{optional:!0})??void 0,this.pendingTasks=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rev,{optional:!0})??void 0)}emit(value){const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{super.next(value)}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}subscribe(observerOrNext,error,complete){let nextFn=observerOrNext,errorFn=error||(()=>null),completeFn=complete;if(observerOrNext&&"object"==typeof observerOrNext){const observer=observerOrNext;nextFn=observer.next?.bind(observer),errorFn=observer.error?.bind(observer),completeFn=observer.complete?.bind(observer)}this.__isAsync&&(errorFn=this.wrapInTimeout(errorFn),nextFn&&(nextFn=this.wrapInTimeout(nextFn)),completeFn&&(completeFn=this.wrapInTimeout(completeFn)));const sink=super.subscribe({next:nextFn,error:errorFn,complete:completeFn});return observerOrNext instanceof rxjs__WEBPACK_IMPORTED_MODULE_4__.yU&&observerOrNext.add(sink),sink}wrapInTimeout(fn){return value=>{const taskId=this.pendingTasks?.add();setTimeout(()=>{try{fn(value)}finally{void 0!==taskId&&this.pendingTasks?.remove(taskId)}})}}}const EventEmitter=EventEmitter_;function scheduleCallbackWithRafRace(callback){let timeoutId,animationFrameId;function cleanup(){callback=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.lQ1;try{void 0!==animationFrameId&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(animationFrameId),void 0!==timeoutId&&clearTimeout(timeoutId)}catch{}}return timeoutId=setTimeout(()=>{callback(),cleanup()}),"function"==typeof requestAnimationFrame&&(animationFrameId=requestAnimationFrame(()=>{callback(),cleanup()})),()=>cleanup()}function scheduleCallbackWithMicrotask(callback){return queueMicrotask(()=>callback()),()=>{callback=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.lQ1}}class AsyncStackTaggingZoneSpec{createTask;constructor(namePrefix,consoleAsyncStackTaggingImpl=console){this.name="asyncStackTagging for "+namePrefix,this.createTask=consoleAsyncStackTaggingImpl?.createTask??(()=>null)}name;onScheduleTask(delegate,_current,target,task){return task.consoleTask=this.createTask(`Zone - ${task.source||task.type}`),delegate.scheduleTask(target,task)}onInvokeTask(delegate,_currentZone,targetZone,task,applyThis,applyArgs){let ret;return ret=task.consoleTask?task.consoleTask.run(()=>delegate.invokeTask(targetZone,task,applyThis,applyArgs)):delegate.invokeTask(targetZone,task,applyThis,applyArgs),ret}}const isAngularZoneProperty="isAngularZone",angularZoneInstanceIdProperty="isAngularZone_ID";let ngZoneInstanceId=0;class NgZone{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new EventEmitter(!1);onMicrotaskEmpty=new EventEmitter(!1);onStable=new EventEmitter(!1);onError=new EventEmitter(!1);constructor(options){const{enableLongStackTrace=!1,shouldCoalesceEventChangeDetection=!1,shouldCoalesceRunChangeDetection=!1,scheduleInRootZone=SCHEDULE_IN_ROOT_ZONE_DEFAULT}=options;if("undefined"==typeof Zone)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(908,ngDevMode&&"In this configuration Angular requires Zone.js");Zone.assertZonePatched();const self=this;self._nesting=0,self._outer=self._inner=Zone.current,ngDevMode&&(self._inner=self._inner.fork(new AsyncStackTaggingZoneSpec("Angular"))),Zone.TaskTrackingZoneSpec&&(self._inner=self._inner.fork(new Zone.TaskTrackingZoneSpec)),enableLongStackTrace&&Zone.longStackTraceZoneSpec&&(self._inner=self._inner.fork(Zone.longStackTraceZoneSpec)),self.shouldCoalesceEventChangeDetection=!shouldCoalesceRunChangeDetection&&shouldCoalesceEventChangeDetection,self.shouldCoalesceRunChangeDetection=shouldCoalesceRunChangeDetection,self.callbackScheduled=!1,self.scheduleInRootZone=scheduleInRootZone,function forkInnerZoneWithAngularBehavior(zone){const delayChangeDetectionForEventsDelegate=()=>{!function delayChangeDetectionForEvents(zone){if(zone.isCheckStableRunning||zone.callbackScheduled)return;function scheduleCheckStable(){scheduleCallbackWithRafRace(()=>{zone.callbackScheduled=!1,updateMicroTaskStatus(zone),zone.isCheckStableRunning=!0,checkStable(zone),zone.isCheckStableRunning=!1})}zone.callbackScheduled=!0,zone.scheduleInRootZone?Zone.root.run(()=>{scheduleCheckStable()}):zone._outer.run(()=>{scheduleCheckStable()});updateMicroTaskStatus(zone)}(zone)},instanceId=ngZoneInstanceId++;zone._inner=zone._inner.fork({name:"angular",properties:{[isAngularZoneProperty]:!0,[angularZoneInstanceIdProperty]:instanceId,["isAngularZone_ID"+instanceId]:!0},onInvokeTask:(delegate,current,target,task,applyThis,applyArgs)=>{if(function shouldBeIgnoredByZone(applyArgs){return hasApplyArgsData(applyArgs,"__ignore_ng_zone__")}(applyArgs))return delegate.invokeTask(target,task,applyThis,applyArgs);try{return onEnter(zone),delegate.invokeTask(target,task,applyThis,applyArgs)}finally{(zone.shouldCoalesceEventChangeDetection&&"eventTask"===task.type||zone.shouldCoalesceRunChangeDetection)&&delayChangeDetectionForEventsDelegate(),onLeave(zone)}},onInvoke:(delegate,current,target,callback,applyThis,applyArgs,source)=>{try{return onEnter(zone),delegate.invoke(target,callback,applyThis,applyArgs,source)}finally{!zone.shouldCoalesceRunChangeDetection||zone.callbackScheduled||function isSchedulerTick(applyArgs){return hasApplyArgsData(applyArgs,"__scheduler_tick__")}(applyArgs)||delayChangeDetectionForEventsDelegate(),onLeave(zone)}},onHasTask:(delegate,current,target,hasTaskState)=>{delegate.hasTask(target,hasTaskState),current===target&&("microTask"==hasTaskState.change?(zone._hasPendingMicrotasks=hasTaskState.microTask,updateMicroTaskStatus(zone),checkStable(zone)):"macroTask"==hasTaskState.change&&(zone.hasPendingMacrotasks=hasTaskState.macroTask))},onHandleError:(delegate,current,target,error)=>(delegate.handleError(target,error),zone.runOutsideAngular(()=>zone.onError.emit(error)),!1)})}(self)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!NgZone.isInAngularZone())throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(909,ngDevMode&&"Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(NgZone.isInAngularZone())throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(909,ngDevMode&&"Expected to not be in Angular Zone, but it is!")}run(fn,applyThis,applyArgs){return this._inner.run(fn,applyThis,applyArgs)}runTask(fn,applyThis,applyArgs,name){const zone=this._inner,task=zone.scheduleEventTask("NgZoneEvent: "+name,fn,EMPTY_PAYLOAD,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.lQ1,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.lQ1);try{return zone.runTask(task,applyThis,applyArgs)}finally{zone.cancelTask(task)}}runGuarded(fn,applyThis,applyArgs){return this._inner.runGuarded(fn,applyThis,applyArgs)}runOutsideAngular(fn){return this._outer.run(fn)}}const EMPTY_PAYLOAD={};function checkStable(zone){if(0==zone._nesting&&!zone.hasPendingMicrotasks&&!zone.isStable)try{zone._nesting++,zone.onMicrotaskEmpty.emit(null)}finally{if(zone._nesting--,!zone.hasPendingMicrotasks)try{zone.runOutsideAngular(()=>zone.onStable.emit(null))}finally{zone.isStable=!0}}}function updateMicroTaskStatus(zone){zone._hasPendingMicrotasks||(zone.shouldCoalesceEventChangeDetection||zone.shouldCoalesceRunChangeDetection)&&!0===zone.callbackScheduled?zone.hasPendingMicrotasks=!0:zone.hasPendingMicrotasks=!1}function onEnter(zone){zone._nesting++,zone.isStable&&(zone.isStable=!1,zone.onUnstable.emit(null))}function onLeave(zone){zone._nesting--,checkStable(zone)}class NoopNgZone{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new EventEmitter;onMicrotaskEmpty=new EventEmitter;onStable=new EventEmitter;onError=new EventEmitter;run(fn,applyThis,applyArgs){return fn.apply(applyThis,applyArgs)}runGuarded(fn,applyThis,applyArgs){return fn.apply(applyThis,applyArgs)}runOutsideAngular(fn){return fn()}runTask(fn,applyThis,applyArgs,name){return fn.apply(applyThis,applyArgs)}}function hasApplyArgsData(applyArgs,key){return!!Array.isArray(applyArgs)&&(1===applyArgs.length&&!0===applyArgs[0]?.data?.[key])}function getNgZone(ngZoneToUse="zone.js",options){return"noop"===ngZoneToUse?new NoopNgZone:"zone.js"===ngZoneToUse?new NgZone(options):ngZoneToUse}class AfterRenderManager{impl=null;execute(){this.impl?.execute()}static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:AfterRenderManager,providedIn:"root",factory:()=>new AfterRenderManager})}const AFTER_RENDER_PHASES=(()=>[0,1,2,3])();class AfterRenderImpl{ngZone=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(NgZone);scheduler=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.hk6);errorHandler=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(TracingService,{optional:!0})}execute(){const hasSequencesToExecute=this.sequences.size>0;hasSequencesToExecute&&profiler(16),this.executing=!0;for(const phase of AFTER_RENDER_PHASES)for(const sequence of this.sequences)if(!sequence.erroredOrDestroyed&&sequence.hooks[phase])try{sequence.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,sequence.hooks[phase])(sequence.pipelinedValue),sequence.snapshot))}catch(err){sequence.erroredOrDestroyed=!0,this.errorHandler?.handleError(err)}this.executing=!1;for(const sequence of this.sequences)sequence.afterRun(),sequence.once&&(this.sequences.delete(sequence),sequence.destroy());for(const sequence of this.deferredRegistrations)this.sequences.add(sequence);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),hasSequencesToExecute&&profiler(17)}register(sequence){const{view}=sequence;void 0!==view?((view[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JEi]??=[]).push(sequence),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.blu)(view),view[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]|=8192):this.executing?this.deferredRegistrations.add(sequence):this.addSequence(sequence)}addSequence(sequence){this.sequences.add(sequence),this.scheduler.notify(7)}unregister(sequence){this.executing&&this.sequences.has(sequence)?(sequence.erroredOrDestroyed=!0,sequence.pipelinedValue=void 0,sequence.once=!0):(this.sequences.delete(sequence),this.deferredRegistrations.delete(sequence))}maybeTrace(fn,snapshot){return snapshot?snapshot.run(TracingAction.AFTER_NEXT_RENDER,fn):fn()}static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:AfterRenderImpl,providedIn:"root",factory:()=>new AfterRenderImpl})}class AfterRenderSequence{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(impl,hooks,view,once,destroyRef,snapshot=null){this.impl=impl,this.hooks=hooks,this.view=view,this.once=once,this.snapshot=snapshot,this.unregisterOnDestroy=destroyRef?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const scheduled=this.view?.[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JEi];scheduled&&(this.view[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JEi]=scheduled.filter(s=>s!==this))}}function afterEveryRender(callbackOrSpec,options){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tdH)(afterEveryRender,"Call `afterEveryRender` outside of a reactive context. For example, schedule the render callback inside the component constructor`."),ngDevMode&&!options?.injector&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Af3)(afterEveryRender);const injector=options?.injector??(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zZn);return"undefined"!=typeof ngServerMode&&ngServerMode?NOOP_AFTER_RENDER_REF:(performanceMarkFeature("NgAfterRender"),afterEveryRenderImpl(callbackOrSpec,injector,options,!1))}function afterNextRender(callbackOrSpec,options){ngDevMode&&!options?.injector&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Af3)(afterNextRender);const injector=options?.injector??(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zZn);return"undefined"!=typeof ngServerMode&&ngServerMode?NOOP_AFTER_RENDER_REF:(performanceMarkFeature("NgAfterNextRender"),afterEveryRenderImpl(callbackOrSpec,injector,options,!0))}function afterEveryRenderImpl(callbackOrSpec,injector,options,once){const manager=injector.get(AfterRenderManager);manager.impl??=injector.get(AfterRenderImpl);const tracing=injector.get(TracingService,null,{optional:!0}),destroyRef=!0!==options?.manualCleanup?injector.get(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.abz):null,viewContext=injector.get(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.r4V,null,{optional:!0}),sequence=new AfterRenderSequence(manager.impl,function getHooks(callbackOrSpec){return callbackOrSpec instanceof Function?[void 0,void 0,callbackOrSpec,void 0]:[callbackOrSpec.earlyRead,callbackOrSpec.write,callbackOrSpec.mixedReadWrite,callbackOrSpec.read]}(callbackOrSpec),viewContext?.view,once,destroyRef,tracing?.snapshot(null));return manager.impl.register(sequence),sequence}const NOOP_AFTER_RENDER_REF={destroy(){}},ANIMATION_QUEUE=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC("undefined"!=typeof ngDevMode&&ngDevMode?"AnimationQueue":"",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function addToAnimationQueue(injector,animationFns,animationData){const animationQueue=injector.get(ANIMATION_QUEUE);if(Array.isArray(animationFns))for(const animateFn of animationFns)animationQueue.queue.add(animateFn),animationData?.detachedLeaveAnimationFns?.push(animateFn);else animationQueue.queue.add(animationFns),animationData?.detachedLeaveAnimationFns?.push(animationFns);animationQueue.scheduler&&animationQueue.scheduler(injector)}function scheduleAnimationQueue(injector){const animationQueue=injector.get(ANIMATION_QUEUE);animationQueue.isScheduled||(afterNextRender(()=>{animationQueue.isScheduled=!1;for(let animateFn of animationQueue.queue)animateFn();animationQueue.queue.clear()},{injector}),animationQueue.isScheduled=!0)}function initializeAnimationQueueScheduler(injector){const animationQueue=injector.get(ANIMATION_QUEUE);animationQueue.scheduler=scheduleAnimationQueue,animationQueue.scheduler(injector)}function queueEnterAnimations(injector,enterAnimations){for(const[_,nodeAnimations]of enterAnimations)addToAnimationQueue(injector,nodeAnimations.animateFns)}function maybeQueueEnterAnimation(parentLView,parent,tNode,injector){const enterAnimations=parentLView?.[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Isx]?.enter;null!==parent&&enterAnimations&&enterAnimations.has(tNode.index)&&queueEnterAnimations(injector,enterAnimations)}function applyToElementOrContainer(action,renderer,injector,parent,lNodeToHandle,tNode,beforeNode,parentLView){if(null!=lNodeToHandle){let lContainer,isComponent=!1;(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.A0l)(lNodeToHandle)?lContainer=lNodeToHandle:(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(lNodeToHandle)&&(isComponent=!0,ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(lNodeToHandle[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP],"HOST must be defined for a component LView"),lNodeToHandle=lNodeToHandle[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP]);const rNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lNodeToHandle);0===action&&null!==parent?(maybeQueueEnterAnimation(parentLView,parent,tNode,injector),null==beforeNode?nativeAppendChild(renderer,parent,rNode):nativeInsertBefore(renderer,parent,rNode,beforeNode||null,!0)):1===action&&null!==parent?(maybeQueueEnterAnimation(parentLView,parent,tNode,injector),nativeInsertBefore(renderer,parent,rNode,beforeNode||null,!0)):2===action?runLeaveAnimationsWithCallback(parentLView,tNode,injector,nodeHasLeaveAnimations=>{nativeRemoveNode(renderer,rNode,isComponent,nodeHasLeaveAnimations)}):3===action&&runLeaveAnimationsWithCallback(parentLView,tNode,injector,()=>{renderer.destroyNode(rNode)}),null!=lContainer&&function applyContainer(renderer,action,injector,lContainer,tNode,parentRElement,beforeNode){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cP4)(lContainer);const anchor=lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.s6P],native=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lContainer);anchor!==native&&applyToElementOrContainer(action,renderer,injector,parentRElement,anchor,tNode,beforeNode);for(let i=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20;i<lContainer.length;i++){const lView=lContainer[i];applyView(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],lView,renderer,action,parentRElement,anchor)}}(renderer,action,injector,lContainer,tNode,parent,beforeNode)}}function removeViewFromDOM(tView,lView){detachViewFromDOM(tView,lView),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP]=null,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT]=null}function detachViewFromDOM(tView,lView){lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M0L].changeDetectionScheduler?.notify(9),applyView(tView,lView,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],2,null,null)}function detachMovedView(declarationContainer,lView){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cP4)(declarationContainer),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(declarationContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nfM],"A projected view should belong to a non-empty projected views collection");const movedViews=declarationContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nfM],declarationViewIndex=movedViews.indexOf(lView);movedViews.splice(declarationViewIndex,1)}function destroyLView(tView,lView){if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EPY)(lView))return;const renderer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT];renderer.destroyNode&&applyView(tView,lView,renderer,3,null,null),function destroyViewTree(rootView){let lViewOrLContainer=rootView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EJG];if(!lViewOrLContainer)return cleanUpView(rootView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],rootView);for(;lViewOrLContainer;){let next=null;if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(lViewOrLContainer))next=lViewOrLContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EJG];else{ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cP4)(lViewOrLContainer);const firstView=lViewOrLContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20];firstView&&(next=firstView)}if(!next){for(;lViewOrLContainer&&!lViewOrLContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29]&&lViewOrLContainer!==rootView;)(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(lViewOrLContainer)&&cleanUpView(lViewOrLContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],lViewOrLContainer),lViewOrLContainer=lViewOrLContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T];null===lViewOrLContainer&&(lViewOrLContainer=rootView),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(lViewOrLContainer)&&cleanUpView(lViewOrLContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],lViewOrLContainer),next=lViewOrLContainer&&lViewOrLContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29]}lViewOrLContainer=next}}(lView)}function cleanUpView(tView,lView){if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EPY)(lView))return;const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]&=-129,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]|=256,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Iaj]&&(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.XR)(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Iaj]),executeOnDestroys(tView,lView),processCleanups(tView,lView),1===lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].type&&lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT].destroy();const declarationContainer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rQE];if(null!==declarationContainer&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.A0l)(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T])){declarationContainer!==lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T]&&detachMovedView(declarationContainer,lView);const lQueries=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ds7];null!==lQueries&&lQueries.detachView(tView)}unregisterLView(lView)}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}function runLeaveAnimationsWithCallback(lView,tNode,injector,callback){const animations=lView?.[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Isx];if(null==animations||null==animations.leave||!animations.leave.has(tNode.index))return callback(!1);lView&&allLeavingAnimations.add(lView),addToAnimationQueue(injector,()=>{if(animations.leave&&animations.leave.has(tNode.index)){const leaveAnimations=animations.leave.get(tNode.index),runningAnimations=[];if(leaveAnimations){for(let index=0;index<leaveAnimations.animateFns.length;index++){const animationFn=leaveAnimations.animateFns[index],{promise}=animationFn();runningAnimations.push(promise)}animations.detachedLeaveAnimationFns=void 0}animations.running=Promise.allSettled(runningAnimations),function runAfterLeaveAnimations(lView,callback){const runningAnimations=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Isx]?.running;if(runningAnimations)return void runningAnimations.then(()=>{lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Isx].running=void 0,allLeavingAnimations.delete(lView),callback(!0)});callback(!1)}(lView,callback)}else lView&&allLeavingAnimations.delete(lView),callback(!1)},animations)}function processCleanups(tView,lView){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.pr_)(processCleanups.name);const tCleanup=tView.cleanup,lCleanup=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VVG];if(null!==tCleanup)for(let i=0;i<tCleanup.length-1;i+=2)if("string"==typeof tCleanup[i]){const targetIdx=tCleanup[i+3];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(targetIdx,"cleanup target must be a number"),targetIdx>=0?lCleanup[targetIdx]():lCleanup[-targetIdx].unsubscribe(),i+=2}else{const context=lCleanup[tCleanup[i+1]];tCleanup[i].call(context)}null!==lCleanup&&(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VVG]=null);const destroyHooks=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Czx];if(null!==destroyHooks){lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Czx]=null;for(let i=0;i<destroyHooks.length;i++){const destroyHooksFn=destroyHooks[i];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.LIA)(destroyHooksFn,"Expecting destroy hook to be a function."),destroyHooksFn()}}const effects=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tQN];if(null!==effects){lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tQN]=null;for(const effect of effects)effect.destroy()}}function executeOnDestroys(tView,lView){let destroyHooks;if(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.pr_)(executeOnDestroys.name),null!=tView&&null!=(destroyHooks=tView.destroyHooks))for(let i=0;i<destroyHooks.length;i+=2){const context=lView[destroyHooks[i]];if(!(context instanceof NodeInjectorFactory)){const toCall=destroyHooks[i+1];if(Array.isArray(toCall))for(let j=0;j<toCall.length;j+=2){const callContext=context[toCall[j]],hook=toCall[j+1];profiler(4,callContext,hook);try{hook.call(callContext)}finally{profiler(5,callContext,hook)}}else{profiler(4,context,toCall);try{toCall.call(context)}finally{profiler(5,context,toCall)}}}}}function getParentRElement(tView,tNode,lView){return getClosestRElement(tView,tNode.parent,lView)}function getClosestRElement(tView,tNode,lView){let parentTNode=tNode;for(;null!==parentTNode&&168&parentTNode.type;)parentTNode=(tNode=parentTNode).parent;if(null===parentTNode)return lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP];if(ngDevMode&&assertTNodeType(parentTNode,7),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Qs1)(parentTNode)){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VKj)(parentTNode,lView);const{encapsulation}=tView.data[parentTNode.directiveStart+parentTNode.componentOffset];if(encapsulation===ViewEncapsulation.None||encapsulation===ViewEncapsulation.Emulated)return null}return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(parentTNode,lView)}function getInsertInFrontOfRNode(parentTNode,currentTNode,lView){return _getInsertInFrontOfRNodeWithI18n(parentTNode,currentTNode,lView)}function getInsertInFrontOfRNodeWithNoI18n(parentTNode,currentTNode,lView){return 40&parentTNode.type?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(parentTNode,lView):null}let _processI18nInsertBefore,_getInsertInFrontOfRNodeWithI18n=getInsertInFrontOfRNodeWithNoI18n;function setI18nHandling(getInsertInFrontOfRNodeWithI18n,processI18nInsertBefore){_getInsertInFrontOfRNodeWithI18n=getInsertInFrontOfRNodeWithI18n,_processI18nInsertBefore=processI18nInsertBefore}function appendChild(tView,lView,childRNode,childTNode){const parentRNode=getParentRElement(tView,childTNode,lView),renderer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],anchorNode=getInsertInFrontOfRNode(childTNode.parent||lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT],childTNode,lView);if(null!=parentRNode)if(Array.isArray(childRNode))for(let i=0;i<childRNode.length;i++)nativeAppendOrInsertBefore(renderer,parentRNode,childRNode[i],anchorNode,!1);else nativeAppendOrInsertBefore(renderer,parentRNode,childRNode,anchorNode,!1);void 0!==_processI18nInsertBefore&&_processI18nInsertBefore(renderer,childTNode,lView,childRNode,parentRNode)}function getFirstNativeNode(lView,tNode){if(null!==tNode){ngDevMode&&assertTNodeType(tNode,191);const tNodeType=tNode.type;if(3&tNodeType)return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(tNode,lView);if(4&tNodeType)return getBeforeNodeForView(-1,lView[tNode.index]);if(8&tNodeType){const elIcuContainerChild=tNode.child;if(null!==elIcuContainerChild)return getFirstNativeNode(lView,elIcuContainerChild);{const rNodeOrLContainer=lView[tNode.index];return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.A0l)(rNodeOrLContainer)?getBeforeNodeForView(-1,rNodeOrLContainer):(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(rNodeOrLContainer)}}if(128&tNodeType)return getFirstNativeNode(lView,tNode.next);if(32&tNodeType){return icuContainerIterate(tNode,lView)()||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[tNode.index])}{const projectionNodes=getProjectionNodes(lView,tNode);if(null!==projectionNodes){if(Array.isArray(projectionNodes))return projectionNodes[0];const parentView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._0$)(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C]);return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MI)(parentView),getFirstNativeNode(parentView,projectionNodes)}return getFirstNativeNode(lView,tNode.next)}}return null}function getProjectionNodes(lView,tNode){if(null!==tNode){const componentHost=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT],slotIdx=tNode.projection;return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.biv)(lView),componentHost.projection[slotIdx]}return null}function getBeforeNodeForView(viewIndexInContainer,lContainer){const nextViewIndex=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20+viewIndexInContainer+1;if(nextViewIndex<lContainer.length){const lView=lContainer[nextViewIndex],firstTNodeOfView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].firstChild;if(null!==firstTNodeOfView)return getFirstNativeNode(lView,firstTNodeOfView)}return lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.s6P]}function applyNodes(renderer,action,tNode,lView,parentRElement,beforeNode,isProjection){for(;null!=tNode;){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VKj)(tNode,lView);const injector=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL];if(128===tNode.type){tNode=tNode.next;continue}ngDevMode&&assertTNodeType(tNode,63);const rawSlotValue=lView[tNode.index],tNodeType=tNode.type;if(isProjection&&0===action&&(rawSlotValue&&attachPatchData((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(rawSlotValue),lView),tNode.flags|=2),!isDetachedByI18n(tNode))if(8&tNodeType)applyNodes(renderer,action,tNode.child,lView,parentRElement,beforeNode,!1),applyToElementOrContainer(action,renderer,injector,parentRElement,rawSlotValue,tNode,beforeNode,lView);else if(32&tNodeType){const nextRNode=icuContainerIterate(tNode,lView);let rNode;for(;rNode=nextRNode();)applyToElementOrContainer(action,renderer,injector,parentRElement,rNode,tNode,beforeNode,lView);applyToElementOrContainer(action,renderer,injector,parentRElement,rawSlotValue,tNode,beforeNode,lView)}else 16&tNodeType?applyProjectionRecursive(renderer,action,lView,tNode,parentRElement,beforeNode):(ngDevMode&&assertTNodeType(tNode,7),applyToElementOrContainer(action,renderer,injector,parentRElement,rawSlotValue,tNode,beforeNode,lView));tNode=isProjection?tNode.projectionNext:tNode.next}}function applyView(tView,lView,renderer,action,parentRElement,beforeNode){applyNodes(renderer,action,tView.firstChild,lView,parentRElement,beforeNode,!1)}function applyProjectionRecursive(renderer,action,lView,tProjectionNode,parentRElement,beforeNode){const componentLView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C],componentNode=componentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(typeof tProjectionNode.projection,"number","expecting projection index");const nodeToProjectOrRNodes=componentNode.projection[tProjectionNode.projection];if(Array.isArray(nodeToProjectOrRNodes))for(let i=0;i<nodeToProjectOrRNodes.length;i++){const rNode=nodeToProjectOrRNodes[i];applyToElementOrContainer(action,renderer,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],parentRElement,rNode,tProjectionNode,beforeNode,lView)}else{let nodeToProject=nodeToProjectOrRNodes;const projectedComponentLView=componentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T];hasInSkipHydrationBlockFlag(tProjectionNode)&&(nodeToProject.flags|=128),applyNodes(renderer,action,nodeToProject,projectedComponentLView,parentRElement,beforeNode,!0)}}function executeTemplate(tView,lView,templateFn,rf,context){const prevSelectedIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)(),isUpdatePhase=2&rf;try{(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ypq)(-1),isUpdatePhase&&lView.length>_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1&&selectIndexInternal(tView,lView,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,!!ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rFz)());profiler(isUpdatePhase?2:0,context,templateFn),templateFn(rf,context)}finally{(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ypq)(prevSelectedIndex);profiler(isUpdatePhase?3:1,context,templateFn)}}function createDirectivesInstances(tView,lView,tNode){!function instantiateAllDirectives(tView,lView,tNode){const start=tNode.directiveStart,end=tNode.directiveEnd;(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Qs1)(tNode)&&(ngDevMode&&assertTNodeType(tNode,3),function createComponentLView(lView,hostTNode,def){const native=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(hostTNode,lView),tView=getOrCreateComponentTView(def),rendererFactory=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M0L].rendererFactory,componentView=addToEndOfViewTree(lView,createLView(lView,tView,null,getInitialLViewFlagsFromDef(def),native,hostTNode,null,rendererFactory.createRenderer(native,def),null,null,null));return lView[hostTNode.index]=componentView}(lView,tNode,tView.data[start+tNode.componentOffset]));tView.firstCreatePass||getOrCreateNodeInjectorForNode(tNode,lView);const initialInputs=tNode.initialInputs;for(let i=start;i<end;i++){const def=tView.data[i],directive=getNodeInjectable(lView,tView,i,tNode);if(attachPatchData(directive,lView),null!==initialInputs&&setInputsFromAttrs(lView,i-start,directive,def,tNode,initialInputs),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV)(def)){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(tNode.index,lView)[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]=getNodeInjectable(lView,tView,i,tNode)}}}(tView,lView,tNode),64&~tNode.flags||function invokeDirectivesHostBindings(tView,lView,tNode){const start=tNode.directiveStart,end=tNode.directiveEnd,elementIndex=tNode.index,currentDirectiveIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Z9v)();try{(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ypq)(elementIndex);for(let dirIndex=start;dirIndex<end;dirIndex++){const def=tView.data[dirIndex],directive=lView[dirIndex];(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.RZ9)(dirIndex),null===def.hostBindings&&0===def.hostVars&&null===def.hostAttrs||invokeHostBindingsInCreationMode(def,directive)}}finally{(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ypq)(-1),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.RZ9)(currentDirectiveIndex)}}(tView,lView,tNode)}function saveResolvedLocalsInData(viewData,tNode,localRefExtractor=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31){const localNames=tNode.localNames;if(null!==localNames){let localIndex=tNode.index+1;for(let i=0;i<localNames.length;i+=2){const index=localNames[i+1],value=-1===index?localRefExtractor(tNode,viewData):viewData[index];viewData[localIndex++]=value}}}function locateHostElement(renderer,elementOrSelector,encapsulation,injector){const preserveContent=injector.get(PRESERVE_HOST_CONTENT,false)||encapsulation===ViewEncapsulation.ShadowDom,rootElement=renderer.selectRootElement(elementOrSelector,preserveContent);return function applyRootElementTransform(rootElement){_applyRootElementTransformImpl(rootElement)}(rootElement),rootElement}let _applyRootElementTransformImpl=()=>null;function applyRootElementTransformImpl(rootElement){hasSkipHydrationAttrOnRElement(rootElement)?clearElementContents(rootElement):function processTextNodeMarkersBeforeHydration(node){const doc=getDocument(),commentNodesIterator=doc.createNodeIterator(node,NodeFilter.SHOW_COMMENT,{acceptNode(node){const content=function getTextNodeContent(node){return node.textContent?.replace(/\s/gm,"")}(node);return"ngetn"===content||"ngtns"===content?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let currentNode;const nodes=[];for(;currentNode=commentNodesIterator.nextNode();)nodes.push(currentNode);for(const node of nodes)"ngetn"===node.textContent?node.replaceWith(doc.createTextNode("")):node.remove()}(rootElement)}function enableApplyRootElementTransformImpl(){_applyRootElementTransformImpl=applyRootElementTransformImpl}function setPropertyAndInputs(tNode,lView,propName,value,renderer,sanitizer){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IAh)(value,NO_CHANGE,"Incoming value should never be NO_CHANGE.");const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];if(setAllInputsForProperty(tNode,tView,lView,propName,value))return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Qs1)(tNode)&&markDirtyIfOnPush(lView,tNode.index),void(ngDevMode&&setNgReflectProperties(lView,tView,tNode,propName,value));3&tNode.type&&(propName=function mapPropName(name){return"class"===name?"className":"for"===name?"htmlFor":"formaction"===name?"formAction":"innerHtml"===name?"innerHTML":"readonly"===name?"readOnly":"tabindex"===name?"tabIndex":name}(propName)),setDomProperty(tNode,lView,propName,value,renderer,sanitizer)}function setDomProperty(tNode,lView,propName,value,renderer,sanitizer){if(3&tNode.type){const element=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(tNode,lView);ngDevMode&&(!function validateAgainstEventProperties(name){if(name.toLowerCase().startsWith("on")){const errorMessage=`Binding to event property '${name}' is disallowed for security reasons, please use (${name.slice(2)})=...\nIf '${name}' is a directive input, make sure the directive is imported by the current module.`;throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(306,errorMessage)}}(propName),function isPropertyValid(element,propName,tagName,schemas){return!(null!==schemas&&!(matchingSchemas(schemas,tagName)||propName in element||isAnimationProp(propName))&&"undefined"!=typeof Node&&null!==Node&&element instanceof Node)}(element,propName,tNode.value,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].schemas)||handleUnknownPropertyError(propName,tNode.value,tNode.type,lView)),value=null!=sanitizer?sanitizer(value,tNode.value||"",propName):value,renderer.setProperty(element,propName,value)}else 12&tNode.type&&ngDevMode&&!matchingSchemas(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].schemas,tNode.value)&&handleUnknownPropertyError(propName,tNode.value,tNode.type,lView)}function markDirtyIfOnPush(lView,viewIndex){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MdC)(lView);const childComponentLView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(viewIndex,lView);16&childComponentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]||(childComponentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]|=64)}function setNgReflectProperty(lView,tNode,attrName,value){if(!lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M0L].ngReflect)return;const element=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(tNode,lView),renderer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT];attrName=normalizeDebugBindingName(attrName);const debugValue=function normalizeDebugBindingValue(value){try{return null!=value?value.toString().slice(0,30):value}catch(e){return"[ERROR] Exception while trying to serialize the value"}}(value);if(3&tNode.type)null==value?renderer.removeAttribute(element,attrName):renderer.setAttribute(element,attrName,debugValue);else{const textContent=escapeCommentText(`bindings=${JSON.stringify({[attrName]:debugValue},null,2)}`);renderer.setValue(element,textContent)}}function setNgReflectProperties(lView,tView,tNode,publicName,value){if(!(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M0L].ngReflect&&7&tNode.type))return;const inputConfig=tNode.inputs?.[publicName],hostInputConfig=tNode.hostDirectiveInputs?.[publicName];if(hostInputConfig)for(let i=0;i<hostInputConfig.length;i+=2){const index=hostInputConfig[i],publicName=hostInputConfig[i+1];setNgReflectProperty(lView,tNode,tView.data[index].inputs[publicName][0],value)}if(inputConfig)for(const index of inputConfig){setNgReflectProperty(lView,tNode,tView.data[index].inputs[publicName][0],value)}}function invokeHostBindingsInCreationMode(def,directive){null!==def.hostBindings&&def.hostBindings(1,directive)}function findDirectiveDefMatches(tView,tNode){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)(tView),ngDevMode&&assertTNodeType(tNode,15);const registry=tView.directiveRegistry;let matches=null;if(registry)for(let i=0;i<registry.length;i++){const def=registry[i];isNodeMatchingSelectorList(tNode,def.selectors,!1)&&(matches??=[],(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV)(def)?(ngDevMode&&(assertTNodeType(tNode,2,`"${tNode.value}" tags cannot be used as component hosts. Please use a different tag to activate the ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.AsM)(def.type)} component.`),matches.length&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV)(matches[0])&&throwMultipleComponentError(tNode,matches.find(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV).type,def.type)),matches.unshift(def)):matches.push(def))}return matches}function elementAttributeInternal(tNode,lView,name,value,sanitizer,namespace){ngDevMode&&((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IAh)(value,NO_CHANGE,"Incoming value should never be NO_CHANGE."),function validateAgainstEventAttributes(name){if(name.toLowerCase().startsWith("on")){const errorMessage=`Binding to event attribute '${name}' is disallowed for security reasons, please use (${name.slice(2)})=...`;throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(306,errorMessage)}}(name),assertTNodeType(tNode,2,`Attempted to set attribute \`${name}\` on a container node. Host bindings are not valid on ng-container or ng-template.`));const element=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(tNode,lView);setElementAttribute(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],element,namespace,tNode.value,name,value,sanitizer)}function setElementAttribute(renderer,element,namespace,tagName,name,value,sanitizer){if(null==value)renderer.removeAttribute(element,name,namespace);else{const strValue=null==sanitizer?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(value):sanitizer(value,tagName||"",name);renderer.setAttribute(element,name,strValue,namespace)}}function setInputsFromAttrs(lView,directiveIndex,instance,def,tNode,initialInputData){const initialInputs=initialInputData[directiveIndex];if(null!==initialInputs)for(let i=0;i<initialInputs.length;i+=2){const lookupName=initialInputs[i],value=initialInputs[i+1];writeToDirectiveInput(def,instance,lookupName,value),ngDevMode&&setNgReflectProperty(lView,tNode,def.inputs[lookupName][0],value)}}function elementLikeStartShared(tNode,lView,index,name,locateOrCreateNativeNode){const adjustedIndex=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1+index,tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],native=locateOrCreateNativeNode(tView,lView,tNode,name,index);lView[adjustedIndex]=native,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iMd)(tNode,!0);const isElement=2===tNode.type;return isElement?(setupStaticAttributes(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],native,tNode),(0===(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.znI)()||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yoD)(tNode))&&attachPatchData(native,lView),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Fje)()):attachPatchData(native,lView),!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SX7)()||isElement&&isDetachedByI18n(tNode)||appendChild(tView,lView,native,tNode),tNode}function elementLikeEndShared(tNode){let currentTNode=tNode;return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YWB)()?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Pfq)():(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.bBq)((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)()),currentTNode=currentTNode.parent,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iMd)(currentTNode,!1)),currentTNode}function storePropertyBindingMetadata(tData,tNode,propertyName,bindingIndex,...interpolationParts){if(null===tData[bindingIndex]&&!tNode.inputs?.[propertyName]&&!tNode.hostDirectiveInputs?.[propertyName]){(tNode.propertyBindings||(tNode.propertyBindings=[])).push(bindingIndex);let bindingMetadata=propertyName;interpolationParts.length>0&&(bindingMetadata+=INTERPOLATION_DELIMITER+interpolationParts.join(INTERPOLATION_DELIMITER)),tData[bindingIndex]=bindingMetadata}}function loadComponentRenderer(currentDef,tNode,lView){return(null===currentDef||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV)(currentDef))&&(lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zAe)(lView[tNode.index])),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT]}function handleUncaughtError(lView,error){const injector=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL];if(!injector)return;let errorHandler;try{errorHandler=injector.get(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ZTf,null)}catch{errorHandler=null}errorHandler?.(error)}function setAllInputsForProperty(tNode,tView,lView,publicName,value){const inputs=tNode.inputs?.[publicName],hostDirectiveInputs=tNode.hostDirectiveInputs?.[publicName];let hasMatch=!1;if(hostDirectiveInputs)for(let i=0;i<hostDirectiveInputs.length;i+=2){const index=hostDirectiveInputs[i];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView,index);const publicName=hostDirectiveInputs[i+1];writeToDirectiveInput(tView.data[index],lView[index],publicName,value),hasMatch=!0}if(inputs)for(const index of inputs){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView,index);const instance=lView[index];writeToDirectiveInput(tView.data[index],instance,publicName,value),hasMatch=!0}return hasMatch}function renderComponent(hostLView,componentHostIdx){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.vOT)(hostLView),!0,"Should be run in creation mode");const componentView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(componentHostIdx,hostLView),componentTView=componentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];!function syncViewWithBlueprint(tView,lView){for(let i=lView.length;i<tView.blueprint.length;i++)lView.push(tView.blueprint[i])}(componentTView,componentView);const hostRNode=componentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP];null!==hostRNode&&null===componentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA]&&(componentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA]=retrieveHydrationInfo(hostRNode,componentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL])),profiler(18),renderView(componentTView,componentView,componentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]),profiler(19,componentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP])}function renderView(tView,lView,context){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.vOT)(lView),!0,"Should be run in creation mode"),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.pr_)(renderView.name),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ID8)(lView);try{const viewQuery=tView.viewQuery;null!==viewQuery&&executeViewQueryFn(1,viewQuery,context);const templateFn=tView.template;null!==templateFn&&executeTemplate(tView,lView,templateFn,1,context),tView.firstCreatePass&&(tView.firstCreatePass=!1),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ds7]?.finishViewCreation(tView),tView.staticContentQueries&&refreshContentQueries(tView,lView),tView.staticViewQueries&&executeViewQueryFn(2,tView.viewQuery,context);const components=tView.components;null!==components&&function renderChildComponents(hostLView,components){for(let i=0;i<components.length;i++)renderComponent(hostLView,components[i])}(lView,components)}catch(error){throw tView.firstCreatePass&&(tView.incompleteFirstPass=!0,tView.firstCreatePass=!1),error}finally{lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]&=-5,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.bll)()}}function createAndRenderEmbeddedLView(declarationLView,templateTNode,context,options){const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{const embeddedTView=templateTNode.tView;ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(embeddedTView,"TView must be defined for a template node."),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VKj)(templateTNode,declarationLView);const isSignalView=4096&declarationLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1],embeddedLView=createLView(declarationLView,embeddedTView,context,isSignalView?4096:16,null,templateTNode,null,null,options?.injector??null,options?.embeddedViewInjector??null,options?.dehydratedView??null),declarationLContainer=declarationLView[templateTNode.index];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cP4)(declarationLContainer),embeddedLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rQE]=declarationLContainer;const declarationViewLQueries=declarationLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ds7];return null!==declarationViewLQueries&&(embeddedLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ds7]=declarationViewLQueries.createEmbeddedView(embeddedTView)),renderView(embeddedTView,embeddedLView,context),embeddedLView}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}function shouldAddViewToDom(tNode,dehydratedView){return!dehydratedView||null===dehydratedView.firstChild||hasInSkipHydrationBlockFlag(tNode)}const UseExhaustiveCheckNoChanges=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"exhaustive checkNoChanges":"");function collectNativeNodes(tView,lView,tNode,result,isProjection=!1){for(;null!==tNode;){if(128===tNode.type){tNode=isProjection?tNode.projectionNext:tNode.next;continue}ngDevMode&&assertTNodeType(tNode,63);const lNode=lView[tNode.index];null!==lNode&&result.push((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lNode)),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.A0l)(lNode)&&collectNativeNodesInLContainer(lNode,result);const tNodeType=tNode.type;if(8&tNodeType)collectNativeNodes(tView,lView,tNode.child,result);else if(32&tNodeType){const nextRNode=icuContainerIterate(tNode,lView);let rNode;for(;rNode=nextRNode();)result.push(rNode)}else if(16&tNodeType){const nodesInSlot=getProjectionNodes(lView,tNode);if(Array.isArray(nodesInSlot))result.push(...nodesInSlot);else{const parentView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._0$)(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C]);ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MI)(parentView),collectNativeNodes(parentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],parentView,nodesInSlot,result,!0)}}tNode=isProjection?tNode.projectionNext:tNode.next}return result}function collectNativeNodesInLContainer(lContainer,result){for(let i=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20;i<lContainer.length;i++){const lViewInAContainer=lContainer[i],lViewFirstChildTNode=lViewInAContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].firstChild;null!==lViewFirstChildTNode&&collectNativeNodes(lViewInAContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],lViewInAContainer,lViewFirstChildTNode,result)}lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.s6P]!==lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP]&&result.push(lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.s6P])}function addAfterRenderSequencesForView(lView){if(null!==lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JEi]){for(const sequence of lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JEi])sequence.impl.addSequence(sequence);lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JEi].length=0}}let freeConsumers=[];function getOrBorrowReactiveLViewConsumer(lView){return lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Iaj]??function borrowReactiveLViewConsumer(lView){const consumer=freeConsumers.pop()??Object.create(REACTIVE_LVIEW_CONSUMER_NODE);return consumer.lView=lView,consumer}(lView)}const REACTIVE_LVIEW_CONSUMER_NODE={..._signal_mjs__WEBPACK_IMPORTED_MODULE_2__.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:node=>{(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.blu)(node.lView)},consumerOnSignalRead(){this.lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Iaj]=this}};const TEMPORARY_CONSUMER_NODE={..._signal_mjs__WEBPACK_IMPORTED_MODULE_2__.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:node=>{let parent=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._0$)(node.lView);for(;parent&&!viewShouldHaveReactiveConsumer(parent[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl]);)parent=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._0$)(parent);parent&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HAh)(parent)},consumerOnSignalRead(){this.lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Iaj]=this}};function viewShouldHaveReactiveConsumer(tView){return 2!==tView.type}function runEffectsInView(view){if(null===view[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tQN])return;let tryFlushEffects=!0;for(;tryFlushEffects;){let foundDirtyEffect=!1;for(const effect of view[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tQN])effect.dirty&&(foundDirtyEffect=!0,null===effect.zone||Zone.current===effect.zone?effect.run():effect.zone.run(()=>effect.run()));tryFlushEffects=foundDirtyEffect&&!!(8192&view[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1])}}const MAXIMUM_REFRESH_RERUNS$1=100;function detectChangesInternal(lView,mode=0){const rendererFactory=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M0L].rendererFactory,checkNoChangesMode=!!ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rFz)();checkNoChangesMode||rendererFactory.begin?.();try{!function detectChangesInViewWhileDirty(lView,mode){const lastIsRefreshingViewsValue=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yP_)();try{if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cBl)(!0),detectChangesInView(lView,mode),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.P3H)())return;let retries=0;for(;(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.dMS)(lView);){if(retries===MAXIMUM_REFRESH_RERUNS$1)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(103,ngDevMode&&"Infinite change detection while trying to refresh views. There may be components which each cause the other to require a refresh, causing an infinite loop.");retries++,detectChangesInView(lView,1)}}finally{(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cBl)(lastIsRefreshingViewsValue)}}(lView,mode)}finally{checkNoChangesMode||rendererFactory.end?.()}}function checkNoChangesInternal(lView,exhaustive){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.P2g)(exhaustive?_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eVN.Exhaustive:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eVN.OnlyDirtyViews);try{detectChangesInternal(lView)}finally{(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.P2g)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eVN.Off)}}function refreshView(tView,lView,templateFn,context){if(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.vOT)(lView),!1,"Should be run in update mode"),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EPY)(lView))return;const flags=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1],isInCheckNoChangesPass=ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rFz)(),isInExhaustiveCheckNoChangesPass=ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.P3H)();(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ID8)(lView);let returnConsumerToPool=!0,prevConsumer=null,currentConsumer=null;isInCheckNoChangesPass||(viewShouldHaveReactiveConsumer(tView)?(currentConsumer=getOrBorrowReactiveLViewConsumer(lView),prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Bg)(currentConsumer)):null===(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.nR)()?(returnConsumerToPool=!1,currentConsumer=function getOrCreateTemporaryConsumer(lView){const consumer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Iaj]??Object.create(TEMPORARY_CONSUMER_NODE);return consumer.lView=lView,consumer}(lView),prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Bg)(currentConsumer)):lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Iaj]&&((0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.XR)(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Iaj]),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Iaj]=null));try{(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HUe)(lView),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Kw3)(tView.bindingStartIndex),null!==templateFn&&executeTemplate(tView,lView,templateFn,2,context);const hooksInitPhaseCompleted=!(3&~flags);if(!isInCheckNoChangesPass)if(hooksInitPhaseCompleted){const preOrderCheckHooks=tView.preOrderCheckHooks;null!==preOrderCheckHooks&&executeCheckHooks(lView,preOrderCheckHooks,null)}else{const preOrderHooks=tView.preOrderHooks;null!==preOrderHooks&&executeInitAndCheckHooks(lView,preOrderHooks,0,null),incrementInitPhaseFlags(lView,0)}if(isInExhaustiveCheckNoChangesPass||function markTransplantedViewsForRefresh(lView){for(let lContainer=getFirstLContainer(lView);null!==lContainer;lContainer=getNextLContainer(lContainer)){if(!(2&lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]))continue;const movedViews=lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nfM];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(movedViews,"Transplanted View flags set but missing MOVED_VIEWS");for(let i=0;i<movedViews.length;i++){const movedLView=movedViews[i];(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HAh)(movedLView)}}}(lView),runEffectsInView(lView),detectChangesInEmbeddedViews(lView,0),null!==tView.contentQueries&&refreshContentQueries(tView,lView),!isInCheckNoChangesPass)if(hooksInitPhaseCompleted){const contentCheckHooks=tView.contentCheckHooks;null!==contentCheckHooks&&executeCheckHooks(lView,contentCheckHooks)}else{const contentHooks=tView.contentHooks;null!==contentHooks&&executeInitAndCheckHooks(lView,contentHooks,1),incrementInitPhaseFlags(lView,1)}!function processHostBindingOpCodes(tView,lView){const hostBindingOpCodes=tView.hostBindingOpCodes;if(null===hostBindingOpCodes)return;try{for(let i=0;i<hostBindingOpCodes.length;i++){const opCode=hostBindingOpCodes[i];if(opCode<0)(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ypq)(~opCode);else{const directiveIdx=opCode,bindingRootIndx=hostBindingOpCodes[++i],hostBindingFn=hostBindingOpCodes[++i];(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.vQI)(bindingRootIndx,directiveIdx);const context=lView[directiveIdx];profiler(24,context),hostBindingFn(2,context),profiler(25,context)}}}finally{(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ypq)(-1)}}(tView,lView);const components=tView.components;null!==components&&detectChangesInChildComponents(lView,components,0);const viewQuery=tView.viewQuery;if(null!==viewQuery&&executeViewQueryFn(2,viewQuery,context),!isInCheckNoChangesPass)if(hooksInitPhaseCompleted){const viewCheckHooks=tView.viewCheckHooks;null!==viewCheckHooks&&executeCheckHooks(lView,viewCheckHooks)}else{const viewHooks=tView.viewHooks;null!==viewHooks&&executeInitAndCheckHooks(lView,viewHooks,2),incrementInitPhaseFlags(lView,2)}if(!0===tView.firstUpdatePass&&(tView.firstUpdatePass=!1),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.pcR]){for(const notifyEffect of lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.pcR])notifyEffect();lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.pcR]=null}isInCheckNoChangesPass||(addAfterRenderSequencesForView(lView),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]&=-73)}catch(e){throw isInCheckNoChangesPass||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.blu)(lView),e}finally{null!==currentConsumer&&((0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Wu)(currentConsumer,prevConsumer),returnConsumerToPool&&function maybeReturnReactiveLViewConsumer(consumer){consumer.lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Iaj]!==consumer&&(consumer.lView=null,freeConsumers.push(consumer))}(currentConsumer)),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.bll)()}}function detectChangesInEmbeddedViews(lView,mode){for(let lContainer=getFirstLContainer(lView);null!==lContainer;lContainer=getNextLContainer(lContainer))for(let i=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20;i<lContainer.length;i++){detectChangesInViewIfAttached(lContainer[i],mode)}}function detectChangesInComponent(hostLView,componentHostIdx,mode){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.vOT)(hostLView),!1,"Should be run in update mode"),profiler(18);const componentView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(componentHostIdx,hostLView);detectChangesInViewIfAttached(componentView,mode),profiler(19,componentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP])}function detectChangesInViewIfAttached(lView,mode){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.F1c)(lView)&&detectChangesInView(lView,mode)}function detectChangesInView(lView,mode){const isInCheckNoChangesPass=ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rFz)(),tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],flags=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1],consumer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Iaj];let shouldRefreshView=!!(0===mode&&16&flags);if(shouldRefreshView||=!(!(64&flags&&0===mode)||isInCheckNoChangesPass),shouldRefreshView||=!!(1024&flags),shouldRefreshView||=!(!consumer?.dirty||!(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.si)(consumer)),shouldRefreshView||=!(!ngDevMode||!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.P3H)()),consumer&&(consumer.dirty=!1),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]&=-9217,shouldRefreshView)refreshView(tView,lView,tView.template,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]);else if(8192&flags){const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{isInCheckNoChangesPass||runEffectsInView(lView),detectChangesInEmbeddedViews(lView,1);const components=tView.components;null!==components&&detectChangesInChildComponents(lView,components,1),isInCheckNoChangesPass||addAfterRenderSequencesForView(lView)}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}}function detectChangesInChildComponents(hostLView,components,mode){for(let i=0;i<components.length;i++)detectChangesInComponent(hostLView,components[i],mode)}function markViewDirty(lView,source){const dirtyBitsToUse=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yP_)()?64:1088;for(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M0L].changeDetectionScheduler?.notify(source);lView;){lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]|=dirtyBitsToUse;const parent=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._0$)(lView);if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EFk)(lView)&&!parent)return lView;lView=parent}return null}function createLContainer(hostNative,currentView,native,tNode){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MdC)(currentView);const lContainer=[hostNative,!0,0,currentView,null,tNode,null,native,null,null];return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(lContainer.length,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20,"Should allocate correct number of slots for LContainer header."),lContainer}function getLViewFromLContainer(lContainer,index){const adjustedIndex=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20+index;if(adjustedIndex<lContainer.length){const lView=lContainer[adjustedIndex];return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MdC)(lView),lView}}function addLViewToLContainer(lContainer,lView,index,addToDOM=!0){const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];if(function insertView(tView,lView,lContainer,index){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MdC)(lView),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cP4)(lContainer);const indexInContainer=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20+index,containerLength=lContainer.length;index>0&&(lContainer[indexInContainer-1][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29]=lView);index<containerLength-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20?(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29]=lContainer[indexInContainer],(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EYC)(lContainer,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20+index,lView)):(lContainer.push(lView),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29]=null);lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T]=lContainer;const declarationLContainer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rQE];null!==declarationLContainer&&lContainer!==declarationLContainer&&trackMovedView(declarationLContainer,lView);const lQueries=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ds7];null!==lQueries&&lQueries.insertView(tView);(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._gW)(lView),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]|=128}(tView,lView,lContainer,index),addToDOM){const beforeNode=getBeforeNodeForView(index,lContainer),renderer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],parentRNode=renderer.parentNode(lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.s6P]);null!==parentRNode&&function addViewToDOM(tView,parentTNode,renderer,lView,parentNativeNode,beforeNode){lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP]=parentNativeNode,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT]=parentTNode,applyView(tView,lView,renderer,1,parentNativeNode,beforeNode)}(tView,lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT],renderer,lView,parentRNode,beforeNode)}const hydrationInfo=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA];null!==hydrationInfo&&null!==hydrationInfo.firstChild&&(hydrationInfo.firstChild=null)}function removeLViewFromLContainer(lContainer,index){const lView=detachView(lContainer,index);return void 0!==lView&&destroyLView(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],lView),lView}function detachView(lContainer,removeIndex){if(lContainer.length<=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20)return;const indexInContainer=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20+removeIndex,viewToDetach=lContainer[indexInContainer];if(viewToDetach){const declarationLContainer=viewToDetach[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rQE];null!==declarationLContainer&&declarationLContainer!==lContainer&&detachMovedView(declarationLContainer,viewToDetach),removeIndex>0&&(lContainer[indexInContainer-1][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29]=viewToDetach[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29]);const removedLView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.E6O)(lContainer,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20+removeIndex);removeViewFromDOM(viewToDetach[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],viewToDetach);const lQueries=removedLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ds7];null!==lQueries&&lQueries.detachView(removedLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl]),viewToDetach[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T]=null,viewToDetach[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29]=null,viewToDetach[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]&=-129}return viewToDetach}function trackMovedView(declarationContainer,lView){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(lView,"LView required"),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cP4)(declarationContainer);const movedViews=declarationContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nfM],parent=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T];if(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(parent,"missing parent"),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(parent))declarationContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]|=2;else{const insertedComponentLView=parent[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(insertedComponentLView,"Missing insertedComponentLView");const declaredComponentLView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(declaredComponentLView,"Missing declaredComponentLView"),declaredComponentLView!==insertedComponentLView&&(declarationContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]|=2)}null===movedViews?declarationContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nfM]=[lView]:movedViews.push(lView)}class ViewRef{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const lView=this._lView,tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];return collectNativeNodes(tView,lView,tView.firstChild,[])}constructor(_lView,_cdRefInjectingView){this._lView=_lView,this._cdRefInjectingView=_cdRefInjectingView}get context(){return this._lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]}set context(value){ngDevMode&&console.warn("Angular: Replacing the `context` object of an `EmbeddedViewRef` is deprecated."),this._lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]=value}get destroyed(){return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const parent=this._lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T];if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.A0l)(parent)){const viewRefs=parent[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.bm_],index=viewRefs?viewRefs.indexOf(this):-1;index>-1&&(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(index,parent.indexOf(this._lView)-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20,"An attached view should be in the same position within its container as its ViewRef in the VIEW_REFS array."),detachView(parent,index),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.E6O)(viewRefs,index))}this._attachedToViewContainer=!1}destroyLView(this._lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],this._lView)}onDestroy(callback){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ik5)(this._lView,callback)}markForCheck(){markViewDirty(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]&=-129}reattach(){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._gW)(this._lView),this._lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]|=128}detectChanges(){this._lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]|=1024,detectChangesInternal(this._lView)}checkNoChanges(){if(ngDevMode){try{this.exhaustive??=this._lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL].get(UseExhaustiveCheckNoChanges,false)}catch{this.exhaustive=false}checkNoChangesInternal(this._lView,this.exhaustive)}}attachToViewContainerRef(){if(this._appRef)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(902,ngDevMode&&"This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const isRoot=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EFk)(this._lView),declarationContainer=this._lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rQE];null===declarationContainer||isRoot||detachMovedView(declarationContainer,this._lView),detachViewFromDOM(this._lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],this._lView)}attachToAppRef(appRef){if(this._attachedToViewContainer)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(902,ngDevMode&&"This view is already attached to a ViewContainer!");this._appRef=appRef;const isRoot=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EFk)(this._lView),declarationContainer=this._lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rQE];null===declarationContainer||isRoot||trackMovedView(declarationContainer,this._lView),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._gW)(this._lView)}}function isViewDirty(view){return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.dMS)(view._lView)||!!(64&view._lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1])}function markForRefresh(view){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HAh)(view._lView)}class TemplateRef{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=injectTemplateRef;constructor(_declarationLView,_declarationTContainer,elementRef){this._declarationLView=_declarationLView,this._declarationTContainer=_declarationTContainer,this.elementRef=elementRef}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(context,injector){return this.createEmbeddedViewImpl(context,injector)}createEmbeddedViewImpl(context,injector,dehydratedView){const embeddedLView=createAndRenderEmbeddedLView(this._declarationLView,this._declarationTContainer,context,{embeddedViewInjector:injector,dehydratedView});return new ViewRef(embeddedLView)}}function injectTemplateRef(){return createTemplateRef((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)())}function createTemplateRef(hostTNode,hostLView){return 4&hostTNode.type?(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(hostTNode.tView,"TView must be allocated"),new TemplateRef(hostLView,hostTNode,createElementRef(hostTNode,hostLView))):null}const AT_THIS_LOCATION="<-- AT THIS LOCATION";function validateMatchingNode(node,nodeType,tagName,lView,tNode,isViewContainerAnchor=!1){if(!node||node.nodeType!==nodeType||node.nodeType===Node.ELEMENT_NODE&&node.tagName.toLowerCase()!==tagName?.toLowerCase()){let header=`During hydration Angular expected ${shortRNodeDescription(nodeType,tagName,null)} but `;const hostComponentDef=getDeclarationComponentDef(lView),componentClassName=hostComponentDef?.type?.name,expectedDom=describeExpectedDom(lView,tNode,isViewContainerAnchor),expected=`Angular expected this DOM:\n\n${expectedDom}\n\n`;let actual="";const componentHostElement=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP]);if(node){header+=`found ${shortRNodeDescription(node.nodeType,node.tagName??null,node.textContent??null)}.\n\n`;const actualDom=describeDomFromNode(node);actual=`Actual DOM is:\n\n${actualDom}\n\n`,markRNodeAsHavingHydrationMismatch(componentHostElement,expectedDom,actualDom)}else header+="the node was not found.\n\n",markRNodeAsHavingHydrationMismatch(componentHostElement,expectedDom);const message=header+expected+actual+"Note: attributes are only displayed to better represent the DOM but have no effect on hydration mismatches.\n\n"+getHydrationErrorFooter(componentClassName);throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-500,message)}}function validateSiblingNodeExists(node){if(validateNodeExists(node),!node.nextSibling){const header="During hydration Angular expected more sibling nodes to be present.\n\n",actual=`Actual DOM is:\n\n${describeDomFromNode(node)}\n\n`,message=header+actual+getHydrationErrorFooter();throw markRNodeAsHavingHydrationMismatch(node,"",actual),new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-501,message)}}function validateNodeExists(node,lView=null,tNode=null){if(!node){const header="During hydration, Angular expected an element to be present at this location.\n\n";let expected="",footer="";throw null!==lView&&null!==tNode&&(expected=describeExpectedDom(lView,tNode,!1),footer=getHydrationErrorFooter(),markRNodeAsHavingHydrationMismatch((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP]),expected,"")),new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-502,`${header}${expected}\n\n${footer}`)}}function nodeNotFoundAtPathError(host,path){const header=`During hydration Angular was unable to locate a node using the "${path}" path, starting from the ${describeRNode(host)} node.\n\n`,footer=getHydrationErrorFooter();throw markRNodeAsHavingHydrationMismatch(host),new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-502,header+footer)}function unsupportedProjectionOfDomNodes(rNode){const message="During serialization, Angular detected DOM nodes that were created outside of Angular context and provided as projectable nodes (likely via `ViewContainerRef.createComponent` or `createComponent` APIs). Hydration is not supported for such cases, consider refactoring the code to avoid this pattern or using `ngSkipHydration` on the host element of the component.\n\n"+`${describeDomFromNode(rNode)}\n\n`+"Note: attributes are only displayed to better represent the DOM but have no effect on hydration mismatches.\n\n";return new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-503,message)}const internalAttrs=new Set(["ngh","ng-version","ng-server-context"]);function describeTNode(tNode,innerContent="…"){switch(tNode.type){case 1:return`#text${tNode.value?`(${tNode.value})`:""}`;case 2:const attrs=function stringifyTNodeAttrs(tNode){const results=[];if(tNode.attrs)for(let i=0;i<tNode.attrs.length;){const attrName=tNode.attrs[i++];if("number"==typeof attrName)break;const attrValue=tNode.attrs[i++];results.push(`${attrName}="${shorten(attrValue)}"`)}return results.join(" ")}(tNode),tag=tNode.value.toLowerCase();return`<${tag}${attrs?" "+attrs:""}>${innerContent}</${tag}>`;case 8:return"\x3c!-- ng-container --\x3e";case 4:return"\x3c!-- container --\x3e";default:return`#node(${function getFriendlyStringFromTNodeType(tNodeType){switch(tNodeType){case 4:return"view container";case 2:return"element";case 8:return"ng-container";case 32:return"icu";case 64:return"i18n";case 16:return"projection";case 1:return"text";case 128:return"@let";default:return"<unknown>"}}(tNode.type)})`}}function describeRNode(rNode,innerContent="…"){const node=rNode;switch(node.nodeType){case Node.ELEMENT_NODE:const tag=node.tagName.toLowerCase(),attrs=function stringifyRNodeAttrs(rNode){const results=[];for(let i=0;i<rNode.attributes.length;i++){const attr=rNode.attributes[i];internalAttrs.has(attr.name)||results.push(`${attr.name}="${shorten(attr.value)}"`)}return results.join(" ")}(node);return`<${tag}${attrs?" "+attrs:""}>${innerContent}</${tag}>`;case Node.TEXT_NODE:const content=node.textContent?shorten(node.textContent):"";return"#text"+(content?`(${content})`:"");case Node.COMMENT_NODE:return`\x3c!-- ${shorten(node.textContent??"")} --\x3e`;default:return`#node(${node.nodeType})`}}function describeExpectedDom(lView,tNode,isViewContainerAnchor){let content="";tNode.prev?(content+="  …\n",content+="  "+describeTNode(tNode.prev)+"\n"):tNode.type&&12&tNode.type&&(content+="  …\n"),isViewContainerAnchor?(content+="  "+describeTNode(tNode)+"\n",content+=`  \x3c!-- container --\x3e  ${AT_THIS_LOCATION}\n`):content+="  "+describeTNode(tNode)+`  ${AT_THIS_LOCATION}\n`,content+="  …\n";const parentRNode=tNode.type?getParentRElement(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,lView):null;return parentRNode&&(content=describeRNode(parentRNode,"\n"+content)),content}function describeDomFromNode(node){let content="";const currentNode=node;return currentNode.previousSibling&&(content+="  …\n",content+="  "+describeRNode(currentNode.previousSibling)+"\n"),content+="  "+describeRNode(currentNode)+`  ${AT_THIS_LOCATION}\n`,node.nextSibling&&(content+="  …\n"),node.parentNode&&(content=describeRNode(currentNode.parentNode,"\n"+content)),content}function shortRNodeDescription(nodeType,tagName,textContent){switch(nodeType){case Node.ELEMENT_NODE:return`<${tagName.toLowerCase()}>`;case Node.TEXT_NODE:return`a text node${textContent?` (with the "${shorten(textContent)}" content)`:""}`;case Node.COMMENT_NODE:return"a comment node";default:return`#node(nodeType=${nodeType})`}}function getHydrationErrorFooter(componentClassName){return`To fix this problem:\n  * check ${componentClassName?`the "${componentClassName}"`:"corresponding"} component for hydration-related issues\n  * check to see if your template has valid HTML structure\n  * or skip hydration by adding the \`ngSkipHydration\` attribute to its host node in a template\n\n`}function shorten(input,maxLength=50){return input?(input=function stripNewlines(input){return input.replace(/\s+/gm,"")}(input)).length>maxLength?`${input.substring(0,maxLength-1)}…`:input:""}function getInsertInFrontOfRNodeWithI18n(parentTNode,currentTNode,lView){const tNodeInsertBeforeIndex=currentTNode.insertBeforeIndex,insertBeforeIndex=Array.isArray(tNodeInsertBeforeIndex)?tNodeInsertBeforeIndex[0]:tNodeInsertBeforeIndex;return null===insertBeforeIndex?getInsertInFrontOfRNodeWithNoI18n(parentTNode,0,lView):(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView,insertBeforeIndex),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[insertBeforeIndex]))}function processI18nInsertBefore(renderer,childTNode,lView,childRNode,parentRElement){const tNodeInsertBeforeIndex=childTNode.insertBeforeIndex;if(Array.isArray(tNodeInsertBeforeIndex)){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.z7f)(childRNode);let i18nParent=childRNode,anchorRNode=null;if(3&childTNode.type||(anchorRNode=i18nParent,i18nParent=parentRElement),null!==i18nParent&&-1===childTNode.componentOffset)for(let i=1;i<tNodeInsertBeforeIndex.length;i++){nativeInsertBefore(renderer,i18nParent,lView[tNodeInsertBeforeIndex[i]],anchorRNode,!1)}}}function getOrCreateTNode(tView,index,type,name,attrs){ngDevMode&&0!==index&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.pbo)(index,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,"TNodes can't be in the LView header."),ngDevMode&&function assertPureTNodeType(type){2!==type&&1!==type&&4!==type&&8!==type&&32!==type&&16!==type&&64!==type&&128!==type&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)(`Expected TNodeType to have only a single type selected, but got ${toTNodeTypeAsString(type)}.`)}(type);let tNode=tView.data[index];if(null===tNode)tNode=createTNodeAtIndex(tView,index,type,name,attrs),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JjR)()&&(tNode.flags|=32);else if(64&tNode.type){tNode.type=type,tNode.value=name,tNode.attrs=attrs;const parent=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ab)();tNode.injectorIndex=null===parent?-1:parent.injectorIndex,ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Rom)(tNode,tView),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(index,tNode.index,"Expecting same index")}return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iMd)(tNode,!0),tNode}function createTNodeAtIndex(tView,index,type,name,attrs){const currentTNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.veI)(),isParent=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YWB)(),parent=isParent?currentTNode:currentTNode&&currentTNode.parent,tNode=tView.data[index]=function createTNode(tView,tParent,type,index,value,attrs){ngDevMode&&0!==index&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.pbo)(index,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,"TNodes can't be in the LView header."),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IAh)(attrs,void 0,"'undefined' is not valid value for 'attrs'"),ngDevMode&&tParent&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Rom)(tParent,tView);let injectorIndex=tParent?tParent.injectorIndex:-1,flags=0;(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KtD)()&&(flags|=128);const tNode={type,index,insertBeforeIndex:null,injectorIndex,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags,providerIndexes:0,value,attrs,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:tParent,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0};ngDevMode&&Object.seal(tNode);return tNode}(tView,parent,type,index,name,attrs);return function linkTNodeInTView(tView,tNode,currentTNode,isParent){null===tView.firstChild&&(tView.firstChild=tNode);null!==currentTNode&&(isParent?null==currentTNode.child&&null!==tNode.parent&&(currentTNode.child=tNode):null===currentTNode.next&&(currentTNode.next=tNode,tNode.prev=currentTNode))}(tView,tNode,currentTNode,isParent),tNode}function addTNodeAndUpdateInsertBeforeIndex(previousTNodes,newTNode){if(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(newTNode.insertBeforeIndex,null,"We expect that insertBeforeIndex is not set"),previousTNodes.push(newTNode),previousTNodes.length>1)for(let i=previousTNodes.length-2;i>=0;i--){const existingTNode=previousTNodes[i];isI18nText(existingTNode)||isNewTNodeCreatedBefore(existingTNode,newTNode)&&null===getInsertBeforeIndex(existingTNode)&&setInsertBeforeIndex(existingTNode,newTNode.index)}}function isI18nText(tNode){return!(64&tNode.type)}function isNewTNodeCreatedBefore(existingTNode,newTNode){return isI18nText(newTNode)||existingTNode.index>newTNode.index}function getInsertBeforeIndex(tNode){const index=tNode.insertBeforeIndex;return Array.isArray(index)?index[0]:index}function setInsertBeforeIndex(tNode,value){const index=tNode.insertBeforeIndex;Array.isArray(index)?index[0]=value:(setI18nHandling(getInsertInFrontOfRNodeWithI18n,processI18nInsertBefore),tNode.insertBeforeIndex=value)}function getTIcu(tView,index){const value=tView.data[index];if(null===value||"string"==typeof value)return null;!ngDevMode||value.hasOwnProperty("tView")||value.hasOwnProperty("currentCaseLViewIndex")||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("We expect to get 'null'|'TIcu'|'TIcuContainer', but got: "+value);const tIcu=value.hasOwnProperty("currentCaseLViewIndex")?value:value.value;return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.W0r)(tIcu),tIcu}function createTNodePlaceholder(tView,previousTNodes,index){const tNode=createTNodeAtIndex(tView,index,64,null,null);return addTNodeAndUpdateInsertBeforeIndex(previousTNodes,tNode),tNode}function getCurrentICUCaseIndex(tIcu,lView){const currentCase=lView[tIcu.currentCaseLViewIndex];return null===currentCase?currentCase:currentCase<0?~currentCase:currentCase}function getParentFromIcuCreateOpCode(mergedCode){return mergedCode>>>17}function getRefFromIcuCreateOpCode(mergedCode){return(131070&mergedCode)>>>1}function getInstructionFromIcuCreateOpCode(mergedCode){return 1&mergedCode}function isRootTemplateMessage(subTemplateIndex){return-1===subTemplateIndex}function enterIcu(state,tIcu,lView){state.index=0;const currentCase=getCurrentICUCaseIndex(tIcu,lView);null!==currentCase?(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WrV)(currentCase,0,tIcu.cases.length-1),state.removes=tIcu.remove[currentCase]):state.removes=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv}function icuContainerIteratorNext(state){if(state.index<state.removes.length){const removeOpCode=state.removes[state.index++];if(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(removeOpCode,"Expecting OpCode number"),removeOpCode>0){const rNode=state.lView[removeOpCode];return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.z7f)(rNode),rNode}{state.stack.push(state.index,state.removes);const tIcuIndex=~removeOpCode,tIcu=state.lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data[tIcuIndex];return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.W0r)(tIcu),enterIcu(state,tIcu,state.lView),icuContainerIteratorNext(state)}}return 0===state.stack.length?(state.lView=void 0,null):(state.removes=state.stack.pop(),state.index=state.stack.pop(),icuContainerIteratorNext(state))}function loadIcuContainerVisitor(){const _state={stack:[],index:-1};return function icuContainerIteratorStart(tIcuContainerNode,lView){for(_state.lView=lView;_state.stack.length;)_state.stack.pop();return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VKj)(tIcuContainerNode,lView),enterIcu(_state,tIcuContainerNode.value,lView),icuContainerIteratorNext.bind(null,_state)}}const REF_EXTRACTOR_REGEXP=new RegExp(`^(\\d+)*(${REFERENCE_NODE_BODY}|${REFERENCE_NODE_HOST})*(.*)`);function getNoOffsetIndex(tNode){return tNode.index-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1}function isDisconnectedNode(tNode,lView){return!(144&tNode.type)&&!!lView[tNode.index]&&isDisconnectedRNode((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[tNode.index]))}function isDisconnectedRNode(rNode){return!!rNode&&!rNode.isConnected}function locateI18nRNodeByIndex(hydrationInfo,noOffsetIndex){const i18nNodes=hydrationInfo.i18nNodes;if(i18nNodes)return i18nNodes.get(noOffsetIndex)}function tryLocateRNodeByPath(hydrationInfo,lView,noOffsetIndex){const nodes=hydrationInfo.data[NODES],path=nodes?.[noOffsetIndex];return path?locateRNodeByPath(path,lView):null}function locateNextRNode(hydrationInfo,tView,lView,tNode){const noOffsetIndex=getNoOffsetIndex(tNode);let native=locateI18nRNodeByIndex(hydrationInfo,noOffsetIndex);if(void 0===native){const nodes=hydrationInfo.data[NODES];if(nodes?.[noOffsetIndex])native=locateRNodeByPath(nodes[noOffsetIndex],lView);else if(tView.firstChild===tNode)native=hydrationInfo.firstChild;else{const previousTNodeParent=null===tNode.prev,previousTNode=tNode.prev??tNode.parent;if(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(previousTNode,"Unexpected state: current TNode does not have a connection to the previous node or a parent node."),function isFirstElementInNgContainer(tNode){return!tNode.prev&&8===tNode.parent?.type}(tNode)){native=getSegmentHead(hydrationInfo,getNoOffsetIndex(tNode.parent))}else{let previousRElement=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(previousTNode,lView);if(previousTNodeParent)native=previousRElement.firstChild;else{const noOffsetPrevSiblingIndex=getNoOffsetIndex(previousTNode),segmentHead=getSegmentHead(hydrationInfo,noOffsetPrevSiblingIndex);if(2===previousTNode.type&&segmentHead){native=siblingAfter(calcSerializedContainerSize(hydrationInfo,noOffsetPrevSiblingIndex)+1,segmentHead)}else native=previousRElement.nextSibling}}}}return native}function siblingAfter(skip,from){let currentNode=from;for(let i=0;i<skip;i++)ngDevMode&&validateSiblingNodeExists(currentNode),currentNode=currentNode.nextSibling;return currentNode}function stringifyNavigationInstructions(instructions){const container=[];for(let i=0;i<instructions.length;i+=2){const step=instructions[i],repeat=instructions[i+1];for(let r=0;r<repeat;r++)container.push(step===NODE_NAVIGATION_STEP_FIRST_CHILD?"firstChild":"nextSibling")}return container.join(".")}function locateRNodeByPath(path,lView){const[referenceNode,...navigationInstructions]=function decompressNodeLocation(path){const matches=path.match(REF_EXTRACTOR_REGEXP),[_,refNodeId,refNodeName,rest]=matches,ref=refNodeId?parseInt(refNodeId,10):refNodeName,steps=[];for(const[_,step,count]of rest.matchAll(/(f|n)(\d*)/g)){const repeat=parseInt(count,10)||1;steps.push(step,repeat)}return[ref,...steps]}(path);let ref;if(referenceNode===REFERENCE_NODE_HOST)ref=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP];else if(referenceNode===REFERENCE_NODE_BODY)ref=ɵɵresolveBody(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP]);else{const parentElementId=Number(referenceNode);ref=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[parentElementId+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1])}return function navigateToNode(from,instructions){let node=from;for(let i=0;i<instructions.length;i+=2){const step=instructions[i],repeat=instructions[i+1];for(let r=0;r<repeat;r++){if(ngDevMode&&!node)throw nodeNotFoundAtPathError(from,stringifyNavigationInstructions(instructions));switch(step){case NODE_NAVIGATION_STEP_FIRST_CHILD:node=node.firstChild;break;case NODE_NAVIGATION_STEP_NEXT_SIBLING:node=node.nextSibling}}}if(ngDevMode&&!node)throw nodeNotFoundAtPathError(from,stringifyNavigationInstructions(instructions));return node}(ref,navigationInstructions)}function navigateBetween(start,finish){if(start===finish)return[];if(null==start.parentElement||null==finish.parentElement)return null;if(start.parentElement===finish.parentElement)return function navigateBetweenSiblings(start,finish){const nav=[];let node=null;for(node=start;null!=node&&node!==finish;node=node.nextSibling)nav.push(NODE_NAVIGATION_STEP_NEXT_SIBLING);return null==node?null:nav}(start,finish);{const parent=finish.parentElement,parentPath=navigateBetween(start,parent),childPath=navigateBetween(parent.firstChild,finish);return parentPath&&childPath?[...parentPath,NODE_NAVIGATION_STEP_FIRST_CHILD,...childPath]:null}}function calcPathBetween(from,to,fromNodeName){const path=navigateBetween(from,to);return null===path?null:function compressNodeLocation(referenceNode,path){const result=[referenceNode];for(const segment of path){const lastIdx=result.length-1;if(lastIdx>0&&result[lastIdx-1]===segment){const value=result[lastIdx]||1;result[lastIdx]=value+1}else result.push(segment,"")}return result.join("")}(fromNodeName,path)}function calcPathForNode(tNode,lView,excludedParentNodes){let parentIndex,parentRNode,referenceNodeName,parentTNode=tNode.parent;for(;null!==parentTNode&&(isDisconnectedNode(parentTNode,lView)||excludedParentNodes?.has(parentTNode.index));)parentTNode=parentTNode.parent;null!==parentTNode&&3&parentTNode.type?(parentIndex=parentTNode.index,parentRNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[parentIndex]),referenceNodeName=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(parentIndex-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1)):(parentIndex=referenceNodeName=REFERENCE_NODE_HOST,parentRNode=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP]);let rNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[tNode.index]);if(44&tNode.type){const firstRNode=getFirstNativeNode(lView,tNode);firstRNode&&(rNode=firstRNode)}let path=calcPathBetween(parentRNode,rNode,referenceNodeName);if(null===path&&parentRNode!==rNode){if(path=calcPathBetween(parentRNode.ownerDocument.body,rNode,REFERENCE_NODE_BODY),null===path)throw function nodeNotFoundError(lView,tNode){const expected=`${describeExpectedDom(lView,tNode,!1)}\n\n`,footer=getHydrationErrorFooter();throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-502,"During serialization, Angular was unable to find an element in the DOM:\n\n"+expected+footer)}(lView,tNode)}return path}function gatherDeferBlocksCommentNodes(doc,node){const commentNodesIterator=doc.createNodeIterator(node,NodeFilter.SHOW_COMMENT,{acceptNode});let currentNode;const nodesByBlockId=new Map;for(;currentNode=commentNodesIterator.nextNode();){const nghPattern="ngh=",content=currentNode?.textContent,nghIdx=content?.indexOf(nghPattern)??-1;if(nghIdx>-1){const nghValue=content.substring(nghIdx+nghPattern.length).trim();ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(nghValue.startsWith("d"),!0,"Invalid defer block id found in a comment node."),nodesByBlockId.set(nghValue,currentNode)}}return nodesByBlockId}function acceptNode(node){return node.textContent?.trimStart().startsWith("ngh=")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}let _isI18nHydrationSupportEnabled=!1,_prepareI18nBlockForHydrationImpl=()=>{};function setIsI18nHydrationSupportEnabled(enabled){_isI18nHydrationSupportEnabled=enabled}function isI18nHydrationSupportEnabled(){return _isI18nHydrationSupportEnabled}function enablePrepareI18nBlockForHydrationImpl(){_prepareI18nBlockForHydrationImpl=prepareI18nBlockForHydrationImpl}function isI18nHydrationEnabled(injector){return(injector=injector??(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zZn)).get(IS_I18N_HYDRATION_ENABLED,!1)}function getOrComputeI18nChildren(tView,context){let i18nChildren=context.i18nChildren.get(tView);return void 0===i18nChildren&&(i18nChildren=function collectI18nChildren(tView){const children=new Set;function collectI18nViews(node){switch(children.add(node.index),node.kind){case 1:case 2:for(const childNode of node.children)collectI18nViews(childNode);break;case 3:for(const caseNodes of node.cases)for(const caseNode of caseNodes)collectI18nViews(caseNode)}}for(let i=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1;i<tView.bindingStartIndex;i++){const tI18n=tView.data[i];if(tI18n&&tI18n.ast)for(const node of tI18n.ast)collectI18nViews(node)}return 0===children.size?null:children}(tView),context.i18nChildren.set(tView,i18nChildren)),i18nChildren}function trySerializeI18nBlock(lView,index,context){if(!context.isI18nHydrationEnabled)return null;const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tI18n=tView.data[index];if(!tI18n||!tI18n.ast)return null;const parentTNode=tView.data[tI18n.parentTNodeIndex];if(parentTNode&&isI18nInSkipHydrationBlock(parentTNode))return null;const serializedI18nBlock={caseQueue:[],disconnectedNodes:new Set,disjointNodes:new Set};return serializeI18nBlock(lView,serializedI18nBlock,context,tI18n.ast),0===serializedI18nBlock.caseQueue.length&&0===serializedI18nBlock.disconnectedNodes.size&&0===serializedI18nBlock.disjointNodes.size?null:serializedI18nBlock}function serializeI18nBlock(lView,serializedI18nBlock,context,nodes){let prevRNode=null;for(const node of nodes){const nextRNode=serializeI18nNode(lView,serializedI18nBlock,context,node);nextRNode&&(isDisjointNode(prevRNode,nextRNode)&&serializedI18nBlock.disjointNodes.add(node.index-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1),prevRNode=nextRNode)}return prevRNode}function isDisjointNode(prevNode,nextNode){return prevNode&&prevNode.nextSibling!==nextNode}function serializeI18nNode(lView,serializedI18nBlock,context,node){const maybeRNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[node.index]);if(!maybeRNode||isDisconnectedRNode(maybeRNode))return serializedI18nBlock.disconnectedNodes.add(node.index-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1),null;const rNode=maybeRNode;switch(node.kind){case 0:processTextNodeBeforeSerialization(context,rNode);break;case 1:case 2:serializeI18nBlock(lView,serializedI18nBlock,context,node.children);break;case 3:{const currentCase=lView[node.currentCaseLViewIndex];if(null!=currentCase){const caseIdx=currentCase<0?~currentCase:currentCase;serializedI18nBlock.caseQueue.push(caseIdx),serializeI18nBlock(lView,serializedI18nBlock,context,node.cases[caseIdx])}break}}return function getFirstNativeNodeForI18nNode(lView,node){const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],maybeTNode=tView.data[node.index];if(isTNodeShape(maybeTNode))return getFirstNativeNode(lView,maybeTNode);if(3===node.kind){const icuIterator=function createIcuIterator(tIcu,lView){const state={stack:[],index:-1,lView};return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.W0r)(tIcu),enterIcu(state,tIcu,lView),icuContainerIteratorNext.bind(null,state)}(maybeTNode,lView);return icuIterator()??(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[node.index])}return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[node.index])??null}(lView,node)}function setCurrentNode(state,node){state.currentNode=node}function appendI18nNodeToCollection(context,state,astNode){const noOffsetIndex=astNode.index-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,{disconnectedNodes}=context,currentNode=state.currentNode;return state.isConnected?(context.i18nNodes.set(noOffsetIndex,currentNode),disconnectedNodes.delete(noOffsetIndex)):disconnectedNodes.add(noOffsetIndex),currentNode}function skipSiblingNodes(state,skip){let currentNode=state.currentNode;for(let i=0;i<skip&&currentNode;i++)currentNode=currentNode?.nextSibling??null;return currentNode}function forkHydrationState(state,nextNode){return{currentNode:nextNode,isConnected:state.isConnected}}function prepareI18nBlockForHydrationImpl(lView,index,parentTNode,subTemplateIndex){const hydrationInfo=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA];if(!hydrationInfo)return;if(!isI18nHydrationSupportEnabled()||parentTNode&&(isI18nInSkipHydrationBlock(parentTNode)||isDisconnectedNode$1(hydrationInfo,parentTNode.index-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1)))return;const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tI18n=tView.data[index];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(tI18n,"Expected i18n data to be present in a given TView slot during hydration");const currentNode=function findHydrationRoot(){if(isRootTemplateMessage(subTemplateIndex)){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(parentTNode,"Expected parent TNode while hydrating i18n root");const rootNode=locateNextRNode(hydrationInfo,tView,lView,parentTNode);return 8&parentTNode.type?rootNode:rootNode.firstChild}return hydrationInfo?.firstChild}();ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(currentNode,"Expected root i18n node during hydration");const disconnectedNodes=initDisconnectedNodes(hydrationInfo)??new Set,i18nNodes=hydrationInfo.i18nNodes??=new Map,caseQueue=hydrationInfo.data[I18N_DATA]?.[index-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1]??[],dehydratedIcuData=hydrationInfo.dehydratedIcuData??=new Map;collectI18nNodesFromDom({hydrationInfo,lView,i18nNodes,disconnectedNodes,caseQueue,dehydratedIcuData},{currentNode,isConnected:!0},tI18n.ast),hydrationInfo.disconnectedNodes=0===disconnectedNodes.size?null:disconnectedNodes}function collectI18nNodesFromDom(context,state,nodeOrNodes){if(Array.isArray(nodeOrNodes)){let nextState=state;for(const node of nodeOrNodes){const targetNode=tryLocateRNodeByPath(context.hydrationInfo,context.lView,node.index-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1);targetNode&&(nextState=forkHydrationState(state,targetNode)),collectI18nNodesFromDom(context,nextState,node)}}else{if(context.disconnectedNodes.has(nodeOrNodes.index-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1))return;switch(nodeOrNodes.kind){case 0:{const currentNode=appendI18nNodeToCollection(context,state,nodeOrNodes);setCurrentNode(state,currentNode?.nextSibling??null);break}case 1:{collectI18nNodesFromDom(context,forkHydrationState(state,state.currentNode?.firstChild??null),nodeOrNodes.children);const currentNode=appendI18nNodeToCollection(context,state,nodeOrNodes);setCurrentNode(state,currentNode?.nextSibling??null);break}case 2:{const noOffsetIndex=nodeOrNodes.index-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,{hydrationInfo}=context,containerSize=getNgContainerSize(hydrationInfo,noOffsetIndex);switch(nodeOrNodes.type){case 0:{const currentNode=appendI18nNodeToCollection(context,state,nodeOrNodes);if(function isSerializedElementContainer(hydrationInfo,index){return void 0!==hydrationInfo.data[ELEMENT_CONTAINERS]?.[index]}(hydrationInfo,noOffsetIndex)){collectI18nNodesFromDom(context,state,nodeOrNodes.children);setCurrentNode(state,skipSiblingNodes(state,1))}else if(collectI18nNodesFromDom(context,forkHydrationState(state,state.currentNode?.firstChild??null),nodeOrNodes.children),setCurrentNode(state,currentNode?.nextSibling??null),null!==containerSize){setCurrentNode(state,skipSiblingNodes(state,containerSize+1))}break}case 1:ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iw4)(containerSize,null,"Expected a container size while hydrating i18n subtemplate"),appendI18nNodeToCollection(context,state,nodeOrNodes);setCurrentNode(state,skipSiblingNodes(state,containerSize+1));break}break}case 3:{const selectedCase=state.isConnected?context.caseQueue.shift():null,childState={currentNode:null,isConnected:!1};for(let i=0;i<nodeOrNodes.cases.length;i++)collectI18nNodesFromDom(context,i===selectedCase?state:childState,nodeOrNodes.cases[i]);null!==selectedCase&&context.dehydratedIcuData.set(nodeOrNodes.index,{case:selectedCase,node:nodeOrNodes});const currentNode=appendI18nNodeToCollection(context,state,nodeOrNodes);setCurrentNode(state,currentNode?.nextSibling??null);break}}}}let _claimDehydratedIcuCaseImpl=()=>{};function enableClaimDehydratedIcuCaseImpl(){_claimDehydratedIcuCaseImpl=claimDehydratedIcuCaseImpl}function claimDehydratedIcuCaseImpl(lView,icuIndex,caseIndex){const dehydratedIcuDataMap=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA]?.dehydratedIcuData;if(dehydratedIcuDataMap){const dehydratedIcuData=dehydratedIcuDataMap.get(icuIndex);dehydratedIcuData?.case===caseIndex&&dehydratedIcuDataMap.delete(icuIndex)}}function cleanupDehydratedIcuData(renderer,i18nNodes,dehydratedIcuData){for(const node of dehydratedIcuData.node.cases[dehydratedIcuData.case]){const rNode=i18nNodes.get(node.index-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1);rNode&&nativeRemoveNode(renderer,rNode,!1)}}function removeDehydratedViews(lContainer){const views=lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qFA]??[],renderer=lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],retainedViews=[];for(const view of views)void 0!==view.data[DEFER_BLOCK_ID]?retainedViews.push(view):(removeDehydratedView(view,renderer),ngDevMode&&ngDevMode.dehydratedViewsRemoved++);lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qFA]=retainedViews}function removeDehydratedViewList(deferBlock){const{lContainer}=deferBlock,dehydratedViews=lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qFA];if(null===dehydratedViews)return;const renderer=lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT];for(const view of dehydratedViews)removeDehydratedView(view,renderer),ngDevMode&&ngDevMode.dehydratedViewsRemoved++}function removeDehydratedView(dehydratedView,renderer){let nodesRemoved=0,currentRNode=dehydratedView.firstChild;if(currentRNode){const numNodes=dehydratedView.data[NUM_ROOT_NODES];for(;nodesRemoved<numNodes;){ngDevMode&&validateSiblingNodeExists(currentRNode);const nextSibling=currentRNode.nextSibling;nativeRemoveNode(renderer,currentRNode,!1),currentRNode=nextSibling,nodesRemoved++}}}function cleanupLContainer(lContainer){removeDehydratedViews(lContainer);const hostLView=lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP];(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(hostLView)&&cleanupLView(hostLView);for(let i=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20;i<lContainer.length;i++)cleanupLView(lContainer[i])}function cleanupLView(lView){!function cleanupI18nHydrationData(lView){const hydrationInfo=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA];if(hydrationInfo){const{i18nNodes,dehydratedIcuData:dehydratedIcuDataMap}=hydrationInfo;if(i18nNodes&&dehydratedIcuDataMap){const renderer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT];for(const dehydratedIcuData of dehydratedIcuDataMap.values())cleanupDehydratedIcuData(renderer,i18nNodes,dehydratedIcuData)}hydrationInfo.i18nNodes=void 0,hydrationInfo.dehydratedIcuData=void 0}}(lView);const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];for(let i=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1;i<tView.bindingStartIndex;i++)if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.A0l)(lView[i])){cleanupLContainer(lView[i])}else(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(lView[i])&&cleanupLView(lView[i])}function cleanupDehydratedViews(appRef){const viewRefs=appRef._views;for(const viewRef of viewRefs){const lNode=getLNodeForHydration(viewRef);null!==lNode&&null!==lNode[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP]&&((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(lNode)?cleanupLView(lNode):cleanupLContainer(lNode),ngDevMode&&ngDevMode.dehydratedViewsCleanupRuns++)}}let _findMatchingDehydratedViewImpl=()=>null,_findAndReconcileMatchingDehydratedViewsImpl=()=>null;function enableFindMatchingDehydratedViewImpl(){_findMatchingDehydratedViewImpl=findMatchingDehydratedViewImpl,_findAndReconcileMatchingDehydratedViewsImpl=findAndReconcileMatchingDehydratedViewsImpl}function findMatchingDehydratedViewImpl(lContainer,template){return hasMatchingDehydratedView(lContainer,template)?lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qFA].shift():(removeDehydratedViews(lContainer),null)}function findMatchingDehydratedView(lContainer,template){return _findMatchingDehydratedViewImpl(lContainer,template)}function findAndReconcileMatchingDehydratedViewsImpl(lContainer,templateTNode,hostLView){if(null===templateTNode.tView.ssrId)return null;const dehydratedView=findMatchingDehydratedView(lContainer,templateTNode.tView.ssrId);return hostLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].firstUpdatePass&&null===dehydratedView&&function removeStaleDehydratedBranch(hostLView,tNode){let currentTNode=tNode;for(;currentTNode;){if(cleanupMatchingDehydratedViews(hostLView,currentTNode))return;if(!(256&~currentTNode.flags))break;currentTNode=currentTNode.prev}currentTNode=tNode.next;for(;currentTNode&&!(512&~currentTNode.flags);){if(cleanupMatchingDehydratedViews(hostLView,currentTNode))return;currentTNode=currentTNode.next}}(hostLView,templateTNode),dehydratedView}function findAndReconcileMatchingDehydratedViews(lContainer,templateTNode,hostLView){return _findAndReconcileMatchingDehydratedViewsImpl(lContainer,templateTNode,hostLView)}function hasMatchingDehydratedView(lContainer,template){const views=lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qFA];return!(!template||null===views||0===views.length)&&views[0].data[TEMPLATE_ID]===template}function cleanupMatchingDehydratedViews(hostLView,currentTNode){const ssrId=currentTNode.tView?.ssrId;if(null==ssrId)return!1;const container=hostLView[currentTNode.index];return!(!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.A0l)(container)||!hasMatchingDehydratedView(container,ssrId))&&(removeDehydratedViews(container),!0)}let ComponentRef$1=class ComponentRef{},ComponentFactory$1=class ComponentFactory{};class _NullComponentFactoryResolver{resolveComponentFactory(component){throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(917,"undefined"!=typeof ngDevMode&&ngDevMode&&`No component factory found for ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.AsM)(component)}.`)}}let ComponentFactoryResolver$1=class ComponentFactoryResolver{static NULL=new _NullComponentFactoryResolver};class RendererFactory2{}class Renderer2{destroyNode=null;static __NG_ELEMENT_ID__=()=>function injectRenderer2(){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)(),nodeAtIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(tNode.index,lView);return((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(nodeAtIndex)?nodeAtIndex:lView)[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT]}()}class Sanitizer{static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:Sanitizer,providedIn:"root",factory:()=>null})}function isModuleWithProviders(value){return void 0!==value.ngModule}function isNgModule(value){return!!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.phH)(value)}function isPipe(value){return!!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oyA)(value)}function isDirective(value){return!!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(value)}function isComponent(value){return!!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(value)}function verifyStandaloneImport(depType,importingType){if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Jzi)(depType)&&!(depType=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(depType)))throw new Error(`Expected forwardRef function, imported from "${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(importingType)}", to return a standalone entity or NgModule but got "${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(depType)||depType}".`);if(null==(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.phH)(depType)){const def=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(depType)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(depType)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oyA)(depType);if(null==def)throw isModuleWithProviders(depType)?new Error(`A module with providers was imported from "${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(importingType)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(depType)}" type, imported from "${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(importingType)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!def.standalone)throw new Error(`The "${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(depType)}" ${function getDependencyTypeForError(type){return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type)?"component":(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(type)?"directive":(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oyA)(type)?"pipe":"type"}(depType)}, imported from "${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(importingType)}", is not standalone. Did you forget to add the standalone: true flag?`)}}function addSet(sourceSet,targetSet){for(const m of sourceSet)targetSet.add(m)}const depsTracker=new class DepsTracker{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const moduleType of this.ngModulesWithSomeUnresolvedDecls){const def=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.phH)(moduleType);if(def?.declarations)for(const decl of maybeUnwrapFn(def.declarations))isComponent(decl)&&this.ownerNgModule.set(decl,moduleType)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(type,rawImports){this.resolveNgModulesDecls();const def=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type);if(null===def)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${type}`);if(def.standalone){const scope=this.getStandaloneComponentScope(type,rawImports);return scope.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...scope.compilation.directives,...scope.compilation.pipes,...scope.compilation.ngModules]}}{if(!this.ownerNgModule.has(type))return{dependencies:[]};const scope=this.getNgModuleScope(this.ownerNgModule.get(type));return scope.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...scope.compilation.directives,...scope.compilation.pipes]}}}registerNgModule(type,scopeInfo){if(!isNgModule(type))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${type}`);this.ngModulesWithSomeUnresolvedDecls.add(type)}clearScopeCacheFor(type){this.ngModulesScopeCache.delete(type),this.standaloneComponentsScopeCache.delete(type)}getNgModuleScope(type){if(this.ngModulesScopeCache.has(type))return this.ngModulesScopeCache.get(type);const scope=this.computeNgModuleScope(type);return this.ngModulesScopeCache.set(type,scope),scope}computeNgModuleScope(type){const def=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WbQ)(type),scope={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const imported of maybeUnwrapFn(def.imports))if(isNgModule(imported)){const importedScope=this.getNgModuleScope(imported);addSet(importedScope.exported.directives,scope.compilation.directives),addSet(importedScope.exported.pipes,scope.compilation.pipes)}else{if(!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.QuC)(imported)){scope.compilation.isPoisoned=!0;break}if(isDirective(imported)||isComponent(imported))scope.compilation.directives.add(imported);else{if(!isPipe(imported))throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");scope.compilation.pipes.add(imported)}}if(!scope.compilation.isPoisoned)for(const decl of maybeUnwrapFn(def.declarations)){if(isNgModule(decl)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.QuC)(decl)){scope.compilation.isPoisoned=!0;break}isPipe(decl)?scope.compilation.pipes.add(decl):scope.compilation.directives.add(decl)}for(const exported of maybeUnwrapFn(def.exports))if(isNgModule(exported)){const exportedScope=this.getNgModuleScope(exported);addSet(exportedScope.exported.directives,scope.exported.directives),addSet(exportedScope.exported.pipes,scope.exported.pipes),addSet(exportedScope.exported.directives,scope.compilation.directives),addSet(exportedScope.exported.pipes,scope.compilation.pipes)}else isPipe(exported)?scope.exported.pipes.add(exported):scope.exported.directives.add(exported);return scope}getStandaloneComponentScope(type,rawImports){if(this.standaloneComponentsScopeCache.has(type))return this.standaloneComponentsScopeCache.get(type);const ans=this.computeStandaloneComponentScope(type,rawImports);return this.standaloneComponentsScopeCache.set(type,ans),ans}computeStandaloneComponentScope(type,rawImports){const ans={compilation:{directives:new Set([type]),pipes:new Set,ngModules:new Set}};for(const rawImport of(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Bqz)(rawImports??[])){const imported=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(rawImport);try{verifyStandaloneImport(imported,type)}catch(e){return ans.compilation.isPoisoned=!0,ans}if(isNgModule(imported)){ans.compilation.ngModules.add(imported);const importedScope=this.getNgModuleScope(imported);if(importedScope.exported.isPoisoned)return ans.compilation.isPoisoned=!0,ans;addSet(importedScope.exported.directives,ans.compilation.directives),addSet(importedScope.exported.pipes,ans.compilation.pipes)}else if(isPipe(imported))ans.compilation.pipes.add(imported);else{if(!isDirective(imported)&&!isComponent(imported))return ans.compilation.isPoisoned=!0,ans;ans.compilation.directives.add(imported)}}return ans}isOrphanComponent(cmp){const def=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(cmp);return!(!def||def.standalone)&&(this.resolveNgModulesDecls(),!this.ownerNgModule.has(cmp))}},NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR={};class ChainedInjector{injector;parentInjector;constructor(injector,parentInjector){this.injector=injector,this.parentInjector=parentInjector}get(token,notFoundValue,options){const value=this.injector.get(token,NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR,options);return value!==NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR||notFoundValue===NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR?value:this.parentInjector.get(token,notFoundValue,options)}}function computeStaticStyling(tNode,attrs,writeToHost){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),"Expecting to be called in first template pass only");let styles=writeToHost?tNode.styles:null,classes=writeToHost?tNode.classes:null,mode=0;if(null!==attrs)for(let i=0;i<attrs.length;i++){const value=attrs[i];if("number"==typeof value)mode=value;else if(1==mode)classes=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.n$e)(classes,value);else if(2==mode){const style=value,styleValue=attrs[++i];styles=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.n$e)(styles,style+": "+styleValue+";")}}writeToHost?tNode.styles=styles:tNode.stylesWithoutHost=styles,writeToHost?tNode.classes=classes:tNode.classesWithoutHost=classes}function ɵɵdirectiveInject(token,flags=0){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)();if(null===lView)return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ZFY)(ɵɵdirectiveInject),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KVO)(token,flags);const value=getOrCreateInjectable((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)(),lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(token),flags);return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.BI7)(token,value,flags),value}function ɵɵinvalidFactory(){const msg=ngDevMode?"This constructor was not compatible with Dependency Injection.":"invalid";throw new Error(msg)}function resolveDirectives(tView,lView,tNode,localRefs,directiveMatcher){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)(tView);const exportsMap=null===localRefs?null:{"":-1},matchedDirectiveDefs=directiveMatcher(tView,tNode);if(null!==matchedDirectiveDefs){let directiveDefs=matchedDirectiveDefs,hostDirectiveDefs=null,hostDirectiveRanges=null;for(const def of matchedDirectiveDefs)if(null!==def.resolveHostDirectives){[directiveDefs,hostDirectiveDefs,hostDirectiveRanges]=def.resolveHostDirectives(matchedDirectiveDefs);break}ngDevMode&&function assertNoDuplicateDirectives(directives){if(directives.length<2)return;const seenDirectives=new Set;for(const current of directives){if(seenDirectives.has(current))throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(309,`Directive ${current.type.name} matches multiple times on the same element. Directives can only match an element once.`);seenDirectives.add(current)}}(directiveDefs),function initializeDirectives(tView,lView,tNode,directives,exportsMap,hostDirectiveDefs,hostDirectiveRanges){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)(tView);const directivesLength=directives.length;let hasSeenComponent=!1;for(let i=0;i<directivesLength;i++){const def=directives[i];!hasSeenComponent&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV)(def)&&(hasSeenComponent=!0,markAsComponentHost(tView,tNode,i)),diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,lView),tView,def.type)}!function initTNodeFlags(tNode,index,numberOfDirectives){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iw4)(numberOfDirectives,tNode.directiveEnd-tNode.directiveStart,"Reached the max number of directives"),tNode.flags|=1,tNode.directiveStart=index,tNode.directiveEnd=index+numberOfDirectives,tNode.providerIndexes=index}(tNode,tView.data.length,directivesLength);for(let i=0;i<directivesLength;i++){const def=directives[i];def.providersResolver&&def.providersResolver(def)}let preOrderHooksFound=!1,preOrderCheckHooksFound=!1,directiveIdx=allocExpando(tView,lView,directivesLength,null);ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ZQF)(directiveIdx,tNode.directiveStart,"TNode.directiveStart should point to just allocated space"),directivesLength>0&&(tNode.directiveToIndex=new Map);for(let i=0;i<directivesLength;i++){const def=directives[i];if(tNode.mergedAttrs=mergeHostAttrs(tNode.mergedAttrs,def.hostAttrs),configureViewWithDirective(tView,tNode,lView,directiveIdx,def),saveNameToExportMap(directiveIdx,def,exportsMap),null!==hostDirectiveRanges&&hostDirectiveRanges.has(def)){const[start,end]=hostDirectiveRanges.get(def);tNode.directiveToIndex.set(def.type,[directiveIdx,start+tNode.directiveStart,end+tNode.directiveStart])}else null!==hostDirectiveDefs&&hostDirectiveDefs.has(def)||tNode.directiveToIndex.set(def.type,directiveIdx);null!==def.contentQueries&&(tNode.flags|=4),null===def.hostBindings&&null===def.hostAttrs&&0===def.hostVars||(tNode.flags|=64);const lifeCycleHooks=def.type.prototype;!preOrderHooksFound&&(lifeCycleHooks.ngOnChanges||lifeCycleHooks.ngOnInit||lifeCycleHooks.ngDoCheck)&&((tView.preOrderHooks??=[]).push(tNode.index),preOrderHooksFound=!0),preOrderCheckHooksFound||!lifeCycleHooks.ngOnChanges&&!lifeCycleHooks.ngDoCheck||((tView.preOrderCheckHooks??=[]).push(tNode.index),preOrderCheckHooksFound=!0),directiveIdx++}!function initializeInputAndOutputAliases(tView,tNode,hostDirectiveDefs){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)(tView);for(let index=tNode.directiveStart;index<tNode.directiveEnd;index++){const directiveDef=tView.data[index];if(null!==hostDirectiveDefs&&hostDirectiveDefs.has(directiveDef)){const hostDirectiveDef=hostDirectiveDefs.get(directiveDef);setupHostDirectiveInputsOrOutputs(0,tNode,hostDirectiveDef,index),setupHostDirectiveInputsOrOutputs(1,tNode,hostDirectiveDef,index),setupInitialInputs(tNode,index,!0)}else setupSelectorMatchedInputsOrOutputs(0,tNode,directiveDef,index),setupSelectorMatchedInputsOrOutputs(1,tNode,directiveDef,index),setupInitialInputs(tNode,index,!1)}}(tView,tNode,hostDirectiveDefs)}(tView,lView,tNode,directiveDefs,exportsMap,hostDirectiveDefs,hostDirectiveRanges)}null!==exportsMap&&null!==localRefs&&function cacheMatchingLocalNames(tNode,localRefs,exportsMap){const localNames=tNode.localNames=[];for(let i=0;i<localRefs.length;i+=2){const index=exportsMap[localRefs[i+1]];if(null==index)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-301,ngDevMode&&`Export of name '${localRefs[i+1]}' not found!`);localNames.push(localRefs[i],index)}}(tNode,localRefs,exportsMap)}function markAsComponentHost(tView,hostTNode,componentOffset){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)(tView),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GWr)(componentOffset,-1,"componentOffset must be great than -1"),hostTNode.componentOffset=componentOffset,(tView.components??=[]).push(hostTNode.index)}function setupSelectorMatchedInputsOrOutputs(mode,tNode,def,directiveIndex){const aliasMap=0===mode?def.inputs:def.outputs;for(const publicName in aliasMap)if(aliasMap.hasOwnProperty(publicName)){let bindings;bindings=0===mode?tNode.inputs??={}:tNode.outputs??={},bindings[publicName]??=[],bindings[publicName].push(directiveIndex),setShadowStylingInputFlags(tNode,publicName)}}function setupHostDirectiveInputsOrOutputs(mode,tNode,config,directiveIndex){const aliasMap=0===mode?config.inputs:config.outputs;for(const initialName in aliasMap)if(aliasMap.hasOwnProperty(initialName)){const publicName=aliasMap[initialName];let bindings;bindings=0===mode?tNode.hostDirectiveInputs??={}:tNode.hostDirectiveOutputs??={},bindings[publicName]??=[],bindings[publicName].push(directiveIndex,initialName),setShadowStylingInputFlags(tNode,publicName)}}function setShadowStylingInputFlags(tNode,publicName){"class"===publicName?tNode.flags|=8:"style"===publicName&&(tNode.flags|=16)}function setupInitialInputs(tNode,directiveIndex,isHostDirective){const{attrs,inputs,hostDirectiveInputs}=tNode;if(null===attrs||!isHostDirective&&null===inputs||isHostDirective&&null===hostDirectiveInputs||isInlineTemplate(tNode))return tNode.initialInputs??=[],void tNode.initialInputs.push(null);let inputsToStore=null,i=0;for(;i<attrs.length;){const attrName=attrs[i];if(0!==attrName)if(5!==attrName){if("number"==typeof attrName)break;if(!isHostDirective&&inputs.hasOwnProperty(attrName)){const inputConfig=inputs[attrName];for(const index of inputConfig)if(index===directiveIndex){inputsToStore??=[],inputsToStore.push(attrName,attrs[i+1]);break}}else if(isHostDirective&&hostDirectiveInputs.hasOwnProperty(attrName)){const config=hostDirectiveInputs[attrName];for(let j=0;j<config.length;j+=2)if(config[j]===directiveIndex){inputsToStore??=[],inputsToStore.push(config[j+1],attrs[i+1]);break}}i+=2}else i+=2;else i+=4}tNode.initialInputs??=[],tNode.initialInputs.push(inputsToStore)}function configureViewWithDirective(tView,tNode,lView,directiveIndex,def){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.pbo)(directiveIndex,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,"Must be in Expando section"),tView.data[directiveIndex]=def;const directiveFactory=def.factory||(def.factory=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.wGu)(def.type,!0)),nodeInjectorFactory=new NodeInjectorFactory(directiveFactory,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV)(def),ɵɵdirectiveInject,ngDevMode?def.type.name:null);tView.blueprint[directiveIndex]=nodeInjectorFactory,lView[directiveIndex]=nodeInjectorFactory,function registerHostBindingOpCodes(tView,tNode,directiveIdx,directiveVarsIdx,def){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)(tView);const hostBindings=def.hostBindings;if(hostBindings){let hostBindingOpCodes=tView.hostBindingOpCodes;null===hostBindingOpCodes&&(hostBindingOpCodes=tView.hostBindingOpCodes=[]);const elementIndx=~tNode.index;(function lastSelectedElementIdx(hostBindingOpCodes){let i=hostBindingOpCodes.length;for(;i>0;){const value=hostBindingOpCodes[--i];if("number"==typeof value&&value<0)return value}return 0})(hostBindingOpCodes)!=elementIndx&&hostBindingOpCodes.push(elementIndx),hostBindingOpCodes.push(directiveIdx,directiveVarsIdx,hostBindings)}}(tView,tNode,directiveIndex,allocExpando(tView,lView,def.hostVars,NO_CHANGE),def)}function saveNameToExportMap(directiveIdx,def,exportsMap){if(exportsMap){if(def.exportAs)for(let i=0;i<def.exportAs.length;i++)exportsMap[def.exportAs[i]]=directiveIdx;(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV)(def)&&(exportsMap[""]=directiveIdx)}}function directiveHostFirstCreatePass(index,lView,type,name,directiveMatcher,bindingsEnabled,attrsIndex,localRefsIndex){const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)(tView);const tViewConsts=tView.consts,tNode=getOrCreateTNode(tView,index,type,name,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(tViewConsts,attrsIndex));return bindingsEnabled&&resolveDirectives(tView,lView,tNode,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(tViewConsts,localRefsIndex),directiveMatcher),tNode.mergedAttrs=mergeHostAttrs(tNode.mergedAttrs,tNode.attrs),null!==tNode.attrs&&computeStaticStyling(tNode,tNode.attrs,!1),null!==tNode.mergedAttrs&&computeStaticStyling(tNode,tNode.mergedAttrs,!0),null!==tView.queries&&tView.queries.elementStart(tView,tNode),tNode}function directiveHostEndFirstCreatePass(tView,tNode){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)(tView),registerPostOrderHooks(tView,tNode),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.srX)(tNode)&&tView.queries.elementEnd(tNode)}function domOnlyFirstCreatePass(index,tView,type,name,attrsIndex,localRefsIndex){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)(tView);const tViewConsts=tView.consts,tNode=getOrCreateTNode(tView,index,type,name,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(tViewConsts,attrsIndex));if(tNode.mergedAttrs=mergeHostAttrs(tNode.mergedAttrs,tNode.attrs),null!=localRefsIndex){const refs=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(tViewConsts,localRefsIndex);tNode.localNames=[];for(let i=0;i<refs.length;i+=2)tNode.localNames.push(refs[i],-1)}return null!==tNode.attrs&&computeStaticStyling(tNode,tNode.attrs,!1),null!==tNode.mergedAttrs&&computeStaticStyling(tNode,tNode.mergedAttrs,!0),null!==tView.queries&&tView.queries.elementStart(tView,tNode),tNode}function isListLikeIterable(obj){return!!isJsObject(obj)&&(Array.isArray(obj)||!(obj instanceof Map)&&Symbol.iterator in obj)}function iterateListLike(obj,fn){if(Array.isArray(obj))for(let i=0;i<obj.length;i++)fn(obj[i]);else{const iterator=obj[Symbol.iterator]();let item;for(;!(item=iterator.next()).done;)fn(item.value)}}function isJsObject(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function devModeEqual(a,b){const isListLikeIterableA=isListLikeIterable(a),isListLikeIterableB=isListLikeIterable(b);if(isListLikeIterableA&&isListLikeIterableB)return function areIterablesEqual(a,b,comparator){const iterator1=a[Symbol.iterator](),iterator2=b[Symbol.iterator]();for(;;){const item1=iterator1.next(),item2=iterator2.next();if(item1.done&&item2.done)return!0;if(item1.done||item2.done)return!1;if(!comparator(item1.value,item2.value))return!1}}(a,b,devModeEqual);return!(isListLikeIterableA||!(a&&("object"==typeof a||"function"==typeof a))||isListLikeIterableB||!(b&&("object"==typeof b||"function"==typeof b)))||Object.is(a,b)}function updateBinding(lView,bindingIndex,value){return lView[bindingIndex]=value}function getBinding(lView,bindingIndex){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView,bindingIndex),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IAh)(lView[bindingIndex],NO_CHANGE,"Stored value should never be NO_CHANGE."),lView[bindingIndex]}function bindingUpdated(lView,bindingIndex,value){if(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.XvL)(bindingIndex,lView.length,"Slot should have been initialized to NO_CHANGE"),value===NO_CHANGE)return!1;const oldValue=lView[bindingIndex];if(Object.is(oldValue,value))return!1;if(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rFz)()){const oldValueToCompare=oldValue!==NO_CHANGE?oldValue:void 0;if(!devModeEqual(oldValueToCompare,value)){const details=function getExpressionChangedErrorDetails(lView,bindingIndex,oldValue,newValue){const tData=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data,metadata=tData[bindingIndex];if("string"==typeof metadata)return metadata.indexOf(INTERPOLATION_DELIMITER)>-1?constructDetailsForInterpolation(lView,bindingIndex,bindingIndex,metadata,newValue):{propName:metadata,oldValue,newValue};if(null===metadata){let idx=bindingIndex-1;for(;"string"!=typeof tData[idx]&&null===tData[idx+1];)idx--;const meta=tData[idx];if("string"==typeof meta){const matches=meta.match(new RegExp(INTERPOLATION_DELIMITER,"g"));if(matches&&matches.length-1>bindingIndex-idx)return constructDetailsForInterpolation(lView,idx,bindingIndex,meta,newValue)}}return{propName:void 0,oldValue,newValue}}(lView,bindingIndex,oldValueToCompare,value);!function throwErrorIfNoChangesMode(creationMode,oldValue,currValue,propName,lView){const hostComponentDef=getDeclarationComponentDef(lView),componentClassName=hostComponentDef?.type?.name;let msg=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value${propName?` for '${propName}'`:""}: '${formatValue(oldValue)}'. Current value: '${formatValue(currValue)}'.${componentClassName?` Expression location: ${componentClassName} component`:""}`;throw creationMode&&(msg+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook?"),new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-100,msg)}(oldValue===NO_CHANGE,details.oldValue,details.newValue,details.propName,lView)}return!1}return lView[bindingIndex]=value,!0}function bindingUpdated2(lView,bindingIndex,exp1,exp2){const different=bindingUpdated(lView,bindingIndex,exp1);return bindingUpdated(lView,bindingIndex+1,exp2)||different}function bindingUpdated3(lView,bindingIndex,exp1,exp2,exp3){const different=bindingUpdated2(lView,bindingIndex,exp1,exp2);return bindingUpdated(lView,bindingIndex+2,exp3)||different}function bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4){const different=bindingUpdated2(lView,bindingIndex,exp1,exp2);return bindingUpdated2(lView,bindingIndex+2,exp3,exp4)||different}function wrapListener(tNode,lView,listenerFn){return function wrapListenerIn_markDirtyAndPreventDefault(event){markViewDirty((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Qs1)(tNode)?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(tNode.index,lView):lView,5);const context=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP];let result=executeListenerWithErrorHandling(lView,context,listenerFn,event),nextListenerFn=wrapListenerIn_markDirtyAndPreventDefault.__ngNextListenerFn__;for(;nextListenerFn;)result=executeListenerWithErrorHandling(lView,context,nextListenerFn,event)&&result,nextListenerFn=nextListenerFn.__ngNextListenerFn__;return result}}function executeListenerWithErrorHandling(lView,context,listenerFn,e){const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{return profiler(6,context,listenerFn),!1!==listenerFn(e)}catch(error){return handleUncaughtError(lView,error),!1}finally{profiler(7,context,listenerFn),(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}function listenToDomEvent(tNode,tView,lView,eventTargetResolver,renderer,eventName,originalListener,wrappedListener){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IAh)(wrappedListener,originalListener,"Expected wrapped and original listeners to be different.");const isTNodeDirectiveHost=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yoD)(tNode);let hasCoalesced=!1,existingListener=null;if(!eventTargetResolver&&isTNodeDirectiveHost&&(existingListener=function findExistingListener(tView,lView,eventName,tNodeIndex){const tCleanup=tView.cleanup;if(null!=tCleanup)for(let i=0;i<tCleanup.length-1;i+=2){const cleanupEventName=tCleanup[i];if(cleanupEventName===eventName&&tCleanup[i+1]===tNodeIndex){const lCleanup=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VVG],listenerIdxInLCleanup=tCleanup[i+2];return lCleanup&&lCleanup.length>listenerIdxInLCleanup?lCleanup[listenerIdxInLCleanup]:null}"string"==typeof cleanupEventName&&(i+=2)}return null}(tView,lView,eventName,tNode.index)),null!==existingListener){(existingListener.__ngLastListenerFn__||existingListener).__ngNextListenerFn__=originalListener,existingListener.__ngLastListenerFn__=originalListener,hasCoalesced=!0}else{const native=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(tNode,lView),target=eventTargetResolver?eventTargetResolver(native):native;!function stashEventListenerImpl(lView,target,eventName,wrappedListener){_stashEventListenerImpl(lView,target,eventName,wrappedListener)}(lView,target,eventName,wrappedListener);const cleanupFn=renderer.listen(target,eventName,wrappedListener);if(!function isAnimationEventType(eventName){return eventName.startsWith("animation")||eventName.startsWith("transition")}(eventName)){storeListenerCleanup(eventTargetResolver?_lView=>eventTargetResolver((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(_lView[tNode.index])):tNode.index,tView,lView,eventName,wrappedListener,cleanupFn,!1)}}return hasCoalesced}function storeListenerCleanup(indexOrTargetGetter,tView,lView,eventName,listenerFn,cleanup,isOutput){const tCleanup=tView.firstCreatePass?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.vNG)(tView):null,lCleanup=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d_l)(lView),index=lCleanup.length;lCleanup.push(listenerFn,cleanup),tCleanup&&tCleanup.push(eventName,indexOrTargetGetter,index,(index+1)*(isOutput?-1:1))}function createOutputListener(tNode,lView,listenerFn,targetDef,eventName){const hasBound=function listenToDirectiveOutput(tNode,lView,target,eventName,listenerFn){let hostIndex=null,hostDirectivesStart=null,hostDirectivesEnd=null,hasOutput=!1;if(ngDevMode&&!tNode.directiveToIndex?.has(target.type))throw new Error(`Node does not have a directive with type ${target.type.name}`);const data=tNode.directiveToIndex.get(target.type);"number"==typeof data?hostIndex=data:[hostIndex,hostDirectivesStart,hostDirectivesEnd]=data;if(null!==hostDirectivesStart&&null!==hostDirectivesEnd&&tNode.hostDirectiveOutputs?.hasOwnProperty(eventName)){const hostDirectiveOutputs=tNode.hostDirectiveOutputs[eventName];for(let i=0;i<hostDirectiveOutputs.length;i+=2){const index=hostDirectiveOutputs[i];if(index>=hostDirectivesStart&&index<=hostDirectivesEnd)ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView,index),hasOutput=!0,listenToOutput(tNode,lView,index,hostDirectiveOutputs[i+1],eventName,listenerFn);else if(index>hostDirectivesEnd)break}}target.outputs.hasOwnProperty(eventName)&&(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView,hostIndex),hasOutput=!0,listenToOutput(tNode,lView,hostIndex,eventName,eventName,listenerFn));return hasOutput}(tNode,lView,targetDef,eventName,wrapListener(tNode,lView,listenerFn));if(!hasBound&&ngDevMode)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(316,`${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(targetDef.type)} does not have an output with a public name of "${eventName}".`)}function listenToOutput(tNode,lView,directiveIndex,lookupName,eventName,listenerFn){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView,directiveIndex);const instance=lView[directiveIndex],tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],propertyName=tView.data[directiveIndex].outputs[lookupName],output=instance[propertyName];if(ngDevMode&&!function isOutputSubscribable(value){return null!=value&&"function"==typeof value.subscribe}(output))throw new Error(`@Output ${propertyName} not initialized in '${instance.constructor.name}'.`);const subscription=output.subscribe(listenerFn);storeListenerCleanup(tNode.index,tView,lView,eventName,listenerFn,subscription,!0)}const BINDING=Symbol("BINDING"),INPUT_BINDING_METADATA={kind:"input",requiredVars:1},OUTPUT_BINDING_METADATA={kind:"output",requiredVars:0};function inputBindingUpdate(targetDirectiveIdx,publicName,value){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)();if(bindingUpdated(lView,bindingIndex,value)){const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CpD)();markViewDirty((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(tNode.index,lView),1);const targetDef=tView.directiveRegistry[targetDirectiveIdx];if(ngDevMode&&!targetDef)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(315,`Input binding to property "${publicName}" does not have a target.`);const hasSet=function setDirectiveInput(tNode,tView,lView,target,publicName,value){let hostIndex=null,hostDirectivesStart=null,hostDirectivesEnd=null,hasSet=!1;if(ngDevMode&&!tNode.directiveToIndex?.has(target.type))throw new Error(`Node does not have a directive with type ${target.type.name}`);const data=tNode.directiveToIndex.get(target.type);if("number"==typeof data?hostIndex=data:[hostIndex,hostDirectivesStart,hostDirectivesEnd]=data,null!==hostDirectivesStart&&null!==hostDirectivesEnd&&tNode.hostDirectiveInputs?.hasOwnProperty(publicName)){const hostDirectiveInputs=tNode.hostDirectiveInputs[publicName];for(let i=0;i<hostDirectiveInputs.length;i+=2){const index=hostDirectiveInputs[i];if(index>=hostDirectivesStart&&index<=hostDirectivesEnd){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView,index);const def=tView.data[index],hostDirectivePublicName=hostDirectiveInputs[i+1];writeToDirectiveInput(def,lView[index],hostDirectivePublicName,value),hasSet=!0}else if(index>hostDirectivesEnd)break}}return null!==hostIndex&&target.inputs.hasOwnProperty(publicName)&&(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView,hostIndex),writeToDirectiveInput(target,lView[hostIndex],publicName,value),hasSet=!0),hasSet}(tNode,tView,lView,targetDef,publicName,value);if(ngDevMode){if(!hasSet)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(315,`${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(targetDef.type)} does not have an input with a public name of "${publicName}".`);storePropertyBindingMetadata(tView.data,tNode,publicName,bindingIndex)}}}function inputBinding(publicName,value){const binding={[BINDING]:INPUT_BINDING_METADATA,update:()=>inputBindingUpdate(binding.targetIdx,publicName,value())};return binding}function outputBinding(eventName,listener){const binding={[BINDING]:OUTPUT_BINDING_METADATA,create:()=>{const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)(),targetDef=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].directiveRegistry[binding.targetIdx];createOutputListener(tNode,lView,listener,targetDef,eventName)}};return binding}function twoWayBinding(publicName,value){const input=inputBinding(publicName,value),output=outputBinding(publicName+"Change",eventValue=>value.set(eventValue));ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.XdD)(input.create,"Unexpected `create` callback in inputBinding"),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.XdD)(output.update,"Unexpected `update` callback in outputBinding");return{[BINDING]:{kind:"twoWay",requiredVars:input[BINDING].requiredVars+output[BINDING].requiredVars},set targetIdx(idx){input.targetIdx=idx,output.targetIdx=idx},create:output.create,update:input.update}}class ComponentFactoryResolver extends ComponentFactoryResolver$1{ngModule;constructor(ngModule){super(),this.ngModule=ngModule}resolveComponentFactory(component){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GZS)(component);const componentDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(component);return new ComponentFactory(componentDef,this.ngModule)}}function inferTagNameFromDefinition(componentDef){return(componentDef.selectors[0][0]||"div").toLowerCase()}class ComponentFactory extends ComponentFactory$1{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function toInputRefArray(map){return Object.keys(map).map(name=>{const[propName,flags,transform]=map[name],inputData={propName,templateName:name,isSignal:0!==(flags&InputFlags.SignalBased)};return transform&&(inputData.transform=transform),inputData})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function toOutputRefArray(map){return Object.keys(map).map(name=>({propName:map[name],templateName:name}))}(this.componentDef.outputs),this.cachedOutputs}constructor(componentDef,ngModule){super(),this.componentDef=componentDef,this.ngModule=ngModule,this.componentType=componentDef.type,this.selector=stringifyCSSSelectorList(componentDef.selectors),this.ngContentSelectors=componentDef.ngContentSelectors??[],this.isBoundToModule=!!ngModule}create(injector,projectableNodes,rootSelectorOrNode,environmentInjector,directives,componentBindings){profiler(22);const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{const cmpDef=this.componentDef;ngDevMode&&function verifyNotAnOrphanComponent(componentDef){if(("undefined"==typeof ngJitMode||ngJitMode)&&componentDef.debugInfo?.forbidOrphanRendering&&depsTracker.isOrphanComponent(componentDef.type))throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(981,`Orphan component found! Trying to render the component ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._Z$)(componentDef.type)} without first loading the NgModule that declares it. It is recommended to make this component standalone in order to avoid this error. If this is not possible now, import the component's NgModule in the appropriate NgModule, or the standalone component in which you are trying to render this component. If this is a lazy import, load the NgModule lazily as well and use its module injector.`)}(cmpDef);const rootTView=function createRootTView(rootSelectorOrNode,componentDef,componentBindings,directives){const tAttributes=rootSelectorOrNode?["ng-version","20.3.15"]:function extractAttrsAndClassesFromSelector(selector){const attrs=[],classes=[];let i=1,mode=2;for(;i<selector.length;){let valueOrMarker=selector[i];if("string"==typeof valueOrMarker)2===mode?""!==valueOrMarker&&attrs.push(valueOrMarker,selector[++i]):8===mode&&classes.push(valueOrMarker);else{if(!isPositive(mode))break;mode=valueOrMarker}i++}return classes.length&&attrs.push(1,...classes),attrs}(componentDef.selectors[0]);let creationBindings=null,updateBindings=null,varsToAllocate=0;if(componentBindings)for(const binding of componentBindings)varsToAllocate+=binding[BINDING].requiredVars,binding.create&&(binding.targetIdx=0,(creationBindings??=[]).push(binding)),binding.update&&(binding.targetIdx=0,(updateBindings??=[]).push(binding));if(directives)for(let i=0;i<directives.length;i++){const directive=directives[i];if("function"!=typeof directive)for(const binding of directive.bindings){varsToAllocate+=binding[BINDING].requiredVars;const targetDirectiveIdx=i+1;binding.create&&(binding.targetIdx=targetDirectiveIdx,(creationBindings??=[]).push(binding)),binding.update&&(binding.targetIdx=targetDirectiveIdx,(updateBindings??=[]).push(binding))}}const directivesToApply=[componentDef];if(directives)for(const directive of directives){const directiveType="function"==typeof directive?directive:directive.type,directiveDef=ngDevMode?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Agf)(directiveType):(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(directiveType);if(ngDevMode&&!directiveDef.standalone)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(907,`The ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(directiveType)} directive must be standalone in order to be applied to a dynamically-created component.`);directivesToApply.push(directiveDef)}const rootTView=createTView(0,null,function getRootTViewTemplate(creationBindings,updateBindings){if(!creationBindings&&!updateBindings)return null;return flags=>{if(1&flags&&creationBindings)for(const binding of creationBindings)binding.create();if(2&flags&&updateBindings)for(const binding of updateBindings)binding.update()}}(creationBindings,updateBindings),1,varsToAllocate,directivesToApply,null,null,null,[tAttributes],null);return rootTView}(rootSelectorOrNode,cmpDef,componentBindings,directives),rootViewInjector=function createRootViewInjector(componentDef,environmentInjector,injector){let realEnvironmentInjector=environmentInjector instanceof _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.uvJ?environmentInjector:environmentInjector?.injector;return realEnvironmentInjector&&null!==componentDef.getStandaloneInjector&&(realEnvironmentInjector=componentDef.getStandaloneInjector(realEnvironmentInjector)||realEnvironmentInjector),realEnvironmentInjector?new ChainedInjector(injector,realEnvironmentInjector):injector}(cmpDef,environmentInjector||this.ngModule,injector),environment=function createRootLViewEnvironment(rootLViewInjector){const rendererFactory=rootLViewInjector.get(RendererFactory2,null);if(null===rendererFactory)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(407,ngDevMode&&"Angular was not able to inject a renderer (RendererFactory2). Likely this is due to a broken DI hierarchy. Make sure that any injector used to create this component has a correct parent.");const sanitizer=rootLViewInjector.get(Sanitizer,null),changeDetectionScheduler=rootLViewInjector.get(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.hk6,null);let ngReflect=!1;return("undefined"==typeof ngDevMode||ngDevMode)&&(ngReflect=rootLViewInjector.get(NG_REFLECT_ATTRS_FLAG,!1)),{rendererFactory,sanitizer,changeDetectionScheduler,ngReflect}}(rootViewInjector),hostRenderer=environment.rendererFactory.createRenderer(null,cmpDef),hostElement=rootSelectorOrNode?locateHostElement(hostRenderer,rootSelectorOrNode,cmpDef.encapsulation,rootViewInjector):function createHostElement(componentDef,renderer){const tagName=inferTagNameFromDefinition(componentDef);return createElementNode(renderer,tagName,"svg"===tagName?_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jNX:"math"===tagName?_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rJ1:null)}(cmpDef,hostRenderer),hasInputBindings=componentBindings?.some(isInputBinding)||directives?.some(d=>"function"!=typeof d&&d.bindings.some(isInputBinding)),rootLView=createLView(null,rootTView,null,512|getInitialLViewFlagsFromDef(cmpDef),null,null,environment,hostRenderer,rootViewInjector,null,retrieveHydrationInfo(hostElement,rootViewInjector,!0));rootLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1]=hostElement,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ID8)(rootLView);let componentView=null;try{const hostTNode=directiveHostFirstCreatePass(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,rootLView,2,"#host",()=>rootTView.directiveRegistry,!0,0);setupStaticAttributes(hostRenderer,hostElement,hostTNode),attachPatchData(hostElement,rootLView),createDirectivesInstances(rootTView,rootLView,hostTNode),executeContentQueries(rootTView,hostTNode,rootLView),directiveHostEndFirstCreatePass(rootTView,hostTNode),void 0!==projectableNodes&&function projectNodes(tNode,ngContentSelectors,projectableNodes){const projection=tNode.projection=[];for(let i=0;i<ngContentSelectors.length;i++){const nodesforSlot=projectableNodes[i];projection.push(null!=nodesforSlot&&nodesforSlot.length?Array.from(nodesforSlot):null)}}(hostTNode,this.ngContentSelectors,projectableNodes),componentView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(hostTNode.index,rootLView),rootLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]=componentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP],renderView(rootTView,rootLView,null)}catch(e){throw null!==componentView&&unregisterLView(componentView),unregisterLView(rootLView),e}finally{profiler(23),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.bll)()}return new ComponentRef(this.componentType,rootLView,!!hasInputBindings)}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}}function isInputBinding(binding){const kind=binding[BINDING].kind;return"input"===kind||"twoWay"===kind}class ComponentRef extends ComponentRef$1{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(componentType,_rootLView,_hasInputBindings){super(),this._rootLView=_rootLView,this._hasInputBindings=_hasInputBindings,this._tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.XRZ)(_rootLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1),this.location=createElementRef(this._tNode,_rootLView),this.instance=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(this._tNode.index,_rootLView)[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP],this.hostView=this.changeDetectorRef=new ViewRef(_rootLView,void 0),this.componentType=componentType}setInput(name,value){if(this._hasInputBindings&&ngDevMode)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(317,"Cannot call `setInput` on a component that is using the `inputBinding` or `twoWayBinding` functions.");const tNode=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(name)&&Object.is(this.previousInputValues.get(name),value))return;const lView=this._rootLView,hasSetInput=setAllInputsForProperty(tNode,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],lView,name,value);this.previousInputValues.set(name,value);if(markViewDirty((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(tNode.index,lView),1),ngDevMode&&!hasSetInput){let message=`Can't set value of the '${name}' input on the '${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(this.componentType)}' component. `;message+=`Make sure that the '${name}' property is declared as an input using the input() or model() function or the @Input() decorator.`,reportUnknownPropertyError(message)}}get injector(){return new NodeInjector(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(callback){this.hostView.onDestroy(callback)}}class ViewContainerRef{static __NG_ELEMENT_ID__=injectViewContainerRef}function injectViewContainerRef(){return createContainerRef((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)())}const VE_ViewContainerRef=ViewContainerRef,R3ViewContainerRef=class ViewContainerRef extends VE_ViewContainerRef{_lContainer;_hostTNode;_hostLView;constructor(_lContainer,_hostTNode,_hostLView){super(),this._lContainer=_lContainer,this._hostTNode=_hostTNode,this._hostLView=_hostLView}get element(){return createElementRef(this._hostTNode,this._hostLView)}get injector(){return new NodeInjector(this._hostTNode,this._hostLView)}get parentInjector(){const parentLocation=getParentInjectorLocation(this._hostTNode,this._hostLView);if(hasParentInjector(parentLocation)){const parentView=getParentInjectorView(parentLocation,this._hostLView),injectorIndex=getParentInjectorIndex(parentLocation);ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Tkx)(parentView,injectorIndex);const parentTNode=parentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data[injectorIndex+8];return new NodeInjector(parentTNode,parentView)}return new NodeInjector(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(index){const viewRefs=getViewRefs(this._lContainer);return null!==viewRefs&&viewRefs[index]||null}get length(){return this._lContainer.length-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20}createEmbeddedView(templateRef,context,indexOrOptions){let index,injector;"number"==typeof indexOrOptions?index=indexOrOptions:null!=indexOrOptions&&(index=indexOrOptions.index,injector=indexOrOptions.injector);const dehydratedView=findMatchingDehydratedView(this._lContainer,templateRef.ssrId),viewRef=templateRef.createEmbeddedViewImpl(context||{},injector,dehydratedView);return this.insertImpl(viewRef,index,shouldAddViewToDom(this._hostTNode,dehydratedView)),viewRef}createComponent(componentFactoryOrType,indexOrOptions,injector,projectableNodes,environmentInjector,directives,bindings){const isComponentFactory=componentFactoryOrType&&!isType(componentFactoryOrType);let index;if(isComponentFactory)ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)("object"!=typeof indexOrOptions,!0,"It looks like Component factory was provided as the first argument and an options object as the second argument. This combination of arguments is incompatible. You can either change the first argument to provide Component type or change the second argument to be a number (representing an index at which to insert the new component's host view into this container)"),index=indexOrOptions;else{ngDevMode&&((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(componentFactoryOrType),"Provided Component class doesn't contain Component definition. Please check whether provided class has @Component decorator."),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)("number"!=typeof indexOrOptions,!0,"It looks like Component type was provided as the first argument and a number (representing an index at which to insert the new component's host view into this container as the second argument. This combination of arguments is incompatible. Please use an object as the second argument instead."));const options=indexOrOptions||{};ngDevMode&&options.environmentInjector&&options.ngModuleRef&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("Cannot pass both environmentInjector and ngModuleRef options to createComponent()."),index=options.index,injector=options.injector,projectableNodes=options.projectableNodes,environmentInjector=options.environmentInjector||options.ngModuleRef,directives=options.directives,bindings=options.bindings}const componentFactory=isComponentFactory?componentFactoryOrType:new ComponentFactory((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(componentFactoryOrType)),contextInjector=injector||this.parentInjector;if(!environmentInjector&&null==componentFactory.ngModule){const result=(isComponentFactory?contextInjector:this.parentInjector).get(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.uvJ,null);result&&(environmentInjector=result)}const componentDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(componentFactory.componentType??{}),dehydratedView=findMatchingDehydratedView(this._lContainer,componentDef?.id??null),rNode=dehydratedView?.firstChild??null,componentRef=componentFactory.create(contextInjector,projectableNodes,rNode,environmentInjector,directives,bindings);return this.insertImpl(componentRef.hostView,index,shouldAddViewToDom(this._hostTNode,dehydratedView)),componentRef}insert(viewRef,index){return this.insertImpl(viewRef,index,!0)}insertImpl(viewRef,index,addToDOM){const lView=viewRef._lView;if(ngDevMode&&viewRef.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ITl)(lView)){const prevIdx=this.indexOf(viewRef);if(-1!==prevIdx)this.detach(prevIdx);else{const prevLContainer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.A0l)(prevLContainer),!0,"An attached view should have its PARENT point to a container.");const prevVCRef=new R3ViewContainerRef(prevLContainer,prevLContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT],prevLContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T]);prevVCRef.detach(prevVCRef.indexOf(viewRef))}}const adjustedIdx=this._adjustIndex(index),lContainer=this._lContainer;return addLViewToLContainer(lContainer,lView,adjustedIdx,addToDOM),viewRef.attachToViewContainerRef(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EYC)(getOrCreateViewRefs(lContainer),adjustedIdx,viewRef),viewRef}move(viewRef,newIndex){if(ngDevMode&&viewRef.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(viewRef,newIndex)}indexOf(viewRef){const viewRefsArr=getViewRefs(this._lContainer);return null!==viewRefsArr?viewRefsArr.indexOf(viewRef):-1}remove(index){const adjustedIdx=this._adjustIndex(index,-1),detachedView=detachView(this._lContainer,adjustedIdx);detachedView&&((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.E6O)(getOrCreateViewRefs(this._lContainer),adjustedIdx),destroyLView(detachedView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],detachedView))}detach(index){const adjustedIdx=this._adjustIndex(index,-1),view=detachView(this._lContainer,adjustedIdx);return view&&null!=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.E6O)(getOrCreateViewRefs(this._lContainer),adjustedIdx)?new ViewRef(view):null}_adjustIndex(index,shift=0){return null==index?this.length+shift:(ngDevMode&&((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GWr)(index,-1,`ViewRef index must be positive, got ${index}`),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.XvL)(index,this.length+1+shift,"index")),index)}};function getViewRefs(lContainer){return lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.bm_]}function getOrCreateViewRefs(lContainer){return lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.bm_]||(lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.bm_]=[])}function createContainerRef(hostTNode,hostLView){let lContainer;ngDevMode&&assertTNodeType(hostTNode,15);const slotValue=hostLView[hostTNode.index];return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.A0l)(slotValue)?lContainer=slotValue:(lContainer=createLContainer(slotValue,hostLView,null,hostTNode),hostLView[hostTNode.index]=lContainer,addToEndOfViewTree(hostLView,lContainer)),_locateOrCreateAnchorNode(lContainer,hostLView,hostTNode,slotValue),new R3ViewContainerRef(lContainer,hostTNode,hostLView)}let _locateOrCreateAnchorNode=createAnchorNode,_populateDehydratedViewsInLContainer=()=>!1;function populateDehydratedViewsInLContainer(lContainer,tNode,hostLView){return _populateDehydratedViewsInLContainer(lContainer,tNode,hostLView)}function createAnchorNode(lContainer,hostLView,hostTNode,slotValue){if(lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.s6P])return;let commentNode;commentNode=8&hostTNode.type?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(slotValue):function insertAnchorNode(hostLView,hostTNode){const renderer=hostLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],commentNode=renderer.createComment(ngDevMode?"container":""),hostNative=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(hostTNode,hostLView),parentOfHostNative=renderer.parentNode(hostNative);return nativeInsertBefore(renderer,parentOfHostNative,commentNode,renderer.nextSibling(hostNative),!1),commentNode}(hostLView,hostTNode),lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.s6P]=commentNode}function populateDehydratedViewsInLContainerImpl(lContainer,tNode,hostLView){if(lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.s6P]&&lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qFA])return!0;const hydrationInfo=hostLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA],noOffsetIndex=tNode.index-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1;if(!hydrationInfo||isInSkipHydrationBlock(tNode)||isDisconnectedNode$1(hydrationInfo,noOffsetIndex))return!1;const currentRNode=getSegmentHead(hydrationInfo,noOffsetIndex),serializedViews=hydrationInfo.data[CONTAINERS]?.[noOffsetIndex];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(serializedViews,"Unexpected state: no hydration info available for a given TNode, which represents a view container.");const[commentNode,dehydratedViews]=function locateDehydratedViewsInContainer(currentRNode,serializedViews){const dehydratedViews=[];for(const serializedView of serializedViews)for(let i=0;i<(serializedView[MULTIPLIER]??1);i++){const view={data:serializedView,firstChild:null};serializedView[NUM_ROOT_NODES]>0&&(view.firstChild=currentRNode,currentRNode=siblingAfter(serializedView[NUM_ROOT_NODES],currentRNode)),dehydratedViews.push(view)}return[currentRNode,dehydratedViews]}(currentRNode,serializedViews);return ngDevMode&&(validateMatchingNode(commentNode,Node.COMMENT_NODE,null,hostLView,tNode,!0),markRNodeAsClaimedByHydration(commentNode,!1)),lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.s6P]=commentNode,lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qFA]=dehydratedViews,!0}function locateOrCreateAnchorNode(lContainer,hostLView,hostTNode,slotValue){_populateDehydratedViewsInLContainer(lContainer,hostTNode,hostLView)||createAnchorNode(lContainer,hostLView,hostTNode,slotValue)}function enableLocateOrCreateContainerRefImpl(){_locateOrCreateAnchorNode=locateOrCreateAnchorNode,_populateDehydratedViewsInLContainer=populateDehydratedViewsInLContainerImpl}class LQuery_{queryList;matches=null;constructor(queryList){this.queryList=queryList}clone(){return new LQuery_(this.queryList)}setDirty(){this.queryList.setDirty()}}class LQueries_{queries;constructor(queries=[]){this.queries=queries}createEmbeddedView(tView){const tQueries=tView.queries;if(null!==tQueries){const noOfInheritedQueries=null!==tView.contentQueries?tView.contentQueries[0]:tQueries.length,viewLQueries=[];for(let i=0;i<noOfInheritedQueries;i++){const tQuery=tQueries.getByIndex(i),parentLQuery=this.queries[tQuery.indexInDeclarationView];viewLQueries.push(parentLQuery.clone())}return new LQueries_(viewLQueries)}return null}insertView(tView){this.dirtyQueriesWithMatches(tView)}detachView(tView){this.dirtyQueriesWithMatches(tView)}finishViewCreation(tView){this.dirtyQueriesWithMatches(tView)}dirtyQueriesWithMatches(tView){for(let i=0;i<this.queries.length;i++)null!==getTQuery(tView,i).matches&&this.queries[i].setDirty()}}class TQueryMetadata_{flags;read;predicate;constructor(predicate,flags,read=null){this.flags=flags,this.read=read,this.predicate="string"==typeof predicate?function splitQueryMultiSelectors(locator){return locator.split(",").map(s=>s.trim())}(predicate):predicate}}class TQueries_{queries;constructor(queries=[]){this.queries=queries}elementStart(tView,tNode){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)(tView,"Queries should collect results on the first template pass only");for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(tView,tNode)}elementEnd(tNode){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(tNode)}embeddedTView(tNode){let queriesForTemplateRef=null;for(let i=0;i<this.length;i++){const childQueryIndex=null!==queriesForTemplateRef?queriesForTemplateRef.length:0,tqueryClone=this.getByIndex(i).embeddedTView(tNode,childQueryIndex);tqueryClone&&(tqueryClone.indexInDeclarationView=i,null!==queriesForTemplateRef?queriesForTemplateRef.push(tqueryClone):queriesForTemplateRef=[tqueryClone])}return null!==queriesForTemplateRef?new TQueries_(queriesForTemplateRef):null}template(tView,tNode){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yzR)(tView,"Queries should collect results on the first template pass only");for(let i=0;i<this.queries.length;i++)this.queries[i].template(tView,tNode)}getByIndex(index){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(this.queries,index),this.queries[index]}get length(){return this.queries.length}track(tquery){this.queries.push(tquery)}}class TQuery_{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(metadata,nodeIndex=-1){this.metadata=metadata,this._declarationNodeIndex=nodeIndex}elementStart(tView,tNode){this.isApplyingToNode(tNode)&&this.matchTNode(tView,tNode)}elementEnd(tNode){this._declarationNodeIndex===tNode.index&&(this._appliesToNextNode=!1)}template(tView,tNode){this.elementStart(tView,tNode)}embeddedTView(tNode,childQueryIndex){return this.isApplyingToNode(tNode)?(this.crossesNgTemplate=!0,this.addMatch(-tNode.index,childQueryIndex),new TQuery_(this.metadata)):null}isApplyingToNode(tNode){if(this._appliesToNextNode&&1&~this.metadata.flags){const declarationNodeIdx=this._declarationNodeIndex;let parent=tNode.parent;for(;null!==parent&&8&parent.type&&parent.index!==declarationNodeIdx;)parent=parent.parent;return declarationNodeIdx===(null!==parent?parent.index:-1)}return this._appliesToNextNode}matchTNode(tView,tNode){const predicate=this.metadata.predicate;if(Array.isArray(predicate))for(let i=0;i<predicate.length;i++){const name=predicate[i];this.matchTNodeWithReadOption(tView,tNode,getIdxOfMatchingSelector(tNode,name)),this.matchTNodeWithReadOption(tView,tNode,locateDirectiveOrProvider(tNode,tView,name,!1,!1))}else predicate===TemplateRef?4&tNode.type&&this.matchTNodeWithReadOption(tView,tNode,-1):this.matchTNodeWithReadOption(tView,tNode,locateDirectiveOrProvider(tNode,tView,predicate,!1,!1))}matchTNodeWithReadOption(tView,tNode,nodeMatchIdx){if(null!==nodeMatchIdx){const read=this.metadata.read;if(null!==read)if(read===ElementRef||read===ViewContainerRef||read===TemplateRef&&4&tNode.type)this.addMatch(tNode.index,-2);else{const directiveOrProviderIdx=locateDirectiveOrProvider(tNode,tView,read,!1,!1);null!==directiveOrProviderIdx&&this.addMatch(tNode.index,directiveOrProviderIdx)}else this.addMatch(tNode.index,nodeMatchIdx)}}addMatch(tNodeIdx,matchIdx){null===this.matches?this.matches=[tNodeIdx,matchIdx]:this.matches.push(tNodeIdx,matchIdx)}}function getIdxOfMatchingSelector(tNode,selector){const localNames=tNode.localNames;if(null!==localNames)for(let i=0;i<localNames.length;i+=2)if(localNames[i]===selector)return localNames[i+1];return null}function createResultForNode(lView,tNode,matchingIdx,read){return-1===matchingIdx?function createResultByTNodeType(tNode,currentView){return 11&tNode.type?createElementRef(tNode,currentView):4&tNode.type?createTemplateRef(tNode,currentView):null}(tNode,lView):-2===matchingIdx?function createSpecialToken(lView,tNode,read){if(read===ElementRef)return createElementRef(tNode,lView);if(read===TemplateRef)return createTemplateRef(tNode,lView);if(read===ViewContainerRef)return ngDevMode&&assertTNodeType(tNode,15),createContainerRef(tNode,lView);ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)(`Special token to read should be one of ElementRef, TemplateRef or ViewContainerRef but got ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.AsM)(read)}.`)}(lView,tNode,read):getNodeInjectable(lView,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],matchingIdx,tNode)}function materializeViewResults(tView,lView,tQuery,queryIndex){const lQuery=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ds7].queries[queryIndex];if(null===lQuery.matches){const tViewData=tView.data,tQueryMatches=tQuery.matches,result=[];for(let i=0;null!==tQueryMatches&&i<tQueryMatches.length;i+=2){const matchedNodeIdx=tQueryMatches[i];if(matchedNodeIdx<0)result.push(null);else{ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(tViewData,matchedNodeIdx);const tNode=tViewData[matchedNodeIdx];result.push(createResultForNode(lView,tNode,tQueryMatches[i+1],tQuery.metadata.read))}}lQuery.matches=result}return lQuery.matches}function collectQueryResults(tView,lView,queryIndex,result){const tQuery=tView.queries.getByIndex(queryIndex),tQueryMatches=tQuery.matches;if(null!==tQueryMatches){const lViewResults=materializeViewResults(tView,lView,tQuery,queryIndex);for(let i=0;i<tQueryMatches.length;i+=2){const tNodeIdx=tQueryMatches[i];if(tNodeIdx>0)result.push(lViewResults[i/2]);else{const childQueryIndex=tQueryMatches[i+1],declarationLContainer=lView[-tNodeIdx];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cP4)(declarationLContainer);for(let i=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20;i<declarationLContainer.length;i++){const embeddedLView=declarationLContainer[i];embeddedLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rQE]===embeddedLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T]&&collectQueryResults(embeddedLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],embeddedLView,childQueryIndex,result)}if(null!==declarationLContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nfM]){const embeddedLViews=declarationLContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nfM];for(let i=0;i<embeddedLViews.length;i++){const embeddedLView=embeddedLViews[i];collectQueryResults(embeddedLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],embeddedLView,childQueryIndex,result)}}}}}return result}function loadQueryInternal(lView,queryIndex){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ds7],"LQueries should be defined when trying to load a query"),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ds7].queries,queryIndex),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ds7].queries[queryIndex].queryList}function createLQuery(tView,lView,flags){const queryList=new QueryList(!(4&~flags));(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.B22)(tView,lView,queryList,queryList.destroy);return(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ds7]??=new LQueries_).queries.push(new LQuery_(queryList))-1}function createViewQuery(predicate,flags,read){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(flags,"Expecting flags");const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)();return tView.firstCreatePass&&(createTQuery(tView,new TQueryMetadata_(predicate,flags,read),-1),2&~flags||(tView.staticViewQueries=!0)),createLQuery(tView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),flags)}function createContentQuery(directiveIndex,predicate,flags,read){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(flags,"Expecting flags");const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)();if(tView.firstCreatePass){const tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();createTQuery(tView,new TQueryMetadata_(predicate,flags,read),tNode.index),function saveContentQueryAndDirectiveIndex(tView,directiveIndex){const tViewContentQueries=tView.contentQueries||(tView.contentQueries=[]),lastSavedDirectiveIndex=tViewContentQueries.length?tViewContentQueries[tViewContentQueries.length-1]:-1;directiveIndex!==lastSavedDirectiveIndex&&tViewContentQueries.push(tView.queries.length-1,directiveIndex)}(tView,directiveIndex),2&~flags||(tView.staticContentQueries=!0)}return createLQuery(tView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),flags)}function createTQuery(tView,metadata,nodeIndex){null===tView.queries&&(tView.queries=new TQueries_),tView.queries.track(new TQuery_(metadata,nodeIndex))}function getTQuery(tView,index){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(tView.queries,"TQueries must be defined to retrieve a TQuery"),tView.queries.getByIndex(index)}function getQueryResults(lView,queryIndex){const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tQuery=getTQuery(tView,queryIndex);return tQuery.crossesNgTemplate?collectQueryResults(tView,lView,queryIndex,[]):materializeViewResults(tView,lView,tQuery,queryIndex)}function createQuerySignalFn(firstOnly,required,opts){let node;const signalFn=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.KZ)(()=>{node._dirtyCounter();const value=function refreshSignalQuery(node,firstOnly){const lView=node._lView,queryIndex=node._queryIndex;if(void 0===lView||void 0===queryIndex||4&lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1])return firstOnly?void 0:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv;const queryList=loadQueryInternal(lView,queryIndex),results=getQueryResults(lView,queryIndex);if(queryList.reset(results,unwrapElementRef),firstOnly)return queryList.first;return queryList._changesDetected||void 0===node._flatValue?node._flatValue=queryList.toArray():node._flatValue}(node,firstOnly);if(required&&void 0===value)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-951,ngDevMode&&"Child query result is required but no value is available.");return value});return node=signalFn[_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.bh],node._dirtyCounter=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.vPA)(0),node._flatValue=void 0,ngDevMode&&(signalFn.toString=()=>"[Query Signal]",node.debugName=opts?.debugName),signalFn}function createSingleResultOptionalQuerySignalFn(opts){return createQuerySignalFn(!0,!1,opts)}function createSingleResultRequiredQuerySignalFn(opts){return createQuerySignalFn(!0,!0,opts)}function createMultiResultQuerySignalFn(opts){return createQuerySignalFn(!1,!1,opts)}function bindQueryToSignal(target,queryIndex){const node=target[_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.bh];node._lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),node._queryIndex=queryIndex,node._queryList=loadQueryInternal(node._lView,queryIndex),node._queryList.onDirty(()=>node._dirtyCounter.update(v=>v+1))}function resolveComponentResources(resourceResolver){const componentResolved=[],urlMap=new Map;function cachedResourceResolve(url){let promise=urlMap.get(url);if(!promise){const resp=resourceResolver(url);urlMap.set(url,promise=resp.then(res=>function unwrapResponse(url,response){if("string"==typeof response)return response;if(void 0!==response.status&&200!==response.status)return Promise.reject(new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(918,ngDevMode&&`Could not load resource: ${url}. Response status: ${response.status}`));return response.text()}(url,res)))}return promise}return componentResourceResolutionQueue.forEach((component,type)=>{const promises=[];component.templateUrl&&promises.push(cachedResourceResolve(component.templateUrl).then(template=>{component.template=template}));const styles="string"==typeof component.styles?[component.styles]:component.styles||[];if(component.styles=styles,component.styleUrl&&component.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(component.styleUrls?.length){const styleOffset=component.styles.length,styleUrls=component.styleUrls;component.styleUrls.forEach((styleUrl,index)=>{styles.push(""),promises.push(cachedResourceResolve(styleUrl).then(style=>{styles[styleOffset+index]=style,styleUrls.splice(styleUrls.indexOf(styleUrl),1),0==styleUrls.length&&(component.styleUrls=void 0)}))})}else component.styleUrl&&promises.push(cachedResourceResolve(component.styleUrl).then(style=>{styles.push(style),component.styleUrl=void 0}));const fullyResolved=Promise.all(promises).then(()=>function componentDefResolved(type){componentDefPendingResolution.delete(type)}(type));componentResolved.push(fullyResolved)}),clearResolutionOfComponentResourcesQueue(),Promise.all(componentResolved).then(()=>{})}let componentResourceResolutionQueue=new Map;const componentDefPendingResolution=new Set;function isComponentDefPendingResolution(type){return componentDefPendingResolution.has(type)}function componentNeedsResolution(component){return!!(component.templateUrl&&!component.hasOwnProperty("template")||component.styleUrls&&component.styleUrls.length||component.styleUrl)}function clearResolutionOfComponentResourcesQueue(){const old=componentResourceResolutionQueue;return componentResourceResolutionQueue=new Map,old}function restoreComponentResolutionQueue(queue){componentDefPendingResolution.clear(),queue.forEach((_,type)=>componentDefPendingResolution.add(type)),componentResourceResolutionQueue=queue}function isComponentResourceResolutionQueueEmpty(){return 0===componentResourceResolutionQueue.size}const modules=new Map;let checkForDuplicateNgModules=!0;function registerNgModuleType(ngModuleType,id){!function assertSameOrNotExisting(id,type,incoming){if(type&&type!==incoming&&checkForDuplicateNgModules)throw new Error(`Duplicate module registered for ${id} - ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.AsM)(type)} vs ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.AsM)(type.name)}`)}(id,modules.get(id)||null,ngModuleType),modules.set(id,ngModuleType)}function getRegisteredNgModuleType(id){return modules.get(id)}function setAllowDuplicateNgModuleIdsForTest(allowDuplicates){checkForDuplicateNgModules=!allowDuplicates}let NgModuleRef$1=class NgModuleRef{},NgModuleFactory$1=class NgModuleFactory{};function createNgModule(ngModule,parentInjector){return new NgModuleRef(ngModule,parentInjector??null,[])}const createNgModuleRef=createNgModule;class NgModuleRef extends NgModuleRef$1{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ComponentFactoryResolver(this);constructor(ngModuleType,_parent,additionalProviders,runInjectorInitializers=!0){super(),this.ngModuleType=ngModuleType,this._parent=_parent;const ngModuleDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.phH)(ngModuleType);ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(ngModuleDef,`NgModule '${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.AsM)(ngModuleType)}' is not a subtype of 'NgModuleType'.`),this._bootstrapComponents=maybeUnwrapFn(ngModuleDef.bootstrap),this._r3Injector=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Pz9)(ngModuleType,_parent,[{provide:NgModuleRef$1,useValue:this},{provide:ComponentFactoryResolver$1,useValue:this.componentFactoryResolver},...additionalProviders],(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.AsM)(ngModuleType),new Set(["environment"])),runInjectorInitializers&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(this.destroyCbs,"NgModule already destroyed");const injector=this._r3Injector;!injector.destroyed&&injector.destroy(),this.destroyCbs.forEach(fn=>fn()),this.destroyCbs=null}onDestroy(callback){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.push(callback)}}class NgModuleFactory extends NgModuleFactory$1{moduleType;constructor(moduleType){super(),this.moduleType=moduleType}create(parentInjector){return new NgModuleRef(this.moduleType,parentInjector,[])}}function createNgModuleRefWithProviders(moduleType,parentInjector,additionalProviders){return new NgModuleRef(moduleType,parentInjector,additionalProviders,!1)}class EnvironmentNgModuleRefAdapter extends NgModuleRef$1{injector;componentFactoryResolver=new ComponentFactoryResolver(this);instance=null;constructor(config){super();const injector=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.e5P([...config.providers,{provide:NgModuleRef$1,useValue:this},{provide:ComponentFactoryResolver$1,useValue:this.componentFactoryResolver}],config.parent||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WB9)(),config.debugName,new Set(["environment"]));this.injector=injector,config.runEnvironmentInitializers&&injector.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(callback){this.injector.onDestroy(callback)}}function createEnvironmentInjector(providers,parent,debugName=null){return new EnvironmentNgModuleRefAdapter({providers,parent,debugName,runEnvironmentInitializers:!0}).injector}class StandaloneService{_injector;cachedInjectors=new Map;constructor(_injector){this._injector=_injector}getOrCreateStandaloneInjector(componentDef){if(!componentDef.standalone)return null;if(!this.cachedInjectors.has(componentDef)){const providers=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jXY)(!1,componentDef.type),standaloneInjector=providers.length>0?createEnvironmentInjector([providers],this._injector,`Standalone[${componentDef.type.name}]`):null;this.cachedInjectors.set(componentDef,standaloneInjector)}return this.cachedInjectors.get(componentDef)}ngOnDestroy(){try{for(const injector of this.cachedInjectors.values())null!==injector&&injector.destroy()}finally{this.cachedInjectors.clear()}}static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:StandaloneService,providedIn:"environment",factory:()=>new StandaloneService((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KVO)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.uvJ))})}function ɵɵdefineComponent(componentDefinition){return noSideEffects(()=>{("undefined"==typeof ngDevMode||ngDevMode)&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SMZ)();const baseDef=getNgDirectiveDef(componentDefinition),def={...baseDef,decls:componentDefinition.decls,vars:componentDefinition.vars,template:componentDefinition.template,consts:componentDefinition.consts||null,ngContentSelectors:componentDefinition.ngContentSelectors,onPush:componentDefinition.changeDetection===ChangeDetectionStrategy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:baseDef.standalone&&componentDefinition.dependencies||null,getStandaloneInjector:baseDef.standalone?parentInjector=>parentInjector.get(StandaloneService).getOrCreateStandaloneInjector(def):null,getExternalStyles:null,signals:componentDefinition.signals??!1,data:componentDefinition.data||{},encapsulation:componentDefinition.encapsulation||ViewEncapsulation.Emulated,styles:componentDefinition.styles||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv,_:null,schemas:componentDefinition.schemas||null,tView:null,id:""};baseDef.standalone&&performanceMarkFeature("NgStandalone"),initFeatures(def);const dependencies=componentDefinition.dependencies;return def.directiveDefs=extractDefListOrFactory(dependencies,extractDirectiveDef),def.pipeDefs=extractDefListOrFactory(dependencies,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oyA),def.id=function getComponentId(componentDef){let hash=0;const componentDefConsts="function"==typeof componentDef.consts?"":componentDef.consts,hashSelectors=[componentDef.selectors,componentDef.ngContentSelectors,componentDef.hostVars,componentDef.hostAttrs,componentDefConsts,componentDef.vars,componentDef.decls,componentDef.encapsulation,componentDef.standalone,componentDef.signals,componentDef.exportAs,JSON.stringify(componentDef.inputs),JSON.stringify(componentDef.outputs),Object.getOwnPropertyNames(componentDef.type.prototype),!!componentDef.contentQueries,!!componentDef.viewQuery];if("undefined"==typeof ngDevMode||ngDevMode)for(const item of hashSelectors)(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iw4)(typeof item,"function","Internal error: attempting to use a function in component id computation logic.");for(const char of hashSelectors.join("|"))hash=Math.imul(31,hash)+char.charCodeAt(0)|0;hash+=2147483648;const compId="c"+hash;if(("undefined"==typeof ngDevMode||ngDevMode)&&("undefined"==typeof ngServerMode||!ngServerMode))if(GENERATED_COMP_IDS.has(compId)){const previousCompDefType=GENERATED_COMP_IDS.get(compId);previousCompDefType!==componentDef.type&&console.warn((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OsK)(-912,`Component ID generation collision detected. Components '${previousCompDefType.name}' and '${componentDef.type.name}' with selector '${stringifyCSSSelectorList(componentDef.selectors)}' generated the same component ID. To fix this, you can change the selector of one of those components or add an extra host attribute to force a different ID.`))}else GENERATED_COMP_IDS.set(compId,componentDef.type);return compId}(def),def})}function extractDirectiveDef(type){return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(type)}function ɵɵdefineNgModule(def){return noSideEffects(()=>({type:def.type,bootstrap:def.bootstrap||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv,declarations:def.declarations||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv,imports:def.imports||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv,exports:def.exports||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv,transitiveCompileScopes:null,schemas:def.schemas||null,id:def.id||null}))}function parseAndConvertInputsForDefinition(obj,declaredInputs){if(null==obj)return _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MZA;const newLookup={};for(const minifiedKey in obj)if(obj.hasOwnProperty(minifiedKey)){const value=obj[minifiedKey];let publicName,declaredName,inputFlags,transform;Array.isArray(value)?(inputFlags=value[0],publicName=value[1],declaredName=value[2]??publicName,transform=value[3]||null):(publicName=value,declaredName=value,inputFlags=InputFlags.None,transform=null),newLookup[publicName]=[minifiedKey,inputFlags,transform],declaredInputs[publicName]=declaredName}return newLookup}function parseAndConvertOutputsForDefinition(obj){if(null==obj)return _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MZA;const newLookup={};for(const minifiedKey in obj)obj.hasOwnProperty(minifiedKey)&&(newLookup[obj[minifiedKey]]=minifiedKey);return newLookup}function ɵɵdefineDirective(directiveDefinition){return noSideEffects(()=>{const def=getNgDirectiveDef(directiveDefinition);return initFeatures(def),def})}function ɵɵdefinePipe(pipeDef){return{type:pipeDef.type,name:pipeDef.name,factory:null,pure:!1!==pipeDef.pure,standalone:pipeDef.standalone??!0,onDestroy:pipeDef.type.prototype.ngOnDestroy||null}}function getNgDirectiveDef(directiveDefinition){const declaredInputs={};return{type:directiveDefinition.type,providersResolver:null,factory:null,hostBindings:directiveDefinition.hostBindings||null,hostVars:directiveDefinition.hostVars||0,hostAttrs:directiveDefinition.hostAttrs||null,contentQueries:directiveDefinition.contentQueries||null,declaredInputs,inputConfig:directiveDefinition.inputs||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MZA,exportAs:directiveDefinition.exportAs||null,standalone:directiveDefinition.standalone??!0,signals:!0===directiveDefinition.signals,selectors:directiveDefinition.selectors||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv,viewQuery:directiveDefinition.viewQuery||null,features:directiveDefinition.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:parseAndConvertInputsForDefinition(directiveDefinition.inputs,declaredInputs),outputs:parseAndConvertOutputsForDefinition(directiveDefinition.outputs),debugInfo:null}}function initFeatures(definition){definition.features?.forEach(fn=>fn(definition))}function extractDefListOrFactory(dependencies,defExtractor){return dependencies?()=>{const resolvedDependencies="function"==typeof dependencies?dependencies():dependencies,result=[];for(const dep of resolvedDependencies){const definition=defExtractor(dep);null!==definition&&result.push(definition)}return result}:null}const GENERATED_COMP_IDS=new Map;function getSuperType(type){return Object.getPrototypeOf(type.prototype).constructor}function ɵɵInheritDefinitionFeature(definition){let superType=getSuperType(definition.type),shouldInheritFields=!0;const inheritanceChain=[definition];for(;superType;){let superDef;if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV)(definition))superDef=superType.ɵcmp||superType.ɵdir;else{if(superType.ɵcmp)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(903,ngDevMode&&`Directives cannot inherit Components. Directive ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(definition.type)} is attempting to extend component ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(superType)}`);superDef=superType.ɵdir}if(superDef){if(shouldInheritFields){inheritanceChain.push(superDef);const writeableDef=definition;writeableDef.inputs=maybeUnwrapEmpty(definition.inputs),writeableDef.declaredInputs=maybeUnwrapEmpty(definition.declaredInputs),writeableDef.outputs=maybeUnwrapEmpty(definition.outputs);const superHostBindings=superDef.hostBindings;superHostBindings&&inheritHostBindings(definition,superHostBindings);const superViewQuery=superDef.viewQuery,superContentQueries=superDef.contentQueries;if(superViewQuery&&inheritViewQuery(definition,superViewQuery),superContentQueries&&inheritContentQueries(definition,superContentQueries),mergeInputsWithTransforms(definition,superDef),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.dwj)(definition.outputs,superDef.outputs),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV)(superDef)&&superDef.data.animation){const defData=definition.data;defData.animation=(defData.animation||[]).concat(superDef.data.animation)}}const features=superDef.features;if(features)for(let i=0;i<features.length;i++){const feature=features[i];feature&&feature.ngInherit&&feature(definition),feature===ɵɵInheritDefinitionFeature&&(shouldInheritFields=!1)}}superType=Object.getPrototypeOf(superType)}!function mergeHostAttrsAcrossInheritance(inheritanceChain){let hostVars=0,hostAttrs=null;for(let i=inheritanceChain.length-1;i>=0;i--){const def=inheritanceChain[i];def.hostVars=hostVars+=def.hostVars,def.hostAttrs=mergeHostAttrs(def.hostAttrs,hostAttrs=mergeHostAttrs(hostAttrs,def.hostAttrs))}}(inheritanceChain)}function mergeInputsWithTransforms(target,source){for(const key in source.inputs){if(!source.inputs.hasOwnProperty(key))continue;if(target.inputs.hasOwnProperty(key))continue;const value=source.inputs[key];void 0!==value&&(target.inputs[key]=value,target.declaredInputs[key]=source.declaredInputs[key])}}function maybeUnwrapEmpty(value){return value===_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MZA?{}:value===_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv?[]:value}function inheritViewQuery(definition,superViewQuery){const prevViewQuery=definition.viewQuery;definition.viewQuery=prevViewQuery?(rf,ctx)=>{superViewQuery(rf,ctx),prevViewQuery(rf,ctx)}:superViewQuery}function inheritContentQueries(definition,superContentQueries){const prevContentQueries=definition.contentQueries;definition.contentQueries=prevContentQueries?(rf,ctx,directiveIndex)=>{superContentQueries(rf,ctx,directiveIndex),prevContentQueries(rf,ctx,directiveIndex)}:superContentQueries}function inheritHostBindings(definition,superHostBindings){const prevHostBindings=definition.hostBindings;definition.hostBindings=prevHostBindings?(rf,ctx)=>{superHostBindings(rf,ctx),prevHostBindings(rf,ctx)}:superHostBindings}const COPY_DIRECTIVE_FIELDS=["providersResolver"],COPY_COMPONENT_FIELDS=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function ɵɵCopyDefinitionFeature(definition){let superDef,superType=getSuperType(definition.type);superDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV)(definition)?superType.ɵcmp:superType.ɵdir;const defAny=definition;for(const field of COPY_DIRECTIVE_FIELDS)defAny[field]=superDef[field];if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV)(superDef))for(const field of COPY_COMPONENT_FIELDS)defAny[field]=superDef[field]}function ɵɵHostDirectivesFeature(rawHostDirectives){const feature=definition=>{const isEager=Array.isArray(rawHostDirectives);null===definition.hostDirectives?(definition.resolveHostDirectives=resolveHostDirectives,definition.hostDirectives=isEager?rawHostDirectives.map(createHostDirectiveDef):[rawHostDirectives]):isEager?definition.hostDirectives.unshift(...rawHostDirectives.map(createHostDirectiveDef)):definition.hostDirectives.unshift(rawHostDirectives)};return feature.ngInherit=!0,feature}function resolveHostDirectives(matches){const allDirectiveDefs=[];let hasComponent=!1,hostDirectiveDefs=null,hostDirectiveRanges=null;for(let i=0;i<matches.length;i++){const def=matches[i];if(null!==def.hostDirectives){const start=allDirectiveDefs.length;hostDirectiveDefs??=new Map,hostDirectiveRanges??=new Map,findHostDirectiveDefs(def,allDirectiveDefs,hostDirectiveDefs),hostDirectiveRanges.set(def,[start,allDirectiveDefs.length-1])}0===i&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV)(def)&&(hasComponent=!0,allDirectiveDefs.push(def))}for(let i=hasComponent?1:0;i<matches.length;i++)allDirectiveDefs.push(matches[i]);return[allDirectiveDefs,hostDirectiveDefs,hostDirectiveRanges]}function findHostDirectiveDefs(currentDef,matchedDefs,hostDirectiveDefs){if(null!==currentDef.hostDirectives)for(const configOrFn of currentDef.hostDirectives)if("function"==typeof configOrFn){const resolved=configOrFn();for(const config of resolved)trackHostDirectiveDef(createHostDirectiveDef(config),matchedDefs,hostDirectiveDefs)}else trackHostDirectiveDef(configOrFn,matchedDefs,hostDirectiveDefs)}function trackHostDirectiveDef(def,matchedDefs,hostDirectiveDefs){const hostDirectiveDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(def.directive);("undefined"==typeof ngDevMode||ngDevMode)&&function validateHostDirective(hostDirectiveConfig,directiveDef){const type=hostDirectiveConfig.directive;if(null===directiveDef){if(null!==(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type))throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(310,`Host directive ${type.name} cannot be a component.`);throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(307,`Could not resolve metadata for host directive ${type.name}. Make sure that the ${type.name} class is annotated with an @Directive decorator.`)}if(!directiveDef.standalone)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(308,`Host directive ${directiveDef.type.name} must be standalone.`);validateMappings("input",directiveDef,hostDirectiveConfig.inputs),validateMappings("output",directiveDef,hostDirectiveConfig.outputs)}(def,hostDirectiveDef),function patchDeclaredInputs(declaredInputs,exposedInputs){for(const publicName in exposedInputs)if(exposedInputs.hasOwnProperty(publicName)){const remappedPublicName=exposedInputs[publicName],privateName=declaredInputs[publicName];("undefined"==typeof ngDevMode||ngDevMode)&&declaredInputs.hasOwnProperty(remappedPublicName)&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(declaredInputs[remappedPublicName],declaredInputs[publicName],`Conflicting host directive input alias ${publicName}.`),declaredInputs[remappedPublicName]=privateName}}(hostDirectiveDef.declaredInputs,def.inputs),findHostDirectiveDefs(hostDirectiveDef,matchedDefs,hostDirectiveDefs),hostDirectiveDefs.set(hostDirectiveDef,def),matchedDefs.push(hostDirectiveDef)}function createHostDirectiveDef(config){return"function"==typeof config?{directive:(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(config),inputs:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MZA,outputs:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MZA}:{directive:(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(config.directive),inputs:bindingArrayToMap(config.inputs),outputs:bindingArrayToMap(config.outputs)}}function bindingArrayToMap(bindings){if(void 0===bindings||0===bindings.length)return _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MZA;const result={};for(let i=0;i<bindings.length;i+=2)result[bindings[i]]=bindings[i+1];return result}function validateMappings(bindingType,def,hostDirectiveBindings){const className=def.type.name,bindings="input"===bindingType?def.inputs:def.outputs;for(const publicName in hostDirectiveBindings)if(hostDirectiveBindings.hasOwnProperty(publicName)){if(!bindings.hasOwnProperty(publicName))throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(311,`Directive ${className} does not have an ${bindingType} with a public name of ${publicName}.`);const remappedPublicName=hostDirectiveBindings[publicName];if(bindings.hasOwnProperty(remappedPublicName)&&remappedPublicName!==publicName)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(312,`Cannot alias ${bindingType} ${publicName} of host directive ${className} to ${remappedPublicName}, because it already has a different ${bindingType} with the same public name.`)}}function templateCreate(tNode,declarationLView,declarationTView,index,templateFn,decls,vars,flags){if(declarationTView.firstCreatePass){tNode.mergedAttrs=mergeHostAttrs(tNode.mergedAttrs,tNode.attrs);const embeddedTView=tNode.tView=createTView(2,tNode,templateFn,decls,vars,declarationTView.directiveRegistry,declarationTView.pipeRegistry,null,declarationTView.schemas,declarationTView.consts,null);null!==declarationTView.queries&&(declarationTView.queries.template(declarationTView,tNode),embeddedTView.queries=declarationTView.queries.embeddedTView(tNode))}flags&&(tNode.flags|=flags),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iMd)(tNode,!1);const comment=_locateOrCreateContainerAnchor(declarationTView,declarationLView,tNode,index);(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SX7)()&&appendChild(declarationTView,declarationLView,comment,tNode),attachPatchData(comment,declarationLView);const lContainer=createLContainer(comment,declarationLView,comment,tNode);declarationLView[index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1]=lContainer,addToEndOfViewTree(declarationLView,lContainer),populateDehydratedViewsInLContainer(lContainer,tNode,declarationLView)}function declareNoDirectiveHostTemplate(declarationLView,declarationTView,index,templateFn,decls,vars,tagName,attrs,flags,localRefsIndex,localRefExtractor){const adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1;let tNode;if(declarationTView.firstCreatePass){if(tNode=getOrCreateTNode(declarationTView,adjustedIndex,4,tagName||null,attrs||null),null!=localRefsIndex){const refs=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(declarationTView.consts,localRefsIndex);tNode.localNames=[];for(let i=0;i<refs.length;i+=2)tNode.localNames.push(refs[i],-1)}}else tNode=declarationTView.data[adjustedIndex];return templateCreate(tNode,declarationLView,declarationTView,index,templateFn,decls,vars,flags),null!=localRefsIndex&&saveResolvedLocalsInData(declarationLView,tNode,localRefExtractor),tNode}function ɵɵtemplate(index,templateFn,decls,vars,tagName,attrsIndex,localRefsIndex,localRefExtractor){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)();return function declareDirectiveHostTemplate(declarationLView,declarationTView,index,templateFn,decls,vars,tagName,attrs,flags,localRefsIndex,localRefExtractor){const adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1;let tNode;return declarationTView.firstCreatePass?(tNode=getOrCreateTNode(declarationTView,adjustedIndex,4,tagName||null,attrs||null),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ckz)()&&resolveDirectives(declarationTView,declarationLView,tNode,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(declarationTView.consts,localRefsIndex),findDirectiveDefMatches),registerPostOrderHooks(declarationTView,tNode)):tNode=declarationTView.data[adjustedIndex],templateCreate(tNode,declarationLView,declarationTView,index,templateFn,decls,vars,flags),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yoD)(tNode)&&createDirectivesInstances(declarationTView,declarationLView,tNode),null!=localRefsIndex&&saveResolvedLocalsInData(declarationLView,tNode,localRefExtractor),tNode}(lView,tView,index,templateFn,decls,vars,tagName,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(tView.consts,attrsIndex),void 0,localRefsIndex,localRefExtractor),ɵɵtemplate}function ɵɵdomTemplate(index,templateFn,decls,vars,tagName,attrsIndex,localRefsIndex,localRefExtractor){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)();return declareNoDirectiveHostTemplate(lView,tView,index,templateFn,decls,vars,tagName,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(tView.consts,attrsIndex),void 0,localRefsIndex,localRefExtractor),ɵɵdomTemplate}let _locateOrCreateContainerAnchor=createContainerAnchorImpl;function createContainerAnchorImpl(tView,lView,tNode,index){return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.m7n)(!0),lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT].createComment(ngDevMode?"container":"")}function locateOrCreateContainerAnchorImpl(tView,lView,tNode,index){const isNodeCreationMode=!canHydrateNode(lView,tNode);(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.m7n)(isNodeCreationMode);const ssrId=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA]?.data[TEMPLATES]?.[index]??null;if(null!==ssrId&&null!==tNode.tView&&(null===tNode.tView.ssrId?tNode.tView.ssrId=ssrId:ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(tNode.tView.ssrId,ssrId,"Unexpected value of the `ssrId` for this TView")),isNodeCreationMode)return createContainerAnchorImpl(0,lView);const hydrationInfo=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA],currentRNode=locateNextRNode(hydrationInfo,tView,lView,tNode);ngDevMode&&validateNodeExists(currentRNode,lView,tNode),setSegmentHead(hydrationInfo,index,currentRNode);const comment=siblingAfter(calcSerializedContainerSize(hydrationInfo,index),currentRNode);return ngDevMode&&(validateMatchingNode(comment,Node.COMMENT_NODE,null,lView,tNode),markRNodeAsClaimedByHydration(comment)),comment}function enableLocateOrCreateContainerAnchorImpl(){_locateOrCreateContainerAnchor=locateOrCreateContainerAnchorImpl}var DeferDependenciesLoadingState;!function(DeferDependenciesLoadingState){DeferDependenciesLoadingState[DeferDependenciesLoadingState.NOT_STARTED=0]="NOT_STARTED",DeferDependenciesLoadingState[DeferDependenciesLoadingState.IN_PROGRESS=1]="IN_PROGRESS",DeferDependenciesLoadingState[DeferDependenciesLoadingState.COMPLETE=2]="COMPLETE",DeferDependenciesLoadingState[DeferDependenciesLoadingState.FAILED=3]="FAILED"}(DeferDependenciesLoadingState||(DeferDependenciesLoadingState={}));const MINIMUM_SLOT=0,LOADING_AFTER_SLOT=1;var DeferBlockState,DeferBlockInternalState;!function(DeferBlockState){DeferBlockState[DeferBlockState.Placeholder=0]="Placeholder",DeferBlockState[DeferBlockState.Loading=1]="Loading",DeferBlockState[DeferBlockState.Complete=2]="Complete",DeferBlockState[DeferBlockState.Error=3]="Error"}(DeferBlockState||(DeferBlockState={})),function(DeferBlockInternalState){DeferBlockInternalState[DeferBlockInternalState.Initial=-1]="Initial"}(DeferBlockInternalState||(DeferBlockInternalState={}));const NEXT_DEFER_BLOCK_STATE=0,DEFER_BLOCK_STATE=1,STATE_IS_FROZEN_UNTIL=2,LOADING_AFTER_CLEANUP_FN=3,TRIGGER_CLEANUP_FNS=4,PREFETCH_TRIGGER_CLEANUP_FNS=5,SSR_UNIQUE_ID=6,SSR_BLOCK_STATE=7,ON_COMPLETE_FNS=8,HYDRATE_TRIGGER_CLEANUP_FNS=9;var DeferBlockBehavior;function storeTriggerCleanupFn(type,lDetails,cleanupFn){const key=getCleanupFnKeyByType(type);null===lDetails[key]&&(lDetails[key]=[]),lDetails[key].push(cleanupFn)}function invokeTriggerCleanupFns(type,lDetails){const key=getCleanupFnKeyByType(type),cleanupFns=lDetails[key];if(null!==cleanupFns){for(const cleanupFn of cleanupFns)cleanupFn();lDetails[key]=null}}function invokeAllTriggerCleanupFns(lDetails){invokeTriggerCleanupFns(1,lDetails),invokeTriggerCleanupFns(0,lDetails),invokeTriggerCleanupFns(2,lDetails)}function getCleanupFnKeyByType(type){let key=TRIGGER_CLEANUP_FNS;return 1===type?key=PREFETCH_TRIGGER_CLEANUP_FNS:2===type&&(key=HYDRATE_TRIGGER_CLEANUP_FNS),key}function getDeferBlockDataIndex(deferBlockIndex){return deferBlockIndex+1}function getLDeferBlockDetails(lView,tNode){const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],slotIndex=getDeferBlockDataIndex(tNode.index);return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zQk)(tView,slotIndex),lView[slotIndex]}function getTDeferBlockDetails(tView,tNode){const slotIndex=getDeferBlockDataIndex(tNode.index);return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zQk)(tView,slotIndex),tView.data[slotIndex]}function getMinimumDurationForState(tDetails,currentState){return currentState===DeferBlockState.Placeholder?tDetails.placeholderBlockConfig?.[MINIMUM_SLOT]??null:currentState===DeferBlockState.Loading?tDetails.loadingBlockConfig?.[MINIMUM_SLOT]??null:null}function getLoadingBlockAfter(tDetails){return tDetails.loadingBlockConfig?.[LOADING_AFTER_SLOT]??null}function addDepsToRegistry(currentDeps,newDeps){if(!currentDeps||0===currentDeps.length)return newDeps;const currentDepSet=new Set(currentDeps);for(const dep of newDeps)currentDepSet.add(dep);return currentDeps.length===currentDepSet.size?currentDeps:Array.from(currentDepSet)}function assertDeferredDependenciesLoaded(tDetails){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(tDetails.loadingState,DeferDependenciesLoadingState.COMPLETE,"Expecting all deferred dependencies to be loaded.")}function isTDeferBlockDetails(value){return null!==value&&"object"==typeof value&&"number"==typeof value.primaryTmplIndex}function isDeferBlock(tView,tNode){let tDetails=null;const slotIndex=getDeferBlockDataIndex(tNode.index);return _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1<slotIndex&&slotIndex<tView.bindingStartIndex&&(tDetails=getTDeferBlockDetails(tView,tNode)),!!tDetails&&isTDeferBlockDetails(tDetails)}function trackTriggerForDebugging(tView,tNode,textRepresentation){const tDetails=getTDeferBlockDetails(tView,tNode);tDetails.debug??={},tDetails.debug.triggers??=new Set,tDetails.debug.triggers.add(textRepresentation)}function onViewportWrapper(trigger,callback,injector){const ngZone=injector.get(NgZone);return function onViewport(trigger,callback,observerFactoryFn){let entry=viewportTriggers.get(trigger);return intersectionObserver=intersectionObserver||observerFactoryFn(),entry||(entry=new DeferEventEntry,intersectionObserver.observe(trigger),viewportTriggers.set(trigger,entry),observedViewportElements++),entry.callbacks.add(callback),()=>{viewportTriggers.has(trigger)&&(entry.callbacks.delete(callback),0===entry.callbacks.size&&(intersectionObserver?.unobserve(trigger),viewportTriggers.delete(trigger),observedViewportElements--),0===observedViewportElements&&(intersectionObserver?.disconnect(),intersectionObserver=null))}}(trigger,()=>ngZone.run(callback),()=>ngZone.runOutsideAngular(()=>function createIntersectionObserver(){return new IntersectionObserver(entries=>{for(const current of entries)current.isIntersecting&&viewportTriggers.has(current.target)&&viewportTriggers.get(current.target).listener()})}()))}function registerDomTrigger(initialLView,tNode,triggerIndex,walkUpTimes,registerFn,callback,type){const injector=initialLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],zone=injector.get(NgZone);let poll;poll=afterEveryRender({read:function pollDomTrigger(){if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EPY)(initialLView))return void poll.destroy();const lDetails=getLDeferBlockDetails(initialLView,tNode),renderedState=lDetails[DEFER_BLOCK_STATE];if(renderedState!==DeferBlockInternalState.Initial&&renderedState!==DeferBlockState.Placeholder)return void poll.destroy();const triggerLView=function getTriggerLView(deferredHostLView,deferredTNode,walkUpTimes){if(null==walkUpTimes)return deferredHostLView;if(walkUpTimes>=0)return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jRZ)(walkUpTimes,deferredHostLView);const deferredContainer=deferredHostLView[deferredTNode.index];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cP4)(deferredContainer);const triggerLView=deferredContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20]??null;if(ngDevMode&&null!==triggerLView){const renderedState=getLDeferBlockDetails(deferredHostLView,deferredTNode)[DEFER_BLOCK_STATE];(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(renderedState,DeferBlockState.Placeholder,"Expected a placeholder to be rendered in this defer block."),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MdC)(triggerLView)}return triggerLView}(initialLView,tNode,walkUpTimes);if(!triggerLView)return;if(poll.destroy(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EPY)(triggerLView))return;const element=function getTriggerElement(triggerLView,triggerIndex){const element=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.vaC)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1+triggerIndex,triggerLView);return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.LZP)(element),element}(triggerLView,triggerIndex),cleanup=registerFn(element,()=>{zone.run(()=>{initialLView!==triggerLView&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.DyX)(triggerLView,cleanup),callback()})},injector);initialLView!==triggerLView&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ik5)(triggerLView,cleanup),storeTriggerCleanupFn(type,lDetails,cleanup)}},{injector})}function onIdle(callback,injector){const scheduler=injector.get(IdleScheduler);return scheduler.add(callback),()=>scheduler.remove(callback)}!function(DeferBlockBehavior){DeferBlockBehavior[DeferBlockBehavior.Manual=0]="Manual",DeferBlockBehavior[DeferBlockBehavior.Playthrough=1]="Playthrough"}(DeferBlockBehavior||(DeferBlockBehavior={}));class IdleScheduler{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(NgZone);requestIdleCallbackFn=(()=>"undefined"!=typeof requestIdleCallback?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>"undefined"!=typeof requestIdleCallback?cancelIdleCallback:clearTimeout)().bind(globalThis);add(callback){(this.executingCallbacks?this.deferred:this.current).add(callback),null===this.idleId&&this.scheduleIdleCallback()}remove(callback){const{current,deferred}=this;current.delete(callback),deferred.delete(callback),0===current.size&&0===deferred.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const callback=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const callback of this.current)callback();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const callback of this.deferred)this.current.add(callback);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(callback))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:IdleScheduler,providedIn:"root",factory:()=>new IdleScheduler})}function onTimer(delay){return(callback,injector)=>scheduleTimerTrigger(delay,callback,injector)}function scheduleTimerTrigger(delay,callback,injector){const scheduler=injector.get(TimerScheduler),ngZone=injector.get(NgZone);return scheduler.add(delay,callback,ngZone),()=>scheduler.remove(callback)}class TimerScheduler{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(delay,callback,ngZone){const target=this.executingCallbacks?this.deferred:this.current;this.addToQueue(target,Date.now()+delay,callback),this.scheduleTimer(ngZone)}remove(callback){const{current,deferred}=this;-1===this.removeFromQueue(current,callback)&&this.removeFromQueue(deferred,callback),0===current.length&&0===deferred.length&&this.clearTimeout()}addToQueue(target,invokeAt,callback){let insertAtIndex=target.length;for(let i=0;i<target.length;i+=2){if(target[i]>invokeAt){insertAtIndex=i;break}}(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.llW)(target,insertAtIndex,invokeAt,callback)}removeFromQueue(target,callback){let index=-1;for(let i=0;i<target.length;i+=2){if(target[i+1]===callback){index=i;break}}return index>-1&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gsJ)(target,index,2),index}scheduleTimer(ngZone){const callback=()=>{this.clearTimeout(),this.executingCallbacks=!0;const current=[...this.current],now=Date.now();for(let i=0;i<current.length;i+=2){const callback=current[i+1];if(!(current[i]<=now))break;callback()}let lastCallbackIndex=-1;for(let i=0;i<this.current.length;i+=2){if(!(this.current[i]<=now))break;lastCallbackIndex=i+1}if(lastCallbackIndex>=0&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gsJ)(this.current,0,lastCallbackIndex+1),this.executingCallbacks=!1,this.deferred.length>0){for(let i=0;i<this.deferred.length;i+=2){const invokeAt=this.deferred[i],callback=this.deferred[i+1];this.addToQueue(this.current,invokeAt,callback)}this.deferred.length=0}this.scheduleTimer(ngZone)};if(this.current.length>0){const now=Date.now(),invokeAt=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-invokeAt>16){this.clearTimeout();const timeout=Math.max(invokeAt-now,16);this.invokeTimerAt=invokeAt,this.timeoutId=ngZone.runOutsideAngular(()=>setTimeout(()=>ngZone.run(callback),timeout))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:TimerScheduler,providedIn:"root",factory:()=>new TimerScheduler})}class CachedInjectorService{cachedInjectors=new Map;getOrCreateInjector(key,parentInjector,providers,debugName){if(!this.cachedInjectors.has(key)){const injector=providers.length>0?createEnvironmentInjector(providers,parentInjector,debugName):null;this.cachedInjectors.set(key,injector)}return this.cachedInjectors.get(key)}ngOnDestroy(){try{for(const injector of this.cachedInjectors.values())null!==injector&&injector.destroy()}finally{this.cachedInjectors.clear()}}static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:CachedInjectorService,providedIn:"environment",factory:()=>new CachedInjectorService})}const DEFER_BLOCK_DEPENDENCY_INTERCEPTOR=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC("DEFER_BLOCK_DEPENDENCY_INTERCEPTOR"),DEFER_BLOCK_CONFIG=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"DEFER_BLOCK_CONFIG":"");function getOrCreateEnvironmentInjector(parentInjector,tDetails,providers){return parentInjector.get(CachedInjectorService).getOrCreateInjector(tDetails,parentInjector,providers,ngDevMode?"DeferBlock Injector":"")}function renderDeferBlockState(newState,tNode,lContainer,skipTimerScheduling=!1){const hostLView=lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T],hostTView=hostLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EPY)(hostLView))return;ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VKj)(tNode,hostLView);const lDetails=getLDeferBlockDetails(hostLView,tNode);ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(lDetails,"Expected a defer block state defined");const currentState=lDetails[DEFER_BLOCK_STATE],ssrState=lDetails[SSR_BLOCK_STATE];if(!(null!==ssrState&&newState<ssrState)&&isValidStateChange(currentState,newState)&&isValidStateChange(lDetails[NEXT_DEFER_BLOCK_STATE]??-1,newState)){const tDetails=getTDeferBlockDetails(hostTView,tNode),needsScheduling=!skipTimerScheduling&&("undefined"==typeof ngServerMode||!ngServerMode)&&(null!==getLoadingBlockAfter(tDetails)||null!==getMinimumDurationForState(tDetails,DeferBlockState.Loading)||getMinimumDurationForState(tDetails,DeferBlockState.Placeholder));ngDevMode&&needsScheduling&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(applyDeferBlockStateWithSchedulingImpl,"Expected scheduling function to be defined");const applyStateFn=needsScheduling?applyDeferBlockStateWithSchedulingImpl:applyDeferBlockState;try{applyStateFn(newState,lDetails,lContainer,tNode,hostLView)}catch(error){handleUncaughtError(hostLView,error)}}}function applyDeferBlockState(newState,lDetails,lContainer,tNode,hostLView){profiler(20);const stateTmplIndex=function getTemplateIndexForState(newState,hostLView,tNode){const tDetails=getTDeferBlockDetails(hostLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode);switch(newState){case DeferBlockState.Complete:return tDetails.primaryTmplIndex;case DeferBlockState.Loading:return tDetails.loadingTmplIndex;case DeferBlockState.Error:return tDetails.errorTmplIndex;case DeferBlockState.Placeholder:return tDetails.placeholderTmplIndex;default:return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)(`Unexpected defer block state: ${newState}`),null}}(newState,hostLView,tNode);if(null!==stateTmplIndex){lDetails[DEFER_BLOCK_STATE]=newState;const hostTView=hostLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],adjustedIndex=stateTmplIndex+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,activeBlockTNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.XRZ)(hostTView,adjustedIndex),viewIndex=0;let injector;if(removeLViewFromLContainer(lContainer,viewIndex),newState===DeferBlockState.Complete){const tDetails=getTDeferBlockDetails(hostTView,tNode),providers=tDetails.providers;providers&&providers.length>0&&(injector=function createDeferBlockInjector(parentInjector,tDetails,providers){if(parentInjector instanceof ChainedInjector){const origInjector=parentInjector.injector,envInjector=getOrCreateEnvironmentInjector(parentInjector.parentInjector,tDetails,providers);return new ChainedInjector(origInjector,envInjector)}const parentEnvInjector=parentInjector.get(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.uvJ);if(parentEnvInjector!==parentInjector){const envInjector=getOrCreateEnvironmentInjector(parentEnvInjector,tDetails,providers);return new ChainedInjector(parentInjector,envInjector)}return getOrCreateEnvironmentInjector(parentInjector,tDetails,providers)}(hostLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],tDetails,providers))}const{dehydratedView,dehydratedViewIx}=function findMatchingDehydratedViewForDeferBlock(lContainer,lDetails){const dehydratedViewIx=lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qFA]?.findIndex(view=>view.data[DEFER_BLOCK_STATE$1]===lDetails[DEFER_BLOCK_STATE])??-1;return{dehydratedView:dehydratedViewIx>-1?lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qFA][dehydratedViewIx]:null,dehydratedViewIx}}(lContainer,lDetails),embeddedLView=createAndRenderEmbeddedLView(hostLView,activeBlockTNode,null,{injector,dehydratedView});if(addLViewToLContainer(lContainer,embeddedLView,viewIndex,shouldAddViewToDom(activeBlockTNode,dehydratedView)),markViewDirty(embeddedLView,2),dehydratedViewIx>-1&&lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qFA]?.splice(dehydratedViewIx,1),(newState===DeferBlockState.Complete||newState===DeferBlockState.Error)&&Array.isArray(lDetails[ON_COMPLETE_FNS])){for(const callback of lDetails[ON_COMPLETE_FNS])callback();lDetails[ON_COMPLETE_FNS]=null}}profiler(21)}function applyDeferBlockStateWithScheduling(newState,lDetails,lContainer,tNode,hostLView){const now=Date.now(),tDetails=getTDeferBlockDetails(hostLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode);if(null===lDetails[STATE_IS_FROZEN_UNTIL]||lDetails[STATE_IS_FROZEN_UNTIL]<=now){lDetails[STATE_IS_FROZEN_UNTIL]=null;const loadingAfter=getLoadingBlockAfter(tDetails),inLoadingAfterPhase=null!==lDetails[LOADING_AFTER_CLEANUP_FN];if(newState!==DeferBlockState.Loading||null===loadingAfter||inLoadingAfterPhase){newState>DeferBlockState.Loading&&inLoadingAfterPhase&&(lDetails[LOADING_AFTER_CLEANUP_FN](),lDetails[LOADING_AFTER_CLEANUP_FN]=null,lDetails[NEXT_DEFER_BLOCK_STATE]=null),applyDeferBlockState(newState,lDetails,lContainer,tNode,hostLView);const duration=getMinimumDurationForState(tDetails,newState);null!==duration&&(lDetails[STATE_IS_FROZEN_UNTIL]=now+duration,scheduleDeferBlockUpdate(duration,lDetails,tNode,lContainer,hostLView))}else{lDetails[NEXT_DEFER_BLOCK_STATE]=newState;const cleanupFn=scheduleDeferBlockUpdate(loadingAfter,lDetails,tNode,lContainer,hostLView);lDetails[LOADING_AFTER_CLEANUP_FN]=cleanupFn}}else lDetails[NEXT_DEFER_BLOCK_STATE]=newState}function scheduleDeferBlockUpdate(timeout,lDetails,tNode,lContainer,hostLView){return scheduleTimerTrigger(timeout,()=>{const nextState=lDetails[NEXT_DEFER_BLOCK_STATE];lDetails[STATE_IS_FROZEN_UNTIL]=null,lDetails[NEXT_DEFER_BLOCK_STATE]=null,null!==nextState&&renderDeferBlockState(nextState,tNode,lContainer)},hostLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL])}function isValidStateChange(currentState,newState){return currentState<newState}function renderPlaceholder(lView,tNode){const lContainer=lView[tNode.index];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cP4)(lContainer),renderDeferBlockState(DeferBlockState.Placeholder,tNode,lContainer)}function renderDeferStateAfterResourceLoading(tDetails,tNode,lContainer){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(tDetails.loadingPromise,"Expected loading Promise to exist on this defer block"),tDetails.loadingPromise.then(()=>{tDetails.loadingState===DeferDependenciesLoadingState.COMPLETE?(ngDevMode&&assertDeferredDependenciesLoaded(tDetails),renderDeferBlockState(DeferBlockState.Complete,tNode,lContainer)):tDetails.loadingState===DeferDependenciesLoadingState.FAILED&&renderDeferBlockState(DeferBlockState.Error,tNode,lContainer)})}let applyDeferBlockStateWithSchedulingImpl=null;function ɵɵdeferEnableTimerScheduling(tView,tDetails,placeholderConfigIndex,loadingConfigIndex){const tViewConsts=tView.consts;null!=placeholderConfigIndex&&(tDetails.placeholderBlockConfig=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(tViewConsts,placeholderConfigIndex)),null!=loadingConfigIndex&&(tDetails.loadingBlockConfig=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(tViewConsts,loadingConfigIndex)),null===applyDeferBlockStateWithSchedulingImpl&&(applyDeferBlockStateWithSchedulingImpl=applyDeferBlockStateWithScheduling)}const ASYNC_COMPONENT_METADATA_FN="__ngAsyncComponentMetadataFn__";function getAsyncClassMetadataFn(type){return type[ASYNC_COMPONENT_METADATA_FN]??null}function setClassMetadataAsync(type,dependencyLoaderFn,metadataSetterFn){const componentClass=type;return componentClass[ASYNC_COMPONENT_METADATA_FN]=()=>Promise.all(dependencyLoaderFn()).then(dependencies=>(metadataSetterFn(...dependencies),componentClass[ASYNC_COMPONENT_METADATA_FN]=null,dependencies)),componentClass[ASYNC_COMPONENT_METADATA_FN]}function setClassMetadata(type,decorators,ctorParameters,propDecorators){return noSideEffects(()=>{const clazz=type;null!==decorators&&(clazz.hasOwnProperty("decorators")&&void 0!==clazz.decorators?clazz.decorators.push(...decorators):clazz.decorators=decorators),null!==ctorParameters&&(clazz.ctorParameters=ctorParameters),null!==propDecorators&&(clazz.hasOwnProperty("propDecorators")&&void 0!==clazz.propDecorators?clazz.propDecorators={...clazz.propDecorators,...propDecorators}:clazz.propDecorators=propDecorators)})}class Console{log(message){console.log(message)}warn(message){console.warn(message)}static ɵfac=function Console_Factory(__ngFactoryType__){return new(__ngFactoryType__||Console)};static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:Console,factory:Console.ɵfac,providedIn:"platform"})}("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(Console,[{type:Injectable,args:[{providedIn:"platform"}]}],null,null);let frameworkDIDebugData=new class DIDebugData{resolverToTokenToDependencies=new WeakMap;resolverToProviders=new WeakMap;resolverToEffects=new WeakMap;standaloneInjectorToComponent=new WeakMap;reset(){this.resolverToTokenToDependencies=new WeakMap,this.resolverToProviders=new WeakMap,this.standaloneInjectorToComponent=new WeakMap}};function getFrameworkDIDebugData(){return frameworkDIDebugData}function injectorProfilerEventHandler(injectorProfilerEvent){const{context,type}=injectorProfilerEvent;0===type?function handleInjectEvent(context,data){const diResolver=getDIResolver(context.injector);null===diResolver&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("An Inject event must be run within an injection context.");const diResolverToInstantiatedToken=frameworkDIDebugData.resolverToTokenToDependencies;diResolverToInstantiatedToken.has(diResolver)||diResolverToInstantiatedToken.set(diResolver,new WeakMap);if(!function canBeHeldWeakly(value){return null!==value&&("object"==typeof value||"function"==typeof value||"symbol"==typeof value)}(context.token))return;const instantiatedTokenToDependencies=diResolverToInstantiatedToken.get(diResolver);instantiatedTokenToDependencies.has(context.token)||instantiatedTokenToDependencies.set(context.token,[]);const{token,value,flags}=data;(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(context.token,"Injector profiler context token is undefined.");const dependencies=instantiatedTokenToDependencies.get(context.token);(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(dependencies,"Could not resolve dependencies for token."),context.injector instanceof NodeInjector?dependencies.push({token,value,flags,injectedIn:getNodeInjectorContext(context.injector)}):dependencies.push({token,value,flags})}(context,injectorProfilerEvent.service):1===type?function handleInstanceCreatedByInjectorEvent(context,data){const{value}=data;if(null==data.value)return;null===getDIResolver(context.injector)&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("An InjectorCreatedInstance event must be run within an injection context.");let standaloneComponent;"object"==typeof value&&(standaloneComponent=value?.constructor);if(null==standaloneComponent||!function isStandaloneComponent(value){const def=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(value);return!!def?.standalone}(standaloneComponent))return;const environmentInjector=context.injector.get(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.uvJ,null,{optional:!0});if(null===environmentInjector)return;const{standaloneInjectorToComponent}=frameworkDIDebugData;if(standaloneInjectorToComponent.has(environmentInjector))return;standaloneInjectorToComponent.set(environmentInjector,standaloneComponent)}(context,injectorProfilerEvent.instance):2===type?function handleProviderConfiguredEvent(context,data){const{resolverToProviders}=frameworkDIDebugData;let diResolver;diResolver=context?.injector instanceof NodeInjector?getNodeInjectorTNode(context.injector):context.injector;null===diResolver&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("A ProviderConfigured event must be run within an injection context.");resolverToProviders.has(diResolver)||resolverToProviders.set(diResolver,[]);resolverToProviders.get(diResolver).push(data)}(context,injectorProfilerEvent.providerRecord):3===type&&function handleEffectCreatedEvent(context,effect){const diResolver=getDIResolver(context.injector);null===diResolver&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("An EffectCreated event must be run within an injection context.");const{resolverToEffects}=frameworkDIDebugData;resolverToEffects.has(diResolver)||resolverToEffects.set(diResolver,[]);resolverToEffects.get(diResolver).push(effect)}(context,injectorProfilerEvent.effect)}function getNodeInjectorContext(injector){injector instanceof NodeInjector||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("getNodeInjectorContext must be called with a NodeInjector");const lView=getNodeInjectorLView(injector),tNode=getNodeInjectorTNode(injector);if(null!==tNode)return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VKj)(tNode,lView),{lView,tNode}}function getDIResolver(injector){let diResolver=null;return void 0===injector||(diResolver=injector instanceof NodeInjector?getNodeInjectorLView(injector):injector),diResolver}function getDeferBlocks$1(lView,deferBlocks){const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];for(let i=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1;i<tView.bindingStartIndex;i++)if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.A0l)(lView[i])){const lContainer=lView[i];if(!(i===tView.bindingStartIndex-1)){const tNode=tView.data[i],tDetails=getTDeferBlockDetails(tView,tNode);if(isTDeferBlockDetails(tDetails)){deferBlocks.push({lContainer,lView,tNode,tDetails});continue}}(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP])&&getDeferBlocks$1(lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP],deferBlocks);for(let j=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20;j<lContainer.length;j++)getDeferBlocks$1(lContainer[j],deferBlocks)}else(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(lView[i])&&getDeferBlocks$1(lView[i],deferBlocks)}function findDeferBlocks(node,lView,results){const viewInjector=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],registry=viewInjector.get(DEHYDRATED_BLOCK_REGISTRY,null,{optional:!0}),blocks=[];getDeferBlocks$1(lView,blocks);const deferBlockParents=viewInjector.get(TransferState).get(NGH_DEFER_BLOCKS_KEY,{});for(const details of blocks){const native=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(details.tNode,details.lView),lDetails=getLDeferBlockDetails(details.lView,details.tNode);if(!node.contains(native))continue;const tDetails=details.tDetails,renderedLView=getRendererLView(details),rootNodes=[],hydrationState=inferHydrationState(tDetails,lDetails,registry);if(null!==renderedLView)collectNativeNodes(renderedLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],renderedLView,renderedLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].firstChild,rootNodes);else if("dehydrated"===hydrationState){const numberOfRootNodes=deferBlockParents[lDetails[SSR_UNIQUE_ID]][NUM_ROOT_NODES];let collectedNodeCount=0;let currentNode=details.lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.s6P].previousSibling;for(;collectedNodeCount<numberOfRootNodes&&currentNode;)rootNodes.unshift(currentNode),currentNode=currentNode.previousSibling,collectedNodeCount++}const data={state:stringifyState(lDetails[DEFER_BLOCK_STATE]),incrementalHydrationState:hydrationState,hasErrorBlock:null!==tDetails.errorTmplIndex,loadingBlock:{exists:null!==tDetails.loadingTmplIndex,minimumTime:tDetails.loadingBlockConfig?.[MINIMUM_SLOT]??null,afterTime:tDetails.loadingBlockConfig?.[LOADING_AFTER_SLOT]??null},placeholderBlock:{exists:null!==tDetails.placeholderTmplIndex,minimumTime:tDetails.placeholderBlockConfig?.[MINIMUM_SLOT]??null},triggers:tDetails.debug?.triggers?Array.from(tDetails.debug.triggers).sort():[],rootNodes};results.push(data),null!==renderedLView&&findDeferBlocks(node,renderedLView,results)}}function stringifyState(state){switch(state){case DeferBlockState.Complete:return"complete";case DeferBlockState.Loading:return"loading";case DeferBlockState.Placeholder:return"placeholder";case DeferBlockState.Error:return"error";case DeferBlockInternalState.Initial:return"initial";default:throw new Error(`Unrecognized state ${state}`)}}function inferHydrationState(tDetails,lDetails,registry){return null===registry||null===lDetails[SSR_UNIQUE_ID]||null===tDetails.hydrateTriggers||tDetails.hydrateTriggers.has(7)?"not-configured":registry.has(lDetails[SSR_UNIQUE_ID])?"dehydrated":"hydrated"}function getRendererLView(details){if(details.lContainer.length<=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20)return null;const lView=details.lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20];return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MdC)(lView),lView}function getProviderImportPaths(providerImportsContainer){const providerToPath=new Map,visitor=function walkProviderTreeToDiscoverImportPaths(providerToPath,visitedContainers){return(provider,container)=>{if(providerToPath.has(provider)||providerToPath.set(provider,[container]),!visitedContainers.has(container))for(const prov of providerToPath.keys()){const existingImportPath=providerToPath.get(prov);let containerDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ebl)(container);if(!containerDef){const ngModule=container.ngModule;containerDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ebl)(ngModule)}if(!containerDef)return;const lastContainerAddedToPath=existingImportPath[0];let isNextStepInPath=!1;(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xLP)(containerDef.imports,moduleImport=>{isNextStepInPath||(isNextStepInPath=moduleImport.ngModule===lastContainerAddedToPath||moduleImport===lastContainerAddedToPath,isNextStepInPath&&providerToPath.get(prov)?.unshift(container))})}visitedContainers.add(container)}}(providerToPath,new Set);return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.brz)(providerImportsContainer,visitor,[],new Set),providerToPath}function getEnvironmentInjectorProviders(injector){const providerRecordsWithoutImportPaths=getFrameworkDIDebugData().resolverToProviders.get(injector)??[];if(function isPlatformInjector(injector){return injector instanceof _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.e5P&&injector.scopes.has("platform")}(injector))return providerRecordsWithoutImportPaths;const providerImportsContainer=function getProviderImportsContainer(injector){const{standaloneInjectorToComponent}=getFrameworkDIDebugData();if(standaloneInjectorToComponent.has(injector))return standaloneInjectorToComponent.get(injector);const defTypeRef=injector.get(NgModuleRef$1,null,{self:!0,optional:!0});return null===defTypeRef||null===defTypeRef.instance?null:defTypeRef.instance.constructor}(injector);if(null===providerImportsContainer)return providerRecordsWithoutImportPaths;const providerToPath=getProviderImportPaths(providerImportsContainer),providerRecords=[];for(const providerRecord of providerRecordsWithoutImportPaths){const provider=providerRecord.provider,token=provider.provide;if(token===_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Z63||token===_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.B9r)continue;let importPath=providerToPath.get(provider)??[];const def=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(providerImportsContainer);!!def?.standalone&&(importPath=[providerImportsContainer,...importPath]),providerRecords.push({...providerRecord,importPath})}return providerRecords}function getInjectorResolutionPath(injector){const resolutionPath=[injector];return getInjectorResolutionPathHelper(injector,resolutionPath),resolutionPath}function getInjectorResolutionPathHelper(injector,resolutionPath){const parent=function getInjectorParent(injector){if(injector instanceof _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.e5P)return injector.parent;let tNode,lView;if(injector instanceof NodeInjector)tNode=getNodeInjectorTNode(injector),lView=getNodeInjectorLView(injector);else{if(injector instanceof _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oTH)return null;if(injector instanceof ChainedInjector)return injector.parentInjector;(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("getInjectorParent only support injectors of type R3Injector, NodeInjector, NullInjector")}const parentLocation=getParentInjectorLocation(tNode,lView);if(hasParentInjector(parentLocation)){const parentInjectorIndex=getParentInjectorIndex(parentLocation),parentLView=getParentInjectorView(parentLocation,lView),parentTNode=parentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data[parentInjectorIndex+8];return new NodeInjector(parentTNode,parentLView)}{const chainedInjector=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],injectorParent=chainedInjector.injector?.parent;if(injectorParent instanceof NodeInjector)return injectorParent}return null}(injector);if(null===parent){if(injector instanceof NodeInjector){const firstInjector=resolutionPath[0];if(firstInjector instanceof NodeInjector){const moduleInjector=function getModuleInjectorOfNodeInjector(injector){let lView;injector instanceof NodeInjector?lView=getNodeInjectorLView(injector):(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("getModuleInjectorOfNodeInjector must be called with a NodeInjector");const inj=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],moduleInjector=inj instanceof ChainedInjector?inj.parentInjector:inj.parent;moduleInjector||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("NodeInjector must have some connection to the module injector tree");return moduleInjector}(firstInjector);null===moduleInjector&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("NodeInjector must have some connection to the module injector tree"),resolutionPath.push(moduleInjector),getInjectorResolutionPathHelper(moduleInjector,resolutionPath)}return resolutionPath}}else resolutionPath.push(parent),getInjectorResolutionPathHelper(parent,resolutionPath);return resolutionPath}function isComputedNode(node){return"computed"===node.kind}function isTemplateEffectNode(node){return"template"===node.kind}function isSignalNode(node){return"signal"===node.kind}const signalDebugMap=new WeakMap;let counter$1=0;function extractSignalNodesAndEdgesFromRoots(nodes,signalDependenciesMap=new Map){for(const node of nodes){if(signalDependenciesMap.has(node))continue;const producerNodes=[];for(let link=node.producers;void 0!==link;link=link.nextProducer){const producer=link.producer;producerNodes.push(producer)}signalDependenciesMap.set(node,producerNodes),extractSignalNodesAndEdgesFromRoots(producerNodes,signalDependenciesMap)}return signalDependenciesMap}let changeDetectionRuns=0,changeDetectionSyncRuns=0,counter=0;const eventsStack=[];function measureStart(startEvent){eventsStack.push([startEvent,counter]),console.timeStamp("Event_"+startEvent+"_"+counter++)}function measureEnd(startEvent,entryName,color){const top=eventsStack.pop();(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(top,"Profiling error: could not find start event entry "+startEvent),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(top[0],startEvent,`Profiling error: expected to see ${startEvent} event but got ${top[0]}`),console.timeStamp(entryName,"Event_"+top[0]+"_"+top[1],void 0,"🅰️ Angular",void 0,color)}const chromeDevToolsInjectorProfiler=event=>{const eventType=event.type;if(4===eventType)measureStart(100);else if(1===eventType){measureEnd(100,getProviderTokenMeasureName(event.context.token),"tertiary-dark")}},devToolsProfiler=(event,instance,eventFn)=>{switch(event){case 8:case 10:case 12:case 14:case 16:case 18:case 20:case 22:case 0:case 4:case 2:case 24:case 6:measureStart(event);break;case 9:measureEnd(8,"Bootstrap application","primary-dark");break;case 11:measureEnd(10,"Bootstrap component","primary-dark");break;case 13:changeDetectionSyncRuns=0,measureEnd(12,"Change detection "+changeDetectionRuns++,"primary-dark");break;case 15:measureEnd(14,"Synchronization "+changeDetectionSyncRuns++,"primary");break;case 17:measureEnd(16,"After render hooks","primary");break;case 19:measureEnd(18,getComponentMeasureName(instance),"primary-light");break;case 21:measureEnd(20,"Defer block","primary-dark");break;case 23:measureEnd(22,"Dynamic component creation","primary-dark");break;case 3:measureEnd(2,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(eventFn)+" (update)","secondary-dark");break;case 1:measureEnd(0,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(eventFn)+" (create)","secondary");break;case 25:measureEnd(24,"HostBindings","secondary-dark");break;case 5:measureEnd(4,`${getComponentMeasureName(instance)}:${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(eventFn)}`,"tertiary");break;case 7:measureEnd(6,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(eventFn),"tertiary-light");break;default:throw new Error("Unexpected profiling event type: "+event)}};function getComponentMeasureName(instance){return instance.constructor.name}function getProviderTokenMeasureName(token){return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y3W)(token)?token.name:null!=token.provide?getProviderTokenMeasureName(token.provide):token.toString()}function enableProfiling(){if(performanceMarkFeature("Chrome DevTools profiling"),"undefined"!=typeof ngDevMode&&ngDevMode){const removeInjectorProfiler=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.kcM)(chromeDevToolsInjectorProfiler),removeProfiler=setProfiler(devToolsProfiler);return()=>{removeInjectorProfiler(),removeProfiler()}}return()=>{}}function getTransferState(injector){const transferState=retrieveTransferredState(getDocument(),injector.get(APP_ID)),filteredEntries={};for(const[key,value]of Object.entries(transferState))isInternalHydrationTransferStateKey(key)||(filteredEntries[key]=value);return filteredEntries}const GLOBAL_PUBLISH_EXPANDO_KEY="ng",globalUtilsFunctions={ɵgetDependenciesFromInjectable:function getDependenciesFromInjectable(injector,token){const instance=injector.get(token,null,{self:!0,optional:!0});if(null===instance)throw new Error(`Unable to determine instance of ${token} in given injector`);const unformattedDependencies=function getDependenciesForTokenInInjector(token,injector){const{resolverToTokenToDependencies}=getFrameworkDIDebugData();if(!(injector instanceof NodeInjector))return resolverToTokenToDependencies.get(injector)?.get?.(token)??[];const lView=getNodeInjectorLView(injector),tokenDependencyMap=resolverToTokenToDependencies.get(lView),dependencies=tokenDependencyMap?.get(token)??[];return dependencies.filter(dependency=>{const dependencyNode=dependency.injectedIn?.tNode;if(void 0===dependencyNode)return!1;const instanceNode=getNodeInjectorTNode(injector);return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.R2n)(dependencyNode),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.R2n)(instanceNode),dependencyNode===instanceNode})}(token,injector),resolutionPath=getInjectorResolutionPath(injector);return{instance,dependencies:unformattedDependencies.map(dep=>{const formattedDependency={value:dep.value},flags=dep.flags;formattedDependency.flags={optional:!(8&~flags),host:!(1&~flags),self:!(2&~flags),skipSelf:!(4&~flags)};for(let i=0;i<resolutionPath.length;i++){const injectorToCheck=resolutionPath[i];if(0===i&&formattedDependency.flags.skipSelf)continue;if(formattedDependency.flags.host&&injectorToCheck instanceof _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.uvJ)break;if(null!==injectorToCheck.get(dep.token,null,{self:!0,optional:!0})){if(formattedDependency.flags.host){null!==resolutionPath[0].get(dep.token,null,{...formattedDependency.flags,optional:!0})&&(formattedDependency.providedIn=injectorToCheck);break}formattedDependency.providedIn=injectorToCheck;break}if(0===i&&formattedDependency.flags.self)break}return dep.token&&(formattedDependency.token=dep.token),formattedDependency})}},ɵgetInjectorProviders:function getInjectorProviders(injector){return injector instanceof NodeInjector?function getNodeInjectorProviders(injector){const diResolver=getNodeInjectorTNode(injector),{resolverToProviders}=getFrameworkDIDebugData();return resolverToProviders.get(diResolver)??[]}(injector):injector instanceof _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.uvJ?getEnvironmentInjectorProviders(injector):void(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("getInjectorProviders only supports NodeInjector and EnvironmentInjector")},ɵgetInjectorResolutionPath:getInjectorResolutionPath,ɵgetInjectorMetadata:function getInjectorMetadata(injector){if(injector instanceof NodeInjector){const lView=getNodeInjectorLView(injector),tNode=getNodeInjectorTNode(injector);return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VKj)(tNode,lView),{type:"element",source:(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(tNode,lView)}}return injector instanceof _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.e5P?{type:"environment",source:injector.source??null}:injector instanceof _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oTH?{type:"null",source:null}:null},ɵsetProfiler:setProfiler,ɵgetSignalGraph:function getSignalGraph(injector){let templateConsumer=null;if(!(injector instanceof NodeInjector||injector instanceof _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.e5P))return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("getSignalGraph must be called with a NodeInjector or R3Injector");injector instanceof NodeInjector&&(templateConsumer=function getTemplateConsumer(injector){const tNode=getNodeInjectorTNode(injector);(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.R2n)(tNode);const lView=getNodeInjectorLView(injector);(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MdC)(lView);const templateLView=lView[tNode.index];return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(templateLView)?templateLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Iaj]??null:null}(injector));const nonTemplateEffectNodes=function extractEffectsFromInjector(injector){let diResolver=injector;injector instanceof NodeInjector&&(diResolver=getNodeInjectorLView(injector));return(getFrameworkDIDebugData().resolverToEffects.get(diResolver)??[]).map(effect=>effect[_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.bh])}(injector);return function getNodesAndEdgesFromSignalMap(signalMap){const nodes=Array.from(signalMap.keys()),debugSignalGraphNodes=[],edges=[];for(const[consumer,producers]of signalMap.entries()){const consumerIndex=nodes.indexOf(consumer);let id=signalDebugMap.get(consumer);id||(counter$1++,id=counter$1.toString(),signalDebugMap.set(consumer,id)),isComputedNode(consumer)?debugSignalGraphNodes.push({label:consumer.debugName,value:consumer.value,kind:consumer.kind,epoch:consumer.version,debuggableFn:consumer.computation,id}):isSignalNode(consumer)?debugSignalGraphNodes.push({label:consumer.debugName,value:consumer.value,kind:consumer.kind,epoch:consumer.version,id}):isTemplateEffectNode(consumer)?debugSignalGraphNodes.push({label:consumer.debugName??consumer.lView?.[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP]?.tagName?.toLowerCase?.(),kind:consumer.kind,epoch:consumer.version,debuggableFn:consumer.lView?.[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]?.constructor,id}):debugSignalGraphNodes.push({label:consumer.debugName,kind:consumer.kind,epoch:consumer.version,id});for(const producer of producers)edges.push({consumer:consumerIndex,producer:nodes.indexOf(producer)})}return{nodes:debugSignalGraphNodes,edges}}(extractSignalNodesAndEdgesFromRoots(templateConsumer?[templateConsumer,...nonTemplateEffectNodes]:nonTemplateEffectNodes))},ɵgetDeferBlocks:function getDeferBlocks(node){const results=[],lView=getLContext(node)?.lView;return lView&&findDeferBlocks(node,lView,results),results},ɵgetTransferState:getTransferState,getDirectiveMetadata:function getDirectiveMetadata$1(directiveOrComponentInstance){const{constructor}=directiveOrComponentInstance;if(!constructor)throw new Error("Unable to find the instance constructor");const componentDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(constructor);if(componentDef){return{inputs:extractInputDebugMetadata(componentDef.inputs),outputs:componentDef.outputs,encapsulation:componentDef.encapsulation,changeDetection:componentDef.onPush?ChangeDetectionStrategy.OnPush:ChangeDetectionStrategy.Default}}const directiveDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(constructor);if(directiveDef){return{inputs:extractInputDebugMetadata(directiveDef.inputs),outputs:directiveDef.outputs}}return null},getComponent,getContext,getListeners,getOwningComponent,getHostElement,getInjector,getRootComponents,getDirectives,applyChanges:function applyChanges(component){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(component,"component"),markViewDirty(getComponentViewByInstance(component),3),getRootComponents(component).forEach(rootComponent=>function detectChanges(component){const view=getComponentViewByInstance(component);view[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]|=1024,detectChangesInternal(view)}(rootComponent))},isSignal:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Hps,enableProfiling};let _published=!1;function publishDefaultGlobalUtils$1(){if(!_published){_published=!0,"undefined"!=typeof window&&function setupFrameworkInjectorProfiler(){frameworkDIDebugData.reset(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.kcM)(injectorProfilerEventHandler)}();for(const[methodName,method]of Object.entries(globalUtilsFunctions))publishGlobalUtil(methodName,method)}}function publishGlobalUtil(name,fn){publishUtil(name,fn)}function publishExternalGlobalUtil(name,fn){publishUtil(name,fn)}function publishUtil(name,fn){if("undefined"==typeof COMPILED||!COMPILED){const w=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.laP;ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(fn,"function not defined"),w[GLOBAL_PUBLISH_EXPANDO_KEY]??={},w[GLOBAL_PUBLISH_EXPANDO_KEY][name]=fn}}const TESTABILITY=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(""),TESTABILITY_GETTER=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC("");class Testability{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(_ngZone,registry,testabilityGetter){this._ngZone=_ngZone,this.registry=registry,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M6u)()&&(this._destroyRef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.abz,{optional:!0})??void 0),_testabilityGetter||(setTestabilityGetter(testabilityGetter),testabilityGetter.addToWindow(registry)),this._watchAngularEvents(),_ngZone.run(()=>{this._taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const onUnstableSubscription=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),onStableSubscription=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{NgZone.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{onUnstableSubscription.unsubscribe(),onStableSubscription.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let cb=this._callbacks.pop();clearTimeout(cb.timeoutId),cb.doneCb()}});else{let pending=this.getPendingTasks();this._callbacks=this._callbacks.filter(cb=>!cb.updateCb||!cb.updateCb(pending)||(clearTimeout(cb.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(cb,timeout,updateCb){let timeoutId=-1;timeout&&timeout>0&&(timeoutId=setTimeout(()=>{this._callbacks=this._callbacks.filter(cb=>cb.timeoutId!==timeoutId),cb()},timeout)),this._callbacks.push({doneCb:cb,timeoutId,updateCb})}whenStable(doneCb,timeout,updateCb){if(updateCb&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(doneCb,timeout,updateCb),this._runCallbacksIfReady()}registerApplication(token){this.registry.registerApplication(token,this)}unregisterApplication(token){this.registry.unregisterApplication(token)}findProviders(using,provider,exactMatch){return[]}static ɵfac=function Testability_Factory(__ngFactoryType__){return new(__ngFactoryType__||Testability)((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KVO)(NgZone),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KVO)(TestabilityRegistry),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KVO)(TESTABILITY_GETTER))};static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:Testability,factory:Testability.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(Testability,[{type:Injectable}],()=>[{type:NgZone},{type:TestabilityRegistry},{type:void 0,decorators:[{type:Inject,args:[TESTABILITY_GETTER]}]}],null);class TestabilityRegistry{_applications=new Map;registerApplication(token,testability){this._applications.set(token,testability)}unregisterApplication(token){this._applications.delete(token)}unregisterAllApplications(){this._applications.clear()}getTestability(elem){return this._applications.get(elem)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(elem,findInAncestors=!0){return _testabilityGetter?.findTestabilityInTree(this,elem,findInAncestors)??null}static ɵfac=function TestabilityRegistry_Factory(__ngFactoryType__){return new(__ngFactoryType__||TestabilityRegistry)};static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:TestabilityRegistry,factory:TestabilityRegistry.ɵfac,providedIn:"platform"})}function setTestabilityGetter(getter){_testabilityGetter=getter}let _testabilityGetter;function isPromise(obj){return!!obj&&"function"==typeof obj.then}function isSubscribable(obj){return!!obj&&"function"==typeof obj.subscribe}("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(TestabilityRegistry,[{type:Injectable,args:[{providedIn:"platform"}]}],null,null);const APP_INITIALIZER=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"Application Initializer":"");function provideAppInitializer(initializerFn){return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EmA)([{provide:APP_INITIALIZER,multi:!0,useValue:initializerFn}])}class ApplicationInitStatus{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((res,rej)=>{this.resolve=res,this.reject=rej});appInits=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(APP_INITIALIZER,{optional:!0})??[];injector=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zZn);constructor(){if(("undefined"==typeof ngDevMode||ngDevMode)&&!Array.isArray(this.appInits))throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-209,`Unexpected type of the \`APP_INITIALIZER\` token value (expected an array, but got ${typeof this.appInits}). Please check that the \`APP_INITIALIZER\` token is configured as a \`multi: true\` provider.`)}runInitializers(){if(this.initialized)return;const asyncInitPromises=[];for(const appInits of this.appInits){const initResult=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.N4e)(this.injector,appInits);if(isPromise(initResult))asyncInitPromises.push(initResult);else if(isSubscribable(initResult)){const observableAsPromise=new Promise((resolve,reject)=>{initResult.subscribe({complete:resolve,error:reject})});asyncInitPromises.push(observableAsPromise)}}const complete=()=>{this.done=!0,this.resolve()};Promise.all(asyncInitPromises).then(()=>{complete()}).catch(e=>{this.reject(e)}),0===asyncInitPromises.length&&complete(),this.initialized=!0}static ɵfac=function ApplicationInitStatus_Factory(__ngFactoryType__){return new(__ngFactoryType__||ApplicationInitStatus)};static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:ApplicationInitStatus,factory:ApplicationInitStatus.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(ApplicationInitStatus,[{type:Injectable,args:[{providedIn:"root"}]}],()=>[],null);const APP_BOOTSTRAP_LISTENER=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"appBootstrapListener":"");function publishDefaultGlobalUtils(){ngDevMode&&publishDefaultGlobalUtils$1()}function publishSignalConfiguration(){(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.KO)(()=>{let errorMessage="";if(ngDevMode){const activeConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.nR)();errorMessage=activeConsumer&&function isReactiveLViewConsumer(node){return"template"===node.kind}(activeConsumer)?"Writing to signals is not allowed while Angular renders the template (eg. interpolations)":"Writing to signals is not allowed in a `computed`"}throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(600,errorMessage)})}function isBoundToModule(cf){return cf.isBoundToModule}class NgProbeToken{name;token;constructor(name,token){this.name=name,this.token=token}}function optionsReducer(dst,objs){return Array.isArray(objs)?objs.reduce(optionsReducer,dst):{...dst,...objs}}class ApplicationRef{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ZTf);afterRenderManager=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(AfterRenderManager);zonelessEnabled=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Evm);rootEffectScheduler=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new rxjs__WEBPACK_IMPORTED_MODULE_3__.B;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.T)(pending=>!pending))}constructor(){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(TracingService,{optional:!0})}whenStable(){let subscription;return new Promise(resolve=>{subscription=this.isStable.subscribe({next:stable=>{stable&&resolve()}})}).finally(()=>{subscription.unsubscribe()})}_injector=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(componentOrFactory,rootSelectorOrNode){return this.bootstrapImpl(componentOrFactory,rootSelectorOrNode)}bootstrapImpl(componentOrFactory,rootSelectorOrNode,injector=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zZn.NULL){return this._injector.get(NgZone).run(()=>{profiler(10),("undefined"==typeof ngDevMode||ngDevMode)&&warnIfDestroyed(this._destroyed);const isComponentFactory=componentOrFactory instanceof ComponentFactory$1;if(!this._injector.get(ApplicationInitStatus).done){let errorMessage="";if("undefined"==typeof ngDevMode||ngDevMode){errorMessage="Cannot bootstrap as there are still asynchronous initializers running."+(!isComponentFactory&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.QuC)(componentOrFactory)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.")}throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(405,errorMessage)}let componentFactory;if(isComponentFactory)componentFactory=componentOrFactory;else{componentFactory=this._injector.get(ComponentFactoryResolver$1).resolveComponentFactory(componentOrFactory)}this.componentTypes.push(componentFactory.componentType);const ngModule=isBoundToModule(componentFactory)?void 0:this._injector.get(NgModuleRef$1),selectorOrNode=rootSelectorOrNode||componentFactory.selector,compRef=componentFactory.create(injector,[],selectorOrNode,ngModule),nativeElement=compRef.location.nativeElement,testability=compRef.injector.get(TESTABILITY,null);if(testability?.registerApplication(nativeElement),compRef.onDestroy(()=>{this.detachView(compRef.hostView),remove(this.components,compRef),testability?.unregisterApplication(nativeElement)}),this._loadComponent(compRef),"undefined"==typeof ngDevMode||ngDevMode){this._injector.get(Console).log("Angular is running in development mode.")}return profiler(11,compRef),compRef})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){profiler(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(TracingAction.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(("undefined"==typeof ngDevMode||ngDevMode)&&warnIfDestroyed(this._destroyed),this._runningTick)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(101,ngDevMode&&"ApplicationRef.tick is called recursively");const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{if(this._runningTick=!0,this.synchronize(),"undefined"==typeof ngDevMode||ngDevMode)for(let view of this.allViews)view.checkNoChanges()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer),this.afterTick.next(),profiler(13)}};synchronize(){null!==this._rendererFactory||this._injector.destroyed||(this._rendererFactory=this._injector.get(RendererFactory2,null,{optional:!0}));let runs=0;for(;0!==this.dirtyFlags&&runs++<10;)profiler(14),this.synchronizeOnce(),profiler(15);if(("undefined"==typeof ngDevMode||ngDevMode)&&runs>=10)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(103,ngDevMode&&"Infinite change detection while refreshing application views. Ensure views are not calling `markForCheck` on every template execution or that afterRender hooks always mark views for check.")}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let ranDetectChanges=!1;if(7&this.dirtyFlags){const useGlobalCheck=Boolean(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView}of this.allViews){if(!useGlobalCheck&&!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.dMS)(_lView))continue;detectChangesInternal(_lView,useGlobalCheck&&!this.zonelessEnabled?0:1),ranDetectChanges=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}ranDetectChanges||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView})=>(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.dMS)(_lView))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(viewRef){("undefined"==typeof ngDevMode||ngDevMode)&&warnIfDestroyed(this._destroyed);const view=viewRef;this._views.push(view),view.attachToAppRef(this)}detachView(viewRef){("undefined"==typeof ngDevMode||ngDevMode)&&warnIfDestroyed(this._destroyed);const view=viewRef;remove(this._views,view),view.detachFromAppRef()}_loadComponent(componentRef){this.attachView(componentRef.hostView);try{this.tick()}catch(e){this.internalErrorHandler(e)}this.components.push(componentRef);const listeners=this._injector.get(APP_BOOTSTRAP_LISTENER,[]);if(ngDevMode&&!Array.isArray(listeners))throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-209,`Unexpected type of the \`APP_BOOTSTRAP_LISTENER\` token value (expected an array, but got ${typeof listeners}). Please check that the \`APP_BOOTSTRAP_LISTENER\` token is configured as a \`multi: true\` provider.`);listeners.forEach(listener=>listener(componentRef))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(listener=>listener()),this._views.slice().forEach(view=>view.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(callback){return("undefined"==typeof ngDevMode||ngDevMode)&&warnIfDestroyed(this._destroyed),this._destroyListeners.push(callback),()=>remove(this._destroyListeners,callback)}destroy(){if(this._destroyed)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(406,ngDevMode&&"This instance of the `ApplicationRef` has already been destroyed.");const injector=this._injector;injector.destroy&&!injector.destroyed&&injector.destroy()}get viewCount(){return this._views.length}static ɵfac=function ApplicationRef_Factory(__ngFactoryType__){return new(__ngFactoryType__||ApplicationRef)};static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:ApplicationRef,factory:ApplicationRef.ɵfac,providedIn:"root"})}function warnIfDestroyed(destroyed){destroyed&&console.warn((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OsK)(406,"This instance of the `ApplicationRef` has already been destroyed."))}function remove(list,el){const index=list.indexOf(el);index>-1&&list.splice(index,1)}function promiseWithResolvers(){let resolve,reject;return{promise:new Promise((res,rej)=>{resolve=res,reject=rej}),resolve,reject}}function scheduleDelayedTrigger(scheduleFn){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();if(renderPlaceholder(lView,tNode),!shouldTriggerDeferBlock(0,lView))return;const injector=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL];storeTriggerCleanupFn(0,getLDeferBlockDetails(lView,tNode),scheduleFn(()=>triggerDeferBlock(0,lView,tNode),injector))}function scheduleDelayedPrefetching(scheduleFn){if("undefined"!=typeof ngServerMode&&ngServerMode)return;const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),injector=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)(),tDetails=getTDeferBlockDetails(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode);if(tDetails.loadingState===DeferDependenciesLoadingState.NOT_STARTED){storeTriggerCleanupFn(1,getLDeferBlockDetails(lView,tNode),scheduleFn(()=>triggerPrefetching(tDetails,lView,tNode),injector))}}function scheduleDelayedHydrating(scheduleFn,lView,tNode){if("undefined"!=typeof ngServerMode&&ngServerMode)return;const injector=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],lDetails=getLDeferBlockDetails(lView,tNode),ssrUniqueId=lDetails[SSR_UNIQUE_ID];ngDevMode&&assertSsrIdDefined(ssrUniqueId);storeTriggerCleanupFn(2,lDetails,scheduleFn(()=>triggerHydrationFromBlockName(injector,ssrUniqueId),injector))}function triggerPrefetching(tDetails,lView,tNode){triggerResourceLoading(tDetails,lView,tNode)}function triggerResourceLoading(tDetails,lView,tNode){const injector=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];if(tDetails.loadingState!==DeferDependenciesLoadingState.NOT_STARTED)return tDetails.loadingPromise??Promise.resolve();const lDetails=getLDeferBlockDetails(lView,tNode),primaryBlockTNode=function getPrimaryBlockTNode(tView,tDetails){const adjustedIndex=tDetails.primaryTmplIndex+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1;return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.XRZ)(tView,adjustedIndex)}(tView,tDetails);tDetails.loadingState=DeferDependenciesLoadingState.IN_PROGRESS,invokeTriggerCleanupFns(1,lDetails);let dependenciesFn=tDetails.dependencyResolverFn;if(ngDevMode){const deferDependencyInterceptor=injector.get(DEFER_BLOCK_DEPENDENCY_INTERCEPTOR,null,{optional:!0});deferDependencyInterceptor&&(dependenciesFn=deferDependencyInterceptor.intercept(dependenciesFn))}const removeTask=injector.get(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.u5s).add();return dependenciesFn?(tDetails.loadingPromise=Promise.allSettled(dependenciesFn()).then(results=>{let failed=!1;const directiveDefs=[],pipeDefs=[];for(const result of results){if("fulfilled"!==result.status){failed=!0;break}{const dependency=result.value,directiveDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(dependency)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(dependency);if(directiveDef)directiveDefs.push(directiveDef);else{const pipeDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oyA)(dependency);pipeDef&&pipeDefs.push(pipeDef)}}}if(failed){if(tDetails.loadingState=DeferDependenciesLoadingState.FAILED,null===tDetails.errorTmplIndex){const templateLocation=ngDevMode?getTemplateLocationDetails(lView):"",error=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-750,ngDevMode&&`Loading dependencies for \`@defer\` block failed, but no \`@error\` block was configured${templateLocation}. Consider using the \`@error\` block to render an error state.`);handleUncaughtError(lView,error)}}else{tDetails.loadingState=DeferDependenciesLoadingState.COMPLETE;const primaryBlockTView=primaryBlockTNode.tView;if(directiveDefs.length>0){primaryBlockTView.directiveRegistry=addDepsToRegistry(primaryBlockTView.directiveRegistry,directiveDefs);const directiveTypes=directiveDefs.map(def=>def.type),providers=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jXY)(!1,...directiveTypes);tDetails.providers=providers}pipeDefs.length>0&&(primaryBlockTView.pipeRegistry=addDepsToRegistry(primaryBlockTView.pipeRegistry,pipeDefs))}}),tDetails.loadingPromise.finally(()=>{tDetails.loadingPromise=null,removeTask()})):(tDetails.loadingPromise=Promise.resolve().then(()=>{tDetails.loadingPromise=null,tDetails.loadingState=DeferDependenciesLoadingState.COMPLETE,removeTask()}),tDetails.loadingPromise)}function shouldTriggerDeferBlock(triggerType,lView){if(0===triggerType&&"undefined"!=typeof ngServerMode&&ngServerMode)return!1;const config=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL].get(DEFER_BLOCK_CONFIG,null,{optional:!0});return config?.behavior!==DeferBlockBehavior.Manual}function triggerDeferBlock(triggerType,lView,tNode){const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],lContainer=lView[tNode.index];if(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cP4)(lContainer),!shouldTriggerDeferBlock(triggerType,lView))return;const lDetails=getLDeferBlockDetails(lView,tNode),tDetails=getTDeferBlockDetails(tView,tNode);switch(invokeAllTriggerCleanupFns(lDetails),tDetails.loadingState){case DeferDependenciesLoadingState.NOT_STARTED:renderDeferBlockState(DeferBlockState.Loading,tNode,lContainer),triggerResourceLoading(tDetails,lView,tNode),tDetails.loadingState===DeferDependenciesLoadingState.IN_PROGRESS&&renderDeferStateAfterResourceLoading(tDetails,tNode,lContainer);break;case DeferDependenciesLoadingState.IN_PROGRESS:renderDeferBlockState(DeferBlockState.Loading,tNode,lContainer),renderDeferStateAfterResourceLoading(tDetails,tNode,lContainer);break;case DeferDependenciesLoadingState.COMPLETE:ngDevMode&&assertDeferredDependenciesLoaded(tDetails),renderDeferBlockState(DeferBlockState.Complete,tNode,lContainer);break;case DeferDependenciesLoadingState.FAILED:renderDeferBlockState(DeferBlockState.Error,tNode,lContainer);break;default:ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("Unknown defer block state")}}function triggerHydrationFromBlockName(_x,_x2,_x3){return _triggerHydrationFromBlockName.apply(this,arguments)}function _triggerHydrationFromBlockName(){return(_triggerHydrationFromBlockName=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(injector,blockName,replayQueuedEventsFn){const dehydratedBlockRegistry=injector.get(DEHYDRATED_BLOCK_REGISTRY);if(dehydratedBlockRegistry.hydrating.has(blockName))return;const{parentBlockPromise,hydrationQueue}=function getParentBlockHydrationQueue(deferBlockId,injector){const dehydratedBlockRegistry=injector.get(DEHYDRATED_BLOCK_REGISTRY),deferBlockParents=injector.get(TransferState).get(NGH_DEFER_BLOCKS_KEY,{});let isTopMostDeferBlock=!1,currentBlockId=deferBlockId,parentBlockPromise=null;const hydrationQueue=[];for(;!isTopMostDeferBlock&&currentBlockId;){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(hydrationQueue.indexOf(currentBlockId),-1,"Internal error: defer block hierarchy has a cycle."),isTopMostDeferBlock=dehydratedBlockRegistry.has(currentBlockId);const hydratingParentBlock=dehydratedBlockRegistry.hydrating.get(currentBlockId);if(null===parentBlockPromise&&null!=hydratingParentBlock){parentBlockPromise=hydratingParentBlock.promise;break}hydrationQueue.unshift(currentBlockId),currentBlockId=deferBlockParents[currentBlockId][DEFER_PARENT_BLOCK_ID]}return{parentBlockPromise,hydrationQueue}}(blockName,injector);if(0===hydrationQueue.length)return;null!==parentBlockPromise&&hydrationQueue.shift(),function populateHydratingStateForQueue(registry,queue){for(let blockId of queue)registry.hydrating.set(blockId,promiseWithResolvers())}(dehydratedBlockRegistry,hydrationQueue),null!==parentBlockPromise&&(yield parentBlockPromise);const topmostParentBlock=hydrationQueue[0];dehydratedBlockRegistry.has(topmostParentBlock)?yield triggerHydrationForBlockQueue(injector,hydrationQueue,replayQueuedEventsFn):dehydratedBlockRegistry.awaitParentBlock(topmostParentBlock,(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(){return yield triggerHydrationForBlockQueue(injector,hydrationQueue,replayQueuedEventsFn)}))})).apply(this,arguments)}function triggerHydrationForBlockQueue(_x4,_x5,_x6){return _triggerHydrationForBlockQueue.apply(this,arguments)}function _triggerHydrationForBlockQueue(){return(_triggerHydrationForBlockQueue=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(injector,hydrationQueue,replayQueuedEventsFn){const dehydratedBlockRegistry=injector.get(DEHYDRATED_BLOCK_REGISTRY),blocksBeingHydrated=dehydratedBlockRegistry.hydrating,pendingTasks=injector.get(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rev),taskId=pendingTasks.add();for(let blockQueueIdx=0;blockQueueIdx<hydrationQueue.length;blockQueueIdx++){const dehydratedBlockId=hydrationQueue[blockQueueIdx],dehydratedDeferBlock=dehydratedBlockRegistry.get(dehydratedBlockId);if(null==dehydratedDeferBlock){cleanupParentContainer(blockQueueIdx,hydrationQueue,dehydratedBlockRegistry),cleanupRemainingHydrationQueue(hydrationQueue.slice(blockQueueIdx),dehydratedBlockRegistry);break}if(yield triggerResourceLoadingForHydration(dehydratedDeferBlock),yield nextRender(injector),deferBlockHasErrored(dehydratedDeferBlock)){removeDehydratedViewList(dehydratedDeferBlock),cleanupRemainingHydrationQueue(hydrationQueue.slice(blockQueueIdx),dehydratedBlockRegistry);break}blocksBeingHydrated.get(dehydratedBlockId).resolve()}const lastBlockName=hydrationQueue[hydrationQueue.length-1];yield blocksBeingHydrated.get(lastBlockName)?.promise,pendingTasks.remove(taskId),replayQueuedEventsFn&&replayQueuedEventsFn(hydrationQueue),function cleanupHydratedDeferBlocks(deferBlock,hydratedBlocks,registry,appRef){null!==deferBlock&&(registry.cleanup(hydratedBlocks),cleanupLContainer(deferBlock.lContainer),cleanupDehydratedViews(appRef))}(dehydratedBlockRegistry.get(lastBlockName),hydrationQueue,dehydratedBlockRegistry,injector.get(ApplicationRef))})).apply(this,arguments)}function deferBlockHasErrored(deferBlock){return getLDeferBlockDetails(deferBlock.lView,deferBlock.tNode)[DEFER_BLOCK_STATE]===DeferBlockState.Error}function cleanupParentContainer(currentBlockIdx,hydrationQueue,dehydratedBlockRegistry){const parentDeferBlockIdx=currentBlockIdx-1,parentDeferBlock=parentDeferBlockIdx>-1?dehydratedBlockRegistry.get(hydrationQueue[parentDeferBlockIdx]):null;parentDeferBlock&&cleanupLContainer(parentDeferBlock.lContainer)}function cleanupRemainingHydrationQueue(hydrationQueue,dehydratedBlockRegistry){const blocksBeingHydrated=dehydratedBlockRegistry.hydrating;for(const dehydratedBlockId in hydrationQueue)blocksBeingHydrated.get(dehydratedBlockId)?.reject();dehydratedBlockRegistry.cleanup(hydrationQueue)}function nextRender(injector){return new Promise(resolveFn=>afterNextRender(resolveFn,{injector}))}function triggerResourceLoadingForHydration(_x7){return _triggerResourceLoadingForHydration.apply(this,arguments)}function _triggerResourceLoadingForHydration(){return(_triggerResourceLoadingForHydration=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(dehydratedBlock){const{tNode,lView}=dehydratedBlock,lDetails=getLDeferBlockDetails(lView,tNode);return new Promise(resolve=>{!function onDeferBlockCompletion(lDetails,callback){Array.isArray(lDetails[ON_COMPLETE_FNS])||(lDetails[ON_COMPLETE_FNS]=[]);lDetails[ON_COMPLETE_FNS].push(callback)}(lDetails,resolve),triggerDeferBlock(2,lView,tNode)})})).apply(this,arguments)}function shouldAttachTrigger(triggerType,lView,tNode){return 0===triggerType?shouldAttachRegularTrigger(lView,tNode):2===triggerType?!shouldAttachRegularTrigger(lView,tNode):!("undefined"!=typeof ngServerMode&&ngServerMode)}function hasHydrateTriggers(flags){return null!=flags&&!(1&~flags)}function shouldAttachRegularTrigger(lView,tNode){const injector=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],tDetails=getTDeferBlockDetails(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode),incrementalHydrationEnabled=isIncrementalHydrationEnabled(injector),_hasHydrateTriggers=hasHydrateTriggers(tDetails.flags);if("undefined"!=typeof ngServerMode&&ngServerMode)return!incrementalHydrationEnabled||!_hasHydrateTriggers;const wasServerSideRendered=null!==getLDeferBlockDetails(lView,tNode)[SSR_UNIQUE_ID];return!(_hasHydrateTriggers&&wasServerSideRendered&&incrementalHydrationEnabled)}function getHydrateTriggers(tView,tNode){const tDetails=getTDeferBlockDetails(tView,tNode);return tDetails.hydrateTriggers??=new Map}function processAndInitTriggers(injector,blockData,nodes){const idleElements=[],timerElements=[],viewportElements=[],immediateElements=[];for(let[blockId,blockSummary]of blockData){const commentNode=nodes.get(blockId);if(void 0!==commentNode){const numRootNodes=blockSummary.data[NUM_ROOT_NODES];let currentNode=commentNode;for(let i=0;i<numRootNodes;i++){if(currentNode=currentNode.previousSibling,currentNode.nodeType!==Node.ELEMENT_NODE)continue;const elementTrigger={el:currentNode,blockName:blockId};blockSummary.hydrate.idle&&idleElements.push(elementTrigger),blockSummary.hydrate.immediate&&immediateElements.push(elementTrigger),null!==blockSummary.hydrate.timer&&(elementTrigger.delay=blockSummary.hydrate.timer,timerElements.push(elementTrigger)),blockSummary.hydrate.viewport&&viewportElements.push(elementTrigger)}}}!function setIdleTriggers(injector,elementTriggers){for(const elementTrigger of elementTriggers){const registry=injector.get(DEHYDRATED_BLOCK_REGISTRY),cleanupFn=onIdle(()=>triggerHydrationFromBlockName(injector,elementTrigger.blockName),injector);registry.addCleanupFn(elementTrigger.blockName,cleanupFn)}}(injector,idleElements),function setImmediateTriggers(injector,elementTriggers){for(const elementTrigger of elementTriggers)triggerHydrationFromBlockName(injector,elementTrigger.blockName)}(injector,immediateElements),function setViewportTriggers(injector,elementTriggers){if(elementTriggers.length>0){const registry=injector.get(DEHYDRATED_BLOCK_REGISTRY);for(let elementTrigger of elementTriggers){const cleanupFn=onViewportWrapper(elementTrigger.el,()=>triggerHydrationFromBlockName(injector,elementTrigger.blockName),injector);registry.addCleanupFn(elementTrigger.blockName,cleanupFn)}}}(injector,viewportElements),function setTimerTriggers(injector,elementTriggers){for(const elementTrigger of elementTriggers){const registry=injector.get(DEHYDRATED_BLOCK_REGISTRY),onInvoke=()=>triggerHydrationFromBlockName(injector,elementTrigger.blockName),cleanupFn=onTimer(elementTrigger.delay)(onInvoke,injector);registry.addCleanupFn(elementTrigger.blockName,cleanupFn)}}(injector,timerElements)}("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(ApplicationRef,[{type:Injectable,args:[{providedIn:"root"}]}],()=>[],null);let _hmrWarningProduced=!1;function ɵɵdefer(index,primaryTmplIndex,dependencyResolverFn,loadingTmplIndex,placeholderTmplIndex,errorTmplIndex,loadingConfigIndex,placeholderConfigIndex,enableTimerScheduling,flags){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,tNode=declareNoDirectiveHostTemplate(lView,tView,index,null,0,0),injector=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],incrementalHydrationEnabled=isIncrementalHydrationEnabled(injector);if(tView.firstCreatePass){performanceMarkFeature("NgDefer"),ngDevMode&&("undefined"!=typeof ngHmrMode&&ngHmrMode&&function logHmrWarning(injector){_hmrWarningProduced||(_hmrWarningProduced=!0,injector.get(Console).log((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OsK)(-751,"Angular has detected that this application contains `@defer` blocks and the hot module replacement (HMR) mode is enabled. All `@defer` block dependencies will be loaded eagerly.")))}(injector),hasHydrateTriggers(flags)&&!incrementalHydrationEnabled&&function warnIncrementalHydrationNotConfigured(){incrementalHydrationEnabledWarned||(incrementalHydrationEnabledWarned=!0,console.warn((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OsK)(508,"Angular has detected that some `@defer` blocks use `hydrate` triggers, but incremental hydration was not enabled. Please ensure that the `withIncrementalHydration()` call is added as an argument for the `provideClientHydration()` function call in your application config.")))}());const tDetails={primaryTmplIndex,loadingTmplIndex:loadingTmplIndex??null,placeholderTmplIndex:placeholderTmplIndex??null,errorTmplIndex:errorTmplIndex??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:dependencyResolverFn??null,loadingState:DeferDependenciesLoadingState.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:flags??0};enableTimerScheduling?.(tView,tDetails,placeholderConfigIndex,loadingConfigIndex),function setTDeferBlockDetails(tView,deferBlockIndex,deferBlockConfig){const slotIndex=getDeferBlockDataIndex(deferBlockIndex);ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zQk)(tView,slotIndex),tView.data[slotIndex]=deferBlockConfig}(tView,adjustedIndex,tDetails)}const lContainer=lView[adjustedIndex];populateDehydratedViewsInLContainer(lContainer,tNode,lView);let ssrBlockState=null,ssrUniqueId=null;if(lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qFA]?.length>0){const info=lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qFA][0].data;ssrUniqueId=info[DEFER_BLOCK_ID]??null,ssrBlockState=info[DEFER_BLOCK_STATE$1]}const lDetails=[null,DeferBlockInternalState.Initial,null,null,null,null,ssrUniqueId,ssrBlockState,null,null];!function setLDeferBlockDetails(lView,deferBlockIndex,lDetails){const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],slotIndex=getDeferBlockDataIndex(deferBlockIndex);ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zQk)(tView,slotIndex),lView[slotIndex]=lDetails}(lView,adjustedIndex,lDetails);let registry=null;null!==ssrUniqueId&&incrementalHydrationEnabled&&(registry=injector.get(DEHYDRATED_BLOCK_REGISTRY),registry.add(ssrUniqueId,{lView,tNode,lContainer}));const onLViewDestroy=()=>{invokeAllTriggerCleanupFns(lDetails),null!==ssrUniqueId&&registry?.cleanup([ssrUniqueId])};storeTriggerCleanupFn(0,lDetails,()=>(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.DyX)(lView,onLViewDestroy)),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ik5)(lView,onLViewDestroy)}function ɵɵdeferWhen(rawValue){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CpD)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"when <expression>"),!shouldAttachTrigger(0,lView,tNode))return;if(bindingUpdated(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)(),rawValue)){const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{const value=Boolean(rawValue),renderedState=getLDeferBlockDetails(lView,tNode)[DEFER_BLOCK_STATE];!1===value&&renderedState===DeferBlockInternalState.Initial?renderPlaceholder(lView,tNode):!0!==value||renderedState!==DeferBlockInternalState.Initial&&renderedState!==DeferBlockState.Placeholder||triggerDeferBlock(0,lView,tNode)}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}}function ɵɵdeferPrefetchWhen(rawValue){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CpD)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"prefetch when <expression>"),!shouldAttachTrigger(1,lView,tNode))return;if(bindingUpdated(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)(),rawValue)){const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{const value=Boolean(rawValue),tDetails=getTDeferBlockDetails(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode);!0===value&&tDetails.loadingState===DeferDependenciesLoadingState.NOT_STARTED&&triggerPrefetching(tDetails,lView,tNode)}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}}function ɵɵdeferHydrateWhen(rawValue){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CpD)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"hydrate when <expression>"),!shouldAttachTrigger(2,lView,tNode))return;const bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)();if(getHydrateTriggers((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode).set(6,null),bindingUpdated(lView,bindingIndex,rawValue))if("undefined"!=typeof ngServerMode&&ngServerMode)triggerDeferBlock(2,lView,tNode);else{const injector=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{if(!0===Boolean(rawValue)){const ssrUniqueId=getLDeferBlockDetails(lView,tNode)[SSR_UNIQUE_ID];ngDevMode&&assertSsrIdDefined(ssrUniqueId),triggerHydrationFromBlockName(injector,ssrUniqueId)}}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}}function ɵɵdeferHydrateNever(){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"hydrate never"),!shouldAttachTrigger(2,lView,tNode))return;getHydrateTriggers((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode).set(7,null),"undefined"!=typeof ngServerMode&&ngServerMode&&triggerDeferBlock(2,lView,tNode)}function ɵɵdeferOnIdle(){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"on idle"),shouldAttachTrigger(0,lView,tNode)&&scheduleDelayedTrigger(onIdle)}function ɵɵdeferPrefetchOnIdle(){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"prefetch on idle"),shouldAttachTrigger(1,lView,tNode)&&scheduleDelayedPrefetching(onIdle)}function ɵɵdeferHydrateOnIdle(){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"hydrate on idle"),!shouldAttachTrigger(2,lView,tNode))return;getHydrateTriggers((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode).set(0,null),"undefined"!=typeof ngServerMode&&ngServerMode?triggerDeferBlock(2,lView,tNode):scheduleDelayedHydrating(onIdle,lView,tNode)}function ɵɵdeferOnImmediate(){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"on immediate"),!shouldAttachTrigger(0,lView,tNode))return;null===getTDeferBlockDetails(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode).loadingTmplIndex&&renderPlaceholder(lView,tNode),triggerDeferBlock(0,lView,tNode)}function ɵɵdeferPrefetchOnImmediate(){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"prefetch on immediate"),!shouldAttachTrigger(1,lView,tNode))return;const tDetails=getTDeferBlockDetails(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode);tDetails.loadingState===DeferDependenciesLoadingState.NOT_STARTED&&triggerResourceLoading(tDetails,lView,tNode)}function ɵɵdeferHydrateOnImmediate(){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"hydrate on immediate"),!shouldAttachTrigger(2,lView,tNode))return;if(getHydrateTriggers((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode).set(1,null),"undefined"!=typeof ngServerMode&&ngServerMode)triggerDeferBlock(2,lView,tNode);else{const injector=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],ssrUniqueId=getLDeferBlockDetails(lView,tNode)[SSR_UNIQUE_ID];ngDevMode&&assertSsrIdDefined(ssrUniqueId),triggerHydrationFromBlockName(injector,ssrUniqueId)}}function ɵɵdeferOnTimer(delay){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,`on timer(${delay}ms)`),shouldAttachTrigger(0,lView,tNode)&&scheduleDelayedTrigger(onTimer(delay))}function ɵɵdeferPrefetchOnTimer(delay){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,`prefetch on timer(${delay}ms)`),shouldAttachTrigger(1,lView,tNode)&&scheduleDelayedPrefetching(onTimer(delay))}function ɵɵdeferHydrateOnTimer(delay){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,`hydrate on timer(${delay}ms)`),!shouldAttachTrigger(2,lView,tNode))return;getHydrateTriggers((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode).set(5,{delay}),"undefined"!=typeof ngServerMode&&ngServerMode?triggerDeferBlock(2,lView,tNode):scheduleDelayedHydrating(onTimer(delay),lView,tNode)}function ɵɵdeferOnHover(triggerIndex,walkUpTimes){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"on hover"+(-1===walkUpTimes?"":"(<target>)")),shouldAttachTrigger(0,lView,tNode)&&(renderPlaceholder(lView,tNode),"undefined"!=typeof ngServerMode&&ngServerMode||registerDomTrigger(lView,tNode,triggerIndex,walkUpTimes,onHover,()=>triggerDeferBlock(0,lView,tNode),0))}function ɵɵdeferPrefetchOnHover(triggerIndex,walkUpTimes){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"prefetch on hover"+(-1===walkUpTimes?"":"(<target>)")),!shouldAttachTrigger(1,lView,tNode))return;const tDetails=getTDeferBlockDetails(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode);tDetails.loadingState===DeferDependenciesLoadingState.NOT_STARTED&&registerDomTrigger(lView,tNode,triggerIndex,walkUpTimes,onHover,()=>triggerPrefetching(tDetails,lView,tNode),1)}function ɵɵdeferHydrateOnHover(){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"hydrate on hover"),!shouldAttachTrigger(2,lView,tNode))return;getHydrateTriggers((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode).set(4,null),"undefined"!=typeof ngServerMode&&ngServerMode&&triggerDeferBlock(2,lView,tNode)}function ɵɵdeferOnInteraction(triggerIndex,walkUpTimes){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"on interaction"+(-1===walkUpTimes?"":"(<target>)")),shouldAttachTrigger(0,lView,tNode)&&(renderPlaceholder(lView,tNode),"undefined"!=typeof ngServerMode&&ngServerMode||registerDomTrigger(lView,tNode,triggerIndex,walkUpTimes,onInteraction,()=>triggerDeferBlock(0,lView,tNode),0))}function ɵɵdeferPrefetchOnInteraction(triggerIndex,walkUpTimes){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"prefetch on interaction"+(-1===walkUpTimes?"":"(<target>)")),!shouldAttachTrigger(1,lView,tNode))return;const tDetails=getTDeferBlockDetails(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode);tDetails.loadingState===DeferDependenciesLoadingState.NOT_STARTED&&registerDomTrigger(lView,tNode,triggerIndex,walkUpTimes,onInteraction,()=>triggerPrefetching(tDetails,lView,tNode),1)}function ɵɵdeferHydrateOnInteraction(){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"hydrate on interaction"),!shouldAttachTrigger(2,lView,tNode))return;getHydrateTriggers((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode).set(3,null),"undefined"!=typeof ngServerMode&&ngServerMode&&triggerDeferBlock(2,lView,tNode)}function ɵɵdeferOnViewport(triggerIndex,walkUpTimes){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"on viewport"+(-1===walkUpTimes?"":"(<target>)")),shouldAttachTrigger(0,lView,tNode)&&(renderPlaceholder(lView,tNode),"undefined"!=typeof ngServerMode&&ngServerMode||registerDomTrigger(lView,tNode,triggerIndex,walkUpTimes,onViewportWrapper,()=>triggerDeferBlock(0,lView,tNode),0))}function ɵɵdeferPrefetchOnViewport(triggerIndex,walkUpTimes){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"prefetch on viewport"+(-1===walkUpTimes?"":"(<target>)")),!shouldAttachTrigger(1,lView,tNode))return;const tDetails=getTDeferBlockDetails(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode);tDetails.loadingState===DeferDependenciesLoadingState.NOT_STARTED&&registerDomTrigger(lView,tNode,triggerIndex,walkUpTimes,onViewportWrapper,()=>triggerPrefetching(tDetails,lView,tNode),1)}function ɵɵdeferHydrateOnViewport(){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();if(ngDevMode&&trackTriggerForDebugging(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode,"hydrate on viewport"),!shouldAttachTrigger(2,lView,tNode))return;getHydrateTriggers((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode).set(2,null),"undefined"!=typeof ngServerMode&&ngServerMode&&triggerDeferBlock(2,lView,tNode)}function ɵɵariaProperty(name,value){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)();if(bindingUpdated(lView,bindingIndex,value)){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CpD)();if(setAllInputsForProperty(tNode,tView,lView,name,value))(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Qs1)(tNode)&&markDirtyIfOnPush(lView,tNode.index),ngDevMode&&setNgReflectProperties(lView,tView,tNode,name,value);else{ngDevMode&&assertTNodeType(tNode,2);const element=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(tNode,lView);setElementAttribute(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],element,null,tNode.value,name,value,null)}ngDevMode&&storePropertyBindingMetadata(tView.data,tNode,name,bindingIndex)}return ɵɵariaProperty}function ɵɵattribute(name,value,sanitizer,namespace){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)();if(bindingUpdated(lView,bindingIndex,value)){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CpD)();elementAttributeInternal(tNode,lView,name,value,sanitizer,namespace),ngDevMode&&storePropertyBindingMetadata(tView.data,tNode,"attr."+name,bindingIndex)}return ɵɵattribute}const ANIMATIONS_DISABLED=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC("undefined"!=typeof ngDevMode&&ngDevMode?"AnimationsDisabled":"",{providedIn:"root",factory:()=>!1}),MAX_ANIMATION_TIMEOUT=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC("undefined"!=typeof ngDevMode&&ngDevMode?"MaxAnimationTimeout":"",{providedIn:"root",factory:()=>MAX_ANIMATION_TIMEOUT_DEFAULT}),MAX_ANIMATION_TIMEOUT_DEFAULT=4e3,DEFAULT_ANIMATIONS_DISABLED=!1,areAnimationSupported=("undefined"==typeof ngServerMode||!ngServerMode)&&"undefined"!=typeof document&&"function"==typeof document?.documentElement?.getAnimations;function areAnimationsDisabled(lView){return lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL].get(ANIMATIONS_DISABLED,DEFAULT_ANIMATIONS_DISABLED)}function assertAnimationTypes(value,instruction){if(null==value||"string"!=typeof value&&"function"!=typeof value)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(650,`'${instruction}' value must be a string of CSS classes or an animation function, got ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.AsM)(value)}`)}function assertElementNodes(nativeElement,instruction){if(nativeElement.nodeType!==Node.ELEMENT_NODE)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(650,`'${instruction}' can only be used on an element node, got ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.AsM)(nativeElement.nodeType)}`)}function cleanupEnterClassData(element){const elementData=enterClassMap.get(element);if(elementData){for(const fn of elementData.cleanupFns)fn();enterClassMap.delete(element)}longestAnimations.delete(element)}const noOpAnimationComplete=()=>{},enterClassMap=new WeakMap,longestAnimations=new WeakMap,leavingNodes=new WeakMap;function clearLeavingNodes(tNode,el){const nodes=leavingNodes.get(tNode);if(nodes&&nodes.length>0){const ix=nodes.findIndex(node=>node===el);ix>-1&&nodes.splice(ix,1)}0===nodes?.length&&leavingNodes.delete(tNode)}function cancelLeavingNodes(tNode,lView){const leavingEl=leavingNodes.get(tNode)?.shift(),lContainer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rQE];if(lContainer){const beforeNode=getBeforeNodeForView(tNode.index,lContainer),previousNode=beforeNode?.previousSibling;leavingEl&&previousNode&&leavingEl===previousNode&&leavingEl.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function trackLeavingNodes(tNode,el){leavingNodes.has(tNode)?leavingNodes.get(tNode)?.push(el):leavingNodes.set(tNode,[el])}function getLViewEnterAnimations(lView){const animationData=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Isx]??={};return animationData.enter??=new Map}function getLViewLeaveAnimations(lView){const animationData=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Isx]??={};return animationData.leave??=new Map}function getClassListFromValue(value){const classes="function"==typeof value?value():value;let classList=Array.isArray(classes)?classes:null;return"string"==typeof classes&&(classList=classes.trim().split(/\s+/).filter(k=>k)),classList}function isLongestAnimation(event,nativeElement){const longestAnimation=longestAnimations.get(nativeElement);return void 0===longestAnimation||nativeElement===event.target&&(void 0!==longestAnimation.animationName&&event.animationName===longestAnimation.animationName||void 0!==longestAnimation.propertyName&&event.propertyName===longestAnimation.propertyName)}function addAnimationToLView(animations,tNode,fn){const nodeAnimations=animations.get(tNode.index)??{animateFns:[]};nodeAnimations.animateFns.push(fn),animations.set(tNode.index,nodeAnimations)}function cleanupAfterLeaveAnimations(resolvers,cleanupFns){if(resolvers)for(const fn of resolvers)fn();for(const fn of cleanupFns)fn()}function clearLViewNodeAnimationResolvers(lView,tNode){const nodeAnimations=getLViewLeaveAnimations(lView).get(tNode.index);nodeAnimations&&(nodeAnimations.resolvers=void 0)}function leaveAnimationFunctionCleanup(lView,tNode,nativeElement,resolvers,cleanupFns){clearLeavingNodes(tNode,nativeElement),cleanupAfterLeaveAnimations(resolvers,cleanupFns),clearLViewNodeAnimationResolvers(lView,tNode)}function ɵɵanimateEnter(value){if(performanceMarkFeature("NgAnimateEnter"),"undefined"!=typeof ngServerMode&&ngServerMode||!areAnimationSupported)return ɵɵanimateEnter;ngDevMode&&assertAnimationTypes(value,"animate.enter");const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)();if(areAnimationsDisabled(lView))return ɵɵanimateEnter;const tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();return cancelLeavingNodes(tNode,lView),addAnimationToLView(getLViewEnterAnimations(lView),tNode,()=>function runEnterAnimation(lView,tNode,value){const nativeElement=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(tNode,lView);ngDevMode&&assertElementNodes(nativeElement,"animate.enter");const renderer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],ngZone=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL].get(NgZone),activeClasses=getClassListFromValue(value),cleanupFns=[],handleEnterAnimationStart=event=>{if(event.target!==nativeElement)return;const eventName=event instanceof AnimationEvent?"animationend":"transitionend";ngZone.runOutsideAngular(()=>{renderer.listen(nativeElement,eventName,handleEnterAnimationEnd)})},handleEnterAnimationEnd=event=>{event.target===nativeElement&&function enterAnimationEnd(event,nativeElement,renderer){const elementData=enterClassMap.get(nativeElement);if(event.target!==nativeElement||!elementData)return;if(isLongestAnimation(event,nativeElement)){event.stopImmediatePropagation();for(const klass of elementData.classList)renderer.removeClass(nativeElement,klass);cleanupEnterClassData(nativeElement)}}(event,nativeElement,renderer)};if(activeClasses&&activeClasses.length>0){ngZone.runOutsideAngular(()=>{cleanupFns.push(renderer.listen(nativeElement,"animationstart",handleEnterAnimationStart)),cleanupFns.push(renderer.listen(nativeElement,"transitionstart",handleEnterAnimationStart))}),function trackEnterClasses(el,classList,cleanupFns){const elementData=enterClassMap.get(el);if(elementData){for(const klass of classList)elementData.classList.push(klass);for(const fn of cleanupFns)elementData.cleanupFns.push(fn)}else enterClassMap.set(el,{classList,cleanupFns})}(nativeElement,activeClasses,cleanupFns);for(const klass of activeClasses)renderer.addClass(nativeElement,klass);ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(determineLongestAnimation(nativeElement,longestAnimations,areAnimationSupported),!longestAnimations.has(nativeElement)){for(const klass of activeClasses)renderer.removeClass(nativeElement,klass);cleanupEnterClassData(nativeElement)}})})}}(lView,tNode,value)),initializeAnimationQueueScheduler(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL]),queueEnterAnimations(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],getLViewEnterAnimations(lView)),ɵɵanimateEnter}function ɵɵanimateEnterListener(value){if(performanceMarkFeature("NgAnimateEnter"),"undefined"!=typeof ngServerMode&&ngServerMode||!areAnimationSupported)return ɵɵanimateEnterListener;ngDevMode&&assertAnimationTypes(value,"animate.enter");const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)();if(areAnimationsDisabled(lView))return ɵɵanimateEnterListener;const tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();return cancelLeavingNodes(tNode,lView),addAnimationToLView(getLViewEnterAnimations(lView),tNode,()=>function runEnterAnimationFunction(lView,tNode,value){const nativeElement=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(tNode,lView);ngDevMode&&assertElementNodes(nativeElement,"animate.enter"),value.call(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP],{target:nativeElement,animationComplete:noOpAnimationComplete})}(lView,tNode,value)),initializeAnimationQueueScheduler(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL]),queueEnterAnimations(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],getLViewEnterAnimations(lView)),ɵɵanimateEnterListener}function ɵɵanimateLeave(value){if(performanceMarkFeature("NgAnimateLeave"),"undefined"!=typeof ngServerMode&&ngServerMode||!areAnimationSupported)return ɵɵanimateLeave;ngDevMode&&assertAnimationTypes(value,"animate.leave");const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)();if(areAnimationsDisabled(lView))return ɵɵanimateLeave;const tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();return cancelLeavingNodes(tNode,lView),addAnimationToLView(getLViewLeaveAnimations(lView),tNode,()=>function runLeaveAnimations(lView,tNode,value){const{promise,resolve}=promiseWithResolvers(),nativeElement=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(tNode,lView);ngDevMode&&assertElementNodes(nativeElement,"animate.leave");const renderer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],ngZone=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL].get(NgZone);allLeavingAnimations.add(lView),(getLViewLeaveAnimations(lView).get(tNode.index).resolvers??=[]).push(resolve);const activeClasses=getClassListFromValue(value);activeClasses&&activeClasses.length>0?function animateLeaveClassRunner(el,tNode,lView,classList,renderer,ngZone){!function cancelAnimationsIfRunning(element,renderer){if(!areAnimationSupported)return;const elementData=enterClassMap.get(element);if(elementData&&elementData.classList.length>0&&function elementHasClassList(element,classList){for(const className of classList)if(element.classList.contains(className))return!0;return!1}(element,elementData.classList))for(const klass of elementData.classList)renderer.removeClass(element,klass);cleanupEnterClassData(element)}(el,renderer);const cleanupFns=[],resolvers=getLViewLeaveAnimations(lView).get(tNode.index)?.resolvers,handleOutAnimationEnd=event=>{if(event.target===el&&(event instanceof CustomEvent||isLongestAnimation(event,el))){if(event.stopImmediatePropagation(),longestAnimations.delete(el),clearLeavingNodes(tNode,el),Array.isArray(tNode.projection))for(const item of classList)renderer.removeClass(el,item);cleanupAfterLeaveAnimations(resolvers,cleanupFns),clearLViewNodeAnimationResolvers(lView,tNode)}};ngZone.runOutsideAngular(()=>{cleanupFns.push(renderer.listen(el,"animationend",handleOutAnimationEnd)),cleanupFns.push(renderer.listen(el,"transitionend",handleOutAnimationEnd))}),trackLeavingNodes(tNode,el);for(const item of classList)renderer.addClass(el,item);ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{determineLongestAnimation(el,longestAnimations,areAnimationSupported),longestAnimations.has(el)||(clearLeavingNodes(tNode,el),cleanupAfterLeaveAnimations(resolvers,cleanupFns),clearLViewNodeAnimationResolvers(lView,tNode))})})}(nativeElement,tNode,lView,activeClasses,renderer,ngZone):resolve();return{promise,resolve}}(lView,tNode,value)),initializeAnimationQueueScheduler(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL]),ɵɵanimateLeave}function ɵɵanimateLeaveListener(value){if(performanceMarkFeature("NgAnimateLeave"),"undefined"!=typeof ngServerMode&&ngServerMode||!areAnimationSupported)return ɵɵanimateLeaveListener;ngDevMode&&assertAnimationTypes(value,"animate.leave");const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();return cancelLeavingNodes(tNode,lView),allLeavingAnimations.add(lView),addAnimationToLView(getLViewLeaveAnimations(lView),tNode,()=>function runLeaveAnimationFunction(lView,tNode,value){const{promise,resolve}=promiseWithResolvers(),nativeElement=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.d31)(tNode,lView);ngDevMode&&assertElementNodes(nativeElement,"animate.leave");const cleanupFns=[],renderer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],animationsDisabled=areAnimationsDisabled(lView),ngZone=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL].get(NgZone),maxAnimationTimeout=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL].get(MAX_ANIMATION_TIMEOUT);(getLViewLeaveAnimations(lView).get(tNode.index).resolvers??=[]).push(resolve);const resolvers=getLViewLeaveAnimations(lView).get(tNode.index)?.resolvers;if(animationsDisabled)leaveAnimationFunctionCleanup(lView,tNode,nativeElement,resolvers,cleanupFns);else{const timeoutId=setTimeout(()=>leaveAnimationFunctionCleanup(lView,tNode,nativeElement,resolvers,cleanupFns),maxAnimationTimeout),event={target:nativeElement,animationComplete:()=>{leaveAnimationFunctionCleanup(lView,tNode,nativeElement,resolvers,cleanupFns),clearTimeout(timeoutId)}};trackLeavingNodes(tNode,nativeElement),ngZone.runOutsideAngular(()=>{cleanupFns.push(renderer.listen(nativeElement,"animationend",()=>{leaveAnimationFunctionCleanup(lView,tNode,nativeElement,resolvers,cleanupFns),clearTimeout(timeoutId)},{once:!0}))}),value.call(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP],event)}return{promise,resolve}}(lView,tNode,value)),initializeAnimationQueueScheduler(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL]),ɵɵanimateLeaveListener}function ɵɵcomponentInstance(){const instance=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)()[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP];return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(instance,"Expected component instance to be defined"),instance}class LiveCollection{destroy(item){}updateValue(index,value){}swap(index1,index2){const startIdx=Math.min(index1,index2),endIdx=Math.max(index1,index2),endItem=this.detach(endIdx);if(endIdx-startIdx>1){const startItem=this.detach(startIdx);this.attach(startIdx,endItem),this.attach(endIdx,startItem)}else this.attach(startIdx,endItem)}move(prevIndex,newIdx){this.attach(newIdx,this.detach(prevIndex))}}function valuesMatching(liveIdx,liveValue,newIdx,newValue,trackBy){return liveIdx===newIdx&&Object.is(liveValue,newValue)?1:Object.is(trackBy(liveIdx,liveValue),trackBy(newIdx,newValue))?-1:0}function recordDuplicateKeys(keyToIdx,key,idx){const idxSoFar=keyToIdx.get(key);void 0!==idxSoFar?idxSoFar.add(idx):keyToIdx.set(key,new Set([idx]))}function attachPreviouslyDetached(prevCollection,detachedItems,index,key){return!(void 0===detachedItems||!detachedItems.has(key))&&(prevCollection.attach(index,detachedItems.get(key)),detachedItems.delete(key),!0)}function createOrAttach(liveCollection,detachedItems,trackByFn,index,value){if(attachPreviouslyDetached(liveCollection,detachedItems,index,trackByFn(index,value)))liveCollection.updateValue(index,value);else{const newItem=liveCollection.create(index,value);liveCollection.attach(index,newItem)}}function initLiveItemsInTheFuture(liveCollection,start,end,trackByFn){const keys=new Set;for(let i=start;i<=end;i++)keys.add(trackByFn(i,liveCollection.at(i)));return keys}class UniqueValueMultiKeyMap{kvMap=new Map;_vMap=void 0;has(key){return this.kvMap.has(key)}delete(key){if(!this.has(key))return!1;const value=this.kvMap.get(key);return void 0!==this._vMap&&this._vMap.has(value)?(this.kvMap.set(key,this._vMap.get(value)),this._vMap.delete(value)):this.kvMap.delete(key),!0}get(key){return this.kvMap.get(key)}set(key,value){if(this.kvMap.has(key)){let prevValue=this.kvMap.get(key);if(ngDevMode&&prevValue===value)throw new Error(`Detected a duplicated value ${value} for the key ${key}`);void 0===this._vMap&&(this._vMap=new Map);const vMap=this._vMap;for(;vMap.has(prevValue);)prevValue=vMap.get(prevValue);vMap.set(prevValue,value)}else this.kvMap.set(key,value)}forEach(cb){for(let[key,value]of this.kvMap)if(cb(value,key),void 0!==this._vMap){const vMap=this._vMap;for(;vMap.has(value);)value=vMap.get(value),cb(value,key)}}}function ɵɵconditionalCreate(index,templateFn,decls,vars,tagName,attrsIndex,localRefsIndex,localRefExtractor){performanceMarkFeature("NgControlFlow");const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)();return declareNoDirectiveHostTemplate(lView,tView,index,templateFn,decls,vars,tagName,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(tView.consts,attrsIndex),256,localRefsIndex,localRefExtractor),ɵɵconditionalBranchCreate}function ɵɵconditionalBranchCreate(index,templateFn,decls,vars,tagName,attrsIndex,localRefsIndex,localRefExtractor){performanceMarkFeature("NgControlFlow");const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)();return declareNoDirectiveHostTemplate(lView,tView,index,templateFn,decls,vars,tagName,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(tView.consts,attrsIndex),512,localRefsIndex,localRefExtractor),ɵɵconditionalBranchCreate}function ɵɵconditional(matchingTemplateIndex,contextValue){performanceMarkFeature("NgControlFlow");const hostLView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)(),prevMatchingTemplateIndex=hostLView[bindingIndex]!==NO_CHANGE?hostLView[bindingIndex]:-1,prevContainer=-1!==prevMatchingTemplateIndex?getLContainer(hostLView,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1+prevMatchingTemplateIndex):void 0;if(bindingUpdated(hostLView,bindingIndex,matchingTemplateIndex)){const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null);try{if(void 0!==prevContainer&&removeLViewFromLContainer(prevContainer,0),-1!==matchingTemplateIndex){const nextLContainerIndex=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1+matchingTemplateIndex,nextContainer=getLContainer(hostLView,nextLContainerIndex),templateTNode=getExistingTNode(hostLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],nextLContainerIndex),dehydratedView=findAndReconcileMatchingDehydratedViews(nextContainer,templateTNode,hostLView);addLViewToLContainer(nextContainer,createAndRenderEmbeddedLView(hostLView,templateTNode,contextValue,{dehydratedView}),0,shouldAddViewToDom(templateTNode,dehydratedView))}}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}else if(void 0!==prevContainer){const lView=getLViewFromLContainer(prevContainer,0);void 0!==lView&&(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]=contextValue)}}class RepeaterContext{lContainer;$implicit;$index;constructor(lContainer,$implicit,$index){this.lContainer=lContainer,this.$implicit=$implicit,this.$index=$index}get $count(){return this.lContainer.length-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20}}function ɵɵrepeaterTrackByIndex(index){return index}function ɵɵrepeaterTrackByIdentity(_,value){return value}class RepeaterMetadata{hasEmptyBlock;trackByFn;liveCollection;constructor(hasEmptyBlock,trackByFn,liveCollection){this.hasEmptyBlock=hasEmptyBlock,this.trackByFn=trackByFn,this.liveCollection=liveCollection}}function ɵɵrepeaterCreate(index,templateFn,decls,vars,tagName,attrsIndex,trackByFn,trackByUsesComponentInstance,emptyTemplateFn,emptyDecls,emptyVars,emptyTagName,emptyAttrsIndex){performanceMarkFeature("NgControlFlow"),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.LIA)(trackByFn,`A track expression must be a function, was ${typeof trackByFn} instead.`);const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),hasEmptyBlock=void 0!==emptyTemplateFn,hostLView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),boundTrackBy=trackByUsesComponentInstance?trackByFn.bind(hostLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP]):trackByFn,metadata=new RepeaterMetadata(hasEmptyBlock,boundTrackBy);hostLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1+index]=metadata,declareNoDirectiveHostTemplate(lView,tView,index+1,templateFn,decls,vars,tagName,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(tView.consts,attrsIndex),256),hasEmptyBlock&&(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(emptyDecls,"Missing number of declarations for the empty repeater block."),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(emptyVars,"Missing number of bindings for the empty repeater block."),declareNoDirectiveHostTemplate(lView,tView,index+2,emptyTemplateFn,emptyDecls,emptyVars,emptyTagName,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(tView.consts,emptyAttrsIndex),512))}class OperationsCounter{created=0;destroyed=0;reset(){this.created=0,this.destroyed=0}recordCreate(){this.created++}recordDestroy(){this.destroyed++}wasReCreated(collectionLen){return collectionLen>0&&this.created===this.destroyed&&this.created===collectionLen}}class LiveCollectionLContainerImpl extends LiveCollection{lContainer;hostLView;templateTNode;operationsCounter=ngDevMode?new OperationsCounter:void 0;needsIndexUpdate=!1;constructor(lContainer,hostLView,templateTNode){super(),this.lContainer=lContainer,this.hostLView=hostLView,this.templateTNode=templateTNode}get length(){return this.lContainer.length-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20}at(index){return this.getLView(index)[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP].$implicit}attach(index,lView){const dehydratedView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA];this.needsIndexUpdate||=index!==this.length,addLViewToLContainer(this.lContainer,lView,index,shouldAddViewToDom(this.templateTNode,dehydratedView)),function clearDetachAnimationList(lContainer,index){if(lContainer.length<=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20)return;const indexInContainer=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20+index,viewToDetach=lContainer[indexInContainer],animations=viewToDetach?viewToDetach[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Isx]:void 0;if(viewToDetach&&animations&&animations.detachedLeaveAnimationFns&&animations.detachedLeaveAnimationFns.length>0){!function removeFromAnimationQueue(injector,animationData){const animationQueue=injector.get(ANIMATION_QUEUE);if(animationData.detachedLeaveAnimationFns){for(const animationFn of animationData.detachedLeaveAnimationFns)animationQueue.queue.delete(animationFn);animationData.detachedLeaveAnimationFns=void 0}}(viewToDetach[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL],animations),allLeavingAnimations.delete(viewToDetach),animations.detachedLeaveAnimationFns=void 0}}(this.lContainer,index)}detach(index){return this.needsIndexUpdate||=index!==this.length-1,function maybeInitDetachAnimationList(lContainer,index){if(lContainer.length<=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20)return;const indexInContainer=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20+index,viewToDetach=lContainer[indexInContainer],animations=viewToDetach?viewToDetach[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Isx]:void 0;animations&&animations.leave&&animations.leave.size>0&&(animations.detachedLeaveAnimationFns=[])}(this.lContainer,index),function detachExistingView(lContainer,index){const existingLView=detachView(lContainer,index);return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MdC)(existingLView),existingLView}(this.lContainer,index)}create(index,value){const dehydratedView=findMatchingDehydratedView(this.lContainer,this.templateTNode.tView.ssrId),embeddedLView=createAndRenderEmbeddedLView(this.hostLView,this.templateTNode,new RepeaterContext(this.lContainer,value,index),{dehydratedView});return this.operationsCounter?.recordCreate(),embeddedLView}destroy(lView){destroyLView(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],lView),this.operationsCounter?.recordDestroy()}updateValue(index,value){this.getLView(index)[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP].$implicit=value}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP].$index=i}getLView(index){return getExistingLViewFromLContainer(this.lContainer,index)}}function ɵɵrepeater(collection){const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(null),metadataSlotIdx=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)();try{const hostLView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),hostTView=hostLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],metadata=hostLView[metadataSlotIdx],containerIndex=metadataSlotIdx+1,lContainer=getLContainer(hostLView,containerIndex);if(void 0===metadata.liveCollection){const itemTemplateTNode=getExistingTNode(hostTView,containerIndex);metadata.liveCollection=new LiveCollectionLContainerImpl(lContainer,hostLView,itemTemplateTNode)}else metadata.liveCollection.reset();const liveCollection=metadata.liveCollection;if(function reconcile(liveCollection,newCollection,trackByFn){let detachedItems,liveKeysInTheFuture,liveStartIdx=0,liveEndIdx=liveCollection.length-1;const duplicateKeys=ngDevMode?new Map:void 0;if(Array.isArray(newCollection)){let newEndIdx=newCollection.length-1;for(;liveStartIdx<=liveEndIdx&&liveStartIdx<=newEndIdx;){const liveStartValue=liveCollection.at(liveStartIdx),newStartValue=newCollection[liveStartIdx];ngDevMode&&recordDuplicateKeys(duplicateKeys,trackByFn(liveStartIdx,newStartValue),liveStartIdx);const isStartMatching=valuesMatching(liveStartIdx,liveStartValue,liveStartIdx,newStartValue,trackByFn);if(0!==isStartMatching){isStartMatching<0&&liveCollection.updateValue(liveStartIdx,newStartValue),liveStartIdx++;continue}const liveEndValue=liveCollection.at(liveEndIdx),newEndValue=newCollection[newEndIdx];ngDevMode&&recordDuplicateKeys(duplicateKeys,trackByFn(newEndIdx,newEndValue),newEndIdx);const isEndMatching=valuesMatching(liveEndIdx,liveEndValue,newEndIdx,newEndValue,trackByFn);if(0!==isEndMatching){isEndMatching<0&&liveCollection.updateValue(liveEndIdx,newEndValue),liveEndIdx--,newEndIdx--;continue}const liveStartKey=trackByFn(liveStartIdx,liveStartValue),liveEndKey=trackByFn(liveEndIdx,liveEndValue),newStartKey=trackByFn(liveStartIdx,newStartValue);if(Object.is(newStartKey,liveEndKey)){const newEndKey=trackByFn(newEndIdx,newEndValue);Object.is(newEndKey,liveStartKey)?(liveCollection.swap(liveStartIdx,liveEndIdx),liveCollection.updateValue(liveEndIdx,newEndValue),newEndIdx--,liveEndIdx--):liveCollection.move(liveEndIdx,liveStartIdx),liveCollection.updateValue(liveStartIdx,newStartValue),liveStartIdx++;continue}if(detachedItems??=new UniqueValueMultiKeyMap,liveKeysInTheFuture??=initLiveItemsInTheFuture(liveCollection,liveStartIdx,liveEndIdx,trackByFn),attachPreviouslyDetached(liveCollection,detachedItems,liveStartIdx,newStartKey))liveCollection.updateValue(liveStartIdx,newStartValue),liveStartIdx++,liveEndIdx++;else if(liveKeysInTheFuture.has(newStartKey))detachedItems.set(liveStartKey,liveCollection.detach(liveStartIdx)),liveEndIdx--;else{const newItem=liveCollection.create(liveStartIdx,newCollection[liveStartIdx]);liveCollection.attach(liveStartIdx,newItem),liveStartIdx++,liveEndIdx++}}for(;liveStartIdx<=newEndIdx;)createOrAttach(liveCollection,detachedItems,trackByFn,liveStartIdx,newCollection[liveStartIdx]),liveStartIdx++}else if(null!=newCollection){const newCollectionIterator=newCollection[Symbol.iterator]();let newIterationResult=newCollectionIterator.next();for(;!newIterationResult.done&&liveStartIdx<=liveEndIdx;){const liveValue=liveCollection.at(liveStartIdx),newValue=newIterationResult.value;ngDevMode&&recordDuplicateKeys(duplicateKeys,trackByFn(liveStartIdx,newValue),liveStartIdx);const isStartMatching=valuesMatching(liveStartIdx,liveValue,liveStartIdx,newValue,trackByFn);if(0!==isStartMatching)isStartMatching<0&&liveCollection.updateValue(liveStartIdx,newValue),liveStartIdx++,newIterationResult=newCollectionIterator.next();else{detachedItems??=new UniqueValueMultiKeyMap,liveKeysInTheFuture??=initLiveItemsInTheFuture(liveCollection,liveStartIdx,liveEndIdx,trackByFn);const newKey=trackByFn(liveStartIdx,newValue);if(attachPreviouslyDetached(liveCollection,detachedItems,liveStartIdx,newKey))liveCollection.updateValue(liveStartIdx,newValue),liveStartIdx++,liveEndIdx++,newIterationResult=newCollectionIterator.next();else if(liveKeysInTheFuture.has(newKey)){const liveKey=trackByFn(liveStartIdx,liveValue);detachedItems.set(liveKey,liveCollection.detach(liveStartIdx)),liveEndIdx--}else liveCollection.attach(liveStartIdx,liveCollection.create(liveStartIdx,newValue)),liveStartIdx++,liveEndIdx++,newIterationResult=newCollectionIterator.next()}}for(;!newIterationResult.done;)createOrAttach(liveCollection,detachedItems,trackByFn,liveCollection.length,newIterationResult.value),newIterationResult=newCollectionIterator.next()}for(;liveStartIdx<=liveEndIdx;)liveCollection.destroy(liveCollection.detach(liveEndIdx--));if(detachedItems?.forEach(item=>{liveCollection.destroy(item)}),ngDevMode){let duplicatedKeysMsg=[];for(const[key,idxSet]of duplicateKeys)if(idxSet.size>1){const idx=[...idxSet].sort((a,b)=>a-b);for(let i=1;i<idx.length;i++)duplicatedKeysMsg.push(`key "${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(key)}" at index "${idx[i-1]}" and "${idx[i]}"`)}if(duplicatedKeysMsg.length>0){const message=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OsK)(-955,"The provided track expression resulted in duplicated keys for a given collection. Adjust the tracking expression such that it uniquely identifies all the items in the collection. Duplicated keys were: \n"+duplicatedKeysMsg.join(", \n")+".");console.warn(message)}}}(liveCollection,collection,metadata.trackByFn),ngDevMode&&metadata.trackByFn===ɵɵrepeaterTrackByIdentity&&liveCollection.operationsCounter?.wasReCreated(liveCollection.length)&&function isViewExpensiveToRecreate(lView){return lView.length-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1>2}(getExistingLViewFromLContainer(lContainer,0))){const message=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OsK)(-956,`The configured tracking expression (track by identity) caused re-creation of the entire collection of size ${liveCollection.length}. This is an expensive operation requiring destruction and subsequent creation of DOM nodes, directives, components etc. Please review the "track expression" and make sure that it uniquely identifies items in a collection.`);console.warn(message)}if(liveCollection.updateIndexes(),metadata.hasEmptyBlock){const bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)(),isCollectionEmpty=0===liveCollection.length;if(bindingUpdated(hostLView,bindingIndex,isCollectionEmpty)){const emptyTemplateIndex=metadataSlotIdx+2,lContainerForEmpty=getLContainer(hostLView,emptyTemplateIndex);if(isCollectionEmpty){const emptyTemplateTNode=getExistingTNode(hostTView,emptyTemplateIndex),dehydratedView=findAndReconcileMatchingDehydratedViews(lContainerForEmpty,emptyTemplateTNode,hostLView);addLViewToLContainer(lContainerForEmpty,createAndRenderEmbeddedLView(hostLView,emptyTemplateTNode,void 0,{dehydratedView}),0,shouldAddViewToDom(emptyTemplateTNode,dehydratedView))}else hostTView.firstUpdatePass&&removeDehydratedViews(lContainerForEmpty),removeLViewFromLContainer(lContainerForEmpty,0)}}}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_2__.Ht)(prevConsumer)}}function getLContainer(lView,index){const lContainer=lView[index];return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cP4)(lContainer),lContainer}function getExistingLViewFromLContainer(lContainer,index){const existingLView=getLViewFromLContainer(lContainer,index);return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MdC)(existingLView),existingLView}function getExistingTNode(tView,index){const tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.XRZ)(tView,index);return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.R2n)(tNode),tNode}function ɵɵproperty(propName,value,sanitizer){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)();if(bindingUpdated(lView,bindingIndex,value)){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CpD)();setPropertyAndInputs(tNode,lView,propName,value,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],sanitizer),ngDevMode&&storePropertyBindingMetadata(tView.data,tNode,propName,bindingIndex)}return ɵɵproperty}function setDirectiveInputsWhichShadowsStyling(tView,tNode,lView,value,isClassBased){setAllInputsForProperty(tNode,tView,lView,isClassBased?"class":"style",value)}function ɵɵelementStart(index,name,attrsIndex,localRefsIndex){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)();ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.O8q)(lView,index);const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,tNode=tView.firstCreatePass?directiveHostFirstCreatePass(adjustedIndex,lView,2,name,findDirectiveDefMatches,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ckz)(),attrsIndex,localRefsIndex):tView.data[adjustedIndex];if(elementLikeStartShared(tNode,lView,index,name,_locateOrCreateElementNode),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yoD)(tNode)){const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];createDirectivesInstances(tView,lView,tNode),executeContentQueries(tView,tNode,lView)}return null!=localRefsIndex&&saveResolvedLocalsInData(lView,tNode),ngDevMode&&lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].firstCreatePass&&validateElementIsKnown(lView,tNode),ɵɵelementStart}function ɵɵelementEnd(){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),initialTNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(initialTNode,"No parent node to close.");const currentTNode=elementLikeEndShared(initialTNode);return ngDevMode&&assertTNodeType(currentTNode,3),tView.firstCreatePass&&directiveHostEndFirstCreatePass(tView,currentTNode),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.UhH)(currentTNode)&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.krE)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.N79)(),null!=currentTNode.classesWithoutHost&&function hasClassInput(tNode){return!!(8&tNode.flags)}(currentTNode)&&setDirectiveInputsWhichShadowsStyling(tView,currentTNode,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),currentTNode.classesWithoutHost,!0),null!=currentTNode.stylesWithoutHost&&function hasStyleInput(tNode){return!!(16&tNode.flags)}(currentTNode)&&setDirectiveInputsWhichShadowsStyling(tView,currentTNode,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),currentTNode.stylesWithoutHost,!1),ɵɵelementEnd}function ɵɵelement(index,name,attrsIndex,localRefsIndex){return ɵɵelementStart(index,name,attrsIndex,localRefsIndex),ɵɵelementEnd(),ɵɵelement}function ɵɵdomElementStart(index,name,attrsIndex,localRefsIndex){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)();ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.O8q)(lView,index);const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,tNode=tView.firstCreatePass?domOnlyFirstCreatePass(adjustedIndex,tView,2,name,attrsIndex,localRefsIndex):tView.data[adjustedIndex];return elementLikeStartShared(tNode,lView,index,name,_locateOrCreateElementNode),null!=localRefsIndex&&saveResolvedLocalsInData(lView,tNode),ngDevMode&&lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].firstCreatePass&&validateElementIsKnown(lView,tNode),ɵɵdomElementStart}function ɵɵdomElementEnd(){const initialTNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(initialTNode,"No parent node to close.");const currentTNode=elementLikeEndShared(initialTNode);return ngDevMode&&assertTNodeType(currentTNode,3),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.UhH)(currentTNode)&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.krE)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.N79)(),ɵɵdomElementEnd}function ɵɵdomElement(index,name,attrsIndex,localRefsIndex){return ɵɵdomElementStart(index,name,attrsIndex,localRefsIndex),ɵɵdomElementEnd(),ɵɵdomElement}let _locateOrCreateElementNode=(tView,lView,tNode,name,index)=>((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.m7n)(!0),createElementNode(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],name,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.UaU)()));function locateOrCreateElementNodeImpl(tView,lView,tNode,name,index){const isNodeCreationMode=!canHydrateNode(lView,tNode);if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.m7n)(isNodeCreationMode),isNodeCreationMode)return createElementNode(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],name,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.UaU)());const hydrationInfo=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA],native=locateNextRNode(hydrationInfo,tView,lView,tNode);if(ngDevMode&&validateMatchingNode(native,Node.ELEMENT_NODE,name,lView,tNode),ngDevMode&&markRNodeAsClaimedByHydration(native),getSerializedContainerViews(hydrationInfo,index)&&(ngDevMode&&validateNodeExists(native.nextSibling,lView,tNode),setSegmentHead(hydrationInfo,index,native.nextSibling)),hydrationInfo&&(hasSkipHydrationAttrOnTNode(tNode)||hasSkipHydrationAttrOnRElement(native)))if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Qs1)(tNode))(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jNO)(tNode),clearElementContents(native),ngDevMode&&function markRNodeAsSkippedByHydration(node){if(!ngDevMode)throw new Error("Calling `markRNodeAsSkippedByHydration` in prod mode is not supported and likely a mistake.");patchHydrationInfo(node,{status:HydrationStatus.Skipped}),ngDevMode.componentsSkippedHydration++}(native);else if(ngDevMode)throw function invalidSkipHydrationHost(rNode){const message=`The \`ngSkipHydration\` flag is applied on a node that doesn't act as a component host. Hydration can be skipped only on per-component basis.\n\n${describeDomFromNode(rNode)}\n\nPlease move the \`ngSkipHydration\` attribute to the component host element.\n\n`;return new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-504,message)}(native);return native}function enableLocateOrCreateElementNodeImpl(){_locateOrCreateElementNode=locateOrCreateElementNodeImpl}function ɵɵelementContainerStart(index,attrsIndex,localRefsIndex){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)();ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.O8q)(lView,index);const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,tNode=tView.firstCreatePass?directiveHostFirstCreatePass(adjustedIndex,lView,8,"ng-container",findDirectiveDefMatches,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ckz)(),attrsIndex,localRefsIndex):tView.data[adjustedIndex];if(elementLikeStartShared(tNode,lView,index,"ng-container",_locateOrCreateElementContainerNode),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.yoD)(tNode)){const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];createDirectivesInstances(tView,lView,tNode),executeContentQueries(tView,tNode,lView)}return null!=localRefsIndex&&saveResolvedLocalsInData(lView,tNode),ɵɵelementContainerStart}function ɵɵelementContainerEnd(){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),initialTNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(initialTNode,"No parent node to close.");const currentTNode=elementLikeEndShared(initialTNode);return tView.firstCreatePass&&directiveHostEndFirstCreatePass(tView,currentTNode),ngDevMode&&assertTNodeType(currentTNode,8),ɵɵelementContainerEnd}function ɵɵelementContainer(index,attrsIndex,localRefsIndex){return ɵɵelementContainerStart(index,attrsIndex,localRefsIndex),ɵɵelementContainerEnd(),ɵɵelementContainer}function ɵɵdomElementContainerStart(index,attrsIndex,localRefsIndex){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)();ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.O8q)(lView,index);const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,tNode=tView.firstCreatePass?domOnlyFirstCreatePass(adjustedIndex,tView,8,"ng-container",attrsIndex,localRefsIndex):tView.data[adjustedIndex];return elementLikeStartShared(tNode,lView,index,"ng-container",_locateOrCreateElementContainerNode),null!=localRefsIndex&&saveResolvedLocalsInData(lView,tNode),ɵɵdomElementContainerStart}function ɵɵdomElementContainerEnd(){const initialTNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(initialTNode,"No parent node to close.");const currentTNode=elementLikeEndShared(initialTNode);return ngDevMode&&assertTNodeType(currentTNode,8),ɵɵelementContainerEnd}function ɵɵdomElementContainer(index,attrsIndex,localRefsIndex){return ɵɵdomElementContainerStart(index,attrsIndex,localRefsIndex),ɵɵdomElementContainerEnd(),ɵɵdomElementContainer}let _locateOrCreateElementContainerNode=(tView,lView,tNode,commentText,index)=>((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.m7n)(!0),createCommentNode(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],ngDevMode?commentText:""));function locateOrCreateElementContainerNode(tView,lView,tNode,commentText,index){let comment;const isNodeCreationMode=!canHydrateNode(lView,tNode);if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.m7n)(isNodeCreationMode),isNodeCreationMode)return createCommentNode(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],ngDevMode?commentText:"");const hydrationInfo=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA],currentRNode=locateNextRNode(hydrationInfo,tView,lView,tNode);ngDevMode&&validateNodeExists(currentRNode,lView,tNode);const ngContainerSize=getNgContainerSize(hydrationInfo,index);return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(ngContainerSize,"Unexpected state: hydrating an <ng-container>, but no hydration info is available."),setSegmentHead(hydrationInfo,index,currentRNode),comment=siblingAfter(ngContainerSize,currentRNode),ngDevMode&&(validateMatchingNode(comment,Node.COMMENT_NODE,null,lView,tNode),markRNodeAsClaimedByHydration(comment)),comment}function enableLocateOrCreateElementContainerNodeImpl(){_locateOrCreateElementContainerNode=locateOrCreateElementContainerNode}function ɵɵgetCurrentView(){return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)()}function ɵɵdomProperty(propName,value,sanitizer){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)();if(bindingUpdated(lView,bindingIndex,value)){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CpD)();setDomProperty(tNode,lView,propName,value,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],sanitizer),ngDevMode&&storePropertyBindingMetadata(tView.data,tNode,propName,bindingIndex)}return ɵɵdomProperty}function ɵɵsyntheticHostProperty(propName,value,sanitizer){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)();if(bindingUpdated(lView,bindingIndex,value)){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CpD)();setDomProperty(tNode,lView,propName,value,loadComponentRenderer((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MT)(tView.data),tNode,lView),sanitizer),ngDevMode&&storePropertyBindingMetadata(tView.data,tNode,propName,bindingIndex)}return ɵɵsyntheticHostProperty}const u=void 0;var localeEn=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",u,"{1} 'at' {0}",u],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function plural(val){const i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===v?1:5}];let LOCALE_DATA={};function registerLocaleData(data,localeId,extraData){"string"!=typeof localeId&&(extraData=localeId,localeId=data[LocaleDataIndex.LocaleId]),localeId=localeId.toLowerCase().replace(/_/g,"-"),LOCALE_DATA[localeId]=data,extraData&&(LOCALE_DATA[localeId][LocaleDataIndex.ExtraData]=extraData)}function findLocaleData(locale){const normalizedLocale=function normalizeLocale(locale){return locale.toLowerCase().replace(/_/g,"-")}(locale);let match=getLocaleData(normalizedLocale);if(match)return match;const parentLocale=normalizedLocale.split("-")[0];if(match=getLocaleData(parentLocale),match)return match;if("en"===parentLocale)return localeEn;throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(701,ngDevMode&&`Missing locale data for the locale "${locale}".`)}function getLocaleCurrencyCode(locale){return findLocaleData(locale)[LocaleDataIndex.CurrencyCode]||null}function getLocalePluralCase(locale){return findLocaleData(locale)[LocaleDataIndex.PluralCase]}function getLocaleData(normalizedLocale){return normalizedLocale in LOCALE_DATA||(LOCALE_DATA[normalizedLocale]=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.laP.ng&&_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.laP.ng.common&&_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.laP.ng.common.locales&&_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.laP.ng.common.locales[normalizedLocale]),LOCALE_DATA[normalizedLocale]}function unregisterAllLocaleData(){LOCALE_DATA={}}var LocaleDataIndex;!function(LocaleDataIndex){LocaleDataIndex[LocaleDataIndex.LocaleId=0]="LocaleId",LocaleDataIndex[LocaleDataIndex.DayPeriodsFormat=1]="DayPeriodsFormat",LocaleDataIndex[LocaleDataIndex.DayPeriodsStandalone=2]="DayPeriodsStandalone",LocaleDataIndex[LocaleDataIndex.DaysFormat=3]="DaysFormat",LocaleDataIndex[LocaleDataIndex.DaysStandalone=4]="DaysStandalone",LocaleDataIndex[LocaleDataIndex.MonthsFormat=5]="MonthsFormat",LocaleDataIndex[LocaleDataIndex.MonthsStandalone=6]="MonthsStandalone",LocaleDataIndex[LocaleDataIndex.Eras=7]="Eras",LocaleDataIndex[LocaleDataIndex.FirstDayOfWeek=8]="FirstDayOfWeek",LocaleDataIndex[LocaleDataIndex.WeekendRange=9]="WeekendRange",LocaleDataIndex[LocaleDataIndex.DateFormat=10]="DateFormat",LocaleDataIndex[LocaleDataIndex.TimeFormat=11]="TimeFormat",LocaleDataIndex[LocaleDataIndex.DateTimeFormat=12]="DateTimeFormat",LocaleDataIndex[LocaleDataIndex.NumberSymbols=13]="NumberSymbols",LocaleDataIndex[LocaleDataIndex.NumberFormats=14]="NumberFormats",LocaleDataIndex[LocaleDataIndex.CurrencyCode=15]="CurrencyCode",LocaleDataIndex[LocaleDataIndex.CurrencySymbol=16]="CurrencySymbol",LocaleDataIndex[LocaleDataIndex.CurrencyName=17]="CurrencyName",LocaleDataIndex[LocaleDataIndex.Currencies=18]="Currencies",LocaleDataIndex[LocaleDataIndex.Directionality=19]="Directionality",LocaleDataIndex[LocaleDataIndex.PluralCase=20]="PluralCase",LocaleDataIndex[LocaleDataIndex.ExtraData=21]="ExtraData"}(LocaleDataIndex||(LocaleDataIndex={}));const pluralMapping=["zero","one","two","few","many"];const DEFAULT_LOCALE_ID="en-US",ELEMENT_MARKER={marker:"element"},ICU_MARKER={marker:"ICU"};var I18nCreateOpCode;!function(I18nCreateOpCode){I18nCreateOpCode[I18nCreateOpCode.SHIFT=2]="SHIFT",I18nCreateOpCode[I18nCreateOpCode.APPEND_EAGERLY=1]="APPEND_EAGERLY",I18nCreateOpCode[I18nCreateOpCode.COMMENT=2]="COMMENT"}(I18nCreateOpCode||(I18nCreateOpCode={}));let LOCALE_ID$1=DEFAULT_LOCALE_ID;function setLocaleId(localeId){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(localeId,"Expected localeId to be defined"),"string"==typeof localeId&&(LOCALE_ID$1=localeId.toLowerCase().replace(/_/g,"-"))}let changeMask=0,changeMaskCounter=0;function createNodeWithoutHydration(lView,textOrName,nodeType){const renderer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT];switch(nodeType){case Node.COMMENT_NODE:return createCommentNode(renderer,textOrName);case Node.TEXT_NODE:return createTextNode(renderer,textOrName);case Node.ELEMENT_NODE:return createElementNode(renderer,textOrName,null)}}let _locateOrCreateNode=(lView,index,textOrName,nodeType)=>((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.m7n)(!0),createNodeWithoutHydration(lView,textOrName,nodeType));function locateOrCreateNodeImpl(lView,index,textOrName,nodeType){const hydrationInfo=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA],noOffsetIndex=index-_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,isNodeCreationMode=!isI18nHydrationSupportEnabled()||!hydrationInfo||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KtD)()||isDisconnectedNode$1(hydrationInfo,noOffsetIndex);if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.m7n)(isNodeCreationMode),isNodeCreationMode)return createNodeWithoutHydration(lView,textOrName,nodeType);const native=locateI18nRNodeByIndex(hydrationInfo,noOffsetIndex);return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(native,"expected native element"),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(native.nodeType,nodeType,"expected matching nodeType"),ngDevMode&&nodeType===Node.ELEMENT_NODE&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(native.tagName.toLowerCase(),textOrName.toLowerCase(),"expecting matching tagName"),ngDevMode&&markRNodeAsClaimedByHydration(native),native}function enableLocateOrCreateI18nNodeImpl(){_locateOrCreateNode=locateOrCreateNodeImpl}function applyMutableOpCodes(tView,mutableOpCodes,lView,anchorRNode){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.z7f)(anchorRNode);const renderer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT];let rootRNode,rootIdx=null;for(let i=0;i<mutableOpCodes.length;i++){const opCode=mutableOpCodes[i];if("string"==typeof opCode){const textNodeIndex=mutableOpCodes[++i];null===lView[textNodeIndex]&&(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView,textNodeIndex),lView[textNodeIndex]=_locateOrCreateNode(lView,textNodeIndex,opCode,Node.TEXT_NODE))}else if("number"==typeof opCode)switch(1&opCode){case 0:const parentIdx=getParentFromIcuCreateOpCode(opCode);let insertInFrontOf,parentRNode;if(null===rootIdx&&(rootIdx=parentIdx,rootRNode=renderer.parentNode(anchorRNode)),parentIdx===rootIdx?(insertInFrontOf=anchorRNode,parentRNode=rootRNode):(insertInFrontOf=null,parentRNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IvY)(lView[parentIdx])),null!==parentRNode){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.z7f)(parentRNode);const refIdx=getRefFromIcuCreateOpCode(opCode);ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GWr)(refIdx,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,"Missing ref");const child=lView[refIdx];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.z7f)(child),nativeInsertBefore(renderer,parentRNode,child,insertInFrontOf,!1);const tIcu=getTIcu(tView,refIdx);if(null!==tIcu&&"object"==typeof tIcu){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.W0r)(tIcu);const caseIndex=getCurrentICUCaseIndex(tIcu,lView);null!==caseIndex&&applyMutableOpCodes(tView,tIcu.create[caseIndex],lView,lView[tIcu.anchorIdx])}}break;case 1:const elementNodeIndex=opCode>>>1,attrName=mutableOpCodes[++i],attrValue=mutableOpCodes[++i];setElementAttribute(renderer,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.vaC)(elementNodeIndex,lView),null,null,attrName,attrValue,null);break;default:if(ngDevMode)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(700,`Unable to determine the type of mutate operation for "${opCode}"`)}else switch(opCode){case ICU_MARKER:const commentValue=mutableOpCodes[++i],commentNodeIndex=mutableOpCodes[++i];if(null===lView[commentNodeIndex]){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(typeof commentValue,"string",`Expected "${commentValue}" to be a comment node value`),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oZy)(lView,commentNodeIndex);attachPatchData(lView[commentNodeIndex]=_locateOrCreateNode(lView,commentNodeIndex,commentValue,Node.COMMENT_NODE),lView)}break;case ELEMENT_MARKER:const tagName=mutableOpCodes[++i],elementNodeIndex=mutableOpCodes[++i];if(null===lView[elementNodeIndex]){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(typeof tagName,"string",`Expected "${tagName}" to be an element node tag name`),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oZy)(lView,elementNodeIndex);attachPatchData(lView[elementNodeIndex]=_locateOrCreateNode(lView,elementNodeIndex,tagName,Node.ELEMENT_NODE),lView)}break;default:ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)(`Unable to determine the type of mutate operation for "${opCode}"`)}}}function applyUpdateOpCodes(tView,lView,updateOpCodes,bindingsStartIndex,changeMask){for(let i=0;i<updateOpCodes.length;i++){const checkBit=updateOpCodes[i],skipCodes=updateOpCodes[++i];if(checkBit&changeMask){let value="";for(let j=i+1;j<=i+skipCodes;j++){const opCode=updateOpCodes[j];if("string"==typeof opCode)value+=opCode;else if("number"==typeof opCode)if(opCode<0)value+=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(lView[bindingsStartIndex-opCode]);else{const nodeIndex=opCode>>>2;switch(3&opCode){case 1:const propName=updateOpCodes[++j],sanitizeFn=updateOpCodes[++j],tNodeOrTagName=tView.data[nodeIndex];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(tNodeOrTagName,"Experting TNode or string"),"string"==typeof tNodeOrTagName?setElementAttribute(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],lView[nodeIndex],null,tNodeOrTagName,propName,value,sanitizeFn):setPropertyAndInputs(tNodeOrTagName,lView,propName,value,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],sanitizeFn);break;case 0:const rText=lView[nodeIndex];null!==rText&&updateTextNode(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],rText,value);break;case 2:applyIcuSwitchCase(tView,getTIcu(tView,nodeIndex),lView,value);break;case 3:applyIcuUpdateCase(tView,getTIcu(tView,nodeIndex),bindingsStartIndex,lView)}}}}else{const opCode=updateOpCodes[i+1];if(opCode>0&&!(3&~opCode)){const tIcu=getTIcu(tView,opCode>>>2);lView[tIcu.currentCaseLViewIndex]<0&&applyIcuUpdateCase(tView,tIcu,bindingsStartIndex,lView)}}i+=skipCodes}}function applyIcuUpdateCase(tView,tIcu,bindingsStartIndex,lView){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView,tIcu.currentCaseLViewIndex);let activeCaseIndex=lView[tIcu.currentCaseLViewIndex];if(null!==activeCaseIndex){let mask=changeMask;activeCaseIndex<0&&(activeCaseIndex=lView[tIcu.currentCaseLViewIndex]=~activeCaseIndex,mask=-1),applyUpdateOpCodes(tView,lView,tIcu.update[activeCaseIndex],bindingsStartIndex,mask)}}function applyIcuSwitchCase(tView,tIcu,lView,value){const caseIndex=function getCaseIndex(icuExpression,bindingValue){let index=icuExpression.cases.indexOf(bindingValue);if(-1===index)switch(icuExpression.type){case 1:{const resolvedCase=function getPluralCase(value,locale){const plural=getLocalePluralCase(locale)(parseInt(value,10)),result=pluralMapping[plural];return void 0!==result?result:"other"}(bindingValue,function getLocaleId(){return LOCALE_ID$1}());index=icuExpression.cases.indexOf(resolvedCase),-1===index&&"other"!==resolvedCase&&(index=icuExpression.cases.indexOf("other"));break}case 0:index=icuExpression.cases.indexOf("other")}return-1===index?null:index}(tIcu,value);if(getCurrentICUCaseIndex(tIcu,lView)!==caseIndex&&(applyIcuSwitchCaseRemove(tView,tIcu,lView),lView[tIcu.currentCaseLViewIndex]=null===caseIndex?null:~caseIndex,null!==caseIndex)){const anchorRNode=lView[tIcu.anchorIdx];anchorRNode&&(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.z7f)(anchorRNode),applyMutableOpCodes(tView,tIcu.create[caseIndex],lView,anchorRNode)),function claimDehydratedIcuCase(lView,icuIndex,caseIndex){_claimDehydratedIcuCaseImpl(lView,icuIndex,caseIndex)}(lView,tIcu.anchorIdx,caseIndex)}}function applyIcuSwitchCaseRemove(tView,tIcu,lView){let activeCaseIndex=getCurrentICUCaseIndex(tIcu,lView);if(null!==activeCaseIndex){const removeCodes=tIcu.remove[activeCaseIndex];for(let i=0;i<removeCodes.length;i++){const nodeOrIcuIndex=removeCodes[i];if(nodeOrIcuIndex>0){const rNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.vaC)(nodeOrIcuIndex,lView);null!==rNode&&nativeRemoveNode(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],rNode)}else applyIcuSwitchCaseRemove(tView,getTIcu(tView,~nodeOrIcuIndex),lView)}}}function i18nCreateOpCodesToString(opcodes){const createOpCodes=opcodes||(Array.isArray(this)?this:[]);let lines=[];for(let i=0;i<createOpCodes.length;i++){const opCode=createOpCodes[i++],text=createOpCodes[i],isComment=(opCode&I18nCreateOpCode.COMMENT)===I18nCreateOpCode.COMMENT,appendNow=(opCode&I18nCreateOpCode.APPEND_EAGERLY)===I18nCreateOpCode.APPEND_EAGERLY,index=opCode>>>I18nCreateOpCode.SHIFT;lines.push(`lView[${index}] = document.${isComment?"createComment":"createText"}(${JSON.stringify(text)});`),appendNow&&lines.push(`parent.appendChild(lView[${index}]);`)}return lines}function i18nUpdateOpCodesToString(opcodes){const parser=new OpCodeParser(opcodes||(Array.isArray(this)?this:[]));let lines=[];function consumeOpCode(value){const ref=value>>>2,opCode=3&value;switch(opCode){case 0:return`(lView[${ref}] as Text).textContent = $$$`;case 1:const attrName=parser.consumeString(),sanitizationFn=parser.consumeFunction();return`(lView[${ref}] as Element).setAttribute('${attrName}', ${sanitizationFn?`(${sanitizationFn})($$$)`:"$$$"})`;case 2:return`icuSwitchCase(${ref}, $$$)`;case 3:return`icuUpdateCase(${ref})`}throw new Error("unexpected OpCode")}for(;parser.hasMore();){let mask=parser.consumeNumber(),size=parser.consumeNumber();const end=parser.i+size,statements=[];let statement="";for(;parser.i<end;){let value=parser.consumeNumberOrString();if("string"==typeof value)statement+=value;else if(value<0)statement+="${lView[i"+value+"]}";else{const opCodeText=consumeOpCode(value);statements.push(opCodeText.replace("$$$","`"+statement+"`")+";"),statement=""}}lines.push(`if (mask & 0b${mask.toString(2)}) { ${statements.join(" ")} }`)}return lines}function icuCreateOpCodesToString(opcodes){const parser=new OpCodeParser(opcodes||(Array.isArray(this)?this:[]));let lines=[];function consumeOpCode(opCode){const parent=getParentFromIcuCreateOpCode(opCode),ref=getRefFromIcuCreateOpCode(opCode);switch(getInstructionFromIcuCreateOpCode(opCode)){case 0:return`(lView[${parent}] as Element).appendChild(lView[${lastRef}])`;case 1:return`(lView[${ref}] as Element).setAttribute("${parser.consumeString()}", "${parser.consumeString()}")`}throw new Error("Unexpected OpCode: "+getInstructionFromIcuCreateOpCode(opCode))}let lastRef=-1;for(;parser.hasMore();){let value=parser.consumeNumberStringOrMarker();if(value===ICU_MARKER){const text=parser.consumeString();lastRef=parser.consumeNumber(),lines.push(`lView[${lastRef}] = document.createComment("${text}")`)}else if(value===ELEMENT_MARKER){const text=parser.consumeString();lastRef=parser.consumeNumber(),lines.push(`lView[${lastRef}] = document.createElement("${text}")`)}else if("string"==typeof value)lastRef=parser.consumeNumber(),lines.push(`lView[${lastRef}] = document.createTextNode("${value}")`);else{if("number"!=typeof value)throw new Error("Unexpected value");{const line=consumeOpCode(value);line&&lines.push(line)}}}return lines}function i18nRemoveOpCodesToString(opcodes){const removeCodes=opcodes||(Array.isArray(this)?this:[]);let lines=[];for(let i=0;i<removeCodes.length;i++){const nodeOrIcuIndex=removeCodes[i];nodeOrIcuIndex>0?lines.push(`remove(lView[${nodeOrIcuIndex}])`):lines.push(`removeNestedICU(${~nodeOrIcuIndex})`)}return lines}class OpCodeParser{i=0;codes;constructor(codes){this.codes=codes}hasMore(){return this.i<this.codes.length}consumeNumber(){let value=this.codes[this.i++];return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(value,"expecting number in OpCode"),value}consumeString(){let value=this.codes[this.i++];return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Cv0)(value,"expecting string in OpCode"),value}consumeFunction(){let value=this.codes[this.i++];if(null===value||"function"==typeof value)return value;throw new Error("expecting function in OpCode")}consumeNumberOrString(){let value=this.codes[this.i++];return"string"==typeof value||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(value,"expecting number or string in OpCode"),value}consumeNumberStringOrMarker(){let value=this.codes[this.i++];return"string"==typeof value||"number"==typeof value||value==ICU_MARKER||value==ELEMENT_MARKER||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(value,"expecting number, string, ICU_MARKER or ELEMENT_MARKER in OpCode"),value}}const BINDING_REGEXP=/�(\d+):?\d*�/gi,ICU_REGEXP=/({\s*�\d+:?\d*�\s*,\s*\S{6}\s*,[\s\S]*})/gi,NESTED_ICU=/�(\d+)�/,ICU_BLOCK_REGEXP=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,MARKER="�",SUBTEMPLATE_REGEXP=/�\/?\*(\d+:\d+)�/gi,PH_REGEXP=/�(\/?[#*]\d+):?\d*�/gi,NGSP_UNICODE_REGEXP=/\uE500/g;function attachDebugGetter(obj,debugGetter){if(!ngDevMode)throw new Error("This method should be guarded with `ngDevMode` so that it can be tree shaken in production!");Object.defineProperty(obj,"debug",{get:debugGetter,enumerable:!1})}function i18nStartFirstCreatePass(tView,parentTNodeIndex,lView,index,message,subTemplateIndex){const rootTNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ab)(),createOpCodes=[],updateOpCodes=[],existingTNodeStack=[[]],astStack=[[]];ngDevMode&&(attachDebugGetter(createOpCodes,i18nCreateOpCodesToString),attachDebugGetter(updateOpCodes,i18nUpdateOpCodesToString)),message=function getTranslationForTemplate(message,subTemplateIndex){if(isRootTemplateMessage(subTemplateIndex))return removeInnerTemplateTranslation(message);{const start=message.indexOf(`:${subTemplateIndex}${MARKER}`)+2+subTemplateIndex.toString().length,end=message.search(new RegExp(`${MARKER}\\/\\*\\d+:${subTemplateIndex}${MARKER}`));return removeInnerTemplateTranslation(message.substring(start,end))}}(message,subTemplateIndex);const msgParts=function replaceNgsp(value){return value.replace(NGSP_UNICODE_REGEXP," ")}(message).split(PH_REGEXP);for(let i=0;i<msgParts.length;i++){let value=msgParts[i];if(1&i){const isClosing=47===value.charCodeAt(0),type=value.charCodeAt(isClosing?1:0);ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.kNT)(type,42,35);const index=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1+Number.parseInt(value.substring(isClosing?2:1));if(isClosing)existingTNodeStack.shift(),astStack.shift(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iMd)((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ab)(),!1);else{const tNode=createTNodePlaceholder(tView,existingTNodeStack[0],index);existingTNodeStack.unshift([]),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iMd)(tNode,!0);const placeholderNode={kind:2,index,children:[],type:35===type?0:1};astStack[0].push(placeholderNode),astStack.unshift(placeholderNode.children)}}else{const parts=i18nParseTextIntoPartsAndICU(value);for(let j=0;j<parts.length;j++){let part=parts[j];if(1&j){const icuExpression=part;if("object"!=typeof icuExpression)throw new Error(`Unable to parse ICU expression in "${message}" message.`);const icuNodeIndex=createTNodeAndAddOpCode(tView,rootTNode,existingTNodeStack[0],lView,createOpCodes,ngDevMode?`ICU ${index}:${icuExpression.mainBinding}`:"",!0).index;ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.pbo)(icuNodeIndex,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,"Index must be in absolute LView offset"),icuStart(astStack[0],tView,lView,updateOpCodes,parentTNodeIndex,icuExpression,icuNodeIndex)}else{const text=part;ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Cv0)(text,"Parsed ICU part should be string"),""!==text&&i18nStartFirstCreatePassProcessTextNode(astStack[0],tView,rootTNode,existingTNodeStack[0],createOpCodes,updateOpCodes,lView,text)}}}}tView.data[index]={create:createOpCodes,update:updateOpCodes,ast:astStack[0],parentTNodeIndex}}function createTNodeAndAddOpCode(tView,rootTNode,existingTNodes,lView,createOpCodes,text,isICU){const i18nNodeIdx=allocExpando(tView,lView,1,null);let opCode=i18nNodeIdx<<I18nCreateOpCode.SHIFT,parentTNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ab)();rootTNode===parentTNode&&(parentTNode=null),null===parentTNode&&(opCode|=I18nCreateOpCode.APPEND_EAGERLY),isICU&&(opCode|=I18nCreateOpCode.COMMENT,function ensureIcuContainerVisitorLoaded(loader){void 0===_icuContainerIterate&&(_icuContainerIterate=loader())}(loadIcuContainerVisitor)),createOpCodes.push(opCode,null===text?"":text);const tNode=createTNodeAtIndex(tView,i18nNodeIdx,isICU?32:1,null===text?ngDevMode?"{{?}}":"":text,null);addTNodeAndUpdateInsertBeforeIndex(existingTNodes,tNode);const tNodeIdx=tNode.index;return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iMd)(tNode,!1),null!==parentTNode&&rootTNode!==parentTNode&&function setTNodeInsertBeforeIndex(tNode,index){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.R2n)(tNode);let insertBeforeIndex=tNode.insertBeforeIndex;null===insertBeforeIndex?(setI18nHandling(getInsertInFrontOfRNodeWithI18n,processI18nInsertBefore),insertBeforeIndex=tNode.insertBeforeIndex=[null,index]):((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(Array.isArray(insertBeforeIndex),!0,"Expecting array here"),insertBeforeIndex.push(index))}(parentTNode,tNodeIdx),tNode}function i18nStartFirstCreatePassProcessTextNode(ast,tView,rootTNode,existingTNodes,createOpCodes,updateOpCodes,lView,text){const hasBinding=text.match(BINDING_REGEXP),index=createTNodeAndAddOpCode(tView,rootTNode,existingTNodes,lView,createOpCodes,hasBinding?null:text,!1).index;hasBinding&&generateBindingUpdateOpCodes(updateOpCodes,text,index,null,0,null),ast.push({kind:0,index})}function generateBindingUpdateOpCodes(updateOpCodes,str,destinationNode,attrName,bindingStart,sanitizeFn){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.pbo)(destinationNode,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,"Index must be in absolute LView offset");const maskIndex=updateOpCodes.length,sizeIndex=maskIndex+1;updateOpCodes.push(null,null);const startIndex=maskIndex+2;ngDevMode&&attachDebugGetter(updateOpCodes,i18nUpdateOpCodesToString);const textParts=str.split(BINDING_REGEXP);let mask=0;for(let j=0;j<textParts.length;j++){const textValue=textParts[j];if(1&j){const bindingIndex=bindingStart+parseInt(textValue,10);updateOpCodes.push(-1-bindingIndex),mask|=toMaskBit(bindingIndex)}else""!==textValue&&updateOpCodes.push(textValue)}return updateOpCodes.push(destinationNode<<2|(attrName?1:0)),attrName&&updateOpCodes.push(attrName,sanitizeFn),updateOpCodes[maskIndex]=mask,updateOpCodes[sizeIndex]=updateOpCodes.length-startIndex,mask}function countBindings(opCodes){let count=0;for(let i=0;i<opCodes.length;i++){const opCode=opCodes[i];"number"==typeof opCode&&opCode<0&&count++}return count}function toMaskBit(bindingIndex){return 1<<Math.min(bindingIndex,31)}function removeInnerTemplateTranslation(message){let match,tagMatched,res="",index=0,inTemplate=!1;for(;null!==(match=SUBTEMPLATE_REGEXP.exec(message));)inTemplate?match[0]===`${MARKER}/*${tagMatched}${MARKER}`&&(index=match.index,inTemplate=!1):(res+=message.substring(index,match.index+match[0].length),tagMatched=match[1],inTemplate=!0);return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(inTemplate,!1,`Tag mismatch: unable to find the end of the sub-template in the translation "${message}"`),res+=message.slice(index),res}function icuStart(ast,tView,lView,updateOpCodes,parentIdx,icuExpression,anchorIdx){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(icuExpression,"ICU expression must be defined");let bindingMask=0;const tIcu={type:icuExpression.type,currentCaseLViewIndex:allocExpando(tView,lView,1,null),anchorIdx,cases:[],create:[],remove:[],update:[]};!function addUpdateIcuSwitch(update,icuExpression,index){update.push(toMaskBit(icuExpression.mainBinding),2,-1-icuExpression.mainBinding,index<<2|2)}(updateOpCodes,icuExpression,anchorIdx),function setTIcu(tView,index,tIcu){const tNode=tView.data[index];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(null===tNode||tNode.hasOwnProperty("tView"),!0,"We expect to get 'null'|'TIcuContainer'"),null===tNode?tView.data[index]=tIcu:(ngDevMode&&assertTNodeType(tNode,32),tNode.value=tIcu)}(tView,anchorIdx,tIcu);const values=icuExpression.values,cases=[];for(let i=0;i<values.length;i++){const valueArr=values[i],nestedIcus=[];for(let j=0;j<valueArr.length;j++){const value=valueArr[j];if("string"!=typeof value){const icuIndex=nestedIcus.push(value)-1;valueArr[j]=`\x3c!--�${icuIndex}�--\x3e`}}const caseAst=[];cases.push(caseAst),bindingMask=parseIcuCase(caseAst,tView,tIcu,lView,updateOpCodes,parentIdx,icuExpression.cases[i],valueArr.join(""),nestedIcus)|bindingMask}bindingMask&&function addUpdateIcuUpdate(update,bindingMask,index){update.push(bindingMask,1,index<<2|3)}(updateOpCodes,bindingMask,anchorIdx),ast.push({kind:3,index:anchorIdx,cases,currentCaseLViewIndex:tIcu.currentCaseLViewIndex})}function parseICUBlock(pattern){const cases=[],values=[];let icuType=1,mainBinding=0;const parts=i18nParseTextIntoPartsAndICU(pattern=pattern.replace(ICU_BLOCK_REGEXP,function(str,binding,type){return icuType="select"===type?0:1,mainBinding=parseInt(binding.slice(1),10),""}));for(let pos=0;pos<parts.length;){let key=parts[pos++].trim();1===icuType&&(key=key.replace(/\s*(?:=)?(\w+)\s*/,"$1")),key.length&&cases.push(key);const blocks=i18nParseTextIntoPartsAndICU(parts[pos++]);cases.length>values.length&&values.push(blocks)}return{type:icuType,mainBinding,cases,values}}function i18nParseTextIntoPartsAndICU(pattern){if(!pattern)return[];let prevPos=0;const braceStack=[],results=[],braces=/[{}]/g;let match;for(braces.lastIndex=0;match=braces.exec(pattern);){const pos=match.index;if("}"==match[0]){if(braceStack.pop(),0==braceStack.length){const block=pattern.substring(prevPos,pos);ICU_BLOCK_REGEXP.test(block)?results.push(parseICUBlock(block)):results.push(block),prevPos=pos+1}}else{if(0==braceStack.length){const substring=pattern.substring(prevPos,pos);results.push(substring),prevPos=pos+1}braceStack.push("{")}}const substring=pattern.substring(prevPos);return results.push(substring),results}function parseIcuCase(ast,tView,tIcu,lView,updateOpCodes,parentIdx,caseName,unsafeCaseHtml,nestedIcus){const create=[],remove=[],update=[];ngDevMode&&(attachDebugGetter(create,icuCreateOpCodesToString),attachDebugGetter(remove,i18nRemoveOpCodesToString),attachDebugGetter(update,i18nUpdateOpCodesToString)),tIcu.cases.push(caseName),tIcu.create.push(create),tIcu.remove.push(remove),tIcu.update.push(update);const inertBodyElement=getInertBodyHelper(getDocument()).getInertBodyElement(unsafeCaseHtml);ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(inertBodyElement,"Unable to generate inert body element");const inertRootNode=getTemplateContent(inertBodyElement)||inertBodyElement;return inertRootNode?walkIcuTree(ast,tView,tIcu,lView,updateOpCodes,create,remove,update,inertRootNode,parentIdx,nestedIcus,0):0}function walkIcuTree(ast,tView,tIcu,lView,sharedUpdateOpCodes,create,remove,update,parentNode,parentIdx,nestedIcus,depth){let bindingMask=0,currentNode=parentNode.firstChild;for(;currentNode;){const newIndex=allocExpando(tView,lView,1,null);switch(currentNode.nodeType){case Node.ELEMENT_NODE:const element=currentNode,tagName=element.tagName.toLowerCase();if(VALID_ELEMENTS.hasOwnProperty(tagName)){addCreateNodeAndAppend(create,ELEMENT_MARKER,tagName,parentIdx,newIndex),tView.data[newIndex]=tagName;const elAttrs=element.attributes;for(let i=0;i<elAttrs.length;i++){const attr=elAttrs.item(i),lowerAttrName=attr.name.toLowerCase();!!attr.value.match(BINDING_REGEXP)?VALID_ATTRS.hasOwnProperty(lowerAttrName)?URI_ATTRS[lowerAttrName]?generateBindingUpdateOpCodes(update,attr.value,newIndex,attr.name,0,_sanitizeUrl):generateBindingUpdateOpCodes(update,attr.value,newIndex,attr.name,0,null):ngDevMode&&console.warn(`WARNING: ignoring unsafe attribute value ${lowerAttrName} on element ${tagName} (see ${_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ok8})`):addCreateAttribute(create,newIndex,attr)}const elementNode={kind:1,index:newIndex,children:[]};ast.push(elementNode),bindingMask=walkIcuTree(elementNode.children,tView,tIcu,lView,sharedUpdateOpCodes,create,remove,update,currentNode,newIndex,nestedIcus,depth+1)|bindingMask,addRemoveNode(remove,newIndex,depth)}break;case Node.TEXT_NODE:const value=currentNode.textContent||"",hasBinding=value.match(BINDING_REGEXP);addCreateNodeAndAppend(create,null,hasBinding?"":value,parentIdx,newIndex),addRemoveNode(remove,newIndex,depth),hasBinding&&(bindingMask=generateBindingUpdateOpCodes(update,value,newIndex,null,0,null)|bindingMask),ast.push({kind:0,index:newIndex});break;case Node.COMMENT_NODE:const isNestedIcu=NESTED_ICU.exec(currentNode.textContent||"");if(isNestedIcu){const nestedIcuIndex=parseInt(isNestedIcu[1],10),icuExpression=nestedIcus[nestedIcuIndex];addCreateNodeAndAppend(create,ICU_MARKER,ngDevMode?`nested ICU ${nestedIcuIndex}`:"",parentIdx,newIndex),icuStart(ast,tView,lView,sharedUpdateOpCodes,parentIdx,icuExpression,newIndex),addRemoveNestedIcu(remove,newIndex,depth)}}currentNode=currentNode.nextSibling}return bindingMask}function addRemoveNode(remove,index,depth){0===depth&&remove.push(index)}function addRemoveNestedIcu(remove,index,depth){0===depth&&(remove.push(~index),remove.push(index))}function addCreateNodeAndAppend(create,marker,text,appendToParentIdx,createAtIdx){null!==marker&&create.push(marker),create.push(text,createAtIdx,function icuCreateOpCode(opCode,parentIdx,refIdx){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.pbo)(parentIdx,0,"Missing parent index"),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GWr)(refIdx,0,"Missing ref index"),opCode|parentIdx<<17|refIdx<<1}(0,appendToParentIdx,createAtIdx))}function addCreateAttribute(create,newIndex,attr){create.push(newIndex<<1|1,attr.name,attr.value)}const ROOT_TEMPLATE_ID=0,PP_MULTI_VALUE_PLACEHOLDERS_REGEXP=/\[(�.+?�?)\]/,PP_PLACEHOLDERS_REGEXP=/\[(�.+?�?)\]|(�\/?\*\d+:\d+�)/g,PP_ICU_VARS_REGEXP=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,PP_ICU_PLACEHOLDERS_REGEXP=/{([A-Z0-9_]+)}/g,PP_ICUS_REGEXP=/�I18N_EXP_(ICU(_\d+)?)�/g,PP_CLOSE_TEMPLATE_REGEXP=/\/\*/,PP_TEMPLATE_ID_REGEXP=/\d+\:(\d+)/;function ɵɵi18nStart(index,messageIndex,subTemplateIndex=-1){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),adjustedIndex=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1+index;ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(tView,"tView should be defined");const message=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(tView.consts,messageIndex),parentTNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Ab)();if(tView.firstCreatePass&&i18nStartFirstCreatePass(tView,null===parentTNode?0:parentTNode.index,lView,adjustedIndex,message,subTemplateIndex),2===tView.type){lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]|=32}else lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Wg1]|=32;const tI18n=tView.data[adjustedIndex],parentRNode=getClosestRElement(tView,parentTNode===lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT]?null:parentTNode,lView),insertInFrontOf=parentTNode&&8&parentTNode.type?lView[parentTNode.index]:null;!function prepareI18nBlockForHydration(lView,index,parentTNode,subTemplateIndex){_prepareI18nBlockForHydrationImpl(lView,index,parentTNode,subTemplateIndex)}(lView,adjustedIndex,parentTNode,subTemplateIndex),function applyCreateOpCodes(lView,createOpCodes,parentRNode,insertInFrontOf){const renderer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT];for(let i=0;i<createOpCodes.length;i++){const opCode=createOpCodes[i++],text=createOpCodes[i],isComment=(opCode&I18nCreateOpCode.COMMENT)===I18nCreateOpCode.COMMENT,appendNow=(opCode&I18nCreateOpCode.APPEND_EAGERLY)===I18nCreateOpCode.APPEND_EAGERLY,index=opCode>>>I18nCreateOpCode.SHIFT;let rNode=lView[index],lastNodeWasCreated=!1;null===rNode&&(rNode=lView[index]=_locateOrCreateNode(lView,index,text,isComment?Node.COMMENT_NODE:Node.TEXT_NODE),lastNodeWasCreated=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SX7)()),appendNow&&null!==parentRNode&&lastNodeWasCreated&&nativeInsertBefore(renderer,parentRNode,rNode,insertInFrontOf,!1)}}(lView,tI18n.create,parentRNode,insertInFrontOf),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xyx)(!0)}function ɵɵi18nEnd(){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xyx)(!1)}function ɵɵi18n(index,messageIndex,subTemplateIndex){ɵɵi18nStart(index,messageIndex,subTemplateIndex),ɵɵi18nEnd()}function ɵɵi18nAttributes(index,attrsIndex){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)();ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(tView,"tView should be defined");const attrs=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.db4)(tView.consts,attrsIndex);!function i18nAttributesFirstPass(tView,index,values){const previousElementIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)().index,updateOpCodes=[];if(ngDevMode&&attachDebugGetter(updateOpCodes,i18nUpdateOpCodesToString),tView.firstCreatePass&&null===tView.data[index]){for(let i=0;i<values.length;i+=2){const attrName=values[i],message=values[i+1];if(""!==message){if(ICU_REGEXP.test(message))throw new Error(`ICU expressions are not supported in attributes. Message: "${message}".`);generateBindingUpdateOpCodes(updateOpCodes,message,previousElementIndex,attrName,countBindings(updateOpCodes),null)}}tView.data[index]=updateOpCodes}}(tView,index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,attrs)}function ɵɵi18nExp(value){return function setMaskBit(hasChange){hasChange&&(changeMask|=1<<Math.min(changeMaskCounter,31)),changeMaskCounter++}(bindingUpdated((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)(),value)),ɵɵi18nExp}function ɵɵi18nApply(index){!function applyI18n(tView,lView,index){if(changeMaskCounter>0){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(tView,"tView should be defined");const tI18n=tView.data[index];applyUpdateOpCodes(tView,lView,Array.isArray(tI18n)?tI18n:tI18n.update,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.c$7)()-changeMaskCounter-1,changeMask)}changeMask=0,changeMaskCounter=0}((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1)}function ɵɵi18nPostprocess(message,replacements={}){return function i18nPostprocess(message,replacements={}){let result=message;if(PP_MULTI_VALUE_PLACEHOLDERS_REGEXP.test(message)){const matches={},templateIdsStack=[ROOT_TEMPLATE_ID];result=result.replace(PP_PLACEHOLDERS_REGEXP,(m,phs,tmpl)=>{const content=phs||tmpl,placeholders=matches[content]||[];if(placeholders.length||(content.split("|").forEach(placeholder=>{const match=placeholder.match(PP_TEMPLATE_ID_REGEXP),templateId=match?parseInt(match[1],10):ROOT_TEMPLATE_ID,isCloseTemplateTag=PP_CLOSE_TEMPLATE_REGEXP.test(placeholder);placeholders.push([templateId,isCloseTemplateTag,placeholder])}),matches[content]=placeholders),!placeholders.length)throw new Error(`i18n postprocess: unmatched placeholder - ${content}`);const currentTemplateId=templateIdsStack[templateIdsStack.length-1];let idx=0;for(let i=0;i<placeholders.length;i++)if(placeholders[i][0]===currentTemplateId){idx=i;break}const[templateId,isCloseTemplateTag,placeholder]=placeholders[idx];return isCloseTemplateTag?templateIdsStack.pop():currentTemplateId!==templateId&&templateIdsStack.push(templateId),placeholders.splice(idx,1),placeholder})}return Object.keys(replacements).length?(result=result.replace(PP_ICU_VARS_REGEXP,(match,start,key,_type,_idx,end)=>replacements.hasOwnProperty(key)?`${start}${replacements[key]}${end}`:match),result=result.replace(PP_ICU_PLACEHOLDERS_REGEXP,(match,key)=>replacements.hasOwnProperty(key)?replacements[key]:match),result=result.replace(PP_ICUS_REGEXP,(match,key)=>{if(replacements.hasOwnProperty(key)){const list=replacements[key];if(!list.length)throw new Error(`i18n postprocess: unmatched ICU - ${match} with key: ${key}`);return list.shift()}return match}),result):result}(message,replacements)}function ɵɵlistener(eventName,listenerFn,eventTargetResolver){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();return listenerInternal(tView,lView,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],tNode,eventName,listenerFn,eventTargetResolver),ɵɵlistener}function ɵɵsyntheticHostListener(eventName,listenerFn){const tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)(),lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)();return listenerInternal(tView,lView,loadComponentRenderer((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MT)(tView.data),tNode,lView),tNode,eventName,listenerFn),ɵɵsyntheticHostListener}function ɵɵdomListener(eventName,listenerFn,eventTargetResolver){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();return(3&tNode.type||eventTargetResolver)&&listenToDomEvent(tNode,tView,lView,eventTargetResolver,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],eventName,listenerFn,wrapListener(tNode,lView,listenerFn)),ɵɵdomListener}function listenerInternal(tView,lView,renderer,tNode,eventName,listenerFn,eventTargetResolver){ngDevMode&&assertTNodeType(tNode,15);let processOutputs=!0,wrappedListener=null;if(3&tNode.type||eventTargetResolver){wrappedListener??=wrapListener(tNode,lView,listenerFn);listenToDomEvent(tNode,tView,lView,eventTargetResolver,renderer,eventName,listenerFn,wrappedListener)&&(processOutputs=!1)}if(processOutputs){const outputConfig=tNode.outputs?.[eventName],hostDirectiveOutputConfig=tNode.hostDirectiveOutputs?.[eventName];if(hostDirectiveOutputConfig&&hostDirectiveOutputConfig.length)for(let i=0;i<hostDirectiveOutputConfig.length;i+=2){const index=hostDirectiveOutputConfig[i],lookupName=hostDirectiveOutputConfig[i+1];wrappedListener??=wrapListener(tNode,lView,listenerFn),listenToOutput(tNode,lView,index,lookupName,eventName,wrappedListener)}if(outputConfig&&outputConfig.length)for(const index of outputConfig)wrappedListener??=wrapListener(tNode,lView,listenerFn),listenToOutput(tNode,lView,index,eventName,eventName,wrappedListener)}}function ɵɵnextContext(level=1){return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jvu)(level)}function matchingProjectionSlotIndex(tNode,projectionSlots){let wildcardNgContentIndex=null;const ngProjectAsAttrVal=function getProjectAsAttrValue(tNode){const nodeAttrs=tNode.attrs;if(null!=nodeAttrs){const ngProjectAsAttrIdx=nodeAttrs.indexOf(5);if(!(1&ngProjectAsAttrIdx))return nodeAttrs[ngProjectAsAttrIdx+1]}return null}(tNode);for(let i=0;i<projectionSlots.length;i++){const slotValue=projectionSlots[i];if("*"!==slotValue){if(null===ngProjectAsAttrVal?isNodeMatchingSelectorList(tNode,slotValue,!0):isSelectorInSelectorList(ngProjectAsAttrVal,slotValue))return i}else wildcardNgContentIndex=i}return wildcardNgContentIndex}function ɵɵprojectionDef(projectionSlots){const componentNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)()[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT];if(!componentNode.projection){const numProjectionSlots=projectionSlots?projectionSlots.length:1,projectionHeads=componentNode.projection=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WfI)(numProjectionSlots,null),tails=projectionHeads.slice();let componentChild=componentNode.child;for(;null!==componentChild;){if(128!==componentChild.type){const slotIndex=projectionSlots?matchingProjectionSlotIndex(componentChild,projectionSlots):0;null!==slotIndex&&(tails[slotIndex]?tails[slotIndex].projectionNext=componentChild:projectionHeads[slotIndex]=componentChild,tails[slotIndex]=componentChild)}componentChild=componentChild.next}}}function ɵɵprojection(nodeIndex,selectorIndex=0,attrs,fallbackTemplateFn,fallbackDecls,fallbackVars){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),fallbackIndex=fallbackTemplateFn?nodeIndex+1:null;null!==fallbackIndex&&declareNoDirectiveHostTemplate(lView,tView,fallbackIndex,fallbackTemplateFn,fallbackDecls,fallbackVars,null,attrs);const tProjectionNode=getOrCreateTNode(tView,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1+nodeIndex,16,null,attrs||null);null===tProjectionNode.projection&&(tProjectionNode.projection=selectorIndex),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Pfq)();const isNodeCreationMode=!lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA]||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KtD)();null===lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT].projection[tProjectionNode.projection]&&null!==fallbackIndex?function insertFallbackContent(lView,tView,fallbackIndex){const adjustedIndex=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1+fallbackIndex,fallbackTNode=tView.data[adjustedIndex],fallbackLContainer=lView[adjustedIndex];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.R2n)(fallbackTNode),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cP4)(fallbackLContainer);const dehydratedView=findMatchingDehydratedView(fallbackLContainer,fallbackTNode.tView.ssrId),fallbackLView=createAndRenderEmbeddedLView(lView,fallbackTNode,void 0,{dehydratedView});addLViewToLContainer(fallbackLContainer,fallbackLView,0,shouldAddViewToDom(fallbackTNode,dehydratedView))}(lView,tView,fallbackIndex):isNodeCreationMode&&!isDetachedByI18n(tProjectionNode)&&function applyProjection(tView,lView,tProjectionNode){applyProjectionRecursive(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],0,lView,tProjectionNode,getParentRElement(tView,tProjectionNode,lView),getInsertInFrontOfRNode(tProjectionNode.parent||lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT],tProjectionNode,lView))}(tView,lView,tProjectionNode)}function ɵɵcontentQuery(directiveIndex,predicate,flags,read){createContentQuery(directiveIndex,predicate,flags,read)}function ɵɵviewQuery(predicate,flags,read){createViewQuery(predicate,flags,read)}function ɵɵqueryRefresh(queryList){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),queryIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.w7Z)();(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GA0)(queryIndex+1);const tQuery=getTQuery(tView,queryIndex);if(queryList.dirty&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.vOT)(lView)===!(2&~tQuery.metadata.flags)){if(null===tQuery.matches)queryList.reset([]);else{const result=getQueryResults(lView,queryIndex);queryList.reset(result,unwrapElementRef),queryList.notifyOnChanges()}return!0}return!1}function ɵɵloadQuery(){return loadQueryInternal((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.w7Z)())}function ɵɵcontentQuerySignal(directiveIndex,target,predicate,flags,read){bindQueryToSignal(target,createContentQuery(directiveIndex,predicate,flags,read))}function ɵɵviewQuerySignal(target,predicate,flags,read){bindQueryToSignal(target,createViewQuery(predicate,flags,read))}function ɵɵqueryAdvance(indexOffset=1){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GA0)((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.w7Z)()+indexOffset)}function ɵɵreference(index){const contextLView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VPL)();return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Hh6)(contextLView,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1+index)}function toTStylingRange(prev,next){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WrV)(prev,0,32767),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WrV)(next,0,32767),prev<<17|next<<2}function getTStylingRangePrev(tStylingRange){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(tStylingRange,"expected number"),tStylingRange>>17&32767}function setTStylingRangePrevDuplicate(tStylingRange){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(tStylingRange,"expected number"),2|tStylingRange}function getTStylingRangeNext(tStylingRange){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(tStylingRange,"expected number"),(131068&tStylingRange)>>2}function setTStylingRangeNext(tStylingRange,next){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(tStylingRange,"expected number"),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WrV)(next,0,32767),-131069&tStylingRange|next<<2}function setTStylingRangeNextDuplicate(tStylingRange){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(tStylingRange,"expected number"),1|tStylingRange}function insertTStylingBinding(tData,tNode,tStylingKeyWithStatic,index,isHostBinding,isClassBinding){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.TWe)((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)());let tBindings=isClassBinding?tNode.classBindings:tNode.styleBindings,tmplHead=getTStylingRangePrev(tBindings),tmplTail=getTStylingRangeNext(tBindings);tData[index]=tStylingKeyWithStatic;let tStylingKey,isKeyDuplicateOfStatic=!1;if(Array.isArray(tStylingKeyWithStatic)){const staticKeyValueArray=tStylingKeyWithStatic;tStylingKey=staticKeyValueArray[1],(null===tStylingKey||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.FRF)(staticKeyValueArray,tStylingKey)>0)&&(isKeyDuplicateOfStatic=!0)}else tStylingKey=tStylingKeyWithStatic;if(isHostBinding){if(0!==tmplTail){const previousNode=getTStylingRangePrev(tData[tmplHead+1]);tData[index+1]=toTStylingRange(previousNode,tmplHead),0!==previousNode&&(tData[previousNode+1]=setTStylingRangeNext(tData[previousNode+1],index)),tData[tmplHead+1]=function setTStylingRangePrev(tStylingRange,previous){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(tStylingRange,"expected number"),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WrV)(previous,0,32767),131071&tStylingRange|previous<<17}(tData[tmplHead+1],index)}else tData[index+1]=toTStylingRange(tmplHead,0),0!==tmplHead&&(tData[tmplHead+1]=setTStylingRangeNext(tData[tmplHead+1],index)),tmplHead=index}else tData[index+1]=toTStylingRange(tmplTail,0),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(0!==tmplHead&&0===tmplTail,!1,"Adding template bindings after hostBindings is not allowed."),0===tmplHead?tmplHead=index:tData[tmplTail+1]=setTStylingRangeNext(tData[tmplTail+1],index),tmplTail=index;isKeyDuplicateOfStatic&&(tData[index+1]=setTStylingRangePrevDuplicate(tData[index+1])),markDuplicates(tData,tStylingKey,index,!0),markDuplicates(tData,tStylingKey,index,!1),function markDuplicateOfResidualStyling(tNode,tStylingKey,tData,index,isClassBinding){const residual=isClassBinding?tNode.residualClasses:tNode.residualStyles;null!=residual&&"string"==typeof tStylingKey&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.FRF)(residual,tStylingKey)>=0&&(tData[index+1]=setTStylingRangeNextDuplicate(tData[index+1]))}(tNode,tStylingKey,tData,index,isClassBinding),tBindings=toTStylingRange(tmplHead,tmplTail),isClassBinding?tNode.classBindings=tBindings:tNode.styleBindings=tBindings}function markDuplicates(tData,tStylingKey,index,isPrevDir){const tStylingAtIndex=tData[index+1],isMap=null===tStylingKey;let cursor=isPrevDir?getTStylingRangePrev(tStylingAtIndex):getTStylingRangeNext(tStylingAtIndex),foundDuplicate=!1;for(;0!==cursor&&(!1===foundDuplicate||isMap);){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(tData,cursor);const tStylingValueAtCursor=tData[cursor],tStyleRangeAtCursor=tData[cursor+1];isStylingMatch(tStylingValueAtCursor,tStylingKey)&&(foundDuplicate=!0,tData[cursor+1]=isPrevDir?setTStylingRangeNextDuplicate(tStyleRangeAtCursor):setTStylingRangePrevDuplicate(tStyleRangeAtCursor)),cursor=isPrevDir?getTStylingRangePrev(tStyleRangeAtCursor):getTStylingRangeNext(tStyleRangeAtCursor)}foundDuplicate&&(tData[index+1]=isPrevDir?setTStylingRangePrevDuplicate(tStylingAtIndex):setTStylingRangeNextDuplicate(tStylingAtIndex))}function isStylingMatch(tStylingKeyCursor,tStylingKey){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iw4)(Array.isArray(tStylingKey),!0,"Expected that 'tStylingKey' has been unwrapped"),null===tStylingKeyCursor||null==tStylingKey||(Array.isArray(tStylingKeyCursor)?tStylingKeyCursor[1]:tStylingKeyCursor)===tStylingKey||!(!Array.isArray(tStylingKeyCursor)||"string"!=typeof tStylingKey)&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.FRF)(tStylingKeyCursor,tStylingKey)>=0}const parserState={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function getLastParsedKey(text){return text.substring(parserState.key,parserState.keyEnd)}function getLastParsedValue(text){return text.substring(parserState.value,parserState.valueEnd)}function parseClassNameNext(text,index){const end=parserState.textEnd;return end===index?-1:(index=parserState.keyEnd=function consumeClassToken(text,startIndex,endIndex){for(;startIndex<endIndex&&text.charCodeAt(startIndex)>32;)startIndex++;return startIndex}(text,parserState.key=index,end),consumeWhitespace(text,index,end))}function parseStyleNext(text,startIndex){const end=parserState.textEnd;let index=parserState.key=consumeWhitespace(text,startIndex,end);return end===index?-1:(index=parserState.keyEnd=function consumeStyleKey(text,startIndex,endIndex){let ch;for(;startIndex<endIndex&&(45===(ch=text.charCodeAt(startIndex))||95===ch||(-33&ch)>=65&&(-33&ch)<=90||ch>=48&&ch<=57);)startIndex++;return startIndex}(text,index,end),index=consumeSeparator(text,index,end,58),index=parserState.value=consumeWhitespace(text,index,end),index=parserState.valueEnd=function consumeStyleValue(text,startIndex,endIndex){let ch1=-1,ch2=-1,ch3=-1,i=startIndex,lastChIndex=i;for(;i<endIndex;){const ch=text.charCodeAt(i++);if(59===ch)return lastChIndex;34===ch||39===ch?lastChIndex=i=consumeQuotedText(text,ch,i,endIndex):startIndex===i-4&&85===ch3&&82===ch2&&76===ch1&&40===ch?lastChIndex=i=consumeQuotedText(text,41,i,endIndex):ch>32&&(lastChIndex=i),ch3=ch2,ch2=ch1,ch1=-33&ch}return lastChIndex}(text,index,end),consumeSeparator(text,index,end,59))}function resetParserState(text){parserState.key=0,parserState.keyEnd=0,parserState.value=0,parserState.valueEnd=0,parserState.textEnd=text.length}function consumeWhitespace(text,startIndex,endIndex){for(;startIndex<endIndex&&text.charCodeAt(startIndex)<=32;)startIndex++;return startIndex}function consumeSeparator(text,startIndex,endIndex,separator){return(startIndex=consumeWhitespace(text,startIndex,endIndex))<endIndex&&(ngDevMode&&text.charCodeAt(startIndex)!==separator&&malformedStyleError(text,String.fromCharCode(separator),startIndex),startIndex++),startIndex}function consumeQuotedText(text,quoteCharCode,startIndex,endIndex){let ch1=-1,index=startIndex;for(;index<endIndex;){const ch=text.charCodeAt(index++);if(ch==quoteCharCode&&92!==ch1)return index;ch1=92==ch&&92===ch1?0:ch}throw ngDevMode?malformedStyleError(text,String.fromCharCode(quoteCharCode),endIndex):new Error}function malformedStyleError(text,expecting,index){throw ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)("string"==typeof text,!0,"String expected here"),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)(`Malformed style at location ${index} in string '`+text.substring(0,index)+"[>>"+text.substring(index,index+1)+"<<]"+text.slice(index+1)+`'. Expecting '${expecting}'.`)}function ɵɵstyleProp(prop,value,suffix){return checkStylingProperty(prop,value,suffix,!1),ɵɵstyleProp}function ɵɵclassProp(className,value){return checkStylingProperty(className,value,null,!0),ɵɵclassProp}function ɵɵstyleMap(styles){checkStylingMap(styleKeyValueArraySet,styleStringParser,styles,!1)}function styleStringParser(keyValueArray,text){for(let i=function parseStyle(text){return resetParserState(text),parseStyleNext(text,consumeWhitespace(text,0,parserState.textEnd))}(text);i>=0;i=parseStyleNext(text,i))styleKeyValueArraySet(keyValueArray,getLastParsedKey(text),getLastParsedValue(text))}function ɵɵclassMap(classes){checkStylingMap(classKeyValueArraySet,classStringParser,classes,!0)}function classStringParser(keyValueArray,text){for(let i=function parseClassName(text){return resetParserState(text),parseClassNameNext(text,consumeWhitespace(text,0,parserState.textEnd))}(text);i>=0;i=parseClassNameNext(text,i))(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ezK)(keyValueArray,getLastParsedKey(text),!0)}function checkStylingProperty(prop,value,suffix,isClassBased){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b$O)(2);if(tView.firstUpdatePass&&stylingFirstUpdatePass(tView,prop,bindingIndex,isClassBased),value!==NO_CHANGE&&bindingUpdated(lView,bindingIndex,value)){updateStyling(tView,tView.data[(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)()],lView,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],prop,lView[bindingIndex+1]=function normalizeSuffix(value,suffix){null==value||""===value||("string"==typeof suffix?value+=suffix:"object"==typeof value&&(value=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.AsM)(unwrapSafeValue(value))));return value}(value,suffix),isClassBased,bindingIndex)}}function checkStylingMap(keyValueArraySet,stringParser,value,isClassBased){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b$O)(2);tView.firstUpdatePass&&stylingFirstUpdatePass(tView,null,bindingIndex,isClassBased);const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)();if(value!==NO_CHANGE&&bindingUpdated(lView,bindingIndex,value)){const tNode=tView.data[(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)()];if(hasStylingInputShadow(tNode,isClassBased)&&!isInHostBindings(tView,bindingIndex)){if(ngDevMode){const tStylingKey=tView.data[bindingIndex];(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(Array.isArray(tStylingKey)?tStylingKey[1]:tStylingKey,!1,"Styling linked list shadow input should be marked as 'false'")}let staticPrefix=isClassBased?tNode.classesWithoutHost:tNode.stylesWithoutHost;ngDevMode&&!1===isClassBased&&null!==staticPrefix&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(staticPrefix.endsWith(";"),!0,"Expecting static portion to end with ';'"),null!==staticPrefix&&(value=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.n$e)(staticPrefix,value||"")),setDirectiveInputsWhichShadowsStyling(tView,tNode,lView,value,isClassBased)}else!function updateStylingMap(tView,tNode,lView,renderer,oldKeyValueArray,newKeyValueArray,isClassBased,bindingIndex){oldKeyValueArray===NO_CHANGE&&(oldKeyValueArray=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv);let oldIndex=0,newIndex=0,oldKey=0<oldKeyValueArray.length?oldKeyValueArray[0]:null,newKey=0<newKeyValueArray.length?newKeyValueArray[0]:null;for(;null!==oldKey||null!==newKey;){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.XvL)(oldIndex,999,"Are we stuck in infinite loop?"),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.XvL)(newIndex,999,"Are we stuck in infinite loop?");const oldValue=oldIndex<oldKeyValueArray.length?oldKeyValueArray[oldIndex+1]:void 0,newValue=newIndex<newKeyValueArray.length?newKeyValueArray[newIndex+1]:void 0;let setValue,setKey=null;oldKey===newKey?(oldIndex+=2,newIndex+=2,oldValue!==newValue&&(setKey=newKey,setValue=newValue)):null===newKey||null!==oldKey&&oldKey<newKey?(oldIndex+=2,setKey=oldKey):(ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(newKey,"Expecting to have a valid key"),newIndex+=2,setKey=newKey,setValue=newValue),null!==setKey&&updateStyling(tView,tNode,lView,renderer,setKey,setValue,isClassBased,bindingIndex),oldKey=oldIndex<oldKeyValueArray.length?oldKeyValueArray[oldIndex]:null,newKey=newIndex<newKeyValueArray.length?newKeyValueArray[newIndex]:null}}(tView,tNode,lView,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],lView[bindingIndex+1],lView[bindingIndex+1]=function toStylingKeyValueArray(keyValueArraySet,stringParser,value){if(null==value||""===value)return _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv;const styleKeyValueArray=[],unwrappedValue=unwrapSafeValue(value);if(Array.isArray(unwrappedValue))for(let i=0;i<unwrappedValue.length;i++)keyValueArraySet(styleKeyValueArray,unwrappedValue[i],!0);else if("object"==typeof unwrappedValue)for(const key in unwrappedValue)unwrappedValue.hasOwnProperty(key)&&keyValueArraySet(styleKeyValueArray,key,unwrappedValue[key]);else"string"==typeof unwrappedValue?stringParser(styleKeyValueArray,unwrappedValue):ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.$8)("Unsupported styling type: "+typeof unwrappedValue+" ("+unwrappedValue+")");return styleKeyValueArray}(keyValueArraySet,stringParser,value),isClassBased,bindingIndex)}}function isInHostBindings(tView,bindingIndex){return bindingIndex>=tView.expandoStartIndex}function stylingFirstUpdatePass(tView,tStylingKey,bindingIndex,isClassBased){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.TWe)(tView);const tData=tView.data;if(null===tData[bindingIndex+1]){const tNode=tData[(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)()];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(tNode,"TNode expected");const isHostBindings=isInHostBindings(tView,bindingIndex);hasStylingInputShadow(tNode,isClassBased)&&null===tStylingKey&&!isHostBindings&&(tStylingKey=!1),tStylingKey=function wrapInStaticStylingKey(tData,tNode,stylingKey,isClassBased){const hostDirectiveDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MT)(tData);let residual=isClassBased?tNode.residualClasses:tNode.residualStyles;if(null===hostDirectiveDef){0===(isClassBased?tNode.classBindings:tNode.styleBindings)&&(stylingKey=collectStylingFromTAttrs(stylingKey=collectStylingFromDirectives(null,tData,tNode,stylingKey,isClassBased),tNode.attrs,isClassBased),residual=null)}else{const directiveStylingLast=tNode.directiveStylingLast;if(-1===directiveStylingLast||tData[directiveStylingLast]!==hostDirectiveDef)if(stylingKey=collectStylingFromDirectives(hostDirectiveDef,tData,tNode,stylingKey,isClassBased),null===residual){let templateStylingKey=function getTemplateHeadTStylingKey(tData,tNode,isClassBased){const bindings=isClassBased?tNode.classBindings:tNode.styleBindings;if(0===getTStylingRangeNext(bindings))return;return tData[getTStylingRangePrev(bindings)]}(tData,tNode,isClassBased);void 0!==templateStylingKey&&Array.isArray(templateStylingKey)&&(templateStylingKey=collectStylingFromDirectives(null,tData,tNode,templateStylingKey[1],isClassBased),templateStylingKey=collectStylingFromTAttrs(templateStylingKey,tNode.attrs,isClassBased),function setTemplateHeadTStylingKey(tData,tNode,isClassBased,tStylingKey){const bindings=isClassBased?tNode.classBindings:tNode.styleBindings;ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iw4)(getTStylingRangeNext(bindings),0,"Expecting to have at least one template styling binding."),tData[getTStylingRangePrev(bindings)]=tStylingKey}(tData,tNode,isClassBased,templateStylingKey))}else residual=function collectResidual(tData,tNode,isClassBased){let residual;const directiveEnd=tNode.directiveEnd;ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iw4)(tNode.directiveStylingLast,-1,"By the time this function gets called at least one hostBindings-node styling instruction must have executed.");for(let i=1+tNode.directiveStylingLast;i<directiveEnd;i++){residual=collectStylingFromTAttrs(residual,tData[i].hostAttrs,isClassBased)}return collectStylingFromTAttrs(residual,tNode.attrs,isClassBased)}(tData,tNode,isClassBased)}void 0!==residual&&(isClassBased?tNode.residualClasses=residual:tNode.residualStyles=residual);return stylingKey}(tData,tNode,tStylingKey,isClassBased),insertTStylingBinding(tData,tNode,tStylingKey,bindingIndex,isHostBindings,isClassBased)}}function collectStylingFromDirectives(hostDirectiveDef,tData,tNode,stylingKey,isClassBased){let currentDirective=null;const directiveEnd=tNode.directiveEnd;let directiveStylingLast=tNode.directiveStylingLast;for(-1===directiveStylingLast?directiveStylingLast=tNode.directiveStart:directiveStylingLast++;directiveStylingLast<directiveEnd&&(currentDirective=tData[directiveStylingLast],ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(currentDirective,"expected to be defined"),stylingKey=collectStylingFromTAttrs(stylingKey,currentDirective.hostAttrs,isClassBased),currentDirective!==hostDirectiveDef);)directiveStylingLast++;return null!==hostDirectiveDef&&(tNode.directiveStylingLast=directiveStylingLast),stylingKey}function collectStylingFromTAttrs(stylingKey,attrs,isClassBased){const desiredMarker=isClassBased?1:2;let currentMarker=-1;if(null!==attrs)for(let i=0;i<attrs.length;i++){const item=attrs[i];"number"==typeof item?currentMarker=item:currentMarker===desiredMarker&&(Array.isArray(stylingKey)||(stylingKey=void 0===stylingKey?[]:["",stylingKey]),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ezK)(stylingKey,item,!!isClassBased||attrs[++i]))}return void 0===stylingKey?null:stylingKey}function styleKeyValueArraySet(keyValueArray,key,value){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ezK)(keyValueArray,key,unwrapSafeValue(value))}function classKeyValueArraySet(keyValueArray,key,value){const stringKey=String(key);""===stringKey||stringKey.includes(" ")||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ezK)(keyValueArray,stringKey,value)}function updateStyling(tView,tNode,lView,renderer,prop,value,isClassBased,bindingIndex){if(!(3&tNode.type))return;const tData=tView.data,tRange=tData[bindingIndex+1];if(!isStylingValuePresent(function getTStylingRangeNextDuplicate(tStylingRange){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(tStylingRange,"expected number"),!(1&~tStylingRange)}(tRange)?findStylingValue(tData,tNode,lView,prop,getTStylingRangeNext(tRange),isClassBased):void 0)){isStylingValuePresent(value)||function getTStylingRangePrevDuplicate(tStylingRange){return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.U45)(tStylingRange,"expected number"),!(2&~tStylingRange)}(tRange)&&(value=findStylingValue(tData,null,lView,prop,bindingIndex,isClassBased));!function applyStyling(renderer,isClassBased,rNode,prop,value){if(isClassBased)value?renderer.addClass(rNode,prop):renderer.removeClass(rNode,prop);else{let flags=-1===prop.indexOf("-")?void 0:RendererStyleFlags2.DashCase;null==value?renderer.removeStyle(rNode,prop,flags):("string"==typeof value&&value.endsWith("!important")&&(value=value.slice(0,-10),flags|=RendererStyleFlags2.Important),renderer.setStyle(rNode,prop,value,flags))}}(renderer,isClassBased,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.vaC)((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)(),lView),prop,value)}}function findStylingValue(tData,tNode,lView,prop,index,isClassBased){const isPrevDirection=null===tNode;let value;for(;index>0;){const rawKey=tData[index],containsStatics=Array.isArray(rawKey),key=containsStatics?rawKey[1]:rawKey,isStylingMap=null===key;let valueAtLViewIndex=lView[index+1];valueAtLViewIndex===NO_CHANGE&&(valueAtLViewIndex=isStylingMap?_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv:void 0);let currentValue=isStylingMap?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K7h)(valueAtLViewIndex,prop):key===prop?valueAtLViewIndex:void 0;if(containsStatics&&!isStylingValuePresent(currentValue)&&(currentValue=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K7h)(rawKey,prop)),isStylingValuePresent(currentValue)&&(value=currentValue,isPrevDirection))return value;const tRange=tData[index+1];index=isPrevDirection?getTStylingRangePrev(tRange):getTStylingRangeNext(tRange)}if(null!==tNode){let residual=isClassBased?tNode.residualClasses:tNode.residualStyles;null!=residual&&(value=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K7h)(residual,prop))}return value}function isStylingValuePresent(value){return void 0!==value}function hasStylingInputShadow(tNode,isClassBased){return!!(tNode.flags&(isClassBased?8:16))}function ɵɵtext(index,value=""){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1;ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.O8q)(lView,index);const tNode=tView.firstCreatePass?getOrCreateTNode(tView,adjustedIndex,1,value,null):tView.data[adjustedIndex],textNative=_locateOrCreateTextNode(tView,lView,tNode,value,index);lView[adjustedIndex]=textNative,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SX7)()&&appendChild(tView,lView,textNative,tNode),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iMd)(tNode,!1)}let _locateOrCreateTextNode=(tView,lView,tNode,value,index)=>((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.m7n)(!0),createTextNode(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],value));function locateOrCreateTextNodeImpl(tView,lView,tNode,value,index){const isNodeCreationMode=!canHydrateNode(lView,tNode);if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.m7n)(isNodeCreationMode),isNodeCreationMode)return createTextNode(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],value);const textNative=locateNextRNode(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tcA],tView,lView,tNode);return ngDevMode&&validateMatchingNode(textNative,Node.TEXT_NODE,null,lView,tNode),ngDevMode&&markRNodeAsClaimedByHydration(textNative),textNative}function enableLocateOrCreateTextNodeImpl(){_locateOrCreateTextNode=locateOrCreateTextNodeImpl}function interpolationV(lView,values){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.XvL)(2,values.length,"should have at least 3 values");let isBindingUpdated=!1,bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.c$7)();for(let i=1;i<values.length;i+=2)isBindingUpdated=bindingUpdated(lView,bindingIndex++,values[i])||isBindingUpdated;if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Kw3)(bindingIndex),!isBindingUpdated)return NO_CHANGE;let content=values[0];for(let i=1;i<values.length;i+=2)content+=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(values[i])+(i+1!==values.length?values[i+1]:"");return content}function interpolation1(lView,prefix,v0,suffix=""){return bindingUpdated(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)(),v0)?prefix+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v0)+suffix:NO_CHANGE}function interpolation2(lView,prefix,v0,i0,v1,suffix=""){const different=bindingUpdated2(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.c$7)(),v0,v1);return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b$O)(2),different?prefix+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v0)+i0+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v1)+suffix:NO_CHANGE}function interpolation3(lView,prefix,v0,i0,v1,i1,v2,suffix=""){const different=bindingUpdated3(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.c$7)(),v0,v1,v2);return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b$O)(3),different?prefix+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v0)+i0+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v1)+i1+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v2)+suffix:NO_CHANGE}function interpolation4(lView,prefix,v0,i0,v1,i1,v2,i2,v3,suffix=""){const different=bindingUpdated4(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.c$7)(),v0,v1,v2,v3);return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b$O)(4),different?prefix+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v0)+i0+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v1)+i1+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v2)+i2+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v3)+suffix:NO_CHANGE}function interpolation5(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix=""){const bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.c$7)();let different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);return different=bindingUpdated(lView,bindingIndex+4,v4)||different,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b$O)(5),different?prefix+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v0)+i0+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v1)+i1+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v2)+i2+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v3)+i3+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v4)+suffix:NO_CHANGE}function interpolation6(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix=""){const bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.c$7)();let different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);return different=bindingUpdated2(lView,bindingIndex+4,v4,v5)||different,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b$O)(6),different?prefix+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v0)+i0+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v1)+i1+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v2)+i2+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v3)+i3+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v4)+i4+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v5)+suffix:NO_CHANGE}function interpolation7(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix=""){const bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.c$7)();let different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);return different=bindingUpdated3(lView,bindingIndex+4,v4,v5,v6)||different,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b$O)(7),different?prefix+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v0)+i0+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v1)+i1+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v2)+i2+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v3)+i3+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v4)+i4+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v5)+i5+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v6)+suffix:NO_CHANGE}function interpolation8(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix=""){const bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.c$7)();let different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);return different=bindingUpdated4(lView,bindingIndex+4,v4,v5,v6,v7)||different,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b$O)(8),different?prefix+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v0)+i0+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v1)+i1+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v2)+i2+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v3)+i3+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v4)+i4+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v5)+i5+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v6)+i6+(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v7)+suffix:NO_CHANGE}function ɵɵtextInterpolate(v0){return ɵɵtextInterpolate1("",v0),ɵɵtextInterpolate}function ɵɵtextInterpolate1(prefix,v0,suffix){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),interpolated=interpolation1(lView,prefix,v0,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)(),interpolated),ɵɵtextInterpolate1}function ɵɵtextInterpolate2(prefix,v0,i0,v1,suffix){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),interpolated=interpolation2(lView,prefix,v0,i0,v1,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)(),interpolated),ɵɵtextInterpolate2}function ɵɵtextInterpolate3(prefix,v0,i0,v1,i1,v2,suffix){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),interpolated=interpolation3(lView,prefix,v0,i0,v1,i1,v2,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)(),interpolated),ɵɵtextInterpolate3}function ɵɵtextInterpolate4(prefix,v0,i0,v1,i1,v2,i2,v3,suffix){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),interpolated=interpolation4(lView,prefix,v0,i0,v1,i1,v2,i2,v3,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)(),interpolated),ɵɵtextInterpolate4}function ɵɵtextInterpolate5(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),interpolated=interpolation5(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)(),interpolated),ɵɵtextInterpolate5}function ɵɵtextInterpolate6(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),interpolated=interpolation6(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)(),interpolated),ɵɵtextInterpolate6}function ɵɵtextInterpolate7(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),interpolated=interpolation7(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)(),interpolated),ɵɵtextInterpolate7}function ɵɵtextInterpolate8(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),interpolated=interpolation8(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)(),interpolated),ɵɵtextInterpolate8}function ɵɵtextInterpolateV(values){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),interpolated=interpolationV(lView,values);return interpolated!==NO_CHANGE&&textBindingInternal(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)(),interpolated),ɵɵtextInterpolateV}function textBindingInternal(lView,index,value){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Cv0)(value,"Value should be a string"),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.IAh)(value,NO_CHANGE,"value should not be NO_CHANGE"),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView,index);const element=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.vaC)(index,lView);ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(element,"native element should exist"),updateTextNode(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],element,value)}function ɵɵtwoWayProperty(propName,value,sanitizer){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.n$r)(value)&&(value=value());const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)();if(bindingUpdated(lView,bindingIndex,value)){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CpD)();setPropertyAndInputs(tNode,lView,propName,value,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],sanitizer),ngDevMode&&storePropertyBindingMetadata(tView.data,tNode,propName,bindingIndex)}return ɵɵtwoWayProperty}function ɵɵtwoWayBindingSet(target,value){const canWrite=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.n$r)(target);return canWrite&&target.set(value),canWrite}function ɵɵtwoWayListener(eventName,listenerFn){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();return listenerInternal(tView,lView,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT],tNode,eventName,listenerFn),ɵɵtwoWayListener}const UNINITIALIZED_LET={};function ɵɵdeclareLet(index){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,tNode=getOrCreateTNode(tView,adjustedIndex,128,null,null);return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iMd)(tNode,!1),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M_e)(tView,lView,adjustedIndex,UNINITIALIZED_LET),ɵɵdeclareLet}function ɵɵstoreLet(value){performanceMarkFeature("NgLet");const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),index=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__._px)();return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M_e)(tView,lView,index,value),value}function ɵɵreadContextLet(index){const contextLView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VPL)(),value=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Hh6)(contextLView,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1+index);if(value===UNINITIALIZED_LET)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(314,ngDevMode&&"Attempting to access a @let declaration whose value is not available yet");return value}function ɵɵattachSourceLocations(templatePath,locations){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),renderer=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT];for(const[index,offset,line,column]of locations){const tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.XRZ)(tView,index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1);ngDevMode&&assertTNodeType(tNode,2);const node=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.vaC)(index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,lView);if(!node.hasAttribute("data-ng-source-location")){const attributeValue=`${templatePath}@o:${offset},l:${line},c:${column}`;renderer.setAttribute(node,"data-ng-source-location",attributeValue)}}}function ɵɵinterpolate(v0){return bindingUpdated((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xbp)(),v0)?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(v0):NO_CHANGE}function ɵɵinterpolate1(prefix,v0,suffix=""){return interpolation1((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),prefix,v0,suffix)}function ɵɵinterpolate2(prefix,v0,i0,v1,suffix=""){return interpolation2((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),prefix,v0,i0,v1,suffix)}function ɵɵinterpolate3(prefix,v0,i0,v1,i1,v2,suffix=""){return interpolation3((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),prefix,v0,i0,v1,i1,v2,suffix)}function ɵɵinterpolate4(prefix,v0,i0,v1,i1,v2,i2,v3,suffix=""){return interpolation4((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),prefix,v0,i0,v1,i1,v2,i2,v3,suffix)}function ɵɵinterpolate5(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix=""){return interpolation5((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix)}function ɵɵinterpolate6(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix=""){return interpolation6((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix)}function ɵɵinterpolate7(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix=""){return interpolation7((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix)}function ɵɵinterpolate8(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix=""){return interpolation8((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix)}function ɵɵinterpolateV(values){return interpolationV((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),values)}function resolveProvider(provider,tInjectables,lInjectablesBlueprint,isComponent,isViewProvider){if(provider=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(provider),Array.isArray(provider))for(let i=0;i<provider.length;i++)resolveProvider(provider[i],tInjectables,lInjectablesBlueprint,isComponent,isViewProvider);else{const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)(),lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),tNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)();let token=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y3W)(provider)?provider:(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(provider.provide);const providerFactory=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Rc9)(provider);if(ngDevMode){const injector=new NodeInjector(tNode,lView);(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.XaM)(injector,token,()=>{(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nZS)(provider,isViewProvider)})}const beginIndex=1048575&tNode.providerIndexes,endIndex=tNode.directiveStart,cptViewProvidersCount=tNode.providerIndexes>>20;if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y3W)(provider)||!provider.multi){const factory=new NodeInjectorFactory(providerFactory,isViewProvider,ɵɵdirectiveInject,ngDevMode?providerName(provider):null),existingFactoryIndex=indexOf(token,tInjectables,isViewProvider?beginIndex:beginIndex+cptViewProvidersCount,endIndex);-1===existingFactoryIndex?(diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,lView),tView,token),registerDestroyHooksIfSupported(tView,provider,tInjectables.length),tInjectables.push(token),tNode.directiveStart++,tNode.directiveEnd++,isViewProvider&&(tNode.providerIndexes+=1048576),lInjectablesBlueprint.push(factory),lView.push(factory)):(lInjectablesBlueprint[existingFactoryIndex]=factory,lView[existingFactoryIndex]=factory)}else{const existingProvidersFactoryIndex=indexOf(token,tInjectables,beginIndex+cptViewProvidersCount,endIndex),existingViewProvidersFactoryIndex=indexOf(token,tInjectables,beginIndex,beginIndex+cptViewProvidersCount),doesProvidersFactoryExist=existingProvidersFactoryIndex>=0&&lInjectablesBlueprint[existingProvidersFactoryIndex],doesViewProvidersFactoryExist=existingViewProvidersFactoryIndex>=0&&lInjectablesBlueprint[existingViewProvidersFactoryIndex];if(isViewProvider&&!doesViewProvidersFactoryExist||!isViewProvider&&!doesProvidersFactoryExist){diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,lView),tView,token);const factory=function multiFactory(factoryFn,index,isViewProvider,isComponent,f,provider){const factory=new NodeInjectorFactory(factoryFn,isViewProvider,ɵɵdirectiveInject,ngDevMode?providerName(provider):null);return factory.multi=[],factory.index=index,factory.componentProviders=0,multiFactoryAdd(factory,f,isComponent&&!isViewProvider),factory}(isViewProvider?multiViewProvidersFactoryResolver:multiProvidersFactoryResolver,lInjectablesBlueprint.length,isViewProvider,isComponent,providerFactory,provider);!isViewProvider&&doesViewProvidersFactoryExist&&(lInjectablesBlueprint[existingViewProvidersFactoryIndex].providerFactory=factory),registerDestroyHooksIfSupported(tView,provider,tInjectables.length,0),tInjectables.push(token),tNode.directiveStart++,tNode.directiveEnd++,isViewProvider&&(tNode.providerIndexes+=1048576),lInjectablesBlueprint.push(factory),lView.push(factory)}else{const indexInFactory=multiFactoryAdd(lInjectablesBlueprint[isViewProvider?existingViewProvidersFactoryIndex:existingProvidersFactoryIndex],providerFactory,!isViewProvider&&isComponent);registerDestroyHooksIfSupported(tView,provider,existingProvidersFactoryIndex>-1?existingProvidersFactoryIndex:existingViewProvidersFactoryIndex,indexInFactory)}!isViewProvider&&isComponent&&doesViewProvidersFactoryExist&&lInjectablesBlueprint[existingViewProvidersFactoryIndex].componentProviders++}}}function registerDestroyHooksIfSupported(tView,provider,contextIndex,indexInFactory){const providerIsTypeProvider=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y3W)(provider),providerIsClassProvider=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MME)(provider);if(providerIsTypeProvider||providerIsClassProvider){const ngOnDestroy=(providerIsClassProvider?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(provider.useClass):provider).prototype.ngOnDestroy;if(ngOnDestroy){const hooks=tView.destroyHooks||(tView.destroyHooks=[]);if(!providerIsTypeProvider&&provider.multi){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(indexInFactory,"indexInFactory when registering multi factory destroy hook");const existingCallbacksIndex=hooks.indexOf(contextIndex);-1===existingCallbacksIndex?hooks.push(contextIndex,[indexInFactory,ngOnDestroy]):hooks[existingCallbacksIndex+1].push(indexInFactory,ngOnDestroy)}else hooks.push(contextIndex,ngOnDestroy)}}}function multiFactoryAdd(multiFactory,factory,isComponentProvider){return isComponentProvider&&multiFactory.componentProviders++,multiFactory.multi.push(factory)-1}function indexOf(item,arr,begin,end){for(let i=begin;i<end;i++)if(arr[i]===item)return i;return-1}function multiProvidersFactoryResolver(_,flags,tData,lData,tNode){return multiResolve(this.multi,[])}function multiViewProvidersFactoryResolver(_,_flags,_tData,lView,tNode){const factories=this.multi;let result;if(this.providerFactory){const componentCount=this.providerFactory.componentProviders,multiProviders=getNodeInjectable(lView,lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],this.providerFactory.index,tNode);result=multiProviders.slice(0,componentCount),multiResolve(factories,result);for(let i=componentCount;i<multiProviders.length;i++)result.push(multiProviders[i])}else result=[],multiResolve(factories,result);return result}function multiResolve(factories,result){for(let i=0;i<factories.length;i++){const factory=factories[i];result.push(factory())}return result}function providerName(provider){return Array.isArray(provider)?null:(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y3W)(provider)?provider.name:(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MME)(provider)?provider.provide instanceof _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC?`('${provider.provide.toString()}':${provider.useClass.name})`:provider.useClass.name:provider.provide instanceof _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC?provider.provide.toString():"string"==typeof provider.provide?provider.provide:null}function ɵɵProvidersFeature(providers,viewProviders=[]){return definition=>{definition.providersResolver=(def,processProvidersFn)=>function providersResolver(def,providers,viewProviders){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)();if(tView.firstCreatePass){const isComponent=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.JlV)(def);resolveProvider(viewProviders,tView.data,tView.blueprint,isComponent,!0),resolveProvider(providers,tView.data,tView.blueprint,isComponent,!1)}}(def,processProvidersFn?processProvidersFn(providers):providers,viewProviders)}}function ɵɵExternalStylesFeature(styleUrls){return definition=>{styleUrls.length<1||(definition.getExternalStyles=encapsulationId=>styleUrls.map(value=>value+"?ngcomp"+(encapsulationId?"="+encodeURIComponent(encapsulationId):"")+"&e="+definition.encapsulation))}}function ɵɵsetComponentScope(type,directives,pipes){const def=type.ɵcmp;def.directiveDefs=extractDefListOrFactory(directives,extractDirectiveDef),def.pipeDefs=extractDefListOrFactory(pipes,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oyA)}function ɵɵsetNgModuleScope(type,scope){return noSideEffects(()=>{const ngModuleDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WbQ)(type);ngModuleDef.declarations=convertToTypeArray(scope.declarations||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv),ngModuleDef.imports=convertToTypeArray(scope.imports||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv),ngModuleDef.exports=convertToTypeArray(scope.exports||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv),scope.bootstrap&&(ngModuleDef.bootstrap=convertToTypeArray(scope.bootstrap)),depsTracker.registerNgModule(type,scope)})}function convertToTypeArray(values){if("function"==typeof values)return values;const flattenValues=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Bqz)(values);return flattenValues.some(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Jzi)?()=>flattenValues.map(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4).map(maybeUnwrapModuleWithProviders):flattenValues.map(maybeUnwrapModuleWithProviders)}function maybeUnwrapModuleWithProviders(value){return isModuleWithProviders(value)?value.ngModule:value}function ɵɵpureFunction0(slotOffset,pureFn,thisArg){const bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)()+slotOffset,lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)();return lView[bindingIndex]===NO_CHANGE?updateBinding(lView,bindingIndex,thisArg?pureFn.call(thisArg):pureFn()):getBinding(lView,bindingIndex)}function ɵɵpureFunction1(slotOffset,pureFn,exp,thisArg){return pureFunction1Internal((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)(),slotOffset,pureFn,exp,thisArg)}function ɵɵpureFunction2(slotOffset,pureFn,exp1,exp2,thisArg){return pureFunction2Internal((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)(),slotOffset,pureFn,exp1,exp2,thisArg)}function ɵɵpureFunction3(slotOffset,pureFn,exp1,exp2,exp3,thisArg){return pureFunction3Internal((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)(),slotOffset,pureFn,exp1,exp2,exp3,thisArg)}function ɵɵpureFunction4(slotOffset,pureFn,exp1,exp2,exp3,exp4,thisArg){return pureFunction4Internal((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)(),slotOffset,pureFn,exp1,exp2,exp3,exp4,thisArg)}function ɵɵpureFunction5(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,thisArg){const bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)()+slotOffset,lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated(lView,bindingIndex+4,exp5)||different?updateBinding(lView,bindingIndex+5,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5):pureFn(exp1,exp2,exp3,exp4,exp5)):getBinding(lView,bindingIndex+5)}function ɵɵpureFunction6(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,exp6,thisArg){const bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)()+slotOffset,lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated2(lView,bindingIndex+4,exp5,exp6)||different?updateBinding(lView,bindingIndex+6,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5,exp6):pureFn(exp1,exp2,exp3,exp4,exp5,exp6)):getBinding(lView,bindingIndex+6)}function ɵɵpureFunction7(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,exp6,exp7,thisArg){const bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)()+slotOffset,lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)();let different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated3(lView,bindingIndex+4,exp5,exp6,exp7)||different?updateBinding(lView,bindingIndex+7,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5,exp6,exp7):pureFn(exp1,exp2,exp3,exp4,exp5,exp6,exp7)):getBinding(lView,bindingIndex+7)}function ɵɵpureFunction8(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,exp6,exp7,exp8,thisArg){const bindingIndex=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)()+slotOffset,lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated4(lView,bindingIndex+4,exp5,exp6,exp7,exp8)||different?updateBinding(lView,bindingIndex+8,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5,exp6,exp7,exp8):pureFn(exp1,exp2,exp3,exp4,exp5,exp6,exp7,exp8)):getBinding(lView,bindingIndex+8)}function ɵɵpureFunctionV(slotOffset,pureFn,exps,thisArg){return pureFunctionVInternal((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)(),slotOffset,pureFn,exps,thisArg)}function getPureFunctionReturnValue(lView,returnValueIndex){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.tF7)(lView,returnValueIndex);const lastReturnValue=lView[returnValueIndex];return lastReturnValue===NO_CHANGE?void 0:lastReturnValue}function pureFunction1Internal(lView,bindingRoot,slotOffset,pureFn,exp,thisArg){const bindingIndex=bindingRoot+slotOffset;return bindingUpdated(lView,bindingIndex,exp)?updateBinding(lView,bindingIndex+1,thisArg?pureFn.call(thisArg,exp):pureFn(exp)):getPureFunctionReturnValue(lView,bindingIndex+1)}function pureFunction2Internal(lView,bindingRoot,slotOffset,pureFn,exp1,exp2,thisArg){const bindingIndex=bindingRoot+slotOffset;return bindingUpdated2(lView,bindingIndex,exp1,exp2)?updateBinding(lView,bindingIndex+2,thisArg?pureFn.call(thisArg,exp1,exp2):pureFn(exp1,exp2)):getPureFunctionReturnValue(lView,bindingIndex+2)}function pureFunction3Internal(lView,bindingRoot,slotOffset,pureFn,exp1,exp2,exp3,thisArg){const bindingIndex=bindingRoot+slotOffset;return bindingUpdated3(lView,bindingIndex,exp1,exp2,exp3)?updateBinding(lView,bindingIndex+3,thisArg?pureFn.call(thisArg,exp1,exp2,exp3):pureFn(exp1,exp2,exp3)):getPureFunctionReturnValue(lView,bindingIndex+3)}function pureFunction4Internal(lView,bindingRoot,slotOffset,pureFn,exp1,exp2,exp3,exp4,thisArg){const bindingIndex=bindingRoot+slotOffset;return bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4)?updateBinding(lView,bindingIndex+4,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4):pureFn(exp1,exp2,exp3,exp4)):getPureFunctionReturnValue(lView,bindingIndex+4)}function pureFunctionVInternal(lView,bindingRoot,slotOffset,pureFn,exps,thisArg){let bindingIndex=bindingRoot+slotOffset,different=!1;for(let i=0;i<exps.length;i++)bindingUpdated(lView,bindingIndex++,exps[i])&&(different=!0);return different?updateBinding(lView,bindingIndex,pureFn.apply(thisArg,exps)):getPureFunctionReturnValue(lView,bindingIndex)}function ɵɵpipe(index,pipeName){const tView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.klJ)();let pipeDef;const adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1;tView.firstCreatePass?(pipeDef=function getPipeDef(name,registry){if(registry){if(ngDevMode){registry.filter(pipe=>pipe.name===name).length>1&&console.warn((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OsK)(313,function getMultipleMatchingPipesMessage(name){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),context=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP],hostIsStandalone=isHostComponentStandalone(lView),componentInfoMessage=context?` in the '${context.constructor.name}' component`:"",errorMessage=`Multiple pipes match the name \`${name}\`${componentInfoMessage}. ${"check "+(hostIsStandalone?"'@Component.imports' of this component":"the imports of this module")}`;return errorMessage}(name)))}for(let i=registry.length-1;i>=0;i--){const pipeDef=registry[i];if(name===pipeDef.name)return pipeDef}}if(ngDevMode)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(-302,function getPipeNotFoundErrorMessage(name){const lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),context=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C][_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP],hostIsStandalone=isHostComponentStandalone(lView),componentInfoMessage=context?` in the '${context.constructor.name}' component`:"",errorMessage=`The pipe '${name}' could not be found${componentInfoMessage}. ${"Verify that it is "+(hostIsStandalone?"included in the '@Component.imports' of this component":"declared or imported in this module")}`;return errorMessage}(name));return}(pipeName,tView.pipeRegistry),tView.data[adjustedIndex]=pipeDef,pipeDef.onDestroy&&(tView.destroyHooks??=[]).push(adjustedIndex,pipeDef.onDestroy)):pipeDef=tView.data[adjustedIndex];const pipeFactory=pipeDef.factory||(pipeDef.factory=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.wGu)(pipeDef.type,!0));let previousInjectorProfilerContext;ngDevMode&&(previousInjectorProfilerContext=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.DFp)({injector:new NodeInjector((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mx4)(),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)()),token:pipeDef.type}));const previousInjectImplementation=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.a2B)(ɵɵdirectiveInject);try{const previousIncludeViewProviders=setIncludeViewProviders(!1),pipeInstance=pipeFactory();return setIncludeViewProviders(previousIncludeViewProviders),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M_e)(tView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),adjustedIndex,pipeInstance),pipeInstance}finally{(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.a2B)(previousInjectImplementation),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.DFp)(previousInjectorProfilerContext)}}function ɵɵpipeBind1(index,offset,v1){const adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),pipeInstance=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Hh6)(lView,adjustedIndex);return isPure(lView,adjustedIndex)?pureFunction1Internal(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)(),offset,pipeInstance.transform,v1,pipeInstance):pipeInstance.transform(v1)}function ɵɵpipeBind2(index,slotOffset,v1,v2){const adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),pipeInstance=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Hh6)(lView,adjustedIndex);return isPure(lView,adjustedIndex)?pureFunction2Internal(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)(),slotOffset,pipeInstance.transform,v1,v2,pipeInstance):pipeInstance.transform(v1,v2)}function ɵɵpipeBind3(index,slotOffset,v1,v2,v3){const adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),pipeInstance=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Hh6)(lView,adjustedIndex);return isPure(lView,adjustedIndex)?pureFunction3Internal(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)(),slotOffset,pipeInstance.transform,v1,v2,v3,pipeInstance):pipeInstance.transform(v1,v2,v3)}function ɵɵpipeBind4(index,slotOffset,v1,v2,v3,v4){const adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),pipeInstance=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Hh6)(lView,adjustedIndex);return isPure(lView,adjustedIndex)?pureFunction4Internal(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)(),slotOffset,pipeInstance.transform,v1,v2,v3,v4,pipeInstance):pipeInstance.transform(v1,v2,v3,v4)}function ɵɵpipeBindV(index,slotOffset,values){const adjustedIndex=index+_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1,lView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OAn)(),pipeInstance=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Hh6)(lView,adjustedIndex);return isPure(lView,adjustedIndex)?pureFunctionVInternal(lView,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.gxQ)(),slotOffset,pipeInstance.transform,values,pipeInstance):pipeInstance.transform.apply(pipeInstance,values)}function isPure(lView,index){return lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data[index].pure}function ɵɵtemplateRefExtractor(tNode,lView){return createTemplateRef(tNode,lView)}function ɵɵgetComponentDepsFactory(type,rawImports){return()=>{try{return depsTracker.getComponentDependencies(type,rawImports).dependencies}catch(e){throw console.error(`Computing dependencies in local compilation mode for the component "${type.name}" failed with the exception:`,e),e}}}function ɵsetClassDebugInfo(type,debugInfo){const def=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type);null!==def&&(def.debugInfo=debugInfo)}function ɵɵgetReplaceMetadataURL(id,timestamp,base){const url=`./@ng/component?c=${id}&t=${encodeURIComponent(timestamp)}`;return new URL(url,base).href}function ɵɵreplaceMetadata(type,applyMetadata,namespaces,locals,importMeta=null,id=null){ngDevMode&&assertComponentDef(type);const currentDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type);applyMetadata.apply(null,[type,namespaces,...locals]);const{newDef,oldDef}=function mergeWithExistingDefinition(currentDef,newDef){const clone={...currentDef},replacement=Object.assign(currentDef,newDef,{directiveDefs:clone.directiveDefs,pipeDefs:clone.pipeDefs,setInput:clone.setInput,type:clone.type});return ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Xln)(replacement,currentDef,"Expected definition to be merged in place"),{newDef:replacement,oldDef:clone}}(currentDef,(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type));if(type[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CQl]=newDef,oldDef.tView){const trackedViews=function getTrackedLViews(){return TRACKED_LVIEWS}().values();for(const root of trackedViews)(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EFk)(root)&&null===root[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T]&&recreateMatchingLViews(importMeta,id,newDef,oldDef,root)}}function recreateMatchingLViews(importMeta,id,newDef,oldDef,rootLView){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(oldDef.tView,"Expected a component definition that has been instantiated at least once");const tView=rootLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl];if(tView===oldDef.tView)return ngDevMode&&assertComponentDef(oldDef.type),void function recreateLView(importMeta,id,newDef,oldDef,lView){const instance=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SKP];let host=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP];const parentLView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T];ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MdC)(parentLView);const tNode=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT];ngDevMode&&assertTNodeType(tNode,2),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iw4)(newDef,oldDef,"Expected different component definition");const zone=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.YEL].get(NgZone,null),recreate=()=>{if(oldDef.encapsulation===ViewEncapsulation.ShadowDom){const newHost=host.cloneNode(!1);host.replaceWith(newHost),host=newHost}const newTView=getOrCreateComponentTView(newDef),newLView=createLView(parentLView,newTView,instance,getInitialLViewFlagsFromDef(newDef),host,tNode,null,null,null,null,null);!function replaceLViewInTree(parentLView,oldLView,newLView,index){for(let i=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1;i<parentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].bindingStartIndex;i++){const current=parentLView[i];if(((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(current)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.A0l)(current))&&current[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29]===oldLView){current[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29]=newLView;break}}parentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EJG]===oldLView&&(parentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EJG]=newLView);parentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yrj]===oldLView&&(parentLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yrj]=newLView);newLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29]=oldLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29],oldLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.K29]=null,parentLView[index]=newLView}(parentLView,lView,newLView,tNode.index),destroyLView(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],lView);const rendererFactory=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.M0L].rendererFactory;!function clearRendererCache(factory,def){factory.componentReplaced?.(def.id)}(rendererFactory,oldDef),newLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GpT]=rendererFactory.createRenderer(host,newDef),removeViewFromDOM(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],lView),function resetProjectionState(tNode){if(null!==tNode.projection){for(const current of tNode.projection)isTNodeShape(current)&&(current.projectionNext=null,current.flags&=-3);tNode.projection=null}}(tNode),renderView(newTView,newLView,instance),refreshView(newTView,newLView,newTView.template,instance)};null===zone?executeWithInvalidateFallback(importMeta,id,recreate):zone.run(()=>executeWithInvalidateFallback(importMeta,id,recreate))}(importMeta,id,newDef,oldDef,rootLView);for(let i=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Yw1;i<tView.bindingStartIndex;i++){const current=rootLView[i];if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.A0l)(current)){(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(current[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP])&&recreateMatchingLViews(importMeta,id,newDef,oldDef,current[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jgP]);for(let j=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20;j<current.length;j++)recreateMatchingLViews(importMeta,id,newDef,oldDef,current[j])}else(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.q$2)(current)&&recreateMatchingLViews(importMeta,id,newDef,oldDef,current)}}function executeWithInvalidateFallback(importMeta,id,callback){try{callback()}catch(e){const error=e;if(null!==id&&error.message){const toLog=error.message+(error.stack?"\n"+error.stack:"");importMeta?.hot?.send?.("angular:invalidate",{id,message:toLog,error:!0})}throw e}}const angularCoreEnv={ɵɵanimateEnter,ɵɵanimateEnterListener,ɵɵanimateLeave,ɵɵanimateLeaveListener,ɵɵattribute,ɵɵdefineComponent,ɵɵdefineDirective,ɵɵdefineInjectable:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH,ɵɵdefineInjector:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.G2t,ɵɵdefineNgModule,ɵɵdefinePipe,ɵɵdirectiveInject,ɵɵgetInheritedFactory,ɵɵinject:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KVO,ɵɵinjectAttribute,ɵɵinvalidFactory,ɵɵinvalidFactoryDep:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.dmw,ɵɵtemplateRefExtractor,ɵɵresetView:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Njj,ɵɵHostDirectivesFeature,ɵɵNgOnChangesFeature,ɵɵProvidersFeature,ɵɵCopyDefinitionFeature,ɵɵInheritDefinitionFeature,ɵɵExternalStylesFeature,ɵɵnextContext,ɵɵnamespaceHTML:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.joV,ɵɵnamespaceMathML:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.By9,ɵɵnamespaceSVG:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qSk,ɵɵenableBindings:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.cSN,ɵɵdisableBindings:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.fuf,ɵɵelementStart,ɵɵelementEnd,ɵɵelement,ɵɵelementContainerStart,ɵɵelementContainerEnd,ɵɵdomElement,ɵɵdomElementStart,ɵɵdomElementEnd,ɵɵdomElementContainer,ɵɵdomElementContainerStart,ɵɵdomElementContainerEnd,ɵɵdomTemplate,ɵɵdomListener,ɵɵelementContainer,ɵɵpureFunction0,ɵɵpureFunction1,ɵɵpureFunction2,ɵɵpureFunction3,ɵɵpureFunction4,ɵɵpureFunction5,ɵɵpureFunction6,ɵɵpureFunction7,ɵɵpureFunction8,ɵɵpureFunctionV,ɵɵgetCurrentView,ɵɵrestoreView:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eBV,ɵɵlistener,ɵɵprojection,ɵɵsyntheticHostProperty,ɵɵsyntheticHostListener,ɵɵpipeBind1,ɵɵpipeBind2,ɵɵpipeBind3,ɵɵpipeBind4,ɵɵpipeBindV,ɵɵprojectionDef,ɵɵdomProperty,ɵɵariaProperty,ɵɵproperty,ɵɵpipe,ɵɵqueryRefresh,ɵɵqueryAdvance,ɵɵviewQuery,ɵɵviewQuerySignal,ɵɵloadQuery,ɵɵcontentQuery,ɵɵcontentQuerySignal,ɵɵreference,ɵɵclassMap,ɵɵstyleMap,ɵɵstyleProp,ɵɵclassProp,ɵɵadvance,ɵɵtemplate,ɵɵconditional,ɵɵconditionalCreate,ɵɵconditionalBranchCreate,ɵɵdefer,ɵɵdeferWhen,ɵɵdeferOnIdle,ɵɵdeferOnImmediate,ɵɵdeferOnTimer,ɵɵdeferOnHover,ɵɵdeferOnInteraction,ɵɵdeferOnViewport,ɵɵdeferPrefetchWhen,ɵɵdeferPrefetchOnIdle,ɵɵdeferPrefetchOnImmediate,ɵɵdeferPrefetchOnTimer,ɵɵdeferPrefetchOnHover,ɵɵdeferPrefetchOnInteraction,ɵɵdeferPrefetchOnViewport,ɵɵdeferHydrateWhen,ɵɵdeferHydrateNever,ɵɵdeferHydrateOnIdle,ɵɵdeferHydrateOnImmediate,ɵɵdeferHydrateOnTimer,ɵɵdeferHydrateOnHover,ɵɵdeferHydrateOnInteraction,ɵɵdeferHydrateOnViewport,ɵɵdeferEnableTimerScheduling,ɵɵrepeater,ɵɵrepeaterCreate,ɵɵrepeaterTrackByIndex,ɵɵrepeaterTrackByIdentity,ɵɵcomponentInstance,ɵɵtext,ɵɵtextInterpolate,ɵɵtextInterpolate1,ɵɵtextInterpolate2,ɵɵtextInterpolate3,ɵɵtextInterpolate4,ɵɵtextInterpolate5,ɵɵtextInterpolate6,ɵɵtextInterpolate7,ɵɵtextInterpolate8,ɵɵtextInterpolateV,ɵɵi18n,ɵɵi18nAttributes,ɵɵi18nExp,ɵɵi18nStart,ɵɵi18nEnd,ɵɵi18nApply,ɵɵi18nPostprocess,ɵɵresolveWindow,ɵɵresolveDocument,ɵɵresolveBody,ɵɵsetComponentScope,ɵɵsetNgModuleScope,ɵɵregisterNgModuleType:registerNgModuleType,ɵɵgetComponentDepsFactory,ɵsetClassDebugInfo,ɵɵdeclareLet,ɵɵstoreLet,ɵɵreadContextLet,ɵɵattachSourceLocations,ɵɵinterpolate,ɵɵinterpolate1,ɵɵinterpolate2,ɵɵinterpolate3,ɵɵinterpolate4,ɵɵinterpolate5,ɵɵinterpolate6,ɵɵinterpolate7,ɵɵinterpolate8,ɵɵinterpolateV,ɵɵsanitizeHtml,ɵɵsanitizeStyle,ɵɵsanitizeResourceUrl,ɵɵsanitizeScript,ɵɵvalidateAttribute,ɵɵsanitizeUrl,ɵɵsanitizeUrlOrResourceUrl,ɵɵtrustConstantHtml,ɵɵtrustConstantResourceUrl,forwardRef:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Rfq,resolveForwardRef:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4,ɵɵtwoWayProperty,ɵɵtwoWayBindingSet,ɵɵtwoWayListener,ɵɵreplaceMetadata,ɵɵgetReplaceMetadataURL};let jitOptions=null;function setJitOptions(options){if(null!==jitOptions){if(options.defaultEncapsulation!==jitOptions.defaultEncapsulation)return void(ngDevMode&&console.error("Provided value for `defaultEncapsulation` can not be changed once it has been set."));if(options.preserveWhitespaces!==jitOptions.preserveWhitespaces)return void(ngDevMode&&console.error("Provided value for `preserveWhitespaces` can not be changed once it has been set."))}jitOptions=options}function resetJitOptions(){jitOptions=null}const moduleQueue=[];let flushingModuleQueue=!1;function flushModuleScopingQueueAsMuchAsPossible(){if(!flushingModuleQueue){flushingModuleQueue=!0;try{for(let i=moduleQueue.length-1;i>=0;i--){const{moduleType,ngModule}=moduleQueue[i];ngModule.declarations&&ngModule.declarations.every(isResolvedDeclaration)&&(moduleQueue.splice(i,1),setScopeOnDeclaredComponents(moduleType,ngModule))}}finally{flushingModuleQueue=!1}}}function isResolvedDeclaration(declaration){return Array.isArray(declaration)?declaration.every(isResolvedDeclaration):!!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(declaration)}function compileNgModule(moduleType,ngModule={}){compileNgModuleDefs(moduleType,ngModule),void 0!==ngModule.id&&registerNgModuleType(moduleType,ngModule.id),function enqueueModuleForDelayedScoping(moduleType,ngModule){moduleQueue.push({moduleType,ngModule})}(moduleType,ngModule)}function compileNgModuleDefs(moduleType,ngModule,allowDuplicateDeclarationsInRoot=!1){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(moduleType,"Required value moduleType"),ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.iYM)(ngModule,"Required value ngModule");const declarations=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Bqz)(ngModule.declarations||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv);let ngModuleDef=null;Object.defineProperty(moduleType,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.hmW,{configurable:!0,get:()=>{if(null===ngModuleDef){if(ngDevMode&&ngModule.imports&&ngModule.imports.indexOf(moduleType)>-1)throw new Error(`'${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(moduleType)}' module can't import itself`);const compiler=getCompilerFacade({usage:0,kind:"NgModule",type:moduleType});ngModuleDef=compiler.compileNgModule(angularCoreEnv,`ng:///${moduleType.name}/ɵmod.js`,{type:moduleType,bootstrap:(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Bqz)(ngModule.bootstrap||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv).map(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4),declarations:declarations.map(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4),imports:(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Bqz)(ngModule.imports||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv).map(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4).map(expandModuleWithProviders),exports:(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Bqz)(ngModule.exports||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv).map(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4).map(expandModuleWithProviders),schemas:ngModule.schemas?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Bqz)(ngModule.schemas):null,id:ngModule.id||null}),ngModuleDef.schemas||(ngModuleDef.schemas=[])}return ngModuleDef}});let ngFactoryDef=null;Object.defineProperty(moduleType,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zSs,{get:()=>{if(null===ngFactoryDef){const compiler=getCompilerFacade({usage:0,kind:"NgModule",type:moduleType});ngFactoryDef=compiler.compileFactory(angularCoreEnv,`ng:///${moduleType.name}/ɵfac.js`,{name:moduleType.name,type:moduleType,deps:reflectDependencies(moduleType),target:compiler.FactoryTarget.NgModule,typeArgumentCount:0})}return ngFactoryDef},configurable:!!ngDevMode});let ngInjectorDef=null;Object.defineProperty(moduleType,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ONQ,{get:()=>{if(null===ngInjectorDef){ngDevMode&&verifySemanticsOfNgModuleDef(moduleType,allowDuplicateDeclarationsInRoot);const meta={name:moduleType.name,type:moduleType,providers:ngModule.providers||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv,imports:[(ngModule.imports||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv).map(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4),(ngModule.exports||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv).map(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)]},compiler=getCompilerFacade({usage:0,kind:"NgModule",type:moduleType});ngInjectorDef=compiler.compileInjector(angularCoreEnv,`ng:///${moduleType.name}/ɵinj.js`,meta)}return ngInjectorDef},configurable:!!ngDevMode})}function generateStandaloneInDeclarationsError(type,location){return`${`Unexpected "${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)}" found in the "declarations" array of the`} ${location}, ${`"${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)}" is marked as standalone and can't be declared in any NgModule - did you intend to import it instead (by adding it to the "imports" array)?`}`}function verifySemanticsOfNgModuleDef(moduleType,allowDuplicateDeclarationsInRoot,importingModule){if(verifiedNgModule.get(moduleType))return;if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.QuC)(moduleType))return;let ngModuleDef;if(verifiedNgModule.set(moduleType,!0),moduleType=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(moduleType),importingModule){if(ngModuleDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.phH)(moduleType),!ngModuleDef)throw new Error(`Unexpected value '${moduleType.name}' imported by the module '${importingModule.name}'. Please add an @NgModule annotation.`)}else ngModuleDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WbQ)(moduleType);const errors=[],declarations=maybeUnwrapFn(ngModuleDef.declarations),imports=maybeUnwrapFn(ngModuleDef.imports);(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Bqz)(imports).map(unwrapModuleWithProvidersImports).forEach(modOrStandaloneCmpt=>{verifySemanticsOfNgModuleImport(modOrStandaloneCmpt,moduleType),verifySemanticsOfNgModuleDef(modOrStandaloneCmpt,!1,moduleType)});const exports=maybeUnwrapFn(ngModuleDef.exports);declarations.forEach(function verifyDeclarationsHaveDefinitions(type){type=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(type);(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(type)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oyA)(type)||errors.push(`Unexpected value '${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)}' declared by the module '${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(moduleType)}'. Please add a @Pipe/@Directive/@Component annotation.`)}),declarations.forEach(function verifyDirectivesHaveSelector(type){type=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(type);const def=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(type);!(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type)&&def&&0==def.selectors.length&&errors.push(`Directive ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)} has no selector, please add it!`)}),declarations.forEach(declarationType=>function verifyNotStandalone(type,moduleType){type=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(type);const def=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(type)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oyA)(type);if(def?.standalone){const location=`"${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(moduleType)}" NgModule`;errors.push(generateStandaloneInDeclarationsError(type,location))}}(declarationType,moduleType));const combinedDeclarations=[...declarations.map(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4),...(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Bqz)(imports.map(computeCombinedExports)).map(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)];exports.forEach(function verifyExportsAreDeclaredOrReExported(type){type=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(type);const kind=((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type)?"component":(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(type)&&"directive")||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oyA)(type)&&"pipe";kind&&-1===combinedDeclarations.lastIndexOf(type)&&errors.push(`Can't export ${kind} ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)} from ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(moduleType)} as it was neither declared nor imported!`)}),declarations.forEach(decl=>function verifyDeclarationIsUnique(type,suppressErrors){type=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(type);const existingModule=ownerNgModule.get(type);if(existingModule&&existingModule!==moduleType){if(!suppressErrors){const modules=[existingModule,moduleType].map(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7).sort();errors.push(`Type ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)} is part of the declarations of 2 modules: ${modules[0]} and ${modules[1]}! Please consider moving ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)} to a higher module that imports ${modules[0]} and ${modules[1]}. You can also create a new NgModule that exports and includes ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)} then import that NgModule in ${modules[0]} and ${modules[1]}.`)}}else ownerNgModule.set(type,moduleType)}(decl,allowDuplicateDeclarationsInRoot));const ngModule=function getAnnotation(type,name){let annotation=null;return collect(type.__annotations__),collect(type.decorators),annotation;function collect(annotations){annotations&&annotations.forEach(readAnnotation)}function readAnnotation(decorator){if(!annotation){if(Object.getPrototypeOf(decorator).ngMetadataName==name)annotation=decorator;else if(decorator.type){Object.getPrototypeOf(decorator.type).ngMetadataName==name&&(annotation=decorator.args[0])}}}}(moduleType,"NgModule");if(ngModule&&(ngModule.imports&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Bqz)(ngModule.imports).map(unwrapModuleWithProvidersImports).forEach(mod=>{verifySemanticsOfNgModuleImport(mod,moduleType),verifySemanticsOfNgModuleDef(mod,!1,moduleType)}),ngModule.bootstrap&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xLP)(ngModule.bootstrap,function verifyCorrectBootstrapType(type){type=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(type),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type)||errors.push(`${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)} cannot be used as an entry component.`);(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.QuC)(type)&&errors.push(`The \`${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)}\` class is a standalone component, which can not be used in the \`@NgModule.bootstrap\` array. Use the \`bootstrapApplication\` function for bootstrap instead.`)}),ngModule.bootstrap&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xLP)(ngModule.bootstrap,function verifyComponentIsPartOfNgModule(type){type=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(type);ownerNgModule.get(type)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.QuC)(type)||errors.push(`Component ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)} is not part of any NgModule or the module has not been imported into your module.`)})),errors.length)throw new Error(errors.join("\n"));function verifySemanticsOfNgModuleImport(type,importingModule){type=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(type);const directiveDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(type);if(null!==directiveDef&&!directiveDef.standalone)throw new Error(`Unexpected directive '${type.name}' imported by the module '${importingModule.name}'. Please add an @NgModule annotation.`);const pipeDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oyA)(type);if(null!==pipeDef&&!pipeDef.standalone)throw new Error(`Unexpected pipe '${type.name}' imported by the module '${importingModule.name}'. Please add an @NgModule annotation.`)}}function unwrapModuleWithProvidersImports(typeOrWithProviders){return(typeOrWithProviders=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(typeOrWithProviders)).ngModule||typeOrWithProviders}let ownerNgModule=new WeakMap,verifiedNgModule=new WeakMap;function resetCompiledComponents(){ownerNgModule=new WeakMap,verifiedNgModule=new WeakMap,moduleQueue.length=0,GENERATED_COMP_IDS.clear()}function computeCombinedExports(type){type=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(type);const ngModuleDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.phH)(type);return null===ngModuleDef?[type]:(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Bqz)(maybeUnwrapFn(ngModuleDef.exports).map(type=>(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.phH)(type)?(verifySemanticsOfNgModuleDef(type,!1),computeCombinedExports(type)):type))}function setScopeOnDeclaredComponents(moduleType,ngModule){const declarations=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Bqz)(ngModule.declarations||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv),transitiveScopes=transitiveScopesFor(moduleType);declarations.forEach(declaration=>{if((declaration=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(declaration)).hasOwnProperty(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CQl)){const component=declaration;patchComponentDefWithScope((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(component),transitiveScopes)}else declaration.hasOwnProperty(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CZt)||declaration.hasOwnProperty(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Vx9)||(declaration.ngSelectorScope=moduleType)})}function patchComponentDefWithScope(componentDef,transitiveScopes){componentDef.directiveDefs=()=>Array.from(transitiveScopes.compilation.directives).map(dir=>dir.hasOwnProperty(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CQl)?(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(dir):(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(dir)).filter(def=>!!def),componentDef.pipeDefs=()=>Array.from(transitiveScopes.compilation.pipes).map(pipe=>(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oyA)(pipe)),componentDef.schemas=transitiveScopes.schemas,componentDef.tView=null}function transitiveScopesFor(type){if(isNgModule(type)){const scope=depsTracker.getNgModuleScope(type);return{schemas:(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WbQ)(type).schemas||null,...scope}}if((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.QuC)(type)){if(null!==((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(type)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(type)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([type]),pipes:new Set}};if(null!==(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oyA)(type))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([type])}}}throw new Error(`${type.name} does not have a module def (ɵmod property)`)}function expandModuleWithProviders(value){return isModuleWithProviders(value)?value.ngModule:value}let compilationDepth=0;function compileComponent(type,metadata){("undefined"==typeof ngDevMode||ngDevMode)&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.SMZ)();let ngComponentDef=null;!function maybeQueueResolutionOfComponentResources(type,metadata){componentNeedsResolution(metadata)&&(componentResourceResolutionQueue.set(type,metadata),componentDefPendingResolution.add(type))}(type,metadata),addDirectiveFactoryDef(type,metadata),Object.defineProperty(type,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CQl,{get:()=>{if(null===ngComponentDef){const compiler=getCompilerFacade({usage:0,kind:"component",type});if(componentNeedsResolution(metadata)){const error=[`Component '${type.name}' is not resolved:`];throw metadata.templateUrl&&error.push(` - templateUrl: ${metadata.templateUrl}`),metadata.styleUrls&&metadata.styleUrls.length&&error.push(` - styleUrls: ${JSON.stringify(metadata.styleUrls)}`),metadata.styleUrl&&error.push(` - styleUrl: ${metadata.styleUrl}`),error.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(error.join("\n"))}const options=function getJitOptions(){return jitOptions}();let preserveWhitespaces=metadata.preserveWhitespaces;void 0===preserveWhitespaces&&(preserveWhitespaces=null!==options&&void 0!==options.preserveWhitespaces&&options.preserveWhitespaces);let encapsulation=metadata.encapsulation;void 0===encapsulation&&(encapsulation=null!==options&&void 0!==options.defaultEncapsulation?options.defaultEncapsulation:ViewEncapsulation.Emulated);const templateUrl=metadata.templateUrl||`ng:///${type.name}/template.html`,baseMeta=directiveMetadata(type,metadata),meta={...baseMeta,typeSourceSpan:compiler.createParseSourceSpan("Component",type.name,templateUrl),template:metadata.template||"",preserveWhitespaces,styles:"string"==typeof metadata.styles?[metadata.styles]:metadata.styles||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv,animations:metadata.animations,declarations:[],changeDetection:metadata.changeDetection,encapsulation,interpolation:metadata.interpolation,viewProviders:metadata.viewProviders||null,hasDirectiveDependencies:!baseMeta.isStandalone||null!=metadata.imports&&metadata.imports.length>0};compilationDepth++;try{if(meta.usesInheritance&&addDirectiveDefToUndecoratedParents(type),ngComponentDef=compiler.compileComponent(angularCoreEnv,templateUrl,meta),meta.isStandalone){const imports=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Bqz)(metadata.imports||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv),{directiveDefs,pipeDefs}=function getStandaloneDefFunctions(type,imports){const directiveDefs=()=>{if(ngDevMode)for(const rawDep of imports)verifyStandaloneImport(rawDep,type);if(!isComponent(type))return[];return[...depsTracker.getStandaloneComponentScope(type,imports).compilation.directives].map(p=>(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(p)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(p)).filter(d=>null!==d)},pipeDefs=()=>{if(ngDevMode)for(const rawDep of imports)verifyStandaloneImport(rawDep,type);if(!isComponent(type))return[];return[...depsTracker.getStandaloneComponentScope(type,imports).compilation.pipes].map(p=>(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.oyA)(p)).filter(d=>null!==d)};return{directiveDefs,pipeDefs}}(type,imports);ngComponentDef.directiveDefs=directiveDefs,ngComponentDef.pipeDefs=pipeDefs,ngComponentDef.dependencies=()=>imports.map(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)}}finally{compilationDepth--}if(0===compilationDepth&&flushModuleScopingQueueAsMuchAsPossible(),function hasSelectorScope(component){return void 0!==component.ngSelectorScope}(type)){const scopes=transitiveScopesFor(type.ngSelectorScope);patchComponentDefWithScope(ngComponentDef,scopes)}if(metadata.schemas){if(!meta.isStandalone)throw new Error(`The 'schemas' was specified for the ${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)} but is only valid on a component that is standalone.`);ngComponentDef.schemas=metadata.schemas}else meta.isStandalone&&(ngComponentDef.schemas=[])}return ngComponentDef},set:def=>{ngComponentDef=def},configurable:!!ngDevMode})}function compileDirective(type,directive){let ngDirectiveDef=null;addDirectiveFactoryDef(type,directive||{}),Object.defineProperty(type,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.CZt,{get:()=>{if(null===ngDirectiveDef){const meta=getDirectiveMetadata(type,directive||{}),compiler=getCompilerFacade({usage:0,kind:"directive",type});ngDirectiveDef=compiler.compileDirective(angularCoreEnv,meta.sourceMapUrl,meta.metadata)}return ngDirectiveDef},configurable:!!ngDevMode})}function getDirectiveMetadata(type,metadata){const name=type&&type.name,sourceMapUrl=`ng:///${name}/ɵdir.js`,compiler=getCompilerFacade({usage:0,kind:"directive",type}),facade=directiveMetadata(type,metadata);return facade.typeSourceSpan=compiler.createParseSourceSpan("Directive",name,sourceMapUrl),facade.usesInheritance&&addDirectiveDefToUndecoratedParents(type),{metadata:facade,sourceMapUrl}}function addDirectiveFactoryDef(type,metadata){let ngFactoryDef=null;Object.defineProperty(type,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zSs,{get:()=>{if(null===ngFactoryDef){const meta=getDirectiveMetadata(type,metadata),compiler=getCompilerFacade({usage:0,kind:"directive",type});ngFactoryDef=compiler.compileFactory(angularCoreEnv,`ng:///${type.name}/ɵfac.js`,{name:meta.metadata.name,type:meta.metadata.type,typeArgumentCount:0,deps:reflectDependencies(type),target:compiler.FactoryTarget.Directive})}return ngFactoryDef},configurable:!!ngDevMode})}function extendsDirectlyFromObject(type){return Object.getPrototypeOf(type.prototype)===Object.prototype}function directiveMetadata(type,metadata){const reflect=getReflect(),propMetadata=reflect.ownPropMetadata(type);return{name:type.name,type,selector:void 0!==metadata.selector?metadata.selector:null,host:metadata.host||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.MZA,propMetadata,inputs:metadata.inputs||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv,outputs:metadata.outputs||_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Mlv,queries:extractQueriesMetadata(type,propMetadata,isContentQuery),lifecycle:{usesOnChanges:reflect.hasLifecycleHook(type,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!extendsDirectlyFromObject(type),exportAs:(exportAs=metadata.exportAs,void 0===exportAs?null:splitByComma(exportAs)),providers:metadata.providers||null,viewQueries:extractQueriesMetadata(type,propMetadata,isViewQuery),isStandalone:void 0===metadata.standalone||!!metadata.standalone,isSignal:!!metadata.signals,hostDirectives:metadata.hostDirectives?.map(directive=>"function"==typeof directive?{directive}:directive)||null};var exportAs}function addDirectiveDefToUndecoratedParents(type){const objPrototype=Object.prototype;let parent=Object.getPrototypeOf(type.prototype).constructor;for(;parent&&parent!==objPrototype;)(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.HaV)(parent)||(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(parent)||!shouldAddAbstractDirective(parent)||compileDirective(parent,null),parent=Object.getPrototypeOf(parent)}function convertToR3QueryMetadata(propertyName,ann){return{propertyName,predicate:(selector=ann.selector,"string"==typeof selector?splitByComma(selector):(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nl4)(selector)),descendants:ann.descendants,first:ann.first,read:ann.read?ann.read:null,static:!!ann.static,emitDistinctChangesOnly:!!ann.emitDistinctChangesOnly,isSignal:!!ann.isSignal};var selector}function extractQueriesMetadata(type,propMetadata,isQueryAnn){const queriesMeta=[];for(const field in propMetadata)if(propMetadata.hasOwnProperty(field)){const annotations=propMetadata[field];annotations.forEach(ann=>{if(isQueryAnn(ann)){if(!ann.selector)throw new Error(`Can't construct a query for the property "${field}" of "${(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.PP7)(type)}" since the query selector wasn't defined.`);if(annotations.some(isInputAnnotation))throw new Error("Cannot combine @Input decorators with query decorators");queriesMeta.push(convertToR3QueryMetadata(field,ann))}})}return queriesMeta}function isContentQuery(value){const name=value.ngMetadataName;return"ContentChild"===name||"ContentChildren"===name}function isViewQuery(value){const name=value.ngMetadataName;return"ViewChild"===name||"ViewChildren"===name}function isInputAnnotation(value){return"Input"===value.ngMetadataName}function splitByComma(value){return value.split(",").map(piece=>piece.trim())}const LIFECYCLE_HOOKS=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function shouldAddAbstractDirective(type){const reflect=getReflect();if(LIFECYCLE_HOOKS.some(hookName=>reflect.hasLifecycleHook(type,hookName)))return!0;const propMetadata=reflect.propMetadata(type);for(const field in propMetadata){const annotations=propMetadata[field];for(let i=0;i<annotations.length;i++){const current=annotations[i],metadataName=current.ngMetadataName;if(isInputAnnotation(current)||isContentQuery(current)||isViewQuery(current)||"Output"===metadataName||"HostBinding"===metadataName||"HostListener"===metadataName)return!0}}return!1}function compilePipe(type,meta){let ngPipeDef=null,ngFactoryDef=null;Object.defineProperty(type,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zSs,{get:()=>{if(null===ngFactoryDef){const metadata=getPipeMetadata(type,meta),compiler=getCompilerFacade({usage:0,kind:"pipe",type:metadata.type});ngFactoryDef=compiler.compileFactory(angularCoreEnv,`ng:///${metadata.name}/ɵfac.js`,{name:metadata.name,type:metadata.type,typeArgumentCount:0,deps:reflectDependencies(type),target:compiler.FactoryTarget.Pipe})}return ngFactoryDef},configurable:!!ngDevMode}),Object.defineProperty(type,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Vx9,{get:()=>{if(null===ngPipeDef){const metadata=getPipeMetadata(type,meta),compiler=getCompilerFacade({usage:0,kind:"pipe",type:metadata.type});ngPipeDef=compiler.compilePipe(angularCoreEnv,`ng:///${metadata.name}/ɵpipe.js`,metadata)}return ngPipeDef},configurable:!!ngDevMode})}function getPipeMetadata(type,meta){return{type,name:type.name,pipeName:meta.name,pure:void 0===meta.pure||meta.pure,isStandalone:void 0===meta.standalone||!!meta.standalone}}const Directive=makeDecorator("Directive",(dir={})=>dir,void 0,0,(type,meta)=>compileDirective(type,meta)),Component=makeDecorator("Component",(c={})=>({changeDetection:ChangeDetectionStrategy.Default,...c}),Directive,0,(type,meta)=>compileComponent(type,meta)),Pipe=makeDecorator("Pipe",p=>({pure:!0,...p}),void 0,0,(type,meta)=>compilePipe(type,meta)),Input=makePropDecorator("Input",arg=>arg?"string"==typeof arg?{alias:arg}:arg:{}),Output=makePropDecorator("Output",alias=>({alias})),HostBinding=makePropDecorator("HostBinding",hostPropertyName=>({hostPropertyName})),HostListener=makePropDecorator("HostListener",(eventName,args)=>({eventName,args})),NgModule=makeDecorator("NgModule",ngModule=>ngModule,void 0,0,(type,meta)=>compileNgModule(type,meta));class ModuleWithComponentFactories{ngModuleFactory;componentFactories;constructor(ngModuleFactory,componentFactories){this.ngModuleFactory=ngModuleFactory,this.componentFactories=componentFactories}}class Compiler{compileModuleSync(moduleType){return new NgModuleFactory(moduleType)}compileModuleAsync(moduleType){return Promise.resolve(this.compileModuleSync(moduleType))}compileModuleAndAllComponentsSync(moduleType){const ngModuleFactory=this.compileModuleSync(moduleType),componentFactories=maybeUnwrapFn((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.phH)(moduleType).declarations).reduce((factories,declaration)=>{const componentDef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.xUg)(declaration);return componentDef&&factories.push(new ComponentFactory(componentDef)),factories},[]);return new ModuleWithComponentFactories(ngModuleFactory,componentFactories)}compileModuleAndAllComponentsAsync(moduleType){return Promise.resolve(this.compileModuleAndAllComponentsSync(moduleType))}clearCache(){}clearCacheFor(type){}getModuleId(moduleType){}static ɵfac=function Compiler_Factory(__ngFactoryType__){return new(__ngFactoryType__||Compiler)};static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:Compiler,factory:Compiler.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(Compiler,[{type:Injectable,args:[{providedIn:"root"}]}],null,null);const COMPILER_OPTIONS=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"compilerOptions":"");class CompilerFactory{}class NgZoneChangeDetectionScheduler{zone=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(NgZone);changeDetectionScheduler=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.hk6);applicationRef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(ApplicationRef);applicationErrorHandler=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ZTf);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static ɵfac=function NgZoneChangeDetectionScheduler_Factory(__ngFactoryType__){return new(__ngFactoryType__||NgZoneChangeDetectionScheduler)};static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:NgZoneChangeDetectionScheduler,factory:NgZoneChangeDetectionScheduler.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(NgZoneChangeDetectionScheduler,[{type:Injectable,args:[{providedIn:"root"}]}],null,null);const PROVIDED_NG_ZONE=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC("undefined"==typeof ngDevMode||ngDevMode?"provideZoneChangeDetection token":"",{factory:()=>!1});function internalProvideZoneChangeDetection({ngZoneFactory,ignoreChangesOutsideZone,scheduleInRootZone}){return ngZoneFactory??=()=>new NgZone({...getNgZoneOptions(),scheduleInRootZone}),[{provide:NgZone,useFactory:ngZoneFactory},{provide:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Z63,multi:!0,useFactory:()=>{const ngZoneChangeDetectionScheduler=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(NgZoneChangeDetectionScheduler,{optional:!0});if(("undefined"==typeof ngDevMode||ngDevMode)&&null===ngZoneChangeDetectionScheduler)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(402,"A required Injectable was not found in the dependency injection tree. If you are bootstrapping an NgModule, make sure that the `BrowserModule` is imported.");return()=>ngZoneChangeDetectionScheduler.initialize()}},{provide:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Z63,multi:!0,useFactory:()=>{const service=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(ZoneStablePendingTask);return()=>{service.initialize()}}},!0===ignoreChangesOutsideZone?{provide:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Jy$,useValue:!0}:[],{provide:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.AQb,useValue:scheduleInRootZone??SCHEDULE_IN_ROOT_ZONE_DEFAULT},{provide:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ZTf,useFactory:()=>{const zone=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(NgZone),injector=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.uvJ);let userErrorHandler;return e=>{zone.runOutsideAngular(()=>{injector.destroyed&&!userErrorHandler?setTimeout(()=>{throw e}):(userErrorHandler??=injector.get(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.zcH),userErrorHandler.handleError(e))})}}}]}function provideZoneChangeDetection(options){const ignoreChangesOutsideZone=options?.ignoreChangesOutsideZone,scheduleInRootZone=options?.scheduleInRootZone,zoneProviders=internalProvideZoneChangeDetection({ngZoneFactory:()=>{const ngZoneOptions=getNgZoneOptions(options);return ngZoneOptions.scheduleInRootZone=scheduleInRootZone,ngZoneOptions.shouldCoalesceEventChangeDetection&&performanceMarkFeature("NgZone_CoalesceEvent"),new NgZone(ngZoneOptions)},ignoreChangesOutsideZone,scheduleInRootZone});return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EmA)([{provide:PROVIDED_NG_ZONE,useValue:!0},{provide:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Evm,useValue:!1},zoneProviders])}function getNgZoneOptions(options){return{enableLongStackTrace:"undefined"!=typeof ngDevMode&&!!ngDevMode,shouldCoalesceEventChangeDetection:options?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:options?.runCoalescing??!1}}class ZoneStablePendingTask{subscription=new rxjs__WEBPACK_IMPORTED_MODULE_4__.yU;initialized=!1;zone=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(NgZone);pendingTasks=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rev);initialize(){if(this.initialized)return;this.initialized=!0;let task=null;this.zone.isStable||this.zone.hasPendingMacrotasks||this.zone.hasPendingMicrotasks||(task=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{NgZone.assertNotInAngularZone(),queueMicrotask(()=>{null===task||this.zone.hasPendingMacrotasks||this.zone.hasPendingMicrotasks||(this.pendingTasks.remove(task),task=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{NgZone.assertInAngularZone(),task??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static ɵfac=function ZoneStablePendingTask_Factory(__ngFactoryType__){return new(__ngFactoryType__||ZoneStablePendingTask)};static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:ZoneStablePendingTask,factory:ZoneStablePendingTask.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(ZoneStablePendingTask,[{type:Injectable,args:[{providedIn:"root"}]}],null,null);let consecutiveMicrotaskNotifications=0,stackFromLastFewNotifications=[];class ChangeDetectionSchedulerImpl{applicationErrorHandler=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ZTf);appRef=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(ApplicationRef);taskService=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.rev);ngZone=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(NgZone);zonelessEnabled=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Evm);tracing=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(TracingService,{optional:!0});disableScheduling=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Jy$,{optional:!0})??!1;zoneIsDefined="undefined"!=typeof Zone&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new rxjs__WEBPACK_IMPORTED_MODULE_4__.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get("isAngularZone_ID"):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof NoopNgZone||!this.zoneIsDefined)}notify(source){if(!this.zonelessEnabled&&5===source)return;let force=!1;switch(source){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,force=!0;break;case 12:this.appRef.dirtyFlags|=16,force=!0;break;case 11:force=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(force))return;("undefined"==typeof ngDevMode||ngDevMode)&&(this.useMicrotaskScheduler?function trackMicrotaskNotificationForDebugging(){if(consecutiveMicrotaskNotifications++,100-consecutiveMicrotaskNotifications<5){const stack=(new Error).stack;stack&&stackFromLastFewNotifications.push(stack)}if(100===consecutiveMicrotaskNotifications)throw new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.buA(103,"Angular could not stabilize because there were endless change notifications within the browser event loop. The stack from the last several notifications: \n"+stackFromLastFewNotifications.join("\n"))}():(consecutiveMicrotaskNotifications=0,stackFromLastFewNotifications.length=0));const scheduleCallback=this.useMicrotaskScheduler?scheduleCallbackWithMicrotask:scheduleCallbackWithRafRace;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>scheduleCallback(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>scheduleCallback(()=>this.tick()))}shouldScheduleTick(force){return!(this.disableScheduling&&!force||this.appRef.destroyed)&&(null===this.pendingRenderTaskId&&!this.runningTick&&!this.appRef._runningTick&&!(!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get("isAngularZone_ID"+this.angularZoneId)))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const task=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(e){this.taskService.remove(task),this.applicationErrorHandler(e)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,scheduleCallbackWithMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(task)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const taskId=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(taskId)}}static ɵfac=function ChangeDetectionSchedulerImpl_Factory(__ngFactoryType__){return new(__ngFactoryType__||ChangeDetectionSchedulerImpl)};static ɵprov=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.jDH)({token:ChangeDetectionSchedulerImpl,factory:ChangeDetectionSchedulerImpl.ɵfac,providedIn:"root"})}function provideZonelessChangeDetection(){if(performanceMarkFeature("NgZoneless"),("undefined"==typeof ngDevMode||ngDevMode)&&"undefined"!=typeof Zone&&Zone){const message=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.OsK)(914,'The application is using zoneless change detection, but is still loading Zone.js. Consider removing Zone.js to get the full benefits of zoneless. In applications using the Angular CLI, Zone.js is typically included in the "polyfills" section of the angular.json file.');console.warn(message)}return(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.EmA)([{provide:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.hk6,useExisting:ChangeDetectionSchedulerImpl},{provide:NgZone,useClass:NoopNgZone},{provide:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Evm,useValue:!0},{provide:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.AQb,useValue:!1},"undefined"==typeof ngDevMode||ngDevMode?[{provide:_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.GYQ,useValue:!0}]:[]])}("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(ChangeDetectionSchedulerImpl,[{type:Injectable,args:[{providedIn:"root"}]}],()=>[],null);const LOCALE_ID=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"LocaleId":"",{providedIn:"root",factory:()=>(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.WQX)(LOCALE_ID,{optional:!0,skipSelf:!0})||function getGlobalLocale(){return"undefined"!=typeof ngI18nClosureMode&&ngI18nClosureMode&&"undefined"!=typeof goog&&"en"!==goog.LOCALE?goog.LOCALE:"undefined"!=typeof $localize&&$localize.locale||DEFAULT_LOCALE_ID}()}),DEFAULT_CURRENCY_CODE=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"DefaultCurrencyCode":"",{providedIn:"root",factory:()=>"USD"}),TRANSLATIONS=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"Translations":""),TRANSLATIONS_FORMAT=new _root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.nKC(ngDevMode?"TranslationsFormat":"");var MissingTranslationStrategy;!function(MissingTranslationStrategy){MissingTranslationStrategy[MissingTranslationStrategy.Error=0]="Error",MissingTranslationStrategy[MissingTranslationStrategy.Warning=1]="Warning",MissingTranslationStrategy[MissingTranslationStrategy.Ignore=2]="Ignore"}(MissingTranslationStrategy||(MissingTranslationStrategy={}));class DebugEventListener{name;callback;constructor(name,callback){this.name=name,this.callback=callback}}function asNativeElements(debugEls){return debugEls.map(el=>el.nativeElement)}class DebugNode{nativeNode;constructor(nativeNode){this.nativeNode=nativeNode}get parent(){const parent=this.nativeNode.parentNode;return parent?new DebugElement(parent):null}get injector(){return getInjector(this.nativeNode)}get componentInstance(){const nativeElement=this.nativeNode;return nativeElement&&(getComponent(nativeElement)||getOwningComponent(nativeElement))}get context(){return getComponent(this.nativeNode)||getContext(this.nativeNode)}get listeners(){return getListeners(this.nativeNode).filter(listener=>"dom"===listener.type)}get references(){return getLocalRefs(this.nativeNode)}get providerTokens(){return function getInjectionTokens(element){const context=getLContext(element),lView=context?context.lView:null;if(null===lView)return[];const tView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl],tNode=tView.data[context.nodeIndex],providerTokens=[],startIndex=1048575&tNode.providerIndexes,endIndex=tNode.directiveEnd;for(let i=startIndex;i<endIndex;i++){let value=tView.data[i];isDirectiveDefHack(value)&&(value=value.type),providerTokens.push(value)}return providerTokens}(this.nativeNode)}}class DebugElement extends DebugNode{constructor(nativeNode){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.z7f)(nativeNode),super(nativeNode)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const context=getLContext(this.nativeNode),lView=context?context.lView:null;if(null!==lView){return lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data[context.nodeIndex].value}return this.nativeNode.nodeName}get properties(){const context=getLContext(this.nativeNode),lView=context?context.lView:null;if(null===lView)return{};const tData=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data,tNode=tData[context.nodeIndex],properties={};return function copyDomProperties(element,properties){if(element){let obj=Object.getPrototypeOf(element);const NodePrototype=Node.prototype;for(;null!==obj&&obj!==NodePrototype;){const descriptors=Object.getOwnPropertyDescriptors(obj);for(let key in descriptors)if(!key.startsWith("__")&&!key.startsWith("on")){const value=element[key];isPrimitiveValue(value)&&(properties[key]=value)}obj=Object.getPrototypeOf(obj)}}}(this.nativeElement,properties),function collectPropertyBindings(properties,tNode,lView,tData){let bindingIndexes=tNode.propertyBindings;if(null!==bindingIndexes)for(let i=0;i<bindingIndexes.length;i++){const bindingIndex=bindingIndexes[i],metadataParts=tData[bindingIndex].split(INTERPOLATION_DELIMITER),propertyName=metadataParts[0];if(metadataParts.length>1){let value=metadataParts[1];for(let j=1;j<metadataParts.length-1;j++)value+=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eFE)(lView[bindingIndex+j-1])+metadataParts[j+1];properties[propertyName]=value}else properties[propertyName]=lView[bindingIndex]}}(properties,tNode,lView,tData),properties}get attributes(){const attributes={},element=this.nativeElement;if(!element)return attributes;const context=getLContext(element),lView=context?context.lView:null;if(null===lView)return{};const tNodeAttrs=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data[context.nodeIndex].attrs,lowercaseTNodeAttrs=[];if(tNodeAttrs){let i=0;for(;i<tNodeAttrs.length;){const attrName=tNodeAttrs[i];if("string"!=typeof attrName)break;const attrValue=tNodeAttrs[i+1];attributes[attrName]=attrValue,lowercaseTNodeAttrs.push(attrName.toLowerCase()),i+=2}}for(const attr of element.attributes)lowercaseTNodeAttrs.includes(attr.name)||(attributes[attr.name]=attr.value);return attributes}get styles(){const element=this.nativeElement;return element?.style??{}}get classes(){const result={},className=this.nativeElement.className;return("string"!=typeof className?className.baseVal.split(" "):className.split(" ")).forEach(value=>result[value]=!0),result}get childNodes(){const childNodes=this.nativeNode.childNodes,children=[];for(let i=0;i<childNodes.length;i++){const element=childNodes[i];children.push(getDebugNode(element))}return children}get children(){const nativeElement=this.nativeElement;if(!nativeElement)return[];const childNodes=nativeElement.children,children=[];for(let i=0;i<childNodes.length;i++){const element=childNodes[i];children.push(getDebugNode(element))}return children}query(predicate){return this.queryAll(predicate)[0]||null}queryAll(predicate){const matches=[];return _queryAll(this,predicate,matches,!0),matches}queryAllNodes(predicate){const matches=[];return _queryAll(this,predicate,matches,!1),matches}triggerEventHandler(eventName,eventObj){const node=this.nativeNode,invokedListeners=[];this.listeners.forEach(listener=>{if(listener.name===eventName){const callback=listener.callback;callback.call(node,eventObj),invokedListeners.push(callback)}}),"function"==typeof node.eventListeners&&node.eventListeners(eventName).forEach(listener=>{if(-1!==listener.toString().indexOf("__ngUnwrap__")){const unwrappedListener=listener("__ngUnwrap__");return-1===invokedListeners.indexOf(unwrappedListener)&&unwrappedListener.call(node,eventObj)}})}}function isPrimitiveValue(value){return"string"==typeof value||"boolean"==typeof value||"number"==typeof value||null===value}function _queryAll(parentElement,predicate,matches,elementsOnly){const context=getLContext(parentElement.nativeNode),lView=context?context.lView:null;if(null!==lView){_queryNodeChildren(lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data[context.nodeIndex],lView,predicate,matches,elementsOnly,parentElement.nativeNode)}else _queryNativeNodeDescendants(parentElement.nativeNode,predicate,matches,elementsOnly)}function _queryNodeChildren(tNode,lView,predicate,matches,elementsOnly,rootNativeNode){ngDevMode&&(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.VKj)(tNode,lView);const nativeNode=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.ZRn)(tNode,lView);if(11&tNode.type){if(_addQueryMatch(nativeNode,predicate,matches,elementsOnly,rootNativeNode),(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Qs1)(tNode)){const componentView=(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.KdJ)(tNode.index,lView);componentView&&componentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].firstChild&&_queryNodeChildren(componentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].firstChild,componentView,predicate,matches,elementsOnly,rootNativeNode)}else tNode.child&&_queryNodeChildren(tNode.child,lView,predicate,matches,elementsOnly,rootNativeNode),nativeNode&&_queryNativeNodeDescendants(nativeNode,predicate,matches,elementsOnly);const nodeOrContainer=lView[tNode.index];(0,_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.A0l)(nodeOrContainer)&&_queryNodeChildrenInContainer(nodeOrContainer,predicate,matches,elementsOnly,rootNativeNode)}else if(4&tNode.type){const lContainer=lView[tNode.index];_addQueryMatch(lContainer[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.s6P],predicate,matches,elementsOnly,rootNativeNode),_queryNodeChildrenInContainer(lContainer,predicate,matches,elementsOnly,rootNativeNode)}else if(16&tNode.type){const componentView=lView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.b5C],head=componentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.qlT].projection[tNode.projection];if(Array.isArray(head))for(let nativeNode of head)_addQueryMatch(nativeNode,predicate,matches,elementsOnly,rootNativeNode);else if(head){const nextLView=componentView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.f7T];_queryNodeChildren(nextLView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].data[head.index],nextLView,predicate,matches,elementsOnly,rootNativeNode)}}else tNode.child&&_queryNodeChildren(tNode.child,lView,predicate,matches,elementsOnly,rootNativeNode);if(rootNativeNode!==nativeNode){const nextTNode=2&tNode.flags?tNode.projectionNext:tNode.next;nextTNode&&_queryNodeChildren(nextTNode,lView,predicate,matches,elementsOnly,rootNativeNode)}}function _queryNodeChildrenInContainer(lContainer,predicate,matches,elementsOnly,rootNativeNode){for(let i=_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.Y20;i<lContainer.length;i++){const childView=lContainer[i],firstChild=childView[_root_effect_scheduler_mjs__WEBPACK_IMPORTED_MODULE_1__.eDl].firstChild;firstChild&&_queryNodeChildren(firstChild,childView,predicate,matches,elementsOnly,rootNativeNode)}}function _addQueryMatch(nativeNode,predicate,matches,elementsOnly,rootNativeNode){if(rootNativeNode!==nativeNode){const debugNode=getDebugNode(nativeNode);if(!debugNode)return;(elementsOnly&&debugNode instanceof DebugElement&&predicate(debugNode)&&-1===matches.indexOf(debugNode)||!elementsOnly&&predicate(debugNode)&&-1===matches.indexOf(debugNode))&&matches.push(debugNode)}}function _queryNativeNodeDescendants(parentNode,predicate,matches,elementsOnly){const nodes=parentNode.childNodes,length=nodes.length;for(let i=0;i<length;i++){const node=nodes[i],debugNode=getDebugNode(node);debugNode&&((elementsOnly&&debugNode instanceof DebugElement&&predicate(debugNode)&&-1===matches.indexOf(debugNode)||!elementsOnly&&predicate(debugNode)&&-1===matches.indexOf(debugNode))&&matches.push(debugNode),_queryNativeNodeDescendants(node,predicate,matches,elementsOnly))}}const NG_DEBUG_PROPERTY="__ng_debug__";function getDebugNode(nativeNode){return nativeNode instanceof Node?(nativeNode.hasOwnProperty(NG_DEBUG_PROPERTY)||(nativeNode[NG_DEBUG_PROPERTY]=nativeNode.nodeType==Node.ELEMENT_NODE?new DebugElement(nativeNode):new DebugNode(nativeNode)),nativeNode[NG_DEBUG_PROPERTY]):null}},"./node_modules/@angular/core/fesm2022/not_found.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{let _currentInjector;function getCurrentInjector(){return _currentInjector}function setCurrentInjector(injector){const former=_currentInjector;return _currentInjector=injector,former}__webpack_require__.d(__webpack_exports__,{Af:()=>getCurrentInjector,c4:()=>isNotFound,mu:()=>setCurrentInjector});const NOT_FOUND=Symbol("NotFound");Error;function isNotFound(e){return e===NOT_FOUND||"ɵNotFound"===e?.name}},"./node_modules/@angular/core/fesm2022/resource.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Zf:()=>OutputEmitterRef,vG:()=>ResourceImpl,EW:()=>computed,QZ:()=>effect,wl:()=>encapsulateResourceError,nf:()=>getOutputDestroyRef,uu:()=>linkedSignal,Zc:()=>resource,O8:()=>resource_untracked});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),root_effect_scheduler=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),signal=__webpack_require__("./node_modules/@angular/core/fesm2022/signal.mjs");function createLinkedSignal(sourceFn,computationFn,equalityFn){const node=Object.create(LINKED_SIGNAL_NODE);node.source=sourceFn,node.computation=computationFn,null!=equalityFn&&(node.equal=equalityFn);const getter=()=>{if((0,signal.JC)(node),(0,signal.mK)(node),node.value===signal.EF)throw node.error;return node.value};if(getter[signal.bh]=node,"undefined"!=typeof ngDevMode&&ngDevMode){const debugName=node.debugName?" ("+node.debugName+")":"";getter.toString=()=>`[LinkedSignal${debugName}: ${node.value}]`}return(0,signal.a7)(node),getter}const LINKED_SIGNAL_NODE=(()=>({...signal.pL,value:signal.Ag,dirty:!0,error:null,equal:signal.H8,kind:"linkedSignal",producerMustRecompute:node=>node.value===signal.Ag||node.value===signal.Ny,producerRecomputeValue(node){if(node.value===signal.Ny)throw new Error("undefined"!=typeof ngDevMode&&ngDevMode?"Detected cycle in computations.":"");const oldValue=node.value;node.value=signal.Ny;const prevConsumer=(0,signal.Bg)(node);let newValue;try{const newSourceValue=node.source(),prev=oldValue===signal.Ag||oldValue===signal.EF?void 0:{source:node.sourceValue,value:oldValue};newValue=node.computation(newSourceValue,prev),node.sourceValue=newSourceValue}catch(err){newValue=signal.EF,node.error=err}finally{(0,signal.Wu)(node,prevConsumer)}oldValue!==signal.Ag&&newValue!==signal.EF&&node.equal(oldValue,newValue)?node.value=oldValue:(node.value=newValue,node.version++)}}))();const BASE_EFFECT_NODE=(()=>({...signal.pL,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"}))();class OutputEmitterRef{destroyed=!1;listeners=null;errorHandler=(0,root_effect_scheduler.WQX)(root_effect_scheduler.zcH,{optional:!0});destroyRef=(0,root_effect_scheduler.WQX)(root_effect_scheduler.abz);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(callback){if(this.destroyed)throw new root_effect_scheduler.buA(953,ngDevMode&&"Unexpected subscription to destroyed `OutputRef`. The owning directive/component is destroyed.");return(this.listeners??=[]).push(callback),{unsubscribe:()=>{const idx=this.listeners?.indexOf(callback);void 0!==idx&&-1!==idx&&this.listeners?.splice(idx,1)}}}emit(value){if(this.destroyed)return void console.warn((0,root_effect_scheduler.OsK)(953,ngDevMode&&"Unexpected emit for destroyed `OutputRef`. The owning directive/component is destroyed."));if(null===this.listeners)return;const previousConsumer=(0,signal.Ht)(null);try{for(const listenerFn of this.listeners)try{listenerFn(value)}catch(err){this.errorHandler?.handleError(err)}}finally{(0,signal.Ht)(previousConsumer)}}}function getOutputDestroyRef(ref){return ref.destroyRef}function resource_untracked(nonReactiveReadsFn){return function untracked(nonReactiveReadsFn){const prevConsumer=(0,signal.Ht)(null);try{return nonReactiveReadsFn()}finally{(0,signal.Ht)(prevConsumer)}}(nonReactiveReadsFn)}function computed(computation,options){const getter=(0,signal.KZ)(computation,options?.equal);return ngDevMode&&(getter.toString=()=>`[Computed: ${getter()}]`,getter[signal.bh].debugName=options?.debugName),getter}class EffectRefImpl{[signal.bh];constructor(node){this[signal.bh]=node}destroy(){this[signal.bh].destroy()}}function effect(effectFn,options){ngDevMode&&(0,root_effect_scheduler.tdH)(effect,"Call `effect` outside of a reactive context. For example, schedule the effect inside the component constructor."),ngDevMode&&!options?.injector&&(0,root_effect_scheduler.Af3)(effect),ngDevMode&&void 0!==options?.allowSignalWrites&&console.warn("The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed)");const injector=options?.injector??(0,root_effect_scheduler.WQX)(root_effect_scheduler.zZn);let node,destroyRef=!0!==options?.manualCleanup?injector.get(root_effect_scheduler.abz):null;const viewContext=injector.get(root_effect_scheduler.r4V,null,{optional:!0}),notifier=injector.get(root_effect_scheduler.hk6);null!==viewContext?(node=function createViewEffect(view,notifier,fn){const node=Object.create(VIEW_EFFECT_NODE);return node.view=view,node.zone="undefined"!=typeof Zone?Zone.current:null,node.notifier=notifier,node.fn=createEffectFn(node,fn),view[root_effect_scheduler.tQN]??=new Set,view[root_effect_scheduler.tQN].add(node),node.consumerMarkedDirty(node),node}(viewContext.view,notifier,effectFn),destroyRef instanceof root_effect_scheduler.KXn&&destroyRef._lView===viewContext.view&&(destroyRef=null)):node=function createRootEffect(fn,scheduler,notifier){const node=Object.create(ROOT_EFFECT_NODE);return node.fn=createEffectFn(node,fn),node.scheduler=scheduler,node.notifier=notifier,node.zone="undefined"!=typeof Zone?Zone.current:null,node.scheduler.add(node),node.notifier.notify(12),node}(effectFn,injector.get(root_effect_scheduler.VML),notifier),node.injector=injector,null!==destroyRef&&(node.onDestroyFn=destroyRef.onDestroy(()=>node.destroy()));const effectRef=new EffectRefImpl(node);if(ngDevMode){node.debugName=options?.debugName??"";const prevInjectorProfilerContext=(0,root_effect_scheduler.DFp)({injector,token:null});try{(0,root_effect_scheduler.zuh)(effectRef)}finally{(0,root_effect_scheduler.DFp)(prevInjectorProfilerContext)}}return effectRef}const EFFECT_NODE=(()=>({...BASE_EFFECT_NODE,cleanupFns:void 0,zone:null,onDestroyFn:root_effect_scheduler.lQ1,run(){if(ngDevMode&&(0,signal.KE)())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");const prevRefreshingViews=(0,root_effect_scheduler.cBl)(!1);try{!function runEffect(node){if(node.dirty=!1,node.version>0&&!(0,signal.si)(node))return;node.version++;const prevNode=(0,signal.Bg)(node);try{node.cleanup(),node.fn()}finally{(0,signal.Wu)(node,prevNode)}}(this)}finally{(0,root_effect_scheduler.cBl)(prevRefreshingViews)}},cleanup(){if(!this.cleanupFns?.length)return;const prevConsumer=(0,signal.Ht)(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],(0,signal.Ht)(prevConsumer)}}}))(),ROOT_EFFECT_NODE=(()=>({...EFFECT_NODE,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){(0,signal.XR)(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}))(),VIEW_EFFECT_NODE=(()=>({...EFFECT_NODE,consumerMarkedDirty(){this.view[root_effect_scheduler.Wg1]|=8192,(0,root_effect_scheduler.blu)(this.view),this.notifier.notify(13)},destroy(){(0,signal.XR)(this),this.onDestroyFn(),this.cleanup(),this.view[root_effect_scheduler.tQN]?.delete(this)}}))();function createEffectFn(node,fn){return()=>{fn(cleanupFn=>(node.cleanupFns??=[]).push(cleanupFn))}}const identityFn=v=>v;function linkedSignal(optionsOrComputation,options){if("function"==typeof optionsOrComputation){return upgradeLinkedSignalGetter(createLinkedSignal(optionsOrComputation,identityFn,options?.equal),options?.debugName)}return upgradeLinkedSignalGetter(createLinkedSignal(optionsOrComputation.source,optionsOrComputation.computation,optionsOrComputation.equal),optionsOrComputation.debugName)}function upgradeLinkedSignalGetter(getter,debugName){ngDevMode&&(getter.toString=()=>`[LinkedSignal: ${getter()}]`,getter[signal.bh].debugName=debugName);const node=getter[signal.bh],upgradedGetter=getter;return upgradedGetter.set=newValue=>function linkedSignalSetFn(node,newValue){(0,signal.JC)(node),(0,signal.j2)(node,newValue),(0,signal.TO)(node)}(node,newValue),upgradedGetter.update=updateFn=>function linkedSignalUpdateFn(node,updater){(0,signal.JC)(node),(0,signal.mC)(node,updater),(0,signal.TO)(node)}(node,updateFn),upgradedGetter.asReadonly=root_effect_scheduler.HO5.bind(getter),upgradedGetter}function resource(options){ngDevMode&&!options?.injector&&(0,root_effect_scheduler.Af3)(resource);const oldNameForParams=options.request,params=options.params??oldNameForParams??(()=>null);return new ResourceImpl(params,function getLoader(options){if(function isStreamingResourceOptions(options){return!!options.stream}(options))return options.stream;return function(){var _ref=(0,asyncToGenerator.A)(function*(params){try{return(0,root_effect_scheduler.vPA)({value:yield options.loader(params)})}catch(err){return(0,root_effect_scheduler.vPA)({error:encapsulateResourceError(err)})}});return function(_x){return _ref.apply(this,arguments)}}()}(options),options.defaultValue,options.equal?function wrapEqualityFn(equal){return(a,b)=>void 0===a||void 0===b?a===b:equal(a,b)}(options.equal):void 0,options.injector??(0,root_effect_scheduler.WQX)(root_effect_scheduler.zZn))}class BaseWritableResource{value;constructor(value){this.value=value,this.value.set=this.set.bind(this),this.value.update=this.update.bind(this),this.value.asReadonly=root_effect_scheduler.HO5}isError=computed(()=>"error"===this.status());update(updateFn){this.set(updateFn(resource_untracked(this.value)))}isLoading=computed(()=>"loading"===this.status()||"reloading"===this.status());isValueDefined=computed(()=>!this.isError()&&void 0!==this.value());hasValue(){return this.isValueDefined()}asReadonly(){return this}}class ResourceImpl extends BaseWritableResource{loaderFn;equal;pendingTasks;state;extRequest;effectRef;pendingController;resolvePendingTask=void 0;destroyed=!1;unregisterOnDestroy;constructor(request,loaderFn,defaultValue,equal,injector){super(computed(()=>{const streamValue=this.state().stream?.();if(!streamValue)return defaultValue;if("loading"===this.state().status&&this.error())return defaultValue;if(!isResolved(streamValue))throw new ResourceValueError(this.error());return streamValue.value},{equal})),this.loaderFn=loaderFn,this.equal=equal,this.extRequest=linkedSignal({source:request,computation:request=>({request,reload:0})}),this.state=linkedSignal({source:this.extRequest,computation:(extRequest,previous)=>{const status=void 0===extRequest.request?"idle":"loading";return previous?{extRequest,status,previousStatus:projectStatusOfState(previous.value),stream:previous.value.extRequest.request===extRequest.request?previous.value.stream:void 0}:{extRequest,status,previousStatus:"idle",stream:void 0}}}),this.effectRef=effect(this.loadEffect.bind(this),{injector,manualCleanup:!0}),this.pendingTasks=injector.get(root_effect_scheduler.u5s),this.unregisterOnDestroy=injector.get(root_effect_scheduler.abz).onDestroy(()=>this.destroy())}status=computed(()=>projectStatusOfState(this.state()));error=computed(()=>{const stream=this.state().stream?.();return stream&&!isResolved(stream)?stream.error:void 0});set(value){if(this.destroyed)return;const error=resource_untracked(this.error),state=resource_untracked(this.state);if(!error){const current=resource_untracked(this.value);if("local"===state.status&&(this.equal?this.equal(current,value):current===value))return}this.state.set({extRequest:state.extRequest,status:"local",previousStatus:"local",stream:(0,root_effect_scheduler.vPA)({value})}),this.abortInProgressLoad()}reload(){const{status}=resource_untracked(this.state);return"idle"!==status&&"loading"!==status&&(this.extRequest.update(({request,reload})=>({request,reload:reload+1})),!0)}destroy(){this.destroyed=!0,this.unregisterOnDestroy(),this.effectRef.destroy(),this.abortInProgressLoad(),this.state.set({extRequest:{request:void 0,reload:0},status:"idle",previousStatus:"idle",stream:void 0})}loadEffect(){var _this=this;return(0,asyncToGenerator.A)(function*(){const extRequest=_this.extRequest(),{status:currentStatus,previousStatus}=resource_untracked(_this.state);if(void 0===extRequest.request)return;if("loading"!==currentStatus)return;_this.abortInProgressLoad();let resolvePendingTask=_this.resolvePendingTask=_this.pendingTasks.add();const{signal:abortSignal}=_this.pendingController=new AbortController;try{const stream=yield resource_untracked(()=>_this.loaderFn({params:extRequest.request,request:extRequest.request,abortSignal,previous:{status:previousStatus}}));if(abortSignal.aborted||resource_untracked(_this.extRequest)!==extRequest)return;_this.state.set({extRequest,status:"resolved",previousStatus:"resolved",stream})}catch(err){if(abortSignal.aborted||resource_untracked(_this.extRequest)!==extRequest)return;_this.state.set({extRequest,status:"resolved",previousStatus:"error",stream:(0,root_effect_scheduler.vPA)({error:encapsulateResourceError(err)})})}finally{resolvePendingTask?.(),resolvePendingTask=void 0}})()}abortInProgressLoad(){resource_untracked(()=>this.pendingController?.abort()),this.pendingController=void 0,this.resolvePendingTask?.(),this.resolvePendingTask=void 0}}function projectStatusOfState(state){switch(state.status){case"loading":return 0===state.extRequest.reload?"loading":"reloading";case"resolved":return isResolved(state.stream())?"resolved":"error";default:return state.status}}function isResolved(state){return void 0===state.error}function encapsulateResourceError(error){return error instanceof Error?error:new ResourceWrappedError(error)}class ResourceValueError extends Error{constructor(error){super(ngDevMode?`Resource is currently in an error state (see Error.cause for details): ${error.message}`:error.message,{cause:error})}}class ResourceWrappedError extends Error{constructor(error){super(ngDevMode?`Resource returned an error that's not an Error instance: ${String(error)}. Check this error's .cause for the actual error.`:String(error),{cause:error})}}},"./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$8:()=>throwError,$Hz:()=>throwProviderNotFoundError,A0l:()=>isLContainer,AQb:()=>SCHEDULE_IN_ROOT_ZONE,Ab:()=>getCurrentParentTNode,Af3:()=>assertInInjectionContext,Agf:()=>getDirectiveDefOrThrow,AsM:()=>stringify,B22:()=>storeCleanupWithContext,B9r:()=>INJECTOR_DEF_TYPES,BCV:()=>provideEnvironmentInitializer,BI7:()=>emitInjectEvent,Bqz:()=>flatten,By9:()=>ɵɵnamespaceMathML,CQl:()=>NG_COMP_DEF,CZt:()=>NG_DIR_DEF,CpD:()=>getSelectedTNode,Cv0:()=>assertString,Czx:()=>ON_DESTROY_HOOKS,DFp:()=>setInjectorProfilerContext,Ds7:()=>QUERIES,DyX:()=>removeLViewOnDestroy,E6O:()=>removeFromArray,EFk:()=>isRootView,EJG:()=>CHILD_HEAD,EPY:()=>isDestroyed,EYC:()=>addToArray,EmA:()=>makeEnvironmentProviders,Evm:()=>ZONELESS_ENABLED,F1c:()=>viewAttachedToChangeDetector,FRF:()=>keyValueArrayIndexOf,Fje:()=>increaseElementDepthCount,G2t:()=>ɵɵdefineInjector,GA0:()=>setCurrentQueryIndex,GBX:()=>INJECTOR_SCOPE,GWr:()=>assertGreaterThan,GYQ:()=>PROVIDED_ZONELESS,GZS:()=>assertComponentType,GpT:()=>RENDERER,HAh:()=>markViewForRefresh,HO5:()=>signalAsReadonlyFn,HUe:()=>resetPreOrderHookFlags,HaV:()=>getDirectiveDef,Hh6:()=>load,Hps:()=>isSignal,IAh:()=>assertNotSame,ID:()=>ID,ID8:()=>enterView,ITl:()=>viewAttachedToContainer,Iaj:()=>REACTIVE_TEMPLATE_CONSUMER,Isx:()=>ANIMATIONS,IvY:()=>unwrapRNode,JEi:()=>AFTER_RENDER_SEQUENCES_TO_ADD,Jat:()=>createInjector,JjR:()=>isInI18nBlock,JlV:()=>isComponentDef,Jy$:()=>ZONELESS_SCHEDULER_DISABLED,Jzi:()=>isForwardRef,K29:()=>NEXT,K7h:()=>keyValueArrayGet,KET:()=>assertNgModuleType,KVO:()=>ɵɵinject,KXn:()=>NodeInjectorDestroyRef,KdJ:()=>getComponentLViewByIndex,KtD:()=>isInSkipHydrationBlock,Kw3:()=>setBindingIndex,LIA:()=>assertFunction,LZP:()=>assertElement,M0L:()=>ENVIRONMENT,M6u:()=>isInInjectionContext,MI:()=>assertParentView,MME:()=>isClassProvider,MT:()=>getCurrentDirectiveDef,MZA:()=>EMPTY_OBJ,M_e:()=>store,MdC:()=>assertLView,MdQ:()=>isProjectionTNode,Mlv:()=>EMPTY_ARRAY,Mx4:()=>getCurrentTNode,MzJ:()=>injectRootLimpMode,N4e:()=>runInInjectionContext,N79:()=>decreaseElementDepthCount,Njj:()=>ɵɵresetView,NtR:()=>hasI18n,O8q:()=>assertTNodeCreationIndex,OAn:()=>getLView,ONQ:()=>NG_INJ_DEF,OsK:()=>formatRuntimeError,P2g:()=>setIsInCheckNoChangesMode,P3H:()=>isExhaustiveCheckNoChanges,PEr:()=>assertDirectiveDef,PP7:()=>stringifyForError,PQT:()=>cyclicDependencyError,Pfq:()=>setCurrentTNodeAsNotParent,Pz9:()=>createInjectorWithoutInjectorInstances,Qs1:()=>isComponentHost,QuC:()=>isStandalone,R2n:()=>assertTNode,RZ9:()=>setCurrentDirectiveIndex,Rc9:()=>providerToFactory,Rfq:()=>forwardRef,Rom:()=>assertTNodeForTView,RxE:()=>Version,SKP:()=>CONTEXT,SMZ:()=>initNgDevMode,SX7:()=>wasLastNodeCreated,TWe:()=>assertFirstUpdatePass,Tkx:()=>assertNodeInjector,U45:()=>assertNumber,U7d:()=>emitInjectorToCreateInstanceEvent,UaU:()=>getNamespace,UhH:()=>isSkipHydrationRootTNode,V3y:()=>ɵunwrapWritableSignal,VKj:()=>assertTNodeForLView,VML:()=>EffectScheduler,VPL:()=>getContextLView,VVG:()=>CLEANUP,VX4:()=>cyclicDependencyErrorWithDetails,Vx9:()=>NG_PIPE_DEF,W0r:()=>assertTIcu,WB9:()=>getNullInjector,WQX:()=>inject,WbQ:()=>getNgModuleDefOrThrow,WfI:()=>newArray,Wg1:()=>FLAGS,WrV:()=>assertNumberInRange,X5O:()=>DECLARATION_VIEW,XRZ:()=>getTNode,XaM:()=>runInInjectorProfilerContext,XdD:()=>assertNotDefined,Xln:()=>assertEqual,XvL:()=>assertLessThan,Y20:()=>CONTAINER_HEADER_OFFSET,Y3W:()=>isTypeProvider,YEL:()=>INJECTOR,YWB:()=>isCurrentTNodeParent,Yrj:()=>CHILD_TAIL,Yw1:()=>HEADER_OFFSET,Z63:()=>ENVIRONMENT_INITIALIZER,Z9v:()=>getCurrentDirectiveIndex,ZFY:()=>assertInjectImplementationNotEqual,ZQF:()=>assertSame,ZRn:()=>getNativeByTNodeOrNull,ZTf:()=>INTERNAL_APPLICATION_ERROR_HANDLER,_0$:()=>getLViewParent,_Z$:()=>debugStringifyTypeForError,_gW:()=>updateAncestorTraversalFlagsOnAttach,_px:()=>getSelectedIndex,_y6:()=>isEnvironmentProviders,a2B:()=>setInjectImplementation,abz:()=>DestroyRef,b$O:()=>incrementBindingIndex,b5C:()=>DECLARATION_COMPONENT_VIEW,bBq:()=>assertHasParent,biv:()=>assertProjectionSlots,bll:()=>leaveView,blu:()=>markAncestorsForTraversal,bm_:()=>VIEW_REFS,brz:()=>walkProviderTree,buA:()=>RuntimeError,c$7:()=>getBindingIndex,cBl:()=>setIsRefreshingViews,cP4:()=>assertLContainer,cSN:()=>ɵɵenableBindings,ckz:()=>getBindingsEnabled,d31:()=>getNativeByTNode,dMS:()=>requiresRefreshOrTraversal,d_l:()=>getOrCreateLViewCleanup,db4:()=>getConstant,dmw:()=>ɵɵinvalidFactoryDep,duS:()=>INJECTOR$1,dwj:()=>fillProperties,e5P:()=>R3Injector,eBV:()=>ɵɵrestoreView,eDl:()=>TVIEW,eFE:()=>renderStringify,eVN:()=>CheckNoChangesMode,ebl:()=>getInjectorDef,ezK:()=>keyValueArraySet,f7T:()=>PARENT,fuf:()=>ɵɵdisableBindings,gOD:()=>provideBrowserGlobalErrorListeners,gsJ:()=>arraySplice,gv8:()=>errorHandlerEnvironmentInitializer,gxQ:()=>getBindingRoot,hjC:()=>convertToBitFlags,hk6:()=>ChangeDetectionScheduler,hmW:()=>NG_MOD_DEF,iMd:()=>setCurrentTNode,iYM:()=>assertDefined,ihb:()=>enterDI,ik5:()=>storeLViewOnDestroy,iw4:()=>assertNotEqual,jDH:()=>ɵɵdefineInjectable,jNO:()=>enterSkipHydrationBlock,jNX:()=>SVG_NAMESPACE,jRZ:()=>walkUpViews,jXY:()=>internalImportProvidersFrom,jgP:()=>HOST,joV:()=>ɵɵnamespaceHTML,jvu:()=>nextContextImpl,kLh:()=>getClosureSafeProperty,kNT:()=>assertOneOf,kU6:()=>truncateMiddle,kcM:()=>setInjectorProfiler,klJ:()=>getTView,krE:()=>leaveSkipHydrationBlock,lQ1:()=>noop,laP:()=>_global,llW:()=>arrayInsert2,m7n:()=>lastNodeWasCreated,muV:()=>isInjectable,n$e:()=>concatStringsWithSpace,n$r:()=>isWritableSignal,nKC:()=>InjectionToken,nZS:()=>emitProviderConfiguredEvent,nfM:()=>MOVED_VIEWS,ng7:()=>arrayEquals,niQ:()=>leaveDI,nl4:()=>resolveForwardRef,oKB:()=>importProvidersFrom,oMQ:()=>EMBEDDED_VIEW_INJECTOR,oTH:()=>NullInjector,oZy:()=>assertIndexInExpandoRange,ok8:()=>XSS_SECURITY_URL,oyA:()=>getPipeDef,p9y:()=>NG_ELEMENT_ID,pbo:()=>assertGreaterThanOrEqual,pcR:()=>EFFECTS_TO_SCHEDULE,phH:()=>getNgModuleDef,pr_:()=>assertNotReactive,q$2:()=>isLView,qFA:()=>DEHYDRATED_VIEWS,qQL:()=>DOCUMENT,qSk:()=>ɵɵnamespaceSVG,qlT:()=>T_HOST,r4V:()=>ViewContext,rFz:()=>isInCheckNoChangesMode,rJ1:()=>MATH_ML_NAMESPACE,rQE:()=>DECLARATION_LCONTAINER,rev:()=>PendingTasksInternal,rrq:()=>getInjectableDef,s6P:()=>NATIVE,srX:()=>isContentQueryHost,tF7:()=>assertIndexInRange,tQN:()=>EFFECTS,tcA:()=>HYDRATION,tdH:()=>assertNotInReactiveContext,u5s:()=>PendingTasks,uXy:()=>emitInstanceCreatedByInjectorEvent,uvJ:()=>EnvironmentInjector,vEq:()=>defineInjectable,vNG:()=>getOrCreateTViewCleanup,vOT:()=>isCreationMode,vPA:()=>signal,vQI:()=>setBindingRootForHostBindings,vaC:()=>getNativeByIndex,veI:()=>getCurrentTNodePlaceholderOk,w7Z:()=>getCurrentQueryIndex,wGu:()=>getFactoryDef,wVl:()=>PREORDER_HOOK_FLAGS,xLP:()=>deepForEach,xUg:()=>getComponentDef,xbp:()=>nextBindingIndex,xvI:()=>VERSION,xyx:()=>setInI18nBlock,yAH:()=>NG_PROV_DEF,yP_:()=>isRefreshingViews,yoD:()=>isDirectiveHost,ypq:()=>setSelectedIndex,yzR:()=>assertFirstCreatePass,z6V:()=>attachInjectFlag,z7f:()=>assertDomNode,zAe:()=>unwrapLView,zQk:()=>assertIndexInDeclRange,zSs:()=>NG_FACTORY_DEF,zZn:()=>Injector,zcH:()=>ErrorHandler,znI:()=>getElementDepthCount,zuh:()=>emitEffectCreatedEvent});var _not_found_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/not_found.mjs"),_signal_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/signal.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js");class Version{full;major;minor;patch;constructor(full){this.full=full;const parts=full.split(".");this.major=parts[0],this.minor=parts[1],this.patch=parts.slice(2).join(".")}}const VERSION=new Version("20.3.15"),ERROR_DETAILS_PAGE_BASE_URL=`https://${"0"!==VERSION.major?`v${VERSION.major}.`:""}angular.dev/errors`,XSS_SECURITY_URL="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class RuntimeError extends Error{code;constructor(code,message){super(formatRuntimeError(code,message)),this.code=code}}function formatRuntimeError(code,message){const fullCode=function formatRuntimeErrorCode(code){return`NG0${Math.abs(code)}`}(code);let errorMessage=`${fullCode}${message?": "+message:""}`;if(ngDevMode&&code<0){const addPeriodSeparator=!errorMessage.match(/[.,;!?\n]$/);errorMessage=`${errorMessage}${addPeriodSeparator?".":""} Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/${fullCode}`}return errorMessage}const _global=globalThis;function initNgDevMode(){return!("undefined"!=typeof ngDevMode&&!ngDevMode)&&("object"==typeof ngDevMode&&0!==Object.keys(ngDevMode).length||function ngDevModeResetPerfCounters(){const newCounters={hydratedNodes:0,hydratedComponents:0,dehydratedViewsRemoved:0,dehydratedViewsCleanupRuns:0,componentsSkippedHydration:0,deferBlocksWithIncrementalHydration:0};return-1===("undefined"!=typeof location?location.toString():"").indexOf("ngDevMode=false")?("object"!=typeof _global.ngDevMode&&(_global.ngDevMode={}),Object.assign(_global.ngDevMode,newCounters)):_global.ngDevMode=!1,newCounters}(),"undefined"!=typeof ngDevMode&&!!ngDevMode)}function getClosureSafeProperty(objWithPropertyToExtract){for(let key in objWithPropertyToExtract)if(objWithPropertyToExtract[key]===getClosureSafeProperty)return key;throw Error("undefined"!=typeof ngDevMode&&ngDevMode?"Could not find renamed property on target object.":"")}function fillProperties(target,source){for(const key in source)source.hasOwnProperty(key)&&!target.hasOwnProperty(key)&&(target[key]=source[key])}function stringify(token){if("string"==typeof token)return token;if(Array.isArray(token))return`[${token.map(stringify).join(", ")}]`;if(null==token)return""+token;const name=token.overriddenName||token.name;if(name)return`${name}`;const result=token.toString();if(null==result)return""+result;const newLineIndex=result.indexOf("\n");return newLineIndex>=0?result.slice(0,newLineIndex):result}function concatStringsWithSpace(before,after){return before?after?`${before} ${after}`:before:after||""}function truncateMiddle(str,maxLength=100){if(!str||maxLength<1||str.length<=maxLength)return str;if(1==maxLength)return str.substring(0,1)+"...";const halfLimit=Math.round(maxLength/2);return str.substring(0,halfLimit)+"..."+str.substring(str.length-halfLimit)}const __forward_ref__=getClosureSafeProperty({__forward_ref__:getClosureSafeProperty});function forwardRef(forwardRefFn){return forwardRefFn.__forward_ref__=forwardRef,forwardRefFn.toString=function(){return stringify(this())},forwardRefFn}function resolveForwardRef(type){return isForwardRef(type)?type():type}function isForwardRef(fn){return"function"==typeof fn&&fn.hasOwnProperty(__forward_ref__)&&fn.__forward_ref__===forwardRef}function assertNumber(actual,msg){"number"!=typeof actual&&throwError(msg,typeof actual,"number","===")}function assertNumberInRange(actual,minInclusive,maxInclusive){assertNumber(actual,"Expected a number"),assertLessThanOrEqual(actual,maxInclusive,"Expected number to be less than or equal to"),assertGreaterThanOrEqual(actual,minInclusive,"Expected number to be greater than or equal to")}function assertString(actual,msg){"string"!=typeof actual&&throwError(msg,null===actual?"null":typeof actual,"string","===")}function assertFunction(actual,msg){"function"!=typeof actual&&throwError(msg,null===actual?"null":typeof actual,"function","===")}function assertEqual(actual,expected,msg){actual!=expected&&throwError(msg,actual,expected,"==")}function assertNotEqual(actual,expected,msg){actual==expected&&throwError(msg,actual,expected,"!=")}function assertSame(actual,expected,msg){actual!==expected&&throwError(msg,actual,expected,"===")}function assertNotSame(actual,expected,msg){actual===expected&&throwError(msg,actual,expected,"!==")}function assertLessThan(actual,expected,msg){actual<expected||throwError(msg,actual,expected,"<")}function assertLessThanOrEqual(actual,expected,msg){actual<=expected||throwError(msg,actual,expected,"<=")}function assertGreaterThan(actual,expected,msg){actual>expected||throwError(msg,actual,expected,">")}function assertGreaterThanOrEqual(actual,expected,msg){actual>=expected||throwError(msg,actual,expected,">=")}function assertNotDefined(actual,msg){null!=actual&&throwError(msg,actual,null,"==")}function assertDefined(actual,msg){null==actual&&throwError(msg,actual,null,"!=")}function throwError(msg,actual,expected,comparison){throw new Error(`ASSERTION ERROR: ${msg}`+(null==comparison?"":` [Expected=> ${expected} ${comparison} ${actual} <=Actual]`))}function assertDomNode(node){node instanceof Node||throwError(`The provided value must be an instance of a DOM Node but got ${stringify(node)}`)}function assertElement(node){node instanceof Element||throwError(`The provided value must be an element but got ${stringify(node)}`)}function assertIndexInRange(arr,index){assertDefined(arr,"Array must be defined.");const maxLen=arr.length;(index<0||index>=maxLen)&&throwError(`Index expected to be less than ${maxLen} but got ${index}`)}function assertOneOf(value,...validValues){if(-1!==validValues.indexOf(value))return!0;throwError(`Expected value to be one of ${JSON.stringify(validValues)} but was ${JSON.stringify(value)}.`)}function assertNotReactive(fn){null!==(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_1__.nR)()&&throwError(`${fn}() should never be called in a reactive context.`)}function ɵɵdefineInjectable(opts){return{token:opts.token,providedIn:opts.providedIn||null,factory:opts.factory,value:void 0}}const defineInjectable=ɵɵdefineInjectable;function ɵɵdefineInjector(options){return{providers:options.providers||[],imports:options.imports||[]}}function getInjectableDef(type){return function getOwnDefinition(type,field){return type.hasOwnProperty(field)&&type[field]||null}(type,NG_PROV_DEF)}function isInjectable(type){return null!==getInjectableDef(type)}function getInjectorDef(type){return type&&type.hasOwnProperty(NG_INJ_DEF)?type[NG_INJ_DEF]:null}const NG_PROV_DEF=getClosureSafeProperty({ɵprov:getClosureSafeProperty}),NG_INJ_DEF=getClosureSafeProperty({ɵinj:getClosureSafeProperty});class InjectionToken{_desc;ngMetadataName="InjectionToken";ɵprov;constructor(_desc,options){this._desc=_desc,this.ɵprov=void 0,"number"==typeof options?(("undefined"==typeof ngDevMode||ngDevMode)&&assertLessThan(options,0,"Only negative numbers are supported here"),this.__NG_ELEMENT_ID__=options):void 0!==options&&(this.ɵprov=ɵɵdefineInjectable({token:this,providedIn:options.providedIn||"root",factory:options.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let _injectorProfilerContext;function getInjectorProfilerContext(){return!ngDevMode&&throwError("getInjectorProfilerContext should never be called in production mode"),_injectorProfilerContext}function setInjectorProfilerContext(context){!ngDevMode&&throwError("setInjectorProfilerContext should never be called in production mode");const previous=_injectorProfilerContext;return _injectorProfilerContext=context,previous}const injectorProfilerCallbacks=[],NOOP_PROFILER_REMOVAL=()=>{};function setInjectorProfiler(injectorProfiler){return!ngDevMode&&throwError("setInjectorProfiler should never be called in production mode"),null!==injectorProfiler?(injectorProfilerCallbacks.includes(injectorProfiler)||injectorProfilerCallbacks.push(injectorProfiler),()=>function removeProfiler(profiler){const profilerIdx=injectorProfilerCallbacks.indexOf(profiler);-1!==profilerIdx&&injectorProfilerCallbacks.splice(profilerIdx,1)}(injectorProfiler)):(injectorProfilerCallbacks.length=0,NOOP_PROFILER_REMOVAL)}function injectorProfiler(event){!ngDevMode&&throwError("Injector profiler should never be called in production mode");for(let i=0;i<injectorProfilerCallbacks.length;i++){(0,injectorProfilerCallbacks[i])(event)}}function emitProviderConfiguredEvent(eventProvider,isViewProvider=!1){let token;!ngDevMode&&throwError("Injector profiler should never be called in production mode"),token="function"==typeof eventProvider||eventProvider instanceof InjectionToken?eventProvider:resolveForwardRef(eventProvider.provide);let provider=eventProvider;eventProvider instanceof InjectionToken&&(provider=eventProvider.ɵprov||eventProvider),injectorProfiler({type:2,context:getInjectorProfilerContext(),providerRecord:{token,provider,isViewProvider}})}function emitInjectorToCreateInstanceEvent(token){!ngDevMode&&throwError("Injector profiler should never be called in production mode"),injectorProfiler({type:4,context:getInjectorProfilerContext(),token})}function emitInstanceCreatedByInjectorEvent(instance){!ngDevMode&&throwError("Injector profiler should never be called in production mode"),injectorProfiler({type:1,context:getInjectorProfilerContext(),instance:{value:instance}})}function emitInjectEvent(token,value,flags){!ngDevMode&&throwError("Injector profiler should never be called in production mode"),injectorProfiler({type:0,context:getInjectorProfilerContext(),service:{token,value,flags}})}function emitEffectCreatedEvent(effect){!ngDevMode&&throwError("Injector profiler should never be called in production mode"),injectorProfiler({type:3,context:getInjectorProfilerContext(),effect})}function runInInjectorProfilerContext(injector,token,callback){!ngDevMode&&throwError("runInInjectorProfilerContext should never be called in production mode");const prevInjectContext=setInjectorProfilerContext({injector,token});try{callback()}finally{setInjectorProfilerContext(prevInjectContext)}}function isEnvironmentProviders(value){return value&&!!value.ɵproviders}const NG_COMP_DEF=getClosureSafeProperty({ɵcmp:getClosureSafeProperty}),NG_DIR_DEF=getClosureSafeProperty({ɵdir:getClosureSafeProperty}),NG_PIPE_DEF=getClosureSafeProperty({ɵpipe:getClosureSafeProperty}),NG_MOD_DEF=getClosureSafeProperty({ɵmod:getClosureSafeProperty}),NG_FACTORY_DEF=getClosureSafeProperty({ɵfac:getClosureSafeProperty}),NG_ELEMENT_ID=getClosureSafeProperty({__NG_ELEMENT_ID__:getClosureSafeProperty}),NG_ENV_ID=getClosureSafeProperty({__NG_ENV_ID__:getClosureSafeProperty});function renderStringify(value){return"string"==typeof value?value:null==value?"":String(value)}function stringifyForError(value){return"function"==typeof value?value.name||value.toString():"object"==typeof value&&null!=value&&"function"==typeof value.type?value.type.name||value.type.toString():renderStringify(value)}function debugStringifyTypeForError(type){let componentDef=type[NG_COMP_DEF]||null;return null!==componentDef&&componentDef.debugInfo?function stringifyTypeFromDebugInfo(debugInfo){return debugInfo.filePath&&debugInfo.lineNumber?`${debugInfo.className} (at ${debugInfo.filePath}:${debugInfo.lineNumber})`:debugInfo.className}(componentDef.debugInfo):stringifyForError(type)}const NG_RUNTIME_ERROR_CODE=getClosureSafeProperty({ngErrorCode:getClosureSafeProperty}),NG_RUNTIME_ERROR_MESSAGE=getClosureSafeProperty({ngErrorMessage:getClosureSafeProperty}),NG_TOKEN_PATH=getClosureSafeProperty({ngTokenPath:getClosureSafeProperty});function cyclicDependencyError(token,path){return createRuntimeError(ngDevMode?`Circular dependency detected for \`${token}\`.`:"",-200,path)}function cyclicDependencyErrorWithDetails(token,path){return augmentRuntimeError(cyclicDependencyError(token,path),null)}function throwMixedMultiProviderError(){throw new Error("Cannot mix multi providers and regular providers")}function throwInvalidProviderError(ngModuleType,providers,provider){if(ngModuleType&&providers){const providerDetail=providers.map(v=>v==provider?"?"+provider+"?":"...");throw new Error(`Invalid provider for the NgModule '${stringify(ngModuleType)}' - only instances of Provider and Type are allowed, got: [${providerDetail.join(", ")}]`)}throw isEnvironmentProviders(provider)?provider.ɵfromNgModule?new RuntimeError(207,"Invalid providers from 'importProvidersFrom' present in a non-environment injector. 'importProvidersFrom' can't be used for component providers."):new RuntimeError(207,"Invalid providers present in a non-environment injector. 'EnvironmentProviders' can't be used for component providers."):new Error("Invalid provider")}function throwProviderNotFoundError(token,injectorName){const errorMessage=ngDevMode&&`No provider for ${stringifyForError(token)} found${injectorName?` in ${injectorName}`:""}`;throw new RuntimeError(-201,errorMessage)}function augmentRuntimeError(error,source){const tokenPath=error[NG_TOKEN_PATH],errorCode=error[NG_RUNTIME_ERROR_CODE],message=error[NG_RUNTIME_ERROR_MESSAGE]||error.message;return error.message=function formatErrorMessage(text,code,path=[],source=null){let pathDetails="";path&&path.length>1&&(pathDetails=` Path: ${path.join(" -> ")}.`);const sourceDetails=source?` Source: ${source}.`:"";return formatRuntimeError(code,`${text}${sourceDetails}${pathDetails}`)}(message,errorCode,tokenPath,source),error}function createRuntimeError(message,code,path){const error=new RuntimeError(code,message);return error[NG_RUNTIME_ERROR_CODE]=code,error[NG_RUNTIME_ERROR_MESSAGE]=message,path&&(error[NG_TOKEN_PATH]=path),error}let _injectImplementation;function getInjectImplementation(){return _injectImplementation}function setInjectImplementation(impl){const previous=_injectImplementation;return _injectImplementation=impl,previous}function injectRootLimpMode(token,notFoundValue,flags){const injectableDef=getInjectableDef(token);return injectableDef&&"root"==injectableDef.providedIn?void 0===injectableDef.value?injectableDef.value=injectableDef.factory():injectableDef.value:8&flags?null:void 0!==notFoundValue?notFoundValue:void throwProviderNotFoundError(token,"Injector")}function assertInjectImplementationNotEqual(fn){ngDevMode&&assertNotEqual(_injectImplementation,fn,"Calling ɵɵinject would cause infinite recursion")}const THROW_IF_NOT_FOUND={},DI_DECORATOR_FLAG="__NG_DI_FLAG__";class RetrievingInjector{injector;constructor(injector){this.injector=injector}retrieve(token,options){const flags=convertToBitFlags(options)||0;try{return this.injector.get(token,8&flags?null:THROW_IF_NOT_FOUND,flags)}catch(e){if((0,_not_found_mjs__WEBPACK_IMPORTED_MODULE_0__.c4)(e))return e;throw e}}}function injectInjectorOnly(token,flags=0){const currentInjector=(0,_not_found_mjs__WEBPACK_IMPORTED_MODULE_0__.Af)();if(void 0===currentInjector)throw new RuntimeError(-203,ngDevMode&&`The \`${stringify(token)}\` token injection failed. \`inject()\` function must be called from an injection context such as a constructor, a factory function, a field initializer, or a function used with \`runInInjectionContext\`.`);if(null===currentInjector)return injectRootLimpMode(token,void 0,flags);{const options=function convertToInjectOptions(flags){return{optional:!!(8&flags),host:!!(1&flags),self:!!(2&flags),skipSelf:!!(4&flags)}}(flags),value=currentInjector.retrieve(token,options);if(ngDevMode&&emitInjectEvent(token,value,flags),(0,_not_found_mjs__WEBPACK_IMPORTED_MODULE_0__.c4)(value)){if(options.optional)return null;throw value}return value}}function ɵɵinject(token,flags=0){return(getInjectImplementation()||injectInjectorOnly)(resolveForwardRef(token),flags)}function ɵɵinvalidFactoryDep(index){throw new RuntimeError(202,ngDevMode&&`This constructor is not compatible with Angular Dependency Injection because its dependency at index ${index} of the parameter list is invalid.\nThis can happen if the dependency type is a primitive like a string or if an ancestor of this class is missing an Angular decorator.\n\nPlease check that 1) the type for the parameter at index ${index} is correct and 2) the correct Angular decorators are defined for this class and its ancestors.`)}function inject(token,options){return ɵɵinject(token,convertToBitFlags(options))}function convertToBitFlags(flags){return void 0===flags||"number"==typeof flags?flags:0|(flags.optional&&8)|(flags.host&&1)|(flags.self&&2)|(flags.skipSelf&&4)}function injectArgs(types){const args=[];for(let i=0;i<types.length;i++){const arg=resolveForwardRef(types[i]);if(Array.isArray(arg)){if(0===arg.length)throw new RuntimeError(900,ngDevMode&&"Arguments array must have arguments.");let type,flags=0;for(let j=0;j<arg.length;j++){const meta=arg[j],flag=getInjectFlag(meta);"number"==typeof flag?-1===flag?type=meta.token:flags|=flag:type=meta}args.push(ɵɵinject(type,flags))}else args.push(ɵɵinject(arg))}return args}function attachInjectFlag(decorator,flag){return decorator[DI_DECORATOR_FLAG]=flag,decorator.prototype[DI_DECORATOR_FLAG]=flag,decorator}function getInjectFlag(token){return token[DI_DECORATOR_FLAG]}function getFactoryDef(type,throwNotFound){const hasFactoryDef=type.hasOwnProperty(NG_FACTORY_DEF);if(!hasFactoryDef&&!0===throwNotFound&&ngDevMode)throw new Error(`Type ${stringify(type)} does not have 'ɵfac' property.`);return hasFactoryDef?type[NG_FACTORY_DEF]:null}function arrayEquals(a,b,identityAccessor){if(a.length!==b.length)return!1;for(let i=0;i<a.length;i++){let valueA=a[i],valueB=b[i];if(identityAccessor&&(valueA=identityAccessor(valueA),valueB=identityAccessor(valueB)),valueB!==valueA)return!1}return!0}function flatten(list){return list.flat(Number.POSITIVE_INFINITY)}function deepForEach(input,fn){input.forEach(value=>Array.isArray(value)?deepForEach(value,fn):fn(value))}function addToArray(arr,index,value){index>=arr.length?arr.push(value):arr.splice(index,0,value)}function removeFromArray(arr,index){return index>=arr.length-1?arr.pop():arr.splice(index,1)[0]}function newArray(size,value){const list=[];for(let i=0;i<size;i++)list.push(value);return list}function arraySplice(array,index,count){const length=array.length-count;for(;index<length;)array[index]=array[index+count],index++;for(;count--;)array.pop()}function arrayInsert2(array,index,value1,value2){ngDevMode&&assertLessThanOrEqual(index,array.length,"Can't insert past array end.");let end=array.length;if(end==index)array.push(value1,value2);else if(1===end)array.push(value2,array[0]),array[0]=value1;else{for(end--,array.push(array[end-1],array[end]);end>index;){const previousEnd=end-2;array[end]=array[previousEnd],end--}array[index]=value1,array[index+1]=value2}}function keyValueArraySet(keyValueArray,key,value){let index=keyValueArrayIndexOf(keyValueArray,key);return index>=0?keyValueArray[1|index]=value:(index=~index,arrayInsert2(keyValueArray,index,key,value)),index}function keyValueArrayGet(keyValueArray,key){const index=keyValueArrayIndexOf(keyValueArray,key);if(index>=0)return keyValueArray[1|index]}function keyValueArrayIndexOf(keyValueArray,key){return function _arrayIndexOfSorted(array,value,shift){ngDevMode&&assertEqual(Array.isArray(array),!0,"Expecting an array");let start=0,end=array.length>>shift;for(;end!==start;){const middle=start+(end-start>>1),current=array[middle<<shift];if(value===current)return middle<<shift;current>value?end=middle:start=middle+1}return~(end<<shift)}(keyValueArray,key,1)}const EMPTY_OBJ={},EMPTY_ARRAY=[];("undefined"==typeof ngDevMode||ngDevMode)&&initNgDevMode()&&(Object.freeze(EMPTY_OBJ),Object.freeze(EMPTY_ARRAY));const ENVIRONMENT_INITIALIZER=new InjectionToken(ngDevMode?"ENVIRONMENT_INITIALIZER":""),INJECTOR$1=new InjectionToken(ngDevMode?"INJECTOR":"",-1),INJECTOR_DEF_TYPES=new InjectionToken(ngDevMode?"INJECTOR_DEF_TYPES":"");class NullInjector{get(token,notFoundValue=THROW_IF_NOT_FOUND){if(notFoundValue===THROW_IF_NOT_FOUND){const error=createRuntimeError(ngDevMode?`No provider found for \`${stringify(token)}\`.`:"",-201);throw error.name="ɵNotFound",error}return notFoundValue}}function getNgModuleDef(type){return type[NG_MOD_DEF]||null}function getNgModuleDefOrThrow(type){const ngModuleDef=getNgModuleDef(type);if(!ngModuleDef)throw new RuntimeError(915,("undefined"==typeof ngDevMode||ngDevMode)&&`Type ${stringify(type)} does not have 'ɵmod' property.`);return ngModuleDef}function getComponentDef(type){return type[NG_COMP_DEF]||null}function getDirectiveDefOrThrow(type){const def=getDirectiveDef(type);if(!def)throw new RuntimeError(916,("undefined"==typeof ngDevMode||ngDevMode)&&`Type ${stringify(type)} does not have 'ɵdir' property.`);return def}function getDirectiveDef(type){return type[NG_DIR_DEF]||null}function getPipeDef(type){return type[NG_PIPE_DEF]||null}function isStandalone(type){const def=getComponentDef(type)||getDirectiveDef(type)||getPipeDef(type);return null!==def&&def.standalone}function makeEnvironmentProviders(providers){return{ɵproviders:providers}}function provideEnvironmentInitializer(initializerFn){return makeEnvironmentProviders([{provide:ENVIRONMENT_INITIALIZER,multi:!0,useValue:initializerFn}])}function importProvidersFrom(...sources){return{ɵproviders:internalImportProvidersFrom(!0,sources),ɵfromNgModule:!0}}function internalImportProvidersFrom(checkForStandaloneCmp,...sources){const providersOut=[],dedup=new Set;let injectorTypesWithProviders;const collectProviders=provider=>{providersOut.push(provider)};return deepForEach(sources,source=>{if(("undefined"==typeof ngDevMode||ngDevMode)&&checkForStandaloneCmp){const cmpDef=getComponentDef(source);if(cmpDef?.standalone)throw new RuntimeError(800,`Importing providers supports NgModule or ModuleWithProviders but got a standalone component "${stringifyForError(source)}"`)}const internalSource=source;walkProviderTree(internalSource,collectProviders,[],dedup)&&(injectorTypesWithProviders||=[],injectorTypesWithProviders.push(internalSource))}),void 0!==injectorTypesWithProviders&&processInjectorTypesWithProviders(injectorTypesWithProviders,collectProviders),providersOut}function processInjectorTypesWithProviders(typesWithProviders,visitor){for(let i=0;i<typesWithProviders.length;i++){const{ngModule,providers}=typesWithProviders[i];deepForEachProvider(providers,provider=>{ngDevMode&&validateProvider(provider,providers||EMPTY_ARRAY,ngModule),visitor(provider,ngModule)})}}function walkProviderTree(container,visitor,parents,dedup){if(!(container=resolveForwardRef(container)))return!1;let defType=null,injDef=getInjectorDef(container);const cmpDef=!injDef&&getComponentDef(container);if(injDef||cmpDef){if(cmpDef&&!cmpDef.standalone)return!1;defType=container}else{const ngModule=container.ngModule;if(injDef=getInjectorDef(ngModule),!injDef)return!1;defType=ngModule}if(ngDevMode&&-1!==parents.indexOf(defType)){const defName=stringify(defType);throw cyclicDependencyErrorWithDetails(defName,parents.map(stringify).concat(defName))}const isDuplicate=dedup.has(defType);if(cmpDef){if(isDuplicate)return!1;if(dedup.add(defType),cmpDef.dependencies){const deps="function"==typeof cmpDef.dependencies?cmpDef.dependencies():cmpDef.dependencies;for(const dep of deps)walkProviderTree(dep,visitor,parents,dedup)}}else{if(!injDef)return!1;{if(null!=injDef.imports&&!isDuplicate){let importTypesWithProviders;ngDevMode&&parents.push(defType),dedup.add(defType);try{deepForEach(injDef.imports,imported=>{walkProviderTree(imported,visitor,parents,dedup)&&(importTypesWithProviders||=[],importTypesWithProviders.push(imported))})}finally{ngDevMode&&parents.pop()}void 0!==importTypesWithProviders&&processInjectorTypesWithProviders(importTypesWithProviders,visitor)}if(!isDuplicate){const factory=getFactoryDef(defType)||(()=>new defType);visitor({provide:defType,useFactory:factory,deps:EMPTY_ARRAY},defType),visitor({provide:INJECTOR_DEF_TYPES,useValue:defType,multi:!0},defType),visitor({provide:ENVIRONMENT_INITIALIZER,useValue:()=>ɵɵinject(defType),multi:!0},defType)}const defProviders=injDef.providers;if(null!=defProviders&&!isDuplicate){const injectorType=container;deepForEachProvider(defProviders,provider=>{ngDevMode&&validateProvider(provider,defProviders,injectorType),visitor(provider,injectorType)})}}}return defType!==container&&void 0!==container.providers}function validateProvider(provider,providers,containerType){if(isTypeProvider(provider)||isValueProvider(provider)||isFactoryProvider(provider)||isExistingProvider(provider))return;resolveForwardRef(provider&&(provider.useClass||provider.provide))||throwInvalidProviderError(containerType,providers,provider)}function deepForEachProvider(providers,fn){for(let provider of providers)isEnvironmentProviders(provider)&&(provider=provider.ɵproviders),Array.isArray(provider)?deepForEachProvider(provider,fn):fn(provider)}const USE_VALUE=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});function isValueProvider(value){return null!==value&&"object"==typeof value&&USE_VALUE in value}function isExistingProvider(value){return!(!value||!value.useExisting)}function isFactoryProvider(value){return!(!value||!value.useFactory)}function isTypeProvider(value){return"function"==typeof value}function isClassProvider(value){return!!value.useClass}const INJECTOR_SCOPE=new InjectionToken(ngDevMode?"Set Injector scope.":""),NOT_YET={},CIRCULAR={};let NULL_INJECTOR;function getNullInjector(){return void 0===NULL_INJECTOR&&(NULL_INJECTOR=new NullInjector),NULL_INJECTOR}class EnvironmentInjector{}class R3Injector extends EnvironmentInjector{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(providers,parent,source,scopes){super(),this.parent=parent,this.source=source,this.scopes=scopes,forEachSingleProvider(providers,provider=>this.processProvider(provider)),this.records.set(INJECTOR$1,makeRecord(void 0,this)),scopes.has("environment")&&this.records.set(EnvironmentInjector,makeRecord(void 0,this));const record=this.records.get(INJECTOR_SCOPE);null!=record&&"string"==typeof record.value&&this.scopes.add(record.value),this.injectorDefTypes=new Set(this.get(INJECTOR_DEF_TYPES,EMPTY_ARRAY,{self:!0}))}retrieve(token,options){const flags=convertToBitFlags(options)||0;try{return this.get(token,THROW_IF_NOT_FOUND,flags)}catch(e){if((0,_not_found_mjs__WEBPACK_IMPORTED_MODULE_0__.c4)(e))return e;throw e}}destroy(){assertNotDestroyed(this),this._destroyed=!0;const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_1__.Ht)(null);try{for(const service of this._ngOnDestroyHooks)service.ngOnDestroy();const onDestroyHooks=this._onDestroyHooks;this._onDestroyHooks=[];for(const hook of onDestroyHooks)hook()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_1__.Ht)(prevConsumer)}}onDestroy(callback){return assertNotDestroyed(this),this._onDestroyHooks.push(callback),()=>this.removeOnDestroy(callback)}runInContext(fn){assertNotDestroyed(this);const previousInjector=(0,_not_found_mjs__WEBPACK_IMPORTED_MODULE_0__.mu)(this),previousInjectImplementation=setInjectImplementation(void 0);let prevInjectContext;ngDevMode&&(prevInjectContext=setInjectorProfilerContext({injector:this,token:null}));try{return fn()}finally{(0,_not_found_mjs__WEBPACK_IMPORTED_MODULE_0__.mu)(previousInjector),setInjectImplementation(previousInjectImplementation),ngDevMode&&setInjectorProfilerContext(prevInjectContext)}}get(token,notFoundValue=THROW_IF_NOT_FOUND,options){if(assertNotDestroyed(this),token.hasOwnProperty(NG_ENV_ID))return token[NG_ENV_ID](this);const flags=convertToBitFlags(options);let prevInjectContext;ngDevMode&&(prevInjectContext=setInjectorProfilerContext({injector:this,token}));const previousInjector=(0,_not_found_mjs__WEBPACK_IMPORTED_MODULE_0__.mu)(this),previousInjectImplementation=setInjectImplementation(void 0);try{if(!(4&flags)){let record=this.records.get(token);if(void 0===record){const def=function couldBeInjectableType(value){return"function"==typeof value||"object"==typeof value&&"InjectionToken"===value.ngMetadataName}(token)&&getInjectableDef(token);def&&this.injectableDefInScope(def)?(ngDevMode&&runInInjectorProfilerContext(this,token,()=>{emitProviderConfiguredEvent(token)}),record=makeRecord(injectableDefOrInjectorDefFactory(token),NOT_YET)):record=null,this.records.set(token,record)}if(null!=record)return this.hydrate(token,record,flags)}const nextInjector=2&flags?getNullInjector():this.parent;return notFoundValue=8&flags&&notFoundValue===THROW_IF_NOT_FOUND?null:notFoundValue,nextInjector.get(token,notFoundValue)}catch(error){const errorCode=function getRuntimeErrorCode(error){return error[NG_RUNTIME_ERROR_CODE]}(error);throw-200===errorCode||-201===errorCode?ngDevMode?(function prependTokenToDependencyPath(error,token){error[NG_TOKEN_PATH]??=[];const currentPath=error[NG_TOKEN_PATH];let pathStr;"object"==typeof token&&"multi"in token&&!0===token?.multi?(assertDefined(token.provide,"Token with multi: true should have a provide property"),pathStr=stringifyForError(token.provide)):pathStr=stringifyForError(token),currentPath[0]!==pathStr&&error[NG_TOKEN_PATH].unshift(pathStr)}(error,token),previousInjector?error:augmentRuntimeError(error,this.source)):new RuntimeError(errorCode,null):error}finally{setInjectImplementation(previousInjectImplementation),(0,_not_found_mjs__WEBPACK_IMPORTED_MODULE_0__.mu)(previousInjector),ngDevMode&&setInjectorProfilerContext(prevInjectContext)}}resolveInjectorInitializers(){const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_1__.Ht)(null),previousInjector=(0,_not_found_mjs__WEBPACK_IMPORTED_MODULE_0__.mu)(this),previousInjectImplementation=setInjectImplementation(void 0);let prevInjectContext;ngDevMode&&(prevInjectContext=setInjectorProfilerContext({injector:this,token:null}));try{const initializers=this.get(ENVIRONMENT_INITIALIZER,EMPTY_ARRAY,{self:!0});if(ngDevMode&&!Array.isArray(initializers))throw new RuntimeError(-209,`Unexpected type of the \`ENVIRONMENT_INITIALIZER\` token value (expected an array, but got ${typeof initializers}). Please check that the \`ENVIRONMENT_INITIALIZER\` token is configured as a \`multi: true\` provider.`);for(const initializer of initializers)initializer()}finally{(0,_not_found_mjs__WEBPACK_IMPORTED_MODULE_0__.mu)(previousInjector),setInjectImplementation(previousInjectImplementation),ngDevMode&&setInjectorProfilerContext(prevInjectContext),(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_1__.Ht)(prevConsumer)}}toString(){const tokens=[],records=this.records;for(const token of records.keys())tokens.push(stringify(token));return`R3Injector[${tokens.join(", ")}]`}processProvider(provider){let token=isTypeProvider(provider=resolveForwardRef(provider))?provider:resolveForwardRef(provider&&provider.provide);const record=function providerToRecord(provider){if(isValueProvider(provider))return makeRecord(void 0,provider.useValue);return makeRecord(providerToFactory(provider),NOT_YET)}(provider);if(ngDevMode&&runInInjectorProfilerContext(this,token,()=>{isValueProvider(provider)&&(emitInjectorToCreateInstanceEvent(token),emitInstanceCreatedByInjectorEvent(provider.useValue)),emitProviderConfiguredEvent(provider)}),isTypeProvider(provider)||!0!==provider.multi){if(ngDevMode){const existing=this.records.get(token);existing&&void 0!==existing.multi&&throwMixedMultiProviderError()}}else{let multiRecord=this.records.get(token);multiRecord?ngDevMode&&void 0===multiRecord.multi&&throwMixedMultiProviderError():(multiRecord=makeRecord(void 0,NOT_YET,!0),multiRecord.factory=()=>injectArgs(multiRecord.multi),this.records.set(token,multiRecord)),token=provider,multiRecord.multi.push(provider)}this.records.set(token,record)}hydrate(token,record,flags){const prevConsumer=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_1__.Ht)(null);try{if(record.value===CIRCULAR)throw cyclicDependencyError(stringify(token));return record.value===NOT_YET&&(record.value=CIRCULAR,ngDevMode?runInInjectorProfilerContext(this,token,()=>{emitInjectorToCreateInstanceEvent(token),record.value=record.factory(void 0,flags),emitInstanceCreatedByInjectorEvent(record.value)}):record.value=record.factory(void 0,flags)),"object"==typeof record.value&&record.value&&function hasOnDestroy(value){return null!==value&&"object"==typeof value&&"function"==typeof value.ngOnDestroy}(record.value)&&this._ngOnDestroyHooks.add(record.value),record.value}finally{(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_1__.Ht)(prevConsumer)}}injectableDefInScope(def){if(!def.providedIn)return!1;const providedIn=resolveForwardRef(def.providedIn);return"string"==typeof providedIn?"any"===providedIn||this.scopes.has(providedIn):this.injectorDefTypes.has(providedIn)}removeOnDestroy(callback){const destroyCBIdx=this._onDestroyHooks.indexOf(callback);-1!==destroyCBIdx&&this._onDestroyHooks.splice(destroyCBIdx,1)}}function injectableDefOrInjectorDefFactory(token){const injectableDef=getInjectableDef(token),factory=null!==injectableDef?injectableDef.factory:getFactoryDef(token);if(null!==factory)return factory;if(token instanceof InjectionToken)throw new RuntimeError(204,ngDevMode&&`Token ${stringify(token)} is missing a ɵprov definition.`);if(token instanceof Function)return function getUndecoratedInjectableFactory(token){const paramLength=token.length;if(paramLength>0)throw new RuntimeError(204,ngDevMode&&`Can't resolve all parameters for ${stringify(token)}: (${newArray(paramLength,"?").join(", ")}).`);const inheritedInjectableDef=function getInheritedInjectableDef(type){const def=type?.[NG_PROV_DEF]??null;return def?(ngDevMode&&console.warn(`DEPRECATED: DI is instantiating a token "${type.name}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${type.name}" class.`),def):null}(token);return null!==inheritedInjectableDef?()=>inheritedInjectableDef.factory(token):()=>new token}(token);throw new RuntimeError(204,ngDevMode&&"unreachable")}function providerToFactory(provider,ngModuleType,providers){let factory;if(ngDevMode&&isEnvironmentProviders(provider)&&throwInvalidProviderError(void 0,providers,provider),isTypeProvider(provider)){const unwrappedProvider=resolveForwardRef(provider);return getFactoryDef(unwrappedProvider)||injectableDefOrInjectorDefFactory(unwrappedProvider)}if(isValueProvider(provider))factory=()=>resolveForwardRef(provider.useValue);else if(isFactoryProvider(provider))factory=()=>provider.useFactory(...injectArgs(provider.deps||[]));else if(isExistingProvider(provider))factory=(_,flags)=>ɵɵinject(resolveForwardRef(provider.useExisting),void 0!==flags&&8&flags?8:void 0);else{const classRef=resolveForwardRef(provider&&(provider.useClass||provider.provide));if(ngDevMode&&!classRef&&throwInvalidProviderError(ngModuleType,providers,provider),!function hasDeps(value){return!!value.deps}(provider))return getFactoryDef(classRef)||injectableDefOrInjectorDefFactory(classRef);factory=()=>new classRef(...injectArgs(provider.deps))}return factory}function assertNotDestroyed(injector){if(injector.destroyed)throw new RuntimeError(205,ngDevMode&&"Injector has already been destroyed.")}function makeRecord(factory,value,multi=!1){return{factory,value,multi:multi?[]:void 0}}function forEachSingleProvider(providers,fn){for(const provider of providers)Array.isArray(provider)?forEachSingleProvider(provider,fn):provider&&isEnvironmentProviders(provider)?forEachSingleProvider(provider.ɵproviders,fn):fn(provider)}function runInInjectionContext(injector,fn){let internalInjector,prevInjectorProfilerContext;injector instanceof R3Injector?(assertNotDestroyed(injector),internalInjector=injector):internalInjector=new RetrievingInjector(injector),ngDevMode&&(prevInjectorProfilerContext=setInjectorProfilerContext({injector,token:null}));const prevInjector=(0,_not_found_mjs__WEBPACK_IMPORTED_MODULE_0__.mu)(internalInjector),previousInjectImplementation=setInjectImplementation(void 0);try{return fn()}finally{(0,_not_found_mjs__WEBPACK_IMPORTED_MODULE_0__.mu)(prevInjector),ngDevMode&&setInjectorProfilerContext(prevInjectorProfilerContext),setInjectImplementation(previousInjectImplementation)}}function isInInjectionContext(){return void 0!==getInjectImplementation()||null!=(0,_not_found_mjs__WEBPACK_IMPORTED_MODULE_0__.Af)()}function assertInInjectionContext(debugFn){if(!isInInjectionContext())throw new RuntimeError(-203,ngDevMode&&debugFn.name+"() can only be used within an injection context such as a constructor, a factory function, a field initializer, or a function used with `runInInjectionContext`")}const HOST=0,TVIEW=1,FLAGS=2,PARENT=3,NEXT=4,T_HOST=5,HYDRATION=6,CLEANUP=7,CONTEXT=8,INJECTOR=9,ENVIRONMENT=10,RENDERER=11,CHILD_HEAD=12,CHILD_TAIL=13,DECLARATION_VIEW=14,DECLARATION_COMPONENT_VIEW=15,DECLARATION_LCONTAINER=16,PREORDER_HOOK_FLAGS=17,QUERIES=18,ID=19,EMBEDDED_VIEW_INJECTOR=20,ON_DESTROY_HOOKS=21,EFFECTS_TO_SCHEDULE=22,EFFECTS=23,REACTIVE_TEMPLATE_CONSUMER=24,AFTER_RENDER_SEQUENCES_TO_ADD=25,ANIMATIONS=26,HEADER_OFFSET=27,TYPE=1,DEHYDRATED_VIEWS=6,NATIVE=7,VIEW_REFS=8,MOVED_VIEWS=9,CONTAINER_HEADER_OFFSET=10;function isLView(value){return Array.isArray(value)&&"object"==typeof value[TYPE]}function isLContainer(value){return Array.isArray(value)&&!0===value[TYPE]}function isContentQueryHost(tNode){return!!(4&tNode.flags)}function isComponentHost(tNode){return tNode.componentOffset>-1}function isDirectiveHost(tNode){return!(1&~tNode.flags)}function isComponentDef(def){return!!def.template}function isRootView(target){return!!(512&target[FLAGS])}function isProjectionTNode(tNode){return!(16&~tNode.type)}function hasI18n(lView){return!(32&~lView[FLAGS])}function isDestroyed(lView){return!(256&~lView[FLAGS])}function assertTNodeForLView(tNode,lView){assertTNodeForTView(tNode,lView[TVIEW])}function assertTNodeCreationIndex(lView,index){const adjustedIndex=index+HEADER_OFFSET;assertIndexInRange(lView,adjustedIndex),assertLessThan(adjustedIndex,lView[TVIEW].bindingStartIndex,"TNodes should be created before any bindings")}function assertTNodeForTView(tNode,tView){assertTNode(tNode);const tData=tView.data;for(let i=HEADER_OFFSET;i<tData.length;i++)if(tData[i]===tNode)return;throwError("This TNode does not belong to this TView.")}function assertTNode(tNode){assertDefined(tNode,"TNode must be defined"),tNode&&"object"==typeof tNode&&tNode.hasOwnProperty("directiveStylingLast")||throwError("Not of type TNode, got: "+tNode)}function assertTIcu(tIcu){assertDefined(tIcu,"Expected TIcu to be defined"),"number"!=typeof tIcu.currentCaseLViewIndex&&throwError("Object is not of TIcu type.")}function assertComponentType(actual,msg="Type passed in is not ComponentType, it does not have 'ɵcmp' property."){getComponentDef(actual)||throwError(msg)}function assertNgModuleType(actual,msg="Type passed in is not NgModuleType, it does not have 'ɵmod' property."){getNgModuleDef(actual)||throwError(msg)}function assertHasParent(tNode){assertDefined(tNode,"currentTNode should exist!"),assertDefined(tNode.parent,"currentTNode should have a parent")}function assertLContainer(value){assertDefined(value,"LContainer must be defined"),assertEqual(isLContainer(value),!0,"Expecting LContainer")}function assertLViewOrUndefined(value){value&&assertEqual(isLView(value),!0,"Expecting LView or undefined or null")}function assertLView(value){assertDefined(value,"LView must be defined"),assertEqual(isLView(value),!0,"Expecting LView")}function assertFirstCreatePass(tView,errMessage){assertEqual(tView.firstCreatePass,!0,errMessage||"Should only be called in first create pass.")}function assertFirstUpdatePass(tView,errMessage){assertEqual(tView.firstUpdatePass,!0,"Should only be called in first update pass.")}function assertDirectiveDef(obj){void 0!==obj.type&&null!=obj.selectors&&void 0!==obj.inputs||throwError("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function assertIndexInDeclRange(tView,index){assertBetween(HEADER_OFFSET,tView.bindingStartIndex,index)}function assertIndexInExpandoRange(lView,index){assertBetween(lView[1].expandoStartIndex,lView.length,index)}function assertBetween(lower,upper,index){lower<=index&&index<upper||throwError(`Index out of range (expecting ${lower} <= ${index} < ${upper})`)}function assertProjectionSlots(lView,errMessage){assertDefined(lView[DECLARATION_COMPONENT_VIEW],"Component views should exist."),assertDefined(lView[DECLARATION_COMPONENT_VIEW][T_HOST].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function assertParentView(lView,errMessage){assertDefined(lView,"Component views should always have a parent view (component's host view)")}function assertNodeInjector(lView,injectorIndex){assertIndexInExpandoRange(lView,injectorIndex),assertIndexInExpandoRange(lView,injectorIndex+8),assertNumber(lView[injectorIndex+0],"injectorIndex should point to a bloom filter"),assertNumber(lView[injectorIndex+1],"injectorIndex should point to a bloom filter"),assertNumber(lView[injectorIndex+2],"injectorIndex should point to a bloom filter"),assertNumber(lView[injectorIndex+3],"injectorIndex should point to a bloom filter"),assertNumber(lView[injectorIndex+4],"injectorIndex should point to a bloom filter"),assertNumber(lView[injectorIndex+5],"injectorIndex should point to a bloom filter"),assertNumber(lView[injectorIndex+6],"injectorIndex should point to a bloom filter"),assertNumber(lView[injectorIndex+7],"injectorIndex should point to a bloom filter"),assertNumber(lView[injectorIndex+8],"injectorIndex should point to parent injector")}const SVG_NAMESPACE="svg",MATH_ML_NAMESPACE="math";function unwrapRNode(value){for(;Array.isArray(value);)value=value[HOST];return value}function unwrapLView(value){for(;Array.isArray(value);){if("object"==typeof value[TYPE])return value;value=value[HOST]}return null}function getNativeByIndex(index,lView){return ngDevMode&&assertIndexInRange(lView,index),ngDevMode&&assertGreaterThanOrEqual(index,HEADER_OFFSET,"Expected to be past HEADER_OFFSET"),unwrapRNode(lView[index])}function getNativeByTNode(tNode,lView){ngDevMode&&assertTNodeForLView(tNode,lView),ngDevMode&&assertIndexInRange(lView,tNode.index);return unwrapRNode(lView[tNode.index])}function getNativeByTNodeOrNull(tNode,lView){const index=null===tNode?-1:tNode.index;if(-1!==index){ngDevMode&&assertTNodeForLView(tNode,lView);return unwrapRNode(lView[index])}return null}function getTNode(tView,index){ngDevMode&&assertGreaterThan(index,-1,"wrong index for TNode"),ngDevMode&&assertLessThan(index,tView.data.length,"wrong index for TNode");const tNode=tView.data[index];return ngDevMode&&null!==tNode&&assertTNode(tNode),tNode}function load(view,index){return ngDevMode&&assertIndexInRange(view,index),view[index]}function store(tView,lView,index,value){index>=tView.data.length&&(tView.data[index]=null,tView.blueprint[index]=null),lView[index]=value}function getComponentLViewByIndex(nodeIndex,hostView){ngDevMode&&assertIndexInRange(hostView,nodeIndex);const slotValue=hostView[nodeIndex];return isLView(slotValue)?slotValue:slotValue[HOST]}function isCreationMode(view){return!(4&~view[FLAGS])}function viewAttachedToChangeDetector(view){return!(128&~view[FLAGS])}function viewAttachedToContainer(view){return isLContainer(view[PARENT])}function getConstant(consts,index){return null==index?null:(ngDevMode&&assertIndexInRange(consts,index),consts[index])}function resetPreOrderHookFlags(lView){lView[PREORDER_HOOK_FLAGS]=0}function markViewForRefresh(lView){1024&lView[FLAGS]||(lView[FLAGS]|=1024,viewAttachedToChangeDetector(lView)&&markAncestorsForTraversal(lView))}function walkUpViews(nestingLevel,currentView){for(;nestingLevel>0;)ngDevMode&&assertDefined(currentView[DECLARATION_VIEW],"Declaration view should be defined if nesting level is greater than 0."),currentView=currentView[DECLARATION_VIEW],nestingLevel--;return currentView}function requiresRefreshOrTraversal(lView){return!!(9216&lView[FLAGS]||lView[REACTIVE_TEMPLATE_CONSUMER]?.dirty)}function updateAncestorTraversalFlagsOnAttach(lView){lView[ENVIRONMENT].changeDetectionScheduler?.notify(8),64&lView[FLAGS]&&(lView[FLAGS]|=1024),requiresRefreshOrTraversal(lView)&&markAncestorsForTraversal(lView)}function markAncestorsForTraversal(lView){lView[ENVIRONMENT].changeDetectionScheduler?.notify(0);let parent=getLViewParent(lView);for(;null!==parent&&!(8192&parent[FLAGS])&&(parent[FLAGS]|=8192,viewAttachedToChangeDetector(parent));)parent=getLViewParent(parent)}function storeLViewOnDestroy(lView,onDestroyCallback){if(isDestroyed(lView))throw new RuntimeError(911,ngDevMode&&"View has already been destroyed.");null===lView[ON_DESTROY_HOOKS]&&(lView[ON_DESTROY_HOOKS]=[]),lView[ON_DESTROY_HOOKS].push(onDestroyCallback)}function removeLViewOnDestroy(lView,onDestroyCallback){if(null===lView[ON_DESTROY_HOOKS])return;const destroyCBIdx=lView[ON_DESTROY_HOOKS].indexOf(onDestroyCallback);-1!==destroyCBIdx&&lView[ON_DESTROY_HOOKS].splice(destroyCBIdx,1)}function getLViewParent(lView){ngDevMode&&assertLView(lView);const parent=lView[PARENT];return isLContainer(parent)?parent[PARENT]:parent}function getOrCreateLViewCleanup(view){return view[CLEANUP]??=[]}function getOrCreateTViewCleanup(tView){return tView.cleanup??=[]}function storeCleanupWithContext(tView,lView,context,cleanupFn){const lCleanup=getOrCreateLViewCleanup(lView);ngDevMode&&assertDefined(context,"Cleanup context is mandatory when registering framework-level destroy hooks"),lCleanup.push(context),tView.firstCreatePass?getOrCreateTViewCleanup(tView).push(cleanupFn,lCleanup.length-1):ngDevMode&&Object.freeze(getOrCreateTViewCleanup(tView))}const instructionState={lFrame:createLFrame(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var CheckNoChangesMode;!function(CheckNoChangesMode){CheckNoChangesMode[CheckNoChangesMode.Off=0]="Off",CheckNoChangesMode[CheckNoChangesMode.Exhaustive=1]="Exhaustive",CheckNoChangesMode[CheckNoChangesMode.OnlyDirtyViews=2]="OnlyDirtyViews"}(CheckNoChangesMode||(CheckNoChangesMode={}));let _checkNoChangesMode=0,_isRefreshingViews=!1;function getElementDepthCount(){return instructionState.lFrame.elementDepthCount}function increaseElementDepthCount(){instructionState.lFrame.elementDepthCount++}function decreaseElementDepthCount(){instructionState.lFrame.elementDepthCount--}function getBindingsEnabled(){return instructionState.bindingsEnabled}function isInSkipHydrationBlock(){return null!==instructionState.skipHydrationRootTNode}function isSkipHydrationRootTNode(tNode){return instructionState.skipHydrationRootTNode===tNode}function ɵɵenableBindings(){instructionState.bindingsEnabled=!0}function enterSkipHydrationBlock(tNode){instructionState.skipHydrationRootTNode=tNode}function ɵɵdisableBindings(){instructionState.bindingsEnabled=!1}function leaveSkipHydrationBlock(){instructionState.skipHydrationRootTNode=null}function getLView(){return instructionState.lFrame.lView}function getTView(){return instructionState.lFrame.tView}function ɵɵrestoreView(viewToRestore){return instructionState.lFrame.contextLView=viewToRestore,viewToRestore[CONTEXT]}function ɵɵresetView(value){return instructionState.lFrame.contextLView=null,value}function getCurrentTNode(){let currentTNode=getCurrentTNodePlaceholderOk();for(;null!==currentTNode&&64===currentTNode.type;)currentTNode=currentTNode.parent;return currentTNode}function getCurrentTNodePlaceholderOk(){return instructionState.lFrame.currentTNode}function getCurrentParentTNode(){const lFrame=instructionState.lFrame,currentTNode=lFrame.currentTNode;return lFrame.isParent?currentTNode:currentTNode.parent}function setCurrentTNode(tNode,isParent){ngDevMode&&tNode&&assertTNodeForTView(tNode,instructionState.lFrame.tView);const lFrame=instructionState.lFrame;lFrame.currentTNode=tNode,lFrame.isParent=isParent}function isCurrentTNodeParent(){return instructionState.lFrame.isParent}function setCurrentTNodeAsNotParent(){instructionState.lFrame.isParent=!1}function getContextLView(){const contextLView=instructionState.lFrame.contextLView;return ngDevMode&&assertDefined(contextLView,"contextLView must be defined."),contextLView}function isInCheckNoChangesMode(){return!ngDevMode&&throwError("Must never be called in production mode"),_checkNoChangesMode!==CheckNoChangesMode.Off}function isExhaustiveCheckNoChanges(){return!ngDevMode&&throwError("Must never be called in production mode"),_checkNoChangesMode===CheckNoChangesMode.Exhaustive}function setIsInCheckNoChangesMode(mode){!ngDevMode&&throwError("Must never be called in production mode"),_checkNoChangesMode=mode}function isRefreshingViews(){return _isRefreshingViews}function setIsRefreshingViews(mode){const prev=_isRefreshingViews;return _isRefreshingViews=mode,prev}function getBindingRoot(){const lFrame=instructionState.lFrame;let index=lFrame.bindingRootIndex;return-1===index&&(index=lFrame.bindingRootIndex=lFrame.tView.bindingStartIndex),index}function getBindingIndex(){return instructionState.lFrame.bindingIndex}function setBindingIndex(value){return instructionState.lFrame.bindingIndex=value}function nextBindingIndex(){return instructionState.lFrame.bindingIndex++}function incrementBindingIndex(count){const lFrame=instructionState.lFrame,index=lFrame.bindingIndex;return lFrame.bindingIndex=lFrame.bindingIndex+count,index}function isInI18nBlock(){return instructionState.lFrame.inI18n}function setInI18nBlock(isInI18nBlock){instructionState.lFrame.inI18n=isInI18nBlock}function setBindingRootForHostBindings(bindingRootIndex,currentDirectiveIndex){const lFrame=instructionState.lFrame;lFrame.bindingIndex=lFrame.bindingRootIndex=bindingRootIndex,setCurrentDirectiveIndex(currentDirectiveIndex)}function getCurrentDirectiveIndex(){return instructionState.lFrame.currentDirectiveIndex}function setCurrentDirectiveIndex(currentDirectiveIndex){instructionState.lFrame.currentDirectiveIndex=currentDirectiveIndex}function getCurrentDirectiveDef(tData){const currentDirectiveIndex=instructionState.lFrame.currentDirectiveIndex;return-1===currentDirectiveIndex?null:tData[currentDirectiveIndex]}function getCurrentQueryIndex(){return instructionState.lFrame.currentQueryIndex}function setCurrentQueryIndex(value){instructionState.lFrame.currentQueryIndex=value}function getDeclarationTNode(lView){const tView=lView[TVIEW];return 2===tView.type?(ngDevMode&&assertDefined(tView.declTNode,"Embedded TNodes should have declaration parents."),tView.declTNode):1===tView.type?lView[T_HOST]:null}function enterDI(lView,tNode,flags){if(ngDevMode&&assertLViewOrUndefined(lView),4&flags){ngDevMode&&assertTNodeForTView(tNode,lView[TVIEW]);let parentTNode=tNode,parentLView=lView;for(;!(ngDevMode&&assertDefined(parentTNode,"Parent TNode should be defined"),parentTNode=parentTNode.parent,null!==parentTNode||1&flags||(parentTNode=getDeclarationTNode(parentLView),null===parentTNode)||(ngDevMode&&assertDefined(parentLView,"Parent LView should be defined"),parentLView=parentLView[DECLARATION_VIEW],10&parentTNode.type)););if(null===parentTNode)return!1;tNode=parentTNode,lView=parentLView}ngDevMode&&assertTNodeForLView(tNode,lView);const lFrame=instructionState.lFrame=allocLFrame();return lFrame.currentTNode=tNode,lFrame.lView=lView,!0}function enterView(newView){ngDevMode&&assertNotEqual(newView[0],newView[1],"????"),ngDevMode&&assertLViewOrUndefined(newView);const newLFrame=allocLFrame();ngDevMode&&(assertEqual(newLFrame.isParent,!0,"Expected clean LFrame"),assertEqual(newLFrame.lView,null,"Expected clean LFrame"),assertEqual(newLFrame.tView,null,"Expected clean LFrame"),assertEqual(newLFrame.selectedIndex,-1,"Expected clean LFrame"),assertEqual(newLFrame.elementDepthCount,0,"Expected clean LFrame"),assertEqual(newLFrame.currentDirectiveIndex,-1,"Expected clean LFrame"),assertEqual(newLFrame.currentNamespace,null,"Expected clean LFrame"),assertEqual(newLFrame.bindingRootIndex,-1,"Expected clean LFrame"),assertEqual(newLFrame.currentQueryIndex,0,"Expected clean LFrame"));const tView=newView[TVIEW];instructionState.lFrame=newLFrame,ngDevMode&&tView.firstChild&&assertTNodeForTView(tView.firstChild,tView),newLFrame.currentTNode=tView.firstChild,newLFrame.lView=newView,newLFrame.tView=tView,newLFrame.contextLView=newView,newLFrame.bindingIndex=tView.bindingStartIndex,newLFrame.inI18n=!1}function allocLFrame(){const currentLFrame=instructionState.lFrame,childLFrame=null===currentLFrame?null:currentLFrame.child;return null===childLFrame?createLFrame(currentLFrame):childLFrame}function createLFrame(parent){const lFrame={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent,child:null,inI18n:!1};return null!==parent&&(parent.child=lFrame),lFrame}function leaveViewLight(){const oldLFrame=instructionState.lFrame;return instructionState.lFrame=oldLFrame.parent,oldLFrame.currentTNode=null,oldLFrame.lView=null,oldLFrame}const leaveDI=leaveViewLight;function leaveView(){const oldLFrame=leaveViewLight();oldLFrame.isParent=!0,oldLFrame.tView=null,oldLFrame.selectedIndex=-1,oldLFrame.contextLView=null,oldLFrame.elementDepthCount=0,oldLFrame.currentDirectiveIndex=-1,oldLFrame.currentNamespace=null,oldLFrame.bindingRootIndex=-1,oldLFrame.bindingIndex=-1,oldLFrame.currentQueryIndex=0}function nextContextImpl(level){return(instructionState.lFrame.contextLView=walkUpViews(level,instructionState.lFrame.contextLView))[CONTEXT]}function getSelectedIndex(){return instructionState.lFrame.selectedIndex}function setSelectedIndex(index){ngDevMode&&-1!==index&&assertGreaterThanOrEqual(index,HEADER_OFFSET,"Index must be past HEADER_OFFSET (or -1)."),ngDevMode&&assertLessThan(index,instructionState.lFrame.lView.length,"Can't set index passed end of LView"),instructionState.lFrame.selectedIndex=index}function getSelectedTNode(){const lFrame=instructionState.lFrame;return getTNode(lFrame.tView,lFrame.selectedIndex)}function ɵɵnamespaceSVG(){instructionState.lFrame.currentNamespace=SVG_NAMESPACE}function ɵɵnamespaceMathML(){instructionState.lFrame.currentNamespace=MATH_ML_NAMESPACE}function ɵɵnamespaceHTML(){!function namespaceHTMLInternal(){instructionState.lFrame.currentNamespace=null}()}function getNamespace(){return instructionState.lFrame.currentNamespace}let _wasLastNodeCreated=!0;function wasLastNodeCreated(){return _wasLastNodeCreated}function lastNodeWasCreated(flag){_wasLastNodeCreated=flag}function createInjector(defType,parent=null,additionalProviders=null,name){const injector=createInjectorWithoutInjectorInstances(defType,parent,additionalProviders,name);return injector.resolveInjectorInitializers(),injector}function createInjectorWithoutInjectorInstances(defType,parent=null,additionalProviders=null,name,scopes=new Set){const providers=[additionalProviders||EMPTY_ARRAY,importProvidersFrom(defType)];return name=name||("object"==typeof defType?void 0:stringify(defType)),new R3Injector(providers,parent||getNullInjector(),name||null,scopes)}class Injector{static THROW_IF_NOT_FOUND=THROW_IF_NOT_FOUND;static NULL=new NullInjector;static create(options,parent){if(Array.isArray(options))return createInjector({name:""},parent,options,"");{const name=options.name??"";return createInjector({name},options.parent,options.providers,name)}}static ɵprov=ɵɵdefineInjectable({token:Injector,providedIn:"any",factory:()=>ɵɵinject(INJECTOR$1)});static __NG_ELEMENT_ID__=-1}const DOCUMENT=new InjectionToken(ngDevMode?"DocumentToken":"");class DestroyRef{static __NG_ELEMENT_ID__=injectDestroyRef;static __NG_ENV_ID__=injector=>injector}class NodeInjectorDestroyRef extends DestroyRef{_lView;constructor(_lView){super(),this._lView=_lView}get destroyed(){return isDestroyed(this._lView)}onDestroy(callback){const lView=this._lView;return storeLViewOnDestroy(lView,callback),()=>removeLViewOnDestroy(lView,callback)}}function injectDestroyRef(){return new NodeInjectorDestroyRef(getLView())}class ErrorHandler{_console=console;handleError(error){this._console.error("ERROR",error)}}const INTERNAL_APPLICATION_ERROR_HANDLER=new InjectionToken("undefined"==typeof ngDevMode||ngDevMode?"internal error handler":"",{providedIn:"root",factory:()=>{const injector=inject(EnvironmentInjector);let userErrorHandler;return e=>{injector.destroyed&&!userErrorHandler?setTimeout(()=>{throw e}):(userErrorHandler??=injector.get(ErrorHandler),userErrorHandler.handleError(e))}}}),errorHandlerEnvironmentInitializer={provide:ENVIRONMENT_INITIALIZER,useValue:()=>{inject(ErrorHandler)},multi:!0},globalErrorListeners=new InjectionToken(ngDevMode?"GlobalErrorListeners":"",{providedIn:"root",factory:()=>{if("undefined"!=typeof ngServerMode&&ngServerMode)return;const window=inject(DOCUMENT).defaultView;if(!window)return;const errorHandler=inject(INTERNAL_APPLICATION_ERROR_HANDLER),rejectionListener=e=>{errorHandler(e.reason),e.preventDefault()},errorListener=e=>{e.error?errorHandler(e.error):errorHandler(new Error(ngDevMode?`An ErrorEvent with no error occurred. See Error.cause for details: ${e.message}`:e.message,{cause:e})),e.preventDefault()},setupEventListeners=()=>{window.addEventListener("unhandledrejection",rejectionListener),window.addEventListener("error",errorListener)};"undefined"!=typeof Zone?Zone.root.run(setupEventListeners):setupEventListeners(),inject(DestroyRef).onDestroy(()=>{window.removeEventListener("error",errorListener),window.removeEventListener("unhandledrejection",rejectionListener)})}});function provideBrowserGlobalErrorListeners(){return makeEnvironmentProviders([provideEnvironmentInitializer(()=>{inject(globalErrorListeners)})])}function isSignal(value){return"function"==typeof value&&void 0!==value[_signal_mjs__WEBPACK_IMPORTED_MODULE_1__.bh]}function ɵunwrapWritableSignal(value){return null}function signal(initialValue,options){const[get,set,update]=(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_1__.n5)(initialValue,options?.equal),signalFn=get,node=signalFn[_signal_mjs__WEBPACK_IMPORTED_MODULE_1__.bh];return signalFn.set=set,signalFn.update=update,signalFn.asReadonly=signalAsReadonlyFn.bind(signalFn),ngDevMode&&(signalFn.toString=()=>`[Signal: ${signalFn()}]`,node.debugName=options?.debugName),signalFn}function signalAsReadonlyFn(){const node=this[_signal_mjs__WEBPACK_IMPORTED_MODULE_1__.bh];if(void 0===node.readonlyFn){const readonlyFn=()=>this();readonlyFn[_signal_mjs__WEBPACK_IMPORTED_MODULE_1__.bh]=node,node.readonlyFn=readonlyFn}return node.readonlyFn}function isWritableSignal(value){return isSignal(value)&&"function"==typeof value.set}function assertNotInReactiveContext(debugFn,extraContext){if(null!==(0,_signal_mjs__WEBPACK_IMPORTED_MODULE_1__.nR)())throw new RuntimeError(-602,ngDevMode&&`${debugFn.name}() cannot be called from within a reactive context.${extraContext?` ${extraContext}`:""}`)}class ViewContext{view;node;constructor(view,node){this.view=view,this.node=node}static __NG_ELEMENT_ID__=injectViewContext}function injectViewContext(){return new ViewContext(getLView(),getCurrentTNode())}class ChangeDetectionScheduler{}const ZONELESS_ENABLED=new InjectionToken("undefined"==typeof ngDevMode||ngDevMode?"Zoneless enabled":"",{providedIn:"root",factory:()=>!1}),PROVIDED_ZONELESS=new InjectionToken("undefined"==typeof ngDevMode||ngDevMode?"Zoneless provided":"",{providedIn:"root",factory:()=>!1}),ZONELESS_SCHEDULER_DISABLED=new InjectionToken("undefined"==typeof ngDevMode||ngDevMode?"scheduler disabled":""),SCHEDULE_IN_ROOT_ZONE=new InjectionToken("undefined"==typeof ngDevMode||ngDevMode?"run changes outside zone in root":"");class PendingTasksInternal{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new rxjs__WEBPACK_IMPORTED_MODULE_3__.t(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new rxjs__WEBPACK_IMPORTED_MODULE_2__.c(subscriber=>{subscriber.next(!1),subscriber.complete()}):this.pendingTask}add(){this.hasPendingTasks||this.destroyed||this.pendingTask.next(!0);const taskId=this.taskId++;return this.pendingTasks.add(taskId),taskId}has(taskId){return this.pendingTasks.has(taskId)}remove(taskId){this.pendingTasks.delete(taskId),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static ɵprov=ɵɵdefineInjectable({token:PendingTasksInternal,providedIn:"root",factory:()=>new PendingTasksInternal})}class PendingTasks{internalPendingTasks=inject(PendingTasksInternal);scheduler=inject(ChangeDetectionScheduler);errorHandler=inject(INTERNAL_APPLICATION_ERROR_HANDLER);add(){const taskId=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(taskId)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(taskId))}}run(fn){const removeTask=this.add();fn().catch(this.errorHandler).finally(removeTask)}static ɵprov=ɵɵdefineInjectable({token:PendingTasks,providedIn:"root",factory:()=>new PendingTasks})}function noop(...args){}class EffectScheduler{static ɵprov=ɵɵdefineInjectable({token:EffectScheduler,providedIn:"root",factory:()=>new ZoneAwareEffectScheduler})}class ZoneAwareEffectScheduler{dirtyEffectCount=0;queues=new Map;add(handle){this.enqueue(handle),this.schedule(handle)}schedule(handle){handle.dirty&&this.dirtyEffectCount++}remove(handle){const zone=handle.zone,queue=this.queues.get(zone);queue.has(handle)&&(queue.delete(handle),handle.dirty&&this.dirtyEffectCount--)}enqueue(handle){const zone=handle.zone;this.queues.has(zone)||this.queues.set(zone,new Set);const queue=this.queues.get(zone);queue.has(handle)||queue.add(handle)}flush(){for(;this.dirtyEffectCount>0;){let ranOneEffect=!1;for(const[zone,queue]of this.queues)ranOneEffect||=null===zone?this.flushQueue(queue):zone.run(()=>this.flushQueue(queue));ranOneEffect||(this.dirtyEffectCount=0)}}flushQueue(queue){let ranOneEffect=!1;for(const handle of queue)handle.dirty&&(this.dirtyEffectCount--,ranOneEffect=!0,handle.run());return ranOneEffect}}},"./node_modules/@angular/core/fesm2022/signal.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ag:()=>UNSET,Bg:()=>consumerBeforeComputation,EF:()=>ERRORED,H8:()=>defaultEquals,Ht:()=>setActiveConsumer,JC:()=>producerUpdateValueVersion,KE:()=>isInNotificationPhase,KO:()=>setThrowInvalidWriteToSignalError,KZ:()=>createComputed,Ny:()=>COMPUTING,TO:()=>producerMarkClean,Wu:()=>consumerAfterComputation,XR:()=>consumerDestroy,a7:()=>runPostProducerCreatedFn,bh:()=>SIGNAL,j2:()=>signalSetFn,mC:()=>signalUpdateFn,mK:()=>producerAccessed,n5:()=>createSignal,nR:()=>getActiveConsumer,pL:()=>REACTIVE_NODE,s0:()=>SIGNAL_NODE,si:()=>consumerPollProducersForChange});let activeConsumer=null,inNotificationPhase=!1,epoch=1,postProducerCreatedFn=null;const SIGNAL=Symbol("SIGNAL");function setActiveConsumer(consumer){const prev=activeConsumer;return activeConsumer=consumer,prev}function getActiveConsumer(){return activeConsumer}function isInNotificationPhase(){return inNotificationPhase}const REACTIVE_NODE={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function producerAccessed(node){if(inNotificationPhase)throw new Error("undefined"!=typeof ngDevMode&&ngDevMode?"Assertion error: signal read during notification phase":"");if(null===activeConsumer)return;activeConsumer.consumerOnSignalRead(node);const prevProducerLink=activeConsumer.producersTail;if(void 0!==prevProducerLink&&prevProducerLink.producer===node)return;let nextProducerLink;const isRecomputing=activeConsumer.recomputing;if(isRecomputing&&(nextProducerLink=void 0!==prevProducerLink?prevProducerLink.nextProducer:activeConsumer.producers,void 0!==nextProducerLink&&nextProducerLink.producer===node))return activeConsumer.producersTail=nextProducerLink,void(nextProducerLink.lastReadVersion=node.version);const prevConsumerLink=node.consumersTail;if(void 0!==prevConsumerLink&&prevConsumerLink.consumer===activeConsumer&&(!isRecomputing||function isValidLink(checkLink,consumer){const producersTail=consumer.producersTail;if(void 0!==producersTail){let link=consumer.producers;do{if(link===checkLink)return!0;if(link===producersTail)break;link=link.nextProducer}while(void 0!==link)}return!1}(prevConsumerLink,activeConsumer)))return;const isLive=consumerIsLive(activeConsumer),newLink={producer:node,consumer:activeConsumer,nextProducer:nextProducerLink,prevConsumer:prevConsumerLink,lastReadVersion:node.version,nextConsumer:void 0};activeConsumer.producersTail=newLink,void 0!==prevProducerLink?prevProducerLink.nextProducer=newLink:activeConsumer.producers=newLink,isLive&&producerAddLiveConsumer(node,newLink)}function producerUpdateValueVersion(node){consumerIsLive(node)&&!node.dirty||(node.dirty||node.lastCleanEpoch!==epoch)&&(node.producerMustRecompute(node)||consumerPollProducersForChange(node)?(node.producerRecomputeValue(node),producerMarkClean(node)):producerMarkClean(node))}function producerNotifyConsumers(node){if(void 0===node.consumers)return;const prev=inNotificationPhase;inNotificationPhase=!0;try{for(let link=node.consumers;void 0!==link;link=link.nextConsumer){const consumer=link.consumer;consumer.dirty||consumerMarkDirty(consumer)}}finally{inNotificationPhase=prev}}function producerUpdatesAllowed(){return!1!==activeConsumer?.consumerAllowSignalWrites}function consumerMarkDirty(node){node.dirty=!0,producerNotifyConsumers(node),node.consumerMarkedDirty?.(node)}function producerMarkClean(node){node.dirty=!1,node.lastCleanEpoch=epoch}function consumerBeforeComputation(node){return node&&function resetConsumerBeforeComputation(node){node.producersTail=void 0,node.recomputing=!0}(node),setActiveConsumer(node)}function consumerAfterComputation(node,prevConsumer){setActiveConsumer(prevConsumer),node&&function finalizeConsumerAfterComputation(node){node.recomputing=!1;const producersTail=node.producersTail;let toRemove=void 0!==producersTail?producersTail.nextProducer:node.producers;if(void 0!==toRemove){if(consumerIsLive(node))do{toRemove=producerRemoveLiveConsumerLink(toRemove)}while(void 0!==toRemove);void 0!==producersTail?producersTail.nextProducer=void 0:node.producers=void 0}}(node)}function consumerPollProducersForChange(node){for(let link=node.producers;void 0!==link;link=link.nextProducer){const producer=link.producer,seenVersion=link.lastReadVersion;if(seenVersion!==producer.version)return!0;if(producerUpdateValueVersion(producer),seenVersion!==producer.version)return!0}return!1}function consumerDestroy(node){if(consumerIsLive(node)){let link=node.producers;for(;void 0!==link;)link=producerRemoveLiveConsumerLink(link)}node.producers=void 0,node.producersTail=void 0,node.consumers=void 0,node.consumersTail=void 0}function producerAddLiveConsumer(node,link){const consumersTail=node.consumersTail,wasLive=consumerIsLive(node);if(void 0!==consumersTail?(link.nextConsumer=consumersTail.nextConsumer,consumersTail.nextConsumer=link):(link.nextConsumer=void 0,node.consumers=link),link.prevConsumer=consumersTail,node.consumersTail=link,!wasLive)for(let link=node.producers;void 0!==link;link=link.nextProducer)producerAddLiveConsumer(link.producer,link)}function producerRemoveLiveConsumerLink(link){const producer=link.producer,nextProducer=link.nextProducer,nextConsumer=link.nextConsumer,prevConsumer=link.prevConsumer;if(link.nextConsumer=void 0,link.prevConsumer=void 0,void 0!==nextConsumer?nextConsumer.prevConsumer=prevConsumer:producer.consumersTail=prevConsumer,void 0!==prevConsumer)prevConsumer.nextConsumer=nextConsumer;else if(producer.consumers=nextConsumer,!consumerIsLive(producer)){let producerLink=producer.producers;for(;void 0!==producerLink;)producerLink=producerRemoveLiveConsumerLink(producerLink)}return nextProducer}function consumerIsLive(node){return node.consumerIsAlwaysLive||void 0!==node.consumers}function runPostProducerCreatedFn(node){postProducerCreatedFn?.(node)}function defaultEquals(a,b){return Object.is(a,b)}function createComputed(computation,equal){const node=Object.create(COMPUTED_NODE);node.computation=computation,void 0!==equal&&(node.equal=equal);const computed=()=>{if(producerUpdateValueVersion(node),producerAccessed(node),node.value===ERRORED)throw node.error;return node.value};if(computed[SIGNAL]=node,"undefined"!=typeof ngDevMode&&ngDevMode){const debugName=node.debugName?" ("+node.debugName+")":"";computed.toString=()=>`[Computed${debugName}: ${node.value}]`}return runPostProducerCreatedFn(node),computed}const UNSET=Symbol("UNSET"),COMPUTING=Symbol("COMPUTING"),ERRORED=Symbol("ERRORED"),COMPUTED_NODE=(()=>({...REACTIVE_NODE,value:UNSET,dirty:!0,error:null,equal:defaultEquals,kind:"computed",producerMustRecompute:node=>node.value===UNSET||node.value===COMPUTING,producerRecomputeValue(node){if(node.value===COMPUTING)throw new Error("undefined"!=typeof ngDevMode&&ngDevMode?"Detected cycle in computations.":"");const oldValue=node.value;node.value=COMPUTING;const prevConsumer=consumerBeforeComputation(node);let newValue,wasEqual=!1;try{newValue=node.computation(),setActiveConsumer(null),wasEqual=oldValue!==UNSET&&oldValue!==ERRORED&&newValue!==ERRORED&&node.equal(oldValue,newValue)}catch(err){newValue=ERRORED,node.error=err}finally{consumerAfterComputation(node,prevConsumer)}wasEqual?node.value=oldValue:(node.value=newValue,node.version++)}}))();let throwInvalidWriteToSignalErrorFn=function defaultThrowError(){throw new Error};function throwInvalidWriteToSignalError(node){throwInvalidWriteToSignalErrorFn(node)}function setThrowInvalidWriteToSignalError(fn){throwInvalidWriteToSignalErrorFn=fn}let postSignalSetFn=null;function createSignal(initialValue,equal){const node=Object.create(SIGNAL_NODE);node.value=initialValue,void 0!==equal&&(node.equal=equal);const getter=()=>function signalGetFn(node){return producerAccessed(node),node.value}(node);if(getter[SIGNAL]=node,"undefined"!=typeof ngDevMode&&ngDevMode){const debugName=node.debugName?" ("+node.debugName+")":"";getter.toString=()=>`[Signal${debugName}: ${node.value}]`}runPostProducerCreatedFn(node);return[getter,newValue=>signalSetFn(node,newValue),updateFn=>signalUpdateFn(node,updateFn)]}function signalSetFn(node,newValue){producerUpdatesAllowed()||throwInvalidWriteToSignalError(node),node.equal(node.value,newValue)||(node.value=newValue,function signalValueChanged(node){node.version++,function producerIncrementEpoch(){epoch++}(),producerNotifyConsumers(node),postSignalSetFn?.(node)}(node))}function signalUpdateFn(node,updater){producerUpdatesAllowed()||throwInvalidWriteToSignalError(node),signalSetFn(node,updater(node.value))}const SIGNAL_NODE=(()=>({...REACTIVE_NODE,equal:defaultEquals,value:void 0,kind:"signal"}))()},"./node_modules/@angular/material/prebuilt-themes/indigo-pink.css?ngGlobalStyle":()=>{},"./node_modules/@angular/platform-browser/fesm2022/browser.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B8:()=>bootstrapApplication,Bb:()=>BrowserModule});var _angular_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/common/fesm2022/xhr.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/common/fesm2022/location.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_dom_renderer_mjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/dom_renderer.mjs");class BrowserDomAdapter extends _angular_common__WEBPACK_IMPORTED_MODULE_3__.qj{supportsDOMEvents=!0;static makeCurrent(){(0,_angular_common__WEBPACK_IMPORTED_MODULE_3__.ig)(new BrowserDomAdapter)}onAndCancel(el,evt,listener,options){return el.addEventListener(evt,listener,options),()=>{el.removeEventListener(evt,listener,options)}}dispatchEvent(el,evt){el.dispatchEvent(evt)}remove(node){node.remove()}createElement(tagName,doc){return(doc=doc||this.getDefaultDocument()).createElement(tagName)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(node){return node.nodeType===Node.ELEMENT_NODE}isShadowRoot(node){return node instanceof DocumentFragment}getGlobalEventTarget(doc,target){return"window"===target?window:"document"===target?doc:"body"===target?doc.body:null}getBaseHref(doc){const href=function getBaseElementHref(){return baseElement=baseElement||document.head.querySelector("base"),baseElement?baseElement.getAttribute("href"):null}();return null==href?null:function relativePath(url){return new URL(url,document.baseURI).pathname}(href)}resetBaseElement(){baseElement=null}getUserAgent(){return window.navigator.userAgent}getCookie(name){return(0,_angular_common__WEBPACK_IMPORTED_MODULE_2__.b)(document.cookie,name)}}let baseElement=null;class BrowserXhr{build(){return new XMLHttpRequest}static ɵfac=function BrowserXhr_Factory(__ngFactoryType__){return new(__ngFactoryType__||BrowserXhr)};static ɵprov=_angular_common__WEBPACK_IMPORTED_MODULE_0__.jDH({token:BrowserXhr,factory:BrowserXhr.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_5__.cDI(BrowserXhr,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_5__._qm}],null,null);const MODIFIER_KEYS=["alt","control","meta","shift"],_keyMap={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MODIFIER_KEY_GETTERS={alt:event=>event.altKey,control:event=>event.ctrlKey,meta:event=>event.metaKey,shift:event=>event.shiftKey};class KeyEventsPlugin extends _dom_renderer_mjs__WEBPACK_IMPORTED_MODULE_7__.Hl{constructor(doc){super(doc)}supports(eventName){return null!=KeyEventsPlugin.parseEventName(eventName)}addEventListener(element,eventName,handler,options){const parsedEvent=KeyEventsPlugin.parseEventName(eventName),outsideHandler=KeyEventsPlugin.eventCallback(parsedEvent.fullKey,handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_angular_common__WEBPACK_IMPORTED_MODULE_3__.rb)().onAndCancel(element,parsedEvent.domEventName,outsideHandler,options))}static parseEventName(eventName){const parts=eventName.toLowerCase().split("."),domEventName=parts.shift();if(0===parts.length||"keydown"!==domEventName&&"keyup"!==domEventName)return null;const key=KeyEventsPlugin._normalizeKey(parts.pop());let fullKey="",codeIX=parts.indexOf("code");if(codeIX>-1&&(parts.splice(codeIX,1),fullKey="code."),MODIFIER_KEYS.forEach(modifierName=>{const index=parts.indexOf(modifierName);index>-1&&(parts.splice(index,1),fullKey+=modifierName+".")}),fullKey+=key,0!=parts.length||0===key.length)return null;const result={};return result.domEventName=domEventName,result.fullKey=fullKey,result}static matchEventFullKeyCode(event,fullKeyCode){let keycode=_keyMap[event.key]||event.key,key="";return fullKeyCode.indexOf("code.")>-1&&(keycode=event.code,key="code."),!(null==keycode||!keycode)&&(keycode=keycode.toLowerCase()," "===keycode?keycode="space":"."===keycode&&(keycode="dot"),MODIFIER_KEYS.forEach(modifierName=>{if(modifierName!==keycode){(0,MODIFIER_KEY_GETTERS[modifierName])(event)&&(key+=modifierName+".")}}),key+=keycode,key===fullKeyCode)}static eventCallback(fullKey,handler,zone){return event=>{KeyEventsPlugin.matchEventFullKeyCode(event,fullKey)&&zone.runGuarded(()=>handler(event))}}static _normalizeKey(keyName){return"esc"===keyName?"escape":keyName}static ɵfac=function KeyEventsPlugin_Factory(__ngFactoryType__){return new(__ngFactoryType__||KeyEventsPlugin)(_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(_angular_common__WEBPACK_IMPORTED_MODULE_0__.qQL))};static ɵprov=_angular_common__WEBPACK_IMPORTED_MODULE_0__.jDH({token:KeyEventsPlugin,factory:KeyEventsPlugin.ɵfac})}function bootstrapApplication(rootComponent,options,context){const config={rootComponent,platformRef:context?.platformRef,...createProvidersConfig(options)};return"undefined"!=typeof ngJitMode&&!ngJitMode||"function"!=typeof fetch?(0,_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵinternalCreateApplication"])(config):(0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.Zhj)(fetch).catch(error=>(console.error(error),Promise.resolve())).then(()=>(0,_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵinternalCreateApplication"])(config))}function createProvidersConfig(options){return{appProviders:[...BROWSER_MODULE_PROVIDERS,...options?.providers??[]],platformProviders:INTERNAL_BROWSER_PLATFORM_PROVIDERS}}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_5__.cDI(KeyEventsPlugin,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_5__._qm}],()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_5__.y_5,args:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.qQL]}]}],null);const INTERNAL_BROWSER_PLATFORM_PROVIDERS=[{provide:_angular_core__WEBPACK_IMPORTED_MODULE_5__.Agw,useValue:_angular_common__WEBPACK_IMPORTED_MODULE_4__.AJ},{provide:_angular_core__WEBPACK_IMPORTED_MODULE_5__.PLl,useValue:function initDomAdapter(){BrowserDomAdapter.makeCurrent()},multi:!0},{provide:_angular_common__WEBPACK_IMPORTED_MODULE_0__.qQL,useFactory:function _document(){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_5__._9u)(document),document}}],BROWSER_MODULE_PROVIDERS_MARKER=((0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.createPlatformFactory)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.platformCore,"browser",INTERNAL_BROWSER_PLATFORM_PROVIDERS),new _angular_common__WEBPACK_IMPORTED_MODULE_0__.nKC("undefined"==typeof ngDevMode||ngDevMode?"BrowserModule Providers Marker":"")),TESTABILITY_PROVIDERS=[{provide:_angular_core__WEBPACK_IMPORTED_MODULE_5__.$Ln,useClass:class BrowserGetTestability{addToWindow(registry){_angular_common__WEBPACK_IMPORTED_MODULE_0__.laP.getAngularTestability=(elem,findInAncestors=!0)=>{const testability=registry.findTestabilityInTree(elem,findInAncestors);if(null==testability)throw new _angular_common__WEBPACK_IMPORTED_MODULE_0__.buA(5103,("undefined"==typeof ngDevMode||ngDevMode)&&"Could not find testability for element.");return testability},_angular_common__WEBPACK_IMPORTED_MODULE_0__.laP.getAllAngularTestabilities=()=>registry.getAllTestabilities(),_angular_common__WEBPACK_IMPORTED_MODULE_0__.laP.getAllAngularRootElements=()=>registry.getAllRootElements();_angular_common__WEBPACK_IMPORTED_MODULE_0__.laP.frameworkStabilizers||(_angular_common__WEBPACK_IMPORTED_MODULE_0__.laP.frameworkStabilizers=[]),_angular_common__WEBPACK_IMPORTED_MODULE_0__.laP.frameworkStabilizers.push(callback=>{const testabilities=_angular_common__WEBPACK_IMPORTED_MODULE_0__.laP.getAllAngularTestabilities();let count=testabilities.length;const decrement=function(){count--,0==count&&callback()};testabilities.forEach(testability=>{testability.whenStable(decrement)})})}findTestabilityInTree(registry,elem,findInAncestors){if(null==elem)return null;const t=registry.getTestability(elem);return null!=t?t:findInAncestors?(0,_angular_common__WEBPACK_IMPORTED_MODULE_3__.rb)().isShadowRoot(elem)?this.findTestabilityInTree(registry,elem.host,!0):this.findTestabilityInTree(registry,elem.parentElement,!0):null}}},{provide:_angular_core__WEBPACK_IMPORTED_MODULE_5__.dOL,useClass:_angular_core__WEBPACK_IMPORTED_MODULE_5__.NYb,deps:[_angular_core__WEBPACK_IMPORTED_MODULE_5__.SKi,_angular_core__WEBPACK_IMPORTED_MODULE_5__.giA,_angular_core__WEBPACK_IMPORTED_MODULE_5__.$Ln]},{provide:_angular_core__WEBPACK_IMPORTED_MODULE_5__.NYb,useClass:_angular_core__WEBPACK_IMPORTED_MODULE_5__.NYb,deps:[_angular_core__WEBPACK_IMPORTED_MODULE_5__.SKi,_angular_core__WEBPACK_IMPORTED_MODULE_5__.giA,_angular_core__WEBPACK_IMPORTED_MODULE_5__.$Ln]}],BROWSER_MODULE_PROVIDERS=[{provide:_angular_common__WEBPACK_IMPORTED_MODULE_0__.GBX,useValue:"root"},{provide:_angular_common__WEBPACK_IMPORTED_MODULE_0__.zcH,useFactory:function errorHandler(){return new _angular_common__WEBPACK_IMPORTED_MODULE_0__.zcH}},{provide:_dom_renderer_mjs__WEBPACK_IMPORTED_MODULE_7__.Q5,useClass:_dom_renderer_mjs__WEBPACK_IMPORTED_MODULE_7__.jd,multi:!0,deps:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.qQL]},{provide:_dom_renderer_mjs__WEBPACK_IMPORTED_MODULE_7__.Q5,useClass:KeyEventsPlugin,multi:!0,deps:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.qQL]},_dom_renderer_mjs__WEBPACK_IMPORTED_MODULE_7__.mE,_dom_renderer_mjs__WEBPACK_IMPORTED_MODULE_7__.CI,_dom_renderer_mjs__WEBPACK_IMPORTED_MODULE_7__.EU,{provide:_angular_core__WEBPACK_IMPORTED_MODULE_5__._9s,useExisting:_dom_renderer_mjs__WEBPACK_IMPORTED_MODULE_7__.mE},{provide:_angular_common__WEBPACK_IMPORTED_MODULE_2__.N,useClass:BrowserXhr},"undefined"==typeof ngDevMode||ngDevMode?{provide:BROWSER_MODULE_PROVIDERS_MARKER,useValue:!0}:[]];class BrowserModule{constructor(){if("undefined"==typeof ngDevMode||ngDevMode){if((0,_angular_common__WEBPACK_IMPORTED_MODULE_0__.WQX)(BROWSER_MODULE_PROVIDERS_MARKER,{optional:!0,skipSelf:!0}))throw new _angular_common__WEBPACK_IMPORTED_MODULE_0__.buA(5100,"Providers from the `BrowserModule` have already been loaded. If you need access to common directives such as NgIf and NgFor, import the `CommonModule` instead.")}}static ɵfac=function BrowserModule_Factory(__ngFactoryType__){return new(__ngFactoryType__||BrowserModule)};static ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_5__.$C({type:BrowserModule,exports:[_angular_common__WEBPACK_IMPORTED_MODULE_1__.MD,_angular_core__WEBPACK_IMPORTED_MODULE_6__.ApplicationModule]});static ɵinj=_angular_common__WEBPACK_IMPORTED_MODULE_0__.G2t({providers:[...BROWSER_MODULE_PROVIDERS,...TESTABILITY_PROVIDERS],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_1__.MD,_angular_core__WEBPACK_IMPORTED_MODULE_6__.ApplicationModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_5__.cDI(BrowserModule,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_5__.UQu,args:[{providers:[...BROWSER_MODULE_PROVIDERS,...TESTABILITY_PROVIDERS],exports:[_angular_common__WEBPACK_IMPORTED_MODULE_1__.MD,_angular_core__WEBPACK_IMPORTED_MODULE_6__.ApplicationModule]}]}],()=>[],null)},"./node_modules/@angular/platform-browser/fesm2022/dom_renderer.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{CI:()=>SharedStylesHost,EU:()=>EventManager,Hl:()=>EventManagerPlugin,Q5:()=>EVENT_MANAGER_PLUGINS,jd:()=>DomEventsPlugin,mE:()=>DomRendererFactory2});var _angular_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/common/fesm2022/location.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node.mjs");class EventManagerPlugin{_doc;constructor(_doc){this._doc=_doc}manager}class DomEventsPlugin extends EventManagerPlugin{constructor(doc){super(doc)}supports(eventName){return!0}addEventListener(element,eventName,handler,options){return element.addEventListener(eventName,handler,options),()=>this.removeEventListener(element,eventName,handler,options)}removeEventListener(target,eventName,callback,options){return target.removeEventListener(eventName,callback,options)}static ɵfac=function DomEventsPlugin_Factory(__ngFactoryType__){return new(__ngFactoryType__||DomEventsPlugin)(_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(_angular_common__WEBPACK_IMPORTED_MODULE_0__.qQL))};static ɵprov=_angular_common__WEBPACK_IMPORTED_MODULE_0__.jDH({token:DomEventsPlugin,factory:DomEventsPlugin.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.cDI(DomEventsPlugin,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__._qm}],()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.y_5,args:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.qQL]}]}],null);const EVENT_MANAGER_PLUGINS=new _angular_common__WEBPACK_IMPORTED_MODULE_0__.nKC(ngDevMode?"EventManagerPlugins":"");class EventManager{_zone;_plugins;_eventNameToPlugin=new Map;constructor(plugins,_zone){this._zone=_zone,plugins.forEach(plugin=>{plugin.manager=this});const otherPlugins=plugins.filter(p=>!(p instanceof DomEventsPlugin));this._plugins=otherPlugins.slice().reverse();const domEventPlugin=plugins.find(p=>p instanceof DomEventsPlugin);domEventPlugin&&this._plugins.push(domEventPlugin)}addEventListener(element,eventName,handler,options){return this._findPluginFor(eventName).addEventListener(element,eventName,handler,options)}getZone(){return this._zone}_findPluginFor(eventName){let plugin=this._eventNameToPlugin.get(eventName);if(plugin)return plugin;if(plugin=this._plugins.find(plugin=>plugin.supports(eventName)),!plugin)throw new _angular_common__WEBPACK_IMPORTED_MODULE_0__.buA(5101,("undefined"==typeof ngDevMode||ngDevMode)&&`No event manager plugin found for event ${eventName}`);return this._eventNameToPlugin.set(eventName,plugin),plugin}static ɵfac=function EventManager_Factory(__ngFactoryType__){return new(__ngFactoryType__||EventManager)(_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(EVENT_MANAGER_PLUGINS),_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(_angular_core__WEBPACK_IMPORTED_MODULE_2__.SKi))};static ɵprov=_angular_common__WEBPACK_IMPORTED_MODULE_0__.jDH({token:EventManager,factory:EventManager.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.cDI(EventManager,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__._qm}],()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.y_5,args:[EVENT_MANAGER_PLUGINS]}]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.SKi}],null);function removeElements(elements){for(const element of elements)element.remove()}function createStyleElement(style,doc){const styleElement=doc.createElement("style");return styleElement.textContent=style,styleElement}function createLinkElement(url,doc){const linkElement=doc.createElement("link");return linkElement.setAttribute("rel","stylesheet"),linkElement.setAttribute("href",url),linkElement}class SharedStylesHost{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(doc,appId,nonce,platformId={}){this.doc=doc,this.appId=appId,this.nonce=nonce,function addServerStyles(doc,appId,inline,external){const elements=doc.head?.querySelectorAll(`style[ng-app-id="${appId}"],link[ng-app-id="${appId}"]`);if(elements)for(const styleElement of elements)styleElement.removeAttribute("ng-app-id"),styleElement instanceof HTMLLinkElement?external.set(styleElement.href.slice(styleElement.href.lastIndexOf("/")+1),{usage:0,elements:[styleElement]}):styleElement.textContent&&inline.set(styleElement.textContent,{usage:0,elements:[styleElement]})}(doc,appId,this.inline,this.external),this.hosts.add(doc.head)}addStyles(styles,urls){for(const value of styles)this.addUsage(value,this.inline,createStyleElement);urls?.forEach(value=>this.addUsage(value,this.external,createLinkElement))}removeStyles(styles,urls){for(const value of styles)this.removeUsage(value,this.inline);urls?.forEach(value=>this.removeUsage(value,this.external))}addUsage(value,usages,creator){const record=usages.get(value);record?("undefined"!=typeof ngDevMode&&!ngDevMode||0!==record.usage||record.elements.forEach(element=>element.setAttribute("ng-style-reused","")),record.usage++):usages.set(value,{usage:1,elements:[...this.hosts].map(host=>this.addElement(host,creator(value,this.doc)))})}removeUsage(value,usages){const record=usages.get(value);record&&(record.usage--,record.usage<=0&&(removeElements(record.elements),usages.delete(value)))}ngOnDestroy(){for(const[,{elements}]of[...this.inline,...this.external])removeElements(elements);this.hosts.clear()}addHost(hostNode){this.hosts.add(hostNode);for(const[style,{elements}]of this.inline)elements.push(this.addElement(hostNode,createStyleElement(style,this.doc)));for(const[url,{elements}]of this.external)elements.push(this.addElement(hostNode,createLinkElement(url,this.doc)))}removeHost(hostNode){this.hosts.delete(hostNode)}addElement(host,element){return this.nonce&&element.setAttribute("nonce",this.nonce),"undefined"!=typeof ngServerMode&&ngServerMode&&element.setAttribute("ng-app-id",this.appId),host.appendChild(element)}static ɵfac=function SharedStylesHost_Factory(__ngFactoryType__){return new(__ngFactoryType__||SharedStylesHost)(_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(_angular_common__WEBPACK_IMPORTED_MODULE_0__.qQL),_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(_angular_core__WEBPACK_IMPORTED_MODULE_2__.sZ2),_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(_angular_core__WEBPACK_IMPORTED_MODULE_2__.BIS,8),_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Agw))};static ɵprov=_angular_common__WEBPACK_IMPORTED_MODULE_0__.jDH({token:SharedStylesHost,factory:SharedStylesHost.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.cDI(SharedStylesHost,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__._qm}],()=>[{type:Document,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.y_5,args:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.qQL]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.y_5,args:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.sZ2]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.y_5,args:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.BIS]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xx1}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.y_5,args:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.Agw]}]}],null);const NAMESPACE_URIS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},COMPONENT_REGEX=/%COMP%/g,SOURCEMAP_URL_REGEXP=/\/\*#\s*sourceMappingURL=(.+?)\s*\*\//,PROTOCOL_REGEXP=/^https?:/,HOST_ATTR="_nghost-%COMP%",CONTENT_ATTR="_ngcontent-%COMP%",REMOVE_STYLES_ON_COMPONENT_DESTROY=new _angular_common__WEBPACK_IMPORTED_MODULE_0__.nKC(ngDevMode?"RemoveStylesOnCompDestroy":"",{providedIn:"root",factory:()=>true});function shimStylesContent(compId,styles){return styles.map(s=>s.replace(COMPONENT_REGEX,compId))}function addBaseHrefToCssSourceMap(baseHref,styles){if(!baseHref)return styles;const absoluteBaseHrefUrl=new URL(baseHref,"http://localhost");return styles.map(cssContent=>cssContent.includes("sourceMappingURL=")?cssContent.replace(SOURCEMAP_URL_REGEXP,(_,sourceMapUrl)=>{if("/"===sourceMapUrl[0]||sourceMapUrl.startsWith("data:")||PROTOCOL_REGEXP.test(sourceMapUrl))return`/*# sourceMappingURL=${sourceMapUrl} */`;const{pathname:resolvedSourceMapUrl}=new URL(sourceMapUrl,absoluteBaseHrefUrl);return`/*# sourceMappingURL=${resolvedSourceMapUrl} */`}):cssContent)}class DomRendererFactory2{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(eventManager,sharedStylesHost,appId,removeStylesOnCompDestroy,doc,ngZone,nonce=null,tracingService=null){this.eventManager=eventManager,this.sharedStylesHost=sharedStylesHost,this.appId=appId,this.removeStylesOnCompDestroy=removeStylesOnCompDestroy,this.doc=doc,this.ngZone=ngZone,this.nonce=nonce,this.tracingService=tracingService,this.platformIsServer="undefined"!=typeof ngServerMode&&ngServerMode,this.defaultRenderer=new DefaultDomRenderer2(eventManager,doc,ngZone,this.platformIsServer,this.tracingService)}createRenderer(element,type){if(!element||!type)return this.defaultRenderer;"undefined"!=typeof ngServerMode&&ngServerMode&&type.encapsulation===_angular_core__WEBPACK_IMPORTED_MODULE_2__.gXe.ShadowDom&&(type={...type,encapsulation:_angular_core__WEBPACK_IMPORTED_MODULE_2__.gXe.Emulated});const renderer=this.getOrCreateRenderer(element,type);return renderer instanceof EmulatedEncapsulationDomRenderer2?renderer.applyToHost(element):renderer instanceof NoneEncapsulationDomRenderer&&renderer.applyStyles(),renderer}getOrCreateRenderer(element,type){const rendererByCompId=this.rendererByCompId;let renderer=rendererByCompId.get(type.id);if(!renderer){const doc=this.doc,ngZone=this.ngZone,eventManager=this.eventManager,sharedStylesHost=this.sharedStylesHost,removeStylesOnCompDestroy=this.removeStylesOnCompDestroy,platformIsServer=this.platformIsServer,tracingService=this.tracingService;switch(type.encapsulation){case _angular_core__WEBPACK_IMPORTED_MODULE_2__.gXe.Emulated:renderer=new EmulatedEncapsulationDomRenderer2(eventManager,sharedStylesHost,type,this.appId,removeStylesOnCompDestroy,doc,ngZone,platformIsServer,tracingService);break;case _angular_core__WEBPACK_IMPORTED_MODULE_2__.gXe.ShadowDom:return new ShadowDomRenderer(eventManager,sharedStylesHost,element,type,doc,ngZone,this.nonce,platformIsServer,tracingService);default:renderer=new NoneEncapsulationDomRenderer(eventManager,sharedStylesHost,type,removeStylesOnCompDestroy,doc,ngZone,platformIsServer,tracingService)}rendererByCompId.set(type.id,renderer)}return renderer}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(componentId){this.rendererByCompId.delete(componentId)}static ɵfac=function DomRendererFactory2_Factory(__ngFactoryType__){return new(__ngFactoryType__||DomRendererFactory2)(_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(EventManager),_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(SharedStylesHost),_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(_angular_core__WEBPACK_IMPORTED_MODULE_2__.sZ2),_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(REMOVE_STYLES_ON_COMPONENT_DESTROY),_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(_angular_common__WEBPACK_IMPORTED_MODULE_0__.qQL),_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(_angular_core__WEBPACK_IMPORTED_MODULE_2__.SKi),_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(_angular_core__WEBPACK_IMPORTED_MODULE_2__.BIS),_angular_common__WEBPACK_IMPORTED_MODULE_0__.KVO(_angular_core__WEBPACK_IMPORTED_MODULE_2__.a8H,8))};static ɵprov=_angular_common__WEBPACK_IMPORTED_MODULE_0__.jDH({token:DomRendererFactory2,factory:DomRendererFactory2.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.cDI(DomRendererFactory2,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__._qm}],()=>[{type:EventManager},{type:SharedStylesHost},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.y_5,args:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.sZ2]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.y_5,args:[REMOVE_STYLES_ON_COMPONENT_DESTROY]}]},{type:Document,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.y_5,args:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.qQL]}]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.SKi},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.y_5,args:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.BIS]}]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.a8H,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.y_5,args:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.a8H]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xx1}]}],null);class DefaultDomRenderer2{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(eventManager,doc,ngZone,platformIsServer,tracingService){this.eventManager=eventManager,this.doc=doc,this.ngZone=ngZone,this.platformIsServer=platformIsServer,this.tracingService=tracingService}destroy(){}destroyNode=null;createElement(name,namespace){return namespace?this.doc.createElementNS(NAMESPACE_URIS[namespace]||namespace,name):this.doc.createElement(name)}createComment(value){return this.doc.createComment(value)}createText(value){return this.doc.createTextNode(value)}appendChild(parent,newChild){(isTemplateNode(parent)?parent.content:parent).appendChild(newChild)}insertBefore(parent,newChild,refChild){if(parent){(isTemplateNode(parent)?parent.content:parent).insertBefore(newChild,refChild)}}removeChild(_parent,oldChild){oldChild.remove()}selectRootElement(selectorOrNode,preserveContent){let el="string"==typeof selectorOrNode?this.doc.querySelector(selectorOrNode):selectorOrNode;if(!el)throw new _angular_common__WEBPACK_IMPORTED_MODULE_0__.buA(-5104,("undefined"==typeof ngDevMode||ngDevMode)&&`The selector "${selectorOrNode}" did not match any elements`);return preserveContent||(el.textContent=""),el}parentNode(node){return node.parentNode}nextSibling(node){return node.nextSibling}setAttribute(el,name,value,namespace){if(namespace){name=namespace+":"+name;const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.setAttributeNS(namespaceUri,name,value):el.setAttribute(name,value)}else el.setAttribute(name,value)}removeAttribute(el,name,namespace){if(namespace){const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.removeAttributeNS(namespaceUri,name):el.removeAttribute(`${namespace}:${name}`)}else el.removeAttribute(name)}addClass(el,name){el.classList.add(name)}removeClass(el,name){el.classList.remove(name)}setStyle(el,style,value,flags){flags&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.czy.DashCase|_angular_core__WEBPACK_IMPORTED_MODULE_2__.czy.Important)?el.style.setProperty(style,value,flags&_angular_core__WEBPACK_IMPORTED_MODULE_2__.czy.Important?"important":""):el.style[style]=value}removeStyle(el,style,flags){flags&_angular_core__WEBPACK_IMPORTED_MODULE_2__.czy.DashCase?el.style.removeProperty(style):el.style[style]=""}setProperty(el,name,value){null!=el&&(("undefined"==typeof ngDevMode||ngDevMode)&&this.throwOnSyntheticProps&&checkNoSyntheticProp(name,"property"),el[name]=value)}setValue(node,value){node.nodeValue=value}listen(target,event,callback,options){if(("undefined"==typeof ngDevMode||ngDevMode)&&this.throwOnSyntheticProps&&checkNoSyntheticProp(event,"listener"),"string"==typeof target&&!(target=(0,_angular_common__WEBPACK_IMPORTED_MODULE_1__.rb)().getGlobalEventTarget(this.doc,target)))throw new _angular_common__WEBPACK_IMPORTED_MODULE_0__.buA(5102,("undefined"==typeof ngDevMode||ngDevMode)&&`Unsupported event target ${target} for event ${event}`);let wrappedCallback=this.decoratePreventDefault(callback);return this.tracingService?.wrapEventListener&&(wrappedCallback=this.tracingService.wrapEventListener(target,event,wrappedCallback)),this.eventManager.addEventListener(target,event,wrappedCallback,options)}decoratePreventDefault(eventHandler){return event=>{if("__ngUnwrap__"===event)return eventHandler;!1===("undefined"!=typeof ngServerMode&&ngServerMode?this.ngZone.runGuarded(()=>eventHandler(event)):eventHandler(event))&&event.preventDefault()}}}const AT_CHARCODE="@".charCodeAt(0);function checkNoSyntheticProp(name,nameKind){if(name.charCodeAt(0)===AT_CHARCODE)throw new _angular_common__WEBPACK_IMPORTED_MODULE_0__.buA(5105,`Unexpected synthetic ${nameKind} ${name} found. Please make sure that:\n  - Make sure \`provideAnimationsAsync()\`, \`provideAnimations()\` or \`provideNoopAnimations()\` call was added to a list of providers used to bootstrap an application.\n  - There is a corresponding animation configuration named \`${name}\` defined in the \`animations\` field of the \`@Component\` decorator (see https://angular.dev/api/core/Component#animations).`)}function isTemplateNode(node){return"TEMPLATE"===node.tagName&&void 0!==node.content}class ShadowDomRenderer extends DefaultDomRenderer2{sharedStylesHost;hostEl;shadowRoot;constructor(eventManager,sharedStylesHost,hostEl,component,doc,ngZone,nonce,platformIsServer,tracingService){super(eventManager,doc,ngZone,platformIsServer,tracingService),this.sharedStylesHost=sharedStylesHost,this.hostEl=hostEl,this.shadowRoot=hostEl.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let styles=component.styles;if(ngDevMode){styles=addBaseHrefToCssSourceMap((0,_angular_common__WEBPACK_IMPORTED_MODULE_1__.rb)().getBaseHref(doc)??"",styles)}styles=shimStylesContent(component.id,styles);for(const style of styles){const styleEl=document.createElement("style");nonce&&styleEl.setAttribute("nonce",nonce),styleEl.textContent=style,this.shadowRoot.appendChild(styleEl)}const styleUrls=component.getExternalStyles?.();if(styleUrls)for(const styleUrl of styleUrls){const linkEl=createLinkElement(styleUrl,doc);nonce&&linkEl.setAttribute("nonce",nonce),this.shadowRoot.appendChild(linkEl)}}nodeOrShadowRoot(node){return node===this.hostEl?this.shadowRoot:node}appendChild(parent,newChild){return super.appendChild(this.nodeOrShadowRoot(parent),newChild)}insertBefore(parent,newChild,refChild){return super.insertBefore(this.nodeOrShadowRoot(parent),newChild,refChild)}removeChild(_parent,oldChild){return super.removeChild(null,oldChild)}parentNode(node){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(node)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class NoneEncapsulationDomRenderer extends DefaultDomRenderer2{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(eventManager,sharedStylesHost,component,removeStylesOnCompDestroy,doc,ngZone,platformIsServer,tracingService,compId){super(eventManager,doc,ngZone,platformIsServer,tracingService),this.sharedStylesHost=sharedStylesHost,this.removeStylesOnCompDestroy=removeStylesOnCompDestroy;let styles=component.styles;if(ngDevMode){styles=addBaseHrefToCssSourceMap((0,_angular_common__WEBPACK_IMPORTED_MODULE_1__.rb)().getBaseHref(doc)??"",styles)}this.styles=compId?shimStylesContent(compId,styles):styles,this.styleUrls=component.getExternalStyles?.(compId)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===_angular_core__WEBPACK_IMPORTED_MODULE_2__.DUP.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class EmulatedEncapsulationDomRenderer2 extends NoneEncapsulationDomRenderer{contentAttr;hostAttr;constructor(eventManager,sharedStylesHost,component,appId,removeStylesOnCompDestroy,doc,ngZone,platformIsServer,tracingService){const compId=appId+"-"+component.id;super(eventManager,sharedStylesHost,component,removeStylesOnCompDestroy,doc,ngZone,platformIsServer,tracingService,compId),this.contentAttr=function shimContentAttribute(componentShortId){return CONTENT_ATTR.replace(COMPONENT_REGEX,componentShortId)}(compId),this.hostAttr=function shimHostAttribute(componentShortId){return HOST_ATTR.replace(COMPONENT_REGEX,componentShortId)}(compId)}applyToHost(element){this.applyStyles(),this.setAttribute(element,this.hostAttr,"")}createElement(parent,name){const el=super.createElement(parent,name);return super.setAttribute(el,this.contentAttr,""),el}}},"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}__webpack_require__.d(__webpack_exports__,{A:()=>_asyncToGenerator})},"./node_modules/@biesbjerg/ngx-translate-extract-marker/fesm5/biesbjerg-ngx-translate-extract-marker.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function marker(key){return key}__webpack_require__.d(__webpack_exports__,{x:()=>marker})},"./node_modules/@camptocamp/ogc-client/dist/dist-node.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DE:()=>WmsEndpoint,E6:()=>useCache,TL:()=>OgcApiEndpoint,bf:()=>WmtsEndpoint,cB:()=>sharedFetch,dH:()=>StacEndpoint,oQ:()=>TmsEndpoint,ym:()=>WfsEndpoint});var _home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),__defProp=Object.defineProperty,__publicField=(obj,key,value)=>(((obj,key,value)=>{key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value})(obj,"symbol"!=typeof key?key+"":key,value),value);let counter=0;var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},dist={},Parser$1={},StringScanner$1={};Object.defineProperty(StringScanner$1,"__esModule",{value:!0}),StringScanner$1.StringScanner=void 0;const surrogatePair=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;StringScanner$1.StringScanner=class StringScanner{constructor(string){if(this.charCount=this.charLength(string,!0),this.charIndex=0,this.length=string.length,this.multiByteMode=this.charCount!==this.length,this.string=string,this.multiByteMode){let charsToBytes=[];for(let byteIndex=0,charIndex=0;charIndex<this.charCount;++charIndex)charsToBytes[charIndex]=byteIndex,byteIndex+=string.codePointAt(byteIndex)>65535?2:1;this.charsToBytes=charsToBytes}}get isEnd(){return this.charIndex>=this.charCount}charLength(string,multiByteSafe=this.multiByteMode){return multiByteSafe?string.replace(surrogatePair,"_").length:string.length}advance(count=1){this.charIndex=Math.min(this.charCount,this.charIndex+count)}charIndexToByteIndex(charIndex=this.charIndex){return this.multiByteMode?this.charsToBytes[charIndex]??1/0:charIndex}consume(count=1){let chars=this.peek(count);return this.advance(count),chars}consumeMatch(regex){if(!regex.sticky)throw new Error('`regex` must have a sticky flag ("y")');regex.lastIndex=this.charIndexToByteIndex();let result=regex.exec(this.string);if(null===result||0===result.length)return"";let match=result[0];return this.advance(this.charLength(match)),match}consumeMatchFn(fn){let char,match="";for(;(char=this.peek())&&fn(char);)match+=char,this.advance();return match}consumeString(stringToConsume){if(this.consumeStringFast(stringToConsume))return stringToConsume;if(this.multiByteMode){let{length}=stringToConsume,charLengthToMatch=this.charLength(stringToConsume);if(charLengthToMatch!==length&&stringToConsume===this.peek(charLengthToMatch))return this.advance(charLengthToMatch),stringToConsume}return""}consumeStringFast(stringToConsume){let{length}=stringToConsume;return this.peek(length)===stringToConsume?(this.advance(length),stringToConsume):""}consumeUntilMatch(regex){let restOfString=this.string.slice(this.charIndexToByteIndex()),matchByteIndex=restOfString.search(regex);if(matchByteIndex<=0)return"";let result=restOfString.slice(0,matchByteIndex);return this.advance(this.charLength(result)),result}consumeUntilString(searchString){let{string}=this,byteIndex=this.charIndexToByteIndex(),matchByteIndex=string.indexOf(searchString,byteIndex);if(matchByteIndex<=0)return"";let result=string.slice(byteIndex,matchByteIndex);return this.advance(this.charLength(result)),result}peek(count=1){let{charIndex,multiByteMode,string}=this;return multiByteMode?charIndex>=this.charCount?"":string.slice(this.charIndexToByteIndex(charIndex),this.charIndexToByteIndex(charIndex+count)):string.slice(charIndex,charIndex+count)}reset(index=0){this.charIndex=index>=0?Math.min(this.charCount,index):Math.max(0,this.charIndex+index)}};var syntax$1={};function isNameChar(char){let cp=getCodePoint(char);return cp>=97&&cp<=122||cp>=65&&cp<=90||cp>=48&&cp<=57||45===cp||46===cp||183===cp||cp>=768&&cp<=879||cp>=8255&&cp<=8256||isNameStartChar(char,cp)}function isNameStartChar(char,cp=getCodePoint(char)){return cp>=97&&cp<=122||cp>=65&&cp<=90||58===cp||95===cp||cp>=192&&cp<=214||cp>=216&&cp<=246||cp>=248&&cp<=767||cp>=880&&cp<=893||cp>=895&&cp<=8191||cp>=8204&&cp<=8205||cp>=8304&&cp<=8591||cp>=11264&&cp<=12271||cp>=12289&&cp<=55295||cp>=63744&&cp<=64975||cp>=65008&&cp<=65533||cp>=65536&&cp<=983039}function getCodePoint(char){return char.codePointAt(0)||-1}Object.defineProperty(syntax$1,"__esModule",{value:!0}),syntax$1.isXmlCodePoint=syntax$1.isWhitespace=syntax$1.isReferenceChar=syntax$1.isNameStartChar=syntax$1.isNameChar=syntax$1.predefinedEntities=syntax$1.endCharData=syntax$1.attValueNormalizedWhitespace=syntax$1.attValueCharSingleQuote=syntax$1.attValueCharDoubleQuote=void 0,syntax$1.attValueCharDoubleQuote=/[^"&<]+/y,syntax$1.attValueCharSingleQuote=/[^'&<]+/y,syntax$1.attValueNormalizedWhitespace=/\r\n|[\n\r\t]/g,syntax$1.endCharData=/<|&|]]>/,syntax$1.predefinedEntities=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'})),syntax$1.isNameChar=isNameChar,syntax$1.isNameStartChar=isNameStartChar,syntax$1.isReferenceChar=function isReferenceChar(char){return"#"===char||isNameChar(char)},syntax$1.isWhitespace=function isWhitespace(char){let cp=getCodePoint(char);return 32===cp||9===cp||10===cp||13===cp},syntax$1.isXmlCodePoint=function isXmlCodePoint(cp){return 9===cp||10===cp||13===cp||cp>=32&&cp<=55295||cp>=57344&&cp<=65533||cp>=65536&&cp<=1114111};var XmlCdata$1={},XmlNode$1={};Object.defineProperty(XmlNode$1,"__esModule",{value:!0}),XmlNode$1.XmlNode=void 0;class XmlNode{constructor(){this.parent=null,this.start=-1,this.end=-1}get document(){var _a;return(null==(_a=this.parent)?void 0:_a.document)??null}get isRootNode(){return null!==this.parent&&this.parent===this.document&&this.type===XmlNode.TYPE_ELEMENT}get preserveWhitespace(){var _a;return!!(null==(_a=this.parent)?void 0:_a.preserveWhitespace)}get type(){return""}toJSON(){let json={type:this.type};return this.isRootNode&&(json.isRootNode=!0),this.preserveWhitespace&&(json.preserveWhitespace=!0),-1!==this.start&&(json.start=this.start,json.end=this.end),json}}XmlNode$1.XmlNode=XmlNode,XmlNode.TYPE_CDATA="cdata",XmlNode.TYPE_COMMENT="comment",XmlNode.TYPE_DOCUMENT="document",XmlNode.TYPE_DOCUMENT_TYPE="doctype",XmlNode.TYPE_ELEMENT="element",XmlNode.TYPE_PROCESSING_INSTRUCTION="pi",XmlNode.TYPE_TEXT="text",XmlNode.TYPE_XML_DECLARATION="xmldecl";var XmlText$1={};Object.defineProperty(XmlText$1,"__esModule",{value:!0}),XmlText$1.XmlText=void 0;const XmlNode_js_1$8=XmlNode$1;class XmlText extends XmlNode_js_1$8.XmlNode{constructor(text=""){super(),this.text=text}get type(){return XmlNode_js_1$8.XmlNode.TYPE_TEXT}toJSON(){return Object.assign(XmlNode_js_1$8.XmlNode.prototype.toJSON.call(this),{text:this.text})}}XmlText$1.XmlText=XmlText,Object.defineProperty(XmlCdata$1,"__esModule",{value:!0}),XmlCdata$1.XmlCdata=void 0;const XmlNode_js_1$7=XmlNode$1,XmlText_js_1$1=XmlText$1;class XmlCdata extends XmlText_js_1$1.XmlText{get type(){return XmlNode_js_1$7.XmlNode.TYPE_CDATA}}XmlCdata$1.XmlCdata=XmlCdata;var XmlComment$1={};Object.defineProperty(XmlComment$1,"__esModule",{value:!0}),XmlComment$1.XmlComment=void 0;const XmlNode_js_1$6=XmlNode$1;class XmlComment extends XmlNode_js_1$6.XmlNode{constructor(content=""){super(),this.content=content}get type(){return XmlNode_js_1$6.XmlNode.TYPE_COMMENT}toJSON(){return Object.assign(XmlNode_js_1$6.XmlNode.prototype.toJSON.call(this),{content:this.content})}}XmlComment$1.XmlComment=XmlComment;var XmlDeclaration$1={};Object.defineProperty(XmlDeclaration$1,"__esModule",{value:!0}),XmlDeclaration$1.XmlDeclaration=void 0;const XmlNode_js_1$5=XmlNode$1;class XmlDeclaration extends XmlNode_js_1$5.XmlNode{constructor(version,encoding,standalone){super(),this.version=version,this.encoding=encoding??null,this.standalone=standalone??null}get type(){return XmlNode_js_1$5.XmlNode.TYPE_XML_DECLARATION}toJSON(){let json=XmlNode_js_1$5.XmlNode.prototype.toJSON.call(this);json.version=this.version;for(let key of["encoding","standalone"])null!==this[key]&&(json[key]=this[key]);return json}}XmlDeclaration$1.XmlDeclaration=XmlDeclaration;var XmlDocument$1={},XmlElement$1={};Object.defineProperty(XmlElement$1,"__esModule",{value:!0}),XmlElement$1.XmlElement=void 0;const XmlNode_js_1$4=XmlNode$1;class XmlElement extends XmlNode_js_1$4.XmlNode{constructor(name,attributes=Object.create(null),children=[]){super(),this.name=name,this.attributes=attributes,this.children=children}get isEmpty(){return 0===this.children.length}get preserveWhitespace(){let node=this;for(;node instanceof XmlElement;){if("xml:space"in node.attributes)return"preserve"===node.attributes["xml:space"];node=node.parent}return!1}get text(){return this.children.map(child=>"text"in child?child.text:"").join("")}get type(){return XmlNode_js_1$4.XmlNode.TYPE_ELEMENT}toJSON(){return Object.assign(XmlNode_js_1$4.XmlNode.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(child=>child.toJSON())})}}XmlElement$1.XmlElement=XmlElement,Object.defineProperty(XmlDocument$1,"__esModule",{value:!0}),XmlDocument$1.XmlDocument=void 0;const XmlElement_js_1$1=XmlElement$1,XmlNode_js_1$3=XmlNode$1;class XmlDocument extends XmlNode_js_1$3.XmlNode{constructor(children=[]){super(),this.children=children}get document(){return this}get root(){for(let child of this.children)if(child instanceof XmlElement_js_1$1.XmlElement)return child;return null}get text(){return this.children.map(child=>"text"in child?child.text:"").join("")}get type(){return XmlNode_js_1$3.XmlNode.TYPE_DOCUMENT}toJSON(){return Object.assign(XmlNode_js_1$3.XmlNode.prototype.toJSON.call(this),{children:this.children.map(child=>child.toJSON())})}}XmlDocument$1.XmlDocument=XmlDocument;var XmlDocumentType$1={};Object.defineProperty(XmlDocumentType$1,"__esModule",{value:!0}),XmlDocumentType$1.XmlDocumentType=void 0;const XmlNode_js_1$2=XmlNode$1;class XmlDocumentType extends XmlNode_js_1$2.XmlNode{constructor(name,publicId,systemId,internalSubset){super(),this.name=name,this.publicId=publicId??null,this.systemId=systemId??null,this.internalSubset=internalSubset??null}get type(){return XmlNode_js_1$2.XmlNode.TYPE_DOCUMENT_TYPE}toJSON(){let json=XmlNode_js_1$2.XmlNode.prototype.toJSON.call(this);json.name=this.name;for(let key of["publicId","systemId","internalSubset"])null!==this[key]&&(json[key]=this[key]);return json}}XmlDocumentType$1.XmlDocumentType=XmlDocumentType;var XmlError$1={};Object.defineProperty(XmlError$1,"__esModule",{value:!0}),XmlError$1.XmlError=void 0;class XmlError extends Error{constructor(message,charIndex,xml){let column=1,excerpt="",line=1;for(let i=0;i<charIndex;++i){let char=xml[i];"\n"===char?(column=1,excerpt="",line+=1):(column+=1,excerpt+=char)}let eol=xml.indexOf("\n",charIndex);excerpt+=-1===eol?xml.slice(charIndex):xml.slice(charIndex,eol);let excerptStart=0;excerpt.length>50&&(column<40?excerpt=excerpt.slice(0,50):(excerptStart=column-20,excerpt=excerpt.slice(excerptStart,column+30))),super(`${message} (line ${line}, column ${column})\n  ${excerpt}\n`+" ".repeat(column-excerptStart+1)+"^\n"),this.column=column,this.excerpt=excerpt,this.line=line,this.name="XmlError",this.pos=charIndex}}XmlError$1.XmlError=XmlError;var XmlProcessingInstruction$1={};Object.defineProperty(XmlProcessingInstruction$1,"__esModule",{value:!0}),XmlProcessingInstruction$1.XmlProcessingInstruction=void 0;const XmlNode_js_1$1=XmlNode$1;class XmlProcessingInstruction extends XmlNode_js_1$1.XmlNode{constructor(name,content=""){super(),this.name=name,this.content=content}get type(){return XmlNode_js_1$1.XmlNode.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(XmlNode_js_1$1.XmlNode.prototype.toJSON.call(this),{name:this.name,content:this.content})}}XmlProcessingInstruction$1.XmlProcessingInstruction=XmlProcessingInstruction;var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(Parser$1,"__esModule",{value:!0}),Parser$1.Parser=void 0;const StringScanner_js_1=StringScanner$1,syntax=__importStar(syntax$1),XmlCdata_js_1=XmlCdata$1,XmlComment_js_1=XmlComment$1,XmlDeclaration_js_1=XmlDeclaration$1,XmlDocument_js_1=XmlDocument$1,XmlDocumentType_js_1=XmlDocumentType$1,XmlElement_js_1=XmlElement$1,XmlError_js_1=XmlError$1,XmlNode_js_1=XmlNode$1,XmlProcessingInstruction_js_1=XmlProcessingInstruction$1,XmlText_js_1=XmlText$1;function normalizeLineBreaks(text){let i=0;for(;-1!==(i=text.indexOf("\r",i));)text="\n"===text[i+1]?text.slice(0,i)+text.slice(i+1):text.slice(0,i)+"\n"+text.slice(i+1);return text}Parser$1.Parser=class Parser{constructor(xml,options={}){let doc=this.document=new XmlDocument_js_1.XmlDocument,scanner=this.scanner=new StringScanner_js_1.StringScanner(xml);if(this.currentNode=doc,this.options=options,this.options.includeOffsets&&(doc.start=0,doc.end=xml.length),scanner.consumeStringFast("\ufeff"),this.consumeProlog(),!this.consumeElement())throw this.error("Root element is missing or invalid");for(;this.consumeMisc(););if(!scanner.isEnd)throw this.error("Extra content at the end of the document")}addNode(node,charIndex){return node.parent=this.currentNode,this.options.includeOffsets&&(node.start=this.scanner.charIndexToByteIndex(charIndex),node.end=this.scanner.charIndexToByteIndex()),this.currentNode.children.push(node),!0}addText(text,charIndex){let{children}=this.currentNode,{length}=children;if(text=normalizeLineBreaks(text),length>0){let prevNode=children[length-1];if((null==prevNode?void 0:prevNode.type)===XmlNode_js_1.XmlNode.TYPE_TEXT){let textNode=prevNode;return textNode.text+=text,this.options.includeOffsets&&(textNode.end=this.scanner.charIndexToByteIndex()),!0}}return this.addNode(new XmlText_js_1.XmlText(text),charIndex)}consumeAttributes(){let attributes=Object.create(null);for(;this.consumeWhitespace();){let attrName=this.consumeName();if(!attrName)break;let attrValue=this.consumeEqual()&&this.consumeAttributeValue();if(!1===attrValue)throw this.error("Attribute value expected");if(attrName in attributes)throw this.error(`Duplicate attribute: ${attrName}`);if("xml:space"===attrName&&"default"!==attrValue&&"preserve"!==attrValue)throw this.error('Value of the `xml:space` attribute must be "default" or "preserve"');attributes[attrName]=attrValue}if(this.options.sortAttributes){let attrNames=Object.keys(attributes).sort(),sortedAttributes=Object.create(null);for(let i=0;i<attrNames.length;++i){let attrName=attrNames[i];sortedAttributes[attrName]=attributes[attrName]}attributes=sortedAttributes}return attributes}consumeAttributeValue(){let chars,{scanner}=this,quote=scanner.peek();if('"'!==quote&&"'"!==quote)return!1;scanner.advance();let isClosed=!1,value="",regex='"'===quote?syntax.attValueCharDoubleQuote:syntax.attValueCharSingleQuote;matchLoop:for(;!scanner.isEnd;)switch(chars=scanner.consumeMatch(regex),chars&&(this.validateChars(chars),value+=chars.replace(syntax.attValueNormalizedWhitespace," ")),scanner.peek()){case quote:isClosed=!0;break matchLoop;case"&":value+=this.consumeReference();continue;case"<":throw this.error("Unescaped `<` is not allowed in an attribute value");case"":break matchLoop}if(!isClosed)throw this.error("Unclosed attribute");return scanner.advance(),value}consumeCdataSection(){let{scanner}=this,startIndex=scanner.charIndex;if(!scanner.consumeStringFast("<![CDATA["))return!1;let text=scanner.consumeUntilString("]]>");if(this.validateChars(text),!scanner.consumeStringFast("]]>"))throw this.error("Unclosed CDATA section");return this.options.preserveCdata?this.addNode(new XmlCdata_js_1.XmlCdata(normalizeLineBreaks(text)),startIndex):this.addText(text,startIndex)}consumeCharData(){let{scanner}=this,startIndex=scanner.charIndex,charData=scanner.consumeUntilMatch(syntax.endCharData);if(!charData)return!1;if(this.validateChars(charData),"]]>"===scanner.peek(3))throw this.error("Element content may not contain the CDATA section close delimiter `]]>`");return this.addText(charData,startIndex)}consumeComment(){let{scanner}=this,startIndex=scanner.charIndex;if(!scanner.consumeStringFast("\x3c!--"))return!1;let content=scanner.consumeUntilString("--");if(this.validateChars(content),!scanner.consumeStringFast("--\x3e")){if("--"===scanner.peek(2))throw this.error("The string `--` isn't allowed inside a comment");throw this.error("Unclosed comment")}return!this.options.preserveComments||this.addNode(new XmlComment_js_1.XmlComment(normalizeLineBreaks(content)),startIndex)}consumeContentReference(){let startIndex=this.scanner.charIndex,ref=this.consumeReference();return!!ref&&this.addText(ref,startIndex)}consumeDoctypeDeclaration(){let{scanner}=this,startIndex=scanner.charIndex;if(!scanner.consumeStringFast("<!DOCTYPE"))return!1;let publicId,systemId,internalSubset,name=this.consumeWhitespace()&&this.consumeName();if(!name)throw this.error("Expected a name");if(this.consumeWhitespace()){if(scanner.consumeStringFast("PUBLIC")){if(publicId=this.consumeWhitespace()&&this.consumePubidLiteral(),!1===publicId)throw this.error("Expected a public identifier");this.consumeWhitespace()}if(void 0!==publicId||scanner.consumeStringFast("SYSTEM")){if(this.consumeWhitespace(),systemId=this.consumeSystemLiteral(),!1===systemId)throw this.error("Expected a system identifier");this.consumeWhitespace()}}if(scanner.consumeStringFast("[")){if(internalSubset=scanner.consumeUntilMatch(/\][\x20\t\r\n]*>/),!scanner.consumeStringFast("]"))throw this.error("Unclosed internal subset");this.consumeWhitespace()}if(!scanner.consumeStringFast(">"))throw this.error("Unclosed doctype declaration");return!this.options.preserveDocumentType||this.addNode(new XmlDocumentType_js_1.XmlDocumentType(name,publicId,systemId,internalSubset),startIndex)}consumeElement(){let{scanner}=this,startIndex=scanner.charIndex;if(!scanner.consumeStringFast("<"))return!1;let name=this.consumeName();if(!name)return scanner.reset(startIndex),!1;let attributes=this.consumeAttributes(),isEmpty=!!scanner.consumeStringFast("/>"),element=new XmlElement_js_1.XmlElement(name,attributes);if(element.parent=this.currentNode,!isEmpty){if(!scanner.consumeStringFast(">"))throw this.error(`Unclosed start tag for element \`${name}\``);this.currentNode=element;do{this.consumeCharData()}while(this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment());let endTagName,endTagMark=scanner.charIndex;if(!scanner.consumeStringFast("</")||!(endTagName=this.consumeName())||endTagName!==name)throw scanner.reset(endTagMark),this.error(`Missing end tag for element ${name}`);if(this.consumeWhitespace(),!scanner.consumeStringFast(">"))throw this.error(`Unclosed end tag for element ${name}`);this.currentNode=element.parent}return this.addNode(element,startIndex)}consumeEqual(){return this.consumeWhitespace(),!!this.scanner.consumeStringFast("=")&&(this.consumeWhitespace(),!0)}consumeMisc(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}consumeName(){return syntax.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(syntax.isNameChar):""}consumeProcessingInstruction(){let{scanner}=this,startIndex=scanner.charIndex;if(!scanner.consumeStringFast("<?"))return!1;let name=this.consumeName();if(!name)throw this.error("Invalid processing instruction");if("xml"===name.toLowerCase())throw scanner.reset(startIndex),this.error("XML declaration isn't allowed here");if(!this.consumeWhitespace()){if(scanner.consumeStringFast("?>"))return this.addNode(new XmlProcessingInstruction_js_1.XmlProcessingInstruction(name),startIndex);throw this.error("Whitespace is required after a processing instruction name")}let content=scanner.consumeUntilString("?>");if(this.validateChars(content),!scanner.consumeStringFast("?>"))throw this.error("Unterminated processing instruction");return this.addNode(new XmlProcessingInstruction_js_1.XmlProcessingInstruction(name,normalizeLineBreaks(content)),startIndex)}consumeProlog(){let{scanner}=this,startIndex=scanner.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return startIndex<scanner.charIndex}consumePubidLiteral(){let startIndex=this.scanner.charIndex,value=this.consumeSystemLiteral();if(!1!==value&&!/^[-\x20\r\na-zA-Z0-9'()+,./:=?;!*#@$_%]*$/.test(value))throw this.scanner.reset(startIndex),this.error("Invalid character in public identifier");return value}consumeReference(){let{scanner}=this;if(!scanner.consumeStringFast("&"))return!1;let parsedValue,ref=scanner.consumeMatchFn(syntax.isReferenceChar);if(";"!==scanner.consume())throw this.error("Unterminated reference (a reference must end with `;`)");if("#"===ref[0]){let codePoint="x"===ref[1]?parseInt(ref.slice(2),16):parseInt(ref.slice(1),10);if(isNaN(codePoint))throw this.error("Invalid character reference");if(!syntax.isXmlCodePoint(codePoint))throw this.error("Character reference resolves to an invalid character");parsedValue=String.fromCodePoint(codePoint)}else if(parsedValue=syntax.predefinedEntities[ref],void 0===parsedValue){let{ignoreUndefinedEntities,resolveUndefinedEntity}=this.options,wrappedRef=`&${ref};`;if(resolveUndefinedEntity){let resolvedValue=resolveUndefinedEntity(wrappedRef);if(null!=resolvedValue){let type=typeof resolvedValue;if("string"!==type)throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${type}`);return resolvedValue}}if(ignoreUndefinedEntities)return wrappedRef;throw scanner.reset(-wrappedRef.length),this.error(`Named entity isn't defined: ${wrappedRef}`)}return parsedValue}consumeSystemLiteral(){let{scanner}=this,quote=scanner.consumeStringFast('"')||scanner.consumeStringFast("'");if(!quote)return!1;let value=scanner.consumeUntilString(quote);if(this.validateChars(value),!scanner.consumeStringFast(quote))throw this.error("Missing end quote");return value}consumeWhitespace(){return!!this.scanner.consumeMatchFn(syntax.isWhitespace)}consumeXmlDeclaration(){let{scanner}=this,startIndex=scanner.charIndex;if(!scanner.consumeStringFast("<?xml"))return!1;if(!this.consumeWhitespace())throw this.error("Invalid XML declaration");let encoding,standalone,version=!!scanner.consumeStringFast("version")&&this.consumeEqual()&&this.consumeSystemLiteral();if(!1===version)throw this.error("XML version is missing or invalid");if(!/^1\.[0-9]+$/.test(version))throw this.error("Invalid character in version number");if(this.consumeWhitespace()&&(encoding=!!scanner.consumeStringFast("encoding")&&this.consumeEqual()&&this.consumeSystemLiteral(),encoding&&this.consumeWhitespace(),standalone=!!scanner.consumeStringFast("standalone")&&this.consumeEqual()&&this.consumeSystemLiteral(),standalone)){if("yes"!==standalone&&"no"!==standalone)throw this.error('Only "yes" and "no" are permitted as values of `standalone`');this.consumeWhitespace()}if(!scanner.consumeStringFast("?>"))throw this.error("Invalid or unclosed XML declaration");return!this.options.preserveXmlDeclaration||this.addNode(new XmlDeclaration_js_1.XmlDeclaration(version,encoding||void 0,standalone||void 0),startIndex)}error(message){let{scanner}=this;return new XmlError_js_1.XmlError(message,scanner.charIndex,scanner.string)}validateChars(string){let{length}=string;for(let i=0;i<length;++i){let cp=string.codePointAt(i);if(!syntax.isXmlCodePoint(cp))throw this.scanner.reset(-([...string].length-i)),this.error("Invalid character");cp>65535&&(i+=1)}}};var types={};Object.defineProperty(types,"__esModule",{value:!0}),function(exports){var __createBinding2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=commonjsGlobal&&commonjsGlobal.__exportStar||function(m,exports2){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports2,p)||__createBinding2(exports2,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseXml=exports.XmlText=exports.XmlProcessingInstruction=exports.XmlNode=exports.XmlError=exports.XmlElement=exports.XmlDocumentType=exports.XmlDocument=exports.XmlDeclaration=exports.XmlComment=exports.XmlCdata=void 0;const Parser_js_1=Parser$1;__exportStar(types,exports);var XmlCdata_js_12=XmlCdata$1;Object.defineProperty(exports,"XmlCdata",{enumerable:!0,get:function(){return XmlCdata_js_12.XmlCdata}});var XmlComment_js_12=XmlComment$1;Object.defineProperty(exports,"XmlComment",{enumerable:!0,get:function(){return XmlComment_js_12.XmlComment}});var XmlDeclaration_js_12=XmlDeclaration$1;Object.defineProperty(exports,"XmlDeclaration",{enumerable:!0,get:function(){return XmlDeclaration_js_12.XmlDeclaration}});var XmlDocument_js_12=XmlDocument$1;Object.defineProperty(exports,"XmlDocument",{enumerable:!0,get:function(){return XmlDocument_js_12.XmlDocument}});var XmlDocumentType_js_12=XmlDocumentType$1;Object.defineProperty(exports,"XmlDocumentType",{enumerable:!0,get:function(){return XmlDocumentType_js_12.XmlDocumentType}});var XmlElement_js_12=XmlElement$1;Object.defineProperty(exports,"XmlElement",{enumerable:!0,get:function(){return XmlElement_js_12.XmlElement}});var XmlError_js_12=XmlError$1;Object.defineProperty(exports,"XmlError",{enumerable:!0,get:function(){return XmlError_js_12.XmlError}});var XmlNode_js_12=XmlNode$1;Object.defineProperty(exports,"XmlNode",{enumerable:!0,get:function(){return XmlNode_js_12.XmlNode}});var XmlProcessingInstruction_js_12=XmlProcessingInstruction$1;Object.defineProperty(exports,"XmlProcessingInstruction",{enumerable:!0,get:function(){return XmlProcessingInstruction_js_12.XmlProcessingInstruction}});var XmlText_js_12=XmlText$1;Object.defineProperty(exports,"XmlText",{enumerable:!0,get:function(){return XmlText_js_12.XmlText}}),exports.parseXml=function parseXml(xml,options){return new Parser_js_1.Parser(xml,options).document}}(dist);class XmlParseError extends Error{constructor(message){super(message)}}function parseXmlString(xmlString){let doc=null;try{doc=dist.parseXml(xmlString)}catch(e){throw new XmlParseError(e.message)}return doc}function stripNamespace(name){const colon=name.indexOf(":");return colon>-1?name.substr(colon+1):name}function getRootElement(xmlDoc){return xmlDoc.children[0]}function getElementName(element){return element.name||""}function findChildrenElement(element,name,nested=!1){const strippedName=stripNamespace(name);return element&&Array.isArray(element.children)?element.children.reduce(function reducer(prev,curr){return stripNamespace(getElementName(curr))===strippedName&&prev.push(curr),nested&&Array.isArray(curr.children)?[...prev,...curr.children.reduce(reducer,[])]:prev},[]):[]}function findChildElement(element,name,nested=!1){return findChildrenElement(element,name,nested)[0]||null}function getChildrenElement(element){return element&&Array.isArray(element.children)?[...element.children.filter(el=>el instanceof dist.XmlElement)]:[]}function getElementText(element){const textNode=element&&Array.isArray(element.children)?element.children.find(node=>"text"===node.type):null;return textNode?textNode.text:""}function getElementAttribute(element,attrName){return element&&element.attributes[attrName]||""}class EndpointError extends Error{constructor(message,httpStatus,isCrossOriginRelated){super(message),this.httpStatus=httpStatus,this.isCrossOriginRelated=isCrossOriginRelated,this.name="EndpointError"}}class ServiceExceptionError extends Error{constructor(message,requestUrl,code,locator,response){super(message),this.requestUrl=requestUrl,this.code=code,this.locator=locator,this.response=response,this.name="ServiceExceptionError"}}function parse(serviceException,url){const errorCode=getElementAttribute(serviceException,"code")||getElementAttribute(serviceException,"exceptionCode"),errorLocator=getElementAttribute(serviceException,"locator"),errorMessage=getElementText(findChildElement(serviceException,"ExceptionText")||serviceException).trim();return new ServiceExceptionError(errorMessage,url,errorCode,errorLocator,serviceException.document)}function check(response,url){const rootEl=getRootElement(response),rootElName=stripNamespace(getElementName(rootEl));if("ServiceExceptionReport"===rootElName){const error=findChildElement(rootEl,"ServiceException");if(error)throw parse(error,url)}if("ExceptionReport"===rootElName){const error=findChildElement(rootEl,"Exception");if(error)throw parse(error,url)}return response}const fallbackEventTarget=new EventTarget;function sendTaskRequest(taskName,workerInstance2,params){return new Promise((resolve,reject)=>{const requestId=function getUniqueId(){return counter++}(),request={requestId,taskName,params};null===workerInstance2?fallbackEventTarget.dispatchEvent(new CustomEvent("ogc-client.request",{detail:request})):workerInstance2.postMessage(request);const handler=response=>{response.requestId===requestId&&(null===workerInstance2?fallbackEventTarget.removeEventListener("ogc-client.response",windowHandler):workerInstance2.removeEventListener("message",workerHandler),"error"in response?reject(function decodeError(error){if("ServiceExceptionError"===error.name){const e2=new ServiceExceptionError(error.message,error.requestUrl,error.code,error.locator,error.response);return e2.stack=error.stack,e2}if("EndpointError"===error.name){const e2=new EndpointError(error.message,error.httpStatus,error.isCrossOriginRelated);return e2.stack=error.stack,e2}const e=new Error(error.message);return e.stack=error.stack,e}(response.error)):resolve(response.response))},windowHandler=event=>handler(event.detail),workerHandler=event=>handler(event.data);null===workerInstance2?fallbackEventTarget.addEventListener("ogc-client.response",windowHandler):workerInstance2.addEventListener("message",workerHandler)})}function addTaskHandler(taskName,scope,handler){const useWorker="undefined"!=typeof WorkerGlobalScope,eventHandler=function(){var _ref=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(request){if(request.taskName===taskName){let response,error;try{response=yield handler(request.params)}catch(e){error=function encodeError(error){const base={message:error.message,stack:error.stack,name:error.name};return error instanceof ServiceExceptionError?{...base,code:error.code,locator:error.locator,response:error.response,requestUrl:error.requestUrl}:error instanceof EndpointError?{...base,httpStatus:error.httpStatus,isCrossOriginRelated:error.isCrossOriginRelated}:base}(e)}const message={taskName,requestId:request.requestId,...response&&{response},...error&&{error}};useWorker?scope.postMessage(message):fallbackEventTarget.dispatchEvent(new CustomEvent("ogc-client.response",{detail:message}))}});return function eventHandler(_x){return _ref.apply(this,arguments)}}();useWorker?scope.addEventListener("message",event=>eventHandler(event.data)):fallbackEventTarget.addEventListener("ogc-client.request",event=>eventHandler(event.detail))}const ENCODINGS=["utf-8","utf-16","iso-8859-1"];const fetchPromises=new Map;let fetchOptions={},fetchOptionsUpdateCallback=null;function getFetchOptions(){return fetchOptions}function sharedFetch(url,method="GET",asJson,customAcceptHeader){let fetchKey=`${method}#${url}`;if((asJson||customAcceptHeader)&&(fetchKey=`${method}#asJson#${url}`),fetchPromises.has(fetchKey))return fetchPromises.get(fetchKey);const options={...getFetchOptions()};options.method=method,customAcceptHeader?(options.headers="headers"in options?options.headers:{},options.headers.Accept=customAcceptHeader):asJson&&(options.headers="headers"in options?options.headers:{},options.headers.Accept="application/json,application/schema+json");const promise=fetch(url,options).catch(e=>e).then(resp=>(fetchPromises.delete(fetchKey),resp));return fetchPromises.set(fetchKey,promise),promise.then(resp=>{if(resp instanceof Error)throw resp;return resp.clone()})}function queryXmlDocument(url){return sharedFetch(url).catch(()=>fetch(url,{...getFetchOptions(),method:"HEAD",mode:"no-cors"}).catch(error=>{throw new EndpointError(`Fetching the document failed either due to network errors or unreachable host, error is: ${error.message}`,0,!1)}).then(()=>{throw new EndpointError("The document could not be fetched due to CORS limitations",0,!0)})).then(function(){var _ref2=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(resp){if(!resp.ok){const text=yield resp.text();throw new EndpointError(`Received an error with code ${resp.status}: ${text}`,resp.status,!1)}return function decodeString(buffer,contentType){const encodingHint=contentType?function extractEncoding(contentType){const matches=/charset=([^;]+)/.exec(contentType);return matches?matches[1]:null}(contentType):null,encodingAttempts=encodingHint?[encodingHint,...ENCODINGS]:ENCODINGS;for(const encoding of encodingAttempts)try{return new TextDecoder(encoding,{fatal:!0}).decode(buffer)}catch(e){}return console.warn("[ogc-client] XML document encoding could not be determined, falling back to utf-8."),new TextDecoder("utf-8").decode(buffer)}(yield resp.arrayBuffer(),resp.headers.get("Content-Type"))});return function(_x2){return _ref2.apply(this,arguments)}}()).then(xml=>parseXmlString(xml))}function setQueryParams(url,params){const encodedUrlMatch=url.match(/(https?%3A%2F%2F[^/]+)$/);if(encodedUrlMatch){const encodedUrl=encodedUrlMatch[1],modifiedUrl=setQueryParams(decodeURIComponent(encodedUrl),params);return url.replace(encodedUrl,encodeURIComponent(modifiedUrl))}const urlObj=new URL(url),keys=Object.keys(params),keysLower=keys.map(key=>key.toLowerCase()),toDelete=[];for(const param of urlObj.searchParams.keys())keysLower.indexOf(param.toLowerCase())>-1&&toDelete.push(param);return toDelete.map(param=>urlObj.searchParams.delete(param)),keys.forEach(key=>urlObj.searchParams.set(key,!0===params[key]?"":params[key])),urlObj.search=urlObj.search.replace(/\+/g,"%20"),urlObj.toString()}const encodedJs="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICAvKiEgQHJncm92ZS9wYXJzZS14bWwgdjQuMS4wIHwgSVNDIExpY2Vuc2UgfCBDb3B5cmlnaHQgUnlhbiBHcm92ZSAqLwogIHZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7CiAgdmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOwogIHZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzOwogIHZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5OwogIHZhciBfX2V4cG9ydCA9ICh0YXJnZXQsIGFsbCkgPT4gewogICAgZm9yICh2YXIgbmFtZSBpbiBhbGwpCiAgICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7CiAgfTsKICB2YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20sIGV4Y2VwdCwgZGVzYykgPT4gewogICAgaWYgKGZyb20gJiYgdHlwZW9mIGZyb20gPT09ICJvYmplY3QiIHx8IHR5cGVvZiBmcm9tID09PSAiZnVuY3Rpb24iKSB7CiAgICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhmcm9tKSkKICAgICAgICBpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KQogICAgICAgICAgX19kZWZQcm9wKHRvLCBrZXksIHsgZ2V0OiAoKSA9PiBmcm9tW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlIH0pOwogICAgfQogICAgcmV0dXJuIHRvOwogIH07CiAgdmFyIF9fdG9Db21tb25KUyA9IChtb2QpID0+IF9fY29weVByb3BzKF9fZGVmUHJvcCh7fSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pLCBtb2QpOwogIHZhciBzcmNfZXhwb3J0cyA9IHt9OwogIF9fZXhwb3J0KHNyY19leHBvcnRzLCB7CiAgICBYbWxDZGF0YTogKCkgPT4gWG1sQ2RhdGEsCiAgICBYbWxDb21tZW50OiAoKSA9PiBYbWxDb21tZW50LAogICAgWG1sRGVjbGFyYXRpb246ICgpID0+IFhtbERlY2xhcmF0aW9uLAogICAgWG1sRG9jdW1lbnQ6ICgpID0+IFhtbERvY3VtZW50LAogICAgWG1sRG9jdW1lbnRUeXBlOiAoKSA9PiBYbWxEb2N1bWVudFR5cGUsCiAgICBYbWxFbGVtZW50OiAoKSA9PiBYbWxFbGVtZW50LAogICAgWG1sRXJyb3I6ICgpID0+IFhtbEVycm9yLAogICAgWG1sTm9kZTogKCkgPT4gWG1sTm9kZSwKICAgIFhtbFByb2Nlc3NpbmdJbnN0cnVjdGlvbjogKCkgPT4gWG1sUHJvY2Vzc2luZ0luc3RydWN0aW9uLAogICAgWG1sVGV4dDogKCkgPT4gWG1sVGV4dCwKICAgIHBhcnNlWG1sOiAoKSA9PiBwYXJzZVhtbAogIH0pOwogIHZhciBicm93c2VyID0gX190b0NvbW1vbkpTKHNyY19leHBvcnRzKTsKICB2YXIgZW1wdHlTdHJpbmcgPSAiIjsKICB2YXIgc3Vycm9nYXRlUGFpciA9IC9bXHVEODAwLVx1REJGRl1bXHVEQzAwLVx1REZGRl0vZzsKICB2YXIgU3RyaW5nU2Nhbm5lciA9IGNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKHN0cmluZykgewogICAgICB0aGlzLmsgPSB0aGlzLnEoc3RyaW5nLCB0cnVlKTsKICAgICAgdGhpcy5kID0gMDsKICAgICAgdGhpcy5sZW5ndGggPSBzdHJpbmcubGVuZ3RoOwogICAgICB0aGlzLm4gPSB0aGlzLmsgIT09IHRoaXMubGVuZ3RoOwogICAgICB0aGlzLm0gPSBzdHJpbmc7CiAgICAgIGlmICh0aGlzLm4pIHsKICAgICAgICBsZXQgY2hhcnNUb0J5dGVzID0gW107CiAgICAgICAgZm9yIChsZXQgYnl0ZUluZGV4ID0gMCwgY2hhckluZGV4ID0gMDsgY2hhckluZGV4IDwgdGhpcy5rOyArK2NoYXJJbmRleCkgewogICAgICAgICAgY2hhcnNUb0J5dGVzW2NoYXJJbmRleF0gPSBieXRlSW5kZXg7CiAgICAgICAgICBieXRlSW5kZXggKz0gc3RyaW5nLmNvZGVQb2ludEF0KGJ5dGVJbmRleCkgPiA2NTUzNSA/IDIgOiAxOwogICAgICAgIH0KICAgICAgICB0aGlzLnkgPSBjaGFyc1RvQnl0ZXM7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogV2hldGhlciB0aGUgY3VycmVudCBjaGFyYWN0ZXIgaW5kZXggaXMgYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgc3RyaW5nLgogICAgICovCiAgICBnZXQgeigpIHsKICAgICAgcmV0dXJuIHRoaXMuZCA+PSB0aGlzLms7CiAgICB9CiAgICAvLyAtLSBQcm90ZWN0ZWQgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgaW4gdGhlIGdpdmVuIHN0cmluZywgd2hpY2ggbWF5IGRpZmZlciBmcm9tCiAgICAgKiB0aGUgYnl0ZSBsZW5ndGggaWYgdGhlIHN0cmluZyBjb250YWlucyBtdWx0aWJ5dGUgY2hhcmFjdGVycy4KICAgICAqLwogICAgcShzdHJpbmcsIG11bHRpQnl0ZVNhZmUgPSB0aGlzLm4pIHsKICAgICAgcmV0dXJuIG11bHRpQnl0ZVNhZmUgPyBzdHJpbmcucmVwbGFjZShzdXJyb2dhdGVQYWlyLCAiXyIpLmxlbmd0aCA6IHN0cmluZy5sZW5ndGg7CiAgICB9CiAgICAvLyAtLSBQdWJsaWMgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8qKgogICAgICogQWR2YW5jZXMgdGhlIHNjYW5uZXIgYnkgdGhlIGdpdmVuIG51bWJlciBvZiBjaGFyYWN0ZXJzLCBzdG9wcGluZyBpZiB0aGUgZW5kCiAgICAgKiBvZiB0aGUgc3RyaW5nIGlzIHJlYWNoZWQuCiAgICAgKi8KICAgIGcoY291bnQgPSAxKSB7CiAgICAgIHRoaXMuZCA9IE1hdGgubWluKHRoaXMuaywgdGhpcy5kICsgY291bnQpOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBieXRlIGluZGV4IG9mIHRoZSBnaXZlbiBjaGFyYWN0ZXIgaW5kZXggaW4gdGhlIHN0cmluZy4gVGhlIHR3bwogICAgICogbWF5IGRpZmZlciBpbiBzdHJpbmdzIHRoYXQgY29udGFpbiBtdWx0aWJ5dGUgY2hhcmFjdGVycy4KICAgICAqLwogICAgaShjaGFySW5kZXggPSB0aGlzLmQpIHsKICAgICAgdmFyIF9hOwogICAgICByZXR1cm4gdGhpcy5uID8gKF9hID0gdGhpcy55W2NoYXJJbmRleF0pICE9IG51bGwgPyBfYSA6IEluZmluaXR5IDogY2hhckluZGV4OwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhbmQgcmV0dXJucyB0aGUgZ2l2ZW4gbnVtYmVyIG9mIGNoYXJhY3RlcnMgaWYgcG9zc2libGUsIGFkdmFuY2luZwogICAgICogdGhlIHNjYW5uZXIgYW5kIHN0b3BwaW5nIGlmIHRoZSBlbmQgb2YgdGhlIHN0cmluZyBpcyByZWFjaGVkLgogICAgICoKICAgICAqIElmIG5vIGNoYXJhY3RlcnMgY291bGQgYmUgY29uc3VtZWQsIGFuIGVtcHR5IHN0cmluZyB3aWxsIGJlIHJldHVybmVkLgogICAgICovCiAgICBGKGNvdW50ID0gMSkgewogICAgICBsZXQgY2hhcnMgPSB0aGlzLmgoY291bnQpOwogICAgICB0aGlzLmcoY291bnQpOwogICAgICByZXR1cm4gY2hhcnM7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgbWF0Y2ggZm9yIHRoZSBnaXZlbiBzdGlja3kgcmVnZXgsIGFkdmFuY2VzIHRoZSBzY2FubmVyLCB1cGRhdGVzCiAgICAgKiB0aGUgYGxhc3RJbmRleGAgcHJvcGVydHkgb2YgdGhlIHJlZ2V4LCBhbmQgcmV0dXJucyB0aGUgbWF0Y2hpbmcgc3RyaW5nLgogICAgICoKICAgICAqIFRoZSByZWdleCBtdXN0IGhhdmUgYSBzdGlja3kgZmxhZyAoInkiKSBzbyB0aGF0IGl0cyBgbGFzdEluZGV4YCBwcm9wIGNhbiBiZQogICAgICogdXNlZCB0byBhbmNob3IgdGhlIG1hdGNoIGF0IHRoZSBjdXJyZW50IHNjYW5uZXIgcG9zaXRpb24uCiAgICAgKgogICAgICogUmV0dXJucyB0aGUgY29uc3VtZWQgc3RyaW5nLCBvciBhbiBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgY29uc3VtZWQuCiAgICAgKi8KICAgIEcocmVnZXgpIHsKICAgICAgaWYgKCFyZWdleC5zdGlja3kpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ByZWdleGAgbXVzdCBoYXZlIGEgc3RpY2t5IGZsYWcgKCJ5IiknKTsKICAgICAgfQogICAgICByZWdleC5sYXN0SW5kZXggPSB0aGlzLmkoKTsKICAgICAgbGV0IHJlc3VsdCA9IHJlZ2V4LmV4ZWModGhpcy5tKTsKICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIGVtcHR5U3RyaW5nOwogICAgICB9CiAgICAgIGxldCBtYXRjaCA9IHJlc3VsdFswXTsKICAgICAgdGhpcy5nKHRoaXMucShtYXRjaCkpOwogICAgICByZXR1cm4gbWF0Y2g7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGFuZCByZXR1cm5zIGFsbCBjaGFyYWN0ZXJzIGZvciB3aGljaCB0aGUgZ2l2ZW4gZnVuY3Rpb24gcmV0dXJucyBhCiAgICAgKiB0cnV0aHkgdmFsdWUsIHN0b3BwaW5nIG9uIHRoZSBmaXJzdCBmYWxzeSByZXR1cm4gdmFsdWUgb3IgaWYgdGhlIGVuZCBvZiB0aGUKICAgICAqIGlucHV0IGlzIHJlYWNoZWQuCiAgICAgKi8KICAgIHYoZm4pIHsKICAgICAgbGV0IGNoYXI7CiAgICAgIGxldCBtYXRjaCA9IGVtcHR5U3RyaW5nOwogICAgICB3aGlsZSAoKGNoYXIgPSB0aGlzLmgoKSkgJiYgZm4oY2hhcikpIHsKICAgICAgICBtYXRjaCArPSBjaGFyOwogICAgICAgIHRoaXMuZygpOwogICAgICB9CiAgICAgIHJldHVybiBtYXRjaDsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgdGhlIGdpdmVuIHN0cmluZyBpZiBpdCBleGlzdHMgYXQgdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGluZGV4LCBhbmQKICAgICAqIGFkdmFuY2VzIHRoZSBzY2FubmVyLgogICAgICoKICAgICAqIElmIHRoZSBnaXZlbiBzdHJpbmcgZG9lc24ndCBleGlzdCBhdCB0aGUgY3VycmVudCBjaGFyYWN0ZXIgaW5kZXgsIGFuIGVtcHR5CiAgICAgKiBzdHJpbmcgd2lsbCBiZSByZXR1cm5lZCBhbmQgdGhlIHNjYW5uZXIgd2lsbCBub3QgYmUgYWR2YW5jZWQuCiAgICAgKi8KICAgIFEoc3RyaW5nVG9Db25zdW1lKSB7CiAgICAgIGlmICh0aGlzLmIoc3RyaW5nVG9Db25zdW1lKSkgewogICAgICAgIHJldHVybiBzdHJpbmdUb0NvbnN1bWU7CiAgICAgIH0KICAgICAgaWYgKHRoaXMubikgewogICAgICAgIGxldCB7IGxlbmd0aCB9ID0gc3RyaW5nVG9Db25zdW1lOwogICAgICAgIGxldCBjaGFyTGVuZ3RoVG9NYXRjaCA9IHRoaXMucShzdHJpbmdUb0NvbnN1bWUpOwogICAgICAgIGlmIChjaGFyTGVuZ3RoVG9NYXRjaCAhPT0gbGVuZ3RoICYmIHN0cmluZ1RvQ29uc3VtZSA9PT0gdGhpcy5oKGNoYXJMZW5ndGhUb01hdGNoKSkgewogICAgICAgICAgdGhpcy5nKGNoYXJMZW5ndGhUb01hdGNoKTsKICAgICAgICAgIHJldHVybiBzdHJpbmdUb0NvbnN1bWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBlbXB0eVN0cmluZzsKICAgIH0KICAgIC8qKgogICAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBgY29uc3VtZVN0cmluZygpYCwgYnV0IGRvZXNuJ3Qgc3VwcG9ydCBjb25zdW1pbmcKICAgICAqIG11bHRpYnl0ZSBjaGFyYWN0ZXJzLiBUaGlzIGNhbiBiZSBmYXN0ZXIgaWYgeW91IG9ubHkgbmVlZCB0byBtYXRjaCBzaW5nbGUKICAgICAqIGJ5dGUgY2hhcmFjdGVycy4KICAgICAqLwogICAgYihzdHJpbmdUb0NvbnN1bWUpIHsKICAgICAgbGV0IHsgbGVuZ3RoIH0gPSBzdHJpbmdUb0NvbnN1bWU7CiAgICAgIGlmICh0aGlzLmgobGVuZ3RoKSA9PT0gc3RyaW5nVG9Db25zdW1lKSB7CiAgICAgICAgdGhpcy5nKGxlbmd0aCk7CiAgICAgICAgcmV0dXJuIHN0cmluZ1RvQ29uc3VtZTsKICAgICAgfQogICAgICByZXR1cm4gZW1wdHlTdHJpbmc7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGNoYXJhY3RlcnMgdW50aWwgdGhlIGdpdmVuIGdsb2JhbCByZWdleCBpcyBtYXRjaGVkLCBhZHZhbmNpbmcgdGhlCiAgICAgKiBzY2FubmVyIHVwIHRvIChidXQgbm90IGJleW9uZCkgdGhlIGJlZ2lubmluZyBvZiB0aGUgbWF0Y2guIElmIHRoZSByZWdleAogICAgICogZG9lc24ndCBtYXRjaCwgbm90aGluZyB3aWxsIGJlIGNvbnN1bWVkLgogICAgICoKICAgICAqIFJldHVybnMgdGhlIGNvbnN1bWVkIHN0cmluZywgb3IgYW4gZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIGNvbnN1bWVkLgogICAgICovCiAgICBBKHJlZ2V4KSB7CiAgICAgIGxldCByZXN0T2ZTdHJpbmcgPSB0aGlzLm0uc2xpY2UodGhpcy5pKCkpOwogICAgICBsZXQgbWF0Y2hCeXRlSW5kZXggPSByZXN0T2ZTdHJpbmcuc2VhcmNoKHJlZ2V4KTsKICAgICAgaWYgKG1hdGNoQnl0ZUluZGV4IDw9IDApIHsKICAgICAgICByZXR1cm4gZW1wdHlTdHJpbmc7CiAgICAgIH0KICAgICAgbGV0IHJlc3VsdCA9IHJlc3RPZlN0cmluZy5zbGljZSgwLCBtYXRjaEJ5dGVJbmRleCk7CiAgICAgIHRoaXMuZyh0aGlzLnEocmVzdWx0KSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGNoYXJhY3RlcnMgdW50aWwgdGhlIGdpdmVuIHN0cmluZyBpcyBmb3VuZCwgYWR2YW5jaW5nIHRoZSBzY2FubmVyCiAgICAgKiB1cCB0byAoYnV0IG5vdCBiZXlvbmQpIHRoYXQgcG9pbnQuIElmIHRoZSBzdHJpbmcgaXMgbmV2ZXIgZm91bmQsIG5vdGhpbmcKICAgICAqIHdpbGwgYmUgY29uc3VtZWQuCiAgICAgKgogICAgICogUmV0dXJucyB0aGUgY29uc3VtZWQgc3RyaW5nLCBvciBhbiBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgY29uc3VtZWQuCiAgICAgKi8KICAgIHQoc2VhcmNoU3RyaW5nKSB7CiAgICAgIGxldCB7IG06IHN0cmluZyB9ID0gdGhpczsKICAgICAgbGV0IGJ5dGVJbmRleCA9IHRoaXMuaSgpOwogICAgICBsZXQgbWF0Y2hCeXRlSW5kZXggPSBzdHJpbmcuaW5kZXhPZihzZWFyY2hTdHJpbmcsIGJ5dGVJbmRleCk7CiAgICAgIGlmIChtYXRjaEJ5dGVJbmRleCA8PSAwKSB7CiAgICAgICAgcmV0dXJuIGVtcHR5U3RyaW5nOwogICAgICB9CiAgICAgIGxldCByZXN1bHQgPSBzdHJpbmcuc2xpY2UoYnl0ZUluZGV4LCBtYXRjaEJ5dGVJbmRleCk7CiAgICAgIHRoaXMuZyh0aGlzLnEocmVzdWx0KSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGdpdmVuIG51bWJlciBvZiBjaGFyYWN0ZXJzIHN0YXJ0aW5nIGF0IHRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICogaW5kZXgsIHdpdGhvdXQgYWR2YW5jaW5nIHRoZSBzY2FubmVyIGFuZCB3aXRob3V0IGV4Y2VlZGluZyB0aGUgZW5kIG9mIHRoZQogICAgICogaW5wdXQgc3RyaW5nLgogICAgICovCiAgICBoKGNvdW50ID0gMSkgewogICAgICBsZXQgeyBkOiBjaGFySW5kZXgsIG46IG11bHRpQnl0ZU1vZGUsIG06IHN0cmluZyB9ID0gdGhpczsKICAgICAgaWYgKG11bHRpQnl0ZU1vZGUpIHsKICAgICAgICBpZiAoY2hhckluZGV4ID49IHRoaXMuaykgewogICAgICAgICAgcmV0dXJuIGVtcHR5U3RyaW5nOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKAogICAgICAgICAgdGhpcy5pKGNoYXJJbmRleCksCiAgICAgICAgICB0aGlzLmkoY2hhckluZGV4ICsgY291bnQpCiAgICAgICAgKTsKICAgICAgfQogICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKGNoYXJJbmRleCwgY2hhckluZGV4ICsgY291bnQpOwogICAgfQogICAgLyoqCiAgICAgKiBSZXNldHMgdGhlIHNjYW5uZXIgcG9zaXRpb24gdG8gdGhlIGdpdmVuIGNoYXJhY3RlciBfaW5kZXhfLCBvciB0byB0aGUgc3RhcnQKICAgICAqIG9mIHRoZSBpbnB1dCBzdHJpbmcgaWYgbm8gaW5kZXggaXMgZ2l2ZW4uCiAgICAgKgogICAgICogSWYgX2luZGV4XyBpcyBuZWdhdGl2ZSwgdGhlIHNjYW5uZXIgcG9zaXRpb24gd2lsbCBiZSBtb3ZlZCBiYWNrd2FyZCBieSB0aGF0CiAgICAgKiBtYW55IGNoYXJhY3RlcnMsIHN0b3BwaW5nIGlmIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHN0cmluZyBpcyByZWFjaGVkLgogICAgICovCiAgICBvKGluZGV4ID0gMCkgewogICAgICB0aGlzLmQgPSBpbmRleCA+PSAwID8gTWF0aC5taW4odGhpcy5rLCBpbmRleCkgOiBNYXRoLm1heCgwLCB0aGlzLmQgKyBpbmRleCk7CiAgICB9CiAgfTsKICB2YXIgYXR0VmFsdWVDaGFyRG91YmxlUXVvdGUgPSAvW14iJjxdKy95OwogIHZhciBhdHRWYWx1ZUNoYXJTaW5nbGVRdW90ZSA9IC9bXicmPF0rL3k7CiAgdmFyIGF0dFZhbHVlTm9ybWFsaXplZFdoaXRlc3BhY2UgPSAvXHJcbnxbXG5cclx0XS9nOwogIHZhciBlbmRDaGFyRGF0YSA9IC88fCZ8XV0+LzsKICB2YXIgcHJlZGVmaW5lZEVudGl0aWVzID0gT2JqZWN0LmZyZWV6ZShPYmplY3QuYXNzaWduKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCB7CiAgICBhbXA6ICImIiwKICAgIGFwb3M6ICInIiwKICAgIGd0OiAiPiIsCiAgICBsdDogIjwiLAogICAgcXVvdDogJyInCiAgfSkpOwogIGZ1bmN0aW9uIGlzTmFtZUNoYXIoY2hhcikgewogICAgbGV0IGNwID0gZ2V0Q29kZVBvaW50KGNoYXIpOwogICAgcmV0dXJuIGNwID49IDk3ICYmIGNwIDw9IDEyMiB8fCBjcCA+PSA2NSAmJiBjcCA8PSA5MCB8fCBjcCA+PSA0OCAmJiBjcCA8PSA1NyB8fCBjcCA9PT0gNDUgfHwgY3AgPT09IDQ2IHx8IGNwID09PSAxODMgfHwgY3AgPj0gNzY4ICYmIGNwIDw9IDg3OSB8fCBjcCA+PSA4MjU1ICYmIGNwIDw9IDgyNTYgfHwgaXNOYW1lU3RhcnRDaGFyKGNoYXIsIGNwKTsKICB9CiAgZnVuY3Rpb24gaXNOYW1lU3RhcnRDaGFyKGNoYXIsIGNwID0gZ2V0Q29kZVBvaW50KGNoYXIpKSB7CiAgICByZXR1cm4gY3AgPj0gOTcgJiYgY3AgPD0gMTIyIHx8IGNwID49IDY1ICYmIGNwIDw9IDkwIHx8IGNwID09PSA1OCB8fCBjcCA9PT0gOTUgfHwgY3AgPj0gMTkyICYmIGNwIDw9IDIxNCB8fCBjcCA+PSAyMTYgJiYgY3AgPD0gMjQ2IHx8IGNwID49IDI0OCAmJiBjcCA8PSA3NjcgfHwgY3AgPj0gODgwICYmIGNwIDw9IDg5MyB8fCBjcCA+PSA4OTUgJiYgY3AgPD0gODE5MSB8fCBjcCA+PSA4MjA0ICYmIGNwIDw9IDgyMDUgfHwgY3AgPj0gODMwNCAmJiBjcCA8PSA4NTkxIHx8IGNwID49IDExMjY0ICYmIGNwIDw9IDEyMjcxIHx8IGNwID49IDEyMjg5ICYmIGNwIDw9IDU1Mjk1IHx8IGNwID49IDYzNzQ0ICYmIGNwIDw9IDY0OTc1IHx8IGNwID49IDY1MDA4ICYmIGNwIDw9IDY1NTMzIHx8IGNwID49IDY1NTM2ICYmIGNwIDw9IDk4MzAzOTsKICB9CiAgZnVuY3Rpb24gaXNSZWZlcmVuY2VDaGFyKGNoYXIpIHsKICAgIHJldHVybiBjaGFyID09PSAiIyIgfHwgaXNOYW1lQ2hhcihjaGFyKTsKICB9CiAgZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKGNoYXIpIHsKICAgIGxldCBjcCA9IGdldENvZGVQb2ludChjaGFyKTsKICAgIHJldHVybiBjcCA9PT0gMzIgfHwgY3AgPT09IDkgfHwgY3AgPT09IDEwIHx8IGNwID09PSAxMzsKICB9CiAgZnVuY3Rpb24gaXNYbWxDb2RlUG9pbnQoY3ApIHsKICAgIHJldHVybiBjcCA9PT0gOSB8fCBjcCA9PT0gMTAgfHwgY3AgPT09IDEzIHx8IGNwID49IDMyICYmIGNwIDw9IDU1Mjk1IHx8IGNwID49IDU3MzQ0ICYmIGNwIDw9IDY1NTMzIHx8IGNwID49IDY1NTM2ICYmIGNwIDw9IDExMTQxMTE7CiAgfQogIGZ1bmN0aW9uIGdldENvZGVQb2ludChjaGFyKSB7CiAgICByZXR1cm4gY2hhci5jb2RlUG9pbnRBdCgwKSB8fCAtMTsKICB9CiAgdmFyIF9YbWxOb2RlID0gY2xhc3MgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHRoaXMucGFyZW50ID0gbnVsbDsKICAgICAgdGhpcy5zdGFydCA9IC0xOwogICAgICB0aGlzLmVuZCA9IC0xOwogICAgfQogICAgLyoqCiAgICAgKiBEb2N1bWVudCB0aGF0IGNvbnRhaW5zIHRoaXMgbm9kZSwgb3IgYG51bGxgIGlmIHRoaXMgbm9kZSBpcyBub3QgYXNzb2NpYXRlZAogICAgICogd2l0aCBhIGRvY3VtZW50LgogICAgICovCiAgICBnZXQgZG9jdW1lbnQoKSB7CiAgICAgIHZhciBfYSwgX2I7CiAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLnBhcmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRvY3VtZW50KSAhPSBudWxsID8gX2IgOiBudWxsOwogICAgfQogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRoaXMgbm9kZSBpcyB0aGUgcm9vdCBub2RlIG9mIHRoZSBkb2N1bWVudCAoYWxzbyBrbm93biBhcyB0aGUKICAgICAqIGRvY3VtZW50IGVsZW1lbnQpLgogICAgICovCiAgICBnZXQgaXNSb290Tm9kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMucGFyZW50ICE9PSBudWxsICYmIHRoaXMucGFyZW50ID09PSB0aGlzLmRvY3VtZW50ICYmIHRoaXMudHlwZSA9PT0gX1htbE5vZGUuVFlQRV9FTEVNRU5UOwogICAgfQogICAgLyoqCiAgICAgKiBXaGV0aGVyIHdoaXRlc3BhY2Ugc2hvdWxkIGJlIHByZXNlcnZlZCBpbiB0aGUgY29udGVudCBvZiB0aGlzIGVsZW1lbnQgYW5kCiAgICAgKiBpdHMgY2hpbGRyZW4uCiAgICAgKgogICAgICogVGhpcyBpcyBpbmZsdWVuY2VkIGJ5IHRoZSB2YWx1ZSBvZiB0aGUgc3BlY2lhbCBgeG1sOnNwYWNlYCBhdHRyaWJ1dGUsIGFuZAogICAgICogd2lsbCBiZSBgdHJ1ZWAgZm9yIGFueSBub2RlIHdob3NlIGB4bWw6c3BhY2VgIGF0dHJpYnV0ZSBpcyBzZXQgdG8KICAgICAqICJwcmVzZXJ2ZSIuIElmIGEgbm9kZSBoYXMgbm8gc3VjaCBhdHRyaWJ1dGUsIGl0IHdpbGwgaW5oZXJpdCB0aGUgdmFsdWUgb2YKICAgICAqIHRoZSBuZWFyZXN0IGFuY2VzdG9yIHRoYXQgZG9lcyAoaWYgYW55KS4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy13aGl0ZS1zcGFjZQogICAgICovCiAgICBnZXQgcHJlc2VydmVXaGl0ZXNwYWNlKCkgewogICAgICB2YXIgX2E7CiAgICAgIHJldHVybiAhISgoX2EgPSB0aGlzLnBhcmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnByZXNlcnZlV2hpdGVzcGFjZSk7CiAgICB9CiAgICAvKioKICAgICAqIFR5cGUgb2YgdGhpcyBub2RlLgogICAgICoKICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IGlzIGEgc3RyaW5nIHRoYXQgbWF0Y2hlcyBvbmUgb2YgdGhlIHN0YXRpYwogICAgICogYFRZUEVfKmAgcHJvcGVydGllcyBvbiB0aGUgYFhtbE5vZGVgIGNsYXNzIChlLmcuIGBUWVBFX0VMRU1FTlRgLAogICAgICogYFRZUEVfVEVYVGAsIGV0Yy4pLgogICAgICoKICAgICAqIFRoZSBgWG1sTm9kZWAgY2xhc3MgaXRzZWxmIGlzIGEgYmFzZSBjbGFzcyBhbmQgZG9lc24ndCBoYXZlIGl0cyBvd24gdHlwZQogICAgICogbmFtZS4KICAgICAqLwogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiAiIjsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhIEpTT04tc2VyaWFsaXphYmxlIG9iamVjdCByZXByZXNlbnRpbmcgdGhpcyBub2RlLCBtaW51cyBwcm9wZXJ0aWVzCiAgICAgKiB0aGF0IGNvdWxkIHJlc3VsdCBpbiBjaXJjdWxhciByZWZlcmVuY2VzLgogICAgICovCiAgICB0b0pTT04oKSB7CiAgICAgIGxldCBqc29uID0gewogICAgICAgIHR5cGU6IHRoaXMudHlwZQogICAgICB9OwogICAgICBpZiAodGhpcy5pc1Jvb3ROb2RlKSB7CiAgICAgICAganNvbi5pc1Jvb3ROb2RlID0gdHJ1ZTsKICAgICAgfQogICAgICBpZiAodGhpcy5wcmVzZXJ2ZVdoaXRlc3BhY2UpIHsKICAgICAgICBqc29uLnByZXNlcnZlV2hpdGVzcGFjZSA9IHRydWU7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuc3RhcnQgIT09IC0xKSB7CiAgICAgICAganNvbi5zdGFydCA9IHRoaXMuc3RhcnQ7CiAgICAgICAganNvbi5lbmQgPSB0aGlzLmVuZDsKICAgICAgfQogICAgICByZXR1cm4ganNvbjsKICAgIH0KICB9OwogIHZhciBYbWxOb2RlID0gX1htbE5vZGU7CiAgWG1sTm9kZS5UWVBFX0NEQVRBID0gImNkYXRhIjsKICBYbWxOb2RlLlRZUEVfQ09NTUVOVCA9ICJjb21tZW50IjsKICBYbWxOb2RlLlRZUEVfRE9DVU1FTlQgPSAiZG9jdW1lbnQiOwogIFhtbE5vZGUuVFlQRV9ET0NVTUVOVF9UWVBFID0gImRvY3R5cGUiOwogIFhtbE5vZGUuVFlQRV9FTEVNRU5UID0gImVsZW1lbnQiOwogIFhtbE5vZGUuVFlQRV9QUk9DRVNTSU5HX0lOU1RSVUNUSU9OID0gInBpIjsKICBYbWxOb2RlLlRZUEVfVEVYVCA9ICJ0ZXh0IjsKICBYbWxOb2RlLlRZUEVfWE1MX0RFQ0xBUkFUSU9OID0gInhtbGRlY2wiOwogIHZhciBYbWxUZXh0ID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKHRleHQgPSAiIikgewogICAgICBzdXBlcigpOwogICAgICB0aGlzLnRleHQgPSB0ZXh0OwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfVEVYVDsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICB0ZXh0OiB0aGlzLnRleHQKICAgICAgfSk7CiAgICB9CiAgfTsKICB2YXIgWG1sQ2RhdGEgPSBjbGFzcyBleHRlbmRzIFhtbFRleHQgewogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfQ0RBVEE7CiAgICB9CiAgfTsKICB2YXIgWG1sQ29tbWVudCA9IGNsYXNzIGV4dGVuZHMgWG1sTm9kZSB7CiAgICBjb25zdHJ1Y3Rvcihjb250ZW50ID0gIiIpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDsKICAgIH0KICAgIGdldCB0eXBlKCkgewogICAgICByZXR1cm4gWG1sTm9kZS5UWVBFX0NPTU1FTlQ7CiAgICB9CiAgICB0b0pTT04oKSB7CiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFhtbE5vZGUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpLCB7CiAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50CiAgICAgIH0pOwogICAgfQogIH07CiAgdmFyIFhtbERlY2xhcmF0aW9uID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247CiAgICAgIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZyAhPSBudWxsID8gZW5jb2RpbmcgOiBudWxsOwogICAgICB0aGlzLnN0YW5kYWxvbmUgPSBzdGFuZGFsb25lICE9IG51bGwgPyBzdGFuZGFsb25lIDogbnVsbDsKICAgIH0KICAgIGdldCB0eXBlKCkgewogICAgICByZXR1cm4gWG1sTm9kZS5UWVBFX1hNTF9ERUNMQVJBVElPTjsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgbGV0IGpzb24gPSBYbWxOb2RlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTsKICAgICAganNvbi52ZXJzaW9uID0gdGhpcy52ZXJzaW9uOwogICAgICBmb3IgKGxldCBrZXkgb2YgWyJlbmNvZGluZyIsICJzdGFuZGFsb25lIl0pIHsKICAgICAgICBpZiAodGhpc1trZXldICE9PSBudWxsKSB7CiAgICAgICAgICBqc29uW2tleV0gPSB0aGlzW2tleV07CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBqc29uOwogICAgfQogIH07CiAgdmFyIFhtbEVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIFhtbE5vZGUgewogICAgY29uc3RydWN0b3IobmFtZSwgYXR0cmlidXRlcyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCBjaGlsZHJlbiA9IFtdKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgIHRoaXMuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7CiAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjsKICAgIH0KICAgIC8qKgogICAgICogV2hldGhlciB0aGlzIGVsZW1lbnQgaXMgZW1wdHkgKG1lYW5pbmcgaXQgaGFzIG5vIGNoaWxkcmVuKS4KICAgICAqLwogICAgZ2V0IGlzRW1wdHkoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMDsKICAgIH0KICAgIGdldCBwcmVzZXJ2ZVdoaXRlc3BhY2UoKSB7CiAgICAgIGxldCBub2RlID0gdGhpczsKICAgICAgd2hpbGUgKG5vZGUgaW5zdGFuY2VvZiBYbWxFbGVtZW50KSB7CiAgICAgICAgaWYgKCJ4bWw6c3BhY2UiIGluIG5vZGUuYXR0cmlidXRlcykgewogICAgICAgICAgcmV0dXJuIG5vZGUuYXR0cmlidXRlc1sieG1sOnNwYWNlIl0gPT09ICJwcmVzZXJ2ZSI7CiAgICAgICAgfQogICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIFRleHQgY29udGVudCBvZiB0aGlzIGVsZW1lbnQgYW5kIGFsbCBpdHMgZGVzY2VuZGFudHMuCiAgICAgKi8KICAgIGdldCB0ZXh0KCkgewogICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiAidGV4dCIgaW4gY2hpbGQgPyBjaGlsZC50ZXh0IDogIiIpLmpvaW4oIiIpOwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfRUxFTUVOVDsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgYXR0cmlidXRlczogdGhpcy5hdHRyaWJ1dGVzLAogICAgICAgIGNoaWxkcmVuOiB0aGlzLmNoaWxkcmVuLm1hcCgoY2hpbGQpID0+IGNoaWxkLnRvSlNPTigpKQogICAgICB9KTsKICAgIH0KICB9OwogIHZhciBYbWxEb2N1bWVudCA9IGNsYXNzIGV4dGVuZHMgWG1sTm9kZSB7CiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbiA9IFtdKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjsKICAgIH0KICAgIGdldCBkb2N1bWVudCgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIFJvb3QgZWxlbWVudCBvZiB0aGlzIGRvY3VtZW50LCBvciBgbnVsbGAgaWYgdGhpcyBkb2N1bWVudCBpcyBlbXB0eS4KICAgICAqLwogICAgZ2V0IHJvb3QoKSB7CiAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHsKICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBYbWxFbGVtZW50KSB7CiAgICAgICAgICByZXR1cm4gY2hpbGQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgLyoqCiAgICAgKiBUZXh0IGNvbnRlbnQgb2YgdGhpcyBkb2N1bWVudCBhbmQgYWxsIGl0cyBkZXNjZW5kYW50cy4KICAgICAqLwogICAgZ2V0IHRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLm1hcCgoY2hpbGQpID0+ICJ0ZXh0IiBpbiBjaGlsZCA/IGNoaWxkLnRleHQgOiAiIikuam9pbigiIik7CiAgICB9CiAgICBnZXQgdHlwZSgpIHsKICAgICAgcmV0dXJuIFhtbE5vZGUuVFlQRV9ET0NVTUVOVDsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICBjaGlsZHJlbjogdGhpcy5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiBjaGlsZC50b0pTT04oKSkKICAgICAgfSk7CiAgICB9CiAgfTsKICB2YXIgWG1sRG9jdW1lbnRUeXBlID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKG5hbWUsIHB1YmxpY0lkLCBzeXN0ZW1JZCwgaW50ZXJuYWxTdWJzZXQpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgICAgdGhpcy5wdWJsaWNJZCA9IHB1YmxpY0lkICE9IG51bGwgPyBwdWJsaWNJZCA6IG51bGw7CiAgICAgIHRoaXMuc3lzdGVtSWQgPSBzeXN0ZW1JZCAhPSBudWxsID8gc3lzdGVtSWQgOiBudWxsOwogICAgICB0aGlzLmludGVybmFsU3Vic2V0ID0gaW50ZXJuYWxTdWJzZXQgIT0gbnVsbCA/IGludGVybmFsU3Vic2V0IDogbnVsbDsKICAgIH0KICAgIGdldCB0eXBlKCkgewogICAgICByZXR1cm4gWG1sTm9kZS5UWVBFX0RPQ1VNRU5UX1RZUEU7CiAgICB9CiAgICB0b0pTT04oKSB7CiAgICAgIGxldCBqc29uID0gWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7CiAgICAgIGpzb24ubmFtZSA9IHRoaXMubmFtZTsKICAgICAgZm9yIChsZXQga2V5IG9mIFsicHVibGljSWQiLCAic3lzdGVtSWQiLCAiaW50ZXJuYWxTdWJzZXQiXSkgewogICAgICAgIGlmICh0aGlzW2tleV0gIT09IG51bGwpIHsKICAgICAgICAgIGpzb25ba2V5XSA9IHRoaXNba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGpzb247CiAgICB9CiAgfTsKICB2YXIgWG1sRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHsKICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGNoYXJJbmRleCwgeG1sKSB7CiAgICAgIGxldCBjb2x1bW4gPSAxOwogICAgICBsZXQgZXhjZXJwdCA9ICIiOwogICAgICBsZXQgbGluZSA9IDE7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhckluZGV4OyArK2kpIHsKICAgICAgICBsZXQgY2hhciA9IHhtbFtpXTsKICAgICAgICBpZiAoY2hhciA9PT0gIlxuIikgewogICAgICAgICAgY29sdW1uID0gMTsKICAgICAgICAgIGV4Y2VycHQgPSAiIjsKICAgICAgICAgIGxpbmUgKz0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29sdW1uICs9IDE7CiAgICAgICAgICBleGNlcnB0ICs9IGNoYXI7CiAgICAgICAgfQogICAgICB9CiAgICAgIGxldCBlb2wgPSB4bWwuaW5kZXhPZigiXG4iLCBjaGFySW5kZXgpOwogICAgICBleGNlcnB0ICs9IGVvbCA9PT0gLTEgPyB4bWwuc2xpY2UoY2hhckluZGV4KSA6IHhtbC5zbGljZShjaGFySW5kZXgsIGVvbCk7CiAgICAgIGxldCBleGNlcnB0U3RhcnQgPSAwOwogICAgICBpZiAoZXhjZXJwdC5sZW5ndGggPiA1MCkgewogICAgICAgIGlmIChjb2x1bW4gPCA0MCkgewogICAgICAgICAgZXhjZXJwdCA9IGV4Y2VycHQuc2xpY2UoMCwgNTApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBleGNlcnB0U3RhcnQgPSBjb2x1bW4gLSAyMDsKICAgICAgICAgIGV4Y2VycHQgPSBleGNlcnB0LnNsaWNlKGV4Y2VycHRTdGFydCwgY29sdW1uICsgMzApOwogICAgICAgIH0KICAgICAgfQogICAgICBzdXBlcigKICAgICAgICBgJHttZXNzYWdlfSAobGluZSAke2xpbmV9LCBjb2x1bW4gJHtjb2x1bW59KQogICR7ZXhjZXJwdH0KYCArICIgIi5yZXBlYXQoY29sdW1uIC0gZXhjZXJwdFN0YXJ0ICsgMSkgKyAiXlxuIgogICAgICApOwogICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjsKICAgICAgdGhpcy5leGNlcnB0ID0gZXhjZXJwdDsKICAgICAgdGhpcy5saW5lID0gbGluZTsKICAgICAgdGhpcy5uYW1lID0gIlhtbEVycm9yIjsKICAgICAgdGhpcy5wb3MgPSBjaGFySW5kZXg7CiAgICB9CiAgfTsKICB2YXIgWG1sUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNvbnRlbnQgPSAiIikgewogICAgICBzdXBlcigpOwogICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50OwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfUFJPQ0VTU0lOR19JTlNUUlVDVElPTjsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50CiAgICAgIH0pOwogICAgfQogIH07CiAgdmFyIGVtcHR5U3RyaW5nMiA9ICIiOwogIHZhciBQYXJzZXIgPSBjbGFzcyB7CiAgICAvKioKICAgICAqIEBwYXJhbSB4bWwgWE1MIHN0cmluZyB0byBwYXJzZS4KICAgICAqIEBwYXJhbSBvcHRpb25zIFBhcnNlciBvcHRpb25zLgogICAgICovCiAgICBjb25zdHJ1Y3Rvcih4bWwsIG9wdGlvbnMgPSB7fSkgewogICAgICBsZXQgZG9jID0gdGhpcy5kb2N1bWVudCA9IG5ldyBYbWxEb2N1bWVudCgpOwogICAgICBsZXQgc2Nhbm5lciA9IHRoaXMuYyA9IG5ldyBTdHJpbmdTY2FubmVyKHhtbCk7CiAgICAgIHRoaXMubCA9IGRvYzsKICAgICAgdGhpcy5mID0gb3B0aW9uczsKICAgICAgaWYgKHRoaXMuZi5pbmNsdWRlT2Zmc2V0cykgewogICAgICAgIGRvYy5zdGFydCA9IDA7CiAgICAgICAgZG9jLmVuZCA9IHhtbC5sZW5ndGg7CiAgICAgIH0KICAgICAgc2Nhbm5lci5iKCJcdUZFRkYiKTsKICAgICAgdGhpcy5IKCk7CiAgICAgIGlmICghdGhpcy5CKCkpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlJvb3QgZWxlbWVudCBpcyBtaXNzaW5nIG9yIGludmFsaWQiKTsKICAgICAgfQogICAgICB3aGlsZSAodGhpcy53KCkpIHsKICAgICAgfQogICAgICBpZiAoIXNjYW5uZXIueikgewogICAgICAgIHRocm93IHRoaXMuYSgiRXh0cmEgY29udGVudCBhdCB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudCIpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEFkZHMgdGhlIGdpdmVuIGBYbWxOb2RlYCBhcyBhIGNoaWxkIG9mIGB0aGlzLmN1cnJlbnROb2RlYC4KICAgICAqLwogICAgaihub2RlLCBjaGFySW5kZXgpIHsKICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzLmw7CiAgICAgIGlmICh0aGlzLmYuaW5jbHVkZU9mZnNldHMpIHsKICAgICAgICBub2RlLnN0YXJ0ID0gdGhpcy5jLmkoY2hhckluZGV4KTsKICAgICAgICBub2RlLmVuZCA9IHRoaXMuYy5pKCk7CiAgICAgIH0KICAgICAgdGhpcy5sLmNoaWxkcmVuLnB1c2gobm9kZSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgLyoqCiAgICAgKiBBZGRzIHRoZSBnaXZlbiBfdGV4dF8gdG8gdGhlIGRvY3VtZW50LCBlaXRoZXIgYnkgYXBwZW5kaW5nIGl0IHRvIGEKICAgICAqIHByZWNlZGluZyBgWG1sVGV4dGAgbm9kZSAoaWYgcG9zc2libGUpIG9yIGJ5IGNyZWF0aW5nIGEgbmV3IGBYbWxUZXh0YCBub2RlLgogICAgICovCiAgICB4KHRleHQsIGNoYXJJbmRleCkgewogICAgICBsZXQgeyBjaGlsZHJlbiB9ID0gdGhpcy5sOwogICAgICBsZXQgeyBsZW5ndGggfSA9IGNoaWxkcmVuOwogICAgICB0ZXh0ID0gbm9ybWFsaXplTGluZUJyZWFrcyh0ZXh0KTsKICAgICAgaWYgKGxlbmd0aCA+IDApIHsKICAgICAgICBsZXQgcHJldk5vZGUgPSBjaGlsZHJlbltsZW5ndGggLSAxXTsKICAgICAgICBpZiAoKHByZXZOb2RlID09IG51bGwgPyB2b2lkIDAgOiBwcmV2Tm9kZS50eXBlKSA9PT0gWG1sTm9kZS5UWVBFX1RFWFQpIHsKICAgICAgICAgIGxldCB0ZXh0Tm9kZSA9IHByZXZOb2RlOwogICAgICAgICAgdGV4dE5vZGUudGV4dCArPSB0ZXh0OwogICAgICAgICAgaWYgKHRoaXMuZi5pbmNsdWRlT2Zmc2V0cykgewogICAgICAgICAgICB0ZXh0Tm9kZS5lbmQgPSB0aGlzLmMuaSgpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmoobmV3IFhtbFRleHQodGV4dCksIGNoYXJJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGVsZW1lbnQgYXR0cmlidXRlcy4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy1zdGFydHRhZ3MKICAgICAqLwogICAgSSgpIHsKICAgICAgbGV0IGF0dHJpYnV0ZXMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgICAgd2hpbGUgKHRoaXMuZSgpKSB7CiAgICAgICAgbGV0IGF0dHJOYW1lID0gdGhpcy5yKCk7CiAgICAgICAgaWYgKCFhdHRyTmFtZSkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGxldCBhdHRyVmFsdWUgPSB0aGlzLnUoKSAmJiB0aGlzLkooKTsKICAgICAgICBpZiAoYXR0clZhbHVlID09PSBmYWxzZSkgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCJBdHRyaWJ1dGUgdmFsdWUgZXhwZWN0ZWQiKTsKICAgICAgICB9CiAgICAgICAgaWYgKGF0dHJOYW1lIGluIGF0dHJpYnV0ZXMpIHsKICAgICAgICAgIHRocm93IHRoaXMuYShgRHVwbGljYXRlIGF0dHJpYnV0ZTogJHthdHRyTmFtZX1gKTsKICAgICAgICB9CiAgICAgICAgaWYgKGF0dHJOYW1lID09PSAieG1sOnNwYWNlIiAmJiBhdHRyVmFsdWUgIT09ICJkZWZhdWx0IiAmJiBhdHRyVmFsdWUgIT09ICJwcmVzZXJ2ZSIpIHsKICAgICAgICAgIHRocm93IHRoaXMuYSgnVmFsdWUgb2YgdGhlIGB4bWw6c3BhY2VgIGF0dHJpYnV0ZSBtdXN0IGJlICJkZWZhdWx0IiBvciAicHJlc2VydmUiJyk7CiAgICAgICAgfQogICAgICAgIGF0dHJpYnV0ZXNbYXR0ck5hbWVdID0gYXR0clZhbHVlOwogICAgICB9CiAgICAgIGlmICh0aGlzLmYuc29ydEF0dHJpYnV0ZXMpIHsKICAgICAgICBsZXQgYXR0ck5hbWVzID0gT2JqZWN0LmtleXMoYXR0cmlidXRlcykuc29ydCgpOwogICAgICAgIGxldCBzb3J0ZWRBdHRyaWJ1dGVzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyTmFtZXMubGVuZ3RoOyArK2kpIHsKICAgICAgICAgIGxldCBhdHRyTmFtZSA9IGF0dHJOYW1lc1tpXTsKICAgICAgICAgIHNvcnRlZEF0dHJpYnV0ZXNbYXR0ck5hbWVdID0gYXR0cmlidXRlc1thdHRyTmFtZV07CiAgICAgICAgfQogICAgICAgIGF0dHJpYnV0ZXMgPSBzb3J0ZWRBdHRyaWJ1dGVzOwogICAgICB9CiAgICAgIHJldHVybiBhdHRyaWJ1dGVzOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhbiBgQXR0VmFsdWVgIChhdHRyaWJ1dGUgdmFsdWUpIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zCiAgICAgKiAgIENvbnRlbnRzIG9mIHRoZSBgQXR0VmFsdWVgIG1pbnVzIHF1b3Rlcywgb3IgYGZhbHNlYCBpZiBub3RoaW5nIHdhcwogICAgICogICBjb25zdW1lZC4gQW4gZW1wdHkgc3RyaW5nIGluZGljYXRlcyB0aGF0IGFuIGBBdHRWYWx1ZWAgd2FzIGNvbnN1bWVkIGJ1dAogICAgICogICB3YXMgZW1wdHkuCiAgICAgKgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1BdHRWYWx1ZQogICAgICovCiAgICBKKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgcXVvdGUgPSBzY2FubmVyLmgoKTsKICAgICAgaWYgKHF1b3RlICE9PSAnIicgJiYgcXVvdGUgIT09ICInIikgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBzY2FubmVyLmcoKTsKICAgICAgbGV0IGNoYXJzOwogICAgICBsZXQgaXNDbG9zZWQgPSBmYWxzZTsKICAgICAgbGV0IHZhbHVlID0gZW1wdHlTdHJpbmcyOwogICAgICBsZXQgcmVnZXggPSBxdW90ZSA9PT0gJyInID8gYXR0VmFsdWVDaGFyRG91YmxlUXVvdGUgOiBhdHRWYWx1ZUNoYXJTaW5nbGVRdW90ZTsKICAgICAgbWF0Y2hMb29wOgogICAgICAgIHdoaWxlICghc2Nhbm5lci56KSB7CiAgICAgICAgICBjaGFycyA9IHNjYW5uZXIuRyhyZWdleCk7CiAgICAgICAgICBpZiAoY2hhcnMpIHsKICAgICAgICAgICAgdGhpcy5wKGNoYXJzKTsKICAgICAgICAgICAgdmFsdWUgKz0gY2hhcnMucmVwbGFjZShhdHRWYWx1ZU5vcm1hbGl6ZWRXaGl0ZXNwYWNlLCAiICIpOwogICAgICAgICAgfQogICAgICAgICAgc3dpdGNoIChzY2FubmVyLmgoKSkgewogICAgICAgICAgICBjYXNlIHF1b3RlOgogICAgICAgICAgICAgIGlzQ2xvc2VkID0gdHJ1ZTsKICAgICAgICAgICAgICBicmVhayBtYXRjaExvb3A7CiAgICAgICAgICAgIGNhc2UgIiYiOgogICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuQygpOwogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICBjYXNlICI8IjoKICAgICAgICAgICAgICB0aHJvdyB0aGlzLmEoIlVuZXNjYXBlZCBgPGAgaXMgbm90IGFsbG93ZWQgaW4gYW4gYXR0cmlidXRlIHZhbHVlIik7CiAgICAgICAgICAgIGNhc2UgZW1wdHlTdHJpbmcyOgogICAgICAgICAgICAgIGJyZWFrIG1hdGNoTG9vcDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIGlmICghaXNDbG9zZWQpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlVuY2xvc2VkIGF0dHJpYnV0ZSIpOwogICAgICB9CiAgICAgIHNjYW5uZXIuZygpOwogICAgICByZXR1cm4gdmFsdWU7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgQ0RBVEEgc2VjdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGEgQ0RBVEEgc2VjdGlvbiB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy1jZGF0YS1zZWN0CiAgICAgKi8KICAgIEsoKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPCFbQ0RBVEFbIikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IHRleHQgPSBzY2FubmVyLnQoIl1dPiIpOwogICAgICB0aGlzLnAodGV4dCk7CiAgICAgIGlmICghc2Nhbm5lci5iKCJdXT4iKSkgewogICAgICAgIHRocm93IHRoaXMuYSgiVW5jbG9zZWQgQ0RBVEEgc2VjdGlvbiIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmYucHJlc2VydmVDZGF0YSA/IHRoaXMuaihuZXcgWG1sQ2RhdGEobm9ybWFsaXplTGluZUJyZWFrcyh0ZXh0KSksIHN0YXJ0SW5kZXgpIDogdGhpcy54KHRleHQsIHN0YXJ0SW5kZXgpOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBjaGFyYWN0ZXIgZGF0YSBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGNoYXJhY3RlciBkYXRhIHdhcyBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jZHQtY2hhcmRhdGEKICAgICAqLwogICAgTCgpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSBzY2FubmVyLmQ7CiAgICAgIGxldCBjaGFyRGF0YSA9IHNjYW5uZXIuQShlbmRDaGFyRGF0YSk7CiAgICAgIGlmICghY2hhckRhdGEpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdGhpcy5wKGNoYXJEYXRhKTsKICAgICAgaWYgKHNjYW5uZXIuaCgzKSA9PT0gIl1dPiIpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIkVsZW1lbnQgY29udGVudCBtYXkgbm90IGNvbnRhaW4gdGhlIENEQVRBIHNlY3Rpb24gY2xvc2UgZGVsaW1pdGVyIGBdXT5gIik7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMueChjaGFyRGF0YSwgc3RhcnRJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgY29tbWVudCBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGEgY29tbWVudCB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULUNvbW1lbnQKICAgICAqLwogICAgRCgpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSBzY2FubmVyLmQ7CiAgICAgIGlmICghc2Nhbm5lci5iKCI8IS0tIikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IGNvbnRlbnQgPSBzY2FubmVyLnQoIi0tIik7CiAgICAgIHRoaXMucChjb250ZW50KTsKICAgICAgaWYgKCFzY2FubmVyLmIoIi0tPiIpKSB7CiAgICAgICAgaWYgKHNjYW5uZXIuaCgyKSA9PT0gIi0tIikgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCJUaGUgc3RyaW5nIGAtLWAgaXNuJ3QgYWxsb3dlZCBpbnNpZGUgYSBjb21tZW50Iik7CiAgICAgICAgfQogICAgICAgIHRocm93IHRoaXMuYSgiVW5jbG9zZWQgY29tbWVudCIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmYucHJlc2VydmVDb21tZW50cyA/IHRoaXMuaihuZXcgWG1sQ29tbWVudChub3JtYWxpemVMaW5lQnJlYWtzKGNvbnRlbnQpKSwgc3RhcnRJbmRleCkgOiB0cnVlOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhIHJlZmVyZW5jZSBpbiBhIGNvbnRlbnQgY29udGV4dCBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBUaGlzIGRpZmZlcnMgZnJvbSBgY29uc3VtZVJlZmVyZW5jZSgpYCBpbiB0aGF0IGEgY29uc3VtZWQgcmVmZXJlbmNlIHdpbGwgYmUKICAgICAqIGFkZGVkIHRvIHRoZSBkb2N1bWVudCBhcyBhIHRleHQgbm9kZSBpbnN0ZWFkIG9mIHJldHVybmVkLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSByZWZlcmVuY2Ugd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNlbnRwcm9jCiAgICAgKi8KICAgIE0oKSB7CiAgICAgIGxldCBzdGFydEluZGV4ID0gdGhpcy5jLmQ7CiAgICAgIGxldCByZWYgPSB0aGlzLkMoKTsKICAgICAgcmV0dXJuIHJlZiA/IHRoaXMueChyZWYsIHN0YXJ0SW5kZXgpIDogZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgZG9jdHlwZSBkZWNsYXJhdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBUaGlzIGlzIGEgbG9vc2UgaW1wbGVtZW50YXRpb24gc2luY2UgZG9jdHlwZSBkZWNsYXJhdGlvbnMgYXJlIGN1cnJlbnRseQogICAgICogZGlzY2FyZGVkIHdpdGhvdXQgZnVydGhlciBwYXJzaW5nLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSBkb2N0eXBlIGRlY2xhcmF0aW9uIHdhcyBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jZHRkCiAgICAgKi8KICAgIE4oKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPCFET0NUWVBFIikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IG5hbWUgPSB0aGlzLmUoKSAmJiB0aGlzLnIoKTsKICAgICAgaWYgKCFuYW1lKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJFeHBlY3RlZCBhIG5hbWUiKTsKICAgICAgfQogICAgICBsZXQgcHVibGljSWQ7CiAgICAgIGxldCBzeXN0ZW1JZDsKICAgICAgaWYgKHRoaXMuZSgpKSB7CiAgICAgICAgaWYgKHNjYW5uZXIuYigiUFVCTElDIikpIHsKICAgICAgICAgIHB1YmxpY0lkID0gdGhpcy5lKCkgJiYgdGhpcy5PKCk7CiAgICAgICAgICBpZiAocHVibGljSWQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHRocm93IHRoaXMuYSgiRXhwZWN0ZWQgYSBwdWJsaWMgaWRlbnRpZmllciIpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5lKCk7CiAgICAgICAgfQogICAgICAgIGlmIChwdWJsaWNJZCAhPT0gdm9pZCAwIHx8IHNjYW5uZXIuYigiU1lTVEVNIikpIHsKICAgICAgICAgIHRoaXMuZSgpOwogICAgICAgICAgc3lzdGVtSWQgPSB0aGlzLnMoKTsKICAgICAgICAgIGlmIChzeXN0ZW1JZCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgdGhyb3cgdGhpcy5hKCJFeHBlY3RlZCBhIHN5c3RlbSBpZGVudGlmaWVyIik7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmUoKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbGV0IGludGVybmFsU3Vic2V0OwogICAgICBpZiAoc2Nhbm5lci5iKCJbIikpIHsKICAgICAgICBpbnRlcm5hbFN1YnNldCA9IHNjYW5uZXIuQSgvXF1bXHgyMFx0XHJcbl0qPi8pOwogICAgICAgIGlmICghc2Nhbm5lci5iKCJdIikpIHsKICAgICAgICAgIHRocm93IHRoaXMuYSgiVW5jbG9zZWQgaW50ZXJuYWwgc3Vic2V0Iik7CiAgICAgICAgfQogICAgICAgIHRoaXMuZSgpOwogICAgICB9CiAgICAgIGlmICghc2Nhbm5lci5iKCI+IikpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlVuY2xvc2VkIGRvY3R5cGUgZGVjbGFyYXRpb24iKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5mLnByZXNlcnZlRG9jdW1lbnRUeXBlID8gdGhpcy5qKG5ldyBYbWxEb2N1bWVudFR5cGUobmFtZSwgcHVibGljSWQsIHN5c3RlbUlkLCBpbnRlcm5hbFN1YnNldCksIHN0YXJ0SW5kZXgpIDogdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYW4gZWxlbWVudCBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGFuIGVsZW1lbnQgd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1lbGVtZW50CiAgICAgKi8KICAgIEIoKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPCIpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGxldCBuYW1lID0gdGhpcy5yKCk7CiAgICAgIGlmICghbmFtZSkgewogICAgICAgIHNjYW5uZXIubyhzdGFydEluZGV4KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IGF0dHJpYnV0ZXMgPSB0aGlzLkkoKTsKICAgICAgbGV0IGlzRW1wdHkgPSAhIXNjYW5uZXIuYigiLz4iKTsKICAgICAgbGV0IGVsZW1lbnQgPSBuZXcgWG1sRWxlbWVudChuYW1lLCBhdHRyaWJ1dGVzKTsKICAgICAgZWxlbWVudC5wYXJlbnQgPSB0aGlzLmw7CiAgICAgIGlmICghaXNFbXB0eSkgewogICAgICAgIGlmICghc2Nhbm5lci5iKCI+IikpIHsKICAgICAgICAgIHRocm93IHRoaXMuYShgVW5jbG9zZWQgc3RhcnQgdGFnIGZvciBlbGVtZW50IFxgJHtuYW1lfVxgYCk7CiAgICAgICAgfQogICAgICAgIHRoaXMubCA9IGVsZW1lbnQ7CiAgICAgICAgZG8gewogICAgICAgICAgdGhpcy5MKCk7CiAgICAgICAgfSB3aGlsZSAodGhpcy5CKCkgfHwgdGhpcy5NKCkgfHwgdGhpcy5LKCkgfHwgdGhpcy5FKCkgfHwgdGhpcy5EKCkpOwogICAgICAgIGxldCBlbmRUYWdNYXJrID0gc2Nhbm5lci5kOwogICAgICAgIGxldCBlbmRUYWdOYW1lOwogICAgICAgIGlmICghc2Nhbm5lci5iKCI8LyIpIHx8ICEoZW5kVGFnTmFtZSA9IHRoaXMucigpKSB8fCBlbmRUYWdOYW1lICE9PSBuYW1lKSB7CiAgICAgICAgICBzY2FubmVyLm8oZW5kVGFnTWFyayk7CiAgICAgICAgICB0aHJvdyB0aGlzLmEoYE1pc3NpbmcgZW5kIHRhZyBmb3IgZWxlbWVudCAke25hbWV9YCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuZSgpOwogICAgICAgIGlmICghc2Nhbm5lci5iKCI+IikpIHsKICAgICAgICAgIHRocm93IHRoaXMuYShgVW5jbG9zZWQgZW5kIHRhZyBmb3IgZWxlbWVudCAke25hbWV9YCk7CiAgICAgICAgfQogICAgICAgIHRoaXMubCA9IGVsZW1lbnQucGFyZW50OwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmooZWxlbWVudCwgc3RhcnRJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGFuIGBFcWAgcHJvZHVjdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGFuIGBFcWAgcHJvZHVjdGlvbiB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULUVxCiAgICAgKi8KICAgIHUoKSB7CiAgICAgIHRoaXMuZSgpOwogICAgICBpZiAodGhpcy5jLmIoIj0iKSkgewogICAgICAgIHRoaXMuZSgpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYE1pc2NgIGNvbnRlbnQgaWYgcG9zc2libGUuCiAgICAgKgogICAgICogQHJldHVybnMgV2hldGhlciBhbnl0aGluZyB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULU1pc2MKICAgICAqLwogICAgdygpIHsKICAgICAgcmV0dXJuIHRoaXMuRCgpIHx8IHRoaXMuRSgpIHx8IHRoaXMuZSgpOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBvbmUgb3IgbW9yZSBgTmFtZWAgY2hhcmFjdGVycyBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBgTmFtZWAgY2hhcmFjdGVycywgb3IgYW4gZW1wdHkgc3RyaW5nIGlmIG5vbmUgd2VyZSBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jTlQtTmFtZQogICAgICovCiAgICByKCkgewogICAgICByZXR1cm4gaXNOYW1lU3RhcnRDaGFyKHRoaXMuYy5oKCkpID8gdGhpcy5jLnYoaXNOYW1lQ2hhcikgOiBlbXB0eVN0cmluZzI7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGEgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy1waQogICAgICovCiAgICBFKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgc3RhcnRJbmRleCA9IHNjYW5uZXIuZDsKICAgICAgaWYgKCFzY2FubmVyLmIoIjw/IikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IG5hbWUgPSB0aGlzLnIoKTsKICAgICAgaWYgKG5hbWUpIHsKICAgICAgICBpZiAobmFtZS50b0xvd2VyQ2FzZSgpID09PSAieG1sIikgewogICAgICAgICAgc2Nhbm5lci5vKHN0YXJ0SW5kZXgpOwogICAgICAgICAgdGhyb3cgdGhpcy5hKCJYTUwgZGVjbGFyYXRpb24gaXNuJ3QgYWxsb3dlZCBoZXJlIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IHRoaXMuYSgiSW52YWxpZCBwcm9jZXNzaW5nIGluc3RydWN0aW9uIik7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmUoKSkgewogICAgICAgIGlmIChzY2FubmVyLmIoIj8+IikpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmoobmV3IFhtbFByb2Nlc3NpbmdJbnN0cnVjdGlvbihuYW1lKSwgc3RhcnRJbmRleCk7CiAgICAgICAgfQogICAgICAgIHRocm93IHRoaXMuYSgiV2hpdGVzcGFjZSBpcyByZXF1aXJlZCBhZnRlciBhIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbmFtZSIpOwogICAgICB9CiAgICAgIGxldCBjb250ZW50ID0gc2Nhbm5lci50KCI/PiIpOwogICAgICB0aGlzLnAoY29udGVudCk7CiAgICAgIGlmICghc2Nhbm5lci5iKCI/PiIpKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJVbnRlcm1pbmF0ZWQgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmoobmV3IFhtbFByb2Nlc3NpbmdJbnN0cnVjdGlvbihuYW1lLCBub3JtYWxpemVMaW5lQnJlYWtzKGNvbnRlbnQpKSwgc3RhcnRJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgcHJvbG9nIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSBwcm9sb2cgd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNzZWMtcHJvbG9nLWR0ZAogICAgICovCiAgICBIKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgc3RhcnRJbmRleCA9IHNjYW5uZXIuZDsKICAgICAgdGhpcy5QKCk7CiAgICAgIHdoaWxlICh0aGlzLncoKSkgewogICAgICB9CiAgICAgIGlmICh0aGlzLk4oKSkgewogICAgICAgIHdoaWxlICh0aGlzLncoKSkgewogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gc3RhcnRJbmRleCA8IHNjYW5uZXIuZDsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYSBwdWJsaWMgaWRlbnRpZmllciBsaXRlcmFsIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zCiAgICAgKiAgIFZhbHVlIG9mIHRoZSBwdWJsaWMgaWRlbnRpZmllciBsaXRlcmFsIG1pbnVzIHF1b3Rlcywgb3IgYGZhbHNlYCBpZgogICAgICogICBub3RoaW5nIHdhcyBjb25zdW1lZC4gQW4gZW1wdHkgc3RyaW5nIGluZGljYXRlcyB0aGF0IGEgcHVibGljIGlkIGxpdGVyYWwKICAgICAqICAgd2FzIGNvbnN1bWVkIGJ1dCB3YXMgZW1wdHkuCiAgICAgKgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1QdWJpZExpdGVyYWwKICAgICAqLwogICAgTygpIHsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSB0aGlzLmMuZDsKICAgICAgbGV0IHZhbHVlID0gdGhpcy5zKCk7CiAgICAgIGlmICh2YWx1ZSAhPT0gZmFsc2UgJiYgIS9eWy1ceDIwXHJcbmEtekEtWjAtOScoKSssLi86PT87ISojQCRfJV0qJC8udGVzdCh2YWx1ZSkpIHsKICAgICAgICB0aGlzLmMubyhzdGFydEluZGV4KTsKICAgICAgICB0aHJvdyB0aGlzLmEoIkludmFsaWQgY2hhcmFjdGVyIGluIHB1YmxpYyBpZGVudGlmaWVyIik7CiAgICAgIH0KICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhIHJlZmVyZW5jZSBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBUaGlzIGRpZmZlcnMgZnJvbSBgY29uc3VtZUNvbnRlbnRSZWZlcmVuY2UoKWAgaW4gdGhhdCBhIGNvbnN1bWVkIHJlZmVyZW5jZQogICAgICogd2lsbCBiZSByZXR1cm5lZCByYXRoZXIgdGhhbiBhZGRlZCB0byB0aGUgZG9jdW1lbnQuCiAgICAgKgogICAgICogQHJldHVybnMKICAgICAqICAgUGFyc2VkIHJlZmVyZW5jZSB2YWx1ZSwgb3IgYGZhbHNlYCBpZiBub3RoaW5nIHdhcyBjb25zdW1lZCAodG8KICAgICAqICAgZGlzdGluZ3Vpc2ggZnJvbSBhIHJlZmVyZW5jZSB0aGF0IHJlc29sdmVzIHRvIGFuIGVtcHR5IHN0cmluZykuCiAgICAgKgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1SZWZlcmVuY2UKICAgICAqLwogICAgQygpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgaWYgKCFzY2FubmVyLmIoIiYiKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBsZXQgcmVmID0gc2Nhbm5lci52KGlzUmVmZXJlbmNlQ2hhcik7CiAgICAgIGlmIChzY2FubmVyLkYoKSAhPT0gIjsiKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJVbnRlcm1pbmF0ZWQgcmVmZXJlbmNlIChhIHJlZmVyZW5jZSBtdXN0IGVuZCB3aXRoIGA7YCkiKTsKICAgICAgfQogICAgICBsZXQgcGFyc2VkVmFsdWU7CiAgICAgIGlmIChyZWZbMF0gPT09ICIjIikgewogICAgICAgIGxldCBjb2RlUG9pbnQgPSByZWZbMV0gPT09ICJ4IiA/IHBhcnNlSW50KHJlZi5zbGljZSgyKSwgMTYpIDogcGFyc2VJbnQocmVmLnNsaWNlKDEpLCAxMCk7CiAgICAgICAgaWYgKGlzTmFOKGNvZGVQb2ludCkpIHsKICAgICAgICAgIHRocm93IHRoaXMuYSgiSW52YWxpZCBjaGFyYWN0ZXIgcmVmZXJlbmNlIik7CiAgICAgICAgfQogICAgICAgIGlmICghaXNYbWxDb2RlUG9pbnQoY29kZVBvaW50KSkgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCJDaGFyYWN0ZXIgcmVmZXJlbmNlIHJlc29sdmVzIHRvIGFuIGludmFsaWQgY2hhcmFjdGVyIik7CiAgICAgICAgfQogICAgICAgIHBhcnNlZFZhbHVlID0gU3RyaW5nLmZyb21Db2RlUG9pbnQoY29kZVBvaW50KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJzZWRWYWx1ZSA9IHByZWRlZmluZWRFbnRpdGllc1tyZWZdOwogICAgICAgIGlmIChwYXJzZWRWYWx1ZSA9PT0gdm9pZCAwKSB7CiAgICAgICAgICBsZXQgewogICAgICAgICAgICBpZ25vcmVVbmRlZmluZWRFbnRpdGllcywKICAgICAgICAgICAgcmVzb2x2ZVVuZGVmaW5lZEVudGl0eQogICAgICAgICAgfSA9IHRoaXMuZjsKICAgICAgICAgIGxldCB3cmFwcGVkUmVmID0gYCYke3JlZn07YDsKICAgICAgICAgIGlmIChyZXNvbHZlVW5kZWZpbmVkRW50aXR5KSB7CiAgICAgICAgICAgIGxldCByZXNvbHZlZFZhbHVlID0gcmVzb2x2ZVVuZGVmaW5lZEVudGl0eSh3cmFwcGVkUmVmKTsKICAgICAgICAgICAgaWYgKHJlc29sdmVkVmFsdWUgIT09IG51bGwgJiYgcmVzb2x2ZWRWYWx1ZSAhPT0gdm9pZCAwKSB7CiAgICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlb2YgcmVzb2x2ZWRWYWx1ZTsKICAgICAgICAgICAgICBpZiAodHlwZSAhPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFxgcmVzb2x2ZVVuZGVmaW5lZEVudGl0eSgpXGAgbXVzdCByZXR1cm4gYSBzdHJpbmcsIFxgbnVsbFxgLCBvciBcYHVuZGVmaW5lZFxgLCBidXQgcmV0dXJuZWQgYSB2YWx1ZSBvZiB0eXBlICR7dHlwZX1gKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkVmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChpZ25vcmVVbmRlZmluZWRFbnRpdGllcykgewogICAgICAgICAgICByZXR1cm4gd3JhcHBlZFJlZjsKICAgICAgICAgIH0KICAgICAgICAgIHNjYW5uZXIubygtd3JhcHBlZFJlZi5sZW5ndGgpOwogICAgICAgICAgdGhyb3cgdGhpcy5hKGBOYW1lZCBlbnRpdHkgaXNuJ3QgZGVmaW5lZDogJHt3cmFwcGVkUmVmfWApOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gcGFyc2VkVmFsdWU7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgYFN5c3RlbUxpdGVyYWxgIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEEgYFN5c3RlbUxpdGVyYWxgIGlzIHNpbWlsYXIgdG8gYW4gYXR0cmlidXRlIHZhbHVlLCBidXQgYWxsb3dzIHRoZQogICAgICogY2hhcmFjdGVycyBgPGAgYW5kIGAmYCBhbmQgZG9lc24ndCByZXBsYWNlIHJlZmVyZW5jZXMuCiAgICAgKgogICAgICogQHJldHVybnMKICAgICAqICAgVmFsdWUgb2YgdGhlIGBTeXN0ZW1MaXRlcmFsYCBtaW51cyBxdW90ZXMsIG9yIGBmYWxzZWAgaWYgbm90aGluZyB3YXMKICAgICAqICAgY29uc3VtZWQuIEFuIGVtcHR5IHN0cmluZyBpbmRpY2F0ZXMgdGhhdCBhIGBTeXN0ZW1MaXRlcmFsYCB3YXMgY29uc3VtZWQKICAgICAqICAgYnV0IHdhcyBlbXB0eS4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULVN5c3RlbUxpdGVyYWwKICAgICAqLwogICAgcygpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHF1b3RlID0gc2Nhbm5lci5iKCciJykgfHwgc2Nhbm5lci5iKCInIik7CiAgICAgIGlmICghcXVvdGUpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IHZhbHVlID0gc2Nhbm5lci50KHF1b3RlKTsKICAgICAgdGhpcy5wKHZhbHVlKTsKICAgICAgaWYgKCFzY2FubmVyLmIocXVvdGUpKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJNaXNzaW5nIGVuZCBxdW90ZSIpOwogICAgICB9CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgb25lIG9yIG1vcmUgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYW55IHdoaXRlc3BhY2UgY2hhcmFjdGVycyB3ZXJlIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyN3aGl0ZQogICAgICovCiAgICBlKCkgewogICAgICByZXR1cm4gISF0aGlzLmMudihpc1doaXRlc3BhY2UpOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhbiBYTUwgZGVjbGFyYXRpb24gaWYgcG9zc2libGUuCiAgICAgKgogICAgICogQHJldHVybnMgV2hldGhlciBhbiBYTUwgZGVjbGFyYXRpb24gd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1YTUxEZWNsCiAgICAgKi8KICAgIFAoKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPD94bWwiKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBpZiAoIXRoaXMuZSgpKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJJbnZhbGlkIFhNTCBkZWNsYXJhdGlvbiIpOwogICAgICB9CiAgICAgIGxldCB2ZXJzaW9uID0gISFzY2FubmVyLmIoInZlcnNpb24iKSAmJiB0aGlzLnUoKSAmJiB0aGlzLnMoKTsKICAgICAgaWYgKHZlcnNpb24gPT09IGZhbHNlKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJYTUwgdmVyc2lvbiBpcyBtaXNzaW5nIG9yIGludmFsaWQiKTsKICAgICAgfSBlbHNlIGlmICghL14xXC5bMC05XSskLy50ZXN0KHZlcnNpb24pKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJJbnZhbGlkIGNoYXJhY3RlciBpbiB2ZXJzaW9uIG51bWJlciIpOwogICAgICB9CiAgICAgIGxldCBlbmNvZGluZzsKICAgICAgbGV0IHN0YW5kYWxvbmU7CiAgICAgIGlmICh0aGlzLmUoKSkgewogICAgICAgIGVuY29kaW5nID0gISFzY2FubmVyLmIoImVuY29kaW5nIikgJiYgdGhpcy51KCkgJiYgdGhpcy5zKCk7CiAgICAgICAgaWYgKGVuY29kaW5nKSB7CiAgICAgICAgICB0aGlzLmUoKTsKICAgICAgICB9CiAgICAgICAgc3RhbmRhbG9uZSA9ICEhc2Nhbm5lci5iKCJzdGFuZGFsb25lIikgJiYgdGhpcy51KCkgJiYgdGhpcy5zKCk7CiAgICAgICAgaWYgKHN0YW5kYWxvbmUpIHsKICAgICAgICAgIGlmIChzdGFuZGFsb25lICE9PSAieWVzIiAmJiBzdGFuZGFsb25lICE9PSAibm8iKSB7CiAgICAgICAgICAgIHRocm93IHRoaXMuYSgnT25seSAieWVzIiBhbmQgIm5vIiBhcmUgcGVybWl0dGVkIGFzIHZhbHVlcyBvZiBgc3RhbmRhbG9uZWAnKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZSgpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIXNjYW5uZXIuYigiPz4iKSkgewogICAgICAgIHRocm93IHRoaXMuYSgiSW52YWxpZCBvciB1bmNsb3NlZCBYTUwgZGVjbGFyYXRpb24iKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5mLnByZXNlcnZlWG1sRGVjbGFyYXRpb24gPyB0aGlzLmoobmV3IFhtbERlY2xhcmF0aW9uKAogICAgICAgIHZlcnNpb24sCiAgICAgICAgZW5jb2RpbmcgfHwgdm9pZCAwLAogICAgICAgIHN0YW5kYWxvbmUgfHwgdm9pZCAwCiAgICAgICksIHN0YXJ0SW5kZXgpIDogdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhbiBgWG1sRXJyb3JgIGZvciB0aGUgY3VycmVudCBzY2FubmVyIHBvc2l0aW9uLgogICAgICovCiAgICBhKG1lc3NhZ2UpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgcmV0dXJuIG5ldyBYbWxFcnJvcihtZXNzYWdlLCBzY2FubmVyLmQsIHNjYW5uZXIubSk7CiAgICB9CiAgICAvKioKICAgICAqIFRocm93cyBhbiBpbnZhbGlkIGNoYXJhY3RlciBlcnJvciBpZiBhbnkgY2hhcmFjdGVyIGluIHRoZSBnaXZlbiBfc3RyaW5nXwogICAgICogaXNuJ3QgYSB2YWxpZCBYTUwgY2hhcmFjdGVyLgogICAgICovCiAgICBwKHN0cmluZykgewogICAgICBsZXQgeyBsZW5ndGggfSA9IHN0cmluZzsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkgewogICAgICAgIGxldCBjcCA9IHN0cmluZy5jb2RlUG9pbnRBdChpKTsKICAgICAgICBpZiAoIWlzWG1sQ29kZVBvaW50KGNwKSkgewogICAgICAgICAgdGhpcy5jLm8oLShbLi4uc3RyaW5nXS5sZW5ndGggLSBpKSk7CiAgICAgICAgICB0aHJvdyB0aGlzLmEoIkludmFsaWQgY2hhcmFjdGVyIik7CiAgICAgICAgfQogICAgICAgIGlmIChjcCA+IDY1NTM1KSB7CiAgICAgICAgICBpICs9IDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKICBmdW5jdGlvbiBub3JtYWxpemVMaW5lQnJlYWtzKHRleHQpIHsKICAgIGxldCBpID0gMDsKICAgIHdoaWxlICgoaSA9IHRleHQuaW5kZXhPZigiXHIiLCBpKSkgIT09IC0xKSB7CiAgICAgIHRleHQgPSB0ZXh0W2kgKyAxXSA9PT0gIlxuIiA/IHRleHQuc2xpY2UoMCwgaSkgKyB0ZXh0LnNsaWNlKGkgKyAxKSA6IHRleHQuc2xpY2UoMCwgaSkgKyAiXG4iICsgdGV4dC5zbGljZShpICsgMSk7CiAgICB9CiAgICByZXR1cm4gdGV4dDsKICB9CiAgZnVuY3Rpb24gcGFyc2VYbWwoeG1sLCBvcHRpb25zKSB7CiAgICByZXR1cm4gbmV3IFBhcnNlcih4bWwsIG9wdGlvbnMpLmRvY3VtZW50OwogIH0KICBjbGFzcyBYbWxQYXJzZUVycm9yIGV4dGVuZHMgRXJyb3IgewogICAgY29uc3RydWN0b3IobWVzc2FnZSkgewogICAgICBzdXBlcihtZXNzYWdlKTsKICAgIH0KICB9CiAgZnVuY3Rpb24gcGFyc2VYbWxTdHJpbmcoeG1sU3RyaW5nKSB7CiAgICBsZXQgZG9jID0gbnVsbDsKICAgIHRyeSB7CiAgICAgIGRvYyA9IGJyb3dzZXIucGFyc2VYbWwoeG1sU3RyaW5nKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdGhyb3cgbmV3IFhtbFBhcnNlRXJyb3IoZS5tZXNzYWdlKTsKICAgIH0KICAgIHJldHVybiBkb2M7CiAgfQogIGZ1bmN0aW9uIHN0cmlwTmFtZXNwYWNlKG5hbWUpIHsKICAgIGNvbnN0IGNvbG9uID0gbmFtZS5pbmRleE9mKCI6Iik7CiAgICByZXR1cm4gY29sb24gPiAtMSA/IG5hbWUuc3Vic3RyKGNvbG9uICsgMSkgOiBuYW1lOwogIH0KICBmdW5jdGlvbiBnZXRSb290RWxlbWVudCh4bWxEb2MpIHsKICAgIHJldHVybiB4bWxEb2MuY2hpbGRyZW5bMF07CiAgfQogIGZ1bmN0aW9uIGdldEVsZW1lbnROYW1lKGVsZW1lbnQpIHsKICAgIHJldHVybiBlbGVtZW50Lm5hbWUgfHwgIiI7CiAgfQogIGZ1bmN0aW9uIGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgbmFtZSwgbmVzdGVkID0gZmFsc2UpIHsKICAgIGNvbnN0IHN0cmlwcGVkTmFtZSA9IHN0cmlwTmFtZXNwYWNlKG5hbWUpOwogICAgZnVuY3Rpb24gcmVkdWNlcihwcmV2LCBjdXJyKSB7CiAgICAgIGlmIChzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShjdXJyKSkgPT09IHN0cmlwcGVkTmFtZSkgewogICAgICAgIHByZXYucHVzaChjdXJyKTsKICAgICAgfQogICAgICBpZiAobmVzdGVkICYmIEFycmF5LmlzQXJyYXkoY3Vyci5jaGlsZHJlbikpIHsKICAgICAgICByZXR1cm4gWy4uLnByZXYsIC4uLmN1cnIuY2hpbGRyZW4ucmVkdWNlKHJlZHVjZXIsIFtdKV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHByZXY7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBlbGVtZW50ICYmIEFycmF5LmlzQXJyYXkoZWxlbWVudC5jaGlsZHJlbikgPyBlbGVtZW50LmNoaWxkcmVuLnJlZHVjZShyZWR1Y2VyLCBbXSkgOiBbXTsKICB9CiAgZnVuY3Rpb24gZmluZENoaWxkRWxlbWVudChlbGVtZW50LCBuYW1lLCBuZXN0ZWQgPSBmYWxzZSkgewogICAgcmV0dXJuIGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgbmFtZSwgbmVzdGVkKVswXSB8fCBudWxsOwogIH0KICBmdW5jdGlvbiBnZXRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQgJiYgQXJyYXkuaXNBcnJheShlbGVtZW50LmNoaWxkcmVuKSA/IFsKICAgICAgLi4uZWxlbWVudC5jaGlsZHJlbi5maWx0ZXIoCiAgICAgICAgKGVsKSA9PiBlbCBpbnN0YW5jZW9mIGJyb3dzZXIuWG1sRWxlbWVudAogICAgICApCiAgICBdIDogW107CiAgfQogIGZ1bmN0aW9uIGdldEVsZW1lbnRUZXh0KGVsZW1lbnQpIHsKICAgIGNvbnN0IHRleHROb2RlID0gZWxlbWVudCAmJiBBcnJheS5pc0FycmF5KGVsZW1lbnQuY2hpbGRyZW4pID8gZWxlbWVudC5jaGlsZHJlbi5maW5kKChub2RlKSA9PiBub2RlLnR5cGUgPT09ICJ0ZXh0IikgOiBudWxsOwogICAgcmV0dXJuIHRleHROb2RlID8gdGV4dE5vZGUudGV4dCA6ICIiOwogIH0KICBmdW5jdGlvbiBnZXRFbGVtZW50QXR0cmlidXRlKGVsZW1lbnQsIGF0dHJOYW1lKSB7CiAgICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50LmF0dHJpYnV0ZXNbYXR0ck5hbWVdIHx8ICIiOwogIH0KICBjbGFzcyBFbmRwb2ludEVycm9yIGV4dGVuZHMgRXJyb3IgewogICAgY29uc3RydWN0b3IobWVzc2FnZSwgaHR0cFN0YXR1cywgaXNDcm9zc09yaWdpblJlbGF0ZWQpIHsKICAgICAgc3VwZXIobWVzc2FnZSk7CiAgICAgIHRoaXMuaHR0cFN0YXR1cyA9IGh0dHBTdGF0dXM7CiAgICAgIHRoaXMuaXNDcm9zc09yaWdpblJlbGF0ZWQgPSBpc0Nyb3NzT3JpZ2luUmVsYXRlZDsKICAgICAgdGhpcy5uYW1lID0gIkVuZHBvaW50RXJyb3IiOwogICAgfQogIH0KICBjbGFzcyBTZXJ2aWNlRXhjZXB0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7CiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yCiAgICAgKiBAcGFyYW0gbWVzc2FnZSBFcnJvciBtZXNzYWdlCiAgICAgKiBAcGFyYW0gcmVxdWVzdFVybCBVUkwgd2hpY2ggcmVzdWx0ZWQgaW4gdGhlIFNlcnZpY2VFeGNlcHRpb24KICAgICAqIEBwYXJhbSBjb2RlIE9wdGlvbmFsIFNlcnZpY2VFeGNlcHRpb24gY29kZQogICAgICogQHBhcmFtIGxvY2F0b3IgT3B0aW9uYWwgU2VydmljZUV4Y2VwdGlvbiBsb2NhdG9yCiAgICAgKiBAcGFyYW0gcmVzcG9uc2UgT3B0aW9uYWwgcmVzcG9uc2UgY29udGVudCByZWNlaXZlZAogICAgICovCiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZXF1ZXN0VXJsLCBjb2RlLCBsb2NhdG9yLCByZXNwb25zZSkgewogICAgICBzdXBlcihtZXNzYWdlKTsKICAgICAgdGhpcy5yZXF1ZXN0VXJsID0gcmVxdWVzdFVybDsKICAgICAgdGhpcy5jb2RlID0gY29kZTsKICAgICAgdGhpcy5sb2NhdG9yID0gbG9jYXRvcjsKICAgICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlOwogICAgICB0aGlzLm5hbWUgPSAiU2VydmljZUV4Y2VwdGlvbkVycm9yIjsKICAgIH0KICB9CiAgZnVuY3Rpb24gcGFyc2Uoc2VydmljZUV4Y2VwdGlvbiwgdXJsKSB7CiAgICBjb25zdCBlcnJvckNvZGUgPSBnZXRFbGVtZW50QXR0cmlidXRlKHNlcnZpY2VFeGNlcHRpb24sICJjb2RlIikgfHwgZ2V0RWxlbWVudEF0dHJpYnV0ZShzZXJ2aWNlRXhjZXB0aW9uLCAiZXhjZXB0aW9uQ29kZSIpOwogICAgY29uc3QgZXJyb3JMb2NhdG9yID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShzZXJ2aWNlRXhjZXB0aW9uLCAibG9jYXRvciIpOwogICAgY29uc3QgdGV4dEVsZW1lbnQgPSBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2VFeGNlcHRpb24sICJFeGNlcHRpb25UZXh0IikgfHwgc2VydmljZUV4Y2VwdGlvbjsKICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGdldEVsZW1lbnRUZXh0KHRleHRFbGVtZW50KS50cmltKCk7CiAgICByZXR1cm4gbmV3IFNlcnZpY2VFeGNlcHRpb25FcnJvcigKICAgICAgZXJyb3JNZXNzYWdlLAogICAgICB1cmwsCiAgICAgIGVycm9yQ29kZSwKICAgICAgZXJyb3JMb2NhdG9yLAogICAgICBzZXJ2aWNlRXhjZXB0aW9uLmRvY3VtZW50CiAgICApOwogIH0KICBmdW5jdGlvbiBjaGVjayhyZXNwb25zZSwgdXJsKSB7CiAgICBjb25zdCByb290RWwgPSBnZXRSb290RWxlbWVudChyZXNwb25zZSk7CiAgICBjb25zdCByb290RWxOYW1lID0gc3RyaXBOYW1lc3BhY2UoZ2V0RWxlbWVudE5hbWUocm9vdEVsKSk7CiAgICBpZiAocm9vdEVsTmFtZSA9PT0gIlNlcnZpY2VFeGNlcHRpb25SZXBvcnQiKSB7CiAgICAgIGNvbnN0IGVycm9yID0gZmluZENoaWxkRWxlbWVudChyb290RWwsICJTZXJ2aWNlRXhjZXB0aW9uIik7CiAgICAgIGlmIChlcnJvcikgewogICAgICAgIHRocm93IHBhcnNlKGVycm9yLCB1cmwpOwogICAgICB9CiAgICB9CiAgICBpZiAocm9vdEVsTmFtZSA9PT0gIkV4Y2VwdGlvblJlcG9ydCIpIHsKICAgICAgY29uc3QgZXJyb3IgPSBmaW5kQ2hpbGRFbGVtZW50KHJvb3RFbCwgIkV4Y2VwdGlvbiIpOwogICAgICBpZiAoZXJyb3IpIHsKICAgICAgICB0aHJvdyBwYXJzZShlcnJvciwgdXJsKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0KICBmdW5jdGlvbiBlbmNvZGVFcnJvcihlcnJvcikgewogICAgY29uc3QgYmFzZSA9IHsKICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLAogICAgICBuYW1lOiBlcnJvci5uYW1lCiAgICB9OwogICAgaWYgKGVycm9yIGluc3RhbmNlb2YgU2VydmljZUV4Y2VwdGlvbkVycm9yKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgLi4uYmFzZSwKICAgICAgICBjb2RlOiBlcnJvci5jb2RlLAogICAgICAgIGxvY2F0b3I6IGVycm9yLmxvY2F0b3IsCiAgICAgICAgcmVzcG9uc2U6IGVycm9yLnJlc3BvbnNlLAogICAgICAgIHJlcXVlc3RVcmw6IGVycm9yLnJlcXVlc3RVcmwKICAgICAgfTsKICAgIH0KICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVuZHBvaW50RXJyb3IpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAuLi5iYXNlLAogICAgICAgIGh0dHBTdGF0dXM6IGVycm9yLmh0dHBTdGF0dXMsCiAgICAgICAgaXNDcm9zc09yaWdpblJlbGF0ZWQ6IGVycm9yLmlzQ3Jvc3NPcmlnaW5SZWxhdGVkCiAgICAgIH07CiAgICB9CiAgICByZXR1cm4gYmFzZTsKICB9CiAgY29uc3QgZmFsbGJhY2tFdmVudFRhcmdldCA9IG5ldyBFdmVudFRhcmdldCgpOwogIGZ1bmN0aW9uIGFkZFRhc2tIYW5kbGVyKHRhc2tOYW1lLCBzY29wZSwgaGFuZGxlcikgewogICAgY29uc3QgdXNlV29ya2VyID0gdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAidW5kZWZpbmVkIjsKICAgIGNvbnN0IGV2ZW50SGFuZGxlciA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7CiAgICAgIGlmIChyZXF1ZXN0LnRhc2tOYW1lID09PSB0YXNrTmFtZSkgewogICAgICAgIGxldCByZXNwb25zZSwgZXJyb3I7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlcihyZXF1ZXN0LnBhcmFtcyk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgZXJyb3IgPSBlbmNvZGVFcnJvcihlKTsKICAgICAgICB9CiAgICAgICAgY29uc3QgbWVzc2FnZSA9ICgKICAgICAgICAgIC8qKiBAdHlwZSB7V29ya2VyUmVzcG9uc2V9ICovCiAgICAgICAgICB7CiAgICAgICAgICAgIHRhc2tOYW1lLAogICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QucmVxdWVzdElkLAogICAgICAgICAgICAuLi5yZXNwb25zZSAmJiB7IHJlc3BvbnNlIH0sCiAgICAgICAgICAgIC4uLmVycm9yICYmIHsgZXJyb3IgfQogICAgICAgICAgfQogICAgICAgICk7CiAgICAgICAgaWYgKHVzZVdvcmtlcikgewogICAgICAgICAgc2NvcGUucG9zdE1lc3NhZ2UobWVzc2FnZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZhbGxiYWNrRXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudCgKICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KCJvZ2MtY2xpZW50LnJlc3BvbnNlIiwgewogICAgICAgICAgICAgIGRldGFpbDogbWVzc2FnZQogICAgICAgICAgICB9KQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICBpZiAodXNlV29ya2VyKSB7CiAgICAgIHNjb3BlLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCAoZXZlbnQpID0+IGV2ZW50SGFuZGxlcihldmVudC5kYXRhKSk7CiAgICB9IGVsc2UgewogICAgICBmYWxsYmFja0V2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoCiAgICAgICAgIm9nYy1jbGllbnQucmVxdWVzdCIsCiAgICAgICAgKGV2ZW50KSA9PiBldmVudEhhbmRsZXIoZXZlbnQuZGV0YWlsKQogICAgICApOwogICAgfQogIH0KICBjb25zdCBFTkNPRElOR1MgPSBbInV0Zi04IiwgInV0Zi0xNiIsICJpc28tODg1OS0xIl07CiAgY29uc3QgRkFMTEJBQ0tfRU5DT0RJTkcgPSAidXRmLTgiOwogIGZ1bmN0aW9uIGV4dHJhY3RFbmNvZGluZyhjb250ZW50VHlwZSkgewogICAgY29uc3QgbWF0Y2hlcyA9IC9jaGFyc2V0PShbXjtdKykvLmV4ZWMoY29udGVudFR5cGUpOwogICAgcmV0dXJuIG1hdGNoZXMgPyBtYXRjaGVzWzFdIDogbnVsbDsKICB9CiAgZnVuY3Rpb24gZGVjb2RlU3RyaW5nKGJ1ZmZlciwgY29udGVudFR5cGUpIHsKICAgIGNvbnN0IGVuY29kaW5nSGludCA9IGNvbnRlbnRUeXBlID8gZXh0cmFjdEVuY29kaW5nKGNvbnRlbnRUeXBlKSA6IG51bGw7CiAgICBjb25zdCBlbmNvZGluZ0F0dGVtcHRzID0gZW5jb2RpbmdIaW50ID8gW2VuY29kaW5nSGludCwgLi4uRU5DT0RJTkdTXSA6IEVOQ09ESU5HUzsKICAgIGZvciAoY29uc3QgZW5jb2Rpbmcgb2YgZW5jb2RpbmdBdHRlbXB0cykgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmcsIHsgZmF0YWw6IHRydWUgfSk7CiAgICAgICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKGJ1ZmZlcik7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgfQogICAgfQogICAgY29uc29sZS53YXJuKAogICAgICBgW29nYy1jbGllbnRdIFhNTCBkb2N1bWVudCBlbmNvZGluZyBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZCwgZmFsbGluZyBiYWNrIHRvICR7RkFMTEJBQ0tfRU5DT0RJTkd9LmAKICAgICk7CiAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKEZBTExCQUNLX0VOQ09ESU5HKS5kZWNvZGUoYnVmZmVyKTsKICB9CiAgY29uc3QgZmV0Y2hQcm9taXNlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgbGV0IGZldGNoT3B0aW9ucyA9IHt9OwogIGZ1bmN0aW9uIHNldEZldGNoT3B0aW9ucyhvcHRpb25zKSB7CiAgICBmZXRjaE9wdGlvbnMgPSBvcHRpb25zOwogIH0KICBmdW5jdGlvbiBnZXRGZXRjaE9wdGlvbnMoKSB7CiAgICByZXR1cm4gZmV0Y2hPcHRpb25zOwogIH0KICBmdW5jdGlvbiBzaGFyZWRGZXRjaCh1cmwsIG1ldGhvZCA9ICJHRVQiLCBhc0pzb24sIGN1c3RvbUFjY2VwdEhlYWRlcikgewogICAgbGV0IGZldGNoS2V5ID0gYCR7bWV0aG9kfSMke3VybH1gOwogICAgaWYgKGFzSnNvbiB8fCBjdXN0b21BY2NlcHRIZWFkZXIpIHsKICAgICAgZmV0Y2hLZXkgPSBgJHttZXRob2R9I2FzSnNvbiMke3VybH1gOwogICAgfQogICAgaWYgKGZldGNoUHJvbWlzZXMuaGFzKGZldGNoS2V5KSkgewogICAgICByZXR1cm4gZmV0Y2hQcm9taXNlcy5nZXQoZmV0Y2hLZXkpOwogICAgfQogICAgY29uc3Qgb3B0aW9ucyA9IHsgLi4uZ2V0RmV0Y2hPcHRpb25zKCkgfTsKICAgIG9wdGlvbnMubWV0aG9kID0gbWV0aG9kOwogICAgaWYgKGN1c3RvbUFjY2VwdEhlYWRlcikgewogICAgICBvcHRpb25zLmhlYWRlcnMgPSAiaGVhZGVycyIgaW4gb3B0aW9ucyA/IG9wdGlvbnMuaGVhZGVycyA6IHt9OwogICAgICBvcHRpb25zLmhlYWRlcnNbIkFjY2VwdCJdID0gY3VzdG9tQWNjZXB0SGVhZGVyOwogICAgfSBlbHNlIGlmIChhc0pzb24pIHsKICAgICAgb3B0aW9ucy5oZWFkZXJzID0gImhlYWRlcnMiIGluIG9wdGlvbnMgPyBvcHRpb25zLmhlYWRlcnMgOiB7fTsKICAgICAgb3B0aW9ucy5oZWFkZXJzWyJBY2NlcHQiXSA9ICJhcHBsaWNhdGlvbi9qc29uLGFwcGxpY2F0aW9uL3NjaGVtYStqc29uIjsKICAgIH0KICAgIGNvbnN0IHByb21pc2UgPSBmZXRjaCh1cmwsIG9wdGlvbnMpLmNhdGNoKChlKSA9PiBlKS50aGVuKChyZXNwKSA9PiB7CiAgICAgIGZldGNoUHJvbWlzZXMuZGVsZXRlKGZldGNoS2V5KTsKICAgICAgcmV0dXJuIHJlc3A7CiAgICB9KTsKICAgIGZldGNoUHJvbWlzZXMuc2V0KGZldGNoS2V5LCBwcm9taXNlKTsKICAgIHJldHVybiBwcm9taXNlLnRoZW4oKHJlc3ApID0+IHsKICAgICAgaWYgKHJlc3AgaW5zdGFuY2VvZiBFcnJvcikKICAgICAgICB0aHJvdyByZXNwOwogICAgICByZXR1cm4gcmVzcC5jbG9uZSgpOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHF1ZXJ5WG1sRG9jdW1lbnQodXJsKSB7CiAgICByZXR1cm4gc2hhcmVkRmV0Y2godXJsKS5jYXRjaCgKICAgICAgKCkgPT4gKAogICAgICAgIC8vIGF0dGVtcHQgYSBIRUFEIHRvIHNlZSBpZiB0aGUgZmFpbHVyZSBjb21lcyBmcm9tIENPUlMgb3IgdGhlIHNlcnZpY2UgaXMgZ2VuZXJhbGx5IHVucmVhY2hhYmxlCiAgICAgICAgZmV0Y2godXJsLCB7IC4uLmdldEZldGNoT3B0aW9ucygpLCBtZXRob2Q6ICJIRUFEIiwgbW9kZTogIm5vLWNvcnMiIH0pLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoCiAgICAgICAgICAgIGBGZXRjaGluZyB0aGUgZG9jdW1lbnQgZmFpbGVkIGVpdGhlciBkdWUgdG8gbmV0d29yayBlcnJvcnMgb3IgdW5yZWFjaGFibGUgaG9zdCwgZXJyb3IgaXM6ICR7ZXJyb3IubWVzc2FnZX1gLAogICAgICAgICAgICAwLAogICAgICAgICAgICBmYWxzZQogICAgICAgICAgKTsKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKAogICAgICAgICAgICBgVGhlIGRvY3VtZW50IGNvdWxkIG5vdCBiZSBmZXRjaGVkIGR1ZSB0byBDT1JTIGxpbWl0YXRpb25zYCwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgdHJ1ZQogICAgICAgICAgKTsKICAgICAgICB9KQogICAgICApCiAgICApLnRoZW4oYXN5bmMgKHJlc3ApID0+IHsKICAgICAgaWYgKCFyZXNwLm9rKSB7CiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3AudGV4dCgpOwogICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKAogICAgICAgICAgYFJlY2VpdmVkIGFuIGVycm9yIHdpdGggY29kZSAke3Jlc3Auc3RhdHVzfTogJHt0ZXh0fWAsCiAgICAgICAgICByZXNwLnN0YXR1cywKICAgICAgICAgIGZhbHNlCiAgICAgICAgKTsKICAgICAgfQogICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCByZXNwLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGNvbnRlbnRUeXBlSGVhZGVyID0gcmVzcC5oZWFkZXJzLmdldCgiQ29udGVudC1UeXBlIik7CiAgICAgIHJldHVybiBkZWNvZGVTdHJpbmcoYnVmZmVyLCBjb250ZW50VHlwZUhlYWRlcik7CiAgICB9KS50aGVuKCh4bWwpID0+IHBhcnNlWG1sU3RyaW5nKHhtbCkpOwogIH0KICBmdW5jdGlvbiBzZXRRdWVyeVBhcmFtcyh1cmwsIHBhcmFtcykgewogICAgY29uc3QgZW5jb2RlZFVybE1hdGNoID0gdXJsLm1hdGNoKC8oaHR0cHM/JTNBJTJGJTJGW14vXSspJC8pOwogICAgaWYgKGVuY29kZWRVcmxNYXRjaCkgewogICAgICBjb25zdCBlbmNvZGVkVXJsID0gZW5jb2RlZFVybE1hdGNoWzFdOwogICAgICBjb25zdCBtb2RpZmllZFVybCA9IHNldFF1ZXJ5UGFyYW1zKGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkVXJsKSwgcGFyYW1zKTsKICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKGVuY29kZWRVcmwsIGVuY29kZVVSSUNvbXBvbmVudChtb2RpZmllZFVybCkpOwogICAgfQogICAgY29uc3QgdXJsT2JqID0gbmV3IFVSTCh1cmwpOwogICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHBhcmFtcyk7CiAgICBjb25zdCBrZXlzTG93ZXIgPSBrZXlzLm1hcCgoa2V5KSA9PiBrZXkudG9Mb3dlckNhc2UoKSk7CiAgICBjb25zdCB0b0RlbGV0ZSA9IFtdOwogICAgZm9yIChjb25zdCBwYXJhbSBvZiB1cmxPYmouc2VhcmNoUGFyYW1zLmtleXMoKSkgewogICAgICBpZiAoa2V5c0xvd2VyLmluZGV4T2YocGFyYW0udG9Mb3dlckNhc2UoKSkgPiAtMSkgewogICAgICAgIHRvRGVsZXRlLnB1c2gocGFyYW0pOwogICAgICB9CiAgICB9CiAgICB0b0RlbGV0ZS5tYXAoKHBhcmFtKSA9PiB1cmxPYmouc2VhcmNoUGFyYW1zLmRlbGV0ZShwYXJhbSkpOwogICAga2V5cy5mb3JFYWNoKAogICAgICAoa2V5KSA9PiB1cmxPYmouc2VhcmNoUGFyYW1zLnNldCgKICAgICAgICBrZXksCiAgICAgICAgcGFyYW1zW2tleV0gPT09IHRydWUgPyAiIiA6IHBhcmFtc1trZXldCiAgICAgICkKICAgICk7CiAgICB1cmxPYmouc2VhcmNoID0gdXJsT2JqLnNlYXJjaC5yZXBsYWNlKC9cKy9nLCAiJTIwIik7CiAgICByZXR1cm4gdXJsT2JqLnRvU3RyaW5nKCk7CiAgfQogIGNvbnN0IExhdExvbkNyc0xpc3QgPSBbCiAgICAiRVBTRzo0MDQ2IiwKICAgIC8vIFJHUkRDIDIwMDUKICAgICJFUFNHOjQwNzUiLAogICAgLy8gU1JFRjk4CiAgICAiRVBTRzo0MTIwIiwKICAgIC8vIEdyZWVrCiAgICAiRVBTRzo0MTIyIiwKICAgIC8vIEFUUzc3CiAgICAiRVBTRzo0MTI0IiwKICAgIC8vIFJUOTAKICAgICJFUFNHOjQxMjYiLAogICAgLy8gTEtTOTQgKEVUUlM4OSkKICAgICJFUFNHOjQxNDkiLAogICAgLy8gQ0gxOTAzCiAgICAiRVBTRzo0MTUxIiwKICAgIC8vIENIVFJGOTUKICAgICJFUFNHOjQxNTMiLAogICAgLy8gUmFzc2FkaXJhbgogICAgIkVQU0c6NDE1NSIsCiAgICAvLyBEYWJvbGEgMTk4MQogICAgIkVQU0c6NDE1NyIsCiAgICAvLyBNb3VudCBEaWxsb24KICAgICJFUFNHOjQxNTkiLAogICAgLy8gRUxENzkKICAgICJFUFNHOjQxNjEiLAogICAgLy8gUGFtcGEgZGVsIENhc3RpbGxvCiAgICAiRVBTRzo0MTYzIiwKICAgIC8vIFllbWVuIE5HTjk2CiAgICAiRVBTRzo0MTY1IiwKICAgIC8vIEJpc3NhdQogICAgIkVQU0c6NDE2NyIsCiAgICAvLyBOWkdEMjAwMAogICAgIkVQU0c6NDE2OSIsCiAgICAvLyBBbWVyaWNhbiBTYW1vYSAxOTYyCiAgICAiRVBTRzo0MTcxIiwKICAgIC8vIFJHRjkzCiAgICAiRVBTRzo0MTczIiwKICAgIC8vIElSRU5FVDk1CiAgICAiRVBTRzo0MTc1IiwKICAgIC8vIFNpZXJyYSBMZW9uZSAxOTY4CiAgICAiRVBTRzo0MTc4IiwKICAgIC8vIFB1bGtvdm8gMTk0Mig4MykKICAgICJFUFNHOjQxODAiLAogICAgLy8gRVNUOTcKICAgICJFUFNHOjQxODIiLAogICAgLy8gQXpvcmVzIE9jY2lkZW50YWwgMTkzOQogICAgIkVQU0c6NDE4NCIsCiAgICAvLyBBem9yZXMgT3JpZW50YWwgMTk0MAogICAgIkVQU0c6NDE4OCIsCiAgICAvLyBPU05JIDE5NTIKICAgICJFUFNHOjQxOTAiLAogICAgLy8gUE9TR0FSIDk4CiAgICAiRVBTRzo0MTkxIiwKICAgIC8vIEFsYmFuaWFuIDE5ODcKICAgICJFUFNHOjQxOTYiLAogICAgLy8gQW1tYXNzYWxpayAxOTU4CiAgICAiRVBTRzo0MTk4IiwKICAgIC8vIEtvdXNzZXJpCiAgICAiRVBTRzo0MjAyIiwKICAgIC8vIEFHRDY2CiAgICAiRVBTRzo0MjEwIiwKICAgIC8vIEFyYyAxOTYwCiAgICAiRVBTRzo0MjExIiwKICAgIC8vIEJhdGF2aWEKICAgICJFUFNHOjQyMTQiLAogICAgLy8gQmVpamluZyAxOTU0CiAgICAiRVBTRzo0MjI2IiwKICAgIC8vIENvdGUgZCdJdm9pcmUKICAgICJFUFNHOjQyMjkiLAogICAgLy8gRWd5cHQgMTkwNwogICAgIkVQU0c6NDIzMSIsCiAgICAvLyBFRDg3CiAgICAiRVBTRzo0MjMzIiwKICAgIC8vIEdhbmRhamlrYSAxOTcwCiAgICAiRVBTRzo0MjM2IiwKICAgIC8vIEh1IFR6dSBTaGFuIDE5NTAKICAgICJFUFNHOjQyMzgiLAogICAgLy8gSUQ3NAogICAgIkVQU0c6NDI0MCIsCiAgICAvLyBJbmRpYW4gMTk3NQogICAgIkVQU0c6NDI0MiIsCiAgICAvLyBKQUQ2OQogICAgIkVQU0c6NDI0NCIsCiAgICAvLyBLYW5kYXdhbGEKICAgICJFUFNHOjQyNDYiLAogICAgLy8gS09DCiAgICAiRVBTRzo0MjQ4IiwKICAgIC8vIFBTQUQ1NgogICAgIkVQU0c6NDI1MCIsCiAgICAvLyBMZWlnb24KICAgICJFUFNHOjQyNTIiLAogICAgLy8gTG9tZQogICAgIkVQU0c6NDI1NSIsCiAgICAvLyBIZXJhdCBOb3J0aAogICAgIkVQU0c6NDI1OCIsCiAgICAvLyBFVFJTODkKICAgICJFUFNHOjQyNjEiLAogICAgLy8gTWVyY2hpY2gKICAgICJFUFNHOjQyNjQiLAogICAgLy8gTWhhc3QKICAgICJFUFNHOjQyNjciLAogICAgLy8gTkFEMjcKICAgICJFUFNHOjQyNzAiLAogICAgLy8gTmFocndhbiAxOTY3CiAgICAiRVBTRzo0MjczIiwKICAgIC8vIE5HTyAxOTQ4CiAgICAiRVBTRzo0Mjc2IiwKICAgIC8vIE5TV0MgOVotMgogICAgIkVQU0c6NDI3OSIsCiAgICAvLyBPUyhTTik4MAogICAgIkVQU0c6NDI4MSIsCiAgICAvLyBQYWxlc3RpbmUgMTkyMwogICAgIkVQU0c6NDI4NCIsCiAgICAvLyBQdWxrb3ZvIDE5NDIKICAgICJFUFNHOjQyODYiLAogICAgLy8gUWF0YXIgMTk0OAogICAgIkVQU0c6NDI4OCIsCiAgICAvLyBMb21hIFF1aW50YW5hCiAgICAiRVBTRzo0MjkyIiwKICAgIC8vIFNhcHBlciBIaWxsIDE5NDMKICAgICJFUFNHOjQyOTUiLAogICAgLy8gU2VyaW5kdW5nCiAgICAiRVBTRzo0Mjk3IiwKICAgIC8vIFRhbmFuYXJpdmUKICAgICJFUFNHOjQyOTkiLAogICAgLy8gVE02NQogICAgIkVQU0c6NDMwMiIsCiAgICAvLyBUcmluaWRhZCAxOTAzCiAgICAiRVBTRzo0MzI0IiwKICAgIC8vIFdHUyA3MkJFCiAgICAiRVBTRzo0MzI2IgogICAgLy8gV0dTIDg0CiAgXTsKICBmdW5jdGlvbiBoYXNJbnZlcnRlZENvb3JkaW5hdGVzKGNyc05hbWUpIHsKICAgIHJldHVybiBMYXRMb25DcnNMaXN0LmluZGV4T2Yoc2ltcGxpZnlFcHNnVXJuKGNyc05hbWUpKSA+IC0xOwogIH0KICBmdW5jdGlvbiBzaW1wbGlmeUVwc2dVcm4oZnVsbENyc05hbWUpIHsKICAgIGlmICgvXnVybjooPzp4LSk/b2djOmRlZjpjcnM6ZXBzZzovLnRlc3QoZnVsbENyc05hbWUudG9Mb3dlckNhc2UoKSkpIHsKICAgICAgY29uc3QgY29kZSA9IC8oWzAtOV0rKSQvLmV4ZWMoZnVsbENyc05hbWUpWzFdOwogICAgICByZXR1cm4gYEVQU0c6JHtjb2RlfWA7CiAgICB9CiAgICByZXR1cm4gZnVsbENyc05hbWU7CiAgfQogIGZ1bmN0aW9uIHJlYWRPcGVyYXRpb25VcmxzRnJvbUNhcGFiaWxpdGllcyQxKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgdXJscyA9IHt9OwogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIGNvbnN0IHJlcXVlc3QgPSBmaW5kQ2hpbGRFbGVtZW50KGNhcGFiaWxpdHksICJSZXF1ZXN0Iik7CiAgICBnZXRDaGlsZHJlbkVsZW1lbnQocmVxdWVzdCkuZm9yRWFjaCgob3BlcmF0aW9uKSA9PiB7CiAgICAgIGNvbnN0IG9wZXJhdGlvbk5hbWUgPSBzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShvcGVyYXRpb24pKTsKICAgICAgdXJsc1tvcGVyYXRpb25OYW1lXSA9IHBhcnNlT3BlcmF0aW9uKG9wZXJhdGlvbik7CiAgICB9KTsKICAgIHJldHVybiB1cmxzOwogIH0KICBmdW5jdGlvbiByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIHJldHVybiBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLmF0dHJpYnV0ZXNbInZlcnNpb24iXTsKICB9CiAgZnVuY3Rpb24gcmVhZExheWVyc0Zyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIHJldHVybiBmaW5kQ2hpbGRyZW5FbGVtZW50KGNhcGFiaWxpdHksICJMYXllciIpLm1hcCgKICAgICAgKGxheWVyRWwpID0+IHBhcnNlTGF5ZXIobGF5ZXJFbCwgdmVyc2lvbikKICAgICk7CiAgfQogIGZ1bmN0aW9uIHJlYWRPdXRwdXRGb3JtYXRzRnJvbUNhcGFiaWxpdGllcyQxKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIGNvbnN0IGdldE1hcCA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY2FwYWJpbGl0eSwgIlJlcXVlc3QiKSwKICAgICAgIkdldE1hcCIKICAgICk7CiAgICBjb25zdCBvdXRwdXRGb3JtYXRzID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRNYXAsICJGb3JtYXQiKS5tYXAoCiAgICAgIGdldEVsZW1lbnRUZXh0CiAgICApOwogICAgcmV0dXJuIG91dHB1dEZvcm1hdHM7CiAgfQogIGZ1bmN0aW9uIHJlYWRJbmZvRm9ybWF0c0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBjb25zdCBjYXBhYmlsaXR5ID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIkNhcGFiaWxpdHkiCiAgICApOwogICAgY29uc3QgZ2V0RmVhdHVyZUluZm8gPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KGNhcGFiaWxpdHksICJSZXF1ZXN0IiksCiAgICAgICJHZXRGZWF0dXJlSW5mbyIKICAgICk7CiAgICBjb25zdCBvdXRwdXRGb3JtYXRzID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRGZWF0dXJlSW5mbywgIkZvcm1hdCIpLm1hcCgKICAgICAgZ2V0RWxlbWVudFRleHQKICAgICk7CiAgICByZXR1cm4gb3V0cHV0Rm9ybWF0czsKICB9CiAgZnVuY3Rpb24gcmVhZEV4Y2VwdGlvbkZvcm1hdHNGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIGNvbnN0IGV4Y2VwdGlvbiA9IGZpbmRDaGlsZEVsZW1lbnQoY2FwYWJpbGl0eSwgIkV4Y2VwdGlvbiIpOwogICAgY29uc3QgZXhjZXB0aW9uRm9ybWF0cyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoZXhjZXB0aW9uLCAiRm9ybWF0IikubWFwKAogICAgICBnZXRFbGVtZW50VGV4dAogICAgKTsKICAgIHJldHVybiBleGNlcHRpb25Gb3JtYXRzOwogIH0KICBmdW5jdGlvbiByZWFkSW5mb0Zyb21DYXBhYmlsaXRpZXMkMihjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHNlcnZpY2UgPSBmaW5kQ2hpbGRFbGVtZW50KGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksICJTZXJ2aWNlIik7CiAgICBjb25zdCBvdXRwdXRGb3JtYXRzID0gcmVhZE91dHB1dEZvcm1hdHNGcm9tQ2FwYWJpbGl0aWVzJDEoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IGluZm9Gb3JtYXRzID0gcmVhZEluZm9Gb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3QgZXhjZXB0aW9uRm9ybWF0cyA9IHJlYWRFeGNlcHRpb25Gb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3Qga2V5d29yZHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJLZXl3b3JkTGlzdCIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KS5maWx0ZXIoKHYsIGksIGFycikgPT4gYXJyLmluZGV4T2YodikgPT09IGkpOwogICAgY29uc3QgcHJvdmlkZXIgPSByZWFkUHJvdmlkZXJGcm9tQ2FwYWJpbGl0aWVzJDEoY2FwYWJpbGl0aWVzRG9jKTsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJUaXRsZSIpKSwKICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiTmFtZSIpKSwKICAgICAgYWJzdHJhY3Q6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkFic3RyYWN0IikpLAogICAgICBvdXRwdXRGb3JtYXRzLAogICAgICBpbmZvRm9ybWF0cywKICAgICAgZXhjZXB0aW9uRm9ybWF0cywKICAgICAgZmVlczogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiRmVlcyIpKSwKICAgICAgY29uc3RyYWludHM6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkFjY2Vzc0NvbnN0cmFpbnRzIikpLAogICAgICBwcm92aWRlciwKICAgICAga2V5d29yZHMKICAgIH07CiAgfQogIGZ1bmN0aW9uIHBhcnNlT3BlcmF0aW9uKG9wZXJhdGlvbikgewogICAgY29uc3QgdXJscyA9IHt9OwogICAgY29uc3QgZGNwVHlwZSA9IGZpbmRDaGlsZHJlbkVsZW1lbnQob3BlcmF0aW9uLCAiRENQVHlwZSIpOwogICAgY29uc3QgaHR0cCA9IGRjcFR5cGUuZmxhdE1hcCgoZCkgPT4gZmluZENoaWxkRWxlbWVudChkLCAiSFRUUCIpKTsKICAgIGNvbnN0IG1ldGhvZHMgPSBodHRwLmZsYXRNYXAoKGgpID0+IGdldENoaWxkcmVuRWxlbWVudChoKSk7CiAgICBtZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4gewogICAgICBjb25zdCBvbmxpbmVSZXNvdXJjZSA9IGZpbmRDaGlsZEVsZW1lbnQobWV0aG9kLCAiT25saW5lUmVzb3VyY2UiKTsKICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IHN0cmlwTmFtZXNwYWNlKGdldEVsZW1lbnROYW1lKG1ldGhvZCkpOwogICAgICB1cmxzW21ldGhvZE5hbWVdID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShvbmxpbmVSZXNvdXJjZSwgInhsaW5rOmhyZWYiKTsKICAgIH0pOwogICAgcmV0dXJuIHVybHM7CiAgfQogIGZ1bmN0aW9uIHBhcnNlTGF5ZXIobGF5ZXJFbCwgdmVyc2lvbiwgaW5oZXJpdGVkU3JzID0gW10sIGluaGVyaXRlZFN0eWxlcyA9IFtdLCBpbmhlcml0ZWRBdHRyaWJ1dGlvbiA9IG51bGwsIGluaGVyaXRlZEJvdW5kaW5nQm94ZXMgPSBudWxsLCBpbmhlcml0ZWRNYXhTY2FsZURlbm9tID0gbnVsbCwgaW5oZXJpdGVkTWluU2NhbGVEZW5vbSA9IG51bGwpIHsKICAgIGNvbnN0IHNyc1RhZyA9IHZlcnNpb24gPT09ICIxLjMuMCIgPyAiQ1JTIiA6ICJTUlMiOwogICAgY29uc3Qgc3JzTGlzdCA9IGZpbmRDaGlsZHJlbkVsZW1lbnQobGF5ZXJFbCwgc3JzVGFnKS5tYXAoZ2V0RWxlbWVudFRleHQpOwogICAgY29uc3QgYXZhaWxhYmxlQ3JzID0gc3JzTGlzdC5sZW5ndGggPiAwID8gc3JzTGlzdCA6IGluaGVyaXRlZFNyczsKICAgIGNvbnN0IGxheWVyU3R5bGVzID0gZmluZENoaWxkcmVuRWxlbWVudChsYXllckVsLCAiU3R5bGUiKS5tYXAoCiAgICAgIHBhcnNlTGF5ZXJTdHlsZQogICAgKTsKICAgIGNvbnN0IHN0eWxlcyA9IGxheWVyU3R5bGVzLmxlbmd0aCA+IDAgPyBsYXllclN0eWxlcyA6IGluaGVyaXRlZFN0eWxlczsKICAgIGZ1bmN0aW9uIHBhcnNlQkJveDIoYmJveEVsKSB7CiAgICAgIGNvbnN0IHNycyA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoYmJveEVsLCBzcnNUYWcpOwogICAgICBjb25zdCBhdHRycyA9IGhhc0ludmVydGVkQ29vcmRpbmF0ZXMoc3JzKSAmJiB2ZXJzaW9uID09PSAiMS4zLjAiID8gWyJtaW55IiwgIm1pbngiLCAibWF4eSIsICJtYXh4Il0gOiBbIm1pbngiLCAibWlueSIsICJtYXh4IiwgIm1heHkiXTsKICAgICAgcmV0dXJuIGF0dHJzLm1hcCgobmFtZSkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIG5hbWUpKTsKICAgIH0KICAgIGZ1bmN0aW9uIHBhcnNlRXhHZW9ncmFwaGljQm91bmRpbmdCb3goYmJveEVsKSB7CiAgICAgIHJldHVybiBbCiAgICAgICAgIndlc3RCb3VuZExvbmdpdHVkZSIsCiAgICAgICAgInNvdXRoQm91bmRMYXRpdHVkZSIsCiAgICAgICAgImVhc3RCb3VuZExvbmdpdHVkZSIsCiAgICAgICAgIm5vcnRoQm91bmRMYXRpdHVkZSIKICAgICAgXS5tYXAoKG5hbWUpID0+IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYmJveEVsLCBuYW1lKSkpOwogICAgfQogICAgZnVuY3Rpb24gcGFyc2VMYXRMb25Cb3VuZGluZ0JveChiYm94RWwpIHsKICAgICAgcmV0dXJuIFsibWlueCIsICJtaW55IiwgIm1heHgiLCAibWF4eSJdLm1hcCgKICAgICAgICAobmFtZSkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIG5hbWUpCiAgICAgICk7CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZVNjYWxlSGludFZhbHVlKHRleHRWYWx1ZSwgZGVmYXVsdFZhbHVlKSB7CiAgICAgIGlmICh0ZXh0VmFsdWUgPT09ICIiKSB7CiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTsKICAgICAgfQogICAgICByZXR1cm4gTWF0aC5zcXJ0KDAuNSAqIHBhcnNlRmxvYXQodGV4dFZhbHVlKSAqKiAyKSAvIDI4ZS01OwogICAgfQogICAgZnVuY3Rpb24gcGFyc2VTY2FsZUhpbnQoKSB7CiAgICAgIGNvbnN0IHNjYWxlSGludCA9IGZpbmRDaGlsZEVsZW1lbnQobGF5ZXJFbCwgIlNjYWxlSGludCIpOwogICAgICBpZiAoIXNjYWxlSGludCkgewogICAgICAgIHJldHVybiBbaW5oZXJpdGVkTWluU2NhbGVEZW5vbSwgaW5oZXJpdGVkTWF4U2NhbGVEZW5vbV07CiAgICAgIH0KICAgICAgY29uc3QgbWluID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShzY2FsZUhpbnQsICJtaW4iKTsKICAgICAgY29uc3QgbWF4ID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShzY2FsZUhpbnQsICJtYXgiKTsKICAgICAgcmV0dXJuIFsKICAgICAgICBwYXJzZVNjYWxlSGludFZhbHVlKG1pbiwgaW5oZXJpdGVkTWluU2NhbGVEZW5vbSksCiAgICAgICAgcGFyc2VTY2FsZUhpbnRWYWx1ZShtYXgsIGluaGVyaXRlZE1heFNjYWxlRGVub20pCiAgICAgIF07CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZVNjYWxlRGVub21pbmF0b3IobmFtZSwgaW5oZXJpdGVkVmFsdWUpIHsKICAgICAgY29uc3QgdGV4dFZhbHVlID0gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChsYXllckVsLCBuYW1lKSk7CiAgICAgIHJldHVybiB0ZXh0VmFsdWUgPT09ICIiID8gaW5oZXJpdGVkVmFsdWUgOiBwYXJzZUZsb2F0KHRleHRWYWx1ZSk7CiAgICB9CiAgICBjb25zdCBhdHRyaWJ1dGlvbkVsID0gZmluZENoaWxkRWxlbWVudChsYXllckVsLCAiQXR0cmlidXRpb24iKTsKICAgIGNvbnN0IGF0dHJpYnV0aW9uID0gYXR0cmlidXRpb25FbCAhPT0gbnVsbCA/IHBhcnNlTGF5ZXJBdHRyaWJ1dGlvbihhdHRyaWJ1dGlvbkVsKSA6IGluaGVyaXRlZEF0dHJpYnV0aW9uOwogICAgY29uc3QgbGF0TG9uQmJveEVsID0gdmVyc2lvbiA9PT0gIjEuMy4wIiA/IGZpbmRDaGlsZEVsZW1lbnQobGF5ZXJFbCwgIkVYX0dlb2dyYXBoaWNCb3VuZGluZ0JveCIpIDogZmluZENoaWxkRWxlbWVudChsYXllckVsLCAiTGF0TG9uQm91bmRpbmdCb3giKTsKICAgIGNvbnN0IGJhc2VCb3VuZGluZ0JveCA9IHt9OwogICAgaWYgKGxhdExvbkJib3hFbCkgewogICAgICBiYXNlQm91bmRpbmdCb3hbIkVQU0c6NDMyNiJdID0gdmVyc2lvbiA9PT0gIjEuMy4wIiA/IHBhcnNlRXhHZW9ncmFwaGljQm91bmRpbmdCb3gobGF0TG9uQmJveEVsKSA6IHBhcnNlTGF0TG9uQm91bmRpbmdCb3gobGF0TG9uQmJveEVsKTsKICAgIH0KICAgIGxldCBib3VuZGluZ0JveGVzID0gZmluZENoaWxkcmVuRWxlbWVudChsYXllckVsLCAiQm91bmRpbmdCb3giKS5yZWR1Y2UoCiAgICAgIChwcmV2LCBiYm94RWwpID0+ICh7CiAgICAgICAgLi4ucHJldiwKICAgICAgICBbZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIHNyc1RhZyldOiBwYXJzZUJCb3gyKGJib3hFbCkKICAgICAgfSksCiAgICAgIGJhc2VCb3VuZGluZ0JveAogICAgKTsKICAgIGJvdW5kaW5nQm94ZXMgPSBPYmplY3Qua2V5cyhib3VuZGluZ0JveGVzKS5sZW5ndGggPiAwIHx8IGluaGVyaXRlZEJvdW5kaW5nQm94ZXMgPT09IG51bGwgPyBib3VuZGluZ0JveGVzIDogaW5oZXJpdGVkQm91bmRpbmdCb3hlczsKICAgIGNvbnN0IHF1ZXJ5YWJsZSA9IGxheWVyRWwuYXR0cmlidXRlcy5xdWVyeWFibGUgPT09ICIxIiB8fCBsYXllckVsLmF0dHJpYnV0ZXMucXVlcnlhYmxlID09PSAidHJ1ZSIgPyB0cnVlIDogZmFsc2U7CiAgICBjb25zdCBvcGFxdWUgPSBsYXllckVsLmF0dHJpYnV0ZXMub3BhcXVlID09PSAiMSIgfHwgbGF5ZXJFbC5hdHRyaWJ1dGVzLm9wYXF1ZSA9PT0gInRydWUiID8gdHJ1ZSA6IGZhbHNlOwogICAgY29uc3Qga2V5d29yZHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJLZXl3b3JkTGlzdCIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KS5maWx0ZXIoKHYsIGksIGFycikgPT4gYXJyLmluZGV4T2YodikgPT09IGkpOwogICAgbGV0IG1pblNjYWxlRGVub21pbmF0b3IsIG1heFNjYWxlRGVub21pbmF0b3I7CiAgICBpZiAodmVyc2lvbiA9PT0gIjEuMy4wIikgewogICAgICBtaW5TY2FsZURlbm9taW5hdG9yID0gcGFyc2VTY2FsZURlbm9taW5hdG9yKAogICAgICAgICJNaW5TY2FsZURlbm9taW5hdG9yIiwKICAgICAgICBpbmhlcml0ZWRNaW5TY2FsZURlbm9tCiAgICAgICk7CiAgICAgIG1heFNjYWxlRGVub21pbmF0b3IgPSBwYXJzZVNjYWxlRGVub21pbmF0b3IoCiAgICAgICAgIk1heFNjYWxlRGVub21pbmF0b3IiLAogICAgICAgIGluaGVyaXRlZE1heFNjYWxlRGVub20KICAgICAgKTsKICAgIH0gZWxzZSB7CiAgICAgIFttaW5TY2FsZURlbm9taW5hdG9yLCBtYXhTY2FsZURlbm9taW5hdG9yXSA9IHBhcnNlU2NhbGVIaW50KCk7CiAgICB9CiAgICBjb25zdCBtZXRhZGF0YSA9IGZpbmRDaGlsZHJlbkVsZW1lbnQobGF5ZXJFbCwgIk1ldGFkYXRhVVJMIikubWFwKAogICAgICAobWV0YWRhdGFVcmxFbCkgPT4gKHsKICAgICAgICB0eXBlOiBnZXRFbGVtZW50QXR0cmlidXRlKG1ldGFkYXRhVXJsRWwsICJ0eXBlIiksCiAgICAgICAgZm9ybWF0OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KG1ldGFkYXRhVXJsRWwsICJGb3JtYXQiKSksCiAgICAgICAgdXJsOiBnZXRFbGVtZW50QXR0cmlidXRlKAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChtZXRhZGF0YVVybEVsLCAiT25saW5lUmVzb3VyY2UiKSwKICAgICAgICAgICJ4bGluazpocmVmIgogICAgICAgICkKICAgICAgfSkKICAgICk7CiAgICBjb25zdCBjaGlsZHJlbiA9IGZpbmRDaGlsZHJlbkVsZW1lbnQobGF5ZXJFbCwgIkxheWVyIikubWFwKAogICAgICAobGF5ZXIpID0+IHBhcnNlTGF5ZXIoCiAgICAgICAgbGF5ZXIsCiAgICAgICAgdmVyc2lvbiwKICAgICAgICBhdmFpbGFibGVDcnMsCiAgICAgICAgc3R5bGVzLAogICAgICAgIGF0dHJpYnV0aW9uLAogICAgICAgIGJvdW5kaW5nQm94ZXMsCiAgICAgICAgbWF4U2NhbGVEZW5vbWluYXRvciwKICAgICAgICBtaW5TY2FsZURlbm9taW5hdG9yCiAgICAgICkKICAgICk7CiAgICByZXR1cm4gewogICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJOYW1lIikpLAogICAgICB0aXRsZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChsYXllckVsLCAiVGl0bGUiKSksCiAgICAgIGFic3RyYWN0OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJBYnN0cmFjdCIpKSwKICAgICAgYXZhaWxhYmxlQ3JzLAogICAgICBzdHlsZXMsCiAgICAgIGF0dHJpYnV0aW9uLAogICAgICBib3VuZGluZ0JveGVzLAogICAgICBrZXl3b3JkcywKICAgICAgcXVlcnlhYmxlLAogICAgICBvcGFxdWUsCiAgICAgIC4uLm1pblNjYWxlRGVub21pbmF0b3IgIT09IG51bGwgPyB7IG1pblNjYWxlRGVub21pbmF0b3IgfSA6IHt9LAogICAgICAuLi5tYXhTY2FsZURlbm9taW5hdG9yICE9PSBudWxsID8geyBtYXhTY2FsZURlbm9taW5hdG9yIH0gOiB7fSwKICAgICAgLi4ubWV0YWRhdGEubGVuZ3RoICYmIHsgbWV0YWRhdGEgfSwKICAgICAgLi4uY2hpbGRyZW4ubGVuZ3RoICYmIHsgY2hpbGRyZW4gfQogICAgfTsKICB9CiAgZnVuY3Rpb24gcGFyc2VMYXllclN0eWxlKHN0eWxlRWwpIHsKICAgIGNvbnN0IGxlZ2VuZFVybCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoZmluZENoaWxkRWxlbWVudChzdHlsZUVsLCAiTGVnZW5kVVJMIiksICJPbmxpbmVSZXNvdXJjZSIpLAogICAgICAieGxpbms6aHJlZiIKICAgICk7CiAgICBjb25zdCBhYnN0cmFjdCA9IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc3R5bGVFbCwgIkFic3RyYWN0IikpOwogICAgcmV0dXJuIHsKICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzdHlsZUVsLCAiTmFtZSIpKSwKICAgICAgdGl0bGU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc3R5bGVFbCwgIlRpdGxlIikpLAogICAgICAuLi5hYnN0cmFjdCAmJiB7IGFic3RyYWN0IH0sCiAgICAgIC4uLmxlZ2VuZFVybCAmJiB7IGxlZ2VuZFVybCB9CiAgICB9OwogIH0KICBmdW5jdGlvbiBwYXJzZUxheWVyQXR0cmlidXRpb24oYXR0cmlidXRpb25FbCkgewogICAgY29uc3QgbG9nb1VybCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChhdHRyaWJ1dGlvbkVsLCAiTG9nb1VSTCIpLAogICAgICAgICJPbmxpbmVSZXNvdXJjZSIKICAgICAgKSwKICAgICAgInhsaW5rOmhyZWYiCiAgICApOwogICAgY29uc3QgdXJsID0gZ2V0RWxlbWVudEF0dHJpYnV0ZSgKICAgICAgZmluZENoaWxkRWxlbWVudChhdHRyaWJ1dGlvbkVsLCAiT25saW5lUmVzb3VyY2UiKSwKICAgICAgInhsaW5rOmhyZWYiCiAgICApOwogICAgY29uc3QgdGl0bGUgPSBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGF0dHJpYnV0aW9uRWwsICJUaXRsZSIpKTsKICAgIHJldHVybiB7CiAgICAgIC4uLnRpdGxlICYmIHsgdGl0bGUgfSwKICAgICAgLi4udXJsICYmIHsgdXJsIH0sCiAgICAgIC4uLmxvZ29VcmwgJiYgeyBsb2dvVXJsIH0KICAgIH07CiAgfQogIGZ1bmN0aW9uIHJlYWRQcm92aWRlckZyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHNlcnZpY2UgPSBmaW5kQ2hpbGRFbGVtZW50KGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksICJTZXJ2aWNlIik7CiAgICBjb25zdCBjb250YWN0SW5mb3JtYXRpb24gPSBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJDb250YWN0SW5mb3JtYXRpb24iKTsKICAgIGNvbnN0IGNvbnRhY3RQZXJzb25QcmltYXJ5ID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgY29udGFjdEluZm9ybWF0aW9uLAogICAgICAiQ29udGFjdFBlcnNvblByaW1hcnkiCiAgICApOwogICAgY29uc3QgYWRkcmVzcyA9IGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm9ybWF0aW9uLCAiQ29udGFjdEFkZHJlc3MiKTsKICAgIHJldHVybiB7CiAgICAgIGNvbnRhY3Q6IHsKICAgICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdFBlcnNvblByaW1hcnksICJDb250YWN0UGVyc29uIikKICAgICAgICApLAogICAgICAgIG9yZ2FuaXphdGlvbjogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGNvbnRhY3RQZXJzb25QcmltYXJ5LCAiQ29udGFjdE9yZ2FuaXphdGlvbiIpCiAgICAgICAgKSwKICAgICAgICBwb3NpdGlvbjogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGNvbnRhY3RJbmZvcm1hdGlvbiwgIkNvbnRhY3RQb3NpdGlvbiIpCiAgICAgICAgKSwKICAgICAgICBwaG9uZTogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGNvbnRhY3RJbmZvcm1hdGlvbiwgIkNvbnRhY3RWb2ljZVRlbGVwaG9uZSIpCiAgICAgICAgKSwKICAgICAgICBmYXg6IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChjb250YWN0SW5mb3JtYXRpb24sICJDb250YWN0RmFjc2ltaWxlVGVsZXBob25lIikKICAgICAgICApLAogICAgICAgIGFkZHJlc3M6IHsKICAgICAgICAgIGRlbGl2ZXJ5UG9pbnQ6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkFkZHJlc3MiKSksCiAgICAgICAgICBjaXR5OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJDaXR5IikpLAogICAgICAgICAgYWRtaW5pc3RyYXRpdmVBcmVhOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgICAgZmluZENoaWxkRWxlbWVudChhZGRyZXNzLCAiU3RhdGVPclByb3ZpbmNlIikKICAgICAgICAgICksCiAgICAgICAgICBwb3N0YWxDb2RlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJQb3N0Q29kZSIpKSwKICAgICAgICAgIGNvdW50cnk6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkNvdW50cnkiKSkKICAgICAgICB9LAogICAgICAgIGVtYWlsOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm9ybWF0aW9uLCAiQ29udGFjdEVsZWN0cm9uaWNNYWlsQWRkcmVzcyIpCiAgICAgICAgKQogICAgICB9CiAgICB9OwogIH0KICBmdW5jdGlvbiByZWFkUHJvdmlkZXJGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3Qgc2VydmljZVByb3ZpZGVyID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIlNlcnZpY2VQcm92aWRlciIKICAgICk7CiAgICBjb25zdCBzZXJ2aWNlQ29udGFjdCA9IGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZVByb3ZpZGVyLCAiU2VydmljZUNvbnRhY3QiKTsKICAgIGNvbnN0IGNvbnRhY3RJbmZvID0gZmluZENoaWxkRWxlbWVudChzZXJ2aWNlQ29udGFjdCwgIkNvbnRhY3RJbmZvIik7CiAgICBjb25zdCBwaG9uZSA9IGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm8sICJQaG9uZSIpOwogICAgY29uc3QgYWRkcmVzcyA9IGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm8sICJBZGRyZXNzIik7CiAgICByZXR1cm4gewogICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2VQcm92aWRlciwgIlByb3ZpZGVyTmFtZSIpKSwKICAgICAgc2l0ZTogZ2V0RWxlbWVudEF0dHJpYnV0ZSgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2VQcm92aWRlciwgIlByb3ZpZGVyU2l0ZSIpLAogICAgICAgICJ4bGluazpocmVmIgogICAgICApLAogICAgICBjb250YWN0OiB7CiAgICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlQ29udGFjdCwgIkluZGl2aWR1YWxOYW1lIikpLAogICAgICAgIHBvc2l0aW9uOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZUNvbnRhY3QsICJQb3NpdGlvbk5hbWUiKQogICAgICAgICksCiAgICAgICAgcGhvbmU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQocGhvbmUsICJWb2ljZSIpKSwKICAgICAgICBmYXg6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQocGhvbmUsICJGYWNzaW1pbGUiKSksCiAgICAgICAgYWRkcmVzczogewogICAgICAgICAgZGVsaXZlcnlQb2ludDogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkRlbGl2ZXJ5UG9pbnQiKQogICAgICAgICAgKSwKICAgICAgICAgIGNpdHk6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkNpdHkiKSksCiAgICAgICAgICBhZG1pbmlzdHJhdGl2ZUFyZWE6IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJBZG1pbmlzdHJhdGl2ZUFyZWEiKQogICAgICAgICAgKSwKICAgICAgICAgIHBvc3RhbENvZGU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIlBvc3RhbENvZGUiKSksCiAgICAgICAgICBjb3VudHJ5OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJDb3VudHJ5IikpCiAgICAgICAgfSwKICAgICAgICBlbWFpbDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChhZGRyZXNzLCAiRWxlY3Ryb25pY01haWxBZGRyZXNzIikpCiAgICAgIH0KICAgIH07CiAgfQogIGZ1bmN0aW9uIHJlYWRPcGVyYXRpb25VcmxzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHVybHMgPSB7fTsKICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyk7CiAgICBjb25zdCBvcGVyYXRpb25zTWV0YWRhdGEgPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBjYXBhYmlsaXRpZXMsCiAgICAgICJPcGVyYXRpb25zTWV0YWRhdGEiCiAgICApOwogICAgaWYgKG9wZXJhdGlvbnNNZXRhZGF0YSkgewogICAgICBmaW5kQ2hpbGRyZW5FbGVtZW50KG9wZXJhdGlvbnNNZXRhZGF0YSwgIk9wZXJhdGlvbiIpLmZvckVhY2goCiAgICAgICAgKG9wZXJhdGlvbikgPT4gewogICAgICAgICAgY29uc3QgbmFtZSA9IGdldEVsZW1lbnRBdHRyaWJ1dGUob3BlcmF0aW9uLCAibmFtZSIpOwogICAgICAgICAgdXJsc1tuYW1lXSA9IHBhcnNlT3BlcmF0aW9uMTEwKG9wZXJhdGlvbik7CiAgICAgICAgfQogICAgICApOwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoY2FwYWJpbGl0aWVzLCAiQ2FwYWJpbGl0eSIpOwogICAgICBjb25zdCByZXF1ZXN0ID0gZmluZENoaWxkRWxlbWVudChjYXBhYmlsaXR5LCAiUmVxdWVzdCIpOwogICAgICBnZXRDaGlsZHJlbkVsZW1lbnQocmVxdWVzdCkuZm9yRWFjaCgob3BlcmF0aW9uKSA9PiB7CiAgICAgICAgY29uc3QgbmFtZSA9IHN0cmlwTmFtZXNwYWNlKGdldEVsZW1lbnROYW1lKG9wZXJhdGlvbikpOwogICAgICAgIHVybHNbbmFtZV0gPSBwYXJzZU9wZXJhdGlvbjEwMChvcGVyYXRpb24pOwogICAgICB9KTsKICAgIH0KICAgIHJldHVybiB1cmxzOwogIH0KICBmdW5jdGlvbiByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICByZXR1cm4gZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKS5hdHRyaWJ1dGVzWyJ2ZXJzaW9uIl07CiAgfQogIGZ1bmN0aW9uIHJlYWRPdXRwdXRGb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGxldCBvdXRwdXRGb3JtYXRzOwogICAgaWYgKHZlcnNpb24uc3RhcnRzV2l0aCgiMS4wIikpIHsKICAgICAgY29uc3QgZ2V0RmVhdHVyZSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwgIkNhcGFiaWxpdHkiKSwKICAgICAgICAgICJSZXF1ZXN0IgogICAgICAgICksCiAgICAgICAgIkdldEZlYXR1cmUiCiAgICAgICk7CiAgICAgIG91dHB1dEZvcm1hdHMgPSBnZXRDaGlsZHJlbkVsZW1lbnQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChnZXRGZWF0dXJlLCAiUmVzdWx0Rm9ybWF0IikKICAgICAgKS5tYXAoZ2V0RWxlbWVudE5hbWUpOwogICAgfSBlbHNlIHsKICAgICAgY29uc3Qgb3BlcmF0aW9ucyA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgICAiT3BlcmF0aW9uc01ldGFkYXRhIgogICAgICApOwogICAgICBjb25zdCBnZXRGZWF0dXJlID0gZmluZENoaWxkcmVuRWxlbWVudChvcGVyYXRpb25zLCAiT3BlcmF0aW9uIikuZmluZCgKICAgICAgICAoZWwpID0+IGdldEVsZW1lbnRBdHRyaWJ1dGUoZWwsICJuYW1lIikgPT09ICJHZXRGZWF0dXJlIgogICAgICApOwogICAgICBjb25zdCBwYXJhbWV0ZXIgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGdldEZlYXR1cmUsICJQYXJhbWV0ZXIiKS5maW5kKAogICAgICAgIChlbCkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgIm5hbWUiKSA9PT0gIm91dHB1dEZvcm1hdCIKICAgICAgKTsKICAgICAgb3V0cHV0Rm9ybWF0cyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQocGFyYW1ldGVyLCAiVmFsdWUiLCB0cnVlKS5tYXAoCiAgICAgICAgZ2V0RWxlbWVudFRleHQKICAgICAgKTsKICAgIH0KICAgIHJldHVybiBvdXRwdXRGb3JtYXRzOwogIH0KICBmdW5jdGlvbiByZWFkSW5mb0Zyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IHNlcnZpY2VUYWcgPSB2ZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpID8gIlNlcnZpY2UiIDogIlNlcnZpY2VJZGVudGlmaWNhdGlvbiI7CiAgICBjb25zdCBuYW1lVGFnID0gdmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/ICJOYW1lIiA6ICJTZXJ2aWNlVHlwZSI7CiAgICBjb25zdCBzZXJ2aWNlID0gZmluZENoaWxkRWxlbWVudChnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLCBzZXJ2aWNlVGFnKTsKICAgIGxldCBrZXl3b3JkczsKICAgIGlmICh2ZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpKSB7CiAgICAgIGtleXdvcmRzID0gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiS2V5d29yZHMiKSkuc3BsaXQoIiwiKS5tYXAoKGtleXdvcmQpID0+IGtleXdvcmQudHJpbSgpKTsKICAgIH0gZWxzZSB7CiAgICAgIGtleXdvcmRzID0gZmluZENoaWxkcmVuRWxlbWVudCgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJLZXl3b3JkcyIpLAogICAgICAgICJLZXl3b3JkIgogICAgICApLm1hcChnZXRFbGVtZW50VGV4dCk7CiAgICB9CiAgICBsZXQgcHJvdmlkZXI7CiAgICBpZiAodmVyc2lvbiAhPT0gIjEuMC4wIikgewogICAgICBwcm92aWRlciA9IHJlYWRQcm92aWRlckZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJUaXRsZSIpKSwKICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCBuYW1lVGFnKSksCiAgICAgIGFic3RyYWN0OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJBYnN0cmFjdCIpKSwKICAgICAgZmVlczogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiRmVlcyIpKSwKICAgICAgY29uc3RyYWludHM6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkFjY2Vzc0NvbnN0cmFpbnRzIikpLAogICAgICBrZXl3b3JkcywKICAgICAgcHJvdmlkZXIsCiAgICAgIG91dHB1dEZvcm1hdHM6IHJlYWRPdXRwdXRGb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpCiAgICB9OwogIH0KICBmdW5jdGlvbiByZWFkRmVhdHVyZVR5cGVzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSByZWFkT3V0cHV0Rm9ybWF0c0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IGNhcGFiaWxpdHkgPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLAogICAgICAiRmVhdHVyZVR5cGVMaXN0IgogICAgKTsKICAgIHJldHVybiBmaW5kQ2hpbGRyZW5FbGVtZW50KGNhcGFiaWxpdHksICJGZWF0dXJlVHlwZSIpLm1hcCgKICAgICAgKGZlYXR1cmVUeXBlRWwpID0+IHBhcnNlRmVhdHVyZVR5cGUoZmVhdHVyZVR5cGVFbCwgdmVyc2lvbiwgb3V0cHV0Rm9ybWF0cykKICAgICk7CiAgfQogIGZ1bmN0aW9uIHBhcnNlT3BlcmF0aW9uMTAwKG9wZXJhdGlvbikgewogICAgY29uc3QgdXJscyA9IHt9OwogICAgY29uc3QgZGNwVHlwZSA9IGZpbmRDaGlsZHJlbkVsZW1lbnQob3BlcmF0aW9uLCAiRENQVHlwZSIpOwogICAgY29uc3QgaHR0cCA9IGRjcFR5cGUuZmxhdE1hcCgoZCkgPT4gZmluZENoaWxkcmVuRWxlbWVudChkLCAiSFRUUCIpKTsKICAgIGNvbnN0IG1ldGhvZHMgPSBodHRwLmZsYXRNYXAoKGgpID0+IGdldENoaWxkcmVuRWxlbWVudChoKSk7CiAgICBtZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4gewogICAgICBjb25zdCBtZXRob2ROYW1lID0gc3RyaXBOYW1lc3BhY2UoZ2V0RWxlbWVudE5hbWUobWV0aG9kKSk7CiAgICAgIHVybHNbbWV0aG9kTmFtZV0gPSBnZXRFbGVtZW50QXR0cmlidXRlKG1ldGhvZCwgIm9ubGluZVJlc291cmNlIik7CiAgICB9KTsKICAgIHJldHVybiB1cmxzOwogIH0KICBmdW5jdGlvbiBwYXJzZU9wZXJhdGlvbjExMChvcGVyYXRpb24pIHsKICAgIGNvbnN0IHVybHMgPSB7fTsKICAgIGNvbnN0IGRjcFR5cGUgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KG9wZXJhdGlvbiwgIkRDUCIpOwogICAgY29uc3QgaHR0cCA9IGRjcFR5cGUuZmxhdE1hcCgoZCkgPT4gZmluZENoaWxkRWxlbWVudChkLCAiSFRUUCIpKTsKICAgIGNvbnN0IG1ldGhvZHMgPSBodHRwLmZsYXRNYXAoKGgpID0+IGdldENoaWxkcmVuRWxlbWVudChoKSk7CiAgICBtZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4gewogICAgICBjb25zdCBtZXRob2ROYW1lID0gc3RyaXBOYW1lc3BhY2UoZ2V0RWxlbWVudE5hbWUobWV0aG9kKSk7CiAgICAgIHVybHNbbWV0aG9kTmFtZV0gPSBnZXRFbGVtZW50QXR0cmlidXRlKG1ldGhvZCwgInhsaW5rOmhyZWYiKTsKICAgIH0pOwogICAgcmV0dXJuIHVybHM7CiAgfQogIGZ1bmN0aW9uIHBhcnNlRmVhdHVyZVR5cGUoZmVhdHVyZVR5cGVFbCwgc2VydmljZVZlcnNpb24sIGRlZmF1bHRPdXRwdXRGb3JtYXRzKSB7CiAgICBjb25zdCBzcnNUYWcgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIyLiIpID8gIkNSUyIgOiAiU1JTIjsKICAgIGNvbnN0IGRlZmF1bHRTcnNUYWcgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/ICJTUlMiIDogYERlZmF1bHQke3Nyc1RhZ31gOwogICAgZnVuY3Rpb24gcGFyc2VCQm94MTAwKCkgewogICAgICBjb25zdCBiYm94RWwgPSBmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJMYXRMb25nQm91bmRpbmdCb3giKTsKICAgICAgcmV0dXJuIFsibWlueCIsICJtaW55IiwgIm1heHgiLCAibWF4eSJdLm1hcCgobmFtZSkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIG5hbWUpKS5tYXAocGFyc2VGbG9hdCk7CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZUJCb3gyKCkgewogICAgICBjb25zdCBiYm94RWwgPSBmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJXR1M4NEJvdW5kaW5nQm94Iik7CiAgICAgIHJldHVybiBbIkxvd2VyQ29ybmVyIiwgIlVwcGVyQ29ybmVyIl0ubWFwKChlbE5hbWUpID0+IGZpbmRDaGlsZEVsZW1lbnQoYmJveEVsLCBlbE5hbWUpKS5tYXAoKGNvcm5lckVsKSA9PiBnZXRFbGVtZW50VGV4dChjb3JuZXJFbCkuc3BsaXQoIiAiKSkucmVkdWNlKChwcmV2LCBjdXJyKSA9PiBbLi4ucHJldiwgLi4uY3Vycl0pLm1hcChwYXJzZUZsb2F0KTsKICAgIH0KICAgIGNvbnN0IG90aGVyQ3JzID0gc2VydmljZVZlcnNpb24uc3RhcnRzV2l0aCgiMS4wIikgPyBbXSA6IGZpbmRDaGlsZHJlbkVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgYE90aGVyJHtzcnNUYWd9YCkubWFwKGdldEVsZW1lbnRUZXh0KS5tYXAoc2ltcGxpZnlFcHNnVXJuKTsKICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/IFtdIDogZmluZENoaWxkcmVuRWxlbWVudCgKICAgICAgZmluZENoaWxkRWxlbWVudChmZWF0dXJlVHlwZUVsLCAiT3V0cHV0Rm9ybWF0cyIpLAogICAgICAiRm9ybWF0IgogICAgKS5tYXAoZ2V0RWxlbWVudFRleHQpOwogICAgY29uc3Qga2V5d29yZHMgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIktleXdvcmRzIikpLnNwbGl0KCIsIikubWFwKChrZXl3b3JkKSA9PiBrZXl3b3JkLnRyaW0oKSkgOiBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJLZXl3b3JkcyIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KS5maWx0ZXIoKHYsIGksIGFycikgPT4gYXJyLmluZGV4T2YodikgPT09IGkpOwogICAgY29uc3QgbWV0YWRhdGEgPSBzZXJ2aWNlVmVyc2lvbiA9PT0gIjIuMC4wIiA/IGZpbmRDaGlsZHJlbkVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIk1ldGFkYXRhVVJMIikubWFwKAogICAgICAobWV0YWRhdGFVcmxFbCkgPT4gKHsKICAgICAgICB1cmw6IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0YWRhdGFVcmxFbCwgInhsaW5rOmhyZWYiKQogICAgICB9KQogICAgKSA6IGZpbmRDaGlsZHJlbkVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIk1ldGFkYXRhVVJMIikubWFwKAogICAgICAobWV0YWRhdGFVcmxFbCkgPT4gKHsKICAgICAgICBmb3JtYXQ6IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0YWRhdGFVcmxFbCwgImZvcm1hdCIpLAogICAgICAgIHR5cGU6IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0YWRhdGFVcmxFbCwgInR5cGUiKSwKICAgICAgICB1cmw6IGdldEVsZW1lbnRUZXh0KG1ldGFkYXRhVXJsRWwpLnRyaW0oKQogICAgICB9KQogICAgKTsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIk5hbWUiKSksCiAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJUaXRsZSIpKSwKICAgICAgYWJzdHJhY3Q6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIkFic3RyYWN0IikpLAogICAgICBkZWZhdWx0Q3JzOiBzaW1wbGlmeUVwc2dVcm4oCiAgICAgICAgZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChmZWF0dXJlVHlwZUVsLCBkZWZhdWx0U3JzVGFnKSkKICAgICAgKSwKICAgICAgb3RoZXJDcnMsCiAgICAgIG91dHB1dEZvcm1hdHM6IG91dHB1dEZvcm1hdHMubGVuZ3RoID4gMCA/IG91dHB1dEZvcm1hdHMgOiBkZWZhdWx0T3V0cHV0Rm9ybWF0cywKICAgICAgbGF0TG9uQm91bmRpbmdCb3g6IHNlcnZpY2VWZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpID8gcGFyc2VCQm94MTAwKCkgOiBwYXJzZUJCb3gyKCksCiAgICAgIGtleXdvcmRzLAogICAgICAuLi5tZXRhZGF0YS5sZW5ndGggJiYgeyBtZXRhZGF0YSB9CiAgICB9OwogIH0KICBmdW5jdGlvbiBwYXJzZUJCb3goeG1sRWxlbWVudCkgewogICAgY29uc3QgcmVzdWx0ID0gWyJMb3dlckNvcm5lciIsICJVcHBlckNvcm5lciJdLm1hcCgoZWxOYW1lKSA9PiBmaW5kQ2hpbGRFbGVtZW50KHhtbEVsZW1lbnQsIGVsTmFtZSkpLm1hcCgoY29ybmVyRWwpID0+IGdldEVsZW1lbnRUZXh0KGNvcm5lckVsKS5zcGxpdCgiICIpKS5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IFsuLi5wcmV2LCAuLi5jdXJyXSkubWFwKHBhcnNlRmxvYXQpOwogICAgaWYgKHJlc3VsdC5zb21lKE51bWJlci5pc05hTikpCiAgICAgIHJldHVybiBudWxsOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgZnVuY3Rpb24gcmVhZEluZm9Gcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3Qgcm9vdEVsID0gZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IHNlcnZpY2UgPSBmaW5kQ2hpbGRFbGVtZW50KHJvb3RFbCwgIlNlcnZpY2VJZGVudGlmaWNhdGlvbiIpOwogICAgY29uc3Qga2V5d29yZHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJLZXl3b3JkcyIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KTsKICAgIGNvbnN0IG1ldGFkYXRhID0gZmluZENoaWxkRWxlbWVudChyb290RWwsICJPcGVyYXRpb25zTWV0YWRhdGEiKTsKICAgIGNvbnN0IGdldFRpbGVPcGVyYXRpb24gPSBmaW5kQ2hpbGRyZW5FbGVtZW50KG1ldGFkYXRhLCAiT3BlcmF0aW9uIikuZmluZCgKICAgICAgKGVsKSA9PiBnZXRFbGVtZW50QXR0cmlidXRlKGVsLCAibmFtZSIpID09ICJHZXRUaWxlIgogICAgKTsKICAgIGNvbnN0IGdldFRpbGVVcmxzID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRUaWxlT3BlcmF0aW9uLCAiR2V0IiwgdHJ1ZSkucmVkdWNlKAogICAgICAocHJldiwgY3VycikgPT4gewogICAgICAgIGNvbnN0IGVuY29kaW5nVHlwZSA9IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChjdXJyLCAiVmFsdWUiLCB0cnVlKQogICAgICAgICk7CiAgICAgICAgY29uc3QgdXJsID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShjdXJyLCAieGxpbms6aHJlZiIpOwogICAgICAgIGlmIChlbmNvZGluZ1R5cGUudG9Mb3dlckNhc2UoKSA9PT0gInJlc3RmdWwiKQogICAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgcmVzdDogdXJsIH07CiAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwga3ZwOiB1cmwgfTsKICAgICAgfSwKICAgICAge30KICAgICk7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiVGl0bGUiKSksCiAgICAgIG5hbWU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIlNlcnZpY2VUeXBlIikpLAogICAgICBhYnN0cmFjdDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiQWJzdHJhY3QiKSksCiAgICAgIGZlZXM6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkZlZXMiKSksCiAgICAgIGNvbnN0cmFpbnRzOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJBY2Nlc3NDb25zdHJhaW50cyIpKSwKICAgICAga2V5d29yZHMsCiAgICAgIHByb3ZpZGVyOiByZWFkUHJvdmlkZXJGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYyksCiAgICAgIGdldFRpbGVVcmxzCiAgICB9OwogIH0KICBmdW5jdGlvbiByZWFkTWF0cml4U2V0c0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBmdW5jdGlvbiBwYXJzZU1hdHJpeFNldChlbGVtZW50KSB7CiAgICAgIGNvbnN0IHRvcExlZnQgPSBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJUb3BMZWZ0Q29ybmVyIikpLnNwbGl0KCIgIikubWFwKHBhcnNlRmxvYXQpOwogICAgICByZXR1cm4gewogICAgICAgIGlkZW50aWZpZXI6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIklkZW50aWZpZXIiKSksCiAgICAgICAgdGlsZVdpZHRoOiBwYXJzZUludCgKICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIlRpbGVXaWR0aCIpKQogICAgICAgICksCiAgICAgICAgdGlsZUhlaWdodDogcGFyc2VJbnQoCiAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJUaWxlSGVpZ2h0IikpCiAgICAgICAgKSwKICAgICAgICBtYXRyaXhXaWR0aDogcGFyc2VJbnQoCiAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJNYXRyaXhXaWR0aCIpKQogICAgICAgICksCiAgICAgICAgbWF0cml4SGVpZ2h0OiBwYXJzZUludCgKICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIk1hdHJpeEhlaWdodCIpKQogICAgICAgICksCiAgICAgICAgc2NhbGVEZW5vbWluYXRvcjogcGFyc2VGbG9hdCgKICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIlNjYWxlRGVub21pbmF0b3IiKSkKICAgICAgICApLAogICAgICAgIHRvcExlZnQKICAgICAgfTsKICAgIH0KICAgIGNvbnN0IGNvbnRlbnRzID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIkNvbnRlbnRzIgogICAgKTsKICAgIGNvbnN0IG1hdHJpeFNldHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGNvbnRlbnRzLCAiVGlsZU1hdHJpeFNldCIpOwogICAgcmV0dXJuIG1hdHJpeFNldHMubWFwKChlbGVtZW50KSA9PiB7CiAgICAgIGNvbnN0IHdlbGxLbm93blNjYWxlU2V0ID0gZ2V0RWxlbWVudFRleHQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiV2VsbEtub3duU2NhbGVTZXQiKQogICAgICApOwogICAgICBjb25zdCBib3VuZGluZ0JveCA9IHBhcnNlQkJveChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJCb3VuZGluZ0JveCIpKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZGVudGlmaWVyOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJJZGVudGlmaWVyIikpLAogICAgICAgIGNyczogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiU3VwcG9ydGVkQ1JTIikpLAogICAgICAgIHRpbGVNYXRyaWNlczogZmluZENoaWxkcmVuRWxlbWVudChlbGVtZW50LCAiVGlsZU1hdHJpeCIpLm1hcCgKICAgICAgICAgIHBhcnNlTWF0cml4U2V0CiAgICAgICAgKSwKICAgICAgICAuLi5ib3VuZGluZ0JveCAmJiB7IGJvdW5kaW5nQm94IH0sCiAgICAgICAgLi4ud2VsbEtub3duU2NhbGVTZXQgJiYgeyB3ZWxsS25vd25TY2FsZVNldCB9CiAgICAgIH07CiAgICB9KTsKICB9CiAgZnVuY3Rpb24gcmVhZExheWVyc0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBjb25zdCByb290RWwgPSBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3QgY29udGVudHNFbCA9IGZpbmRDaGlsZEVsZW1lbnQocm9vdEVsLCAiQ29udGVudHMiKTsKICAgIGZ1bmN0aW9uIGdldE1hdHJpeFNldENycyhjb250ZW50c0VsMiwgaWRlbnRpZmllcikgewogICAgICBjb25zdCBtYXRyaXhTZXQgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGNvbnRlbnRzRWwyLCAiVGlsZU1hdHJpeFNldCIpLmZpbmQoCiAgICAgICAgKG1hdHJpeFNldEVsKSA9PiB7CiAgICAgICAgICBjb25zdCBpZGVudGlmaWVyRWwgPSBmaW5kQ2hpbGRFbGVtZW50KG1hdHJpeFNldEVsLCAiSWRlbnRpZmllciIpOwogICAgICAgICAgcmV0dXJuIGdldEVsZW1lbnRUZXh0KGlkZW50aWZpZXJFbCkgPT09IGlkZW50aWZpZXI7CiAgICAgICAgfQogICAgICApOwogICAgICByZXR1cm4gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChtYXRyaXhTZXQsICJTdXBwb3J0ZWRDUlMiKSk7CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZU1hdHJpeFNldExpbmsoZWxlbWVudCkgewogICAgICBjb25zdCBpZGVudGlmaWVyID0gZ2V0RWxlbWVudFRleHQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiVGlsZU1hdHJpeFNldCIpCiAgICAgICk7CiAgICAgIGNvbnN0IGNycyA9IGdldE1hdHJpeFNldENycyhjb250ZW50c0VsLCBpZGVudGlmaWVyKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZGVudGlmaWVyLAogICAgICAgIGNycywKICAgICAgICBsaW1pdHM6IGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgIlRpbGVNYXRyaXhMaW1pdHMiLCB0cnVlKS5tYXAoCiAgICAgICAgICAoZWxlbWVudDIpID0+ICh7CiAgICAgICAgICAgIHRpbGVNYXRyaXg6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJUaWxlTWF0cml4IikpLAogICAgICAgICAgICBtaW5UaWxlUm93OiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWluVGlsZVJvdyIpKQogICAgICAgICAgICApLAogICAgICAgICAgICBtaW5UaWxlQ29sOiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWluVGlsZUNvbCIpKQogICAgICAgICAgICApLAogICAgICAgICAgICBtYXhUaWxlUm93OiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWF4VGlsZVJvdyIpKQogICAgICAgICAgICApLAogICAgICAgICAgICBtYXhUaWxlQ29sOiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWF4VGlsZUNvbCIpKQogICAgICAgICAgICApCiAgICAgICAgICB9KQogICAgICAgICkKICAgICAgfTsKICAgIH0KICAgIGNvbnN0IGdldFRpbGVPcGVyYXRpb24gPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KHJvb3RFbCwgIk9wZXJhdGlvbnNNZXRhZGF0YSIpLAogICAgICAiT3BlcmF0aW9uIgogICAgKS5maW5kKChlbCkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgIm5hbWUiKSA9PSAiR2V0VGlsZSIpOwogICAgY29uc3QgZ2V0S3ZwRWx0ID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRUaWxlT3BlcmF0aW9uLCAiR2V0IiwgdHJ1ZSkuZmlsdGVyKAogICAgICAoZWx0KSA9PiB7CiAgICAgICAgY29uc3QgZW5jb2RpbmdUeXBlID0gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbHQsICJWYWx1ZSIsIHRydWUpKTsKICAgICAgICByZXR1cm4gZW5jb2RpbmdUeXBlLnRvTG93ZXJDYXNlKCkgPT09ICJrdnAiOwogICAgICB9CiAgICApWzBdOwogICAgY29uc3QgZ2V0S3ZwVXJsID0gZ2V0S3ZwRWx0ID8gZ2V0RWxlbWVudEF0dHJpYnV0ZShnZXRLdnBFbHQsICJ4bGluazpocmVmIikgOiAiIjsKICAgIGNvbnN0IGNvbnRlbnRzID0gZmluZENoaWxkRWxlbWVudChyb290RWwsICJDb250ZW50cyIpOwogICAgY29uc3QgbGF5ZXJzID0gZmluZENoaWxkcmVuRWxlbWVudChjb250ZW50cywgIkxheWVyIik7CiAgICByZXR1cm4gbGF5ZXJzLm1hcCgoZWxlbWVudCkgPT4gewogICAgICBjb25zdCBsYXRMb25Cb3VuZGluZ0JveCA9IHBhcnNlQkJveCgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJXR1M4NEJvdW5kaW5nQm94IikKICAgICAgKTsKICAgICAgbGV0IGRlZmF1bHRTdHlsZSA9ICIiOwogICAgICBjb25zdCBzdHlsZXMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGVsZW1lbnQsICJTdHlsZSIpLm1hcCgoZWxlbWVudDIpID0+IHsKICAgICAgICBjb25zdCBsZWdlbmRVcmwgPSBnZXRFbGVtZW50QXR0cmlidXRlKAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50MiwgIkxlZ2VuZFVSTCIpLAogICAgICAgICAgInhsaW5rOmhyZWYiCiAgICAgICAgKTsKICAgICAgICBjb25zdCBhYnN0cmFjdCA9IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJBYnN0cmFjdCIpKTsKICAgICAgICBjb25zdCBzdHlsZSA9IHsKICAgICAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiVGl0bGUiKSksCiAgICAgICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiSWRlbnRpZmllciIpKSwKICAgICAgICAgIC4uLmFic3RyYWN0ICYmIHsgYWJzdHJhY3QgfSwKICAgICAgICAgIC4uLmxlZ2VuZFVybCAmJiB7IGxlZ2VuZFVybCB9CiAgICAgICAgfTsKICAgICAgICBpZiAoZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50MiwgImlzRGVmYXVsdCIpID09PSAidHJ1ZSIpIHsKICAgICAgICAgIGRlZmF1bHRTdHlsZSA9IHN0eWxlLm5hbWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzdHlsZTsKICAgICAgfSk7CiAgICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGVsZW1lbnQsICJGb3JtYXQiKS5tYXAoCiAgICAgICAgZ2V0RWxlbWVudFRleHQKICAgICAgKTsKICAgICAgY29uc3QgcmVzb3VyY2VMaW5rcyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoCiAgICAgICAgZWxlbWVudCwKICAgICAgICAiUmVzb3VyY2VVUkwiCiAgICAgICkuZmlsdGVyKAogICAgICAgIChlbGVtZW50MikgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50MiwgInJlc291cmNlVHlwZSIpID09PSAidGlsZSIKICAgICAgKS5tYXAoKGVsZW1lbnQyKSA9PiB7CiAgICAgICAgY29uc3QgZm9ybWF0ID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50MiwgImZvcm1hdCIpOwogICAgICAgIGNvbnN0IHVybCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoZWxlbWVudDIsICJ0ZW1wbGF0ZSIpOwogICAgICAgIHJldHVybiB7IGZvcm1hdCwgdXJsLCBlbmNvZGluZzogIlJFU1QiIH07CiAgICAgIH0pOwogICAgICBpZiAoZ2V0S3ZwVXJsKSB7CiAgICAgICAgcmVzb3VyY2VMaW5rcy5wdXNoKAogICAgICAgICAgLi4ub3V0cHV0Rm9ybWF0cy5tYXAoKGZvcm1hdCkgPT4gKHsKICAgICAgICAgICAgZW5jb2Rpbmc6ICJLVlAiLAogICAgICAgICAgICB1cmw6IGdldEt2cFVybCwKICAgICAgICAgICAgZm9ybWF0CiAgICAgICAgICB9KSkKICAgICAgICApOwogICAgICB9CiAgICAgIGNvbnN0IG1hdHJpeFNldHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGVsZW1lbnQsICJUaWxlTWF0cml4U2V0TGluayIpLm1hcCgKICAgICAgICBwYXJzZU1hdHJpeFNldExpbmsKICAgICAgKTsKICAgICAgY29uc3QgZGltZW5zaW9ucyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgIkRpbWVuc2lvbiIpLm1hcCgKICAgICAgICAoZWxlbWVudDIpID0+IHsKICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50MiwgIklkZW50aWZpZXIiKQogICAgICAgICAgKTsKICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiRGVmYXVsdCIpCiAgICAgICAgICApOwogICAgICAgICAgY29uc3QgdmFsdWVzID0gZmluZENoaWxkcmVuRWxlbWVudChlbGVtZW50MiwgIlZhbHVlcyIpLm1hcCgKICAgICAgICAgICAgZ2V0RWxlbWVudFRleHQKICAgICAgICAgICk7CiAgICAgICAgICByZXR1cm4geyBpZGVudGlmaWVyLCBkZWZhdWx0VmFsdWUsIHZhbHVlcyB9OwogICAgICAgIH0KICAgICAgKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJJZGVudGlmaWVyIikpLAogICAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJUaXRsZSIpKSwKICAgICAgICBhYnN0cmFjdDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiQWJzdHJhY3QiKSksCiAgICAgICAgc3R5bGVzLAogICAgICAgIHJlc291cmNlTGlua3MsCiAgICAgICAgbWF0cml4U2V0cywKICAgICAgICBkZWZhdWx0U3R5bGUsCiAgICAgICAgLi4ubGF0TG9uQm91bmRpbmdCb3ggJiYgeyBsYXRMb25Cb3VuZGluZ0JveCB9LAogICAgICAgIC4uLmRpbWVuc2lvbnMgJiYgeyBkaW1lbnNpb25zIH0KICAgICAgfTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBwYXJzZUZlYXR1cmVQcm9wcyhnZXRGZWF0dXJlc0RvYywgZmVhdHVyZVR5cGVGdWxsLCBzZXJ2aWNlVmVyc2lvbikgewogICAgY29uc3QgY29sbGVjdGlvbiA9IGdldFJvb3RFbGVtZW50KGdldEZlYXR1cmVzRG9jKTsKICAgIGxldCBtZW1iZXJzOwogICAgaWYgKHNlcnZpY2VWZXJzaW9uLnN0YXJ0c1dpdGgoIjIuMCIpKSB7CiAgICAgIG1lbWJlcnMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGNvbGxlY3Rpb24sICJtZW1iZXIiKS5tYXAoCiAgICAgICAgKHBhcmVudCkgPT4gZ2V0Q2hpbGRyZW5FbGVtZW50KHBhcmVudClbMF0KICAgICAgKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IG1lbWJlcnNSb290ID0gZmluZENoaWxkRWxlbWVudChjb2xsZWN0aW9uLCAiZmVhdHVyZU1lbWJlcnMiKTsKICAgICAgbWVtYmVycyA9IG1lbWJlcnNSb290ID8gZ2V0Q2hpbGRyZW5FbGVtZW50KG1lbWJlcnNSb290KSA6IGZpbmRDaGlsZHJlbkVsZW1lbnQoY29sbGVjdGlvbiwgImZlYXR1cmVNZW1iZXIiKS5tYXAoCiAgICAgICAgKHBhcmVudCkgPT4gZ2V0Q2hpbGRyZW5FbGVtZW50KHBhcmVudClbMF0KICAgICAgKTsKICAgIH0KICAgIGNvbnN0IGlkQXR0ciA9IHNlcnZpY2VWZXJzaW9uID09PSAiMS4wLjAiID8gImZpZCIgOiAiZ21sOmlkIjsKICAgIGZ1bmN0aW9uIGlzRWxlbWVudFByb3BlcnR5KHByb3BOYW1lKSB7CiAgICAgIHJldHVybiBwcm9wTmFtZSBpbiBmZWF0dXJlVHlwZUZ1bGwucHJvcGVydGllczsKICAgIH0KICAgIGZ1bmN0aW9uIHBhcnNlRWxlbWVudFByb3BlcnR5VmFsdWUocHJvcE5hbWUsIHZhbHVlQXNTdHJpbmcpIHsKICAgICAgY29uc3QgdHlwZSA9IGZlYXR1cmVUeXBlRnVsbC5wcm9wZXJ0aWVzW3Byb3BOYW1lXTsKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAiaW50ZWdlciI6CiAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWVBc1N0cmluZyk7CiAgICAgICAgY2FzZSAiZmxvYXQiOgogICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWVBc1N0cmluZyk7CiAgICAgICAgY2FzZSAiYm9vbGVhbiI6CiAgICAgICAgICByZXR1cm4gdmFsdWVBc1N0cmluZyA9PT0gInRydWUiOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gdmFsdWVBc1N0cmluZzsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gZ2V0UHJvcGVydGllcyhtZW1iZXJFbCkgewogICAgICByZXR1cm4gZ2V0Q2hpbGRyZW5FbGVtZW50KG1lbWJlckVsKS5maWx0ZXIoKGVsKSA9PiBpc0VsZW1lbnRQcm9wZXJ0eShzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShlbCkpKSkucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7CiAgICAgICAgY29uc3QgcHJvcE5hbWUgPSBzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShjdXJyKSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIC4uLnByZXYsCiAgICAgICAgICBbcHJvcE5hbWVdOiBwYXJzZUVsZW1lbnRQcm9wZXJ0eVZhbHVlKHByb3BOYW1lLCBnZXRFbGVtZW50VGV4dChjdXJyKSkKICAgICAgICB9OwogICAgICB9LCB7fSk7CiAgICB9CiAgICByZXR1cm4gbWVtYmVycy5tYXAoKGVsKSA9PiAoewogICAgICBpZDogZ2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgaWRBdHRyKSwKICAgICAgcHJvcGVydGllczogZ2V0UHJvcGVydGllcyhlbCkKICAgIH0pKTsKICB9CiAgZnVuY3Rpb24gY29tcHV0ZUZlYXR1cmVQcm9wc0RldGFpbHMoZmVhdHVyZXNXaXRoUHJvcHMpIHsKICAgIHJldHVybiBmZWF0dXJlc1dpdGhQcm9wcy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHsKICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBjdXJyLnByb3BlcnRpZXMpIHsKICAgICAgICBjb25zdCBwcm9wVmFsdWUgPSBjdXJyLnByb3BlcnRpZXNbcHJvcE5hbWVdOwogICAgICAgIGlmICghKHByb3BOYW1lIGluIHByZXYpKSB7CiAgICAgICAgICBwcmV2W3Byb3BOYW1lXSA9IHsgdW5pcXVlVmFsdWVzOiBbXSB9OwogICAgICAgIH0KICAgICAgICBjb25zdCB1bmlxdWVWYWx1ZSA9IHByZXZbcHJvcE5hbWVdLnVuaXF1ZVZhbHVlcy5maW5kKAogICAgICAgICAgKHYpID0+IHYudmFsdWUgPT09IHByb3BWYWx1ZQogICAgICAgICk7CiAgICAgICAgaWYgKHVuaXF1ZVZhbHVlKQogICAgICAgICAgdW5pcXVlVmFsdWUuY291bnQrKzsKICAgICAgICBlbHNlCiAgICAgICAgICBwcmV2W3Byb3BOYW1lXS51bmlxdWVWYWx1ZXMucHVzaCh7IHZhbHVlOiBwcm9wVmFsdWUsIGNvdW50OiAxIH0pOwogICAgICB9CiAgICAgIHJldHVybiBwcmV2OwogICAgfSwge30pOwogIH0KICBmdW5jdGlvbiBnZW5lcmF0ZUdldEZlYXR1cmVVcmwoc2VydmljZVVybCwgdmVyc2lvbiwgZmVhdHVyZVR5cGUsIG91dHB1dEZvcm1hdCwgbWF4RmVhdHVyZXMsIGF0dHJpYnV0ZXMsIGhpdHNPbmx5LCBvdXRwdXRDcnMsIGV4dGVudCwgZXh0ZW50Q3JzLCBzdGFydEluZGV4LCBzb3J0QnkpIHsKICAgIGNvbnN0IHR5cGVQYXJhbSA9IHZlcnNpb24gPT09ICIyLjAuMCIgPyAiVFlQRU5BTUVTIiA6ICJUWVBFTkFNRSI7CiAgICBjb25zdCBjb3VudFBhcmFtID0gdmVyc2lvbiA9PT0gIjIuMC4wIiA/ICJDT1VOVCIgOiAiTUFYRkVBVFVSRVMiOwogICAgY29uc3QgbmV3UGFyYW1zID0gewogICAgICBTRVJWSUNFOiAiV0ZTIiwKICAgICAgUkVRVUVTVDogIkdldEZlYXR1cmUiLAogICAgICBWRVJTSU9OOiB2ZXJzaW9uLAogICAgICBbdHlwZVBhcmFtXTogZmVhdHVyZVR5cGUKICAgIH07CiAgICBpZiAob3V0cHV0Rm9ybWF0ICE9PSB2b2lkIDApCiAgICAgIG5ld1BhcmFtcy5PVVRQVVRGT1JNQVQgPSBvdXRwdXRGb3JtYXQ7CiAgICBpZiAoYXR0cmlidXRlcyAhPT0gdm9pZCAwKQogICAgICBuZXdQYXJhbXMuUFJPUEVSVFlOQU1FID0gYXR0cmlidXRlcy5qb2luKCIsIik7CiAgICBpZiAoaGl0c09ubHkpIHsKICAgICAgbmV3UGFyYW1zLlJFU1VMVFRZUEUgPSAiaGl0cyI7CiAgICAgIG5ld1BhcmFtc1tjb3VudFBhcmFtXSA9ICIxIjsKICAgIH0gZWxzZSBpZiAobWF4RmVhdHVyZXMgIT09IHZvaWQgMCkKICAgICAgbmV3UGFyYW1zW2NvdW50UGFyYW1dID0gbWF4RmVhdHVyZXMudG9TdHJpbmcoMTApOwogICAgaWYgKG91dHB1dENycykgewogICAgICBuZXdQYXJhbXMuU1JTTkFNRSA9IG91dHB1dENyczsKICAgIH0KICAgIGlmIChleHRlbnQpIHsKICAgICAgY29uc3QgZXh0ZW50Sm9pbmVkID0gZXh0ZW50LmpvaW4oIiwiKTsKICAgICAgbmV3UGFyYW1zLkJCT1ggPSBleHRlbnRDcnMgPyBgJHtleHRlbnRKb2luZWR9LCR7ZXh0ZW50Q3JzfWAgOiBleHRlbnRKb2luZWQ7CiAgICB9CiAgICBpZiAoc3RhcnRJbmRleCkgewogICAgICBuZXdQYXJhbXMuU1RBUlRJTkRFWCA9IHN0YXJ0SW5kZXgudG9TdHJpbmcoMTApOwogICAgfQogICAgY29uc3QgdXJsID0gbmV3IFVSTChzZXRRdWVyeVBhcmFtcyhzZXJ2aWNlVXJsLCBuZXdQYXJhbXMpKTsKICAgIGlmIChBcnJheS5pc0FycmF5KHNvcnRCeSkgJiYgc29ydEJ5Lmxlbmd0aCA+IDApIHsKICAgICAgY29uc3Qgc29ydHMgPSBzb3J0QnkubWFwKChmaWVsZFNvcnQpID0+IGAke2ZpZWxkU29ydFsxXX0gJHtmaWVsZFNvcnRbMF19YCkuam9pbigiLCIpOwogICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgiU09SVEJZIiwgc29ydHMpOwogICAgfQogICAgcmV0dXJuIHVybC50b1N0cmluZygpOwogIH0KICBhZGRUYXNrSGFuZGxlcigKICAgICJwYXJzZVdtc0NhcGFiaWxpdGllcyIsCiAgICBnbG9iYWxUaGlzLAogICAgKHsgdXJsIH0pID0+IHF1ZXJ5WG1sRG9jdW1lbnQodXJsKS50aGVuKCh4bWxEb2MpID0+IGNoZWNrKHhtbERvYywgdXJsKSkudGhlbigoeG1sRG9jKSA9PiAoewogICAgICBpbmZvOiByZWFkSW5mb0Zyb21DYXBhYmlsaXRpZXMkMih4bWxEb2MpLAogICAgICBsYXllcnM6IHJlYWRMYXllcnNGcm9tQ2FwYWJpbGl0aWVzJDEoeG1sRG9jKSwKICAgICAgdXJsOiByZWFkT3BlcmF0aW9uVXJsc0Zyb21DYXBhYmlsaXRpZXMkMSh4bWxEb2MpLAogICAgICB2ZXJzaW9uOiByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMkMSh4bWxEb2MpCiAgICB9KSkKICApOwogIGFkZFRhc2tIYW5kbGVyKAogICAgInBhcnNlV2ZzQ2FwYWJpbGl0aWVzIiwKICAgIGdsb2JhbFRoaXMsCiAgICAoeyB1cmwgfSkgPT4gcXVlcnlYbWxEb2N1bWVudCh1cmwpLnRoZW4oKHhtbERvYykgPT4gY2hlY2soeG1sRG9jLCB1cmwpKS50aGVuKCh4bWxEb2MpID0+ICh7CiAgICAgIGluZm86IHJlYWRJbmZvRnJvbUNhcGFiaWxpdGllcyQxKHhtbERvYyksCiAgICAgIGZlYXR1cmVUeXBlczogcmVhZEZlYXR1cmVUeXBlc0Zyb21DYXBhYmlsaXRpZXMoeG1sRG9jKSwKICAgICAgdXJsOiByZWFkT3BlcmF0aW9uVXJsc0Zyb21DYXBhYmlsaXRpZXMoeG1sRG9jKSwKICAgICAgdmVyc2lvbjogcmVhZFZlcnNpb25Gcm9tQ2FwYWJpbGl0aWVzKHhtbERvYykKICAgIH0pKQogICk7CiAgYWRkVGFza0hhbmRsZXIoCiAgICAicXVlcnlXZnNGZWF0dXJlVHlwZURldGFpbHMiLAogICAgZ2xvYmFsVGhpcywKICAgICh7CiAgICAgIHVybCwKICAgICAgc2VydmljZVZlcnNpb24sCiAgICAgIGZlYXR1cmVUeXBlRnVsbAogICAgfSkgPT4gewogICAgICBjb25zdCBnZXRGZWF0dXJlVXJsID0gZ2VuZXJhdGVHZXRGZWF0dXJlVXJsKAogICAgICAgIHVybCwKICAgICAgICBzZXJ2aWNlVmVyc2lvbiwKICAgICAgICBmZWF0dXJlVHlwZUZ1bGwubmFtZSwKICAgICAgICB2b2lkIDAsCiAgICAgICAgdm9pZCAwLAogICAgICAgIE9iamVjdC5rZXlzKGZlYXR1cmVUeXBlRnVsbC5wcm9wZXJ0aWVzKQogICAgICApOwogICAgICByZXR1cm4gcXVlcnlYbWxEb2N1bWVudChnZXRGZWF0dXJlVXJsKS50aGVuKChnZXRGZWF0dXJlRG9jKSA9PiAoewogICAgICAgIHByb3BzOiBjb21wdXRlRmVhdHVyZVByb3BzRGV0YWlscygKICAgICAgICAgIHBhcnNlRmVhdHVyZVByb3BzKGdldEZlYXR1cmVEb2MsIGZlYXR1cmVUeXBlRnVsbCwgc2VydmljZVZlcnNpb24pCiAgICAgICAgKQogICAgICB9KSk7CiAgICB9CiAgKTsKICBhZGRUYXNrSGFuZGxlcigKICAgICJ1cGRhdGVGZXRjaE9wdGlvbnMiLAogICAgZ2xvYmFsVGhpcywKICAgICh7IG9wdGlvbnMgfSkgPT4gewogICAgICBzZXRGZXRjaE9wdGlvbnMob3B0aW9ucyk7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe30pOwogICAgfQogICk7CiAgYWRkVGFza0hhbmRsZXIoCiAgICAicGFyc2VXbXRzQ2FwYWJpbGl0aWVzIiwKICAgIGdsb2JhbFRoaXMsCiAgICAoeyB1cmwgfSkgPT4gcXVlcnlYbWxEb2N1bWVudCh1cmwpLnRoZW4oKHhtbERvYykgPT4gY2hlY2soeG1sRG9jLCB1cmwpKS50aGVuKCh4bWxEb2MpID0+ICh7CiAgICAgIGluZm86IHJlYWRJbmZvRnJvbUNhcGFiaWxpdGllcyh4bWxEb2MpLAogICAgICBsYXllcnM6IHJlYWRMYXllcnNGcm9tQ2FwYWJpbGl0aWVzKHhtbERvYyksCiAgICAgIG1hdHJpeFNldHM6IHJlYWRNYXRyaXhTZXRzRnJvbUNhcGFiaWxpdGllcyh4bWxEb2MpCiAgICB9KSkKICApOwp9KSgpOwo=",blob="undefined"!=typeof window&&window.Blob&&new Blob([atob(encodedJs)],{type:"text/javascript;charset=utf-8"});function WorkerWrapper(options){let objURL;try{if(objURL=blob&&(window.URL||window.webkitURL).createObjectURL(blob),!objURL)throw"";const worker=new Worker(objURL,{name:null==options?void 0:options.name});return worker.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(objURL)}),worker}catch(e){return new Worker("data:text/javascript;base64,"+encodedJs,{name:null==options?void 0:options.name})}finally{objURL&&(window.URL||window.webkitURL).revokeObjectURL(objURL)}}let workerInstance,fallbackWithoutWorker=!1;function getWorkerInstance(){return fallbackWithoutWorker?null:(workerInstance||(workerInstance=new WorkerWrapper),workerInstance)}function getTypeFromXsdType(xsdType){switch(xsdType.indexOf(":")>-1?xsdType.substr(xsdType.indexOf(":")+1):xsdType){case"string":default:return"string";case"boolean":return"boolean";case"float":case"double":case"decimal":return"float";case"long":case"byte":case"integer":case"int":case"positiveInteger":case"negativeInteger":case"nonPositiveInteger":case"nonNegativeInteger":case"short":case"unsignedLong":case"unsignedInt":case"unsignedShort":case"unsignedByte":return"integer"}}!function setFetchOptionsUpdateCallback(callback){fetchOptionsUpdateCallback=callback}(options=>{getWorkerInstance()&&sendTaskRequest("updateFetchOptions",getWorkerInstance(),{options})});let cachePromise;function getCache(){return void 0!==cachePromise?cachePromise:"caches"in globalThis?(cachePromise=caches.open("ogc-client").catch(e=>(console.info("[ogc-client] Cache could not be accessed for the following reason:",e),null)),cachePromise):(cachePromise=Promise.resolve(null),cachePromise)}function _storeCacheEntry(){return(_storeCacheEntry=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(object,...keys){const cache=yield getCache();if(!cache)return;const entryUrl="https://cache/"+keys.join("/");try{yield cache.put(entryUrl,new Response(JSON.stringify(object),{headers:{"x-expiry":(Date.now()+36e5).toString(10)}}))}catch(e){console.info("[ogc-client] Caching failed once for the following reason and will not be retried:",e),cachePromise=Promise.resolve(null)}})).apply(this,arguments)}function _hasValidCacheEntry(){return(_hasValidCacheEntry=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(...keys){const cache=yield getCache();if(!cache)return;const entryUrl="https://cache/"+keys.join("/");return cache.match(entryUrl).then(req=>!!req&&parseInt(req.headers.get("x-expiry"))>Date.now())})).apply(this,arguments)}function _readCacheEntry(){return(_readCacheEntry=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(...keys){const cache=yield getCache();if(!cache)return;const entryUrl="https://cache/"+keys.join("/"),response=yield cache.match(entryUrl);return response?response.clone().json():null})).apply(this,arguments)}const tasksMap=new Map;function useCache(_x4){return _useCache.apply(this,arguments)}function _useCache(){return _useCache=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(factory,...keys){if(yield function purgeOutdatedEntries(){return _purgeOutdatedEntries.apply(this,arguments)}(),yield function hasValidCacheEntry(){return _hasValidCacheEntry.apply(this,arguments)}(...keys))return function readCacheEntry(){return _readCacheEntry.apply(this,arguments)}(...keys);const taskKey=keys.join("#");if(tasksMap.has(taskKey))return tasksMap.get(taskKey);const taskRun=factory();taskRun instanceof Promise&&(taskRun.then(()=>tasksMap.delete(taskKey)),tasksMap.set(taskKey,taskRun));const result=yield taskRun;return yield function storeCacheEntry(_x3){return _storeCacheEntry.apply(this,arguments)}(result,...keys),result}),_useCache.apply(this,arguments)}function _purgeOutdatedEntries(){return(_purgeOutdatedEntries=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(){const cache=yield getCache();if(!cache)return;const keys=yield cache.keys();for(const key of keys){const resp=yield cache.match(key);parseInt(resp.headers.get("x-expiry"))<=Date.now()&&(yield cache.delete(key))}})).apply(this,arguments)}function generateGetFeatureUrl(serviceUrl,version,featureType,outputFormat,maxFeatures,attributes,hitsOnly,outputCrs,extent,extentCrs,startIndex,sortBy){const typeParam="2.0.0"===version?"TYPENAMES":"TYPENAME",countParam="2.0.0"===version?"COUNT":"MAXFEATURES",newParams={SERVICE:"WFS",REQUEST:"GetFeature",VERSION:version,[typeParam]:featureType};if(void 0!==outputFormat&&(newParams.OUTPUTFORMAT=outputFormat),void 0!==attributes&&(newParams.PROPERTYNAME=attributes.join(",")),hitsOnly?(newParams.RESULTTYPE="hits",newParams[countParam]="1"):void 0!==maxFeatures&&(newParams[countParam]=maxFeatures.toString(10)),outputCrs&&(newParams.SRSNAME=outputCrs),extent){const extentJoined=extent.join(",");newParams.BBOX=extentCrs?`${extentJoined},${extentCrs}`:extentJoined}startIndex&&(newParams.STARTINDEX=startIndex.toString(10));const url=new URL(setQueryParams(serviceUrl,newParams));if(Array.isArray(sortBy)&&sortBy.length>0){const sorts=sortBy.map(fieldSort=>`${fieldSort[1]} ${fieldSort[0]}`).join(",");url.searchParams.set("SORTBY",sorts)}return url.toString()}function isMimeTypeJson(mimeType){return mimeType.toLowerCase().indexOf("json")>-1}function isMimeTypeGeoJson(mimeType){return/geo.?json/.test(mimeType)}function isMimeTypeJsonFg(mimeType){return/json.?fg|fg.?json/.test(mimeType)}class WfsEndpoint{constructor(url){__publicField(this,"_capabilitiesUrl"),__publicField(this,"_capabilitiesPromise"),__publicField(this,"_info"),__publicField(this,"_featureTypes"),__publicField(this,"_url"),__publicField(this,"_version"),this._capabilitiesUrl=setQueryParams(url,{SERVICE:"WFS",REQUEST:"GetCapabilities"}),this._capabilitiesPromise=useCache(()=>function parseWfsCapabilities(capabilitiesUrl){return sendTaskRequest("parseWfsCapabilities",getWorkerInstance(),{url:capabilitiesUrl})}(this._capabilitiesUrl),"WFS","CAPABILITIES",this._capabilitiesUrl).then(({info,featureTypes,url:url2,version})=>{this._info=info,this._featureTypes=featureTypes,this._url=url2,this._version=version})}isReady(){return this._capabilitiesPromise.then(()=>this)}getServiceInfo(){return this._info}getFeatureTypes(){return this._featureTypes.map(featureType=>({name:featureType.name,..."title"in featureType&&{title:featureType.title},..."abstract"in featureType&&{abstract:featureType.abstract},..."latLonBoundingBox"in featureType&&{boundingBox:featureType.latLonBoundingBox}}))}_getFeatureTypeByName(name){if(!this._featureTypes)return null;const isQualified=stripNamespace(name)!==name;return this._featureTypes.find(featureType=>isQualified?featureType.name===name:stripNamespace(featureType.name)===name)||null}getFeatureTypeSummary(name){const featureType=this._getFeatureTypeByName(name);return featureType?{name:featureType.name,..."title"in featureType&&{title:featureType.title},..."abstract"in featureType&&{abstract:featureType.abstract},..."latLonBoundingBox"in featureType&&{boundingBox:featureType.latLonBoundingBox},defaultCrs:featureType.defaultCrs,otherCrs:featureType.otherCrs,outputFormats:featureType.outputFormats,keywords:featureType.keywords,..."metadata"in featureType&&{metadata:featureType.metadata}}:null}getFeatureTypeFull(name){const featureType=this._getFeatureTypeByName(name);return featureType?useCache(()=>{const describeUrl=function generateDescribeFeatureTypeUrl(serviceUrl,version,featureType){const typeParam="2.0.0"===version?"TYPENAMES":"TYPENAME";return setQueryParams(serviceUrl,{SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:version,[typeParam]:featureType})}(this.getOperationUrl("DescribeFeatureType"),this._version,name),getFeatureUrl=generateGetFeatureUrl(this.getOperationUrl("GetFeature"),this._version,name,void 0,void 0,void 0,!0);return Promise.all([queryXmlDocument(describeUrl),queryXmlDocument(getFeatureUrl)]).then(([describeResponse,getFeatureResponse])=>function parseFeatureTypeInfo(featureType,describeFeatureTypeDoc,getFeatureHitsDoc,serviceVersion){const{name,title,abstract,defaultCrs,otherCrs,outputFormats,latLonBoundingBox:boundingBox,keywords,metadata}=featureType,hitsAttr=serviceVersion.startsWith("2.0")?"numberMatched":"numberOfFeatures",objectCount=parseInt(getElementAttribute(getRootElement(getFeatureHitsDoc),hitsAttr)),complexTypeEl=findChildrenElement(getRootElement(describeFeatureTypeDoc),"complexType",!0)[0],typeElementsEls=findChildrenElement(complexTypeEl,"element",!0),properties=typeElementsEls.filter(el=>/^xsd:|^xs:/.test(getElementAttribute(el,"type"))).reduce((prev,curr)=>({...prev,[getElementAttribute(curr,"name")]:getTypeFromXsdType(getElementAttribute(curr,"type"))}),{}),geomEl=typeElementsEls.filter(el=>getElementAttribute(el,"type").startsWith("gml:"))[0],geometryName=geomEl?getElementAttribute(geomEl,"name"):void 0,geometryType=geomEl?function getGeomTypeFromGmlType(gmlType){switch(gmlType.indexOf(":")>-1?gmlType.substr(gmlType.indexOf(":")+1):gmlType){case"PointPropertyType":return"point";case"MultiPointPropertyType":return"multipoint";case"CurvePropertyType":case"LineStringPropertyType":case"MultiCurvePropertyType":case"MultiLineStringPropertyType":return"linestring";case"PolygonPropertyType":case"SurfacePropertyType":return"polygon";case"MultiPolygonPropertyType":case"MultiSurfacePropertyType":return"multipolygon";default:return"unknown"}}(getElementAttribute(geomEl,"type")):void 0;return{name,...title&&{title},...abstract&&{abstract},...boundingBox&&{boundingBox},...defaultCrs&&{defaultCrs},...otherCrs&&{otherCrs},...outputFormats&&{outputFormats},properties,...geometryName&&{geometryName},...geometryType&&{geometryType},...!Number.isNaN(objectCount)&&{objectCount},...keywords&&{keywords},...metadata&&{metadata}}}(featureType,describeResponse,getFeatureResponse,this._version))},"WFS","FEATURETYPEINFO",this._capabilitiesUrl,name):null}getSingleFeatureTypeName(){return this._featureTypes&&1===this._featureTypes.length?this._featureTypes[0].name:null}getFeatureTypePropDetails(name){var _this=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(){const featureTypeFull=yield _this.getFeatureTypeFull(name);return null===featureTypeFull?null:useCache(()=>function queryWfsFeatureTypeDetails(capabilitiesUrl,serviceVersion,featureTypeFull){return sendTaskRequest("queryWfsFeatureTypeDetails",getWorkerInstance(),{url:capabilitiesUrl,serviceVersion,featureTypeFull})}(_this._capabilitiesUrl,_this._version,featureTypeFull).then(result=>result.props),"WFS","FEATURETYPEPROPDETAILS",_this._capabilitiesUrl,name)})()}getVersion(){return this._version}_getJsonCompatibleOutputFormat(featureType){const featureTypeInfo=this._getFeatureTypeByName(featureType);if(!featureTypeInfo)throw new Error(`The following feature type was not found in the service: ${featureType}`);const candidates=featureTypeInfo.outputFormats.filter(isMimeTypeJson);return candidates.length?candidates[0]:null}supportsJson(featureType){return this._featureTypes?!!this._getJsonCompatibleOutputFormat(featureType):null}supportsStartIndex(){return!!this._version&&this._version>="2.0.0"}getFeatureUrl(featureType,options){if(!this._featureTypes)return null;const{maxFeatures,asJson,outputFormat,outputCrs,extent,extentCrs,startIndex,attributes,hitsOnly}=options||{},internalFeatureType=this._getFeatureTypeByName(featureType);if(!internalFeatureType)throw new Error(`The following feature type was not found in the service: ${featureType}`);let format=outputFormat;if(asJson){if(format=this._getJsonCompatibleOutputFormat(featureType)||void 0,!format)throw new Error(`The endpoint does not appear to support GeoJSON for the feature type ${internalFeatureType.name}`)}else outputFormat&&-1===internalFeatureType.outputFormats.indexOf(outputFormat)&&console.warn(`[ogc-client] The following output format type was not found in the feature type ${internalFeatureType.name}: ${outputFormat}`);return generateGetFeatureUrl(this.getOperationUrl("GetFeature"),this._version,internalFeatureType.name,format,maxFeatures,attributes,hitsOnly,outputCrs,extent,extentCrs,startIndex)}getCapabilitiesUrl(){const baseUrl=this.getOperationUrl("GetCapabilities");return baseUrl?setQueryParams(baseUrl,{SERVICE:"WMS",REQUEST:"GetCapabilities"}):this._capabilitiesUrl}getOperationUrl(operationName,method="Get"){var _a;return this._url?null==(_a=this._url[operationName])?void 0:_a[method]:null}}class WmsEndpoint{constructor(url){__publicField(this,"_capabilitiesUrl"),__publicField(this,"_capabilitiesPromise"),__publicField(this,"_info"),__publicField(this,"_layers"),__publicField(this,"_url"),__publicField(this,"_version"),this._capabilitiesUrl=setQueryParams(url,{SERVICE:"WMS",REQUEST:"GetCapabilities"}),this._capabilitiesPromise=useCache(()=>function parseWmsCapabilities(capabilitiesUrl){return sendTaskRequest("parseWmsCapabilities",getWorkerInstance(),{url:capabilitiesUrl})}(this._capabilitiesUrl),"WMS","CAPABILITIES",this._capabilitiesUrl).then(({info,layers,url:url2,version})=>{this._info=info,this._layers=layers,this._url=url2,this._version=version})}isReady(){return this._capabilitiesPromise.then(()=>this)}getServiceInfo(){return this._info}getLayers(){return this._layers.map(function layerSummaryMapper(layerFull){return{title:layerFull.title,name:layerFull.name,abstract:layerFull.abstract,..."children"in layerFull&&{children:layerFull.children.map(layerSummaryMapper)}}})}getFlattenedLayers(){return this.getLayers().flatMap(wmsLayerFlatten)}getLayerByName(name){let result=null;return this._layers.map(function layerLookup(layer){null===result&&(layer.name!==name?"children"in layer&&layer.children.map(layerLookup):result=layer)}),result}getSingleLayerName(){if(!this._layers)return null;const layers=[];return this._layers.map(function layerLookup(layer){layer.name&&layers.push(layer),"children"in layer&&layer.children.map(layerLookup)}),1===layers.length?layers[0].name:null}getVersion(){return this._version}getMapUrl(layers,options){if(!this._layers)return null;const{widthPx,heightPx,crs,extent,outputFormat,styles}=options;return function generateGetMapUrl(serviceUrl,version,layers,widthPx,heightPx,crs,extent,outputFormat,styles){const crsParam="1.3.0"===version?"CRS":"SRS",newParams={SERVICE:"WMS",REQUEST:"GetMap",VERSION:version,LAYERS:layers,STYLES:styles??""};return newParams.WIDTH=widthPx.toString(),newParams.HEIGHT=heightPx.toString(),newParams.FORMAT=outputFormat??"image/png",newParams[crsParam]=crs,newParams.BBOX=extent.join(","),setQueryParams(serviceUrl,newParams)}(this.getOperationUrl("GetMap")||this._capabilitiesUrl,this._version,layers.join(","),widthPx,heightPx,crs,extent,outputFormat,void 0!==styles?styles.join(","):"")}getCapabilitiesUrl(){const baseUrl=this.getOperationUrl("GetCapabilities");return baseUrl?setQueryParams(baseUrl,{SERVICE:"WMS",REQUEST:"GetCapabilities"}):this._capabilitiesUrl}getOperationUrl(operationName,method="Get"){var _a;return this._url?null==(_a=this._url[operationName])?void 0:_a[method]:null}}function wmsLayerFlatten(layerFull){const layer={title:layerFull.title,name:layerFull.name,abstract:layerFull.abstract};return"children"in layerFull&&Array.isArray(layerFull.children)?[layer,...layerFull.children.flatMap(wmsLayerFlatten)]:[layer]}class WmtsEndpoint{constructor(url){__publicField(this,"_capabilitiesPromise"),__publicField(this,"_info",null),__publicField(this,"_layers",null),__publicField(this,"_matrixSets",null),__publicField(this,"tileGridModule");const capabilitiesUrl=setQueryParams(url,{SERVICE:"WMTS",REQUEST:"GetCapabilities"});this._capabilitiesPromise=useCache(()=>function parseWmtsCapabilities(capabilitiesUrl){return sendTaskRequest("parseWmtsCapabilities",getWorkerInstance(),{url:capabilitiesUrl})}(capabilitiesUrl),"WMTS","CAPABILITIES",capabilitiesUrl).then(({info,layers,matrixSets})=>{this._info=info,this._layers=layers,this._matrixSets=matrixSets})}isReady(){return this._capabilitiesPromise.then(()=>this)}getServiceInfo(){return this._info}getLayers(){return this._layers}getMatrixSets(){return this._matrixSets}getMatrixSetByIdentifier(identifier){return this._matrixSets?this._matrixSets.find(matrixSet=>matrixSet.identifier===identifier)??null:null}getLayerByName(name){return this._layers?this._layers.find(layer=>layer.name===name)??null:null}getSingleLayerName(){return this._layers&&1===this._layers.length?this._layers[0].name:null}getLayerResourceLink(layerName,formatHint){if(!this._layers)return null;const layer=this.getLayerByName(layerName);let resourceLinkIndex=0;formatHint&&(resourceLinkIndex=layer.resourceLinks.findIndex(resourceLink2=>resourceLink2.format===formatHint)||0);const resourceLink=layer.resourceLinks[resourceLinkIndex];return formatHint&&resourceLink.format!==formatHint&&console.warn(`[ogc-client] Requested '${formatHint}' format for the WMTS layer but it is not available in REST encoding, falling back to '${resourceLink.format}'`),resourceLink}getTileUrl(layerName,styleName,matrixSetName,tileMatrix,tileRow,tileCol,outputFormat){if(!this._layers)return null;const resourceLink=this.getLayerResourceLink(layerName,outputFormat);return function generateGetTileUrl(baseUrl,requestEncoding,layerName,styleName,matrixSetName,tileMatrix,tileRow,tileCol,outputFormat){const context={layer:layerName,style:styleName,tilematrixset:matrixSetName,Service:"WMTS",Request:"GetTile",Format:outputFormat,TileMatrix:tileMatrix,TileCol:tileCol.toString(),TileRow:tileRow.toString()};if("REST"===requestEncoding){let url=baseUrl;for(const key in context)url=url.replace(new RegExp(`{${key}}`,"ig"),context[key]);return url}return setQueryParams(baseUrl,context)}(resourceLink.url,resourceLink.encoding,layerName,styleName,matrixSetName,tileMatrix,tileRow,tileCol,resourceLink.format)}getDefaultDimensions(layerName){if(!this._layers)return null;const layer=this.getLayerByName(layerName);return layer.dimensions?layer.dimensions.reduce((prev,curr)=>({...prev,[curr.identifier]:curr.defaultValue}),{}):{}}getOpenLayersTileGrid(layerName,matrixSetIdentifier){if(!this._layers)return null;this.tileGridModule||(this.tileGridModule=Promise.all([__webpack_require__.e(5726),__webpack_require__.e(1280),__webpack_require__.e(3306)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@camptocamp/ogc-client/dist/assets/ol-tilegrid-A-MnSF5Y.js")).catch(e=>(console.warn("[ogc-client] Cannot use getOpenLayersTileGrid, the 'ol' package is probably not available.\n",e),null)));const layer=this.getLayerByName(layerName),matrixSetLink=layer.matrixSets.find(matrixSet2=>matrixSet2.identifier===matrixSetIdentifier)??layer.matrixSets[0],matrixSet=this.getMatrixSetByIdentifier(matrixSetLink.identifier);return this.tileGridModule.then(olTileGridModule=>olTileGridModule?olTileGridModule.buildOpenLayersTileGrid(matrixSet,matrixSetLink.limits):null)}}const CollectionParameterTypes=["string","number","integer","date","point","linestring","polygon","geometry"];function getBaseUrl(url){return url&&"string"==typeof url?new URL(url):"location"in globalThis&&"object"==typeof globalThis.location?globalThis.location.toString():new URL("http://localhost")}function getParentPath(url){const urlObj=new URL(url,getBaseUrl());let pathParts=urlObj.pathname.split("/");return pathParts.length<=2?null:(""===pathParts[pathParts.length-1]&&(pathParts=pathParts.slice(0,-1)),pathParts=pathParts.slice(0,-1),2===pathParts.length&&""!==pathParts[1]&&pathParts.push(""),urlObj.pathname=pathParts.join("/"),urlObj.toString())}function fetchDocument(url){const urlObj=new URL(url,getBaseUrl());return urlObj.searchParams.set("f","json"),sharedFetch(urlObj.toString(),"GET",!0).then(resp=>{if(!resp.ok)throw new Error(`The document at ${urlObj} could not be fetched.`);return resp.clone().json().catch(e=>{throw new Error(`The document at ${urlObj} does not appear to be valid JSON. Error was: ${e.message}`)})})}function checkIsLandingPage(doc){return hasLinks(doc,["service-doc","service-desc"])&&hasLinks(doc,["conformance","http://www.opengis.net/def/rel/ogc/1.0/conformance"])}function fetchRoot$1(url){return fetchDocument(url).then(doc=>{if(!checkIsLandingPage(doc)){const parentUrl=getParentPath(url);if(!parentUrl)throw new Error("Could not find a root JSON document containing both a link with rel='data' and a link with rel='service-desc' (or 'service-doc').");return fetchRoot$1(parentUrl)}return doc})}function fetchCollectionRoot(url){return fetchDocument(url).then(doc=>{if(checkIsLandingPage(doc))return null;let parentUrl=getParentPath(url);if(hasLinks(doc,["items"]))return doc;if("collections"in doc){const urlObj=new URL(parentUrl);urlObj.pathname.endsWith("/")||(urlObj.pathname=`${urlObj.pathname}/`),parentUrl=urlObj.toString()}return fetchCollectionRoot(parentUrl)})}function getLinks$1(doc,relType,mimeType,assertPresence){var _a;let links=(null==(_a=doc.links)?void 0:_a.filter(link=>Array.isArray(relType)?relType.indexOf(link.rel)>-1:link.rel===relType))||[];if(mimeType&&(links=links.filter(link=>link.type===mimeType)),assertPresence&&0===links.length){if(!mimeType)throw new EndpointError(`Was expecting at least one link of type '${relType}' but could not find any`);throw new EndpointError(`Was expecting at least one link of type '${relType}' with mime type '${mimeType}' but could not find any`)}return links}function getLinkUrl$1(doc,relType,baseUrl,mimeType,assertPresence){const link=getLinks$1(doc,relType,mimeType,assertPresence)[0];return link?new URL(link.href,getBaseUrl(baseUrl)).toString():null}function fetchLink$1(_x5,_x6,_x7){return _fetchLink$.apply(this,arguments)}function _fetchLink$(){return(_fetchLink$=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(doc,relType,baseUrl){return fetchDocument(getLinkUrl$1(doc,relType,baseUrl,void 0,!0))})).apply(this,arguments)}function hasLinks(doc,relType){return!!getLinkUrl$1(doc,relType)}function assertHasLinks(doc,relType){if(!hasLinks(doc,relType))throw new EndpointError(`Could not find link with type: ${relType}`)}function parseEndpointInfo$1(rootDoc){try{assertHasLinks(rootDoc,["service-doc","service-desc"]),assertHasLinks(rootDoc,["conformance","http://www.opengis.net/def/rel/ogc/1.0/conformance"])}catch(e){throw new EndpointError(`The endpoint appears non-conforming, the following error was encountered:\n${e.message}`)}return{title:rootDoc.title,description:rootDoc.description,attribution:rootDoc.attribution}}function parseConformance$1(doc){return doc.conformsTo}function checkTileConformance(conformance){return conformance.indexOf("http://www.opengis.net/spec/ogcapi-tiles-1/1.0/conf/core")>-1}function checkStyleConformance(conformance){return conformance.indexOf("http://www.opengis.net/spec/ogcapi-styles-1/0.0/conf/core")>-1||conformance.indexOf("http://www.opengis.net/spec/ogcapi-styles-1/1.0/conf/core")>-1}function checkHasRecords([collections,conformance]){return(["http://www.opengis.net/spec/ogcapi-records-1/1.0/conf/record-core","http://www.opengis.net/spec/ogcapi-records-1/1.0/conf/record-collection","http://www.opengis.net/spec/ogcapi-records-1/1.0/conf/record-api"].every(confClass=>conformance.indexOf(confClass)>-1)||conformance.indexOf("http://www.opengis.net/spec/ogcapi-records-1/1.0/conf/core")>-1)&&collections.some(collection=>"record"===collection.itemType)}function checkHasFeatures([collections,conformance]){return conformance.indexOf("http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/core")>-1&&collections.some(collection=>"feature"===collection.itemType||!collection.itemType)}function checkHasEnvironmentalDataRetrieval([conformance]){return conformance.indexOf("http://www.opengis.net/spec/ogcapi-edr-1/1.0/conf/core")>-1}function parseCollectionParameters(doc){return"properties"in doc&&"object"==typeof doc.properties?Object.keys(doc.properties).map(name=>{const prop=doc.properties[name];let type="string";if("string"==typeof prop.$ref){const schemaRef=prop.$ref.toLowerCase();schemaRef.indexOf("point")>-1?type="point":schemaRef.indexOf("linestring")>-1?type="linestring":schemaRef.indexOf("polygon")>-1?type="polygon":schemaRef.indexOf("geometry")>-1&&(type="geometry")}else"string"==typeof prop.type&&CollectionParameterTypes.indexOf(prop.type.toLowerCase())>-1&&(type=prop.type.toLowerCase());return{name,type,..."string"==typeof prop.title&&{title:prop.title}}}):Array.isArray(doc)?doc.map(prop=>({name:prop,type:"string"})):[]}function parseTileMatrixSets(doc){return Array.isArray(doc.tileMatrixSets)?doc.tileMatrixSets.map(set=>({id:set.id,uri:set.uri})):[]}function parseBasicStyleInfo(doc){return{formats:doc.links.filter(link=>"stylesheet"===link.rel).map(link=>link.type).filter(type=>"text/html"!==type),id:doc.id,...doc.title&&{title:doc.title}}}function parseCollections(doc){return doc.collections.map(collection=>{const result={name:collection.id};return"record"===collection.itemType&&(result.hasRecords=!0),"feature"!==collection.itemType&&collection.itemType||(result.hasFeatures=!0),collection.links.some(link=>"http://www.opengis.net/def/rel/ogc/1.0/tilesets-vector"===link.rel)&&(result.hasVectorTiles=!0),collection.links.some(link=>"http://www.opengis.net/def/rel/ogc/1.0/tilesets-map"===link.rel)&&(result.hasMapTiles=!0),collection.data_queries&&(result.hasDataQueries=!0),result})}function DateTimeParameterToEDRString(param){const format=d=>d.toISOString();if(param instanceof Date)return format(param);if("start"in param&&"end"in param)return`${format(param.start)}/${format(param.end)}`;if("start"in param)return`${format(param.start)}/..`;if("end"in param)return`../${format(param.end)}`;throw new Error("Invalid DateTimeParameter")}function zParameterToString(z){switch(z.type){case"single":return`${z.level}`;case"interval":return`${z.minLevel}/${z.maxLevel}`;case"list":return z.levels.join(",");case"repeating":return`R${z.repeat}/${z.minLevel}/${z.step}`}}class EDRQueryBuilder{constructor(collection){if(__publicField(this,"supported_query_types"),__publicField(this,"supported_parameters",{}),__publicField(this,"supported_crs",[]),__publicField(this,"links",[]),this.collection=collection,!collection.data_queries)throw new Error("No data queries found, so cannot issue EDR queries");this.supported_query_types={area:void 0!==collection.data_queries.area,locations:void 0!==collection.data_queries.locations,cube:void 0!==collection.data_queries.cube,trajectory:void 0!==collection.data_queries.trajectory,corridor:void 0!==collection.data_queries.corridor,radius:void 0!==collection.data_queries.radius,position:void 0!==collection.data_queries.position,instances:void 0!==collection.data_queries.instances},this.supported_parameters=collection.parameter_names,this.supported_crs=collection.crs,this.links=collection.links,this.collection=collection}get supported_queries(){const queries=new Set;for(const[key,value]of Object.entries(this.supported_query_types))value&&queries.add(key);return queries}buildPositionDownloadUrl(coords,optional_params={}){var _a,_b;if(!this.supported_query_types.position)throw new Error("Collection does not support position queries");const url=new URL(null==(_b=null==(_a=this.collection.data_queries)?void 0:_a.position)?void 0:_b.link.href);if(url.searchParams.set("coords",coords),void 0!==optional_params.z&&url.searchParams.set("z",zParameterToString(optional_params.z)),void 0!==optional_params.datetime&&url.searchParams.set("datetime",DateTimeParameterToEDRString(optional_params.datetime)),optional_params.parameter_name){for(const parameter of optional_params.parameter_name)if(!this.supported_parameters[parameter])throw new Error(`The following parameter name does not exist on this collection: '${parameter}'.`);url.searchParams.set("parameter-name",optional_params.parameter_name.join(","))}if(void 0!==optional_params.crs){if(!this.supported_crs.includes(optional_params.crs))throw new Error(`The following crs does not exist on this collection: '${optional_params.crs}'.`);url.searchParams.set("crs",optional_params.crs)}return void 0!==optional_params.f&&url.searchParams.set("f",optional_params.f),url.toString()}buildRadiusDownloadUrl(coords,within,within_units,optional_params={}){var _a,_b;if(!this.supported_query_types.radius)throw new Error("Collection does not support radius queries");const url=new URL(null==(_b=null==(_a=this.collection.data_queries)?void 0:_a.radius)?void 0:_b.link.href);if(url.searchParams.set("coords",coords),url.searchParams.set("within",within.toString()),url.searchParams.set("within-units",within_units),void 0!==optional_params.z&&url.searchParams.set("z",zParameterToString(optional_params.z)),void 0!==optional_params.datetime&&url.searchParams.set("datetime",DateTimeParameterToEDRString(optional_params.datetime)),null!=optional_params.parameter_name){for(const parameter of optional_params.parameter_name)if(!this.supported_parameters[parameter])throw new Error(`The following parameter name does not exist on this collection: '${parameter}'.`);url.searchParams.set("parameter-name",optional_params.parameter_name.join(","))}if(void 0!==optional_params.crs){if(!this.supported_crs.includes(optional_params.crs))throw new Error(`The following crs does not exist on this collection: '${optional_params.crs}'.`);url.searchParams.set("crs",optional_params.crs)}return void 0!==optional_params.f&&url.searchParams.set("f",optional_params.f),url.toString()}buildAreaDownloadUrl(coords,optional_params={}){var _a,_b;if(!this.supported_query_types.area)throw new Error("Collection does not support area queries");const url=new URL(null==(_b=null==(_a=this.collection.data_queries)?void 0:_a.area)?void 0:_b.link.href);if(url.searchParams.set("coords",coords),void 0!==optional_params.z&&url.searchParams.set("z",zParameterToString(optional_params.z)),void 0!==optional_params.datetime&&url.searchParams.set("datetime",DateTimeParameterToEDRString(optional_params.datetime)),optional_params.parameter_name){for(const param of optional_params.parameter_name)if(!this.supported_parameters[param])throw new Error(`The following parameter name does not exist on this collection: '${param}'.`);url.searchParams.set("parameter-name",optional_params.parameter_name.join(","))}if(void 0!==optional_params.crs){if(!this.supported_crs.includes(optional_params.crs))throw new Error(`The following crs does not exist on this collection: '${optional_params.crs}'.`);url.searchParams.set("crs",optional_params.crs)}return void 0!==optional_params.f&&url.searchParams.set("f",optional_params.f),url.toString()}buildCubeDownloadUrl(bbox,optional_params={}){var _a,_b;if(!this.supported_query_types.cube)throw new Error("Collection does not support cube queries");if(bbox.minX>bbox.maxX)throw new Error("minX must be less than or equal to maxX");if(bbox.minY>bbox.maxY)throw new Error("minY must be less than or equal to maxY");if("minZ"in bbox&&"maxZ"in bbox&&bbox.minZ>bbox.maxZ)throw new Error("minZ must be less than or equal to maxZ");const url=new URL(null==(_b=null==(_a=this.collection.data_queries)?void 0:_a.cube)?void 0:_b.link.href);let bboxAsString;if(bboxAsString="minZ"in bbox&&"maxZ"in bbox?`${bbox.minX},${bbox.minY},${bbox.minZ},${bbox.maxX},${bbox.maxY},${bbox.maxZ}`:`${bbox.minX},${bbox.minY},${bbox.maxX},${bbox.maxY}`,url.searchParams.set("bbox",bboxAsString),void 0!==optional_params.z&&url.searchParams.set("z",zParameterToString(optional_params.z)),void 0!==optional_params.datetime&&url.searchParams.set("datetime",DateTimeParameterToEDRString(optional_params.datetime)),optional_params.parameter_name){for(const parameter of optional_params.parameter_name)if(!this.supported_parameters[parameter])throw new Error(`The following parameter name does not exist on this collection: '${parameter}'.`);url.searchParams.set("parameter-name",optional_params.parameter_name.join(","))}if(void 0!==optional_params.crs){if(!this.supported_crs.includes(optional_params.crs))throw new Error(`The following crs does not exist on this collection: '${optional_params.crs}'.`);url.searchParams.set("crs",optional_params.crs)}return void 0!==optional_params.f&&url.searchParams.set("f",optional_params.f),url.toString()}buildTrajectoryDownloadUrl(coords,optional_params={}){var _a,_b;if(!this.supported_query_types.trajectory)throw new Error("Collection does not support trajectory queries");const url=new URL(null==(_b=null==(_a=this.collection.data_queries)?void 0:_a.trajectory)?void 0:_b.link.href);if(url.searchParams.set("coords",coords),void 0!==optional_params.z&&url.searchParams.set("z",zParameterToString(optional_params.z)),void 0!==optional_params.datetime&&url.searchParams.set("datetime",DateTimeParameterToEDRString(optional_params.datetime)),optional_params.parameter_name){for(const parameter of optional_params.parameter_name)if(!this.supported_parameters[parameter])throw new Error(`The following parameter name does not exist on this collection: '${parameter}'.`);url.searchParams.set("parameter-name",optional_params.parameter_name.join(","))}if(void 0!==optional_params.crs){if(!this.supported_crs.includes(optional_params.crs))throw new Error(`The following crs does not exist on this collection: '${optional_params.crs}'.`);url.searchParams.set("crs",optional_params.crs)}return void 0!==optional_params.f&&url.searchParams.set("f",optional_params.f),url.toString()}buildCorridorDownloadUrl(coords,corridor_width,width_units,corridor_height,height_units,optional_params={}){var _a,_b;if(!this.supported_query_types.corridor)throw new Error("Collection does not support corridor queries");const url=new URL(null==(_b=null==(_a=this.collection.data_queries)?void 0:_a.corridor)?void 0:_b.link.href);if(url.searchParams.set("coords",coords),url.searchParams.set("corridor-width",corridor_width.toString()),url.searchParams.set("width-units",width_units),url.searchParams.set("corridor-height",corridor_height.toString()),url.searchParams.set("height-units",height_units.toString()),void 0!==optional_params.z&&url.searchParams.set("z",zParameterToString(optional_params.z)),void 0!==optional_params.datetime&&url.searchParams.set("datetime",DateTimeParameterToEDRString(optional_params.datetime)),optional_params.parameter_name){for(const parameter of optional_params.parameter_name)if(!this.supported_parameters[parameter])throw new Error(`The following parameter name does not exist on this collection: '${parameter}'.`);url.searchParams.set("parameter-name",optional_params.parameter_name.join(","))}if(void 0!==optional_params.resolution_x&&url.searchParams.set("resolution-x",optional_params.resolution_x),void 0!==optional_params.resolution_y&&url.searchParams.set("resolution-y",optional_params.resolution_y),void 0!==optional_params.resolution_z&&url.searchParams.set("resolution-z",optional_params.resolution_z),void 0!==optional_params.crs){if(!this.supported_crs.includes(optional_params.crs))throw new Error(`The following crs does not exist on this collection: '${optional_params.crs}'.`);url.searchParams.set("crs",optional_params.crs)}return void 0!==optional_params.f&&url.searchParams.set("f",optional_params.f),url.toString()}buildLocationsDownloadUrl(optional_params={}){var _a,_b;if(!this.supported_query_types.locations)throw new Error("Collection does not support location queries");const url=new URL(null==(_b=null==(_a=this.collection.data_queries)?void 0:_a.locations)?void 0:_b.link.href);if(void 0!==optional_params.locationId&&url.searchParams.set("locationId",optional_params.locationId),void 0!==optional_params.parameter_name){for(const parameter of optional_params.parameter_name)if(!this.supported_parameters[parameter])throw new Error(`The following parameter name does not exist on this collection: '${parameter}'.`);url.searchParams.set("parameter-name",optional_params.parameter_name.join(","))}if(void 0!==optional_params.datetime&&url.searchParams.set("datetime",DateTimeParameterToEDRString(optional_params.datetime)),void 0!==optional_params.crs){if(!this.supported_crs.includes(optional_params.crs))throw new Error(`The following crs does not exist on this collection: '${optional_params.crs}'.`);url.searchParams.set("crs",optional_params.crs)}return void 0!==optional_params.f&&url.searchParams.set("f",optional_params.f),url.toString()}buildInstancesDownloadUrl(){var _a,_b;return null==(_b=null==(_a=this.collection.data_queries)?void 0:_a.instances)?void 0:_b.link.href}}class OgcApiEndpoint{constructor(baseUrl){__publicField(this,"root_"),__publicField(this,"conformance_"),__publicField(this,"data_"),__publicField(this,"tileMatrixSetsFull_"),__publicField(this,"styles_"),__publicField(this,"collection_id_to_edr_builder_",new Map),this.baseUrl=baseUrl}get root(){return this.root_||(this.root_=fetchRoot$1(this.baseUrl).catch(e=>{throw new Error(`The endpoint appears non-conforming, the following error was encountered:\n${e.message}`)})),this.root_}get conformance(){return this.conformance_||(this.conformance_=this.root.then(root=>fetchLink$1(root,["conformance","http://www.opengis.net/def/rel/ogc/1.0/conformance"],this.baseUrl))),this.conformance_}get collectionsUrl(){return this.root.then(root=>getLinkUrl$1(root,["data","http://www.opengis.net/def/rel/ogc/1.0/data"],this.baseUrl))}get data(){var _this2=this;return this.data_||(this.data_=this.collectionsUrl.then(url=>url?fetchDocument(url).then(function(){var _ref3=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(data){const singleCollection=yield fetchCollectionRoot(_this2.baseUrl);return null!==singleCollection&&Array.isArray(data.collections)&&(data.collections=data.collections.filter(collection=>collection.id===singleCollection.id)),data});return function(_x8){return _ref3.apply(this,arguments)}}()):null)),this.data_}get tileMatrixSetsFull(){var _this3=this;return this.tileMatrixSetsFull_||(this.tileMatrixSetsFull_=this.root.then(function(){var _ref4=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(root){return(yield _this3.hasTiles)?fetchLink$1(root,["http://www.opengis.net/def/rel/ogc/1.0/tiling-schemes"],_this3.baseUrl).then(parseTileMatrixSets):[]});return function(_x9){return _ref4.apply(this,arguments)}}())),this.tileMatrixSetsFull_}get styles(){var _this4=this;return this.styles_||(this.styles_=this.root.then(function(){var _ref5=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(root){if(yield _this4.hasStyles)return fetchLink$1(root,["styles","http://www.opengis.net/def/rel/ogc/1.0/styles"],_this4.baseUrl)});return function(_x0){return _ref5.apply(this,arguments)}}())),this.styles_}get info(){return this.root.then(parseEndpointInfo$1)}get conformanceClasses(){return this.conformance.then(parseConformance$1)}get allCollections(){return this.data.then(dataDocument=>dataDocument?parseCollections(dataDocument):[])}get recordCollections(){return Promise.all([this.data,this.hasRecords]).then(([data,hasRecords])=>hasRecords?data:{collections:[]}).then(parseCollections).then(collections=>collections.filter(c=>c.hasRecords)).then(collections=>collections.map(collection=>collection.name))}get featureCollections(){return Promise.all([this.data,this.hasFeatures]).then(([data,hasFeatures])=>hasFeatures?data:{collections:[]}).then(parseCollections).then(collections=>collections.filter(c=>c.hasFeatures)).then(collections=>collections.map(collection=>collection.name))}get edrCollections(){return Promise.all([this.data,this.hasEnvironmentalDataRetrieval]).then(([data,hasEDR])=>hasEDR?data:{collections:[]}).then(parseCollections).then(collections=>collections.filter(c=>c.hasDataQueries)).then(collections=>collections.map(collection=>collection.name))}get vectorTileCollections(){return Promise.all([this.data,this.hasTiles]).then(([data,hasTiles])=>hasTiles?data:{collections:[]}).then(parseCollections).then(collections=>collections.filter(collection=>collection.hasVectorTiles)).then(collections=>collections.map(collection=>collection.name))}get mapTileCollections(){return Promise.all([this.data,this.hasTiles]).then(([data,hasTiles])=>hasTiles?data:{collections:[]}).then(parseCollections).then(collections=>collections.filter(collection=>collection.hasMapTiles)).then(collections=>collections.map(collection=>collection.name))}get hasTiles(){return this.conformanceClasses.then(checkTileConformance)}get hasStyles(){return this.conformanceClasses.then(checkStyleConformance)}get hasFeatures(){return Promise.all([this.data.then(data=>data?data.collections:[]),this.conformanceClasses]).then(checkHasFeatures)}get hasRecords(){return Promise.all([this.data.then(data=>data?data.collections:[]),this.conformanceClasses]).then(checkHasRecords)}get hasEnvironmentalDataRetrieval(){return Promise.all([this.conformanceClasses]).then(checkHasEnvironmentalDataRetrieval)}edr(collection_id){var _this5=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(){if(!_this5.hasEnvironmentalDataRetrieval)throw new EndpointError("Endpoint does not support EDR");const cache=_this5.collection_id_to_edr_builder_;if(cache.has(collection_id))return cache.get(collection_id);const collection=yield _this5.getCollectionInfo(collection_id),result=new EDRQueryBuilder(collection);return cache.set(collection_id,result),result})()}get tileMatrixSets(){return this.tileMatrixSetsFull.then(sets=>sets.map(set=>set.id))}getCollectionDocument(collectionId){var _this6=this;return Promise.all([this.allCollections,this.data]).then(([collections,data])=>{if(!collections.find(collection=>collection.name===collectionId))throw new EndpointError(`Collection not found: ${collectionId}`);return data.collections.find(collection=>collection.id===collectionId)}).then(function(){var _ref6=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(collection){return hasLinks(collection,["self"])?fetchLink$1(collection,"self",_this6.baseUrl):fetchDocument(function getChildPath(url,childFragment){const urlObj=new URL(url,getBaseUrl());return urlObj.pathname.endsWith("/")?urlObj.pathname+=childFragment:urlObj.pathname+=`/${childFragment}`,urlObj.toString()}(yield _this6.collectionsUrl,collectionId))});return function(_x1){return _ref6.apply(this,arguments)}}())}getStyleMetadataDocument(styleId,collectionId){var _this7=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(){var _a;const doc=collectionId?yield _this7.getCollectionDocument(collectionId):yield _this7.root,stylesLinkJson=getLinkUrl$1(doc,["styles","http://www.opengis.net/def/rel/ogc/1.0/styles"],_this7.baseUrl,"application/json"),stylesLink=getLinkUrl$1(doc,["styles","http://www.opengis.net/def/rel/ogc/1.0/styles"],_this7.baseUrl),styleData=yield fetchDocument(stylesLinkJson??stylesLink);if(!styleData.styles.some(style=>style.id===styleId))throw new EndpointError(`Style not found: "${styleId}".`);const styleDoc=null==(_a=null==styleData?void 0:styleData.styles)?void 0:_a.find(style=>style.id===styleId);return hasLinks(styleDoc,["describedby"])?fetchLink$1(styleDoc,"describedby",_this7.baseUrl):styleDoc})()}getCollectionInfo(collectionId){var _this8=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(){const collectionDoc=yield _this8.getCollectionDocument(collectionId),baseInfo=function parseBaseCollectionInfo(doc){const{links,...props}=doc,itemFormats=links.filter(link=>"items"===link.rel).map(link=>link.type),enclosureLinks=links.filter(link=>"enclosure"===link.rel).reduce((acc,link)=>(acc[link.type]=link.href,acc),{}),bulkDownloadLinks={...links.filter(link=>"items"===link.rel&&"text/html"!==link.type).map(link=>{const url=new URL(link.href);return url.searchParams.set("limit","10000"),{...link,href:url.toString()}}).reduce((acc,link)=>(acc[link.type]=link.href,acc),{}),...enclosureLinks},mimeTypes=Object.keys(bulkDownloadLinks),jsonMimeType=mimeTypes.find(isMimeTypeJsonFg)||mimeTypes.find(isMimeTypeGeoJson)||mimeTypes.find(isMimeTypeJson);return{itemFormats,bulkDownloadLinks,jsonDownloadLink:jsonMimeType?bulkDownloadLinks[jsonMimeType]:null,...props}}(collectionDoc),[queryables,sortables,tilesetsVector,tilesetsMap]=yield Promise.all([fetchLink$1(collectionDoc,["queryables","http://www.opengis.net/def/rel/ogc/1.0/queryables"],_this8.baseUrl).then(parseCollectionParameters).catch(()=>[]),fetchLink$1(collectionDoc,["sortables","http://www.opengis.net/def/rel/ogc/1.0/sortables"],_this8.baseUrl).then(parseCollectionParameters).catch(()=>[]),fetchLink$1(collectionDoc,["http://www.opengis.net/def/rel/ogc/1.0/tilesets-vector"],_this8.baseUrl).then(tilesetDoc=>tilesetDoc.tilesets).catch(()=>[]),fetchLink$1(collectionDoc,["http://www.opengis.net/def/rel/ogc/1.0/tilesets-map"],_this8.baseUrl).then(tilesetDoc=>tilesetDoc.tilesets).catch(()=>[])]),tileMatrixSetsFull=yield _this8.tileMatrixSetsFull,supportedTileMatrixSets=tilesetsVector.map(tileset=>{var _a;return null==(_a=tileMatrixSetsFull.find(set=>set.uri===tileset.tileMatrixSetURI))?void 0:_a.id}).filter(Boolean),firstTilesetVector=tilesetsVector[0];let vectorTileFormats=[];if(firstTilesetVector){const tilesetUrl=getLinkUrl$1(firstTilesetVector,"self",_this8.baseUrl,void 0,!0);vectorTileFormats=getLinks$1(yield fetchDocument(tilesetUrl),"item").map(link=>link.type)}const firstTilesetMap=tilesetsMap[0];let mapTileFormats=[];if(firstTilesetMap){const tilesetUrl=getLinkUrl$1(firstTilesetMap,"self",_this8.baseUrl,void 0,!0);mapTileFormats=getLinks$1(yield fetchDocument(tilesetUrl),"item").map(link=>link.type)}return{...baseInfo,queryables,sortables,mapTileFormats,vectorTileFormats,supportedTileMatrixSets}})()}getCollectionItems(collectionId,limit=10,offset=0,skipGeometry=null,sortBy=null,boundingBox=null,properties=null,dateTime=null,query=null){return this.getCollectionItemsUrl(collectionId,{extent:boundingBox,limit:null!==limit?limit:void 0,offset:null!==offset?offset:void 0,skipGeometry:null!==skipGeometry?skipGeometry:void 0,sortBy:null!==sortBy?sortBy:void 0,properties:null!==properties?properties:void 0,dateTime:null!==dateTime?dateTime:void 0,query:null!==query?query:void 0,asJson:!0}).then(fetchDocument).then(doc=>doc.features)}getCollectionItem(collectionId,itemId){return this.getCollectionDocument(collectionId).then(collectionDoc=>{const url=new URL(getLinkUrl$1(collectionDoc,"items",this.baseUrl),getBaseUrl());return url.pathname+=`/${itemId}`,url.toString()}).then(fetchDocument)}getCollectionItemsUrl(collectionId,options={}){return this.getCollectionDocument(collectionId).then(collectionDoc=>{var _a;const baseUrl=this.baseUrl||"",itemLinks=getLinks$1(collectionDoc,"items",void 0,!0);let url,linkWithFormat=itemLinks.find(link=>link.type===(null==options?void 0:options.outputFormat));if(options.asJson&&(linkWithFormat=itemLinks.find(link=>isMimeTypeJsonFg(link.type))||itemLinks.find(link=>isMimeTypeGeoJson(link.type))||itemLinks.find(link=>isMimeTypeJson(link.type))),(null==options?void 0:options.outputFormat)&&!linkWithFormat?(console.warn(`[ogc-client] The following output format type was not found in the collection '${collectionId}': ${options.outputFormat}`),url=new URL(itemLinks[0].href,baseUrl),url.searchParams.set("f",options.outputFormat)):url=linkWithFormat?new URL(linkWithFormat.href,baseUrl):new URL(itemLinks[0].href,baseUrl),void 0!==options.limit&&url.searchParams.set("limit",options.limit.toString()),void 0!==options.offset&&url.searchParams.set("offset",options.offset.toString()),void 0!==options.skipGeometry&&url.searchParams.set("skipGeometry",options.skipGeometry.toString()),void 0!==options.sortBy&&url.searchParams.set("sortby",options.sortBy.join(",").toString()),void 0!==options.properties&&url.searchParams.set("properties",options.properties.join(",").toString()),void 0!==options.dateTime){const dateTime=options.dateTime;url.searchParams.set("datetime",dateTime instanceof Date?dateTime.toISOString():`${"start"in dateTime?dateTime.start.toISOString():".."}/${"end"in dateTime?dateTime.end.toISOString():".."}`)}return void 0!==options.outputCrs&&url.searchParams.set("crs",options.outputCrs),(null==(_a=options.extent)?void 0:_a.length)>0&&url.searchParams.set("bbox",options.extent.join(",").toString()),void 0!==options.extentCrs&&url.searchParams.set("bbox-crs",options.extentCrs),void 0!==options.query&&(url.search+=(url.search?"&":"")+encodeURI(options.query)),url.toString()}).catch(error=>{throw console.error("Error fetching collection items URL:",error),error})}getVectorTilesetUrl(collectionId,tileMatrixSet="WebMercatorQuad"){var _this9=this;return this.getCollectionDocument(collectionId).then(function(){var _ref7=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(collectionDoc){const collectionTilesLink=getLinkUrl$1(collectionDoc,"http://www.opengis.net/def/rel/ogc/1.0/tilesets-vector",_this9.baseUrl),collectionTiles=yield fetchDocument(collectionTilesLink),matrixSet=(yield _this9.tileMatrixSetsFull).find(set=>set.id===tileMatrixSet);if(!matrixSet)throw new Error(`The following tile matrix set does not exist on this endpoint: '${tileMatrixSet}'.`);const tileset=collectionTiles.tilesets.find(tileset2=>tileset2.tileMatrixSetURI===matrixSet.uri);if(!tileset)throw new Error(`The collection '${collectionId}' does not support the tile matrix set '${tileMatrixSet}'.`);const tilesetUrl=getLinkUrl$1(tileset,"self",_this9.baseUrl);if(!tilesetUrl)throw new Error("No links found for the tileset");return tilesetUrl});return function(_x10){return _ref7.apply(this,arguments)}}()).catch(error=>{throw console.error("Error fetching collection tileset URL:",error.message),error})}getMapTilesetUrl(collectionId,tileMatrixSet="WebMercatorQuad"){var _this0=this;return this.getCollectionDocument(collectionId).then(function(){var _ref8=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(collectionDoc){const collectionTilesLink=getLinkUrl$1(collectionDoc,"http://www.opengis.net/def/rel/ogc/1.0/tilesets-map",_this0.baseUrl),collectionTiles=yield fetchDocument(collectionTilesLink),matrixSet=(yield _this0.tileMatrixSetsFull).find(set=>set.id===tileMatrixSet);if(!matrixSet)throw new Error(`The following tile matrix set does not exist on this endpoint: '${tileMatrixSet}'.`);const tileset=collectionTiles.tilesets.find(tileset2=>tileset2.tileMatrixSetURI===matrixSet.uri);if(!tileset)throw new Error(`The collection '${collectionId}' does not support the tile matrix set '${tileMatrixSet}'.`);const tilesetUrl=getLinkUrl$1(tileset,"self",_this0.baseUrl);if(!tilesetUrl)throw new Error("No links found for the tileset");return tilesetUrl});return function(_x11){return _ref8.apply(this,arguments)}}()).catch(error=>{throw console.error("Error fetching collection tileset URL:",error.message),error})}allStyles(collectionId){var _this1=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(){const stylesLink=getLinkUrl$1(collectionId?yield _this1.getCollectionDocument(collectionId):yield _this1.root,["styles","http://www.opengis.net/def/rel/ogc/1.0/styles"],_this1.baseUrl,void 0,!0);return(yield fetchDocument(stylesLink)).styles.map(parseBasicStyleInfo)})()}getStyle(styleId,collectionId){var _this10=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(){const metadataDoc=yield _this10.getStyleMetadataDocument(styleId,collectionId);return(null==metadataDoc?void 0:metadataDoc.stylesheets)?function parseFullStyleInfo(doc){var _a;const{stylesheets,links,...props}=doc,stylesheetFormats=null==(_a=null==stylesheets?void 0:stylesheets.filter(stylesheet=>"stylesheet"===stylesheet.link.rel))?void 0:_a.map(stylesheet=>stylesheet.link.type);return{...stylesheetFormats&&{stylesheetFormats},...stylesheets&&{stylesheets},...props}}(metadataDoc):parseBasicStyleInfo(metadataDoc)})()}getStylesheetUrl(styleId,mimeType,collectionId){var _this11=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(){var _a,_b,_c;const stylesDoc=yield _this11.getStyleMetadataDocument(styleId,collectionId);return stylesDoc.stylesheets?null==(_c=null==(_b=null==(_a=null==stylesDoc?void 0:stylesDoc.stylesheets)?void 0:_a.find(s=>s.link.type===mimeType&&"stylesheet"===s.link.rel))?void 0:_b.link)?void 0:_c.href:getLinkUrl$1(stylesDoc,"stylesheet",_this11.baseUrl,mimeType,!0)})()}}function extractEndpointInfo(serviceData){return{title:serviceData.title,abstract:serviceData.abstract,keywords:serviceData.keywords}}function extractTileMapReferences(serviceData){return serviceData.tileMaps||[]}function fetchXml(_x12){return _fetchXml.apply(this,arguments)}function _fetchXml(){return(_fetchXml=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(url){const urlObj=new URL(url,getBaseUrl()),resp=yield sharedFetch(urlObj.toString(),"GET",!0);if(!resp.ok)throw new Error(`The document at ${urlObj} could not be fetched.`);return parseXmlString(yield resp.clone().text())})).apply(this,arguments)}function fetchRoot(_x13){return _fetchRoot.apply(this,arguments)}function _fetchRoot(){return(_fetchRoot=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(url,currentDepth=0){if(currentDepth>3)throw new Error("Maximum recursion depth reached while searching for TMS root document.");const xmlDoc=yield fetchXml(url);if("TileMapService"===getRootElement(xmlDoc).name)return function parseTileMapServiceXML(xmlDoc){var _a,_b;const root=getRootElement(xmlDoc),title=(null==(_a=getElementText(findChildElement(root,"Title")))?void 0:_a.trim())||"",abstract=(null==(_b=getElementText(findChildElement(root,"Abstract")))?void 0:_b.trim())||"",version=getElementAttribute(root,"version")||"",keywordList=findChildElement(root,"KeywordList"),keywords=keywordList?[getElementText(keywordList).trim()]:[],tileMapsContainer=findChildElement(root,"TileMaps"),tileMaps=[];if(tileMapsContainer){const tileMapEls=findChildrenElement(tileMapsContainer,"TileMap");tileMaps.push(...tileMapEls.map(el=>({title:getElementAttribute(el,"title")||"",srs:getElementAttribute(el,"srs")||"",profile:getElementAttribute(el,"profile")||"",href:getElementAttribute(el,"href")||""})))}return{title,abstract,version,keywords,tileMaps}}(xmlDoc);const parentUrl=getParentPath(url);if(!parentUrl||parentUrl===url)throw new Error("Could not find a valid TMS root document with a <TileMapService> element.");return fetchRoot(parentUrl,currentDepth+1)})).apply(this,arguments)}function fetchTileMapResourceXML(_x14){return _fetchTileMapResourceXML.apply(this,arguments)}function _fetchTileMapResourceXML(){return(_fetchTileMapResourceXML=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(url,currentDepth=0){if(currentDepth>3)throw new Error("Maximum recursion depth reached while searching for TMS TileMap document.");const xmlDoc=yield fetchXml(url),root=getRootElement(xmlDoc);if("TileMapService"===root.name)return null;if("TileMap"===root.name)return function parseTileMapXML(xmlDoc){var _a,_b,_c,_d;const root=getRootElement(xmlDoc),title=(null==(_a=getElementText(findChildElement(root,"Title")))?void 0:_a.trim())||"",abstract=(null==(_b=getElementText(findChildElement(root,"Abstract")))?void 0:_b.trim())||"",version=getElementAttribute(root,"version")||"",tileMapService=getElementAttribute(root,"tilemapservice")||"",srs=(null==(_c=getElementText(findChildElement(root,"SRS")))?void 0:_c.trim())||"",bbEl=findChildElement(root,"BoundingBox"),boundingBox=[parseFloat(getElementAttribute(bbEl,"minx")||"0"),parseFloat(getElementAttribute(bbEl,"miny")||"0"),parseFloat(getElementAttribute(bbEl,"maxx")||"0"),parseFloat(getElementAttribute(bbEl,"maxy")||"0")],originEl=findChildElement(root,"Origin"),origin={x:parseFloat(getElementAttribute(originEl,"x")||"0"),y:parseFloat(getElementAttribute(originEl,"y")||"0")},tfEl=findChildElement(root,"TileFormat"),tileFormat={width:parseInt(getElementAttribute(tfEl,"width")||"0"),height:parseInt(getElementAttribute(tfEl,"height")||"0"),mimeType:getElementAttribute(tfEl,"mime-type")||"",extension:getElementAttribute(tfEl,"extension")||""},tmEl=findChildElement(root,"TileMap"),tileSetsEl=findChildElement(root,"TileSets"),tileSets=[];let profile="none";if(tileSetsEl&&(profile=getElementAttribute(tileSetsEl,"profile")||"none"),tmEl){profile=profile||getElementAttribute(tmEl,"profile")||"none";const tileSetEls=findChildrenElement(tmEl,"TileSet");tileSets.push(...tileSetEls.map(el=>({href:getElementAttribute(el,"href")||"",unitsPerPixel:parseFloat(getElementAttribute(el,"units-per-pixel")||"0"),order:parseInt(getElementAttribute(el,"order")||"0"),minrow:parseInt(getElementAttribute(el,"minrow")||"0"),maxrow:parseInt(getElementAttribute(el,"maxrow")||"0"),mincol:parseInt(getElementAttribute(el,"mincol")||"0"),maxcol:parseInt(getElementAttribute(el,"maxcol")||"0")})))}if(tileSetsEl){const tileSetEls=findChildrenElement(tileSetsEl,"TileSet");tileSets.push(...tileSetEls.map(el=>({href:getElementAttribute(el,"href")||"",unitsPerPixel:parseFloat(getElementAttribute(el,"units-per-pixel")||"0"),order:parseInt(getElementAttribute(el,"order")||"0"),minrow:parseInt(getElementAttribute(el,"minrow")||"0"),maxrow:parseInt(getElementAttribute(el,"maxrow")||"0"),mincol:parseInt(getElementAttribute(el,"mincol")||"0"),maxcol:parseInt(getElementAttribute(el,"maxcol")||"0")})))}const metadata=findChildrenElement(root,"Metadata").map(el=>({type:getElementAttribute(el,"type")||"",mimeType:getElementAttribute(el,"mime-type")||"",href:getElementAttribute(el,"href")||""}));let attribution=null;const attrEl=findChildElement(root,"Attribution");if(attrEl){attribution={title:(null==(_d=getElementText(findChildElement(attrEl,"Title")))?void 0:_d.trim())||"",logo:null};const logoEl=findChildElement(attrEl,"Logo");logoEl&&(attribution.logo={width:parseInt(getElementAttribute(logoEl,"width")||"0"),height:parseInt(getElementAttribute(logoEl,"height")||"0"),href:getElementAttribute(logoEl,"href")||"",mimeType:getElementAttribute(logoEl,"mime-type")||""})}const kwEl=findChildElement(root,"KeywordList"),keywords=kwEl?[getElementText(kwEl).trim()]:[],wmcEl=findChildElement(root,"WebMapContext"),webMapContext=wmcEl&&getElementAttribute(wmcEl,"href")||"";return{title,abstract,version,tileMapService,srs,boundingBox,origin,tileFormat,profile,tileSets,metadata:metadata.length?metadata:void 0,attribution:attribution||void 0,webMapContext:webMapContext||void 0,keywords:keywords.length?keywords:void 0}}(xmlDoc);const parentUrl=getParentPath(url);if(!parentUrl)throw new Error("Could not find a valid TileMap document.");return fetchTileMapResourceXML(parentUrl,currentDepth+1)})).apply(this,arguments)}function normalizeUrl(url){try{const urlObj=new URL(url,getBaseUrl());return urlObj.pathname.endsWith("/")||(urlObj.pathname+="/"),urlObj.hostname=urlObj.hostname.toLowerCase(),urlObj.toString()}catch(err){return url}}class TmsEndpoint{constructor(baseUrl){__publicField(this,"_serviceData"),__publicField(this,"_filteredData"),__publicField(this,"_tileMapServiceInfo"),__publicField(this,"_tileMaps"),this.baseUrl=baseUrl}get serviceData(){return this._serviceData||(this._serviceData=fetchRoot(this.baseUrl)),this._serviceData}get filteredData(){var _this12=this;return this._filteredData||(this._filteredData=this.serviceData.then(function(){var _ref9=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(serviceData){var _a;return(yield fetchTileMapResourceXML(_this12.baseUrl))?{...serviceData,tileMaps:null==(_a=serviceData.tileMaps)?void 0:_a.filter(tileMap=>normalizeUrl(tileMap.href)===normalizeUrl(_this12.baseUrl))}:serviceData});return function(_x15){return _ref9.apply(this,arguments)}}())),this._filteredData}get tileMapServiceInfo(){return this._tileMapServiceInfo||(this._tileMapServiceInfo=this.serviceData.then(extractEndpointInfo)),this._tileMapServiceInfo}get allTileMaps(){return this._tileMaps||(this._tileMaps=this.filteredData.then(extractTileMapReferences)),this._tileMaps}getTileMapInfo(href){return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(){const tileMapInfo=yield fetchTileMapResourceXML(href);if(!tileMapInfo)throw new Error(`TileMap resource not found for URL: ${href}`);return tileMapInfo})()}}function fetchStacDocument(url,acceptType){const urlObj=new URL(url,getBaseUrl());return sharedFetch(urlObj.toString(),"GET",!acceptType,acceptType).then(resp=>{if(!resp.ok)throw new Error(`The document at ${urlObj} could not be fetched.`);return resp.clone().json().catch(e=>{throw new Error(`The document at ${urlObj} does not appear to be valid JSON. Error was: ${e.message}`)})})}function getLinks(doc,relType,mimeType,assertPresence){return getLinks$1(doc,relType,mimeType,assertPresence)}function getLinkUrl(doc,relType,baseUrl,mimeType,assertPresence){return getLinkUrl$1(doc,relType,baseUrl,mimeType,assertPresence)}function _fetchLink(){return(_fetchLink=(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(doc,relType,baseUrl,mimeType){const url=getLinkUrl(doc,relType,baseUrl,mimeType);if(!url){const relStr=Array.isArray(relType)?relType.join(", "):relType;throw new EndpointError(`No link found with rel type: ${relStr}${mimeType?` and mime type: ${mimeType}`:""}`)}return fetchStacDocument(url)})).apply(this,arguments)}function parseEndpointInfo(rootDoc){if(!rootDoc.id)throw new EndpointError('Root document is missing required "id" field');if(!rootDoc.description)throw new EndpointError('Root document is missing required "description" field');if(!rootDoc.stac_version)throw new EndpointError('Root document is missing required "stac_version" field');return{id:rootDoc.id,title:rootDoc.title,description:rootDoc.description,stacVersion:rootDoc.stac_version,conformsTo:rootDoc.conformsTo}}function parseStacCatalog(doc){if(!doc.stac_version)throw new EndpointError('Document is missing "stac_version" field');if("Catalog"!==doc.type)throw new EndpointError(`Expected type "Catalog" but got "${doc.type}"`);if(!doc.id)throw new EndpointError('Document is missing "id" field');if(!doc.description)throw new EndpointError('Document is missing "description" field');if(!doc.links||!Array.isArray(doc.links))throw new EndpointError('Document is missing "links" array');return{stac_version:doc.stac_version,stac_extensions:doc.stac_extensions,type:"Catalog",id:doc.id,title:doc.title,description:doc.description,links:doc.links}}function parseStacCollection(doc){if(!doc.stac_version)throw new EndpointError('Collection document is missing "stac_version" field');if("Collection"!==doc.type)throw new EndpointError(`Expected type "Collection" but got "${doc.type}"`);if(!doc.id)throw new EndpointError('Collection document is missing "id" field');if(!doc.description)throw new EndpointError('Collection document is missing "description" field');if(!doc.license)throw new EndpointError('Collection document is missing "license" field');if(!doc.extent)throw new EndpointError('Collection document is missing "extent" field');if(!doc.links||!Array.isArray(doc.links))throw new EndpointError('Collection document is missing "links" array');return doc}function parseStacItem(doc){if("Feature"!==doc.type)throw new EndpointError(`Expected type "Feature" but got "${doc.type}"`);if(!doc.id)throw new EndpointError('Item document is missing "id" field');if(!doc.properties)throw new EndpointError('Item document is missing "properties" field');if(!doc.links||!Array.isArray(doc.links))throw new EndpointError('Item document is missing "links" array');return doc}function parseCollectionsList(doc){if(!doc.collections||!Array.isArray(doc.collections))throw new EndpointError('Document is missing "collections" array');return doc.collections.map(col=>col.id)}function parseConformance(doc){return doc.conformsTo&&Array.isArray(doc.conformsTo)?doc.conformsTo:[]}function checkStacCoreConformance(conformance){return conformance.some(uri=>(uri.includes("stac-api")||uri.includes("stacspec.org"))&&(uri.includes("/core")||uri.includes("/item-search")))}function checkOgcFeaturesConformance(conformance){return conformance.some(uri=>uri.includes("ogcapi-features")||"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/core"===uri)}class StacEndpoint{constructor(baseUrl){__publicField(this,"root_"),__publicField(this,"conformance_"),__publicField(this,"collectionsDocument_"),this.baseUrl=baseUrl}get root(){return this.root_||(this.root_=fetchStacDocument(this.baseUrl).catch(e=>{throw new EndpointError(`Failed to fetch STAC root document: ${e.message}`)})),this.root_}get conformance(){return this.conformance_||(this.conformance_=this.root.then(root=>root.conformsTo&&Array.isArray(root.conformsTo)?root.conformsTo:function fetchLink(_x16,_x17,_x18,_x19){return _fetchLink.apply(this,arguments)}(root,["conformance","http://www.opengis.net/def/rel/ogc/1.0/conformance"],this.baseUrl).then(parseConformance).catch(()=>[]))),this.conformance_}get collectionsDocument(){return this.collectionsDocument_||(this.collectionsDocument_=this.root.then(root=>{const collectionsUrl=getLinkUrl(root,["data","collections"],this.baseUrl);return collectionsUrl?fetchStacDocument(collectionsUrl):null}).catch(()=>null)),this.collectionsDocument_}static applyFilterOptions(url,options){if(void 0!==options.limit&&url.searchParams.set("limit",options.limit.toString()),options.bbox&&4===options.bbox.length){const clampedBbox=function clampBoundingBox(bbox){return[Math.max(-180,Math.min(180,bbox[0])),Math.max(-90,Math.min(90,bbox[1])),Math.max(-180,Math.min(180,bbox[2])),Math.max(-90,Math.min(90,bbox[3]))]}(options.bbox);url.searchParams.set("bbox",clampedBbox.join(","))}if(void 0!==options.datetime){const dateTime=options.datetime;url.searchParams.set("datetime",dateTime instanceof Date?dateTime.toISOString():`${"start"in dateTime?dateTime.start.toISOString():".."}/${"end"in dateTime?dateTime.end.toISOString():".."}`)}options.query&&(url.search+=(url.search?"&":"")+encodeURI(options.query))}static fromUrl(url){return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(){const doc=yield fetchStacDocument(url);if("Collection"===doc.type)return{type:"Collection",data:parseStacCollection(doc)};if("Feature"===doc.type)return{type:"Feature",data:parseStacItem(doc)};if("Catalog"===doc.type)return{type:"Catalog",data:parseStacCatalog(doc)};throw new EndpointError(`Unknown STAC document type: ${doc.type}. Expected 'Catalog', 'Collection', or 'Feature'.`)})()}static getItemsFromCollection(_x20){return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(collection,options={}){const itemsLinks=getLinks(collection,"items");if(!itemsLinks||0===itemsLinks.length)throw new EndpointError(`Collection ${collection.id} does not have an items link`);const itemsLink=itemsLinks[0],itemsUrl=itemsLink.href;if(!itemsUrl)throw new EndpointError(`Collection ${collection.id} items link is missing href`);const url=new URL(itemsUrl,getBaseUrl());StacEndpoint.applyFilterOptions(url,options);const acceptType=null==itemsLink?void 0:itemsLink.type,itemsDoc=yield fetchStacDocument(url.toString(),acceptType);if(!itemsDoc.features||!Array.isArray(itemsDoc.features))throw new EndpointError("Items response does not contain features array");return itemsDoc.features=itemsDoc.features.map(item=>parseStacItem(item)),itemsDoc}).apply(this,arguments)}static getItemsFromUrl(_x21){return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(itemsUrl,options={}){const url=new URL(itemsUrl,getBaseUrl());StacEndpoint.applyFilterOptions(url,options);const itemsDoc=yield fetchStacDocument(url.toString());if(!itemsDoc.features||!Array.isArray(itemsDoc.features))throw new EndpointError("Items response does not contain features array");return itemsDoc.features=itemsDoc.features.map(item=>parseStacItem(item)),itemsDoc}).apply(this,arguments)}get info(){return this.root.then(parseEndpointInfo)}get catalog(){return this.root.then(root=>"Catalog"===root.type?parseStacCatalog(root):{stac_version:root.stac_version,stac_extensions:root.stac_extensions,type:"Catalog",id:root.id||"root",title:root.title,description:root.description||"",links:root.links||[]})}get conformanceClasses(){return this.conformance}get isStacApi(){return this.conformance.then(checkStacCoreConformance)}get supportsOgcFeatures(){return this.conformance.then(checkOgcFeaturesConformance)}get allCollections(){return this.collectionsDocument.then(doc=>doc?parseCollectionsList(doc):[])}getCollection(collectionId){var _this13=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(){const collectionsDoc=yield _this13.collectionsDocument;if(!collectionsDoc)throw new EndpointError("No collections available at this endpoint");if(!parseCollectionsList(collectionsDoc).includes(collectionId))throw new EndpointError(`Collection not found: ${collectionId}`);const collection=collectionsDoc.collections.find(col=>col.id===collectionId);if(collection)return parseStacCollection(collection);const collectionsUrl=getLinkUrl(yield _this13.root,["data","collections"],_this13.baseUrl),collectionUrl=new URL(collectionId,collectionsUrl+"/").toString();return parseStacCollection(yield fetchStacDocument(collectionUrl))})()}getCollectionItems(_x22){var _this14=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(collectionId,options={}){return(yield _this14.getCollectionItemsResponse(collectionId,options)).features}).apply(this,arguments)}getCollectionItemsResponse(_x23){var _this15=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(collectionId,options={}){const itemsLink=getLinks(yield _this15.getCollection(collectionId),"items")[0],url=yield _this15.getCollectionItemsUrl(collectionId,options),acceptType=null==itemsLink?void 0:itemsLink.type,itemsDoc=yield fetchStacDocument(url,acceptType);if(!itemsDoc.features||!Array.isArray(itemsDoc.features))throw new EndpointError("Items response does not contain features array");return itemsDoc.features=itemsDoc.features.map(item=>parseStacItem(item)),itemsDoc}).apply(this,arguments)}getCollectionItem(collectionId,itemId){var _this16=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(){const collection=yield _this16.getCollection(collectionId),itemsLink=getLinks(collection,"items")[0],itemsUrl=getLinkUrl(collection,"items",_this16.baseUrl);if(!itemsUrl)throw new EndpointError(`Collection ${collectionId} does not have an items link`);const itemUrl=new URL(itemsUrl);itemUrl.pathname.endsWith("/")||(itemUrl.pathname+="/"),itemUrl.pathname+=itemId;const acceptType=null==itemsLink?void 0:itemsLink.type;return parseStacItem(yield fetchStacDocument(itemUrl.toString(),acceptType))})()}getCollectionItemsUrl(_x24){var _this17=this;return(0,_home_runner_work_geonetwork_ui_geonetwork_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(collectionId,options={}){const itemsUrl=getLinkUrl(yield _this17.getCollection(collectionId),"items",_this17.baseUrl);if(!itemsUrl)throw new EndpointError(`Collection ${collectionId} does not have an items link`);const url=new URL(itemsUrl,getBaseUrl());return StacEndpoint.applyFilterOptions(url,options),url.toString()}).apply(this,arguments)}}const LatLonCrsList=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function simplifyEpsgUrn(fullCrsName){if(/^urn:(?:x-)?ogc:def:crs:epsg:/.test(fullCrsName.toLowerCase())){return`EPSG:${/([0-9]+)$/.exec(fullCrsName)[1]}`}return fullCrsName}function readOperationUrlsFromCapabilities$1(capabilitiesDoc){const urls={},capability=findChildElement(getRootElement(capabilitiesDoc),"Capability");return getChildrenElement(findChildElement(capability,"Request")).forEach(operation=>{const operationName=stripNamespace(getElementName(operation));urls[operationName]=function parseOperation(operation){const urls={},dcpType=findChildrenElement(operation,"DCPType"),http=dcpType.flatMap(d=>findChildElement(d,"HTTP"));return http.flatMap(h=>getChildrenElement(h)).forEach(method=>{const onlineResource=findChildElement(method,"OnlineResource"),methodName=stripNamespace(getElementName(method));urls[methodName]=getElementAttribute(onlineResource,"xlink:href")}),urls}(operation)}),urls}function readVersionFromCapabilities$1(capabilitiesDoc){return getRootElement(capabilitiesDoc).attributes.version}function readLayersFromCapabilities$1(capabilitiesDoc){const version=readVersionFromCapabilities$1(capabilitiesDoc);return findChildrenElement(findChildElement(getRootElement(capabilitiesDoc),"Capability"),"Layer").map(layerEl=>parseLayer(layerEl,version))}function readInfoFromCapabilities$2(capabilitiesDoc){const service=findChildElement(getRootElement(capabilitiesDoc),"Service"),outputFormats=function readOutputFormatsFromCapabilities$1(capabilitiesDoc){const capability=findChildElement(getRootElement(capabilitiesDoc),"Capability");return findChildrenElement(findChildElement(findChildElement(capability,"Request"),"GetMap"),"Format").map(getElementText)}(capabilitiesDoc),infoFormats=function readInfoFormatsFromCapabilities(capabilitiesDoc){const capability=findChildElement(getRootElement(capabilitiesDoc),"Capability");return findChildrenElement(findChildElement(findChildElement(capability,"Request"),"GetFeatureInfo"),"Format").map(getElementText)}(capabilitiesDoc),exceptionFormats=function readExceptionFormatsFromCapabilities(capabilitiesDoc){const capability=findChildElement(getRootElement(capabilitiesDoc),"Capability");return findChildrenElement(findChildElement(capability,"Exception"),"Format").map(getElementText)}(capabilitiesDoc),keywords=findChildrenElement(findChildElement(service,"KeywordList"),"Keyword").map(getElementText).filter((v,i,arr)=>arr.indexOf(v)===i),provider=function readProviderFromCapabilities$1(capabilitiesDoc){const service=findChildElement(getRootElement(capabilitiesDoc),"Service"),contactInformation=findChildElement(service,"ContactInformation"),contactPersonPrimary=findChildElement(contactInformation,"ContactPersonPrimary"),address=findChildElement(contactInformation,"ContactAddress");return{contact:{name:getElementText(findChildElement(contactPersonPrimary,"ContactPerson")),organization:getElementText(findChildElement(contactPersonPrimary,"ContactOrganization")),position:getElementText(findChildElement(contactInformation,"ContactPosition")),phone:getElementText(findChildElement(contactInformation,"ContactVoiceTelephone")),fax:getElementText(findChildElement(contactInformation,"ContactFacsimileTelephone")),address:{deliveryPoint:getElementText(findChildElement(address,"Address")),city:getElementText(findChildElement(address,"City")),administrativeArea:getElementText(findChildElement(address,"StateOrProvince")),postalCode:getElementText(findChildElement(address,"PostCode")),country:getElementText(findChildElement(address,"Country"))},email:getElementText(findChildElement(contactInformation,"ContactElectronicMailAddress"))}}}(capabilitiesDoc);return{title:getElementText(findChildElement(service,"Title")),name:getElementText(findChildElement(service,"Name")),abstract:getElementText(findChildElement(service,"Abstract")),outputFormats,infoFormats,exceptionFormats,fees:getElementText(findChildElement(service,"Fees")),constraints:getElementText(findChildElement(service,"AccessConstraints")),provider,keywords}}function parseLayer(layerEl,version,inheritedSrs=[],inheritedStyles=[],inheritedAttribution=null,inheritedBoundingBoxes=null,inheritedMaxScaleDenom=null,inheritedMinScaleDenom=null){const srsTag="1.3.0"===version?"CRS":"SRS",srsList=findChildrenElement(layerEl,srsTag).map(getElementText),availableCrs=srsList.length>0?srsList:inheritedSrs,layerStyles=findChildrenElement(layerEl,"Style").map(parseLayerStyle),styles=layerStyles.length>0?layerStyles:inheritedStyles;function parseBBox2(bboxEl){return(function hasInvertedCoordinates(crsName){return LatLonCrsList.indexOf(simplifyEpsgUrn(crsName))>-1}(getElementAttribute(bboxEl,srsTag))&&"1.3.0"===version?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map(name=>getElementAttribute(bboxEl,name))}function parseScaleHintValue(textValue,defaultValue){return""===textValue?defaultValue:Math.sqrt(.5*parseFloat(textValue)**2)/28e-5}function parseScaleDenominator(name,inheritedValue){const textValue=getElementText(findChildElement(layerEl,name));return""===textValue?inheritedValue:parseFloat(textValue)}const attributionEl=findChildElement(layerEl,"Attribution"),attribution=null!==attributionEl?function parseLayerAttribution(attributionEl){const logoUrl=getElementAttribute(findChildElement(findChildElement(attributionEl,"LogoURL"),"OnlineResource"),"xlink:href"),url=getElementAttribute(findChildElement(attributionEl,"OnlineResource"),"xlink:href"),title=getElementText(findChildElement(attributionEl,"Title"));return{...title&&{title},...url&&{url},...logoUrl&&{logoUrl}}}(attributionEl):inheritedAttribution,latLonBboxEl=findChildElement(layerEl,"1.3.0"===version?"EX_GeographicBoundingBox":"LatLonBoundingBox"),baseBoundingBox={};latLonBboxEl&&(baseBoundingBox["EPSG:4326"]="1.3.0"===version?function parseExGeographicBoundingBox(bboxEl){return["westBoundLongitude","southBoundLatitude","eastBoundLongitude","northBoundLatitude"].map(name=>getElementText(findChildElement(bboxEl,name)))}(latLonBboxEl):function parseLatLonBoundingBox(bboxEl){return["minx","miny","maxx","maxy"].map(name=>getElementAttribute(bboxEl,name))}(latLonBboxEl));let boundingBoxes=findChildrenElement(layerEl,"BoundingBox").reduce((prev,bboxEl)=>({...prev,[getElementAttribute(bboxEl,srsTag)]:parseBBox2(bboxEl)}),baseBoundingBox);boundingBoxes=Object.keys(boundingBoxes).length>0||null===inheritedBoundingBoxes?boundingBoxes:inheritedBoundingBoxes;const queryable="1"===layerEl.attributes.queryable||"true"===layerEl.attributes.queryable,opaque="1"===layerEl.attributes.opaque||"true"===layerEl.attributes.opaque,keywords=findChildrenElement(findChildElement(layerEl,"KeywordList"),"Keyword").map(getElementText).filter((v,i,arr)=>arr.indexOf(v)===i);let minScaleDenominator,maxScaleDenominator;"1.3.0"===version?(minScaleDenominator=parseScaleDenominator("MinScaleDenominator",inheritedMinScaleDenom),maxScaleDenominator=parseScaleDenominator("MaxScaleDenominator",inheritedMaxScaleDenom)):[minScaleDenominator,maxScaleDenominator]=function parseScaleHint(){const scaleHint=findChildElement(layerEl,"ScaleHint");if(!scaleHint)return[inheritedMinScaleDenom,inheritedMaxScaleDenom];const min=getElementAttribute(scaleHint,"min"),max=getElementAttribute(scaleHint,"max");return[parseScaleHintValue(min,inheritedMinScaleDenom),parseScaleHintValue(max,inheritedMaxScaleDenom)]}();const metadata=findChildrenElement(layerEl,"MetadataURL").map(metadataUrlEl=>({type:getElementAttribute(metadataUrlEl,"type"),format:getElementText(findChildElement(metadataUrlEl,"Format")),url:getElementAttribute(findChildElement(metadataUrlEl,"OnlineResource"),"xlink:href")})),children=findChildrenElement(layerEl,"Layer").map(layer=>parseLayer(layer,version,availableCrs,styles,attribution,boundingBoxes,maxScaleDenominator,minScaleDenominator));return{name:getElementText(findChildElement(layerEl,"Name")),title:getElementText(findChildElement(layerEl,"Title")),abstract:getElementText(findChildElement(layerEl,"Abstract")),availableCrs,styles,attribution,boundingBoxes,keywords,queryable,opaque,...null!==minScaleDenominator?{minScaleDenominator}:{},...null!==maxScaleDenominator?{maxScaleDenominator}:{},...metadata.length&&{metadata},...children.length&&{children}}}function parseLayerStyle(styleEl){const legendUrl=getElementAttribute(findChildElement(findChildElement(styleEl,"LegendURL"),"OnlineResource"),"xlink:href"),abstract=getElementText(findChildElement(styleEl,"Abstract"));return{name:getElementText(findChildElement(styleEl,"Name")),title:getElementText(findChildElement(styleEl,"Title")),...abstract&&{abstract},...legendUrl&&{legendUrl}}}function readProviderFromCapabilities(capabilitiesDoc){const serviceProvider=findChildElement(getRootElement(capabilitiesDoc),"ServiceProvider"),serviceContact=findChildElement(serviceProvider,"ServiceContact"),contactInfo=findChildElement(serviceContact,"ContactInfo"),phone=findChildElement(contactInfo,"Phone"),address=findChildElement(contactInfo,"Address");return{name:getElementText(findChildElement(serviceProvider,"ProviderName")),site:getElementAttribute(findChildElement(serviceProvider,"ProviderSite"),"xlink:href"),contact:{name:getElementText(findChildElement(serviceContact,"IndividualName")),position:getElementText(findChildElement(serviceContact,"PositionName")),phone:getElementText(findChildElement(phone,"Voice")),fax:getElementText(findChildElement(phone,"Facsimile")),address:{deliveryPoint:getElementText(findChildElement(address,"DeliveryPoint")),city:getElementText(findChildElement(address,"City")),administrativeArea:getElementText(findChildElement(address,"AdministrativeArea")),postalCode:getElementText(findChildElement(address,"PostalCode")),country:getElementText(findChildElement(address,"Country"))},email:getElementText(findChildElement(address,"ElectronicMailAddress"))}}}function readOperationUrlsFromCapabilities(capabilitiesDoc){const urls={},capabilities=getRootElement(capabilitiesDoc),operationsMetadata=findChildElement(capabilities,"OperationsMetadata");if(operationsMetadata)findChildrenElement(operationsMetadata,"Operation").forEach(operation=>{const name=getElementAttribute(operation,"name");urls[name]=function parseOperation110(operation){const urls={},dcpType=findChildrenElement(operation,"DCP"),http=dcpType.flatMap(d=>findChildElement(d,"HTTP"));return http.flatMap(h=>getChildrenElement(h)).forEach(method=>{const methodName=stripNamespace(getElementName(method));urls[methodName]=getElementAttribute(method,"xlink:href")}),urls}(operation)});else{const capability=findChildElement(capabilities,"Capability");getChildrenElement(findChildElement(capability,"Request")).forEach(operation=>{const name=stripNamespace(getElementName(operation));urls[name]=function parseOperation100(operation){const urls={},dcpType=findChildrenElement(operation,"DCPType"),http=dcpType.flatMap(d=>findChildrenElement(d,"HTTP"));return http.flatMap(h=>getChildrenElement(h)).forEach(method=>{const methodName=stripNamespace(getElementName(method));urls[methodName]=getElementAttribute(method,"onlineResource")}),urls}(operation)})}return urls}function readVersionFromCapabilities(capabilitiesDoc){return getRootElement(capabilitiesDoc).attributes.version}function readOutputFormatsFromCapabilities(capabilitiesDoc){let outputFormats;if(readVersionFromCapabilities(capabilitiesDoc).startsWith("1.0")){const getFeature=findChildElement(findChildElement(findChildElement(getRootElement(capabilitiesDoc),"Capability"),"Request"),"GetFeature");outputFormats=getChildrenElement(findChildElement(getFeature,"ResultFormat")).map(getElementName)}else{const getFeature=findChildrenElement(findChildElement(getRootElement(capabilitiesDoc),"OperationsMetadata"),"Operation").find(el=>"GetFeature"===getElementAttribute(el,"name")),parameter=findChildrenElement(getFeature,"Parameter").find(el=>"outputFormat"===getElementAttribute(el,"name"));outputFormats=findChildrenElement(parameter,"Value",!0).map(getElementText)}return outputFormats}function readInfoFromCapabilities$1(capabilitiesDoc){const version=readVersionFromCapabilities(capabilitiesDoc),serviceTag=version.startsWith("1.0")?"Service":"ServiceIdentification",nameTag=version.startsWith("1.0")?"Name":"ServiceType",service=findChildElement(getRootElement(capabilitiesDoc),serviceTag);let keywords,provider;return keywords=version.startsWith("1.0")?getElementText(findChildElement(service,"Keywords")).split(",").map(keyword=>keyword.trim()):findChildrenElement(findChildElement(service,"Keywords"),"Keyword").map(getElementText),"1.0.0"!==version&&(provider=readProviderFromCapabilities(capabilitiesDoc)),{title:getElementText(findChildElement(service,"Title")),name:getElementText(findChildElement(service,nameTag)),abstract:getElementText(findChildElement(service,"Abstract")),fees:getElementText(findChildElement(service,"Fees")),constraints:getElementText(findChildElement(service,"AccessConstraints")),keywords,provider,outputFormats:readOutputFormatsFromCapabilities(capabilitiesDoc)}}function readFeatureTypesFromCapabilities(capabilitiesDoc){const version=readVersionFromCapabilities(capabilitiesDoc),outputFormats=readOutputFormatsFromCapabilities(capabilitiesDoc);return findChildrenElement(findChildElement(getRootElement(capabilitiesDoc),"FeatureTypeList"),"FeatureType").map(featureTypeEl=>function parseFeatureType(featureTypeEl,serviceVersion,defaultOutputFormats){const srsTag=serviceVersion.startsWith("2.")?"CRS":"SRS",defaultSrsTag=serviceVersion.startsWith("1.0")?"SRS":`Default${srsTag}`;function parseBBox100(){const bboxEl=findChildElement(featureTypeEl,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map(name=>getElementAttribute(bboxEl,name)).map(parseFloat)}function parseBBox2(){const bboxEl=findChildElement(featureTypeEl,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map(elName=>findChildElement(bboxEl,elName)).map(cornerEl=>getElementText(cornerEl).split(" ")).reduce((prev,curr)=>[...prev,...curr]).map(parseFloat)}const otherCrs=serviceVersion.startsWith("1.0")?[]:findChildrenElement(featureTypeEl,`Other${srsTag}`).map(getElementText).map(simplifyEpsgUrn),outputFormats=serviceVersion.startsWith("1.0")?[]:findChildrenElement(findChildElement(featureTypeEl,"OutputFormats"),"Format").map(getElementText),keywords=serviceVersion.startsWith("1.0")?getElementText(findChildElement(featureTypeEl,"Keywords")).split(",").map(keyword=>keyword.trim()):findChildrenElement(findChildElement(featureTypeEl,"Keywords"),"Keyword").map(getElementText).filter((v,i,arr)=>arr.indexOf(v)===i),metadata="2.0.0"===serviceVersion?findChildrenElement(featureTypeEl,"MetadataURL").map(metadataUrlEl=>({url:getElementAttribute(metadataUrlEl,"xlink:href")})):findChildrenElement(featureTypeEl,"MetadataURL").map(metadataUrlEl=>({format:getElementAttribute(metadataUrlEl,"format"),type:getElementAttribute(metadataUrlEl,"type"),url:getElementText(metadataUrlEl).trim()}));return{name:getElementText(findChildElement(featureTypeEl,"Name")),title:getElementText(findChildElement(featureTypeEl,"Title")),abstract:getElementText(findChildElement(featureTypeEl,"Abstract")),defaultCrs:simplifyEpsgUrn(getElementText(findChildElement(featureTypeEl,defaultSrsTag))),otherCrs,outputFormats:outputFormats.length>0?outputFormats:defaultOutputFormats,latLonBoundingBox:serviceVersion.startsWith("1.0")?parseBBox100():parseBBox2(),keywords,...metadata.length&&{metadata}}}(featureTypeEl,version,outputFormats))}function parseBBox(xmlElement){const result=["LowerCorner","UpperCorner"].map(elName=>findChildElement(xmlElement,elName)).map(cornerEl=>getElementText(cornerEl).split(" ")).reduce((prev,curr)=>[...prev,...curr]).map(parseFloat);return result.some(Number.isNaN)?null:result}function readInfoFromCapabilities(capabilitiesDoc){const rootEl=getRootElement(capabilitiesDoc),service=findChildElement(rootEl,"ServiceIdentification"),keywords=findChildrenElement(findChildElement(service,"Keywords"),"Keyword").map(getElementText),getTileOperation=findChildrenElement(findChildElement(rootEl,"OperationsMetadata"),"Operation").find(el=>"GetTile"==getElementAttribute(el,"name")),getTileUrls=findChildrenElement(getTileOperation,"Get",!0).reduce((prev,curr)=>{const encodingType=getElementText(findChildElement(curr,"Value",!0)),url=getElementAttribute(curr,"xlink:href");return"restful"===encodingType.toLowerCase()?{...prev,rest:url}:{...prev,kvp:url}},{});return{title:getElementText(findChildElement(service,"Title")),name:getElementText(findChildElement(service,"ServiceType")),abstract:getElementText(findChildElement(service,"Abstract")),fees:getElementText(findChildElement(service,"Fees")),constraints:getElementText(findChildElement(service,"AccessConstraints")),keywords,provider:readProviderFromCapabilities(capabilitiesDoc),getTileUrls}}function readMatrixSetsFromCapabilities(capabilitiesDoc){function parseMatrixSet(element){const topLeft=getElementText(findChildElement(element,"TopLeftCorner")).split(" ").map(parseFloat);return{identifier:getElementText(findChildElement(element,"Identifier")),tileWidth:parseInt(getElementText(findChildElement(element,"TileWidth"))),tileHeight:parseInt(getElementText(findChildElement(element,"TileHeight"))),matrixWidth:parseInt(getElementText(findChildElement(element,"MatrixWidth"))),matrixHeight:parseInt(getElementText(findChildElement(element,"MatrixHeight"))),scaleDenominator:parseFloat(getElementText(findChildElement(element,"ScaleDenominator"))),topLeft}}return findChildrenElement(findChildElement(getRootElement(capabilitiesDoc),"Contents"),"TileMatrixSet").map(element=>{const wellKnownScaleSet=getElementText(findChildElement(element,"WellKnownScaleSet")),boundingBox=parseBBox(findChildElement(element,"BoundingBox"));return{identifier:getElementText(findChildElement(element,"Identifier")),crs:getElementText(findChildElement(element,"SupportedCRS")),tileMatrices:findChildrenElement(element,"TileMatrix").map(parseMatrixSet),...boundingBox&&{boundingBox},...wellKnownScaleSet&&{wellKnownScaleSet}}})}function readLayersFromCapabilities(capabilitiesDoc){const rootEl=getRootElement(capabilitiesDoc),contentsEl=findChildElement(rootEl,"Contents");function parseMatrixSetLink(element){const identifier=getElementText(findChildElement(element,"TileMatrixSet")),crs=function getMatrixSetCrs(contentsEl2,identifier){const matrixSet=findChildrenElement(contentsEl2,"TileMatrixSet").find(matrixSetEl=>getElementText(findChildElement(matrixSetEl,"Identifier"))===identifier);return getElementText(findChildElement(matrixSet,"SupportedCRS"))}(contentsEl,identifier);return{identifier,crs,limits:findChildrenElement(element,"TileMatrixLimits",!0).map(element2=>({tileMatrix:getElementText(findChildElement(element2,"TileMatrix")),minTileRow:parseInt(getElementText(findChildElement(element2,"MinTileRow"))),minTileCol:parseInt(getElementText(findChildElement(element2,"MinTileCol"))),maxTileRow:parseInt(getElementText(findChildElement(element2,"MaxTileRow"))),maxTileCol:parseInt(getElementText(findChildElement(element2,"MaxTileCol")))}))}}const getTileOperation=findChildrenElement(findChildElement(rootEl,"OperationsMetadata"),"Operation").find(el=>"GetTile"==getElementAttribute(el,"name")),getKvpElt=findChildrenElement(getTileOperation,"Get",!0).filter(elt=>"kvp"===getElementText(findChildElement(elt,"Value",!0)).toLowerCase())[0],getKvpUrl=getKvpElt?getElementAttribute(getKvpElt,"xlink:href"):"";return findChildrenElement(findChildElement(rootEl,"Contents"),"Layer").map(element=>{const latLonBoundingBox=parseBBox(findChildElement(element,"WGS84BoundingBox"));let defaultStyle="";const styles=findChildrenElement(element,"Style").map(element2=>{const legendUrl=getElementAttribute(findChildElement(element2,"LegendURL"),"xlink:href"),abstract=getElementText(findChildElement(element2,"Abstract")),style={title:getElementText(findChildElement(element2,"Title")),name:getElementText(findChildElement(element2,"Identifier")),...abstract&&{abstract},...legendUrl&&{legendUrl}};return"true"===getElementAttribute(element2,"isDefault")&&(defaultStyle=style.name),style}),outputFormats=findChildrenElement(element,"Format").map(getElementText),resourceLinks=findChildrenElement(element,"ResourceURL").filter(element2=>"tile"===getElementAttribute(element2,"resourceType")).map(element2=>({format:getElementAttribute(element2,"format"),url:getElementAttribute(element2,"template"),encoding:"REST"}));getKvpUrl&&resourceLinks.push(...outputFormats.map(format=>({encoding:"KVP",url:getKvpUrl,format})));const matrixSets=findChildrenElement(element,"TileMatrixSetLink").map(parseMatrixSetLink),dimensions=findChildrenElement(element,"Dimension").map(element2=>({identifier:getElementText(findChildElement(element2,"Identifier")),defaultValue:getElementText(findChildElement(element2,"Default")),values:findChildrenElement(element2,"Values").map(getElementText)}));return{name:getElementText(findChildElement(element,"Identifier")),title:getElementText(findChildElement(element,"Title")),abstract:getElementText(findChildElement(element,"Abstract")),styles,resourceLinks,matrixSets,defaultStyle,...latLonBoundingBox&&{latLonBoundingBox},...dimensions&&{dimensions}}})}function parseFeatureProps(getFeaturesDoc,featureTypeFull,serviceVersion){const collection=getRootElement(getFeaturesDoc);let members;if(serviceVersion.startsWith("2.0"))members=findChildrenElement(collection,"member").map(parent=>getChildrenElement(parent)[0]);else{const membersRoot=findChildElement(collection,"featureMembers");members=membersRoot?getChildrenElement(membersRoot):findChildrenElement(collection,"featureMember").map(parent=>getChildrenElement(parent)[0])}const idAttr="1.0.0"===serviceVersion?"fid":"gml:id";function parseElementPropertyValue(propName,valueAsString){switch(featureTypeFull.properties[propName]){case"integer":return parseInt(valueAsString);case"float":return parseFloat(valueAsString);case"boolean":return"true"===valueAsString;default:return valueAsString}}function getProperties(memberEl){return getChildrenElement(memberEl).filter(el=>function isElementProperty(propName){return propName in featureTypeFull.properties}(stripNamespace(getElementName(el)))).reduce((prev,curr)=>{const propName=stripNamespace(getElementName(curr));return{...prev,[propName]:parseElementPropertyValue(propName,getElementText(curr))}},{})}return members.map(el=>({id:getElementAttribute(el,idAttr),properties:getProperties(el)}))}addTaskHandler("parseWmsCapabilities",globalThis,({url})=>queryXmlDocument(url).then(xmlDoc=>check(xmlDoc,url)).then(xmlDoc=>({info:readInfoFromCapabilities$2(xmlDoc),layers:readLayersFromCapabilities$1(xmlDoc),url:readOperationUrlsFromCapabilities$1(xmlDoc),version:readVersionFromCapabilities$1(xmlDoc)}))),addTaskHandler("parseWfsCapabilities",globalThis,({url})=>queryXmlDocument(url).then(xmlDoc=>check(xmlDoc,url)).then(xmlDoc=>({info:readInfoFromCapabilities$1(xmlDoc),featureTypes:readFeatureTypesFromCapabilities(xmlDoc),url:readOperationUrlsFromCapabilities(xmlDoc),version:readVersionFromCapabilities(xmlDoc)}))),addTaskHandler("queryWfsFeatureTypeDetails",globalThis,({url,serviceVersion,featureTypeFull})=>queryXmlDocument(generateGetFeatureUrl(url,serviceVersion,featureTypeFull.name,void 0,void 0,Object.keys(featureTypeFull.properties))).then(getFeatureDoc=>{return{props:(featuresWithProps=parseFeatureProps(getFeatureDoc,featureTypeFull,serviceVersion),featuresWithProps.reduce((prev,curr)=>{for(const propName in curr.properties){const propValue=curr.properties[propName];propName in prev||(prev[propName]={uniqueValues:[]});const uniqueValue=prev[propName].uniqueValues.find(v=>v.value===propValue);uniqueValue?uniqueValue.count++:prev[propName].uniqueValues.push({value:propValue,count:1})}return prev},{}))};var featuresWithProps})),addTaskHandler("updateFetchOptions",globalThis,({options})=>(function setFetchOptions(options){fetchOptions=options,fetchOptionsUpdateCallback&&fetchOptionsUpdateCallback(options)}(options),Promise.resolve({}))),addTaskHandler("parseWmtsCapabilities",globalThis,({url})=>queryXmlDocument(url).then(xmlDoc=>check(xmlDoc,url)).then(xmlDoc=>({info:readInfoFromCapabilities(xmlDoc),layers:readLayersFromCapabilities(xmlDoc),matrixSets:readMatrixSetsFromCapabilities(xmlDoc)}))),function enableFallbackWithoutWorker(){fallbackWithoutWorker=!0}()},"./node_modules/@ngx-translate/core/fesm2022/ngx-translate-core.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B4:()=>TranslateDefaultParser,D8:()=>provideTranslateService,D9:()=>TranslatePipe,Mm:()=>TranslateDirective,Sd:()=>TranslateParser,Wr:()=>TranslateLoader,c$:()=>TranslateService,h:()=>TranslateModule,kJ:()=>TranslateCompiler});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isObservable.js"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/concat.js"),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/defer.js"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/forkJoin.js"),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/concatMap.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/take.js");class TranslateLoader{}class TranslateFakeLoader extends TranslateLoader{getTranslation(lang){return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)({})}static ɵfac=(()=>{let ɵTranslateFakeLoader_BaseFactory;return function TranslateFakeLoader_Factory(__ngFactoryType__){return(ɵTranslateFakeLoader_BaseFactory||(ɵTranslateFakeLoader_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.xGo(TranslateFakeLoader)))(__ngFactoryType__||TranslateFakeLoader)}})();static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:TranslateFakeLoader,factory:TranslateFakeLoader.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(TranslateFakeLoader,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__._qm}],null,null);class MissingTranslationHandler{}class FakeMissingTranslationHandler{handle(params){return params.key}static ɵfac=function FakeMissingTranslationHandler_Factory(__ngFactoryType__){return new(__ngFactoryType__||FakeMissingTranslationHandler)};static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:FakeMissingTranslationHandler,factory:FakeMissingTranslationHandler.ɵfac})}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!=o1&&o2!=o2)return!0;const t1=typeof o1;let length,key,keySet;if(t1==typeof o2&&"object"==t1){if(!Array.isArray(o1)){if(Array.isArray(o2))return!1;for(key in keySet=Object.create(null),o1){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!(key in keySet)&&void 0!==o2[key])return!1;return!0}if(!Array.isArray(o2))return!1;if((length=o1.length)==o2.length){for(key=0;key<length;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function isDefined(value){return null!=value}function isDict(value){return isObject(value)&&!isArray(value)&&null!==value}function isObject(value){return"object"==typeof value}function isArray(value){return Array.isArray(value)}function isString(value){return"string"==typeof value}function mergeDeep(target,source){const output=Object.assign({},target);return isObject(target)?(isObject(target)&&isObject(source)&&Object.keys(source).forEach(key=>{isDict(source[key])?key in target?output[key]=mergeDeep(target[key],source[key]):Object.assign(output,{[key]:source[key]}):Object.assign(output,{[key]:source[key]})}),output):mergeDeep({},source)}function getValue(target,key){const keys=key.split(".");key="";do{key+=keys.shift(),isDefined(target)&&isDefined(target[key])&&(isDict(target[key])||isArray(target[key])||!keys.length)?(target=target[key],key=""):keys.length?key+=".":target=void 0}while(keys.length);return target}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(FakeMissingTranslationHandler,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__._qm}],null,null);class TranslateParser{}class TranslateDefaultParser extends TranslateParser{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(expr,params){return isString(expr)?this.interpolateString(expr,params):function isFunction(value){return"function"==typeof value}(expr)?this.interpolateFunction(expr,params):void 0}interpolateFunction(fn,params){return fn(params)}interpolateString(expr,params){return params?expr.replace(this.templateMatcher,(substring,b)=>{const r=getValue(params,b);return isDefined(r)?r:substring}):expr}static ɵfac=(()=>{let ɵTranslateDefaultParser_BaseFactory;return function TranslateDefaultParser_Factory(__ngFactoryType__){return(ɵTranslateDefaultParser_BaseFactory||(ɵTranslateDefaultParser_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.xGo(TranslateDefaultParser)))(__ngFactoryType__||TranslateDefaultParser)}})();static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:TranslateDefaultParser,factory:TranslateDefaultParser.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(TranslateDefaultParser,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__._qm}],null,null);class TranslateCompiler{}class TranslateFakeCompiler extends TranslateCompiler{compile(value,lang){return value}compileTranslations(translations,lang){return translations}static ɵfac=(()=>{let ɵTranslateFakeCompiler_BaseFactory;return function TranslateFakeCompiler_Factory(__ngFactoryType__){return(ɵTranslateFakeCompiler_BaseFactory||(ɵTranslateFakeCompiler_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.xGo(TranslateFakeCompiler)))(__ngFactoryType__||TranslateFakeCompiler)}})();static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:TranslateFakeCompiler,factory:TranslateFakeCompiler.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(TranslateFakeCompiler,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__._qm}],null,null);class TranslateStore{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.bkB;onLangChange=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.bkB;onDefaultLangChange=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.bkB}const ISOLATE_TRANSLATE_SERVICE=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.nKC("ISOLATE_TRANSLATE_SERVICE"),USE_DEFAULT_LANG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.nKC("USE_DEFAULT_LANG"),DEFAULT_LANGUAGE=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.nKC("DEFAULT_LANGUAGE"),USE_EXTEND=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.nKC("USE_EXTEND"),makeObservable=value=>(0,rxjs__WEBPACK_IMPORTED_MODULE_3__.A)(value)?value:(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(value);class TranslateService{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(defaultLang){this.store.defaultLang=defaultLang}get currentLang(){return this.store.currentLang}set currentLang(currentLang){this.store.currentLang=currentLang}get langs(){return this.store.langs}set langs(langs){this.store.langs=langs}get translations(){return this.store.translations}set translations(translations){this.store.translations=translations}constructor(store,currentLoader,compiler,parser,missingTranslationHandler,useDefaultLang=!0,isolate=!1,extend=!1,defaultLanguage){this.store=store,this.currentLoader=currentLoader,this.compiler=compiler,this.parser=parser,this.missingTranslationHandler=missingTranslationHandler,this.useDefaultLang=useDefaultLang,this.extend=extend,isolate&&(this.store=new TranslateStore),defaultLanguage&&this.setDefaultLang(defaultLanguage)}setDefaultLang(lang){if(lang===this.defaultLang)return;const pending=this.retrieveTranslations(lang);void 0!==pending?(null==this.defaultLang&&(this.defaultLang=lang),pending.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.s)(1)).subscribe(()=>{this.changeDefaultLang(lang)})):this.changeDefaultLang(lang)}getDefaultLang(){return this.defaultLang}use(lang){if(this.lastUseLanguage=lang,lang===this.currentLang)return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this.translations[lang]);this.currentLang||(this.currentLang=lang);const pending=this.retrieveTranslations(lang);return(0,rxjs__WEBPACK_IMPORTED_MODULE_3__.A)(pending)?(pending.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.s)(1)).subscribe(()=>{this.changeLang(lang)}),pending):(this.changeLang(lang),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this.translations[lang]))}changeLang(lang){lang===this.lastUseLanguage&&(this.currentLang=lang,this.onLangChange.emit({lang,translations:this.translations[lang]}),null==this.defaultLang&&this.changeDefaultLang(lang))}retrieveTranslations(lang){if(void 0===this.translations[lang]||this.extend)return this._translationRequests[lang]=this._translationRequests[lang]||this.loadAndCompileTranslations(lang),this._translationRequests[lang]}getTranslation(lang){return this.loadAndCompileTranslations(lang)}loadAndCompileTranslations(lang){this.pending=!0;const loadingTranslations=this.currentLoader.getTranslation(lang).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.t)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.s)(1));return this.loadingTranslations=loadingTranslations.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.T)(res=>this.compiler.compileTranslations(res,lang)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.t)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.s)(1)),this.loadingTranslations.subscribe({next:res=>{this.translations[lang]=this.extend&&this.translations[lang]?{...res,...this.translations[lang]}:res,this.updateLangs(),this.pending=!1},error:err=>{this.pending=!1}}),loadingTranslations}setTranslation(lang,translations,shouldMerge=!1){const interpolatableTranslations=this.compiler.compileTranslations(translations,lang);(shouldMerge||this.extend)&&this.translations[lang]?this.translations[lang]=mergeDeep(this.translations[lang],interpolatableTranslations):this.translations[lang]=interpolatableTranslations,this.updateLangs(),this.onTranslationChange.emit({lang,translations:this.translations[lang]})}getLangs(){return this.langs}addLangs(langs){const newLangs=langs.filter(lang=>!this.langs.includes(lang));newLangs.length>0&&(this.langs=[...this.langs,...newLangs])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(translations,key,interpolateParams){let res;if(translations&&(res=this.runInterpolation(getValue(translations,key),interpolateParams)),void 0===res&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(res=this.runInterpolation(getValue(this.translations[this.defaultLang],key),interpolateParams)),void 0===res){const params={key,translateService:this};void 0!==interpolateParams&&(params.interpolateParams=interpolateParams),res=this.missingTranslationHandler.handle(params)}return void 0!==res?res:key}runInterpolation(translations,interpolateParams){if(isArray(translations))return translations.map(translation=>this.runInterpolation(translation,interpolateParams));if(isDict(translations)){const result={};for(const key in translations){const res=this.runInterpolation(translations[key],interpolateParams);void 0!==res&&(result[key]=res)}return result}return this.parser.interpolate(translations,interpolateParams)}getParsedResult(translations,key,interpolateParams){if(key instanceof Array){const result={};let observables=!1;for(const k of key)result[k]=this.getParsedResultForKey(translations,k,interpolateParams),observables=observables||(0,rxjs__WEBPACK_IMPORTED_MODULE_3__.A)(result[k]);if(!observables)return result;const sources=key.map(k=>makeObservable(result[k]));return(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.p)(sources).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.T)(arr=>{const obj={};return arr.forEach((value,index)=>{obj[key[index]]=value}),obj}))}return this.getParsedResultForKey(translations,key,interpolateParams)}get(key,interpolateParams){if(!isDefined(key)||!key.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.H)(res=>makeObservable(this.getParsedResult(res,key,interpolateParams)))):makeObservable(this.getParsedResult(this.translations[this.currentLang],key,interpolateParams))}getStreamOnTranslationChange(key,interpolateParams){if(!isDefined(key)||!key.length)throw new Error('Parameter "key" is required and cannot be empty');return(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.x)((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.v)(()=>this.get(key,interpolateParams)),this.onTranslationChange.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.n)(event=>{const res=this.getParsedResult(event.translations,key,interpolateParams);return makeObservable(res)})))}stream(key,interpolateParams){if(!isDefined(key)||!key.length)throw new Error('Parameter "key" required');return(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.x)((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.v)(()=>this.get(key,interpolateParams)),this.onLangChange.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.n)(event=>{const res=this.getParsedResult(event.translations,key,interpolateParams);return makeObservable(res)})))}instant(key,interpolateParams){if(!isDefined(key)||0===key.length)throw new Error('Parameter "key" is required and cannot be empty');const result=this.getParsedResult(this.translations[this.currentLang],key,interpolateParams);return(0,rxjs__WEBPACK_IMPORTED_MODULE_3__.A)(result)?Array.isArray(key)?key.reduce((acc,currKey)=>(acc[currKey]=currKey,acc),{}):key:result}set(key,translation,lang=this.currentLang){!function setValue(target,key,value){const keys=key.split(".");let current=target;for(let i=0;i<keys.length;i++){const key=keys[i];i===keys.length-1?current[key]=value:(current[key]&&isDict(current[key])||(current[key]={}),current=current[key])}}(this.translations[lang],key,isString(translation)?this.compiler.compile(translation,lang):this.compiler.compileTranslations(translation,lang)),this.updateLangs(),this.onTranslationChange.emit({lang,translations:this.translations[lang]})}changeDefaultLang(lang){this.defaultLang=lang,this.onDefaultLangChange.emit({lang,translations:this.translations[lang]})}reloadLang(lang){return this.resetLang(lang),this.loadAndCompileTranslations(lang)}resetLang(lang){delete this._translationRequests[lang],delete this.translations[lang]}getBrowserLang(){if("undefined"==typeof window||!window.navigator)return;const browserLang=this.getBrowserCultureLang();return browserLang?browserLang.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if("undefined"!=typeof window&&void 0!==window.navigator)return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static ɵfac=function TranslateService_Factory(__ngFactoryType__){return new(__ngFactoryType__||TranslateService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(TranslateStore),_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(TranslateLoader),_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(TranslateCompiler),_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(TranslateParser),_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(MissingTranslationHandler),_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(USE_DEFAULT_LANG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(ISOLATE_TRANSLATE_SERVICE),_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(USE_EXTEND),_angular_core__WEBPACK_IMPORTED_MODULE_0__.KVO(DEFAULT_LANGUAGE))};static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:TranslateService,factory:TranslateService.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(TranslateService,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__._qm,args:[{providedIn:"root"}]}],()=>[{type:TranslateStore},{type:TranslateLoader},{type:TranslateCompiler},{type:TranslateParser},{type:MissingTranslationHandler},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.y_5,args:[USE_DEFAULT_LANG]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.y_5,args:[ISOLATE_TRANSLATE_SERVICE]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.y_5,args:[USE_EXTEND]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.y_5,args:[DEFAULT_LANGUAGE]}]}],null);class TranslateDirective{translateService;element;_ref;key;lastParams;currentParams;onLangChangeSub;onDefaultLangChangeSub;onTranslationChangeSub;set translate(key){key&&(this.key=key,this.checkNodes())}set translateParams(params){equals(this.currentParams,params)||(this.currentParams=params,this.checkNodes(!0))}constructor(translateService,element,_ref){this.translateService=translateService,this.element=element,this._ref=_ref,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(event=>{event.lang===this.translateService.currentLang&&this.checkNodes(!0,event.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(event=>{this.checkNodes(!0,event.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(event=>{this.checkNodes(!0)}))}ngAfterViewChecked(){this.checkNodes()}checkNodes(forceUpdate=!1,translations){let nodes=this.element.nativeElement.childNodes;nodes.length||(this.setContent(this.element.nativeElement,this.key),nodes=this.element.nativeElement.childNodes),nodes.forEach(n=>{const node=n;if(3===node.nodeType){let key;if(forceUpdate&&(node.lastKey=null),isDefined(node.lookupKey))key=node.lookupKey;else if(this.key)key=this.key;else{const content=this.getContent(node),trimmedContent=content.trim();trimmedContent.length&&(node.lookupKey=trimmedContent,content!==node.currentValue?(key=trimmedContent,node.originalContent=content||node.originalContent):node.originalContent&&(key=node.originalContent.trim()))}this.updateValue(key,node,translations)}})}updateValue(key,node,translations){if(key){if(node.lastKey===key&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;const onTranslation=res=>{res===key&&node.lastKey||(node.lastKey=key),node.originalContent||(node.originalContent=this.getContent(node)),node.currentValue=isDefined(res)?res:node.originalContent||key,this.setContent(node,this.key?node.currentValue:node.originalContent.replace(key,node.currentValue)),this._ref.markForCheck()};if(isDefined(translations)){const res=this.translateService.getParsedResult(translations,key,this.currentParams);(0,rxjs__WEBPACK_IMPORTED_MODULE_3__.A)(res)?res.subscribe({next:onTranslation}):onTranslation(res)}else this.translateService.get(key,this.currentParams).subscribe(onTranslation)}}getContent(node){return isDefined(node.textContent)?node.textContent:node.data}setContent(node,content){isDefined(node.textContent)?node.textContent=content:node.data=content}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}static ɵfac=function TranslateDirective_Factory(__ngFactoryType__){return new(__ngFactoryType__||TranslateDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(TranslateService),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_1__.aKT),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_2__.ChangeDetectorRef))};static ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.FsC({type:TranslateDirective,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(TranslateDirective,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLR,args:[{selector:"[translate],[ngx-translate]",standalone:!0}]}],()=>[{type:TranslateService},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.aKT},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.ChangeDetectorRef}],{translate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}],translateParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.pde}]});class TranslatePipe{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(translate,_ref){this.translate=translate,this._ref=_ref}updateValue(key,interpolateParams,translations){const onTranslation=res=>{this.value=void 0!==res?res:key,this.lastKey=key,this._ref.markForCheck()};if(translations){const res=this.translate.getParsedResult(translations,key,interpolateParams);(0,rxjs__WEBPACK_IMPORTED_MODULE_3__.A)(res)?res.subscribe(onTranslation):onTranslation(res)}this.translate.get(key,interpolateParams).subscribe(onTranslation)}transform(query,...args){if(!query||!query.length)return query;if(equals(query,this.lastKey)&&equals(args,this.lastParams))return this.value;let interpolateParams;if(isDefined(args[0])&&args.length)if(isString(args[0])&&args[0].length){const validArgs=args[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{interpolateParams=JSON.parse(validArgs)}catch(e){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${args[0]}`)}}else isDict(args[0])&&(interpolateParams=args[0]);return this.lastKey=query,this.lastParams=args,this.updateValue(query,interpolateParams),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(event=>{this.lastKey&&event.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(query,interpolateParams,event.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(event=>{this.lastKey&&(this.lastKey=null,this.updateValue(query,interpolateParams,event.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(query,interpolateParams))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static ɵfac=function TranslatePipe_Factory(__ngFactoryType__){return new(__ngFactoryType__||TranslatePipe)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(TranslateService,16),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_2__.ChangeDetectorRef,16))};static ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EJ8({name:"translate",type:TranslatePipe,pure:!1});static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:TranslatePipe,factory:TranslatePipe.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(TranslatePipe,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__._qm},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.nT_,args:[{name:"translate",standalone:!0,pure:!1}]}],()=>[{type:TranslateService},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.ChangeDetectorRef}],null);const provideTranslateService=(config={})=>(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.EmA)([config.loader||{provide:TranslateLoader,useClass:TranslateFakeLoader},config.compiler||{provide:TranslateCompiler,useClass:TranslateFakeCompiler},config.parser||{provide:TranslateParser,useClass:TranslateDefaultParser},config.missingTranslationHandler||{provide:MissingTranslationHandler,useClass:FakeMissingTranslationHandler},TranslateStore,{provide:ISOLATE_TRANSLATE_SERVICE,useValue:config.isolate},{provide:USE_DEFAULT_LANG,useValue:config.useDefaultLang},{provide:USE_EXTEND,useValue:config.extend},{provide:DEFAULT_LANGUAGE,useValue:config.defaultLanguage},TranslateService]);class TranslateModule{static forRoot(config={}){return{ngModule:TranslateModule,providers:[config.loader||{provide:TranslateLoader,useClass:TranslateFakeLoader},config.compiler||{provide:TranslateCompiler,useClass:TranslateFakeCompiler},config.parser||{provide:TranslateParser,useClass:TranslateDefaultParser},config.missingTranslationHandler||{provide:MissingTranslationHandler,useClass:FakeMissingTranslationHandler},TranslateStore,{provide:ISOLATE_TRANSLATE_SERVICE,useValue:config.isolate},{provide:USE_DEFAULT_LANG,useValue:config.useDefaultLang},{provide:USE_EXTEND,useValue:config.extend},{provide:DEFAULT_LANGUAGE,useValue:config.defaultLanguage},TranslateService]}}static forChild(config={}){return{ngModule:TranslateModule,providers:[config.loader||{provide:TranslateLoader,useClass:TranslateFakeLoader},config.compiler||{provide:TranslateCompiler,useClass:TranslateFakeCompiler},config.parser||{provide:TranslateParser,useClass:TranslateDefaultParser},config.missingTranslationHandler||{provide:MissingTranslationHandler,useClass:FakeMissingTranslationHandler},{provide:ISOLATE_TRANSLATE_SERVICE,useValue:config.isolate},{provide:USE_DEFAULT_LANG,useValue:config.useDefaultLang},{provide:USE_EXTEND,useValue:config.extend},{provide:DEFAULT_LANGUAGE,useValue:config.defaultLanguage},TranslateService]}}static ɵfac=function TranslateModule_Factory(__ngFactoryType__){return new(__ngFactoryType__||TranslateModule)};static ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.$C({type:TranslateModule,imports:[TranslatePipe,TranslateDirective],exports:[TranslatePipe,TranslateDirective]});static ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.G2t({})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.cDI(TranslateModule,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.UQu,args:[{imports:[TranslatePipe,TranslateDirective],exports:[TranslatePipe,TranslateDirective]}]}],null,null)},"./node_modules/@storybook/angular/dist/chunk-CUDJAP6K.mjs":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{var _storybook_global__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("@storybook/global");_storybook_global__WEBPACK_IMPORTED_MODULE_0__.global.STORYBOOK_ENV="angular"},"./node_modules/@storybook/angular/dist/chunk-LXSTVAFF.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{UP:()=>computesTemplateFromComponent,Wy:()=>isComponent,XX:()=>render,o$:()=>renderToCanvas});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),browser=(__webpack_require__("./node_modules/@angular/compiler/fesm2022/compiler.mjs"),__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/browser.mjs")),Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),BehaviorSubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),__create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(cb,mod)=>function __require(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports},__toESM=(mod,isNodeMode,target)=>(target=null!=mod?__create(__getProtoOf(mod)):{},((to,from,except,desc)=>{if(from&&"object"==typeof from||"function"==typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to})(!isNodeMode&&mod&&mod.__esModule?target:__defProp(target,"default",{value:mod,enumerable:!0}),mod)),eventProperties=["bubbles","cancelBubble","cancelable","composed","currentTarget","defaultPrevented","eventPhase","isTrusted","returnValue","srcElement","target","timeStamp","type"],customEventSpecificProperties=["detail"];var require_es_object_atoms=__commonJS({"node_modules/.pnpm/es-object-atoms@1.1.1/node_modules/es-object-atoms/index.js"(exports,module){module.exports=Object}}),require_es_errors=__commonJS({"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/index.js"(exports,module){module.exports=Error}}),require_eval=__commonJS({"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/eval.js"(exports,module){module.exports=EvalError}}),require_range=__commonJS({"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/range.js"(exports,module){module.exports=RangeError}}),require_ref=__commonJS({"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/ref.js"(exports,module){module.exports=ReferenceError}}),require_syntax=__commonJS({"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/syntax.js"(exports,module){module.exports=SyntaxError}}),require_type=__commonJS({"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/type.js"(exports,module){module.exports=TypeError}}),require_uri=__commonJS({"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/uri.js"(exports,module){module.exports=URIError}}),require_abs=__commonJS({"node_modules/.pnpm/math-intrinsics@1.1.0/node_modules/math-intrinsics/abs.js"(exports,module){module.exports=Math.abs}}),require_floor=__commonJS({"node_modules/.pnpm/math-intrinsics@1.1.0/node_modules/math-intrinsics/floor.js"(exports,module){module.exports=Math.floor}}),require_max=__commonJS({"node_modules/.pnpm/math-intrinsics@1.1.0/node_modules/math-intrinsics/max.js"(exports,module){module.exports=Math.max}}),require_min=__commonJS({"node_modules/.pnpm/math-intrinsics@1.1.0/node_modules/math-intrinsics/min.js"(exports,module){module.exports=Math.min}}),require_pow=__commonJS({"node_modules/.pnpm/math-intrinsics@1.1.0/node_modules/math-intrinsics/pow.js"(exports,module){module.exports=Math.pow}}),require_round=__commonJS({"node_modules/.pnpm/math-intrinsics@1.1.0/node_modules/math-intrinsics/round.js"(exports,module){module.exports=Math.round}}),require_isNaN=__commonJS({"node_modules/.pnpm/math-intrinsics@1.1.0/node_modules/math-intrinsics/isNaN.js"(exports,module){module.exports=Number.isNaN||function isNaN2(a){return a!=a}}}),require_sign=__commonJS({"node_modules/.pnpm/math-intrinsics@1.1.0/node_modules/math-intrinsics/sign.js"(exports,module){var $isNaN=require_isNaN();module.exports=function sign(number){return $isNaN(number)||0===number?number:number<0?-1:1}}}),require_gOPD=__commonJS({"node_modules/.pnpm/gopd@1.2.0/node_modules/gopd/gOPD.js"(exports,module){module.exports=Object.getOwnPropertyDescriptor}}),require_gopd=__commonJS({"node_modules/.pnpm/gopd@1.2.0/node_modules/gopd/index.js"(exports,module){var $gOPD=require_gOPD();if($gOPD)try{$gOPD([],"length")}catch(e){$gOPD=null}module.exports=$gOPD}}),require_es_define_property=__commonJS({"node_modules/.pnpm/es-define-property@1.0.1/node_modules/es-define-property/index.js"(exports,module){var $defineProperty=Object.defineProperty||!1;if($defineProperty)try{$defineProperty({},"a",{value:1})}catch(e){$defineProperty=!1}module.exports=$defineProperty}}),require_shams=__commonJS({"node_modules/.pnpm/has-symbols@1.1.0/node_modules/has-symbols/shams.js"(exports,module){module.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test"),symObj=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(symObj))return!1;for(var _ in obj[sym]=42,obj)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0}}}),require_has_symbols=__commonJS({"node_modules/.pnpm/has-symbols@1.1.0/node_modules/has-symbols/index.js"(exports,module){var origSymbol="undefined"!=typeof Symbol&&Symbol,hasSymbolSham=require_shams();module.exports=function hasNativeSymbols(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))}}}),require_Reflect_getPrototypeOf=__commonJS({"node_modules/.pnpm/get-proto@1.0.1/node_modules/get-proto/Reflect.getPrototypeOf.js"(exports,module){module.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null}}),require_Object_getPrototypeOf=__commonJS({"node_modules/.pnpm/get-proto@1.0.1/node_modules/get-proto/Object.getPrototypeOf.js"(exports,module){var $Object=require_es_object_atoms();module.exports=$Object.getPrototypeOf||null}}),require_implementation=__commonJS({"node_modules/.pnpm/function-bind@1.1.2/node_modules/function-bind/implementation.js"(exports,module){var toStr=Object.prototype.toString,max=Math.max,concatty=function concatty2(a,b){for(var arr=[],i=0;i<a.length;i+=1)arr[i]=a[i];for(var j=0;j<b.length;j+=1)arr[j+a.length]=b[j];return arr};module.exports=function bind(that){var target=this;if("function"!=typeof target||"[object Function]"!==toStr.apply(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,args=function slicy2(arrLike,offset){for(var arr=[],i=offset||0,j=0;i<arrLike.length;i+=1,j+=1)arr[j]=arrLike[i];return arr}(arguments,1),boundLength=max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)boundArgs[i]="$"+i;if(bound=Function("binder","return function ("+function(arr,joiner){for(var str="",i=0;i<arr.length;i+=1)str+=arr[i],i+1<arr.length&&(str+=joiner);return str}(boundArgs,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof bound){var result=target.apply(this,concatty(args,arguments));return Object(result)===result?result:this}return target.apply(that,concatty(args,arguments))}),target.prototype){var Empty=function Empty2(){};Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null}return bound}}}),require_function_bind=__commonJS({"node_modules/.pnpm/function-bind@1.1.2/node_modules/function-bind/index.js"(exports,module){var implementation=require_implementation();module.exports=Function.prototype.bind||implementation}}),require_functionCall=__commonJS({"node_modules/.pnpm/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/functionCall.js"(exports,module){module.exports=Function.prototype.call}}),require_functionApply=__commonJS({"node_modules/.pnpm/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/functionApply.js"(exports,module){module.exports=Function.prototype.apply}}),require_reflectApply=__commonJS({"node_modules/.pnpm/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/reflectApply.js"(exports,module){module.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply}}),require_actualApply=__commonJS({"node_modules/.pnpm/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/actualApply.js"(exports,module){var bind=require_function_bind(),$apply=require_functionApply(),$call=require_functionCall(),$reflectApply=require_reflectApply();module.exports=$reflectApply||bind.call($call,$apply)}}),require_call_bind_apply_helpers=__commonJS({"node_modules/.pnpm/call-bind-apply-helpers@1.0.2/node_modules/call-bind-apply-helpers/index.js"(exports,module){var bind=require_function_bind(),$TypeError=require_type(),$call=require_functionCall(),$actualApply=require_actualApply();module.exports=function callBindBasic(args){if(args.length<1||"function"!=typeof args[0])throw new $TypeError("a function is required");return $actualApply(bind,$call,args)}}}),require_get=__commonJS({"node_modules/.pnpm/dunder-proto@1.0.1/node_modules/dunder-proto/get.js"(exports,module){var hasProtoAccessor,callBind=require_call_bind_apply_helpers(),gOPD=require_gopd();try{hasProtoAccessor=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var desc=!!hasProtoAccessor&&gOPD&&gOPD(Object.prototype,"__proto__"),$Object=Object,$getPrototypeOf=$Object.getPrototypeOf;module.exports=desc&&"function"==typeof desc.get?callBind([desc.get]):"function"==typeof $getPrototypeOf&&function getDunder(value){return $getPrototypeOf(null==value?value:$Object(value))}}}),require_get_proto=__commonJS({"node_modules/.pnpm/get-proto@1.0.1/node_modules/get-proto/index.js"(exports,module){var reflectGetProto=require_Reflect_getPrototypeOf(),originalGetProto=require_Object_getPrototypeOf(),getDunderProto=require_get();module.exports=reflectGetProto?function getProto(O){return reflectGetProto(O)}:originalGetProto?function getProto(O){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new TypeError("getProto: not an object");return originalGetProto(O)}:getDunderProto?function getProto(O){return getDunderProto(O)}:null}}),require_hasown=__commonJS({"node_modules/.pnpm/hasown@2.0.2/node_modules/hasown/index.js"(exports,module){var call=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind=require_function_bind();module.exports=bind.call(call,$hasOwn)}}),require_get_intrinsic=__commonJS({"node_modules/.pnpm/get-intrinsic@1.3.0/node_modules/get-intrinsic/index.js"(exports,module){var errorProto,$Object=require_es_object_atoms(),$Error=require_es_errors(),$EvalError=require_eval(),$RangeError=require_range(),$ReferenceError=require_ref(),$SyntaxError=require_syntax(),$TypeError=require_type(),$URIError=require_uri(),abs=require_abs(),floor=require_floor(),max=require_max(),min=require_min(),pow=require_pow(),round=require_round(),sign=require_sign(),$Function=Function,getEvalledConstructor=function(expressionSyntax){try{return $Function('"use strict"; return ('+expressionSyntax+").constructor;")()}catch(e){}},$gOPD=require_gopd(),$defineProperty=require_es_define_property(),throwTypeError=function(){throw new $TypeError},ThrowTypeError=$gOPD?function(){try{return throwTypeError}catch(calleeThrows){try{return $gOPD(arguments,"callee").get}catch(gOPDthrows){return throwTypeError}}}():throwTypeError,hasSymbols=require_has_symbols()(),getProto=require_get_proto(),$ObjectGPO=require_Object_getPrototypeOf(),$ReflectGPO=require_Reflect_getPrototypeOf(),$apply=require_functionApply(),$call=require_functionCall(),needsEval={},TypedArray="undefined"!=typeof Uint8Array&&getProto?getProto(Uint8Array):undefined,INTRINSICS={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?undefined:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?undefined:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto?getProto([][Symbol.iterator]()):undefined,"%AsyncFromSyncIteratorPrototype%":undefined,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":"undefined"==typeof Atomics?undefined:Atomics,"%BigInt%":"undefined"==typeof BigInt?undefined:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?undefined:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?undefined:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?undefined:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float16Array%":"undefined"==typeof Float16Array?undefined:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?undefined:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?undefined:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?undefined:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":"undefined"==typeof Int8Array?undefined:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?undefined:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?undefined:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto?getProto(getProto([][Symbol.iterator]())):undefined,"%JSON%":"object"==typeof JSON?JSON:undefined,"%Map%":"undefined"==typeof Map?undefined:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols&&getProto?getProto((new Map)[Symbol.iterator]()):undefined,"%Math%":Math,"%Number%":Number,"%Object%":$Object,"%Object.getOwnPropertyDescriptor%":$gOPD,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?undefined:Promise,"%Proxy%":"undefined"==typeof Proxy?undefined:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":"undefined"==typeof Reflect?undefined:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?undefined:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols&&getProto?getProto((new Set)[Symbol.iterator]()):undefined,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?undefined:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto?getProto(""[Symbol.iterator]()):undefined,"%Symbol%":hasSymbols?Symbol:undefined,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":"undefined"==typeof Uint8Array?undefined:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?undefined:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?undefined:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?undefined:Uint32Array,"%URIError%":$URIError,"%WeakMap%":"undefined"==typeof WeakMap?undefined:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?undefined:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?undefined:WeakSet,"%Function.prototype.call%":$call,"%Function.prototype.apply%":$apply,"%Object.defineProperty%":$defineProperty,"%Object.getPrototypeOf%":$ObjectGPO,"%Math.abs%":abs,"%Math.floor%":floor,"%Math.max%":max,"%Math.min%":min,"%Math.pow%":pow,"%Math.round%":round,"%Math.sign%":sign,"%Reflect.getPrototypeOf%":$ReflectGPO};if(getProto)try{null.error}catch(e){errorProto=getProto(getProto(e)),INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function doEval2(name){var value;if("%AsyncFunction%"===name)value=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===name)value=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===name)value=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===name){var fn=doEval2("%AsyncGeneratorFunction%");fn&&(value=fn.prototype)}else if("%AsyncIteratorPrototype%"===name){var gen=doEval2("%AsyncGenerator%");gen&&getProto&&(value=getProto(gen.prototype))}return INTRINSICS[name]=value,value},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=require_function_bind(),hasOwn=require_hasown(),$concat=bind.call($call,Array.prototype.concat),$spliceApply=bind.call($apply,Array.prototype.splice),$replace=bind.call($call,String.prototype.replace),$strSlice=bind.call($call,String.prototype.slice),$exec=bind.call($call,RegExp.prototype.exec),rePropName2=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar2=/\\(\\)?/g,getBaseIntrinsic=function getBaseIntrinsic2(name,allowMissing){var alias,intrinsicName=name;if(hasOwn(LEGACY_ALIASES,intrinsicName)&&(intrinsicName="%"+(alias=LEGACY_ALIASES[intrinsicName])[0]+"%"),hasOwn(INTRINSICS,intrinsicName)){var value=INTRINSICS[intrinsicName];if(value===needsEval&&(value=doEval(intrinsicName)),void 0===value&&!allowMissing)throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return{alias,name:intrinsicName,value}}throw new $SyntaxError("intrinsic "+name+" does not exist!")};module.exports=function GetIntrinsic(name,allowMissing){if("string"!=typeof name||0===name.length)throw new $TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof allowMissing)throw new $TypeError('"allowMissing" argument must be a boolean');if(null===$exec(/^%?[^%]*%?$/,name))throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var parts=function stringToPath3(string){var first=$strSlice(string,0,1),last=$strSlice(string,-1);if("%"===first&&"%"!==last)throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if("%"===last&&"%"!==first)throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var result=[];return $replace(string,rePropName2,function(match,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar2,"$1"):number||match}),result}(name),intrinsicBaseName=parts.length>0?parts[0]:"",intrinsic=getBaseIntrinsic("%"+intrinsicBaseName+"%",allowMissing),intrinsicRealName=intrinsic.name,value=intrinsic.value,skipFurtherCaching=!1,alias=intrinsic.alias;alias&&(intrinsicBaseName=alias[0],$spliceApply(parts,$concat([0,1],alias)));for(var i=1,isOwn=!0;i<parts.length;i+=1){var part=parts[i],first=$strSlice(part,0,1),last=$strSlice(part,-1);if(('"'===first||"'"===first||"`"===first||'"'===last||"'"===last||"`"===last)&&first!==last)throw new $SyntaxError("property names with quotes must have matching quotes");if("constructor"!==part&&isOwn||(skipFurtherCaching=!0),hasOwn(INTRINSICS,intrinsicRealName="%"+(intrinsicBaseName+="."+part)+"%"))value=INTRINSICS[intrinsicRealName];else if(null!=value){if(!(part in value)){if(!allowMissing)throw new $TypeError("base intrinsic for "+name+" exists, but the property is not available.");return}if($gOPD&&i+1>=parts.length){var desc=$gOPD(value,part);value=(isOwn=!!desc)&&"get"in desc&&!("originalValue"in desc.get)?desc.get:value[part]}else isOwn=hasOwn(value,part),value=value[part];isOwn&&!skipFurtherCaching&&(INTRINSICS[intrinsicRealName]=value)}}return value}}}),require_call_bound=__commonJS({"node_modules/.pnpm/call-bound@1.0.4/node_modules/call-bound/index.js"(exports,module){var GetIntrinsic=require_get_intrinsic(),callBindBasic=require_call_bind_apply_helpers(),$indexOf=callBindBasic([GetIntrinsic("%String.prototype.indexOf%")]);module.exports=function callBoundIntrinsic(name,allowMissing){var intrinsic=GetIntrinsic(name,!!allowMissing);return"function"==typeof intrinsic&&$indexOf(name,".prototype.")>-1?callBindBasic([intrinsic]):intrinsic}}}),require_shams2=__commonJS({"node_modules/.pnpm/has-tostringtag@1.0.2/node_modules/has-tostringtag/shams.js"(exports,module){var hasSymbols=require_shams();module.exports=function hasToStringTagShams(){return hasSymbols()&&!!Symbol.toStringTag}}}),require_is_regex=__commonJS({"node_modules/.pnpm/is-regex@1.2.1/node_modules/is-regex/index.js"(exports,module){var fn,$exec,isRegexMarker,throwRegexMarker,badStringifier,$toString,callBound=require_call_bound(),hasToStringTag=require_shams2()(),hasOwn=require_hasown(),gOPD=require_gopd();hasToStringTag?($exec=callBound("RegExp.prototype.exec"),isRegexMarker={},badStringifier={toString:throwRegexMarker=function(){throw isRegexMarker},valueOf:throwRegexMarker},"symbol"==typeof Symbol.toPrimitive&&(badStringifier[Symbol.toPrimitive]=throwRegexMarker),fn=function isRegex(value){if(!value||"object"!=typeof value)return!1;var descriptor=gOPD(value,"lastIndex");if(!(descriptor&&hasOwn(descriptor,"value")))return!1;try{$exec(value,badStringifier)}catch(e){return e===isRegexMarker}}):($toString=callBound("Object.prototype.toString"),fn=function isRegex(value){return!(!value||"object"!=typeof value&&"function"!=typeof value)&&"[object RegExp]"===$toString(value)}),module.exports=fn}}),require_is_function=__commonJS({"node_modules/.pnpm/is-function@1.0.2/node_modules/is-function/index.js"(exports,module){module.exports=function isFunction3(fn){if(!fn)return!1;var string=toString2.call(fn);return"[object Function]"===string||"function"==typeof fn&&"[object RegExp]"!==string||"undefined"!=typeof window&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt)};var toString2=Object.prototype.toString}}),require_safe_regex_test=__commonJS({"node_modules/.pnpm/safe-regex-test@1.1.0/node_modules/safe-regex-test/index.js"(exports,module){var callBound=require_call_bound(),isRegex=require_is_regex(),$exec=callBound("RegExp.prototype.exec"),$TypeError=require_type();module.exports=function regexTester(regex){if(!isRegex(regex))throw new $TypeError("`regex` must be a RegExp");return function test(s){return null!==$exec(regex,s)}}}}),require_is_symbol=__commonJS({"node_modules/.pnpm/is-symbol@1.1.1/node_modules/is-symbol/index.js"(exports,module){var $symToStr,isSymString,isSymbolObject,callBound=require_call_bound(),$toString=callBound("Object.prototype.toString"),hasSymbols=require_has_symbols()(),safeRegexTest=require_safe_regex_test();hasSymbols?($symToStr=callBound("Symbol.prototype.toString"),isSymString=safeRegexTest(/^Symbol\(.*\)$/),isSymbolObject=function isRealSymbolObject(value){return"symbol"==typeof value.valueOf()&&isSymString($symToStr(value))},module.exports=function isSymbol3(value){if("symbol"==typeof value)return!0;if(!value||"object"!=typeof value||"[object Symbol]"!==$toString(value))return!1;try{return isSymbolObject(value)}catch(e){return!1}}):module.exports=function isSymbol3(value){return!1}}}),import_is_regex=__toESM(require_is_regex()),import_is_function=__toESM(require_is_function()),import_is_symbol=__toESM(require_is_symbol());var freeGlobal_default="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root_default=freeGlobal_default||freeSelf||Function("return this")(),Symbol_default=root_default.Symbol,objectProto=Object.prototype,dist_hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol_default?Symbol_default.toStringTag:void 0;var getRawTag_default=function getRawTag(value){var isOwn=dist_hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result},nativeObjectToString2=Object.prototype.toString;var objectToString_default=function objectToString(value){return nativeObjectToString2.call(value)},symToStringTag2=Symbol_default?Symbol_default.toStringTag:void 0;var baseGetTag_default=function baseGetTag(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag2&&symToStringTag2 in Object(value)?getRawTag_default(value):objectToString_default(value)};Array.isArray;var symbolProto=Symbol_default?Symbol_default.prototype:void 0;symbolProto&&symbolProto.toString;var isObject_default=function isObject2(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)};var uid,isFunction_default=function isFunction(value){if(!isObject_default(value))return!1;var tag=baseGetTag_default(value);return"[object Function]"==tag||"[object GeneratorFunction]"==tag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag},coreJsData_default=root_default["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(coreJsData_default&&coreJsData_default.keys&&coreJsData_default.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";var isMasked_default=function isMasked(func){return!!maskSrcKey&&maskSrcKey in func},funcToString=Function.prototype.toString;var toSource_default=function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""},reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto2=Function.prototype,objectProto3=Object.prototype,funcToString2=funcProto2.toString,hasOwnProperty2=objectProto3.hasOwnProperty,reIsNative=RegExp("^"+funcToString2.call(hasOwnProperty2).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var baseIsNative_default=function baseIsNative(value){return!(!isObject_default(value)||isMasked_default(value))&&(isFunction_default(value)?reIsNative:reIsHostCtor).test(toSource_default(value))};var getValue_default=function getValue(object,key){return null==object?void 0:object[key]};var getNative_default=function getNative(object,key){var value=getValue_default(object,key);return baseIsNative_default(value)?value:void 0};var eq_default=function eq(value,other){return value===other||value!=value&&other!=other};var nativeCreate_default=getNative_default(Object,"create");var hashClear_default=function hashClear(){this.__data__=nativeCreate_default?nativeCreate_default(null):{},this.size=0};var hashDelete_default=function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result},hasOwnProperty3=Object.prototype.hasOwnProperty;var hashGet_default=function hashGet(key){var data=this.__data__;if(nativeCreate_default){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty3.call(data,key)?data[key]:void 0},hasOwnProperty4=Object.prototype.hasOwnProperty;var hashHas_default=function hashHas(key){var data=this.__data__;return nativeCreate_default?void 0!==data[key]:hasOwnProperty4.call(data,key)};var hashSet_default=function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate_default&&void 0===value?"__lodash_hash_undefined__":value,this};function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear_default,Hash.prototype.delete=hashDelete_default,Hash.prototype.get=hashGet_default,Hash.prototype.has=hashHas_default,Hash.prototype.set=hashSet_default;var Hash_default=Hash;var listCacheClear_default=function listCacheClear(){this.__data__=[],this.size=0};var assocIndexOf_default=function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq_default(array[length][0],key))return length;return-1},splice=Array.prototype.splice;var listCacheDelete_default=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf_default(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)};var listCacheGet_default=function listCacheGet(key){var data=this.__data__,index=assocIndexOf_default(data,key);return index<0?void 0:data[index][1]};var listCacheHas_default=function listCacheHas(key){return assocIndexOf_default(this.__data__,key)>-1};var listCacheSet_default=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf_default(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this};function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear_default,ListCache.prototype.delete=listCacheDelete_default,ListCache.prototype.get=listCacheGet_default,ListCache.prototype.has=listCacheHas_default,ListCache.prototype.set=listCacheSet_default;var ListCache_default=ListCache,Map_default=getNative_default(root_default,"Map");var mapCacheClear_default=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash_default,map:new(Map_default||ListCache_default),string:new Hash_default}};var isKeyable_default=function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value};var getMapData_default=function getMapData(map,key){var data=map.__data__;return isKeyable_default(key)?data["string"==typeof key?"string":"hash"]:data.map};var mapCacheDelete_default=function mapCacheDelete(key){var result=getMapData_default(this,key).delete(key);return this.size-=result?1:0,result};var mapCacheGet_default=function mapCacheGet(key){return getMapData_default(this,key).get(key)};var mapCacheHas_default=function mapCacheHas(key){return getMapData_default(this,key).has(key)};var mapCacheSet_default=function mapCacheSet(key,value){var data=getMapData_default(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this};function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear_default,MapCache.prototype.delete=mapCacheDelete_default,MapCache.prototype.get=mapCacheGet_default,MapCache.prototype.has=mapCacheHas_default,MapCache.prototype.set=mapCacheSet_default;var MapCache_default=MapCache;function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache_default),memoized}memoize.Cache=MapCache_default;var memoize_default=memoize;var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g;(function memoizeCapped(func){var result=memoize_default(func,function(key){return 500===cache.size&&cache.clear(),key}),cache=result.cache;return result})(function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}),result});var isObject3=function isObject(val){return null!=val&&"object"==typeof val&&!1===Array.isArray(val)},dateFormat=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z$/;function convertUnconventionalData(data){if(!isObject3(data))return data;let result=data,wasMutated=!1;return"undefined"!=typeof Event&&data instanceof Event&&(result=function extractEventHiddenProperties(event){const rebuildEvent=eventProperties.filter(value=>void 0!==event[value]).reduce((acc,value)=>(acc[value]=event[value],acc),{});if(event instanceof CustomEvent)for(const value of customEventSpecificProperties.filter(value2=>void 0!==event[value2]))rebuildEvent[value]=event[value];return rebuildEvent}(result),wasMutated=!0),result=Object.keys(result).reduce((acc,key)=>{try{result[key]&&result[key].toJSON,acc[key]=result[key]}catch(_err){wasMutated=!0}return acc},{}),wasMutated?result:data}var defaultOptions={maxDepth:10,space:void 0,allowRegExp:!0,allowDate:!0,allowError:!0,allowUndefined:!0,allowSymbol:!0},stringify=(data,options={})=>{const mergedOptions={...defaultOptions,...options};return JSON.stringify(convertUnconventionalData(data),function replacer2(options){let objects,map,stack,keys;return function replace(key,value){try{if(""===key)return keys=[],objects=new Map([[value,"[]"]]),map=new Map,stack=[],value;const origin=map.get(this)||this;for(;stack.length&&origin!==stack[0];)stack.shift(),keys.pop();if("boolean"==typeof value)return value;if(void 0===value){if(!options.allowUndefined)return;return"_undefined_"}if(null===value)return null;if("number"==typeof value)return value===Number.NEGATIVE_INFINITY?"_-Infinity_":value===Number.POSITIVE_INFINITY?"_Infinity_":Number.isNaN(value)?"_NaN_":value;if("bigint"==typeof value)return`_bigint_${value.toString()}`;if("string"==typeof value){if(dateFormat.test(value)){if(!options.allowDate)return;return`_date_${value}`}return value}if((0,import_is_regex.default)(value)){if(!options.allowRegExp)return;return`_regexp_${value.flags}|${value.source}`}if((0,import_is_function.default)(value))return;if((0,import_is_symbol.default)(value)){if(!options.allowSymbol)return;const globalRegistryKey=Symbol.keyFor(value);return void 0!==globalRegistryKey?`_gsymbol_${globalRegistryKey}`:`_symbol_${value.toString().slice(7,-1)}`}if(stack.length>=options.maxDepth)return Array.isArray(value)?`[Array(${value.length})]`:"[Object]";if(value===this)return`_duplicate_${JSON.stringify(keys)}`;if(value instanceof Error&&options.allowError)return{__isConvertedError__:!0,errorProperties:{...value.cause?{cause:value.cause}:{},...value,name:value.name,message:value.message,stack:value.stack,"_constructor-name_":value.constructor.name}};if(value?.constructor?.name&&"Object"!==value.constructor.name&&!Array.isArray(value)){const found2=objects.get(value);if(!found2){const plainObject={__isClassInstance__:!0,__className__:value.constructor.name,...Object.getOwnPropertyNames(value).reduce((acc,prop)=>{try{acc[prop]=value[prop]}catch(_err){}return acc},{})};return keys.push(key),stack.unshift(plainObject),objects.set(value,JSON.stringify(keys)),value!==plainObject&&map.set(value,plainObject),plainObject}return`_duplicate_${found2}`}const found=objects.get(value);if(!found){const converted=Array.isArray(value)?value:convertUnconventionalData(value);return keys.push(key),stack.unshift(converted),objects.set(value,JSON.stringify(keys)),value!==converted&&map.set(value,converted),converted}return`_duplicate_${found}`}catch(_e){return}}}(mergedOptions),options.space)},debug_node=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node.mjs"),root_effect_scheduler=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),skip=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/skip.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),common_module=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module.mjs");function dedent(templ){for(var values=[],_i=1;_i<arguments.length;_i++)values[_i-1]=arguments[_i];var strings=Array.from("string"==typeof templ?[templ]:templ);strings[strings.length-1]=strings[strings.length-1].replace(/\r?\n([\t ]*)$/,"");var indentLengths=strings.reduce(function(arr,str){var matches=str.match(/\n([\t ]+|(?!\s).)/g);return matches?arr.concat(matches.map(function(match){var _a,_b;return null!==(_b=null===(_a=match.match(/[\t ]/g))||void 0===_a?void 0:_a.length)&&void 0!==_b?_b:0})):arr},[]);if(indentLengths.length){var pattern_1=new RegExp("\n[\t ]{"+Math.min.apply(Math,indentLengths)+"}","g");strings=strings.map(function(str){return str.replace(pattern_1,"\n")})}strings[0]=strings[0].replace(/^\r?\n/,"");var string=strings[0];return values.forEach(function(value,i){var endentations=string.match(/(?:^|\n)( *)$/),endentation=endentations?endentations[1]:"",indentedValue=value;"string"==typeof value&&value.includes("\n")&&(indentedValue=String(value).split("\n").map(function(str,i){return 0===i?str:""+endentation+str}).join("\n")),string+=indentedValue+strings[i+1]}),string}var external_STORYBOOK_MODULE_CORE_EVENTS_=__webpack_require__("storybook/internal/core-events"),external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/preview-api"),chunk_LXSTVAFF_defProp=Object.defineProperty,chunk_LXSTVAFF_getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?chunk_LXSTVAFF_getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&chunk_LXSTVAFF_defProp(target,key,result),result},__decorateParam=(index,decorator)=>(target,key)=>decorator(target,key,index);((target,all)=>{for(var name in all)chunk_LXSTVAFF_defProp(target,name,{get:all[name],enumerable:!0})})({},{render:()=>render,renderToCanvas:()=>renderToCanvas,rendererFactory:()=>rendererFactory});var reflectionCapabilities=new debug_node.XKJ,getComponentInputsOutputs=component=>{let componentMetadata=getComponentDecoratorMetadata(component),componentPropsMetadata=getComponentPropsDecoratorMetadata(component),initialValue={inputs:[],outputs:[]};return componentMetadata&&componentMetadata.inputs&&initialValue.inputs.push(...componentMetadata.inputs.map(i=>({propName:"string"==typeof i?i:i.name,templateName:"string"==typeof i?i:i.alias}))),componentMetadata&&componentMetadata.outputs&&initialValue.outputs.push(...componentMetadata.outputs.map(i=>({propName:i,templateName:i}))),componentPropsMetadata?Object.entries(componentPropsMetadata).reduce((previousValue,[propertyName,values])=>{let value=values.find(v=>v instanceof debug_node.pde||v instanceof debug_node.k7i);if(value instanceof debug_node.pde){let inputToAdd={propName:propertyName,templateName:value.bindingPropertyName??value.alias??propertyName},previousInputsFiltered=previousValue.inputs.filter(i=>i.templateName!==propertyName);return{...previousValue,inputs:[...previousInputsFiltered,inputToAdd]}}if(value instanceof debug_node.k7i){let outputToAdd={propName:propertyName,templateName:value.bindingPropertyName??value.alias??propertyName},previousOutputsFiltered=previousValue.outputs.filter(i=>i.templateName!==propertyName);return{...previousValue,outputs:[...previousOutputsFiltered,outputToAdd]}}return previousValue},initialValue):initialValue},isComponent=component=>!!component&&(reflectionCapabilities.annotations(component)||[]).some(d=>d instanceof debug_node.uAl),getComponentPropsDecoratorMetadata=component=>reflectionCapabilities.propMetadata(component),getComponentDecoratorMetadata=component=>reflectionCapabilities.annotations(component).reverse().find(d=>d instanceof debug_node.uAl),formatPropInTemplate=propertyName=>/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(propertyName)?propertyName:`this['${propertyName}']`,separateInputsOutputsAttributes=(ngComponentInputsOutputs,props={})=>{let inputs=ngComponentInputsOutputs.inputs.filter(i=>i.templateName in props).map(i=>i.templateName),outputs=ngComponentInputsOutputs.outputs.filter(o=>o.templateName in props).map(o=>o.templateName);return{inputs,outputs,otherProps:Object.keys(props).filter(k=>![...inputs,...outputs].includes(k))}},computesTemplateFromComponent=(component,initialProps,innerTemplate="")=>{let ngComponentMetadata=getComponentDecoratorMetadata(component),ngComponentInputsOutputs=getComponentInputsOutputs(component);if(!ngComponentMetadata.selector)return'<ng-container *ngComponentOutlet="storyComponent"></ng-container>';let{inputs:initialInputs,outputs:initialOutputs}=separateInputsOutputsAttributes(ngComponentInputsOutputs,initialProps),templateInputs=initialInputs.length>0?` ${initialInputs.map(i=>`[${i}]="${formatPropInTemplate(i)}"`).join(" ")}`:"",templateOutputs=initialOutputs.length>0?` ${initialOutputs.map(i=>`(${i})="${formatPropInTemplate(i)}($event)"`).join(" ")}`:"";return buildTemplate(ngComponentMetadata.selector,innerTemplate,templateInputs,templateOutputs)};var buildTemplate=(selector,innerTemplate,inputs,outputs)=>{let voidElements=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],firstSelector=selector.split(",")[0];return[[/(^.*?)(?=[,])/,"$1"],[/(^\..+)/,"div$1"],[/(^\[.+?])/,"div$1"],[/([\w[\]]+)(\s*,[\w\s-[\],]+)+/,"$1"],[/#([\w-]+)/,' id="$1"'],[/((\.[\w-]+)+)/,(_,c)=>` class="${c.split`.`.join` `.trim()}"`],[/(\[.+?])/g,(_,a)=>` ${a.slice(1,-1)}`],[/([\S]+)(.*)/,(template,elementSelector)=>voidElements.some(element=>elementSelector===element)?template.replace(/([\S]+)(.*)/,`<$1$2${inputs}${outputs} />`):template.replace(/([\S]+)(.*)/,`<$1$2${inputs}${outputs}>${innerTemplate}</$1>`)]].reduce((prevSelector,[searchValue,replacer])=>prevSelector.replace(searchValue,replacer),firstSelector)},STORY_PROPS=new root_effect_scheduler.nKC("STORY_PROPS");var reflectionCapabilities2=new debug_node.XKJ,isComponentAlreadyDeclared=(componentToFind,moduleDeclarations,moduleImports)=>!(!moduleDeclarations||!moduleDeclarations.flat().some(declaration=>declaration===componentToFind))||!!moduleImports&&moduleImports.flat().some(importItem=>{let extractedNgModuleMetadata=extractNgModuleMetadata(importItem);return!!extractedNgModuleMetadata&&isComponentAlreadyDeclared(componentToFind,extractedNgModuleMetadata.declarations,extractedNgModuleMetadata.imports)}),extractNgModuleMetadata=importItem=>{let target=importItem&&importItem.ngModule?importItem.ngModule:importItem,decorators=reflectionCapabilities2.annotations(target);return decorators&&0!==decorators.length&&decorators.find(decorator=>decorator instanceof debug_node.UQu)||null},reflectionCapabilities3=new debug_node.XKJ;new root_effect_scheduler.nKC("REMOVED_MODULES");var uniqueArray=arr=>arr.flat(Number.MAX_VALUE).filter(Boolean).filter((value,index,self)=>self.indexOf(value)===index),_PropertyExtractor=class _PropertyExtractor{constructor(metadata,component){this.metadata=metadata,this.component=component,this.declarations=[],this.analyzeMetadata=function(){var _ref=(0,asyncToGenerator.A)(function*(metadata){let declarations=[...metadata?.declarations||[]],providers=[...metadata?.providers||[]],applicationProviders=[],imports=yield Promise.all([...metadata?.imports||[]].map(function(){var _ref2=(0,asyncToGenerator.A)(function*(imported){let[isRestricted,restrictedProviders]=yield _PropertyExtractor.analyzeRestricted(imported);return isRestricted?(applicationProviders.unshift(restrictedProviders||[]),null):imported});return function(_x2){return _ref2.apply(this,arguments)}}())).then(results=>results.filter(Boolean));return{...metadata,imports,providers,applicationProviders,declarations}});return function(_x){return _ref.apply(this,arguments)}}()}static warnImportsModuleWithProviders(propertyExtractor){propertyExtractor.imports.some(importedModule=>"ngModule"in importedModule)&&console.warn(dedent("\n          Storybook Warning: \n          moduleMetadata property 'imports' contains one or more ModuleWithProviders, likely the result of a 'Module.forRoot()'-style call.\n          In Storybook 7.0 we use Angular's new 'bootstrapApplication' API to mount the component to the DOM, which accepts a list of providers to set up application-wide providers.\n          Use the 'applicationConfig' decorator from '@storybook/angular' to pass your ModuleWithProviders to the 'providers' property in combination with the importProvidersFrom helper function from '@angular/core' to extract all the necessary providers.\n          Visit https://angular.io/guide/standalone-components#configuring-dependency-injection for more information\n          "))}init(){var _this=this;return(0,asyncToGenerator.A)(function*(){let analyzed=yield _this.analyzeMetadata(_this.metadata);if(_this.imports=uniqueArray([common_module.MD,analyzed.imports]),_this.providers=uniqueArray(analyzed.providers),_this.applicationProviders=uniqueArray(analyzed.applicationProviders),_this.declarations=uniqueArray(analyzed.declarations),_this.component){let{isDeclarable,isStandalone}=_PropertyExtractor.analyzeDecorators(_this.component),isDeclared=isComponentAlreadyDeclared(_this.component,analyzed.declarations,_this.imports);isStandalone?_this.imports.push(_this.component):isDeclarable&&!isDeclared&&_this.declarations.push(_this.component)}})()}};_PropertyExtractor.analyzeRestricted=function(){var _ref3=(0,asyncToGenerator.A)(function*(ngModule){if(ngModule===browser.Bb)return console.warn(dedent`
          Storybook Warning:
          You have imported the "BrowserModule", which is not necessary anymore. 
          In Storybook v7.0 we are using Angular's new bootstrapApplication API to mount an Angular application to the DOM.
          Note that the BrowserModule providers are automatically included when starting an application with bootstrapApplication()
          Please remove the "BrowserModule" from the list of imports in your moduleMetadata definition to remove this warning.
        `),[!0];try{let animations=yield __webpack_require__.e(5433).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@angular/platform-browser/fesm2022/animations.mjs"));if(ngModule===animations.BrowserAnimationsModule)return console.warn(dedent`
            Storybook Warning:
            You have added the "BrowserAnimationsModule" to the list of "imports" in your moduleMetadata definition of your Story.
            In Storybook 7.0 we use Angular's new 'bootstrapApplication' API to mount the component to the DOM, which accepts a list of providers to set up application-wide providers.
            Use the 'applicationConfig' decorator from '@storybook/angular' and add the "provideAnimations" function to the list of "providers".
            If your Angular version does not support "provide-like" functions, use the helper function importProvidersFrom instead to set up animations. For this case, please add "importProvidersFrom(BrowserAnimationsModule)" to the list of providers of your applicationConfig definition.
            Please visit https://angular.io/guide/standalone-components#configuring-dependency-injection for more information.
          `),[!0,animations.provideAnimations()];if(ngModule===animations.NoopAnimationsModule)return console.warn(dedent`
            Storybook Warning:
            You have added the "NoopAnimationsModule" to the list of "imports" in your moduleMetadata definition of your Story.
            In Storybook v7.0 we are using Angular's new bootstrapApplication API to mount an Angular application to the DOM, which accepts a list of providers to set up application-wide providers.
            Use the 'applicationConfig' decorator from '@storybook/angular' and add the "provideNoopAnimations" function to the list of "providers".
            If your Angular version does not support "provide-like" functions, use the helper function importProvidersFrom instead to set up noop animations and to extract all necessary providers from NoopAnimationsModule. For this case, please add "importProvidersFrom(NoopAnimationsModule)" to the list of providers of your applicationConfig definition.
            Please visit https://angular.io/guide/standalone-components#configuring-dependency-injection for more information.
          `),[!0,animations.provideNoopAnimations()]}catch{return[!1]}return[!1]});return function(_x3){return _ref3.apply(this,arguments)}}(),_PropertyExtractor.analyzeDecorators=component=>{let decorators=reflectionCapabilities3.annotations(component),isComponent2=decorators.some(d=>_PropertyExtractor.isDecoratorInstanceOf(d,"Component")),isDirective=decorators.some(d=>_PropertyExtractor.isDecoratorInstanceOf(d,"Directive")),isPipe=decorators.some(d=>_PropertyExtractor.isDecoratorInstanceOf(d,"Pipe")),isDeclarable=isComponent2||isDirective||isPipe,isStandalone=(isComponent2||isDirective)&&[...decorators].reverse().find(d=>_PropertyExtractor.isDecoratorInstanceOf(d,"Component")||_PropertyExtractor.isDecoratorInstanceOf(d,"Directive"))?.standalone;return void 0===isStandalone&&(isStandalone=!!(root_effect_scheduler.xvI.major&&Number(root_effect_scheduler.xvI.major)>=19)),{isDeclarable,isStandalone}},_PropertyExtractor.isDecoratorInstanceOf=(decorator,name)=>{let factory;switch(name){case"Component":factory=debug_node.uAl;break;case"Directive":factory=debug_node.WLR;break;case"Pipe":factory=debug_node.nT_;break;case"Injectable":factory=debug_node._qm;break;case"Input":factory=debug_node.pde;break;case"Output":factory=debug_node.k7i;break;default:throw new Error(`Unknown decorator type: ${name}`)}return decorator instanceof factory||decorator.ngMetadataName===name};var PropertyExtractor=_PropertyExtractor,getNonInputsOutputsProps=(ngComponentInputsOutputs,props={})=>{let inputs=ngComponentInputsOutputs.inputs.filter(i=>i.templateName in props).map(i=>i.templateName),outputs=ngComponentInputsOutputs.outputs.filter(o=>o.templateName in props).map(o=>o.templateName);return Object.keys(props).filter(k=>![...inputs,...outputs].includes(k))},createStorybookWrapperComponent=({selector,template,storyComponent,styles,moduleMetadata,initialProps,analyzedMetadata})=>{let viewChildSelector=storyComponent??"__storybook-noop",{imports,declarations,providers}=analyzedMetadata,StorybookComponentModule=class{};StorybookComponentModule=__decorateClass([(0,debug_node.UQu)({declarations,imports,exports:[...declarations,...imports]})],StorybookComponentModule),PropertyExtractor.warnImportsModuleWithProviders(analyzedMetadata);let StorybookWrapperComponent=class{constructor(storyProps$,changeDetectorRef){this.storyProps$=storyProps$,this.changeDetectorRef=changeDetectorRef,this.storyComponent=storyComponent??""}ngOnInit(){this.storyWrapperPropsSubscription=this.storyProps$.subscribe((storyProps={})=>{Object.assign(this,storyProps),this.changeDetectorRef.detectChanges(),this.changeDetectorRef.markForCheck()})}ngAfterViewInit(){if(this.storyComponentElementRef){let ngComponentInputsOutputs=getComponentInputsOutputs(storyComponent);getNonInputsOutputsProps(ngComponentInputsOutputs,initialProps).forEach(p=>{this.storyComponentElementRef[p]=initialProps[p]}),this.storyComponentViewContainerRef.injector.get(core.ChangeDetectorRef).markForCheck(),this.changeDetectorRef.detectChanges(),this.storyComponentPropsSubscription=this.storyProps$.pipe((0,skip.i)(1),(0,map.T)(props=>getNonInputsOutputsProps(ngComponentInputsOutputs,props).reduce((acc,p)=>({...acc,[p]:props[p]}),{}))).subscribe(props=>{Object.assign(this.storyComponentElementRef,props),this.storyComponentViewContainerRef.injector.get(core.ChangeDetectorRef).markForCheck(),this.changeDetectorRef.detectChanges()})}}ngOnDestroy(){null!=this.storyComponentPropsSubscription&&this.storyComponentPropsSubscription.unsubscribe(),null!=this.storyWrapperPropsSubscription&&this.storyWrapperPropsSubscription.unsubscribe()}};return __decorateClass([(0,core.ViewChild)(viewChildSelector,{static:!0})],StorybookWrapperComponent.prototype,"storyComponentElementRef",2),__decorateClass([(0,core.ViewChild)(viewChildSelector,{read:debug_node.c1b,static:!0})],StorybookWrapperComponent.prototype,"storyComponentViewContainerRef",2),StorybookWrapperComponent=__decorateClass([(0,debug_node.uAl)({selector,template,standalone:!0,imports:[StorybookComponentModule],providers,styles,schemas:moduleMetadata.schemas}),__decorateParam(0,(0,debug_node.y_5)(STORY_PROPS)),__decorateParam(1,(0,debug_node.y_5)(core.ChangeDetectorRef))],StorybookWrapperComponent),StorybookWrapperComponent};var queue=[],isProcessing=!1,resetCompiledComponents=function(){var _ref4=(0,asyncToGenerator.A)(function*(){try{let{ɵresetCompiledComponents}=yield Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@angular/core/fesm2022/core.mjs"));ɵresetCompiledComponents()}catch{}});return function resetCompiledComponents(){return _ref4.apply(this,arguments)}}(),processQueue=function(){var _ref5=(0,asyncToGenerator.A)(function*(){for(isProcessing=!0;queue.length>0;){let bootstrappingFn=queue.shift();bootstrappingFn&&(yield bootstrappingFn(),yield resetCompiledComponents())}isProcessing=!1});return function processQueue(){return _ref5.apply(this,arguments)}}(),applicationRefs=new Map,AbstractRenderer=class{constructor(){this.previousStoryRenderInfo=new Map}static resetApplications(domNode){applicationRefs.forEach((appRef,appDOMNode)=>{!appRef.destroyed&&(!domNode||appDOMNode===domNode)&&appRef.destroy()})}render(_x4){var _this2=this;return(0,asyncToGenerator.A)(function*({storyFnAngular,forced,component,targetDOMNode}){let targetSelector=_this2.generateTargetSelectorFromStoryId(targetDOMNode.id),newStoryProps$=new BehaviorSubject.t(storyFnAngular.props);if(!_this2.fullRendererRequired({targetDOMNode,storyFnAngular,moduleMetadata:{...storyFnAngular.moduleMetadata},forced}))return void _this2.storyProps$.next(storyFnAngular.props);yield _this2.beforeFullRender(targetDOMNode),_this2.storyProps$&&_this2.storyProps$.complete(),_this2.storyProps$=newStoryProps$,_this2.initAngularRootElement(targetDOMNode,targetSelector);let analyzedMetadata=new PropertyExtractor(storyFnAngular.moduleMetadata,component);yield analyzedMetadata.init();let storyUid=_this2.generateStoryUIdFromRawStoryUid(targetDOMNode.getAttribute("data-sb-story-uid")),componentSelector=null!==storyUid?`${targetSelector}[${storyUid}]`:targetSelector;null!==storyUid&&targetDOMNode.querySelector(targetSelector).toggleAttribute(storyUid,!0);let application=(({storyFnAngular,component,targetSelector,analyzedMetadata})=>{let{props,styles,moduleMetadata={}}=storyFnAngular,{template}=storyFnAngular;return!!function hasNoTemplate(template){return null==template}(template)&&component&&(template=computesTemplateFromComponent(component,props,"")),createStorybookWrapperComponent({moduleMetadata,selector:targetSelector,template,storyComponent:component,styles,initialProps:props,analyzedMetadata})})({storyFnAngular,component,targetSelector:componentSelector,analyzedMetadata}),providers=[(storyProps$=newStoryProps$,{provide:STORY_PROPS,useFactory:(data=storyProps$.asObservable(),ngZone=>new Observable.c(subscriber=>{let sub=data.subscribe(v=>{ngZone.run(()=>subscriber.next(v))},err=>{ngZone.run(()=>subscriber.error(err))},()=>{ngZone.run(()=>subscriber.complete())});return()=>{sub.unsubscribe()}})),deps:[debug_node.SKi]}),...analyzedMetadata.applicationProviders,...storyFnAngular.applicationConfig?.providers??[]];var storyProps$,data;let applicationRef=yield(fn=()=>(0,browser.B8)(application,{...storyFnAngular.applicationConfig,providers}),new Promise((resolve,reject)=>{queue.push(()=>fn().then(resolve).catch(reject)),isProcessing||processQueue()}));var fn;applicationRefs.set(targetDOMNode,applicationRef)}).apply(this,arguments)}generateTargetSelectorFromStoryId(id){let invalidHtmlTag=/[^A-Za-z0-9-]/g;return invalidHtmlTag.test(id)?`sb-${id.replace(invalidHtmlTag,"")}-component`:id}generateStoryUIdFromRawStoryUid(rawStoryUid){if(null===rawStoryUid)return rawStoryUid;return rawStoryUid.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}initAngularRootElement(targetDOMNode,targetSelector){targetDOMNode.innerHTML="",targetDOMNode.appendChild(document.createElement(targetSelector))}fullRendererRequired({targetDOMNode,storyFnAngular,moduleMetadata,forced}){let previousStoryRenderInfo=this.previousStoryRenderInfo.get(targetDOMNode),currentStoryRender={storyFnAngular,moduleMetadataSnapshot:stringify(moduleMetadata,{maxDepth:50})};return this.previousStoryRenderInfo.set(targetDOMNode,currentStoryRender),!(forced&&this.storyProps$&&(!storyFnAngular?.template||previousStoryRenderInfo?.storyFnAngular?.template===storyFnAngular.template))||currentStoryRender.moduleMetadataSnapshot!==previousStoryRenderInfo?.moduleMetadataSnapshot}},CanvasRenderer=class _CanvasRenderer extends AbstractRenderer{render(options){var _superprop_getRender=()=>super.render,_this3=this;return(0,asyncToGenerator.A)(function*(){yield _superprop_getRender().call(_this3,options)})()}beforeFullRender(){return(0,asyncToGenerator.A)(function*(){_CanvasRenderer.resetApplications()})()}},storyCounts=new Map,DocsRenderer=class _DocsRenderer extends AbstractRenderer{render(options){var _superprop_getRender2=()=>super.render,_this4=this;return(0,asyncToGenerator.A)(function*(){let channel=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel();channel.once(external_STORYBOOK_MODULE_CORE_EVENTS_.STORY_CHANGED,(0,asyncToGenerator.A)(function*(){yield _DocsRenderer.resetApplications()})),channel.once(external_STORYBOOK_MODULE_CORE_EVENTS_.DOCS_RENDERED,(0,asyncToGenerator.A)(function*(){yield _DocsRenderer.resetApplications()})),yield _superprop_getRender2().call(_this4,{...options,forced:!1})})()}beforeFullRender(domNode){return(0,asyncToGenerator.A)(function*(){_DocsRenderer.resetApplications(domNode)})()}initAngularRootElement(targetDOMNode,targetSelector){super.initAngularRootElement(targetDOMNode,targetSelector),targetDOMNode.setAttribute("data-sb-story-uid",(storyId=>{storyCounts.has(storyId)||storyCounts.set(storyId,-1);let count=storyCounts.get(storyId)+1;return storyCounts.set(storyId,count),`${storyId}-${count}`})(targetDOMNode.id))}},getRenderType=targetDOMNode=>"storybook-root"===targetDOMNode.id?"canvas":"docs";var rendererFactory=new class{constructor(){this.rendererMap=new Map}getRendererInstance(targetDOMNode){var _this5=this;return(0,asyncToGenerator.A)(function*(){let targetId=targetDOMNode.id;if(null===targetDOMNode)return null;let renderType=getRenderType(targetDOMNode);return _this5.lastRenderType&&_this5.lastRenderType!==renderType&&(yield AbstractRenderer.resetApplications(),function clearRootHTMLElement(renderType){switch(renderType){case"canvas":__webpack_require__.g.document.getElementById("storybook-docs").innerHTML="";break;case"docs":__webpack_require__.g.document.getElementById("storybook-root").innerHTML=""}}(renderType),_this5.rendererMap.clear()),_this5.rendererMap.has(targetId)||_this5.rendererMap.set(targetId,_this5.buildRenderer(renderType)),_this5.lastRenderType=renderType,_this5.rendererMap.get(targetId)})()}buildRenderer(renderType){return"docs"===renderType?new DocsRenderer:new CanvasRenderer}},render=props=>({props});function renderToCanvas(_x5,_x6){return _renderToCanvas.apply(this,arguments)}function _renderToCanvas(){return(_renderToCanvas=(0,asyncToGenerator.A)(function*({storyFn,showMain,forceRemount,storyContext:{component}},element){showMain(),yield(yield rendererFactory.getRendererInstance(element)).render({storyFnAngular:storyFn(),component,forced:!forceRemount,targetDOMNode:element})})).apply(this,arguments)}},"./node_modules/@storybook/angular/dist/client/config.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{applyDecorators:()=>decorateStory,argTypesEnhancers:()=>argTypesEnhancers,parameters:()=>parameters,render:()=>chunk_LXSTVAFF.XX,renderToCanvas:()=>chunk_LXSTVAFF.o$});__webpack_require__("./node_modules/@storybook/angular/dist/chunk-CUDJAP6K.mjs");var n,s,chunk_LXSTVAFF=__webpack_require__("./node_modules/@storybook/angular/dist/chunk-LXSTVAFF.mjs"),external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/preview-api"),dr=(__webpack_require__("storybook/internal/preview-errors"),Object.create),Ie=Object.defineProperty,Tr=Object.getOwnPropertyDescriptor,gr=Object.getOwnPropertyNames,xr=Object.getPrototypeOf,hr=Object.prototype.hasOwnProperty,r=(n,s)=>Ie(n,"name",{value:s,configurable:!0}),dt=(n=(fe,yt)=>{var n,s;n=fe,s=function(n){function s(e){return void 0!==e.text&&""!==e.text?`'${e.type}' with value '${e.text}'`:`'${e.type}'`}r(s,"tokenToString");let ne=class ne extends Error{constructor(t){super(`No parslet found for token: ${s(t)}`),this.token=t,Object.setPrototypeOf(this,ne.prototype)}getToken(){return this.token}};r(ne,"NoParsletFoundError");let a=ne,oe=class oe extends Error{constructor(t){super(`The parsing ended early. The next token was: ${s(t)}`),this.token=t,Object.setPrototypeOf(this,oe.prototype)}getToken(){return this.token}};r(oe,"EarlyEndOfParseError");let p=oe,se=class se extends Error{constructor(t,o){let i=`Unexpected type: '${t.type}'.`;void 0!==o&&(i+=` Message: ${o}`),super(i),Object.setPrototypeOf(this,se.prototype)}};r(se,"UnexpectedTypeError");let c=se;function u(e){return t=>t.startsWith(e)?{type:e,text:e}:null}function m(e){let o,t=0,i=e[0],l=!1;if("'"!==i&&'"'!==i)return null;for(;t<e.length;){if(t++,o=e[t],!l&&o===i){t++;break}l=!l&&"\\"===o}if(o!==i)throw new Error("Unterminated String");return e.slice(0,t)}r(u,"makePunctuationRule"),r(m,"getQuoted");let T=new RegExp("[$_\\p{ID_Start}]|\\\\u\\p{Hex_Digit}{4}|\\\\u\\{0*(?:\\p{Hex_Digit}{1,5}|10\\p{Hex_Digit}{4})\\}","u"),g=new RegExp("[$\\-\\p{ID_Continue}\\u200C\\u200D]|\\\\u\\p{Hex_Digit}{4}|\\\\u\\{0*(?:\\p{Hex_Digit}{1,5}|10\\p{Hex_Digit}{4})\\}","u");function P(e){let t=e[0];if(!T.test(t))return null;let o=1;do{if(t=e[o],!g.test(t))break;o++}while(o<e.length);return e.slice(0,o)}r(P,"getIdentifier");let b=/^(NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity))/;function de(e){var t,o;return null!==(o=null===(t=b.exec(e))||void 0===t?void 0:t[0])&&void 0!==o?o:null}r(de,"getNumber");let q=r(e=>{let t=P(e);return null==t?null:{type:"Identifier",text:t}},"identifierRule");function S(e){return t=>{if(!t.startsWith(e))return null;let o=t[e.length];return void 0!==o&&g.test(o)?null:{type:e,text:e}}}r(S,"makeKeyWordRule");let z=r(e=>{let t=m(e);return null==t?null:{type:"StringValue",text:t}},"stringValueRule"),Te=r(e=>e.length>0?null:{type:"EOF",text:""},"eofRule"),ge=r(e=>{let t=de(e);return null===t?null:{type:"Number",text:t}},"numberRule"),Rt=[Te,u("=>"),u("("),u(")"),u("{"),u("}"),u("["),u("]"),u("|"),u("&"),u("<"),u(">"),u(","),u(";"),u("*"),u("?"),u("!"),u("="),u(":"),u("..."),u("."),u("#"),u("~"),u("/"),u("@"),S("undefined"),S("null"),S("function"),S("this"),S("new"),S("module"),S("event"),S("external"),S("typeof"),S("keyof"),S("readonly"),S("import"),S("is"),S("in"),S("asserts"),ge,q,z],jt=/^\s*\n\s*/,U=class U{static create(t){let o=this.read(t);t=o.text;let i=this.read(t);return t=i.text,new U(t,void 0,o.token,i.token)}constructor(t,o,i,l){this.text="",this.text=t,this.previous=o,this.current=i,this.next=l}static read(t,o=!1){o=o||jt.test(t),t=t.trim();for(let i of Rt){let l=i(t);if(null!==l){let f=Object.assign(Object.assign({},l),{startOfLine:o});return{text:t=t.slice(f.text.length),token:f}}}throw new Error("Unexpected Token "+t)}advance(){let t=U.read(this.text);return new U(t.text,this.current,this.next,t.token)}};r(U,"Lexer");let xe=U;function J(e){if(void 0===e)throw new Error("Unexpected undefined");if("JsdocTypeKeyValue"===e.type||"JsdocTypeParameterList"===e.type||"JsdocTypeProperty"===e.type||"JsdocTypeReadonlyProperty"===e.type||"JsdocTypeObjectField"===e.type||"JsdocTypeJsdocObjectField"===e.type||"JsdocTypeIndexSignature"===e.type||"JsdocTypeMappedType"===e.type)throw new c(e);return e}function he(e){return"JsdocTypeKeyValue"===e.type?H(e):J(e)}function Ft(e){return"JsdocTypeName"===e.type?e:H(e)}function H(e){if("JsdocTypeKeyValue"!==e.type)throw new c(e);return e}function _t(e){var t;if("JsdocTypeVariadic"===e.type){if("JsdocTypeName"===(null===(t=e.element)||void 0===t?void 0:t.type))return e;throw new c(e)}if("JsdocTypeNumber"!==e.type&&"JsdocTypeName"!==e.type)throw new c(e);return e}function Je(e){return"JsdocTypeIndexSignature"===e.type||"JsdocTypeMappedType"===e.type}var y,e;r(J,"assertRootResult"),r(he,"assertPlainKeyValueOrRootResult"),r(Ft,"assertPlainKeyValueOrNameResult"),r(H,"assertPlainKeyValueResult"),r(_t,"assertNumberOrVariadicNameResult"),r(Je,"isSquaredProperty"),(e=y||(y={}))[e.ALL=0]="ALL",e[e.PARAMETER_LIST=1]="PARAMETER_LIST",e[e.OBJECT=2]="OBJECT",e[e.KEY_VALUE=3]="KEY_VALUE",e[e.INDEX_BRACKETS=4]="INDEX_BRACKETS",e[e.UNION=5]="UNION",e[e.INTERSECTION=6]="INTERSECTION",e[e.PREFIX=7]="PREFIX",e[e.INFIX=8]="INFIX",e[e.TUPLE=9]="TUPLE",e[e.SYMBOL=10]="SYMBOL",e[e.OPTIONAL=11]="OPTIONAL",e[e.NULLABLE=12]="NULLABLE",e[e.KEY_OF_TYPE_OF=13]="KEY_OF_TYPE_OF",e[e.FUNCTION=14]="FUNCTION",e[e.ARROW=15]="ARROW",e[e.ARRAY_BRACKETS=16]="ARRAY_BRACKETS",e[e.GENERIC=17]="GENERIC",e[e.NAME_PATH=18]="NAME_PATH",e[e.PARENTHESIS=19]="PARENTHESIS",e[e.SPECIAL_TYPES=20]="SPECIAL_TYPES";let Ae=class Ae{constructor(t,o,i){this.grammar=t,this._lexer="string"==typeof o?xe.create(o):o,this.baseParser=i}get lexer(){return this._lexer}parse(){let t=this.parseType(y.ALL);if("EOF"!==this.lexer.current.type)throw new p(this.lexer.current);return t}parseType(t){return J(this.parseIntermediateType(t))}parseIntermediateType(t){let o=this.tryParslets(null,t);if(null===o)throw new a(this.lexer.current);return this.parseInfixIntermediateType(o,t)}parseInfixIntermediateType(t,o){let i=this.tryParslets(t,o);for(;null!==i;)t=i,i=this.tryParslets(t,o);return t}tryParslets(t,o){for(let i of this.grammar){let l=i(this,o,t);if(null!==l)return l}return null}consume(t){return Array.isArray(t)||(t=[t]),!!t.includes(this.lexer.current.type)&&(this._lexer=this.lexer.advance(),!0)}acceptLexerState(t){this._lexer=t.lexer}};r(Ae,"Parser");let I=Ae;function Ye(e){return"EOF"===e||"|"===e||","===e||")"===e||">"===e}r(Ye,"isQuestionMarkUnknownType");let we=r((e,t,o)=>{let i=e.lexer.current.type,l=e.lexer.next.type;return null==o&&"?"===i&&!Ye(l)||null!=o&&"?"===i?(e.consume("?"),null==o?{type:"JsdocTypeNullable",element:e.parseType(y.NULLABLE),meta:{position:"prefix"}}:{type:"JsdocTypeNullable",element:J(o),meta:{position:"suffix"}}):null},"nullableParslet");function x(e){let t=r((o,i,l)=>{let f=o.lexer.current.type,d=o.lexer.next.type;if(null===l){if("parsePrefix"in e&&e.accept(f,d))return e.parsePrefix(o)}else if("parseInfix"in e&&e.precedence>i&&e.accept(f,d))return e.parseInfix(o,l);return null},"parslet");return Object.defineProperty(t,"name",{value:e.name}),t}r(x,"composeParslet");let Q=x({name:"optionalParslet",accept:r(e=>"="===e,"accept"),precedence:y.OPTIONAL,parsePrefix:r(e=>(e.consume("="),{type:"JsdocTypeOptional",element:e.parseType(y.OPTIONAL),meta:{position:"prefix"}}),"parsePrefix"),parseInfix:r((e,t)=>(e.consume("="),{type:"JsdocTypeOptional",element:J(t),meta:{position:"suffix"}}),"parseInfix")}),Z=x({name:"numberParslet",accept:r(e=>"Number"===e,"accept"),parsePrefix:r(e=>{let t=parseFloat(e.lexer.current.text);return e.consume("Number"),{type:"JsdocTypeNumber",value:t}},"parsePrefix")}),Vt=x({name:"parenthesisParslet",accept:r(e=>"("===e,"accept"),parsePrefix:r(e=>{if(e.consume("("),e.consume(")"))return{type:"JsdocTypeParameterList",elements:[]};let t=e.parseIntermediateType(y.ALL);if(!e.consume(")"))throw new Error("Unterminated parenthesis");return"JsdocTypeParameterList"===t.type?t:"JsdocTypeKeyValue"===t.type?{type:"JsdocTypeParameterList",elements:[t]}:{type:"JsdocTypeParenthesis",element:J(t)}},"parsePrefix")}),Lt=x({name:"specialTypesParslet",accept:r((e,t)=>"?"===e&&Ye(t)||"null"===e||"undefined"===e||"*"===e,"accept"),parsePrefix:r(e=>{if(e.consume("null"))return{type:"JsdocTypeNull"};if(e.consume("undefined"))return{type:"JsdocTypeUndefined"};if(e.consume("*"))return{type:"JsdocTypeAny"};if(e.consume("?"))return{type:"JsdocTypeUnknown"};throw new Error("Unacceptable token: "+e.lexer.current.text)},"parsePrefix")}),Ut=x({name:"notNullableParslet",accept:r(e=>"!"===e,"accept"),precedence:y.NULLABLE,parsePrefix:r(e=>(e.consume("!"),{type:"JsdocTypeNotNullable",element:e.parseType(y.NULLABLE),meta:{position:"prefix"}}),"parsePrefix"),parseInfix:r((e,t)=>(e.consume("!"),{type:"JsdocTypeNotNullable",element:J(t),meta:{position:"suffix"}}),"parseInfix")});function Bt({allowTrailingComma:e}){return x({name:"parameterListParslet",accept:r(t=>","===t,"accept"),precedence:y.PARAMETER_LIST,parseInfix:r((t,o)=>{let i=[he(o)];t.consume(",");do{try{let l=t.parseIntermediateType(y.PARAMETER_LIST);i.push(he(l))}catch(l){if(e&&l instanceof a)break;throw l}}while(t.consume(","));if(i.length>0&&i.slice(0,-1).some(l=>"JsdocTypeVariadic"===l.type))throw new Error("Only the last parameter may be a rest parameter");return{type:"JsdocTypeParameterList",elements:i}},"parseInfix")})}r(Bt,"createParameterListParslet");let Ct=x({name:"genericParslet",accept:r((e,t)=>"<"===e||"."===e&&"<"===t,"accept"),precedence:y.GENERIC,parseInfix:r((e,t)=>{let o=e.consume(".");e.consume("<");let i=[];do{i.push(e.parseType(y.PARAMETER_LIST))}while(e.consume(","));if(!e.consume(">"))throw new Error("Unterminated generic parameter list");return{type:"JsdocTypeGeneric",left:J(t),elements:i,meta:{brackets:"angle",dot:o}}},"parseInfix")}),Mt=x({name:"unionParslet",accept:r(e=>"|"===e,"accept"),precedence:y.UNION,parseInfix:r((e,t)=>{e.consume("|");let o=[];do{o.push(e.parseType(y.UNION))}while(e.consume("|"));return{type:"JsdocTypeUnion",elements:[J(t),...o]}},"parseInfix")}),Pe=[we,Q,Z,Vt,Lt,Ut,Bt({allowTrailingComma:!0}),Ct,Mt,Q];function ee({allowSquareBracketsOnAnyType:e,allowJsdocNamePaths:t,pathGrammar:o}){return r(function(l,f,d){if(null==d||f>=y.NAME_PATH)return null;let h=l.lexer.current.type,D=l.lexer.next.type;if(!("."===h&&"<"!==D||"["===h&&(e||"JsdocTypeName"===d.type)||t&&("~"===h||"#"===h)))return null;let O,ae=!1;l.consume(".")?O="property":l.consume("[")?(O="property-brackets",ae=!0):l.consume("~")?O="inner":(l.consume("#"),O="instance");let G,rt=null!==o?new I(o,l.lexer,l):l,k=rt.parseIntermediateType(y.NAME_PATH);switch(l.acceptLexerState(rt),k.type){case"JsdocTypeName":G={type:"JsdocTypeProperty",value:k.value,meta:{quote:void 0}};break;case"JsdocTypeNumber":G={type:"JsdocTypeProperty",value:k.value.toString(10),meta:{quote:void 0}};break;case"JsdocTypeStringValue":G={type:"JsdocTypeProperty",value:k.value,meta:{quote:k.meta.quote}};break;case"JsdocTypeSpecialNamePath":if("event"!==k.specialType)throw new c(k,"Type 'JsdocTypeSpecialNamePath' is only allowed with specialType 'event'");G=k;break;default:throw new c(k,"Expecting 'JsdocTypeName', 'JsdocTypeNumber', 'JsdocStringValue' or 'JsdocTypeSpecialNamePath'")}if(ae&&!l.consume("]")){let nt=l.lexer.current;throw new Error(`Unterminated square brackets. Next token is '${nt.type}' with text '${nt.text}'`)}return{type:"JsdocTypeNamePath",left:J(d),right:G,pathType:O}},"namePathParslet")}function R({allowedAdditionalTokens:e}){return x({name:"nameParslet",accept:r(t=>"Identifier"===t||"this"===t||"new"===t||e.includes(t),"accept"),parsePrefix:r(t=>{let{type:o,text:i}=t.lexer.current;return t.consume(o),{type:"JsdocTypeName",value:i}},"parsePrefix")})}r(ee,"createNamePathParslet"),r(R,"createNameParslet");let Y=x({name:"stringValueParslet",accept:r(e=>"StringValue"===e,"accept"),parsePrefix:r(e=>{let t=e.lexer.current.text;return e.consume("StringValue"),{type:"JsdocTypeStringValue",value:t.slice(1,-1),meta:{quote:"'"===t[0]?"single":"double"}}},"parsePrefix")});function te({pathGrammar:e,allowedTypes:t}){return x({name:"specialNamePathParslet",accept:r(o=>t.includes(o),"accept"),parsePrefix:r(o=>{let i=o.lexer.current.type;if(o.consume(i),!o.consume(":"))return{type:"JsdocTypeName",value:i};let l,f=o.lexer.current;if(o.consume("StringValue"))l={type:"JsdocTypeSpecialNamePath",value:f.text.slice(1,-1),specialType:i,meta:{quote:"'"===f.text[0]?"single":"double"}};else{let D="",E=["Identifier","@","/"];for(;E.some(O=>o.consume(O));)D+=f.text,f=o.lexer.current;l={type:"JsdocTypeSpecialNamePath",value:D,specialType:i,meta:{quote:void 0}}}let d=new I(e,o.lexer,o),h=d.parseInfixIntermediateType(l,y.ALL);return o.acceptLexerState(d),J(h)},"parsePrefix")})}r(te,"createSpecialNamePathParslet");let We=[R({allowedAdditionalTokens:["external","module"]}),Y,Z,ee({allowSquareBracketsOnAnyType:!1,allowJsdocNamePaths:!0,pathGrammar:null})],L=[...We,te({allowedTypes:["event"],pathGrammar:We})];function be(e){let t;if("JsdocTypeParameterList"===e.type)t=e.elements;else{if("JsdocTypeParenthesis"!==e.type)throw new c(e);t=[e.element]}return t.map(o=>he(o))}function Kt(e){let t=be(e);if(t.some(o=>"JsdocTypeKeyValue"===o.type))throw new Error("No parameter should be named");return t}function Se({allowNamedParameters:e,allowNoReturnType:t,allowWithoutParenthesis:o,allowNewAsFunctionKeyword:i}){return x({name:"functionParslet",accept:r((l,f)=>"function"===l||i&&"new"===l&&"("===f,"accept"),parsePrefix:r(l=>{let f=l.consume("new");l.consume("function");let d="("===l.lexer.current.type;if(!d){if(!o)throw new Error("function is missing parameter list");return{type:"JsdocTypeName",value:"function"}}let h={type:"JsdocTypeFunction",parameters:[],arrow:!1,constructor:f,parenthesis:d},D=l.parseIntermediateType(y.FUNCTION);if(void 0===e)h.parameters=Kt(D);else{if(f&&"JsdocTypeFunction"===D.type&&D.arrow)return h=D,h.constructor=!0,h;h.parameters=be(D);for(let E of h.parameters)if("JsdocTypeKeyValue"===E.type&&!e.includes(E.key))throw new Error(`only allowed named parameters are ${e.join(", ")} but got ${E.type}`)}if(l.consume(":"))h.returnType=l.parseType(y.PREFIX);else if(!t)throw new Error("function is missing return type");return h},"parsePrefix")})}function Ee({allowPostfix:e,allowEnclosingBrackets:t}){return x({name:"variadicParslet",accept:r(o=>"..."===o,"accept"),precedence:y.PREFIX,parsePrefix:r(o=>{o.consume("...");let i=t&&o.consume("[");try{let l=o.parseType(y.PREFIX);if(i&&!o.consume("]"))throw new Error("Unterminated variadic type. Missing ']'");return{type:"JsdocTypeVariadic",element:J(l),meta:{position:"prefix",squareBrackets:i}}}catch(l){if(l instanceof a){if(i)throw new Error("Empty square brackets for variadic are not allowed.");return{type:"JsdocTypeVariadic",meta:{position:void 0,squareBrackets:!1}}}throw l}},"parsePrefix"),parseInfix:e?(o,i)=>(o.consume("..."),{type:"JsdocTypeVariadic",element:J(i),meta:{position:"suffix",squareBrackets:!1}}):void 0})}r(be,"getParameters"),r(Kt,"getUnnamedParameters"),r(Se,"createFunctionParslet"),r(Ee,"createVariadicParslet");let Ge=x({name:"symbolParslet",accept:r(e=>"("===e,"accept"),precedence:y.SYMBOL,parseInfix:r((e,t)=>{if("JsdocTypeName"!==t.type)throw new Error("Symbol expects a name on the left side. (Reacting on '(')");e.consume("(");let o={type:"JsdocTypeSymbol",value:t.value};if(!e.consume(")")){let i=e.parseIntermediateType(y.SYMBOL);if(o.element=_t(i),!e.consume(")"))throw new Error("Symbol does not end after value")}return o},"parseInfix")}),Xe=x({name:"arrayBracketsParslet",precedence:y.ARRAY_BRACKETS,accept:r((e,t)=>"["===e&&"]"===t,"accept"),parseInfix:r((e,t)=>(e.consume("["),e.consume("]"),{type:"JsdocTypeGeneric",left:{type:"JsdocTypeName",value:"Array"},elements:[J(t)],meta:{brackets:"square",dot:!1}}),"parseInfix")});function Ne({objectFieldGrammar:e,allowKeyTypes:t}){return x({name:"objectParslet",accept:r(o=>"{"===o,"accept"),parsePrefix:r(o=>{o.consume("{");let i={type:"JsdocTypeObject",meta:{separator:"comma"},elements:[]};if(!o.consume("}")){let l,f=new I(e,o.lexer,o);for(;;){f.acceptLexerState(o);let d=f.parseIntermediateType(y.OBJECT);o.acceptLexerState(f),void 0===d&&t&&(d=o.parseIntermediateType(y.OBJECT));let h=!1;if("JsdocTypeNullable"===d.type&&(h=!0,d=d.element),"JsdocTypeNumber"===d.type||"JsdocTypeName"===d.type||"JsdocTypeStringValue"===d.type){let E;"JsdocTypeStringValue"===d.type&&(E=d.meta.quote),i.elements.push({type:"JsdocTypeObjectField",key:d.value.toString(),right:void 0,optional:h,readonly:!1,meta:{quote:E}})}else{if("JsdocTypeObjectField"!==d.type&&"JsdocTypeJsdocObjectField"!==d.type)throw new c(d);i.elements.push(d)}if(o.lexer.current.startOfLine)l="linebreak";else if(o.consume(","))l="comma";else{if(!o.consume(";"))break;l="semicolon"}if("}"===o.lexer.current.type)break}if(i.meta.separator=l??"comma",!o.consume("}"))throw new Error("Unterminated record type. Missing '}'")}return i},"parsePrefix")})}function De({allowSquaredProperties:e,allowKeyTypes:t,allowReadonly:o,allowOptional:i}){return x({name:"objectFieldParslet",precedence:y.KEY_VALUE,accept:r(l=>":"===l,"accept"),parseInfix:r((l,f)=>{var d;let h=!1,D=!1;i&&"JsdocTypeNullable"===f.type&&(h=!0,f=f.element),o&&"JsdocTypeReadonlyProperty"===f.type&&(D=!0,f=f.element);let E=null!==(d=l.baseParser)&&void 0!==d?d:l;if(E.acceptLexerState(l),"JsdocTypeNumber"===f.type||"JsdocTypeName"===f.type||"JsdocTypeStringValue"===f.type||Je(f)){if(Je(f)&&!e)throw new c(f);let O;E.consume(":"),"JsdocTypeStringValue"===f.type&&(O=f.meta.quote);let ae=E.parseType(y.KEY_VALUE);return l.acceptLexerState(E),{type:"JsdocTypeObjectField",key:Je(f)?f:f.value.toString(),right:ae,optional:h,readonly:D,meta:{quote:O}}}{if(!t)throw new c(f);E.consume(":");let O=E.parseType(y.KEY_VALUE);return l.acceptLexerState(E),{type:"JsdocTypeJsdocObjectField",left:J(f),right:O}}},"parseInfix")})}function Oe({allowOptional:e,allowVariadic:t}){return x({name:"keyValueParslet",precedence:y.KEY_VALUE,accept:r(o=>":"===o,"accept"),parseInfix:r((o,i)=>{let l=!1,f=!1;if(e&&"JsdocTypeNullable"===i.type&&(l=!0,i=i.element),t&&"JsdocTypeVariadic"===i.type&&void 0!==i.element&&(f=!0,i=i.element),"JsdocTypeName"!==i.type)throw new c(i);o.consume(":");let d=o.parseType(y.KEY_VALUE);return{type:"JsdocTypeKeyValue",key:i.value,right:d,optional:l,variadic:f}},"parseInfix")})}r(Ne,"createObjectParslet"),r(De,"createObjectFieldParslet"),r(Oe,"createKeyValueParslet");let ze=[...Pe,Se({allowWithoutParenthesis:!0,allowNamedParameters:["this","new"],allowNoReturnType:!0,allowNewAsFunctionKeyword:!1}),Y,te({allowedTypes:["module","external","event"],pathGrammar:L}),Ee({allowEnclosingBrackets:!0,allowPostfix:!0}),R({allowedAdditionalTokens:["keyof"]}),Ge,Xe,ee({allowSquareBracketsOnAnyType:!1,allowJsdocNamePaths:!0,pathGrammar:L})],$t=[...ze,Ne({objectFieldGrammar:[R({allowedAdditionalTokens:["module","in"]}),De({allowSquaredProperties:!1,allowKeyTypes:!0,allowOptional:!1,allowReadonly:!1}),...ze],allowKeyTypes:!0}),Oe({allowOptional:!0,allowVariadic:!0})],He=x({name:"typeOfParslet",accept:r(e=>"typeof"===e,"accept"),parsePrefix:r(e=>(e.consume("typeof"),{type:"JsdocTypeTypeof",element:J(e.parseType(y.KEY_OF_TYPE_OF))}),"parsePrefix")}),qt=[R({allowedAdditionalTokens:["module","keyof","event","external","in"]}),we,Q,Y,Z,De({allowSquaredProperties:!1,allowKeyTypes:!1,allowOptional:!1,allowReadonly:!1})],Yt=[...Pe,Ne({allowKeyTypes:!1,objectFieldGrammar:qt}),R({allowedAdditionalTokens:["event","external","in"]}),He,Se({allowWithoutParenthesis:!1,allowNamedParameters:["this","new"],allowNoReturnType:!0,allowNewAsFunctionKeyword:!1}),Ee({allowEnclosingBrackets:!1,allowPostfix:!1}),R({allowedAdditionalTokens:["keyof"]}),te({allowedTypes:["module"],pathGrammar:L}),ee({allowSquareBracketsOnAnyType:!1,allowJsdocNamePaths:!0,pathGrammar:L}),Oe({allowOptional:!1,allowVariadic:!1}),Ge],Wt=x({name:"assertsParslet",accept:r(e=>"asserts"===e,"accept"),parsePrefix:r(e=>{e.consume("asserts");let t=e.parseIntermediateType(y.SYMBOL);if("JsdocTypeName"!==t.type)throw new c(t,"A typescript asserts always has to have a name on the left side.");return e.consume("is"),{type:"JsdocTypeAsserts",left:t,right:J(e.parseIntermediateType(y.INFIX))}},"parsePrefix")});function Gt({allowQuestionMark:e}){return x({name:"tupleParslet",accept:r(t=>"["===t,"accept"),parsePrefix:r(t=>{t.consume("[");let o={type:"JsdocTypeTuple",elements:[]};if(t.consume("]"))return o;let i=t.parseIntermediateType(y.ALL);if("JsdocTypeParameterList"===i.type?"JsdocTypeKeyValue"===i.elements[0].type?o.elements=i.elements.map(H):o.elements=i.elements.map(J):"JsdocTypeKeyValue"===i.type?o.elements=[H(i)]:o.elements=[J(i)],!t.consume("]"))throw new Error("Unterminated '['");if(!e&&o.elements.some(l=>"JsdocTypeUnknown"===l.type))throw new Error("Question mark in tuple not allowed");return o},"parsePrefix")})}r(Gt,"createTupleParslet");let Xt=x({name:"keyOfParslet",accept:r(e=>"keyof"===e,"accept"),parsePrefix:r(e=>(e.consume("keyof"),{type:"JsdocTypeKeyof",element:J(e.parseType(y.KEY_OF_TYPE_OF))}),"parsePrefix")}),zt=x({name:"importParslet",accept:r(e=>"import"===e,"accept"),parsePrefix:r(e=>{if(e.consume("import"),!e.consume("("))throw new Error("Missing parenthesis after import keyword");let t=e.parseType(y.PREFIX);if("JsdocTypeStringValue"!==t.type)throw new Error("Only string values are allowed as paths for imports");if(!e.consume(")"))throw new Error("Missing closing parenthesis after import keyword");return{type:"JsdocTypeImport",element:t}},"parsePrefix")}),Ht=x({name:"readonlyPropertyParslet",accept:r(e=>"readonly"===e,"accept"),parsePrefix:r(e=>(e.consume("readonly"),{type:"JsdocTypeReadonlyProperty",element:e.parseType(y.KEY_VALUE)}),"parsePrefix")}),Qt=x({name:"arrowFunctionParslet",precedence:y.ARROW,accept:r(e=>"=>"===e,"accept"),parseInfix:r((e,t)=>(e.consume("=>"),{type:"JsdocTypeFunction",parameters:be(t).map(Ft),arrow:!0,constructor:!1,parenthesis:!0,returnType:e.parseType(y.OBJECT)}),"parseInfix")}),Zt=x({name:"intersectionParslet",accept:r(e=>"&"===e,"accept"),precedence:y.INTERSECTION,parseInfix:r((e,t)=>{e.consume("&");let o=[];do{o.push(e.parseType(y.INTERSECTION))}while(e.consume("&"));return{type:"JsdocTypeIntersection",elements:[J(t),...o]}},"parseInfix")}),er=x({name:"predicateParslet",precedence:y.INFIX,accept:r(e=>"is"===e,"accept"),parseInfix:r((e,t)=>{if("JsdocTypeName"!==t.type)throw new c(t,"A typescript predicate always has to have a name on the left side.");return e.consume("is"),{type:"JsdocTypePredicate",left:t,right:J(e.parseIntermediateType(y.INFIX))}},"parseInfix")}),tr=x({name:"objectSquareBracketPropertyParslet",accept:r(e=>"["===e,"accept"),parsePrefix:r(e=>{if(void 0===e.baseParser)throw new Error("Only allowed inside object grammar");e.consume("[");let o,t=e.lexer.current.text;if(e.consume("Identifier"),e.consume(":")){let i=e.baseParser;i.acceptLexerState(e),o={type:"JsdocTypeIndexSignature",key:t,right:i.parseType(y.INDEX_BRACKETS)},e.acceptLexerState(i)}else{if(!e.consume("in"))throw new Error("Missing ':' or 'in' inside square bracketed property.");{let i=e.baseParser;i.acceptLexerState(e),o={type:"JsdocTypeMappedType",key:t,right:i.parseType(y.ARRAY_BRACKETS)},e.acceptLexerState(i)}}if(!e.consume("]"))throw new Error("Unterminated square brackets");return o},"parsePrefix")}),rr=[Ht,R({allowedAdditionalTokens:["module","event","keyof","event","external","in"]}),we,Q,Y,Z,De({allowSquaredProperties:!0,allowKeyTypes:!1,allowOptional:!0,allowReadonly:!0}),tr],nr=[...Pe,Ne({allowKeyTypes:!1,objectFieldGrammar:rr}),He,Xt,zt,Y,Se({allowWithoutParenthesis:!0,allowNoReturnType:!1,allowNamedParameters:["this","new","args"],allowNewAsFunctionKeyword:!0}),Gt({allowQuestionMark:!1}),Ee({allowEnclosingBrackets:!1,allowPostfix:!1}),Wt,R({allowedAdditionalTokens:["event","external","in"]}),te({allowedTypes:["module"],pathGrammar:L}),Xe,Qt,ee({allowSquareBracketsOnAnyType:!0,allowJsdocNamePaths:!1,pathGrammar:L}),Zt,er,Oe({allowVariadic:!0,allowOptional:!0})];function Qe(e,t){switch(t){case"closure":return new I(Yt,e).parse();case"jsdoc":return new I($t,e).parse();case"typescript":return new I(nr,e).parse()}}function or(e,t=["typescript","closure","jsdoc"]){let o;for(let i of t)try{return Qe(e,i)}catch(l){o=l}throw o}function W(e,t){let o=e[t.type];if(void 0===o)throw new Error(`In this set of transform rules exists no rule for type ${t.type}.`);return o(t,i=>W(e,i))}function N(e){throw new Error("This transform is not available. Are you trying the correct parsing mode?")}function Ze(e){let t={params:[]};for(let o of e.parameters)"JsdocTypeKeyValue"===o.type?"this"===o.key?t.this=o.right:"new"===o.key?t.new=o.right:t.params.push(o):t.params.push(o);return t}function re(e,t,o){return"prefix"===e?o+t:t+o}function j(e,t){switch(t){case"double":return`"${e}"`;case"single":return`'${e}'`;case void 0:return e}}function et(){return{JsdocTypeParenthesis:r((e,t)=>`(${void 0!==e.element?t(e.element):""})`,"JsdocTypeParenthesis"),JsdocTypeKeyof:r((e,t)=>`keyof ${t(e.element)}`,"JsdocTypeKeyof"),JsdocTypeFunction:r((e,t)=>{if(e.arrow){if(void 0===e.returnType)throw new Error("Arrow function needs a return type.");let o=`(${e.parameters.map(t).join(", ")}) => ${t(e.returnType)}`;return e.constructor&&(o="new "+o),o}{let o=e.constructor?"new":"function";return e.parenthesis&&(o+=`(${e.parameters.map(t).join(", ")})`,void 0!==e.returnType&&(o+=`: ${t(e.returnType)}`)),o}},"JsdocTypeFunction"),JsdocTypeName:r(e=>e.value,"JsdocTypeName"),JsdocTypeTuple:r((e,t)=>`[${e.elements.map(t).join(", ")}]`,"JsdocTypeTuple"),JsdocTypeVariadic:r((e,t)=>void 0===e.meta.position?"...":re(e.meta.position,t(e.element),"..."),"JsdocTypeVariadic"),JsdocTypeNamePath:r((e,t)=>{let o=t(e.left),i=t(e.right);switch(e.pathType){case"inner":return`${o}~${i}`;case"instance":return`${o}#${i}`;case"property":return`${o}.${i}`;case"property-brackets":return`${o}[${i}]`}},"JsdocTypeNamePath"),JsdocTypeStringValue:r(e=>j(e.value,e.meta.quote),"JsdocTypeStringValue"),JsdocTypeAny:r(()=>"*","JsdocTypeAny"),JsdocTypeGeneric:r((e,t)=>{if("square"===e.meta.brackets){let o=e.elements[0],i=t(o);return"JsdocTypeUnion"===o.type||"JsdocTypeIntersection"===o.type?`(${i})[]`:`${i}[]`}return`${t(e.left)}${e.meta.dot?".":""}<${e.elements.map(t).join(", ")}>`},"JsdocTypeGeneric"),JsdocTypeImport:r((e,t)=>`import(${t(e.element)})`,"JsdocTypeImport"),JsdocTypeObjectField:r((e,t)=>{let o="";return e.readonly&&(o+="readonly "),"string"==typeof e.key?o+=j(e.key,e.meta.quote):o+=t(e.key),e.optional&&(o+="?"),void 0===e.right?o:o+`: ${t(e.right)}`},"JsdocTypeObjectField"),JsdocTypeJsdocObjectField:r((e,t)=>`${t(e.left)}: ${t(e.right)}`,"JsdocTypeJsdocObjectField"),JsdocTypeKeyValue:r((e,t)=>{let o=e.key;return e.optional&&(o+="?"),e.variadic&&(o="..."+o),void 0===e.right?o:o+`: ${t(e.right)}`},"JsdocTypeKeyValue"),JsdocTypeSpecialNamePath:r(e=>`${e.specialType}:${j(e.value,e.meta.quote)}`,"JsdocTypeSpecialNamePath"),JsdocTypeNotNullable:r((e,t)=>re(e.meta.position,t(e.element),"!"),"JsdocTypeNotNullable"),JsdocTypeNull:r(()=>"null","JsdocTypeNull"),JsdocTypeNullable:r((e,t)=>re(e.meta.position,t(e.element),"?"),"JsdocTypeNullable"),JsdocTypeNumber:r(e=>e.value.toString(),"JsdocTypeNumber"),JsdocTypeObject:r((e,t)=>`{${e.elements.map(t).join(("comma"===e.meta.separator?",":";")+" ")}}`,"JsdocTypeObject"),JsdocTypeOptional:r((e,t)=>re(e.meta.position,t(e.element),"="),"JsdocTypeOptional"),JsdocTypeSymbol:r((e,t)=>`${e.value}(${void 0!==e.element?t(e.element):""})`,"JsdocTypeSymbol"),JsdocTypeTypeof:r((e,t)=>`typeof ${t(e.element)}`,"JsdocTypeTypeof"),JsdocTypeUndefined:r(()=>"undefined","JsdocTypeUndefined"),JsdocTypeUnion:r((e,t)=>e.elements.map(t).join(" | "),"JsdocTypeUnion"),JsdocTypeUnknown:r(()=>"?","JsdocTypeUnknown"),JsdocTypeIntersection:r((e,t)=>e.elements.map(t).join(" & "),"JsdocTypeIntersection"),JsdocTypeProperty:r(e=>j(e.value,e.meta.quote),"JsdocTypeProperty"),JsdocTypePredicate:r((e,t)=>`${t(e.left)} is ${t(e.right)}`,"JsdocTypePredicate"),JsdocTypeIndexSignature:r((e,t)=>`[${e.key}: ${t(e.right)}]`,"JsdocTypeIndexSignature"),JsdocTypeMappedType:r((e,t)=>`[${e.key} in ${t(e.right)}]`,"JsdocTypeMappedType"),JsdocTypeAsserts:r((e,t)=>`asserts ${t(e.left)} is ${t(e.right)}`,"JsdocTypeAsserts")}}r(Qe,"parse"),r(or,"tryParse"),r(W,"transform"),r(N,"notAvailableTransform"),r(Ze,"extractSpecialParams"),r(re,"applyPosition"),r(j,"quote"),r(et,"stringifyRules");let sr=et();function ar(e){return W(sr,e)}r(ar,"stringify");let ir=["null","true","false","break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield"];function F(e){let t={type:"NameExpression",name:e};return ir.includes(e)&&(t.reservedWord=!0),t}r(F,"makeName");let pr={JsdocTypeOptional:r((e,t)=>{let o=t(e.element);return o.optional=!0,o},"JsdocTypeOptional"),JsdocTypeNullable:r((e,t)=>{let o=t(e.element);return o.nullable=!0,o},"JsdocTypeNullable"),JsdocTypeNotNullable:r((e,t)=>{let o=t(e.element);return o.nullable=!1,o},"JsdocTypeNotNullable"),JsdocTypeVariadic:r((e,t)=>{if(void 0===e.element)throw new Error("dots without value are not allowed in catharsis mode");let o=t(e.element);return o.repeatable=!0,o},"JsdocTypeVariadic"),JsdocTypeAny:r(()=>({type:"AllLiteral"}),"JsdocTypeAny"),JsdocTypeNull:r(()=>({type:"NullLiteral"}),"JsdocTypeNull"),JsdocTypeStringValue:r(e=>F(j(e.value,e.meta.quote)),"JsdocTypeStringValue"),JsdocTypeUndefined:r(()=>({type:"UndefinedLiteral"}),"JsdocTypeUndefined"),JsdocTypeUnknown:r(()=>({type:"UnknownLiteral"}),"JsdocTypeUnknown"),JsdocTypeFunction:r((e,t)=>{let o=Ze(e),i={type:"FunctionType",params:o.params.map(t)};return void 0!==o.this&&(i.this=t(o.this)),void 0!==o.new&&(i.new=t(o.new)),void 0!==e.returnType&&(i.result=t(e.returnType)),i},"JsdocTypeFunction"),JsdocTypeGeneric:r((e,t)=>({type:"TypeApplication",applications:e.elements.map(o=>t(o)),expression:t(e.left)}),"JsdocTypeGeneric"),JsdocTypeSpecialNamePath:r(e=>F(e.specialType+":"+j(e.value,e.meta.quote)),"JsdocTypeSpecialNamePath"),JsdocTypeName:r(e=>"function"!==e.value?F(e.value):{type:"FunctionType",params:[]},"JsdocTypeName"),JsdocTypeNumber:r(e=>F(e.value.toString()),"JsdocTypeNumber"),JsdocTypeObject:r((e,t)=>{let o={type:"RecordType",fields:[]};for(let i of e.elements)"JsdocTypeObjectField"!==i.type&&"JsdocTypeJsdocObjectField"!==i.type?o.fields.push({type:"FieldType",key:t(i),value:void 0}):o.fields.push(t(i));return o},"JsdocTypeObject"),JsdocTypeObjectField:r((e,t)=>{if("string"!=typeof e.key)throw new Error("Index signatures and mapped types are not supported");return{type:"FieldType",key:F(j(e.key,e.meta.quote)),value:void 0===e.right?void 0:t(e.right)}},"JsdocTypeObjectField"),JsdocTypeJsdocObjectField:r((e,t)=>({type:"FieldType",key:t(e.left),value:t(e.right)}),"JsdocTypeJsdocObjectField"),JsdocTypeUnion:r((e,t)=>({type:"TypeUnion",elements:e.elements.map(o=>t(o))}),"JsdocTypeUnion"),JsdocTypeKeyValue:r((e,t)=>({type:"FieldType",key:F(e.key),value:void 0===e.right?void 0:t(e.right)}),"JsdocTypeKeyValue"),JsdocTypeNamePath:r((e,t)=>{let i,o=t(e.left);i="JsdocTypeSpecialNamePath"===e.right.type?t(e.right).name:j(e.right.value,e.right.meta.quote);let l="inner"===e.pathType?"~":"instance"===e.pathType?"#":".";return F(`${o.name}${l}${i}`)},"JsdocTypeNamePath"),JsdocTypeSymbol:r(e=>{let t="",o=e.element,i=!1;return"JsdocTypeVariadic"===o?.type&&("prefix"===o.meta.position?t="...":i=!0,o=o.element),"JsdocTypeName"===o?.type?t+=o.value:"JsdocTypeNumber"===o?.type&&(t+=o.value.toString()),i&&(t+="..."),F(`${e.value}(${t})`)},"JsdocTypeSymbol"),JsdocTypeParenthesis:r((e,t)=>t(J(e.element)),"JsdocTypeParenthesis"),JsdocTypeMappedType:N,JsdocTypeIndexSignature:N,JsdocTypeImport:N,JsdocTypeKeyof:N,JsdocTypeTuple:N,JsdocTypeTypeof:N,JsdocTypeIntersection:N,JsdocTypeProperty:N,JsdocTypePredicate:N,JsdocTypeAsserts:N};function cr(e){return W(pr,e)}function V(e){switch(e){case void 0:return"none";case"single":return"single";case"double":return"double"}}function lr(e){switch(e){case"inner":return"INNER_MEMBER";case"instance":return"INSTANCE_MEMBER";case"property":case"property-brackets":return"MEMBER"}}function ve(e,t){return 2===t.length?{type:e,left:t[0],right:t[1]}:{type:e,left:t[0],right:ve(e,t.slice(1))}}r(cr,"catharsisTransform"),r(V,"getQuoteStyle"),r(lr,"getMemberType"),r(ve,"nestResults");let ur={JsdocTypeOptional:r((e,t)=>({type:"OPTIONAL",value:t(e.element),meta:{syntax:"prefix"===e.meta.position?"PREFIX_EQUAL_SIGN":"SUFFIX_EQUALS_SIGN"}}),"JsdocTypeOptional"),JsdocTypeNullable:r((e,t)=>({type:"NULLABLE",value:t(e.element),meta:{syntax:"prefix"===e.meta.position?"PREFIX_QUESTION_MARK":"SUFFIX_QUESTION_MARK"}}),"JsdocTypeNullable"),JsdocTypeNotNullable:r((e,t)=>({type:"NOT_NULLABLE",value:t(e.element),meta:{syntax:"prefix"===e.meta.position?"PREFIX_BANG":"SUFFIX_BANG"}}),"JsdocTypeNotNullable"),JsdocTypeVariadic:r((e,t)=>{let o={type:"VARIADIC",meta:{syntax:"prefix"===e.meta.position?"PREFIX_DOTS":"suffix"===e.meta.position?"SUFFIX_DOTS":"ONLY_DOTS"}};return void 0!==e.element&&(o.value=t(e.element)),o},"JsdocTypeVariadic"),JsdocTypeName:r(e=>({type:"NAME",name:e.value}),"JsdocTypeName"),JsdocTypeTypeof:r((e,t)=>({type:"TYPE_QUERY",name:t(e.element)}),"JsdocTypeTypeof"),JsdocTypeTuple:r((e,t)=>({type:"TUPLE",entries:e.elements.map(t)}),"JsdocTypeTuple"),JsdocTypeKeyof:r((e,t)=>({type:"KEY_QUERY",value:t(e.element)}),"JsdocTypeKeyof"),JsdocTypeImport:r(e=>({type:"IMPORT",path:{type:"STRING_VALUE",quoteStyle:V(e.element.meta.quote),string:e.element.value}}),"JsdocTypeImport"),JsdocTypeUndefined:r(()=>({type:"NAME",name:"undefined"}),"JsdocTypeUndefined"),JsdocTypeAny:r(()=>({type:"ANY"}),"JsdocTypeAny"),JsdocTypeFunction:r((e,t)=>{let o=Ze(e),i={type:e.arrow?"ARROW":"FUNCTION",params:o.params.map(l=>{if("JsdocTypeKeyValue"===l.type){if(void 0===l.right)throw new Error("Function parameter without ':' is not expected to be 'KEY_VALUE'");return{type:"NAMED_PARAMETER",name:l.key,typeName:t(l.right)}}return t(l)}),new:null,returns:null};return void 0!==o.this?i.this=t(o.this):e.arrow||(i.this=null),void 0!==o.new&&(i.new=t(o.new)),void 0!==e.returnType&&(i.returns=t(e.returnType)),i},"JsdocTypeFunction"),JsdocTypeGeneric:r((e,t)=>{let o={type:"GENERIC",subject:t(e.left),objects:e.elements.map(t),meta:{syntax:"square"===e.meta.brackets?"SQUARE_BRACKET":e.meta.dot?"ANGLE_BRACKET_WITH_DOT":"ANGLE_BRACKET"}};return"square"===e.meta.brackets&&"JsdocTypeFunction"===e.elements[0].type&&!e.elements[0].parenthesis&&(o.objects[0]={type:"NAME",name:"function"}),o},"JsdocTypeGeneric"),JsdocTypeObjectField:r((e,t)=>{if("string"!=typeof e.key)throw new Error("Index signatures and mapped types are not supported");if(void 0===e.right)return{type:"RECORD_ENTRY",key:e.key,quoteStyle:V(e.meta.quote),value:null,readonly:!1};let o=t(e.right);return e.optional&&(o={type:"OPTIONAL",value:o,meta:{syntax:"SUFFIX_KEY_QUESTION_MARK"}}),{type:"RECORD_ENTRY",key:e.key.toString(),quoteStyle:V(e.meta.quote),value:o,readonly:!1}},"JsdocTypeObjectField"),JsdocTypeJsdocObjectField:r(()=>{throw new Error("Keys may not be typed in jsdoctypeparser.")},"JsdocTypeJsdocObjectField"),JsdocTypeKeyValue:r((e,t)=>{if(void 0===e.right)return{type:"RECORD_ENTRY",key:e.key,quoteStyle:"none",value:null,readonly:!1};let o=t(e.right);return e.optional&&(o={type:"OPTIONAL",value:o,meta:{syntax:"SUFFIX_KEY_QUESTION_MARK"}}),{type:"RECORD_ENTRY",key:e.key,quoteStyle:"none",value:o,readonly:!1}},"JsdocTypeKeyValue"),JsdocTypeObject:r((e,t)=>{let o=[];for(let i of e.elements)("JsdocTypeObjectField"===i.type||"JsdocTypeJsdocObjectField"===i.type)&&o.push(t(i));return{type:"RECORD",entries:o}},"JsdocTypeObject"),JsdocTypeSpecialNamePath:r(e=>{if("module"!==e.specialType)throw new Error(`jsdoctypeparser does not support type ${e.specialType} at this point.`);return{type:"MODULE",value:{type:"FILE_PATH",quoteStyle:V(e.meta.quote),path:e.value}}},"JsdocTypeSpecialNamePath"),JsdocTypeNamePath:r((e,t)=>{let i,l,o=!1;"JsdocTypeSpecialNamePath"===e.right.type&&"event"===e.right.specialType?(o=!0,i=e.right.value,l=V(e.right.meta.quote)):(i=e.right.value,l=V(e.right.meta.quote));let f={type:lr(e.pathType),owner:t(e.left),name:i,quoteStyle:l,hasEventPrefix:o};if("MODULE"===f.owner.type){let d=f.owner;return f.owner=f.owner.value,d.value=f,d}return f},"JsdocTypeNamePath"),JsdocTypeUnion:r((e,t)=>ve("UNION",e.elements.map(t)),"JsdocTypeUnion"),JsdocTypeParenthesis:r((e,t)=>({type:"PARENTHESIS",value:t(J(e.element))}),"JsdocTypeParenthesis"),JsdocTypeNull:r(()=>({type:"NAME",name:"null"}),"JsdocTypeNull"),JsdocTypeUnknown:r(()=>({type:"UNKNOWN"}),"JsdocTypeUnknown"),JsdocTypeStringValue:r(e=>({type:"STRING_VALUE",quoteStyle:V(e.meta.quote),string:e.value}),"JsdocTypeStringValue"),JsdocTypeIntersection:r((e,t)=>ve("INTERSECTION",e.elements.map(t)),"JsdocTypeIntersection"),JsdocTypeNumber:r(e=>({type:"NUMBER_VALUE",number:e.value.toString()}),"JsdocTypeNumber"),JsdocTypeSymbol:N,JsdocTypeProperty:N,JsdocTypePredicate:N,JsdocTypeMappedType:N,JsdocTypeIndexSignature:N,JsdocTypeAsserts:N};function mr(e){return W(ur,e)}function fr(){return{JsdocTypeIntersection:r((e,t)=>({type:"JsdocTypeIntersection",elements:e.elements.map(t)}),"JsdocTypeIntersection"),JsdocTypeGeneric:r((e,t)=>({type:"JsdocTypeGeneric",left:t(e.left),elements:e.elements.map(t),meta:{dot:e.meta.dot,brackets:e.meta.brackets}}),"JsdocTypeGeneric"),JsdocTypeNullable:r(e=>e,"JsdocTypeNullable"),JsdocTypeUnion:r((e,t)=>({type:"JsdocTypeUnion",elements:e.elements.map(t)}),"JsdocTypeUnion"),JsdocTypeUnknown:r(e=>e,"JsdocTypeUnknown"),JsdocTypeUndefined:r(e=>e,"JsdocTypeUndefined"),JsdocTypeTypeof:r((e,t)=>({type:"JsdocTypeTypeof",element:t(e.element)}),"JsdocTypeTypeof"),JsdocTypeSymbol:r((e,t)=>{let o={type:"JsdocTypeSymbol",value:e.value};return void 0!==e.element&&(o.element=t(e.element)),o},"JsdocTypeSymbol"),JsdocTypeOptional:r((e,t)=>({type:"JsdocTypeOptional",element:t(e.element),meta:{position:e.meta.position}}),"JsdocTypeOptional"),JsdocTypeObject:r((e,t)=>({type:"JsdocTypeObject",meta:{separator:"comma"},elements:e.elements.map(t)}),"JsdocTypeObject"),JsdocTypeNumber:r(e=>e,"JsdocTypeNumber"),JsdocTypeNull:r(e=>e,"JsdocTypeNull"),JsdocTypeNotNullable:r((e,t)=>({type:"JsdocTypeNotNullable",element:t(e.element),meta:{position:e.meta.position}}),"JsdocTypeNotNullable"),JsdocTypeSpecialNamePath:r(e=>e,"JsdocTypeSpecialNamePath"),JsdocTypeObjectField:r((e,t)=>({type:"JsdocTypeObjectField",key:e.key,right:void 0===e.right?void 0:t(e.right),optional:e.optional,readonly:e.readonly,meta:e.meta}),"JsdocTypeObjectField"),JsdocTypeJsdocObjectField:r((e,t)=>({type:"JsdocTypeJsdocObjectField",left:t(e.left),right:t(e.right)}),"JsdocTypeJsdocObjectField"),JsdocTypeKeyValue:r((e,t)=>({type:"JsdocTypeKeyValue",key:e.key,right:void 0===e.right?void 0:t(e.right),optional:e.optional,variadic:e.variadic}),"JsdocTypeKeyValue"),JsdocTypeImport:r((e,t)=>({type:"JsdocTypeImport",element:t(e.element)}),"JsdocTypeImport"),JsdocTypeAny:r(e=>e,"JsdocTypeAny"),JsdocTypeStringValue:r(e=>e,"JsdocTypeStringValue"),JsdocTypeNamePath:r(e=>e,"JsdocTypeNamePath"),JsdocTypeVariadic:r((e,t)=>{let o={type:"JsdocTypeVariadic",meta:{position:e.meta.position,squareBrackets:e.meta.squareBrackets}};return void 0!==e.element&&(o.element=t(e.element)),o},"JsdocTypeVariadic"),JsdocTypeTuple:r((e,t)=>({type:"JsdocTypeTuple",elements:e.elements.map(t)}),"JsdocTypeTuple"),JsdocTypeName:r(e=>e,"JsdocTypeName"),JsdocTypeFunction:r((e,t)=>{let o={type:"JsdocTypeFunction",arrow:e.arrow,parameters:e.parameters.map(t),constructor:e.constructor,parenthesis:e.parenthesis};return void 0!==e.returnType&&(o.returnType=t(e.returnType)),o},"JsdocTypeFunction"),JsdocTypeKeyof:r((e,t)=>({type:"JsdocTypeKeyof",element:t(e.element)}),"JsdocTypeKeyof"),JsdocTypeParenthesis:r((e,t)=>({type:"JsdocTypeParenthesis",element:t(e.element)}),"JsdocTypeParenthesis"),JsdocTypeProperty:r(e=>e,"JsdocTypeProperty"),JsdocTypePredicate:r((e,t)=>({type:"JsdocTypePredicate",left:t(e.left),right:t(e.right)}),"JsdocTypePredicate"),JsdocTypeIndexSignature:r((e,t)=>({type:"JsdocTypeIndexSignature",key:e.key,right:t(e.right)}),"JsdocTypeIndexSignature"),JsdocTypeMappedType:r((e,t)=>({type:"JsdocTypeMappedType",key:e.key,right:t(e.right)}),"JsdocTypeMappedType"),JsdocTypeAsserts:r((e,t)=>({type:"JsdocTypeAsserts",left:t(e.left),right:t(e.right)}),"JsdocTypeAsserts")}}r(mr,"jtpTransform"),r(fr,"identityTransformRules");let tt={JsdocTypeAny:[],JsdocTypeFunction:["parameters","returnType"],JsdocTypeGeneric:["left","elements"],JsdocTypeImport:[],JsdocTypeIndexSignature:["right"],JsdocTypeIntersection:["elements"],JsdocTypeKeyof:["element"],JsdocTypeKeyValue:["right"],JsdocTypeMappedType:["right"],JsdocTypeName:[],JsdocTypeNamePath:["left","right"],JsdocTypeNotNullable:["element"],JsdocTypeNull:[],JsdocTypeNullable:["element"],JsdocTypeNumber:[],JsdocTypeObject:["elements"],JsdocTypeObjectField:["right"],JsdocTypeJsdocObjectField:["left","right"],JsdocTypeOptional:["element"],JsdocTypeParenthesis:["element"],JsdocTypeSpecialNamePath:[],JsdocTypeStringValue:[],JsdocTypeSymbol:["element"],JsdocTypeTuple:["elements"],JsdocTypeTypeof:["element"],JsdocTypeUndefined:[],JsdocTypeUnion:["elements"],JsdocTypeUnknown:[],JsdocTypeVariadic:["element"],JsdocTypeProperty:[],JsdocTypePredicate:["left","right"],JsdocTypeAsserts:["left","right"]};function ke(e,t,o,i,l){i?.(e,t,o);let f=tt[e.type];for(let d of f){let h=e[d];if(void 0!==h)if(Array.isArray(h))for(let D of h)ke(D,e,d,i,l);else ke(h,e,d,i,l)}l?.(e,t,o)}function yr(e,t,o){ke(e,void 0,void 0,t,o)}r(ke,"_traverse"),r(yr,"traverse"),n.catharsisTransform=cr,n.identityTransformRules=fr,n.jtpTransform=mr,n.parse=Qe,n.stringify=ar,n.stringifyRules=et,n.transform=W,n.traverse=yr,n.tryParse=or,n.visitorKeys=tt},"object"==typeof fe&&typeof yt<"u"?s(fe):"function"==typeof define&&__webpack_require__.amdO?define(["exports"],s):s((n=typeof globalThis<"u"?globalThis:n||self).jtpp={})},()=>(s||n((s={exports:{}}).exports,s),s.exports));function X(n){if(!n||"object"!=typeof n)return!1;let s=Object.getPrototypeOf(n);return(null===s||s===Object.prototype||null===Object.getPrototypeOf(s))&&"[object Object]"===Object.prototype.toString.call(n)}function Re(n,s){let a={},p=Object.keys(n);for(let c=0;c<p.length;c++){let u=p[c],m=n[u];a[u]=s(m,u,n)}return a}r(X,"isPlainObject"),r(Re,"mapValues");var Rr=["null","undefined"];function K(n){return Rr.some(s=>s===n)}r(K,"isDefaultValueBlacklisted");var v,st=r(n=>{if(!n)return"";if("string"==typeof n)return n;throw new Error(`Description: expected string, got: ${JSON.stringify(n)}`)},"str");function at(n){return!!n.__docgenInfo}function it(n){return null!=n&&Object.keys(n).length>0}function pt(n,s){return at(n)?n.__docgenInfo[s]:null}function ct(n){return at(n)?st(n.__docgenInfo.description):""}function je(n){return/^\s+$/.test(n)}function lt(n){let s=n.match(/\r+$/);return null==s?["",n]:[n.slice(-s[0].length),n.slice(0,-s[0].length)]}function A(n){let s=n.match(/^\s+/);return null==s?["",n]:[n.slice(0,s[0].length),n.slice(s[0].length)]}function ut(n){return n.split(/\n/)}function mt(n={}){return Object.assign({tag:"",name:"",type:"",optional:!1,description:"",problems:[],source:[]},n)}function Fe(n={}){return Object.assign({start:"",delimiter:"",postDelimiter:"",tag:"",postTag:"",name:"",postName:"",type:"",postType:"",description:"",end:"",lineEnd:""},n)}r(at,"hasDocgen"),r(it,"isValidDocgenSection"),r(pt,"getDocgenSection"),r(ct,"getDocgenDescription"),function(n){n.start="/**",n.nostart="/***",n.delim="*",n.end="*/"}(v=v||(v={})),r(je,"isSpace"),r(lt,"splitCR"),r(A,"splitSpace"),r(ut,"splitLines"),r(mt,"seedSpec"),r(Fe,"seedTokens");var jr=/^@\S+/;function _e({fence:n="```"}={}){let s=Fr(n),a=r((p,c)=>s(p)?!c:c,"toggleFence");return r(function(c){let u=[[]],m=!1;for(let T of c)jr.test(T.tokens.description)&&!m?u.push([T]):u[u.length-1].push(T),m=a(T.tokens.description,m);return u},"parseBlock")}function Fr(n){return"string"==typeof n?s=>s.split(n).length%2==0:n}function Ve({startLine:n=0,markers:s=v}={}){let a=null,p=n;return r(function(u){let m=u,T=Fe();if([T.lineEnd,m]=lt(m),[T.start,m]=A(m),null===a&&m.startsWith(s.start)&&!m.startsWith(s.nostart)&&(a=[],T.delimiter=m.slice(0,s.start.length),m=m.slice(s.start.length),[T.postDelimiter,m]=A(m)),null===a)return p++,null;let g=m.trimRight().endsWith(s.end);if(""===T.delimiter&&m.startsWith(s.delim)&&!m.startsWith(s.end)&&(T.delimiter=s.delim,m=m.slice(s.delim.length),[T.postDelimiter,m]=A(m)),g){let P=m.trimRight();T.end=m.slice(P.length-s.end.length),m=P.slice(0,-s.end.length)}if(T.description=m,a.push({number:p,source:u,tokens:T}),p++,g){let P=a.slice();return a=null,P}return null},"parseSource")}function Le({tokenizers:n}){return r(function(a){var p;let c=mt({source:a});for(let u of n)if(c=u(c),null!==(p=c.problems[c.problems.length-1])&&void 0!==p&&p.critical)break;return c},"parseSpec")}function ce(){return n=>{let{tokens:s}=n.source[0],a=s.description.match(/\s*(@(\S+))(\s*)/);return null===a?(n.problems.push({code:"spec:tag:prefix",message:'tag should start with "@" symbol',line:n.source[0].number,critical:!0}),n):(s.tag=a[1],s.postTag=a[3],s.description=s.description.slice(a[0].length),n.tag=a[2],n)}}function le(n="compact"){let s=Vr(n);return a=>{let p=0,c=[];for(let[T,{tokens:g}]of a.source.entries()){let P="";if(0===T&&"{"!==g.description[0])return a;for(let b of g.description)if("{"===b&&p++,"}"===b&&p--,P+=b,0===p)break;if(c.push([g,P]),0===p)break}if(0!==p)return a.problems.push({code:"spec:type:unpaired-curlies",message:"unpaired curlies",line:a.source[0].number,critical:!0}),a;let u=[],m=c[0][0].postDelimiter.length;for(let[T,[g,P]]of c.entries())g.type=P,T>0&&(g.type=g.postDelimiter.slice(m)+P,g.postDelimiter=g.postDelimiter.slice(0,m)),[g.postType,g.description]=A(g.description.slice(P.length)),u.push(g.type);return u[0]=u[0].slice(1),u[u.length-1]=u[u.length-1].slice(0,-1),a.type=s(u),a}}r(_e,"getParser"),r(Fr,"getFencer"),r(Ve,"getParser"),r(Le,"getParser"),r(ce,"tagTokenizer"),r(le,"typeTokenizer");var _r=r(n=>n.trim(),"trim");function Vr(n){return"compact"===n?s=>s.map(_r).join(""):"preserve"===n?s=>s.join("\n"):n}r(Vr,"getJoiner");var Lr=r(n=>n&&n.startsWith('"')&&n.endsWith('"'),"isQuoted");function ue(){let n=r((s,{tokens:a},p)=>""===a.type?s:p,"typeEnd");return s=>{let{tokens:a}=s.source[s.source.reduce(n,0)],p=a.description.trimLeft(),c=p.split('"');if(c.length>1&&""===c[0]&&c.length%2==1)return s.name=c[1],a.name=`"${c[1]}"`,[a.postName,a.description]=A(p.slice(a.name.length)),s;let g,u=0,m="",T=!1;for(let b of p){if(0===u&&je(b))break;"["===b&&u++,"]"===b&&u--,m+=b}if(0!==u)return s.problems.push({code:"spec:name:unpaired-brackets",message:"unpaired brackets",line:s.source[0].number,critical:!0}),s;let P=m;if("["===m[0]&&"]"===m[m.length-1]){T=!0,m=m.slice(1,-1);let b=m.split("=");if(m=b[0].trim(),void 0!==b[1]&&(g=b.slice(1).join("=").trim()),""===m)return s.problems.push({code:"spec:name:empty-name",message:"empty name",line:s.source[0].number,critical:!0}),s;if(""===g)return s.problems.push({code:"spec:name:empty-default",message:"empty default value",line:s.source[0].number,critical:!0}),s;if(!Lr(g)&&/=(?!>)/.test(g))return s.problems.push({code:"spec:name:invalid-default",message:"invalid default value syntax",line:s.source[0].number,critical:!0}),s}return s.optional=T,s.name=m,a.name=P,void 0!==g&&(s.default=g),[a.postName,a.description]=A(p.slice(a.name.length)),s}}function me(n="compact",s=v){let a=Ue(n);return p=>(p.description=a(p.source,s),p)}function Ue(n){return"compact"===n?Ur:"preserve"===n?Mr:n}function Ur(n,s=v){return n.map(({tokens:{description:a}})=>a.trim()).filter(a=>""!==a).join(" ")}r(ue,"nameTokenizer"),r(me,"descriptionTokenizer"),r(Ue,"getJoiner"),r(Ur,"compactJoiner");var Br=r((n,{tokens:s},a)=>""===s.type?n:a,"lineNo"),Cr=r(({tokens:n})=>(""===n.delimiter?n.start:n.postDelimiter.slice(1))+n.description,"getDescription");function Mr(n,s=v){if(0===n.length)return"";""===n[0].tokens.description&&n[0].tokens.delimiter===s.start&&(n=n.slice(1));let a=n[n.length-1];return void 0!==a&&""===a.tokens.description&&a.tokens.end.endsWith(s.end)&&(n=n.slice(0,-1)),(n=n.slice(n.reduce(Br,0))).map(Cr).join("\n")}function Be({startLine:n=0,fence:s="```",spacing:a="compact",markers:p=v,tokenizers:c=[n=>{let{tokens:s}=n.source[0],a=s.description.match(/\s*(@(\S+))(\s*)/);return null===a?(n.problems.push({code:"spec:tag:prefix",message:'tag should start with "@" symbol',line:n.source[0].number,critical:!0}),n):(s.tag=a[1],s.postTag=a[3],s.description=s.description.slice(a[0].length),n.tag=a[2],n)},le(a),ue(),me(a)]}={}){if(n<0||n%1>0)throw new Error("Invalid startLine");let u=Ve({startLine:n,markers:p}),m=_e({fence:s}),T=Le({tokenizers:c}),g=Ue(a);return function(P){let b=[];for(let de of ut(P)){let q=u(de);if(null===q)continue;let S=m(q),z=S.slice(1).map(T);b.push({description:g(S[0],p),tags:z,source:q,problems:z.reduce((Te,ge)=>Te.concat(ge.problems),[])})}return b}}function Kr(n){return n.start+n.delimiter+n.postDelimiter+n.tag+n.postTag+n.type+n.postType+n.name+n.postName+n.description+n.end+n.lineEnd}function Ce(){return n=>n.source.map(({tokens:s})=>Kr(s)).join("\n")}r(Mr,"preserveJoiner"),r(Be,"getParser"),r(Kr,"join"),r(Ce,"getStringifier");Object.keys({line:0,start:0,delimiter:0,postDelimiter:0,tag:0,postTag:0,name:0,postName:0,type:0,postType:0,description:0,end:0,lineEnd:0});function ft(n,s={}){return Be(s)(n)}r(ft,"parse");Ce();var $=((n,s,a)=>(a=null!=n?dr(xr(n)):{},((n,s,a,p)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let c of gr(s))!hr.call(n,c)&&c!==a&&Ie(n,c,{get:()=>s[c],enumerable:!(p=Tr(s,c))||p.enumerable});return n})(!s&&n&&n.__esModule?a:Ie(a,"default",{value:n,enumerable:!0}),n)))(dt(),1);function qr(n){return null!=n&&n.includes("@")}function Yr(n){let c=ft("/**\n"+(n??"").split("\n").map(u=>` * ${u}`).join("\n")+"\n*/",{spacing:"preserve"});if(!c||0===c.length)throw new Error("Cannot parse JSDoc tags.");return c[0]}r(qr,"containsJsDoc"),r(Yr,"parse");var Wr={tags:["param","arg","argument","returns","ignore","deprecated"]},Tt=r((n,s=Wr)=>{if(!qr(n))return{includesJsDoc:!1,ignore:!1};let a=Yr(n),p=Gr(a,s.tags);return p.ignore?{includesJsDoc:!0,ignore:!0}:{includesJsDoc:!0,ignore:!1,description:a.description.trim(),extractedTags:p}},"parseJsDoc");function Gr(n,s){let a={params:null,deprecated:null,returns:null,ignore:!1};for(let p of n.tags)if(void 0===s||s.includes(p.tag)){if("ignore"===p.tag){a.ignore=!0;break}switch(p.tag){case"param":case"arg":case"argument":{let c=zr(p);null!=c&&(null==a.params&&(a.params=[]),a.params.push(c));break}case"deprecated":{let c=Hr(p);null!=c&&(a.deprecated=c);break}case"returns":{let c=Qr(p);null!=c&&(a.returns=c);break}}}return a}function Xr(n){return n.replace(/[\.-]$/,"")}function zr(n){if(!n.name||"-"===n.name)return null;let s=ht(n.type);return{name:n.name,type:s,description:xt(n.description),getPrettyName:r(()=>Xr(n.name),"getPrettyName"),getTypeName:r(()=>s?Jt(s):null,"getTypeName")}}function Hr(n){return n.name?gt(n.name,n.description):null}function gt(n,s){return xt(""===n?s:`${n} ${s}`)}function xt(n){let s=n.replace(/^- /g,"").trim();return""===s?null:s}function Qr(n){let s=ht(n.type);return s?{type:s,description:gt(n.name,n.description),getTypeName:r(()=>Jt(s),"getTypeName")}:null}r(Gr,"extractJsDocTags"),r(Xr,"normaliseParamName"),r(zr,"extractParam"),r(Hr,"extractDeprecated"),r(gt,"joinNameAndDescription"),r(xt,"normaliseDescription"),r(Qr,"extractReturns");var _=(0,$.stringifyRules)(),Zr=_.JsdocTypeObject;function ht(n){try{return(0,$.parse)(n,"typescript")}catch{return null}}function Jt(n){return(0,$.transform)(_,n)}_.JsdocTypeAny=()=>"any",_.JsdocTypeObject=(n,s)=>`(${Zr(n,s)})`,_.JsdocTypeOptional=(n,s)=>s(n.element),_.JsdocTypeNullable=(n,s)=>s(n.element),_.JsdocTypeNotNullable=(n,s)=>s(n.element),_.JsdocTypeUnion=(n,s)=>n.elements.map(s).join("|"),r(ht,"extractType"),r(Jt,"extractTypeName");function Ke(n){return n.length>90}function wt(n){return n.length>50}function w(n,s){return n===s?{summary:n}:{summary:n,detail:s}}r(Ke,"isTooLongForTypeSummary"),r(wt,"isTooLongForDefaultValueSummary"),r(w,"createSummaryValue");function Pt(n,s){if(null!=n){let{value:a}=n;if(!K(a))return wt(a)?w(s?.name,a):w(a)}return null}function bt({name:n,value:s,elements:a,raw:p}){return s??(null!=a?a.map(bt).join(" | "):p??n)}function en({name:n,raw:s,elements:a}){return w(null!=a?a.map(bt).join(" | "):null!=s?s.replace(/^\|\s*/,""):n)}function tn({type:n,raw:s}){return w(null!=s?s:n)}function rn({type:n,raw:s}){return null!=s?Ke(s)?w(n,s):w(s):w(n)}function nn(n){let{type:s}=n;return"object"===s?rn(n):tn(n)}function on({name:n,raw:s}){return null!=s?Ke(s)?w(n,s):w(s):w(n)}function St(n){if(null==n)return null;switch(n.name){case"union":return en(n);case"signature":return nn(n);default:return on(n)}}r(Pt,"createDefaultValue"),r(bt,"generateUnionElement"),r(en,"generateUnion"),r(tn,"generateFuncSignature"),r(rn,"generateObjectSignature"),r(nn,"generateSignature"),r(on,"generateDefault"),r(St,"createType");function Nt({defaultValue:n}){if(null!=n){let{value:s}=n;if(!K(s))return w(s)}return null}function Dt({tsType:n,required:s}){if(null==n)return null;let a=n.name;return s||(a=a.replace(" | undefined","")),w(["Array","Record","signature"].includes(n.name)?n.raw:a)}r(Nt,"createDefaultValue"),r(Dt,"createType");function sn(n){return null!=n?w(n.name):null}function an(n){let{computed:s,func:a}=n;return typeof s>"u"&&typeof a>"u"}function pn(n){return!!n&&("string"===n.name||"enum"===n.name&&(Array.isArray(n.value)&&n.value.every(({value:s})=>"string"==typeof s&&'"'===s[0]&&'"'===s[s.length-1])))}function cn(n,s){if(null!=n){let{value:a}=n;if(!K(a))return an(n)&&pn(s)?w(JSON.stringify(a)):w(a)}return null}function vt(n,s,a){let{description:p,required:c,defaultValue:u}=a;return{name:n,type:sn(s),required:c,description:p,defaultValue:cn(u,s)}}function ye(n,s){if(s?.includesJsDoc){let{description:a,extractedTags:p}=s;null!=a&&(n.description=s.description);let c={...p,params:p?.params?.map(u=>({name:u.getPrettyName(),description:u.description}))};Object.values(c).filter(Boolean).length>0&&(n.jsDocTags=c)}return n}r(sn,"createType"),r(an,"isReactDocgenTypescript"),r(pn,"isStringValued"),r(cn,"createDefaultValue"),r(vt,"createBasicPropDef"),r(ye,"applyJsDocResult");function At(n,s,a,p){let c=Tt(s.description);return c.includesJsDoc&&c.ignore?null:{propDef:p(n,s,c),jsDocTags:c.extractedTags,docgenInfo:s,typeSystem:a}}r(At,"extractProp"),r(function ia(n){return null!=n?ct(n):""},"extractComponentDescription");var qe=r((...n)=>{let s={},a=n.filter(Boolean),p=a.reduce((c,u)=>(Object.entries(u).forEach(([m,T])=>{let g=c[m];Array.isArray(T)||typeof g>"u"?c[m]=T:X(T)&&X(g)?s[m]=!0:typeof T<"u"&&(c[m]=T)}),c),{});return Object.keys(s).forEach(c=>{let u=a.filter(Boolean).map(m=>m[c]).filter(m=>typeof m<"u");u.every(m=>X(m))?p[c]=qe(...u):p[c]=u[u.length-1]}),p},"combineParameters"),ya=r(n=>{let{component:s,argTypes:a,parameters:{docs:p={}}}=n,{extractArgTypes:c}=p;if(!c||!s)return a;let u=c(s);return u?qe(u,a):a},"enhanceArgTypes"),external_STORYBOOK_MODULE_CLIENT_LOGGER_=__webpack_require__("storybook/internal/client-logger"),external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global");function decorateStory(mainStoryFn,decorators){return[cleanArgsDecorator,...decorators].reduce((previousStoryFn,decorator)=>context=>decorator(update=>previousStoryFn({...context,...(0,external_STORYBOOK_MODULE_PREVIEW_API_.sanitizeStoryContextUpdate)(update)}),context),context=>prepareMain(mainStoryFn(context),context))}var prepareMain=(story,context)=>{let{template}=story,{component}=context,userDefinedTemplate=!function hasNoTemplate(template){return null==template}(template);return!userDefinedTemplate&&component&&(template=(0,chunk_LXSTVAFF.UP)(component,story.props,"")),{...story,...template?{template,userDefinedTemplate}:{}}};var cleanArgsDecorator=(storyFn,context)=>{if(!context.argTypes||!context.args)return storyFn();let argsToClean=context.args;return context.args=Object.entries(argsToClean).reduce((obj,[key,arg])=>{let argType=context.argTypes[key];return argType?.action||argType?.control?{...obj,[key]:arg}:obj},{}),storyFn()},{FEATURES}=external_STORYBOOK_MODULE_GLOBAL_.global,isMethod=methodOrProp=>void 0!==methodOrProp.args,getCompodocJson=()=>external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_COMPODOC_JSON__,hasDecorator=(item,decoratorName)=>item.decorators&&item.decorators.find(x=>x.name===decoratorName),mapItemToSection=(key,item)=>{switch(key){case"methods":case"methodsClass":return"methods";case"inputsClass":return"inputs";case"outputsClass":return"outputs";case"properties":case"propertiesClass":if(isMethod(item))throw new Error("Cannot be of type Method if key === 'propertiesClass'");return(item=>hasDecorator(item,"ViewChild")?"view child":hasDecorator(item,"ViewChildren")?"view children":hasDecorator(item,"ContentChild")?"content child":hasDecorator(item,"ContentChildren")?"content children":"properties")(item);default:throw new Error(`Unknown key: ${key}`)}},getComponentData=component=>{if(!component)return null;(component=>{if(!component.name)throw new Error(`Invalid component ${JSON.stringify(component)}`)})(component);let compodocJson=getCompodocJson();if(!compodocJson)return null;(compodocJson=>{if(!compodocJson||!compodocJson.components)throw new Error("Invalid compodoc JSON")})(compodocJson);let{name}=component,metadata=((name,compodocJson)=>compodocJson.components.find(c=>c.name===name)||compodocJson.directives.find(c=>c.name===name)||compodocJson.pipes.find(c=>c.name===name)||compodocJson.injectables.find(c=>c.name===name)||compodocJson.classes.find(c=>c.name===name))(name,compodocJson);return metadata||external_STORYBOOK_MODULE_CLIENT_LOGGER_.logger.warn(`Component not found in compodoc JSON: '${name}'`),metadata},displaySignature=item=>`(${item.args.map(arg=>`${arg.name}${arg.optional?"?":""}: ${arg.type}`).join(", ")}) => ${item.returnType}`,extractType=(property,defaultValue)=>{let compodocType=property.type||(defaultValue=>{let valueType=typeof defaultValue;return defaultValue||"number"===valueType||"boolean"===valueType||"string"===valueType?valueType:null})(defaultValue);switch(compodocType){case"string":case"boolean":case"number":return{name:compodocType};case void 0:case null:return{name:"other",value:"void"};default:{let enumValues=(compodocType=>{let enumType=getCompodocJson()?.miscellaneous?.enumerations?.find(x=>x.name===compodocType);if(enumType?.childs.every(x=>x.value))return enumType.childs.map(x=>x.value);if("string"!=typeof compodocType||-1===compodocType.indexOf("|"))return null;try{return compodocType.split("|").map(value=>JSON.parse(value))}catch{return null}})(resolveTypealias(compodocType));return enumValues?{name:"enum",value:enumValues}:{name:"other",value:"empty-enum"}}}},extractDefaultValue=property=>{try{let value=property.defaultValue?.replace(/^'(.*)'$/,"$1");return value=((property,defaultValue)=>{let compodocType=property.type;if(["boolean","number","string","EventEmitter"].includes(compodocType))switch(compodocType){case"boolean":return"true"===defaultValue;case"number":return Number(defaultValue);case"EventEmitter":return;default:return defaultValue}else switch(defaultValue){case"true":return!0;case"false":return!1;case"null":return null;case"undefined":return;default:return defaultValue}})(property,value),null==value&&property.jsdoctags?.length>0&&(value=((property,value)=>{let commentValue=value;return property.jsdoctags.forEach(tag=>{["default","defaultvalue"].includes(tag.tagName.escapedText)&&(commentValue=(new external_STORYBOOK_MODULE_GLOBAL_.global.DOMParser).parseFromString(tag.comment,"text/html").body.textContent)}),commentValue})(property,value)),value}catch{return void external_STORYBOOK_MODULE_CLIENT_LOGGER_.logger.debug(`Error extracting ${property.name}: ${property.defaultValue}`)}},resolveTypealias=compodocType=>{let typeAlias=getCompodocJson()?.miscellaneous?.typealiases?.find(x=>x.name===compodocType);return typeAlias?resolveTypealias(typeAlias.rawtype):compodocType},parameters={renderer:"angular",docs:{story:{inline:!0},extractArgTypes:component=>{let componentData=getComponentData(component);return componentData&&(componentData=>{let sectionToItems={},componentClasses=FEATURES.angularFilterNonInputControls?["inputsClass"]:["propertiesClass","methodsClass","inputsClass","outputsClass"];(["component","directive"].includes(componentData.type)?componentClasses:["properties","methods"]).forEach(key=>{(componentData[key]||[]).forEach(item=>{let section=mapItemToSection(key,item),defaultValue=isMethod(item)?void 0:extractDefaultValue(item),type=isMethod(item)||"inputs"!==section&&"properties"!==section?{name:"other",value:"void"}:extractType(item,defaultValue),action="outputs"===section?{action:item.name}:{},argType={name:item.name,description:item.rawdescription||item.description,type,...action,table:{category:section,type:{summary:isMethod(item)?displaySignature(item):item.type,required:!isMethod(item)&&!item.optional},defaultValue:{summary:defaultValue}}};sectionToItems[section]||(sectionToItems[section]=[]),sectionToItems[section].push(argType)})});let argTypes={};return["properties","inputs","outputs","methods","view child","view children","content child","content children"].forEach(section=>{let items=sectionToItems[section];items&&items.forEach(argType=>{argTypes[argType.name]=argType})}),argTypes})(componentData)},extractComponentDescription:component=>{let componentData=getComponentData(component);return componentData&&(componentData.rawdescription||componentData.description)}}},argTypesEnhancers=[ya]},"./node_modules/@storybook/angular/dist/client/preview-prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),(0,__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs").enableProdMode)()},"./node_modules/basiclightbox/dist/basicLightbox.min.css?ngGlobalStyle":()=>{},"./node_modules/chroma-js/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>chroma_js});const{min,max}=Math,limit=(x,low=0,high=1)=>min(max(low,x),high),clip_rgb=rgb=>{rgb._clipped=!1,rgb._unclipped=rgb.slice(0);for(let i=0;i<=3;i++)i<3?((rgb[i]<0||rgb[i]>255)&&(rgb._clipped=!0),rgb[i]=limit(rgb[i],0,255)):3===i&&(rgb[i]=limit(rgb[i],0,1));return rgb},classToType={};for(let name of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])classToType[`[object ${name}]`]=name.toLowerCase();function type(obj){return classToType[Object.prototype.toString.call(obj)]||"object"}const unpack=(args,keyOrder=null)=>args.length>=3?Array.prototype.slice.call(args):"object"==type(args[0])&&keyOrder?keyOrder.split("").filter(k=>void 0!==args[0][k]).map(k=>args[0][k]):args[0].slice(0),last=args=>{if(args.length<2)return null;const l=args.length-1;return"string"==type(args[l])?args[l].toLowerCase():null},{PI,min:utils_min,max:utils_max}=Math,rnd2=a=>Math.round(100*a)/100,rnd3=a=>Math.round(100*a)/100,TWOPI=2*PI,PITHIRD=PI/3,DEG2RAD=PI/180,RAD2DEG=180/PI;function reverse3(arr){return[...arr.slice(0,3).reverse(),...arr.slice(3)]}const input={format:{},autodetect:[]};const src_Color=class Color{constructor(...args){const me=this;if("object"===type(args[0])&&args[0].constructor&&args[0].constructor===this.constructor)return args[0];let mode=last(args),autodetect=!1;if(!mode){autodetect=!0,input.sorted||(input.autodetect=input.autodetect.sort((a,b)=>b.p-a.p),input.sorted=!0);for(let chk of input.autodetect)if(mode=chk.test(...args),mode)break}if(!input.format[mode])throw new Error("unknown format: "+args);{const rgb=input.format[mode].apply(null,autodetect?args:args.slice(0,-1));me._rgb=clip_rgb(rgb)}3===me._rgb.length&&me._rgb.push(1)}toString(){return"function"==type(this.hex)?this.hex():`[${this._rgb.join(",")}]`}},chroma=(...args)=>new src_Color(...args);chroma.version="3.1.2";const src_chroma=chroma,colors_w3cx11={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},RE_HEX=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,RE_HEXA=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,hex_hex2rgb=hex=>{if(hex.match(RE_HEX)){4!==hex.length&&7!==hex.length||(hex=hex.substr(1)),3===hex.length&&(hex=(hex=hex.split(""))[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]);const u=parseInt(hex,16);return[u>>16,u>>8&255,255&u,1]}if(hex.match(RE_HEXA)){5!==hex.length&&9!==hex.length||(hex=hex.substr(1)),4===hex.length&&(hex=(hex=hex.split(""))[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]+hex[3]+hex[3]);const u=parseInt(hex,16);return[u>>24&255,u>>16&255,u>>8&255,Math.round((255&u)/255*100)/100]}throw new Error(`unknown hex color: ${hex}`)},{round}=Math,hex_rgb2hex=(...args)=>{let[r,g,b,a]=unpack(args,"rgba"),mode=last(args)||"auto";void 0===a&&(a=1),"auto"===mode&&(mode=a<1?"rgba":"rgb"),r=round(r),g=round(g),b=round(b);let str="000000"+(r<<16|g<<8|b).toString(16);str=str.substr(str.length-6);let hxa="0"+round(255*a).toString(16);switch(hxa=hxa.substr(hxa.length-2),mode.toLowerCase()){case"rgba":return`#${str}${hxa}`;case"argb":return`#${hxa}${str}`;default:return`#${str}`}};src_Color.prototype.name=function(){const hex=hex_rgb2hex(this._rgb,"rgb");for(let n of Object.keys(colors_w3cx11))if(colors_w3cx11[n]===hex)return n.toLowerCase();return hex},input.format.named=name=>{if(name=name.toLowerCase(),colors_w3cx11[name])return hex_hex2rgb(colors_w3cx11[name]);throw new Error("unknown color name: "+name)},input.autodetect.push({p:5,test:(h,...rest)=>{if(!rest.length&&"string"===type(h)&&colors_w3cx11[h.toLowerCase()])return"named"}}),src_Color.prototype.alpha=function(a,mutate=!1){return void 0!==a&&"number"===type(a)?mutate?(this._rgb[3]=a,this):new src_Color([this._rgb[0],this._rgb[1],this._rgb[2],a],"rgb"):this._rgb[3]},src_Color.prototype.clipped=function(){return this._rgb._clipped||!1};const labConstants={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},lab_constants=labConstants,ILLUMINANTS=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function setLabWhitePoint(name){const ill=ILLUMINANTS.get(String(name).toLowerCase());if(!ill)throw new Error("unknown Lab illuminant "+name);labConstants.labWhitePoint=name,labConstants.Xn=ill[0],labConstants.Zn=ill[1]}function getLabWhitePoint(){return labConstants.labWhitePoint}const lab2xyz=(L,a,b)=>{const{kE,kK,kKE,Xn,Yn,Zn}=lab_constants,fy=(L+16)/116,fx=.002*a+fy,fz=fy-.005*b,fx3=fx*fx*fx,fz3=fz*fz*fz;return[(fx3>kE?fx3:(116*fx-16)/kK)*Xn,(L>kKE?Math.pow((L+16)/116,3):L/kK)*Yn,(fz3>kE?fz3:(116*fz-16)/kK)*Zn]},compand=linear=>{const sign=Math.sign(linear);return((linear=Math.abs(linear))<=.0031308?12.92*linear:1.055*Math.pow(linear,1/2.4)-.055)*sign},xyz2rgb=(x,y,z)=>{const{MtxAdaptMa,MtxAdaptMaI,MtxXYZ2RGB,RefWhiteRGB,Xn,Yn,Zn}=lab_constants,As=Xn*MtxAdaptMa.m00+Yn*MtxAdaptMa.m10+Zn*MtxAdaptMa.m20,Bs=Xn*MtxAdaptMa.m01+Yn*MtxAdaptMa.m11+Zn*MtxAdaptMa.m21,Cs=Xn*MtxAdaptMa.m02+Yn*MtxAdaptMa.m12+Zn*MtxAdaptMa.m22,Ad=RefWhiteRGB.X*MtxAdaptMa.m00+RefWhiteRGB.Y*MtxAdaptMa.m10+RefWhiteRGB.Z*MtxAdaptMa.m20,Bd=RefWhiteRGB.X*MtxAdaptMa.m01+RefWhiteRGB.Y*MtxAdaptMa.m11+RefWhiteRGB.Z*MtxAdaptMa.m21,Cd=RefWhiteRGB.X*MtxAdaptMa.m02+RefWhiteRGB.Y*MtxAdaptMa.m12+RefWhiteRGB.Z*MtxAdaptMa.m22,X1=(x*MtxAdaptMa.m00+y*MtxAdaptMa.m10+z*MtxAdaptMa.m20)*(Ad/As),Y1=(x*MtxAdaptMa.m01+y*MtxAdaptMa.m11+z*MtxAdaptMa.m21)*(Bd/Bs),Z1=(x*MtxAdaptMa.m02+y*MtxAdaptMa.m12+z*MtxAdaptMa.m22)*(Cd/Cs),X2=X1*MtxAdaptMaI.m00+Y1*MtxAdaptMaI.m10+Z1*MtxAdaptMaI.m20,Y2=X1*MtxAdaptMaI.m01+Y1*MtxAdaptMaI.m11+Z1*MtxAdaptMaI.m21,Z2=X1*MtxAdaptMaI.m02+Y1*MtxAdaptMaI.m12+Z1*MtxAdaptMaI.m22;return[255*compand(X2*MtxXYZ2RGB.m00+Y2*MtxXYZ2RGB.m10+Z2*MtxXYZ2RGB.m20),255*compand(X2*MtxXYZ2RGB.m01+Y2*MtxXYZ2RGB.m11+Z2*MtxXYZ2RGB.m21),255*compand(X2*MtxXYZ2RGB.m02+Y2*MtxXYZ2RGB.m12+Z2*MtxXYZ2RGB.m22)]},lab_lab2rgb=(...args)=>{args=unpack(args,"lab");const[L,a,b]=args,[x,y,z]=lab2xyz(L,a,b),[r,g,b_]=xyz2rgb(x,y,z);return[r,g,b_,args.length>3?args[3]:1]};function gammaAdjustSRGB(companded){const sign=Math.sign(companded);return((companded=Math.abs(companded))<=.04045?companded/12.92:Math.pow((companded+.055)/1.055,2.4))*sign}const rgb2xyz=(r,g,b)=>{r=gammaAdjustSRGB(r/255),g=gammaAdjustSRGB(g/255),b=gammaAdjustSRGB(b/255);const{MtxRGB2XYZ,MtxAdaptMa,MtxAdaptMaI,Xn,Yn,Zn,As,Bs,Cs}=lab_constants;let x=r*MtxRGB2XYZ.m00+g*MtxRGB2XYZ.m10+b*MtxRGB2XYZ.m20,y=r*MtxRGB2XYZ.m01+g*MtxRGB2XYZ.m11+b*MtxRGB2XYZ.m21,z=r*MtxRGB2XYZ.m02+g*MtxRGB2XYZ.m12+b*MtxRGB2XYZ.m22;const Ad=Xn*MtxAdaptMa.m00+Yn*MtxAdaptMa.m10+Zn*MtxAdaptMa.m20,Bd=Xn*MtxAdaptMa.m01+Yn*MtxAdaptMa.m11+Zn*MtxAdaptMa.m21,Cd=Xn*MtxAdaptMa.m02+Yn*MtxAdaptMa.m12+Zn*MtxAdaptMa.m22;let X=x*MtxAdaptMa.m00+y*MtxAdaptMa.m10+z*MtxAdaptMa.m20,Y=x*MtxAdaptMa.m01+y*MtxAdaptMa.m11+z*MtxAdaptMa.m21,Z=x*MtxAdaptMa.m02+y*MtxAdaptMa.m12+z*MtxAdaptMa.m22;return X*=Ad/As,Y*=Bd/Bs,Z*=Cd/Cs,x=X*MtxAdaptMaI.m00+Y*MtxAdaptMaI.m10+Z*MtxAdaptMaI.m20,y=X*MtxAdaptMaI.m01+Y*MtxAdaptMaI.m11+Z*MtxAdaptMaI.m21,z=X*MtxAdaptMaI.m02+Y*MtxAdaptMaI.m12+Z*MtxAdaptMaI.m22,[x,y,z]},lab_rgb2lab=(...args)=>{const[r,g,b,...rest]=unpack(args,"rgb"),[x,y,z]=rgb2xyz(r,g,b),[L,a,b_]=function xyz2lab(x,y,z){const{Xn,Yn,Zn,kE,kK}=lab_constants,xr=x/Xn,yr=y/Yn,zr=z/Zn,fx=xr>kE?Math.pow(xr,1/3):(kK*xr+16)/116,fy=yr>kE?Math.pow(yr,1/3):(kK*yr+16)/116,fz=zr>kE?Math.pow(zr,1/3):(kK*zr+16)/116;return[116*fy-16,500*(fx-fy),200*(fy-fz)]}(x,y,z);return[L,a,b_,...rest.length>0&&rest[0]<1?[rest[0]]:[]]};src_Color.prototype.lab=function(){return lab_rgb2lab(this._rgb)};Object.assign(src_chroma,{lab:(...args)=>new src_Color(...args,"lab"),getLabWhitePoint,setLabWhitePoint}),input.format.lab=lab_lab2rgb,input.autodetect.push({p:2,test:(...args)=>{if("array"===type(args=unpack(args,"lab"))&&3===args.length)return"lab"}}),src_Color.prototype.darken=function(amount=1){const lab=this.lab();return lab[0]-=lab_constants.Kn*amount,new src_Color(lab,"lab").alpha(this.alpha(),!0)},src_Color.prototype.brighten=function(amount=1){return this.darken(-amount)},src_Color.prototype.darker=src_Color.prototype.darken,src_Color.prototype.brighter=src_Color.prototype.brighten,src_Color.prototype.get=function(mc){const[mode,channel]=mc.split("."),src=this[mode]();if(channel){const i=mode.indexOf(channel)-("ok"===mode.substr(0,2)?2:0);if(i>-1)return src[i];throw new Error(`unknown channel ${channel} in mode ${mode}`)}return src};const{pow}=Math;src_Color.prototype.luminance=function(lum,mode="rgb"){if(void 0!==lum&&"number"===type(lum)){if(0===lum)return new src_Color([0,0,0,this._rgb[3]],"rgb");if(1===lum)return new src_Color([255,255,255,this._rgb[3]],"rgb");let cur_lum=this.luminance(),max_iter=20;const test=(low,high)=>{const mid=low.interpolate(high,.5,mode),lm=mid.luminance();return Math.abs(lum-lm)<1e-7||!max_iter--?mid:lm>lum?test(low,mid):test(mid,high)},rgb=(cur_lum>lum?test(new src_Color([0,0,0]),this):test(this,new src_Color([255,255,255]))).rgb();return new src_Color([...rgb,this._rgb[3]])}return rgb2luminance(...this._rgb.slice(0,3))};const rgb2luminance=(r,g,b)=>.2126*(r=luminance_x(r))+.7152*(g=luminance_x(g))+.0722*(b=luminance_x(b)),luminance_x=x=>(x/=255)<=.03928?x/12.92:pow((x+.055)/1.055,2.4),interpolator={},mix=(col1,col2,f=.5,...rest)=>{let mode=rest[0]||"lrgb";if(interpolator[mode]||rest.length||(mode=Object.keys(interpolator)[0]),!interpolator[mode])throw new Error(`interpolation mode ${mode} is not defined`);return"object"!==type(col1)&&(col1=new src_Color(col1)),"object"!==type(col2)&&(col2=new src_Color(col2)),interpolator[mode](col1,col2,f).alpha(col1.alpha()+f*(col2.alpha()-col1.alpha()))};src_Color.prototype.mix=src_Color.prototype.interpolate=function(col2,f=.5,...rest){return mix(this,col2,f,...rest)},src_Color.prototype.premultiply=function(mutate=!1){const rgb=this._rgb,a=rgb[3];return mutate?(this._rgb=[rgb[0]*a,rgb[1]*a,rgb[2]*a,a],this):new src_Color([rgb[0]*a,rgb[1]*a,rgb[2]*a,a],"rgb")};const{sin,cos}=Math,lch_lch2lab=(...args)=>{let[l,c,h]=unpack(args,"lch");return isNaN(h)&&(h=0),h*=DEG2RAD,[l,cos(h)*c,sin(h)*c]},lch_lch2rgb=(...args)=>{args=unpack(args,"lch");const[l,c,h]=args,[L,a,b_]=lch_lch2lab(l,c,h),[r,g,b]=lab_lab2rgb(L,a,b_);return[r,g,b,args.length>3?args[3]:1]},lch_hcl2rgb=(...args)=>{const hcl=reverse3(unpack(args,"hcl"));return lch_lch2rgb(...hcl)},{sqrt,atan2,round:lab2lch_round}=Math,lch_lab2lch=(...args)=>{const[l,a,b]=unpack(args,"lab"),c=sqrt(a*a+b*b);let h=(atan2(b,a)*RAD2DEG+360)%360;return 0===lab2lch_round(1e4*c)&&(h=Number.NaN),[l,c,h]},lch_rgb2lch=(...args)=>{const[r,g,b,...rest]=unpack(args,"rgb"),[l,a,b_]=lab_rgb2lab(r,g,b),[L,c,h]=lch_lab2lch(l,a,b_);return[L,c,h,...rest.length>0&&rest[0]<1?[rest[0]]:[]]};src_Color.prototype.lch=function(){return lch_rgb2lch(this._rgb)},src_Color.prototype.hcl=function(){return reverse3(lch_rgb2lch(this._rgb))};Object.assign(src_chroma,{lch:(...args)=>new src_Color(...args,"lch"),hcl:(...args)=>new src_Color(...args,"hcl")}),input.format.lch=lch_lch2rgb,input.format.hcl=lch_hcl2rgb,["lch","hcl"].forEach(m=>input.autodetect.push({p:2,test:(...args)=>{if("array"===type(args=unpack(args,m))&&3===args.length)return m}})),src_Color.prototype.saturate=function(amount=1){const lch=this.lch();return lch[1]+=lab_constants.Kn*amount,lch[1]<0&&(lch[1]=0),new src_Color(lch,"lch").alpha(this.alpha(),!0)},src_Color.prototype.desaturate=function(amount=1){return this.saturate(-amount)},src_Color.prototype.set=function(mc,value,mutate=!1){const[mode,channel]=mc.split("."),src=this[mode]();if(channel){const i=mode.indexOf(channel)-("ok"===mode.substr(0,2)?2:0);if(i>-1){if("string"==type(value))switch(value.charAt(0)){case"+":case"-":src[i]+=+value;break;case"*":src[i]*=+value.substr(1);break;case"/":src[i]/=+value.substr(1);break;default:src[i]=+value}else{if("number"!==type(value))throw new Error("unsupported value for Color.set");src[i]=value}const out=new src_Color(src,mode);return mutate?(this._rgb=out._rgb,this):out}throw new Error(`unknown channel ${channel} in mode ${mode}`)}return src},src_Color.prototype.tint=function(f=.5,...rest){return mix(this,"white",f,...rest)},src_Color.prototype.shade=function(f=.5,...rest){return mix(this,"black",f,...rest)};const rgb=(col1,col2,f)=>{const xyz0=col1._rgb,xyz1=col2._rgb;return new src_Color(xyz0[0]+f*(xyz1[0]-xyz0[0]),xyz0[1]+f*(xyz1[1]-xyz0[1]),xyz0[2]+f*(xyz1[2]-xyz0[2]),"rgb")};interpolator.rgb=rgb;const{sqrt:lrgb_sqrt,pow:lrgb_pow}=Math,lrgb=(col1,col2,f)=>{const[x1,y1,z1]=col1._rgb,[x2,y2,z2]=col2._rgb;return new src_Color(lrgb_sqrt(lrgb_pow(x1,2)*(1-f)+lrgb_pow(x2,2)*f),lrgb_sqrt(lrgb_pow(y1,2)*(1-f)+lrgb_pow(y2,2)*f),lrgb_sqrt(lrgb_pow(z1,2)*(1-f)+lrgb_pow(z2,2)*f),"rgb")};interpolator.lrgb=lrgb;const lab_lab=(col1,col2,f)=>{const xyz0=col1.lab(),xyz1=col2.lab();return new src_Color(xyz0[0]+f*(xyz1[0]-xyz0[0]),xyz0[1]+f*(xyz1[1]-xyz0[1]),xyz0[2]+f*(xyz1[2]-xyz0[2]),"lab")};interpolator.lab=lab_lab;const _hsx=(col1,col2,f,m)=>{let xyz0,xyz1,hue0,hue1,sat0,sat1,lbv0,lbv1,sat,hue,lbv,dh;return"hsl"===m?(xyz0=col1.hsl(),xyz1=col2.hsl()):"hsv"===m?(xyz0=col1.hsv(),xyz1=col2.hsv()):"hcg"===m?(xyz0=col1.hcg(),xyz1=col2.hcg()):"hsi"===m?(xyz0=col1.hsi(),xyz1=col2.hsi()):"lch"===m||"hcl"===m?(m="hcl",xyz0=col1.hcl(),xyz1=col2.hcl()):"oklch"===m&&(xyz0=col1.oklch().reverse(),xyz1=col2.oklch().reverse()),"h"!==m.substr(0,1)&&"oklch"!==m||([hue0,sat0,lbv0]=xyz0,[hue1,sat1,lbv1]=xyz1),isNaN(hue0)||isNaN(hue1)?isNaN(hue0)?isNaN(hue1)?hue=Number.NaN:(hue=hue1,1!=lbv0&&0!=lbv0||"hsv"==m||(sat=sat1)):(hue=hue0,1!=lbv1&&0!=lbv1||"hsv"==m||(sat=sat0)):(dh=hue1>hue0&&hue1-hue0>180?hue1-(hue0+360):hue1<hue0&&hue0-hue1>180?hue1+360-hue0:hue1-hue0,hue=hue0+f*dh),void 0===sat&&(sat=sat0+f*(sat1-sat0)),lbv=lbv0+f*(lbv1-lbv0),new src_Color("oklch"===m?[lbv,sat,hue]:[hue,sat,lbv],m)},lch_lch=(col1,col2,f)=>_hsx(col1,col2,f,"lch");interpolator.lch=lch_lch,interpolator.hcl=lch_lch;const num_num2rgb=num=>{if("number"==type(num)&&num>=0&&num<=16777215){return[num>>16,num>>8&255,255&num,1]}throw new Error("unknown num color: "+num)},num_rgb2num=(...args)=>{const[r,g,b]=unpack(args,"rgb");return(r<<16)+(g<<8)+b};src_Color.prototype.num=function(){return num_rgb2num(this._rgb)};Object.assign(src_chroma,{num:(...args)=>new src_Color(...args,"num")}),input.format.num=num_num2rgb,input.autodetect.push({p:5,test:(...args)=>{if(1===args.length&&"number"===type(args[0])&&args[0]>=0&&args[0]<=16777215)return"num"}});const num_num=(col1,col2,f)=>{const c1=col1.num(),c2=col2.num();return new src_Color(c1+f*(c2-c1),"num")};interpolator.num=num_num;const{floor}=Math,hcg_hcg2rgb=(...args)=>{args=unpack(args,"hcg");let r,g,b,[h,c,_g]=args;_g*=255;const _c=255*c;if(0===c)r=g=b=_g;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360),h/=60;const i=floor(h),f=h-i,p=_g*(1-c),q=p+_c*(1-f),t=p+_c*f,v=p+_c;switch(i){case 0:[r,g,b]=[v,t,p];break;case 1:[r,g,b]=[q,v,p];break;case 2:[r,g,b]=[p,v,t];break;case 3:[r,g,b]=[p,q,v];break;case 4:[r,g,b]=[t,p,v];break;case 5:[r,g,b]=[v,p,q]}}return[r,g,b,args.length>3?args[3]:1]},hcg_rgb2hcg=(...args)=>{const[r,g,b]=unpack(args,"rgb"),minRgb=utils_min(r,g,b),maxRgb=utils_max(r,g,b),delta=maxRgb-minRgb,c=100*delta/255,_g=minRgb/(255-delta)*100;let h;return 0===delta?h=Number.NaN:(r===maxRgb&&(h=(g-b)/delta),g===maxRgb&&(h=2+(b-r)/delta),b===maxRgb&&(h=4+(r-g)/delta),h*=60,h<0&&(h+=360)),[h,c,_g]};src_Color.prototype.hcg=function(){return hcg_rgb2hcg(this._rgb)};src_chroma.hcg=(...args)=>new src_Color(...args,"hcg"),input.format.hcg=hcg_hcg2rgb,input.autodetect.push({p:1,test:(...args)=>{if("array"===type(args=unpack(args,"hcg"))&&3===args.length)return"hcg"}});const hcg_hcg=(col1,col2,f)=>_hsx(col1,col2,f,"hcg");interpolator.hcg=hcg_hcg;const{cos:hsi2rgb_cos}=Math,hsi_hsi2rgb=(...args)=>{args=unpack(args,"hsi");let r,g,b,[h,s,i]=args;return isNaN(h)&&(h=0),isNaN(s)&&(s=0),h>360&&(h-=360),h<0&&(h+=360),h/=360,h<1/3?(b=(1-s)/3,r=(1+s*hsi2rgb_cos(TWOPI*h)/hsi2rgb_cos(PITHIRD-TWOPI*h))/3,g=1-(b+r)):h<2/3?(h-=1/3,r=(1-s)/3,g=(1+s*hsi2rgb_cos(TWOPI*h)/hsi2rgb_cos(PITHIRD-TWOPI*h))/3,b=1-(r+g)):(h-=2/3,g=(1-s)/3,b=(1+s*hsi2rgb_cos(TWOPI*h)/hsi2rgb_cos(PITHIRD-TWOPI*h))/3,r=1-(g+b)),r=limit(i*r*3),g=limit(i*g*3),b=limit(i*b*3),[255*r,255*g,255*b,args.length>3?args[3]:1]},{min:rgb2hsi_min,sqrt:rgb2hsi_sqrt,acos}=Math,hsi_rgb2hsi=(...args)=>{let h,[r,g,b]=unpack(args,"rgb");r/=255,g/=255,b/=255;const min_=rgb2hsi_min(r,g,b),i=(r+g+b)/3,s=i>0?1-min_/i:0;return 0===s?h=NaN:(h=(r-g+(r-b))/2,h/=rgb2hsi_sqrt((r-g)*(r-g)+(r-b)*(g-b)),h=acos(h),b>g&&(h=TWOPI-h),h/=TWOPI),[360*h,s,i]};src_Color.prototype.hsi=function(){return hsi_rgb2hsi(this._rgb)};src_chroma.hsi=(...args)=>new src_Color(...args,"hsi"),input.format.hsi=hsi_hsi2rgb,input.autodetect.push({p:2,test:(...args)=>{if("array"===type(args=unpack(args,"hsi"))&&3===args.length)return"hsi"}});const hsi_hsi=(col1,col2,f)=>_hsx(col1,col2,f,"hsi");interpolator.hsi=hsi_hsi;const hsl_hsl2rgb=(...args)=>{args=unpack(args,"hsl");const[h,s,l]=args;let r,g,b;if(0===s)r=g=b=255*l;else{const t3=[0,0,0],c=[0,0,0],t2=l<.5?l*(1+s):l+s-l*s,t1=2*l-t2,h_=h/360;t3[0]=h_+1/3,t3[1]=h_,t3[2]=h_-1/3;for(let i=0;i<3;i++)t3[i]<0&&(t3[i]+=1),t3[i]>1&&(t3[i]-=1),6*t3[i]<1?c[i]=t1+6*(t2-t1)*t3[i]:2*t3[i]<1?c[i]=t2:3*t3[i]<2?c[i]=t1+(t2-t1)*(2/3-t3[i])*6:c[i]=t1;[r,g,b]=[255*c[0],255*c[1],255*c[2]]}return args.length>3?[r,g,b,args[3]]:[r,g,b,1]},hsl_rgb2hsl=(...args)=>{args=unpack(args,"rgba");let[r,g,b]=args;r/=255,g/=255,b/=255;const minRgb=utils_min(r,g,b),maxRgb=utils_max(r,g,b),l=(maxRgb+minRgb)/2;let s,h;return maxRgb===minRgb?(s=0,h=Number.NaN):s=l<.5?(maxRgb-minRgb)/(maxRgb+minRgb):(maxRgb-minRgb)/(2-maxRgb-minRgb),r==maxRgb?h=(g-b)/(maxRgb-minRgb):g==maxRgb?h=2+(b-r)/(maxRgb-minRgb):b==maxRgb&&(h=4+(r-g)/(maxRgb-minRgb)),h*=60,h<0&&(h+=360),args.length>3&&void 0!==args[3]?[h,s,l,args[3]]:[h,s,l]};src_Color.prototype.hsl=function(){return hsl_rgb2hsl(this._rgb)};src_chroma.hsl=(...args)=>new src_Color(...args,"hsl"),input.format.hsl=hsl_hsl2rgb,input.autodetect.push({p:2,test:(...args)=>{if("array"===type(args=unpack(args,"hsl"))&&3===args.length)return"hsl"}});const hsl_hsl=(col1,col2,f)=>_hsx(col1,col2,f,"hsl");interpolator.hsl=hsl_hsl;const{floor:hsv2rgb_floor}=Math,hsv_hsv2rgb=(...args)=>{args=unpack(args,"hsv");let r,g,b,[h,s,v]=args;if(v*=255,0===s)r=g=b=v;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360),h/=60;const i=hsv2rgb_floor(h),f=h-i,p=v*(1-s),q=v*(1-s*f),t=v*(1-s*(1-f));switch(i){case 0:[r,g,b]=[v,t,p];break;case 1:[r,g,b]=[q,v,p];break;case 2:[r,g,b]=[p,v,t];break;case 3:[r,g,b]=[p,q,v];break;case 4:[r,g,b]=[t,p,v];break;case 5:[r,g,b]=[v,p,q]}}return[r,g,b,args.length>3?args[3]:1]},{min:rgb2hsv_min,max:rgb2hsv_max}=Math,rgb2hsv=(...args)=>{args=unpack(args,"rgb");let[r,g,b]=args;const min_=rgb2hsv_min(r,g,b),max_=rgb2hsv_max(r,g,b),delta=max_-min_;let h,s,v;return v=max_/255,0===max_?(h=Number.NaN,s=0):(s=delta/max_,r===max_&&(h=(g-b)/delta),g===max_&&(h=2+(b-r)/delta),b===max_&&(h=4+(r-g)/delta),h*=60,h<0&&(h+=360)),[h,s,v]};src_Color.prototype.hsv=function(){return rgb2hsv(this._rgb)};src_chroma.hsv=(...args)=>new src_Color(...args,"hsv"),input.format.hsv=hsv_hsv2rgb,input.autodetect.push({p:2,test:(...args)=>{if("array"===type(args=unpack(args,"hsv"))&&3===args.length)return"hsv"}});const hsv_hsv=(col1,col2,f)=>_hsx(col1,col2,f,"hsv");interpolator.hsv=hsv_hsv;function multiplyMatrices(A,B){let m=A.length;Array.isArray(A[0])||(A=[A]),Array.isArray(B[0])||(B=B.map(x=>[x]));let p=B[0].length,B_cols=B[0].map((_,i)=>B.map(x=>x[i])),product=A.map(row=>B_cols.map(col=>Array.isArray(row)?row.reduce((a,c,i)=>a+c*(col[i]||0),0):col.reduce((a,c)=>a+c*row,0)));return 1===m&&(product=product[0]),1===p?product.map(x=>x[0]):product}const oklab_oklab2rgb=(...args)=>{args=unpack(args,"lab");const[L,a,b,...rest]=args,[X,Y,Z]=function OKLab_to_XYZ(OKLab){var LMStoXYZ=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],LMSnl=multiplyMatrices([[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],OKLab);return multiplyMatrices(LMStoXYZ,LMSnl.map(c=>c**3))}([L,a,b]),[r,g,b_]=xyz2rgb(X,Y,Z);return[r,g,b_,...rest.length>0&&rest[0]<1?[rest[0]]:[]]};const oklab_rgb2oklab=(...args)=>{const[r,g,b,...rest]=unpack(args,"rgb");return[...function XYZ_to_OKLab(XYZ){const LMStoOKLab=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],LMS=multiplyMatrices([[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],XYZ);return multiplyMatrices(LMStoOKLab,LMS.map(c=>Math.cbrt(c)))}(rgb2xyz(r,g,b)),...rest.length>0&&rest[0]<1?[rest[0]]:[]]};src_Color.prototype.oklab=function(){return oklab_rgb2oklab(this._rgb)};Object.assign(src_chroma,{oklab:(...args)=>new src_Color(...args,"oklab")}),input.format.oklab=oklab_oklab2rgb,input.autodetect.push({p:2,test:(...args)=>{if("array"===type(args=unpack(args,"oklab"))&&3===args.length)return"oklab"}});const oklab_oklab=(col1,col2,f)=>{const xyz0=col1.oklab(),xyz1=col2.oklab();return new src_Color(xyz0[0]+f*(xyz1[0]-xyz0[0]),xyz0[1]+f*(xyz1[1]-xyz0[1]),xyz0[2]+f*(xyz1[2]-xyz0[2]),"oklab")};interpolator.oklab=oklab_oklab;const oklch=(col1,col2,f)=>_hsx(col1,col2,f,"oklch");interpolator.oklch=oklch;const{pow:average_pow,sqrt:average_sqrt,PI:average_PI,cos:average_cos,sin:average_sin,atan2:average_atan2}=Math,_average_lrgb=(colors,weights)=>{const l=colors.length,xyz=[0,0,0,0];for(let i=0;i<colors.length;i++){const col=colors[i],f=weights[i]/l,rgb=col._rgb;xyz[0]+=average_pow(rgb[0],2)*f,xyz[1]+=average_pow(rgb[1],2)*f,xyz[2]+=average_pow(rgb[2],2)*f,xyz[3]+=rgb[3]*f}return xyz[0]=average_sqrt(xyz[0]),xyz[1]=average_sqrt(xyz[1]),xyz[2]=average_sqrt(xyz[2]),xyz[3]>.9999999&&(xyz[3]=1),new src_Color(clip_rgb(xyz))},{pow:scale_pow}=Math;function scale(colors){let _mode="rgb",_nacol=src_chroma("#ccc"),_spread=0,_domain=[0,1],_pos=[],_padding=[0,0],_classes=!1,_colors=[],_out=!1,_min=0,_max=1,_correctLightness=!1,_colorCache={},_useCache=!0,_gamma=1;const setColors=function(colors){if((colors=colors||["#fff","#000"])&&"string"===type(colors)&&src_chroma.brewer&&src_chroma.brewer[colors.toLowerCase()]&&(colors=src_chroma.brewer[colors.toLowerCase()]),"array"===type(colors)){1===colors.length&&(colors=[colors[0],colors[0]]),colors=colors.slice(0);for(let c=0;c<colors.length;c++)colors[c]=src_chroma(colors[c]);_pos.length=0;for(let c=0;c<colors.length;c++)_pos.push(c/(colors.length-1))}return resetCache(),_colors=colors};let tMapLightness=t=>t,tMapDomain=t=>t;const getColor=function(val,bypassMap){let col,t;if(null==bypassMap&&(bypassMap=!1),isNaN(val)||null===val)return _nacol;if(bypassMap)t=val;else if(_classes&&_classes.length>2){t=function(value){if(null!=_classes){const n=_classes.length-1;let i=0;for(;i<n&&value>=_classes[i];)i++;return i-1}return 0}(val)/(_classes.length-2)}else t=_max!==_min?(val-_min)/(_max-_min):1;t=tMapDomain(t),bypassMap||(t=tMapLightness(t)),1!==_gamma&&(t=scale_pow(t,_gamma)),t=_padding[0]+t*(1-_padding[0]-_padding[1]),t=limit(t,0,1);const k=Math.floor(1e4*t);if(_useCache&&_colorCache[k])col=_colorCache[k];else{if("array"===type(_colors))for(let i=0;i<_pos.length;i++){const p=_pos[i];if(t<=p){col=_colors[i];break}if(t>=p&&i===_pos.length-1){col=_colors[i];break}if(t>p&&t<_pos[i+1]){t=(t-p)/(_pos[i+1]-p),col=src_chroma.interpolate(_colors[i],_colors[i+1],t,_mode);break}}else"function"===type(_colors)&&(col=_colors(t));_useCache&&(_colorCache[k]=col)}return col};var resetCache=()=>_colorCache={};setColors(colors);const f=function(v){const c=src_chroma(getColor(v));return _out&&c[_out]?c[_out]():c};return f.classes=function(classes){if(null!=classes){if("array"===type(classes))_classes=classes,_domain=[classes[0],classes[classes.length-1]];else{const d=src_chroma.analyze(_domain);_classes=0===classes?[d.min,d.max]:src_chroma.limits(d,"e",classes)}return f}return _classes},f.domain=function(domain){if(!arguments.length)return _domain;_min=domain[0],_max=domain[domain.length-1],_pos=[];const k=_colors.length;if(domain.length===k&&_min!==_max)for(let d of Array.from(domain))_pos.push((d-_min)/(_max-_min));else{for(let c=0;c<k;c++)_pos.push(c/(k-1));if(domain.length>2){const tOut=domain.map((d,i)=>i/(domain.length-1)),tBreaks=domain.map(d=>(d-_min)/(_max-_min));tBreaks.every((val,i)=>tOut[i]===val)||(tMapDomain=t=>{if(t<=0||t>=1)return t;let i=0;for(;t>=tBreaks[i+1];)i++;const f=(t-tBreaks[i])/(tBreaks[i+1]-tBreaks[i]);return tOut[i]+f*(tOut[i+1]-tOut[i])})}}return _domain=[_min,_max],f},f.mode=function(_m){return arguments.length?(_mode=_m,resetCache(),f):_mode},f.range=function(colors,_pos){return setColors(colors),f},f.out=function(_o){return _out=_o,f},f.spread=function(val){return arguments.length?(_spread=val,f):_spread},f.correctLightness=function(v){return null==v&&(v=!0),_correctLightness=v,resetCache(),tMapLightness=_correctLightness?function(t){const L0=getColor(0,!0).lab()[0],L1=getColor(1,!0).lab()[0],pol=L0>L1;let L_actual=getColor(t,!0).lab()[0];const L_ideal=L0+(L1-L0)*t;let L_diff=L_actual-L_ideal,t0=0,t1=1,max_iter=20;for(;Math.abs(L_diff)>.01&&max_iter-- >0;)(function(){pol&&(L_diff*=-1),L_diff<0?(t0=t,t+=.5*(t1-t)):(t1=t,t+=.5*(t0-t)),L_actual=getColor(t,!0).lab()[0],L_diff=L_actual-L_ideal})();return t}:t=>t,f},f.padding=function(p){return null!=p?("number"===type(p)&&(p=[p,p]),_padding=p,f):_padding},f.colors=function(numColors,out){arguments.length<2&&(out="hex");let result=[];if(0===arguments.length)result=_colors.slice(0);else if(1===numColors)result=[f(.5)];else if(numColors>1){const dm=_domain[0],dd=_domain[1]-dm;result=function __range__(left,right,inclusive){let range=[],ascending=left<right,end=inclusive?ascending?right+1:right-1:right;for(let i=left;ascending?i<end:i>end;ascending?i++:i--)range.push(i);return range}(0,numColors,!1).map(i=>f(dm+i/(numColors-1)*dd))}else{colors=[];let samples=[];if(_classes&&_classes.length>2)for(let i=1,end=_classes.length,asc=1<=end;asc?i<end:i>end;asc?i++:i--)samples.push(.5*(_classes[i-1]+_classes[i]));else samples=_domain;result=samples.map(v=>f(v))}return src_chroma[out]&&(result=result.map(c=>c[out]())),result},f.cache=function(c){return null!=c?(_useCache=c,f):_useCache},f.gamma=function(g){return null!=g?(_gamma=g,f):_gamma},f.nodata=function(d){return null!=d?(_nacol=src_chroma(d),f):_nacol},f}const{round:rgb_round}=Math;src_Color.prototype.rgb=function(rnd=!0){return!1===rnd?this._rgb.slice(0,3):this._rgb.slice(0,3).map(rgb_round)},src_Color.prototype.rgba=function(rnd=!0){return this._rgb.slice(0,4).map((v,i)=>i<3?!1===rnd?v:rgb_round(v):v)};Object.assign(src_chroma,{rgb:(...args)=>new src_Color(...args,"rgb")}),input.format.rgb=(...args)=>{const rgba=unpack(args,"rgba");return void 0===rgba[3]&&(rgba[3]=1),rgba},input.autodetect.push({p:3,test:(...args)=>{if("array"===type(args=unpack(args,"rgba"))&&(3===args.length||4===args.length&&"number"==type(args[3])&&args[3]>=0&&args[3]<=1))return"rgb"}});const blend=(bottom,top,mode)=>{if(!blend[mode])throw new Error("unknown blend mode "+mode);return blend[mode](bottom,top)},blend_f=f=>(bottom,top)=>{const c0=src_chroma(top).rgb(),c1=src_chroma(bottom).rgb();return src_chroma.rgb(f(c0,c1))},each=f=>(c0,c1)=>{const out=[];return out[0]=f(c0[0],c1[0]),out[1]=f(c0[1],c1[1]),out[2]=f(c0[2],c1[2]),out};blend.normal=blend_f(each(a=>a)),blend.multiply=blend_f(each((a,b)=>a*b/255)),blend.screen=blend_f(each((a,b)=>255*(1-(1-a/255)*(1-b/255)))),blend.overlay=blend_f(each((a,b)=>b<128?2*a*b/255:255*(1-2*(1-a/255)*(1-b/255)))),blend.darken=blend_f(each((a,b)=>a>b?b:a)),blend.lighten=blend_f(each((a,b)=>a>b?a:b)),blend.dodge=blend_f(each((a,b)=>255===a||(a=b/255*255/(1-a/255))>255?255:a)),blend.burn=blend_f(each((a,b)=>255*(1-(1-b/255)/(a/255))));const generator_blend=blend,{pow:cubehelix_pow,sin:cubehelix_sin,cos:cubehelix_cos}=Math;const{floor:random_floor,random}=Math,{log,pow:analyze_pow,floor:analyze_floor,abs}=Math;function analyze(data,key=null){const r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===type(data)&&(data=Object.values(data)),data.forEach(val=>{key&&"object"===type(val)&&(val=val[key]),null==val||isNaN(val)||(r.values.push(val),r.sum+=val,val<r.min&&(r.min=val),val>r.max&&(r.max=val),r.count+=1)}),r.domain=[r.min,r.max],r.limits=(mode,num)=>limits(r,mode,num),r}function limits(data,mode="equal",num=7){"array"==type(data)&&(data=analyze(data));const{min,max}=data,values=data.values.sort((a,b)=>a-b);if(1===num)return[min,max];const limits=[];if("c"===mode.substr(0,1)&&(limits.push(min),limits.push(max)),"e"===mode.substr(0,1)){limits.push(min);for(let i=1;i<num;i++)limits.push(min+i/num*(max-min));limits.push(max)}else if("l"===mode.substr(0,1)){if(min<=0)throw new Error("Logarithmic scales are only possible for values > 0");const min_log=Math.LOG10E*log(min),max_log=Math.LOG10E*log(max);limits.push(min);for(let i=1;i<num;i++)limits.push(analyze_pow(10,min_log+i/num*(max_log-min_log)));limits.push(max)}else if("q"===mode.substr(0,1)){limits.push(min);for(let i=1;i<num;i++){const p=(values.length-1)*i/num,pb=analyze_floor(p);if(pb===p)limits.push(values[pb]);else{const pr=p-pb;limits.push(values[pb]*(1-pr)+values[pb+1]*pr)}}limits.push(max)}else if("k"===mode.substr(0,1)){let cluster;const n=values.length,assignments=new Array(n),clusterSizes=new Array(num);let repeat=!0,nb_iters=0,centroids=null;centroids=[],centroids.push(min);for(let i=1;i<num;i++)centroids.push(min+i/num*(max-min));for(centroids.push(max);repeat;){for(let j=0;j<num;j++)clusterSizes[j]=0;for(let i=0;i<n;i++){const value=values[i];let best,mindist=Number.MAX_VALUE;for(let j=0;j<num;j++){const dist=abs(centroids[j]-value);dist<mindist&&(mindist=dist,best=j),clusterSizes[best]++,assignments[i]=best}}const newCentroids=new Array(num);for(let j=0;j<num;j++)newCentroids[j]=null;for(let i=0;i<n;i++)cluster=assignments[i],null===newCentroids[cluster]?newCentroids[cluster]=values[i]:newCentroids[cluster]+=values[i];for(let j=0;j<num;j++)newCentroids[j]*=1/clusterSizes[j];repeat=!1;for(let j=0;j<num;j++)if(newCentroids[j]!==centroids[j]){repeat=!0;break}centroids=newCentroids,nb_iters++,nb_iters>200&&(repeat=!1)}const kClusters={};for(let j=0;j<num;j++)kClusters[j]=[];for(let i=0;i<n;i++)cluster=assignments[i],kClusters[cluster].push(values[i]);let tmpKMeansBreaks=[];for(let j=0;j<num;j++)tmpKMeansBreaks.push(kClusters[j][0]),tmpKMeansBreaks.push(kClusters[j][kClusters[j].length-1]);tmpKMeansBreaks=tmpKMeansBreaks.sort((a,b)=>a-b),limits.push(tmpKMeansBreaks[0]);for(let i=1;i<tmpKMeansBreaks.length;i+=2){const v=tmpKMeansBreaks[i];isNaN(v)||-1!==limits.indexOf(v)||limits.push(v)}}return limits}function lum(r,g,b){return.2126729*Math.pow(r/255,2.4)+.7151522*Math.pow(g/255,2.4)+.072175*Math.pow(b/255,2.4)}const{sqrt:delta_e_sqrt,pow:delta_e_pow,min:delta_e_min,max:delta_e_max,atan2:delta_e_atan2,abs:delta_e_abs,cos:delta_e_cos,sin:delta_e_sin,exp,PI:delta_e_PI}=Math;const scales={cool:()=>scale([src_chroma.hsl(180,1,.9),src_chroma.hsl(250,.7,.4)]),hot:()=>scale(["#000","#f00","#ff0","#fff"]).mode("rgb")},colorbrewer={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},colorbrewerTypes=Object.keys(colorbrewer),typeMap=new Map(colorbrewerTypes.map(key=>[key.toLowerCase(),key])),colors_colorbrewer="function"==typeof Proxy?new Proxy(colorbrewer,{get(target,prop){const lower=prop.toLowerCase();if(typeMap.has(lower))return target[typeMap.get(lower)]},getOwnPropertyNames:()=>Object.getOwnPropertyNames(colorbrewerTypes)}):colorbrewer,cmyk_cmyk2rgb=(...args)=>{args=unpack(args,"cmyk");const[c,m,y,k]=args,alpha=args.length>4?args[4]:1;return 1===k?[0,0,0,alpha]:[c>=1?0:255*(1-c)*(1-k),m>=1?0:255*(1-m)*(1-k),y>=1?0:255*(1-y)*(1-k),alpha]},{max:rgb2cmyk_max}=Math,cmyk_rgb2cmyk=(...args)=>{let[r,g,b]=unpack(args,"rgb");r/=255,g/=255,b/=255;const k=1-rgb2cmyk_max(r,rgb2cmyk_max(g,b)),f=k<1?1/(1-k):0;return[(1-r-k)*f,(1-g-k)*f,(1-b-k)*f,k]};src_Color.prototype.cmyk=function(){return cmyk_rgb2cmyk(this._rgb)};Object.assign(src_chroma,{cmyk:(...args)=>new src_Color(...args,"cmyk")}),input.format.cmyk=cmyk_cmyk2rgb,input.autodetect.push({p:2,test:(...args)=>{if("array"===type(args=unpack(args,"cmyk"))&&4===args.length)return"cmyk"}});const css_hsl2css=(...args)=>{const hsla=unpack(args,"hsla");let mode=last(args)||"lsa";return hsla[0]=rnd2(hsla[0]||0)+"deg",hsla[1]=rnd2(100*hsla[1])+"%",hsla[2]=rnd2(100*hsla[2])+"%","hsla"===mode||hsla.length>3&&hsla[3]<1?(hsla[3]="/ "+(hsla.length>3?hsla[3]:1),mode="hsla"):hsla.length=3,`${mode.substr(0,3)}(${hsla.join(" ")})`},css_lab2css=(...args)=>{const laba=unpack(args,"lab");let mode=last(args)||"lab";return laba[0]=rnd2(laba[0])+"%",laba[1]=rnd2(laba[1]),laba[2]=rnd2(laba[2]),"laba"===mode||laba.length>3&&laba[3]<1?laba[3]="/ "+(laba.length>3?laba[3]:1):laba.length=3,`lab(${laba.join(" ")})`},css_lch2css=(...args)=>{const lcha=unpack(args,"lch");let mode=last(args)||"lab";return lcha[0]=rnd2(lcha[0])+"%",lcha[1]=rnd2(lcha[1]),lcha[2]=isNaN(lcha[2])?"none":rnd2(lcha[2])+"deg","lcha"===mode||lcha.length>3&&lcha[3]<1?lcha[3]="/ "+(lcha.length>3?lcha[3]:1):lcha.length=3,`lch(${lcha.join(" ")})`},css_oklab2css=(...args)=>{const laba=unpack(args,"lab");return laba[0]=rnd2(100*laba[0])+"%",laba[1]=rnd3(laba[1]),laba[2]=rnd3(laba[2]),laba.length>3&&laba[3]<1?laba[3]="/ "+(laba.length>3?laba[3]:1):laba.length=3,`oklab(${laba.join(" ")})`},oklch_rgb2oklch=(...args)=>{const[r,g,b,...rest]=unpack(args,"rgb"),[l,a,b_]=oklab_rgb2oklab(r,g,b),[L,c,h]=lch_lab2lch(l,a,b_);return[L,c,h,...rest.length>0&&rest[0]<1?[rest[0]]:[]]},css_oklch2css=(...args)=>{const lcha=unpack(args,"lch");return lcha[0]=rnd2(100*lcha[0])+"%",lcha[1]=rnd3(lcha[1]),lcha[2]=isNaN(lcha[2])?"none":rnd2(lcha[2])+"deg",lcha.length>3&&lcha[3]<1?lcha[3]="/ "+(lcha.length>3?lcha[3]:1):lcha.length=3,`oklch(${lcha.join(" ")})`},{round:rgb2css_round}=Math,css_rgb2css=(...args)=>{const rgba=unpack(args,"rgba");let mode=last(args)||"rgb";if("hsl"===mode.substr(0,3))return css_hsl2css(hsl_rgb2hsl(rgba),mode);if("lab"===mode.substr(0,3)){const prevWhitePoint=getLabWhitePoint();setLabWhitePoint("d50");const cssColor=css_lab2css(lab_rgb2lab(rgba),mode);return setLabWhitePoint(prevWhitePoint),cssColor}if("lch"===mode.substr(0,3)){const prevWhitePoint=getLabWhitePoint();setLabWhitePoint("d50");const cssColor=css_lch2css(lch_rgb2lch(rgba),mode);return setLabWhitePoint(prevWhitePoint),cssColor}return"oklab"===mode.substr(0,5)?css_oklab2css(oklab_rgb2oklab(rgba)):"oklch"===mode.substr(0,5)?css_oklch2css(oklch_rgb2oklch(rgba)):(rgba[0]=rgb2css_round(rgba[0]),rgba[1]=rgb2css_round(rgba[1]),rgba[2]=rgb2css_round(rgba[2]),("rgba"===mode||rgba.length>3&&rgba[3]<1)&&(rgba[3]="/ "+(rgba.length>3?rgba[3]:1),mode="rgba"),`${mode.substr(0,3)}(${rgba.slice(0,"rgb"===mode?3:4).join(" ")})`)},oklch_oklch2rgb=(...args)=>{args=unpack(args,"lch");const[l,c,h,...rest]=args,[L,a,b_]=lch_lch2lab(l,c,h),[r,g,b]=oklab_oklab2rgb(L,a,b_);return[r,g,b,...rest.length>0&&rest[0]<1?[rest[0]]:[]]},INT_OR_PCT=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,FLOAT_OR_PCT=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,PCT=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,RE_S=/\s*/.source,SEP=/\s+/.source,COMMA=/\s*,\s*/.source,ANLGE=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,ALPHA=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,RE_RGB=new RegExp("^rgba?\\("+RE_S+[INT_OR_PCT,INT_OR_PCT,INT_OR_PCT].join(SEP)+ALPHA+"\\)$"),RE_RGB_LEGACY=new RegExp("^rgb\\("+RE_S+[INT_OR_PCT,INT_OR_PCT,INT_OR_PCT].join(COMMA)+RE_S+"\\)$"),RE_RGBA_LEGACY=new RegExp("^rgba\\("+RE_S+[INT_OR_PCT,INT_OR_PCT,INT_OR_PCT,FLOAT_OR_PCT].join(COMMA)+RE_S+"\\)$"),RE_HSL=new RegExp("^hsla?\\("+RE_S+[ANLGE,PCT,PCT].join(SEP)+ALPHA+"\\)$"),RE_HSL_LEGACY=new RegExp("^hsl?\\("+RE_S+[ANLGE,PCT,PCT].join(COMMA)+RE_S+"\\)$"),RE_HSLA_LEGACY=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,RE_LAB=new RegExp("^lab\\("+RE_S+[FLOAT_OR_PCT,FLOAT_OR_PCT,FLOAT_OR_PCT].join(SEP)+ALPHA+"\\)$"),RE_LCH=new RegExp("^lch\\("+RE_S+[FLOAT_OR_PCT,FLOAT_OR_PCT,ANLGE].join(SEP)+ALPHA+"\\)$"),RE_OKLAB=new RegExp("^oklab\\("+RE_S+[FLOAT_OR_PCT,FLOAT_OR_PCT,FLOAT_OR_PCT].join(SEP)+ALPHA+"\\)$"),RE_OKLCH=new RegExp("^oklch\\("+RE_S+[FLOAT_OR_PCT,FLOAT_OR_PCT,ANLGE].join(SEP)+ALPHA+"\\)$"),{round:css2rgb_round}=Math,roundRGB=rgb=>rgb.map((v,i)=>i<=2?limit(css2rgb_round(v),0,255):v),percentToAbsolute=(pct,min=0,max=100,signed=!1)=>("string"==typeof pct&&pct.endsWith("%")&&(pct=parseFloat(pct.substring(0,pct.length-1))/100,pct=signed?min+.5*(pct+1)*(max-min):min+pct*(max-min)),+pct),noneToValue=(v,noneValue)=>"none"===v?noneValue:v,css2rgb=css=>{if("transparent"===(css=css.toLowerCase().trim()))return[0,0,0,0];let m;if(input.format.named)try{return input.format.named(css)}catch(e){}if((m=css.match(RE_RGB))||(m=css.match(RE_RGB_LEGACY))){let rgb=m.slice(1,4);for(let i=0;i<3;i++)rgb[i]=+percentToAbsolute(noneToValue(rgb[i],0),0,255);rgb=roundRGB(rgb);const alpha=void 0!==m[4]?+percentToAbsolute(m[4],0,1):1;return rgb[3]=alpha,rgb}if(m=css.match(RE_RGBA_LEGACY)){const rgb=m.slice(1,5);for(let i=0;i<4;i++)rgb[i]=+percentToAbsolute(rgb[i],0,255);return rgb}if((m=css.match(RE_HSL))||(m=css.match(RE_HSL_LEGACY))){const hsl=m.slice(1,4);hsl[0]=+noneToValue(hsl[0].replace("deg",""),0),hsl[1]=.01*+percentToAbsolute(noneToValue(hsl[1],0),0,100),hsl[2]=.01*+percentToAbsolute(noneToValue(hsl[2],0),0,100);const rgb=roundRGB(hsl_hsl2rgb(hsl)),alpha=void 0!==m[4]?+percentToAbsolute(m[4],0,1):1;return rgb[3]=alpha,rgb}if(m=css.match(RE_HSLA_LEGACY)){const hsl=m.slice(1,4);hsl[1]*=.01,hsl[2]*=.01;const rgb=hsl_hsl2rgb(hsl);for(let i=0;i<3;i++)rgb[i]=css2rgb_round(rgb[i]);return rgb[3]=+m[4],rgb}if(m=css.match(RE_LAB)){const lab=m.slice(1,4);lab[0]=percentToAbsolute(noneToValue(lab[0],0),0,100),lab[1]=percentToAbsolute(noneToValue(lab[1],0),-125,125,!0),lab[2]=percentToAbsolute(noneToValue(lab[2],0),-125,125,!0);const wp=getLabWhitePoint();setLabWhitePoint("d50");const rgb=roundRGB(lab_lab2rgb(lab));setLabWhitePoint(wp);const alpha=void 0!==m[4]?+percentToAbsolute(m[4],0,1):1;return rgb[3]=alpha,rgb}if(m=css.match(RE_LCH)){const lch=m.slice(1,4);lch[0]=percentToAbsolute(lch[0],0,100),lch[1]=percentToAbsolute(noneToValue(lch[1],0),0,150,!1),lch[2]=+noneToValue(lch[2].replace("deg",""),0);const wp=getLabWhitePoint();setLabWhitePoint("d50");const rgb=roundRGB(lch_lch2rgb(lch));setLabWhitePoint(wp);const alpha=void 0!==m[4]?+percentToAbsolute(m[4],0,1):1;return rgb[3]=alpha,rgb}if(m=css.match(RE_OKLAB)){const oklab=m.slice(1,4);oklab[0]=percentToAbsolute(noneToValue(oklab[0],0),0,1),oklab[1]=percentToAbsolute(noneToValue(oklab[1],0),-.4,.4,!0),oklab[2]=percentToAbsolute(noneToValue(oklab[2],0),-.4,.4,!0);const rgb=roundRGB(oklab_oklab2rgb(oklab)),alpha=void 0!==m[4]?+percentToAbsolute(m[4],0,1):1;return rgb[3]=alpha,rgb}if(m=css.match(RE_OKLCH)){const oklch=m.slice(1,4);oklch[0]=percentToAbsolute(noneToValue(oklch[0],0),0,1),oklch[1]=percentToAbsolute(noneToValue(oklch[1],0),0,.4,!1),oklch[2]=+noneToValue(oklch[2].replace("deg",""),0);const rgb=roundRGB(oklch_oklch2rgb(oklch)),alpha=void 0!==m[4]?+percentToAbsolute(m[4],0,1):1;return rgb[3]=alpha,rgb}};css2rgb.test=s=>RE_RGB.test(s)||RE_HSL.test(s)||RE_LAB.test(s)||RE_LCH.test(s)||RE_OKLAB.test(s)||RE_OKLCH.test(s)||RE_RGB_LEGACY.test(s)||RE_RGBA_LEGACY.test(s)||RE_HSL_LEGACY.test(s)||RE_HSLA_LEGACY.test(s)||"transparent"===s;const css_css2rgb=css2rgb;src_Color.prototype.css=function(mode){return css_rgb2css(this._rgb,mode)};src_chroma.css=(...args)=>new src_Color(...args,"css"),input.format.css=css_css2rgb,input.autodetect.push({p:5,test:(h,...rest)=>{if(!rest.length&&"string"===type(h)&&css_css2rgb.test(h))return"css"}}),input.format.gl=(...args)=>{const rgb=unpack(args,"rgba");return rgb[0]*=255,rgb[1]*=255,rgb[2]*=255,rgb};src_chroma.gl=(...args)=>new src_Color(...args,"gl"),src_Color.prototype.gl=function(){const rgb=this._rgb;return[rgb[0]/255,rgb[1]/255,rgb[2]/255,rgb[3]]},src_Color.prototype.hex=function(mode){return hex_rgb2hex(this._rgb,mode)};src_chroma.hex=(...args)=>new src_Color(...args,"hex"),input.format.hex=hex_hex2rgb,input.autodetect.push({p:4,test:(h,...rest)=>{if(!rest.length&&"string"===type(h)&&[3,4,5,6,7,8,9].indexOf(h.length)>=0)return"hex"}});const{log:temperature2rgb_log}=Math,temp_temperature2rgb=kelvin=>{const temp=kelvin/100;let r,g,b;return temp<66?(r=255,g=temp<6?0:-155.25485562709179-.44596950469579133*(g=temp-2)+104.49216199393888*temperature2rgb_log(g),b=temp<20?0:.8274096064007395*(b=temp-10)-254.76935184120902+115.67994401066147*temperature2rgb_log(b)):(r=351.97690566805693+.114206453784165*(r=temp-55)-40.25366309332127*temperature2rgb_log(r),g=325.4494125711974+.07943456536662342*(g=temp-50)-28.0852963507957*temperature2rgb_log(g),b=255),[r,g,b,1]},{round:rgb2temperature_round}=Math,temp_rgb2temperature=(...args)=>{const rgb=unpack(args,"rgb"),r=rgb[0],b=rgb[2];let minTemp=1e3,maxTemp=4e4;let temp;for(;maxTemp-minTemp>.4;){temp=.5*(maxTemp+minTemp);const rgb=temp_temperature2rgb(temp);rgb[2]/rgb[0]>=b/r?maxTemp=temp:minTemp=temp}return rgb2temperature_round(temp)};src_Color.prototype.temp=src_Color.prototype.kelvin=src_Color.prototype.temperature=function(){return temp_rgb2temperature(this._rgb)};const temp=(...args)=>new src_Color(...args,"temp");Object.assign(src_chroma,{temp,kelvin:temp,temperature:temp}),input.format.temp=input.format.kelvin=input.format.temperature=temp_temperature2rgb,src_Color.prototype.oklch=function(){return oklch_rgb2oklch(this._rgb)};Object.assign(src_chroma,{oklch:(...args)=>new src_Color(...args,"oklch")}),input.format.oklch=oklch_oklch2rgb,input.autodetect.push({p:2,test:(...args)=>{if("array"===type(args=unpack(args,"oklch"))&&3===args.length)return"oklch"}}),Object.assign(src_chroma,{analyze,average:(colors,mode="lrgb",weights=null)=>{const l=colors.length;weights||(weights=Array.from(new Array(l)).map(()=>1));const k=l/weights.reduce(function(a,b){return a+b});if(weights.forEach((w,i)=>{weights[i]*=k}),colors=colors.map(c=>new src_Color(c)),"lrgb"===mode)return _average_lrgb(colors,weights);const first=colors.shift(),xyz=first.get(mode),cnt=[];let dx=0,dy=0;for(let i=0;i<xyz.length;i++)if(xyz[i]=(xyz[i]||0)*weights[0],cnt.push(isNaN(xyz[i])?0:weights[0]),"h"===mode.charAt(i)&&!isNaN(xyz[i])){const A=xyz[i]/180*average_PI;dx+=average_cos(A)*weights[0],dy+=average_sin(A)*weights[0]}let alpha=first.alpha()*weights[0];colors.forEach((c,ci)=>{const xyz2=c.get(mode);alpha+=c.alpha()*weights[ci+1];for(let i=0;i<xyz.length;i++)if(!isNaN(xyz2[i]))if(cnt[i]+=weights[ci+1],"h"===mode.charAt(i)){const A=xyz2[i]/180*average_PI;dx+=average_cos(A)*weights[ci+1],dy+=average_sin(A)*weights[ci+1]}else xyz[i]+=xyz2[i]*weights[ci+1]});for(let i=0;i<xyz.length;i++)if("h"===mode.charAt(i)){let A=average_atan2(dy/cnt[i],dx/cnt[i])/average_PI*180;for(;A<0;)A+=360;for(;A>=360;)A-=360;xyz[i]=A}else xyz[i]=xyz[i]/cnt[i];return alpha/=l,new src_Color(xyz,mode).alpha(alpha>.99999?1:alpha,!0)},bezier:colors=>{const f=function(colors){let I,lab0,lab1,lab2;if(2===(colors=colors.map(c=>new src_Color(c))).length)[lab0,lab1]=colors.map(c=>c.lab()),I=function(t){const lab=[0,1,2].map(i=>lab0[i]+t*(lab1[i]-lab0[i]));return new src_Color(lab,"lab")};else if(3===colors.length)[lab0,lab1,lab2]=colors.map(c=>c.lab()),I=function(t){const lab=[0,1,2].map(i=>(1-t)*(1-t)*lab0[i]+2*(1-t)*t*lab1[i]+t*t*lab2[i]);return new src_Color(lab,"lab")};else if(4===colors.length){let lab3;[lab0,lab1,lab2,lab3]=colors.map(c=>c.lab()),I=function(t){const lab=[0,1,2].map(i=>(1-t)*(1-t)*(1-t)*lab0[i]+3*(1-t)*(1-t)*t*lab1[i]+3*(1-t)*t*t*lab2[i]+t*t*t*lab3[i]);return new src_Color(lab,"lab")}}else{if(!(colors.length>=5))throw new RangeError("No point in running bezier with only one color.");{let labs,row,n;labs=colors.map(c=>c.lab()),n=colors.length-1,row=function(n){let row=[1,1];for(let i=1;i<n;i++){let newrow=[1];for(let j=1;j<=row.length;j++)newrow[j]=(row[j]||0)+row[j-1];row=newrow}return row}(n),I=function(t){const u=1-t,lab=[0,1,2].map(i=>labs.reduce((sum,el,j)=>sum+row[j]*u**(n-j)*t**j*el[i],0));return new src_Color(lab,"lab")}}}return I}(colors);return f.scale=()=>scale(f),f},blend:generator_blend,brewer:colors_colorbrewer,Color:src_Color,colors:colors_w3cx11,contrast:(a,b)=>{a=new src_Color(a),b=new src_Color(b);const l1=a.luminance(),l2=b.luminance();return l1>l2?(l1+.05)/(l2+.05):(l2+.05)/(l1+.05)},contrastAPCA:(text,bg)=>{text=new src_Color(text),bg=new src_Color(bg),text.alpha()<1&&(text=mix(bg,text,text.alpha(),"rgb"));const l_text=lum(...text.rgb()),l_bg=lum(...bg.rgb()),Y_text=l_text>=.022?l_text:l_text+Math.pow(.022-l_text,1.414),Y_bg=l_bg>=.022?l_bg:l_bg+Math.pow(.022-l_bg,1.414),S_norm=Math.pow(Y_bg,.56)-Math.pow(Y_text,.57),S_rev=Math.pow(Y_bg,.65)-Math.pow(Y_text,.62),C=Math.abs(Y_bg-Y_text)<5e-4?0:Y_text<Y_bg?1.14*S_norm:1.14*S_rev;return 100*(Math.abs(C)<.1?0:C>0?C-.027:C+.027)},cubehelix:function cubehelix(start=300,rotations=-1.5,hue=1,gamma=1,lightness=[0,1]){let dl,dh=0;"array"===type(lightness)?dl=lightness[1]-lightness[0]:(dl=0,lightness=[lightness,lightness]);const f=function(fract){const a=TWOPI*((start+120)/360+rotations*fract),l=cubehelix_pow(lightness[0]+dl*fract,gamma),amp=(0!==dh?hue[0]+fract*dh:hue)*l*(1-l)/2,cos_a=cubehelix_cos(a),sin_a=cubehelix_sin(a);return src_chroma(clip_rgb([255*(l+amp*(-.14861*cos_a+1.78277*sin_a)),255*(l+amp*(-.29227*cos_a-.90649*sin_a)),255*(l+amp*(1.97294*cos_a)),1]))};return f.start=function(s){return null==s?start:(start=s,f)},f.rotations=function(r){return null==r?rotations:(rotations=r,f)},f.gamma=function(g){return null==g?gamma:(gamma=g,f)},f.hue=function(h){return null==h?hue:("array"===type(hue=h)?(dh=hue[1]-hue[0],0===dh&&(hue=hue[1])):dh=0,f)},f.lightness=function(h){return null==h?lightness:("array"===type(h)?(lightness=h,dl=h[1]-h[0]):(lightness=[h,h],dl=0),f)},f.scale=()=>src_chroma.scale(f),f.hue(hue),f},deltaE:function delta_e(a,b,Kl=1,Kc=1,Kh=1){var rad2deg=function(rad){return 360*rad/(2*delta_e_PI)},deg2rad=function(deg){return 2*delta_e_PI*deg/360};a=new src_Color(a),b=new src_Color(b);const[L1,a1,b1]=Array.from(a.lab()),[L2,a2,b2]=Array.from(b.lab()),avgL=(L1+L2)/2,avgC=(delta_e_sqrt(delta_e_pow(a1,2)+delta_e_pow(b1,2))+delta_e_sqrt(delta_e_pow(a2,2)+delta_e_pow(b2,2)))/2,G=.5*(1-delta_e_sqrt(delta_e_pow(avgC,7)/(delta_e_pow(avgC,7)+delta_e_pow(25,7)))),a1p=a1*(1+G),a2p=a2*(1+G),C1p=delta_e_sqrt(delta_e_pow(a1p,2)+delta_e_pow(b1,2)),C2p=delta_e_sqrt(delta_e_pow(a2p,2)+delta_e_pow(b2,2)),avgCp=(C1p+C2p)/2,arctan1=rad2deg(delta_e_atan2(b1,a1p)),arctan2=rad2deg(delta_e_atan2(b2,a2p)),h1p=arctan1>=0?arctan1:arctan1+360,h2p=arctan2>=0?arctan2:arctan2+360,avgHp=delta_e_abs(h1p-h2p)>180?(h1p+h2p+360)/2:(h1p+h2p)/2,T=1-.17*delta_e_cos(deg2rad(avgHp-30))+.24*delta_e_cos(deg2rad(2*avgHp))+.32*delta_e_cos(deg2rad(3*avgHp+6))-.2*delta_e_cos(deg2rad(4*avgHp-63));let deltaHp=h2p-h1p;deltaHp=delta_e_abs(deltaHp)<=180?deltaHp:h2p<=h1p?deltaHp+360:deltaHp-360,deltaHp=2*delta_e_sqrt(C1p*C2p)*delta_e_sin(deg2rad(deltaHp)/2);const deltaL=L2-L1,deltaCp=C2p-C1p,sl=1+.015*delta_e_pow(avgL-50,2)/delta_e_sqrt(20+delta_e_pow(avgL-50,2)),sc=1+.045*avgCp,sh=1+.015*avgCp*T,deltaTheta=30*exp(-delta_e_pow((avgHp-275)/25,2)),Rt=-(2*delta_e_sqrt(delta_e_pow(avgCp,7)/(delta_e_pow(avgCp,7)+delta_e_pow(25,7))))*delta_e_sin(2*deg2rad(deltaTheta)),result=delta_e_sqrt(delta_e_pow(deltaL/(Kl*sl),2)+delta_e_pow(deltaCp/(Kc*sc),2)+delta_e_pow(deltaHp/(Kh*sh),2)+Rt*(deltaCp/(Kc*sc))*(deltaHp/(Kh*sh)));return delta_e_max(0,delta_e_min(100,result))},distance:function distance(a,b,mode="lab"){a=new src_Color(a),b=new src_Color(b);const l1=a.get(mode),l2=b.get(mode);let sum_sq=0;for(let i in l1){const d=(l1[i]||0)-(l2[i]||0);sum_sq+=d*d}return Math.sqrt(sum_sq)},input,interpolate:mix,limits,mix,random:()=>{let code="#";for(let i=0;i<6;i++)code+="0123456789abcdef".charAt(random_floor(16*random()));return new src_Color(code,"hex")},scale,scales,valid:(...args)=>{try{return new src_Color(...args),!0}catch(e){return!1}}});const chroma_js=src_chroma},"./node_modules/css-loader/dist/cjs.js!./node_modules/ol/ol.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,':root,\n:host {\n  --ol-background-color: white;\n  --ol-accent-background-color: #F5F5F5;\n  --ol-subtle-background-color: rgba(128, 128, 128, 0.25);\n  --ol-partial-background-color: rgba(255, 255, 255, 0.75);\n  --ol-foreground-color: #333333;\n  --ol-subtle-foreground-color: #666666;\n  --ol-brand-color: #00AAFF;\n}\n\n.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 1.5px solid var(--ol-background-color);\n  background-color: var(--ol-partial-background-color);\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: var(--ol-partial-background-color);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n\n.ol-scale-line-inner {\n  border: 1px solid var(--ol-subtle-foreground-color);\n  border-top: none;\n  color: var(--ol-foreground-color);\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n\n.ol-scale-bar-inner {\n  display: flex;\n}\n\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: var(--ol-foreground-color);\n  float: right;\n  z-index: 10;\n}\n\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 10px;\n  z-index: 11;\n  color: var(--ol-foreground-color);\n  text-shadow: -1.5px 0 var(--ol-partial-background-color), 0 1.5px var(--ol-partial-background-color), 1.5px 0 var(--ol-partial-background-color), 0 -1.5px var(--ol-partial-background-color);\n}\n\n.ol-scale-text {\n  position: absolute;\n  font-size: 12px;\n  text-align: center;\n  bottom: 25px;\n  color: var(--ol-foreground-color);\n  text-shadow: -1.5px 0 var(--ol-partial-background-color), 0 1.5px var(--ol-partial-background-color), 1.5px 0 var(--ol-partial-background-color), 0 -1.5px var(--ol-partial-background-color);\n}\n\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-index: 9;\n  box-sizing: border-box;\n  border: 1px solid var(--ol-foreground-color);\n}\n\n.ol-scale-singlebar-even {\n  background-color: var(--ol-subtle-foreground-color);\n}\n\n.ol-scale-singlebar-odd {\n  background-color: var(--ol-background-color);\n}\n\n.ol-unsupported {\n  display: none;\n}\n\n.ol-viewport,\n.ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.ol-viewport canvas {\n  all: unset;\n  overflow: hidden;\n}\n\n.ol-viewport {\n  touch-action: pan-x pan-y;\n}\n\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n}\n\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n\n.ol-control {\n  position: absolute;\n  background-color: var(--ol-subtle-background-color);\n  border-radius: 4px;\n}\n\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: var(--ol-subtle-foreground-color);\n  font-weight: bold;\n  text-decoration: none;\n  font-size: inherit;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: var(--ol-background-color);\n  border: none;\n  border-radius: 2px;\n}\n\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  will-change: transform;\n}\n\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  outline: 1px solid var(--ol-subtle-foreground-color);\n  color: var(--ol-foreground-color);\n}\n\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n  display: flex;\n  flex-flow: row-reverse;\n  align-items: center;\n}\n\n.ol-attribution a {\n  color: var(--ol-subtle-foreground-color);\n  text-decoration: none;\n}\n\n.ol-attribution ul {\n  margin: 0;\n  padding: 1px .5em;\n  color: var(--ol-foreground-color);\n  text-shadow: 0 0 2px var(--ol-background-color);\n  font-size: 12px;\n}\n\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n\n.ol-attribution button {\n  flex-shrink: 0;\n}\n\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n\n.ol-attribution:not(.ol-collapsed) {\n  background: var(--ol-partial-background-color);\n}\n\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: block;\n}\n\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid var(--ol-subtle-foreground-color);\n  height: 150px;\n  width: 150px;\n}\n\n.ol-overviewmap:not(.ol-collapsed) button {\n  bottom: 0;\n  left: 0;\n  position: absolute;\n}\n\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-overviewmap:not(.ol-collapsed) {\n  background: var(--ol-subtle-background-color);\n}\n\n.ol-overviewmap-box {\n  border: 1.5px dotted var(--ol-subtle-foreground-color);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n',"",{version:3,sources:["webpack://./node_modules/ol/ol.css"],names:[],mappings:"AAAA;;EAEE,4BAA4B;EAC5B,qCAAqC;EACrC,uDAAuD;EACvD,wDAAwD;EACxD,8BAA8B;EAC9B,qCAAqC;EACrC,yBAAyB;AAC3B;;AAEA;EACE,sBAAsB;EACtB,kBAAkB;EAClB,8CAA8C;EAC9C,oDAAoD;AACtD;;AAEA;EACE,QAAQ;EACR,UAAU;EACV,kBAAkB;AACpB;;AAEA;EACE,8CAA8C;EAC9C,kBAAkB;EAClB,WAAW;EACX,SAAS;EACT,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,mDAAmD;EACnD,gBAAgB;EAChB,iCAAiC;EACjC,eAAe;EACf,kBAAkB;EAClB,WAAW;EACX,4BAA4B;EAC5B,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,SAAS;AACX;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,UAAU;EACV,YAAY;EACZ,4CAA4C;EAC5C,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,eAAe;EACf,WAAW;EACX,iCAAiC;EACjC,6LAA6L;AAC/L;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,iCAAiC;EACjC,6LAA6L;AAC/L;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,UAAU;EACV,sBAAsB;EACtB,4CAA4C;AAC9C;;AAEA;EACE,mDAAmD;AACrD;;AAEA;EACE,4CAA4C;AAC9C;;AAEA;EACE,aAAa;AACf;;AAEA;;EAEE,2BAA2B;EAC3B,yBAAyB;EACzB,sBAAsB;EACtB,iBAAiB;EACjB,wCAAwC;AAC1C;;AAEA;EACE,UAAU;EACV,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,8BAA8B;EAC9B,yBAAyB;EACzB,sBAAsB;EACtB,iBAAiB;AACnB;;AAEA;EACE,wBAAwB;EACxB,qBAAqB;EACrB,gBAAgB;AAClB;;AAEA;EACE,YAAY;EACZ,oBAAoB;EACpB,iBAAiB;EACjB,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,mDAAmD;EACnD,kBAAkB;AACpB;;AAEA;EACE,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,SAAS;EACT,WAAW;EACX,qDAAqD;AACvD;;AAEA;EACE,UAAU;EACV,kBAAkB;EAClB,0DAA0D;AAC5D;;AAEA;EACE,YAAY;EACZ,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,SAAS;AACX;;AAEA;EACE,cAAc;EACd,WAAW;EACX,UAAU;EACV,wCAAwC;EACxC,iBAAiB;EACjB,qBAAqB;EACrB,kBAAkB;EAClB,kBAAkB;EAClB,eAAe;EACf,cAAc;EACd,iBAAiB;EACjB,4CAA4C;EAC5C,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,UAAU;AACZ;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,cAAc;EACd,mBAAmB;EACnB,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,UAAU;AACZ;;AAEA;;EAEE,qBAAqB;EACrB,oDAAoD;EACpD,iCAAiC;AACnC;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,iBAAiB;EACjB,YAAY;EACZ,WAAW;EACX,6BAA6B;EAC7B,aAAa;EACb,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,wCAAwC;EACxC,qBAAqB;AACvB;;AAEA;EACE,SAAS;EACT,iBAAiB;EACjB,iCAAiC;EACjC,+CAA+C;EAC/C,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,sBAAsB;AACxB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,8CAA8C;AAChD;;AAEA;EACE,SAAS;EACT,QAAQ;EACR,sBAAsB;AACxB;;AAEA;EACE,iBAAiB;EACjB,iBAAiB;AACnB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,UAAU;EACV,UAAU;EACV,aAAa;AACf;;AAEA;EACE,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,aAAa;AACf;;AAEA;EACE,SAAS;EACT,OAAO;EACP,wBAAwB;AAC1B;;AAEA;;EAEE,cAAc;AAChB;;AAEA;EACE,mDAAmD;EACnD,aAAa;EACb,YAAY;AACd;;AAEA;EACE,SAAS;EACT,OAAO;EACP,kBAAkB;AACpB;;AAEA;;EAEE,aAAa;AACf;;AAEA;EACE,6CAA6C;AAC/C;;AAEA;EACE,sDAAsD;AACxD;;AAEA;EACE,YAAY;AACd",sourcesContent:[':root,\n:host {\n  --ol-background-color: white;\n  --ol-accent-background-color: #F5F5F5;\n  --ol-subtle-background-color: rgba(128, 128, 128, 0.25);\n  --ol-partial-background-color: rgba(255, 255, 255, 0.75);\n  --ol-foreground-color: #333333;\n  --ol-subtle-foreground-color: #666666;\n  --ol-brand-color: #00AAFF;\n}\n\n.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 1.5px solid var(--ol-background-color);\n  background-color: var(--ol-partial-background-color);\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: var(--ol-partial-background-color);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n\n.ol-scale-line-inner {\n  border: 1px solid var(--ol-subtle-foreground-color);\n  border-top: none;\n  color: var(--ol-foreground-color);\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n\n.ol-scale-bar-inner {\n  display: flex;\n}\n\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: var(--ol-foreground-color);\n  float: right;\n  z-index: 10;\n}\n\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 10px;\n  z-index: 11;\n  color: var(--ol-foreground-color);\n  text-shadow: -1.5px 0 var(--ol-partial-background-color), 0 1.5px var(--ol-partial-background-color), 1.5px 0 var(--ol-partial-background-color), 0 -1.5px var(--ol-partial-background-color);\n}\n\n.ol-scale-text {\n  position: absolute;\n  font-size: 12px;\n  text-align: center;\n  bottom: 25px;\n  color: var(--ol-foreground-color);\n  text-shadow: -1.5px 0 var(--ol-partial-background-color), 0 1.5px var(--ol-partial-background-color), 1.5px 0 var(--ol-partial-background-color), 0 -1.5px var(--ol-partial-background-color);\n}\n\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-index: 9;\n  box-sizing: border-box;\n  border: 1px solid var(--ol-foreground-color);\n}\n\n.ol-scale-singlebar-even {\n  background-color: var(--ol-subtle-foreground-color);\n}\n\n.ol-scale-singlebar-odd {\n  background-color: var(--ol-background-color);\n}\n\n.ol-unsupported {\n  display: none;\n}\n\n.ol-viewport,\n.ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.ol-viewport canvas {\n  all: unset;\n  overflow: hidden;\n}\n\n.ol-viewport {\n  touch-action: pan-x pan-y;\n}\n\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n}\n\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n\n.ol-control {\n  position: absolute;\n  background-color: var(--ol-subtle-background-color);\n  border-radius: 4px;\n}\n\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: var(--ol-subtle-foreground-color);\n  font-weight: bold;\n  text-decoration: none;\n  font-size: inherit;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: var(--ol-background-color);\n  border: none;\n  border-radius: 2px;\n}\n\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  will-change: transform;\n}\n\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  outline: 1px solid var(--ol-subtle-foreground-color);\n  color: var(--ol-foreground-color);\n}\n\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n  display: flex;\n  flex-flow: row-reverse;\n  align-items: center;\n}\n\n.ol-attribution a {\n  color: var(--ol-subtle-foreground-color);\n  text-decoration: none;\n}\n\n.ol-attribution ul {\n  margin: 0;\n  padding: 1px .5em;\n  color: var(--ol-foreground-color);\n  text-shadow: 0 0 2px var(--ol-background-color);\n  font-size: 12px;\n}\n\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n\n.ol-attribution button {\n  flex-shrink: 0;\n}\n\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n\n.ol-attribution:not(.ol-collapsed) {\n  background: var(--ol-partial-background-color);\n}\n\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: block;\n}\n\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid var(--ol-subtle-foreground-color);\n  height: 150px;\n  width: 150px;\n}\n\n.ol-overviewmap:not(.ol-collapsed) button {\n  bottom: 0;\n  left: 0;\n  position: absolute;\n}\n\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-overviewmap:not(.ol-collapsed) {\n  background: var(--ol-subtle-background-color);\n}\n\n.ol-overviewmap-box {\n  border: 1.5px dotted var(--ol-subtle-foreground-color);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n'],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/runtime/api.js":module=>{module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map(function(item){var content="",needLayer=void 0!==item[5];return item[4]&&(content+="@supports (".concat(item[4],") {")),item[2]&&(content+="@media ".concat(item[2]," {")),needLayer&&(content+="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {")),content+=cssWithMappingToString(item),needLayer&&(content+="}"),item[2]&&(content+="}"),item[4]&&(content+="}"),content}).join("")},list.i=function i(modules,media,dedupe,supports,layer){"string"==typeof modules&&(modules=[[null,modules,void 0]]);var alreadyImportedModules={};if(dedupe)for(var k=0;k<this.length;k++){var id=this[k][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _k=0;_k<modules.length;_k++){var item=[].concat(modules[_k]);dedupe&&alreadyImportedModules[item[0]]||(void 0!==layer&&(void 0===item[5]||(item[1]="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {").concat(item[1],"}")),item[5]=layer),media&&(item[2]?(item[1]="@media ".concat(item[2]," {").concat(item[1],"}"),item[2]=media):item[2]=media),supports&&(item[4]?(item[1]="@supports (".concat(item[4],") {").concat(item[1],"}"),item[4]=supports):item[4]="".concat(supports)),list.push(item))}},list}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":module=>{module.exports=function(item){var content=item[1],cssMapping=item[3];if(!cssMapping)return content;if("function"==typeof btoa){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64),sourceMapping="/*# ".concat(data," */");return[content].concat([sourceMapping]).join("\n")}return[content].join("\n")}},"./node_modules/date-fns/_lib/defaultOptions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>getDefaultOptions});let defaultOptions={};function getDefaultOptions(){return defaultOptions}},"./node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>getTimezoneOffsetInMilliseconds});var _toDate_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/toDate.js");function getTimezoneOffsetInMilliseconds(date){const _date=(0,_toDate_js__WEBPACK_IMPORTED_MODULE_0__.a)(date),utcDate=new Date(Date.UTC(_date.getFullYear(),_date.getMonth(),_date.getDate(),_date.getHours(),_date.getMinutes(),_date.getSeconds(),_date.getMilliseconds()));return utcDate.setUTCFullYear(_date.getFullYear()),+date-+utcDate}},"./node_modules/date-fns/_lib/normalizeDates.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>normalizeDates});var _constructFrom_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/constructFrom.js");function normalizeDates(context,...dates){const normalize=_constructFrom_js__WEBPACK_IMPORTED_MODULE_0__.w.bind(null,context||dates.find(date=>"object"==typeof date));return dates.map(normalize)}},"./node_modules/date-fns/constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cg:()=>millisecondsInMinute,F6:()=>minutesInDay,Nw:()=>minutesInMonth,_P:()=>constructFromSymbol,_m:()=>millisecondsInSecond,my:()=>millisecondsInWeek,s0:()=>millisecondsInHour,w4:()=>millisecondsInDay});Math.pow(10,8);const millisecondsInWeek=6048e5,millisecondsInDay=864e5,millisecondsInMinute=6e4,millisecondsInHour=36e5,millisecondsInSecond=1e3,minutesInMonth=43200,minutesInDay=1440,constructFromSymbol=Symbol.for("constructDateFrom")},"./node_modules/date-fns/constructFrom.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>constructFrom});var _constants_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/constants.js");function constructFrom(date,value){return"function"==typeof date?date(value):date&&"object"==typeof date&&_constants_js__WEBPACK_IMPORTED_MODULE_0__._P in date?date[_constants_js__WEBPACK_IMPORTED_MODULE_0__._P](value):date instanceof Date?new date.constructor(value):new Date(value)}},"./node_modules/date-fns/formatDistance.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>formatDistance});var en_US=__webpack_require__("./node_modules/date-fns/locale/en-US.js"),_lib_defaultOptions=__webpack_require__("./node_modules/date-fns/_lib/defaultOptions.js"),getTimezoneOffsetInMilliseconds=__webpack_require__("./node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.js"),normalizeDates=__webpack_require__("./node_modules/date-fns/_lib/normalizeDates.js"),toDate=__webpack_require__("./node_modules/date-fns/toDate.js");function compareAsc(dateLeft,dateRight){const diff=+(0,toDate.a)(dateLeft)-+(0,toDate.a)(dateRight);return diff<0?-1:diff>0?1:diff}var constants=__webpack_require__("./node_modules/date-fns/constants.js");function differenceInCalendarMonths(laterDate,earlierDate,options){const[laterDate_,earlierDate_]=(0,normalizeDates.x)(options?.in,laterDate,earlierDate);return 12*(laterDate_.getFullYear()-earlierDate_.getFullYear())+(laterDate_.getMonth()-earlierDate_.getMonth())}function endOfDay(date,options){const _date=(0,toDate.a)(date,options?.in);return _date.setHours(23,59,59,999),_date}function endOfMonth(date,options){const _date=(0,toDate.a)(date,options?.in),month=_date.getMonth();return _date.setFullYear(_date.getFullYear(),month+1,0),_date.setHours(23,59,59,999),_date}function isLastDayOfMonth(date,options){const _date=(0,toDate.a)(date,options?.in);return+endOfDay(_date,options)===+endOfMonth(_date,options)}function differenceInMonths(laterDate,earlierDate,options){const[laterDate_,workingLaterDate,earlierDate_]=(0,normalizeDates.x)(options?.in,laterDate,laterDate,earlierDate),sign=compareAsc(workingLaterDate,earlierDate_),difference=Math.abs(differenceInCalendarMonths(workingLaterDate,earlierDate_));if(difference<1)return 0;1===workingLaterDate.getMonth()&&workingLaterDate.getDate()>27&&workingLaterDate.setDate(30),workingLaterDate.setMonth(workingLaterDate.getMonth()-sign*difference);let isLastMonthNotFull=compareAsc(workingLaterDate,earlierDate_)===-sign;isLastDayOfMonth(laterDate_)&&1===difference&&1===compareAsc(laterDate_,earlierDate_)&&(isLastMonthNotFull=!1);const result=sign*(difference-+isLastMonthNotFull);return 0===result?0:result}function differenceInMilliseconds(laterDate,earlierDate){return+(0,toDate.a)(laterDate)-+(0,toDate.a)(earlierDate)}function differenceInSeconds(laterDate,earlierDate,options){const diff=differenceInMilliseconds(laterDate,earlierDate)/1e3;return function getRoundingMethod(method){return number=>{const result=(method?Math[method]:Math.trunc)(number);return 0===result?0:result}}(options?.roundingMethod)(diff)}function formatDistance(laterDate,earlierDate,options){const defaultOptions=(0,_lib_defaultOptions.q)(),locale=options?.locale??defaultOptions.locale??en_US.c,comparison=compareAsc(laterDate,earlierDate);if(isNaN(comparison))throw new RangeError("Invalid time value");const localizeOptions=Object.assign({},options,{addSuffix:options?.addSuffix,comparison}),[laterDate_,earlierDate_]=(0,normalizeDates.x)(options?.in,...comparison>0?[earlierDate,laterDate]:[laterDate,earlierDate]),seconds=differenceInSeconds(earlierDate_,laterDate_),offsetInSeconds=((0,getTimezoneOffsetInMilliseconds.G)(earlierDate_)-(0,getTimezoneOffsetInMilliseconds.G)(laterDate_))/1e3,minutes=Math.round((seconds-offsetInSeconds)/60);let months;if(minutes<2)return options?.includeSeconds?seconds<5?locale.formatDistance("lessThanXSeconds",5,localizeOptions):seconds<10?locale.formatDistance("lessThanXSeconds",10,localizeOptions):seconds<20?locale.formatDistance("lessThanXSeconds",20,localizeOptions):seconds<40?locale.formatDistance("halfAMinute",0,localizeOptions):seconds<60?locale.formatDistance("lessThanXMinutes",1,localizeOptions):locale.formatDistance("xMinutes",1,localizeOptions):0===minutes?locale.formatDistance("lessThanXMinutes",1,localizeOptions):locale.formatDistance("xMinutes",minutes,localizeOptions);if(minutes<45)return locale.formatDistance("xMinutes",minutes,localizeOptions);if(minutes<90)return locale.formatDistance("aboutXHours",1,localizeOptions);if(minutes<constants.F6){const hours=Math.round(minutes/60);return locale.formatDistance("aboutXHours",hours,localizeOptions)}if(minutes<2520)return locale.formatDistance("xDays",1,localizeOptions);if(minutes<constants.Nw){const days=Math.round(minutes/constants.F6);return locale.formatDistance("xDays",days,localizeOptions)}if(minutes<2*constants.Nw)return months=Math.round(minutes/constants.Nw),locale.formatDistance("aboutXMonths",months,localizeOptions);if(months=differenceInMonths(earlierDate_,laterDate_),months<12){const nearestMonth=Math.round(minutes/constants.Nw);return locale.formatDistance("xMonths",nearestMonth,localizeOptions)}{const monthsSinceStartOfYear=months%12,years=Math.trunc(months/12);return monthsSinceStartOfYear<3?locale.formatDistance("aboutXYears",years,localizeOptions):monthsSinceStartOfYear<9?locale.formatDistance("overXYears",years,localizeOptions):locale.formatDistance("almostXYears",years+1,localizeOptions)}}},"./node_modules/date-fns/locale/_lib/buildFormatLongFn.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function buildFormatLongFn(args){return(options={})=>{const width=options.width?String(options.width):args.defaultWidth;return args.formats[width]||args.formats[args.defaultWidth]}}__webpack_require__.d(__webpack_exports__,{k:()=>buildFormatLongFn})},"./node_modules/date-fns/locale/_lib/buildLocalizeFn.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function buildLocalizeFn(args){return(value,options)=>{let valuesArray;if("formatting"===(options?.context?String(options.context):"standalone")&&args.formattingValues){const defaultWidth=args.defaultFormattingWidth||args.defaultWidth,width=options?.width?String(options.width):defaultWidth;valuesArray=args.formattingValues[width]||args.formattingValues[defaultWidth]}else{const defaultWidth=args.defaultWidth,width=options?.width?String(options.width):args.defaultWidth;valuesArray=args.values[width]||args.values[defaultWidth]}return valuesArray[args.argumentCallback?args.argumentCallback(value):value]}}__webpack_require__.d(__webpack_exports__,{o:()=>buildLocalizeFn})},"./node_modules/date-fns/locale/_lib/buildMatchFn.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function buildMatchFn(args){return(string,options={})=>{const width=options.width,matchPattern=width&&args.matchPatterns[width]||args.matchPatterns[args.defaultMatchWidth],matchResult=string.match(matchPattern);if(!matchResult)return null;const matchedString=matchResult[0],parsePatterns=width&&args.parsePatterns[width]||args.parsePatterns[args.defaultParseWidth],key=Array.isArray(parsePatterns)?function findIndex(array,predicate){for(let key=0;key<array.length;key++)if(predicate(array[key]))return key;return}(parsePatterns,pattern=>pattern.test(matchedString)):function findKey(object,predicate){for(const key in object)if(Object.prototype.hasOwnProperty.call(object,key)&&predicate(object[key]))return key;return}(parsePatterns,pattern=>pattern.test(matchedString));let value;value=args.valueCallback?args.valueCallback(key):key,value=options.valueCallback?options.valueCallback(value):value;return{value,rest:string.slice(matchedString.length)}}}__webpack_require__.d(__webpack_exports__,{A:()=>buildMatchFn})},"./node_modules/date-fns/locale/_lib/buildMatchPatternFn.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function buildMatchPatternFn(args){return(string,options={})=>{const matchResult=string.match(args.matchPattern);if(!matchResult)return null;const matchedString=matchResult[0],parseResult=string.match(args.parsePattern);if(!parseResult)return null;let value=args.valueCallback?args.valueCallback(parseResult[0]):parseResult[0];value=options.valueCallback?options.valueCallback(value):value;return{value,rest:string.slice(matchedString.length)}}}__webpack_require__.d(__webpack_exports__,{K:()=>buildMatchPatternFn})},"./node_modules/date-fns/locale/en-US.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>enUS});const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};var buildFormatLongFn=__webpack_require__("./node_modules/date-fns/locale/_lib/buildFormatLongFn.js");const formatLong={date:(0,buildFormatLongFn.k)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,buildFormatLongFn.k)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,buildFormatLongFn.k)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};var buildLocalizeFn=__webpack_require__("./node_modules/date-fns/locale/_lib/buildLocalizeFn.js");const localize={ordinalNumber:(dirtyNumber,_options)=>{const number=Number(dirtyNumber),rem100=number%100;if(rem100>20||rem100<10)switch(rem100%10){case 1:return number+"st";case 2:return number+"nd";case 3:return number+"rd"}return number+"th"},era:(0,buildLocalizeFn.o)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,buildLocalizeFn.o)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:quarter=>quarter-1}),month:(0,buildLocalizeFn.o)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,buildLocalizeFn.o)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,buildLocalizeFn.o)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};var buildMatchFn=__webpack_require__("./node_modules/date-fns/locale/_lib/buildMatchFn.js");const enUS={code:"en-US",formatDistance:(token,count,options)=>{let result;const tokenValue=formatDistanceLocale[token];return result="string"==typeof tokenValue?tokenValue:1===count?tokenValue.one:tokenValue.other.replace("{{count}}",count.toString()),options?.addSuffix?options.comparison&&options.comparison>0?"in "+result:result+" ago":result},formatLong,formatRelative:(token,_date,_baseDate,_options)=>formatRelativeLocale[token],localize,match:{ordinalNumber:(0,__webpack_require__("./node_modules/date-fns/locale/_lib/buildMatchPatternFn.js").K)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:value=>parseInt(value,10)}),era:(0,buildMatchFn.A)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,buildMatchFn.A)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:index=>index+1}),month:(0,buildMatchFn.A)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,buildMatchFn.A)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,buildMatchFn.A)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},"./node_modules/date-fns/toDate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>toDate});var _constructFrom_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/constructFrom.js");function toDate(argument,context){return(0,_constructFrom_js__WEBPACK_IMPORTED_MODULE_0__.w)(context||argument,argument)}},"./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>BehaviorSubject});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),BehaviorSubject=function(_super){function BehaviorSubject(_value){var _this=_super.call(this)||this;return _this._value=_value,_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.C6)(BehaviorSubject,_super),Object.defineProperty(BehaviorSubject.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),BehaviorSubject.prototype._subscribe=function(subscriber){var subscription=_super.prototype._subscribe.call(this,subscriber);return!subscription.closed&&subscriber.next(this._value),subscription},BehaviorSubject.prototype.getValue=function(){var hasError=this.hasError,thrownError=this.thrownError,_value=this._value;if(hasError)throw thrownError;return this._throwIfClosed(),_value},BehaviorSubject.prototype.next=function(value){_super.prototype.next.call(this,this._value=value)},BehaviorSubject}(__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js").B)},"./node_modules/rxjs/dist/esm5/internal/Observable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>Observable});var _Subscriber__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subscriber.js"),_Subscription__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subscription.js"),_symbol_observable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/symbol/observable.js"),_util_pipe__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/pipe.js"),_config__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/config.js"),_util_isFunction__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js"),_util_errorContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/errorContext.js"),Observable=function(){function Observable(subscribe){subscribe&&(this._subscribe=subscribe)}return Observable.prototype.lift=function(operator){var observable=new Observable;return observable.source=this,observable.operator=operator,observable},Observable.prototype.subscribe=function(observerOrNext,error,complete){var _this=this,subscriber=function isSubscriber(value){return value&&value instanceof _Subscriber__WEBPACK_IMPORTED_MODULE_0__.vU||function isObserver(value){return value&&(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_5__.T)(value.next)&&(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_5__.T)(value.error)&&(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_5__.T)(value.complete)}(value)&&(0,_Subscription__WEBPACK_IMPORTED_MODULE_1__.Uv)(value)}(observerOrNext)?observerOrNext:new _Subscriber__WEBPACK_IMPORTED_MODULE_0__.Ms(observerOrNext,error,complete);return(0,_util_errorContext__WEBPACK_IMPORTED_MODULE_6__.Y)(function(){var _a=_this,operator=_a.operator,source=_a.source;subscriber.add(operator?operator.call(subscriber,source):source?_this._subscribe(subscriber):_this._trySubscribe(subscriber))}),subscriber},Observable.prototype._trySubscribe=function(sink){try{return this._subscribe(sink)}catch(err){sink.error(err)}},Observable.prototype.forEach=function(next,promiseCtor){var _this=this;return new(promiseCtor=getPromiseCtor(promiseCtor))(function(resolve,reject){var subscriber=new _Subscriber__WEBPACK_IMPORTED_MODULE_0__.Ms({next:function(value){try{next(value)}catch(err){reject(err),subscriber.unsubscribe()}},error:reject,complete:resolve});_this.subscribe(subscriber)})},Observable.prototype._subscribe=function(subscriber){var _a;return null===(_a=this.source)||void 0===_a?void 0:_a.subscribe(subscriber)},Observable.prototype[_symbol_observable__WEBPACK_IMPORTED_MODULE_2__.s]=function(){return this},Observable.prototype.pipe=function(){for(var operations=[],_i=0;_i<arguments.length;_i++)operations[_i]=arguments[_i];return(0,_util_pipe__WEBPACK_IMPORTED_MODULE_3__.m)(operations)(this)},Observable.prototype.toPromise=function(promiseCtor){var _this=this;return new(promiseCtor=getPromiseCtor(promiseCtor))(function(resolve,reject){var value;_this.subscribe(function(x){return value=x},function(err){return reject(err)},function(){return resolve(value)})})},Observable.create=function(subscribe){return new Observable(subscribe)},Observable}();function getPromiseCtor(promiseCtor){var _a;return null!==(_a=null!=promiseCtor?promiseCtor:_config__WEBPACK_IMPORTED_MODULE_4__.$.Promise)&&void 0!==_a?_a:Promise}},"./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>ReplaySubject});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_Subject__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),_scheduler_dateTimestampProvider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/dateTimestampProvider.js"),ReplaySubject=function(_super){function ReplaySubject(_bufferSize,_windowTime,_timestampProvider){void 0===_bufferSize&&(_bufferSize=1/0),void 0===_windowTime&&(_windowTime=1/0),void 0===_timestampProvider&&(_timestampProvider=_scheduler_dateTimestampProvider__WEBPACK_IMPORTED_MODULE_2__.U);var _this=_super.call(this)||this;return _this._bufferSize=_bufferSize,_this._windowTime=_windowTime,_this._timestampProvider=_timestampProvider,_this._buffer=[],_this._infiniteTimeWindow=!0,_this._infiniteTimeWindow=_windowTime===1/0,_this._bufferSize=Math.max(1,_bufferSize),_this._windowTime=Math.max(1,_windowTime),_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.C6)(ReplaySubject,_super),ReplaySubject.prototype.next=function(value){var _a=this,isStopped=_a.isStopped,_buffer=_a._buffer,_infiniteTimeWindow=_a._infiniteTimeWindow,_timestampProvider=_a._timestampProvider,_windowTime=_a._windowTime;isStopped||(_buffer.push(value),!_infiniteTimeWindow&&_buffer.push(_timestampProvider.now()+_windowTime)),this._trimBuffer(),_super.prototype.next.call(this,value)},ReplaySubject.prototype._subscribe=function(subscriber){this._throwIfClosed(),this._trimBuffer();for(var subscription=this._innerSubscribe(subscriber),_infiniteTimeWindow=this._infiniteTimeWindow,copy=this._buffer.slice(),i=0;i<copy.length&&!subscriber.closed;i+=_infiniteTimeWindow?1:2)subscriber.next(copy[i]);return this._checkFinalizedStatuses(subscriber),subscription},ReplaySubject.prototype._trimBuffer=function(){var _bufferSize=this._bufferSize,_timestampProvider=this._timestampProvider,_buffer=this._buffer,_infiniteTimeWindow=this._infiniteTimeWindow,adjustedBufferSize=(_infiniteTimeWindow?1:2)*_bufferSize;if(_bufferSize<1/0&&adjustedBufferSize<_buffer.length&&_buffer.splice(0,_buffer.length-adjustedBufferSize),!_infiniteTimeWindow){for(var now=_timestampProvider.now(),last=0,i=1;i<_buffer.length&&_buffer[i]<=now;i+=2)last=i;last&&_buffer.splice(0,last+1)}},ReplaySubject}(_Subject__WEBPACK_IMPORTED_MODULE_1__.B)},"./node_modules/rxjs/dist/esm5/internal/Subject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>Subject});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),Subscription=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subscription.js"),ObjectUnsubscribedError=(0,__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js").L)(function(_super){return function ObjectUnsubscribedErrorImpl(){_super(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),arrRemove=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/arrRemove.js"),errorContext=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/errorContext.js"),Subject=function(_super){function Subject(){var _this=_super.call(this)||this;return _this.closed=!1,_this.currentObservers=null,_this.observers=[],_this.isStopped=!1,_this.hasError=!1,_this.thrownError=null,_this}return(0,tslib_es6.C6)(Subject,_super),Subject.prototype.lift=function(operator){var subject=new AnonymousSubject(this,this);return subject.operator=operator,subject},Subject.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},Subject.prototype.next=function(value){var _this=this;(0,errorContext.Y)(function(){var e_1,_a;if(_this._throwIfClosed(),!_this.isStopped){_this.currentObservers||(_this.currentObservers=Array.from(_this.observers));try{for(var _b=(0,tslib_es6.Ju)(_this.currentObservers),_c=_b.next();!_c.done;_c=_b.next()){_c.value.next(value)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}})},Subject.prototype.error=function(err){var _this=this;(0,errorContext.Y)(function(){if(_this._throwIfClosed(),!_this.isStopped){_this.hasError=_this.isStopped=!0,_this.thrownError=err;for(var observers=_this.observers;observers.length;)observers.shift().error(err)}})},Subject.prototype.complete=function(){var _this=this;(0,errorContext.Y)(function(){if(_this._throwIfClosed(),!_this.isStopped){_this.isStopped=!0;for(var observers=_this.observers;observers.length;)observers.shift().complete()}})},Subject.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(Subject.prototype,"observed",{get:function(){var _a;return(null===(_a=this.observers)||void 0===_a?void 0:_a.length)>0},enumerable:!1,configurable:!0}),Subject.prototype._trySubscribe=function(subscriber){return this._throwIfClosed(),_super.prototype._trySubscribe.call(this,subscriber)},Subject.prototype._subscribe=function(subscriber){return this._throwIfClosed(),this._checkFinalizedStatuses(subscriber),this._innerSubscribe(subscriber)},Subject.prototype._innerSubscribe=function(subscriber){var _this=this,hasError=this.hasError,isStopped=this.isStopped,observers=this.observers;return hasError||isStopped?Subscription.Kn:(this.currentObservers=null,observers.push(subscriber),new Subscription.yU(function(){_this.currentObservers=null,(0,arrRemove.o)(observers,subscriber)}))},Subject.prototype._checkFinalizedStatuses=function(subscriber){var hasError=this.hasError,thrownError=this.thrownError,isStopped=this.isStopped;hasError?subscriber.error(thrownError):isStopped&&subscriber.complete()},Subject.prototype.asObservable=function(){var observable=new Observable.c;return observable.source=this,observable},Subject.create=function(destination,source){return new AnonymousSubject(destination,source)},Subject}(Observable.c),AnonymousSubject=function(_super){function AnonymousSubject(destination,source){var _this=_super.call(this)||this;return _this.destination=destination,_this.source=source,_this}return(0,tslib_es6.C6)(AnonymousSubject,_super),AnonymousSubject.prototype.next=function(value){var _a,_b;null===(_b=null===(_a=this.destination)||void 0===_a?void 0:_a.next)||void 0===_b||_b.call(_a,value)},AnonymousSubject.prototype.error=function(err){var _a,_b;null===(_b=null===(_a=this.destination)||void 0===_a?void 0:_a.error)||void 0===_b||_b.call(_a,err)},AnonymousSubject.prototype.complete=function(){var _a,_b;null===(_b=null===(_a=this.destination)||void 0===_a?void 0:_a.complete)||void 0===_b||_b.call(_a)},AnonymousSubject.prototype._subscribe=function(subscriber){var _a,_b;return null!==(_b=null===(_a=this.source)||void 0===_a?void 0:_a.subscribe(subscriber))&&void 0!==_b?_b:Subscription.Kn},AnonymousSubject}(Subject)},"./node_modules/rxjs/dist/esm5/internal/Subscriber.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ms:()=>SafeSubscriber,vU:()=>Subscriber});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),isFunction=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js"),Subscription=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subscription.js"),config=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/config.js"),reportUnhandledError=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js"),noop=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/noop.js"),COMPLETE_NOTIFICATION=createNotification("C",void 0,void 0);function createNotification(kind,value,error){return{kind,value,error}}var timeoutProvider=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js"),errorContext=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/errorContext.js"),Subscriber=function(_super){function Subscriber(destination){var _this=_super.call(this)||this;return _this.isStopped=!1,destination?(_this.destination=destination,(0,Subscription.Uv)(destination)&&destination.add(_this)):_this.destination=EMPTY_OBSERVER,_this}return(0,tslib_es6.C6)(Subscriber,_super),Subscriber.create=function(next,error,complete){return new SafeSubscriber(next,error,complete)},Subscriber.prototype.next=function(value){this.isStopped?handleStoppedNotification(function nextNotification(value){return createNotification("N",value,void 0)}(value),this):this._next(value)},Subscriber.prototype.error=function(err){this.isStopped?handleStoppedNotification(function errorNotification(error){return createNotification("E",void 0,error)}(err),this):(this.isStopped=!0,this._error(err))},Subscriber.prototype.complete=function(){this.isStopped?handleStoppedNotification(COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,_super.prototype.unsubscribe.call(this),this.destination=null)},Subscriber.prototype._next=function(value){this.destination.next(value)},Subscriber.prototype._error=function(err){try{this.destination.error(err)}finally{this.unsubscribe()}},Subscriber.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},Subscriber}(Subscription.yU),_bind=Function.prototype.bind;function bind(fn,thisArg){return _bind.call(fn,thisArg)}var ConsumerObserver=function(){function ConsumerObserver(partialObserver){this.partialObserver=partialObserver}return ConsumerObserver.prototype.next=function(value){var partialObserver=this.partialObserver;if(partialObserver.next)try{partialObserver.next(value)}catch(error){handleUnhandledError(error)}},ConsumerObserver.prototype.error=function(err){var partialObserver=this.partialObserver;if(partialObserver.error)try{partialObserver.error(err)}catch(error){handleUnhandledError(error)}else handleUnhandledError(err)},ConsumerObserver.prototype.complete=function(){var partialObserver=this.partialObserver;if(partialObserver.complete)try{partialObserver.complete()}catch(error){handleUnhandledError(error)}},ConsumerObserver}(),SafeSubscriber=function(_super){function SafeSubscriber(observerOrNext,error,complete){var partialObserver,context_1,_this=_super.call(this)||this;(0,isFunction.T)(observerOrNext)||!observerOrNext?partialObserver={next:null!=observerOrNext?observerOrNext:void 0,error:null!=error?error:void 0,complete:null!=complete?complete:void 0}:_this&&config.$.useDeprecatedNextContext?((context_1=Object.create(observerOrNext)).unsubscribe=function(){return _this.unsubscribe()},partialObserver={next:observerOrNext.next&&bind(observerOrNext.next,context_1),error:observerOrNext.error&&bind(observerOrNext.error,context_1),complete:observerOrNext.complete&&bind(observerOrNext.complete,context_1)}):partialObserver=observerOrNext;return _this.destination=new ConsumerObserver(partialObserver),_this}return(0,tslib_es6.C6)(SafeSubscriber,_super),SafeSubscriber}(Subscriber);function handleUnhandledError(error){config.$.useDeprecatedSynchronousErrorHandling?(0,errorContext.l)(error):(0,reportUnhandledError.m)(error)}function handleStoppedNotification(notification,subscriber){var onStoppedNotification=config.$.onStoppedNotification;onStoppedNotification&&timeoutProvider.f.setTimeout(function(){return onStoppedNotification(notification,subscriber)})}var EMPTY_OBSERVER={closed:!0,next:noop.l,error:function defaultErrorHandler(err){throw err},complete:noop.l}},"./node_modules/rxjs/dist/esm5/internal/Subscription.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Kn:()=>EMPTY_SUBSCRIPTION,yU:()=>Subscription,Uv:()=>isSubscription});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),isFunction=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js"),UnsubscriptionError=(0,__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js").L)(function(_super){return function UnsubscriptionErrorImpl(errors){_super(this),this.message=errors?errors.length+" errors occurred during unsubscription:\n"+errors.map(function(err,i){return i+1+") "+err.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=errors}}),arrRemove=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/arrRemove.js"),Subscription=function(){function Subscription(initialTeardown){this.initialTeardown=initialTeardown,this.closed=!1,this._parentage=null,this._finalizers=null}var empty;return Subscription.prototype.unsubscribe=function(){var e_1,_a,e_2,_b,errors;if(!this.closed){this.closed=!0;var _parentage=this._parentage;if(_parentage)if(this._parentage=null,Array.isArray(_parentage))try{for(var _parentage_1=(0,tslib_es6.Ju)(_parentage),_parentage_1_1=_parentage_1.next();!_parentage_1_1.done;_parentage_1_1=_parentage_1.next()){_parentage_1_1.value.remove(this)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_parentage_1_1&&!_parentage_1_1.done&&(_a=_parentage_1.return)&&_a.call(_parentage_1)}finally{if(e_1)throw e_1.error}}else _parentage.remove(this);var initialFinalizer=this.initialTeardown;if((0,isFunction.T)(initialFinalizer))try{initialFinalizer()}catch(e){errors=e instanceof UnsubscriptionError?e.errors:[e]}var _finalizers=this._finalizers;if(_finalizers){this._finalizers=null;try{for(var _finalizers_1=(0,tslib_es6.Ju)(_finalizers),_finalizers_1_1=_finalizers_1.next();!_finalizers_1_1.done;_finalizers_1_1=_finalizers_1.next()){var finalizer=_finalizers_1_1.value;try{execFinalizer(finalizer)}catch(err){errors=null!=errors?errors:[],err instanceof UnsubscriptionError?errors=(0,tslib_es6.fX)((0,tslib_es6.fX)([],(0,tslib_es6.zs)(errors)),(0,tslib_es6.zs)(err.errors)):errors.push(err)}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_finalizers_1_1&&!_finalizers_1_1.done&&(_b=_finalizers_1.return)&&_b.call(_finalizers_1)}finally{if(e_2)throw e_2.error}}}if(errors)throw new UnsubscriptionError(errors)}},Subscription.prototype.add=function(teardown){var _a;if(teardown&&teardown!==this)if(this.closed)execFinalizer(teardown);else{if(teardown instanceof Subscription){if(teardown.closed||teardown._hasParent(this))return;teardown._addParent(this)}(this._finalizers=null!==(_a=this._finalizers)&&void 0!==_a?_a:[]).push(teardown)}},Subscription.prototype._hasParent=function(parent){var _parentage=this._parentage;return _parentage===parent||Array.isArray(_parentage)&&_parentage.includes(parent)},Subscription.prototype._addParent=function(parent){var _parentage=this._parentage;this._parentage=Array.isArray(_parentage)?(_parentage.push(parent),_parentage):_parentage?[_parentage,parent]:parent},Subscription.prototype._removeParent=function(parent){var _parentage=this._parentage;_parentage===parent?this._parentage=null:Array.isArray(_parentage)&&(0,arrRemove.o)(_parentage,parent)},Subscription.prototype.remove=function(teardown){var _finalizers=this._finalizers;_finalizers&&(0,arrRemove.o)(_finalizers,teardown),teardown instanceof Subscription&&teardown._removeParent(this)},Subscription.EMPTY=((empty=new Subscription).closed=!0,empty),Subscription}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(value){return value instanceof Subscription||value&&"closed"in value&&(0,isFunction.T)(value.remove)&&(0,isFunction.T)(value.add)&&(0,isFunction.T)(value.unsubscribe)}function execFinalizer(finalizer){(0,isFunction.T)(finalizer)?finalizer():finalizer.unsubscribe()}},"./node_modules/rxjs/dist/esm5/internal/config.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>config});var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},"./node_modules/rxjs/dist/esm5/internal/observable/concat.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>concat});var mergeAll=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mergeAll.js");var util_args=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/args.js"),from=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/from.js");function concat(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return function concatAll(){return(0,mergeAll.U)(1)}()((0,from.H)(args,(0,util_args.lI)(args)))}},"./node_modules/rxjs/dist/esm5/internal/observable/defer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>defer});var _Observable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_innerFrom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js");function defer(observableFactory){return new _Observable__WEBPACK_IMPORTED_MODULE_0__.c(function(subscriber){(0,_innerFrom__WEBPACK_IMPORTED_MODULE_1__.Tg)(observableFactory()).subscribe(subscriber)})}},"./node_modules/rxjs/dist/esm5/internal/observable/empty.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>EMPTY});var EMPTY=new(__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js").c)(function(subscriber){return subscriber.complete()})},"./node_modules/rxjs/dist/esm5/internal/observable/forkJoin.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>forkJoin});var _Observable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_util_argsArgArrayOrObject__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/argsArgArrayOrObject.js"),_innerFrom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_util_args__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/args.js"),_operators_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_util_mapOneOrManyArgs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/mapOneOrManyArgs.js"),_util_createObject__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/createObject.js");function forkJoin(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var resultSelector=(0,_util_args__WEBPACK_IMPORTED_MODULE_3__.ms)(args),_a=(0,_util_argsArgArrayOrObject__WEBPACK_IMPORTED_MODULE_1__.D)(args),sources=_a.args,keys=_a.keys,result=new _Observable__WEBPACK_IMPORTED_MODULE_0__.c(function(subscriber){var length=sources.length;if(length)for(var values=new Array(length),remainingCompletions=length,remainingEmissions=length,_loop_1=function(sourceIndex){var hasValue=!1;(0,_innerFrom__WEBPACK_IMPORTED_MODULE_2__.Tg)(sources[sourceIndex]).subscribe((0,_operators_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_4__._)(subscriber,function(value){hasValue||(hasValue=!0,remainingEmissions--),values[sourceIndex]=value},function(){return remainingCompletions--},void 0,function(){remainingCompletions&&hasValue||(remainingEmissions||subscriber.next(keys?(0,_util_createObject__WEBPACK_IMPORTED_MODULE_6__.e)(keys,values):values),subscriber.complete())}))},sourceIndex=0;sourceIndex<length;sourceIndex++)_loop_1(sourceIndex);else subscriber.complete()});return resultSelector?result.pipe((0,_util_mapOneOrManyArgs__WEBPACK_IMPORTED_MODULE_5__.I)(resultSelector)):result}},"./node_modules/rxjs/dist/esm5/internal/observable/from.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>from});var innerFrom=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),observeOn=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/observeOn.js"),lift=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js");function subscribeOn(scheduler,delay){return void 0===delay&&(delay=0),(0,lift.N)(function(source,subscriber){subscriber.add(scheduler.schedule(function(){return source.subscribe(subscriber)},delay))})}var Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js");var symbol_iterator=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/symbol/iterator.js"),isFunction=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js"),executeSchedule=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/executeSchedule.js");function scheduleAsyncIterable(input,scheduler){if(!input)throw new Error("Iterable cannot be null");return new Observable.c(function(subscriber){(0,executeSchedule.N)(subscriber,scheduler,function(){var iterator=input[Symbol.asyncIterator]();(0,executeSchedule.N)(subscriber,scheduler,function(){iterator.next().then(function(result){result.done?subscriber.complete():subscriber.next(result.value)})},0,!0)})})}var isInteropObservable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isInteropObservable.js"),isPromise=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isPromise.js"),isArrayLike=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js"),isIterable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isIterable.js"),isAsyncIterable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isAsyncIterable.js"),throwUnobservableError=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/throwUnobservableError.js"),isReadableStreamLike=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isReadableStreamLike.js");function scheduled(input,scheduler){if(null!=input){if((0,isInteropObservable.l)(input))return function scheduleObservable(input,scheduler){return(0,innerFrom.Tg)(input).pipe(subscribeOn(scheduler),(0,observeOn.Q)(scheduler))}(input,scheduler);if((0,isArrayLike.X)(input))return function scheduleArray(input,scheduler){return new Observable.c(function(subscriber){var i=0;return scheduler.schedule(function(){i===input.length?subscriber.complete():(subscriber.next(input[i++]),subscriber.closed||this.schedule())})})}(input,scheduler);if((0,isPromise.y)(input))return function schedulePromise(input,scheduler){return(0,innerFrom.Tg)(input).pipe(subscribeOn(scheduler),(0,observeOn.Q)(scheduler))}(input,scheduler);if((0,isAsyncIterable.T)(input))return scheduleAsyncIterable(input,scheduler);if((0,isIterable.x)(input))return function scheduleIterable(input,scheduler){return new Observable.c(function(subscriber){var iterator;return(0,executeSchedule.N)(subscriber,scheduler,function(){iterator=input[symbol_iterator.l](),(0,executeSchedule.N)(subscriber,scheduler,function(){var _a,value,done;try{value=(_a=iterator.next()).value,done=_a.done}catch(err){return void subscriber.error(err)}done?subscriber.complete():subscriber.next(value)},0,!0)}),function(){return(0,isFunction.T)(null==iterator?void 0:iterator.return)&&iterator.return()}})}(input,scheduler);if((0,isReadableStreamLike.U)(input))return function scheduleReadableStreamLike(input,scheduler){return scheduleAsyncIterable((0,isReadableStreamLike.C)(input),scheduler)}(input,scheduler)}throw(0,throwUnobservableError.L)(input)}function from(input,scheduler){return scheduler?scheduled(input,scheduler):(0,innerFrom.Tg)(input)}},"./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>fromEvent});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_Observable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_operators_mergeMap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js"),_util_isArrayLike__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js"),_util_isFunction__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js"),_util_mapOneOrManyArgs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/mapOneOrManyArgs.js"),nodeEventEmitterMethods=["addListener","removeListener"],eventTargetMethods=["addEventListener","removeEventListener"],jqueryMethods=["on","off"];function fromEvent(target,eventName,options,resultSelector){if((0,_util_isFunction__WEBPACK_IMPORTED_MODULE_5__.T)(options)&&(resultSelector=options,options=void 0),resultSelector)return fromEvent(target,eventName,options).pipe((0,_util_mapOneOrManyArgs__WEBPACK_IMPORTED_MODULE_6__.I)(resultSelector));var _a=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.zs)(function isEventTarget(target){return(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_5__.T)(target.addEventListener)&&(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_5__.T)(target.removeEventListener)}(target)?eventTargetMethods.map(function(methodName){return function(handler){return target[methodName](eventName,handler,options)}}):function isNodeStyleEventEmitter(target){return(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_5__.T)(target.addListener)&&(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_5__.T)(target.removeListener)}(target)?nodeEventEmitterMethods.map(toCommonHandlerRegistry(target,eventName)):function isJQueryStyleEventEmitter(target){return(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_5__.T)(target.on)&&(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_5__.T)(target.off)}(target)?jqueryMethods.map(toCommonHandlerRegistry(target,eventName)):[],2),add=_a[0],remove=_a[1];if(!add&&(0,_util_isArrayLike__WEBPACK_IMPORTED_MODULE_4__.X)(target))return(0,_operators_mergeMap__WEBPACK_IMPORTED_MODULE_3__.Z)(function(subTarget){return fromEvent(subTarget,eventName,options)})((0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_1__.Tg)(target));if(!add)throw new TypeError("Invalid event target");return new _Observable__WEBPACK_IMPORTED_MODULE_2__.c(function(subscriber){var handler=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return subscriber.next(1<args.length?args:args[0])};return add(handler),function(){return remove(handler)}})}function toCommonHandlerRegistry(target,eventName){return function(methodName){return function(handler){return target[methodName](eventName,handler)}}}},"./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Tg:()=>innerFrom});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_util_isArrayLike__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js"),_util_isPromise__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isPromise.js"),_Observable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_util_isInteropObservable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isInteropObservable.js"),_util_isAsyncIterable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isAsyncIterable.js"),_util_throwUnobservableError__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/throwUnobservableError.js"),_util_isIterable__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isIterable.js"),_util_isReadableStreamLike__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isReadableStreamLike.js"),_util_isFunction__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js"),_util_reportUnhandledError__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js"),_symbol_observable__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/symbol/observable.js");function innerFrom(input){if(input instanceof _Observable__WEBPACK_IMPORTED_MODULE_3__.c)return input;if(null!=input){if((0,_util_isInteropObservable__WEBPACK_IMPORTED_MODULE_4__.l)(input))return function fromInteropObservable(obj){return new _Observable__WEBPACK_IMPORTED_MODULE_3__.c(function(subscriber){var obs=obj[_symbol_observable__WEBPACK_IMPORTED_MODULE_11__.s]();if((0,_util_isFunction__WEBPACK_IMPORTED_MODULE_9__.T)(obs.subscribe))return obs.subscribe(subscriber);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(input);if((0,_util_isArrayLike__WEBPACK_IMPORTED_MODULE_1__.X)(input))return function fromArrayLike(array){return new _Observable__WEBPACK_IMPORTED_MODULE_3__.c(function(subscriber){for(var i=0;i<array.length&&!subscriber.closed;i++)subscriber.next(array[i]);subscriber.complete()})}(input);if((0,_util_isPromise__WEBPACK_IMPORTED_MODULE_2__.y)(input))return function fromPromise(promise){return new _Observable__WEBPACK_IMPORTED_MODULE_3__.c(function(subscriber){promise.then(function(value){subscriber.closed||(subscriber.next(value),subscriber.complete())},function(err){return subscriber.error(err)}).then(null,_util_reportUnhandledError__WEBPACK_IMPORTED_MODULE_10__.m)})}(input);if((0,_util_isAsyncIterable__WEBPACK_IMPORTED_MODULE_5__.T)(input))return fromAsyncIterable(input);if((0,_util_isIterable__WEBPACK_IMPORTED_MODULE_7__.x)(input))return function fromIterable(iterable){return new _Observable__WEBPACK_IMPORTED_MODULE_3__.c(function(subscriber){var e_1,_a;try{for(var iterable_1=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Ju)(iterable),iterable_1_1=iterable_1.next();!iterable_1_1.done;iterable_1_1=iterable_1.next()){var value=iterable_1_1.value;if(subscriber.next(value),subscriber.closed)return}}catch(e_1_1){e_1={error:e_1_1}}finally{try{iterable_1_1&&!iterable_1_1.done&&(_a=iterable_1.return)&&_a.call(iterable_1)}finally{if(e_1)throw e_1.error}}subscriber.complete()})}(input);if((0,_util_isReadableStreamLike__WEBPACK_IMPORTED_MODULE_8__.U)(input))return function fromReadableStreamLike(readableStream){return fromAsyncIterable((0,_util_isReadableStreamLike__WEBPACK_IMPORTED_MODULE_8__.C)(readableStream))}(input)}throw(0,_util_throwUnobservableError__WEBPACK_IMPORTED_MODULE_6__.L)(input)}function fromAsyncIterable(asyncIterable){return new _Observable__WEBPACK_IMPORTED_MODULE_3__.c(function(subscriber){(function process(asyncIterable,subscriber){var asyncIterable_1,asyncIterable_1_1,e_2,_a;return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.sH)(this,void 0,void 0,function(){var value,e_2_1;return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.YH)(this,function(_b){switch(_b.label){case 0:_b.trys.push([0,5,6,11]),asyncIterable_1=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.xN)(asyncIterable),_b.label=1;case 1:return[4,asyncIterable_1.next()];case 2:if((asyncIterable_1_1=_b.sent()).done)return[3,4];if(value=asyncIterable_1_1.value,subscriber.next(value),subscriber.closed)return[2];_b.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return e_2_1=_b.sent(),e_2={error:e_2_1},[3,11];case 6:return _b.trys.push([6,,9,10]),asyncIterable_1_1&&!asyncIterable_1_1.done&&(_a=asyncIterable_1.return)?[4,_a.call(asyncIterable_1)]:[3,8];case 7:_b.sent(),_b.label=8;case 8:return[3,10];case 9:if(e_2)throw e_2.error;return[7];case 10:return[7];case 11:return subscriber.complete(),[2]}})})})(asyncIterable,subscriber).catch(function(err){return subscriber.error(err)})})}},"./node_modules/rxjs/dist/esm5/internal/observable/of.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{of:()=>of});var _util_args__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/args.js"),_from__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/from.js");function of(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var scheduler=(0,_util_args__WEBPACK_IMPORTED_MODULE_0__.lI)(args);return(0,_from__WEBPACK_IMPORTED_MODULE_1__.H)(args,scheduler)}},"./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>OperatorSubscriber,_:()=>createOperatorSubscriber});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");function createOperatorSubscriber(destination,onNext,onComplete,onError,onFinalize){return new OperatorSubscriber(destination,onNext,onComplete,onError,onFinalize)}var OperatorSubscriber=function(_super){function OperatorSubscriber(destination,onNext,onComplete,onError,onFinalize,shouldUnsubscribe){var _this=_super.call(this,destination)||this;return _this.onFinalize=onFinalize,_this.shouldUnsubscribe=shouldUnsubscribe,_this._next=onNext?function(value){try{onNext(value)}catch(err){destination.error(err)}}:_super.prototype._next,_this._error=onError?function(err){try{onError(err)}catch(err){destination.error(err)}finally{this.unsubscribe()}}:_super.prototype._error,_this._complete=onComplete?function(){try{onComplete()}catch(err){destination.error(err)}finally{this.unsubscribe()}}:_super.prototype._complete,_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.C6)(OperatorSubscriber,_super),OperatorSubscriber.prototype.unsubscribe=function(){var _a;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var closed_1=this.closed;_super.prototype.unsubscribe.call(this),!closed_1&&(null===(_a=this.onFinalize)||void 0===_a||_a.call(this))}},OperatorSubscriber}(__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subscriber.js").vU)},"./node_modules/rxjs/dist/esm5/internal/operators/concatMap.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>concatMap});var _mergeMap__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js"),_util_isFunction__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js");function concatMap(project,resultSelector){return(0,_util_isFunction__WEBPACK_IMPORTED_MODULE_1__.T)(resultSelector)?(0,_mergeMap__WEBPACK_IMPORTED_MODULE_0__.Z)(project,resultSelector,1):(0,_mergeMap__WEBPACK_IMPORTED_MODULE_0__.Z)(project,1)}},"./node_modules/rxjs/dist/esm5/internal/operators/filter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>filter});var _util_lift__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js");function filter(predicate,thisArg){return(0,_util_lift__WEBPACK_IMPORTED_MODULE_0__.N)(function(source,subscriber){var index=0;source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__._)(subscriber,function(value){return predicate.call(thisArg,value,index++)&&subscriber.next(value)}))})}},"./node_modules/rxjs/dist/esm5/internal/operators/map.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>map});var _util_lift__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js");function map(project,thisArg){return(0,_util_lift__WEBPACK_IMPORTED_MODULE_0__.N)(function(source,subscriber){var index=0;source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__._)(subscriber,function(value){subscriber.next(project.call(thisArg,value,index++))}))})}},"./node_modules/rxjs/dist/esm5/internal/operators/mergeAll.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>mergeAll});var _mergeMap__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js"),_util_identity__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/identity.js");function mergeAll(concurrent){return void 0===concurrent&&(concurrent=1/0),(0,_mergeMap__WEBPACK_IMPORTED_MODULE_0__.Z)(_util_identity__WEBPACK_IMPORTED_MODULE_1__.D,concurrent)}},"./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>mergeMap});var map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),innerFrom=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),lift=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),executeSchedule=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/executeSchedule.js"),OperatorSubscriber=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js");var isFunction=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js");function mergeMap(project,resultSelector,concurrent){return void 0===concurrent&&(concurrent=1/0),(0,isFunction.T)(resultSelector)?mergeMap(function(a,i){return(0,map.T)(function(b,ii){return resultSelector(a,b,i,ii)})((0,innerFrom.Tg)(project(a,i)))},concurrent):("number"==typeof resultSelector&&(concurrent=resultSelector),(0,lift.N)(function(source,subscriber){return function mergeInternals(source,subscriber,project,concurrent,onBeforeNext,expand,innerSubScheduler,additionalFinalizer){var buffer=[],active=0,index=0,isComplete=!1,checkComplete=function(){!isComplete||buffer.length||active||subscriber.complete()},outerNext=function(value){return active<concurrent?doInnerSub(value):buffer.push(value)},doInnerSub=function(value){expand&&subscriber.next(value),active++;var innerComplete=!1;(0,innerFrom.Tg)(project(value,index++)).subscribe((0,OperatorSubscriber._)(subscriber,function(innerValue){null==onBeforeNext||onBeforeNext(innerValue),expand?outerNext(innerValue):subscriber.next(innerValue)},function(){innerComplete=!0},void 0,function(){if(innerComplete)try{active--;for(var _loop_1=function(){var bufferedValue=buffer.shift();innerSubScheduler?(0,executeSchedule.N)(subscriber,innerSubScheduler,function(){return doInnerSub(bufferedValue)}):doInnerSub(bufferedValue)};buffer.length&&active<concurrent;)_loop_1();checkComplete()}catch(err){subscriber.error(err)}}))};return source.subscribe((0,OperatorSubscriber._)(subscriber,outerNext,function(){isComplete=!0,checkComplete()})),function(){null==additionalFinalizer||additionalFinalizer()}}(source,subscriber,project,concurrent)}))}},"./node_modules/rxjs/dist/esm5/internal/operators/observeOn.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>observeOn});var _util_executeSchedule__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/executeSchedule.js"),_util_lift__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js");function observeOn(scheduler,delay){return void 0===delay&&(delay=0),(0,_util_lift__WEBPACK_IMPORTED_MODULE_1__.N)(function(source,subscriber){source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__._)(subscriber,function(value){return(0,_util_executeSchedule__WEBPACK_IMPORTED_MODULE_0__.N)(subscriber,scheduler,function(){return subscriber.next(value)},delay)},function(){return(0,_util_executeSchedule__WEBPACK_IMPORTED_MODULE_0__.N)(subscriber,scheduler,function(){return subscriber.complete()},delay)},function(err){return(0,_util_executeSchedule__WEBPACK_IMPORTED_MODULE_0__.N)(subscriber,scheduler,function(){return subscriber.error(err)},delay)}))})}},"./node_modules/rxjs/dist/esm5/internal/operators/share.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>share});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_Subject__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),_Subscriber__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subscriber.js"),_util_lift__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js");function share(options){void 0===options&&(options={});var _a=options.connector,connector=void 0===_a?function(){return new _Subject__WEBPACK_IMPORTED_MODULE_2__.B}:_a,_b=options.resetOnError,resetOnError=void 0===_b||_b,_c=options.resetOnComplete,resetOnComplete=void 0===_c||_c,_d=options.resetOnRefCountZero,resetOnRefCountZero=void 0===_d||_d;return function(wrapperSource){var connection,resetConnection,subject,refCount=0,hasCompleted=!1,hasErrored=!1,cancelReset=function(){null==resetConnection||resetConnection.unsubscribe(),resetConnection=void 0},reset=function(){cancelReset(),connection=subject=void 0,hasCompleted=hasErrored=!1},resetAndUnsubscribe=function(){var conn=connection;reset(),null==conn||conn.unsubscribe()};return(0,_util_lift__WEBPACK_IMPORTED_MODULE_4__.N)(function(source,subscriber){refCount++,hasErrored||hasCompleted||cancelReset();var dest=subject=null!=subject?subject:connector();subscriber.add(function(){0!==--refCount||hasErrored||hasCompleted||(resetConnection=handleReset(resetAndUnsubscribe,resetOnRefCountZero))}),dest.subscribe(subscriber),!connection&&refCount>0&&(connection=new _Subscriber__WEBPACK_IMPORTED_MODULE_3__.Ms({next:function(value){return dest.next(value)},error:function(err){hasErrored=!0,cancelReset(),resetConnection=handleReset(reset,resetOnError,err),dest.error(err)},complete:function(){hasCompleted=!0,cancelReset(),resetConnection=handleReset(reset,resetOnComplete),dest.complete()}}),(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_1__.Tg)(source).subscribe(connection))})(wrapperSource)}}function handleReset(reset,on){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];if(!0!==on){if(!1!==on){var onSubscriber=new _Subscriber__WEBPACK_IMPORTED_MODULE_3__.Ms({next:function(){onSubscriber.unsubscribe(),reset()}});return(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_1__.Tg)(on.apply(void 0,(0,tslib__WEBPACK_IMPORTED_MODULE_0__.fX)([],(0,tslib__WEBPACK_IMPORTED_MODULE_0__.zs)(args)))).subscribe(onSubscriber)}}else reset()}},"./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>shareReplay});var _ReplaySubject__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js"),_share__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/share.js");function shareReplay(configOrBufferSize,windowTime,scheduler){var _a,_b,_c,bufferSize,refCount=!1;return configOrBufferSize&&"object"==typeof configOrBufferSize?(_a=configOrBufferSize.bufferSize,bufferSize=void 0===_a?1/0:_a,_b=configOrBufferSize.windowTime,windowTime=void 0===_b?1/0:_b,refCount=void 0!==(_c=configOrBufferSize.refCount)&&_c,scheduler=configOrBufferSize.scheduler):bufferSize=null!=configOrBufferSize?configOrBufferSize:1/0,(0,_share__WEBPACK_IMPORTED_MODULE_1__.u)({connector:function(){return new _ReplaySubject__WEBPACK_IMPORTED_MODULE_0__.m(bufferSize,windowTime,scheduler)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:refCount})}},"./node_modules/rxjs/dist/esm5/internal/operators/skip.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>skip});var _filter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js");function skip(count){return(0,_filter__WEBPACK_IMPORTED_MODULE_0__.p)(function(_,index){return count<=index})}},"./node_modules/rxjs/dist/esm5/internal/operators/startWith.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>startWith});var _observable_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/concat.js"),_util_args__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/args.js"),_util_lift__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js");function startWith(){for(var values=[],_i=0;_i<arguments.length;_i++)values[_i]=arguments[_i];var scheduler=(0,_util_args__WEBPACK_IMPORTED_MODULE_1__.lI)(values);return(0,_util_lift__WEBPACK_IMPORTED_MODULE_2__.N)(function(source,subscriber){(scheduler?(0,_observable_concat__WEBPACK_IMPORTED_MODULE_0__.x)(values,source,scheduler):(0,_observable_concat__WEBPACK_IMPORTED_MODULE_0__.x)(values,source)).subscribe(subscriber)})}},"./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>switchMap});var _observable_innerFrom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_util_lift__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js");function switchMap(project,resultSelector){return(0,_util_lift__WEBPACK_IMPORTED_MODULE_1__.N)(function(source,subscriber){var innerSubscriber=null,index=0,isComplete=!1,checkComplete=function(){return isComplete&&!innerSubscriber&&subscriber.complete()};source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__._)(subscriber,function(value){null==innerSubscriber||innerSubscriber.unsubscribe();var innerIndex=0,outerIndex=index++;(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_0__.Tg)(project(value,outerIndex)).subscribe(innerSubscriber=(0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__._)(subscriber,function(innerValue){return subscriber.next(resultSelector?resultSelector(value,innerValue,outerIndex,innerIndex++):innerValue)},function(){innerSubscriber=null,checkComplete()}))},function(){isComplete=!0,checkComplete()}))})}},"./node_modules/rxjs/dist/esm5/internal/operators/take.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>take});var _observable_empty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/empty.js"),_util_lift__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js");function take(count){return count<=0?function(){return _observable_empty__WEBPACK_IMPORTED_MODULE_0__.w}:(0,_util_lift__WEBPACK_IMPORTED_MODULE_1__.N)(function(source,subscriber){var seen=0;source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__._)(subscriber,function(value){++seen<=count&&(subscriber.next(value),count<=seen&&subscriber.complete())}))})}},"./node_modules/rxjs/dist/esm5/internal/scheduler/dateTimestampProvider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>dateTimestampProvider});var dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0}},"./node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>timeoutProvider});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),timeoutProvider={setTimeout:function(handler,timeout){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];var delegate=timeoutProvider.delegate;return(null==delegate?void 0:delegate.setTimeout)?delegate.setTimeout.apply(delegate,(0,tslib__WEBPACK_IMPORTED_MODULE_0__.fX)([handler,timeout],(0,tslib__WEBPACK_IMPORTED_MODULE_0__.zs)(args))):setTimeout.apply(void 0,(0,tslib__WEBPACK_IMPORTED_MODULE_0__.fX)([handler,timeout],(0,tslib__WEBPACK_IMPORTED_MODULE_0__.zs)(args)))},clearTimeout:function(handle){var delegate=timeoutProvider.delegate;return((null==delegate?void 0:delegate.clearTimeout)||clearTimeout)(handle)},delegate:void 0}},"./node_modules/rxjs/dist/esm5/internal/symbol/iterator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>iterator});var iterator=function getSymbolIterator(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},"./node_modules/rxjs/dist/esm5/internal/symbol/observable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>observable});var observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},"./node_modules/rxjs/dist/esm5/internal/util/args.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R0:()=>popNumber,lI:()=>popScheduler,ms:()=>popResultSelector});var _isFunction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js"),_isScheduler__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isScheduler.js");function last(arr){return arr[arr.length-1]}function popResultSelector(args){return(0,_isFunction__WEBPACK_IMPORTED_MODULE_0__.T)(last(args))?args.pop():void 0}function popScheduler(args){return(0,_isScheduler__WEBPACK_IMPORTED_MODULE_1__.m)(last(args))?args.pop():void 0}function popNumber(args,defaultValue){return"number"==typeof last(args)?args.pop():defaultValue}},"./node_modules/rxjs/dist/esm5/internal/util/argsArgArrayOrObject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>argsArgArrayOrObject});var isArray=Array.isArray,getPrototypeOf=Object.getPrototypeOf,objectProto=Object.prototype,getKeys=Object.keys;function argsArgArrayOrObject(args){if(1===args.length){var first_1=args[0];if(isArray(first_1))return{args:first_1,keys:null};if(function isPOJO(obj){return obj&&"object"==typeof obj&&getPrototypeOf(obj)===objectProto}(first_1)){var keys=getKeys(first_1);return{args:keys.map(function(key){return first_1[key]}),keys}}}return{args,keys:null}}},"./node_modules/rxjs/dist/esm5/internal/util/arrRemove.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function arrRemove(arr,item){if(arr){var index=arr.indexOf(item);0<=index&&arr.splice(index,1)}}__webpack_require__.d(__webpack_exports__,{o:()=>arrRemove})},"./node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function createErrorClass(createImpl){var ctorFunc=createImpl(function(instance){Error.call(instance),instance.stack=(new Error).stack});return ctorFunc.prototype=Object.create(Error.prototype),ctorFunc.prototype.constructor=ctorFunc,ctorFunc}__webpack_require__.d(__webpack_exports__,{L:()=>createErrorClass})},"./node_modules/rxjs/dist/esm5/internal/util/createObject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function createObject(keys,values){return keys.reduce(function(result,key,i){return result[key]=values[i],result},{})}__webpack_require__.d(__webpack_exports__,{e:()=>createObject})},"./node_modules/rxjs/dist/esm5/internal/util/errorContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>errorContext,l:()=>captureError});var _config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/config.js"),context=null;function errorContext(cb){if(_config__WEBPACK_IMPORTED_MODULE_0__.$.useDeprecatedSynchronousErrorHandling){var isRoot=!context;if(isRoot&&(context={errorThrown:!1,error:null}),cb(),isRoot){var _a=context,errorThrown=_a.errorThrown,error=_a.error;if(context=null,errorThrown)throw error}}else cb()}function captureError(err){_config__WEBPACK_IMPORTED_MODULE_0__.$.useDeprecatedSynchronousErrorHandling&&context&&(context.errorThrown=!0,context.error=err)}},"./node_modules/rxjs/dist/esm5/internal/util/executeSchedule.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function executeSchedule(parentSubscription,scheduler,work,delay,repeat){void 0===delay&&(delay=0),void 0===repeat&&(repeat=!1);var scheduleSubscription=scheduler.schedule(function(){work(),repeat?parentSubscription.add(this.schedule(null,delay)):this.unsubscribe()},delay);if(parentSubscription.add(scheduleSubscription),!repeat)return scheduleSubscription}__webpack_require__.d(__webpack_exports__,{N:()=>executeSchedule})},"./node_modules/rxjs/dist/esm5/internal/util/identity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function identity(x){return x}__webpack_require__.d(__webpack_exports__,{D:()=>identity})},"./node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>isArrayLike});var isArrayLike=function(x){return x&&"number"==typeof x.length&&"function"!=typeof x}},"./node_modules/rxjs/dist/esm5/internal/util/isAsyncIterable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>isAsyncIterable});var _isFunction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js");function isAsyncIterable(obj){return Symbol.asyncIterator&&(0,_isFunction__WEBPACK_IMPORTED_MODULE_0__.T)(null==obj?void 0:obj[Symbol.asyncIterator])}},"./node_modules/rxjs/dist/esm5/internal/util/isFunction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function isFunction(value){return"function"==typeof value}__webpack_require__.d(__webpack_exports__,{T:()=>isFunction})},"./node_modules/rxjs/dist/esm5/internal/util/isInteropObservable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>isInteropObservable});var _symbol_observable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/symbol/observable.js"),_isFunction__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js");function isInteropObservable(input){return(0,_isFunction__WEBPACK_IMPORTED_MODULE_1__.T)(input[_symbol_observable__WEBPACK_IMPORTED_MODULE_0__.s])}},"./node_modules/rxjs/dist/esm5/internal/util/isIterable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>isIterable});var _symbol_iterator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/symbol/iterator.js"),_isFunction__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js");function isIterable(input){return(0,_isFunction__WEBPACK_IMPORTED_MODULE_1__.T)(null==input?void 0:input[_symbol_iterator__WEBPACK_IMPORTED_MODULE_0__.l])}},"./node_modules/rxjs/dist/esm5/internal/util/isObservable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>isObservable});var _Observable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_isFunction__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js");function isObservable(obj){return!!obj&&(obj instanceof _Observable__WEBPACK_IMPORTED_MODULE_0__.c||(0,_isFunction__WEBPACK_IMPORTED_MODULE_1__.T)(obj.lift)&&(0,_isFunction__WEBPACK_IMPORTED_MODULE_1__.T)(obj.subscribe))}},"./node_modules/rxjs/dist/esm5/internal/util/isPromise.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>isPromise});var _isFunction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js");function isPromise(value){return(0,_isFunction__WEBPACK_IMPORTED_MODULE_0__.T)(null==value?void 0:value.then)}},"./node_modules/rxjs/dist/esm5/internal/util/isReadableStreamLike.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>readableStreamLikeToAsyncGenerator,U:()=>isReadableStreamLike});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_isFunction__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js");function readableStreamLikeToAsyncGenerator(readableStream){return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.AQ)(this,arguments,function readableStreamLikeToAsyncGenerator_1(){var reader,_a,value;return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.YH)(this,function(_b){switch(_b.label){case 0:reader=readableStream.getReader(),_b.label=1;case 1:_b.trys.push([1,,9,10]),_b.label=2;case 2:return[4,(0,tslib__WEBPACK_IMPORTED_MODULE_0__.N3)(reader.read())];case 3:return _a=_b.sent(),value=_a.value,_a.done?[4,(0,tslib__WEBPACK_IMPORTED_MODULE_0__.N3)(void 0)]:[3,5];case 4:return[2,_b.sent()];case 5:return[4,(0,tslib__WEBPACK_IMPORTED_MODULE_0__.N3)(value)];case 6:return[4,_b.sent()];case 7:return _b.sent(),[3,2];case 8:return[3,10];case 9:return reader.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(obj){return(0,_isFunction__WEBPACK_IMPORTED_MODULE_1__.T)(null==obj?void 0:obj.getReader)}},"./node_modules/rxjs/dist/esm5/internal/util/isScheduler.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>isScheduler});var _isFunction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js");function isScheduler(value){return value&&(0,_isFunction__WEBPACK_IMPORTED_MODULE_0__.T)(value.schedule)}},"./node_modules/rxjs/dist/esm5/internal/util/lift.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>operate,S:()=>hasLift});var _isFunction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js");function hasLift(source){return(0,_isFunction__WEBPACK_IMPORTED_MODULE_0__.T)(null==source?void 0:source.lift)}function operate(init){return function(source){if(hasLift(source))return source.lift(function(liftedSource){try{return init(liftedSource,this)}catch(err){this.error(err)}});throw new TypeError("Unable to lift unknown Observable type")}}},"./node_modules/rxjs/dist/esm5/internal/util/mapOneOrManyArgs.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>mapOneOrManyArgs});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_operators_map__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),isArray=Array.isArray;function mapOneOrManyArgs(fn){return(0,_operators_map__WEBPACK_IMPORTED_MODULE_1__.T)(function(args){return function callOrApply(fn,args){return isArray(args)?fn.apply(void 0,(0,tslib__WEBPACK_IMPORTED_MODULE_0__.fX)([],(0,tslib__WEBPACK_IMPORTED_MODULE_0__.zs)(args))):fn(args)}(fn,args)})}},"./node_modules/rxjs/dist/esm5/internal/util/noop.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function noop(){}__webpack_require__.d(__webpack_exports__,{l:()=>noop})},"./node_modules/rxjs/dist/esm5/internal/util/pipe.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>pipe,m:()=>pipeFromArray});var _identity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/identity.js");function pipe(){for(var fns=[],_i=0;_i<arguments.length;_i++)fns[_i]=arguments[_i];return pipeFromArray(fns)}function pipeFromArray(fns){return 0===fns.length?_identity__WEBPACK_IMPORTED_MODULE_0__.D:1===fns.length?fns[0]:function piped(input){return fns.reduce(function(prev,fn){return fn(prev)},input)}}},"./node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>reportUnhandledError});var _config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/config.js"),_scheduler_timeoutProvider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js");function reportUnhandledError(err){_scheduler_timeoutProvider__WEBPACK_IMPORTED_MODULE_1__.f.setTimeout(function(){var onUnhandledError=_config__WEBPACK_IMPORTED_MODULE_0__.$.onUnhandledError;if(!onUnhandledError)throw err;onUnhandledError(err)})}},"./node_modules/rxjs/dist/esm5/internal/util/throwUnobservableError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function createInvalidObservableTypeError(input){return new TypeError("You provided "+(null!==input&&"object"==typeof input?"an invalid object":"'"+input+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}__webpack_require__.d(__webpack_exports__,{L:()=>createInvalidObservableTypeError})},"./node_modules/storybook/dist/csf/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F3:()=>uc,K_:()=>rc,hX:()=>csf_Xr,bU:()=>oc,aj:()=>csf_jn,bE:()=>cc,Lr:()=>lc});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global"),external_STORYBOOK_MODULE_CHANNELS_=__webpack_require__("storybook/internal/channels"),external_STORYBOOK_MODULE_CLIENT_LOGGER_=__webpack_require__("storybook/internal/client-logger"),external_STORYBOOK_MODULE_CORE_EVENTS_=__webpack_require__("storybook/internal/core-events"),external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_=__webpack_require__("storybook/internal/preview-errors"),external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/preview-api"),external_STORYBOOK_MODULE_TEST_=__webpack_require__("storybook/test"),lr=Object.defineProperty,i=(e,t)=>lr(e,"name",{value:t,configurable:!0}),mr=Object.entries({reset:[0,0],bold:[1,22,"[22m[1m"],dim:[2,22,"[22m[2m"],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]});function Ge(e){return String(e)}function Ft(e=!1){let t=typeof process<"u"?process:void 0,n=t?.env||{},r=t?.argv||[];return!("NO_COLOR"in n||r.includes("--no-color"))&&("FORCE_COLOR"in n||r.includes("--color")||"win32"===t?.platform||e&&"dumb"!==n.TERM||"CI"in n)||typeof window<"u"&&!!window.chrome}function jt(e=!1){let t=Ft(e),n=i((c,a,u,m)=>{let p="",l=0;do{p+=c.substring(l,m)+u,l=m+a.length,m=c.indexOf(a,l)}while(~m);return p+c.substring(l)},"i"),r=i((c,a,u=c)=>{let m=i(p=>{let l=String(p),b=l.indexOf(a,c.length);return~b?c+n(l,a,u,b)+a:c+l+a},"o");return m.open=c,m.close=a,m},"g"),o={isColorSupported:t},s=i(c=>`[${c}m`,"d");for(let[c,a]of mr)o[c]=t?r(s(a[0]),s(a[1]),a[2]):Ge;return o}i(Ge,"a"),Ge.open="",Ge.close="",i(Ft,"C"),i(jt,"p");var v=jt();function Xt(e,t){return t.forEach(function(n){n&&"string"!=typeof n&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if("default"!==r&&!(r in e)){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:i(function(){return n[r]},"get")})}})}),Object.freeze(e)}function pr(e,t){let n=Object.keys(e),r=null===t?n:n.sort(t);if(Object.getOwnPropertySymbols)for(let o of Object.getOwnPropertySymbols(e))Object.getOwnPropertyDescriptor(e,o).enumerable&&r.push(o);return r}function Ee(e,t,n,r,o,s,c=": "){let a="",u=0,m=e.next();if(!m.done){a+=t.spacingOuter;let p=n+t.indent;for(;!m.done;){if(a+=p,u++===t.maxWidth){a+="…";break}a+=s(m.value[0],t,p,r,o)+c+s(m.value[1],t,p,r,o),m=e.next(),m.done?t.min||(a+=","):a+=`,${t.spacingInner}`}a+=t.spacingOuter+n}return a}function Qe(e,t,n,r,o,s){let c="",a=0,u=e.next();if(!u.done){c+=t.spacingOuter;let m=n+t.indent;for(;!u.done;){if(c+=m,a++===t.maxWidth){c+="…";break}c+=s(u.value,t,m,r,o),u=e.next(),u.done?t.min||(c+=","):c+=`,${t.spacingInner}`}c+=t.spacingOuter+n}return c}function Ae(e,t,n,r,o,s){let c="";e=e instanceof ArrayBuffer?new DataView(e):e;let a=i(m=>m instanceof DataView,"isDataView"),u=a(e)?e.byteLength:e.length;if(u>0){c+=t.spacingOuter;let m=n+t.indent;for(let p=0;p<u;p++){if(c+=m,p===t.maxWidth){c+="…";break}(a(e)||p in e)&&(c+=s(a(e)?e.getInt8(p):e[p],t,m,r,o)),p<u-1?c+=`,${t.spacingInner}`:t.min||(c+=",")}c+=t.spacingOuter+n}return c}function ve(e,t,n,r,o,s){let c="",a=pr(e,t.compareKeys);if(a.length>0){c+=t.spacingOuter;let u=n+t.indent;for(let m=0;m<a.length;m++){let p=a[m];c+=`${u+s(p,t,u,r,o)}: ${s(e[p],t,u,r,o)}`,m<a.length-1?c+=`,${t.spacingInner}`:t.min||(c+=",")}c+=t.spacingOuter+n}return c}i(Xt,"_mergeNamespaces"),i(pr,"getKeysOfEnumerableProperties"),i(Ee,"printIteratorEntries"),i(Qe,"printIteratorValues"),i(Ae,"printListItems"),i(ve,"printObjectProperties");var gr="function"==typeof Symbol&&Symbol.for?Symbol.for("jest.asymmetricMatcher"):1267621,hr=i((e,t,n,r,o,s)=>{let c=e.toString();if("ArrayContaining"===c||"ArrayNotContaining"===c)return++r>t.maxDepth?`[${c}]`:`${c+" "}[${Ae(e.sample,t,n,r,o,s)}]`;if("ObjectContaining"===c||"ObjectNotContaining"===c)return++r>t.maxDepth?`[${c}]`:`${c+" "}{${ve(e.sample,t,n,r,o,s)}}`;if("StringMatching"===c||"StringNotMatching"===c||"StringContaining"===c||"StringNotContaining"===c)return c+" "+s(e.sample,t,n,r,o);if("function"!=typeof e.toAsymmetricMatcher)throw new TypeError(`Asymmetric matcher ${e.constructor.name} does not implement toAsymmetricMatcher()`);return e.toAsymmetricMatcher()},"serialize$5"),dr=i(e=>e&&e.$$typeof===gr,"test$5"),yr={serialize:hr,test:dr},Zt=new Set(["DOMStringMap","NamedNodeMap"]),Sr=/^(?:HTML\w*Collection|NodeList)$/;function Er(e){return Zt.has(e)||Sr.test(e)}i(Er,"testName");var _r=i(e=>e&&e.constructor&&!!e.constructor.name&&Er(e.constructor.name),"test$4");function Tr(e){return"NamedNodeMap"===e.constructor.name}i(Tr,"isNamedNodeMap");var Cr=i((e,t,n,r,o,s)=>{let c=e.constructor.name;return++r>t.maxDepth?`[${c}]`:(t.min?"":c+" ")+(Zt.has(c)?`{${ve(Tr(e)?[...e].reduce((a,u)=>(a[u.name]=u.value,a),{}):{...e},t,n,r,o,s)}}`:`[${Ae([...e],t,n,r,o,s)}]`)},"serialize$4"),Or={serialize:Cr,test:_r};function Qt(e){return e.replaceAll("<","&lt;").replaceAll(">","&gt;")}function et(e,t,n,r,o,s,c){let a=r+n.indent,u=n.colors;return e.map(m=>{let p=t[m],l=c(p,n,a,o,s);return"string"!=typeof p&&(l.includes("\n")&&(l=n.spacingOuter+a+l+n.spacingOuter+r),l=`{${l}}`),`${n.spacingInner+r+u.prop.open+m+u.prop.close}=${u.value.open}${l}${u.value.close}`}).join("")}function tt(e,t,n,r,o,s){return e.map(c=>t.spacingOuter+n+("string"==typeof c?vt(c,t):s(c,t,n,r,o))).join("")}function vt(e,t){let n=t.colors.content;return n.open+Qt(e)+n.close}function $r(e,t){let n=t.colors.comment;return`${n.open}\x3c!--${Qt(e)}--\x3e${n.close}`}function nt(e,t,n,r,o){let s=r.colors.tag;return`${s.open}<${e}${t&&s.close+t+r.spacingOuter+o+s.open}${n?`>${s.close}${n}${r.spacingOuter}${o}${s.open}</${e}`:(t&&!r.min?"":" ")+"/"}>${s.close}`}function rt(e,t){let n=t.colors.tag;return`${n.open}<${e}${n.close} …${n.open} />${n.close}`}i(Qt,"escapeHTML"),i(et,"printProps"),i(tt,"printChildren"),i(vt,"printText"),i($r,"printComment"),i(nt,"printElement"),i(rt,"printElementAsLeaf");var Rr=/^(?:(?:HTML|SVG)\w*)?Element$/;function Ar(e){try{return"function"==typeof e.hasAttribute&&e.hasAttribute("is")}catch{return!1}}function Pr(e){let t=e.constructor.name,{nodeType:n,tagName:r}=e,o="string"==typeof r&&r.includes("-")||Ar(e);return 1===n&&(Rr.test(t)||o)||3===n&&"Text"===t||8===n&&"Comment"===t||11===n&&"DocumentFragment"===t}i(Ar,"testHasAttribute"),i(Pr,"testNode");var Nr=i(e=>{var t;return(null==e||null===(t=e.constructor)||void 0===t?void 0:t.name)&&Pr(e)},"test$3");function Ir(e){return 3===e.nodeType}function Mr(e){return 8===e.nodeType}function He(e){return 11===e.nodeType}i(Ir,"nodeIsText"),i(Mr,"nodeIsComment"),i(He,"nodeIsFragment");var Lr=i((e,t,n,r,o,s)=>{if(Ir(e))return vt(e.data,t);if(Mr(e))return $r(e.data,t);let c=He(e)?"DocumentFragment":e.tagName.toLowerCase();return++r>t.maxDepth?rt(c,t):nt(c,et(He(e)?[]:Array.from(e.attributes,a=>a.name).sort(),He(e)?{}:[...e.attributes].reduce((a,u)=>(a[u.name]=u.value,a),{}),t,n+t.indent,r,o,s),tt(Array.prototype.slice.call(e.childNodes||e.children),t,n+t.indent,r,o,s),t,n)},"serialize$3"),xr={serialize:Lr,test:Nr},kt="@@__IMMUTABLE_ORDERED__@@",de=i(e=>`Immutable.${e}`,"getImmutableName"),Ne=i(e=>`[${e}]`,"printAsLeaf");function Wr(e,t,n,r,o,s,c){return++r>t.maxDepth?Ne(de(c)):`${de(c)+" "}{${Ee(e.entries(),t,n,r,o,s)}}`}function Vr(e){let t=0;return{next(){if(t<e._keys.length){let n=e._keys[t++];return{done:!1,value:[n,e.get(n)]}}return{done:!0,value:void 0}}}}function qr(e,t,n,r,o,s){let c=de(e._name||"Record");return++r>t.maxDepth?Ne(c):`${c+" "}{${Ee(Vr(e),t,n,r,o,s)}}`}function Kr(e,t,n,r,o,s){let c=de("Seq");return++r>t.maxDepth?Ne(c):e["@@__IMMUTABLE_KEYED__@@"]?`${c+" "}{${e._iter||e._object?Ee(e.entries(),t,n,r,o,s):"…"}}`:`${c+" "}[${e._iter||e._array||e._collection||e._iterable?Qe(e.values(),t,n,r,o,s):"…"}]`}function Je(e,t,n,r,o,s,c){return++r>t.maxDepth?Ne(de(c)):`${de(c)+" "}[${Qe(e.values(),t,n,r,o,s)}]`}i(Wr,"printImmutableEntries"),i(Vr,"getRecordEntries"),i(qr,"printImmutableRecord"),i(Kr,"printImmutableSeq"),i(Je,"printImmutableValues");var Gr=i((e,t,n,r,o,s)=>e["@@__IMMUTABLE_MAP__@@"]?Wr(e,t,n,r,o,s,e[kt]?"OrderedMap":"Map"):e["@@__IMMUTABLE_LIST__@@"]?Je(e,t,n,r,o,s,"List"):e["@@__IMMUTABLE_SET__@@"]?Je(e,t,n,r,o,s,e[kt]?"OrderedSet":"Set"):e["@@__IMMUTABLE_STACK__@@"]?Je(e,t,n,r,o,s,"Stack"):e["@@__IMMUTABLE_SEQ__@@"]?Kr(e,t,n,r,o,s):qr(e,t,n,r,o,s),"serialize$2"),Hr=i(e=>e&&(!0===e["@@__IMMUTABLE_ITERABLE__@@"]||!0===e["@@__IMMUTABLE_RECORD__@@"]),"test$2"),Jr={serialize:Gr,test:Hr};function rn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}i(rn,"getDefaultExportFromCjs");var zt,Yt,Xe={exports:{}},A={};function Xr(){return zt||(zt=1,function(){function e(f){if("object"==typeof f&&null!==f){var d=f.$$typeof;switch(d){case t:switch(f=f.type){case r:case s:case o:case m:case p:case g:return f;default:switch(f=f&&f.$$typeof){case a:case u:case b:case l:case c:return f;default:return d}}case n:return d}}}i(e,"typeOf");var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),l=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),h=Symbol.for("react.client.reference");A.ContextConsumer=c,A.ContextProvider=a,A.Element=t,A.ForwardRef=u,A.Fragment=r,A.Lazy=b,A.Memo=l,A.Portal=n,A.Profiler=s,A.StrictMode=o,A.Suspense=m,A.SuspenseList=p,A.isContextConsumer=function(f){return e(f)===c},A.isContextProvider=function(f){return e(f)===a},A.isElement=function(f){return"object"==typeof f&&null!==f&&f.$$typeof===t},A.isForwardRef=function(f){return e(f)===u},A.isFragment=function(f){return e(f)===r},A.isLazy=function(f){return e(f)===b},A.isMemo=function(f){return e(f)===l},A.isPortal=function(f){return e(f)===n},A.isProfiler=function(f){return e(f)===s},A.isStrictMode=function(f){return e(f)===o},A.isSuspense=function(f){return e(f)===m},A.isSuspenseList=function(f){return e(f)===p},A.isValidElementType=function(f){return"string"==typeof f||"function"==typeof f||f===r||f===s||f===o||f===m||f===p||"object"==typeof f&&null!==f&&(f.$$typeof===b||f.$$typeof===l||f.$$typeof===a||f.$$typeof===c||f.$$typeof===u||f.$$typeof===h||void 0!==f.getModuleId)},A.typeOf=e}()),A}function Zr(){return Yt||(Yt=1,Xe.exports=Xr()),Xe.exports}i(Xr,"requireReactIs_development$1"),i(Zr,"requireReactIs$1");var Ut,Wt,on=Zr(),vr=Xt({__proto__:null,default:rn(on)},[on]),Ze={exports:{}},w={};function eo(){return Ut||(Ut=1,function(){var O,e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),a=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),l=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(C){return!("string"!=typeof C&&"function"!=typeof C&&C!==n&&C!==o&&C!==r&&C!==m&&C!==p&&C!==g&&("object"!=typeof C||null===C||C.$$typeof!==b&&C.$$typeof!==l&&C.$$typeof!==s&&C.$$typeof!==c&&C.$$typeof!==u&&C.$$typeof!==O&&void 0===C.getModuleId))}function E(C){if("object"==typeof C&&null!==C){var Ke=C.$$typeof;switch(Ke){case e:var $e=C.type;switch($e){case n:case o:case r:case m:case p:return $e;default:var Dt=$e&&$e.$$typeof;switch(Dt){case a:case c:case u:case b:case l:case s:return Dt;default:return Ke}}case t:return Ke}}}O=Symbol.for("react.module.reference"),i(y,"isValidElementType"),i(E,"typeOf");var $=c,T=s,R=e,K=u,Q=n,I=b,k=l,G=t,Y=o,N=r,L=m,x=p,H=!1,F=!1;function W(C){return H||(H=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.")),!1}function re(C){return F||(F=!0,console.warn("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.")),!1}function V(C){return E(C)===c}function q(C){return E(C)===s}function se(C){return"object"==typeof C&&null!==C&&C.$$typeof===e}function J(C){return E(C)===u}function U(C){return E(C)===n}function oe(C){return E(C)===b}function he(C){return E(C)===l}function ue(C){return E(C)===t}function be(C){return E(C)===o}function Ce(C){return E(C)===r}function Oe(C){return E(C)===m}function ar(C){return E(C)===p}i(W,"isAsyncMode"),i(re,"isConcurrentMode"),i(V,"isContextConsumer"),i(q,"isContextProvider"),i(se,"isElement"),i(J,"isForwardRef"),i(U,"isFragment"),i(oe,"isLazy"),i(he,"isMemo"),i(ue,"isPortal"),i(be,"isProfiler"),i(Ce,"isStrictMode"),i(Oe,"isSuspense"),i(ar,"isSuspenseList"),w.ContextConsumer=$,w.ContextProvider=T,w.Element=R,w.ForwardRef=K,w.Fragment=Q,w.Lazy=I,w.Memo=k,w.Portal=G,w.Profiler=Y,w.StrictMode=N,w.Suspense=L,w.SuspenseList=x,w.isAsyncMode=W,w.isConcurrentMode=re,w.isContextConsumer=V,w.isContextProvider=q,w.isElement=se,w.isForwardRef=J,w.isFragment=U,w.isLazy=oe,w.isMemo=he,w.isPortal=ue,w.isProfiler=be,w.isStrictMode=Ce,w.isSuspense=Oe,w.isSuspenseList=ar,w.isValidElementType=y,w.typeOf=E}()),w}function to(){return Wt||(Wt=1,Ze.exports=eo()),Ze.exports}i(eo,"requireReactIs_development"),i(to,"requireReactIs");var sn=to(),ro=Xt({__proto__:null,default:rn(sn)},[sn]),fe=Object.fromEntries(["isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isSuspenseList","isValidElementType"].map(e=>[e,t=>ro[e](t)||vr[e](t)]));function cn(e,t=[]){if(Array.isArray(e))for(let n of e)cn(n,t);else null!=e&&!1!==e&&""!==e&&t.push(e);return t}function Vt(e){let t=e.type;if("string"==typeof t)return t;if("function"==typeof t)return t.displayName||t.name||"Unknown";if(fe.isFragment(e))return"React.Fragment";if(fe.isSuspense(e))return"React.Suspense";if("object"==typeof t&&null!==t){if(fe.isContextProvider(e))return"Context.Provider";if(fe.isContextConsumer(e))return"Context.Consumer";if(fe.isForwardRef(e)){if(t.displayName)return t.displayName;let n=t.render.displayName||t.render.name||"";return""===n?"ForwardRef":`ForwardRef(${n})`}if(fe.isMemo(e)){let n=t.displayName||t.type.displayName||t.type.name||"";return""===n?"Memo":`Memo(${n})`}}return"UNDEFINED"}function so(e){let{props:t}=e;return Object.keys(t).filter(n=>"children"!==n&&void 0!==t[n]).sort()}i(cn,"getChildren"),i(Vt,"getType"),i(so,"getPropKeys$1");var io=i((e,t,n,r,o,s)=>++r>t.maxDepth?rt(Vt(e),t):nt(Vt(e),et(so(e),e.props,t,n+t.indent,r,o,s),tt(cn(e.props.children),t,n+t.indent,r,o,s),t,n),"serialize$1"),co=i(e=>null!=e&&fe.isElement(e),"test$1"),uo={serialize:io,test:co},ao="function"==typeof Symbol&&Symbol.for?Symbol.for("react.test.json"):245830487;function lo(e){let{props:t}=e;return t?Object.keys(t).filter(n=>void 0!==t[n]).sort():[]}i(lo,"getPropKeys");var fo=i((e,t,n,r,o,s)=>++r>t.maxDepth?rt(e.type,t):nt(e.type,e.props?et(lo(e),e.props,t,n+t.indent,r,o,s):"",e.children?tt(e.children,t,n+t.indent,r,o,s):"",t,n),"serialize"),mo=i(e=>e&&e.$$typeof===ao,"test"),po={serialize:fo,test:mo},un=Object.prototype.toString,go=Date.prototype.toISOString,ho=Error.prototype.toString,qt=RegExp.prototype.toString;function Re(e){return"function"==typeof e.constructor&&e.constructor.name||"Object"}function yo(e){return typeof window<"u"&&e===window}i(Re,"getConstructorName"),i(yo,"isWindow");var bo=/^Symbol\((.*)\)(.*)$/,So=/\n/g,st=class st extends Error{constructor(t,n){super(t),this.stack=n,this.name=this.constructor.name}};i(st,"PrettyFormatPluginError");var Pe=st;function Eo(e){return"[object Array]"===e||"[object ArrayBuffer]"===e||"[object DataView]"===e||"[object Float32Array]"===e||"[object Float64Array]"===e||"[object Int8Array]"===e||"[object Int16Array]"===e||"[object Int32Array]"===e||"[object Uint8Array]"===e||"[object Uint8ClampedArray]"===e||"[object Uint16Array]"===e||"[object Uint32Array]"===e}function _o(e){return Object.is(e,-0)?"-0":String(e)}function To(e){return`${e}n`}function Kt(e,t){return t?`[Function ${e.name||"anonymous"}]`:"[Function]"}function Gt(e){return String(e).replace(bo,"Symbol($1)")}function Ht(e){return`[${ho.call(e)}]`}function an(e,t,n,r){if(!0===e||!1===e)return`${e}`;if(void 0===e)return"undefined";if(null===e)return"null";let o=typeof e;if("number"===o)return _o(e);if("bigint"===o)return To(e);if("string"===o)return r?`"${e.replaceAll(/"|\\/g,"\\$&")}"`:`"${e}"`;if("function"===o)return Kt(e,t);if("symbol"===o)return Gt(e);let s=un.call(e);return"[object WeakMap]"===s?"WeakMap {}":"[object WeakSet]"===s?"WeakSet {}":"[object Function]"===s||"[object GeneratorFunction]"===s?Kt(e,t):"[object Symbol]"===s?Gt(e):"[object Date]"===s?Number.isNaN(+e)?"Date { NaN }":go.call(e):"[object Error]"===s?Ht(e):"[object RegExp]"===s?n?qt.call(e).replaceAll(/[$()*+.?[\\\]^{|}]/g,"\\$&"):qt.call(e):e instanceof Error?Ht(e):null}function ln(e,t,n,r,o,s){if(o.includes(e))return"[Circular]";(o=[...o]).push(e);let c=++r>t.maxDepth,a=t.min;if(t.callToJSON&&!c&&e.toJSON&&"function"==typeof e.toJSON&&!s)return ae(e.toJSON(),t,n,r,o,!0);let u=un.call(e);return"[object Arguments]"===u?c?"[Arguments]":`${a?"":"Arguments "}[${Ae(e,t,n,r,o,ae)}]`:Eo(u)?c?`[${e.constructor.name}]`:`${a||!t.printBasicPrototype&&"Array"===e.constructor.name?"":`${e.constructor.name} `}[${Ae(e,t,n,r,o,ae)}]`:"[object Map]"===u?c?"[Map]":`Map {${Ee(e.entries(),t,n,r,o,ae," => ")}}`:"[object Set]"===u?c?"[Set]":`Set {${Qe(e.values(),t,n,r,o,ae)}}`:c||yo(e)?`[${Re(e)}]`:`${a||!t.printBasicPrototype&&"Object"===Re(e)?"":`${Re(e)} `}{${ve(e,t,n,r,o,ae)}}`}i(Eo,"isToStringedArrayType"),i(_o,"printNumber"),i(To,"printBigInt"),i(Kt,"printFunction"),i(Gt,"printSymbol"),i(Ht,"printError"),i(an,"printBasicValue"),i(ln,"printComplexValue");var Co={test:i(e=>e&&e instanceof Error,"test"),serialize(e,t,n,r,o,s){if(o.includes(e))return"[Circular]";o=[...o,e];let c=++r>t.maxDepth,{message:a,cause:u,...m}=e,p={message:a,...typeof u<"u"?{cause:u}:{},...e instanceof AggregateError?{errors:e.errors}:{},...m},l="Error"!==e.name?e.name:Re(e);return c?`[${l}]`:`${l} {${Ee(Object.entries(p).values(),t,n,r,o,s)}}`}};function Oo(e){return null!=e.serialize}function fn(e,t,n,r,o,s){let c;try{c=Oo(e)?e.serialize(t,n,r,o,s,ae):e.print(t,a=>ae(a,n,r,o,s),a=>{let u=r+n.indent;return u+a.replaceAll(So,`\n${u}`)},{edgeSpacing:n.spacingOuter,min:n.min,spacing:n.spacingInner},n.colors)}catch(a){throw new Pe(a.message,a.stack)}if("string"!=typeof c)throw new TypeError(`pretty-format: Plugin must return type "string" but instead returned "${typeof c}".`);return c}function mn(e,t){for(let n of e)try{if(n.test(t))return n}catch(r){throw new Pe(r.message,r.stack)}return null}function ae(e,t,n,r,o,s){let c=mn(t.plugins,e);if(null!==c)return fn(c,e,t,n,r,o);let a=an(e,t.printFunctionName,t.escapeRegex,t.escapeString);return null!==a?a:ln(e,t,n,r,o,s)}i(Oo,"isNewPlugin"),i(fn,"printPlugin"),i(mn,"findPlugin"),i(ae,"printer");var ot={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},pn=Object.keys(ot),ee={callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:Number.POSITIVE_INFINITY,maxWidth:Number.POSITIVE_INFINITY,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:ot};function $o(e){for(let t of Object.keys(e))if(!Object.prototype.hasOwnProperty.call(ee,t))throw new Error(`pretty-format: Unknown option "${t}".`);if(e.min&&void 0!==e.indent&&0!==e.indent)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.')}function wo(){return pn.reduce((e,t)=>{let n=ot[t],r=n&&v[n];if(!r||"string"!=typeof r.close||"string"!=typeof r.open)throw new Error(`pretty-format: Option "theme" has a key "${t}" whose value "${n}" is undefined in ansi-styles.`);return e[t]=r,e},Object.create(null))}function Ro(){return pn.reduce((e,t)=>(e[t]={close:"",open:""},e),Object.create(null))}function gn(e){return e?.printFunctionName??ee.printFunctionName}function hn(e){return e?.escapeRegex??ee.escapeRegex}function dn(e){return e?.escapeString??ee.escapeString}function Jt(e){return{callToJSON:e?.callToJSON??ee.callToJSON,colors:e?.highlight?wo():Ro(),compareKeys:"function"==typeof e?.compareKeys||null===e?.compareKeys?e.compareKeys:ee.compareKeys,escapeRegex:hn(e),escapeString:dn(e),indent:e?.min?"":Ao(e?.indent??ee.indent),maxDepth:e?.maxDepth??ee.maxDepth,maxWidth:e?.maxWidth??ee.maxWidth,min:e?.min??ee.min,plugins:e?.plugins??ee.plugins,printBasicPrototype:e?.printBasicPrototype??!0,printFunctionName:gn(e),spacingInner:e?.min?" ":"\n",spacingOuter:e?.min?"":"\n"}}function Ao(e){return Array.from({length:e+1}).join(" ")}function X(e,t){if(t&&($o(t),t.plugins)){let r=mn(t.plugins,e);if(null!==r)return fn(r,e,Jt(t),"",0,[])}let n=an(e,gn(t),hn(t),dn(t));return null!==n?n:ln(e,Jt(t),"",0,[])}i($o,"validateOptions"),i(wo,"getColorsHighlight"),i(Ro,"getColorsEmpty"),i(gn,"getPrintFunctionName"),i(hn,"getEscapeRegex"),i(dn,"getEscapeString"),i(Jt,"getConfig"),i(Ao,"createIndent"),i(X,"format");var _e={AsymmetricMatcher:yr,DOMCollection:Or,DOMElement:xr,Immutable:Jr,ReactElement:uo,ReactTestComponent:po,Error:Co},yn={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},Po={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"};function No(e,t){let n=yn[Po[t]]||yn[t]||"";return n?`[${n[0]}m${String(e)}[${n[1]}m`:String(e)}function bn({showHidden:e=!1,depth:t=2,colors:n=!1,customInspect:r=!0,showProxy:o=!1,maxArrayLength:s=1/0,breakLength:c=1/0,seen:a=[],truncate:u=1/0,stylize:m=String}={},p){let l={showHidden:!!e,depth:Number(t),colors:!!n,customInspect:!!r,showProxy:!!o,maxArrayLength:Number(s),breakLength:Number(c),truncate:Number(u),seen:a,inspect:p,stylize:m};return l.colors&&(l.stylize=No),l}function Io(e){return e>="\ud800"&&e<="\udbff"}function B(e,t,n="…"){e=String(e);let r=n.length,o=e.length;if(r>t&&o>r)return n;if(o>t&&o>r){let s=t-r;return s>0&&Io(e[s-1])&&(s-=1),`${e.slice(0,s)}${n}`}return e}function D(e,t,n,r=", "){n=n||t.inspect;let o=e.length;if(0===o)return"";let s=t.truncate,c="",a="",u="";for(let m=0;m<o;m+=1){let p=m+1===e.length,l=m+2===e.length;u=`…(${e.length-m})`;let b=e[m];t.truncate=s-c.length-(p?0:r.length);let g=a||n(b,t)+(p?"":r),h=c.length+g.length,f=h+u.length;if(p&&h>s&&c.length+u.length<=s||!p&&!l&&f>s||(a=p?"":n(e[m+1],t)+(l?"":r),!p&&l&&f>s&&h+a.length>s))break;if(c+=g,!p&&!l&&h+a.length>=s){u=`…(${e.length-m-1})`;break}u=""}return`${c}${u}`}function Mo(e){return e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}function ce([e,t],n){return n.truncate-=2,"string"==typeof e?e=Mo(e):"number"!=typeof e&&(e=`[${n.inspect(e,n)}]`),n.truncate-=e.length,`${e}: ${t=n.inspect(t,n)}`}function it(e,t){let n=Object.keys(e).slice(e.length);if(!e.length&&!n.length)return"[]";t.truncate-=4;let r=D(e,t);t.truncate-=r.length;let o="";return n.length&&(o=D(n.map(s=>[s,e[s]]),t,ce)),`[ ${r}${o?`, ${o}`:""} ]`}i(No,"colorise"),i(bn,"normaliseOptions"),i(Io,"isHighSurrogate"),i(B,"truncate"),i(D,"inspectList"),i(Mo,"quoteComplexKey"),i(ce,"inspectProperty"),i(it,"inspectArray");var Lo=i(e=>"function"==typeof Buffer&&e instanceof Buffer?"Buffer":e[Symbol.toStringTag]?e[Symbol.toStringTag]:e.constructor.name,"getArrayName");function te(e,t){let n=Lo(e);t.truncate-=n.length+4;let r=Object.keys(e).slice(e.length);if(!e.length&&!r.length)return`${n}[]`;let o="";for(let c=0;c<e.length;c++){let a=`${t.stylize(B(e[c],t.truncate),"number")}${c===e.length-1?"":", "}`;if(t.truncate-=a.length,e[c]!==e.length&&t.truncate<=3){o+=`…(${e.length-e[c]+1})`;break}o+=a}let s="";return r.length&&(s=D(r.map(c=>[c,e[c]]),t,ce)),`${n}[ ${o}${s?`, ${s}`:""} ]`}function ct(e,t){let n=e.toJSON();if(null===n)return"Invalid Date";let r=n.split("T"),o=r[0];return t.stylize(`${o}T${B(r[1],t.truncate-o.length-1)}`,"date")}function Ie(e,t){let n=e[Symbol.toStringTag]||"Function",r=e.name;return r?t.stylize(`[${n} ${B(r,t.truncate-11)}]`,"special"):t.stylize(`[${n}]`,"special")}function xo([e,t],n){return n.truncate-=4,e=n.inspect(e,n),n.truncate-=e.length,`${e} => ${t=n.inspect(t,n)}`}function Do(e){let t=[];return e.forEach((n,r)=>{t.push([r,n])}),t}function ut(e,t){return 0===e.size?"Map{}":(t.truncate-=7,`Map{ ${D(Do(e),t,xo)} }`)}i(te,"inspectTypedArray"),i(ct,"inspectDate"),i(Ie,"inspectFunction"),i(xo,"inspectMapEntry"),i(Do,"mapToEntries"),i(ut,"inspectMap");var Fo=Number.isNaN||(e=>e!=e);function Me(e,t){return Fo(e)?t.stylize("NaN","number"):e===1/0?t.stylize("Infinity","number"):e===-1/0?t.stylize("-Infinity","number"):0===e?t.stylize(1/e==1/0?"+0":"-0","number"):t.stylize(B(String(e),t.truncate),"number")}function Le(e,t){let n=B(e.toString(),t.truncate-1);return"…"!==n&&(n+="n"),t.stylize(n,"bigint")}function at(e,t){let n=e.toString().split("/")[2],r=t.truncate-(2+n.length),o=e.source;return t.stylize(`/${B(o,r)}/${n}`,"regexp")}function jo(e){let t=[];return e.forEach(n=>{t.push(n)}),t}function lt(e,t){return 0===e.size?"Set{}":(t.truncate-=7,`Set{ ${D(jo(e),t)} }`)}i(Me,"inspectNumber"),i(Le,"inspectBigInt"),i(at,"inspectRegExp"),i(jo,"arrayFromSet"),i(lt,"inspectSet");var Sn=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),ko={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"};function Yo(e){return ko[e]||`\\u${`0000${e.charCodeAt(0).toString(16)}`.slice(-4)}`}function xe(e,t){return Sn.test(e)&&(e=e.replace(Sn,Yo)),t.stylize(`'${B(e,t.truncate-2)}'`,"string")}function De(e){return"description"in Symbol.prototype?e.description?`Symbol(${e.description})`:"Symbol()":e.toString()}i(Yo,"escape"),i(xe,"inspectString"),i(De,"inspectSymbol");var En=i(()=>"Promise{…}","getPromiseValue");try{let{getPromiseDetails:e,kPending:t,kRejected:n}=process.binding("util");Array.isArray(e(Promise.resolve()))&&(En=i((r,o)=>{let[s,c]=e(r);return s===t?"Promise{<pending>}":`Promise${s===n?"!":""}{${o.inspect(c,o)}}`},"getPromiseValue"))}catch{}var _n=En;function me(e,t){let n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[];if(0===n.length&&0===r.length)return"{}";if(t.truncate-=4,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);let o=D(n.map(a=>[a,e[a]]),t,ce),s=D(r.map(a=>[a,e[a]]),t,ce);t.seen.pop();let c="";return o&&s&&(c=", "),`{ ${o}${c}${s} }`}i(me,"inspectObject");var ft=!!(typeof Symbol<"u"&&Symbol.toStringTag)&&Symbol.toStringTag;function mt(e,t){let n="";return ft&&ft in e&&(n=e[ft]),n=n||e.constructor.name,(!n||"_class"===n)&&(n="<Anonymous Class>"),t.truncate-=n.length,`${n}${me(e,t)}`}function pt(e,t){return 0===e.length?"Arguments[]":(t.truncate-=13,`Arguments[ ${D(e,t)} ]`)}i(mt,"inspectClass"),i(pt,"inspectArguments");var Uo=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description","cause"];function gt(e,t){let n=Object.getOwnPropertyNames(e).filter(c=>-1===Uo.indexOf(c)),r=e.name;t.truncate-=r.length;let o="";if("string"==typeof e.message?o=B(e.message,t.truncate):n.unshift("message"),o=o?`: ${o}`:"",t.truncate-=o.length+5,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);let s=D(n.map(c=>[c,e[c]]),t,ce);return`${r}${o}${s?` { ${s} }`:""}`}function Wo([e,t],n){return n.truncate-=3,t?`${n.stylize(String(e),"yellow")}=${n.stylize(`"${t}"`,"string")}`:`${n.stylize(String(e),"yellow")}`}function Fe(e,t){return D(e,t,Vo,"\n")}function Vo(e,t){switch(e.nodeType){case 1:return je(e,t);case 3:return t.inspect(e.data,t);default:return t.inspect(e,t)}}function je(e,t){let n=e.getAttributeNames(),r=e.tagName.toLowerCase(),o=t.stylize(`<${r}`,"special"),s=t.stylize(">","special"),c=t.stylize(`</${r}>`,"special");t.truncate-=2*r.length+5;let a="";n.length>0&&(a+=" ",a+=D(n.map(p=>[p,e.getAttribute(p)]),t,Wo," ")),t.truncate-=a.length;let u=t.truncate,m=Fe(e.children,t);return m&&m.length>u&&(m=`…(${e.children.length})`),`${o}${a}${s}${m}${c}`}i(gt,"inspectObject"),i(Wo,"inspectAttribute"),i(Fe,"inspectNodeCollection"),i(Vo,"inspectNode"),i(je,"inspectHTML");var ht="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("chai/inspect"):"@@chai/inspect",dt=Symbol.for("nodejs.util.inspect.custom"),Tn=new WeakMap,Cn={},On={undefined:i((e,t)=>t.stylize("undefined","undefined"),"undefined"),null:i((e,t)=>t.stylize("null","null"),"null"),boolean:i((e,t)=>t.stylize(String(e),"boolean"),"boolean"),Boolean:i((e,t)=>t.stylize(String(e),"boolean"),"Boolean"),number:Me,Number:Me,bigint:Le,BigInt:Le,string:xe,String:xe,function:Ie,Function:Ie,symbol:De,Symbol:De,Array:it,Date:ct,Map:ut,Set:lt,RegExp:at,Promise:_n,WeakSet:i((e,t)=>t.stylize("WeakSet{…}","special"),"WeakSet"),WeakMap:i((e,t)=>t.stylize("WeakMap{…}","special"),"WeakMap"),Arguments:pt,Int8Array:te,Uint8Array:te,Uint8ClampedArray:te,Int16Array:te,Uint16Array:te,Int32Array:te,Uint32Array:te,Float32Array:te,Float64Array:te,Generator:i(()=>"","Generator"),DataView:i(()=>"","DataView"),ArrayBuffer:i(()=>"","ArrayBuffer"),Error:gt,HTMLCollection:Fe,NodeList:Fe},Ko=i((e,t,n)=>ht in e&&"function"==typeof e[ht]?e[ht](t):dt in e&&"function"==typeof e[dt]?e[dt](t.depth,t):"inspect"in e&&"function"==typeof e.inspect?e.inspect(t.depth,t):"constructor"in e&&Tn.has(e.constructor)?Tn.get(e.constructor)(e,t):Cn[n]?Cn[n](e,t):"","inspectCustom"),Go=Object.prototype.toString;function ke(e,t={}){let n=bn(t,ke),{customInspect:r}=n,o=null===e?"null":typeof e;if("object"===o&&(o=Go.call(e).slice(8,-1)),o in On)return On[o](e,n);if(r&&e){let c=Ko(e,n,o);if(c)return"string"==typeof c?c:ke(c,n)}let s=!!e&&Object.getPrototypeOf(e);return s===Object.prototype||null===s?me(e,n):e&&"function"==typeof HTMLElement&&e instanceof HTMLElement?je(e,n):"constructor"in e?e.constructor!==Object?mt(e,n):me(e,n):e===Object(e)?me(e,n):n.stylize(String(e),o)}i(ke,"inspect");var{AsymmetricMatcher:Jo,DOMCollection:Xo,DOMElement:Zo,Immutable:Qo,ReactElement:vo,ReactTestComponent:es}=_e,$n=[es,vo,Zo,Xo,Qo,Jo];function pe(e,t=10,{maxLength:n,...r}={}){let s,o=n??1e4;try{s=X(e,{maxDepth:t,escapeString:!1,plugins:$n,...r})}catch{s=X(e,{callToJSON:!1,maxDepth:t,escapeString:!1,plugins:$n,...r})}return s.length>=o&&t>1?pe(e,Math.floor(Math.min(t,Number.MAX_SAFE_INTEGER)/2),{maxLength:n,...r}):s}i(pe,"stringify");var ts=/%[sdjifoOc%]/g;function wn(...e){if("string"!=typeof e[0]){let s=[];for(let c=0;c<e.length;c++)s.push(Te(e[c],{depth:0,colors:!1}));return s.join(" ")}let t=e.length,n=1,r=e[0],o=String(r).replace(ts,s=>{if("%%"===s)return"%";if(n>=t)return s;switch(s){case"%s":{let c=e[n++];return"bigint"==typeof c?`${c.toString()}n`:"number"==typeof c&&0===c&&1/c<0?"-0":"object"==typeof c&&null!==c?"function"==typeof c.toString&&c.toString!==Object.prototype.toString?c.toString():Te(c,{depth:0,colors:!1}):String(c)}case"%d":{let c=e[n++];return"bigint"==typeof c?`${c.toString()}n`:Number(c).toString()}case"%i":{let c=e[n++];return"bigint"==typeof c?`${c.toString()}n`:Number.parseInt(String(c)).toString()}case"%f":return Number.parseFloat(String(e[n++])).toString();case"%o":return Te(e[n++],{showHidden:!0,showProxy:!0});case"%O":return Te(e[n++]);case"%c":return n++,"";case"%j":try{return JSON.stringify(e[n++])}catch(c){let a=c.message;if(a.includes("circular structure")||a.includes("cyclic structures")||a.includes("cyclic object"))return"[Circular]";throw c}default:return s}});for(let s=e[n];n<t;s=e[++n])o+=null===s||"object"!=typeof s?` ${s}`:` ${Te(s)}`;return o}function Te(e,t={}){return 0===t.truncate&&(t.truncate=Number.POSITIVE_INFINITY),ke(e,t)}function Rn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ns(e){return e===Object.prototype||e===Function.prototype||e===RegExp.prototype}function Be(e){return Object.prototype.toString.apply(e).slice(8,-1)}function rs(e,t){let n="function"==typeof t?t:r=>t.add(r);Object.getOwnPropertyNames(e).forEach(n),Object.getOwnPropertySymbols(e).forEach(n)}function bt(e){let t=new Set;return ns(e)?[]:(rs(e,t),Array.from(t))}i(wn,"format"),i(Te,"inspect"),i(Rn,"getDefaultExportFromCjs"),i(ns,"isFinalObj"),i(Be,"getType"),i(rs,"collectOwnProperties"),i(bt,"getOwnProperties");var An={forceWritable:!1};function St(e,t=An){return yt(e,new WeakMap,t)}function yt(e,t,n=An){let r,o;if(t.has(e))return t.get(e);if(Array.isArray(e)){for(o=Array.from({length:r=e.length}),t.set(e,o);r--;)o[r]=yt(e[r],t,n);return o}if("[object Object]"===Object.prototype.toString.call(e)){o=Object.create(Object.getPrototypeOf(e)),t.set(e,o);let s=bt(e);for(let c of s){let a=Object.getOwnPropertyDescriptor(e,c);if(!a)continue;let u=yt(e[c],t,n);n.forceWritable?Object.defineProperty(o,c,{enumerable:a.enumerable,configurable:!0,writable:!0,value:u}):"get"in a?Object.defineProperty(o,c,{...a,get:()=>u}):Object.defineProperty(o,c,{...a,value:u})}return o}return e}i(St,"deepClone"),i(yt,"clone");var z=-1,At=class At{0;1;constructor(t,n){this[0]=t,this[1]=n}};i(At,"Diff");var P=At;function os(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;let n=0,r=Math.min(e.length,t.length),o=r,s=0;for(;n<o;)e.substring(s,o)===t.substring(s,o)?(n=o,s=n):r=o,o=Math.floor((r-n)/2+n);return o}function Vn(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;let n=0,r=Math.min(e.length,t.length),o=r,s=0;for(;n<o;)e.substring(e.length-o,e.length-s)===t.substring(t.length-o,t.length-s)?(n=o,s=n):r=o,o=Math.floor((r-n)/2+n);return o}function Pn(e,t){let n=e.length,r=t.length;if(0===n||0===r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));let o=Math.min(n,r);if(e===t)return o;let s=0,c=1;for(;;){let a=e.substring(o-c),u=t.indexOf(a);if(-1===u)return s;c+=u,(0===u||e.substring(o-c)===t.substring(0,c))&&(s=c,c++)}}function ss(e){let t=!1,n=[],r=0,o=null,s=0,c=0,a=0,u=0,m=0;for(;s<e.length;)0===e[s][0]?(n[r++]=s,c=u,a=m,u=0,m=0,o=e[s][1]):(1===e[s][0]?u+=e[s][1].length:m+=e[s][1].length,o&&o.length<=Math.max(c,a)&&o.length<=Math.max(u,m)&&(e.splice(n[r-1],0,new P(z,o)),e[n[r-1]+1][0]=1,r--,r--,s=r>0?n[r-1]:-1,c=0,a=0,u=0,m=0,o=null,t=!0)),s++;for(t&&qn(e),us(e),s=1;s<e.length;){if(e[s-1][0]===z&&1===e[s][0]){let p=e[s-1][1],l=e[s][1],b=Pn(p,l),g=Pn(l,p);b>=g?(b>=p.length/2||b>=l.length/2)&&(e.splice(s,0,new P(0,l.substring(0,b))),e[s-1][1]=p.substring(0,p.length-b),e[s+1][1]=l.substring(b),s++):(g>=p.length/2||g>=l.length/2)&&(e.splice(s,0,new P(0,p.substring(0,g))),e[s-1][0]=1,e[s-1][1]=l.substring(0,l.length-g),e[s+1][0]=z,e[s+1][1]=p.substring(g),s++),s++}s++}}i(os,"diff_commonPrefix"),i(Vn,"diff_commonSuffix"),i(Pn,"diff_commonOverlap_"),i(ss,"diff_cleanupSemantic");var Nn=/[^a-z0-9]/i,In=/\s/,Mn=/[\r\n]/,is=/\n\r?\n$/,cs=/^\r?\n\r?\n/;function us(e){let t=1;for(;t<e.length-1;){if(0===e[t-1][0]&&0===e[t+1][0]){let n=e[t-1][1],r=e[t][1],o=e[t+1][1],s=Vn(n,r);if(s){let p=r.substring(r.length-s);n=n.substring(0,n.length-s),r=p+r.substring(0,r.length-s),o=p+o}let c=n,a=r,u=o,m=ze(n,r)+ze(r,o);for(;r.charAt(0)===o.charAt(0);){n+=r.charAt(0),r=r.substring(1)+o.charAt(0),o=o.substring(1);let p=ze(n,r)+ze(r,o);p>=m&&(m=p,c=n,a=r,u=o)}e[t-1][1]!==c&&(c?e[t-1][1]=c:(e.splice(t-1,1),t--),e[t][1]=a,u?e[t+1][1]=u:(e.splice(t+1,1),t--))}t++}}function qn(e){e.push(new P(0,""));let c,t=0,n=0,r=0,o="",s="";for(;t<e.length;)switch(e[t][0]){case 1:r++,s+=e[t][1],t++;break;case z:n++,o+=e[t][1],t++;break;case 0:n+r>1?(0!==n&&0!==r&&(c=os(s,o),0!==c&&(t-n-r>0&&0===e[t-n-r-1][0]?e[t-n-r-1][1]+=s.substring(0,c):(e.splice(0,0,new P(0,s.substring(0,c))),t++),s=s.substring(c),o=o.substring(c)),c=Vn(s,o),0!==c&&(e[t][1]=s.substring(s.length-c)+e[t][1],s=s.substring(0,s.length-c),o=o.substring(0,o.length-c))),t-=n+r,e.splice(t,n+r),o.length&&(e.splice(t,0,new P(z,o)),t++),s.length&&(e.splice(t,0,new P(1,s)),t++),t++):0!==t&&0===e[t-1][0]?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,r=0,n=0,o="",s=""}""===e[e.length-1][1]&&e.pop();let a=!1;for(t=1;t<e.length-1;)0===e[t-1][0]&&0===e[t+1][0]&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)===e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),a=!0):e[t][1].substring(0,e[t+1][1].length)===e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),a=!0)),t++;a&&qn(e)}function ze(e,t){if(!e||!t)return 6;let n=e.charAt(e.length-1),r=t.charAt(0),o=n.match(Nn),s=r.match(Nn),c=o&&n.match(In),a=s&&r.match(In),u=c&&n.match(Mn),m=a&&r.match(Mn),p=u&&e.match(is),l=m&&t.match(cs);return p||l?5:u||m?4:o&&!c&&a?3:c||a?2:o||s?1:0}i(us,"diff_cleanupSemanticLossless"),i(qn,"diff_cleanupMerge"),i(ze,"diff_cleanupSemanticScore_");var Ln,Kn="Compared values have no visual difference.",Ye={};function ls(){if(Ln)return Ye;Ln=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=b;let e="diff-sequences",t=0,n=i((g,h,f,d,S)=>{let _=0;for(;g<h&&f<d&&S(g,f);)g+=1,f+=1,_+=1;return _},"countCommonItemsF"),r=i((g,h,f,d,S)=>{let _=0;for(;g<=h&&f<=d&&S(h,d);)h-=1,d-=1,_+=1;return _},"countCommonItemsR"),o=i((g,h,f,d,S,_,O)=>{let y=0,E=-g,$=_[y],T=$;_[y]+=n($+1,h,d+$-E+1,f,S);let R=g<O?g:O;for(y+=1,E+=2;y<=R;y+=1,E+=2){if(y!==g&&T<_[y])$=_[y];else if($=T+1,h<=$)return y-1;T=_[y],_[y]=$+n($+1,h,d+$-E+1,f,S)}return O},"extendPathsF"),s=i((g,h,f,d,S,_,O)=>{let y=0,E=g,$=_[y],T=$;_[y]-=r(h,$-1,f,d+$-E-1,S);let R=g<O?g:O;for(y+=1,E-=2;y<=R;y+=1,E-=2){if(y!==g&&_[y]<T)$=_[y];else if($=T-1,$<h)return y-1;T=_[y],_[y]=$-r(h,$-1,f,d+$-E-1,S)}return O},"extendPathsR"),c=i((g,h,f,d,S,_,O,y,E,$,T)=>{let R=d-h,I=S-d-(f-h),k=-I-(g-1),G=g-1-I,Y=t,N=g<y?g:y;for(let L=0,x=-g;L<=N;L+=1,x+=2){let H=0===L||L!==g&&Y<O[L],F=H?O[L]:Y,W=H?F:F+1,re=R+W-x,V=n(W+1,f,re+1,S,_),q=W+V;if(Y=O[L],O[L]=q,k<=x&&x<=G){let se=(g-1-(x+I))/2;if(se<=$&&E[se]-1<=q){let J=R+F-(H?x+1:x-1),U=r(h,F,d,J,_),ue=F-U+1,be=J-U+1;T.nChangePreceding=g-1,g-1===ue+be-h-d?(T.aEndPreceding=h,T.bEndPreceding=d):(T.aEndPreceding=ue,T.bEndPreceding=be),T.nCommonPreceding=U,0!==U&&(T.aCommonPreceding=ue,T.bCommonPreceding=be),T.nCommonFollowing=V,0!==V&&(T.aCommonFollowing=W+1,T.bCommonFollowing=re+1);let Ce=q+1,Oe=re+V+1;return T.nChangeFollowing=g-1,g-1===f+S-Ce-Oe?(T.aStartFollowing=f,T.bStartFollowing=S):(T.aStartFollowing=Ce,T.bStartFollowing=Oe),!0}}}return!1},"extendOverlappablePathsF"),a=i((g,h,f,d,S,_,O,y,E,$,T)=>{let R=S-f,I=S-d-(f-h),k=I-g,G=I+g,Y=t,N=g<$?g:$;for(let L=0,x=g;L<=N;L+=1,x-=2){let H=0===L||L!==g&&E[L]<Y,F=H?E[L]:Y,W=H?F:F-1,re=R+W-x,V=r(h,W-1,d,re-1,_),q=W-V;if(Y=E[L],E[L]=q,k<=x&&x<=G){let se=(g+(x-I))/2;if(se<=y&&q-1<=O[se]){let J=re-V;if(T.nChangePreceding=g,g===q+J-h-d?(T.aEndPreceding=h,T.bEndPreceding=d):(T.aEndPreceding=q,T.bEndPreceding=J),T.nCommonPreceding=V,0!==V&&(T.aCommonPreceding=q,T.bCommonPreceding=J),T.nChangeFollowing=g-1,1===g)T.nCommonFollowing=0,T.aStartFollowing=f,T.bStartFollowing=S;else{let U=R+F-(H?x-1:x+1),oe=n(F,f,U,S,_);T.nCommonFollowing=oe,0!==oe&&(T.aCommonFollowing=F,T.bCommonFollowing=U);let he=F+oe,ue=U+oe;g-1===f+S-he-ue?(T.aStartFollowing=f,T.bStartFollowing=S):(T.aStartFollowing=he,T.bStartFollowing=ue)}return!0}}}return!1},"extendOverlappablePathsR"),u=i((g,h,f,d,S,_,O,y,E)=>{let $=d-h,T=S-f,R=f-h,K=S-d,Q=K-R,I=R,k=R;if(O[0]=h-1,y[0]=f,Q%2==0){let G=(g||Q)/2,Y=(R+K)/2;for(let N=1;N<=Y;N+=1)if(I=o(N,f,S,$,_,O,I),N<G)k=s(N,h,d,T,_,y,k);else if(a(N,h,f,d,S,_,O,I,y,k,E))return}else{let G=((g||Q)+1)/2,Y=(R+K+1)/2,N=1;for(I=o(N,f,S,$,_,O,I),N+=1;N<=Y;N+=1)if(k=s(N-1,h,d,T,_,y,k),N<G)I=o(N,f,S,$,_,O,I);else if(c(N,h,f,d,S,_,O,I,y,k,E))return}throw new Error(`${e}: no overlap aStart=${h} aEnd=${f} bStart=${d} bEnd=${S}`)},"divide"),m=i((g,h,f,d,S,_,O,y,E,$)=>{if(S-d<f-h){if((_=!_)&&1===O.length){let{foundSubsequence:q,isCommon:se}=O[0];O[1]={foundSubsequence:i((J,U,oe)=>{q(J,oe,U)},"foundSubsequence"),isCommon:i((J,U)=>se(U,J),"isCommon")}}let re=h,V=f;h=d,f=S,d=re,S=V}let{foundSubsequence:T,isCommon:R}=O[_?1:0];u(g,h,f,d,S,R,y,E,$);let{nChangePreceding:K,aEndPreceding:Q,bEndPreceding:I,nCommonPreceding:k,aCommonPreceding:G,bCommonPreceding:Y,nCommonFollowing:N,aCommonFollowing:L,bCommonFollowing:x,nChangeFollowing:H,aStartFollowing:F,bStartFollowing:W}=$;h<Q&&d<I&&m(K,h,Q,d,I,_,O,y,E,$),0!==k&&T(k,G,Y),0!==N&&T(N,L,x),F<f&&W<S&&m(H,F,f,W,S,_,O,y,E,$)},"findSubsequences"),p=i((g,h)=>{if("number"!=typeof h)throw new TypeError(`${e}: ${g} typeof ${typeof h} is not a number`);if(!Number.isSafeInteger(h))throw new RangeError(`${e}: ${g} value ${h} is not a safe integer`);if(h<0)throw new RangeError(`${e}: ${g} value ${h} is a negative integer`)},"validateLength"),l=i((g,h)=>{let f=typeof h;if("function"!==f)throw new TypeError(`${e}: ${g} typeof ${f} is not a function`)},"validateCallback");function b(g,h,f,d){p("aLength",g),p("bLength",h),l("isCommon",f),l("foundSubsequence",d);let S=n(0,g,0,h,f);if(0!==S&&d(S,0,0),g!==S||h!==S){let _=S,O=S,y=r(_,g-1,O,h-1,f),E=g-y,$=h-y,T=S+y;g!==T&&h!==T&&m(0,_,E,O,$,!1,[{foundSubsequence:d,isCommon:f}],[t],[t],{aCommonFollowing:t,aCommonPreceding:t,aEndPreceding:t,aStartFollowing:t,bCommonFollowing:t,bCommonPreceding:t,bEndPreceding:t,bStartFollowing:t,nChangeFollowing:t,nChangePreceding:t,nCommonFollowing:t,nCommonPreceding:t}),0!==y&&d(y,E,$)}}return i(b,"diffSequence"),Ye}i(ls,"requireBuild");var Gn=Rn(ls());function ms(e,t){return e.replace(/\s+$/,n=>t(n))}function wt(e,t,n,r,o,s){return 0!==e.length?n(`${r} ${ms(e,o)}`):" "!==r?n(r):t&&0!==s.length?n(`${r} ${s}`):""}function Hn(e,t,{aColor:n,aIndicator:r,changeLineTrailingSpaceColor:o,emptyFirstOrLastLinePlaceholder:s}){return wt(e,t,n,r,o,s)}function Jn(e,t,{bColor:n,bIndicator:r,changeLineTrailingSpaceColor:o,emptyFirstOrLastLinePlaceholder:s}){return wt(e,t,n,r,o,s)}function Xn(e,t,{commonColor:n,commonIndicator:r,commonLineTrailingSpaceColor:o,emptyFirstOrLastLinePlaceholder:s}){return wt(e,t,n,r,o,s)}function xn(e,t,n,r,{patchColor:o}){return o(`@@ -${e+1},${t-e} +${n+1},${r-n} @@`)}function ps(e,t){let n=e.length,r=t.contextLines,o=r+r,s=n,c=!1,a=0,u=0;for(;u!==n;){let y=u;for(;u!==n&&0===e[u][0];)u+=1;if(y!==u)if(0===y)u>r&&(s-=u-r,c=!0);else if(u===n){let E=u-y;E>r&&(s-=E-r,c=!0)}else{let E=u-y;E>o&&(s-=E-o,a+=1)}for(;u!==n&&0!==e[u][0];)u+=1}let m=0!==a||c;0!==a?s+=a+1:c&&(s+=1);let p=s-1,l=[],b=0;m&&l.push("");let g=0,h=0,f=0,d=0,S=i(y=>{let E=l.length;l.push(Xn(y,0===E||E===p,t)),f+=1,d+=1},"pushCommonLine"),_=i(y=>{let E=l.length;l.push(Hn(y,0===E||E===p,t)),f+=1},"pushDeleteLine"),O=i(y=>{let E=l.length;l.push(Jn(y,0===E||E===p,t)),d+=1},"pushInsertLine");for(u=0;u!==n;){let y=u;for(;u!==n&&0===e[u][0];)u+=1;if(y!==u)if(0===y){u>r&&(y=u-r,g=y,h=y,f=g,d=h);for(let E=y;E!==u;E+=1)S(e[E][1])}else if(u===n){let E=u-y>r?y+r:u;for(let $=y;$!==E;$+=1)S(e[$][1])}else{let E=u-y;if(E>o){let $=y+r;for(let R=y;R!==$;R+=1)S(e[R][1]);l[b]=xn(g,f,h,d,t),b=l.length,l.push("");let T=E-o;g=f+T,h=d+T,f=g,d=h;for(let R=u-r;R!==u;R+=1)S(e[R][1])}else for(let $=y;$!==u;$+=1)S(e[$][1])}for(;u!==n&&e[u][0]===z;)_(e[u][1]),u+=1;for(;u!==n&&1===e[u][0];)O(e[u][1]),u+=1}return m&&(l[b]=xn(g,f,h,d,t)),l.join("\n")}function gs(e,t){return e.map((n,r,o)=>{let s=n[1],c=0===r||r===o.length-1;switch(n[0]){case z:return Hn(s,c,t);case 1:return Jn(s,c,t);default:return Xn(s,c,t)}}).join("\n")}i(ms,"formatTrailingSpaces"),i(wt,"printDiffLine"),i(Hn,"printDeleteLine"),i(Jn,"printInsertLine"),i(Xn,"printCommonLine"),i(xn,"createPatchMark"),i(ps,"joinAlignedDiffsNoExpand"),i(gs,"joinAlignedDiffsExpand");var Et=i(e=>e,"noColor");function ds(){return{aAnnotation:"Expected",aColor:v.green,aIndicator:"-",bAnnotation:"Received",bColor:v.red,bIndicator:"+",changeColor:v.inverse,changeLineTrailingSpaceColor:Et,commonColor:v.dim,commonIndicator:" ",commonLineTrailingSpaceColor:Et,compareKeys:void 0,contextLines:5,emptyFirstOrLastLinePlaceholder:"",expand:!1,includeChangeCounts:!1,omitAnnotationLines:!1,patchColor:v.yellow,printBasicPrototype:!1,truncateThreshold:0,truncateAnnotation:"... Diff result is truncated",truncateAnnotationColor:Et}}function ys(e){return e&&"function"==typeof e?e:void 0}function bs(e){return"number"==typeof e&&Number.isSafeInteger(e)&&e>=0?e:5}function ge(e={}){return{...ds(),...e,compareKeys:ys(e.compareKeys),contextLines:bs(e.contextLines)}}function ye(e){return 1===e.length&&0===e[0].length}function Ss(e){let t=0,n=0;return e.forEach(r=>{switch(r[0]){case z:t+=1;break;case 1:n+=1}}),{a:t,b:n}}function Es({aAnnotation:e,aColor:t,aIndicator:n,bAnnotation:r,bColor:o,bIndicator:s,includeChangeCounts:c,omitAnnotationLines:a},u){if(a)return"";let m="",p="";if(c){let g=String(u.a),h=String(u.b),f=r.length-e.length,d=" ".repeat(Math.max(0,f)),S=" ".repeat(Math.max(0,-f)),_=h.length-g.length;m=`${d}  ${n} ${" ".repeat(Math.max(0,_))}${g}`,p=`${S}  ${s} ${" ".repeat(Math.max(0,-_))}${h}`}let b=`${s} ${r}${p}`;return`${t(`${n} ${e}${m}`)}\n${o(b)}\n\n`}function Rt(e,t,n){return Es(n,Ss(e))+(n.expand?gs(e,n):ps(e,n))+(t?n.truncateAnnotationColor(`\n${n.truncateAnnotation}`):"")}function We(e,t,n){let r=ge(n),[o,s]=Qn(ye(e)?[]:e,ye(t)?[]:t,r);return Rt(o,s,r)}function _s(e,t,n,r,o){if(ye(e)&&ye(n)&&(e=[],n=[]),ye(t)&&ye(r)&&(t=[],r=[]),e.length!==n.length||t.length!==r.length)return We(e,t,o);let[s,c]=Qn(n,r,o),a=0,u=0;return s.forEach(m=>{switch(m[0]){case z:m[1]=e[a],a+=1;break;case 1:m[1]=t[u],u+=1;break;default:m[1]=t[u],a+=1,u+=1}}),Rt(s,c,ge(o))}function Qn(e,t,n){let r=n?.truncateThreshold??!1,o=Math.max(Math.floor(n?.truncateThreshold??0),0),s=r?Math.min(e.length,o):e.length,c=r?Math.min(t.length,o):t.length,a=s!==e.length||c!==t.length,m=[],p=0,l=0;for(Gn(s,c,i((g,h)=>e[g]===t[h],"isCommon"),i((g,h,f)=>{for(;p!==h;p+=1)m.push(new P(z,e[p]));for(;l!==f;l+=1)m.push(new P(1,t[l]));for(;0!==g;g-=1,p+=1,l+=1)m.push(new P(0,t[l]))},"foundSubsequence"));p!==s;p+=1)m.push(new P(z,e[p]));for(;l!==c;l+=1)m.push(new P(1,t[l]));return[m,a]}function Dn(e){if(void 0===e)return"undefined";if(null===e)return"null";if(Array.isArray(e))return"array";if("boolean"==typeof e)return"boolean";if("function"==typeof e)return"function";if("number"==typeof e)return"number";if("string"==typeof e)return"string";if("bigint"==typeof e)return"bigint";if("object"==typeof e){if(null!=e){if(e.constructor===RegExp)return"regexp";if(e.constructor===Map)return"map";if(e.constructor===Set)return"set";if(e.constructor===Date)return"date"}return"object"}if("symbol"==typeof e)return"symbol";throw new Error(`value of unknown type: ${e}`)}function Fn(e){return e.includes("\r\n")?"\r\n":"\n"}function Ts(e,t,n){let r=n?.truncateThreshold??!1,o=Math.max(Math.floor(n?.truncateThreshold??0),0),s=e.length,c=t.length;if(r){let g=e.includes("\n"),h=t.includes("\n"),f=Fn(e),d=Fn(t),S=g?`${e.split(f,o).join(f)}\n`:e,_=h?`${t.split(d,o).join(d)}\n`:t;s=S.length,c=_.length}let a=s!==e.length||c!==t.length,m=0,p=0,l=[];return Gn(s,c,i((g,h)=>e[g]===t[h],"isCommon"),i((g,h,f)=>{m!==h&&l.push(new P(z,e.slice(m,h))),p!==f&&l.push(new P(1,t.slice(p,f))),m=h+g,p=f+g,l.push(new P(0,t.slice(f,p)))},"foundSubsequence")),m!==s&&l.push(new P(z,e.slice(m))),p!==c&&l.push(new P(1,t.slice(p))),[l,a]}function Cs(e,t,n){return t.reduce((r,o)=>r+(0===o[0]?o[1]:o[0]===e&&0!==o[1].length?n(o[1]):""),"")}i(ds,"getDefaultOptions"),i(ys,"getCompareKeys"),i(bs,"getContextLines"),i(ge,"normalizeDiffOptions"),i(ye,"isEmptyString"),i(Ss,"countChanges"),i(Es,"printAnnotation"),i(Rt,"printDiffLines"),i(We,"diffLinesUnified"),i(_s,"diffLinesUnified2"),i(Qn,"diffLinesRaw"),i(Dn,"getType"),i(Fn,"getNewLineSymbol"),i(Ts,"diffStrings"),i(Cs,"concatenateRelevantDiffs");var Pt=class Pt{op;line;lines;changeColor;constructor(t,n){this.op=t,this.line=[],this.lines=[],this.changeColor=n}pushSubstring(t){this.pushDiff(new P(this.op,t))}pushLine(){this.lines.push(1!==this.line.length?new P(this.op,Cs(this.op,this.line,this.changeColor)):this.line[0][0]===this.op?this.line[0]:new P(this.op,this.line[0][1])),this.line.length=0}isLineEmpty(){return 0===this.line.length}pushDiff(t){this.line.push(t)}align(t){let n=t[1];if(n.includes("\n")){let r=n.split("\n"),o=r.length-1;r.forEach((s,c)=>{c<o?(this.pushSubstring(s),this.pushLine()):0!==s.length&&this.pushSubstring(s)})}else this.pushDiff(t)}moveLinesTo(t){this.isLineEmpty()||this.pushLine(),t.push(...this.lines),this.lines.length=0}};i(Pt,"ChangeBuffer");var Ue=Pt,Nt=class Nt{deleteBuffer;insertBuffer;lines;constructor(t,n){this.deleteBuffer=t,this.insertBuffer=n,this.lines=[]}pushDiffCommonLine(t){this.lines.push(t)}pushDiffChangeLines(t){let n=0===t[1].length;(!n||this.deleteBuffer.isLineEmpty())&&this.deleteBuffer.pushDiff(t),(!n||this.insertBuffer.isLineEmpty())&&this.insertBuffer.pushDiff(t)}flushChangeLines(){this.deleteBuffer.moveLinesTo(this.lines),this.insertBuffer.moveLinesTo(this.lines)}align(t){let n=t[0],r=t[1];if(r.includes("\n")){let o=r.split("\n"),s=o.length-1;o.forEach((c,a)=>{if(0===a){let u=new P(n,c);this.deleteBuffer.isLineEmpty()&&this.insertBuffer.isLineEmpty()?(this.flushChangeLines(),this.pushDiffCommonLine(u)):(this.pushDiffChangeLines(u),this.flushChangeLines())}else a<s?this.pushDiffCommonLine(new P(n,c)):0!==c.length&&this.pushDiffChangeLines(new P(n,c))})}else this.pushDiffChangeLines(t)}getLines(){return this.flushChangeLines(),this.lines}};i(Nt,"CommonBuffer");var Tt=Nt;function Os(e,t){let n=new Ue(z,t),r=new Ue(1,t),o=new Tt(n,r);return e.forEach(s=>{switch(s[0]){case z:n.align(s);break;case 1:r.align(s);break;default:o.align(s)}}),o.getLines()}function $s(e,t){if(t){let n=e.length-1;return e.some((r,o)=>0===r[0]&&(o!==n||"\n"!==r[1]))}return e.some(n=>0===n[0])}function ws(e,t,n){if(e!==t&&0!==e.length&&0!==t.length){let r=e.includes("\n")||t.includes("\n"),[o,s]=vn(r?`${e}\n`:e,r?`${t}\n`:t,!0,n);if($s(o,r)){let c=ge(n);return Rt(Os(o,c.changeColor),s,c)}}return We(e.split("\n"),t.split("\n"),n)}function vn(e,t,n,r){let[o,s]=Ts(e,t,r);return n&&ss(o),[o,s]}function Ct(e,t){let{commonColor:n}=ge(t);return n(e)}i(Os,"getAlignedDiffs"),i($s,"hasCommonDiff"),i(ws,"diffStringsUnified"),i(vn,"diffStringsRaw"),i(Ct,"getCommonMessage");var{AsymmetricMatcher:Rs,DOMCollection:As,DOMElement:Ps,Immutable:Ns,ReactElement:Is,ReactTestComponent:Ms}=_e,er=[Ms,Is,Ps,As,Ns,Rs,_e.Error],Ot={maxDepth:20,plugins:er},tr={callToJSON:!1,maxDepth:8,plugins:er};function Ls(e,t,n){if(Object.is(e,t))return"";let r=Dn(e),o=r,s=!1;if("object"===r&&"function"==typeof e.asymmetricMatch){if(e.$$typeof!==Symbol.for("jest.asymmetricMatcher")||"function"!=typeof e.getExpectedType)return;o=e.getExpectedType(),s="string"===o}if(o!==Dn(t)){let d=function(O){return O.length<=f?O:`${O.slice(0,f)}...`};i(d,"truncate");let{aAnnotation:c,aColor:a,aIndicator:u,bAnnotation:m,bColor:p,bIndicator:l}=ge(n),b=$t(tr,n),g=X(e,b),h=X(t,b),f=1e5;return g=d(g),h=d(h),`${`${a(`${u} ${c}:`)} \n${g}`}\n\n${`${p(`${l} ${m}:`)} \n${h}`}`}if(!s)switch(r){case"string":return We(e.split("\n"),t.split("\n"),n);case"boolean":case"number":return xs(e,t,n);case"map":return _t(jn(e),jn(t),n);case"set":return _t(kn(e),kn(t),n);default:return _t(e,t,n)}}function xs(e,t,n){let r=X(e,Ot),o=X(t,Ot);return r===o?"":We(r.split("\n"),o.split("\n"),n)}function jn(e){return new Map(Array.from(e.entries()).sort())}function kn(e){return new Set(Array.from(e.values()).sort())}function _t(e,t,n){let r,o=!1;try{r=Bn(e,t,$t(Ot,n),n)}catch{o=!0}let s=Ct(Kn,n);if(void 0===r||r===s){r=Bn(e,t,$t(tr,n),n),r!==s&&!o&&(r=`${Ct("Compared values serialize to the same structure.\nPrinting internal object structure without calling `toJSON` instead.",n)}\n\n${r}`)}return r}function $t(e,t){let{compareKeys:n,printBasicPrototype:r,maxDepth:o}=ge(t);return{...e,compareKeys:n,printBasicPrototype:r,maxDepth:o??e.maxDepth}}function Bn(e,t,n,r){let o={...n,indent:0},s=X(e,o),c=X(t,o);if(s===c)return Ct(Kn,r);{let a=X(e,n),u=X(t,n);return _s(a.split("\n"),u.split("\n"),s.split("\n"),c.split("\n"),r)}}i(Ls,"diff"),i(xs,"comparePrimitive"),i(jn,"sortMap"),i(kn,"sortSet"),i(_t,"compareObjects"),i($t,"getFormatOptions"),i(Bn,"getObjectsDifference");function Yn(e){return"Object"===Be(e)&&"function"==typeof e.asymmetricMatch}function Un(e,t){let n=Be(e);return n===Be(t)&&("Object"===n||"Array"===n)}function nr(e,t,n){let{aAnnotation:r,bAnnotation:o}=ge(n);if("string"==typeof t&&"string"==typeof e&&t.length>0&&e.length>0&&t.length<=2e4&&e.length<=2e4&&t!==e){if(t.includes("\n")||e.includes("\n"))return ws(t,e,n);let[p]=vn(t,e,!0),l=p.some(f=>0===f[0]),b=Ds(r,o);return`${b(r)+ks(Wn(p,z,l))}\n${b(o)+js(Wn(p,1,l))}`}let s=St(t,{forceWritable:!0}),c=St(e,{forceWritable:!0}),{replacedExpected:a,replacedActual:u}=rr(c,s);return Ls(a,u,n)}function rr(e,t,n=new WeakSet,r=new WeakSet){return e instanceof Error&&t instanceof Error&&typeof e.cause<"u"&&typeof t.cause>"u"?(delete e.cause,{replacedActual:e,replacedExpected:t}):Un(e,t)?(n.has(e)||r.has(t)||(n.add(e),r.add(t),bt(t).forEach(o=>{let s=t[o],c=e[o];if(Yn(s))s.asymmetricMatch(c)&&(e[o]=s);else if(Yn(c))c.asymmetricMatch(s)&&(t[o]=c);else if(Un(c,s)){let a=rr(c,s,n,r);e[o]=a.replacedActual,t[o]=a.replacedExpected}})),{replacedActual:e,replacedExpected:t}):{replacedActual:e,replacedExpected:t}}function Ds(...e){let t=e.reduce((n,r)=>r.length>n?r.length:n,0);return n=>`${n}: ${" ".repeat(t-n.length)}`}i(Yn,"isAsymmetricMatcher"),i(Un,"isReplaceable"),i(nr,"printDiffOrStringify"),i(rr,"replaceAsymmetricMatcher"),i(Ds,"getLabelPrinter");var Fs="·";function or(e){return e.replace(/\s+$/gm,t=>Fs.repeat(t.length))}function js(e){return v.red(or(pe(e)))}function ks(e){return v.green(or(pe(e)))}function Wn(e,t,n){return e.reduce((r,o)=>r+(0===o[0]?o[1]:o[0]===t?n?v.inverse(o[1]):o[1]:""),"")}i(or,"replaceTrailingSpaces"),i(js,"printReceived"),i(ks,"printExpected"),i(Wn,"getCommonAndChangedSubstrings");function Ys(e){return e&&(e["@@__IMMUTABLE_ITERABLE__@@"]||e["@@__IMMUTABLE_RECORD__@@"])}i(Ys,"isImmutable");var Us=Object.getPrototypeOf({});function sr(e){return e instanceof Error?`<unserializable>: ${e.message}`:"string"==typeof e?`<unserializable>: ${e}`:"<unserializable>"}function le(e,t=new WeakMap){if(!e||"string"==typeof e)return e;if(e instanceof Error&&"toJSON"in e&&"function"==typeof e.toJSON){let n=e.toJSON();return n&&n!==e&&"object"==typeof n&&("string"==typeof e.message&&Ve(()=>n.message??(n.message=e.message)),"string"==typeof e.stack&&Ve(()=>n.stack??(n.stack=e.stack)),"string"==typeof e.name&&Ve(()=>n.name??(n.name=e.name)),null!=e.cause&&Ve(()=>n.cause??(n.cause=le(e.cause,t)))),le(n,t)}if("function"==typeof e)return`Function<${e.name||"anonymous"}>`;if("symbol"==typeof e)return e.toString();if("object"!=typeof e)return e;if(typeof Buffer<"u"&&e instanceof Buffer)return`<Buffer(${e.length}) ...>`;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return`<Uint8Array(${e.length}) ...>`;if(Ys(e))return le(e.toJSON(),t);if(e instanceof Promise||e.constructor&&"AsyncFunction"===e.constructor.prototype)return"Promise";if(typeof Element<"u"&&e instanceof Element)return e.tagName;if("function"==typeof e.asymmetricMatch)return`${e.toString()} ${wn(e.sample)}`;if("function"==typeof e.toJSON)return le(e.toJSON(),t);if(t.has(e))return t.get(e);if(Array.isArray(e)){let n=new Array(e.length);return t.set(e,n),e.forEach((r,o)=>{try{n[o]=le(r,t)}catch(s){n[o]=sr(s)}}),n}{let n=Object.create(null);t.set(e,n);let r=e;for(;r&&r!==Us;)Object.getOwnPropertyNames(r).forEach(o=>{if(!(o in n))try{n[o]=le(e[o],t)}catch(s){delete n[o],n[o]=sr(s)}}),r=Object.getPrototypeOf(r);return n}}function Ve(e){try{return e()}catch{}}function Ws(e){return e.replace(/__(vite_ssr_import|vi_import)_\d+__\./g,"")}function It(e,t,n=new WeakSet){if(!e||"object"!=typeof e)return{message:String(e)};let r=e;(r.showDiff||void 0===r.showDiff&&void 0!==r.expected&&void 0!==r.actual)&&(r.diff=nr(r.actual,r.expected,{...t,...r.diffOptions})),"expected"in r&&"string"!=typeof r.expected&&(r.expected=pe(r.expected,10)),"actual"in r&&"string"!=typeof r.actual&&(r.actual=pe(r.actual,10));try{"string"==typeof r.message&&(r.message=Ws(r.message))}catch{}try{!n.has(r)&&"object"==typeof r.cause&&(n.add(r),r.cause=It(r.cause,t,n))}catch{}try{return le(r)}catch(o){return le(new Error(`Failed to fully serialize error: ${o?.message}\nInner error message: ${r?.message}`))}}i(sr,"getUnserializableMessage"),i(le,"serializeValue"),i(Ve,"safe"),i(Ws,"normalizeErrorMessage"),i(It,"processError");var ne_CALL="storybook/instrumenter/call",ne_SYNC="storybook/instrumenter/sync",ne_START="storybook/instrumenter/start",ne_BACK="storybook/instrumenter/back",ne_GOTO="storybook/instrumenter/goto",ne_NEXT="storybook/instrumenter/next",ne_END="storybook/instrumenter/end",qe=globalThis.__STORYBOOK_ADDONS_PREVIEW,Hs=new Error("This function ran after the play function completed. Did you forget to `await` it?"),cr=i(e=>"[object Object]"===Object.prototype.toString.call(e),"isObject"),Js=i(e=>"[object Module]"===Object.prototype.toString.call(e),"isModule"),Xs=i(e=>{if(!cr(e)&&!Js(e))return!1;if(void 0===e.constructor)return!0;let t=e.constructor.prototype;return!!cr(t)},"isInstrumentable"),Zs=i(e=>{try{return new e.constructor}catch{return{}}},"construct"),Mt=i(()=>({renderPhase:"preparing",isDebugging:!1,isPlaying:!1,isLocked:!1,cursor:0,calls:[],shadowCalls:[],callRefsByResult:new Map,chainedCallIds:new Set,ancestors:[],playUntil:void 0,resolvers:{},syncTimeout:void 0}),"getInitialState"),ur=i((e,t=!1)=>{let n=(t?e.shadowCalls:e.calls).filter(o=>o.retain);if(!n.length)return;let r=new Map(Array.from(e.callRefsByResult.entries()).filter(([,o])=>o.retain));return{cursor:n.length,calls:n,callRefsByResult:r}},"getRetainedState"),xt=class xt{constructor(){this.detached=!1,this.initialized=!1,this.state={},this.loadParentWindowState=i(()=>{try{this.state=external_STORYBOOK_MODULE_GLOBAL_.global.window?.parent?.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__||{}}catch{this.detached=!0}},"loadParentWindowState"),this.updateParentWindowState=i(()=>{try{external_STORYBOOK_MODULE_GLOBAL_.global.window.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__=this.state}catch{this.detached=!0}},"updateParentWindowState"),this.loadParentWindowState();let t=i(({storyId:u,renderPhase:m,isPlaying:p=!0,isDebugging:l=!1})=>{let b=this.getState(u);this.setState(u,{...Mt(),...ur(b,l),renderPhase:m||b.renderPhase,shadowCalls:l?b.shadowCalls:[],chainedCallIds:l?b.chainedCallIds:new Set,playUntil:l?b.playUntil:void 0,isPlaying:p,isDebugging:l}),this.sync(u)},"resetState"),n=i(u=>({storyId:m,playUntil:p})=>{this.getState(m).isDebugging||this.setState(m,({calls:b})=>({calls:[],shadowCalls:b.map(g=>({...g,status:"waiting"})),isDebugging:!0}));let l=this.getLog(m);this.setState(m,({shadowCalls:b})=>{if(p||!l.length)return{playUntil:p};let g=b.findIndex(h=>h.id===l[0].callId);return{playUntil:b.slice(0,g).filter(h=>h.interceptable&&!h.ancestors?.length).slice(-1)[0]?.id}}),u.emit(external_STORYBOOK_MODULE_CORE_EVENTS_.FORCE_REMOUNT,{storyId:m,isDebugging:!0})},"start"),r=i(u=>({storyId:m})=>{let p=this.getLog(m).filter(b=>!b.ancestors?.length),l=p.reduceRight((b,g,h)=>b>=0||"waiting"===g.status?b:h,-1);n(u)({storyId:m,playUntil:p[l-1]?.callId})},"back"),o=i(u=>({storyId:m,callId:p})=>{let{calls:l,shadowCalls:b,resolvers:g}=this.getState(m),h=l.find(({id:d})=>d===p),f=b.find(({id:d})=>d===p);if(!h&&f&&Object.values(g).length>0){let d=this.getLog(m).find(S=>"waiting"===S.status)?.callId;f.id!==d&&this.setState(m,{playUntil:f.id}),Object.values(g).forEach(S=>S())}else n(u)({storyId:m,playUntil:p})},"goto"),s=i(u=>({storyId:m})=>{let{resolvers:p}=this.getState(m);if(Object.values(p).length>0)Object.values(p).forEach(l=>l());else{let l=this.getLog(m).find(b=>"waiting"===b.status)?.callId;l?n(u)({storyId:m,playUntil:l}):c({storyId:m})}},"next"),c=i(({storyId:u})=>{this.setState(u,{playUntil:void 0,isDebugging:!1}),Object.values(this.getState(u).resolvers).forEach(m=>m())},"end"),a=i(({storyId:u,newPhase:m})=>{let{isDebugging:p}=this.getState(u);return"preparing"===m&&p?t({storyId:u,renderPhase:m}):"playing"===m?t({storyId:u,renderPhase:m,isDebugging:p}):("played"===m?this.setState(u,{renderPhase:m,isLocked:!1,isPlaying:!1,isDebugging:!1}):"errored"===m?this.setState(u,{renderPhase:m,isLocked:!1,isPlaying:!1}):"aborted"===m?this.setState(u,{renderPhase:m,isLocked:!0,isPlaying:!1}):this.setState(u,{renderPhase:m}),void this.sync(u))},"renderPhaseChanged");qe&&qe.ready().then(()=>{this.channel=qe.getChannel(),this.channel.on(external_STORYBOOK_MODULE_CORE_EVENTS_.FORCE_REMOUNT,t),this.channel.on(external_STORYBOOK_MODULE_CORE_EVENTS_.STORY_RENDER_PHASE_CHANGED,a),this.channel.on(external_STORYBOOK_MODULE_CORE_EVENTS_.SET_CURRENT_STORY,()=>{this.initialized?this.cleanup():this.initialized=!0}),this.channel.on(ne_START,n(this.channel)),this.channel.on(ne_BACK,r(this.channel)),this.channel.on(ne_GOTO,o(this.channel)),this.channel.on(ne_NEXT,s(this.channel)),this.channel.on(ne_END,c)})}getState(t){return this.state[t]||Mt()}setState(t,n){if(t){let r=this.getState(t),o="function"==typeof n?n(r):n;this.state={...this.state,[t]:{...r,...o}},this.updateParentWindowState()}}cleanup(){this.state=Object.entries(this.state).reduce((r,[o,s])=>{let c=ur(s);return c&&(r[o]=Object.assign(Mt(),c)),r},{});let n={controlStates:{detached:this.detached,start:!1,back:!1,goto:!1,next:!1,end:!1},logItems:[]};this.channel?.emit(ne_SYNC,n),this.updateParentWindowState()}getLog(t){let{calls:n,shadowCalls:r}=this.getState(t),o=[...r];n.forEach((c,a)=>{o[a]=c});let s=new Set;return o.reduceRight((c,a)=>(a.args.forEach(u=>{u?.__callId__&&s.add(u.__callId__)}),a.path.forEach(u=>{u.__callId__&&s.add(u.__callId__)}),(a.interceptable||a.exception)&&!s.has(a.id)&&(c.unshift({callId:a.id,status:a.status,ancestors:a.ancestors}),s.add(a.id)),c),[])}instrument(t,n,r=0){if(!Xs(t))return t;let{mutate:o=!1,path:s=[]}=n,c=n.getKeys?n.getKeys(t,r):Object.keys(t);return r+=1,c.reduce((a,u)=>{let m=vs(t,u);if("function"==typeof m?.get){if(m.configurable){let l=i(()=>m?.get?.bind(t)?.(),"getter");Object.defineProperty(a,u,{get:i(()=>this.instrument(l(),{...n,path:s.concat(u)},r),"get")})}return a}let p=t[u];return"function"!=typeof p?(a[u]=this.instrument(p,{...n,path:s.concat(u)},r),a):"__originalFn__"in p&&"function"==typeof p.__originalFn__?(a[u]=p,a):(a[u]=(...l)=>this.track(u,p,t,l,n),a[u].__originalFn__=p,Object.defineProperty(a[u],"name",{value:u,writable:!1}),Object.keys(p).length>0&&Object.assign(a[u],this.instrument({...p},{...n,path:s.concat(u)},r)),a)},o?t:Zs(t))}track(t,n,r,o,s){let c=o?.[0]?.__storyId__||external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_PREVIEW__?.selectionStore?.selection?.storyId,{cursor:a,ancestors:u}=this.getState(c);this.setState(c,{cursor:a+1});let m=`${u.slice(-1)[0]||c} [${a}] ${t}`,{path:p=[],intercept:l=!1,retain:b=!1}=s,g="function"==typeof l?l(t,p):l,h={id:m,cursor:a,storyId:c,ancestors:u,path:p,method:t,args:o,interceptable:g,retain:b},d=(g&&!u.length?this.intercept:this.invoke).call(this,n,r,h,s);return this.instrument(d,{...s,mutate:!0,path:[{__callId__:h.id}]})}intercept(t,n,r,o){let{chainedCallIds:s,isDebugging:c,playUntil:a}=this.getState(r.storyId),u=s.has(r.id);return!c||u||a?(a===r.id&&this.setState(r.storyId,{playUntil:void 0}),this.invoke(t,n,r,o)):new Promise(m=>{this.setState(r.storyId,({resolvers:p})=>({isLocked:!1,resolvers:{...p,[r.id]:m}}))}).then(()=>(this.setState(r.storyId,m=>{let{[r.id]:p,...l}=m.resolvers;return{isLocked:!0,resolvers:l}}),this.invoke(t,n,r,o)))}invoke(t,n,r,o){let{callRefsByResult:s,renderPhase:c}=this.getState(r.storyId),u=i((l,b,g)=>{if(g.includes(l))return"[Circular]";if(g=[...g,l],b>25)return"...";if(s.has(l))return s.get(l);if(l instanceof Array)return l.map(h=>u(h,++b,g));if(l instanceof Date)return{__date__:{value:l.toISOString()}};if(l instanceof Error){let{name:h,message:f,stack:d}=l;return{__error__:{name:h,message:f,stack:d}}}if(l instanceof RegExp){let{flags:h,source:f}=l;return{__regexp__:{flags:h,source:f}}}if(l instanceof external_STORYBOOK_MODULE_GLOBAL_.global.window?.HTMLElement){let{prefix:h,localName:f,id:d,classList:S,innerText:_}=l;return{__element__:{prefix:h,localName:f,id:d,classNames:Array.from(S),innerText:_}}}return"function"==typeof l?{__function__:{name:"getMockName"in l?l.getMockName():l.name}}:"symbol"==typeof l?{__symbol__:{description:l.description}}:"object"==typeof l&&l?.constructor?.name&&"Object"!==l?.constructor?.name?{__class__:{name:l.constructor.name}}:"[object Object]"===Object.prototype.toString.call(l)?Object.fromEntries(Object.entries(l).map(([h,f])=>[h,u(f,++b,g)])):l},"serializeValues"),m={...r,args:r.args.map(l=>u(l,0,[]))};r.path.forEach(l=>{l?.__callId__&&this.setState(r.storyId,({chainedCallIds:b})=>({chainedCallIds:new Set(Array.from(b).concat(l.__callId__))}))});let p=i(l=>{if(l instanceof Error){let{name:b,message:g,stack:h,callId:f=r.id}=l,{showDiff:d,diff:S,actual:_,expected:O}="AssertionError"===l.name?It(l):l,y={name:b,message:g,stack:h,callId:f,showDiff:d,diff:S,actual:_,expected:O};if(this.update({...m,status:"error",exception:y}),this.setState(r.storyId,E=>({callRefsByResult:new Map([...Array.from(E.callRefsByResult.entries()),[l,{__callId__:r.id,retain:r.retain}]])})),r.ancestors?.length)throw Object.prototype.hasOwnProperty.call(l,"callId")||Object.defineProperty(l,"callId",{value:r.id}),l}throw l},"handleException");try{if("played"===c&&!r.retain)throw Hs;let b=(o.getArgs?o.getArgs(r,this.getState(r.storyId)):r.args).map(h=>"function"!=typeof h||ei(h)||Object.keys(h).length?h:(...f)=>{let{cursor:d,ancestors:S}=this.getState(r.storyId);this.setState(r.storyId,{cursor:0,ancestors:[...S,r.id]});let _=i(()=>this.setState(r.storyId,{cursor:d,ancestors:S}),"restore"),O=!1;try{let y=h(...f);return y instanceof Promise?(O=!0,y.finally(_)):y}finally{O||_()}}),g=t.apply(n,b);return g&&["object","function","symbol"].includes(typeof g)&&this.setState(r.storyId,h=>({callRefsByResult:new Map([...Array.from(h.callRefsByResult.entries()),[g,{__callId__:r.id,retain:r.retain}]])})),this.update({...m,status:g instanceof Promise?"active":"done"}),g instanceof Promise?g.then(h=>(this.update({...m,status:"done"}),h),p):g}catch(l){return p(l)}}update(t){this.channel?.emit(ne_CALL,t),this.setState(t.storyId,({calls:n})=>{let r=n.concat(t).reduce((o,s)=>Object.assign(o,{[s.id]:s}),{});return{calls:Object.values(r).sort((o,s)=>o.id.localeCompare(s.id,void 0,{numeric:!0}))}}),this.sync(t.storyId)}sync(t){let n=i(()=>{let{isLocked:r,isPlaying:o}=this.getState(t),s=this.getLog(t),c=s.filter(({ancestors:l})=>!l.length).find(l=>"waiting"===l.status)?.callId,a=s.some(l=>"active"===l.status);if(this.detached||r||a||0===s.length){let b={controlStates:{detached:this.detached,start:!1,back:!1,goto:!1,next:!1,end:!1},logItems:s};return void this.channel?.emit(ne_SYNC,b)}let u=s.some(l=>"done"===l.status||"error"===l.status),p={controlStates:{detached:this.detached,start:u,back:u,goto:!0,next:o,end:o},logItems:s,pausedAt:c};this.channel?.emit(ne_SYNC,p)},"synchronize");this.setState(t,({syncTimeout:r})=>(clearTimeout(r),{syncTimeout:setTimeout(n,0)}))}};i(xt,"Instrumenter");var Lt=xt;function Qs(e,t={}){try{let n=!1,r=!1;return external_STORYBOOK_MODULE_GLOBAL_.global.window?.location?.search?.includes("instrument=true")?n=!0:external_STORYBOOK_MODULE_GLOBAL_.global.window?.location?.search?.includes("instrument=false")&&(r=!0),external_STORYBOOK_MODULE_GLOBAL_.global.window?.parent===external_STORYBOOK_MODULE_GLOBAL_.global.window&&!n||r?e:(external_STORYBOOK_MODULE_GLOBAL_.global.window&&!external_STORYBOOK_MODULE_GLOBAL_.global.window.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__&&(external_STORYBOOK_MODULE_GLOBAL_.global.window.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__=new Lt),(external_STORYBOOK_MODULE_GLOBAL_.global.window?.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__).instrument(e,t))}catch(n){return external_STORYBOOK_MODULE_CLIENT_LOGGER_.once.warn(n),e}}function vs(e,t){let n=e;for(;null!=n;){let r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ei(e){if("function"!=typeof e)return!1;let t=Object.getOwnPropertyDescriptor(e,"prototype");return!!t&&!t.writable}i(Qs,"instrument"),i(vs,"getPropertyDescriptor"),i(ei,"isClass");var e,t,csf_Br=Object.create,csf_ce=Object.defineProperty,csf_zr=Object.getOwnPropertyDescriptor,csf_Ur=Object.getOwnPropertyNames,csf_Gr=Object.getPrototypeOf,csf_Wr=Object.prototype.hasOwnProperty,n=(e,t)=>csf_ce(e,"name",{value:t,configurable:!0}),csf_xt=(e,t)=>{for(var r in t)csf_ce(e,r,{get:t[r],enumerable:!0})},csf_Tt=(e=Ee=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.isEqual=function(){var e=Object.prototype.toString,t=Object.getPrototypeOf,r=Object.getOwnPropertySymbols?function(o){return Object.keys(o).concat(Object.getOwnPropertySymbols(o))}:Object.keys;return function(o,i){return n(function s(a,p,c){var l,y,u,h=e.call(a),T=e.call(p);if(a===p)return!0;if(null==a||null==p)return!1;if(c.indexOf(a)>-1&&c.indexOf(p)>-1)return!0;if(c.push(a,p),h!=T||(l=r(a),y=r(p),l.length!=y.length||l.some(function(R){return!s(a[R],p[R],c)})))return!1;switch(h.slice(8,-1)){case"Symbol":return a.valueOf()==p.valueOf();case"Date":case"Number":return+a==+p||+a!=+a&&+p!=+p;case"RegExp":case"Function":case"String":case"Boolean":return""+a==""+p;case"Set":case"Map":l=a.entries(),y=p.entries();do{if(!s((u=l.next()).value,y.next().value,c))return!1}while(!u.done);return!0;case"ArrayBuffer":a=new Uint8Array(a),p=new Uint8Array(p);case"DataView":a=new Uint8Array(a.buffer),p=new Uint8Array(p.buffer);case"Float32Array":case"Float64Array":case"Int8Array":case"Int16Array":case"Int32Array":case"Uint8Array":case"Uint16Array":case"Uint32Array":case"Uint8ClampedArray":case"Arguments":case"Array":if(a.length!=p.length)return!1;for(u=0;u<a.length;u++)if((u in a||u in p)&&(u in a!=u in p||!s(a[u],p[u],c)))return!1;return!0;case"Object":return s(t(a),t(p),c);default:return!1}},"n")(o,i,[])}}()},()=>(t||e((t={exports:{}}).exports,t),t.exports));function csf_bt(e){return e.replace(/_/g," ").replace(/-/g," ").replace(/\./g," ").replace(/([^\n])([A-Z])([a-z])/g,(t,r,o,i)=>`${r} ${o}${i}`).replace(/([a-z])([A-Z])/g,(t,r,o)=>`${r} ${o}`).replace(/([a-z])([0-9])/gi,(t,r,o)=>`${r} ${o}`).replace(/([0-9])([a-z])/gi,(t,r,o)=>`${r} ${o}`).replace(/(\s|^)(\w)/g,(t,r,o)=>`${r}${o.toUpperCase()}`).replace(/ +/g," ").trim()}n(csf_bt,"toStartCaseStr");var Ce=((e,t,r)=>(r=null!=e?csf_Br(csf_Gr(e)):{},((e,t,r,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of csf_Ur(t))!csf_Wr.call(e,i)&&i!==r&&csf_ce(e,i,{get:()=>t[i],enumerable:!(o=csf_zr(t,i))||o.enumerable});return e})(!t&&e&&e.__esModule?r:csf_ce(r,"default",{value:e,enumerable:!0}),e)))(csf_Tt(),1),csf_St=n(e=>e.map(t=>typeof t<"u").filter(Boolean).length,"count"),csf_qr=n((e,t)=>{let{exists:r,eq:o,neq:i,truthy:s}=e;if(csf_St([r,o,i,s])>1)throw new Error(`Invalid conditional test ${JSON.stringify({exists:r,eq:o,neq:i})}`);if(typeof o<"u")return(0,Ce.isEqual)(t,o);if(typeof i<"u")return!(0,Ce.isEqual)(t,i);if(typeof r<"u"){let p=typeof t<"u";return r?p:!p}return typeof s>"u"||s?!!t:!t},"testValue"),csf_Xr=n((e,t,r)=>{if(!e.if)return!0;let{arg:o,global:i}=e.if;if(1!==csf_St([o,i]))throw new Error(`Invalid conditional value ${JSON.stringify({arg:o,global:i})}`);let s=o?t[o]:r[i];return csf_qr(e.if,s)},"includeConditionalArg");function csf_At(){let e={setHandler:n(()=>{},"setHandler"),send:n(()=>{},"send")};return new external_STORYBOOK_MODULE_CHANNELS_.Channel({transport:e})}n(csf_At,"mockChannel");var csf_Me=class Me{constructor(){this.getChannel=n(()=>{if(!this.channel){let t=csf_At();return this.setChannel(t),t}return this.channel},"getChannel"),this.ready=n(()=>this.promise,"ready"),this.hasChannel=n(()=>!!this.channel,"hasChannel"),this.setChannel=n(t=>{this.channel=t,this.resolve()},"setChannel"),this.promise=new Promise(t=>{this.resolve=()=>t(this.getChannel())})}};n(csf_Me,"AddonStore");var csf_Pe=csf_Me,csf_ke="__STORYBOOK_ADDONS_PREVIEW";function csf_Jr(){return external_STORYBOOK_MODULE_GLOBAL_.global[csf_ke]||(external_STORYBOOK_MODULE_GLOBAL_.global[csf_ke]=new csf_Pe),external_STORYBOOK_MODULE_GLOBAL_.global[csf_ke]}n(csf_Jr,"getAddonsStore");var Oe=csf_Jr(),csf_Ie=class Ie{constructor(){this.hookListsMap=void 0,this.mountedDecorators=void 0,this.prevMountedDecorators=void 0,this.currentHooks=void 0,this.nextHookIndex=void 0,this.currentPhase=void 0,this.currentEffects=void 0,this.prevEffects=void 0,this.currentDecoratorName=void 0,this.hasUpdates=void 0,this.currentContext=void 0,this.renderListener=n(t=>{t===this.currentContext?.id&&(this.triggerEffects(),this.currentContext=null,this.removeRenderListeners())},"renderListener"),this.init()}init(){this.hookListsMap=new WeakMap,this.mountedDecorators=new Set,this.prevMountedDecorators=new Set,this.currentHooks=[],this.nextHookIndex=0,this.currentPhase="NONE",this.currentEffects=[],this.prevEffects=[],this.currentDecoratorName=null,this.hasUpdates=!1,this.currentContext=null}clean(){this.prevEffects.forEach(t=>{t.destroy&&t.destroy()}),this.init(),this.removeRenderListeners()}getNextHook(){let t=this.currentHooks[this.nextHookIndex];return this.nextHookIndex+=1,t}triggerEffects(){this.prevEffects.forEach(t=>{!this.currentEffects.includes(t)&&t.destroy&&t.destroy()}),this.currentEffects.forEach(t=>{this.prevEffects.includes(t)||(t.destroy=t.create())}),this.prevEffects=this.currentEffects,this.currentEffects=[]}addRenderListeners(){this.removeRenderListeners(),Oe.getChannel().on(external_STORYBOOK_MODULE_CORE_EVENTS_.STORY_RENDERED,this.renderListener)}removeRenderListeners(){Oe.getChannel().removeListener(external_STORYBOOK_MODULE_CORE_EVENTS_.STORY_RENDERED,this.renderListener)}};n(csf_Ie,"HooksContext");var csf_de=csf_Ie;function csf_wt(e){let t=n((...r)=>{let{hooks:o}="function"==typeof r[0]?r[1]:r[0],i=o.currentPhase,s=o.currentHooks,a=o.nextHookIndex,p=o.currentDecoratorName;o.currentDecoratorName=e.name,o.prevMountedDecorators.has(e)?(o.currentPhase="UPDATE",o.currentHooks=o.hookListsMap.get(e)||[]):(o.currentPhase="MOUNT",o.currentHooks=[],o.hookListsMap.set(e,o.currentHooks),o.prevMountedDecorators.add(e)),o.nextHookIndex=0;let c=external_STORYBOOK_MODULE_GLOBAL_.global.STORYBOOK_HOOKS_CONTEXT;external_STORYBOOK_MODULE_GLOBAL_.global.STORYBOOK_HOOKS_CONTEXT=o;let l=e(...r);if(external_STORYBOOK_MODULE_GLOBAL_.global.STORYBOOK_HOOKS_CONTEXT=c,"UPDATE"===o.currentPhase&&null!=o.getNextHook())throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return o.currentPhase=i,o.currentHooks=s,o.nextHookIndex=a,o.currentDecoratorName=p,l},"hookified");return t.originalFn=e,t}n(csf_wt,"hookify");var csf_Fe=0,csf_Et=n(e=>(t,r)=>{let o=e(csf_wt(t),r.map(i=>csf_wt(i)));return i=>{let{hooks:s}=i;s.prevMountedDecorators??=new Set,s.mountedDecorators=new Set([t,...r]),s.currentContext=i,s.hasUpdates=!1;let a=o(i);for(csf_Fe=1;s.hasUpdates;)if(s.hasUpdates=!1,s.currentEffects=[],a=o(i),(csf_Fe+=1)>25)throw new Error("Too many re-renders. Storybook limits the number of renders to prevent an infinite loop.");return s.addRenderListeners(),a}},"applyHooks");function csf_ee(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function U(e,t){let r={},o=Object.keys(e);for(let i=0;i<o.length;i++){let s=o[i],a=e[s];r[s]=t(a,s,e)}return r}function csf_Le(e,t){let r={},o=Object.keys(e);for(let i=0;i<o.length;i++){let s=o[i],a=e[s];t(a,s)&&(r[s]=a)}return r}function W(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=Array.from("string"==typeof e?[e]:e);o[o.length-1]=o[o.length-1].replace(/\r?\n([\t ]*)$/,"");var i=o.reduce(function(p,c){var l=c.match(/\n([\t ]+|(?!\s).)/g);return l?p.concat(l.map(function(y){var u,h;return null!==(h=null===(u=y.match(/[\t ]/g))||void 0===u?void 0:u.length)&&void 0!==h?h:0})):p},[]);if(i.length){var s=new RegExp("\n[\t ]{"+Math.min.apply(Math,i)+"}","g");o=o.map(function(p){return p.replace(s,"\n")})}o[0]=o[0].replace(/^\r?\n/,"");var a=o[0];return t.forEach(function(p,c){var l=a.match(/(?:^|\n)( *)$/),y=l?l[1]:"",u=p;"string"==typeof p&&p.includes("\n")&&(u=String(p).split("\n").map(function(h,T){return 0===T?h:""+y+h}).join("\n")),a+=u+o[c+1]}),a}n(csf_ee,"isPlainObject"),n(U,"mapValues"),n(csf_Le,"pickBy"),n(W,"dedent");Symbol("incompatible"),Symbol("Deeply equal");var csf_De="UNTARGETED";function csf_Ct({args:e,argTypes:t}){let r={};return Object.entries(e).forEach(([o,i])=>{let{target:s=csf_De}=t[o]||{};r[s]=r[s]||{},r[s][o]=i}),r}n(csf_Ct,"groupArgsByTarget");var csf_vt=n((e={})=>Object.entries(e).reduce((t,[r,{defaultValue:o}])=>(typeof o<"u"&&(t[r]=o),t),{}),"getValuesFromArgTypes"),csf_eo=n(e=>"string"==typeof e?{name:e}:e,"normalizeType"),csf_to=n(e=>"string"==typeof e?{type:e}:e,"normalizeControl"),csf_ro=n((e,t)=>{let{type:r,control:o,...i}=e,s={name:t,...i};return r&&(s.type=csf_eo(r)),o?s.control=csf_to(o):!1===o&&(s.control={disable:!0}),s},"normalizeInputType"),K=n(e=>U(e,csf_ro),"normalizeInputTypes"),b=n(e=>Array.isArray(e)?e:e?[e]:[],"normalizeArrays"),csf_ao=W`
CSF .story annotations deprecated; annotate story functions directly:
- StoryFn.story.name => StoryFn.storyName
- StoryFn.story.(parameters|decorators) => StoryFn.(parameters|decorators)
See https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#hoisted-csf-annotations for details and codemod.
`;function csf_e(e,t,r){let o=t,i="function"==typeof t?t:null,{story:s}=o;s&&(external_STORYBOOK_MODULE_CLIENT_LOGGER_.logger.debug("deprecated story",s),(0,external_STORYBOOK_MODULE_CLIENT_LOGGER_.deprecate)(csf_ao));let a=cc(e),p="function"!=typeof o&&o.name||o.storyName||s?.name||a,c=[...b(o.decorators),...b(s?.decorators)],l={...s?.parameters,...o.parameters},y={...s?.args,...o.args},u={...s?.argTypes,...o.argTypes},h=[...b(o.loaders),...b(s?.loaders)],T=[...b(o.beforeEach),...b(s?.beforeEach)],R=[...b(o.afterEach),...b(s?.afterEach)],{render:P,play:L,tags:O=[],globals:F={}}=o;return{moduleExport:t,id:l.__id||lc(r.id,a),name:p,tags:O,decorators:c,parameters:l,args:y,argTypes:K(u),loaders:h,beforeEach:T,afterEach:R,globals:F,...P&&{render:P},...i&&{userStoryFn:i},...L&&{play:L}}}function csf_kt(e,t=e.title,r){let{id:o,argTypes:i}=e;return{id:csf_jn(o||t),...e,title:t,...i&&{argTypes:K(i)},parameters:{fileName:r,...e.parameters}}}function csf_Ot(e){return null!=e&&csf_lo(e).includes("mount")}function csf_lo(e){let t=e.toString().match(/[^(]*\(([^)]*)/);if(!t)return[];let r=csf_Pt(t[1]);if(!r.length)return[];let o=r[0];return o.startsWith("{")&&o.endsWith("}")?csf_Pt(o.slice(1,-1).replace(/\s/g,"")).map(s=>s.replace(/:.*|=.*/g,"")):[]}function csf_Pt(e){let t=[],r=[],o=0;for(let s=0;s<e.length;s++)if("{"===e[s]||"["===e[s])r.push("{"===e[s]?"}":"]");else if(e[s]===r[r.length-1])r.pop();else if(!r.length&&","===e[s]){let a=e.substring(o,s).trim();a&&t.push(a),o=s+1}let i=e.substring(o).trim();return i&&t.push(i),t}function csf_Mt(e,t,r){let o=r(e);return i=>t(o,i)}function csf_$t({componentId:e,title:t,kind:r,id:o,name:i,story:s,parameters:a,initialArgs:p,argTypes:c,...l}={}){return l}function csf_He(e,t){let r={},o=n(s=>a=>{if(!r.value)throw new Error("Decorated function called without init");return r.value={...r.value,...csf_$t(a)},s(r.value)},"bindWithContext"),i=t.reduce((s,a)=>csf_Mt(s,a,o),e);return s=>(r.value=s,i(s))}n(csf_e,"normalizeStory"),n(csf_kt,"normalizeComponentAnnotations"),n(csf_Ot,"mountDestructured"),n(csf_lo,"getUsedProps"),n(csf_Pt,"splitByComma"),n(csf_Mt,"decorateStory"),n(csf_$t,"sanitizeStoryContextUpdate"),n(csf_He,"defaultDecorateStory");var csf_D=n((...e)=>{let t={},r=e.filter(Boolean),o=r.reduce((i,s)=>(Object.entries(s).forEach(([a,p])=>{let c=i[a];Array.isArray(p)||typeof c>"u"?i[a]=p:csf_ee(p)&&csf_ee(c)?t[a]=!0:typeof p<"u"&&(i[a]=p)}),i),{});return Object.keys(t).forEach(i=>{let s=r.filter(Boolean).map(a=>a[i]).filter(a=>typeof a<"u");s.every(a=>csf_ee(a))?o[i]=csf_D(...s):o[i]=s[s.length-1]}),o},"combineParameters");function csf_Ne(e,t,r){let{moduleExport:o,id:i,name:s}=e||{},a=csf_go(e,t,r),p=n(function(){var _ref=(0,asyncToGenerator.A)(function*(w){let d={};for(let m of[b(r.loaders),b(t.loaders),b(e.loaders)]){if(w.abortSignal.aborted)return d;let f=yield Promise.all(m.map(x=>x(w)));Object.assign(d,...f)}return d});return function(_x){return _ref.apply(this,arguments)}}(),"applyLoaders"),c=n(function(){var _ref2=(0,asyncToGenerator.A)(function*(w){let d=new Array;for(let m of[...b(r.beforeEach),...b(t.beforeEach),...b(e.beforeEach)]){if(w.abortSignal.aborted)return d;let f=yield m(w);f&&d.push(f)}return d});return function(_x2){return _ref2.apply(this,arguments)}}(),"applyBeforeEach"),l=n(function(){var _ref3=(0,asyncToGenerator.A)(function*(w){let d=[...b(r.afterEach),...b(t.afterEach),...b(e.afterEach)].reverse();for(let m of d){if(w.abortSignal.aborted)return;yield m(w)}});return function(_x3){return _ref3.apply(this,arguments)}}(),"applyAfterEach"),y=n(w=>w.originalStoryFn(w.args,w),"undecoratedStoryFn"),{applyDecorators:u=csf_He,runStep:h}=r,T=[...b(e?.decorators),...b(t?.decorators),...b(r?.decorators)],R=e?.userStoryFn||e?.render||t.render||r.render,P=csf_Et(u)(y,T),L=n(w=>P(w),"unboundStoryFn"),O=e?.play??t?.play,F=csf_Ot(O);if(!R&&!F)throw new external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_.NoRenderFunctionError({id:i});let A=n(w=>(0,asyncToGenerator.A)(function*(){return yield w.renderToCanvas(),w.canvas}),"defaultMount");return{storyGlobals:{},...a,moduleExport:o,id:i,name:s,story:s,originalStoryFn:R,undecoratedStoryFn:y,unboundStoryFn:L,applyLoaders:p,applyBeforeEach:c,applyAfterEach:l,playFunction:O,runStep:h,mount:e.mount??t.mount??r.mount??A,testingLibraryRender:r.testingLibraryRender,renderToCanvas:r.renderToCanvas,usesMount:F}}function csf_go(e,t,r){let i=!0===external_STORYBOOK_MODULE_GLOBAL_.global.DOCS_OPTIONS?.autodocs?["autodocs"]:[],s=uc("dev","test",...i,...r.tags??[],...t.tags??[],...e?.tags??[]),a=csf_D(r.parameters,t.parameters,e?.parameters),{argTypesEnhancers:p=[],argsEnhancers:c=[]}=r,l=csf_D(r.argTypes,t.argTypes,e?.argTypes);if(e){let O=e?.userStoryFn||e?.render||t.render||r.render;a.__isArgsStory=O&&O.length>0}let y={...r.args,...t.args,...e?.args},u={...t.globals,...e?.globals},h={componentId:t.id,title:t.title,kind:t.title,id:e?.id||t.id,name:e?.name||"__meta",story:e?.name||"__meta",component:t.component,subcomponents:t.subcomponents,tags:s,parameters:a,initialArgs:y,argTypes:l,storyGlobals:u};h.argTypes=p.reduce((O,F)=>F({...h,argTypes:O}),h.argTypes);let T={...y};h.initialArgs=[...c].reduce((O,F)=>({...O,...F({...h,initialArgs:O})}),T);let{name:R,story:P,...L}=h;return L}function csf_Ft(e){let{args:t}=e,r={...e,allArgs:void 0,argsByTarget:void 0};if(external_STORYBOOK_MODULE_GLOBAL_.global.FEATURES?.argTypeTargetsV7){let s=csf_Ct(e);r={...e,allArgs:e.args,argsByTarget:s,args:s[csf_De]||{}}}let o=Object.entries(r.args).reduce((s,[a,p])=>{if(!r.argTypes[a]?.mapping)return s[a]=p,s;let c=n(l=>{let y=r.argTypes[a].mapping;return y&&l in y?y[l]:l},"mappingFn");return s[a]=Array.isArray(p)?p.map(c):c(p),s},{}),i=Object.entries(o).reduce((s,[a,p])=>{let c=r.argTypes[a]||{};return csf_Xr(c,o,r.globals)&&(s[a]=p),s},{});return{...r,unmappedArgs:t,args:i}}n(csf_Ne,"prepareStory"),n(csf_go,"preparePartialAnnotations"),n(csf_Ft,"prepareContext");var csf_je=n((e,t,r)=>{let o=typeof e;switch(o){case"boolean":case"string":case"number":case"function":case"symbol":return{name:o}}return e?r.has(e)?(external_STORYBOOK_MODULE_CLIENT_LOGGER_.logger.warn(W`
        We've detected a cycle in arg '${t}'. Args should be JSON-serializable.

        Consider using the mapping feature or fully custom args:
        - Mapping: https://storybook.js.org/docs/writing-stories/args#mapping-to-complex-arg-values
        - Custom args: https://storybook.js.org/docs/essentials/controls#fully-custom-args
      `),{name:"other",value:"cyclic object"}):(r.add(e),Array.isArray(e)?{name:"array",value:e.length>0?csf_je(e[0],t,new Set(r)):{name:"other",value:"unknown"}}:{name:"object",value:U(e,s=>csf_je(s,t,new Set(r)))}):{name:"object",value:{}}},"inferType"),csf_Be=n(e=>{let{id:t,argTypes:r={},initialArgs:o={}}=e,i=U(o,(a,p)=>({name:p,type:csf_je(a,`${t}.${p}`,new Set)})),s=U(r,(a,p)=>({name:p}));return csf_D(i,s,r)},"inferArgTypes");csf_Be.secondPass=!0;var csf_It=n((e,t)=>Array.isArray(t)?t.includes(e):e.match(t),"matches"),csf_ze=n((e,t,r)=>t||r?e&&csf_Le(e,(o,i)=>{let s=o.name||i.toString();return!(t&&!csf_It(s,t)||r&&csf_It(s,r))}):e,"filterArgTypes"),csf_bo=n((e,t,r)=>{let{type:o,options:i}=e;if(o){if(r.color&&r.color.test(t)){let s=o.name;if("string"===s)return{control:{type:"color"}};"enum"!==s&&external_STORYBOOK_MODULE_CLIENT_LOGGER_.logger.warn(`Addon controls: Control of type color only supports string, received "${s}" instead`)}if(r.date&&r.date.test(t))return{control:{type:"date"}};switch(o.name){case"array":return{control:{type:"object"}};case"boolean":return{control:{type:"boolean"}};case"string":return{control:{type:"text"}};case"number":return{control:{type:"number"}};case"enum":{let{value:s}=o;return{control:{type:s?.length<=5?"radio":"select"},options:s}}case"function":case"symbol":return null;default:return{control:{type:i?"select":"object"}}}}},"inferControl"),csf_me=n(e=>{let{argTypes:t,parameters:{__isArgsStory:r,controls:{include:o=null,exclude:i=null,matchers:s={}}={}}}=e;if(!r)return t;let a=csf_ze(t,o,i),p=U(a,(c,l)=>c?.type&&csf_bo(c,l.toString(),s));return csf_D(p,a)},"inferControls");function csf_te({argTypes:e,globalTypes:t,argTypesEnhancers:r,decorators:o,loaders:i,beforeEach:s,afterEach:a,initialGlobals:p,...c}){return{...e&&{argTypes:K(e)},...t&&{globalTypes:K(t)},decorators:b(o),loaders:b(i),beforeEach:b(s),afterEach:b(a),argTypesEnhancers:[...r||[],csf_Be,csf_me],initialGlobals:p,...c}}csf_me.secondPass=!0,n(csf_te,"normalizeProjectAnnotations");var csf_Lt=n(e=>(0,asyncToGenerator.A)(function*(){let t=[];for(let r of e){let o=yield r();o&&t.unshift(o)}return(0,asyncToGenerator.A)(function*(){for(let r of t)yield r()})}),"composeBeforeAllHooks");function csf_Ue(e){return function(){var _ref7=(0,asyncToGenerator.A)(function*(t,r,o){yield e.reduceRight((s,a)=>(0,asyncToGenerator.A)(function*(){return a(t,s,o)}),(0,asyncToGenerator.A)(function*(){return r(o)}))()});return function(_x4,_x5,_x6){return _ref7.apply(this,arguments)}}()}function oe(e,t){return e.map(r=>r.default?.[t]??r[t]).filter(Boolean)}function Y(e,t,r={}){return oe(e,t).reduce((o,i)=>{let s=b(i);return r.reverseFileOrder?[...s,...o]:[...o,...s]},[])}function ue(e,t){return Object.assign({},...oe(e,t))}function re(e,t){return oe(e,t).pop()}function csf_ne(e){let t=Y(e,"argTypesEnhancers"),r=oe(e,"runStep"),o=Y(e,"beforeAll");return{parameters:csf_D(...oe(e,"parameters")),decorators:Y(e,"decorators",{reverseFileOrder:!external_STORYBOOK_MODULE_GLOBAL_.global.FEATURES?.legacyDecoratorFileOrder}),args:ue(e,"args"),argsEnhancers:Y(e,"argsEnhancers"),argTypes:ue(e,"argTypes"),argTypesEnhancers:[...t.filter(i=>!i.secondPass),...t.filter(i=>i.secondPass)],initialGlobals:ue(e,"initialGlobals"),globalTypes:ue(e,"globalTypes"),loaders:Y(e,"loaders"),beforeAll:csf_Lt(o),beforeEach:Y(e,"beforeEach"),afterEach:Y(e,"afterEach"),render:re(e,"render"),renderToCanvas:re(e,"renderToCanvas"),applyDecorators:re(e,"applyDecorators"),runStep:csf_Ue(r),tags:Y(e,"tags"),mount:re(e,"mount"),testingLibraryRender:re(e,"testingLibraryRender")}}function Dt(){try{return!!globalThis.__vitest_browser__||!!globalThis.window?.navigator?.userAgent?.match(/StorybookTestRunner/)}catch{return!1}}function csf_t(e=!0){if(!("document"in globalThis)||!("createElement"in globalThis.document))return()=>{};let t=document.createElement("style");t.textContent="*, *:before, *:after {\n    animation: none !important;\n  }",document.head.appendChild(t);let r=document.createElement("style");return r.textContent=`*, *:before, *:after {\n    animation-delay: 0s !important;\n    animation-direction: ${e?"reverse":"normal"} !important;\n    animation-play-state: paused !important;\n    transition: none !important;\n  }`,document.head.appendChild(r),document.body.clientHeight,document.head.removeChild(t),()=>{r.parentNode?.removeChild(r)}}function csf_Ht(_x7){return _Ht.apply(this,arguments)}function _Ht(){return _Ht=(0,asyncToGenerator.A)(function*(e){if(!("document"in globalThis&&"getAnimations"in globalThis.document&&"querySelectorAll"in globalThis.document))return;let t=!1;yield Promise.race([new Promise(r=>{setTimeout(()=>{let o=[globalThis.document,...csf_Nt(globalThis.document)],i=n((0,asyncToGenerator.A)(function*(){if(t||e?.aborted)return;let s=o.flatMap(a=>a?.getAnimations?.()||[]).filter(a=>"running"===a.playState&&!csf_So(a));s.length>0&&(yield Promise.all(s.map(a=>a.finished)),yield i())}),"checkAnimationsFinished");i().then(r)},100)}),new Promise(r=>setTimeout(()=>{t=!0,r(void 0)},5e3))])}),_Ht.apply(this,arguments)}function csf_Nt(e){return[e,...e.querySelectorAll("*")].reduce((t,r)=>("shadowRoot"in r&&r.shadowRoot&&t.push(r.shadowRoot,...csf_Nt(r.shadowRoot)),t),[])}function csf_So(e){if(e instanceof CSSAnimation&&e.effect instanceof KeyframeEffect&&e.effect.target){let t=getComputedStyle(e.effect.target,e.effect.pseudoElement),r=t.animationName?.split(", ").indexOf(e.animationName);return"infinite"===t.animationIterationCount.split(", ")[r]}return!1}n(csf_Ue,"composeStepRunners"),n(oe,"getField"),n(Y,"getArrayField"),n(ue,"getObjectField"),n(re,"getSingletonField"),n(csf_ne,"composeConfigs"),n(Dt,"isTestEnvironment"),n(csf_t,"pauseAnimations"),n(csf_Ht,"waitForAnimations"),n(csf_Nt,"getShadowRoots"),n(csf_So,"isInfiniteAnimation");var csf_Ge=class Ge{constructor(){this.reports=[]}addReport(t){var _this=this;return(0,asyncToGenerator.A)(function*(){_this.reports.push(t)})()}};n(csf_Ge,"ReporterAPI");var csf_fe=csf_Ge,V=[];function csf_We(e,t,r,o,i){if(void 0===e)throw new Error("Expected a story but received undefined.");t.title=t.title??"ComposedStory";let R,s=csf_kt(t),a=i||e.storyName||e.story?.name||e.name||"Unnamed Story",p=csf_e(a,e,s),c=csf_te(csf_ne([o??globalThis.globalProjectAnnotations??{},r??{}])),l=csf_Ne(p,s,c),u={...csf_vt(c.globalTypes),...c.initialGlobals,...l.storyGlobals},h=new csf_fe,T=n(()=>{let A=csf_Ft({hooks:new csf_de,globals:u,args:{...l.initialArgs},viewMode:"story",reporting:h,loaded:{},abortSignal:(new AbortController).signal,step:n((S,v)=>l.runStep(S,v,A),"step"),canvasElement:null,canvas:{},userEvent:{},globalTypes:c.globalTypes,...l,context:null,mount:null});return A.parameters.__isPortableStory=!0,A.context=A,l.renderToCanvas&&(A.renderToCanvas=(0,asyncToGenerator.A)(function*(){let S=yield l.renderToCanvas?.({componentId:l.componentId,title:l.title,id:l.id,name:l.name,tags:l.tags,showMain:n(()=>{},"showMain"),showError:n(v=>{throw new Error(`${v.title}\n${v.description}`)},"showError"),showException:n(v=>{throw v},"showException"),forceRemount:!0,storyContext:A,storyFn:n(()=>l.unboundStoryFn(A),"storyFn"),unboundStoryFn:l.unboundStoryFn},A.canvasElement);S&&V.push(S)})),A.mount=l.mount(A),A},"initializeContext"),P=n(function(){var _ref1=(0,asyncToGenerator.A)(function*(A){let S=T();return S.canvasElement??=globalThis?.document?.body,R&&(S.loaded=R.loaded),Object.assign(S,A),l.playFunction(S)});return function(_x8){return _ref1.apply(this,arguments)}}(),"play"),L=n(A=>{let S=T();return Object.assign(S,A),csf_Eo(l,S)},"run"),O=l.playFunction?P:void 0;return Object.assign(n(function(S){let v=T();return R&&(v.loaded=R.loaded),v.args={...v.initialArgs,...S},l.unboundStoryFn(v)},"storyFn"),{id:l.id,storyName:a,load:n((0,asyncToGenerator.A)(function*(){for(let S of[...V].reverse())yield S();V.length=0;let A=T();A.loaded=yield l.applyLoaders(A),V.push(...(yield l.applyBeforeEach(A)).filter(Boolean)),R=A}),"load"),globals:u,args:l.initialArgs,parameters:l.parameters,argTypes:l.argTypes,play:O,run:L,reporting:h,tags:l.tags})}function csf_Eo(_x9,_x0){return _Eo.apply(this,arguments)}function _Eo(){return _Eo=(0,asyncToGenerator.A)(function*(e,t){for(let s of[...V].reverse())yield s();if(V.length=0,!t.canvasElement){let s=document.createElement("div");globalThis?.document?.body?.appendChild(s),t.canvasElement=s,V.push(()=>{globalThis?.document?.body?.contains(s)&&globalThis?.document?.body?.removeChild(s)})}if(t.loaded=yield e.applyLoaders(t),t.abortSignal.aborted)return;V.push(...(yield e.applyBeforeEach(t)).filter(Boolean));let i,r=e.playFunction,o=e.usesMount;o||(yield t.mount()),t.abortSignal.aborted||(r&&(o||(t.mount=(0,asyncToGenerator.A)(function*(){throw new external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_.MountMustBeDestructuredError({playFunction:r.toString()})})),yield r(t)),Dt()?i=csf_t():yield csf_Ht(t.abortSignal),yield e.applyAfterEach(t),yield i?.())}),_Eo.apply(this,arguments)}n(csf_We,"composeStory"),n(csf_Eo,"runStory");var csf_Ye="Invariant failed";function csf_ye(e,t){if(!e){false;var r="function"==typeof t?t():t,o=r?"".concat(csf_Ye,": ").concat(r):csf_Ye;throw new Error(o)}}n(csf_ye,"invariant");var Ke={};csf_xt(Ke,{argsEnhancers:()=>csf_Mo});var csf_Ve="storybook/actions",csf_jt=`${csf_Ve}/action-event`,csf_Bt={depth:10,clearOnStoryChange:!0,limit:50},csf_Ut=n((e,t)=>{let r=Object.getPrototypeOf(e);return!r||t(r)?r:csf_Ut(r,t)},"findProto"),csf_Po=n(e=>!("object"!=typeof e||!e||!csf_Ut(e,t=>/^Synthetic(?:Base)?Event$/.test(t.constructor.name))||"function"!=typeof e.persist),"isReactSyntheticEvent"),csf_Oo=n(e=>{if(csf_Po(e)){let t=Object.create(e.constructor.prototype,Object.getOwnPropertyDescriptors(e));t.persist();let r=Object.getOwnPropertyDescriptor(t,"view"),o=r?.value;return"object"==typeof o&&"Window"===o?.constructor.name&&Object.defineProperty(t,"view",{...r,value:Object.create(o.constructor.prototype)}),t}return e},"serializeArg");function csf_ie(e,t={}){let r={...csf_Bt,...t},o=n(function(...s){if(t.implicit){let T=("__STORYBOOK_PREVIEW__"in external_STORYBOOK_MODULE_GLOBAL_.global?external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find(R=>"playing"===R.phase||"rendering"===R.phase);if(T){let R=!globalThis?.FEATURES?.disallowImplicitActionsInRenderV8,P=new external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_.ImplicitActionsDuringRendering({phase:T.phase,name:e,deprecated:R});if(!R)throw P;console.warn(P)}}let a=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel(),p=Date.now().toString(36)+Math.random().toString(36).substring(2),l=s.map(csf_Oo),y=s.length>1?l:l[0],u={id:p,count:0,data:{name:e,args:y},options:{...r,maxDepth:5+(r.depth||3)}};a.emit(csf_jt,u)},"actionHandler");return o.isAction=!0,o.implicit=t.implicit,o}n(csf_ie,"action");var csf_Gt=n((e,t)=>typeof t[e]>"u"&&!(e in t),"isInInitialArgs"),csf_Wt=n(e=>{let{initialArgs:t,argTypes:r,id:o,parameters:{actions:i}}=e;if(!i||i.disable||!i.argTypesRegex||!r)return{};let s=new RegExp(i.argTypesRegex);return Object.entries(r).filter(([p])=>!!s.test(p)).reduce((p,[c,l])=>(csf_Gt(c,t)&&(p[c]=csf_ie(c,{implicit:!0,id:o})),p),{})},"inferActionsFromArgTypesRegex"),csf_Yt=n(e=>{let{initialArgs:t,argTypes:r,parameters:{actions:o}}=e;return o?.disable||!r?{}:Object.entries(r).filter(([s,a])=>!!a.action).reduce((s,[a,p])=>(csf_Gt(a,t)&&(s[a]=csf_ie("string"==typeof p.action?p.action:a)),s),{})},"addActionsFromArgTypes"),csf_Mo=[csf_Yt,csf_Wt],csf_qe={};csf_xt(csf_qe,{loaders:()=>csf_Io});var csf_Vt=!1,csf_Fo=n(e=>{let{parameters:t}=e;t?.actions?.disable||csf_Vt||((0,external_STORYBOOK_MODULE_TEST_.onMockCall)((r,o)=>{let i=r.getMockName();"spy"!==i&&(!/^next\/.*::/.test(i)||["next/router::useRouter()","next/navigation::useRouter()","next/navigation::redirect","next/cache::","next/headers::cookies().set","next/headers::cookies().delete","next/headers::headers().set","next/headers::headers().delete"].some(s=>i.startsWith(s)))&&csf_ie(i)(o)}),csf_Vt=!0)},"logActionsWhenMockCalled"),csf_Io=[csf_Fo],csf_Xe=n(()=>({...Ke,...csf_qe}),"default"),Z="backgrounds",csf_Kt={light:{name:"light",value:"#F8F8F8"},dark:{name:"dark",value:"#333"}},{document:N}=globalThis,csf_qt=n(()=>!!globalThis?.matchMedia&&!!globalThis.matchMedia("(prefers-reduced-motion: reduce)")?.matches,"isReduceMotionEnabled"),csf_Ze=n(e=>{(Array.isArray(e)?e:[e]).forEach(csf_o)},"clearStyles"),csf_o=n(e=>{if(!N)return;let t=N.getElementById(e);t&&t.parentElement&&t.parentElement.removeChild(t)},"clearStyle"),csf_Xt=n((e,t)=>{if(!N)return;let r=N.getElementById(e);if(r)r.innerHTML!==t&&(r.innerHTML=t);else{let o=N.createElement("style");o.setAttribute("id",e),o.innerHTML=t,N.head.appendChild(o)}},"addGridStyle"),csf_Zt=n((e,t,r)=>{if(!N)return;let o=N.getElementById(e);if(o)o.innerHTML!==t&&(o.innerHTML=t);else{let i=N.createElement("style");i.setAttribute("id",e),i.innerHTML=t;let s="addon-backgrounds-grid"+(r?`-docs-${r}`:""),a=N.getElementById(s);a?a.parentElement?.insertBefore(i,a):N.head.appendChild(i)}},"addBackgroundStyle"),Ho={cellSize:100,cellAmount:10,opacity:.8},csf_er="addon-backgrounds-grid",csf_No=csf_qt()?"":"transition: background-color 0.3s;",csf_tr=n((e,t)=>{let{globals:r={},parameters:o={},viewMode:i,id:s}=t,{options:a=csf_Kt,disable:p,grid:c=Ho}=o[Z]||{},l=r[Z]||{},y="string"==typeof l?l:l?.value,u=y?a[y]:void 0,h="string"==typeof u?u:u?.value||"transparent",T="string"!=typeof l&&(l.grid||!1),R=!!u&&!p,P="docs"===i?`#anchor--${s} .docs-story`:".sb-show-main",L="docs"===i?`#anchor--${s} .docs-story`:".sb-show-main",O=void 0===o.layout||"padded"===o.layout,F="docs"===i?20:O?16:0,{cellAmount:A,cellSize:S,opacity:v,offsetX:w=F,offsetY:d=F}=c,m="docs"===i?`addon-backgrounds-docs-${s}`:"addon-backgrounds-color",f="docs"===i?s:null;(0,external_STORYBOOK_MODULE_PREVIEW_API_.useEffect)(()=>{R?csf_Zt(m,`\n    ${P} {\n      background: ${h} !important;\n      ${csf_No}\n      }`,f):csf_Ze(m)},[P,m,f,R,h]);let x="docs"===i?`${csf_er}-docs-${s}`:`${csf_er}`;return(0,external_STORYBOOK_MODULE_PREVIEW_API_.useEffect)(()=>{if(!T)return void csf_Ze(x);let g=[`${S*A}px ${S*A}px`,`${S*A}px ${S*A}px`,`${S}px ${S}px`,`${S}px ${S}px`].join(", ");csf_Xt(x,`\n        ${L} {\n          background-size: ${g} !important;\n          background-position: ${w}px ${d}px, ${w}px ${d}px, ${w}px ${d}px, ${w}px ${d}px !important;\n          background-blend-mode: difference !important;\n          background-image: linear-gradient(rgba(130, 130, 130, ${v}) 1px, transparent 1px),\n           linear-gradient(90deg, rgba(130, 130, 130, ${v}) 1px, transparent 1px),\n           linear-gradient(rgba(130, 130, 130, ${v/2}) 1px, transparent 1px),\n           linear-gradient(90deg, rgba(130, 130, 130, ${v/2}) 1px, transparent 1px) !important;\n        }\n      `)},[A,S,L,x,T,w,d,v]),e()},"withBackgroundAndGrid"),csf_Bo=globalThis.FEATURES?.backgrounds?[csf_tr]:[],csf_zo={[Z]:{grid:{cellSize:20,opacity:.5,cellAmount:5},disable:!1}},csf_Uo={[Z]:{value:void 0,grid:!1}},csf_Je=n(()=>({decorators:csf_Bo,parameters:csf_zo,initialGlobals:csf_Uo}),"default"),{step:csf_Yo}=Qs({step:n(function(){var _ref11=(0,asyncToGenerator.A)(function*(e,t,r){return t(r)});return function(_x1,_x10,_x11){return _ref11.apply(this,arguments)}}(),"step")},{intercept:!0}),csf_Qe=n(()=>({parameters:{throwPlayFunctionExceptions:!1},runStep:csf_Yo}),"default"),csf_ge="storybook/highlight",csf_rr=`${csf_ge}/add`,csf_or=`${csf_ge}/remove`,csf_nr=`${csf_ge}/reset`,ir=`${csf_ge}/scroll-into-view`,csf_tt={chevronLeft:["M9.10355 10.1464C9.29882 10.3417 9.29882 10.6583 9.10355 10.8536C8.90829 11.0488 8.59171 11.0488 8.39645 10.8536L4.89645 7.35355C4.70118 7.15829 4.70118 6.84171 4.89645 6.64645L8.39645 3.14645C8.59171 2.95118 8.90829 2.95118 9.10355 3.14645C9.29882 3.34171 9.29882 3.65829 9.10355 3.85355L5.95711 7L9.10355 10.1464Z"],chevronRight:["M4.89645 10.1464C4.70118 10.3417 4.70118 10.6583 4.89645 10.8536C5.09171 11.0488 5.40829 11.0488 5.60355 10.8536L9.10355 7.35355C9.29882 7.15829 9.29882 6.84171 9.10355 6.64645L5.60355 3.14645C5.40829 2.95118 5.09171 2.95118 4.89645 3.14645C4.70118 3.34171 4.70118 3.65829 4.89645 3.85355L8.04289 7L4.89645 10.1464Z"],info:["M7 5.5a.5.5 0 01.5.5v4a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zM7 4.5A.75.75 0 107 3a.75.75 0 000 1.5z","M7 14A7 7 0 107 0a7 7 0 000 14zm0-1A6 6 0 107 1a6 6 0 000 12z"],shareAlt:["M2 1.004a1 1 0 00-1 1v10a1 1 0 001 1h10a1 1 0 001-1v-4.5a.5.5 0 00-1 0v4.5H2v-10h4.5a.5.5 0 000-1H2z","M7.354 7.357L12 2.711v1.793a.5.5 0 001 0v-3a.5.5 0 00-.5-.5h-3a.5.5 0 100 1h1.793L6.646 6.65a.5.5 0 10.708.707z"]},csf_Vo="svg,path,rect,circle,line,polyline,polygon,ellipse,text".split(","),csf_M=n((e,t={},r)=>{let o=csf_Vo.includes(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return Object.entries(t).forEach(([i,s])=>{/[A-Z]/.test(i)?("onClick"===i&&(o.addEventListener("click",s),o.addEventListener("keydown",a=>{("Enter"===a.key||" "===a.key)&&(a.preventDefault(),s())})),"onMouseEnter"===i&&o.addEventListener("mouseenter",s),"onMouseLeave"===i&&o.addEventListener("mouseleave",s)):o.setAttribute(i,s)}),r?.forEach(i=>{if(null!=i&&!1!==i)try{o.appendChild(i)}catch{o.appendChild(document.createTextNode(String(i)))}}),o},"createElement"),csf_ae=n(e=>csf_tt[e]&&csf_M("svg",{width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},csf_tt[e].map(t=>csf_M("path",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd",d:t}))),"createIcon"),csf_sr=n(e=>{if("elements"in e){let{elements:o,color:i,style:s}=e;return{id:void 0,priority:0,selectors:o,styles:{outline:`2px ${s} ${i}`,outlineOffset:"2px",boxShadow:"0 0 0 6px rgba(255,255,255,0.6)"},menu:void 0}}let{menu:t,...r}=e;return{id:void 0,priority:0,styles:{outline:"2px dashed #029cfd"},...r,menu:Array.isArray(t)?t.every(Array.isArray)?t:[t]:void 0}},"normalizeOptions"),csf_Ko=n(e=>e instanceof Function,"isFunction"),se=new Map,q=new Map,he=new Map,csf_z=n(e=>{let t=Symbol();return q.set(t,[]),se.set(t,e),{get:n(()=>se.get(t),"get"),set:n(a=>{let p=se.get(t),c=csf_Ko(a)?a(p):a;c!==p&&(se.set(t,c),q.get(t)?.forEach(l=>{he.get(l)?.(),he.set(l,l(c))}))},"set"),subscribe:n(a=>(q.get(t)?.push(a),()=>{let p=q.get(t);p&&q.set(t,p.filter(c=>c!==a))}),"subscribe"),teardown:n(()=>{q.get(t)?.forEach(a=>{he.get(a)?.(),he.delete(a)}),q.delete(t),se.delete(t)},"teardown")}},"useStore"),csf_rt=n(e=>{let t=document.getElementById("storybook-root"),r=new Map;for(let o of e){let{priority:i=0}=o;for(let s of o.selectors){let a=[...document.querySelectorAll(`:is(${s}):not([id^="storybook-"], [id^="storybook-"] *, [class^="sb-"], [class^="sb-"] *)`),...t?.querySelectorAll(s)||[]];for(let p of a){let c=r.get(p);(!c||c.priority<=i)&&r.set(p,{...o,priority:i,selectors:Array.from(new Set((c?.selectors||[]).concat(s)))})}}}return r},"mapElements"),ar=n(e=>Array.from(e.entries()).map(([t,{selectors:r,styles:o,hoverStyles:i,focusStyles:s,menu:a}])=>{let{top:p,left:c,width:l,height:y}=t.getBoundingClientRect(),{position:u}=getComputedStyle(t);return{element:t,selectors:r,styles:o,hoverStyles:i,focusStyles:s,menu:a,top:"fixed"===u?p:p+window.scrollY,left:"fixed"===u?c:c+window.scrollX,width:l,height:y}}).sort((t,r)=>r.width*r.height-t.width*t.height),"mapBoxes"),csf_ot=n((e,t)=>{let r=e.getBoundingClientRect(),{x:o,y:i}=t;return r?.top&&r?.left&&o>=r.left&&o<=r.left+r.width&&i>=r.top&&i<=r.top+r.height},"isOverMenu"),csf_nt=n((e,t,r)=>{if(!t||!r)return!1;let{left:o,top:i,width:s,height:a}=e;a<28&&(i-=Math.round((28-a)/2),a=28),s<28&&(o-=Math.round((28-s)/2),s=28),"fixed"===t.style.position&&(o+=window.scrollX,i+=window.scrollY);let{x:p,y:c}=r;return p>=o&&p<=o+s&&c>=i&&c<=i+a},"isTargeted"),csf_pr=n((e,t,r={})=>{let{x:o,y:i}=t,{margin:s=5,topOffset:a=0,centered:p=!1}=r,{scrollX:c,scrollY:l,innerHeight:y,innerWidth:u}=window,h=Math.min("fixed"===e.style.position?i-l:i,y-e.clientHeight-s-a+l),T=p?e.clientWidth/2:0,R="fixed"===e.style.position?Math.max(Math.min(o-c,u-T-s),T+s):Math.max(Math.min(o,u-T-s+c),T+s+c);Object.assign(e.style,{...R!==o&&{left:`${R}px`},...h!==i&&{top:`${h}px`}})},"keepInViewport"),csf_it=n(e=>{window.HTMLElement.prototype.hasOwnProperty("showPopover")&&e.showPopover()},"showPopover"),csf_lr=n(e=>{window.HTMLElement.prototype.hasOwnProperty("showPopover")&&e.hidePopover()},"hidePopover"),csf_cr=n(e=>({top:e.top,left:e.left,width:e.width,height:e.height,selectors:e.selectors,element:{attributes:Object.fromEntries(Array.from(e.element.attributes).map(t=>[t.name,t.value])),localName:e.element.localName,tagName:e.element.tagName,outerHTML:e.element.outerHTML}}),"getEventDetails"),C="storybook-highlights-menu",csf_dr="storybook-highlights-root",csf_mr=n(e=>{if(globalThis.__STORYBOOK_HIGHLIGHT_INITIALIZED)return;globalThis.__STORYBOOK_HIGHLIGHT_INITIALIZED=!0;let{document:t}=globalThis,r=csf_z([]),o=csf_z(new Map),i=csf_z([]),s=csf_z(),a=csf_z(),p=csf_z([]),c=csf_z([]),l=csf_z(),y=csf_z(),u=t.getElementById(csf_dr);r.subscribe(()=>{u||(u=csf_M("div",{id:csf_dr}),t.body.appendChild(u))}),r.subscribe(d=>{let m=t.getElementById("storybook-root");if(!m)return;o.set(csf_rt(d));let f=new MutationObserver(()=>o.set(csf_rt(d)));return f.observe(m,{subtree:!0,childList:!0}),()=>{f.disconnect()}}),o.subscribe(d=>{let m=n(()=>requestAnimationFrame(()=>i.set(ar(d))),"updateBoxes"),f=new ResizeObserver(m);f.observe(t.body),Array.from(d.keys()).forEach(g=>f.observe(g));let x=Array.from(t.body.querySelectorAll("*")).filter(g=>{let{overflow:E,overflowX:I,overflowY:k}=window.getComputedStyle(g);return["auto","scroll"].some(H=>[E,I,k].includes(H))});return x.forEach(g=>g.addEventListener("scroll",m)),()=>{f.disconnect(),x.forEach(g=>g.removeEventListener("scroll",m))}}),o.subscribe(d=>{let m=Array.from(d.keys()).filter(({style:x})=>"sticky"===x.position),f=n(()=>requestAnimationFrame(()=>{i.set(x=>x.map(g=>{if(m.includes(g.element)){let{top:E,left:I}=g.element.getBoundingClientRect();return{...g,top:E+window.scrollY,left:I+window.scrollX}}return g}))}),"updateBoxes");return t.addEventListener("scroll",f),()=>t.removeEventListener("scroll",f)}),o.subscribe(d=>{p.set(m=>m.filter(({element:f})=>d.has(f)))}),p.subscribe(d=>{d.length?(y.set(m=>d.some(f=>f.element===m?.element)?m:void 0),l.set(m=>d.some(f=>f.element===m?.element)?m:void 0)):(y.set(void 0),l.set(void 0),s.set(void 0))});let h=new Map(new Map);r.subscribe(d=>{d.forEach(({keyframes:m})=>{if(m){let f=h.get(m);f||(f=t.createElement("style"),f.setAttribute("data-highlight","keyframes"),h.set(m,f),t.head.appendChild(f)),f.innerHTML=m}}),h.forEach((m,f)=>{d.some(x=>x.keyframes===f)||(m.remove(),h.delete(f))})});let T=new Map(new Map);i.subscribe(d=>{d.forEach(m=>{let f=T.get(m.element);if(u&&!f){let x={popover:"manual","data-highlight-dimensions":`w${m.width.toFixed(0)}h${m.height.toFixed(0)}`,"data-highlight-coordinates":`x${m.left.toFixed(0)}y${m.top.toFixed(0)}`};f=u.appendChild(csf_M("div",x,[csf_M("div")])),T.set(m.element,f)}}),T.forEach((m,f)=>{d.some(({element:x})=>x===f)||(m.remove(),T.delete(f))})}),i.subscribe(d=>{let m=d.filter(x=>x.menu);if(!m.length)return;let f=n(x=>{requestAnimationFrame(()=>{let g=t.getElementById(C),E={x:x.pageX,y:x.pageY};if(g&&!csf_ot(g,E)){let I=m.filter(k=>{let H=T.get(k.element);return csf_nt(k,H,E)});s.set(I.length?E:void 0),p.set(I)}})},"onClick");return t.addEventListener("click",f),()=>t.removeEventListener("click",f)});let R=n(()=>{let d=t.getElementById(C),m=a.get();!m||d&&csf_ot(d,m)||c.set(f=>{let x=i.get().filter(k=>{let H=T.get(k.element);return csf_nt(k,H,m)}),g=f.filter(k=>x.includes(k)),E=x.filter(k=>!f.includes(k)),I=f.length-g.length;return E.length||I?[...g,...E]:f})},"updateHovered");a.subscribe(R),i.subscribe(R);let P=n(()=>{let d=y.get(),m=d?[d]:p.get(),f=1===m.length?m[0]:l.get(),x=void 0!==s.get();i.get().forEach(g=>{let E=T.get(g.element);if(E){let I=f===g,k=x?f?I:m.includes(g):c.get()?.includes(g);Object.assign(E.style,{animation:"none",background:"transparent",border:"none",boxSizing:"border-box",outline:"none",outlineOffset:"0px",...g.styles,...k?g.hoverStyles:{},...I?g.focusStyles:{},position:"fixed"===getComputedStyle(g.element).position?"fixed":"absolute",zIndex:2147483637,top:`${g.top}px`,left:`${g.left}px`,width:`${g.width}px`,height:`${g.height}px`,margin:0,padding:0,cursor:g.menu&&k?"pointer":"default",pointerEvents:g.menu?"auto":"none",display:"flex",alignItems:"center",justifyContent:"center",overflow:"visible"}),Object.assign(E.children[0].style,{width:"100%",height:"100%",minHeight:"28px",minWidth:"28px",boxSizing:"content-box",padding:E.style.outlineWidth||"0px"}),csf_it(E)}})},"updateBoxStyles");i.subscribe(P),p.subscribe(P),c.subscribe(P),l.subscribe(P),y.subscribe(P);let L=n(()=>{if(!u)return;let d=t.getElementById(C);if(d)d.innerHTML="";else{let g={id:C,popover:"manual"};d=u.appendChild(csf_M("div",g)),u.appendChild(csf_M("style",{},[`\n            #${C} {\n              position: absolute;\n              z-index: 2147483647;\n              width: 300px;\n              padding: 0px;\n              margin: 15px 0 0 0;\n              transform: translateX(-50%);\n              font-family: "Nunito Sans", -apple-system, ".SFNSText-Regular", "San Francisco", BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Helvetica, Arial, sans-serif;\n              font-size: 12px;\n              background: white;\n              border: none;\n              border-radius: 6px;\n              box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.05), 0 5px 15px 0 rgba(0, 0, 0, 0.1);\n              color: #2E3438;\n            }\n            #${C} ul {\n              list-style: none;\n              margin: 0;\n              padding: 0;\n            }\n            #${C} > ul {\n              max-height: 300px;\n              overflow-y: auto;\n              padding: 4px 0;\n            }\n            #${C} li {\n              padding: 0 4px;\n              margin: 0;\n            }\n            #${C} li > :not(ul) {\n              display: flex;\n              padding: 8px;\n              margin: 0;\n              align-items: center;\n              gap: 8px;\n              border-radius: 4px;\n            }\n            #${C} button {\n              width: 100%;\n              border: 0;\n              background: transparent;\n              color: inherit;\n              text-align: left;\n              font-family: inherit;\n              font-size: inherit;\n            }\n            #${C} button:focus-visible {\n              outline-color: #029CFD;\n            }\n            #${C} button:hover {\n              background: rgba(2, 156, 253, 0.07);\n              color: #029CFD;\n              cursor: pointer;\n            }\n            #${C} li code {\n              white-space: nowrap;\n              overflow: hidden;\n              text-overflow: ellipsis;\n              line-height: 16px;\n              font-size: 11px;\n            }\n            #${C} li svg {\n              flex-shrink: 0;\n              margin: 1px;\n              color: #73828C;\n            }\n            #${C} li > button:hover svg, #${C} li > button:focus-visible svg {\n              color: #029CFD;\n            }\n            #${C} .element-list li svg {\n              display: none;\n            }\n            #${C} li.selectable svg, #${C} li.selected svg {\n              display: block;\n            }\n            #${C} .menu-list {\n              border-top: 1px solid rgba(38, 85, 115, 0.15);\n            }\n            #${C} .menu-list > li:not(:last-child) {\n              padding-bottom: 4px;\n              margin-bottom: 4px;\n              border-bottom: 1px solid rgba(38, 85, 115, 0.15);\n            }\n            #${C} .menu-items, #${C} .menu-items li {\n              padding: 0;\n            }\n            #${C} .menu-item {\n              display: flex;\n            }\n            #${C} .menu-item-content {\n              display: flex;\n              flex-direction: column;\n              flex-grow: 1;\n            }\n          `]))}let m=y.get(),f=m?[m]:p.get();if(f.length&&(d.style.position="fixed"===getComputedStyle(f[0].element).position?"fixed":"absolute",d.appendChild(csf_M("ul",{class:"element-list"},f.map(g=>{let E=f.length>1&&!!g.menu?.some(H=>H.some(X=>!X.selectors||X.selectors.some(le=>g.selectors.includes(le)))),k=E||m;return csf_M("li",E?{class:"selectable",onClick:n(()=>y.set(g),"onClick"),onMouseEnter:n(()=>l.set(g),"onMouseEnter"),onMouseLeave:n(()=>l.set(void 0),"onMouseLeave")}:m?{class:"selected",onClick:n(()=>y.set(void 0),"onClick")}:{},[csf_M(k?"button":"div",k?{type:"button"}:{},[m?csf_ae("chevronLeft"):null,csf_M("code",{},[g.element.outerHTML]),E?csf_ae("chevronRight"):null])])})))),y.get()||1===p.get().length){let g=y.get()||p.get()[0],E=g.menu?.filter(I=>I.some(k=>!k.selectors||k.selectors.some(H=>g.selectors.includes(H))));E?.length&&d.appendChild(csf_M("ul",{class:"menu-list"},E.map(I=>csf_M("li",{},[csf_M("ul",{class:"menu-items"},I.map(({id:k,title:H,description:X,iconLeft:le,iconRight:gt,clickEvent:ht})=>{let we=ht&&(()=>e.emit(ht,k,csf_cr(g)));return csf_M("li",{},[csf_M(we?"button":"div",we?{class:"menu-item",type:"button",onClick:we}:{class:"menu-item"},[le?csf_ae(le):null,csf_M("div",{class:"menu-item-content"},[csf_M(X?"strong":"span",{},[H]),X&&csf_M("span",{},[X])]),gt?csf_ae(gt):null])])}))]))))}let x=s.get();x?(Object.assign(d.style,{display:"block",left:`${"fixed"===d.style.position?x.x-window.scrollX:x.x}px`,top:`${"fixed"===d.style.position?x.y-window.scrollY:x.y}px`}),csf_it(d),requestAnimationFrame(()=>csf_pr(d,x,{topOffset:15,centered:!0}))):(csf_lr(d),Object.assign(d.style,{display:"none"}))},"renderMenu");p.subscribe(L),y.subscribe(L);let S,O=n(d=>{let m=csf_sr(d);r.set(f=>{let x=m.id?f.filter(g=>g.id!==m.id):f;return m.selectors?.length?[...x,m]:x})},"addHighlight"),F=n(d=>{d&&r.set(m=>m.filter(f=>f.id!==d))},"removeHighlight"),A=n(()=>{r.set([]),o.set(new Map),i.set([]),s.set(void 0),a.set(void 0),p.set([]),c.set([]),l.set(void 0),y.set(void 0)},"resetState"),v=n((d,m)=>{let f="scrollIntoView-highlight";clearTimeout(S),F(f);let x=t.querySelector(d);if(!x)return void console.warn(`Cannot scroll into view: ${d} not found`);x.scrollIntoView({behavior:"smooth",block:"center",...m});let g=`kf-${Math.random().toString(36).substring(2,15)}`;r.set(E=>[...E,{id:f,priority:1e3,selectors:[d],styles:{outline:"2px solid #1EA7FD",outlineOffset:"-1px",animation:`${g} 3s linear forwards`},keyframes:`@keyframes ${g} {\n          0% { outline: 2px solid #1EA7FD; }\n          20% { outline: 2px solid #1EA7FD00; }\n          40% { outline: 2px solid #1EA7FD; }\n          60% { outline: 2px solid #1EA7FD00; }\n          80% { outline: 2px solid #1EA7FD; }\n          100% { outline: 2px solid #1EA7FD00; }\n        }`}]),S=setTimeout(()=>F(f),3500)},"scrollIntoView"),w=n(d=>{requestAnimationFrame(()=>a.set({x:d.pageX,y:d.pageY}))},"onMouseMove");t.body.addEventListener("mousemove",w),e.on(csf_rr,O),e.on(csf_or,F),e.on(csf_nr,A),e.on(ir,v),e.on(external_STORYBOOK_MODULE_CORE_EVENTS_.STORY_RENDER_PHASE_CHANGED,({newPhase:d})=>{"loading"===d&&A()})},"useHighlights");globalThis?.FEATURES?.highlight&&external_STORYBOOK_MODULE_PREVIEW_API_.addons?.ready&&external_STORYBOOK_MODULE_PREVIEW_API_.addons.ready().then(csf_mr);var csf_st=n(()=>({}),"default"),csf_fr="measureEnabled";function csf_yr(){let e=external_STORYBOOK_MODULE_GLOBAL_.global.document.documentElement,t=Math.max(e.scrollHeight,e.offsetHeight);return{width:Math.max(e.scrollWidth,e.offsetWidth),height:t}}function csf_Jo(){let e=external_STORYBOOK_MODULE_GLOBAL_.global.document.createElement("canvas");e.id="storybook-addon-measure";let t=e.getContext("2d");csf_ye(null!=t);let{width:r,height:o}=csf_yr();return csf_at(e,t,{width:r,height:o}),e.style.position="absolute",e.style.left="0",e.style.top="0",e.style.zIndex="2147483647",e.style.pointerEvents="none",external_STORYBOOK_MODULE_GLOBAL_.global.document.body.appendChild(e),{canvas:e,context:t,width:r,height:o}}function csf_at(e,t,{width:r,height:o}){e.style.width=`${r}px`,e.style.height=`${o}px`;let i=external_STORYBOOK_MODULE_GLOBAL_.global.window.devicePixelRatio;e.width=Math.floor(r*i),e.height=Math.floor(o*i),t.scale(i,i)}n(csf_yr,"getDocumentWidthAndHeight"),n(csf_Jo,"createCanvas"),n(csf_at,"setCanvasWidthAndHeight");var $={};function csf_gr(){$.canvas||($=csf_Jo())}function csf_hr(){$.context&&$.context.clearRect(0,0,$.width??0,$.height??0)}function csf_xr(e){csf_hr(),e($.context)}function csf_br(){csf_ye($.canvas,"Canvas should exist in the state."),csf_ye($.context,"Context should exist in the state."),csf_at($.canvas,$.context,{width:0,height:0});let{width:e,height:t}=csf_yr();csf_at($.canvas,$.context,{width:e,height:t}),$.width=e,$.height=t}function csf_Tr(){$.canvas&&(csf_hr(),$.canvas.parentNode?.removeChild($.canvas),$={})}n(csf_gr,"init"),n(csf_hr,"clear"),n(csf_xr,"draw"),n(csf_br,"rescale"),n(csf_Tr,"destroy");var J={margin:"#f6b26b",border:"#ffe599",padding:"#93c47d",content:"#6fa8dc",text:"#232020"};function csf_Sr(e,{x:t,y:r,w:o,h:i,r:s}){t-=o/2,r-=i/2,o<2*s&&(s=o/2),i<2*s&&(s=i/2),e.beginPath(),e.moveTo(t+s,r),e.arcTo(t+o,r,t+o,r+i,s),e.arcTo(t+o,r+i,t,r+i,s),e.arcTo(t,r+i,t,r,s),e.arcTo(t,r,t+o,r,s),e.closePath()}function csf_Qo(e,{padding:t,border:r,width:o,height:i,top:s,left:a}){let p=o-r.left-r.right-t.left-t.right,c=i-t.top-t.bottom-r.top-r.bottom,l=a+r.left+t.left,y=s+r.top+t.top;return"top"===e?l+=p/2:"right"===e?(l+=p,y+=c/2):"bottom"===e?(l+=p/2,y+=c):"left"===e?y+=c/2:"center"===e&&(l+=p/2,y+=c/2),{x:l,y}}function csf_en(e,t,{margin:r,border:o,padding:i},s,a){let p=n(h=>0,"shift"),c=0,l=0,y=a?1:.5,u=a?2*s:0;return"padding"===e?p=n(h=>i[h]*y+u,"shift"):"border"===e?p=n(h=>i[h]+o[h]*y+u,"shift"):"margin"===e&&(p=n(h=>i[h]+o[h]+r[h]*y+u,"shift")),"top"===t?l=-p("top"):"right"===t?c=p("right"):"bottom"===t?l=p("bottom"):"left"===t&&(c=-p("left")),{offsetX:c,offsetY:l}}function csf_tn(e,t){return Math.abs(e.x-t.x)<Math.abs(e.w+t.w)/2&&Math.abs(e.y-t.y)<Math.abs(e.h+t.h)/2}function csf_rn(e,t,r){return"top"===e?t.y=r.y-r.h-6:"right"===e?t.x=r.x+r.w/2+6+t.w/2:"bottom"===e?t.y=r.y+r.h+6:"left"===e&&(t.x=r.x-r.w/2-6-t.w/2),{x:t.x,y:t.y}}function csf_Ar(e,t,{x:r,y:o,w:i,h:s},a){return csf_Sr(e,{x:r,y:o,w:i,h:s,r:3}),e.fillStyle=`${J[t]}dd`,e.fill(),e.strokeStyle=J[t],e.stroke(),e.fillStyle=J.text,e.fillText(a,r,o),csf_Sr(e,{x:r,y:o,w:i,h:s,r:3}),e.fillStyle=`${J[t]}dd`,e.fill(),e.strokeStyle=J[t],e.stroke(),e.fillStyle=J.text,e.fillText(a,r,o),{x:r,y:o,w:i,h:s}}function csf_Rr(e,t){e.font="600 12px monospace",e.textBaseline="middle",e.textAlign="center";let r=e.measureText(t),o=r.actualBoundingBoxAscent+r.actualBoundingBoxDescent;return{w:r.width+12,h:o+12}}function csf_on(e,t,{type:r,position:o="center",text:i},s,a=!1){let{x:p,y:c}=csf_Qo(o,t),{offsetX:l,offsetY:y}=csf_en(r,o,t,7,a);p+=l,c+=y;let{w:u,h}=csf_Rr(e,i);if(s&&csf_tn({x:p,y:c,w:u,h},s)){let T=csf_rn(o,{x:p,y:c,w:u,h},s);p=T.x,c=T.y}return csf_Ar(e,r,{x:p,y:c,w:u,h},i)}function csf_nn(e,{w:t,h:r}){let o=.5*t+6,i=.5*r+6;return{offsetX:("left"===e.x?-1:1)*o,offsetY:("top"===e.y?-1:1)*i}}function csf_sn(e,t,{type:r,text:o}){let{floatingAlignment:i,extremities:s}=t,a=s[i.x],p=s[i.y],{w:c,h:l}=csf_Rr(e,o),{offsetX:y,offsetY:u}=csf_nn(i,{w:c,h:l});return a+=y,p+=u,csf_Ar(e,r,{x:a,y:p,w:c,h:l},o)}function csf_pe(e,t,r,o){let i=[];r.forEach((s,a)=>{let p=o&&"center"===s.position?csf_sn(e,t,s):csf_on(e,t,s,i[a-1],o);i[a]=p})}function csf_wr(e,t,r,o){let i=r.reduce((s,a)=>(Object.prototype.hasOwnProperty.call(s,a.position)||(s[a.position]=[]),s[a.position]?.push(a),s),{});i.top&&csf_pe(e,t,i.top,o),i.right&&csf_pe(e,t,i.right,o),i.bottom&&csf_pe(e,t,i.bottom,o),i.left&&csf_pe(e,t,i.left,o),i.center&&csf_pe(e,t,i.center,o)}n(csf_Sr,"roundedRect"),n(csf_Qo,"positionCoordinate"),n(csf_en,"offset"),n(csf_tn,"collide"),n(csf_rn,"overlapAdjustment"),n(csf_Ar,"textWithRect"),n(csf_Rr,"configureText"),n(csf_on,"drawLabel"),n(csf_nn,"floatingOffset"),n(csf_sn,"drawFloatingLabel"),n(csf_pe,"drawStack"),n(csf_wr,"labelStacks");var csf_Te_margin="#f6b26ba8",csf_Te_border="#ffe599a8",csf_Te_padding="#93c47d8c",csf_Te_content="#6fa8dca8";function _(e){return parseInt(e.replace("px",""),10)}function Q(e){return Number.isInteger(e)?e:e.toFixed(2)}function csf_pt(e){return e.filter(t=>0!==t.text&&"0"!==t.text)}function csf_an(e){let t_top=external_STORYBOOK_MODULE_GLOBAL_.global.window.scrollY,t_bottom=external_STORYBOOK_MODULE_GLOBAL_.global.window.scrollY+external_STORYBOOK_MODULE_GLOBAL_.global.window.innerHeight,t_left=external_STORYBOOK_MODULE_GLOBAL_.global.window.scrollX,t_right=external_STORYBOOK_MODULE_GLOBAL_.global.window.scrollX+external_STORYBOOK_MODULE_GLOBAL_.global.window.innerWidth,r_top=Math.abs(t_top-e.top),r_bottom=Math.abs(t_bottom-e.bottom);return{x:Math.abs(t_left-e.left)>Math.abs(t_right-e.right)?"left":"right",y:r_top>r_bottom?"top":"bottom"}}function csf_pn(e){let t=external_STORYBOOK_MODULE_GLOBAL_.global.getComputedStyle(e),{top:r,left:o,right:i,bottom:s,width:a,height:p}=e.getBoundingClientRect(),{marginTop:c,marginBottom:l,marginLeft:y,marginRight:u,paddingTop:h,paddingBottom:T,paddingLeft:R,paddingRight:P,borderBottomWidth:L,borderTopWidth:O,borderLeftWidth:F,borderRightWidth:A}=t;r+=external_STORYBOOK_MODULE_GLOBAL_.global.window.scrollY,o+=external_STORYBOOK_MODULE_GLOBAL_.global.window.scrollX,s+=external_STORYBOOK_MODULE_GLOBAL_.global.window.scrollY,i+=external_STORYBOOK_MODULE_GLOBAL_.global.window.scrollX;let S={top:_(c),bottom:_(l),left:_(y),right:_(u)},v={top:_(h),bottom:_(T),left:_(R),right:_(P)},w={top:_(O),bottom:_(L),left:_(F),right:_(A)},d={top:r-S.top,bottom:s+S.bottom,left:o-S.left,right:i+S.right};return{margin:S,padding:v,border:w,top:r,left:o,bottom:s,right:i,width:a,height:p,extremities:d,floatingAlignment:csf_an(d)}}function csf_ln(e,{margin:t,width:r,height:o,top:i,left:s,bottom:a,right:p}){let c=o+t.bottom+t.top;return e.fillStyle=csf_Te_margin,e.fillRect(s,i-t.top,r,t.top),e.fillRect(p,i-t.top,t.right,c),e.fillRect(s,a,r,t.bottom),e.fillRect(s-t.left,i-t.top,t.left,c),csf_pt([{type:"margin",text:Q(t.top),position:"top"},{type:"margin",text:Q(t.right),position:"right"},{type:"margin",text:Q(t.bottom),position:"bottom"},{type:"margin",text:Q(t.left),position:"left"}])}function csf_cn(e,{padding:t,border:r,width:o,height:i,top:s,left:a,bottom:p,right:c}){let l=o-r.left-r.right,y=i-t.top-t.bottom-r.top-r.bottom;return e.fillStyle=csf_Te_padding,e.fillRect(a+r.left,s+r.top,l,t.top),e.fillRect(c-t.right-r.right,s+t.top+r.top,t.right,y),e.fillRect(a+r.left,p-t.bottom-r.bottom,l,t.bottom),e.fillRect(a+r.left,s+t.top+r.top,t.left,y),csf_pt([{type:"padding",text:t.top,position:"top"},{type:"padding",text:t.right,position:"right"},{type:"padding",text:t.bottom,position:"bottom"},{type:"padding",text:t.left,position:"left"}])}function csf_dn(e,{border:t,width:r,height:o,top:i,left:s,bottom:a,right:p}){let c=o-t.top-t.bottom;return e.fillStyle=csf_Te_border,e.fillRect(s,i,r,t.top),e.fillRect(s,a-t.bottom,r,t.bottom),e.fillRect(s,i+t.top,t.left,c),e.fillRect(p-t.right,i+t.top,t.right,c),csf_pt([{type:"border",text:t.top,position:"top"},{type:"border",text:t.right,position:"right"},{type:"border",text:t.bottom,position:"bottom"},{type:"border",text:t.left,position:"left"}])}function csf_mn(e,{padding:t,border:r,width:o,height:i,top:s,left:a}){let p=o-r.left-r.right-t.left-t.right,c=i-t.top-t.bottom-r.top-r.bottom;return e.fillStyle=csf_Te_content,e.fillRect(a+r.left+t.left,s+r.top+t.top,p,c),[{type:"content",position:"center",text:`${Q(p)} x ${Q(c)}`}]}function csf_un(e){return t=>{if(e&&t){let r=csf_pn(e),o=csf_ln(t,r),i=csf_cn(t,r),s=csf_dn(t,r);csf_wr(t,r,[...csf_mn(t,r),...i,...s,...o],r.width<=90||r.height<=30)}}}function csf_Cr(e){csf_xr(csf_un(e))}n(_,"pxToNumber"),n(Q,"round"),n(csf_pt,"filterZeroValues"),n(csf_an,"floatingAlignment"),n(csf_pn,"measureElement"),n(csf_ln,"drawMargin"),n(csf_cn,"drawPadding"),n(csf_dn,"drawBorder"),n(csf_mn,"drawContent"),n(csf_un,"drawBoxModel"),n(csf_Cr,"drawSelectedElement");var csf_vr=n((e,t)=>{let r=external_STORYBOOK_MODULE_GLOBAL_.global.document.elementFromPoint(e,t),o=n(s=>{if(s&&s.shadowRoot){let a=s.shadowRoot.elementFromPoint(e,t);return s.isEqualNode(a)?s:a.shadowRoot?o(a):a}return s},"crawlShadows");return o(r)||r},"deepElementFromPoint"),csf_Se={x:0,y:0};function csf_Or(e,t){csf_Cr(csf_vr(e,t))}n(csf_Or,"findAndDrawElement");var csf_Mr=n((e,t)=>{let{measureEnabled:r}=t.globals||{};return(0,external_STORYBOOK_MODULE_PREVIEW_API_.useEffect)(()=>{if(typeof globalThis.document>"u")return;let o=n(i=>{window.requestAnimationFrame(()=>{i.stopPropagation(),csf_Se.x=i.clientX,csf_Se.y=i.clientY})},"onPointerMove");return globalThis.document.addEventListener("pointermove",o),()=>{globalThis.document.removeEventListener("pointermove",o)}},[]),(0,external_STORYBOOK_MODULE_PREVIEW_API_.useEffect)(()=>{let o=n(s=>{window.requestAnimationFrame(()=>{s.stopPropagation(),csf_Or(s.clientX,s.clientY)})},"onPointerOver"),i=n(()=>{window.requestAnimationFrame(()=>{csf_br()})},"onResize");return"story"===t.viewMode&&r&&(globalThis.document.addEventListener("pointerover",o),csf_gr(),globalThis.window.addEventListener("resize",i),csf_Or(csf_Se.x,csf_Se.y)),()=>{globalThis.window.removeEventListener("resize",i),csf_Tr()}},[r,t.viewMode]),e()},"withMeasure"),csf_gn=globalThis.FEATURES?.measure?[csf_Mr]:[],csf_hn={[csf_fr]:!1},csf_lt=n(()=>({decorators:csf_gn,initialGlobals:csf_hn}),"default"),csf_Ae="outline",csf_ct=n(e=>{(Array.isArray(e)?e:[e]).forEach(csf_xn)},"clearStyles"),csf_xn=n(e=>{let t="string"==typeof e?e:e.join(""),r=external_STORYBOOK_MODULE_GLOBAL_.global.document.getElementById(t);r&&r.parentElement&&r.parentElement.removeChild(r)},"clearStyle"),csf_$r=n((e,t)=>{let r=external_STORYBOOK_MODULE_GLOBAL_.global.document.getElementById(e);if(r)r.innerHTML!==t&&(r.innerHTML=t);else{let o=external_STORYBOOK_MODULE_GLOBAL_.global.document.createElement("style");o.setAttribute("id",e),o.innerHTML=t,external_STORYBOOK_MODULE_GLOBAL_.global.document.head.appendChild(o)}},"addOutlineStyles");function csf_dt(e){return W`
    ${e} body {
      outline: 1px solid #2980b9 !important;
    }

    ${e} article {
      outline: 1px solid #3498db !important;
    }

    ${e} nav {
      outline: 1px solid #0088c3 !important;
    }

    ${e} aside {
      outline: 1px solid #33a0ce !important;
    }

    ${e} section {
      outline: 1px solid #66b8da !important;
    }

    ${e} header {
      outline: 1px solid #99cfe7 !important;
    }

    ${e} footer {
      outline: 1px solid #cce7f3 !important;
    }

    ${e} h1 {
      outline: 1px solid #162544 !important;
    }

    ${e} h2 {
      outline: 1px solid #314e6e !important;
    }

    ${e} h3 {
      outline: 1px solid #3e5e85 !important;
    }

    ${e} h4 {
      outline: 1px solid #449baf !important;
    }

    ${e} h5 {
      outline: 1px solid #c7d1cb !important;
    }

    ${e} h6 {
      outline: 1px solid #4371d0 !important;
    }

    ${e} main {
      outline: 1px solid #2f4f90 !important;
    }

    ${e} address {
      outline: 1px solid #1a2c51 !important;
    }

    ${e} div {
      outline: 1px solid #036cdb !important;
    }

    ${e} p {
      outline: 1px solid #ac050b !important;
    }

    ${e} hr {
      outline: 1px solid #ff063f !important;
    }

    ${e} pre {
      outline: 1px solid #850440 !important;
    }

    ${e} blockquote {
      outline: 1px solid #f1b8e7 !important;
    }

    ${e} ol {
      outline: 1px solid #ff050c !important;
    }

    ${e} ul {
      outline: 1px solid #d90416 !important;
    }

    ${e} li {
      outline: 1px solid #d90416 !important;
    }

    ${e} dl {
      outline: 1px solid #fd3427 !important;
    }

    ${e} dt {
      outline: 1px solid #ff0043 !important;
    }

    ${e} dd {
      outline: 1px solid #e80174 !important;
    }

    ${e} figure {
      outline: 1px solid #ff00bb !important;
    }

    ${e} figcaption {
      outline: 1px solid #bf0032 !important;
    }

    ${e} table {
      outline: 1px solid #00cc99 !important;
    }

    ${e} caption {
      outline: 1px solid #37ffc4 !important;
    }

    ${e} thead {
      outline: 1px solid #98daca !important;
    }

    ${e} tbody {
      outline: 1px solid #64a7a0 !important;
    }

    ${e} tfoot {
      outline: 1px solid #22746b !important;
    }

    ${e} tr {
      outline: 1px solid #86c0b2 !important;
    }

    ${e} th {
      outline: 1px solid #a1e7d6 !important;
    }

    ${e} td {
      outline: 1px solid #3f5a54 !important;
    }

    ${e} col {
      outline: 1px solid #6c9a8f !important;
    }

    ${e} colgroup {
      outline: 1px solid #6c9a9d !important;
    }

    ${e} button {
      outline: 1px solid #da8301 !important;
    }

    ${e} datalist {
      outline: 1px solid #c06000 !important;
    }

    ${e} fieldset {
      outline: 1px solid #d95100 !important;
    }

    ${e} form {
      outline: 1px solid #d23600 !important;
    }

    ${e} input {
      outline: 1px solid #fca600 !important;
    }

    ${e} keygen {
      outline: 1px solid #b31e00 !important;
    }

    ${e} label {
      outline: 1px solid #ee8900 !important;
    }

    ${e} legend {
      outline: 1px solid #de6d00 !important;
    }

    ${e} meter {
      outline: 1px solid #e8630c !important;
    }

    ${e} optgroup {
      outline: 1px solid #b33600 !important;
    }

    ${e} option {
      outline: 1px solid #ff8a00 !important;
    }

    ${e} output {
      outline: 1px solid #ff9619 !important;
    }

    ${e} progress {
      outline: 1px solid #e57c00 !important;
    }

    ${e} select {
      outline: 1px solid #e26e0f !important;
    }

    ${e} textarea {
      outline: 1px solid #cc5400 !important;
    }

    ${e} details {
      outline: 1px solid #33848f !important;
    }

    ${e} summary {
      outline: 1px solid #60a1a6 !important;
    }

    ${e} command {
      outline: 1px solid #438da1 !important;
    }

    ${e} menu {
      outline: 1px solid #449da6 !important;
    }

    ${e} del {
      outline: 1px solid #bf0000 !important;
    }

    ${e} ins {
      outline: 1px solid #400000 !important;
    }

    ${e} img {
      outline: 1px solid #22746b !important;
    }

    ${e} iframe {
      outline: 1px solid #64a7a0 !important;
    }

    ${e} embed {
      outline: 1px solid #98daca !important;
    }

    ${e} object {
      outline: 1px solid #00cc99 !important;
    }

    ${e} param {
      outline: 1px solid #37ffc4 !important;
    }

    ${e} video {
      outline: 1px solid #6ee866 !important;
    }

    ${e} audio {
      outline: 1px solid #027353 !important;
    }

    ${e} source {
      outline: 1px solid #012426 !important;
    }

    ${e} canvas {
      outline: 1px solid #a2f570 !important;
    }

    ${e} track {
      outline: 1px solid #59a600 !important;
    }

    ${e} map {
      outline: 1px solid #7be500 !important;
    }

    ${e} area {
      outline: 1px solid #305900 !important;
    }

    ${e} a {
      outline: 1px solid #ff62ab !important;
    }

    ${e} em {
      outline: 1px solid #800b41 !important;
    }

    ${e} strong {
      outline: 1px solid #ff1583 !important;
    }

    ${e} i {
      outline: 1px solid #803156 !important;
    }

    ${e} b {
      outline: 1px solid #cc1169 !important;
    }

    ${e} u {
      outline: 1px solid #ff0430 !important;
    }

    ${e} s {
      outline: 1px solid #f805e3 !important;
    }

    ${e} small {
      outline: 1px solid #d107b2 !important;
    }

    ${e} abbr {
      outline: 1px solid #4a0263 !important;
    }

    ${e} q {
      outline: 1px solid #240018 !important;
    }

    ${e} cite {
      outline: 1px solid #64003c !important;
    }

    ${e} dfn {
      outline: 1px solid #b4005a !important;
    }

    ${e} sub {
      outline: 1px solid #dba0c8 !important;
    }

    ${e} sup {
      outline: 1px solid #cc0256 !important;
    }

    ${e} time {
      outline: 1px solid #d6606d !important;
    }

    ${e} code {
      outline: 1px solid #e04251 !important;
    }

    ${e} kbd {
      outline: 1px solid #5e001f !important;
    }

    ${e} samp {
      outline: 1px solid #9c0033 !important;
    }

    ${e} var {
      outline: 1px solid #d90047 !important;
    }

    ${e} mark {
      outline: 1px solid #ff0053 !important;
    }

    ${e} bdi {
      outline: 1px solid #bf3668 !important;
    }

    ${e} bdo {
      outline: 1px solid #6f1400 !important;
    }

    ${e} ruby {
      outline: 1px solid #ff7b93 !important;
    }

    ${e} rt {
      outline: 1px solid #ff2f54 !important;
    }

    ${e} rp {
      outline: 1px solid #803e49 !important;
    }

    ${e} span {
      outline: 1px solid #cc2643 !important;
    }

    ${e} br {
      outline: 1px solid #db687d !important;
    }

    ${e} wbr {
      outline: 1px solid #db175b !important;
    }`}n(csf_dt,"outlineCSS");var csf_Fr=n((e,t)=>{let r=t.globals||{},o=[!0,"true"].includes(r.outline),i="docs"===t.viewMode,s=(0,external_STORYBOOK_MODULE_PREVIEW_API_.useMemo)(()=>csf_dt(i?'[data-story-block="true"]':".sb-show-main"),[t]);return(0,external_STORYBOOK_MODULE_PREVIEW_API_.useEffect)(()=>{let a=i?`addon-outline-docs-${t.id}`:"addon-outline";return o?csf_$r(a,s):csf_ct(a),()=>{csf_ct(a)}},[o,s,t]),e()},"withOutline"),csf_An=globalThis.FEATURES?.outline?[csf_Fr]:[],csf_Rn={[csf_Ae]:!1},csf_mt=n(()=>({decorators:csf_An,initialGlobals:csf_Rn}),"default"),csf_Fn=n(({parameters:e})=>{!0===e?.test?.mockReset?(0,external_STORYBOOK_MODULE_TEST_.resetAllMocks)():!0===e?.test?.clearMocks?(0,external_STORYBOOK_MODULE_TEST_.clearAllMocks)():!1!==e?.test?.restoreMocks&&(0,external_STORYBOOK_MODULE_TEST_.restoreAllMocks)()},"resetAllMocksLoader"),csf_ut=n((e,t=0,r)=>{if(t>5||null==e)return e;if((0,external_STORYBOOK_MODULE_TEST_.isMockFunction)(e))return r&&e.mockName(r),e;if("function"==typeof e&&"isAction"in e&&e.isAction&&(!("implicit"in e)||!e.implicit)){let o=(0,external_STORYBOOK_MODULE_TEST_.fn)(e);return r&&o.mockName(r),o}if(Array.isArray(e)){t++;for(let o=0;o<e.length;o++)Object.getOwnPropertyDescriptor(e,o)?.writable&&(e[o]=csf_ut(e[o],t));return e}if("object"==typeof e&&e.constructor===Object){t++;for(let[o,i]of Object.entries(e))Object.getOwnPropertyDescriptor(e,o)?.writable&&(e[o]=csf_ut(i,t,o));return e}return e},"traverseArgs"),csf_In=n(({initialArgs:e})=>{csf_ut(e)},"nameSpiesAndWrapActionsInSpies"),csf_Ir=!1,csf_Ln=n(function(){var _ref12=(0,asyncToGenerator.A)(function*(e){globalThis.HTMLElement&&e.canvasElement instanceof globalThis.HTMLElement&&(e.canvas=(0,external_STORYBOOK_MODULE_TEST_.within)(e.canvasElement));let t=globalThis.window?.navigator?.clipboard;if(t){e.userEvent=Qs({userEvent:external_STORYBOOK_MODULE_TEST_.uninstrumentedUserEvent.setup()},{intercept:!0,getKeys:n(o=>Object.keys(o).filter(i=>"eventWrapper"!==i),"getKeys")}).userEvent,Object.defineProperty(globalThis.window.navigator,"clipboard",{get:n(()=>t,"get"),configurable:!0});let r=HTMLElement.prototype.focus;csf_Ir||Object.defineProperties(HTMLElement.prototype,{focus:{configurable:!0,set:n(o=>{r=o,csf_Ir=!0},"set"),get:n(()=>r,"get")}})}});return function(_x12){return _ref12.apply(this,arguments)}}(),"enhanceContext"),csf_ft=n(()=>({loaders:[csf_Fn,csf_In,csf_Ln]}),"default"),csf_Dr="viewport",csf_n={[csf_Dr]:{value:void 0,isRotated:!1}},csf_yt=n(()=>({initialGlobals:csf_n}),"default");function csf_r(){return[(csf_lt.default??csf_lt)(),(csf_Je.default??csf_Je)(),(csf_st.default??csf_st)(),(csf_mt.default??csf_mt)(),(csf_yt.default??csf_yt)(),(csf_Xe.default??csf_Xe)(),(csf_Qe.default??csf_Qe)(),(csf_ft.default??csf_ft)()]}function rc(e){return e}function oc(e){return null!=e&&"object"==typeof e&&"_tag"in e&&"Preview"===e?._tag}function csf_Nn(e,t){return{_tag:"Meta",input:e,preview:t,get composed(){throw new Error("Not implemented")},story(r={}){return csf_Hr("function"==typeof r?{render:r}:r,this)}}}function csf_Hr(e,t){let r,o=n(()=>(r||(r=csf_We(e,t.input,void 0,t.preview.composed)),r),"compose");return{_tag:"Story",input:e,meta:t,__compose:o,get composed(){let i=o(),{args:s,argTypes:a,parameters:p,id:c,tags:l,globals:y,storyName:u}=i;return{args:s,argTypes:a,parameters:p,id:c,tags:l,name:u,globals:y}},get play(){return e.play??t.input?.play??(0,asyncToGenerator.A)(function*(){})},get run(){return o().run??(0,asyncToGenerator.A)(function*(){})},extend(i){return csf_Hr({...this.input,...i,args:{...this.input.args,...i.args},argTypes:csf_D(this.input.argTypes,i.argTypes),afterEach:[...b(this.input?.afterEach??[]),...b(i.afterEach??[])],beforeEach:[...b(this.input?.beforeEach??[]),...b(i.beforeEach??[])],decorators:[...b(this.input?.decorators??[]),...b(i.decorators??[])],globals:{...this.input.globals,...i.globals},loaders:[...b(this.input?.loaders??[]),...b(i.loaders??[])],parameters:csf_D(this.input.parameters,i.parameters),tags:uc(...this.input.tags??[],...i.tags??[])},this.meta)}}}n(csf_r,"getCoreAnnotations"),n(function tc(e){let t,r={_tag:"Preview",input:e,get composed(){if(t)return t;let{addons:o,...i}=e;return t=csf_te(csf_ne([...csf_r(),...o??[],i])),t},meta(o){return csf_Nn(o,this)}};return globalThis.globalProjectAnnotations=r.composed,r},"definePreview"),n(rc,"definePreviewAddon"),n(oc,"isPreview"),n(function nc(e){return null!=e&&"object"==typeof e&&"_tag"in e&&"Meta"===e?._tag},"isMeta"),n(csf_Nn,"defineMeta"),n(function ic(e){return null!=e&&"object"==typeof e&&"_tag"in e&&"Story"===e?._tag},"isStory"),n(csf_Hr,"defineStory");var csf_jn=n(e=>e.toLowerCase().replace(/[ ’–—―′¿'`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),"sanitize"),csf_Nr=n((e,t)=>{let r=csf_jn(e);if(""===r)throw new Error(`Invalid ${t} '${e}', must include alphanumeric characters`);return r},"sanitizeSafe"),lc=n((e,t)=>`${csf_Nr(e,"kind")}${t?`--${csf_Nr(t,"name")}`:""}`,"toId"),cc=n(e=>csf_bt(e),"storyNameFromExport");function csf_jr(e,t){return Array.isArray(t)?t.includes(e):e.match(t)}n(csf_jr,"matches"),n(function dc(e,{includeStories:t,excludeStories:r}){return"__esModule"!==e&&(!t||csf_jr(e,t))&&(!r||!csf_jr(e,r))},"isExportStory");var uc=n((...e)=>{let t=e.reduce((r,o)=>(o.startsWith("!")?r.delete(o.slice(1)):r.add(o),r),new Set);return Array.from(t)},"combineTags")},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":module=>{var stylesInDOM=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDOM.length;i++)if(stylesInDOM[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var indexByIdentifier=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3],supports:item[4],layer:item[5]};if(-1!==indexByIdentifier)stylesInDOM[indexByIdentifier].references++,stylesInDOM[indexByIdentifier].updater(obj);else{var updater=addElementStyle(obj,options);options.byIndex=i,stylesInDOM.splice(i,0,{identifier,updater,references:1})}identifiers.push(identifier)}return identifiers}function addElementStyle(obj,options){var api=options.domAPI(options);api.update(obj);return function updater(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap&&newObj.supports===obj.supports&&newObj.layer===obj.layer)return;api.update(obj=newObj)}else api.remove()}}module.exports=function(list,options){var lastIdentifiers=modulesToDom(list=list||[],options=options||{});return function update(newList){newList=newList||[];for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDOM[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDOM[_index].references&&(stylesInDOM[_index].updater(),stylesInDOM.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":module=>{var memo={};module.exports=function insertBySelector(insert,style){var target=function getTarget(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}(insert);if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":module=>{module.exports=function insertStyleElement(options){var element=document.createElement("style");return options.setAttributes(element,options.attributes),options.insert(element,options.options),element}},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function setAttributesWithoutAttributes(styleElement){var nonce=__webpack_require__.nc;nonce&&styleElement.setAttribute("nonce",nonce)}},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":module=>{module.exports=function domAPI(options){if("undefined"==typeof document)return{update:function update(){},remove:function remove(){}};var styleElement=options.insertStyleElement(options);return{update:function update(obj){!function apply(styleElement,options,obj){var css="";obj.supports&&(css+="@supports (".concat(obj.supports,") {")),obj.media&&(css+="@media ".concat(obj.media," {"));var needLayer=void 0!==obj.layer;needLayer&&(css+="@layer".concat(obj.layer.length>0?" ".concat(obj.layer):""," {")),css+=obj.css,needLayer&&(css+="}"),obj.media&&(css+="}"),obj.supports&&(css+="}");var sourceMap=obj.sourceMap;sourceMap&&"undefined"!=typeof btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),options.styleTagTransform(css,styleElement,options.options)}(styleElement,options,obj)},remove:function remove(){!function removeStyleElement(styleElement){if(null===styleElement.parentNode)return!1;styleElement.parentNode.removeChild(styleElement)}(styleElement)}}}},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":module=>{module.exports=function styleTagTransform(css,styleElement){if(styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}},"./node_modules/tippy.js/dist/tippy.css?ngGlobalStyle":()=>{},"./node_modules/tippy.js/themes/light-border.css?ngGlobalStyle":()=>{},"./node_modules/tippy.js/themes/light.css?ngGlobalStyle":()=>{},"./node_modules/tippy.js/themes/material.css?ngGlobalStyle":()=>{},"./node_modules/tippy.js/themes/translucent.css?ngGlobalStyle":()=>{},"./node_modules/tslib/tslib.es6.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AQ:()=>__asyncGenerator,C6:()=>__extends,Cg:()=>__decorate,Ju:()=>__values,N3:()=>__await,Sn:()=>__metadata,YH:()=>__generator,fX:()=>__spreadArray,sH:()=>__awaiter,xN:()=>__asyncValues,zs:()=>__read});var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}Object.create;function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spreadArray(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),verb("next"),verb("throw"),verb("return",function awaitReturn(f){return function(v){return Promise.resolve(v).then(f,reject)}}),i[Symbol.asyncIterator]=function(){return this},i;function verb(n,f){g[n]&&(i[n]=function(v){return new Promise(function(a,b){q.push([n,v,a,b])>1||resume(n,v)})},f&&(i[n]=f(i[n])))}function resume(n,v){try{!function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}(g[n](v))}catch(e){settle(q[0][3],e)}}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o=__values(o),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){(function settle(resolve,reject,d,v){Promise.resolve(v).then(function(v){resolve({value:v,done:d})},reject)})(resolve,reject,(v=o[n](v)).done,v.value)})}}}Object.create;"function"==typeof SuppressedError&&SuppressedError},"./node_modules/zone.js/fesm2015/zone.js":()=>{const global=globalThis;function __symbol__(name){return(global.__Zone_symbol_prefix||"__zone_symbol__")+name}function initZone(){const performance=global.performance;function mark(name){performance&&performance.mark&&performance.mark(name)}function performanceMeasure(name,label){performance&&performance.measure&&performance.measure(name,label)}mark("Zone");class ZoneImpl{static __symbol__=__symbol__;static assertZonePatched(){if(global.Promise!==patches.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let zone=ZoneImpl.current;for(;zone.parent;)zone=zone.parent;return zone}static get current(){return _currentZoneFrame.zone}static get currentTask(){return _currentTask}static __load_patch(name,fn,ignoreDuplicate=!1){if(patches.hasOwnProperty(name)){const checkDuplicate=!0===global[__symbol__("forceDuplicateZoneCheck")];if(!ignoreDuplicate&&checkDuplicate)throw Error("Already loaded patch: "+name)}else if(!global["__Zone_disable_"+name]){const perfName="Zone:"+name;mark(perfName),patches[name]=fn(global,ZoneImpl,_api),performanceMeasure(perfName,perfName)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(parent,zoneSpec){this._parent=parent,this._name=zoneSpec?zoneSpec.name||"unnamed":"<root>",this._properties=zoneSpec&&zoneSpec.properties||{},this._zoneDelegate=new _ZoneDelegate(this,this._parent&&this._parent._zoneDelegate,zoneSpec)}get(key){const zone=this.getZoneWith(key);if(zone)return zone._properties[key]}getZoneWith(key){let current=this;for(;current;){if(current._properties.hasOwnProperty(key))return current;current=current._parent}return null}fork(zoneSpec){if(!zoneSpec)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,zoneSpec)}wrap(callback,source){if("function"!=typeof callback)throw new Error("Expecting function got: "+callback);const _callback=this._zoneDelegate.intercept(this,callback,source),zone=this;return function(){return zone.runGuarded(_callback,this,arguments,source)}}run(callback,applyThis,applyArgs,source){_currentZoneFrame={parent:_currentZoneFrame,zone:this};try{return this._zoneDelegate.invoke(this,callback,applyThis,applyArgs,source)}finally{_currentZoneFrame=_currentZoneFrame.parent}}runGuarded(callback,applyThis=null,applyArgs,source){_currentZoneFrame={parent:_currentZoneFrame,zone:this};try{try{return this._zoneDelegate.invoke(this,callback,applyThis,applyArgs,source)}catch(error){if(this._zoneDelegate.handleError(this,error))throw error}}finally{_currentZoneFrame=_currentZoneFrame.parent}}runTask(task,applyThis,applyArgs){if(task.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(task.zone||NO_ZONE).name+"; Execution: "+this.name+")");const zoneTask=task,{type,data:{isPeriodic=!1,isRefreshable=!1}={}}=task;if(task.state===notScheduled&&(type===eventTask||type===macroTask))return;const reEntryGuard=task.state!=running;reEntryGuard&&zoneTask._transitionTo(running,scheduled);const previousTask=_currentTask;_currentTask=zoneTask,_currentZoneFrame={parent:_currentZoneFrame,zone:this};try{type!=macroTask||!task.data||isPeriodic||isRefreshable||(task.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,zoneTask,applyThis,applyArgs)}catch(error){if(this._zoneDelegate.handleError(this,error))throw error}}finally{const state=task.state;if(state!==notScheduled&&state!==unknown)if(type==eventTask||isPeriodic||isRefreshable&&state===scheduling)reEntryGuard&&zoneTask._transitionTo(scheduled,running,scheduling);else{const zoneDelegates=zoneTask._zoneDelegates;this._updateTaskCount(zoneTask,-1),reEntryGuard&&zoneTask._transitionTo(notScheduled,running,notScheduled),isRefreshable&&(zoneTask._zoneDelegates=zoneDelegates)}_currentZoneFrame=_currentZoneFrame.parent,_currentTask=previousTask}}scheduleTask(task){if(task.zone&&task.zone!==this){let newZone=this;for(;newZone;){if(newZone===task.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${task.zone.name}`);newZone=newZone.parent}}task._transitionTo(scheduling,notScheduled);const zoneDelegates=[];task._zoneDelegates=zoneDelegates,task._zone=this;try{task=this._zoneDelegate.scheduleTask(this,task)}catch(err){throw task._transitionTo(unknown,scheduling,notScheduled),this._zoneDelegate.handleError(this,err),err}return task._zoneDelegates===zoneDelegates&&this._updateTaskCount(task,1),task.state==scheduling&&task._transitionTo(scheduled,scheduling),task}scheduleMicroTask(source,callback,data,customSchedule){return this.scheduleTask(new ZoneTask(microTask,source,callback,data,customSchedule,void 0))}scheduleMacroTask(source,callback,data,customSchedule,customCancel){return this.scheduleTask(new ZoneTask(macroTask,source,callback,data,customSchedule,customCancel))}scheduleEventTask(source,callback,data,customSchedule,customCancel){return this.scheduleTask(new ZoneTask(eventTask,source,callback,data,customSchedule,customCancel))}cancelTask(task){if(task.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(task.zone||NO_ZONE).name+"; Execution: "+this.name+")");if(task.state===scheduled||task.state===running){task._transitionTo(canceling,scheduled,running);try{this._zoneDelegate.cancelTask(this,task)}catch(err){throw task._transitionTo(unknown,canceling),this._zoneDelegate.handleError(this,err),err}return this._updateTaskCount(task,-1),task._transitionTo(notScheduled,canceling),task.runCount=-1,task}}_updateTaskCount(task,count){const zoneDelegates=task._zoneDelegates;-1==count&&(task._zoneDelegates=null);for(let i=0;i<zoneDelegates.length;i++)zoneDelegates[i]._updateTaskCount(task.type,count)}}const DELEGATE_ZS={name:"",onHasTask:(delegate,_,target,hasTaskState)=>delegate.hasTask(target,hasTaskState),onScheduleTask:(delegate,_,target,task)=>delegate.scheduleTask(target,task),onInvokeTask:(delegate,_,target,task,applyThis,applyArgs)=>delegate.invokeTask(target,task,applyThis,applyArgs),onCancelTask:(delegate,_,target,task)=>delegate.cancelTask(target,task)};class _ZoneDelegate{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(zone,parentDelegate,zoneSpec){this._zone=zone,this._parentDelegate=parentDelegate,this._forkZS=zoneSpec&&(zoneSpec&&zoneSpec.onFork?zoneSpec:parentDelegate._forkZS),this._forkDlgt=zoneSpec&&(zoneSpec.onFork?parentDelegate:parentDelegate._forkDlgt),this._forkCurrZone=zoneSpec&&(zoneSpec.onFork?this._zone:parentDelegate._forkCurrZone),this._interceptZS=zoneSpec&&(zoneSpec.onIntercept?zoneSpec:parentDelegate._interceptZS),this._interceptDlgt=zoneSpec&&(zoneSpec.onIntercept?parentDelegate:parentDelegate._interceptDlgt),this._interceptCurrZone=zoneSpec&&(zoneSpec.onIntercept?this._zone:parentDelegate._interceptCurrZone),this._invokeZS=zoneSpec&&(zoneSpec.onInvoke?zoneSpec:parentDelegate._invokeZS),this._invokeDlgt=zoneSpec&&(zoneSpec.onInvoke?parentDelegate:parentDelegate._invokeDlgt),this._invokeCurrZone=zoneSpec&&(zoneSpec.onInvoke?this._zone:parentDelegate._invokeCurrZone),this._handleErrorZS=zoneSpec&&(zoneSpec.onHandleError?zoneSpec:parentDelegate._handleErrorZS),this._handleErrorDlgt=zoneSpec&&(zoneSpec.onHandleError?parentDelegate:parentDelegate._handleErrorDlgt),this._handleErrorCurrZone=zoneSpec&&(zoneSpec.onHandleError?this._zone:parentDelegate._handleErrorCurrZone),this._scheduleTaskZS=zoneSpec&&(zoneSpec.onScheduleTask?zoneSpec:parentDelegate._scheduleTaskZS),this._scheduleTaskDlgt=zoneSpec&&(zoneSpec.onScheduleTask?parentDelegate:parentDelegate._scheduleTaskDlgt),this._scheduleTaskCurrZone=zoneSpec&&(zoneSpec.onScheduleTask?this._zone:parentDelegate._scheduleTaskCurrZone),this._invokeTaskZS=zoneSpec&&(zoneSpec.onInvokeTask?zoneSpec:parentDelegate._invokeTaskZS),this._invokeTaskDlgt=zoneSpec&&(zoneSpec.onInvokeTask?parentDelegate:parentDelegate._invokeTaskDlgt),this._invokeTaskCurrZone=zoneSpec&&(zoneSpec.onInvokeTask?this._zone:parentDelegate._invokeTaskCurrZone),this._cancelTaskZS=zoneSpec&&(zoneSpec.onCancelTask?zoneSpec:parentDelegate._cancelTaskZS),this._cancelTaskDlgt=zoneSpec&&(zoneSpec.onCancelTask?parentDelegate:parentDelegate._cancelTaskDlgt),this._cancelTaskCurrZone=zoneSpec&&(zoneSpec.onCancelTask?this._zone:parentDelegate._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const zoneSpecHasTask=zoneSpec&&zoneSpec.onHasTask,parentHasTask=parentDelegate&&parentDelegate._hasTaskZS;(zoneSpecHasTask||parentHasTask)&&(this._hasTaskZS=zoneSpecHasTask?zoneSpec:DELEGATE_ZS,this._hasTaskDlgt=parentDelegate,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,zoneSpec.onScheduleTask||(this._scheduleTaskZS=DELEGATE_ZS,this._scheduleTaskDlgt=parentDelegate,this._scheduleTaskCurrZone=this._zone),zoneSpec.onInvokeTask||(this._invokeTaskZS=DELEGATE_ZS,this._invokeTaskDlgt=parentDelegate,this._invokeTaskCurrZone=this._zone),zoneSpec.onCancelTask||(this._cancelTaskZS=DELEGATE_ZS,this._cancelTaskDlgt=parentDelegate,this._cancelTaskCurrZone=this._zone))}fork(targetZone,zoneSpec){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,targetZone,zoneSpec):new ZoneImpl(targetZone,zoneSpec)}intercept(targetZone,callback,source){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,targetZone,callback,source):callback}invoke(targetZone,callback,applyThis,applyArgs,source){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,targetZone,callback,applyThis,applyArgs,source):callback.apply(applyThis,applyArgs)}handleError(targetZone,error){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,targetZone,error)}scheduleTask(targetZone,task){let returnTask=task;if(this._scheduleTaskZS)this._hasTaskZS&&returnTask._zoneDelegates.push(this._hasTaskDlgtOwner),returnTask=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,targetZone,task),returnTask||(returnTask=task);else if(task.scheduleFn)task.scheduleFn(task);else{if(task.type!=microTask)throw new Error("Task is missing scheduleFn.");scheduleMicroTask(task)}return returnTask}invokeTask(targetZone,task,applyThis,applyArgs){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,targetZone,task,applyThis,applyArgs):task.callback.apply(applyThis,applyArgs)}cancelTask(targetZone,task){let value;if(this._cancelTaskZS)value=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,targetZone,task);else{if(!task.cancelFn)throw Error("Task is not cancelable");value=task.cancelFn(task)}return value}hasTask(targetZone,isEmpty){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,targetZone,isEmpty)}catch(err){this.handleError(targetZone,err)}}_updateTaskCount(type,count){const counts=this._taskCounts,prev=counts[type],next=counts[type]=prev+count;if(next<0)throw new Error("More tasks executed then were scheduled.");if(0==prev||0==next){const isEmpty={microTask:counts.microTask>0,macroTask:counts.macroTask>0,eventTask:counts.eventTask>0,change:type};this.hasTask(this._zone,isEmpty)}}}class ZoneTask{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(type,source,callback,options,scheduleFn,cancelFn){if(this.type=type,this.source=source,this.data=options,this.scheduleFn=scheduleFn,this.cancelFn=cancelFn,!callback)throw new Error("callback is not defined");this.callback=callback;const self=this;type===eventTask&&options&&options.useG?this.invoke=ZoneTask.invokeTask:this.invoke=function(){return ZoneTask.invokeTask.call(global,self,this,arguments)}}static invokeTask(task,target,args){task||(task=this),_numberOfNestedTaskFrames++;try{return task.runCount++,task.zone.runTask(task,target,args)}finally{1==_numberOfNestedTaskFrames&&drainMicroTaskQueue(),_numberOfNestedTaskFrames--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(notScheduled,scheduling)}_transitionTo(toState,fromState1,fromState2){if(this._state!==fromState1&&this._state!==fromState2)throw new Error(`${this.type} '${this.source}': can not transition to '${toState}', expecting state '${fromState1}'${fromState2?" or '"+fromState2+"'":""}, was '${this._state}'.`);this._state=toState,toState==notScheduled&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const symbolSetTimeout=__symbol__("setTimeout"),symbolPromise=__symbol__("Promise"),symbolThen=__symbol__("then");let nativeMicroTaskQueuePromise,_microTaskQueue=[],_isDrainingMicrotaskQueue=!1;function nativeScheduleMicroTask(func){if(nativeMicroTaskQueuePromise||global[symbolPromise]&&(nativeMicroTaskQueuePromise=global[symbolPromise].resolve(0)),nativeMicroTaskQueuePromise){let nativeThen=nativeMicroTaskQueuePromise[symbolThen];nativeThen||(nativeThen=nativeMicroTaskQueuePromise.then),nativeThen.call(nativeMicroTaskQueuePromise,func)}else global[symbolSetTimeout](func,0)}function scheduleMicroTask(task){0===_numberOfNestedTaskFrames&&0===_microTaskQueue.length&&nativeScheduleMicroTask(drainMicroTaskQueue),task&&_microTaskQueue.push(task)}function drainMicroTaskQueue(){if(!_isDrainingMicrotaskQueue){for(_isDrainingMicrotaskQueue=!0;_microTaskQueue.length;){const queue=_microTaskQueue;_microTaskQueue=[];for(let i=0;i<queue.length;i++){const task=queue[i];try{task.zone.runTask(task,null,null)}catch(error){_api.onUnhandledError(error)}}}_api.microtaskDrainDone(),_isDrainingMicrotaskQueue=!1}}const NO_ZONE={name:"NO ZONE"},notScheduled="notScheduled",scheduling="scheduling",scheduled="scheduled",running="running",canceling="canceling",unknown="unknown",microTask="microTask",macroTask="macroTask",eventTask="eventTask",patches={},_api={symbol:__symbol__,currentZoneFrame:()=>_currentZoneFrame,onUnhandledError:noop,microtaskDrainDone:noop,scheduleMicroTask,showUncaughtError:()=>!ZoneImpl[__symbol__("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:noop,patchMethod:()=>noop,bindArguments:()=>[],patchThen:()=>noop,patchMacroTask:()=>noop,patchEventPrototype:()=>noop,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>noop,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>noop,wrapWithCurrentZone:()=>noop,filterProperties:()=>[],attachOriginToPatched:()=>noop,_redefineProperty:()=>noop,patchCallbacks:()=>noop,nativeScheduleMicroTask};let _currentZoneFrame={parent:null,zone:new ZoneImpl(null,null)},_currentTask=null,_numberOfNestedTaskFrames=0;function noop(){}return performanceMeasure("Zone","Zone"),ZoneImpl}const ObjectGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,ObjectDefineProperty=Object.defineProperty,ObjectGetPrototypeOf=Object.getPrototypeOf,ObjectCreate=Object.create,ArraySlice=Array.prototype.slice,ZONE_SYMBOL_ADD_EVENT_LISTENER=__symbol__("addEventListener"),ZONE_SYMBOL_REMOVE_EVENT_LISTENER=__symbol__("removeEventListener"),ZONE_SYMBOL_PREFIX=__symbol__("");function wrapWithCurrentZone(callback,source){return Zone.current.wrap(callback,source)}function scheduleMacroTaskWithCurrentZone(source,callback,data,customSchedule,customCancel){return Zone.current.scheduleMacroTask(source,callback,data,customSchedule,customCancel)}const zoneSymbol=__symbol__,isWindowExists="undefined"!=typeof window,internalWindow=isWindowExists?window:void 0,_global=isWindowExists&&internalWindow||globalThis;function bindArguments(args,source){for(let i=args.length-1;i>=0;i--)"function"==typeof args[i]&&(args[i]=wrapWithCurrentZone(args[i],source+"_"+i));return args}function isPropertyWritable(propertyDesc){return!propertyDesc||!1!==propertyDesc.writable&&!("function"==typeof propertyDesc.get&&void 0===propertyDesc.set)}const isWebWorker="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,isNode=!("nw"in _global)&&void 0!==_global.process&&"[object process]"===_global.process.toString(),isBrowser=!isNode&&!isWebWorker&&!(!isWindowExists||!internalWindow.HTMLElement),isMix=void 0!==_global.process&&"[object process]"===_global.process.toString()&&!isWebWorker&&!(!isWindowExists||!internalWindow.HTMLElement),zoneSymbolEventNames$1={},enableBeforeunloadSymbol=zoneSymbol("enable_beforeunload"),wrapFn=function(event){if(!(event=event||_global.event))return;let eventNameSymbol=zoneSymbolEventNames$1[event.type];eventNameSymbol||(eventNameSymbol=zoneSymbolEventNames$1[event.type]=zoneSymbol("ON_PROPERTY"+event.type));const target=this||event.target||_global,listener=target[eventNameSymbol];let result;if(isBrowser&&target===internalWindow&&"error"===event.type){const errorEvent=event;result=listener&&listener.call(this,errorEvent.message,errorEvent.filename,errorEvent.lineno,errorEvent.colno,errorEvent.error),!0===result&&event.preventDefault()}else result=listener&&listener.apply(this,arguments),"beforeunload"===event.type&&_global[enableBeforeunloadSymbol]&&"string"==typeof result?event.returnValue=result:null==result||result||event.preventDefault();return result};function patchProperty(obj,prop,prototype){let desc=ObjectGetOwnPropertyDescriptor(obj,prop);if(!desc&&prototype){ObjectGetOwnPropertyDescriptor(prototype,prop)&&(desc={enumerable:!0,configurable:!0})}if(!desc||!desc.configurable)return;const onPropPatchedSymbol=zoneSymbol("on"+prop+"patched");if(obj.hasOwnProperty(onPropPatchedSymbol)&&obj[onPropPatchedSymbol])return;delete desc.writable,delete desc.value;const originalDescGet=desc.get,originalDescSet=desc.set,eventName=prop.slice(2);let eventNameSymbol=zoneSymbolEventNames$1[eventName];eventNameSymbol||(eventNameSymbol=zoneSymbolEventNames$1[eventName]=zoneSymbol("ON_PROPERTY"+eventName)),desc.set=function(newValue){let target=this;if(target||obj!==_global||(target=_global),!target)return;"function"==typeof target[eventNameSymbol]&&target.removeEventListener(eventName,wrapFn),originalDescSet?.call(target,null),target[eventNameSymbol]=newValue,"function"==typeof newValue&&target.addEventListener(eventName,wrapFn,!1)},desc.get=function(){let target=this;if(target||obj!==_global||(target=_global),!target)return null;const listener=target[eventNameSymbol];if(listener)return listener;if(originalDescGet){let value=originalDescGet.call(this);if(value)return desc.set.call(this,value),"function"==typeof target.removeAttribute&&target.removeAttribute(prop),value}return null},ObjectDefineProperty(obj,prop,desc),obj[onPropPatchedSymbol]=!0}function patchOnProperties(obj,properties,prototype){if(properties)for(let i=0;i<properties.length;i++)patchProperty(obj,"on"+properties[i],prototype);else{const onProperties=[];for(const prop in obj)"on"==prop.slice(0,2)&&onProperties.push(prop);for(let j=0;j<onProperties.length;j++)patchProperty(obj,onProperties[j],prototype)}}const originalInstanceKey=zoneSymbol("originalInstance");function patchClass(className){const OriginalClass=_global[className];if(!OriginalClass)return;_global[zoneSymbol(className)]=OriginalClass,_global[className]=function(){const a=bindArguments(arguments,className);switch(a.length){case 0:this[originalInstanceKey]=new OriginalClass;break;case 1:this[originalInstanceKey]=new OriginalClass(a[0]);break;case 2:this[originalInstanceKey]=new OriginalClass(a[0],a[1]);break;case 3:this[originalInstanceKey]=new OriginalClass(a[0],a[1],a[2]);break;case 4:this[originalInstanceKey]=new OriginalClass(a[0],a[1],a[2],a[3]);break;default:throw new Error("Arg list too long.")}},attachOriginToPatched(_global[className],OriginalClass);const instance=new OriginalClass(function(){});let prop;for(prop in instance)"XMLHttpRequest"===className&&"responseBlob"===prop||function(prop){"function"==typeof instance[prop]?_global[className].prototype[prop]=function(){return this[originalInstanceKey][prop].apply(this[originalInstanceKey],arguments)}:ObjectDefineProperty(_global[className].prototype,prop,{set:function(fn){"function"==typeof fn?(this[originalInstanceKey][prop]=wrapWithCurrentZone(fn,className+"."+prop),attachOriginToPatched(this[originalInstanceKey][prop],fn)):this[originalInstanceKey][prop]=fn},get:function(){return this[originalInstanceKey][prop]}})}(prop);for(prop in OriginalClass)"prototype"!==prop&&OriginalClass.hasOwnProperty(prop)&&(_global[className][prop]=OriginalClass[prop])}function patchMethod(target,name,patchFn){let proto=target;for(;proto&&!proto.hasOwnProperty(name);)proto=ObjectGetPrototypeOf(proto);!proto&&target[name]&&(proto=target);const delegateName=zoneSymbol(name);let delegate=null;if(proto&&(!(delegate=proto[delegateName])||!proto.hasOwnProperty(delegateName))){delegate=proto[delegateName]=proto[name];if(isPropertyWritable(proto&&ObjectGetOwnPropertyDescriptor(proto,name))){const patchDelegate=patchFn(delegate,delegateName,name);proto[name]=function(){return patchDelegate(this,arguments)},attachOriginToPatched(proto[name],delegate)}}return delegate}function patchMacroTask(obj,funcName,metaCreator){let setNative=null;function scheduleTask(task){const data=task.data;return data.args[data.cbIdx]=function(){task.invoke.apply(this,arguments)},setNative.apply(data.target,data.args),task}setNative=patchMethod(obj,funcName,delegate=>function(self,args){const meta=metaCreator(self,args);return meta.cbIdx>=0&&"function"==typeof args[meta.cbIdx]?scheduleMacroTaskWithCurrentZone(meta.name,args[meta.cbIdx],meta,scheduleTask):delegate.apply(self,args)})}function attachOriginToPatched(patched,original){patched[zoneSymbol("OriginalDelegate")]=original}let isDetectedIEOrEdge=!1,ieOrEdge=!1;function isIEOrEdge(){if(isDetectedIEOrEdge)return ieOrEdge;isDetectedIEOrEdge=!0;try{const ua=internalWindow.navigator.userAgent;-1===ua.indexOf("MSIE ")&&-1===ua.indexOf("Trident/")&&-1===ua.indexOf("Edge/")||(ieOrEdge=!0)}catch(error){}return ieOrEdge}function isFunction(value){return"function"==typeof value}function isNumber(value){return"number"==typeof value}const OPTIMIZED_ZONE_EVENT_TASK_DATA={useG:!0},zoneSymbolEventNames={},globalSources={},EVENT_NAME_SYMBOL_REGX=new RegExp("^"+ZONE_SYMBOL_PREFIX+"(\\w+)(true|false)$"),IMMEDIATE_PROPAGATION_SYMBOL=zoneSymbol("propagationStopped");function prepareEventNames(eventName,eventNameToString){const falseEventName=(eventNameToString?eventNameToString(eventName):eventName)+"false",trueEventName=(eventNameToString?eventNameToString(eventName):eventName)+"true",symbol=ZONE_SYMBOL_PREFIX+falseEventName,symbolCapture=ZONE_SYMBOL_PREFIX+trueEventName;zoneSymbolEventNames[eventName]={},zoneSymbolEventNames[eventName].false=symbol,zoneSymbolEventNames[eventName].true=symbolCapture}function patchEventTarget(_global,api,apis,patchOptions){const ADD_EVENT_LISTENER=patchOptions&&patchOptions.add||"addEventListener",REMOVE_EVENT_LISTENER=patchOptions&&patchOptions.rm||"removeEventListener",LISTENERS_EVENT_LISTENER=patchOptions&&patchOptions.listeners||"eventListeners",REMOVE_ALL_LISTENERS_EVENT_LISTENER=patchOptions&&patchOptions.rmAll||"removeAllListeners",zoneSymbolAddEventListener=zoneSymbol(ADD_EVENT_LISTENER),ADD_EVENT_LISTENER_SOURCE="."+ADD_EVENT_LISTENER+":",invokeTask=function(task,target,event){if(task.isRemoved)return;const delegate=task.callback;let error;"object"==typeof delegate&&delegate.handleEvent&&(task.callback=event=>delegate.handleEvent(event),task.originalDelegate=delegate);try{task.invoke(task,target,[event])}catch(err){error=err}const options=task.options;if(options&&"object"==typeof options&&options.once){const delegate=task.originalDelegate?task.originalDelegate:task.callback;target[REMOVE_EVENT_LISTENER].call(target,event.type,delegate,options)}return error};function globalCallback(context,event,isCapture){if(!(event=event||_global.event))return;const target=context||event.target||_global,tasks=target[zoneSymbolEventNames[event.type][isCapture?"true":"false"]];if(tasks){const errors=[];if(1===tasks.length){const err=invokeTask(tasks[0],target,event);err&&errors.push(err)}else{const copyTasks=tasks.slice();for(let i=0;i<copyTasks.length&&(!event||!0!==event[IMMEDIATE_PROPAGATION_SYMBOL]);i++){const err=invokeTask(copyTasks[i],target,event);err&&errors.push(err)}}if(1===errors.length)throw errors[0];for(let i=0;i<errors.length;i++){const err=errors[i];api.nativeScheduleMicroTask(()=>{throw err})}}}const globalZoneAwareCallback=function(event){return globalCallback(this,event,!1)},globalZoneAwareCaptureCallback=function(event){return globalCallback(this,event,!0)};function patchEventTargetMethods(obj,patchOptions){if(!obj)return!1;let useGlobalCallback=!0;patchOptions&&void 0!==patchOptions.useG&&(useGlobalCallback=patchOptions.useG);const validateHandler=patchOptions&&patchOptions.vh;let checkDuplicate=!0;patchOptions&&void 0!==patchOptions.chkDup&&(checkDuplicate=patchOptions.chkDup);let returnTarget=!1;patchOptions&&void 0!==patchOptions.rt&&(returnTarget=patchOptions.rt);let proto=obj;for(;proto&&!proto.hasOwnProperty(ADD_EVENT_LISTENER);)proto=ObjectGetPrototypeOf(proto);if(!proto&&obj[ADD_EVENT_LISTENER]&&(proto=obj),!proto)return!1;if(proto[zoneSymbolAddEventListener])return!1;const eventNameToString=patchOptions&&patchOptions.eventNameToString,taskData={},nativeAddEventListener=proto[zoneSymbolAddEventListener]=proto[ADD_EVENT_LISTENER],nativeRemoveEventListener=proto[zoneSymbol(REMOVE_EVENT_LISTENER)]=proto[REMOVE_EVENT_LISTENER],nativeListeners=proto[zoneSymbol(LISTENERS_EVENT_LISTENER)]=proto[LISTENERS_EVENT_LISTENER],nativeRemoveAllListeners=proto[zoneSymbol(REMOVE_ALL_LISTENERS_EVENT_LISTENER)]=proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER];let nativePrependEventListener;patchOptions&&patchOptions.prepend&&(nativePrependEventListener=proto[zoneSymbol(patchOptions.prepend)]=proto[patchOptions.prepend]);const customSchedulePrepend=function(task){return nativePrependEventListener.call(taskData.target,taskData.eventName,task.invoke,taskData.options)},customSchedule=useGlobalCallback?function(task){if(!taskData.isExisting)return nativeAddEventListener.call(taskData.target,taskData.eventName,taskData.capture?globalZoneAwareCaptureCallback:globalZoneAwareCallback,taskData.options)}:function(task){return nativeAddEventListener.call(taskData.target,taskData.eventName,task.invoke,taskData.options)},customCancel=useGlobalCallback?function(task){if(!task.isRemoved){const symbolEventNames=zoneSymbolEventNames[task.eventName];let symbolEventName;symbolEventNames&&(symbolEventName=symbolEventNames[task.capture?"true":"false"]);const existingTasks=symbolEventName&&task.target[symbolEventName];if(existingTasks)for(let i=0;i<existingTasks.length;i++){if(existingTasks[i]===task){existingTasks.splice(i,1),task.isRemoved=!0,task.removeAbortListener&&(task.removeAbortListener(),task.removeAbortListener=null),0===existingTasks.length&&(task.allRemoved=!0,task.target[symbolEventName]=null);break}}}if(task.allRemoved)return nativeRemoveEventListener.call(task.target,task.eventName,task.capture?globalZoneAwareCaptureCallback:globalZoneAwareCallback,task.options)}:function(task){return nativeRemoveEventListener.call(task.target,task.eventName,task.invoke,task.options)},compare=patchOptions?.diff||function(task,delegate){const typeOfDelegate=typeof delegate;return"function"===typeOfDelegate&&task.callback===delegate||"object"===typeOfDelegate&&task.originalDelegate===delegate},unpatchedEvents=Zone[zoneSymbol("UNPATCHED_EVENTS")],passiveEvents=_global[zoneSymbol("PASSIVE_EVENTS")];const makeAddListener=function(nativeListener,addSource,customScheduleFn,customCancelFn,returnTarget=!1,prepend=!1){return function(){const target=this||_global;let eventName=arguments[0];patchOptions&&patchOptions.transferEventName&&(eventName=patchOptions.transferEventName(eventName));let delegate=arguments[1];if(!delegate)return nativeListener.apply(this,arguments);if(isNode&&"uncaughtException"===eventName)return nativeListener.apply(this,arguments);let isEventListenerObject=!1;if("function"!=typeof delegate){if(!delegate.handleEvent)return nativeListener.apply(this,arguments);isEventListenerObject=!0}if(validateHandler&&!validateHandler(nativeListener,delegate,target,arguments))return;const passive=!!passiveEvents&&-1!==passiveEvents.indexOf(eventName),options=function copyEventListenerOptions(options){if("object"==typeof options&&null!==options){const newOptions={...options};return options.signal&&(newOptions.signal=options.signal),newOptions}return options}(function buildEventListenerOptions(options,passive){return passive?"boolean"==typeof options?{capture:options,passive:!0}:options?"object"==typeof options&&!1!==options.passive?{...options,passive:!0}:options:{passive:!0}:options}(arguments[2],passive)),signal=options?.signal;if(signal?.aborted)return;if(unpatchedEvents)for(let i=0;i<unpatchedEvents.length;i++)if(eventName===unpatchedEvents[i])return passive?nativeListener.call(target,eventName,delegate,options):nativeListener.apply(this,arguments);const capture=!!options&&("boolean"==typeof options||options.capture),once=!(!options||"object"!=typeof options)&&options.once,zone=Zone.current;let symbolEventNames=zoneSymbolEventNames[eventName];symbolEventNames||(prepareEventNames(eventName,eventNameToString),symbolEventNames=zoneSymbolEventNames[eventName]);const symbolEventName=symbolEventNames[capture?"true":"false"];let source,existingTasks=target[symbolEventName],isExisting=!1;if(existingTasks){if(isExisting=!0,checkDuplicate)for(let i=0;i<existingTasks.length;i++)if(compare(existingTasks[i],delegate))return}else existingTasks=target[symbolEventName]=[];const constructorName=target.constructor.name,targetSource=globalSources[constructorName];targetSource&&(source=targetSource[eventName]),source||(source=constructorName+addSource+(eventNameToString?eventNameToString(eventName):eventName)),taskData.options=options,once&&(taskData.options.once=!1),taskData.target=target,taskData.capture=capture,taskData.eventName=eventName,taskData.isExisting=isExisting;const data=useGlobalCallback?OPTIMIZED_ZONE_EVENT_TASK_DATA:void 0;data&&(data.taskData=taskData),signal&&(taskData.options.signal=void 0);const task=zone.scheduleEventTask(source,delegate,data,customScheduleFn,customCancelFn);if(signal){taskData.options.signal=signal;const onAbort=()=>task.zone.cancelTask(task);nativeListener.call(signal,"abort",onAbort,{once:!0}),task.removeAbortListener=()=>signal.removeEventListener("abort",onAbort)}return taskData.target=null,data&&(data.taskData=null),once&&(taskData.options.once=!0),"boolean"!=typeof task.options&&(task.options=options),task.target=target,task.capture=capture,task.eventName=eventName,isEventListenerObject&&(task.originalDelegate=delegate),prepend?existingTasks.unshift(task):existingTasks.push(task),returnTarget?target:void 0}};return proto[ADD_EVENT_LISTENER]=makeAddListener(nativeAddEventListener,ADD_EVENT_LISTENER_SOURCE,customSchedule,customCancel,returnTarget),nativePrependEventListener&&(proto.prependListener=makeAddListener(nativePrependEventListener,".prependListener:",customSchedulePrepend,customCancel,returnTarget,!0)),proto[REMOVE_EVENT_LISTENER]=function(){const target=this||_global;let eventName=arguments[0];patchOptions&&patchOptions.transferEventName&&(eventName=patchOptions.transferEventName(eventName));const options=arguments[2],capture=!!options&&("boolean"==typeof options||options.capture),delegate=arguments[1];if(!delegate)return nativeRemoveEventListener.apply(this,arguments);if(validateHandler&&!validateHandler(nativeRemoveEventListener,delegate,target,arguments))return;const symbolEventNames=zoneSymbolEventNames[eventName];let symbolEventName;symbolEventNames&&(symbolEventName=symbolEventNames[capture?"true":"false"]);const existingTasks=symbolEventName&&target[symbolEventName];if(existingTasks)for(let i=0;i<existingTasks.length;i++){const existingTask=existingTasks[i];if(compare(existingTask,delegate)){if(existingTasks.splice(i,1),existingTask.isRemoved=!0,0===existingTasks.length&&(existingTask.allRemoved=!0,target[symbolEventName]=null,!capture&&"string"==typeof eventName)){target[ZONE_SYMBOL_PREFIX+"ON_PROPERTY"+eventName]=null}return existingTask.zone.cancelTask(existingTask),returnTarget?target:void 0}}return nativeRemoveEventListener.apply(this,arguments)},proto[LISTENERS_EVENT_LISTENER]=function(){const target=this||_global;let eventName=arguments[0];patchOptions&&patchOptions.transferEventName&&(eventName=patchOptions.transferEventName(eventName));const listeners=[],tasks=findEventTasks(target,eventNameToString?eventNameToString(eventName):eventName);for(let i=0;i<tasks.length;i++){const task=tasks[i];let delegate=task.originalDelegate?task.originalDelegate:task.callback;listeners.push(delegate)}return listeners},proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER]=function(){const target=this||_global;let eventName=arguments[0];if(eventName){patchOptions&&patchOptions.transferEventName&&(eventName=patchOptions.transferEventName(eventName));const symbolEventNames=zoneSymbolEventNames[eventName];if(symbolEventNames){const symbolEventName=symbolEventNames.false,symbolCaptureEventName=symbolEventNames.true,tasks=target[symbolEventName],captureTasks=target[symbolCaptureEventName];if(tasks){const removeTasks=tasks.slice();for(let i=0;i<removeTasks.length;i++){const task=removeTasks[i];let delegate=task.originalDelegate?task.originalDelegate:task.callback;this[REMOVE_EVENT_LISTENER].call(this,eventName,delegate,task.options)}}if(captureTasks){const removeTasks=captureTasks.slice();for(let i=0;i<removeTasks.length;i++){const task=removeTasks[i];let delegate=task.originalDelegate?task.originalDelegate:task.callback;this[REMOVE_EVENT_LISTENER].call(this,eventName,delegate,task.options)}}}}else{const keys=Object.keys(target);for(let i=0;i<keys.length;i++){const prop=keys[i],match=EVENT_NAME_SYMBOL_REGX.exec(prop);let evtName=match&&match[1];evtName&&"removeListener"!==evtName&&this[REMOVE_ALL_LISTENERS_EVENT_LISTENER].call(this,evtName)}this[REMOVE_ALL_LISTENERS_EVENT_LISTENER].call(this,"removeListener")}if(returnTarget)return this},attachOriginToPatched(proto[ADD_EVENT_LISTENER],nativeAddEventListener),attachOriginToPatched(proto[REMOVE_EVENT_LISTENER],nativeRemoveEventListener),nativeRemoveAllListeners&&attachOriginToPatched(proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER],nativeRemoveAllListeners),nativeListeners&&attachOriginToPatched(proto[LISTENERS_EVENT_LISTENER],nativeListeners),!0}let results=[];for(let i=0;i<apis.length;i++)results[i]=patchEventTargetMethods(apis[i],patchOptions);return results}function findEventTasks(target,eventName){if(!eventName){const foundTasks=[];for(let prop in target){const match=EVENT_NAME_SYMBOL_REGX.exec(prop);let evtName=match&&match[1];if(evtName&&(!eventName||evtName===eventName)){const tasks=target[prop];if(tasks)for(let i=0;i<tasks.length;i++)foundTasks.push(tasks[i])}}return foundTasks}let symbolEventName=zoneSymbolEventNames[eventName];symbolEventName||(prepareEventNames(eventName),symbolEventName=zoneSymbolEventNames[eventName]);const captureFalseTasks=target[symbolEventName.false],captureTrueTasks=target[symbolEventName.true];return captureFalseTasks?captureTrueTasks?captureFalseTasks.concat(captureTrueTasks):captureFalseTasks.slice():captureTrueTasks?captureTrueTasks.slice():[]}function patchEventPrototype(global,api){const Event=global.Event;Event&&Event.prototype&&api.patchMethod(Event.prototype,"stopImmediatePropagation",delegate=>function(self,args){self[IMMEDIATE_PROPAGATION_SYMBOL]=!0,delegate&&delegate.apply(self,args)})}function patchQueueMicrotask(global,api){api.patchMethod(global,"queueMicrotask",delegate=>function(self,args){Zone.current.scheduleMicroTask("queueMicrotask",args[0])})}const taskSymbol=zoneSymbol("zoneTask");function patchTimer(window,setName,cancelName,nameSuffix){let setNative=null,clearNative=null;cancelName+=nameSuffix;const tasksByHandleId={};function scheduleTask(task){const data=task.data;data.args[0]=function(){return task.invoke.apply(this,arguments)};const handleOrId=setNative.apply(window,data.args);return isNumber(handleOrId)?data.handleId=handleOrId:(data.handle=handleOrId,data.isRefreshable=isFunction(handleOrId.refresh)),task}function clearTask(task){const{handle,handleId}=task.data;return clearNative.call(window,handle??handleId)}setNative=patchMethod(window,setName+=nameSuffix,delegate=>function(self,args){if(isFunction(args[0])){const options={isRefreshable:!1,isPeriodic:"Interval"===nameSuffix,delay:"Timeout"===nameSuffix||"Interval"===nameSuffix?args[1]||0:void 0,args},callback=args[0];args[0]=function timer(){try{return callback.apply(this,arguments)}finally{const{handle,handleId,isPeriodic,isRefreshable}=options;isPeriodic||isRefreshable||(handleId?delete tasksByHandleId[handleId]:handle&&(handle[taskSymbol]=null))}};const task=scheduleMacroTaskWithCurrentZone(setName,args[0],options,scheduleTask,clearTask);if(!task)return task;const{handleId,handle,isRefreshable,isPeriodic}=task.data;if(handleId)tasksByHandleId[handleId]=task;else if(handle&&(handle[taskSymbol]=task,isRefreshable&&!isPeriodic)){const originalRefresh=handle.refresh;handle.refresh=function(){const{zone,state}=task;return"notScheduled"===state?(task._state="scheduled",zone._updateTaskCount(task,1)):"running"===state&&(task._state="scheduling"),originalRefresh.call(this)}}return handle??handleId??task}return delegate.apply(window,args)}),clearNative=patchMethod(window,cancelName,delegate=>function(self,args){const id=args[0];let task;isNumber(id)?(task=tasksByHandleId[id],delete tasksByHandleId[id]):(task=id?.[taskSymbol],task?id[taskSymbol]=null:task=id),task?.type?task.cancelFn&&task.zone.cancelTask(task):delegate.apply(window,args)})}function eventTargetPatch(_global,api){if(Zone[api.symbol("patchEventTarget")])return;const{eventNames,zoneSymbolEventNames,TRUE_STR,FALSE_STR,ZONE_SYMBOL_PREFIX}=api.getGlobalObjects();for(let i=0;i<eventNames.length;i++){const eventName=eventNames[i],symbol=ZONE_SYMBOL_PREFIX+(eventName+FALSE_STR),symbolCapture=ZONE_SYMBOL_PREFIX+(eventName+TRUE_STR);zoneSymbolEventNames[eventName]={},zoneSymbolEventNames[eventName][FALSE_STR]=symbol,zoneSymbolEventNames[eventName][TRUE_STR]=symbolCapture}const EVENT_TARGET=_global.EventTarget;return EVENT_TARGET&&EVENT_TARGET.prototype?(api.patchEventTarget(_global,api,[EVENT_TARGET&&EVENT_TARGET.prototype]),!0):void 0}function filterProperties(target,onProperties,ignoreProperties){if(!ignoreProperties||0===ignoreProperties.length)return onProperties;const tip=ignoreProperties.filter(ip=>ip.target===target);if(0===tip.length)return onProperties;const targetIgnoreProperties=tip[0].ignoreProperties;return onProperties.filter(op=>-1===targetIgnoreProperties.indexOf(op))}function patchFilteredProperties(target,onProperties,ignoreProperties,prototype){if(!target)return;patchOnProperties(target,filterProperties(target,onProperties,ignoreProperties),prototype)}function getOnEventNames(target){return Object.getOwnPropertyNames(target).filter(name=>name.startsWith("on")&&name.length>2).map(name=>name.substring(2))}function propertyDescriptorPatch(api,_global){if(isNode&&!isMix)return;if(Zone[api.symbol("patchEvents")])return;const ignoreProperties=_global.__Zone_ignore_on_properties;let patchTargets=[];if(isBrowser){const internalWindow=window;patchTargets=patchTargets.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const ignoreErrorProperties=[];patchFilteredProperties(internalWindow,getOnEventNames(internalWindow),ignoreProperties?ignoreProperties.concat(ignoreErrorProperties):ignoreProperties,ObjectGetPrototypeOf(internalWindow))}patchTargets=patchTargets.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<patchTargets.length;i++){const target=_global[patchTargets[i]];target?.prototype&&patchFilteredProperties(target.prototype,getOnEventNames(target.prototype),ignoreProperties)}}function patchPromise(Zone){Zone.__load_patch("ZoneAwarePromise",(global,Zone,api)=>{const ObjectGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,ObjectDefineProperty=Object.defineProperty;const __symbol__=api.symbol,_uncaughtPromiseErrors=[],isDisableWrappingUncaughtPromiseRejection=!1!==global[__symbol__("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],symbolPromise=__symbol__("Promise"),symbolThen=__symbol__("then");api.onUnhandledError=e=>{if(api.showUncaughtError()){const rejection=e&&e.rejection;rejection?console.error("Unhandled Promise rejection:",rejection instanceof Error?rejection.message:rejection,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",rejection,rejection instanceof Error?rejection.stack:void 0):console.error(e)}},api.microtaskDrainDone=()=>{for(;_uncaughtPromiseErrors.length;){const uncaughtPromiseError=_uncaughtPromiseErrors.shift();try{uncaughtPromiseError.zone.runGuarded(()=>{if(uncaughtPromiseError.throwOriginal)throw uncaughtPromiseError.rejection;throw uncaughtPromiseError})}catch(error){handleUnhandledRejection(error)}}};const UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL=__symbol__("unhandledPromiseRejectionHandler");function handleUnhandledRejection(e){api.onUnhandledError(e);try{const handler=Zone[UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL];"function"==typeof handler&&handler.call(this,e)}catch(err){}}function isThenable(value){return value&&"function"==typeof value.then}function forwardResolution(value){return value}function forwardRejection(rejection){return ZoneAwarePromise.reject(rejection)}const symbolState=__symbol__("state"),symbolValue=__symbol__("value"),symbolFinally=__symbol__("finally"),symbolParentPromiseValue=__symbol__("parentPromiseValue"),symbolParentPromiseState=__symbol__("parentPromiseState");function makeResolver(promise,state){return v=>{try{resolvePromise(promise,state,v)}catch(err){resolvePromise(promise,!1,err)}}}const once=function(){let wasCalled=!1;return function wrapper(wrappedFunction){return function(){wasCalled||(wasCalled=!0,wrappedFunction.apply(null,arguments))}}},TYPE_ERROR="Promise resolved with itself",CURRENT_TASK_TRACE_SYMBOL=__symbol__("currentTaskTrace");function resolvePromise(promise,state,value){const onceWrapper=once();if(promise===value)throw new TypeError(TYPE_ERROR);if(null===promise[symbolState]){let then=null;try{"object"!=typeof value&&"function"!=typeof value||(then=value&&value.then)}catch(err){return onceWrapper(()=>{resolvePromise(promise,!1,err)})(),promise}if(false!==state&&value instanceof ZoneAwarePromise&&value.hasOwnProperty(symbolState)&&value.hasOwnProperty(symbolValue)&&null!==value[symbolState])clearRejectedNoCatch(value),resolvePromise(promise,value[symbolState],value[symbolValue]);else if(false!==state&&"function"==typeof then)try{then.call(value,onceWrapper(makeResolver(promise,state)),onceWrapper(makeResolver(promise,!1)))}catch(err){onceWrapper(()=>{resolvePromise(promise,!1,err)})()}else{promise[symbolState]=state;const queue=promise[symbolValue];if(promise[symbolValue]=value,promise[symbolFinally]===symbolFinally&&true===state&&(promise[symbolState]=promise[symbolParentPromiseState],promise[symbolValue]=promise[symbolParentPromiseValue]),false===state&&value instanceof Error){const trace=Zone.currentTask&&Zone.currentTask.data&&Zone.currentTask.data.__creationTrace__;trace&&ObjectDefineProperty(value,CURRENT_TASK_TRACE_SYMBOL,{configurable:!0,enumerable:!1,writable:!0,value:trace})}for(let i=0;i<queue.length;)scheduleResolveOrReject(promise,queue[i++],queue[i++],queue[i++],queue[i++]);if(0==queue.length&&false==state){promise[symbolState]=0;let uncaughtPromiseError=value;try{throw new Error("Uncaught (in promise): "+function readableObjectToString(obj){if(obj&&obj.toString===Object.prototype.toString){return(obj.constructor&&obj.constructor.name||"")+": "+JSON.stringify(obj)}return obj?obj.toString():Object.prototype.toString.call(obj)}(value)+(value&&value.stack?"\n"+value.stack:""))}catch(err){uncaughtPromiseError=err}isDisableWrappingUncaughtPromiseRejection&&(uncaughtPromiseError.throwOriginal=!0),uncaughtPromiseError.rejection=value,uncaughtPromiseError.promise=promise,uncaughtPromiseError.zone=Zone.current,uncaughtPromiseError.task=Zone.currentTask,_uncaughtPromiseErrors.push(uncaughtPromiseError),api.scheduleMicroTask()}}}return promise}const REJECTION_HANDLED_HANDLER=__symbol__("rejectionHandledHandler");function clearRejectedNoCatch(promise){if(0===promise[symbolState]){try{const handler=Zone[REJECTION_HANDLED_HANDLER];handler&&"function"==typeof handler&&handler.call(this,{rejection:promise[symbolValue],promise})}catch(err){}promise[symbolState]=false;for(let i=0;i<_uncaughtPromiseErrors.length;i++)promise===_uncaughtPromiseErrors[i].promise&&_uncaughtPromiseErrors.splice(i,1)}}function scheduleResolveOrReject(promise,zone,chainPromise,onFulfilled,onRejected){clearRejectedNoCatch(promise);const promiseState=promise[symbolState],delegate=promiseState?"function"==typeof onFulfilled?onFulfilled:forwardResolution:"function"==typeof onRejected?onRejected:forwardRejection;zone.scheduleMicroTask("Promise.then",()=>{try{const parentPromiseValue=promise[symbolValue],isFinallyPromise=!!chainPromise&&symbolFinally===chainPromise[symbolFinally];isFinallyPromise&&(chainPromise[symbolParentPromiseValue]=parentPromiseValue,chainPromise[symbolParentPromiseState]=promiseState);const value=zone.run(delegate,void 0,isFinallyPromise&&delegate!==forwardRejection&&delegate!==forwardResolution?[]:[parentPromiseValue]);resolvePromise(chainPromise,!0,value)}catch(error){resolvePromise(chainPromise,!1,error)}},chainPromise)}const noop=function(){},AggregateError=global.AggregateError;class ZoneAwarePromise{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(value){return value instanceof ZoneAwarePromise?value:resolvePromise(new this(null),true,value)}static reject(error){return resolvePromise(new this(null),false,error)}static withResolvers(){const result={};return result.promise=new ZoneAwarePromise((res,rej)=>{result.resolve=res,result.reject=rej}),result}static any(values){if(!values||"function"!=typeof values[Symbol.iterator])return Promise.reject(new AggregateError([],"All promises were rejected"));const promises=[];let count=0;try{for(let v of values)count++,promises.push(ZoneAwarePromise.resolve(v))}catch(err){return Promise.reject(new AggregateError([],"All promises were rejected"))}if(0===count)return Promise.reject(new AggregateError([],"All promises were rejected"));let finished=!1;const errors=[];return new ZoneAwarePromise((resolve,reject)=>{for(let i=0;i<promises.length;i++)promises[i].then(v=>{finished||(finished=!0,resolve(v))},err=>{errors.push(err),count--,0===count&&(finished=!0,reject(new AggregateError(errors,"All promises were rejected")))})})}static race(values){let resolve,reject,promise=new this((res,rej)=>{resolve=res,reject=rej});function onResolve(value){resolve(value)}function onReject(error){reject(error)}for(let value of values)isThenable(value)||(value=this.resolve(value)),value.then(onResolve,onReject);return promise}static all(values){return ZoneAwarePromise.allWithCallback(values)}static allSettled(values){return(this&&this.prototype instanceof ZoneAwarePromise?this:ZoneAwarePromise).allWithCallback(values,{thenCallback:value=>({status:"fulfilled",value}),errorCallback:err=>({status:"rejected",reason:err})})}static allWithCallback(values,callback){let resolve,reject,promise=new this((res,rej)=>{resolve=res,reject=rej}),unresolvedCount=2,valueIndex=0;const resolvedValues=[];for(let value of values){isThenable(value)||(value=this.resolve(value));const curValueIndex=valueIndex;try{value.then(value=>{resolvedValues[curValueIndex]=callback?callback.thenCallback(value):value,unresolvedCount--,0===unresolvedCount&&resolve(resolvedValues)},err=>{callback?(resolvedValues[curValueIndex]=callback.errorCallback(err),unresolvedCount--,0===unresolvedCount&&resolve(resolvedValues)):reject(err)})}catch(thenErr){reject(thenErr)}unresolvedCount++,valueIndex++}return unresolvedCount-=2,0===unresolvedCount&&resolve(resolvedValues),promise}constructor(executor){const promise=this;if(!(promise instanceof ZoneAwarePromise))throw new Error("Must be an instanceof Promise.");promise[symbolState]=null,promise[symbolValue]=[];try{const onceWrapper=once();executor&&executor(onceWrapper(makeResolver(promise,true)),onceWrapper(makeResolver(promise,false)))}catch(error){resolvePromise(promise,!1,error)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return ZoneAwarePromise}then(onFulfilled,onRejected){let C=this.constructor?.[Symbol.species];C&&"function"==typeof C||(C=this.constructor||ZoneAwarePromise);const chainPromise=new C(noop),zone=Zone.current;return null==this[symbolState]?this[symbolValue].push(zone,chainPromise,onFulfilled,onRejected):scheduleResolveOrReject(this,zone,chainPromise,onFulfilled,onRejected),chainPromise}catch(onRejected){return this.then(null,onRejected)}finally(onFinally){let C=this.constructor?.[Symbol.species];C&&"function"==typeof C||(C=ZoneAwarePromise);const chainPromise=new C(noop);chainPromise[symbolFinally]=symbolFinally;const zone=Zone.current;return null==this[symbolState]?this[symbolValue].push(zone,chainPromise,onFinally,onFinally):scheduleResolveOrReject(this,zone,chainPromise,onFinally,onFinally),chainPromise}}ZoneAwarePromise.resolve=ZoneAwarePromise.resolve,ZoneAwarePromise.reject=ZoneAwarePromise.reject,ZoneAwarePromise.race=ZoneAwarePromise.race,ZoneAwarePromise.all=ZoneAwarePromise.all;const NativePromise=global[symbolPromise]=global.Promise;global.Promise=ZoneAwarePromise;const symbolThenPatched=__symbol__("thenPatched");function patchThen(Ctor){const proto=Ctor.prototype,prop=ObjectGetOwnPropertyDescriptor(proto,"then");if(prop&&(!1===prop.writable||!prop.configurable))return;const originalThen=proto.then;proto[symbolThen]=originalThen,Ctor.prototype.then=function(onResolve,onReject){return new ZoneAwarePromise((resolve,reject)=>{originalThen.call(this,resolve,reject)}).then(onResolve,onReject)},Ctor[symbolThenPatched]=!0}return api.patchThen=patchThen,NativePromise&&(patchThen(NativePromise),patchMethod(global,"fetch",delegate=>function zoneify(fn){return function(self,args){let resultPromise=fn.apply(self,args);if(resultPromise instanceof ZoneAwarePromise)return resultPromise;let ctor=resultPromise.constructor;return ctor[symbolThenPatched]||patchThen(ctor),resultPromise}}(delegate))),Promise[Zone.__symbol__("uncaughtPromiseErrors")]=_uncaughtPromiseErrors,ZoneAwarePromise})}function patchCallbacks(api,target,targetName,method,callbacks){const symbol=Zone.__symbol__(method);if(target[symbol])return;const nativeDelegate=target[symbol]=target[method];target[method]=function(name,opts,options){return opts&&opts.prototype&&callbacks.forEach(function(callback){const source=`${targetName}.${method}::`+callback,prototype=opts.prototype;try{if(prototype.hasOwnProperty(callback)){const descriptor=api.ObjectGetOwnPropertyDescriptor(prototype,callback);descriptor&&descriptor.value?(descriptor.value=api.wrapWithCurrentZone(descriptor.value,source),api._redefineProperty(opts.prototype,callback,descriptor)):prototype[callback]&&(prototype[callback]=api.wrapWithCurrentZone(prototype[callback],source))}else prototype[callback]&&(prototype[callback]=api.wrapWithCurrentZone(prototype[callback],source))}catch{}}),nativeDelegate.call(target,name,opts,options)},api.attachOriginToPatched(target[method],nativeDelegate)}const Zone$1=function loadZone(){const global=globalThis,checkDuplicate=!0===global[__symbol__("forceDuplicateZoneCheck")];if(global.Zone&&(checkDuplicate||"function"!=typeof global.Zone.__symbol__))throw new Error("Zone already loaded.");return global.Zone??=initZone(),global.Zone}();!function patchCommon(Zone){patchPromise(Zone),function patchToString(Zone){Zone.__load_patch("toString",global=>{const originalFunctionToString=Function.prototype.toString,ORIGINAL_DELEGATE_SYMBOL=zoneSymbol("OriginalDelegate"),PROMISE_SYMBOL=zoneSymbol("Promise"),ERROR_SYMBOL=zoneSymbol("Error"),newFunctionToString=function toString(){if("function"==typeof this){const originalDelegate=this[ORIGINAL_DELEGATE_SYMBOL];if(originalDelegate)return"function"==typeof originalDelegate?originalFunctionToString.call(originalDelegate):Object.prototype.toString.call(originalDelegate);if(this===Promise){const nativePromise=global[PROMISE_SYMBOL];if(nativePromise)return originalFunctionToString.call(nativePromise)}if(this===Error){const nativeError=global[ERROR_SYMBOL];if(nativeError)return originalFunctionToString.call(nativeError)}}return originalFunctionToString.call(this)};newFunctionToString[ORIGINAL_DELEGATE_SYMBOL]=originalFunctionToString,Function.prototype.toString=newFunctionToString;const originalObjectToString=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":originalObjectToString.call(this)}})}(Zone),function patchUtil(Zone){Zone.__load_patch("util",(global,Zone,api)=>{const eventNames=getOnEventNames(global);api.patchOnProperties=patchOnProperties,api.patchMethod=patchMethod,api.bindArguments=bindArguments,api.patchMacroTask=patchMacroTask;const SYMBOL_BLACK_LISTED_EVENTS=Zone.__symbol__("BLACK_LISTED_EVENTS"),SYMBOL_UNPATCHED_EVENTS=Zone.__symbol__("UNPATCHED_EVENTS");global[SYMBOL_UNPATCHED_EVENTS]&&(global[SYMBOL_BLACK_LISTED_EVENTS]=global[SYMBOL_UNPATCHED_EVENTS]),global[SYMBOL_BLACK_LISTED_EVENTS]&&(Zone[SYMBOL_BLACK_LISTED_EVENTS]=Zone[SYMBOL_UNPATCHED_EVENTS]=global[SYMBOL_BLACK_LISTED_EVENTS]),api.patchEventPrototype=patchEventPrototype,api.patchEventTarget=patchEventTarget,api.isIEOrEdge=isIEOrEdge,api.ObjectDefineProperty=ObjectDefineProperty,api.ObjectGetOwnPropertyDescriptor=ObjectGetOwnPropertyDescriptor,api.ObjectCreate=ObjectCreate,api.ArraySlice=ArraySlice,api.patchClass=patchClass,api.wrapWithCurrentZone=wrapWithCurrentZone,api.filterProperties=filterProperties,api.attachOriginToPatched=attachOriginToPatched,api._redefineProperty=Object.defineProperty,api.patchCallbacks=patchCallbacks,api.getGlobalObjects=()=>({globalSources,zoneSymbolEventNames,eventNames,isBrowser,isMix,isNode,TRUE_STR:"true",FALSE_STR:"false",ZONE_SYMBOL_PREFIX,ADD_EVENT_LISTENER_STR:"addEventListener",REMOVE_EVENT_LISTENER_STR:"removeEventListener"})})}(Zone)}(Zone$1),function patchBrowser(Zone){Zone.__load_patch("legacy",global=>{const legacyPatch=global[Zone.__symbol__("legacyPatch")];legacyPatch&&legacyPatch()}),Zone.__load_patch("timers",global=>{patchTimer(global,"set","clear","Timeout"),patchTimer(global,"set","clear","Interval"),patchTimer(global,"set","clear","Immediate")}),Zone.__load_patch("requestAnimationFrame",global=>{patchTimer(global,"request","cancel","AnimationFrame"),patchTimer(global,"mozRequest","mozCancel","AnimationFrame"),patchTimer(global,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(global,Zone)=>{const blockingMethods=["alert","prompt","confirm"];for(let i=0;i<blockingMethods.length;i++){patchMethod(global,blockingMethods[i],(delegate,symbol,name)=>function(s,args){return Zone.current.run(delegate,global,args,name)})}}),Zone.__load_patch("EventTarget",(global,Zone,api)=>{!function patchEvent(global,api){api.patchEventPrototype(global,api)}(global,api),eventTargetPatch(global,api);const XMLHttpRequestEventTarget=global.XMLHttpRequestEventTarget;XMLHttpRequestEventTarget&&XMLHttpRequestEventTarget.prototype&&api.patchEventTarget(global,api,[XMLHttpRequestEventTarget.prototype])}),Zone.__load_patch("MutationObserver",(global,Zone,api)=>{patchClass("MutationObserver"),patchClass("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(global,Zone,api)=>{patchClass("IntersectionObserver")}),Zone.__load_patch("FileReader",(global,Zone,api)=>{patchClass("FileReader")}),Zone.__load_patch("on_property",(global,Zone,api)=>{propertyDescriptorPatch(api,global)}),Zone.__load_patch("customElements",(global,Zone,api)=>{!function patchCustomElements(_global,api){const{isBrowser,isMix}=api.getGlobalObjects();if(!isBrowser&&!isMix||!_global.customElements||!("customElements"in _global))return;api.patchCallbacks(api,_global.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(global,api)}),Zone.__load_patch("XHR",(global,Zone)=>{!function patchXHR(window){const XMLHttpRequest=window.XMLHttpRequest;if(!XMLHttpRequest)return;const XMLHttpRequestPrototype=XMLHttpRequest.prototype;let oriAddListener=XMLHttpRequestPrototype[ZONE_SYMBOL_ADD_EVENT_LISTENER],oriRemoveListener=XMLHttpRequestPrototype[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];if(!oriAddListener){const XMLHttpRequestEventTarget=window.XMLHttpRequestEventTarget;if(XMLHttpRequestEventTarget){const XMLHttpRequestEventTargetPrototype=XMLHttpRequestEventTarget.prototype;oriAddListener=XMLHttpRequestEventTargetPrototype[ZONE_SYMBOL_ADD_EVENT_LISTENER],oriRemoveListener=XMLHttpRequestEventTargetPrototype[ZONE_SYMBOL_REMOVE_EVENT_LISTENER]}}function scheduleTask(task){const data=task.data,target=data.target;target[XHR_SCHEDULED]=!1,target[XHR_ERROR_BEFORE_SCHEDULED]=!1;const listener=target[XHR_LISTENER];oriAddListener||(oriAddListener=target[ZONE_SYMBOL_ADD_EVENT_LISTENER],oriRemoveListener=target[ZONE_SYMBOL_REMOVE_EVENT_LISTENER]),listener&&oriRemoveListener.call(target,"readystatechange",listener);const newListener=target[XHR_LISTENER]=()=>{if(target.readyState===target.DONE)if(!data.aborted&&target[XHR_SCHEDULED]&&"scheduled"===task.state){const loadTasks=target[Zone.__symbol__("loadfalse")];if(0!==target.status&&loadTasks&&loadTasks.length>0){const oriInvoke=task.invoke;task.invoke=function(){const loadTasks=target[Zone.__symbol__("loadfalse")];for(let i=0;i<loadTasks.length;i++)loadTasks[i]===task&&loadTasks.splice(i,1);data.aborted||"scheduled"!==task.state||oriInvoke.call(task)},loadTasks.push(task)}else task.invoke()}else data.aborted||!1!==target[XHR_SCHEDULED]||(target[XHR_ERROR_BEFORE_SCHEDULED]=!0)};oriAddListener.call(target,"readystatechange",newListener);return target[XHR_TASK]||(target[XHR_TASK]=task),sendNative.apply(target,data.args),target[XHR_SCHEDULED]=!0,task}function placeholderCallback(){}function clearTask(task){const data=task.data;return data.aborted=!0,abortNative.apply(data.target,data.args)}const openNative=patchMethod(XMLHttpRequestPrototype,"open",()=>function(self,args){return self[XHR_SYNC]=0==args[2],self[XHR_URL]=args[1],openNative.apply(self,args)}),fetchTaskAborting=zoneSymbol("fetchTaskAborting"),fetchTaskScheduling=zoneSymbol("fetchTaskScheduling"),sendNative=patchMethod(XMLHttpRequestPrototype,"send",()=>function(self,args){if(!0===Zone.current[fetchTaskScheduling])return sendNative.apply(self,args);if(self[XHR_SYNC])return sendNative.apply(self,args);{const options={target:self,url:self[XHR_URL],isPeriodic:!1,args,aborted:!1},task=scheduleMacroTaskWithCurrentZone("XMLHttpRequest.send",placeholderCallback,options,scheduleTask,clearTask);self&&!0===self[XHR_ERROR_BEFORE_SCHEDULED]&&!options.aborted&&"scheduled"===task.state&&task.invoke()}}),abortNative=patchMethod(XMLHttpRequestPrototype,"abort",()=>function(self,args){const task=function findPendingTask(target){return target[XHR_TASK]}(self);if(task&&"string"==typeof task.type){if(null==task.cancelFn||task.data&&task.data.aborted)return;task.zone.cancelTask(task)}else if(!0===Zone.current[fetchTaskAborting])return abortNative.apply(self,args)})}(global);const XHR_TASK=zoneSymbol("xhrTask"),XHR_SYNC=zoneSymbol("xhrSync"),XHR_LISTENER=zoneSymbol("xhrListener"),XHR_SCHEDULED=zoneSymbol("xhrScheduled"),XHR_URL=zoneSymbol("xhrURL"),XHR_ERROR_BEFORE_SCHEDULED=zoneSymbol("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",global=>{global.navigator&&global.navigator.geolocation&&function patchPrototype(prototype,fnNames){const source=prototype.constructor.name;for(let i=0;i<fnNames.length;i++){const name=fnNames[i],delegate=prototype[name];if(delegate){if(!isPropertyWritable(ObjectGetOwnPropertyDescriptor(prototype,name)))continue;prototype[name]=(delegate=>{const patched=function(){return delegate.apply(this,bindArguments(arguments,source+"."+name))};return attachOriginToPatched(patched,delegate),patched})(delegate)}}}(global.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(global,Zone)=>{function findPromiseRejectionHandler(evtName){return function(e){findEventTasks(global,evtName).forEach(eventTask=>{const PromiseRejectionEvent=global.PromiseRejectionEvent;if(PromiseRejectionEvent){const evt=new PromiseRejectionEvent(evtName,{promise:e.promise,reason:e.rejection});eventTask.invoke(evt)}})}}global.PromiseRejectionEvent&&(Zone[zoneSymbol("unhandledPromiseRejectionHandler")]=findPromiseRejectionHandler("unhandledrejection"),Zone[zoneSymbol("rejectionHandledHandler")]=findPromiseRejectionHandler("rejectionhandled"))}),Zone.__load_patch("queueMicrotask",(global,Zone,api)=>{patchQueueMicrotask(global,api)})}(Zone$1)}}]);
//# sourceMappingURL=905.2168630e.iframe.bundle.js.map