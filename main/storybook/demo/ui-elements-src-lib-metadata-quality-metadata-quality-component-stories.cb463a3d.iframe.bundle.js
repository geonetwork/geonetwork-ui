(self.webpackChunkgeonetwork_ui=self.webpackChunkgeonetwork_ui||[]).push([[2044],{"./libs/ui/elements/src/lib/metadata-quality-item/metadata-quality-item.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>MetadataQualityItemComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),biesbjerg_ngx_translate_extract_marker=__webpack_require__("./node_modules/@biesbjerg/ngx-translate-extract-marker/fesm5/biesbjerg-ngx-translate-extract-marker.js"),ng_icons_core=__webpack_require__("./node_modules/@ng-icons/core/fesm2022/ng-icons-core.mjs"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),ng_icons_material_icons_baseline=__webpack_require__("./node_modules/@ng-icons/material-icons/fesm2022/ng-icons-material-icons-baseline.mjs");(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.title.success"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.title.failed"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.description.success"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.description.failed"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.topic.success"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.topic.failed"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.keywords.success"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.keywords.failed"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.legalConstraints.success"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.legalConstraints.failed"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.contact.success"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.contact.failed"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.updateFrequency.success"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.updateFrequency.failed"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.organisation.success"),(0,biesbjerg_ngx_translate_extract_marker.x)("record.metadata.quality.organisation.failed");let MetadataQualityItemComponent=class MetadataQualityItemComponent{get icon(){return this.value?"matCheck":"matWarningAmber"}get labelKey(){return`record.metadata.quality.${this.name}.${this.value?"success":"failed"}`}static{this.propDecorators={name:[{type:core.Input}],value:[{type:core.Input}]}}};MetadataQualityItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"gn-ui-metadata-quality-item",template:'<div class="ml-4 flex flex-row">\n  <ng-icon [name]="icon" class="min-w-fit"></ng-icon>\n  <p class="ml-2 text">{{ labelKey | translate }}</p>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[ng_icons_core.$e,ngx_translate_core.h],viewProviders:[(0,ng_icons_core.EB)({matCheck:ng_icons_material_icons_baseline.FLj,matWarningAmber:ng_icons_material_icons_baseline.AGr})]})],MetadataQualityItemComponent)},"./libs/ui/elements/src/lib/metadata-quality/metadata-quality.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>MetadataQualityComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var metadata_quality_componentngResource=__webpack_require__("./libs/ui/elements/src/lib/metadata-quality/metadata-quality.component.css?ngResource"),metadata_quality_componentngResource_default=__webpack_require__.n(metadata_quality_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),metadata_quality_item_component=__webpack_require__("./libs/ui/elements/src/lib/metadata-quality-item/metadata-quality-item.component.ts"),src=__webpack_require__("./libs/ui/widgets/src/index.ts"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs");let MetadataQualityComponent=class MetadataQualityComponent{constructor(){this.smaller=!1,this.items=[]}get qualityScore(){const qualityScore=this.metadata?.extras?.qualityScore;return"number"==typeof qualityScore?qualityScore:this.calculatedQualityScore}get calculatedQualityScore(){return Math.round(100*this.items.filter((({value})=>value)).length/this.items.length)}add(name,value){!1!==this.metadataQualityDisplay?.[name]&&this.items.push({name,value})}initialize(){const contact=this.metadata?.contacts?.[0];this.items=[],this.add("title",!!this.metadata?.title),this.add("description",!!this.metadata?.abstract),this.add("topic",this.metadata?.topics?.length>0),this.add("keywords",this.metadata?.keywords?.length>0),this.add("legalConstraints",this.metadata?.legalConstraints?.length>0),this.add("organisation",!!contact?.organization),this.add("contact",!!contact?.email),this.add("updateFrequency",!!this.metadata?.updateFrequency)}ngOnChanges(changes){(changes.metadata||changes.metadataQualityDisplay)&&this.initialize()}static{this.propDecorators={metadata:[{type:core.Input}],smaller:[{type:core.Input}],metadataQualityDisplay:[{type:core.Input}]}}};MetadataQualityComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"gn-ui-metadata-quality",template:'<div *ngIf="metadataQualityDisplay" class="mb-6 metadata-quality">\n  <gn-ui-popover [content]="popoverItems" theme="light-border">\n    <div class="min-w-[200px]" [class]="smaller ? \'leading-[8px]\' : \'\'">\n      <gn-ui-progress-bar\n        tabindex="0"\n        [value]="qualityScore"\n        type="primary"\n      ></gn-ui-progress-bar>\n    </div>\n  </gn-ui-popover>\n</div>\n<ng-template #popoverItems>\n  <div class="p-2 py-4">\n    <div class="mb-4 font-bold" translate>record.metadata.quality.details</div>\n    <gn-ui-metadata-quality-item\n      *ngFor="let e of items"\n      [name]="e.name"\n      [value]="e.value"\n    ></gn-ui-metadata-quality-item>\n  </div>\n</ng-template>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[common.CommonModule,src.r3,src.aD,metadata_quality_item_component.R,ngx_translate_core.h],styles:[metadata_quality_componentngResource_default()]})],MetadataQualityComponent)},"./libs/ui/elements/src/lib/metadata-quality/metadata-quality.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),_geonetwork_ui_common_fixtures__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/common/fixtures/src/index.ts"),_metadata_quality_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/ui/elements/src/lib/metadata-quality/metadata-quality.component.ts"),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),_geonetwork_ui_util_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/util/i18n/src/index.ts"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),_geonetwork_ui_ui_widgets__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/ui/widgets/src/index.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Elements/MetadataQualityComponent",component:_metadata_quality_component__WEBPACK_IMPORTED_MODULE_2__.O,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[_angular_common__WEBPACK_IMPORTED_MODULE_5__.CommonModule,_geonetwork_ui_util_i18n__WEBPACK_IMPORTED_MODULE_3__.D7,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__.h.forRoot(_geonetwork_ui_util_i18n__WEBPACK_IMPORTED_MODULE_3__.sU),_geonetwork_ui_ui_widgets__WEBPACK_IMPORTED_MODULE_4__.r3]})]},Primary={args:{smaller:!1,metadata:(0,_geonetwork_ui_common_fixtures__WEBPACK_IMPORTED_MODULE_1__._K)()[0],metadataQualityDisplay:!0}},__namedExportsOrder=["Primary"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  args: {\n    smaller: false,\n    metadata: datasetRecordsFixture()[0] as Partial<CatalogRecord>,\n    metadataQualityDisplay: true\n  }\n}",...Primary.parameters?.docs?.source}}}},"./libs/ui/elements/src/lib/metadata-quality/metadata-quality.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host gn-ui-progress-bar {\n  --progress-bar-font-weight: 'normal';\n}\n",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);