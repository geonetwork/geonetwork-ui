/*! For license information please see 6399.d5cd20ea.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkgeonetwork_ui=self.webpackChunkgeonetwork_ui||[]).push([[6399],{"./node_modules/@angular/elements/fesm2022/elements.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{iD:()=>createCustomElement});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/merge.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js");const scheduler={schedule(taskFn,delay){const id=setTimeout(taskFn,delay);return()=>clearTimeout(id)},scheduleBeforeRender(taskFn){if("undefined"==typeof window)return scheduler.schedule(taskFn,0);if(void 0===window.requestAnimationFrame){const frameMs=16;return scheduler.schedule(taskFn,frameMs)}const id=window.requestAnimationFrame(taskFn);return()=>window.cancelAnimationFrame(id)}};let _matches;function findMatchingIndex(node,selectors,defaultIndex){let matchingIndex=defaultIndex;return function isElement(node){return!!node&&node.nodeType===Node.ELEMENT_NODE}(node)&&selectors.some(((selector,i)=>!("*"===selector||!function matchesSelector(el,selector){if(!_matches){const elProto=Element.prototype;_matches=elProto.matches||elProto.matchesSelector||elProto.mozMatchesSelector||elProto.msMatchesSelector||elProto.oMatchesSelector||elProto.webkitMatchesSelector}return el.nodeType===Node.ELEMENT_NODE&&_matches.call(el,selector)}(node,selector))&&(matchingIndex=i,!0))),matchingIndex}class ComponentNgElementStrategyFactory{constructor(component,injector){this.componentFactory=injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver).resolveComponentFactory(component)}create(injector){return new ComponentNgElementStrategy(this.componentFactory,injector)}}class ComponentNgElementStrategy{constructor(componentFactory,injector){this.componentFactory=componentFactory,this.injector=injector,this.eventEmitters=new rxjs__WEBPACK_IMPORTED_MODULE_1__.t(1),this.events=this.eventEmitters.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.w)((emitters=>(0,rxjs__WEBPACK_IMPORTED_MODULE_3__.T)(...emitters)))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map((({propName})=>propName))),this.ngZone=this.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run((()=>Zone.current))}connect(element){this.runInZone((()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(element)}))}disconnect(){this.runInZone((()=>{null!==this.componentRef&&null===this.scheduledDestroyFn&&(this.scheduledDestroyFn=scheduler.schedule((()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)}),10))}))}getInputValue(property){return this.runInZone((()=>null===this.componentRef?this.initialInputValues.get(property):this.componentRef.instance[property]))}setInputValue(property,value,transform){this.runInZone((()=>{transform&&(value=transform.call(this.componentRef?.instance,value)),null!==this.componentRef?(!function strictEquals(value1,value2){return value1===value2||value1!=value1&&value2!=value2}(value,this.getInputValue(property))||void 0===value&&this.unchangedInputs.has(property))&&(this.recordInputChange(property,value),this.unchangedInputs.delete(property),this.hasInputChanges=!0,this.componentRef.instance[property]=value,this.scheduleDetectChanges()):this.initialInputValues.set(property,value)}))}initializeComponent(element){const childInjector=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector.create({providers:[],parent:this.injector}),projectableNodes=function extractProjectableNodes(host,ngContentSelectors){const nodes=host.childNodes,projectableNodes=ngContentSelectors.map((()=>[]));let wildcardIndex=-1;ngContentSelectors.some(((selector,i)=>"*"===selector&&(wildcardIndex=i,!0)));for(let i=0,ii=nodes.length;i<ii;++i){const node=nodes[i],ngContentIndex=findMatchingIndex(node,ngContentSelectors,wildcardIndex);-1!==ngContentIndex&&projectableNodes[ngContentIndex].push(node)}return projectableNodes}(element,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(childInjector,projectableNodes,element),this.viewChangeDetectorRef=this.componentRef.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef),this.implementsOnChanges=function isFunction(value){return"function"==typeof value}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges();this.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach((({propName,transform})=>{this.initialInputValues.has(propName)&&this.setInputValue(propName,this.initialInputValues.get(propName),transform)})),this.initialInputValues.clear()}initializeOutputs(componentRef){const eventEmitters=this.componentFactory.outputs.map((({propName,templateName})=>componentRef.instance[propName].pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.U)((value=>({name:templateName,value}))))));this.eventEmitters.next(eventEmitters)}callNgOnChanges(componentRef){if(!this.implementsOnChanges||null===this.inputChanges)return;const inputChanges=this.inputChanges;this.inputChanges=null,componentRef.instance.ngOnChanges(inputChanges)}markViewForCheck(viewChangeDetectorRef){this.hasInputChanges&&(this.hasInputChanges=!1,viewChangeDetectorRef.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=scheduler.scheduleBeforeRender((()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()})))}recordInputChange(property,currentValue){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const pendingChange=this.inputChanges[property];if(pendingChange)return void(pendingChange.currentValue=currentValue);const isFirstChange=this.unchangedInputs.has(property),previousValue=isFirstChange?void 0:this.getInputValue(property);this.inputChanges[property]=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.SimpleChange(previousValue,currentValue,isFirstChange)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(fn){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(fn):fn()}}class NgElement extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function createCustomElement(component,config){const inputs=function getComponentInputs(component,injector){return injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver).resolveComponentFactory(component).inputs}(component,config.injector),strategyFactory=config.strategyFactory||new ComponentNgElementStrategyFactory(component,config.injector),attributeToPropertyInputs=function getDefaultAttributeToPropertyInputs(inputs){const attributeToPropertyInputs={};return inputs.forEach((({propName,templateName,transform})=>{attributeToPropertyInputs[function camelToDashCase(input){return input.replace(/[A-Z]/g,(char=>`-${char.toLowerCase()}`))}(templateName)]=[propName,transform]})),attributeToPropertyInputs}(inputs);class NgElementImpl extends NgElement{static#_=this.observedAttributes=Object.keys(attributeToPropertyInputs);get ngElementStrategy(){if(!this._ngElementStrategy){const strategy=this._ngElementStrategy=strategyFactory.create(this.injector||config.injector);inputs.forEach((({propName,transform})=>{if(!this.hasOwnProperty(propName))return;const value=this[propName];delete this[propName],strategy.setInputValue(propName,value,transform)}))}return this._ngElementStrategy}constructor(injector){super(),this.injector=injector}attributeChangedCallback(attrName,oldValue,newValue,namespace){const[propName,transform]=attributeToPropertyInputs[attrName];this.ngElementStrategy.setInputValue(propName,newValue,transform)}connectedCallback(){let subscribedToEvents=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),subscribedToEvents=!0),this.ngElementStrategy.connect(this),subscribedToEvents||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe((e=>{const customEvent=new CustomEvent(e.name,{detail:e.value});this.dispatchEvent(customEvent)}))}}return inputs.forEach((({propName,transform})=>{Object.defineProperty(NgElementImpl.prototype,propName,{get(){return this.ngElementStrategy.getInputValue(propName)},set(newValue){this.ngElementStrategy.setInputValue(propName,newValue,transform)},configurable:!0,enumerable:!0})})),NgElementImpl}new _angular_core__WEBPACK_IMPORTED_MODULE_0__.Version("16.1.7")},"./node_modules/@ngrx/store-devtools/fesm2022/ngrx-store-devtools.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ngrx/store/fesm2022/ngrx-store.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/empty.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/merge.js"),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/queue.js"),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/share.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/concatMap.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/timeout.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/catchError.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/take.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/skip.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/observeOn.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/withLatestFrom.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/scan.js"),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs");const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(action,timestamp){if(this.action=action,this.timestamp=timestamp,this.type=PERFORM_ACTION,void 0===action.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(timestamp){this.timestamp=timestamp,this.type=RESET}}class Rollback{constructor(timestamp){this.timestamp=timestamp,this.type=ROLLBACK}}class Commit{constructor(timestamp){this.timestamp=timestamp,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(id){this.id=id,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(start,end,active=!0){this.start=start,this.end=end,this.active=active,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(index){this.index=index,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(actionId){this.actionId=actionId,this.type=JUMP_TO_ACTION}}class ImportState{constructor(nextLiftedState){this.nextLiftedState=nextLiftedState,this.type=IMPORT_STATE}}class LockChanges{constructor(status){this.status=status,this.type=LOCK_CHANGES}}class PauseRecording{constructor(status){this.status=status,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(optionsInput){const DEFAULT_OPTIONS={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},options="function"==typeof optionsInput?optionsInput():optionsInput,logOnly=!!options.logOnly&&{pause:!0,export:!0,test:!0},features=options.features||logOnly||DEFAULT_OPTIONS.features;!0===features.import&&(features.import="custom");const config=Object.assign({},DEFAULT_OPTIONS,{features},options);if(config.maxAge&&config.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${config.maxAge}`);return config}function difference(first,second){return first.filter((item=>second.indexOf(item)<0))}function unliftState(liftedState){const{computedStates,currentStateIndex}=liftedState;if(currentStateIndex>=computedStates.length){const{state}=computedStates[computedStates.length-1];return state}const{state}=computedStates[currentStateIndex];return state}function unliftAction(liftedState){return liftedState.actionsById[liftedState.nextActionId-1]}function liftAction(action){return new PerformAction(action,+Date.now())}function sanitizeActions(actionSanitizer,actions){return Object.keys(actions).reduce(((sanitizedActions,actionIdx)=>{const idx=Number(actionIdx);return sanitizedActions[idx]=sanitizeAction(actionSanitizer,actions[idx],idx),sanitizedActions}),{})}function sanitizeAction(actionSanitizer,action,actionIdx){return{...action,action:actionSanitizer(action.action,actionIdx)}}function sanitizeStates(stateSanitizer,states){return states.map(((computedState,idx)=>({state:sanitizeState(stateSanitizer,computedState.state,idx),error:computedState.error})))}function sanitizeState(stateSanitizer,state,stateIdx){return stateSanitizer(state,stateIdx)}function shouldFilterActions(config){return config.predicate||config.actionsSafelist||config.actionsBlocklist}function filterLiftedState(liftedState,predicate,safelist,blocklist){const filteredStagedActionIds=[],filteredActionsById={},filteredComputedStates=[];return liftedState.stagedActionIds.forEach(((id,idx)=>{const liftedAction=liftedState.actionsById[id];liftedAction&&(idx&&isActionFiltered(liftedState.computedStates[idx],liftedAction,predicate,safelist,blocklist)||(filteredActionsById[id]=liftedAction,filteredStagedActionIds.push(id),filteredComputedStates.push(liftedState.computedStates[idx])))})),{...liftedState,stagedActionIds:filteredStagedActionIds,actionsById:filteredActionsById,computedStates:filteredComputedStates}}function isActionFiltered(state,action,predicate,safelist,blockedlist){const predicateMatch=predicate&&!predicate(state,action.action),safelistMatch=safelist&&!action.action.type.match(safelist.map((s=>escapeRegExp(s))).join("|")),blocklistMatch=blockedlist&&action.action.type.match(blockedlist.map((s=>escapeRegExp(s))).join("|"));return predicateMatch||safelistMatch||blocklistMatch}function escapeRegExp(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}class DevtoolsDispatcher extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{static#_=this.ɵfac=function(){let ɵDevtoolsDispatcher_BaseFactory;return function DevtoolsDispatcher_Factory(t){return(ɵDevtoolsDispatcher_BaseFactory||(ɵDevtoolsDispatcher_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetInheritedFactory"](DevtoolsDispatcher)))(t||DevtoolsDispatcher)}}();static#_2=this.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({token:DevtoolsDispatcher,factory:DevtoolsDispatcher.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DevtoolsDispatcher,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable}],null,null);const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Redux Devtools Extension");class DevtoolsExtension{constructor(devtoolsExtension,config,dispatcher){this.config=config,this.dispatcher=dispatcher,this.devtoolsExtension=devtoolsExtension,this.createActionStreams()}notify(action,state){if(this.devtoolsExtension)if(action.type===PERFORM_ACTION){if(state.isLocked||state.isPaused)return;const currentState=unliftState(state);if(shouldFilterActions(this.config)&&isActionFiltered(currentState,action,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const sanitizedState=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,currentState,state.currentStateIndex):currentState,sanitizedAction=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,action,state.nextActionId):action;this.sendToReduxDevtools((()=>this.extensionConnection.send(sanitizedAction,sanitizedState)))}else{const sanitizedLiftedState={...state,stagedActionIds:state.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,state.actionsById):state.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,state.computedStates):state.computedStates};this.sendToReduxDevtools((()=>this.devtoolsExtension.send(null,sanitizedLiftedState,this.getExtensionConfig(this.config))))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y((subscriber=>{const connection=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=connection,connection.init(),connection.subscribe((change=>subscriber.next(change))),connection.unsubscribe})):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const changes$=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),start$=changes$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)((change=>change.type===ExtensionActionTypes.START))),stop$=changes$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)((change=>change.type===ExtensionActionTypes.STOP))),liftedActions$=changes$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)((change=>change.type===ExtensionActionTypes.DISPATCH)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)((change=>this.unwrapAction(change.payload))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)((action=>action.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)((action=>action.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)((()=>action)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)((()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(action))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(action)))),actionsUntilStop$=changes$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)((change=>change.type===ExtensionActionTypes.ACTION)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)((change=>this.unwrapAction(change.payload)))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(stop$)),liftedUntilStop$=liftedActions$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(stop$));this.start$=start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(stop$)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)((()=>actionsUntilStop$))),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)((()=>liftedUntilStop$)))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(config){const extensionOptions={name:config.name,features:config.features,serialize:config.serialize,autoPause:config.autoPause??!1,trace:config.trace??!1,traceLimit:config.traceLimit??75};return!1!==config.maxAge&&(extensionOptions.maxAge=config.maxAge),extensionOptions}sendToReduxDevtools(send){try{send()}catch(err){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",err)}}static#_=this.ɵfac=function DevtoolsExtension_Factory(t){return new(t||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](DevtoolsDispatcher))};static#_2=this.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({token:DevtoolsExtension,factory:DevtoolsExtension.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DevtoolsExtension,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable}],(function(){return[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[REDUX_DEVTOOLS_EXTENSION]}]},{type:StoreDevtoolsConfig,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[STORE_DEVTOOLS_CONFIG]}]},{type:DevtoolsDispatcher}]}),null);const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(reducer,action,state,error,errorHandler){if(error)return{state,error:"Interrupted by an error up the chain"};let nextError,nextState=state;try{nextState=reducer(state,action)}catch(err){nextError=err.toString(),errorHandler.handleError(err)}return{state:nextState,error:nextError}}function recomputeStates(computedStates,minInvalidatedStateIndex,reducer,committedState,actionsById,stagedActionIds,skippedActionIds,errorHandler,isPaused){if(minInvalidatedStateIndex>=computedStates.length&&computedStates.length===stagedActionIds.length)return computedStates;const nextComputedStates=computedStates.slice(0,minInvalidatedStateIndex),lastIncludedActionId=stagedActionIds.length-(isPaused?1:0);for(let i=minInvalidatedStateIndex;i<lastIncludedActionId;i++){const actionId=stagedActionIds[i],action=actionsById[actionId].action,previousEntry=nextComputedStates[i-1],previousState=previousEntry?previousEntry.state:committedState,previousError=previousEntry?previousEntry.error:void 0,entry=skippedActionIds.indexOf(actionId)>-1?previousEntry:computeNextEntry(reducer,action,previousState,previousError,errorHandler);nextComputedStates.push(entry)}return isPaused&&nextComputedStates.push(computedStates[computedStates.length-1]),nextComputedStates}function liftInitialState(initialCommittedState,monitorReducer){return{monitorState:monitorReducer(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:initialCommittedState,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(initialCommittedState,initialLiftedState,errorHandler,monitorReducer,options={}){return reducer=>(liftedState,liftedAction)=>{let{monitorState,actionsById,nextActionId,stagedActionIds,skippedActionIds,committedState,currentStateIndex,computedStates,isLocked,isPaused}=liftedState||initialLiftedState;function commitExcessActions(n){let excess=n,idsToDelete=stagedActionIds.slice(1,excess+1);for(let i=0;i<idsToDelete.length;i++){if(computedStates[i+1].error){excess=i,idsToDelete=stagedActionIds.slice(1,excess+1);break}delete actionsById[idsToDelete[i]]}skippedActionIds=skippedActionIds.filter((id=>-1===idsToDelete.indexOf(id))),stagedActionIds=[0,...stagedActionIds.slice(excess+1)],committedState=computedStates[excess].state,computedStates=computedStates.slice(excess),currentStateIndex=currentStateIndex>excess?currentStateIndex-excess:0}function commitChanges(){actionsById={0:liftAction(INIT_ACTION)},nextActionId=1,stagedActionIds=[0],skippedActionIds=[],committedState=computedStates[currentStateIndex].state,currentStateIndex=0,computedStates=[]}liftedState||(actionsById=Object.create(actionsById));let minInvalidatedStateIndex=0;switch(liftedAction.type){case LOCK_CHANGES:isLocked=liftedAction.status,minInvalidatedStateIndex=1/0;break;case PAUSE_RECORDING:isPaused=liftedAction.status,isPaused?(stagedActionIds=[...stagedActionIds,nextActionId],actionsById[nextActionId]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),nextActionId++,minInvalidatedStateIndex=stagedActionIds.length-1,computedStates=computedStates.concat(computedStates[computedStates.length-1]),currentStateIndex===stagedActionIds.length-2&&currentStateIndex++,minInvalidatedStateIndex=1/0):commitChanges();break;case RESET:actionsById={0:liftAction(INIT_ACTION)},nextActionId=1,stagedActionIds=[0],skippedActionIds=[],committedState=initialCommittedState,currentStateIndex=0,computedStates=[];break;case COMMIT:commitChanges();break;case ROLLBACK:actionsById={0:liftAction(INIT_ACTION)},nextActionId=1,stagedActionIds=[0],skippedActionIds=[],currentStateIndex=0,computedStates=[];break;case TOGGLE_ACTION:{const{id:actionId}=liftedAction,index=skippedActionIds.indexOf(actionId);skippedActionIds=-1===index?[actionId,...skippedActionIds]:skippedActionIds.filter((id=>id!==actionId)),minInvalidatedStateIndex=stagedActionIds.indexOf(actionId);break}case SET_ACTIONS_ACTIVE:{const{start,end,active}=liftedAction,actionIds=[];for(let i=start;i<end;i++)actionIds.push(i);skippedActionIds=active?difference(skippedActionIds,actionIds):[...skippedActionIds,...actionIds],minInvalidatedStateIndex=stagedActionIds.indexOf(start);break}case JUMP_TO_STATE:currentStateIndex=liftedAction.index,minInvalidatedStateIndex=1/0;break;case JUMP_TO_ACTION:{const index=stagedActionIds.indexOf(liftedAction.actionId);-1!==index&&(currentStateIndex=index),minInvalidatedStateIndex=1/0;break}case SWEEP:stagedActionIds=difference(stagedActionIds,skippedActionIds),skippedActionIds=[],currentStateIndex=Math.min(currentStateIndex,stagedActionIds.length-1);break;case PERFORM_ACTION:{if(isLocked)return liftedState||initialLiftedState;if(isPaused||liftedState&&isActionFiltered(liftedState.computedStates[currentStateIndex],liftedAction,options.predicate,options.actionsSafelist,options.actionsBlocklist)){const lastState=computedStates[computedStates.length-1];computedStates=[...computedStates.slice(0,-1),computeNextEntry(reducer,liftedAction.action,lastState.state,lastState.error,errorHandler)],minInvalidatedStateIndex=1/0;break}options.maxAge&&stagedActionIds.length===options.maxAge&&commitExcessActions(1),currentStateIndex===stagedActionIds.length-1&&currentStateIndex++;const actionId=nextActionId++;actionsById[actionId]=liftedAction,stagedActionIds=[...stagedActionIds,actionId],minInvalidatedStateIndex=stagedActionIds.length-1;break}case IMPORT_STATE:({monitorState,actionsById,nextActionId,stagedActionIds,skippedActionIds,committedState,currentStateIndex,computedStates,isLocked,isPaused}=liftedAction.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:minInvalidatedStateIndex=0,options.maxAge&&stagedActionIds.length>options.maxAge&&(computedStates=recomputeStates(computedStates,minInvalidatedStateIndex,reducer,committedState,actionsById,stagedActionIds,skippedActionIds,errorHandler,isPaused),commitExcessActions(stagedActionIds.length-options.maxAge),minInvalidatedStateIndex=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(computedStates.filter((state=>state.error)).length>0)minInvalidatedStateIndex=0,options.maxAge&&stagedActionIds.length>options.maxAge&&(computedStates=recomputeStates(computedStates,minInvalidatedStateIndex,reducer,committedState,actionsById,stagedActionIds,skippedActionIds,errorHandler,isPaused),commitExcessActions(stagedActionIds.length-options.maxAge),minInvalidatedStateIndex=1/0);else{if(!isPaused&&!isLocked){currentStateIndex===stagedActionIds.length-1&&currentStateIndex++;const actionId=nextActionId++;actionsById[actionId]=new PerformAction(liftedAction,+Date.now()),stagedActionIds=[...stagedActionIds,actionId],minInvalidatedStateIndex=stagedActionIds.length-1,computedStates=recomputeStates(computedStates,minInvalidatedStateIndex,reducer,committedState,actionsById,stagedActionIds,skippedActionIds,errorHandler,isPaused)}computedStates=computedStates.map((cmp=>({...cmp,state:reducer(cmp.state,RECOMPUTE_ACTION)}))),currentStateIndex=stagedActionIds.length-1,options.maxAge&&stagedActionIds.length>options.maxAge&&commitExcessActions(stagedActionIds.length-options.maxAge),minInvalidatedStateIndex=1/0}break;default:minInvalidatedStateIndex=1/0}return computedStates=recomputeStates(computedStates,minInvalidatedStateIndex,reducer,committedState,actionsById,stagedActionIds,skippedActionIds,errorHandler,isPaused),monitorState=monitorReducer(monitorState,liftedAction),{monitorState,actionsById,nextActionId,stagedActionIds,skippedActionIds,committedState,currentStateIndex,computedStates,isLocked,isPaused}}}class StoreDevtools{constructor(dispatcher,actions$,reducers$,extension,scannedActions,errorHandler,initialState,config){const liftedInitialState=liftInitialState(initialState,config.monitor),liftReducer=liftReducerWith(initialState,liftedInitialState,errorHandler,config.monitor,config),liftedAction$=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(actions$.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),extension.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),dispatcher,extension.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),liftedReducer$=reducers$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftReducer)),liftedStateSubject=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),liftedStateSubscription=liftedAction$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(liftedReducer$),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)((({state:liftedState},[action,reducer])=>{let reducedLiftedState=reducer(liftedState,action);return action.type!==PERFORM_ACTION&&shouldFilterActions(config)&&(reducedLiftedState=filterLiftedState(reducedLiftedState,config.predicate,config.actionsSafelist,config.actionsBlocklist)),extension.notify(action,reducedLiftedState),{state:reducedLiftedState,action}}),{state:liftedInitialState,action:null})).subscribe((({state,action})=>{if(liftedStateSubject.next(state),action.type===PERFORM_ACTION){const unliftedAction=action.action;scannedActions.next(unliftedAction)}})),extensionStartSubscription=extension.start$.subscribe((()=>{this.refresh()})),liftedState$=liftedStateSubject.asObservable(),state$=liftedState$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));Object.defineProperty(state$,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__.O4)(state$,{manualCleanup:!0,requireSync:!0})}),this.extensionStartSubscription=extensionStartSubscription,this.stateSubscription=liftedStateSubscription,this.dispatcher=dispatcher,this.liftedState=liftedState$,this.state=state$}dispatch(action){this.dispatcher.next(action)}next(action){this.dispatcher.next(action)}error(error){}complete(){}performAction(action){this.dispatch(new PerformAction(action,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(id){this.dispatch(new ToggleAction(id))}jumpToAction(actionId){this.dispatch(new JumpToAction(actionId))}jumpToState(index){this.dispatch(new JumpToState(index))}importState(nextLiftedState){this.dispatch(new ImportState(nextLiftedState))}lockChanges(status){this.dispatch(new LockChanges(status))}pauseRecording(status){this.dispatch(new PauseRecording(status))}static#_=this.ɵfac=function StoreDevtools_Factory(t){return new(t||StoreDevtools)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ErrorHandler),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](STORE_DEVTOOLS_CONFIG))};static#_2=this.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({token:StoreDevtools,factory:StoreDevtools.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](StoreDevtools,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable}],(function(){return[{type:DevtoolsDispatcher},{type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO},{type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$},{type:DevtoolsExtension},{type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ErrorHandler},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6]}]},{type:StoreDevtoolsConfig,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[STORE_DEVTOOLS_CONFIG]}]}]}),null);const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(extension,config){return Boolean(extension)||config.monitor!==noMonitor}function createReduxDevtoolsExtension(){return"object"==typeof window&&void 0!==window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:null}function provideStoreDevtools(options={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.makeEnvironmentProviders)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:options},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(devtools){return devtools.state}class StoreDevtoolsModule{static instrument(options={}){return{ngModule:StoreDevtoolsModule,providers:[provideStoreDevtools(options)]}}static#_=this.ɵfac=function StoreDevtoolsModule_Factory(t){return new(t||StoreDevtoolsModule)};static#_2=this.ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({type:StoreDevtoolsModule});static#_3=this.ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](StoreDevtoolsModule,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,args:[{}]}],null,null)},"./node_modules/rxjs/dist/esm5/internal/operators/timeout.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>timeout});var _scheduler_async__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/async.js"),_util_isDate__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isDate.js"),_util_lift__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_util_createErrorClass__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_util_executeSchedule__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/executeSchedule.js"),TimeoutError=(0,_util_createErrorClass__WEBPACK_IMPORTED_MODULE_0__.d)((function(_super){return function TimeoutErrorImpl(info){void 0===info&&(info=null),_super(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=info}}));function timeout(config,schedulerArg){var _a=(0,_util_isDate__WEBPACK_IMPORTED_MODULE_1__.q)(config)?{first:config}:"number"==typeof config?{each:config}:config,first=_a.first,each=_a.each,_b=_a.with,_with=void 0===_b?timeoutErrorFactory:_b,_c=_a.scheduler,scheduler=void 0===_c?null!=schedulerArg?schedulerArg:_scheduler_async__WEBPACK_IMPORTED_MODULE_2__.z:_c,_d=_a.meta,meta=void 0===_d?null:_d;if(null==first&&null==each)throw new TypeError("No timeout provided.");return(0,_util_lift__WEBPACK_IMPORTED_MODULE_3__.e)((function(source,subscriber){var originalSourceSubscription,timerSubscription,lastValue=null,seen=0,startTimer=function(delay){timerSubscription=(0,_util_executeSchedule__WEBPACK_IMPORTED_MODULE_4__.f)(subscriber,scheduler,(function(){try{originalSourceSubscription.unsubscribe(),(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_5__.Xf)(_with({meta,lastValue,seen})).subscribe(subscriber)}catch(err){subscriber.error(err)}}),delay)};originalSourceSubscription=source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_6__.x)(subscriber,(function(value){null==timerSubscription||timerSubscription.unsubscribe(),seen++,subscriber.next(lastValue=value),each>0&&startTimer(each)}),void 0,void 0,(function(){(null==timerSubscription?void 0:timerSubscription.closed)||null==timerSubscription||timerSubscription.unsubscribe(),lastValue=null}))),!seen&&startTimer(null!=first?"number"==typeof first?first:+first-scheduler.now():each)}))}function timeoutErrorFactory(info){throw new TimeoutError(info)}}}]);