<div class="mt-6 bg-white border border-gray-300 overflow-hidden rounded-lg">
  <div class="w-full h-[366px] flex flex-row border-b border-gray-300">
    <div class="flex-1 flex flex-col">
      <gn-ui-date-range-inputs
        [temporalExtent]="currentTemporalExtent$ | async"
        (temporalExtentChange)="onTemporalExtentChange($event)"
      ></gn-ui-date-range-inputs>

      <div class="mt-auto mb-8 mx-8" *ngIf="isFilterModified">
        <button
          id="reset-filters-button"
          type="button"
          class="flex items-center"
          (click)="onResetFilters()"
        >
          <span translate>stac.filter.reset</span>
          <ng-icon
            name="matDeleteOutline"
            class="pointer-events-none ml-2"
          ></ng-icon>
        </button>
      </div>
    </div>

    <div class="w-[655px] flex-shrink-0">
      <gn-ui-map-container
        [context]="mapContext"
        (extentChange)="onSpatialExtentChange($event)"
        class="w-full h-full"
      >
        <div
          class="bg-white rounded-xl shadow-xl absolute left-1/2 transform -translate-x-1/2 bottom-0 mb-2.5 px-4 py-2 z-50"
        >
          <gn-ui-check-toggle
            [value]="isSpatialFilterEnabled$ | async"
            (toggled)="onSpatialFilterToggle($event)"
            [label]="'Activer le filtre dynamique sur l\'emprise spatiale'"
            [color]="'primary'"
            class="flex items-center"
          ></gn-ui-check-toggle>
        </div>
      </gn-ui-map-container>
    </div>
  </div>
  <gn-ui-results-grid [items]="items$ | async"></gn-ui-results-grid>
</div>
