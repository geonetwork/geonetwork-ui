<div class="flex flex-col gap-6">
  @for (
    section of facade.currentSections$ | async;
    track sectionTracker($index, section)
  ) {
    @if (!section.hidden) {
      <div class="flex flex-col gap-6 border p-8 rounded-[8px] shadow">
        <div class="flex flex-col gap-2">
          @if (section.labelKey) {
            <div class="text-2xl font-title text-black" translate>
              {{ section.labelKey }}
            </div>
          }
          @if (section.descriptionKey) {
            <div class="text-gray-800 text-sm" translate>
              {{ section.descriptionKey }}
            </div>
          }
        </div>
        <div class="grid auto-rows-auto grid-cols-2 gap-[32px]">
          @for (
            field of section.fieldsWithValues;
            track fieldTracker($index, field)
          ) {
            @if (!field.config.hidden) {
              <gn-ui-form-field
                [ngClass]="
                  field.config.gridColumnSpan === 1
                    ? 'col-span-1'
                    : 'col-span-2'
                "
                [uniqueIdentifier]="recordUniqueIdentifier$ | async"
                [model]="field.config.model!"
                [modelSpecifier]="field.config.modelSpecifier!"
                [config]="field.config.formFieldConfig"
                [value]="field.value"
                [componentName]="field.config.componentName"
                (valueChange)="
                  handleFieldValueChange(field.config.model!, $event)
                "
              ></gn-ui-form-field>
            }
          }
        </div>
      </div>
    }
  }
</div>
