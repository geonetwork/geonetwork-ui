<div class="flex flex-row items-center group" (click)="toggleCollapsed()">
  <span
    class="flex-grow flex-shrink truncate font-bold cursor-pointer text-gray-900 group-hover:text-black"
    >{{ title | translate }}</span
  >
  <div
    *ngIf="!collapsed"
    class="flex-shrink-0 cursor-pointer text-gray-900 group-hover:text-black"
    style="min-width: 20px;"
  >
    <!-- chevron-down svg -->
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 20 20"
      fill="currentColor"
    >
      <path
        fill-rule="evenodd"
        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
        clip-rule="evenodd"
      />
    </svg>
  </div>
  <div
    *ngIf="collapsed"
    class="flex-shrink-0 cursor-pointer text-gray-900 group-hover:text-black"
    style="min-width: 20px;"
  >
    <!-- chevron-right svg -->
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 20 20"
      fill="currentColor"
    >
      <path
        fill-rule="evenodd"
        d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
        clip-rule="evenodd"
      />
    </svg>
  </div>
</div>
<div *ngIf="!collapsed" class="ml-8">
  <input
    type="text"
    class="w-full rounded border-solid border-2 border-gray-400"
    *ngIf="canFilter"
    [ngModel]="filter"
    (ngModelChange)="onFilterChange($event)"
  />
  <ui-facet-item
    *ngFor="let item of getListItems()"
    [label]="item.value"
    [count]="item.count"
    (selectedChange)="onListItemSelectedChange($event, item)"
    (invertedChange)="onListItemInvertedChange($event, item)"
  ></ui-facet-item>
  <a href *ngIf="canShowMore()" (click)="onMoreClick()">more</a>
</div>
