<div class="flex flex-col border border-gray-300 rounded-lg bg-white h-full">
  <div class="flex-1 overflow-y-hidden overflow-x-auto rounded-lg">
    <table
      mat-table
      [dataSource]="dataSource"
      matSort
      (matSortChange)="setSort($event)"
    >
      <ng-container *ngFor="let prop of properties" [matColumnDef]="prop">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          class="text-sm text-black bg-white"
        >
          {{ prop }}
        </th>
        <td
          mat-cell
          *matCellDef="let element"
          class="whitespace-nowrap pr-1 truncate"
        >
          {{ element[prop] }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="properties; sticky: true"></tr>
      <tr
        [id]="getRowEltId(row.id)"
        mat-row
        *matRowDef="let row; columns: properties"
        (click)="selected.emit(row)"
        [class.active]="row.id === activeId"
      ></tr>
    </table>
  </div>

  <mat-paginator
    class="sticky bottom-0 right-0 rounded-lg"
    (page)="setPagination()"
    [length]="count"
    [pageSize]="10"
    [showFirstLastButtons]="true"
    [hidePageSize]="true"
  ></mat-paginator>
</div>
