<div class="border border-gray-300 rounded-lg overflow-hidden bg-white h-full">
  <table
    mat-table
    [dataSource]="dataSource"
    class="mat-elevation-z8"
    matSort
    (matSortChange)="setSort($event)"
  >
    <ng-container *ngFor="let prop of properties" [matColumnDef]="prop">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        class="text-sm text-black bg-white"
      >
        {{ prop }}
      </th>
      <td
        mat-cell
        *matCellDef="let element"
        class="whitespace-nowrap pr-1 truncate"
      >
        {{ element[prop] }}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="properties; sticky: true"></tr>
    <tr
      [id]="getRowEltId(row.id)"
      mat-row
      *matRowDef="let row; columns: properties"
      (click)="selected.emit(row)"
      [class.active]="row.id === activeId"
    ></tr>
  </table>
  <div class="text-gray-900 border-t border-gray-300 px-4 py-2 text-sm">
    <span class="count font-extrabold text-primary">{{ count }}</span
    >&nbsp;<span translate>table.object.count</span>.
  </div>
</div>
