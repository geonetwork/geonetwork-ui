<div
  class="border border-gray-300 rounded-lg overflow-y-hidden overflow-x-auto bg-white h-full"
>
  <table
    mat-table
    [dataSource]="dataSource"
    matSort
    (matSortChange)="setSort($event)"
  >
    <ng-container *ngFor="let prop of properties" [matColumnDef]="prop">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        class="text-sm text-black bg-white"
      >
        {{ prop }}
      </th>
      <td
        mat-cell
        *matCellDef="let element"
        class="whitespace-nowrap pr-1 truncate"
      >
        {{ element[prop] }}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="properties; sticky: true"></tr>
    <tr
      [id]="getRowEltId(row.id)"
      mat-row
      *matRowDef="let row; columns: properties"
      (click)="selected.emit(row)"
      [class.active]="row.id === activeId"
    ></tr>
  </table>
  <mat-paginator
    class="absolute bottom-4 right-[2px]"
    (page)="setPagination()"
    [length]="count"
    [pageSize]="10"
    [showFirstLastButtons]="true"
    [hidePageSize]="true"
  ></mat-paginator>
</div>
