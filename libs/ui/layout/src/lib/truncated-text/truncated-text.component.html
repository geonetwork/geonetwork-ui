<div
  #originRef
  class="flex items-center justify-between w-full gap-2"
  cdkOverlayOrigin
  [class]="extraClass"
  #trigger="cdkOverlayOrigin"
>
  <span #textElement class="truncate">
    {{ text }}
  </span>
  <gn-ui-button
    *ngIf="isTextTruncated"
    type="outline"
    extraClass="w-10 h-8 border rounded-lg"
    (buttonClick)="toggleOverlay()"
  >
    <ng-icon name="iconoirExpand" size="24"> </ng-icon>
  </gn-ui-button>

  <ng-template
    cdkConnectedOverlay
    [cdkConnectedOverlayOrigin]="trigger"
    [cdkConnectedOverlayOpen]="isOpen"
    [cdkConnectedOverlayPositions]="[overlayPosition]"
    cdkConnectedOverlayPush
    [cdkConnectedOverlayWidth]="'auto'"
    [cdkConnectedOverlayFlexibleDimensions]="true"
    [cdkConnectedOverlayGrowAfterOpen]="true"
    (detach)="close()"
  >
    <div
      *ngIf="isVisible"
      class="bg-white shadow-lg border border-gray-300 flex"
    >
      <div class="sm:w-64 xs:w-32">
        <p class="m-2">{{ text }}</p>
      </div>
      <gn-ui-button
        class="m-2 flex-shrink-0"
        type="light"
        (buttonClick)="close()"
        extraClass="w-10 h-8 px-1 bg-white"
      >
        <ng-icon name="iconoirReduce" size="24"> </ng-icon>
      </gn-ui-button>
    </div>
  </ng-template>
</div>
