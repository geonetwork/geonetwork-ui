<div class="flex justify-between items-center mb-6">
  <p
    class="text-[28px] text-title text-center font-title sm:text-left"
    translate
  >
    record.metadata.about
  </p>
  <gn-ui-badge *ngIf="metadata.updateStatus" class="opacity-45"
    ><span class="uppercase">{{ metadata.updateStatus }}</span></gn-ui-badge
  >
</div>
<div class="mb-6 md-description sm:mb-4 sm:pr-16">
  <gn-ui-content-ghost ghostClass="h-32" [showContent]="fieldReady('abstract')">
    <p
      class="whitespace-pre-line break-words"
      [innerHTML]="metadata.abstract | safe: 'html'"
    ></p>
  </gn-ui-content-ghost>
</div>

<ng-container *ngIf="metadata.keywords?.length">
  <p class="mb-3 font-medium text-primary text-sm" translate>
    record.metadata.keywords
  </p>
  <div class="mb-9 sm:mb-16">
    <gn-ui-badge
      class="inline-block mr-2 mb-2 lowercase"
      (click)="onKeywordClick(keyword)"
      [clickable]="true"
      *ngFor="let keyword of metadata.keywords"
      >{{ keyword }}</gn-ui-badge
    >
  </div>
</ng-container>

<gn-ui-expandable-panel
  *ngIf="metadata.lineage"
  [title]="'record.metadata.origin' | translate"
>
  <p class="mb-5 pt-4 whitespace-pre-line break-words">
    {{ metadata.lineage }}
  </p>
  <div
    class="py-4 px-6 rounded bg-gray-100 grid grid-cols-2 gap-y-[10px] gap-x-[20px] text-gray-700 info-grid"
  >
    <div *ngIf="metadata.updatedOn">
      <p class="text-sm" translate>record.metadata.updatedOn</p>
      <p class="text-primary font-medium mt-2">
        {{ metadata.updatedOn && metadata.updatedOn.toLocaleString() }}
      </p>
    </div>
    <div *ngIf="metadata.updateFrequency">
      <p class="text-sm" translate>record.metadata.updateFrequency</p>
      <p class="text-primary font-medium mt-2">
        {{ metadata.updateFrequency }}
      </p>
    </div>
    <div *ngIf="metadata.updateStatus">
      <p class="text-sm" translate>record.metadata.updateStatus</p>
      <p class="text-primary font-medium mt-2">
        {{ metadata.updateStatus }}
      </p>
    </div>
  </div>
</gn-ui-expandable-panel>
<gn-ui-expandable-panel
  *ngIf="hasUsage"
  [title]="'record.metadata.usage' | translate"
>
  <div class="py-4 px-6 rounded bg-gray-100 text-gray-700 flex flex-wrap gap-2">
    <gn-ui-badge *ngIf="metadata.isOpenData">
      <span translate>record.metadata.isOpenData</span>
    </gn-ui-badge>
    <span *ngFor="let constraint of metadata.constraints">
      {{ constraint }}
    </span>
    <span class="noUsage" *ngIf="!metadata.constraints">
      {{ 'record.metadata.noUsage' | translate }}
    </span>
  </div>
</gn-ui-expandable-panel>
<gn-ui-expandable-panel
  *ngIf="landingPages && landingPages.length > 0"
  [title]="'record.metadata.details' | translate"
>
  <div class="py-5 px-5 rounded bg-gray-100 text-gray-700">
    <p class="text-sm" translate>record.metadata.sheet</p>
    <a [href]="landingPages[0].url" target="_blank">
      <mat-icon class="inline-block align-bottom pt-1.5 text-xs text-black"
        >open_in_new</mat-icon
      >
      <span class="text-primary">{{ landingPages[0].url }}</span>
    </a>
  </div>
</gn-ui-expandable-panel>
