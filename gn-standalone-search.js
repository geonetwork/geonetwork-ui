(self.webpackChunkwebcomponents=self.webpackChunkwebcomponents||[]).push([[45],{8257:$=>{"use strict";$.exports=function Z(u){return null===u||"object"!=typeof u||null!=u.toJSON?JSON.stringify(u):Array.isArray(u)?"["+u.reduce((S,x,h)=>S+(0===h?"":",")+Z(void 0===x||"symbol"==typeof x?null:x),"")+"]":"{"+Object.keys(u).sort().reduce((S,x,h)=>void 0===u[x]||"symbol"==typeof u[x]?S:S+(0===S.length?"":",")+Z(x)+":"+Z(u[x]),"")+"}"}},8398:($,Z,u)=>{"use strict";var S=u(4510).default;const{isArray:x,isObject:h,isString:g}=u(9098),{asArray:J}=u(6035),{prependBase:r}=u(3834),n=u(9027),t=u(7192);function y(k){throw new n("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:k})}function N({context:k,base:l}){if(!k)return;const a=k["@context"];if(g(a))k["@context"]=r(l,a);else if(x(a))for(let j=0;j<a.length;++j){const d=a[j];g(d)?a[j]=r(l,d):h(d)&&N({context:{"@context":d},base:l})}else if(h(a))for(const j in a)N({context:a[j],base:l})}$.exports=class{constructor({sharedCache:l}){this.perOpCache=new Map,this.sharedCache=l}resolve({activeCtx:l,context:a,documentLoader:j,base:d,cycles:L=new Set}){var E=this;return S(function*(){a&&h(a)&&a["@context"]&&(a=a["@context"]),a=J(a);const Y=[];for(const R of a){if(g(R)){let s=E._get(R);s||(s=yield E._resolveRemoteContext({activeCtx:l,url:R,documentLoader:j,base:d,cycles:L})),x(s)?Y.push(...s):Y.push(s);continue}if(null===R){Y.push(new t({document:null}));continue}h(R)||y(a);const e=JSON.stringify(R);let o=E._get(e);o||(o=new t({document:R}),E._cacheResolvedContext({key:e,resolved:o,tag:"static"})),Y.push(o)}return Y})()}_get(l){let a=this.perOpCache.get(l);if(!a){const j=this.sharedCache.get(l);j&&(a=j.get("static"),a&&this.perOpCache.set(l,a))}return a}_cacheResolvedContext({key:l,resolved:a,tag:j}){if(this.perOpCache.set(l,a),void 0!==j){let d=this.sharedCache.get(l);d||(d=new Map,this.sharedCache.set(l,d)),d.set(j,a)}return a}_resolveRemoteContext({activeCtx:l,url:a,documentLoader:j,base:d,cycles:L}){var E=this;return S(function*(){a=r(d,a);const{context:Y,remoteDoc:R}=yield E._fetchContext({activeCtx:l,url:a,documentLoader:j,cycles:L});N({context:Y,base:d=R.documentUrl||a});const e=yield E.resolve({activeCtx:l,context:Y,documentLoader:j,base:d,cycles:L});return E._cacheResolvedContext({key:a,resolved:e,tag:R.tag}),e})()}_fetchContext({activeCtx:l,url:a,documentLoader:j,cycles:d}){return S(function*(){if(d.size>10)throw new n("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===l.processingMode?"loading remote context failed":"context overflow",max:10});if(d.has(a))throw new n("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===l.processingMode?"recursive context inclusion":"context overflow",url:a});let L,E;d.add(a);try{E=yield j(a),L=E.document||null,g(L)&&(L=JSON.parse(L))}catch(Y){throw new n("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:a,cause:Y})}if(!h(L))throw new n("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:a});return L="@context"in L?{"@context":L["@context"]}:{"@context":{}},E.contextUrl&&(x(L["@context"])||(L["@context"]=[L["@context"]]),L["@context"].push(E.contextUrl)),{context:L,remoteDoc:E}})()}}},9027:$=>{"use strict";$.exports=class extends Error{constructor(u="An unspecified JSON-LD error occurred.",S="jsonld.Error",x={}){super(u),this.name=S,this.message=u,this.details=x}}},1985:$=>{"use strict";$.exports=Z=>{class u{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(u,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(u.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:u}),u.compact=function(S,x){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):Z.compact(S,x)},u.expand=function(S){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):Z.expand(S)},u.flatten=function(S){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):Z.flatten(S)},u}},6441:($,Z,u)=>{"use strict";$.exports=u(7073).NQuads},7579:($,Z,u)=>{"use strict";var S=u(4510).default;$.exports=class{constructor(){this._requests={}}wrapLoader(h){const g=this;return g._loader=h,function(){return g.add.apply(g,arguments)}}add(h){var g=this;return S(function*(){let J=g._requests[h];if(J)return Promise.resolve(J);J=g._requests[h]=g._loader(h);try{return yield J}finally{delete g._requests[h]}})()}}},7192:($,Z,u)=>{"use strict";const S=u(1983);$.exports=class{constructor({document:g}){this.document=g,this.cache=new S({max:10})}getProcessed(g){return this.cache.get(g)}setProcessed(g,J){this.cache.set(g,J)}}},7374:($,Z,u)=>{"use strict";var S=u(4510).default;const x=u(9027),{isArray:h,isObject:g,isString:J,isUndefined:r}=u(9098),{isList:n,isValue:t,isGraph:i,isSimpleGraph:y,isSubjectReference:N}=u(2926),{expandIri:k,getContextValue:l,isKeyword:a,process:j,processingMode:d}=u(3104),{removeBase:L,prependBase:E}=u(3834),{REGEX_KEYWORD:Y,addValue:R,asArray:e,compareShortestLeast:o}=u(6035),s={};function T(A,f,v){if("@nest"!==k(A,f,{vocab:!0},v))throw new x("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}$.exports=s,s.compact=function(){var A=S(function*({activeCtx:f,activeProperty:v=null,element:_,options:O={}}){if(h(_)){let X=[];for(let I=0;I<_.length;++I){const p=yield s.compact({activeCtx:f,activeProperty:v,element:_[I],options:O});null!==p&&X.push(p)}return O.compactArrays&&1===X.length&&0===(l(f,v,"@container")||[]).length&&(X=X[0]),X}const H=l(f,v,"@context");if(r(H)||(f=yield j({activeCtx:f,localCtx:H,propagate:!0,overrideProtected:!0,options:O})),g(_)){if(O.link&&"@id"in _&&O.link.hasOwnProperty(_["@id"])){const G=O.link[_["@id"]];for(let Q=0;Q<G.length;++Q)if(G[Q].expanded===_)return G[Q].compacted}if(t(_)||N(_)){const G=s.compactValue({activeCtx:f,activeProperty:v,value:_,options:O});return O.link&&N(_)&&(O.link.hasOwnProperty(_["@id"])||(O.link[_["@id"]]=[]),O.link[_["@id"]].push({expanded:_,compacted:G})),G}if(n(_)&&(l(f,v,"@container")||[]).includes("@list"))return s.compact({activeCtx:f,activeProperty:v,element:_["@list"],options:O});const X="@reverse"===v,I={},p=f;!t(_)&&!N(_)&&(f=f.revertToPreviousContext());const b=l(p,v,"@context");r(b)||(f=yield j({activeCtx:f,localCtx:b,propagate:!0,overrideProtected:!0,options:O})),O.link&&"@id"in _&&(O.link.hasOwnProperty(_["@id"])||(O.link[_["@id"]]=[]),O.link[_["@id"]].push({expanded:_,compacted:I}));let P=_["@type"]||[];P.length>1&&(P=Array.from(P).sort());const M=f;for(const G of P){const Q=s.compactIri({activeCtx:M,iri:G,relativeTo:{vocab:!0}}),z=l(p,Q,"@context");r(z)||(f=yield j({activeCtx:f,localCtx:z,options:O,propagate:!1}))}const c=Object.keys(_).sort();for(const G of c){const Q=_[G];if("@id"!==G)if("@type"!==G)if("@reverse"!==G)if("@preserve"!==G)if("@index"!==G)if("@graph"!==G&&"@list"!==G&&"@included"!==G&&a(G)){const z=s.compactIri({activeCtx:f,iri:G,relativeTo:{vocab:!0}});R(I,z,Q)}else{if(!h(Q))throw new x("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===Q.length){const z=s.compactIri({activeCtx:f,iri:G,value:Q,relativeTo:{vocab:!0},reverse:X}),K=f.mappings.has(z)?f.mappings.get(z)["@nest"]:null;let F=I;K&&(T(f,K,O),g(I[K])||(I[K]={}),F=I[K]),R(F,z,Q,{propertyIsArray:!0})}for(const z of Q){const K=s.compactIri({activeCtx:f,iri:G,value:z,relativeTo:{vocab:!0},reverse:X}),F=f.mappings.has(K)?f.mappings.get(K)["@nest"]:null;let V=I;F&&(T(f,F,O),g(I[F])||(I[F]={}),V=I[F]);const D=l(f,K,"@container")||[],w=i(z),B=n(z);let W;B?W=z["@list"]:w&&(W=z["@graph"]);let U=yield s.compact({activeCtx:f,activeProperty:K,element:B||w?W:z,options:O});if(B){if(h(U)||(U=[U]),D.includes("@list")){R(V,K,U,{valueIsArray:!0,allowDuplicate:!0});continue}U={[s.compactIri({activeCtx:f,iri:"@list",relativeTo:{vocab:!0}})]:U},"@index"in z&&(U[s.compactIri({activeCtx:f,iri:"@index",relativeTo:{vocab:!0}})]=z["@index"])}if(w)if(D.includes("@graph")&&(D.includes("@id")||D.includes("@index")&&y(z))){let C;V.hasOwnProperty(K)?C=V[K]:V[K]=C={};const ee=(D.includes("@id")?z["@id"]:z["@index"])||s.compactIri({activeCtx:f,iri:"@none",relativeTo:{vocab:!0}});R(C,ee,U,{propertyIsArray:!O.compactArrays||D.includes("@set")})}else D.includes("@graph")&&y(z)?(h(U)&&U.length>1&&(U={"@included":U}),R(V,K,U,{propertyIsArray:!O.compactArrays||D.includes("@set")})):(h(U)&&1===U.length&&O.compactArrays&&(U=U[0]),U={[s.compactIri({activeCtx:f,iri:"@graph",relativeTo:{vocab:!0}})]:U},"@id"in z&&(U[s.compactIri({activeCtx:f,iri:"@id",relativeTo:{vocab:!0}})]=z["@id"]),"@index"in z&&(U[s.compactIri({activeCtx:f,iri:"@index",relativeTo:{vocab:!0}})]=z["@index"]),R(V,K,U,{propertyIsArray:!O.compactArrays||D.includes("@set")}));else if(D.includes("@language")||D.includes("@index")||D.includes("@id")||D.includes("@type")){let C,ee;if(V.hasOwnProperty(K)?C=V[K]:V[K]=C={},D.includes("@language"))t(U)&&(U=U["@value"]),ee=z["@language"];else if(D.includes("@index")){const te=l(f,K,"@index")||"@index",q=s.compactIri({activeCtx:f,iri:te,relativeTo:{vocab:!0}});if("@index"===te)ee=z["@index"],delete U[q];else{let ne;if([ee,...ne]=e(U[te]||[]),J(ee))switch(ne.length){case 0:delete U[te];break;case 1:U[te]=ne[0];break;default:U[te]=ne}else ee=null}}else if(D.includes("@id")){const te=s.compactIri({activeCtx:f,iri:"@id",relativeTo:{vocab:!0}});ee=U[te],delete U[te]}else if(D.includes("@type")){const te=s.compactIri({activeCtx:f,iri:"@type",relativeTo:{vocab:!0}});let q;switch([ee,...q]=e(U[te]||[]),q.length){case 0:delete U[te];break;case 1:U[te]=q[0];break;default:U[te]=q}1===Object.keys(U).length&&"@id"in z&&(U=yield s.compact({activeCtx:f,activeProperty:K,element:{"@id":z["@id"]},options:O}))}ee||(ee=s.compactIri({activeCtx:f,iri:"@none",relativeTo:{vocab:!0}})),R(C,ee,U,{propertyIsArray:D.includes("@set")})}else{const C=!O.compactArrays||D.includes("@set")||D.includes("@list")||h(U)&&0===U.length||"@list"===G||"@graph"===G;R(V,K,U,{propertyIsArray:C})}}}else{if((l(f,v,"@container")||[]).includes("@index"))continue;const K=s.compactIri({activeCtx:f,iri:G,relativeTo:{vocab:!0}});R(I,K,Q)}else{const z=yield s.compact({activeCtx:f,activeProperty:v,element:Q,options:O});h(z)&&0===z.length||R(I,G,z)}else{const z=yield s.compact({activeCtx:f,activeProperty:"@reverse",element:Q,options:O});for(const K in z)if(f.mappings.has(K)&&f.mappings.get(K).reverse){const F=z[K],D=(l(f,K,"@container")||[]).includes("@set")||!O.compactArrays;R(I,K,F,{propertyIsArray:D}),delete z[K]}if(Object.keys(z).length>0){const K=s.compactIri({activeCtx:f,iri:G,relativeTo:{vocab:!0}});R(I,K,z)}}else{let z=e(Q).map(w=>s.compactIri({activeCtx:p,iri:w,relativeTo:{vocab:!0}}));1===z.length&&(z=z[0]);const K=s.compactIri({activeCtx:f,iri:"@type",relativeTo:{vocab:!0}}),D=(l(f,K,"@container")||[]).includes("@set")&&d(f,1.1)||h(z)&&0===Q.length;R(I,K,z,{propertyIsArray:D})}else{let z=e(Q).map(F=>s.compactIri({activeCtx:f,iri:F,relativeTo:{vocab:!1},base:O.base}));1===z.length&&(z=z[0]),I[s.compactIri({activeCtx:f,iri:"@id",relativeTo:{vocab:!0}})]=z}}return I}return _});return function(f){return A.apply(this,arguments)}}(),s.compactIri=({activeCtx:A,iri:f,value:v=null,relativeTo:_={vocab:!1},reverse:O=!1,base:H=null})=>{if(null===f)return f;A.isPropertyTermScoped&&A.previousContext&&(A=A.previousContext);const X=A.getInverse();if(a(f)&&f in X&&"@none"in X[f]&&"@type"in X[f]["@none"]&&"@none"in X[f]["@none"]["@type"])return X[f]["@none"]["@type"]["@none"];if(_.vocab&&f in X){const M=A["@language"]||"@none",c=[];g(v)&&"@index"in v&&!("@graph"in v)&&c.push("@index","@index@set"),g(v)&&"@preserve"in v&&(v=v["@preserve"][0]),i(v)?("@index"in v&&c.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in v&&c.push("@graph@id","@graph@id@set"),c.push("@graph","@graph@set","@set"),"@index"in v||c.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in v||c.push("@graph@id","@graph@id@set")):g(v)&&!t(v)&&c.push("@id","@id@set","@type","@set@type");let G="@language",Q="@null";if(O)G="@type",Q="@reverse",c.push("@set");else if(n(v)){"@index"in v||c.push("@list");const K=v["@list"];if(0===K.length)G="@any",Q="@none";else{let F=0===K.length?M:null,V=null;for(let D=0;D<K.length;++D){const w=K[D];let B="@none",W="@none";if(t(w)?"@direction"in w?B=`${(w["@language"]||"").toLowerCase()}_${w["@direction"]}`:"@language"in w?B=w["@language"].toLowerCase():"@type"in w?W=w["@type"]:B="@null":W="@id",null===F?F=B:B!==F&&t(w)&&(F="@none"),null===V?V=W:W!==V&&(V="@none"),"@none"===F&&"@none"===V)break}F=F||"@none",V=V||"@none","@none"!==V?(G="@type",Q=V):Q=F}}else{if(t(v))if("@language"in v&&!("@index"in v)){c.push("@language","@language@set"),Q=v["@language"];const K=v["@direction"];K&&(Q=`${Q}_${K}`)}else"@direction"in v&&!("@index"in v)?Q=`_${v["@direction"]}`:"@type"in v&&(G="@type",Q=v["@type"]);else G="@type",Q="@id";c.push("@set")}c.push("@none"),g(v)&&!("@index"in v)&&c.push("@index","@index@set"),t(v)&&1===Object.keys(v).length&&c.push("@language","@language@set");const z=function m(A,f,v,_,O,H){null===H&&(H="@null");const X=[];if(("@id"===H||"@reverse"===H)&&g(v)&&"@id"in v){"@reverse"===H&&X.push("@reverse");const p=s.compactIri({activeCtx:A,iri:v["@id"],relativeTo:{vocab:!0}});A.mappings.has(p)&&A.mappings.get(p)&&A.mappings.get(p)["@id"]===v["@id"]?X.push.apply(X,["@vocab","@id"]):X.push.apply(X,["@id","@vocab"])}else{X.push(H);const p=X.find(b=>b.includes("_"));p&&X.push(p.replace(/^[^_]+_/,"_"))}X.push("@none");const I=A.inverse[f];for(const p of _){if(!(p in I))continue;const b=I[p][O];for(const P of X)if(P in b)return b[P]}return null}(A,f,v,c,G,Q);if(null!==z)return z}if(_.vocab&&"@vocab"in A){const M=A["@vocab"];if(0===f.indexOf(M)&&f!==M){const c=f.substr(M.length);if(!A.mappings.has(c))return c}}let I=null;const p=[];let b=A.fastCurieMap;const P=f.length-1;for(let M=0;M<P&&f[M]in b;++M)b=b[f[M]],""in b&&p.push(b[""][0]);for(let M=p.length-1;M>=0;--M){const c=p[M],G=c.terms;for(const Q of G){const z=Q+":"+f.substr(c.iri.length);A.mappings.get(Q)._prefix&&(!A.mappings.has(z)||null===v&&A.mappings.get(z)["@id"]===f)&&(null===I||o(z,I)<0)&&(I=z)}}if(null!==I)return I;for(const[M,c]of A.mappings)if(c&&c._prefix&&f.startsWith(M+":"))throw new x(`Absolute IRI "${f}" confused with prefix "${M}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:A});if(!_.vocab){if("@base"in A){if(A["@base"]){const M=L(E(H,A["@base"]),f);return Y.test(M)?`./${M}`:M}return f}return L(H,f)}return f},s.compactValue=({activeCtx:A,activeProperty:f,value:v,options:_})=>{if(t(v)){const I=l(A,f,"@type"),p=l(A,f,"@language"),b=l(A,f,"@direction"),P=l(A,f,"@container")||[],M="@index"in v&&!P.includes("@index");if(!M&&"@none"!==I&&(v["@type"]===I||"@language"in v&&v["@language"]===p&&"@direction"in v&&v["@direction"]===b||"@language"in v&&v["@language"]===p||"@direction"in v&&v["@direction"]===b))return v["@value"];const c=Object.keys(v).length,G=1===c||2===c&&"@index"in v&&!M,Q="@language"in A,z=J(v["@value"]),K=A.mappings.has(f)&&null===A.mappings.get(f)["@language"];if(G&&"@none"!==I&&(!Q||!z||K))return v["@value"];const F={};return M&&(F[s.compactIri({activeCtx:A,iri:"@index",relativeTo:{vocab:!0}})]=v["@index"]),"@type"in v?F[s.compactIri({activeCtx:A,iri:"@type",relativeTo:{vocab:!0}})]=s.compactIri({activeCtx:A,iri:v["@type"],relativeTo:{vocab:!0}}):"@language"in v&&(F[s.compactIri({activeCtx:A,iri:"@language",relativeTo:{vocab:!0}})]=v["@language"]),"@direction"in v&&(F[s.compactIri({activeCtx:A,iri:"@direction",relativeTo:{vocab:!0}})]=v["@direction"]),F[s.compactIri({activeCtx:A,iri:"@value",relativeTo:{vocab:!0}})]=v["@value"],F}const O=k(A,f,{vocab:!0},_),H=l(A,f,"@type"),X=s.compactIri({activeCtx:A,iri:v["@id"],relativeTo:{vocab:"@vocab"===H},base:_.base});return"@id"===H||"@vocab"===H||"@graph"===O?X:{[s.compactIri({activeCtx:A,iri:"@id",relativeTo:{vocab:!0}})]:X}}},6270:$=>{"use strict";const Z="http://www.w3.org/1999/02/22-rdf-syntax-ns#",u="http://www.w3.org/2001/XMLSchema#";$.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:Z,RDF_LIST:Z+"List",RDF_FIRST:Z+"first",RDF_REST:Z+"rest",RDF_NIL:Z+"nil",RDF_TYPE:Z+"type",RDF_PLAIN_LITERAL:Z+"PlainLiteral",RDF_XML_LITERAL:Z+"XMLLiteral",RDF_JSON_LITERAL:Z+"JSON",RDF_OBJECT:Z+"object",RDF_LANGSTRING:Z+"langString",XSD:u,XSD_BOOLEAN:u+"boolean",XSD_DOUBLE:u+"double",XSD_INTEGER:u+"integer",XSD_STRING:u+"string"}},3104:($,Z,u)=>{"use strict";var S=u(4510).default;const x=u(6035),h=u(9027),{isArray:g,isObject:J,isString:r,isUndefined:n}=u(9098),{isAbsolute:t,isRelative:i,prependBase:y}=u(3834),{handleEvent:N}=u(9802),{REGEX_BCP47:k,REGEX_KEYWORD:l,asArray:a,compareShortestLeast:j}=u(6035),d=new Map,E={};function Y(e,o,s,m,T,A){if(null===o||!r(o)||E.isKeyword(o))return o;if(o.match(l))return null;if(m&&m.hasOwnProperty(o)&&!0!==T.get(o)&&E.createTermDefinition({activeCtx:e,localCtx:m,term:o,defined:T,options:A}),(s=s||{}).vocab){const v=e.mappings.get(o);if(null===v)return null;if(J(v)&&"@id"in v)return v["@id"]}const f=o.indexOf(":");if(f>0){const v=o.substr(0,f),_=o.substr(f+1);if("_"===v||0===_.indexOf("//"))return o;m&&m.hasOwnProperty(v)&&E.createTermDefinition({activeCtx:e,localCtx:m,term:v,defined:T,options:A});const O=e.mappings.get(v);if(O&&O._prefix)return O["@id"]+_;if(t(o))return o}if(s.vocab&&"@vocab"in e)o=e["@vocab"]+o;else if(s.base){let v,_;"@base"in e?e["@base"]?(_=y(A.base,e["@base"]),v=y(_,o)):(_=e["@base"],v=o):(_=A.base,v=y(A.base,o)),o=v}return o}function R(e,o){if(!e||"object"!=typeof e||!o||"object"!=typeof o)return e===o;const s=Array.isArray(e);if(s!==Array.isArray(o))return!1;if(s){if(e.length!==o.length)return!1;for(let A=0;A<e.length;++A)if(!R(e[A],o[A]))return!1;return!0}const m=Object.keys(e),T=Object.keys(o);if(m.length!==T.length)return!1;for(const A in e){let f=e[A],v=o[A];if("@container"===A&&Array.isArray(f)&&Array.isArray(v)&&(f=f.slice().sort(),v=v.slice().sort()),!R(f,v))return!1}return!0}$.exports=E,E.process=function(){var e=S(function*({activeCtx:o,localCtx:s,options:m,propagate:T=!0,overrideProtected:A=!1,cycles:f=new Set}){if(J(s)&&"@context"in s&&g(s["@context"])&&(s=s["@context"]),0===a(s).length)return o;const _=[],O=[({event:p,next:b})=>{_.push(p),b()}];m.eventHandler&&O.push(m.eventHandler);const H=m;m={...m,eventHandler:O};const X=yield m.contextResolver.resolve({activeCtx:o,context:s,documentLoader:m.documentLoader,base:m.base});J(X[0].document)&&"boolean"==typeof X[0].document["@propagate"]&&(T=X[0].document["@propagate"]);let I=o;!T&&!I.previousContext&&(I=I.clone(),I.previousContext=o);for(const p of X){let{document:b}=p;if(o=I,null===b){if(!A&&0!==Object.keys(o.protected).length)throw new h("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});I=o=E.getInitialContext(m).clone();continue}const P=p.getProcessed(o);if(P){if(H.eventHandler)for(const c of P.events)N({event:c,options:H});I=o=P.context;continue}if(J(b)&&"@context"in b&&(b=b["@context"]),!J(b))throw new h("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:b});I=I.clone();const M=new Map;if("@version"in b){if(1.1!==b["@version"])throw new h("Unsupported JSON-LD version: "+b["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:b});if(o.processingMode&&"json-ld-1.0"===o.processingMode)throw new h("@version: "+b["@version"]+" not compatible with "+o.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:b});I.processingMode="json-ld-1.1",I["@version"]=b["@version"],M.set("@version",!0)}if(I.processingMode=I.processingMode||o.processingMode,"@base"in b){let c=b["@base"];if(null!==c&&!t(c)){if(!i(c))throw new h('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:b});c=y(I["@base"],c)}I["@base"]=c,M.set("@base",!0)}if("@vocab"in b){const c=b["@vocab"];if(null===c)delete I["@vocab"];else{if(!r(c))throw new h('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:b});if(!t(c)&&E.processingMode(I,1))throw new h('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:b});{const G=Y(I,c,{vocab:!0,base:!0},void 0,void 0,m);t(G)||m.eventHandler&&N({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:G}},options:m}),I["@vocab"]=G}}M.set("@vocab",!0)}if("@language"in b){const c=b["@language"];if(null===c)delete I["@language"];else{if(!r(c))throw new h('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:b});c.match(k)||m.eventHandler&&N({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:c}},options:m}),I["@language"]=c.toLowerCase()}M.set("@language",!0)}if("@direction"in b){const c=b["@direction"];if("json-ld-1.0"===o.processingMode)throw new h("Invalid JSON-LD syntax; @direction not compatible with "+o.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:b});if(null===c)delete I["@direction"];else{if("ltr"!==c&&"rtl"!==c)throw new h('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:b});I["@direction"]=c}M.set("@direction",!0)}if("@propagate"in b){const c=b["@propagate"];if("json-ld-1.0"===o.processingMode)throw new h("Invalid JSON-LD syntax; @propagate not compatible with "+o.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:b});if("boolean"!=typeof c)throw new h("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:s});M.set("@propagate",!0)}if("@import"in b){const c=b["@import"];if("json-ld-1.0"===o.processingMode)throw new h("Invalid JSON-LD syntax; @import not compatible with "+o.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:b});if(!r(c))throw new h("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:s});const G=yield m.contextResolver.resolve({activeCtx:o,context:c,documentLoader:m.documentLoader,base:m.base});if(1!==G.length)throw new h("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:s});const Q=G[0].getProcessed(o);if(Q)b=Q;else{const z=G[0].document;if("@import"in z)throw new h("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:s});for(const K in z)b.hasOwnProperty(K)||(b[K]=z[K]);G[0].setProcessed(o,b)}M.set("@import",!0)}M.set("@protected",b["@protected"]||!1);for(const c in b)if(E.createTermDefinition({activeCtx:I,localCtx:b,term:c,defined:M,options:m,overrideProtected:A}),J(b[c])&&"@context"in b[c]){const G=b[c]["@context"];let Q=!0;if(r(G)){const z=y(m.base,G);f.has(z)?Q=!1:f.add(z)}if(Q)try{yield E.process({activeCtx:I.clone(),localCtx:b[c]["@context"],overrideProtected:!0,options:m,cycles:f})}catch{throw new h("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:b[c]["@context"],term:c})}}p.setProcessed(o,{context:I,events:_})}return I});return function(o){return e.apply(this,arguments)}}(),E.createTermDefinition=({activeCtx:e,localCtx:o,term:s,defined:m,options:T,overrideProtected:A=!1})=>{if(m.has(s)){if(m.get(s))return;throw new h("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:o,term:s})}let f;if(m.set(s,!1),o.hasOwnProperty(s)&&(f=o[s]),"@type"===s&&J(f)&&"@set"===(f["@container"]||"@set")&&E.processingMode(e,1.1)){const p=["@container","@id","@protected"],b=Object.keys(f);if(0===b.length||b.some(P=>!p.includes(P)))throw new h("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:o,term:s})}else{if(E.isKeyword(s))throw new h("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:o,term:s});if(s.match(l))return void(T.eventHandler&&N({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:s}},options:T}));if(""===s)throw new h("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:o})}const v=e.mappings.get(s);e.mappings.has(s)&&e.mappings.delete(s);let _=!1;if((r(f)||null===f)&&(_=!0,f={"@id":f}),!J(f))throw new h("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:o});const O={};e.mappings.set(s,O),O.reverse=!1;const H=["@container","@id","@language","@reverse","@type"];E.processingMode(e,1.1)&&H.push("@context","@direction","@index","@nest","@prefix","@protected");for(const p in f)if(!H.includes(p))throw new h("Invalid JSON-LD syntax; a term definition must not contain "+p,"jsonld.SyntaxError",{code:"invalid term definition",context:o});const X=s.indexOf(":");if(O._termHasColon=X>0,"@reverse"in f){if("@id"in f)throw new h("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:o});if("@nest"in f)throw new h("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:o});const p=f["@reverse"];if(!r(p))throw new h("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:o});if(p.match(l))return T.eventHandler&&N({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:p}},options:T}),void(v?e.mappings.set(s,v):e.mappings.delete(s));const b=Y(e,p,{vocab:!0,base:!1},o,m,T);if(!t(b))throw new h("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:o});O["@id"]=b,O.reverse=!0}else if("@id"in f){let p=f["@id"];if(p&&!r(p))throw new h("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:o});if(null===p)O["@id"]=null;else{if(!E.isKeyword(p)&&p.match(l))return T.eventHandler&&N({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:p}},options:T}),void(v?e.mappings.set(s,v):e.mappings.delete(s));if(p!==s){if(p=Y(e,p,{vocab:!0,base:!1},o,m,T),!t(p)&&!E.isKeyword(p))throw new h("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:o});if(s.match(/(?::[^:])|\//)&&Y(e,s,{vocab:!0,base:!1},o,new Map(m).set(s,!0),T)!==p)throw new h("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:o});O["@id"]=p,O._prefix=_&&!O._termHasColon&&null!==p.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in O))if(O._termHasColon){const p=s.substr(0,X);if(o.hasOwnProperty(p)&&E.createTermDefinition({activeCtx:e,localCtx:o,term:p,defined:m,options:T}),e.mappings.has(p)){const b=s.substr(X+1);O["@id"]=e.mappings.get(p)["@id"]+b}else O["@id"]=s}else if("@type"===s)O["@id"]=s;else{if(!("@vocab"in e))throw new h("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:o,term:s});O["@id"]=e["@vocab"]+s}if((!0===f["@protected"]||!0===m.get("@protected")&&!1!==f["@protected"])&&(e.protected[s]=!0,O.protected=!0),m.set(s,!0),"@type"in f){let p=f["@type"];if(!r(p))throw new h("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:o});if("@json"===p||"@none"===p){if(E.processingMode(e,1))throw new h(`Invalid JSON-LD syntax; an @context @type value must not be "${p}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:o})}else if("@id"!==p&&"@vocab"!==p){if(p=Y(e,p,{vocab:!0,base:!1},o,m,T),!t(p))throw new h("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:o});if(0===p.indexOf("_:"))throw new h("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:o})}O["@type"]=p}if("@container"in f){const p=r(f["@container"])?[f["@container"]]:f["@container"]||[],b=["@list","@set","@index","@language"];let P=!0;const M=p.includes("@set");if(E.processingMode(e,1.1)){if(b.push("@graph","@id","@type"),p.includes("@list")){if(1!==p.length)throw new h("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:o})}else if(p.includes("@graph")){if(p.some(c=>"@graph"!==c&&"@id"!==c&&"@index"!==c&&"@set"!==c))throw new h("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:o})}else P&=p.length<=(M?2:1);if(p.includes("@type")&&(O["@type"]=O["@type"]||"@id",!["@id","@vocab"].includes(O["@type"])))throw new h("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:o})}else P&=!g(f["@container"]),P&=p.length<=1;if(P&=p.every(c=>b.includes(c)),P&=!(M&&p.includes("@list")),!P)throw new h("Invalid JSON-LD syntax; @context @container value must be one of the following: "+b.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:o});if(O.reverse&&!p.every(c=>["@index","@set"].includes(c)))throw new h("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:o});O["@container"]=p}if("@index"in f){if(!("@container"in f)||!O["@container"].includes("@index"))throw new h(`Invalid JSON-LD syntax; @index without @index in @container: "${f["@index"]}" on term "${s}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:o});if(!r(f["@index"])||0===f["@index"].indexOf("@"))throw new h(`Invalid JSON-LD syntax; @index must expand to an IRI: "${f["@index"]}" on term "${s}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:o});O["@index"]=f["@index"]}if("@context"in f&&(O["@context"]=f["@context"]),"@language"in f&&!("@type"in f)){let p=f["@language"];if(null!==p&&!r(p))throw new h("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:o});null!==p&&(p=p.toLowerCase()),O["@language"]=p}if("@prefix"in f){if(s.match(/:|\//))throw new h("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:o});if(E.isKeyword(O["@id"]))throw new h("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:o});if("boolean"!=typeof f["@prefix"])throw new h("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:o});O._prefix=!0===f["@prefix"]}if("@direction"in f){const p=f["@direction"];if(null!==p&&"ltr"!==p&&"rtl"!==p)throw new h('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:o});O["@direction"]=p}if("@nest"in f){const p=f["@nest"];if(!r(p)||"@nest"!==p&&0===p.indexOf("@"))throw new h("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:o});O["@nest"]=p}const I=O["@id"];if("@context"===I||"@preserve"===I)throw new h("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:o});if(v&&v.protected&&!A&&(e.protected[s]=!0,O.protected=!0,!R(v,O)))throw new h("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:o,term:s})},E.expandIri=(e,o,s,m)=>Y(e,o,s,void 0,void 0,m),E.getInitialContext=e=>{const o=JSON.stringify({processingMode:e.processingMode}),s=d.get(o);if(s)return s;const m={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function T(){const O=this;if(O.inverse)return O.inverse;const H=O.inverse={},X=O.fastCurieMap={},I={},p=(O["@language"]||"@none").toLowerCase(),b=O["@direction"],P=O.mappings,M=[...P.keys()].sort(j);for(const c of M){const G=P.get(c);if(null===G)continue;let Q=G["@container"]||"@none";if(Q=[].concat(Q).sort().join(""),null===G["@id"])continue;const z=a(G["@id"]);for(const K of z){let F=H[K];const V=E.isKeyword(K);if(F)!V&&!G._termHasColon&&I[K].push(c);else if(H[K]=F={},!V&&!G._termHasColon){I[K]=[c];const D={iri:K,terms:I[K]};K[0]in X?X[K[0]].push(D):X[K[0]]=[D]}if(F[Q]||(F[Q]={"@language":{},"@type":{},"@any":{}}),F=F[Q],f(c,F["@any"],"@none"),G.reverse)f(c,F["@type"],"@reverse");else if("@none"===G["@type"])f(c,F["@any"],"@none"),f(c,F["@language"],"@none"),f(c,F["@type"],"@none");else if("@type"in G)f(c,F["@type"],G["@type"]);else if("@language"in G&&"@direction"in G){const D=G["@language"],w=G["@direction"];f(c,F["@language"],D&&w?`${D}_${w}`.toLowerCase():D?D.toLowerCase():w?`_${w}`:"@null")}else"@language"in G?f(c,F["@language"],(G["@language"]||"@null").toLowerCase()):"@direction"in G?f(c,F["@language"],G["@direction"]?`_${G["@direction"]}`:"@none"):b?(f(c,F["@language"],`_${b}`),f(c,F["@language"],"@none"),f(c,F["@type"],"@none")):(f(c,F["@language"],p),f(c,F["@language"],"@none"),f(c,F["@type"],"@none"))}}for(const c in X)A(X,c,1);return H},clone:function v(){const O={};return O.mappings=x.clone(this.mappings),O.clone=this.clone,O.inverse=null,O.getInverse=this.getInverse,O.protected=x.clone(this.protected),this.previousContext&&(O.previousContext=this.previousContext.clone()),O.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(O["@base"]=this["@base"]),"@language"in this&&(O["@language"]=this["@language"]),"@vocab"in this&&(O["@vocab"]=this["@vocab"]),O},revertToPreviousContext:function _(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===d.size&&d.clear(),d.set(o,m),m;function A(O,H,X){const I=O[H],p=O[H]={};let b,P;for(const M of I)b=M.iri,P=X>=b.length?"":b[X],P in p?p[P].push(M):p[P]=[M];for(const M in p)""!==M&&A(p,M,X+1)}function f(O,H,X){H.hasOwnProperty(X)||(H[X]=O)}},E.getContextValue=(e,o,s)=>{if(null===o)return"@context"===s?void 0:null;if(e.mappings.has(o)){const m=e.mappings.get(o);if(n(s))return m;if(m.hasOwnProperty(s))return m[s]}return"@language"===s&&s in e||"@direction"===s&&s in e?e[s]:"@context"!==s?null:void 0},E.processingMode=(e,o)=>o.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+o.toString():"json-ld-1.0"===e.processingMode,E.isKeyword=e=>{if(!r(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},3601:($,Z,u)=>{"use strict";var S=u(4510).default;const{parseLinkHeader:x,buildHeaders:h}=u(6035),{LINK_HEADER_CONTEXT:g}=u(6270),J=u(9027),r=u(7579),{prependBase:n}=u(3834),t=/(^|(\r\n))link:/i;$.exports=({secure:y,headers:N={},xhr:k}={headers:{}})=>{return N=h(N),(new r).wrapLoader(a);function a(d){return j.apply(this,arguments)}function j(){return j=S(function*(d){if(0!==d.indexOf("http:")&&0!==d.indexOf("https:"))throw new J('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:d});if(y&&0!==d.indexOf("https"))throw new J('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:d});let L;try{L=yield function i(y,N,k){const l=new(y=y||XMLHttpRequest);return new Promise((a,j)=>{l.onload=()=>a(l),l.onerror=d=>j(d),l.open("GET",N,!0);for(const d in k)l.setRequestHeader(d,k[d]);l.send()})}(k,d,N)}catch(o){throw new J("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:d,cause:o})}if(L.status>=400)throw new J("URL could not be dereferenced: "+L.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:d,httpStatusCode:L.status});let E={contextUrl:null,documentUrl:d,document:L.response},Y=null;const R=L.getResponseHeader("Content-Type");let e;if(t.test(L.getAllResponseHeaders())&&(e=L.getResponseHeader("Link")),e&&"application/ld+json"!==R){const o=x(e),s=o[g];if(Array.isArray(s))throw new J("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:d});s&&(E.contextUrl=s.target),Y=o.alternate,Y&&"application/ld+json"==Y.type&&!(R||"").match(/^application\/(\w*\+)?json$/)&&(E=yield a(n(d,Y.target)))}return E}),j.apply(this,arguments)}}},9802:($,Z,u)=>{"use strict";const S=u(9027),{isArray:x}=u(9098),{asArray:h}=u(6035),g={};function J({event:n,handlers:t}){let i=!0;for(let y=0;i&&y<t.length;++y){i=!1;const N=t[y];if(x(N))i=J({event:n,handlers:N});else if("function"==typeof N)N({event:n,next:()=>{i=!0}});else{if("object"!=typeof N)throw new S("Invalid event handler.","jsonld.InvalidEventHandler",{event:n});n.code in N?N[n.code]({event:n,next:()=>{i=!0}}):i=!0}}return i}$.exports=g,g.defaultEventHandler=null,g.setupEventHandler=({options:n={}})=>{const t=[].concat(n.safe?g.safeEventHandler:[],n.eventHandler?h(n.eventHandler):[],g.defaultEventHandler?g.defaultEventHandler:[]);return 0===t.length?null:t},g.handleEvent=({event:n,options:t})=>{J({event:n,handlers:t.eventHandler})};const r=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);g.safeEventHandler=function({event:t,next:i}){if("warning"===t.level&&r.has(t.code))throw new S("Safe mode validation error.","jsonld.ValidationError",{event:t});i()},g.logEventHandler=function({event:t,next:i}){console.log(`EVENT: ${t.message}`,{event:t}),i()},g.logWarningEventHandler=function({event:t,next:i}){"warning"===t.level&&console.warn(`WARNING: ${t.message}`,{event:t}),i()},g.unhandledEventHandler=function({event:t}){throw new S("No handler for event.","jsonld.UnhandledEvent",{event:t})},g.setDefaultEventHandler=function({eventHandler:n}={}){g.defaultEventHandler=n?h(n):null}},6551:($,Z,u)=>{"use strict";var S=u(4510).default;const x=u(9027),{isArray:h,isObject:g,isEmptyObject:J,isString:r,isUndefined:n}=u(9098),{isList:t,isValue:i,isGraph:y,isSubject:N}=u(2926),{expandIri:k,getContextValue:l,isKeyword:a,process:j,processingMode:d}=u(3104),{isAbsolute:L}=u(3834),{REGEX_BCP47:E,REGEX_KEYWORD:Y,addValue:R,asArray:e,getValues:o,validateTypeValue:s}=u(6035),{handleEvent:m}=u(9802),T={};function A({value:I,count:p,options:b}){if(0===p||"@value"in I||"@list"in I||1===p&&"@id"in I){if(b.eventHandler){let P,M;0===p?(P="empty object",M="Dropping empty object."):"@value"in I?(P="object with only @value",M="Dropping object with only @value."):"@list"in I?(P="object with only @list",M="Dropping object with only @list."):1===p&&"@id"in I&&(P="object with only @id",M="Dropping object with only @id."),m({event:{type:["JsonLdEvent"],code:P,level:"warning",message:M,details:{value:I}},options:b})}return null}return I}function f(I){return v.apply(this,arguments)}function v(){return(v=S(function*({activeCtx:I,activeProperty:p,expandedActiveProperty:b,element:P,expandedParent:M,options:c={},insideList:G,typeKey:Q,typeScopedContext:z}){const K=Object.keys(P).sort(),F=[];let V;const D=P[Q]&&"@json"===k(I,h(P[Q])?P[Q][0]:P[Q],{vocab:!0},{...c,typeExpansion:!0});for(const w of K){let W,B=P[w];if("@context"===w)continue;const U=k(I,w,{vocab:!0},c);if(null===U||!L(U)&&!a(U)){c.eventHandler&&m({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:w,expandedProperty:U}},options:c});continue}if(a(U)){if("@reverse"===b)throw new x("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:B});if(U in M&&"@included"!==U&&"@type"!==U)throw new x("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:U})}if("@id"===U){if(!r(B)){if(!c.isFrame)throw new x('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:B});if(g(B)){if(!J(B))throw new x('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:B})}else{if(!h(B))throw new x('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:B});if(!B.every(q=>r(q)))throw new x('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:B})}}R(M,"@id",e(B).map(q=>{if(r(q)){const ne=k(I,q,{base:!0},c);return c.eventHandler&&(null===ne?m(null===q?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:q}},options:c}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:q}},options:c}):L(ne)||m({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:q,expandedId:ne}},options:c})),ne}return q}),{propertyIsArray:c.isFrame});continue}if("@type"===U){g(B)&&(B=Object.fromEntries(Object.entries(B).map(([q,ne])=>[k(z,q,{vocab:!0}),e(ne).map(re=>k(z,re,{base:!0,vocab:!0},{...c,typeExpansion:!0}))]))),s(B,c.isFrame),R(M,"@type",e(B).map(q=>{if(r(q)){const ne=k(z,q,{base:!0,vocab:!0},{...c,typeExpansion:!0});return"@json"!==ne&&!L(ne)&&c.eventHandler&&m({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:q}},options:c}),ne}return q}),{propertyIsArray:!!c.isFrame});continue}if("@included"===U&&d(I,1.1)){const q=e(yield T.expand({activeCtx:I,activeProperty:p,element:B,options:c}));if(!q.every(ne=>N(ne)))throw new x("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:B});R(M,"@included",q,{propertyIsArray:!0});continue}if("@graph"===U&&!g(B)&&!h(B))throw new x('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:B});if("@value"===U){V=B,D&&d(I,1.1)?M["@value"]=B:R(M,"@value",B,{propertyIsArray:c.isFrame});continue}if("@language"===U){if(null===B)continue;if(!r(B)&&!c.isFrame)throw new x('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:B});B=e(B).map(q=>r(q)?q.toLowerCase():q);for(const q of B)r(q)&&!q.match(E)&&c.eventHandler&&m({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:q}},options:c});R(M,"@language",B,{propertyIsArray:c.isFrame});continue}if("@direction"===U){if(!r(B)&&!c.isFrame)throw new x('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:B});B=e(B);for(const q of B)if(r(q)&&"ltr"!==q&&"rtl"!==q)throw new x('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:B});R(M,"@direction",B,{propertyIsArray:c.isFrame});continue}if("@index"===U){if(!r(B))throw new x('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:B});R(M,"@index",B);continue}if("@reverse"===U){if(!g(B))throw new x('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:B});if(W=yield T.expand({activeCtx:I,activeProperty:"@reverse",element:B,options:c}),"@reverse"in W)for(const ne in W["@reverse"])R(M,ne,W["@reverse"][ne],{propertyIsArray:!0});let q=M["@reverse"]||null;for(const ne in W){if("@reverse"===ne)continue;null===q&&(q=M["@reverse"]={}),R(q,ne,[],{propertyIsArray:!0});const re=W[ne];for(let se=0;se<re.length;++se){const ie=re[se];if(i(ie)||t(ie))throw new x('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:W});R(q,ne,ie,{propertyIsArray:!0})}}continue}if("@nest"===U){F.push(w);continue}let C=I;const ee=l(I,w,"@context");n(ee)||(C=yield j({activeCtx:I,localCtx:ee,propagate:!0,overrideProtected:!0,options:c}));const te=l(I,w,"@container")||[];if(te.includes("@language")&&g(B))W=O(C,B,l(C,w,"@direction"),c);else if(te.includes("@index")&&g(B)){const q=te.includes("@graph"),ne=l(C,w,"@index")||"@index",re="@index"!==ne&&k(I,ne,{vocab:!0},c);W=yield H({activeCtx:C,options:c,activeProperty:w,value:B,asGraph:q,indexKey:ne,propertyIndex:re})}else if(te.includes("@id")&&g(B)){const q=te.includes("@graph");W=yield H({activeCtx:C,options:c,activeProperty:w,value:B,asGraph:q,indexKey:"@id"})}else if(te.includes("@type")&&g(B))W=yield H({activeCtx:C.revertToPreviousContext(),options:c,activeProperty:w,value:B,asGraph:!1,indexKey:"@type"});else{const q="@list"===U;if(q||"@set"===U){let ne=p;q&&"@graph"===b&&(ne=null),W=yield T.expand({activeCtx:C,activeProperty:ne,element:B,options:c,insideList:q})}else W="@json"===l(I,w,"@type")?{"@type":"@json","@value":B}:yield T.expand({activeCtx:C,activeProperty:w,element:B,options:c,insideList:!1})}if(null!==W||"@value"===U){if("@list"!==U&&!t(W)&&te.includes("@list")&&(W={"@list":e(W)}),te.includes("@graph")&&!te.some(q=>"@id"===q||"@index"===q)){if(W=e(W),c.isFrame||(W=W.filter(q=>null!==A({value:q,count:Object.keys(q).length,options:c}))),0===W.length)continue;W=W.map(q=>({"@graph":e(q)}))}if(C.mappings.has(w)&&C.mappings.get(w).reverse){const q=M["@reverse"]=M["@reverse"]||{};W=e(W);for(let ne=0;ne<W.length;++ne){const re=W[ne];if(i(re)||t(re))throw new x('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:W});R(q,U,re,{propertyIsArray:!0})}continue}R(M,U,W,{propertyIsArray:!0})}}if("@value"in M&&("@json"!==M["@type"]||!d(I,1.1))&&(g(V)||h(V))&&!c.isFrame)throw new x('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:V});for(const w of F){const B=h(P[w])?P[w]:[P[w]];for(const W of B){if(!g(W)||Object.keys(W).some(U=>"@value"===k(I,U,{vocab:!0},c)))throw new x("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:W});yield f({activeCtx:I,activeProperty:p,expandedActiveProperty:b,element:W,expandedParent:M,options:c,insideList:G,typeScopedContext:z,typeKey:Q})}}})).apply(this,arguments)}function _({activeCtx:I,activeProperty:p,value:b,options:P}){if(null==b)return null;const M=k(I,p,{vocab:!0},P);if("@id"===M)return k(I,b,{base:!0},P);if("@type"===M)return k(I,b,{vocab:!0,base:!0},{...P,typeExpansion:!0});const c=l(I,p,"@type");if(("@id"===c||"@graph"===M)&&r(b)){const Q=k(I,b,{base:!0},P);return null===Q&&b.match(Y)&&P.eventHandler&&m({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:p}},options:P}),{"@id":Q}}if("@vocab"===c&&r(b))return{"@id":k(I,b,{vocab:!0,base:!0},P)};if(a(M))return b;const G={};if(c&&!["@id","@vocab","@none"].includes(c))G["@type"]=c;else if(r(b)){const Q=l(I,p,"@language");null!==Q&&(G["@language"]=Q);const z=l(I,p,"@direction");null!==z&&(G["@direction"]=z)}return["boolean","number","string"].includes(typeof b)||(b=b.toString()),G["@value"]=b,G}function O(I,p,b,P){const M=[],c=Object.keys(p).sort();for(const G of c){const Q=k(I,G,{vocab:!0},P);let z=p[G];h(z)||(z=[z]);for(const K of z){if(null===K)continue;if(!r(K))throw new x("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:p});const F={"@value":K};"@none"!==Q&&(G.match(E)||P.eventHandler&&m({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:G}},options:P}),F["@language"]=G.toLowerCase()),b&&(F["@direction"]=b),M.push(F)}}return M}function H(I){return X.apply(this,arguments)}function X(){return(X=S(function*({activeCtx:I,options:p,activeProperty:b,value:P,asGraph:M,indexKey:c,propertyIndex:G}){const Q=[],z=Object.keys(P).sort(),K="@type"===c;for(let F of z){if(K){const w=l(I,F,"@context");n(w)||(I=yield j({activeCtx:I,localCtx:w,propagate:!1,options:p}))}let D,V=P[F];h(V)||(V=[V]),V=yield T.expand({activeCtx:I,activeProperty:b,element:V,options:p,insideList:!1,insideIndex:!0}),D=G?"@none"===F?"@none":_({activeCtx:I,activeProperty:c,value:F,options:p}):k(I,F,{vocab:!0},p),"@id"===c?F=k(I,F,{base:!0},p):K&&(F=D);for(let w of V){if(M&&!y(w)&&(w={"@graph":[w]}),"@type"===c)"@none"===D||(w["@type"]=w["@type"]?[F].concat(w["@type"]):[F]);else{if(i(w)&&!["@language","@type","@index"].includes(c))throw new x(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${c}".`,"jsonld.SyntaxError",{code:"invalid value object",value:w});G?"@none"!==D&&R(w,G,D,{propertyIsArray:!0,prependValue:!0}):"@none"!==D&&!(c in w)&&(w[c]=F)}Q.push(w)}}return Q})).apply(this,arguments)}$.exports=T,T.expand=function(){var I=S(function*({activeCtx:p,activeProperty:b=null,element:P,options:M={},insideList:c=!1,insideIndex:G=!1,typeScopedContext:Q=null}){if(null==P)return null;if("@default"===b&&(M=Object.assign({},M,{isFrame:!1})),!h(P)&&!g(P))return c||null!==b&&"@graph"!==k(p,b,{vocab:!0},M)?_({activeCtx:p,activeProperty:b,value:P,options:M}):(M.eventHandler&&m({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:P}},options:M}),null);if(h(P)){let W=[];const U=l(p,b,"@container")||[];c=c||U.includes("@list");for(let C=0;C<P.length;++C){let ee=yield T.expand({activeCtx:p,activeProperty:b,element:P[C],options:M,insideIndex:G,typeScopedContext:Q});c&&h(ee)&&(ee={"@list":ee}),null!==ee&&(h(ee)?W=W.concat(ee):W.push(ee))}return W}const z=k(p,b,{vocab:!0},M),K=l(p,b,"@context");Q=Q||(p.previousContext?p:null);let F=Object.keys(P).sort(),V=!G;if(V&&Q&&F.length<=2&&!F.includes("@context"))for(const W of F){const U=k(Q,W,{vocab:!0},M);if("@value"===U){V=!1,p=Q;break}if("@id"===U&&1===F.length){V=!1;break}}V&&(p=p.revertToPreviousContext()),n(K)||(p=yield j({activeCtx:p,localCtx:K,propagate:!0,overrideProtected:!0,options:M})),"@context"in P&&(p=yield j({activeCtx:p,localCtx:P["@context"],options:M})),Q=p;let D=null;for(const W of F)if("@type"===k(p,W,{vocab:!0},M)){D=D||W;const C=P[W],ee=Array.isArray(C)?C.length>1?C.slice().sort():C:[C];for(const te of ee){const q=l(Q,te,"@context");n(q)||(p=yield j({activeCtx:p,localCtx:q,options:M,propagate:!1}))}}let w={};yield f({activeCtx:p,activeProperty:b,expandedActiveProperty:z,element:P,expandedParent:w,options:M,insideList:c,typeKey:D,typeScopedContext:Q}),F=Object.keys(w);let B=F.length;if("@value"in w){if("@type"in w&&("@language"in w||"@direction"in w))throw new x('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:w});let W=B-1;if("@type"in w&&(W-=1),"@index"in w&&(W-=1),"@language"in w&&(W-=1),"@direction"in w&&(W-=1),0!==W)throw new x('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:w});const U=null===w["@value"]?[]:e(w["@value"]),C=o(w,"@type");if(!d(p,1.1)||!C.includes("@json")||1!==C.length)if(0===U.length)M.eventHandler&&m({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:w}},options:M}),w=null;else{if(!U.every(ee=>r(ee)||J(ee))&&"@language"in w)throw new x("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:w});if(!C.every(ee=>L(ee)&&!(r(ee)&&0===ee.indexOf("_:"))||J(ee)))throw new x('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:w})}}else if("@type"in w&&!h(w["@type"]))w["@type"]=[w["@type"]];else if("@set"in w||"@list"in w){if(B>1&&(2!==B||!("@index"in w)))throw new x('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:w});"@set"in w&&(w=w["@set"],F=Object.keys(w),B=F.length)}else 1===B&&"@language"in w&&(M.eventHandler&&m({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:w}},options:M}),w=null);return g(w)&&!M.keepFreeFloatingNodes&&!c&&(null===b||"@graph"===z||(l(p,b,"@container")||[]).includes("@graph"))&&(w=A({value:w,count:B,options:M})),w});return function(p){return I.apply(this,arguments)}}()},257:($,Z,u)=>{"use strict";const{isSubjectReference:S}=u(2926),{createMergedNodeMap:x}=u(253),h={};$.exports=h,h.flatten=g=>{const J=x(g),r=[],n=Object.keys(J).sort();for(let t=0;t<n.length;++t){const i=J[n[t]];S(i)||r.push(i)}return r}},8998:($,Z,u)=>{"use strict";const{isKeyword:S}=u(3104),x=u(2926),h=u(9098),g=u(6035),J=u(3834),r=u(9027),{createNodeMap:n,mergeNodeMapGraphs:t}=u(253),i={};function y(e){const o={};for(const s in e)void 0!==e[s]&&(o["@"+s]=[e[s]]);return[o]}function N(e,o,s){for(let m=s.length-1;m>=0;--m){const T=s[m];if(T.graph===o&&T.subject["@id"]===e["@id"])return!0}return!1}function k(e,o,s){const m="@"+s;let T=m in e?e[m][0]:o[s];if("embed"===s)if(!0===T)T="@once";else if(!1===T)T="@never";else if("@always"!==T&&"@never"!==T&&"@link"!==T&&"@first"!==T&&"@last"!==T&&"@once"!==T)throw new r("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return T}function l(e){if(!h.isArray(e)||1!==e.length||!h.isObject(e[0]))throw new r("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const o of g.asArray(e[0]["@id"]))if(!h.isObject(o)&&!J.isAbsolute(o)||h.isString(o)&&0===o.indexOf("_:"))throw new r("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const o of g.asArray(e[0]["@type"]))if(!h.isObject(o)&&!J.isAbsolute(o)&&"@json"!==o||h.isString(o)&&0===o.indexOf("_:"))throw new r("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function j(e,o,s,m){let T=!0,A=!1;for(const f in s){let v=!1;const _=g.getValues(o,f),O=0===g.getValues(s,f).length;if("@id"===f){if(h.isEmptyObject(s["@id"][0]||{})?v=!0:s["@id"].length>=0&&(v=s["@id"].includes(_[0])),!m.requireAll)return v}else if("@type"===f){if(T=!1,O){if(_.length>0)return!1;v=!0}else if(1===s["@type"].length&&h.isEmptyObject(s["@type"][0]))v=_.length>0;else for(const H of s["@type"])v=!(!h.isObject(H)||!("@default"in H))||v||_.some(X=>X===H);if(!m.requireAll)return v}else{if(S(f))continue;{const H=g.getValues(s,f)[0];let X=!1;if(H&&(l([H]),X="@default"in H),T=!1,0===_.length&&X)continue;if(_.length>0&&O)return!1;if(void 0===H){if(_.length>0)return!1;v=!0}else if(x.isList(H)){const I=H["@list"][0];if(x.isList(_[0])){const p=_[0]["@list"];x.isValue(I)?v=p.some(b=>R(I,b)):(x.isSubject(I)||x.isSubjectReference(I))&&(v=p.some(b=>Y(e,I,b,m)))}}else v=x.isValue(H)?_.some(I=>R(H,I)):x.isSubjectReference(H)?_.some(I=>Y(e,H,I,m)):!!h.isObject(H)&&_.length>0}}if(!v&&m.requireAll)return!1;A=A||v}return T||A}function d(e,o){const s=e.uniqueEmbeds[e.graph],m=s[o],T=m.parent,A=m.property,f={"@id":o};if(h.isArray(T)){for(let _=0;_<T.length;++_)if(g.compareValues(T[_],f)){T[_]=f;break}}else{const _=h.isArray(T[A]);g.removeValue(T,A,f,{propertyIsArray:_}),g.addValue(T,A,f,{propertyIsArray:_})}const v=_=>{const O=Object.keys(s);for(const H of O)H in s&&h.isObject(s[H].parent)&&s[H].parent["@id"]===_&&(delete s[H],v(H))};v(o)}function L(e,o){if(h.isArray(e))return e.map(s=>L(s,o));if(h.isObject(e)){if("@preserve"in e)return e["@preserve"][0];if(x.isValue(e))return e;if(x.isList(e))return e["@list"]=L(e["@list"],o),e;if("@id"in e){const s=e["@id"];if(o.link.hasOwnProperty(s)){const m=o.link[s].indexOf(e);if(-1!==m)return o.link[s][m];o.link[s].push(e)}else o.link[s]=[e]}for(const s in e)"@id"===s&&o.bnodesToClear.includes(e[s])?delete e["@id"]:e[s]=L(e[s],o)}return e}function E(e,o,s){h.isObject(e)?g.addValue(e,o,s,{propertyIsArray:!0}):e.push(s)}function Y(e,o,s,m){if(!("@id"in s))return!1;const T=e.subjects[s["@id"]];return T&&j(e,T,o,m)}function R(e,o){const s=o["@value"],m=o["@type"],T=o["@language"],A=e["@value"]?h.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],f=e["@type"]?h.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],v=e["@language"]?h.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===A.length&&0===f.length&&0===v.length||!(!A.includes(s)&&!h.isEmptyObject(A[0])||!(!m&&0===f.length||f.includes(m)||m&&h.isEmptyObject(f[0]))||!(!T&&0===v.length||v.includes(T)||T&&h.isEmptyObject(v[0])))}$.exports=i,i.frameMergedOrDefault=(e,o,s)=>{const m={options:s,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},T=new g.IdentifierIssuer("_:b");n(e,m.graphMap,"@default",T),s.merged&&(m.graphMap["@merged"]=t(m.graphMap),m.graph="@merged"),m.subjects=m.graphMap[m.graph];const A=[];return i.frame(m,Object.keys(m.subjects).sort(),o,A),s.pruneBlankNodeIdentifiers&&(s.bnodesToClear=Object.keys(m.bnodeMap).filter(f=>1===m.bnodeMap[f].length)),s.link={},L(A,s)},i.frame=(e,o,s,m,T=null)=>{l(s);const A=e.options,f={embed:k(s=s[0],A,"embed"),explicit:k(s,A,"explicit"),requireAll:k(s,A,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const v=e.link[e.graph],_=function a(e,o,s,m){const T={};for(const A of o){const f=e.graphMap[e.graph][A];j(e,f,s,m)&&(T[A]=f)}return T}(e,o,s,f),O=Object.keys(_).sort();for(const H of O){const X=_[H];if(null===T?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===f.embed&&H in v){E(m,T,v[H]);continue}const I={"@id":H};if(0===H.indexOf("_:")&&g.addValue(e.bnodeMap,H,I,{propertyIsArray:!0}),v[H]=I,("@first"===f.embed||"@last"===f.embed)&&e.is11)throw new r("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:s});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(H)){if(e.embedded&&("@never"===f.embed||N(X,e.graph,e.subjectStack))){E(m,T,I);continue}if(e.embedded&&("@first"==f.embed||"@once"==f.embed)&&e.uniqueEmbeds[e.graph].hasOwnProperty(H)){E(m,T,I);continue}if("@last"===f.embed&&H in e.uniqueEmbeds[e.graph]&&d(e,H),e.uniqueEmbeds[e.graph][H]={parent:m,property:T},e.subjectStack.push({subject:X,graph:e.graph}),H in e.graphMap){let p=!1,b=null;"@graph"in s?(b=s["@graph"][0],p=!("@merged"===H||"@default"===H),h.isObject(b)||(b={})):(p="@merged"!==e.graph,b={}),p&&i.frame({...e,graph:H,embedded:!1},Object.keys(e.graphMap[H]).sort(),[b],I,"@graph")}"@included"in s&&i.frame({...e,embedded:!1},o,s["@included"],I,"@included");for(const p of Object.keys(X).sort())if(S(p)){if(I[p]=g.clone(X[p]),"@type"===p)for(const b of X["@type"])0===b.indexOf("_:")&&g.addValue(e.bnodeMap,b,I,{propertyIsArray:!0})}else if(!f.explicit||p in s)for(const b of X[p]){const P=p in s?s[p]:y(f);if(x.isList(b)){const M=s[p]&&s[p][0]&&s[p][0]["@list"]?s[p][0]["@list"]:y(f),c={"@list":[]};E(I,p,c);const G=b["@list"];for(const Q of G)x.isSubjectReference(Q)?i.frame({...e,embedded:!0},[Q["@id"]],M,c,"@list"):E(c,"@list",g.clone(Q))}else x.isSubjectReference(b)?i.frame({...e,embedded:!0},[b["@id"]],P,I,p):R(P[0],b)&&E(I,p,g.clone(b))}for(const p of Object.keys(s).sort()){if("@type"===p){if(!h.isObject(s[p][0])||!("@default"in s[p][0]))continue}else if(S(p))continue;const b=s[p][0]||{};if(!k(b,A,"omitDefault")&&!(p in I)){let M="@null";"@default"in b&&(M=g.clone(b["@default"])),h.isArray(M)||(M=[M]),I[p]=[{"@preserve":M}]}}for(const p of Object.keys(s["@reverse"]||{}).sort()){const b=s["@reverse"][p];for(const P of Object.keys(e.subjects))g.getValues(e.subjects[P],p).some(c=>c["@id"]===H)&&(I["@reverse"]=I["@reverse"]||{},g.addValue(I["@reverse"],p,[],{propertyIsArray:!0}),i.frame({...e,embedded:!0},[P],b,I["@reverse"][p],T))}E(m,T,I),e.subjectStack.pop()}}},i.cleanupNull=(e,o)=>{if(h.isArray(e))return e.map(m=>i.cleanupNull(m,o)).filter(m=>m);if("@null"===e)return null;if(h.isObject(e)){if("@id"in e){const s=e["@id"];if(o.link.hasOwnProperty(s)){const m=o.link[s].indexOf(e);if(-1!==m)return o.link[s][m];o.link[s].push(e)}else o.link[s]=[e]}for(const s in e)e[s]=i.cleanupNull(e[s],o)}return e}},6487:($,Z,u)=>{"use strict";var S=u(4510).default;const x=u(9027),h=u(2926),g=u(9098),{REGEX_BCP47:J,addValue:r}=u(6035),{handleEvent:n}=u(9802),{RDF_LIST:t,RDF_FIRST:i,RDF_REST:y,RDF_NIL:N,RDF_TYPE:k,RDF_JSON_LITERAL:l,XSD_BOOLEAN:a,XSD_DOUBLE:j,XSD_INTEGER:d,XSD_STRING:L}=u(6270),E={};function Y(R,e,o,s){if(R.termType.endsWith("Node"))return{"@id":R.value};const m={"@value":R.value};if(R.language)R.language.match(J)||s.eventHandler&&n({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:R.language}},options:s}),m["@language"]=R.language;else{let T=R.datatype.value;if(T||(T=L),T===l){T="@json";try{m["@value"]=JSON.parse(m["@value"])}catch(A){throw new x("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:m["@value"],cause:A})}}if(e){if(T===a)"true"===m["@value"]?m["@value"]=!0:"false"===m["@value"]&&(m["@value"]=!1);else if(g.isNumeric(m["@value"]))if(T===d){const A=parseInt(m["@value"],10);A.toFixed(0)===m["@value"]&&(m["@value"]=A)}else T===j&&(m["@value"]=parseFloat(m["@value"]));[a,d,j,L].includes(T)||(m["@type"]=T)}else if("i18n-datatype"===o&&T.startsWith("https://www.w3.org/ns/i18n#")){const[,A,f]=T.split(/[#_]/);A.length>0&&(m["@language"]=A,A.match(J)||s.eventHandler&&n({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:A}},options:s})),m["@direction"]=f}else T!==L&&(m["@type"]=T)}return m}$.exports=E,E.fromRDF=function(){var R=S(function*(e,o){const{useRdfType:s=!1,useNativeTypes:m=!1,rdfDirection:T=null}=o,A={},f={"@default":A},v={};if(T){if("compound-literal"===T)throw new x("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:T});if("i18n-datatype"!==T)throw new x("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:T})}for(const H of e){const X="DefaultGraph"===H.graph.termType?"@default":H.graph.value;X in f||(f[X]={}),"@default"!==X&&!(X in A)&&(A[X]={"@id":X});const I=f[X],p=H.subject.value,b=H.predicate.value,P=H.object;p in I||(I[p]={"@id":p});const M=I[p],c=P.termType.endsWith("Node");if(c&&!(P.value in I)&&(I[P.value]={"@id":P.value}),b===k&&!s&&c){r(M,"@type",P.value,{propertyIsArray:!0});continue}const G=Y(P,m,T,o);if(r(M,b,G,{propertyIsArray:!0}),c)if(P.value===N){const Q=I[P.value];"usages"in Q||(Q.usages=[]),Q.usages.push({node:M,property:b,value:G})}else v[P.value]=!(P.value in v)&&{node:M,property:b,value:G}}for(const H in f){const X=f[H];if(!(N in X))continue;const I=X[N];if(I.usages){for(let p of I.usages){let b=p.node,P=p.property,M=p.value;const c=[],G=[];let Q=Object.keys(b).length;for(;P===y&&g.isObject(v[b["@id"]])&&g.isArray(b[i])&&1===b[i].length&&g.isArray(b[y])&&1===b[y].length&&(3===Q||4===Q&&g.isArray(b["@type"])&&1===b["@type"].length&&b["@type"][0]===t)&&(c.push(b[i][0]),G.push(b["@id"]),p=v[b["@id"]],b=p.node,P=p.property,M=p.value,Q=Object.keys(b).length,h.isBlankNode(b)););delete M["@id"],M["@list"]=c.reverse();for(const z of G)delete X[z]}delete I.usages}}const _=[],O=Object.keys(A).sort();for(const H of O){const X=A[H];if(H in f){const I=X["@graph"]=[],p=f[H],b=Object.keys(p).sort();for(const P of b){const M=p[P];h.isSubjectReference(M)||I.push(M)}}h.isSubjectReference(X)||_.push(X)}return _});return function(e,o){return R.apply(this,arguments)}}()},2926:($,Z,u)=>{"use strict";const S=u(9098),x={};$.exports=x,x.isSubject=h=>!(!S.isObject(h)||"@value"in h||"@set"in h||"@list"in h)&&(Object.keys(h).length>1||!("@id"in h)),x.isSubjectReference=h=>S.isObject(h)&&1===Object.keys(h).length&&"@id"in h,x.isValue=h=>S.isObject(h)&&"@value"in h,x.isList=h=>S.isObject(h)&&"@list"in h,x.isGraph=h=>S.isObject(h)&&"@graph"in h&&1===Object.keys(h).filter(g=>"@id"!==g&&"@index"!==g).length,x.isSimpleGraph=h=>x.isGraph(h)&&!("@id"in h),x.isBlankNode=h=>{if(S.isObject(h)){if("@id"in h){const g=h["@id"];return!S.isString(g)||0===g.indexOf("_:")}return 0===Object.keys(h).length||!("@value"in h||"@set"in h||"@list"in h)}return!1}},1045:($,Z,u)=>{var S=u(4510).default;const x=u(7073),h=u(4577),g=u(6035),J=u(8398),r=g.IdentifierIssuer,n=u(9027),t=u(1983),i=u(6441),{expand:y}=u(6551),{flatten:N}=u(257),{fromRDF:k}=u(6487),{toRDF:l}=u(624),{frameMergedOrDefault:a,cleanupNull:j}=u(8998),{isArray:d,isObject:L,isString:E}=u(9098),{isSubjectReference:Y}=u(2926),{expandIri:R,getInitialContext:e,process:o,processingMode:s}=u(3104),{compact:m,compactIri:T}=u(7374),{createNodeMap:A,createMergedNodeMap:f,mergeNodeMaps:v}=u(253),{logEventHandler:_,logWarningEventHandler:O,safeEventHandler:H,setDefaultEventHandler:X,setupEventHandler:I,strictEventHandler:p,unhandledEventHandler:b}=u(9802),P=function(c){const G={},z=new t({max:100});function K(F,{documentLoader:V=c.documentLoader,...D}){if(F&&"compactionMap"in F)throw new n('"compactionMap" not supported.',"jsonld.OptionsError");if(F&&"expansionMap"in F)throw new n('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:V},D,F,{eventHandler:I({options:F})})}return c.compact=function(){var F=S(function*(V,D,w){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===D)throw new n("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===V)return null;let B;(w=K(w,{base:E(V)?V:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new r("_:b"),contextResolver:new J({sharedCache:z})})).link&&(w.skipExpansion=!0),w.compactToRelative||delete w.base,B=w.skipExpansion?V:yield c.expand(V,w);const W=yield c.processContext(e(w),D,w);let U=yield m({activeCtx:W,element:B,options:w});w.compactArrays&&!w.graph&&d(U)?1===U.length?U=U[0]:0===U.length&&(U={}):w.graph&&L(U)&&(U=[U]),L(D)&&"@context"in D&&(D=D["@context"]),D=g.clone(D),d(D)||(D=[D]);const C=D;D=[];for(let te=0;te<C.length;++te)(!L(C[te])||Object.keys(C[te]).length>0)&&D.push(C[te]);const ee=D.length>0;if(1===D.length&&(D=D[0]),d(U)){const te=T({activeCtx:W,iri:"@graph",relativeTo:{vocab:!0}}),q=U;U={},ee&&(U["@context"]=D),U[te]=q}else if(L(U)&&ee){const te=U;U={"@context":D};for(const q in te)U[q]=te[q]}return U});return function(V,D,w){return F.apply(this,arguments)}}(),c.expand=function(){var F=S(function*(V,D){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");const w={},B=[];if("expandContext"in(D=K(D,{keepFreeFloatingNodes:!1,contextResolver:new J({sharedCache:z})}))){const ee=g.clone(D.expandContext);w.expandContext=L(ee)&&"@context"in ee?ee:{"@context":ee},B.push(w.expandContext)}let W;if(E(V)){const ee=yield c.get(V,D);W=ee.documentUrl,w.input=ee.document,ee.contextUrl&&(w.remoteContext={"@context":ee.contextUrl},B.push(w.remoteContext))}else w.input=g.clone(V);"base"in D||(D.base=W||"");let U=e(D);for(const ee of B)U=yield o({activeCtx:U,localCtx:ee,options:D});let C=yield y({activeCtx:U,element:w.input,options:D});return L(C)&&"@graph"in C&&1===Object.keys(C).length?C=C["@graph"]:null===C&&(C=[]),d(C)||(C=[C]),C});return function(V,D){return F.apply(this,arguments)}}(),c.flatten=function(){var F=S(function*(V,D,w){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");D="function"==typeof D?null:D||null,w=K(w,{base:E(V)?V:"",contextResolver:new J({sharedCache:z})});const B=yield c.expand(V,w),W=N(B);return null===D?W:(w.graph=!0,w.skipExpansion=!0,yield c.compact(W,D,w))});return function(V,D,w){return F.apply(this,arguments)}}(),c.frame=function(){var F=S(function*(V,D,w){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(w=K(w,{base:E(V)?V:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new J({sharedCache:z})}),E(D)){const re=yield c.get(D,w);if(D=re.document,re.contextUrl){let se=D["@context"];se?d(se)?se.push(re.contextUrl):se=[se,re.contextUrl]:se=re.contextUrl,D["@context"]=se}}const B=D&&D["@context"]||{},W=yield c.processContext(e(w),B,w);w.hasOwnProperty("omitGraph")||(w.omitGraph=s(W,1.1)),w.hasOwnProperty("pruneBlankNodeIdentifiers")||(w.pruneBlankNodeIdentifiers=s(W,1.1));const U=yield c.expand(V,w),C={...w};C.isFrame=!0,C.keepFreeFloatingNodes=!0;const ee=yield c.expand(D,C),te=Object.keys(D).map(re=>R(W,re,{vocab:!0}));C.merged=!te.includes("@graph"),C.is11=s(W,1.1);const q=a(U,ee,C);C.graph=!w.omitGraph,C.skipExpansion=!0,C.link={},C.framing=!0;let ne=yield c.compact(q,B,C);return C.link={},ne=j(ne,C),ne});return function(V,D,w){return F.apply(this,arguments)}}(),c.link=function(){var F=S(function*(V,D,w){const B={};return D&&(B["@context"]=D),B["@embed"]="@link",c.frame(V,B,w)});return function(V,D,w){return F.apply(this,arguments)}}(),c.normalize=c.canonize=function(){var F=S(function*(V,D){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(D=K(D,{base:E(V)?V:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new J({sharedCache:z})}))){if("application/n-quads"!==D.inputFormat&&"application/nquads"!==D.inputFormat)throw new n("Unknown canonicalization input format.","jsonld.CanonizeError");const W=i.parse(V);return x.canonize(W,D)}const w={...D};delete w.format,w.produceGeneralizedRdf=!1;const B=yield c.toRDF(V,w);return x.canonize(B,D)});return function(V,D){return F.apply(this,arguments)}}(),c.fromRDF=function(){var F=S(function*(V,D){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");D=K(D,{format:E(V)?"application/n-quads":void 0});const{format:w}=D;let{rdfParser:B}=D;if(w){if(B=B||G[w],!B)throw new n("Unknown input format.","jsonld.UnknownFormat",{format:w})}else B=()=>V;const W=yield B(V);return k(W,D)});return function(V,D){return F.apply(this,arguments)}}(),c.toRDF=function(){var F=S(function*(V,D){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let w;w=(D=K(D,{base:E(V)?V:"",skipExpansion:!1,contextResolver:new J({sharedCache:z})})).skipExpansion?V:yield c.expand(V,D);const B=l(w,D);if(D.format){if("application/n-quads"===D.format||"application/nquads"===D.format)return i.serialize(B);throw new n("Unknown output format.","jsonld.UnknownFormat",{format:D.format})}return B});return function(V,D){return F.apply(this,arguments)}}(),c.createNodeMap=function(){var F=S(function*(V,D){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");D=K(D,{base:E(V)?V:"",contextResolver:new J({sharedCache:z})});const w=yield c.expand(V,D);return f(w,D)});return function(V,D){return F.apply(this,arguments)}}(),c.merge=function(){var F=S(function*(V,D,w){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!d(V))throw new TypeError('Could not merge, "docs" must be an array.');D="function"==typeof D?null:D||null,w=K(w,{contextResolver:new J({sharedCache:z})});const B=yield Promise.all(V.map(re=>{const se={...w};return c.expand(re,se)}));let W=!0;"mergeNodes"in w&&(W=w.mergeNodes);const U=w.issuer||new r("_:b"),C={"@default":{}};for(let re=0;re<B.length;++re){const se=g.relabelBlankNodes(B[re],{issuer:new r("_:b"+re+"-")}),ie=W||0===re?C:{"@default":{}};if(A(se,ie,"@default",U),ie!==C)for(const oe in ie){const le=ie[oe];if(!(oe in C)){C[oe]=le;continue}const de=C[oe];for(const ce in le)ce in de||(de[ce]=le[ce])}}const ee=v(C),te=[],q=Object.keys(ee).sort();for(let re=0;re<q.length;++re){const se=ee[q[re]];Y(se)||te.push(se)}return null===D?te:(w.graph=!0,w.skipExpansion=!0,yield c.compact(te,D,w))});return function(V,D,w){return F.apply(this,arguments)}}(),Object.defineProperty(c,"documentLoader",{get:()=>c._documentLoader,set:F=>c._documentLoader=F}),c.documentLoader=function(){var F=S(function*(V){throw new n("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:V})});return function(V){return F.apply(this,arguments)}}(),c.get=function(){var F=S(function*(V,D){let w;w="function"==typeof D.documentLoader?D.documentLoader:c.documentLoader;const B=yield w(V);try{if(!B.document)throw new n("No remote document found at the given URL.","jsonld.NullRemoteDocument");E(B.document)&&(B.document=JSON.parse(B.document))}catch(W){throw new n("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:W,remoteDoc:B})}return B});return function(V,D){return F.apply(this,arguments)}}(),c.processContext=function(){var F=S(function*(V,D,w){return w=K(w,{base:"",contextResolver:new J({sharedCache:z})}),null===D?e(w):(D=g.clone(D),L(D)&&"@context"in D||(D={"@context":D}),o({activeCtx:V,localCtx:D,options:w}))});return function(V,D,w){return F.apply(this,arguments)}}(),c.getContextValue=u(3104).getContextValue,c.documentLoaders={},c.useDocumentLoader=function(F){if(!(F in c.documentLoaders))throw new n('Unknown document loader type: "'+F+'"',"jsonld.UnknownDocumentLoader",{type:F});c.documentLoader=c.documentLoaders[F].apply(c,Array.prototype.slice.call(arguments,1))},c.registerRDFParser=function(F,V){G[F]=V},c.unregisterRDFParser=function(F){delete G[F]},c.registerRDFParser("application/n-quads",i.parse),c.registerRDFParser("application/nquads",i.parse),c.url=u(3834),c.logEventHandler=_,c.logWarningEventHandler=O,c.safeEventHandler=H,c.setDefaultEventHandler=X,c.strictEventHandler=p,c.unhandledEventHandler=b,c.util=g,Object.assign(c,g),c.promises=c,c.RequestQueue=u(7579),c.JsonLdProcessor=u(1985)(c),h.setupGlobals(c),h.setupDocumentLoaders(c),c},M=function(){return P(function(){return M()})};P(M),$.exports=M},253:($,Z,u)=>{"use strict";const{isKeyword:S}=u(3104),x=u(2926),h=u(9098),g=u(6035),J=u(9027),r={};$.exports=r,r.createMergedNodeMap=(n,t)=>{const i=(t=t||{}).issuer||new g.IdentifierIssuer("_:b"),y={"@default":{}};return r.createNodeMap(n,y,"@default",i),r.mergeNodeMaps(y)},r.createNodeMap=(n,t,i,y,N,k)=>{if(h.isArray(n)){for(const d of n)r.createNodeMap(d,t,i,y,void 0,k);return}if(!h.isObject(n))return void(k&&k.push(n));if(x.isValue(n)){if("@type"in n){let d=n["@type"];0===d.indexOf("_:")&&(n["@type"]=d=y.getId(d))}return void(k&&k.push(n))}if(k&&x.isList(n)){const d=[];return r.createNodeMap(n["@list"],t,i,y,N,d),void k.push({"@list":d})}if("@type"in n){const d=n["@type"];for(const L of d)0===L.indexOf("_:")&&y.getId(L)}h.isUndefined(N)&&(N=x.isBlankNode(n)?y.getId(n["@id"]):n["@id"]),k&&k.push({"@id":N});const l=t[i],a=l[N]=l[N]||{};a["@id"]=N;const j=Object.keys(n).sort();for(let d of j){if("@id"===d)continue;if("@reverse"===d){const E={"@id":N},Y=n["@reverse"];for(const R in Y){const e=Y[R];for(const o of e){let s=o["@id"];x.isBlankNode(o)&&(s=y.getId(s)),r.createNodeMap(o,t,i,y,s),g.addValue(l[s],R,E,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===d){N in t||(t[N]={}),r.createNodeMap(n[d],t,N,y);continue}if("@included"===d){r.createNodeMap(n[d],t,i,y);continue}if("@type"!==d&&S(d)){if("@index"===d&&d in a&&(n[d]!==a[d]||n[d]["@id"]!==a[d]["@id"]))throw new J("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:a});a[d]=n[d];continue}const L=n[d];if(0===d.indexOf("_:")&&(d=y.getId(d)),0!==L.length)for(let E of L)if("@type"===d&&(E=0===E.indexOf("_:")?y.getId(E):E),x.isSubject(E)||x.isSubjectReference(E)){if("@id"in E&&!E["@id"])continue;const Y=x.isBlankNode(E)?y.getId(E["@id"]):E["@id"];g.addValue(a,d,{"@id":Y},{propertyIsArray:!0,allowDuplicate:!1}),r.createNodeMap(E,t,i,y,Y)}else if(x.isValue(E))g.addValue(a,d,E,{propertyIsArray:!0,allowDuplicate:!1});else if(x.isList(E)){const Y=[];r.createNodeMap(E["@list"],t,i,y,N,Y),E={"@list":Y},g.addValue(a,d,E,{propertyIsArray:!0,allowDuplicate:!1})}else r.createNodeMap(E,t,i,y,N),g.addValue(a,d,E,{propertyIsArray:!0,allowDuplicate:!1});else g.addValue(a,d,[],{propertyIsArray:!0})}},r.mergeNodeMapGraphs=n=>{const t={};for(const i of Object.keys(n).sort())for(const y of Object.keys(n[i]).sort()){const N=n[i][y];y in t||(t[y]={"@id":y});const k=t[y];for(const l of Object.keys(N).sort())if(S(l)&&"@type"!==l)k[l]=g.clone(N[l]);else for(const a of N[l])g.addValue(k,l,g.clone(a),{propertyIsArray:!0,allowDuplicate:!1})}return t},r.mergeNodeMaps=n=>{const t=n["@default"],i=Object.keys(n).sort();for(const y of i){if("@default"===y)continue;const N=n[y];let k=t[y];k?"@graph"in k||(k["@graph"]=[]):t[y]=k={"@id":y,"@graph":[]};const l=k["@graph"];for(const a of Object.keys(N).sort()){const j=N[a];x.isSubjectReference(j)||l.push(j)}}return t}},4577:($,Z,u)=>{"use strict";const S=u(3601),x={};$.exports=x,x.setupDocumentLoaders=function(h){typeof XMLHttpRequest<"u"&&(h.documentLoaders.xhr=S,h.useDocumentLoader("xhr"))},x.setupGlobals=function(h){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:h.JsonLdProcessor})}},624:($,Z,u)=>{"use strict";const{createNodeMap:S}=u(253),{isKeyword:x}=u(3104),h=u(2926),g=u(8257),J=u(9027),r=u(9098),n=u(6035),{handleEvent:t}=u(9802),{RDF_FIRST:i,RDF_REST:y,RDF_NIL:N,RDF_TYPE:k,RDF_JSON_LITERAL:l,RDF_LANGSTRING:a,XSD_BOOLEAN:j,XSD_DOUBLE:d,XSD_INTEGER:L,XSD_STRING:E}=u(6270),{isAbsolute:Y}=u(3834),R={};function e(m,T,A,f,v){const _=Object.keys(T).sort();for(const O of _){const H=T[O],X=Object.keys(H).sort();for(let I of X){const p=H[I];if("@type"===I)I=k;else if(x(I))continue;for(const b of p){const P={termType:O.startsWith("_:")?"BlankNode":"NamedNode",value:O};if(!Y(O)){v.eventHandler&&t({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:O}},options:v});continue}const M={termType:I.startsWith("_:")?"BlankNode":"NamedNode",value:I};if(!Y(I)){v.eventHandler&&t({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:I}},options:v});continue}if("BlankNode"===M.termType&&!v.produceGeneralizedRdf){v.eventHandler&&t({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:f.getOldIds().find(G=>f.getId(G)===I)}},options:v});continue}const c=s(b,f,m,A,v.rdfDirection,v);c&&m.push({subject:P,predicate:M,object:c,graph:A})}}}}function s(m,T,A,f,v,_){const O={};if(h.isValue(m)){O.termType="Literal",O.value=void 0,O.datatype={termType:"NamedNode"};let H=m["@value"];const X=m["@type"]||null;if("@json"===X)O.value=g(H),O.datatype.value=l;else if(r.isBoolean(H))O.value=H.toString(),O.datatype.value=X||j;else if(r.isDouble(H)||X===d)r.isDouble(H)||(H=parseFloat(H)),O.value=H.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),O.datatype.value=X||d;else if(r.isNumber(H))O.value=H.toFixed(0),O.datatype.value=X||L;else if("@direction"in m&&"i18n-datatype"===v){const I=(m["@language"]||"").toLowerCase();O.datatype.value=`https://www.w3.org/ns/i18n#${I}_${m["@direction"]}`,O.value=H}else{if("@direction"in m&&"compound-literal"===v)throw new J("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:v});if("@direction"in m&&v)throw new J("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:v});"@language"in m?("@direction"in m&&!v&&_.eventHandler&&t({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:O.value}},options:_}),O.value=H,O.datatype.value=X||a,O.language=m["@language"]):("@direction"in m&&!v&&_.eventHandler&&t({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:O.value}},options:_}),O.value=H,O.datatype.value=X||E)}}else if(h.isList(m)){const H=function o(m,T,A,f,v,_){const O={termType:"NamedNode",value:i},H={termType:"NamedNode",value:y},X={termType:"NamedNode",value:N},I=m.pop(),p=I?{termType:"BlankNode",value:T.getId()}:X;let b=p;for(const P of m){const M=s(P,T,A,f,v,_),c={termType:"BlankNode",value:T.getId()};A.push({subject:b,predicate:O,object:M,graph:f}),A.push({subject:b,predicate:H,object:c,graph:f}),b=c}if(I){const P=s(I,T,A,f,v,_);A.push({subject:b,predicate:O,object:P,graph:f}),A.push({subject:b,predicate:H,object:X,graph:f})}return p}(m["@list"],T,A,f,v,_);O.termType=H.termType,O.value=H.value}else{const H=r.isObject(m)?m["@id"]:m;O.termType=H.startsWith("_:")?"BlankNode":"NamedNode",O.value=H}return"NamedNode"!==O.termType||Y(O.value)?O:(_.eventHandler&&t({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:O.value}},options:_}),null)}$.exports=R,R.toRDF=(m,T)=>{const A=new n.IdentifierIssuer("_:b"),f={"@default":{}};S(m,f,"@default",A);const v=[],_=Object.keys(f).sort();for(const O of _){let H;if("@default"===O)H={termType:"DefaultGraph",value:""};else{if(!Y(O)){T.eventHandler&&t({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:O}},options:T});continue}H=O.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},H.value=O}e(v,f[O],H,A,T)}return v}},9098:$=>{"use strict";const Z={};$.exports=Z,Z.isArray=Array.isArray,Z.isBoolean=u=>"boolean"==typeof u||"[object Boolean]"===Object.prototype.toString.call(u),Z.isDouble=u=>Z.isNumber(u)&&(-1!==String(u).indexOf(".")||Math.abs(u)>=1e21),Z.isEmptyObject=u=>Z.isObject(u)&&0===Object.keys(u).length,Z.isNumber=u=>"number"==typeof u||"[object Number]"===Object.prototype.toString.call(u),Z.isNumeric=u=>!isNaN(parseFloat(u))&&isFinite(u),Z.isObject=u=>"[object Object]"===Object.prototype.toString.call(u),Z.isString=u=>"string"==typeof u||"[object String]"===Object.prototype.toString.call(u),Z.isUndefined=u=>typeof u>"u"},3834:($,Z,u)=>{"use strict";const S=u(9098),x={};$.exports=x,x.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},x.parse=(g,J)=>{const r={},n=x.parsers[J||"full"],t=n.regex.exec(g);let i=n.keys.length;for(;i--;)r[n.keys[i]]=void 0===t[i]?null:t[i];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=x.removeDotSegments(r.path),r},x.prependBase=(g,J)=>{if(null===g||x.isAbsolute(J))return J;(!g||S.isString(g))&&(g=x.parse(g||""));const r=x.parse(J),n={protocol:g.protocol||""};if(null!==r.authority)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=g.authority,""===r.path)n.path=g.path,n.query=null!==r.query?r.query:g.query;else{if(0===r.path.indexOf("/"))n.path=r.path;else{let i=g.path;i=i.substr(0,i.lastIndexOf("/")+1),(i.length>0||g.authority)&&"/"!==i.substr(-1)&&(i+="/"),i+=r.path,n.path=i}n.query=r.query}""!==r.path&&(n.path=x.removeDotSegments(n.path));let t=n.protocol;return null!==n.authority&&(t+="//"+n.authority),t+=n.path,null!==n.query&&(t+="?"+n.query),null!==r.fragment&&(t+="#"+r.fragment),""===t&&(t="./"),t},x.removeBase=(g,J)=>{if(null===g)return J;(!g||S.isString(g))&&(g=x.parse(g||""));let r="";if(""!==g.href?r+=(g.protocol||"")+"//"+(g.authority||""):J.indexOf("//")&&(r+="//"),0!==J.indexOf(r))return J;const n=x.parse(J.substr(r.length)),t=g.normalizedPath.split("/"),i=n.normalizedPath.split("/"),y=n.fragment||n.query?0:1;for(;t.length>0&&i.length>y&&t[0]===i[0];)t.shift(),i.shift();let N="";if(t.length>0){t.pop();for(let k=0;k<t.length;++k)N+="../"}return N+=i.join("/"),null!==n.query&&(N+="?"+n.query),null!==n.fragment&&(N+="#"+n.fragment),""===N&&(N="./"),N},x.removeDotSegments=g=>{if(0===g.length)return"";const J=g.split("/"),r=[];for(;J.length>0;){const n=J.shift(),t=0===J.length;"."!==n?".."!==n?r.push(n):(r.pop(),t&&r.push("")):t&&r.push("")}return"/"===g[0]&&r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};const h=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;x.isAbsolute=g=>S.isString(g)&&h.test(g),x.isRelative=g=>S.isString(g)},6035:($,Z,u)=>{"use strict";const S=u(2926),x=u(9098),h=u(7073).IdentifierIssuer,g=u(9027),r=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,n=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,t=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,y_headers_accept="application/ld+json, application/json",N={};function k(l,a){if(x.isArray(a))for(let j=0;j<a.length;++j)a[j]=k(l,a[j]);else if(S.isList(a))a["@list"]=k(l,a["@list"]);else if(x.isObject(a)){S.isBlankNode(a)&&(a["@id"]=l.getId(a["@id"]));const j=Object.keys(a).sort();for(let d=0;d<j.length;++d){const L=j[d];"@id"!==L&&(a[L]=k(l,a[L]))}}return a}$.exports=N,N.IdentifierIssuer=h,N.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,N.REGEX_KEYWORD=/^@[a-zA-Z]+$/,N.clone=function(l){if(l&&"object"==typeof l){let a;if(x.isArray(l)){a=[];for(let j=0;j<l.length;++j)a[j]=N.clone(l[j])}else if(l instanceof Map){a=new Map;for(const[j,d]of l)a.set(j,N.clone(d))}else if(l instanceof Set){a=new Set;for(const j of l)a.add(N.clone(j))}else if(x.isObject(l)){a={};for(const j in l)a[j]=N.clone(l[j])}else a=l.toString();return a}return l},N.asArray=function(l){return Array.isArray(l)?l:[l]},N.buildHeaders=(l={})=>{if(Object.keys(l).some(j=>"accept"===j.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+y_headers_accept+'" is supported.');return Object.assign({Accept:y_headers_accept},l)},N.parseLinkHeader=l=>{const a={},j=l.match(r);for(let d=0;d<j.length;++d){let L=j[d].match(n);if(!L)continue;const E={target:L[1]},Y=L[2];for(;L=t.exec(Y);)E[L[1]]=void 0===L[2]?L[3]:L[2];const R=E.rel||"";Array.isArray(a[R])?a[R].push(E):a[R]=a.hasOwnProperty(R)?[a[R],E]:E}return a},N.validateTypeValue=(l,a)=>{if(!(x.isString(l)||x.isArray(l)&&l.every(j=>x.isString(j)))){if(a&&x.isObject(l))switch(Object.keys(l).length){case 0:return;case 1:if("@default"in l&&N.asArray(l["@default"]).every(j=>x.isString(j)))return}throw new g('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:l})}},N.hasProperty=(l,a)=>{if(l.hasOwnProperty(a)){const j=l[a];return!x.isArray(j)||j.length>0}return!1},N.hasValue=(l,a,j)=>{if(N.hasProperty(l,a)){let d=l[a];const L=S.isList(d);if(x.isArray(d)||L){L&&(d=d["@list"]);for(let E=0;E<d.length;++E)if(N.compareValues(j,d[E]))return!0}else if(!x.isArray(j))return N.compareValues(j,d)}return!1},N.addValue=(l,a,j,d)=>{if("propertyIsArray"in(d=d||{})||(d.propertyIsArray=!1),"valueIsArray"in d||(d.valueIsArray=!1),"allowDuplicate"in d||(d.allowDuplicate=!0),"prependValue"in d||(d.prependValue=!1),d.valueIsArray)l[a]=j;else if(x.isArray(j)){0===j.length&&d.propertyIsArray&&!l.hasOwnProperty(a)&&(l[a]=[]),d.prependValue&&(j=j.concat(l[a]),l[a]=[]);for(let L=0;L<j.length;++L)N.addValue(l,a,j[L],d)}else if(l.hasOwnProperty(a)){const L=!d.allowDuplicate&&N.hasValue(l,a,j);!x.isArray(l[a])&&(!L||d.propertyIsArray)&&(l[a]=[l[a]]),L||(d.prependValue?l[a].unshift(j):l[a].push(j))}else l[a]=d.propertyIsArray?[j]:j},N.getValues=(l,a)=>[].concat(l[a]||[]),N.removeProperty=(l,a)=>{delete l[a]},N.removeValue=(l,a,j,d)=>{"propertyIsArray"in(d=d||{})||(d.propertyIsArray=!1);const L=N.getValues(l,a).filter(E=>!N.compareValues(E,j));0===L.length?N.removeProperty(l,a):l[a]=1!==L.length||d.propertyIsArray?L:L[0]},N.relabelBlankNodes=(l,a)=>k((a=a||{}).issuer||new h("_:b"),l),N.compareValues=(l,a)=>!!(l===a||S.isValue(l)&&S.isValue(a)&&l["@value"]===a["@value"]&&l["@type"]===a["@type"]&&l["@language"]===a["@language"]&&l["@index"]===a["@index"])||!!(x.isObject(l)&&"@id"in l&&x.isObject(a)&&"@id"in a)&&l["@id"]===a["@id"],N.compareShortestLeast=(l,a)=>l.length<a.length?-1:a.length<l.length?1:l===a?0:l<a?-1:1},1983:($,Z,u)=>{"use strict";const S=u(513),x=Symbol("max"),h=Symbol("length"),g=Symbol("lengthCalculator"),J=Symbol("allowStale"),r=Symbol("maxAge"),n=Symbol("dispose"),t=Symbol("noDisposeOnSet"),i=Symbol("lruList"),y=Symbol("cache"),N=Symbol("updateAgeOnGet"),k=()=>1,a=(R,e,o)=>{const s=R[y].get(e);if(s){const m=s.value;if(j(R,m)){if(L(R,s),!R[J])return}else o&&(R[N]&&(s.value.now=Date.now()),R[i].unshiftNode(s));return m.value}},j=(R,e)=>{if(!e||!e.maxAge&&!R[r])return!1;const o=Date.now()-e.now;return e.maxAge?o>e.maxAge:R[r]&&o>R[r]},d=R=>{if(R[h]>R[x])for(let e=R[i].tail;R[h]>R[x]&&null!==e;){const o=e.prev;L(R,e),e=o}},L=(R,e)=>{if(e){const o=e.value;R[n]&&R[n](o.key,o.value),R[h]-=o.length,R[y].delete(o.key),R[i].removeNode(e)}};class E{constructor(e,o,s,m,T){this.key=e,this.value=o,this.length=s,this.now=m,this.maxAge=T||0}}const Y=(R,e,o,s)=>{let m=o.value;j(R,m)&&(L(R,o),R[J]||(m=void 0)),m&&e.call(s,m.value,m.key,R)};$.exports=class l{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[x]=e.max||1/0;const s=e.length||k;if(this[g]="function"!=typeof s?k:s,this[J]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[r]=e.maxAge||0,this[n]=e.dispose,this[t]=e.noDisposeOnSet||!1,this[N]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[x]=e||1/0,d(this)}get max(){return this[x]}set allowStale(e){this[J]=!!e}get allowStale(){return this[J]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[r]=e,d(this)}get maxAge(){return this[r]}set lengthCalculator(e){"function"!=typeof e&&(e=k),e!==this[g]&&(this[g]=e,this[h]=0,this[i].forEach(o=>{o.length=this[g](o.value,o.key),this[h]+=o.length})),d(this)}get lengthCalculator(){return this[g]}get length(){return this[h]}get itemCount(){return this[i].length}rforEach(e,o){o=o||this;for(let s=this[i].tail;null!==s;){const m=s.prev;Y(this,e,s,o),s=m}}forEach(e,o){o=o||this;for(let s=this[i].head;null!==s;){const m=s.next;Y(this,e,s,o),s=m}}keys(){return this[i].toArray().map(e=>e.key)}values(){return this[i].toArray().map(e=>e.value)}reset(){this[n]&&this[i]&&this[i].length&&this[i].forEach(e=>this[n](e.key,e.value)),this[y]=new Map,this[i]=new S,this[h]=0}dump(){return this[i].map(e=>!j(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[i]}set(e,o,s){if((s=s||this[r])&&"number"!=typeof s)throw new TypeError("maxAge must be a number");const m=s?Date.now():0,T=this[g](o,e);if(this[y].has(e)){if(T>this[x])return L(this,this[y].get(e)),!1;const v=this[y].get(e).value;return this[n]&&(this[t]||this[n](e,v.value)),v.now=m,v.maxAge=s,v.value=o,this[h]+=T-v.length,v.length=T,this.get(e),d(this),!0}const A=new E(e,o,T,m,s);return A.length>this[x]?(this[n]&&this[n](e,o),!1):(this[h]+=A.length,this[i].unshift(A),this[y].set(e,this[i].head),d(this),!0)}has(e){if(!this[y].has(e))return!1;const o=this[y].get(e).value;return!j(this,o)}get(e){return a(this,e,!0)}peek(e){return a(this,e,!1)}pop(){const e=this[i].tail;return e?(L(this,e),e.value):null}del(e){L(this,this[y].get(e))}load(e){this.reset();const o=Date.now();for(let s=e.length-1;s>=0;s--){const m=e[s],T=m.e||0;if(0===T)this.set(m.k,m.v);else{const A=T-o;A>0&&this.set(m.k,m.v,A)}}}prune(){this[y].forEach((e,o)=>a(this,o,!1))}}},969:$=>{"use strict";$.exports=function(Z){Z.prototype[Symbol.iterator]=function*(){for(let u=this.head;u;u=u.next)yield u.value}}},513:($,Z,u)=>{"use strict";function S(r){var n=this;if(n instanceof S||(n=new S),n.tail=null,n.head=null,n.length=0,r&&"function"==typeof r.forEach)r.forEach(function(y){n.push(y)});else if(arguments.length>0)for(var t=0,i=arguments.length;t<i;t++)n.push(arguments[t]);return n}function x(r,n,t){var i=n===r.head?new J(t,null,n,r):new J(t,n,n.next,r);return null===i.next&&(r.tail=i),null===i.prev&&(r.head=i),r.length++,i}function h(r,n){r.tail=new J(n,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function g(r,n){r.head=new J(n,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function J(r,n,t,i){if(!(this instanceof J))return new J(r,n,t,i);this.list=i,this.value=r,n?(n.next=this,this.prev=n):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}$.exports=S,S.Node=J,S.create=S,S.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var n=r.next,t=r.prev;return n&&(n.prev=t),t&&(t.next=n),r===this.head&&(this.head=n),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,n},S.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var n=this.head;r.list=this,r.next=n,n&&(n.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}},S.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var n=this.tail;r.list=this,r.prev=n,n&&(n.next=r),this.tail=r,this.head||(this.head=r),this.length++}},S.prototype.push=function(){for(var r=0,n=arguments.length;r<n;r++)h(this,arguments[r]);return this.length},S.prototype.unshift=function(){for(var r=0,n=arguments.length;r<n;r++)g(this,arguments[r]);return this.length},S.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}},S.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}},S.prototype.forEach=function(r,n){n=n||this;for(var t=this.head,i=0;null!==t;i++)r.call(n,t.value,i,this),t=t.next},S.prototype.forEachReverse=function(r,n){n=n||this;for(var t=this.tail,i=this.length-1;null!==t;i--)r.call(n,t.value,i,this),t=t.prev},S.prototype.get=function(r){for(var n=0,t=this.head;null!==t&&n<r;n++)t=t.next;if(n===r&&null!==t)return t.value},S.prototype.getReverse=function(r){for(var n=0,t=this.tail;null!==t&&n<r;n++)t=t.prev;if(n===r&&null!==t)return t.value},S.prototype.map=function(r,n){n=n||this;for(var t=new S,i=this.head;null!==i;)t.push(r.call(n,i.value,this)),i=i.next;return t},S.prototype.mapReverse=function(r,n){n=n||this;for(var t=new S,i=this.tail;null!==i;)t.push(r.call(n,i.value,this)),i=i.prev;return t},S.prototype.reduce=function(r,n){var t,i=this.head;if(arguments.length>1)t=n;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,t=this.head.value}for(var y=0;null!==i;y++)t=r(t,i.value,y),i=i.next;return t},S.prototype.reduceReverse=function(r,n){var t,i=this.tail;if(arguments.length>1)t=n;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,t=this.tail.value}for(var y=this.length-1;null!==i;y--)t=r(t,i.value,y),i=i.prev;return t},S.prototype.toArray=function(){for(var r=new Array(this.length),n=0,t=this.head;null!==t;n++)r[n]=t.value,t=t.next;return r},S.prototype.toArrayReverse=function(){for(var r=new Array(this.length),n=0,t=this.tail;null!==t;n++)r[n]=t.value,t=t.prev;return r},S.prototype.slice=function(r,n){(n=n||this.length)<0&&(n+=this.length),(r=r||0)<0&&(r+=this.length);var t=new S;if(n<r||n<0)return t;r<0&&(r=0),n>this.length&&(n=this.length);for(var i=0,y=this.head;null!==y&&i<r;i++)y=y.next;for(;null!==y&&i<n;i++,y=y.next)t.push(y.value);return t},S.prototype.sliceReverse=function(r,n){(n=n||this.length)<0&&(n+=this.length),(r=r||0)<0&&(r+=this.length);var t=new S;if(n<r||n<0)return t;r<0&&(r=0),n>this.length&&(n=this.length);for(var i=this.length,y=this.tail;null!==y&&i>n;i--)y=y.prev;for(;null!==y&&i>r;i--,y=y.prev)t.push(y.value);return t},S.prototype.splice=function(r,n,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var i=0,y=this.head;null!==y&&i<r;i++)y=y.next;var N=[];for(i=0;y&&i<n;i++)N.push(y.value),y=this.removeNode(y);for(null===y&&(y=this.tail),y!==this.head&&y!==this.tail&&(y=y.prev),i=0;i<t.length;i++)y=x(this,y,t[i]);return N},S.prototype.reverse=function(){for(var r=this.head,n=this.tail,t=r;null!==t;t=t.prev){var i=t.prev;t.prev=t.next,t.next=i}return this.head=n,this.tail=r,this};try{u(969)(S)}catch{}},7073:($,Z,u)=>{$.exports=u(4793)},3053:$=>{"use strict";$.exports=class ue{constructor(u,S=new Map,x=0){this.prefix=u,this._existing=S,this.counter=x}clone(){const{prefix:u,_existing:S,counter:x}=this;return new ue(u,new Map(S),x)}getId(u){const S=u&&this._existing.get(u);if(S)return S;const x=this.prefix+this.counter;return this.counter++,u&&this._existing.set(u,x),x}hasId(u){return this._existing.has(u)}getOldIds(){return[...this._existing.keys()]}}},4499:($,Z,u)=>{"use strict";var S=u(4510).default;u(1811);const x=self.crypto||self.msCrypto;$.exports=class{constructor(g){if(!x||!x.subtle)throw new Error("crypto.subtle not found.");if("sha256"===g)this.algorithm={name:"SHA-256"};else{if("sha1"!==g)throw new Error(`Unsupported algorithm "${g}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(g){this._content+=g}digest(){var g=this;return S(function*(){const J=(new TextEncoder).encode(g._content),r=new Uint8Array(yield x.subtle.digest(g.algorithm,J));let n="";for(let t=0;t<r.length;++t)n+=r[t].toString(16).padStart(2,"0");return n})()}}},9511:$=>{"use strict";const S="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",x="http://www.w3.org/2001/XMLSchema#string",h="NamedNode",g="BlankNode",J="Literal",r="DefaultGraph",n={};function t(l,a){return l.subject.termType===a.subject.termType&&l.object.termType===a.object.termType&&l.subject.value===a.subject.value&&l.predicate.value===a.predicate.value&&l.object.value===a.object.value&&(l.object.termType!==J||l.object.datatype.termType===a.object.datatype.termType&&l.object.language===a.object.language&&l.object.datatype.value===a.object.datatype.value)}(()=>{const l="(?:<([^:]+:[^>]*)>)",j="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_",d=j+"0-9-\xb7\u0300-\u036f\u203f-\u2040",E="(_:(?:["+j+"0-9])(?:(?:["+d+".])*(?:["+d+"]))?)",s="[ \\t]+",m="[ \\t]*",T="(?:"+l+"|"+E+")"+s,A=l+s,f="(?:"+l+"|"+E+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+l+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+m,v="(?:\\.|(?:(?:"+l+"|"+E+")"+m+"\\.))";n.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,n.empty=new RegExp("^"+m+"$"),n.quad=new RegExp("^"+m+T+A+f+v+m+"$")})(),$.exports=class ae{static parse(a){const j=[],d={},L=a.split(n.eoln);let E=0;for(const Y of L){if(E++,n.empty.test(Y))continue;const R=Y.match(n.quad);if(null===R)throw new Error("N-Quads parse error on line "+E+".");const e={subject:null,predicate:null,object:null,graph:null};if(e.subject=void 0!==R[1]?{termType:h,value:R[1]}:{termType:g,value:R[2]},e.predicate={termType:h,value:R[3]},void 0!==R[4]?e.object={termType:h,value:R[4]}:void 0!==R[5]?e.object={termType:g,value:R[5]}:(e.object={termType:J,value:void 0,datatype:{termType:h}},void 0!==R[7]?e.object.datatype.value=R[7]:void 0!==R[8]?(e.object.datatype.value=S,e.object.language=R[8]):e.object.datatype.value=x,e.object.value=R[6].replace(N,function(a,j,d,L){if(j)switch(j){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(d)return String.fromCharCode(parseInt(d,16));if(L)throw new Error("Unsupported U escape")})),e.graph=void 0!==R[9]?{termType:h,value:R[9]}:void 0!==R[10]?{termType:g,value:R[10]}:{termType:r,value:""},e.graph.value in d){let o=!0;const s=d[e.graph.value];for(const m of s)if(t(m,e)){o=!1;break}o&&(s.push(e),j.push(e))}else d[e.graph.value]=[e],j.push(e)}return j}static serialize(a){Array.isArray(a)||(a=ae.legacyDatasetToQuads(a));const j=[];for(const d of a)j.push(ae.serializeQuad(d));return j.sort().join("")}static serializeQuadComponents(a,j,d,L){let E="";return E+=a.termType===h?`<${a.value}>`:`${a.value}`,E+=` <${j.value}> `,d.termType===h?E+=`<${d.value}>`:d.termType===g?E+=d.value:(E+=`"${function y(l){return l.replace(i,function(a){switch(a){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}(d.value)}"`,d.datatype.value===S?d.language&&(E+=`@${d.language}`):d.datatype.value!==x&&(E+=`^^<${d.datatype.value}>`)),L.termType===h?E+=` <${L.value}>`:L.termType===g&&(E+=` ${L.value}`),E+=" .\n",E}static serializeQuad(a){return ae.serializeQuadComponents(a.subject,a.predicate,a.object,a.graph)}static legacyDatasetToQuads(a){const j=[],d={"blank node":g,IRI:h,literal:J};for(const L in a)a[L].forEach(Y=>{const R={};for(const e in Y){const o=Y[e],s={termType:d[o.type],value:o.value};s.termType===J&&(s.datatype={termType:h},"datatype"in o&&(s.datatype.value=o.datatype),"language"in o?("datatype"in o||(s.datatype.value=S),s.language=o.language):"datatype"in o||(s.datatype.value=x)),R[e]=s}R.graph="@default"===L?{termType:r,value:""}:{termType:L.startsWith("_:")?g:h,value:L},j.push(R)});return j}};const i=/["\\\n\r]/g,N=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},9985:$=>{"use strict";$.exports=class{constructor(u){this.current=u.sort(),this.done=!1,this.dir=new Map;for(let S=0;S<u.length;++S)this.dir.set(u[S],!0)}hasNext(){return!this.done}next(){const{current:u,dir:S}=this,x=u.slice();let h=null,g=0;const J=u.length;for(let r=0;r<J;++r){const n=u[r],t=S.get(n);(null===h||n>h)&&(t&&r>0&&n>u[r-1]||!t&&r<J-1&&n>u[r+1])&&(h=n,g=r)}if(null===h)this.done=!0;else{const r=S.get(h)?g-1:g+1;u[g]=u[r],u[r]=h;for(const n of u)n>h&&S.set(n,!S.get(n))}return x}}},7189:($,Z,u)=>{"use strict";var S=u(4510).default;const x=u(3053),h=u(4499),g=u(9985),J=u(9511);function r(n,t){return n.hash<t.hash?-1:n.hash>t.hash?1:0}$.exports=class{constructor({createMessageDigest:t=()=>new h("sha256"),canonicalIdMap:i=new Map,maxDeepIterations:y=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new x("_:c14n",i),this.createMessageDigest=t,this.maxDeepIterations=y,this.quads=null,this.deepIterations=null}main(t){var i=this;return S(function*(){i.deepIterations=new Map,i.quads=t;for(const d of t)i._addBlankNodeQuadInfo({quad:d,component:d.subject}),i._addBlankNodeQuadInfo({quad:d,component:d.object}),i._addBlankNodeQuadInfo({quad:d,component:d.graph});const y=new Map,N=[...i.blankNodeInfo.keys()];let k=0;for(const d of N)++k%100==0&&(yield i._yield()),yield i._hashAndTrackBlankNode({id:d,hashToBlankNodes:y});const l=[...y.keys()].sort(),a=[];for(const d of l){const L=y.get(d);L.length>1?a.push(L):i.canonicalIssuer.getId(L[0])}for(const d of a){const L=[];for(const E of d){if(i.canonicalIssuer.hasId(E))continue;const Y=new x("_:b");Y.getId(E);const R=yield i.hashNDegreeQuads(E,Y);L.push(R)}L.sort(r);for(const E of L){const Y=E.issuer.getOldIds();for(const R of Y)i.canonicalIssuer.getId(R)}}const j=[];for(const d of i.quads){const L=J.serializeQuadComponents(i._componentWithCanonicalId(d.subject),d.predicate,i._componentWithCanonicalId(d.object),i._componentWithCanonicalId(d.graph));j.push(L)}return j.sort(),j.join("")})()}hashFirstDegreeQuads(t){var i=this;return S(function*(){const y=[],N=i.blankNodeInfo.get(t),k=N.quads;for(const a of k){const j={subject:null,predicate:a.predicate,object:null,graph:null};j.subject=i.modifyFirstDegreeComponent(t,a.subject,"subject"),j.object=i.modifyFirstDegreeComponent(t,a.object,"object"),j.graph=i.modifyFirstDegreeComponent(t,a.graph,"graph"),y.push(J.serializeQuad(j))}y.sort();const l=i.createMessageDigest();for(const a of y)l.update(a);return N.hash=yield l.digest(),N.hash})()}hashRelatedBlankNode(t,i,y,N){var k=this;return S(function*(){let l;l=k.canonicalIssuer.hasId(t)?k.canonicalIssuer.getId(t):y.hasId(t)?y.getId(t):k.blankNodeInfo.get(t).hash;const a=k.createMessageDigest();return a.update(N),"g"!==N&&a.update(k.getRelatedPredicate(i)),a.update(l),a.digest()})()}hashNDegreeQuads(t,i){var y=this;return S(function*(){const N=y.deepIterations.get(t)||0;if(N>y.maxDeepIterations)throw new Error(`Maximum deep iterations (${y.maxDeepIterations}) exceeded.`);y.deepIterations.set(t,N+1);const k=y.createMessageDigest(),l=yield y.createHashToRelated(t,i),a=[...l.keys()].sort();for(const j of a){k.update(j);let L,d="";const E=new g(l.get(j));let Y=0;for(;E.hasNext();){const R=E.next();++Y%3==0&&(yield y._yield());let e=i.clone(),o="";const s=[];let m=!1;for(const T of R)if(y.canonicalIssuer.hasId(T)?o+=y.canonicalIssuer.getId(T):(e.hasId(T)||s.push(T),o+=e.getId(T)),0!==d.length&&o>d){m=!0;break}if(!m){for(const T of s){const A=yield y.hashNDegreeQuads(T,e);if(o+=e.getId(T),o+=`<${A.hash}>`,e=A.issuer,0!==d.length&&o>d){m=!0;break}}m||(0===d.length||o<d)&&(d=o,L=e)}}k.update(d),i=L}return{hash:yield k.digest(),issuer:i}})()}modifyFirstDegreeComponent(t,i){return"BlankNode"!==i.termType?i:{termType:"BlankNode",value:i.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,i){var y=this;return S(function*(){const N=new Map,k=y.blankNodeInfo.get(t).quads;let l=0;for(const a of k)++l%100==0&&(yield y._yield()),yield Promise.all([y._addRelatedBlankNodeHash({quad:a,component:a.subject,position:"s",id:t,issuer:i,hashToRelated:N}),y._addRelatedBlankNodeHash({quad:a,component:a.object,position:"o",id:t,issuer:i,hashToRelated:N}),y._addRelatedBlankNodeHash({quad:a,component:a.graph,position:"g",id:t,issuer:i,hashToRelated:N})]);return N})()}_hashAndTrackBlankNode({id:t,hashToBlankNodes:i}){var y=this;return S(function*(){const N=yield y.hashFirstDegreeQuads(t),k=i.get(N);k?k.push(t):i.set(N,[t])})()}_addBlankNodeQuadInfo({quad:t,component:i}){if("BlankNode"!==i.termType)return;const y=i.value,N=this.blankNodeInfo.get(y);N?N.quads.add(t):this.blankNodeInfo.set(y,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:i,position:y,id:N,issuer:k,hashToRelated:l}){var a=this;return S(function*(){if("BlankNode"!==i.termType||i.value===N)return;const j=i.value,d=yield a.hashRelatedBlankNode(j,t,k,y),L=l.get(d);L?L.push(j):l.set(d,[j])})()}_componentWithCanonicalId(t){return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}_yield(){return S(function*(){return new Promise(t=>setImmediate(t))})()}}},5930:($,Z,u)=>{"use strict";const S=u(3053),x=u(4499),h=u(9985),g=u(9511);function J(r,n){return r.hash<n.hash?-1:r.hash>n.hash?1:0}$.exports=class{constructor({createMessageDigest:n=()=>new x("sha256"),canonicalIdMap:t=new Map,maxDeepIterations:i=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new S("_:c14n",t),this.createMessageDigest=n,this.maxDeepIterations=i,this.quads=null,this.deepIterations=null}main(n){this.deepIterations=new Map,this.quads=n;for(const l of n)this._addBlankNodeQuadInfo({quad:l,component:l.subject}),this._addBlankNodeQuadInfo({quad:l,component:l.object}),this._addBlankNodeQuadInfo({quad:l,component:l.graph});const t=new Map,i=[...this.blankNodeInfo.keys()];for(const l of i)this._hashAndTrackBlankNode({id:l,hashToBlankNodes:t});const y=[...t.keys()].sort(),N=[];for(const l of y){const a=t.get(l);a.length>1?N.push(a):this.canonicalIssuer.getId(a[0])}for(const l of N){const a=[];for(const j of l){if(this.canonicalIssuer.hasId(j))continue;const d=new S("_:b");d.getId(j);const L=this.hashNDegreeQuads(j,d);a.push(L)}a.sort(J);for(const j of a){const d=j.issuer.getOldIds();for(const L of d)this.canonicalIssuer.getId(L)}}const k=[];for(const l of this.quads){const a=g.serializeQuadComponents(this._componentWithCanonicalId({component:l.subject}),l.predicate,this._componentWithCanonicalId({component:l.object}),this._componentWithCanonicalId({component:l.graph}));k.push(a)}return k.sort(),k.join("")}hashFirstDegreeQuads(n){const t=[],i=this.blankNodeInfo.get(n),y=i.quads;for(const k of y){const l={subject:null,predicate:k.predicate,object:null,graph:null};l.subject=this.modifyFirstDegreeComponent(n,k.subject,"subject"),l.object=this.modifyFirstDegreeComponent(n,k.object,"object"),l.graph=this.modifyFirstDegreeComponent(n,k.graph,"graph"),t.push(g.serializeQuad(l))}t.sort();const N=this.createMessageDigest();for(const k of t)N.update(k);return i.hash=N.digest(),i.hash}hashRelatedBlankNode(n,t,i,y){let N;N=this.canonicalIssuer.hasId(n)?this.canonicalIssuer.getId(n):i.hasId(n)?i.getId(n):this.blankNodeInfo.get(n).hash;const k=this.createMessageDigest();return k.update(y),"g"!==y&&k.update(this.getRelatedPredicate(t)),k.update(N),k.digest()}hashNDegreeQuads(n,t){const i=this.deepIterations.get(n)||0;if(i>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(n,i+1);const y=this.createMessageDigest(),N=this.createHashToRelated(n,t),k=[...N.keys()].sort();for(const l of k){y.update(l);let j,a="";const d=new h(N.get(l));for(;d.hasNext();){const L=d.next();let E=t.clone(),Y="";const R=[];let e=!1;for(const o of L)if(this.canonicalIssuer.hasId(o)?Y+=this.canonicalIssuer.getId(o):(E.hasId(o)||R.push(o),Y+=E.getId(o)),0!==a.length&&Y>a){e=!0;break}if(!e){for(const o of R){const s=this.hashNDegreeQuads(o,E);if(Y+=E.getId(o),Y+=`<${s.hash}>`,E=s.issuer,0!==a.length&&Y>a){e=!0;break}}e||(0===a.length||Y<a)&&(a=Y,j=E)}}y.update(a),t=j}return{hash:y.digest(),issuer:t}}modifyFirstDegreeComponent(n,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===n?"_:a":"_:z"}}getRelatedPredicate(n){return`<${n.predicate.value}>`}createHashToRelated(n,t){const i=new Map,y=this.blankNodeInfo.get(n).quads;for(const N of y)this._addRelatedBlankNodeHash({quad:N,component:N.subject,position:"s",id:n,issuer:t,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:N,component:N.object,position:"o",id:n,issuer:t,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:N,component:N.graph,position:"g",id:n,issuer:t,hashToRelated:i});return i}_hashAndTrackBlankNode({id:n,hashToBlankNodes:t}){const i=this.hashFirstDegreeQuads(n),y=t.get(i);y?y.push(n):t.set(i,[n])}_addBlankNodeQuadInfo({quad:n,component:t}){if("BlankNode"!==t.termType)return;const i=t.value,y=this.blankNodeInfo.get(i);y?y.quads.add(n):this.blankNodeInfo.set(i,{quads:new Set([n]),hash:null})}_addRelatedBlankNodeHash({quad:n,component:t,position:i,id:y,issuer:N,hashToRelated:k}){if("BlankNode"!==t.termType||t.value===y)return;const l=t.value,a=this.hashRelatedBlankNode(l,n,N,i),j=k.get(a);j?j.push(l):k.set(a,[l])}_componentWithCanonicalId({component:n}){return"BlankNode"!==n.termType||n.value.startsWith(this.canonicalIssuer.prefix)?n:{termType:"BlankNode",value:this.canonicalIssuer.getId(n.value)}}}},393:($,Z,u)=>{"use strict";var S=u(4510).default;const x=u(4499),h=u(7189);$.exports=class extends h{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new x("sha1")}modifyFirstDegreeComponent(J,r,n){return"BlankNode"!==r.termType?r:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===J?"_:a":"_:z"}}getRelatedPredicate(J){return J.predicate.value}createHashToRelated(J,r){var n=this;return S(function*(){const t=new Map,i=n.blankNodeInfo.get(J).quads;let y=0;for(const N of i){let k,l;if("BlankNode"===N.subject.termType&&N.subject.value!==J)l=N.subject.value,k="p";else{if("BlankNode"!==N.object.termType||N.object.value===J)continue;l=N.object.value,k="r"}++y%100==0&&(yield n._yield());const a=yield n.hashRelatedBlankNode(l,N,r,k),j=t.get(a);j?j.push(l):t.set(a,[l])}return t})()}}},1382:($,Z,u)=>{"use strict";const S=u(4499),x=u(5930);$.exports=class extends x{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new S("sha1")}modifyFirstDegreeComponent(g,J,r){return"BlankNode"!==J.termType?J:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:J.value===g?"_:a":"_:z"}}getRelatedPredicate(g){return g.predicate.value}createHashToRelated(g,J){const r=new Map,n=this.blankNodeInfo.get(g).quads;for(const t of n){let i,y;if("BlankNode"===t.subject.termType&&t.subject.value!==g)y=t.subject.value,i="p";else{if("BlankNode"!==t.object.termType||t.object.value===g)continue;y=t.object.value,i="r"}const N=this.hashRelatedBlankNode(y,t,J,i),k=r.get(N);k?k.push(y):r.set(N,[y])}return r}}},4793:($,Z,u)=>{"use strict";var S=u(4510).default;const x=u(7189),h=u(393),g=u(5930),J=u(1382);let r;try{r=u(7789)}catch{}function n(t){return Array.isArray(t)?t:Z.NQuads.legacyDatasetToQuads(t)}Z.NQuads=u(9511),Z.IdentifierIssuer=u(3053),Z._rdfCanonizeNative=function(t){return t&&(r=t),r},Z.canonize=function(){var t=S(function*(i,y){const N=n(i);if(y.useNative){if(!r)throw new Error("rdf-canonize-native not available");if(y.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((k,l)=>r.canonize(N,y,(a,j)=>a?l(a):k(j)))}if("URDNA2015"===y.algorithm)return new x(y).main(N);if("URGNA2012"===y.algorithm){if(y.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new h(y).main(N)}throw"algorithm"in y?new Error("Invalid RDF Dataset Canonicalization algorithm: "+y.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")});return function(i,y){return t.apply(this,arguments)}}(),Z._canonizeSync=function(t,i){const y=n(t);if(i.useNative){if(!r)throw new Error("rdf-canonize-native not available");if(i.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return r.canonizeSync(y,i)}if("URDNA2015"===i.algorithm)return new g(i).main(y);if("URGNA2012"===i.algorithm){if(i.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new J(i).main(y)}throw"algorithm"in i?new Error("Invalid RDF Dataset Canonicalization algorithm: "+i.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}},1811:function(){!function($){"use strict";if(!$.setImmediate){var g,u=1,S={},x=!1,h=$.document,j=Object.getPrototypeOf&&Object.getPrototypeOf($);j=j&&j.setTimeout?j:$,"[object process]"==={}.toString.call($.process)?function i(){g=function(d){process.nextTick(function(){t(d)})}}():function y(){if($.postMessage&&!$.importScripts){var d=!0,L=$.onmessage;return $.onmessage=function(){d=!1},$.postMessage("","*"),$.onmessage=L,d}}()?function N(){var d="setImmediate$"+Math.random()+"$",L=function(E){E.source===$&&"string"==typeof E.data&&0===E.data.indexOf(d)&&t(+E.data.slice(d.length))};$.addEventListener?$.addEventListener("message",L,!1):$.attachEvent("onmessage",L),g=function(E){$.postMessage(d+E,"*")}}():$.MessageChannel?function k(){var d=new MessageChannel;d.port1.onmessage=function(L){t(L.data)},g=function(L){d.port2.postMessage(L)}}():h&&"onreadystatechange"in h.createElement("script")?function l(){var d=h.documentElement;g=function(L){var E=h.createElement("script");E.onreadystatechange=function(){t(L),E.onreadystatechange=null,d.removeChild(E),E=null},d.appendChild(E)}}():function a(){g=function(d){setTimeout(t,0,d)}}(),j.setImmediate=function J(d){"function"!=typeof d&&(d=new Function(""+d));for(var L=new Array(arguments.length-1),E=0;E<L.length;E++)L[E]=arguments[E+1];return S[u]={callback:d,args:L},g(u),u++},j.clearImmediate=r}function r(d){delete S[d]}function t(d){if(x)setTimeout(t,0,d);else{var L=S[d];if(L){x=!0;try{!function n(d){var L=d.callback,E=d.args;switch(E.length){case 0:L();break;case 1:L(E[0]);break;case 2:L(E[0],E[1]);break;case 3:L(E[0],E[1],E[2]);break;default:L.apply(undefined,E)}}(L)}finally{r(d),x=!1}}}}}(typeof self>"u"?typeof global>"u"?this:global:self)},7789:()=>{},4510:$=>{function Z(S,x,h,g,J,r,n){try{var t=S[r](n),i=t.value}catch(y){return void h(y)}t.done?x(i):Promise.resolve(i).then(g,J)}$.exports=function u(S){return function(){var x=this,h=arguments;return new Promise(function(g,J){var r=S.apply(x,h);function n(i){Z(r,g,J,n,t,"next",i)}function t(i){Z(r,g,J,n,t,"throw",i)}n(void 0)})}},$.exports.__esModule=!0,$.exports.default=$.exports}}]);"use strict";(self.webpackChunkwebcomponents=self.webpackChunkwebcomponents||[]).push([[645],{9645:($,G,p)=>{p.r(G),p.d(G,{buildOpenLayersTileGrid:()=>k});var y=p(3308),M=p(5534),a=p(9325);class W extends M.A{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}var z=p(206),L=p(4238);let m=null;function C(t){m=t;const e=Object.keys(t.defs),r=e.length;let o,f;for(o=0;o<r;++o){const n=e[o];if(!(0,a.Jt)(n)){const s=t.defs(n);let i=s.units;!i&&"longlat"===s.projName&&(i="degrees"),(0,a.bF)(new z.A({code:n,axisOrientation:s.axis,metersPerUnit:s.to_meter,units:i}))}}for(o=0;o<r;++o){const n=e[o],s=(0,a.Jt)(n);for(f=0;f<r;++f){const i=e[f],d=(0,a.Jt)(i);if(!(0,L.Jt)(n,i))if(t.defs[n]===t.defs[i])(0,a.O3)([s,d]);else{const l=t(n,i);(0,a.hB)(s,d,(0,a.wU)(s,d,l.forward),(0,a.wU)(d,s,l.inverse))}}}}let T=function(){var t=(0,y.A)(function*(e){const r=yield fetch(`https://epsg.io/${e}.proj4`);if(!r.ok)throw new Error(`Unexpected response from epsg.io: ${r.status}`);return r.text()});return function(r){return t.apply(this,arguments)}}();function S(){return(S=(0,y.A)(function*(t){"string"==typeof t&&(t=parseInt(t.split(":").pop(),10));const e=m;if(!e)throw new Error("Proj4 must be registered first with register(proj4)");const r="EPSG:"+t;return e.defs(r)||(e.defs(r,yield T(t)),C(e)),(0,a.Jt)(r)})).apply(this,arguments)}function k(t,e){return P.apply(this,arguments)}function P(){return P=(0,y.A)(function*(t,e){let r=(0,a.Jt)(t.crs);if(r||(r=yield function b(t){return S.apply(this,arguments)}(t.crs)),!r)throw new Error(`[ogc-client] could not create OpenLayers tile grid, the following projection is unknown: ${t.crs}`);return function v(t,e,r){const o=[],f=[],n=[],s=[],i=[];r=void 0!==r?r:[];const l="TileMatrix",u="Identifier",h="ScaleDenominator",j="TopLeftCorner",I=(0,a.Jt)(t.SupportedCRS),N=I.getMetersPerUnit(),U="ne"==I.getAxisOrientation().substr(0,2);return t[l].sort(function(c,g){return g[h]-c[h]}),t[l].forEach(function(c){let g;if(g=!(r.length>0)||r.find(function(x){return c[u]==x[l]||!c[u].includes(":")&&t[u]+":"+c[u]===x[l]}),g){f.push(c[u]);const x=28e-5*c[h]/N,w=c.TileWidth,E=c.TileHeight;n.push(U?[c[j][1],c[j][0]]:c[j]),o.push(x),s.push(w==E?w:[w,E]),i.push([c.MatrixWidth,c.MatrixHeight])}}),new W({extent:e,origins:n,resolutions:o,matrixIds:f,tileSizes:s,sizes:i})}({SupportedCRS:r,TileMatrix:t.tileMatrices.map(n=>({Identifier:n.identifier,ScaleDenominator:n.scaleDenominator,TopLeftCorner:n.topLeft,TileWidth:n.tileWidth,TileHeight:n.tileHeight,MatrixWidth:n.matrixWidth,MatrixHeight:n.matrixHeight}))},null,e.map(n=>({TileMatrix:n.tileMatrix})))}),P.apply(this,arguments)}C(p(176).A)}}]);(self.webpackChunkwebcomponents=self.webpackChunkwebcomponents||[]).push([[792],{6051:(Pe,Ue,B)=>{"use strict";let ee=null,me=!1,ye=1;const oe=Symbol("SIGNAL");function pe(n){const t=ee;return ee=n,t}const fe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function U(n){if(me)throw new Error("");if(null===ee)return;ee.consumerOnSignalRead(n);const t=ee.nextProducerIndex++;Be(ee),t<ee.producerNode.length&&ee.producerNode[t]!==n&&he(ee)&&Le(ee.producerNode[t],ee.producerIndexOfThis[t]),ee.producerNode[t]!==n&&(ee.producerNode[t]=n,ee.producerIndexOfThis[t]=he(ee)?le(n,ee,t):0),ee.producerLastReadVersion[t]=n.version}function J(n){if((!he(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==ye)){if(!n.producerMustRecompute(n)&&!F(n))return n.dirty=!1,void(n.lastCleanEpoch=ye);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ye}}function ge(n){if(void 0===n.liveConsumerNode)return;const t=me;me=!0;try{for(const e of n.liveConsumerNode)e.dirty||X(e)}finally{me=t}}function X(n){n.dirty=!0,ge(n),n.consumerMarkedDirty?.(n)}function Q(n){return n&&(n.nextProducerIndex=0),pe(n)}function G(n,t){if(pe(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(he(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Le(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function F(n){Be(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(J(e),r!==e.version))return!0}return!1}function ae(n){if(Be(n),he(n))for(let t=0;t<n.producerNode.length;t++)Le(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function le(n,t,e){if(we(n),0===n.liveConsumerNode.length&&Ne(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=le(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function Le(n,t){if(we(n),1===n.liveConsumerNode.length&&Ne(n))for(let r=0;r<n.producerNode.length;r++)Le(n.producerNode[r],n.producerIndexOfThis[r]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];Be(i),i.producerIndexOfThis[r]=t}}function he(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Be(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function we(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Ne(n){return void 0!==n.producerNode}let rt=function Ge(){throw new Error};function vt(n,t){(function R(){return!1!==ee?.consumerAllowSignalWrites})()||function et(){rt()}(),n.equal(n.value,t)||(n.value=t,function Kt(n){n.version++,function Ie(){ye++}(),ge(n)}(n))}const Ft={...fe,equal:function Z(n,t){return Object.is(n,t)},value:void 0};const dn=()=>{},xn={...fe,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{null!==n.schedule&&n.schedule(n.ref)},hasRun:!1,cleanupFn:dn};function Jt(n){return"function"==typeof n}function tn(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Me=tn(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function it(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class ut{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(Jt(r))try{r()}catch(s){t=s instanceof Me?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Jn(s)}catch(o){t=t??[],o instanceof Me?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Me(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Jn(t);else{if(t instanceof ut){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&it(e,t)}remove(t){const{_finalizers:e}=this;e&&it(e,t),t instanceof ut&&t._removeParent(this)}}ut.EMPTY=(()=>{const n=new ut;return n.closed=!0,n})();const Pt=ut.EMPTY;function Qt(n){return n instanceof ut||n&&"closed"in n&&Jt(n.remove)&&Jt(n.add)&&Jt(n.unsubscribe)}function Jn(n){Jt(n)?n():n.unsubscribe()}const or={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},In={setTimeout(n,t,...e){const{delegate:r}=In;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=In;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Sn(n){In.setTimeout(()=>{const{onUnhandledError:t}=or;if(!t)throw n;t(n)})}function er(){}const li=q("C",void 0,void 0);function q(n,t,e){return{kind:n,value:t,error:e}}let T=null;function V(n){if(or.useDeprecatedSynchronousErrorHandling){const t=!T;if(t&&(T={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=T;if(T=null,e)throw r}}else n()}class be extends ut{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Qt(t)&&t.add(this)):this.destination=mn}static create(t,e,r){return new We(t,e,r)}next(t){this.isStopped?nn(function fi(n){return q("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?nn(function Cr(n){return q("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?nn(li,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function Xe(n,t){return Oe.call(n,t)}class Ct{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){qe(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){qe(r)}else qe(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){qe(e)}}}class We extends be{constructor(t,e,r){let i;if(super(),Jt(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let s;this&&or.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Xe(t.next,s),error:t.error&&Xe(t.error,s),complete:t.complete&&Xe(t.complete,s)}):i=t}this.destination=new Ct(i)}}function qe(n){or.useDeprecatedSynchronousErrorHandling?function ze(n){or.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=n)}(n):Sn(n)}function nn(n,t){const{onStoppedNotification:e}=or;e&&In.setTimeout(()=>e(n,t))}const mn={closed:!0,next:er,error:function kt(n){throw n},complete:er},vn="function"==typeof Symbol&&Symbol.observable||"@@observable";function jr(n){return n}let kr=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const s=function Vs(n){return n&&n instanceof be||function Ln(n){return n&&Jt(n.next)&&Jt(n.error)&&Jt(n.complete)}(n)&&Qt(n)}(e)?e:new We(e,r,i);return V(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=nl(r))((i,s)=>{const o=new We({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[vn](){return this}pipe(...e){return function Di(n){return 0===n.length?jr:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}(e)(this)}toPromise(e){return new(e=nl(e))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=t=>new n(t),n})();function nl(n){var t;return null!==(t=n??or.Promise)&&void 0!==t?t:Promise}const Il=tn(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let yi=(()=>{class n extends kr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new da(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Il}next(e){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Pt:(this.currentObservers=null,s.push(e),new ut(()=>{this.currentObservers=null,it(s,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:s}=this;r?e.error(i):s&&e.complete()}asObservable(){const e=new kr;return e.source=this,e}}return n.create=(t,e)=>new da(t,e),n})();class da extends yi{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:Pt}}class ha extends yi{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Si(n){return t=>{if(function rl(n){return Jt(n?.lift)}(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,t,e,r,i){return new xe(n,t,e,r,i)}class xe extends be{constructor(t,e,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Te(n,t){return Si((e,r)=>{let i=0;e.subscribe(de(r,s=>{r.next(n.call(t,s,i++))}))})}class Mt extends Error{constructor(t,e){super(function cr(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}const cs=Symbol("InputSignalNode#UNSET"),Qr={...Ft,transformFn:void 0,applyValueToInputSignal(n,t){vt(n,t)}};function Co(n,t){const e=Object.create(Qr);function r(){if(U(e),e.value===cs)throw new Mt(-950,!1);return e.value}return e.value=n,e.transformFn=t?.transform,r[oe]=e,r}function ps(n){return{toString:n}.toString()}const qi="__parameters__";function Ms(n,t,e){return ps(()=>{const r=function ei(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(qi)?l[qi]:Object.defineProperty(l,qi,{value:[]})[qi];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}const An=globalThis;function Ci(n){for(let t in n)if(n[t]===Ci)return t;throw Error("Could not find renamed property on target object.")}function ks(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ks).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function _1(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const A1=Ci({__forward_ref__:Ci});function Eu(n){return n.__forward_ref__=Eu,n.toString=function(){return ks(this())},n}function Qn(n){return il(n)?n():n}function il(n){return"function"==typeof n&&n.hasOwnProperty(A1)&&n.__forward_ref__===Eu}function Vt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function fa(n){return{providers:n.providers||[],imports:n.imports||[]}}function Su(n){return t2(n,T1)||t2(n,vc)}function t2(n,t){return n.hasOwnProperty(t)?n[t]:null}function S1(n){return n&&(n.hasOwnProperty(z1)||n.hasOwnProperty(N0))?n[z1]:null}const T1=Ci({\u0275prov:Ci}),z1=Ci({\u0275inj:Ci}),vc=Ci({ngInjectableDef:Ci}),N0=Ci({ngInjectorDef:Ci});class Wt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Vt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Hd(n){return n&&!!n.\u0275providers}const Kl=Ci({\u0275cmp:Ci}),ql=Ci({\u0275dir:Ci}),Dd=Ci({\u0275pipe:Ci}),Tu=Ci({\u0275mod:Ci}),Ml=Ci({\u0275fac:Ci}),zu=Ci({__NG_ELEMENT_ID__:Ci}),n2=Ci({__NG_ENV_ID__:Ci});function ur(n){return"string"==typeof n?n:null==n?"":String(n)}function kd(n,t){throw new Mt(-201,!1)}var Ur=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ur||{});let V1;function r2(){return V1}function Jo(n){const t=V1;return V1=n,t}function s2(n,t,e){const r=Su(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Ur.Optional?null:void 0!==t?t:void kd()}const Ru={},Pd="__NG_DI_FLAG__",Lu="ngTempTokenPath",Z0=/\n/gm,o2="__source";let eu;function Jl(n){const t=eu;return eu=n,t}function X0(n,t=Ur.Default){if(void 0===eu)throw new Mt(-203,!1);return null===eu?s2(n,void 0,t):eu.get(n,t&Ur.Optional?null:void 0,t)}function $e(n,t=Ur.Default){return(r2()||X0)(Qn(n),t)}function gt(n,t=Ur.Default){return $e(n,wc(t))}function wc(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Aa(n){const t=[];for(let e=0;e<n.length;e++){const r=Qn(n[e]);if(Array.isArray(r)){if(0===r.length)throw new Mt(900,!1);let i,s=Ur.Default;for(let o=0;o<r.length;o++){const a=r[o],l=wt(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push($e(i,s))}else t.push($e(r))}return t}function yc(n,t){return n[Pd]=t,n.prototype[Pd]=t,n}function wt(n){return n[Pd]}const a2=yc(Ms("Optional"),8),fr=yc(Ms("SkipSelf"),4);function tu(n,t){return n.hasOwnProperty(Ml)?n[Ml]:null}function Ma(n,t){n.forEach(e=>Array.isArray(e)?Ma(e,t):t(e))}function nu(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function mt(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function en(n,t,e){let r=ru(n,t);return r>=0?n[1|r]=e:(r=~r,function Od(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function Gd(n,t){const e=ru(n,t);if(e>=0)return n[1|e]}function ru(n,t){return function l2(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<e];if(t===o)return s<<e;o>t?i=s:r=s+1}return~(i<<e)}(n,t,1)}const al={},ti=[],Pa=new Wt(""),B1=new Wt("",-1),Ws=new Wt("");class Ql{get(t,e=Ru){if(e===Ru){const r=new Error(`NullInjectorError: No provider for ${ks(t)}!`);throw r.name="NullInjectorError",r}return e}}var ec=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ec||{}),js=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(js||{}),Ea=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ea||{});function Cc(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}e=i+1}}function Ba(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const s=e[r++],o=e[r++],a=e[r++];n.setAttribute(t,o,a,s)}else{const s=i,o=e[++r];c2(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),r++}}return r}function Hu(n){return 3===n||4===n||6===n}function c2(n){return 64===n.charCodeAt(0)}function Du(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||N1(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function N1(n,t,e,r,i){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const Vu="ng-template";function q0(n,t,e,r){let i=0;if(r){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==Cc(t[i+1].toLowerCase(),e,0))return!0}else if(Na(n))return!1;if(i=t.indexOf(1,i),i>-1){let s;for(;++i<t.length&&"string"==typeof(s=t[i]);)if(s.toLowerCase()===e)return!0}return!1}function Na(n){return 4===n.type&&n.value!==Vu}function ku(n,t,e){return t===(4!==n.type||e?n.value:Vu)}function u2(n,t,e){let r=4;const i=n.attrs,s=null!==i?function ef(n){for(let t=0;t<n.length;t++)if(Hu(n[t]))return t;return n.length}(i):0;let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!ku(n,l,e)||""===l&&1===t.length){if(Sa(r))return!1;o=!0}}else if(8&r){if(null===i||!q0(n,i,l,e)){if(Sa(r))return!1;o=!0}}else{const c=t[++a],u=J0(l,i,Na(n),e);if(-1===u){if(Sa(r))return!1;o=!0;continue}if(""!==c){let d;if(d=u>s?"":i[u+1].toLowerCase(),2&r&&c!==d){if(Sa(r))return!1;o=!0}}}}else{if(!o&&!Sa(r)&&!Sa(l))return!1;if(o&&Sa(l))continue;o=!1,r=l|1&r}}return Sa(r)||o}function Sa(n){return!(1&n)}function J0(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let s=!1;for(;i<t.length;){const o=t[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function tf(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function d2(n,t,e=!1){for(let r=0;r<t.length;r++)if(u2(n,t[r],e))return!0;return!1}function nf(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function O1(n,t){return n?":not("+t.trim()+")":t}function rf(n){let t=n[0],e=1,r=2,i="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&r){const a=n[++e];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Sa(o)&&(t+=O1(s,i),i=""),r=o,s=s||!Sa(r);e++}return""!==i&&(t+=O1(s,i)),t}function bc(n){return ps(()=>{const t=Ho(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ec.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||js.Emulated,styles:n.styles||ti,_:null,schemas:n.schemas||null,tView:null,id:""};h2(e);const r=n.dependencies;return e.directiveDefs=G1(r,!1),e.pipeDefs=G1(r,!0),e.id=function p2(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of e)t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(e),e})}function ji(n){return Bn(n)||Fs(n)}function ns(n){return null!==n}function Ta(n){return ps(()=>({type:n.type,bootstrap:n.bootstrap||ti,declarations:n.declarations||ti,imports:n.imports||ti,exports:n.exports||ti,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function El(n,t){if(null==n)return al;const e={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];let s,o,a=Ea.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),t?(e[s]=a!==Ea.None?[r,a]:r,t[s]=o):e[s]=r}return e}function Lo(n){return ps(()=>{const t=Ho(n);return h2(t),t})}function oo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Bn(n){return n[Kl]||null}function Fs(n){return n[ql]||null}function ao(n){return n[Dd]||null}function Ho(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||al,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ti,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:El(n.inputs,t),outputs:El(n.outputs),debugInfo:null}}function h2(n){n.features?.forEach(t=>t(n))}function G1(n,t){if(!n)return null;const e=t?ao:ji;return()=>("function"==typeof n?n():n).map(r=>e(r)).filter(ns)}function xc(n){return{\u0275providers:n}}function pi(...n){return{\u0275providers:Fu(0,n),\u0275fromNgModule:!0}}function Fu(n,...t){const e=[],r=new Set;let i;const s=o=>{e.push(o)};return Ma(t,o=>{const a=o;P(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&x(i,s),e}function x(n,t){for(let e=0;e<n.length;e++){const{ngModule:r,providers:i}=n[e];Ae(i,s=>{t(s,r)})}}function P(n,t,e,r){if(!(n=Qn(n)))return!1;let i=null,s=S1(n);const o=!s&&Bn(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=S1(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)P(c,t,e,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Ma(s.imports,u=>{P(u,t,e,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&x(c,t)}if(!a){const c=tu(i)||(()=>new i);t({provide:i,useFactory:c,deps:ti},i),t({provide:Ws,useValue:i,multi:!0},i),t({provide:Pa,useValue:()=>$e(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=n;Ae(l,u=>{t(u,c)})}}}return i!==n&&void 0!==n.providers}function Ae(n,t){for(let e of n)Hd(e)&&(e=e.\u0275providers),Array.isArray(e)?Ae(e,t):t(e)}const Ve=Ci({provide:String,useValue:Ci});function Je(n){return null!==n&&"object"==typeof n&&Ve in n}function hn(n){return"function"==typeof n}const Sl=new Wt(""),ll={},j5={};let Vg;function g2(){return void 0===Vg&&(Vg=new Ql),Vg}class Oa{}class W1 extends Oa{get destroyed(){return this._destroyed}constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cf(t,o=>this.processProvider(o)),this.records.set(B1,j1(void 0,this)),i.has("environment")&&this.records.set(Oa,j1(void 0,this));const s=this.records.get(Sl);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ws,ti,Ur.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=pe(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Jl(this),r=Jo(void 0);try{return t()}finally{Jl(e),Jo(r)}}get(t,e=Ru,r=Ur.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(n2))return t[n2](this);r=wc(r);const s=Jl(this),o=Jo(void 0);try{if(!(r&Ur.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function Y5(n){return"function"==typeof n||"object"==typeof n&&n instanceof Wt}(t)&&Su(t);l=c&&this.injectableDefInScope(c)?j1(lf(t),ll):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&Ur.Self?g2():this.parent).get(t,e=r&Ur.Optional&&e===Ru?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Lu]=a[Lu]||[]).unshift(ks(t)),s)throw a;return function k1(n,t,e,r){const i=n[Lu];throw t[o2]&&i.unshift(t[o2]),n.message=function Rg(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=ks(t);if(Array.isArray(t))i=t.map(ks).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ks(a)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(Z0,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[Lu]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Jo(o),Jl(s)}}resolveInjectorInitializers(){const t=pe(null),e=Jl(this),r=Jo(void 0);try{const s=this.get(Pa,ti,Ur.Self);for(const o of s)o()}finally{Jl(e),Jo(r),pe(t)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(ks(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Mt(205,!1)}processProvider(t){let e=hn(t=Qn(t))?t:Qn(t&&t.provide);const r=function Z5(n){return Je(n)?j1(void 0,n.useValue):j1(kg(n),ll)}(t);if(!hn(t)&&!0===t.multi){let i=this.records.get(e);i||(i=j1(void 0,ll,!0),i.factory=()=>Aa(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){const r=pe(null);try{return e.value===ll&&(e.value=j5,e.value=e.factory()),"object"==typeof e.value&&e.value&&function X5(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{pe(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Qn(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function lf(n){const t=Su(n),e=null!==t?t.factory:tu(n);if(null!==e)return e;if(n instanceof Wt)throw new Mt(204,!1);if(n instanceof Function)return function U5(n){if(n.length>0)throw new Mt(204,!1);const e=function Rd(n){return n&&(n[T1]||n[vc])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Mt(204,!1)}function kg(n,t,e){let r;if(hn(n)){const i=Qn(n);return tu(i)||lf(i)}if(Je(n))r=()=>Qn(n.useValue);else if(function ke(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Aa(n.deps||[]));else if(function tt(n){return!(!n||!n.useExisting)}(n))r=()=>$e(Qn(n.useExisting));else{const i=Qn(n&&(n.useClass||n.provide));if(!function $5(n){return!!n.deps}(n))return tu(i)||lf(i);r=()=>new i(...Aa(n.deps))}return r}function j1(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function cf(n,t){for(const e of n)Array.isArray(e)?cf(e,t):e&&Hd(e)?cf(e.\u0275providers,t):t(e)}function uf(n,t){n instanceof W1&&n.assertNotDestroyed();const r=Jl(n),i=Jo(void 0);try{return t()}finally{Jl(r),Jo(i)}}function Fg(){return void 0!==r2()||null!=function $0(){return eu}()}function df(n){if(!Fg())throw new Mt(-203,!1)}const ms=0,qt=1,Un=2,Qs=3,cl=4,rs=5,Yt=6,ki=7,Mn=8,kn=9,zt=10,dt=11,Tr=12,gi=13,ea=14,vs=15,tc=16,Tl=17,_c=18,Z1=19,v2=20,ul=21,jd=22,Ga=23,Rn=25,ff=1,Wa=7,$1=9,Us=10;var y2=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(y2||{});function co(n){return Array.isArray(n)&&"object"==typeof n[ff]}function ta(n){return Array.isArray(n)&&!0===n[ff]}function pf(n){return!!(4&n.flags)}function Pu(n){return n.componentOffset>-1}function C2(n){return!(1&~n.flags)}function zl(n){return!!n.template}function Ud(n){return!!(512&n[Un])}class a4{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Wg(n,t,e,r){null!==t?t.applyValueToInputSignal(t,r):n[e]=r}function Zd(){return jg}function jg(n){return n.type.prototype.ngOnChanges&&(n.setInput=c4),l4}function l4(){const n=Zg(this),t=n?.current;if(t){const e=n.previous;if(e===al)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function c4(n,t,e,r,i){const s=this.declaredInputs[r],o=Zg(n)||function u4(n,t){return n[Ug]=t}(n,{previous:al,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new a4(c&&c.currentValue,e,l===al),Wg(n,t,i,e)}Zd.ngInherit=!0;const Ug="__ngSimpleChanges__";function Zg(n){return n[Ug]||null}const b=function(n,t,e){};function j(n){for(;Array.isArray(n);)n=n[ms];return n}function K(n,t){return j(t[n])}function Se(n,t){return j(t[n.index])}function yt(n,t){return n.data[t]}function ct(n,t){return n[t]}function Et(n,t){const e=t[n];return co(e)?e:e[ms]}function Nt(n){return!(128&~n[Un])}function Xt(n,t){return null==t?null:n[t]}function Nn(n){n[Tl]=0}function br(n){1024&n[Un]||(n[Un]|=1024,Nt(n)&&vi(n))}function mi(n){return!!(9216&n[Un]||n[Ga]?.dirty)}function Yr(n){n[zt].changeDetectionScheduler?.notify(8),64&n[Un]&&(n[Un]|=1024),mi(n)&&vi(n)}function vi(n){n[zt].changeDetectionScheduler?.notify(0);let t=xo(n);for(;null!==t&&!(8192&t[Un])&&(t[Un]|=8192,Nt(t));)t=xo(t)}function uo(n,t){if(!(256&~n[Un]))throw new Mt(911,!1);null===n[ul]&&(n[ul]=[]),n[ul].push(t)}function xo(n){const t=n[Qs];return ta(t)?t[Qs]:t}const $n={lFrame:$C(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let $g=!1;function FC(){return $n.bindingsEnabled}function $d(){return null!==$n.skipHydrationRootTNode}function Rt(){return $n.lFrame.lView}function Zr(){return $n.lFrame.tView}function Ic(n){return $n.lFrame.contextLView=n,n[Mn]}function Ac(n){return $n.lFrame.contextLView=null,n}function Ji(){let n=PC();for(;null!==n&&64===n.type;)n=n.parent;return n}function PC(){return $n.lFrame.currentTNode}function Mc(n,t){const e=$n.lFrame;e.currentTNode=n,e.isParent=t}function d4(){return $n.lFrame.isParent}function h4(){$n.lFrame.isParent=!1}function OC(){return $g}function GC(n){$g=n}function Ec(){return $n.lFrame.bindingIndex++}function Ou(n){const t=$n.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function TE(n,t){const e=$n.lFrame;e.bindingIndex=e.bindingRootIndex=n,f4(t)}function f4(n){$n.lFrame.currentDirectiveIndex=n}function g4(){return $n.lFrame.currentQueryIndex}function Xg(n){$n.lFrame.currentQueryIndex=n}function RE(n){const t=n[qt];return 2===t.type?t.declTNode:1===t.type?n[rs]:null}function UC(n,t,e){if(e&Ur.SkipSelf){let i=t,s=n;for(;!(i=i.parent,null!==i||e&Ur.Host||(i=RE(s),null===i||(s=s[ea],10&i.type))););if(null===i)return!1;t=i,n=s}const r=$n.lFrame=ZC();return r.currentTNode=t,r.lView=n,!0}function m4(n){const t=ZC(),e=n[qt];$n.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function ZC(){const n=$n.lFrame,t=null===n?null:n.child;return null===t?$C(n):t}function $C(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function XC(){const n=$n.lFrame;return $n.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const YC=XC;function v4(){const n=XC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ga(){return $n.lFrame.selectedIndex}function Xd(n){$n.lFrame.selectedIndex=n}function ys(){const n=$n.lFrame;return yt(n.tView,n.selectedIndex)}let qC=!0;function wf(){return qC}function iu(n){qC=n}function Yg(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function Kg(n,t,e){JC(n,t,3,e)}function qg(n,t,e,r){(3&n[Un])===e&&JC(n,t,e,r)}function w4(n,t){let e=n[Un];(3&e)===t&&(e&=16383,e+=1,n[Un]=e)}function JC(n,t,e,r){const s=r??-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&n[Tl]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(n[Tl]+=65536),(a<s||-1==s)&&(PE(n,e,t,l),n[Tl]=(4294901760&n[Tl])+l+2),l++}function QC(n,t){b(4,n,t);const e=pe(null);try{t.call(n)}finally{pe(e),b(5,n,t)}}function PE(n,t,e,r){const i=e[r]<0,s=e[r+1],a=n[i?-e[r]:e[r]];i?n[Un]>>14<n[Tl]>>16&&(3&n[Un])===t&&(n[Un]+=16384,QC(a,s)):QC(a,s)}const M2=-1;class yf{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}const C4={};class Yd{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=wc(r);const i=this.injector.get(t,C4,r);return i!==C4||e===C4?i:this.parentInjector.get(t,e,r)}}function b4(n){return n!==M2}function Cf(n){return 32767&n}function bf(n,t){let e=function WE(n){return n>>16}(n),r=t;for(;e>0;)r=r[ea],e--;return r}let x4=!0;function Jg(n){const t=x4;return x4=n,t}const t6=255,n6=5;let UE=0;const su={};function Qg(n,t){const e=r6(n,t);if(-1!==e)return e;const r=t[qt];r.firstCreatePass&&(n.injectorIndex=t.length,_4(r.data,n),_4(t,null),_4(r.blueprint,null));const i=em(n,t),s=n.injectorIndex;if(b4(i)){const o=Cf(i),a=bf(i,t),l=a[qt].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=i,s}function _4(n,t){n.push(0,0,0,0,0,0,0,0,t)}function r6(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function em(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=u6(i),null===r)return M2;if(e++,i=i[ea],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return M2}function I4(n,t,e){!function ZE(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(zu)&&(r=e[zu]),null==r&&(r=e[zu]=UE++);const i=r&t6;t.data[n+(i>>n6)]|=1<<i}(n,t,e)}function i6(n,t,e){if(e&Ur.Optional||void 0!==n)return n;kd()}function s6(n,t,e,r){if(e&Ur.Optional&&void 0===r&&(r=null),!(e&(Ur.Self|Ur.Host))){const i=n[kn],s=Jo(void 0);try{return i?i.get(t,r,e&Ur.Optional):s2(t,r,e&Ur.Optional)}finally{Jo(s)}}return i6(r,0,e)}function o6(n,t,e,r=Ur.Default,i){if(null!==n){if(2048&t[Un]&&!(r&Ur.Self)){const o=function qE(n,t,e,r,i){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[Un]&&!(512&o[Un]);){const a=a6(s,o,e,r|Ur.Self,su);if(a!==su)return a;let l=s.parent;if(!l){const c=o[v2];if(c){const u=c.get(e,su,r);if(u!==su)return u}l=u6(o),o=o[ea]}s=l}return i}(n,t,e,r,su);if(o!==su)return o}const s=a6(n,t,e,r,su);if(s!==su)return s}return s6(t,e,r,i)}function a6(n,t,e,r,i){const s=function YE(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(zu)?n[zu]:void 0;return"number"==typeof t?t>=0?t&t6:KE:t}(e);if("function"==typeof s){if(!UC(t,n,r))return r&Ur.Host?i6(i,0,r):s6(t,e,r,i);try{let o;if(o=s(r),null!=o||r&Ur.Optional)return o;kd()}finally{YC()}}else if("number"==typeof s){let o=null,a=r6(n,t),l=M2,c=r&Ur.Host?t[vs][rs]:null;for((-1===a||r&Ur.SkipSelf)&&(l=-1===a?em(n,t):t[a+8],l!==M2&&c6(r,!1)?(o=t[qt],a=Cf(l),t=bf(l,t)):a=-1);-1!==a;){const u=t[qt];if(l6(s,a,u.data)){const d=XE(a,t,e,o,r,c);if(d!==su)return d}l=t[a+8],l!==M2&&c6(r,t[qt].data[a+8]===c)&&l6(s,a,t)?(o=u,a=Cf(l),t=bf(l,t)):a=-1}}return i}function XE(n,t,e,r,i,s){const o=t[qt],a=o.data[n+8],u=tm(a,o,e,null==r?Pu(a)&&x4:r!=o&&!!(3&a.type),i&Ur.Host&&s===a);return null!==u?Kd(t,o,u,a):su}function tm(n,t,e,r,i){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const g=o[f];if(f<l&&e===g||f>=l&&g.type===e)return f}if(i){const f=o[l];if(f&&zl(f)&&f.type===e)return l}return null}function Kd(n,t,e,r){let i=n[e];const s=t.data;if(function BE(n){return n instanceof yf}(i)){const o=i;o.resolving&&function j0(n,t){throw t&&t.join(" > "),new Mt(-200,n)}(function Xr(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ur(n)}(s[e]));const a=Jg(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Jo(o.injectImpl):null;UC(n,r,Ur.Default);try{i=n[e]=o.factory(void 0,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&function FE(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=jg(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}i&&(e.preOrderHooks??=[]).push(0-n,i),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==c&&Jo(c),Jg(a),o.resolving=!1,YC()}}return i}function l6(n,t,e){return!!(e[t+(n>>n6)]&1<<n)}function c6(n,t){return!(n&Ur.Self||n&Ur.Host&&t)}class Do{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return o6(this._tNode,this._lView,t,wc(r),e)}}function KE(){return new Do(Ji(),Rt())}function xf(n){return ps(()=>{const t=n.prototype.constructor,e=t[Ml]||A4(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Ml]||A4(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function A4(n){return il(n)?()=>{const t=A4(Qn(n));return t&&t()}:tu(n)}function u6(n){const t=n[qt],e=t.type;return 2===e?t.declTNode:1===e?n[rs]:null}function Y1(n,t=null,e=null,r){const i=dl(n,t,e,r);return i.resolveInjectorInitializers(),i}function dl(n,t=null,e=null,r,i=new Set){const s=[e||ti,pi(n)];return r=r||("object"==typeof n?void 0:ks(n)),new W1(s,t||g2(),r||null,i)}class rr{static{this.THROW_IF_NOT_FOUND=Ru}static{this.NULL=new Ql}static create(t,e){if(Array.isArray(t))return Y1({name:""},e,t,"");{const r=t.name??"";return Y1({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=Vt({token:rr,providedIn:"any",factory:()=>$e(B1)})}static{this.__NG_ELEMENT_ID__=-1}}new Wt("").__NG_ELEMENT_ID__=n=>{const t=Ji();if(null===t)throw new Mt(204,!1);if(2&t.type)return t.value;if(n&Ur.Optional)return null;throw new Mt(204,!1)};function S4(n){return n.ngOriginalError}const m6=!0;let _f=(()=>{class n{static{this.__NG_ELEMENT_ID__=sS}static{this.__NG_ENV_ID__=e=>e}}return n})();class iS extends _f{constructor(t){super(),this._lView=t}onDestroy(t){return uo(this._lView,t),()=>function ws(n,t){if(null===n[ul])return;const e=n[ul].indexOf(t);-1!==e&&n[ul].splice(e,1)}(this._lView,t)}}function sS(){return new iS(Rt())}let K1=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ha(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Vt({token:n,providedIn:"root",factory:()=>new n})}}return n})();const Zs=class oS extends yi{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Fg()&&(this.destroyRef=gt(_f,{optional:!0})??void 0,this.pendingTasks=gt(K1,{optional:!0})??void 0)}emit(t){const e=pe(null);try{super.next(t)}finally{pe(e)}}subscribe(t,e,r){let i=t,s=e||(()=>null),o=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));const a=super.subscribe({next:i,error:s,complete:o});return t instanceof ut&&t.add(a),a}wrapInTimeout(t){return e=>{const r=this.pendingTasks?.add();setTimeout(()=>{t(e),void 0!==r&&this.pendingTasks?.remove(r)})}}};function im(...n){}function v6(n){let t,e;function r(){n=im;try{void 0!==e&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(e),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),"function"==typeof requestAnimationFrame&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function w6(n){return queueMicrotask(()=>n()),()=>{n=im}}const T4="isAngularZone",sm=T4+"_ID";let aS=0;class ci{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zs(!1),this.onMicrotaskEmpty=new Zs(!1),this.onStable=new Zs(!1),this.onError=new Zs(!1);const{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=m6}=t;if(typeof Zone>"u")throw new Mt(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,function uS(n){const t=()=>{!function cS(n){function t(){v6(()=>{n.callbackScheduled=!1,R4(n),n.isCheckStableRunning=!0,z4(n),n.isCheckStableRunning=!1})}n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),R4(n))}(n)},e=aS++;n._inner=n._inner.fork({name:"angular",properties:{[T4]:!0,[sm]:e,[sm+e]:!0},onInvokeTask:(r,i,s,o,a,l)=>{if(function dS(n){return b6(n,"__ignore_ng_zone__")}(l))return r.invokeTask(s,o,a,l);try{return y6(n),r.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),C6(n)}},onInvoke:(r,i,s,o,a,l,c)=>{try{return y6(n),r.invoke(s,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function hS(n){return b6(n,"__scheduler_tick__")}(l)&&t(),C6(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,R4(n),z4(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(T4)}static assertInAngularZone(){if(!ci.isInAngularZone())throw new Mt(909,!1)}static assertNotInAngularZone(){if(ci.isInAngularZone())throw new Mt(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,lS,im,im);try{return s.runTask(o,e,r)}finally{s.cancelTask(o)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const lS={};function z4(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function R4(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function y6(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function C6(n){n._nesting--,z4(n)}class L4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zs,this.onMicrotaskEmpty=new Zs,this.onStable=new Zs,this.onError=new Zs}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}function b6(n,t){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[t]}class ou{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&S4(t);for(;e&&S4(e);)e=S4(e);return e||null}}const pS=new Wt("",{providedIn:"root",factory:()=>{const n=gt(ci),t=gt(ou);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function _6(n,t){return Co(n,t)}const If=(_6.required=function gS(n){return Co(cs,n)},_6);function mS(){return T2(Ji(),Rt())}function T2(n,t){return new Rl(Se(n,t))}let Rl=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=mS}}return n})();function I6(n){return n instanceof Rl?n.nativeElement:n}function vS(){return this._results[Symbol.iterator]()}class H4{get changes(){return this._changes??=new Zs}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=H4.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=vS)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const r=function Qo(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Y0(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=t[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Mf(n){return!(128&~n.flags)}const V4=new Map;let yS=0;function k4(n){V4.delete(n[Z1])}const om="__ngContext__";function za(n,t){co(t)?(n[om]=t[Z1],function bS(n){V4.set(n[Z1],n)}(t)):n[om]=t}function D6(n){return k6(n[Tr])}function V6(n){return k6(n[cl])}function k6(n){for(;null!==n&&!ta(n);)n=n[cl];return n}let P4;const R2=new Wt("",{providedIn:"root",factory:()=>PS}),PS="ng",j6=new Wt(""),au=new Wt("",{providedIn:"platform",factory:()=>"unknown"}),BS=new Wt(""),U6=new Wt("",{providedIn:"root",factory:()=>function q1(){if(void 0!==P4)return P4;if(typeof document<"u")return document;throw new Mt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Z6=()=>null;function U4(n,t,e=!1){return Z6(n,t,e)}const e8=new Wt("",{providedIn:"root",factory:()=>!1});class o8{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function J1(n){return n instanceof o8?n.changingThisBreaksApplicationSecurity:n}function Vo(n){return"browser"===(n??gt(rr)).get(au)}var nh=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(nh||{});let m8;function v8(n,t){return m8(n,t)}function Pf(n,t,e,r,i){if(null!=r){let s,o=!1;ta(r)?s=r:co(r)&&(o=!0,r=r[ms]);const a=j(r);0===n&&null!==e?null==i?bT(t,e,a):k2(t,e,a,i||null,!0):1===n&&null!==e?k2(t,e,a,i||null,!0):2===n?function Cm(n,t,e){n.removeChild(null,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function jZ(n,t,e,r,i){const s=e[Wa];s!==j(e)&&Pf(t,n,r,s,i);for(let a=Us;a<e.length;a++){const l=e[a];o3(l[qt],l,n,t,r,s)}}(t,n,s,e,i)}}function n3(n,t,e){return n.createElement(t,e)}function wT(n,t){t[zt].changeDetectionScheduler?.notify(9),o3(n,t,t[dt],2,null,null)}function yT(n,t){const e=n[$1],r=t[Qs];(co(r)||t[vs]!==r[Qs][vs])&&(n[Un]|=y2.HasTransplantedViews),null===e?n[$1]=[t]:e.push(t)}function C8(n,t){const e=n[$1],r=e.indexOf(t);e.splice(r,1)}function ym(n,t){if(n.length<=Us)return;const e=Us+t,r=n[e];if(r){const i=r[tc];null!==i&&i!==n&&C8(i,r),t>0&&(n[e-1][cl]=r[cl]);const s=mt(n,Us+t);!function kZ(n,t){wT(n,t),t[ms]=null,t[rs]=null}(r[qt],r);const o=s[_c];null!==o&&o.detachView(s[qt]),r[Qs]=null,r[cl]=null,r[Un]&=-129}return r}function r3(n,t){if(!(256&t[Un])){const e=t[dt];e.destroyNode&&o3(n,t,e,3,null,null),function PZ(n){let t=n[Tr];if(!t)return b8(n[qt],n);for(;t;){let e=null;if(co(t))e=t[Tr];else{const r=t[Us];r&&(e=r)}if(!e){for(;t&&!t[cl]&&t!==n;)co(t)&&b8(t[qt],t),t=t[Qs];null===t&&(t=n),co(t)&&b8(t[qt],t),e=t&&t[cl]}t=e}}(t)}}function b8(n,t){if(256&t[Un])return;const e=pe(null);try{t[Un]&=-129,t[Un]|=256,t[Ga]&&ae(t[Ga]),function OZ(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof yf)){const s=e[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];b(4,a,l);try{l.call(a)}finally{b(5,a,l)}}else{b(4,i,s);try{s.call(i)}finally{b(5,i,s)}}}}}(n,t),function NZ(n,t){const e=n.cleanup,r=t[ki];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else e[s].call(r[e[s+1]]);null!==r&&(t[ki]=null);const i=t[ul];if(null!==i){t[ul]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,t),1===t[qt].type&&t[dt].destroy();const r=t[tc];if(null!==r&&ta(t[Qs])){r!==t[Qs]&&C8(r,t);const i=t[_c];null!==i&&i.detachView(n)}k4(t)}finally{pe(e)}}function x8(n,t,e){return function CT(n,t,e){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return e[ms];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===js.None||s===js.Emulated)return null}return Se(r,e)}}(n,t.parent,e)}function k2(n,t,e,r,i){n.insertBefore(t,e,r,i)}function bT(n,t,e){n.appendChild(t,e)}function xT(n,t,e,r,i){null!==r?k2(n,t,e,r,i):bT(n,t,e)}function _8(n,t){return n.parentNode(t)}function _T(n,t,e){return AT(n,t,e)}let I8,AT=function IT(n,t,e){return 40&n.type?Se(n,e):null};function s3(n,t,e,r){const i=x8(n,r,t),s=t[dt],a=_T(r.parent||t[rs],r,t);if(null!=i)if(Array.isArray(e))for(let l=0;l<e.length;l++)xT(s,i,e[l],a,!1);else xT(s,i,e,a,!1);void 0!==I8&&I8(s,r,t,e,i)}function F2(n,t){if(null!==t){const e=t.type;if(3&e)return Se(t,n);if(4&e)return A8(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return F2(n,r);{const i=n[t.index];return ta(i)?A8(-1,i):j(i)}}if(128&e)return F2(n,t.next);if(32&e)return v8(t,n)()||j(n[t.index]);{const r=ET(n,t);return null!==r?Array.isArray(r)?r[0]:F2(xo(n[vs]),r):F2(n,t.next)}}return null}function ET(n,t){return null!==t?n[vs][rs].projection[t.projection]:null}function A8(n,t){const e=Us+n+1;if(e<t.length){const r=t[e],i=r[qt].firstChild;if(null!==i)return F2(r,i)}return t[Wa]}function M8(n,t,e,r,i,s,o){for(;null!=e;){if(128===e.type){e=e.next;continue}const a=r[e.index],l=e.type;if(o&&0===t&&(a&&za(j(a),r),e.flags|=2),32&~e.flags)if(8&l)M8(n,t,e.child,r,i,s,!1),Pf(t,n,i,a,s);else if(32&l){const c=v8(e,r);let u;for(;u=c();)Pf(t,n,i,u,s);Pf(t,n,i,a,s)}else 16&l?TT(n,t,r,e,i,s):Pf(t,n,i,a,s);e=o?e.projectionNext:e.next}}function o3(n,t,e,r,i,s){M8(e,r,n.firstChild,t,i,s,!1)}function TT(n,t,e,r,i,s){const o=e[vs],l=o[rs].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Pf(t,n,i,l[c],s);else{let c=l;const u=o[Qs];Mf(r)&&(c.flags|=128),M8(n,t,c,u,i,s,!0)}}function zT(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function RT(n,t,e){const{mergedAttrs:r,classes:i,styles:s}=e;null!==r&&Ba(n,t,r),null!==i&&zT(n,t,i),null!==s&&function ZZ(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}const Ir={};function Ra(n=1){LT(Zr(),Rt(),ga()+n,!1)}function LT(n,t,e,r){if(!r)if(3&~t[Un]){const s=n.preOrderHooks;null!==s&&qg(t,s,0,e)}else{const s=n.preOrderCheckHooks;null!==s&&Kg(t,s,e)}Xd(e)}function Ar(n,t=Ur.Default){const e=Rt();return null===e?$e(n,t):o6(Ji(),e,Qn(n),t)}function HT(n,t,e,r,i,s){const o=pe(null);try{let a=null;i&Ea.SignalBased&&(a=t[r][oe]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&Ea.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(t,s)),null!==n.setInput?n.setInput(t,a,s,e,r):Wg(t,a,r,s)}finally{pe(o)}}function a3(n,t,e,r,i,s,o,a,l,c,u){const d=t.blueprint.slice();return d[ms]=i,d[Un]=204|r,(null!==c||n&&2048&n[Un])&&(d[Un]|=2048),Nn(d),d[Qs]=d[ea]=n,d[Mn]=e,d[zt]=o||n&&n[zt],d[dt]=a||n&&n[dt],d[kn]=l||n&&n[kn]||null,d[rs]=s,d[Z1]=function CS(){return yS++}(),d[Yt]=u,d[v2]=c,d[vs]=2==t.type?n[vs]:d,d}function P2(n,t,e,r,i){let s=n.data[t];if(null===s)s=function E8(n,t,e,r,i){const s=PC(),o=d4(),l=n.data[t]=function t$(n,t,e,r,i,s){let o=t?t.injectorIndex:-1,a=0;return $d()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,t,e,r,i),function SE(){return $n.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=r,s.attrs=i;const o=function vf(){const n=$n.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Mc(s,!0),s}function bm(n,t,e,r){if(0===e)return-1;const i=t.length;for(let s=0;s<e;s++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function DT(n,t,e,r,i){const s=ga(),o=2&r;try{Xd(-1),o&&t.length>Rn&&LT(n,t,Rn,!1),b(o?2:0,i),e(r,i)}finally{Xd(s),b(o?3:1,i)}}function S8(n,t,e){if(pf(t)){const r=pe(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{pe(r)}}}function T8(n,t,e){FC()&&(function l$(n,t,e,r){const i=e.directiveStart,s=e.directiveEnd;Pu(e)&&function g$(n,t,e){const r=Se(t,n),i=VT(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=l3(n,a3(n,i,null,o,r,t,null,n[zt].rendererFactory.createRenderer(r,e),null,null,null));n[t.index]=a}(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||Qg(e,t),za(r,t);const o=e.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=Kd(t,n,a,e);za(c,t),null!==o&&m$(0,a-i,c,l,0,o),zl(l)&&(Et(e.index,t)[Mn]=Kd(t,n,a,e))}}(n,t,e,Se(e,t)),!(64&~e.flags)&&NT(n,t,e))}function z8(n,t,e=Se){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?e(t,n):n[o];n[i++]=a}}}function VT(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=R8(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function R8(n,t,e,r,i,s,o,a,l,c,u){const d=Rn+r,h=d+i,f=function YZ(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:Ir);return e}(d,h),g="function"==typeof c?c():c;return f[qt]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}let kT=()=>null;function FT(n,t,e,r,i){for(let s in t){if(!t.hasOwnProperty(s))continue;const o=t[s];if(void 0===o)continue;r??={};let a,l=Ea.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(null!==i){if(!i.hasOwnProperty(s))continue;c=i[s]}0===n?PT(r,e,c,a,l):PT(r,e,c,a)}return r}function PT(n,t,e,r,i){let s;n.hasOwnProperty(e)?(s=n[e]).push(t,r):s=n[e]=[t,r],void 0!==i&&s.push(i)}function Vl(n,t,e,r,i,s,o,a){const l=Se(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[r])?(k8(n,e,u,r,i),Pu(t)&&function i$(n,t){const e=Et(t,n);16&e[Un]||(e[Un]|=64)}(e,t.index)):3&t.type&&(r=function r$(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,t.value||"",r):i,s.setProperty(l,r,i))}function L8(n,t,e,r){if(FC()){const i=null===r?null:{"":-1},s=function u$(n,t){const e=n.directiveRegistry;let r=null,i=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(d2(t,o.selectors,!1))if(r||(r=[]),zl(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),H8(n,t,a.length)}else r.unshift(o),H8(n,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&BT(n,t,e,o,i,a),i&&function d$(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const s=e[t[i+1]];if(null==s)throw new Mt(-301,!1);r.push(t[i],s)}}}(e,r,i)}e.mergedAttrs=Du(e.mergedAttrs,e.attrs)}function BT(n,t,e,r,i,s){for(let c=0;c<r.length;c++)I4(Qg(e,t),n,r[c].type);!function f$(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=bm(n,t,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];e.mergedAttrs=Du(e.mergedAttrs,u.hostAttrs),p$(n,e,t,l,u),h$(l,u,i),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function n$(n,t,e){const i=t.directiveEnd,s=n.data,o=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<i;u++){const d=s[u],h=e?e.get(d):null,g=h?h.outputs:null;l=FT(0,d.inputs,u,l,h?h.inputs:null),c=FT(1,d.outputs,u,c,g);const w=null===l||null===o||Na(t)?null:v$(l,u,o);a.push(w)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,s)}function NT(n,t,e){const r=e.directiveStart,i=e.directiveEnd,s=e.index,o=function zE(){return $n.lFrame.currentDirectiveIndex}();try{Xd(s);for(let a=r;a<i;a++){const l=n.data[a],c=t[a];f4(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&c$(l,c)}}finally{Xd(-1),f4(o)}}function c$(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function H8(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function h$(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;zl(t)&&(e[""]=n)}}function p$(n,t,e,r,i){n.data[r]=i;const s=i.factory||(i.factory=tu(i.type)),o=new yf(s,zl(i),Ar);n.blueprint[r]=o,e[r]=o,function o$(n,t,e,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function a$(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,r,s)}}(n,t,r,bm(n,e,i.hostVars,Ir),i)}function Yu(n,t,e,r,i,s){const o=Se(n,t);!function D8(n,t,e,r,i,s,o){if(null==s)n.removeAttribute(t,i,e);else{const a=null==o?ur(s):o(s,r||"",i);n.setAttribute(t,i,a,e)}}(t[dt],o,s,n.value,e,r,i)}function m$(n,t,e,r,i,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)HT(r,e,o[a++],o[a++],o[a++],o[a++])}function v$(n,t,e){let r=null,i=0;for(;i<e.length;){const s=e[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===t){r.push(s,o[a+1],o[a+2],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function OT(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function GT(n,t){const e=n.contentQueries;if(null!==e){const r=pe(null);try{for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const a=n.data[o];Xg(e[i]),a.contentQueries(2,t[o],o)}}}finally{pe(r)}}}function l3(n,t){return n[Tr]?n[gi][cl]=t:n[Tr]=t,n[gi]=t,t}function V8(n,t,e){Xg(0);const r=pe(null);try{t(n,e)}finally{pe(r)}}function WT(n){return n[ki]??=[]}function jT(n){return n.cleanup??=[]}function c3(n,t){const e=n[kn],r=e?e.get(ou,null):null;r&&r.handleError(t)}function k8(n,t,e,r,i){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=e[s++];HT(n.data[o],t[o],r,a,l,i)}}function w$(n,t){const e=Et(t,n),r=e[qt];!function y$(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(r,e);const i=e[ms];null!==i&&null===e[Yt]&&(e[Yt]=U4(i,e[kn])),F8(r,e,e[Mn])}function F8(n,t,e){m4(t);try{const r=n.viewQuery;null!==r&&V8(1,r,e);const i=n.template;null!==i&&DT(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[_c]?.finishViewCreation(n),n.staticContentQueries&&GT(n,t),n.staticViewQueries&&V8(2,n.viewQuery,e);const s=n.components;null!==s&&function C$(n,t){for(let e=0;e<t.length;e++)w$(n,t[e])}(t,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[Un]&=-5,v4()}}function Bf(n,t,e,r){const i=pe(null);try{const s=t.tView,l=a3(n,s,e,4096&n[Un]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[tc]=n[t.index];const u=n[_c];return null!==u&&(l[_c]=u.createEmbeddedView(s)),F8(s,l,e),l}finally{pe(i)}}function B2(n,t){return!t||null===t.firstChild||Mf(n)}function Nf(n,t,e,r=!0){const i=t[qt];if(function BZ(n,t,e,r){const i=Us+r,s=e.length;r>0&&(e[i-1][cl]=t),r<s-Us?(t[cl]=e[i],nu(e,Us+r,t)):(e.push(t),t[cl]=null),t[Qs]=e;const o=t[tc];null!==o&&e!==o&&yT(o,t);const a=t[_c];null!==a&&a.insertView(n),Yr(t),t[Un]|=128}(i,t,n,e),r){const o=A8(e,n),a=t[dt],l=_8(a,n[Wa]);null!==l&&function FZ(n,t,e,r,i,s){r[ms]=i,r[rs]=t,o3(n,r,e,1,i,s)}(i,n[rs],a,t,l,o)}const s=t[Yt];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function xm(n,t,e,r,i=!1){for(;null!==e;){if(128===e.type){e=i?e.projectionNext:e.next;continue}const s=t[e.index];null!==s&&r.push(j(s)),ta(s)&&$T(s,r);const o=e.type;if(8&o)xm(n,t,e.child,r);else if(32&o){const a=v8(e,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=ET(t,e);if(Array.isArray(a))r.push(...a);else{const l=xo(t[vs]);xm(l[qt],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function $T(n,t){for(let e=Us;e<n.length;e++){const r=n[e],i=r[qt].firstChild;null!==i&&xm(r[qt],r,i,t)}n[Wa]!==n[ms]&&t.push(n[Wa])}let XT=[];const I$={...fe,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{vi(n.lView)},consumerOnSignalRead(){this.lView[Ga]=this}},M$={...fe,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let t=xo(n.lView);for(;t&&!YT(t[qt]);)t=xo(t);t&&br(t)},consumerOnSignalRead(){this.lView[Ga]=this}};function YT(n){return 2!==n.type}const E$=100;function u3(n,t=!0,e=0){const r=n[zt],i=r.rendererFactory;i.begin?.();try{!function S$(n,t){const e=OC();try{GC(!0),B8(n,t);let r=0;for(;mi(n);){if(r===E$)throw new Mt(103,!1);r++,B8(n,1)}}finally{GC(e)}}(n,e)}catch(o){throw t&&c3(n,o),o}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function T$(n,t,e,r){const i=t[Un];if(!(256&~i))return;t[zt].inlineEffectRunner?.flush(),m4(t);let a=!0,l=null,c=null;YT(n)?(c=function b$(n){return n[Ga]??function x$(n){const t=XT.pop()??Object.create(I$);return t.lView=n,t}(n)}(t),l=Q(c)):null===function E(){return ee}()?(a=!1,c=function A$(n){const t=n[Ga]??Object.create(M$);return t.lView=n,t}(t),l=Q(c)):t[Ga]&&(ae(t[Ga]),t[Ga]=null);try{Nn(t),function WC(n){return $n.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&DT(n,t,e,2,r);const u=!(3&~i);if(u){const f=n.preOrderCheckHooks;null!==f&&Kg(t,f,null)}else{const f=n.preOrderHooks;null!==f&&qg(t,f,0,null),w4(t,0)}if(function z$(n){for(let t=D6(n);null!==t;t=V6(t)){if(!(t[Un]&y2.HasTransplantedViews))continue;const e=t[$1];for(let r=0;r<e.length;r++)br(e[r])}}(t),qT(t,0),null!==n.contentQueries&&GT(n,t),u){const f=n.contentCheckHooks;null!==f&&Kg(t,f)}else{const f=n.contentHooks;null!==f&&qg(t,f,1),w4(t,1)}!function XZ(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)Xd(~i);else{const s=i,o=e[++r],a=e[++r];TE(o,s),a(2,t[s])}}}finally{Xd(-1)}}(n,t);const d=n.components;null!==d&&QT(t,d,0);const h=n.viewQuery;if(null!==h&&V8(2,h,r),u){const f=n.viewCheckHooks;null!==f&&Kg(t,f)}else{const f=n.viewHooks;null!==f&&qg(t,f,2),w4(t,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[jd]){for(const f of t[jd])f();t[jd]=null}t[Un]&=-73}catch(u){throw vi(t),u}finally{null!==c&&(G(c,l),a&&function _$(n){n.lView[Ga]!==n&&(n.lView=null,XT.push(n))}(c)),v4()}}function qT(n,t){for(let e=D6(n);null!==e;e=V6(e))for(let r=Us;r<e.length;r++)JT(e[r],t)}function R$(n,t,e){JT(Et(t,n),e)}function JT(n,t){Nt(n)&&B8(n,t)}function B8(n,t){const r=n[qt],i=n[Un],s=n[Ga];let o=!!(0===t&&16&i);if(o||=!!(64&i&&0===t),o||=!!(1024&i),o||=!(!s?.dirty||!F(s)),o||=!1,s&&(s.dirty=!1),n[Un]&=-9217,o)T$(r,n,r.template,n[Mn]);else if(8192&i){qT(n,1);const a=r.components;null!==a&&QT(n,a,1)}}function QT(n,t,e){for(let r=0;r<t.length;r++)R$(n,t[r],e)}function _m(n,t){const e=OC()?64:1088;for(n[zt].changeDetectionScheduler?.notify(t);n;){n[Un]|=e;const r=xo(n);if(Ud(n)&&!r)return n;n=r}return null}class Im{get rootNodes(){const t=this._lView,e=t[qt];return xm(e,t,e.firstChild,[])}constructor(t,e,r=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mn]}set context(t){this._lView[Mn]=t}get destroyed(){return!(256&~this._lView[Un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Qs];if(ta(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(ym(t,r),mt(e,r))}this._attachedToViewContainer=!1}r3(this._lView[qt],this._lView)}onDestroy(t){uo(this._lView,t)}markForCheck(){_m(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Un]&=-129}reattach(){Yr(this._lView),this._lView[Un]|=128}detectChanges(){this._lView[Un]|=1024,u3(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Mt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Ud(this._lView),e=this._lView[tc];null!==e&&!t&&C8(e,this._lView),wT(this._lView[qt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Mt(902,!1);this._appRef=t;const e=Ud(this._lView),r=this._lView[tc];null!==r&&!e&&yT(r,this._lView),Yr(this._lView)}}let Ku=(()=>{class n{static{this.__NG_ELEMENT_ID__=D$}}return n})();const L$=Ku,H$=class extends L${constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){const i=Bf(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:r});return new Im(i)}};function D$(){return d3(Ji(),Rt())}function d3(n,t){return 4&n.type?new H$(t,n,T2(n,t)):null}let Cz=()=>null;function O2(n,t){return Cz(n,t)}class Gf{}const Lm=new Wt("",{providedIn:"root",factory:()=>!1}),bz=new Wt(""),K8=new Wt("");class MX{}class xz{}class SX{resolveComponentFactory(t){throw function EX(n){const t=Error(`No component factory found for ${ks(n)}.`);return t.ngComponent=n,t}(t)}}class Hm{static{this.NULL=new SX}}class q8{}let J8=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function TX(){const n=Rt(),e=Et(Ji().index,n);return(co(e)?e:n)[dt]}()}}return n})(),zX=(()=>{class n{static{this.\u0275prov=Vt({token:n,providedIn:"root",factory:()=>null})}}return n})();function w3(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=_1(i,a):2==s&&(r=_1(r,a+": "+t[++o]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}class Mz extends Hm{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Bn(t);return new km(e,this.ngModule)}}function Ez(n,t){const e=[];for(const r in n){if(!n.hasOwnProperty(r))continue;const i=n[r];if(void 0===i)continue;const s=Array.isArray(i),o=s?i[0]:i;e.push(t?{propName:o,templateName:r,isSignal:!!((s?i[1]:Ea.None)&Ea.SignalBased)}:{propName:o,templateName:r})}return e}class km extends xz{get inputs(){const t=this.componentDef,e=t.inputTransforms,r=Ez(t.inputs,!0);if(null!==e)for(const i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return Ez(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function sf(n){return n.map(rf).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,r,i){const s=pe(null);try{let o=(i=i||this.ngModule)instanceof Oa?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new Yd(t,o):t,l=a.get(q8,null);if(null===l)throw new Mt(407,!1);const d={rendererFactory:l,sanitizer:a.get(zX,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(Gf,null)},h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?function KZ(n,t,e,r){const s=r.get(e8,!1)||e===js.ShadowDom,o=n.selectRootElement(t,s);return function qZ(n){kT(n)}(o),o}(h,r,this.componentDef.encapsulation,a):n3(h,f,function HX(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f));let w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let C=null;null!==g&&(C=U4(g,a,!0));const I=R8(0,null,null,1,0,null,null,null,null,null,null),L=a3(null,I,null,w,null,null,d,h,a,null,C);m4(L);let ie,ne,se=null;try{const $=this.componentDef;let Y,ve=null;$.findHostDirectiveDefs?(Y=[],ve=new Map,$.findHostDirectiveDefs($,Y,ve),Y.push($)):Y=[$];const Re=function VX(n,t){const e=n[qt],r=Rn;return n[r]=t,P2(e,r,2,"#host",null)}(L,g);se=function kX(n,t,e,r,i,s,o){const a=i[qt];!function FX(n,t,e,r){for(const i of n)t.mergedAttrs=Du(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(w3(t,t.mergedAttrs,!0),null!==e&&RT(r,e,t))}(r,n,t,o);let l=null;null!==t&&(l=U4(t,i[kn]));const c=s.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const d=a3(i,VT(e),null,u,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&H8(a,n,r.length-1),l3(i,d),i[n.index]=d}(Re,g,$,Y,L,d,h),ne=yt(I,Rn),g&&function BX(n,t,e,r){if(r)Ba(n,e,["ng-version","18.2.13"]);else{const{attrs:i,classes:s}=function af(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&t.push(s,n[++r]):8===i&&e.push(s);else{if(!Sa(i))break;i=s}r++}return{attrs:t,classes:e}}(t.selectors[0]);i&&Ba(n,e,i),s&&s.length>0&&zT(n,e,s.join(" "))}}(h,$,g,r),void 0!==e&&function NX(n,t,e){const r=n.projection=[];for(let i=0;i<t.length;i++){const s=e[i];r.push(null!=s?Array.from(s):null)}}(ne,this.ngContentSelectors,e),ie=function PX(n,t,e,r,i,s){const o=Ji(),a=i[qt],l=Se(o,i);BT(a,i,o,e,null,r);for(let u=0;u<e.length;u++)za(Kd(i,a,o.directiveStart+u,o),i);NT(a,i,o),l&&za(l,i);const c=Kd(i,a,o.directiveStart+o.componentOffset,o);if(n[Mn]=i[Mn]=c,null!==s)for(const u of s)u(c,t);return S8(a,o,i),c}(se,$,Y,ve,L,[OX]),F8(I,L,null)}catch($){throw null!==se&&k4(se),k4(L),$}finally{v4()}return new DX(this.componentType,ie,T2(ne,L),L,ne)}finally{pe(s)}}}class DX extends MX{constructor(t,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Im(i,void 0,!1),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;k8(s[qt],s,i,t,e),this.previousInputValues.set(t,e),_m(Et(this._tNode.index,s),1)}}get injector(){return new Do(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function OX(){const n=Ji();Yg(Rt()[qt],n)}let cu=(()=>{class n{static{this.__NG_ELEMENT_ID__=GX}}return n})();function GX(){return zz(Ji(),Rt())}const WX=cu,Sz=class extends WX{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return T2(this._hostTNode,this._hostLView)}get injector(){return new Do(this._hostTNode,this._hostLView)}get parentInjector(){const t=em(this._hostTNode,this._hostLView);if(b4(t)){const e=bf(t,this._hostLView),r=Cf(t);return new Do(e[qt].data[r+8],e)}return new Do(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Tz(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Us}createEmbeddedView(t,e,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=O2(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},s,o);return this.insertImpl(a,i,B2(this._hostTNode,o)),a}createComponent(t,e,r,i,s){const o=t&&!function Wd(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const g=e||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=o?t:new km(Bn(t)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const w=(o?c:this.parentInjector).get(Oa,null);w&&(s=w)}const u=Bn(l.componentType??{}),d=O2(this._lContainer,u?.id??null),f=l.create(c,i,d?.firstChild??null,s);return this.insertImpl(f.hostView,a,B2(this._hostTNode,d)),f}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){const i=t._lView;if(function on(n){return ta(n[Qs])}(i)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=i[Qs],c=new Sz(l,l[rs],l[Qs]);c.detach(c.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;return Nf(o,i,s,r),t.attachToViewContainerRef(),nu(t7(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Tz(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=ym(this._lContainer,e);r&&(mt(t7(this._lContainer),e),r3(r[qt],r))}detach(t){const e=this._adjustIndex(t,-1),r=ym(this._lContainer,e);return r&&null!=mt(t7(this._lContainer),e)?new Im(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function Tz(n){return n[8]}function t7(n){return n[8]||(n[8]=[])}function zz(n,t){let e;const r=t[n.index];return ta(r)?e=r:(e=OT(r,t,null,n),t[n.index]=e,l3(t,e)),Rz(e,t,n,r),new Sz(e,n,t)}let Rz=function Hz(n,t,e,r){if(n[Wa])return;let i;i=8&e.type?j(r):function jX(n,t){const e=n[dt],r=e.createComment(""),i=Se(t,n);return k2(e,_8(e,i),r,function GZ(n,t){return n.nextSibling(t)}(e,i),!1),r}(t,e),n[Wa]=i},n7=()=>!1;class r7{constructor(t){this.queryList=t,this.matches=null}clone(){return new r7(this.queryList)}setDirty(){this.queryList.setDirty()}}class i7{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){const o=e.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new i7(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==c7(t,e).matches&&this.queries[e].setDirty()}}class Dz{constructor(t,e,r=null){this.flags=e,this.read=r,this.predicate="string"==typeof t?function JX(n){return n.split(",").map(t=>t.trim())}(t):t}}class s7{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==e?e.push(s):e=[s])}return null!==e?new s7(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class o7{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new o7(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,e,XX(e,s)),this.matchTNodeWithReadOption(t,e,tm(e,t,s,!1,!1))}else r===Ku?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,tm(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Rl||i===cu||i===Ku&&4&e.type)this.addMatch(e.index,-2);else{const s=tm(e,t,i,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function XX(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function KX(n,t,e,r){return-1===e?function YX(n,t){return 11&n.type?T2(n,t):4&n.type?d3(n,t):null}(t,n):-2===e?function qX(n,t,e){return e===Rl?T2(t,n):e===Ku?d3(t,n):e===cu?zz(t,n):void 0}(n,t,r):Kd(n,n[qt],e,t)}function Vz(n,t,e,r){const i=t[_c].queries[r];if(null===i.matches){const s=n.data,o=e.matches,a=[];for(let l=0;null!==o&&l<o.length;l+=2){const c=o[l];a.push(c<0?null:KX(t,s[c],o[l+1],e.metadata.read))}i.matches=a}return i.matches}function a7(n,t,e,r){const i=n.queries.getByIndex(e),s=i.matches;if(null!==s){const o=Vz(n,t,i,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=Us;d<u.length;d++){const h=u[d];h[tc]===h[Qs]&&a7(h[qt],h,c,r)}if(null!==u[$1]){const d=u[$1];for(let h=0;h<d.length;h++){const f=d[h];a7(f[qt],f,c,r)}}}}}return r}function Fz(n,t,e){const r=Zr();return r.firstCreatePass&&(function Bz(n,t,e){null===n.queries&&(n.queries=new s7),n.queries.track(new o7(t,e))}(r,new Dz(n,t,e),-1),!(2&~t)&&(r.staticViewQueries=!0)),function kz(n,t,e){const r=new H4(!(4&~e));return function e$(n,t,e,r){const i=WT(t);i.push(e),n.firstCreatePass&&jT(n).push(r,i.length-1)}(n,t,r,r.destroy),(t[_c]??=new i7).queries.push(new r7(r))-1}(r,Rt(),t)}function c7(n,t){return n.queries.getByIndex(t)}function Nz(n,t){const e=n[qt],r=c7(e,t);return r.crossesNgTemplate?a7(e,n,t,[]):Vz(e,n,r,t)}const Oz=new Set;function fl(n){Oz.has(n)||(Oz.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function aR(n){const t=n.inputConfig,e={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}n.inputTransforms=e}class W2{}class CY{}class h7 extends W2{constructor(t,e,r,i=!0){super(),this.ngModuleType=t,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mz(this);const s=function bo(n,t){const e=n[Tu]||null;if(!e&&!0===t)throw new Error(`Type ${ks(n)} does not have '\u0275mod' property.`);return e}(t);this._bootstrapComponents=function _o(n){return n instanceof Function?n():n}(s.bootstrap),this._r3Injector=dl(t,e,[{provide:W2,useValue:this},{provide:Hm,useValue:this.componentFactoryResolver},...r],ks(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class f7 extends CY{constructor(t){super(),this.moduleType=t}create(t){return new h7(this.moduleType,t,[])}}class lR extends W2{constructor(t){super(),this.componentFactoryResolver=new Mz(this),this.instance=null;const e=new W1([...t.providers,{provide:W2,useValue:this},{provide:Hm,useValue:this.componentFactoryResolver}],t.parent||g2(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function b3(n){return!!function p7(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Io(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Bm(n,t,e,r,i,s,o,a,l,c){const u=e+Rn,d=t.firstCreatePass?function EY(n,t,e,r,i,s,o,a,l){const c=t.consts,u=P2(t,n,4,o||null,a||null);L8(t,e,u,Xt(c,l)),Yg(t,u);const d=u.tView=R8(2,u,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,t,n,r,i,s,o,a,l):t.data[u];Mc(d,!1);const h=uR(t,n,d,e);wf()&&s3(t,n,h,d),za(h,n);const f=OT(h,n,h,d);return n[u]=f,l3(n,f),function Lz(n,t,e){return n7(n,t,e)}(f,d,n),C2(d)&&T8(t,n,d),null!=l&&z8(n,d,c),d}function U2(n,t,e,r,i,s,o,a){const l=Rt(),c=Zr();return Bm(l,c,n,t,e,r,i,Xt(c.consts,s),o,a),U2}let uR=function dR(n,t,e,r){return iu(!0),t[dt].createComment("")};var Zf=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Zf||{});let vR=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Vt({token:n,providedIn:"root",factory:()=>new n})}}return n})();class Gm{constructor(){this.ngZone=gt(ci),this.scheduler=gt(Gf),this.errorHandler=gt(ou,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Zf.EarlyRead,Zf.Write,Zf.MixedReadWrite,Zf.Read]}execute(){this.executing=!0;for(const t of Gm.PHASES)for(const e of this.sequences)if(!e.erroredOrDestroyed&&e.hooks[t])try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[t](e.pipelinedValue))}catch(r){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=Vt({token:Gm,providedIn:"root",factory:()=>new Gm})}}class RY{constructor(t,e,r,i){this.impl=t,this.hooks=e,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function yR(n,t,e,r){const i=t.get(vR);i.impl??=t.get(Gm);const s=e?.phase??Zf.MixedReadWrite,o=!0!==e?.manualCleanup?t.get(_f):null,a=new RY(i.impl,function LY(n,t){if(n instanceof Function){const e=[void 0,void 0,void 0,void 0];return e[t]=n,e}return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}(n,s),r,o);return i.impl.register(a),a}const CR={destroy(){}};function Jf(n,t,e,r){const i=Rt();return Io(i,Ec(),t)&&(Zr(),Yu(ys(),i,n,t,e,r)),Jf}function ep(n,t,e,r){return Io(n,Ec(),e)?t+ur(e)+r:Ir}function T3(n,t){return n<<17|t<<2}function sh(n){return n>>17&32767}function A7(n){return 2|n}function $2(n){return(131068&n)>>2}function M7(n,t){return-131069&n|t<<2}function E7(n){return 1|n}function ZR(n,t,e,r){const i=n[e+1],s=null===t;let o=r?sh(i):$2(i),a=!1;for(;0!==o&&(!1===a||s);){const c=n[o+1];pK(n[o],t)&&(a=!0,n[o+1]=r?E7(c):A7(c)),o=r?sh(c):$2(c)}a&&(n[e+1]=r?A7(i):E7(i))}function pK(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ru(n,t)>=0}const ia={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $R(n){return n.substring(ia.key,ia.keyEnd)}function XR(n,t){const e=ia.textEnd;return e===t?-1:(t=ia.keyEnd=function wK(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,ia.key=t,e),lp(n,t,e))}function lp(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Ua(n,t,e){const r=Rt();return Io(r,Ec(),t)&&Vl(Zr(),ys(),r,n,t,r[dt],e,!1),Ua}function S7(n,t,e,r,i){const o=i?"class":"style";k8(n,e,t.inputs[o],o,r)}function jm(n,t,e){return function uu(n,t,e,r){const i=Rt(),s=Zr(),o=Ou(2);s.firstUpdatePass&&nL(s,n,o,r),t!==Ir&&Io(i,o,t)&&iL(s,s.data[ga()],i,i[dt],n,i[o+1]=function TK(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=ks(J1(n)))),n}(t,e),r,o)}(n,t,e,!1),jm}function eL(n){!function du(n,t,e,r){const i=Zr(),s=Ou(2);i.firstUpdatePass&&nL(i,null,s,r);const o=Rt();if(e!==Ir&&Io(o,s,e)){const a=i.data[ga()];if(oL(a,r)&&!tL(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=_1(l,e||"")),S7(i,a,o,e,r)}else!function SK(n,t,e,r,i,s,o,a){i===Ir&&(i=ti);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let w,g=null;u===d?(l+=2,c+=2,h!==f&&(g=d,w=f)):null===d||null!==u&&u<d?(l+=2,g=u):(c+=2,g=d,w=f),null!==g&&iL(n,t,e,r,g,w,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}(i,a,o,o[dt],o[s+1],o[s+1]=function MK(n,t,e){if(null==e||""===e)return ti;const r=[],i=J1(e);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(n,t,e),r,s)}}(EK,Qu,n,!0)}function Qu(n,t){for(let e=function mK(n){return function KR(n){ia.key=0,ia.keyEnd=0,ia.value=0,ia.valueEnd=0,ia.textEnd=n.length}(n),XR(n,lp(n,0,ia.textEnd))}(t);e>=0;e=XR(t,e))en(n,$R(t),!0)}function tL(n,t){return t>=n.expandoStartIndex}function nL(n,t,e,r){const i=n.data;if(null===i[e+1]){const s=i[ga()],o=tL(n,e);oL(s,r)&&null===t&&!o&&(t=!1),t=function xK(n,t,e,r){const i=function p4(n){const t=$n.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=Um(e=T7(null,n,t,e,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==i)if(e=T7(i,n,t,e,r),null===s){let l=function _K(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==$2(r))return n[sh(r)]}(n,t,r);void 0!==l&&Array.isArray(l)&&(l=T7(null,n,t,l[1],r),l=Um(l,t.attrs,r),function IK(n,t,e,r){n[sh(e?t.classBindings:t.styleBindings)]=r}(n,t,r,l))}else s=function AK(n,t,e){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Um(r,n[s].hostAttrs,e);return Um(r,t.attrs,e)}(n,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),e}(i,s,t,r),function hK(n,t,e,r,i,s){let o=s?t.classBindings:t.styleBindings,a=sh(o),l=$2(o);n[r]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||ru(e,u)>0)&&(c=!0)):u=e,i)if(0!==l){const h=sh(n[a+1]);n[r+1]=T3(h,a),0!==h&&(n[h+1]=M7(n[h+1],r)),n[a+1]=function uK(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=T3(a,0),0!==a&&(n[a+1]=M7(n[a+1],r)),a=r;else n[r+1]=T3(l,0),0===a?a=r:n[l+1]=M7(n[l+1],r),l=r;c&&(n[r+1]=A7(n[r+1])),ZR(n,u,r,!0),ZR(n,u,r,!1),function fK(n,t,e,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&ru(s,t)>=0&&(e[r+1]=E7(e[r+1]))}(t,u,n,r,s),o=T3(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,e,o,r)}}function T7(n,t,e,r,i){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],r=Um(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function Um(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),en(n,o,!!e||t[++s]))}return void 0===n?null:n}function EK(n,t,e){const r=String(t);""!==r&&!r.includes(" ")&&en(n,r,e)}function iL(n,t,e,r,i,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function dK(n){return!(1&~n)}(c)?sL(l,t,e,i,$2(c),o):void 0;z3(u)||(z3(s)||function cK(n){return!(2&~n)}(c)&&(s=sL(l,null,e,i,a,o)),function UZ(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let s=-1===r.indexOf("-")?void 0:nh.DashCase;null==i?n.removeStyle(e,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=nh.Important),n.setStyle(e,r,i,s))}}(r,o,K(ga(),e),i,s))}function sL(n,t,e,r,i,s){const o=null===t;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[i+1];h===Ir&&(h=d?ti:void 0);let f=d?Gd(h,r):u===r?h:void 0;if(c&&!z3(f)&&(f=Gd(l,r)),z3(f)&&(a=f,o))return a;const g=n[i+1];i=o?sh(g):$2(g)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=Gd(l,r))}return a}function z3(n){return void 0!==n}function oL(n,t){return!!(n.flags&(t?8:16))}function sa(n,t,e,r){const i=Rt(),s=Zr(),o=Rn+n,a=i[dt],l=s.firstCreatePass?function JK(n,t,e,r,i,s){const o=t.consts,l=P2(t,n,2,r,Xt(o,i));return L8(t,e,l,Xt(o,s)),null!==l.attrs&&w3(l,l.attrs,!1),null!==l.mergedAttrs&&w3(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,t,e,r):s.data[o],c=uL(s,i,l,a,t,n);i[o]=c;const u=C2(l);return Mc(l,!0),RT(a,c,l),!function jf(n){return!(32&~n.flags)}(l)&&wf()&&s3(s,i,c,l),0===function CE(){return $n.lFrame.elementDepthCount}()&&za(c,i),function bE(){$n.lFrame.elementDepthCount++}(),u&&(T8(s,i,l),S8(s,l,i)),null!==r&&z8(i,l),sa}function va(){let n=Ji();d4()?h4():(n=n.parent,Mc(n,!1));const t=n;(function _E(n){return $n.skipHydrationRootTNode===n})(t)&&function EE(){$n.skipHydrationRootTNode=null}(),function xE(){$n.lFrame.elementDepthCount--}();const e=Zr();return e.firstCreatePass&&(Yg(e,n),pf(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function OE(n){return!!(8&n.flags)}(t)&&S7(e,t,Rt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function GE(n){return!!(16&n.flags)}(t)&&S7(e,t,Rt(),t.stylesWithoutHost,!1),va}function Zm(n,t,e,r){return sa(n,t,e,r),va(),Zm}let uL=(n,t,e,r,i,s)=>(iu(!0),n3(r,i,function KC(){return $n.lFrame.currentNamespace}()));function cp(){return Rt()}const L3="en-US";let vL=L3,VL=(n,t,e)=>{};function hu(n,t,e,r){const i=Rt(),s=Zr(),o=Ji();return function F7(n,t,e,r,i,s,o){const a=C2(r),c=n.firstCreatePass&&jT(n),u=t[Mn],d=WT(t);let h=!0;if(3&r.type||o){const w=Se(r,t),C=o?o(w):w,I=d.length,L=o?ne=>o(j(ne[r.index])):r.index;let ie=null;if(!o&&a&&(ie=function Xq(n,t,e,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===e&&i[s+1]===r){const a=t[ki],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,i,r.index)),null!==ie)(ie.__ngLastListenerFn__||ie).__ngNextListenerFn__=s,ie.__ngLastListenerFn__=s,h=!1;else{s=BL(r,t,u,s),VL(w,i,s);const ne=e.listen(C,i,s);d.push(s,ne),c&&c.push(i,L,I,I+1)}}else s=BL(r,t,u,s);const f=r.outputs;let g;if(h&&null!==f&&(g=f[i])){const w=g.length;if(w)for(let C=0;C<w;C+=2){const se=t[g[C]][g[C+1]].subscribe(s),$=d.length;d.push(s,se),c&&c.push(i,r.index,$,-($+1))}}}(s,i,i[dt],o,n,t,r),hu}function PL(n,t,e,r){const i=pe(null);try{return b(6,t,e),!1!==e(r)}catch(s){return c3(n,s),!1}finally{b(7,t,e),pe(i)}}function BL(n,t,e,r){return function i(s){if(s===Function)return r;_m(n.componentOffset>-1?Et(n.index,t):t,5);let a=PL(t,e,r,s),l=i.__ngNextListenerFn__;for(;l;)a=PL(t,e,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function e1(n=1){return function LE(n){return($n.lFrame.contextLView=function Pr(n,t){for(;n>0;)t=t[ea],n--;return t}(n,$n.lFrame.contextLView))[Mn]}(n)}function Yq(n,t){let e=null;const r=function Q0(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?d2(n,s,!0):nf(r,s))return i}else e=i}return e}function k3(n,t,e,r,i){const s=Rt(),o=ep(s,t,e,r);return o!==Ir&&Vl(Zr(),ys(),s,n,o,s[dt],i,!1),k3}function F3(n,t,e){Fz(n,t,e)}function P3(n){const t=Rt(),e=Zr(),r=g4();Xg(r+1);const i=c7(e,r);if(n.dirty&&function Ot(n){return!(4&~n[Un])}(t)===!(2&~i.metadata.flags)){if(null===i.matches)n.reset([]);else{const s=Nz(t,r);n.reset(s,I6),n.notifyOnChanges()}return!0}return!1}function B3(){return function l7(n,t){return n[_c].queries[t].queryList}(Rt(),g4())}function qL(n){return ct(function BC(){return $n.lFrame.contextLView}(),Rn+n)}function dp(n,t=""){const e=Rt(),r=Zr(),i=n+Rn,s=r.firstCreatePass?P2(r,i,1,t,null):r.data[i],o=aH(r,e,s,t,n);e[i]=o,wf()&&s3(r,e,o,s),Mc(s,!1)}let aH=(n,t,e,r,i)=>(iu(!0),function w8(n,t){return n.createText(t)}(t[dt],r));function oh(n,t,e){const r=Rt(),i=ep(r,n,t,e);return i!==Ir&&function Q1(n,t,e){const r=K(t,n);!function vT(n,t,e){n.setValue(t,e)}(n[dt],r,e)}(r,ga(),i),oh}function B7(n,t,e,r,i){if(n=Qn(n),Array.isArray(n))for(let s=0;s<n.length;s++)B7(n[s],t,e,r,i);else{const s=Zr(),o=Rt(),a=Ji();let l=hn(n)?n:Qn(n.provide);const c=kg(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(hn(n)||!n.multi){const f=new yf(c,i,Ar),g=O7(l,t,i?u:u+h,d);-1===g?(I4(Qg(a,o),s,l),N7(s,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(f),o.push(f)):(e[g]=f,o[g]=f)}else{const f=O7(l,t,u+h,d),g=O7(l,t,u,u+h),C=g>=0&&e[g];if(i&&!C||!i&&!(f>=0&&e[f])){I4(Qg(a,o),s,l);const I=function wJ(n,t,e,r,i){const s=new yf(n,e,Ar);return s.multi=[],s.index=t,s.componentProviders=0,bH(s,i,r&&!e),s}(i?vJ:mJ,e.length,i,r,c);!i&&C&&(e[g].providerFactory=I),N7(s,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(I),o.push(I)}else N7(s,n,f>-1?f:g,bH(e[i?g:f],c,!i&&r));!i&&r&&C&&e[g].componentProviders++}}}function N7(n,t,e,r){const i=hn(t),s=function Ti(n){return!!n.useClass}(t);if(i||s){const l=(s?Qn(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function bH(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function O7(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function mJ(n,t,e,r){return G7(this.multi,[])}function vJ(n,t,e,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Kd(e,e[qt],this.providerFactory.index,r);s=a.slice(0,o),G7(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],G7(i,s);return s}function G7(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function W7(n,t=[]){return e=>{e.providersResolver=(r,i)=>function gJ(n,t,e){const r=Zr();if(r.firstCreatePass){const i=zl(n);B7(e,r.data,r.blueprint,i,!0),B7(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}let yJ=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const r=Fu(0,e.type),i=r.length>0?function cR(n,t,e=null){return new lR({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Vt({token:n,providedIn:"environment",factory:()=>new n($e(Oa))})}}return n})();function Y2(n){fl("NgStandalone"),n.getStandaloneInjector=t=>t.get(yJ).getOrCreateStandaloneInjector(n)}function IH(n,t,e,r,i,s){const o=t+e;return Io(n,o,i)?function qu(n,t,e){return n[t]=e}(n,o+1,s?r.call(s,i):r(i)):function Jm(n,t){const e=n[t];return e===Ir?void 0:e}(n,o+1)}function K2(n,t){const e=Zr();let r;const i=n+Rn;e.firstCreatePass?(r=function HJ(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];const s=r.factory||(r.factory=tu(r.type)),a=Jo(Ar);try{const l=Jg(!1),c=s();return Jg(l),function P7(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,Rt(),i,c),c}finally{Jo(a)}}function q2(n,t,e){const r=n+Rn,i=Rt(),s=ct(i,r);return function Qm(n,t){return n[qt].data[t].pure}(i,r)?IH(i,function ja(){const n=$n.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}(),t,s.transform,e,s):s.transform(e)}const XH=new Wt(""),j3=new Wt("");let J7,K7=(()=>{class n{constructor(e,r,i){this._ngZone=e,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,J7||(function LQ(n){J7=n}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ci.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e()},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)($e(ci),$e(q7),$e(j3))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})(),q7=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return J7?.findTestabilityInTree(this,e,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function Q7(n){return!!n&&"function"==typeof n.then}function YH(n){return!!n&&"function"==typeof n.subscribe}const KH=new Wt("");let qH=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=gt(KH,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const s=i();if(Q7(s))e.push(s);else if(YH(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const eb=new Wt("");function QH(n,t){return Array.isArray(t)?t.reduce(QH,n):{...n,...t}}let t1=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=gt(pS),this.afterRenderManager=gt(vR),this.zonelessEnabled=gt(Lm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new yi,this.afterTick=new yi,this.componentTypes=[],this.components=[],this.isStable=gt(K1).hasPendingTasks.pipe(Te(e=>!e)),this._injector=gt(Oa)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof xz;if(!this._injector.get(qH).done)throw!i&&function pa(n){const t=Bn(n)||Fs(n)||ao(n);return null!==t&&t.standalone}(e),new Mt(405,!1);let o;o=i?e:this._injector.get(Hm).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function HQ(n){return n.isBoundToModule}(o)?void 0:this._injector.get(W2),c=o.create(rr.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(XH,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),U3(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Mt(101,!1);const e=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,pe(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(q8,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)kQ(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else e?.begin?.(),e?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:e})=>mi(e))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;U3(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(eb,[]);[...this._bootstrapListeners,...r].forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>U3(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Mt(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function U3(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function kQ(n,t,e,r){(e||mi(n))&&u3(n,t,e&&!r?0:1)}let NQ=(()=>{class n{constructor(){this.zone=gt(ci),this.changeDetectionScheduler=gt(Gf),this.applicationRef=gt(t1)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function tb({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new ci({...nb(),scheduleInRootZone:e}),[{provide:ci,useFactory:n},{provide:Pa,multi:!0,useFactory:()=>{const r=gt(NQ,{optional:!0});return()=>r.initialize()}},{provide:Pa,multi:!0,useFactory:()=>{const r=gt(GQ);return()=>{r.initialize()}}},!0===t?{provide:bz,useValue:!0}:[],{provide:K8,useValue:e??m6}]}function nb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let GQ=(()=>{class n{constructor(){this.subscription=new ut,this.initialized=!1,this.zone=gt(ci),this.pendingTasks=gt(K1)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ci.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ci.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nv=(()=>{class n{constructor(){this.appRef=gt(t1),this.taskService=gt(K1),this.ngZone=gt(ci),this.zonelessEnabled=gt(Lm),this.disableScheduling=gt(bz,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ut,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(sm):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(gt(K8,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof L4||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;switch(e){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?w6:v6;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(sm+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,w6(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ah=new Wt("",{providedIn:"root",factory:()=>gt(ah,Ur.Optional|Ur.SkipSelf)||function WQ(){return typeof $localize<"u"&&$localize.locale||L3}()}),$3=new Wt("");function X3(n){return!n.moduleRef}let oD=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=r?.scheduleInRootZone,o=r?.ignoreChangesOutsideZone,a=[tb({ngZoneFactory:()=>function fS(n="zone.js",t){return"noop"===n?new L4:"zone.js"===n?new ci(t):n}(r?.ngZone,{...nb({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}),scheduleInRootZone:i}),ignoreChangesOutsideZone:o}),{provide:Gf,useExisting:nv}],l=function xY(n,t,e){return new h7(n,t,e,!1)}(e.moduleType,this.injector,a);return function sD(n){const t=X3(n)?n.r3Injector:n.moduleRef.injector,e=t.get(ci);return e.run(()=>{X3(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();const r=t.get(ou,null);let i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:s=>{r.handleError(s)}})}),X3(n)){const s=()=>t.destroy(),o=n.platformInjector.get($3);o.add(s),t.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{const s=()=>n.moduleRef.destroy(),o=n.platformInjector.get($3);o.add(s),n.moduleRef.onDestroy(()=>{U3(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return function VQ(n,t,e){try{const r=e();return Q7(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(r,e,()=>{const s=t.get(qH);return s.runInitializers(),s.donePromise.then(()=>{if(function uq(n){"string"==typeof n&&(vL=n.toLowerCase().replace(/_/g,"-"))}(t.get(ah,L3)||L3),X3(n)){const a=t.get(t1);return void 0!==n.rootComponent&&a.bootstrap(n.rootComponent),a}return function YQ(n,t){const e=n.injector.get(t1);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>e.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new Mt(-403,!1);n.instance.ngDoBootstrap(e)}t.push(n)}(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,r=[]){const i=QH({},r);return function BQ(n,t,e){const r=new f7(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,i))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Mt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get($3,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)($e(rr))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),lh=null;const aD=new Wt("");function lD(n,t,e=[]){const r=`Platform: ${t}`,i=new Wt(r);return(s=[])=>{let o=ib();if(!o||o.injector.get(aD,!1)){const a=[...e,...s,{provide:i,useValue:!0}];n?n(a):function KQ(n){if(lh&&!lh.get(aD,!1))throw new Mt(400,!1);(function JH(){!function W(n){rt=n}(()=>{throw new Mt(600,!1)})})(),lh=n;const t=n.get(oD);(function uD(n){n.get(j6,null)?.forEach(e=>e())})(n)}(function cD(n=[],t){return rr.create({name:t,providers:[{provide:Sl,useValue:"platform"},{provide:$3,useValue:new Set([()=>lh=null])},...n]})}(a,r))}return function qQ(){const t=ib();if(!t)throw new Mt(401,!1);return t}()}}function ib(){return lh?.get(oD)??null}let sb=(()=>{class n{static{this.__NG_ELEMENT_ID__=QQ}}return n})();function QQ(n){return function eee(n,t,e){if(Pu(n)&&!e){const r=Et(n.index,t);return new Im(r,r)}return 175&n.type?new Im(t[vs],t):null}(Ji(),Rt(),!(16&~n))}class gD{constructor(){}supports(t){return b3(t)}create(t){return new see(t)}}const iee=(n,t)=>t;class see{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||iee}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){const o=!r||e&&e.currentIndex<vD(r,i,s)?e:r,a=vD(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,g=f+h;u<=g&&g<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!b3(t))throw new Mt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),r=!0),e=e._next}else i=0,function AY(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,a,o,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,i)):t=this._addAfter(new oee(e,r),s,i),t}_verifyReinsertion(t,e,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new mD),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mD),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oee{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aee{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class mD{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new aee,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vD(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function yD(){return new ub([new gD])}let ub=(()=>{class n{static{this.\u0275prov=Vt({token:n,providedIn:"root",factory:yD})}constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||yD()),deps:[[n,new fr,new a2]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Mt(901,!1)}}return n})();const hee=lD(null,"core",[]);let fee=(()=>{class n{constructor(e){}static{this.\u0275fac=function(r){return new(r||n)($e(t1))}}static{this.\u0275mod=Ta({type:n})}static{this.\u0275inj=fa({})}}return n})();function pp(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function fb(n){const t=pe(null);try{return n()}finally{pe(t)}}const Uee=new Wt("",{providedIn:"root",factory:()=>gt(Zee)});let Zee=(()=>{class n{static{this.\u0275prov=Vt({token:n,providedIn:"root",factory:()=>new $ee})}}return n})();class $ee{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=gt(K1),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),null===this.taskId){const e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(t){const e=t.creationZone;this.queues.has(e)||this.queues.set(e,new Set);const r=this.queues.get(e);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,e]of this.queues)null===t?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(const e of t)t.delete(e),this.queuedEffectCount--,e.run()}}class Xee{constructor(t,e,r,i,s,o){this.scheduler=t,this.effectFn=e,this.creationZone=r,this.injector=s,this.watcher=function Bt(n,t,e){const r=Object.create(xn);e&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=t;const i=l=>{r.cleanupFn=l};return r.ref={notify:()=>X(r),run:()=>{if(null===r.fn)return;if(function N(){return me}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!F(r))return;r.hasRun=!0;const l=Q(r);try{r.cleanupFn(),r.cleanupFn=dn,r.fn(i)}finally{G(r,l)}},cleanup:()=>r.cleanupFn(),destroy:()=>function o(l){(function s(l){return null===l.fn&&null===l.schedule})(l)||(ae(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=dn)}(r),[oe]:r},r.ref}(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.injector.get(ou,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}let jD=null;function gp(){return jD}class Kee{}const ko=new Wt("");let UD=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Vt({token:n,factory:()=>gt(qee),providedIn:"platform"})}}return n})(),qee=(()=>{class n extends UD{constructor(){super(),this._doc=gt(ko),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gp().getBaseHref(this._doc)}onPopState(e){const r=gp().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=gp().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Vt({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function ZD(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function $D(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Q2(n){return n&&"?"!==n[0]?"?"+n:n}let pb=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Vt({token:n,factory:()=>gt(Qee),providedIn:"root"})}}return n})();const Jee=new Wt("");let Qee=(()=>{class n extends pb{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??gt(ko).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ZD(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Q2(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const o=this.prepareExternalUrl(i+Q2(s));this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){const o=this.prepareExternalUrl(i+Q2(s));this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(r){return new(r||n)($e(UD),$e(Jee,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XD=(()=>{class n{constructor(e){this._subject=new Zs,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function nte(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}($D(YD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Q2(r))}normalize(e){return n.stripTrailingSlash(function tte(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,YD(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Q2(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Q2(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static{this.normalizeQueryParams=Q2}static{this.joinWithSlash=ZD}static{this.stripTrailingSlash=$D}static{this.\u0275fac=function(r){return new(r||n)($e(pb))}}static{this.\u0275prov=Vt({token:n,factory:()=>function ete(){return new XD($e(pb))}(),providedIn:"root"})}}return n})();function YD(n){return n.replace(/\/index.html$/,"")}function iV(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}const Ib=/\s+/,sV=[];let oV=(()=>{class n{constructor(e,r){this._ngEl=e,this._renderer=r,this.initialClasses=sV,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Ib):sV}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Ib):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(Ib).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(Ar(Rl),Ar(J8))}}static{this.\u0275dir=Lo({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class Ote{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lV=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ote(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),cV(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{cV(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Ar(cu),Ar(Ku),Ar(ub))}}static{this.\u0275dir=Lo({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function cV(n,t){n.context.$implicit=t.item}let gw=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Gte,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){uV("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){uV("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Ar(cu),Ar(Ku))}}static{this.\u0275dir=Lo({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Gte{constructor(){this.$implicit=null,this.ngIf=null}}function uV(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ks(t)}'.`)}class Ute{createSubscription(t,e){return fb(()=>t.subscribe({next:e,error:r=>{throw r}}))}dispose(t){fb(()=>t.unsubscribe())}}class Zte{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const $te=new Zte,Xte=new Ute;let hV=(()=>{class n{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Q7(e))return $te;if(YH(e))return Xte;throw function pu(n,t){return new Mt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(Ar(sb,16))}}static{this.\u0275pipe=oo({name:"async",type:n,pure:!1,standalone:!0})}}return n})(),vp=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ta({type:n})}static{this.\u0275inj=fa({})}}return n})();const pV="browser";function Tb(n){return"server"===n}class gV{}class Gne extends Kee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Hb extends Gne{static makeCurrent(){!function Yee(n){jD??=n}(new Hb)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Wne(){return cv=cv||document.querySelector("base"),cv?cv.getAttribute("href"):null}();return null==e?null:function jne(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){cv=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return iV(document.cookie,t)}}let cv=null,Zne=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();const Db=new Wt("");let MV=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new Mt(5101,!1);return this._eventNameToPlugin.set(e,r),r}static{this.\u0275fac=function(r){return new(r||n)($e(Db),$e(ci))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();class EV{constructor(t){this._doc=t}}const Vb="ng-app-id";let SV=(()=>{class n{constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Tb(s),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Vb}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const s=i.get(e);return s.usage+=r,s.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===e)return i.delete(r),s.removeAttribute(Vb),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Vb,this.appId),e.appendChild(o),o}}addStyleToHost(e,r){const i=this.getStyleElement(e,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)($e(ko),$e(R2),$e(U6,8),$e(au))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();const kb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Fb=/%COMP%/g,Kne=new Wt("",{providedIn:"root",factory:()=>!0});function zV(n,t){return t.map(e=>e.replace(Fb,n))}let RV=(()=>{class n{constructor(e,r,i,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Tb(a),this.defaultRenderer=new Pb(e,o,l,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===js.ShadowDom&&(r={...r,encapsulation:js.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof HV?i.applyToHost(e):i instanceof Bb&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case js.Emulated:s=new HV(l,c,r,this.appId,u,o,a,d);break;case js.ShadowDom:return new ere(l,c,e,r,o,a,this.nonce,d);default:s=new Bb(l,c,r,u,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)($e(MV),$e(SV),$e(R2),$e(Kne),$e(ko),$e(au),$e(ci),$e(U6))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();class Pb{constructor(t,e,r,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(kb[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(LV(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(LV(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Mt(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const s=kb[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=kb[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(nh.DashCase|nh.Important)?t.style.setProperty(e,r,i&nh.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&nh.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){null!=t&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r){if("string"==typeof t&&!(t=gp().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function LV(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ere extends Pb{constructor(t,e,r,i,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=zV(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Bb extends Pb{constructor(t,e,r,i,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=l?zV(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class HV extends Bb{constructor(t,e,r,i,s,o,a,l){const c=i+"-"+r.id;super(t,e,r,s,o,a,l,c),this.contentAttr=function qne(n){return"_ngcontent-%COMP%".replace(Fb,n)}(c),this.hostAttr=function Jne(n){return"_nghost-%COMP%".replace(Fb,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}let tre=(()=>{class n extends EV{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)($e(ko))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();const DV=["alt","control","meta","shift"],nre={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rre={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ire=(()=>{class n extends EV{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gp().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),DV.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(e,r){let i=nre[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),DV.forEach(o=>{o!==i&&(0,rre[o])(e)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{n.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(r){return new(r||n)($e(ko))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();const kV=[{provide:au,useValue:pV},{provide:j6,useValue:function sre(){Hb.makeCurrent()},multi:!0},{provide:ko,useFactory:function are(){return function FS(n){P4=n}(document),document},deps:[]}],lre=lD(hee,"browser",kV),cre=new Wt(""),FV=[{provide:j3,useClass:class Une{addToWindow(t){An.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Mt(5103,!1);return s},An.getAllAngularTestabilities=()=>t.getAllTestabilities(),An.getAllAngularRootElements=()=>t.getAllRootElements(),An.frameworkStabilizers||(An.frameworkStabilizers=[]),An.frameworkStabilizers.push(r=>{const i=An.getAllAngularTestabilities();let s=i.length;const o=function(){s--,0==s&&r()};i.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?gp().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:XH,useClass:K7,deps:[ci,q7,j3]},{provide:K7,useClass:K7,deps:[ci,q7,j3]}],PV=[{provide:Sl,useValue:"root"},{provide:ou,useFactory:function ore(){return new ou},deps:[]},{provide:Db,useClass:tre,multi:!0,deps:[ko,ci,au]},{provide:Db,useClass:ire,multi:!0,deps:[ko]},RV,SV,MV,{provide:q8,useExisting:RV},{provide:gV,useClass:Zne,deps:[]},[]];let ure=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:R2,useValue:e.appId}]}}static{this.\u0275fac=function(r){return new(r||n)($e(cre,12))}}static{this.\u0275mod=Ta({type:n})}static{this.\u0275inj=fa({providers:[...PV,...FV],imports:[vp,fee]})}}return n})();var La=B(3308);function OV(n){return n&&Jt(n.schedule)}function Nb(n){return n[n.length-1]}function Ob(n){return Jt(Nb(n))?n.pop():void 0}function uv(n){return OV(Nb(n))?n.pop():void 0}function ch(n){return this instanceof ch?(this.v=n,this):new ch(n)}function UV(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Ub(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const $b=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ZV(n){return Jt(n?.then)}function $V(n){return Jt(n[vn])}function XV(n){return Symbol.asyncIterator&&Jt(n?.[Symbol.asyncIterator])}function YV(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const KV=function Ore(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function qV(n){return Jt(n?.[KV])}function JV(n){return function jV(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(f){return function(g){return Promise.resolve(g).then(f,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,g){r[f]&&(i[f]=function(w){return new Promise(function(C,I){s.push([f,w,C,I])>1||l(f,w)})},g&&(i[f]=g(i[f])))}function l(f,g){try{!function c(f){f.value instanceof ch?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}(r[f](g))}catch(w){h(s[0][3],w)}}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,g){f(g),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield ch(e.read());if(i)return yield ch(void 0);yield yield ch(r)}}finally{e.releaseLock()}})}function QV(n){return Jt(n?.getReader)}function wa(n){if(n instanceof kr)return n;if(null!=n){if($V(n))return function Gre(n){return new kr(t=>{const e=n[vn]();if(Jt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if($b(n))return function Wre(n){return new kr(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(ZV(n))return function jre(n){return new kr(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Sn)})}(n);if(XV(n))return ek(n);if(qV(n))return function Ure(n){return new kr(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(QV(n))return function Zre(n){return ek(JV(n))}(n)}throw YV(n)}function ek(n){return new kr(t=>{(function $re(n,t){var e,r,i,s;return function GV(n,t,e,r){return new(e||(e=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof e?s:new e(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=UV(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function nd(n,t,e,r=0,i=!1){const s=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function tk(n,t=0){return Si((e,r)=>{e.subscribe(de(r,i=>nd(r,n,()=>r.next(i),t),()=>nd(r,n,()=>r.complete(),t),i=>nd(r,n,()=>r.error(i),t)))})}function nk(n,t=0){return Si((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function rk(n,t){if(!n)throw new Error("Iterable cannot be null");return new kr(e=>{nd(e,t,()=>{const r=n[Symbol.asyncIterator]();nd(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function rd(n,t){return t?function Qre(n,t){if(null!=n){if($V(n))return function Xre(n,t){return wa(n).pipe(nk(t),tk(t))}(n,t);if($b(n))return function Kre(n,t){return new kr(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(ZV(n))return function Yre(n,t){return wa(n).pipe(nk(t),tk(t))}(n,t);if(XV(n))return rk(n,t);if(qV(n))return function qre(n,t){return new kr(e=>{let r;return nd(e,t,()=>{r=n[KV](),nd(e,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void e.error(o)}s?e.complete():e.next(i)},0,!0)}),()=>Jt(r?.return)&&r.return()})}(n,t);if(QV(n))return function Jre(n,t){return rk(JV(n),t)}(n,t)}throw YV(n)}(n,t):wa(n)}function zi(...n){return rd(n,uv(n))}function yp(n,t,e=1/0){return Jt(t)?yp((r,i)=>Te((s,o)=>t(r,s,i,o))(wa(n(r,i))),e):("number"==typeof t&&(e=t),Si((r,i)=>function eie(n,t,e,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=w=>c<r?g(w):l.push(w),g=w=>{s&&t.next(w),c++;let C=!1;wa(e(w,u++)).subscribe(de(t,I=>{i?.(I),s?f(I):t.next(I)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){const I=l.shift();o?nd(t,o,()=>g(I)):g(I)}h()}catch(I){t.error(I)}}))};return n.subscribe(de(t,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,e)))}function ik(n,t){return Jt(t)?yp(n,t,1):yp(n,1)}function dv(n,t){return Si((e,r)=>{let i=0;e.subscribe(de(r,s=>n.call(t,s,i++)&&r.next(s)))})}function sk(n){return Si((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function $s(n,t){return Si((e,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();e.subscribe(de(r,l=>{i?.unsubscribe();let c=0;const u=s++;wa(n(l,u)).subscribe(i=de(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}class Cw{}class bw{}class Mr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),s=i.toLowerCase(),o=e.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Mr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Mr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Mr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class tie{encodeKey(t){return ok(t)}encodeValue(t){return ok(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const rie=/%(\d[a-f0-9])/gi,iie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ok(n){return encodeURIComponent(n).replace(rie,(t,e)=>iie[e]??t)}function xw(n){return`${n}`}class xt{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new tie,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function nie(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(xw):[xw(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new xt({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(xw(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(xw(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class sie{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function ak(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function lk(n){return typeof Blob<"u"&&n instanceof Blob}function ck(n){return typeof FormData<"u"&&n instanceof FormData}class hv{constructor(t,e,r,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function oie(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Mr,this.context??=new sie,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new xt,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||ak(this.body)||lk(this.body)||ck(this.body)||function aie(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof xt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ck(this.body)?null:lk(this.body)?this.body.type||null:ak(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),u)),new hv(e,r,o,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}}var n1=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(n1||{});class Xb{constructor(t,e=200,r="OK"){this.headers=t.headers||new Mr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class _w extends Xb{constructor(t={}){super(t),this.type=n1.ResponseHeader}clone(t={}){return new _w({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class t0 extends Xb{constructor(t={}){super(t),this.type=n1.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new t0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Cp extends Xb{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Yb(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let ui=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof hv)s=e;else{let l,c;l=i.headers instanceof Mr?i.headers:new Mr(i.headers),i.params&&(c=i.params instanceof xt?i.params:new xt({fromObject:i.params})),s=new hv(e,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const o=zi(s).pipe(ik(l=>this.handler.handle(l)));if(e instanceof hv||"events"===i.observe)return o;const a=o.pipe(dv(l=>l instanceof t0));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Te(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Te(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Te(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Te(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new xt).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Yb(i,r))}post(e,r,i={}){return this.request("POST",e,Yb(i,r))}put(e,r,i={}){return this.request("PUT",e,Yb(i,r))}static{this.\u0275fac=function(r){return new(r||n)($e(Cw))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();const uie=/^\)\]\}',?\n/;function dk(n){if(n.url)return n.url;const t="X-Request-URL".toLocaleLowerCase();return n.headers.get(t)}let Kb=(()=>{class n{constructor(){this.fetchImpl=gt(hie,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=gt(ci)}handle(e){return new kr(r=>{const i=new AbortController;return this.doRequest(e,i.signal,r).then(qb,s=>r.error(new Cp({error:s}))),()=>i.abort()})}doRequest(e,r,i){var s=this;return(0,La.A)(function*(){const o=s.createRequestInit(e);let a;try{const g=s.ngZone.runOutsideAngular(()=>s.fetchImpl(e.urlWithParams,{signal:r,...o}));(function fie(n){n.then(qb,qb)})(g),i.next({type:n1.Sent}),a=yield g}catch(g){return void i.error(new Cp({error:g,status:g.status??0,statusText:g.statusText,url:e.urlWithParams,headers:g.headers}))}const l=new Mr(a.headers),c=a.statusText,u=dk(a)??e.urlWithParams;let d=a.status,h=null;if(e.reportProgress&&i.next(new _w({headers:l,status:d,statusText:c,url:u})),a.body){const g=a.headers.get("content-length"),w=[],C=a.body.getReader();let L,ie,I=0;const ne=typeof Zone<"u"&&Zone.current;yield s.ngZone.runOutsideAngular((0,La.A)(function*(){for(;;){const{done:$,value:Y}=yield C.read();if($)break;if(w.push(Y),I+=Y.length,e.reportProgress){ie="text"===e.responseType?(ie??"")+(L??=new TextDecoder).decode(Y,{stream:!0}):void 0;const ve=()=>i.next({type:n1.DownloadProgress,total:g?+g:void 0,loaded:I,partialText:ie});ne?ne.run(ve):ve()}}}));const se=s.concatChunks(w,I);try{const $=a.headers.get("Content-Type")??"";h=s.parseBody(e,se,$)}catch($){return void i.error(new Cp({error:$,headers:new Mr(a.headers),status:a.status,statusText:a.statusText,url:dk(a)??e.urlWithParams}))}}0===d&&(d=h?200:0),d>=200&&d<300?(i.next(new t0({body:h,headers:l,status:d,statusText:c,url:u})),i.complete()):i.error(new Cp({error:h,headers:l,status:d,statusText:c,url:u}))})()}parseBody(e,r,i){switch(e.responseType){case"json":const s=(new TextDecoder).decode(r).replace(uie,"");return""===s?null:JSON.parse(s);case"text":return(new TextDecoder).decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){const r={},i=e.withCredentials?"include":void 0;if(e.headers.forEach((s,o)=>r[s]=o.join(",")),e.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){const s=e.detectContentTypeHeader();null!==s&&(r["Content-Type"]=s)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i}}concatChunks(e,r){const i=new Uint8Array(r);let s=0;for(const o of e)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();class hie{}function qb(){}function hk(n,t){return t(n)}function pie(n,t){return(e,r)=>t.intercept(e,{handle:i=>n(i,r)})}const fk=new Wt(""),fv=new Wt(""),pk=new Wt(""),gk=new Wt("",{providedIn:"root",factory:()=>!0});function mie(){let n=null;return(t,e)=>{null===n&&(n=(gt(fk,{optional:!0})??[]).reduceRight(pie,hk));const r=gt(K1);if(gt(gk)){const s=r.add();return n(t,e).pipe(sk(()=>r.remove(s)))}return n(t,e)}}let mk=(()=>{class n extends Cw{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=gt(K1),this.contributeToStability=gt(gk)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(fv),...this.injector.get(pk,[])]));this.chain=r.reduceRight((i,s)=>function gie(n,t,e){return(r,i)=>uf(e,()=>t(r,s=>n(s,i)))}(i,s,this.injector),hk)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(sk(()=>this.pendingTasks.remove(r)))}return this.chain(e,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)($e(bw),$e(Oa))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();const bie=/^\)\]\}',?\n/;let wk=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Mt(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?rd(r.\u0275loadImpl()):zi(null)).pipe($s(()=>new kr(s=>{const o=r.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((w,C)=>o.setRequestHeader(w,C.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const w=e.detectContentTypeHeader();null!==w&&o.setRequestHeader("Content-Type",w)}if(e.responseType){const w=e.responseType.toLowerCase();o.responseType="json"!==w?w:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const w=o.statusText||"OK",C=new Mr(o.getAllResponseHeaders()),I=function xie(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new _w({headers:C,status:o.status,statusText:w,url:I}),l},u=()=>{let{headers:w,status:C,statusText:I,url:L}=c(),ie=null;204!==C&&(ie=typeof o.response>"u"?o.responseText:o.response),0===C&&(C=ie?200:0);let ne=C>=200&&C<300;if("json"===e.responseType&&"string"==typeof ie){const se=ie;ie=ie.replace(bie,"");try{ie=""!==ie?JSON.parse(ie):null}catch($){ie=se,ne&&(ne=!1,ie={error:$,text:ie})}}ne?(s.next(new t0({body:ie,headers:w,status:C,statusText:I,url:L||void 0})),s.complete()):s.error(new Cp({error:ie,headers:w,status:C,statusText:I,url:L||void 0}))},d=w=>{const{url:C}=c(),I=new Cp({error:w,status:o.status||0,statusText:o.statusText||"Unknown Error",url:C||void 0});s.error(I)};let h=!1;const f=w=>{h||(s.next(c()),h=!0);let C={type:n1.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(C.total=w.total),"text"===e.responseType&&o.responseText&&(C.partialText=o.responseText),s.next(C)},g=w=>{let C={type:n1.UploadProgress,loaded:w.loaded};w.lengthComputable&&(C.total=w.total),s.next(C)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",g)),o.send(a),s.next({type:n1.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",g)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)($e(gV))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();const Jb=new Wt(""),yk=new Wt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ck=new Wt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class bk{}let Aie=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=iV(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)($e(ko),$e(au),$e(yk))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();function Mie(n,t){const e=n.url.toLowerCase();if(!gt(Jb)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const r=gt(bk).getToken(),i=gt(Ck);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var uh=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(uh||{});function n0(n,t){return{\u0275kind:n,\u0275providers:t}}function xk(...n){const t=[ui,wk,mk,{provide:Cw,useExisting:mk},{provide:bw,useFactory:()=>gt(Kb,{optional:!0})??gt(wk)},{provide:fv,useValue:Mie,multi:!0},{provide:Jb,useValue:!0},{provide:bk,useClass:Aie}];for(const e of n)t.push(...e.\u0275providers);return xc(t)}const _k=new Wt("");class Bi{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Ni=new Wt("basePath");class Tn{constructor(t={}){this.apiKeys=t.apiKeys,this.username=t.username,this.password=t.password,this.accessToken=t.accessToken,this.basePath=t.basePath,this.withCredentials=t.withCredentials,this.encoder=t.encoder,this.credentials=t.credentials?t.credentials:{}}selectHeaderContentType(t){if(0===t.length)return;const e=t.find(r=>this.isJsonMime(r));return void 0===e?t[0]:e}selectHeaderAccept(t){if(0===t.length)return;const e=t.find(r=>this.isJsonMime(r));return void 0===e?t[0]:e}isJsonMime(t){const e=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==t&&(e.test(t)||"application/json-patch+json"===t.toLowerCase())}lookupCredential(t){const e=this.credentials[t];return"function"==typeof e?e():e}}let Aw=(()=>{class n{constructor(e,r,i){this.httpClient=e,this.basePath="https://demo.georchestra.org/geonetwork/srv/api",this.defaultHeaders=new Mr,this.configuration=new Tn,i&&(this.configuration=i),"string"!=typeof this.configuration.basePath&&("string"!=typeof r&&(r=this.basePath),this.configuration.basePath=r),this.encoder=this.configuration.encoder||new Bi}addToHttpParams(e,r,i){return"object"!=typeof r||r instanceof Date?this.addToHttpParamsRecursive(e,r,i):this.addToHttpParamsRecursive(e,r)}addToHttpParamsRecursive(e,r,i){if(null==r)return e;if("object"==typeof r)if(Array.isArray(r))r.forEach(s=>e=this.addToHttpParamsRecursive(e,s,i));else if(r instanceof Date){if(null==i)throw Error("key may not be null if value is Date");e=e.append(i,r.toISOString().substr(0,10))}else Object.keys(r).forEach(s=>e=this.addToHttpParamsRecursive(e,r[s],null!=i?`${i}.${s}`:s));else{if(null==i)throw Error("key may not be null if value is not object or array");e=e.append(i,r)}return e}addGroup(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter groupApiModel was null or undefined when calling addGroup.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));const c=this.configuration.selectHeaderContentType(["application/json"]);void 0!==c&&(o=o.set("Content-Type",c));let u="json";return a&&a.startsWith("text")&&(u="text"),this.httpClient.put(`${this.configuration.basePath}/groups`,e,{responseType:u,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}deleteGroup(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter groupIdentifier was null or undefined when calling deleteGroup.");let a=new xt({encoder:this.encoder});null!=r&&(a=this.addToHttpParams(a,r,"force"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.delete(`${this.configuration.basePath}/groups/${encodeURIComponent(String(e))}`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}getGroup(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter groupIdentifier was null or undefined when calling getGroup.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/groups/${encodeURIComponent(String(e))}`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getGroupLogo(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter groupId was null or undefined when calling getGroupLogo.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/groups/${encodeURIComponent(String(e))}/logo`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getGroupUsers(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter groupIdentifier was null or undefined when calling getGroupUsers.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/groups/${encodeURIComponent(String(e))}/users`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getGroups(e,r,i="body",s=!1,o){let a=new xt({encoder:this.encoder});null!=e&&(a=this.addToHttpParams(a,e,"withReservedGroup")),null!=r&&(a=this.addToHttpParams(a,r,"profile"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.get(`${this.configuration.basePath}/groups`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}updateGroup(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter groupIdentifier was null or undefined when calling updateGroup.");if(null==r)throw new Error("Required parameter groupApiModel was null or undefined when calling updateGroup.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(a=a.set("Accept",l));const u=this.configuration.selectHeaderContentType(["application/json"]);void 0!==u&&(a=a.set("Content-Type",u));let d="json";return l&&l.startsWith("text")&&(d="text"),this.httpClient.put(`${this.configuration.basePath}/groups/${encodeURIComponent(String(e))}`,r,{responseType:d,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}static{this.\u0275fac=function(r){return new(r||n)($e(ui),$e(Ni,8),$e(Tn,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Rk=(()=>{class n{constructor(e,r,i){this.httpClient=e,this.basePath="https://demo.georchestra.org/geonetwork/srv/api",this.defaultHeaders=new Mr,this.configuration=new Tn,i&&(this.configuration=i),"string"!=typeof this.configuration.basePath&&("string"!=typeof r&&(r=this.basePath),this.configuration.basePath=r),this.encoder=this.configuration.encoder||new Bi}addToHttpParams(e,r,i){return"object"!=typeof r||r instanceof Date?this.addToHttpParamsRecursive(e,r,i):this.addToHttpParamsRecursive(e,r)}addToHttpParamsRecursive(e,r,i){if(null==r)return e;if("object"==typeof r)if(Array.isArray(r))r.forEach(s=>e=this.addToHttpParamsRecursive(e,s,i));else if(r instanceof Date){if(null==i)throw Error("key may not be null if value is Date");e=e.append(i,r.toISOString().substr(0,10))}else Object.keys(r).forEach(s=>e=this.addToHttpParamsRecursive(e,r[s],null!=i?`${i}.${s}`:s));else{if(null==i)throw Error("key may not be null if value is not object or array");e=e.append(i,r)}return e}addLanguages(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter langCode was null or undefined when calling addLanguages.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.put(`${this.configuration.basePath}/languages/${encodeURIComponent(String(e))}`,null,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}deleteLanguage(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter langCode was null or undefined when calling deleteLanguage.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.delete(`${this.configuration.basePath}/languages/${encodeURIComponent(String(e))}`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getApplicationLanguages(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/languages/application`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getIsoLanguages(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/isolanguages`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getLanguages(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/languages`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}static{this.\u0275fac=function(r){return new(r||n)($e(ui),$e(Ni,8),$e(Tn,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Lk=(()=>{class n{constructor(e,r,i){this.httpClient=e,this.basePath="https://demo.georchestra.org/geonetwork/srv/api",this.defaultHeaders=new Mr,this.configuration=new Tn,i&&(this.configuration=i),"string"!=typeof this.configuration.basePath&&("string"!=typeof r&&(r=this.basePath),this.configuration.basePath=r),this.encoder=this.configuration.encoder||new Bi}addToHttpParams(e,r,i){return"object"!=typeof r||r instanceof Date?this.addToHttpParamsRecursive(e,r,i):this.addToHttpParamsRecursive(e,r)}addToHttpParamsRecursive(e,r,i){if(null==r)return e;if("object"==typeof r)if(Array.isArray(r))r.forEach(s=>e=this.addToHttpParamsRecursive(e,s,i));else if(r instanceof Date){if(null==i)throw Error("key may not be null if value is Date");e=e.append(i,r.toISOString().substr(0,10))}else Object.keys(r).forEach(s=>e=this.addToHttpParamsRecursive(e,r[s],null!=i?`${i}.${s}`:s));else{if(null==i)throw Error("key may not be null if value is not object or array");e=e.append(i,r)}return e}getMe(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/me`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}static{this.\u0275fac=function(r){return new(r||n)($e(ui),$e(Ni,8),$e(Tn,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Qb=(()=>{class n{constructor(e,r,i){this.httpClient=e,this.basePath="https://demo.georchestra.org/geonetwork/srv/api",this.defaultHeaders=new Mr,this.configuration=new Tn,i&&(this.configuration=i),"string"!=typeof this.configuration.basePath&&("string"!=typeof r&&(r=this.basePath),this.configuration.basePath=r),this.encoder=this.configuration.encoder||new Bi}canConsumeForm(e){for(const i of e)if("multipart/form-data"===i)return!0;return!1}addToHttpParams(e,r,i){return"object"!=typeof r||r instanceof Date?this.addToHttpParamsRecursive(e,r,i):this.addToHttpParamsRecursive(e,r)}addToHttpParamsRecursive(e,r,i){if(null==r)return e;if("object"==typeof r)if(Array.isArray(r))r.forEach(s=>e=this.addToHttpParamsRecursive(e,s,i));else if(r instanceof Date){if(null==i)throw Error("key may not be null if value is Date");e=e.append(i,r.toISOString().substr(0,10))}else Object.keys(r).forEach(s=>e=this.addToHttpParamsRecursive(e,r[s],null!=i?`${i}.${s}`:s));else{if(null==i)throw Error("key may not be null if value is not object or array");e=e.append(i,r)}return e}addElement(e,r,i,s,o,a="body",l=!1,c){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling addElement.");if(null==r)throw new Error("Required parameter ref was null or undefined when calling addElement.");if(null==i)throw new Error("Required parameter name was null or undefined when calling addElement.");let u=new xt({encoder:this.encoder});null!=r&&(u=this.addToHttpParams(u,r,"ref")),null!=i&&(u=this.addToHttpParams(u,i,"name")),null!=s&&(u=this.addToHttpParams(u,s,"child")),null!=o&&(u=this.addToHttpParams(u,o,"displayAttributes"));let d=this.defaultHeaders,h=c&&c.httpHeaderAccept;void 0===h&&(h=this.configuration.selectHeaderAccept(["application/json"])),void 0!==h&&(d=d.set("Accept",h));let f="json";return h&&h.startsWith("text")&&(f="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/editor/elements`,null,{params:u,responseType:f,withCredentials:this.configuration.withCredentials,headers:d,observe:a,reportProgress:l})}addElement1(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling addElement1.");if(null==r)throw new Error("Required parameter ref was null or undefined when calling addElement1.");if(null==i)throw new Error("Required parameter direction was null or undefined when calling addElement1.");let c=new xt({encoder:this.encoder});null!=r&&(c=this.addToHttpParams(c,r,"ref")),null!=s&&(c=this.addToHttpParams(c,s,"displayAttributes"));let u=this.defaultHeaders,d=l&&l.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(u=u.set("Accept",d));let h="json";return d&&d.startsWith("text")&&(h="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/editor/elements/${encodeURIComponent(String(i))}`,null,{params:c,responseType:h,withCredentials:this.configuration.withCredentials,headers:u,observe:o,reportProgress:a})}addSamples(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter schema was null or undefined when calling addSamples.");let o=new xt({encoder:this.encoder});e&&e.forEach(u=>{o=this.addToHttpParams(o,u,"schema")});let a=this.defaultHeaders,l=s&&s.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==l&&(a=a.set("Accept",l));let c="json";return l&&l.startsWith("text")&&(c="text"),this.httpClient.put(`${this.configuration.basePath}/records/samples`,null,{params:o,responseType:c,withCredentials:this.configuration.withCredentials,headers:a,observe:r,reportProgress:i})}addTemplates(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter schema was null or undefined when calling addTemplates.");let o=new xt({encoder:this.encoder});e&&e.forEach(u=>{o=this.addToHttpParams(o,u,"schema")});let a=this.defaultHeaders,l=s&&s.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==l&&(a=a.set("Accept",l));let c="json";return l&&l.startsWith("text")&&(c="text"),this.httpClient.put(`${this.configuration.basePath}/records/templates`,null,{params:o,responseType:c,withCredentials:this.configuration.withCredentials,headers:a,observe:r,reportProgress:i})}applyQuery(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling applyQuery.");if(null==r)throw new Error("Required parameter savedQuery was null or undefined when calling applyQuery.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(a=a.set("Accept",l));let c="json";return l&&l.startsWith("text")&&(c="text"),this.httpClient.post(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/query/${encodeURIComponent(String(r))}`,null,{responseType:c,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}approve(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataBatchApproveParameterApiModel was null or undefined when calling approve.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==a&&(o=o.set("Accept",a));const c=this.configuration.selectHeaderContentType(["application/json"]);void 0!==c&&(o=o.set("Content-Type",c));let u="json";return a&&a.startsWith("text")&&(u="text"),this.httpClient.put(`${this.configuration.basePath}/records/approve`,e,{responseType:u,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}batchEdit(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter batchEditParameterApiModel was null or undefined when calling batchEdit.");let c=new xt({encoder:this.encoder});r&&r.forEach(w=>{c=this.addToHttpParams(c,w,"uuids")}),null!=i&&(c=this.addToHttpParams(c,i,"bucket")),null!=s&&(c=this.addToHttpParams(c,s,"updateDateStamp"));let u=this.defaultHeaders,d=l&&l.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(u=u.set("Accept",d));const f=this.configuration.selectHeaderContentType(["application/json"]);void 0!==f&&(u=u.set("Content-Type",f));let g="json";return d&&d.startsWith("text")&&(g="text"),this.httpClient.put(`${this.configuration.basePath}/records/batchediting`,e,{params:c,responseType:g,withCredentials:this.configuration.withCredentials,headers:u,observe:o,reportProgress:a})}cancelEdits(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling cancelEdits.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.delete(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/editor`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}checkDoiStatus(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling checkDoiStatus.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/doi/checkPreConditions`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}checkDoiUrl(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling checkDoiUrl.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json","text/plain"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/doi/checkDoiUrl`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}checkValidation(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter testId was null or undefined when calling checkValidation.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/validate/inspire`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}cleanValidationStatus(e,r,i="body",s=!1,o){let a=new xt({encoder:this.encoder});e&&e.forEach(d=>{a=this.addToHttpParams(a,d,"uuids")}),null!=r&&(a=this.addToHttpParams(a,r,"bucket"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.delete(`${this.configuration.basePath}/records/validate`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}closeTask(e,r,i,s,o,a="body",l=!1,c){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling closeTask.");if(null==r)throw new Error("Required parameter statusId was null or undefined when calling closeTask.");if(null==i)throw new Error("Required parameter userId was null or undefined when calling closeTask.");if(null==s)throw new Error("Required parameter changeDate was null or undefined when calling closeTask.");if(null==o)throw new Error("Required parameter closeDate was null or undefined when calling closeTask.");let u=new xt({encoder:this.encoder});null!=o&&(u=this.addToHttpParams(u,o,"closeDate"));let d=this.defaultHeaders,h=c&&c.httpHeaderAccept;void 0===h&&(h=this.configuration.selectHeaderAccept(["application/json"])),void 0!==h&&(d=d.set("Accept",h));let f="json";return h&&h.startsWith("text")&&(f="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/status/${encodeURIComponent(String(r))}.${encodeURIComponent(String(i))}.${encodeURIComponent(String(s))}/close`,null,{params:u,responseType:f,withCredentials:this.configuration.withCredentials,headers:d,observe:a,reportProgress:l})}create(e,r,i,s,o,a,l,c,u,d="body",h=!1,f){if(null==e)throw new Error("Required parameter sourceUuid was null or undefined when calling create.");if(null==r)throw new Error("Required parameter group was null or undefined when calling create.");let g=new xt({encoder:this.encoder});null!=i&&(g=this.addToHttpParams(g,i,"metadataType")),null!=e&&(g=this.addToHttpParams(g,e,"sourceUuid")),null!=s&&(g=this.addToHttpParams(g,s,"targetUuid")),null!=r&&(g=this.addToHttpParams(g,r,"group")),null!=o&&(g=this.addToHttpParams(g,o,"allowEditGroupMembers")),a&&a.forEach(ne=>{g=this.addToHttpParams(g,ne,"category")}),null!=l&&(g=this.addToHttpParams(g,l,"hasCategoryOfSource")),null!=c&&(g=this.addToHttpParams(g,c,"isChildOfSource")),null!=u&&(g=this.addToHttpParams(g,u,"hasAttachmentsOfSource"));let w=this.defaultHeaders;const I=this.configuration.selectHeaderContentType(["application/json;charset=UTF-8"]);void 0!==I&&(w=w.set("Content-Type",I));let L=f&&f.httpHeaderAccept;void 0===L&&(L=this.configuration.selectHeaderAccept(["application/json"])),void 0!==L&&(w=w.set("Accept",L));let ie="json";return L&&L.startsWith("text")&&(ie="text"),this.httpClient.put(`${this.configuration.basePath}/records/duplicate`,null,{params:g,responseType:ie,withCredentials:this.configuration.withCredentials,headers:w,observe:d,reportProgress:h})}createDoi(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling createDoi.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/doi`,null,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}delResource(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling delResource.");if(null==r)throw new Error("Required parameter resourceId was null or undefined when calling delResource.");let l=new xt({encoder:this.encoder});null!=i&&(l=this.addToHttpParams(l,i,"approved"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.delete(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/attachments/${encodeURIComponent(String(r))}`,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}delResources(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling delResources.");let a=new xt({encoder:this.encoder});null!=r&&(a=this.addToHttpParams(a,r,"approved"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.delete(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/attachments`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}deleteAllRecordStatus(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling deleteAllRecordStatus.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.delete(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/status`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}deleteAttribute(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling deleteAttribute.");if(null==r)throw new Error("Required parameter ref was null or undefined when calling deleteAttribute.");let l=new xt({encoder:this.encoder});null!=r&&(l=this.addToHttpParams(l,r,"ref")),null!=i&&(l=this.addToHttpParams(l,i,"displayAttributes"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.delete(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/editor/attributes`,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}deleteElement(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling deleteElement.");if(null==r)throw new Error("Required parameter ref was null or undefined when calling deleteElement.");if(null==i)throw new Error("Required parameter parent was null or undefined when calling deleteElement.");let c=new xt({encoder:this.encoder});r&&r.forEach(f=>{c=this.addToHttpParams(c,f,"ref")}),null!=i&&(c=this.addToHttpParams(c,i,"parent")),null!=s&&(c=this.addToHttpParams(c,s,"displayAttributes"));let u=this.defaultHeaders,d=l&&l.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(u=u.set("Accept",d));let h="json";return d&&d.startsWith("text")&&(h="text"),this.httpClient.delete(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/editor/elements`,{params:c,responseType:h,withCredentials:this.configuration.withCredentials,headers:u,observe:o,reportProgress:a})}deleteRecord(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling deleteRecord.");let a=new xt({encoder:this.encoder});null!=r&&(a=this.addToHttpParams(a,r,"withBackup"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.delete(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}deleteRecordStatus(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling deleteRecordStatus.");if(null==r)throw new Error("Required parameter statusId was null or undefined when calling deleteRecordStatus.");if(null==i)throw new Error("Required parameter userId was null or undefined when calling deleteRecordStatus.");if(null==s)throw new Error("Required parameter changeDate was null or undefined when calling deleteRecordStatus.");let c=this.defaultHeaders,u=l&&l.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.delete(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/status/${encodeURIComponent(String(r))}.${encodeURIComponent(String(i))}.${encodeURIComponent(String(s))}`,{responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:o,reportProgress:a})}deleteRecords(e,r,i,s="body",o=!1,a){let l=new xt({encoder:this.encoder});e&&e.forEach(h=>{l=this.addToHttpParams(l,h,"uuids")}),null!=r&&(l=this.addToHttpParams(l,r,"bucket")),null!=i&&(l=this.addToHttpParams(l,i,"withBackup"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.delete(`${this.configuration.basePath}/records`,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}deleteTagForRecords(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter id was null or undefined when calling deleteTagForRecords.");let l=new xt({encoder:this.encoder});r&&r.forEach(h=>{l=this.addToHttpParams(l,h,"uuids")}),null!=i&&(l=this.addToHttpParams(l,i,"bucket")),e&&e.forEach(h=>{l=this.addToHttpParams(l,h,"id")});let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.delete(`${this.configuration.basePath}/records/tags`,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}deleteTags(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling deleteTags.");let a=new xt({encoder:this.encoder});r&&r.forEach(d=>{a=this.addToHttpParams(a,d,"id")});let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.delete(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/tags`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}downloadBackup(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json","application/zip"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/records/backups/latest`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}enableVersionControl(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling enableVersionControl.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/versions`,null,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}enableVersionControlForRecords(e,r,i="body",s=!1,o){let a=new xt({encoder:this.encoder});e&&e.forEach(d=>{a=this.addToHttpParams(a,d,"uuids")}),null!=r&&(a=this.addToHttpParams(a,r,"bucket"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.put(`${this.configuration.basePath}/records/versions`,null,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}exportAsCsv(e,r,i="body",s=!1,o){let a=new xt({encoder:this.encoder});e&&e.forEach(d=>{a=this.addToHttpParams(a,d,"uuids")}),null!=r&&(a=this.addToHttpParams(a,r,"bucket"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.get(`${this.configuration.basePath}/records/csv`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}exportAsMef(e,r,i,s,o,a,l,c,u,d="body",h=!1,f){let g=new xt({encoder:this.encoder});e&&e.forEach(L=>{g=this.addToHttpParams(g,L,"uuids")}),null!=r&&(g=this.addToHttpParams(g,r,"bucket")),null!=i&&(g=this.addToHttpParams(g,i,"format")),null!=s&&(g=this.addToHttpParams(g,s,"withRelated")),null!=o&&(g=this.addToHttpParams(g,o,"withXLinksResolved")),null!=a&&(g=this.addToHttpParams(g,a,"withXLinkAttribute")),null!=l&&(g=this.addToHttpParams(g,l,"addSchemaLocation")),null!=c&&(g=this.addToHttpParams(g,c,"approved"));let w=this.defaultHeaders;null!=u&&(w=w.set("Accept",String(u)));let C=f&&f.httpHeaderAccept;void 0===C&&(C=this.configuration.selectHeaderAccept(["application/json"])),void 0!==C&&(w=w.set("Accept",C));let I="json";return C&&C.startsWith("text")&&(I="text"),this.httpClient.get(`${this.configuration.basePath}/records/zip`,{params:g,responseType:I,withCredentials:this.configuration.withCredentials,headers:w,observe:d,reportProgress:h})}exportAsPdf(e,r,i="body",s=!1,o){let a=new xt({encoder:this.encoder});e&&e.forEach(d=>{a=this.addToHttpParams(a,d,"uuids")}),null!=r&&(a=this.addToHttpParams(a,r,"bucket"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.get(`${this.configuration.basePath}/records/pdf`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}getActiveUsers(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter dateFrom was null or undefined when calling getActiveUsers.");if(null==r)throw new Error("Required parameter dateTo was null or undefined when calling getActiveUsers.");let l=new xt({encoder:this.encoder});null!=e&&(l=this.addToHttpParams(l,e,"dateFrom")),null!=r&&(l=this.addToHttpParams(l,r,"dateTo")),i&&i.forEach(h=>{l=this.addToHttpParams(l,h,"groups")});let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.get(`${this.configuration.basePath}/reports/users`,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}getAllRecordExtentAsImage(e,r,i,s,o,a,l,c="body",u=!1,d){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getAllRecordExtentAsImage.");let h=new xt({encoder:this.encoder});null!=r&&(h=this.addToHttpParams(h,r,"mapsrs")),null!=i&&(h=this.addToHttpParams(h,i,"width")),null!=s&&(h=this.addToHttpParams(h,s,"height")),null!=o&&(h=this.addToHttpParams(h,o,"background")),null!=a&&(h=this.addToHttpParams(h,a,"fillColor")),null!=l&&(h=this.addToHttpParams(h,l,"strokeColor"));let f=this.defaultHeaders,g=d&&d.httpHeaderAccept;void 0===g&&(g=this.configuration.selectHeaderAccept(["application/json","image/png"])),void 0!==g&&(f=f.set("Accept",g));let w="json";return g&&g.startsWith("text")&&(w="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/extents.png`,{params:h,responseType:w,withCredentials:this.configuration.withCredentials,headers:f,observe:c,reportProgress:u})}getAllRecordExtentAsJson(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getAllRecordExtentAsJson.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/extents.json`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getAllResources(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getAllResources.");let c=new xt({encoder:this.encoder});null!=r&&(c=this.addToHttpParams(c,r,"sort")),null!=i&&(c=this.addToHttpParams(c,i,"approved")),null!=s&&(c=this.addToHttpParams(c,s,"filter"));let u=this.defaultHeaders,d=l&&l.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(u=u.set("Accept",d));let h="json";return d&&d.startsWith("text")&&(h="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/attachments`,{params:c,responseType:h,withCredentials:this.configuration.withCredentials,headers:u,observe:o,reportProgress:a})}getAsRdf(e,r,i,s,o,a,l,c,u="body",d=!1,h){let f=new xt({encoder:this.encoder});null!=e&&(f=this.addToHttpParams(f,e,"from")),null!=r&&(f=this.addToHttpParams(f,r,"hitsPerPage")),null!=i&&(f=this.addToHttpParams(f,i,"any")),null!=s&&(f=this.addToHttpParams(f,s,"title")),null!=o&&(f=this.addToHttpParams(f,o,"facet.q")),null!=a&&(f=this.addToHttpParams(f,a,"sortBy")),null!=l&&(f=this.addToHttpParams(f,l,"sortOrder")),null!=c&&(f=this.addToHttpParams(f,c,"similarity"));let g=this.defaultHeaders,w=h&&h.httpHeaderAccept;void 0===w&&(w=this.configuration.selectHeaderAccept(["application/json"])),void 0!==w&&(g=g.set("Accept",w));let C="json";return w&&w.startsWith("text")&&(C="text"),this.httpClient.get(`${this.configuration.basePath}/records`,{params:f,responseType:C,withCredentials:this.configuration.withCredentials,headers:g,observe:u,reportProgress:d})}getAssociatedResources(e,r,i,s,o,a="body",l=!1,c){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getAssociatedResources.");let u=new xt({encoder:this.encoder});r&&r.forEach(g=>{u=this.addToHttpParams(u,g,"type")}),null!=i&&(u=this.addToHttpParams(u,i,"approved")),null!=s&&(u=this.addToHttpParams(u,s,"start")),null!=o&&(u=this.addToHttpParams(u,o,"rows"));let d=this.defaultHeaders,h=c&&c.httpHeaderAccept;void 0===h&&(h=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==h&&(d=d.set("Accept",h));let f="json";return h&&h.startsWith("text")&&(f="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/related`,{params:u,responseType:f,withCredentials:this.configuration.withCredentials,headers:d,observe:a,reportProgress:l})}getAssociatedResources1(e,r,i,s,o,a="body",l=!1,c){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getAssociatedResources1.");let u=new xt({encoder:this.encoder});r&&r.forEach(g=>{u=this.addToHttpParams(u,g,"type")}),null!=i&&(u=this.addToHttpParams(u,i,"approved")),null!=s&&(u=this.addToHttpParams(u,s,"start")),null!=o&&(u=this.addToHttpParams(u,o,"rows"));let d=this.defaultHeaders,h=c&&c.httpHeaderAccept;void 0===h&&(h=this.configuration.selectHeaderAccept(["application/json"])),void 0!==h&&(d=d.set("Accept",h));let f="json";return h&&h.startsWith("text")&&(f="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/associated`,{params:u,responseType:f,withCredentials:this.configuration.withCredentials,headers:d,observe:a,reportProgress:l})}getFeatureCatalog(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getFeatureCatalog.");let a=new xt({encoder:this.encoder});null!=r&&(a=this.addToHttpParams(a,r,"approved"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/featureCatalog`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}getOneRecordExtentAsImage(e,r,i,s,o,a,l,c,u="body",d=!1,h){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getOneRecordExtentAsImage.");if(null==r)throw new Error("Required parameter geometryIndex was null or undefined when calling getOneRecordExtentAsImage.");let f=new xt({encoder:this.encoder});null!=i&&(f=this.addToHttpParams(f,i,"mapsrs")),null!=s&&(f=this.addToHttpParams(f,s,"width")),null!=o&&(f=this.addToHttpParams(f,o,"height")),null!=a&&(f=this.addToHttpParams(f,a,"background")),null!=l&&(f=this.addToHttpParams(f,l,"fillColor")),null!=c&&(f=this.addToHttpParams(f,c,"strokeColor"));let g=this.defaultHeaders,w=h&&h.httpHeaderAccept;void 0===w&&(w=this.configuration.selectHeaderAccept(["application/json","image/png"])),void 0!==w&&(g=g.set("Accept",w));let C="json";return w&&w.startsWith("text")&&(C="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/extents/${encodeURIComponent(String(r))}.png`,{params:f,responseType:C,withCredentials:this.configuration.withCredentials,headers:g,observe:u,reportProgress:d})}getPublicationOptions(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/records/sharing/options`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getRecord(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getRecord.");if(null==r)throw new Error("Required parameter accept was null or undefined when calling getRecord.");let a=this.defaultHeaders;null!=r&&(a=a.set("Accept",String(r)));let l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json","text/html","application/xml","application/xhtml+xml","application/pdf","application/zip","application/x-gn-mef-1-zip","application/x-gn-mef-2-zip","*/*"])),void 0!==l&&(a=a.set("Accept",l));let c="json";return l&&l.startsWith("text")&&(c="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}`,{responseType:c,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}getRecordAs(e,r,i,s,o,a,l,c="body",u=!1,d){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getRecordAs.");let h=new xt({encoder:this.encoder});null!=r&&(h=this.addToHttpParams(h,r,"addSchemaLocation")),null!=i&&(h=this.addToHttpParams(h,i,"increasePopularity")),null!=s&&(h=this.addToHttpParams(h,s,"withInfo")),null!=o&&(h=this.addToHttpParams(h,o,"attachment")),null!=a&&(h=this.addToHttpParams(h,a,"approved"));let f=this.defaultHeaders;null!=l&&(f=f.set("Accept",String(l)));let g=d&&d.httpHeaderAccept;void 0===g&&(g=this.configuration.selectHeaderAccept(["application/xml","application/json"])),void 0!==g&&(f=f.set("Accept",g));let w="json";return g&&g.startsWith("text")&&(w="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/formatters/xml`,{params:h,responseType:w,withCredentials:this.configuration.withCredentials,headers:f,observe:c,reportProgress:u})}getRecordAs1(e,r,i,s,o,a,l,c="body",u=!1,d){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getRecordAs1.");let h=new xt({encoder:this.encoder});null!=r&&(h=this.addToHttpParams(h,r,"addSchemaLocation")),null!=i&&(h=this.addToHttpParams(h,i,"increasePopularity")),null!=s&&(h=this.addToHttpParams(h,s,"withInfo")),null!=o&&(h=this.addToHttpParams(h,o,"attachment")),null!=a&&(h=this.addToHttpParams(h,a,"approved"));let f=this.defaultHeaders;null!=l&&(f=f.set("Accept",String(l)));let g=d&&d.httpHeaderAccept;void 0===g&&(g=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==g&&(f=f.set("Accept",g));let w="json";return g&&g.startsWith("text")&&(w="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/formatters/json`,{params:h,responseType:w,withCredentials:this.configuration.withCredentials,headers:f,observe:c,reportProgress:u})}getRecordAsZip(e,r,i,s,o,a,l,c,u="body",d=!1,h){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getRecordAsZip.");let f=new xt({encoder:this.encoder});null!=r&&(f=this.addToHttpParams(f,r,"format")),null!=i&&(f=this.addToHttpParams(f,i,"withRelated")),null!=s&&(f=this.addToHttpParams(f,s,"withXLinksResolved")),null!=o&&(f=this.addToHttpParams(f,o,"withXLinkAttribute")),null!=a&&(f=this.addToHttpParams(f,a,"addSchemaLocation")),null!=l&&(f=this.addToHttpParams(f,l,"approved"));let g=this.defaultHeaders;null!=c&&(g=g.set("Accept",String(c)));let w=h&&h.httpHeaderAccept;void 0===w&&(w=this.configuration.selectHeaderAccept(["application/json"])),void 0!==w&&(g=g.set("Accept",w));let C="json";return w&&w.startsWith("text")&&(C="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/formatters/zip`,{params:f,responseType:C,withCredentials:this.configuration.withCredentials,headers:g,observe:u,reportProgress:d})}getRecordFormattedBy(e,r,i,s,o,a,l,c,u="body",d=!1,h){if(null==e)throw new Error("Required parameter formatterId was null or undefined when calling getRecordFormattedBy.");if(null==r)throw new Error("Required parameter metadataUuid was null or undefined when calling getRecordFormattedBy.");let f=new xt({encoder:this.encoder});null!=s&&(f=this.addToHttpParams(f,s,"width")),null!=o&&(f=this.addToHttpParams(f,o,"mdpath")),null!=a&&(f=this.addToHttpParams(f,a,"language")),null!=l&&(f=this.addToHttpParams(f,l,"output")),null!=c&&(f=this.addToHttpParams(f,c,"approved"));let g=this.defaultHeaders;null!=i&&(g=g.set("Accept",String(i)));let w=h&&h.httpHeaderAccept;void 0===w&&(w=this.configuration.selectHeaderAccept(["application/json"])),void 0!==w&&(g=g.set("Accept",w));let C="json";return w&&w.startsWith("text")&&(C="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(r))}/formatters/${encodeURIComponent(String(e))}`,{params:f,responseType:C,withCredentials:this.configuration.withCredentials,headers:g,observe:u,reportProgress:d})}getRecordPermalink(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getRecordPermalink.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json","text/plain"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/permalink`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getRecordPopularity(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getRecordPopularity.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json","text/plain"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/popularity`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getRecordSharingSettings(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getRecordSharingSettings.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/sharing`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getRecordStatusHistory(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getRecordStatusHistory.");let l=new xt({encoder:this.encoder});null!=r&&(l=this.addToHttpParams(l,r,"details")),null!=i&&(l=this.addToHttpParams(l,i,"sortOrder"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/status`,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}getRecordStatusHistoryByType(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getRecordStatusHistoryByType.");if(null==r)throw new Error("Required parameter type was null or undefined when calling getRecordStatusHistoryByType.");let c=new xt({encoder:this.encoder});null!=i&&(c=this.addToHttpParams(c,i,"details")),null!=s&&(c=this.addToHttpParams(c,s,"sortOrder"));let u=this.defaultHeaders,d=l&&l.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(u=u.set("Accept",d));let h="json";return d&&d.startsWith("text")&&(h="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/status/${encodeURIComponent(String(r))}`,{params:c,responseType:h,withCredentials:this.configuration.withCredentials,headers:u,observe:o,reportProgress:a})}getRecordTags(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getRecordTags.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/tags`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getReportDataDownloads(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter dateFrom was null or undefined when calling getReportDataDownloads.");if(null==r)throw new Error("Required parameter dateTo was null or undefined when calling getReportDataDownloads.");let l=new xt({encoder:this.encoder});null!=e&&(l=this.addToHttpParams(l,e,"dateFrom")),null!=r&&(l=this.addToHttpParams(l,r,"dateTo")),i&&i.forEach(h=>{l=this.addToHttpParams(l,h,"groups")});let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.get(`${this.configuration.basePath}/reports/datadownloads`,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}getReportDataUploads(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter dateFrom was null or undefined when calling getReportDataUploads.");if(null==r)throw new Error("Required parameter dateTo was null or undefined when calling getReportDataUploads.");let l=new xt({encoder:this.encoder});null!=e&&(l=this.addToHttpParams(l,e,"dateFrom")),null!=r&&(l=this.addToHttpParams(l,r,"dateTo")),i&&i.forEach(h=>{l=this.addToHttpParams(l,h,"groups")});let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.get(`${this.configuration.basePath}/reports/datauploads`,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}getReportInternalMetadata(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter dateFrom was null or undefined when calling getReportInternalMetadata.");if(null==r)throw new Error("Required parameter dateTo was null or undefined when calling getReportInternalMetadata.");let l=new xt({encoder:this.encoder});null!=e&&(l=this.addToHttpParams(l,e,"dateFrom")),null!=r&&(l=this.addToHttpParams(l,r,"dateTo")),i&&i.forEach(h=>{l=this.addToHttpParams(l,h,"groups")});let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.get(`${this.configuration.basePath}/reports/metadatainternal`,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}getReportUpdatedMetadata(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter dateFrom was null or undefined when calling getReportUpdatedMetadata.");if(null==r)throw new Error("Required parameter dateTo was null or undefined when calling getReportUpdatedMetadata.");let l=new xt({encoder:this.encoder});null!=e&&(l=this.addToHttpParams(l,e,"dateFrom")),null!=r&&(l=this.addToHttpParams(l,r,"dateTo")),i&&i.forEach(h=>{l=this.addToHttpParams(l,h,"groups")});let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.get(`${this.configuration.basePath}/reports/metadataupdated`,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}getResource(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getResource.");if(null==r)throw new Error("Required parameter resourceId was null or undefined when calling getResource.");let c=new xt({encoder:this.encoder});null!=i&&(c=this.addToHttpParams(c,i,"approved")),null!=s&&(c=this.addToHttpParams(c,s,"size"));let u=this.defaultHeaders,d=l&&l.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(u=u.set("Accept",d));let h="json";return d&&d.startsWith("text")&&(h="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/attachments/${encodeURIComponent(String(r))}`,{params:c,responseType:h,withCredentials:this.configuration.withCredentials,headers:u,observe:o,reportProgress:a})}getSavedQueries(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getSavedQueries.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/query`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getSharingSettings(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/records/sharing`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getStatus(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getStatus.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/status/workflow/last`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getSuggestions(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getSuggestions.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/processes`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getTestSuites(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getTestSuites.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/validate/inspire/testsuites`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getWorkflowStatusByType(e,r,i,s,o,a,l,c,u,d,h,f,g,w="body",C=!1,I){let L=new xt({encoder:this.encoder});e&&e.forEach($=>{L=this.addToHttpParams(L,$,"type")}),null!=r&&(L=this.addToHttpParams(L,r,"details")),null!=i&&(L=this.addToHttpParams(L,i,"sortOrder")),s&&s.forEach($=>{L=this.addToHttpParams(L,$,"author")}),o&&o.forEach($=>{L=this.addToHttpParams(L,$,"owner")}),a&&a.forEach($=>{L=this.addToHttpParams(L,$,"id")}),l&&l.forEach($=>{L=this.addToHttpParams(L,$,"recordIdentifier")}),c&&c.forEach($=>{L=this.addToHttpParams(L,$,"uuid")}),u&&u.forEach($=>{L=this.addToHttpParams(L,$,"statusIds")}),null!=d&&(L=this.addToHttpParams(L,d,"dateFrom")),null!=h&&(L=this.addToHttpParams(L,h,"dateTo")),null!=f&&(L=this.addToHttpParams(L,f,"from")),null!=g&&(L=this.addToHttpParams(L,g,"size"));let ie=this.defaultHeaders,ne=I&&I.httpHeaderAccept;void 0===ne&&(ne=this.configuration.selectHeaderAccept(["application/json"])),void 0!==ne&&(ie=ie.set("Accept",ne));let se="json";return ne&&ne.startsWith("text")&&(se="text"),this.httpClient.get(`${this.configuration.basePath}/records/status/search`,{params:L,responseType:se,withCredentials:this.configuration.withCredentials,headers:ie,observe:w,reportProgress:C})}increaseRecordPopularity(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling increaseRecordPopularity.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json","text/plain"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.post(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/popularity`,null,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}index1(e,r,i="body",s=!1,o){let a=new xt({encoder:this.encoder});e&&e.forEach(d=>{a=this.addToHttpParams(a,d,"uuids")}),null!=r&&(a=this.addToHttpParams(a,r,"bucket"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.get(`${this.configuration.basePath}/records/index`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}insert(e,r,i,s,o,a,l,c,u,d,h,f,g,w,C,I="body",L=!1,ie){let ne=new xt({encoder:this.encoder});null!=e&&(ne=this.addToHttpParams(ne,e,"metadataType")),r&&r.forEach(Fe=>{ne=this.addToHttpParams(ne,Fe,"url")}),null!=i&&(ne=this.addToHttpParams(ne,i,"serverFolder")),null!=s&&(ne=this.addToHttpParams(ne,s,"recursiveSearch")),null!=o&&(ne=this.addToHttpParams(ne,o,"publishToAll")),null!=a&&(ne=this.addToHttpParams(ne,a,"assignToCatalog")),null!=l&&(ne=this.addToHttpParams(ne,l,"uuidProcessing")),null!=c&&(ne=this.addToHttpParams(ne,c,"group")),u&&u.forEach(Fe=>{ne=this.addToHttpParams(ne,Fe,"category")}),null!=d&&(ne=this.addToHttpParams(ne,d,"rejectIfInvalid")),null!=h&&(ne=this.addToHttpParams(ne,h,"transformWith")),null!=f&&(ne=this.addToHttpParams(ne,f,"schema")),null!=g&&(ne=this.addToHttpParams(ne,g,"allowEditGroupMembers")),null!=w&&(ne=this.addToHttpParams(ne,w,"extra"));let se=this.defaultHeaders,$=ie&&ie.httpHeaderAccept;void 0===$&&($=this.configuration.selectHeaderAccept(["application/json"])),void 0!==$&&(se=se.set("Accept",$));const ve=this.configuration.selectHeaderContentType(["application/xml"]);void 0!==ve&&(se=se.set("Content-Type",ve));let Re="json";return $&&$.startsWith("text")&&(Re="text"),this.httpClient.put(`${this.configuration.basePath}/records`,C,{params:ne,responseType:Re,withCredentials:this.configuration.withCredentials,headers:se,observe:I,reportProgress:L})}insertFile(e,r,i,s,o,a,l,c,u,d,h,f,g="body",w=!1,C){let I=new xt({encoder:this.encoder});null!=e&&(I=this.addToHttpParams(I,e,"metadataType")),r&&r.forEach(se=>{I=this.addToHttpParams(I,se,"file")}),null!=i&&(I=this.addToHttpParams(I,i,"uuidProcessing")),null!=s&&(I=this.addToHttpParams(I,s,"group")),o&&o.forEach(se=>{I=this.addToHttpParams(I,se,"category")}),null!=a&&(I=this.addToHttpParams(I,a,"rejectIfInvalid")),null!=l&&(I=this.addToHttpParams(I,l,"publishToAll")),null!=c&&(I=this.addToHttpParams(I,c,"assignToCatalog")),null!=u&&(I=this.addToHttpParams(I,u,"transformWith")),null!=d&&(I=this.addToHttpParams(I,d,"schema")),null!=h&&(I=this.addToHttpParams(I,h,"extra")),null!=f&&(I=this.addToHttpParams(I,f,"allowEditGroupMembers"));let L=this.defaultHeaders,ie=C&&C.httpHeaderAccept;void 0===ie&&(ie=this.configuration.selectHeaderAccept(["application/json"])),void 0!==ie&&(L=L.set("Accept",ie));let ne="json";return ie&&ie.startsWith("text")&&(ne="text"),this.httpClient.post(`${this.configuration.basePath}/records`,null,{params:I,responseType:ne,withCredentials:this.configuration.withCredentials,headers:L,observe:g,reportProgress:w})}insertOgcMapContextFile(e,r,i,s,o,a,l,c,u,d,h,f,g="body",w=!1,C){if(null==e)throw new Error("Required parameter title was null or undefined when calling insertOgcMapContextFile.");let I=new xt({encoder:this.encoder});null!=e&&(I=this.addToHttpParams(I,e,"title")),null!=r&&(I=this.addToHttpParams(I,r,"recordAbstract")),null!=i&&(I=this.addToHttpParams(I,i,"xml")),null!=s&&(I=this.addToHttpParams(I,s,"filename")),null!=o&&(I=this.addToHttpParams(I,o,"url")),null!=a&&(I=this.addToHttpParams(I,a,"viewerUrl")),null!=l&&(I=this.addToHttpParams(I,l,"overview")),null!=c&&(I=this.addToHttpParams(I,c,"overviewFilename")),null!=u&&(I=this.addToHttpParams(I,u,"topic")),null!=d&&(I=this.addToHttpParams(I,d,"publishToAll")),null!=h&&(I=this.addToHttpParams(I,h,"uuidProcessing")),null!=f&&(I=this.addToHttpParams(I,f,"group"));let L=this.defaultHeaders,ie=C&&C.httpHeaderAccept;void 0===ie&&(ie=this.configuration.selectHeaderAccept(["application/json"])),void 0!==ie&&(L=L.set("Accept",ie));let ne="json";return ie&&ie.startsWith("text")&&(ne="text"),this.httpClient.post(`${this.configuration.basePath}/records/importfrommap`,null,{params:I,responseType:ne,withCredentials:this.configuration.withCredentials,headers:L,observe:g,reportProgress:w})}patchResource(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling patchResource.");if(null==r)throw new Error("Required parameter resourceId was null or undefined when calling patchResource.");if(null==i)throw new Error("Required parameter visibility was null or undefined when calling patchResource.");let c=new xt({encoder:this.encoder});null!=i&&(c=this.addToHttpParams(c,i,"visibility")),null!=s&&(c=this.addToHttpParams(c,s,"approved"));let u=this.defaultHeaders,d=l&&l.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(u=u.set("Accept",d));let h="json";return d&&d.startsWith("text")&&(h="text"),this.httpClient.patch(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/attachments/${encodeURIComponent(String(r))}`,null,{params:c,responseType:h,withCredentials:this.configuration.withCredentials,headers:u,observe:o,reportProgress:a})}previewBatchEdit(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter batchEditParameterApiModel was null or undefined when calling previewBatchEdit.");let c=new xt({encoder:this.encoder});r&&r.forEach(w=>{c=this.addToHttpParams(c,w,"uuids")}),null!=i&&(c=this.addToHttpParams(c,i,"bucket")),null!=s&&(c=this.addToHttpParams(c,s,"diffType"));let u=this.defaultHeaders,d=l&&l.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==d&&(u=u.set("Accept",d));const f=this.configuration.selectHeaderContentType(["application/json"]);void 0!==f&&(u=u.set("Content-Type",f));let g="json";return d&&d.startsWith("text")&&(g="text"),this.httpClient.post(`${this.configuration.basePath}/records/batchediting/preview`,e,{params:c,responseType:g,withCredentials:this.configuration.withCredentials,headers:u,observe:o,reportProgress:a})}processRecord(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling processRecord.");if(null==r)throw new Error("Required parameter process was null or undefined when calling processRecord.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==l&&(a=a.set("Accept",l));let c="json";return l&&l.startsWith("text")&&(c="text"),this.httpClient.post(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/processes/${encodeURIComponent(String(r))}`,null,{responseType:c,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}processRecordPreview(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling processRecordPreview.");if(null==r)throw new Error("Required parameter process was null or undefined when calling processRecordPreview.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(a=a.set("Accept",l));let c="json";return l&&l.startsWith("text")&&(c="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/processes/${encodeURIComponent(String(r))}`,{responseType:c,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}publish(e,r,i,s="body",o=!1,a){let l=new xt({encoder:this.encoder});e&&e.forEach(g=>{l=this.addToHttpParams(l,g,"uuids")}),null!=r&&(l=this.addToHttpParams(l,r,"bucket"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==u&&(c=c.set("Accept",u));const h=this.configuration.selectHeaderContentType(["application/json"]);void 0!==h&&(c=c.set("Content-Type",h));let f="json";return u&&u.startsWith("text")&&(f="text"),this.httpClient.put(`${this.configuration.basePath}/records/publish`,i,{params:l,responseType:f,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}publish1(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling publish1.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(a=a.set("Accept",l));const u=this.configuration.selectHeaderContentType(["application/json"]);void 0!==u&&(a=a.set("Content-Type",u));let d="json";return l&&l.startsWith("text")&&(d="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/publish`,r,{responseType:d,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}putResource(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling putResource.");if(null==r)throw new Error("Required parameter file was null or undefined when calling putResource.");let c=new xt({encoder:this.encoder});null!=i&&(c=this.addToHttpParams(c,i,"visibility")),null!=s&&(c=this.addToHttpParams(c,s,"approved"));let u=this.defaultHeaders,d=l&&l.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(u=u.set("Accept",d));let g,w=!1;w=this.canConsumeForm(["multipart/form-data"]),g=w?new FormData:new xt({encoder:this.encoder}),void 0!==r&&(g=g.append("file",r)||g);let I="json";return d&&d.startsWith("text")&&(I="text"),this.httpClient.post(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/attachments`,g,{params:c,responseType:I,withCredentials:this.configuration.withCredentials,headers:u,observe:o,reportProgress:a})}putResourceFromURL(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling putResourceFromURL.");if(null==r)throw new Error("Required parameter url was null or undefined when calling putResourceFromURL.");let c=new xt({encoder:this.encoder});null!=i&&(c=this.addToHttpParams(c,i,"visibility")),null!=r&&(c=this.addToHttpParams(c,r,"url")),null!=s&&(c=this.addToHttpParams(c,s,"approved"));let u=this.defaultHeaders,d=l&&l.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==d&&(u=u.set("Accept",d));let h="json";return d&&d.startsWith("text")&&(h="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/attachments`,null,{params:c,responseType:h,withCredentials:this.configuration.withCredentials,headers:u,observe:o,reportProgress:a})}rateRecord(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling rateRecord.");if(null==r)throw new Error("Required parameter body was null or undefined when calling rateRecord.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==l&&(a=a.set("Accept",l));const u=this.configuration.selectHeaderContentType(["application/json"]);void 0!==u&&(a=a.set("Content-Type",u));let d="json";return l&&l.startsWith("text")&&(d="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/rate`,r,{responseType:d,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}restoreAtStatusSave(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling restoreAtStatusSave.");if(null==r)throw new Error("Required parameter statusId was null or undefined when calling restoreAtStatusSave.");if(null==i)throw new Error("Required parameter userId was null or undefined when calling restoreAtStatusSave.");if(null==s)throw new Error("Required parameter changeDate was null or undefined when calling restoreAtStatusSave.");let c=this.defaultHeaders,u=l&&l.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.post(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/status/${encodeURIComponent(String(r))}.${encodeURIComponent(String(i))}.${encodeURIComponent(String(s))}/restore`,null,{responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:o,reportProgress:a})}saveEdits(e,r,i,s,o,a,l,c,u,d="body",h=!1,f){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling saveEdits.");let g=new xt({encoder:this.encoder});null!=r&&(g=this.addToHttpParams(g,r,"tab")),null!=i&&(g=this.addToHttpParams(g,i,"withAttributes")),null!=s&&(g=this.addToHttpParams(g,s,"withValidationErrors")),null!=o&&(g=this.addToHttpParams(g,o,"minor")),null!=a&&(g=this.addToHttpParams(g,a,"status")),null!=l&&(g=this.addToHttpParams(g,l,"commit")),null!=c&&(g=this.addToHttpParams(g,c,"terminate")),null!=u&&(g=this.addToHttpParams(g,u,"data"));let w=this.defaultHeaders,C=f&&f.httpHeaderAccept;void 0===C&&(C=this.configuration.selectHeaderAccept(["application/json"])),void 0!==C&&(w=w.set("Accept",C));let I="json";return C&&C.startsWith("text")&&(I="text"),this.httpClient.post(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/editor`,null,{params:g,responseType:I,withCredentials:this.configuration.withCredentials,headers:w,observe:d,reportProgress:h})}saveThumbnail(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling saveThumbnail.");if(null==r)throw new Error("Required parameter jsonConfig was null or undefined when calling saveThumbnail.");let l=new xt({encoder:this.encoder});null!=r&&(l=this.addToHttpParams(l,r,"jsonConfig")),null!=i&&(l=this.addToHttpParams(l,i,"rotationAngle"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/attachments/print-thumbnail`,null,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}setGroupAndOwner(e,r,i,s,o,a="body",l=!1,c){if(null==e)throw new Error("Required parameter groupIdentifier was null or undefined when calling setGroupAndOwner.");if(null==r)throw new Error("Required parameter userIdentifier was null or undefined when calling setGroupAndOwner.");let u=new xt({encoder:this.encoder});i&&i.forEach(g=>{u=this.addToHttpParams(u,g,"uuids")}),null!=e&&(u=this.addToHttpParams(u,e,"groupIdentifier")),null!=s&&(u=this.addToHttpParams(u,s,"bucket")),null!=r&&(u=this.addToHttpParams(u,r,"userIdentifier")),null!=o&&(u=this.addToHttpParams(u,o,"approved"));let d=this.defaultHeaders,h=c&&c.httpHeaderAccept;void 0===h&&(h=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==h&&(d=d.set("Accept",h));let f="json";return h&&h.startsWith("text")&&(f="text"),this.httpClient.put(`${this.configuration.basePath}/records/ownership`,null,{params:u,responseType:f,withCredentials:this.configuration.withCredentials,headers:d,observe:a,reportProgress:l})}setRecordGroup(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling setRecordGroup.");if(null==r)throw new Error("Required parameter body was null or undefined when calling setRecordGroup.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(a=a.set("Accept",l));const u=this.configuration.selectHeaderContentType(["application/json"]);void 0!==u&&(a=a.set("Content-Type",u));let d="json";return l&&l.startsWith("text")&&(d="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/group`,r,{responseType:d,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}setRecordOwnership(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling setRecordOwnership.");if(null==r)throw new Error("Required parameter groupIdentifier was null or undefined when calling setRecordOwnership.");if(null==i)throw new Error("Required parameter userIdentifier was null or undefined when calling setRecordOwnership.");let c=new xt({encoder:this.encoder});null!=r&&(c=this.addToHttpParams(c,r,"groupIdentifier")),null!=i&&(c=this.addToHttpParams(c,i,"userIdentifier")),null!=s&&(c=this.addToHttpParams(c,s,"approved"));let u=this.defaultHeaders,d=l&&l.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==d&&(u=u.set("Accept",d));let h="json";return d&&d.startsWith("text")&&(h="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/ownership`,null,{params:c,responseType:h,withCredentials:this.configuration.withCredentials,headers:u,observe:o,reportProgress:a})}setStatus(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling setStatus.");if(null==r)throw new Error("Required parameter metadataStatusParameterApiModel was null or undefined when calling setStatus.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==l&&(a=a.set("Accept",l));const u=this.configuration.selectHeaderContentType(["application/json"]);void 0!==u&&(a=a.set("Content-Type",u));let d="json";return l&&l.startsWith("text")&&(d="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/status`,r,{responseType:d,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}share(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter sharingParameterApiModel was null or undefined when calling share.");let l=new xt({encoder:this.encoder});r&&r.forEach(g=>{l=this.addToHttpParams(l,g,"uuids")}),null!=i&&(l=this.addToHttpParams(l,i,"bucket"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==u&&(c=c.set("Accept",u));const h=this.configuration.selectHeaderContentType(["application/json"]);void 0!==h&&(c=c.set("Content-Type",h));let f="json";return u&&u.startsWith("text")&&(f="text"),this.httpClient.put(`${this.configuration.basePath}/records/sharing`,e,{params:l,responseType:f,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}share1(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling share1.");if(null==r)throw new Error("Required parameter sharingParameterApiModel was null or undefined when calling share1.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(a=a.set("Accept",l));const u=this.configuration.selectHeaderContentType(["application/json"]);void 0!==u&&(a=a.set("Content-Type",u));let d="json";return l&&l.startsWith("text")&&(d="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/sharing`,r,{responseType:d,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}showStatusAfter(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling showStatusAfter.");if(null==r)throw new Error("Required parameter statusId was null or undefined when calling showStatusAfter.");if(null==i)throw new Error("Required parameter userId was null or undefined when calling showStatusAfter.");if(null==s)throw new Error("Required parameter changeDate was null or undefined when calling showStatusAfter.");let c=this.defaultHeaders,u=l&&l.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/status/${encodeURIComponent(String(r))}.${encodeURIComponent(String(i))}.${encodeURIComponent(String(s))}/after`,{responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:o,reportProgress:a})}showStatusBefore(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling showStatusBefore.");if(null==r)throw new Error("Required parameter statusId was null or undefined when calling showStatusBefore.");if(null==i)throw new Error("Required parameter userId was null or undefined when calling showStatusBefore.");if(null==s)throw new Error("Required parameter changeDate was null or undefined when calling showStatusBefore.");let c=this.defaultHeaders,u=l&&l.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/status/${encodeURIComponent(String(r))}.${encodeURIComponent(String(i))}.${encodeURIComponent(String(s))}/before`,{responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:o,reportProgress:a})}startEditing(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling startEditing.");let l=new xt({encoder:this.encoder});null!=r&&(l=this.addToHttpParams(l,r,"currTab")),null!=i&&(l=this.addToHttpParams(l,i,"withAttributes"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/editor`,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}submit(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataBatchSubmitParameterApiModel was null or undefined when calling submit.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==a&&(o=o.set("Accept",a));const c=this.configuration.selectHeaderContentType(["application/json"]);void 0!==c&&(o=o.set("Content-Type",c));let u="json";return a&&a.startsWith("text")&&(u="text"),this.httpClient.put(`${this.configuration.basePath}/records/submit`,e,{responseType:u,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}tagRecord(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling tagRecord.");if(null==r)throw new Error("Required parameter id was null or undefined when calling tagRecord.");let l=new xt({encoder:this.encoder});r&&r.forEach(h=>{l=this.addToHttpParams(l,h,"id")}),null!=i&&(l=this.addToHttpParams(l,i,"clear"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/tags`,null,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}tagRecords(e,r,i,s,o,a="body",l=!1,c){let u=new xt({encoder:this.encoder});e&&e.forEach(g=>{u=this.addToHttpParams(u,g,"uuids")}),null!=r&&(u=this.addToHttpParams(u,r,"bucket")),i&&i.forEach(g=>{u=this.addToHttpParams(u,g,"id")}),s&&s.forEach(g=>{u=this.addToHttpParams(u,g,"removeId")}),null!=o&&(u=this.addToHttpParams(u,o,"clear"));let d=this.defaultHeaders,h=c&&c.httpHeaderAccept;void 0===h&&(h=this.configuration.selectHeaderAccept(["application/json"])),void 0!==h&&(d=d.set("Accept",h));let f="json";return h&&h.startsWith("text")&&(f="text"),this.httpClient.put(`${this.configuration.basePath}/records/tags`,null,{params:u,responseType:f,withCredentials:this.configuration.withCredentials,headers:d,observe:a,reportProgress:l})}trigger(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.put(`${this.configuration.basePath}/records/backups`,null,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}unpublish(e,r,i,s="body",o=!1,a){let l=new xt({encoder:this.encoder});e&&e.forEach(g=>{l=this.addToHttpParams(l,g,"uuids")}),null!=r&&(l=this.addToHttpParams(l,r,"bucket"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==u&&(c=c.set("Accept",u));const h=this.configuration.selectHeaderContentType(["application/json"]);void 0!==h&&(c=c.set("Content-Type",h));let f="json";return u&&u.startsWith("text")&&(f="text"),this.httpClient.put(`${this.configuration.basePath}/records/unpublish`,i,{params:l,responseType:f,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}unpublish1(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling unpublish1.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(a=a.set("Accept",l));const u=this.configuration.selectHeaderContentType(["application/json"]);void 0!==u&&(a=a.set("Content-Type",u));let d="json";return l&&l.startsWith("text")&&(d="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/unpublish`,r,{responseType:d,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}unregisterDoi(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling unregisterDoi.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.delete(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/doi`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}validateRecord(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling validateRecord.");let a=new xt({encoder:this.encoder});null!=r&&(a=this.addToHttpParams(a,r,"isvalid"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/validate/internal`,null,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}validateRecordForInspire(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling validateRecordForInspire.");if(null==r)throw new Error("Required parameter testsuite was null or undefined when calling validateRecordForInspire.");let l=new xt({encoder:this.encoder});null!=r&&(l=this.addToHttpParams(l,r,"testsuite")),null!=i&&(l=this.addToHttpParams(l,i,"mode"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json","text/plain"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.put(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/validate/inspire`,null,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}validateRecords(e,r,i,s="body",o=!1,a){let l=new xt({encoder:this.encoder});e&&e.forEach(h=>{l=this.addToHttpParams(l,h,"uuids")}),null!=r&&(l=this.addToHttpParams(l,r,"approved")),null!=i&&(l=this.addToHttpParams(l,i,"bucket"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.put(`${this.configuration.basePath}/records/validate`,null,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}validateRecordsInspire(e,r,i,s="body",o=!1,a){let l=new xt({encoder:this.encoder});e&&e.forEach(h=>{l=this.addToHttpParams(l,h,"uuids")}),null!=r&&(l=this.addToHttpParams(l,r,"bucket")),null!=i&&(l=this.addToHttpParams(l,i,"mode"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.put(`${this.configuration.basePath}/records/validate/inspire`,null,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}static{this.\u0275fac=function(r){return new(r||n)($e(ui),$e(Ni,8),$e(Tn,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Hk=(()=>{class n{constructor(e,r,i){this.httpClient=e,this.basePath="https://demo.georchestra.org/geonetwork/srv/api",this.defaultHeaders=new Mr,this.configuration=new Tn,i&&(this.configuration=i),"string"!=typeof this.configuration.basePath&&("string"!=typeof r&&(r=this.basePath),this.configuration.basePath=r),this.encoder=this.configuration.encoder||new Bi}canConsumeForm(e){for(const i of e)if("multipart/form-data"===i)return!0;return!1}addToHttpParams(e,r,i){return"object"!=typeof r||r instanceof Date?this.addToHttpParamsRecursive(e,r,i):this.addToHttpParamsRecursive(e,r)}addToHttpParamsRecursive(e,r,i){if(null==r)return e;if("object"==typeof r)if(Array.isArray(r))r.forEach(s=>e=this.addToHttpParamsRecursive(e,s,i));else if(r instanceof Date){if(null==i)throw Error("key may not be null if value is Date");e=e.append(i,r.toISOString().substr(0,10))}else Object.keys(r).forEach(s=>e=this.addToHttpParamsRecursive(e,r[s],null!=i?`${i}.${s}`:s));else{if(null==i)throw Error("key may not be null if value is not object or array");e=e.append(i,r)}return e}deleteThesaurus(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter thesaurus was null or undefined when calling deleteThesaurus.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.delete(`${this.configuration.basePath}/registries/vocabularies/${encodeURIComponent(String(e))}`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}extractEntries(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter xpath was null or undefined when calling extractEntries.");let c=new xt({encoder:this.encoder});r&&r.forEach(f=>{c=this.addToHttpParams(c,f,"uuids")}),null!=i&&(c=this.addToHttpParams(c,i,"bucket")),null!=e&&(c=this.addToHttpParams(c,e,"xpath")),null!=s&&(c=this.addToHttpParams(c,s,"identifierXpath"));let u=this.defaultHeaders,d=l&&l.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(u=u.set("Accept",d));let h="json";return d&&d.startsWith("text")&&(h="text"),this.httpClient.put(`${this.configuration.basePath}/registries/actions/entries/collect`,null,{params:c,responseType:h,withCredentials:this.configuration.withCredentials,headers:u,observe:o,reportProgress:a})}getCrs(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter id was null or undefined when calling getCrs.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/registries/crs/${encodeURIComponent(String(e))}`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getCrsTypes(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/registries/crs/types`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getEntry(e,r,i,s,o,a="body",l=!1,c){if(null==e)throw new Error("Required parameter uuid was null or undefined when calling getEntry.");let u=new xt({encoder:this.encoder});r&&r.forEach(g=>{u=this.addToHttpParams(u,g,"process")}),null!=i&&(u=this.addToHttpParams(u,i,"transformation")),s&&s.forEach(g=>{u=this.addToHttpParams(u,g,"lang")}),null!=o&&(u=this.addToHttpParams(u,o,"schema"));let d=this.defaultHeaders,h=c&&c.httpHeaderAccept;void 0===h&&(h=this.configuration.selectHeaderAccept(["application/json"])),void 0!==h&&(d=d.set("Accept",h));let f="json";return h&&h.startsWith("text")&&(f="text"),this.httpClient.get(`${this.configuration.basePath}/registries/entries/${encodeURIComponent(String(e))}`,{params:u,responseType:f,withCredentials:this.configuration.withCredentials,headers:d,observe:a,reportProgress:l})}getKeywordById(e,r,i,s,o,a,l,c="body",u=!1,d){if(null==e)throw new Error("Required parameter id was null or undefined when calling getKeywordById.");if(null==r)throw new Error("Required parameter thesaurus was null or undefined when calling getKeywordById.");let h=new xt({encoder:this.encoder});null!=e&&(h=this.addToHttpParams(h,e,"id")),null!=r&&(h=this.addToHttpParams(h,r,"thesaurus")),i&&i.forEach(C=>{h=this.addToHttpParams(h,C,"lang")}),null!=s&&(h=this.addToHttpParams(h,s,"keywordOnly")),null!=o&&(h=this.addToHttpParams(h,o,"transformation")),null!=a&&(h=this.addToHttpParams(h,a,"langMap"));let f=this.defaultHeaders;null!=l&&(f=f.set("Accept",String(l)));let g=d&&d.httpHeaderAccept;void 0===g&&(g=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==g&&(f=f.set("Accept",g));let w="json";return g&&g.startsWith("text")&&(w="text"),this.httpClient.post(`${this.configuration.basePath}/registries/vocabularies/keyword`,null,{params:h,responseType:w,withCredentials:this.configuration.withCredentials,headers:f,observe:c,reportProgress:u})}getKeywordById1(e,r,i,s,o,a,l,c="body",u=!1,d){if(null==e)throw new Error("Required parameter id was null or undefined when calling getKeywordById1.");if(null==r)throw new Error("Required parameter thesaurus was null or undefined when calling getKeywordById1.");let h=new xt({encoder:this.encoder});null!=e&&(h=this.addToHttpParams(h,e,"id")),null!=r&&(h=this.addToHttpParams(h,r,"thesaurus")),i&&i.forEach(C=>{h=this.addToHttpParams(h,C,"lang")}),null!=s&&(h=this.addToHttpParams(h,s,"keywordOnly")),null!=o&&(h=this.addToHttpParams(h,o,"transformation")),null!=a&&(h=this.addToHttpParams(h,a,"langMap"));let f=this.defaultHeaders;null!=l&&(f=f.set("Accept",String(l)));let g=d&&d.httpHeaderAccept;void 0===g&&(g=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==g&&(f=f.set("Accept",g));let w="json";return g&&g.startsWith("text")&&(w="text"),this.httpClient.get(`${this.configuration.basePath}/registries/vocabularies/keyword`,{params:h,responseType:w,withCredentials:this.configuration.withCredentials,headers:f,observe:c,reportProgress:u})}getThesaurus(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter thesaurus was null or undefined when calling getThesaurus.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/registries/vocabularies/${encodeURIComponent(String(e))}`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}importCsvAsThesaurus(e,r,i,s,o,a,l,c,u,d,h,f,g,w,C,I="body",L=!1,ie){let ne=new xt({encoder:this.encoder});null!=e&&(ne=this.addToHttpParams(ne,e,"type")),null!=r&&(ne=this.addToHttpParams(ne,r,"dir")),null!=i&&(ne=this.addToHttpParams(ne,i,"encoding")),null!=s&&(ne=this.addToHttpParams(ne,s,"thesaurusNs")),o&&o.forEach(Fe=>{ne=this.addToHttpParams(ne,Fe,"languages")}),null!=a&&(ne=this.addToHttpParams(ne,a,"thesaurusTitle")),null!=l&&(ne=this.addToHttpParams(ne,l,"conceptIdColumn")),null!=c&&(ne=this.addToHttpParams(ne,c,"conceptLabelColumn")),null!=u&&(ne=this.addToHttpParams(ne,u,"conceptDescriptionColumn")),null!=d&&(ne=this.addToHttpParams(ne,d,"conceptBroaderIdColumn")),null!=h&&(ne=this.addToHttpParams(ne,h,"conceptNarrowerIdColumn")),null!=f&&(ne=this.addToHttpParams(ne,f,"conceptRelatedIdColumn")),null!=g&&(ne=this.addToHttpParams(ne,g,"conceptLinkSeparator")),null!=w&&(ne=this.addToHttpParams(ne,w,"importAsThesaurus"));let se=this.defaultHeaders,$=ie&&ie.httpHeaderAccept;void 0===$&&($=this.configuration.selectHeaderAccept(["application/json"])),void 0!==$&&(se=se.set("Accept",$));const ve=this.configuration.selectHeaderContentType(["application/json"]);void 0!==ve&&(se=se.set("Content-Type",ve));let Re="json";return $&&$.startsWith("text")&&(Re="text"),this.httpClient.post(`${this.configuration.basePath}/registries/vocabularies/import/csv`,C,{params:ne,responseType:Re,withCredentials:this.configuration.withCredentials,headers:se,observe:I,reportProgress:L})}importSpatialEntries(e,r,i,s,o,a,l,c,u,d,h,f,g="body",w=!1,C){if(null==e)throw new Error("Required parameter file was null or undefined when calling importSpatialEntries.");let I=new xt({encoder:this.encoder});null!=r&&(I=this.addToHttpParams(I,r,"uuidAttribute")),null!=i&&(I=this.addToHttpParams(I,i,"uuidPattern")),null!=s&&(I=this.addToHttpParams(I,s,"descriptionAttribute")),null!=o&&(I=this.addToHttpParams(I,o,"geomProjectionTo")),null!=a&&(I=this.addToHttpParams(I,a,"lenient")),null!=l&&(I=this.addToHttpParams(I,l,"charset")),null!=c&&(I=this.addToHttpParams(I,c,"onlyBoundingBox")),null!=u&&(I=this.addToHttpParams(I,u,"process")),null!=d&&(I=this.addToHttpParams(I,d,"schema")),null!=h&&(I=this.addToHttpParams(I,h,"uuidProcessing")),null!=f&&(I=this.addToHttpParams(I,f,"group"));let L=this.defaultHeaders,ie=C&&C.httpHeaderAccept;void 0===ie&&(ie=this.configuration.selectHeaderAccept(["application/json"])),void 0!==ie&&(L=L.set("Accept",ie));let $,Y=!1;Y=this.canConsumeForm(["multipart/form-data"]),$=Y?new FormData:new xt({encoder:this.encoder}),void 0!==e&&($=$.append("file",e)||$);let Re="json";return ie&&ie.startsWith("text")&&(Re="text"),this.httpClient.post(`${this.configuration.basePath}/registries/actions/entries/import/spatial`,$,{params:I,responseType:Re,withCredentials:this.configuration.withCredentials,headers:L,observe:g,reportProgress:w})}previewExtractedEntries(e,r,i,s,o="body",a=!1,l){if(null==e)throw new Error("Required parameter xpath was null or undefined when calling previewExtractedEntries.");let c=new xt({encoder:this.encoder});r&&r.forEach(f=>{c=this.addToHttpParams(c,f,"uuids")}),null!=i&&(c=this.addToHttpParams(c,i,"bucket")),null!=e&&(c=this.addToHttpParams(c,e,"xpath")),null!=s&&(c=this.addToHttpParams(c,s,"identifierXpath"));let u=this.defaultHeaders,d=l&&l.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==d&&(u=u.set("Accept",d));let h="json";return d&&d.startsWith("text")&&(h="text"),this.httpClient.get(`${this.configuration.basePath}/registries/actions/entries/collect`,{params:c,responseType:h,withCredentials:this.configuration.withCredentials,headers:u,observe:o,reportProgress:a})}previewUpdatedRecordEntries(e,r,i,s,o,a,l,c="body",u=!1,d){if(null==e)throw new Error("Required parameter xpath was null or undefined when calling previewUpdatedRecordEntries.");let h=new xt({encoder:this.encoder});r&&r.forEach(C=>{h=this.addToHttpParams(h,C,"uuids")}),null!=i&&(h=this.addToHttpParams(h,i,"bucket")),null!=e&&(h=this.addToHttpParams(h,e,"xpath")),null!=s&&(h=this.addToHttpParams(h,s,"identifierXpath")),o&&o.forEach(C=>{h=this.addToHttpParams(h,C,"propertiesToCopy")}),null!=a&&(h=this.addToHttpParams(h,a,"substituteAsXLink")),null!=l&&(h=this.addToHttpParams(h,l,"fq"));let f=this.defaultHeaders,g=d&&d.httpHeaderAccept;void 0===g&&(g=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==g&&(f=f.set("Accept",g));let w="json";return g&&g.startsWith("text")&&(w="text"),this.httpClient.get(`${this.configuration.basePath}/registries/actions/entries/synchronize`,{params:h,responseType:w,withCredentials:this.configuration.withCredentials,headers:f,observe:c,reportProgress:u})}searchCrs(e,r,i,s="body",o=!1,a){let l=new xt({encoder:this.encoder});null!=e&&(l=this.addToHttpParams(l,e,"q")),null!=r&&(l=this.addToHttpParams(l,r,"type")),null!=i&&(l=this.addToHttpParams(l,i,"rows"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.get(`${this.configuration.basePath}/registries/crs`,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}searchKeywords(e,r,i,s,o,a,l,c,u,d="body",h=!1,f){let g=new xt({encoder:this.encoder});null!=e&&(g=this.addToHttpParams(g,e,"q")),null!=r&&(g=this.addToHttpParams(g,r,"lang")),null!=i&&(g=this.addToHttpParams(g,i,"rows")),null!=s&&(g=this.addToHttpParams(g,s,"start")),o&&o.forEach(L=>{g=this.addToHttpParams(g,L,"pLang")}),a&&a.forEach(L=>{g=this.addToHttpParams(g,L,"thesaurus")}),null!=l&&(g=this.addToHttpParams(g,l,"type")),null!=c&&(g=this.addToHttpParams(g,c,"uri")),null!=u&&(g=this.addToHttpParams(g,u,"sort"));let w=this.defaultHeaders,C=f&&f.httpHeaderAccept;void 0===C&&(C=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==C&&(w=w.set("Accept",C));let I="json";return C&&C.startsWith("text")&&(I="text"),this.httpClient.get(`${this.configuration.basePath}/registries/vocabularies/search`,{params:g,responseType:I,withCredentials:this.configuration.withCredentials,headers:w,observe:d,reportProgress:h})}updateRecordEntries(e,r,i,s,o,a,l,c="body",u=!1,d){if(null==e)throw new Error("Required parameter xpath was null or undefined when calling updateRecordEntries.");let h=new xt({encoder:this.encoder});r&&r.forEach(C=>{h=this.addToHttpParams(h,C,"uuids")}),null!=i&&(h=this.addToHttpParams(h,i,"bucket")),null!=e&&(h=this.addToHttpParams(h,e,"xpath")),null!=s&&(h=this.addToHttpParams(h,s,"identifierXpath")),o&&o.forEach(C=>{h=this.addToHttpParams(h,C,"propertiesToCopy")}),null!=a&&(h=this.addToHttpParams(h,a,"substituteAsXLink")),null!=l&&(h=this.addToHttpParams(h,l,"fq"));let f=this.defaultHeaders,g=d&&d.httpHeaderAccept;void 0===g&&(g=this.configuration.selectHeaderAccept(["application/json"])),void 0!==g&&(f=f.set("Accept",g));let w="json";return g&&g.startsWith("text")&&(w="text"),this.httpClient.put(`${this.configuration.basePath}/registries/actions/entries/synchronize`,null,{params:h,responseType:w,withCredentials:this.configuration.withCredentials,headers:f,observe:c,reportProgress:u})}updateThesaurus(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter thesaurus was null or undefined when calling updateThesaurus.");if(null==r)throw new Error("Required parameter thesaurusInfoApiModel was null or undefined when calling updateThesaurus.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(a=a.set("Accept",l));const u=this.configuration.selectHeaderContentType(["application/json"]);void 0!==u&&(a=a.set("Content-Type",u));let d="json";return l&&l.startsWith("text")&&(d="text"),this.httpClient.put(`${this.configuration.basePath}/registries/vocabularies/${encodeURIComponent(String(e))}`,r,{responseType:d,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}uploadThesaurus(e,r,i,s,o="body",a=!1,l){let c=new xt({encoder:this.encoder});null!=e&&(c=this.addToHttpParams(c,e,"type")),null!=r&&(c=this.addToHttpParams(c,r,"dir")),null!=i&&(c=this.addToHttpParams(c,i,"stylesheet"));let u=this.defaultHeaders,d=l&&l.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json","text/xml"])),void 0!==d&&(u=u.set("Accept",d));const f=this.configuration.selectHeaderContentType(["application/json"]);void 0!==f&&(u=u.set("Content-Type",f));let g="json";return d&&d.startsWith("text")&&(g="text"),this.httpClient.post(`${this.configuration.basePath}/registries/vocabularies`,s,{params:c,responseType:g,withCredentials:this.configuration.withCredentials,headers:u,observe:o,reportProgress:a})}uploadThesaurusFromUrl(e,r,i,s,o,a,l,c,u="body",d=!1,h){let f=new xt({encoder:this.encoder});null!=e&&(f=this.addToHttpParams(f,e,"url")),null!=r&&(f=this.addToHttpParams(f,r,"registryUrl")),null!=i&&(f=this.addToHttpParams(f,i,"registryType")),s&&s.forEach(ie=>{f=this.addToHttpParams(f,ie,"registryLanguage")}),null!=o&&(f=this.addToHttpParams(f,o,"type")),null!=a&&(f=this.addToHttpParams(f,a,"dir")),null!=l&&(f=this.addToHttpParams(f,l,"stylesheet"));let g=this.defaultHeaders,w=h&&h.httpHeaderAccept;void 0===w&&(w=this.configuration.selectHeaderAccept(["application/json","text/xml"])),void 0!==w&&(g=g.set("Accept",w));const I=this.configuration.selectHeaderContentType(["application/json"]);void 0!==I&&(g=g.set("Content-Type",I));let L="json";return w&&w.startsWith("text")&&(L="text"),this.httpClient.put(`${this.configuration.basePath}/registries/vocabularies`,c,{params:f,responseType:L,withCredentials:this.configuration.withCredentials,headers:g,observe:u,reportProgress:d})}static{this.\u0275fac=function(r){return new(r||n)($e(ui),$e(Ni,8),$e(Tn,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pv=(()=>{class n{constructor(e,r,i){this.httpClient=e,this.basePath="https://demo.georchestra.org/geonetwork/srv/api",this.defaultHeaders=new Mr,this.configuration=new Tn,i&&(this.configuration=i),"string"!=typeof this.configuration.basePath&&("string"!=typeof r&&(r=this.basePath),this.configuration.basePath=r),this.encoder=this.configuration.encoder||new Bi}addToHttpParams(e,r,i){return"object"!=typeof r||r instanceof Date?this.addToHttpParamsRecursive(e,r,i):this.addToHttpParamsRecursive(e,r)}addToHttpParamsRecursive(e,r,i){if(null==r)return e;if("object"==typeof r)if(Array.isArray(r))r.forEach(s=>e=this.addToHttpParamsRecursive(e,s,i));else if(r instanceof Date){if(null==i)throw Error("key may not be null if value is Date");e=e.append(i,r.toISOString().substr(0,10))}else Object.keys(r).forEach(s=>e=this.addToHttpParamsRecursive(e,r[s],null!=i?`${i}.${s}`:s));else{if(null==i)throw Error("key may not be null if value is not object or array");e=e.append(i,r)}return e}msearch(e,r,i,s="body",o=!1,a){let l=new xt({encoder:this.encoder});null!=e&&(l=this.addToHttpParams(l,e,"bucket")),r&&r.forEach(g=>{l=this.addToHttpParams(l,g,"relatedType")});let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));const h=this.configuration.selectHeaderContentType(["application/json"]);void 0!==h&&(c=c.set("Content-Type",h));let f="json";return u&&u.startsWith("text")&&(f="text"),this.httpClient.post(`${this.configuration.basePath}/search/records/_msearch`,i,{params:l,responseType:f,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}search(e,r,i,s="body",o=!1,a){let l=new xt({encoder:this.encoder});null!=e&&(l=this.addToHttpParams(l,e,"bucket")),r&&r.forEach(g=>{l=this.addToHttpParams(l,g,"relatedType")});let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));const h=this.configuration.selectHeaderContentType(["application/json"]);void 0!==h&&(c=c.set("Content-Type",h));let f="json";return u&&u.startsWith("text")&&(f="text"),this.httpClient.post(`${this.configuration.basePath}/search/records/_search`,i,{params:l,responseType:f,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}static{this.\u0275fac=function(r){return new(r||n)($e(ui),$e(Ni,8),$e(Tn,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ex=(()=>{class n{constructor(e,r,i){this.httpClient=e,this.basePath="https://demo.georchestra.org/geonetwork/srv/api",this.defaultHeaders=new Mr,this.configuration=new Tn,i&&(this.configuration=i),"string"!=typeof this.configuration.basePath&&("string"!=typeof r&&(r=this.basePath),this.configuration.basePath=r),this.encoder=this.configuration.encoder||new Bi}addToHttpParams(e,r,i){return"object"!=typeof r||r instanceof Date?this.addToHttpParamsRecursive(e,r,i):this.addToHttpParamsRecursive(e,r)}addToHttpParamsRecursive(e,r,i){if(null==r)return e;if("object"==typeof r)if(Array.isArray(r))r.forEach(s=>e=this.addToHttpParamsRecursive(e,s,i));else if(r instanceof Date){if(null==i)throw Error("key may not be null if value is Date");e=e.append(i,r.toISOString().substr(0,10))}else Object.keys(r).forEach(s=>e=this.addToHttpParamsRecursive(e,r[s],null!=i?`${i}.${s}`:s));else{if(null==i)throw Error("key may not be null if value is not object or array");e=e.append(i,r)}return e}commitIndexChanges(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.put(`${this.configuration.basePath}/site/index/commit`,null,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getInformation(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/site/info`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getLastActivity(e,r="body",i=!1,s){let o=new xt({encoder:this.encoder});null!=e&&(o=this.addToHttpParams(o,e,"lines"));let a=this.defaultHeaders,l=s&&s.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json","text/plain"])),void 0!==l&&(a=a.set("Accept",l));let c="json";return l&&l.startsWith("text")&&(c="text"),this.httpClient.get(`${this.configuration.basePath}/site/logging/activity`,{params:o,responseType:c,withCredentials:this.configuration.withCredentials,headers:a,observe:r,reportProgress:i})}getLastActivityInAZip(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/site/logging/activity/zip`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getLogFiles(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/site/logging`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getNotificationLevel(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/site/info/notificationLevels`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getProxyConfiguration(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/site/info/proxy`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getRobotsText(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/robots.txt`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getSettingsDetails(e,r,i="body",s=!1,o){let a=new xt({encoder:this.encoder});e&&e.forEach(d=>{a=this.addToHttpParams(a,d,"set")}),r&&r.forEach(d=>{a=this.addToHttpParams(a,d,"key")});let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.get(`${this.configuration.basePath}/site/settings/details`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}getSettingsSet(e,r,i="body",s=!1,o){let a=new xt({encoder:this.encoder});e&&e.forEach(d=>{a=this.addToHttpParams(a,d,"set")}),r&&r.forEach(d=>{a=this.addToHttpParams(a,d,"key")});let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.get(`${this.configuration.basePath}/site/settings`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}getSiteOrPortalDescription(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/site`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getSitemap(e,r,i="body",s=!1,o){let a=new xt({encoder:this.encoder});null!=e&&(a=this.addToHttpParams(a,e,"format")),null!=r&&(a=this.addToHttpParams(a,r,"doc"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.get(`${this.configuration.basePath}/sitemap`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}getSystemInfo(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/site/info/build`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getXslTransformations(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/site/info/transforms`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}index(e,r,i,s,o,a="body",l=!1,c){let u=new xt({encoder:this.encoder});null!=e&&(u=this.addToHttpParams(u,e,"reset")),null!=r&&(u=this.addToHttpParams(u,r,"asynchronous")),null!=i&&(u=this.addToHttpParams(u,i,"havingXlinkOnly")),s&&s.forEach(g=>{u=this.addToHttpParams(u,g,"indices")}),null!=o&&(u=this.addToHttpParams(u,o,"bucket"));let d=this.defaultHeaders,h=c&&c.httpHeaderAccept;void 0===h&&(h=this.configuration.selectHeaderAccept(["application/json"])),void 0!==h&&(d=d.set("Accept",h));let f="json";return h&&h.startsWith("text")&&(f="text"),this.httpClient.put(`${this.configuration.basePath}/site/index`,null,{params:u,responseType:f,withCredentials:this.configuration.withCredentials,headers:d,observe:a,reportProgress:l})}indexAndDbSynchronizationStatus(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/site/index/synchronized`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}indexCommit(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/site/index/commit`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}indexStatus(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/site/index/status`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}isCasEnabled(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/site/info/isCasEnabled`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}isIndexing(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/site/indexing`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}isReadOnly(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/site/info/readonly`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}saveSettings(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter allRequestParams was null or undefined when calling saveSettings.");let o=new xt({encoder:this.encoder});null!=e&&(o=this.addToHttpParams(o,e,"allRequestParams"));let a=this.defaultHeaders,l=s&&s.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(a=a.set("Accept",l));let c="json";return l&&l.startsWith("text")&&(c="text"),this.httpClient.post(`${this.configuration.basePath}/site/settings`,null,{params:o,responseType:c,withCredentials:this.configuration.withCredentials,headers:a,observe:r,reportProgress:i})}setLogo(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter file was null or undefined when calling setLogo.");let a=new xt({encoder:this.encoder});null!=e&&(a=this.addToHttpParams(a,e,"file")),null!=r&&(a=this.addToHttpParams(a,r,"asFavicon"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.put(`${this.configuration.basePath}/site/logo`,null,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}updateStagingProfile(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter profile was null or undefined when calling updateStagingProfile.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.put(`${this.configuration.basePath}/site/info/staging/${encodeURIComponent(String(e))}`,null,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}static{this.\u0275fac=function(r){return new(r||n)($e(ui),$e(Ni,8),$e(Tn,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Dk=(()=>{class n{constructor(e,r,i){this.httpClient=e,this.basePath="https://demo.georchestra.org/geonetwork/srv/api",this.defaultHeaders=new Mr,this.configuration=new Tn,i&&(this.configuration=i),"string"!=typeof this.configuration.basePath&&("string"!=typeof r&&(r=this.basePath),this.configuration.basePath=r),this.encoder=this.configuration.encoder||new Bi}addToHttpParams(e,r,i){return"object"!=typeof r||r instanceof Date?this.addToHttpParamsRecursive(e,r,i):this.addToHttpParamsRecursive(e,r)}addToHttpParamsRecursive(e,r,i){if(null==r)return e;if("object"==typeof r)if(Array.isArray(r))r.forEach(s=>e=this.addToHttpParamsRecursive(e,s,i));else if(r instanceof Date){if(null==i)throw Error("key may not be null if value is Date");e=e.append(i,r.toISOString().substr(0,10))}else Object.keys(r).forEach(s=>e=this.addToHttpParamsRecursive(e,r[s],null!=i?`${i}.${s}`:s));else{if(null==i)throw Error("key may not be null if value is not object or array");e=e.append(i,r)}return e}addTranslations(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter translationsApiModel was null or undefined when calling addTranslations.");let a=new xt({encoder:this.encoder});null!=r&&(a=this.addToHttpParams(a,r,"replace"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));const d=this.configuration.selectHeaderContentType(["application/json"]);void 0!==d&&(l=l.set("Content-Type",d));let h="json";return c&&c.startsWith("text")&&(h="text"),this.httpClient.put(`${this.configuration.basePath}/i18n/db/translations`,e,{params:a,responseType:h,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}addTranslationsFor(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter key was null or undefined when calling addTranslationsFor.");if(null==r)throw new Error("Required parameter requestBody was null or undefined when calling addTranslationsFor.");let l=new xt({encoder:this.encoder});null!=i&&(l=this.addToHttpParams(l,i,"replace"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json"])),void 0!==u&&(c=c.set("Accept",u));const h=this.configuration.selectHeaderContentType(["application/json"]);void 0!==h&&(c=c.set("Content-Type",h));let f="json";return u&&u.startsWith("text")&&(f="text"),this.httpClient.put(`${this.configuration.basePath}/i18n/db/translations/${encodeURIComponent(String(e))}`,r,{params:l,responseType:f,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}buildFilter(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter filters was null or undefined when calling buildFilter.");let o=new xt({encoder:this.encoder});null!=e&&(o=this.addToHttpParams(o,e,"filters"));let a=this.defaultHeaders,l=s&&s.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json","application/xml"])),void 0!==l&&(a=a.set("Accept",l));let c="json";return l&&l.startsWith("text")&&(c="text"),this.httpClient.post(`${this.configuration.basePath}/tools/ogc/filter`,null,{params:o,responseType:c,withCredentials:this.configuration.withCredentials,headers:a,observe:r,reportProgress:i})}buildSLD(e,r,i,s="body",o=!1,a){if(null==e)throw new Error("Required parameter url was null or undefined when calling buildSLD.");if(null==r)throw new Error("Required parameter layers was null or undefined when calling buildSLD.");if(null==i)throw new Error("Required parameter filters was null or undefined when calling buildSLD.");let l=new xt({encoder:this.encoder});null!=e&&(l=this.addToHttpParams(l,e,"url")),null!=r&&(l=this.addToHttpParams(l,r,"layers")),null!=i&&(l=this.addToHttpParams(l,i,"filters"));let c=this.defaultHeaders,u=a&&a.httpHeaderAccept;void 0===u&&(u=this.configuration.selectHeaderAccept(["application/json","text/plain"])),void 0!==u&&(c=c.set("Accept",u));let d="json";return u&&u.startsWith("text")&&(d="text"),this.httpClient.post(`${this.configuration.basePath}/tools/ogc/sld`,null,{params:l,responseType:d,withCredentials:this.configuration.withCredentials,headers:c,observe:s,reportProgress:o})}callStep(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter stepName was null or undefined when calling callStep.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json","text/plain"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.put(`${this.configuration.basePath}/tools/migration/steps/${encodeURIComponent(String(e))}`,null,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}cleanTranslationsPackagesCache(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.delete(`${this.configuration.basePath}/i18n/cache`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}deleteTranslations(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter key was null or undefined when calling deleteTranslations.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.delete(`${this.configuration.basePath}/i18n/db/translations/${encodeURIComponent(String(e))}`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}deteleSLD(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.delete(`${this.configuration.basePath}/tools/ogc/sld`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}downloadSLD(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter id was null or undefined when calling downloadSLD.");if(null==r)throw new Error("Required parameter extension was null or undefined when calling downloadSLD.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(a=a.set("Accept",l));let c="json";return l&&l.startsWith("text")&&(c="text"),this.httpClient.get(`${this.configuration.basePath}/tools/ogc/sld/${encodeURIComponent(String(e))}.${encodeURIComponent(String(r))}`,{responseType:c,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}getCustomTranslations(e,r="body",i=!1,s){let o=new xt({encoder:this.encoder});e&&e.forEach(u=>{o=this.addToHttpParams(o,u,"type")});let a=this.defaultHeaders,l=s&&s.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(a=a.set("Accept",l));let c="json";return l&&l.startsWith("text")&&(c="text"),this.httpClient.get(`${this.configuration.basePath}/i18n/db/custom`,{params:o,responseType:c,withCredentials:this.configuration.withCredentials,headers:a,observe:r,reportProgress:i})}getDbTranslations(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/i18n/db/translations`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getSLD(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/tools/ogc/sld`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getTranslations(e,r="body",i=!1,s){let o=new xt({encoder:this.encoder});e&&e.forEach(u=>{o=this.addToHttpParams(o,u,"type")});let a=this.defaultHeaders,l=s&&s.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(a=a.set("Accept",l));let c="json";return l&&l.startsWith("text")&&(c="text"),this.httpClient.get(`${this.configuration.basePath}/i18n/db`,{params:o,responseType:c,withCredentials:this.configuration.withCredentials,headers:a,observe:r,reportProgress:i})}getTranslationsPackage(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/i18n/packages`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getTranslationsPackage1(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter pack was null or undefined when calling getTranslationsPackage1.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/i18n/packages/${encodeURIComponent(String(e))}`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}removeAllTranslations(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.delete(`${this.configuration.basePath}/i18n/db/translations`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}testMailConfiguration(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json","text/plain"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/tools/mail/test`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}static{this.\u0275fac=function(r){return new(r||n)($e(ui),$e(Ni,8),$e(Tn,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vk=(()=>{class n{constructor(e,r,i){this.httpClient=e,this.basePath="https://demo.georchestra.org/geonetwork/srv/api",this.defaultHeaders=new Mr,this.configuration=new Tn,i&&(this.configuration=i),"string"!=typeof this.configuration.basePath&&("string"!=typeof r&&(r=this.basePath),this.configuration.basePath=r),this.encoder=this.configuration.encoder||new Bi}addToHttpParams(e,r,i){return"object"!=typeof r||r instanceof Date?this.addToHttpParamsRecursive(e,r,i):this.addToHttpParamsRecursive(e,r)}addToHttpParamsRecursive(e,r,i){if(null==r)return e;if("object"==typeof r)if(Array.isArray(r))r.forEach(s=>e=this.addToHttpParamsRecursive(e,s,i));else if(r instanceof Date){if(null==i)throw Error("key may not be null if value is Date");e=e.append(i,r.toISOString().substr(0,10))}else Object.keys(r).forEach(s=>e=this.addToHttpParamsRecursive(e,r[s],null!=i?`${i}.${s}`:s));else{if(null==i)throw Error("key may not be null if value is not object or array");e=e.append(i,r)}return e}deleteUserFeedback(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter uuid was null or undefined when calling deleteUserFeedback.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.delete(`${this.configuration.basePath}/userfeedback/${encodeURIComponent(String(e))}`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getMetadataRating(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getMetadataRating.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/userfeedbackrating`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getRatingCriteria(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/userfeedback/ratingcriteria`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getUserComment(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter uuid was null or undefined when calling getUserComment.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/userfeedback/${encodeURIComponent(String(e))}`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getUserComments(e,r,i="body",s=!1,o){let a=new xt({encoder:this.encoder});null!=e&&(a=this.addToHttpParams(a,e,"metadataUuid")),null!=r&&(a=this.addToHttpParams(a,r,"size"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.get(`${this.configuration.basePath}/userfeedback`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}getUserCommentsOnARecord(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling getUserCommentsOnARecord.");let a=new xt({encoder:this.encoder});null!=r&&(a=this.addToHttpParams(a,r,"size"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.get(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/userfeedback`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}newUserFeedback(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter userFeedbackDTOApiModel was null or undefined when calling newUserFeedback.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));const c=this.configuration.selectHeaderContentType(["application/json"]);void 0!==c&&(o=o.set("Content-Type",c));let u="json";return a&&a.startsWith("text")&&(u="text"),this.httpClient.post(`${this.configuration.basePath}/userfeedback`,e,{responseType:u,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}publishFeedback(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter uuid was null or undefined when calling publishFeedback.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/userfeedback/${encodeURIComponent(String(e))}/publish`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}sendEmailToContact(e,r,i,s,o,a,l,c,u,d,h,f,g="body",w=!1,C){if(null==e)throw new Error("Required parameter metadataUuid was null or undefined when calling sendEmailToContact.");if(null==r)throw new Error("Required parameter name was null or undefined when calling sendEmailToContact.");if(null==i)throw new Error("Required parameter org was null or undefined when calling sendEmailToContact.");if(null==s)throw new Error("Required parameter email was null or undefined when calling sendEmailToContact.");if(null==o)throw new Error("Required parameter comments was null or undefined when calling sendEmailToContact.");let I=new xt({encoder:this.encoder});null!=a&&(I=this.addToHttpParams(I,a,"recaptcha")),null!=r&&(I=this.addToHttpParams(I,r,"name")),null!=i&&(I=this.addToHttpParams(I,i,"org")),null!=s&&(I=this.addToHttpParams(I,s,"email")),null!=o&&(I=this.addToHttpParams(I,o,"comments")),null!=l&&(I=this.addToHttpParams(I,l,"phone")),null!=c&&(I=this.addToHttpParams(I,c,"subject")),null!=u&&(I=this.addToHttpParams(I,u,"function")),null!=d&&(I=this.addToHttpParams(I,d,"type")),null!=h&&(I=this.addToHttpParams(I,h,"category")),null!=f&&(I=this.addToHttpParams(I,f,"metadataEmail"));let L=this.defaultHeaders,ie=C&&C.httpHeaderAccept;void 0===ie&&(ie=this.configuration.selectHeaderAccept(["application/json"])),void 0!==ie&&(L=L.set("Accept",ie));let ne="json";return ie&&ie.startsWith("text")&&(ne="text"),this.httpClient.post(`${this.configuration.basePath}/records/${encodeURIComponent(String(e))}/alert`,null,{params:I,responseType:ne,withCredentials:this.configuration.withCredentials,headers:L,observe:g,reportProgress:w})}static{this.\u0275fac=function(r){return new(r||n)($e(ui),$e(Ni,8),$e(Tn,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kk=(()=>{class n{constructor(e,r,i){this.httpClient=e,this.basePath="https://demo.georchestra.org/geonetwork/srv/api",this.defaultHeaders=new Mr,this.configuration=new Tn,i&&(this.configuration=i),"string"!=typeof this.configuration.basePath&&("string"!=typeof r&&(r=this.basePath),this.configuration.basePath=r),this.encoder=this.configuration.encoder||new Bi}addToHttpParams(e,r,i){return"object"!=typeof r||r instanceof Date?this.addToHttpParamsRecursive(e,r,i):this.addToHttpParamsRecursive(e,r)}addToHttpParamsRecursive(e,r,i){if(null==r)return e;if("object"==typeof r)if(Array.isArray(r))r.forEach(s=>e=this.addToHttpParamsRecursive(e,s,i));else if(r instanceof Date){if(null==i)throw Error("key may not be null if value is Date");e=e.append(i,r.toISOString().substr(0,10))}else Object.keys(r).forEach(s=>e=this.addToHttpParamsRecursive(e,r[s],null!=i?`${i}.${s}`:s));else{if(null==i)throw Error("key may not be null if value is not object or array");e=e.append(i,r)}return e}checkUserPropertyExist(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter property was null or undefined when calling checkUserPropertyExist.");if(null==r)throw new Error("Required parameter exist was null or undefined when calling checkUserPropertyExist.");let a=new xt({encoder:this.encoder});null!=r&&(a=this.addToHttpParams(a,r,"exist"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json","*/*"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.get(`${this.configuration.basePath}/users/properties/${encodeURIComponent(String(e))}`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}createUser(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter userDtoApiModel was null or undefined when calling createUser.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));const c=this.configuration.selectHeaderContentType(["application/json"]);void 0!==c&&(o=o.set("Content-Type",c));let u="json";return a&&a.startsWith("text")&&(u="text"),this.httpClient.put(`${this.configuration.basePath}/users`,e,{responseType:u,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}deleteUser(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter userIdentifier was null or undefined when calling deleteUser.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.delete(`${this.configuration.basePath}/users/${encodeURIComponent(String(e))}`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getRecordOwners(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/users/owners`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}getUser(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter userIdentifier was null or undefined when calling getUser.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/users/${encodeURIComponent(String(e))}`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}getUserIdenticon(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter userIdentifier was null or undefined when calling getUserIdenticon.");let a=new xt({encoder:this.encoder});null!=r&&(a=this.addToHttpParams(a,r,"size"));let l=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(l=l.set("Accept",c));let u="json";return c&&c.startsWith("text")&&(u="text"),this.httpClient.get(`${this.configuration.basePath}/users/${encodeURIComponent(String(e))}.png`,{params:a,responseType:u,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:s})}getUsers(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/users`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}registerUser(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter userRegisterDtoApiModel was null or undefined when calling registerUser.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json","text/plain"])),void 0!==a&&(o=o.set("Accept",a));const c=this.configuration.selectHeaderContentType(["application/json"]);void 0!==c&&(o=o.set("Content-Type",c));let u="json";return a&&a.startsWith("text")&&(u="text"),this.httpClient.put(`${this.configuration.basePath}/user/actions/register`,e,{responseType:u,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}resetUserPassword(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter userIdentifier was null or undefined when calling resetUserPassword.");if(null==r)throw new Error("Required parameter passwordResetDtoApiModel was null or undefined when calling resetUserPassword.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(a=a.set("Accept",l));const u=this.configuration.selectHeaderContentType(["application/json"]);void 0!==u&&(a=a.set("Content-Type",u));let d="json";return l&&l.startsWith("text")&&(d="text"),this.httpClient.post(`${this.configuration.basePath}/users/${encodeURIComponent(String(e))}/actions/forget-password`,r,{responseType:d,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}retrieveAllUserGroups(e="body",r=!1,i){let s=this.defaultHeaders,o=i&&i.httpHeaderAccept;void 0===o&&(o=this.configuration.selectHeaderAccept(["application/json"])),void 0!==o&&(s=s.set("Accept",o));let a="json";return o&&o.startsWith("text")&&(a="text"),this.httpClient.get(`${this.configuration.basePath}/users/groups`,{responseType:a,withCredentials:this.configuration.withCredentials,headers:s,observe:e,reportProgress:r})}retrieveUserGroups(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter userIdentifier was null or undefined when calling retrieveUserGroups.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));let l="json";return a&&a.startsWith("text")&&(l="text"),this.httpClient.get(`${this.configuration.basePath}/users/${encodeURIComponent(String(e))}/groups`,{responseType:l,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}saveOwners(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter transferRequestApiModel was null or undefined when calling saveOwners.");let o=this.defaultHeaders,a=s&&s.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["application/json"])),void 0!==a&&(o=o.set("Accept",a));const c=this.configuration.selectHeaderContentType(["application/json"]);void 0!==c&&(o=o.set("Content-Type",c));let u="json";return a&&a.startsWith("text")&&(u="text"),this.httpClient.put(`${this.configuration.basePath}/users/owners`,e,{responseType:u,withCredentials:this.configuration.withCredentials,headers:o,observe:r,reportProgress:i})}sendPasswordByEmail(e,r="body",i=!1,s){if(null==e)throw new Error("Required parameter username was null or undefined when calling sendPasswordByEmail.");let o=new xt({encoder:this.encoder});null!=e&&(o=this.addToHttpParams(o,e,"username"));let a=this.defaultHeaders,l=s&&s.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json","text/plain"])),void 0!==l&&(a=a.set("Accept",l));let c="json";return l&&l.startsWith("text")&&(c="text"),this.httpClient.put(`${this.configuration.basePath}/user/actions/forgot-password`,null,{params:o,responseType:c,withCredentials:this.configuration.withCredentials,headers:a,observe:r,reportProgress:i})}updatePassword(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter username was null or undefined when calling updatePassword.");if(null==r)throw new Error("Required parameter passwordUpdateParameterApiModel was null or undefined when calling updatePassword.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json","text/plain"])),void 0!==l&&(a=a.set("Accept",l));const u=this.configuration.selectHeaderContentType(["application/json"]);void 0!==u&&(a=a.set("Content-Type",u));let d="json";return l&&l.startsWith("text")&&(d="text"),this.httpClient.patch(`${this.configuration.basePath}/user/${encodeURIComponent(String(e))}`,r,{responseType:d,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}updateUser(e,r,i="body",s=!1,o){if(null==e)throw new Error("Required parameter userIdentifier was null or undefined when calling updateUser.");if(null==r)throw new Error("Required parameter userDtoApiModel was null or undefined when calling updateUser.");let a=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(a=a.set("Accept",l));const u=this.configuration.selectHeaderContentType(["application/json"]);void 0!==u&&(a=a.set("Content-Type",u));let d="json";return l&&l.startsWith("text")&&(d="text"),this.httpClient.put(`${this.configuration.basePath}/users/${encodeURIComponent(String(e))}`,r,{responseType:d,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:s})}static{this.\u0275fac=function(r){return new(r||n)($e(ui),$e(Ni,8),$e(Tn,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bp(n){return!!n&&(n instanceof kr||Jt(n.lift)&&Jt(n.subscribe))}const{isArray:wse}=Array,{getPrototypeOf:yse,prototype:Cse,keys:bse}=Object;function Fk(n){if(1===n.length){const t=n[0];if(wse(t))return{args:t,keys:null};if(function xse(n){return n&&"object"==typeof n&&yse(n)===Cse}(t)){const e=bse(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:_se}=Array;function tx(n){return Te(t=>function Ise(n,t){return _se(t)?n(...t):n(t)}(n,t))}function Pk(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function gv(...n){const t=Ob(n),{args:e,keys:r}=Fk(n),i=new kr(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;wa(e[u]).subscribe(de(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?Pk(r,a):a),s.complete())}))}});return t?i.pipe(tx(t)):i}function Bk(n=1/0){return yp(jr,n)}function Mw(...n){return function Ase(){return Bk(1)}()(rd(n,uv(n)))}function Nk(n){return new kr(t=>{wa(n()).subscribe(t)})}const Ew=new kr(n=>n.complete());function Sw(n){return n<=0?()=>Ew:Si((t,e)=>{let r=0;t.subscribe(de(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}const nx={now:()=>(nx.delegate||Date).now(),delegate:void 0};class Ese extends yi{constructor(t=1/0,e=1/0,r=nx){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;e||(r.push(t),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!t.closed;o+=r?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=e.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function rx(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new We({next:()=>{r.unsubscribe(),n()}});return wa(t(...e)).subscribe(r)}function Ha(n,t,e){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=n):r=n??1/0,function Sse(n={}){const{connector:t=()=>new yi,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},g=()=>{const w=o;f(),w?.unsubscribe()};return Si((w,C)=>{c++,!d&&!u&&h();const I=l=l??t();C.add(()=>{c--,0===c&&!d&&!u&&(a=rx(g,i))}),I.subscribe(C),!o&&c>0&&(o=new We({next:L=>I.next(L),error:L=>{d=!0,h(),a=rx(f,e,L),I.error(L)},complete:()=>{u=!0,h(),a=rx(f,r),I.complete()}}),wa(w).subscribe(o))})(s)}}({connector:()=>new Ese(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}class mv{}let Tse=(()=>{class n extends mv{getTranslation(e){return zi({})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=xf(n)))(i||n)}})();static \u0275prov=Vt({token:n,factory:n.\u0275fac})}return n})();class Ok{}let zse=(()=>{class n{handle(e){return e.key}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Vt({token:n,factory:n.\u0275fac})}return n})();function Tw(n,t){if(n===t)return!0;if(null===n||null===t)return!1;if(n!=n&&t!=t)return!0;const e=typeof n;let i,s,o;if(e==typeof t&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(t))return!1;for(s in o=Object.create(null),n){if(!Tw(n[s],t[s]))return!1;o[s]=!0}for(s in t)if(!(s in o)&&typeof t[s]<"u")return!1;return!0}if(!Array.isArray(t))return!1;if((i=n.length)==t.length){for(s=0;s<i;s++)if(!Tw(n[s],t[s]))return!1;return!0}}return!1}function dh(n){return typeof n<"u"&&null!==n}function vv(n){return zw(n)&&!ix(n)&&null!==n}function zw(n){return"object"==typeof n}function ix(n){return Array.isArray(n)}function sx(n){return"string"==typeof n}function ox(n,t){const e=Object.assign({},n);return zw(n)?(zw(n)&&zw(t)&&Object.keys(t).forEach(r=>{vv(t[r])?r in n?e[r]=ox(n[r],t[r]):Object.assign(e,{[r]:t[r]}):Object.assign(e,{[r]:t[r]})}),e):ox({},t)}function ax(n,t){const e=t.split(".");t="";do{t+=e.shift(),dh(n)&&dh(n[t])&&(vv(n[t])||ix(n[t])||!e.length)?(n=n[t],t=""):e.length?t+=".":n=void 0}while(e.length);return n}class Rw{}let Gk=(()=>{class n extends Rw{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,r){return sx(e)?this.interpolateString(e,r):function Rse(n){return"function"==typeof n}(e)?this.interpolateFunction(e,r):void 0}interpolateFunction(e,r){return e(r)}interpolateString(e,r){return r?e.replace(this.templateMatcher,(i,s)=>{const o=ax(r,s);return dh(o)?o:i}):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=xf(n)))(i||n)}})();static \u0275prov=Vt({token:n,factory:n.\u0275fac})}return n})();class xp{}let Hse=(()=>{class n extends xp{compile(e,r){return e}compileTranslations(e,r){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=xf(n)))(i||n)}})();static \u0275prov=Vt({token:n,factory:n.\u0275fac})}return n})();class lx{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Zs;onLangChange=new Zs;onDefaultLangChange=new Zs}const Wk=new Wt("ISOLATE_TRANSLATE_SERVICE"),jk=new Wt("USE_DEFAULT_LANG"),Uk=new Wt("DEFAULT_LANGUAGE"),Zk=new Wt("USE_EXTEND"),wv=n=>bp(n)?n:zi(n);let Rc=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(e){this.store.defaultLang=e}get currentLang(){return this.store.currentLang}set currentLang(e){this.store.currentLang=e}get langs(){return this.store.langs}set langs(e){this.store.langs=e}get translations(){return this.store.translations}set translations(e){this.store.translations=e}constructor(e,r,i,s,o,a=!0,l=!1,c=!1,u){this.store=e,this.currentLoader=r,this.compiler=i,this.parser=s,this.missingTranslationHandler=o,this.useDefaultLang=a,this.extend=c,l&&(this.store=new lx),u&&this.setDefaultLang(u)}setDefaultLang(e){if(e===this.defaultLang)return;const r=this.retrieveTranslations(e);typeof r<"u"?(null==this.defaultLang&&(this.defaultLang=e),r.pipe(Sw(1)).subscribe(()=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(this.lastUseLanguage=e,e===this.currentLang)return zi(this.translations[e]);this.currentLang||(this.currentLang=e);const r=this.retrieveTranslations(e);return bp(r)?(r.pipe(Sw(1)).subscribe(()=>{this.changeLang(e)}),r):(this.changeLang(e),zi(this.translations[e]))}changeLang(e){e===this.lastUseLanguage&&(this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e))}retrieveTranslations(e){if(typeof this.translations[e]>"u"||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}getTranslation(e){return this.loadAndCompileTranslations(e)}loadAndCompileTranslations(e){this.pending=!0;const r=this.currentLoader.getTranslation(e).pipe(Ha(1),Sw(1));return this.loadingTranslations=r.pipe(Te(i=>this.compiler.compileTranslations(i,e)),Ha(1),Sw(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[e]=this.extend&&this.translations[e]?{...i,...this.translations[e]}:i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),r}setTranslation(e,r,i=!1){const s=this.compiler.compileTranslations(r,e);this.translations[e]=(i||this.extend)&&this.translations[e]?ox(this.translations[e],s):s,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){const r=e.filter(i=>!this.langs.includes(i));r.length>0&&(this.langs=[...this.langs,...r])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(e,r,i){let s;if(e&&(s=this.runInterpolation(ax(e,r),i)),void 0===s&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.runInterpolation(ax(this.translations[this.defaultLang],r),i)),void 0===s){const o={key:r,translateService:this};typeof i<"u"&&(o.interpolateParams=i),s=this.missingTranslationHandler.handle(o)}return void 0!==s?s:r}runInterpolation(e,r){if(ix(e))return e.map(i=>this.runInterpolation(i,r));if(vv(e)){const i={};for(const s in e){const o=this.runInterpolation(e[s],r);void 0!==o&&(i[s]=o)}return i}return this.parser.interpolate(e,r)}getParsedResult(e,r,i){if(r instanceof Array){const s={};let o=!1;for(const l of r)s[l]=this.getParsedResultForKey(e,l,i),o=o||bp(s[l]);return o?gv(r.map(l=>wv(s[l]))).pipe(Te(l=>{const c={};return l.forEach((u,d)=>{c[r[d]]=u}),c})):s}return this.getParsedResultForKey(e,r,i)}get(e,r){if(!dh(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(ik(i=>wv(this.getParsedResult(i,e,r)))):wv(this.getParsedResult(this.translations[this.currentLang],e,r))}getStreamOnTranslationChange(e,r){if(!dh(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return Mw(Nk(()=>this.get(e,r)),this.onTranslationChange.pipe($s(i=>{const s=this.getParsedResult(i.translations,e,r);return wv(s)})))}stream(e,r){if(!dh(e)||!e.length)throw new Error('Parameter "key" required');return Mw(Nk(()=>this.get(e,r)),this.onLangChange.pipe($s(i=>{const s=this.getParsedResult(i.translations,e,r);return wv(s)})))}instant(e,r){if(!dh(e)||0===e.length)throw new Error('Parameter "key" is required and cannot be empty');const i=this.getParsedResult(this.translations[this.currentLang],e,r);return bp(i)?Array.isArray(e)?e.reduce((s,o)=>(s[o]=o,s),{}):e:i}set(e,r,i=this.currentLang){(function Lse(n,t,e){const r=t.split(".");let i=n;for(let s=0;s<r.length;s++){const o=r[s];s===r.length-1?i[o]=e:((!i[o]||!vv(i[o]))&&(i[o]={}),i=i[o])}})(this.translations[i],e,sx(r)?this.compiler.compile(r,i):this.compiler.compileTranslations(r,i)),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],delete this.translations[e]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(r){return new(r||n)($e(lx),$e(mv),$e(xp),$e(Rw),$e(Ok),$e(jk),$e(Wk),$e(Zk),$e(Uk))};static \u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$k=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,r){this.translate=e,this._ref=r}updateValue(e,r,i){const s=o=>{this.value=void 0!==o?o:e,this.lastKey=e,this._ref.markForCheck()};if(i){const o=this.translate.getParsedResult(i,e,r);bp(o)?o.subscribe(s):s(o)}this.translate.get(e,r).subscribe(s)}transform(e,...r){if(!e||!e.length)return e;if(Tw(e,this.lastKey)&&Tw(r,this.lastParams))return this.value;let i;if(dh(r[0])&&r.length)if(sx(r[0])&&r[0].length){const s=r[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{i=JSON.parse(s)}catch(o){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else vv(r[0])&&(i=r[0]);return this.lastKey=e,this.lastParams=r,this.updateValue(e,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,i,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(r){return new(r||n)(Ar(Rc,16),Ar(sb,16))};static \u0275pipe=oo({name:"translate",type:n,pure:!1,standalone:!0});static \u0275prov=Vt({token:n,factory:n.\u0275fac})}return n})();const Dse=(n={})=>xc([n.loader||{provide:mv,useClass:Tse},n.compiler||{provide:xp,useClass:Hse},n.parser||{provide:Rw,useClass:Gk},n.missingTranslationHandler||{provide:Ok,useClass:zse},lx,{provide:Wk,useValue:n.isolate},{provide:jk,useValue:n.useDefaultLang},{provide:Zk,useValue:n.extend},{provide:Uk,useValue:n.defaultLanguage},Rc]);var Vse=B(517);const kse=new Wt("MESSAGE_FORMAT_CONFIG"),Fse={biDiSupport:!1,formatters:{},strictNumberSign:!1,currency:"USD",strictPluralKeys:!0,throwOnError:!1,fallbackPrefix:void 0};let Xk=(()=>{class n extends xp{constructor(e){super(),this.mfCache=new Map;const{formatters:r,biDiSupport:i,strictNumberSign:s,currency:o,strictPluralKeys:a,throwOnError:l,fallbackPrefix:c}={...Fse,...e};this.messageFormatOptions={customFormatters:r,biDiSupport:i,strict:s,currency:o,strictPluralKeys:a},this.throwOnError=!!l,this.fallbackPrefix=c}compile(e,r){if(this.fallbackPrefix&&e.startsWith(this.fallbackPrefix))return e.slice(this.fallbackPrefix.length);let i;try{i=this.getMessageFormatInstance(r).compile(e)}catch(s){if(this.throwOnError)throw s;console.error(s),console.error(`[ngx-translate-messageformat-compiler] Could not compile message for lang '${r}': '${e}'`),i=function Bse(n,t){return()=>(console.warn(`[ngx-translate-messageformat-compiler] Falling back to original invalid message: '${n}' ('${t}')`),String(n))}(e,r)}return this.throwOnError||(i=function Pse(n,t){return e=>{let r=t;try{r=n(e)}catch(i){console.error(i),console.error(`[ngx-translate-messageformat-compiler] Could not interpolate '${t}' with params '${e}'`)}return r}}(i,e)),i}compileTranslations(e,r){return"string"==typeof e?this.compile(e,r):Object.keys(e).reduce((i,s)=>(i[s]=this.compileTranslations(e[s],r),i),{})}getMessageFormatInstance(e){return this.mfCache.has(e)||this.mfCache.set(e,new Vse(e,this.messageFormatOptions)),this.mfCache.get(e)}static{this.\u0275fac=function(r){return new(r||n)($e(kse,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})(),Ose=(()=>{class n{http;prefix;suffix;constructor(e,r="/assets/i18n/",i=".json"){this.http=e,this.prefix=r,this.suffix=i}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}static \u0275fac=function(r){return new(r||n)($e(ui),$e(String),$e(String))};static \u0275prov=Vt({token:n,factory:n.\u0275fac})}return n})();function Yk(n){return Object.keys(n).reduce((t,e)=>n[e].trim().length?{...t,[e]:n[e]}:t,{})}class Gse extends Ose{getTranslation(t){const e=t.substring(0,2);return super.getTranslation(e).pipe(Te(Yk))}}const Lw="en",Wse="geonetwork-ui-language",Kk={compiler:{provide:xp,useClass:Xk},loader:{provide:mv,useFactory:function jse(n){return new Gse(n,"./assets/i18n/")},deps:[ui]}},Use={compiler:{provide:xp,useClass:Xk},parser:{provide:Rw,useClass:(()=>{class n extends Gk{interpolate(e,r){return r?`${e} {{${Object.keys(r).map(s=>`${s}=${r[s]}`).join(", ")}}}`:e?.toString()}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=xf(n)))(i||n)}})()}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})()}};let Zse=(()=>{class n{constructor(e){this.injector=e}intercept(e,r){const i=this.injector.get(Rc);return e=e.clone({setHeaders:{"Accept-Language":i.currentLang||Lw}}),r.handle(e)}static{this.\u0275fac=function(r){return new(r||n)($e(rr))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();function $se(n){return()=>{n.setDefaultLang(Lw);let t=null;try{t=localStorage.getItem(Wse)}catch(e){console.warn(e)}n.use(t||n.getBrowserLang()||Lw)}}function Xse(n,t=!0){let e=n??Kk;"true"===new URL(window.location.toString()).searchParams.get("debugTranslations")&&(e=Use);const r=[xk(n0(uh.LegacyInterceptors,[{provide:_k,useFactory:mie},{provide:fv,useExisting:_k,multi:!0}])),{provide:fk,useClass:Zse,multi:!0},Dse(e)];return t&&r.push({provide:KH,useFactory:$se,deps:[Rc],multi:!0}),xc(r)}const Yse=JSON.parse('{"":"","Add Layer As":"","Enter to search":"","button.login":"","catalog.figures.datasets":"{count, plural, =0{Datens\xe4tze} one{Datensatz} other{Datens\xe4tze}}","catalog.figures.organizations":"{count, plural, =0{Organisationen} one{Organisation} other{Organisationen}}","chart.aggregation.average":"Durchschnitt","chart.aggregation.count":"Anzahl","chart.aggregation.max":"Maximum","chart.aggregation.min":"Minimum","chart.aggregation.sum":"Summe","chart.dropdown.aggregation":"Aggregation","chart.dropdown.type":"Typ","chart.dropdown.xProperty":"X-Achse","chart.dropdown.yProperty":"Y-Achse","chart.loading.data":"Daten werden geladen...","chart.type.bar":"Balkendiagramm","chart.type.barHorizontal":"Balkendiagramm (horizontal)","chart.type.line":"Liniendiagramm","chart.type.lineSmooth":"Gegl\xe4ttes Liniendiagramm","chart.type.pie":"Kreisdiagramm","dashboard.catalog.allRecords":"Metadatenkatalog","dashboard.createRecord":"Neuer Eintrag","dashboard.importRecord":"","dashboard.importRecord.importExternal":"","dashboard.importRecord.importExternal.subtitle":"","dashboard.importRecord.importExternal.title":"","dashboard.labels.catalog":"Katalog","dashboard.labels.mySpace":"Mein Bereich","dashboard.records.all":"Metadatenkatalog","dashboard.records.hasDraft":"","dashboard.records.isMultilingual":"Dieser Eintrag ist mehrsprachig ({languages})","dashboard.records.myDraft":"Meine Entw\xfcrfe","dashboard.records.myRecords":"Meine Datens\xe4tze","dashboard.records.search":"Suche nach \\"{searchText}\\"","dashboard.records.userDetail":"Name","dashboard.records.userEmail":"E-Mail","dashboard.records.username":"Benutzername","dashboard.records.users":"{count, plural, =1{Benutzer} other{Benutzer}}","datahub.header.datasets":"Katalog","datahub.header.lastRecords":"Die neuesten","datahub.header.myfavorites":"Meine Favoriten","datahub.header.news":"Startseite","datahub.header.organizations":"Organisationen","datahub.header.popularRecords":"Die beliebtesten","datahub.header.title.html":"<div class=\\"text-white\\">Entdecken Sie offene<br> Daten meiner Organisation</div>","datahub.news.contact.contactus":"Kontaktieren Sie uns","datahub.news.contact.html":"<p>Brauchen Sie Daten, die derzeit nicht auf der Plattform vorhanden sind?</p><p>Unsere Teams stehen Ihnen zur Verf\xfcgung.</p>","datahub.news.contact.title":"Ein spezielles Bed\xfcrfnis?","datahub.news.feed":"Nachrichtenfeed","datahub.news.figures":"Indikatoren","datahub.search.back":"Zur\xfcck","datahub.search.filter.all":"Alle","datahub.search.filter.generatedByAPI":"Generiert durch eine API","datahub.search.filter.generatedByWfs":"","datahub.search.filter.others":"Andere","dataset.error.forbidden":"Der Zugriff auf diese Ressource ist eingeschr\xe4nkt","dataset.error.http":"Die Daten konnten aufgrund eines HTTP-Fehlers nicht geladen werden: \\"{ info }\\"","dataset.error.network":"Die Daten konnten aufgrund eines Netzwerkfehlers oder CORS-Beschr\xe4nkungen nicht geladen werden: \\"{ info }\\"","dataset.error.parse":"Die Daten wurden geladen, konnten aber nicht gelesen werden: \\"{ info }\\"","dataset.error.restrictedAccess":"","dataset.error.unknown":"Die Daten k\xf6nnen nicht angezeigt werden: \\"{ info }\\"","dataset.error.unsupportedType":"Der folgende Inhaltstyp wird nicht unterst\xfctzt: \\"{ info }\\"","domain.contact.role.author":"","domain.contact.role.collaborator":"","domain.contact.role.contributor":"","domain.contact.role.custodian":"","domain.contact.role.distributor":"","domain.contact.role.editor":"","domain.contact.role.funder":"","domain.contact.role.mediator":"","domain.contact.role.originator":"","domain.contact.role.other":"","domain.contact.role.owner":"","domain.contact.role.point_of_contact":"","domain.contact.role.principal_investigator":"","domain.contact.role.processor":"","domain.contact.role.publisher":"","domain.contact.role.resource_provider":"","domain.contact.role.rights_holder":"","domain.contact.role.sponsor":"","domain.contact.role.stakeholder":"","domain.contact.role.unspecified":"","domain.contact.role.user":"","domain.record.status.completed":"Abgeschlossen","domain.record.status.deprecated":"Veraltet","domain.record.status.ongoing":"Kontinuierliche Aktualisierung","domain.record.status.removed":"Entfernt","domain.record.status.under_development":"In Erstellung","domain.record.updateFrequency.annually":"Daten werden jedes Jahr aktualisiert","domain.record.updateFrequency.asNeeded":"Daten werden nach Bedarf aktualisiert","domain.record.updateFrequency.biannually":"Daten werden zweimal im Jahr aktualisiert","domain.record.updateFrequency.biennially":"Daten werden alle 2 Jahre aktualisiert","domain.record.updateFrequency.continual":"Daten werden wiederholt und h\xe4ufig aktualisiert","domain.record.updateFrequency.daily":"Daten werden t\xe4glich aktualisiert","domain.record.updateFrequency.day":"{count, plural, =0{0 Mal} one{Einmal} other{{count} Mal}} pro Tag","domain.record.updateFrequency.fortnightly":"Daten werden alle zwei Wochen aktualisiert","domain.record.updateFrequency.irregular":"Daten werden in unregelm\xe4\xdfigen Abst\xe4nden aktualisiert","domain.record.updateFrequency.month":"{count, plural, =0{0 Mal} one{Einmal} other{{count} Mal}} pro Monat","domain.record.updateFrequency.monthly":"Daten werden monatlich aktualisiert","domain.record.updateFrequency.notPlanned":"Es gibt keine Pl\xe4ne, die Daten zu aktualisieren","domain.record.updateFrequency.periodic":"Daten werden in regelm\xe4\xdfigen Abst\xe4nden aktualisiert","domain.record.updateFrequency.quarterly":"Daten werden alle drei Monate aktualisiert","domain.record.updateFrequency.semimonthly":"Daten werden zweimal im Monat aktualisiert","domain.record.updateFrequency.unknown":"Die H\xe4ufigkeit der Datenaktualisierung ist unbekannt","domain.record.updateFrequency.week":"{count, plural, =0{0 Mal} one{Einmal} other{{count} Mal}} pro Woche","domain.record.updateFrequency.weekly":"Daten werden w\xf6chentlich aktualisiert","domain.record.updateFrequency.year":"{count, plural, =0{0 Mal} one{Einmal} other{{count} Mal}} pro Jahr","downloads.format.unknown":"unbekannt","downloads.wfs.featuretype.not.found":"Der Layer wurde nicht gefunden","dropFile":"Datei ablegen","editor.new.record.title":"","editor.record.delete.confirmation.cancelText":"Stornieren","editor.record.delete.confirmation.confirmText":"L\xf6schen","editor.record.delete.confirmation.message":"Sind Sie sicher, dass Sie diesen Datensatz l\xf6schen m\xf6chten?","editor.record.delete.confirmation.title":"Datensatz l\xf6schen","editor.record.deleteError.body":"Der Datensatz konnte nicht gel\xf6scht werden:","editor.record.deleteError.closeMessage":"Verstanden","editor.record.deleteError.title":"Fehler beim L\xf6schen des Datensatzes","editor.record.deleteSuccess.body":"","editor.record.deleteSuccess.title":"","editor.record.error.back":"","editor.record.error.explanation":"","editor.record.error.message":"","editor.record.form.bottomButtons.comeBackLater":"","editor.record.form.bottomButtons.next":"","editor.record.form.bottomButtons.previous":"","editor.record.form.classification.opendata":"","editor.record.form.constraint.add.legalConstraints":"Rechtliche Einschr\xe4nkung hinzuf\xfcgen","editor.record.form.constraint.add.otherConstraints":"Einschr\xe4nkung hinzuf\xfcgen","editor.record.form.constraint.add.securityConstraints":"Sicherheitseinschr\xe4nkung hinzuf\xfcgen","editor.record.form.constraint.header.legalConstraints":"Anwendbare rechtliche Bedingungen","editor.record.form.constraint.header.otherConstraints":"Andere anwendbare Bedingungen","editor.record.form.constraint.header.securityConstraints":"Anwendbare Sicherheitsbedingungen","editor.record.form.constraint.legalConstraints":"Rechtliche Einschr\xe4nkungen","editor.record.form.constraint.markdown.placeholder":"","editor.record.form.constraint.not.applicable":"Keine Bedingungen gelten.","editor.record.form.constraint.not.known":"Die Bedingungen sind unbekannt.","editor.record.form.constraint.otherConstraints":"","editor.record.form.constraint.securityConstraints":"","editor.record.form.draft.updateAlert":"","editor.record.form.field.abstract":"Kurzbeschreibung","editor.record.form.field.constraintsShortcuts":"","editor.record.form.field.contacts.noContact":"","editor.record.form.field.contacts.placeholder":"","editor.record.form.field.contactsForResource.noContact":"","editor.record.form.field.contactsForResource.placeholder":"","editor.record.form.field.keywords":"Schlagw\xf6rter","editor.record.form.field.legalConstraints":"Rechtliche Einschr\xe4nkung","editor.record.form.field.license":"Lizenz","editor.record.form.field.onlineLinkResources":"","editor.record.form.field.onlineResource.cancel":"","editor.record.form.field.onlineResource.confirm":"","editor.record.form.field.onlineResource.dialogTitle":"","editor.record.form.field.onlineResource.edit.description":"","editor.record.form.field.onlineResource.edit.identifier.error":"Schichten konnten nicht vom Protokoll abgerufen werden","editor.record.form.field.onlineResource.edit.identifier.placeholder":"Ebenenname","editor.record.form.field.onlineResource.edit.identifier.placeholder.wps":"Prozessname","editor.record.form.field.onlineResource.edit.identifier.select.label":"W\xe4hlen Sie eine Ebene","editor.record.form.field.onlineResource.edit.identifier.submit":"Link zum Dienst","editor.record.form.field.onlineResource.edit.protocol":"","editor.record.form.field.onlineResource.edit.title":"","editor.record.form.field.onlineResource.fileSize":"","editor.record.form.field.onlineResource.modify":"","editor.record.form.field.onlineResource.toggle.dataset":"","editor.record.form.field.onlineResource.toggle.service":"","editor.record.form.field.onlineResources":"","editor.record.form.field.otherConstraints":"Allgemeine Einschr\xe4nkung","editor.record.form.field.overviews":"","editor.record.form.field.recordUpdated":"Datensatz zuletzt aktualisiert","editor.record.form.field.resourceCreated":"","editor.record.form.field.resourceIdentifier":"","editor.record.form.field.resourceUpdated":"Letztes Aktualisierungsdatum","editor.record.form.field.securityConstraints":"Sicherheitseinschr\xe4nkung","editor.record.form.field.spatialExtents":"","editor.record.form.field.temporalExtents":"Zeitlicher Umfang","editor.record.form.field.title":"Metadaten-Titel","editor.record.form.field.title.placeholder":"Geben Sie einen Titel ein","editor.record.form.field.uniqueIdentifier":"Eindeutige Kennung (ID)","editor.record.form.field.updateFrequency":"Aktualisierungsh\xe4ufigkeit","editor.record.form.keywords.place.placeholder":"","editor.record.form.keywords.place.withoutExtent":"","editor.record.form.keywords.placeholder":"","editor.record.form.license.cc-by":"","editor.record.form.license.cc-by-sa":"","editor.record.form.license.cc-zero":"","editor.record.form.license.etalab":"","editor.record.form.license.etalab-v2":"","editor.record.form.license.odbl":"","editor.record.form.license.odc-by":"","editor.record.form.license.pddl":"","editor.record.form.license.unknown":"","editor.record.form.multilingual.activate":"","editor.record.form.multilingual.default":"","editor.record.form.multilingual.enable":"","editor.record.form.multilingual.forbidden":"","editor.record.form.multilingual.open":"","editor.record.form.multilingual.title":"","editor.record.form.multilingual.validate":"","editor.record.form.page.accessAndContact":"","editor.record.form.page.description":"","editor.record.form.page.resources":"","editor.record.form.section.about.description":"","editor.record.form.section.about.label":"","editor.record.form.section.annexes.description":"","editor.record.form.section.annexes.label":"","editor.record.form.section.associatedResources.description":"","editor.record.form.section.associatedResources.label":"","editor.record.form.section.classification.description":"","editor.record.form.section.classification.label":"","editor.record.form.section.dataManagers.description":"","editor.record.form.section.dataManagers.label":"","editor.record.form.section.geographicalCoverage.label":"","editor.record.form.section.metadataPointOfContact.description":"","editor.record.form.section.metadataPointOfContact.label":"","editor.record.form.section.useAndAccessConditions.label":"","editor.record.form.temporalExtents.addDate":"Zeitpunkt","editor.record.form.temporalExtents.addRange":"Zeitraum","editor.record.form.temporalExtents.date":"Datum","editor.record.form.temporalExtents.range":"Datumsbereich","editor.record.form.updateFrequency.planned":"Dieses Dataset wird regelm\xe4\xdfig aktualisiert.","editor.record.importFromExternalFile.failure.body":"","editor.record.importFromExternalFile.failure.title":"","editor.record.importFromExternalFile.success.body":"","editor.record.importFromExternalFile.success.title":"","editor.record.loadError.body":"Der Datensatz konnte nicht geladen werden:","editor.record.loadError.closeMessage":"Verstanden","editor.record.loadError.title":"Fehler beim Laden des Datensatzes","editor.record.lock.harvested":"","editor.record.lock.owner":"","editor.record.lock.resourceType":"","editor.record.multilingual.confirmation.cancelText":"","editor.record.multilingual.confirmation.confirmText":"","editor.record.multilingual.confirmation.message":"","editor.record.multilingual.confirmation.title":"","editor.record.onlineResource.protocol.other":"","editor.record.onlineResourceError.body":"","editor.record.onlineResourceError.closeMessage":"","editor.record.onlineResourceError.title":"","editor.record.placeKeywordWithoutLabel":"","editor.record.publish":"Diesen Datensatz ver\xf6ffentlichen","editor.record.publish.confirmation.cancelText":"","editor.record.publish.confirmation.confirmText":"","editor.record.publish.confirmation.message":"","editor.record.publishError.body":"Der Datensatz konnte nicht ver\xf6ffentlicht werden:","editor.record.publishError.closeMessage":"Verstanden","editor.record.publishError.title":"Fehler beim Ver\xf6ffentlichen des Datensatzes","editor.record.publishSuccess.body":"Der Datensatz wurde erfolgreich ver\xf6ffentlicht!","editor.record.publishSuccess.title":"Ver\xf6ffentlichung erfolgreich","editor.record.publishVersionError.body":"","editor.record.publishVersionError.closeMessage":"","editor.record.publishVersionError.title":"","editor.record.resourceError.body":"","editor.record.resourceError.closeMessage":"","editor.record.resourceError.title":"","editor.record.saveStatus.draftWithChangesPending":"Gespeichert - nicht publizierte Unterschiede","editor.record.saveStatus.recordNotPublished":"","editor.record.saveStatus.recordUpToDate":"Gespeichert - auf dem neuesten Stand","editor.record.undo.confirmation.cancelText":"","editor.record.undo.confirmation.confirmText":"","editor.record.undo.confirmation.message":"","editor.record.undo.confirmation.title":"","editor.record.undo.tooltip.disabled":"","editor.record.undo.tooltip.enabled":"","editor.record.upToDate":"Dieser Datensatz ist auf dem neuesten Stand","editor.sidebar.logout":"","editor.sidebar.menu.editor":"","editor.temporary.disabled":"","externalviewer.dataset.unnamed":"Datensatz aus dem Datahub","facets.block.title.OrgForResource":"Organisation","facets.block.title.availableInServices":"Verf\xfcgbar f\xfcr","facets.block.title.cl_hierarchyLevel.key":"Ressourcentyp","facets.block.title.cl_maintenanceAndUpdateFrequency.key":"Aktualisierungsfrequenz","facets.block.title.cl_spatialRepresentationType.key":"R\xe4umliche Darstellung","facets.block.title.cl_status.key":"Status","facets.block.title.creationYearForResource":"Erstellungsjahr","facets.block.title.resolutionScaleDenominator":"Ma\xdfstab","facets.block.title.tag":"Stichworte","facets.block.title.tag.default":"Stichwort","facets.block.title.th_regions_tree.default":"Regionen","favorite.not.authenticated.tooltip":"<div><a href=\' {link} \'>Anmelden</a>, um auf diese Funktion zuzugreifen</div>","favorite.starToggle.label":"Zu Favoriten hinzuf\xfcgen","feature.catalog.attribute.code":"Code","feature.catalog.attribute.definition":"Beschreibung","feature.catalog.attribute.name":"Name","feature.catalog.attribute.type":"Typ","feature.catalog.attribute.values":"Werte","input.file.dropFileLabel":"","input.file.orInputUrl":"","input.file.selectFileLabel":"","input.file.uploadProgressCancel":"","input.file.uploadProgressLabel":"","input.image.altTextPlaceholder":"","input.image.delete":"","input.image.displayAltTextInput":"","input.image.displayUrlInput":"","input.image.dropFileLabel":"","input.image.selectFileLabel":"","input.image.uploadErrorLabel":"","input.image.uploadProgressCancel":"","input.image.uploadProgressLabel":"","language.ar":"","language.az":"","language.ca":"Katalanisch","language.cs":"Tschechisch","language.cy":"","language.da":"","language.de":"Deutsch","language.en":"Englisch","language.es":"Spanisch","language.fi":"Finnisch","language.fr":"Franz\xf6sisch","language.hy":"","language.is":"Isl\xe4ndisch","language.it":"Italienisch","language.ka":"","language.ko":"Koreanisch","language.nl":"Niederl\xe4ndisch","language.no":"","language.pl":"","language.pt":"Portugiesisch","language.rm":"","language.ru":"Russisch","language.sk":"Slowakisch","language.sv":"","language.tr":"","language.uk":"","language.zh":"Chinesisch","map.add.layer":"Eine Ebene hinzuf\xfcgen","map.add.layer.catalog":"Aus dem Katalog","map.add.layer.file":"Aus einer Datei","map.add.layer.ogc.api":"","map.add.layer.wfs":"Aus WFS","map.add.layer.wms":"Aus WMS","map.addFromFile.placeholder":"Klicke hier oder ziehe eine Datei herein","map.dropdown.placeholder":"Kein Vorschaulayer verf\xfcgbar","map.geocoding.placeholder":"Nach einem Ort suchen","map.help.addFromFile":"Klicke oder ziehe eine Datei herein um eine Karte hinzuzuf\xfcgen (momentan wird nur das GeoJSON-Format unterst\xfctzt).","map.layer.add":"Hinzuf\xfcgen","map.layers.available":"Verf\xfcgbare Layer","map.layers.list":"Ebenen","map.loading.data":"Kartendaten werden geladen...","map.loading.service":"Dienst wird geladen...","map.navigation.message":"Bitte verwenden Sie STRG + Maus (oder zwei Finger auf einem Mobilger\xe4t), um die Karte zu navigieren","map.ogc.urlInput.hint":"","map.select.layer":"Datenquelle","map.select.style":"Style","map.wfs.urlInput.hint":"Geben Sie die WFS URL ein","map.wms.urlInput.hint":"Geben Sie die WMS URL ein","multiselect.filter.placeholder":"Suche","nav.back":"Zur\xfcck","navbar.mobile.menuTitle":"Schnellzugriff","ogc.unreachable.unknown":"Der Dienst konnte nicht erreicht werden","organisation.filter.placeholder":"Ergebnisse filtern","organisation.sort.sortBy":"Sortieren nach:","organisations.hits.found":"{hits, plural, =0{Keine Organisation gefunden} other{{hits} von {total} Organisationen angezeigt}}","organisations.sortBy.nameAsc":"Name A \u2192 Z","organisations.sortBy.nameDesc":"Name Z \u2192 A","organisations.sortBy.recordCountAsc":"Ver\xf6ffentlichungen 0 \u2192 9","organisations.sortBy.recordCountDesc":"Ver\xf6ffentlichungen 9 \u2192 0","organization.details.lastPublishedDatasets":"","organization.details.lastPublishedDatasets.searchAllButton":"","organization.details.mailContact":"","organization.header.recordCount":"{count, plural, =0{} one{} other{}}","pagination.nextPage":"N\xe4chste Seite","pagination.page":"Seite","pagination.pageOf":"von","record.action.delete":"L\xf6schen","record.action.download":"Herunterladen","record.action.duplicate":"","record.action.duplicating":"","record.action.rollback":"","record.action.switchLang":"","record.action.view":"Anzeigen","record.card.metadata.contact":"","record.externalViewer.open":"In externem Kartenviewer \xf6ffnen","record.feature.catalog.number.total.attribute":"","record.feature.catalog.number.total.object":"","record.feature.limit":"Die Vorschau wurde aufgrund zu vieler Elemente deaktiviert","record.kind.dataset":"","record.kind.reuse":"","record.kind.service":"","record.metadata.about":"Beschreibung","record.metadata.api":"API","record.metadata.api.accessServiceProtocol.GPFDL":"","record.metadata.api.accessServiceProtocol.esriRest":"","record.metadata.api.accessServiceProtocol.maplibre-style":"","record.metadata.api.accessServiceProtocol.ogcFeatures":"","record.metadata.api.accessServiceProtocol.other":"","record.metadata.api.accessServiceProtocol.tms":"","record.metadata.api.accessServiceProtocol.wfs":"","record.metadata.api.accessServiceProtocol.wms":"","record.metadata.api.accessServiceProtocol.wmts":"","record.metadata.api.accessServiceProtocol.wps":"","record.metadata.api.form.closeButton":"Schlie\xdfen","record.metadata.api.form.closeForm":"Formular schlie\xdfen","record.metadata.api.form.create":"Ihre Anfrage erstellen","record.metadata.api.form.crsTitle":"","record.metadata.api.form.crsTooltip":"","record.metadata.api.form.customUrl":"Benutzerdefinierte URL","record.metadata.api.form.filter":"","record.metadata.api.form.filterDescription":"","record.metadata.api.form.formatTitle":"","record.metadata.api.form.formatTooltip":"","record.metadata.api.form.items":"","record.metadata.api.form.itemsDescription":"","record.metadata.api.form.itemsTooltip":"","record.metadata.api.form.limit":"Anzahl der Datens\xe4tze","record.metadata.api.form.limit.all":"Alle","record.metadata.api.form.nextPage":"","record.metadata.api.form.nextPageTooltip":"","record.metadata.api.form.offset":"Anzahl des ersten Datensatzes","record.metadata.api.form.openForm":"Formular \xf6ffnen","record.metadata.api.form.paginationDescription":"","record.metadata.api.form.previousPage":"","record.metadata.api.form.previousPageTooltip":"","record.metadata.api.form.productTooltip":"","record.metadata.api.form.reset":"Zur\xfccksetzen","record.metadata.api.form.resetTooltip":"","record.metadata.api.form.title":"Benutzerdefinierte URL generieren","record.metadata.api.form.title.gpf":"","record.metadata.api.form.type":"Ausgabeformat","record.metadata.api.form.zoneTitle":"","record.metadata.api.form.zoneTooltip":"","record.metadata.api.gpfdl":"","record.metadata.capabilities":"","record.metadata.catalog":"Katalog","record.metadata.contact":"Kontakt","record.metadata.creation":"Erstellungsdatum","record.metadata.details":"\xdcber die Daten","record.metadata.download":"Downloads","record.metadata.feature.catalog":"","record.metadata.formats":"Formate","record.metadata.isGeographical":"Geographischer Datensatz","record.metadata.keywords":"Stichworte","record.metadata.languages":"Sprachen","record.metadata.lastUpdate":"Zuletzt aktualisiert am {date}","record.metadata.linked.datasets":"Verkn\xfcpfte Datens\xe4tze","record.metadata.linked.records":"Verkn\xfcpfte Inhalte","record.metadata.linked.reuses":"Verkn\xfcpfte Wiederverwendungen","record.metadata.linked.services":"Verkn\xfcpfte Dienste","record.metadata.linked.sourceDatasets":"Quelldatens\xe4tze","record.metadata.links":"Links","record.metadata.noUsage":"F\xfcr diesen Datensatz sind keine Nutzungsbedingungen angegeben.","record.metadata.otherConstraints":"Zus\xe4tzliche Bedingungen","record.metadata.owner":"Herkunftskatalog","record.metadata.preview":"Vorschau","record.metadata.preview.config.error":"","record.metadata.preview.config.idle":"","record.metadata.preview.config.saved":"","record.metadata.preview.config.saving":"","record.metadata.producer":"Datenproduzent","record.metadata.publication":"Ver\xf6ffentlichungsdatum","record.metadata.publications":"{count, plural, =0{Ver\xf6ffentlichungsdatum} one{Ver\xf6ffentlichungsdatum} other{Ver\xf6ffentlichungen}}","record.metadata.quality":"Metadatenqualit\xe4t","record.metadata.quality.capabilities.failed":"","record.metadata.quality.capabilities.success":"","record.metadata.quality.contact.failed":"Kontakt nicht angegeben","record.metadata.quality.contact.success":"Kontakt angegeben","record.metadata.quality.description.failed":"Beschreibung nicht angegeben","record.metadata.quality.description.success":"Beschreibung angegeben","record.metadata.quality.details":"Details","record.metadata.quality.keywords.failed":"Schlagw\xf6rter nicht angegeben","record.metadata.quality.keywords.success":"Schlagw\xf6rter angegeben","record.metadata.quality.legalConstraints.failed":"Rechtliche Beschr\xe4nkungen nicht angegeben","record.metadata.quality.legalConstraints.success":"Rechtliche Beschr\xe4nkungen angegeben","record.metadata.quality.organisation.failed":"Organisation nicht angegeben","record.metadata.quality.organisation.success":"Organisation angegeben","record.metadata.quality.source.failed":"","record.metadata.quality.source.success":"","record.metadata.quality.title.failed":"Titel nicht angegeben","record.metadata.quality.title.success":"Titel angegeben","record.metadata.quality.topic.failed":"Thema nicht angegeben","record.metadata.quality.topic.success":"Thema angegeben","record.metadata.quality.updateFrequency.failed":"Aktualisierungsfrequenz nicht angegeben","record.metadata.quality.updateFrequency.success":"Aktualisierungsfrequenz angegeben","record.metadata.related":"Entdecken Sie den Katalog","record.metadata.ressources.and.links":"Ressourcen und Links","record.metadata.sheet":"Weitere Informationen verf\xfcgbar unter:","record.metadata.status":"Status","record.metadata.status.notPublished":"","record.metadata.status.published":"","record.metadata.temporalExtent":"Zeitlicher Umfang","record.metadata.temporalExtent.fromDateToDate":"Von {start} bis {end}","record.metadata.temporalExtent.sinceDate":"Seit {start}","record.metadata.temporalExtent.untilDate":"Bis {end}","record.metadata.title":"Titel","record.metadata.topics":"Kategorien","record.metadata.uniqueId":"Eindeutige Kennung","record.metadata.updateFrequency":"Aktualisierungsfrequenz der Daten","record.metadata.updatedOn":"Ge\xe4ndert am","record.metadata.usage":"Nutzung und Einschr\xe4nkungen","record.metadata.userFeedbacks":"","record.metadata.userFeedbacks.anonymousUser":"","record.metadata.userFeedbacks.newAnswer.buttonTitle":"","record.metadata.userFeedbacks.newAnswer.placeholder":"","record.metadata.userFeedbacks.newComment.placeholder":"","record.metadata.userFeedbacks.sortSelector.choices.newestFirst":"","record.metadata.userFeedbacks.sortSelector.choices.oldestFirst":"","record.metadata.userFeedbacks.sortSelector.label":"","record.more.details":"Weitere Details","record.tab.chart":"Diagramm","record.tab.data":"Tabelle","record.tab.map":"Karte","record.was.created.time":"erstellte diesen Datensatz {time}","records":"Datens\xe4tze","results.layout.selectOne":"Layout ausw\xe4hlen","results.records.hits.displayedOn":"{displayed, plural, =0{Kein Datensatz.} one{1 Datensatz} other{{displayed} Datens\xe4tze }} {hits, plural, other{angezeigt von {hits} insgesamt.}}","results.records.hits.empty.help.html":"Vorschl\xe4ge: <ul class=\'list-disc list-inside\'><li>Versuchen Sie es mit anderen Worten</li><li>Beschr\xe4nken Sie die Suchw\xf6rter</li></ul>","results.records.hits.found":"{hits, plural, =0{Keine Dokumente entsprechen der angegebenen Suche.} one{1 Datensatz gefunden.} other{{hits} Datens\xe4tze gefunden.}}","results.records.hits.selected":"{ amount } ausgew\xe4hlt","results.showMore":"Mehr Ergebnisse anzeigen...","results.sortBy.changeDate":"","results.sortBy.dateStamp":"Neueste","results.sortBy.popularity":"Beliebtheit","results.sortBy.qualityScore":"Qualit\xe4tsbewertung","results.sortBy.relevancy":"Relevanz","reuse.metadata.access":"","search.autocomplete.error":"Vorschl\xe4ge konnten nicht abgerufen werden:","search.error.couldNotReachApi":"Die API konnte nicht erreicht werden","search.error.organizationHasNoDataset":"","search.error.organizationNotFound":"","search.error.receivedError":"Ein Fehler ist aufgetreten","search.error.recordHasnolink":"","search.error.recordNotFound":"Der Datensatz mit der Kennung \\"{ id }\\" konnte nicht gefunden werden.","search.field.any.placeholder":"Suche im katalog ...","search.field.sortBy":"Sortieren nach:","search.filter.into.feature.catalog":"","search.filters.availableServices.download":"","search.filters.availableServices.view":"","search.filters.changeDate":"Letzte Aktualisierung","search.filters.clear":"Zur\xfccksetzen","search.filters.contact":"Kontakte","search.filters.format":"Formate","search.filters.inspireKeyword":"INSPIRE-Schl\xfcsselwort","search.filters.isSpatial":"Ist r\xe4umliche Daten","search.filters.isSpatial.no":"nicht r\xe4umlich","search.filters.isSpatial.yes":"r\xe4umlich","search.filters.keyword":"Schl\xfcsselwort","search.filters.license":"Lizenz","search.filters.license.cc-by":"Creative Commons CC-BY","search.filters.license.cc-by-sa":"Creative Commons CC-BY-SA","search.filters.license.cc-zero":"Creative Commons CC-0","search.filters.license.etalab":"Open Licence (Etalab)","search.filters.license.etalab-v2":"Open Licence v2.0 (Etalab)","search.filters.license.odbl":"Open Data Commons ODbL","search.filters.license.odc-by":"Open Data Commons ODC-By","search.filters.license.pddl":"Open Data Commons PDDL","search.filters.license.unknown":"Unbekannt oder nicht vorhanden","search.filters.maximize":"Erweitern","search.filters.minimize":"Minimieren","search.filters.myRecords":"Nur meine Datens\xe4tze anzeigen","search.filters.myRecordsHelp":"Wenn dies aktiviert ist, werden nur von mir erstellte Datens\xe4tze angezeigt; Datens\xe4tze, die von anderen erstellt wurden, werden nicht angezeigt.","search.filters.organization":"","search.filters.otherRecords":"Datens\xe4tze von einer anderen Person anzeigen","search.filters.producerOrg":"","search.filters.publicationYear":"Ver\xf6ffentlichungsjahr","search.filters.publisherOrg":"","search.filters.recordKind.all":"Alle","search.filters.recordKind.dataset":"Datens\xe4tze","search.filters.recordKind.reuse":"Wiederverwendungen","search.filters.recordKind.service":"Dienste","search.filters.representationType":"Repr\xe4sentationstyp","search.filters.resourceType":"Ressourcentyp","search.filters.standard":"Standard","search.filters.summaryLabel.changeDate":"Ge\xe4ndert am: ","search.filters.summaryLabel.user":"Ge\xe4ndert von: ","search.filters.title":"Ergebnisse filtern","search.filters.topic":"Themen","search.filters.useSpatialFilter":"Zuerst Datens\xe4tze im Interessenbereich anzeigen","search.filters.useSpatialFilterHelp":"Wenn diese Option aktiviert ist, werden Datens\xe4tze im Bereich des Katalogs zuerst angezeigt. Datens\xe4tze au\xdferhalb dieses Bereichs werden nicht angezeigt.","search.filters.user":"Editor","service.metadata.capabilities":"","service.metadata.capabilities.abstract":"","service.metadata.capabilities.attribution":"","service.metadata.capabilities.availableCrs":"","service.metadata.capabilities.defaultCrs":"","service.metadata.capabilities.geometryName":"","service.metadata.capabilities.geometryType":"","service.metadata.capabilities.keywords":"","service.metadata.capabilities.name":"","service.metadata.capabilities.objectCount":"","service.metadata.capabilities.otherCrs":"","service.metadata.capabilities.outputFormats":"","service.metadata.capabilities.resourceLinks":"","service.metadata.capabilities.title":"","service.metadata.filter":"","service.metadata.filter.noLayers":"","service.metadata.other":"","service.metadata.question":"","service.metadata.search":"","service.metadata.search.clear":"","service.metadata.spatialExtent":"","share.tab.permalink":"Teilen","share.tab.webComponent":"Integrieren","table.loading.data":"Daten werden geladen...","table.object.count":"Objekte in diesem Datensatz","table.paginator.firstPage":"Erste Seite","table.paginator.itemsPerPage":"Elemente pro Seite","table.paginator.lastPage":"Letzte Seite","table.paginator.nextPage":"N\xe4chste Seite","table.paginator.previousPage":"Vorherige Seite","table.paginator.rangeLabel":"{startIndex} - {endIndex} von {length}","table.select.data":"Datenquelle","tooltip.html.copy":"HTML kopieren","tooltip.id.copy":"Eindeutige Kennung kopieren","tooltip.url.copy":"URL kopieren","ui.readLess":"Weniger lesen","ui.readMore":"Weiterlesen","wfs.feature.limit":"Zu viele Features, um den WFS-Layer anzuzeigen!","wfs.featuretype.notfound":"Kein passender Feature-Typ wurde im Dienst gefunden","wfs.geojsongml.notsupported":"Dieser Dienst unterst\xfctzt das GeoJSON- oder GML-Format nicht","wfs.unreachable.cors":"Der Dienst konnte aufgrund von CORS-Beschr\xe4nkungen nicht erreicht werden","wfs.unreachable.http":"Der Dienst hat einen HTTP-Fehler zur\xfcckgegeben","wfs.unreachable.unknown":"Der Dienst konnte nicht erreicht werden"}'),Kse=JSON.parse('{"":"","Add Layer As":"","Enter to search":"","button.login":"Log in","catalog.figures.datasets":"{count, plural, =0{datasets} one{dataset} other{datasets}}","catalog.figures.organizations":"{count, plural, =0{organizations} one{organization} other{organizations}}","chart.aggregation.average":"average","chart.aggregation.count":"count","chart.aggregation.max":"max","chart.aggregation.min":"min","chart.aggregation.sum":"sum","chart.dropdown.aggregation":"Aggregation","chart.dropdown.type":"Type","chart.dropdown.xProperty":"X axis","chart.dropdown.yProperty":"Y axis","chart.loading.data":"Loading data...","chart.type.bar":"bar chart","chart.type.barHorizontal":"bar chart (horizontal)","chart.type.line":"line chart","chart.type.lineSmooth":"smooth line chart","chart.type.pie":"pie chart","dashboard.catalog.allRecords":"Datasets","dashboard.createRecord":"New dataset","dashboard.importRecord":"Import","dashboard.importRecord.importExternal":"Import an external file","dashboard.importRecord.importExternal.subtitle":"(link to an XML file)","dashboard.importRecord.importExternal.title":"External file URL","dashboard.labels.catalog":"Catalog","dashboard.labels.mySpace":"My space","dashboard.records.all":"Datasets","dashboard.records.hasDraft":"draft","dashboard.records.isMultilingual":"This record is multilingual ({languages})","dashboard.records.myDraft":"My drafts","dashboard.records.myRecords":"My datasets","dashboard.records.search":"Search for \\"{searchText}\\"","dashboard.records.userDetail":"Name","dashboard.records.userEmail":"Email","dashboard.records.username":"Username","dashboard.records.users":"{count, plural, =1{user} other{users}}","datahub.header.datasets":"Catalog","datahub.header.lastRecords":"The latest","datahub.header.myfavorites":"My favorites","datahub.header.news":"Home","datahub.header.organizations":"Organizations","datahub.header.popularRecords":"The most popular","datahub.header.title.html":"<div class=\\"text-white\\">Discover open<br> data from my Organization</div>","datahub.news.contact.contactus":"Contact us","datahub.news.contact.html":"<p>Do you need data that is not currently present on the platform?</p><p>Our teams are here to answer you.</p>","datahub.news.contact.title":"A specific need?","datahub.news.feed":"News feed","datahub.news.figures":"Indicators","datahub.search.back":"Back","datahub.search.filter.all":"All","datahub.search.filter.generatedByAPI":"Generated by an API","datahub.search.filter.generatedByWfs":"Generated by a WFS","datahub.search.filter.others":"Others","dataset.error.forbidden":"Access to this resource is restricted","dataset.error.http":"The data could not be loaded because of an HTTP error: \\"{ info }\\"","dataset.error.network":"The data could not be loaded because of a network error or CORS limitations: \\"{ info }\\"","dataset.error.parse":"The data was loaded but could not be parsed: \\"{ info }\\"","dataset.error.restrictedAccess":"Access to this resource is restricted","dataset.error.unknown":"The data cannot be displayed: \\"{ info }\\"","dataset.error.unsupportedType":"The following content type is unsupported: \\"{ info }\\"","domain.contact.role.author":"Author","domain.contact.role.collaborator":"Collaborator","domain.contact.role.contributor":"Contributor","domain.contact.role.custodian":"Custodian","domain.contact.role.distributor":"Distributor","domain.contact.role.editor":"Editor","domain.contact.role.funder":"Funder","domain.contact.role.mediator":"Mediator","domain.contact.role.originator":"Originator","domain.contact.role.other":"Other","domain.contact.role.owner":"Owner","domain.contact.role.point_of_contact":"Point of contact","domain.contact.role.principal_investigator":"Principal investigator","domain.contact.role.processor":"Processor","domain.contact.role.publisher":"Publisher","domain.contact.role.resource_provider":"Resource provider","domain.contact.role.rights_holder":"Rights holder","domain.contact.role.sponsor":"Sponsor","domain.contact.role.stakeholder":"Stakeholder","domain.contact.role.unspecified":"Unspecified","domain.contact.role.user":"User","domain.record.status.completed":"Completed","domain.record.status.deprecated":"Deprecated","domain.record.status.ongoing":"Ongoing","domain.record.status.removed":"Removed","domain.record.status.under_development":"Under development","domain.record.updateFrequency.annually":"Data is updated every year","domain.record.updateFrequency.asNeeded":"Data is updated as deemed necessary","domain.record.updateFrequency.biannually":"Data is updated twice each year","domain.record.updateFrequency.biennially":"Data is updated every 2 years","domain.record.updateFrequency.continual":"Data is repeatedly and frequently updated","domain.record.updateFrequency.daily":"Data is updated each day","domain.record.updateFrequency.day":"{count, plural, =0{0 times} one{Once} other{{count} times}} per day","domain.record.updateFrequency.fortnightly":"Data is updated every two weeks","domain.record.updateFrequency.irregular":"Data is updated in intervals that are uneven in duration","domain.record.updateFrequency.month":"{count, plural, =0{0 times} one{Once} other{{count} times}} per month","domain.record.updateFrequency.monthly":"Data is updated each month","domain.record.updateFrequency.notPlanned":"There are no plans to update the data","domain.record.updateFrequency.periodic":"Data is updated at regular intervals","domain.record.updateFrequency.quarterly":"Data is updated every three months","domain.record.updateFrequency.semimonthly":"Data is updated twice a month","domain.record.updateFrequency.unknown":"Frequency of maintenance for the data is not known","domain.record.updateFrequency.week":"{count, plural, =0{0 times} one{Once} other{{count} times}} per week","domain.record.updateFrequency.weekly":"Data is updated on a weekly basis","domain.record.updateFrequency.year":"{count, plural, =0{0 times} one{Once} other{{count} times}} per year","downloads.format.unknown":"Unknown","downloads.wfs.featuretype.not.found":"The layer was not found","dropFile":"Drop file","editor.new.record.title":"My dataset","editor.record.delete.confirmation.cancelText":"Cancel","editor.record.delete.confirmation.confirmText":"Delete","editor.record.delete.confirmation.message":"Are you sure you want to delete this dataset?","editor.record.delete.confirmation.title":"Delete dataset?","editor.record.deleteError.body":"The dataset could not be deleted:","editor.record.deleteError.closeMessage":"Understood","editor.record.deleteError.title":"Error deleting dataset","editor.record.deleteSuccess.body":"The dataset was successfully deleted!","editor.record.deleteSuccess.title":"Delete success","editor.record.error.back":"Go back to the catalog","editor.record.error.explanation":"You might not have access to this record,<br> Or this link might not be valid.","editor.record.error.message":"Something went wrong","editor.record.form.bottomButtons.comeBackLater":"Come back later","editor.record.form.bottomButtons.next":"Next","editor.record.form.bottomButtons.previous":"Previous","editor.record.form.classification.opendata":"Open Data","editor.record.form.constraint.add.legalConstraints":"Add a legal constraint","editor.record.form.constraint.add.otherConstraints":"Add a constraint","editor.record.form.constraint.add.securityConstraints":"Add a security constraint","editor.record.form.constraint.header.legalConstraints":"Applicable legal conditions","editor.record.form.constraint.header.otherConstraints":"Other applicable conditions","editor.record.form.constraint.header.securityConstraints":"Applicable security conditions","editor.record.form.constraint.legalConstraints":"Legal constraints","editor.record.form.constraint.markdown.placeholder":"Your text here","editor.record.form.constraint.not.applicable":"No conditions apply","editor.record.form.constraint.not.known":"The conditions are unknown","editor.record.form.constraint.otherConstraints":"Other constraints","editor.record.form.constraint.securityConstraints":"Security constraints","editor.record.form.draft.updateAlert":"Since you created this draft, the dataset has been updated on { date } by { user }. Publishing your draft might erase their edits. To avoid this, you need to either cancel your changes or knowingly publish your own version.","editor.record.form.field.abstract":"Abstract","editor.record.form.field.constraintsShortcuts":"","editor.record.form.field.contacts.noContact":"Please provide at least one point of contact.","editor.record.form.field.contacts.placeholder":"Choose a contact","editor.record.form.field.contactsForResource.noContact":"Please provide at least one point of contact responsible for the data.","editor.record.form.field.contactsForResource.placeholder":"Choose a contact","editor.record.form.field.keywords":"Keywords","editor.record.form.field.legalConstraints":"Legal constraint","editor.record.form.field.license":"License","editor.record.form.field.onlineLinkResources":"Attached resources","editor.record.form.field.onlineResource.cancel":"Cancel","editor.record.form.field.onlineResource.confirm":"Confirm","editor.record.form.field.onlineResource.dialogTitle":"Modify the dataset preview","editor.record.form.field.onlineResource.edit.description":"Description","editor.record.form.field.onlineResource.edit.identifier.error":"Unable to retrieve layers from protocol","editor.record.form.field.onlineResource.edit.identifier.placeholder":"Layer name","editor.record.form.field.onlineResource.edit.identifier.placeholder.wps":"Process name","editor.record.form.field.onlineResource.edit.identifier.select.label":"Select a layer","editor.record.form.field.onlineResource.edit.identifier.submit":"Link to the service","editor.record.form.field.onlineResource.edit.protocol":"Protocol","editor.record.form.field.onlineResource.edit.title":"Title","editor.record.form.field.onlineResource.fileSize":"{sizeMB}MB","editor.record.form.field.onlineResource.modify":"Modify","editor.record.form.field.onlineResource.toggle.dataset":"Link to a file","editor.record.form.field.onlineResource.toggle.service":"Link to a service","editor.record.form.field.onlineResources":"Distribution","editor.record.form.field.otherConstraints":"Other constraint","editor.record.form.field.overviews":"Overview","editor.record.form.field.recordUpdated":"Record updated","editor.record.form.field.resourceCreated":"Dataset created","editor.record.form.field.resourceIdentifier":"Identifier","editor.record.form.field.resourceUpdated":"Dataset updated","editor.record.form.field.securityConstraints":"Security constraints","editor.record.form.field.spatialExtents":"Spatial extents","editor.record.form.field.temporalExtents":"Temporal extents","editor.record.form.field.title":"Metadata title","editor.record.form.field.title.placeholder":"Enter a title","editor.record.form.field.uniqueIdentifier":"Unique identifier","editor.record.form.field.updateFrequency":"Update frequency","editor.record.form.keywords.place.placeholder":"Search for place keywords","editor.record.form.keywords.place.withoutExtent":"This keyword is not associated with any geographical extent","editor.record.form.keywords.placeholder":"Select a keyword","editor.record.form.license.cc-by":"Creative Commons CC-BY","editor.record.form.license.cc-by-sa":"Creative Commons CC-BY-SA","editor.record.form.license.cc-zero":"Creative Commons CC-0","editor.record.form.license.etalab":"Open Licence (Etalab)","editor.record.form.license.etalab-v2":"Open Licence v2.0 (Etalab)","editor.record.form.license.odbl":"Open Data Commons ODbL","editor.record.form.license.odc-by":"Open Data Commons ODC-By","editor.record.form.license.pddl":"Open Data Commons PDDL","editor.record.form.license.unknown":"Unknown or absent","editor.record.form.multilingual.activate":"Activate the languages","editor.record.form.multilingual.default":"Default","editor.record.form.multilingual.enable":"Multilingual Mode","editor.record.form.multilingual.forbidden":"You are not allowed to remove the default language","editor.record.form.multilingual.open":"Open the multilingual panel","editor.record.form.multilingual.title":"Translations","editor.record.form.multilingual.validate":"Validate","editor.record.form.page.accessAndContact":"Information for use","editor.record.form.page.description":"Dataset description","editor.record.form.page.resources":"Resources","editor.record.form.section.about.description":"This section describes the dataset","editor.record.form.section.about.label":"About the dataset","editor.record.form.section.annexes.description":"Annexes are optional resources. They are attached to the dataset, and help understand the data (manual, etc.).","editor.record.form.section.annexes.label":"Annexes","editor.record.form.section.associatedResources.description":"Point out where the data can be found","editor.record.form.section.associatedResources.label":"Associated resources","editor.record.form.section.classification.description":"Appropriate keywords help users find the dataset","editor.record.form.section.classification.label":"Keywords","editor.record.form.section.dataManagers.description":"The data managers are responsible for the data","editor.record.form.section.dataManagers.label":"Data managers","editor.record.form.section.geographicalCoverage.label":"Geographical coverage","editor.record.form.section.metadataPointOfContact.description":"This information concerns the metadata","editor.record.form.section.metadataPointOfContact.label":"Metadata point of contact","editor.record.form.section.useAndAccessConditions.label":"Use and access conditions","editor.record.form.temporalExtents.addDate":"Time instant","editor.record.form.temporalExtents.addRange":"Time period","editor.record.form.temporalExtents.date":"Date","editor.record.form.temporalExtents.range":"Date range","editor.record.form.updateFrequency.planned":"This dataset is updated regularly","editor.record.importFromExternalFile.failure.body":"Failure","editor.record.importFromExternalFile.failure.title":"The dataset import failed: ","editor.record.importFromExternalFile.success.body":"Import successful","editor.record.importFromExternalFile.success.title":"The dataset has been successfully imported.","editor.record.loadError.body":"The dataset could not be loaded:","editor.record.loadError.closeMessage":"Understood","editor.record.loadError.title":"Error loading dataset","editor.record.lock.harvested":"Datasets harvested from an external catalog are not editable","editor.record.lock.owner":"You are not an editor of the allowed groups","editor.record.lock.resourceType":"Records of a type other than dataset are not editable","editor.record.multilingual.confirmation.cancelText":"Keep the language(s)","editor.record.multilingual.confirmation.confirmText":"Remove the language(s)","editor.record.multilingual.confirmation.message":"You are about to remove one or several languages, which will delete all of the related translations. Do you want to proceed?","editor.record.multilingual.confirmation.title":"Remove languages","editor.record.onlineResource.protocol.other":"Other","editor.record.onlineResourceError.body":"An error happened while adding the resource:","editor.record.onlineResourceError.closeMessage":"Understood","editor.record.onlineResourceError.title":"Error adding resource","editor.record.placeKeywordWithoutLabel":"Unnamed location","editor.record.publish":"Publish this dataset","editor.record.publish.confirmation.cancelText":"Cancel","editor.record.publish.confirmation.confirmText":"Publish","editor.record.publish.confirmation.message":"Since you created this draft, the dataset has been updated on { date } by { user }. Publishing your draft might erase their edits. Do you wish to proceed?","editor.record.publishError.body":"The dataset could not be published:","editor.record.publishError.closeMessage":"Understood","editor.record.publishError.title":"Error publishing dataset","editor.record.publishSuccess.body":"The dataset was successfully published!","editor.record.publishSuccess.title":"Publish success","editor.record.publishVersionError.body":"The dataset cannot be published because an incompatible GeoNetwork version was detected. Please contact the administrator of the platform to solve this issue.\\nCurrent version: {currentVersion}\\nMinimum compatible version: 4.2.5","editor.record.publishVersionError.closeMessage":"Understood","editor.record.publishVersionError.title":"A critical issue was encountered","editor.record.resourceError.body":"There was an issue with the dataset attachments:","editor.record.resourceError.closeMessage":"Understood","editor.record.resourceError.title":"Error with the dataset attachments","editor.record.saveStatus.draftWithChangesPending":"Saved - Unpublished differences","editor.record.saveStatus.recordNotPublished":"Saved - not published","editor.record.saveStatus.recordUpToDate":"Saved - Record up to date","editor.record.undo.confirmation.cancelText":"Keep the changes","editor.record.undo.confirmation.confirmText":"Discard the changes","editor.record.undo.confirmation.message":"Are you sure you want to cancel the pending changes on this dataset ?","editor.record.undo.confirmation.title":"Cancel changes?","editor.record.undo.tooltip.disabled":"There are no pending changes on this dataset","editor.record.undo.tooltip.enabled":"Clicking this button will cancel the pending changes on this dataset.","editor.record.upToDate":"This dataset is up to date","editor.sidebar.logout":"Log out","editor.sidebar.menu.editor":"Editor","editor.temporary.disabled":"Not implemented yet","externalviewer.dataset.unnamed":"Datahub layer","facets.block.title.OrgForResource":"Organisation","facets.block.title.availableInServices":"Available for","facets.block.title.cl_hierarchyLevel.key":"Resource type","facets.block.title.cl_maintenanceAndUpdateFrequency.key":"Update frequency","facets.block.title.cl_spatialRepresentationType.key":"Spatial representation","facets.block.title.cl_status.key":"Status","facets.block.title.creationYearForResource":"Creation year","facets.block.title.resolutionScaleDenominator":"Scale","facets.block.title.tag":"Keywords","facets.block.title.tag.default":"Tag","facets.block.title.th_regions_tree.default":"Regions","favorite.not.authenticated.tooltip":"<div><a href=\' {link} \'>Login</a> to access this feature</div>","favorite.starToggle.label":"Add to favorites","feature.catalog.attribute.code":"Code","feature.catalog.attribute.definition":"Description","feature.catalog.attribute.name":"Name","feature.catalog.attribute.type":"Type","feature.catalog.attribute.values":"Values","input.file.dropFileLabel":"or drop it here","input.file.orInputUrl":"or create a link to an external resource","input.file.selectFileLabel":"Select a file ({sizeMB} MB max.)","input.file.uploadProgressCancel":"Cancel","input.file.uploadProgressLabel":"Uploading in progress...","input.image.altTextPlaceholder":"Image alternate text","input.image.delete":"Delete","input.image.displayAltTextInput":"Alternate text","input.image.displayUrlInput":"Enter a URL","input.image.dropFileLabel":"or drop it here","input.image.selectFileLabel":"Select an image","input.image.uploadErrorLabel":"The image could not be uploaded","input.image.uploadProgressCancel":"Cancel","input.image.uploadProgressLabel":"Upload in progress...","language.ar":"Arabic","language.az":"Azerbaijani","language.ca":"Catalan","language.cs":"Czech","language.cy":"Welsh","language.da":"Danish","language.de":"German","language.en":"English","language.es":"Spanish","language.fi":"Finnish","language.fr":"French","language.hy":"Armenian","language.is":"Icelandic","language.it":"Italian","language.ka":"Georgian","language.ko":"Korean","language.nl":"Dutch","language.no":"Norwegian","language.pl":"Polish","language.pt":"Portuguese","language.rm":"Romansh","language.ru":"Russian","language.sk":"Slovak","language.sv":"Swedish","language.tr":"Turkish","language.uk":"Ukrainian","language.zh":"Chinese","map.add.layer":"Add a layer","map.add.layer.catalog":"From the catalog","map.add.layer.file":"From a file","map.add.layer.ogc.api":"From OGC API","map.add.layer.wfs":"From WFS","map.add.layer.wms":"From WMS","map.addFromFile.placeholder":"Click or drop a file here","map.dropdown.placeholder":"No preview layer available","map.geocoding.placeholder":"Search for a place","map.help.addFromFile":"Click or drag and drop a file to add to the map (currently supports GeoJSON format only).","map.layer.add":"Add","map.layers.available":"Available Layers","map.layers.list":"Layers","map.loading.data":"Loading map data...","map.loading.service":"Loading service...","map.navigation.message":"Please use CTRL + mouse (or two fingers on mobile) to navigate the map","map.ogc.urlInput.hint":"Enter OGC API service URL","map.select.layer":"Data source","map.select.style":"Style","map.wfs.urlInput.hint":"Enter WFS service URL","map.wms.urlInput.hint":"Enter WMS service URL","multiselect.filter.placeholder":"Search","nav.back":"Back","navbar.mobile.menuTitle":"Quick access","ogc.unreachable.unknown":"The service could not be reached","organisation.filter.placeholder":"Filter results","organisation.sort.sortBy":"Sort by:","organisations.hits.found":"{hits, plural, =0{No organizations found} other{{hits} out of {total} organizations shown}}","organisations.sortBy.nameAsc":"Name A \u2192 Z","organisations.sortBy.nameDesc":"Name Z \u2192 A","organisations.sortBy.recordCountAsc":"Publications 0 \u2192 9","organisations.sortBy.recordCountDesc":"Publications 9 \u2192 0","organization.details.lastPublishedDatasets":"Last published datasets","organization.details.lastPublishedDatasets.searchAllButton":"Search all","organization.details.mailContact":"Contact by email","organization.header.recordCount":"{count, plural, =0{data} one{data} other{datas}}","pagination.nextPage":"Next page","pagination.page":"Page","pagination.pageOf":"of","record.action.delete":"Delete","record.action.download":"Download","record.action.duplicate":"Duplicate","record.action.duplicating":"Duplicating...","record.action.rollback":"Rollback","record.action.switchLang":"Switch to default","record.action.view":"View","record.card.metadata.contact":"Metadata Contact","record.externalViewer.open":"Open in the external map viewer","record.feature.catalog.number.total.attribute":"Total amount of objects","record.feature.catalog.number.total.object":"Total amount of attributes","record.feature.limit":"Preview disabled due to too many elements","record.kind.dataset":"Dataset","record.kind.reuse":"Reuse","record.kind.service":"Service","record.metadata.about":"Description","record.metadata.api":"API","record.metadata.api.accessServiceProtocol.GPFDL":"GPFDL","record.metadata.api.accessServiceProtocol.esriRest":"esriRest","record.metadata.api.accessServiceProtocol.maplibre-style":"maplibre-style","record.metadata.api.accessServiceProtocol.ogcFeatures":"ogcFeatures","record.metadata.api.accessServiceProtocol.other":"other","record.metadata.api.accessServiceProtocol.tms":"tms","record.metadata.api.accessServiceProtocol.wfs":"wfs","record.metadata.api.accessServiceProtocol.wms":"wms","record.metadata.api.accessServiceProtocol.wmts":"wmts","record.metadata.api.accessServiceProtocol.wps":"wps","record.metadata.api.form.closeButton":"Close","record.metadata.api.form.closeForm":"Close the form","record.metadata.api.form.create":"Create your request","record.metadata.api.form.crsTitle":"Coordinate System","record.metadata.api.form.crsTooltip":"Dropdown for selecting a coordinate reference system","record.metadata.api.form.customUrl":"Custom URL","record.metadata.api.form.filter":"Filters","record.metadata.api.form.filterDescription":"Section for refining displayed elements","record.metadata.api.form.formatTitle":"Format","record.metadata.api.form.formatTooltip":"Dropdown for selecting a element format","record.metadata.api.form.items":"Available Items","record.metadata.api.form.itemsDescription":"List of items","record.metadata.api.form.itemsTooltip":"Scroll to view all available items","record.metadata.api.form.limit":"Number of records","record.metadata.api.form.limit.all":"All","record.metadata.api.form.nextPage":"Next","record.metadata.api.form.nextPageTooltip":"Go to the next page","record.metadata.api.form.offset":"Offset","record.metadata.api.form.openForm":"Open the form","record.metadata.api.form.paginationDescription":"Pagination of displayed items","record.metadata.api.form.previousPage":"Previous","record.metadata.api.form.previousPageTooltip":"Go to the previous page","record.metadata.api.form.productTooltip":"","record.metadata.api.form.reset":"Reset","record.metadata.api.form.resetTooltip":"Reset all filters","record.metadata.api.form.title":"Generate a custom URL","record.metadata.api.form.title.gpf":"Download data","record.metadata.api.form.type":"Output format","record.metadata.api.form.zoneTitle":"Zone","record.metadata.api.form.zoneTooltip":"Dropdown for selecting a geographic zone","record.metadata.api.gpfdl":"Data download","record.metadata.capabilities":"Service capabilities","record.metadata.catalog":"Catalog","record.metadata.contact":"Contact","record.metadata.creation":"Date of creation","record.metadata.details":"About the data","record.metadata.download":"Downloads","record.metadata.feature.catalog":"Feature catalog","record.metadata.formats":"Formats","record.metadata.isGeographical":"Geographical dataset","record.metadata.keywords":"Keywords","record.metadata.languages":"Languages","record.metadata.lastUpdate":"Last updated on {date}","record.metadata.linked.datasets":"Associated datasets","record.metadata.linked.records":"Associated content","record.metadata.linked.reuses":"Associated reuses","record.metadata.linked.services":"Associated services","record.metadata.linked.sourceDatasets":"Source datasets","record.metadata.links":"Links","record.metadata.noUsage":"No usage conditions specified for this dataset.","record.metadata.otherConstraints":"Additional Conditions","record.metadata.owner":"Catalog of origin","record.metadata.preview":"Preview","record.metadata.preview.config.error":"Error saving the configuration","record.metadata.preview.config.idle":"Set as default preview","record.metadata.preview.config.saved":"Saved !","record.metadata.preview.config.saving":"Saving...","record.metadata.producer":"Data producer","record.metadata.publication":"Date of publication","record.metadata.publications":"{count, plural, =0{publication} one{publication} other{publications}}","record.metadata.quality":"Metadata Quality","record.metadata.quality.capabilities.failed":"Capabilities URL is not specified","record.metadata.quality.capabilities.success":"Capabilities URL is specified","record.metadata.quality.contact.failed":"Contact is not specified","record.metadata.quality.contact.success":"Contact is specified","record.metadata.quality.description.failed":"Description is not specified","record.metadata.quality.description.success":"Description is specified","record.metadata.quality.details":"Details","record.metadata.quality.keywords.failed":"Keywords are not specified","record.metadata.quality.keywords.success":"Keywords are specified","record.metadata.quality.legalConstraints.failed":"Legal constraints are not specified","record.metadata.quality.legalConstraints.success":"Legal constraints are specified","record.metadata.quality.organisation.failed":"Organisation is not specified","record.metadata.quality.organisation.success":"Organisation is specified","record.metadata.quality.source.failed":"No source dataset is specified","record.metadata.quality.source.success":"A source dataset is specified","record.metadata.quality.title.failed":"Title is not specified","record.metadata.quality.title.success":"Title is specified","record.metadata.quality.topic.failed":"Topic is not specified","record.metadata.quality.topic.success":"Topic is specified","record.metadata.quality.updateFrequency.failed":"Update frequency is not specified","record.metadata.quality.updateFrequency.success":"Update frequency is specified","record.metadata.related":"Explore the catalog","record.metadata.ressources.and.links":"Resources and links","record.metadata.sheet":"Original metadata","record.metadata.status":"Status","record.metadata.status.notPublished":"Not published","record.metadata.status.published":"Published","record.metadata.temporalExtent":"Temporal extent","record.metadata.temporalExtent.fromDateToDate":"From { start } to { end }","record.metadata.temporalExtent.sinceDate":"Since { start }","record.metadata.temporalExtent.untilDate":"Until { end }","record.metadata.title":"Title","record.metadata.topics":"Categories","record.metadata.uniqueId":"Unique Identifier","record.metadata.updateFrequency":"Data Update Frequency","record.metadata.updatedOn":"Updated on","record.metadata.usage":"License and Conditions","record.metadata.userFeedbacks":"Questions / Answers","record.metadata.userFeedbacks.anonymousUser":"In order to leave a comment, please log in.","record.metadata.userFeedbacks.newAnswer.buttonTitle":"Publish","record.metadata.userFeedbacks.newAnswer.placeholder":"Answer...","record.metadata.userFeedbacks.newComment.placeholder":"Write your comment here...","record.metadata.userFeedbacks.sortSelector.choices.newestFirst":"Newest comments first","record.metadata.userFeedbacks.sortSelector.choices.oldestFirst":"Oldest comments first","record.metadata.userFeedbacks.sortSelector.label":"Sort by ...","record.more.details":"Read more","record.tab.chart":"Chart","record.tab.data":"Table","record.tab.map":"Map","record.was.created.time":"created this dataset {time}","records":"datasets","results.layout.selectOne":"Results layout","results.records.hits.displayedOn":"{displayed, plural, =0{No dataset.} one{1 } other{{displayed} }} {hits, plural, other{displayed on {hits} total.}}","results.records.hits.empty.help.html":"Suggestions: <ul class=\'list-disc list-inside\'><li>Try other words</li><li>Specify fewer words</li></ul>","results.records.hits.found":"{hits, plural, =0{No datasets match the specified search.} one{1 dataset found.} other{{hits} datasets found.}}","results.records.hits.selected":"{ amount } selected","results.showMore":"Show more results...","results.sortBy.changeDate":"Last modification","results.sortBy.dateStamp":"Newest","results.sortBy.popularity":"Popularity","results.sortBy.qualityScore":"Quality score","results.sortBy.relevancy":"Relevancy","reuse.metadata.access":"Access the reuse","search.autocomplete.error":"Suggestions could not be fetched:","search.error.couldNotReachApi":"The API could not be reached","search.error.organizationHasNoDataset":"This organization has no dataset yet.","search.error.organizationNotFound":"This organization could not be found.","search.error.receivedError":"An error was received","search.error.recordHasnolink":"This dataset currently has no link yet, please come back later.","search.error.recordNotFound":"The dataset with identifier \\"{ id }\\" could not be found.","search.field.any.placeholder":"Search in the catalog ...","search.field.sortBy":"Sort by:","search.filter.into.feature.catalog":"Search a term","search.filters.availableServices.download":"","search.filters.availableServices.view":"","search.filters.changeDate":"Updated","search.filters.clear":"Reset","search.filters.contact":"Contacts","search.filters.format":"Formats","search.filters.inspireKeyword":"INSPIRE keyword","search.filters.isSpatial":"Is spatial data","search.filters.isSpatial.no":"Non-spatial","search.filters.isSpatial.yes":"Spatial","search.filters.keyword":"Keyword","search.filters.license":"License","search.filters.license.cc-by":"Creative Commons CC-BY","search.filters.license.cc-by-sa":"Creative Commons CC-BY-SA","search.filters.license.cc-zero":"Creative Commons CC-0","search.filters.license.etalab":"Open Licence (Etalab)","search.filters.license.etalab-v2":"Open Licence v2.0 (Etalab)","search.filters.license.odbl":"Open Data Commons ODbL","search.filters.license.odc-by":"Open Data Commons ODC-By","search.filters.license.pddl":"Open Data Commons PDDL","search.filters.license.unknown":"Unknown or absent","search.filters.maximize":"Expand","search.filters.minimize":"Minimize","search.filters.myRecords":"Show only my datasets","search.filters.myRecordsHelp":"When this is enabled, only your datasets are shown; datasets created by others will not show up.","search.filters.organization":"Organization","search.filters.otherRecords":"Showing datasets from another person","search.filters.producerOrg":"Producer","search.filters.publicationYear":"Publication year","search.filters.publisherOrg":"Publisher","search.filters.recordKind.all":"All","search.filters.recordKind.dataset":"Datasets","search.filters.recordKind.reuse":"Reuses","search.filters.recordKind.service":"Services","search.filters.representationType":"Representation type","search.filters.resourceType":"Resource type","search.filters.standard":"Standard","search.filters.summaryLabel.changeDate":"Updated: ","search.filters.summaryLabel.user":"Editor: ","search.filters.title":"Filter your results","search.filters.topic":"Topics","search.filters.useSpatialFilter":"Show datasets in the area of interest first","search.filters.useSpatialFilterHelp":"When this is enabled, datasets situated in the catalog\'s area of interest are shown first; records outside of this area will not show up.","search.filters.user":"Editor","service.metadata.capabilities":"Technical information","service.metadata.capabilities.abstract":"Abstract","service.metadata.capabilities.attribution":"Attribution","service.metadata.capabilities.availableCrs":"Available CRS","service.metadata.capabilities.defaultCrs":"Default CRS","service.metadata.capabilities.geometryName":"Geometry name","service.metadata.capabilities.geometryType":"Geometry type","service.metadata.capabilities.keywords":"Keywords","service.metadata.capabilities.name":"Name","service.metadata.capabilities.objectCount":"Object count","service.metadata.capabilities.otherCrs":"Other CRS","service.metadata.capabilities.outputFormats":"Output formats","service.metadata.capabilities.resourceLinks":"Resource links","service.metadata.capabilities.title":"Title","service.metadata.filter":"Layers will be filtered by title and abstract","service.metadata.filter.noLayers":"No layer matches your search","service.metadata.other":"Other information","service.metadata.question":"Ask a question","service.metadata.search":"Search through the layer list","service.metadata.search.clear":"Clear the layer search","service.metadata.spatialExtent":"Spatial extent","share.tab.permalink":"Share","share.tab.webComponent":"Integrate","table.loading.data":"Loading data...","table.object.count":"Objects in this dataset","table.paginator.firstPage":"First page","table.paginator.itemsPerPage":"Items per page","table.paginator.lastPage":"Last page","table.paginator.nextPage":"Next page","table.paginator.previousPage":"Previous page","table.paginator.rangeLabel":"{startIndex} - {endIndex} of {length}","table.select.data":"Data source","tooltip.html.copy":"Copy HTML","tooltip.id.copy":"Copy unique identifier","tooltip.url.copy":"Copy URL","ui.readLess":"Read less","ui.readMore":"Read more","wfs.feature.limit":"Too many features to display the WFS layer!","wfs.featuretype.notfound":"No matching feature type was found in the service","wfs.geojsongml.notsupported":"This service does not support the GeoJSON or GML format","wfs.unreachable.cors":"The service could not be reached due to CORS limitations","wfs.unreachable.http":"The service returned an HTTP error","wfs.unreachable.unknown":"The service could not be reached"}'),qse=JSON.parse('{"":"","Add Layer As":"","Enter to search":"","button.login":"","catalog.figures.datasets":"conjuntos de datos","catalog.figures.organizations":"organizaciones","chart.aggregation.average":"promedio","chart.aggregation.count":"conteo","chart.aggregation.max":"m\xe1ximo","chart.aggregation.min":"m\xednimo","chart.aggregation.sum":"suma","chart.dropdown.aggregation":"Agregaci\xf3n","chart.dropdown.type":"Tipo","chart.dropdown.xProperty":"Eje X","chart.dropdown.yProperty":"Eje Y","chart.loading.data":"Cargando datos...","chart.type.bar":"gr\xe1fico de barras","chart.type.barHorizontal":"gr\xe1fico de barras horizontal","chart.type.line":"gr\xe1fico de l\xedneas","chart.type.lineSmooth":"gr\xe1fico de l\xedneas suave","chart.type.pie":"gr\xe1fico circular","dashboard.catalog.allRecords":"","dashboard.createRecord":"","dashboard.importRecord":"","dashboard.importRecord.importExternal":"","dashboard.importRecord.importExternal.subtitle":"","dashboard.importRecord.importExternal.title":"","dashboard.labels.catalog":"Cat\xe1logo","dashboard.labels.mySpace":"Mi espacio","dashboard.records.all":"Cat\xe1logo","dashboard.records.hasDraft":"","dashboard.records.isMultilingual":"Este registro es multiling\xfce ({languages})","dashboard.records.myDraft":"Mis borradores","dashboard.records.myRecords":"Mis Registros","dashboard.records.search":"Buscar \\"{searchText}\\"","dashboard.records.userDetail":"","dashboard.records.userEmail":"","dashboard.records.username":"","dashboard.records.users":"","datahub.header.datasets":"Cat\xe1logo","datahub.header.lastRecords":"","datahub.header.myfavorites":"","datahub.header.news":"","datahub.header.organizations":"","datahub.header.popularRecords":"","datahub.header.title.html":"","datahub.news.contact.contactus":"","datahub.news.contact.html":"","datahub.news.contact.title":"","datahub.news.feed":"","datahub.news.figures":"","datahub.search.back":"","datahub.search.filter.all":"","datahub.search.filter.generatedByAPI":"","datahub.search.filter.generatedByWfs":"","datahub.search.filter.others":"","dataset.error.forbidden":"El acceso a este recurso est\xe1 restringido","dataset.error.http":"","dataset.error.network":"","dataset.error.parse":"","dataset.error.restrictedAccess":"","dataset.error.unknown":"","dataset.error.unsupportedType":"","domain.contact.role.author":"","domain.contact.role.collaborator":"","domain.contact.role.contributor":"","domain.contact.role.custodian":"","domain.contact.role.distributor":"","domain.contact.role.editor":"","domain.contact.role.funder":"","domain.contact.role.mediator":"","domain.contact.role.originator":"","domain.contact.role.other":"","domain.contact.role.owner":"","domain.contact.role.point_of_contact":"","domain.contact.role.principal_investigator":"","domain.contact.role.processor":"","domain.contact.role.publisher":"","domain.contact.role.resource_provider":"","domain.contact.role.rights_holder":"","domain.contact.role.sponsor":"","domain.contact.role.stakeholder":"","domain.contact.role.unspecified":"","domain.contact.role.user":"","domain.record.status.completed":"","domain.record.status.deprecated":"","domain.record.status.ongoing":"","domain.record.status.removed":"","domain.record.status.under_development":"","domain.record.updateFrequency.annually":"Los datos se actualizan cada a\xf1o","domain.record.updateFrequency.asNeeded":"Los datos se actualizan seg\xfan sea necesario","domain.record.updateFrequency.biannually":"Los datos se actualizan dos veces al a\xf1o","domain.record.updateFrequency.biennially":"Los datos se actualizan cada 2 a\xf1os","domain.record.updateFrequency.continual":"Los datos se actualizan repetidamente y con frecuencia","domain.record.updateFrequency.daily":"Los datos se actualizan cada d\xeda","domain.record.updateFrequency.day":"{count, plural, =0{0 veces} one{Una vez} other{{count} veces}} al d\xeda","domain.record.updateFrequency.fortnightly":"Los datos se actualizan cada dos semanas","domain.record.updateFrequency.irregular":"Los datos se actualizan en intervalos irregulares","domain.record.updateFrequency.month":"{count, plural, =0{0 veces} one{Una vez} other{{count} veces}} al mes","domain.record.updateFrequency.monthly":"Los datos se actualizan cada mes","domain.record.updateFrequency.notPlanned":"No hay planes para actualizar los datos","domain.record.updateFrequency.periodic":"Los datos se actualizan a intervalos regulares","domain.record.updateFrequency.quarterly":"Los datos se actualizan cada tres meses","domain.record.updateFrequency.semimonthly":"Los datos se actualizan dos veces al mes","domain.record.updateFrequency.unknown":"La frecuencia de actualizaci\xf3n de los datos es desconocida","domain.record.updateFrequency.week":"{count, plural, =0{0 veces} one{Una vez} other{{count} veces}} a la semana","domain.record.updateFrequency.weekly":"Los datos se actualizan semanalmente","domain.record.updateFrequency.year":"{count, plural, =0{0 veces} one{Una vez} other{{count} veces}} al a\xf1o","downloads.format.unknown":"","downloads.wfs.featuretype.not.found":"","dropFile":"","editor.new.record.title":"","editor.record.delete.confirmation.cancelText":"","editor.record.delete.confirmation.confirmText":"","editor.record.delete.confirmation.message":"","editor.record.delete.confirmation.title":"","editor.record.deleteError.body":"","editor.record.deleteError.closeMessage":"","editor.record.deleteError.title":"","editor.record.deleteSuccess.body":"","editor.record.deleteSuccess.title":"","editor.record.error.back":"","editor.record.error.explanation":"","editor.record.error.message":"","editor.record.form.bottomButtons.comeBackLater":"","editor.record.form.bottomButtons.next":"","editor.record.form.bottomButtons.previous":"","editor.record.form.classification.opendata":"","editor.record.form.constraint.add.legalConstraints":"","editor.record.form.constraint.add.otherConstraints":"","editor.record.form.constraint.add.securityConstraints":"","editor.record.form.constraint.header.legalConstraints":"","editor.record.form.constraint.header.otherConstraints":"","editor.record.form.constraint.header.securityConstraints":"","editor.record.form.constraint.legalConstraints":"","editor.record.form.constraint.markdown.placeholder":"","editor.record.form.constraint.not.applicable":"","editor.record.form.constraint.not.known":"","editor.record.form.constraint.otherConstraints":"","editor.record.form.constraint.securityConstraints":"","editor.record.form.draft.updateAlert":"","editor.record.form.field.abstract":"","editor.record.form.field.constraintsShortcuts":"","editor.record.form.field.contacts.noContact":"","editor.record.form.field.contacts.placeholder":"","editor.record.form.field.contactsForResource.noContact":"","editor.record.form.field.contactsForResource.placeholder":"","editor.record.form.field.keywords":"","editor.record.form.field.legalConstraints":"","editor.record.form.field.license":"","editor.record.form.field.onlineLinkResources":"","editor.record.form.field.onlineResource.cancel":"","editor.record.form.field.onlineResource.confirm":"","editor.record.form.field.onlineResource.dialogTitle":"","editor.record.form.field.onlineResource.edit.description":"","editor.record.form.field.onlineResource.edit.identifier.error":"No se pueden recuperar las capas del protocolo","editor.record.form.field.onlineResource.edit.identifier.placeholder":"Nombre de la capa","editor.record.form.field.onlineResource.edit.identifier.placeholder.wps":"Nombre del proceso","editor.record.form.field.onlineResource.edit.identifier.select.label":"Selecciona una capa","editor.record.form.field.onlineResource.edit.identifier.submit":"Enlace al servicio","editor.record.form.field.onlineResource.edit.protocol":"","editor.record.form.field.onlineResource.edit.title":"","editor.record.form.field.onlineResource.fileSize":"","editor.record.form.field.onlineResource.modify":"","editor.record.form.field.onlineResource.toggle.dataset":"","editor.record.form.field.onlineResource.toggle.service":"","editor.record.form.field.onlineResources":"","editor.record.form.field.otherConstraints":"","editor.record.form.field.overviews":"","editor.record.form.field.recordUpdated":"","editor.record.form.field.resourceCreated":"","editor.record.form.field.resourceIdentifier":"","editor.record.form.field.resourceUpdated":"","editor.record.form.field.securityConstraints":"","editor.record.form.field.spatialExtents":"","editor.record.form.field.temporalExtents":"","editor.record.form.field.title":"","editor.record.form.field.title.placeholder":"Introduzca un t\xedtulo","editor.record.form.field.uniqueIdentifier":"","editor.record.form.field.updateFrequency":"","editor.record.form.keywords.place.placeholder":"","editor.record.form.keywords.place.withoutExtent":"","editor.record.form.keywords.placeholder":"","editor.record.form.license.cc-by":"","editor.record.form.license.cc-by-sa":"","editor.record.form.license.cc-zero":"","editor.record.form.license.etalab":"","editor.record.form.license.etalab-v2":"","editor.record.form.license.odbl":"","editor.record.form.license.odc-by":"","editor.record.form.license.pddl":"","editor.record.form.license.unknown":"","editor.record.form.multilingual.activate":"","editor.record.form.multilingual.default":"","editor.record.form.multilingual.enable":"","editor.record.form.multilingual.forbidden":"","editor.record.form.multilingual.open":"","editor.record.form.multilingual.title":"","editor.record.form.multilingual.validate":"","editor.record.form.page.accessAndContact":"","editor.record.form.page.description":"","editor.record.form.page.resources":"","editor.record.form.section.about.description":"","editor.record.form.section.about.label":"","editor.record.form.section.annexes.description":"","editor.record.form.section.annexes.label":"","editor.record.form.section.associatedResources.description":"","editor.record.form.section.associatedResources.label":"","editor.record.form.section.classification.description":"","editor.record.form.section.classification.label":"","editor.record.form.section.dataManagers.description":"","editor.record.form.section.dataManagers.label":"","editor.record.form.section.geographicalCoverage.label":"","editor.record.form.section.metadataPointOfContact.description":"","editor.record.form.section.metadataPointOfContact.label":"","editor.record.form.section.useAndAccessConditions.label":"","editor.record.form.temporalExtents.addDate":"","editor.record.form.temporalExtents.addRange":"","editor.record.form.temporalExtents.date":"","editor.record.form.temporalExtents.range":"","editor.record.form.updateFrequency.planned":"Este conjunto de datos se actualiza regularmente.","editor.record.importFromExternalFile.failure.body":"","editor.record.importFromExternalFile.failure.title":"","editor.record.importFromExternalFile.success.body":"","editor.record.importFromExternalFile.success.title":"","editor.record.loadError.body":"","editor.record.loadError.closeMessage":"","editor.record.loadError.title":"","editor.record.lock.harvested":"","editor.record.lock.owner":"","editor.record.lock.resourceType":"","editor.record.multilingual.confirmation.cancelText":"","editor.record.multilingual.confirmation.confirmText":"","editor.record.multilingual.confirmation.message":"","editor.record.multilingual.confirmation.title":"","editor.record.onlineResource.protocol.other":"","editor.record.onlineResourceError.body":"","editor.record.onlineResourceError.closeMessage":"","editor.record.onlineResourceError.title":"","editor.record.placeKeywordWithoutLabel":"","editor.record.publish":"","editor.record.publish.confirmation.cancelText":"","editor.record.publish.confirmation.confirmText":"","editor.record.publish.confirmation.message":"","editor.record.publishError.body":"","editor.record.publishError.closeMessage":"","editor.record.publishError.title":"","editor.record.publishSuccess.body":"","editor.record.publishSuccess.title":"","editor.record.publishVersionError.body":"","editor.record.publishVersionError.closeMessage":"","editor.record.publishVersionError.title":"","editor.record.resourceError.body":"","editor.record.resourceError.closeMessage":"","editor.record.resourceError.title":"","editor.record.saveStatus.draftWithChangesPending":"","editor.record.saveStatus.recordNotPublished":"","editor.record.saveStatus.recordUpToDate":"","editor.record.undo.confirmation.cancelText":"","editor.record.undo.confirmation.confirmText":"","editor.record.undo.confirmation.message":"","editor.record.undo.confirmation.title":"","editor.record.undo.tooltip.disabled":"","editor.record.undo.tooltip.enabled":"","editor.record.upToDate":"","editor.sidebar.logout":"","editor.sidebar.menu.editor":"","editor.temporary.disabled":"","externalviewer.dataset.unnamed":"","facets.block.title.OrgForResource":"","facets.block.title.availableInServices":"","facets.block.title.cl_hierarchyLevel.key":"","facets.block.title.cl_maintenanceAndUpdateFrequency.key":"","facets.block.title.cl_spatialRepresentationType.key":"","facets.block.title.cl_status.key":"","facets.block.title.creationYearForResource":"","facets.block.title.resolutionScaleDenominator":"","facets.block.title.tag":"","facets.block.title.tag.default":"","facets.block.title.th_regions_tree.default":"","favorite.not.authenticated.tooltip":"","favorite.starToggle.label":"A\xf1adir a favoritos","feature.catalog.attribute.code":"C\xf3digo","feature.catalog.attribute.definition":"Descripci\xf3n","feature.catalog.attribute.name":"Nombre","feature.catalog.attribute.type":"Tipo","feature.catalog.attribute.values":"Valores","input.file.dropFileLabel":"","input.file.orInputUrl":"","input.file.selectFileLabel":"","input.file.uploadProgressCancel":"","input.file.uploadProgressLabel":"","input.image.altTextPlaceholder":"","input.image.delete":"","input.image.displayAltTextInput":"","input.image.displayUrlInput":"","input.image.dropFileLabel":"","input.image.selectFileLabel":"","input.image.uploadErrorLabel":"","input.image.uploadProgressCancel":"","input.image.uploadProgressLabel":"","language.ar":"","language.az":"","language.ca":"Catal\xe1n","language.cs":"Checo","language.cy":"","language.da":"","language.de":"Alem\xe1n","language.en":"Ingl\xe9s","language.es":"Espa\xf1ol","language.fi":"Finland\xe9s","language.fr":"Franc\xe9s","language.hy":"","language.is":"Island\xe9s","language.it":"Italiano","language.ka":"","language.ko":"Coreano","language.nl":"Neerland\xe9s","language.no":"","language.pl":"","language.pt":"Portugu\xe9s","language.rm":"","language.ru":"Ruso","language.sk":"Eslovaco","language.sv":"","language.tr":"","language.uk":"","language.zh":"Chino","map.add.layer":"","map.add.layer.catalog":"","map.add.layer.file":"","map.add.layer.ogc.api":"","map.add.layer.wfs":"","map.add.layer.wms":"","map.addFromFile.placeholder":"","map.dropdown.placeholder":"","map.geocoding.placeholder":"","map.help.addFromFile":"","map.layer.add":"","map.layers.available":"","map.layers.list":"","map.loading.data":"","map.loading.service":"","map.navigation.message":"","map.ogc.urlInput.hint":"","map.select.layer":"","map.select.style":"","map.wfs.urlInput.hint":"","map.wms.urlInput.hint":"","multiselect.filter.placeholder":"","nav.back":"","navbar.mobile.menuTitle":"Acceso r\xe1pido","ogc.unreachable.unknown":"","organisation.filter.placeholder":"","organisation.sort.sortBy":"","organisations.hits.found":"","organisations.sortBy.nameAsc":"","organisations.sortBy.nameDesc":"","organisations.sortBy.recordCountAsc":"","organisations.sortBy.recordCountDesc":"","organization.details.lastPublishedDatasets":"","organization.details.lastPublishedDatasets.searchAllButton":"","organization.details.mailContact":"","organization.header.recordCount":"{count, plural, =0{} one{} other{}}","pagination.nextPage":"","pagination.page":"","pagination.pageOf":"","record.action.delete":"","record.action.download":"","record.action.duplicate":"","record.action.duplicating":"","record.action.rollback":"","record.action.switchLang":"","record.action.view":"","record.card.metadata.contact":"","record.externalViewer.open":"","record.feature.catalog.number.total.attribute":"","record.feature.catalog.number.total.object":"","record.feature.limit":"","record.kind.dataset":"","record.kind.reuse":"","record.kind.service":"","record.metadata.about":"","record.metadata.api":"","record.metadata.api.accessServiceProtocol.GPFDL":"","record.metadata.api.accessServiceProtocol.esriRest":"","record.metadata.api.accessServiceProtocol.maplibre-style":"","record.metadata.api.accessServiceProtocol.ogcFeatures":"","record.metadata.api.accessServiceProtocol.other":"","record.metadata.api.accessServiceProtocol.tms":"","record.metadata.api.accessServiceProtocol.wfs":"","record.metadata.api.accessServiceProtocol.wms":"","record.metadata.api.accessServiceProtocol.wmts":"","record.metadata.api.accessServiceProtocol.wps":"","record.metadata.api.form.closeButton":"","record.metadata.api.form.closeForm":"","record.metadata.api.form.create":"","record.metadata.api.form.crsTitle":"","record.metadata.api.form.crsTooltip":"","record.metadata.api.form.customUrl":"","record.metadata.api.form.filter":"","record.metadata.api.form.filterDescription":"","record.metadata.api.form.formatTitle":"","record.metadata.api.form.formatTooltip":"","record.metadata.api.form.items":"","record.metadata.api.form.itemsDescription":"","record.metadata.api.form.itemsTooltip":"","record.metadata.api.form.limit":"","record.metadata.api.form.limit.all":"","record.metadata.api.form.nextPage":"","record.metadata.api.form.nextPageTooltip":"","record.metadata.api.form.offset":"","record.metadata.api.form.openForm":"","record.metadata.api.form.paginationDescription":"","record.metadata.api.form.previousPage":"","record.metadata.api.form.previousPageTooltip":"","record.metadata.api.form.productTooltip":"","record.metadata.api.form.reset":"","record.metadata.api.form.resetTooltip":"","record.metadata.api.form.title":"","record.metadata.api.form.title.gpf":"","record.metadata.api.form.type":"","record.metadata.api.form.zoneTitle":"","record.metadata.api.form.zoneTooltip":"","record.metadata.api.gpfdl":"","record.metadata.capabilities":"","record.metadata.catalog":"","record.metadata.contact":"","record.metadata.creation":"","record.metadata.details":"","record.metadata.download":"","record.metadata.feature.catalog":"","record.metadata.formats":"","record.metadata.isGeographical":"","record.metadata.keywords":"","record.metadata.languages":"","record.metadata.lastUpdate":"","record.metadata.linked.datasets":"","record.metadata.linked.records":"","record.metadata.linked.reuses":"","record.metadata.linked.services":"","record.metadata.linked.sourceDatasets":"","record.metadata.links":"","record.metadata.noUsage":"","record.metadata.otherConstraints":"","record.metadata.owner":"","record.metadata.preview":"","record.metadata.preview.config.error":"","record.metadata.preview.config.idle":"","record.metadata.preview.config.saved":"","record.metadata.preview.config.saving":"","record.metadata.producer":"","record.metadata.publication":"","record.metadata.publications":"{count, plural, =0{} one{} other{}}","record.metadata.quality":"","record.metadata.quality.capabilities.failed":"","record.metadata.quality.capabilities.success":"","record.metadata.quality.contact.failed":"","record.metadata.quality.contact.success":"","record.metadata.quality.description.failed":"","record.metadata.quality.description.success":"","record.metadata.quality.details":"","record.metadata.quality.keywords.failed":"","record.metadata.quality.keywords.success":"","record.metadata.quality.legalConstraints.failed":"","record.metadata.quality.legalConstraints.success":"","record.metadata.quality.organisation.failed":"","record.metadata.quality.organisation.success":"","record.metadata.quality.source.failed":"","record.metadata.quality.source.success":"","record.metadata.quality.title.failed":"","record.metadata.quality.title.success":"","record.metadata.quality.topic.failed":"","record.metadata.quality.topic.success":"","record.metadata.quality.updateFrequency.failed":"","record.metadata.quality.updateFrequency.success":"","record.metadata.related":"","record.metadata.ressources.and.links":"Recursos y enlaces","record.metadata.sheet":"","record.metadata.status":"","record.metadata.status.notPublished":"","record.metadata.status.published":"","record.metadata.temporalExtent":"","record.metadata.temporalExtent.fromDateToDate":"","record.metadata.temporalExtent.sinceDate":"","record.metadata.temporalExtent.untilDate":"","record.metadata.title":"","record.metadata.topics":"","record.metadata.uniqueId":"","record.metadata.updateFrequency":"","record.metadata.updatedOn":"","record.metadata.usage":"","record.metadata.userFeedbacks":"","record.metadata.userFeedbacks.anonymousUser":"","record.metadata.userFeedbacks.newAnswer.buttonTitle":"","record.metadata.userFeedbacks.newAnswer.placeholder":"","record.metadata.userFeedbacks.newComment.placeholder":"","record.metadata.userFeedbacks.sortSelector.choices.newestFirst":"","record.metadata.userFeedbacks.sortSelector.choices.oldestFirst":"","record.metadata.userFeedbacks.sortSelector.label":"","record.more.details":"","record.tab.chart":"","record.tab.data":"","record.tab.map":"","record.was.created.time":"","records":"","results.layout.selectOne":"","results.records.hits.displayedOn":"","results.records.hits.empty.help.html":"","results.records.hits.found":"","results.records.hits.selected":"","results.showMore":"","results.sortBy.changeDate":"","results.sortBy.dateStamp":"","results.sortBy.popularity":"","results.sortBy.qualityScore":"","results.sortBy.relevancy":"","reuse.metadata.access":"","search.autocomplete.error":"","search.error.couldNotReachApi":"","search.error.organizationHasNoDataset":"","search.error.organizationNotFound":"","search.error.receivedError":"","search.error.recordHasnolink":"","search.error.recordNotFound":"","search.field.any.placeholder":"","search.field.sortBy":"","search.filter.into.feature.catalog":"","search.filters.availableServices.download":"","search.filters.availableServices.view":"","search.filters.changeDate":"\xdaltima actualizaci\xf3n","search.filters.clear":"","search.filters.contact":"","search.filters.format":"","search.filters.inspireKeyword":"","search.filters.isSpatial":"","search.filters.isSpatial.no":"","search.filters.isSpatial.yes":"","search.filters.keyword":"","search.filters.license":"","search.filters.license.cc-by":"","search.filters.license.cc-by-sa":"","search.filters.license.cc-zero":"","search.filters.license.etalab":"","search.filters.license.etalab-v2":"","search.filters.license.odbl":"","search.filters.license.odc-by":"","search.filters.license.pddl":"","search.filters.license.unknown":"","search.filters.maximize":"","search.filters.minimize":"","search.filters.myRecords":"","search.filters.myRecordsHelp":"","search.filters.organization":"","search.filters.otherRecords":"","search.filters.producerOrg":"","search.filters.publicationYear":"","search.filters.publisherOrg":"","search.filters.recordKind.all":"Todos","search.filters.recordKind.dataset":"","search.filters.recordKind.reuse":"","search.filters.recordKind.service":"","search.filters.representationType":"","search.filters.resourceType":"","search.filters.standard":"","search.filters.summaryLabel.changeDate":"","search.filters.summaryLabel.user":"","search.filters.title":"","search.filters.topic":"","search.filters.useSpatialFilter":"","search.filters.useSpatialFilterHelp":"","search.filters.user":"","service.metadata.capabilities":"","service.metadata.capabilities.abstract":"","service.metadata.capabilities.attribution":"","service.metadata.capabilities.availableCrs":"","service.metadata.capabilities.defaultCrs":"","service.metadata.capabilities.geometryName":"","service.metadata.capabilities.geometryType":"","service.metadata.capabilities.keywords":"","service.metadata.capabilities.name":"","service.metadata.capabilities.objectCount":"","service.metadata.capabilities.otherCrs":"","service.metadata.capabilities.outputFormats":"","service.metadata.capabilities.resourceLinks":"","service.metadata.capabilities.title":"","service.metadata.filter":"","service.metadata.filter.noLayers":"","service.metadata.other":"","service.metadata.question":"","service.metadata.search":"","service.metadata.search.clear":"","service.metadata.spatialExtent":"","share.tab.permalink":"","share.tab.webComponent":"","table.loading.data":"","table.object.count":"","table.paginator.firstPage":"Primera p\xe1gina","table.paginator.itemsPerPage":"Elementos por p\xe1gina","table.paginator.lastPage":"\xdaltima p\xe1gina","table.paginator.nextPage":"P\xe1gina siguiente","table.paginator.previousPage":"P\xe1gina anterior","table.paginator.rangeLabel":"{startIndex} - {endIndex} de {length}","table.select.data":"","tooltip.html.copy":"","tooltip.id.copy":"","tooltip.url.copy":"","ui.readLess":"","ui.readMore":"","wfs.feature.limit":"","wfs.featuretype.notfound":"","wfs.geojsongml.notsupported":"","wfs.unreachable.cors":"","wfs.unreachable.http":"","wfs.unreachable.unknown":""}'),Jse=JSON.parse('{"":"","Add Layer As":"","Enter to search":"","button.login":"Se connecter","catalog.figures.datasets":"{count, plural, =0{donn\xe9es} one{donn\xe9e} other{donn\xe9es}}","catalog.figures.organizations":"{count, plural, =0{organisations} one{organisation} other{organisations}}","chart.aggregation.average":"moyenne","chart.aggregation.count":"nombre","chart.aggregation.max":"maximum","chart.aggregation.min":"minimum","chart.aggregation.sum":"somme","chart.dropdown.aggregation":"Agr\xe9gation","chart.dropdown.type":"Type","chart.dropdown.xProperty":"Axe X","chart.dropdown.yProperty":"Axe Y","chart.loading.data":"Chargement des donn\xe9es...","chart.type.bar":"barre","chart.type.barHorizontal":"barre horizontale","chart.type.line":"ligne","chart.type.lineSmooth":"ligne lisse","chart.type.pie":"camembert","dashboard.catalog.allRecords":"Jeux de donn\xe9es","dashboard.createRecord":"Nouveau jeu de donn\xe9es","dashboard.importRecord":"Importer","dashboard.importRecord.importExternal":"Importer un jeu de donn\xe9es externe","dashboard.importRecord.importExternal.subtitle":"(lien vers un fichier XML)","dashboard.importRecord.importExternal.title":"URL du jeu de donn\xe9es externe","dashboard.labels.catalog":"Catalogue","dashboard.labels.mySpace":"Mon espace","dashboard.records.all":"Jeux de donn\xe9es","dashboard.records.hasDraft":"brouillon","dashboard.records.isMultilingual":"Cet enregistrement est multilingue ({languages})","dashboard.records.myDraft":"Mes brouillons","dashboard.records.myRecords":"Mes jeux de donn\xe9es","dashboard.records.search":"R\xe9sultats pour \\"{searchText}\\"","dashboard.records.userDetail":"Nom","dashboard.records.userEmail":"Email","dashboard.records.username":"Nom d\'utilisateur","dashboard.records.users":"{count, plural, =1{utilisateur} other{utilisateurs}}","datahub.header.datasets":"Catalogue","datahub.header.lastRecords":"Les plus r\xe9centes","datahub.header.myfavorites":"Mes favoris","datahub.header.news":"Accueil","datahub.header.organizations":"Organisations","datahub.header.popularRecords":"Les plus appr\xe9ci\xe9es","datahub.header.title.html":"<div class=\\"text-white\\">Toutes les donn\xe9es<br>publiques de mon organisation</div>","datahub.news.contact.contactus":"Contactez-nous","datahub.news.contact.html":"<p>Vous avez besoin de donn\xe9es qui ne sont pas pr\xe9sentes sur la plateforme actuellement ? </p><p> Nos \xe9quipes sont l\xe0 pour vous r\xe9pondre.</p>","datahub.news.contact.title":"Un besoin sp\xe9cifique ?","datahub.news.feed":"Fil d\'activit\xe9","datahub.news.figures":"Quelques chiffres","datahub.search.back":"Retour","datahub.search.filter.all":"Tous","datahub.search.filter.generatedByAPI":"g\xe9n\xe9r\xe9 par une API","datahub.search.filter.generatedByWfs":"g\xe9n\xe9r\xe9 par un WFS","datahub.search.filter.others":"Autres","dataset.error.forbidden":"L\u2019acc\xe8s \xe0 cette ressource est restreint","dataset.error.http":"Le chargement des donn\xe9es a \xe9chou\xe9 en raison d\'une erreur HTTP: \\"{ info }\\"","dataset.error.network":"Le chargement des donn\xe9es a \xe9chou\xe9 en raison d\'une erreur r\xe9seau ou de limitations CORS: \\"{ info }\\"","dataset.error.parse":"Les donn\xe9es ont \xe9t\xe9 charg\xe9es mais leur d\xe9codage a \xe9chou\xe9: \\"{ info }\\"","dataset.error.restrictedAccess":"L\u2019acc\xe8s \xe0 cette ressource est restreint","dataset.error.unknown":"Les donn\xe9es ne peuvent \xeatre affich\xe9es: \\"{ info }\\"","dataset.error.unsupportedType":"Le type de contenu suivant n\'est pas pris en charge: \\"{ info }\\"","domain.contact.role.author":"Auteur","domain.contact.role.collaborator":"Collaborateur","domain.contact.role.contributor":"Contributeur","domain.contact.role.custodian":"Gestionnaire","domain.contact.role.distributor":"Distributeur","domain.contact.role.editor":"\xc9diteur","domain.contact.role.funder":"Financeur","domain.contact.role.mediator":"M\xe9diateur","domain.contact.role.originator":"Cr\xe9ateur","domain.contact.role.other":"Autre","domain.contact.role.owner":"Propri\xe9taire","domain.contact.role.point_of_contact":"Point de contact","domain.contact.role.principal_investigator":"Chercheur principal","domain.contact.role.processor":"Processeur","domain.contact.role.publisher":"Producteur","domain.contact.role.resource_provider":"Fournisseur","domain.contact.role.rights_holder":"D\xe9tenteur des droits","domain.contact.role.sponsor":"Sponsor","domain.contact.role.stakeholder":"Partie prenante","domain.contact.role.unspecified":"Non sp\xe9cifi\xe9","domain.contact.role.user":"Utilisateur","domain.record.status.completed":"Finalis\xe9","domain.record.status.deprecated":"Obsol\xe8te","domain.record.status.ongoing":"Mise \xe0 jour continue","domain.record.status.removed":"Supprim\xe9","domain.record.status.under_development":"En cours de cr\xe9ation","domain.record.updateFrequency.annually":"Les donn\xe9es sont mises \xe0 jour chaque ann\xe9e","domain.record.updateFrequency.asNeeded":"Les donn\xe9es sont mises \xe0 jour selon les besoins","domain.record.updateFrequency.biannually":"Les donn\xe9es sont mises \xe0 jour deux fois par an","domain.record.updateFrequency.biennially":"Les donn\xe9es sont mises \xe0 jour tous les 2 ans","domain.record.updateFrequency.continual":"Les donn\xe9es sont mises \xe0 jour de mani\xe8re r\xe9p\xe9t\xe9e et fr\xe9quente","domain.record.updateFrequency.daily":"Les donn\xe9es sont mises \xe0 jour chaque jour","domain.record.updateFrequency.day":"{count, plural, =0{0 fois} one{Une fois} other{{count} fois}} par jour","domain.record.updateFrequency.fortnightly":"Les donn\xe9es sont mises \xe0 jour toutes les deux semaines","domain.record.updateFrequency.irregular":"Les donn\xe9es sont mises \xe0 jour \xe0 intervalles irr\xe9guliers","domain.record.updateFrequency.month":"{count, plural, =0{0 fois} one{Une fois} other{{count} fois}} par mois","domain.record.updateFrequency.monthly":"Les donn\xe9es sont mises \xe0 jour chaque mois","domain.record.updateFrequency.notPlanned":"Il n\'y a pas de plan pour mettre \xe0 jour les donn\xe9es","domain.record.updateFrequency.periodic":"Les donn\xe9es sont mises \xe0 jour \xe0 intervalles r\xe9guliers","domain.record.updateFrequency.quarterly":"Les donn\xe9es sont mises \xe0 jour tous les trois mois","domain.record.updateFrequency.semimonthly":"Les donn\xe9es sont mises \xe0 jour deux fois par mois","domain.record.updateFrequency.unknown":"La fr\xe9quence de mise \xe0 jour des donn\xe9es est inconnue","domain.record.updateFrequency.week":"{count, plural, =0{0 fois} one{Une fois} other{{count} fois}} par semaine","domain.record.updateFrequency.weekly":"Les donn\xe9es sont mises \xe0 jour chaque semaine","domain.record.updateFrequency.year":"{count, plural, =0{0 fois} one{Une fois} other{{count} fois}} par an","downloads.format.unknown":"inconnu","downloads.wfs.featuretype.not.found":"La couche n\'a pas \xe9t\xe9 trouv\xe9e","dropFile":"Faites glisser votre fichier","editor.new.record.title":"Mon jeu de donn\xe9es","editor.record.delete.confirmation.cancelText":"Annuler","editor.record.delete.confirmation.confirmText":"Supprimer","editor.record.delete.confirmation.message":"\xcates-vous s\xfbr de vouloir supprimer ce jeu de donn\xe9es ?","editor.record.delete.confirmation.title":"Supprimer le jeu de donn\xe9es ?","editor.record.deleteError.body":"Le jeu de donn\xe9es n\'a pas pu \xeatre supprim\xe9 :","editor.record.deleteError.closeMessage":"Compris","editor.record.deleteError.title":"Erreur lors de la suppression","editor.record.deleteSuccess.body":"Le jeu de donn\xe9es a \xe9t\xe9 supprim\xe9 avec succ\xe8s","editor.record.deleteSuccess.title":"Suppression r\xe9ussie","editor.record.error.back":"Retour au catalogue","editor.record.error.explanation":"Vous n\'avez peut \xeatre pas acc\xe8s \xe0 cette fiche,<br>Ou ce lien n\'est peut \xeatre pas valide.","editor.record.error.message":"Quelque chose ne s\'est pas pass\xe9 comme pr\xe9vu","editor.record.form.bottomButtons.comeBackLater":"Revenir plus tard","editor.record.form.bottomButtons.next":"Suivant","editor.record.form.bottomButtons.previous":"Pr\xe9c\xe9dent","editor.record.form.classification.opendata":"Donn\xe9es ouvertes","editor.record.form.constraint.add.legalConstraints":"Ajouter une contrainte l\xe9gale","editor.record.form.constraint.add.otherConstraints":"Ajouter une contrainte","editor.record.form.constraint.add.securityConstraints":"Ajouter une contrainte de s\xe9curit\xe9","editor.record.form.constraint.header.legalConstraints":"Conditions applicables de type l\xe9gal","editor.record.form.constraint.header.otherConstraints":"Autres conditions applicables","editor.record.form.constraint.header.securityConstraints":"Conditions applicables de type s\xe9curit\xe9","editor.record.form.constraint.legalConstraints":"Contraintes l\xe9gales","editor.record.form.constraint.markdown.placeholder":"Votre texte ici","editor.record.form.constraint.not.applicable":"Aucune condition ne s\u2019applique","editor.record.form.constraint.not.known":"Les conditions sont inconnues","editor.record.form.constraint.otherConstraints":"Autres contraintes","editor.record.form.constraint.securityConstraints":"Contraintes de s\xe9curit\xe9","editor.record.form.draft.updateAlert":"Depuis la cr\xe9ation de ce brouillon, ce jeu de donn\xe9es a \xe9t\xe9 modifi\xe9 le { date } par { user }. Publier votre version peut supprimer ses modifications. Pour \xe9viter cela, vous pouvez annuler vos changements, ou publier votre version en connaissance de cause.","editor.record.form.field.abstract":"Description","editor.record.form.field.constraintsShortcuts":"","editor.record.form.field.contacts.noContact":"Veuillez renseigner au moins un point de contact.","editor.record.form.field.contacts.placeholder":"Choisissez un contact","editor.record.form.field.contactsForResource.noContact":"Veuillez renseigner au moins un point de contact responsable de la donn\xe9e.","editor.record.form.field.contactsForResource.placeholder":"Choisissez un contact","editor.record.form.field.keywords":"Mots-cl\xe9s","editor.record.form.field.legalConstraints":"Contrainte l\xe9gale","editor.record.form.field.license":"Licence","editor.record.form.field.onlineLinkResources":"Ressources attach\xe9es","editor.record.form.field.onlineResource.cancel":"Annuler","editor.record.form.field.onlineResource.confirm":"Valider","editor.record.form.field.onlineResource.dialogTitle":"Modifier l\'aper\xe7u du jeu de donn\xe9es","editor.record.form.field.onlineResource.edit.description":"Description","editor.record.form.field.onlineResource.edit.identifier.error":"Impossible de r\xe9cup\xe9rer les couches depuis le protocole","editor.record.form.field.onlineResource.edit.identifier.placeholder":"Nom de la couche","editor.record.form.field.onlineResource.edit.identifier.placeholder.wps":"Nom du processus","editor.record.form.field.onlineResource.edit.identifier.select.label":"S\xe9lectionner une couche","editor.record.form.field.onlineResource.edit.identifier.submit":"Lier le service","editor.record.form.field.onlineResource.edit.protocol":"Protocole","editor.record.form.field.onlineResource.edit.title":"Titre","editor.record.form.field.onlineResource.fileSize":"{sizeMB} Mo","editor.record.form.field.onlineResource.modify":"Modifier","editor.record.form.field.onlineResource.toggle.dataset":"Lier un fichier","editor.record.form.field.onlineResource.toggle.service":"Lier un service","editor.record.form.field.onlineResources":"Distribution","editor.record.form.field.otherConstraints":"Contrainte g\xe9n\xe9rale","editor.record.form.field.overviews":"Aper\xe7u","editor.record.form.field.recordUpdated":"Date de mise \xe0 jour","editor.record.form.field.resourceCreated":"Date de cr\xe9ation","editor.record.form.field.resourceIdentifier":"Identifiant","editor.record.form.field.resourceUpdated":"Date de mise \xe0 jour","editor.record.form.field.securityConstraints":"Contrainte de s\xe9curit\xe9","editor.record.form.field.spatialExtents":"\xc9tendue spatiale","editor.record.form.field.temporalExtents":"\xc9tendue temporelle","editor.record.form.field.title":"Titre","editor.record.form.field.title.placeholder":"Saisir un titre","editor.record.form.field.uniqueIdentifier":"Identifiant unique","editor.record.form.field.updateFrequency":"Fr\xe9quence de mise \xe0 jour","editor.record.form.keywords.place.placeholder":"Rechercher une localisation par mot-cl\xe9","editor.record.form.keywords.place.withoutExtent":"Ce mot-cl\xe9 n\'a pas de localisation g\xe9ographique associ\xe9e","editor.record.form.keywords.placeholder":"S\xe9lectionnez un mot-cl\xe9","editor.record.form.license.cc-by":"Creative Commons CC-BY","editor.record.form.license.cc-by-sa":"Creative Commons CC-BY-SA","editor.record.form.license.cc-zero":"Creative Commons CC-0","editor.record.form.license.etalab":"Licence Ouverte (Etalab)","editor.record.form.license.etalab-v2":"Licence Ouverte v2.0 (Etalab)","editor.record.form.license.odbl":"Open Data Commons ODbL","editor.record.form.license.odc-by":"Open Data Commons ODC-By","editor.record.form.license.pddl":"Open Data Commons PDDL","editor.record.form.license.unknown":"Inconnue ou absente","editor.record.form.multilingual.activate":"Activez les langues","editor.record.form.multilingual.default":"Par d\xe9faut","editor.record.form.multilingual.enable":"Mode Multilingue","editor.record.form.multilingual.forbidden":"Vous ne pouvez pas supprimer la langue par d\xe9faut","editor.record.form.multilingual.open":"Ouvrir le menu multilingue","editor.record.form.multilingual.title":"Traductions","editor.record.form.multilingual.validate":"Valider","editor.record.form.page.accessAndContact":"Informations pour l\'utilisation","editor.record.form.page.description":"Description du jeu de donn\xe9es","editor.record.form.page.resources":"Ressources","editor.record.form.section.about.description":"Ces informations concernent le jeu de donn\xe9es","editor.record.form.section.about.label":"\xc0 propos du jeu de donn\xe9es","editor.record.form.section.annexes.description":"Les annexes sont des ressources optionnelles. Elles sont attach\xe9es au jeu de donn\xe9es, et aident \xe0 mieux comprendre la donn\xe9e (notice, etc.).","editor.record.form.section.annexes.label":"Annexes","editor.record.form.section.associatedResources.description":"Indiquez o\xf9 la donn\xe9e se trouve","editor.record.form.section.associatedResources.label":"Ressources associ\xe9es","editor.record.form.section.classification.description":"Des mots-cl\xe9s appropri\xe9s aident \xe0 trouver le jeu de donn\xe9es","editor.record.form.section.classification.label":"Mots-cl\xe9s","editor.record.form.section.dataManagers.description":"Cette information concerne la donn\xe9e","editor.record.form.section.dataManagers.label":"Responsables de la donn\xe9e","editor.record.form.section.geographicalCoverage.label":"Couverture g\xe9ographique","editor.record.form.section.metadataPointOfContact.description":"Cette information concerne la m\xe9tadonn\xe9e","editor.record.form.section.metadataPointOfContact.label":"Point de contact de la m\xe9tadonn\xe9e","editor.record.form.section.useAndAccessConditions.label":"Conditions d\'acc\xe8s et d\'utilisation","editor.record.form.temporalExtents.addDate":"Date d\xe9termin\xe9e","editor.record.form.temporalExtents.addRange":"P\xe9riode de temps","editor.record.form.temporalExtents.date":"Date concern\xe9e","editor.record.form.temporalExtents.range":"P\xe9riode concern\xe9e","editor.record.form.updateFrequency.planned":"Ce jeu de donn\xe9es est mis \xe0 jour r\xe9guli\xe8rement","editor.record.importFromExternalFile.failure.body":"Une erreur est survenue pendant l\'import du jeu de donn\xe9es : ","editor.record.importFromExternalFile.failure.title":"Erreur","editor.record.importFromExternalFile.success.body":"L\'import du jeu de donn\xe9es \xe0 \xe9t\xe9 realis\xe9 avec succ\xe8s.","editor.record.importFromExternalFile.success.title":"Import r\xe9ussi","editor.record.loadError.body":"Le jeu de donn\xe9es n\'a pas pu \xeatre charg\xe9 :","editor.record.loadError.closeMessage":"Compris","editor.record.loadError.title":"Erreur lors du chargement","editor.record.lock.harvested":"Les jeux de donn\xe9es moissonn\xe9s ne sont pas \xe9ditables","editor.record.lock.owner":"Vous n\'\xeates pas \xe9diteur d\'un des groupes autoris\xe9s","editor.record.lock.resourceType":"Les fiches d\'un type autre que jeu de donn\xe9es ne sont pas \xe9ditables","editor.record.multilingual.confirmation.cancelText":"Garder le(s) langue(s)","editor.record.multilingual.confirmation.confirmText":"Supprimer le(s) langue(s)","editor.record.multilingual.confirmation.message":"Vous allez supprimer une ou plusieurs langues, ce qui supprimera toutes les traductions qui y sont li\xe9es. Voulez-vous proc\xe9der ?","editor.record.multilingual.confirmation.title":"Suppression de langue(s)","editor.record.onlineResource.protocol.other":"Autre","editor.record.onlineResourceError.body":"Une erreur est survenue lors de l\'ajout de la ressource :","editor.record.onlineResourceError.closeMessage":"Compris","editor.record.onlineResourceError.title":"Erreur lors de l\'ajout d\'une ressource","editor.record.placeKeywordWithoutLabel":"Localisation sans nom","editor.record.publish":"Publier ce jeu de donn\xe9es","editor.record.publish.confirmation.cancelText":"Annuler","editor.record.publish.confirmation.confirmText":"Publier","editor.record.publish.confirmation.message":"Depuis la cr\xe9ation de votre brouillon, ce jeu de donn\xe9es a \xe9t\xe9 modifi\xe9 le { date } par { user }. Publier votre version pourrait supprimer ses modifications. Souhaitez-vous poursuivre ?","editor.record.publishError.body":"Le jeu de donn\xe9es n\'a pas pu \xeatre publi\xe9 :","editor.record.publishError.closeMessage":"Compris","editor.record.publishError.title":"Erreur lors de la publication","editor.record.publishSuccess.body":"Le jeu de donn\xe9es a \xe9t\xe9 publi\xe9 avec succ\xe8s","editor.record.publishSuccess.title":"Publication r\xe9ussie","editor.record.publishVersionError.body":"Le jeu de donn\xe9es ne peut pas \xeatre publi\xe9 car une version incompatible de GeoNetwork a \xe9t\xe9 d\xe9tect\xe9e. Veuillez contacter un administrateur de la plateforme pour r\xe9soudre le probl\xe8me.\\nVersion actuelle : {currentVersion}\\nVersion minimum compatible : 4.2.5","editor.record.publishVersionError.closeMessage":"Compris","editor.record.publishVersionError.title":"Une erreur critique est survenue","editor.record.resourceError.body":"Une erreur est survenue lors de la gestion des pi\xe8ces jointes :","editor.record.resourceError.closeMessage":"Compris","editor.record.resourceError.title":"Erreur avec les pi\xe8ces jointes","editor.record.saveStatus.draftWithChangesPending":"Sauvegard\xe9 - Modifications non publi\xe9es","editor.record.saveStatus.recordNotPublished":"Sauvegard\xe9 - non publi\xe9","editor.record.saveStatus.recordUpToDate":"Sauvegard\xe9 - Jeu de donn\xe9es \xe0 jour","editor.record.undo.confirmation.cancelText":"Garder les modifications","editor.record.undo.confirmation.confirmText":"Retirer les modifications","editor.record.undo.confirmation.message":"\xcates-vous s\xfbr de vouloir annuler les modifications apport\xe9es \xe0 ce jeu de donn\xe9es ?","editor.record.undo.confirmation.title":"Annuler les modifications ?","editor.record.undo.tooltip.disabled":"Il n\'y a pas de modifications en cours sur ce jeu de donn\xe9es","editor.record.undo.tooltip.enabled":"Cliquer sur ce bouton pour annuler les modifications apport\xe9es \xe0 ce jeu de donn\xe9es","editor.record.upToDate":"Ce jeu de donn\xe9es est \xe0 jour","editor.sidebar.logout":"Se d\xe9connecter","editor.sidebar.menu.editor":"Editeur","editor.temporary.disabled":"Pas encore impl\xe9ment\xe9","externalviewer.dataset.unnamed":"Couche du datahub","facets.block.title.OrgForResource":"Organisation","facets.block.title.availableInServices":"Disponible pour","facets.block.title.cl_hierarchyLevel.key":"Type de ressource","facets.block.title.cl_maintenanceAndUpdateFrequency.key":"Fr\xe9quence de mise \xe0 jour","facets.block.title.cl_spatialRepresentationType.key":"Repr\xe9sentation spatiale","facets.block.title.cl_status.key":"Statut","facets.block.title.creationYearForResource":"Ann\xe9e de cr\xe9ation","facets.block.title.resolutionScaleDenominator":"\xc9chelle","facets.block.title.tag":"Mots-cl\xe9s","facets.block.title.tag.default":"Tag","facets.block.title.th_regions_tree.default":"R\xe9gions","favorite.not.authenticated.tooltip":"<div><a href=\' {link} \'>Connectez-vous</a> pour avoir acc\xe8s \xe0 cette fonctionnalit\xe9</div>","favorite.starToggle.label":"Ajouter aux favoris","feature.catalog.attribute.code":"Code","feature.catalog.attribute.definition":"Description","feature.catalog.attribute.name":"Nom","feature.catalog.attribute.type":"Type","feature.catalog.attribute.values":"Valeurs","input.file.dropFileLabel":"ou glissez-le ici","input.file.orInputUrl":"ou cr\xe9ez un lien vers une ressource externe","input.file.selectFileLabel":"S\xe9lectionnez un fichier ({sizeMB} Mo max.)","input.file.uploadProgressCancel":"Annuler","input.file.uploadProgressLabel":"Chargement en cours...","input.image.altTextPlaceholder":"Texte alternatif de l\'image","input.image.delete":"Supprimer","input.image.displayAltTextInput":"Texte alternatif","input.image.displayUrlInput":"Saisir une URL","input.image.dropFileLabel":"ou glissez-la ici","input.image.selectFileLabel":"S\xe9lectionnez une image","input.image.uploadErrorLabel":"L\'image n\'a pas pu \xeatre charg\xe9e","input.image.uploadProgressCancel":"Annuler","input.image.uploadProgressLabel":"Chargement en cours...","language.ar":"Arabe","language.az":"Az\xe9ri","language.ca":"Catalan","language.cs":"Tch\xe8que","language.cy":"Gallois","language.da":"Danois","language.de":"Allemand","language.en":"Anglais","language.es":"Espagnol","language.fi":"Finnois","language.fr":"Fran\xe7ais","language.hy":"Arm\xe9nien","language.is":"Islandais","language.it":"Italien","language.ka":"G\xe9orgien","language.ko":"Cor\xe9en","language.nl":"N\xe9erlandais","language.no":"Norv\xe9gien","language.pl":"Polonais","language.pt":"Portugais","language.rm":"Romanche","language.ru":"Russe","language.sk":"Slovaque","language.sv":"Su\xe9dois","language.tr":"Turque","language.uk":"Ukrainien","language.zh":"Chinois","map.add.layer":"Ajouter une couche","map.add.layer.catalog":"Du catalogue","map.add.layer.file":"\xc0 partir d\'un fichier","map.add.layer.ogc.api":"Depuis un service OGC API","map.add.layer.wfs":"Depuis un service WFS","map.add.layer.wms":"Depuis un service WMS","map.addFromFile.placeholder":"Cliquez ou d\xe9posez un fichier ici","map.dropdown.placeholder":"Aucune couche d\'aper\xe7u disponible","map.geocoding.placeholder":"Rechercher un lieu","map.help.addFromFile":"Cliquez ou glissez-d\xe9posez un fichier pour l\'ajouter \xe0 la carte (supporte actuellement uniquement le format GeoJSON).","map.layer.add":"Ajouter","map.layers.available":"Couches disponibles","map.layers.list":"Couches","map.loading.data":"Chargement des donn\xe9es...","map.loading.service":"Chargement du service...","map.navigation.message":"Veuillez utiliser CTRL + souris (ou deux doigts sur mobile) pour naviguer sur la carte","map.ogc.urlInput.hint":"Entrez l\'URL du service OGC API","map.select.layer":"Source de donn\xe9es","map.select.style":"Style","map.wfs.urlInput.hint":"Entrez l\'URL du service WFS","map.wms.urlInput.hint":"Entrez l\'URL du service WMS","multiselect.filter.placeholder":"Rechercher","nav.back":"Retour","navbar.mobile.menuTitle":"Navigation rapide","ogc.unreachable.unknown":"Le service n\'est pas accessible","organisation.filter.placeholder":"Filtrer les r\xe9sultats","organisation.sort.sortBy":"Trier par :","organisations.hits.found":"{hits, plural, =0{Aucune organisation trouv\xe9e} one{1 organisation sur {total} affich\xe9e} other{{hits} organisations sur {total} affich\xe9es}}","organisations.sortBy.nameAsc":"Nom A \u2192 Z","organisations.sortBy.nameDesc":"Nom Z \u2192 A","organisations.sortBy.recordCountAsc":"Donn\xe9es 0 \u2192 9","organisations.sortBy.recordCountDesc":"Donn\xe9es 9 \u2192 0","organization.details.lastPublishedDatasets":"Derni\xe8res donn\xe9es publi\xe9es","organization.details.lastPublishedDatasets.searchAllButton":"Rechercher tout","organization.details.mailContact":"Contacter par mail","organization.header.recordCount":"{count, plural, =0{donn\xe9e} one{donn\xe9e} other{donn\xe9es}}","pagination.nextPage":"Page suivante","pagination.page":"Page","pagination.pageOf":"sur","record.action.delete":"Supprimer","record.action.download":"T\xe9l\xe9charger","record.action.duplicate":"Dupliquer","record.action.duplicating":"Duplication...","record.action.rollback":"Restaurer","record.action.switchLang":"Marquer par d\xe9faut","record.action.view":"Voir","record.card.metadata.contact":"Contact de la m\xe9tadonn\xe9e ","record.externalViewer.open":"Ouvrir dans le visualiseur externe","record.feature.catalog.number.total.attribute":"Nombre total d\'attributs","record.feature.catalog.number.total.object":"Nombre total d\'objets","record.feature.limit":"L\u2019aper\xe7u a \xe9t\xe9 d\xe9sactiv\xe9 en raison d\u2019un trop grand nombre d\'\xe9l\xe9ments","record.kind.dataset":"Donn\xe9e","record.kind.reuse":"R\xe9utilisation","record.kind.service":"Service","record.metadata.about":"A propos","record.metadata.api":"API","record.metadata.api.accessServiceProtocol.GPFDL":"","record.metadata.api.accessServiceProtocol.esriRest":"","record.metadata.api.accessServiceProtocol.maplibre-style":"","record.metadata.api.accessServiceProtocol.ogcFeatures":"","record.metadata.api.accessServiceProtocol.other":"autre","record.metadata.api.accessServiceProtocol.tms":"","record.metadata.api.accessServiceProtocol.wfs":"","record.metadata.api.accessServiceProtocol.wms":"","record.metadata.api.accessServiceProtocol.wmts":"","record.metadata.api.accessServiceProtocol.wps":"","record.metadata.api.form.closeButton":"Fermer","record.metadata.api.form.closeForm":"Fermer le panneau de personnalisation","record.metadata.api.form.create":"Param\xe9trer votre requ\xeate","record.metadata.api.form.crsTitle":"Syst\xe8me de coordonn\xe9es","record.metadata.api.form.crsTooltip":"Menu d\xe9roulant pour s\xe9lectionner un syst\xe8me de coordonn\xe9es (CRS)","record.metadata.api.form.customUrl":"URL personnalis\xe9e","record.metadata.api.form.filter":"Filtres","record.metadata.api.form.filterDescription":"Section pour affiner les \xe9l\xe9ments affich\xe9s","record.metadata.api.form.formatTitle":"Format","record.metadata.api.form.formatTooltip":"Menu d\xe9roulant pour s\xe9lectionner un format de donn\xe9es","record.metadata.api.form.items":"El\xe9ments disponibles","record.metadata.api.form.itemsDescription":"Liste des \xe9l\xe9ments","record.metadata.api.form.itemsTooltip":"Faites d\xe9filer pour voir tous les \xe9l\xe9ments disponibles ou filtr\xe9s","record.metadata.api.form.limit":"Nombre d\'enregistrements","record.metadata.api.form.limit.all":"Tous","record.metadata.api.form.nextPage":"Suivant","record.metadata.api.form.nextPageTooltip":"Aller \xe0 la page suivante","record.metadata.api.form.offset":"Num\xe9ro du 1er enregistrement","record.metadata.api.form.openForm":"Ouvrir le panneau de personnalisation","record.metadata.api.form.paginationDescription":"Pagination des \xe9l\xe9ments affich\xe9s","record.metadata.api.form.previousPage":"Pr\xe9c\xe9dent","record.metadata.api.form.previousPageTooltip":"Aller \xe0 la page pr\xe9c\xe9dente","record.metadata.api.form.productTooltip":"","record.metadata.api.form.reset":"R\xe9initialiser","record.metadata.api.form.resetTooltip":"R\xe9initialiser tous les filtres","record.metadata.api.form.title":"G\xe9n\xe9rer une URL personnalis\xe9e","record.metadata.api.form.title.gpf":"T\xe9l\xe9chargement de donn\xe9es","record.metadata.api.form.type":"Format en sortie","record.metadata.api.form.zoneTitle":"Zone","record.metadata.api.form.zoneTooltip":"Menu d\xe9roulant pour s\xe9lectionner une zone g\xe9ographique","record.metadata.api.gpfdl":"T\xe9l\xe9chargement","record.metadata.capabilities":"Capacit\xe9s du service","record.metadata.catalog":"Catalogue","record.metadata.contact":"Contact","record.metadata.creation":"Date de cr\xe9ation","record.metadata.details":"\xc0 propos de la donn\xe9e","record.metadata.download":"T\xe9l\xe9chargements","record.metadata.feature.catalog":"Catalogue d\'attributs","record.metadata.formats":"Formats","record.metadata.isGeographical":"Donn\xe9e g\xe9ographique","record.metadata.keywords":"Mots-cl\xe9s","record.metadata.languages":"Langues","record.metadata.lastUpdate":"Mis \xe0 jour le {date}","record.metadata.linked.datasets":"Jeux de donn\xe9es associ\xe9s","record.metadata.linked.records":"Contenus associ\xe9s","record.metadata.linked.reuses":"R\xe9utilisations associ\xe9es","record.metadata.linked.services":"Services associ\xe9s","record.metadata.linked.sourceDatasets":"Jeux de donn\xe9es sources","record.metadata.links":"Liens","record.metadata.noUsage":"Aucune condition d\'utilisation sp\xe9cifi\xe9e pour ces donn\xe9es","record.metadata.otherConstraints":"Limitations d\'usage","record.metadata.owner":"Catalogue d\'origine","record.metadata.preview":"Aper\xe7u","record.metadata.preview.config.error":"Erreur lors de la sauvegarde","record.metadata.preview.config.idle":"D\xe9finir l\'aper\xe7u par d\xe9faut","record.metadata.preview.config.saved":"Sauvegard\xe9 !","record.metadata.preview.config.saving":"Sauvegarde...","record.metadata.producer":"Producteur de la donn\xe9e","record.metadata.publication":"Date de publication","record.metadata.publications":"{count, plural, =0{donn\xe9e} one{donn\xe9e} other{donn\xe9es}}","record.metadata.quality":"Qualit\xe9 des m\xe9tadonn\xe9es","record.metadata.quality.capabilities.failed":"Aucune URL de Capabilities n\'est renseign\xe9e","record.metadata.quality.capabilities.success":"Une URL de Capabilities est renseign\xe9e","record.metadata.quality.contact.failed":"Le contact n\'est pas renseign\xe9","record.metadata.quality.contact.success":"Le contact est renseign\xe9","record.metadata.quality.description.failed":"La description n\'est pas renseign\xe9e","record.metadata.quality.description.success":"La description est renseign\xe9e","record.metadata.quality.details":"D\xe9tails","record.metadata.quality.keywords.failed":"Les mots-cl\xe9s ne sont pas renseign\xe9s","record.metadata.quality.keywords.success":"Les mots-cl\xe9s sont renseign\xe9s","record.metadata.quality.legalConstraints.failed":"Les contraintes l\xe9gales ne sont pas renseign\xe9es","record.metadata.quality.legalConstraints.success":"Les contraintes l\xe9gales sont renseign\xe9es","record.metadata.quality.organisation.failed":"Le producteur n\'est pas renseign\xe9","record.metadata.quality.organisation.success":"Le producteur est renseign\xe9","record.metadata.quality.source.failed":"Aucun jeu de donn\xe9es source n\'est renseign\xe9","record.metadata.quality.source.success":"Un jeu de donn\xe9es source est renseign\xe9","record.metadata.quality.title.failed":"Le titre n\'est pas renseign\xe9","record.metadata.quality.title.success":"Le titre est renseign\xe9","record.metadata.quality.topic.failed":"Le th\xe8me n\'est pas renseign\xe9","record.metadata.quality.topic.success":"Le th\xe8me est renseign\xe9","record.metadata.quality.updateFrequency.failed":"La fr\xe9quence de mise \xe0 jour n\'est pas renseign\xe9e","record.metadata.quality.updateFrequency.success":"La fr\xe9quence de mise \xe0 jour est renseign\xe9e","record.metadata.related":"Explorez le catalogue","record.metadata.ressources.and.links":"Ressources et liens","record.metadata.sheet":"Fiche de m\xe9tadonn\xe9es d\'origine","record.metadata.status":"Statut","record.metadata.status.notPublished":"Non publi\xe9","record.metadata.status.published":"Publi\xe9","record.metadata.temporalExtent":"\xc9tendue temporelle","record.metadata.temporalExtent.fromDateToDate":"Du { start } au { end }","record.metadata.temporalExtent.sinceDate":"Depuis le { start }","record.metadata.temporalExtent.untilDate":"Jusqu\'au { end }","record.metadata.title":"Intitul\xe9","record.metadata.topics":"Cat\xe9gories","record.metadata.uniqueId":"Identificateur de ressource unique","record.metadata.updateFrequency":"Fr\xe9quence de mise \xe0 jour des donn\xe9es","record.metadata.updatedOn":"Modifi\xe9 le","record.metadata.usage":"Licences et conditions d\'utilisation","record.metadata.userFeedbacks":"Questions / R\xe9ponses","record.metadata.userFeedbacks.anonymousUser":"Pour r\xe9diger un commentaire, veuillez vous identifier.","record.metadata.userFeedbacks.newAnswer.buttonTitle":"Publier","record.metadata.userFeedbacks.newAnswer.placeholder":"R\xe9pondre...","record.metadata.userFeedbacks.newComment.placeholder":"R\xe9digez votre commentaire ici...","record.metadata.userFeedbacks.sortSelector.choices.newestFirst":"Les plus r\xe9cents en premier","record.metadata.userFeedbacks.sortSelector.choices.oldestFirst":"Les plus anciens en premier","record.metadata.userFeedbacks.sortSelector.label":"Trier par ...","record.more.details":"D\xe9tails","record.tab.chart":"Graphique","record.tab.data":"Tableau","record.tab.map":"Carte","record.was.created.time":"a cr\xe9\xe9 ce jeu de donn\xe9es {time}","records":"Enregistrements","results.layout.selectOne":"Affichage des r\xe9sultats","results.records.hits.displayedOn":"{displayed, plural, =0{Aucun jeu de donn\xe9es} one{1 affich\xe9} other{{displayed} affich\xe9s}} {hits, plural, other{sur {hits} au total.}}","results.records.hits.empty.help.html":"Suggestions : <ul class=\'list-disc list-inside\'><li>Essayez d\'autres mots-cl\xe9s</li><li>Cherchez moins de mots</li></ul>","results.records.hits.found":"{hits, plural, =0{Aucune correspondance.} one{1 jeu de donn\xe9es trouv\xe9.} other{{hits} jeux de donn\xe9es.}}","results.records.hits.selected":"{amount, plural, one{1 selectionn\xe9} other{{ amount } s\xe9lectionn\xe9s}}","results.showMore":"Plus de r\xe9sultats...","results.sortBy.changeDate":"Derni\xe8re modification","results.sortBy.dateStamp":"Plus r\xe9cent","results.sortBy.popularity":"Popularit\xe9","results.sortBy.qualityScore":"Indicateur de qualit\xe9","results.sortBy.relevancy":"Pertinence","reuse.metadata.access":"Acc\xe9der \xe0 la r\xe9utilisation","search.autocomplete.error":"Les suggestions ne peuvent pas \xeatre r\xe9cup\xe9r\xe9es","search.error.couldNotReachApi":"Probl\xe8me de connexion \xe0 l\'API","search.error.organizationHasNoDataset":"Cette organisation n\'a pas encore de donn\xe9es.","search.error.organizationNotFound":"L\'organisation n\'a pas pu \xeatre trouv\xe9e.","search.error.receivedError":"Erreur retourn\xe9e","search.error.recordHasnolink":"Ce jeu de donn\xe9es n\'a pas encore de lien, r\xe9essayez plus tard s\'il vous pla\xeet.","search.error.recordNotFound":"Cette donn\xe9e n\'a pu \xeatre trouv\xe9e.","search.field.any.placeholder":"Rechercher dans le catalogue...","search.field.sortBy":"Trier par :","search.filter.into.feature.catalog":"Rechercher un terme","search.filters.availableServices.download":"","search.filters.availableServices.view":"","search.filters.changeDate":"Mise \xe0 jour","search.filters.clear":"R\xe9initialiser","search.filters.contact":"Contacts","search.filters.format":"Formats","search.filters.inspireKeyword":"Mot-cl\xe9 INSPIRE","search.filters.isSpatial":"Donn\xe9es spatiales","search.filters.isSpatial.no":"Non-g\xe9olocalis\xe9es","search.filters.isSpatial.yes":"G\xe9olocalis\xe9es","search.filters.keyword":"Mot-cl\xe9","search.filters.license":"Licence","search.filters.license.cc-by":"cc-by","search.filters.license.cc-by-sa":"cc-by-sa","search.filters.license.cc-zero":"cc-zero","search.filters.license.etalab":"Licence Ouverte (Etalab)","search.filters.license.etalab-v2":"Licence Ouverte v2.0 (Etalab)","search.filters.license.odbl":"odbl","search.filters.license.odc-by":"odc-by","search.filters.license.pddl":"pddl","search.filters.license.unknown":"Non reconnue ou absente","search.filters.maximize":"Agrandir","search.filters.minimize":"R\xe9duire","search.filters.myRecords":"Voir mes jeux de donn\xe9es","search.filters.myRecordsHelp":"Quand activ\xe9, n\'affiche que les jeux de donn\xe9es cr\xe9\xe9s avec mon utilisateur. Les donn\xe9es cr\xe9\xe9es par les autres utilisateurs ne sont pas affich\xe9es.","search.filters.organization":"Organisation","search.filters.otherRecords":"Affichage des jeux de donn\xe9es d\'un autre utilisateur","search.filters.producerOrg":"Producteur","search.filters.publicationYear":"Ann\xe9e de publication","search.filters.publisherOrg":"Distributeur","search.filters.recordKind.all":"Tous","search.filters.recordKind.dataset":"Jeux de donn\xe9es","search.filters.recordKind.reuse":"R\xe9utilisations","search.filters.recordKind.service":"Services","search.filters.representationType":"Type de repr\xe9sentation","search.filters.resourceType":"Type de ressource","search.filters.standard":"Standard","search.filters.summaryLabel.changeDate":"Mise \xe0 jour : ","search.filters.summaryLabel.user":"\xc9diteur : ","search.filters.title":"Affiner votre recherche","search.filters.topic":"Th\xe8mes","search.filters.useSpatialFilter":"Mettre en avant les r\xe9sultats sur la zone d\'int\xe9r\xeat","search.filters.useSpatialFilterHelp":"Si cette option est activ\xe9e, les jeux de donn\xe9es portant sur la zone d\'int\xe9r\xeat du catalogue seront montr\xe9s en premier; les jeux de donn\xe9es situ\xe9s en dehors de cette zone n\'appara\xeetront pas dans les r\xe9sultats.","search.filters.user":"\xc9diteur","service.metadata.capabilities":"Informations techniques","service.metadata.capabilities.abstract":"Description","service.metadata.capabilities.attribution":"Attribution","service.metadata.capabilities.availableCrs":"CRS disponibles","service.metadata.capabilities.defaultCrs":"CRS par d\xe9faut","service.metadata.capabilities.geometryName":"Nom de la g\xe9om\xe9trie","service.metadata.capabilities.geometryType":"Type de g\xe9om\xe9trie","service.metadata.capabilities.keywords":"Mots-cl\xe9s","service.metadata.capabilities.name":"Nom","service.metadata.capabilities.objectCount":"Nombre d\'objets","service.metadata.capabilities.otherCrs":"Autres CRS","service.metadata.capabilities.outputFormats":"Formats de sortie","service.metadata.capabilities.resourceLinks":"Liens vers les ressources","service.metadata.capabilities.title":"Titre","service.metadata.filter":"Les couches seront filtr\xe9es par titre et description","service.metadata.filter.noLayers":"Aucune couche ne correspond \xe0 votre recherche","service.metadata.other":"Autres informations","service.metadata.question":"Poser une question","service.metadata.search":"Rechercher dans la liste des couches","service.metadata.search.clear":"Effacer la recherche des couches","service.metadata.spatialExtent":"Etendue spatiale","share.tab.permalink":"Partager","share.tab.webComponent":"Int\xe9grer","table.loading.data":"Chargement des donn\xe9es...","table.object.count":"enregistrements dans ces donn\xe9es","table.paginator.firstPage":"Premi\xe8re page","table.paginator.itemsPerPage":"\xc9l\xe9ments par page","table.paginator.lastPage":"Derni\xe8re page","table.paginator.nextPage":"Page suivante","table.paginator.previousPage":"Page pr\xe9c\xe9dente","table.paginator.rangeLabel":"{startIndex} - {endIndex} sur {length}","table.select.data":"Source de donn\xe9es","tooltip.html.copy":"Copier le HTML","tooltip.id.copy":"Copier l\'identifiant unique","tooltip.url.copy":"Copier l\'URL","ui.readLess":"R\xe9duire","ui.readMore":"Lire la suite","wfs.feature.limit":"Trop d\'objets pour afficher la couche WFS !","wfs.featuretype.notfound":"La classe d\'objets n\'a pas \xe9t\xe9 trouv\xe9e dans le service","wfs.geojsongml.notsupported":"Le service ne supporte pas le format GeoJSON ou GML","wfs.unreachable.cors":"Le service n\'est pas accessible en raison de limitations CORS","wfs.unreachable.http":"Le service a retourn\xe9 une erreur HTTP","wfs.unreachable.unknown":"Le service n\'est pas accessible"}'),Qse=JSON.parse('{"":"","Add Layer As":"","Enter to search":"","button.login":"Login","catalog.figures.datasets":"{count, plural, =0{datasets} one{dataset} other{datasets}}","catalog.figures.organizations":"{count, plural, =0{organizzazioni} one{organizzazione} other{organizzazioni}}","chart.aggregation.average":"media","chart.aggregation.count":"conteggio","chart.aggregation.max":"massimo","chart.aggregation.min":"minimo","chart.aggregation.sum":"somma","chart.dropdown.aggregation":"Aggregazione","chart.dropdown.type":"Tipo","chart.dropdown.xProperty":"Asse X","chart.dropdown.yProperty":"Asse Y","chart.loading.data":"Caricamento dei dati...","chart.type.bar":"grafico a barre","chart.type.barHorizontal":"grafico a barre orizzontale","chart.type.line":"grafico a linee","chart.type.lineSmooth":"grafico a linea liscia","chart.type.pie":"grafico a torta","dashboard.catalog.allRecords":"Datasets","dashboard.createRecord":"Crea un record","dashboard.importRecord":"Importare","dashboard.importRecord.importExternal":"Importare un dataset esterno","dashboard.importRecord.importExternal.subtitle":"(collegamento a un file XML)","dashboard.importRecord.importExternal.title":"URL del dataset esterno","dashboard.labels.catalog":"Catalogo","dashboard.labels.mySpace":"Il mio spazio","dashboard.records.all":"Catalogo","dashboard.records.hasDraft":"Bozza","dashboard.records.isMultilingual":"Questo record \xe8 multilingue ({languages})","dashboard.records.myDraft":"Le mie bozze","dashboard.records.myRecords":"I miei dati","dashboard.records.search":"Risultati per \\"{searchText}\\"","dashboard.records.userDetail":"Nome","dashboard.records.userEmail":"Email","dashboard.records.username":"Nome utente","dashboard.records.users":"utenti","datahub.header.datasets":"Catalogo","datahub.header.lastRecords":"Ultimi","datahub.header.myfavorites":"Miei preferiti","datahub.header.news":"Home","datahub.header.organizations":"Organizzazioni","datahub.header.popularRecords":"Pi\xf9 popolari","datahub.header.title.html":"<div class=\\"text-white\\">Tutti i dati<br>pubblici della mia organizzazione</div>","datahub.news.contact.contactus":"Contattateci","datahub.news.contact.html":"<p>Ha bisogno di dati che non sono attualmente disponibili sulla piattaforma? </p><p> I nostri team sono qui per aiutarla.</p>","datahub.news.contact.title":"Ha un bisogno specifico?","datahub.news.feed":"Feed di attivit\xe0","datahub.news.figures":"Alcune figure","datahub.search.back":"Ritorna","datahub.search.filter.all":"Tutti","datahub.search.filter.generatedByAPI":"generato da un\'API","datahub.search.filter.generatedByWfs":"generato da un WFS","datahub.search.filter.others":"Altri","dataset.error.forbidden":"L\'accesso a questa risorsa \xe8 limitato","dataset.error.http":"Il caricamento dei dati non \xe8 riuscito a causa di un errore HTTP: \\"{info}\\"","dataset.error.network":"Il caricamento dei dati non \xe8 riuscito a causa di un errore di rete o di limitazioni CORS: \\"{info}\\"","dataset.error.parse":"I dati sono stati caricati ma la decodifica non \xe8 riuscita: \\"{info}\\"","dataset.error.restrictedAccess":"L\'accesso a questa risorsa \xe8 limitato","dataset.error.unknown":"Impossibile visualizzare i dati: \\"{info}\\"","dataset.error.unsupportedType":"Il seguente tipo di contenuto non \xe8 supportato: \\"{info}\\"","domain.contact.role.author":"Autore","domain.contact.role.collaborator":"Collaboratore","domain.contact.role.contributor":"Collaboratore","domain.contact.role.custodian":"Gestore","domain.contact.role.distributor":"Distributore","domain.contact.role.editor":"Editor","domain.contact.role.funder":"Finanziatore","domain.contact.role.mediator":"Mediatore","domain.contact.role.originator":"Creatore","domain.contact.role.other":"Altro","domain.contact.role.owner":"Proprietario","domain.contact.role.point_of_contact":"Punto di contatto","domain.contact.role.principal_investigator":"Investigatore principale","domain.contact.role.processor":"Processore","domain.contact.role.publisher":"Editore","domain.contact.role.resource_provider":"Fornitore","domain.contact.role.rights_holder":"Titolare dei diritti","domain.contact.role.sponsor":"Sponsor","domain.contact.role.stakeholder":"Parte interessata","domain.contact.role.unspecified":"Non specificato","domain.contact.role.user":"Utente","domain.record.status.completed":"Completato","domain.record.status.deprecated":"Deprecato","domain.record.status.ongoing":"Aggiornamento continuo","domain.record.status.removed":"Rimosso","domain.record.status.under_development":"In fase di creazione","domain.record.updateFrequency.annually":"I dati vengono aggiornati ogni anno","domain.record.updateFrequency.asNeeded":"I dati vengono aggiornati secondo necessit\xe0","domain.record.updateFrequency.biannually":"I dati vengono aggiornati due volte all\'anno","domain.record.updateFrequency.biennially":"I dati vengono aggiornati ogni 2 anni","domain.record.updateFrequency.continual":"I dati vengono aggiornati ripetutamente e frequentemente","domain.record.updateFrequency.daily":"I dati vengono aggiornati ogni giorno","domain.record.updateFrequency.day":"{count, plural, =0{0 volte} one{Una volta} other{{count} volte}} al giorno","domain.record.updateFrequency.fortnightly":"I dati vengono aggiornati ogni due settimane","domain.record.updateFrequency.irregular":"I dati vengono aggiornati a intervalli irregolari","domain.record.updateFrequency.month":"{count, plural, =0{0 volte} one{Una volta} other{{count} volte}} al mese","domain.record.updateFrequency.monthly":"I dati vengono aggiornati ogni mese","domain.record.updateFrequency.notPlanned":"Non ci sono piani per aggiornare i dati","domain.record.updateFrequency.periodic":"I dati vengono aggiornati a intervalli regolari","domain.record.updateFrequency.quarterly":"I dati vengono aggiornati ogni tre mesi","domain.record.updateFrequency.semimonthly":"I dati vengono aggiornati due volte al mese","domain.record.updateFrequency.unknown":"La frequenza di aggiornamento dei dati \xe8 sconosciuta","domain.record.updateFrequency.week":"{count, plural, =0{0 volte} one{Una volta} other{{count} volte}} a settimana","domain.record.updateFrequency.weekly":"I dati vengono aggiornati settimanalmente","domain.record.updateFrequency.year":"{count, plural, =0{0 volte} one{Una volta} other{{count} volte}} all\'anno","downloads.format.unknown":"sconosciuto","downloads.wfs.featuretype.not.found":"Il layer non \xe8 stato trovato","dropFile":"Trascina il suo file","editor.new.record.title":"Il mio dataset","editor.record.delete.confirmation.cancelText":"Annulla","editor.record.delete.confirmation.confirmText":"Elimina","editor.record.delete.confirmation.message":"E sicuro di voler eliminare questo dataset?","editor.record.delete.confirmation.title":"Eliminare il dataset?","editor.record.deleteError.body":"Impossibile eliminare il dataset:","editor.record.deleteError.closeMessage":"Capito","editor.record.deleteError.title":"Errore durante l\'eliminazione","editor.record.deleteSuccess.body":"Il dataset \xe8 stato eliminato correttamente","editor.record.deleteSuccess.title":"Eliminazione riuscita","editor.record.error.back":"Ritorna al catalogo","editor.record.error.explanation":"Forse non ha accesso a questa pagina oppure questo collegamento potrebbe non essere valido.","editor.record.error.message":"Qualcosa \xe8 andato storto","editor.record.form.bottomButtons.comeBackLater":"Ritorna pi\xf9 tardi","editor.record.form.bottomButtons.next":"Avanti","editor.record.form.bottomButtons.previous":"Precedente","editor.record.form.classification.opendata":"Dati aperti","editor.record.form.constraint.add.legalConstraints":"Aggiungi un vincolo legale","editor.record.form.constraint.add.otherConstraints":"Aggiungi un vincolo","editor.record.form.constraint.add.securityConstraints":"Aggiungi un vincolo di sicurezza","editor.record.form.constraint.header.legalConstraints":"Condizioni applicabili al tipo legale","editor.record.form.constraint.header.otherConstraints":"Altre condizioni applicabili","editor.record.form.constraint.header.securityConstraints":"Condizioni di tipo di sicurezza applicabili","editor.record.form.constraint.legalConstraints":"Vincoli legali","editor.record.form.constraint.markdown.placeholder":"Il suo testo qui","editor.record.form.constraint.not.applicable":"Non si applicano condizioni","editor.record.form.constraint.not.known":"Le condizioni sono sconosciute","editor.record.form.constraint.otherConstraints":"Altri vincoli","editor.record.form.constraint.securityConstraints":"Vincoli di sicurezza","editor.record.form.draft.updateAlert":"Da quando \xe8 stata creata questa bozza, questo dataset \xe8 stato modificato il { date } da { user }. La pubblicazione della sua versione potrebbe rimuovere le loro modifiche. Per evitarlo, puoi annullare le sue modifiche o pubblicare la sua versione consapevolmente.","editor.record.form.field.abstract":"Riassunto","editor.record.form.field.constraintsShortcuts":"","editor.record.form.field.contacts.noContact":"Inserisci almeno un punto di contatto.","editor.record.form.field.contacts.placeholder":"Scegli un contatto","editor.record.form.field.contactsForResource.noContact":"Inserisci almeno un punto di contatto responsabile dei dati.","editor.record.form.field.contactsForResource.placeholder":"Scegli un contatto","editor.record.form.field.keywords":"Parole chiave","editor.record.form.field.legalConstraints":"Vincolo legale","editor.record.form.field.license":"Licenza","editor.record.form.field.onlineLinkResources":"Risorse allegate","editor.record.form.field.onlineResource.cancel":"Annulla","editor.record.form.field.onlineResource.confirm":"Convalida","editor.record.form.field.onlineResource.dialogTitle":"Modifica anteprima dataset","editor.record.form.field.onlineResource.edit.description":"Descrizione","editor.record.form.field.onlineResource.edit.identifier.error":"Impossibile recuperare i livelli dal protocollo","editor.record.form.field.onlineResource.edit.identifier.placeholder":"Nome del livello","editor.record.form.field.onlineResource.edit.identifier.placeholder.wps":"Nome del processo","editor.record.form.field.onlineResource.edit.identifier.select.label":"Seleziona un livello","editor.record.form.field.onlineResource.edit.identifier.submit":"Collegare il servizio","editor.record.form.field.onlineResource.edit.protocol":"Protocollo","editor.record.form.field.onlineResource.edit.title":"Titolo","editor.record.form.field.onlineResource.fileSize":"{sizeMB} MB","editor.record.form.field.onlineResource.modify":"Modifica","editor.record.form.field.onlineResource.toggle.dataset":"Collega un file","editor.record.form.field.onlineResource.toggle.service":"Collega un servizio","editor.record.form.field.onlineResources":"Distribuzione","editor.record.form.field.otherConstraints":"Vincolo generale","editor.record.form.field.overviews":"Panoramica","editor.record.form.field.recordUpdated":"Data di aggiornamento","editor.record.form.field.resourceCreated":"Data di creazione","editor.record.form.field.resourceIdentifier":"Identificatore","editor.record.form.field.resourceUpdated":"Data di aggiornamento","editor.record.form.field.securityConstraints":"Vincolo di sicurezza","editor.record.form.field.spatialExtents":"Estensioni spaziali","editor.record.form.field.temporalExtents":"Estensioni temporali","editor.record.form.field.title":"Titolo","editor.record.form.field.title.placeholder":"Inserisci un titolo","editor.record.form.field.uniqueIdentifier":"Identificatore univoco","editor.record.form.field.updateFrequency":"Frequenza di aggiornamento","editor.record.form.keywords.place.placeholder":"Cerca una posizione per parola chiave","editor.record.form.keywords.place.withoutExtent":"Questa parola chiave non ha una posizione geografica associata","editor.record.form.keywords.placeholder":"Seleziona una parola chiave","editor.record.form.license.cc-by":"Creative Commons CC-BY","editor.record.form.license.cc-by-sa":"Creative Commons CC-BY-SA","editor.record.form.license.cc-zero":"Creative Commons CC-0","editor.record.form.license.etalab":"Licenza aperta (Etalab)","editor.record.form.license.etalab-v2":"Licenza aperta v2.0 (Etalab)","editor.record.form.license.odbl":"Open Data Commons ODbL","editor.record.form.license.odc-by":"Open Data Commons ODC-By","editor.record.form.license.pddl":"Open Data Commons PDDL","editor.record.form.license.unknown":"Sconosciuto o assente","editor.record.form.multilingual.activate":"","editor.record.form.multilingual.default":"","editor.record.form.multilingual.enable":"Aprire il pannello multilingue","editor.record.form.multilingual.forbidden":"","editor.record.form.multilingual.open":"Modalit\xe0 multilingue","editor.record.form.multilingual.title":"Traduzioni","editor.record.form.multilingual.validate":"","editor.record.form.page.accessAndContact":"Informazioni per l\'uso","editor.record.form.page.description":"Descrizione del dataset","editor.record.form.page.resources":"Risorse","editor.record.form.section.about.description":"Queste informazioni riguardano il dataset","editor.record.form.section.about.label":"Informazioni sul dataset","editor.record.form.section.annexes.description":"Gli allegati sono risorse facoltative. Sono allegati al dataset e aiutano a comprendere meglio i dati (avviso, ecc.).","editor.record.form.section.annexes.label":"Allegati","editor.record.form.section.associatedResources.description":"Indica dove si trovano i dati","editor.record.form.section.associatedResources.label":"Risorse associate","editor.record.form.section.classification.description":"Parole chiave appropriate aiutano a trovare il dataset","editor.record.form.section.classification.label":"Parole chiave","editor.record.form.section.dataManagers.description":"Queste informazioni riguardano i dati","editor.record.form.section.dataManagers.label":"Gestori dei dati","editor.record.form.section.geographicalCoverage.label":"Copertura geografica","editor.record.form.section.metadataPointOfContact.description":"Queste informazioni riguardano i metadati","editor.record.form.section.metadataPointOfContact.label":"Punto di contatto dei metadati","editor.record.form.section.useAndAccessConditions.label":"Condizioni di accesso e utilizzo","editor.record.form.temporalExtents.addDate":"Data specificata","editor.record.form.temporalExtents.addRange":"Periodo di tempo","editor.record.form.temporalExtents.date":"Data rilevante","editor.record.form.temporalExtents.range":"Periodo interessato","editor.record.form.updateFrequency.planned":"Questi dati dovrebbero essere aggiornati regolarmente","editor.record.importFromExternalFile.failure.body":"Ha successo un\'errore durante l\'importazione del dataset: ","editor.record.importFromExternalFile.failure.title":"Errore","editor.record.importFromExternalFile.success.body":"L\'importazione del dataset \xe8 riuscita.","editor.record.importFromExternalFile.success.title":"Importazione riuscita","editor.record.loadError.body":"Impossibile caricare il dataset:","editor.record.loadError.closeMessage":"Capito","editor.record.loadError.title":"Errore durante il caricamento","editor.record.lock.harvested":"","editor.record.lock.owner":"Non \xe8 un editore di uno dei gruppi autorizzati","editor.record.lock.resourceType":"I record con il formato \'servizio\' o \'riutilizzo\' non sono modificabili","editor.record.multilingual.confirmation.cancelText":"","editor.record.multilingual.confirmation.confirmText":"","editor.record.multilingual.confirmation.message":"","editor.record.multilingual.confirmation.title":"","editor.record.onlineResource.protocol.other":"Altro","editor.record.onlineResourceError.body":"Ha successo un\'errore durante l\'aggiunta della risorsa:","editor.record.onlineResourceError.closeMessage":"Capito","editor.record.onlineResourceError.title":"Errore durante l\'aggiunta della risorsa","editor.record.placeKeywordWithoutLabel":"Posizione senza nome","editor.record.publish":"Pubblica questo dataset","editor.record.publish.confirmation.cancelText":"Annulla","editor.record.publish.confirmation.confirmText":"Pubblica","editor.record.publish.confirmation.message":"Dato che la sua bozza \xe8 stata creata, questo dataset \xe8 stato modificato il { date } da { user }. La pubblicazione della sua versione potrebbe rimuovere le loro modifiche. Vuole procedere?","editor.record.publishError.body":"Il dataset non pu\xf2 essere pubblicato:","editor.record.publishError.closeMessage":"Capito","editor.record.publishError.title":"Errore durante la pubblicazione","editor.record.publishSuccess.body":"Il dataset \xe8 stato pubblicato con successo","editor.record.publishSuccess.title":"Pubblicazione riuscita","editor.record.publishVersionError.body":"Il dataset non pu\xf2 essere pubblicato perch\xe9 \xe8 stata rilevata una versione incompatibile di GeoNetwork. Contattare un amministratore della piattaforma per risolvere il problema.\\nVersione corrente: {currentVersion}\\nVersione minima compatibile: 4.2.5","editor.record.publishVersionError.closeMessage":"Capito","editor.record.publishVersionError.title":"Ha successo un errore critico","editor.record.resourceError.body":"Ha successo un errore durante la gestione degli allegati:","editor.record.resourceError.closeMessage":"Capito","editor.record.resourceError.title":"Errore con gli allegati","editor.record.saveStatus.draftWithChangesPending":"Salvato - Modifiche non pubblicate","editor.record.saveStatus.recordNotPublished":"Salvato - non pubblicato","editor.record.saveStatus.recordUpToDate":"Salvato - Dataset aggiornato","editor.record.undo.confirmation.cancelText":"Mantieni le modifiche","editor.record.undo.confirmation.confirmText":"Annulla le modifiche","editor.record.undo.confirmation.message":"E sicuro di voler annullare le modifiche apportate a questo dataset?","editor.record.undo.confirmation.title":"Annullare le modifiche?","editor.record.undo.tooltip.disabled":"Non ci sono modifiche in sospeso su questo dataset","editor.record.undo.tooltip.enabled":"Fare clic su questo pulsante per annullare le modifiche apportate a questo dataset","editor.record.upToDate":"Questo dataset \xe8 aggiornato","editor.sidebar.logout":"Esci","editor.sidebar.menu.editor":"Editore","editor.temporary.disabled":"Non ancora implementato","externalviewer.dataset.unnamed":"Layer del datahub","facets.block.title.OrgForResource":"Organizzazione","facets.block.title.availableInServices":"Disponibile per","facets.block.title.cl_hierarchyLevel.key":"Tipo di risorsa","facets.block.title.cl_maintenanceAndUpdateFrequency.key":"Frequenza di aggiornamento","facets.block.title.cl_spatialRepresentationType.key":"Rappresentazione spaziale","facets.block.title.cl_status.key":"Stato","facets.block.title.creationYearForResource":"Anno di creazione","facets.block.title.resolutionScaleDenominator":"Scala","facets.block.title.tag":"Parole chiave","facets.block.title.tag.default":"Tag","facets.block.title.th_regions_tree.default":"Regioni","favorite.not.authenticated.tooltip":"<div><a href=\' {link} \'>Login</a> per accedere a questa funzionalit\xe0</div>","favorite.starToggle.label":"","feature.catalog.attribute.code":"Codice","feature.catalog.attribute.definition":"Descrizione","feature.catalog.attribute.name":"Nome","feature.catalog.attribute.type":"Tipo","feature.catalog.attribute.values":"Valori","input.file.dropFileLabel":"oppure trascinalo qui","input.file.orInputUrl":"o collegamento a una risorsa esterna","input.file.selectFileLabel":"Seleziona un file ({sizeMB} MB max.)","input.file.uploadProgressCancel":"Annulla","input.file.uploadProgressLabel":"Caricamento...","input.image.altTextPlaceholder":"Testo alternativo dell\'immagine","input.image.delete":"Elimina","input.image.displayAltTextInput":"Testo alternativo","input.image.displayUrlInput":"Inserisci un URL","input.image.dropFileLabel":"oppure trascinalo qui","input.image.selectFileLabel":"Seleziona un\'immagine","input.image.uploadErrorLabel":"Impossibile caricare l\'immagine","input.image.uploadProgressCancel":"Annulla","input.image.uploadProgressLabel":"Caricamento...","language.ar":"","language.az":"","language.ca":"Catalano","language.cs":"Ceco","language.cy":"","language.da":"","language.de":"Tedesco","language.en":"Inglese","language.es":"Spagnolo","language.fi":"Finlandese","language.fr":"Francese","language.hy":"","language.is":"Islandese","language.it":"Italiano","language.ka":"","language.ko":"Coreano","language.nl":"Olandese","language.no":"","language.pl":"","language.pt":"Portoghese","language.rm":"","language.ru":"Russo","language.sk":"Slovacco","language.sv":"","language.tr":"","language.uk":"","language.zh":"Cinese","map.add.layer":"Aggiungere un layer","map.add.layer.catalog":"Dal catalogo","map.add.layer.file":"Da un file","map.add.layer.ogc.api":"Da OGC API","map.add.layer.wfs":"Da un WFS","map.add.layer.wms":"Da un WMS","map.addFromFile.placeholder":"Clicca o trascina un file qui","map.dropdown.placeholder":"Nessun livello di anteprima disponibile","map.geocoding.placeholder":"Cerca un luogo","map.help.addFromFile":"Clicca o trascina un file per aggiungerlo alla mappa (attualmente supporta solo il formato GeoJSON)","map.layer.add":"Aggiungi","map.layers.available":"Layer disponibili","map.layers.list":"Layers","map.loading.data":"Caricamento dati...","map.loading.service":"Caricamento del servizio...","map.navigation.message":"Si prega di utilizzare CTRL + mouse (o due dita su mobile) per navigare sulla mappa","map.ogc.urlInput.hint":"Inserisci URL del servizio OGC API","map.select.layer":"Sorgente dati","map.select.style":"Style","map.wfs.urlInput.hint":"Inserisci URL del servizio WFS","map.wms.urlInput.hint":"Inserisci URL del servizio WMS","multiselect.filter.placeholder":"Cerca","nav.back":"Indietro","navbar.mobile.menuTitle":"Accesso rapido","ogc.unreachable.unknown":"Il servizio non \xe8 accessibile","organisation.filter.placeholder":"Filtra i risultati","organisation.sort.sortBy":"Ordina per:","organisations.hits.found":"{hits, plural, =0{Nessuna organizzazione trovata} one{1 organizzazione su {total} visualizzata} other{{hits} organizzazioni su {total} visualizzate}}","organisations.sortBy.nameAsc":"Nome A \u2192 Z","organisations.sortBy.nameDesc":"Nome Z \u2192 A","organisations.sortBy.recordCountAsc":"Dati 0 \u2192 9","organisations.sortBy.recordCountDesc":"Dati 9 \u2192 0","organization.details.lastPublishedDatasets":"Ultimi dataset pubblicati","organization.details.lastPublishedDatasets.searchAllButton":"Cerca tutto","organization.details.mailContact":"Contatto via email","organization.header.recordCount":"{count, plural, =0{} one{} other{}}","pagination.nextPage":"Pagina successiva","pagination.page":"pagina","pagination.pageOf":"di","record.action.delete":"Elimina","record.action.download":"Scarica","record.action.duplicate":"Duplicato","record.action.duplicating":"Duplicazione","record.action.rollback":"Annulla","record.action.switchLang":"","record.action.view":"Visualizza","record.card.metadata.contact":"Contatto del metadata","record.externalViewer.open":"Aprire nel visualizzatore esterno","record.feature.catalog.number.total.attribute":"Quantit\xe0 totale di oggetti","record.feature.catalog.number.total.object":"Quantit\xe0 totale di attributi","record.feature.limit":"La visualizzazione \xe8 stata disabilitata a causa di troppi elementi ","record.kind.dataset":"Dataset","record.kind.reuse":"Riutilizzato","record.kind.service":"Servizio","record.metadata.about":"Descrizione","record.metadata.api":"API","record.metadata.api.accessServiceProtocol.GPFDL":"","record.metadata.api.accessServiceProtocol.esriRest":"","record.metadata.api.accessServiceProtocol.maplibre-style":"","record.metadata.api.accessServiceProtocol.ogcFeatures":"","record.metadata.api.accessServiceProtocol.other":"","record.metadata.api.accessServiceProtocol.tms":"","record.metadata.api.accessServiceProtocol.wfs":"","record.metadata.api.accessServiceProtocol.wms":"","record.metadata.api.accessServiceProtocol.wmts":"","record.metadata.api.accessServiceProtocol.wps":"","record.metadata.api.form.closeButton":"Chiude","record.metadata.api.form.closeForm":"Chiude il pannello di personalizzazione","record.metadata.api.form.create":"Configura la sua richiesta","record.metadata.api.form.crsTitle":"Sistema di coordinate","record.metadata.api.form.crsTooltip":"Menu a discesa per selezionare un sistema di coordinate (CRS)","record.metadata.api.form.customUrl":"URL personalizzata","record.metadata.api.form.filter":"Filtri","record.metadata.api.form.filterDescription":"Sezione per perfezionare gli elementi visualizzati","record.metadata.api.form.formatTitle":"Formato","record.metadata.api.form.formatTooltip":"Menu a discesa per selezionare un formato dati","record.metadata.api.form.items":"Elementi disponibili","record.metadata.api.form.itemsDescription":"Elenco degli elementi","record.metadata.api.form.itemsTooltip":"Scorri per vedere tutti gli elementi disponibili o filtrati","record.metadata.api.form.limit":"Numero di record","record.metadata.api.form.limit.all":"Tutti","record.metadata.api.form.nextPage":"Avanti","record.metadata.api.form.nextPageTooltip":"Va alla pagina successiva","record.metadata.api.form.offset":"Numero del primo record","record.metadata.api.form.openForm":"Aprire il pannello di personalizzazione","record.metadata.api.form.paginationDescription":"Paginazione degli elementi visualizzati","record.metadata.api.form.previousPage":"Precedente","record.metadata.api.form.previousPageTooltip":"Va alla pagina precedente","record.metadata.api.form.productTooltip":"","record.metadata.api.form.reset":"Reimposta","record.metadata.api.form.resetTooltip":"Reimposta tutti i filtri","record.metadata.api.form.title":"Genera un URL personalizzata","record.metadata.api.form.title.gpf":"Scarica i dati","record.metadata.api.form.type":"Formato di output","record.metadata.api.form.zoneTitle":"Zona","record.metadata.api.form.zoneTooltip":"Menu a discesa per selezionare una zona geografica","record.metadata.api.gpfdl":"Scarica","record.metadata.capabilities":"Capacit\xe0 del servizio","record.metadata.catalog":"Catalogo","record.metadata.contact":"Contatto","record.metadata.creation":"Data di creazione","record.metadata.details":"A proposito del dati","record.metadata.download":"Download","record.metadata.feature.catalog":"Catalogo dei oggetti","record.metadata.formats":"Formati","record.metadata.isGeographical":"Dati geografici","record.metadata.keywords":"Parole chiave","record.metadata.languages":"Lingue","record.metadata.lastUpdate":"Ultimo aggiornamento il {date}","record.metadata.linked.datasets":"","record.metadata.linked.records":"","record.metadata.linked.reuses":"","record.metadata.linked.services":"","record.metadata.linked.sourceDatasets":"","record.metadata.links":"Collegamenti","record.metadata.noUsage":"Nessuna condizione d\'uso specificata per questi dati","record.metadata.otherConstraints":"Limitazioni di uso","record.metadata.owner":"Catalogo originale","record.metadata.preview":"Anteprima","record.metadata.preview.config.error":"","record.metadata.preview.config.idle":"","record.metadata.preview.config.saved":"","record.metadata.preview.config.saving":"","record.metadata.producer":"Produttore dei dati","record.metadata.publication":"Data di pubblicazione","record.metadata.publications":"{count, plural, =0{pubblicazione} one{pubblicazione} other{pubblicazioni}}","record.metadata.quality":"Qualit\xe0 dei metadati","record.metadata.quality.capabilities.failed":"","record.metadata.quality.capabilities.success":"","record.metadata.quality.contact.failed":"Il contatto non \xe8 specificato","record.metadata.quality.contact.success":"Il contatto \xe8 specificato","record.metadata.quality.description.failed":"La descrizione non \xe8 specificata","record.metadata.quality.description.success":"La descrizione \xe8 specificata","record.metadata.quality.details":"Dettagli","record.metadata.quality.keywords.failed":"Le parole chiave non sono specificate","record.metadata.quality.keywords.success":"Le parole chiave sono specificate","record.metadata.quality.legalConstraints.failed":"I vincoli legali non sono specificate","record.metadata.quality.legalConstraints.success":"I vincoli legali sono specificate","record.metadata.quality.organisation.failed":"Il produttore non \xe8 specificato","record.metadata.quality.organisation.success":"Il produttore \xe8 specificato","record.metadata.quality.source.failed":"","record.metadata.quality.source.success":"","record.metadata.quality.title.failed":"Il titolo non \xe8 specificato","record.metadata.quality.title.success":"Il titolo \xe8 specificato","record.metadata.quality.topic.failed":"Il tema non \xe8 specificato","record.metadata.quality.topic.success":"Il tema \xe8 specificato","record.metadata.quality.updateFrequency.failed":"La frequenza di aggiornamento non \xe8 specificata","record.metadata.quality.updateFrequency.success":"La frequenza di aggiornamento \xe8 specificata","record.metadata.related":"Vedi anche","record.metadata.ressources.and.links":"Risorse e collegamenti","record.metadata.sheet":"Origine del metadata","record.metadata.status":"Stato","record.metadata.status.notPublished":"Non pubblicato","record.metadata.status.published":"Pubblicato","record.metadata.temporalExtent":"Periodo di tempo","record.metadata.temporalExtent.fromDateToDate":"Da {start} a {end}","record.metadata.temporalExtent.sinceDate":"Dal {start}","record.metadata.temporalExtent.untilDate":"Fino a {end}","record.metadata.title":"Titolo","record.metadata.topics":"Categorie","record.metadata.uniqueId":"Identificatore unico di risorsa","record.metadata.updateFrequency":"Frequenza di aggiornamento dei dati","record.metadata.updatedOn":"Modificato il","record.metadata.usage":"Licenze e limiti di utilizzo","record.metadata.userFeedbacks":"Domande / Risposte","record.metadata.userFeedbacks.anonymousUser":"Per pubblicare un commento, effettua il login.","record.metadata.userFeedbacks.newAnswer.buttonTitle":"Pubblica","record.metadata.userFeedbacks.newAnswer.placeholder":"Risponde...","record.metadata.userFeedbacks.newComment.placeholder":"Scrive qui il suo commento...","record.metadata.userFeedbacks.sortSelector.choices.newestFirst":"Prima i pi\xf9 recenti","record.metadata.userFeedbacks.sortSelector.choices.oldestFirst":"Prima il pi\xf9 vecchio","record.metadata.userFeedbacks.sortSelector.label":"Ordina per ...","record.more.details":"Dettagli","record.tab.chart":"Grafico","record.tab.data":"Tabella","record.tab.map":"Mappa","record.was.created.time":"ha creato questi dati {time}","records":"record","results.layout.selectOne":"Mostra risultati","results.records.hits.displayedOn":"{displayed, plural, =0{Nessun record} one{1 record visualizzato} other{{displayed} records visualizzati}} {hits, plural, other{su {hits} in totale.}}","results.records.hits.empty.help.html":"Suggerimenti: <ul class=\'list-disc list-inside\'><li>Prova con altre parole chiave</li><li>Cerca con meno parole</li></ul>","results.records.hits.found":"{hits, plural, =0{Nessuna corrispondenza.} one{1 record trovato.} other{{hits} risultati.}}","results.records.hits.selected":"{amount, plural, one{1 selezionato} other{{ amount } selezionati}}","results.showMore":"Altri risultati...","results.sortBy.changeDate":"Ultima modifica","results.sortBy.dateStamp":"Pi\xf9 recente","results.sortBy.popularity":"Popolarit\xe0","results.sortBy.qualityScore":"Indicatore di qualit\xe0","results.sortBy.relevancy":"Rilevanza","reuse.metadata.access":"Accedere al riutilizzo","search.autocomplete.error":"Impossibile recuperare le suggerimenti","search.error.couldNotReachApi":"Problema di connessione all\'API","search.error.organizationHasNoDataset":"Questa organizzazione non ha ancora dati.","search.error.organizationNotFound":"Impossibile trovare l\'organizzazione.","search.error.receivedError":"Errore restituito","search.error.recordHasnolink":"Questo dataset non ha ancora alcun collegamento, riprova pi\xf9 tardi.","search.error.recordNotFound":"Impossibile trovare questi dati.","search.field.any.placeholder":"Cerca del catalogo...","search.field.sortBy":"Ordina per:","search.filter.into.feature.catalog":"Cerca una parola","search.filters.availableServices.download":"","search.filters.availableServices.view":"","search.filters.changeDate":"Aggiornato","search.filters.clear":"Ripristina","search.filters.contact":"Contatti","search.filters.format":"Formati","search.filters.inspireKeyword":"Parola chiave INSPIRE","search.filters.isSpatial":"Dati spaziali","search.filters.isSpatial.no":"Non geolocalizzati","search.filters.isSpatial.yes":"Geolocalizzati","search.filters.keyword":"Parola chiave","search.filters.license":"Licenza","search.filters.license.cc-by":"cc-by","search.filters.license.cc-by-sa":"cc-by-sa","search.filters.license.cc-zero":"cc-zero","search.filters.license.etalab":"Licenza aperta (Etalab)","search.filters.license.etalab-v2":"Licenza aperta v2.0 (Etalab)","search.filters.license.odbl":"odbl","search.filters.license.odc-by":"odc-by","search.filters.license.pddl":"pddl","search.filters.license.unknown":"Non riconosciuta o assente","search.filters.maximize":"Ingrandisci","search.filters.minimize":"Riduci","search.filters.myRecords":"Visualizza i miei dati","search.filters.myRecordsHelp":"Quando attivato, mostra solo i dati creati con il mio utente. I dati creati da altri utenti non sono visualizzati.","search.filters.organization":"Organizzazione","search.filters.otherRecords":"Visualizzazione dei dataset di un altro utente","search.filters.producerOrg":"Produttore","search.filters.publicationYear":"Anno di pubblicazione","search.filters.publisherOrg":"Distributore","search.filters.recordKind.all":"Tutti","search.filters.recordKind.dataset":"Dataset","search.filters.recordKind.reuse":"Riutilizzi","search.filters.recordKind.service":"Servizi","search.filters.representationType":"Tipo di rappresentazione","search.filters.resourceType":"Tipo di risorsa","search.filters.standard":"Standard","search.filters.summaryLabel.changeDate":"Aggiornato: ","search.filters.summaryLabel.user":"Editor: ","search.filters.title":"Affina la sua ricerca","search.filters.topic":"Argomenti","search.filters.useSpatialFilter":"Evidenzia i risultati nell\'area di interesse","search.filters.useSpatialFilterHelp":"Se attivata, le schede relative all\'area di interesse del catalogo saranno mostrate per prime; le schede al di fuori di questa area non appariranno nei risultati.","search.filters.user":"Editore","service.metadata.capabilities":"Informazioni tecniche","service.metadata.capabilities.abstract":"Riassunto","service.metadata.capabilities.attribution":"Attribuzione","service.metadata.capabilities.availableCrs":"CRS disponibile","service.metadata.capabilities.defaultCrs":"CRS predefinito","service.metadata.capabilities.geometryName":"Nome della geometria","service.metadata.capabilities.geometryType":"Tipo della geometria","service.metadata.capabilities.keywords":"Parole chiave","service.metadata.capabilities.name":"Nome","service.metadata.capabilities.objectCount":"Oggetti conto","service.metadata.capabilities.otherCrs":"Altri CRS","service.metadata.capabilities.outputFormats":"Formato di output","service.metadata.capabilities.resourceLinks":"Risorsa links","service.metadata.capabilities.title":"Titolo","service.metadata.filter":"I layers verranno filtrati per titolo e riassunto","service.metadata.filter.noLayers":"Nessun layer abbina la ricerca","service.metadata.other":"Altri informazioni","service.metadata.question":"Fare una domanda","service.metadata.search":"Cerca nella lista del layers","service.metadata.search.clear":"Cancella la ricerca del layers","service.metadata.spatialExtent":"Estensione spaziale","share.tab.permalink":"Condividere","share.tab.webComponent":"Incorporare","table.loading.data":"Caricamento dei dati...","table.object.count":"record in questi dati","table.paginator.firstPage":"Prima pagina","table.paginator.itemsPerPage":"Elementi per pagina","table.paginator.lastPage":"Ultima pagina","table.paginator.nextPage":"Pagina successiva","table.paginator.previousPage":"Pagina precedente","table.paginator.rangeLabel":"{startIndex} - {endIndex} di {total}","table.select.data":"Sorgente dati","tooltip.html.copy":"Copiare il HTML","tooltip.id.copy":"Copiare l\'identificatore unico","tooltip.url.copy":"Copiare l\'URL","ui.readLess":"Ridurre","ui.readMore":"Leggere di pi\xf9","wfs.feature.limit":"Troppi oggetti per visualizzare il WFS layer!","wfs.featuretype.notfound":"La classe di oggetto non \xe8 stata trovata nel servizio","wfs.geojsongml.notsupported":"Il servizio non supporta il formato GeoJSON o GML","wfs.unreachable.cors":"Il servizio non \xe8 accessibile a causa di limitazioni CORS","wfs.unreachable.http":"Il servizio ha restituito un errore HTTP","wfs.unreachable.unknown":"Il servizio non \xe8 accessibile"}'),eoe=JSON.parse('{"":"","Add Layer As":"","Enter to search":"","button.login":"","catalog.figures.datasets":"datasets","catalog.figures.organizations":"organisaties","chart.aggregation.average":"gemiddelde","chart.aggregation.count":"aantal","chart.aggregation.max":"max","chart.aggregation.min":"min","chart.aggregation.sum":"som","chart.dropdown.aggregation":"Aggregatie","chart.dropdown.type":"Type","chart.dropdown.xProperty":"X-as","chart.dropdown.yProperty":"Y-as","chart.loading.data":"Gegevens laden...","chart.type.bar":"staafdiagram","chart.type.barHorizontal":"horizontaal staafdiagram","chart.type.line":"lijndiagram","chart.type.lineSmooth":"glad lijndiagram","chart.type.pie":"cirkeldiagram","dashboard.catalog.allRecords":"","dashboard.createRecord":"","dashboard.importRecord":"","dashboard.importRecord.importExternal":"","dashboard.importRecord.importExternal.subtitle":"","dashboard.importRecord.importExternal.title":"","dashboard.labels.catalog":"Catalogus","dashboard.labels.mySpace":"Mijn ruimte","dashboard.records.all":"Catalogus","dashboard.records.hasDraft":"","dashboard.records.isMultilingual":"Dit record is meertalig ({languages})","dashboard.records.myDraft":"Mijn concepten","dashboard.records.myRecords":"Mijn Records","dashboard.records.search":"Zoeken naar \\"{searchText}\\"","dashboard.records.userDetail":"","dashboard.records.userEmail":"","dashboard.records.username":"","dashboard.records.users":"","datahub.header.datasets":"Catalog","datahub.header.lastRecords":"","datahub.header.myfavorites":"","datahub.header.news":"","datahub.header.organizations":"","datahub.header.popularRecords":"","datahub.header.title.html":"","datahub.news.contact.contactus":"","datahub.news.contact.html":"","datahub.news.contact.title":"","datahub.news.feed":"","datahub.news.figures":"","datahub.search.back":"","datahub.search.filter.all":"","datahub.search.filter.generatedByAPI":"","datahub.search.filter.generatedByWfs":"","datahub.search.filter.others":"","dataset.error.forbidden":"","dataset.error.http":"","dataset.error.network":"","dataset.error.parse":"","dataset.error.restrictedAccess":"","dataset.error.unknown":"","dataset.error.unsupportedType":"","domain.contact.role.author":"","domain.contact.role.collaborator":"","domain.contact.role.contributor":"","domain.contact.role.custodian":"","domain.contact.role.distributor":"","domain.contact.role.editor":"","domain.contact.role.funder":"","domain.contact.role.mediator":"","domain.contact.role.originator":"","domain.contact.role.other":"","domain.contact.role.owner":"","domain.contact.role.point_of_contact":"","domain.contact.role.principal_investigator":"","domain.contact.role.processor":"","domain.contact.role.publisher":"","domain.contact.role.resource_provider":"","domain.contact.role.rights_holder":"","domain.contact.role.sponsor":"","domain.contact.role.stakeholder":"","domain.contact.role.unspecified":"","domain.contact.role.user":"","domain.record.status.completed":"","domain.record.status.deprecated":"","domain.record.status.ongoing":"","domain.record.status.removed":"","domain.record.status.under_development":"","domain.record.updateFrequency.annually":"Gegevens worden elk jaar bijgewerkt","domain.record.updateFrequency.asNeeded":"Gegevens worden bijgewerkt naar behoefte","domain.record.updateFrequency.biannually":"Gegevens worden twee keer per jaar bijgewerkt","domain.record.updateFrequency.biennially":"Gegevens worden elke 2 jaar bijgewerkt","domain.record.updateFrequency.continual":"Gegevens worden herhaaldelijk en frequent bijgewerkt","domain.record.updateFrequency.daily":"Gegevens worden elke dag bijgewerkt","domain.record.updateFrequency.day":"{count, plural, =0{0 keer} one{Een keer} other{{count} keer}} per dag","domain.record.updateFrequency.fortnightly":"Gegevens worden elke twee weken bijgewerkt","domain.record.updateFrequency.irregular":"Gegevens worden onregelmatig bijgewerkt","domain.record.updateFrequency.month":"{count, plural, =0{0 keer} one{Een keer} other{{count} keer}} per maand","domain.record.updateFrequency.monthly":"Gegevens worden elke maand bijgewerkt","domain.record.updateFrequency.notPlanned":"Er zijn geen plannen om de gegevens bij te werken","domain.record.updateFrequency.periodic":"Gegevens worden regelmatig bijgewerkt","domain.record.updateFrequency.quarterly":"Gegevens worden elke drie maanden bijgewerkt","domain.record.updateFrequency.semimonthly":"Gegevens worden twee keer per maand bijgewerkt","domain.record.updateFrequency.unknown":"De frequentie van gegevensonderhoud is onbekend","domain.record.updateFrequency.week":"{count, plural, =0{0 keer} one{Een keer} other{{count} keer}} per week","domain.record.updateFrequency.weekly":"Gegevens worden wekelijks bijgewerkt","domain.record.updateFrequency.year":"{count, plural, =0{0 keer} one{Een keer} other{{count} keer}} per jaar","downloads.format.unknown":"","downloads.wfs.featuretype.not.found":"","dropFile":"","editor.new.record.title":"","editor.record.delete.confirmation.cancelText":"","editor.record.delete.confirmation.confirmText":"","editor.record.delete.confirmation.message":"","editor.record.delete.confirmation.title":"","editor.record.deleteError.body":"","editor.record.deleteError.closeMessage":"","editor.record.deleteError.title":"","editor.record.deleteSuccess.body":"","editor.record.deleteSuccess.title":"","editor.record.error.back":"","editor.record.error.explanation":"","editor.record.error.message":"","editor.record.form.bottomButtons.comeBackLater":"","editor.record.form.bottomButtons.next":"","editor.record.form.bottomButtons.previous":"","editor.record.form.classification.opendata":"","editor.record.form.constraint.add.legalConstraints":"","editor.record.form.constraint.add.otherConstraints":"","editor.record.form.constraint.add.securityConstraints":"","editor.record.form.constraint.header.legalConstraints":"","editor.record.form.constraint.header.otherConstraints":"","editor.record.form.constraint.header.securityConstraints":"","editor.record.form.constraint.legalConstraints":"","editor.record.form.constraint.markdown.placeholder":"","editor.record.form.constraint.not.applicable":"","editor.record.form.constraint.not.known":"","editor.record.form.constraint.otherConstraints":"","editor.record.form.constraint.securityConstraints":"","editor.record.form.draft.updateAlert":"","editor.record.form.field.abstract":"","editor.record.form.field.constraintsShortcuts":"","editor.record.form.field.contacts.noContact":"","editor.record.form.field.contacts.placeholder":"","editor.record.form.field.contactsForResource.noContact":"","editor.record.form.field.contactsForResource.placeholder":"","editor.record.form.field.keywords":"","editor.record.form.field.legalConstraints":"","editor.record.form.field.license":"","editor.record.form.field.onlineLinkResources":"","editor.record.form.field.onlineResource.cancel":"","editor.record.form.field.onlineResource.confirm":"","editor.record.form.field.onlineResource.dialogTitle":"","editor.record.form.field.onlineResource.edit.description":"","editor.record.form.field.onlineResource.edit.identifier.error":"Kan lagen niet ophalen van het protocol","editor.record.form.field.onlineResource.edit.identifier.placeholder":"Laagnaam","editor.record.form.field.onlineResource.edit.identifier.placeholder.wps":"Procesnaam","editor.record.form.field.onlineResource.edit.identifier.select.label":"Selecteer een laag","editor.record.form.field.onlineResource.edit.identifier.submit":"Link naar de dienst","editor.record.form.field.onlineResource.edit.protocol":"","editor.record.form.field.onlineResource.edit.title":"","editor.record.form.field.onlineResource.fileSize":"","editor.record.form.field.onlineResource.modify":"","editor.record.form.field.onlineResource.toggle.dataset":"","editor.record.form.field.onlineResource.toggle.service":"","editor.record.form.field.onlineResources":"","editor.record.form.field.otherConstraints":"","editor.record.form.field.overviews":"","editor.record.form.field.recordUpdated":"","editor.record.form.field.resourceCreated":"","editor.record.form.field.resourceIdentifier":"","editor.record.form.field.resourceUpdated":"","editor.record.form.field.securityConstraints":"","editor.record.form.field.spatialExtents":"","editor.record.form.field.temporalExtents":"","editor.record.form.field.title":"","editor.record.form.field.title.placeholder":"Voer een titel in","editor.record.form.field.uniqueIdentifier":"","editor.record.form.field.updateFrequency":"","editor.record.form.keywords.place.placeholder":"","editor.record.form.keywords.place.withoutExtent":"","editor.record.form.keywords.placeholder":"","editor.record.form.license.cc-by":"","editor.record.form.license.cc-by-sa":"","editor.record.form.license.cc-zero":"","editor.record.form.license.etalab":"","editor.record.form.license.etalab-v2":"","editor.record.form.license.odbl":"","editor.record.form.license.odc-by":"","editor.record.form.license.pddl":"","editor.record.form.license.unknown":"","editor.record.form.multilingual.activate":"","editor.record.form.multilingual.default":"","editor.record.form.multilingual.enable":"","editor.record.form.multilingual.forbidden":"","editor.record.form.multilingual.open":"","editor.record.form.multilingual.title":"","editor.record.form.multilingual.validate":"","editor.record.form.page.accessAndContact":"","editor.record.form.page.description":"","editor.record.form.page.resources":"","editor.record.form.section.about.description":"","editor.record.form.section.about.label":"","editor.record.form.section.annexes.description":"","editor.record.form.section.annexes.label":"","editor.record.form.section.associatedResources.description":"","editor.record.form.section.associatedResources.label":"","editor.record.form.section.classification.description":"","editor.record.form.section.classification.label":"","editor.record.form.section.dataManagers.description":"","editor.record.form.section.dataManagers.label":"","editor.record.form.section.geographicalCoverage.label":"","editor.record.form.section.metadataPointOfContact.description":"","editor.record.form.section.metadataPointOfContact.label":"","editor.record.form.section.useAndAccessConditions.label":"","editor.record.form.temporalExtents.addDate":"","editor.record.form.temporalExtents.addRange":"","editor.record.form.temporalExtents.date":"","editor.record.form.temporalExtents.range":"","editor.record.form.updateFrequency.planned":"Deze dataset wordt regelmatig bijgewerkt.","editor.record.importFromExternalFile.failure.body":"","editor.record.importFromExternalFile.failure.title":"","editor.record.importFromExternalFile.success.body":"","editor.record.importFromExternalFile.success.title":"","editor.record.loadError.body":"","editor.record.loadError.closeMessage":"","editor.record.loadError.title":"","editor.record.lock.harvested":"","editor.record.lock.owner":"","editor.record.lock.resourceType":"","editor.record.multilingual.confirmation.cancelText":"","editor.record.multilingual.confirmation.confirmText":"","editor.record.multilingual.confirmation.message":"","editor.record.multilingual.confirmation.title":"","editor.record.onlineResource.protocol.other":"","editor.record.onlineResourceError.body":"","editor.record.onlineResourceError.closeMessage":"","editor.record.onlineResourceError.title":"","editor.record.placeKeywordWithoutLabel":"","editor.record.publish":"","editor.record.publish.confirmation.cancelText":"","editor.record.publish.confirmation.confirmText":"","editor.record.publish.confirmation.message":"","editor.record.publishError.body":"","editor.record.publishError.closeMessage":"","editor.record.publishError.title":"","editor.record.publishSuccess.body":"","editor.record.publishSuccess.title":"","editor.record.publishVersionError.body":"","editor.record.publishVersionError.closeMessage":"","editor.record.publishVersionError.title":"","editor.record.resourceError.body":"","editor.record.resourceError.closeMessage":"","editor.record.resourceError.title":"","editor.record.saveStatus.draftWithChangesPending":"","editor.record.saveStatus.recordNotPublished":"","editor.record.saveStatus.recordUpToDate":"","editor.record.undo.confirmation.cancelText":"","editor.record.undo.confirmation.confirmText":"","editor.record.undo.confirmation.message":"","editor.record.undo.confirmation.title":"","editor.record.undo.tooltip.disabled":"","editor.record.undo.tooltip.enabled":"","editor.record.upToDate":"","editor.sidebar.logout":"","editor.sidebar.menu.editor":"","editor.temporary.disabled":"","externalviewer.dataset.unnamed":"","facets.block.title.OrgForResource":"","facets.block.title.availableInServices":"","facets.block.title.cl_hierarchyLevel.key":"","facets.block.title.cl_maintenanceAndUpdateFrequency.key":"","facets.block.title.cl_spatialRepresentationType.key":"","facets.block.title.cl_status.key":"","facets.block.title.creationYearForResource":"","facets.block.title.resolutionScaleDenominator":"","facets.block.title.tag":"","facets.block.title.tag.default":"","facets.block.title.th_regions_tree.default":"","favorite.not.authenticated.tooltip":"","favorite.starToggle.label":"","feature.catalog.attribute.code":"Code","feature.catalog.attribute.definition":"Beschrijving","feature.catalog.attribute.name":"Naam","feature.catalog.attribute.type":"Type","feature.catalog.attribute.values":"Waarden","input.file.dropFileLabel":"","input.file.orInputUrl":"","input.file.selectFileLabel":"","input.file.uploadProgressCancel":"","input.file.uploadProgressLabel":"","input.image.altTextPlaceholder":"","input.image.delete":"","input.image.displayAltTextInput":"","input.image.displayUrlInput":"","input.image.dropFileLabel":"","input.image.selectFileLabel":"","input.image.uploadErrorLabel":"","input.image.uploadProgressCancel":"","input.image.uploadProgressLabel":"","language.ar":"","language.az":"","language.ca":"Catalaans","language.cs":"Tsjechisch","language.cy":"","language.da":"","language.de":"Duits","language.en":"Engels","language.es":"Spaans","language.fi":"Fins","language.fr":"Frans","language.hy":"","language.is":"IJslands","language.it":"Italiaans","language.ka":"","language.ko":"Koreaans","language.nl":"Nederlands","language.no":"","language.pl":"","language.pt":"Portugees","language.rm":"","language.ru":"Russisch","language.sk":"Slowaaks","language.sv":"","language.tr":"","language.uk":"","language.zh":"Chinees","map.add.layer":"","map.add.layer.catalog":"","map.add.layer.file":"","map.add.layer.ogc.api":"","map.add.layer.wfs":"","map.add.layer.wms":"","map.addFromFile.placeholder":"","map.dropdown.placeholder":"","map.geocoding.placeholder":"","map.help.addFromFile":"","map.layer.add":"","map.layers.available":"","map.layers.list":"","map.loading.data":"","map.loading.service":"","map.navigation.message":"","map.ogc.urlInput.hint":"","map.select.layer":"","map.select.style":"","map.wfs.urlInput.hint":"","map.wms.urlInput.hint":"","multiselect.filter.placeholder":"","nav.back":"","navbar.mobile.menuTitle":"","ogc.unreachable.unknown":"","organisation.filter.placeholder":"","organisation.sort.sortBy":"","organisations.hits.found":"","organisations.sortBy.nameAsc":"","organisations.sortBy.nameDesc":"","organisations.sortBy.recordCountAsc":"","organisations.sortBy.recordCountDesc":"","organization.details.lastPublishedDatasets":"","organization.details.lastPublishedDatasets.searchAllButton":"","organization.details.mailContact":"","organization.header.recordCount":"{count, plural, =0{} one{} other{}}","pagination.nextPage":"","pagination.page":"","pagination.pageOf":"","record.action.delete":"","record.action.download":"","record.action.duplicate":"","record.action.duplicating":"","record.action.rollback":"","record.action.switchLang":"","record.action.view":"","record.card.metadata.contact":"","record.externalViewer.open":"","record.feature.catalog.number.total.attribute":"","record.feature.catalog.number.total.object":"","record.feature.limit":"","record.kind.dataset":"","record.kind.reuse":"","record.kind.service":"","record.metadata.about":"","record.metadata.api":"","record.metadata.api.accessServiceProtocol.GPFDL":"","record.metadata.api.accessServiceProtocol.esriRest":"","record.metadata.api.accessServiceProtocol.maplibre-style":"","record.metadata.api.accessServiceProtocol.ogcFeatures":"","record.metadata.api.accessServiceProtocol.other":"","record.metadata.api.accessServiceProtocol.tms":"","record.metadata.api.accessServiceProtocol.wfs":"","record.metadata.api.accessServiceProtocol.wms":"","record.metadata.api.accessServiceProtocol.wmts":"","record.metadata.api.accessServiceProtocol.wps":"","record.metadata.api.form.closeButton":"","record.metadata.api.form.closeForm":"","record.metadata.api.form.create":"","record.metadata.api.form.crsTitle":"","record.metadata.api.form.crsTooltip":"","record.metadata.api.form.customUrl":"","record.metadata.api.form.filter":"","record.metadata.api.form.filterDescription":"","record.metadata.api.form.formatTitle":"","record.metadata.api.form.formatTooltip":"","record.metadata.api.form.items":"","record.metadata.api.form.itemsDescription":"","record.metadata.api.form.itemsTooltip":"","record.metadata.api.form.limit":"","record.metadata.api.form.limit.all":"","record.metadata.api.form.nextPage":"","record.metadata.api.form.nextPageTooltip":"","record.metadata.api.form.offset":"","record.metadata.api.form.openForm":"","record.metadata.api.form.paginationDescription":"","record.metadata.api.form.previousPage":"","record.metadata.api.form.previousPageTooltip":"","record.metadata.api.form.productTooltip":"","record.metadata.api.form.reset":"","record.metadata.api.form.resetTooltip":"","record.metadata.api.form.title":"","record.metadata.api.form.title.gpf":"","record.metadata.api.form.type":"","record.metadata.api.form.zoneTitle":"","record.metadata.api.form.zoneTooltip":"","record.metadata.api.gpfdl":"","record.metadata.capabilities":"","record.metadata.catalog":"","record.metadata.contact":"","record.metadata.creation":"","record.metadata.details":"","record.metadata.download":"","record.metadata.feature.catalog":"","record.metadata.formats":"","record.metadata.isGeographical":"","record.metadata.keywords":"","record.metadata.languages":"","record.metadata.lastUpdate":"","record.metadata.linked.datasets":"","record.metadata.linked.records":"","record.metadata.linked.reuses":"","record.metadata.linked.services":"","record.metadata.linked.sourceDatasets":"","record.metadata.links":"","record.metadata.noUsage":"","record.metadata.otherConstraints":"","record.metadata.owner":"","record.metadata.preview":"","record.metadata.preview.config.error":"","record.metadata.preview.config.idle":"","record.metadata.preview.config.saved":"","record.metadata.preview.config.saving":"","record.metadata.producer":"","record.metadata.publication":"","record.metadata.publications":"{count, plural, =0{} one{} other{}}","record.metadata.quality":"","record.metadata.quality.capabilities.failed":"","record.metadata.quality.capabilities.success":"","record.metadata.quality.contact.failed":"","record.metadata.quality.contact.success":"","record.metadata.quality.description.failed":"","record.metadata.quality.description.success":"","record.metadata.quality.details":"","record.metadata.quality.keywords.failed":"","record.metadata.quality.keywords.success":"","record.metadata.quality.legalConstraints.failed":"","record.metadata.quality.legalConstraints.success":"","record.metadata.quality.organisation.failed":"","record.metadata.quality.organisation.success":"","record.metadata.quality.source.failed":"","record.metadata.quality.source.success":"","record.metadata.quality.title.failed":"","record.metadata.quality.title.success":"","record.metadata.quality.topic.failed":"","record.metadata.quality.topic.success":"","record.metadata.quality.updateFrequency.failed":"","record.metadata.quality.updateFrequency.success":"","record.metadata.related":"","record.metadata.ressources.and.links":"Bronnen en links","record.metadata.sheet":"","record.metadata.status":"","record.metadata.status.notPublished":"","record.metadata.status.published":"","record.metadata.temporalExtent":"","record.metadata.temporalExtent.fromDateToDate":"","record.metadata.temporalExtent.sinceDate":"","record.metadata.temporalExtent.untilDate":"","record.metadata.title":"","record.metadata.topics":"","record.metadata.uniqueId":"","record.metadata.updateFrequency":"","record.metadata.updatedOn":"","record.metadata.usage":"","record.metadata.userFeedbacks":"","record.metadata.userFeedbacks.anonymousUser":"","record.metadata.userFeedbacks.newAnswer.buttonTitle":"","record.metadata.userFeedbacks.newAnswer.placeholder":"","record.metadata.userFeedbacks.newComment.placeholder":"","record.metadata.userFeedbacks.sortSelector.choices.newestFirst":"","record.metadata.userFeedbacks.sortSelector.choices.oldestFirst":"","record.metadata.userFeedbacks.sortSelector.label":"","record.more.details":"","record.tab.chart":"","record.tab.data":"","record.tab.map":"","record.was.created.time":"","records":"","results.layout.selectOne":"","results.records.hits.displayedOn":"","results.records.hits.empty.help.html":"","results.records.hits.found":"","results.records.hits.selected":"","results.showMore":"","results.sortBy.changeDate":"","results.sortBy.dateStamp":"","results.sortBy.popularity":"","results.sortBy.qualityScore":"","results.sortBy.relevancy":"","reuse.metadata.access":"","search.autocomplete.error":"","search.error.couldNotReachApi":"","search.error.organizationHasNoDataset":"","search.error.organizationNotFound":"","search.error.receivedError":"","search.error.recordHasnolink":"","search.error.recordNotFound":"","search.field.any.placeholder":"","search.field.sortBy":"","search.filter.into.feature.catalog":"","search.filters.availableServices.download":"","search.filters.availableServices.view":"","search.filters.changeDate":"","search.filters.clear":"","search.filters.contact":"","search.filters.format":"","search.filters.inspireKeyword":"","search.filters.isSpatial":"","search.filters.isSpatial.no":"","search.filters.isSpatial.yes":"","search.filters.keyword":"","search.filters.license":"","search.filters.license.cc-by":"","search.filters.license.cc-by-sa":"","search.filters.license.cc-zero":"","search.filters.license.etalab":"","search.filters.license.etalab-v2":"","search.filters.license.odbl":"","search.filters.license.odc-by":"","search.filters.license.pddl":"","search.filters.license.unknown":"","search.filters.maximize":"","search.filters.minimize":"","search.filters.myRecords":"","search.filters.myRecordsHelp":"","search.filters.organization":"","search.filters.otherRecords":"","search.filters.producerOrg":"","search.filters.publicationYear":"","search.filters.publisherOrg":"","search.filters.recordKind.all":"Alles","search.filters.recordKind.dataset":"","search.filters.recordKind.reuse":"","search.filters.recordKind.service":"","search.filters.representationType":"","search.filters.resourceType":"","search.filters.standard":"","search.filters.summaryLabel.changeDate":"","search.filters.summaryLabel.user":"","search.filters.title":"","search.filters.topic":"","search.filters.useSpatialFilter":"","search.filters.useSpatialFilterHelp":"","search.filters.user":"","service.metadata.capabilities":"","service.metadata.capabilities.abstract":"","service.metadata.capabilities.attribution":"","service.metadata.capabilities.availableCrs":"","service.metadata.capabilities.defaultCrs":"","service.metadata.capabilities.geometryName":"","service.metadata.capabilities.geometryType":"","service.metadata.capabilities.keywords":"","service.metadata.capabilities.name":"","service.metadata.capabilities.objectCount":"","service.metadata.capabilities.otherCrs":"","service.metadata.capabilities.outputFormats":"","service.metadata.capabilities.resourceLinks":"","service.metadata.capabilities.title":"","service.metadata.filter":"","service.metadata.filter.noLayers":"","service.metadata.other":"","service.metadata.question":"","service.metadata.search":"","service.metadata.search.clear":"","service.metadata.spatialExtent":"","share.tab.permalink":"","share.tab.webComponent":"","table.loading.data":"","table.object.count":"","table.paginator.firstPage":"","table.paginator.itemsPerPage":"","table.paginator.lastPage":"","table.paginator.nextPage":"","table.paginator.previousPage":"","table.paginator.rangeLabel":"","table.select.data":"","tooltip.html.copy":"","tooltip.id.copy":"","tooltip.url.copy":"","ui.readLess":"","ui.readMore":"","wfs.feature.limit":"","wfs.featuretype.notfound":"","wfs.geojsongml.notsupported":"","wfs.unreachable.cors":"","wfs.unreachable.http":"","wfs.unreachable.unknown":""}'),toe=JSON.parse('{"":"","Add Layer As":"","Enter to search":"","button.login":"","catalog.figures.datasets":"conjuntos de dados","catalog.figures.organizations":"organiza\xe7\xf5es","chart.aggregation.average":"m\xe9dia","chart.aggregation.count":"contagem","chart.aggregation.max":"m\xe1ximo","chart.aggregation.min":"m\xednimo","chart.aggregation.sum":"soma","chart.dropdown.aggregation":"Agrega\xe7\xe3o","chart.dropdown.type":"Tipo","chart.dropdown.xProperty":"Eixo X","chart.dropdown.yProperty":"Eixo Y","chart.loading.data":"Carregando dados...","chart.type.bar":"gr\xe1fico de barras","chart.type.barHorizontal":"gr\xe1fico de barras horizontal","chart.type.line":"gr\xe1fico de linha","chart.type.lineSmooth":"gr\xe1fico de linha suave","chart.type.pie":"gr\xe1fico de pizza","dashboard.catalog.allRecords":"","dashboard.createRecord":"","dashboard.importRecord":"","dashboard.importRecord.importExternal":"","dashboard.importRecord.importExternal.subtitle":"","dashboard.importRecord.importExternal.title":"","dashboard.labels.catalog":"Cat\xe1logo","dashboard.labels.mySpace":"Meu espa\xe7o","dashboard.records.all":"Cat\xe1logo","dashboard.records.hasDraft":"","dashboard.records.isMultilingual":"Este registro \xe9 multil\xedngue ({languages})","dashboard.records.myDraft":"Meus rascunhos","dashboard.records.myRecords":"Meus Registros","dashboard.records.search":"Buscar por \\"{searchText}\\"","dashboard.records.userDetail":"","dashboard.records.userEmail":"","dashboard.records.username":"","dashboard.records.users":"","datahub.header.datasets":"Cat\xe1logo","datahub.header.lastRecords":"","datahub.header.myfavorites":"","datahub.header.news":"","datahub.header.organizations":"","datahub.header.popularRecords":"","datahub.header.title.html":"","datahub.news.contact.contactus":"","datahub.news.contact.html":"","datahub.news.contact.title":"","datahub.news.feed":"","datahub.news.figures":"","datahub.search.back":"","datahub.search.filter.all":"","datahub.search.filter.generatedByAPI":"","datahub.search.filter.generatedByWfs":"","datahub.search.filter.others":"","dataset.error.forbidden":"","dataset.error.http":"","dataset.error.network":"","dataset.error.parse":"","dataset.error.restrictedAccess":"","dataset.error.unknown":"","dataset.error.unsupportedType":"","domain.contact.role.author":"","domain.contact.role.collaborator":"","domain.contact.role.contributor":"","domain.contact.role.custodian":"","domain.contact.role.distributor":"","domain.contact.role.editor":"","domain.contact.role.funder":"","domain.contact.role.mediator":"","domain.contact.role.originator":"","domain.contact.role.other":"","domain.contact.role.owner":"","domain.contact.role.point_of_contact":"","domain.contact.role.principal_investigator":"","domain.contact.role.processor":"","domain.contact.role.publisher":"","domain.contact.role.resource_provider":"","domain.contact.role.rights_holder":"","domain.contact.role.sponsor":"","domain.contact.role.stakeholder":"","domain.contact.role.unspecified":"","domain.contact.role.user":"","domain.record.status.completed":"","domain.record.status.deprecated":"","domain.record.status.ongoing":"","domain.record.status.removed":"","domain.record.status.under_development":"","domain.record.updateFrequency.annually":"Os dados s\xe3o atualizados anualmente","domain.record.updateFrequency.asNeeded":"Os dados s\xe3o atualizados conforme necess\xe1rio","domain.record.updateFrequency.biannually":"Os dados s\xe3o atualizados duas vezes por ano","domain.record.updateFrequency.biennially":"Os dados s\xe3o atualizados a cada 2 anos","domain.record.updateFrequency.continual":"Os dados s\xe3o atualizados repetidamente e com frequ\xeancia","domain.record.updateFrequency.daily":"Os dados s\xe3o atualizados diariamente","domain.record.updateFrequency.day":"{count, plural, =0{0 vezes} one{Uma vez} other{{count} vezes}} por dia","domain.record.updateFrequency.fortnightly":"Os dados s\xe3o atualizados a cada duas semanas","domain.record.updateFrequency.irregular":"Os dados s\xe3o atualizados em intervalos irregulares","domain.record.updateFrequency.month":"{count, plural, =0{0 vezes} one{Uma vez} other{{count} vezes}} por m\xeas","domain.record.updateFrequency.monthly":"Os dados s\xe3o atualizados mensalmente","domain.record.updateFrequency.notPlanned":"N\xe3o h\xe1 planos para atualizar os dados","domain.record.updateFrequency.periodic":"Os dados s\xe3o atualizados em intervalos regulares","domain.record.updateFrequency.quarterly":"Os dados s\xe3o atualizados a cada tr\xeas meses","domain.record.updateFrequency.semimonthly":"Os dados s\xe3o atualizados duas vezes por m\xeas","domain.record.updateFrequency.unknown":"A frequ\xeancia de manuten\xe7\xe3o dos dados \xe9 desconhecida","domain.record.updateFrequency.week":"{count, plural, =0{0 vezes} one{Uma vez} other{{count} vezes}} por semana","domain.record.updateFrequency.weekly":"Os dados s\xe3o atualizados semanalmente","domain.record.updateFrequency.year":"{count, plural, =0{0 vezes} one{Uma vez} other{{count} vezes}} por ano","downloads.format.unknown":"","downloads.wfs.featuretype.not.found":"","dropFile":"","editor.new.record.title":"","editor.record.delete.confirmation.cancelText":"","editor.record.delete.confirmation.confirmText":"","editor.record.delete.confirmation.message":"","editor.record.delete.confirmation.title":"","editor.record.deleteError.body":"","editor.record.deleteError.closeMessage":"","editor.record.deleteError.title":"","editor.record.deleteSuccess.body":"","editor.record.deleteSuccess.title":"","editor.record.error.back":"","editor.record.error.explanation":"","editor.record.error.message":"","editor.record.form.bottomButtons.comeBackLater":"","editor.record.form.bottomButtons.next":"","editor.record.form.bottomButtons.previous":"","editor.record.form.classification.opendata":"","editor.record.form.constraint.add.legalConstraints":"","editor.record.form.constraint.add.otherConstraints":"","editor.record.form.constraint.add.securityConstraints":"","editor.record.form.constraint.header.legalConstraints":"","editor.record.form.constraint.header.otherConstraints":"","editor.record.form.constraint.header.securityConstraints":"","editor.record.form.constraint.legalConstraints":"","editor.record.form.constraint.markdown.placeholder":"","editor.record.form.constraint.not.applicable":"","editor.record.form.constraint.not.known":"","editor.record.form.constraint.otherConstraints":"","editor.record.form.constraint.securityConstraints":"","editor.record.form.draft.updateAlert":"","editor.record.form.field.abstract":"","editor.record.form.field.constraintsShortcuts":"","editor.record.form.field.contacts.noContact":"","editor.record.form.field.contacts.placeholder":"","editor.record.form.field.contactsForResource.noContact":"","editor.record.form.field.contactsForResource.placeholder":"","editor.record.form.field.keywords":"","editor.record.form.field.legalConstraints":"","editor.record.form.field.license":"","editor.record.form.field.onlineLinkResources":"","editor.record.form.field.onlineResource.cancel":"","editor.record.form.field.onlineResource.confirm":"","editor.record.form.field.onlineResource.dialogTitle":"","editor.record.form.field.onlineResource.edit.description":"","editor.record.form.field.onlineResource.edit.identifier.error":"N\xe3o \xe9 poss\xedvel recuperar camadas do protocolo","editor.record.form.field.onlineResource.edit.identifier.placeholder":"Nome da camada","editor.record.form.field.onlineResource.edit.identifier.placeholder.wps":"Nome do processo","editor.record.form.field.onlineResource.edit.identifier.select.label":"Selecione uma camada","editor.record.form.field.onlineResource.edit.identifier.submit":"Link para o servi\xe7o","editor.record.form.field.onlineResource.edit.protocol":"","editor.record.form.field.onlineResource.edit.title":"","editor.record.form.field.onlineResource.fileSize":"","editor.record.form.field.onlineResource.modify":"","editor.record.form.field.onlineResource.toggle.dataset":"","editor.record.form.field.onlineResource.toggle.service":"","editor.record.form.field.onlineResources":"","editor.record.form.field.otherConstraints":"","editor.record.form.field.overviews":"","editor.record.form.field.recordUpdated":"","editor.record.form.field.resourceCreated":"","editor.record.form.field.resourceIdentifier":"","editor.record.form.field.resourceUpdated":"","editor.record.form.field.securityConstraints":"","editor.record.form.field.spatialExtents":"","editor.record.form.field.temporalExtents":"","editor.record.form.field.title":"","editor.record.form.field.title.placeholder":"Insira um t\xedtulo","editor.record.form.field.uniqueIdentifier":"","editor.record.form.field.updateFrequency":"","editor.record.form.keywords.place.placeholder":"","editor.record.form.keywords.place.withoutExtent":"","editor.record.form.keywords.placeholder":"","editor.record.form.license.cc-by":"","editor.record.form.license.cc-by-sa":"","editor.record.form.license.cc-zero":"","editor.record.form.license.etalab":"","editor.record.form.license.etalab-v2":"","editor.record.form.license.odbl":"","editor.record.form.license.odc-by":"","editor.record.form.license.pddl":"","editor.record.form.license.unknown":"","editor.record.form.multilingual.activate":"","editor.record.form.multilingual.default":"","editor.record.form.multilingual.enable":"","editor.record.form.multilingual.forbidden":"","editor.record.form.multilingual.open":"","editor.record.form.multilingual.title":"","editor.record.form.multilingual.validate":"","editor.record.form.page.accessAndContact":"","editor.record.form.page.description":"","editor.record.form.page.resources":"","editor.record.form.section.about.description":"","editor.record.form.section.about.label":"","editor.record.form.section.annexes.description":"","editor.record.form.section.annexes.label":"","editor.record.form.section.associatedResources.description":"","editor.record.form.section.associatedResources.label":"","editor.record.form.section.classification.description":"","editor.record.form.section.classification.label":"","editor.record.form.section.dataManagers.description":"","editor.record.form.section.dataManagers.label":"","editor.record.form.section.geographicalCoverage.label":"","editor.record.form.section.metadataPointOfContact.description":"","editor.record.form.section.metadataPointOfContact.label":"","editor.record.form.section.useAndAccessConditions.label":"","editor.record.form.temporalExtents.addDate":"","editor.record.form.temporalExtents.addRange":"","editor.record.form.temporalExtents.date":"","editor.record.form.temporalExtents.range":"","editor.record.form.updateFrequency.planned":"Este conjunto de dados \xe9 atualizado regularmente.","editor.record.importFromExternalFile.failure.body":"","editor.record.importFromExternalFile.failure.title":"","editor.record.importFromExternalFile.success.body":"","editor.record.importFromExternalFile.success.title":"","editor.record.loadError.body":"","editor.record.loadError.closeMessage":"","editor.record.loadError.title":"","editor.record.lock.harvested":"","editor.record.lock.owner":"","editor.record.lock.resourceType":"","editor.record.multilingual.confirmation.cancelText":"","editor.record.multilingual.confirmation.confirmText":"","editor.record.multilingual.confirmation.message":"","editor.record.multilingual.confirmation.title":"","editor.record.onlineResource.protocol.other":"","editor.record.onlineResourceError.body":"","editor.record.onlineResourceError.closeMessage":"","editor.record.onlineResourceError.title":"","editor.record.placeKeywordWithoutLabel":"","editor.record.publish":"","editor.record.publish.confirmation.cancelText":"","editor.record.publish.confirmation.confirmText":"","editor.record.publish.confirmation.message":"","editor.record.publishError.body":"","editor.record.publishError.closeMessage":"","editor.record.publishError.title":"","editor.record.publishSuccess.body":"","editor.record.publishSuccess.title":"","editor.record.publishVersionError.body":"","editor.record.publishVersionError.closeMessage":"","editor.record.publishVersionError.title":"","editor.record.resourceError.body":"","editor.record.resourceError.closeMessage":"","editor.record.resourceError.title":"","editor.record.saveStatus.draftWithChangesPending":"","editor.record.saveStatus.recordNotPublished":"","editor.record.saveStatus.recordUpToDate":"","editor.record.undo.confirmation.cancelText":"","editor.record.undo.confirmation.confirmText":"","editor.record.undo.confirmation.message":"","editor.record.undo.confirmation.title":"","editor.record.undo.tooltip.disabled":"","editor.record.undo.tooltip.enabled":"","editor.record.upToDate":"","editor.sidebar.logout":"","editor.sidebar.menu.editor":"","editor.temporary.disabled":"","externalviewer.dataset.unnamed":"","facets.block.title.OrgForResource":"","facets.block.title.availableInServices":"","facets.block.title.cl_hierarchyLevel.key":"","facets.block.title.cl_maintenanceAndUpdateFrequency.key":"","facets.block.title.cl_spatialRepresentationType.key":"","facets.block.title.cl_status.key":"","facets.block.title.creationYearForResource":"","facets.block.title.resolutionScaleDenominator":"","facets.block.title.tag":"","facets.block.title.tag.default":"","facets.block.title.th_regions_tree.default":"","favorite.not.authenticated.tooltip":"","favorite.starToggle.label":"","feature.catalog.attribute.code":"C\xf3digo","feature.catalog.attribute.definition":"Descri\xe7\xe3o","feature.catalog.attribute.name":"Nome","feature.catalog.attribute.type":"Tipo","feature.catalog.attribute.values":"Valores","input.file.dropFileLabel":"","input.file.orInputUrl":"","input.file.selectFileLabel":"","input.file.uploadProgressCancel":"","input.file.uploadProgressLabel":"","input.image.altTextPlaceholder":"","input.image.delete":"","input.image.displayAltTextInput":"","input.image.displayUrlInput":"","input.image.dropFileLabel":"","input.image.selectFileLabel":"","input.image.uploadErrorLabel":"","input.image.uploadProgressCancel":"","input.image.uploadProgressLabel":"","language.ar":"","language.az":"","language.ca":"Catal\xe3o","language.cs":"Tcheco","language.cy":"","language.da":"","language.de":"Alem\xe3o","language.en":"Ingl\xeas","language.es":"Espanhol","language.fi":"Finland\xeas","language.fr":"Franc\xeas","language.hy":"","language.is":"Island\xeas","language.it":"Italiano","language.ka":"","language.ko":"Coreano","language.nl":"Holand\xeas","language.no":"","language.pl":"","language.pt":"Portugu\xeas","language.rm":"","language.ru":"Russo","language.sk":"Eslovaco","language.sv":"","language.tr":"","language.uk":"","language.zh":"Chin\xeas","map.add.layer":"","map.add.layer.catalog":"","map.add.layer.file":"","map.add.layer.ogc.api":"","map.add.layer.wfs":"","map.add.layer.wms":"","map.addFromFile.placeholder":"","map.dropdown.placeholder":"","map.geocoding.placeholder":"","map.help.addFromFile":"","map.layer.add":"","map.layers.available":"","map.layers.list":"","map.loading.data":"","map.loading.service":"","map.navigation.message":"","map.ogc.urlInput.hint":"","map.select.layer":"","map.select.style":"","map.wfs.urlInput.hint":"","map.wms.urlInput.hint":"","multiselect.filter.placeholder":"","nav.back":"","navbar.mobile.menuTitle":"","ogc.unreachable.unknown":"","organisation.filter.placeholder":"","organisation.sort.sortBy":"","organisations.hits.found":"","organisations.sortBy.nameAsc":"","organisations.sortBy.nameDesc":"","organisations.sortBy.recordCountAsc":"","organisations.sortBy.recordCountDesc":"","organization.details.lastPublishedDatasets":"","organization.details.lastPublishedDatasets.searchAllButton":"","organization.details.mailContact":"","organization.header.recordCount":"{count, plural, =0{} one{} other{}}","pagination.nextPage":"","pagination.page":"","pagination.pageOf":"","record.action.delete":"","record.action.download":"","record.action.duplicate":"","record.action.duplicating":"","record.action.rollback":"","record.action.switchLang":"","record.action.view":"","record.card.metadata.contact":"","record.externalViewer.open":"","record.feature.catalog.number.total.attribute":"","record.feature.catalog.number.total.object":"","record.feature.limit":"","record.kind.dataset":"","record.kind.reuse":"","record.kind.service":"","record.metadata.about":"","record.metadata.api":"","record.metadata.api.accessServiceProtocol.GPFDL":"","record.metadata.api.accessServiceProtocol.esriRest":"","record.metadata.api.accessServiceProtocol.maplibre-style":"","record.metadata.api.accessServiceProtocol.ogcFeatures":"","record.metadata.api.accessServiceProtocol.other":"","record.metadata.api.accessServiceProtocol.tms":"","record.metadata.api.accessServiceProtocol.wfs":"","record.metadata.api.accessServiceProtocol.wms":"","record.metadata.api.accessServiceProtocol.wmts":"","record.metadata.api.accessServiceProtocol.wps":"","record.metadata.api.form.closeButton":"","record.metadata.api.form.closeForm":"","record.metadata.api.form.create":"","record.metadata.api.form.crsTitle":"","record.metadata.api.form.crsTooltip":"","record.metadata.api.form.customUrl":"","record.metadata.api.form.filter":"","record.metadata.api.form.filterDescription":"","record.metadata.api.form.formatTitle":"","record.metadata.api.form.formatTooltip":"","record.metadata.api.form.items":"","record.metadata.api.form.itemsDescription":"","record.metadata.api.form.itemsTooltip":"","record.metadata.api.form.limit":"","record.metadata.api.form.limit.all":"","record.metadata.api.form.nextPage":"","record.metadata.api.form.nextPageTooltip":"","record.metadata.api.form.offset":"","record.metadata.api.form.openForm":"","record.metadata.api.form.paginationDescription":"","record.metadata.api.form.previousPage":"","record.metadata.api.form.previousPageTooltip":"","record.metadata.api.form.productTooltip":"","record.metadata.api.form.reset":"","record.metadata.api.form.resetTooltip":"","record.metadata.api.form.title":"","record.metadata.api.form.title.gpf":"","record.metadata.api.form.type":"","record.metadata.api.form.zoneTitle":"","record.metadata.api.form.zoneTooltip":"","record.metadata.api.gpfdl":"","record.metadata.capabilities":"","record.metadata.catalog":"","record.metadata.contact":"","record.metadata.creation":"","record.metadata.details":"","record.metadata.download":"","record.metadata.feature.catalog":"","record.metadata.formats":"","record.metadata.isGeographical":"","record.metadata.keywords":"","record.metadata.languages":"","record.metadata.lastUpdate":"","record.metadata.linked.datasets":"","record.metadata.linked.records":"","record.metadata.linked.reuses":"","record.metadata.linked.services":"","record.metadata.linked.sourceDatasets":"","record.metadata.links":"","record.metadata.noUsage":"","record.metadata.otherConstraints":"","record.metadata.owner":"","record.metadata.preview":"","record.metadata.preview.config.error":"","record.metadata.preview.config.idle":"","record.metadata.preview.config.saved":"","record.metadata.preview.config.saving":"","record.metadata.producer":"","record.metadata.publication":"","record.metadata.publications":"{count, plural, =0{} one{} other{}}","record.metadata.quality":"","record.metadata.quality.capabilities.failed":"","record.metadata.quality.capabilities.success":"","record.metadata.quality.contact.failed":"","record.metadata.quality.contact.success":"","record.metadata.quality.description.failed":"","record.metadata.quality.description.success":"","record.metadata.quality.details":"","record.metadata.quality.keywords.failed":"","record.metadata.quality.keywords.success":"","record.metadata.quality.legalConstraints.failed":"","record.metadata.quality.legalConstraints.success":"","record.metadata.quality.organisation.failed":"","record.metadata.quality.organisation.success":"","record.metadata.quality.source.failed":"","record.metadata.quality.source.success":"","record.metadata.quality.title.failed":"","record.metadata.quality.title.success":"","record.metadata.quality.topic.failed":"","record.metadata.quality.topic.success":"","record.metadata.quality.updateFrequency.failed":"","record.metadata.quality.updateFrequency.success":"","record.metadata.related":"","record.metadata.ressources.and.links":"Recursos e links","record.metadata.sheet":"","record.metadata.status":"","record.metadata.status.notPublished":"","record.metadata.status.published":"","record.metadata.temporalExtent":"","record.metadata.temporalExtent.fromDateToDate":"","record.metadata.temporalExtent.sinceDate":"","record.metadata.temporalExtent.untilDate":"","record.metadata.title":"","record.metadata.topics":"","record.metadata.uniqueId":"","record.metadata.updateFrequency":"","record.metadata.updatedOn":"","record.metadata.usage":"","record.metadata.userFeedbacks":"","record.metadata.userFeedbacks.anonymousUser":"","record.metadata.userFeedbacks.newAnswer.buttonTitle":"","record.metadata.userFeedbacks.newAnswer.placeholder":"","record.metadata.userFeedbacks.newComment.placeholder":"","record.metadata.userFeedbacks.sortSelector.choices.newestFirst":"","record.metadata.userFeedbacks.sortSelector.choices.oldestFirst":"","record.metadata.userFeedbacks.sortSelector.label":"","record.more.details":"","record.tab.chart":"","record.tab.data":"","record.tab.map":"","record.was.created.time":"","records":"","results.layout.selectOne":"","results.records.hits.displayedOn":"","results.records.hits.empty.help.html":"","results.records.hits.found":"","results.records.hits.selected":"","results.showMore":"","results.sortBy.changeDate":"","results.sortBy.dateStamp":"","results.sortBy.popularity":"","results.sortBy.qualityScore":"","results.sortBy.relevancy":"","reuse.metadata.access":"","search.autocomplete.error":"","search.error.couldNotReachApi":"","search.error.organizationHasNoDataset":"","search.error.organizationNotFound":"","search.error.receivedError":"","search.error.recordHasnolink":"","search.error.recordNotFound":"","search.field.any.placeholder":"","search.field.sortBy":"","search.filter.into.feature.catalog":"","search.filters.availableServices.download":"","search.filters.availableServices.view":"","search.filters.changeDate":"","search.filters.clear":"","search.filters.contact":"","search.filters.format":"","search.filters.inspireKeyword":"","search.filters.isSpatial":"","search.filters.isSpatial.no":"","search.filters.isSpatial.yes":"","search.filters.keyword":"","search.filters.license":"","search.filters.license.cc-by":"","search.filters.license.cc-by-sa":"","search.filters.license.cc-zero":"","search.filters.license.etalab":"","search.filters.license.etalab-v2":"","search.filters.license.odbl":"","search.filters.license.odc-by":"","search.filters.license.pddl":"","search.filters.license.unknown":"","search.filters.maximize":"","search.filters.minimize":"","search.filters.myRecords":"","search.filters.myRecordsHelp":"","search.filters.organization":"","search.filters.otherRecords":"","search.filters.producerOrg":"","search.filters.publicationYear":"","search.filters.publisherOrg":"","search.filters.recordKind.all":"Todos","search.filters.recordKind.dataset":"","search.filters.recordKind.reuse":"","search.filters.recordKind.service":"","search.filters.representationType":"","search.filters.resourceType":"","search.filters.standard":"","search.filters.summaryLabel.changeDate":"","search.filters.summaryLabel.user":"","search.filters.title":"","search.filters.topic":"","search.filters.useSpatialFilter":"","search.filters.useSpatialFilterHelp":"","search.filters.user":"","service.metadata.capabilities":"","service.metadata.capabilities.abstract":"","service.metadata.capabilities.attribution":"","service.metadata.capabilities.availableCrs":"","service.metadata.capabilities.defaultCrs":"","service.metadata.capabilities.geometryName":"","service.metadata.capabilities.geometryType":"","service.metadata.capabilities.keywords":"","service.metadata.capabilities.name":"","service.metadata.capabilities.objectCount":"","service.metadata.capabilities.otherCrs":"","service.metadata.capabilities.outputFormats":"","service.metadata.capabilities.resourceLinks":"","service.metadata.capabilities.title":"","service.metadata.filter":"","service.metadata.filter.noLayers":"","service.metadata.other":"","service.metadata.question":"","service.metadata.search":"","service.metadata.search.clear":"","service.metadata.spatialExtent":"","share.tab.permalink":"","share.tab.webComponent":"","table.loading.data":"","table.object.count":"","table.paginator.firstPage":"","table.paginator.itemsPerPage":"","table.paginator.lastPage":"","table.paginator.nextPage":"","table.paginator.previousPage":"","table.paginator.rangeLabel":"","table.select.data":"","tooltip.html.copy":"","tooltip.id.copy":"","tooltip.url.copy":"","ui.readLess":"","ui.readMore":"","wfs.feature.limit":"","wfs.featuretype.notfound":"","wfs.geojsongml.notsupported":"","wfs.unreachable.cors":"","wfs.unreachable.http":"","wfs.unreachable.unknown":""}'),noe=JSON.parse('{"":"","Add Layer As":"","Enter to search":"","button.login":"","catalog.figures.datasets":"{count, plural, =0{datasety} one{dataset} other{datasety}}","catalog.figures.organizations":"{count, plural, =0{organiz\xe1cie} one{organiz\xe1cia} other{organiz\xe1cie}}","chart.aggregation.average":"priemer","chart.aggregation.count":"po\u010det","chart.aggregation.max":"maximum","chart.aggregation.min":"minimum","chart.aggregation.sum":"s\xfa\u010det","chart.dropdown.aggregation":"Agreg\xe1cia","chart.dropdown.type":"Typ","chart.dropdown.xProperty":"os X","chart.dropdown.yProperty":"os Y","chart.loading.data":"Na\u010d\xedtavanie d\xe1t...","chart.type.bar":"st\u013apcov\xfd graf","chart.type.barHorizontal":"horizont\xe1lny st\u013apcov\xfd graf","chart.type.line":"\u010diarov\xfd graf","chart.type.lineSmooth":"vyhladen\xfd \u010diarov\xfd graf","chart.type.pie":"kol\xe1\u010dov\xfd graf","dashboard.catalog.allRecords":"","dashboard.createRecord":"","dashboard.importRecord":"","dashboard.importRecord.importExternal":"","dashboard.importRecord.importExternal.subtitle":"","dashboard.importRecord.importExternal.title":"","dashboard.labels.catalog":"Katal\xf3g","dashboard.labels.mySpace":"M\xf4j priestor","dashboard.records.all":"Katal\xf3g","dashboard.records.hasDraft":"","dashboard.records.isMultilingual":"Tento z\xe1znam je viacjazy\u010dn\xfd ({languages})","dashboard.records.myDraft":"Moje koncepty","dashboard.records.myRecords":"Moje z\xe1znamy","dashboard.records.search":"H\u013eada\u0165 \\"{searchText}\\"","dashboard.records.userDetail":"Meno","dashboard.records.userEmail":"Email","dashboard.records.username":"U\u017e\xedvate\u013esk\xe9 meno","dashboard.records.users":"{count, plural, =1{u\u017e\xedvate\u013e} other{u\u017e\xedvatelia}}","datahub.header.datasets":"Katal\xf3g","datahub.header.lastRecords":"Najnov\u0161ie","datahub.header.myfavorites":"Moje ob\u013e\xfaben\xe9","datahub.header.news":"Domov","datahub.header.organizations":"Organiz\xe1cie","datahub.header.popularRecords":"Najpopul\xe1rnej\u0161ie","datahub.header.title.html":"<div class=\\"text-white\\">Objavte otvoren\xe9<br>d\xe1ta z mojej organiz\xe1cie</div>","datahub.news.contact.contactus":"Kontaktujte n\xe1s","datahub.news.contact.html":"<p>Potrebujete \xfadaje, ktor\xe9 sa v s\xfa\u010dasnosti na platforme nenach\xe1dzaj\xfa?</p><p>N\xe1\u0161 t\xedm je tu, aby V\xe1m odpovedal.</p>","datahub.news.contact.title":"\u0160pecifick\xe1 potreba?","datahub.news.feed":"Spravodajsk\xfd kan\xe1l","datahub.news.figures":"Ukazovatele","datahub.search.back":"Sp\xe4\u0165 na v\xfdsledky","datahub.search.filter.all":"V\u0161etky","datahub.search.filter.generatedByAPI":"vygenerovan\xe9 cez API","datahub.search.filter.generatedByWfs":"","datahub.search.filter.others":"In\xe9","dataset.error.forbidden":"","dataset.error.http":"D\xe1ta sa nedaj\xfa na\u010d\xedta\u0165 kv\xf4li chybe HTTP: \\"{ info }\\"","dataset.error.network":"D\xe1ta sa nedaj\xfa na\u010d\xedta\u0165 kv\xf4li chybe v sieti alebo obmedzeniam CORS: \\"{ info }\\"","dataset.error.parse":"D\xe1ta boli na\u010d\xedtan\xe9, ale nedaj\xfa sa analyzova\u0165: \\"{ info }\\"","dataset.error.restrictedAccess":"","dataset.error.unknown":"D\xe1ta nie je mo\u017en\xe9 zobrazi\u0165: \\"{ info }\\"","dataset.error.unsupportedType":"Nepodporovan\xfd typ obsahu: \\"{ info }\\"","domain.contact.role.author":"","domain.contact.role.collaborator":"","domain.contact.role.contributor":"","domain.contact.role.custodian":"","domain.contact.role.distributor":"","domain.contact.role.editor":"","domain.contact.role.funder":"","domain.contact.role.mediator":"","domain.contact.role.originator":"","domain.contact.role.other":"","domain.contact.role.owner":"","domain.contact.role.point_of_contact":"","domain.contact.role.principal_investigator":"","domain.contact.role.processor":"","domain.contact.role.publisher":"","domain.contact.role.resource_provider":"","domain.contact.role.rights_holder":"","domain.contact.role.sponsor":"","domain.contact.role.stakeholder":"","domain.contact.role.unspecified":"","domain.contact.role.user":"","domain.record.status.completed":"Dokon\u010den\xe9","domain.record.status.deprecated":"Zastaran\xe9","domain.record.status.ongoing":"Prebiehaj\xface","domain.record.status.removed":"Odstr\xe1nen\xe9","domain.record.status.under_development":"Vo v\xfdvoji","domain.record.updateFrequency.annually":"\xdadaje sa aktualizuj\xfa ka\u017ed\xfd rok","domain.record.updateFrequency.asNeeded":"\xdadaje sa aktualizuj\xfa pod\u013ea potreby","domain.record.updateFrequency.biannually":"\xdadaje sa aktualizuj\xfa dvakr\xe1t ro\u010dne","domain.record.updateFrequency.biennially":"\xdadaje sa aktualizuj\xfa ka\u017ed\xe9 2 roky","domain.record.updateFrequency.continual":"\xdadaje sa aktualizuj\xfa opakovane a \u010dasto","domain.record.updateFrequency.daily":"\xdadaje sa aktualizuj\xfa ka\u017ed\xfd de\u0148","domain.record.updateFrequency.day":"{count, plural, =0{0 kr\xe1t} one{Raz} other{{count} kr\xe1t}} za de\u0148","domain.record.updateFrequency.fortnightly":"\xdadaje sa aktualizuj\xfa ka\u017ed\xe9 dva t\xfd\u017edne","domain.record.updateFrequency.irregular":"\xdadaje sa aktualizuj\xfa v nepravideln\xfdch intervaloch","domain.record.updateFrequency.month":"{count, plural, =0{0 kr\xe1t} one{Raz} other{{count} kr\xe1t}} za mesiac","domain.record.updateFrequency.monthly":"\xdadaje sa aktualizuj\xfa ka\u017ed\xfd mesiac","domain.record.updateFrequency.notPlanned":"Nie s\xfa \u017eiadne pl\xe1ny na aktualiz\xe1ciu \xfadajov","domain.record.updateFrequency.periodic":"\xdadaje sa aktualizuj\xfa v pravideln\xfdch intervaloch","domain.record.updateFrequency.quarterly":"\xdadaje sa aktualizuj\xfa ka\u017ed\xe9 tri mesiace","domain.record.updateFrequency.semimonthly":"\xdadaje sa aktualizuj\xfa dvakr\xe1t za mesiac","domain.record.updateFrequency.unknown":"Frekvencia \xfadr\u017eby \xfadajov nie je zn\xe1ma","domain.record.updateFrequency.week":"{count, plural, =0{0 kr\xe1t} one{Raz} other{{count} kr\xe1t}} za t\xfd\u017ede\u0148","domain.record.updateFrequency.weekly":"\xdadaje sa aktualizuj\xfa t\xfd\u017edenne","domain.record.updateFrequency.year":"{count, plural, =0{0 kr\xe1t} one{Raz} other{{count} kr\xe1t}} za rok","downloads.format.unknown":"nezn\xe1my","downloads.wfs.featuretype.not.found":"Vrstva nebola n\xe1jden\xe1","dropFile":"nahra\u0165 s\xfabor","editor.new.record.title":"","editor.record.delete.confirmation.cancelText":"","editor.record.delete.confirmation.confirmText":"","editor.record.delete.confirmation.message":"","editor.record.delete.confirmation.title":"","editor.record.deleteError.body":"","editor.record.deleteError.closeMessage":"","editor.record.deleteError.title":"","editor.record.deleteSuccess.body":"","editor.record.deleteSuccess.title":"","editor.record.error.back":"","editor.record.error.explanation":"","editor.record.error.message":"","editor.record.form.bottomButtons.comeBackLater":"","editor.record.form.bottomButtons.next":"","editor.record.form.bottomButtons.previous":"","editor.record.form.classification.opendata":"","editor.record.form.constraint.add.legalConstraints":"","editor.record.form.constraint.add.otherConstraints":"","editor.record.form.constraint.add.securityConstraints":"","editor.record.form.constraint.header.legalConstraints":"","editor.record.form.constraint.header.otherConstraints":"","editor.record.form.constraint.header.securityConstraints":"","editor.record.form.constraint.legalConstraints":"","editor.record.form.constraint.markdown.placeholder":"","editor.record.form.constraint.not.applicable":"","editor.record.form.constraint.not.known":"","editor.record.form.constraint.otherConstraints":"","editor.record.form.constraint.securityConstraints":"","editor.record.form.draft.updateAlert":"","editor.record.form.field.abstract":"","editor.record.form.field.constraintsShortcuts":"","editor.record.form.field.contacts.noContact":"","editor.record.form.field.contacts.placeholder":"","editor.record.form.field.contactsForResource.noContact":"","editor.record.form.field.contactsForResource.placeholder":"","editor.record.form.field.keywords":"","editor.record.form.field.legalConstraints":"","editor.record.form.field.license":"Licencia","editor.record.form.field.onlineLinkResources":"","editor.record.form.field.onlineResource.cancel":"","editor.record.form.field.onlineResource.confirm":"","editor.record.form.field.onlineResource.dialogTitle":"","editor.record.form.field.onlineResource.edit.description":"","editor.record.form.field.onlineResource.edit.identifier.error":"Nie je mo\u017en\xe9 na\u010d\xedta\u0165 vrstvy z protokolu","editor.record.form.field.onlineResource.edit.identifier.placeholder":"N\xe1zov vrstvy","editor.record.form.field.onlineResource.edit.identifier.placeholder.wps":"N\xe1zov procesu","editor.record.form.field.onlineResource.edit.identifier.select.label":"Vyberte vrstvu","editor.record.form.field.onlineResource.edit.identifier.submit":"Odkaz na slu\u017ebu","editor.record.form.field.onlineResource.edit.protocol":"","editor.record.form.field.onlineResource.edit.title":"","editor.record.form.field.onlineResource.fileSize":"","editor.record.form.field.onlineResource.modify":"","editor.record.form.field.onlineResource.toggle.dataset":"","editor.record.form.field.onlineResource.toggle.service":"","editor.record.form.field.onlineResources":"","editor.record.form.field.otherConstraints":"","editor.record.form.field.overviews":"","editor.record.form.field.recordUpdated":"","editor.record.form.field.resourceCreated":"","editor.record.form.field.resourceIdentifier":"","editor.record.form.field.resourceUpdated":"","editor.record.form.field.securityConstraints":"","editor.record.form.field.spatialExtents":"","editor.record.form.field.temporalExtents":"","editor.record.form.field.title":"","editor.record.form.field.title.placeholder":"Zadajte n\xe1zov","editor.record.form.field.uniqueIdentifier":"","editor.record.form.field.updateFrequency":"","editor.record.form.keywords.place.placeholder":"","editor.record.form.keywords.place.withoutExtent":"","editor.record.form.keywords.placeholder":"","editor.record.form.license.cc-by":"","editor.record.form.license.cc-by-sa":"","editor.record.form.license.cc-zero":"","editor.record.form.license.etalab":"","editor.record.form.license.etalab-v2":"","editor.record.form.license.odbl":"","editor.record.form.license.odc-by":"","editor.record.form.license.pddl":"","editor.record.form.license.unknown":"","editor.record.form.multilingual.activate":"","editor.record.form.multilingual.default":"","editor.record.form.multilingual.enable":"","editor.record.form.multilingual.forbidden":"","editor.record.form.multilingual.open":"","editor.record.form.multilingual.title":"","editor.record.form.multilingual.validate":"","editor.record.form.page.accessAndContact":"","editor.record.form.page.description":"","editor.record.form.page.resources":"","editor.record.form.section.about.description":"","editor.record.form.section.about.label":"","editor.record.form.section.annexes.description":"","editor.record.form.section.annexes.label":"","editor.record.form.section.associatedResources.description":"","editor.record.form.section.associatedResources.label":"","editor.record.form.section.classification.description":"","editor.record.form.section.classification.label":"","editor.record.form.section.dataManagers.description":"","editor.record.form.section.dataManagers.label":"","editor.record.form.section.geographicalCoverage.label":"","editor.record.form.section.metadataPointOfContact.description":"","editor.record.form.section.metadataPointOfContact.label":"","editor.record.form.section.useAndAccessConditions.label":"","editor.record.form.temporalExtents.addDate":"","editor.record.form.temporalExtents.addRange":"","editor.record.form.temporalExtents.date":"","editor.record.form.temporalExtents.range":"","editor.record.form.updateFrequency.planned":"T\xe1to mno\u017eina \xfadajov sa pravidelne aktualizuje","editor.record.importFromExternalFile.failure.body":"","editor.record.importFromExternalFile.failure.title":"","editor.record.importFromExternalFile.success.body":"","editor.record.importFromExternalFile.success.title":"","editor.record.loadError.body":"","editor.record.loadError.closeMessage":"","editor.record.loadError.title":"","editor.record.lock.harvested":"","editor.record.lock.owner":"","editor.record.lock.resourceType":"","editor.record.multilingual.confirmation.cancelText":"","editor.record.multilingual.confirmation.confirmText":"","editor.record.multilingual.confirmation.message":"","editor.record.multilingual.confirmation.title":"","editor.record.onlineResource.protocol.other":"","editor.record.onlineResourceError.body":"","editor.record.onlineResourceError.closeMessage":"","editor.record.onlineResourceError.title":"","editor.record.placeKeywordWithoutLabel":"","editor.record.publish":"","editor.record.publish.confirmation.cancelText":"","editor.record.publish.confirmation.confirmText":"","editor.record.publish.confirmation.message":"","editor.record.publishError.body":"","editor.record.publishError.closeMessage":"","editor.record.publishError.title":"","editor.record.publishSuccess.body":"","editor.record.publishSuccess.title":"","editor.record.publishVersionError.body":"","editor.record.publishVersionError.closeMessage":"","editor.record.publishVersionError.title":"","editor.record.resourceError.body":"","editor.record.resourceError.closeMessage":"","editor.record.resourceError.title":"","editor.record.saveStatus.draftWithChangesPending":"","editor.record.saveStatus.recordNotPublished":"","editor.record.saveStatus.recordUpToDate":"","editor.record.undo.confirmation.cancelText":"","editor.record.undo.confirmation.confirmText":"","editor.record.undo.confirmation.message":"","editor.record.undo.confirmation.title":"","editor.record.undo.tooltip.disabled":"","editor.record.undo.tooltip.enabled":"","editor.record.upToDate":"","editor.sidebar.logout":"","editor.sidebar.menu.editor":"","editor.temporary.disabled":"","externalviewer.dataset.unnamed":"","facets.block.title.OrgForResource":"Organiz\xe1cia","facets.block.title.availableInServices":"Dostupn\xe9 pre","facets.block.title.cl_hierarchyLevel.key":"Typ zdroja","facets.block.title.cl_maintenanceAndUpdateFrequency.key":"Frekvencia aktualiz\xe1cie","facets.block.title.cl_spatialRepresentationType.key":"Priestorov\xe9 zobrazenie","facets.block.title.cl_status.key":"Stav","facets.block.title.creationYearForResource":"Rok vytvorenia","facets.block.title.resolutionScaleDenominator":"Mierka","facets.block.title.tag":"K\u013e\xfa\u010dov\xe9 slov\xe1","facets.block.title.tag.default":"\u0160t\xedtok","facets.block.title.th_regions_tree.default":"Regi\xf3ny","favorite.not.authenticated.tooltip":"<div><a href=\'{link}\'>Prihl\xe1si\u0165 sa</a> pre pr\xedstup k tejto funkcii</div>","favorite.starToggle.label":"","feature.catalog.attribute.code":"K\xf3d","feature.catalog.attribute.definition":"Popis","feature.catalog.attribute.name":"N\xe1zov","feature.catalog.attribute.type":"Typ","feature.catalog.attribute.values":"Hodnoty","input.file.dropFileLabel":"","input.file.orInputUrl":"","input.file.selectFileLabel":"","input.file.uploadProgressCancel":"","input.file.uploadProgressLabel":"","input.image.altTextPlaceholder":"","input.image.delete":"","input.image.displayAltTextInput":"","input.image.displayUrlInput":"","input.image.dropFileLabel":"","input.image.selectFileLabel":"","input.image.uploadErrorLabel":"","input.image.uploadProgressCancel":"","input.image.uploadProgressLabel":"","language.ar":"","language.az":"","language.ca":"Catal\xe1nsky","language.cs":"\u010ce\u0161tina","language.cy":"","language.da":"","language.de":"Nemecky","language.en":"Anglicky","language.es":"\u0160panielsky","language.fi":"F\xednsky","language.fr":"Franc\xfazsky","language.hy":"","language.is":"Islandsky","language.it":"Talian\u010dina","language.ka":"","language.ko":"K\xf3rejsky","language.nl":"Holandsky","language.no":"","language.pl":"","language.pt":"Portugal\u010dina","language.rm":"","language.ru":"Ru\u0161tina","language.sk":"Sloven\u010dina","language.sv":"","language.tr":"","language.uk":"","language.zh":"\u010c\xedn\u0161tina","map.add.layer":"Prida\u0165 vrstvu","map.add.layer.catalog":"Z katal\xf3gu","map.add.layer.file":"Zo s\xfaboru","map.add.layer.ogc.api":"","map.add.layer.wfs":"Z WFS","map.add.layer.wms":"Z WMS","map.addFromFile.placeholder":"Kliknite na tla\u010didlo alebo sem vlo\u017ete s\xfabor","map.dropdown.placeholder":"","map.geocoding.placeholder":"N\xe1js\u0165 miesto","map.help.addFromFile":"Kliknite na tla\u010didlo alebo sem vlo\u017ete s\xfabor, ktor\xfd chcete prida\u0165 do mapy (v s\xfa\u010dasnosti podporuje iba form\xe1t GeoJSON).","map.layer.add":"Prida\u0165","map.layers.available":"Dostupn\xe9 vrsty","map.layers.list":"Vrstvy","map.loading.data":"Na\u010d\xedtavanie d\xe1t mapy...","map.loading.service":"Na\u010d\xedtavanie slu\u017eieb...","map.navigation.message":"Pou\u017eite pros\xedm CTRL + my\u0161 (alebo dva prsty na mobilnom zariaden\xed) na navig\xe1ciu po mape","map.ogc.urlInput.hint":"","map.select.layer":"Zdroj d\xe1t","map.select.style":"","map.wfs.urlInput.hint":"Zadajte URL adresu slu\u017eby WFS","map.wms.urlInput.hint":"Zadajte URL adresu slu\u017eby WMS","multiselect.filter.placeholder":"H\u013eada\u0165","nav.back":"Sp\xe4\u0165","navbar.mobile.menuTitle":"","ogc.unreachable.unknown":"So slu\u017ebou sa nedalo spoji\u0165","organisation.filter.placeholder":"Filtrova\u0165 v\xfdsledky","organisation.sort.sortBy":"Zoradi\u0165 pod\u013ea:","organisations.hits.found":"{hits, plural, =0{\u017diadna organiz\xe1cia nen\xe1jden\xe1} other{{hits} celkovo {total} organiz\xe1ci\xed n\xe1jden\xfdch}}","organisations.sortBy.nameAsc":"N\xe1zov A \u2192 Z","organisations.sortBy.nameDesc":"N\xe1zov Z \u2192 A","organisations.sortBy.recordCountAsc":"Publik\xe1cie 0 \u2192 9","organisations.sortBy.recordCountDesc":"Publik\xe1cie 9 \u2192 0","organization.details.lastPublishedDatasets":"","organization.details.lastPublishedDatasets.searchAllButton":"","organization.details.mailContact":"","organization.header.recordCount":"{count, plural, =0{} one{} other{}}","pagination.nextPage":"\u010eal\u0161ia str\xe1nka","pagination.page":"strana","pagination.pageOf":"z","record.action.delete":"","record.action.download":"Stiahnu\u0165","record.action.duplicate":"","record.action.duplicating":"","record.action.rollback":"","record.action.switchLang":"","record.action.view":"Zobrazi\u0165","record.card.metadata.contact":"","record.externalViewer.open":"Otvori\u0165 v externom mapovom prehliada\u010di","record.feature.catalog.number.total.attribute":"","record.feature.catalog.number.total.object":"","record.feature.limit":"","record.kind.dataset":"","record.kind.reuse":"","record.kind.service":"","record.metadata.about":"O","record.metadata.api":"API","record.metadata.api.accessServiceProtocol.GPFDL":"","record.metadata.api.accessServiceProtocol.esriRest":"","record.metadata.api.accessServiceProtocol.maplibre-style":"","record.metadata.api.accessServiceProtocol.ogcFeatures":"","record.metadata.api.accessServiceProtocol.other":"","record.metadata.api.accessServiceProtocol.tms":"","record.metadata.api.accessServiceProtocol.wfs":"","record.metadata.api.accessServiceProtocol.wms":"","record.metadata.api.accessServiceProtocol.wmts":"","record.metadata.api.accessServiceProtocol.wps":"","record.metadata.api.form.closeButton":"Zavrie\u0165","record.metadata.api.form.closeForm":"Zavrie\u0165 formul\xe1r","record.metadata.api.form.create":"Vytvori\u0165 po\u017eiadavku","record.metadata.api.form.crsTitle":"","record.metadata.api.form.crsTooltip":"","record.metadata.api.form.customUrl":"Vlastn\xe1 URL","record.metadata.api.form.filter":"","record.metadata.api.form.filterDescription":"","record.metadata.api.form.formatTitle":"","record.metadata.api.form.formatTooltip":"","record.metadata.api.form.items":"","record.metadata.api.form.itemsDescription":"","record.metadata.api.form.itemsTooltip":"","record.metadata.api.form.limit":"Po\u010det z\xe1znamov","record.metadata.api.form.limit.all":"V\u0161etky","record.metadata.api.form.nextPage":"","record.metadata.api.form.nextPageTooltip":"","record.metadata.api.form.offset":"Po\u010det prv\xfdch z\xe1znamov","record.metadata.api.form.openForm":"Otvori\u0165 formul\xe1r","record.metadata.api.form.paginationDescription":"","record.metadata.api.form.previousPage":"","record.metadata.api.form.previousPageTooltip":"","record.metadata.api.form.productTooltip":"","record.metadata.api.form.reset":"Resetova\u0165","record.metadata.api.form.resetTooltip":"","record.metadata.api.form.title":"Vytvori\u0165 vlatn\xfa URL","record.metadata.api.form.title.gpf":"","record.metadata.api.form.type":"V\xfdstupn\xfd form\xe1t","record.metadata.api.form.zoneTitle":"","record.metadata.api.form.zoneTooltip":"","record.metadata.api.gpfdl":"","record.metadata.capabilities":"","record.metadata.catalog":"Katal\xf3g","record.metadata.contact":"Kontakt","record.metadata.creation":"","record.metadata.details":"Detaily","record.metadata.download":"S\u0165ahovania","record.metadata.feature.catalog":"","record.metadata.formats":"Form\xe1ty","record.metadata.isGeographical":"S\xfabor geografick\xfdch \xfadajov","record.metadata.keywords":"K\u013e\xfa\u010dov\xe9 slov\xe1","record.metadata.languages":"","record.metadata.lastUpdate":"Posledn\xe1 aktualiz\xe1cia","record.metadata.linked.datasets":"","record.metadata.linked.records":"","record.metadata.linked.reuses":"","record.metadata.linked.services":"","record.metadata.linked.sourceDatasets":"","record.metadata.links":"Odkazy","record.metadata.noUsage":"Pre t\xfato polo\u017eku nie s\xfa \u0161pecifikovan\xe9 \u017eiadne podmienky pou\u017eitia.","record.metadata.otherConstraints":"\u010eal\u0161ie podmienky","record.metadata.owner":"Katal\xf3g p\xf4vodu","record.metadata.preview":"N\xe1h\u013ead","record.metadata.preview.config.error":"","record.metadata.preview.config.idle":"","record.metadata.preview.config.saved":"","record.metadata.preview.config.saving":"","record.metadata.producer":"","record.metadata.publication":"publik\xe1cia","record.metadata.publications":"{count, plural, =0{publik\xe1cia} one{publik\xe1cia} other{publik\xe1cie}}","record.metadata.quality":"Kvalita metad\xe1t","record.metadata.quality.capabilities.failed":"","record.metadata.quality.capabilities.success":"","record.metadata.quality.contact.failed":"Kontakt nie je uveden\xfd","record.metadata.quality.contact.success":"Kontakt je uveden\xfd","record.metadata.quality.description.failed":"Popis nie je uveden\xfd","record.metadata.quality.description.success":"Popis je uveden\xfd","record.metadata.quality.details":"Detaily","record.metadata.quality.keywords.failed":"K\u013e\xfa\u010dov\xe9 slov\xe1 nie s\xfa uveden\xe9","record.metadata.quality.keywords.success":"K\u013e\xfa\u010dov\xe9 slov\xe1 s\xfa uveden\xe9","record.metadata.quality.legalConstraints.failed":"Pr\xe1vne obmedzenia nie s\xfa uveden\xe9","record.metadata.quality.legalConstraints.success":"Pr\xe1vne obmedzenia s\xfa uveden\xe9","record.metadata.quality.organisation.failed":"Organiz\xe1cie nie je uveden\xe1","record.metadata.quality.organisation.success":"Organiz\xe1cie je uveden\xe1","record.metadata.quality.source.failed":"","record.metadata.quality.source.success":"","record.metadata.quality.title.failed":"N\xe1zov nie je uveden\xfd","record.metadata.quality.title.success":"N\xe1zov je uveden\xfd","record.metadata.quality.topic.failed":"T\xe9ma nie je uveden\xe1","record.metadata.quality.topic.success":"T\xe9ma je uveden\xe1","record.metadata.quality.updateFrequency.failed":"Frekvencia aktualiz\xe1cie nie je ur\u010den\xe1","record.metadata.quality.updateFrequency.success":"Frekvencia aktualiz\xe1cie je ur\u010den\xe1","record.metadata.related":"S\xfavisiace z\xe1znamy","record.metadata.ressources.and.links":"Prost\u0159edky a odkazy","record.metadata.sheet":"\u010eal\u0161ie metad\xe1ta s\xfa k dispoz\xedcii na:","record.metadata.status":"Stav","record.metadata.status.notPublished":"","record.metadata.status.published":"","record.metadata.temporalExtent":"","record.metadata.temporalExtent.fromDateToDate":"","record.metadata.temporalExtent.sinceDate":"","record.metadata.temporalExtent.untilDate":"","record.metadata.title":"N\xe1zov","record.metadata.topics":"","record.metadata.uniqueId":"Jedine\u010dn\xfd identifik\xe1tor","record.metadata.updateFrequency":"Frekvencia aktualiz\xe1cie metad\xe1t","record.metadata.updatedOn":"Posledn\xe1 aktualiz\xe1cia metad\xe1t","record.metadata.usage":"Pou\u017eitie a obmedzenia","record.metadata.userFeedbacks":"","record.metadata.userFeedbacks.anonymousUser":"","record.metadata.userFeedbacks.newAnswer.buttonTitle":"","record.metadata.userFeedbacks.newAnswer.placeholder":"","record.metadata.userFeedbacks.newComment.placeholder":"","record.metadata.userFeedbacks.sortSelector.choices.newestFirst":"","record.metadata.userFeedbacks.sortSelector.choices.oldestFirst":"","record.metadata.userFeedbacks.sortSelector.label":"","record.more.details":"\u010c\xedta\u0165 viac","record.tab.chart":"Graf","record.tab.data":"Tabu\u013eka","record.tab.map":"Mapa","record.was.created.time":"vytvoril tento dataset o {time}","records":"z\xe1znamy","results.layout.selectOne":"Rozmiestnenie v\xfdsledkov","results.records.hits.displayedOn":"{displayed, plural, =0{\u017diadny z\xe1znam.} one{1 z\xe1znam} other{{displayed} z\xe1znamov }} {hits, plural, other{zobrazen\xfdch z {hits} celkovo.}}","results.records.hits.empty.help.html":"N\xe1vrhy: <ul class=\'list-disc list-inside\'><li>Vysk\xfa\u0161ajte in\xe9 slov\xe1</li><li>Uve\u010fte menej slov</li></ul>","results.records.hits.found":"{hits, plural, =0{\u017diadne dokumenty nezodpovedaj\xfa zadan\xe9mu vyh\u013ead\xe1vaniu.} one{1 z\xe1znam n\xe1jden\xfd.} other{{hits} z\xe1znamov n\xe1jden\xfdch.}}","results.records.hits.selected":"{ amount } ozna\u010den\xfdch","results.showMore":"Zobrazi\u0165 viac v\xfdsledkov...","results.sortBy.changeDate":"","results.sortBy.dateStamp":"Najnov\u0161ie","results.sortBy.popularity":"Popularita","results.sortBy.qualityScore":"Hodnotenie kvality","results.sortBy.relevancy":"Relevancia","reuse.metadata.access":"","search.autocomplete.error":"N\xe1vrhy sa nepodarilo na\u010d\xedta\u0165:","search.error.couldNotReachApi":"K rozhraniu API sa nepodarilo pripoji\u0165","search.error.organizationHasNoDataset":"","search.error.organizationNotFound":"","search.error.receivedError":"Bola zaznamenan\xe1 chyba","search.error.recordHasnolink":"","search.error.recordNotFound":"Z\xe1znam s identifik\xe1torom \\"{ id }\\" sa nepodarilo n\xe1js\u0165.","search.field.any.placeholder":"H\u013eada\u0165 datasety ...","search.field.sortBy":"Zoradi\u0165 pod\u013ea:","search.filter.into.feature.catalog":"","search.filters.availableServices.download":"","search.filters.availableServices.view":"","search.filters.changeDate":"","search.filters.clear":"Obnovi\u0165","search.filters.contact":"Kontakty","search.filters.format":"Form\xe1ty","search.filters.inspireKeyword":"K\u013e\xfa\u010dov\xe9 slov\xe1 INSPIRE","search.filters.isSpatial":"Je priestorov\xfd \xfadaj","search.filters.isSpatial.no":"nepravdiv\xe9","search.filters.isSpatial.yes":"pravdiv\xe9","search.filters.keyword":"","search.filters.license":"Licencia","search.filters.license.cc-by":"Creative Commons CC-BY","search.filters.license.cc-by-sa":"Creative Commons CC-BY-SA","search.filters.license.cc-zero":"Creative Commons CC-0","search.filters.license.etalab":"Open Licence (Etalab)","search.filters.license.etalab-v2":"Open Licence v2.0 (Etalab)","search.filters.license.odbl":"Open Data Commons ODbL","search.filters.license.odc-by":"Open Data Commons ODC-By","search.filters.license.pddl":"Open Data Commons","search.filters.license.unknown":"Nezn\xe1me alebo ch\xfdbaj\xface","search.filters.maximize":"Roz\u0161\xedri\u0165","search.filters.minimize":"Zmen\u0161i\u0165","search.filters.myRecords":"Zobrazi\u0165 len moje z\xe1znamy","search.filters.myRecordsHelp":"Ke\u010f je t\xe1to mo\u017enos\u0165 zapnut\xe1, zobrazia sa len z\xe1znamy vytvoren\xe9 mnou; z\xe1znamy vytvoren\xe9 in\xfdmi sa nezobrazia.","search.filters.organization":"","search.filters.otherRecords":"Zobrazenie z\xe1znamov od inej osoby","search.filters.producerOrg":"","search.filters.publicationYear":"Rok zverejnenia","search.filters.publisherOrg":"","search.filters.recordKind.all":"V\u0161etky","search.filters.recordKind.dataset":"","search.filters.recordKind.reuse":"","search.filters.recordKind.service":"","search.filters.representationType":"Typ reprezent\xe1cie","search.filters.resourceType":"Typ zdroja","search.filters.standard":"\u0160tandard","search.filters.summaryLabel.changeDate":"","search.filters.summaryLabel.user":"","search.filters.title":"Filtrovanie v\xfdsledkov","search.filters.topic":"T\xe9my","search.filters.useSpatialFilter":"Najsk\xf4r zobrazi\u0165 z\xe1znamy v oblasti z\xe1ujmu","search.filters.useSpatialFilterHelp":"Ke\u010f je t\xe1to mo\u017enos\u0165 zapnut\xe1, z\xe1znamy nach\xe1dzaj\xface sa v oblasti z\xe1ujmu katal\xf3gu sa zobrazia ako prv\xe9; z\xe1znamy mimo tejto oblasti sa nezobrazia.","search.filters.user":"","service.metadata.capabilities":"","service.metadata.capabilities.abstract":"","service.metadata.capabilities.attribution":"","service.metadata.capabilities.availableCrs":"","service.metadata.capabilities.defaultCrs":"","service.metadata.capabilities.geometryName":"","service.metadata.capabilities.geometryType":"","service.metadata.capabilities.keywords":"","service.metadata.capabilities.name":"","service.metadata.capabilities.objectCount":"","service.metadata.capabilities.otherCrs":"","service.metadata.capabilities.outputFormats":"","service.metadata.capabilities.resourceLinks":"","service.metadata.capabilities.title":"","service.metadata.filter":"","service.metadata.filter.noLayers":"","service.metadata.other":"","service.metadata.question":"","service.metadata.search":"","service.metadata.search.clear":"","service.metadata.spatialExtent":"","share.tab.permalink":"Zdie\u013ea\u0165","share.tab.webComponent":"Integrova\u0165","table.loading.data":"Na\u010d\xedtanie \xfadajov...","table.object.count":"objekty v tomto s\xfabore \xfadajov","table.paginator.firstPage":"","table.paginator.itemsPerPage":"","table.paginator.lastPage":"","table.paginator.nextPage":"","table.paginator.previousPage":"","table.paginator.rangeLabel":"","table.select.data":"Zdroj \xfadajov","tooltip.html.copy":"Kop\xedrova\u0165 HTML","tooltip.id.copy":"Kop\xedrova\u0165 jedine\u010dn\xfd identifik\xe1tor","tooltip.url.copy":"Kop\xedrova\u0165 URL","ui.readLess":"\u010c\xedta\u0165 menej","ui.readMore":"\u010c\xedta\u0165 viac","wfs.feature.limit":"","wfs.featuretype.notfound":"V slu\u017ebe nebol n\xe1jden\xfd \u017eiadny zodpovedaj\xfaci typ funkcie","wfs.geojsongml.notsupported":"T\xe1to slu\u017eba nepodporuje form\xe1t GeoJSON alebo GML","wfs.unreachable.cors":"Slu\u017ebu nemo\u017eno dosiahnu\u0165 z d\xf4vodu obmedzen\xed CORS","wfs.unreachable.http":"Slu\u017eba vr\xe1tila chybu HTTP","wfs.unreachable.unknown":"So slu\u017ebou sa nedalo spoji\u0165"}');class roe{getTranslation(t){return zi({de:Yse,en:Kse,es:qse,fr:Jse,it:Qse,nl:eoe,pt:toe,sk:noe}[t.substring(0,2)]).pipe(Te(Yk))}}const qk={eng:"en",dut:"nl",fre:"fr",ger:"de",kor:"ko",spa:"es",cze:"cs",cat:"ca",fin:"fi",ice:"is",ita:"it",por:"pt",rus:"ru",chi:"zh",slo:"sk",roh:"rm",ara:"ar",dan:"da",nor:"no",pol:"pl",swe:"sv",tur:"tr",arm:"hy",aze:"az",geo:"ka",ukr:"uk",wel:"cy"},ioe=Object.entries(qk).reduce((n,t)=>({...n,[t[1]]:t[0]}),{});function hh(n){return ioe[n]??n}function fh(n){return qk[n]??n}function Jk(n){const t=hh(n);return t?`lang${t}`:null}const Qk=new Wt("metadata-language");class eF{}class cx{constructor(t=new eF){this.ctx=t}readRecords(t){return Promise.all(t.map(e=>this.readRecord(e)))}writeRecords(t){return Promise.all(t.map(e=>this.writeRecord(e)))}}function Hw(n,t){if(Array.isArray(n)&&Array.isArray(t))return n.length===t.length&&n.every((e,r)=>Hw(e,t[r]));if(n instanceof Date&&t instanceof Date)return n.getTime()===t.getTime();if(n instanceof URL&&t instanceof URL)return n.toString()===t.toString();if(n instanceof Object&&t instanceof Object){const e=Object.keys(n),r=Object.keys(t);return e.length===r.length&&e.every(i=>Hw(n[i],t[i]))}return n===t}const soe=["abstract","constraint","keywords","lineage","onlineResources","spatialExtents","title"];function tF(n){return soe.includes(n)}var ho=B(7059);function Ee(...n){return t=>n.reduce((e,r)=>r(e),t)}function Kn(n){return t=>n(t)}function dr(n){return t=>t.map(n)}function vl(n){return t=>t.filter(n)}function ph(n){return t=>t.length>n?t[n]:null}function gh(...n){return t=>{for(let e=0;e<n.length;e++){const r=n[e](t);if(null!==r)return r}return null}}function is(...n){return t=>n.map(e=>e(t))}function r0(n){return t=>(n(t),t)}const Eo=n=>n;class ooe extends Error{constructor(t){super(t)}}function ux(n){let t=null;try{t=(0,ho.parseXml)(n)}catch(e){throw new ooe(e instanceof Error?e.message:e)}return t}function dx(n){function t(r){const i=function loe(n){const t=n.indexOf(":");return t>-1?n.substring(0,t):null}(r);"xmlns"===i||null===i||n.attributes[`xmlns:${i}`]||Cv[i]&&(n.attributes[`xmlns:${i}`]=Cv[i])}return n.attributes=n.attributes||{},function e(r){t(r.name);for(const s in r.attributes)t(s);Vw(r).forEach(e)}(n),new ho.XmlDocument([n])}function id(n){const t=n.indexOf(":");return t>-1?n.substring(t+1):n}function nF(n){const t=n.indexOf(":");return t>-1?n.substring(0,t):""}function Dw(n){return n.name||""}function hx(n){return n.children.find(t=>t instanceof ho.XmlElement)}function xi(n,t=!0){return e=>{const r=id(n);return e&&Array.isArray(e.children)?e.children.reduce(function i(s,o){return id(Dw(o))===r&&s.push(o),t&&Array.isArray(o.children)?[...s,...o.children.reduce(i,[])]:s},[]):[]}}function Cn(n,t=!0){return e=>xi(n,t)(e)[0]||null}function Vw(n){return n&&Array.isArray(n.children)?[...n.children.filter(t=>t instanceof ho.XmlElement)]:[]}function aoe(n){return Vw(n)[0]??null}function Qi(...n){return t=>t&&Array.isArray(t.children)?t.children.reduce(function e(r){const i=id(n[r]);return(s,o)=>id(Dw(o))!==i?s:r===n.length-1?[...s,o]:Array.isArray(o.children)?[...s,...o.children.reduce(e(r+1),[])]:s}(0),[]):[]}function Fi(...n){return t=>{const e=Qi(...n)(t);return e.length?e[0]:null}}function rF(n){return t=>{let e=t.parent;for(;e&&e instanceof ho.XmlElement;){if(id(Dw(e))===id(n))return e;e=e.parent}return null}}function Lc(){return n=>{if(!n)return null;const t=Array.isArray(n.children)?n.children.find(e=>"text"===e.type):null;return t?t.text:""}}function Ps(n){return t=>t&&t.attributes[n]||null}function yv(n,t=0){const e=a=>a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(n instanceof ho.XmlDocument)return`<?xml version="1.0" encoding="UTF-8"?>${yv(n.children[0])}`;if(n instanceof ho.XmlText){const a=n.text;return a&&""!==a.replace(/^\s+|\s+$/g,"")?e(a):""}if(!(n instanceof ho.XmlElement))return"\x3c!-- unknown --\x3e";const r="    ".repeat(t),i=Array.isArray(n.children)?n.children.map(a=>yv(a,t+1)).filter(a=>""!==a).map((a,l,c)=>l<c.length-1?a.replace(/\n\s*$/g,""):a).join(""):"",s=Object.keys(n.attributes).reduce((a,l)=>a+` ${l}="${e(n.attributes[l])}"`,""),o="    ".repeat(Math.max(0,t-1));return""===i?`\n${r}<${n.name}${s}/>\n${o}`:`\n${r}<${n.name}${s}>${i}</${n.name}>\n${o}`}const Cv={gmd:"http://www.isotc211.org/2005/gmd",gco:"http://www.isotc211.org/2005/gco",gfc:"http://www.isotc211.org/2005/gfc",gml:"http://www.opengis.net/gml/3.2",xsi:"http://www.w3.org/2001/XMLSchema-instance",srv:"http://www.isotc211.org/2005/srv",gmx:"http://www.isotc211.org/2005/gmx",gts:"http://www.isotc211.org/2005/gts",gsr:"http://www.isotc211.org/2005/gsr",gmi:"http://www.isotc211.org/2005/gmi",xlink:"http://www.w3.org/1999/xlink",mdb:"http://standards.iso.org/iso/19115/-3/mdb/2.0",mdq:"http://standards.iso.org/iso/19157/-2/mdq/1.0",msr:"http://standards.iso.org/iso/19115/-3/msr/2.0",mrs:"http://standards.iso.org/iso/19115/-3/mrs/1.0",mmi:"http://standards.iso.org/iso/19115/-3/mmi/1.0",mrl:"http://standards.iso.org/iso/19115/-3/mrl/2.0",mdt:"http://standards.iso.org/iso/19115/-3/mdt/2.0",mrd:"http://standards.iso.org/iso/19115/-3/mrd/1.0",mds:"http://standards.iso.org/iso/19115/-3/mds/2.0",mpc:"http://standards.iso.org/iso/19115/-3/mpc/1.0",mcc:"http://standards.iso.org/iso/19115/-3/mcc/1.0",mac:"http://standards.iso.org/iso/19115/-3/mac/2.0",mco:"http://standards.iso.org/iso/19115/-3/mco/1.0",mda:"http://standards.iso.org/iso/19115/-3/mda/1.0",mex:"http://standards.iso.org/iso/19115/-3/mex/1.0",gex:"http://standards.iso.org/iso/19115/-3/gex/1.0",gcx:"http://standards.iso.org/iso/19115/-3/gcx/1.0",mas:"http://standards.iso.org/iso/19115/-3/mas/1.0",mri:"http://standards.iso.org/iso/19115/-3/mri/1.0",cit:"http://standards.iso.org/iso/19115/-3/cit/2.0",cat:"http://standards.iso.org/iso/19115/-3/cat/1.0",lan:"http://standards.iso.org/iso/19115/-3/lan/1.0",mrc:"http://standards.iso.org/iso/19115/-3/mrc/2.0",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",foaf:"http://xmlns.com/foaf/0.1/",xsd:"http://www.w3.org/2001/XMLSchema#",dcat:"http://www.w3.org/ns/dcat#",dct:"http://purl.org/dc/terms/",skos:"http://www.w3.org/2004/02/skos/core#",schema_org:"http://schema.org/",spdx:"https://spdx.org/rdf/terms/#",adms:"http://www.w3.org/ns/adms#",dqv:"http://www.w3.org/ns/dqv#",owl:"http://www.w3.org/2002/07/owl#",vcard:"http://www.w3.org/2006/vcard/ns#",time:"http://www.w3.org/2006/time#",locn:"http://www.w3.org/ns/locn#",mdcat:"https://data.vlaanderen.be/ns/metadata-dcat#"};function Vn(n){return()=>new ho.XmlElement(n,{},[])}function Pi(...n){return()=>{let t=null;for(const e of n)t=t?no(e)(t):Vn(e)();return t}}function lr(n,t){return e=>(e.attributes[n]=t,e)}function iF(n){return t=>{if(!t)return null;const e=n(),r=function coe(n){let t=n;for(;t.parent instanceof ho.XmlElement;)t=t.parent;return t}(e);return t.children.push(r),r.parent=t,e}}function _n(...n){return t=>t?(n.filter(e=>e).forEach(e=>iF(e)(t)),t):null}function no(n){return t=>{if(!t)return null;const e=Vn(n)();return t.children.push(e),e.parent=t,e}}function bv(...n){return t=>{let e=t;for(const r of n)e=no(r)(e);return e}}function Hc(n){return gh(Cn(n,!1),no(n))}function fo(...n){return t=>{let e=t;for(const r of n)e=Hc(r)(e);return e}}function Da(n){return t=>{if(!t)return null;const e=t.children.find(r=>r instanceof ho.XmlText);return e?e.text=n:t.children.push(new ho.XmlText(n)),t}}function ya(n){return t=>{if(!t)return null;const e=id(n),r=t.children.filter(i=>i instanceof ho.XmlElement&&id(Dw(i))===e);return r.forEach(i=>i.parent=null),t.children=t.children.filter(i=>-1===r.indexOf(i)),t}}function Dc(n){return t=>{const e=n(t);return e.forEach(r=>r.parent=null),t.children=t.children.filter(r=>r instanceof ho.XmlElement&&-1===e.indexOf(r)),t}}function kw(n){return/wms/i.test(n)?"wms":/wfs/i.test(n)?"wfs":/wmts/i.test(n)?"wmts":/tms/i.test(n)?"tms":/wps/i.test(n)?"wps":/ogc\W*api\W*features/i.test(n)?"ogcFeatures":/esri/i.test(n)?"esriRest":/DOWNLOAD-1/i.test(n)?"GPFDL":"other"}function oF(n){return/shp|shapefile/i.test(n)?"x-gis/x-shapefile":n||null}const Vc=class hoe{constructor(t){this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},fx=class foe{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};var Ri=B(2058);function Ip(){}function aF(n){let e,r,i,t=!1;return function(){const s=Array.prototype.slice.call(arguments);return(!t||this!==i||!(0,Ri.aI)(s,r))&&(t=!0,i=this,r=s,e=n.apply(this,arguments)),e}}function Iv(n){for(const t in n)delete n[t]}function mh(n){let t;for(t in n)return!1;return!t}const Av=class poe extends fx{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const r=this.listeners_||(this.listeners_={}),i=r[t]||(r[t]=[]);i.includes(e)||i.push(e)}dispatchEvent(t){const e="string"==typeof t,r=e?t:t.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const s=e?new Vc(t):t;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});let l;r in o||(o[r]=0,a[r]=0),++o[r];for(let c=0,u=i.length;c<u;++c)if(l="handleEvent"in i[c]?i[c].handleEvent(s):i[c].call(this,s),!1===l||s.propagationStopped){l=!1;break}if(0==--o[r]){let c=a[r];for(delete a[r];c--;)this.removeEventListener(r,Ip);delete o[r]}return l}disposeInternal(){this.listeners_&&Iv(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){if(!this.listeners_)return;const r=this.listeners_[t];if(!r)return;const i=r.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(r[i]=Ip,++this.pendingRemovals_[t]):(r.splice(i,1),0===r.length&&delete this.listeners_[t]))}};function Li(n,t,e,r,i){if(r&&r!==n&&(e=e.bind(r)),i){const o=e;e=function(){n.removeEventListener(t,e),o.apply(this,arguments)}}const s={target:n,type:t,listener:e};return n.addEventListener(t,e),s}function Pw(n,t,e,r){return Li(n,t,e,r,!0)}function Rs(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),Iv(n))}const lF=class Bw extends Av{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent("change")}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const r=t.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Li(this,t[s],e);return i}return Li(this,t,e)}onceInternal(t,e){let r;if(Array.isArray(t)){const i=t.length;r=new Array(i);for(let s=0;s<i;++s)r[s]=Pw(this,t[s],e)}else r=Pw(this,t,e);return e.ol_key=r,r}unInternal(t,e){const r=e.ol_key;if(r)!function goe(n){if(Array.isArray(n))for(let t=0,e=n.length;t<e;++t)Rs(n[t]);else Rs(n)}(r);else if(Array.isArray(t))for(let i=0,s=t.length;i<s;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}};function gr(){throw new Error("Unimplemented abstract method.")}let moe=0;function Rr(n){return n.ol_uid||(n.ol_uid=String(++moe))}class cF extends Vc{constructor(t,e,r){super(t),this.key=e,this.oldValue=r}}const r1=class voe extends lF{constructor(t){super(),Rr(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let r;r=`change:${t}`,this.hasListener(r)&&this.dispatchEvent(new cF(r,t,e)),r="propertychange",this.hasListener(r)&&this.dispatchEvent(new cF(r,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,r){const i=this.values_||(this.values_={});if(r)i[t]=e;else{const s=i[t];i[t]=e,s!==e&&this.notify(t,s)}}setProperties(t,e){for(const r in t)this.set(r,t[r],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const r=this.values_[t];delete this.values_[t],mh(this.values_)&&(this.values_=null),e||this.notify(t,r)}}};var ss=B(5940);class px extends r1{constructor(t){super(),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t&&("function"==typeof t.getSimplifiedGeometry?this.setGeometry(t):this.setProperties(t))}clone(){const t=new px(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const r=this.getStyle();return r&&t.setStyle(r),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Rs(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=Li(t,"change",this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?function woe(n){if("function"==typeof n)return n;let t;return Array.isArray(n)?t=n:((0,ss.v)("function"==typeof n.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[n]),function(){return t}}(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const gx=px,vh=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",mx=(vh.includes("firefox"),vh.includes("safari")&&!vh.includes("chrom")&&(vh.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(vh)),vh.includes("webkit")&&vh.includes("edge"),vh.includes("macintosh"),typeof devicePixelRatio<"u"&&devicePixelRatio,typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope),vx=typeof Image<"u"&&Image.prototype.decode,boe="function"==typeof createImageBitmap;function s1(n,t,e,r,i,s,o,a){const l=Math.sin(s),c=Math.cos(s);return n[0]=r*c,n[1]=i*l,n[2]=-r*l,n[3]=i*c,n[4]=o*r*c-a*r*l+t,n[5]=o*i*l+a*i*c+e,n}(function(){let n=!1;try{const t=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}})(),new Array(6);var pt=B(8507),an=B(9325);function wh(n,t,e,r,i,s){s=s||[];let o=0;for(let a=t;a<e;a+=r){const l=n[a],c=n[a+1];s[o++]=i[0]*l+i[2]*c+i[4],s[o++]=i[1]*l+i[3]*c+i[5]}return s&&s.length!=o&&(s.length=o),s}const mF=[1,0,0,1,0,0],bx=class Soe extends r1{constructor(){super(),this.extent_=(0,pt.S5)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=aF((t,e,r)=>{if(!r)return this.getSimplifiedGeometry(e);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(e)})}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return gr()}closestPointXY(t,e,r,i){return gr()}containsXY(t,e){const r=this.getClosestPoint([t,e]);return r[0]===t&&r[1]===e}getClosestPoint(t,e){return this.closestPointXY(t[0],t[1],e=e||[NaN,NaN],1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return gr()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,pt.aZ)(e),this.extentRevision_=this.getRevision()}return(0,pt.$u)(this.extent_,t)}rotate(t,e){gr()}scale(t,e,r){gr()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return gr()}getType(){return gr()}applyTransform(t){gr()}intersectsExtent(t){return gr()}translate(t,e){gr()}transform(t,e){const r=(0,an.Jt)(t),i="tile-pixels"==r.getUnits()?function(s,o,a){const l=r.getExtent(),c=r.getWorldExtent(),u=(0,pt.Oq)(c)/(0,pt.Oq)(l);return s1(mF,c[0],c[3],u,-u,0,0,0),wh(s,0,s.length,a,mF,o),(0,an.RG)(r,e)(s,o,a)}:(0,an.RG)(r,e);return this.applyTransform(i),this}};function s0(n){let t;return 2==n?t="XY":3==n?t="XYZ":4==n&&(t="XYZM"),t}function vF(n){let t;return"XY"==n?t=2:"XYZ"==n||"XYM"==n?t=3:"XYZM"==n&&(t=4),t}const o0=class Toe extends bx{constructor(){super(),this.layout="XY",this.stride=2}computeExtent(t){return(0,pt.Vy)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return gr()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=vF(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){gr()}setLayout(t,e,r){let i;if(t)i=vF(t);else{for(let s=0;s<r;++s){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}i=e.length,t=s0(i)}this.layout=t,this.stride=i}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){const r=this.getFlatCoordinates();if(r){const i=this.getStride();(function gF(n,t,e,r,i,s,o){o=o||[];const a=Math.cos(i),l=Math.sin(i),c=s[0],u=s[1];let d=0;for(let h=t;h<e;h+=r){const f=n[h]-c,g=n[h+1]-u;o[d++]=c+f*a-g*l,o[d++]=u+f*l+g*a;for(let w=h+2;w<h+r;++w)o[d++]=n[w]}return o&&o.length!=d&&(o.length=d),o})(r,0,r.length,i,t,e,r),this.changed()}}scale(t,e,r){void 0===e&&(e=t),r||(r=(0,pt.q1)(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();(function Moe(n,t,e,r,i,s,o,a){a=a||[];const l=o[0],c=o[1];let u=0;for(let d=t;d<e;d+=r){const f=n[d+1]-c;a[u++]=l+i*(n[d]-l),a[u++]=c+s*f;for(let g=d+2;g<d+r;++g)a[u++]=n[g]}a&&a.length!=u&&(a.length=u)})(i,0,i.length,s,t,e,r,i),this.changed()}}translate(t,e){const r=this.getFlatCoordinates();if(r){const i=this.getStride();(function Eoe(n,t,e,r,i,s,o){o=o||[];let a=0;for(let l=t;l<e;l+=r){o[a++]=n[l]+i,o[a++]=n[l+1]+s;for(let c=l+2;c<l+r;++c)o[a++]=n[c]}o&&o.length!=a&&(o.length=a)})(r,0,r.length,i,t,e,r),this.changed()}}};var Xn=B(9973);function wF(n,t,e,r,i,s,o){const a=n[t],l=n[t+1],c=n[e]-a,u=n[e+1]-l;let d;if(0===c&&0===u)d=t;else{const h=((i-a)*c+(s-l)*u)/(c*c+u*u);if(h>1)d=e;else{if(h>0){for(let f=0;f<r;++f)o[f]=(0,Xn.Cc)(n[t+f],n[e+f],h);return void(o.length=r)}d=t}}for(let h=0;h<r;++h)o[h]=n[d+h];o.length=r}function xx(n,t,e,r,i){let s=n[t],o=n[t+1];for(t+=r;t<e;t+=r){const a=n[t],l=n[t+1],c=(0,Xn.hG)(s,o,a,l);c>i&&(i=c),s=a,o=l}return i}function _x(n,t,e,r,i){for(let s=0,o=e.length;s<o;++s){const a=e[s];i=xx(n,t,a,r,i),t=a}return i}function Ix(n,t,e,r,i,s,o,a,l,c,u){if(t==e)return c;let d,h;if(0===i){if(h=(0,Xn.hG)(o,a,n[t],n[t+1]),h<c){for(d=0;d<r;++d)l[d]=n[t+d];return l.length=r,h}return c}u=u||[NaN,NaN];let f=t+r;for(;f<e;)if(wF(n,f-r,f,r,o,a,u),h=(0,Xn.hG)(o,a,u[0],u[1]),h<c){for(c=h,d=0;d<r;++d)l[d]=u[d];l.length=r,f+=r}else f+=r*Math.max((Math.sqrt(h)-Math.sqrt(c))/i|0,1);if(s&&(wF(n,e-r,t,r,o,a,u),h=(0,Xn.hG)(o,a,u[0],u[1]),h<c)){for(c=h,d=0;d<r;++d)l[d]=u[d];l.length=r}return c}function Ax(n,t,e,r,i,s,o,a,l,c,u){u=u||[NaN,NaN];for(let d=0,h=e.length;d<h;++d){const f=e[d];c=Ix(n,t,f,r,i,s,o,a,l,c,u),t=f}return c}function Gw(n,t,e,r){for(let i=0,s=e.length;i<s;++i){const o=e[i];for(let a=0;a<r;++a)n[t++]=o[a]}return t}function Ev(n,t,e,r,i){i=i||[];let s=0;for(let o=0,a=e.length;o<a;++o){const l=Gw(n,t,e[o],r);i[s++]=l,t=l}return i.length=s,i}function yF(n,t,e,r,i){i=i||[];let s=0;for(let o=0,a=e.length;o<a;++o){const l=Ev(n,t,e[o],r,i[s]);0===l.length&&(l[0]=t),i[s++]=l,t=l[l.length-1]}return i.length=s,i}function Sv(n,t,e,r,i,s,o){const a=(e-t)/r;if(a<3){for(;t<e;t+=r)s[o++]=n[t],s[o++]=n[t+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[t,e-r];let u=0;for(;c.length>0;){const d=c.pop(),h=c.pop();let f=0;const g=n[h],w=n[h+1],C=n[d],I=n[d+1];for(let L=h+r;L<d;L+=r){const se=(0,Xn.Q1)(n[L],n[L+1],g,w,C,I);se>f&&(u=L,f=se)}f>i&&(l[(u-t)/r]=1,h+r<u&&c.push(h,u),u+r<d&&c.push(u,d))}for(let d=0;d<a;++d)l[d]&&(s[o++]=n[t+d*r],s[o++]=n[t+d*r+1]);return o}function Mx(n,t,e,r,i,s,o,a){for(let l=0,c=e.length;l<c;++l){const u=e[l];o=Sv(n,t,u,r,i,s,o),a.push(o),t=u}return o}function a0(n,t){return t*Math.round(n/t)}function Voe(n,t,e,r,i,s,o){if(t==e)return o;let c,u,a=a0(n[t],i),l=a0(n[t+1],i);t+=r,s[o++]=a,s[o++]=l;do{if(c=a0(n[t],i),u=a0(n[t+1],i),(t+=r)==e)return s[o++]=c,s[o++]=u,o}while(c==a&&u==l);for(;t<e;){const d=a0(n[t],i),h=a0(n[t+1],i);if(t+=r,d==c&&h==u)continue;const f=c-a,g=u-l,w=d-a,C=h-l;f*C==g*w&&(f<0&&w<f||f==w||f>0&&w>f)&&(g<0&&C<g||g==C||g>0&&C>g)?(c=d,u=h):(s[o++]=c,s[o++]=u,a=c,l=u,c=d,u=h)}return s[o++]=c,s[o++]=u,o}function Ex(n,t,e,r,i,s,o,a){for(let l=0,c=e.length;l<c;++l){const u=e[l];o=Voe(n,t,u,r,i,s,o),a.push(o),t=u}return o}var Foe=B(3846);function yh(n,t,e,r,i){i=void 0!==i?i:[];let s=0;for(let o=t;o<e;o+=r)i[s++]=n.slice(o,o+r);return i.length=s,i}function Tv(n,t,e,r,i){i=void 0!==i?i:[];let s=0;for(let o=0,a=e.length;o<a;++o){const l=e[o];i[s++]=yh(n,t,l,r,i[s]),t=l}return i.length=s,i}function Ww(n,t,e,r,i,s,o){let a,l;const c=(e-t)/r;if(1===c)a=t;else if(2===c)a=t,l=i;else if(0!==c){let u=n[t],d=n[t+1],h=0;const f=[0];for(let C=t+r;C<e;C+=r){const I=n[C],L=n[C+1];h+=Math.sqrt((I-u)*(I-u)+(L-d)*(L-d)),f.push(h),u=I,d=L}const g=i*h,w=(0,Ri.El)(f,g);w<0?(l=(g-f[-w-2])/(f[-w-1]-f[-w-2]),a=t+(-w-2)*r):a=t+w*r}o=o>1?o:2,s=s||new Array(o);for(let u=0;u<o;++u)s[u]=void 0===a?NaN:void 0===l?n[a+u]:(0,Xn.Cc)(n[a+u],n[a+r+u],l);return s}function Tx(n,t,e,r,i,s){if(e==t)return null;let o;if(i<n[t+r-1])return s?(o=n.slice(t,t+r),o[r-1]=i,o):null;if(n[e-1]<i)return s?(o=n.slice(e-r,e),o[r-1]=i,o):null;if(i==n[t+r-1])return n.slice(t,t+r);let a=t/r,l=e/r;for(;a<l;){const h=a+l>>1;i<n[(h+1)*r-1]?l=h:a=h+1}const c=n[a*r-1];if(i==c)return n.slice((a-1)*r,(a-1)*r+r);const d=(i-c)/(n[(a+1)*r-1]-c);o=[];for(let h=0;h<r-1;++h)o.push((0,Xn.Cc)(n[(a-1)*r+h],n[a*r+h],d));return o.push(i),o}var jw=B(9542);class Uw extends o0{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}appendCoordinate(t){(0,Ri.X$)(this.flatCoordinates,t),this.changed()}clone(){const t=new Uw(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,r,i){return i<(0,pt.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(xx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ix(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,r,i))}forEachSegment(t){return(0,Foe.j)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:Tx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e=void 0!==e&&e)}getCoordinates(){return yh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return Ww(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return function zx(n,t,e,r){let i=n[t],s=n[t+1],o=0;for(let a=t+r;a<e;a+=r){const l=n[a],c=n[a+1];o+=Math.sqrt((l-i)*(l-i)+(c-s)*(c-s)),i=l,s=c}return o}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const e=[];return e.length=Sv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new Uw(e,"XY")}getType(){return"LineString"}intersectsExtent(t){return(0,jw.gp)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Gw(this.flatCoordinates,0,t,this.stride),this.changed()}}const Ap=Uw;function CF(n,t,e,r){let i=0,s=n[e-r],o=n[e-r+1];for(;t<e;t+=r){const a=n[t],l=n[t+1];i+=o*a-s*l,s=a,o=l}return i/2}function bF(n,t,e,r){let i=0;for(let s=0,o=e.length;s<o;++s){const a=e[s];i+=CF(n,t,a,r),t=a}return i}class Zw extends o0{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new Zw(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,r,i){return i<(0,pt.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(xx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ix(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,r,i))}getArea(){return CF(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return yh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=Sv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new Zw(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Gw(this.flatCoordinates,0,t,this.stride),this.changed()}}const Rx=Zw;class $w extends o0{constructor(t,e,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,e);else if(void 0!==e&&r)this.setFlatCoordinates(e,t),this.ends_=r;else{const i=t,s=[],o=[];for(let l=0,c=i.length;l<c;++l)(0,Ri.X$)(s,i[l].getFlatCoordinates()),o.push(s.length);const a=0===i.length?this.getLayout():i[0].getLayout();this.setFlatCoordinates(a,s),this.ends_=o}}appendLineString(t){(0,Ri.X$)(this.flatCoordinates,t.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new $w(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,r,i){return i<(0,pt.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_x(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ax(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,r,i))}getCoordinateAtM(t,e,r){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:function Poe(n,t,e,r,i,s,o){if(o)return Tx(n,t,e[e.length-1],r,i,s);let a;if(i<n[r-1])return s?(a=n.slice(0,r),a[r-1]=i,a):null;if(n[n.length-1]<i)return s?(a=n.slice(n.length-r),a[r-1]=i,a):null;for(let l=0,c=e.length;l<c;++l){const u=e[l];if(t!=u){if(i<n[t+r-1])return null;if(i<=n[u-1])return Tx(n,t,u,r,i,!1);t=u}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,e=void 0!==e&&e,r=void 0!==r&&r)}getCoordinates(){return Tv(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new Ap(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,e=this.ends_,r=this.layout,i=[];let s=0;for(let o=0,a=e.length;o<a;++o){const l=e[o],c=new Ap(t.slice(s,l),r);i.push(c),s=l}return i}getFlatMidpoints(){const t=[],e=this.flatCoordinates;let r=0;const i=this.ends_,s=this.stride;for(let o=0,a=i.length;o<a;++o){const l=i[o],c=Ww(e,r,l,s,.5);(0,Ri.X$)(t,c),r=l}return t}getSimplifiedGeometryInternal(t){const e=[],r=[];return e.length=Mx(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,r),new $w(e,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(t){return(0,jw.fB)(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=Ev(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()}}const Xw=$w;class Lx extends o0{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new Lx(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,r,i){const s=this.flatCoordinates,o=(0,Xn.hG)(t,e,s[0],s[1]);if(o<i){const a=this.stride;for(let l=0;l<a;++l)r[l]=s[l];return r.length=a,o}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return(0,pt.dP)(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return(0,pt.Rj)(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function Hoe(n,t,e){for(let i=0,s=e.length;i<s;++i)n[t++]=e[i];return t}(this.flatCoordinates,0,t),this.changed()}}const Mp=Lx;class Hx extends o0{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){(0,Ri.X$)(this.flatCoordinates,t.getFlatCoordinates()),this.changed()}clone(){const t=new Hx(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,r,i){if(i<(0,pt.Ld)(this.getExtent(),t,e))return i;const s=this.flatCoordinates,o=this.stride;for(let a=0,l=s.length;a<l;a+=o){const c=(0,Xn.hG)(t,e,s[a],s[a+1]);if(c<i){i=c;for(let u=0;u<o;++u)r[u]=s[a+u];r.length=o}}return i}getCoordinates(){return yh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){return t<0||this.flatCoordinates.length/this.stride<=t?null:new Mp(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,e=this.layout,r=this.stride,i=[];for(let s=0,o=t.length;s<o;s+=r){const a=new Mp(t.slice(s,s+r),e);i.push(a)}return i}getType(){return"MultiPoint"}intersectsExtent(t){const e=this.flatCoordinates,r=this.stride;for(let i=0,s=e.length;i<s;i+=r)if((0,pt.Rj)(t,e[i],e[i+1]))return!0;return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Gw(this.flatCoordinates,0,t,this.stride),this.changed()}}const Yw=Hx;var Dx=B(9749);function Vx(n,t,e,r,i,s,o){let a,l,c,u,d,h,f;const g=i[s+1],w=[];for(let L=0,ie=e.length;L<ie;++L){const ne=e[L];for(u=n[ne-r],h=n[ne-r+1],a=t;a<ne;a+=r)d=n[a],f=n[a+1],(g<=h&&f<=g||h<=g&&g<=f)&&(c=(g-h)/(f-h)*(d-u)+u,w.push(c)),u=d,h=f}let C=NaN,I=-1/0;for(w.sort(Ri.V_),u=w[0],a=1,l=w.length;a<l;++a){d=w[a];const L=Math.abs(d-u);L>I&&(c=(u+d)/2,(0,Dx.zb)(n,t,e,r,c,g)&&(C=c,I=L)),u=d}return isNaN(C)&&(C=i[s]),o?(o.push(C,g,I),o):[C,g,I]}function xF(n,t,e,r,i){let s=[];for(let o=0,a=e.length;o<a;++o){const l=e[o];s=Vx(n,t,l,r,i,2*o,s),t=l[l.length-1]}return s}function Noe(n,t,e,r){for(;t<e-r;){for(let i=0;i<r;++i){const s=n[t+i];n[t+i]=n[e-r+i],n[e-r+i]=s}t+=r,e-=r}}function kx(n,t,e,r){let i=0,s=n[e-r],o=n[e-r+1];for(;t<e;t+=r){const a=n[t],l=n[t+1];i+=(a-s)*(l+o),s=a,o=l}return 0===i?void 0:i>0}function Fx(n,t,e,r,i){i=void 0!==i&&i;for(let s=0,o=e.length;s<o;++s){const a=e[s],l=kx(n,t,a,r);if(0===s){if(i&&l||!i&&!l)return!1}else if(i&&!l||!i&&l)return!1;t=a}return!0}function _F(n,t,e,r,i){for(let s=0,o=e.length;s<o;++s){const a=e[s];if(!Fx(n,t,a,r,i))return!1;a.length&&(t=a[a.length-1])}return!0}function Kw(n,t,e,r,i){i=void 0!==i&&i;for(let s=0,o=e.length;s<o;++s){const a=e[s],l=kx(n,t,a,r);(0===s?i&&l||!i&&!l:i&&!l||!i&&l)&&Noe(n,t,a,r),t=a}return t}function Px(n,t,e,r,i){for(let s=0,o=e.length;s<o;++s)t=Kw(n,t,e[s],r,i);return t}class l0 extends o0{constructor(t,e,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&r?(this.setFlatCoordinates(e,t),this.ends_=r):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?(0,Ri.X$)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new l0(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,r,i){return i<(0,pt.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_x(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ax(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,r,i))}containsXY(t,e){return(0,Dx.zb)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return bF(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Kw(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Tv(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=(0,pt.q1)(this.getExtent());this.flatInteriorPoint_=Vx(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Mp(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new Rx(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,r=this.ends_,i=[];let s=0;for(let o=0,a=r.length;o<a;++o){const l=r[o],c=new Rx(e.slice(s,l),t);i.push(c),s=l}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Fx(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Kw(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],r=[];return e.length=Ex(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,r),new l0(e,"XY",r)}getType(){return"Polygon"}intersectsExtent(t){return(0,jw.HT)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=Ev(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()}}const c0=l0;function AF(n){if((0,pt.Im)(n))throw new Error("Cannot create polygon from empty extent");const t=n[0],e=n[1],r=n[2],i=n[3],s=[t,e,t,i,r,i,r,e,t,e];return new l0(s,"XY",[s.length])}function MF(n,t,e,r){const i=[];let s=(0,pt.S5)();for(let o=0,a=e.length;o<a;++o){const l=e[o];s=(0,pt.Vy)(n,t,l[0],r),i.push((s[0]+s[2])/2,(s[1]+s[3])/2),t=l[l.length-1]}return i}class qw extends o0{constructor(t,e,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(t[0])){const i=t,s=[],o=[];for(let a=0,l=i.length;a<l;++a){const c=i[a],u=s.length,d=c.getEnds();for(let h=0,f=d.length;h<f;++h)d[h]+=u;(0,Ri.X$)(s,c.getFlatCoordinates()),o.push(d)}e=0===i.length?this.getLayout():i[0].getLayout(),t=s,r=o}void 0!==e&&r?(this.setFlatCoordinates(e,t),this.endss_=r):this.setCoordinates(t,e)}appendPolygon(t){let e;if(this.flatCoordinates){const r=this.flatCoordinates.length;(0,Ri.X$)(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let i=0,s=e.length;i<s;++i)e[i]+=r}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){const t=this.endss_.length,e=new Array(t);for(let i=0;i<t;++i)e[i]=this.endss_[i].slice();const r=new qw(this.flatCoordinates.slice(),this.layout,e);return r.applyProperties(this),r}closestPointXY(t,e,r,i){return i<(0,pt.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function Roe(n,t,e,r,i){for(let s=0,o=e.length;s<o;++s){const a=e[s];i=_x(n,t,a,r,i),t=a[a.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function Loe(n,t,e,r,i,s,o,a,l,c,u){u=u||[NaN,NaN];for(let d=0,h=e.length;d<h;++d){const f=e[d];c=Ax(n,t,f,r,i,s,o,a,l,c,u),t=f[f.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,r,i))}containsXY(t,e){return(0,Dx.Gd)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return function Boe(n,t,e,r){let i=0;for(let s=0,o=e.length;s<o;++s){const a=e[s];i+=bF(n,t,a,r),t=a[a.length-1]}return i}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Px(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,function Sx(n,t,e,r,i){i=void 0!==i?i:[];let s=0;for(let o=0,a=e.length;o<a;++o){const l=e[o];i[s++]=1===l.length&&l[0]===t?[]:Tv(n,t,l,r,i[s]),t=l[l.length-1]}return i.length=s,i}(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=MF(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=xF(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Yw(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;_F(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Px(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],r=[];return e.length=function koe(n,t,e,r,i,s,o,a){for(let l=0,c=e.length;l<c;++l){const u=e[l],d=[];o=Ex(n,t,u,r,i,s,o,d),a.push(d),t=u[u.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,r),new qw(e,"XY",r)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let e;if(0===t)e=0;else{const s=this.endss_[t-1];e=s[s.length-1]}const r=this.endss_[t].slice(),i=r[r.length-1];if(0!==e)for(let s=0,o=r.length;s<o;++s)r[s]-=e;return new c0(this.flatCoordinates.slice(e,i),this.layout,r)}getPolygons(){const t=this.layout,e=this.flatCoordinates,r=this.endss_,i=[];let s=0;for(let o=0,a=r.length;o<a;++o){const l=r[o].slice(),c=l[l.length-1];if(0!==s)for(let d=0,h=l.length;d<h;++d)l[d]-=s;const u=new c0(e.slice(s,c),t,l);i.push(u),s=c}return i}getType(){return"MultiPolygon"}intersectsExtent(t){return(0,jw.Wp)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=yF(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{const i=r[r.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()}}const Jw=qw,EF=[1,0,0,1,0,0];class Ep{constructor(t,e,r,i,s,o){this.id_=o,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=s,this.stride_=i}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,pt.dP)(this.flatCoordinates_):(0,pt.Vy)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=(0,pt.q1)(this.getExtent());this.flatInteriorPoints_=Vx(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=function IF(n,t){const e=[];let s,r=0,i=0;for(let o=0,a=t.length;o<a;++o){const l=t[o],c=kx(n,r,l,2);if(void 0===s&&(s=c),c===s)e.push(t.slice(i,o+1));else{if(0===e.length)continue;e[e.length-1].push(t[i])}i=o+1,r=l}return e}(this.flatCoordinates_,this.ends_),e=MF(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=xF(this.flatCoordinates_,0,t,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Ww(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const r=this.ends_;for(let i=0,s=r.length;i<s;++i){const o=r[i],a=Ww(t,e,o,2,.5);(0,Ri.X$)(this.flatMidpoints_,a),e=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){const e=(t=(0,an.Jt)(t)).getExtent(),r=t.getWorldExtent();if(e&&r){const i=(0,pt.Oq)(r)/(0,pt.Oq)(e);s1(EF,r[0],r[3],i,-i,0,0,0),wh(this.flatCoordinates_,0,this.flatCoordinates_.length,2,EF,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new Ep(this.type_,this.flatCoordinates_.slice(),this.ends_.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=aF((t,e)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);const r=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":r.length=Sv(r,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,r,0),i=[r.length];break;case"MultiLineString":i=[],r.length=Mx(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,r,0,i);break;case"Polygon":i=[],r.length=Ex(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),r,0,i)}return i&&(this.simplifiedGeometry_=new Ep(this.type_,r,i,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}Ep.prototype.getFlatCoordinates=Ep.prototype.getOrientedFlatCoordinates;const kc=Ep;class Qw extends bx{constructor(t){super(),this.geometries_=t||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Rs),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Li(this.geometries_[t],"change",this.changed,this))}clone(){const t=new Qw(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t}closestPointXY(t,e,r,i){if(i<(0,pt.Ld)(this.getExtent(),t,e))return i;const s=this.geometries_;for(let o=0,a=s.length;o<a;++o)i=s[o].closestPointXY(t,e,r,i);return i}containsXY(t,e){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)if(r[i].containsXY(t,e))return!0;return!1}computeExtent(t){(0,pt.aZ)(t);const e=this.geometries_;for(let r=0,i=e.length;r<i;++r)(0,pt.X$)(t,e[r].getExtent());return t}getGeometries(){return SF(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const e=this.geometries_;for(let r=0,i=e.length;r<i;++r)e[r].getType()===this.getType()?t=t.concat(e[r].getGeometriesArrayRecursive()):t.push(e[r]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],r=this.geometries_;let i=!1;for(let s=0,o=r.length;s<o;++s){const a=r[s],l=a.getSimplifiedGeometry(t);e.push(l),l!==a&&(i=!0)}if(i){const s=new Qw(null);return s.setGeometriesArray(e),s}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return"GeometryCollection"}intersectsExtent(t){const e=this.geometries_;for(let r=0,i=e.length;r<i;++r)if(e[r].intersectsExtent(t))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(t,e){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].rotate(t,e);this.changed()}scale(t,e,r){r||(r=(0,pt.q1)(this.getExtent()));const i=this.geometries_;for(let s=0,o=i.length;s<o;++s)i[s].scale(t,e,r);this.changed()}setGeometries(t){this.setGeometriesArray(SF(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const e=this.geometries_;for(let r=0,i=e.length;r<i;++r)e[r].applyTransform(t);this.changed()}translate(t,e){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function SF(n){const t=[];for(let e=0,r=n.length;e<r;++e)t.push(n[e].clone());return t}const Woe=Qw,Bx=class joe{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=gx,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let r=e.dataProjection?(0,an.Jt)(e.dataProjection):this.readProjection(t);e.extent&&r&&"tile-pixels"===r.getUnits()&&(r=(0,an.Jt)(r),r.setWorldExtent(e.extent)),e={dataProjection:r,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},t)}getType(){return gr()}readFeature(t,e){return gr()}readFeatures(t,e){return gr()}readGeometry(t,e){return gr()}readProjection(t){return gr()}writeFeature(t,e){return gr()}writeFeatures(t,e){return gr()}writeGeometry(t,e){return gr()}};function u0(n,t,e){const r=e?(0,an.Jt)(e.featureProjection):null,i=e?(0,an.Jt)(e.dataProjection):null;let s=n;if(r&&i&&!(0,an.tI)(r,i)){t&&(s=n.clone());const o=t?r:i,a=t?i:r;"tile-pixels"===o.getUnits()?s.transform(o,a):s.applyTransform((0,an.RG)(o,a))}if(t&&e&&void 0!==e.decimals){const o=Math.pow(10,e.decimals),a=function(l){for(let c=0,u=l.length;c<u;++c)l[c]=Math.round(l[c]*o)/o;return l};s===n&&(s=n.clone()),s.applyTransform(a)}return s}function Nx(n,t){const e=t?(0,an.Jt)(t.featureProjection):null,r=t?(0,an.Jt)(t.dataProjection):null;return e&&r&&!(0,an.tI)(e,r)?(0,an.DI)(n,r,e):n}const Uoe={Point:Mp,LineString:Ap,Polygon:c0,MultiPoint:Yw,MultiLineString:Xw,MultiPolygon:Jw};function TF(n,t){const e=n.geometry;if(!e)return[];if(Array.isArray(e))return e.map(s=>TF({...n,geometry:s})).flat();const r="MultiPolygon"===e.type?"Polygon":e.type;if("GeometryCollection"===r||"Circle"===r)throw new Error("Unsupported geometry type: "+r);const i=e.layout.length;return u0(new kc(r,"Polygon"===r?function Zoe(n,t,e){return Array.isArray(t[0])?(_F(n,0,t,e)||Px(n=n.slice(),0,t,e),n):(Fx(n,0,t,e)||Kw(n=n.slice(),0,t,e),n)}(e.flatCoordinates,e.ends,i):e.flatCoordinates,e.ends?.flat(),i,n.properties||{},n.id).enableSimplifyTransformed(),!1,t)}function Ox(n,t){if(!n)return null;if(Array.isArray(n)){const r=n.map(i=>Ox(i,t));return new Woe(r)}return u0(new(0,Uoe[n.type])(n.flatCoordinates,n.layout,n.ends),!1,t)}function Bs(n,t){return DF().createElementNS(n,t)}function ey(n,t){return zF(n,t,[]).join("")}function zF(n,t,e){if(n.nodeType==Node.CDATA_SECTION_NODE||n.nodeType==Node.TEXT_NODE)e.push(t?String(n.nodeValue).replace(/(\r\n|\r|\n)/g,""):n.nodeValue);else{let r;for(r=n.firstChild;r;r=r.nextSibling)zF(r,t,e)}return e}function ty(n){return"documentElement"in n}function zv(n){return(new DOMParser).parseFromString(n,"application/xml")}function RF(n,t){return function(e,r){const i=n.call(void 0!==t?t:this,e,r);void 0!==i&&(0,Ri.X$)(r[r.length-1],i)}}function Br(n,t){return function(e,r){const i=n.call(void 0!==t?t:this,e,r);void 0!==i&&r[r.length-1].push(i)}}function sr(n,t){return function(e,r){const i=n.call(void 0!==t?t:this,e,r);void 0!==i&&(r[r.length-1]=i)}}function En(n,t){return function(e,r,i){n.call(void 0!==t?t:this,e,r,i),i[i.length-1].node.appendChild(e)}}function d0(n,t){return function(e,r,i){let a=n;return void 0===a&&(a=i),Bs(void 0!==t?t:r[r.length-1].node.namespaceURI,a)}}const LF=d0();function Sp(n,t,e,r){let i;for(i=t.firstElementChild;i;i=i.nextElementSibling){const s=n[i.namespaceURI];if(void 0!==s){const o=s[i.localName];void 0!==o&&o.call(r,i,e)}}}function Ns(n,t,e,r,i){return r.push(n),Sp(t,e,r,i),r.pop()}function wl(n,t,e,r,i,s,o){return i.push(n),function HF(n,t,e,r,i,s){const o=(void 0!==i?i:e).length;let a,l;for(let c=0;c<o;++c)a=e[c],void 0!==a&&(l=t.call(void 0!==s?s:this,a,r,void 0!==i?i[c]:void 0),void 0!==l&&n[l.namespaceURI][l.localName].call(s,l,a,r))}(t,e,r,i,s,o),i.pop()}let ny,ry;function DF(){return void 0===ry&&typeof document<"u"&&(ry=document.implementation.createDocument("","",null)),ry}const qoe=class Koe extends Bx{constructor(){super(),this.xmlSerializer_=function Yoe(){return void 0===ny&&typeof XMLSerializer<"u"&&(ny=new XMLSerializer),ny}()}getType(){return"xml"}readFeature(t,e){if(!t)return null;if("string"==typeof t){const r=zv(t);return this.readFeatureFromDocument(r,e)}return ty(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}readFeatureFromDocument(t,e){const r=this.readFeaturesFromDocument(t,e);return r.length>0?r[0]:null}readFeatureFromNode(t,e){return null}readFeatures(t,e){if(!t)return[];if("string"==typeof t){const r=zv(t);return this.readFeaturesFromDocument(r,e)}return ty(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}readFeaturesFromDocument(t,e){const r=[];for(let i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&(0,Ri.X$)(r,this.readFeaturesFromNode(i,e));return r}readFeaturesFromNode(t,e){return gr()}readGeometry(t,e){if(!t)return null;if("string"==typeof t){const r=zv(t);return this.readGeometryFromDocument(r,e)}return ty(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}readGeometryFromDocument(t,e){return null}readGeometryFromNode(t,e){return null}readProjection(t){if(!t)return null;if("string"==typeof t){const e=zv(t);return this.readProjectionFromDocument(e)}return ty(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}readProjectionFromDocument(t){return this.dataProjection}readProjectionFromNode(t){return this.dataProjection}writeFeature(t,e){const r=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(r)}writeFeatureNode(t,e){return null}writeFeatures(t,e){const r=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(r)}writeFeaturesNode(t,e){return null}writeGeometry(t,e){const r=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(r)}writeGeometryNode(t,e){return null}},iy="http://www.opengis.net/gml",Joe=/^\s*$/;class po extends qoe{constructor(t){super(),this.featureType=(t=t||{}).featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:Br(this.readFeaturesInternal),featureMembers:sr(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(t,e){const r=t.localName;let i=null;if("FeatureCollection"==r)i=Ns([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==r||"featureMember"==r||"member"==r){const s=e[0];let o=s.featureType,a=s.featureNS;const l="p",c="p0";if(!o&&t.childNodes){o=[],a={};for(let h=0,f=t.childNodes.length;h<f;++h){const g=t.childNodes[h];if(1===g.nodeType){const w=g.nodeName.split(":").pop();if(!o.includes(w)){let C="",I=0;const L=g.namespaceURI;for(const ie in a){if(a[ie]===L){C=ie;break}++I}C||(C=l+I,a[C]=L),o.push(C+":"+w)}}}"featureMember"!=r&&(s.featureType=o,s.featureNS=a)}if("string"==typeof a){const h=a;a={},a[c]=h}const u={},d=Array.isArray(o)?o:[o];for(const h in a){const f={};for(let g=0,w=d.length;g<w;++g)(d[g].includes(":")?d[g].split(":")[0]:c)===h&&(f[d[g].split(":").pop()]="featureMembers"==r?Br(this.readFeatureElement,this):sr(this.readFeatureElement,this));u[a[h]]=f}i=Ns("featureMember"==r||"member"==r?void 0:[],u,t,e)}return null===i&&(i=[]),i}readGeometryOrExtent(t,e){const r=e[0];return r.srsName=t.firstElementChild.getAttribute("srsName"),r.srsDimension=t.firstElementChild.getAttribute("srsDimension"),Ns(null,this.GEOMETRY_PARSERS,t,e,this)}readExtentElement(t,e){const r=e[0],i=this.readGeometryOrExtent(t,e);return i?Nx(i,r):void 0}readGeometryElement(t,e){const r=e[0],i=this.readGeometryOrExtent(t,e);return i?u0(i,!1,r):void 0}readFeatureElementInternal(t,e,r){let i;const s={};for(let l=t.firstElementChild;l;l=l.nextElementSibling){let c;const u=l.localName;0===l.childNodes.length||1===l.childNodes.length&&(3===l.firstChild.nodeType||4===l.firstChild.nodeType)?(c=ey(l,!1),Joe.test(c)&&(c=void 0)):(r&&(c="boundedBy"===u?this.readExtentElement(l,e):this.readGeometryElement(l,e)),c?"boundedBy"!==u&&(i=u):c=this.readFeatureElementInternal(l,e,!1));const d=l.attributes.length;if(d>0&&!(c instanceof bx)){c={_content_:c};for(let h=0;h<d;h++)c[l.attributes[h].name]=l.attributes[h].value}s[u]?(s[u]instanceof Array||(s[u]=[s[u]]),s[u].push(c)):s[u]=c}if(!r)return s;const o=new gx(s);i&&o.setGeometryName(i);const a=t.getAttribute("fid")||function Xoe(n,t,e){return n.getAttributeNS(t,e)||""}(t,this.namespace,"id");return a&&o.setId(a),o}readFeatureElement(t,e){return this.readFeatureElementInternal(t,e,!0)}readPoint(t,e){const r=this.readFlatCoordinatesFromNode(t,e);if(r)return new Mp(r,"XYZ")}readMultiPoint(t,e){const r=Ns([],this.MULTIPOINT_PARSERS,t,e,this);if(r)return new Yw(r)}readMultiLineString(t,e){const r=Ns([],this.MULTILINESTRING_PARSERS,t,e,this);if(r)return new Xw(r)}readMultiPolygon(t,e){const r=Ns([],this.MULTIPOLYGON_PARSERS,t,e,this);if(r)return new Jw(r)}pointMemberParser(t,e){Sp(this.POINTMEMBER_PARSERS,t,e,this)}lineStringMemberParser(t,e){Sp(this.LINESTRINGMEMBER_PARSERS,t,e,this)}polygonMemberParser(t,e){Sp(this.POLYGONMEMBER_PARSERS,t,e,this)}readLineString(t,e){const r=this.readFlatCoordinatesFromNode(t,e);if(r)return new Ap(r,"XYZ")}readFlatLinearRing(t,e){const r=Ns(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);if(r)return r}readLinearRing(t,e){const r=this.readFlatCoordinatesFromNode(t,e);if(r)return new Rx(r,"XYZ")}readPolygon(t,e){const r=Ns([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(r&&r[0]){const i=r[0],s=[i.length];let o,a;for(o=1,a=r.length;o<a;++o)(0,Ri.X$)(i,r[o]),s.push(i.length);return new c0(i,"XYZ",s)}}readFlatCoordinatesFromNode(t,e){return Ns(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)}readGeometryFromNode(t,e){return this.readGeometryElement(t,[this.getReadOptions(t,e||{})])||null}readFeaturesFromNode(t,e){const r={featureType:this.featureType,featureNS:this.featureNS};return r&&Object.assign(r,this.getReadOptions(t,e)),this.readFeaturesInternal(t,[r])||[]}readProjectionFromNode(t){return(0,an.Jt)(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))}}po.prototype.namespace=iy,po.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},po.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},po.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},po.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:Br(po.prototype.pointMemberParser),pointMembers:Br(po.prototype.pointMemberParser)}},po.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:Br(po.prototype.lineStringMemberParser),lineStringMembers:Br(po.prototype.lineStringMemberParser)}},po.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:Br(po.prototype.polygonMemberParser),polygonMembers:Br(po.prototype.polygonMemberParser)}},po.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:Br(po.prototype.readFlatCoordinatesFromNode)}},po.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:Br(po.prototype.readLineString)}},po.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:Br(po.prototype.readPolygon)}},po.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:sr(po.prototype.readFlatLinearRing)}};const qr=po;function Rv(n){const t=/^\s*(\d+)\s*$/.exec(n);if(t)return parseInt(t[1],10)}function lc(n,t){n.appendChild(DF().createTextNode(t))}const tae=iy+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",nae={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class _i extends qr{constructor(t){super(t=t||{}),this.FEATURE_COLLECTION_PARSERS[iy].featureMember=Br(this.readFeaturesInternal),this.schemaLocation=t.schemaLocation?t.schemaLocation:tae}readFlatCoordinates(t,e){const r=ey(t,!1).replace(/^\s*|\s*$/g,""),s=e[0].srsName;let o="enu";if(s){const c=(0,an.Jt)(s);c&&(o=c.getAxisOrientation())}const a=r.trim().split(/\s+/),l=[];for(let c=0,u=a.length;c<u;c++){const d=a[c].split(/,+/),h=parseFloat(d[0]),f=parseFloat(d[1]),g=3===d.length?parseFloat(d[2]):0;"en"===o.substr(0,2)?l.push(h,f,g):l.push(f,h,g)}return l}readBox(t,e){const r=Ns([null],this.BOX_PARSERS_,t,e,this);return(0,pt.N)(r[1][0],r[1][1],r[1][3],r[1][4])}innerBoundaryIsParser(t,e){const r=Ns(void 0,this.RING_PARSERS,t,e,this);r&&e[e.length-1].push(r)}outerBoundaryIsParser(t,e){const r=Ns(void 0,this.RING_PARSERS,t,e,this);r&&(e[e.length-1][0]=r)}GEOMETRY_NODE_FACTORY_(t,e,r){const i=e[e.length-1],s=i.multiSurface,o=i.surface,a=i.multiCurve;return Array.isArray(t)?r="Envelope":"MultiPolygon"===(r=t.getType())&&!0===s?r="MultiSurface":"Polygon"===r&&!0===o?r="Surface":"MultiLineString"===r&&!0===a&&(r="MultiCurve"),Bs("http://www.opengis.net/gml",r)}writeFeatureElement(t,e,r){const i=e.getId();i&&t.setAttribute("fid",i);const s=r[r.length-1],o=s.featureNS,a=e.getGeometryName();s.serializers||(s.serializers={},s.serializers[o]={});const l=[],c=[];if(e.hasProperties()){const d=e.getProperties();for(const h in d){const f=d[h];null!==f&&(l.push(h),c.push(f),h==a||"function"==typeof f.getSimplifiedGeometry?h in s.serializers[o]||(s.serializers[o][h]=En(this.writeGeometryElement,this)):h in s.serializers[o]||(s.serializers[o][h]=En(lc)))}}const u=Object.assign({},s);u.node=t,wl(u,s.serializers,d0(void 0,o),c,r,l)}writeCurveOrLineString(t,e,r){const s=r[r.length-1].srsName;if("LineStringSegment"!==t.nodeName&&s&&t.setAttribute("srsName",s),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){const o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o),this.writeCoordinates_(o,e,r)}else if("Curve"===t.nodeName){const o=Bs(t.namespaceURI,"segments");t.appendChild(o),this.writeCurveSegments_(o,e,r)}}writeLineStringOrCurveMember(t,e,r){const i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeCurveOrLineString(i,e,r))}writeMultiCurveOrLineString(t,e,r){const i=r[r.length-1],s=i.hasZ,o=i.srsName,a=i.curve;o&&t.setAttribute("srsName",o);const l=e.getLineStrings();wl({node:t,hasZ:s,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeGeometryElement(t,e,r){const i=r[r.length-1],s=Object.assign({},i);let o;s.node=t,o=Array.isArray(e)?Nx(e,i):u0(e,!0,i),wl(s,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[o],r,void 0,this)}createCoordinatesNode_(t){const e=Bs(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e}writeCoordinates_(t,e,r){const i=r[r.length-1],s=i.hasZ,o=i.srsName,a=e.getCoordinates(),l=a.length,c=new Array(l);for(let u=0;u<l;++u)c[u]=this.getCoords_(a[u],o,s);lc(t,c.join(" "))}writeCurveSegments_(t,e,r){const i=Bs(t.namespaceURI,"LineStringSegment");t.appendChild(i),this.writeCurveOrLineString(i,e,r)}writeSurfaceOrPolygon(t,e,r){const i=r[r.length-1],s=i.hasZ,o=i.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){const a=e.getLinearRings();wl({node:t,hasZ:s,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===t.nodeName){const a=Bs(t.namespaceURI,"patches");t.appendChild(a),this.writeSurfacePatches_(a,e,r)}}RING_NODE_FACTORY_(t,e,r){const i=e[e.length-1],s=i.node,o=i.exteriorWritten;return void 0===o&&(i.exteriorWritten=!0),Bs(s.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(t,e,r){const i=Bs(t.namespaceURI,"PolygonPatch");t.appendChild(i),this.writeSurfaceOrPolygon(i,e,r)}writeRing(t,e,r){const i=Bs(t.namespaceURI,"LinearRing");t.appendChild(i),this.writeLinearRing(i,e,r)}getCoords_(t,e,r){let i="enu";e&&(i=(0,an.Jt)(e).getAxisOrientation());let s="en"===i.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0];return r&&(s+=","+(t[2]||0)),s}writePoint(t,e,r){const i=r[r.length-1],s=i.hasZ,o=i.srsName;o&&t.setAttribute("srsName",o);const a=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(a);const l=e.getCoordinates();lc(a,this.getCoords_(l,o,s))}writeMultiPoint(t,e,r){const i=r[r.length-1],s=i.hasZ,o=i.srsName;o&&t.setAttribute("srsName",o);const a=e.getPoints();wl({node:t,hasZ:s,srsName:o},this.POINTMEMBER_SERIALIZERS,d0("pointMember"),a,r,void 0,this)}writePointMember(t,e,r){const i=Bs(t.namespaceURI,"Point");t.appendChild(i),this.writePoint(i,e,r)}writeLinearRing(t,e,r){const s=r[r.length-1].srsName;s&&t.setAttribute("srsName",s);const o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o),this.writeCoordinates_(o,e,r)}writeMultiSurfaceOrPolygon(t,e,r){const i=r[r.length-1],s=i.hasZ,o=i.srsName,a=i.surface;o&&t.setAttribute("srsName",o);const l=e.getPolygons();wl({node:t,hasZ:s,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeSurfaceOrPolygonMember(t,e,r){const i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeSurfaceOrPolygon(i,e,r))}writeEnvelope(t,e,r){const s=r[r.length-1].srsName;s&&t.setAttribute("srsName",s),wl({node:t},this.ENVELOPE_SERIALIZERS,LF,[e[0]+" "+e[1],e[2]+" "+e[3]],r,["lowerCorner","upperCorner"],this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(t,e,r){return Bs("http://www.opengis.net/gml",nae[e[e.length-1].node.nodeName])}}_i.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:sr(_i.prototype.readFlatCoordinates)}},_i.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:_i.prototype.innerBoundaryIsParser,outerBoundaryIs:_i.prototype.outerBoundaryIsParser}},_i.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:Br(_i.prototype.readFlatCoordinates)}},_i.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:sr(qr.prototype.readPoint),MultiPoint:sr(qr.prototype.readMultiPoint),LineString:sr(qr.prototype.readLineString),MultiLineString:sr(qr.prototype.readMultiLineString),LinearRing:sr(qr.prototype.readLinearRing),Polygon:sr(qr.prototype.readPolygon),MultiPolygon:sr(qr.prototype.readMultiPolygon),Box:sr(_i.prototype.readBox)}},_i.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:En(_i.prototype.writeCurveOrLineString),MultiCurve:En(_i.prototype.writeMultiCurveOrLineString),Point:En(_i.prototype.writePoint),MultiPoint:En(_i.prototype.writeMultiPoint),LineString:En(_i.prototype.writeCurveOrLineString),MultiLineString:En(_i.prototype.writeMultiCurveOrLineString),LinearRing:En(_i.prototype.writeLinearRing),Polygon:En(_i.prototype.writeSurfaceOrPolygon),MultiPolygon:En(_i.prototype.writeMultiSurfaceOrPolygon),Surface:En(_i.prototype.writeSurfaceOrPolygon),MultiSurface:En(_i.prototype.writeMultiSurfaceOrPolygon),Envelope:En(_i.prototype.writeEnvelope)}},_i.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:En(_i.prototype.writeLineStringOrCurveMember),curveMember:En(_i.prototype.writeLineStringOrCurveMember)}},_i.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:En(_i.prototype.writeRing),innerBoundaryIs:En(_i.prototype.writeRing)}},_i.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:En(_i.prototype.writePointMember)}},_i.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:En(_i.prototype.writeSurfaceOrPolygonMember),polygonMember:En(_i.prototype.writeSurfaceOrPolygonMember)}},_i.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:En(lc),upperCorner:En(lc)}};const VF=_i,rae=iy+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",iae={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class On extends qr{constructor(t){super(t=t||{}),this.surface_=void 0!==t.surface&&t.surface,this.curve_=void 0!==t.curve&&t.curve,this.multiCurve_=void 0===t.multiCurve||t.multiCurve,this.multiSurface_=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:rae,this.hasZ=void 0!==t.hasZ&&t.hasZ}readMultiCurve(t,e){const r=Ns([],this.MULTICURVE_PARSERS,t,e,this);if(r)return new Xw(r)}readFlatCurveRing(t,e){const r=Ns([],this.MULTICURVE_PARSERS,t,e,this),i=[];for(let s=0,o=r.length;s<o;++s)(0,Ri.X$)(i,r[s].getFlatCoordinates());return i}readMultiSurface(t,e){const r=Ns([],this.MULTISURFACE_PARSERS,t,e,this);if(r)return new Jw(r)}curveMemberParser(t,e){Sp(this.CURVEMEMBER_PARSERS,t,e,this)}surfaceMemberParser(t,e){Sp(this.SURFACEMEMBER_PARSERS,t,e,this)}readPatch(t,e){return Ns([null],this.PATCHES_PARSERS,t,e,this)}readSegment(t,e){return Ns([],this.SEGMENTS_PARSERS,t,e,this)}readPolygonPatch(t,e){return Ns([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)}readLineStringSegment(t,e){return Ns([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)}interiorParser(t,e){const r=Ns(void 0,this.RING_PARSERS,t,e,this);r&&e[e.length-1].push(r)}exteriorParser(t,e){const r=Ns(void 0,this.RING_PARSERS,t,e,this);r&&(e[e.length-1][0]=r)}readSurface(t,e){const r=Ns([null],this.SURFACE_PARSERS,t,e,this);if(r&&r[0]){const i=r[0],s=[i.length];let o,a;for(o=1,a=r.length;o<a;++o)(0,Ri.X$)(i,r[o]),s.push(i.length);return new c0(i,"XYZ",s)}}readCurve(t,e){const r=Ns([null],this.CURVE_PARSERS,t,e,this);if(r)return new Ap(r,"XYZ")}readEnvelope(t,e){const r=Ns([null],this.ENVELOPE_PARSERS,t,e,this);return(0,pt.N)(r[1][0],r[1][1],r[2][0],r[2][1])}readFlatPos(t,e){let r=ey(t,!1);const i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,s=[];let o;for(;o=i.exec(r);)s.push(parseFloat(o[1])),r=r.substr(o[0].length);if(""!==r)return;const l=e[0].srsName;let c="enu";if(l&&(c=(0,an.Jt)(l).getAxisOrientation()),"neu"===c){let d,h;for(d=0,h=s.length;d<h;d+=3){const f=s[d];s[d]=s[d+1],s[d+1]=f}}const u=s.length;return 2==u&&s.push(0),0!==u?s:void 0}readFlatPosList(t,e){const r=ey(t,!1).replace(/^\s*|\s*$/g,""),i=e[0],s=i.srsName,o=i.srsDimension;let a="enu";s&&(a=(0,an.Jt)(s).getAxisOrientation());const l=r.split(/\s+/);let u,d,h,c=2;t.getAttribute("srsDimension")?c=Rv(t.getAttribute("srsDimension")):t.getAttribute("dimension")?c=Rv(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?c=Rv(t.parentNode.getAttribute("srsDimension")):o&&(c=Rv(o));const f=[];for(let g=0,w=l.length;g<w;g+=c)u=parseFloat(l[g]),d=parseFloat(l[g+1]),h=3===c?parseFloat(l[g+2]):0,"en"===a.substr(0,2)?f.push(u,d,h):f.push(d,u,h);return f}writePos_(t,e,r){const i=r[r.length-1],s=i.hasZ;t.setAttribute("srsDimension",s?"3":"2");const a=i.srsName;let l="enu";a&&(l=(0,an.Jt)(a).getAxisOrientation());const c=e.getCoordinates();let u;u="en"===l.substr(0,2)?c[0]+" "+c[1]:c[1]+" "+c[0],s&&(u+=" "+(c[2]||0)),lc(t,u)}getCoords_(t,e,r){let i="enu";e&&(i=(0,an.Jt)(e).getAxisOrientation());let s="en"===i.substr(0,2)?t[0]+" "+t[1]:t[1]+" "+t[0];return r&&(s+=" "+(t[2]||0)),s}writePosList_(t,e,r){const i=r[r.length-1],s=i.hasZ;t.setAttribute("srsDimension",s?"3":"2");const a=i.srsName,l=e.getCoordinates(),c=l.length,u=new Array(c);let d;for(let h=0;h<c;++h)d=l[h],u[h]=this.getCoords_(d,a,s);lc(t,u.join(" "))}writePoint(t,e,r){const s=r[r.length-1].srsName;s&&t.setAttribute("srsName",s);const o=Bs(t.namespaceURI,"pos");t.appendChild(o),this.writePos_(o,e,r)}writeEnvelope(t,e,r){const s=r[r.length-1].srsName;s&&t.setAttribute("srsName",s),wl({node:t},this.ENVELOPE_SERIALIZERS,LF,[e[0]+" "+e[1],e[2]+" "+e[3]],r,["lowerCorner","upperCorner"],this)}writeLinearRing(t,e,r){const s=r[r.length-1].srsName;s&&t.setAttribute("srsName",s);const o=Bs(t.namespaceURI,"posList");t.appendChild(o),this.writePosList_(o,e,r)}RING_NODE_FACTORY_(t,e,r){const i=e[e.length-1],s=i.node,o=i.exteriorWritten;return void 0===o&&(i.exteriorWritten=!0),Bs(s.namespaceURI,void 0!==o?"interior":"exterior")}writeSurfaceOrPolygon(t,e,r){const i=r[r.length-1],s=i.hasZ,o=i.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){const a=e.getLinearRings();wl({node:t,hasZ:s,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===t.nodeName){const a=Bs(t.namespaceURI,"patches");t.appendChild(a),this.writeSurfacePatches_(a,e,r)}}writeCurveOrLineString(t,e,r){const s=r[r.length-1].srsName;if("LineStringSegment"!==t.nodeName&&s&&t.setAttribute("srsName",s),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){const o=Bs(t.namespaceURI,"posList");t.appendChild(o),this.writePosList_(o,e,r)}else if("Curve"===t.nodeName){const o=Bs(t.namespaceURI,"segments");t.appendChild(o),this.writeCurveSegments_(o,e,r)}}writeMultiSurfaceOrPolygon(t,e,r){const i=r[r.length-1],s=i.hasZ,o=i.srsName,a=i.surface;o&&t.setAttribute("srsName",o);const l=e.getPolygons();wl({node:t,hasZ:s,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeMultiPoint(t,e,r){const i=r[r.length-1],s=i.srsName,o=i.hasZ;s&&t.setAttribute("srsName",s);const a=e.getPoints();wl({node:t,hasZ:o,srsName:s},this.POINTMEMBER_SERIALIZERS,d0("pointMember"),a,r,void 0,this)}writeMultiCurveOrLineString(t,e,r){const i=r[r.length-1],s=i.hasZ,o=i.srsName,a=i.curve;o&&t.setAttribute("srsName",o);const l=e.getLineStrings();wl({node:t,hasZ:s,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeRing(t,e,r){const i=Bs(t.namespaceURI,"LinearRing");t.appendChild(i),this.writeLinearRing(i,e,r)}writeSurfaceOrPolygonMember(t,e,r){const i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeSurfaceOrPolygon(i,e,r))}writePointMember(t,e,r){const i=Bs(t.namespaceURI,"Point");t.appendChild(i),this.writePoint(i,e,r)}writeLineStringOrCurveMember(t,e,r){const i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeCurveOrLineString(i,e,r))}writeSurfacePatches_(t,e,r){const i=Bs(t.namespaceURI,"PolygonPatch");t.appendChild(i),this.writeSurfaceOrPolygon(i,e,r)}writeCurveSegments_(t,e,r){const i=Bs(t.namespaceURI,"LineStringSegment");t.appendChild(i),this.writeCurveOrLineString(i,e,r)}writeGeometryElement(t,e,r){const i=r[r.length-1],s=Object.assign({},i);let o;s.node=t,o=Array.isArray(e)?Nx(e,i):u0(e,!0,i),wl(s,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[o],r,void 0,this)}writeFeatureElement(t,e,r){const i=e.getId();i&&t.setAttribute("fid",i);const s=r[r.length-1],o=s.featureNS,a=e.getGeometryName();s.serializers||(s.serializers={},s.serializers[o]={});const l=[],c=[];if(e.hasProperties()){const d=e.getProperties();for(const h in d){const f=d[h];null!==f&&(l.push(h),c.push(f),h==a||"function"==typeof f.getSimplifiedGeometry?h in s.serializers[o]||(s.serializers[o][h]=En(this.writeGeometryElement,this)):h in s.serializers[o]||(s.serializers[o][h]=En(lc)))}}const u=Object.assign({},s);u.node=t,wl(u,s.serializers,d0(void 0,o),c,r,l)}writeFeatureMembers_(t,e,r){const i=r[r.length-1],s=i.featureType,o=i.featureNS,a={};a[o]={},a[o][s]=En(this.writeFeatureElement,this);const l=Object.assign({},i);l.node=t,wl(l,a,d0(s,o),e,r)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(t,e,r){return Bs(this.namespace,iae[e[e.length-1].node.nodeName])}GEOMETRY_NODE_FACTORY_(t,e,r){const i=e[e.length-1],s=i.multiSurface,o=i.surface,a=i.curve,l=i.multiCurve;return Array.isArray(t)?r="Envelope":"MultiPolygon"===(r=t.getType())&&!0===s?r="MultiSurface":"Polygon"===r&&!0===o?r="Surface":"LineString"===r&&!0===a?r="Curve":"MultiLineString"===r&&!0===l&&(r="MultiCurve"),Bs(this.namespace,r)}writeGeometryNode(t,e){e=this.adaptOptions(e);const r=Bs(this.namespace,"geom"),i={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object.assign(i,e),this.writeGeometryElement(r,t,[i]),r}writeFeaturesNode(t,e){e=this.adaptOptions(e);const r=Bs(this.namespace,"featureMembers");r.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);const i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object.assign(i,e),this.writeFeatureMembers_(r,t,[i]),r}}On.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:sr(On.prototype.readFlatPos),posList:sr(On.prototype.readFlatPosList),coordinates:sr(VF.prototype.readFlatCoordinates)}},On.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:On.prototype.interiorParser,exterior:On.prototype.exteriorParser}},On.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:sr(qr.prototype.readPoint),MultiPoint:sr(qr.prototype.readMultiPoint),LineString:sr(qr.prototype.readLineString),MultiLineString:sr(qr.prototype.readMultiLineString),LinearRing:sr(qr.prototype.readLinearRing),Polygon:sr(qr.prototype.readPolygon),MultiPolygon:sr(qr.prototype.readMultiPolygon),Surface:sr(On.prototype.readSurface),MultiSurface:sr(On.prototype.readMultiSurface),Curve:sr(On.prototype.readCurve),MultiCurve:sr(On.prototype.readMultiCurve),Envelope:sr(On.prototype.readEnvelope)}},On.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:Br(On.prototype.curveMemberParser),curveMembers:Br(On.prototype.curveMemberParser)}},On.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:Br(On.prototype.surfaceMemberParser),surfaceMembers:Br(On.prototype.surfaceMemberParser)}},On.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:Br(qr.prototype.readLineString),Curve:Br(On.prototype.readCurve)}},On.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:Br(qr.prototype.readPolygon),Surface:Br(On.prototype.readSurface)}},On.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:sr(On.prototype.readPatch)}},On.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:sr(On.prototype.readSegment)}},On.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:Br(On.prototype.readFlatPosList),upperCorner:Br(On.prototype.readFlatPosList)}},On.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:sr(On.prototype.readPolygonPatch)}},On.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:RF(On.prototype.readLineStringSegment)}},qr.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:sr(qr.prototype.readFlatLinearRing),Ring:sr(On.prototype.readFlatCurveRing)}},On.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:En(On.prototype.writeRing),interior:En(On.prototype.writeRing)}},On.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:En(lc),upperCorner:En(lc)}},On.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:En(On.prototype.writeSurfaceOrPolygonMember),polygonMember:En(On.prototype.writeSurfaceOrPolygonMember)}},On.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:En(On.prototype.writePointMember)}},On.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:En(On.prototype.writeLineStringOrCurveMember),curveMember:En(On.prototype.writeLineStringOrCurveMember)}},On.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:En(On.prototype.writeCurveOrLineString),MultiCurve:En(On.prototype.writeMultiCurveOrLineString),Point:En(On.prototype.writePoint),MultiPoint:En(On.prototype.writeMultiPoint),LineString:En(On.prototype.writeCurveOrLineString),MultiLineString:En(On.prototype.writeMultiCurveOrLineString),LinearRing:En(On.prototype.writeLinearRing),Polygon:En(On.prototype.writeSurfaceOrPolygon),MultiPolygon:En(On.prototype.writeMultiSurfaceOrPolygon),Surface:En(On.prototype.writeSurfaceOrPolygon),MultiSurface:En(On.prototype.writeMultiSurfaceOrPolygon),Envelope:En(On.prototype.writeEnvelope)}};const di=On;class Oi extends di{constructor(t){super(t=t||{}),this.schemaLocation=t.schemaLocation?t.schemaLocation:this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd"}writeGeometryElement(t,e,r){r[r.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},r[r.length-1]),super.writeGeometryElement(t,e,r)}}Oi.prototype.namespace="http://www.opengis.net/gml/3.2",Oi.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:sr(di.prototype.readFlatPos),posList:sr(di.prototype.readFlatPosList),coordinates:sr(VF.prototype.readFlatCoordinates)}},Oi.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:di.prototype.interiorParser,exterior:di.prototype.exteriorParser}},Oi.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:sr(qr.prototype.readPoint),MultiPoint:sr(qr.prototype.readMultiPoint),LineString:sr(qr.prototype.readLineString),MultiLineString:sr(qr.prototype.readMultiLineString),LinearRing:sr(qr.prototype.readLinearRing),Polygon:sr(qr.prototype.readPolygon),MultiPolygon:sr(qr.prototype.readMultiPolygon),Surface:sr(Oi.prototype.readSurface),MultiSurface:sr(di.prototype.readMultiSurface),Curve:sr(Oi.prototype.readCurve),MultiCurve:sr(di.prototype.readMultiCurve),Envelope:sr(Oi.prototype.readEnvelope)}},Oi.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:Br(di.prototype.curveMemberParser),curveMembers:Br(di.prototype.curveMemberParser)}},Oi.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:Br(di.prototype.surfaceMemberParser),surfaceMembers:Br(di.prototype.surfaceMemberParser)}},Oi.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:Br(qr.prototype.readLineString),Curve:Br(di.prototype.readCurve)}},Oi.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:Br(qr.prototype.readPolygon),Surface:Br(di.prototype.readSurface)}},Oi.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:sr(di.prototype.readPatch)}},Oi.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:sr(di.prototype.readSegment)}},Oi.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:Br(di.prototype.readFlatPosList),upperCorner:Br(di.prototype.readFlatPosList)}},Oi.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:sr(di.prototype.readPolygonPatch)}},Oi.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:RF(di.prototype.readLineStringSegment)}},Oi.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:Br(qr.prototype.pointMemberParser),pointMembers:Br(qr.prototype.pointMemberParser)}},Oi.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:Br(qr.prototype.lineStringMemberParser),lineStringMembers:Br(qr.prototype.lineStringMemberParser)}},Oi.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:Br(qr.prototype.polygonMemberParser),polygonMembers:Br(qr.prototype.polygonMemberParser)}},Oi.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:Br(qr.prototype.readFlatCoordinatesFromNode)}},Oi.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:Br(qr.prototype.readLineString)}},Oi.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:Br(qr.prototype.readPolygon)}},Oi.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:sr(qr.prototype.readFlatLinearRing),Ring:sr(Oi.prototype.readFlatCurveRing)}},Oi.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:En(di.prototype.writeRing),interior:En(di.prototype.writeRing)}},Oi.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:En(lc),upperCorner:En(lc)}},Oi.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:En(di.prototype.writeSurfaceOrPolygonMember),polygonMember:En(di.prototype.writeSurfaceOrPolygonMember)}},Oi.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:En(di.prototype.writePointMember)}},Oi.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:En(di.prototype.writeLineStringOrCurveMember),curveMember:En(di.prototype.writeLineStringOrCurveMember)}},Oi.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:En(di.prototype.writeCurveOrLineString),MultiCurve:En(di.prototype.writeMultiCurveOrLineString),Point:En(Oi.prototype.writePoint),MultiPoint:En(di.prototype.writeMultiPoint),LineString:En(di.prototype.writeCurveOrLineString),MultiLineString:En(di.prototype.writeMultiCurveOrLineString),LinearRing:En(di.prototype.writeLinearRing),Polygon:En(di.prototype.writeSurfaceOrPolygon),MultiPolygon:En(di.prototype.writeMultiSurfaceOrPolygon),Surface:En(di.prototype.writeSurfaceOrPolygon),MultiSurface:En(di.prototype.writeMultiSurfaceOrPolygon),Envelope:En(di.prototype.writeEnvelope)}};const kF=Oi;function sy(n){return"string"==typeof n?JSON.parse(n)||null:null!==n?n:null}const oae=class sae extends Bx{constructor(){super()}getType(){return"json"}readFeature(t,e){return this.readFeatureFromObject(sy(t),this.getReadOptions(t,e))}readFeatures(t,e){return this.readFeaturesFromObject(sy(t),this.getReadOptions(t,e))}readFeatureFromObject(t,e){return gr()}readFeaturesFromObject(t,e){return gr()}readGeometry(t,e){return this.readGeometryFromObject(sy(t),this.getReadOptions(t,e))}readGeometryFromObject(t,e){return gr()}readProjection(t){return this.readProjectionFromObject(sy(t))}readProjectionFromObject(t){return gr()}writeFeature(t,e){return JSON.stringify(this.writeFeatureObject(t,e))}writeFeatureObject(t,e){return gr()}writeFeatures(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))}writeFeaturesObject(t,e){return gr()}writeGeometry(t,e){return JSON.stringify(this.writeGeometryObject(t,e))}writeGeometryObject(t,e){return gr()}};function Gx(n,t){if(!n)return null;let e;switch(n.type){case"Point":e=function uae(n){const t=n.coordinates;return{type:"Point",flatCoordinates:t,layout:s0(t.length)}}(n);break;case"LineString":e=function dae(n){const t=n.coordinates,e=t.flat();return{type:"LineString",flatCoordinates:e,ends:[e.length],layout:s0(t[0].length)}}(n);break;case"Polygon":e=function gae(n){const t=n.coordinates,e=[],r=t[0][0].length;return{type:"Polygon",flatCoordinates:e,ends:Ev(e,0,t,r),layout:s0(r)}}(n);break;case"MultiPoint":e=function fae(n){const t=n.coordinates;return{type:"MultiPoint",flatCoordinates:t.flat(),layout:s0(t[0].length)}}(n);break;case"MultiLineString":e=function hae(n){const t=n.coordinates,e=t[0][0].length,r=[];return{type:"MultiLineString",flatCoordinates:r,ends:Ev(r,0,t,e),layout:s0(e)}}(n);break;case"MultiPolygon":e=function pae(n){const t=n.coordinates,e=[],r=t[0][0][0].length;return{type:"MultiPolygon",flatCoordinates:e,ends:yF(e,0,t,r),layout:s0(r)}}(n);break;case"GeometryCollection":e=function cae(n){return n.geometries.map(function(r){return Gx(r)})}(n);break;default:throw new Error("Unsupported GeoJSON type: "+n.type)}return e}function Wx(n,t){const e=(n=u0(n,!0,t)).getType();let r;switch(e){case"Point":r=function bae(n){return{type:"Point",coordinates:n.getCoordinates()}}(n);break;case"LineString":r=function vae(n){return{type:"LineString",coordinates:n.getCoordinates()}}(n);break;case"Polygon":r=function xae(n,t){let e;return t&&(e=t.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(e)}}(n,t);break;case"MultiPoint":r=function yae(n){return{type:"MultiPoint",coordinates:n.getCoordinates()}}(n);break;case"MultiLineString":r=function wae(n){return{type:"MultiLineString",coordinates:n.getCoordinates()}}(n);break;case"MultiPolygon":r=function Cae(n,t){let e;return t&&(e=t.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(e)}}(n,t);break;case"GeometryCollection":r=function mae(n,t){return delete(t=Object.assign({},t)).featureProjection,{type:"GeometryCollection",geometries:n.getGeometriesArray().map(function(r){return Wx(r,t)})}}(n,t);break;case"Circle":r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+e)}return r}const Ch=class aae extends oae{constructor(t){t=t||{},super(),this.dataProjection=(0,an.Jt)(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=(0,an.Jt)(t.featureProjection)),t.featureClass&&(this.featureClass=t.featureClass),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,e){let r=null;r="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null};const i=Gx(r.geometry);if(this.featureClass===kc)return TF({geometry:i,id:r.id,properties:r.properties},e);const s=new gx;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&s.setGeometryName(r.geometry_name),s.setGeometry(Ox(i,e)),"id"in r&&s.setId(r.id),r.properties&&s.setProperties(r.properties,!0),s}readFeaturesFromObject(t,e){let i=null;if("FeatureCollection"===t.type){i=[];const o=t.features;for(let a=0,l=o.length;a<l;++a){const c=this.readFeatureFromObject(o[a],e);c&&i.push(c)}}else i=[this.readFeatureFromObject(t,e)];return i.flat()}readGeometryFromObject(t,e){return function lae(n,t){return Ox(Gx(n),t)}(t,e)}readProjectionFromObject(t){const e=t.crs;let r;if(e)if("name"==e.type)r=(0,an.Jt)(e.properties.name);else{if("EPSG"!==e.type)throw new Error("Unknown SRS type");r=(0,an.Jt)("EPSG:"+e.properties.code)}else r=this.dataProjection;return r}writeFeatureObject(t,e){e=this.adaptOptions(e);const r={type:"Feature",geometry:null,properties:null},i=t.getId();if(void 0!==i&&(r.id=i),!t.hasProperties())return r;const s=t.getProperties(),o=t.getGeometry();return o&&(r.geometry=Wx(o,e),delete s[t.getGeometryName()]),mh(s)||(r.properties=s),r}writeFeaturesObject(t,e){e=this.adaptOptions(e);const r=[];for(let i=0,s=t.length;i<s;++i)r.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:r}}writeGeometryObject(t,e){return Wx(t,this.adaptOptions(e))}};function jx(n){const t=n.trim().split(/\s+/);return[t.shift(),t.join(" ").trim()||null]}function FF(n,t){const e=n?.trim(),r=t?.trim();return e||r?r&&e?`${e} ${r}`:r||e:null}function PF(n){if(!n)return"other";switch(n){case"theme":case"place":case"temporal":case"other":return n;default:return"other"}}function BF(n){if(!n)return"unspecified";switch(n){case"author":case"coAuthor":return"author";case"originator":return"originator";case"principalInvestigator":return"principal_investigator";case"resourceProvider":return"resource_provider";case"processor":return"processor";case"custodian":return"custodian";case"owner":return"owner";case"pointOfContact":return"point_of_contact";case"publisher":return"publisher";case"distributor":return"distributor";case"user":return"user";case"collaborator":return"collaborator";case"editor":return"editor";case"contributor":return"contributor";case"stakeholder":return"stakeholder";case"sponsor":return"sponsor";case"funder":return"funder";case"rightsHolder":return"rights_holder";case"mediator":return"mediator";default:return"other"}}function NF(n){switch(n){case"completed":return"completed";case"historicalArchive":return"removed";case"obsolete":return"deprecated";case"onGoing":return"ongoing";default:return"under_development"}}const Aae=["unknown","notPlanned","asNeeded","irregular","continual","periodic","daily","weekly","fortnightly","semimonthly","monthly","quarterly","biannually","annually","biennially"];function OF(n){return n&&Aae.includes(n)?n:null}const GF={application:"reuse",dataset:"dataset",interactiveMap:"reuse",map:"reuse","map/static":"reuse","map/interactive":"reuse","map-interactive":"reuse","map-static":"reuse",mapDigital:"reuse",series:"dataset",service:"service",staticMap:"reuse"};function oy(n){return GF[n]||"dataset"}function Ux(n){return"reuse"===oy(n)?{application:"application",map:"map","map/static":"map","map/interactive":"map","map-interactive":"map","map-static":"map",mapDigital:"map",interactiveMap:"map",staticMap:"map"}[n]||"other":void 0}function WF(n){return"reuse"===n.kind?n.reuseType:n.kind}function Ls(){return Ee(gh(Cn("gco:CharacterString",!1),Cn("gmx:Anchor",!1),Cn("gmx:MimeFileType",!1)),Lc())}function Ca(n,t){return is(Ee(gh(Cn("gco:CharacterString",!1),Cn("gmx:Anchor",!1)),Lc()),e=>{const r=Qi("gmd:PT_FreeText","gmd:textGroup","gmd:LocalisedCharacterString")(e),i=t??{};if(!r.length)return i;const s=r.reduce((o,a)=>{const l=Ps("locale")(a).toLowerCase().replace(/^#/,""),c=Lc()(a);return l?{...o,[l]:c}:o},{});return i[n]={...i[n],...s},i})}function Zx(){return Ee(gh(Cn("gco:DateTime",!1),Cn("gco:Date",!1)),Lc(),Kn(n=>n?new Date(n):null))}function ay(){return Ee(Cn("gco:Decimal",!1),Lc(),Kn(n=>n?Number(n):null))}function sd(){const n=Ee(Cn("gmd:URL",!1),Lc()),t=Ee(Cn("gco:CharacterString",!1),Lc()),e=Ee(Cn("gmx:Anchor",!1),Ps("xlink:href"));return Ee(gh(n,e,t),Kn(r=>{try{return new URL(r)}catch{return null}}))}function ly(){return gh(sd(),()=>new URL("http://missing"))}function jF(){return Ee(Cn("gmd:CI_RoleCode"),Ps("codeListValue"),Kn(BF))}function UF(){const n=Ee(Qi("gmd:contactInfo","gmd:CI_Contact","gmd:onlineResource","gmd:CI_OnlineResource","gmd:linkage"),ph(0),sd());return Ee(is(Ee(Cn("gmd:organisationName",!1),Ca("name")),n),Kn(([[t,e],r])=>({name:t,...r&&{website:r},translations:e})))}function ZF(){const n=Ee(Cn("gmd:role"),jF()),t=Ee(Cn("gmd:positionName"),Ls()),e=Ee(Cn("gmd:individualName"),Ls(),Kn(l=>l?jx(l):[])),r=UF(),i=Fi("gmd:contactInfo","gmd:CI_Contact"),s=Ee(i,Cn("gmd:electronicMailAddress"),Ls(),Kn(l=>null===l?"missing@missing.com":l)),o=Ee(i,Fi("gmd:address","gmd:CI_Address"),is(Ee(Cn("gmd:deliveryPoint",!1),Ls()),Ee(Cn("gmd:city",!1),Ls()),Ee(Cn("gmd:postalCode",!1),Ls()),Ee(Cn("gmd:country",!1),Ls())),Kn(l=>l.filter(c=>!!c).join(", "))),a=Ee(i,Fi("gmd:phone","gmd:CI_Telephone","gmd:voice"),Ls());return Ee(is(n,t,e,r,s,o,a),Kn(([l,c,[u,d],h,f,g,w])=>({email:f,role:l,organization:h,...c&&{position:c},...u&&{firstName:u},...d&&{lastName:d},...g&&{address:g},...w&&{phone:w}})))}Object.entries(GF).reduce((n,[t,e])=>((n[e]??=[]).push(t),n),{});const Rae=Ee(rF("gmd:MD_Distribution"),Fi("gmd:distributionFormat","gmd:MD_Format","gmd:name"),Ls(),Kn(oF));function $F(n){const t=Ee(Cn("gmd:linkage"),ly()),e=Ee(Cn("gmd:protocol"),Ls()),r=Ee(e,Kn(kw)),i=Ee(Fi("gmd:function","gmd:CI_OnLineFunctionCode"),Ps("codeListValue")),s=Ee(r,Kn(c=>"other"!==c)),o=Ee(is(s,i,e),Kn(([c,u,d])=>!c&&"download"===u||/download/i.test(d))),a=Ee(Cn("gmd:name"),Ca("name")),l=Ee(Cn("gmd:description"),Ca("description"));return Ee(Qi("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),dr(is(s,o,r,t,a,l,n)),dr(([c,u,d,h,[f,g],[w,C],I])=>{const L={...g,...C};return c?{type:"service",url:h,accessServiceProtocol:d,...f&&{identifierInService:f},...f&&{name:f},...w&&{description:w},translations:L}:u?{type:"download",url:h,...f&&{name:f},...w&&{description:w},...I&&{mimeType:I},translations:L}:{type:"link",url:h,...f&&{name:f},...w&&{description:w},translations:L}}))}function Lae(n){if(!n)return null;const t=n.match(/^-?P(?:([0-9]+)Y)?(?:([0-9]+)M)?(?:([0-9]+)D)?T?(?:([0-9]+)H)?/);if(!t)return null;const e=parseInt(t[1],10)||0,r=parseInt(t[2],10)||0,i=parseInt(t[3],10)||0,s=parseInt(t[4],10)||0;return e?{per:"year",updatedTimes:1}:1===r?{per:"month",updatedTimes:1}:r?{per:"year",updatedTimes:Math.round(12/r)}:1===i?{per:"day",updatedTimes:1}:i>=1&&i<=7?{per:"week",updatedTimes:Math.round(7/i-1e-4)}:i?{per:"month",updatedTimes:Math.round(30/i)}:s?{per:"day",updatedTimes:Math.round(24/s)}:null}function Va(){return Ee(Cn("gmd:identificationInfo",!1),is(Cn("gmd:MD_DataIdentification",!1),Cn("srv:SV_ServiceIdentification",!1)),vl(n=>null!==n),ph(0))}function $x(n){return Ee(Va(),Qi("gmd:citation","gmd:CI_Citation","gmd:date"),vl(Ee(Qi("gmd:CI_Date","gmd:dateType","gmd:CI_DateTypeCode"),ph(0),Ps("codeListValue"),Kn(t=>t===n))),ph(0),Qi("gmd:CI_Date","gmd:date"),ph(0),Zx())}function Dae(n){switch(n){case"grid":case"vector":case"tin":case"table":case"point":return n;default:return null}}function Vae(n){return Ee(Cn("gmd:fileIdentifier",!1),Ls())(n)}function cy(n){return Ee(Fi("gmd:hierarchyLevel","gmd:MD_ScopeCode"),Ps("codeListValue"),Kn(t=>oy(t)))(n)}function kae(n){return Ee(Fi("gmd:contact","gmd:CI_ResponsibleParty"),UF())(n)}function Fae(n){return $x("revision")(n)}function Pae(n){return $x("creation")(n)}function Bae(n){return $x("publication")(n)}function Nae(n){return Ee(Cn("gmd:dateStamp"),Zx())(n)}function Oae(n){return Ee(Fi("gmd:hierarchyLevel","gmd:MD_ScopeCode"),Ps("codeListValue"),Kn(t=>Ux(t)))(n)}function Gae(n,t){return Ee(Va(),Fi("gmd:citation","gmd:CI_Citation","gmd:title"),Ca("title",t),Kn(([e])=>e))(n)}function Wae(n,t){return Ee(Va(),Cn("gmd:abstract",!1),Ca("abstract",t),Kn(([e])=>e))(n)}function jae(n){return Ee(xi("gmd:contact",!1),dr(Cn("gmd:CI_ResponsibleParty",!1)),dr(ZF()))(n)}function Uae(n){return Ee(Va(),is(xi("gmd:contact",!1),xi("gmd:pointOfContact",!1)),n=>n.flat(),dr(Cn("gmd:CI_ResponsibleParty",!1)),dr(ZF()))(n)}function Zae(n){if(!n)return null;const t=Fi("gmd:CI_Citation","gmd:identifier","gmd:MD_Identifier","gmd:code"),e=Ee(t,Ls())(n),r=Ee(t,sd())(n),i=Ee(Fi("gmd:CI_Citation","gmd:title"),Ls())(n);return{id:e,...i&&{name:i},...r&&{url:r}}}function $ae(n){const t=Ee(xi("gmd:MD_KeywordTypeCode"),dr(Ps("codeListValue")),Kn(r=>PF(r[0])))(n),e=Ee(Fi("gmd:thesaurusName"),Zae)(n);return Ee(xi("gmd:keyword"),dr(r=>{const[i,s]=Ca("label")(r);return{...e?{thesaurus:e}:{},label:i,type:t,translations:s}}))(n)}function Xae(n){return Ee(Va(),Qi("gmd:descriptiveKeywords","gmd:MD_Keywords"),dr($ae),n=>n.flat())(n)}function Yae(n){return Ee(Va(),Cn("gmd:status",!1),function Mae(){return Ee(Cn("gmd:MD_ProgressCode"),Ps("codeListValue"),Kn(NF))}())(n)}const uy=Ee(Va(),xi("gmd:resourceConstraints",!1));function Kae(n){return Ee(uy,dr(function Eae(){return Ee(xi("gmd:MD_LegalConstraints",!1),vl(Ee(xi("gmd:MD_RestrictionCode"),dr(Ps("codeListValue")),Kn(n=>-1===n.indexOf("license")))),dr(is(xi("gmd:otherConstraints"),xi("gmd:useLimitation"))),n=>n.flat(),n=>n.flat(),dr(is(Ca("text"),sd())),dr(([[n,t],e])=>({...e&&{url:e},text:n,translations:t})))}()),n=>n.flat(),n=>n.flat())(n)}function qae(n){return Ee(uy,dr(function Sae(){return Ee(Qi("gmd:MD_SecurityConstraints","gmd:useLimitation"),n=>n.flat(),dr(is(Ca("text"),sd())),dr(([[n,t],e])=>({...e&&{url:e},text:n,translations:t})))}()),n=>n.flat())(n)}function Jae(n){return Ee(uy,dr(function Tae(){return Ee(Qi("gmd:MD_Constraints","gmd:useLimitation"),n=>n.flat(),dr(is(Ca("text"),sd())),dr(([[n,t],e])=>({...e&&{url:e},text:n,translations:t})))}()),n=>n.flat())(n)}function Qae(n){return Ee(uy,dr(function zae(){return Ee(xi("gmd:MD_LegalConstraints",!1),vl(Ee(xi("gmd:MD_RestrictionCode"),dr(Ps("codeListValue")),Kn(n=>n.indexOf("license")>-1))),dr(is(xi("gmd:otherConstraints"),xi("gmd:useLimitation"))),n=>n.flat(),n=>n.flat(),dr(is(Ca("text"),sd())),dr(([[n,t],e])=>({...e&&{url:e},text:n,translations:t})))}()),n=>n.flat())(n)}function ele(n){return Ee(Va(),xi("gmd:MD_TopicCategoryCode",!0),dr(Lc()))(n)}function tle(n){return Ee(Va(),Fi("gmd:spatialRepresentationType","gmd:MD_SpatialRepresentationTypeCode"),Ps("codeListValue"),Kn(Dae))(n)}function nle(n){return Ee(Va(),xi("gmd:graphicOverview",!1),dr(is(Ee(Cn("gmd:fileName"),ly()),Ee(Cn("gmd:fileDescription"),Ls()))),dr(([t,e])=>({url:t,...e&&{description:e}})))(n)}function rle(n,t){return Ee(Fi("gmd:dataQualityInfo","gmd:DQ_DataQuality","gmd:lineage","gmd:LI_Lineage","gmd:statement"),Ca("lineage",t),Kn(([e])=>e))(n)}function ile(n){return Ee(Va(),Fi("gmd:resourceMaintenance","gmd:MD_MaintenanceInformation"),function Hae(){return gh(Ee(Cn("gmd:MD_MaintenanceFrequencyCode"),Ps("codeListValue"),Kn(OF)),Ee(Fi("gmd:userDefinedMaintenanceFrequency","gts:TM_PeriodDuration"),Lc(),Kn(Lae)),Kn(()=>"unknown"))}(),Kn(t=>t||"unknown"))(n)}function XF(){const n=Ee(Cn("gmd:linkage"),ly()),t=Ee(Cn("gmd:protocol"),Ls()),e=Ee(t,Kn(kw)),r=Ee(Fi("gmd:function","gmd:CI_OnLineFunctionCode"),Ps("codeListValue")),i=Ee(r,Kn(a=>"information"===a)),s=Ee(Cn("gmd:name"),Ca("name")),o=Ee(Cn("gmd:description"),Ca("description",{}));return Ee(Qi("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),dr(is(i,e,n,s,o)),dr(([a,l,c,[u,d],[h,f]])=>{const g={...d,...f};return a?{type:"link",url:c,...u&&{name:u},...h&&{description:h},translations:g}:{type:"endpoint",url:c,accessServiceProtocol:l,...h&&{description:h},translations:g}}))}function YF(){const n=Ee(Cn("gmd:linkage"),ly()),t=Ee(Cn("gmd:name"),Ca("name")),e=Ee(Cn("gmd:description"),Ca("description",{}));return Ee(Qi("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),dr(is(n,t,e)),dr(([r,[i,s],[o,a]])=>({type:"link",url:r,...i&&{name:i},...o&&{description:o},translations:{...s,...a}})))}function sle(n){let t;return t="dataset"===cy(n)?e=>$F(Rae)(e):"service"===cy(n)?XF():YF(),Ee(Qi("gmd:distributionInfo","gmd:MD_Distribution"),dr(t),n=>n.flat())(n)}function ole(n){return Ee(Va(),Qi("gmd:extent","gmd:EX_Extent","gmd:temporalElement"),dr(is(Fi("gmd:EX_TemporalExtent","gmd:extent","gml:TimePeriod"),Fi("gmd:EX_TemporalExtent","gmd:extent","gml:TimeInstant"))),dr(([t,e])=>t?Ee(is(Ee(Cn("gml:beginPosition",!1),Lc(),Kn(r=>r?new Date(r):null)),Ee(Cn("gml:endPosition",!1),Lc(),Kn(r=>r?new Date(r):null))),Kn(([r,i])=>({start:r,end:i})))(t):Ee(Cn("gml:timePosition",!1),Lc(),Kn(r=>r?new Date(r):null),Kn(r=>({start:r})))(e)))(n)}function ale(n){return Ee(Va(),Qi("gmd:extent","gmd:EX_Extent","gmd:geographicElement"),dr(is(Ee(Cn("gmd:EX_BoundingPolygon"),i=>i?Ee(Cn("gmd:polygon",!1),aoe,Kn(s=>s?function _ae(n){const t=dx(n);t.root.attributes.xmlns="http://www.opengis.net/gml/3.2";const r=zv(yv(t)),i=document.createElement("pre");i.appendChild(r.documentElement);const o=(new kF).readGeometryFromNode(i);return(new Ch).writeGeometryObject(o)}(s):null))(i):null),Ee(Cn("gmd:EX_GeographicBoundingBox"),i=>i?Ee(is(Ee(Cn("gmd:westBoundLongitude"),ay()),Ee(Cn("gmd:southBoundLatitude"),ay()),Ee(Cn("gmd:eastBoundLongitude"),ay()),Ee(Cn("gmd:northBoundLatitude"),ay())))(i):null),Ee(Cn("gmd:EX_GeographicDescription"),i=>i?Ee(Fi("gmd:geographicIdentifier","gmd:MD_Identifier","gmd:code"),Ca("description"))(i):[null,{}]))),vl(([i,s,[o]])=>!!i||!!s||!!o),dr(([i,s,[o,a]])=>({...i&&{geometry:i},...s&&{bbox:s},...o&&{description:o},translations:a})))(n)}function lle(n){const t=KF(n);return Ee(xi("gmd:locale",!1),dr(Ee(Cn("lan:LanguageCode"),Ps("codeListValue"),Kn(e=>fh(e?.toLowerCase())??e))),Kn(e=>e.filter(r=>null!==r)),Kn(e=>e.length?e:[t]))(n)}function KF(n){return Ee(Cn("gmd:language",!1),Cn("lan:LanguageCode"),Ps("codeListValue"),Kn(t=>t?fh(t.toLowerCase()):null))(n)}function cle(n){return Ee(Va(),Fi("gmd:citation","gmd:CI_Citation","gmd:identifier","gmd:MD_Identifier","gmd:code"),Ls())(n)}const ule={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Xx(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const gle={date:Xx({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Xx({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Xx({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},mle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Lv(n){return(t,e)=>{let i;if("formatting"===(e?.context?String(e.context):"standalone")&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=e?.width?String(e.width):o;i=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=e?.width?String(e.width):n.defaultWidth;i=n.values[a]||n.values[o]}return i[n.argumentCallback?n.argumentCallback(t):t]}}const Ile={ordinalNumber:(n,t)=>{const e=Number(n),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},era:Lv({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Lv({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:n=>n-1}),month:Lv({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Lv({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Lv({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Hv(n){return(t,e={})=>{const r=e.width,s=t.match(r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth]);if(!s)return null;const o=s[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?function Mle(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}(a,d=>d.test(o)):function Ale(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}(a,d=>d.test(o));let c;return c=n.valueCallback?n.valueCallback(l):l,c=e.valueCallback?e.valueCallback(c):c,{value:c,rest:t.slice(o.length)}}}const Nle={ordinalNumber:function Ele(n){return(t,e={})=>{const r=t.match(n.matchPattern);if(!r)return null;const i=r[0],s=t.match(n.parsePattern);if(!s)return null;let o=n.valueCallback?n.valueCallback(s[0]):s[0];return o=e.valueCallback?e.valueCallback(o):o,{value:o,rest:t.slice(i.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:n=>parseInt(n,10)}),era:Hv({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Hv({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:n=>n+1}),month:Hv({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Hv({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Hv({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},Ole={code:"en-US",formatDistance:(n,t,e)=>{let r;const i=ule[n];return r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+r:r+" ago":r},formatLong:gle,formatRelative:(n,t,e,r)=>mle[n],localize:Ile,match:Nle,options:{weekStartsOn:0,firstWeekContainsDate:1}};let qF={};function dy(){return qF}Math.pow(10,8);const JF=6048e5,Wle=864e5,eP=Symbol.for("constructDateFrom");function bh(n,t){return"function"==typeof n?n(t):n&&"object"==typeof n&&eP in n?n[eP](t):n instanceof Date?new n.constructor(t):new Date(t)}function gu(n,t){return bh(t||n,n)}function tP(n){const t=gu(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function nP(n,t){const e=gu(n,t?.in);return e.setHours(0,0,0,0),e}function Xle(n,t){const e=gu(n,t?.in);return function Zle(n,t,e){const[r,i]=function Ule(n,...t){const e=bh.bind(null,n||t.find(r=>"object"==typeof r));return t.map(e)}(e?.in,n,t),s=nP(r),o=nP(i),a=+s-tP(s),l=+o-tP(o);return Math.round((a-l)/Wle)}(e,function $le(n,t){const e=gu(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}(e))+1}function Dv(n,t){const e=dy(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,i=gu(n,t?.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function hy(n,t){return Dv(n,{...t,weekStartsOn:1})}function rP(n,t){const e=gu(n,t?.in),r=e.getFullYear(),i=bh(e,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=hy(i),o=bh(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=hy(o);return e.getTime()>=s.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function iP(n,t){const e=gu(n,t?.in),r=e.getFullYear(),i=dy(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=bh(t?.in||n,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Dv(o,t),l=bh(t?.in||n,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Dv(l,t);return+e>=+a?r+1:+e>=+c?r:r-1}function os(n,t){return(n<0?"-":"")+Math.abs(n).toString().padStart(t,"0")}const xh={y(n,t){const e=n.getFullYear(),r=e>0?e:1-e;return os("yy"===t?r%100:r,t.length)},M(n,t){const e=n.getMonth();return"M"===t?String(e+1):os(e+1,2)},d:(n,t)=>os(n.getDate(),t.length),a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];default:return"am"===e?"a.m.":"p.m."}},h:(n,t)=>os(n.getHours()%12||12,t.length),H:(n,t)=>os(n.getHours(),t.length),m:(n,t)=>os(n.getMinutes(),t.length),s:(n,t)=>os(n.getSeconds(),t.length),S(n,t){const e=t.length,r=n.getMilliseconds();return os(Math.trunc(r*Math.pow(10,e-3)),t.length)}},sP={G:function(n,t,e){const r=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(r,{width:"abbreviated"});case"GGGGG":return e.era(r,{width:"narrow"});default:return e.era(r,{width:"wide"})}},y:function(n,t,e){if("yo"===t){const r=n.getFullYear();return e.ordinalNumber(r>0?r:1-r,{unit:"year"})}return xh.y(n,t)},Y:function(n,t,e,r){const i=iP(n,r),s=i>0?i:1-i;return"YY"===t?os(s%100,2):"Yo"===t?e.ordinalNumber(s,{unit:"year"}):os(s,t.length)},R:function(n,t){return os(rP(n),t.length)},u:function(n,t){return os(n.getFullYear(),t.length)},Q:function(n,t,e){const r=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return os(r,2);case"Qo":return e.ordinalNumber(r,{unit:"quarter"});case"QQQ":return e.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(r,{width:"narrow",context:"formatting"});default:return e.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,t,e){const r=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return os(r,2);case"qo":return e.ordinalNumber(r,{unit:"quarter"});case"qqq":return e.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(r,{width:"narrow",context:"standalone"});default:return e.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,t,e){const r=n.getMonth();switch(t){case"M":case"MM":return xh.M(n,t);case"Mo":return e.ordinalNumber(r+1,{unit:"month"});case"MMM":return e.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(r,{width:"narrow",context:"formatting"});default:return e.month(r,{width:"wide",context:"formatting"})}},L:function(n,t,e){const r=n.getMonth();switch(t){case"L":return String(r+1);case"LL":return os(r+1,2);case"Lo":return e.ordinalNumber(r+1,{unit:"month"});case"LLL":return e.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(r,{width:"narrow",context:"standalone"});default:return e.month(r,{width:"wide",context:"standalone"})}},w:function(n,t,e,r){const i=function Jle(n,t){const e=gu(n,t?.in),r=+Dv(e,t)-+function qle(n,t){const e=dy(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,i=iP(n,t),s=bh(t?.in||n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Dv(s,t)}(e,t);return Math.round(r/JF)+1}(n,r);return"wo"===t?e.ordinalNumber(i,{unit:"week"}):os(i,t.length)},I:function(n,t,e){const r=function Kle(n,t){const e=gu(n,t?.in),r=+hy(e)-+function Yle(n,t){const e=rP(n,t),r=bh(t?.in||n,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),hy(r)}(e);return Math.round(r/JF)+1}(n);return"Io"===t?e.ordinalNumber(r,{unit:"week"}):os(r,t.length)},d:function(n,t,e){return"do"===t?e.ordinalNumber(n.getDate(),{unit:"date"}):xh.d(n,t)},D:function(n,t,e){const r=Xle(n);return"Do"===t?e.ordinalNumber(r,{unit:"dayOfYear"}):os(r,t.length)},E:function(n,t,e){const r=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(r,{width:"short",context:"formatting"});default:return e.day(r,{width:"wide",context:"formatting"})}},e:function(n,t,e,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return os(s,2);case"eo":return e.ordinalNumber(s,{unit:"day"});case"eee":return e.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},c:function(n,t,e,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return os(s,t.length);case"co":return e.ordinalNumber(s,{unit:"day"});case"ccc":return e.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(i,{width:"narrow",context:"standalone"});case"cccccc":return e.day(i,{width:"short",context:"standalone"});default:return e.day(i,{width:"wide",context:"standalone"})}},i:function(n,t,e){const r=n.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return os(i,t.length);case"io":return e.ordinalNumber(i,{unit:"day"});case"iii":return e.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(r,{width:"short",context:"formatting"});default:return e.day(r,{width:"wide",context:"formatting"})}},a:function(n,t,e){const i=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(i,{width:"narrow",context:"formatting"});default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,t,e){const r=n.getHours();let i;switch(i=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(i,{width:"narrow",context:"formatting"});default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,t,e){const r=n.getHours();let i;switch(i=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(i,{width:"narrow",context:"formatting"});default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,t,e){if("ho"===t){let r=n.getHours()%12;return 0===r&&(r=12),e.ordinalNumber(r,{unit:"hour"})}return xh.h(n,t)},H:function(n,t,e){return"Ho"===t?e.ordinalNumber(n.getHours(),{unit:"hour"}):xh.H(n,t)},K:function(n,t,e){const r=n.getHours()%12;return"Ko"===t?e.ordinalNumber(r,{unit:"hour"}):os(r,t.length)},k:function(n,t,e){let r=n.getHours();return 0===r&&(r=24),"ko"===t?e.ordinalNumber(r,{unit:"hour"}):os(r,t.length)},m:function(n,t,e){return"mo"===t?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):xh.m(n,t)},s:function(n,t,e){return"so"===t?e.ordinalNumber(n.getSeconds(),{unit:"second"}):xh.s(n,t)},S:function(n,t){return xh.S(n,t)},X:function(n,t,e){const r=n.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return aP(r);case"XXXX":case"XX":return h0(r);default:return h0(r,":")}},x:function(n,t,e){const r=n.getTimezoneOffset();switch(t){case"x":return aP(r);case"xxxx":case"xx":return h0(r);default:return h0(r,":")}},O:function(n,t,e){const r=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+oP(r,":");default:return"GMT"+h0(r,":")}},z:function(n,t,e){const r=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+oP(r,":");default:return"GMT"+h0(r,":")}},t:function(n,t,e){return os(Math.trunc(+n/1e3),t.length)},T:function(n,t,e){return os(+n,t.length)}};function oP(n,t=""){const e=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return 0===s?e+String(i):e+String(i)+t+os(s,2)}function aP(n,t){return n%60==0?(n>0?"-":"+")+os(Math.abs(n)/60,2):h0(n,t)}function h0(n,t=""){const e=n>0?"-":"+",r=Math.abs(n);return e+os(Math.trunc(r/60),2)+t+os(r%60,2)}const lP=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},cP=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Qle={p:cP,P:(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],r=e[1],i=e[2];if(!i)return lP(n,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",lP(r,t)).replace("{{time}}",cP(i,t))}},ece=/^D+$/,tce=/^Y+$/,nce=["D","DD","YY","YYYY"];const cce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dce=/^'([^]*?)'?$/,hce=/''/g,fce=/[a-zA-Z]/;function fy(n,t,e){const r=dy(),i=e?.locale??r.locale??Ole,s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=gu(n,e?.in);if(!function lce(n){return!(!function ace(n){return n instanceof Date||"object"==typeof n&&"[object Date]"===Object.prototype.toString.call(n)}(n)&&"number"!=typeof n||isNaN(+gu(n)))}(a))throw new RangeError("Invalid time value");let l=t.match(uce).map(u=>{const d=u[0];return"p"===d||"P"===d?(0,Qle[d])(u,i.formatLong):u}).join("").match(cce).map(u=>{if("''"===u)return{isToken:!1,value:"'"};const d=u[0];if("'"===d)return{isToken:!1,value:pce(u)};if(sP[d])return{isToken:!0,value:u};if(d.match(fce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const d=u.value;return(!e?.useAdditionalWeekYearTokens&&function ice(n){return tce.test(n)}(d)||!e?.useAdditionalDayOfYearTokens&&function rce(n){return ece.test(n)}(d))&&function sce(n,t,e){const r=function oce(n,t,e){const r="Y"===n[0]?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${r} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(n,t,e);if(console.warn(r),nce.includes(n))throw new RangeError(r)}(d,t,String(n)),(0,sP[d[0]])(a,d,i.localize,c)}).join("")}function pce(n){const t=n.match(dce);return t?t[1].replace(hce,"'"):n}function uP(n,t,e,r){if(!e)return Ee(n,ya("gmd:PT_FreeText"));function i(s,o){return Ee(Pi("gmd:textGroup","gmd:LocalisedCharacterString"),lr("locale",`#${s.toUpperCase()}`),Da(o))}return Ee(n,ya("gmd:PT_FreeText"),no("gmd:PT_FreeText"),_n(i(r,t),...Object.entries(e).map(([s,o])=>i(s,o))))}function _s(n){return r0(Ee(Hc("gco:CharacterString"),Da(n)))}function cc(n,t,e){return uP(_s(n),n,t,e)}function py(n){return r0(Ee(fo("gmd:linkage","gmd:URL"),Da(n.toString())))}function Yx(n,t){return r0(Ee(Hc("gmx:Anchor"),lr("xlink:href",n.toString()),t?Da(t):Eo))}function Kx(n,t,e,r){return uP(Yx(n,t),t,e,r)}function gy(n){return Ee(Hc("gco:DateTime"),Da(fy(n,"yyyy-MM-dd'T'HH:mm:ss")))}function my(n){return r0(Ee(Hc("gco:Decimal"),Da(n.toString())))}function dP(n){switch(n){case"completed":return"completed";case"deprecated":return"deprecated";case"ongoing":return"onGoing";case"removed":return"removed";case"under_development":return"underDevelopment";default:throw new Error(`Could not determine progress code from status: ${n}`)}}function qx(n){switch(n){case"author":return"author";case"collaborator":return"collaborator";case"contributor":return"contributor";case"custodian":return"custodian";case"distributor":return"distributor";case"editor":return"editor";case"funder":return"funder";case"mediator":return"mediator";case"originator":return"originator";case"other":return"other";case"owner":return"owner";case"point_of_contact":return"pointOfContact";case"principal_investigator":return"principalInvestigator";case"processor":return"processor";case"publisher":return"publisher";case"resource_provider":return"resourceProvider";case"rights_holder":return"rightsHolder";case"sponsor":return"sponsor";case"stakeholder":return"stakeholder";case"unspecified":return"unspecified";case"user":return"user";default:throw new Error(`Could not determine role code from role: ${n}`)}}function hP(n,t,e){const r=FF(n.firstName,n.lastName),i=Ee(Pi("gmd:address","gmd:CI_Address"),_n(Ee(Vn("gmd:electronicMailAddress"),_s(n.email))),n.address?_n(Ee(Vn("gmd:deliveryPoint"),_s(n.address))):Eo),s=Ee(Pi("gmd:contactInfo","gmd:CI_Contact"),n.phone?_n(Ee(Pi("gmd:phone","gmd:CI_Telephone","gmd:voice"),_s(n.phone))):Eo,_n(i),n.organization?.website?_n(Ee(Pi("gmd:onlineResource","gmd:CI_OnlineResource"),py(n.organization.website))):Eo);return _n(Ee(Vn("gmd:CI_ResponsibleParty"),r?_n(Ee(Vn("gmd:individualName"),_s(r))):Eo,n.position?_n(Ee(Vn("gmd:positionName"),_s(n.position))):Eo,n.organization?.name?_n(Ee(Vn("gmd:organisationName"),_s(n.organization.name))):Eo,_n(s,Ee(Pi("gmd:role","gmd:CI_RoleCode"),lr("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_RoleCode"),lr("codeListValue",qx(n.role))))))}function Jx(n,t,e){return"security"===t?Ee(Pi("gmd:resourceConstraints","gmd:MD_SecurityConstraints"),_n(Ee(Pi("gmd:classification","gmd:MD_ClassificationCode"),lr("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_ClassificationCode"),lr("codeListValue","restricted")),Ee(Vn("gmd:useLimitation"),"url"in n?Kx(n.url,n.text,n.translations?.text,e):cc(n.text,n.translations?.text,e)))):"legal"===t?Ee(Pi("gmd:resourceConstraints","gmd:MD_LegalConstraints"),_n(Ee(Pi("gmd:accessConstraints","gmd:MD_RestrictionCode"),lr("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_RestrictionCode"),lr("codeListValue","otherRestrictions")),Ee(Vn("gmd:otherConstraints"),"url"in n?Kx(n.url,n.text,n.translations?.text,e):cc(n.text,n.translations?.text,e)))):Ee(Pi("gmd:resourceConstraints","gmd:MD_Constraints","gmd:useLimitation"),"url"in n?Kx(n.url,n.text,n.translations?.text,e):cc(n.text,n.translations?.text,e))}function Qx(){return Dc(Ee(xi("gmd:resourceConstraints"),vl(Ee(Vw,n=>0===n.length))))}function Ece(n){return _n(Ee(Pi("gmd:distributionFormat","gmd:MD_Format"),_n(Ee(Vn("gmd:name"),_s(n)),Ee(Vn("gmd:version"),_s("1.0")))))}function fP(){return Pi("gmd:distributionInfo","gmd:MD_Distribution")}function pP(n,t,e,r){let i,s,o;"service"===n.type?(i=n.identifierInService,s="download",o=function gce(n){switch(n.accessServiceProtocol.toLowerCase()){case"ogcfeatures":return"OGC API Features";case"wfs":return"OGC:WFS";case"wms":return"OGC:WMS";case"wps":return"OGC:WPS";default:return n.accessServiceProtocol}}(n)):"download"===n.type?(i=n.name,s="download",o="WWW:DOWNLOAD"):(i=n.name,s="information",o="WWW:LINK");const a=_n(Ee(Pi("gmd:transferOptions","gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),py(n.url),"description"in n?_n(Ee(Vn("gmd:description"),cc(n.description,n.translations?.description,r))):Eo,void 0!==i?_n(Ee(Vn("gmd:name"),cc(i,n.translations?.name,r))):Eo,_n(Ee(Vn("gmd:protocol"),_s(o)),Ee(Pi("gmd:function","gmd:CI_OnLineFunctionCode"),lr("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_OnLineFunctionCode"),lr("codeListValue",s)))));return Ee("mimeType"in n?t(n.mimeType):Eo,a)}function Xs(){return n=>{let e="gmd:MD_DataIdentification";return"service"===cy(n)&&(e="srv:SV_ServiceIdentification"),fo("gmd:identificationInfo",e)(n)}}function Tce(n,t){Ee(Hc("gmd:fileIdentifier"),_s(n.uniqueIdentifier))(t)}function gP(n,t){Ee(fo("gmd:hierarchyLevel","gmd:MD_ScopeCode"),lr("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_ScopeCode"),lr("codeListValue",WF(n)))(t)}function zce(n,t){Ee(Xs(),fo("gmd:citation","gmd:CI_Citation","gmd:title"),cc(n.title,n.translations?.title,n.defaultLanguage))(t)}function Rce(n,t){Ee(Xs(),Hc("gmd:abstract"),cc(n.abstract,n.translations?.abstract,n.defaultLanguage))(t)}function Lce(n,t){Ee(Xs(),fo("gmd:status","gmd:MD_ProgressCode"),lr("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_ProgressCode"),lr("codeListValue",dP(n.status)))(t)}function Hce(n,t){Ee(ya("gmd:contact"),_n(...n.contacts.map(e=>Ee(Vn("gmd:contact"),hP(e)))))(t)}function Dce(n,t){Ee(Xs(),ya("gmd:pointOfContact"),ya("gmd:contact"),_n(...n.contactsForResource.map(e=>Ee(Vn("gmd:pointOfContact"),hP(e)))))(t)}function Vce(n,t){Ee(Xs(),function wce(){return Dc(Ee(Qi("gmd:descriptiveKeywords")))}(),function Cce(n,t){return _n(...n.reduce((r,i)=>{const s=i.thesaurus?.id,o=i.type;let a=r.find(l=>s?l[0].thesaurus?.id===s:l[0].type===o&&!l[0].thesaurus);return a||(a=[],r.push(a)),a.push(i),r},[]).map(r=>Ee(Pi("gmd:descriptiveKeywords","gmd:MD_Keywords"),_n(Ee(Pi("gmd:type","gmd:MD_KeywordTypeCode"),lr("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_KeywordTypeCode"),lr("codeListValue",r[0].type))),r[0].thesaurus?_n(function yce(n){return Ee(Pi("gmd:thesaurusName","gmd:CI_Citation"),_n(Ee(Vn("gmd:title"),_s(n.name||n.id)),Ee(Pi("gmd:identifier","gmd:MD_Identifier"),_n(Ee(Vn("gmd:code"),n.url?Yx(n.url,n.id):_s(n.id))))))}(r[0].thesaurus)):Eo,_n(...r.map(i=>Ee(Vn("gmd:keyword"),cc(i.label,i.translations?.label,t)))))))}(n.keywords,n.defaultLanguage))(t)}function kce(n,t){Ee(Xs(),ya("gmd:topicCategory"),_n(...n.topics.map(e=>Ee(Pi("gmd:topicCategory","gmd:MD_TopicCategoryCode"),Da(e)))))(t)}function Fce(n,t){Ee(Xs(),function Ice(){return Dc(Ee(xi("gmd:resourceConstraints"),vl(Ee(Qi("gmd:MD_LegalConstraints","gmd:accessConstraints","gmd:MD_RestrictionCode"),dr(Ps("codeListValue")),n=>n.some(t=>"license"===t)))))}(),_n(...n.licenses.map(e=>function Ace(n,t){return Ee(Pi("gmd:resourceConstraints","gmd:MD_LegalConstraints"),_n(Ee(Pi("gmd:accessConstraints","gmd:MD_RestrictionCode"),lr("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_RestrictionCode"),lr("codeListValue","license")),Ee(Pi("gmd:accessConstraints","gmd:MD_RestrictionCode"),lr("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_RestrictionCode"),lr("codeListValue","otherRestrictions")),Ee(Vn("gmd:otherConstraints"),"url"in n?Yx(n.url,n.text):cc(n.text,n.translations?.text,t))))}(e,n.defaultLanguage))))(t)}function Pce(n,t){Ee(Xs(),function _ce(){return r0(Ee(xi("gmd:resourceConstraints"),dr(Dc(Ee(xi("gmd:MD_LegalConstraints"),vl(Ee(Qi("gmd:accessConstraints","gmd:MD_RestrictionCode"),dr(Ps("codeListValue")),n=>n.every(t=>"license"!==t))))))))}(),Qx(),_n(...n.legalConstraints.map(e=>Jx(e,"legal",n.defaultLanguage))))(t)}function Bce(n,t){Ee(Xs(),function xce(){return r0(Ee(xi("gmd:resourceConstraints"),dr(Dc(Ee(xi("gmd:MD_SecurityConstraints"),vl(Ee(Qi("gmd:useLimitation"),n=>n.length>0)))))))}(),Qx(),_n(...n.securityConstraints.map(e=>Jx(e,"security",n.defaultLanguage))))(t)}function Nce(n,t){Ee(Xs(),function bce(){return r0(Ee(xi("gmd:resourceConstraints"),dr(Dc(Ee(xi("gmd:MD_Constraints"),vl(Ee(Qi("gmd:useLimitation"),n=>n.length>0)))))))}(),Qx(),_n(...n.otherConstraints.map(e=>Jx(e,"other",n.defaultLanguage))))(t)}function Oce(n,t){Ee(Xs(),Hc("gmd:resourceMaintenance"),n=>n?(n.children.forEach(t=>t.parent=null),n.children=[],n):null,Hc("gmd:MD_MaintenanceInformation"),"object"==typeof n.updateFrequency?Ee(bv("gmd:userDefinedMaintenanceFrequency","gts:TM_PeriodDuration"),Da(function vce(n){const t={years:0,months:0,weeks:0,days:0,hours:0};switch(n.per){case"day":n.updatedTimes<=1?t.days=1:t.hours=Math.round(24/n.updatedTimes);break;case"week":t.days=Math.round(7/n.updatedTimes-1e-4);break;case"month":n.updatedTimes<=1?t.months=1:t.days=Math.round(30/n.updatedTimes);break;case"year":n.updatedTimes<=1?t.years=1:t.months=Math.round(12/n.updatedTimes)}return`P${t.years}Y${t.months}M${t.days}D${t.hours>0?`T${t.hours}H`:""}`}(n.updateFrequency))):Ee(bv("gmd:maintenanceAndUpdateFrequency","gmd:MD_MaintenanceFrequencyCode"),lr("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_MaintenanceFrequencyCode"),lr("codeListValue",function mce(n){switch(n){case"asNeeded":return"asNeeded";case"unknown":return"unknown";case"irregular":return"irregular";case"notPlanned":return"notPlanned";case"continual":return"continual";case"periodic":return"periodic";case"daily":return"daily";case"weekly":return"weekly";case"fortnightly":return"fortnightly";case"monthly":return"monthly";case"quarterly":return"quarterly";case"biannually":return"biannually";case"annually":return"annually";case"semimonthly":return"semimonthly";case"biennially":return"biennially"}}(n.updateFrequency))))(t)}function Gce(n,t){Ee(Hc("gmd:dateStamp"),n=>n?(n.children.forEach(t=>t.parent=null),n.children=[],n):null,gy(n.recordUpdated))(t)}function e_(n){return Ee(Xs(),fo("gmd:citation","gmd:CI_Citation"),Dc(Ee(Qi("gmd:date"),vl(Ee(Fi("gmd:CI_Date","gmd:dateType","gmd:CI_DateTypeCode"),Ps("codeListValue"),Kn(t=>t===n))))))}function t_(n,t){return Ee(Xs(),fo("gmd:citation","gmd:CI_Citation"),_n(Ee(Pi("gmd:date","gmd:CI_Date"),_n(Ee(Vn("gmd:date"),gy(n)),Ee(Pi("gmd:dateType","gmd:CI_DateTypeCode"),lr("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_DateTypeCode"),lr("codeListValue",t))))))}function Wce(n,t){e_("creation")(t),n.resourceCreated&&t_(n.resourceCreated,"creation")(t)}function jce(n,t){e_("revision")(t),n.resourceUpdated&&t_(n.resourceUpdated,"revision")(t)}function Uce(n,t){e_("publication")(t),n.resourcePublished&&t_(n.resourcePublished,"publication")(t)}function Zce(n,t){gP(n,t)}function $ce(n,t){n.spatialRepresentation?Ee(Xs(),fo("gmd:spatialRepresentationType","gmd:MD_SpatialRepresentationTypeCode"),lr("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#MD_SpatialRepresentationTypeCode"),lr("codeListValue",n.spatialRepresentation))(t):Ee(Xs(),ya("gmd:spatialRepresentationType"))(t)}function Xce(n,t){Ee(Xs(),ya("gmd:graphicOverview"),_n(...n.overviews.filter(e=>e.url).map(e=>Ee(Pi("gmd:graphicOverview","gmd:MD_BrowseGraphic"),_n(Ee(Vn("gmd:fileName"),_s(e.url.toString()))),"description"in e?_n(Ee(Vn("gmd:fileDescription"),_s(e.description))):Eo))))(t)}function Yce(n,t){Ee(fo("gmd:dataQualityInfo","gmd:DQ_DataQuality","gmd:lineage","gmd:LI_Lineage","gmd:statement"),cc(n.lineage,n.translations?.lineage,n.defaultLanguage))(t)}function qce(n){let t,e,r;"endpoint"===n.type?(t=n.url.toString(),r=function Kce(n){switch(n.accessServiceProtocol.toLowerCase()){case"wfs":return"OGC:WFS";case"wms":return"OGC:WMS";case"wps":return"OGC:WPS";default:return n.accessServiceProtocol}}(n),e="download"):(t=n.url.toString(),e="information",r="WWW:LINK");const i=_n(Ee(Vn("gmd:transferOptions"),bv("gmd:MD_DigitalTransferOptions","gmd:onLine","gmd:CI_OnlineResource"),py(t),"description"in n?_n(Ee(Vn("gmd:description"),_s(n.description))):Eo,"name"in n?_n(Ee(Vn("gmd:name"),_s(n.name))):Eo,_n(Ee(Vn("gmd:protocol"),_s(r)),Ee(Pi("gmd:function","gmd:CI_OnLineFunctionCode"),lr("codeList","http://standards.iso.org/iso/19139/resources/gmxCodelists.xml#CI_OnLineFunctionCode"),lr("codeListValue",e)))));return Ee(Pi("gmd:distributionInfo","gmd:MD_Distribution"),i)}function mP(n,t){_n(...n.onlineResources.map(qce))(t)}function Qce(n,t){(function Mce(){return ya("gmd:distributionInfo")})()(t),"dataset"!==n.kind&&"reuse"!==n.kind?mP(n,t):function Jce(n,t){_n(...n.onlineResources.map(e=>Ee(fP(),pP(e,Ece,0,n.defaultLanguage))))(t)}(n,t)}function eue(n,t){Ee(Xs(),fo("gmd:extent","gmd:EX_Extent"),ya("gmd:temporalElement"),_n(...n.temporalExtents.map(e=>Ee(Pi("gmd:temporalElement","gmd:EX_TemporalExtent"),_n("start"in e&&"end"in e?Ee(Pi("gmd:extent","gml:TimePeriod"),_n(Ee(Vn("gml:beginPosition"),Ee(e.start?Da(fy(e.start,"yyyy-MM-dd")):lr("indeterminatePosition","unknown"))),Ee(Vn("gml:endPosition"),Ee(e.end?Da(fy(e.end,"yyyy-MM-dd")):lr("indeterminatePosition","unknown"))))):Ee(Pi("gmd:extent","gml:TimeInstant","gml:timePosition"),e.start?Da(fy(e.start,"yyyy-MM-dd")):lr("indeterminatePosition","unknown")))))))(t)}function tue(n,t){Ee(Xs(),fo("gmd:extent","gmd:EX_Extent"),ya("gmd:geographicElement"),_n(...n.spatialExtents.map(s=>Ee(Vn("gmd:geographicElement"),_n((s=>s?Ee(Vn("gmd:EX_BoundingPolygon"),_n(Ee(Vn("gmd:polygon"),_n(()=>function Iae(n){const e=(new Ch).readGeometry(n),s=(new kF).writeGeometryNode(e).firstElementChild;return hx(ux((new XMLSerializer).serializeToString(s)))}(s))))):null)(s.geometry),(s=>s?Ee(Vn("gmd:EX_GeographicBoundingBox"),_n(Ee(Vn("gmd:westBoundLongitude"),my(s[0])),Ee(Vn("gmd:eastBoundLongitude"),my(s[2])),Ee(Vn("gmd:southBoundLatitude"),my(s[1])),Ee(Vn("gmd:northBoundLatitude"),my(s[3])))):null)(s.bbox),((s,o)=>s?Ee(Pi("gmd:EX_GeographicDescription","gmd:geographicIdentifier","gmd:MD_Identifier","gmd:code"),cc(s,o,n.defaultLanguage)):null)(s.description,s.translations?.description))))))(t)}function nue(n,t){if(ya("gmd:locale")(t),!n.otherLanguages?.length)return;const e=r=>Ee(Pi("gmd:locale","gmd:PT_Locale"),lr("id",r.toUpperCase()),bv("gmd:languageCode","gmd:LanguageCode"),lr("codeList","http://www.loc.gov/standards/iso639-2/"),lr("codeListValue",hh(r)??r));_n(e(n.defaultLanguage),...n.otherLanguages.map(e))(t)}function rue(n,t){const e=hh(n.defaultLanguage.toLowerCase());return Ee(fo("gmd:language","gmd:LanguageCode"),lr("codeList","http://www.loc.gov/standards/iso639-2/"),lr("codeListValue",e))(t)}function iue(n,t){Ee(Xs(),fo("gmd:citation","gmd:CI_Citation"),ya("gmd:identifier"),n.resourceIdentifier?Ee(bv("gmd:identifier","gmd:MD_Identifier","gmd:code"),_s(n.resourceIdentifier)):Eo)(t)}class n_ extends cx{constructor(){super(...arguments),this.readers={uniqueIdentifier:Vae,kind:cy,ownerOrganization:kae,recordUpdated:Nae,recordCreated:()=>{},recordPublished:()=>{},resourceIdentifier:cle,resourceUpdated:Fae,resourceCreated:Pae,resourcePublished:Bae,reuseType:Oae,title:Gae,abstract:Wae,contacts:jae,contactsForResource:Uae,keywords:Xae,topics:ele,licenses:Qae,legalConstraints:Kae,securityConstraints:qae,otherConstraints:Jae,status:Yae,updateFrequency:ile,spatialRepresentation:tle,overviews:nle,lineage:rle,onlineResources:sle,temporalExtents:ole,spatialExtents:ale,otherLanguages:lle,defaultLanguage:KF,extras:()=>{},landingPage:()=>{},translations:()=>{}},this.writers={uniqueIdentifier:Tce,kind:gP,ownerOrganization:()=>{},recordUpdated:Gce,recordCreated:()=>{},recordPublished:()=>{},resourceIdentifier:iue,resourceUpdated:jce,resourceCreated:Wce,resourcePublished:Uce,reuseType:Zce,title:zce,abstract:Rce,contacts:Hce,contactsForResource:Dce,keywords:Vce,topics:kce,licenses:Fce,legalConstraints:Pce,securityConstraints:Bce,otherConstraints:Nce,status:Lce,updateFrequency:Oce,spatialRepresentation:$ce,overviews:Xce,lineage:Yce,onlineResources:Qce,temporalExtents:eue,spatialExtents:tue,otherLanguages:nue,defaultLanguage:rue,extras:()=>{},landingPage:()=>{},translations:()=>{}}}beforeDocumentCreation(t){}afterRecordRead(t){function e(r){if("translations"in r)for(const i in r.translations){const s=r.translations[i]??{};if(t.defaultLanguage in s&&delete s[t.defaultLanguage],0!==Object.keys(s).length)for(const o in s)t.otherLanguages.includes(o)||t.otherLanguages.push(o);else delete r.translations[i]}}return e(t),t.keywords.map(e),t.onlineResources.map(e),t.licenses.map(e),t.legalConstraints.map(e),t.securityConstraints.map(e),t.otherConstraints.map(e),t.contacts.map(r=>e(r.organization)),t.contactsForResource.map(r=>e(r.organization)),e(t.ownerOrganization),"dataset"===t.kind&&t.spatialExtents.map(e),t.otherLanguages.includes(t.defaultLanguage)&&(t.otherLanguages=t.otherLanguages.filter(r=>r!==t.defaultLanguage)),t}readBaseRecord(t,e){const r=this.readers.uniqueIdentifier(t,e),i=this.readers.kind(t,e),s=this.readers.ownerOrganization(t,e),o=this.readers.title(t,e),a=this.readers.abstract(t,e),l=this.readers.contacts(t,e),c=this.readers.contactsForResource(t,e),u=this.readers.recordUpdated(t,e),d=this.readers.recordCreated(t,e),h=this.readers.recordPublished(t,e),f=this.readers.resourceCreated(t,e),g=this.readers.resourceUpdated(t,e),w=this.readers.resourcePublished(t,e),C=this.readers.keywords(t,e),I=this.readers.topics(t,e),L=this.readers.legalConstraints(t,e),ie=this.readers.otherConstraints(t,e),ne=this.readers.securityConstraints(t,e),se=this.readers.licenses(t,e),$=this.readers.overviews(t,e),Y=this.readers.landingPage(t,e),ve=this.readers.onlineResources(t,e),Re=this.readers.otherLanguages(t,e),Fe=this.readers.defaultLanguage(t,e),Ze=this.readers.resourceIdentifier(t,e);return{uniqueIdentifier:r,...Ze&&{resourceIdentifier:Ze},kind:i,otherLanguages:Re,defaultLanguage:Fe,...d&&{recordCreated:d},...h&&{recordPublished:h},recordUpdated:u,...f&&{resourceCreated:f},...g&&{resourceUpdated:g},...w&&{resourcePublished:w},title:o,abstract:a,ownerOrganization:s,contacts:l,contactsForResource:c,keywords:C,topics:I,licenses:se,legalConstraints:L,securityConstraints:ne,otherConstraints:ie,overviews:$,spatialExtents:this.readers.spatialExtents(t,e),onlineResources:ve,translations:e,...Y&&{landingPage:Y}}}readRecord(t){var e=this;return(0,La.A)(function*(){const i=hx(ux(t)),s={},o=e.readers.kind(i,s);if("dataset"===o){const a=e.readers.status(i,s),l=e.readers.spatialRepresentation(i,s),c=e.readers.temporalExtents(i,s),u=e.readers.lineage(i,s),d=e.readers.updateFrequency(i,s);return e.afterRecordRead({...e.readBaseRecord(i,s),kind:o,status:a,lineage:u,...l&&{spatialRepresentation:l},temporalExtents:c,updateFrequency:d,translations:s})}if("reuse"===o){const a=e.readers.lineage(i,s),l=e.readers.temporalExtents(i,s),c=e.readers.reuseType(i,s);return e.afterRecordRead({...e.readBaseRecord(i,s),kind:o,lineage:a,temporalExtents:l,reuseType:c})}return e.afterRecordRead({...e.readBaseRecord(i,s),kind:o})})()}writeRecord(t,e){var r=this;return(0,La.A)(function*(){let i,s;if(e){let a;const l=ux(e),c=yield r.readRecord(e);i=hx(l),s=u=>null===c||!Hw(t[u],c[u])||a&&tF(u),a=s("otherLanguages")}else i=Vn("gmd:MD_Metadata")(),s=()=>!0;return s("uniqueIdentifier")&&r.writers.uniqueIdentifier(t,i),s("reuseType")&&r.writers.reuseType(t,i),s("kind")&&r.writers.kind(t,i),s("defaultLanguage")&&r.writers.defaultLanguage(t,i),s("contacts")&&r.writers.contacts(t,i),s("ownerOrganization")&&r.writers.ownerOrganization(t,i),s("recordUpdated")&&r.writers.recordUpdated(t,i),s("recordCreated")&&r.writers.recordCreated(t,i),s("recordPublished")&&r.writers.recordPublished(t,i),(s("title")||s("translations"))&&r.writers.title(t,i),(s("abstract")||s("translations"))&&r.writers.abstract(t,i),s("resourceCreated")&&r.writers.resourceCreated(t,i),s("resourcePublished")&&r.writers.resourcePublished(t,i),s("resourceUpdated")&&r.writers.resourceUpdated(t,i),s("contactsForResource")&&r.writers.contactsForResource(t,i),s("keywords")&&r.writers.keywords(t,i),s("topics")&&r.writers.topics(t,i),s("legalConstraints")&&r.writers.legalConstraints(t,i),s("securityConstraints")&&r.writers.securityConstraints(t,i),s("licenses")&&r.writers.licenses(t,i),s("otherConstraints")&&r.writers.otherConstraints(t,i),s("onlineResources")&&r.writers.onlineResources(t,i),s("resourceIdentifier")&&r.writers.resourceIdentifier(t,i),"dataset"===t.kind&&(s("status")&&r.writers.status(t,i),s("updateFrequency")&&r.writers.updateFrequency(t,i),s("spatialRepresentation")&&r.writers.spatialRepresentation(t,i),s("overviews")&&r.writers.overviews(t,i),s("temporalExtents")&&r.writers.temporalExtents(t,i),s("spatialExtents")&&r.writers.spatialExtents(t,i),(s("lineage")||s("translations"))&&r.writers.lineage(t,i)),s("otherLanguages")&&r.writers.otherLanguages(t,i),r.beforeDocumentCreation(i),yv(dx(i))})()}}function r_(n){return Ee(Fi("mdb:metadataScope","mdb:MD_MetadataScope","mdb:resourceScope","mcc:MD_ScopeCode"),Ps("codeListValue"),Kn(t=>oy(t)))(n)}function i_(n,t,e){const r=Ee(Cn("cit:positionName"),Ls()),i=Ee(Cn("cit:name"),Ls(),Kn(h=>h?jx(h):[])),s=Fi("cit:contactInfo","cit:CI_Contact"),o=Ee(s,Fi("cit:address","cit:CI_Address")),a=Ee(o,is(Ee(Cn("cit:deliveryPoint",!1),Ls()),Ee(Cn("cit:city",!1),Ls()),Ee(Cn("cit:postalCode",!1),Ls()),Ee(Cn("cit:country",!1),Ls())),Kn(h=>h.filter(f=>!!f).join(", "))),l=Ee(s,Fi("cit:phone","cit:CI_Telephone","cit:number"),Ls()),c=Ee(o,Cn("cit:electronicMailAddress",!1),Ls()),u={name:"Missing Organization",translations:{}};let d={};return e&&(d={email:e.email,...e.address&&{address:e.address},...e.phone&&{phone:e.phone},...e.position&&{position:e.position},organization:t}),Ee(is(r,i,c,a,l),Kn(([h,[f,g],w,C,I])=>({...d,email:w||d.email||"missing@missing.com",role:n,organization:t||u,...h&&{position:h},...f&&{firstName:f},...g&&{lastName:g},...C&&{address:C},...I&&{phone:I}})))}function vP(){const n=Ee(Cn("cit:role"),jF()),t=Ee(is(n,Qi("cit:party","cit:CI_Individual")),([r,i])=>i.map(i_(r))),e=Ee(is(n,Qi("cit:party","cit:CI_Organisation")),Kn(([r,i])=>i.map(function aue(n){return Ee(is(function oue(){const n=Ee(Qi("cit:contactInfo","cit:CI_Contact","cit:onlineResource","cit:CI_OnlineResource","cit:linkage"),ph(0),sd());return Ee(is(Ee(Cn("cit:name",!1),Ca("name")),n),Kn(([[t,e],r])=>({name:t,...r&&{website:r},translations:e})))}(),i_(n),Qi("cit:individual","cit:CI_Individual")),Kn(([t,e,r])=>r.length?r.map(i=>i_(n,t,e)(i)):[{email:e.email,...e.address&&{address:e.address},...e.phone&&{phone:e.phone},...e.position&&{position:e.position},organization:t,role:n}]))}(r))),n=>n.flat());return Ee(is(t,e),n=>n.flat())}function lue(n){return Ee(Fi("mdb:metadataIdentifier","mcc:MD_Identifier","mcc:code"),Ls())(n)}function cue(n){const t=wP(n),e=yP(n);return(t.filter(i=>"point_of_contact"===i.role)[0]||t[0]||e[0]).organization}function wP(n){return Ee(Qi("mdb:contact","cit:CI_Responsibility"),dr(vP()),n=>n.flat())(n)}function yP(n){return Ee(is(Ee(Va(),Qi("mri:citation","cit:CI_Citation","cit:citedResponsibleParty")),Ee(Va(),xi("mri:pointOfContact",!1)),Ee(function sue(){return Fi("mdb:distributionInfo","mrd:MD_Distribution")}(),xi("mrd:distributorContact"))),n=>n.flat(),dr(Cn("cit:CI_Responsibility",!1)),dr(vP()),n=>n.flat())(n)}function uue(n){return Ee(Fi("mdb:metadataLinkage","cit:CI_OnlineResource","cit:linkage"),sd())(n)}function due(n,t){return Ee(Fi("mdb:resourceLineage","mrl:LI_Lineage","mrl:statement"),Ca("lineage",t),Kn(([e])=>e))(n)}function s_(n){return Ee(xi("mdb:dateInfo",!1),vl(t=>Ee(Cn("cit:CI_DateTypeCode"),Ps("codeListValue"))(t)===n),ph(0),Cn("cit:date"),Zx())}function hue(n){return s_("revision")(n)}function fue(n){return s_("creation")(n)}function pue(n){return s_("publication")(n)}function gue(n){return Ee(Fi("mdb:metadataScope","mdb:MD_MetadataScope","mdb:resourceScope","mcc:MD_ScopeCode"),Ps("codeListValue"),Kn(t=>Ux(t)))(n)}const mue=Ee(rF("mrd:MD_Distribution"),Fi("mrd:distributionFormat","mrd:MD_Format","mrd:formatSpecificationCitation","cit:CI_Citation","cit:title"),Ls(),Kn(oF));function vue(n){let t;return t="dataset"===r_(n)?$F(mue):"service"===r_(n)?XF():YF(),Ee(Qi("mrd:distributionInfo","mrd:MD_Distribution"),dr(t),n=>n.flat())(n)}function CP(){return Ee(Cn("lan:LanguageCode"),Ps("codeListValue"),Kn(n=>fh(n?.toLowerCase())??n))}function wue(n){return Ee(Cn("mdb:defaultLocale",!1),CP())(n)}function yue(n){return Ee(xi("mdb:otherLocale",!1),dr(CP()),Kn(t=>t.filter(e=>null!==e)))(n)}function Cue(n,t){Ee(fo("mdb:metadataIdentifier","mcc:MD_Identifier","mcc:code"),_s(n.uniqueIdentifier))(t)}function bP(n,t){const e=WF(n);Ee(fo("mdb:metadataScope","mdb:MD_MetadataScope","mdb:resourceScope","mcc:MD_ScopeCode"),lr("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#MD_ScopeCode"),lr("codeListValue",e),Da(e))(t)}function o_(n){return Dc(Ee(xi("mdb:dateInfo",!1),vl(Ee(Cn("cit:CI_DateTypeCode"),Ps("codeListValue"),Kn(t=>t===n)))))}function a_(n,t){return _n(Ee(Vn("mdb:dateInfo"),no("cit:CI_Date"),_n(Ee(Vn("cit:date"),gy(n)),Ee(Vn("cit:dateType"),no("cit:CI_DateTypeCode"),lr("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#CI_DateTypeCode"),lr("codeListValue",t),Da(t)))))}function bue(n,t){o_("revision")(t),a_(n.recordUpdated,"revision")(t)}function xue(n,t){o_("creation")(t),n.recordCreated&&a_(n.recordCreated,"creation")(t)}function _ue(n,t){o_("publication")(t),n.recordPublished&&a_(n.recordPublished,"publication")(t)}function l_(n){return Ee(Xs(),fo("mri:citation","cit:CI_Citation"),Dc(Ee(xi("cit:date",!1),vl(Ee(Cn("cit:CI_DateTypeCode"),Ps("codeListValue"),Kn(t=>t===n))))))}function c_(n,t){return Ee(Va(),Fi("mri:citation","cit:CI_Citation"),_n(Ee(Vn("cit:date"),no("cit:CI_Date"),_n(Ee(Vn("cit:date"),gy(n)),Ee(Vn("cit:dateType"),no("cit:CI_DateTypeCode"),lr("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#CI_DateTypeCode"),lr("codeListValue",t),Da(t))))))}function Iue(n,t){l_("revision")(t),n.resourceUpdated&&c_(n.resourceUpdated,"revision")(t)}function Aue(n,t){l_("creation")(t),n.resourceCreated&&c_(n.resourceCreated,"creation")(t)}function Mue(n,t){l_("publication")(t),n.resourcePublished&&c_(n.resourcePublished,"publication")(t)}function Eue(n,t){bP(n,t)}function u_(n,t){const e=FF(n.firstName,n.lastName),r=Ee(Vn("cit:individual"),no("cit:CI_Individual"),e?_n(Ee(Vn("cit:name"),_s(e))):Eo,n.position?_n(Ee(Vn("cit:positionName"),_s(n.position))):Eo),i=Ee(Vn("cit:contactInfo"),no("cit:CI_Contact"),_n(Ee(Vn("cit:address"),no("cit:CI_Address"),_n(Ee(Vn("cit:electronicMailAddress"),_s(n.email))),n.address?_n(Ee(Vn("cit:deliveryPoint"),_s(n.address))):Eo)),n.organization?.website?_n(Ee(Vn("cit:onlineResource"),no("cit:CI_OnlineResource"),no("cit:linkage"),_s(n.organization.website.toString()))):Eo,n.phone?_n(Ee(Vn("cit:phone"),no("cit:CI_Telephone"),no("cit:number"),_s(n.phone))):Eo),s=Ee(Vn("cit:role"),no("cit:CI_RoleCode"),lr("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#CI_RoleCode"),lr("codeListValue",qx(n.role)),Da(qx(n.role))),o=Ee(Vn("cit:party"),no("cit:CI_Organisation"),n.organization?.name?_n(Ee(Vn("cit:name"),cc(n.organization?.name,n.organization?.translations?.name,t))):Eo,_n(i,r));return _n(Ee(Vn("cit:CI_Responsibility"),_n(s,o)))}function Sue(n,t){Ee(ya("mdb:contact"),_n(...n.contacts.map(e=>Ee(Vn("gmd:contact"),u_(e,n.defaultLanguage)))))(t)}function Tue(n,t){const e=n.contactsForResource.filter(i=>"distributor"!==i.role),r=n.contactsForResource.filter(i=>"distributor"===i.role);Ee(Xs(),ya("mri:pointOfContact"),_n(...e.map(i=>Ee(Vn("mri:pointOfContact"),u_(i,n.defaultLanguage)))))(t),r.length&&Ee(function Sce(){return n=>fo("gmd:distributionInfo","gmd:MD_Distribution")(n)}(),ya("mrd:distributor"),no("mrd:distributor"),no("mrd:MD_Distributor"),_n(...r.map(i=>Ee(Vn("mrd:distributorContact"),u_(i,n.defaultLanguage)))))(t)}function zue(n,t){Ee(fo("mdb:metadataLinkage","cit:CI_OnlineResource","cit:linkage"),py(n.landingPage))(t)}function Rue(n,t){Ee(fo("mdb:resourceLineage","mrl:LI_Lineage","mrl:statement"),cc(n.lineage,n.translations?.lineage,n.defaultLanguage))(t)}function Lue(n,t){const e=dP(n.status);Ee(Xs(),fo("mri:status","mcc:MD_ProgressCode"),lr("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#MD_ProgressCode"),lr("codeListValue",e),Da(e))(t)}function Hue(n,t){n.spatialRepresentation?Ee(Xs(),fo("mri:spatialRepresentationType","mcc:MD_SpatialRepresentationTypeCode"),lr("codeList","https://standards.iso.org/iso/19115/resources/Codelists/cat/codelists.xml#MD_SpatialRepresentationTypeCode"),lr("codeListValue",n.spatialRepresentation),Da(n.spatialRepresentation))(t):Ee(Xs(),ya("mri:spatialRepresentationType"))(t)}function Vue(n){return _n(Ee(Vn("mrd:distributionFormat"),no("mrd:MD_Format"),no("mrd:formatSpecificationCitation"),no("cit:CI_Citation"),no("cit:title"),_s(n)))}function kue(n,t){(function Due(n){Ee(Qi("mdb:distributionInfo","mrd:MD_Distribution"),dr(Ee(Dc(xi("mrd:distributionFormat",!1)),Dc(xi("mrd:transferOptions",!1)))))(n),Dc(Ee(xi("mdb:distributionInfo",!1),vl(Ee(Cn("mrd:MD_Distribution"),Vw,Kn(t=>0===t.length)))))(n)})(t),"service"!==n.kind?n.onlineResources.forEach((e,r)=>{Ee(gh(Ee(Qi("gmd:distributionInfo","gmd:MD_Distribution"),ph(r)),iF(fP())),pP(e,Vue,0,n.defaultLanguage))(t)}):mP(n,t)}function xP(n){const t=hh(n.toLowerCase())??n;return Ee(Hc("lan:PT_Locale"),lr("id",n.toUpperCase()),fo("lan:language","gmd:LanguageCode"),lr("codeList","http://www.loc.gov/standards/iso639-2/"),lr("codeListValue",t))}function Fue(n,t){Ee(Hc("mdb:defaultLocale"),xP(n.defaultLanguage))(t)}function Pue(n,t){ya("mdb:otherLocale")(t),n.otherLanguages?.length&&_n(...n.otherLanguages.map(e=>Ee(Vn("mdb:otherLocale"),xP(e))))(t)}class Bue extends n_{constructor(){super(),this.readers.uniqueIdentifier=lue,this.readers.kind=r_,this.readers.recordUpdated=hue,this.readers.recordCreated=fue,this.readers.recordPublished=pue,this.readers.contacts=wP,this.readers.contactsForResource=yP,this.readers.ownerOrganization=cue,this.readers.landingPage=uue,this.readers.lineage=due,this.readers.onlineResources=vue,this.readers.defaultLanguage=wue,this.readers.otherLanguages=yue,this.readers.reuseType=gue,this.writers.uniqueIdentifier=Cue,this.writers.kind=bP,this.writers.recordUpdated=bue,this.writers.recordCreated=xue,this.writers.recordPublished=_ue,this.writers.resourceUpdated=Iue,this.writers.resourceCreated=Aue,this.writers.resourcePublished=Mue,this.writers.reuseType=Eue,this.writers.contacts=Sue,this.writers.contactsForResource=Tue,this.writers.ownerOrganization=()=>{},this.writers.landingPage=zue,this.writers.lineage=Rue,this.writers.onlineResources=kue,this.writers.status=Lue,this.writers.spatialRepresentation=Hue,this.writers.defaultLanguage=Fue,this.writers.otherLanguages=Pue}beforeDocumentCreation(t){!function uoe(n,t){(function e(r){r.name in t?r.name=t[r.name]:r.name&&nF(r.name)in t&&(r.name=`${t[nF(r.name)]}:${id(r.name)}`),r.children&&r.children.forEach(e)})(n)}(t,{gmd:"mdb","gmd:characterEncoding":"lan:characterEncoding","gmd:MD_CharacterSetCode":"lan:MD_CharacterSetCode","gmd:MD_DataIdentification":"mri:MD_DataIdentification","gmd:citation":"mri:citation","gmd:abstract":"mri:abstract","gmd:title":"cit:title","gmd:CI_Citation":"cit:CI_Citation","gmx:Anchor":"gcx:Anchor","gmd:PT_Locale":"lan:PT_Locale","gmd:PT_FreeText":"lan:PT_FreeText","gmd:LanguageCode":"lan:LanguageCode","gmd:status":"mri:status","gmd:MD_ProgressCode":"mri:MD_ProgressCode","gmd:date":"cit:date","gmd:CI_Date":"cit:CI_Date","gmd:dateType":"cit:dateType","gmd:CI_DateTypeCode":"cit:CI_DateTypeCode","gmd:CI_Responsibility":"cit:CI_Responsibility","gmd:role":"cit:role","gmd:CI_RoleCode":"cit:CI_RoleCode","gmd:descriptiveKeywords":"mri:descriptiveKeywords","gmd:MD_Keywords":"mri:MD_Keywords","gmd:type":"mri:type","gmd:MD_KeywordTypeCode":"mri:MD_KeywordTypeCode","gmd:thesaurusName":"mri:thesaurusName","gmd:keyword":"mri:keyword","gmd:identifier":"cit:identifier","gmd:MD_Identifier":"mcc:MD_Identifier","gmd:code":"mcc:code","gmd:MD_Distribution":"mrd:MD_Distribution","gmd:transferOptions":"mrd:transferOptions","gmd:MD_DigitalTransferOptions":"mrd:MD_DigitalTransferOptions","gmd:onLine":"mrd:onLine","gmd:distributionFormat":"mrd:distributionFormat","gmd:MD_Format":"mrd:MD_Format","gmd:CI_OnlineResource":"cit:CI_OnlineResource","gmd:linkage":"cit:linkage","gmd:name":"cit:name","gmd:description":"cit:description","gmd:CI_OnLineFunctionCode":"cit:CI_OnLineFunctionCode","gmd:function":"cit:function","gmd:protocol":"cit:protocol","gmd:topicCategory":"mri:topicCategory","gmd:MD_TopicCategoryCode":"mri:MD_TopicCategoryCode","gmd:resourceMaintenance":"mri:resourceMaintenance","gmd:MD_MaintenanceInformation":"mmi:MD_MaintenanceInformation","gmd:userDefinedMaintenanceFrequency":"mmi:userDefinedMaintenanceFrequency","gts:TM_PeriodDuration":"gco:TM_PeriodDuration","gmd:resourceConstraints":"mri:resourceConstraints","gmd:MD_Constraints":"mco:MD_Constraints","gmd:MD_LegalConstraints":"mco:MD_LegalConstraints","gmd:MD_SecurityConstraints":"mco:MD_SecurityConstraints","gmd:useLimitation":"mco:useLimitation","gmd:useConstraints":"mco:useConstraints","gmd:accessConstraints":"mco:accessConstraints","gmd:otherConstraints":"mco:otherConstraints","gmd:MD_RestrictionCode":"mco:MD_RestrictionCode","gmd:classification":"mco:classification","gmd:MD_ClassificationCode":"mco:MD_ClassificationCode","gmd:graphicOverview":"mri:graphicOverview","gmd:MD_BrowseGraphic":"mcc:MD_BrowseGraphic","gmd:fileName":"mcc:fileName","gmd:fileDescription":"mcc:fileDescription","gmd:URL":"gco:CharacterString"})}writeRecord(t,e){var r=()=>super.writeRecord,i=this;return(0,La.A)(function*(){let s=yield r().call(i,t,e);return s=s.replace('"http://www.isotc211.org/2005/gco"','"http://standards.iso.org/iso/19115/-3/gco/1.0"'),s})()}}var Za=B(1752);function Hs(n,t){var e=t||{namedNode:function(i){return new Za.A(i)}};return function(r){return e.namedNode(n+(r||""))}}const yl=Hs("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),Vv=(Hs("http://www.w3.org/2000/01/rdf-schema#"),Hs("http://xmlns.com/foaf/0.1/")),wi=(Hs("http://www.w3.org/2001/XMLSchema#"),Hs("http://www.w3.org/ns/dcat#")),Ys=Hs("http://purl.org/dc/terms/"),Nue=Hs("http://www.w3.org/2004/02/skos/core#"),kv=(Hs("http://schema.org/"),Hs("https://spdx.org/rdf/terms/#"),Hs("http://www.w3.org/ns/adms#"),Hs("http://www.w3.org/ns/dqv#"),Hs("http://www.w3.org/2002/07/owl#"),Hs("http://www.w3.org/2006/vcard/ns#")),Oue=(Hs("http://www.w3.org/2006/time#"),Hs("http://www.w3.org/ns/locn#"));var d_=B(9391),go=B(1322),mo=B(1308),_h=B(1853),$a=B(4009),Fl=B(6190),Zt=B(3380),od=B(9423),Cl=B(9788),Wn=B(9535),Ks=B(1551);const ad={boolean:new Za.A("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new Za.A("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new Za.A("http://www.w3.org/2001/XMLSchema#decimal"),double:new Za.A("http://www.w3.org/2001/XMLSchema#double"),integer:new Za.A("http://www.w3.org/2001/XMLSchema#integer"),langString:new Za.A("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new Za.A("http://www.w3.org/2001/XMLSchema#string")};function Gue(n,t,e){return t=(0,$a.A)(t),(0,_h.A)(n,_P()?Reflect.construct(t,e||[],(0,$a.A)(n).constructor):t.apply(n,e))}function _P(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_P=function(){return!!n})()}var uc=function(n){function t(e,r,i){var s;return(0,go.A)(this,t),s=Gue(this,t,[e]),(0,Zt.A)(s,"termType",Wn.QW),(0,Zt.A)(s,"classOrder",od.A.Literal),(0,Zt.A)(s,"datatype",ad.string),(0,Zt.A)(s,"isVar",0),(0,Zt.A)(s,"language",""),r?(s.language=r,s.datatype=ad.langString):s.datatype=i?Za.A.fromValue(i):ad.string,s}return(0,Fl.A)(t,n),(0,mo.A)(t,[{key:"copy",value:function(){return new t(this.value,this.lang,this.datatype)}},{key:"equals",value:function(r){return!!r&&this.termType===r.termType&&this.value===r.value&&this.language===r.language&&(!this.datatype&&!r.datatype||this.datatype&&this.datatype.equals(r.datatype))}},{key:"lang",get:function(){return this.language},set:function(r){this.language=r||""}},{key:"toNT",value:function(){return t.toNT(this)}},{key:"toString",value:function(){return""+this.value}}],[{key:"toNT",value:function(r){if("number"==typeof r.value)return""+r.value;if("string"!=typeof r.value)throw new Error("Value of RDF literal is not string or number: "+r.value);var i=r.value;return i='"'+(i=(i=(i=(i=i.replace(/\\/g,"\\\\")).replace(/\"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r"))+'"',r.language?i+="@"+r.language:r.datatype.equals(ad.string)||(i+="^^"+r.datatype.toCanonical()),i}},{key:"fromBoolean",value:function(r){return new t(r?"1":"0",null,ad.boolean)}},{key:"fromDate",value:function(r){if(!(r instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");var i=function(a){return(""+(100+a)).slice(1,3)};return new t(r.getUTCFullYear()+"-"+i(r.getUTCMonth()+1)+"-"+i(r.getUTCDate())+"T"+i(r.getUTCHours())+":"+i(r.getUTCMinutes())+":"+i(r.getUTCSeconds())+"Z",null,ad.dateTime)}},{key:"fromNumber",value:function(r){if("number"!=typeof r)throw new TypeError("Invalid argument to Literal.fromNumber()");var i,s=r.toString();return i=s.indexOf("e")<0&&Math.abs(r)<=Number.MAX_SAFE_INTEGER?Number.isInteger(r)?ad.integer:ad.decimal:ad.double,new t(s,null,i)}},{key:"fromValue",value:function(r){if((0,Ks.c$)(r))return r;switch((0,d_.A)(r)){case"object":if(r instanceof Date)return t.fromDate(r);case"boolean":return t.fromBoolean(r);case"number":return t.fromNumber(r);case"string":return new t(r)}throw new Error("Can't make literal from "+r+" of type "+(0,d_.A)(r))}}])}(Cl.A);function Wue(n,t,e){return t=(0,$a.A)(t),(0,_h.A)(n,IP()?Reflect.construct(t,e||[],(0,$a.A)(n).constructor):t.apply(n,e))}function IP(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IP=function(){return!!n})()}var mu=function(n){function t(e){var r;return(0,go.A)(this,t),r=Wue(this,t,[t.getId(e)]),(0,Zt.A)(r,"termType",Wn.$Q),(0,Zt.A)(r,"classOrder",od.A.BlankNode),(0,Zt.A)(r,"isBlank",1),(0,Zt.A)(r,"isVar",1),r}return(0,Fl.A)(t,n),(0,mo.A)(t,[{key:"id",get:function(){return this.value},set:function(r){this.value=r}},{key:"compareTerm",value:function(r){return this.classOrder<r.classOrder?-1:this.classOrder>r.classOrder?1:this.id<r.id?-1:this.id>r.id?1:0}},{key:"copy",value:function(r){var i=new t;return r.copyTo(this,i),i}},{key:"toCanonical",value:function(){return t.NTAnonymousNodePrefix+this.value}},{key:"toString",value:function(){return t.NTAnonymousNodePrefix+this.id}}],[{key:"getId",value:function(r){if(r){if("string"!=typeof r)throw new Error("Bad id argument to new blank node: "+r);if(r.includes("#")){var i=r.split("#");return i[i.length-1]}return r}return"n"+t.nextId++}}])}(Cl.A);function jue(n,t,e){return t=(0,$a.A)(t),(0,_h.A)(n,AP()?Reflect.construct(t,e||[],(0,$a.A)(n).constructor):t.apply(n,e))}function AP(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AP=function(){return!!n})()}function MP(n){return typeof n>"u"||null===n||(0,Ks.D0)(n)?n:Array.isArray(n)?new Ih(n):uc.fromValue(n)}(0,Zt.A)(mu,"nextId",0),(0,Zt.A)(mu,"NTAnonymousNodePrefix","_:");var Ih=function(n){function t(e){var r;return(0,go.A)(this,t),r=jue(this,t,[(mu.nextId++).toString()]),(0,Zt.A)(r,"termType",Wn.r0),(0,Zt.A)(r,"classOrder",od.A.Collection),(0,Zt.A)(r,"closed",!1),(0,Zt.A)(r,"compareTerm",mu.prototype.compareTerm),(0,Zt.A)(r,"elements",[]),(0,Zt.A)(r,"isVar",0),e&&e.length>0&&e.forEach(function(i){r.elements.push(MP(i))}),r}return(0,Fl.A)(t,n),(0,mo.A)(t,[{key:"id",get:function(){return this.value},set:function(r){this.value=r}},{key:"append",value:function(r){return this.elements.push(r)}},{key:"close",value:function(){return this.closed=!0,this.closed}},{key:"shift",value:function(){return this.elements.shift()}},{key:"substitute",value:function(r){return new t(this.elements.map(function(s){return s.substitute(r)}))}},{key:"toNT",value:function(){return t.toNT(this)}},{key:"toString",value:function(){return"("+this.elements.join(" ")+")"}},{key:"unshift",value:function(r){return this.elements.unshift(r)}}],[{key:"toNT",value:function(r){return mu.NTAnonymousNodePrefix+r.id}}])}(Cl.A);(0,Zt.A)(Ih,"termType",Wn.r0);var Fv="chrome:theSession";function Uue(n,t,e){return t=(0,$a.A)(t),(0,_h.A)(n,EP()?Reflect.construct(t,e||[],(0,$a.A)(n).constructor):t.apply(n,e))}function EP(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EP=function(){return!!n})()}new Za.A(Fv);var h_=function(n){function t(){var e;return(0,go.A)(this,t),e=Uue(this,t,[""]),(0,Zt.A)(e,"value",""),(0,Zt.A)(e,"termType",Wn.ic),(0,Zt.A)(e,"uri",Fv),e}return(0,Fl.A)(t,n),(0,mo.A)(t,[{key:"toCanonical",value:function(){return this.value}},{key:"toString",value:function(){return"DefaultGraph"}}])}(Cl.A);function SP(n){return!!n&&n.termType===Wn.ic}var Zue=new h_,f0=function(){function n(t,e,r,i){(0,go.A)(this,n),(0,Zt.A)(this,"subject",void 0),(0,Zt.A)(this,"predicate",void 0),(0,Zt.A)(this,"object",void 0),(0,Zt.A)(this,"graph",void 0),this.subject=Cl.A.fromValue(t),this.predicate=Cl.A.fromValue(e),this.object=Cl.A.fromValue(r),this.graph=null==i?Zue:Cl.A.fromValue(i)}return(0,mo.A)(n,[{key:"why",get:function(){return this.graph},set:function(e){this.graph=e}},{key:"equals",value:function(e){return e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}},{key:"substitute",value:function(e){return new n(this.subject.substitute(e),this.predicate.substitute(e),this.object.substitute(e),SP(this.graph)?this.graph:this.graph.substitute(e))}},{key:"toCanonical",value:function(){var e=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==Wn.ic&&e.push(this.graph.toCanonical()),e.join(" ")+" ."}},{key:"toNT",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}},{key:"toNQ",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),SP(this.graph)?"":this.graph.toNT()].join(" ")+" ."}},{key:"toString",value:function(){return this.toNT()}}])}(),TP=TP||console.log;function p0(n){var t;return(t=n.indexOf("#"))<0?n:n.slice(0,t)}function $ue(n){var t=/[^\/]*\/\/([^\/]*)\//.exec(n);return t?t[1]:""}function Fc(n,t){var e,r,i,o,a,l=t.indexOf("#");if(l>0&&(t=t.slice(0,l)),0===n.length)return t;if(0===n.indexOf("#"))return t+n;if(n.indexOf(":")>=0||(e=t.indexOf(":"),0===t.length))return n;if(e<0)return TP("Invalid base: "+t+" in join with given: "+n),n;if(r=t.slice(0,+e+1||9e9),0===n.indexOf("//"))return r+n;if(t.indexOf("//",e)===e+1){if((i=t.indexOf("/",e+3))<0)return t.length-e-3>0?t+"/"+n:r+n}else if((i=t.indexOf("/",e+1))<0)return t.length-e-1>0?t+"/"+n:r+n;if(0===n.indexOf("/"))return t.slice(0,i)+n;if((o=(a=t.slice(i)).lastIndexOf("/"))<0)return r+n;for(o>=0&&o<a.length-1&&(a=a.slice(0,+o+1||9e9)),a+=n;a.match(/[^\/]*\/\.\.\//);)a=a.replace(/[^\/]*\/\.\.\//,"");return a=(a=a.replace(/\.\//g,"")).replace(/\/\.$/,"/"),t.slice(0,i)+a}function zP(n){var t=n.indexOf(":");return t<0?null:n.slice(0,t)}function f_(n,t){var r,i,s,o,a,l,c,u,d,h,f,g,w=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!n)return t;if(n===t)return"";for(r=c=0,o=t.length;c<o&&t[r]===n[r];r=++c);if(n.slice(0,r).match(w)&&((i=t.indexOf("//"))<0&&(i=-2),s=t.indexOf("/",i+2),"/"!==t[s+1]&&"/"!==n[s+1]&&t.slice(0,s)===n.slice(0,s)))return t.slice(s);if("#"===t[r]&&n.length===r)return t.slice(r);for(;r>0&&"/"!==t[r-1];)r--;if(r<3||n.indexOf("//",r-2)>0||t.indexOf("//",r-2)>0||n.indexOf(":",r)>0)return t;for(l=0,u=0,a=(h=n.slice(r)).length;u<a;u++)"/"===h[u]&&l++;if(0===l&&r<t.length&&"#"===t[r])return"./"+t.slice(r);if(0===l&&r===t.length)return"./";if(g="",l>0)for(d=1,f=l;f>=1?d<=f:d>=f;f>=1?++d:--d)g+="../";return g+t.slice(r)}function Xue(n,t,e){return t=(0,$a.A)(t),(0,_h.A)(n,RP()?Reflect.construct(t,e||[],(0,$a.A)(n).constructor):t.apply(n,e))}function RP(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RP=function(){return!!n})()}var g0=function(n){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,go.A)(this,t),e=Xue(this,t,[r]),(0,Zt.A)(e,"termType",Wn.P2),(0,Zt.A)(e,"base","varid:"),(0,Zt.A)(e,"classOrder",od.A.Variable),(0,Zt.A)(e,"isVar",1),(0,Zt.A)(e,"uri",void 0),e.base="varid:",e.uri=Fc(r,e.base),e}return(0,Fl.A)(t,n),(0,mo.A)(t,[{key:"equals",value:function(r){return!!r&&this.termType===r.termType&&this.value===r.value}},{key:"hashString",value:function(){return this.toString()}},{key:"substitute",value:function(r){var i;return null!=(i=r[this.toNT()])?i:this}},{key:"toString",value:function(){return t.toString(this)}}],[{key:"toString",value:function(r){return r.uri.slice(0,r.base.length)===r.base?"?".concat(r.uri.slice(r.base.length)):"?".concat(r.uri)}}])}(Cl.A),Pl=function(n){return n.collections="COLLECTIONS",n.defaultGraphType="DEFAULT_GRAPH_TYPE",n.equalsMethod="EQUALS_METHOD",n.id="ID",n.identity="IDENTITY",n.reversibleId="REVERSIBLE_ID",n.variableType="VARIABLE_TYPE",n}({}),LP=new h_;const vu={supports:(0,Zt.A)((0,Zt.A)((0,Zt.A)((0,Zt.A)((0,Zt.A)((0,Zt.A)((0,Zt.A)({},Pl.collections,!1),Pl.defaultGraphType,!1),Pl.equalsMethod,!0),Pl.identity,!1),Pl.id,!0),Pl.reversibleId,!1),Pl.variableType,!0),blankNode:function(t){return new mu(t)},defaultGraph:function(){return LP},equals:function(t,e){return t===e||!t||!e||((0,Ks.aF)(t)||(0,Ks.aF)(e)?!(!(0,Ks.aF)(t)||!(0,Ks.aF)(e))&&this.equals(t.subject,e.subject)&&this.equals(t.predicate,e.predicate)&&this.equals(t.object,e.object)&&this.equals(t.graph,e.graph):!(!(0,Ks.D0)(t)||!(0,Ks.D0)(e))&&this.id(t)===this.id(e))},id:function(t){if(!t)return"undefined";if((0,Ks.aF)(t))return this.quadToNQ(t);switch(t.termType){case Wn.ic:return"defaultGraph";case Wn.P2:return g0.toString(t);default:var e=this.termToNQ(t);if(e)return e;throw new Error("Can't id term with type '".concat(t.termType,"'"))}},isQuad:function(t){return t instanceof f0},literal:function(t,e){if("string"!=typeof t&&!e)return uc.fromValue(t);var r="string"==typeof t?t:""+t;return"string"==typeof e?-1===e.indexOf(":")?new uc(r,e):new uc(r,null,this.namedNode(e)):new uc(r,null,e)},namedNode:function(t){return new Za.A(t)},quad:function(t,e,r,i){return new f0(t,e,r,i||LP)},triple:function(t,e,r,i){return this.quad(t,e,r,i)},quadToNQ:function(t){return"".concat(this.termToNQ(t.subject)," ").concat(this.termToNQ(t.predicate)," ").concat(this.termToNQ(t.object)," ").concat(this.termToNQ(t.graph)," .")},termToNQ:function(t){var e=this;switch(t.termType){case Wn.$Q:return"_:"+t.value;case Wn.ic:return"";case Wn.S:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case Wn.QW:return uc.toNT(t);case Wn.bD:case Wn.Kk:return"<"+t.value+">";case Wn.r0:return"("+t.elements.map(function(r){return e.termToNQ(r)}).join(" ")+")";default:throw new Error("Can't serialize nonstandard term type (was '".concat(t.termType,"')"))}},toNQ:function(t){return this.isQuad(t)?this.quadToNQ(t):this.termToNQ(t)},variable:function(t){return new g0(t)}},ba_debug=function(t){},ba_warn=function(t){},ba_info=function(t){},ba_error=function(t){};var wu=B(9223);function HP(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu;return{boolean:n.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:n.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:n.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),double:n.namedNode("http://www.w3.org/2001/XMLSchema#double"),integer:n.namedNode("http://www.w3.org/2001/XMLSchema#integer"),langString:n.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:n.namedNode("http://www.w3.org/2001/XMLSchema#string")}}HP(vu);var que=B(974),DP=B.n(que),Jue=B(6998),e1e=function(){function n(t){(0,go.A)(this,n),(0,Zt.A)(this,"_notQNameChars","\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~"),(0,Zt.A)(this,"_notNameChars",this._notQNameChars+":"),(0,Zt.A)(this,"validPrefix",new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/)),(0,Zt.A)(this,"forbidden1",new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm)),(0,Zt.A)(this,"forbidden3",new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm)),this.flags="",this.base=null,this.prefixes=[],this.namespaces=[];var e=Object.keys(DP()());for(var r in e){var i=DP()()[e[r]](""),s=e[r];this.prefixes[i]=s,this.namespaces[s]=i}this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=t,this.rdfFactory=t.rdfFactory||vu,this.xsd=HP(this.rdfFactory)}return(0,mo.A)(n,[{key:"setBase",value:function(e){return this.base=e,this}},{key:"setFlags",value:function(e){return this.flags=e||"",this}},{key:"toStr",value:function(e){var r=e.toNT();return"Graph"===e.termType&&(this.formulas[r]=e),r}},{key:"fromStr",value:function(e){if("{"===e[0]){var r=this.formulas[e];return r||console.log("No formula object for "+e),r}return this.store.fromNT(e)}},{key:"setNamespaces",value:function(e){for(var r in e)this.setPrefix(r,e[r]);return this}},{key:"setPrefix",value:function(e,r){if("default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&r){for(var i in this.prefixes)this.prefixes[i]==e&&delete this.prefixes[i];this.prefixes[r]=e,this.namespaces[e]=r}}},{key:"suggestPrefix",value:function(e,r){"default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&(!e||!r||e in this.namespaces||r in this.prefixes||(this.prefixes[r]=e,this.namespaces[e]=r))}},{key:"suggestNamespaces",value:function(e){for(var r in e)this.suggestPrefix(r,e[r]);return this}},{key:"checkIntegrity",value:function(){var e,r;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw new Error("Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!");for(r in this.prefixes)if(this.namespaces[this.prefixes[r]]!==r)throw new Error("Serializer integity error 2: "+r+", "+this.prefixs[r]+", "+this.namespaces[this.prefixes[r]]+"!")}},{key:"makeUpPrefix",value:function(e){var r=e,s=function i(c){return!(!this.validPrefix.test(c)||"ns"===c||c in this.namespaces)&&(this.prefixes[e]=c,this.namespaces[c]=e,c)}.bind(this);"#/".indexOf(r[r.length-1])>=0&&(r=r.slice(0,-1));var o=r.lastIndexOf("/");o>=0&&(r=r.slice(o+1));for(var a=0;a<r.length&&this.prefixchars.indexOf(r[a]);)a++;if((r=r.slice(0,a)).length<6&&s(r))return r;if(s(r.slice(0,3)))return r.slice(0,3);if(s(r.slice(0,2)))return r.slice(0,2);if(s(r.slice(0,4)))return r.slice(0,4);if(s(r.slice(0,1)))return r.slice(0,1);if(s(r.slice(0,5)))return r.slice(0,5);this.validPrefix.test(r)||(r="n");for(var l=0;;l++)if(s(r.slice(0,3)+l))return r.slice(0,3)+l}},{key:"rootSubjects",value:function(e){for(var r={},i={},s={},o=0;o<e.length;o++){var a=e[o],l=function(I){r.hasOwnProperty(I)||(r[I]=[]),r[I].push(a.subject)};[a.subject,a.predicate,a.object].map(function(C){"BlankNode"===C.termType?s[C.toNT()]=!0:"Collection"===C.termType&&C.elements.forEach(function(I){l(I)})}),l(e[o].object);var u=i[this.toStr(a.subject)];u||(u=[]),u.push(a),i[this.toStr(a.subject)]=u}var d=[];for(var h in i)if(i.hasOwnProperty(h)){var f=this.fromStr(h);if("BlankNode"!==f.termType||!r[f]||1!==r[f].length){d.push(f);continue}}this.incoming=r;for(var g={},w=0;w<d.length;w++)g[d[w].toNT()]=!0;return{roots:d,subjects:i,rootsHash:g,incoming:r}}},{key:"toN3",value:function(e){return this.statementsToN3(e.statements)}},{key:"explicitURI",value:function(e){return e=this.flags.indexOf("r")<0&&this.base?f_(this.base,e):this.flags.indexOf("u")>=0?function n1e(n){for(var e,t="",r=0;r<n.length;r++)(e=n.charCodeAt(r))>65535?t+="\\U"+("00000000"+e.toString(16)).slice(-8):t+=e>126?"\\u"+("0000"+e.toString(16)).slice(-4):n[r];return t}(e):function t1e(n){return encodeURI(n)}(decodeURI(e)),"<"+e+">"}},{key:"statementsToNTriples",value:function(e){var r=e.slice();r.sort();for(var i="",s="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o=this,a=this.store,l=this.rdfFactory,c=function f(g){if("Collection"!==g.termType)return o.atomicTermToN3(g);for(var w=g.elements,C=a.sym(s+"nill"),I=w.length-1;I>=0;I--){var L=l.blankNode();i+=f(L)+" "+f(a.sym(s+"first"))+" "+f(w[I])+".\n",i+=f(L)+" "+f(a.sym(s+"rest"))+" "+f(C)+".\n",C=L}return o.atomicTermToN3(C)},u=0;u<r.length;u++){var d=r[u],h="";h+=c(d.subject)+" ",h+=c(d.predicate)+" ",h+=c(d.object)+" ",this.flags.indexOf("q")>=0&&(h+=c(d.why)+" "),i+=h+=".\n"}return i}},{key:"statementsToN3",value:function(e){var s=this.store,o={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"};e.sort(function(Re,Fe){return wu.VQ(Re,Fe,s,o)}),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var l={};this.flags.indexOf("s")<0&&(l["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(l["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(l["http://www.w3.org/2000/10/swap/log#implies"]="=>");var c=function(Re){for(var Fe="",Ze=0;Ze<Re;Ze++)Fe+=" ";return Fe},u=function ve(Re){for(var Fe="",Ze=0;Ze<Re.length;Ze++){var De=Re[Ze],st="string"==typeof De?De:ve(De);if(0!==Ze){var ht=Fe.slice(-1)||" ";","===st||";"===st||"."===st&&!"0123456789.:".includes(ht)||(Fe+=" ")}Fe+=st}return Fe},f=function h(ve){for(var Re=this.rootSubjects(ve),Fe=Re.roots,Ze=[],De=0;De<Fe.length;De++)Ze.push(g(Fe[De],Re));return Ze}.bind(this);function g(ve,Re){return"BlankNode"!==ve.termType||Re.incoming[ve]?[ne(ve,Re)].concat([C(ve,Re)]).concat(["."]):L(ve,Re,!0).concat(["."])}var C=function w(ve,Re){var Fe=[],Ze=null,De=Re.subjects[this.toStr(ve)]||[];if(typeof De>"u")throw new Error("Cant find statements for "+ve);for(var st=[],ht=0;ht<De.length;ht++){var ot=De[ht];ot.predicate.uri===Ze?st.push(","):(Ze&&(Fe=Fe.concat([st]).concat([";"]),st=[]),Fe.push(l[ot.predicate.uri]?l[ot.predicate.uri]:ne(ot.predicate,Re))),Ze=ot.predicate.uri,st.push(L(ot.object,Re))}return Fe.concat([st])}.bind(this),L=function I(ve,Re,Fe){return"BlankNode"!==ve.termType||!Fe&&void 0!==Re.rootsHash[ve.toNT()]?ne(ve,Re):Re.subjects[this.toStr(ve)]?["[",C(ve,Re),"]"]:"[]"}.bind(this);n.prototype.termToN3=ne;var ne=function ie(ve,Re){var Fe,Ze;switch(ve.termType){case"Graph":return(Ze=(Ze=["{"]).concat(f(ve.statements))).concat(["}"]);case"Collection":for(Ze=["("],Fe=0;Fe<ve.elements.length;Fe++)Ze.push([L(ve.elements[Fe],Re)]);return Ze.push(")"),Ze;default:return this.atomicTermToN3(ve)}}.bind(this),$=function se(){var ve="";for(var Re in this.flags.indexOf("d")<0&&this.defaultNamespace&&(ve+="@prefix : "+this.explicitURI(this.defaultNamespace)+".\n"),this.prefixes)this.prefixes.hasOwnProperty(Re)&&this.namespacesUsed[Re]&&(ve+="@prefix "+this.prefixes[Re]+": "+this.explicitURI(Re)+".\n");return ve+"\n"}.bind(this),Y=f(e);return $()+function ve(Re,Fe){var Ze="",De=1e5;void 0===Fe&&(Fe=-1);for(var st=0;st<Re.length;st++){var ht=Re[st];if("string"!=typeof ht){var ot=ve(ht,Fe+1);if(ot.length<10*(80-4*Fe)&&ot.indexOf('"""')<0){var nt=u(ht);nt.length<80-4*Fe&&(ht=nt,ot="")}ot&&(De=1e4),Ze+=ot}if("string"==typeof ht){if(1===ht.length&&"\n"===Ze.slice(-1)&&",.;".indexOf(ht)>=0){Ze=Ze.slice(0,-1),"."==ht&&"0123456789.:".includes(Ze.charAt(Ze.length-1))&&(Ze+=" ",De+=1),Ze+=ht+"\n",De+=1;continue}if(De<4*Fe+4||De+ht.length+1<80&&";.".indexOf(Ze[Ze.length-2])<0)Ze=Ze.slice(0,-1)+" "+ht+"\n",De+=ht.length+1;else{var It=c(4*Fe)+ht;Ze+=It+"\n",De=It.length,Fe<0&&(Ze+="\n",De=1e5)}}}return Ze}(Y)}},{key:"atomicTermToN3",value:function(e,r){switch(e.termType){case"BlankNode":case"Variable":return e.toNT();case"Literal":var i=e.value;if("string"!=typeof i)throw new TypeError("Value of RDF literal node must be a string");if(e.datatype&&this.flags.indexOf("x")<0)switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return i;case"http://www.w3.org/2001/XMLSchema#decimal":return i.indexOf(".")<0&&(i+=".0"),i;case"http://www.w3.org/2001/XMLSchema#double":var s=i.toLowerCase().indexOf("e")>0;return i.indexOf(".")<0&&!s&&(i+=".0"),s||(i+="e0"),i;case"http://www.w3.org/2001/XMLSchema#boolean":return"1"===e.value?"true":"false"}var o=this.stringToN3(e.value);return e.language?o+="@"+e.language:e.datatype.equals(this.xsd.string)||(o+="^^"+this.atomicTermToN3(e.datatype,r)),o;case"NamedNode":return this.symbolToN3(e);case"DefaultGraph":return"";default:throw new Error("Internal: atomicTermToN3 cannot handle "+e+" of termType: "+e.termType)}}},{key:"stringToN3",value:function(e,r){r||(r="e");var s,o,a,l,c,i="";for(e.length>20&&'"'!==e.slice(-1)&&r.indexOf("n")<0&&(e.indexOf("\n")>0||e.indexOf('"')>0)?(l='"""',c=this.forbidden3):(l='"',c=this.forbidden1),s=0;s<e.length&&(c.lastIndex=0,null!=c.exec(e.slice(s)));){i+=e.slice(s,o=s+c.lastIndex-1);var d=e[o];'"'===d&&'"""'===l&&'"""'!==e.slice(o,o+3)?i+=d:(a='\b\f\r\t\v\n\\"'.indexOf(d))>=0?i+="\\"+'bfrtvn\\"'[a]:r.indexOf("e")>=0?i+="\\u"+("000"+d.charCodeAt(0).toString(16).toLowerCase()).slice(-4):i+=d,s=o+1}return l+i+e.slice(s)+l}},{key:"symbolToN3",value:function(e){var r=e.uri,i=r.indexOf("#");if(i<0&&this.flags.indexOf("/")<0&&(i=r.lastIndexOf("/")),i>=0&&this.flags.indexOf("p")<0&&(0===r.indexOf("http")||0===r.indexOf("ws")||0===r.indexOf("file"))){for(var s=!0,o=i+1;o<r.length;o++)if(this._notNameChars.indexOf(r[o])>=0){s=!1;break}if(s){var a=r.slice(i+1),l=r.slice(0,i+1);if(this.defaultNamespace&&this.defaultNamespace===l&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(a)<0?a:":"+a;var c=this.prefixes[l];if(c||(c=this.makeUpPrefix(l)),c)return this.namespacesUsed[l]=!0,c+":"+a}}return this.explicitURI(r)}},{key:"writeStore",value:function(e){var r=this.store,i=r.fetcher,s=i&&i.appNode,o=this.store.index[3];for(var a in o){var l=r.fromNT(a);s&&l.equals(s)||e("\n"+this.atomicTermToN3(l)+" "+this.atomicTermToN3(r.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(r.statementsMatching(void 0,void 0,void 0,l))+" }.\n")}r.statementsMatching(void 0,r.sym("http://www.w3.org/2007/ont/link#requestedURI")).map(function(d){e("\n<"+d.object.value+"> log:metadata {\n");var h=r.statementsMatching(void 0,void 0,void 0,d.subject);e(this.statementsToN3(this.statementsToN3(h))),e("}.\n")});var c=[];s&&c.push(s);var u=[];c.map(function(d){u=u.concat(r.statementsMatching(void 0,void 0,void 0,d))}),e(this.statementsToN3(u))}},{key:"statementsToXML",value:function(e){var s=[];s["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var o="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",a=function(De){for(var st="",ht=0;ht<De;ht++)st+=" ";return st},l=function Ze(De){for(var st="",ht=0;ht<De.length;ht++){var ot=De[ht];st+="string"==typeof ot?ot:Ze(ot)}return st},d=function u(Ze){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var De=this.rootSubjects(Ze),st=De.roots,ht=[],ot=0;ot<st.length;ot++)ht.push(C(st[ot],De));return ht}.bind(this);function h(Ze){return typeof Ze>"u"?"@@@undefined@@@@":Ze.replace(/[&<"]/g,function(De){switch(De[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}})}var g=function f(Ze){return h(this.base?f_(this.base,Ze.uri):Ze.uri)}.bind(this),C=function w(Ze,De){var ht,ot,nt,It,st=[],Dt=De.subjects[this.toStr(Ze)];if(typeof Dt>"u")return ie(Ze,De);Dt.sort(function(Zn,wr){var Wr=Zn.predicate.uri,yr=wr.predicate.uri;if(Wr.substring(0,44)===o||yr.substring(0,44)===o)return Wr.localeCompare(yr);var ai=Wr.substring(44),Ai=yr.substring(44),Yi=parseInt(ai,10),cn=parseInt(Ai,10);return isNaN(Yi)||isNaN(cn)||Yi!==ai||cn!==Ai?Wr.localeCompare(yr):Yi-cn});for(var bn=0;bn<Dt.length;bn++)if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==(nt=Dt[bn]).predicate.uri||ht||"NamedNode"!==nt.object.termType){if((It=nt.predicate).uri.substr(0,44)===o){var Fn=It.uri.substr(44);Fn===parseInt(Fn,10).toString()&&(It=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(ot=se(It),nt.object.termType){case"BlankNode":st=st.concat(1===De.incoming[nt.object].length?["<"+ot+' rdf:parseType="Resource">',C(nt.object,De),"</"+ot+">"]:["<"+ot+' rdf:nodeID="'+nt.object.toNT().slice(2)+'"/>']);break;case"NamedNode":st=st.concat(["<"+ot+' rdf:resource="'+g(nt.object)+'"/>']);break;case"Literal":st=st.concat(["<"+ot+(nt.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+h(nt.object.datatype.uri)+'"')+(nt.object.language?' xml:lang="'+nt.object.language+'"':"")+">"+h(nt.object.value)+"</"+ot+">"]);break;case"Collection":st=st.concat(["<"+ot+' rdf:parseType="Collection">',I(nt.object,De),"</"+ot+">"]);break;default:throw new Error("Can't serialize object of type "+nt.object.termType+" into XML")}}else ht=nt.object;var Ht=ht?se(ht):"rdf:Description",Pn="";return"BlankNode"===Ze.termType?(!De.incoming[Ze]||1!==De.incoming[Ze].length)&&(Pn=' rdf:nodeID="'+Ze.toNT().slice(2)+'"'):Pn=' rdf:about="'+g(Ze)+'"',["<"+Ht+Pn+">"].concat([st]).concat(["</"+Ht+">"])}.bind(this);function I(Ze,De){for(var st=[],ht=0;ht<Ze.elements.length;ht++)st.push(C(Ze.elements[ht],De));return st}var ie=function L(Ze,De){var st=[],ht=De.subjects[this.toStr(Ze)];if(!ht)return st;ht.sort();for(var ot=0;ot<ht.length;ot++){var nt=ht[ot];switch(nt.object.termType){case"BlankNode":st=De.rootsHash[nt.object.toNT()]?st.concat(["<"+se(nt.predicate)+' rdf:nodeID="'+nt.object.toNT().slice(2)+'">',"</"+se(nt.predicate)+">"]):st.concat(["<"+se(nt.predicate)+' rdf:parseType="Resource">',ie(nt.object,De),"</"+se(nt.predicate)+">"]);break;case"NamedNode":st=st.concat(["<"+se(nt.predicate)+' rdf:resource="'+g(nt.object)+'"/>']);break;case"Literal":st=st.concat(["<"+se(nt.predicate)+(nt.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+h(nt.object.datatype.value)+'"')+(nt.object.language?' xml:lang="'+nt.object.language+'"':"")+">"+h(nt.object.value)+"</"+se(nt.predicate)+">"]);break;case"Collection":st=st.concat(["<"+se(nt.predicate)+' rdf:parseType="Collection">',I(nt.object,De),"</"+se(nt.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+nt.object.termType+" into XML")}}return st}.bind(this),se=function ne(Ze){var De=Ze.uri,st=De.indexOf("#");if(st<0&&this.flags.indexOf("/")<0&&(st=De.lastIndexOf("/")),st<0)throw new Error("Cannot make qname out of <"+De+">");for(var ht=st+1;ht<De.length;ht++)if(this._notNameChars.indexOf(De[ht])>=0)throw new Error('Invalid character "'+De[ht]+'" cannot be in XML qname for URI: '+De);var ot=De.slice(st+1),nt=De.slice(0,st+1);if(this.defaultNamespace&&this.defaultNamespace===nt&&this.flags.indexOf("d")<0)return ot;var It=this.prefixes[nt];return It||(It=this.makeUpPrefix(nt)),s[nt]=!0,It+":"+ot}.bind(this),$=d(e),Y="<rdf:RDF";for(var ve in this.defaultNamespace&&(Y+=' xmlns="'+h(this.defaultNamespace)+'"'),s)if(s.hasOwnProperty(ve)){var Re=this.base&&this.flags.includes("z")?f_(this.base,ve):ve;Y+="\n xmlns:"+this.prefixes[ve]+'="'+h(Re)+'"'}return function Ze(De,st){var ot,ht="",nt=1e5;st||(st=0);for(var It=0;It<De.length;It++){var Dt=De[It];if("string"!=typeof Dt){var bn=Ze(Dt,st+1);bn.length<10*(80-4*st)&&bn.indexOf('"""')<0&&(ot=l(Dt)).length<80-4*st&&(Dt="   "+ot,bn=""),bn&&(nt=1e4),ht+=bn}"string"==typeof Dt&&(nt<4*st+4?(ht=ht.slice(0,-1)+" "+Dt+"\n",nt+=Dt.length+1):(ht+=(ot=a(4*st)+Dt)+"\n",nt=ot.length))}return ht}([Y+=">",$,"</rdf:RDF>"],-1)}},{key:"statementsToJsonld",value:function(e){var r=this.statementsToN3(e),i=Jue.parse(r);return JSON.stringify(i,null,2)}}])}();function vy(n,t,e,r,i,s){e=e||n?.value;var o=s||{};r=r||Wn.sT;try{var l=function Que(n){return new e1e(n)}(t);o.flags&&l.setFlags(o.flags);var c=t.statementsMatching(void 0,void 0,void 0,n);switch("namespaces"in t&&l.suggestNamespaces(t.namespaces),o.namespaces&&l.setNamespaces(o.namespaces),l.setBase(e),r){case Wn.JG:return u(null,l.statementsToXML(c));case Wn.ny:case Wn.MG:return u(null,l.statementsToN3(c));case Wn.sT:case Wn.hu:return l.setFlags("si"),u(null,l.statementsToN3(c));case Wn.bM:return l.setFlags("deinprstux"),u(null,l.statementsToNTriples(c));case Wn.i2:return l.setFlags("si dr"),u(null,l.statementsToJsonld(c));case Wn._0:case Wn.BR:return l.setFlags("deinprstux q"),u(null,l.statementsToNTriples(c));default:throw new Error("Serialize: Content-type "+r+" not supported for data write.")}}catch(d){if(i)return i(d,void 0);throw d}function u(d,h){return i?void i(d,h):h}}var r1e=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"],wy={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function VP(n,t,e){var r=[];return e.reduce(function(i,s,o,a){var l;return r.push(n.quad(i,n.namedNode(wy.first),a[o])),o<a.length-1?(l=n.blankNode(),r.push(n.quad(i,n.namedNode(wy.rest),l))):r.push(n.quad(i,n.namedNode(wy.rest),n.namedNode(wy.nil))),l},t),r}function Pc(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=n.length;for(e<0&&(e=r+e);e<r;e++)if(n[e]===t)return e;return-1}function kP(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function o1e(n,t,e){return t=(0,$a.A)(t),(0,_h.A)(n,FP()?Reflect.construct(t,e||[],(0,$a.A)(n).constructor):t.apply(n,e))}function FP(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FP=function(){return!!n})()}var PP=function(n){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,go.A)(this,t),(e=o1e(this,t,[""])).statements=r,e.constraints=i,e.initBindings=s,e.optional=o,(0,Zt.A)(e,"termType",Wn.bD),(0,Zt.A)(e,"classOrder",od.A.Graph),(0,Zt.A)(e,"fetcher",void 0),(0,Zt.A)(e,"isVar",0),(0,Zt.A)(e,"ns",Hs),(0,Zt.A)(e,"rdfFactory",void 0),e.rdfFactory=a&&a.rdfFactory||vu;var c,l=function i1e(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function s1e(n,t){if(n){if("string"==typeof n)return kP(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return kP(n,t)}}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){e=e.call(n)},n:function(){var c=e.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&null!=e.return&&e.return()}finally{if(o)throw a}}}}(r1e);try{var u=function(){var h=c.value;e[h]=function(){var f;return(f=e.rdfFactory)[h].apply(f,arguments)}};for(l.s();!(c=l.n()).done;)u()}catch(d){l.e(d)}finally{l.f()}return e}return(0,Fl.A)(t,n),(0,mo.A)(t,[{key:"add",value:function(r,i,s,o){var a=this;return 1===arguments.length&&r.forEach(function(l){return a.add(l.subject,l.predicate,l.object,l.graph)}),this.statements.push(this.rdfFactory.quad(r,i,s,o))}},{key:"addStatement",value:function(r){return this.add(r)}},{key:"bnode",value:function(r){return this.rdfFactory.blankNode(r)}},{key:"addAll",value:function(r){var i=this;r.forEach(function(s){i.add(s.subject,s.predicate,s.object,s.graph)})}},{key:"any",value:function(r,i,s,o){var a=this.anyStatementMatching(r,i,s,o);return null==a?null:null==r?a.subject:null==i?a.predicate:null==s?a.object:null}},{key:"anyValue",value:function(r,i,s,o){var a=this.any(r,i,s,o);return a?a.value:void 0}},{key:"anyJS",value:function(r,i,s,o){var a=this.any(r,i,s,o);return a?Cl.A.toJS(a):void 0}},{key:"anyStatementMatching",value:function(r,i,s,o){var a=this.statementsMatching(r,i,s,o,!0);if(a&&0!==a.length)return a[0]}},{key:"id",value:function(r){return this.rdfFactory.id(r)}},{key:"statementsMatching",value:function(r,i,s,o,a){var l=this.statements.filter(function(c){return(!r||r.equals(c.subject))&&(!i||i.equals(c.predicate))&&(!s||s.equals(c.object))&&(!o||o.equals(c.graph))});return a?0===l.length?[]:[l[0]]:l}},{key:"bottomTypeURIs",value:function(r){var i,s,a,l,u,d;for(var h in i=[],r)if(r.hasOwnProperty(h)){for(d=r[h],s=!0,a=0,l=(u=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(h))).length;a<l;a++)if(u[a].uri in r){s=!1;break}s&&(i[h]=d)}return i}},{key:"collection",value:function(){return new Ih}},{key:"each",value:function(r,i,s,o){var a=[],l=this.statementsMatching(r,i,s,o,!1);if(null==r)for(var c=0,u=l.length;c<u;c++)a.push(l[c].subject);else if(null==i)for(var d=0,h=l.length;d<h;d++)a.push(l[d].predicate);else if(null==s)for(var f=0,g=l.length;f<g;f++)a.push(l[f].object);else if(null==o)for(var w=0,C=l.length;w<C;w++)a.push(new Za.A(l[w].graph.value));return a}},{key:"equals",value:function(r){return!!r&&this.hashString()===r.hashString()}},{key:"findMembersNT",value:function(r){var i,s,o,a,c,u,d,h,f,g,w,C,I;for(var L in(w={})[r.toNT()]=!0,a={},c=this.transitiveClosure(w,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0))if(c.hasOwnProperty(L)){for(var ie=0,ne=(u=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(L))).length;ie<ne;ie++)a[(C=u[ie]).subject.toNT()]=C;for(var se=0,$=(d=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(L))).length;se<$;se++)for(o=0,i=(h=this.statementsMatching(void 0,d[se])).length;o<i;o++)a[(C=h[o]).subject.toNT()]=C;for(var Y=0,ve=(f=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(L))).length;Y<ve;Y++)for(I=0,s=(g=this.statementsMatching(void 0,f[Y])).length;I<s;I++)a[(C=g[I]).object.toNT()]=C}return a}},{key:"findMemberURIs",value:function(r){return this.NTtoURI(this.findMembersNT(r))}},{key:"findSubClassesNT",value:function(r){var i={};return i[r.toNT()]=!0,this.transitiveClosure(i,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}},{key:"findSuperClassesNT",value:function(r){var i={};return i[r.toNT()]=!0,this.transitiveClosure(i,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypesNT",value:function(r){var a,l,c,u,d,h;h=[];for(var f=0,g=(a=this.statementsMatching(r,void 0,void 0)).length;f<g;f++)if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===(d=a[f]).predicate.uri)h[d.object.toNT()]=d;else for(var w=0,C=(l=this.each(d.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"))).length;w<C;w++)h[l[w].toNT()]=d;for(var I=0,L=(c=this.statementsMatching(void 0,void 0,r)).length;I<L;I++)for(var ie=0,ne=(u=this.each((d=c[I]).predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"))).length;ie<ne;ie++)h[u[ie].toNT()]=d;return this.transitiveClosure(h,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypeURIs",value:function(r){return this.NTtoURI(this.findTypesNT(r))}},{key:"connectedStatements",value:function(r,i,s){s=s||[];for(var o=[r],a={},l={},c=[],u=this,d=function(f){var g=function(I){"BlankNode"===I.termType&&!a[I.value]&&(a[I.value]=!0,o.push(I))},w=u.statementsMatching(null,null,f,i).concat(u.statementsMatching(f,null,null,i));(w=w.filter(function(C){if(s[C.predicate.value])return!1;var I=C.toNT();return!l[I]&&(l[I]=!0,!0)})).forEach(function(C){g(C.subject),g(C.object)}),c=c.concat(w)};o.length;)d(o.shift());return c}},{key:"formula",value:function(r){return new t}},{key:"fromNT",value:function(r){var i,s,o;switch(r[0]){case"<":return this.sym(r.slice(1,-1));case'"':if(o=void 0,i=void 0,(s=r.lastIndexOf('"'))<r.length-1)if("@"===r[s+1])o=r.slice(s+2);else{if("^^"!==r.slice(s+1,s+3))throw new Error("Can't convert string from NT: "+r);i=this.fromNT(r.slice(s+3))}return r=(r=(r=(r=r.slice(1,s)).replace(/\\"/g,'"')).replace(/\\n/g,"\n")).replace(/\\\\/g,"\\"),this.rdfFactory.literal(r,o||i);case"_":return this.rdfFactory.blankNode(r.slice(2));case"?":return new g0(r.slice(1))}throw new Error("Can't convert from NT: "+r)}},{key:"holds",value:function(r,i,s,o){var a;if(1===arguments.length){if(!r)return!0;if(r instanceof Array){for(a=0;a<r.length;a++)if(!this.holds(r[a]))return!1;return!0}if((0,Ks.SH)(r))return this.holds(r.subject,r.predicate,r.object,r.graph);if(r.statements)return this.holds(r.statements)}return null!=this.anyStatementMatching(r,i,s,o)}},{key:"holdsStatement",value:function(r){return this.holds(r.subject,r.predicate,r.object,r.graph)}},{key:"list",value:function(r,i){if(i.rdfFactory.supports.COLLECTIONS){var s=i.rdfFactory.collection();return r.forEach(function(l){s.append(l)}),s}var o=i.rdfFactory.blankNode(),a=VP(i.rdfFactory,o,r);return i.addAll(a),o}},{key:"NTtoURI",value:function(r){var i,s,o={};for(i in r)r.hasOwnProperty(i)&&(s=r[i],"<"===i[0]&&(o[i.slice(1,-1)]=s));return o}},{key:"serialize",value:function(r,i,s,o){return vy(s,this,r,i,void 0,o)}},{key:"substitute",value:function(r){var i=this.statements.map(function(o){return o.substitute(r)}),s=new t;return s.addAll(i),s}},{key:"sym",value:function(r,i){if(i)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(r)}},{key:"the",value:function(r,i,s,o){var a=this.any(r,i,s,o);return null==a&&ba_error("No value found for the() {"+r+" "+i+" "+s+"}."),a}},{key:"transitiveClosure",value:function(r,i,s){var a,l,c,u,d,h={};Object.assign(h,r);for(var f={};;){if(null==(d=function(){for(var g in h)if(h.hasOwnProperty(g))return g}()))return f;for(a=0,l=(u=s?this.each(void 0,i,this.fromNT(d)):this.each(this.fromNT(d),i)).length;a<l;a++)!((c=u[a].toNT())in f)&&(c in h||(h[c]=h[d]));f[d]=h[d],delete h[d]}}},{key:"topTypeURIs",value:function(r){var i,o,a,l,c,u,d;for(o in u=[],r)if(r.hasOwnProperty(o)){for(d=r[o],l=0,i=0,a=(c=this.each(this.rdfFactory.namedNode(o),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"))).length;i<a;i++)if("http://www.w3.org/2000/01/rdf-schema#Resource"!==c[i].uri){l++;break}l||(u[o]=d)}return u["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete u["http://www.w3.org/2000/01/rdf-schema#Resource"],u["http://www.w3.org/2002/07/owl#Thing"]&&delete u["http://www.w3.org/2002/07/owl#Thing"],u}},{key:"toString",value:function(){return"{"+this.statements.join("\n")+"}"}},{key:"variable",value:function(r){return new g0(r)}},{key:"whether",value:function(r,i,s,o){return this.statementsMatching(r,i,s,o,!1).length}}])}(Cl.A);Cl.A.fromValue=MP;const ld=Cl.A;var zp={xsd:Hs("http://www.w3.org/2001/XMLSchema#")};Cl.A.toJS=function(n){return(0,Ks.P3)(n)?n.elements.map(Cl.A.toJS):(0,Ks.c$)(n)?n.datatype.equals(zp.xsd("boolean"))?"1"===n.value||"true"===n.value:n.datatype.equals(zp.xsd("dateTime"))||n.datatype.equals(zp.xsd("date"))?new Date(n.value):n.datatype.equals(zp.xsd("integer"))||n.datatype.equals(zp.xsd("float"))||n.datatype.equals(zp.xsd("decimal"))?Number(n.value):n.value:n};var a1e=(0,mo.A)(function n(t,e){(0,go.A)(this,n),this.pat=new Bv,this.vars=[],this.name=t,this.id=e});function BP(n,t,e,r){function i(se){var Y,$="";for(Y in se)se.hasOwnProperty(Y)&&($+="    "+Y+" -> "+se[Y]);return $}function s(se){var Y,$="Bindings: ",ve=se.length;for(Y=0;Y<ve;Y++)$+=i(se[Y][0])+";\n\t";return $}function a(se,$,Y,ve){var Re;if(se.length!==$.length)return[];if(!se.length)return[[[],null]];var Fe=function o(se,$,Y,ve){var Re=Y[se];if(void 0===Re){if(se.isVar){var Fe=[];return Fe[se]=$,[[Fe,null]]}Re=se}if(!Re.complexType)return ve.redirections[Re]&&(Re=ve.redirections[Re]),ve.redirections[$]&&($=ve.redirections[$]),Re.equals($)||Re.uri&&Re.uri===Fv?[[[],null]]:[];if(se instanceof Array)return $ instanceof Array?a(se,$,Y):[];throw new Error("query.js: oops - code not written yet")}(se[0],$[0],Y,ve);if(0===Fe.length)return Fe;var De,ht,ot,nt,It,Dt,bn,Ze=[],st=Fe.length;for(De=0;De<st;De++){for(It in bn=[],ht=Fe[De][0])ht.hasOwnProperty(It)&&(bn[It]=ht[It]);for(It in Y)Y.hasOwnProperty(It)&&(bn[It]=Y[It]);for(nt=(Re=a(se.slice(1),$.slice(1),bn,ve)).length,ot=0;ot<nt;ot++){for(It in Dt=Re[ot][0],ht)ht.hasOwnProperty(It)&&(Dt[It]=ht[It]);Ze.push([Dt,null])}}return Ze}function l(se,$){var Y=$[se];return void 0===Y?se:Y}function c(se,$){var ve,Y={};for(ve in se)se.hasOwnProperty(ve)&&(Y[ve]=se[ve]);for(ve in $)$.hasOwnProperty(ve)&&(Y[ve]=$[ve]);return Y}function u(se,$){return this.trunkBindings=$,this.originalCallback=se,this.branches=[],this}function d(se,$){return this.count=0,this.success=!1,this.done=!1,this.callback=se,this.onDone=$,this}u.prototype.checkAllDone=function(){var se;for(se=0;se<this.branches.length;se++)if(!this.branches[se].done)return;ba_debug("OPTIONAL BIDNINGS ALL DONE:"),this.doCallBacks(this.branches.length-1,this.trunkBindings)},u.prototype.doCallBacks=function(se,$){var Y;if(se<0)return this.originalCallback($);for(Y=0;Y<this.branches[se].results.length;Y++)this.doCallBacks(se-1,c($,this.branches[se].results[Y]))},d.prototype.reportMatch=function(se){this.callback(se),this.success=!0},d.prototype.reportDone=function(){this.done=!0,ba_info("Mandatory query branch finished.***"),void 0!==this.onDone&&this.onDone()};var h=function($){return this.count=0,this.done=!1,this.results=[],this.junction=$,$.branches.push(this),this};function f(se,$,Y){var ve,Re,Fe,Ze;for($.nvars=0,$.index=null,ve=[$.subject,$.predicate,$.object,$.why],Ze=[se.subjectIndex,se.predicateIndex,se.objectIndex,se.whyIndex],Fe=0;Fe<4;Fe++){var De=ve[Fe];if(!De.uri||De.uri!==Fv)if(De.isVar&&void 0===Y[De])$.nvars++;else{if(De=l(ve[Fe],Y),se.redirections[se.id(De)]&&(De=se.redirections[se.id(De)]),!(Re=Ze[Fe][se.id(De)]))return $.index=[],!1;(null===$.index||$.index.length>Re.length)&&($.index=Re)}}return null===$.index&&($.index=se.statements),!0}function g(se,$){return se.nvars!==$.nvars?se.nvars-$.nvars:se.index.length-$.index.length}h.prototype.reportMatch=function(se){this.results.push(se)},h.prototype.reportDone=function(){ba_debug("Optional branch finished - results.length = "+this.results.length),0===this.results.length&&(this.results.push({}),ba_debug("Optional branch FAILED - that's OK.")),this.done=!0,this.junction.checkAllDone()};var C=function se($,Y,ve,Re,Fe,Ze,De){ba_debug("Match begins, Branch count now: "+De.count+" for "+De.pattern_debug);var st=Y.statements;if(0===st.length){if(ba_debug("FOUND MATCH WITH BINDINGS:"+i(ve)),0===Y.optional.length)De.reportMatch(ve);else{ba_debug("OPTIONAL: "+Y.optional);var nt,ht=new u(t,ve),ot=[];for(nt=0;nt<Y.optional.length;nt++)ot[nt]=new h(ht),ot[nt].pattern_debug=Y.optional[nt];for(nt=0;nt<Y.optional.length;nt++)ot[nt].count=ot[nt].count+1,se($,Y.optional[nt],ve,"",Fe,t,ot[nt])}return De.count--,void ba_debug("Match ends -- success , Branch count now: "+De.count+" for "+De.pattern_debug)}var It,Dt,bn=st.length;if(Fe){var Lt=function(Pn,Zn){var wr=Pn.uri.split("#")[0];Fe.nowOrWhenFetched(wr,void 0,function(Wr,yr,ai){Wr||console.log("Error following link to <"+Pn.uri+"> in query: "+yr),se($,Y,ve,Re,Fe,Ze,De)})};for(Dt=0;Dt<bn;Dt++){if(void 0!==ve[(It=st[Dt]).subject]&&ve[It.subject].uri&&Fe&&"unrequested"===Fe.getState(p0(ve[It.subject].uri)))return void Lt(ve[It.subject]);if(void 0!==ve[It.object]&&ve[It.object].uri&&Fe&&"unrequested"===Fe.getState(p0(ve[It.object].uri)))return void Lt(ve[It.object])}}L($,Y,ve,Re,Fe,Ze,De)},I=function($,Y){var Re,Fe,ve=!0;for(Re in $)$.hasOwnProperty(Re)&&Y[Re]&&(Fe=Y[Re].test)&&!Fe($[Re])&&(ve=!1);return ve},L=function($,Y,ve,Re,Fe,Ze,De){var ot,nt,It,Dt,bn,Fn,Lt,st=Y.statements,ht=st.length;for(ot=0;ot<ht;ot++)f($,Lt=st[ot],ve);st.sort(g),Lt=st[0];var Ht=$.formula();Ht.optional=Y.optional,Ht.constraints=Y.constraints,Ht.statements=st.slice(1),ba_debug(Re+"match2 searching "+Lt.index.length+" for "+Lt+"; bindings so far="+i(ve));var Pn,wr,Wr,Zn=Lt.index.length,yr=0;for(Pn=0;Pn<Zn;Pn++)for(wr=a([Lt.subject,Lt.predicate,Lt.object,Lt.why],[(Wr=Lt.index[Pn]).subject,Wr.predicate,Wr.object,Wr.why],ve,$),ba_info(Re+" From first: "+wr.length+": "+s(wr)),It=wr.length,nt=0;nt<It;nt++)if(bn=[],I(Fn=wr[nt][0],Y.constraints)){for(Dt in Fn)Fn.hasOwnProperty(Dt)&&(bn[Dt]=Fn[Dt]);for(Dt in ve)ve.hasOwnProperty(Dt)&&(bn[Dt]=ve[Dt]);De.count++,yr++,C($,Ht,bn,Re+"  ",Fe,Ze,De)}else ba_debug("Branch count CS: "+De.count);De.count--,0===yr&&ba_debug("Match2 fails completely on "+Lt),ba_debug("Match2 ends, Branch count: "+De.count+" for "+De.pattern_debug),0===De.count&&(ba_debug("Branch finished."),De.reportDone())},ie=this;ba_debug("Query on "+this.statements.length);var ne=new d(t,r);ne.count++,n.sync?C(ie,n.pat,n.pat.initBindings,"",e,t,ne):setTimeout(function(){C(ie,n.pat,n.pat.initBindings,"",e,t,ne)},0)}function NP(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Pv(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?NP(Object(e),!0).forEach(function(r){(0,Zt.A)(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):NP(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function OP(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function u1e(n,t,e){return t=(0,$a.A)(t),(0,_h.A)(n,GP()?Reflect.construct(t,e||[],(0,$a.A)(n).constructor):t.apply(n,e))}function GP(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GP=function(){return!!n})()}var p_="http://www.w3.org/2002/07/owl#";function d1e(n,t,e,r){var i=n.any(t,e,void 0);return!!i&&(n.equate(i,r),!0)}function h1e(n,t,e,r){var i=n.any(void 0,e,r);return!!i&&(n.equate(i,t),!0)}function WP(n,t,e,r,i){n.typeCallback&&n.typeCallback(n,r,i);var s=n.classActions[n.id(r)],o=!1;if(s)for(var a=0;a<s.length;a++)o=o||s[a](n,t,e,r,i);return o}var Bv=function(n){function t(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,go.A)(this,t),r=u1e(this,t,[void 0,void 0,void 0,void 0,i]),(0,Zt.A)(r,"updater",void 0),(0,Zt.A)(r,"namespaces",void 0),(0,Zt.A)(r,"classActions",void 0),(0,Zt.A)(r,"propertyActions",void 0),(0,Zt.A)(r,"redirections",void 0),(0,Zt.A)(r,"aliases",void 0),(0,Zt.A)(r,"HTTPRedirects",void 0),(0,Zt.A)(r,"subjectIndex",void 0),(0,Zt.A)(r,"predicateIndex",void 0),(0,Zt.A)(r,"objectIndex",void 0),(0,Zt.A)(r,"whyIndex",void 0),(0,Zt.A)(r,"index",void 0),(0,Zt.A)(r,"features",void 0),(0,Zt.A)(r,"_universalVariables",void 0),(0,Zt.A)(r,"_existentialVariables",void 0),(0,Zt.A)(r,"rdfArrayRemove",void 0),(0,Zt.A)(r,"dataCallbacks",void 0),r.propertyActions={},r.classActions={},r.redirections=[],r.aliases=[],r.HTTPRedirects=[],r.subjectIndex=[],r.predicateIndex=[],r.objectIndex=[],r.whyIndex=[],r.index=[r.subjectIndex,r.predicateIndex,r.objectIndex,r.whyIndex],r.namespaces={},r.features=e||[],r.rdfArrayRemove=i.rdfArrayRemove||wu.Uz,i.dataCallback&&(r.dataCallbacks=[i.dataCallback]),r.initPropertyActions(r.features),r}return(0,Fl.A)(t,n),(0,mo.A)(t,[{key:"substitute",value:function(r){var i=this.statements.map(function(o){return o.substitute(r)}),s=new t;return s.add(i),s}},{key:"addDataCallback",value:function(r){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(r)}},{key:"applyPatch",value:function(r,i,s){var a,o=this,l=null;function c(h){if(r.delete){a=r.delete,l&&(a=a.substitute(l));var f=[],g=(a=a.statements).map(function(w){var C=o.statementsMatching(w.subject,w.predicate,w.object,i);return 0===C.length?(f.push(w),null):C[0]});if(f.length)return s("Could not find to delete: "+f.join("\n or "));g.map(function(w){o.remove(w)})}r.insert&&(a=r.insert,l&&(a=a.substitute(l)),(a=a.statements).map(function(w){w.graph=i,o.add(w.subject,w.predicate,w.object,w.graph)})),h()}if(r.where){var u=new a1e("patch");u.pat=r.where,u.pat.statements.map(function(h){h.graph=$v(i.value)}),u.sync=!0;var d=[];o.query(u,function(f){d.push(f)},o.fetcher,function(){return 0===d.length?s("No match found to be patched:"+r.where):d.length>1?s("Patch ambiguous. No patch done."):(l=d[0],void c(s))})}else c(s)}},{key:"declareExistential",value:function(r){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(r),r}},{key:"initPropertyActions",value:function(r){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[WP],Pc(r,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(p_,"sameAs")))]=[function(i,s,o,a,l){return i.equate(s,a),!0}]),Pc(r,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(p_,"InverseFunctionalProperty")))]=[function(i,s,o,a,l){return i.newPropertyAction(s,h1e)}]),Pc(r,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(p_,"FunctionalProperty")))]=[function(i,s,o,a,l){return i.newPropertyAction(s,d1e)}])}},{key:"addStatement",value:function(r){return this.add(r.subject,r.predicate,r.object,r.graph),this.statements.length}},{key:"add",value:function(r,i,s,o){var a,l,c;if(1===arguments.length){if(r instanceof Array)for(a=0;a<r.length;a++)this.add(r[a]);else(0,Ks.aF)(r)?this.add(r.subject,r.predicate,r.object,r.graph):(0,Ks.ok)(r)&&this.add(r.statements);return this}o||(o=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),"string"==typeof r&&(r=this.rdfFactory.namedNode(r)),i=ld.fromValue(i);var u=ld.fromValue(s);if(o=ld.fromValue(o),!(0,Ks.CZ)(r))throw new Error("Subject is not a subject type");if(!(0,Ks.fY)(i))throw new Error("Predicate ".concat(i," is not a predicate type"));if(!(0,Ks.DJ)(u))throw new Error("Object ".concat(u," is not an object type"));if(!(0,Ks.RN)(o))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,i,o);var d=this.id(this.canon(i)),h=!1;if(l=this.propertyActions[d])for(a=0;a<l.length;a++)h=h||l[a](this,r,i,u,o);if(this.holds(r,i,u,o))return null;var f=[this.id(this.canon(r)),d,this.id(this.canon(u)),this.id(this.canon(o))];for(c=this.rdfFactory.quad(r,i,u,o),a=0;a<4;a++){var g=this.index[a],w=f[a];g[w]||(g[w]=[]),g[w].push(c)}if(this.statements.push(c),this.dataCallbacks){var I,C=function l1e(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function c1e(n,t){if(n){if("string"==typeof n)return OP(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return OP(n,t)}}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){e=e.call(n)},n:function(){var c=e.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&null!=e.return&&e.return()}finally{if(o)throw a}}}}(this.dataCallbacks);try{for(C.s();!(I=C.n()).done;)(0,I.value)(c)}catch(ie){C.e(ie)}finally{C.f()}}return c}},{key:"canon",value:function(r){if(!r)return r;var i=this.redirections[this.id(r)];if(i)return i;switch(r.termType){case Wn.$Q:return new mu(r.value);case Wn.r0:return r;case Wn.ic:return new h_;case Wn.S:case Wn.bD:return r;case Wn.QW:return new uc(r.value,r.language,r.datatype);case Wn.Kk:return new Za.A(r.value);case Wn.P2:return new g0(r.value);default:throw new Error("Term Type not recognized for canonization: ".concat(r.termType))}}},{key:"check",value:function(){this.checkStatementList(this.statements);for(var r=0;r<4;r++){var i=this.index[r];for(var s in i)i.hasOwnProperty(s)&&this.checkStatementList(i[s],r)}}},{key:"checkStatementList",value:function(r,i){void 0===i&&(i=0);for(var a,o=" found in "+["subject","predicate","object","why"][i]+" index.",l=0;l<r.length;l++){for(var c=[(a=r[l]).subject,a.predicate,a.object,a.graph],u=function(w,C){for(var I=0;I<w.length;I++)if(w[I].subject.equals(C.subject)&&w[I].predicate.equals(C.predicate)&&w[I].object.equals(C.object)&&w[I].why.equals(C.graph))return!0},d=0;d<4;d++){var h=this.canon(c[d]),f=this.id(h);this.index[d][f]&&u(this.index[d][f],a)}if(!u(this.statements,a))throw new Error("Statement list does not statement "+a+"@"+a.graph+o)}}},{key:"close",value:function(){return this}},{key:"compareTerms",value:function(r,i){return Object.prototype.hasOwnProperty.call(r,"compareTerm")?r.compareTerm(i):od.A[r.termType]<od.A[i.termType]?-1:od.A[r.termType]>od.A[i.termType]?1:r.value<i.value?-1:r.value>i.value?1:0}},{key:"copyTo",value:function(r,i,s){s||(s=[]);var o=this.statementsMatching(r);-1!==Pc(s,"two-direction")&&o.concat(this.statementsMatching(void 0,void 0,r));for(var a=0;a<o.length;a++){var l=o[a];switch(l.object.termType){case"NamedNode":this.add(i,l.predicate,l.object);break;case"Literal":case"BlankNode":case"Collection":this.add(i,l.predicate,l.object.copy(this))}-1!==Pc(s,"delete")&&this.remove(l)}}},{key:"equate",value:function(r,i){var s=this.canon(r),o=this.canon(i),a=this.compareTerms(s,o);return!a||(a<0?this.replaceWith(o,s):this.replaceWith(s,o))}},{key:"formula",value:function(r){return new t(r)}},{key:"length",get:function(){return this.statements.length}},{key:"match",value:function(r,i,s,o){return this.statementsMatching(ld.fromValue(r),ld.fromValue(i),ld.fromValue(s),ld.fromValue(o))}},{key:"mentionsURI",value:function(r){var i="<"+r+">";return!!this.subjectIndex[i]||!!this.objectIndex[i]||!!this.predicateIndex[i]}},{key:"newExistential",value:function(r){if(!r)return this.bnode();var i=this.sym(r);return this.declareExistential(i)}},{key:"newPropertyAction",value:function(r,i){var s=this.id(r);this.propertyActions[s]||(this.propertyActions[s]=[]),this.propertyActions[s].push(i);for(var o=this.statementsMatching(void 0,r,void 0),a=!1,l=0;l<o.length;l++)a=a||i(this,o[l].subject,r,o[l].object);return a}},{key:"newUniversal",value:function(r){var i=this.sym(r);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(i),i}},{key:"variable",value:function(r){return new g0(r)}},{key:"nextSymbol",value:function(r){for(var i=0;;i++){var s=r.value+"#n"+i;if(!this.mentionsURI(s))return this.sym(s)}}},{key:"query",value:function(r,i,s,o){return BP.call(this,r,i,s,o)}},{key:"querySync",value:function(r){var i=[],a=!1;if(r.sync=!0,BP.call(this,r,function s(l){i.push(l)},null,function o(){a=!0}),!a)throw new Error("Sync query should have called done function");return i}},{key:"remove",value:function(r){if(r instanceof Array){for(var i=0;i<r.length;i++)this.remove(r[i]);return this}if((0,Ks.ok)(r))return this.remove(r.statements);var s=this.statementsMatching(r.subject,r.predicate,r.object,r.graph);if(!s.length)throw new Error("Statement to be removed is not on store: "+r);return this.removeStatement(s[0]),this}},{key:"removeDocument",value:function(r){this.removeMetadata(r);for(var i=this.statementsMatching(void 0,void 0,void 0,r).slice(),s=0;s<i.length;s++)this.removeStatement(i[s]);return this.removeMatches(r,null,null),this}},{key:"removeMetadata",value:function(r){for(var i=this.sym("chrome://TheCurrentSession"),s="http://www.w3.org/2007/ont/link#",o=this.statementsMatching(void 0,this.sym("".concat(s,"requestedURI")),this.rdfFactory.literal(r.value),i).map(function(f){return f.subject}),a=0;a<o.length;a++){var l=o[a];if(null!=l){var c=void 0,u=this.any(l,this.sym("".concat(s,"status")),null,i);if(null!=u){c=this.statementsMatching(u,this.sym("".concat(s,"status")),null,i).slice();for(var d=0;d<c.length;d++)this.removeStatement(c[d])}var h=this.any(l,this.sym("".concat(s,"response")),null,i);if(null!=h)for(c=this.statementsMatching(h,null,null,i).slice(),d=0;d<c.length;d++)this.removeStatement(c[d]);for(c=this.statementsMatching(l,null,null,i).slice(),d=0;d<c.length;d++)this.removeStatement(c[d])}}return this.removeMatches(this.sym(r.value),null,null,i),this}},{key:"removeMany",value:function(r,i,s,o,a){for(var l=this.statementsMatching(r,i,s,o,!1),c=[],u=0;u<l.length;u++)c.push(l[u]);for(a&&(c=c.slice(0,a)),u=0;u<c.length;u++)this.remove(c[u])}},{key:"removeMatches",value:function(r,i,s,o){return this.removeMany(r,i,s,o),this}},{key:"removeStatement",value:function(r){for(var i=[r.subject,r.predicate,r.object,r.graph],s=0;s<4;s++){var o=this.canon(i[s]),a=this.id(o);this.index[s][a]&&this.rdfArrayRemove(this.index[s][a],r)}return this.rdfArrayRemove(this.statements,r),this}},{key:"removeStatements",value:function(r){for(var i=0;i<r.length;i++)this.remove(r[i]);return this}},{key:"replaceWith",value:function(r,i){for(var s=this.id(r),o=this.id(i),a=function(u){var d=u[s];if(d){var h=u[o];u[o]=h?d.concat(h):d,delete u[s]}},l=0;l<4;l++)a(this.index[l]);if(this.redirections[s]=i,r.value){if(this.aliases[o]||(this.aliases[o]=[]),this.aliases[o].push(r),this.aliases[s])for(l=0;l<this.aliases[s].length;l++)this.redirections[this.id(this.aliases[s][l])]=i,this.aliases[o].push(this.aliases[s][l]);this.add(i,this.sym("http://www.w3.org/2007/ont/link#uri"),r),this.fetcher&&this.fetcher.nowKnownAs(r,i)}return a(this.classActions),a(this.propertyActions),!0}},{key:"allAliases",value:function(r){var i=this.aliases[this.id(this.canon(r))]||[];return i.push(this.canon(r)),i}},{key:"sameThings",value:function(r,i){if(r.equals(i))return!0;var s=this.canon(r);if(!s)return!1;var o=this.canon(i);return!!o&&s.value===o.value}},{key:"setPrefixForURI",value:function(r,i){if(("tab"!==r||!this.namespaces.tab)&&"ns"!==r.slice(0,2)&&"default"!==r.slice(0,7)){for(var s in this.namespaces)this.namespaces[s]==i&&delete this.namespaces[s];this.namespaces[r]=i}}},{key:"statementsMatching",value:function(r,i,s,o,a){var f,g,l=[r,i,s,o],c=[],u=[],d=[],h=[];for(f=0;f<4;f++)c[f]=this.canon(ld.fromValue(l[f])),c[f]?(h.push(f),u[f]=this.id(c[f])):d.push(f);if(0===h.length)return this.statements;if(1===h.length)return(g=this.index[f=h[0]][u[f]])&&a&&g.length>1&&(g=g.slice(0,1)),g||[];var C,I,w=1e10;for(I=0;I<h.length;I++){if(!(g=this.index[f=h[I]][u[f]]))return[];g.length<w&&(w=g.length,C=I)}for(var L=h[C],ie=this.index[L][u[L]],ne=h.slice(0,C).concat(h.slice(C+1)),se=[],$=["subject","predicate","object","why"],Y=0;Y<ie.length;Y++){var ve=ie[Y];for(I=0;I<ne.length;I++)if(!this.canon(ve[$[f=ne[I]]]).equals(c[f])){ve=null;break}if(null!=ve&&(se.push(ve),a))break}return se}},{key:"uris",value:function(r){var i=this.canon(r),s=this.aliases[this.id(i)];if(!i.value)return[];var o=[i.value];if(s)for(var a=0;a<s.length;a++)o.push(s[a].uri);return o}},{key:"serialize",value:function(r,i,s,o){var a,l=null!==(a=o)&&void 0!==a&&a.namespaces?Pv(Pv({},this.namespaces),o.namespaces):Pv({},this.namespaces);return vy(s,this,r,i,void 0,o=Pv(Pv({},o||{}),{},{namespaces:l}))}}],[{key:"defaultGraphURI",get:function(){return Fv}}])}(PP);(0,Zt.A)(Bv,"handleRDFType",void 0),Bv.handleRDFType=WP;var f1e=B(6725),yy=B.n(f1e);function Nv(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function p1e(n,t){if(n){if("string"==typeof n)return jP(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return jP(n,t)}}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){e=e.call(n)},n:function(){var c=e.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&null!=e.return&&e.return()}finally{if(o)throw a}}}}function jP(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var m0=Hs("http://www.w3.org/1999/02/22-rdf-syntax-ns#");function v1e(n,t){function e(i,s,o){var a=n.statementsMatching(i,m0("rest"),null,t);if(1!==a.length)throw new Error("Bad list structure: no rest at ".concat(i));var l=n.statementsMatching(i,m0("first"),null,t);if(1!==l.length)throw new Error("Bad list structure: rest but ".concat(l.length," firsts at ").concat(i));var u=[l[0].object].concat(s),d=o.concat(a).concat(l),h=n.statementsMatching(null,m0("rest"),i,t);if(0===h.length){var f=new Ih(u);return n.remove(d),void function g1e(n,t,e,r){var s,i=Nv(n.statementsMatching(e,null,null,r));try{for(i.s();!(s=i.n()).done;){var o=s.value,a=new f0(t,o.predicate,o.object,r);n.remove(o),n.add(a)}}catch(g){i.e(g)}finally{i.f()}var c,l=Nv(n.statementsMatching(null,e,null,r));try{for(l.s();!(c=l.n()).done;){var u=c.value;n.remove(u),n.add(new f0(u.subject,t,u.object,r))}}catch(g){l.e(g)}finally{l.f()}var h,d=Nv(n.statementsMatching(null,null,e,r));try{for(d.s();!(h=d.n()).done;){var f=h.value;n.remove(f),n.add(new f0(f.subject,f.predicate,t,r))}}catch(g){d.e(g)}finally{d.f()}}(n,f,i,t)}if(1!==h.length)throw new Error("Bad list structure: ".concat(h.length," pres at ").concat(i));var g=h[0].subject;if("BlankNode"!==g.termType)throw new Error("Bad list element node ".concat(g," type: ").concat(g.termType," "));e(g,u,d)}!function m1e(n,t){var i,e=m0("nil"),r=Nv(n.statementsMatching(e,null,null,t));try{for(r.s();!(i=r.n()).done;){var s=i.value;n.remove(s);var o=new Ih;n.add(new f0(o,s.predicate,s.object,t))}}catch(d){r.e(d)}finally{r.f()}var l,a=Nv(n.statementsMatching(null,null,e,t));try{for(a.s();!(l=a.n()).done;){var c=l.value;if(!c.predicate.sameTerm(m0("rest"))){n.remove(c);var u=new Ih;n.add(new f0(c.subject,c.predicate,u,t))}}}catch(d){a.e(d)}finally{a.f()}}(n,t),n.statementsMatching(null,m0("rest"),m0("nil"),t).forEach(function(i){if("BlankNode"!==i.subject.termType)throw new Error("Bad list element node ".concat(i.subject," type: ").concat(i.subject.termType," "));e(i.subject,[],[])})}var g_="http://www.w3.org/2000/10/swap/log#",la=function(t){return t},xa=function(t){return t},Ov=function(t){if(t.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},dc=function(t){return t.length},m_=function(t,e,r){if(typeof t.slice>"u")throw"@@ mising.js: No .slice function for "+t+" of type "+(0,d_.A)(t);return typeof r>"u"||null==r?t.slice(e):t.slice(e,r)},Rp=Error("dummy error stop iteration"),Gv=function(t){return this.last=0,this.li=t,this.next=function(){if(this.last==this.li.length)throw Rp;return this.li[this.last++]},this},v_=function(t,e){return t.indexOf(e)},v0=function(t,e){if(!t)throw e?"python Assertion failed: "+e:"(python) Assertion failed."};String.prototype.encode=function(n){if("utf-8"!=n)throw"UTF8_converter: can only do utf-8";return function(t){t=t.replace(/\r\n/g,"\n");for(var e="",r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e}(this)},String.prototype.decode=function(n){if("utf-8"!=n)throw"UTF8_converter: can only do utf-8";return this};var w_=function(t,e){return Fc(e,t)},ZP="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",$P="http://www.w3.org/2002/07/owl#sameAs",XP="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",w0=XP+":",y_=new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g"),YP=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),C_=new RegExp('[\\\\\\r\\n\\"]',"g"),b_=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");const x_=function R1e(n,t,e,r,i,s,o,a){return new L1e(n,t,e,r,i,s,o,a)};var L1e=function(){return(0,mo.A)(function n(t,e,r,i,s,o,a,l){(0,go.A)(this,n),typeof e>"u"&&(e=null),typeof r>"u"&&(r=""),typeof i>"u"&&(i=null),typeof s>"u"&&(s=""),typeof o>"u"&&(o=null),typeof a>"u"&&(a=""),typeof l>"u"&&(l=null),this._bindings=new Ov([]),this._flags=a,""!=r&&(v0(r.indexOf(":")>=0,"Document URI not absolute: "+r),this._bindings[""]=r+"#"),this._store=t,s&&t.setGenPrefix(s),this._thisDoc=r,this.source=t.sym(r),this.lines=0,this.statementCount=0,this.hasNil=!1,this.startOfLine=0,this.previousLine=0,this._genPrefix=s,this.keywords=new xa(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new Ov([]),this._variables=new Ov([]),this._parentVariables=new Ov([]),this._reason=l,this._reason2=null,this._baseURI=i||r||null,v0(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._genPrefix=this._thisDoc?this._thisDoc+"#_g":RDFSink_uniqueURI()),this._formula=null==e?this._thisDoc?t.formula(r+"#_formula"):t.formula():e,this._context=this._formula,this._parentContext=null},[{key:"here",value:function(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)}},{key:"formula",value:function(){return this._formula}},{key:"loadStream",value:function(e){return this.loadBuf(e.read())}},{key:"loadBuf",value:function(e){return this.startDoc(),this.feed(e),this.endDoc()}},{key:"feed",value:function(e){for(var r=e.decode("utf-8"),i=0;i>=0;){var s=this.skipSpace(r,i);if(s<0)return;if((i=this.directiveOrStatement(r,s))<0)throw tr(this._thisDoc,this.lines,r,s,"expected directive or statement")}}},{key:"directiveOrStatement",value:function(e,r){var s,i=this.skipSpace(e,r);return i<0?i:(s=this.directive(e,i))>=0||(s=this.statement(e,i))>=0?this.checkDot(e,s):s}},{key:"tok",value:function(e,r,i){if("@"==r.slice(i,i+1))i+=1;else if(Pc(this.keywords,e)<0)return-1;var o=i+dc(e);return r.slice(i,o)==e&&XP.indexOf(r.charAt(o))>=0?o:-1}},{key:"directive",value:function(e,r){if((c=this.skipSpace(e,r))<0)return c;var i=new xa([]);if((c=this.tok("bind",e,r))>0)throw tr(this._thisDoc,this.lines,e,r,"keyword bind is obsolete: use @prefix");if((c=this.tok("keywords",e,r))>0){if((r=this.commaSeparatedList(e,c,i,!1))<0)throw tr(this._thisDoc,this.lines,e,r,"'@keywords' needs comma separated list of words");return this.setKeywords(m_(i,null,null)),r}if((c=this.tok("forAll",e,r))>0){if((r=this.commaSeparatedList(e,c,i,!0))<0)throw tr(this._thisDoc,this.lines,e,r,"Bad variable list after @forAll");var s=new Gv(i);try{for(;;){var o=s.next();(Pc(this._variables,o)<0||Pc(this._parentVariables,o)>=0)&&(this._variables[o]=this._context.newUniversal(o))}}catch(d){if(d!=Rp)throw d}return r}if((c=this.tok("forSome",e,r))>0){if((r=this.commaSeparatedList(e,c,i,this.uri_ref2))<0)throw tr(this._thisDoc,this.lines,e,r,"Bad variable list after @forSome");s=new Gv(i);try{for(;;)o=s.next(),this._context.declareExistential(o)}catch(h){if(h!=Rp)throw h}return r}if((c=this.tok("prefix",e,r))>=0){var c,a=new xa([]);if((r=this.qname(e,c,a))<0)throw tr(this._thisDoc,this.lines,e,c,"expected qname after @prefix");if((c=this.uri_ref2(e,r,a))<0)throw tr(this._thisDoc,this.lines,e,r,"expected <uriref> after @prefix _qname_");var l=a[1].uri;return this._baseURI?l=w_(this._baseURI,l):v0(l.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS"),v0(l.indexOf(":")>=0),this._bindings[a[0][0]]=l,this.bind(a[0][0],function w1e(n){return encodeURI(n)}(l)),c}if((c=this.tok("base",e,r))>=0){if(a=new xa([]),(r=this.uri_ref2(e,c,a))<0)throw tr(this._thisDoc,this.lines,e,c,"expected <uri> after @base ");if(l=a[0].uri,!this._baseURI)throw tr(this._thisDoc,this.lines,e,c,"With no previous base URI, cannot use relative URI in @base  <"+l+">");return l=w_(this._baseURI,l),v0(l.indexOf(":")>=0),this._baseURI=l,r}return-1}},{key:"bind",value:function(e,r){""==e||this._store.setPrefixForURI(e,r)}},{key:"setKeywords",value:function(e){null==e?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)}},{key:"startDoc",value:function(){}},{key:"endDoc",value:function(){return this.hasNil&&this._store.rdfFactory.supports.COLLECTIONS&&v1e(this._store,this.source),this._formula}},{key:"makeStatement",value:function(e){e[0].add(e[2],e[1],e[3],this.source),(e[2].uri&&e[2].uri===ZP||e[3].uri&&e[3].uri===ZP)&&(this.hasNil=!0),this.statementCount+=1}},{key:"statement",value:function(e,s){var i=new xa([]);if((s=this.object(e,s,i))<0)return s;var o=this.property_list(e,s,i[0]);if(o<0)throw tr(this._thisDoc,this.lines,e,s,"expected propertylist");return o}},{key:"subject",value:function(e,r,i){return this.item(e,r,i)}},{key:"verb",value:function(e,r,i){if((o=this.skipSpace(e,r))<0)return o;var s=new xa([]);if((o=this.tok("has",e,r))>=0){if((r=this.prop(e,o,s))<0)throw tr(this._thisDoc,this.lines,e,o,"expected property after 'has'");return i.push(new la(["->",s[0]])),r}if((o=this.tok("is",e,r))>=0){var o;if((r=this.prop(e,o,s))<0)throw tr(this._thisDoc,this.lines,e,o,"expected <property> after 'is'");if((o=this.skipSpace(e,r))<0)throw tr(this._thisDoc,this.lines,e,r,"End of file found, expected property after 'is'");if((o=this.tok("of",e,r=o))<0)throw tr(this._thisDoc,this.lines,e,r,"expected 'of' after 'is' <prop>");return i.push(new la(["<-",s[0]])),o}if((o=this.tok("a",e,r))>=0)return i.push(new la(["->",this._store.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")])),o;if("<="==e.slice(r,r+2))return i.push(new la(["<-",this._store.sym(g_+"implies")])),r+2;if("="==e.slice(r,r+1))return">"==e.slice(r+1,r+2)?(i.push(new la(["->",this._store.sym(g_+"implies")])),r+2):(i.push(new la(["->",this._store.sym($P)])),r+1);if(":="==e.slice(r,r+2))return i.push(new la(["->",g_+"becomes"])),r+2;if((o=this.prop(e,r,s))>=0)return i.push(new la(["->",s[0]])),o;if(">-"==e.slice(r,r+2)||"<-"==e.slice(r,r+2))throw tr(this._thisDoc,this.lines,e,o,">- ... -> syntax is obsolete.");return-1}},{key:"prop",value:function(e,r,i){return this.item(e,r,i)}},{key:"item",value:function(e,r,i){return this.path(e,r,i)}},{key:"blankNode",value:function(e){return this._context.bnode(e,this._reason2)}},{key:"path",value:function(e,r,i){if((s=this.nodeOrLiteral(e,r,i))<0)return s;for(;"!^.".indexOf(e.slice(s,s+1))>=0;){var o=e.slice(s,s+1);if("."==o){var a=e.slice(s+1,s+2);if(!a||w0.indexOf(a)>=0&&":?<[{(".indexOf(a)<0)break}var s,l=i.pop(),c=this.blankNode(this.here(s));if((s=this.node(e,s+1,i))<0)throw tr(this._thisDoc,this.lines,e,s,"EOF found in middle of path syntax");var u=i.pop();this.makeStatement(new la("^"==o?[this._context,u,c,l]:[this._context,u,l,c])),i.push(c)}return s}},{key:"anonymousNode",value:function(e){if(r=this._anonymousNodes[e])return r;var r=this._store.bnode(e);return this._anonymousNodes[e]=r,r}},{key:"node",value:function(e,a,i,s){typeof s>"u"&&(s=null);var o=s;if(($=this.skipSpace(e,a))<0)return $;var l=e.slice(a=$,a+1);if("["==l){var c=this.here(a);if(($=this.skipSpace(e,a+1))<0)throw tr(this._thisDoc,this.lines,e,a,"EOF after '['");if("="==e.slice($,$+1)){a=$+1;var u=new xa([]);if(!(($=this.objectList(e,a,u))>=0))throw tr(this._thisDoc,this.lines,e,a,"objectList expected after [= ");if(o=u[0],dc(u)>1){var d=new Gv(u);try{for(;;){var h=d.next();this.makeStatement(new la([this._context,this._store.sym($P),o,h]))}}catch(st){if(st!=Rp)throw st}}if(($=this.skipSpace(e,$))<0)throw tr(this._thisDoc,this.lines,e,a,"EOF when objectList expected after [ = ");if(";"==e.slice($,$+1))var $=$+1}if(null==o&&(o=this.blankNode(c)),(a=this.property_list(e,$,o))<0)throw tr(this._thisDoc,this.lines,e,$,"property_list expected");if(($=this.skipSpace(e,a))<0)throw tr(this._thisDoc,this.lines,e,a,"EOF when ']' expected after [ <propertyList>");if("]"!=e.slice($,$+1))throw tr(this._thisDoc,this.lines,e,$,"']' expected");return i.push(o),$+1}if("{"==l){if("$"==e.slice(a+1,a+2)){$=(a+=1)+1;for(var g=new xa([]),w=!0;;){if((a=this.skipSpace(e,$))<0)throw tr(this._thisDoc,this.lines,e,a,"needed '$}', found end.");if("$}"==e.slice(a,a+2)){$=a+2;break}if(w)w=!1;else{if(","!=e.slice(a,a+1))throw tr(this._thisDoc,this.lines,e,a,"expected: ','");a+=1}var C=new xa([]);if(($=this.item(e,a,C))<0)throw tr(this._thisDoc,this.lines,e,a,"expected item in set or '$}'");g.push(C[0])}return i.push(this._store.newSet(g,this._context)),$}$=a+1;var I=this._parentContext;this._parentContext=this._context;var L=this._anonymousNodes,ie=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new Ov([]),this._variables=this._variables.slice();var ne=this._reason2;for(this._reason2=null,null==o&&(o=this._store.formula()),this._context=o;;){if((a=this.skipSpace(e,$))<0)throw tr(this._thisDoc,this.lines,e,a,"needed '}', found end.");if("}"==e.slice(a,a+1)){$=a+1;break}if(($=this.directiveOrStatement(e,a))<0)throw tr(this._thisDoc,this.lines,e,a,"expected statement or '}'")}return this._anonymousNodes=L,this._variables=this._parentVariables,this._parentVariables=ie,this._context=this._parentContext,this._reason2=ne,this._parentContext=I,i.push(o.close()),$}if("("==l){var se=this._store.list;for("$"==e.slice(a+1,a+2)&&(se=this._store.newSet,a+=1),$=a+1,g=new xa([]);;){if((a=this.skipSpace(e,$))<0)throw tr(this._thisDoc,this.lines,e,a,"needed ')', found end.");if(")"==e.slice(a,a+1)){$=a+1;break}if(C=new xa([]),($=this.item(e,a,C))<0)throw tr(this._thisDoc,this.lines,e,a,"expected item in list or ')'");g.push(C[0])}return i.push(se(g,this._context)),$}if(($=this.tok("this",e,a))>=0)throw tr(this._thisDoc,this.lines,e,a,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");return($=this.tok("true",e,a))>=0?(i.push(!0),$):($=this.tok("false",e,a))>=0?(i.push(!1),$):null==o&&($=this.uri_ref2(e,a,i))>=0?$:-1}},{key:"property_list",value:function(e,r,i){for(;;){if((f=this.skipSpace(e,r))<0)throw tr(this._thisDoc,this.lines,e,r,"EOF found when expected verb in property list");if(":-"!=e.slice(f,f+2)){r=f;var o=new xa([]);if((f=this.verb(e,r,o))<=0)return r;var a=new xa([]);if((r=this.objectList(e,f,a))<0)throw tr(this._thisDoc,this.lines,e,f,"objectList expected");var l=new Gv(a);try{for(;;){var c=l.next(),u=o[0],h=u[1];this.makeStatement(new la("->"==u[0]?[this._context,h,i,c]:[this._context,h,c,i]))}}catch(w){if(w!=Rp)throw w}if((f=this.skipSpace(e,r))<0)throw tr(this._thisDoc,this.lines,e,f,"EOF found in list of objects");if(";"!=e.slice(r,r+1))return r;r+=1}else{r=f+2;var f,s=new xa([]);if((f=this.node(e,r,s,i))<0)throw tr(this._thisDoc,this.lines,e,r,"bad {} or () or [] node after :- ");r=f}}}},{key:"commaSeparatedList",value:function(e,r,i,s){if((o=this.skipSpace(e,r))<0)throw tr(this._thisDoc,this.lines,e,o,"EOF found expecting comma sep list");if("."==e.charAt(o))return r;if(s)var o=this.uri_ref2(e,o,i);else o=this.bareWord(e,o,i);if(o<0)return-1;for(;;){if((r=this.skipSpace(e,o))<0)return r;var a=e.slice(r,r+1);if(","!=a)return"."!=a?-1:r;if((o=s?this.uri_ref2(e,r+1,i):this.bareWord(e,r+1,i))<0)throw tr(this._thisDoc,this.lines,e,o,"bad list content")}}},{key:"objectList",value:function(e,s,i){if((s=this.object(e,s,i))<0)return-1;for(;;){var o=this.skipSpace(e,s);if(o<0)throw tr(this._thisDoc,this.lines,e,o,"EOF found after object");if(","!=e.slice(o,o+1))return o;if((s=this.object(e,o+1,i))<0)return s}}},{key:"checkDot",value:function(e,r){var i=this.skipSpace(e,r);if(i<0)return i;if("."==e.slice(i,i+1))return i+1;if("}"==e.slice(i,i+1)||"]"==e.slice(i,i+1))return i;throw tr(this._thisDoc,this.lines,e,i,"expected '.' or '}' or ']' at end of statement")}},{key:"uri_ref2",value:function(e,h,i){var s=new xa([]);if((o=this.qname(e,h,s))>=0){var a=s[0],l=a[0],c=a[1];if(null==l){v0(0,"not used?");var u=this._baseURI+"#"}else if(!(u=this._bindings[l])){if("_"==l)return i.push(this.anonymousNode(c)),o;throw tr(this._thisDoc,this.lines,e,h,"Prefix "+l+" not bound.")}var d=this._store.sym(u+c);return Pc(this._variables,d)>=0?i.push(this._variables[d]):i.push(d),o}if((h=this.skipSpace(e,h))<0)return-1;if("?"==e.charAt(h)){var f=new xa([]);return(o=this.variable(e,h,f))>0?(i.push(f[0]),o):-1}if("<"==e.charAt(h)){for(var g=h+=1;h<dc(e);){if(">"==e.charAt(h)){var w=e.slice(g,h);return this._baseURI?w=w_(this._baseURI,w):v0(w.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs"),"#"==e.slice(h-1,h)&&"#"!=m_(w,-1,null)&&(w+="#"),d=this._store.sym(w),Pc(this._variables,d)>=0?i.push(this._variables[d]):i.push(d),h+1}h+=1}throw tr(this._thisDoc,this.lines,e,o,"unterminated URI reference")}if(this.keywordsSet){var o;if(f=new xa([]),(o=this.bareWord(e,h,f))<0)return-1;if(Pc(this.keywords,f[0])>=0)throw tr(this._thisDoc,this.lines,e,h,'Keyword "'+f[0]+'" not allowed here.');return i.push(this._store.sym(this._bindings[""]+f[0])),o}return-1}},{key:"skipSpace",value:function(e,r){for(var s=r||0;s<e.length;s++){var o=e.charAt(s);if(" \n\r\t\f\v\xa0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000".indexOf(o)<0){if("#"!==e.charAt(s))return s;for(;;s++){if(s===e.length)return-1;if("\n"===e.charAt(s)){this.lines=this.lines+1;break}}}else"\n"===e.charAt(s)&&(this.lines=this.lines+1)}return-1}},{key:"variable",value:function(e,o,i){if((s=this.skipSpace(e,o))<0||"?"!=e.slice(s,s+1))return-1;var s;if(o=s+=1,"0123456789-".indexOf(e.charAt(s))>=0)throw tr(this._thisDoc,this.lines,e,s,"Varible name can't start with '"+e.charAt(s)+"s'");for(;o<dc(e)&&w0.indexOf(e.charAt(o))<0;)o+=1;if(null==this._parentContext)throw tr(this._thisDoc,this.lines,e,s,"Can't use ?xxx syntax for variable in outermost level: "+e.slice(s-1,o));return i.push(this._store.variable(e.slice(s,o))),o}},{key:"bareWord",value:function(e,a,i){var s=this.skipSpace(e,a);if(s<0)return-1;var o=e.charAt(s);if("0123456789-".indexOf(o)>=0||w0.indexOf(o)>=0)return-1;for(a=s;a<dc(e)&&w0.indexOf(e.charAt(a))<0;)a+=1;return i.push(e.slice(s,a)),a}},{key:"qname",value:function(e,s,i){if((s=this.skipSpace(e,s))<0)return-1;var o=e.charAt(s);if("0123456789-+".indexOf(o)>=0)return-1;if(w0.indexOf(o)<0){var a=o;for(s+=1;s<dc(e)&&(o=e.charAt(s),w0.indexOf(o)<0);)a+=o,s+=1}else a="";if(s<dc(e)&&":"==e.charAt(s)){var l=a;for(s+=1,a="";s<dc(e)&&(o=e.charAt(s),w0.indexOf(o)<0);)a+=o,s+=1;return i.push(new la([l,a])),s}return a&&this.keywordsSet&&Pc(this.keywords,a)<0?(i.push(new la(["",a])),s):-1}},{key:"object",value:function(e,r,i){if((s=this.subject(e,r,i))>=0)return s;if((s=this.skipSpace(e,r))<0)return-1;var o=null,a=e.charAt(r=s);if('"'==a||"'"==a){o=e.slice(r,r+3==a+a)?a+a+a:a,r+=dc(o);var l=this.strconst(e,r,o),s=l[0];return i.push(this._store.literal(l[1])),s}return-1}},{key:"nodeOrLiteral",value:function(e,r,i){if((s=this.node(e,r,i))>=0)return s;if((s=this.skipSpace(e,r))<0)return-1;var o=e.charAt(r=s);if("-+0987654321".indexOf(o)>=0){if(YP.lastIndex=0,null!=(a=YP.exec(e.slice(r))))s=r+(l=a[0]).length,l.indexOf("T")>=0?i.push(this._store.literal(l,this._store.sym("http://www.w3.org/2001/XMLSchema#dateTime"))):i.push(this._store.literal(l,this._store.sym("http://www.w3.org/2001/XMLSchema#date")));else{var l;if(y_.lastIndex=0,null==(a=y_.exec(e.slice(r))))throw tr(this._thisDoc,this.lines,e,r,"Bad number or date syntax");(l=e.slice(r,s=r+y_.lastIndex)).indexOf("e")>=0?i.push(this._store.literal(parseFloat(l),this._store.sym("http://www.w3.org/2001/XMLSchema#double"))):e.slice(r,s).indexOf(".")>=0?i.push(this._store.literal(parseFloat(l),this._store.sym("http://www.w3.org/2001/XMLSchema#decimal"))):i.push(this._store.literal(parseInt(l),this._store.sym("http://www.w3.org/2001/XMLSchema#integer")))}return s}if('"'==e.charAt(r)){if('"""'==e.slice(r,r+3))var c='"""';else c='"';r+=dc(c);var u=null,d=this.strconst(e,r,c),h=d[1],f=null;if("@"==e.slice(s=d[0],s+1)){var a;if(b_.lastIndex=0,null==(a=b_.exec(e.slice(s+1))))throw tr(this._thisDoc,startline,e,r,"Bad language code syntax on string literal, after @");f=e.slice(s+1,r=b_.lastIndex+s+1);var s=r}if("^^"==e.slice(s,s+2)){var g=new xa([]);s=this.uri_ref2(e,s+2,g),u=g[0]}return i.push(this._store.literal(h,f||u)),s}return-1}},{key:"strconst",value:function(e,r,i){for(var s=r,o="",a=this.lines;s<dc(e);){if(r=s+dc(i),e.slice(s,r)==i)return new la([r,o]);if('"'!=e.charAt(s)){if(C_.lastIndex=0,!C_.exec(e.slice(s)))throw tr(this._thisDoc,a,e,s,"Closing quote missing in string at ^ in "+e.slice(s-20,s)+"^"+e.slice(s,s+20));if(o+=e.slice(s,r=s+C_.lastIndex-1),'"'!=(c=e.charAt(r)))if("\r"!=c){if("\n"==c){if('"'==i)throw tr(this._thisDoc,a,e,r,"newline found in string literal");this.lines=this.lines+1,o+=c,s=r+1,this.previousLine=this.startOfLine,this.startOfLine=s}else if("\\"==c){if(!(c=e.slice(s=r+1,s+1)))throw tr(this._thisDoc,a,e,r,"unterminated string literal (2)");var u=v_('abfrtvn\\"',c);if(u>=0)o+='a\b\f\r\t\v\n\\"'.charAt(u),s+=1;else if("u"==c)s=(h=this.uEscape(e,s+1,a))[0],o+=c=h[1];else{if("U"!=c)throw tr(this._thisDoc,this.lines,e,r,"bad escape");var h,c;s=(h=this.UEscape(e,s+1,a))[0],o+=c=h[1]}}}else s=r+1;else s=r}else o=o+'"',s=s+1}throw tr(this._thisDoc,this.lines,e,r,"unterminated string literal")}},{key:"uEscape",value:function(e,r,i){for(var s=r,o=0,a=0;o<4;){var c=e.slice(s,s+1).toLowerCase();if(s+=1,""==c)throw tr(this._thisDoc,i,e,r,"unterminated string literal(3)");var u=v_("0123456789abcdef",c);if(u<0)throw tr(this._thisDoc,i,e,r,"bad string literal hex escape");a=16*a+u,o+=1}var d=String.fromCharCode(a);return new la([s,d])}},{key:"UEscape",value:function(e,r,i){for(var s=r,o=0,a="\\U";o<8;){var c=e.slice(s,s+1).toLowerCase();if(s+=1,""==c)throw tr(this._thisDoc,i,e,r,"unterminated string literal(3)");if(v_("0123456789abcdef",c)<0)throw tr(this._thisDoc,i,e,r,"bad string literal hex escape");a+=c,o+=1}var t,d=(t="0x"+m_(a,2,10)-0,String.fromCharCode(t));return new la([s,d])}}])}();function tr(n,t,e,r,i){var s=t+1,o="Line "+s+" of <"+n+">: Bad syntax: "+i+'\nat: "'+e.slice(r,r+30)+'"',a=new SyntaxError(o,n,s);return a.lineNo=s,a.characterInFile=r,a.syntaxProblem=i,a}function qP(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function JP(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?qP(Object(e),!0).forEach(function(r){(0,Zt.A)(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):qP(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}const __=JP(JP({},vu),{},{supports:(0,Zt.A)((0,Zt.A)((0,Zt.A)((0,Zt.A)((0,Zt.A)((0,Zt.A)((0,Zt.A)({},Pl.collections,!0),Pl.defaultGraphType,!1),Pl.equalsMethod,!0),Pl.identity,!1),Pl.id,!0),Pl.reversibleId,!1),Pl.variableType,!0),collection:function(t){return new Ih(t)},id:function(t){var e=this;return(0,Ks.P3)(t)?"( ".concat(t.elements.map(function(r){return e.id(r)}).join(", ")," )"):(0,Ks.DZ)(t)?g0.toString(t):vu.id(t)},termToNQ:function(t){return t.termType===Wn.r0?Ih.toNT(t):vu.termToNQ(t)}});function I_(n,t){return"string"==typeof t?n.rdfFactory.literal(t):Object.prototype.hasOwnProperty.call(t,"@list")?!0===n.rdfFactory.supports.COLLECTIONS?function V1e(n,t){if(!Array.isArray(t))throw new TypeError("Object must be an array");return n.rdfFactory.collection(t.map(function(e){return I_(n,e)}))}(n,t["@list"]):function D1e(n,t){var e=t["@id"]?A_(n,t):n.rdfFactory.blankNode(),r=t["@list"].map(function(s){return I_(n,s)}),i=VP(n.rdfFactory,e,r);return n.addAll(i),e}(n,t):Object.prototype.hasOwnProperty.call(t,"@id")?A_(n,t):Object.prototype.hasOwnProperty.call(t,"@language")?n.rdfFactory.literal(t["@value"],t["@language"]):Object.prototype.hasOwnProperty.call(t,"@type")?n.rdfFactory.literal(t["@value"],n.rdfFactory.namedNode(t["@type"])):Object.prototype.hasOwnProperty.call(t,"@value")?n.rdfFactory.literal(t["@value"]):n.rdfFactory.literal(t)}function QP(n,t,e,r){var i=e&&Object.prototype.hasOwnProperty.call(e,"termType")?e.value:e;return B.e(45).then(B.t.bind(B,1045,23)).then(function(s){return s.flatten(JSON.parse(n),null,{base:i})}).then(function(s){return s.reduce(function(o,a){return t=eB(t,e,a)},t)}).then(r).catch(r)}function A_(n,t){return t["@id"].startsWith("_:")?n.rdfFactory.blankNode(t["@id"].substring(2)):n.rdfFactory.namedNode(t["@id"])}function eB(n,t,e){for(var r=e["@id"]?A_(n,e):n.rdfFactory.blankNode(),i=0,s=Object.keys(e);i<s.length;i++){var o=s[i];if("@id"!==o){if("@graph"==o)for(var a=r,l=e[o],c=0;c<l.length;c++)n=eB(n,a,l[c]);var u=e[o];if(Array.isArray(u))for(var d=0;d<u.length;d++)n.addStatement(tB(n,r,o,u[d],t));else n.addStatement(tB(n,r,o,u,t))}}return n}function tB(n,t,e,r,i){var s,o;return"@type"===e?(s=n.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),o=n.rdfFactory.namedNode(r)):(s=n.rdfFactory.namedNode(e),o=I_(n,r)),n.rdfFactory.quad(t,s,o,n.rdfFactory.namedNode(i))}var k1e=B(6148),F1e=B(4416),P1e=B.n(F1e);const Wv="http://www.w3.org/1999/02/22-rdf-syntax-ns#",jv="http://www.w3.org/2001/XMLSchema#",M_="http://www.w3.org/2000/10/swap/",o1={xsd:{decimal:`${jv}decimal`,boolean:`${jv}boolean`,double:`${jv}double`,integer:`${jv}integer`,string:`${jv}string`},rdf:{type:`${Wv}type`,nil:`${Wv}nil`,first:`${Wv}first`,rest:`${Wv}rest`,langString:`${Wv}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${M_}reify#forSome`,forAll:`${M_}reify#forAll`},log:{implies:`${M_}log#implies`}},{xsd:Cy}=o1,B1e=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,nB={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},N1e=/[\x00-\x20<>\\"\{\}\|\^\`]/,O1e={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},G1e=/$0^/;class W1e{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,this._lineMode=!!(t=t||{}).lineMode){this._n3Mode=!1;for(const e in this)!(e in O1e)&&this[e]instanceof RegExp&&(this[e]=G1e)}else this._n3Mode=!1!==t.n3;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,e){let r=this._input,i=r.length;for(;;){let a,l;for(;a=this._newline.exec(r);)this.comments&&(l=this._comment.exec(a[0]))&&s("comment",l[1],"",this._line,a[0].length),r=r.substr(a[0].length,r.length),i=r.length,this._line++;if(!a&&(a=this._whitespace.exec(r))&&(r=r.substr(a[0].length,r.length)),this._endOfFile.test(r))return e&&(this.comments&&(l=this._comment.exec(r))&&s("comment",l[1],"",this._line,r.length),r=null,s("eof","","",this._line,0)),this._input=r;const c=this._line,u=r[0];let d="",h="",f="",g=null,w=0,C=!1;switch(u){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(w=1,d="^");break}if(this._previousMarker="^^",r=r.substr(2),"<"!==r[0]){C=!0;break}case"<":if(g=this._unescapedIri.exec(r))d="IRI",h=g[1];else if(g=this._iri.exec(r)){if(h=this._unescape(g[1]),null===h||N1e.test(h))return o(this);d="IRI"}else r.length>1&&"<"===r[1]?(d="<<",w=2):this._n3Mode&&r.length>1&&"="===r[1]&&(d="inverse",w=2,h=">");break;case">":r.length>1&&">"===r[1]&&(d=">>",w=2);break;case"_":((g=this._blank.exec(r))||e&&(g=this._blank.exec(`${r} `)))&&(d="blank",f="_",h=g[1]);break;case'"':if(g=this._simpleQuotedString.exec(r))h=g[1];else if(({value:h,matchLength:w}=this._parseLiteral(r)),null===h)return o(this);(null!==g||0!==w)&&(d="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(g=this._simpleApostropheString.exec(r))h=g[1];else if(({value:h,matchLength:w}=this._parseLiteral(r)),null===h)return o(this);(null!==g||0!==w)&&(d="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(g=this._variable.exec(r))&&(d="var",h=g[0]);break;case"@":"literal"===this._previousMarker&&(g=this._langcode.exec(r))?(d="langcode",h=g[1]):(g=this._keyword.exec(r))&&(d=g[0]);break;case".":if(1===r.length?e:r[1]<"0"||r[1]>"9"){d=".",w=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(g=this._number.exec(r)||e&&(g=this._number.exec(`${r} `)))&&(d="literal",h=g[0],f="string"==typeof g[1]?Cy.double:"string"==typeof g[2]?Cy.decimal:Cy.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(g=this._sparqlKeyword.exec(r))?d=g[0].toUpperCase():C=!0;break;case"f":case"t":(g=this._boolean.exec(r))?(d="literal",h=g[0],f=Cy.boolean):C=!0;break;case"a":(g=this._shortPredicates.exec(r))?(d="abbreviation",h="a"):C=!0;break;case"=":this._n3Mode&&r.length>1&&(d="abbreviation",">"!==r[1]?(w=1,h="="):(w=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(w=1,d=u);break;case"{":!this._lineMode&&r.length>=2&&("|"===r[1]?(d="{|",w=2):(d=u,w=1));break;case"|":r.length>=2&&"}"===r[1]&&(d="|}",w=2);break;default:C=!0}if(C&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(g=this._prefix.exec(r))?((g=this._prefixed.exec(r))||e&&(g=this._prefixed.exec(`${r} `)))&&(d="prefixed",f=g[1]||"",h=this._unescape(g[2])):(d="prefix",h=g[1]||"")),"^^"===this._previousMarker)switch(d){case"prefixed":d="type";break;case"IRI":d="typeIRI";break;default:d=""}if(!d)return e||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const I=w||g[0].length,L=s(d,h,f,c,I);this.previousToken=L,this._previousMarker=d,r=r.substr(I,r.length)}function s(a,l,c,u,d){const h=r?i-r.length:i,g={type:a,value:l,prefix:c,line:u,start:h,end:h+d};return t(null,g),g}function o(a){t(a._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let e=!1;const r=t.replace(B1e,(i,s,o,a)=>{if("string"==typeof s)return String.fromCharCode(Number.parseInt(s,16));if("string"==typeof o){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(1023&l))}return a in nB?nB[a]:(e=!0,"")});return e?null:r}_parseLiteral(t){if(t.length>=3){const e=t.match(/^(?:"""|"|'''|'|)/)[0],r=e.length;let i=Math.max(this._literalClosingPos,r);for(;(i=t.indexOf(e,i))>0;){let s=0;for(;"\\"===t[i-s-1];)s++;if(s%2==0){const o=t.substring(r,i),a=o.split(/\r\n|\r|\n/).length-1,l=i+r;if(1===r&&0!==a||3===r&&this._lineMode)break;return this._line+=a,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const e=new Error(`Unexpected "${t}" on line ${this._line}.`);return e.context={token:void 0,line:this._line,previousToken:this.previousToken},e}_readStartingBom(t){return t.startsWith("\ufeff")?t.substr(1):t}tokenize(t,e){if(this._line=1,"string"==typeof t){if(this._input=this._readStartingBom(t),"function"!=typeof e){const r=[];let i;if(this._tokenizeToEnd((s,o)=>s?i=s:r.push(o),!0),i)throw i;return r}P1e()(()=>this._tokenizeToEnd(e,!0))}else this._pendingBuffer=null,"function"==typeof t.setEncoding&&t.setEncoding("utf8"),t.on("data",r=>{null!==this._input&&0!==r.length&&(this._pendingBuffer&&(r=k1e.hp.concat([this._pendingBuffer,r]),this._pendingBuffer=null),128&r[r.length-1]?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom("string"==typeof r?r:r.toString()):this._input+=r,this._tokenizeToEnd(e,!1)))}),t.on("end",()=>{"string"==typeof this._input&&this._tokenizeToEnd(e,!0)}),t.on("error",e)}}const{rdf:j1e,xsd:y0}=o1;let Lp,U1e=0;const Z1e={namedNode:oB,blankNode:aB,variable:cB,literal:lB,defaultGraph:function K1e(){return Lp},quad:S_,triple:S_,fromTerm:Uv,fromQuad:uB};class a1{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof a1?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class iB extends a1{get termType(){return"NamedNode"}}class Hp extends a1{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let e=t.lastIndexOf('"')+1;return e<t.length&&"@"===t[e++]?t.substr(e).toLowerCase():""}get datatype(){return new iB(this.datatypeString)}get datatypeString(){const t=this.id,e=t.lastIndexOf('"')+1,r=e<t.length?t[e]:"";return"^"===r?t.substr(e+2):"@"!==r?y0.string:j1e.langString}equals(t){return t instanceof Hp?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class $1e extends a1{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class X1e extends a1{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}Lp=new class Y1e extends a1{constructor(){return super(""),Lp||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};class sB extends a1{constructor(t,e,r,i){super(""),this._subject=t,this._predicate=e,this._object=r,this._graph=i||Lp}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}}function oB(n){return new iB(n)}function aB(n){return new $1e(n||"n3-"+U1e++)}function lB(n,t){if("string"==typeof t)return new Hp(`"${n}"@${t.toLowerCase()}`);let e=t?t.value:"";return""===e&&("boolean"==typeof n?e=y0.boolean:"number"==typeof n&&(Number.isFinite(n)?e=Number.isInteger(n)?y0.integer:y0.double:(e=y0.double,Number.isNaN(n)||(n=n>0?"INF":"-INF")))),new Hp(""===e||e===y0.string?`"${n}"`:`"${n}"^^${e}`)}function cB(n){return new X1e(n)}function S_(n,t,e,r){return new sB(n,t,e,r)}function Uv(n){if(n instanceof a1)return n;switch(n.termType){case"NamedNode":return oB(n.value);case"BlankNode":return aB(n.value);case"Variable":return cB(n.value);case"DefaultGraph":return Lp;case"Literal":return lB(n.value,n.language||n.datatype);case"Quad":return uB(n);default:throw new Error(`Unexpected termType: ${n.termType}`)}}function uB(n){if(n instanceof sB)return n;if("Quad"!==n.termType)throw new Error(`Unexpected termType: ${n.termType}`);return S_(Uv(n.subject),Uv(n.predicate),Uv(n.object),Uv(n.graph))}let dB=0;class hB{constructor(t){this._contextStack=[],this._graph=null,this._setBase((t=t||{}).baseIRI),t.factory&&fB(this,t.factory);const e="string"==typeof t.format?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(e),i=/trig/.test(e),s=/triple/.test(e),o=/quad/.test(e),a=this._n3Mode=/n3/.test(e),l=s||o;(this._supportsNamedGraphs=!(r||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||s||a),this._supportsRDFStar=""===e||/star|\*$/.test(e),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix="string"!=typeof t.blankNodePrefix?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new W1e({lineMode:l,n3:a}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){dB=0}_setBase(t){if(t){const e=t.indexOf("#");e>=0&&(t=t.substr(0,e)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}else this._base="",this._basePath=""}_saveContext(t,e,r,i,s){const o=this._n3Mode;this._contextStack.push({type:t,subject:r,predicate:i,object:s,graph:e,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,e){const r=this._contextStack.pop();if(!r||r.type!==t)return this._error(`Unexpected ${e.type}`,e);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(t){switch(t.type){case"eof":return null!==this._graph?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,e){let r;switch(t.type){case"IRI":case"typeIRI":const i=this._resolveIRI(t.value);if(null===i)return this._error("Invalid IRI",t);r=this._factory.namedNode(i);break;case"type":case"prefixed":const s=this._prefixes[t.prefix];if(void 0===s)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._factory.namedNode(s+t.value);break;case"blank":r=this._factory.blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._factory.variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!e&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(0===t.prefix.length)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if(void 0===(this._subject=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const e=t.type;switch(e){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${e}`,t):(this._subject=null,"]"===e?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if(void 0===(this._predicate=this._readEntity(t)))return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(0===t.prefix.length)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if(void 0===(this._object=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return"{"===t.type?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return"{"!==t.type?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return"]"===t.type?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if("]"!==t.type)return this._readBlankNodePunctuation(t);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const e=null===this._predicate;return this._restoreContext("blank",t),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:e?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let e=null,r=null,i=this._readListItem;const s=this._subject,o=this._contextStack,a=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this._subject=e=this._factory.blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),0!==o.length&&"list"===o[o.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":0===t.prefix.length?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(e=this._factory.literal(t.value,this._factory.namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if(void 0===(e=this._readEntity(t)))return}if(null===r&&(this._subject=r=this._factory.blankNode()),null===s?null===a.predicate?a.subject=r:a.object=r:this._emit(s,this.RDF_REST,r,this._graph),null!==e){if(this._n3Mode&&("IRI"===t.type||"prefixed"===t.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,e),this._subject=e,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,e,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let e=this._factory.literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(void 0===r)return;e=this._factory.literal(this._literalValue,r),t=null;break;case"langcode":e=this._factory.literal(this._literalValue,t.value),t=null}return{token:t,literal:e}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,e){const r=this._completeLiteral(t);if(r)return this._object=r.literal,e&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return"}"!==t.type?this._readPunctuation(t):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let e,r=this._graph;const i=this._subject,s=this._inversePredicate;switch(t.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,e=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":e=this._readPredicate;break;case",":e=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);this._subject=this._factory.quad(i,this._predicate,this._object,this.DEFAULTGRAPH),e=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",t);this._subject=null,e=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(t))){e=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(null!==i){const o=this._predicate,a=this._object;s?this._emit(a,o,i,r):this._emit(i,o,a,r)}return e}_readBlankNodePunctuation(t){let e;switch(t.type){case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),e}_readQuadPunctuation(t){return"."!==t.type?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return"prefix"!==t.type?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if("IRI"!==t.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const e=this._readEntity(t);return this._prefixes[this._prefix]=e.value,this._prefixCallback(this._prefix,e),this._readDeclarationPunctuation}_readBaseIRI(t){const e="IRI"===t.type&&this._resolveIRI(t.value);return e?(this._setBase(e),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return"]"!==t.type?this._error("Invalid graph label",t):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):"."!==t.type?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let e;switch(t.type){case"IRI":case"prefixed":if(void 0!==(e=this._readEntity(t,!0)))break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,e,this.QUANTIFIERS_GRAPH)):this._quantified[e.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return","===t.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const e=this._contextStack,r=e.length&&e[e.length-1];if(r&&"item"===r.type){const i=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let e,r;const i=this._factory.blankNode();if(void 0!==(r=this._readEntity(t)))return null===this._predicate?(e=this._subject,this._subject=i):(e=this._object,this._object=i),this._emit(e,r,i,this._graph),this._readPath}_readBackwardPath(t){const e=this._factory.blankNode();let r,i;if(void 0!==(r=this._readEntity(t)))return null===this._predicate?(i=this._subject,this._subject=e):(i=this._object,this._object=e),this._emit(e,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return">>"!==t.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(t))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(">>"!==t.type)return this._error(`Expected >> but got ${t.type}`,t);const e=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),null===this._subject?(this._subject=e,this._readPredicate):(this._object=e,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,e,r,i){this._callback(null,this._factory.quad(t,e,r,i||this.DEFAULTGRAPH))}_error(t,e){const r=new Error(`${t} on line ${e.line}.`);r.context={token:e,line:e.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=_y}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const e=t.length;let r="",i=-1,s=-1,o=0,a="/";for(;i<e;){switch(a){case":":if(s<0&&"/"===t[++i]&&"/"===t[++i])for(;(s=i+1)<e&&"/"!==t[s];)i=s;break;case"?":case"#":i=e;break;case"/":if("."===t[i+1])switch(a=t[1+ ++i],a){case"/":r+=t.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return r+t.substring(o,i)+t.substr(i+1);case".":if(a=t[1+ ++i],void 0===a||"/"===a||"?"===a||"#"===a){if(r+=t.substring(o,i-2),(o=r.lastIndexOf("/"))>=s&&(r=r.substr(0,o)),"/"!==a)return`${r}/${t.substr(i+1)}`;o=i+1}}}a=t[++i]}return r+t.substring(o)}parse(t,e,r){let i,s,o;if(e&&(e.onQuad||e.onPrefix||e.onComment)?(i=e.onQuad,s=e.onPrefix,o=e.onComment):(i=e,s=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${dB++}_`,this._prefixCallback=s||_y,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const l=[];let c;if(this._callback=(u,d)=>{u?c=u:d&&l.push(d)},this._lexer.tokenize(t).every(u=>this._readCallback=this._readCallback(u)),c)throw c;return l}let a=(l,c)=>{null!==l?(this._callback(l),this._callback=_y):this._readCallback&&(this._readCallback=this._readCallback(c))};o&&(this._lexer.comments=!0,a=(l,c)=>{null!==l?(this._callback(l),this._callback=_y):this._readCallback&&("comment"===c.type?o(c.value):this._readCallback=this._readCallback(c))}),this._callback=i,this._lexer.tokenize(t,a)}}function _y(){}function fB(n,t){n._factory=t,n.DEFAULTGRAPH=t.defaultGraph(),n.RDF_FIRST=t.namedNode(o1.rdf.first),n.RDF_REST=t.namedNode(o1.rdf.rest),n.RDF_NIL=t.namedNode(o1.rdf.nil),n.N3_FORALL=t.namedNode(o1.r.forAll),n.N3_FORSOME=t.namedNode(o1.r.forSome),n.ABBREVIATIONS={a:t.namedNode(o1.rdf.type),"=":t.namedNode(o1.owl.sameAs),">":t.namedNode(o1.log.implies)},n.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}if(fB(hB.prototype,Z1e),typeof Ah>"u")var Ah={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var Bc=function(){function n(t,e){(0,go.A)(this,n),this.options=e||{},this.kb=t,this.target=e.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return(0,mo.A)(n,[{key:"addTriple",value:function(e,r,i,s){var o,a,l,c;o=typeof r>"u"?vu.namedNode(this.options.base):this.toRDFNodeObject(r),l=this.toRDFNodeObject(i),a=this.toRDFNodeObject(s),c=vu.namedNode(this.options.base),this.kb.add(o,l,a,c)}},{key:"ancestorPath",value:function(e){for(var r="";e&&e.nodeType!==Ah.DOCUMENT_NODE;)r="/"+e.localName+r,e=e.parentNode;return r}},{key:"copyMappings",value:function(e){var r={};for(var i in e)r[i]=e[i];return r}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(e){for(var r=0;r<n.dateTimeTypes.length;r++){var i=n.dateTimeTypes[r].pattern.exec(e);if(i&&i[0].length===e.length)return n.dateTimeTypes[r].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return this.blankCounter++,"_:"+this.blankCounter}},{key:"newSubjectOrigin",value:function(e,r){}},{key:"parseCURIE",value:function(e,r,i){var o,s=e.indexOf(":");if(s>=0){var a=e.substring(0,s);if(""===a)return(o=r[""])?o+e.substring(s+1):null;if("_"===a)return"_:"+e.substring(s+1);if(n.NCNAME.test(a)&&(o=r[a]))return o+e.substring(s+1)}return null}},{key:"parseCURIEOrURI",value:function(e,r,i){return this.parseCURIE(e,r,i)||this.resolveAndNormalize(i,e)}},{key:"parsePredicate",value:function(e,r,i,s,o,a){if(""===e)return null;var l=this.parseTermOrCURIEOrAbsURI(e,r,a?null:i,s,o);return l&&0===l.indexOf("_:")?null:l}},{key:"parsePrefixMappings",value:function(e,r){for(var i=this.tokenize(e),s=null,o=0;o<i.length;o++)":"===i[o][i[o].length-1]?s=i[o].substring(0,i[o].length-1):s&&(r[s]=this.options.base?Fc(i[o],this.options.base):i[o],s=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(e,r,i){return"["===(e=this.trim(e)).charAt(0)&&"]"===e.charAt(e.length-1)?0===(e=(e=e.substring(1,e.length-1)).trim(e)).length?null:"_:"===e?this.theOne:this.parseCURIE(e,r,i):this.parseCURIEOrURI(e,r,i)}},{key:"parseTermOrCURIEOrAbsURI",value:function(e,r,i,s,o){e=this.trim(e);var a=this.parseCURIE(e,s,o);if(a)return a;if(i){if(r&&!this.absURIRE.exec(e))return r+e;var l=i[e];if(l)return l;if(l=i[e.toLowerCase()])return l}return this.absURIRE.exec(e)?this.resolveAndNormalize(o,e):null}},{key:"parseTermOrCURIEOrURI",value:function(e,r,i,s,o){e=this.trim(e);var a=this.parseCURIE(e,s,o);if(a)return a;var l=i[e];return l||(l=i[e.toLowerCase()])||(r&&!this.absURIRE.exec(e)?r+e:this.resolveAndNormalize(o,e))}},{key:"parseURI",value:function(e){return e}},{key:"process",value:function(e,r){var i;r=r||{},e.nodeType===Ah.DOCUMENT_NODE?(e.baseURI&&!r.baseURI&&(r.baseURI=e.baseURI),i=e.baseURI,(e=e.documentElement).baseURI||(e.baseURI=i),this.setContext(e)):e.parentNode.nodeType===Ah.DOCUMENT_NODE&&this.setContext(e);var s=[],o=function(Ki){if(!Ki&&r&&r.baseURI)return r.baseURI;var Xl=Ki.indexOf("#");return Xl>=0&&(Ki=Ki.substring(0,Xl)),r&&r.baseURIMap&&(Ki=r.baseURIMap(Ki)),Ki};for(s.push({current:e,context:this.push(null,o(e.baseURI))});s.length>0;){var a=s.shift();if(a.parent){if(a.context.parent&&a.context.parent.listMapping===a.listMapping)continue;for(var l in a.listMapping){var c=a.listMapping[l];if(0!==c.length){for(var u=[],d=0;d<c.length;d++)u.push(this.newBlankNode());for(var h=0;h<u.length;h++)this.addTriple(a.parent,u[h],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",c[h]),this.addTriple(a.parent,u[h],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:n.objectURI,value:h+1<u.length?u[h+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(a.parent,a.subject,l,{type:n.objectURI,value:u[0]})}else this.addTriple(a.parent,a.subject,l,{type:n.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}}else{var f=a.current,g=a.context,w=!1,C=null,I=null,L=null,ie=g.prefixes,ne=!1,se=[],$=g.listMapping,Y=!g.parent,ve=g.language,Re=g.vocabulary;i=this.parseURI(o(f.baseURI)),f.item=null;var Fe=f.getAttributeNode("vocab");if(Fe){var Ze=this.trim(Fe.value);Ze.length>0?this.addTriple(f,i.spec,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:n.objectURI,value:Re=Ze}):Re=this.vocabulary}for(var st=0;st<f.attributes.length;st++){var ht=f.attributes[st];if("x"===ht.nodeName.charAt(0)&&0===ht.nodeName.indexOf("xmlns:")){ne||(ie=this.copyMappings(ie),ne=!0);var ot=ht.nodeName.substring(6),nt=n.trim(ht.value);ie[ot]=this.options.base?Fc(nt,this.options.base):nt}}var It=f.getAttributeNode("prefix");It&&(ne||(ie=this.copyMappings(ie),ne=!0),this.parsePrefixMappings(It.value,ie));for(var Dt=null,bn=0;!Dt&&bn<this.langAttributes.length;bn++)Dt=f.getAttributeNodeNS(this.langAttributes[bn].namespaceURI,this.langAttributes[bn].localName);if(Dt){var Fn=n.trim(Dt.value);ve=Fn.length>0?Fn:null}var mr,To,Lt=f.getAttributeNode("rel"),Ht=f.getAttributeNode("rev"),Pn=f.getAttributeNode("typeof"),Zn=f.getAttributeNode("property"),wr=f.getAttributeNode("datatype"),Wr=this.inHTMLMode?f.getAttributeNode("datetime"):null,yr=f.getAttributeNode("content"),ai=f.getAttributeNode("about"),Ai=f.getAttributeNode("src"),Yi=f.getAttributeNode("resource"),cn=f.getAttributeNode("href"),Fa=f.getAttributeNode("inlist"),yo=[];if(Lt){To=this.tokenize(Lt.value);for(var _a=0;_a<To.length;_a++)(mr=this.parsePredicate(To[_a],Re,g.terms,ie,i,this.inHTMLMode&&null!==Zn))&&yo.push(mr)}var Is=[];if(Ht){To=this.tokenize(Ht.value);for(var Xc=0;Xc<To.length;Xc++)(mr=this.parsePredicate(To[Xc],Re,g.terms,ie,i,this.inHTMLMode&&Zn))&&Is.push(mr)}if(this.inHTMLMode&&(Lt||Ht)&&Zn&&(0===yo.length&&(Lt=null),0===Is.length&&(Ht=null)),Lt||Ht?(ai&&(C=this.parseSafeCURIEOrCURIEOrURI(ai.value,ie,i)),Pn&&(L=C),C||(f.parentNode.nodeType===Ah.DOCUMENT_NODE?C=o(f.baseURI):g.parentObject&&(C=o(f.parentNode.baseURI)===g.parentObject?o(f.baseURI):g.parentObject)),Yi&&(I=this.parseSafeCURIEOrCURIEOrURI(Yi.value,ie,i)),I||(cn?I=this.resolveAndNormalize(i,encodeURI(cn.value)):Ai?I=this.resolveAndNormalize(i,encodeURI(Ai.value)):Pn&&!ai&&!(this.inXHTMLMode&&("head"===f.localName||"body"===f.localName))&&(I=this.newBlankNode())),!Pn||ai||!this.inXHTMLMode||"head"!==f.localName&&"body"!==f.localName?Pn&&!ai&&(L=I):L=C):!Zn||yr||wr?(ai&&(C=this.parseSafeCURIEOrCURIEOrURI(ai.value,ie,i)),!C&&Yi&&(C=this.parseSafeCURIEOrCURIEOrURI(Yi.value,ie,i)),!C&&cn&&(C=this.resolveAndNormalize(i,encodeURI(cn.value))),!C&&Ai&&(C=this.resolveAndNormalize(i,encodeURI(Ai.value))),C||(f.parentNode.nodeType===Ah.DOCUMENT_NODE?C=o(f.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!==f.localName&&"body"!==f.localName?Pn?C=this.newBlankNode():g.parentObject&&(C=o(f.parentNode.baseURI)===g.parentObject?o(f.baseURI):g.parentObject,Zn||(w=!0)):C=o(f.parentNode.baseURI)===g.parentObject?o(f.baseURI):g.parentObject),Pn&&(L=C)):(ai&&(C=this.parseSafeCURIEOrCURIEOrURI(ai.value,ie,i),Pn&&(L=C)),C||f.parentNode.nodeType!==Ah.DOCUMENT_NODE?!C&&g.parentObject&&(C=o(f.parentNode.baseURI)===g.parentObject?o(f.baseURI):g.parentObject):(C=o(f.baseURI),Pn&&(L=C)),Pn&&!L&&(Yi&&(L=this.parseSafeCURIEOrCURIEOrURI(Yi.value,ie,i)),!L&&cn&&(L=this.resolveAndNormalize(i,encodeURI(cn.value))),!L&&Ai&&(L=this.resolveAndNormalize(i,encodeURI(Ai.value))),!L&&(this.inXHTMLMode||this.inHTMLMode)&&("head"===f.localName||"body"===f.localName)&&(L=C),L||(L=this.newBlankNode()),I=L)),C&&(ai||Yi||L)){var Os=C;Pn&&!ai&&!Yi&&I&&(Os=I),this.newSubjectOrigin(f,Os)}if(L){To=this.tokenize(Pn.value);for(var tl=0;tl<To.length;tl++){var Yc=this.parseTermOrCURIEOrAbsURI(To[tl],Re,g.terms,ie,i);Yc&&this.addTriple(f,L,n.typeURI,{type:n.objectURI,value:Yc})}}if(C&&C!==g.parentObject&&($={},Y=!0),I){if(Lt&&Fa)for(var hs=0;hs<yo.length;hs++){var ro=$[yo[hs]];ro||($[yo[hs]]=ro=[]),ro.push({type:n.objectURI,value:I})}else if(Lt)for(var ua=0;ua<yo.length;ua++)this.addTriple(f,C,yo[ua],{type:n.objectURI,value:I});if(Ht)for(var hi=0;hi<Is.length;hi++)this.addTriple(f,I,Is[hi],{type:n.objectURI,value:C})}else{if(C&&!I&&(Lt||Ht)&&(I=this.newBlankNode()),Lt&&Fa)for(var Mi=0;Mi<yo.length;Mi++){var Jr=$[yo[Mi]];Jr||($[mr]=Jr=[]),se.push({predicate:yo[Mi],list:Jr})}else if(Lt)for(var Ei=0;Ei<yo.length;Ei++)se.push({predicate:yo[Ei],forward:!0});if(Ht)for(var Sr=0;Sr<Is.length;Sr++)se.push({predicate:Is[Sr],forward:!1})}if(Zn){var Yn=null,nr=null;wr?(Yn=""===wr.value?n.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(wr.value,Re,g.terms,ie,i),nr=Wr&&!yr?Wr.value:Yn===n.XMLLiteralURI||Yn===n.HTMLLiteralURI?null:yr?yr.value:f.textContent):yr?(Yn=n.PlainLiteralURI,nr=yr.value):Wr?(Yn=n.deriveDateTimeType(nr=Wr.value))||(Yn=n.PlainLiteralURI):!Lt&&!Ht&&(Yi&&(nr=this.parseSafeCURIEOrCURIEOrURI(Yi.value,ie,i)),!nr&&cn?nr=this.resolveAndNormalize(i,encodeURI(cn.value)):!nr&&Ai&&(nr=this.resolveAndNormalize(i,encodeURI(Ai.value))),nr&&(Yn=n.objectURI)),Yn||(Pn&&!ai?(Yn=n.objectURI,nr=L):(nr=f.textContent,this.inHTMLMode&&"time"===f.localName&&(Yn=n.deriveDateTimeType(nr)),Yn||(Yn=n.PlainLiteralURI))),To=this.tokenize(Zn.value);for(var As=0;As<To.length;As++){var Zo=this.parsePredicate(To[As],Re,g.terms,ie,i);if(Zo)if(Fa){var $o=$[Zo];$o||($[Zo]=$o=[]),$o.push(Yn===n.XMLLiteralURI||Yn===n.HTMLLiteralURI?{type:Yn,value:f.childNodes}:{type:Yn||n.PlainLiteralURI,value:nr,language:ve})}else this.addTriple(f,C,Zo,Yn===n.XMLLiteralURI||Yn===n.HTMLLiteralURI?{type:Yn,value:f.childNodes}:{type:Yn||n.PlainLiteralURI,value:nr,language:ve})}}if(C&&!w)for(var Ds=0;Ds<g.incomplete.length;Ds++)g.incomplete[Ds].list?g.incomplete[Ds].list.push({type:n.objectURI,value:C}):g.incomplete[Ds].forward?this.addTriple(f,g.subject,g.incomplete[Ds].predicate,{type:n.objectURI,value:C}):this.addTriple(f,C,g.incomplete[Ds].predicate,{type:n.objectURI,value:g.subject});var Wi=null,ls=C;w?((Wi=this.push(g,g.subject)).parentObject=o(f.parentNode.baseURI)===g.parentObject?o(f.baseURI):g.parentObject,Wi.incomplete=g.incomplete,Wi.language=ve,Wi.prefixes=ie,Wi.vocabulary=Re):((Wi=this.push(g,C)).parentObject=I||C||g.subject,Wi.prefixes=ie,Wi.incomplete=se,I&&(ls=I,$={},Y=!0),Wi.listMapping=$,Wi.language=ve,Wi.vocabulary=Re),Y&&s.unshift({parent:f,context:g,subject:ls,listMapping:$});for(var io=f.lastChild;io;io=io.previousSibling)io.nodeType===Ah.ELEMENT_NODE&&s.unshift({current:io,context:Wi})}}this.inHTMLMode&&this.copyProperties();for(var Xo=0;Xo<this.finishedHandlers.length;Xo++)this.finishedHandlers[Xo](e)}},{key:"push",value:function(e,r){return{parent:e,subject:r||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(e,r){return Fc(r,e)}},{key:"setContext",value:function(e){"html"===e.localName&&"XHTML+RDFa 1.1"===e.getAttribute("version")?this.setXHTMLContext():"html"===e.localName||"http://www.w3.org/1999/xhtml"===e.namespaceURI?typeof document<"u"&&document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"===document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"===document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"toRDFNodeObject",value:function(e){var r=this;if(!(typeof e>"u")){if("string"==typeof e)return"_:"===e.substring(0,2)?(typeof this.blankNodes[e.substring(2)]>"u"&&(this.blankNodes[e.substring(2)]=new mu(e.substring(2))),this.blankNodes[e.substring(2)]):vu.namedNode(e);switch(e.type){case n.objectURI:return"_:"===e.value.substring(0,2)?(typeof this.blankNodes[e.value.substring(2)]>"u"&&(this.blankNodes[e.value.substring(2)]=new mu(e.value.substring(2))),this.blankNodes[e.value.substring(2)]):vu.namedNode(e.value);case n.PlainLiteralURI:return new uc(e.value,e.language||"");case n.XMLLiteralURI:case n.HTMLLiteralURI:var i="";return Object.keys(e.value).forEach(function(s){i+=wu.jI(e.value[s],r.htmlOptions)}),new uc(i,"",new Za.A(e.type));default:return new uc(e.value,"",new Za.A(e.type))}}}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(e,r,i){var s=new n(r,{base:i});e.baseURI||(e.baseURI=i),s.process(e,{baseURI:i})}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}])}();Bc.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",Bc.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",Bc.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",Bc.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",Bc.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",Bc.nameChar="[-A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\u10000-\uefffF.0-9\xb7\u0300-\u036f\u203f-\u2040]",Bc.nameStartChar="[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u0131\u0134-\u013e\u0141-\u0148\u014a-\u017e\u0180-\u01c3\u01cd-\u01f0\u01f4-\u01f5\u01fa-\u0217\u0250-\u02a8\u02bb-\u02c1\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03d6\u03da\u03dc\u03de\u03e0\u03e2-\u03f3\u0401-\u040c\u040e-\u044f\u0451-\u045c\u045e-\u0481\u0490-\u04c4\u04c7-\u04c8\u04cb-\u04cc\u04d0-\u04eb\u04ee-\u04f5\u04f8-\u04f9\u0531-\u0556\u0559\u0561-\u0586\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0641-\u064a\u0671-\u06b7\u06ba-\u06be\u06c0-\u06ce\u06d0-\u06d3\u06d5\u06e5-\u06e6\u0905-\u0939\u093d\u0958-\u0961\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8b\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ae0\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b36-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb5\u0bb7-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0e01-\u0e2e\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eae\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0f40-\u0f47\u0f49-\u0f69\u10a0-\u10c5\u10d0-\u10f6\u1100\u1102-\u1103\u1105-\u1107\u1109\u110b-\u110c\u110e-\u1112\u113c\u113e\u1140\u114c\u114e\u1150\u1154-\u1155\u1159\u115f-\u1161\u1163\u1165\u1167\u1169\u116d-\u116e\u1172-\u1173\u1175\u119e\u11a8\u11ab\u11ae-\u11af\u11b7-\u11b8\u11ba\u11bc-\u11c2\u11eb\u11f0\u11f9\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2126\u212a-\u212b\u212e\u2180-\u2182\u3041-\u3094\u30a1-\u30fa\u3105-\u312c\uac00-\ud7a3\u4e00-\u9fa5\u3007\u3021-\u3029_]",Bc.NCNAME=new RegExp("^"+Bc.nameStartChar+Bc.nameChar+"*$"),Bc.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];var Iy=Bc.parseRDFaDOM,Ay=function(){function n(t){(0,go.A)(this,n),this.store=t,this.bnodes={},this.why=null,this.reify=!1}return(0,mo.A)(n,[{key:"frameFactory",value:function(e,r,i){return{NODE:1,ARC:2,parent:r,parser:e,store:e.store,element:i,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(o,a){a=Fc(a,this.base),this.node=this.store.sym(a),this.nodeType=o},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var o=this.store.sym(Fc("#"+this.parent.rdfid,this.base));this.store.add(o,this.store.sym(n.ns.RDF+"type"),this.store.sym(n.ns.RDF+"Statement"),this.parser.why),this.store.add(o,this.store.sym(n.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(o,this.store.sym(n.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(o,this.store.sym(n.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(o){this.addSymbol(this.NODE,o),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(o){this.node=null!=o?null!=this.parser.bnodes[o]?this.parser.bnodes[o]:this.parser.bnodes[o]=this.store.bnode():this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(o){o===n.ns.RDF+"li"&&(o=n.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,o)},addLiteral:function(o){this.node=this.store.literal(o,this.parent.datatype&&this.parent.datatype!==n.ns.RDF+"langString"?this.store.sym(this.parent.datatype):this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}}},{key:"getAttributeNodeNS",value:function(e,r,i){var s=null;if(e.getAttributeNodeNS)s=e.getAttributeNodeNS(r,i);else for(var a,o=e.attributes,c=0;c<o.length;++c)if((a=o[c]).namespaceURI===r&&(a.prefix?a.prefix+":"+i:i)===a.nodeName){s=a;break}return s}},{key:"parse",value:function(e,r,i){var o,s=e.childNodes;if(this.cleanParser(),e.nodeType===n.nodeType.DOCUMENT){for(var a=0;a<s.length;a++)if(s[a].nodeType===n.nodeType.ELEMENT){o=s[a];break}}else{if(e.nodeType!==n.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+r+". Halting. ");o=e}this.why=i;var l=this.frameFactory(this);return this.base=r,l.base=r,l.lang=null,this.parseDOM(this.buildFrame(l,o)),!0}},{key:"parseDOM",value:function(e){for(var r,i=function(se){var $="";if(null==se.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+se.localName+" in "+this.base);return se.namespaceURI&&($+=se.namespaceURI),se.localName?$+=se.localName:se.nodeName&&(se.nodeName.indexOf(":")>=0?$+=se.nodeName.split(":")[1]:$+=se.nodeName),$}.bind(this),s=!0;e.parent;){var o=e.element,a=o.attributes;if(o.nodeType===n.nodeType.TEXT||o.nodeType===n.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(n.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(o.nodeValue);else if(i(o)!==n.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),(e=this.buildFrame(e,e.element)).parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!==e.ARC){e.addArc(i(o)),this.reify&&(r=this.getAttributeNodeNS(o,n.ns.RDF,"ID"))&&(e.rdfid=r.nodeValue,o.removeAttributeNode(r));var h=this.getAttributeNodeNS(o,n.ns.RDF,"parseType"),f=this.getAttributeNodeNS(o,n.ns.RDF,"datatype");if(f&&(e.datatype=f.nodeValue,o.removeAttributeNode(f)),h){var g=h.nodeValue;"Literal"===g?(e.datatype=n.ns.RDF+"XMLLiteral",(e=this.buildFrame(e)).addLiteral(o.innerHTML||o.childNodes),s=!1):"Resource"===g?((e=this.buildFrame(e,e.element)).parent.element=null,e.addBNode()):"Collection"===g&&((e=this.buildFrame(e,e.element)).parent.element=null,e.addCollection()),o.removeAttributeNode(h)}if(0!==a.length){var w=this.getAttributeNodeNS(o,n.ns.RDF,"resource"),C=this.getAttributeNodeNS(o,n.ns.RDF,"nodeID");e=this.buildFrame(e),w?(e.addNode(w.nodeValue),o.removeAttributeNode(w)):C?(e.addBNode(C.nodeValue),o.removeAttributeNode(C)):e.addBNode();for(var I=a.length-1;I>=0;I--){var L=this.buildFrame(e);L.addArc(i(a[I])),i(a[I])===n.ns.RDF+"type"?this.buildFrame(L).addNode(a[I].nodeValue):this.buildFrame(L).addLiteral(a[I].nodeValue)}}else 0===o.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var l=this.getAttributeNodeNS(o,n.ns.RDF,"about");if(r=this.getAttributeNodeNS(o,n.ns.RDF,"ID"),l&&r)throw new Error("RDFParser: "+o.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!l&&r)e.addNode("#"+r.nodeValue),o.removeAttributeNode(r);else if(null==l&&null==r){var c=this.getAttributeNodeNS(o,n.ns.RDF,"nodeID");c?(e.addBNode(c.nodeValue),o.removeAttributeNode(c)):e.addBNode()}else e.addNode(l.nodeValue),o.removeAttributeNode(l);var u=this.getAttributeNodeNS(o,n.ns.RDF,"type");n.ns.RDF+"Description"!==i(o)&&(u={nodeValue:i(o)}),null!=u&&(this.store.add(e.node,this.store.sym(n.ns.RDF+"type"),this.store.sym(Fc(u.nodeValue,e.base)),this.why),u.nodeName&&o.removeAttributeNode(u));for(var d=a.length-1;d>=0;d--)this.store.add(e.node,this.store.sym(i(a[d])),this.store.literal(a[d].nodeValue,e.lang),this.why)}for(o=e.element;e.parent;){for(var ie=e;null==o;)o=(e=e.parent).element;var ne=o.childNodes&&o.childNodes[e.lastChild];if(ne&&s){if((ne.nodeType===n.nodeType.ELEMENT||ne.nodeType===n.nodeType.TEXT||ne.nodeType===n.nodeType.CDATA_SECTION)&&(ne.nodeType!==n.nodeType.TEXT&&ne.nodeType!==n.nodeType.CDATA_SECTION||1===o.childNodes.length)){e.lastChild++,e=this.buildFrame(ie,o.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;o=e.element,s=!0}}}}},{key:"cleanParser",value:function(){this.bnodes={},this.why=null}},{key:"buildFrame",value:function(e,r){var i=this.frameFactory(this,e,r);if(e&&(i.base=e.base,i.lang=e.lang),!r||r.nodeType===n.nodeType.TEXT||r.nodeType===n.nodeType.CDATA_SECTION)return i;var s=r.attributes,o=r.getAttributeNode("xml:base");null!=o&&(i.base=o.nodeValue,r.removeAttribute("xml:base"));var a=r.getAttributeNode("xml:lang");null!=a&&(i.lang=a.nodeValue,r.removeAttribute("xml:lang"));for(var l=s.length-1;l>=0;l--)if("xml"===s[l].nodeName.substr(0,3)){if("xmlns:"===s[l].name.slice(0,6)){var c=s[l].nodeValue;this.base&&(c=Fc(c,this.base)),this.store.setPrefixForURI(s[l].name.slice(6),c)}r.removeAttributeNode(s[l])}return i}}])}();function My(n,t,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text/turtle",i=arguments.length>4?arguments[4]:void 0;r=(r=r||Wn.sT).split(";")[0];try{if(r===Wn.ny||r===Wn.sT)x_(t,t,e,e,null,null,"",null).loadBuf(n),l();else if(r===Wn.JG)new Ay(t).parse(wu.h4(n),e,t.sym(e)),l();else if(r===Wn.H)Iy(wu.h4(n,{contentType:Wn.H}),t,e),l();else if(r===Wn.lc)Iy(wu.h4(n,{contentType:Wn.lc}),t,e),l();else if(r===Wn.K9||r===Wn.Fn)(function q1e(n,t,e){var r,i,s,o=["INSERT","DELETE","WHERE"],a=Hs("http://www.w3.org/ns/pim/patch#"),l=x_(t,t,e,e,null,null,"",null),c={},u=function(C,I,L,ie,ne){return"Line "+(I+1)+" of <"+C+">: Bad syntax:\n   "+ne+'\n   at: "'+L.slice(ie,ie+30)+'"'};r=0;var d=t.sym(e+"#query");for(c.query=d;;){if((i=l.skipSpace(n,r))<0)return c;if(";"===n[i]){if((r=l.skipSpace(n,i+1))<0)return c;i=r}var h=!1;for(s=0;s<o.length;s++){var f=o[s];if(n.slice(i,i+f.length)===f){if((r=l.skipSpace(n,i+f.length))<0)throw u(l._thisDoc,l.lines,n,i+f.length,"found EOF, needed {...} after "+f);if(("INSERT"===f||"DELETE"===f)&&"DATA"===n.slice(r,r+4)){if((i=l.skipSpace(n,r+4))<0)throw u(l._thisDoc,l.lines,n,r+4,"needed {...} after INSERT DATA "+f);r=i}var g=[];if((i=l.node(n,r,g))<0)throw u(l._thisDoc,l.lines,n,r,"bad syntax or EOF in {...} after "+f);c[f.toLowerCase()]=g[0],t.add(d,a(f.toLowerCase()),g[0]),h=!0,r=i}}if(!h&&"@prefix"===n.slice(i,i+7)){if((r=l.directive(n,i))<0)throw u(l._thisDoc,l.lines,n,r,"bad syntax or EOF after @prefix ");r=l.checkDot(n,r),h=!0}if(!h)throw u(l._thisDoc,l.lines,n,i,"Unknown syntax at start of statememt: '"+n.slice(i).slice(0,20)+"'")}})(n,t,e),l();else if(r===Wn.i2)QP(n,t,e,l);else{if(r!==Wn._0&&r!==Wn.BR)throw void 0===r?new Error("contentType is undefined"):new Error("Don't know how to parse "+r+" yet");var a=new hB({factory:__});!function u(h,f){h&&i(h,t);try{a.parse(f,d)}catch(g){i(g,t)}}(null,n)}}catch(h){!function c(h){if(r!==Wn.i2||r!==Wn._0||r!==Wn.BR){if(!i){var f=new Error(h+" while trying to parse <"+e+"> as "+r);throw f.cause=h,f}i(h,t)}}(h)}function l(){i&&i(null,t)}function d(h,f){f?t.add(f.subject,f.predicate,f.object,f.graph):i(h,t)}My.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/sparql-update-single-match":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0}}(0,Zt.A)(Ay,"ns",{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"}),(0,Zt.A)(Ay,"nodeType",{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12});var Ey=B(8868),J1e=B.n(Ey),Zv=B(79);function pB(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function C0(n,t,e){return t=(0,$a.A)(t),(0,_h.A)(n,gB()?Reflect.construct(t,e||[],(0,$a.A)(n).constructor):t.apply(n,e))}function gB(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gB=function(){return!!n})()}var tde={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},mB={rdf:Wn.JG,owl:Wn.JG,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},vB=function(t){return{link:Hs("http://www.w3.org/2007/ont/link#",t),http:Hs("http://www.w3.org/2007/ont/http#",t),httph:Hs("http://www.w3.org/2007/ont/httph#",t),rdf:Hs("http://www.w3.org/1999/02/22-rdf-syntax-ns#",t),rdfs:Hs("http://www.w3.org/2000/01/rdf-schema#",t),dc:Hs("http://purl.org/dc/elements/1.1/",t),ldp:Hs("http://www.w3.org/ns/ldp#",t)}},l1=vB(),Mh=(0,mo.A)(function n(t,e){(0,go.A)(this,n),(0,Zt.A)(this,"response",void 0),(0,Zt.A)(this,"dom",void 0),this.response=t,this.dom=e});(0,Zt.A)(Mh,"pattern",void 0);var T_=function(n){function t(){return(0,go.A)(this,t),C0(this,t,arguments)}return(0,Fl.A)(t,n),(0,mo.A)(t,[{key:"parse",value:function(r,i,s){var o=r.store;if(this.dom||(this.dom=wu.h4(i)),"parsererror"===this.dom.documentElement.nodeName)return r.failFetch(s,"Badly formed XML in "+s.resource.value,"parse_error");var l=new Ay(o);try{l.parse(this.dom,s.original.value,s.original)}catch(c){return r.failFetch(s,"Syntax error parsing RDF/XML! "+c,"parse_error")}return s.noMeta||o.add(s.original,l1.rdf("type"),l1.link("RDFDocument"),r.appNode),r.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"RDFXMLHandler"}},{key:"register",value:function(r){r.mediatypes[Wn.JG]={q:.9}}}])}(Mh);T_.pattern=new RegExp("application/rdf\\+xml");var b0=function(n){function t(){return(0,go.A)(this,t),C0(this,t,arguments)}return(0,Fl.A)(t,n),(0,mo.A)(t,[{key:"parse",value:function(r,i,s){var o,a;this.dom||(this.dom=wu.h4(i));var l=r.store,c=this.dom.getElementsByTagName("title");c.length>0&&l.add(s.resource,l1.dc("title"),l.rdfFactory.literal(c[0].textContent),s.resource);for(var u=this.dom.getElementsByTagName("link"),d=u.length-1;d>=0;d--)a=!1,(o=u[d].getAttribute("rel"))||(o=u[d].getAttribute("rev"),a=!0),o&&r.linkData(s.original,o,u[d].getAttribute("href"),s.resource,a);for(var h=this.dom.getElementsByTagName("script"),f=0;f<h.length;f++){var g=h[f].getAttribute("type");tde[g]&&(My(h[f].textContent,l,s.original.value,g),My(h[f].textContent,l,s.original.value,g))}if(s.noMeta||l.add(s.resource,l1.rdf("type"),l1.link("WebPage"),r.appNode),!s.noRDFa&&Iy)try{Iy(this.dom,l,s.original.value)}catch(C){return r.failFetch(s,"Error trying to parse "+s.resource+" as RDFa:\n"+C+":\n"+C.stack,"parse_error")}return r.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"XHTMLHandler"}},{key:"register",value:function(r){r.mediatypes[Wn.H]={}}}])}(Mh);b0.pattern=new RegExp("application/xhtml");var Sy=function(n){function t(){return(0,go.A)(this,t),C0(this,t,arguments)}return(0,Fl.A)(t,n),(0,mo.A)(t,[{key:"parse",value:function(r,i,s){for(var o=wu.h4(i),a=0;a<o.childNodes.length;a++){var l=o.childNodes[a];if(t.isElement(l)){var c=l.namespaceURI;if(c&&c===c.rdf)return r.addStatus(s.req,"Has XML root element in the RDF namespace, so assume RDF/XML."),new T_(this.response,o).parse(r,i,s);break}}if(o.doctype&&"html"===o.doctype.name&&o.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&o.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/))return r.addStatus(s.req,"Has XHTML DOCTYPE. Switching to XHTML Handler.\n"),new b0(this.response,o).parse(r,i,s);var h=o.getElementsByTagName("html")[0];if(h){var f=h.getAttribute("xmlns");if(f&&f.match(/^http:\/\/www.w3.org\/1999\/xhtml/))return r.addStatus(s.req,"Has a default namespace for XHTML. Switching to XHTMLHandler.\n"),new b0(this.response,o).parse(r,i,s)}return r.failFetch(s,"Unsupported dialect of XML: not RDF or XHTML namespace, etc.\n"+i.slice(0,80),901)}}],[{key:"toString",value:function(){return"XMLHandler"}},{key:"register",value:function(r){r.mediatypes["text/xml"]={q:.5},r.mediatypes["application/xml"]={q:.5}}},{key:"isElement",value:function(r){return r.nodeType===Node.ELEMENT_NODE}}])}(Mh);Sy.pattern=new RegExp("(text|application)/(.*)xml");var wB=function(n){function t(){return(0,go.A)(this,t),C0(this,t,arguments)}return(0,Fl.A)(t,n),(0,mo.A)(t,[{key:"parse",value:function(r,i,s){var o=r.store;if(xB(i))return r.addStatus(s.req,"Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.\n"),new b0(this.response).parse(r,i,s);if(function nde(n){var t=n.indexOf("<!DOCTYPE html"),e=n.indexOf(">");return!(-1===t||-1===e||t>e)&&-1!==n.substr(t,e-t).indexOf("XHTML")}(i))return r.addStatus(s.req,"Has XHTML DOCTYPE. Switching to XHTMLHandler.\n"),new b0(this.response).parse(r,i,s);if(function rde(n){return!!n.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/)}(i))return r.addStatus(s.req,"Has default namespace for XHTML, so switching to XHTMLHandler.\n"),new b0(this.response).parse(r,i,s);var u=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(i);return u&&o.add(s.resource,l1.dc("title"),o.rdfFactory.literal(u[1]),s.resource),o.add(s.resource,l1.rdf("type"),l1.link("WebPage"),r.appNode),r.addStatus(s.req,"non-XML HTML document, not parsed for data."),r.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"HTMLHandler"}},{key:"register",value:function(r){r.mediatypes["text/html"]={q:.9}}}])}(Mh);wB.pattern=new RegExp("text/html");var yB=function(n){function t(){return(0,go.A)(this,t),C0(this,t,arguments)}return(0,Fl.A)(t,n),(0,mo.A)(t,[{key:"parse",value:function(r,i,s,o){var a=r.store;return new Promise(function(l,c){try{QP(i,a,s.original.value,function(){l(r.doneFetch(s,o))})}catch(d){l(r.failFetch(s,"Error trying to parse "+s.resource+" as JSON-LD:\n"+d,"parse_error",o))}})}}],[{key:"toString",value:function(){return"JsonLdHandler"}},{key:"register",value:function(r){r.mediatypes["application/ld+json"]={q:.9}}}])}(Mh);yB.pattern=/application\/ld\+json/;var CB=function(n){function t(){return(0,go.A)(this,t),C0(this,t,arguments)}return(0,Fl.A)(t,n),(0,mo.A)(t,[{key:"parse",value:function(r,i,s){return xB(i)?(r.addStatus(s.req,"Warning: "+s.resource+" has an XML declaration. We'll assume it's XML but its content-type wasn't XML.\n"),new Sy(this.response).parse(r,i,s)):i.slice(0,500).match(/xmlns:/)?(r.addStatus(s.req,"May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.\n"),new Sy(this.response).parse(r,i,s)):(r.addStatus(s.req,"Plain text document, no known RDF semantics."),r.doneFetch(s,this.response))}}],[{key:"toString",value:function(){return"TextHandler"}},{key:"register",value:function(r){r.mediatypes["text/plain"]={q:.5}}}])}(Mh);CB.pattern=new RegExp("text/plain");var bB=function(n){function t(){return(0,go.A)(this,t),C0(this,t,arguments)}return(0,Fl.A)(t,n),(0,mo.A)(t,[{key:"parse",value:function(r,i,s,o){var a=r.store,l=x_(a,a,s.original.value,s.original.value,null,null,"",null);try{l.loadBuf(i)}catch(u){return r.failFetch(s,"Error trying to parse "+s.resource+" as Notation3:\n"+u,"parse_error",o)}return r.addStatus(s.req,"N3 parsed: "+l.statementCount+" triples in "+l.lines+" lines."),r.store.add(s.original,l1.rdf("type"),l1.link("RDFDocument"),r.appNode),r.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"N3Handler"}},{key:"register",value:function(r){r.mediatypes["text/n3"]={q:"1.0"},r.mediatypes["text/turtle"]={q:1}}}])}(Mh);bB.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var z_={RDFXMLHandler:T_,XHTMLHandler:b0,XMLHandler:Sy,HTMLHandler:wB,TextHandler:CB,N3Handler:bB,JsonLdHandler:yB};function xB(n){return!!n.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)}var Dp=function(){function n(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,go.A)(this,n),(0,Zt.A)(this,"store",void 0),(0,Zt.A)(this,"timeout",void 0),(0,Zt.A)(this,"_fetch",void 0),(0,Zt.A)(this,"mediatypes",void 0),(0,Zt.A)(this,"appNode",void 0),(0,Zt.A)(this,"requested",void 0),(0,Zt.A)(this,"timeouts",void 0),(0,Zt.A)(this,"redirectedTo",void 0),(0,Zt.A)(this,"fetchQueue",void 0),(0,Zt.A)(this,"fetchCallbacks",void 0),(0,Zt.A)(this,"nonexistent",void 0),(0,Zt.A)(this,"lookedUp",void 0),(0,Zt.A)(this,"handlers",void 0),(0,Zt.A)(this,"ns",void 0),(0,Zt.A)(this,"fireCallbacks",void 0),this.store=t||new Bv,this.ns=vB(this.store.rdfFactory),this.timeout=r.timeout||3e4,this._fetch=r.fetch||typeof global<"u"&&(global.solidFetcher||global.solidFetch)||typeof window<"u"&&(window.solidFetcher||window.solidFetch)||J1e(),!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.sym("chrome://TheCurrentSession"),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},wu.Kw(this,["request","fail","refresh","retract","done"]),Object.keys(r.handlers||z_).map(function(i){return e.addHandler(z_[i])})}return(0,mo.A)(n,[{key:"load",value:function(e){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i=Object.assign({},i),e instanceof Array)return Promise.all(e.map(function(C){return r.load(C,Object.assign({},i))}));var o=(0,Zv.E)(e);o=o.split("#")[0],i=this.initFetchOptions(o,i);var d,a=this.appNode,l=this.store,u=function Q1e(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function ede(n,t){if(n){if("string"==typeof n)return pB(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return pB(n,t)}}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){e=e.call(n)},n:function(){var c=e.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&null!=e.return&&e.return()}finally{if(o)throw a}}}}(l.statementsMatching(void 0,this.ns.link("requestedURI"),l.sym(o),a).map(function(C){return C.subject}));try{for(u.s();!(d=u.n()).done;){var f=l.any(d.value,this.ns.link("response"),null,a);if(null!=f){var g=l.statementsMatching(f,this.ns.link("outOfDate"),!0,a);l.remove(g),i.force=!0,i.clearPreviousData=!0}}}catch(C){u.e(C)}finally{u.f()}var w=this.initFetchOptions(o,i);return this.pendingFetchPromise(o,w.baseURI,w)}},{key:"pendingFetchPromise",value:(t=(0,La.A)(yy().mark(function r(i,s,o){var l,a=this;return yy().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.t0=!o.force,!u.t0){u.next=5;break}return u.next=4,this.fetchQueue[s];case 4:u.t0=u.sent;case 5:if(!u.t0){u.next=9;break}l=this.fetchQueue[s],u.next=12;break;case 9:l=Promise.race([this.setRequestTimeout(i,o),this.fetchUri(i,o)]),this.fetchQueue[s]=l,this.cleanupFetchRequest(s,void 0,this.timeout);case 12:return u.abrupt("return",l.then(function(d){return i in a.timeouts&&(a.timeouts[i].forEach(clearTimeout),delete a.timeouts[i]),d}));case 13:case"end":return u.stop()}},r,this)})),function e(r,i,s){return t.apply(this,arguments)})},{key:"cleanupFetchRequest",value:function(e,r,i){var s=this;void 0!==r&&console.warn("_options is deprecated"),this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout(function(){s.isPending(e)||delete s.fetchQueue[e]},i))}},{key:"initFetchOptions",value:function(e,r){var i=this.store;!r.method||"GET"===r.method.toUpperCase()||(r.force=!0),r.resource=i.rdfFactory.namedNode(e),r.baseURI=r.baseURI||e,r.original=i.rdfFactory.namedNode(r.baseURI),r.req=i.bnode(),r.headers=r.headers||new Ey.Headers,r.contentType&&(r.headers["content-type"]=r.contentType),r.force&&(r.cache="no-cache");var o=this.acceptString();r.headers.accept=o;var a=n.offlineOverride(e);r.requestedURI=a,n.setCredentials(a,r);var l=n.proxyIfNecessary(a);return a!==l&&(r.proxyUsed=!0),r.actualProxyURI=l,r}},{key:"fetchUri",value:function(e,r){var i=this;if(!e)return Promise.reject(new Error("Cannot fetch an empty uri"));if(n.unsupportedProtocol(e))return this.failFetch(r,"fetcher: Unsupported protocol","unsupported_protocol");var s=this.getState(e);if(r.force)delete this.nonexistent[e];else{if("fetched"===s)return Promise.resolve(this.doneFetch(r,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if("failed"===s&&404===this.requested[e]){var o="Previously failed: "+this.requested[e],a={url:e,status:this.requested[e],statusText:o,responseText:o,headers:new Ey.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(r,o,this.requested[e],a)}}this.fireCallbacks("request",[e]),this.requested[e]=!0,r.noMeta||this.saveRequestMetadata(e,r);var l=r.actualProxyURI;return this._fetch(l,r).then(function(c){return i.handleResponse(c,e,r)},function(c){var u={url:l,status:999,statusText:(c.name||"network failure")+": "+(c.errno||c.code||c.type),responseText:c.message,headers:new Ey.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return i.handleError(u,e,r)})}},{key:"nowOrWhenFetched",value:function(e,r,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(0,Zv.E)(e);"function"==typeof r?i=r:typeof r>"u"||((0,Ks.Y2)(r)?s.referringTerm=r:s=r),this.load(o,s).then(function(a){if(i)if(a)if(a.ok)i(!0,"OK",a);else{var l="HTTP error: Status "+a.status+" ("+a.statusText+")";a.responseText&&(l+=" "+a.responseText),i(!1,l,a)}else i(!1,"@@ nowOrWhenFetched:  no response object!")},function(a){var l=a.message||a.statusText;l="Failed to load  <"+o+"> "+l,a.response&&a.response.status&&(l+=" status: "+a.response.status),i(!1,l,a.response)})}},{key:"addStatus",value:function(e,r){var i=new Date;r="["+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+"."+i.getMilliseconds()+"] "+r;var s=this.store,o=s.the(e,this.ns.link("status"));(0,Ks.P3)(o)?o.append(s.rdfFactory.literal(r)):ba_warn("web.js: No list to add to: "+o+","+r)}},{key:"failFetch",value:function(e,r,i,s){this.addStatus(e.req,r),e.noMeta||this.store.add(e.original,this.ns.link("error"),this.store.rdfFactory.literal(r));var o=(e.method||"GET").toUpperCase();("GET"===o||"HEAD"===o)&&(e.resource.equals(e.original),this.requested[p0(e.original.value)]=i,this.fireCallbacks("fail",[e.original.value,r]));var l=new Error("Fetcher: "+r);return l.status=i,l.statusText=r,l.response=s,Promise.reject(l)}},{key:"linkData",value:function(e,r,i,s,o){if(i){var l,a=this.store,c=a.rdfFactory.namedNode(Fc(i,e.value));if("alternate"===r||"seeAlso"===r||"meta"===r||"describedby"===r){if(c.value===e.value)return;l=this.ns.rdfs("seeAlso")}else l=a.rdfFactory.namedNode("type"===r?"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":Fc(encodeURIComponent(r),"http://www.iana.org/assignments/link-relations/"));o?a.add(c,l,e,s):a.add(e,l,c,s)}}},{key:"parseLinkHeader",value:function(e,r,i){if(e){var o=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,a=e.match(/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g);if(null!=a)for(var l=0;l<a.length;l++){var c=a[l].split(">"),u=c[0].substring(1),h=c[1].match(o);if(null==h)return;for(var f=0;f<h.length;f++){var C=h[f].split("=")[1].replace(/["']/g,"");this.linkData(r,C,u,i)}}}}},{key:"doneFetch",value:function(e,r){return this.addStatus(e.req,"Done."),this.requested[e.original.value]="done",this.fireCallbacks("done",[e.original.value]),r.req=e.req,r}},{key:"nowKnownAs",value:function(e,r){this.lookedUp[e.value]?this.lookedUp[r.value]||this.lookUpThing(r,e):this.lookedUp[r.value]&&(this.lookedUp[e.value]||this.lookUpThing(e,r))}},{key:"putBack",value:function(e){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(0,Zv.E)(e),o=new Za.A(s).doc();return i.contentType=i["content-type"]||i["Content-Type"]||i.contentType||Wn.sT,"application/ld+json"===i.contentType?new Promise(function(a,l){vy(o,r.store,o.uri,i.contentType,function(c,u){c?l(c):(i.data=u,r.webOperation("PUT",e,i).then(function(d){return a(d)}).catch(function(d){return l(d)}))})}):(i.data=vy(o,this.store,o.value,i.contentType),this.webOperation("PUT",s,i))}},{key:"webCopy",value:function(e,r,i){var s=this;return this.webOperation("GET",e).then(function(o){return s.webOperation("PUT",r,{data:o.responseText,contentType:i})})}},{key:"delete",value:function(e,r){var i=this;return this.webOperation("DELETE",e,r).then(function(s){return i.requested[e]=404,i.nonexistent[e]=!0,i.unload(i.store.rdfFactory.namedNode(e)),s})}},{key:"createIfNotExists",value:function(){var t=(0,La.A)(yy().mark(function r(i){var s,o,a,l,c=arguments;return yy().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return s=c.length>1&&void 0!==c[1]?c[1]:Wn.sT,o=c.length>2&&void 0!==c[2]?c[2]:"",a=this,d.prev=3,d.next=6,a.load(i);case 6:l=d.sent,d.next=26;break;case 9:if(d.prev=9,d.t0=d.catch(3),404!==d.t0.response.status){d.next=25;break}return d.prev=12,d.next=15,a.webOperation("PUT",i.value,{data:o,contentType:s});case 15:l=d.sent,d.next=21;break;case 18:throw d.prev=18,d.t1=d.catch(12),d.t1;case 21:return delete a.requested[i.value],d.abrupt("return",l);case 25:throw d.t0;case 26:return d.abrupt("return",l);case 27:case"end":return d.stop()}},r,this,[[3,9],[12,18]])}));return function e(r){return t.apply(this,arguments)}}()},{key:"createContainer",value:function(e,r,i){var s={"content-type":Wn.sT,link:this.ns.ldp("BasicContainer")+'; rel="type"'};r&&(s.slug=r);var o={headers:s};return i&&(o.body=i),this.webOperation("POST",e,o)}},{key:"invalidateCache",value:function(e){var r=(0,Zv.E)(e),i=this;if(i.fetchQueue&&i.fetchQueue[r]&&delete i.fetchQueue[r],i.requested[r]&&"done"!==i.requested[r]&&"failed"!==i.requested[r]&&404!==i.requested[r]){var o="Rdflib: fetcher: Destructive operation on <".concat(i.requested[r],"> file being fetched! ")+r;console.error(o)}else delete i.requested[r],delete i.nonexistent[r]}},{key:"webOperation",value:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=(0,Zv.E)(r);i.method=e,i.body=i.data||i.body,i.force=!0;var o=this;if(i.body&&!i.contentType)throw new Error("Web operation sending data must have a defined contentType.");return i.contentType&&(i.headers=i.headers||{},i.headers["content-type"]=i.contentType),n.setCredentials(s,i),new Promise(function(a,l){o._fetch(s,i).then(function(c){if(c.ok)("PUT"===e||"PATCH"===e||"POST"===e||"DELETE"===e)&&o.invalidateCache(s),c.text?c.text().then(function(h){c.responseText=h,a(c)}):a(c);else{var u="Web error: "+c.status;c.statusText&&(u+=" ("+c.statusText+")"),u+=" on "+e+" of <"+s+">",c.responseText&&(u+=": "+c.responseText);var d=new Error(u);d.response=c,l(d)}},function(c){l(new Error("Fetch error for "+e+" of <"+s+">:"+c))})})}},{key:"lookUpThing",value:function(e,r){var i=this,s=this.store.uris(e);return(s=s.map(function(o){return p0(o)})).forEach(function(o){i.lookedUp[o]=!0}),this.load(s,{referringTerm:r})}},{key:"getHeader",value:function(e,r){for(var i=this.store,s=e.value,o=i.each(void 0,this.ns.link("requestedURI"),i.rdfFactory.literal(s)),a=0;a<o.length;a++){var l=o[a];if(void 0!==l){var c=i.any(l,this.ns.link("response"));if(void 0!==c&&i.anyValue(c,this.ns.http("status"))&&i.anyValue(c,this.ns.http("status")).startsWith("2")){var u=i.each(c,this.ns.httph(r.toLowerCase()));return u.length?u.map(function(d){return d.value}):[]}}}}},{key:"saveRequestMetadata",value:function(e,r){var i=r.req,s=this.store,o=r.referringTerm;this.addStatus(r.req,"Accept: "+r.headers.accept),(0,Ks.Y2)(o)&&s.add(s.rdfFactory.namedNode(e),this.ns.link("requestedBy"),o,this.appNode),r.original&&r.original.value!==e&&s.add(i,this.ns.link("orginalURI"),s.rdfFactory.literal(r.original.value),this.appNode);var a=new Date,l="["+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+"] ";s.add(i,this.ns.rdfs("label"),s.rdfFactory.literal(l+" Request for "+e),this.appNode),s.add(i,this.ns.link("requestedURI"),s.rdfFactory.literal(e),this.appNode),s.add(i,this.ns.link("status"),s.collection(),this.appNode)}},{key:"saveResponseMetadata",value:function(e,r){var i=this,s=this.store,o=s.bnode();return s.add(r.req,this.ns.link("response"),o,this.appNode),s.add(o,this.ns.http("status"),s.rdfFactory.literal(e.status),this.appNode),s.add(o,this.ns.http("statusText"),s.rdfFactory.literal(e.statusText),this.appNode),e.headers.forEach(function(a,l){s.add(o,i.ns.httph(l),i.store.rdfFactory.literal(a),i.appNode),"content-type"===l&&s.add(r.resource,i.ns.rdf("type"),s.rdfFactory.namedNode(wu.tE(a).value),i.appNode)}),o}},{key:"objectRefresh",value:function(e){var r=this.store.uris(e);if(typeof r<"u")for(var i=0;i<r.length;i++)this.refresh(this.store.rdfFactory.namedNode(p0(r[i])))}},{key:"refresh",value:function(e,r){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(e,{force:!0,clearPreviousData:!0},r)}},{key:"refreshIfExpired",value:function(e,r){var i=this.getHeader(e,"Expires");!i||new Date(i[0]).getTime()<=(new Date).getTime()?this.refresh(e,r):r(!0,"Not expired",{})}},{key:"retract",value:function(e){this.store.removeMany(void 0,void 0,void 0,e),e.value&&delete this.requested[p0(e.value)],this.fireCallbacks("retract",arguments)}},{key:"getState",value:function(e){return typeof this.requested[e]>"u"?"unrequested":!0===this.requested[e]?"requested":"done"===this.requested[e]?"fetched":"redirected"===this.requested[e]?this.getState(this.redirectedTo[e]):"failed"}},{key:"isPending",value:function(e){return!0===this.requested[e]}},{key:"unload",value:function(e){this.store.removeDocument(e),delete this.requested[e.value]}},{key:"addHandler",value:function(e){this.handlers.push(e),e.register(this)}},{key:"retryNoCredentials",value:function(e,r){r.retriedWithNoCredentials=!0,delete this.requested[e],delete this.fetchQueue[e];var i=Object.assign({},r,{credentials:"omit"});return this.addStatus(r.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(e,i)}},{key:"isCrossSite",value:function(e){if(typeof document>"u"||!document.location)return!1;var r=$ue,i=""+document.location;return(r(i)&&r(e)&&r(i))!==r(e)}},{key:"handleError",value:function(e,r,i){if(this.isCrossSite(r)){if(i.credentials&&"include"===i.credentials&&!i.retriedWithNoCredentials)return this.retryNoCredentials(r,i);var s=n.crossSiteProxy(r);if(s&&!i.proxyUsed)return this.redirectToProxy(s,i)}var o;return e instanceof Error?o="Fetch error: "+e.message:(o=e.statusText,e.responseText&&(o+=" ".concat(e.responseText))),this.failFetch(i,o,e.status||998,e)}},{key:"addType",value:function(e,r,i,s){var o=r;if(s){var a=i.any(o,this.ns.link("requestedURI"));a&&a.value!==s&&i.add(i.rdfFactory.namedNode(s),this.ns.rdf("type"),e,this.appNode)}for(;;){var l=i.any(o,this.ns.link("requestedURI"));if(l&&l.value&&i.add(i.rdfFactory.namedNode(l.value),this.ns.rdf("type"),e,this.appNode),!(o=i.any(void 0,i.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),o)))break;var c=i.any(o,i.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!c)break;var u=i.any(c,i.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!u||"301"!==u&&"302"!==u)break}}},{key:"handleResponse",value:function(e,r,i){var s=this,o=this.store,a=e.headers,l=i.req,c=this.saveResponseMetadata(e,i),u=this.normalizedContentType(i,a)||"",d=a.get("content-location");if(0===e.status)return this.handleError(e,r,i);if(e.status>=400)return 404===e.status&&(this.nonexistent[i.original.value]=!0,this.nonexistent[r]=!0),this.saveErrorResponse(e,c).then(function(){return s.failFetch(i,i.resource+" "+e.statusText,e.status,e)});var h=null,f=null;if(d&&(f=Fc(d,r))!==r&&(h=f),200===e.status){if(this.addType(this.ns.link("Document"),l,o,r),h&&this.addType(this.ns.link("Document"),l,o,h),i.clearPreviousData)for(var g=o.statementsMatching(void 0,void 0,void 0,i.resource).slice(),w=0;w<g.length;w++)o.removeStatement(g[w]);var C=u.includes("image/")||u.includes("application/pdf");u&&C&&(this.addType(o.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),l,o,r),h&&this.addType(o.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),l,o,h))}if(d){if(!i.force&&h&&"done"===this.requested[f])return this.doneFetch(i,e);this.requested[f]=!0}this.parseLinkHeader(a.get("link"),i.original,l);var I=this.handlerForContentType(u,e);return I?e.text().then(function(L){return e.responseText=L,I.parse(s,L,i,e)}):(this.addStatus(l,"Fetch over. No data handled."),this.doneFetch(i,e))}},{key:"saveErrorResponse",value:function(e,r){var i=this,s=this.store;return e.text().then(function(o){o.length>10&&s.add(r,i.ns.http("content"),s.rdfFactory.literal(o),r)})}},{key:"handlerForContentType",value:function(e,r){if(!e)return null;var i=this.handlers.find(function(s){return e.match(s.pattern)});return i?new i(r):null}},{key:"guessContentType",value:function(e){return mB[e.split(".").pop()]}},{key:"normalizedContentType",value:function(e,r){if(e.forceContentType)return e.forceContentType;var i=r.get("content-type");if(!i||i.includes("application/octet-stream")){var s=this.guessContentType(e.resource.value);if(s)return s}var o=zP(e.resource.value);return!i&&["file","chrome"].includes(o)?"text/xml":i}},{key:"redirectToProxy",value:function(e,r){var i=this;this.addStatus(r.req,"BLOCKED -> Cross-site Proxy to <"+e+">"),r.proxyUsed=!0;var s=this.store,o=r.req;r.noMeta||(s.add(o,this.ns.link("redirectedTo"),s.rdfFactory.namedNode(e),o),this.addStatus(o,"redirected to new request")),this.requested[r.resource.value]="redirected",this.redirectedTo[r.resource.value]=e;var a=Object.assign({},r);return a.baseURI=r.resource.value,this.fetchUri(e,a).then(function(l){return a.noMeta||s.add(o,i.ns.link("redirectedRequest"),a.req,i.appNode),l})}},{key:"setRequestTimeout",value:function(e,r){var i=this;return new Promise(function(s){i.timeouts[e]=(i.timeouts[e]||[]).concat(setTimeout(function(){i.isPending(e)&&!r.retriedWithNoCredentials&&!r.proxyUsed&&s(i.failFetch(r,"Request to ".concat(e," timed out"),"timeout"))},i.timeout))})}},{key:"addFetchCallback",value:function(e,r){this.fetchCallbacks[e]?this.fetchCallbacks[e].push(r):this.fetchCallbacks[e]=[r]}},{key:"acceptString",value:function(){var e="";for(var r in this.mediatypes)for(var i in""!==e&&(e+=", "),e+=r,this.mediatypes[r])e+=";"+i+"="+this.mediatypes[r][i];return e}}],[{key:"crossSiteProxy",value:function(e){if(n.crossSiteProxyTemplate)return n.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e))}},{key:"offlineOverride",value:function(e){var i,r=e;return typeof window<"u"&&window.panes&&(i=window.panes.UI)&&i.preferences&&i.preferences.get("offlineModeUsingLocalhost")&&"http://"===r.slice(0,7)&&"localhost/"!==r.slice(7,17)&&(r="http://localhost/"+r.slice(7),ba_warn("Localhost kludge for offline use: actually getting <"+r+">")),r}},{key:"proxyIfNecessary",value:function(e){var r;if(typeof window<"u"&&window.panes&&(r=window.panes.UI)&&r.isExtension)return e;if(typeof $SolidTestEnvironment<"u"&&$SolidTestEnvironment.localSiteMap){var o=function a(l,c){var u=c[l.shift()];return u?"string"==typeof u?u+l.join("/"):l?a(l,u):null:null}(e.split("/").slice(2),$SolidTestEnvironment.localSiteMap);if(o)return o}return n.crossSiteProxyTemplate&&typeof document<"u"&&document.location&&"https:"===(""+document.location).slice(0,6)&&"http:"===e.slice(0,5)?n.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):e}},{key:"unsupportedProtocol",value:function(e){var r=zP(e);return"tel"===r||"mailto"===r||"urn"===r}},{key:"setCredentials",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===r.credentials&&(r.credentials=void 0!==r.withCredentials?r.withCredentials?"include":"omit":"include")}}]);var t}();function _B(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function IB(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?_B(Object(e),!0).forEach(function(r){(0,Zt.A)(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):_B(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}(0,Zt.A)(Dp,"HANDLERS",void 0),(0,Zt.A)(Dp,"CONTENT_TYPE_BY_EXT",void 0),(0,Zt.A)(Dp,"crossSiteProxyTemplate",void 0),Dp.HANDLERS=z_,Dp.CONTENT_TYPE_BY_EXT=mB;const Ty=IB(IB({},__),{},{fetcher:function(t,e){return new Dp(t,e)},graph:function(){return new Bv(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)||{rdfFactory:__})},lit:function(t,e,r){return this.literal(""+t,e||r)},st:function(t,e,r,i){return this.quad(t,e,r,i)}});var Nc={};for(var R_ in Ty)"function"==typeof Ty[R_]&&(Nc[R_]=Ty[R_].bind(Ty));var MB=Nc.graph,L_=Nc.lit,$v=Nc.namedNode;new PP;const Xv="http://geonetwork-ui/";function Eh(n,t,e,r,i,s,o){function a(f){return f.language.toLowerCase().substring(0,2)}const l=n.each(t,e,r).filter(f=>f instanceof uc);if(!l.length)return[null,s];const c=l.find(f=>a(f)===o),u=l.find(f=>!f.language),d=c?.value??u?.value??"(value not found)",h=s??{};for(const f of l){const g=a(f);g===o||!g||(h[i]={...h[i],[g]:f.value})}return[d,h]}function EB(n,t,e,r,i,s){if(n.removeStatements(n.statementsMatching(t,e,null)),n.add(t,e,L_(r,s)),i)for(const o in i)n.add(t,e,L_(i[o],o))}function SB(n,t,e,r=Xv){return new Promise(i=>My(t,n,r,e,i))}function zy(n,t=window.location.toString()){try{return new URL(n,t)}catch{return null}}function Oc(n,t){return n.the(t,Vv("primaryTopic"),null)||n.the(null,yl("type"),wi("Dataset"))}function cde(n,t){return n.the(t,Ys("identifier"),null)?.value}function ude(n,t,e,r){const i=Oc(n,t),[s]=Eh(n,i,Ys("title"),null,"title",e,r);return s}function dde(n,t,e,r){const i=Oc(n,t),[s]=Eh(n,i,Ys("description"),null,"abstract",e,r);return s}function TB(n,t){const e=t.object,r=n.the(e,kv("fn"),null)??n.the(e,kv("title"),null)??n.the(e,kv("organisation-name"),null);let i,s;if(r){const c=jx(r.value);i=c[0],s=c[1]}const o=n.the(e,kv("role"),null),a=n.the(e,kv("hasEmail"),null),l=a?a.value.replace(/^mailto:/,""):"missing@missing.com";return{role:o?.value??"point_of_contact",email:l,...i&&{firstName:i},...s&&{lastName:s}}}function hde(n,t){return n.statementsMatching(t,wi("contactPoint"),null).map(r=>TB(n,r))}function fde(n,t){const e=Oc(n,t);return n.statementsMatching(e,wi("contactPoint"),null).map(i=>TB(n,i))}function pde(n,t){const e=Oc(n,t),r=n.the(e,wi("landingPage"),null);return null!==r?zy(r.value):void 0}function yde(n,t,e,r){const i=Oc(n,t);return n.statementsMatching(i,wi("distribution"),null).map(o=>function wde(n,t,e){if(n.holds(t,wi("accessService"),null)){const r=n.the(t,wi("accessService"),null);if(n.the(r,Ys("conformsTo"),null))return function vde(n,t,e){const r=n.the(t,wi("accessService"),null),i=n.the(r,Ys("conformsTo"),null),s=n.the(t,wi("accessURL"),null),o={},[a]=Eh(n,t,Ys("description"),null,"description",o,e),[l]=Eh(n,t,Ys("title"),null,"name",o,e);return{url:zy(s?.value),type:"service",accessServiceProtocol:kw(i?.value),...null!==l&&{name:l},...null!==a&&{description:a},translations:o}}(n,t,e)}return n.holds(t,wi("downloadURL"),null)?function mde(n,t,e){const r=n.the(t,wi("downloadURL"),null),i={},[s]=Eh(n,t,Ys("description"),null,"description",i,e),[o]=Eh(n,t,Ys("title"),null,"name",i,e);return{url:zy(r?.value),type:"download",...null!==o&&{name:o},...null!==s&&{description:s},translations:i}}(n,t,e):function gde(n,t,e){const r=n.the(t,wi("accessURL"),null),i={},[s]=Eh(n,t,Ys("description"),null,"description",i,e),[o]=Eh(n,t,Ys("title"),null,"name",i,e);return{url:zy(r?.value),type:"link",...null!==o&&{name:o},...null!==s&&{description:s},translations:i}}(n,t,e)}(n,o.object,r))}function Cde(n,t){const e=Oc(n,t);return n.statementsMatching(e,Ys("spatial"),null).map(i=>{const s=n.the(i.object,Oue("geometry"),null);return s?{geometry:JSON.parse(s.value)}:{description:i.object.value}}).filter(i=>!!i)}function bde(n,t){const e=Oc(n,t);return n.statementsMatching(e,wi("keyword"),null).map(i=>({label:i.object.value,type:"theme"}))}function xde(n,t){const e=Oc(n,t);return n.statementsMatching(e,wi("theme"),null).map(i=>n.the(i.object,Nue("prefLabel"),null)?.value??i.object.value)}function _de(n,t){const e=n.the(t,Ys("issued"),null)?.value;return e?new Date(e):null}function Ide(n,t){const e=n.the(t,Ys("modified"),null)?.value;return e?new Date(e):new Date}function Ade(n,t){const e=Oc(n,t),r=n.the(e,Ys("issued"),null)?.value;return r?new Date(r):null}function Mde(n,t){const e=Oc(n,t),r=n.the(e,Ys("modified"),null)?.value;return r?new Date(r):null}function Ede(n){const t=n.statementsMatching(null,Ys("publisher"),null);if(!t.length)return null;const e=t[0].object,r=n.the(e,Vv("name"),null);return{name:r?r.value:e.value}}function Sde(n,t){const e=Oc(n,t);return n.statementsMatching(e,wi("distribution"),null).map(i=>n.the(i.object,Ys("license"),null)).filter(i=>!!i).map(i=>function ade(n){const t=/pddl|public domain dedication and licence/i.test(n),e=/odbl|open database license/i.test(n),r=/odc-by|opendatacommons.org\/licenses\/by/i.test(n),i=/cc-by-sa|creative.*commons.*(by-sa|attribution.*share-alike)/i.test(n),s=/cc-by|cc by|creative.*commons.*(by|attribution)/i.test(n),o=/cc.?0|creative.*commons.*(zero|0)/i.test(n),a=/etalab/i.test(n)&&/v2|2\.0/i.test(n),l=/etalab|open.?licence|licence.?ouverte/i.test(n);if(t)return{text:"Open Data Commons PDDL",url:new URL("https://opendatacommons.org/licenses/pddl/")};if(e)return{text:"Open Data Commons ODbL",url:new URL("https://opendatacommons.org/licenses/odbl/")};if(r)return{text:"Open Data Commons ODC-By",url:new URL("https://opendatacommons.org/licenses/by/")};if(i)return{text:"Creative Commons CC-BY-SA",url:new URL("https://creativecommons.org/licenses/by-sa/4.0/legalcode")};if(s)return{text:"Creative Commons CC-BY",url:new URL("https://creativecommons.org/licenses/by/4.0/legalcode")};if(o)return{text:"Creative Commons CC-0",url:new URL("https://creativecommons.org/publicdomain/zero/1.0/legalcode")};if(a)return{text:"Open Licence v2.0 (Etalab)",url:new URL("https://www.etalab.gouv.fr/wp-content/uploads/2017/04/ETALAB-Licence-Ouverte-v2.0.pdf")};if(l)return{text:"Open Licence (Etalab)",url:new URL("https://www.etalab.gouv.fr/wp-content/uploads/2014/05/Licence_Ouverte.pdf")};const c=/^https?:\/\//.test(n)?new URL(n):void 0;return{text:n,...c&&{url:c}}}(i.value)).filter((i,s,o)=>o.findIndex(a=>a.url?.toString()===i.url?.toString()&&a.text===i.text)===s)}function Tde(n,t){const e=Oc(n,t),r=function lde(n,t){return n.the(null,wi("record"),t)||n.the(null,yl("type"),wi("Catalog"))}(n,t);let i=n.statementsMatching(t,Ys("language"),null);if(!i.length&&e&&(i=n.statementsMatching(e,Ys("language"),null)),!i.length&&r&&(i=n.statementsMatching(r,Ys("language"),null)),!i.length)return null;let o=i[0].object.value.split("/").pop().toLowerCase();return 3===o.length&&(o=fh(o)??o),o.substring(0,2)}function zB(n,t,e){let r=t.the(null,yl("type"),wi("Dataset"));r||(r=$v(`${Xv}dataset/${n.uniqueIdentifier}`),t.add(r,yl("type"),wi("Dataset")),t.add(e,Vv("primaryTopic"),r));const i=function zde(n,t){if(n.holds(null,yl("type"),wi("Catalog")))return n.the(null,yl("type"),wi("Catalog"));const r=n.add($v(`${Xv}catalog`),yl("type"),wi("Catalog")).subject;return n.add(r,wi("record"),t),r}(t,e);return t.holds(i,wi("dataset"),r)||t.add(i,wi("dataset"),r),r}function Rde(n,t,e){!function ode(n,t,e,r){n.removeStatements(n.statementsMatching(t,e,null)),n.add(t,e,L_(r))}(t,e,Ys("identifier"),n.uniqueIdentifier)}function Lde(n,t,e){EB(t,zB(n,t,e),Ys("title"),n.title,n.translations?.title,n.defaultLanguage)}function Hde(n,t,e){EB(t,zB(n,t,e),Ys("description"),n.abstract,n.translations?.abstract,n.defaultLanguage)}function H_(n,t){for(const e in Cv)if(t.startsWith(Cv[e]))return[e,t.replace(Cv[e],"")];for(const e in n.namespaces)if(t.startsWith(n.namespaces[e]))return[e,t.replace(n.namespaces[e],"")];return[null,t]}function RB(n,t){if(t instanceof uc)return new ho.XmlText(t.value);const e=n.the(t,yl("type"));if(!e)return null;const i=n.statementsMatching(t,null,null).filter(l=>l.predicate.value!==yl("type").value).map(l=>{if(l.object.toString()===l.subject.toString())return null;if(l.predicate.value===Vv("primaryTopic").value||l.predicate.value===Vv("topic").value||l.predicate.value===wi("servesDataset").value){const[f,g]=H_(n,l.predicate.value);return new ho.XmlElement(`${f}:${g}`,{"rdf:resource":l.object.value})}const[c,u]=H_(n,l.predicate.value),d=RB(n,l.object);if(!d)return new ho.XmlElement(`${c}:${u}`,{"rdf:resource":l.object.value},[]);const h=new ho.XmlElement(`${c}:${u}`,{},[d]);return l.object instanceof uc&&l.object.language&&(h.attributes["xml:lang"]=l.object.language),h}).filter(l=>!!l),[s,o]=H_(n,e.value);return new ho.XmlElement(`${s}:${o}`,t instanceof mu?{}:{"rdf:about":t.value},i)}class D_ extends cx{constructor(t="application/rdf+xml",e=new eF){super(e),this.contentType=t,this.readers={uniqueIdentifier:cde,title:ude,abstract:dde,contacts:hde,contactsForResource:fde,landingPage:pde,onlineResources:yde,spatialExtents:Cde,keywords:bde,topics:xde,resourceIdentifier:()=>{},recordUpdated:Ide,recordCreated:_de,resourceUpdated:Mde,resourceCreated:Ade,ownerOrganization:Ede,licenses:Sde,defaultLanguage:Tde,otherLanguages:()=>[],kind:()=>"dataset",recordPublished:()=>{},resourcePublished:()=>{},reuseType:()=>{},legalConstraints:()=>[],securityConstraints:()=>[],otherConstraints:()=>[],status:()=>"completed",updateFrequency:()=>"unknown",overviews:()=>[],lineage:()=>"",temporalExtents:()=>[],spatialRepresentation:()=>{},extras:()=>{},translations:()=>{}},this.writers={uniqueIdentifier:Rde,title:Lde,abstract:Hde,kind:()=>{},ownerOrganization:()=>{},recordUpdated:()=>{},recordCreated:()=>{},recordPublished:()=>{},resourceIdentifier:()=>{},resourceUpdated:()=>{},resourceCreated:()=>{},resourcePublished:()=>{},reuseType:()=>{},contacts:()=>{},contactsForResource:()=>{},keywords:()=>{},topics:()=>{},licenses:()=>{},legalConstraints:()=>{},securityConstraints:()=>{},otherConstraints:()=>{},status:()=>{},updateFrequency:()=>{},spatialRepresentation:()=>{},overviews:()=>{},lineage:()=>{},onlineResources:()=>{},temporalExtents:()=>{},spatialExtents:()=>{},extras:()=>{},landingPage:()=>{},defaultLanguage:()=>{},otherLanguages:()=>{},translations:()=>{}}}readRecord(t){var e=this;return(0,La.A)(function*(){const r=MB();yield SB(r,t,e.contentType);const i=r.the(null,null,wi("CatalogRecord")),s={},o=e.readers.defaultLanguage(r,i,s,null),a=e.readers.uniqueIdentifier(r,i,s,o),l=e.readers.kind(r,i,s,o),c=e.readers.ownerOrganization(r,i,s,o),u=e.readers.title(r,i,s,o),d=e.readers.abstract(r,i,s,o),h=e.readers.contacts(r,i,s,o),f=e.readers.contactsForResource(r,i,s,o),g=e.readers.recordUpdated(r,i,s,o),w=e.readers.recordCreated(r,i,s,o),C=e.readers.recordPublished(r,i,s,o),I=e.readers.resourceCreated(r,i,s,o),L=e.readers.resourceUpdated(r,i,s,o),ie=e.readers.resourcePublished(r,i,s,o),ne=e.readers.keywords(r,i,s,o),se=e.readers.topics(r,i,s,o),$=e.readers.legalConstraints(r,i,s,o),Y=e.readers.otherConstraints(r,i,s,o),ve=e.readers.securityConstraints(r,i,s,o),Re=e.readers.licenses(r,i,s,o),Fe=e.readers.overviews(r,i,s,o),Ze=e.readers.landingPage(r,i,s,o),De=e.readers.otherLanguages(r,i,s,o);if("dataset"===l){const st=e.readers.status(r,i,s,o),ht=e.readers.spatialRepresentation(r,i,s,o),ot=e.readers.spatialExtents(r,i,s,o),nt=e.readers.temporalExtents(r,i,s,o);return{uniqueIdentifier:a,kind:l,defaultLanguage:o,otherLanguages:De,...w&&{recordCreated:w},...C&&{recordPublished:C},recordUpdated:g,...I&&{resourceCreated:I},...L&&{resourceUpdated:L},...ie&&{resourcePublished:ie},status:st,title:u,abstract:d,ownerOrganization:c,contacts:h,contactsForResource:f,keywords:ne,topics:se,licenses:Re,legalConstraints:$,securityConstraints:ve,otherConstraints:Y,lineage:e.readers.lineage(r,i,s,o),...ht&&{spatialRepresentation:ht},overviews:Fe,spatialExtents:ot,temporalExtents:nt,onlineResources:e.readers.onlineResources(r,i,s,o),updateFrequency:e.readers.updateFrequency(r,i,s,o),...Ze&&{landingPage:Ze},translations:s}}return{uniqueIdentifier:a,kind:l,defaultLanguage:o,otherLanguages:De,...w&&{recordCreated:w},...C&&{recordPublished:C},recordUpdated:g,...I&&{resourceCreated:I},...L&&{resourceUpdated:L},...ie&&{resourcePublished:ie},title:u,abstract:d,ownerOrganization:c,contacts:h,contactsForResource:f,keywords:ne,topics:se,licenses:Re,legalConstraints:$,securityConstraints:ve,otherConstraints:Y,overviews:Fe,onlineResources:e.readers.onlineResources(r,i,s,o),...Ze&&{landingPage:Ze},translations:s}})()}writeRecord(t,e){var r=this;return(0,La.A)(function*(){const i=MB();let s;if(e){const a=yield r.readRecord(e);let l;yield SB(i,e,r.contentType,wi("CatalogRecord").value),s=c=>null===a||!Hw(t[c],a[c])||l&&tF(c),l=s("otherLanguages")}else s=()=>!0;let o=i.the(null,yl("type"),wi("CatalogRecord"));return o||(o=i.add($v(`${Xv}record/${t.uniqueIdentifier}`),yl("type"),wi("CatalogRecord")).subject),s("uniqueIdentifier")&&r.writers.uniqueIdentifier(t,i,o),s("kind")&&r.writers.kind(t,i,o),s("defaultLanguage")&&r.writers.defaultLanguage(t,i,o),s("contacts")&&r.writers.contacts(t,i,o),s("ownerOrganization")&&r.writers.ownerOrganization(t,i,o),s("recordUpdated")&&r.writers.recordUpdated(t,i,o),s("recordCreated")&&r.writers.recordCreated(t,i,o),s("recordPublished")&&r.writers.recordPublished(t,i,o),s("title")&&r.writers.title(t,i,o),s("abstract")&&r.writers.abstract(t,i,o),s("resourceCreated")&&r.writers.resourceCreated(t,i,o),s("resourcePublished")&&r.writers.resourcePublished(t,i,o),s("resourceUpdated")&&r.writers.resourceUpdated(t,i,o),s("contactsForResource")&&r.writers.contactsForResource(t,i,o),s("keywords")&&r.writers.keywords(t,i,o),s("topics")&&r.writers.topics(t,i,o),s("legalConstraints")&&r.writers.legalConstraints(t,i,o),s("securityConstraints")&&r.writers.securityConstraints(t,i,o),s("licenses")&&r.writers.licenses(t,i,o),s("otherConstraints")&&r.writers.otherConstraints(t,i,o),s("onlineResources")&&r.writers.onlineResources(t,i,o),"dataset"===t.kind&&(s("status")&&r.writers.status(t,i,o),s("updateFrequency")&&r.writers.updateFrequency(t,i,o),s("spatialRepresentation")&&r.writers.spatialRepresentation(t,i,o),s("overviews")&&r.writers.overviews(t,i,o),s("temporalExtents")&&r.writers.temporalExtents(t,i,o),s("lineage")&&r.writers.lineage(t,i,o)),s("otherLanguages")&&r.writers.otherLanguages(t,i,o),r.contentType.includes("xml")?function Dde(n){let t=n.statementsMatching(null,yl("type"),wi("Catalog"))[0]?.subject;if(!t){const r=n.the(null,yl("type"),wi("CatalogRecord")),i=n.the(null,yl("type"),wi("Dataset"));t=n.add($v(`${Xv}catalog`),yl("type"),wi("Catalog")).subject,n.add(t,wi("record"),r),n.add(t,wi("dataset"),i)}const e=new ho.XmlElement("rdf:RDF",{},[RB(n,t)]);for(const r in n.namespaces)e.attributes[`xmlns:${r}`]=n.namespaces[r];return yv(dx(e))}(i):i.serialize(void 0,r.contentType,null,{})})()}}function Yv(n){if(n.indexOf("mdb:MD_Metadata")>0)return new Bue;if(n.indexOf("gmd:MD_Metadata")>0)return new n_;if(/@prefix\s*[a-z]+\s*:\s*<http:\/\/www\.w3\.org\/ns\/dcat#>\s*\./.test(n))return new D_("text/turtle");if(/xmlns:[a-z]+="http:\/\/www\.w3\.org\/ns\/dcat#"/.test(n))return new D_("application/rdf+xml");if(/"[a-zA-Z]+"\s*:\s*"http:\/\/www\.w3\.org\/ns\/dcat#/.test(n))return new D_("application/ld+json");throw new Error(`No suitable converter found for the following document:\n${n.substring(0,400)}...`)}const wn=(n,t)=>null!==n&&t in n?n[t]:null,LB=(n,...t)=>t.reduce((e,r)=>null===e?wn(n,r):e,null),c1=(n,t)=>null===n?t:n,Vp=(n,t)=>c1(wn(n,t),wn(n,"default")),cd=(n,t,e)=>Vp(wn(n,t),e),Sh=n=>new Date(n),Th=n=>Array.isArray(n)?n[0]:n,No=n=>Array.isArray(n)?n:null!==n?[n]:[],Bl=(n,t=window.location.toString())=>{if(""===n||null===n)return null;let e=n;n.match(/^www\./)&&(e=`https://${n}`);try{return new URL(e,t)}catch{return null}},HB=(n,t)=>{const e=Bl(wn(n,"website")),r=Bl(wn(n,"logo"));return{name:c1(cd(n,"organisationObject",t),wn(n,"organisation")),...r&&{logoUrl:r},...e&&{website:e}}},DB=(n,t)=>{const e=wn(n,"address"),r=wn(n,"phone");return{lastName:wn(n,"individual"),organization:HB(n,t),email:wn(n,"email"),role:BF(wn(n,"role")),...e&&{address:e},...r&&{phone:r}}},kde=(n,t)=>{const e=[];for(const r in n){const i=n[r];let s=null;if(i.id){const o={...i},a=Bl(wn(o,"link")),l=wn(o,"title");s={id:i.id,...l&&{name:l},...a&&{url:a}}}for(const o of i.keywords)e.push({label:Vp(o,t),type:PF(i.theme),...o.link&&{key:o.link},...s&&{thesaurus:s}})}return e};let Fde=(()=>{class n{constructor(e,r){this.translate=e,this.apiConfiguration=r}getUrl(e,r=this.apiConfiguration.basePath){return`${r}/../${hh(this.translate.currentLang)}/catalog.search#/metadata/${e}`}static{this.\u0275fac=function(r){return new(r||n)($e(Rc),$e(Tn))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pde=(()=>{class n{constructor(e,r){this.metadataUrlService=e,this.translateService=r,this.fields={id:(i,s)=>this.addExtra({id:wn(s,"id")},i),uuid:(i,s)=>{const o=wn(s,"uuid");return{...i,uniqueIdentifier:o,landingPage:Bl(this.metadataUrlService.getUrl(o))}},qualityScore:(i,s)=>this.addExtra({qualityScore:wn(s,"qualityScore")},i),resourceTitleObject:(i,s)=>({...i,title:c1(cd(s,"resourceTitleObject",this.lang3),"no title")}),resourceAbstractObject:(i,s)=>({...i,abstract:c1(cd(s,"resourceAbstractObject",this.lang3),"no title")}),overview:(i,s)=>{const o=Th(wn(s,"overview")),a=Vp(wn(o,"text"),this.lang3);return{...i,overviews:[{url:Bl(LB(o,"url","data")),...a?{description:a}:{}}]}},cl_topic:(i,s)=>({...i,topics:[...i.topics||[],...No(wn(s,"cl_topic")).map(o=>Vp(o,this.lang3))]}),cl_status:(i,s)=>({...i,status:NF(wn(Th(wn(s,"cl_status")),"key"))}),cl_maintenanceAndUpdateFrequency:(i,s)=>({...i,updateFrequency:OF(wn(Th(wn(s,"cl_maintenanceAndUpdateFrequency")),"key"))}),creationDateForResource:(i,s)=>({...i,resourceCreated:Sh(Th(wn(s,"creationDateForResource")))}),revisionDateForResource:(i,s)=>({...i,resourceUpdated:Sh(Th(wn(s,"revisionDateForResource")))}),publicationDateForResource:(i,s)=>({...i,resourcePublished:Sh(wn(s,"publicationDateForResource"))}),createDate:(i,s)=>({...i,recordCreated:Sh(wn(s,"createDate"))}),changeDate:(i,s)=>({...i,recordUpdated:Sh(wn(s,"changeDate"))}),publicationDate:(i,s)=>({...i,recordPublished:Sh(wn(s,"publicationDate"))}),resourceLanguage:(i,s)=>{const a=No(wn(s,"resourceLanguage")).map(fh),l=i.defaultLanguage??a[0]??null;return{...i,defaultLanguage:l}},otherLanguage:(i,s)=>{const a=No(wn(s,"otherLanguage")).map(fh),l=i.defaultLanguage??a[0]??null,c=a.filter(u=>u!==l);return{...i,otherLanguages:c}},mainLanguage:(i,s)=>{const o=wn(s,"mainLanguage");return{...i,defaultLanguage:o?fh(o):null}},link:(i,s)=>({...i,onlineResources:No(wn(s,"link")).map(l=>this.mapLink(l)).filter(l=>null!==l)}),contact:(i,s)=>({...i,contacts:[DB(Th(wn(s,"contact")),this.lang3)]}),contactForResource:(i,s)=>({...i,contactsForResource:[..."contactsForResource"in i&&Array.isArray(i.contactsForResource)?i.contactsForResource:[],...No(wn(s,"contactForResource")).map(o=>DB(o,this.lang3))]}),sourceCatalogue:(i,s)=>this.addExtra({catalogUuid:c1(wn(s,"sourceCatalogue"),"no title")},i),allKeywords:(i,s)=>({...i,keywords:kde(wn(s,"allKeywords"),this.lang3)}),inspireTheme:(i,s)=>({...i,topics:[...i.topics||[],...No(wn(s,"inspireTheme_syn"))]}),MD_ConstraintsUseLimitationObject:(i,s)=>this.constraintField("other",i,No(wn(s,"MD_ConstraintsUseLimitationObject"))),MD_LegalConstraintsUseLimitationObject:(i,s)=>this.constraintField("legal",i,No(wn(s,"MD_LegalConstraintsUseLimitationObject"))),MD_LegalConstraintsOtherConstraintsObject:(i,s)=>this.constraintField("legal",i,No(wn(s,"MD_LegalConstraintsOtherConstraintsObject"))),MD_SecurityConstraintsUseLimitationObject:(i,s)=>this.constraintField("security",i,No(wn(s,"MD_SecurityConstraintsUseLimitationObject"))),licenseObject:(i,s)=>this.constraintField("license",i,No(wn(s,"licenseObject"))),lineageObject:(i,s)=>({...i,lineage:cd(s,"lineageObject",this.lang3)}),userSavedCount:(i,s)=>this.addExtra({favoriteCount:parseInt(wn(s,"userSavedCount"))},i),isOpenData:(i,s)=>this.addExtra({isOpenData:"false"!==wn(s,"isOpenData")},i),featureTypes:(i,s)=>this.addExtra({featureTypes:wn(s,"featureTypes")},i),related:(i,s)=>{const o=wn(Th(wn(wn(s,"related"),"fcats"))??{},"_source"),a=wn(o,"uuid"),c=No(wn(wn(s,"related"),"hassources")).filter(d=>"catalog"===d.origin).map(d=>wn(wn(d,"_source"),"uuid")),u={};return a&&(u.featureCatalogIdentifier=a),c&&c.length>0&&(u.sourceOfIdentifiers=c),Object.keys(u).length>0?this.addExtra(u,i):i},recordLink:(i,s)=>{const a=No(wn(s,"recordLink")).filter(l=>"catalog"===l.origin&&"sources"===l.type).map(l=>wn(l,"to"));return a&&a.length>0?this.addExtra({sourcesIdentifiers:a},i):i},isPublishedToAll:(i,s)=>this.addExtra({isPublishedToAll:wn(s,"isPublishedToAll")},i),isHarvested:(i,s)=>this.addExtra({isHarvested:"false"!==wn(s,"isHarvested")},i),edit:(i,s)=>this.addExtra({edit:wn(s,"edit")},i),userinfo:(i,s)=>this.addExtra({ownerInfo:wn(s,"userinfo")},i),resourceType:(i,s)=>{const o=Th(wn(s,"resourceType")),a=oy(o),l=Ux(o);return{...i,kind:a,...l&&{reuseType:l}}},geom:(i,s)=>{const o=No(wn(s,"geom")),a=No(wn(s,"shape")),l=No(wn(s,"extentDescriptionObject"));return{...i,spatialExtents:[...No(wn(s,"spatialExtents")),...o.map((u,d)=>{const h=Vp(((n,t)=>Array.isArray(n)&&void 0!==n[t]?n[t]:null)(l,d),this.lang3);return{...null!==h?{description:h}:null,geometry:a[d]??u}})]}},resourceTemporalExtentDateRange:(i,s)=>({...i,temporalExtents:No(wn(s,"resourceTemporalExtentDateRange")).map(a=>{const l=wn(a,"gte"),c=wn(a,"lte");return{...null!==l?{start:Sh(l)}:null,...null!==c?{end:Sh(c)}:null}})})},this.genericField=i=>i,this.constraintField=(i,s,o)=>{let a;switch(i){case"license":a="licenses";break;case"legal":a="legalConstraints";break;case"security":a="securityConstraints";break;case"other":a="otherConstraints"}const l=a in s?s[a]:[];return l.push(...o.map(u=>{const d=Vp(u,this.lang3),h=Bl(wn(u,"link"));return{text:d,...h?{url:h}:{}}})),{...s,[a]:l}},this.mapLink=i=>{const s=Bl(c1(cd(i,"urlObject",this.lang3),wn(i,"url"))),o=c1(cd(i,"nameObject",this.lang3),wn(i,"name")),a=c1(cd(i,"descriptionObject",this.lang3),wn(i,"description")),l=wn(i,"descriptionObject"),c=l&&"link"in l&&l.link.toString().includes("#MD_RestrictionCode_restricted");if(null===s)return console.warn("A link without valid URL was found",i),null;const u=wn(i,"protocol"),d=this.getLinkType(s.toString(),u),h=kw(u),f=u&&u.match(/^WWW:DOWNLOAD:(.+\/.+)$/),g=f&&f[1],w={...o&&{name:o},...a&&{description:a}};switch(d){case"service":return{...w,type:d,url:s,accessServiceProtocol:h,accessRestricted:c};case"link":return{...w,type:d,url:s};case"download":return{...w,type:d,url:s,...g&&{mimeType:g}};case"endpoint":return{...w,type:d,url:s,accessServiceProtocol:h}}},this.addExtra=(i,s)=>({...s,extras:{...s.extras||{},...i}})}get lang3(){return Jk(this.translateService.currentLang)}getMappingFn(e){return e in this.fields?this.fields[e]:this.genericField}getLinkType(e,r){return r?/^ESRI:REST/.test(r)&&/FeatureServer/.test(e)||/^OGC:WMS/.test(r)||/^OGC:WFS/.test(r)||/^OGC:WMTS/.test(r)||/TMS/i.test(r)||/ogc\W*api\W*features/i.test(r)||/^WWW:DOWNLOAD-/.test(r)&&/data.geopf.fr/.test(e)?"service":/^WWW:DOWNLOAD/.test(r)?"download":"link":"link"}static{this.\u0275fac=function(r){return new(r||n)($e(Fde),$e(Rc))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const VB=tn(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});class kB{}let Nde=(()=>{class n extends cx{constructor(e,r){super(),this.fieldMapper=e,this.orgsService=r}readRecord(e){const{_source:r,...i}=e,s={...r,...i},a=Object.keys(s).reduce((l,c)=>this.fieldMapper.getMappingFn(c)(l,s),{kind:"dataset",status:null,lineage:null,recordUpdated:null,recordPublished:null,ownerOrganization:null,licenses:[],legalConstraints:[],securityConstraints:[],otherConstraints:[],contacts:[],contactsForResource:[],keywords:[],topics:[],spatialExtents:[],temporalExtents:[],overviews:[],defaultLanguage:null,otherLanguages:[]});return function Bde(n,t){const e="object"==typeof t;return new Promise((r,i)=>{let o,s=!1;n.subscribe({next:a=>{o=a,s=!0},error:i,complete:()=>{s?r(o):e?r(t.defaultValue):i(new VB)}})})}(this.orgsService.addOrganizationToRecordFromSource(r,a))}writeRecord(e){throw new Error("not implemented")}static{this.\u0275fac=function(r){return new(r||n)($e(Pde),$e(kB))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Gde extends Error{constructor(t){super(),this.name="PublicationVersionError",this.detectedApiVersion=t}}function kp(...n){const t=uv(n),e=Ob(n),{args:r,keys:i}=Fk(n);if(0===r.length)return rd([],t);const s=new kr(function Wde(n,t,e=jr){return r=>{FB(t,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)FB(t,()=>{const c=rd(n[l],t);let u=!1;c.subscribe(de(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(e(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>Pk(i,o):jr));return e?s.pipe(tx(e)):s}function FB(n,t,e){n?nd(e,n,t):t()}function V_(n,t){return t?e=>e.pipe(V_((r,i)=>wa(n(r,i)).pipe(Te((s,o)=>t(r,s,i,o))))):Si((e,r)=>{let i=0,s=null,o=!1;e.subscribe(de(r,a=>{s||(s=de(r,void 0,()=>{s=null,o&&r.complete()}),wa(n(a,i++)).subscribe(s))},()=>{o=!0,!s&&r.complete()}))})}function k_(n,t){const e=Jt(n)?n:()=>n,r=i=>i.error(e());return new kr(t?i=>t.schedule(r,0,i):r)}function zh(n){return Si((t,e)=>{let s,r=null,i=!1;r=t.subscribe(de(e,void 0,void 0,o=>{s=wa(n(o,zh(n)(t))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function F_(n,t,e){const r=Jt(n)||t||e?{next:n,error:t,complete:e}:n;return r?Si((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(de(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):jr}var Kv=B(5585);const jde=["uuid","id","title","resource*","resourceTitleObject","resourceAbstractObject","overview","logo","codelist_status_text","link","linkProtocol","contactForResource*.organisation*","contact*.organisation*","contact*.email","userSavedCount","cl_topic","cl_maintenanceAndUpdateFrequency","MD_LegalConstraints*Object","qualityScore","allKeywords","recordLink"],Ude={"resourceTitleObject.${searchLang}":5,"tag.${searchLang}":4,"resourceAbstractObject.${searchLang}":3,"lineageObject.${searchLang}":2,"any.${searchLang}":1,uuid:1};function PB(n){return!!n&&"object"==typeof n&&("start"in n||"end"in n)}function BB(n){return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`}let Ry=(()=>{class n{get lang3(){return hh(this.translateService.currentLang)}get metadataLang(){return this.injector.get(Qk,null)}constructor(e,r){this.translateService=e,this.injector=r,this.runtimeFields={}}getSearchRequestBody(e={},r=0,i=0,s=null,o=null,a={},l={},c,u){const d={aggregations:e,from:i,size:r,sort:this.buildPayloadSort(s),query:this.buildPayloadQuery(a,l,c,u),...r>0?{track_total_hits:!0}:{},...o&&{_source:o}};return this.processRuntimeFields(d),d}processRuntimeFields(e){const r=s=>{e.runtime_mappings||(e.runtime_mappings={}),e.runtime_mappings[s]={type:"keyword",script:this.runtimeFields[s]}},i=s=>{if(Array.isArray(s))s.forEach(i);else if("object"==typeof s){"field"in s&&"string"==typeof s.field&&s.field in this.runtimeFields&&r(s.field);for(const o in this.runtimeFields)o in s&&("asc"===s[o]||"desc"===s[o])&&r(o),"query"in s&&"string"==typeof s.query&&s.query.indexOf(o+":")>-1&&r(o);for(const o in s)"object"==typeof s[o]&&i(s[o])}};return i(e.aggregations),i(e.sort),i(e.query),e}registerRuntimeField(e,r){this.runtimeFields[e]=r}getMetadataByIdsPayload(e){return{query:{ids:{values:e}}}}getRelatedRecordPayload(e,r=6,i=[...jde,"createDate"]){return{query:{bool:{must:[{more_like_this:{fields:["resourceTitleObject.default","resourceAbstractObject.default","allKeywords"],like:[{doc:{resourceTitleObject:{default:e.title},resourceAbstractObject:{default:e.abstract},allKeywords:e.keywords.map(s=>s.label)}}],min_term_freq:1,max_query_terms:12}},{terms:{isTemplate:["n"]}},{terms:{draft:["n","e"]}}],must_not:[{wildcard:{uuid:e.uniqueIdentifier}}]}},size:r,_source:i}}buildPayloadSort(e){return null===e?void 0:(Array.isArray(e[0])?e:[e]).map(i=>({[i[1]]:i[0]}))}injectLangInQueryStringFields(e){const r=this.getQueryLang();return Object.keys(e).reduce((i,s)=>{const o=/\$\{searchLang\}/g,a=o.test(s),l=e[s];return[...i,...this.isCurrentSearchLang()&&a?[`${s.replace(o,r)}^${l+10}`,s.replace(o,"*")+(l>1?`^${l}`:"")]:[s.replace(o,r)+(l>1?`^${l}`:"")]]},[])}getQueryLang(){return this.metadataLang?this.isCurrentSearchLang()?`lang${this.lang3}`:`lang${this.metadataLang}`:"*"}isCurrentSearchLang(){return"current"===this.metadataLang}filtersToQuery(e){const r=l=>/^\/.+\/$/.test(l)?l:`"${l}"`,s="string"==typeof e?e:Object.keys(e).filter(l=>!PB(e[l])).filter(l=>e[l]&&"{}"!==JSON.stringify(e[l])).map(l=>`${l}:(${(l=>"string"==typeof l?l:Object.keys(l).map(c=>!0===l[c]?r(c):`-${r(c)}`).join(" OR "))(e[l])})`).join(" AND "),o=Object.entries(e).filter(([,l])=>PB(l)).map(([l,c])=>({searchField:l,dateRange:c}))[0],a=[s&&{query_string:{query:s}},o&&o.dateRange&&{range:{[o.searchField]:{...o.dateRange.start&&{gte:BB(o.dateRange.start)},...o.dateRange.end&&{lte:BB(o.dateRange.end)},format:"yyyy-MM-dd"}}}].filter(Boolean);return a.length>0?a:void 0}mustNotFilters(){return[{query_string:{query:"resourceType:featureCatalog AND !resourceType:dataset AND !cl_level.key:dataset"}}]}buildPayloadQuery({any:e,...r},i,s,o){const a=[],l=this.mustNotFilters(),c=[],u=[this.queryFilterOnValues("isTemplate","n")];e&&a.push({query_string:{query:this.escapeSpecialCharacters(e),default_operator:"AND",fields:this.injectLangInQueryStringFields(Ude)}});const d=this.filtersToQuery(r);return d&&u.push(...d),s&&u.push({ids:{values:s}}),o&&c.push({geo_shape:{geom:{shape:o,relation:"within"},boost:10}},{geo_shape:{geom:{shape:o,relation:"intersects"},boost:7}}),{bool:{must:a,must_not:l,should:c,filter:u}}}buildMoreOnAggregationPayload(e,r,i,s){return{aggregations:{[r]:e[r]},size:0,query:this.buildPayloadQuery(i,s)}}queryFilterOnValues(e,r){return!r||r.length<=0?{}:{terms:{[e]:[...r]}}}buildAutocompletePayload(e){return{query:{bool:{must:[this.queryFilterOnValues("isTemplate","n"),{multi_match:{query:e,type:"bool_prefix",fields:this.injectLangInQueryStringFields({"resourceTitleObject.${searchLang}":4,"resourceAbstractObject.${searchLang}":3,tag:2,resourceIdentifier:1})}}],must_not:this.mustNotFilters()}},_source:["resourceTitleObject","uuid","resourceType"],from:0,size:20}}combineQueryGroups(e){return e?e.join(" AND ").trim():""}stateFiltersToQueryString(e){const r=[];for(const i in e)if(i in e){const s=this.parseStateNode(i,e[i],void 0);s&&r.push(s)}return this.combineQueryGroups(r)}parseStateNode(e,r,i){let s="";if(r&&"object"==typeof r){const o=[];for(const a in r)if(r[a]&&"object"==typeof r[a]){const l=Object.keys(r[a])[0],c=r[a][l];if(Object.keys(c).length){const u=[e+':"'+a+'"'],d=this.parseStateNode(l,c,l).trim();d&&u.push(d),o.push("("+u.join(" AND ")+")")}}else{const l=this.parseStateNode(a,r[a],e).trim();l&&o.push(l)}o&&o.length&&(s+="(",s+=o.join(" "),s+=")")}else"string"==typeof r?s+=r:!0===r?s+=i+':"'+e+'"':!1===r&&(s+="-"+i+':"'+e+'"');return s}escapeSpecialCharacters(e){return e.replace(/(\+|-|\/|&&|\|\||!|\{|\}|\[|\]\^|~|\?|:|\\{1}|\(|\))/g,"\\$1")}buildAggregationsPayload(e){const r=i=>{switch(i.type){case"filters":return{filters:{filters:Object.keys(i.filters).reduce((s,o)=>{const a=i.filters[o];return{...s,[o]:this.filtersToQuery(a)[0]}},{})}};case"terms":return{terms:{size:i.limit,field:i.field,order:{[`_${i.sort[1]}`]:i.sort[0]}}};case"histogram":return{histogram:{field:i.field,interval:i.interval}}}};return Object.keys(e).reduce((i,s)=>({...i,[s]:r(e[s])}),{})}parseAggregationResult(e,r){switch(r.type){case"filters":return{buckets:Object.keys(e.buckets).map(i=>({term:i,count:e.buckets[i].doc_count}))};case"terms":return{buckets:e.buckets.map(i=>({term:i.key,count:i.doc_count}))};case"histogram":{const i=e;let s=Array.isArray(i.buckets)?i.buckets:Object.keys(i.buckets).map(o=>i.buckets[o]);return s=s.map((o,a)=>({lowValue:o.key,highValue:s[a+1]?.key,count:o.doc_count})),s.pop(),{buckets:s}}}}static{this.\u0275fac=function(r){return new(r||n)($e(Rc),$e(rr))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),NB=(()=>{class n{constructor(e){this.siteApiService=e,this.identicon$=this.getSettingsSetValueByKey("system/users/identicon"),this.allowEditHarvested$=this.getSettingsSetValueByKey("system/harvester/enableEditing")}getSettingsSetValueByKey(e){return this.siteApiService.getSettingsSet(null,[e]).pipe(Te(r=>r[e]),Ha({bufferSize:1,refCount:!0}))}static{this.\u0275fac=function(r){return new(r||n)($e(ex))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class qv{}let Xde=(()=>{class n{constructor(e,r,i,s,o,a,l,c){this.httpClient=e,this.gn4SearchApi=r,this.gn4SearchHelper=i,this.gn4Mapper=s,this.gn4RecordsApi=o,this.platformService=a,this.gn4LanguagesApi=l,this.settingsService=c,this._draftsChanged=new yi,this.draftsChanged$=this._draftsChanged.asObservable()}search({filters:e,fields:r,offset:i,limit:s,sort:o,filterIds:a,filterGeometry:l}){return this.gn4SearchApi.search("bucket",null,JSON.stringify(this.gn4SearchHelper.getSearchRequestBody({},s,i,o,r,e,void 0,a,l))).pipe($s(c=>this.gn4Mapper.readRecords(c.hits.hits).then(u=>({count:c.hits.total?.value||0,records:u}))))}getMatchesCount(e){return this.gn4SearchApi.search("records-count",null,JSON.stringify({...this.gn4SearchHelper.getSearchRequestBody({},0,0,void 0,void 0,e),track_total_hits:!0})).pipe(Te(r=>r.hits.total?.value||0))}getRecord(e){return this.gn4SearchApi.search("bucket",["fcats","hassources"],JSON.stringify(this.gn4SearchHelper.getMetadataByIdsPayload([e]))).pipe(Te(r=>r.hits.hits[0]),$s(r=>r?this.gn4Mapper.readRecord(r):zi(null)))}getMultipleRecords(e){return this.gn4SearchApi.search("bucket",void 0,JSON.stringify(this.gn4SearchHelper.getMetadataByIdsPayload(e))).pipe(Te(r=>r.hits.hits),$s(r=>r&&r.length>0?this.gn4Mapper.readRecords(r):zi(null)))}mapEmbeddedFeatureCatalog(e){return{featureTypes:e.map(r=>({name:r.typeName||"",definition:r.definition||"",attributes:Array.isArray(r.attributeTable)?r.attributeTable.map(i=>{const s=i.values?.filter(o=>o.code||o.label).map(o=>({code:o.code,label:o.label}));return{name:i.name,code:i.code,definition:i.definition,type:i.type,...s?.length>0?{values:s}:{}}}):[]}))}}getFeatureCatalog(e,r=new Set){if(e.extras?.featureTypes&&Array.isArray(e.extras.featureTypes)&&e.extras.featureTypes.length>0)return zi(this.mapEmbeddedFeatureCatalog(e.extras.featureTypes));const i=e.extras.featureCatalogIdentifier;return i&&!r.has(i)?(r.add(i),this.getRecord(i).pipe($s(s=>s?this.getFeatureCatalog(s,r):zi(null)))):zi(null)}getSimilarRecords(e){return this.gn4SearchApi.search("bucket",null,JSON.stringify(this.gn4SearchHelper.getRelatedRecordPayload(e,3))).pipe($s(r=>this.gn4Mapper.readRecords(r.hits.hits)))}getSources(e){const r=e.extras?.sourcesIdentifiers;return r&&r.length>0?this.getMultipleRecords(r):zi(null)}getSourceOf(e){const r=e.extras?.sourceOfIdentifiers;return r&&r.length>0?this.getMultipleRecords(r):zi(null)}aggregate(e){if(0===Object.keys(e).length)return zi({});const r=this.gn4SearchHelper.buildAggregationsPayload(e);return this.gn4SearchApi.search("bucket",null,JSON.stringify(this.gn4SearchHelper.getSearchRequestBody(r))).pipe(Te(i=>Object.keys(i.aggregations).reduce((s,o)=>({...s,[o]:this.gn4SearchHelper.parseAggregationResult(i.aggregations[o],e[o])}),{})))}fuzzySearch(e){return this.gn4SearchApi.search("bucket",null,JSON.stringify(this.gn4SearchHelper.buildAutocompletePayload(e))).pipe($s(r=>this.gn4Mapper.readRecords(r.hits.hits).then(i=>({count:r.hits.total?.value||0,records:i}))))}getRecordPublicationStatus(e){return e?this.getRecord(e).pipe(Te(r=>r.extras.isPublishedToAll)):zi(!0)}canDuplicate(e){return"dataset"===e.kind}canDelete(e){return this.settingsService.allowEditHarvested$.pipe(Te(r=>e.extras.edit&&(!e.extras.isHarvested||r)))}canEdit(e,r){return"dataset"===e.kind&&e.extras.edit&&(!e.extras.isHarvested||r)}canEditRecord(e){return kp([this.getRecord(e),this.settingsService.allowEditHarvested$]).pipe(Te(([r,i])=>!!r&&this.canEdit(r,i)))}canEditIndexedRecord(e){return this.settingsService.allowEditHarvested$.pipe(Te(r=>this.canEdit(e,r)))}openRecordForEdition(e){return kp([zi(this.getRecordFromLocalStorage(e)),this.getRecordAsXml(e)]).pipe($s(([s,o])=>{const a=s??o,l=null!==o;return Yv(a).readRecord(a).then(c=>[c,a,l])}))}openRecordForDuplication(e){return this.gn4RecordsApi.create(e,"2","METADATA","",!1,void 0,!0,!1,void 0,"body",!1,{httpHeaderAccept:"application/json",httpContentTypeSelected:"application/json;charset=UTF-8"}).pipe($s(r=>this.getRecordAsXml(r)),$s(r=>rd(Yv(r).readRecord(r).then(i=>[i,r,!0]))))}saveRecord(e,r,i=!0){return this.platformService.getApiVersion().pipe(Te(s=>{if((0,Kv.lt)(s,"4.2.5"))throw new Gde(s)}),$s(()=>this.serializeRecordToXml(e,r)),$s(s=>this.gn4RecordsApi.insert("METADATA",void 0,void 0,void 0,i,void 0,"OVERWRITE",void 0,void 0,void 0,"_none_",void 0,void 0,void 0,s)),Te(s=>{const o=Object.keys(s.metadataInfos)[0];return s.metadataInfos[o][0].uuid}))}duplicateExternalRecord(e){var r=this;return this.getExternalRecordAsXml(e).pipe(V_(function(){var i=(0,La.A)(function*(s){const o=Yv(s),a=yield o.readRecord(s);a.title=`${a.title} (Copy)`;const l=yield o.writeRecord(a,s);return r.saveRecord(a,l,!1)});return function(s){return i.apply(this,arguments)}}()),V_(i=>i),zh(i=>k_(()=>i)))}deleteRecord(e){return this.gn4RecordsApi.deleteRecord(e)}generateTemporaryId(){return`TEMP-ID-${Date.now()}`}saveRecordAsDraft(e,r){return this.serializeRecordToXml(e,r).pipe(F_(i=>{this.saveRecordToLocalStorage(i,e.uniqueIdentifier),this._draftsChanged.next()}))}clearRecordDraft(e){this.removeRecordFromLocalStorage(e),this._draftsChanged.next()}recordHasDraft(e){return null!==this.getRecordFromLocalStorage(e)}getAllDrafts(){const e={...window.localStorage},r=Object.keys(e).filter(i=>i.startsWith("geonetwork-ui-draft-")).map(i=>window.localStorage.getItem(i)).filter(i=>null!==i);return rd(Promise.all(r.map(i=>Yv(i).readRecord(i))))}getDraftsCount(){const e={...window.localStorage};return zi(Object.keys(e).filter(i=>i.startsWith("geonetwork-ui-draft-")).map(i=>window.localStorage.getItem(i)).filter(i=>null!==i).length)}hasRecordChangedSinceDraft(e){return zi({isUnsaved:!e.uniqueIdentifier,hasDraft:this.recordHasDraft(e.uniqueIdentifier)}).pipe($s(({isUnsaved:r,hasDraft:i})=>r||!i?zi({user:void 0,date:void 0}):gv([this.getAllDrafts().pipe(Te(s=>s.find(a=>a.uniqueIdentifier===e.uniqueIdentifier)?.recordUpdated||null)),this.getRecord(e.uniqueIdentifier)]).pipe(Te(([s,o])=>{if(o?.recordUpdated>s){const a=o.extras?.ownerInfo?.toString()?.split("|");return{user:`${a[2]} ${a[1]}`,date:o.recordUpdated}}return{user:void 0,date:void 0}}))))}getApplicationLanguages(){return this.gn4LanguagesApi.getApplicationLanguages().pipe(Te(e=>e.map(r=>fh(r.id)).filter(r=>!!r)))}getRecordAsXml(e){return this.gn4RecordsApi.getRecordAs(e,void 0,!1,void 0,void 0,void 0,"application/xml","response",void 0,{httpHeaderAccept:"text/xml,application/xml"}).pipe(Te(r=>r.body),zh(r=>404===r.status?zi(null):k_(()=>r)))}serializeRecordToXml(e,r){return rd((r?Yv(r):new n_).writeRecord(e,r))}getExternalRecordAsXml(e){let r=new Mr;return r=r.set("Accept","text/xml,application/xml"),this.httpClient.get(e,{responseType:"text",headers:r,observe:"body"}).pipe(Te(s=>(function doe(n){const e=(new DOMParser).parseFromString(n,"application/xml"),r=e.querySelector("parsererror");if(r)throw console.error(r),new Error("File is not a valid XML.")}(s),s)))}getLocalStorageKeyForRecord(e){return`geonetwork-ui-draft-${e}`}saveRecordToLocalStorage(e,r){window.localStorage.setItem(this.getLocalStorageKeyForRecord(r),e)}getRecordFromLocalStorage(e){return window.localStorage.getItem(this.getLocalStorageKeyForRecord(e))}removeRecordFromLocalStorage(e){window.localStorage.removeItem(this.getLocalStorageKeyForRecord(e))}static{this.\u0275fac=function(r){return new(r||n)($e(ui),$e(pv),$e(Ry),$e(Nde),$e(Qb),$e(qv),$e(Rk),$e(NB))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();function Kde(...n){const t=uv(n);return Si((e,r)=>{(t?Mw(n,e,t):Mw(n,e)).subscribe(r)})}const OB="/geonetwork/images/harvesting/";let Jde=(()=>{class n{constructor(e,r,i,s,o){this.esService=e,this.searchApiService=r,this.groupsApiService=i,this.platformService=s,this.translateService=o,this.groups$=zi(!0).pipe($s(()=>this.groupsApiService.getGroups()),Ha()),this.organisationsAggs$=this.platformService.getApiVersion().pipe($s(a=>this.searchApiService.search("bucket",null,JSON.stringify(this.getAggregationSearchRequest(a)))),dv(a=>!!a.aggregations.contact.org),F_(a=>a.aggregations.contact.org.buckets.forEach(l=>l.doc_count=a.aggregations.orgForResource.buckets.find(c=>c.key===l.key)?.doc_count||l.doc_count)),Te(a=>a.aggregations.contact.org.buckets),Ha()),this.organisationsWithoutGroups$=this.organisationsAggs$.pipe(Te(a=>a.map(l=>{const c=l.logoUrl.buckets?.[0]?.key;return{name:l.key,emails:l.mail.buckets.map(u=>u.key).filter(u=>!!u),recordCount:l.doc_count,...c&&{logoUrl:Bl(c)}}}))),this.organisationsCount$=this.organisationsAggs$.pipe(Te(a=>a.length)),this.organisations$=kp([this.organisationsWithoutGroups$,this.groups$.pipe(Kde(null))]).pipe(Te(([a,l])=>l?this.mapWithGroups(a,l):a),Ha())}get langIndex(){return Jk(this.translateService.currentLang)}equalsNormalizedStrings(e,r,i=!0){return!(!e||!r)&&this.normalizeString(e,i)===this.normalizeString(r,i)}normalizeString(e,r=!0){function i(s){return s.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}return r?i(e).replace(/[^a-z0-9]/g,""):i(e)}getAggregationSearchRequest(e){const r=(0,Kv.valid)((0,Kv.coerce)(e));return this.esService.getSearchRequestBody({contact:{nested:{path:"contactForResource"},aggs:{org:{terms:{field:"4.2.2"===r?"contactForResource.organisation":"contactForResource.organisationObject.default.keyword",exclude:"",size:5e3,order:{_key:"asc"}},aggs:{mail:{terms:{size:50,exclude:"",field:(0,Kv.satisfies)(r,"4.2.2 - 4.2.4")?"contactForResource.email.keyword":"contactForResource.email"}},logoUrl:{terms:{size:1,exclude:"",field:"contactForResource.logo.keyword"}}}}}},orgForResource:{terms:{size:5e3,exclude:"",field:"4.2.2"===r?"OrgForResource":"OrgForResourceObject.default",order:{_key:"asc"}}}})}mapWithGroups(e,r){return e.map(i=>{const s=r.find(l=>this.equalsNormalizedStrings(l.label.eng?l.label.eng:l.name,i.name))??r.filter(l=>!!l.email).find(l=>i.emails.map(c=>this.normalizeString(c,!1)).includes(this.normalizeString(l.email,!1))),{emails:o,...a}=i;return s?{...a,email:o[0],...s.description&&{description:s.description},...s.logo&&{logoUrl:Bl(`${OB}${s.logo}`)},...s.website&&{website:Bl(s.website)},...s.email&&{email:s.email}}:a})}getFiltersForOrgs(e){return this.platformService.getApiVersion().pipe(Te(r=>({[r.startsWith("4.2.2")?"OrgForResource":"OrgForResourceObject.default"]:e.reduce((s,o)=>({...s,[o.name]:!0}),{})})))}getOrgsFromFilters(e){return this.platformService.getApiVersion().pipe($s(r=>{const i=r.startsWith("4.2.2")?"OrgForResource":"OrgForResourceObject.default";return i in e?this.organisations$.pipe(Te(s=>Object.keys(e[i]).map(a=>s.find(l=>l.name===a)))):zi([])}))}addOrganizationToRecordFromSource(e,r){const i=No(c1(cd(e,"contactObject",this.langIndex),wn(e,"contact"))),o=No(c1(cd(e,"contactForResourceObject",this.langIndex),wn(e,"contactForResource"))).concat(i).map(u=>HB(u,this.langIndex));if(!o.length)return zi(r);const a=o[0],l=wn(e,"groupOwner"),c=this.groups$.pipe(Te(u=>u.find(d=>d.id===Number(l))));return this.organisations$.pipe(function Yde(n){return n<=0?()=>Ew:Si((t,e)=>{let r=[];t.subscribe(de(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}(1),function qde(...n){const t=Ob(n);return Si((e,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let l=0;l<i;l++)wa(n[l]).subscribe(de(r,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(jr))&&(o=null))},er));e.subscribe(de(r,l=>{if(a){const c=[l,...s];r.next(t?t(...c):c)}}))})}(c),Te(([u,d])=>{const h=u.filter(g=>g.name===a.name)[0],f=d?.logo&&Bl(`${OB}${d.logo}`);return{...r,ownerOrganization:{logoUrl:f,...a,...h}}}))}static{this.\u0275fac=function(r){return new(r||n)($e(Ry),$e(pv),$e(Aw),$e(qv),$e(Rc))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})(),ehe=(()=>{class n{get lang3(){return hh(this.translateService.currentLang)}constructor(e,r,i,s){this.esService=e,this.searchApiService=r,this.groupsApiService=i,this.translateService=s,this.groups$=this.groupsApiService.getGroups().pipe(Ha()),this.groupsAggregation$=this.searchApiService.search("bucket",null,JSON.stringify(this.esService.getSearchRequestBody({groups:{terms:{field:"groupOwner",size:5e3}}}))).pipe(Te(o=>o.aggregations.groups.buckets),Ha()),this.organisations$=gv([this.groupsAggregation$,this.groups$]).pipe(Te(([o,a])=>this.mapGroups(o,a)),Ha()),this.organisationsCount$=this.organisations$.pipe(Te(o=>o.length))}mapGroups(e,r){return e.filter(({key:i})=>!!r.find(s=>s.id.toString()===i)).map(({key:i,doc_count:s})=>{const o=r.find(l=>l.id.toString()===i);return{...this.mapOrgFromGroup(o),recordCount:s}})}mapOrgFromGroup(e){return{name:e.label[this.lang3],...e.description&&{description:e.description},...e.email&&{email:e.email},...e.logo&&{logoUrl:Bl(`/geonetwork/images/harvesting/${e.logo}`)},...e.website&&{website:Bl(e.website)}}}getFiltersForOrgs(e){return this.groups$.pipe(Te(r=>({groupOwner:e.map(s=>r.find(o=>o.label[this.lang3]===s.name)).reduce((s,o)=>({...s,[o.id.toString()]:!0}),{})})))}getOrgsFromFilters(e){return"groupOwner"in e?gv([this.groups$,this.organisations$]).pipe(Te(([r,i])=>Object.keys(e.groupOwner).map(o=>{const a=r.find(l=>l.id.toString()===o);return i.find(l=>l.name===a.label[this.lang3])}))):zi([])}addOrganizationToRecordFromSource(e,r){if(!("groupOwner"in e))return zi(r);const i=parseInt(e.groupOwner);return this.groups$.pipe(Te(s=>{const o=s.find(l=>l.id===i);if(!o)return r;const a=this.mapOrgFromGroup(o);return{...r,ownerOrganization:a}}))}static{this.\u0275fac=function(r){return new(r||n)($e(Ry),$e(pv),$e(Aw),$e(Rc))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();const the=new Wt("organizations-strategy",{factory:()=>"metadata"});new Wt("loginUrl"),new Wt("logoutUrl"),new Wt("settingsUrl");class GB{}function P_(n,t){const e="object"==typeof t;return new Promise((r,i)=>{const s=new We({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{e?r(t.defaultValue):i(new VB)}});n.subscribe(s)})}let nhe=(()=>{class n{constructor(e){this.gn4SettingsService=e,this.GRAVATAR_URL="https://www.gravatar.com/avatar/",this.GRAVATAR_IDENTICON="mp",this.identicon$=this.gn4SettingsService.identicon$.pipe(Te(r=>r?.replace("gravatar:","")))}getPlaceholder(){return this.getProfileIcon("")}getProfileIcon(e){return this.identicon$.pipe(Te(r=>r||this.GRAVATAR_IDENTICON),Te(r=>`${this.GRAVATAR_URL}${e}?d=${r}`))}getProfileIconUrl(e){var r=this;return(0,La.A)(function*(){let i="";try{i=yield P_(r.getProfileIcon(e))}catch{return""}return i})()}static{this.\u0275fac=function(r){return new(r||n)($e(NB))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),WB=(()=>{class n{constructor(e){this.avatarService=e}userFromMeApi(e){if(!e)return zi(null);const{hash:r,groupsWithRegisteredUser:i,groupsWithEditor:s,groupsWithReviewer:o,groupsWithUserAdmin:a,admin:l,...c}=e;return this.avatarService.getProfileIcon(r).pipe(Te(u=>({...c,profileIcon:u})))}userFromApi(e){if(!e)return null;const{enabled:r,emailAddresses:i,organization:s,kind:o,lastLoginDate:a,accountNonExpired:l,accountNonLocked:c,id:u,credentialsNonExpired:d,...h}=e;return{...e,id:u.toString()}}keywordsFromApi(e,r,i){return e.map(s=>{let o=s.uri;o.indexOf("@@@")>-1&&(o=o.split("@@@")[1]);const a=i&&i in s.values?s.values[i]:s.value,l=i&&i in s.definitions?s.definitions[i]:s.definition,c=r.find(d=>s.thesaurusKey===d.key);let u;return s.coordWest&&(u=[parseFloat(s.coordWest),parseFloat(s.coordSouth),parseFloat(s.coordEast),parseFloat(s.coordNorth)]),{key:o,label:a,description:l,type:c?.dname,thesaurus:{id:c?.key,name:c?.title,url:new URL(c?.url),type:c?.dname},...u&&{bbox:u}}})}userFeedbacksFromApi(e){return{uuid:e.uuid,metadataUUID:e.metadataUUID,comment:e.comment,authorUserId:e.authorUserId.toString(),authorName:e.authorName,authorEmail:e.authorEmail,published:e.published,parentUuid:e.parentUuid??void 0,date:new Date(e.date)}}userFeedbacksToApi(e){return{uuid:e.uuid,metadataUUID:e.metadataUUID,comment:e.comment,authorUserId:Number.parseInt(e.authorUserId),authorName:e.authorName,authorEmail:e.authorEmail,published:e.published,parentUuid:e.parentUuid,date:e.date.getTime().toString()}}createUserFeedbackViewModel(e){var r=this;return(0,La.A)(function*(){const i=yield r.avatarService.getProfileIconUrl(e.authorUserId?.toString());return{...e,avatarUrl:i}})()}static{this.\u0275fac=function(r){return new(r||n)($e(GB))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();const{min:rhe,max:ihe}=Math,x0=(n,t=0,e=1)=>rhe(ihe(t,n),e),B_=n=>{n._clipped=!1,n._unclipped=n.slice(0);for(let t=0;t<=3;t++)t<3?((n[t]<0||n[t]>255)&&(n._clipped=!0),n[t]=x0(n[t],0,255)):3===t&&(n[t]=x0(n[t],0,1));return n},jB={};for(let n of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])jB[`[object ${n}]`]=n.toLowerCase();function ni(n){return jB[Object.prototype.toString.call(n)]||"object"}const Nr=(n,t=null)=>n.length>=3?Array.prototype.slice.call(n):"object"==ni(n[0])&&t?t.split("").filter(e=>void 0!==n[0][e]).map(e=>n[0][e]):n[0].slice(0),Fp=n=>{if(n.length<2)return null;const t=n.length-1;return"string"==ni(n[t])?n[t].toLowerCase():null},{PI:Ly,min:UB,max:ZB}=Math,Gc=n=>Math.round(100*n)/100,N_=n=>Math.round(100*n)/100,ud=2*Ly,O_=Ly/3,she=Ly/180,ohe=180/Ly;function $B(n){return[...n.slice(0,3).reverse(),...n.slice(3)]}const Hr={format:{},autodetect:[]},sn=class ahe{constructor(...t){const e=this;if("object"===ni(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let r=Fp(t),i=!1;if(!r){i=!0,Hr.sorted||(Hr.autodetect=Hr.autodetect.sort((s,o)=>o.p-s.p),Hr.sorted=!0);for(let s of Hr.autodetect)if(r=s.test(...t),r)break}if(!Hr.format[r])throw new Error("unknown format: "+t);{const s=Hr.format[r].apply(null,i?t:t.slice(0,-1));e._rgb=B_(s)}3===e._rgb.length&&e._rgb.push(1)}toString(){return"function"==ni(this.hex)?this.hex():`[${this._rgb.join(",")}]`}},XB=(...n)=>new sn(...n);XB.version="3.1.2";const Hi=XB,Pp={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},che=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,uhe=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,YB=n=>{if(n.match(che)){(4===n.length||7===n.length)&&(n=n.substr(1)),3===n.length&&(n=(n=n.split(""))[0]+n[0]+n[1]+n[1]+n[2]+n[2]);const t=parseInt(n,16);return[t>>16,t>>8&255,255&t,1]}if(n.match(uhe)){(5===n.length||9===n.length)&&(n=n.substr(1)),4===n.length&&(n=(n=n.split(""))[0]+n[0]+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]);const t=parseInt(n,16);return[t>>24&255,t>>16&255,t>>8&255,Math.round((255&t)/255*100)/100]}throw new Error(`unknown hex color: ${n}`)},{round:Hy}=Math,KB=(...n)=>{let[t,e,r,i]=Nr(n,"rgba"),s=Fp(n)||"auto";void 0===i&&(i=1),"auto"===s&&(s=i<1?"rgba":"rgb"),t=Hy(t),e=Hy(e),r=Hy(r);let a="000000"+(t<<16|e<<8|r).toString(16);a=a.substr(a.length-6);let l="0"+Hy(255*i).toString(16);switch(l=l.substr(l.length-2),s.toLowerCase()){case"rgba":return`#${a}${l}`;case"argb":return`#${l}${a}`;default:return`#${a}`}};sn.prototype.name=function(){const n=KB(this._rgb,"rgb");for(let t of Object.keys(Pp))if(Pp[t]===n)return t.toLowerCase();return n},Hr.format.named=n=>{if(n=n.toLowerCase(),Pp[n])return YB(Pp[n]);throw new Error("unknown color name: "+n)},Hr.autodetect.push({p:5,test:(n,...t)=>{if(!t.length&&"string"===ni(n)&&Pp[n.toLowerCase()])return"named"}}),sn.prototype.alpha=function(n,t=!1){return void 0!==n&&"number"===ni(n)?t?(this._rgb[3]=n,this):new sn([this._rgb[0],this._rgb[1],this._rgb[2],n],"rgb"):this._rgb[3]},sn.prototype.clipped=function(){return this._rgb._clipped||!1};const Jv={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},Bp=Jv,dhe=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function dd(n){const t=dhe.get(String(n).toLowerCase());if(!t)throw new Error("unknown Lab illuminant "+n);Jv.labWhitePoint=n,Jv.Xn=t[0],Jv.Zn=t[1]}function Qv(){return Jv.labWhitePoint}const G_=n=>{const t=Math.sign(n);return((n=Math.abs(n))<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)*t},qB=(n,t,e)=>{const{MtxAdaptMa:r,MtxAdaptMaI:i,MtxXYZ2RGB:s,RefWhiteRGB:o,Xn:a,Yn:l,Zn:c}=Bp,C=(o.X*r.m00+o.Y*r.m10+o.Z*r.m20)/(a*r.m00+l*r.m10+c*r.m20)*(n*r.m00+t*r.m10+e*r.m20),I=(o.X*r.m01+o.Y*r.m11+o.Z*r.m21)/(a*r.m01+l*r.m11+c*r.m21)*(n*r.m01+t*r.m11+e*r.m21),L=(o.X*r.m02+o.Y*r.m12+o.Z*r.m22)/(a*r.m02+l*r.m12+c*r.m22)*(n*r.m02+t*r.m12+e*r.m22),ie=C*i.m00+I*i.m10+L*i.m20,ne=C*i.m01+I*i.m11+L*i.m21,se=C*i.m02+I*i.m12+L*i.m22;return[255*G_(ie*s.m00+ne*s.m10+se*s.m20),255*G_(ie*s.m01+ne*s.m11+se*s.m21),255*G_(ie*s.m02+ne*s.m12+se*s.m22)]},W_=(...n)=>{n=Nr(n,"lab");const[t,e,r]=n,[i,s,o]=((n,t,e)=>{const{kE:r,kK:i,kKE:s,Xn:o,Yn:a,Zn:l}=Bp,c=(n+16)/116,u=.002*t+c,d=c-.005*e,h=u*u*u,f=d*d*d;return[(h>r?h:(116*u-16)/i)*o,(n>s?Math.pow((n+16)/116,3):n/i)*a,(f>r?f:(116*d-16)/i)*l]})(t,e,r),[a,l,c]=qB(i,s,o);return[a,l,c,n.length>3?n[3]:1]};function j_(n){const t=Math.sign(n);return((n=Math.abs(n))<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4))*t}const JB=(n,t,e)=>{n=j_(n/255),t=j_(t/255),e=j_(e/255);const{MtxRGB2XYZ:r,MtxAdaptMa:i,MtxAdaptMaI:s,Xn:o,Yn:a,Zn:l,As:c,Bs:u,Cs:d}=Bp;let h=n*r.m00+t*r.m10+e*r.m20,f=n*r.m01+t*r.m11+e*r.m21,g=n*r.m02+t*r.m12+e*r.m22,L=h*i.m00+f*i.m10+g*i.m20,ie=h*i.m01+f*i.m11+g*i.m21,ne=h*i.m02+f*i.m12+g*i.m22;return L*=(o*i.m00+a*i.m10+l*i.m20)/c,ie*=(o*i.m01+a*i.m11+l*i.m21)/u,ne*=(o*i.m02+a*i.m12+l*i.m22)/d,h=L*s.m00+ie*s.m10+ne*s.m20,f=L*s.m01+ie*s.m11+ne*s.m21,g=L*s.m02+ie*s.m12+ne*s.m22,[h,f,g]},U_=(...n)=>{const[t,e,r,...i]=Nr(n,"rgb"),[s,o,a]=JB(t,e,r),[l,c,u]=function ghe(n,t,e){const{Xn:r,Yn:i,Zn:s,kE:o,kK:a}=Bp,l=n/r,c=t/i,u=e/s,d=l>o?Math.pow(l,1/3):(a*l+16)/116,h=c>o?Math.pow(c,1/3):(a*c+16)/116;return[116*h-16,500*(d-h),200*(h-(u>o?Math.pow(u,1/3):(a*u+16)/116))]}(s,o,a);return[l,c,u,...i.length>0&&i[0]<1?[i[0]]:[]]};sn.prototype.lab=function(){return U_(this._rgb)},Object.assign(Hi,{lab:(...n)=>new sn(...n,"lab"),getLabWhitePoint:Qv,setLabWhitePoint:dd}),Hr.format.lab=W_,Hr.autodetect.push({p:2,test:(...n)=>{if("array"===ni(n=Nr(n,"lab"))&&3===n.length)return"lab"}}),sn.prototype.darken=function(n=1){const e=this.lab();return e[0]-=Bp.Kn*n,new sn(e,"lab").alpha(this.alpha(),!0)},sn.prototype.brighten=function(n=1){return this.darken(-n)},sn.prototype.darker=sn.prototype.darken,sn.prototype.brighter=sn.prototype.brighten,sn.prototype.get=function(n){const[t,e]=n.split("."),r=this[t]();if(e){const i=t.indexOf(e)-("ok"===t.substr(0,2)?2:0);if(i>-1)return r[i];throw new Error(`unknown channel ${e} in mode ${t}`)}return r};const{pow:mhe}=Math;sn.prototype.luminance=function(n,t="rgb"){if(void 0!==n&&"number"===ni(n)){if(0===n)return new sn([0,0,0,this._rgb[3]],"rgb");if(1===n)return new sn([255,255,255,this._rgb[3]],"rgb");let e=this.luminance(),r=20;const i=(o,a)=>{const l=o.interpolate(a,.5,t),c=l.luminance();return Math.abs(n-c)<1e-7||!r--?l:c>n?i(o,l):i(l,a)},s=(e>n?i(new sn([0,0,0]),this):i(this,new sn([255,255,255]))).rgb();return new sn([...s,this._rgb[3]])}return yhe(...this._rgb.slice(0,3))};const yhe=(n,t,e)=>.2126*(n=Z_(n))+.7152*(t=Z_(t))+.0722*Z_(e),Z_=n=>(n/=255)<=.03928?n/12.92:mhe((n+.055)/1.055,2.4),Xa={},Np=(n,t,e=.5,...r)=>{let i=r[0]||"lrgb";if(!Xa[i]&&!r.length&&(i=Object.keys(Xa)[0]),!Xa[i])throw new Error(`interpolation mode ${i} is not defined`);return"object"!==ni(n)&&(n=new sn(n)),"object"!==ni(t)&&(t=new sn(t)),Xa[i](n,t,e).alpha(n.alpha()+e*(t.alpha()-n.alpha()))};sn.prototype.mix=sn.prototype.interpolate=function(n,t=.5,...e){return Np(this,n,t,...e)},sn.prototype.premultiply=function(n=!1){const t=this._rgb,e=t[3];return n?(this._rgb=[t[0]*e,t[1]*e,t[2]*e,e],this):new sn([t[0]*e,t[1]*e,t[2]*e,e],"rgb")};const{sin:Che,cos:bhe}=Math,QB=(...n)=>{let[t,e,r]=Nr(n,"lch");return isNaN(r)&&(r=0),r*=she,[t,bhe(r)*e,Che(r)*e]},$_=(...n)=>{n=Nr(n,"lch");const[t,e,r]=n,[i,s,o]=QB(t,e,r),[a,l,c]=W_(i,s,o);return[a,l,c,n.length>3?n[3]:1]},{sqrt:_he,atan2:Ihe,round:Ahe}=Math,eN=(...n)=>{const[t,e,r]=Nr(n,"lab"),i=_he(e*e+r*r);let s=(Ihe(r,e)*ohe+360)%360;return 0===Ahe(1e4*i)&&(s=Number.NaN),[t,i,s]},X_=(...n)=>{const[t,e,r,...i]=Nr(n,"rgb"),[s,o,a]=U_(t,e,r),[l,c,u]=eN(s,o,a);return[l,c,u,...i.length>0&&i[0]<1?[i[0]]:[]]};sn.prototype.lch=function(){return X_(this._rgb)},sn.prototype.hcl=function(){return $B(X_(this._rgb))},Object.assign(Hi,{lch:(...n)=>new sn(...n,"lch"),hcl:(...n)=>new sn(...n,"hcl")}),Hr.format.lch=$_,Hr.format.hcl=(...n)=>{const t=$B(Nr(n,"hcl"));return $_(...t)},["lch","hcl"].forEach(n=>Hr.autodetect.push({p:2,test:(...t)=>{if("array"===ni(t=Nr(t,n))&&3===t.length)return n}})),sn.prototype.saturate=function(n=1){const e=this.lch();return e[1]+=Bp.Kn*n,e[1]<0&&(e[1]=0),new sn(e,"lch").alpha(this.alpha(),!0)},sn.prototype.desaturate=function(n=1){return this.saturate(-n)},sn.prototype.set=function(n,t,e=!1){const[r,i]=n.split("."),s=this[r]();if(i){const o=r.indexOf(i)-("ok"===r.substr(0,2)?2:0);if(o>-1){if("string"==ni(t))switch(t.charAt(0)){case"+":case"-":s[o]+=+t;break;case"*":s[o]*=+t.substr(1);break;case"/":s[o]/=+t.substr(1);break;default:s[o]=+t}else{if("number"!==ni(t))throw new Error("unsupported value for Color.set");s[o]=t}const a=new sn(s,r);return e?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${i} in mode ${r}`)}return s},sn.prototype.tint=function(n=.5,...t){return Np(this,"white",n,...t)},sn.prototype.shade=function(n=.5,...t){return Np(this,"black",n,...t)},Xa.rgb=(n,t,e)=>{const r=n._rgb,i=t._rgb;return new sn(r[0]+e*(i[0]-r[0]),r[1]+e*(i[1]-r[1]),r[2]+e*(i[2]-r[2]),"rgb")};const{sqrt:Y_,pow:Op}=Math;Xa.lrgb=(n,t,e)=>{const[r,i,s]=n._rgb,[o,a,l]=t._rgb;return new sn(Y_(Op(r,2)*(1-e)+Op(o,2)*e),Y_(Op(i,2)*(1-e)+Op(a,2)*e),Y_(Op(s,2)*(1-e)+Op(l,2)*e),"rgb")},Xa.lab=(n,t,e)=>{const r=n.lab(),i=t.lab();return new sn(r[0]+e*(i[0]-r[0]),r[1]+e*(i[1]-r[1]),r[2]+e*(i[2]-r[2]),"lab")};const Gp=(n,t,e,r)=>{let i,s,o,a,l,c,u,d,h,f,g,w;return"hsl"===r?(i=n.hsl(),s=t.hsl()):"hsv"===r?(i=n.hsv(),s=t.hsv()):"hcg"===r?(i=n.hcg(),s=t.hcg()):"hsi"===r?(i=n.hsi(),s=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",i=n.hcl(),s=t.hcl()):"oklch"===r&&(i=n.oklch().reverse(),s=t.oklch().reverse()),("h"===r.substr(0,1)||"oklch"===r)&&([o,l,u]=i,[a,c,d]=s),isNaN(o)||isNaN(a)?isNaN(o)?isNaN(a)?f=Number.NaN:(f=a,(1==u||0==u)&&"hsv"!=r&&(h=c)):(f=o,(1==d||0==d)&&"hsv"!=r&&(h=l)):(w=a>o&&a-o>180?a-(o+360):a<o&&o-a>180?a+360-o:a-o,f=o+e*w),void 0===h&&(h=l+e*(c-l)),g=u+e*(d-u),new sn("oklch"===r?[g,h,f]:[f,h,g],r)},tN=(n,t,e)=>Gp(n,t,e,"lch");Xa.lch=tN,Xa.hcl=tN,sn.prototype.num=function(){return((...n)=>{const[t,e,r]=Nr(n,"rgb");return(t<<16)+(e<<8)+r})(this._rgb)},Object.assign(Hi,{num:(...n)=>new sn(...n,"num")}),Hr.format.num=n=>{if("number"==ni(n)&&n>=0&&n<=16777215)return[n>>16,n>>8&255,255&n,1];throw new Error("unknown num color: "+n)},Hr.autodetect.push({p:5,test:(...n)=>{if(1===n.length&&"number"===ni(n[0])&&n[0]>=0&&n[0]<=16777215)return"num"}}),Xa.num=(n,t,e)=>{const r=n.num(),i=t.num();return new sn(r+e*(i-r),"num")};const{floor:Lhe}=Math;sn.prototype.hcg=function(){return((...n)=>{const[t,e,r]=Nr(n,"rgb"),i=UB(t,e,r),s=ZB(t,e,r),o=s-i;let c;return 0===o?c=Number.NaN:(t===s&&(c=(e-r)/o),e===s&&(c=2+(r-t)/o),r===s&&(c=4+(t-e)/o),c*=60,c<0&&(c+=360)),[c,100*o/255,i/(255-o)*100]})(this._rgb)},Hi.hcg=(...n)=>new sn(...n,"hcg"),Hr.format.hcg=(...n)=>{n=Nr(n,"hcg");let i,s,o,[t,e,r]=n;r*=255;const a=255*e;if(0===e)i=s=o=r;else{360===t&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const l=Lhe(t),c=t-l,u=r*(1-e),d=u+a*(1-c),h=u+a*c,f=u+a;switch(l){case 0:[i,s,o]=[f,h,u];break;case 1:[i,s,o]=[d,f,u];break;case 2:[i,s,o]=[u,f,h];break;case 3:[i,s,o]=[u,d,f];break;case 4:[i,s,o]=[h,u,f];break;case 5:[i,s,o]=[f,u,d]}}return[i,s,o,n.length>3?n[3]:1]},Hr.autodetect.push({p:1,test:(...n)=>{if("array"===ni(n=Nr(n,"hcg"))&&3===n.length)return"hcg"}}),Xa.hcg=(n,t,e)=>Gp(n,t,e,"hcg");const{cos:Wp}=Math,{min:Phe,sqrt:Bhe,acos:Nhe}=Math;sn.prototype.hsi=function(){return((...n)=>{let i,[t,e,r]=Nr(n,"rgb");t/=255,e/=255,r/=255;const s=Phe(t,e,r),o=(t+e+r)/3,a=o>0?1-s/o:0;return 0===a?i=NaN:(i=(t-e+(t-r))/2,i/=Bhe((t-e)*(t-e)+(t-r)*(e-r)),i=Nhe(i),r>e&&(i=ud-i),i/=ud),[360*i,a,o]})(this._rgb)},Hi.hsi=(...n)=>new sn(...n,"hsi"),Hr.format.hsi=(...n)=>{n=Nr(n,"hsi");let i,s,o,[t,e,r]=n;return isNaN(t)&&(t=0),isNaN(e)&&(e=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(o=(1-e)/3,i=(1+e*Wp(ud*t)/Wp(O_-ud*t))/3,s=1-(o+i)):t<2/3?(t-=1/3,i=(1-e)/3,s=(1+e*Wp(ud*t)/Wp(O_-ud*t))/3,o=1-(i+s)):(t-=2/3,s=(1-e)/3,o=(1+e*Wp(ud*t)/Wp(O_-ud*t))/3,i=1-(s+o)),i=x0(r*i*3),s=x0(r*s*3),o=x0(r*o*3),[255*i,255*s,255*o,n.length>3?n[3]:1]},Hr.autodetect.push({p:2,test:(...n)=>{if("array"===ni(n=Nr(n,"hsi"))&&3===n.length)return"hsi"}}),Xa.hsi=(n,t,e)=>Gp(n,t,e,"hsi");const K_=(...n)=>{n=Nr(n,"hsl");const[t,e,r]=n;let i,s,o;if(0===e)i=s=o=255*r;else{const a=[0,0,0],l=[0,0,0],c=r<.5?r*(1+e):r+e-r*e,u=2*r-c,d=t/360;a[0]=d+1/3,a[1]=d,a[2]=d-1/3;for(let h=0;h<3;h++)a[h]<0&&(a[h]+=1),a[h]>1&&(a[h]-=1),l[h]=6*a[h]<1?u+6*(c-u)*a[h]:2*a[h]<1?c:3*a[h]<2?u+(c-u)*(2/3-a[h])*6:u;[i,s,o]=[255*l[0],255*l[1],255*l[2]]}return n.length>3?[i,s,o,n[3]]:[i,s,o,1]},nN=(...n)=>{n=Nr(n,"rgba");let[t,e,r]=n;t/=255,e/=255,r/=255;const i=UB(t,e,r),s=ZB(t,e,r),o=(s+i)/2;let a,l;return s===i?(a=0,l=Number.NaN):a=o<.5?(s-i)/(s+i):(s-i)/(2-s-i),t==s?l=(e-r)/(s-i):e==s?l=2+(r-t)/(s-i):r==s&&(l=4+(t-e)/(s-i)),l*=60,l<0&&(l+=360),n.length>3&&void 0!==n[3]?[l,a,o,n[3]]:[l,a,o]};sn.prototype.hsl=function(){return nN(this._rgb)},Hi.hsl=(...n)=>new sn(...n,"hsl"),Hr.format.hsl=K_,Hr.autodetect.push({p:2,test:(...n)=>{if("array"===ni(n=Nr(n,"hsl"))&&3===n.length)return"hsl"}}),Xa.hsl=(n,t,e)=>Gp(n,t,e,"hsl");const{floor:Zhe}=Math,{min:Xhe,max:Yhe}=Math;function Dy(n,t){let e=n.length;Array.isArray(n[0])||(n=[n]),Array.isArray(t[0])||(t=t.map(o=>[o]));let r=t[0].length,i=t[0].map((o,a)=>t.map(l=>l[a])),s=n.map(o=>i.map(a=>Array.isArray(o)?o.reduce((l,c,u)=>l+c*(a[u]||0),0):a.reduce((l,c)=>l+c*o,0)));return 1===e&&(s=s[0]),1===r?s.map(o=>o[0]):s}sn.prototype.hsv=function(){return((...n)=>{n=Nr(n,"rgb");let[t,e,r]=n;const i=Xhe(t,e,r),s=Yhe(t,e,r),o=s-i;let a,l,c;return c=s/255,0===s?(a=Number.NaN,l=0):(l=o/s,t===s&&(a=(e-r)/o),e===s&&(a=2+(r-t)/o),r===s&&(a=4+(t-e)/o),a*=60,a<0&&(a+=360)),[a,l,c]})(this._rgb)},Hi.hsv=(...n)=>new sn(...n,"hsv"),Hr.format.hsv=(...n)=>{n=Nr(n,"hsv");let i,s,o,[t,e,r]=n;if(r*=255,0===e)i=s=o=r;else{360===t&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const a=Zhe(t),l=t-a,c=r*(1-e),u=r*(1-e*l),d=r*(1-e*(1-l));switch(a){case 0:[i,s,o]=[r,d,c];break;case 1:[i,s,o]=[u,r,c];break;case 2:[i,s,o]=[c,r,d];break;case 3:[i,s,o]=[c,u,r];break;case 4:[i,s,o]=[d,c,r];break;case 5:[i,s,o]=[r,c,u]}}return[i,s,o,n.length>3?n[3]:1]},Hr.autodetect.push({p:2,test:(...n)=>{if("array"===ni(n=Nr(n,"hsv"))&&3===n.length)return"hsv"}}),Xa.hsv=(n,t,e)=>Gp(n,t,e,"hsv");const q_=(...n)=>{n=Nr(n,"lab");const[t,e,r,...i]=n,[s,o,a]=function e2e(n){var r=Dy([[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],n);return Dy([[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],r.map(i=>i**3))}([t,e,r]),[l,c,u]=qB(s,o,a);return[l,c,u,...i.length>0&&i[0]<1?[i[0]]:[]]};function n2e(n){const r=Dy([[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],n);return Dy([[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r.map(i=>Math.cbrt(i)))}const J_=(...n)=>{const[t,e,r,...i]=Nr(n,"rgb");return[...n2e(JB(t,e,r)),...i.length>0&&i[0]<1?[i[0]]:[]]};sn.prototype.oklab=function(){return J_(this._rgb)},Object.assign(Hi,{oklab:(...n)=>new sn(...n,"oklab")}),Hr.format.oklab=q_,Hr.autodetect.push({p:2,test:(...n)=>{if("array"===ni(n=Nr(n,"oklab"))&&3===n.length)return"oklab"}}),Xa.oklab=(n,t,e)=>{const r=n.oklab(),i=t.oklab();return new sn(r[0]+e*(i[0]-r[0]),r[1]+e*(i[1]-r[1]),r[2]+e*(i[2]-r[2]),"oklab")},Xa.oklch=(n,t,e)=>Gp(n,t,e,"oklch");const{pow:Q_,sqrt:eI,PI:tI,cos:rN,sin:iN,atan2:s2e}=Math,{pow:l2e}=Math;function Vy(n){let t="rgb",e=Hi("#ccc"),r=0,i=[0,1],s=[],o=[0,0],a=!1,l=[],c=!1,u=0,d=1,h=!1,f={},g=!0,w=1;const C=function(Y){if((Y=Y||["#fff","#000"])&&"string"===ni(Y)&&Hi.brewer&&Hi.brewer[Y.toLowerCase()]&&(Y=Hi.brewer[Y.toLowerCase()]),"array"===ni(Y)){1===Y.length&&(Y=[Y[0],Y[0]]),Y=Y.slice(0);for(let ve=0;ve<Y.length;ve++)Y[ve]=Hi(Y[ve]);s.length=0;for(let ve=0;ve<Y.length;ve++)s.push(ve/(Y.length-1))}return se(),l=Y};let L=Y=>Y,ie=Y=>Y;const ne=function(Y,ve){let Re,Fe;if(null==ve&&(ve=!1),isNaN(Y)||null===Y)return e;Fe=ve?Y:a&&a.length>2?function(Y){if(null!=a){const ve=a.length-1;let Re=0;for(;Re<ve&&Y>=a[Re];)Re++;return Re-1}return 0}(Y)/(a.length-2):d!==u?(Y-u)/(d-u):1,Fe=ie(Fe),ve||(Fe=L(Fe)),1!==w&&(Fe=l2e(Fe,w)),Fe=o[0]+Fe*(1-o[0]-o[1]),Fe=x0(Fe,0,1);const Ze=Math.floor(1e4*Fe);if(g&&f[Ze])Re=f[Ze];else{if("array"===ni(l))for(let De=0;De<s.length;De++){const st=s[De];if(Fe<=st){Re=l[De];break}if(Fe>=st&&De===s.length-1){Re=l[De];break}if(Fe>st&&Fe<s[De+1]){Fe=(Fe-st)/(s[De+1]-st),Re=Hi.interpolate(l[De],l[De+1],Fe,t);break}}else"function"===ni(l)&&(Re=l(Fe));g&&(f[Ze]=Re)}return Re};var se=()=>f={};C(n);const $=function(Y){const ve=Hi(ne(Y));return c&&ve[c]?ve[c]():ve};return $.classes=function(Y){if(null!=Y){if("array"===ni(Y))a=Y,i=[Y[0],Y[Y.length-1]];else{const ve=Hi.analyze(i);a=0===Y?[ve.min,ve.max]:Hi.limits(ve,"e",Y)}return $}return a},$.domain=function(Y){if(!arguments.length)return i;u=Y[0],d=Y[Y.length-1],s=[];const ve=l.length;if(Y.length===ve&&u!==d)for(let Re of Array.from(Y))s.push((Re-u)/(d-u));else{for(let Re=0;Re<ve;Re++)s.push(Re/(ve-1));if(Y.length>2){const Re=Y.map((Ze,De)=>De/(Y.length-1)),Fe=Y.map(Ze=>(Ze-u)/(d-u));Fe.every((Ze,De)=>Re[De]===Ze)||(ie=Ze=>{if(Ze<=0||Ze>=1)return Ze;let De=0;for(;Ze>=Fe[De+1];)De++;return Re[De]+(Ze-Fe[De])/(Fe[De+1]-Fe[De])*(Re[De+1]-Re[De])})}}return i=[u,d],$},$.mode=function(Y){return arguments.length?(t=Y,se(),$):t},$.range=function(Y,ve){return C(Y),$},$.out=function(Y){return c=Y,$},$.spread=function(Y){return arguments.length?(r=Y,$):r},$.correctLightness=function(Y){return null==Y&&(Y=!0),h=Y,se(),L=h?function(ve){const Re=ne(0,!0).lab()[0],Fe=ne(1,!0).lab()[0],Ze=Re>Fe;let De=ne(ve,!0).lab()[0];const st=Re+(Fe-Re)*ve;let ht=De-st,ot=0,nt=1,It=20;for(;Math.abs(ht)>.01&&It-- >0;)Ze&&(ht*=-1),ht<0?(ot=ve,ve+=.5*(nt-ve)):(nt=ve,ve+=.5*(ot-ve)),De=ne(ve,!0).lab()[0],ht=De-st;return ve}:ve=>ve,$},$.padding=function(Y){return null!=Y?("number"===ni(Y)&&(Y=[Y,Y]),o=Y,$):o},$.colors=function(Y,ve){arguments.length<2&&(ve="hex");let Re=[];if(0===arguments.length)Re=l.slice(0);else if(1===Y)Re=[$(.5)];else if(Y>1){const Fe=i[0],Ze=i[1]-Fe;Re=function c2e(n,t,e){let r=[],i=n<t,s=e?i?t+1:t-1:t;for(let o=n;i?o<s:o>s;i?o++:o--)r.push(o);return r}(0,Y,!1).map(De=>$(Fe+De/(Y-1)*Ze))}else{n=[];let Fe=[];if(a&&a.length>2)for(let Ze=1,De=a.length,st=1<=De;st?Ze<De:Ze>De;st?Ze++:Ze--)Fe.push(.5*(a[Ze-1]+a[Ze]));else Fe=i;Re=Fe.map(Ze=>$(Ze))}return Hi[ve]&&(Re=Re.map(Fe=>Fe[ve]())),Re},$.cache=function(Y){return null!=Y?(g=Y,$):g},$.gamma=function(Y){return null!=Y?(w=Y,$):w},$.nodata=function(Y){return null!=Y?(e=Hi(Y),$):e},$}const{round:sN}=Math;sn.prototype.rgb=function(n=!0){return!1===n?this._rgb.slice(0,3):this._rgb.slice(0,3).map(sN)},sn.prototype.rgba=function(n=!0){return this._rgb.slice(0,4).map((t,e)=>e<3?!1===n?t:sN(t):t)},Object.assign(Hi,{rgb:(...n)=>new sn(...n,"rgb")}),Hr.format.rgb=(...n)=>{const t=Nr(n,"rgba");return void 0===t[3]&&(t[3]=1),t},Hr.autodetect.push({p:3,test:(...n)=>{if("array"===ni(n=Nr(n,"rgba"))&&(3===n.length||4===n.length&&"number"==ni(n[3])&&n[3]>=0&&n[3]<=1))return"rgb"}});const yu=(n,t,e)=>{if(!yu[e])throw new Error("unknown blend mode "+e);return yu[e](n,t)},Rh=n=>(t,e)=>{const r=Hi(e).rgb(),i=Hi(t).rgb();return Hi.rgb(n(r,i))},Lh=n=>(t,e)=>{const r=[];return r[0]=n(t[0],e[0]),r[1]=n(t[1],e[1]),r[2]=n(t[2],e[2]),r};yu.normal=Rh(Lh(n=>n)),yu.multiply=Rh(Lh((n,t)=>n*t/255)),yu.screen=Rh(Lh((n,t)=>255*(1-(1-n/255)*(1-t/255)))),yu.overlay=Rh(Lh((n,t)=>t<128?2*n*t/255:255*(1-2*(1-n/255)*(1-t/255)))),yu.darken=Rh(Lh((n,t)=>n>t?t:n)),yu.lighten=Rh(Lh((n,t)=>n>t?n:t)),yu.dodge=Rh(Lh((n,t)=>255===n||(n=t/255*255/(1-n/255))>255?255:n)),yu.burn=Rh(Lh((n,t)=>255*(1-(1-t/255)/(n/255))));const b2e=yu,{pow:x2e,sin:_2e,cos:I2e}=Math,{floor:E2e,random:S2e}=Math,{log:oN,pow:z2e,floor:R2e,abs:L2e}=Math;function aN(n,t=null){const e={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===ni(n)&&(n=Object.values(n)),n.forEach(r=>{t&&"object"===ni(r)&&(r=r[t]),null!=r&&!isNaN(r)&&(e.values.push(r),e.sum+=r,r<e.min&&(e.min=r),r>e.max&&(e.max=r),e.count+=1)}),e.domain=[e.min,e.max],e.limits=(r,i)=>lN(e,r,i),e}function lN(n,t="equal",e=7){"array"==ni(n)&&(n=aN(n));const{min:r,max:i}=n,s=n.values.sort((a,l)=>a-l);if(1===e)return[r,i];const o=[];if("c"===t.substr(0,1)&&(o.push(r),o.push(i)),"e"===t.substr(0,1)){o.push(r);for(let a=1;a<e;a++)o.push(r+a/e*(i-r));o.push(i)}else if("l"===t.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const a=Math.LOG10E*oN(r),l=Math.LOG10E*oN(i);o.push(r);for(let c=1;c<e;c++)o.push(z2e(10,a+c/e*(l-a)));o.push(i)}else if("q"===t.substr(0,1)){o.push(r);for(let a=1;a<e;a++){const l=(s.length-1)*a/e,c=R2e(l);if(c===l)o.push(s[c]);else{const u=l-c;o.push(s[c]*(1-u)+s[c+1]*u)}}o.push(i)}else if("k"===t.substr(0,1)){let a;const l=s.length,c=new Array(l),u=new Array(e);let d=!0,h=0,f=null;f=[],f.push(r);for(let C=1;C<e;C++)f.push(r+C/e*(i-r));for(f.push(i);d;){for(let I=0;I<e;I++)u[I]=0;for(let I=0;I<l;I++){const L=s[I];let ne,ie=Number.MAX_VALUE;for(let se=0;se<e;se++){const $=L2e(f[se]-L);$<ie&&(ie=$,ne=se),u[ne]++,c[I]=ne}}const C=new Array(e);for(let I=0;I<e;I++)C[I]=null;for(let I=0;I<l;I++)a=c[I],null===C[a]?C[a]=s[I]:C[a]+=s[I];for(let I=0;I<e;I++)C[I]*=1/u[I];d=!1;for(let I=0;I<e;I++)if(C[I]!==f[I]){d=!0;break}f=C,h++,h>200&&(d=!1)}const g={};for(let C=0;C<e;C++)g[C]=[];for(let C=0;C<l;C++)a=c[C],g[a].push(s[C]);let w=[];for(let C=0;C<e;C++)w.push(g[C][0]),w.push(g[C][g[C].length-1]);w=w.sort((C,I)=>C-I),o.push(w[0]);for(let C=1;C<w.length;C+=2){const I=w[C];!isNaN(I)&&-1===o.indexOf(I)&&o.push(I)}}return o}const ky=.022;function hN(n,t,e){return.2126729*Math.pow(n/255,2.4)+.7151522*Math.pow(t/255,2.4)+.072175*Math.pow(e/255,2.4)}const{sqrt:hd,pow:Oo,min:F2e,max:P2e,atan2:fN,abs:pN,cos:Fy,sin:gN,exp:B2e,PI:mN}=Math,W2e={cool:()=>Vy([Hi.hsl(180,1,.9),Hi.hsl(250,.7,.4)]),hot:()=>Vy(["#000","#f00","#ff0","#fff"]).mode("rgb")},nI={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},vN=Object.keys(nI),wN=new Map(vN.map(n=>[n.toLowerCase(),n])),j2e="function"==typeof Proxy?new Proxy(nI,{get(n,t){const e=t.toLowerCase();if(wN.has(e))return n[wN.get(e)]},getOwnPropertyNames:()=>Object.getOwnPropertyNames(vN)}):nI,{max:yN}=Math;sn.prototype.cmyk=function(){return((...n)=>{let[t,e,r]=Nr(n,"rgb");t/=255,e/=255,r/=255;const i=1-yN(t,yN(e,r)),s=i<1?1/(1-i):0;return[(1-t-i)*s,(1-e-i)*s,(1-r-i)*s,i]})(this._rgb)},Object.assign(Hi,{cmyk:(...n)=>new sn(...n,"cmyk")}),Hr.format.cmyk=(...n)=>{n=Nr(n,"cmyk");const[t,e,r,i]=n,s=n.length>4?n[4]:1;return 1===i?[0,0,0,s]:[t>=1?0:255*(1-t)*(1-i),e>=1?0:255*(1-e)*(1-i),r>=1?0:255*(1-r)*(1-i),s]},Hr.autodetect.push({p:2,test:(...n)=>{if("array"===ni(n=Nr(n,"cmyk"))&&4===n.length)return"cmyk"}});const CN=(...n)=>{const[t,e,r,...i]=Nr(n,"rgb"),[s,o,a]=J_(t,e,r),[l,c,u]=eN(s,o,a);return[l,c,u,...i.length>0&&i[0]<1?[i[0]]:[]]},{round:rI}=Math,bN=(...n)=>{n=Nr(n,"lch");const[t,e,r,...i]=n,[s,o,a]=QB(t,e,r),[l,c,u]=q_(s,o,a);return[l,c,u,...i.length>0&&i[0]<1?[i[0]]:[]]},fd=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Cu=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,Py=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,Wc=/\s*/.source,jp=/\s+/.source,iI=/\s*,\s*/.source,By=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,Up=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,xN=new RegExp("^rgba?\\("+Wc+[fd,fd,fd].join(jp)+Up+"\\)$"),_N=new RegExp("^rgb\\("+Wc+[fd,fd,fd].join(iI)+Wc+"\\)$"),IN=new RegExp("^rgba\\("+Wc+[fd,fd,fd,Cu].join(iI)+Wc+"\\)$"),AN=new RegExp("^hsla?\\("+Wc+[By,Py,Py].join(jp)+Up+"\\)$"),MN=new RegExp("^hsl?\\("+Wc+[By,Py,Py].join(iI)+Wc+"\\)$"),EN=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,SN=new RegExp("^lab\\("+Wc+[Cu,Cu,Cu].join(jp)+Up+"\\)$"),TN=new RegExp("^lch\\("+Wc+[Cu,Cu,By].join(jp)+Up+"\\)$"),zN=new RegExp("^oklab\\("+Wc+[Cu,Cu,Cu].join(jp)+Up+"\\)$"),RN=new RegExp("^oklch\\("+Wc+[Cu,Cu,By].join(jp)+Up+"\\)$"),{round:LN}=Math,Zp=n=>n.map((t,e)=>e<=2?x0(LN(t),0,255):t),Go=(n,t=0,e=100,r=!1)=>("string"==typeof n&&n.endsWith("%")&&(n=parseFloat(n.substring(0,n.length-1))/100,n=r?t+.5*(n+1)*(e-t):t+n*(e-t)),+n),bl=(n,t)=>"none"===n?t:n,HN=n=>{if("transparent"===(n=n.toLowerCase().trim()))return[0,0,0,0];let t;if(Hr.format.named)try{return Hr.format.named(n)}catch{}if((t=n.match(xN))||(t=n.match(_N))){let e=t.slice(1,4);for(let i=0;i<3;i++)e[i]=+Go(bl(e[i],0),0,255);e=Zp(e);const r=void 0!==t[4]?+Go(t[4],0,1):1;return e[3]=r,e}if(t=n.match(IN)){const e=t.slice(1,5);for(let r=0;r<4;r++)e[r]=+Go(e[r],0,255);return e}if((t=n.match(AN))||(t=n.match(MN))){const e=t.slice(1,4);e[0]=+bl(e[0].replace("deg",""),0),e[1]=.01*+Go(bl(e[1],0),0,100),e[2]=.01*+Go(bl(e[2],0),0,100);const r=Zp(K_(e)),i=void 0!==t[4]?+Go(t[4],0,1):1;return r[3]=i,r}if(t=n.match(EN)){const e=t.slice(1,4);e[1]*=.01,e[2]*=.01;const r=K_(e);for(let i=0;i<3;i++)r[i]=LN(r[i]);return r[3]=+t[4],r}if(t=n.match(SN)){const e=t.slice(1,4);e[0]=Go(bl(e[0],0),0,100),e[1]=Go(bl(e[1],0),-125,125,!0),e[2]=Go(bl(e[2],0),-125,125,!0);const r=Qv();dd("d50");const i=Zp(W_(e));dd(r);const s=void 0!==t[4]?+Go(t[4],0,1):1;return i[3]=s,i}if(t=n.match(TN)){const e=t.slice(1,4);e[0]=Go(e[0],0,100),e[1]=Go(bl(e[1],0),0,150,!1),e[2]=+bl(e[2].replace("deg",""),0);const r=Qv();dd("d50");const i=Zp($_(e));dd(r);const s=void 0!==t[4]?+Go(t[4],0,1):1;return i[3]=s,i}if(t=n.match(zN)){const e=t.slice(1,4);e[0]=Go(bl(e[0],0),0,1),e[1]=Go(bl(e[1],0),-.4,.4,!0),e[2]=Go(bl(e[2],0),-.4,.4,!0);const r=Zp(q_(e)),i=void 0!==t[4]?+Go(t[4],0,1):1;return r[3]=i,r}if(t=n.match(RN)){const e=t.slice(1,4);e[0]=Go(bl(e[0],0),0,1),e[1]=Go(bl(e[1],0),0,.4,!1),e[2]=+bl(e[2].replace("deg",""),0);const r=Zp(bN(e)),i=void 0!==t[4]?+Go(t[4],0,1):1;return r[3]=i,r}};HN.test=n=>xN.test(n)||AN.test(n)||SN.test(n)||TN.test(n)||zN.test(n)||RN.test(n)||_N.test(n)||IN.test(n)||MN.test(n)||EN.test(n)||"transparent"===n;const DN=HN;sn.prototype.css=function(n){return((...n)=>{const t=Nr(n,"rgba");let e=Fp(n)||"rgb";if("hsl"===e.substr(0,3))return((...n)=>{const t=Nr(n,"hsla");let e=Fp(n)||"lsa";return t[0]=Gc(t[0]||0)+"deg",t[1]=Gc(100*t[1])+"%",t[2]=Gc(100*t[2])+"%","hsla"===e||t.length>3&&t[3]<1?(t[3]="/ "+(t.length>3?t[3]:1),e="hsla"):t.length=3,`${e.substr(0,3)}(${t.join(" ")})`})(nN(t),e);if("lab"===e.substr(0,3)){const r=Qv();dd("d50");const i=((...n)=>{const t=Nr(n,"lab");let e=Fp(n)||"lab";return t[0]=Gc(t[0])+"%",t[1]=Gc(t[1]),t[2]=Gc(t[2]),"laba"===e||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lab(${t.join(" ")})`})(U_(t),e);return dd(r),i}if("lch"===e.substr(0,3)){const r=Qv();dd("d50");const i=((...n)=>{const t=Nr(n,"lch");let e=Fp(n)||"lab";return t[0]=Gc(t[0])+"%",t[1]=Gc(t[1]),t[2]=isNaN(t[2])?"none":Gc(t[2])+"deg","lcha"===e||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lch(${t.join(" ")})`})(X_(t),e);return dd(r),i}return"oklab"===e.substr(0,5)?((...n)=>{const t=Nr(n,"lab");return t[0]=Gc(100*t[0])+"%",t[1]=N_(t[1]),t[2]=N_(t[2]),t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklab(${t.join(" ")})`})(J_(t)):"oklch"===e.substr(0,5)?((...n)=>{const t=Nr(n,"lch");return t[0]=Gc(100*t[0])+"%",t[1]=N_(t[1]),t[2]=isNaN(t[2])?"none":Gc(t[2])+"deg",t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklch(${t.join(" ")})`})(CN(t)):(t[0]=rI(t[0]),t[1]=rI(t[1]),t[2]=rI(t[2]),("rgba"===e||t.length>3&&t[3]<1)&&(t[3]="/ "+(t.length>3?t[3]:1),e="rgba"),`${e.substr(0,3)}(${t.slice(0,"rgb"===e?3:4).join(" ")})`)})(this._rgb,n)},Hi.css=(...n)=>new sn(...n,"css"),Hr.format.css=DN,Hr.autodetect.push({p:5,test:(n,...t)=>{if(!t.length&&"string"===ni(n)&&DN.test(n))return"css"}}),Hr.format.gl=(...n)=>{const t=Nr(n,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t},Hi.gl=(...n)=>new sn(...n,"gl"),sn.prototype.gl=function(){const n=this._rgb;return[n[0]/255,n[1]/255,n[2]/255,n[3]]},sn.prototype.hex=function(n){return KB(this._rgb,n)},Hi.hex=(...n)=>new sn(...n,"hex"),Hr.format.hex=YB,Hr.autodetect.push({p:4,test:(n,...t)=>{if(!t.length&&"string"===ni(n)&&[3,4,5,6,7,8,9].indexOf(n.length)>=0)return"hex"}});const{log:Ny}=Math,VN=n=>{const t=n/100;let e,r,i;return t<66?(e=255,r=t<6?0:-155.25485562709179-.44596950469579133*(r=t-2)+104.49216199393888*Ny(r),i=t<20?0:.8274096064007395*(i=t-10)-254.76935184120902+115.67994401066147*Ny(i)):(e=351.97690566805693+.114206453784165*(e=t-55)-40.25366309332127*Ny(e),r=325.4494125711974+.07943456536662342*(r=t-50)-28.0852963507957*Ny(r),i=255),[e,r,i,1]},{round:n0e}=Math;sn.prototype.temp=sn.prototype.kelvin=sn.prototype.temperature=function(){return(()=>{const t=Nr([this._rgb],"rgb"),e=t[0],r=t[2];let a,i=1e3,s=4e4;for(;s-i>.4;){a=.5*(s+i);const l=VN(a);l[2]/l[0]>=r/e?s=a:i=a}return n0e(a)})()};const sI=(...n)=>new sn(...n,"temp");Object.assign(Hi,{temp:sI,kelvin:sI,temperature:sI}),Hr.format.temp=Hr.format.kelvin=Hr.format.temperature=VN,sn.prototype.oklch=function(){return CN(this._rgb)},Object.assign(Hi,{oklch:(...n)=>new sn(...n,"oklch")}),Hr.format.oklch=bN,Hr.autodetect.push({p:2,test:(...n)=>{if("array"===ni(n=Nr(n,"oklch"))&&3===n.length)return"oklch"}}),Object.assign(Hi,{analyze:aN,average:(n,t="lrgb",e=null)=>{const r=n.length;e||(e=Array.from(new Array(r)).map(()=>1));const i=r/e.reduce(function(d,h){return d+h});if(e.forEach((d,h)=>{e[h]*=i}),n=n.map(d=>new sn(d)),"lrgb"===t)return((n,t)=>{const e=n.length,r=[0,0,0,0];for(let i=0;i<n.length;i++){const o=t[i]/e,a=n[i]._rgb;r[0]+=Q_(a[0],2)*o,r[1]+=Q_(a[1],2)*o,r[2]+=Q_(a[2],2)*o,r[3]+=a[3]*o}return r[0]=eI(r[0]),r[1]=eI(r[1]),r[2]=eI(r[2]),r[3]>.9999999&&(r[3]=1),new sn(B_(r))})(n,e);const s=n.shift(),o=s.get(t),a=[];let l=0,c=0;for(let d=0;d<o.length;d++)if(o[d]=(o[d]||0)*e[0],a.push(isNaN(o[d])?0:e[0]),"h"===t.charAt(d)&&!isNaN(o[d])){const h=o[d]/180*tI;l+=rN(h)*e[0],c+=iN(h)*e[0]}let u=s.alpha()*e[0];n.forEach((d,h)=>{const f=d.get(t);u+=d.alpha()*e[h+1];for(let g=0;g<o.length;g++)if(!isNaN(f[g]))if(a[g]+=e[h+1],"h"===t.charAt(g)){const w=f[g]/180*tI;l+=rN(w)*e[h+1],c+=iN(w)*e[h+1]}else o[g]+=f[g]*e[h+1]});for(let d=0;d<o.length;d++)if("h"===t.charAt(d)){let h=s2e(c/a[d],l/a[d])/tI*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;o[d]=h}else o[d]=o[d]/a[d];return u/=r,new sn(o,t).alpha(u>.99999?1:u,!0)},bezier:n=>{const t=function(n){let t,e,r,i;if(2===(n=n.map(s=>new sn(s))).length)[e,r]=n.map(s=>s.lab()),t=function(s){const o=[0,1,2].map(a=>e[a]+s*(r[a]-e[a]));return new sn(o,"lab")};else if(3===n.length)[e,r,i]=n.map(s=>s.lab()),t=function(s){const o=[0,1,2].map(a=>(1-s)*(1-s)*e[a]+2*(1-s)*s*r[a]+s*s*i[a]);return new sn(o,"lab")};else if(4===n.length){let s;[e,r,i,s]=n.map(o=>o.lab()),t=function(o){const a=[0,1,2].map(l=>(1-o)*(1-o)*(1-o)*e[l]+3*(1-o)*(1-o)*o*r[l]+3*(1-o)*o*o*i[l]+o*o*o*s[l]);return new sn(a,"lab")}}else{if(!(n.length>=5))throw new RangeError("No point in running bezier with only one color.");{let s,o,a;s=n.map(l=>l.lab()),a=n.length-1,o=function(n){let t=[1,1];for(let e=1;e<n;e++){let r=[1];for(let i=1;i<=t.length;i++)r[i]=(t[i]||0)+t[i-1];t=r}return t}(a),t=function(l){const c=1-l,u=[0,1,2].map(d=>s.reduce((h,f,g)=>h+o[g]*c**(a-g)*l**g*f[d],0));return new sn(u,"lab")}}}return t}(n);return t.scale=()=>Vy(t),t},blend:b2e,brewer:j2e,Color:sn,colors:Pp,contrast:(n,t)=>{n=new sn(n),t=new sn(t);const e=n.luminance(),r=t.luminance();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},contrastAPCA:(n,t)=>{n=new sn(n),t=new sn(t),n.alpha()<1&&(n=Np(t,n,n.alpha(),"rgb"));const e=hN(...n.rgb()),r=hN(...t.rgb()),i=e>=ky?e:e+Math.pow(ky-e,1.414),s=r>=ky?r:r+Math.pow(ky-r,1.414),o=Math.pow(s,.56)-Math.pow(i,.57),a=Math.pow(s,.65)-Math.pow(i,.62),l=Math.abs(s-i)<5e-4?0:i<s?1.14*o:1.14*a;return 100*(Math.abs(l)<.1?0:l>0?l-.027:l+.027)},cubehelix:function A2e(n=300,t=-1.5,e=1,r=1,i=[0,1]){let o,s=0;"array"===ni(i)?o=i[1]-i[0]:(o=0,i=[i,i]);const a=function(l){const c=ud*((n+120)/360+t*l),u=x2e(i[0]+o*l,r),h=(0!==s?e[0]+l*s:e)*u*(1-u)/2,f=I2e(c),g=_2e(c);return Hi(B_([255*(u+h*(-.14861*f+1.78277*g)),255*(u+h*(-.29227*f-.90649*g)),255*(u+h*(1.97294*f)),1]))};return a.start=function(l){return null==l?n:(n=l,a)},a.rotations=function(l){return null==l?t:(t=l,a)},a.gamma=function(l){return null==l?r:(r=l,a)},a.hue=function(l){return null==l?e:("array"===ni(e=l)?(s=e[1]-e[0],0===s&&(e=e[1])):s=0,a)},a.lightness=function(l){return null==l?i:("array"===ni(l)?(i=l,o=l[1]-l[0]):(i=[l,l],o=0),a)},a.scale=()=>Hi.scale(a),a.hue(e),a},deltaE:function N2e(n,t,e=1,r=1,i=1){var s=function(Pn){return 360*Pn/(2*mN)},o=function(Pn){return 2*mN*Pn/360};n=new sn(n),t=new sn(t);const[a,l,c]=Array.from(n.lab()),[u,d,h]=Array.from(t.lab()),f=(a+u)/2,C=(hd(Oo(l,2)+Oo(c,2))+hd(Oo(d,2)+Oo(h,2)))/2,I=.5*(1-hd(Oo(C,7)/(Oo(C,7)+Oo(25,7)))),L=l*(1+I),ie=d*(1+I),ne=hd(Oo(L,2)+Oo(c,2)),se=hd(Oo(ie,2)+Oo(h,2)),$=(ne+se)/2,Y=s(fN(c,L)),ve=s(fN(h,ie)),Re=Y>=0?Y:Y+360,Fe=ve>=0?ve:ve+360,Ze=pN(Re-Fe)>180?(Re+Fe+360)/2:(Re+Fe)/2,De=1-.17*Fy(o(Ze-30))+.24*Fy(o(2*Ze))+.32*Fy(o(3*Ze+6))-.2*Fy(o(4*Ze-63));let st=Fe-Re;st=pN(st)<=180?st:Fe<=Re?st+360:st-360,st=2*hd(ne*se)*gN(o(st)/2);const ht=u-a,ot=se-ne,nt=1+.015*Oo(f-50,2)/hd(20+Oo(f-50,2)),It=1+.045*$,Dt=1+.015*$*De,bn=30*B2e(-Oo((Ze-275)/25,2)),Lt=-2*hd(Oo($,7)/(Oo($,7)+Oo(25,7)))*gN(2*o(bn)),Ht=hd(Oo(ht/(e*nt),2)+Oo(ot/(r*It),2)+Oo(st/(i*Dt),2)+Lt*(ot/(r*It))*(st/(i*Dt)));return P2e(0,F2e(100,Ht))},distance:function O2e(n,t,e="lab"){n=new sn(n),t=new sn(t);const r=n.get(e),i=t.get(e);let s=0;for(let o in r){const a=(r[o]||0)-(i[o]||0);s+=a*a}return Math.sqrt(s)},input:Hr,interpolate:Np,limits:lN,mix:Np,random:()=>{let n="#";for(let t=0;t<6;t++)n+="0123456789abcdef".charAt(E2e(16*S2e()));return new sn(n,"hex")},scale:Vy,scales:W2e,valid:(...n)=>{try{return new sn(...n),!0}catch{return!1}}}),new Wt("proxyPath");var n,oI=Object.defineProperty,l0e=Object.getOwnPropertyDescriptor,c0e=Object.getOwnPropertyNames,u0e=Object.prototype.hasOwnProperty,kN={};((n,t)=>{for(var e in t)oI(n,e,{get:t[e],enumerable:!0})})(kN,{XmlCdata:()=>ON,XmlComment:()=>GN,XmlDeclaration:()=>WN,XmlDocument:()=>jN,XmlDocumentType:()=>UN,XmlElement:()=>Oy,XmlError:()=>ZN,XmlNode:()=>Gi,XmlProcessingInstruction:()=>cI,XmlText:()=>lI,parseXml:()=>I0e}),n=kN,((n,t,e,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of c0e(t))!u0e.call(n,i)&&undefined!==i&&oI(n,i,{get:()=>t[i],enumerable:!(r=l0e(t,i))||r.enumerable})})(oI({},"__esModule",{value:!0}),n);var p0e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g0e=class{constructor(n){if(this.k=this.q(n,!0),this.d=0,this.length=n.length,this.n=this.k!==this.length,this.m=n,this.n){let t=[];for(let e=0,r=0;r<this.k;++r)t[r]=e,e+=n.codePointAt(e)>65535?2:1;this.y=t}}get z(){return this.d>=this.k}q(n,t=this.n){return t?n.replace(p0e,"_").length:n.length}g(n=1){this.d=Math.min(this.k,this.d+n)}i(n=this.d){var t;return this.n?null!=(t=this.y[n])?t:1/0:n}F(n=1){let t=this.h(n);return this.g(n),t}G(n){if(!n.sticky)throw new Error('`regex` must have a sticky flag ("y")');n.lastIndex=this.i();let t=n.exec(this.m);if(null===t||0===t.length)return"";let e=t[0];return this.g(this.q(e)),e}v(n){let t,e="";for(;(t=this.h())&&n(t);)e+=t,this.g();return e}Q(n){if(this.b(n))return n;if(this.n){let{length:t}=n,e=this.q(n);if(e!==t&&n===this.h(e))return this.g(e),n}return""}b(n){let{length:t}=n;return this.h(t)===n?(this.g(t),n):""}A(n){let t=this.m.slice(this.i()),e=t.search(n);if(e<=0)return"";let r=t.slice(0,e);return this.g(this.q(r)),r}t(n){let{m:t}=this,e=this.i(),r=t.indexOf(n,e);if(r<=0)return"";let i=t.slice(e,r);return this.g(this.q(i)),i}h(n=1){let{d:t,n:e,m:r}=this;return e?t>=this.k?"":r.slice(this.i(t),this.i(t+n)):r.slice(t,t+n)}o(n=0){this.d=n>=0?Math.min(this.k,n):Math.max(0,this.d+n)}},m0e=/[^"&<]+/y,v0e=/[^'&<]+/y,w0e=/\r\n|[\n\r\t]/g,y0e=/<|&|]]>/,C0e=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function FN(n){let t=aI(n);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256||PN(n,t)}function PN(n,t=aI(n)){return t>=97&&t<=122||t>=65&&t<=90||58===t||95===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function b0e(n){return"#"===n||FN(n)}function x0e(n){let t=aI(n);return 32===t||9===t||10===t||13===t}function BN(n){return 9===n||10===n||13===n||n>=32&&n<=55295||n>=57344&&n<=65533||n>=65536&&n<=1114111}function aI(n){return n.codePointAt(0)||-1}var NN=class{constructor(){this.parent=null,this.start=-1,this.end=-1}get document(){var n,t;return null!=(t=null==(n=this.parent)?void 0:n.document)?t:null}get isRootNode(){return null!==this.parent&&this.parent===this.document&&this.type===NN.TYPE_ELEMENT}get preserveWhitespace(){var n;return!(null==(n=this.parent)||!n.preserveWhitespace)}get type(){return""}toJSON(){let n={type:this.type};return this.isRootNode&&(n.isRootNode=!0),this.preserveWhitespace&&(n.preserveWhitespace=!0),-1!==this.start&&(n.start=this.start,n.end=this.end),n}},Gi=NN;Gi.TYPE_CDATA="cdata",Gi.TYPE_COMMENT="comment",Gi.TYPE_DOCUMENT="document",Gi.TYPE_DOCUMENT_TYPE="doctype",Gi.TYPE_ELEMENT="element",Gi.TYPE_PROCESSING_INSTRUCTION="pi",Gi.TYPE_TEXT="text",Gi.TYPE_XML_DECLARATION="xmldecl";var lI=class extends Gi{constructor(n=""){super(),this.text=n}get type(){return Gi.TYPE_TEXT}toJSON(){return Object.assign(Gi.prototype.toJSON.call(this),{text:this.text})}},ON=class extends lI{get type(){return Gi.TYPE_CDATA}},GN=class extends Gi{constructor(n=""){super(),this.content=n}get type(){return Gi.TYPE_COMMENT}toJSON(){return Object.assign(Gi.prototype.toJSON.call(this),{content:this.content})}},WN=class extends Gi{constructor(n,t,e){super(),this.version=n,this.encoding=t??null,this.standalone=e??null}get type(){return Gi.TYPE_XML_DECLARATION}toJSON(){let n=Gi.prototype.toJSON.call(this);n.version=this.version;for(let t of["encoding","standalone"])null!==this[t]&&(n[t]=this[t]);return n}},Oy=class extends Gi{constructor(n,t=Object.create(null),e=[]){super(),this.name=n,this.attributes=t,this.children=e}get isEmpty(){return 0===this.children.length}get preserveWhitespace(){let n=this;for(;n instanceof Oy;){if("xml:space"in n.attributes)return"preserve"===n.attributes["xml:space"];n=n.parent}return!1}get text(){return this.children.map(n=>"text"in n?n.text:"").join("")}get type(){return Gi.TYPE_ELEMENT}toJSON(){return Object.assign(Gi.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(n=>n.toJSON())})}},jN=class extends Gi{constructor(n=[]){super(),this.children=n}get document(){return this}get root(){for(let n of this.children)if(n instanceof Oy)return n;return null}get text(){return this.children.map(n=>"text"in n?n.text:"").join("")}get type(){return Gi.TYPE_DOCUMENT}toJSON(){return Object.assign(Gi.prototype.toJSON.call(this),{children:this.children.map(n=>n.toJSON())})}},UN=class extends Gi{constructor(n,t,e,r){super(),this.name=n,this.publicId=t??null,this.systemId=e??null,this.internalSubset=r??null}get type(){return Gi.TYPE_DOCUMENT_TYPE}toJSON(){let n=Gi.prototype.toJSON.call(this);n.name=this.name;for(let t of["publicId","systemId","internalSubset"])null!==this[t]&&(n[t]=this[t]);return n}},ZN=class extends Error{constructor(n,t,e){let r=1,i="",s=1;for(let l=0;l<t;++l){let c=e[l];"\n"===c?(r=1,i="",s+=1):(r+=1,i+=c)}let o=e.indexOf("\n",t);i+=-1===o?e.slice(t):e.slice(t,o);let a=0;i.length>50&&(r<40?i=i.slice(0,50):(a=r-20,i=i.slice(a,r+30))),super(`${n} (line ${s}, column ${r})\n  ${i}\n`+" ".repeat(r-a+1)+"^\n"),this.column=r,this.excerpt=i,this.line=s,this.name="XmlError",this.pos=t}},cI=class extends Gi{constructor(n,t=""){super(),this.name=n,this.content=t}get type(){return Gi.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(Gi.prototype.toJSON.call(this),{name:this.name,content:this.content})}},_0e=class{constructor(n,t={}){let e=this.document=new jN,r=this.c=new g0e(n);if(this.l=e,this.f=t,this.f.includeOffsets&&(e.start=0,e.end=n.length),r.b("\ufeff"),this.H(),!this.B())throw this.a("Root element is missing or invalid");for(;this.w(););if(!r.z)throw this.a("Extra content at the end of the document")}j(n,t){return n.parent=this.l,this.f.includeOffsets&&(n.start=this.c.i(t),n.end=this.c.i()),this.l.children.push(n),!0}x(n,t){let{children:e}=this.l,{length:r}=e;if(n=Gy(n),r>0){let i=e[r-1];if(i?.type===Gi.TYPE_TEXT){let s=i;return s.text+=n,this.f.includeOffsets&&(s.end=this.c.i()),!0}}return this.j(new lI(n),t)}I(){let n=Object.create(null);for(;this.e();){let t=this.r();if(!t)break;let e=this.u()&&this.J();if(!1===e)throw this.a("Attribute value expected");if(t in n)throw this.a(`Duplicate attribute: ${t}`);if("xml:space"===t&&"default"!==e&&"preserve"!==e)throw this.a('Value of the `xml:space` attribute must be "default" or "preserve"');n[t]=e}if(this.f.sortAttributes){let t=Object.keys(n).sort(),e=Object.create(null);for(let r=0;r<t.length;++r){let i=t[r];e[i]=n[i]}n=e}return n}J(){let{c:n}=this,t=n.h();if('"'!==t&&"'"!==t)return!1;n.g();let e,r=!1,i="",s='"'===t?m0e:v0e;e:for(;!n.z;)switch(e=n.G(s),e&&(this.p(e),i+=e.replace(w0e," ")),n.h()){case t:r=!0;break e;case"&":i+=this.C();continue;case"<":throw this.a("Unescaped `<` is not allowed in an attribute value");case"":break e}if(!r)throw this.a("Unclosed attribute");return n.g(),i}K(){let{c:n}=this,t=n.d;if(!n.b("<![CDATA["))return!1;let e=n.t("]]>");if(this.p(e),!n.b("]]>"))throw this.a("Unclosed CDATA section");return this.f.preserveCdata?this.j(new ON(Gy(e)),t):this.x(e,t)}L(){let{c:n}=this,t=n.d,e=n.A(y0e);if(!e)return!1;if(this.p(e),"]]>"===n.h(3))throw this.a("Element content may not contain the CDATA section close delimiter `]]>`");return this.x(e,t)}D(){let{c:n}=this,t=n.d;if(!n.b("\x3c!--"))return!1;let e=n.t("--");if(this.p(e),!n.b("--\x3e"))throw"--"===n.h(2)?this.a("The string `--` isn't allowed inside a comment"):this.a("Unclosed comment");return!this.f.preserveComments||this.j(new GN(Gy(e)),t)}M(){let n=this.c.d,t=this.C();return!!t&&this.x(t,n)}N(){let{c:n}=this,t=n.d;if(!n.b("<!DOCTYPE"))return!1;let r,i,s,e=this.e()&&this.r();if(!e)throw this.a("Expected a name");if(this.e()){if(n.b("PUBLIC")){if(r=this.e()&&this.O(),!1===r)throw this.a("Expected a public identifier");this.e()}if(void 0!==r||n.b("SYSTEM")){if(this.e(),i=this.s(),!1===i)throw this.a("Expected a system identifier");this.e()}}if(n.b("[")){if(s=n.A(/\][\x20\t\r\n]*>/),!n.b("]"))throw this.a("Unclosed internal subset");this.e()}if(!n.b(">"))throw this.a("Unclosed doctype declaration");return!this.f.preserveDocumentType||this.j(new UN(e,r,i,s),t)}B(){let{c:n}=this,t=n.d;if(!n.b("<"))return!1;let e=this.r();if(!e)return n.o(t),!1;let r=this.I(),i=!!n.b("/>"),s=new Oy(e,r);if(s.parent=this.l,!i){if(!n.b(">"))throw this.a(`Unclosed start tag for element \`${e}\``);this.l=s;do{this.L()}while(this.B()||this.M()||this.K()||this.E()||this.D());let a,o=n.d;if(!n.b("</")||!(a=this.r())||a!==e)throw n.o(o),this.a(`Missing end tag for element ${e}`);if(this.e(),!n.b(">"))throw this.a(`Unclosed end tag for element ${e}`);this.l=s.parent}return this.j(s,t)}u(){return this.e(),!!this.c.b("=")&&(this.e(),!0)}w(){return this.D()||this.E()||this.e()}r(){return PN(this.c.h())?this.c.v(FN):""}E(){let{c:n}=this,t=n.d;if(!n.b("<?"))return!1;let e=this.r();if(!e)throw this.a("Invalid processing instruction");if("xml"===e.toLowerCase())throw n.o(t),this.a("XML declaration isn't allowed here");if(!this.e()){if(n.b("?>"))return this.j(new cI(e),t);throw this.a("Whitespace is required after a processing instruction name")}let r=n.t("?>");if(this.p(r),!n.b("?>"))throw this.a("Unterminated processing instruction");return this.j(new cI(e,Gy(r)),t)}H(){let{c:n}=this,t=n.d;for(this.P();this.w(););if(this.N())for(;this.w(););return t<n.d}O(){let n=this.c.d,t=this.s();if(!1!==t&&!/^[-\x20\r\na-zA-Z0-9'()+,./:=?;!*#@$_%]*$/.test(t))throw this.c.o(n),this.a("Invalid character in public identifier");return t}C(){let{c:n}=this;if(!n.b("&"))return!1;let e,t=n.v(b0e);if(";"!==n.F())throw this.a("Unterminated reference (a reference must end with `;`)");if("#"===t[0]){let r="x"===t[1]?parseInt(t.slice(2),16):parseInt(t.slice(1),10);if(isNaN(r))throw this.a("Invalid character reference");if(!BN(r))throw this.a("Character reference resolves to an invalid character");e=String.fromCodePoint(r)}else if(e=C0e[t],void 0===e){let{ignoreUndefinedEntities:r,resolveUndefinedEntity:i}=this.f,s=`&${t};`;if(i){let o=i(s);if(null!=o){let a=typeof o;if("string"!==a)throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${a}`);return o}}if(r)return s;throw n.o(-s.length),this.a(`Named entity isn't defined: ${s}`)}return e}s(){let{c:n}=this,t=n.b('"')||n.b("'");if(!t)return!1;let e=n.t(t);if(this.p(e),!n.b(t))throw this.a("Missing end quote");return e}e(){return!!this.c.v(x0e)}P(){let{c:n}=this,t=n.d;if(!n.b("<?xml"))return!1;if(!this.e())throw this.a("Invalid XML declaration");let r,i,e=!!n.b("version")&&this.u()&&this.s();if(!1===e)throw this.a("XML version is missing or invalid");if(!/^1\.[0-9]+$/.test(e))throw this.a("Invalid character in version number");if(this.e()&&(r=!!n.b("encoding")&&this.u()&&this.s(),r&&this.e(),i=!!n.b("standalone")&&this.u()&&this.s(),i)){if("yes"!==i&&"no"!==i)throw this.a('Only "yes" and "no" are permitted as values of `standalone`');this.e()}if(!n.b("?>"))throw this.a("Invalid or unclosed XML declaration");return!this.f.preserveXmlDeclaration||this.j(new WN(e,r||void 0,i||void 0),t)}a(n){let{c:t}=this;return new ZN(n,t.d,t.m)}p(n){let{length:t}=n;for(let e=0;e<t;++e){let r=n.codePointAt(e);if(!BN(r))throw this.c.o(-([...n].length-e)),this.a("Invalid character");r>65535&&(e+=1)}}};function Gy(n){let t=0;for(;-1!==(t=n.indexOf("\r",t));)n="\n"===n[t+1]?n.slice(0,t)+n.slice(t+1):n.slice(0,t)+"\n"+n.slice(t+1);return n}function I0e(n,t){return new _0e(n,t).document}Error,Error;typeof window<"u"&&window.Blob&&new Blob([atob("KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICAvKiEgQHJncm92ZS9wYXJzZS14bWwgdjQuMS4wIHwgSVNDIExpY2Vuc2UgfCBDb3B5cmlnaHQgUnlhbiBHcm92ZSAqLwogIHZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7CiAgdmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOwogIHZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzOwogIHZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5OwogIHZhciBfX2V4cG9ydCA9ICh0YXJnZXQsIGFsbCkgPT4gewogICAgZm9yICh2YXIgbmFtZSBpbiBhbGwpCiAgICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7CiAgfTsKICB2YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20sIGV4Y2VwdCwgZGVzYykgPT4gewogICAgaWYgKGZyb20gJiYgdHlwZW9mIGZyb20gPT09ICJvYmplY3QiIHx8IHR5cGVvZiBmcm9tID09PSAiZnVuY3Rpb24iKSB7CiAgICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhmcm9tKSkKICAgICAgICBpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KQogICAgICAgICAgX19kZWZQcm9wKHRvLCBrZXksIHsgZ2V0OiAoKSA9PiBmcm9tW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlIH0pOwogICAgfQogICAgcmV0dXJuIHRvOwogIH07CiAgdmFyIF9fdG9Db21tb25KUyA9IChtb2QpID0+IF9fY29weVByb3BzKF9fZGVmUHJvcCh7fSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pLCBtb2QpOwogIHZhciBzcmNfZXhwb3J0cyA9IHt9OwogIF9fZXhwb3J0KHNyY19leHBvcnRzLCB7CiAgICBYbWxDZGF0YTogKCkgPT4gWG1sQ2RhdGEsCiAgICBYbWxDb21tZW50OiAoKSA9PiBYbWxDb21tZW50LAogICAgWG1sRGVjbGFyYXRpb246ICgpID0+IFhtbERlY2xhcmF0aW9uLAogICAgWG1sRG9jdW1lbnQ6ICgpID0+IFhtbERvY3VtZW50LAogICAgWG1sRG9jdW1lbnRUeXBlOiAoKSA9PiBYbWxEb2N1bWVudFR5cGUsCiAgICBYbWxFbGVtZW50OiAoKSA9PiBYbWxFbGVtZW50LAogICAgWG1sRXJyb3I6ICgpID0+IFhtbEVycm9yLAogICAgWG1sTm9kZTogKCkgPT4gWG1sTm9kZSwKICAgIFhtbFByb2Nlc3NpbmdJbnN0cnVjdGlvbjogKCkgPT4gWG1sUHJvY2Vzc2luZ0luc3RydWN0aW9uLAogICAgWG1sVGV4dDogKCkgPT4gWG1sVGV4dCwKICAgIHBhcnNlWG1sOiAoKSA9PiBwYXJzZVhtbAogIH0pOwogIHZhciBicm93c2VyID0gX190b0NvbW1vbkpTKHNyY19leHBvcnRzKTsKICB2YXIgZW1wdHlTdHJpbmcgPSAiIjsKICB2YXIgc3Vycm9nYXRlUGFpciA9IC9bXHVEODAwLVx1REJGRl1bXHVEQzAwLVx1REZGRl0vZzsKICB2YXIgU3RyaW5nU2Nhbm5lciA9IGNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKHN0cmluZykgewogICAgICB0aGlzLmsgPSB0aGlzLnEoc3RyaW5nLCB0cnVlKTsKICAgICAgdGhpcy5kID0gMDsKICAgICAgdGhpcy5sZW5ndGggPSBzdHJpbmcubGVuZ3RoOwogICAgICB0aGlzLm4gPSB0aGlzLmsgIT09IHRoaXMubGVuZ3RoOwogICAgICB0aGlzLm0gPSBzdHJpbmc7CiAgICAgIGlmICh0aGlzLm4pIHsKICAgICAgICBsZXQgY2hhcnNUb0J5dGVzID0gW107CiAgICAgICAgZm9yIChsZXQgYnl0ZUluZGV4ID0gMCwgY2hhckluZGV4ID0gMDsgY2hhckluZGV4IDwgdGhpcy5rOyArK2NoYXJJbmRleCkgewogICAgICAgICAgY2hhcnNUb0J5dGVzW2NoYXJJbmRleF0gPSBieXRlSW5kZXg7CiAgICAgICAgICBieXRlSW5kZXggKz0gc3RyaW5nLmNvZGVQb2ludEF0KGJ5dGVJbmRleCkgPiA2NTUzNSA/IDIgOiAxOwogICAgICAgIH0KICAgICAgICB0aGlzLnkgPSBjaGFyc1RvQnl0ZXM7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogV2hldGhlciB0aGUgY3VycmVudCBjaGFyYWN0ZXIgaW5kZXggaXMgYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgc3RyaW5nLgogICAgICovCiAgICBnZXQgeigpIHsKICAgICAgcmV0dXJuIHRoaXMuZCA+PSB0aGlzLms7CiAgICB9CiAgICAvLyAtLSBQcm90ZWN0ZWQgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgaW4gdGhlIGdpdmVuIHN0cmluZywgd2hpY2ggbWF5IGRpZmZlciBmcm9tCiAgICAgKiB0aGUgYnl0ZSBsZW5ndGggaWYgdGhlIHN0cmluZyBjb250YWlucyBtdWx0aWJ5dGUgY2hhcmFjdGVycy4KICAgICAqLwogICAgcShzdHJpbmcsIG11bHRpQnl0ZVNhZmUgPSB0aGlzLm4pIHsKICAgICAgcmV0dXJuIG11bHRpQnl0ZVNhZmUgPyBzdHJpbmcucmVwbGFjZShzdXJyb2dhdGVQYWlyLCAiXyIpLmxlbmd0aCA6IHN0cmluZy5sZW5ndGg7CiAgICB9CiAgICAvLyAtLSBQdWJsaWMgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8qKgogICAgICogQWR2YW5jZXMgdGhlIHNjYW5uZXIgYnkgdGhlIGdpdmVuIG51bWJlciBvZiBjaGFyYWN0ZXJzLCBzdG9wcGluZyBpZiB0aGUgZW5kCiAgICAgKiBvZiB0aGUgc3RyaW5nIGlzIHJlYWNoZWQuCiAgICAgKi8KICAgIGcoY291bnQgPSAxKSB7CiAgICAgIHRoaXMuZCA9IE1hdGgubWluKHRoaXMuaywgdGhpcy5kICsgY291bnQpOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBieXRlIGluZGV4IG9mIHRoZSBnaXZlbiBjaGFyYWN0ZXIgaW5kZXggaW4gdGhlIHN0cmluZy4gVGhlIHR3bwogICAgICogbWF5IGRpZmZlciBpbiBzdHJpbmdzIHRoYXQgY29udGFpbiBtdWx0aWJ5dGUgY2hhcmFjdGVycy4KICAgICAqLwogICAgaShjaGFySW5kZXggPSB0aGlzLmQpIHsKICAgICAgdmFyIF9hOwogICAgICByZXR1cm4gdGhpcy5uID8gKF9hID0gdGhpcy55W2NoYXJJbmRleF0pICE9IG51bGwgPyBfYSA6IEluZmluaXR5IDogY2hhckluZGV4OwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhbmQgcmV0dXJucyB0aGUgZ2l2ZW4gbnVtYmVyIG9mIGNoYXJhY3RlcnMgaWYgcG9zc2libGUsIGFkdmFuY2luZwogICAgICogdGhlIHNjYW5uZXIgYW5kIHN0b3BwaW5nIGlmIHRoZSBlbmQgb2YgdGhlIHN0cmluZyBpcyByZWFjaGVkLgogICAgICoKICAgICAqIElmIG5vIGNoYXJhY3RlcnMgY291bGQgYmUgY29uc3VtZWQsIGFuIGVtcHR5IHN0cmluZyB3aWxsIGJlIHJldHVybmVkLgogICAgICovCiAgICBGKGNvdW50ID0gMSkgewogICAgICBsZXQgY2hhcnMgPSB0aGlzLmgoY291bnQpOwogICAgICB0aGlzLmcoY291bnQpOwogICAgICByZXR1cm4gY2hhcnM7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgbWF0Y2ggZm9yIHRoZSBnaXZlbiBzdGlja3kgcmVnZXgsIGFkdmFuY2VzIHRoZSBzY2FubmVyLCB1cGRhdGVzCiAgICAgKiB0aGUgYGxhc3RJbmRleGAgcHJvcGVydHkgb2YgdGhlIHJlZ2V4LCBhbmQgcmV0dXJucyB0aGUgbWF0Y2hpbmcgc3RyaW5nLgogICAgICoKICAgICAqIFRoZSByZWdleCBtdXN0IGhhdmUgYSBzdGlja3kgZmxhZyAoInkiKSBzbyB0aGF0IGl0cyBgbGFzdEluZGV4YCBwcm9wIGNhbiBiZQogICAgICogdXNlZCB0byBhbmNob3IgdGhlIG1hdGNoIGF0IHRoZSBjdXJyZW50IHNjYW5uZXIgcG9zaXRpb24uCiAgICAgKgogICAgICogUmV0dXJucyB0aGUgY29uc3VtZWQgc3RyaW5nLCBvciBhbiBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgY29uc3VtZWQuCiAgICAgKi8KICAgIEcocmVnZXgpIHsKICAgICAgaWYgKCFyZWdleC5zdGlja3kpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ByZWdleGAgbXVzdCBoYXZlIGEgc3RpY2t5IGZsYWcgKCJ5IiknKTsKICAgICAgfQogICAgICByZWdleC5sYXN0SW5kZXggPSB0aGlzLmkoKTsKICAgICAgbGV0IHJlc3VsdCA9IHJlZ2V4LmV4ZWModGhpcy5tKTsKICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIGVtcHR5U3RyaW5nOwogICAgICB9CiAgICAgIGxldCBtYXRjaCA9IHJlc3VsdFswXTsKICAgICAgdGhpcy5nKHRoaXMucShtYXRjaCkpOwogICAgICByZXR1cm4gbWF0Y2g7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGFuZCByZXR1cm5zIGFsbCBjaGFyYWN0ZXJzIGZvciB3aGljaCB0aGUgZ2l2ZW4gZnVuY3Rpb24gcmV0dXJucyBhCiAgICAgKiB0cnV0aHkgdmFsdWUsIHN0b3BwaW5nIG9uIHRoZSBmaXJzdCBmYWxzeSByZXR1cm4gdmFsdWUgb3IgaWYgdGhlIGVuZCBvZiB0aGUKICAgICAqIGlucHV0IGlzIHJlYWNoZWQuCiAgICAgKi8KICAgIHYoZm4pIHsKICAgICAgbGV0IGNoYXI7CiAgICAgIGxldCBtYXRjaCA9IGVtcHR5U3RyaW5nOwogICAgICB3aGlsZSAoKGNoYXIgPSB0aGlzLmgoKSkgJiYgZm4oY2hhcikpIHsKICAgICAgICBtYXRjaCArPSBjaGFyOwogICAgICAgIHRoaXMuZygpOwogICAgICB9CiAgICAgIHJldHVybiBtYXRjaDsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgdGhlIGdpdmVuIHN0cmluZyBpZiBpdCBleGlzdHMgYXQgdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGluZGV4LCBhbmQKICAgICAqIGFkdmFuY2VzIHRoZSBzY2FubmVyLgogICAgICoKICAgICAqIElmIHRoZSBnaXZlbiBzdHJpbmcgZG9lc24ndCBleGlzdCBhdCB0aGUgY3VycmVudCBjaGFyYWN0ZXIgaW5kZXgsIGFuIGVtcHR5CiAgICAgKiBzdHJpbmcgd2lsbCBiZSByZXR1cm5lZCBhbmQgdGhlIHNjYW5uZXIgd2lsbCBub3QgYmUgYWR2YW5jZWQuCiAgICAgKi8KICAgIFEoc3RyaW5nVG9Db25zdW1lKSB7CiAgICAgIGlmICh0aGlzLmIoc3RyaW5nVG9Db25zdW1lKSkgewogICAgICAgIHJldHVybiBzdHJpbmdUb0NvbnN1bWU7CiAgICAgIH0KICAgICAgaWYgKHRoaXMubikgewogICAgICAgIGxldCB7IGxlbmd0aCB9ID0gc3RyaW5nVG9Db25zdW1lOwogICAgICAgIGxldCBjaGFyTGVuZ3RoVG9NYXRjaCA9IHRoaXMucShzdHJpbmdUb0NvbnN1bWUpOwogICAgICAgIGlmIChjaGFyTGVuZ3RoVG9NYXRjaCAhPT0gbGVuZ3RoICYmIHN0cmluZ1RvQ29uc3VtZSA9PT0gdGhpcy5oKGNoYXJMZW5ndGhUb01hdGNoKSkgewogICAgICAgICAgdGhpcy5nKGNoYXJMZW5ndGhUb01hdGNoKTsKICAgICAgICAgIHJldHVybiBzdHJpbmdUb0NvbnN1bWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBlbXB0eVN0cmluZzsKICAgIH0KICAgIC8qKgogICAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBgY29uc3VtZVN0cmluZygpYCwgYnV0IGRvZXNuJ3Qgc3VwcG9ydCBjb25zdW1pbmcKICAgICAqIG11bHRpYnl0ZSBjaGFyYWN0ZXJzLiBUaGlzIGNhbiBiZSBmYXN0ZXIgaWYgeW91IG9ubHkgbmVlZCB0byBtYXRjaCBzaW5nbGUKICAgICAqIGJ5dGUgY2hhcmFjdGVycy4KICAgICAqLwogICAgYihzdHJpbmdUb0NvbnN1bWUpIHsKICAgICAgbGV0IHsgbGVuZ3RoIH0gPSBzdHJpbmdUb0NvbnN1bWU7CiAgICAgIGlmICh0aGlzLmgobGVuZ3RoKSA9PT0gc3RyaW5nVG9Db25zdW1lKSB7CiAgICAgICAgdGhpcy5nKGxlbmd0aCk7CiAgICAgICAgcmV0dXJuIHN0cmluZ1RvQ29uc3VtZTsKICAgICAgfQogICAgICByZXR1cm4gZW1wdHlTdHJpbmc7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGNoYXJhY3RlcnMgdW50aWwgdGhlIGdpdmVuIGdsb2JhbCByZWdleCBpcyBtYXRjaGVkLCBhZHZhbmNpbmcgdGhlCiAgICAgKiBzY2FubmVyIHVwIHRvIChidXQgbm90IGJleW9uZCkgdGhlIGJlZ2lubmluZyBvZiB0aGUgbWF0Y2guIElmIHRoZSByZWdleAogICAgICogZG9lc24ndCBtYXRjaCwgbm90aGluZyB3aWxsIGJlIGNvbnN1bWVkLgogICAgICoKICAgICAqIFJldHVybnMgdGhlIGNvbnN1bWVkIHN0cmluZywgb3IgYW4gZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIGNvbnN1bWVkLgogICAgICovCiAgICBBKHJlZ2V4KSB7CiAgICAgIGxldCByZXN0T2ZTdHJpbmcgPSB0aGlzLm0uc2xpY2UodGhpcy5pKCkpOwogICAgICBsZXQgbWF0Y2hCeXRlSW5kZXggPSByZXN0T2ZTdHJpbmcuc2VhcmNoKHJlZ2V4KTsKICAgICAgaWYgKG1hdGNoQnl0ZUluZGV4IDw9IDApIHsKICAgICAgICByZXR1cm4gZW1wdHlTdHJpbmc7CiAgICAgIH0KICAgICAgbGV0IHJlc3VsdCA9IHJlc3RPZlN0cmluZy5zbGljZSgwLCBtYXRjaEJ5dGVJbmRleCk7CiAgICAgIHRoaXMuZyh0aGlzLnEocmVzdWx0KSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGNoYXJhY3RlcnMgdW50aWwgdGhlIGdpdmVuIHN0cmluZyBpcyBmb3VuZCwgYWR2YW5jaW5nIHRoZSBzY2FubmVyCiAgICAgKiB1cCB0byAoYnV0IG5vdCBiZXlvbmQpIHRoYXQgcG9pbnQuIElmIHRoZSBzdHJpbmcgaXMgbmV2ZXIgZm91bmQsIG5vdGhpbmcKICAgICAqIHdpbGwgYmUgY29uc3VtZWQuCiAgICAgKgogICAgICogUmV0dXJucyB0aGUgY29uc3VtZWQgc3RyaW5nLCBvciBhbiBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgY29uc3VtZWQuCiAgICAgKi8KICAgIHQoc2VhcmNoU3RyaW5nKSB7CiAgICAgIGxldCB7IG06IHN0cmluZyB9ID0gdGhpczsKICAgICAgbGV0IGJ5dGVJbmRleCA9IHRoaXMuaSgpOwogICAgICBsZXQgbWF0Y2hCeXRlSW5kZXggPSBzdHJpbmcuaW5kZXhPZihzZWFyY2hTdHJpbmcsIGJ5dGVJbmRleCk7CiAgICAgIGlmIChtYXRjaEJ5dGVJbmRleCA8PSAwKSB7CiAgICAgICAgcmV0dXJuIGVtcHR5U3RyaW5nOwogICAgICB9CiAgICAgIGxldCByZXN1bHQgPSBzdHJpbmcuc2xpY2UoYnl0ZUluZGV4LCBtYXRjaEJ5dGVJbmRleCk7CiAgICAgIHRoaXMuZyh0aGlzLnEocmVzdWx0KSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGdpdmVuIG51bWJlciBvZiBjaGFyYWN0ZXJzIHN0YXJ0aW5nIGF0IHRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICogaW5kZXgsIHdpdGhvdXQgYWR2YW5jaW5nIHRoZSBzY2FubmVyIGFuZCB3aXRob3V0IGV4Y2VlZGluZyB0aGUgZW5kIG9mIHRoZQogICAgICogaW5wdXQgc3RyaW5nLgogICAgICovCiAgICBoKGNvdW50ID0gMSkgewogICAgICBsZXQgeyBkOiBjaGFySW5kZXgsIG46IG11bHRpQnl0ZU1vZGUsIG06IHN0cmluZyB9ID0gdGhpczsKICAgICAgaWYgKG11bHRpQnl0ZU1vZGUpIHsKICAgICAgICBpZiAoY2hhckluZGV4ID49IHRoaXMuaykgewogICAgICAgICAgcmV0dXJuIGVtcHR5U3RyaW5nOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKAogICAgICAgICAgdGhpcy5pKGNoYXJJbmRleCksCiAgICAgICAgICB0aGlzLmkoY2hhckluZGV4ICsgY291bnQpCiAgICAgICAgKTsKICAgICAgfQogICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKGNoYXJJbmRleCwgY2hhckluZGV4ICsgY291bnQpOwogICAgfQogICAgLyoqCiAgICAgKiBSZXNldHMgdGhlIHNjYW5uZXIgcG9zaXRpb24gdG8gdGhlIGdpdmVuIGNoYXJhY3RlciBfaW5kZXhfLCBvciB0byB0aGUgc3RhcnQKICAgICAqIG9mIHRoZSBpbnB1dCBzdHJpbmcgaWYgbm8gaW5kZXggaXMgZ2l2ZW4uCiAgICAgKgogICAgICogSWYgX2luZGV4XyBpcyBuZWdhdGl2ZSwgdGhlIHNjYW5uZXIgcG9zaXRpb24gd2lsbCBiZSBtb3ZlZCBiYWNrd2FyZCBieSB0aGF0CiAgICAgKiBtYW55IGNoYXJhY3RlcnMsIHN0b3BwaW5nIGlmIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHN0cmluZyBpcyByZWFjaGVkLgogICAgICovCiAgICBvKGluZGV4ID0gMCkgewogICAgICB0aGlzLmQgPSBpbmRleCA+PSAwID8gTWF0aC5taW4odGhpcy5rLCBpbmRleCkgOiBNYXRoLm1heCgwLCB0aGlzLmQgKyBpbmRleCk7CiAgICB9CiAgfTsKICB2YXIgYXR0VmFsdWVDaGFyRG91YmxlUXVvdGUgPSAvW14iJjxdKy95OwogIHZhciBhdHRWYWx1ZUNoYXJTaW5nbGVRdW90ZSA9IC9bXicmPF0rL3k7CiAgdmFyIGF0dFZhbHVlTm9ybWFsaXplZFdoaXRlc3BhY2UgPSAvXHJcbnxbXG5cclx0XS9nOwogIHZhciBlbmRDaGFyRGF0YSA9IC88fCZ8XV0+LzsKICB2YXIgcHJlZGVmaW5lZEVudGl0aWVzID0gT2JqZWN0LmZyZWV6ZShPYmplY3QuYXNzaWduKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCB7CiAgICBhbXA6ICImIiwKICAgIGFwb3M6ICInIiwKICAgIGd0OiAiPiIsCiAgICBsdDogIjwiLAogICAgcXVvdDogJyInCiAgfSkpOwogIGZ1bmN0aW9uIGlzTmFtZUNoYXIoY2hhcikgewogICAgbGV0IGNwID0gZ2V0Q29kZVBvaW50KGNoYXIpOwogICAgcmV0dXJuIGNwID49IDk3ICYmIGNwIDw9IDEyMiB8fCBjcCA+PSA2NSAmJiBjcCA8PSA5MCB8fCBjcCA+PSA0OCAmJiBjcCA8PSA1NyB8fCBjcCA9PT0gNDUgfHwgY3AgPT09IDQ2IHx8IGNwID09PSAxODMgfHwgY3AgPj0gNzY4ICYmIGNwIDw9IDg3OSB8fCBjcCA+PSA4MjU1ICYmIGNwIDw9IDgyNTYgfHwgaXNOYW1lU3RhcnRDaGFyKGNoYXIsIGNwKTsKICB9CiAgZnVuY3Rpb24gaXNOYW1lU3RhcnRDaGFyKGNoYXIsIGNwID0gZ2V0Q29kZVBvaW50KGNoYXIpKSB7CiAgICByZXR1cm4gY3AgPj0gOTcgJiYgY3AgPD0gMTIyIHx8IGNwID49IDY1ICYmIGNwIDw9IDkwIHx8IGNwID09PSA1OCB8fCBjcCA9PT0gOTUgfHwgY3AgPj0gMTkyICYmIGNwIDw9IDIxNCB8fCBjcCA+PSAyMTYgJiYgY3AgPD0gMjQ2IHx8IGNwID49IDI0OCAmJiBjcCA8PSA3NjcgfHwgY3AgPj0gODgwICYmIGNwIDw9IDg5MyB8fCBjcCA+PSA4OTUgJiYgY3AgPD0gODE5MSB8fCBjcCA+PSA4MjA0ICYmIGNwIDw9IDgyMDUgfHwgY3AgPj0gODMwNCAmJiBjcCA8PSA4NTkxIHx8IGNwID49IDExMjY0ICYmIGNwIDw9IDEyMjcxIHx8IGNwID49IDEyMjg5ICYmIGNwIDw9IDU1Mjk1IHx8IGNwID49IDYzNzQ0ICYmIGNwIDw9IDY0OTc1IHx8IGNwID49IDY1MDA4ICYmIGNwIDw9IDY1NTMzIHx8IGNwID49IDY1NTM2ICYmIGNwIDw9IDk4MzAzOTsKICB9CiAgZnVuY3Rpb24gaXNSZWZlcmVuY2VDaGFyKGNoYXIpIHsKICAgIHJldHVybiBjaGFyID09PSAiIyIgfHwgaXNOYW1lQ2hhcihjaGFyKTsKICB9CiAgZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKGNoYXIpIHsKICAgIGxldCBjcCA9IGdldENvZGVQb2ludChjaGFyKTsKICAgIHJldHVybiBjcCA9PT0gMzIgfHwgY3AgPT09IDkgfHwgY3AgPT09IDEwIHx8IGNwID09PSAxMzsKICB9CiAgZnVuY3Rpb24gaXNYbWxDb2RlUG9pbnQoY3ApIHsKICAgIHJldHVybiBjcCA9PT0gOSB8fCBjcCA9PT0gMTAgfHwgY3AgPT09IDEzIHx8IGNwID49IDMyICYmIGNwIDw9IDU1Mjk1IHx8IGNwID49IDU3MzQ0ICYmIGNwIDw9IDY1NTMzIHx8IGNwID49IDY1NTM2ICYmIGNwIDw9IDExMTQxMTE7CiAgfQogIGZ1bmN0aW9uIGdldENvZGVQb2ludChjaGFyKSB7CiAgICByZXR1cm4gY2hhci5jb2RlUG9pbnRBdCgwKSB8fCAtMTsKICB9CiAgdmFyIF9YbWxOb2RlID0gY2xhc3MgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHRoaXMucGFyZW50ID0gbnVsbDsKICAgICAgdGhpcy5zdGFydCA9IC0xOwogICAgICB0aGlzLmVuZCA9IC0xOwogICAgfQogICAgLyoqCiAgICAgKiBEb2N1bWVudCB0aGF0IGNvbnRhaW5zIHRoaXMgbm9kZSwgb3IgYG51bGxgIGlmIHRoaXMgbm9kZSBpcyBub3QgYXNzb2NpYXRlZAogICAgICogd2l0aCBhIGRvY3VtZW50LgogICAgICovCiAgICBnZXQgZG9jdW1lbnQoKSB7CiAgICAgIHZhciBfYSwgX2I7CiAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLnBhcmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRvY3VtZW50KSAhPSBudWxsID8gX2IgOiBudWxsOwogICAgfQogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRoaXMgbm9kZSBpcyB0aGUgcm9vdCBub2RlIG9mIHRoZSBkb2N1bWVudCAoYWxzbyBrbm93biBhcyB0aGUKICAgICAqIGRvY3VtZW50IGVsZW1lbnQpLgogICAgICovCiAgICBnZXQgaXNSb290Tm9kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMucGFyZW50ICE9PSBudWxsICYmIHRoaXMucGFyZW50ID09PSB0aGlzLmRvY3VtZW50ICYmIHRoaXMudHlwZSA9PT0gX1htbE5vZGUuVFlQRV9FTEVNRU5UOwogICAgfQogICAgLyoqCiAgICAgKiBXaGV0aGVyIHdoaXRlc3BhY2Ugc2hvdWxkIGJlIHByZXNlcnZlZCBpbiB0aGUgY29udGVudCBvZiB0aGlzIGVsZW1lbnQgYW5kCiAgICAgKiBpdHMgY2hpbGRyZW4uCiAgICAgKgogICAgICogVGhpcyBpcyBpbmZsdWVuY2VkIGJ5IHRoZSB2YWx1ZSBvZiB0aGUgc3BlY2lhbCBgeG1sOnNwYWNlYCBhdHRyaWJ1dGUsIGFuZAogICAgICogd2lsbCBiZSBgdHJ1ZWAgZm9yIGFueSBub2RlIHdob3NlIGB4bWw6c3BhY2VgIGF0dHJpYnV0ZSBpcyBzZXQgdG8KICAgICAqICJwcmVzZXJ2ZSIuIElmIGEgbm9kZSBoYXMgbm8gc3VjaCBhdHRyaWJ1dGUsIGl0IHdpbGwgaW5oZXJpdCB0aGUgdmFsdWUgb2YKICAgICAqIHRoZSBuZWFyZXN0IGFuY2VzdG9yIHRoYXQgZG9lcyAoaWYgYW55KS4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy13aGl0ZS1zcGFjZQogICAgICovCiAgICBnZXQgcHJlc2VydmVXaGl0ZXNwYWNlKCkgewogICAgICB2YXIgX2E7CiAgICAgIHJldHVybiAhISgoX2EgPSB0aGlzLnBhcmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnByZXNlcnZlV2hpdGVzcGFjZSk7CiAgICB9CiAgICAvKioKICAgICAqIFR5cGUgb2YgdGhpcyBub2RlLgogICAgICoKICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IGlzIGEgc3RyaW5nIHRoYXQgbWF0Y2hlcyBvbmUgb2YgdGhlIHN0YXRpYwogICAgICogYFRZUEVfKmAgcHJvcGVydGllcyBvbiB0aGUgYFhtbE5vZGVgIGNsYXNzIChlLmcuIGBUWVBFX0VMRU1FTlRgLAogICAgICogYFRZUEVfVEVYVGAsIGV0Yy4pLgogICAgICoKICAgICAqIFRoZSBgWG1sTm9kZWAgY2xhc3MgaXRzZWxmIGlzIGEgYmFzZSBjbGFzcyBhbmQgZG9lc24ndCBoYXZlIGl0cyBvd24gdHlwZQogICAgICogbmFtZS4KICAgICAqLwogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiAiIjsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhIEpTT04tc2VyaWFsaXphYmxlIG9iamVjdCByZXByZXNlbnRpbmcgdGhpcyBub2RlLCBtaW51cyBwcm9wZXJ0aWVzCiAgICAgKiB0aGF0IGNvdWxkIHJlc3VsdCBpbiBjaXJjdWxhciByZWZlcmVuY2VzLgogICAgICovCiAgICB0b0pTT04oKSB7CiAgICAgIGxldCBqc29uID0gewogICAgICAgIHR5cGU6IHRoaXMudHlwZQogICAgICB9OwogICAgICBpZiAodGhpcy5pc1Jvb3ROb2RlKSB7CiAgICAgICAganNvbi5pc1Jvb3ROb2RlID0gdHJ1ZTsKICAgICAgfQogICAgICBpZiAodGhpcy5wcmVzZXJ2ZVdoaXRlc3BhY2UpIHsKICAgICAgICBqc29uLnByZXNlcnZlV2hpdGVzcGFjZSA9IHRydWU7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuc3RhcnQgIT09IC0xKSB7CiAgICAgICAganNvbi5zdGFydCA9IHRoaXMuc3RhcnQ7CiAgICAgICAganNvbi5lbmQgPSB0aGlzLmVuZDsKICAgICAgfQogICAgICByZXR1cm4ganNvbjsKICAgIH0KICB9OwogIHZhciBYbWxOb2RlID0gX1htbE5vZGU7CiAgWG1sTm9kZS5UWVBFX0NEQVRBID0gImNkYXRhIjsKICBYbWxOb2RlLlRZUEVfQ09NTUVOVCA9ICJjb21tZW50IjsKICBYbWxOb2RlLlRZUEVfRE9DVU1FTlQgPSAiZG9jdW1lbnQiOwogIFhtbE5vZGUuVFlQRV9ET0NVTUVOVF9UWVBFID0gImRvY3R5cGUiOwogIFhtbE5vZGUuVFlQRV9FTEVNRU5UID0gImVsZW1lbnQiOwogIFhtbE5vZGUuVFlQRV9QUk9DRVNTSU5HX0lOU1RSVUNUSU9OID0gInBpIjsKICBYbWxOb2RlLlRZUEVfVEVYVCA9ICJ0ZXh0IjsKICBYbWxOb2RlLlRZUEVfWE1MX0RFQ0xBUkFUSU9OID0gInhtbGRlY2wiOwogIHZhciBYbWxUZXh0ID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKHRleHQgPSAiIikgewogICAgICBzdXBlcigpOwogICAgICB0aGlzLnRleHQgPSB0ZXh0OwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfVEVYVDsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICB0ZXh0OiB0aGlzLnRleHQKICAgICAgfSk7CiAgICB9CiAgfTsKICB2YXIgWG1sQ2RhdGEgPSBjbGFzcyBleHRlbmRzIFhtbFRleHQgewogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfQ0RBVEE7CiAgICB9CiAgfTsKICB2YXIgWG1sQ29tbWVudCA9IGNsYXNzIGV4dGVuZHMgWG1sTm9kZSB7CiAgICBjb25zdHJ1Y3Rvcihjb250ZW50ID0gIiIpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDsKICAgIH0KICAgIGdldCB0eXBlKCkgewogICAgICByZXR1cm4gWG1sTm9kZS5UWVBFX0NPTU1FTlQ7CiAgICB9CiAgICB0b0pTT04oKSB7CiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFhtbE5vZGUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpLCB7CiAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50CiAgICAgIH0pOwogICAgfQogIH07CiAgdmFyIFhtbERlY2xhcmF0aW9uID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247CiAgICAgIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZyAhPSBudWxsID8gZW5jb2RpbmcgOiBudWxsOwogICAgICB0aGlzLnN0YW5kYWxvbmUgPSBzdGFuZGFsb25lICE9IG51bGwgPyBzdGFuZGFsb25lIDogbnVsbDsKICAgIH0KICAgIGdldCB0eXBlKCkgewogICAgICByZXR1cm4gWG1sTm9kZS5UWVBFX1hNTF9ERUNMQVJBVElPTjsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgbGV0IGpzb24gPSBYbWxOb2RlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTsKICAgICAganNvbi52ZXJzaW9uID0gdGhpcy52ZXJzaW9uOwogICAgICBmb3IgKGxldCBrZXkgb2YgWyJlbmNvZGluZyIsICJzdGFuZGFsb25lIl0pIHsKICAgICAgICBpZiAodGhpc1trZXldICE9PSBudWxsKSB7CiAgICAgICAgICBqc29uW2tleV0gPSB0aGlzW2tleV07CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBqc29uOwogICAgfQogIH07CiAgdmFyIFhtbEVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIFhtbE5vZGUgewogICAgY29uc3RydWN0b3IobmFtZSwgYXR0cmlidXRlcyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCBjaGlsZHJlbiA9IFtdKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgIHRoaXMuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7CiAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjsKICAgIH0KICAgIC8qKgogICAgICogV2hldGhlciB0aGlzIGVsZW1lbnQgaXMgZW1wdHkgKG1lYW5pbmcgaXQgaGFzIG5vIGNoaWxkcmVuKS4KICAgICAqLwogICAgZ2V0IGlzRW1wdHkoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMDsKICAgIH0KICAgIGdldCBwcmVzZXJ2ZVdoaXRlc3BhY2UoKSB7CiAgICAgIGxldCBub2RlID0gdGhpczsKICAgICAgd2hpbGUgKG5vZGUgaW5zdGFuY2VvZiBYbWxFbGVtZW50KSB7CiAgICAgICAgaWYgKCJ4bWw6c3BhY2UiIGluIG5vZGUuYXR0cmlidXRlcykgewogICAgICAgICAgcmV0dXJuIG5vZGUuYXR0cmlidXRlc1sieG1sOnNwYWNlIl0gPT09ICJwcmVzZXJ2ZSI7CiAgICAgICAgfQogICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIFRleHQgY29udGVudCBvZiB0aGlzIGVsZW1lbnQgYW5kIGFsbCBpdHMgZGVzY2VuZGFudHMuCiAgICAgKi8KICAgIGdldCB0ZXh0KCkgewogICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiAidGV4dCIgaW4gY2hpbGQgPyBjaGlsZC50ZXh0IDogIiIpLmpvaW4oIiIpOwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfRUxFTUVOVDsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgYXR0cmlidXRlczogdGhpcy5hdHRyaWJ1dGVzLAogICAgICAgIGNoaWxkcmVuOiB0aGlzLmNoaWxkcmVuLm1hcCgoY2hpbGQpID0+IGNoaWxkLnRvSlNPTigpKQogICAgICB9KTsKICAgIH0KICB9OwogIHZhciBYbWxEb2N1bWVudCA9IGNsYXNzIGV4dGVuZHMgWG1sTm9kZSB7CiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbiA9IFtdKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjsKICAgIH0KICAgIGdldCBkb2N1bWVudCgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIFJvb3QgZWxlbWVudCBvZiB0aGlzIGRvY3VtZW50LCBvciBgbnVsbGAgaWYgdGhpcyBkb2N1bWVudCBpcyBlbXB0eS4KICAgICAqLwogICAgZ2V0IHJvb3QoKSB7CiAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHsKICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBYbWxFbGVtZW50KSB7CiAgICAgICAgICByZXR1cm4gY2hpbGQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgLyoqCiAgICAgKiBUZXh0IGNvbnRlbnQgb2YgdGhpcyBkb2N1bWVudCBhbmQgYWxsIGl0cyBkZXNjZW5kYW50cy4KICAgICAqLwogICAgZ2V0IHRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLm1hcCgoY2hpbGQpID0+ICJ0ZXh0IiBpbiBjaGlsZCA/IGNoaWxkLnRleHQgOiAiIikuam9pbigiIik7CiAgICB9CiAgICBnZXQgdHlwZSgpIHsKICAgICAgcmV0dXJuIFhtbE5vZGUuVFlQRV9ET0NVTUVOVDsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICBjaGlsZHJlbjogdGhpcy5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiBjaGlsZC50b0pTT04oKSkKICAgICAgfSk7CiAgICB9CiAgfTsKICB2YXIgWG1sRG9jdW1lbnRUeXBlID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKG5hbWUsIHB1YmxpY0lkLCBzeXN0ZW1JZCwgaW50ZXJuYWxTdWJzZXQpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgICAgdGhpcy5wdWJsaWNJZCA9IHB1YmxpY0lkICE9IG51bGwgPyBwdWJsaWNJZCA6IG51bGw7CiAgICAgIHRoaXMuc3lzdGVtSWQgPSBzeXN0ZW1JZCAhPSBudWxsID8gc3lzdGVtSWQgOiBudWxsOwogICAgICB0aGlzLmludGVybmFsU3Vic2V0ID0gaW50ZXJuYWxTdWJzZXQgIT0gbnVsbCA/IGludGVybmFsU3Vic2V0IDogbnVsbDsKICAgIH0KICAgIGdldCB0eXBlKCkgewogICAgICByZXR1cm4gWG1sTm9kZS5UWVBFX0RPQ1VNRU5UX1RZUEU7CiAgICB9CiAgICB0b0pTT04oKSB7CiAgICAgIGxldCBqc29uID0gWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7CiAgICAgIGpzb24ubmFtZSA9IHRoaXMubmFtZTsKICAgICAgZm9yIChsZXQga2V5IG9mIFsicHVibGljSWQiLCAic3lzdGVtSWQiLCAiaW50ZXJuYWxTdWJzZXQiXSkgewogICAgICAgIGlmICh0aGlzW2tleV0gIT09IG51bGwpIHsKICAgICAgICAgIGpzb25ba2V5XSA9IHRoaXNba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGpzb247CiAgICB9CiAgfTsKICB2YXIgWG1sRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHsKICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGNoYXJJbmRleCwgeG1sKSB7CiAgICAgIGxldCBjb2x1bW4gPSAxOwogICAgICBsZXQgZXhjZXJwdCA9ICIiOwogICAgICBsZXQgbGluZSA9IDE7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhckluZGV4OyArK2kpIHsKICAgICAgICBsZXQgY2hhciA9IHhtbFtpXTsKICAgICAgICBpZiAoY2hhciA9PT0gIlxuIikgewogICAgICAgICAgY29sdW1uID0gMTsKICAgICAgICAgIGV4Y2VycHQgPSAiIjsKICAgICAgICAgIGxpbmUgKz0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29sdW1uICs9IDE7CiAgICAgICAgICBleGNlcnB0ICs9IGNoYXI7CiAgICAgICAgfQogICAgICB9CiAgICAgIGxldCBlb2wgPSB4bWwuaW5kZXhPZigiXG4iLCBjaGFySW5kZXgpOwogICAgICBleGNlcnB0ICs9IGVvbCA9PT0gLTEgPyB4bWwuc2xpY2UoY2hhckluZGV4KSA6IHhtbC5zbGljZShjaGFySW5kZXgsIGVvbCk7CiAgICAgIGxldCBleGNlcnB0U3RhcnQgPSAwOwogICAgICBpZiAoZXhjZXJwdC5sZW5ndGggPiA1MCkgewogICAgICAgIGlmIChjb2x1bW4gPCA0MCkgewogICAgICAgICAgZXhjZXJwdCA9IGV4Y2VycHQuc2xpY2UoMCwgNTApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBleGNlcnB0U3RhcnQgPSBjb2x1bW4gLSAyMDsKICAgICAgICAgIGV4Y2VycHQgPSBleGNlcnB0LnNsaWNlKGV4Y2VycHRTdGFydCwgY29sdW1uICsgMzApOwogICAgICAgIH0KICAgICAgfQogICAgICBzdXBlcigKICAgICAgICBgJHttZXNzYWdlfSAobGluZSAke2xpbmV9LCBjb2x1bW4gJHtjb2x1bW59KQogICR7ZXhjZXJwdH0KYCArICIgIi5yZXBlYXQoY29sdW1uIC0gZXhjZXJwdFN0YXJ0ICsgMSkgKyAiXlxuIgogICAgICApOwogICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjsKICAgICAgdGhpcy5leGNlcnB0ID0gZXhjZXJwdDsKICAgICAgdGhpcy5saW5lID0gbGluZTsKICAgICAgdGhpcy5uYW1lID0gIlhtbEVycm9yIjsKICAgICAgdGhpcy5wb3MgPSBjaGFySW5kZXg7CiAgICB9CiAgfTsKICB2YXIgWG1sUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gY2xhc3MgZXh0ZW5kcyBYbWxOb2RlIHsKICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNvbnRlbnQgPSAiIikgewogICAgICBzdXBlcigpOwogICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50OwogICAgfQogICAgZ2V0IHR5cGUoKSB7CiAgICAgIHJldHVybiBYbWxOb2RlLlRZUEVfUFJPQ0VTU0lOR19JTlNUUlVDVElPTjsKICAgIH0KICAgIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWG1sTm9kZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyksIHsKICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50CiAgICAgIH0pOwogICAgfQogIH07CiAgdmFyIGVtcHR5U3RyaW5nMiA9ICIiOwogIHZhciBQYXJzZXIgPSBjbGFzcyB7CiAgICAvKioKICAgICAqIEBwYXJhbSB4bWwgWE1MIHN0cmluZyB0byBwYXJzZS4KICAgICAqIEBwYXJhbSBvcHRpb25zIFBhcnNlciBvcHRpb25zLgogICAgICovCiAgICBjb25zdHJ1Y3Rvcih4bWwsIG9wdGlvbnMgPSB7fSkgewogICAgICBsZXQgZG9jID0gdGhpcy5kb2N1bWVudCA9IG5ldyBYbWxEb2N1bWVudCgpOwogICAgICBsZXQgc2Nhbm5lciA9IHRoaXMuYyA9IG5ldyBTdHJpbmdTY2FubmVyKHhtbCk7CiAgICAgIHRoaXMubCA9IGRvYzsKICAgICAgdGhpcy5mID0gb3B0aW9uczsKICAgICAgaWYgKHRoaXMuZi5pbmNsdWRlT2Zmc2V0cykgewogICAgICAgIGRvYy5zdGFydCA9IDA7CiAgICAgICAgZG9jLmVuZCA9IHhtbC5sZW5ndGg7CiAgICAgIH0KICAgICAgc2Nhbm5lci5iKCJcdUZFRkYiKTsKICAgICAgdGhpcy5IKCk7CiAgICAgIGlmICghdGhpcy5CKCkpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlJvb3QgZWxlbWVudCBpcyBtaXNzaW5nIG9yIGludmFsaWQiKTsKICAgICAgfQogICAgICB3aGlsZSAodGhpcy53KCkpIHsKICAgICAgfQogICAgICBpZiAoIXNjYW5uZXIueikgewogICAgICAgIHRocm93IHRoaXMuYSgiRXh0cmEgY29udGVudCBhdCB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudCIpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEFkZHMgdGhlIGdpdmVuIGBYbWxOb2RlYCBhcyBhIGNoaWxkIG9mIGB0aGlzLmN1cnJlbnROb2RlYC4KICAgICAqLwogICAgaihub2RlLCBjaGFySW5kZXgpIHsKICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzLmw7CiAgICAgIGlmICh0aGlzLmYuaW5jbHVkZU9mZnNldHMpIHsKICAgICAgICBub2RlLnN0YXJ0ID0gdGhpcy5jLmkoY2hhckluZGV4KTsKICAgICAgICBub2RlLmVuZCA9IHRoaXMuYy5pKCk7CiAgICAgIH0KICAgICAgdGhpcy5sLmNoaWxkcmVuLnB1c2gobm9kZSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgLyoqCiAgICAgKiBBZGRzIHRoZSBnaXZlbiBfdGV4dF8gdG8gdGhlIGRvY3VtZW50LCBlaXRoZXIgYnkgYXBwZW5kaW5nIGl0IHRvIGEKICAgICAqIHByZWNlZGluZyBgWG1sVGV4dGAgbm9kZSAoaWYgcG9zc2libGUpIG9yIGJ5IGNyZWF0aW5nIGEgbmV3IGBYbWxUZXh0YCBub2RlLgogICAgICovCiAgICB4KHRleHQsIGNoYXJJbmRleCkgewogICAgICBsZXQgeyBjaGlsZHJlbiB9ID0gdGhpcy5sOwogICAgICBsZXQgeyBsZW5ndGggfSA9IGNoaWxkcmVuOwogICAgICB0ZXh0ID0gbm9ybWFsaXplTGluZUJyZWFrcyh0ZXh0KTsKICAgICAgaWYgKGxlbmd0aCA+IDApIHsKICAgICAgICBsZXQgcHJldk5vZGUgPSBjaGlsZHJlbltsZW5ndGggLSAxXTsKICAgICAgICBpZiAoKHByZXZOb2RlID09IG51bGwgPyB2b2lkIDAgOiBwcmV2Tm9kZS50eXBlKSA9PT0gWG1sTm9kZS5UWVBFX1RFWFQpIHsKICAgICAgICAgIGxldCB0ZXh0Tm9kZSA9IHByZXZOb2RlOwogICAgICAgICAgdGV4dE5vZGUudGV4dCArPSB0ZXh0OwogICAgICAgICAgaWYgKHRoaXMuZi5pbmNsdWRlT2Zmc2V0cykgewogICAgICAgICAgICB0ZXh0Tm9kZS5lbmQgPSB0aGlzLmMuaSgpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmoobmV3IFhtbFRleHQodGV4dCksIGNoYXJJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGVsZW1lbnQgYXR0cmlidXRlcy4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy1zdGFydHRhZ3MKICAgICAqLwogICAgSSgpIHsKICAgICAgbGV0IGF0dHJpYnV0ZXMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgICAgd2hpbGUgKHRoaXMuZSgpKSB7CiAgICAgICAgbGV0IGF0dHJOYW1lID0gdGhpcy5yKCk7CiAgICAgICAgaWYgKCFhdHRyTmFtZSkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGxldCBhdHRyVmFsdWUgPSB0aGlzLnUoKSAmJiB0aGlzLkooKTsKICAgICAgICBpZiAoYXR0clZhbHVlID09PSBmYWxzZSkgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCJBdHRyaWJ1dGUgdmFsdWUgZXhwZWN0ZWQiKTsKICAgICAgICB9CiAgICAgICAgaWYgKGF0dHJOYW1lIGluIGF0dHJpYnV0ZXMpIHsKICAgICAgICAgIHRocm93IHRoaXMuYShgRHVwbGljYXRlIGF0dHJpYnV0ZTogJHthdHRyTmFtZX1gKTsKICAgICAgICB9CiAgICAgICAgaWYgKGF0dHJOYW1lID09PSAieG1sOnNwYWNlIiAmJiBhdHRyVmFsdWUgIT09ICJkZWZhdWx0IiAmJiBhdHRyVmFsdWUgIT09ICJwcmVzZXJ2ZSIpIHsKICAgICAgICAgIHRocm93IHRoaXMuYSgnVmFsdWUgb2YgdGhlIGB4bWw6c3BhY2VgIGF0dHJpYnV0ZSBtdXN0IGJlICJkZWZhdWx0IiBvciAicHJlc2VydmUiJyk7CiAgICAgICAgfQogICAgICAgIGF0dHJpYnV0ZXNbYXR0ck5hbWVdID0gYXR0clZhbHVlOwogICAgICB9CiAgICAgIGlmICh0aGlzLmYuc29ydEF0dHJpYnV0ZXMpIHsKICAgICAgICBsZXQgYXR0ck5hbWVzID0gT2JqZWN0LmtleXMoYXR0cmlidXRlcykuc29ydCgpOwogICAgICAgIGxldCBzb3J0ZWRBdHRyaWJ1dGVzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyTmFtZXMubGVuZ3RoOyArK2kpIHsKICAgICAgICAgIGxldCBhdHRyTmFtZSA9IGF0dHJOYW1lc1tpXTsKICAgICAgICAgIHNvcnRlZEF0dHJpYnV0ZXNbYXR0ck5hbWVdID0gYXR0cmlidXRlc1thdHRyTmFtZV07CiAgICAgICAgfQogICAgICAgIGF0dHJpYnV0ZXMgPSBzb3J0ZWRBdHRyaWJ1dGVzOwogICAgICB9CiAgICAgIHJldHVybiBhdHRyaWJ1dGVzOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhbiBgQXR0VmFsdWVgIChhdHRyaWJ1dGUgdmFsdWUpIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zCiAgICAgKiAgIENvbnRlbnRzIG9mIHRoZSBgQXR0VmFsdWVgIG1pbnVzIHF1b3Rlcywgb3IgYGZhbHNlYCBpZiBub3RoaW5nIHdhcwogICAgICogICBjb25zdW1lZC4gQW4gZW1wdHkgc3RyaW5nIGluZGljYXRlcyB0aGF0IGFuIGBBdHRWYWx1ZWAgd2FzIGNvbnN1bWVkIGJ1dAogICAgICogICB3YXMgZW1wdHkuCiAgICAgKgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1BdHRWYWx1ZQogICAgICovCiAgICBKKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgcXVvdGUgPSBzY2FubmVyLmgoKTsKICAgICAgaWYgKHF1b3RlICE9PSAnIicgJiYgcXVvdGUgIT09ICInIikgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBzY2FubmVyLmcoKTsKICAgICAgbGV0IGNoYXJzOwogICAgICBsZXQgaXNDbG9zZWQgPSBmYWxzZTsKICAgICAgbGV0IHZhbHVlID0gZW1wdHlTdHJpbmcyOwogICAgICBsZXQgcmVnZXggPSBxdW90ZSA9PT0gJyInID8gYXR0VmFsdWVDaGFyRG91YmxlUXVvdGUgOiBhdHRWYWx1ZUNoYXJTaW5nbGVRdW90ZTsKICAgICAgbWF0Y2hMb29wOgogICAgICAgIHdoaWxlICghc2Nhbm5lci56KSB7CiAgICAgICAgICBjaGFycyA9IHNjYW5uZXIuRyhyZWdleCk7CiAgICAgICAgICBpZiAoY2hhcnMpIHsKICAgICAgICAgICAgdGhpcy5wKGNoYXJzKTsKICAgICAgICAgICAgdmFsdWUgKz0gY2hhcnMucmVwbGFjZShhdHRWYWx1ZU5vcm1hbGl6ZWRXaGl0ZXNwYWNlLCAiICIpOwogICAgICAgICAgfQogICAgICAgICAgc3dpdGNoIChzY2FubmVyLmgoKSkgewogICAgICAgICAgICBjYXNlIHF1b3RlOgogICAgICAgICAgICAgIGlzQ2xvc2VkID0gdHJ1ZTsKICAgICAgICAgICAgICBicmVhayBtYXRjaExvb3A7CiAgICAgICAgICAgIGNhc2UgIiYiOgogICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuQygpOwogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICBjYXNlICI8IjoKICAgICAgICAgICAgICB0aHJvdyB0aGlzLmEoIlVuZXNjYXBlZCBgPGAgaXMgbm90IGFsbG93ZWQgaW4gYW4gYXR0cmlidXRlIHZhbHVlIik7CiAgICAgICAgICAgIGNhc2UgZW1wdHlTdHJpbmcyOgogICAgICAgICAgICAgIGJyZWFrIG1hdGNoTG9vcDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIGlmICghaXNDbG9zZWQpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlVuY2xvc2VkIGF0dHJpYnV0ZSIpOwogICAgICB9CiAgICAgIHNjYW5uZXIuZygpOwogICAgICByZXR1cm4gdmFsdWU7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgQ0RBVEEgc2VjdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGEgQ0RBVEEgc2VjdGlvbiB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy1jZGF0YS1zZWN0CiAgICAgKi8KICAgIEsoKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPCFbQ0RBVEFbIikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IHRleHQgPSBzY2FubmVyLnQoIl1dPiIpOwogICAgICB0aGlzLnAodGV4dCk7CiAgICAgIGlmICghc2Nhbm5lci5iKCJdXT4iKSkgewogICAgICAgIHRocm93IHRoaXMuYSgiVW5jbG9zZWQgQ0RBVEEgc2VjdGlvbiIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmYucHJlc2VydmVDZGF0YSA/IHRoaXMuaihuZXcgWG1sQ2RhdGEobm9ybWFsaXplTGluZUJyZWFrcyh0ZXh0KSksIHN0YXJ0SW5kZXgpIDogdGhpcy54KHRleHQsIHN0YXJ0SW5kZXgpOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBjaGFyYWN0ZXIgZGF0YSBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGNoYXJhY3RlciBkYXRhIHdhcyBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jZHQtY2hhcmRhdGEKICAgICAqLwogICAgTCgpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSBzY2FubmVyLmQ7CiAgICAgIGxldCBjaGFyRGF0YSA9IHNjYW5uZXIuQShlbmRDaGFyRGF0YSk7CiAgICAgIGlmICghY2hhckRhdGEpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdGhpcy5wKGNoYXJEYXRhKTsKICAgICAgaWYgKHNjYW5uZXIuaCgzKSA9PT0gIl1dPiIpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIkVsZW1lbnQgY29udGVudCBtYXkgbm90IGNvbnRhaW4gdGhlIENEQVRBIHNlY3Rpb24gY2xvc2UgZGVsaW1pdGVyIGBdXT5gIik7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMueChjaGFyRGF0YSwgc3RhcnRJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgY29tbWVudCBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGEgY29tbWVudCB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULUNvbW1lbnQKICAgICAqLwogICAgRCgpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSBzY2FubmVyLmQ7CiAgICAgIGlmICghc2Nhbm5lci5iKCI8IS0tIikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IGNvbnRlbnQgPSBzY2FubmVyLnQoIi0tIik7CiAgICAgIHRoaXMucChjb250ZW50KTsKICAgICAgaWYgKCFzY2FubmVyLmIoIi0tPiIpKSB7CiAgICAgICAgaWYgKHNjYW5uZXIuaCgyKSA9PT0gIi0tIikgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCJUaGUgc3RyaW5nIGAtLWAgaXNuJ3QgYWxsb3dlZCBpbnNpZGUgYSBjb21tZW50Iik7CiAgICAgICAgfQogICAgICAgIHRocm93IHRoaXMuYSgiVW5jbG9zZWQgY29tbWVudCIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmYucHJlc2VydmVDb21tZW50cyA/IHRoaXMuaihuZXcgWG1sQ29tbWVudChub3JtYWxpemVMaW5lQnJlYWtzKGNvbnRlbnQpKSwgc3RhcnRJbmRleCkgOiB0cnVlOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhIHJlZmVyZW5jZSBpbiBhIGNvbnRlbnQgY29udGV4dCBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBUaGlzIGRpZmZlcnMgZnJvbSBgY29uc3VtZVJlZmVyZW5jZSgpYCBpbiB0aGF0IGEgY29uc3VtZWQgcmVmZXJlbmNlIHdpbGwgYmUKICAgICAqIGFkZGVkIHRvIHRoZSBkb2N1bWVudCBhcyBhIHRleHQgbm9kZSBpbnN0ZWFkIG9mIHJldHVybmVkLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSByZWZlcmVuY2Ugd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNlbnRwcm9jCiAgICAgKi8KICAgIE0oKSB7CiAgICAgIGxldCBzdGFydEluZGV4ID0gdGhpcy5jLmQ7CiAgICAgIGxldCByZWYgPSB0aGlzLkMoKTsKICAgICAgcmV0dXJuIHJlZiA/IHRoaXMueChyZWYsIHN0YXJ0SW5kZXgpIDogZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgZG9jdHlwZSBkZWNsYXJhdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBUaGlzIGlzIGEgbG9vc2UgaW1wbGVtZW50YXRpb24gc2luY2UgZG9jdHlwZSBkZWNsYXJhdGlvbnMgYXJlIGN1cnJlbnRseQogICAgICogZGlzY2FyZGVkIHdpdGhvdXQgZnVydGhlciBwYXJzaW5nLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSBkb2N0eXBlIGRlY2xhcmF0aW9uIHdhcyBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jZHRkCiAgICAgKi8KICAgIE4oKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPCFET0NUWVBFIikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IG5hbWUgPSB0aGlzLmUoKSAmJiB0aGlzLnIoKTsKICAgICAgaWYgKCFuYW1lKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJFeHBlY3RlZCBhIG5hbWUiKTsKICAgICAgfQogICAgICBsZXQgcHVibGljSWQ7CiAgICAgIGxldCBzeXN0ZW1JZDsKICAgICAgaWYgKHRoaXMuZSgpKSB7CiAgICAgICAgaWYgKHNjYW5uZXIuYigiUFVCTElDIikpIHsKICAgICAgICAgIHB1YmxpY0lkID0gdGhpcy5lKCkgJiYgdGhpcy5PKCk7CiAgICAgICAgICBpZiAocHVibGljSWQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHRocm93IHRoaXMuYSgiRXhwZWN0ZWQgYSBwdWJsaWMgaWRlbnRpZmllciIpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5lKCk7CiAgICAgICAgfQogICAgICAgIGlmIChwdWJsaWNJZCAhPT0gdm9pZCAwIHx8IHNjYW5uZXIuYigiU1lTVEVNIikpIHsKICAgICAgICAgIHRoaXMuZSgpOwogICAgICAgICAgc3lzdGVtSWQgPSB0aGlzLnMoKTsKICAgICAgICAgIGlmIChzeXN0ZW1JZCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgdGhyb3cgdGhpcy5hKCJFeHBlY3RlZCBhIHN5c3RlbSBpZGVudGlmaWVyIik7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmUoKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgbGV0IGludGVybmFsU3Vic2V0OwogICAgICBpZiAoc2Nhbm5lci5iKCJbIikpIHsKICAgICAgICBpbnRlcm5hbFN1YnNldCA9IHNjYW5uZXIuQSgvXF1bXHgyMFx0XHJcbl0qPi8pOwogICAgICAgIGlmICghc2Nhbm5lci5iKCJdIikpIHsKICAgICAgICAgIHRocm93IHRoaXMuYSgiVW5jbG9zZWQgaW50ZXJuYWwgc3Vic2V0Iik7CiAgICAgICAgfQogICAgICAgIHRoaXMuZSgpOwogICAgICB9CiAgICAgIGlmICghc2Nhbm5lci5iKCI+IikpIHsKICAgICAgICB0aHJvdyB0aGlzLmEoIlVuY2xvc2VkIGRvY3R5cGUgZGVjbGFyYXRpb24iKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5mLnByZXNlcnZlRG9jdW1lbnRUeXBlID8gdGhpcy5qKG5ldyBYbWxEb2N1bWVudFR5cGUobmFtZSwgcHVibGljSWQsIHN5c3RlbUlkLCBpbnRlcm5hbFN1YnNldCksIHN0YXJ0SW5kZXgpIDogdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYW4gZWxlbWVudCBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGFuIGVsZW1lbnQgd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1lbGVtZW50CiAgICAgKi8KICAgIEIoKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPCIpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGxldCBuYW1lID0gdGhpcy5yKCk7CiAgICAgIGlmICghbmFtZSkgewogICAgICAgIHNjYW5uZXIubyhzdGFydEluZGV4KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IGF0dHJpYnV0ZXMgPSB0aGlzLkkoKTsKICAgICAgbGV0IGlzRW1wdHkgPSAhIXNjYW5uZXIuYigiLz4iKTsKICAgICAgbGV0IGVsZW1lbnQgPSBuZXcgWG1sRWxlbWVudChuYW1lLCBhdHRyaWJ1dGVzKTsKICAgICAgZWxlbWVudC5wYXJlbnQgPSB0aGlzLmw7CiAgICAgIGlmICghaXNFbXB0eSkgewogICAgICAgIGlmICghc2Nhbm5lci5iKCI+IikpIHsKICAgICAgICAgIHRocm93IHRoaXMuYShgVW5jbG9zZWQgc3RhcnQgdGFnIGZvciBlbGVtZW50IFxgJHtuYW1lfVxgYCk7CiAgICAgICAgfQogICAgICAgIHRoaXMubCA9IGVsZW1lbnQ7CiAgICAgICAgZG8gewogICAgICAgICAgdGhpcy5MKCk7CiAgICAgICAgfSB3aGlsZSAodGhpcy5CKCkgfHwgdGhpcy5NKCkgfHwgdGhpcy5LKCkgfHwgdGhpcy5FKCkgfHwgdGhpcy5EKCkpOwogICAgICAgIGxldCBlbmRUYWdNYXJrID0gc2Nhbm5lci5kOwogICAgICAgIGxldCBlbmRUYWdOYW1lOwogICAgICAgIGlmICghc2Nhbm5lci5iKCI8LyIpIHx8ICEoZW5kVGFnTmFtZSA9IHRoaXMucigpKSB8fCBlbmRUYWdOYW1lICE9PSBuYW1lKSB7CiAgICAgICAgICBzY2FubmVyLm8oZW5kVGFnTWFyayk7CiAgICAgICAgICB0aHJvdyB0aGlzLmEoYE1pc3NpbmcgZW5kIHRhZyBmb3IgZWxlbWVudCAke25hbWV9YCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuZSgpOwogICAgICAgIGlmICghc2Nhbm5lci5iKCI+IikpIHsKICAgICAgICAgIHRocm93IHRoaXMuYShgVW5jbG9zZWQgZW5kIHRhZyBmb3IgZWxlbWVudCAke25hbWV9YCk7CiAgICAgICAgfQogICAgICAgIHRoaXMubCA9IGVsZW1lbnQucGFyZW50OwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmooZWxlbWVudCwgc3RhcnRJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGFuIGBFcWAgcHJvZHVjdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGFuIGBFcWAgcHJvZHVjdGlvbiB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULUVxCiAgICAgKi8KICAgIHUoKSB7CiAgICAgIHRoaXMuZSgpOwogICAgICBpZiAodGhpcy5jLmIoIj0iKSkgewogICAgICAgIHRoaXMuZSgpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYE1pc2NgIGNvbnRlbnQgaWYgcG9zc2libGUuCiAgICAgKgogICAgICogQHJldHVybnMgV2hldGhlciBhbnl0aGluZyB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULU1pc2MKICAgICAqLwogICAgdygpIHsKICAgICAgcmV0dXJuIHRoaXMuRCgpIHx8IHRoaXMuRSgpIHx8IHRoaXMuZSgpOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBvbmUgb3IgbW9yZSBgTmFtZWAgY2hhcmFjdGVycyBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBgTmFtZWAgY2hhcmFjdGVycywgb3IgYW4gZW1wdHkgc3RyaW5nIGlmIG5vbmUgd2VyZSBjb25zdW1lZC4KICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLXhtbC0yMDA4MTEyNi8jTlQtTmFtZQogICAgICovCiAgICByKCkgewogICAgICByZXR1cm4gaXNOYW1lU3RhcnRDaGFyKHRoaXMuYy5oKCkpID8gdGhpcy5jLnYoaXNOYW1lQ2hhcikgOiBlbXB0eVN0cmluZzI7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIGEgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiB3YXMgY29uc3VtZWQuCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI3NlYy1waQogICAgICovCiAgICBFKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgc3RhcnRJbmRleCA9IHNjYW5uZXIuZDsKICAgICAgaWYgKCFzY2FubmVyLmIoIjw/IikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IG5hbWUgPSB0aGlzLnIoKTsKICAgICAgaWYgKG5hbWUpIHsKICAgICAgICBpZiAobmFtZS50b0xvd2VyQ2FzZSgpID09PSAieG1sIikgewogICAgICAgICAgc2Nhbm5lci5vKHN0YXJ0SW5kZXgpOwogICAgICAgICAgdGhyb3cgdGhpcy5hKCJYTUwgZGVjbGFyYXRpb24gaXNuJ3QgYWxsb3dlZCBoZXJlIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IHRoaXMuYSgiSW52YWxpZCBwcm9jZXNzaW5nIGluc3RydWN0aW9uIik7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmUoKSkgewogICAgICAgIGlmIChzY2FubmVyLmIoIj8+IikpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmoobmV3IFhtbFByb2Nlc3NpbmdJbnN0cnVjdGlvbihuYW1lKSwgc3RhcnRJbmRleCk7CiAgICAgICAgfQogICAgICAgIHRocm93IHRoaXMuYSgiV2hpdGVzcGFjZSBpcyByZXF1aXJlZCBhZnRlciBhIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbmFtZSIpOwogICAgICB9CiAgICAgIGxldCBjb250ZW50ID0gc2Nhbm5lci50KCI/PiIpOwogICAgICB0aGlzLnAoY29udGVudCk7CiAgICAgIGlmICghc2Nhbm5lci5iKCI/PiIpKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJVbnRlcm1pbmF0ZWQgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmoobmV3IFhtbFByb2Nlc3NpbmdJbnN0cnVjdGlvbihuYW1lLCBub3JtYWxpemVMaW5lQnJlYWtzKGNvbnRlbnQpKSwgc3RhcnRJbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgcHJvbG9nIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYSBwcm9sb2cgd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNzZWMtcHJvbG9nLWR0ZAogICAgICovCiAgICBIKCkgewogICAgICBsZXQgeyBjOiBzY2FubmVyIH0gPSB0aGlzOwogICAgICBsZXQgc3RhcnRJbmRleCA9IHNjYW5uZXIuZDsKICAgICAgdGhpcy5QKCk7CiAgICAgIHdoaWxlICh0aGlzLncoKSkgewogICAgICB9CiAgICAgIGlmICh0aGlzLk4oKSkgewogICAgICAgIHdoaWxlICh0aGlzLncoKSkgewogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gc3RhcnRJbmRleCA8IHNjYW5uZXIuZDsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgYSBwdWJsaWMgaWRlbnRpZmllciBsaXRlcmFsIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zCiAgICAgKiAgIFZhbHVlIG9mIHRoZSBwdWJsaWMgaWRlbnRpZmllciBsaXRlcmFsIG1pbnVzIHF1b3Rlcywgb3IgYGZhbHNlYCBpZgogICAgICogICBub3RoaW5nIHdhcyBjb25zdW1lZC4gQW4gZW1wdHkgc3RyaW5nIGluZGljYXRlcyB0aGF0IGEgcHVibGljIGlkIGxpdGVyYWwKICAgICAqICAgd2FzIGNvbnN1bWVkIGJ1dCB3YXMgZW1wdHkuCiAgICAgKgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1QdWJpZExpdGVyYWwKICAgICAqLwogICAgTygpIHsKICAgICAgbGV0IHN0YXJ0SW5kZXggPSB0aGlzLmMuZDsKICAgICAgbGV0IHZhbHVlID0gdGhpcy5zKCk7CiAgICAgIGlmICh2YWx1ZSAhPT0gZmFsc2UgJiYgIS9eWy1ceDIwXHJcbmEtekEtWjAtOScoKSssLi86PT87ISojQCRfJV0qJC8udGVzdCh2YWx1ZSkpIHsKICAgICAgICB0aGlzLmMubyhzdGFydEluZGV4KTsKICAgICAgICB0aHJvdyB0aGlzLmEoIkludmFsaWQgY2hhcmFjdGVyIGluIHB1YmxpYyBpZGVudGlmaWVyIik7CiAgICAgIH0KICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhIHJlZmVyZW5jZSBpZiBwb3NzaWJsZS4KICAgICAqCiAgICAgKiBUaGlzIGRpZmZlcnMgZnJvbSBgY29uc3VtZUNvbnRlbnRSZWZlcmVuY2UoKWAgaW4gdGhhdCBhIGNvbnN1bWVkIHJlZmVyZW5jZQogICAgICogd2lsbCBiZSByZXR1cm5lZCByYXRoZXIgdGhhbiBhZGRlZCB0byB0aGUgZG9jdW1lbnQuCiAgICAgKgogICAgICogQHJldHVybnMKICAgICAqICAgUGFyc2VkIHJlZmVyZW5jZSB2YWx1ZSwgb3IgYGZhbHNlYCBpZiBub3RoaW5nIHdhcyBjb25zdW1lZCAodG8KICAgICAqICAgZGlzdGluZ3Vpc2ggZnJvbSBhIHJlZmVyZW5jZSB0aGF0IHJlc29sdmVzIHRvIGFuIGVtcHR5IHN0cmluZykuCiAgICAgKgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1SZWZlcmVuY2UKICAgICAqLwogICAgQygpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgaWYgKCFzY2FubmVyLmIoIiYiKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBsZXQgcmVmID0gc2Nhbm5lci52KGlzUmVmZXJlbmNlQ2hhcik7CiAgICAgIGlmIChzY2FubmVyLkYoKSAhPT0gIjsiKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJVbnRlcm1pbmF0ZWQgcmVmZXJlbmNlIChhIHJlZmVyZW5jZSBtdXN0IGVuZCB3aXRoIGA7YCkiKTsKICAgICAgfQogICAgICBsZXQgcGFyc2VkVmFsdWU7CiAgICAgIGlmIChyZWZbMF0gPT09ICIjIikgewogICAgICAgIGxldCBjb2RlUG9pbnQgPSByZWZbMV0gPT09ICJ4IiA/IHBhcnNlSW50KHJlZi5zbGljZSgyKSwgMTYpIDogcGFyc2VJbnQocmVmLnNsaWNlKDEpLCAxMCk7CiAgICAgICAgaWYgKGlzTmFOKGNvZGVQb2ludCkpIHsKICAgICAgICAgIHRocm93IHRoaXMuYSgiSW52YWxpZCBjaGFyYWN0ZXIgcmVmZXJlbmNlIik7CiAgICAgICAgfQogICAgICAgIGlmICghaXNYbWxDb2RlUG9pbnQoY29kZVBvaW50KSkgewogICAgICAgICAgdGhyb3cgdGhpcy5hKCJDaGFyYWN0ZXIgcmVmZXJlbmNlIHJlc29sdmVzIHRvIGFuIGludmFsaWQgY2hhcmFjdGVyIik7CiAgICAgICAgfQogICAgICAgIHBhcnNlZFZhbHVlID0gU3RyaW5nLmZyb21Db2RlUG9pbnQoY29kZVBvaW50KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJzZWRWYWx1ZSA9IHByZWRlZmluZWRFbnRpdGllc1tyZWZdOwogICAgICAgIGlmIChwYXJzZWRWYWx1ZSA9PT0gdm9pZCAwKSB7CiAgICAgICAgICBsZXQgewogICAgICAgICAgICBpZ25vcmVVbmRlZmluZWRFbnRpdGllcywKICAgICAgICAgICAgcmVzb2x2ZVVuZGVmaW5lZEVudGl0eQogICAgICAgICAgfSA9IHRoaXMuZjsKICAgICAgICAgIGxldCB3cmFwcGVkUmVmID0gYCYke3JlZn07YDsKICAgICAgICAgIGlmIChyZXNvbHZlVW5kZWZpbmVkRW50aXR5KSB7CiAgICAgICAgICAgIGxldCByZXNvbHZlZFZhbHVlID0gcmVzb2x2ZVVuZGVmaW5lZEVudGl0eSh3cmFwcGVkUmVmKTsKICAgICAgICAgICAgaWYgKHJlc29sdmVkVmFsdWUgIT09IG51bGwgJiYgcmVzb2x2ZWRWYWx1ZSAhPT0gdm9pZCAwKSB7CiAgICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlb2YgcmVzb2x2ZWRWYWx1ZTsKICAgICAgICAgICAgICBpZiAodHlwZSAhPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFxgcmVzb2x2ZVVuZGVmaW5lZEVudGl0eSgpXGAgbXVzdCByZXR1cm4gYSBzdHJpbmcsIFxgbnVsbFxgLCBvciBcYHVuZGVmaW5lZFxgLCBidXQgcmV0dXJuZWQgYSB2YWx1ZSBvZiB0eXBlICR7dHlwZX1gKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkVmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChpZ25vcmVVbmRlZmluZWRFbnRpdGllcykgewogICAgICAgICAgICByZXR1cm4gd3JhcHBlZFJlZjsKICAgICAgICAgIH0KICAgICAgICAgIHNjYW5uZXIubygtd3JhcHBlZFJlZi5sZW5ndGgpOwogICAgICAgICAgdGhyb3cgdGhpcy5hKGBOYW1lZCBlbnRpdHkgaXNuJ3QgZGVmaW5lZDogJHt3cmFwcGVkUmVmfWApOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gcGFyc2VkVmFsdWU7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN1bWVzIGEgYFN5c3RlbUxpdGVyYWxgIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEEgYFN5c3RlbUxpdGVyYWxgIGlzIHNpbWlsYXIgdG8gYW4gYXR0cmlidXRlIHZhbHVlLCBidXQgYWxsb3dzIHRoZQogICAgICogY2hhcmFjdGVycyBgPGAgYW5kIGAmYCBhbmQgZG9lc24ndCByZXBsYWNlIHJlZmVyZW5jZXMuCiAgICAgKgogICAgICogQHJldHVybnMKICAgICAqICAgVmFsdWUgb2YgdGhlIGBTeXN0ZW1MaXRlcmFsYCBtaW51cyBxdW90ZXMsIG9yIGBmYWxzZWAgaWYgbm90aGluZyB3YXMKICAgICAqICAgY29uc3VtZWQuIEFuIGVtcHR5IHN0cmluZyBpbmRpY2F0ZXMgdGhhdCBhIGBTeXN0ZW1MaXRlcmFsYCB3YXMgY29uc3VtZWQKICAgICAqICAgYnV0IHdhcyBlbXB0eS4KICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy14bWwtMjAwODExMjYvI05ULVN5c3RlbUxpdGVyYWwKICAgICAqLwogICAgcygpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgbGV0IHF1b3RlID0gc2Nhbm5lci5iKCciJykgfHwgc2Nhbm5lci5iKCInIik7CiAgICAgIGlmICghcXVvdGUpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgbGV0IHZhbHVlID0gc2Nhbm5lci50KHF1b3RlKTsKICAgICAgdGhpcy5wKHZhbHVlKTsKICAgICAgaWYgKCFzY2FubmVyLmIocXVvdGUpKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJNaXNzaW5nIGVuZCBxdW90ZSIpOwogICAgICB9CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ29uc3VtZXMgb25lIG9yIG1vcmUgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzIGlmIHBvc3NpYmxlLgogICAgICoKICAgICAqIEByZXR1cm5zIFdoZXRoZXIgYW55IHdoaXRlc3BhY2UgY2hhcmFjdGVycyB3ZXJlIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyN3aGl0ZQogICAgICovCiAgICBlKCkgewogICAgICByZXR1cm4gISF0aGlzLmMudihpc1doaXRlc3BhY2UpOwogICAgfQogICAgLyoqCiAgICAgKiBDb25zdW1lcyBhbiBYTUwgZGVjbGFyYXRpb24gaWYgcG9zc2libGUuCiAgICAgKgogICAgICogQHJldHVybnMgV2hldGhlciBhbiBYTUwgZGVjbGFyYXRpb24gd2FzIGNvbnN1bWVkLgogICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMteG1sLTIwMDgxMTI2LyNOVC1YTUxEZWNsCiAgICAgKi8KICAgIFAoKSB7CiAgICAgIGxldCB7IGM6IHNjYW5uZXIgfSA9IHRoaXM7CiAgICAgIGxldCBzdGFydEluZGV4ID0gc2Nhbm5lci5kOwogICAgICBpZiAoIXNjYW5uZXIuYigiPD94bWwiKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBpZiAoIXRoaXMuZSgpKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJJbnZhbGlkIFhNTCBkZWNsYXJhdGlvbiIpOwogICAgICB9CiAgICAgIGxldCB2ZXJzaW9uID0gISFzY2FubmVyLmIoInZlcnNpb24iKSAmJiB0aGlzLnUoKSAmJiB0aGlzLnMoKTsKICAgICAgaWYgKHZlcnNpb24gPT09IGZhbHNlKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJYTUwgdmVyc2lvbiBpcyBtaXNzaW5nIG9yIGludmFsaWQiKTsKICAgICAgfSBlbHNlIGlmICghL14xXC5bMC05XSskLy50ZXN0KHZlcnNpb24pKSB7CiAgICAgICAgdGhyb3cgdGhpcy5hKCJJbnZhbGlkIGNoYXJhY3RlciBpbiB2ZXJzaW9uIG51bWJlciIpOwogICAgICB9CiAgICAgIGxldCBlbmNvZGluZzsKICAgICAgbGV0IHN0YW5kYWxvbmU7CiAgICAgIGlmICh0aGlzLmUoKSkgewogICAgICAgIGVuY29kaW5nID0gISFzY2FubmVyLmIoImVuY29kaW5nIikgJiYgdGhpcy51KCkgJiYgdGhpcy5zKCk7CiAgICAgICAgaWYgKGVuY29kaW5nKSB7CiAgICAgICAgICB0aGlzLmUoKTsKICAgICAgICB9CiAgICAgICAgc3RhbmRhbG9uZSA9ICEhc2Nhbm5lci5iKCJzdGFuZGFsb25lIikgJiYgdGhpcy51KCkgJiYgdGhpcy5zKCk7CiAgICAgICAgaWYgKHN0YW5kYWxvbmUpIHsKICAgICAgICAgIGlmIChzdGFuZGFsb25lICE9PSAieWVzIiAmJiBzdGFuZGFsb25lICE9PSAibm8iKSB7CiAgICAgICAgICAgIHRocm93IHRoaXMuYSgnT25seSAieWVzIiBhbmQgIm5vIiBhcmUgcGVybWl0dGVkIGFzIHZhbHVlcyBvZiBgc3RhbmRhbG9uZWAnKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZSgpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIXNjYW5uZXIuYigiPz4iKSkgewogICAgICAgIHRocm93IHRoaXMuYSgiSW52YWxpZCBvciB1bmNsb3NlZCBYTUwgZGVjbGFyYXRpb24iKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5mLnByZXNlcnZlWG1sRGVjbGFyYXRpb24gPyB0aGlzLmoobmV3IFhtbERlY2xhcmF0aW9uKAogICAgICAgIHZlcnNpb24sCiAgICAgICAgZW5jb2RpbmcgfHwgdm9pZCAwLAogICAgICAgIHN0YW5kYWxvbmUgfHwgdm9pZCAwCiAgICAgICksIHN0YXJ0SW5kZXgpIDogdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhbiBgWG1sRXJyb3JgIGZvciB0aGUgY3VycmVudCBzY2FubmVyIHBvc2l0aW9uLgogICAgICovCiAgICBhKG1lc3NhZ2UpIHsKICAgICAgbGV0IHsgYzogc2Nhbm5lciB9ID0gdGhpczsKICAgICAgcmV0dXJuIG5ldyBYbWxFcnJvcihtZXNzYWdlLCBzY2FubmVyLmQsIHNjYW5uZXIubSk7CiAgICB9CiAgICAvKioKICAgICAqIFRocm93cyBhbiBpbnZhbGlkIGNoYXJhY3RlciBlcnJvciBpZiBhbnkgY2hhcmFjdGVyIGluIHRoZSBnaXZlbiBfc3RyaW5nXwogICAgICogaXNuJ3QgYSB2YWxpZCBYTUwgY2hhcmFjdGVyLgogICAgICovCiAgICBwKHN0cmluZykgewogICAgICBsZXQgeyBsZW5ndGggfSA9IHN0cmluZzsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkgewogICAgICAgIGxldCBjcCA9IHN0cmluZy5jb2RlUG9pbnRBdChpKTsKICAgICAgICBpZiAoIWlzWG1sQ29kZVBvaW50KGNwKSkgewogICAgICAgICAgdGhpcy5jLm8oLShbLi4uc3RyaW5nXS5sZW5ndGggLSBpKSk7CiAgICAgICAgICB0aHJvdyB0aGlzLmEoIkludmFsaWQgY2hhcmFjdGVyIik7CiAgICAgICAgfQogICAgICAgIGlmIChjcCA+IDY1NTM1KSB7CiAgICAgICAgICBpICs9IDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKICBmdW5jdGlvbiBub3JtYWxpemVMaW5lQnJlYWtzKHRleHQpIHsKICAgIGxldCBpID0gMDsKICAgIHdoaWxlICgoaSA9IHRleHQuaW5kZXhPZigiXHIiLCBpKSkgIT09IC0xKSB7CiAgICAgIHRleHQgPSB0ZXh0W2kgKyAxXSA9PT0gIlxuIiA/IHRleHQuc2xpY2UoMCwgaSkgKyB0ZXh0LnNsaWNlKGkgKyAxKSA6IHRleHQuc2xpY2UoMCwgaSkgKyAiXG4iICsgdGV4dC5zbGljZShpICsgMSk7CiAgICB9CiAgICByZXR1cm4gdGV4dDsKICB9CiAgZnVuY3Rpb24gcGFyc2VYbWwoeG1sLCBvcHRpb25zKSB7CiAgICByZXR1cm4gbmV3IFBhcnNlcih4bWwsIG9wdGlvbnMpLmRvY3VtZW50OwogIH0KICBjbGFzcyBYbWxQYXJzZUVycm9yIGV4dGVuZHMgRXJyb3IgewogICAgY29uc3RydWN0b3IobWVzc2FnZSkgewogICAgICBzdXBlcihtZXNzYWdlKTsKICAgIH0KICB9CiAgZnVuY3Rpb24gcGFyc2VYbWxTdHJpbmcoeG1sU3RyaW5nKSB7CiAgICBsZXQgZG9jID0gbnVsbDsKICAgIHRyeSB7CiAgICAgIGRvYyA9IGJyb3dzZXIucGFyc2VYbWwoeG1sU3RyaW5nKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdGhyb3cgbmV3IFhtbFBhcnNlRXJyb3IoZS5tZXNzYWdlKTsKICAgIH0KICAgIHJldHVybiBkb2M7CiAgfQogIGZ1bmN0aW9uIHN0cmlwTmFtZXNwYWNlKG5hbWUpIHsKICAgIGNvbnN0IGNvbG9uID0gbmFtZS5pbmRleE9mKCI6Iik7CiAgICByZXR1cm4gY29sb24gPiAtMSA/IG5hbWUuc3Vic3RyKGNvbG9uICsgMSkgOiBuYW1lOwogIH0KICBmdW5jdGlvbiBnZXRSb290RWxlbWVudCh4bWxEb2MpIHsKICAgIHJldHVybiB4bWxEb2MuY2hpbGRyZW5bMF07CiAgfQogIGZ1bmN0aW9uIGdldEVsZW1lbnROYW1lKGVsZW1lbnQpIHsKICAgIHJldHVybiBlbGVtZW50Lm5hbWUgfHwgIiI7CiAgfQogIGZ1bmN0aW9uIGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgbmFtZSwgbmVzdGVkID0gZmFsc2UpIHsKICAgIGNvbnN0IHN0cmlwcGVkTmFtZSA9IHN0cmlwTmFtZXNwYWNlKG5hbWUpOwogICAgZnVuY3Rpb24gcmVkdWNlcihwcmV2LCBjdXJyKSB7CiAgICAgIGlmIChzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShjdXJyKSkgPT09IHN0cmlwcGVkTmFtZSkgewogICAgICAgIHByZXYucHVzaChjdXJyKTsKICAgICAgfQogICAgICBpZiAobmVzdGVkICYmIEFycmF5LmlzQXJyYXkoY3Vyci5jaGlsZHJlbikpIHsKICAgICAgICByZXR1cm4gWy4uLnByZXYsIC4uLmN1cnIuY2hpbGRyZW4ucmVkdWNlKHJlZHVjZXIsIFtdKV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHByZXY7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBlbGVtZW50ICYmIEFycmF5LmlzQXJyYXkoZWxlbWVudC5jaGlsZHJlbikgPyBlbGVtZW50LmNoaWxkcmVuLnJlZHVjZShyZWR1Y2VyLCBbXSkgOiBbXTsKICB9CiAgZnVuY3Rpb24gZmluZENoaWxkRWxlbWVudChlbGVtZW50LCBuYW1lLCBuZXN0ZWQgPSBmYWxzZSkgewogICAgcmV0dXJuIGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgbmFtZSwgbmVzdGVkKVswXSB8fCBudWxsOwogIH0KICBmdW5jdGlvbiBnZXRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQgJiYgQXJyYXkuaXNBcnJheShlbGVtZW50LmNoaWxkcmVuKSA/IFsKICAgICAgLi4uZWxlbWVudC5jaGlsZHJlbi5maWx0ZXIoCiAgICAgICAgKGVsKSA9PiBlbCBpbnN0YW5jZW9mIGJyb3dzZXIuWG1sRWxlbWVudAogICAgICApCiAgICBdIDogW107CiAgfQogIGZ1bmN0aW9uIGdldEVsZW1lbnRUZXh0KGVsZW1lbnQpIHsKICAgIGNvbnN0IHRleHROb2RlID0gZWxlbWVudCAmJiBBcnJheS5pc0FycmF5KGVsZW1lbnQuY2hpbGRyZW4pID8gZWxlbWVudC5jaGlsZHJlbi5maW5kKChub2RlKSA9PiBub2RlLnR5cGUgPT09ICJ0ZXh0IikgOiBudWxsOwogICAgcmV0dXJuIHRleHROb2RlID8gdGV4dE5vZGUudGV4dCA6ICIiOwogIH0KICBmdW5jdGlvbiBnZXRFbGVtZW50QXR0cmlidXRlKGVsZW1lbnQsIGF0dHJOYW1lKSB7CiAgICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50LmF0dHJpYnV0ZXNbYXR0ck5hbWVdIHx8ICIiOwogIH0KICBjbGFzcyBFbmRwb2ludEVycm9yIGV4dGVuZHMgRXJyb3IgewogICAgY29uc3RydWN0b3IobWVzc2FnZSwgaHR0cFN0YXR1cywgaXNDcm9zc09yaWdpblJlbGF0ZWQpIHsKICAgICAgc3VwZXIobWVzc2FnZSk7CiAgICAgIHRoaXMuaHR0cFN0YXR1cyA9IGh0dHBTdGF0dXM7CiAgICAgIHRoaXMuaXNDcm9zc09yaWdpblJlbGF0ZWQgPSBpc0Nyb3NzT3JpZ2luUmVsYXRlZDsKICAgICAgdGhpcy5uYW1lID0gIkVuZHBvaW50RXJyb3IiOwogICAgfQogIH0KICBjbGFzcyBTZXJ2aWNlRXhjZXB0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7CiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yCiAgICAgKiBAcGFyYW0gbWVzc2FnZSBFcnJvciBtZXNzYWdlCiAgICAgKiBAcGFyYW0gcmVxdWVzdFVybCBVUkwgd2hpY2ggcmVzdWx0ZWQgaW4gdGhlIFNlcnZpY2VFeGNlcHRpb24KICAgICAqIEBwYXJhbSBjb2RlIE9wdGlvbmFsIFNlcnZpY2VFeGNlcHRpb24gY29kZQogICAgICogQHBhcmFtIGxvY2F0b3IgT3B0aW9uYWwgU2VydmljZUV4Y2VwdGlvbiBsb2NhdG9yCiAgICAgKiBAcGFyYW0gcmVzcG9uc2UgT3B0aW9uYWwgcmVzcG9uc2UgY29udGVudCByZWNlaXZlZAogICAgICovCiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZXF1ZXN0VXJsLCBjb2RlLCBsb2NhdG9yLCByZXNwb25zZSkgewogICAgICBzdXBlcihtZXNzYWdlKTsKICAgICAgdGhpcy5yZXF1ZXN0VXJsID0gcmVxdWVzdFVybDsKICAgICAgdGhpcy5jb2RlID0gY29kZTsKICAgICAgdGhpcy5sb2NhdG9yID0gbG9jYXRvcjsKICAgICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlOwogICAgICB0aGlzLm5hbWUgPSAiU2VydmljZUV4Y2VwdGlvbkVycm9yIjsKICAgIH0KICB9CiAgZnVuY3Rpb24gcGFyc2Uoc2VydmljZUV4Y2VwdGlvbiwgdXJsKSB7CiAgICBjb25zdCBlcnJvckNvZGUgPSBnZXRFbGVtZW50QXR0cmlidXRlKHNlcnZpY2VFeGNlcHRpb24sICJjb2RlIikgfHwgZ2V0RWxlbWVudEF0dHJpYnV0ZShzZXJ2aWNlRXhjZXB0aW9uLCAiZXhjZXB0aW9uQ29kZSIpOwogICAgY29uc3QgZXJyb3JMb2NhdG9yID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShzZXJ2aWNlRXhjZXB0aW9uLCAibG9jYXRvciIpOwogICAgY29uc3QgdGV4dEVsZW1lbnQgPSBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2VFeGNlcHRpb24sICJFeGNlcHRpb25UZXh0IikgfHwgc2VydmljZUV4Y2VwdGlvbjsKICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGdldEVsZW1lbnRUZXh0KHRleHRFbGVtZW50KS50cmltKCk7CiAgICByZXR1cm4gbmV3IFNlcnZpY2VFeGNlcHRpb25FcnJvcigKICAgICAgZXJyb3JNZXNzYWdlLAogICAgICB1cmwsCiAgICAgIGVycm9yQ29kZSwKICAgICAgZXJyb3JMb2NhdG9yLAogICAgICBzZXJ2aWNlRXhjZXB0aW9uLmRvY3VtZW50CiAgICApOwogIH0KICBmdW5jdGlvbiBjaGVjayhyZXNwb25zZSwgdXJsKSB7CiAgICBjb25zdCByb290RWwgPSBnZXRSb290RWxlbWVudChyZXNwb25zZSk7CiAgICBjb25zdCByb290RWxOYW1lID0gc3RyaXBOYW1lc3BhY2UoZ2V0RWxlbWVudE5hbWUocm9vdEVsKSk7CiAgICBpZiAocm9vdEVsTmFtZSA9PT0gIlNlcnZpY2VFeGNlcHRpb25SZXBvcnQiKSB7CiAgICAgIGNvbnN0IGVycm9yID0gZmluZENoaWxkRWxlbWVudChyb290RWwsICJTZXJ2aWNlRXhjZXB0aW9uIik7CiAgICAgIGlmIChlcnJvcikgewogICAgICAgIHRocm93IHBhcnNlKGVycm9yLCB1cmwpOwogICAgICB9CiAgICB9CiAgICBpZiAocm9vdEVsTmFtZSA9PT0gIkV4Y2VwdGlvblJlcG9ydCIpIHsKICAgICAgY29uc3QgZXJyb3IgPSBmaW5kQ2hpbGRFbGVtZW50KHJvb3RFbCwgIkV4Y2VwdGlvbiIpOwogICAgICBpZiAoZXJyb3IpIHsKICAgICAgICB0aHJvdyBwYXJzZShlcnJvciwgdXJsKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0KICBmdW5jdGlvbiBlbmNvZGVFcnJvcihlcnJvcikgewogICAgY29uc3QgYmFzZSA9IHsKICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLAogICAgICBuYW1lOiBlcnJvci5uYW1lCiAgICB9OwogICAgaWYgKGVycm9yIGluc3RhbmNlb2YgU2VydmljZUV4Y2VwdGlvbkVycm9yKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgLi4uYmFzZSwKICAgICAgICBjb2RlOiBlcnJvci5jb2RlLAogICAgICAgIGxvY2F0b3I6IGVycm9yLmxvY2F0b3IsCiAgICAgICAgcmVzcG9uc2U6IGVycm9yLnJlc3BvbnNlLAogICAgICAgIHJlcXVlc3RVcmw6IGVycm9yLnJlcXVlc3RVcmwKICAgICAgfTsKICAgIH0KICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVuZHBvaW50RXJyb3IpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAuLi5iYXNlLAogICAgICAgIGh0dHBTdGF0dXM6IGVycm9yLmh0dHBTdGF0dXMsCiAgICAgICAgaXNDcm9zc09yaWdpblJlbGF0ZWQ6IGVycm9yLmlzQ3Jvc3NPcmlnaW5SZWxhdGVkCiAgICAgIH07CiAgICB9CiAgICByZXR1cm4gYmFzZTsKICB9CiAgZnVuY3Rpb24gYWRkVGFza0hhbmRsZXIodGFza05hbWUsIHNjb3BlLCBoYW5kbGVyKSB7CiAgICBjb25zdCB1c2VXb3JrZXIgPSB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICJ1bmRlZmluZWQiOwogICAgY29uc3QgZXZlbnRIYW5kbGVyID0gYXN5bmMgKHJlcXVlc3QpID0+IHsKICAgICAgaWYgKHJlcXVlc3QudGFza05hbWUgPT09IHRhc2tOYW1lKSB7CiAgICAgICAgbGV0IHJlc3BvbnNlLCBlcnJvcjsKICAgICAgICB0cnkgewogICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVyKHJlcXVlc3QucGFyYW1zKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBlcnJvciA9IGVuY29kZUVycm9yKGUpOwogICAgICAgIH0KICAgICAgICBjb25zdCBtZXNzYWdlID0gKAogICAgICAgICAgLyoqIEB0eXBlIHtXb3JrZXJSZXNwb25zZX0gKi8KICAgICAgICAgIHsKICAgICAgICAgICAgdGFza05hbWUsCiAgICAgICAgICAgIHJlcXVlc3RJZDogcmVxdWVzdC5yZXF1ZXN0SWQsCiAgICAgICAgICAgIC4uLnJlc3BvbnNlICYmIHsgcmVzcG9uc2UgfSwKICAgICAgICAgICAgLi4uZXJyb3IgJiYgeyBlcnJvciB9CiAgICAgICAgICB9CiAgICAgICAgKTsKICAgICAgICBpZiAodXNlV29ya2VyKSB7CiAgICAgICAgICBzY29wZS5wb3N0TWVzc2FnZShtZXNzYWdlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudCgKICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KCJvZ2MtY2xpZW50LnJlc3BvbnNlIiwgewogICAgICAgICAgICAgIGRldGFpbDogbWVzc2FnZQogICAgICAgICAgICB9KQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICBpZiAodXNlV29ya2VyKSB7CiAgICAgIHNjb3BlLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCAoZXZlbnQpID0+IGV2ZW50SGFuZGxlcihldmVudC5kYXRhKSk7CiAgICB9IGVsc2UgewogICAgICBzY29wZS5hZGRFdmVudExpc3RlbmVyKAogICAgICAgICJvZ2MtY2xpZW50LnJlcXVlc3QiLAogICAgICAgIChldmVudCkgPT4gZXZlbnRIYW5kbGVyKGV2ZW50LmRldGFpbCkKICAgICAgKTsKICAgIH0KICB9CiAgY29uc3QgRU5DT0RJTkdTID0gWyJ1dGYtOCIsICJ1dGYtMTYiLCAiaXNvLTg4NTktMSJdOwogIGNvbnN0IEZBTExCQUNLX0VOQ09ESU5HID0gInV0Zi04IjsKICBmdW5jdGlvbiBleHRyYWN0RW5jb2RpbmcoY29udGVudFR5cGUpIHsKICAgIGNvbnN0IG1hdGNoZXMgPSAvY2hhcnNldD0oW147XSspLy5leGVjKGNvbnRlbnRUeXBlKTsKICAgIHJldHVybiBtYXRjaGVzID8gbWF0Y2hlc1sxXSA6IG51bGw7CiAgfQogIGZ1bmN0aW9uIGRlY29kZVN0cmluZyhidWZmZXIsIGNvbnRlbnRUeXBlKSB7CiAgICBjb25zdCBlbmNvZGluZ0hpbnQgPSBjb250ZW50VHlwZSA/IGV4dHJhY3RFbmNvZGluZyhjb250ZW50VHlwZSkgOiBudWxsOwogICAgY29uc3QgZW5jb2RpbmdBdHRlbXB0cyA9IGVuY29kaW5nSGludCA/IFtlbmNvZGluZ0hpbnQsIC4uLkVOQ09ESU5HU10gOiBFTkNPRElOR1M7CiAgICBmb3IgKGNvbnN0IGVuY29kaW5nIG9mIGVuY29kaW5nQXR0ZW1wdHMpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKGVuY29kaW5nLCB7IGZhdGFsOiB0cnVlIH0pOwogICAgICAgIHJldHVybiBkZWNvZGVyLmRlY29kZShidWZmZXIpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgIH0KICAgIH0KICAgIGNvbnNvbGUud2FybigKICAgICAgYFtvZ2MtY2xpZW50XSBYTUwgZG9jdW1lbnQgZW5jb2RpbmcgY291bGQgbm90IGJlIGRldGVybWluZWQsIGZhbGxpbmcgYmFjayB0byAke0ZBTExCQUNLX0VOQ09ESU5HfS5gCiAgICApOwogICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcihGQUxMQkFDS19FTkNPRElORykuZGVjb2RlKGJ1ZmZlcik7CiAgfQogIGNvbnN0IGZldGNoUHJvbWlzZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpOwogIGxldCBmZXRjaE9wdGlvbnMgPSB7fTsKICBmdW5jdGlvbiBzZXRGZXRjaE9wdGlvbnMob3B0aW9ucykgewogICAgZmV0Y2hPcHRpb25zID0gb3B0aW9uczsKICB9CiAgZnVuY3Rpb24gZ2V0RmV0Y2hPcHRpb25zKCkgewogICAgcmV0dXJuIGZldGNoT3B0aW9uczsKICB9CiAgZnVuY3Rpb24gc2hhcmVkRmV0Y2godXJsLCBtZXRob2QgPSAiR0VUIiwgYXNKc29uKSB7CiAgICBsZXQgZmV0Y2hLZXkgPSBgJHttZXRob2R9IyR7dXJsfWA7CiAgICBpZiAoYXNKc29uKSB7CiAgICAgIGZldGNoS2V5ID0gYCR7bWV0aG9kfSNhc0pzb24jJHt1cmx9YDsKICAgIH0KICAgIGlmIChmZXRjaFByb21pc2VzLmhhcyhmZXRjaEtleSkpIHsKICAgICAgcmV0dXJuIGZldGNoUHJvbWlzZXMuZ2V0KGZldGNoS2V5KTsKICAgIH0KICAgIGNvbnN0IG9wdGlvbnMgPSB7IC4uLmdldEZldGNoT3B0aW9ucygpIH07CiAgICBvcHRpb25zLm1ldGhvZCA9IG1ldGhvZDsKICAgIGlmIChhc0pzb24pIHsKICAgICAgb3B0aW9ucy5oZWFkZXJzID0gImhlYWRlcnMiIGluIG9wdGlvbnMgPyBvcHRpb25zLmhlYWRlcnMgOiB7fTsKICAgICAgb3B0aW9ucy5oZWFkZXJzWyJBY2NlcHQiXSA9ICJhcHBsaWNhdGlvbi9qc29uIjsKICAgIH0KICAgIGNvbnN0IHByb21pc2UgPSBmZXRjaCh1cmwsIG9wdGlvbnMpLmNhdGNoKChlKSA9PiBlKS50aGVuKChyZXNwKSA9PiB7CiAgICAgIGZldGNoUHJvbWlzZXMuZGVsZXRlKGZldGNoS2V5KTsKICAgICAgcmV0dXJuIHJlc3A7CiAgICB9KTsKICAgIGZldGNoUHJvbWlzZXMuc2V0KGZldGNoS2V5LCBwcm9taXNlKTsKICAgIHJldHVybiBwcm9taXNlLnRoZW4oKHJlc3ApID0+IHsKICAgICAgaWYgKHJlc3AgaW5zdGFuY2VvZiBFcnJvcikKICAgICAgICB0aHJvdyByZXNwOwogICAgICByZXR1cm4gcmVzcC5jbG9uZSgpOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHF1ZXJ5WG1sRG9jdW1lbnQodXJsKSB7CiAgICByZXR1cm4gc2hhcmVkRmV0Y2godXJsKS5jYXRjaCgKICAgICAgKCkgPT4gKAogICAgICAgIC8vIGF0dGVtcHQgYSBIRUFEIHRvIHNlZSBpZiB0aGUgZmFpbHVyZSBjb21lcyBmcm9tIENPUlMgb3IgdGhlIHNlcnZpY2UgaXMgZ2VuZXJhbGx5IHVucmVhY2hhYmxlCiAgICAgICAgZmV0Y2godXJsLCB7IC4uLmdldEZldGNoT3B0aW9ucygpLCBtZXRob2Q6ICJIRUFEIiwgbW9kZTogIm5vLWNvcnMiIH0pLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoCiAgICAgICAgICAgIGBGZXRjaGluZyB0aGUgZG9jdW1lbnQgZmFpbGVkIGVpdGhlciBkdWUgdG8gbmV0d29yayBlcnJvcnMgb3IgdW5yZWFjaGFibGUgaG9zdCwgZXJyb3IgaXM6ICR7ZXJyb3IubWVzc2FnZX1gLAogICAgICAgICAgICAwLAogICAgICAgICAgICBmYWxzZQogICAgICAgICAgKTsKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKAogICAgICAgICAgICBgVGhlIGRvY3VtZW50IGNvdWxkIG5vdCBiZSBmZXRjaGVkIGR1ZSB0byBDT1JTIGxpbWl0YXRpb25zYCwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgdHJ1ZQogICAgICAgICAgKTsKICAgICAgICB9KQogICAgICApCiAgICApLnRoZW4oYXN5bmMgKHJlc3ApID0+IHsKICAgICAgaWYgKCFyZXNwLm9rKSB7CiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3AudGV4dCgpOwogICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKAogICAgICAgICAgYFJlY2VpdmVkIGFuIGVycm9yIHdpdGggY29kZSAke3Jlc3Auc3RhdHVzfTogJHt0ZXh0fWAsCiAgICAgICAgICByZXNwLnN0YXR1cywKICAgICAgICAgIGZhbHNlCiAgICAgICAgKTsKICAgICAgfQogICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCByZXNwLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGNvbnRlbnRUeXBlSGVhZGVyID0gcmVzcC5oZWFkZXJzLmdldCgiQ29udGVudC1UeXBlIik7CiAgICAgIHJldHVybiBkZWNvZGVTdHJpbmcoYnVmZmVyLCBjb250ZW50VHlwZUhlYWRlcik7CiAgICB9KS50aGVuKCh4bWwpID0+IHBhcnNlWG1sU3RyaW5nKHhtbCkpOwogIH0KICBmdW5jdGlvbiBzZXRRdWVyeVBhcmFtcyh1cmwsIHBhcmFtcykgewogICAgY29uc3QgZW5jb2RlZFVybE1hdGNoID0gdXJsLm1hdGNoKC8oaHR0cHM/JTNBJTJGJTJGW14vXSspJC8pOwogICAgaWYgKGVuY29kZWRVcmxNYXRjaCkgewogICAgICBjb25zdCBlbmNvZGVkVXJsID0gZW5jb2RlZFVybE1hdGNoWzFdOwogICAgICBjb25zdCBtb2RpZmllZFVybCA9IHNldFF1ZXJ5UGFyYW1zKGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkVXJsKSwgcGFyYW1zKTsKICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKGVuY29kZWRVcmwsIGVuY29kZVVSSUNvbXBvbmVudChtb2RpZmllZFVybCkpOwogICAgfQogICAgY29uc3QgdXJsT2JqID0gbmV3IFVSTCh1cmwpOwogICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHBhcmFtcyk7CiAgICBjb25zdCBrZXlzTG93ZXIgPSBrZXlzLm1hcCgoa2V5KSA9PiBrZXkudG9Mb3dlckNhc2UoKSk7CiAgICBjb25zdCB0b0RlbGV0ZSA9IFtdOwogICAgZm9yIChjb25zdCBwYXJhbSBvZiB1cmxPYmouc2VhcmNoUGFyYW1zLmtleXMoKSkgewogICAgICBpZiAoa2V5c0xvd2VyLmluZGV4T2YocGFyYW0udG9Mb3dlckNhc2UoKSkgPiAtMSkgewogICAgICAgIHRvRGVsZXRlLnB1c2gocGFyYW0pOwogICAgICB9CiAgICB9CiAgICB0b0RlbGV0ZS5tYXAoKHBhcmFtKSA9PiB1cmxPYmouc2VhcmNoUGFyYW1zLmRlbGV0ZShwYXJhbSkpOwogICAga2V5cy5mb3JFYWNoKAogICAgICAoa2V5KSA9PiB1cmxPYmouc2VhcmNoUGFyYW1zLnNldCgKICAgICAgICBrZXksCiAgICAgICAgcGFyYW1zW2tleV0gPT09IHRydWUgPyAiIiA6IHBhcmFtc1trZXldCiAgICAgICkKICAgICk7CiAgICByZXR1cm4gdXJsT2JqLnRvU3RyaW5nKCk7CiAgfQogIGNvbnN0IExhdExvbkNyc0xpc3QgPSBbCiAgICAiRVBTRzo0MDQ2IiwKICAgIC8vIFJHUkRDIDIwMDUKICAgICJFUFNHOjQwNzUiLAogICAgLy8gU1JFRjk4CiAgICAiRVBTRzo0MTIwIiwKICAgIC8vIEdyZWVrCiAgICAiRVBTRzo0MTIyIiwKICAgIC8vIEFUUzc3CiAgICAiRVBTRzo0MTI0IiwKICAgIC8vIFJUOTAKICAgICJFUFNHOjQxMjYiLAogICAgLy8gTEtTOTQgKEVUUlM4OSkKICAgICJFUFNHOjQxNDkiLAogICAgLy8gQ0gxOTAzCiAgICAiRVBTRzo0MTUxIiwKICAgIC8vIENIVFJGOTUKICAgICJFUFNHOjQxNTMiLAogICAgLy8gUmFzc2FkaXJhbgogICAgIkVQU0c6NDE1NSIsCiAgICAvLyBEYWJvbGEgMTk4MQogICAgIkVQU0c6NDE1NyIsCiAgICAvLyBNb3VudCBEaWxsb24KICAgICJFUFNHOjQxNTkiLAogICAgLy8gRUxENzkKICAgICJFUFNHOjQxNjEiLAogICAgLy8gUGFtcGEgZGVsIENhc3RpbGxvCiAgICAiRVBTRzo0MTYzIiwKICAgIC8vIFllbWVuIE5HTjk2CiAgICAiRVBTRzo0MTY1IiwKICAgIC8vIEJpc3NhdQogICAgIkVQU0c6NDE2NyIsCiAgICAvLyBOWkdEMjAwMAogICAgIkVQU0c6NDE2OSIsCiAgICAvLyBBbWVyaWNhbiBTYW1vYSAxOTYyCiAgICAiRVBTRzo0MTcxIiwKICAgIC8vIFJHRjkzCiAgICAiRVBTRzo0MTczIiwKICAgIC8vIElSRU5FVDk1CiAgICAiRVBTRzo0MTc1IiwKICAgIC8vIFNpZXJyYSBMZW9uZSAxOTY4CiAgICAiRVBTRzo0MTc4IiwKICAgIC8vIFB1bGtvdm8gMTk0Mig4MykKICAgICJFUFNHOjQxODAiLAogICAgLy8gRVNUOTcKICAgICJFUFNHOjQxODIiLAogICAgLy8gQXpvcmVzIE9jY2lkZW50YWwgMTkzOQogICAgIkVQU0c6NDE4NCIsCiAgICAvLyBBem9yZXMgT3JpZW50YWwgMTk0MAogICAgIkVQU0c6NDE4OCIsCiAgICAvLyBPU05JIDE5NTIKICAgICJFUFNHOjQxOTAiLAogICAgLy8gUE9TR0FSIDk4CiAgICAiRVBTRzo0MTkxIiwKICAgIC8vIEFsYmFuaWFuIDE5ODcKICAgICJFUFNHOjQxOTYiLAogICAgLy8gQW1tYXNzYWxpayAxOTU4CiAgICAiRVBTRzo0MTk4IiwKICAgIC8vIEtvdXNzZXJpCiAgICAiRVBTRzo0MjAyIiwKICAgIC8vIEFHRDY2CiAgICAiRVBTRzo0MjEwIiwKICAgIC8vIEFyYyAxOTYwCiAgICAiRVBTRzo0MjExIiwKICAgIC8vIEJhdGF2aWEKICAgICJFUFNHOjQyMTQiLAogICAgLy8gQmVpamluZyAxOTU0CiAgICAiRVBTRzo0MjI2IiwKICAgIC8vIENvdGUgZCdJdm9pcmUKICAgICJFUFNHOjQyMjkiLAogICAgLy8gRWd5cHQgMTkwNwogICAgIkVQU0c6NDIzMSIsCiAgICAvLyBFRDg3CiAgICAiRVBTRzo0MjMzIiwKICAgIC8vIEdhbmRhamlrYSAxOTcwCiAgICAiRVBTRzo0MjM2IiwKICAgIC8vIEh1IFR6dSBTaGFuIDE5NTAKICAgICJFUFNHOjQyMzgiLAogICAgLy8gSUQ3NAogICAgIkVQU0c6NDI0MCIsCiAgICAvLyBJbmRpYW4gMTk3NQogICAgIkVQU0c6NDI0MiIsCiAgICAvLyBKQUQ2OQogICAgIkVQU0c6NDI0NCIsCiAgICAvLyBLYW5kYXdhbGEKICAgICJFUFNHOjQyNDYiLAogICAgLy8gS09DCiAgICAiRVBTRzo0MjQ4IiwKICAgIC8vIFBTQUQ1NgogICAgIkVQU0c6NDI1MCIsCiAgICAvLyBMZWlnb24KICAgICJFUFNHOjQyNTIiLAogICAgLy8gTG9tZQogICAgIkVQU0c6NDI1NSIsCiAgICAvLyBIZXJhdCBOb3J0aAogICAgIkVQU0c6NDI1OCIsCiAgICAvLyBFVFJTODkKICAgICJFUFNHOjQyNjEiLAogICAgLy8gTWVyY2hpY2gKICAgICJFUFNHOjQyNjQiLAogICAgLy8gTWhhc3QKICAgICJFUFNHOjQyNjciLAogICAgLy8gTkFEMjcKICAgICJFUFNHOjQyNzAiLAogICAgLy8gTmFocndhbiAxOTY3CiAgICAiRVBTRzo0MjczIiwKICAgIC8vIE5HTyAxOTQ4CiAgICAiRVBTRzo0Mjc2IiwKICAgIC8vIE5TV0MgOVotMgogICAgIkVQU0c6NDI3OSIsCiAgICAvLyBPUyhTTik4MAogICAgIkVQU0c6NDI4MSIsCiAgICAvLyBQYWxlc3RpbmUgMTkyMwogICAgIkVQU0c6NDI4NCIsCiAgICAvLyBQdWxrb3ZvIDE5NDIKICAgICJFUFNHOjQyODYiLAogICAgLy8gUWF0YXIgMTk0OAogICAgIkVQU0c6NDI4OCIsCiAgICAvLyBMb21hIFF1aW50YW5hCiAgICAiRVBTRzo0MjkyIiwKICAgIC8vIFNhcHBlciBIaWxsIDE5NDMKICAgICJFUFNHOjQyOTUiLAogICAgLy8gU2VyaW5kdW5nCiAgICAiRVBTRzo0Mjk3IiwKICAgIC8vIFRhbmFuYXJpdmUKICAgICJFUFNHOjQyOTkiLAogICAgLy8gVE02NQogICAgIkVQU0c6NDMwMiIsCiAgICAvLyBUcmluaWRhZCAxOTAzCiAgICAiRVBTRzo0MzI0IiwKICAgIC8vIFdHUyA3MkJFCiAgICAiRVBTRzo0MzI2IgogICAgLy8gV0dTIDg0CiAgXTsKICBmdW5jdGlvbiBoYXNJbnZlcnRlZENvb3JkaW5hdGVzKGNyc05hbWUpIHsKICAgIHJldHVybiBMYXRMb25DcnNMaXN0LmluZGV4T2Yoc2ltcGxpZnlFcHNnVXJuKGNyc05hbWUpKSA+IC0xOwogIH0KICBmdW5jdGlvbiBzaW1wbGlmeUVwc2dVcm4oZnVsbENyc05hbWUpIHsKICAgIGlmICgvXnVybjooPzp4LSk/b2djOmRlZjpjcnM6ZXBzZzovLnRlc3QoZnVsbENyc05hbWUudG9Mb3dlckNhc2UoKSkpIHsKICAgICAgY29uc3QgY29kZSA9IC8oWzAtOV0rKSQvLmV4ZWMoZnVsbENyc05hbWUpWzFdOwogICAgICByZXR1cm4gYEVQU0c6JHtjb2RlfWA7CiAgICB9CiAgICByZXR1cm4gZnVsbENyc05hbWU7CiAgfQogIGZ1bmN0aW9uIHJlYWRPcGVyYXRpb25VcmxzRnJvbUNhcGFiaWxpdGllcyQxKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgdXJscyA9IHt9OwogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIGNvbnN0IHJlcXVlc3QgPSBmaW5kQ2hpbGRFbGVtZW50KGNhcGFiaWxpdHksICJSZXF1ZXN0Iik7CiAgICBnZXRDaGlsZHJlbkVsZW1lbnQocmVxdWVzdCkuZm9yRWFjaCgob3BlcmF0aW9uKSA9PiB7CiAgICAgIGNvbnN0IG9wZXJhdGlvbk5hbWUgPSBzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShvcGVyYXRpb24pKTsKICAgICAgdXJsc1tvcGVyYXRpb25OYW1lXSA9IHBhcnNlT3BlcmF0aW9uKG9wZXJhdGlvbik7CiAgICB9KTsKICAgIHJldHVybiB1cmxzOwogIH0KICBmdW5jdGlvbiByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIHJldHVybiBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLmF0dHJpYnV0ZXNbInZlcnNpb24iXTsKICB9CiAgZnVuY3Rpb24gcmVhZExheWVyc0Zyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIHJldHVybiBmaW5kQ2hpbGRyZW5FbGVtZW50KGNhcGFiaWxpdHksICJMYXllciIpLm1hcCgKICAgICAgKGxheWVyRWwpID0+IHBhcnNlTGF5ZXIobGF5ZXJFbCwgdmVyc2lvbikKICAgICk7CiAgfQogIGZ1bmN0aW9uIHJlYWRPdXRwdXRGb3JtYXRzRnJvbUNhcGFiaWxpdGllcyQxKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIGNvbnN0IGdldE1hcCA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY2FwYWJpbGl0eSwgIlJlcXVlc3QiKSwKICAgICAgIkdldE1hcCIKICAgICk7CiAgICBjb25zdCBvdXRwdXRGb3JtYXRzID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRNYXAsICJGb3JtYXQiKS5tYXAoCiAgICAgIGdldEVsZW1lbnRUZXh0CiAgICApOwogICAgcmV0dXJuIG91dHB1dEZvcm1hdHM7CiAgfQogIGZ1bmN0aW9uIHJlYWRJbmZvRm9ybWF0c0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBjb25zdCBjYXBhYmlsaXR5ID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIkNhcGFiaWxpdHkiCiAgICApOwogICAgY29uc3QgZ2V0RmVhdHVyZUluZm8gPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KGNhcGFiaWxpdHksICJSZXF1ZXN0IiksCiAgICAgICJHZXRGZWF0dXJlSW5mbyIKICAgICk7CiAgICBjb25zdCBvdXRwdXRGb3JtYXRzID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRGZWF0dXJlSW5mbywgIkZvcm1hdCIpLm1hcCgKICAgICAgZ2V0RWxlbWVudFRleHQKICAgICk7CiAgICByZXR1cm4gb3V0cHV0Rm9ybWF0czsKICB9CiAgZnVuY3Rpb24gcmVhZEV4Y2VwdGlvbkZvcm1hdHNGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgIGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksCiAgICAgICJDYXBhYmlsaXR5IgogICAgKTsKICAgIGNvbnN0IGV4Y2VwdGlvbiA9IGZpbmRDaGlsZEVsZW1lbnQoY2FwYWJpbGl0eSwgIkV4Y2VwdGlvbiIpOwogICAgY29uc3QgZXhjZXB0aW9uRm9ybWF0cyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoZXhjZXB0aW9uLCAiRm9ybWF0IikubWFwKAogICAgICBnZXRFbGVtZW50VGV4dAogICAgKTsKICAgIHJldHVybiBleGNlcHRpb25Gb3JtYXRzOwogIH0KICBmdW5jdGlvbiByZWFkSW5mb0Zyb21DYXBhYmlsaXRpZXMkMihjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHNlcnZpY2UgPSBmaW5kQ2hpbGRFbGVtZW50KGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksICJTZXJ2aWNlIik7CiAgICBjb25zdCBvdXRwdXRGb3JtYXRzID0gcmVhZE91dHB1dEZvcm1hdHNGcm9tQ2FwYWJpbGl0aWVzJDEoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IGluZm9Gb3JtYXRzID0gcmVhZEluZm9Gb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3QgZXhjZXB0aW9uRm9ybWF0cyA9IHJlYWRFeGNlcHRpb25Gb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3Qga2V5d29yZHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJLZXl3b3JkTGlzdCIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KS5maWx0ZXIoKHYsIGksIGFycikgPT4gYXJyLmluZGV4T2YodikgPT09IGkpOwogICAgY29uc3QgcHJvdmlkZXIgPSByZWFkUHJvdmlkZXJGcm9tQ2FwYWJpbGl0aWVzJDEoY2FwYWJpbGl0aWVzRG9jKTsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJUaXRsZSIpKSwKICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiTmFtZSIpKSwKICAgICAgYWJzdHJhY3Q6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkFic3RyYWN0IikpLAogICAgICBvdXRwdXRGb3JtYXRzLAogICAgICBpbmZvRm9ybWF0cywKICAgICAgZXhjZXB0aW9uRm9ybWF0cywKICAgICAgZmVlczogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiRmVlcyIpKSwKICAgICAgY29uc3RyYWludHM6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkFjY2Vzc0NvbnN0cmFpbnRzIikpLAogICAgICBwcm92aWRlciwKICAgICAga2V5d29yZHMKICAgIH07CiAgfQogIGZ1bmN0aW9uIHBhcnNlT3BlcmF0aW9uKG9wZXJhdGlvbikgewogICAgY29uc3QgdXJscyA9IHt9OwogICAgY29uc3QgZGNwVHlwZSA9IGZpbmRDaGlsZHJlbkVsZW1lbnQob3BlcmF0aW9uLCAiRENQVHlwZSIpOwogICAgY29uc3QgaHR0cCA9IGRjcFR5cGUuZmxhdE1hcCgoZCkgPT4gZmluZENoaWxkRWxlbWVudChkLCAiSFRUUCIpKTsKICAgIGNvbnN0IG1ldGhvZHMgPSBodHRwLmZsYXRNYXAoKGgpID0+IGdldENoaWxkcmVuRWxlbWVudChoKSk7CiAgICBtZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4gewogICAgICBjb25zdCBvbmxpbmVSZXNvdXJjZSA9IGZpbmRDaGlsZEVsZW1lbnQobWV0aG9kLCAiT25saW5lUmVzb3VyY2UiKTsKICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IHN0cmlwTmFtZXNwYWNlKGdldEVsZW1lbnROYW1lKG1ldGhvZCkpOwogICAgICB1cmxzW21ldGhvZE5hbWVdID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShvbmxpbmVSZXNvdXJjZSwgInhsaW5rOmhyZWYiKTsKICAgIH0pOwogICAgcmV0dXJuIHVybHM7CiAgfQogIGZ1bmN0aW9uIHBhcnNlTGF5ZXIobGF5ZXJFbCwgdmVyc2lvbiwgaW5oZXJpdGVkU3JzID0gW10sIGluaGVyaXRlZFN0eWxlcyA9IFtdLCBpbmhlcml0ZWRBdHRyaWJ1dGlvbiA9IG51bGwsIGluaGVyaXRlZEJvdW5kaW5nQm94ZXMgPSBudWxsLCBpbmhlcml0ZWRNYXhTY2FsZURlbm9tID0gbnVsbCwgaW5oZXJpdGVkTWluU2NhbGVEZW5vbSA9IG51bGwpIHsKICAgIGNvbnN0IHNyc1RhZyA9IHZlcnNpb24gPT09ICIxLjMuMCIgPyAiQ1JTIiA6ICJTUlMiOwogICAgY29uc3Qgc3JzTGlzdCA9IGZpbmRDaGlsZHJlbkVsZW1lbnQobGF5ZXJFbCwgc3JzVGFnKS5tYXAoZ2V0RWxlbWVudFRleHQpOwogICAgY29uc3QgYXZhaWxhYmxlQ3JzID0gc3JzTGlzdC5sZW5ndGggPiAwID8gc3JzTGlzdCA6IGluaGVyaXRlZFNyczsKICAgIGNvbnN0IGxheWVyU3R5bGVzID0gZmluZENoaWxkcmVuRWxlbWVudChsYXllckVsLCAiU3R5bGUiKS5tYXAoCiAgICAgIHBhcnNlTGF5ZXJTdHlsZQogICAgKTsKICAgIGNvbnN0IHN0eWxlcyA9IGxheWVyU3R5bGVzLmxlbmd0aCA+IDAgPyBsYXllclN0eWxlcyA6IGluaGVyaXRlZFN0eWxlczsKICAgIGZ1bmN0aW9uIHBhcnNlQkJveDIoYmJveEVsKSB7CiAgICAgIGNvbnN0IHNycyA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoYmJveEVsLCBzcnNUYWcpOwogICAgICBjb25zdCBhdHRycyA9IGhhc0ludmVydGVkQ29vcmRpbmF0ZXMoc3JzKSAmJiB2ZXJzaW9uID09PSAiMS4zLjAiID8gWyJtaW55IiwgIm1pbngiLCAibWF4eSIsICJtYXh4Il0gOiBbIm1pbngiLCAibWlueSIsICJtYXh4IiwgIm1heHkiXTsKICAgICAgcmV0dXJuIGF0dHJzLm1hcCgobmFtZSkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIG5hbWUpKTsKICAgIH0KICAgIGZ1bmN0aW9uIHBhcnNlRXhHZW9ncmFwaGljQm91bmRpbmdCb3goYmJveEVsKSB7CiAgICAgIHJldHVybiBbCiAgICAgICAgIndlc3RCb3VuZExvbmdpdHVkZSIsCiAgICAgICAgInNvdXRoQm91bmRMYXRpdHVkZSIsCiAgICAgICAgImVhc3RCb3VuZExvbmdpdHVkZSIsCiAgICAgICAgIm5vcnRoQm91bmRMYXRpdHVkZSIKICAgICAgXS5tYXAoKG5hbWUpID0+IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYmJveEVsLCBuYW1lKSkpOwogICAgfQogICAgZnVuY3Rpb24gcGFyc2VMYXRMb25Cb3VuZGluZ0JveChiYm94RWwpIHsKICAgICAgcmV0dXJuIFsibWlueCIsICJtaW55IiwgIm1heHgiLCAibWF4eSJdLm1hcCgKICAgICAgICAobmFtZSkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIG5hbWUpCiAgICAgICk7CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZVNjYWxlSGludFZhbHVlKHRleHRWYWx1ZSwgZGVmYXVsdFZhbHVlKSB7CiAgICAgIGlmICh0ZXh0VmFsdWUgPT09ICIiKSB7CiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTsKICAgICAgfQogICAgICByZXR1cm4gTWF0aC5zcXJ0KDAuNSAqIHBhcnNlRmxvYXQodGV4dFZhbHVlKSAqKiAyKSAvIDI4ZS01OwogICAgfQogICAgZnVuY3Rpb24gcGFyc2VTY2FsZUhpbnQoKSB7CiAgICAgIGNvbnN0IHNjYWxlSGludCA9IGZpbmRDaGlsZEVsZW1lbnQobGF5ZXJFbCwgIlNjYWxlSGludCIpOwogICAgICBpZiAoIXNjYWxlSGludCkgewogICAgICAgIHJldHVybiBbaW5oZXJpdGVkTWluU2NhbGVEZW5vbSwgaW5oZXJpdGVkTWF4U2NhbGVEZW5vbV07CiAgICAgIH0KICAgICAgY29uc3QgbWluID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShzY2FsZUhpbnQsICJtaW4iKTsKICAgICAgY29uc3QgbWF4ID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShzY2FsZUhpbnQsICJtYXgiKTsKICAgICAgcmV0dXJuIFsKICAgICAgICBwYXJzZVNjYWxlSGludFZhbHVlKG1pbiwgaW5oZXJpdGVkTWluU2NhbGVEZW5vbSksCiAgICAgICAgcGFyc2VTY2FsZUhpbnRWYWx1ZShtYXgsIGluaGVyaXRlZE1heFNjYWxlRGVub20pCiAgICAgIF07CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZVNjYWxlRGVub21pbmF0b3IobmFtZSwgaW5oZXJpdGVkVmFsdWUpIHsKICAgICAgY29uc3QgdGV4dFZhbHVlID0gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChsYXllckVsLCBuYW1lKSk7CiAgICAgIHJldHVybiB0ZXh0VmFsdWUgPT09ICIiID8gaW5oZXJpdGVkVmFsdWUgOiBwYXJzZUZsb2F0KHRleHRWYWx1ZSk7CiAgICB9CiAgICBjb25zdCBhdHRyaWJ1dGlvbkVsID0gZmluZENoaWxkRWxlbWVudChsYXllckVsLCAiQXR0cmlidXRpb24iKTsKICAgIGNvbnN0IGF0dHJpYnV0aW9uID0gYXR0cmlidXRpb25FbCAhPT0gbnVsbCA/IHBhcnNlTGF5ZXJBdHRyaWJ1dGlvbihhdHRyaWJ1dGlvbkVsKSA6IGluaGVyaXRlZEF0dHJpYnV0aW9uOwogICAgY29uc3QgbGF0TG9uQmJveEVsID0gdmVyc2lvbiA9PT0gIjEuMy4wIiA/IGZpbmRDaGlsZEVsZW1lbnQobGF5ZXJFbCwgIkVYX0dlb2dyYXBoaWNCb3VuZGluZ0JveCIpIDogZmluZENoaWxkRWxlbWVudChsYXllckVsLCAiTGF0TG9uQm91bmRpbmdCb3giKTsKICAgIGNvbnN0IGJhc2VCb3VuZGluZ0JveCA9IHt9OwogICAgaWYgKGxhdExvbkJib3hFbCkgewogICAgICBiYXNlQm91bmRpbmdCb3hbIkVQU0c6NDMyNiJdID0gdmVyc2lvbiA9PT0gIjEuMy4wIiA/IHBhcnNlRXhHZW9ncmFwaGljQm91bmRpbmdCb3gobGF0TG9uQmJveEVsKSA6IHBhcnNlTGF0TG9uQm91bmRpbmdCb3gobGF0TG9uQmJveEVsKTsKICAgIH0KICAgIGxldCBib3VuZGluZ0JveGVzID0gZmluZENoaWxkcmVuRWxlbWVudChsYXllckVsLCAiQm91bmRpbmdCb3giKS5yZWR1Y2UoCiAgICAgIChwcmV2LCBiYm94RWwpID0+ICh7CiAgICAgICAgLi4ucHJldiwKICAgICAgICBbZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIHNyc1RhZyldOiBwYXJzZUJCb3gyKGJib3hFbCkKICAgICAgfSksCiAgICAgIGJhc2VCb3VuZGluZ0JveAogICAgKTsKICAgIGJvdW5kaW5nQm94ZXMgPSBPYmplY3Qua2V5cyhib3VuZGluZ0JveGVzKS5sZW5ndGggPiAwIHx8IGluaGVyaXRlZEJvdW5kaW5nQm94ZXMgPT09IG51bGwgPyBib3VuZGluZ0JveGVzIDogaW5oZXJpdGVkQm91bmRpbmdCb3hlczsKICAgIGNvbnN0IHF1ZXJ5YWJsZSA9IGxheWVyRWwuYXR0cmlidXRlcy5xdWVyeWFibGUgPT09ICIxIiB8fCBsYXllckVsLmF0dHJpYnV0ZXMucXVlcnlhYmxlID09PSAidHJ1ZSIgPyB0cnVlIDogZmFsc2U7CiAgICBjb25zdCBvcGFxdWUgPSBsYXllckVsLmF0dHJpYnV0ZXMub3BhcXVlID09PSAiMSIgfHwgbGF5ZXJFbC5hdHRyaWJ1dGVzLm9wYXF1ZSA9PT0gInRydWUiID8gdHJ1ZSA6IGZhbHNlOwogICAgY29uc3Qga2V5d29yZHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJLZXl3b3JkTGlzdCIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KS5maWx0ZXIoKHYsIGksIGFycikgPT4gYXJyLmluZGV4T2YodikgPT09IGkpOwogICAgbGV0IG1pblNjYWxlRGVub21pbmF0b3IsIG1heFNjYWxlRGVub21pbmF0b3I7CiAgICBpZiAodmVyc2lvbiA9PT0gIjEuMy4wIikgewogICAgICBtaW5TY2FsZURlbm9taW5hdG9yID0gcGFyc2VTY2FsZURlbm9taW5hdG9yKAogICAgICAgICJNaW5TY2FsZURlbm9taW5hdG9yIiwKICAgICAgICBpbmhlcml0ZWRNaW5TY2FsZURlbm9tCiAgICAgICk7CiAgICAgIG1heFNjYWxlRGVub21pbmF0b3IgPSBwYXJzZVNjYWxlRGVub21pbmF0b3IoCiAgICAgICAgIk1heFNjYWxlRGVub21pbmF0b3IiLAogICAgICAgIGluaGVyaXRlZE1heFNjYWxlRGVub20KICAgICAgKTsKICAgIH0gZWxzZSB7CiAgICAgIFttaW5TY2FsZURlbm9taW5hdG9yLCBtYXhTY2FsZURlbm9taW5hdG9yXSA9IHBhcnNlU2NhbGVIaW50KCk7CiAgICB9CiAgICBjb25zdCBtZXRhZGF0YSA9IGZpbmRDaGlsZHJlbkVsZW1lbnQobGF5ZXJFbCwgIk1ldGFkYXRhVVJMIikubWFwKAogICAgICAobWV0YWRhdGFVcmxFbCkgPT4gKHsKICAgICAgICB0eXBlOiBnZXRFbGVtZW50QXR0cmlidXRlKG1ldGFkYXRhVXJsRWwsICJ0eXBlIiksCiAgICAgICAgZm9ybWF0OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KG1ldGFkYXRhVXJsRWwsICJGb3JtYXQiKSksCiAgICAgICAgdXJsOiBnZXRFbGVtZW50QXR0cmlidXRlKAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChtZXRhZGF0YVVybEVsLCAiT25saW5lUmVzb3VyY2UiKSwKICAgICAgICAgICJ4bGluazpocmVmIgogICAgICAgICkKICAgICAgfSkKICAgICk7CiAgICBjb25zdCBjaGlsZHJlbiA9IGZpbmRDaGlsZHJlbkVsZW1lbnQobGF5ZXJFbCwgIkxheWVyIikubWFwKAogICAgICAobGF5ZXIpID0+IHBhcnNlTGF5ZXIoCiAgICAgICAgbGF5ZXIsCiAgICAgICAgdmVyc2lvbiwKICAgICAgICBhdmFpbGFibGVDcnMsCiAgICAgICAgc3R5bGVzLAogICAgICAgIGF0dHJpYnV0aW9uLAogICAgICAgIGJvdW5kaW5nQm94ZXMsCiAgICAgICAgbWF4U2NhbGVEZW5vbWluYXRvciwKICAgICAgICBtaW5TY2FsZURlbm9taW5hdG9yCiAgICAgICkKICAgICk7CiAgICByZXR1cm4gewogICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJOYW1lIikpLAogICAgICB0aXRsZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChsYXllckVsLCAiVGl0bGUiKSksCiAgICAgIGFic3RyYWN0OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGxheWVyRWwsICJBYnN0cmFjdCIpKSwKICAgICAgYXZhaWxhYmxlQ3JzLAogICAgICBzdHlsZXMsCiAgICAgIGF0dHJpYnV0aW9uLAogICAgICBib3VuZGluZ0JveGVzLAogICAgICBrZXl3b3JkcywKICAgICAgcXVlcnlhYmxlLAogICAgICBvcGFxdWUsCiAgICAgIC4uLm1pblNjYWxlRGVub21pbmF0b3IgIT09IG51bGwgPyB7IG1pblNjYWxlRGVub21pbmF0b3IgfSA6IHt9LAogICAgICAuLi5tYXhTY2FsZURlbm9taW5hdG9yICE9PSBudWxsID8geyBtYXhTY2FsZURlbm9taW5hdG9yIH0gOiB7fSwKICAgICAgLi4ubWV0YWRhdGEubGVuZ3RoICYmIHsgbWV0YWRhdGEgfSwKICAgICAgLi4uY2hpbGRyZW4ubGVuZ3RoICYmIHsgY2hpbGRyZW4gfQogICAgfTsKICB9CiAgZnVuY3Rpb24gcGFyc2VMYXllclN0eWxlKHN0eWxlRWwpIHsKICAgIGNvbnN0IGxlZ2VuZFVybCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoZmluZENoaWxkRWxlbWVudChzdHlsZUVsLCAiTGVnZW5kVVJMIiksICJPbmxpbmVSZXNvdXJjZSIpLAogICAgICAieGxpbms6aHJlZiIKICAgICk7CiAgICBjb25zdCBhYnN0cmFjdCA9IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc3R5bGVFbCwgIkFic3RyYWN0IikpOwogICAgcmV0dXJuIHsKICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzdHlsZUVsLCAiTmFtZSIpKSwKICAgICAgdGl0bGU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc3R5bGVFbCwgIlRpdGxlIikpLAogICAgICAuLi5hYnN0cmFjdCAmJiB7IGFic3RyYWN0IH0sCiAgICAgIC4uLmxlZ2VuZFVybCAmJiB7IGxlZ2VuZFVybCB9CiAgICB9OwogIH0KICBmdW5jdGlvbiBwYXJzZUxheWVyQXR0cmlidXRpb24oYXR0cmlidXRpb25FbCkgewogICAgY29uc3QgbG9nb1VybCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoCiAgICAgIGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChhdHRyaWJ1dGlvbkVsLCAiTG9nb1VSTCIpLAogICAgICAgICJPbmxpbmVSZXNvdXJjZSIKICAgICAgKSwKICAgICAgInhsaW5rOmhyZWYiCiAgICApOwogICAgY29uc3QgdXJsID0gZ2V0RWxlbWVudEF0dHJpYnV0ZSgKICAgICAgZmluZENoaWxkRWxlbWVudChhdHRyaWJ1dGlvbkVsLCAiT25saW5lUmVzb3VyY2UiKSwKICAgICAgInhsaW5rOmhyZWYiCiAgICApOwogICAgY29uc3QgdGl0bGUgPSBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGF0dHJpYnV0aW9uRWwsICJUaXRsZSIpKTsKICAgIHJldHVybiB7CiAgICAgIC4uLnRpdGxlICYmIHsgdGl0bGUgfSwKICAgICAgLi4udXJsICYmIHsgdXJsIH0sCiAgICAgIC4uLmxvZ29VcmwgJiYgeyBsb2dvVXJsIH0KICAgIH07CiAgfQogIGZ1bmN0aW9uIHJlYWRQcm92aWRlckZyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHNlcnZpY2UgPSBmaW5kQ2hpbGRFbGVtZW50KGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyksICJTZXJ2aWNlIik7CiAgICBjb25zdCBjb250YWN0SW5mb3JtYXRpb24gPSBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJDb250YWN0SW5mb3JtYXRpb24iKTsKICAgIGNvbnN0IGNvbnRhY3RQZXJzb25QcmltYXJ5ID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgY29udGFjdEluZm9ybWF0aW9uLAogICAgICAiQ29udGFjdFBlcnNvblByaW1hcnkiCiAgICApOwogICAgY29uc3QgYWRkcmVzcyA9IGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm9ybWF0aW9uLCAiQ29udGFjdEFkZHJlc3MiKTsKICAgIHJldHVybiB7CiAgICAgIGNvbnRhY3Q6IHsKICAgICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdFBlcnNvblByaW1hcnksICJDb250YWN0UGVyc29uIikKICAgICAgICApLAogICAgICAgIG9yZ2FuaXphdGlvbjogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGNvbnRhY3RQZXJzb25QcmltYXJ5LCAiQ29udGFjdE9yZ2FuaXphdGlvbiIpCiAgICAgICAgKSwKICAgICAgICBwb3NpdGlvbjogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGNvbnRhY3RJbmZvcm1hdGlvbiwgIkNvbnRhY3RQb3NpdGlvbiIpCiAgICAgICAgKSwKICAgICAgICBwaG9uZTogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGNvbnRhY3RJbmZvcm1hdGlvbiwgIkNvbnRhY3RWb2ljZVRlbGVwaG9uZSIpCiAgICAgICAgKSwKICAgICAgICBmYXg6IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChjb250YWN0SW5mb3JtYXRpb24sICJDb250YWN0RmFjc2ltaWxlVGVsZXBob25lIikKICAgICAgICApLAogICAgICAgIGFkZHJlc3M6IHsKICAgICAgICAgIGRlbGl2ZXJ5UG9pbnQ6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkFkZHJlc3MiKSksCiAgICAgICAgICBjaXR5OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJDaXR5IikpLAogICAgICAgICAgYWRtaW5pc3RyYXRpdmVBcmVhOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgICAgZmluZENoaWxkRWxlbWVudChhZGRyZXNzLCAiU3RhdGVPclByb3ZpbmNlIikKICAgICAgICAgICksCiAgICAgICAgICBwb3N0YWxDb2RlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJQb3N0Q29kZSIpKSwKICAgICAgICAgIGNvdW50cnk6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkNvdW50cnkiKSkKICAgICAgICB9LAogICAgICAgIGVtYWlsOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm9ybWF0aW9uLCAiQ29udGFjdEVsZWN0cm9uaWNNYWlsQWRkcmVzcyIpCiAgICAgICAgKQogICAgICB9CiAgICB9OwogIH0KICBmdW5jdGlvbiByZWFkUHJvdmlkZXJGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3Qgc2VydmljZVByb3ZpZGVyID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIlNlcnZpY2VQcm92aWRlciIKICAgICk7CiAgICBjb25zdCBzZXJ2aWNlQ29udGFjdCA9IGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZVByb3ZpZGVyLCAiU2VydmljZUNvbnRhY3QiKTsKICAgIGNvbnN0IGNvbnRhY3RJbmZvID0gZmluZENoaWxkRWxlbWVudChzZXJ2aWNlQ29udGFjdCwgIkNvbnRhY3RJbmZvIik7CiAgICBjb25zdCBwaG9uZSA9IGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm8sICJQaG9uZSIpOwogICAgY29uc3QgYWRkcmVzcyA9IGZpbmRDaGlsZEVsZW1lbnQoY29udGFjdEluZm8sICJBZGRyZXNzIik7CiAgICByZXR1cm4gewogICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2VQcm92aWRlciwgIlByb3ZpZGVyTmFtZSIpKSwKICAgICAgc2l0ZTogZ2V0RWxlbWVudEF0dHJpYnV0ZSgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2VQcm92aWRlciwgIlByb3ZpZGVyU2l0ZSIpLAogICAgICAgICJ4bGluazpocmVmIgogICAgICApLAogICAgICBjb250YWN0OiB7CiAgICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlQ29udGFjdCwgIkluZGl2aWR1YWxOYW1lIikpLAogICAgICAgIHBvc2l0aW9uOiBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZUNvbnRhY3QsICJQb3NpdGlvbk5hbWUiKQogICAgICAgICksCiAgICAgICAgcGhvbmU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQocGhvbmUsICJWb2ljZSIpKSwKICAgICAgICBmYXg6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQocGhvbmUsICJGYWNzaW1pbGUiKSksCiAgICAgICAgYWRkcmVzczogewogICAgICAgICAgZGVsaXZlcnlQb2ludDogZ2V0RWxlbWVudFRleHQoCiAgICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkRlbGl2ZXJ5UG9pbnQiKQogICAgICAgICAgKSwKICAgICAgICAgIGNpdHk6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIkNpdHkiKSksCiAgICAgICAgICBhZG1pbmlzdHJhdGl2ZUFyZWE6IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJBZG1pbmlzdHJhdGl2ZUFyZWEiKQogICAgICAgICAgKSwKICAgICAgICAgIHBvc3RhbENvZGU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoYWRkcmVzcywgIlBvc3RhbENvZGUiKSksCiAgICAgICAgICBjb3VudHJ5OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGFkZHJlc3MsICJDb3VudHJ5IikpCiAgICAgICAgfSwKICAgICAgICBlbWFpbDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChhZGRyZXNzLCAiRWxlY3Ryb25pY01haWxBZGRyZXNzIikpCiAgICAgIH0KICAgIH07CiAgfQogIGZ1bmN0aW9uIHJlYWRPcGVyYXRpb25VcmxzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHVybHMgPSB7fTsKICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IGdldFJvb3RFbGVtZW50KGNhcGFiaWxpdGllc0RvYyk7CiAgICBjb25zdCBvcGVyYXRpb25zTWV0YWRhdGEgPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBjYXBhYmlsaXRpZXMsCiAgICAgICJPcGVyYXRpb25zTWV0YWRhdGEiCiAgICApOwogICAgaWYgKG9wZXJhdGlvbnNNZXRhZGF0YSkgewogICAgICBmaW5kQ2hpbGRyZW5FbGVtZW50KG9wZXJhdGlvbnNNZXRhZGF0YSwgIk9wZXJhdGlvbiIpLmZvckVhY2goCiAgICAgICAgKG9wZXJhdGlvbikgPT4gewogICAgICAgICAgY29uc3QgbmFtZSA9IGdldEVsZW1lbnRBdHRyaWJ1dGUob3BlcmF0aW9uLCAibmFtZSIpOwogICAgICAgICAgdXJsc1tuYW1lXSA9IHBhcnNlT3BlcmF0aW9uMTEwKG9wZXJhdGlvbik7CiAgICAgICAgfQogICAgICApOwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgY2FwYWJpbGl0eSA9IGZpbmRDaGlsZEVsZW1lbnQoY2FwYWJpbGl0aWVzLCAiQ2FwYWJpbGl0eSIpOwogICAgICBjb25zdCByZXF1ZXN0ID0gZmluZENoaWxkRWxlbWVudChjYXBhYmlsaXR5LCAiUmVxdWVzdCIpOwogICAgICBnZXRDaGlsZHJlbkVsZW1lbnQocmVxdWVzdCkuZm9yRWFjaCgob3BlcmF0aW9uKSA9PiB7CiAgICAgICAgY29uc3QgbmFtZSA9IHN0cmlwTmFtZXNwYWNlKGdldEVsZW1lbnROYW1lKG9wZXJhdGlvbikpOwogICAgICAgIHVybHNbbmFtZV0gPSBwYXJzZU9wZXJhdGlvbjEwMChvcGVyYXRpb24pOwogICAgICB9KTsKICAgIH0KICAgIHJldHVybiB1cmxzOwogIH0KICBmdW5jdGlvbiByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICByZXR1cm4gZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKS5hdHRyaWJ1dGVzWyJ2ZXJzaW9uIl07CiAgfQogIGZ1bmN0aW9uIHJlYWRPdXRwdXRGb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGxldCBvdXRwdXRGb3JtYXRzOwogICAgaWYgKHZlcnNpb24uc3RhcnRzV2l0aCgiMS4wIikpIHsKICAgICAgY29uc3QgZ2V0RmVhdHVyZSA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudCgKICAgICAgICAgIGZpbmRDaGlsZEVsZW1lbnQoZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwgIkNhcGFiaWxpdHkiKSwKICAgICAgICAgICJSZXF1ZXN0IgogICAgICAgICksCiAgICAgICAgIkdldEZlYXR1cmUiCiAgICAgICk7CiAgICAgIG91dHB1dEZvcm1hdHMgPSBnZXRDaGlsZHJlbkVsZW1lbnQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChnZXRGZWF0dXJlLCAiUmVzdWx0Rm9ybWF0IikKICAgICAgKS5tYXAoZ2V0RWxlbWVudE5hbWUpOwogICAgfSBlbHNlIHsKICAgICAgY29uc3Qgb3BlcmF0aW9ucyA9IGZpbmRDaGlsZEVsZW1lbnQoCiAgICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgICAiT3BlcmF0aW9uc01ldGFkYXRhIgogICAgICApOwogICAgICBjb25zdCBnZXRGZWF0dXJlID0gZmluZENoaWxkcmVuRWxlbWVudChvcGVyYXRpb25zLCAiT3BlcmF0aW9uIikuZmluZCgKICAgICAgICAoZWwpID0+IGdldEVsZW1lbnRBdHRyaWJ1dGUoZWwsICJuYW1lIikgPT09ICJHZXRGZWF0dXJlIgogICAgICApOwogICAgICBjb25zdCBwYXJhbWV0ZXIgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGdldEZlYXR1cmUsICJQYXJhbWV0ZXIiKS5maW5kKAogICAgICAgIChlbCkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgIm5hbWUiKSA9PT0gIm91dHB1dEZvcm1hdCIKICAgICAgKTsKICAgICAgb3V0cHV0Rm9ybWF0cyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQocGFyYW1ldGVyLCAiVmFsdWUiLCB0cnVlKS5tYXAoCiAgICAgICAgZ2V0RWxlbWVudFRleHQKICAgICAgKTsKICAgIH0KICAgIHJldHVybiBvdXRwdXRGb3JtYXRzOwogIH0KICBmdW5jdGlvbiByZWFkSW5mb0Zyb21DYXBhYmlsaXRpZXMkMShjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IHNlcnZpY2VUYWcgPSB2ZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpID8gIlNlcnZpY2UiIDogIlNlcnZpY2VJZGVudGlmaWNhdGlvbiI7CiAgICBjb25zdCBuYW1lVGFnID0gdmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/ICJOYW1lIiA6ICJTZXJ2aWNlVHlwZSI7CiAgICBjb25zdCBzZXJ2aWNlID0gZmluZENoaWxkRWxlbWVudChnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLCBzZXJ2aWNlVGFnKTsKICAgIGxldCBrZXl3b3JkczsKICAgIGlmICh2ZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpKSB7CiAgICAgIGtleXdvcmRzID0gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiS2V5d29yZHMiKSkuc3BsaXQoIiwiKS5tYXAoKGtleXdvcmQpID0+IGtleXdvcmQudHJpbSgpKTsKICAgIH0gZWxzZSB7CiAgICAgIGtleXdvcmRzID0gZmluZENoaWxkcmVuRWxlbWVudCgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJLZXl3b3JkcyIpLAogICAgICAgICJLZXl3b3JkIgogICAgICApLm1hcChnZXRFbGVtZW50VGV4dCk7CiAgICB9CiAgICBsZXQgcHJvdmlkZXI7CiAgICBpZiAodmVyc2lvbiAhPT0gIjEuMC4wIikgewogICAgICBwcm92aWRlciA9IHJlYWRQcm92aWRlckZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJUaXRsZSIpKSwKICAgICAgbmFtZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCBuYW1lVGFnKSksCiAgICAgIGFic3RyYWN0OiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJBYnN0cmFjdCIpKSwKICAgICAgZmVlczogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiRmVlcyIpKSwKICAgICAgY29uc3RyYWludHM6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkFjY2Vzc0NvbnN0cmFpbnRzIikpLAogICAgICBrZXl3b3JkcywKICAgICAgcHJvdmlkZXIsCiAgICAgIG91dHB1dEZvcm1hdHM6IHJlYWRPdXRwdXRGb3JtYXRzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpCiAgICB9OwogIH0KICBmdW5jdGlvbiByZWFkRmVhdHVyZVR5cGVzRnJvbUNhcGFiaWxpdGllcyhjYXBhYmlsaXRpZXNEb2MpIHsKICAgIGNvbnN0IHZlcnNpb24gPSByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSByZWFkT3V0cHV0Rm9ybWF0c0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IGNhcGFiaWxpdHkgPSBmaW5kQ2hpbGRFbGVtZW50KAogICAgICBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpLAogICAgICAiRmVhdHVyZVR5cGVMaXN0IgogICAgKTsKICAgIHJldHVybiBmaW5kQ2hpbGRyZW5FbGVtZW50KGNhcGFiaWxpdHksICJGZWF0dXJlVHlwZSIpLm1hcCgKICAgICAgKGZlYXR1cmVUeXBlRWwpID0+IHBhcnNlRmVhdHVyZVR5cGUoZmVhdHVyZVR5cGVFbCwgdmVyc2lvbiwgb3V0cHV0Rm9ybWF0cykKICAgICk7CiAgfQogIGZ1bmN0aW9uIHBhcnNlT3BlcmF0aW9uMTAwKG9wZXJhdGlvbikgewogICAgY29uc3QgdXJscyA9IHt9OwogICAgY29uc3QgZGNwVHlwZSA9IGZpbmRDaGlsZHJlbkVsZW1lbnQob3BlcmF0aW9uLCAiRENQVHlwZSIpOwogICAgY29uc3QgaHR0cCA9IGRjcFR5cGUuZmxhdE1hcCgoZCkgPT4gZmluZENoaWxkcmVuRWxlbWVudChkLCAiSFRUUCIpKTsKICAgIGNvbnN0IG1ldGhvZHMgPSBodHRwLmZsYXRNYXAoKGgpID0+IGdldENoaWxkcmVuRWxlbWVudChoKSk7CiAgICBtZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4gewogICAgICBjb25zdCBtZXRob2ROYW1lID0gc3RyaXBOYW1lc3BhY2UoZ2V0RWxlbWVudE5hbWUobWV0aG9kKSk7CiAgICAgIHVybHNbbWV0aG9kTmFtZV0gPSBnZXRFbGVtZW50QXR0cmlidXRlKG1ldGhvZCwgIm9ubGluZVJlc291cmNlIik7CiAgICB9KTsKICAgIHJldHVybiB1cmxzOwogIH0KICBmdW5jdGlvbiBwYXJzZU9wZXJhdGlvbjExMChvcGVyYXRpb24pIHsKICAgIGNvbnN0IHVybHMgPSB7fTsKICAgIGNvbnN0IGRjcFR5cGUgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KG9wZXJhdGlvbiwgIkRDUCIpOwogICAgY29uc3QgaHR0cCA9IGRjcFR5cGUuZmxhdE1hcCgoZCkgPT4gZmluZENoaWxkRWxlbWVudChkLCAiSFRUUCIpKTsKICAgIGNvbnN0IG1ldGhvZHMgPSBodHRwLmZsYXRNYXAoKGgpID0+IGdldENoaWxkcmVuRWxlbWVudChoKSk7CiAgICBtZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4gewogICAgICBjb25zdCBtZXRob2ROYW1lID0gc3RyaXBOYW1lc3BhY2UoZ2V0RWxlbWVudE5hbWUobWV0aG9kKSk7CiAgICAgIHVybHNbbWV0aG9kTmFtZV0gPSBnZXRFbGVtZW50QXR0cmlidXRlKG1ldGhvZCwgInhsaW5rOmhyZWYiKTsKICAgIH0pOwogICAgcmV0dXJuIHVybHM7CiAgfQogIGZ1bmN0aW9uIHBhcnNlRmVhdHVyZVR5cGUoZmVhdHVyZVR5cGVFbCwgc2VydmljZVZlcnNpb24sIGRlZmF1bHRPdXRwdXRGb3JtYXRzKSB7CiAgICBjb25zdCBzcnNUYWcgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIyLiIpID8gIkNSUyIgOiAiU1JTIjsKICAgIGNvbnN0IGRlZmF1bHRTcnNUYWcgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/ICJTUlMiIDogYERlZmF1bHQke3Nyc1RhZ31gOwogICAgZnVuY3Rpb24gcGFyc2VCQm94MTAwKCkgewogICAgICBjb25zdCBiYm94RWwgPSBmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJMYXRMb25nQm91bmRpbmdCb3giKTsKICAgICAgcmV0dXJuIFsibWlueCIsICJtaW55IiwgIm1heHgiLCAibWF4eSJdLm1hcCgobmFtZSkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShiYm94RWwsIG5hbWUpKS5tYXAocGFyc2VGbG9hdCk7CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZUJCb3gyKCkgewogICAgICBjb25zdCBiYm94RWwgPSBmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJXR1M4NEJvdW5kaW5nQm94Iik7CiAgICAgIHJldHVybiBbIkxvd2VyQ29ybmVyIiwgIlVwcGVyQ29ybmVyIl0ubWFwKChlbE5hbWUpID0+IGZpbmRDaGlsZEVsZW1lbnQoYmJveEVsLCBlbE5hbWUpKS5tYXAoKGNvcm5lckVsKSA9PiBnZXRFbGVtZW50VGV4dChjb3JuZXJFbCkuc3BsaXQoIiAiKSkucmVkdWNlKChwcmV2LCBjdXJyKSA9PiBbLi4ucHJldiwgLi4uY3Vycl0pLm1hcChwYXJzZUZsb2F0KTsKICAgIH0KICAgIGNvbnN0IG90aGVyQ3JzID0gc2VydmljZVZlcnNpb24uc3RhcnRzV2l0aCgiMS4wIikgPyBbXSA6IGZpbmRDaGlsZHJlbkVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgYE90aGVyJHtzcnNUYWd9YCkubWFwKGdldEVsZW1lbnRUZXh0KS5tYXAoc2ltcGxpZnlFcHNnVXJuKTsKICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/IFtdIDogZmluZENoaWxkcmVuRWxlbWVudCgKICAgICAgZmluZENoaWxkRWxlbWVudChmZWF0dXJlVHlwZUVsLCAiT3V0cHV0Rm9ybWF0cyIpLAogICAgICAiRm9ybWF0IgogICAgKS5tYXAoZ2V0RWxlbWVudFRleHQpOwogICAgY29uc3Qga2V5d29yZHMgPSBzZXJ2aWNlVmVyc2lvbi5zdGFydHNXaXRoKCIxLjAiKSA/IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIktleXdvcmRzIikpLnNwbGl0KCIsIikubWFwKChrZXl3b3JkKSA9PiBrZXl3b3JkLnRyaW0oKSkgOiBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJLZXl3b3JkcyIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KS5maWx0ZXIoKHYsIGksIGFycikgPT4gYXJyLmluZGV4T2YodikgPT09IGkpOwogICAgY29uc3QgbWV0YWRhdGEgPSBzZXJ2aWNlVmVyc2lvbiA9PT0gIjIuMC4wIiA/IGZpbmRDaGlsZHJlbkVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIk1ldGFkYXRhVVJMIikubWFwKAogICAgICAobWV0YWRhdGFVcmxFbCkgPT4gKHsKICAgICAgICB1cmw6IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0YWRhdGFVcmxFbCwgInhsaW5rOmhyZWYiKQogICAgICB9KQogICAgKSA6IGZpbmRDaGlsZHJlbkVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIk1ldGFkYXRhVVJMIikubWFwKAogICAgICAobWV0YWRhdGFVcmxFbCkgPT4gKHsKICAgICAgICBmb3JtYXQ6IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0YWRhdGFVcmxFbCwgImZvcm1hdCIpLAogICAgICAgIHR5cGU6IGdldEVsZW1lbnRBdHRyaWJ1dGUobWV0YWRhdGFVcmxFbCwgInR5cGUiKSwKICAgICAgICB1cmw6IGdldEVsZW1lbnRUZXh0KG1ldGFkYXRhVXJsRWwpLnRyaW0oKQogICAgICB9KQogICAgKTsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIk5hbWUiKSksCiAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGZlYXR1cmVUeXBlRWwsICJUaXRsZSIpKSwKICAgICAgYWJzdHJhY3Q6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZmVhdHVyZVR5cGVFbCwgIkFic3RyYWN0IikpLAogICAgICBkZWZhdWx0Q3JzOiBzaW1wbGlmeUVwc2dVcm4oCiAgICAgICAgZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChmZWF0dXJlVHlwZUVsLCBkZWZhdWx0U3JzVGFnKSkKICAgICAgKSwKICAgICAgb3RoZXJDcnMsCiAgICAgIG91dHB1dEZvcm1hdHM6IG91dHB1dEZvcm1hdHMubGVuZ3RoID4gMCA/IG91dHB1dEZvcm1hdHMgOiBkZWZhdWx0T3V0cHV0Rm9ybWF0cywKICAgICAgbGF0TG9uQm91bmRpbmdCb3g6IHNlcnZpY2VWZXJzaW9uLnN0YXJ0c1dpdGgoIjEuMCIpID8gcGFyc2VCQm94MTAwKCkgOiBwYXJzZUJCb3gyKCksCiAgICAgIGtleXdvcmRzLAogICAgICAuLi5tZXRhZGF0YS5sZW5ndGggJiYgeyBtZXRhZGF0YSB9CiAgICB9OwogIH0KICBmdW5jdGlvbiBwYXJzZUJCb3goeG1sRWxlbWVudCkgewogICAgY29uc3QgcmVzdWx0ID0gWyJMb3dlckNvcm5lciIsICJVcHBlckNvcm5lciJdLm1hcCgoZWxOYW1lKSA9PiBmaW5kQ2hpbGRFbGVtZW50KHhtbEVsZW1lbnQsIGVsTmFtZSkpLm1hcCgoY29ybmVyRWwpID0+IGdldEVsZW1lbnRUZXh0KGNvcm5lckVsKS5zcGxpdCgiICIpKS5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IFsuLi5wcmV2LCAuLi5jdXJyXSkubWFwKHBhcnNlRmxvYXQpOwogICAgaWYgKHJlc3VsdC5zb21lKE51bWJlci5pc05hTikpCiAgICAgIHJldHVybiBudWxsOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgZnVuY3Rpb24gcmVhZEluZm9Gcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYykgewogICAgY29uc3Qgcm9vdEVsID0gZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKTsKICAgIGNvbnN0IHNlcnZpY2UgPSBmaW5kQ2hpbGRFbGVtZW50KHJvb3RFbCwgIlNlcnZpY2VJZGVudGlmaWNhdGlvbiIpOwogICAgY29uc3Qga2V5d29yZHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJLZXl3b3JkcyIpLAogICAgICAiS2V5d29yZCIKICAgICkubWFwKGdldEVsZW1lbnRUZXh0KTsKICAgIGNvbnN0IG1ldGFkYXRhID0gZmluZENoaWxkRWxlbWVudChyb290RWwsICJPcGVyYXRpb25zTWV0YWRhdGEiKTsKICAgIGNvbnN0IGdldFRpbGVPcGVyYXRpb24gPSBmaW5kQ2hpbGRyZW5FbGVtZW50KG1ldGFkYXRhLCAiT3BlcmF0aW9uIikuZmluZCgKICAgICAgKGVsKSA9PiBnZXRFbGVtZW50QXR0cmlidXRlKGVsLCAibmFtZSIpID09ICJHZXRUaWxlIgogICAgKTsKICAgIGNvbnN0IGdldFRpbGVVcmxzID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRUaWxlT3BlcmF0aW9uLCAiR2V0IiwgdHJ1ZSkucmVkdWNlKAogICAgICAocHJldiwgY3VycikgPT4gewogICAgICAgIGNvbnN0IGVuY29kaW5nVHlwZSA9IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChjdXJyLCAiVmFsdWUiLCB0cnVlKQogICAgICAgICk7CiAgICAgICAgY29uc3QgdXJsID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShjdXJyLCAieGxpbms6aHJlZiIpOwogICAgICAgIGlmIChlbmNvZGluZ1R5cGUudG9Mb3dlckNhc2UoKSA9PT0gInJlc3RmdWwiKQogICAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgcmVzdDogdXJsIH07CiAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwga3ZwOiB1cmwgfTsKICAgICAgfSwKICAgICAge30KICAgICk7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiVGl0bGUiKSksCiAgICAgIG5hbWU6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIlNlcnZpY2VUeXBlIikpLAogICAgICBhYnN0cmFjdDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChzZXJ2aWNlLCAiQWJzdHJhY3QiKSksCiAgICAgIGZlZXM6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoc2VydmljZSwgIkZlZXMiKSksCiAgICAgIGNvbnN0cmFpbnRzOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KHNlcnZpY2UsICJBY2Nlc3NDb25zdHJhaW50cyIpKSwKICAgICAga2V5d29yZHMsCiAgICAgIHByb3ZpZGVyOiByZWFkUHJvdmlkZXJGcm9tQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllc0RvYyksCiAgICAgIGdldFRpbGVVcmxzCiAgICB9OwogIH0KICBmdW5jdGlvbiByZWFkTWF0cml4U2V0c0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBmdW5jdGlvbiBwYXJzZU1hdHJpeFNldChlbGVtZW50KSB7CiAgICAgIGNvbnN0IHRvcExlZnQgPSBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJUb3BMZWZ0Q29ybmVyIikpLnNwbGl0KCIgIikubWFwKHBhcnNlRmxvYXQpOwogICAgICByZXR1cm4gewogICAgICAgIGlkZW50aWZpZXI6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIklkZW50aWZpZXIiKSksCiAgICAgICAgdGlsZVdpZHRoOiBwYXJzZUludCgKICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIlRpbGVXaWR0aCIpKQogICAgICAgICksCiAgICAgICAgdGlsZUhlaWdodDogcGFyc2VJbnQoCiAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJUaWxlSGVpZ2h0IikpCiAgICAgICAgKSwKICAgICAgICBtYXRyaXhXaWR0aDogcGFyc2VJbnQoCiAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJNYXRyaXhXaWR0aCIpKQogICAgICAgICksCiAgICAgICAgbWF0cml4SGVpZ2h0OiBwYXJzZUludCgKICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIk1hdHJpeEhlaWdodCIpKQogICAgICAgICksCiAgICAgICAgc2NhbGVEZW5vbWluYXRvcjogcGFyc2VGbG9hdCgKICAgICAgICAgIGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudCwgIlNjYWxlRGVub21pbmF0b3IiKSkKICAgICAgICApLAogICAgICAgIHRvcExlZnQKICAgICAgfTsKICAgIH0KICAgIGNvbnN0IGNvbnRlbnRzID0gZmluZENoaWxkRWxlbWVudCgKICAgICAgZ2V0Um9vdEVsZW1lbnQoY2FwYWJpbGl0aWVzRG9jKSwKICAgICAgIkNvbnRlbnRzIgogICAgKTsKICAgIGNvbnN0IG1hdHJpeFNldHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGNvbnRlbnRzLCAiVGlsZU1hdHJpeFNldCIpOwogICAgcmV0dXJuIG1hdHJpeFNldHMubWFwKChlbGVtZW50KSA9PiB7CiAgICAgIGNvbnN0IHdlbGxLbm93blNjYWxlU2V0ID0gZ2V0RWxlbWVudFRleHQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiV2VsbEtub3duU2NhbGVTZXQiKQogICAgICApOwogICAgICBjb25zdCBib3VuZGluZ0JveCA9IHBhcnNlQkJveChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJCb3VuZGluZ0JveCIpKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZGVudGlmaWVyOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJJZGVudGlmaWVyIikpLAogICAgICAgIGNyczogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiU3VwcG9ydGVkQ1JTIikpLAogICAgICAgIHRpbGVNYXRyaWNlczogZmluZENoaWxkcmVuRWxlbWVudChlbGVtZW50LCAiVGlsZU1hdHJpeCIpLm1hcCgKICAgICAgICAgIHBhcnNlTWF0cml4U2V0CiAgICAgICAgKSwKICAgICAgICAuLi5ib3VuZGluZ0JveCAmJiB7IGJvdW5kaW5nQm94IH0sCiAgICAgICAgLi4ud2VsbEtub3duU2NhbGVTZXQgJiYgeyB3ZWxsS25vd25TY2FsZVNldCB9CiAgICAgIH07CiAgICB9KTsKICB9CiAgZnVuY3Rpb24gcmVhZExheWVyc0Zyb21DYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzRG9jKSB7CiAgICBjb25zdCByb290RWwgPSBnZXRSb290RWxlbWVudChjYXBhYmlsaXRpZXNEb2MpOwogICAgY29uc3QgY29udGVudHNFbCA9IGZpbmRDaGlsZEVsZW1lbnQocm9vdEVsLCAiQ29udGVudHMiKTsKICAgIGZ1bmN0aW9uIGdldE1hdHJpeFNldENycyhjb250ZW50c0VsMiwgaWRlbnRpZmllcikgewogICAgICBjb25zdCBtYXRyaXhTZXQgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGNvbnRlbnRzRWwyLCAiVGlsZU1hdHJpeFNldCIpLmZpbmQoCiAgICAgICAgKG1hdHJpeFNldEVsKSA9PiB7CiAgICAgICAgICBjb25zdCBpZGVudGlmaWVyRWwgPSBmaW5kQ2hpbGRFbGVtZW50KG1hdHJpeFNldEVsLCAiSWRlbnRpZmllciIpOwogICAgICAgICAgcmV0dXJuIGdldEVsZW1lbnRUZXh0KGlkZW50aWZpZXJFbCkgPT09IGlkZW50aWZpZXI7CiAgICAgICAgfQogICAgICApOwogICAgICByZXR1cm4gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChtYXRyaXhTZXQsICJTdXBwb3J0ZWRDUlMiKSk7CiAgICB9CiAgICBmdW5jdGlvbiBwYXJzZU1hdHJpeFNldExpbmsoZWxlbWVudCkgewogICAgICBjb25zdCBpZGVudGlmaWVyID0gZ2V0RWxlbWVudFRleHQoCiAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiVGlsZU1hdHJpeFNldCIpCiAgICAgICk7CiAgICAgIGNvbnN0IGNycyA9IGdldE1hdHJpeFNldENycyhjb250ZW50c0VsLCBpZGVudGlmaWVyKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZGVudGlmaWVyLAogICAgICAgIGNycywKICAgICAgICBsaW1pdHM6IGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgIlRpbGVNYXRyaXhMaW1pdHMiLCB0cnVlKS5tYXAoCiAgICAgICAgICAoZWxlbWVudDIpID0+ICh7CiAgICAgICAgICAgIHRpbGVNYXRyaXg6IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJUaWxlTWF0cml4IikpLAogICAgICAgICAgICBtaW5UaWxlUm93OiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWluVGlsZVJvdyIpKQogICAgICAgICAgICApLAogICAgICAgICAgICBtaW5UaWxlQ29sOiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWluVGlsZUNvbCIpKQogICAgICAgICAgICApLAogICAgICAgICAgICBtYXhUaWxlUm93OiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWF4VGlsZVJvdyIpKQogICAgICAgICAgICApLAogICAgICAgICAgICBtYXhUaWxlQ29sOiBwYXJzZUludCgKICAgICAgICAgICAgICBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiTWF4VGlsZUNvbCIpKQogICAgICAgICAgICApCiAgICAgICAgICB9KQogICAgICAgICkKICAgICAgfTsKICAgIH0KICAgIGNvbnN0IGdldFRpbGVPcGVyYXRpb24gPSBmaW5kQ2hpbGRyZW5FbGVtZW50KAogICAgICBmaW5kQ2hpbGRFbGVtZW50KHJvb3RFbCwgIk9wZXJhdGlvbnNNZXRhZGF0YSIpLAogICAgICAiT3BlcmF0aW9uIgogICAgKS5maW5kKChlbCkgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgIm5hbWUiKSA9PSAiR2V0VGlsZSIpOwogICAgY29uc3QgZ2V0S3ZwRWx0ID0gZmluZENoaWxkcmVuRWxlbWVudChnZXRUaWxlT3BlcmF0aW9uLCAiR2V0IiwgdHJ1ZSkuZmlsdGVyKAogICAgICAoZWx0KSA9PiB7CiAgICAgICAgY29uc3QgZW5jb2RpbmdUeXBlID0gZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbHQsICJWYWx1ZSIsIHRydWUpKTsKICAgICAgICByZXR1cm4gZW5jb2RpbmdUeXBlLnRvTG93ZXJDYXNlKCkgPT09ICJrdnAiOwogICAgICB9CiAgICApWzBdOwogICAgY29uc3QgZ2V0S3ZwVXJsID0gZ2V0S3ZwRWx0ID8gZ2V0RWxlbWVudEF0dHJpYnV0ZShnZXRLdnBFbHQsICJ4bGluazpocmVmIikgOiAiIjsKICAgIGNvbnN0IGNvbnRlbnRzID0gZmluZENoaWxkRWxlbWVudChyb290RWwsICJDb250ZW50cyIpOwogICAgY29uc3QgbGF5ZXJzID0gZmluZENoaWxkcmVuRWxlbWVudChjb250ZW50cywgIkxheWVyIik7CiAgICByZXR1cm4gbGF5ZXJzLm1hcCgoZWxlbWVudCkgPT4gewogICAgICBjb25zdCBsYXRMb25Cb3VuZGluZ0JveCA9IHBhcnNlQkJveCgKICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJXR1M4NEJvdW5kaW5nQm94IikKICAgICAgKTsKICAgICAgbGV0IGRlZmF1bHRTdHlsZSA9ICIiOwogICAgICBjb25zdCBzdHlsZXMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGVsZW1lbnQsICJTdHlsZSIpLm1hcCgoZWxlbWVudDIpID0+IHsKICAgICAgICBjb25zdCBsZWdlbmRVcmwgPSBnZXRFbGVtZW50QXR0cmlidXRlKAogICAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50MiwgIkxlZ2VuZFVSTCIpLAogICAgICAgICAgInhsaW5rOmhyZWYiCiAgICAgICAgKTsKICAgICAgICBjb25zdCBhYnN0cmFjdCA9IGdldEVsZW1lbnRUZXh0KGZpbmRDaGlsZEVsZW1lbnQoZWxlbWVudDIsICJBYnN0cmFjdCIpKTsKICAgICAgICBjb25zdCBzdHlsZSA9IHsKICAgICAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiVGl0bGUiKSksCiAgICAgICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiSWRlbnRpZmllciIpKSwKICAgICAgICAgIC4uLmFic3RyYWN0ICYmIHsgYWJzdHJhY3QgfSwKICAgICAgICAgIC4uLmxlZ2VuZFVybCAmJiB7IGxlZ2VuZFVybCB9CiAgICAgICAgfTsKICAgICAgICBpZiAoZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50MiwgImlzRGVmYXVsdCIpID09PSAidHJ1ZSIpIHsKICAgICAgICAgIGRlZmF1bHRTdHlsZSA9IHN0eWxlLm5hbWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzdHlsZTsKICAgICAgfSk7CiAgICAgIGNvbnN0IG91dHB1dEZvcm1hdHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGVsZW1lbnQsICJGb3JtYXQiKS5tYXAoCiAgICAgICAgZ2V0RWxlbWVudFRleHQKICAgICAgKTsKICAgICAgY29uc3QgcmVzb3VyY2VMaW5rcyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoCiAgICAgICAgZWxlbWVudCwKICAgICAgICAiUmVzb3VyY2VVUkwiCiAgICAgICkuZmlsdGVyKAogICAgICAgIChlbGVtZW50MikgPT4gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50MiwgInJlc291cmNlVHlwZSIpID09PSAidGlsZSIKICAgICAgKS5tYXAoKGVsZW1lbnQyKSA9PiB7CiAgICAgICAgY29uc3QgZm9ybWF0ID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50MiwgImZvcm1hdCIpOwogICAgICAgIGNvbnN0IHVybCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoZWxlbWVudDIsICJ0ZW1wbGF0ZSIpOwogICAgICAgIHJldHVybiB7IGZvcm1hdCwgdXJsLCBlbmNvZGluZzogIlJFU1QiIH07CiAgICAgIH0pOwogICAgICBpZiAoZ2V0S3ZwVXJsKSB7CiAgICAgICAgcmVzb3VyY2VMaW5rcy5wdXNoKAogICAgICAgICAgLi4ub3V0cHV0Rm9ybWF0cy5tYXAoKGZvcm1hdCkgPT4gKHsKICAgICAgICAgICAgZW5jb2Rpbmc6ICJLVlAiLAogICAgICAgICAgICB1cmw6IGdldEt2cFVybCwKICAgICAgICAgICAgZm9ybWF0CiAgICAgICAgICB9KSkKICAgICAgICApOwogICAgICB9CiAgICAgIGNvbnN0IG1hdHJpeFNldHMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGVsZW1lbnQsICJUaWxlTWF0cml4U2V0TGluayIpLm1hcCgKICAgICAgICBwYXJzZU1hdHJpeFNldExpbmsKICAgICAgKTsKICAgICAgY29uc3QgZGltZW5zaW9ucyA9IGZpbmRDaGlsZHJlbkVsZW1lbnQoZWxlbWVudCwgIkRpbWVuc2lvbiIpLm1hcCgKICAgICAgICAoZWxlbWVudDIpID0+IHsKICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSBnZXRFbGVtZW50VGV4dCgKICAgICAgICAgICAgZmluZENoaWxkRWxlbWVudChlbGVtZW50MiwgIklkZW50aWZpZXIiKQogICAgICAgICAgKTsKICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGdldEVsZW1lbnRUZXh0KAogICAgICAgICAgICBmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQyLCAiRGVmYXVsdCIpCiAgICAgICAgICApOwogICAgICAgICAgY29uc3QgdmFsdWVzID0gZmluZENoaWxkcmVuRWxlbWVudChlbGVtZW50MiwgIlZhbHVlcyIpLm1hcCgKICAgICAgICAgICAgZ2V0RWxlbWVudFRleHQKICAgICAgICAgICk7CiAgICAgICAgICByZXR1cm4geyBpZGVudGlmaWVyLCBkZWZhdWx0VmFsdWUsIHZhbHVlcyB9OwogICAgICAgIH0KICAgICAgKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJJZGVudGlmaWVyIikpLAogICAgICAgIHRpdGxlOiBnZXRFbGVtZW50VGV4dChmaW5kQ2hpbGRFbGVtZW50KGVsZW1lbnQsICJUaXRsZSIpKSwKICAgICAgICBhYnN0cmFjdDogZ2V0RWxlbWVudFRleHQoZmluZENoaWxkRWxlbWVudChlbGVtZW50LCAiQWJzdHJhY3QiKSksCiAgICAgICAgc3R5bGVzLAogICAgICAgIHJlc291cmNlTGlua3MsCiAgICAgICAgbWF0cml4U2V0cywKICAgICAgICBkZWZhdWx0U3R5bGUsCiAgICAgICAgLi4ubGF0TG9uQm91bmRpbmdCb3ggJiYgeyBsYXRMb25Cb3VuZGluZ0JveCB9LAogICAgICAgIC4uLmRpbWVuc2lvbnMgJiYgeyBkaW1lbnNpb25zIH0KICAgICAgfTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBwYXJzZUZlYXR1cmVQcm9wcyhnZXRGZWF0dXJlc0RvYywgZmVhdHVyZVR5cGVGdWxsLCBzZXJ2aWNlVmVyc2lvbikgewogICAgY29uc3QgY29sbGVjdGlvbiA9IGdldFJvb3RFbGVtZW50KGdldEZlYXR1cmVzRG9jKTsKICAgIGxldCBtZW1iZXJzOwogICAgaWYgKHNlcnZpY2VWZXJzaW9uLnN0YXJ0c1dpdGgoIjIuMCIpKSB7CiAgICAgIG1lbWJlcnMgPSBmaW5kQ2hpbGRyZW5FbGVtZW50KGNvbGxlY3Rpb24sICJtZW1iZXIiKS5tYXAoCiAgICAgICAgKHBhcmVudCkgPT4gZ2V0Q2hpbGRyZW5FbGVtZW50KHBhcmVudClbMF0KICAgICAgKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IG1lbWJlcnNSb290ID0gZmluZENoaWxkRWxlbWVudChjb2xsZWN0aW9uLCAiZmVhdHVyZU1lbWJlcnMiKTsKICAgICAgbWVtYmVycyA9IG1lbWJlcnNSb290ID8gZ2V0Q2hpbGRyZW5FbGVtZW50KG1lbWJlcnNSb290KSA6IGZpbmRDaGlsZHJlbkVsZW1lbnQoY29sbGVjdGlvbiwgImZlYXR1cmVNZW1iZXIiKS5tYXAoCiAgICAgICAgKHBhcmVudCkgPT4gZ2V0Q2hpbGRyZW5FbGVtZW50KHBhcmVudClbMF0KICAgICAgKTsKICAgIH0KICAgIGNvbnN0IGlkQXR0ciA9IHNlcnZpY2VWZXJzaW9uID09PSAiMS4wLjAiID8gImZpZCIgOiAiZ21sOmlkIjsKICAgIGZ1bmN0aW9uIGlzRWxlbWVudFByb3BlcnR5KHByb3BOYW1lKSB7CiAgICAgIHJldHVybiBwcm9wTmFtZSBpbiBmZWF0dXJlVHlwZUZ1bGwucHJvcGVydGllczsKICAgIH0KICAgIGZ1bmN0aW9uIHBhcnNlRWxlbWVudFByb3BlcnR5VmFsdWUocHJvcE5hbWUsIHZhbHVlQXNTdHJpbmcpIHsKICAgICAgY29uc3QgdHlwZSA9IGZlYXR1cmVUeXBlRnVsbC5wcm9wZXJ0aWVzW3Byb3BOYW1lXTsKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAiaW50ZWdlciI6CiAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWVBc1N0cmluZyk7CiAgICAgICAgY2FzZSAiZmxvYXQiOgogICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWVBc1N0cmluZyk7CiAgICAgICAgY2FzZSAiYm9vbGVhbiI6CiAgICAgICAgICByZXR1cm4gdmFsdWVBc1N0cmluZyA9PT0gInRydWUiOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gdmFsdWVBc1N0cmluZzsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gZ2V0UHJvcGVydGllcyhtZW1iZXJFbCkgewogICAgICByZXR1cm4gZ2V0Q2hpbGRyZW5FbGVtZW50KG1lbWJlckVsKS5maWx0ZXIoKGVsKSA9PiBpc0VsZW1lbnRQcm9wZXJ0eShzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShlbCkpKSkucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7CiAgICAgICAgY29uc3QgcHJvcE5hbWUgPSBzdHJpcE5hbWVzcGFjZShnZXRFbGVtZW50TmFtZShjdXJyKSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIC4uLnByZXYsCiAgICAgICAgICBbcHJvcE5hbWVdOiBwYXJzZUVsZW1lbnRQcm9wZXJ0eVZhbHVlKHByb3BOYW1lLCBnZXRFbGVtZW50VGV4dChjdXJyKSkKICAgICAgICB9OwogICAgICB9LCB7fSk7CiAgICB9CiAgICByZXR1cm4gbWVtYmVycy5tYXAoKGVsKSA9PiAoewogICAgICBpZDogZ2V0RWxlbWVudEF0dHJpYnV0ZShlbCwgaWRBdHRyKSwKICAgICAgcHJvcGVydGllczogZ2V0UHJvcGVydGllcyhlbCkKICAgIH0pKTsKICB9CiAgZnVuY3Rpb24gY29tcHV0ZUZlYXR1cmVQcm9wc0RldGFpbHMoZmVhdHVyZXNXaXRoUHJvcHMpIHsKICAgIHJldHVybiBmZWF0dXJlc1dpdGhQcm9wcy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHsKICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBjdXJyLnByb3BlcnRpZXMpIHsKICAgICAgICBjb25zdCBwcm9wVmFsdWUgPSBjdXJyLnByb3BlcnRpZXNbcHJvcE5hbWVdOwogICAgICAgIGlmICghKHByb3BOYW1lIGluIHByZXYpKSB7CiAgICAgICAgICBwcmV2W3Byb3BOYW1lXSA9IHsgdW5pcXVlVmFsdWVzOiBbXSB9OwogICAgICAgIH0KICAgICAgICBjb25zdCB1bmlxdWVWYWx1ZSA9IHByZXZbcHJvcE5hbWVdLnVuaXF1ZVZhbHVlcy5maW5kKAogICAgICAgICAgKHYpID0+IHYudmFsdWUgPT09IHByb3BWYWx1ZQogICAgICAgICk7CiAgICAgICAgaWYgKHVuaXF1ZVZhbHVlKQogICAgICAgICAgdW5pcXVlVmFsdWUuY291bnQrKzsKICAgICAgICBlbHNlCiAgICAgICAgICBwcmV2W3Byb3BOYW1lXS51bmlxdWVWYWx1ZXMucHVzaCh7IHZhbHVlOiBwcm9wVmFsdWUsIGNvdW50OiAxIH0pOwogICAgICB9CiAgICAgIHJldHVybiBwcmV2OwogICAgfSwge30pOwogIH0KICBmdW5jdGlvbiBnZW5lcmF0ZUdldEZlYXR1cmVVcmwoc2VydmljZVVybCwgdmVyc2lvbiwgZmVhdHVyZVR5cGUsIG91dHB1dEZvcm1hdCwgbWF4RmVhdHVyZXMsIGF0dHJpYnV0ZXMsIGhpdHNPbmx5LCBvdXRwdXRDcnMsIGV4dGVudCwgZXh0ZW50Q3JzLCBzdGFydEluZGV4KSB7CiAgICBjb25zdCB0eXBlUGFyYW0gPSB2ZXJzaW9uID09PSAiMi4wLjAiID8gIlRZUEVOQU1FUyIgOiAiVFlQRU5BTUUiOwogICAgY29uc3QgY291bnRQYXJhbSA9IHZlcnNpb24gPT09ICIyLjAuMCIgPyAiQ09VTlQiIDogIk1BWEZFQVRVUkVTIjsKICAgIGNvbnN0IG5ld1BhcmFtcyA9IHsKICAgICAgU0VSVklDRTogIldGUyIsCiAgICAgIFJFUVVFU1Q6ICJHZXRGZWF0dXJlIiwKICAgICAgVkVSU0lPTjogdmVyc2lvbiwKICAgICAgW3R5cGVQYXJhbV06IGZlYXR1cmVUeXBlCiAgICB9OwogICAgaWYgKG91dHB1dEZvcm1hdCAhPT0gdm9pZCAwKQogICAgICBuZXdQYXJhbXMuT1VUUFVURk9STUFUID0gb3V0cHV0Rm9ybWF0OwogICAgaWYgKGF0dHJpYnV0ZXMgIT09IHZvaWQgMCkKICAgICAgbmV3UGFyYW1zLlBST1BFUlRZTkFNRSA9IGF0dHJpYnV0ZXMuam9pbigiLCIpOwogICAgaWYgKGhpdHNPbmx5KSB7CiAgICAgIG5ld1BhcmFtcy5SRVNVTFRUWVBFID0gImhpdHMiOwogICAgICBuZXdQYXJhbXNbY291bnRQYXJhbV0gPSAiMSI7CiAgICB9IGVsc2UgaWYgKG1heEZlYXR1cmVzICE9PSB2b2lkIDApCiAgICAgIG5ld1BhcmFtc1tjb3VudFBhcmFtXSA9IG1heEZlYXR1cmVzLnRvU3RyaW5nKDEwKTsKICAgIGlmIChvdXRwdXRDcnMpIHsKICAgICAgbmV3UGFyYW1zLlNSU05BTUUgPSBvdXRwdXRDcnM7CiAgICB9CiAgICBpZiAoZXh0ZW50KSB7CiAgICAgIGNvbnN0IGV4dGVudEpvaW5lZCA9IGV4dGVudC5qb2luKCIsIik7CiAgICAgIG5ld1BhcmFtcy5CQk9YID0gZXh0ZW50Q3JzID8gYCR7ZXh0ZW50Sm9pbmVkfSwke2V4dGVudENyc31gIDogZXh0ZW50Sm9pbmVkOwogICAgfQogICAgaWYgKHN0YXJ0SW5kZXgpIHsKICAgICAgbmV3UGFyYW1zLlNUQVJUSU5ERVggPSBzdGFydEluZGV4LnRvU3RyaW5nKDEwKTsKICAgIH0KICAgIHJldHVybiBzZXRRdWVyeVBhcmFtcyhzZXJ2aWNlVXJsLCBuZXdQYXJhbXMpOwogIH0KICBhZGRUYXNrSGFuZGxlcigKICAgICJwYXJzZVdtc0NhcGFiaWxpdGllcyIsCiAgICBnbG9iYWxUaGlzLAogICAgKHsgdXJsIH0pID0+IHF1ZXJ5WG1sRG9jdW1lbnQodXJsKS50aGVuKCh4bWxEb2MpID0+IGNoZWNrKHhtbERvYywgdXJsKSkudGhlbigoeG1sRG9jKSA9PiAoewogICAgICBpbmZvOiByZWFkSW5mb0Zyb21DYXBhYmlsaXRpZXMkMih4bWxEb2MpLAogICAgICBsYXllcnM6IHJlYWRMYXllcnNGcm9tQ2FwYWJpbGl0aWVzJDEoeG1sRG9jKSwKICAgICAgdXJsOiByZWFkT3BlcmF0aW9uVXJsc0Zyb21DYXBhYmlsaXRpZXMkMSh4bWxEb2MpLAogICAgICB2ZXJzaW9uOiByZWFkVmVyc2lvbkZyb21DYXBhYmlsaXRpZXMkMSh4bWxEb2MpCiAgICB9KSkKICApOwogIGFkZFRhc2tIYW5kbGVyKAogICAgInBhcnNlV2ZzQ2FwYWJpbGl0aWVzIiwKICAgIGdsb2JhbFRoaXMsCiAgICAoeyB1cmwgfSkgPT4gcXVlcnlYbWxEb2N1bWVudCh1cmwpLnRoZW4oKHhtbERvYykgPT4gY2hlY2soeG1sRG9jLCB1cmwpKS50aGVuKCh4bWxEb2MpID0+ICh7CiAgICAgIGluZm86IHJlYWRJbmZvRnJvbUNhcGFiaWxpdGllcyQxKHhtbERvYyksCiAgICAgIGZlYXR1cmVUeXBlczogcmVhZEZlYXR1cmVUeXBlc0Zyb21DYXBhYmlsaXRpZXMoeG1sRG9jKSwKICAgICAgdXJsOiByZWFkT3BlcmF0aW9uVXJsc0Zyb21DYXBhYmlsaXRpZXMoeG1sRG9jKSwKICAgICAgdmVyc2lvbjogcmVhZFZlcnNpb25Gcm9tQ2FwYWJpbGl0aWVzKHhtbERvYykKICAgIH0pKQogICk7CiAgYWRkVGFza0hhbmRsZXIoCiAgICAicXVlcnlXZnNGZWF0dXJlVHlwZURldGFpbHMiLAogICAgZ2xvYmFsVGhpcywKICAgICh7CiAgICAgIHVybCwKICAgICAgc2VydmljZVZlcnNpb24sCiAgICAgIGZlYXR1cmVUeXBlRnVsbAogICAgfSkgPT4gewogICAgICBjb25zdCBnZXRGZWF0dXJlVXJsID0gZ2VuZXJhdGVHZXRGZWF0dXJlVXJsKAogICAgICAgIHVybCwKICAgICAgICBzZXJ2aWNlVmVyc2lvbiwKICAgICAgICBmZWF0dXJlVHlwZUZ1bGwubmFtZSwKICAgICAgICB2b2lkIDAsCiAgICAgICAgdm9pZCAwLAogICAgICAgIE9iamVjdC5rZXlzKGZlYXR1cmVUeXBlRnVsbC5wcm9wZXJ0aWVzKQogICAgICApOwogICAgICByZXR1cm4gcXVlcnlYbWxEb2N1bWVudChnZXRGZWF0dXJlVXJsKS50aGVuKChnZXRGZWF0dXJlRG9jKSA9PiAoewogICAgICAgIHByb3BzOiBjb21wdXRlRmVhdHVyZVByb3BzRGV0YWlscygKICAgICAgICAgIHBhcnNlRmVhdHVyZVByb3BzKGdldEZlYXR1cmVEb2MsIGZlYXR1cmVUeXBlRnVsbCwgc2VydmljZVZlcnNpb24pCiAgICAgICAgKQogICAgICB9KSk7CiAgICB9CiAgKTsKICBhZGRUYXNrSGFuZGxlcigKICAgICJ1cGRhdGVGZXRjaE9wdGlvbnMiLAogICAgZ2xvYmFsVGhpcywKICAgICh7IG9wdGlvbnMgfSkgPT4gewogICAgICBzZXRGZXRjaE9wdGlvbnMob3B0aW9ucyk7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe30pOwogICAgfQogICk7CiAgYWRkVGFza0hhbmRsZXIoCiAgICAicGFyc2VXbXRzQ2FwYWJpbGl0aWVzIiwKICAgIGdsb2JhbFRoaXMsCiAgICAoeyB1cmwgfSkgPT4gcXVlcnlYbWxEb2N1bWVudCh1cmwpLnRoZW4oKHhtbERvYykgPT4gY2hlY2soeG1sRG9jLCB1cmwpKS50aGVuKCh4bWxEb2MpID0+ICh7CiAgICAgIGluZm86IHJlYWRJbmZvRnJvbUNhcGFiaWxpdGllcyh4bWxEb2MpLAogICAgICBsYXllcnM6IHJlYWRMYXllcnNGcm9tQ2FwYWJpbGl0aWVzKHhtbERvYyksCiAgICAgIG1hdHJpeFNldHM6IHJlYWRNYXRyaXhTZXRzRnJvbUNhcGFiaWxpdGllcyh4bWxEb2MpCiAgICB9KSkKICApOwp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD13b3JrZXItMEp6aEV5Q0IuanMubWFwCg==")],{type:"text/javascript;charset=utf-8"});class T0e extends Error{constructor(t){super(t)}}function u1(n){const t=n.indexOf(":");return t>-1?n.substr(t+1):n}function Wo(n){return n.children[0]}function d1(n){return n.name||""}function Er(n,t,e=!1){const r=u1(t);return n&&Array.isArray(n.children)?n.children.reduce(function i(s,o){return u1(d1(o))===r&&s.push(o),e&&Array.isArray(o.children)?[...s,...o.children.reduce(i,[])]:s},[]):[]}function _t(n,t,e=!1){return Er(n,t,e)[0]||null}function h1(n){return n&&Array.isArray(n.children)?[...n.children.filter(t=>t instanceof ho.XmlElement)]:[]}function Ut(n){const t=n&&Array.isArray(n.children)?n.children.find(e=>"text"===e.type):null;return t?t.text:""}function Ii(n,t){return n&&n.attributes[t]||""}class e5 extends Error{constructor(t,e,r){super(t),this.httpStatus=e,this.isCrossOriginRelated=r,this.name="EndpointError"}}class hI extends Error{constructor(t,e,r,i,s){super(t),this.requestUrl=e,this.code=r,this.locator=i,this.response=s,this.name="ServiceExceptionError"}}function KN(n,t){const e=Ii(n,"code")||Ii(n,"exceptionCode"),r=Ii(n,"locator"),s=Ut(_t(n,"ExceptionText")||n).trim();return new hI(s,t,e,r,n.document)}function fI(n,t){const e=Wo(n),r=u1(d1(e));if("ServiceExceptionReport"===r){const i=_t(e,"ServiceException");if(i)throw KN(i,t)}if("ExceptionReport"===r){const i=_t(e,"Exception");if(i)throw KN(i,t)}return n}const qN=["utf-8","utf-16","iso-8859-1"],Uy=new Map;let pI={};function QN(){return pI}function Zy(n){return function V0e(n,t="GET",e){let r=`${t}#${n}`;if(e&&(r=`${t}#asJson#${n}`),Uy.has(r))return Uy.get(r);const i={...QN()};i.method=t,e&&(i.headers="headers"in i?i.headers:{},i.headers.Accept="application/json");const s=fetch(n,i).catch(o=>o).then(o=>(Uy.delete(r),o));return Uy.set(r,s),s.then(o=>{if(o instanceof Error)throw o;return o.clone()})}(n).catch(()=>fetch(n,{...QN(),method:"HEAD",mode:"no-cors"}).catch(t=>{throw new e5(`Fetching the document failed either due to network errors or unreachable host, error is: ${t.message}`,0,!1)}).then(()=>{throw new e5("The document could not be fetched due to CORS limitations",0,!0)})).then(function(){var t=(0,La.A)(function*(e){if(!e.ok){const s=yield e.text();throw new e5(`Received an error with code ${e.status}: ${s}`,e.status,!1)}return function H0e(n,t){const e=t?function L0e(n){const t=/charset=([^;]+)/.exec(n);return t?t[1]:null}(t):null,r=e?[e,...qN]:qN;for(const i of r)try{return new TextDecoder(i,{fatal:!0}).decode(n)}catch{}return console.warn("[ogc-client] XML document encoding could not be determined, falling back to utf-8."),new TextDecoder("utf-8").decode(n)}(yield e.arrayBuffer(),e.headers.get("Content-Type"))});return function(e){return t.apply(this,arguments)}}()).then(t=>function z0e(n){let t=null;try{t=(0,ho.parseXml)(n)}catch(e){throw new T0e(e.message)}return t}(t))}function eO(n,t){const e=n.match(/(https?%3A%2F%2F[^/]+)$/);if(e){const a=e[1],l=eO(decodeURIComponent(a),t);return n.replace(a,encodeURIComponent(l))}const r=new URL(n),i=Object.keys(t),s=i.map(a=>a.toLowerCase()),o=[];for(const a of r.searchParams.keys())s.indexOf(a.toLowerCase())>-1&&o.push(a);return o.map(a=>r.searchParams.delete(a)),i.forEach(a=>r.searchParams.set(a,!0===t[a]?"":t[a])),r.toString()}function W0e(n,t,e,r,i,s,o,a,l,c,u){const d="2.0.0"===t?"TYPENAMES":"TYPENAME",h="2.0.0"===t?"COUNT":"MAXFEATURES",f={SERVICE:"WFS",REQUEST:"GetFeature",VERSION:t,[d]:e};if(void 0!==r&&(f.OUTPUTFORMAT=r),void 0!==s&&(f.PROPERTYNAME=s.join(",")),o?(f.RESULTTYPE="hits",f[h]="1"):void 0!==i&&(f[h]=i.toString(10)),a&&(f.SRSNAME=a),l){const g=l.join(",");f.BBOX=c?`${g},${c}`:g}return u&&(f.STARTINDEX=u.toString(10)),eO(n,f)}function i5(n,t,e){const r=typeof WorkerGlobalScope<"u",i=function(){var s=(0,La.A)(function*(o){if(o.taskName===n){let a,l;try{a=yield e(o.params)}catch(u){l=function R0e(n){const t={message:n.message,stack:n.stack,name:n.name};return n instanceof hI?{...t,code:n.code,locator:n.locator,response:n.response,requestUrl:n.requestUrl}:n instanceof e5?{...t,httpStatus:n.httpStatus,isCrossOriginRelated:n.isCrossOriginRelated}:t}(u)}const c={taskName:n,requestId:o.requestId,...a&&{response:a},...l&&{error:l}};r?t.postMessage(c):t.dispatchEvent(new CustomEvent("ogc-client.response",{detail:c}))}});return function(a){return s.apply(this,arguments)}}();r?t.addEventListener("message",s=>i(s.data)):t.addEventListener("ogc-client.request",s=>i(s.detail))}const Y0e=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function AI(n){return/^urn:(?:x-)?ogc:def:crs:epsg:/.test(n.toLowerCase())?`EPSG:${/([0-9]+)$/.exec(n)[1]}`:n}function q0e(n){const t={},e=_t(Wo(n),"Capability");return h1(_t(e,"Request")).forEach(i=>{const s=u1(d1(i));t[s]=function rfe(n){const t={};return Er(n,"DCPType").flatMap(s=>_t(s,"HTTP")).flatMap(s=>h1(s)).forEach(s=>{const o=_t(s,"OnlineResource"),a=u1(d1(s));t[a]=Ii(o,"xlink:href")}),t}(i)}),t}function oO(n){return Wo(n).attributes.version}function J0e(n){const t=oO(n);return Er(_t(Wo(n),"Capability"),"Layer").map(r=>aO(r,t))}function nfe(n){const t=_t(Wo(n),"Service"),e=function Q0e(n){const t=_t(Wo(n),"Capability");return Er(_t(_t(t,"Request"),"GetMap"),"Format").map(Ut)}(n),r=function efe(n){const t=_t(Wo(n),"Capability");return Er(_t(_t(t,"Request"),"GetFeatureInfo"),"Format").map(Ut)}(n),i=function tfe(n){const t=_t(Wo(n),"Capability");return Er(_t(t,"Exception"),"Format").map(Ut)}(n),s=Er(_t(t,"KeywordList"),"Keyword").map(Ut).filter((a,l,c)=>c.indexOf(a)===l),o=function ofe(n){const t=_t(Wo(n),"Service"),e=_t(t,"ContactInformation"),r=_t(e,"ContactPersonPrimary"),i=_t(e,"ContactAddress");return{contact:{name:Ut(_t(r,"ContactPerson")),organization:Ut(_t(r,"ContactOrganization")),position:Ut(_t(e,"ContactPosition")),phone:Ut(_t(e,"ContactVoiceTelephone")),fax:Ut(_t(e,"ContactFacsimileTelephone")),address:{deliveryPoint:Ut(_t(i,"Address")),city:Ut(_t(i,"City")),administrativeArea:Ut(_t(i,"StateOrProvince")),postalCode:Ut(_t(i,"PostCode")),country:Ut(_t(i,"Country"))},email:Ut(_t(e,"ContactElectronicMailAddress"))}}}(n);return{title:Ut(_t(t,"Title")),name:Ut(_t(t,"Name")),abstract:Ut(_t(t,"Abstract")),outputFormats:e,infoFormats:r,exceptionFormats:i,fees:Ut(_t(t,"Fees")),constraints:Ut(_t(t,"AccessConstraints")),provider:o,keywords:s}}function aO(n,t,e=[],r=[],i=null,s=null,o=null,a=null){const l="1.3.0"===t?"CRS":"SRS",c=Er(n,l).map(Ut),u=c.length>0?c:e,d=Er(n,"Style").map(ife),h=d.length>0?d:r;function f(ot){return(function K0e(n){return Y0e.indexOf(AI(n))>-1}(Ii(ot,l))&&"1.3.0"===t?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map(Dt=>Ii(ot,Dt))}function C(ot,nt){return""===ot?nt:Math.sqrt(.5*parseFloat(ot)**2)/28e-5}function L(ot,nt){const It=Ut(_t(n,ot));return""===It?nt:parseFloat(It)}const ie=_t(n,"Attribution"),ne=null!==ie?function sfe(n){const t=Ii(_t(_t(n,"LogoURL"),"OnlineResource"),"xlink:href"),e=Ii(_t(n,"OnlineResource"),"xlink:href"),r=Ut(_t(n,"Title"));return{...r&&{title:r},...e&&{url:e},...t&&{logoUrl:t}}}(ie):i,se=_t(n,"1.3.0"===t?"EX_GeographicBoundingBox":"LatLonBoundingBox"),$={};se&&($["EPSG:4326"]="1.3.0"===t?function g(ot){return["westBoundLongitude","southBoundLatitude","eastBoundLongitude","northBoundLatitude"].map(nt=>Ut(_t(ot,nt)))}(se):function w(ot){return["minx","miny","maxx","maxy"].map(nt=>Ii(ot,nt))}(se));let Y=Er(n,"BoundingBox").reduce((ot,nt)=>({...ot,[Ii(nt,l)]:f(nt)}),$);Y=Object.keys(Y).length>0||null===s?Y:s;const ve="1"===n.attributes.queryable||"true"===n.attributes.queryable,Re="1"===n.attributes.opaque||"true"===n.attributes.opaque,Fe=Er(_t(n,"KeywordList"),"Keyword").map(Ut).filter((ot,nt,It)=>It.indexOf(ot)===nt);let Ze,De;"1.3.0"===t?(Ze=L("MinScaleDenominator",a),De=L("MaxScaleDenominator",o)):[Ze,De]=function I(){const ot=_t(n,"ScaleHint");if(!ot)return[a,o];const nt=Ii(ot,"min"),It=Ii(ot,"max");return[C(nt,a),C(It,o)]}();const st=Er(n,"MetadataURL").map(ot=>({type:Ii(ot,"type"),format:Ut(_t(ot,"Format")),url:Ii(_t(ot,"OnlineResource"),"xlink:href")})),ht=Er(n,"Layer").map(ot=>aO(ot,t,u,h,ne,Y,De,Ze));return{name:Ut(_t(n,"Name")),title:Ut(_t(n,"Title")),abstract:Ut(_t(n,"Abstract")),availableCrs:u,styles:h,attribution:ne,boundingBoxes:Y,keywords:Fe,queryable:ve,opaque:Re,...null!==Ze?{minScaleDenominator:Ze}:{},...null!==De?{maxScaleDenominator:De}:{},...st.length&&{metadata:st},...ht.length&&{children:ht}}}function ife(n){const t=Ii(_t(_t(n,"LegendURL"),"OnlineResource"),"xlink:href"),e=Ut(_t(n,"Abstract"));return{name:Ut(_t(n,"Name")),title:Ut(_t(n,"Title")),...e&&{abstract:e},...t&&{legendUrl:t}}}function lO(n){const t=_t(Wo(n),"ServiceProvider"),e=_t(t,"ServiceContact"),r=_t(e,"ContactInfo"),i=_t(r,"Phone"),s=_t(r,"Address");return{name:Ut(_t(t,"ProviderName")),site:Ii(_t(t,"ProviderSite"),"xlink:href"),contact:{name:Ut(_t(e,"IndividualName")),position:Ut(_t(e,"PositionName")),phone:Ut(_t(i,"Voice")),fax:Ut(_t(i,"Facsimile")),address:{deliveryPoint:Ut(_t(s,"DeliveryPoint")),city:Ut(_t(s,"City")),administrativeArea:Ut(_t(s,"AdministrativeArea")),postalCode:Ut(_t(s,"PostalCode")),country:Ut(_t(s,"Country"))},email:Ut(_t(s,"ElectronicMailAddress"))}}}function afe(n){const t={},e=Wo(n),r=_t(e,"OperationsMetadata");if(r)Er(r,"Operation").forEach(i=>{const s=Ii(i,"name");t[s]=function dfe(n){const t={};return Er(n,"DCP").flatMap(s=>_t(s,"HTTP")).flatMap(s=>h1(s)).forEach(s=>{const o=u1(d1(s));t[o]=Ii(s,"xlink:href")}),t}(i)});else{const i=_t(e,"Capability");h1(_t(i,"Request")).forEach(o=>{const a=u1(d1(o));t[a]=function ufe(n){const t={};return Er(n,"DCPType").flatMap(s=>Er(s,"HTTP")).flatMap(s=>h1(s)).forEach(s=>{const o=u1(d1(s));t[o]=Ii(s,"onlineResource")}),t}(o)})}return t}function Xy(n){return Wo(n).attributes.version}function cO(n){let e;if(Xy(n).startsWith("1.0")){const r=_t(_t(_t(Wo(n),"Capability"),"Request"),"GetFeature");e=h1(_t(r,"ResultFormat")).map(d1)}else{const i=Er(_t(Wo(n),"OperationsMetadata"),"Operation").find(o=>"GetFeature"===Ii(o,"name")),s=Er(i,"Parameter").find(o=>"outputFormat"===Ii(o,"name"));e=Er(s,"Value",!0).map(Ut)}return e}function lfe(n){const t=Xy(n),e=t.startsWith("1.0")?"Service":"ServiceIdentification",r=t.startsWith("1.0")?"Name":"ServiceType",i=_t(Wo(n),e);let s,o;return s=t.startsWith("1.0")?Ut(_t(i,"Keywords")).split(",").map(a=>a.trim()):Er(_t(i,"Keywords"),"Keyword").map(Ut),"1.0.0"!==t&&(o=lO(n)),{title:Ut(_t(i,"Title")),name:Ut(_t(i,r)),abstract:Ut(_t(i,"Abstract")),fees:Ut(_t(i,"Fees")),constraints:Ut(_t(i,"AccessConstraints")),keywords:s,provider:o,outputFormats:cO(n)}}function cfe(n){const t=Xy(n),e=cO(n);return Er(_t(Wo(n),"FeatureTypeList"),"FeatureType").map(i=>function hfe(n,t,e){const r=t.startsWith("2.")?"CRS":"SRS",i=t.startsWith("1.0")?"SRS":`Default${r}`;const a=t.startsWith("1.0")?[]:Er(n,`Other${r}`).map(Ut).map(AI),l=t.startsWith("1.0")?[]:Er(_t(n,"OutputFormats"),"Format").map(Ut),c=t.startsWith("1.0")?Ut(_t(n,"Keywords")).split(",").map(d=>d.trim()):Er(_t(n,"Keywords"),"Keyword").map(Ut).filter((d,h,f)=>f.indexOf(d)===h),u="2.0.0"===t?Er(n,"MetadataURL").map(d=>({url:Ii(d,"xlink:href")})):Er(n,"MetadataURL").map(d=>({format:Ii(d,"format"),type:Ii(d,"type"),url:Ut(d).trim()}));return{name:Ut(_t(n,"Name")),title:Ut(_t(n,"Title")),abstract:Ut(_t(n,"Abstract")),defaultCrs:AI(Ut(_t(n,i))),otherCrs:a,outputFormats:l.length>0?l:e,latLonBoundingBox:t.startsWith("1.0")?function s(){const d=_t(n,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map(h=>Ii(d,h)).map(parseFloat)}():function o(){const d=_t(n,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map(h=>_t(d,h)).map(h=>Ut(h).split(" ")).reduce((h,f)=>[...h,...f]).map(parseFloat)}(),keywords:c,...u.length&&{metadata:u}}}(i,t,e))}function uO(n){const t=["LowerCorner","UpperCorner"].map(e=>_t(n,e)).map(e=>Ut(e).split(" ")).reduce((e,r)=>[...e,...r]).map(parseFloat);return t.some(Number.isNaN)?null:t}function ffe(n){const t=Wo(n),e=_t(t,"ServiceIdentification"),r=Er(_t(e,"Keywords"),"Keyword").map(Ut),s=Er(_t(t,"OperationsMetadata"),"Operation").find(a=>"GetTile"==Ii(a,"name")),o=Er(s,"Get",!0).reduce((a,l)=>{const c=Ut(_t(l,"Value",!0)),u=Ii(l,"xlink:href");return"restful"===c.toLowerCase()?{...a,rest:u}:{...a,kvp:u}},{});return{title:Ut(_t(e,"Title")),name:Ut(_t(e,"ServiceType")),abstract:Ut(_t(e,"Abstract")),fees:Ut(_t(e,"Fees")),constraints:Ut(_t(e,"AccessConstraints")),keywords:r,provider:lO(n),getTileUrls:o}}function pfe(n){function t(i){const s=Ut(_t(i,"TopLeftCorner")).split(" ").map(parseFloat);return{identifier:Ut(_t(i,"Identifier")),tileWidth:parseInt(Ut(_t(i,"TileWidth"))),tileHeight:parseInt(Ut(_t(i,"TileHeight"))),matrixWidth:parseInt(Ut(_t(i,"MatrixWidth"))),matrixHeight:parseInt(Ut(_t(i,"MatrixHeight"))),scaleDenominator:parseFloat(Ut(_t(i,"ScaleDenominator"))),topLeft:s}}return Er(_t(Wo(n),"Contents"),"TileMatrixSet").map(i=>{const s=Ut(_t(i,"WellKnownScaleSet")),o=uO(_t(i,"BoundingBox"));return{identifier:Ut(_t(i,"Identifier")),crs:Ut(_t(i,"SupportedCRS")),tileMatrices:Er(i,"TileMatrix").map(t),...o&&{boundingBox:o},...s&&{wellKnownScaleSet:s}}})}function gfe(n){const t=Wo(n),e=_t(t,"Contents");function i(u){const d=Ut(_t(u,"TileMatrixSet")),h=function r(u,d){const h=Er(u,"TileMatrixSet").find(f=>Ut(_t(f,"Identifier"))===d);return Ut(_t(h,"SupportedCRS"))}(e,d);return{identifier:d,crs:h,limits:Er(u,"TileMatrixLimits",!0).map(f=>({tileMatrix:Ut(_t(f,"TileMatrix")),minTileRow:parseInt(Ut(_t(f,"MinTileRow"))),minTileCol:parseInt(Ut(_t(f,"MinTileCol"))),maxTileRow:parseInt(Ut(_t(f,"MaxTileRow"))),maxTileCol:parseInt(Ut(_t(f,"MaxTileCol")))}))}}const s=Er(_t(t,"OperationsMetadata"),"Operation").find(u=>"GetTile"==Ii(u,"name")),o=Er(s,"Get",!0).filter(u=>"kvp"===Ut(_t(u,"Value",!0)).toLowerCase())[0],a=o?Ii(o,"xlink:href"):"";return Er(_t(t,"Contents"),"Layer").map(u=>{const d=uO(_t(u,"WGS84BoundingBox"));let h="";const f=Er(u,"Style").map(L=>{const ie=Ii(_t(L,"LegendURL"),"xlink:href"),ne=Ut(_t(L,"Abstract")),se={title:Ut(_t(L,"Title")),name:Ut(_t(L,"Identifier")),...ne&&{abstract:ne},...ie&&{legendUrl:ie}};return"true"===Ii(L,"isDefault")&&(h=se.name),se}),g=Er(u,"Format").map(Ut),w=Er(u,"ResourceURL").filter(L=>"tile"===Ii(L,"resourceType")).map(L=>({format:Ii(L,"format"),url:Ii(L,"template"),encoding:"REST"}));a&&w.push(...g.map(L=>({encoding:"KVP",url:a,format:L})));const C=Er(u,"TileMatrixSetLink").map(i),I=Er(u,"Dimension").map(L=>({identifier:Ut(_t(L,"Identifier")),defaultValue:Ut(_t(L,"Default")),values:Er(L,"Values").map(Ut)}));return{name:Ut(_t(u,"Identifier")),title:Ut(_t(u,"Title")),abstract:Ut(_t(u,"Abstract")),styles:f,resourceLinks:w,matrixSets:C,defaultStyle:h,...d&&{latLonBoundingBox:d},...I&&{dimensions:I}}})}function mfe(n,t,e){const r=Wo(n);let i;if(e.startsWith("2.0"))i=Er(r,"member").map(c=>h1(c)[0]);else{const c=_t(r,"featureMembers");i=c?h1(c):Er(r,"featureMember").map(u=>h1(u)[0])}const s="1.0.0"===e?"fid":"gml:id";function a(c,u){switch(t.properties[c]){case"integer":return parseInt(u);case"float":return parseFloat(u);case"boolean":return"true"===u;default:return u}}function l(c){return h1(c).filter(u=>function o(c){return c in t.properties}(u1(d1(u)))).reduce((u,d)=>{const h=u1(d1(d));return{...u,[h]:a(h,Ut(d))}},{})}return i.map(c=>({id:Ii(c,s),properties:l(c)}))}function vfe(n){return n.reduce((t,e)=>{for(const r in e.properties){const i=e.properties[r];r in t||(t[r]={uniqueValues:[]});const s=t[r].uniqueValues.find(o=>o.value===i);s?s.count++:t[r].uniqueValues.push({value:i,count:1})}return t},{})}i5("parseWmsCapabilities",globalThis,({url:n})=>Zy(n).then(t=>fI(t,n)).then(t=>({info:nfe(t),layers:J0e(t),url:q0e(t),version:oO(t)}))),i5("parseWfsCapabilities",globalThis,({url:n})=>Zy(n).then(t=>fI(t,n)).then(t=>({info:lfe(t),featureTypes:cfe(t),url:afe(t),version:Xy(t)}))),i5("queryWfsFeatureTypeDetails",globalThis,({url:n,serviceVersion:t,featureTypeFull:e})=>Zy(W0e(n,t,e.name,void 0,void 0,Object.keys(e.properties))).then(i=>({props:vfe(mfe(i,e,t))}))),i5("updateFetchOptions",globalThis,({options:n})=>(function D0e(n){pI=n}(n),Promise.resolve({}))),i5("parseWmtsCapabilities",globalThis,({url:n})=>Zy(n).then(t=>fI(t,n)).then(t=>({info:ffe(t),layers:gfe(t),matrixSets:pfe(t)})));const EI="2.6.3-dev";EI.split("-");let _fe=(()=>{class n{get lang3(){return hh(this.translateService.currentLang)}constructor(e,r,i,s,o,a,l,c,u,d){this.siteApiService=e,this.meApi=r,this.usersApi=i,this.mapper=s,this.toolsApiService=o,this.registriesApiService=a,this.translateService=l,this.userfeedbackApiService=c,this.httpClient=u,this.recordsApiService=d,this.type="GeoNetwork",this.keyTranslations$=this.toolsApiService.getTranslationsPackage1("gnui").pipe(zh(()=>(console.warn("Error while loading gnui language package"),zi({}))),Ha(1)),this.settings$=zi(!0).pipe($s(()=>this.siteApiService.getSiteOrPortalDescription()),Ha(1)),this.apiVersion$=this.settings$.pipe(Te(h=>h["system/platform/version"]),F_(h=>{if((0,Kv.ltr)(h,"4.2.2"))throw new Error(`Gn4 API version is not compatible.\nMinimum: 4.2.2\nYour version: ${h}`)}),Ha(1)),this.allowEditHarvestedMd$=this.settings$.pipe(Te(h=>h["system/harvester/enableEditing"]),Ha(1)),this.keywordsByThesauri={},this.allThesaurus$=this.httpClient.get(`${this.registriesApiService.configuration.basePath}/thesaurus?_content_type=json`).pipe(Te(h=>h[0]),Ha(1)),this.me$=this.meApi.getMe().pipe($s(h=>this.mapper.userFromMeApi(h)),Ha({bufferSize:1,refCount:!0})),this.isUserAnonymous$=this.me$.pipe(Te(h=>!h||!("id"in h))),this.users$=this.usersApi.getUsers().pipe(Te(h=>h.map(f=>this.mapper.userFromApi(f))),Ha())}getType(){return this.type}getApiVersion(){return this.apiVersion$}getAllowEditHarvestedMd(){return this.allowEditHarvestedMd$}getMe(){return this.me$}isAnonymous(){return this.isUserAnonymous$}getOrganizations(){}getUsersByOrganization(e){}getUsers(){return this.users$}translateKey(e){if(e.match(/^https?:\/\//)){const r=e.replace(/\/([^/]+)$/,"/");return this.getKeywordsByUri(r).pipe(Te(i=>{for(const s of i)if(s.key===e)return s.label;return e}))}return this.keyTranslations$.pipe(Te(r=>r[e]))}searchKeywords(e,r){return kp([this.allThesaurus$.pipe($s(s=>{const o=[];return r.map(a=>{o.push(...s.filter(l=>l.dname===a))}),this.registriesApiService.searchKeywords(e,this.lang3,10,0,null,o.map(a=>a.key),null,`*${e}*`)})),this.allThesaurus$]).pipe(Te(([s,o])=>this.mapper.keywordsFromApi(s,o,this.lang3)))}getKeywordsByUri(e){if(this.keywordsByThesauri[e])return this.keywordsByThesauri[e];const r=this.registriesApiService.searchKeywords(null,this.lang3,1e3,0,null,null,null,`${e}*`);return this.keywordsByThesauri[e]=kp([r,this.allThesaurus$]).pipe(Te(([i,s])=>this.mapper.keywordsFromApi(i,s,this.lang3)),Ha(1)),this.keywordsByThesauri[e]}searchKeywordsInThesaurus(e,r){return this.allThesaurus$.pipe($s(i=>{const s=r.replace("geonetwork.thesaurus.","");return i.find(o=>o.key===s)?this.registriesApiService.searchKeywords(e,this.lang3,100,0,null,[s],null).pipe(Te(o=>this.mapper.keywordsFromApi(o,i,this.lang3))):zi([])}))}getUserFeedbacks(e){return this.userfeedbackApiService.getUserComments(e).pipe(Te(r=>r.map(this.mapper.userFeedbacksFromApi)),zh(r=>(console.error("Error fetching user feedbacks:",r),zi(void 0))))}postUserFeedbacks(e){const r=this.mapper.userFeedbacksToApi(e);return this.userfeedbackApiService.newUserFeedback(r).pipe(Te(()=>{}),zh(i=>(console.error("Error posting user feedback:",i),zi(void 0))))}getRecordAttachments(e){return this.recordsApiService.getAllResources(e).pipe(Te(r=>r.map(i=>({url:new URL(i.url),fileName:i.filename}))))}cleanRecordAttachments(e){return kp([this.recordsApiService.getAssociatedResources(e.uniqueIdentifier),this.recordsApiService.getAllResources(e.uniqueIdentifier)]).pipe(Te(([r,i])=>{const{onlines:s=[],thumbnails:o=[]}=r,a=[...Array.isArray(s)?s:[],...Array.isArray(o)?o:[]].map(c=>Object.values(c.url)[0]);return i.filter(c=>!a.includes(c.url)).map(c=>c.filename)}),yp(r=>r.length?gv(r.map(i=>this.recordsApiService.delResource(e.uniqueIdentifier,i))).pipe(Te(()=>{})):zi(void 0)),zh(r=>{throw console.error("Error while cleaning attachments:",r),r}))}uploadFile(e,r){let i=-1;return this.recordsApiService.putResource(e,r,"public",void 0,"events",!0).pipe(Te(s=>s.type===n1.UploadProgress?(i=s.total,{type:"progress",progress:s.total?Math.round(100*s.loaded/s.total):0}):s.type===n1.Response?{type:"success",attachment:{url:new URL(s.body.url),fileName:s.body.filename},sizeBytes:i}:void 0),dv(s=>!!s),zh(s=>k_(()=>new Error(s.error?.message??s.message))))}attachFileToRecord(e,r,i=!1){return this.getRecordAttachments(e).pipe(Te(s=>s.map(o=>o.fileName)),$s(s=>{const o=r.name;if(i&&s.includes(r.name))return this.recordsApiService.delResource(e,o).pipe($s(()=>{const a=new File([r],o,{type:r.type});return this.uploadFile(e,a)}));{const a=function s0e(n,t){if(t.includes(n)){const e=n.split(".");let r="",i=n;e.length>1&&(r=e.pop(),i=e.join(".")),n=r?`${i}_${Date.now()}.${r}`:`${i}_${Date.now()}`}return n}(o,s),l=new File([r],a,{type:r.type});return this.uploadFile(e,l)}}))}static{this.\u0275fac=function(r){return new(r||n)($e(ex),$e(Lk),$e(kk),$e(WB),$e(Dk),$e(Hk),$e(Rc),$e(Vk),$e(ui),$e(Qb))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac})}}return n})();class gO{}function Afe(n,t){if(1&n&&(sa(0,"h2",4),dp(1),va()),2&n){const e=e1();Ua("title",e.tooltip),Ra(),oh(" ",e.name," ")}}function Mfe(n,t){if(1&n&&(sa(0,"div",5)(1,"div",6),dp(2),va()()),2&n){const e=e1();Ra(2),oh(" ",e.description," ")}}let Efe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=bc({type:n,selectors:[["gn-ui-catalog-title"]],inputs:{name:"name",tooltip:"tooltip",description:"description"},standalone:!0,features:[Y2],decls:4,vars:2,consts:[[1,"lg:flex","lg:items-center","lg:justify-between"],[1,"flex-1","min-w-0"],["class","text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:leading-9 sm:truncate",3,"title",4,"ngIf"],["class","mt-1 flex flex-col sm:mt-0 sm:flex-row sm:flex-wrap",4,"ngIf"],[1,"text-2xl","font-bold","leading-7","text-gray-900","sm:text-3xl","sm:leading-9","sm:truncate",3,"title"],[1,"mt-1","flex","flex-col","sm:mt-0","sm:flex-row","sm:flex-wrap"],[1,"mt-2","flex","items-center","text-sm","leading-5","text-gray-500","sm:mr-6"]],template:function(r,i){1&r&&(sa(0,"div",0)(1,"div",1),U2(2,Afe,2,2,"h2",2)(3,Mfe,3,1,"div",3),va()()),2&r&&(Ra(2),Ua("ngIf",i.name),Ra(),Ua("ngIf",i.description))},dependencies:[vp,gw]})}}return n})();const Sfe=["*"];let Tfe=(()=>{class n{constructor(){this.btnClass="gn-ui-btn-default",this.disabled=!1,this.extraClass="",this.buttonClick=new Zs}set type(e){switch(e){case"primary":this.btnClass="gn-ui-btn-primary";break;case"secondary":this.btnClass="gn-ui-btn-secondary";break;case"outline":this.btnClass="gn-ui-btn-outline";break;case"light":this.btnClass="gn-ui-btn-light";break;case"gray":this.btnClass="gn-ui-btn-gray";break;case"black":this.btnClass="gn-ui-btn-black";break;default:this.btnClass="gn-ui-btn-default"}}get classList(){return`${this.btnClass} ${this.extraClass}`}handleClick(e){this.buttonClick.emit(e),e.preventDefault(),e.currentTarget.blur(),function i0e(n){n.stopPropagation(),setTimeout(()=>{window.document.dispatchEvent(n)},0)}(e)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=bc({type:n,selectors:[["gn-ui-button"]],inputs:{type:"type",disabled:"disabled",extraClass:"extraClass"},outputs:{buttonClick:"buttonClick"},standalone:!0,features:[Y2],ngContentSelectors:Sfe,decls:2,vars:3,consts:[["type","button",3,"click","disabled"]],template:function(r,i){1&r&&(function NL(n){const t=Rt()[vs][rs];if(!t.projection){const r=t.projection=function F1(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}(n?n.length:1,null),i=r.slice();let s=t.child;for(;null!==s;){if(128!==s.type){const o=n?Yq(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}(),sa(0,"button",0),hu("click",function(o){return i.handleClick(o)}),function OL(n,t=0,e,r,i,s){const o=Rt(),a=Zr(),l=r?n+1:null;null!==l&&Bm(o,a,l,r,i,s,null,e);const c=P2(a,Rn+n,16,null,e||null);null===c.projection&&(c.projection=t),h4();const d=!o[Yt]||$d();null===o[vs][rs].projection[c.projection]&&null!==l?function Kq(n,t,e){const r=Rn+e,i=t.data[r],s=n[r],o=O2(s,i.tView.ssrId);Nf(s,Bf(n,i,void 0,{dehydratedView:o}),0,B2(i,o))}(o,a,l):d&&32&~c.flags&&function WZ(n,t,e){TT(t[dt],0,t,e,x8(n,e,t),_T(e.parent||t[rs],e,t))}(a,o,c)}(1),va()),2&r&&(eL(i.classList),Ua("disabled",i.disabled))},changeDetection:0})}}return n})();function mO(n){return Array.isArray(n)?n:[n]}function jo(n){return null==n?"":"string"==typeof n?n:`${n}px`}const Ffe=["addListener","removeListener"],Pfe=["addEventListener","removeEventListener"],Bfe=["on","off"];function SI(n,t,e,r){if(Jt(e)&&(r=e,e=void 0),r)return SI(n,t,e).pipe(tx(r));const[i,s]=function Gfe(n){return Jt(n.addEventListener)&&Jt(n.removeEventListener)}(n)?Pfe.map(o=>a=>n[o](t,a,e)):function Nfe(n){return Jt(n.addListener)&&Jt(n.removeListener)}(n)?Ffe.map(vO(n,t)):function Ofe(n){return Jt(n.on)&&Jt(n.off)}(n)?Bfe.map(vO(n,t)):[];if(!i&&$b(n))return yp(o=>SI(o,t,e))(wa(n));if(!i)throw new TypeError("Invalid event target");return new kr(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function vO(n,t){return e=>r=>n[e](t,r)}class Wfe extends ut{constructor(t,e){super()}schedule(t,e=0){return this}}const Yy={setInterval(n,t,...e){const{delegate:r}=Yy;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Yy;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class TI extends Wfe{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,r=0){return Yy.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Yy.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,it(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const s5={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=s5;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(s=>{e=void 0,n(s)});return new ut(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=s5;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=s5;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};class o5{constructor(t,e=o5.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}o5.now=nx.now;class zI extends o5{constructor(t,e=o5.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}new class Ufe extends zI{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class jfe extends TI{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=s5.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:s}=t;null!=e&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==e&&(s5.cancelAnimationFrame(e),t._scheduled=void 0)}});let RI,$fe=1;const Ky={};function wO(n){return n in Ky&&(delete Ky[n],!0)}const Xfe={setImmediate(n){const t=$fe++;return Ky[t]=!0,RI||(RI=Promise.resolve()),RI.then(()=>wO(t)&&n()),t},clearImmediate(n){wO(n)}},{setImmediate:Yfe,clearImmediate:Kfe}=Xfe,qy={setImmediate(...n){const{delegate:t}=qy;return(t?.setImmediate||Yfe)(...n)},clearImmediate(n){const{delegate:t}=qy;return(t?.clearImmediate||Kfe)(n)},delegate:void 0},LI=(new class Jfe extends zI{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class qfe extends TI{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=qy.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:s}=t;null!=e&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==e&&(qy.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}}),new zI(TI)),epe=LI;function yO(n,t=LI){return function tpe(n){return Si((t,e)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,e.next(c)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};t.subscribe(de(e,c=>{r=!0,i=c,s||wa(n(c)).subscribe(s=de(e,a,l))},()=>{o=!0,(!r||!s||s.closed)&&e.complete()}))})}(()=>function rpe(n=0,t,e=epe){let r=-1;return null!=t&&(OV(t)?e=t:r=t),new kr(i=>{let s=function npe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,t))}let HI;try{HI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{HI=!1}let I0,a5=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function fne(n){return n===pV}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!HI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||n)($e(au))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function spe(){if(null==I0){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return I0=!1,I0;if("scrollBehavior"in document.documentElement.style)I0=!0;else{const n=Element.prototype.scrollTo;I0=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return I0}function VI(n){return n.composedPath?n.composedPath()[0]:n.target}function bO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const ape=new Wt("cdk-dir-doc",{providedIn:"root",factory:function lpe(){return gt(ko)}}),cpe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let xO=(()=>{class n{constructor(e){this.value="ltr",this.change=new Zs,e&&(this.value=function upe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?cpe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||n)($e(ape,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ta({type:n})}static{this.\u0275inj=fa({})}}return n})(),hpe=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new yi,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new kr(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(yO(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):zi()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(dv(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,e)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=function kfe(n){return n instanceof Rl?n.nativeElement:n}(r),s=e.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>SI(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(r){return new(r||n)($e(ci),$e(a5),$e(ko,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_O=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new yi,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,s=i.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(yO(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(r){return new(r||n)($e(a5),$e(ci),$e(ko,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),IO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ta({type:n})}static{this.\u0275inj=fa({})}}return n})(),AO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ta({type:n})}static{this.\u0275inj=fa({imports:[kI,IO,kI,IO]})}}return n})();class FI{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class mpe extends FI{constructor(t,e,r,i,s){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class MO extends FI{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class vpe extends FI{constructor(t){super(),this.element=t instanceof Rl?t.nativeElement:t}}class wpe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof mpe?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof MO?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof vpe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ype extends wpe{constructor(t,e,r,i,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||rr.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Cpe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ta({type:n})}static{this.\u0275inj=fa({})}}return n})();const EO=spe();class Ipe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=jo(-this._previousScrollPosition.left),t.style.top=jo(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),EO&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),EO&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class Ape{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(dv(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class SO{enable(){}disable(){}attach(){}}function PI(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function TO(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Mpe{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();PI(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Epe=(()=>{class n{constructor(e,r,i,s){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new SO,this.close=o=>new Ape(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Ipe(this._viewportRuler,this._document),this.reposition=o=>new Mpe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(r){return new(r||n)($e(hpe),$e(_O),$e(ci),$e(ko))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class zO{constructor(t){if(this.scrollStrategy=new SO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class Spe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let RO=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(r){return new(r||n)($e(ko))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Tpe=(()=>{class n extends RO{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(r){return new(r||n)($e(ko),$e(ci,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zpe=(()=>{class n extends RO{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=VI(s)},this._clickListener=s=>{const o=VI(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(LO(u.overlayElement,o)||LO(u.overlayElement,a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(r){return new(r||n)($e(ko),$e(a5),$e(ci,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function LO(n,t){const e=typeof ShadowRoot<"u"&&ShadowRoot;let r=t;for(;r;){if(r===n)return!0;r=e&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}let HO=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||bO()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(e),bO()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static{this.\u0275fac=function(r){return new(r||n)($e(ko),$e(a5))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Rpe{constructor(t,e,r,i,s,o,a,l,c,u=!1,d){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._injector=d,this._backdropElement=null,this._backdropClick=new yi,this._attachments=new yi,this._detachments=new yi,this._locationChanges=ut.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new yi,this._outsidePointerEvents=new yi,this._renders=new yi,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=fb(()=>function wR(n,t){!t?.injector&&df();const e=t?.injector??gt(rr);return Vo(e)?(fl("NgAfterRender"),yR(n,e,t,!1)):CR}(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=function M3(n,t){!t?.injector&&df();const e=t?.injector??gt(rr);return Vo(e)?(fl("NgAfterNextRender"),yR(n,e,t,!0)):CR}(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=jo(this._config.width),t.height=jo(this._config.height),t.minWidth=jo(this._config.minWidth),t.minHeight=jo(this._config.minHeight),t.maxWidth=jo(this._config.maxWidth),t.maxHeight=jo(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=mO(e||[]).filter(s=>!!s);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const t=this._renders.pipe(function ppe(n){return Si((t,e)=>{wa(n).subscribe(de(e,()=>e.complete(),er)),!e.closed&&t.subscribe(e)})}(function bpe(...n){const t=uv(n),e=function pre(n,t){return"number"==typeof Nb(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?wa(r[0]):Bk(e)(rd(r,t)):Ew}(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const DO="cdk-overlay-connected-position-bounding-box",Lpe=/([A-Za-z%]+)$/;class Hpe{get positions(){return this._preferredPositions}constructor(t,e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new yi,this._resizeSubscription=ut.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(DO),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,i,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&A0(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(DO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,s;if("center"==r.originX)i=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;i="start"==r.originX?o:a}return e.left<0&&(i-=e.left),s="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:i,y:s}}_getOverlayPoint(t,e,r){let i,s;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+s}}_getOverlayFit(t,e,r,i){const s=kO(e);let{x:o,y:a}=t,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,g=this._subtractOverflows(s.width,0-o,o+s.width-r.width),w=this._subtractOverflows(s.height,h,f),C=g*w;return{visibleArea:C,isCompletelyWithinViewport:s.width*s.height===C,fitsInViewportVertically:w===s.height,fitsInViewportHorizontally:g==s.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,s=r.right-e.x,o=VO(this._overlayRef.getConfig().minHeight),a=VO(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=o&&o<=i)&&(t.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=kO(e),s=this._viewportRect,o=Math.max(t.x+i.width-s.width,0),a=Math.max(t.y+i.height-s.height,0),l=Math.max(s.top-r.top-t.y,0),c=Math.max(s.left-r.left-t.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:t.x<this._viewportMargin?s.left-r.left-t.x:0,d=i.height<=s.height?l||-a:t.y<this._viewportMargin?s.top-r.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function Dpe(n,t){return n===t||n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new Spe(t,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===e.overlayY)o=t.y,s=r.height-o+this._viewportMargin;else if("bottom"===e.overlayY)a=r.height-t.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-t.y+r.top,t.y),g=this._lastBoundingBoxSize.height;s=2*f,o=t.y-f,s>g&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-g/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)h=r.width-t.x+2*this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)d=t.x,u=r.right-t.x;else{const f=Math.min(r.right-t.x+r.left,t.x),g=this._lastBoundingBoxSize.width;u=2*f,d=t.x-f,u>g&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-g/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=jo(r.height),i.top=jo(r.top),i.bottom=jo(r.bottom),i.width=jo(r.width),i.left=jo(r.left),i.right=jo(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=jo(s)),o&&(i.maxWidth=jo(o))}this._lastBoundingBoxSize=r,A0(this._boundingBox.style,i)}_resetBoundingBoxStyles(){A0(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){A0(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();A0(r,this._getExactOverlayY(e,t,u)),A0(r,this._getExactOverlayX(e,t,u))}else r.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=jo(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=jo(o.maxWidth):s&&(r.maxWidth="")),A0(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=jo(s.y),i}_getExactOverlayX(t,e,r){let o,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=jo(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:TO(t,r),isOriginOutsideView:PI(t,r),isOverlayClipped:TO(e,r),isOverlayOutsideView:PI(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&mO(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Rl)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function A0(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function VO(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Lpe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function kO(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const FO="cdk-global-overlay-wrapper";class Vpe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(FO),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",g="",w="";l?w="flex-start":"center"===u?(w="center",h?g=d:f=d):h?"left"===u||"end"===u?(w="flex-end",f=d):("right"===u||"start"===u)&&(w="flex-start",g=d):"left"===u||"start"===u?(w="flex-start",f=d):("right"===u||"end"===u)&&(w="flex-end",g=d),t.position=this._cssPosition,t.marginLeft=l?"0":f,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":g,e.justifyContent=w,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(FO),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let kpe=(()=>{class n{constructor(e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new Vpe}flexibleConnectedTo(e){return new Hpe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(r){return new(r||n)($e(_O),$e(ko),$e(a5),$e(HO))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Fpe=0,Qy=(()=>{class n{constructor(e,r,i,s,o,a,l,c,u,d,h,f){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new zO(e);return o.direction=o.direction||this._directionality.value,new Rpe(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(Oa))}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Fpe++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(t1)),new ype(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(r){return new(r||n)($e(Epe),$e(HO),$e(Hm),$e(kpe),$e(Tpe),$e(rr),$e(ci),$e(ko),$e(xO),$e(XD),$e(zpe),$e(BS,8))}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Ppe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],PO=new Wt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=gt(Qy);return()=>n.scrollStrategies.reposition()}});let BI=(()=>{class n{constructor(e){this.elementRef=e}static{this.\u0275fac=function(r){return new(r||n)(Ar(Rl))}}static{this.\u0275dir=Lo({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return n})(),BO=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,r,i,s,o){this._overlay=e,this._dir=o,this._backdropSubscription=ut.EMPTY,this._attachSubscription=ut.EMPTY,this._detachSubscription=ut.EMPTY,this._positionSubscription=ut.EMPTY,this._disposeOnNavigation=!1,this._ngZone=gt(ci),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Zs,this.positionChange=new Zs,this.attach=new Zs,this.detach=new Zs,this.overlayKeydown=new Zs,this.overlayOutsideClick=new Zs,this._templatePortal=new MO(r,i),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Ppe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!function _pe(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{const i=this._getOriginElement(),s=VI(r);(!i||i!==s&&!i.contains(s))&&this.overlayOutsideClick.next(r)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),r=new zO({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(e){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof BI?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof BI?this.origin.elementRef.nativeElement:this.origin instanceof Rl?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function gpe(n,t=!1){return Si((e,r)=>{let i=0;e.subscribe(de(r,s=>{const o=n(s,i++);(o||t)&&r.next(s),!o&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)(Ar(Qy),Ar(Ku),Ar(cu),Ar(PO),Ar(xO,8))}}static{this.\u0275dir=Lo({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",pp],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",pp],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",pp],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",pp],push:[2,"cdkConnectedOverlayPush","push",pp],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",pp]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[aR,Zd]})}}return n})();const Npe={provide:PO,deps:[Qy],useFactory:function Bpe(n){return()=>n.scrollStrategies.reposition()}};let Ope=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ta({type:n})}static{this.\u0275inj=fa({providers:[Qy,Npe],imports:[kI,Cpe,AO,AO]})}}return n})();function Gpe(n){return null==n?"":/^\d+$/.test(n)?`${n}px`:n}new Wt("Ng Glyph Config"),new Wt("NgGlyphsToken");const jO=new Wt("Ng Icon Pre Processor"),UO=new Wt("Ng Icon Post Processor"),ZO=new Wt("Ng Icon Logger");class $pe{log(t){console.log(t)}warn(t){console.warn(t)}error(t){console.error(t)}}const $O=new Wt("Ng Icon Config");function XO(n,...t){return[{provide:$O,useValue:n},t.map(e=>e.\u0275providers)]}const YO=new Wt("Ng Icon Loader Token"),KO=new Wt("Ng Icon Cache Token");function qO(n){return[{provide:NI,useFactory:(t=gt(NI,{optional:!0,skipSelf:!0}))=>({...t?.reduce((e,r)=>({...e,...r}),{}),...n}),multi:!0}]}const NI=new Wt("Icons Token");let OI=(()=>{class n{constructor(){this.config=function Kpe(){return gt($O,{optional:!0})??{}}(),this.icons=function ege(){return gt(NI,{optional:!0})??[]}(),this.loader=function Jpe(){return gt(YO,{optional:!0})}(),this.cache=function Qpe(){return gt(KO,{optional:!0})}(),this.preProcessor=function Wpe(){return gt(jO,{optional:!0})??(n=>n)}(),this.postProcessor=function jpe(){return gt(UO,{optional:!0})??(()=>{})}(),this.injector=gt(rr),this.renderer=gt(J8),this.platform=gt(au),this.elementRef=gt(Rl),this.logger=function Ype(){return gt(ZO,{optional:!0})??new $pe}(),this.name=If(),this.svg=If(),this.size=If(this.config.size,{transform:Gpe}),this.strokeWidth=If(this.config.strokeWidth),this.color=If(this.config.color),function WD(n,t){fl("NgSignals"),!t?.injector&&df();const e=t?.injector??gt(rr),r=!0!==t?.manualCleanup?e.get(_f):null,i=new Xee(e.get(Uee),n,typeof Zone>"u"?null:Zone.current,r,e,t?.allowSignalWrites??!1),s=e.get(sb,null,{optional:!0});return s&&8&s._lView[Un]?(s._lView[jd]??=[]).push(i.watcher.notify):i.watcher.notify(),i}(()=>this.updateIcon())}ngOnDestroy(){this.svgElement=void 0}updateIcon(){var e=this;return(0,La.A)(function*(){const r=e.name(),i=e.svg();if(void 0!==i)return void e.setSvg(i);if(void 0===r)return;const s=function nge(n){return n.replace(/([^a-zA-Z0-9])+(.)?/g,(t,e,r)=>r?r.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,t=>t.toLowerCase())}(r);for(const o of[...e.icons].reverse())if(o[s])return void e.setSvg(o[s]);if(e.loader){const o=yield e.requestIconFromLoader(r);if(null!==o)return void e.setSvg(o)}e.logger.warn(`No icon named ${r} was found. You may need to import it using the withIcons function.`)})()}setSvg(e){if(Tb(this.platform))return this.elementRef.nativeElement.innerHTML=e,void this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===e)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),""===e))return;const r=this.renderer.createElement("template");this.renderer.setProperty(r,"innerHTML",this.preProcessor(e)),this.svgElement=r.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}requestIconFromLoader(e){var r=this;return new Promise(i=>{uf(this.injector,(0,La.A)(function*(){if(r.cache){const a=r.cache.get(e);if("string"==typeof a)return void i(a);if(a instanceof Promise){const l=yield a;return void i(l)}}const s=function tge(n){return"string"==typeof n?Promise.resolve(n):bp(n)?n.toPromise():n}(r.loader(e));r.cache?.set(e,s);const o=yield s;r.cache?.set(e,o),i(o)}))})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=bc({type:n,selectors:[["ng-icon"]],hostVars:6,hostBindings:function(r,i){2&r&&jm("--ng-icon__stroke-width",i.strokeWidth())("--ng-icon__size",i.size())("--ng-icon__color",i.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},standalone:!0,features:[Y2],decls:0,vars:0,template:function(r,i){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0})}}return n})();const age=["overlayOrigin"],lge=["choiceInputs"];function cge(n,t){if(1&n&&(sa(0,"span",8),dp(1),va()),2&n){const e=e1();Jf("for",e.id),Ra(),oh(" ",e.title," ")}}function uge(n,t){if(1&n){const e=cp();sa(0,"button",11,1),K2(2,"translate"),hu("click",function(){const i=Ic(e).$implicit;return Ac(e1(2).onSelectValue(i))})("keydown",function(i){const s=Ic(e).$implicit;return Ac(e1(2).selectIfEnter(i,s))}),sa(3,"span",12),dp(4),K2(5,"translate"),va()()}if(2&n){const e=t.$implicit,r=e1(2);Ua("title",q2(2,5,e.label))("ngClass",r.isSelected(e)?"text-white bg-primary hover:text-white hover:bg-primary-darker focus:text-white focus:bg-primary-darker":"text-gray-900 hover:text-primary-darkest hover:bg-gray-50 focus:text-primary-darkest focus:bg-gray-50"),Jf("data-cy-value",e.value.toString())("data-cy-active",r.isSelected(e)?"true":void 0),Ra(4),oh(" ",q2(5,7,e.label)," ")}}function dge(n,t){if(1&n){const e=cp();sa(0,"div",9),hu("keydown",function(i){return Ic(e),Ac(e1().handleOverlayKeydown(i))}),U2(1,uge,6,9,"button",10),va()}if(2&n){const e=e1();jm("max-height",e.overlayMaxHeight)("min-width",e.overlayWidth),Jf("id",e.id)("aria-multiselectable",!0)("aria-label",e.title),Ra(),Ua("ngForOf",e.choices)}}let fge=(()=>{class n{constructor(){this.showTitle=!0,this.extraBtnClass="",this.minWidth="",this.selectValue=new Zs,this.overlayOpen=!1,this.overlayWidth="auto",this.overlayMaxHeight="none",this.overlayPositions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:8},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",offsetY:-8}]}get selectedChoice(){return this.choices.find(e=>e.value===this.selected)??this.choices[0]}get id(){return this.title.toLowerCase().replace(/[^a-z]+/g,"-")}getChoiceLabel(){return this.selectedChoice?.label}ngOnInit(){this.maxRows||(this.maxRows=6),(!this.choices||0===this.choices.length)&&(this.choices=[])}isSelected(e){return e===this.selectedChoice}onSelectValue(e){this.closeOverlay(),this.selected=e.value,this.selectValue.emit(this.selected)}openOverlay(){return this.overlayWidth=this.overlayOrigin.elementRef.nativeElement.getBoundingClientRect().width+"px",this.overlayMaxHeight=this.maxRows?29*this.maxRows+60+"px":"none",this.overlayOpen=!0,Promise.all([P_(this.overlay.attach),P_(this.choiceInputs.changes)])}closeOverlay(){this.overlayOpen=!1}focusFirstItem(){this.choiceInputs.get(0).nativeElement.focus()}focusLastItem(){this.choiceInputs.get(this.choiceInputs.length-1).nativeElement.focus()}handleTriggerKeydown(e){var r=this;return(0,La.A)(function*(){const i=e.code,o="Escape"===i;"ArrowDown"===i||"ArrowUp"===i||"ArrowLeft"===i||"ArrowRight"===i||"Enter"===i||"Space"===i?(e.preventDefault(),r.overlayOpen||(yield r.openOverlay()),"ArrowLeft"===i||"ArrowUp"===i?r.focusLastItem():r.focusFirstItem()):r.overlayOpen&&o&&(e.preventDefault(),r.closeOverlay())})()}handleOverlayKeydown(e){if(!this.overlayOpen)return;const r=e.code;"ArrowDown"===r||"ArrowRight"===r?(e.preventDefault(),this.shiftItemFocus(1)):"ArrowLeft"===r||"ArrowUp"===r?(e.preventDefault(),this.shiftItemFocus(-1)):"Escape"===r&&this.closeOverlay()}shiftItemFocus(e){const r=this.focusedIndex;if(-1===r)return;const i=this.choiceInputs.length;this.choiceInputs.get(((r+e)%i+i)%i).nativeElement.focus()}get focusedIndex(){return this.choiceInputs.reduce((e,r,i)=>r.nativeElement===document.activeElement?i:e,-1)}selectIfEnter(e,r){"Enter"===e.code&&(e.preventDefault(),this.onSelectValue(r))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=bc({type:n,selectors:[["gn-ui-dropdown-selector"]],viewQuery:function(r,i){if(1&r&&(F3(age,5),F3(BO,5),F3(lge,5,Rl)),2&r){let s;P3(s=B3())&&(i.overlayOrigin=s.first),P3(s=B3())&&(i.overlay=s.first),P3(s=B3())&&(i.choiceInputs=s)}},inputs:{title:"title",showTitle:"showTitle",ariaName:"ariaName",choices:"choices",selected:"selected",maxRows:"maxRows",extraBtnClass:"extraBtnClass",minWidth:"minWidth",disabled:"disabled"},outputs:{selectValue:"selectValue"},standalone:!0,features:[W7([qO({matExpandLess:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 8l-6 6l1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></svg>',matExpandMore:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M16.59 8.59L12 13.17L7.41 8.59L6 10l6 6l6-6z"></path></svg>'}),XO({size:"1.5em"})]),Y2],decls:9,vars:16,consts:[["overlayOrigin","cdkOverlayOrigin"],["choiceInputs",""],[1,"flex","flex-col","sm:flex-row","sm:items-center","relative","w-full"],["class","tracking-wide text-sm mb-2 sm:mb-0 sm:mr-2 whitespace-nowrap",4,"ngIf"],["type","outline","cdkOverlayOrigin","",1,"grow","min-w-0",3,"buttonClick","keydown","extraClass","title","disabled"],[1,"grow","truncate","py-1","mr-2","text-left"],[1,"shrink-0","opacity-40",3,"name"],["cdkConnectedOverlay","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"overlayOutsideClick","detach","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayFlexibleDimensions"],[1,"tracking-wide","text-sm","mb-2","sm:mb-0","sm:mr-2","whitespace-nowrap"],["role","listbox","tabindex","-1",1,"bg-white","border","border-gray-300","rounded","shadow-lg","py-2","w-full","overflow-x-hidden","overflow-y-auto","overlay-container",3,"keydown"],["type","button","class","flex px-5 py-1 w-full text-start cursor-pointer transition-colors",3,"title","ngClass","click","keydown",4,"ngFor","ngForOf"],["type","button",1,"flex","px-5","py-1","w-full","text-start","cursor-pointer","transition-colors",3,"click","keydown","title","ngClass"],[1,"text-[14px]"]],template:function(r,i){if(1&r){const s=cp();sa(0,"div",2),U2(1,cge,2,2,"span",3),sa(2,"gn-ui-button",4,0),hu("buttonClick",function(){return Ic(s),Ac(i.openOverlay())})("keydown",function(a){return Ic(s),Ac(i.handleTriggerKeydown(a))}),sa(4,"div",5),dp(5),K2(6,"translate"),va(),Zm(7,"ng-icon",6),va()(),U2(8,dge,2,8,"ng-template",7),hu("overlayOutsideClick",function(){return Ic(s),Ac(i.closeOverlay())})("detach",function(){return Ic(s),Ac(i.closeOverlay())})}if(2&r){const s=qL(3);Ra(),Ua("ngIf",i.showTitle),Ra(),jm("--gn-ui-button-padding","8px 8px 8px 16px"),k3("extraClass","bg-background flex flex-row w-full ",i.extraBtnClass,""),Ua("title",i.title)("disabled",i.disabled),Jf("aria-owns",i.id),Ra(3),oh(" ",q2(6,14,i.getChoiceLabel())," "),Ra(2),Ua("name",i.overlayOpen?"matExpandLess":"matExpandMore"),Ra(),Ua("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",i.overlayOpen)("cdkConnectedOverlayPositions",i.overlayPositions)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[vp,oV,lV,gw,Tfe,Ope,BO,BI,$k,OI],changeDetection:0})}}return n})();function wge(n,t){return n===t}function yge(n,t){if(1&n){const e=cp();sa(0,"button",6),hu("click",function(){return Ic(e),Ac(e1().clear())}),Zm(1,"ng-icon",7),va()}}let Cge=(()=>{class n{constructor(){this.value="",this.placeholder="",this.rawChange=new yi,this.valueChange=this.rawChange.pipe(function vge(n,t=jr){return n=n??wge,Si((e,r)=>{let i,s=!0;e.subscribe(de(r,o=>{const a=t(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}())}handleChange(e){this.rawChange.next(e.target.value)}clear(){this.value=null,this.rawChange.next(null)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=bc({type:n,selectors:[["gn-ui-search-input"]],inputs:{value:"value",placeholder:"placeholder"},outputs:{valueChange:"valueChange"},standalone:!0,features:[W7([qO({matSearch:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14z"></path></svg>',matClose:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z"></path></svg>'}),XO({size:"1.5em"})]),Y2],decls:7,vars:5,consts:[["input",""],[1,"h-full","relative","text-gray-300"],["type","text",1,"peer","h-full","appearance-none","border","border-gray-300","rounded","w-full","p-2","pl-10","text-gray-700","leading-tight","hover:border-primary","focus:text-primary","focus:outline-none","focus:border-primary","focus:border-2",3,"change","input","value","placeholder"],[1,"absolute","inset-y-0","left-0","pl-2.5","flex","items-center","peer-hover:text-primary","peer-focus:text-primary"],["name","matSearch"],["type","button","class","text-primary-lightest hover:text-primary absolute transition-all duration-100 inset-y-0 right-0 pr-2.5","aria-label","Clear",3,"click",4,"ngIf"],["type","button","aria-label","Clear",1,"text-primary-lightest","hover:text-primary","absolute","transition-all","duration-100","inset-y-0","right-0","pr-2.5",3,"click"],["name","matClose",1,"align-middle"]],template:function(r,i){if(1&r){const s=cp();sa(0,"div",1)(1,"input",2,0),hu("change",function(a){return Ic(s),Ac(i.handleChange(a))})("input",function(a){return Ic(s),Ac(i.handleChange(a))}),va(),sa(3,"div",3),Zm(4,"ng-icon",4),va(),U2(5,yge,2,0,"button",5),K2(6,"async"),va()}2&r&&(Ra(),Ua("value",i.value)("placeholder",i.placeholder),Ra(4),Ua("ngIf",q2(6,3,i.rawChange)))},dependencies:[vp,gw,hV,OI],encapsulation:2,changeDetection:0})}}return n})();new Wt("languages-list"),B(9844),new Wt("thumbnail-placeholder");let M0={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function tG(n){M0=n}const u5={exec:()=>null};function us(n,t=""){let e="string"==typeof n?n:n.source;const r={replace:(i,s)=>{let o="string"==typeof s?s:s.source;return o=o.replace(xl.caret,"$1"),e=e.replace(i,o),r},getRegex:()=>new RegExp(e,t)};return r}const xl={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},d5=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,nG=/(?:[*+-]|\d{1,9}[.)])/,rG=us(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,nG).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),WI=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,jI=/(?!\s*\])(?:\\.|[^\[\]\\])+/,yme=us(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",jI).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Cme=us(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,nG).getRegex(),e9="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",UI=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,bme=us("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",UI).replace("tag",e9).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),iG=us(WI).replace("hr",d5).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",e9).getRegex(),ZI={blockquote:us(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",iG).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:yme,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:d5,html:bme,lheading:rG,list:Cme,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:iG,table:u5,text:/^[^\n]+/},sG=us("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",d5).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",e9).getRegex(),xme={...ZI,table:sG,paragraph:us(WI).replace("hr",d5).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",sG).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",e9).getRegex()},_me={...ZI,html:us("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",UI).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:u5,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:us(WI).replace("hr",d5).replace("heading"," *#{1,6} *[^\n]").replace("lheading",rG).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},oG=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,aG=/^( {2,}|\\)\n(?!\s*$)/,t9=/[\p{P}\p{S}]/u,$I=/[\s\p{P}\p{S}]/u,lG=/[^\s\p{P}\p{S}]/u,Mme=us(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,$I).getRegex(),Sme=us(/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,"u").replace(/punct/g,t9).getRegex(),Tme=us("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)","gu").replace(/notPunctSpace/g,lG).replace(/punctSpace/g,$I).replace(/punct/g,t9).getRegex(),zme=us("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,lG).replace(/punctSpace/g,$I).replace(/punct/g,t9).getRegex(),Rme=us(/\\(punct)/,"gu").replace(/punct/g,t9).getRegex(),Lme=us(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Hme=us(UI).replace("(?:--\x3e|$)","--\x3e").getRegex(),Dme=us("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Hme).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),n9=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Vme=us(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",n9).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),cG=us(/^!?\[(label)\]\[(ref)\]/).replace("label",n9).replace("ref",jI).getRegex(),uG=us(/^!?\[(ref)\](?:\[\])?/).replace("ref",jI).getRegex(),XI={_backpedal:u5,anyPunctuation:Rme,autolink:Lme,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:aG,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:u5,emStrongLDelim:Sme,emStrongRDelimAst:Tme,emStrongRDelimUnd:zme,escape:oG,link:Vme,nolink:uG,punctuation:Mme,reflink:cG,reflinkSearch:us("reflink|nolink(?!\\()","g").replace("reflink",cG).replace("nolink",uG).getRegex(),tag:Dme,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:u5},Fme={...XI,link:us(/^!?\[(label)\]\((.*?)\)/).replace("label",n9).getRegex(),reflink:us(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",n9).getRegex()},YI={...XI,escape:us(oG).replace("])","~|])").getRegex(),url:us(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Pme={...YI,br:us(aG).replace("{2,}","*").getRegex(),text:us(YI.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},r9={normal:ZI,gfm:xme,pedantic:_me},h5={normal:XI,gfm:YI,breaks:Pme,pedantic:Fme},Bme={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dG=n=>Bme[n];function f1(n,t){if(t){if(xl.escapeTest.test(n))return n.replace(xl.escapeReplace,dG)}else if(xl.escapeTestNoEncode.test(n))return n.replace(xl.escapeReplaceNoEncode,dG);return n}function hG(n){try{n=encodeURI(n).replace(xl.percentDecode,"%")}catch{return null}return n}function fG(n,t){const r=n.replace(xl.findPipe,(s,o,a)=>{let l=!1,c=o;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(xl.splitPipe);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(xl.slashPipe,"|");return r}function f5(n,t,e){const r=n.length;if(0===r)return"";let i=0;for(;i<r;){const s=n.charAt(r-i-1);if(s!==t||e){if(s===t||!e)break;i++}else i++}return n.slice(0,r-i)}function pG(n,t,e,r,i){const s=t.href,o=t.title||null,a=n[1].replace(i.other.outputLinkReplace,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const l={type:"link",raw:e,href:s,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}return{type:"image",raw:e,href:s,title:o,text:a}}class i9{options;rules;lexer;constructor(t){this.options=t||M0}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const r=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:f5(r,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const r=e[0],i=function Ome(n,t,e){const r=n.match(e.other.indentCodeCompensation);if(null===r)return t;const i=r[1];return t.split("\n").map(s=>{const o=s.match(e.other.beginningSpace);if(null===o)return s;const[a]=o;return a.length>=i.length?s.slice(i.length):s}).join("\n")}(r,e[3]||"",this.rules);return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:i}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(this.rules.other.endingHash.test(r)){const i=f5(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:f5(e[0],"\n")}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let r=f5(e[0],"\n").split("\n"),i="",s="";const o=[];for(;r.length>0;){let a=!1;const l=[];let c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))l.push(r[c]),a=!0;else{if(a)break;l.push(r[c])}r=r.slice(c);const u=l.join("\n"),d=u.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}\n${u}`:u,s=s?`${s}\n${d}`:d;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,o,!0),this.lexer.state.top=h,0===r.length)break;const f=o.at(-1);if("code"===f?.type)break;if("blockquote"===f?.type){const g=f,w=g.raw+"\n"+r.join("\n"),C=this.blockquote(w);o[o.length-1]=C,i=i.substring(0,i.length-g.raw.length)+C.raw,s=s.substring(0,s.length-g.text.length)+C.text;break}if("list"!==f?.type);else{const g=f,w=g.raw+"\n"+r.join("\n"),C=this.list(w);o[o.length-1]=C,i=i.substring(0,i.length-f.raw.length)+C.raw,s=s.substring(0,s.length-g.raw.length)+C.raw,r=w.substring(o.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:i,tokens:o,text:s}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim();const i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const o=this.rules.other.listItemRegex(r);let a=!1;for(;t;){let c=!1,u="",d="";if(!(e=o.exec(t))||this.rules.block.hr.test(t))break;u=e[0],t=t.substring(u.length);let h=e[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,L=>" ".repeat(3*L.length)),f=t.split("\n",1)[0],g=!h.trim(),w=0;if(this.options.pedantic?(w=2,d=h.trimStart()):g?w=e[1].length+1:(w=e[2].search(this.rules.other.nonSpaceChar),w=w>4?1:w,d=h.slice(w),w+=e[1].length),g&&this.rules.other.blankLine.test(f)&&(u+=f+"\n",t=t.substring(f.length+1),c=!0),!c){const L=this.rules.other.nextBulletRegex(w),ie=this.rules.other.hrRegex(w),ne=this.rules.other.fencesBeginRegex(w),se=this.rules.other.headingBeginRegex(w),$=this.rules.other.htmlBeginRegex(w);for(;t;){const Y=t.split("\n",1)[0];let ve;if(f=Y,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),ve=f):ve=f.replace(this.rules.other.tabCharGlobal,"    "),ne.test(f)||se.test(f)||$.test(f)||L.test(f)||ie.test(f))break;if(ve.search(this.rules.other.nonSpaceChar)>=w||!f.trim())d+="\n"+ve.slice(w);else{if(g||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||ne.test(h)||se.test(h)||ie.test(h))break;d+="\n"+f}!g&&!f.trim()&&(g=!0),u+=Y+"\n",t=t.substring(Y.length+1),h=ve.slice(w)}}s.loose||(a?s.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(a=!0));let I,C=null;this.options.gfm&&(C=this.rules.other.listIsTask.exec(d),C&&(I="[ ] "!==C[0],d=d.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:u,task:!!C,checked:I,loose:!1,text:d,tokens:[]}),s.raw+=u}const l=s.items.at(-1);if(!l)return;l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd(),s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){const u=s.items[c].tokens.filter(h=>"space"===h.type),d=u.length>0&&u.some(h=>this.rules.other.anyLine.test(h.raw));s.loose=d}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const r=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:i,title:s}}}table(t){const e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const r=fG(e[1]),i=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],o={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const a of i)this.rules.other.tableAlignRight.test(a)?o.align.push("right"):this.rules.other.tableAlignCenter.test(a)?o.align.push("center"):this.rules.other.tableAlignLeft.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<r.length;a++)o.header.push({text:r[a],tokens:this.lexer.inline(r[a]),header:!0,align:o.align[a]});for(const a of s)o.rows.push(fG(a,o.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[c]})));return o}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const r="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const r=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const o=f5(r.slice(0,-1),"\\");if((r.length-o.length)%2==0)return}else{const o=function Nme(n,t){if(-1===n.indexOf(t[1]))return-1;let e=0;for(let r=0;r<n.length;r++)if("\\"===n[r])r++;else if(n[r]===t[0])e++;else if(n[r]===t[1]&&(e--,e<0))return r;return-1}(e[2],"()");if(o>-1){const l=(0===e[0].indexOf("!")?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let i=e[2],s="";if(this.options.pedantic){const o=this.rules.other.pedanticHrefTitle.exec(i);o&&(i=o[1],s=o[3])}else s=e[3]?e[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(i=this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i.slice(1):i.slice(1,-1)),pG(e,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){const s=e[(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!s){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return pG(r,s,r[0],this.lexer,this.rules)}}emStrong(t,e,r=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!i[1]&&!i[2]||!r||this.rules.inline.punctuation.exec(r))){const o=[...i[0]].length-1;let a,l,c=o,u=0;const d="*"===i[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,e=e.slice(-1*t.length+o);null!=(i=d.exec(e));){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=[...a].length,i[3]||i[4]){c+=l;continue}if((i[5]||i[6])&&o%3&&!((o+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);const h=[...i[0]][0].length,f=t.slice(0,o+i.index+h+l);if(Math.min(o,l)%2){const w=f.slice(1,-1);return{type:"em",raw:f,text:w,tokens:this.lexer.inlineTokens(w)}}const g=f.slice(2,-2);return{type:"strong",raw:f,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:e[0],text:r}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let r,i;return"@"===e[2]?(r=e[1],i="mailto:"+r):(r=e[1],i=r),{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let r,i;if("@"===e[2])r=e[0],i="mailto:"+r;else{let s;do{s=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??""}while(s!==e[0]);r=e[0],i="www."===e[1]?"http://"+e[0]:e[0]}return{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],escaped:this.lexer.state.inRawBlock}}}class jc{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||M0,this.options.tokenizer=this.options.tokenizer||new i9,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={other:xl,block:r9.normal,inline:h5.normal};this.options.pedantic?(e.block=r9.pedantic,e.inline=h5.pedantic):this.options.gfm&&(e.block=r9.gfm,e.inline=this.options.breaks?h5.breaks:h5.gfm),this.tokenizer.rules=e}static get rules(){return{block:r9,inline:h5}}static lex(t,e){return new jc(e).lex(t)}static lexInline(t,e){return new jc(e).inlineTokens(t)}lex(t){t=t.replace(xl.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const r=this.inlineQueue[e];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[],r=!1){for(this.options.pedantic&&(t=t.replace(xl.tabCharGlobal,"    ").replace(xl.spaceLine,""));t;){let i;if(this.options.extensions?.block?.some(o=>!!(i=o.call({lexer:this},t,e))&&(t=t.substring(i.raw.length),e.push(i),!0)))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);const o=e.at(-1);1===i.raw.length&&void 0!==o?o.raw+="\n":e.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);const o=e.at(-1);"paragraph"===o?.type||"text"===o?.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.text,this.inlineQueue.at(-1).src=o.text):e.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);const o=e.at(-1);"paragraph"===o?.type||"text"===o?.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),e.push(i);continue}let s=t;if(this.options.extensions?.startBlock){let o=1/0;const a=t.slice(1);let l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),"number"==typeof l&&l>=0&&(o=Math.min(o,l))}),o<1/0&&o>=0&&(s=t.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){const o=e.at(-1);r&&"paragraph"===o?.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):e.push(i),r=s.length!==t.length,t=t.substring(i.raw.length)}else if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);const o=e.at(-1);"text"===o?.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):e.push(i)}else if(t){const o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}throw new Error(o)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let r=t,i=null;if(this.tokens.links){const a=Object.keys(this.tokens.links);if(a.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(r));)a.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(r));)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(r));)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s=!1,o="";for(;t;){let a;if(s||(o=""),s=!1,this.options.extensions?.inline?.some(c=>!!(a=c.call({lexer:this},t,e))&&(t=t.substring(a.raw.length),e.push(a),!0)))continue;if(a=this.tokenizer.escape(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.tag(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.link(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(a.raw.length);const c=e.at(-1);"text"===a.type&&"text"===c?.type?(c.raw+=a.raw,c.text+=a.text):e.push(a);continue}if(a=this.tokenizer.emStrong(t,r,o)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.codespan(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.br(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.del(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.autolink(t)){t=t.substring(a.raw.length),e.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(t))){t=t.substring(a.raw.length),e.push(a);continue}let l=t;if(this.options.extensions?.startInline){let c=1/0;const u=t.slice(1);let d;this.options.extensions.startInline.forEach(h=>{d=h.call({lexer:this},u),"number"==typeof d&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){t=t.substring(a.raw.length),"_"!==a.raw.slice(-1)&&(o=a.raw.slice(-1)),s=!0;const c=e.at(-1);"text"===c?.type?(c.raw+=a.raw,c.text+=a.text):e.push(a)}else if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}return e}}class s9{options;parser;constructor(t){this.options=t||M0}space(t){return""}code({text:t,lang:e,escaped:r}){const i=(e||"").match(xl.notSpaceStart)?.[0],s=t.replace(xl.endingNewline,"")+"\n";return i?'<pre><code class="language-'+f1(i)+'">'+(r?s:f1(s,!0))+"</code></pre>\n":"<pre><code>"+(r?s:f1(s,!0))+"</code></pre>\n"}blockquote({tokens:t}){return`<blockquote>\n${this.parser.parse(t)}</blockquote>\n`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>\n`}hr(t){return"<hr>\n"}list(t){const e=t.ordered,r=t.start;let i="";for(let a=0;a<t.items.length;a++)i+=this.listitem(t.items[a]);const s=e?"ol":"ul";return"<"+s+(e&&1!==r?' start="'+r+'"':"")+">\n"+i+"</"+s+">\n"}listitem(t){let e="";if(t.task){const r=this.checkbox({checked:!!t.checked});t.loose?"paragraph"===t.tokens[0]?.type?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=r+" "+f1(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>\n`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>\n`}table(t){let e="",r="";for(let s=0;s<t.header.length;s++)r+=this.tablecell(t.header[s]);e+=this.tablerow({text:r});let i="";for(let s=0;s<t.rows.length;s++){const o=t.rows[s];r="";for(let a=0;a<o.length;a++)r+=this.tablecell(o[a]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+i+"</table>\n"}tablerow({text:t}){return`<tr>\n${t}</tr>\n`}tablecell(t){const e=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${f1(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:r}){const i=this.parser.parseInline(r),s=hG(t);if(null===s)return i;let o='<a href="'+(t=s)+'"';return e&&(o+=' title="'+f1(e)+'"'),o+=">"+i+"</a>",o}image({href:t,title:e,text:r}){const i=hG(t);if(null===i)return f1(r);let s=`<img src="${t=i}" alt="${r}"`;return e&&(s+=` title="${f1(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:f1(t.text)}}class KI{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class Uc{options;renderer;textRenderer;constructor(t){this.options=t||M0,this.options.renderer=this.options.renderer||new s9,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new KI}static parse(t,e){return new Uc(e).parse(t)}static parseInline(t,e){return new Uc(e).parseInline(t)}parse(t,e=!0){let r="";for(let i=0;i<t.length;i++){const s=t[i];if(this.options.extensions?.renderers?.[s.type]){const a=s,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(!1!==l||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=l||"";continue}}const o=s;switch(o.type){case"space":r+=this.renderer.space(o);continue;case"hr":r+=this.renderer.hr(o);continue;case"heading":r+=this.renderer.heading(o);continue;case"code":r+=this.renderer.code(o);continue;case"table":r+=this.renderer.table(o);continue;case"blockquote":r+=this.renderer.blockquote(o);continue;case"list":r+=this.renderer.list(o);continue;case"html":r+=this.renderer.html(o);continue;case"paragraph":r+=this.renderer.paragraph(o);continue;case"text":{let a=o,l=this.renderer.text(a);for(;i+1<t.length&&"text"===t[i+1].type;)a=t[++i],l+="\n"+this.renderer.text(a);r+=e?this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):l;continue}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(t,e=this.renderer){let r="";for(let i=0;i<t.length;i++){const s=t[i];if(this.options.extensions?.renderers?.[s.type]){const a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=a||"";continue}}const o=s;switch(o.type){case"escape":case"text":r+=e.text(o);break;case"html":r+=e.html(o);break;case"link":r+=e.link(o);break;case"image":r+=e.image(o);break;case"strong":r+=e.strong(o);break;case"em":r+=e.em(o);break;case"codespan":r+=e.codespan(o);break;case"br":r+=e.br(o);break;case"del":r+=e.del(o);break;default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}}class o9{options;block;constructor(t){this.options=t||M0}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?jc.lex:jc.lexInline}provideParser(){return this.block?Uc.parse:Uc.parseInline}}const E0=new class Gme{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Uc;Renderer=s9;TextRenderer=KI;Lexer=jc;Tokenizer=i9;Hooks=o9;constructor(...t){this.use(...t)}walkTokens(t,e){let r=[];for(const i of t)switch(r=r.concat(e.call(this,i)),i.type){case"table":{const s=i;for(const o of s.header)r=r.concat(this.walkTokens(o.tokens,e));for(const o of s.rows)for(const a of o)r=r.concat(this.walkTokens(a.tokens,e));break}case"list":r=r.concat(this.walkTokens(i.items,e));break;default:{const s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{const a=s[o].flat(1/0);r=r.concat(this.walkTokens(a,e))}):s.tokens&&(r=r.concat(this.walkTokens(s.tokens,e)))}}return r}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=e.renderers[s.name];e.renderers[s.name]=o?function(...a){let l=s.renderer.apply(this,a);return!1===l&&(l=o.apply(this,a)),l}:s.renderer}if("tokenizer"in s){if(!s.level||"block"!==s.level&&"inline"!==s.level)throw new Error("extension level must be 'block' or 'inline'");const o=e[s.level];o?o.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&("block"===s.level?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:"inline"===s.level&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),i.extensions=e),r.renderer){const s=this.defaults.renderer||new s9(this.defaults);for(const o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const l=r.renderer[o],c=s[o];s[o]=(...u)=>{let d=l.apply(s,u);return!1===d&&(d=c.apply(s,u)),d||""}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new i9(this.defaults);for(const o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=r.tokenizer[o],c=s[o];s[o]=(...u)=>{let d=l.apply(s,u);return!1===d&&(d=c.apply(s,u)),d}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new o9;for(const o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const l=r.hooks[o],c=s[o];s[o]=o9.passThroughHooks.has(o)?u=>{if(this.defaults.async)return Promise.resolve(l.call(s,u)).then(h=>c.call(s,h));const d=l.call(s,u);return c.call(s,d)}:(...u)=>{let d=l.apply(s,u);return!1===d&&(d=c.apply(s,u)),d}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return jc.lex(t,e??this.defaults)}parser(t,e){return Uc.parse(t,e??this.defaults)}parseMarkdown(t){return(r,i)=>{const s={...i},o={...this.defaults,...s},a=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===s.async)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||null===r)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=t);const l=o.hooks?o.hooks.provideLexer():t?jc.lex:jc.lexInline,c=o.hooks?o.hooks.provideParser():t?Uc.parse:Uc.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(u=>l(u,o)).then(u=>o.hooks?o.hooks.processAllTokens(u):u).then(u=>o.walkTokens?Promise.all(this.walkTokens(u,o.walkTokens)).then(()=>u):u).then(u=>c(u,o)).then(u=>o.hooks?o.hooks.postprocess(u):u).catch(a);try{o.hooks&&(r=o.hooks.preprocess(r));let u=l(r,o);o.hooks&&(u=o.hooks.processAllTokens(u)),o.walkTokens&&this.walkTokens(u,o.walkTokens);let d=c(u,o);return o.hooks&&(d=o.hooks.postprocess(d)),d}catch(u){return a(u)}}}onError(t,e){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const i="<p>An error occurred:</p><pre>"+f1(r.message+"",!0)+"</pre>";return e?Promise.resolve(i):i}if(e)return Promise.reject(r);throw r}}};function ds(n,t){return E0.parse(n,t)}ds.options=ds.setOptions=function(n){return E0.setOptions(n),tG(ds.defaults=E0.defaults),ds},ds.getDefaults=function GI(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},ds.defaults=M0,ds.use=function(...n){return E0.use(...n),tG(ds.defaults=E0.defaults),ds},ds.walkTokens=function(n,t){return E0.walkTokens(n,t)},ds.parseInline=E0.parseInline,ds.Parser=Uc,ds.parser=Uc.parse,ds.Renderer=s9,ds.TextRenderer=KI,ds.Lexer=jc,ds.lexer=jc.lex,ds.Tokenizer=i9,ds.Hooks=o9,ds.parse=ds,B(176),new Ch;var Nl=B(9270);class qI{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=(0,Nl.xq)(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new qI({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return gr()}getImage(t){return gr()}getHitDetectionImage(){return gr()}getPixelRatio(t){return 1}getImageState(){return gr()}getImageSize(){return gr()}getOrigin(){return gr()}getSize(){return gr()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,Nl.xq)(t)}listenImageChange(t){gr()}load(){gr()}unlistenImageChange(t){gr()}}const gG=qI,p5={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var S0={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};S0.max=S0.whitepoint[2].D65,S0.rgb=function(n,t){var s,o,a,e=n[0]/(t=t||S0.whitepoint[2].E)[0],r=n[1]/t[1],i=n[2]/t[2];return o=-.96924363628087*e+1.87596750150772*r+.041555057407175*i,a=.055630079696993*e+-.20397695888897*r+1.056971514242878*i,s=(s=3.240969941904521*e+-1.537383177570093*r+-.498610760293*i)>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*=12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*=12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*=12.92,[255*(s=Math.min(Math.max(0,s),1)),255*(o=Math.min(Math.max(0,o),1)),255*(a=Math.min(Math.max(0,a),1))]},p5.xyz=function(n,t){var e=n[0]/255,r=n[1]/255,i=n[2]/255;return[(.41239079926595*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.35758433938387*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.18048078840183*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92))*(t=t||S0.whitepoint[2].E)[0],(.21263900587151*e+.71516867876775*r+.072192315360733*i)*t[1],(.019330818715591*e+.11919477979462*r+.95053215224966*i)*t[2]]};const bu=S0,JI={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(n,t,e){var r,i,s,c,d,h,f;return 0===(s=n[0])?[0,0,0]:(r=n[1]/(13*s)+4*(d=bu.whitepoint[e=e||2][t=t||"D65"][0])/(d+15*(h=bu.whitepoint[e][t][1])+3*(f=bu.whitepoint[e][t][2]))||0,i=n[2]/(13*s)+9*h/(d+15*h+3*f)||0,[9*(c=s>8?h*Math.pow((s+16)/116,3):h*s*.0011070564598794539)*r/(4*i)||0,c,c*(12-3*r-20*i)/(4*i)||0])}};bu.luv=function(n,t,e){var r,i,s,l,c,u,d,h,f,g,w;g=4*(d=bu.whitepoint[e=e||2][t=t||"D65"][0])/(d+15*(h=bu.whitepoint[e][t][1])+3*(f=bu.whitepoint[e][t][2])),w=9*h/(d+15*h+3*f),r=4*(l=n[0])/(l+15*(c=n[1])+3*(u=n[2]))||0,i=9*c/(l+15*c+3*u)||0;var L=c/h;return[s=L<=.008856451679035631?903.2962962962961*L:116*Math.pow(L,1/3)-16,13*s*(r-g),13*s*(i-w)]},JI.lchuv=function(n){var t=n[0],e=n[1],r=n[2],i=Math.sqrt(e*e+r*r),o=360*Math.atan2(r,e)/2/Math.PI;return o<0&&(o+=360),[t,i,o]},bu.lchuv=function(n){return JI.lchuv(bu.luv(n))};const vG={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Jme=function Qme(n){var t,i,e=[],r=1;if("number"==typeof n)return{space:"rgb",values:[n>>>16,(65280&n)>>>8,255&n],alpha:1};if("number"==typeof n)return{space:"rgb",values:[n>>>16,(65280&n)>>>8,255&n],alpha:1};if(n=String(n).toLowerCase(),vG[n])e=vG[n].slice(),i="rgb";else if("transparent"===n)r=0,i="rgb",e=[0,0,0];else if("#"===n[0]){var s=n.slice(1),o=s.length;r=1,o<=4?(e=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],4===o&&(r=parseInt(s[3]+s[3],16)/255)):(e=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],8===o&&(r=parseInt(s[6]+s[7],16)/255)),e[0]||(e[0]=0),e[1]||(e[1]=0),e[2]||(e[2]=0),i="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(n)){var c="cmyk"===(i=t[1].replace(/a$/,""))?4:"gray"===i?1:3;e=t[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===i&&(i=e.shift()),r=(e=e.map(function(u,d){if("%"===u[u.length-1])return u=parseFloat(u)/100,3===d?u:"rgb"===i?255*u:"h"===i[0]||"l"===i[0]&&!d?100*u:"lab"===i?125*u:"lch"===i?d<2?150*u:360*u:"o"!==i[0]||d?"oklab"===i?.4*u:"oklch"===i?d<2?.4*u:360*u:u:u;if("h"===i[d]||2===d&&"h"===i[i.length-1]){if(void 0!==wG[u])return wG[u];if(u.endsWith("deg"))return parseFloat(u);if(u.endsWith("turn"))return 360*parseFloat(u);if(u.endsWith("grad"))return 360*parseFloat(u)/400;if(u.endsWith("rad"))return 180*parseFloat(u)/Math.PI}return"none"===u?0:parseFloat(u)})).length>c?e.pop():1}else/[0-9](?:\s|\/|,)/.test(n)&&(e=n.match(/([0-9]+)/g).map(function(u){return parseFloat(u)}),i=n.match(/([a-z])/gi)?.join("")?.toLowerCase()||"rgb");return{space:i,values:e,alpha:r}};var wG={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};const QI={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(n){var i,s,o,a,l,t=n[0]/360,e=n[1]/100,r=n[2]/100,c=0;if(0===e)return[l=255*r,l,l];for(i=2*r-(s=r<.5?r*(1+e):r+e-r*e),a=[0,0,0];c<3;)(o=t+1/3*-(c-1))<0?o++:o>1&&o--,a[c++]=255*(l=6*o<1?i+6*(s-i)*o:2*o<1?s:3*o<2?i+(s-i)*(2/3-o)*6:i);return a}};p5.hsl=function(n){var a,c,t=n[0]/255,e=n[1]/255,r=n[2]/255,i=Math.min(t,e,r),s=Math.max(t,e,r),o=s-i;return s===i?a=0:t===s?a=(e-r)/o:e===s?a=2+(r-t)/o:r===s&&(a=4+(t-e)/o),(a=Math.min(60*a,360))<0&&(a+=360),c=(i+s)/2,[a,100*(s===i?0:c<=.5?o/(s+i):o/(2-s-i)),100*c]};const tve=1024,g5={};let eA=0;function tA(n){if(g5.hasOwnProperty(n))return g5[n];if(eA>=tve){let e=0;for(const r in g5)3&e++||(delete g5[r],--eA)}const t=function eve(n){Array.isArray(n)&&n.raw&&(n=String.raw(...arguments)),n instanceof Number&&(n=+n);var t,i=Jme(n);if(!i.space)return[];const s="h"===i.space[0]?QI.min:p5.min,o="h"===i.space[0]?QI.max:p5.max;return(t=Array(3))[0]=Math.min(Math.max(i.values[0],s[0]),o[0]),t[1]=Math.min(Math.max(i.values[1],s[1]),o[1]),t[2]=Math.min(Math.max(i.values[2],s[2]),o[2]),"h"===i.space[0]&&(t=QI.rgb(t)),t.push(Math.min(Math.max(i.alpha,0),1)),t}(n);if(4!==t.length)throw new Error('Failed to parse "'+n+'" as color');for(const e of t)if(isNaN(e))throw new Error('Failed to parse "'+n+'" as color');return function bG(n){return n[0]=(0,Xn.qE)(n[0]+.5|0,0,255),n[1]=(0,Xn.qE)(n[1]+.5|0,0,255),n[2]=(0,Xn.qE)(n[2]+.5|0,0,255),n[3]=(0,Xn.qE)(n[3],0,1),n}(t),g5[n]=t,++eA,t}function xG(n){let t=n[0];t!=(0|t)&&(t=t+.5|0);let e=n[1];e!=(0|e)&&(e=e+.5|0);let r=n[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+t+","+e+","+r+","+(void 0===n[3]?1:Math.round(100*n[3])/100)+")"}function p1(n){return Array.isArray(n)?xG(n):n}function Ka(n,t,e,r){let i;return i=e&&e.length?e.shift():mx?new OffscreenCanvas(n||300,t||300):document.createElement("canvas"),n&&(i.width=n),t&&(i.height=t),i.getContext("2d",r)}function m5(n){const t=n.canvas;t.width=1,t.height=1,n.clearRect(0,0,1,1)}new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),new r1;class oA extends gG{constructor(t){super({opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.render()}clone(){const t=this.getScale(),e=new oA({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_,e=this.getDisplacement(),r=this.getScaleArray();return[t[0]/2-e[0]/r[0],t[1]/2+e[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let e=this.canvases_[t];if(!e){const r=this.renderOptions_,i=Ka(r.size*t,r.size*t);this.draw_(r,i,t),e=i.canvas,this.canvases_[t]=e}return e}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return 2}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,r){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let i=this.radius_,s=void 0===this.radius2_?i:this.radius2_;if(i<s){const $=i;i=s,s=$}const a=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_),l=s*Math.sin(a),u=i-Math.sqrt(s*s-l*l),d=Math.sqrt(l*l+u*u),h=d/l;if("miter"===t&&h<=r)return h*e;const f=e/2/h,g=e/2*(u/d),C=Math.sqrt((i+f)*(i+f)+g*g)-i;if(void 0===this.radius2_||"bevel"===t)return 2*C;const I=i*Math.sin(a),ie=s-Math.sqrt(i*i-I*I),se=Math.sqrt(I*I+ie*ie)/I;return se<=r?2*Math.max(C,se*e/2-s-i):2*C}createRenderOptions(){let o,t="round",e="round",r=0,i=null,s=0,a=0;this.stroke_&&(o=p1(this.stroke_.getColor()??"#000"),a=this.stroke_.getWidth()??1,i=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,e=this.stroke_.getLineJoin()??"round",t=this.stroke_.getLineCap()??"round",r=this.stroke_.getMiterLimit()??10);const l=this.calculateLineJoinSize_(e,a,r),c=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:o,strokeWidth:a,size:Math.ceil(2*c+l),lineCap:t,lineDash:i,lineDashOffset:s,lineJoin:e,miterLimit:r}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,e,r){if(e.scale(r,r),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let i=this.fill_.getColor();null===i&&(i="#000"),e.fillStyle=p1(i),e.fill()}t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){let e;if(this.fill_){let r=this.fill_.getColor(),i=0;"string"==typeof r&&(r=function l9(n){return Array.isArray(n)?n:tA(n)}(r)),null===r?i=1:Array.isArray(r)&&(i=4===r.length?r[3]:1),0===i&&(e=Ka(t.size,t.size),this.drawHitDetectionCanvas_(t,e))}return e?e.canvas:this.getImage(1)}createPath_(t){let e=this.points_;const r=this.radius_;if(e===1/0)t.arc(0,0,r,0,2*Math.PI);else{const i=void 0===this.radius2_?r:this.radius2_;void 0!==this.radius2_&&(e*=2);const s=this.angle_-Math.PI/2,o=2*Math.PI/e;for(let a=0;a<e;a++){const l=s+a*o,c=a%2==0?r:i;t.lineTo(c*Math.cos(l),c*Math.sin(l))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle="#000",e.fill(),t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}}const RG=oA;class aA extends RG{constructor(t){super({points:1/0,fill:(t=t||{radius:5}).fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new aA({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius_=t,this.render()}}const f9=aA;class lA{constructor(t){this.color_=void 0!==(t=t||{}).color?t.color:null}clone(){const t=this.getColor();return new lA({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){this.color_=t}}const md=lA;class cA{constructor(t){this.color_=void 0!==(t=t||{}).color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new cA({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}const m1=cA;class Dh{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=LG,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new Dh({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=LG,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function LG(n){return n.getGeometry()}const Gl=Dh,qp=(n,t=0,e=1)=>hA(fA(t,n),e),dA=n=>{n._clipped=!1,n._unclipped=n.slice(0);for(let t=0;t<=3;t++)t<3?((n[t]<0||n[t]>255)&&(n._clipped=!0),n[t]=qp(n[t],0,255)):3===t&&(n[t]=qp(n[t],0,1));return n},HG={};for(let n of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])HG[`[object ${n}]`]=n.toLowerCase();function ri(n){return HG[Object.prototype.toString.call(n)]||"object"}const ii=(n,t=null)=>n.length>=3?Array.prototype.slice.call(n):"object"==ri(n[0])&&t?t.split("").filter(e=>void 0!==n[0][e]).map(e=>n[0][e]):n[0],p9=n=>{if(n.length<2)return null;const t=n.length-1;return"string"==ri(n[t])?n[t].toLowerCase():null},{PI:g9,min:hA,max:fA}=Math,vd=2*g9,pA=g9/3,pve=g9/180,gve=180/g9,Dr={format:{},autodetect:[]},ln=class mve{constructor(...t){const e=this;if("object"===ri(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let r=p9(t),i=!1;if(!r){i=!0,Dr.sorted||(Dr.autodetect=Dr.autodetect.sort((s,o)=>o.p-s.p),Dr.sorted=!0);for(let s of Dr.autodetect)if(r=s.test(...t),r)break}if(!Dr.format[r])throw new Error("unknown format: "+t);{const s=Dr.format[r].apply(null,i?t:t.slice(0,-1));e._rgb=dA(s)}3===e._rgb.length&&e._rgb.push(1)}toString(){return"function"==ri(this.hex)?this.hex():`[${this._rgb.join(",")}]`}},m9=(...n)=>new m9.Color(...n);m9.Color=ln,m9.version="2.6.0";const si=m9,{max:DG}=Math;ln.prototype.cmyk=function(){return((...n)=>{let[t,e,r]=ii(n,"rgb");t/=255,e/=255,r/=255;const i=1-DG(t,DG(e,r)),s=i<1?1/(1-i):0;return[(1-t-i)*s,(1-e-i)*s,(1-r-i)*s,i]})(this._rgb)},si.cmyk=(...n)=>new ln(...n,"cmyk"),Dr.format.cmyk=(...n)=>{n=ii(n,"cmyk");const[t,e,r,i]=n,s=n.length>4?n[4]:1;return 1===i?[0,0,0,s]:[t>=1?0:255*(1-t)*(1-i),e>=1?0:255*(1-e)*(1-i),r>=1?0:255*(1-r)*(1-i),s]},Dr.autodetect.push({p:2,test:(...n)=>{if("array"===ri(n=ii(n,"cmyk"))&&4===n.length)return"cmyk"}});const gA=n=>Math.round(100*n)/100,VG=(...n)=>{n=ii(n,"rgba");let[t,e,r]=n;t/=255,e/=255,r/=255;const i=hA(t,e,r),s=fA(t,e,r),o=(s+i)/2;let a,l;return s===i?(a=0,l=Number.NaN):a=o<.5?(s-i)/(s+i):(s-i)/(2-s-i),t==s?l=(e-r)/(s-i):e==s?l=2+(r-t)/(s-i):r==s&&(l=4+(t-e)/(s-i)),l*=60,l<0&&(l+=360),n.length>3&&void 0!==n[3]?[l,a,o,n[3]]:[l,a,o]},{round:mA}=Math,{round:vA}=Math,wA=(...n)=>{n=ii(n,"hsl");const[t,e,r]=n;let i,s,o;if(0===e)i=s=o=255*r;else{const a=[0,0,0],l=[0,0,0],c=r<.5?r*(1+e):r+e-r*e,u=2*r-c,d=t/360;a[0]=d+1/3,a[1]=d,a[2]=d-1/3;for(let h=0;h<3;h++)a[h]<0&&(a[h]+=1),a[h]>1&&(a[h]-=1),l[h]=6*a[h]<1?u+6*(c-u)*a[h]:2*a[h]<1?c:3*a[h]<2?u+(c-u)*(2/3-a[h])*6:u;[i,s,o]=[vA(255*l[0]),vA(255*l[1]),vA(255*l[2])]}return n.length>3?[i,s,o,n[3]]:[i,s,o,1]},kG=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,FG=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,PG=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,BG=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,NG=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,OG=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,{round:GG}=Math,WG=n=>{let t;if(n=n.toLowerCase().trim(),Dr.format.named)try{return Dr.format.named(n)}catch{}if(t=n.match(kG)){const e=t.slice(1,4);for(let r=0;r<3;r++)e[r]=+e[r];return e[3]=1,e}if(t=n.match(FG)){const e=t.slice(1,5);for(let r=0;r<4;r++)e[r]=+e[r];return e}if(t=n.match(PG)){const e=t.slice(1,4);for(let r=0;r<3;r++)e[r]=GG(2.55*e[r]);return e[3]=1,e}if(t=n.match(BG)){const e=t.slice(1,5);for(let r=0;r<3;r++)e[r]=GG(2.55*e[r]);return e[3]=+e[3],e}if(t=n.match(NG)){const e=t.slice(1,4);e[1]*=.01,e[2]*=.01;const r=wA(e);return r[3]=1,r}if(t=n.match(OG)){const e=t.slice(1,4);e[1]*=.01,e[2]*=.01;const r=wA(e);return r[3]=+t[4],r}};WG.test=n=>kG.test(n)||FG.test(n)||PG.test(n)||BG.test(n)||NG.test(n)||OG.test(n);const jG=WG;ln.prototype.css=function(n){return((...n)=>{const t=ii(n,"rgba");let e=p9(n)||"rgb";return"hsl"==e.substr(0,3)?((...n)=>{const t=ii(n,"hsla");let e=p9(n)||"lsa";return t[0]=gA(t[0]||0),t[1]=gA(100*t[1])+"%",t[2]=gA(100*t[2])+"%","hsla"===e||t.length>3&&t[3]<1?(t[3]=t.length>3?t[3]:1,e="hsla"):t.length=3,`${e}(${t.join(",")})`})(VG(t),e):(t[0]=mA(t[0]),t[1]=mA(t[1]),t[2]=mA(t[2]),("rgba"===e||t.length>3&&t[3]<1)&&(t[3]=t.length>3?t[3]:1,e="rgba"),`${e}(${t.slice(0,"rgb"===e?3:4).join(",")})`)})(this._rgb,n)},si.css=(...n)=>new ln(...n,"css"),Dr.format.css=jG,Dr.autodetect.push({p:5,test:(n,...t)=>{if(!t.length&&"string"===ri(n)&&jG.test(n))return"css"}}),Dr.format.gl=(...n)=>{const t=ii(n,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t},si.gl=(...n)=>new ln(...n,"gl"),ln.prototype.gl=function(){const n=this._rgb;return[n[0]/255,n[1]/255,n[2]/255,n[3]]};const{floor:xve}=Math;ln.prototype.hcg=function(){return((...n)=>{const[t,e,r]=ii(n,"rgb"),i=hA(t,e,r),s=fA(t,e,r),o=s-i;let c;return 0===o?c=Number.NaN:(t===s&&(c=(e-r)/o),e===s&&(c=2+(r-t)/o),r===s&&(c=4+(t-e)/o),c*=60,c<0&&(c+=360)),[c,100*o/255,i/(255-o)*100]})(this._rgb)},si.hcg=(...n)=>new ln(...n,"hcg"),Dr.format.hcg=(...n)=>{n=ii(n,"hcg");let i,s,o,[t,e,r]=n;r*=255;const a=255*e;if(0===e)i=s=o=r;else{360===t&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const l=xve(t),c=t-l,u=r*(1-e),d=u+a*(1-c),h=u+a*c,f=u+a;switch(l){case 0:[i,s,o]=[f,h,u];break;case 1:[i,s,o]=[d,f,u];break;case 2:[i,s,o]=[u,f,h];break;case 3:[i,s,o]=[u,d,f];break;case 4:[i,s,o]=[h,u,f];break;case 5:[i,s,o]=[f,u,d]}}return[i,s,o,n.length>3?n[3]:1]},Dr.autodetect.push({p:1,test:(...n)=>{if("array"===ri(n=ii(n,"hcg"))&&3===n.length)return"hcg"}});const Ave=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Mve=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,UG=n=>{if(n.match(Ave)){(4===n.length||7===n.length)&&(n=n.substr(1)),3===n.length&&(n=(n=n.split(""))[0]+n[0]+n[1]+n[1]+n[2]+n[2]);const t=parseInt(n,16);return[t>>16,t>>8&255,255&t,1]}if(n.match(Mve)){(5===n.length||9===n.length)&&(n=n.substr(1)),4===n.length&&(n=(n=n.split(""))[0]+n[0]+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]);const t=parseInt(n,16);return[t>>24&255,t>>16&255,t>>8&255,Math.round((255&t)/255*100)/100]}throw new Error(`unknown hex color: ${n}`)},{round:v9}=Math,ZG=(...n)=>{let[t,e,r,i]=ii(n,"rgba"),s=p9(n)||"auto";void 0===i&&(i=1),"auto"===s&&(s=i<1?"rgba":"rgb"),t=v9(t),e=v9(e),r=v9(r);let a="000000"+(t<<16|e<<8|r).toString(16);a=a.substr(a.length-6);let l="0"+v9(255*i).toString(16);switch(l=l.substr(l.length-2),s.toLowerCase()){case"rgba":return`#${a}${l}`;case"argb":return`#${l}${a}`;default:return`#${a}`}};ln.prototype.hex=function(n){return ZG(this._rgb,n)},si.hex=(...n)=>new ln(...n,"hex"),Dr.format.hex=UG,Dr.autodetect.push({p:4,test:(n,...t)=>{if(!t.length&&"string"===ri(n)&&[3,4,5,6,7,8,9].indexOf(n.length)>=0)return"hex"}});const{cos:Jp}=Math,{min:Sve,sqrt:Tve,acos:zve}=Math;ln.prototype.hsi=function(){return((...n)=>{let i,[t,e,r]=ii(n,"rgb");t/=255,e/=255,r/=255;const s=Sve(t,e,r),o=(t+e+r)/3,a=o>0?1-s/o:0;return 0===a?i=NaN:(i=(t-e+(t-r))/2,i/=Tve((t-e)*(t-e)+(t-r)*(e-r)),i=zve(i),r>e&&(i=vd-i),i/=vd),[360*i,a,o]})(this._rgb)},si.hsi=(...n)=>new ln(...n,"hsi"),Dr.format.hsi=(...n)=>{n=ii(n,"hsi");let i,s,o,[t,e,r]=n;return isNaN(t)&&(t=0),isNaN(e)&&(e=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(o=(1-e)/3,i=(1+e*Jp(vd*t)/Jp(pA-vd*t))/3,s=1-(o+i)):t<2/3?(t-=1/3,i=(1-e)/3,s=(1+e*Jp(vd*t)/Jp(pA-vd*t))/3,o=1-(i+s)):(t-=2/3,s=(1-e)/3,o=(1+e*Jp(vd*t)/Jp(pA-vd*t))/3,i=1-(s+o)),i=qp(r*i*3),s=qp(r*s*3),o=qp(r*o*3),[255*i,255*s,255*o,n.length>3?n[3]:1]},Dr.autodetect.push({p:2,test:(...n)=>{if("array"===ri(n=ii(n,"hsi"))&&3===n.length)return"hsi"}}),ln.prototype.hsl=function(){return VG(this._rgb)},si.hsl=(...n)=>new ln(...n,"hsl"),Dr.format.hsl=wA,Dr.autodetect.push({p:2,test:(...n)=>{if("array"===ri(n=ii(n,"hsl"))&&3===n.length)return"hsl"}});const{floor:Lve}=Math,{min:Dve,max:Vve}=Math;ln.prototype.hsv=function(){return((...n)=>{n=ii(n,"rgb");let[t,e,r]=n;const i=Dve(t,e,r),s=Vve(t,e,r),o=s-i;let a,l,c;return c=s/255,0===s?(a=Number.NaN,l=0):(l=o/s,t===s&&(a=(e-r)/o),e===s&&(a=2+(r-t)/o),r===s&&(a=4+(t-e)/o),a*=60,a<0&&(a+=360)),[a,l,c]})(this._rgb)},si.hsv=(...n)=>new ln(...n,"hsv"),Dr.format.hsv=(...n)=>{n=ii(n,"hsv");let i,s,o,[t,e,r]=n;if(r*=255,0===e)i=s=o=r;else{360===t&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const a=Lve(t),l=t-a,c=r*(1-e),u=r*(1-e*l),d=r*(1-e*(1-l));switch(a){case 0:[i,s,o]=[r,d,c];break;case 1:[i,s,o]=[u,r,c];break;case 2:[i,s,o]=[c,r,d];break;case 3:[i,s,o]=[c,u,r];break;case 4:[i,s,o]=[d,c,r];break;case 5:[i,s,o]=[r,c,u]}}return[i,s,o,n.length>3?n[3]:1]},Dr.autodetect.push({p:2,test:(...n)=>{if("array"===ri(n=ii(n,"hsv"))&&3===n.length)return"hsv"}});const{pow:Fve}=Math,yA=n=>255*(n<=.00304?12.92*n:1.055*Fve(n,1/2.4)-.055),CA=n=>n>.206896552?n*n*n:.12841855*(n-.137931034),$G=(...n)=>{n=ii(n,"lab");const[t,e,r]=n;let i,s,o,a,l,c;return s=(t+16)/116,i=isNaN(e)?s:s+e/500,o=isNaN(r)?s:s-r/200,s=1*CA(s),i=.95047*CA(i),o=1.08883*CA(o),a=yA(3.2404542*i-1.5371385*s-.4985314*o),l=yA(-.969266*i+1.8760108*s+.041556*o),c=yA(.0556434*i-.2040259*s+1.0572252*o),[a,l,c,n.length>3?n[3]:1]},{pow:XG}=Math,bA=n=>(n/=255)<=.04045?n/12.92:XG((n+.055)/1.055,2.4),xA=n=>n>.008856452?XG(n,1/3):n/.12841855+.137931034,YG=(...n)=>{const[t,e,r]=ii(n,"rgb"),[i,s,o]=((n,t,e)=>(n=bA(n),t=bA(t),e=bA(e),[xA((.4124564*n+.3575761*t+.1804375*e)/.95047),xA((.2126729*n+.7151522*t+.072175*e)/1),xA((.0193339*n+.119192*t+.9503041*e)/1.08883)]))(t,e,r),a=116*s-16;return[a<0?0:a,500*(i-s),200*(s-o)]};ln.prototype.lab=function(){return YG(this._rgb)},si.lab=(...n)=>new ln(...n,"lab"),Dr.format.lab=$G,Dr.autodetect.push({p:2,test:(...n)=>{if("array"===ri(n=ii(n,"lab"))&&3===n.length)return"lab"}});const{sin:Ove,cos:Gve}=Math,KG=(...n)=>{let[t,e,r]=ii(n,"lch");return isNaN(r)&&(r=0),r*=pve,[t,Gve(r)*e,Ove(r)*e]},qG=(...n)=>{n=ii(n,"lch");const[t,e,r]=n,[i,s,o]=KG(t,e,r),[a,l,c]=$G(i,s,o);return[a,l,c,n.length>3?n[3]:1]},{sqrt:jve,atan2:Uve,round:Zve}=Math,JG=(...n)=>{const[t,e,r]=ii(n,"lab"),i=jve(e*e+r*r);let s=(Uve(r,e)*gve+360)%360;return 0===Zve(1e4*i)&&(s=Number.NaN),[t,i,s]},QG=(...n)=>{const[t,e,r]=ii(n,"rgb"),[i,s,o]=YG(t,e,r);return JG(i,s,o)};ln.prototype.lch=function(){return QG(this._rgb)},ln.prototype.hcl=function(){return QG(this._rgb).reverse()},si.lch=(...n)=>new ln(...n,"lch"),si.hcl=(...n)=>new ln(...n,"hcl"),Dr.format.lch=qG,Dr.format.hcl=(...n)=>{const t=ii(n,"hcl").reverse();return qG(...t)},["lch","hcl"].forEach(n=>Dr.autodetect.push({p:2,test:(...t)=>{if("array"===ri(t=ii(t,n))&&3===t.length)return n}}));const Qp={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};ln.prototype.name=function(){const n=ZG(this._rgb,"rgb");for(let t of Object.keys(Qp))if(Qp[t]===n)return t.toLowerCase();return n},Dr.format.named=n=>{if(n=n.toLowerCase(),Qp[n])return UG(Qp[n]);throw new Error("unknown color name: "+n)},Dr.autodetect.push({p:5,test:(n,...t)=>{if(!t.length&&"string"===ri(n)&&Qp[n.toLowerCase()])return"named"}}),ln.prototype.num=function(){return((...n)=>{const[t,e,r]=ii(n,"rgb");return(t<<16)+(e<<8)+r})(this._rgb)},si.num=(...n)=>new ln(...n,"num"),Dr.format.num=n=>{if("number"==ri(n)&&n>=0&&n<=16777215)return[n>>16,n>>8&255,255&n,1];throw new Error("unknown num color: "+n)},Dr.autodetect.push({p:5,test:(...n)=>{if(1===n.length&&"number"===ri(n[0])&&n[0]>=0&&n[0]<=16777215)return"num"}});const{round:eW}=Math;ln.prototype.rgb=function(n=!0){return!1===n?this._rgb.slice(0,3):this._rgb.slice(0,3).map(eW)},ln.prototype.rgba=function(n=!0){return this._rgb.slice(0,4).map((t,e)=>e<3?!1===n?t:eW(t):t)},si.rgb=(...n)=>new ln(...n,"rgb"),Dr.format.rgb=(...n)=>{const t=ii(n,"rgba");return void 0===t[3]&&(t[3]=1),t},Dr.autodetect.push({p:3,test:(...n)=>{if("array"===ri(n=ii(n,"rgba"))&&(3===n.length||4===n.length&&"number"==ri(n[3])&&n[3]>=0&&n[3]<=1))return"rgb"}});const{log:w9}=Math,tW=n=>{const t=n/100;let e,r,i;return t<66?(e=255,r=t<6?0:-155.25485562709179-.44596950469579133*(r=t-2)+104.49216199393888*w9(r),i=t<20?0:.8274096064007395*(i=t-10)-254.76935184120902+115.67994401066147*w9(i)):(e=351.97690566805693+.114206453784165*(e=t-55)-40.25366309332127*w9(e),r=325.4494125711974+.07943456536662342*(r=t-50)-28.0852963507957*w9(r),i=255),[e,r,i,1]},{round:Yve}=Math;ln.prototype.temp=ln.prototype.kelvin=ln.prototype.temperature=function(){return(()=>{const t=ii([this._rgb],"rgb"),e=t[0],r=t[2];let a,i=1e3,s=4e4;for(;s-i>.4;){a=.5*(s+i);const l=tW(a);l[2]/l[0]>=r/e?s=a:i=a}return Yve(a)})()},si.temp=si.kelvin=si.temperature=(...n)=>new ln(...n,"temp"),Dr.format.temp=Dr.format.kelvin=Dr.format.temperature=tW;const{pow:y9,sign:qve}=Math,nW=(...n)=>{n=ii(n,"lab");const[t,e,r]=n,i=y9(t+.3963377774*e+.2158037573*r,3),s=y9(t-.1055613458*e-.0638541728*r,3),o=y9(t-.0894841775*e-1.291485548*r,3);return[255*_A(4.0767416621*i-3.3077115913*s+.2309699292*o),255*_A(-1.2684380046*i+2.6097574011*s-.3413193965*o),255*_A(-.0041960863*i-.7034186147*s+1.707614701*o),n.length>3?n[3]:1]};function _A(n){const t=Math.abs(n);return t>.0031308?(qve(n)||1)*(1.055*y9(t,1/2.4)-.055):12.92*n}const{cbrt:IA,pow:Jve,sign:Qve}=Math,rW=(...n)=>{const[t,e,r]=ii(n,"rgb"),[i,s,o]=[AA(t/255),AA(e/255),AA(r/255)],a=IA(.4122214708*i+.5363325363*s+.0514459929*o),l=IA(.2119034982*i+.6806995451*s+.1073969566*o),c=IA(.0883024619*i+.2817188376*s+.6299787005*o);return[.2104542553*a+.793617785*l-.0040720468*c,1.9779984951*a-2.428592205*l+.4505937099*c,.0259040371*a+.7827717662*l-.808675766*c]};function AA(n){const t=Math.abs(n);return t<.04045?n/12.92:(Qve(n)||1)*Jve((t+.055)/1.055,2.4)}ln.prototype.oklab=function(){return rW(this._rgb)},si.oklab=(...n)=>new ln(...n,"oklab"),Dr.format.oklab=nW,Dr.autodetect.push({p:3,test:(...n)=>{if("array"===ri(n=ii(n,"oklab"))&&3===n.length)return"oklab"}}),ln.prototype.oklch=function(){return((...n)=>{const[t,e,r]=ii(n,"rgb"),[i,s,o]=rW(t,e,r);return JG(i,s,o)})(this._rgb)},si.oklch=(...n)=>new ln(...n,"oklch"),Dr.format.oklch=(...n)=>{n=ii(n,"lch");const[t,e,r]=n,[i,s,o]=KG(t,e,r),[a,l,c]=nW(i,s,o);return[a,l,c,n.length>3?n[3]:1]},Dr.autodetect.push({p:3,test:(...n)=>{if("array"===ri(n=ii(n,"oklch"))&&3===n.length)return"oklch"}}),ln.prototype.alpha=function(n,t=!1){return void 0!==n&&"number"===ri(n)?t?(this._rgb[3]=n,this):new ln([this._rgb[0],this._rgb[1],this._rgb[2],n],"rgb"):this._rgb[3]},ln.prototype.clipped=function(){return this._rgb._clipped||!1},ln.prototype.darken=function(n=1){const e=this.lab();return e[0]-=18*n,new ln(e,"lab").alpha(this.alpha(),!0)},ln.prototype.brighten=function(n=1){return this.darken(-n)},ln.prototype.darker=ln.prototype.darken,ln.prototype.brighter=ln.prototype.brighten,ln.prototype.get=function(n){const[t,e]=n.split("."),r=this[t]();if(e){const i=t.indexOf(e)-("ok"===t.substr(0,2)?2:0);if(i>-1)return r[i];throw new Error(`unknown channel ${e} in mode ${t}`)}return r};const{pow:n5e}=Math;ln.prototype.luminance=function(n,t="rgb"){if(void 0!==n&&"number"===ri(n)){if(0===n)return new ln([0,0,0,this._rgb[3]],"rgb");if(1===n)return new ln([255,255,255,this._rgb[3]],"rgb");let e=this.luminance(),r=20;const i=(o,a)=>{const l=o.interpolate(a,.5,t),c=l.luminance();return Math.abs(n-c)<1e-7||!r--?l:c>n?i(o,l):i(l,a)},s=(e>n?i(new ln([0,0,0]),this):i(this,new ln([255,255,255]))).rgb();return new ln([...s,this._rgb[3]])}return s5e(...this._rgb.slice(0,3))};const s5e=(n,t,e)=>.2126*(n=MA(n))+.7152*(t=MA(t))+.0722*MA(e),MA=n=>(n/=255)<=.03928?n/12.92:n5e((n+.055)/1.055,2.4),qa={},b5=(n,t,e=.5,...r)=>{let i=r[0]||"lrgb";if(!qa[i]&&!r.length&&(i=Object.keys(qa)[0]),!qa[i])throw new Error(`interpolation mode ${i} is not defined`);return"object"!==ri(n)&&(n=new ln(n)),"object"!==ri(t)&&(t=new ln(t)),qa[i](n,t,e).alpha(n.alpha()+e*(t.alpha()-n.alpha()))};ln.prototype.mix=ln.prototype.interpolate=function(n,t=.5,...e){return b5(this,n,t,...e)},ln.prototype.premultiply=function(n=!1){const t=this._rgb,e=t[3];return n?(this._rgb=[t[0]*e,t[1]*e,t[2]*e,e],this):new ln([t[0]*e,t[1]*e,t[2]*e,e],"rgb")},ln.prototype.saturate=function(n=1){const e=this.lch();return e[1]+=18*n,e[1]<0&&(e[1]=0),new ln(e,"lch").alpha(this.alpha(),!0)},ln.prototype.desaturate=function(n=1){return this.saturate(-n)},ln.prototype.set=function(n,t,e=!1){const[r,i]=n.split("."),s=this[r]();if(i){const o=r.indexOf(i)-("ok"===r.substr(0,2)?2:0);if(o>-1){if("string"==ri(t))switch(t.charAt(0)){case"+":case"-":s[o]+=+t;break;case"*":s[o]*=+t.substr(1);break;case"/":s[o]/=+t.substr(1);break;default:s[o]=+t}else{if("number"!==ri(t))throw new Error("unsupported value for Color.set");s[o]=t}const a=new ln(s,r);return e?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${i} in mode ${r}`)}return s},ln.prototype.tint=function(n=.5,...t){return b5(this,"white",n,...t)},ln.prototype.shade=function(n=.5,...t){return b5(this,"black",n,...t)},qa.rgb=(n,t,e)=>{const r=n._rgb,i=t._rgb;return new ln(r[0]+e*(i[0]-r[0]),r[1]+e*(i[1]-r[1]),r[2]+e*(i[2]-r[2]),"rgb")};const{sqrt:EA,pow:eg}=Math;qa.lrgb=(n,t,e)=>{const[r,i,s]=n._rgb,[o,a,l]=t._rgb;return new ln(EA(eg(r,2)*(1-e)+eg(o,2)*e),EA(eg(i,2)*(1-e)+eg(a,2)*e),EA(eg(s,2)*(1-e)+eg(l,2)*e),"rgb")},qa.lab=(n,t,e)=>{const r=n.lab(),i=t.lab();return new ln(r[0]+e*(i[0]-r[0]),r[1]+e*(i[1]-r[1]),r[2]+e*(i[2]-r[2]),"lab")};const tg=(n,t,e,r)=>{let i,s,o,a,l,c,u,d,h,f,g,w;return"hsl"===r?(i=n.hsl(),s=t.hsl()):"hsv"===r?(i=n.hsv(),s=t.hsv()):"hcg"===r?(i=n.hcg(),s=t.hcg()):"hsi"===r?(i=n.hsi(),s=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",i=n.hcl(),s=t.hcl()):"oklch"===r&&(i=n.oklch().reverse(),s=t.oklch().reverse()),("h"===r.substr(0,1)||"oklch"===r)&&([o,l,u]=i,[a,c,d]=s),isNaN(o)||isNaN(a)?isNaN(o)?isNaN(a)?f=Number.NaN:(f=a,(1==u||0==u)&&"hsv"!=r&&(h=c)):(f=o,(1==d||0==d)&&"hsv"!=r&&(h=l)):(w=a>o&&a-o>180?a-(o+360):a<o&&o-a>180?a+360-o:a-o,f=o+e*w),void 0===h&&(h=l+e*(c-l)),g=u+e*(d-u),new ln("oklch"===r?[g,h,f]:[f,h,g],r)},iW=(n,t,e)=>tg(n,t,e,"lch");qa.lch=iW,qa.hcl=iW,qa.num=(n,t,e)=>{const r=n.num(),i=t.num();return new ln(r+e*(i-r),"num")},qa.hcg=(n,t,e)=>tg(n,t,e,"hcg"),qa.hsi=(n,t,e)=>tg(n,t,e,"hsi"),qa.hsl=(n,t,e)=>tg(n,t,e,"hsl"),qa.hsv=(n,t,e)=>tg(n,t,e,"hsv"),qa.oklab=(n,t,e)=>{const r=n.oklab(),i=t.oklab();return new ln(r[0]+e*(i[0]-r[0]),r[1]+e*(i[1]-r[1]),r[2]+e*(i[2]-r[2]),"oklab")},qa.oklch=(n,t,e)=>tg(n,t,e,"oklch");const{pow:SA,sqrt:TA,PI:zA,cos:sW,sin:oW,atan2:m5e}=Math,{pow:y5e}=Math;function C9(n){let t="rgb",e=si("#ccc"),r=0,i=[0,1],s=[],o=[0,0],a=!1,l=[],c=!1,u=0,d=1,h=!1,f={},g=!0,w=1;const C=function(Y){if((Y=Y||["#fff","#000"])&&"string"===ri(Y)&&si.brewer&&si.brewer[Y.toLowerCase()]&&(Y=si.brewer[Y.toLowerCase()]),"array"===ri(Y)){1===Y.length&&(Y=[Y[0],Y[0]]),Y=Y.slice(0);for(let ve=0;ve<Y.length;ve++)Y[ve]=si(Y[ve]);s.length=0;for(let ve=0;ve<Y.length;ve++)s.push(ve/(Y.length-1))}return se(),l=Y};let L=Y=>Y,ie=Y=>Y;const ne=function(Y,ve){let Re,Fe;if(null==ve&&(ve=!1),isNaN(Y)||null===Y)return e;Fe=ve?Y:a&&a.length>2?function(Y){if(null!=a){const ve=a.length-1;let Re=0;for(;Re<ve&&Y>=a[Re];)Re++;return Re-1}return 0}(Y)/(a.length-2):d!==u?(Y-u)/(d-u):1,Fe=ie(Fe),ve||(Fe=L(Fe)),1!==w&&(Fe=y5e(Fe,w)),Fe=o[0]+Fe*(1-o[0]-o[1]),Fe=qp(Fe,0,1);const Ze=Math.floor(1e4*Fe);if(g&&f[Ze])Re=f[Ze];else{if("array"===ri(l))for(let De=0;De<s.length;De++){const st=s[De];if(Fe<=st){Re=l[De];break}if(Fe>=st&&De===s.length-1){Re=l[De];break}if(Fe>st&&Fe<s[De+1]){Fe=(Fe-st)/(s[De+1]-st),Re=si.interpolate(l[De],l[De+1],Fe,t);break}}else"function"===ri(l)&&(Re=l(Fe));g&&(f[Ze]=Re)}return Re};var se=()=>f={};C(n);const $=function(Y){const ve=si(ne(Y));return c&&ve[c]?ve[c]():ve};return $.classes=function(Y){if(null!=Y){if("array"===ri(Y))a=Y,i=[Y[0],Y[Y.length-1]];else{const ve=si.analyze(i);a=0===Y?[ve.min,ve.max]:si.limits(ve,"e",Y)}return $}return a},$.domain=function(Y){if(!arguments.length)return i;u=Y[0],d=Y[Y.length-1],s=[];const ve=l.length;if(Y.length===ve&&u!==d)for(let Re of Array.from(Y))s.push((Re-u)/(d-u));else{for(let Re=0;Re<ve;Re++)s.push(Re/(ve-1));if(Y.length>2){const Re=Y.map((Ze,De)=>De/(Y.length-1)),Fe=Y.map(Ze=>(Ze-u)/(d-u));Fe.every((Ze,De)=>Re[De]===Ze)||(ie=Ze=>{if(Ze<=0||Ze>=1)return Ze;let De=0;for(;Ze>=Fe[De+1];)De++;return Re[De]+(Ze-Fe[De])/(Fe[De+1]-Fe[De])*(Re[De+1]-Re[De])})}}return i=[u,d],$},$.mode=function(Y){return arguments.length?(t=Y,se(),$):t},$.range=function(Y,ve){return C(Y),$},$.out=function(Y){return c=Y,$},$.spread=function(Y){return arguments.length?(r=Y,$):r},$.correctLightness=function(Y){return null==Y&&(Y=!0),h=Y,se(),L=h?function(ve){const Re=ne(0,!0).lab()[0],Fe=ne(1,!0).lab()[0],Ze=Re>Fe;let De=ne(ve,!0).lab()[0];const st=Re+(Fe-Re)*ve;let ht=De-st,ot=0,nt=1,It=20;for(;Math.abs(ht)>.01&&It-- >0;)Ze&&(ht*=-1),ht<0?(ot=ve,ve+=.5*(nt-ve)):(nt=ve,ve+=.5*(ot-ve)),De=ne(ve,!0).lab()[0],ht=De-st;return ve}:ve=>ve,$},$.padding=function(Y){return null!=Y?("number"===ri(Y)&&(Y=[Y,Y]),o=Y,$):o},$.colors=function(Y,ve){arguments.length<2&&(ve="hex");let Re=[];if(0===arguments.length)Re=l.slice(0);else if(1===Y)Re=[$(.5)];else if(Y>1){const Fe=i[0],Ze=i[1]-Fe;Re=function C5e(n,t,e){let r=[],i=n<t,s=e?i?t+1:t-1:t;for(let o=n;i?o<s:o>s;i?o++:o--)r.push(o);return r}(0,Y,!1).map(De=>$(Fe+De/(Y-1)*Ze))}else{n=[];let Fe=[];if(a&&a.length>2)for(let Ze=1,De=a.length,st=1<=De;st?Ze<De:Ze>De;st?Ze++:Ze--)Fe.push(.5*(a[Ze-1]+a[Ze]));else Fe=i;Re=Fe.map(Ze=>$(Ze))}return si[ve]&&(Re=Re.map(Fe=>Fe[ve]())),Re},$.cache=function(Y){return null!=Y?(g=Y,$):g},$.gamma=function(Y){return null!=Y?(w=Y,$):w},$.nodata=function(Y){return null!=Y?(e=si(Y),$):e},$}const xu=(n,t,e)=>{if(!xu[e])throw new Error("unknown blend mode "+e);return xu[e](n,t)},Vh=n=>(t,e)=>{const r=si(e).rgb(),i=si(t).rgb();return si.rgb(n(r,i))},kh=n=>(t,e)=>{const r=[];return r[0]=n(t[0],e[0]),r[1]=n(t[1],e[1]),r[2]=n(t[2],e[2]),r};xu.normal=Vh(kh(n=>n)),xu.multiply=Vh(kh((n,t)=>n*t/255)),xu.screen=Vh(kh((n,t)=>255*(1-(1-n/255)*(1-t/255)))),xu.overlay=Vh(kh((n,t)=>t<128?2*n*t/255:255*(1-2*(1-n/255)*(1-t/255)))),xu.darken=Vh(kh((n,t)=>n>t?t:n)),xu.lighten=Vh(kh((n,t)=>n>t?n:t)),xu.dodge=Vh(kh((n,t)=>255===n||(n=t/255*255/(1-n/255))>255?255:n)),xu.burn=Vh(kh((n,t)=>255*(1-(1-t/255)/(n/255))));const L5e=xu,{pow:H5e,sin:D5e,cos:V5e}=Math,{floor:P5e,random:B5e}=Math,{log:aW,pow:O5e,floor:G5e,abs:W5e}=Math;function lW(n,t=null){const e={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===ri(n)&&(n=Object.values(n)),n.forEach(r=>{t&&"object"===ri(r)&&(r=r[t]),null!=r&&!isNaN(r)&&(e.values.push(r),e.sum+=r,r<e.min&&(e.min=r),r>e.max&&(e.max=r),e.count+=1)}),e.domain=[e.min,e.max],e.limits=(r,i)=>cW(e,r,i),e}function cW(n,t="equal",e=7){"array"==ri(n)&&(n=lW(n));const{min:r,max:i}=n,s=n.values.sort((a,l)=>a-l);if(1===e)return[r,i];const o=[];if("c"===t.substr(0,1)&&(o.push(r),o.push(i)),"e"===t.substr(0,1)){o.push(r);for(let a=1;a<e;a++)o.push(r+a/e*(i-r));o.push(i)}else if("l"===t.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const a=Math.LOG10E*aW(r),l=Math.LOG10E*aW(i);o.push(r);for(let c=1;c<e;c++)o.push(O5e(10,a+c/e*(l-a)));o.push(i)}else if("q"===t.substr(0,1)){o.push(r);for(let a=1;a<e;a++){const l=(s.length-1)*a/e,c=G5e(l);if(c===l)o.push(s[c]);else{const u=l-c;o.push(s[c]*(1-u)+s[c+1]*u)}}o.push(i)}else if("k"===t.substr(0,1)){let a;const l=s.length,c=new Array(l),u=new Array(e);let d=!0,h=0,f=null;f=[],f.push(r);for(let C=1;C<e;C++)f.push(r+C/e*(i-r));for(f.push(i);d;){for(let I=0;I<e;I++)u[I]=0;for(let I=0;I<l;I++){const L=s[I];let ne,ie=Number.MAX_VALUE;for(let se=0;se<e;se++){const $=W5e(f[se]-L);$<ie&&(ie=$,ne=se),u[ne]++,c[I]=ne}}const C=new Array(e);for(let I=0;I<e;I++)C[I]=null;for(let I=0;I<l;I++)a=c[I],null===C[a]?C[a]=s[I]:C[a]+=s[I];for(let I=0;I<e;I++)C[I]*=1/u[I];d=!1;for(let I=0;I<e;I++)if(C[I]!==f[I]){d=!0;break}f=C,h++,h>200&&(d=!1)}const g={};for(let C=0;C<e;C++)g[C]=[];for(let C=0;C<l;C++)a=c[C],g[a].push(s[C]);let w=[];for(let C=0;C<e;C++)w.push(g[C][0]),w.push(g[C][g[C].length-1]);w=w.sort((C,I)=>C-I),o.push(w[0]);for(let C=1;C<w.length;C+=2){const I=w[C];!isNaN(I)&&-1===o.indexOf(I)&&o.push(I)}}return o}const{sqrt:wd,pow:Uo,min:U5e,max:Z5e,atan2:uW,abs:dW,cos:b9,sin:hW,exp:$5e,PI:fW}=Math,q5e={cool:()=>C9([si.hsl(180,1,.9),si.hsl(250,.7,.4)]),hot:()=>C9(["#000","#f00","#ff0","#fff"]).mode("rgb")},x9={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]};for(let n of Object.keys(x9))x9[n.toLowerCase()]=x9[n];Object.assign(si,{average:(n,t="lrgb",e=null)=>{const r=n.length;e||(e=Array.from(new Array(r)).map(()=>1));const i=r/e.reduce(function(d,h){return d+h});if(e.forEach((d,h)=>{e[h]*=i}),n=n.map(d=>new ln(d)),"lrgb"===t)return((n,t)=>{const e=n.length,r=[0,0,0,0];for(let i=0;i<n.length;i++){const o=t[i]/e,a=n[i]._rgb;r[0]+=SA(a[0],2)*o,r[1]+=SA(a[1],2)*o,r[2]+=SA(a[2],2)*o,r[3]+=a[3]*o}return r[0]=TA(r[0]),r[1]=TA(r[1]),r[2]=TA(r[2]),r[3]>.9999999&&(r[3]=1),new ln(dA(r))})(n,e);const s=n.shift(),o=s.get(t),a=[];let l=0,c=0;for(let d=0;d<o.length;d++)if(o[d]=(o[d]||0)*e[0],a.push(isNaN(o[d])?0:e[0]),"h"===t.charAt(d)&&!isNaN(o[d])){const h=o[d]/180*zA;l+=sW(h)*e[0],c+=oW(h)*e[0]}let u=s.alpha()*e[0];n.forEach((d,h)=>{const f=d.get(t);u+=d.alpha()*e[h+1];for(let g=0;g<o.length;g++)if(!isNaN(f[g]))if(a[g]+=e[h+1],"h"===t.charAt(g)){const w=f[g]/180*zA;l+=sW(w)*e[h+1],c+=oW(w)*e[h+1]}else o[g]+=f[g]*e[h+1]});for(let d=0;d<o.length;d++)if("h"===t.charAt(d)){let h=m5e(c/a[d],l/a[d])/zA*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;o[d]=h}else o[d]=o[d]/a[d];return u/=r,new ln(o,t).alpha(u>.99999?1:u,!0)},bezier:n=>{const t=function(n){let t,e,r,i;if(2===(n=n.map(s=>new ln(s))).length)[e,r]=n.map(s=>s.lab()),t=function(s){const o=[0,1,2].map(a=>e[a]+s*(r[a]-e[a]));return new ln(o,"lab")};else if(3===n.length)[e,r,i]=n.map(s=>s.lab()),t=function(s){const o=[0,1,2].map(a=>(1-s)*(1-s)*e[a]+2*(1-s)*s*r[a]+s*s*i[a]);return new ln(o,"lab")};else if(4===n.length){let s;[e,r,i,s]=n.map(o=>o.lab()),t=function(o){const a=[0,1,2].map(l=>(1-o)*(1-o)*(1-o)*e[l]+3*(1-o)*(1-o)*o*r[l]+3*(1-o)*o*o*i[l]+o*o*o*s[l]);return new ln(a,"lab")}}else{if(!(n.length>=5))throw new RangeError("No point in running bezier with only one color.");{let s,o,a;s=n.map(l=>l.lab()),a=n.length-1,o=function(n){let t=[1,1];for(let e=1;e<n;e++){let r=[1];for(let i=1;i<=t.length;i++)r[i]=(t[i]||0)+t[i-1];t=r}return t}(a),t=function(l){const c=1-l,u=[0,1,2].map(d=>s.reduce((h,f,g)=>h+o[g]*c**(a-g)*l**g*f[d],0));return new ln(u,"lab")}}}return t}(n);return t.scale=()=>C9(t),t},blend:L5e,cubehelix:function k5e(n=300,t=-1.5,e=1,r=1,i=[0,1]){let o,s=0;"array"===ri(i)?o=i[1]-i[0]:(o=0,i=[i,i]);const a=function(l){const c=vd*((n+120)/360+t*l),u=H5e(i[0]+o*l,r),h=(0!==s?e[0]+l*s:e)*u*(1-u)/2,f=V5e(c),g=D5e(c);return si(dA([255*(u+h*(-.14861*f+1.78277*g)),255*(u+h*(-.29227*f-.90649*g)),255*(u+h*(1.97294*f)),1]))};return a.start=function(l){return null==l?n:(n=l,a)},a.rotations=function(l){return null==l?t:(t=l,a)},a.gamma=function(l){return null==l?r:(r=l,a)},a.hue=function(l){return null==l?e:("array"===ri(e=l)?(s=e[1]-e[0],0===s&&(e=e[1])):s=0,a)},a.lightness=function(l){return null==l?i:("array"===ri(l)?(i=l,o=l[1]-l[0]):(i=[l,l],o=0),a)},a.scale=()=>si.scale(a),a.hue(e),a},mix:b5,interpolate:b5,random:()=>{let n="#";for(let t=0;t<6;t++)n+="0123456789abcdef".charAt(P5e(16*B5e()));return new ln(n,"hex")},scale:C9,analyze:lW,contrast:(n,t)=>{n=new ln(n),t=new ln(t);const e=n.luminance(),r=t.luminance();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},deltaE:function X5e(n,t,e=1,r=1,i=1){var s=function(Pn){return 360*Pn/(2*fW)},o=function(Pn){return 2*fW*Pn/360};n=new ln(n),t=new ln(t);const[a,l,c]=Array.from(n.lab()),[u,d,h]=Array.from(t.lab()),f=(a+u)/2,C=(wd(Uo(l,2)+Uo(c,2))+wd(Uo(d,2)+Uo(h,2)))/2,I=.5*(1-wd(Uo(C,7)/(Uo(C,7)+Uo(25,7)))),L=l*(1+I),ie=d*(1+I),ne=wd(Uo(L,2)+Uo(c,2)),se=wd(Uo(ie,2)+Uo(h,2)),$=(ne+se)/2,Y=s(uW(c,L)),ve=s(uW(h,ie)),Re=Y>=0?Y:Y+360,Fe=ve>=0?ve:ve+360,Ze=dW(Re-Fe)>180?(Re+Fe+360)/2:(Re+Fe)/2,De=1-.17*b9(o(Ze-30))+.24*b9(o(2*Ze))+.32*b9(o(3*Ze+6))-.2*b9(o(4*Ze-63));let st=Fe-Re;st=dW(st)<=180?st:Fe<=Re?st+360:st-360,st=2*wd(ne*se)*hW(o(st)/2);const ht=u-a,ot=se-ne,nt=1+.015*Uo(f-50,2)/wd(20+Uo(f-50,2)),It=1+.045*$,Dt=1+.015*$*De,bn=30*$5e(-Uo((Ze-275)/25,2)),Lt=-2*wd(Uo($,7)/(Uo($,7)+Uo(25,7)))*hW(2*o(bn)),Ht=wd(Uo(ht/(e*nt),2)+Uo(ot/(r*It),2)+Uo(st/(i*Dt),2)+Lt*(ot/(r*It))*(st/(i*Dt)));return Z5e(0,U5e(100,Ht))},distance:function Y5e(n,t,e="lab"){n=new ln(n),t=new ln(t);const r=n.get(e),i=t.get(e);let s=0;for(let o in r){const a=(r[o]||0)-(i[o]||0);s+=a*a}return Math.sqrt(s)},limits:cW,valid:(...n)=>{try{return new ln(...n),!0}catch{return!1}},scales:q5e,input:Dr,colors:Qp,brewer:x9});const J5e=si;function pW(n){const{color:t,isFocused:e}=n,r=e?10:void 0;return{polygon:new Gl({fill:new md({color:Q5e(t)}),stroke:new m1({color:"white",width:2}),zIndex:r}),point:new Gl({image:new f9({fill:new md({color:t}),stroke:new m1({color:"white",width:e?3:2}),radius:e?8:7}),zIndex:r}),line:[new Gl({stroke:new m1({color:"white",width:e?8:6}),zIndex:r}),new Gl({stroke:new m1({color:t,width:e?3:2}),zIndex:r})]}}function gW(n){return t=>{var e;switch(null===(e=t?.getGeometry())||void 0===e?void 0:e.getType()){case"LinearRing":case"LineString":case"MultiLineString":return n.line;case"Point":case"MultiPoint":default:return n.point;case"Circle":case"Polygon":case"MultiPolygon":return n.polygon}}}function Q5e(n,t=.25){return J5e(n).alpha(t).css()}function vW(n,t){return t&&(n.src=t),n.src&&vx&&boe?n.decode().then(()=>createImageBitmap(n)).catch(e=>{if(n.complete&&n.width)return n;throw e}):function mW(n,t){return t&&(n.src=t),n.src&&vx?new Promise((e,r)=>n.decode().then(()=>e(n)).catch(i=>n.complete&&n.width?e(n):r(i))):function n4e(n,t){return new Promise((e,r)=>{function i(){o(),e(n)}function s(){o(),r(new Error("Image load error"))}function o(){n.removeEventListener("load",i),n.removeEventListener("error",s)}n.addEventListener("load",i),n.addEventListener("error",s),t&&(n.src=t)})}(n)}(n)}gW(pW({color:"blue"})),gW(pW({color:"red",isFocused:!0}));const wW=class e4e extends Av{constructor(t,e,r,i){super(),this.extent=t,this.pixelRatio_=r,this.resolution=e,this.state="function"==typeof i?0:i,this.image_=null,this.loader="function"==typeof i?i:null}changed(){this.dispatchEvent("change")}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(0==this.state&&this.loader){this.state=1,this.changed();const t=this.getResolution(),e=Array.isArray(t)?t[0]:t;(function _v(n){return function t(){let e;try{e=n()}catch(r){return Promise.reject(r)}return e instanceof Promise?e:Promise.resolve(e)}()})(()=>this.loader(this.getExtent(),e,this.getPixelRatio())).then(r=>{"image"in r&&(this.image_=r.image),"extent"in r&&(this.extent=r.extent),"resolution"in r&&(this.resolution=r.resolution),"pixelRatio"in r&&(this.pixelRatio_=r.pixelRatio),(r instanceof HTMLImageElement||r instanceof ImageBitmap||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement)&&(this.image_=r),this.state=2}).catch(r=>{this.state=3,console.error(r)}).finally(()=>this.changed())}}setImage(t){this.image_=t}setResolution(t){this.resolution=t}};function yW(n,t,e){return t+":"+n+":"+(e?function yG(n){return"string"==typeof n?n:xG(n)}(e):"null")}new class r4e{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_)!(3&t++)&&!this.cache_[e].hasListener()&&(delete this.cache_[e],--this.cacheSize_)}}get(t,e,r){const i=yW(t,e,r);return i in this.cache_?this.cache_[i]:null}set(t,e,r,i){const s=yW(t,e,r);this.cache_[s]=i,++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}};const gn_IDLE=0,gn_LOADING=1,gn_LOADED=2,gn_ERROR=3,gn_EMPTY=4;function xW(n){return Math.pow(n,3)}function ng(n){return 1-xW(1-n)}function HA(n){return 3*n*n-2*n*n*n}const A9=class l4e extends Av{constructor(t,e,r){super(),r=r||{},this.tileCoord=t,this.state=e,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent("change")}release(){this.state===gn_ERROR&&this.setState(gn_EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let t=this.interimTile;if(!t)return this;do{if(t.getState()==gn_LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){let t=this.interimTile;if(!t)return;let e=this;do{if(t.getState()==gn_LOADED){t.interimTile=null;break}t.getState()==gn_LOADING?e=t:t.getState()==gn_IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==gn_ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){gr()}getAlpha(t,e){if(!this.transition_)return 1;let r=this.transitionStarts_[t];if(r){if(-1===r)return 1}else r=e,this.transitionStarts_[t]=r;const i=e-r+1e3/60;return i>=this.transition_?1:xW(i/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}},IW=class u4e extends r1{constructor(t){super(),this.background_=t.background;const e=Object.assign({},t);"object"==typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e.opacity=void 0!==t.opacity?t.opacity:1,(0,ss.v)("number"==typeof e.opacity,"Layer opacity must be a number"),e.visible=void 0===t.visible||t.visible,e.zIndex=t.zIndex,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,e.minZoom=void 0!==t.minZoom?t.minZoom:-1/0,e.maxZoom=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},r=this.getZIndex();return e.opacity=(0,Xn.qE)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==r||e.managed?r:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return gr()}getLayerStatesArray(t){return gr()}getExtent(){return this.get("extent")}getMaxResolution(){return this.get("maxResolution")}getMinResolution(){return this.get("minResolution")}getMinZoom(){return this.get("minZoom")}getMaxZoom(){return this.get("maxZoom")}getOpacity(){return this.get("opacity")}getSourceState(){return gr()}getVisible(){return this.get("visible")}getZIndex(){return this.get("zIndex")}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set("extent",t)}setMaxResolution(t){this.set("maxResolution",t)}setMinResolution(t){this.set("minResolution",t)}setMaxZoom(t){this.set("maxZoom",t)}setMinZoom(t){this.set("minZoom",t)}setOpacity(t){(0,ss.v)("number"==typeof t,"Layer opacity must be a number"),this.set("opacity",t)}setVisible(t){this.set("visible",t)}setZIndex(t){this.set("zIndex",t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},_u={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var M9=B(3139),Iu=B(5085);function AW(n,t,e){return function(r,i,s,o,a){if(!r)return;if(!i&&!t)return r;const l=t?0:s[0]*i,c=t?0:s[1]*i,u=a?a[0]:0,d=a?a[1]:0;let h=n[0]+l/2+u,f=n[2]-l/2+u,g=n[1]+c/2+d,w=n[3]-c/2+d;h>f&&(h=(f+h)/2,f=h),g>w&&(g=(w+g)/2,w=g);let C=(0,Xn.qE)(r[0],h,f),I=(0,Xn.qE)(r[1],g,w);if(o&&e&&i){const L=30*i;C+=-L*Math.log(1+Math.max(0,h-r[0])/L)+L*Math.log(1+Math.max(0,r[0]-f)/L),I+=-L*Math.log(1+Math.max(0,g-r[1])/L)+L*Math.log(1+Math.max(0,r[1]-w)/L)}return[C,I]}}function d4e(n){return n}function DA(n,t,e,r){const i=(0,pt.RG)(t)/e[0],s=(0,pt.Oq)(t)/e[1];return r?Math.min(n,Math.max(i,s)):Math.min(n,Math.min(i,s))}function VA(n,t,e){let r=Math.min(n,t);return r*=Math.log(1+50*Math.max(0,n/t-1))/50+1,e&&(r=Math.max(r,e),r/=Math.log(1+50*Math.max(0,e/n-1))/50+1),(0,Xn.qE)(r,e/2,2*t)}function MW(n,t,e,r,i){return e=void 0===e||e,function(s,o,a,l){if(void 0!==s){const c=r?DA(n,r,a,i):n;return e&&l?VA(s,c,t):(0,Xn.qE)(s,t,c)}}}function kA(n){if(void 0!==n)return 0}function EW(n){if(void 0!==n)return n}function E9(n,t){setTimeout(function(){n(t)},0)}function C4e(n){return!(n.sourceCenter&&n.targetCenter&&!(0,Iu.aI)(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function PA(n,t,e,r,i){const s=Math.cos(-i);let o=Math.sin(-i),a=n[0]*s-n[1]*o,l=n[1]*s+n[0]*o;return a+=(t[0]/2-e[0])*r,l+=(e[1]-t[1]/2)*r,o=-o,[a*s-l*o,l*s+a*o]}const yd=class m4e extends r1{constructor(t){super(),t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.projection_=(0,an.Av)(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.nextCenter_=null,this.cancelAnchor_=void 0,t.projection&&(0,an.RJ)(),t.center&&(t.center=(0,an.Ad)(t.center,this.projection_)),t.extent&&(t.extent=(0,an.SD)(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const a in _u)delete e[a];this.setProperties(e,!0);const r=function w4e(n){let t,e,r,o=void 0!==n.minZoom?n.minZoom:0,a=void 0!==n.maxZoom?n.maxZoom:28;const l=void 0!==n.zoomFactor?n.zoomFactor:2,c=void 0!==n.multiWorld&&n.multiWorld,u=void 0===n.smoothResolutionConstraint||n.smoothResolutionConstraint,d=void 0!==n.showFullExtent&&n.showFullExtent,h=(0,an.Av)(n.projection,"EPSG:3857"),f=h.getExtent();let g=n.constrainOnlyCenter,w=n.extent;if(!c&&!w&&h.isGlobal()&&(g=!1,w=f),void 0!==n.resolutions){const C=n.resolutions;e=C[o],r=void 0!==C[a]?C[a]:C[C.length-1],t=n.constrainResolution?function h4e(n,t,e,r){return t=void 0===t||t,function(i,s,o,a){if(void 0!==i){const l=n[0],c=n[n.length-1],u=e?DA(l,e,o,r):l;if(a)return t?VA(i,u,c):(0,Xn.qE)(i,c,u);const d=Math.min(u,i),h=Math.floor((0,Ri.FT)(n,d,s));return n[h]>u&&h<n.length-1?n[h+1]:n[h]}}}(C,u,!g&&w,d):MW(e,r,u,!g&&w,d)}else{const I=(f?Math.max((0,pt.RG)(f),(0,pt.Oq)(f)):360*an.Ig.degrees/h.getMetersPerUnit())/M9.R/Math.pow(2,0),L=I/Math.pow(2,28);e=n.maxResolution,void 0!==e?o=0:e=I/Math.pow(l,o),r=n.minResolution,void 0===r&&(r=void 0!==n.maxZoom?void 0!==n.maxResolution?e/Math.pow(l,a):I/Math.pow(l,a):L),a=o+Math.floor(Math.log(e/r)/Math.log(l)),r=e/Math.pow(l,a-o),t=n.constrainResolution?function f4e(n,t,e,r,i,s){return r=void 0===r||r,e=void 0!==e?e:0,function(o,a,l,c){if(void 0!==o){const u=i?DA(t,i,l,s):t;if(c)return r?VA(o,u,e):(0,Xn.qE)(o,e,u);const d=1e-9,h=Math.ceil(Math.log(t/u)/Math.log(n)-d),f=-a*(.5-d)+.5,g=Math.min(u,o),w=Math.floor(Math.log(t/g)/Math.log(n)+f),C=Math.max(h,w),I=t/Math.pow(n,C);return(0,Xn.qE)(I,e,u)}}}(l,e,r,u,!g&&w,d):MW(e,r,u,!g&&w,d)}return{constraint:t,maxResolution:e,minResolution:r,minZoom:o,zoomFactor:l}}(t);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=r.minZoom;const i=function v4e(n){if(void 0!==n.extent)return AW(n.extent,n.constrainOnlyCenter,void 0===n.smoothExtentConstraint||n.smoothExtentConstraint);const t=(0,an.Av)(n.projection,"EPSG:3857");if(!0!==n.multiWorld&&t.isGlobal()){const e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,AW(e,!1,!1)}return d4e}(t),s=r.constraint,o=function y4e(n){if(void 0===n.enableRotation||n.enableRotation){const e=n.constrainRotation;return void 0===e||!0===e?function g4e(n){const t=void 0===n?(0,Xn.eh)(5):n;return function(e,r){return r||void 0===e?e:Math.abs(e)<=t?0:e}}():!1===e?EW:"number"==typeof e?function p4e(n){const t=2*Math.PI/n;return function(e,r){return r?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}(e):EW}return kA}(t);this.constraints_={center:i,resolution:s,rotation:o},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const r=this.getCenterInternal();if(r){const i=t||[0,0,0,0];e=e||[0,0,0,0];const s=this.getResolution();this.setCenterInternal([r[0]+s/2*(i[3]-e[3]+e[1]-i[1]),r[1]-s/2*(i[0]-e[0]+e[2]-i[2])])}}getUpdatedOptions_(t){const e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let r=0;r<e.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=(0,an.Ad)(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=(0,an.Ad)(i.anchor,this.getProjection())),e[r]=i}this.animateInternal.apply(this,e)}animateInternal(t){let r,e=arguments.length;e>1&&"function"==typeof arguments[e-1]&&(r=arguments[e-1],--e);let i=0;for(;i<e&&!this.isDef();++i){const u=arguments[i];u.center&&this.setCenterInternal(u.center),void 0!==u.zoom?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),void 0!==u.rotation&&this.setRotation(u.rotation)}if(i===e)return void(r&&E9(r,!0));let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const c=[];for(;i<e;++i){const u=arguments[i],d={start:s,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||HA,callback:r};if(u.center&&(d.sourceCenter=o,d.targetCenter=u.center.slice(),o=d.targetCenter),void 0!==u.zoom?(d.sourceResolution=a,d.targetResolution=this.getResolutionForZoom(u.zoom),a=d.targetResolution):u.resolution&&(d.sourceResolution=a,d.targetResolution=u.resolution,a=d.targetResolution),void 0!==u.rotation){d.sourceRotation=l;const h=(0,Xn.xP)(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+h,l=d.targetRotation}C4e(d)?d.complete=!0:s+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(0,1),this.updateAnimations_()}getAnimating(){return this.hints_[0]>0}getInteracting(){return this.hints_[1]>0}cancelAnimations(){let t;this.setHint(0,-this.hints_[0]);for(let e=0,r=this.animations_.length;e<r;++e){const i=this.animations_[e];if(i[0].callback&&E9(i[0].callback,!1),!t)for(let s=0,o=i.length;s<o;++s){const a=i[s];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let s=!0;for(let o=0,a=i.length;o<a;++o){const l=i[o];if(l.complete)continue;let u=l.duration>0?(t-l.start)/l.duration:1;u>=1?(l.complete=!0,u=1):s=!1;const d=l.easing(u);if(l.sourceCenter){const h=l.sourceCenter[0],f=l.sourceCenter[1],g=l.targetCenter[0],w=l.targetCenter[1];this.nextCenter_=l.targetCenter,this.targetCenter_=[h+d*(g-h),f+d*(w-f)]}if(l.sourceResolution&&l.targetResolution){const h=1===d?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){const f=this.getViewportSize_(this.getRotation()),g=this.constraints_.resolution(h,0,f,!0);this.targetCenter_=this.calculateCenterZoom(g,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=h,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){const h=1===d?(0,Xn.xP)(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){const f=this.constraints_.rotation(h,!0);this.targetCenter_=this.calculateCenterRotate(f,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=h}if(this.applyTargetState_(!0),e=!0,!l.complete)break}if(s){this.animations_[r]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=i[0].callback;o&&E9(o,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let r;const i=this.getCenterInternal();return void 0!==i&&(r=[i[0]-e[0],i[1]-e[1]],(0,Iu.e$)(r,t-this.getRotation()),(0,Iu.WQ)(r,e)),r}calculateCenterZoom(t,e){let r;const i=this.getCenterInternal(),s=this.getResolution();return void 0!==i&&void 0!==s&&(r=[e[0]-t*(e[0]-i[0])/s,e[1]-t*(e[1]-i[1])/s]),r}getViewportSize_(t){const e=this.viewportSize_;if(t){const r=e[0],i=e[1];return[Math.abs(r*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(r*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&(0,an.te)(t,this.getProjection())}getCenterInternal(){return this.get(_u.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const e=this.calculateExtentInternal(t);return(0,an.JR)(e,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();(0,ss.v)(e,"The view center is not defined");const r=this.getResolution();(0,ss.v)(void 0!==r,"The view resolution is not defined");const i=this.getRotation();return(0,ss.v)(void 0!==i,"The view rotation is not defined"),(0,pt.Bg)(e,r,i,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(_u.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal((0,an.SD)(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const r=(0,pt.RG)(t)/e[0],i=(0,pt.Oq)(t)/e[1];return Math.max(r,i)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),i=Math.log(e/this.minResolution_)/Math.log(t);return function(s){return e/Math.pow(t,s*i)}}getRotation(){return this.get(_u.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),r=this.getConstrainedResolution(this.maxResolution_),s=Math.log(r/this.minResolution_)/e;return function(o){return Math.log(r/o)/e/s}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const r=this.padding_;return r&&(e=[e[0]-r[1]-r[3],e[1]-r[0]-r[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();i=PA(i,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],e,r)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let r,i,e=this.minZoom_||0;if(this.resolutions_){const s=(0,Ri.FT)(this.resolutions_,t,1);e=s,r=this.resolutions_[s],i=s==this.resolutions_.length-1?2:r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return e+Math.log(r/t)/Math.log(i)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const e=(0,Xn.qE)(Math.floor(t),0,this.resolutions_.length-2);return this.resolutions_[e]/Math.pow(this.resolutions_[e]/this.resolutions_[e+1],(0,Xn.qE)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let r;if((0,ss.v)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(t))(0,ss.v)(!(0,pt.Im)(t),"Cannot fit empty extent provided as `geometry`"),r=AF((0,an.SD)(t,this.getProjection()));else if("Circle"===t.getType()){const i=(0,an.SD)(t.getExtent(),this.getProjection());r=AF(i),r.rotate(this.getRotation(),(0,pt.q1)(i))}else{const i=(0,an.Tf)();r=i?t.clone().transform(i,this.getProjection()):t}this.fitInternal(r,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),r=Math.cos(e),i=Math.sin(-e),s=t.getFlatCoordinates(),o=t.getStride();let a=1/0,l=1/0,c=-1/0,u=-1/0;for(let d=0,h=s.length;d<h;d+=o){const f=s[d]*r-s[d+1]*i,g=s[d]*i+s[d+1]*r;a=Math.min(a,f),l=Math.min(l,g),c=Math.max(c,f),u=Math.max(u,g)}return[a,l,c,u]}fitInternal(t,e){let r=(e=e||{}).size;r||(r=this.getViewportSizeMinusPadding_());const i=void 0!==e.padding?e.padding:[0,0,0,0],s=void 0!==e.nearest&&e.nearest;let o;o=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;const a=this.rotatedExtentForGeometry(t);let l=this.getResolutionForExtentInternal(a,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);const c=this.getRotation(),u=Math.sin(c),d=Math.cos(c),h=(0,pt.q1)(a);h[0]+=(i[1]-i[3])/2*l,h[1]+=(i[0]-i[2])/2*l;const w=this.getConstrainedCenter([h[0]*d-h[1]*u,h[1]*d+h[0]*u],l),C=e.callback?e.callback:Ip;void 0!==e.duration?this.animateInternal({resolution:l,center:w,duration:e.duration,easing:e.easing},C):(this.targetResolution_=l,this.targetCenter_=w,this.applyTargetState_(!1,!0),E9(C,!0))}centerOn(t,e,r){this.centerOnInternal((0,an.Ad)(t,this.getProjection()),e,r)}centerOnInternal(t,e,r){this.setCenterInternal(PA(t,e,r,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,r,i){let s;const o=this.padding_;if(o&&t){const a=this.getViewportSizeMinusPadding_(-r),l=PA(t,i,[a[0]/2+o[3],a[1]/2+o[0]],e,r);s=[t[0]-l[0],t[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){const e=(0,an.te)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&(0,an.Ad)(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,i,r);e&&(this.targetCenter_=this.calculateCenterZoom(s,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=(0,an.Ad)(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,r);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&(0,an.Ad)(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const r=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,s,r),a=this.constraints_.center(this.targetCenter_,o,s,r,this.calculateCenterShift(this.targetCenter_,o,i,s));this.get(_u.ROTATION)!==i&&this.set(_u.ROTATION,i),this.get(_u.RESOLUTION)!==o&&(this.set(_u.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(_u.CENTER)||!(0,Iu.aI)(this.get(_u.CENTER),a))&&this.set(_u.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,r){t=void 0!==t?t:200;const i=e||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,i,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,void this.applyTargetState_();r=r||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!(0,Iu.aI)(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:t,easing:ng,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(1,1)}endInteraction(t,e,r){r=r&&(0,an.Ad)(r,this.getProjection()),this.endInteractionInternal(t,e,r)}endInteractionInternal(t,e,r){this.getInteracting()&&(this.setHint(1,-1),this.resolveConstraints(t,e,r))}getConstrainedCenter(t,e){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),r)}getConstrainedZoom(t,e){const r=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(r,e))}getConstrainedResolution(t,e){e=e||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,r)}};const rg=class b4e extends IW{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener("source",this.handleSourcePropertyChange_),this.setSource(t.source?t.source:null)}getLayersArray(t){return(t=t||[]).push(this),t}getLayerStatesArray(t){return(t=t||[]).push(this.getLayerState()),t}getSource(){return this.get("source")||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!this.sourceReady_&&"ready"===this.getSource().getState()&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Rs(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=Li(t,"change",this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}isVisible(t){let e;const r=this.getMapInternal();let i;!t&&r&&(t=r.getView()),e=t instanceof yd?{viewState:t.getState(),extent:t.calculateExtent()}:t,!e.layerStatesArray&&r&&(e.layerStatesArray=r.getLayerGroup().getLayerStatesArray()),i=e.layerStatesArray?e.layerStatesArray.find(o=>o.layer===this):this.getLayerState();const s=this.getExtent();return function BA(n,t){if(!n.visible)return!1;const e=t.resolution;if(e<n.minResolution||e>=n.maxResolution)return!1;const r=t.zoom;return r>n.minZoom&&r<=n.maxZoom}(i,e.viewState)&&(!s||(0,pt.HY)(s,e.extent))}getAttributions(t){if(!this.isVisible(t))return[];let e;const r=this.getSource();if(r&&(e=r.getAttributions()),!e)return[];let s=e(t instanceof yd?t.getViewStateAndExtent():t);return Array.isArray(s)||(s=[s]),s}render(t,e){const r=this.getRenderer();return r.prepareFrame(t)?(this.rendered=!0,r.renderFrame(t,e)):null}unrender(){this.rendered=!1}setMapInternal(t){t||this.unrender(),this.set("map",t)}getMapInternal(){return this.get("map")}setMap(t){this.mapPrecomposeKey_&&(Rs(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Rs(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Li(t,"precompose",function(e){const i=e.frameState.layerStatesArray,s=this.getLayerState(!1);(0,ss.v)(!i.some(function(o){return o.layer===s.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),i.push(s)},this),this.mapRenderKey_=Li(this,"change",t.render,t),this.changed())}setSource(t){this.set("source",t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function PW(n){return n?Array.isArray(n)?function(t){return n}:"function"==typeof n?n:function(t){return[n]}:null}B(1763),B(206),B(5278);const R9=class P3e extends r1{constructor(t){super(),this.projection=(0,an.Jt)(t.projection),this.attributions_=PW(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise(function(r,i){e.viewResolver=r,e.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=PW(t),this.changed()}setState(t){this.state_=t,this.changed()}};var L9=B(5534);const BW=class B3e extends A9{constructor(t,e,r,i,s,o){super(t,e,o),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(t){this.image_=t,this.state=gn_LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=gn_ERROR,this.unlistenImage_(),this.image_=function N3e(){const n=Ka(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}(),this.changed()}handleImageLoad_(){const t=this.image_;this.state=t.naturalWidth&&t.naturalHeight?gn_LOADED:gn_EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==gn_ERROR&&(this.state=gn_IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==gn_IDLE&&(this.state=gn_LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function t4e(n,t,e){const r=n;let i=!0,s=!1,o=!1;const a=[Pw(r,"load",function(){o=!0,s||t()})];return r.src&&vx?(s=!0,r.decode().then(function(){i&&t()}).catch(function(l){i&&(o?t():e())})):a.push(Pw(r,"error",e)),function(){i=!1,a.forEach(Rs)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}},GW=class G3e{constructor(t,e,r,i,s,o){this.sourceProj_=t,this.targetProj_=e;let a={};const l=(0,an.RG)(this.targetProj_,this.sourceProj_);this.transformInv_=function(L){const ie=L[0]+"/"+L[1];return a[ie]||(a[ie]=l(L)),a[ie]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&(0,pt.RG)(i)>=(0,pt.RG)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,pt.RG)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,pt.RG)(this.targetProj_.getExtent()):null;const c=(0,pt.Py)(r),u=(0,pt.WU)(r),d=(0,pt.k_)(r),h=(0,pt.R)(r),f=this.transformInv_(c),g=this.transformInv_(u),w=this.transformInv_(d),C=this.transformInv_(h),I=10+(o?Math.max(0,Math.ceil(Math.log2((0,pt.UG)(r)/(o*o*256*256)))):0);if(this.addQuad_(c,u,d,h,f,g,w,C,I),this.wrapsXInSource_){let L=1/0;this.triangles_.forEach(function(ie,ne,se){L=Math.min(L,ie.source[0][0],ie.source[1][0],ie.source[2][0])}),this.triangles_.forEach(ie=>{if(Math.max(ie.source[0][0],ie.source[1][0],ie.source[2][0])-L>this.sourceWorldWidth_/2){const ne=[[ie.source[0][0],ie.source[0][1]],[ie.source[1][0],ie.source[1][1]],[ie.source[2][0],ie.source[2][1]]];ne[0][0]-L>this.sourceWorldWidth_/2&&(ne[0][0]-=this.sourceWorldWidth_),ne[1][0]-L>this.sourceWorldWidth_/2&&(ne[1][0]-=this.sourceWorldWidth_),ne[2][0]-L>this.sourceWorldWidth_/2&&(ne[2][0]-=this.sourceWorldWidth_);const se=Math.min(ne[0][0],ne[1][0],ne[2][0]);Math.max(ne[0][0],ne[1][0],ne[2][0])-se<this.sourceWorldWidth_/2&&(ie.source=ne)}})}a={}}addTriangle_(t,e,r,i,s,o){this.triangles_.push({source:[i,s,o],target:[t,e,r]})}addQuad_(t,e,r,i,s,o,a,l,c){const u=(0,pt.Tr)([s,o,a,l]),d=this.sourceWorldWidth_?(0,pt.RG)(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&d>.5&&d<1;let g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const C=(0,pt.Tr)([t,e,r,i]);g=(0,pt.RG)(C)/this.targetWorldWidth_>.25||g}!f&&this.sourceProj_.isGlobal()&&d&&(g=d>.25||g)}if(!g&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!(0,pt.HY)(u,this.maxSourceExtent_))return;let w=0;if(!(g||isFinite(s[0])&&isFinite(s[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])))if(c>0)g=!0;else if(w=(isFinite(s[0])&&isFinite(s[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1),1!=w&&2!=w&&4!=w&&8!=w)return;if(c>0){if(!g){const I=this.transformInv_([(t[0]+r[0])/2,(t[1]+r[1])/2]);let L;L=f?((0,Xn.xP)(s[0],h)+(0,Xn.xP)(a[0],h))/2-(0,Xn.xP)(I[0],h):(s[0]+a[0])/2-I[0];const ie=(s[1]+a[1])/2-I[1];g=L*L+ie*ie>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-r[0])<=Math.abs(t[1]-r[1])){const C=[(e[0]+r[0])/2,(e[1]+r[1])/2],I=this.transformInv_(C),L=[(i[0]+t[0])/2,(i[1]+t[1])/2],ie=this.transformInv_(L);this.addQuad_(t,e,C,L,s,o,I,ie,c-1),this.addQuad_(L,C,r,i,ie,I,a,l,c-1)}else{const C=[(t[0]+e[0])/2,(t[1]+e[1])/2],I=this.transformInv_(C),L=[(r[0]+i[0])/2,(r[1]+i[1])/2],ie=this.transformInv_(L);this.addQuad_(t,C,L,i,s,I,ie,l,c-1),this.addQuad_(C,e,r,L,I,o,a,ie,c-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&w||this.addTriangle_(t,r,i,s,a,l),14&w||this.addTriangle_(t,r,e,s,a,o),w&&(13&w||this.addTriangle_(e,i,t,o,l,s),7&w||this.addTriangle_(e,i,r,o,l,a))}calculateSourceExtent(){const t=(0,pt.S5)();return this.triangles_.forEach(function(e,r,i){const s=e.source;(0,pt.$C)(t,s[0]),(0,pt.$C)(t,s[1]),(0,pt.$C)(t,s[2])}),t}getTriangles(){return this.triangles_}};let YA;const sg=[];function WW(n,t,e,r,i){n.beginPath(),n.moveTo(0,0),n.lineTo(t,e),n.lineTo(r,i),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(t,r)+1,Math.max(e,i)),n.restore()}function KA(n,t){return Math.abs(n[4*t]-210)>2||Math.abs(n[4*t+3]-191.25)>2}function M5(n,t,e,r){const i=(0,an.pd)(e,t,n);let s=(0,an.hO)(t,r,e);const o=t.getMetersPerUnit();void 0!==o&&(s*=o);const a=n.getMetersPerUnit();void 0!==a&&(s/=a);const l=n.getExtent();if(!l||(0,pt.Ym)(l,i)){const c=(0,an.hO)(n,s,i)/s;isFinite(c)&&c>0&&(s/=c)}return s}function jW(n,t,e,r,i,s,o,a,l,c,u,d,h){const f=Ka(Math.round(e*n),Math.round(e*t),sg);if(d||(f.imageSmoothingEnabled=!1),0===l.length)return f.canvas;function g(L){return Math.round(L*e)/e}f.scale(e,e),f.globalCompositeOperation="lighter";const w=(0,pt.S5)();let C;if(l.forEach(function(L,ie,ne){(0,pt.X$)(w,L.extent)}),!h||1!==l.length||0!==c){const L=(0,pt.RG)(w),ie=(0,pt.Oq)(w);C=Ka(Math.round(e*L/r),Math.round(e*ie/r),sg),d||(C.imageSmoothingEnabled=!1);const ne=e/r;l.forEach(function(se,$,Y){const ve=se.extent[0]-w[0],Re=-(se.extent[3]-w[3]),Fe=(0,pt.RG)(se.extent),Ze=(0,pt.Oq)(se.extent);se.image.width>0&&se.image.height>0&&C.drawImage(se.image,c,c,se.image.width-2*c,se.image.height-2*c,ve*ne,Re*ne,Fe*ne,Ze*ne)})}const I=(0,pt.Py)(o);return a.getTriangles().forEach(function(L,ie,ne){const se=L.source,$=L.target;let Y=se[0][0],ve=se[0][1],Re=se[1][0],Fe=se[1][1],Ze=se[2][0],De=se[2][1];const st=g(($[0][0]-I[0])/s),ht=g(-($[0][1]-I[1])/s),ot=g(($[1][0]-I[0])/s),nt=g(-($[1][1]-I[1])/s),It=g(($[2][0]-I[0])/s),Dt=g(-($[2][1]-I[1])/s),bn=Y,Fn=ve;Y=0,ve=0,Re-=bn,Fe-=Fn,Ze-=bn,De-=Fn;const Ht=(0,Xn.KU)([[Re,Fe,0,0,ot-st],[Ze,De,0,0,It-st],[0,0,Re,Fe,nt-ht],[0,0,Ze,De,Dt-ht]]);if(!Ht)return;if(f.save(),f.beginPath(),function W3e(){if(void 0===YA){const n=Ka(6,6,sg);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",WW(n,4,5,4,0),WW(n,4,5,0,5);const t=n.getImageData(0,0,3,3).data;YA=KA(t,0)||KA(t,4)||KA(t,8),m5(n),sg.push(n.canvas)}return YA}()||!d){f.moveTo(ot,nt);const Zn=4,wr=st-ot,Wr=ht-nt;for(let yr=0;yr<Zn;yr++)f.lineTo(ot+g((yr+1)*wr/Zn),nt+g(yr*Wr/(Zn-1))),yr!=Zn-1&&f.lineTo(ot+g((yr+1)*wr/Zn),nt+g((yr+1)*Wr/(Zn-1)));f.lineTo(It,Dt)}else f.moveTo(ot,nt),f.lineTo(st,ht),f.lineTo(It,Dt);let Pn;if(f.clip(),f.transform(Ht[0],Ht[2],Ht[1],Ht[3],st,ht),f.translate(w[0]-bn,w[3]-Fn),C)Pn=C.canvas,f.scale(r/e,-r/e);else{const Zn=l[0],wr=Zn.extent;Pn=Zn.image,f.scale((0,pt.RG)(wr)/Pn.width,-(0,pt.Oq)(wr)/Pn.height)}f.drawImage(Pn,0,0),f.restore()}),C&&(m5(C),sg.push(C.canvas)),u&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,a.getTriangles().forEach(function(L,ie,ne){const se=L.target,$=(se[0][0]-I[0])/s,Y=-(se[0][1]-I[1])/s,ve=(se[1][0]-I[0])/s,Re=-(se[1][1]-I[1])/s,Fe=(se[2][0]-I[0])/s,Ze=-(se[2][1]-I[1])/s;f.beginPath(),f.moveTo(ve,Re),f.lineTo($,Y),f.lineTo(Fe,Ze),f.closePath(),f.stroke()}),f.restore()),f.canvas}const qA=class U3e extends A9{constructor(t,e,r,i,s,o,a,l,c,u,d,h){super(s,gn_IDLE,h),this.renderEdges_=void 0!==d&&d,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=i,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const f=i.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent();let w=this.sourceTileGrid_.getExtent();const C=g?(0,pt._N)(f,g):f;if(0===(0,pt.UG)(C))return void(this.state=gn_EMPTY);const I=t.getExtent();I&&(w=w?(0,pt._N)(w,I):I);const L=i.getResolution(this.wrappedTileCoord_[0]),ie=function j3e(n,t,e,r){const i=(0,pt.q1)(e);let s=M5(n,t,i,r);return(!isFinite(s)||s<=0)&&(0,pt.sB)(e,function(o){return s=M5(n,t,o,r),isFinite(s)&&s>0}),s}(t,r,C,L);if(!isFinite(ie)||ie<=0)return void(this.state=gn_EMPTY);if(this.triangulation_=new GW(t,r,C,w,ie*(void 0!==u?u:.5),L),0===this.triangulation_.getTriangles().length)return void(this.state=gn_EMPTY);this.sourceZ_=e.getZForResolution(ie);let se=this.triangulation_.calculateSourceExtent();if(w&&(t.canWrapX()?(se[1]=(0,Xn.qE)(se[1],w[1],w[3]),se[3]=(0,Xn.qE)(se[3],w[1],w[3])):se=(0,pt._N)(se,w)),(0,pt.UG)(se)){const $=e.getTileRangeForExtentAndZ(se,this.sourceZ_);for(let Y=$.minX;Y<=$.maxX;Y++)for(let ve=$.minY;ve<=$.maxY;ve++){const Re=c(this.sourceZ_,Y,ve,a);Re&&this.sourceTiles_.push(Re)}0===this.sourceTiles_.length&&(this.state=gn_EMPTY)}else this.state=gn_EMPTY}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(e=>{e&&e.getState()==gn_LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}),this.sourceTiles_.length=0,0===t.length)this.state=gn_ERROR;else{const e=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(e),i="number"==typeof r?r:r[0],s="number"==typeof r?r:r[1],o=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=jW(i,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=gn_LOADED}this.changed()}load(){if(this.state==gn_IDLE){this.state=gn_LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(e=>{const r=e.getState();if(r==gn_IDLE||r==gn_LOADING){t++;const i=Li(e,"change",function(s){const o=e.getState();(o==gn_LOADED||o==gn_ERROR||o==gn_EMPTY)&&(Rs(i),t--,0===t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(e,r,i){e.getState()==gn_IDLE&&e.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Rs),this.sourcesListenerKeys_=null}release(){this.canvas_&&(m5(this.canvas_.getContext("2d")),sg.push(this.canvas_),this.canvas_=null),super.release()}},$3e=class Z3e{constructor(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const r=this.entries_[t];return(0,ss.v)(void 0!==r,"Tried to get a value for a key that does not exist in the cache"),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(t){const e=this.entries_[t];return(0,ss.v)(void 0!==e,"Tried to get a value for a key that does not exist in the cache"),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let r,e=0;for(r=this.newest_;r;r=r.older)t[e++]=r.key_;return t}getValues(){const t=new Array(this.count_);let r,e=0;for(r=this.newest_;r;r=r.older)t[e++]=r.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){(0,ss.v)(!(t in this.entries_),"Tried to set a value for a key that is used already");const r={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[t]=r,++this.count_}setSize(t){this.highWaterMark=t}};var Zc=B(6690);const JA=class X3e extends $3e{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const t=this.peekFirstKey(),r=(0,Zc.K)(t)[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove((0,Zc.i7)(i.tileCoord)),i.release())})}};function UW(n){let t=n.getDefaultTileGrid();return t||(t=function q3e(n,t,e,r){return function K3e(n,t,e,r){r=void 0!==r?r:"top-left";const i=function ZW(n,t,e,r){t=void 0!==t?t:M9.L,e=(0,Nl.xq)(void 0!==e?e:M9.R);const i=(0,pt.Oq)(n),s=(0,pt.RG)(n);r=r>0?r:Math.max(s/e[0],i/e[1]);const o=t+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=r/Math.pow(2,l);return a}(n,t,e);return new L9.A({extent:n,origin:(0,pt.qF)(n,r),resolutions:i,tileSize:e})}(H9(n),t,e,r)}(n),n.setDefaultTileGrid(t)),t}function H9(n){let t=(n=(0,an.Jt)(n)).getExtent();if(!t){const e=180*an.Ig.degrees/n.getMetersPerUnit();t=(0,pt.N)(-e,-e,e,e)}return t}class Q3e extends Vc{constructor(t,e){super(t),this.tile=e}}const ewe=class J3e extends R9{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.tileGrid&&(0,Nl.xq)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new JA(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,e){const r=this.getTileCacheForProjection(t);r&&r.expireCache(e)}forEachLoadedTile(t,e,r,i){const s=this.getTileCacheForProjection(t);if(!s)return!1;let a,l,c,o=!0;for(let u=r.minX;u<=r.maxX;++u)for(let d=r.minY;d<=r.maxY;++d)l=(0,Zc.dp)(e,u,d),c=!1,s.containsKey(l)&&(a=s.get(l),c=a.getState()===gn_LOADED,c&&(c=!1!==i(a))),c||(o=!1);return o}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,r,i,s){return gr()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:UW(t)}getTileCacheForProjection(t){const e=this.getProjection();return(0,ss.v)(null===e||(0,an.tI)(e,t),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,r){const i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(e),o=(0,Nl.xq)(i.getTileSize(t),this.tmpSize);return 1==s?o:(0,Nl.hs)(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){e=void 0!==e?e:this.getProjection();const r=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=function Y3e(n,t,e){const r=t[0],i=n.getTileCoordCenter(t),s=H9(e);if(!(0,pt.Ym)(s,i)){const o=(0,pt.RG)(s),a=Math.ceil((s[0]-i[0])/o);return i[0]+=o*a,n.getTileCoordForCoordAndZ(i,r)}return t}(r,t,e)),(0,Zc.N5)(t,r)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,e){const r=this.getTileCacheForProjection(e);t>r.highWaterMark&&(r.highWaterMark=t)}useTile(t,e,r,i){}};function twe(n,t){const e=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,s=/\{-y\}/g;return function(o,a,l){if(o)return n.replace(e,o[0].toString()).replace(r,o[1].toString()).replace(i,o[2].toString()).replace(s,function(){const u=t.getFullTileRange(o[0]);if(!u)throw new Error("The {-y} placeholder requires a tile grid with extent");return(u.getHeight()-o[2]-1).toString()})}}class tM extends ewe{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===tM.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,r=Rr(e),i=e.getState();let s;i==gn_LOADING?(this.tileLoadingKeys_[r]=!0,s="tileloadstart"):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==gn_ERROR?"tileloaderror":i==gn_LOADED?"tileloadend":void 0),null!=s&&this.dispatchEvent(new Q3e(s,e))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof e<"u"?this.setKey(e):this.changed()}setUrl(t){const e=function rwe(n){const t=[];let e=/\{([a-z])-([a-z])\}/.exec(n);if(e){const r=e[1].charCodeAt(0),i=e[2].charCodeAt(0);let s;for(s=r;s<=i;++s)t.push(n.replace(e[0],String.fromCharCode(s)));return t}if(e=/\{(\d+)-(\d+)\}/.exec(n),e){const r=parseInt(e[2],10);for(let i=parseInt(e[1],10);i<=r;i++)t.push(n.replace(e[0],i.toString()));return t}return t.push(n),t}(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function $W(n,t){const e=n.length,r=new Array(e);for(let i=0;i<e;++i)r[i]=twe(n[i],t);return function nwe(n){return 1===n.length?n[0]:function(t,e,r){if(!t)return;const i=(0,Zc.tW)(t),s=(0,Xn.xP)(i,n.length);return n[s](t,e,r)}}(r)}(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,r){}useTile(t,e,r){const i=(0,Zc.dp)(t,e,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}const XW=tM;function swe(n,t){n.getImage().src=t}const YW=class iwe extends XW{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:swe,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:BW,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,e){const r=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==r?e:{});for(const i in this.tileCacheForProjection){const s=this.tileCacheForProjection[i];s.expireCache(s==r?e:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!(0,an.tI)(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return!(this.getProjection()&&t&&!(0,an.tI)(this.getProjection(),t))&&super.getOpaque(t)}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||(0,an.tI)(e,t)))return this.tileGrid;const r=Rr(t);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=UW(t)),this.tileGridForProjection[r]}getTileCacheForProjection(t){const e=this.getProjection();if(!e||(0,an.tI)(e,t))return this.tileCache;const r=Rr(t);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new JA(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(t,e,r,i,s,o){const a=[t,e,r],l=this.getTileCoordForTileUrlFunction(a,s),c=l?this.tileUrlFunction(l,i,s):void 0,u=new this.tileClass(a,void 0!==c?gn_IDLE:gn_EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener("change",this.handleTileChange.bind(this)),u}getTile(t,e,r,i,s){const o=this.getProjection();if(!o||!s||(0,an.tI)(o,s))return this.getTileInternal(t,e,r,i,o||s);const a=this.getTileCacheForProjection(s),l=[t,e,r];let c;const u=(0,Zc.i7)(l);a.containsKey(u)&&(c=a.get(u));const d=this.getKey();if(c&&c.key==d)return c;const h=this.getTileGridForProjection(o),f=this.getTileGridForProjection(s),g=this.getTileCoordForTileUrlFunction(l,s),w=new qA(o,h,s,f,l,g,this.getTilePixelRatio(i),this.getGutter(),(C,I,L,ie)=>this.getTileInternal(C,I,L,ie,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return w.key=d,c?(w.interimTile=c,w.refreshInterimChain(),a.replace(u,w)):a.set(u,w),w}getTileInternal(t,e,r,i,s){let o=null;const a=(0,Zc.dp)(t,e,r),l=this.getKey();if(this.tileCache.containsKey(a)){if(o=this.tileCache.get(a),o.key!=l){const c=o;o=this.createTile_(t,e,r,i,s,l),o.interimTile=c.getState()==gn_IDLE?c.interimTile:c,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,r,i,s,l),this.tileCache.set(a,o);return o}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}}setTileGridForProjection(t,e){const r=(0,an.Jt)(t);if(r){const i=Rr(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}};Error,Error,B(2593);let og=0;const ag=0,So=1<<og++,qn=1<<og++,Au=1<<og++,Qa=1<<og++,Nh=1<<og++,Ul=Math.pow(2,5)-1,JW={[So]:"boolean",[qn]:"number",[Au]:"string",[Qa]:"color",[Nh]:"number[]"},dwe=Object.keys(JW).map(Number).sort(Ri.V_);function el(n){const t=[];for(const e of dwe)hwe(n,e)&&t.push(JW[e]);return 0===t.length?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function hwe(n,t){return(n&t)===t}function y1(n,t){return!!(n&t)}function D9(n,t){return n===t}class Oh{constructor(t,e){this.type=t,this.value=e}}class fwe{constructor(t,e,...r){this.type=t,this.operator=e,this.args=r}}function es(n,t,e){switch(typeof n){case"boolean":return new Oh(So,n);case"number":return new Oh(qn,n);case"string":{let i=Au;return function ive(n){try{return tA(n),!0}catch{return!1}}(n)&&(i|=Qa),D9(i&e,ag)||(i&=e),new Oh(i,n)}}if(!Array.isArray(n))throw new Error("Expression must be an array or a primitive value");if(0===n.length)throw new Error("Empty expression");if("string"==typeof n[0])return function Awe(n,t,e){const r=n[0],i=gwe[r];if(!i)throw new Error(`Unknown operator: ${r}`);return i(n,t,e)}(n,t,e);for(const i of n)if("number"!=typeof i)throw new Error("Expected an array of numbers");let r=Nh;return(3===n.length||4===n.length)&&(r|=Qa),e&&(r&=e),new Oh(r,n)}const jt_Get="get",jt_Var="var",jt_Concat="concat",jt_GeometryType="geometry-type",jt_Any="any",jt_All="all",jt_Not="!",jt_Resolution="resolution",jt_Zoom="zoom",jt_Time="time",jt_Equal="==",jt_NotEqual="!=",jt_GreaterThan=">",jt_GreaterThanOrEqualTo=">=",jt_LessThan="<",jt_LessThanOrEqualTo="<=",jt_Multiply="*",jt_Divide="/",jt_Add="+",jt_Subtract="-",jt_Clamp="clamp",jt_Mod="%",jt_Pow="^",jt_Abs="abs",jt_Floor="floor",jt_Ceil="ceil",jt_Round="round",jt_Sin="sin",jt_Cos="cos",jt_Atan="atan",jt_Sqrt="sqrt",jt_Match="match",jt_Between="between",jt_Interpolate="interpolate",jt_Case="case",jt_In="in",jt_Number="number",jt_String="string",jt_Array="array",jt_Color="color",jt_Id="id",jt_Band="band",jt_Palette="palette",gwe={[jt_Get]:Vr(([n,t])=>void 0!==t?function pwe(n){switch(n){case"string":return Au;case"color":return Qa;case"number":return qn;case"boolean":return So;case"number[]":return Nh;default:throw new Error(`Unrecognized type hint: ${n}`)}}(t.value):Ul,oi(1,2),function mwe(n,t){const e=es(n[1],t);if(!(e instanceof Oh))throw new Error("Expected a literal argument for get operation");if("string"!=typeof e.value)throw new Error("Expected a string argument for get operation");return t.properties.add(e.value),3===n.length?[e,es(n[2],t)]:[e]}),[jt_Var]:Vr(([n])=>n.type,oi(1,1),function vwe(n,t,e,r){const i=n[1];if("string"!=typeof i)throw new Error("Expected a string argument for var operation");if(t.variables.add(i),!("variables"in t.style)||void 0===t.style.variables[i])return[new Oh(Ul,i)];const o=es(t.style.variables[i],t);if(o.value=i,r&&!y1(r,o.type))throw new Error(`The variable ${i} has type ${el(o.type)} but the following type was expected: ${el(r)}`);return[o]}),[jt_Id]:Vr(qn|Au,E5,function wwe(n,t){t.featureId=!0}),[jt_Concat]:Vr(Au,oi(2,1/0),Xi(Ul)),[jt_GeometryType]:Vr(Au,E5),[jt_Resolution]:Vr(qn,E5),[jt_Zoom]:Vr(qn,E5),[jt_Time]:Vr(qn,E5),[jt_Any]:Vr(So,oi(2,1/0),Xi(So)),[jt_All]:Vr(So,oi(2,1/0),Xi(So)),[jt_Not]:Vr(So,oi(1,1),Xi(So)),[jt_Equal]:Vr(So,oi(2,2),Xi(Ul),R0),[jt_NotEqual]:Vr(So,oi(2,2),Xi(Ul),R0),[jt_GreaterThan]:Vr(So,oi(2,2),Xi(Ul),R0),[jt_GreaterThanOrEqualTo]:Vr(So,oi(2,2),Xi(Ul),R0),[jt_LessThan]:Vr(So,oi(2,2),Xi(Ul),R0),[jt_LessThanOrEqualTo]:Vr(So,oi(2,2),Xi(Ul),R0),[jt_Multiply]:Vr(n=>{let t=qn|Qa;for(let e=0;e<n.length;e++)t&=n[e].type;return t},oi(2,1/0),Xi(qn|Qa),R0),[jt_Divide]:Vr(qn,oi(2,2),Xi(qn)),[jt_Add]:Vr(qn,oi(2,1/0),Xi(qn)),[jt_Subtract]:Vr(qn,oi(2,2),Xi(qn)),[jt_Clamp]:Vr(qn,oi(3,3),Xi(qn)),[jt_Mod]:Vr(qn,oi(2,2),Xi(qn)),[jt_Pow]:Vr(qn,oi(2,2),Xi(qn)),[jt_Abs]:Vr(qn,oi(1,1),Xi(qn)),[jt_Floor]:Vr(qn,oi(1,1),Xi(qn)),[jt_Ceil]:Vr(qn,oi(1,1),Xi(qn)),[jt_Round]:Vr(qn,oi(1,1),Xi(qn)),[jt_Sin]:Vr(qn,oi(1,1),Xi(qn)),[jt_Cos]:Vr(qn,oi(1,1),Xi(qn)),[jt_Atan]:Vr(qn,oi(1,2),Xi(qn)),[jt_Sqrt]:Vr(qn,oi(1,1),Xi(qn)),[jt_Match]:Vr(n=>{let t=Ul;for(let e=2;e<n.length;e+=2)t&=n[e].type;return t&=n[n.length-1].type,t},oi(4,1/0),ej,function Cwe(n,t,e,r){const i=n.length-1;let o=es(n[1],t).type;const a=es(n[n.length-1],t);let l=void 0!==r?r&a.type:a.type;const c=new Array(i-2);for(let d=0;d<i-2;d+=2){const h=es(n[d+2],t),f=es(n[d+3],t);o&=h.type,l&=f.type,c[d]=h,c[d+1]=f}const u=Au|qn|So;if(!y1(u,o))throw new Error(`Expected an input of type ${el(u)} for the interpolate operation, got ${el(o)} instead`);if(D9(l,ag))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(n));for(let d=0;d<i-2;d+=2){const h=es(n[d+2],t,o),f=es(n[d+3],t,l);c[d]=h,c[d+1]=f}return[es(n[1],t,o),...c,es(n[n.length-1],t,l)]}),[jt_Between]:Vr(So,oi(3,3),Xi(qn)),[jt_Interpolate]:Vr(n=>{let t=Qa|qn;for(let e=3;e<n.length;e+=2)t&=n[e].type;return t},oi(6,1/0),ej,function bwe(n,t,e,r){const i=n[1];let s;switch(i[0]){case"linear":s=1;break;case"exponential":if(s=i[1],"number"!=typeof s)throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(s)} instead`);break;default:s=null}if(!s)throw new Error(`Invalid interpolation type: ${JSON.stringify(i)}`);s=es(s,t);let o=es(n[2],t);if(!y1(qn,o.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${el(o.type)} instead`);o=es(n[2],t,qn);const a=new Array(n.length-3);for(let l=0;l<a.length;l+=2){let c=es(n[l+3],t);if(!y1(qn,c.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${el(c.type)} at position ${l+2} instead`);let u=es(n[l+4],t);if(!y1(qn|Qa,u.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${el(u.type)} at position ${l+3} instead`);c=es(n[l+3],t,qn),u=es(n[l+4],t,qn|Qa),a[l]=c,a[l+1]=u}return[s,o,...a]}),[jt_Case]:Vr(n=>{let t=Ul;for(let e=1;e<n.length;e+=2)t&=n[e].type;return t&=n[n.length-1].type,t},oi(3,1/0),function ywe(n,t){const r=n.length-1;if(r%2==0)throw new Error(`An odd amount of arguments was expected for operation ${n[0]}, got ${JSON.stringify(r)} instead`)},function xwe(n,t,e,r){const i=es(n[n.length-1],t);let s=void 0!==r?r&i.type:i.type;const o=new Array(n.length-1);for(let a=0;a<o.length-1;a+=2){const l=es(n[a+1],t),c=es(n[a+2],t);if(!y1(So,l.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${el(l.type)} at position ${a} instead`);s&=c.type,o[a]=l,o[a+1]=c}if(D9(s,ag))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(n));for(let a=0;a<o.length-1;a+=2)o[a+1]=es(n[a+2],t,s);return o[o.length-1]=es(n[n.length-1],t,s),o}),[jt_In]:Vr(So,oi(2,2),function _we(n,t){let e=n[2];if(!Array.isArray(e))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if("string"==typeof e[0]){if("literal"!==e[0])throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(e[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');e=e[1]}let r=Au|qn;const i=new Array(e.length);for(let o=0;o<i.length;o++){const a=es(e[o],t);r&=a.type,i[o]=a}if(D9(r,ag))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(n));return[es(n[1],t,r),...i]}),[jt_Number]:Vr(qn,oi(1,1/0),Xi(Ul)),[jt_String]:Vr(Au,oi(1,1/0),Xi(Ul)),[jt_Array]:Vr(n=>3===n.length||4===n.length?Nh|Qa:Nh,oi(1,1/0),Xi(qn)),[jt_Color]:Vr(Qa,oi(3,4),Xi(qn)),[jt_Band]:Vr(qn,oi(1,3),Xi(qn)),[jt_Palette]:Vr(Qa,oi(2,2),function Iwe(n,t){const e=es(n[1],t,qn);if(e.type!==qn)throw new Error(`The first argument of palette must be an number, got ${el(e.type)} instead`);const r=n[2];if(!Array.isArray(r))throw new Error("The second argument of palette must be an array");const i=new Array(r.length);for(let s=0;s<i.length;s++){const o=es(r[s],t,Qa);if(!(o instanceof Oh))throw new Error(`The palette color at index ${s} must be a literal value`);if(!y1(o.type,Qa))throw new Error(`The palette color at index ${s} should be of type color, got ${el(o.type)} instead`);i[s]=o}return[e,...i]})};function E5(n,t){if(1!==n.length)throw new Error(`Expected no arguments for ${n[0]} operation`);return[]}function oi(n,t){return function(e,r){const i=e[0],s=e.length-1;if(n===t){if(s!==n)throw new Error(`Expected ${n} argument${1===n?"":"s"} for ${i}, got ${s}`)}else if(s<n||s>t)throw new Error(`Expected ${t===1/0?`${n} or more`:`${n} to ${t}`} arguments for ${i}, got ${s}`)}}function Xi(n){return function(t,e){const r=t[0],i=t.length-1,s=new Array(i);for(let o=0;o<i;++o){const a=es(t[o+1],e);if(!y1(n,a.type)){const l=el(n),c=el(a.type);throw new Error(`Unexpected type for argument ${o} of ${r} operation, got ${l} but expected ${c}`)}a.type&=n,s[o]=a}return s}}function R0(n,t,e){const r=n[0],i=n.length-1;let s=Ul;for(let a=0;a<e.length;++a)s&=e[a].type;if(s===ag)throw new Error(`No common type could be found for arguments of ${r} operation`);const o=new Array(i);for(let a=0;a<i;++a)o[a]=es(n[a+1],t,s);return o}function ej(n,t){const r=n.length-1;if(r%2==1)throw new Error(`An even amount of arguments was expected for operation ${n[0]}, got ${JSON.stringify(r)} instead`)}function Vr(n,...t){return function(e,r,i){const s=e[0];let o=[];for(let l=0;l<t.length;l++)o=t[l](e,r,o,i)||o;let a="function"==typeof n?n(o):n;if(void 0!==i){if(!y1(a,i))throw new Error(`The following expression was expected to return ${el(i)}, but returns ${el(a)} instead: ${JSON.stringify(e)}`);a&=i}if(a===ag)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(e)}`);return new fwe(a,s,...o)}}function Rj(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}B(1524),(0,pt.S5)(),new RegExp("[\u0591-\u08ff\ufb1d-\ufdff\ufe70-\ufefc\u0800-\u0fff\ue800-\uefff]"),B(6990),B(6508);var Lj,Hj={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function V5(n){return(n=Math.round(n))<0?0:n>255?255:n}function cM(n){return V5("%"===n[n.length-1]?parseFloat(n)/100*255:parseInt(n))}function j9(n){return function Dj(n){return n<0?0:n>1?1:n}("%"===n[n.length-1]?parseFloat(n)/100:parseFloat(n))}function uM(n,t,e){return e<0?e+=1:e>1&&(e-=1),6*e<1?n+(t-n)*e*6:2*e<1?t:3*e<2?n+(t-n)*(2/3-e)*6:n}try{Lj={}.parseCSSColor=function Jye(n){var e,t=n.replace(/ /g,"").toLowerCase();if(t in Hj)return Hj[t].slice();if("#"===t[0])return 4===t.length?(e=parseInt(t.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===t.length&&(e=parseInt(t.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var r=t.indexOf("("),i=t.indexOf(")");if(-1!==r&&i+1===t.length){var s=t.substr(0,r),o=t.substr(r+1,i-(r+1)).split(","),a=1;switch(s){case"rgba":if(4!==o.length)return null;a=j9(o.pop());case"rgb":return 3!==o.length?null:[cM(o[0]),cM(o[1]),cM(o[2]),a];case"hsla":if(4!==o.length)return null;a=j9(o.pop());case"hsl":if(3!==o.length)return null;var l=(parseFloat(o[0])%360+360)%360/360,c=j9(o[1]),u=j9(o[2]),d=u<=.5?u*(c+1):u+c-u*c,h=2*u-d;return[V5(255*uM(h,d,l+1/3)),V5(255*uM(h,d,l)),V5(255*uM(h,d,l-1/3)),a];default:return null}}return null}}catch{}class $l{constructor(t,e,r,i=1){this.r=t,this.g=e,this.b=r,this.a=i}static parse(t){if(!t)return;if(t instanceof $l)return t;if("string"!=typeof t)return;const e=Lj(t);return e?new $l(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]):void 0}toString(){const[t,e,r,i]=this.toArray();return`rgba(${Math.round(t)},${Math.round(e)},${Math.round(r)},${i})`}toArray(){const{r:t,g:e,b:r,a:i}=this;return 0===i?[0,0,0,0]:[255*t/i,255*e/i,255*r/i,i]}toArray01(){const{r:t,g:e,b:r,a:i}=this;return 0===i?[0,0,0,0]:[t/i,e/i,r/i,i]}toArray01PremultipliedAlpha(){const{r:t,g:e,b:r,a:i}=this;return[t,e,r,i]}}$l.black=new $l(0,0,0,1),$l.white=new $l(1,1,1,1),$l.transparent=new $l(0,0,0,0),$l.red=new $l(1,0,0,1),$l.blue=new $l(0,0,1,1);var fc=$l;class s9e extends Error{constructor(t,e){super(e),this.message=e,this.key=t}}var C1=s9e;class gM{constructor(t,e=[]){this.parent=t,this.bindings={};for(const[r,i]of e)this.bindings[r]=i}concat(t){return new gM(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}var o9e=gM;const U9={kind:"null"},un={kind:"number"},$r={kind:"string"},Or={kind:"boolean"},_d={kind:"color"},hg={kind:"object"},Gr={kind:"value"},Z9={kind:"collator"},$9={kind:"formatted"},F5={kind:"resolvedImage"};function $c(n,t){return{kind:"array",itemType:n,N:t}}function qs(n){if("array"===n.kind){const t=qs(n.itemType);return"number"==typeof n.N?`array<${t}, ${n.N}>`:"value"===n.itemType.kind?"array":`array<${t}>`}return n.kind}const l9e=[U9,un,$r,Or,_d,$9,hg,$c(Gr),F5];function P5(n,t){if("error"===t.kind)return null;if("array"===n.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!P5(n.itemType,t.itemType))&&("number"!=typeof n.N||n.N===t.N))return null}else{if(n.kind===t.kind)return null;if("value"===n.kind)for(const e of l9e)if(!P5(e,t))return null}return`Expected ${qs(n)} but found ${qs(t)} instead.`}function mM(n,t){return t.some(e=>e.kind===n.kind)}function B5(n,t){return t.some(e=>"null"===e?null===n:"array"===e?Array.isArray(n):"object"===e?n&&!Array.isArray(n)&&"object"==typeof n:e===typeof n)}class vM{constructor(t,e,r){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,e){return this.collator.compare(t,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class wM{constructor(t,e,r,i,s){this.text=t.normalize?t.normalize():t,this.image=e,this.scale=r,this.fontStack=i,this.textColor=s}}class b1{constructor(t){this.sections=t}static fromString(t){return new b1([new wM(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(t=>0!==t.text.length||t.image&&0!==t.image.name.length)}static factory(t){return t instanceof b1?t:b1.fromString(t)}toString(){return 0===this.sections.length?"":this.sections.map(t=>t.text).join("")}serialize(){const t=["format"];for(const e of this.sections){if(e.image){t.push(["image",e.image.name]);continue}t.push(e.text);const r={};e.fontStack&&(r["text-font"]=["literal",e.fontStack.split(",")]),e.scale&&(r["font-scale"]=e.scale),e.textColor&&(r["text-color"]=["rgba"].concat(e.textColor.toArray())),t.push(r)}return t}}class Xh{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new Xh({name:t,available:!1}):null}serialize(){return["image",this.name]}}function kj(n,t,e,r){return"number"==typeof n&&n>=0&&n<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255?typeof r>"u"||"number"==typeof r&&r>=0&&r<=1?null:`Invalid rgba value [${[n,t,e,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof r?[n,t,e,r]:[n,t,e]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function X9(n){if(null===n)return!0;if("string"==typeof n)return!0;if("boolean"==typeof n)return!0;if("number"==typeof n)return!0;if(n instanceof fc)return!0;if(n instanceof vM)return!0;if(n instanceof b1)return!0;if(n instanceof Xh)return!0;if(Array.isArray(n)){for(const t of n)if(!X9(t))return!1;return!0}if("object"==typeof n){for(const t in n)if(!X9(n[t]))return!1;return!0}return!1}function ca(n){if(null===n)return U9;if("string"==typeof n)return $r;if("boolean"==typeof n)return Or;if("number"==typeof n)return un;if(n instanceof fc)return _d;if(n instanceof vM)return Z9;if(n instanceof b1)return $9;if(n instanceof Xh)return F5;if(Array.isArray(n)){const t=n.length;let e;for(const r of n){const i=ca(r);if(e){if(e===i)continue;e=Gr;break}e=i}return $c(e||Gr,t)}return hg}function N5(n){const t=typeof n;return null===n?"":"string"===t||"number"===t||"boolean"===t?String(n):n instanceof fc||n instanceof b1||n instanceof Xh?n.toString():JSON.stringify(n)}class yM{constructor(t,e){this.type=t,this.value=e}static parse(t,e){if(2!==t.length)return e.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!X9(t[1]))return e.error("invalid value");const r=t[1];let i=ca(r);const s=e.expectedType;return"array"===i.kind&&0===i.N&&s&&"array"===s.kind&&("number"!=typeof s.N||0===s.N)&&(i=s),new yM(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof fc?["rgba"].concat(this.value.toArray()):this.value instanceof b1?this.value.serialize():this.value}}var Y9=yM,ka=class c9e{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}};const CM={string:$r,number:un,boolean:Or,object:hg};class bM{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");let i,r=1;const s=t[0];if("array"===s){let a,l;if(t.length>2){const c=t[1];if("string"!=typeof c||!(c in CM)||"object"===c)return e.error('The item type argument of "array" must be one of string, number, boolean',1);a=CM[c],r++}else a=Gr;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);l=t[2],r++}i=$c(a,l)}else i=CM[s];const o=[];for(;r<t.length;r++){const a=e.parse(t[r],r,Gr);if(!a)return null;o.push(a)}return new bM(i,o)}evaluate(t){for(let e=0;e<this.args.length;e++){const r=this.args[e].evaluate(t);if(!P5(this.type,ca(r)))return r;if(e===this.args.length-1)throw new ka(`Expected value to be of type ${qs(this.type)}, but found ${qs(ca(r))} instead.`)}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=this.type,e=[t.kind];if("array"===t.kind){const r=t.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){e.push(r.kind);const i=t.N;("number"==typeof i||this.args.length>1)&&e.push(i)}}return e.concat(this.args.map(r=>r.serialize()))}}var Id=bM;class K9{constructor(t){this.type=$9,this.sections=t}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const r=t[1];if(!Array.isArray(r)&&"object"==typeof r)return e.error("First argument must be an image or text section.");const i=[];let s=!1;for(let o=1;o<=t.length-1;++o){const a=t[o];if(s&&"object"==typeof a&&!Array.isArray(a)){s=!1;let l=null;if(a["font-scale"]&&(l=e.parse(a["font-scale"],1,un),!l))return null;let c=null;if(a["text-font"]&&(c=e.parse(a["text-font"],1,$c($r)),!c))return null;let u=null;if(a["text-color"]&&(u=e.parse(a["text-color"],1,_d),!u))return null;const d=i[i.length-1];d.scale=l,d.font=c,d.textColor=u}else{const l=e.parse(t[o],1,Gr);if(!l)return null;const c=l.type.kind;if("string"!==c&&"value"!==c&&"null"!==c&&"resolvedImage"!==c)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");s=!0,i.push({content:l,scale:null,font:null,textColor:null})}}return new K9(i)}evaluate(t){return new b1(this.sections.map(r=>{const i=r.content.evaluate(t);return ca(i)===F5?new wM("",i,null,null,null):new wM(N5(i),null,r.scale?r.scale.evaluate(t):null,r.font?r.font.evaluate(t).join(","):null,r.textColor?r.textColor.evaluate(t):null)}))}eachChild(t){for(const e of this.sections)t(e.content),e.scale&&t(e.scale),e.font&&t(e.font),e.textColor&&t(e.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const e of this.sections){t.push(e.content.serialize());const r={};e.scale&&(r["font-scale"]=e.scale.serialize()),e.font&&(r["text-font"]=e.font.serialize()),e.textColor&&(r["text-color"]=e.textColor.serialize()),t.push(r)}return t}}class q9{constructor(t){this.type=F5,this.input=t}static parse(t,e){if(2!==t.length)return e.error("Expected two arguments.");const r=e.parse(t[1],1,$r);return r?new q9(r):e.error("No image name provided.")}evaluate(t){const e=this.input.evaluate(t),r=Xh.fromString(e);return r&&t.availableImages&&(r.available=t.availableImages.indexOf(e)>-1),r}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const u9e={"to-boolean":Or,"to-color":_d,"to-number":un,"to-string":$r};class xM{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const r=t[0];if(("to-boolean"===r||"to-string"===r)&&2!==t.length)return e.error("Expected one argument.");const i=u9e[r],s=[];for(let o=1;o<t.length;o++){const a=e.parse(t[o],o,Gr);if(!a)return null;s.push(a)}return new xM(i,s)}evaluate(t){if("boolean"===this.type.kind)return!!this.args[0].evaluate(t);if("color"===this.type.kind){let e,r;for(const i of this.args){if(e=i.evaluate(t),r=null,e instanceof fc)return e;if("string"==typeof e){const s=t.parseColor(e);if(s)return s}else if(Array.isArray(e)&&(r=e.length<3||e.length>4?`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:kj(e[0],e[1],e[2],e[3]),!r))return new fc(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new ka(r||`Could not parse color from value '${"string"==typeof e?e:String(JSON.stringify(e))}'`)}if("number"===this.type.kind){let e=null;for(const r of this.args){if(e=r.evaluate(t),null===e)return 0;const i=Number(e);if(!isNaN(i))return i}throw new ka(`Could not convert ${JSON.stringify(e)} to number.`)}return"formatted"===this.type.kind?b1.fromString(N5(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?Xh.fromString(N5(this.args[0].evaluate(t))):N5(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){if("formatted"===this.type.kind)return new K9([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new q9(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild(e=>{t.push(e.serialize())}),t}}var fg=xM;const d9e=["Unknown","Point","LineString","Polygon"];var Fj=class h9e{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?d9e[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const t=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:r,y:i}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(r*e-t[0])+this.featureDistanceData.bearing[1]*(i*e-t[1])}return 0}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=fc.parse(t)),e}};class pg{constructor(t,e,r,i){this.name=t,this.type=e,this._evaluate=r,this.args=i}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(t=>t.serialize()))}static parse(t,e){const r=t[0],i=pg.definitions[r];if(!i)return e.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const s=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=o.filter(([c])=>!Array.isArray(c)||c.length===t.length-1);let l=null;for(const[c,u]of a){l=new Uj(e.registry,e.path,null,e.scope);const d=[];let h=!1;for(let f=1;f<t.length;f++){const g=t[f],w=Array.isArray(c)?c[f-1]:c.type,C=l.parse(g,1+d.length,w);if(!C){h=!0;break}d.push(C)}if(!h){if(Array.isArray(c)&&c.length!==d.length){l.error(`Expected ${c.length} arguments, but found ${d.length} instead.`);continue}for(let f=0;f<d.length;f++){const g=Array.isArray(c)?c[f]:c.type,w=d[f];l.concat(f+1).checkSubtype(g,w.type)}if(0===l.errors.length)return new pg(r,s,u,d)}}if(1===a.length)e.errors.push(...l.errors);else{const u=(a.length?a:o).map(([h])=>function f9e(n){return Array.isArray(n)?`(${n.map(qs).join(", ")})`:`(${qs(n.type)}...)`}(h)).join(" | "),d=[];for(let h=1;h<t.length;h++){const f=e.parse(t[h],1+d.length);if(!f)return null;d.push(qs(f.type))}e.error(`Expected arguments of type ${u}, but found (${d.join(", ")}) instead.`)}return null}static register(t,e){pg.definitions=e;for(const r in e)t[r]=pg}}var gg=pg;class J9{constructor(t,e,r){this.type=Z9,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=e}static parse(t,e){if(2!==t.length)return e.error("Expected one argument.");const r=t[1];if("object"!=typeof r||Array.isArray(r))return e.error("Collator options argument must be an object.");const i=e.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,Or);if(!i)return null;const s=e.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,Or);if(!s)return null;let o=null;return r.locale&&(o=e.parse(r.locale,1,$r),!o)?null:new J9(i,s,o)}evaluate(t){return new vM(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}const Yh=8192;function _M(n,t){n[0]=Math.min(n[0],t[0]),n[1]=Math.min(n[1],t[1]),n[2]=Math.max(n[2],t[0]),n[3]=Math.max(n[3],t[1])}function Q9(n,t){return!(n[0]<=t[0]||n[2]>=t[2]||n[1]<=t[1]||n[3]>=t[3])}function m9e(n,t){const e=function p9e(n){return(180+n)/360}(n[0]),r=function g9e(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}(n[1]),i=Math.pow(2,t.z);return[Math.round(e*i*Yh),Math.round(r*i*Yh)]}function v9e(n,t,e){const r=n[0]-t[0],i=n[1]-t[1],s=n[0]-e[0],o=n[1]-e[1];return r*o-s*i==0&&r*s<=0&&i*o<=0}function w9e(n,t,e){return t[1]>n[1]!=e[1]>n[1]&&n[0]<(e[0]-t[0])*(n[1]-t[1])/(e[1]-t[1])+t[0]}function IM(n,t){let e=!1;for(let r=0,i=t.length;r<i;r++){const s=t[r];for(let o=0,a=s.length;o<a-1;o++){if(v9e(n,s[o],s[o+1]))return!1;w9e(n,s[o],s[o+1])&&(e=!e)}}return e}function y9e(n,t){for(let e=0;e<t.length;e++)if(IM(n,t[e]))return!0;return!1}function Pj(n,t,e,r){const l=r[0]-e[0],c=r[1]-e[1],u=(n[0]-e[0])*c-l*(n[1]-e[1]),d=(t[0]-e[0])*c-l*(t[1]-e[1]);return u>0&&d<0||u<0&&d>0}function b9e(n,t,e,r){return 0!==function C9e(n,t){return n[0]*t[1]-n[1]*t[0]}([r[0]-e[0],r[1]-e[1]],[t[0]-n[0],t[1]-n[1]])&&!(!Pj(n,t,e,r)||!Pj(e,r,n,t))}function x9e(n,t,e){for(const r of e)for(let i=0;i<r.length-1;++i)if(b9e(n,t,r[i],r[i+1]))return!0;return!1}function Bj(n,t){for(let e=0;e<n.length;++e)if(!IM(n[e],t))return!1;for(let e=0;e<n.length-1;++e)if(x9e(n[e],n[e+1],t))return!1;return!0}function _9e(n,t){for(let e=0;e<t.length;e++)if(Bj(n,t[e]))return!0;return!1}function AM(n,t,e){const r=[];for(let i=0;i<n.length;i++){const s=[];for(let o=0;o<n[i].length;o++){const a=m9e(n[i][o],e);_M(t,a),s.push(a)}r.push(s)}return r}function Nj(n,t,e){const r=[];for(let i=0;i<n.length;i++){const s=AM(n[i],t,e);r.push(s)}return r}function Oj(n,t,e,r){if(n[0]<e[0]||n[0]>e[2]){const i=.5*r;let s=n[0]-e[0]>i?-r:e[0]-n[0]>i?r:0;0===s&&(s=n[0]-e[2]>i?-r:e[2]-n[0]>i?r:0),n[0]+=s}_M(t,n)}function Gj(n,t,e,r){const i=Math.pow(2,r.z)*Yh,s=[r.x*Yh,r.y*Yh],o=[];if(!n)return o;for(const a of n)for(const l of a){const c=[l.x+s[0],l.y+s[1]];Oj(c,t,e,i),o.push(c)}return o}function Wj(n,t,e,r){const i=Math.pow(2,r.z)*Yh,s=[r.x*Yh,r.y*Yh],o=[];if(!n)return o;for(const a of n){const l=[];for(const c of a){const u=[c.x+s[0],c.y+s[1]];_M(t,u),l.push(u)}o.push(l)}if(t[2]-t[0]<=i/2){!function I9e(n){n[0]=n[1]=1/0,n[2]=n[3]=-1/0}(t);for(const a of o)for(const l of a)Oj(l,t,e,i)}return o}class O5{constructor(t,e){this.type=Or,this.geojson=t,this.geometries=e}static parse(t,e){if(2!==t.length)return e.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(X9(t[1])){const r=t[1];if("FeatureCollection"===r.type)for(let i=0;i<r.features.length;++i){const s=r.features[i].geometry.type;if("Polygon"===s||"MultiPolygon"===s)return new O5(r,r.features[i].geometry)}else if("Feature"===r.type){const i=r.geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new O5(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new O5(r,r)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function A9e(n,t){const e=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=n.canonicalID();if(!i)return!1;if("Polygon"===t.type){const s=AM(t.coordinates,r,i),o=Gj(n.geometry(),e,r,i);if(!Q9(e,r))return!1;for(const a of o)if(!IM(a,s))return!1}if("MultiPolygon"===t.type){const s=Nj(t.coordinates,r,i),o=Gj(n.geometry(),e,r,i);if(!Q9(e,r))return!1;for(const a of o)if(!y9e(a,s))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function M9e(n,t){const e=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=n.canonicalID();if(!i)return!1;if("Polygon"===t.type){const s=AM(t.coordinates,r,i),o=Wj(n.geometry(),e,r,i);if(!Q9(e,r))return!1;for(const a of o)if(!Bj(a,s))return!1}if("MultiPolygon"===t.type){const s=Nj(t.coordinates,r,i),o=Wj(n.geometry(),e,r,i);if(!Q9(e,r))return!1;for(const a of o)if(!_9e(a,s))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var MM=O5;function eC(n){if(n instanceof gg){if("get"===n.name&&1===n.args.length)return!1;if("feature-state"===n.name)return!1;if("has"===n.name&&1===n.args.length)return!1;if("properties"===n.name||"geometry-type"===n.name||"id"===n.name)return!1;if(/^filter-/.test(n.name))return!1}if(n instanceof MM)return!1;let t=!0;return n.eachChild(e=>{t&&!eC(e)&&(t=!1)}),t}function SM(n,t){if(n instanceof gg&&t.indexOf(n.name)>=0)return!1;let e=!0;return n.eachChild(r=>{e&&!SM(r,t)&&(e=!1)}),e}class TM{constructor(t,e){this.type=e.type,this.name=t,this.boundExpression=e}static parse(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");const r=t[1];return e.scope.has(r)?new TM(r,e.scope.get(r)):e.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var jj=TM;class zM{constructor(t,e=[],r,i=new o9e,s=[]){this.registry=t,this.path=e,this.key=e.map(o=>`[${o}]`).join(""),this.scope=i,this.errors=s,this.expectedType=r}parse(t,e,r,i,s={}){return e?this.concat(e,r,i)._parse(t,s):this._parse(t,s)}_parse(t,e){function r(i,s,o){return"assert"===o?new Id(s,[i]):"coerce"===o?new fg(s,[i]):i}if((null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t)&&(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=t[0];if("string"!=typeof i)return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const s=this.registry[i];if(s){let o=s.parse(t,this);if(!o)return null;if(this.expectedType){const a=this.expectedType,l=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==l.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==l.kind&&"string"!==l.kind){if(this.checkSubtype(a,l))return null}else o=r(o,a,e.typeAnnotation||"coerce");else o=r(o,a,e.typeAnnotation||"assert")}if(!(o instanceof Y9)&&"resolvedImage"!==o.type.kind&&RM(o)){const a=new Fj;try{o=new Y9(o.type,o.evaluate(a))}catch(l){return this.error(l.message),null}}return o}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(typeof t>"u"?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,e,r){const i="number"==typeof t?this.path.concat(t):this.path,s=r?this.scope.concat(r):this.scope;return new zM(this.registry,i,e||null,s,this.errors)}error(t,...e){const r=`${this.key}${e.map(i=>`[${i}]`).join("")}`;this.errors.push(new C1(r,t))}checkSubtype(t,e){const r=P5(t,e);return r&&this.error(r),r}}var Uj=zM;function RM(n){if(n instanceof jj)return RM(n.boundExpression);if(n instanceof gg&&"error"===n.name)return!1;if(n instanceof J9)return!1;if(n instanceof MM)return!1;const t=n instanceof fg||n instanceof Id;let e=!0;return n.eachChild(r=>{e=t?e&&RM(r):e&&r instanceof Y9}),!!e&&eC(n)&&SM(n,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Zj(n,t){const e=n.length-1;let o,a,r=0,i=e,s=0;for(;r<=i;)if(s=Math.floor((r+i)/2),o=n[s],a=n[s+1],o<=t){if(s===e||t<a)return s;r=s+1}else{if(!(o>t))throw new ka("Input is not a number.");i=s-1}return 0}class LM{constructor(t,e,r){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(const[i,s]of r)this.labels.push(i),this.outputs.push(s)}static parse(t,e){if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");const r=e.parse(t[1],1,un);if(!r)return null;const i=[];let s=null;e.expectedType&&"value"!==e.expectedType.kind&&(s=e.expectedType);for(let o=1;o<t.length;o+=2){const a=1===o?-1/0:t[o],l=t[o+1],c=o,u=o+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(i.length&&i[i.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);const d=e.parse(l,u,s);if(!d)return null;s=s||d.type,i.push([a,d])}return new LM(s,r,i)}evaluate(t){const e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);const i=this.input.evaluate(t);if(i<=e[0])return r[0].evaluate(t);const s=e.length;return i>=e[s-1]?r[s-1].evaluate(t):r[Zj(e,i)].evaluate(t)}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){const t=["step",this.input.serialize()];for(let e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t}}var $j=LM,E9e=mg;function mg(n,t,e,r){this.cx=3*n,this.bx=3*(e-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=r,this.p2x=e,this.p2y=r}mg.prototype.sampleCurveX=function(n){return((this.ax*n+this.bx)*n+this.cx)*n},mg.prototype.sampleCurveY=function(n){return((this.ay*n+this.by)*n+this.cy)*n},mg.prototype.sampleCurveDerivativeX=function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},mg.prototype.solveCurveX=function(n,t){var e,r,i,s,o;for(typeof t>"u"&&(t=1e-6),i=n,o=0;o<8;o++){if(s=this.sampleCurveX(i)-n,Math.abs(s)<t)return i;var a=this.sampleCurveDerivativeX(i);if(Math.abs(a)<1e-6)break;i-=s/a}if((i=n)<(e=0))return e;if(i>(r=1))return r;for(;e<r;){if(s=this.sampleCurveX(i),Math.abs(s-n)<t)return i;n>s?e=i:r=i,i=.5*(r-e)+e}return i},mg.prototype.solve=function(n,t){return this.sampleCurveY(this.solveCurveX(n,t))};var S9e=Rj(E9e);function pc(n,t,e){return n*(1-e)+t*e}var R9e=Object.freeze({__proto__:null,number:pc,color:function T9e(n,t,e){return new fc(pc(n.r,t.r,e),pc(n.g,t.g,e),pc(n.b,t.b,e),pc(n.a,t.a,e))},array:function z9e(n,t,e){return n.map((r,i)=>pc(r,t[i],e))}});const qj=4/29,vg=6/29,Jj=3*vg*vg,L9e=vg*vg*vg,H9e=Math.PI/180,D9e=180/Math.PI;function HM(n){return n>L9e?Math.pow(n,1/3):n/Jj+qj}function DM(n){return n>vg?n*n*n:Jj*(n-qj)}function VM(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function kM(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Qj(n){const t=kM(n.r),e=kM(n.g),r=kM(n.b),i=HM((.4124564*t+.3575761*e+.1804375*r)/.95047),s=HM((.2126729*t+.7151522*e+.072175*r)/1);return{l:116*s-16,a:500*(i-s),b:200*(s-HM((.0193339*t+.119192*e+.9503041*r)/1.08883)),alpha:n.a}}function eU(n){let t=(n.l+16)/116,e=isNaN(n.a)?t:t+n.a/500,r=isNaN(n.b)?t:t-n.b/200;return t=1*DM(t),e=.95047*DM(e),r=1.08883*DM(r),new fc(VM(3.2404542*e-1.5371385*t-.4985314*r),VM(-.969266*e+1.8760108*t+.041556*r),VM(.0556434*e-.2040259*t+1.0572252*r),n.alpha)}function P9e(n,t,e){const r=t-n;return n+e*(r>180||r<-180?r-360*Math.round(r/360):r)}const tC={forward:Qj,reverse:eU,interpolate:function V9e(n,t,e){return{l:pc(n.l,t.l,e),a:pc(n.a,t.a,e),b:pc(n.b,t.b,e),alpha:pc(n.alpha,t.alpha,e)}}},nC_forward=function k9e(n){const{l:t,a:e,b:r}=Qj(n),i=Math.atan2(r,e)*D9e;return{h:i<0?i+360:i,c:Math.sqrt(e*e+r*r),l:t,alpha:n.a}},nC_reverse=function F9e(n){const t=n.h*H9e,e=n.c;return eU({l:n.l,a:Math.cos(t)*e,b:Math.sin(t)*e,alpha:n.alpha})},nC_interpolate=function B9e(n,t,e){return{h:P9e(n.h,t.h,e),c:pc(n.c,t.c,e),l:pc(n.l,t.l,e),alpha:pc(n.alpha,t.alpha,e)}};class rC{constructor(t,e,r,i,s){this.type=t,this.operator=e,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[o,a]of s)this.labels.push(o),this.outputs.push(a)}static interpolationFactor(t,e,r,i){let s=0;if("exponential"===t.name)s=FM(e,t.base,r,i);else if("linear"===t.name)s=FM(e,1,r,i);else if("cubic-bezier"===t.name){const o=t.controlPoints;s=new S9e(o[0],o[1],o[2],o[3]).solve(FM(e,1,r,i))}return s}static parse(t,e){let[r,i,s,...o]=t;if(!Array.isArray(i)||0===i.length)return e.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){const c=i[1];if("number"!=typeof c)return e.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:c}}else{if("cubic-bezier"!==i[0])return e.error(`Unknown interpolation type ${String(i[0])}`,1,0);{const c=i.slice(1);if(4!==c.length||c.some(u=>"number"!=typeof u||u<0||u>1))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:c}}}if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(s=e.parse(s,2,un),!s)return null;const a=[];let l=null;"interpolate-hcl"===r||"interpolate-lab"===r?l=_d:e.expectedType&&"value"!==e.expectedType.kind&&(l=e.expectedType);for(let c=0;c<o.length;c+=2){const u=o[c],d=o[c+1],h=c+3,f=c+4;if("number"!=typeof u)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(a.length&&a[a.length-1][0]>=u)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);const g=e.parse(d,f,l);if(!g)return null;l=l||g.type,a.push([u,g])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new rC(l,r,i,s,a):e.error(`Type ${qs(l)} is not interpolatable.`)}evaluate(t){const e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);const i=this.input.evaluate(t);if(i<=e[0])return r[0].evaluate(t);const s=e.length;if(i>=e[s-1])return r[s-1].evaluate(t);const o=Zj(e,i),c=rC.interpolationFactor(this.interpolation,i,e[o],e[o+1]),u=r[o].evaluate(t),d=r[o+1].evaluate(t);return"interpolate"===this.operator?R9e[this.type.kind.toLowerCase()](u,d,c):"interpolate-hcl"===this.operator?nC_reverse(nC_interpolate(nC_forward(u),nC_forward(d),c)):tC.reverse(tC.interpolate(tC.forward(u),tC.forward(d),c))}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){let t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const e=[this.operator,t,this.input.serialize()];for(let r=0;r<this.labels.length;r++)e.push(this.labels[r],this.outputs[r].serialize());return e}}function FM(n,t,e,r){const i=r-e,s=n-e;return 0===i?0:1===t?s/i:(Math.pow(t,s)-1)/(Math.pow(t,i)-1)}var H0=rC;class iC{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expectected at least one argument.");let r=null;const i=e.expectedType;i&&"value"!==i.kind&&(r=i);const s=[];for(const a of t.slice(1)){const l=e.parse(a,1+s.length,r,void 0,{typeAnnotation:"omit"});if(!l)return null;r=r||l.type,s.push(l)}return i&&s.some(a=>P5(i,a.type))?new iC(Gr,s):new iC(r,s)}evaluate(t){let i,e=null,r=0;for(const s of this.args){if(r++,e=s.evaluate(t),e&&e instanceof Xh&&!e.available&&(i||(i=e),e=null,r===this.args.length))return i;if(null!==e)break}return e}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=["coalesce"];return this.eachChild(e=>{t.push(e.serialize())}),t}}var tU=iC;class PM{constructor(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const e of this.bindings)t(e[1]);t(this.result)}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const r=[];for(let s=1;s<t.length-1;s+=2){const o=t[s];if("string"!=typeof o)return e.error(`Expected string, but found ${typeof o} instead.`,s);if(/[^a-zA-Z0-9_]/.test(o))return e.error("Variable names must contain only alphanumeric characters or '_'.",s);const a=e.parse(t[s+1],s+1);if(!a)return null;r.push([o,a])}const i=e.parse(t[t.length-1],t.length-1,e.expectedType,r);return i?new PM(r,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[e,r]of this.bindings)t.push(e,r.serialize());return t.push(this.result.serialize()),t}}var nU=PM;class BM{constructor(t,e,r){this.type=t,this.index=e,this.input=r}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,un),i=e.parse(t[2],2,$c(e.expectedType||Gr));return r&&i?new BM(i.type.itemType,r,i):null}evaluate(t){const e=this.index.evaluate(t),r=this.input.evaluate(t);if(e<0)throw new ka(`Array index out of bounds: ${e} < 0.`);if(e>=r.length)throw new ka(`Array index out of bounds: ${e} > ${r.length-1}.`);if(e!==Math.floor(e))throw new ka(`Array index must be an integer, but found ${e} instead.`);return r[e]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var N9e=BM;class NM{constructor(t,e){this.type=Or,this.needle=t,this.haystack=e}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,Gr),i=e.parse(t[2],2,Gr);return r&&i?mM(r.type,[Or,$r,un,U9,Gr])?new NM(r,i):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${qs(r.type)} instead`):null}evaluate(t){const e=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(null==r)return!1;if(!B5(e,["boolean","string","number","null"]))throw new ka(`Expected first argument to be of type boolean, string, number or null, but found ${qs(ca(e))} instead.`);if(!B5(r,["string","array"]))throw new ka(`Expected second argument to be of type array or string, but found ${qs(ca(r))} instead.`);return r.indexOf(e)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var O9e=NM;class sC{constructor(t,e,r){this.type=un,this.needle=t,this.haystack=e,this.fromIndex=r}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,Gr),i=e.parse(t[2],2,Gr);if(!r||!i)return null;if(!mM(r.type,[Or,$r,un,U9,Gr]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${qs(r.type)} instead`);if(4===t.length){const s=e.parse(t[3],3,un);return s?new sC(r,i,s):null}return new sC(r,i)}evaluate(t){const e=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!B5(e,["boolean","string","number","null"]))throw new ka(`Expected first argument to be of type boolean, string, number or null, but found ${qs(ca(e))} instead.`);if(!B5(r,["string","array"]))throw new ka(`Expected second argument to be of type array or string, but found ${qs(ca(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(t);return r.indexOf(e,i)}return r.indexOf(e)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var G9e=sC;class OM{constructor(t,e,r,i,s,o){this.inputType=t,this.type=e,this.input=r,this.cases=i,this.outputs=s,this.otherwise=o}static parse(t,e){if(t.length<5)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return e.error("Expected an even number of arguments.");let r,i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);const s={},o=[];for(let c=2;c<t.length-1;c+=2){let u=t[c];const d=t[c+1];Array.isArray(u)||(u=[u]);const h=e.concat(c);if(0===u.length)return h.error("Expected at least one branch label.");for(const g of u){if("number"!=typeof g&&"string"!=typeof g)return h.error("Branch labels must be numbers or strings.");if("number"==typeof g&&Math.abs(g)>Number.MAX_SAFE_INTEGER)return h.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof g&&Math.floor(g)!==g)return h.error("Numeric branch labels must be integer values.");if(r){if(h.checkSubtype(r,ca(g)))return null}else r=ca(g);if(typeof s[String(g)]<"u")return h.error("Branch labels must be unique.");s[String(g)]=o.length}const f=e.parse(d,c,i);if(!f)return null;i=i||f.type,o.push(f)}const a=e.parse(t[1],1,Gr);if(!a)return null;const l=e.parse(t[t.length-1],t.length-1,i);return!l||"value"!==a.type.kind&&e.concat(1).checkSubtype(r,a.type)?null:new OM(r,i,a,s,o,l)}evaluate(t){const e=this.input.evaluate(t);return(ca(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],e=Object.keys(this.cases).sort(),r=[],i={};for(const o of e){const a=i[this.cases[o]];void 0===a?(i[this.cases[o]]=r.length,r.push([this.cases[o],[o]])):r[a][1].push(o)}const s=o=>"number"===this.inputType.kind?Number(o):o;for(const[o,a]of r)t.push(1===a.length?s(a[0]):a.map(s)),t.push(this.outputs[o].serialize());return t.push(this.otherwise.serialize()),t}}var W9e=OM;class GM{constructor(t,e,r){this.type=t,this.branches=e,this.otherwise=r}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return e.error("Expected an odd number of arguments.");let r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);const i=[];for(let o=1;o<t.length-1;o+=2){const a=e.parse(t[o],o,Or);if(!a)return null;const l=e.parse(t[o+1],o+1,r);if(!l)return null;i.push([a,l]),r=r||l.type}const s=e.parse(t[t.length-1],t.length-1,r);return s?new GM(r,i,s):null}evaluate(t){for(const[e,r]of this.branches)if(e.evaluate(t))return r.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[e,r]of this.branches)t(e),t(r);t(this.otherwise)}outputDefined(){return this.branches.every(([t,e])=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild(e=>{t.push(e.serialize())}),t}}var j9e=GM;class oC{constructor(t,e,r,i){this.type=t,this.input=e,this.beginIndex=r,this.endIndex=i}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,Gr),i=e.parse(t[2],2,un);if(!r||!i)return null;if(!mM(r.type,[$c(Gr),$r,Gr]))return e.error(`Expected first argument to be of type array or string, but found ${qs(r.type)} instead`);if(4===t.length){const s=e.parse(t[3],3,un);return s?new oC(r.type,r,i,s):null}return new oC(r.type,r,i)}evaluate(t){const e=this.input.evaluate(t),r=this.beginIndex.evaluate(t);if(!B5(e,["string","array"]))throw new ka(`Expected first argument to be of type array or string, but found ${qs(ca(e))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(t);return e.slice(r,i)}return e.slice(r)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var U9e=oC;function rU(n,t){return"=="===n||"!="===n?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function iU(n,t,e,r){return 0===r.compare(t,e)}function wg(n,t,e){const r="=="!==n&&"!="!==n;return class QU{constructor(s,o,a){this.type=Or,this.lhs=s,this.rhs=o,this.collator=a,this.hasUntypedArgument="value"===s.type.kind||"value"===o.type.kind}static parse(s,o){if(3!==s.length&&4!==s.length)return o.error("Expected two or three arguments.");const a=s[0];let l=o.parse(s[1],1,Gr);if(!l)return null;if(!rU(a,l.type))return o.concat(1).error(`"${a}" comparisons are not supported for type '${qs(l.type)}'.`);let c=o.parse(s[2],2,Gr);if(!c)return null;if(!rU(a,c.type))return o.concat(2).error(`"${a}" comparisons are not supported for type '${qs(c.type)}'.`);if(l.type.kind!==c.type.kind&&"value"!==l.type.kind&&"value"!==c.type.kind)return o.error(`Cannot compare types '${qs(l.type)}' and '${qs(c.type)}'.`);r&&("value"===l.type.kind&&"value"!==c.type.kind?l=new Id(c.type,[l]):"value"!==l.type.kind&&"value"===c.type.kind&&(c=new Id(l.type,[c])));let u=null;if(4===s.length){if("string"!==l.type.kind&&"string"!==c.type.kind&&"value"!==l.type.kind&&"value"!==c.type.kind)return o.error("Cannot use collator to compare non-string types.");if(u=o.parse(s[3],3,Z9),!u)return null}return new QU(l,c,u)}evaluate(s){const o=this.lhs.evaluate(s),a=this.rhs.evaluate(s);if(r&&this.hasUntypedArgument){const l=ca(o),c=ca(a);if(l.kind!==c.kind||"string"!==l.kind&&"number"!==l.kind)throw new ka(`Expected arguments for "${n}" to be (string, string) or (number, number), but found (${l.kind}, ${c.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const l=ca(o),c=ca(a);if("string"!==l.kind||"string"!==c.kind)return t(s,o,a)}return this.collator?e(s,o,a,this.collator.evaluate(s)):t(s,o,a)}eachChild(s){s(this.lhs),s(this.rhs),this.collator&&s(this.collator)}outputDefined(){return!0}serialize(){const s=[n];return this.eachChild(o=>{s.push(o.serialize())}),s}}}const rCe=wg("==",function Z9e(n,t,e){return t===e},iU),iCe=wg("!=",function $9e(n,t,e){return t!==e},function J9e(n,t,e,r){return!iU(0,t,e,r)}),sCe=wg("<",function X9e(n,t,e){return t<e},function Q9e(n,t,e,r){return r.compare(t,e)<0}),oCe=wg(">",function Y9e(n,t,e){return t>e},function eCe(n,t,e,r){return r.compare(t,e)>0}),aCe=wg("<=",function K9e(n,t,e){return t<=e},function tCe(n,t,e,r){return r.compare(t,e)<=0}),lCe=wg(">=",function q9e(n,t,e){return t>=e},function nCe(n,t,e,r){return r.compare(t,e)>=0});class WM{constructor(t,e,r,i,s,o){this.type=$r,this.number=t,this.locale=e,this.currency=r,this.unit=i,this.minFractionDigits=s,this.maxFractionDigits=o}static parse(t,e){if(3!==t.length)return e.error("Expected two arguments.");const r=e.parse(t[1],1,un);if(!r)return null;const i=t[2];if("object"!=typeof i||Array.isArray(i))return e.error("NumberFormat options argument must be an object.");let s=null;if(i.locale&&(s=e.parse(i.locale,1,$r),!s))return null;let o=null;if(i.currency&&(o=e.parse(i.currency,1,$r),!o))return null;let a=null;if(i.unit&&(a=e.parse(i.unit,1,$r),!a))return null;let l=null;if(i["min-fraction-digits"]&&(l=e.parse(i["min-fraction-digits"],1,un),!l))return null;let c=null;return i["max-fraction-digits"]&&(c=e.parse(i["max-fraction-digits"],1,un),!c)?null:new WM(r,s,o,a,l,c)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.unit&&(t.unit=this.unit.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class jM{constructor(t){this.type=un,this.input=t}static parse(t,e){if(2!==t.length)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const r=e.parse(t[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?e.error(`Expected argument of type string or array, but found ${qs(r.type)} instead.`):new jM(r):null}evaluate(t){const e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new ka(`Expected value to be of type string or array, but found ${qs(ca(e))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild(e=>{t.push(e.serialize())}),t}}function oU(n,[t,e,r,i]){t=t.evaluate(n),e=e.evaluate(n),r=r.evaluate(n);const s=i?i.evaluate(n):1,o=kj(t,e,r,s);if(o)throw new ka(o);return new fc(t/255*s,e/255*s,r/255*s,s)}function aU(n,t){return n in t}function UM(n,t){const e=t[n];return typeof e>"u"?null:e}function D0(n){return{type:n}}gg.register({"==":rCe,"!=":iCe,">":oCe,"<":sCe,">=":lCe,"<=":aCe,array:Id,at:N9e,boolean:Id,case:j9e,coalesce:tU,collator:J9,format:K9,image:q9,in:O9e,"index-of":G9e,interpolate:H0,"interpolate-hcl":H0,"interpolate-lab":H0,length:jM,let:nU,literal:Y9,match:W9e,number:Id,"number-format":WM,object:Id,slice:U9e,step:$j,string:Id,"to-boolean":fg,"to-color":fg,"to-number":fg,"to-string":fg,var:jj,within:MM},{error:[{kind:"error"},[$r],(n,[t])=>{throw new ka(t.evaluate(n))}],typeof:[$r,[Gr],(n,[t])=>qs(ca(t.evaluate(n)))],"to-rgba":[$c(un,4),[_d],(n,[t])=>t.evaluate(n).toArray()],rgb:[_d,[un,un,un],oU],rgba:[_d,[un,un,un,un],oU],has:{type:Or,overloads:[[[$r],(n,[t])=>aU(t.evaluate(n),n.properties())],[[$r,hg],(n,[t,e])=>aU(t.evaluate(n),e.evaluate(n))]]},get:{type:Gr,overloads:[[[$r],(n,[t])=>UM(t.evaluate(n),n.properties())],[[$r,hg],(n,[t,e])=>UM(t.evaluate(n),e.evaluate(n))]]},"feature-state":[Gr,[$r],(n,[t])=>UM(t.evaluate(n),n.featureState||{})],properties:[hg,[],n=>n.properties()],"geometry-type":[$r,[],n=>n.geometryType()],id:[Gr,[],n=>n.id()],zoom:[un,[],n=>n.globals.zoom],pitch:[un,[],n=>n.globals.pitch||0],"distance-from-center":[un,[],n=>n.distanceFromCenter()],"heatmap-density":[un,[],n=>n.globals.heatmapDensity||0],"line-progress":[un,[],n=>n.globals.lineProgress||0],"sky-radial-progress":[un,[],n=>n.globals.skyRadialProgress||0],accumulated:[Gr,[],n=>void 0===n.globals.accumulated?null:n.globals.accumulated],"+":[un,D0(un),(n,t)=>{let e=0;for(const r of t)e+=r.evaluate(n);return e}],"*":[un,D0(un),(n,t)=>{let e=1;for(const r of t)e*=r.evaluate(n);return e}],"-":{type:un,overloads:[[[un,un],(n,[t,e])=>t.evaluate(n)-e.evaluate(n)],[[un],(n,[t])=>-t.evaluate(n)]]},"/":[un,[un,un],(n,[t,e])=>t.evaluate(n)/e.evaluate(n)],"%":[un,[un,un],(n,[t,e])=>t.evaluate(n)%e.evaluate(n)],ln2:[un,[],()=>Math.LN2],pi:[un,[],()=>Math.PI],e:[un,[],()=>Math.E],"^":[un,[un,un],(n,[t,e])=>Math.pow(t.evaluate(n),e.evaluate(n))],sqrt:[un,[un],(n,[t])=>Math.sqrt(t.evaluate(n))],log10:[un,[un],(n,[t])=>Math.log(t.evaluate(n))/Math.LN10],ln:[un,[un],(n,[t])=>Math.log(t.evaluate(n))],log2:[un,[un],(n,[t])=>Math.log(t.evaluate(n))/Math.LN2],sin:[un,[un],(n,[t])=>Math.sin(t.evaluate(n))],cos:[un,[un],(n,[t])=>Math.cos(t.evaluate(n))],tan:[un,[un],(n,[t])=>Math.tan(t.evaluate(n))],asin:[un,[un],(n,[t])=>Math.asin(t.evaluate(n))],acos:[un,[un],(n,[t])=>Math.acos(t.evaluate(n))],atan:[un,[un],(n,[t])=>Math.atan(t.evaluate(n))],min:[un,D0(un),(n,t)=>Math.min(...t.map(e=>e.evaluate(n)))],max:[un,D0(un),(n,t)=>Math.max(...t.map(e=>e.evaluate(n)))],abs:[un,[un],(n,[t])=>Math.abs(t.evaluate(n))],round:[un,[un],(n,[t])=>{const e=t.evaluate(n);return e<0?-Math.round(-e):Math.round(e)}],floor:[un,[un],(n,[t])=>Math.floor(t.evaluate(n))],ceil:[un,[un],(n,[t])=>Math.ceil(t.evaluate(n))],"filter-==":[Or,[$r,Gr],(n,[t,e])=>n.properties()[t.value]===e.value],"filter-id-==":[Or,[Gr],(n,[t])=>n.id()===t.value],"filter-type-==":[Or,[$r],(n,[t])=>n.geometryType()===t.value],"filter-<":[Or,[$r,Gr],(n,[t,e])=>{const r=n.properties()[t.value],i=e.value;return typeof r==typeof i&&r<i}],"filter-id-<":[Or,[Gr],(n,[t])=>{const e=n.id(),r=t.value;return typeof e==typeof r&&e<r}],"filter->":[Or,[$r,Gr],(n,[t,e])=>{const r=n.properties()[t.value],i=e.value;return typeof r==typeof i&&r>i}],"filter-id->":[Or,[Gr],(n,[t])=>{const e=n.id(),r=t.value;return typeof e==typeof r&&e>r}],"filter-<=":[Or,[$r,Gr],(n,[t,e])=>{const r=n.properties()[t.value],i=e.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[Or,[Gr],(n,[t])=>{const e=n.id(),r=t.value;return typeof e==typeof r&&e<=r}],"filter->=":[Or,[$r,Gr],(n,[t,e])=>{const r=n.properties()[t.value],i=e.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[Or,[Gr],(n,[t])=>{const e=n.id(),r=t.value;return typeof e==typeof r&&e>=r}],"filter-has":[Or,[Gr],(n,[t])=>t.value in n.properties()],"filter-has-id":[Or,[],n=>null!==n.id()&&void 0!==n.id()],"filter-type-in":[Or,[$c($r)],(n,[t])=>t.value.indexOf(n.geometryType())>=0],"filter-id-in":[Or,[$c(Gr)],(n,[t])=>t.value.indexOf(n.id())>=0],"filter-in-small":[Or,[$r,$c(Gr)],(n,[t,e])=>e.value.indexOf(n.properties()[t.value])>=0],"filter-in-large":[Or,[$r,$c(Gr)],(n,[t,e])=>function uCe(n,t,e,r){for(;e<=r;){const i=e+r>>1;if(t[i]===n)return!0;t[i]>n?r=i-1:e=i+1}return!1}(n.properties()[t.value],e.value,0,e.value.length-1)],all:{type:Or,overloads:[[[Or,Or],(n,[t,e])=>t.evaluate(n)&&e.evaluate(n)],[D0(Or),(n,t)=>{for(const e of t)if(!e.evaluate(n))return!1;return!0}]]},any:{type:Or,overloads:[[[Or,Or],(n,[t,e])=>t.evaluate(n)||e.evaluate(n)],[D0(Or),(n,t)=>{for(const e of t)if(e.evaluate(n))return!0;return!1}]]},"!":[Or,[Or],(n,[t])=>!t.evaluate(n)],"is-supported-script":[Or,[$r],(n,[t])=>{const e=n.globals&&n.globals.isSupportedScript;return!e||e(t.evaluate(n))}],upcase:[$r,[$r],(n,[t])=>t.evaluate(n).toUpperCase()],downcase:[$r,[$r],(n,[t])=>t.evaluate(n).toLowerCase()],concat:[$r,D0(Gr),(n,t)=>t.map(e=>N5(e.evaluate(n))).join("")],"resolved-locale":[$r,[Z9],(n,[t])=>t.evaluate(n).resolvedLocale()]}),function(){const n=[];for(let t=78271.51696402048;n.length<=24;t/=2)n.push(t)}(),Array(256).join("\u200a"),new Ch,new Ch;function gE(n,t){const e=[];Object.keys(t).forEach(function(i){null!=t[i]&&e.push(i+"="+encodeURIComponent(t[i]))});const r=e.join("&");return n=n.replace(/[?&]$/,""),(n+=n.includes("?")?"&":"?")+r}function mE(n,t){const e=(""+n).split("."),r=(""+t).split(".");for(let i=0;i<Math.max(e.length,r.length);i++){const s=parseInt(e[i]||"0",10),o=parseInt(r[i]||"0",10);if(s>o)return 1;if(o>s)return-1}return 0}function vE(n){return Array.isArray(n)?Math.min(...n):n}const h6e=class d6e extends wW{constructor(t,e,r,i,s,o,a){let l=t.getExtent();l&&t.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);let c=e.getExtent();c&&e.canWrapX()&&(c=c.slice(),c[0]=-1/0,c[2]=1/0);const u=c?(0,pt._N)(r,c):r,h=M5(t,e,(0,pt.q1)(u),i),g=new GW(t,e,u,l,.5*h,i),w=g.calculateSourceExtent(),C=(0,pt.Im)(w)?null:o(w,h,s),I=C?0:4,L=C?C.getPixelRatio():1;super(r,i,L,I),this.targetProj_=e,this.maxSourceExtent_=l,this.triangulation_=g,this.targetResolution_=i,this.targetExtent_=r,this.sourceImage_=C,this.sourcePixelRatio_=L,this.interpolate_=a,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){1==this.state&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const t=this.sourceImage_.getState();if(2==t){const e=(0,pt.RG)(this.targetExtent_)/this.targetResolution_,r=(0,pt.Oq)(this.targetExtent_)/this.targetResolution_;this.canvas_=jW(e,r,this.sourcePixelRatio_,vE(this.sourceImage_.getResolution()),0,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=t,this.changed()}load(){if(0==this.state){this.state=1,this.changed();const t=this.sourceImage_.getState();2==t||3==t?this.reproject_():(this.sourceListenerKey_=Li(this.sourceImage_,"change",function(e){const r=this.sourceImage_.getState();(2==r||3==r)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}}unlistenSource_(){Rs(this.sourceListenerKey_),this.sourceListenerKey_=null}};class f6e extends Vc{constructor(t,e){super(t),this.image=e}}function g6e(n,t){n.getImage().src=t}function $U(n,t,e,r){const i=t/e,s=(0,pt.q1)(n),o=(0,Xn.mk)((0,pt.RG)(n)/i,4),a=(0,Xn.mk)((0,pt.Oq)(n)/i,4),c=o+2*(0,Xn.mk)((r-1)*o/2,4),u=(0,Xn.mk)((r-1)*a/2,4);return(0,pt.Bg)(s,i,0,[c,a+2*u])}const m6e=class p6e extends R9{constructor(t){super({attributions:t.attributions,projection:t.projection,state:t.state,interpolate:void 0===t.interpolate||t.interpolate}),this.loader=t.loader||null,this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.static_=!!t.loader&&0===t.loader.length,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(t){this.resolutions_=t}findNearestResolution(t){const e=this.getResolutions();return e&&(t=e[(0,Ri.FT)(e,t,0)]),t}getImage(t,e,r,i){const s=this.getProjection();if(!s||!i||(0,an.tI)(s,i))return s&&(i=s),this.getImageInternal(t,e,r,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,an.tI)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==e&&(0,pt.aI)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new h6e(s,i,t,e,r,(o,a,l)=>this.getImageInternal(o,a,l,s),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(t,e,r,i){if(this.loader){const s=$U(t,e,r,1),o=this.findNearestResolution(e);if(this.image&&(this.static_||this.wantedProjection_===i&&(this.wantedExtent_&&(0,pt.ms)(this.wantedExtent_,s)||(0,pt.ms)(this.image.getExtent(),s))&&(this.wantedResolution_&&vE(this.wantedResolution_)===o||vE(this.image.getResolution())===o)))return this.image;this.wantedProjection_=i,this.wantedExtent_=s,this.wantedResolution_=o,this.image=new wW(s,o,r,this.loader),this.image.addEventListener("change",this.handleImageChange.bind(this))}return this.image}handleImageChange(t){const e=t.target;let r;switch(e.getState()){case 1:this.loading=!0,r="imageloadstart";break;case 2:this.loading=!1,r="imageloadend";break;case 3:this.loading=!1,r="imageloaderror";break;default:return}this.hasListener(r)&&this.dispatchEvent(new f6e(r,e))}},bC="1.3.0",XU=[101,101];function YU(n,t,e,r,i){i.WIDTH=e[0],i.HEIGHT=e[1];const s=r.getAxisOrientation();let o;const a=mE(i.VERSION,"1.3")>=0;return i[a?"CRS":"SRS"]=r.getCode(),o=a&&"ne"==s.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,i.BBOX=o.join(","),gE(n,i)}function KU(n,t,e,r,i,s,o){s=Object.assign({REQUEST:"GetMap"},s);const a=t/e,l=[(0,Xn.LI)((0,pt.RG)(n)/a,4),(0,Xn.LI)((0,pt.Oq)(n)/a,4)];if(1!=e)switch(o){case"geoserver":const u=90*e+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+u:s.FORMAT_OPTIONS="dpi:"+u;break;case"mapserver":s.MAP_RESOLUTION=90*e;break;case"carmentaserver":case"qgis":s.DPI=90*e;break;default:throw new Error("Unknown `serverType` configured")}return YU(i,n,l,r,s)}function xC(n,t){return Object.assign({REQUEST:t,SERVICE:"WMS",VERSION:bC,FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},n)}const b6e=class C6e extends YW{constructor(t){t=t||{};const e=Object.assign({},t.params);super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:!(!("TRANSPARENT"in e)||e.TRANSPARENT),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0,this.params_=e,this.v13_=!0,this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.tmpExtent_=(0,pt.S5)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(t,e,r,i){const s=(0,an.Jt)(r),o=this.getProjection()||s;let a=this.getTileGrid();a||(a=this.getTileGridForProjection(o));const l=(0,an.pd)(t,s,o),c=M5(o,s,t,e),u=a.getZForResolution(c,this.zDirection),d=a.getResolution(u),h=a.getTileCoordForCoordAndZ(l,u);if(a.getResolutions().length<=h[0])return;let f=a.getTileCoordExtent(h,this.tmpExtent_);const g=this.gutter_;0!==g&&(f=(0,pt.r)(f,d*g,f));const w={QUERY_LAYERS:this.params_.LAYERS};Object.assign(w,xC(this.params_,"GetFeatureInfo"),i);const C=Math.floor((l[0]-f[0])/d),I=Math.floor((f[3]-l[1])/d);return w[this.v13_?"I":"X"]=C,w[this.v13_?"J":"Y"]=I,this.getRequestUrl_(h,f,1,o||s,w)}getLegendUrl(t,e){if(void 0===this.urls[0])return;const r={SERVICE:"WMS",VERSION:bC,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){const i=this.params_.LAYERS;if(Array.isArray(i)&&1!==i.length)return;r.LAYER=i}if(void 0!==t){const i=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=t*i/28e-5}return Object.assign(r,e),gE(this.urls[0],r)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(t,e,r,i,s){const o=this.urls;if(!o)return;let a;return a=1==o.length?o[0]:o[(0,Xn.xP)((0,Zc.tW)(t),o.length)],KU(e,(this.tileGrid||this.getTileGridForProjection(i)).getResolution(t[0]),r,i,a,s,this.serverType_)}getTilePixelRatio(t){return this.hidpi_&&void 0!==this.serverType_?t:1}getKeyForParams_(){let t=0;const e=[];for(const r in this.params_)e[t++]=r+"-"+this.params_[r];return e.join("/")}updateParams(t){Object.assign(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){this.v13_=mE(this.params_.VERSION||bC,"1.3")>=0}tileUrlFunction(t,e,r){let i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(r)),i.getResolutions().length<=t[0])return;1!=e&&(!this.hidpi_||void 0===this.serverType_)&&(e=1);const s=i.getResolution(t[0]);let o=i.getTileCoordExtent(t,this.tmpExtent_);const a=this.gutter_;0!==a&&(o=(0,pt.r)(o,s*a,o));const l=Object.assign({},xC(this.params_,"GetMap"));return this.getRequestUrl_(t,o,e,r,l)}},_6e=class x6e extends m6e{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:g6e,this.params_=t.params,this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(t,e,r,i){const s=(0,an.Jt)(r),o=this.getProjection();return o&&o!==s&&(e=M5(o,s,t,e),t=(0,an.pd)(t,s,o)),function w6e(n,t,e){if(void 0===n.url)return;const r=(0,an.Jt)(n.projection||"EPSG:3857"),i=(0,pt.Bg)(t,e,0,XU),s={QUERY_LAYERS:n.params.LAYERS,INFO_FORMAT:"application/json"};Object.assign(s,xC(n.params,"GetFeatureInfo"),n.params);const o=(0,Xn.RI)((t[0]-i[0])/e,4),a=(0,Xn.RI)((i[3]-t[1])/e,4),l=mE(s.VERSION,"1.3")>=0;return s[l?"I":"X"]=o,s[l?"J":"Y"]=a,YU(n.url,i,XU,r,s)}({url:this.url_,params:{...this.params_,...i},projection:o||s},t,e)}getLegendUrl(t,e){return function y6e(n,t){if(void 0===n.url)return;const e={SERVICE:"WMS",VERSION:bC,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===n.params||void 0===n.params.LAYER){const r=n.params.LAYERS;if(Array.isArray(r)&&1!==r.length)return;e.LAYER=r}if(void 0!==t){const r=(0,an.Jt)(n.projection||"EPSG:3857").getMetersPerUnit()||1;e.SCALE=t*r/28e-5}return Object.assign(e,n.params),gE(n.url,e)}({url:this.url_,params:{...this.params_,...e}},t)}getParams(){return this.params_}getImageInternal(t,e,r,i){return void 0===this.url_?null:((!this.loader||this.loaderProjection_!==i)&&(this.loaderProjection_=i,this.loader=function v6e(n){const t=void 0===n.hidpi||n.hidpi,e=(0,an.Jt)(n.projection||"EPSG:3857"),r=n.ratio||1.5,i=n.load||vW;return(s,o,a)=>{s=$U(s,o,a,r),1!=a&&(!t||void 0===n.serverType)&&(a=1);const l=KU(s,o,a,e,n.url,xC(n.params,"GetMap"),n.serverType),c=new Image;return null!==n.crossOrigin&&(c.crossOrigin=n.crossOrigin),i(c,l).then(u=>({image:u,extent:s,pixelRatio:a}))}}({crossOrigin:this.crossOrigin_,params:this.params_,projection:i,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(s,o)=>(this.image.setImage(s),this.imageLoadFunction_(this.image,o),vW(s))})),super.getImageInternal(t,e,r,i))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(t){this.imageLoadFunction_=t,this.changed()}setUrl(t){t!=this.url_&&(this.url_=t,this.loader=null,this.changed())}updateParams(t){Object.assign(this.params_,t),this.changed()}changed(){this.image=null,super.changed()}};var I6e=B(6358);new Ch,I6e(function S6e(n,t){const e=n.getLayers().getArray().filter(i=>i instanceof rg&&(i.getSource()instanceof b6e||i.getSource()instanceof _6e)).map(i=>i.getSource());if(!e.length)return Promise.resolve([]);const r=e.reduce((i,s)=>{const o=function E6e(n,t,e){var r;const i=t.getView(),s=i.getProjection(),o=i.getResolution(),a=Object.assign(Object.assign({},n.getParams()),{INFO_FORMAT:"application/json"});return null!==(r=n.getFeatureInfoUrl(e,o,s,a))&&void 0!==r?r:null}(s,n,t);return o?[...i,o]:i},[]);return Promise.all(r.map(i=>fetch(i).then(s=>s.json()).then(s=>s.features))).then(i=>i.flat())},250),new Wt("doNotUseDefaultBasemap",{factory:()=>!1}),new Wt("basemapLayers",{factory:()=>[]}),new Wt("mapViewConstraints",{factory:()=>({})}),new Wt("vectorStyleDefault",{factory:()=>({fill:{color:"rgba(255, 255, 255, 0.2)"},stroke:{color:"#ffcc33",width:2}})});let U8e=(()=>{class n{constructor(){this.choices=[{value:"asc,name",label:"organisations.sortBy.nameAsc"},{value:"desc,name",label:"organisations.sortBy.nameDesc"},{value:"asc,recordCount",label:"organisations.sortBy.recordCountAsc"},{value:"desc,recordCount",label:"organisations.sortBy.recordCountDesc"}],this.sortBy=new Zs,this.filterByValueChange=new yi,this.filterBy=this.filterByValueChange.pipe(function j8e(n,t=LI){return Si((e,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=t.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}e.subscribe(de(r,c=>{s=c,o=t.now(),i||(i=t.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(300))}selectOrderToDisplay(e){this.sortBy.emit(e.split(","))}filterOrganisations(e){this.filterByValueChange.next(e)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=bc({type:n,selectors:[["gn-ui-organisations-filter"]],outputs:{sortBy:"sortBy",filterBy:"filterBy"},standalone:!0,features:[Y2],decls:7,vars:9,consts:[[1,"flex","flex-wrap","sm:flex-nowrap","justify-between","bg-white","shadow-xl","p-5","rounded-lg"],[1,"grow","mb-4","mr-4","sm:mb-0","sm:mr-16","sm:max-w-sm"],[3,"valueChange","placeholder"],[1,"flex","flex-wrap","sm:flex-nowrap","sm:shrink-0"],[1,"shrink",3,"selectValue","title","choices","minWidth","showTitle"]],template:function(r,i){1&r&&(sa(0,"div",0)(1,"span",1)(2,"gn-ui-search-input",2),K2(3,"translate"),hu("valueChange",function(o){return i.filterOrganisations(o)}),va()(),sa(4,"span",3)(5,"gn-ui-dropdown-selector",4),K2(6,"translate"),hu("selectValue",function(o){return i.selectOrderToDisplay(o)}),va()()()),2&r&&(Ra(2),Ua("placeholder",q2(3,5,"organisation.filter.placeholder")),Ra(3),Ua("title",q2(6,7,"organisation.sort.sortBy"))("choices",i.choices)("minWidth","180px")("showTitle",!0))},dependencies:[Cge,fge,$k],encapsulation:2,changeDetection:0})}}return n})();new Wt("organization-url-token");const Z8e=(n,t,e,r,i,s)=>"groups"===n?new ehe(t,e,r,i):new Jde(t,e,r,s,i);let $8e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ta({type:n})}static{this.\u0275inj=fa({providers:[{provide:kB,useFactory:Z8e,deps:[the,Ry,pv,Aw,Rc,qv]}],imports:[vp,U8e,Efe]})}}return n})();new Wt("organization-page-url-token");let X8e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ta({type:n})}static{this.\u0275inj=fa({providers:[{provide:GB,useClass:nhe}],imports:[vp]})}}return n})();const _C={apiConfiguration:new Tn,textLanguage:"browser",metadataLanguage:null};let Y8e=(()=>{class n{constructor(e){if(this.injector=e,"GNUI"in window)return void console.error(`[geonetwork-ui] a 'GNUI' global already exists, GeoNetwork-UI Standalone Search v${EI} could not be loaded!`);const i=gt(gO),s=gt(qv);window.GNUI={recordsRepository:i,platformService:s,init:function r(o){_C.apiConfiguration.basePath=o.apiUrl,_C.metadataLanguage=o.metadataLanguage??null,uf(e,()=>{const a=gt(Rc);"browser"===o.textLanguage?a.use(a.getBrowserLang()):"string"==typeof o.textLanguage&&a.use(o.textLanguage)})}}}ngDoBootstrap(){console.log(`[geonetwork-ui] GeoNetwork-UI Standalone Search v${EI} loaded`)}static{this.\u0275fac=function(r){return new(r||n)($e(rr))}}static{this.\u0275mod=Ta({type:n})}static{this.\u0275inj=fa({providers:[{provide:Qk,useFactory:()=>_C.metadataLanguage},xk(),{provide:Tn,useValue:_C.apiConfiguration},[{provide:qv,useClass:_fe},{provide:gO,useClass:Xde},WB],Xse({...Kk,loader:{provide:mv,useClass:roe},defaultLanguage:Lw},!1),pi(ure,$8e,X8e)]})}}return n})();lre().bootstrapModule(Y8e).catch(n=>console.error(n))},6998:function(Pe,Ue,B){var Z,me;void 0!==(me="function"==typeof(Z=function(){"use strict";function oe(E,N,m,fe){this.message=E,this.expected=N,this.found=m,this.location=fe,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,oe)}return function ye(E,N){function m(){this.constructor=E}m.prototype=N.prototype,E.prototype=new m}(oe,Error),oe.buildMessage=function(E,N){var m={literal:function(X){return'"'+U(X.text)+'"'},class:function(X){var G,Q="";for(G=0;G<X.parts.length;G++)Q+=X.parts[G]instanceof Array?Ie(X.parts[G][0])+"-"+Ie(X.parts[G][1]):Ie(X.parts[G]);return"["+(X.inverted?"^":"")+Q+"]"},any:function(X){return"any character"},end:function(X){return"end of input"},other:function(X){return X.description}};function fe(X){return X.charCodeAt(0).toString(16).toUpperCase()}function U(X){return X.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(Q){return"\\x0"+fe(Q)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(Q){return"\\x"+fe(Q)})}function Ie(X){return X.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(Q){return"\\x0"+fe(Q)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(Q){return"\\x"+fe(Q)})}function J(X){return m[X.type](X)}return"Expected "+function ge(X){var G,F,Q=new Array(X.length);for(G=0;G<X.length;G++)Q[G]=J(X[G]);if(Q.sort(),Q.length>0){for(G=1,F=1;G<Q.length;G++)Q[G-1]!==Q[G]&&(Q[F]=Q[G],F++);Q.length=F}switch(Q.length){case 1:return Q[0];case 2:return Q[0]+" or "+Q[1];default:return Q.slice(0,-1).join(", ")+", or "+Q[Q.length-1]}}(E)+" but "+function R(X){return X?'"'+U(X)+'"':"end of input"}(N)+" found."},{SyntaxError:oe,parse:function pe(E,N){N=void 0!==N?N:{};var k1,m={},fe={turtleDoc:K0},U=K0,Ie=function(x){var P=pi.toJSON();return P["@graph"]=[],x.filter(te=>Array.isArray(te)).forEach(te=>{te.forEach(Ae=>{P["@graph"].push(Ae)})}),1===P["@graph"].length&&(Object.assign(P,P["@graph"][0]),delete P["@graph"]),P},J=".",ge=fr(".",!1),R=function(x){return x},X="#",Q=fr("#",!1),G=/^[^\n]/,F=Vi(["\n"],!0,!1),ae="\n",le=fr("\n",!1),Le=function(x){return x.join("")},he="@prefix",Be=fr("@prefix",!1),we=function(x,P){return pi.addPrefix(""===x?"0":x,P),{}},Ne="@base",Ke=fr("@base",!1),at=function(x){return pi.addBase(x),{}},z=/^[Bb]/,re=Vi(["B","b"],!1,!1),_e=/^[Aa]/,Ge=Vi(["A","a"],!1,!1),rt=/^[Ss]/,et=Vi(["S","s"],!1,!1),W=/^[Ee]/,O=Vi(["E","e"],!1,!1),Ce=/^[Pp]/,je=Vi(["P","p"],!1,!1),Ye=/^[Rr]/,vt=Vi(["R","r"],!1,!1),ft=/^[Ff]/,At=Vi(["F","f"],!1,!1),Ft=/^[Ii]/,Kt=Vi(["I","i"],!1,!1),Bt=/^[Xx]/,dn=Vi(["X","x"],!1,!1),xn=function(x,P){var te={};return"string"==typeof x&&"[]"!==x?te["@id"]=x:"object"==typeof x&&Object.assign(te,x),P&&Object.assign(te,P),[te]},jn=function(x,P){var te={};return x&&Object.assign(te,x),P&&Object.assign(te,P),[te]},Jt=";",tn=fr(";",!1),Me=function(x,P,te,Ae){var Ve={};return Ve[te]=Ae,Ve},it=function(x,P,te){return te},ut=function(x,P,te){var Ae={};return te.unshift(function xc(x,P){var te={};return te[x]=P,te}(x,P)),te.forEach(Ve=>{Ve&&Object.keys(Ve).forEach(Je=>{Ve[Je].forEach(tt=>{"@type"===Je&&void 0!==tt["@id"]&&(tt=tt["@id"]),void 0===Ae[Je]?Ae[Je]=tt:Array.isArray(Ae[Je])?Ae[Je].push(tt):Ae[Je]=[Ae[Je],tt]})})}),Ae},Pt=",",Qt=fr(",",!1),Jn=function(x,P){return P},or=function(x,P){return P.unshift(x),P},In="a",Sn=fr("a",!1),er=function(){return"@type"},li=function(x){return Fu(x,!0)},Cr=function(x){return Fu(x,!1)},fi=function(x){return"[]"===x?{}:{"@id":x}},q=function(x){return{"@id":x}},T="[",V=fr("[",!1),ze="]",be=fr("]",!1),Oe="(",Xe=fr("(",!1),Ct=")",We=fr(")",!1),qe=function(x){return{"@list":x}},kt=function(x,P){return{"@value":x,"@language":P}},nn="^^",mn=fr("^^",!1),vn=function(x,P){if("http://www.w3.org/2001/XMLSchema#boolean"===P&&"true"===x)return!0;if("http://www.w3.org/2001/XMLSchema#boolean"===P&&"false"===x)return!1;if("http://www.w3.org/2001/XMLSchema#integer"===P)return parseInt(x);if("http://www.w3.org/2001/XMLSchema#double"===P)return parseFloat(x);const te=pi.resolve(P,!0);if(te){const Ae=P.split(":")[0];if("http://www.w3.org/2001/XMLSchema#boolean"===te&&"true"===x)return pi.decrement(Ae),!0;if("http://www.w3.org/2001/XMLSchema#boolean"===te&&"false"===x)return pi.decrement(Ae),!1;if("http://www.w3.org/2001/XMLSchema#integer"===te)return pi.decrement(Ae),parseInt(x);if("http://www.w3.org/2001/XMLSchema#double"===te)return pi.decrement(Ae),parseFloat(x)}return{"@value":x,"@type":P}},jr="true",fs=fr("true",!1),Di=function(){return!0},kr="false",nl=fr("false",!1),Ln=function(){return!1},Vs=function(x){return x+":"},Il="<",yi=fr("<",!1),da=/^[^\0- <>"{}|\^`\\]/,ha=Vi([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),rl=">",Si=fr(">",!1),de=function(x){const P=x.map(Ae=>65536<=Ae.codePointAt(0)&&Ae.codePointAt(0)<=983039?"a":1===Ae.length?Ae:6===Ae.length?String.fromCharCode("0x"+Ae.substring(2)):10===Ae.length?String.fromCodePoint("0x"+Ae.substring(2)):Ae).join("");if(P.match(/^[^\u0000-\u0020<>"{}|^`\\]*$/)){var te=x.join("");try{return pi.resolve(te)}catch{Nd("Invalid IRIREF "+te)}}else Nd("Invalid IRIREF "+x.join("")+" / "+P)},xe=":",Te=fr(":",!1),bt=function(x){return!1===pi.hasPrefix(x=x||"0")&&Nd("undefined prefix "+x),x},$t=function(x){return x||""},Mt=function(x,P){return pi.increment(x),pi.resolve(x+":"+P)},cr="_:",cs=fr("_:",!1),Qr=/^[0-9]/,Fr=Vi([["0","9"]],!1,!1),Js="@",Co=fr("@",!1),ps=/^[a-zA-Z]/,Gs=Vi([["a","z"],["A","Z"]],!1,!1),qi="-",gs=fr("-",!1),Gt=/^[a-zA-Z0-9]/,ei=Vi([["a","z"],["A","Z"],["0","9"]],!1,!1),Ms=function(x,P){return"-"+P.join("")},ts=function(x,P){return x.join("")+P.join("")},An=/^[+\-]/,zo=Vi(["+","-"],!1,!1),Ig=function(x){return x.match(/^[0+][0-9]+$/)?{"@value":x,"@type":"http://www.w3.org/2001/XMLSchema#integer"}:parseInt(x)},Ci=function(x){return{"@value":x,"@type":"http://www.w3.org/2001/XMLSchema#decimal"}},F0=function(x){return{"@value":x,"@type":"http://www.w3.org/2001/XMLSchema#double"}},ks=/^[eE]/,_1=Vi(["e","E"],!1,!1),I1='"',A1=fr('"',!1),Eu=/^[^"\\\n\r]/,Qn=Vi(['"',"\\","\n","\r"],!0,!1),il="'",so=fr("'",!1),Ed=/^[^'\\\n\r]/,Sd=Vi(["'","\\","\n","\r"],!0,!1),Td="'''",Es=fr("'''",!1),sl=/^[^'\\]/,ol=Vi(["'","\\"],!0,!1),M1="''",Jc=fr("''",!1),Ro=function(x,P){return"''"+P.join("")},Ia=function(x,P){return"'"+P.join("")},Qc=function(x,P){return x.join("")+P.join("")},mc='"""',Ko=fr('"""',!1),zn=/^[^"\\]/,Al=Vi(['"',"\\"],!0,!1),E1='""',zd=fr('""',!1),e2=function(x,P){return'""'+P.join("")},P0=function(x,P){return'"'+P.join("")},Vt="\\U",Ag=fr("\\U",!1),fa=function(x){return String.fromCodePoint(parseInt(x.join(""),16))},Su="\\u",B0=fr("\\u",!1),t2=function(x){return String.fromCharCode(parseInt(x.join(""),16))},Rd="\\t",S1=fr("\\t",!1),T1=function(){return"\t"},z1="\\b",vc=fr("\\b",!1),N0=function(){return"\b"},Wt="\\n",Ld=fr("\\n",!1),R1=function(){return"\n"},L1="\\r",H1=fr("\\r",!1),O0=function(){return"\r"},D1="\\f",Mg=fr("\\f",!1),Eg=function(){return"\f"},G0='\\"',Sg=fr('\\"',!1),Hd=function(){return'"'},Kl="\\'",ql=fr("\\'",!1),Dd=function(){return"'"},Tu="\\\\",Ml=fr("\\\\",!1),zu=function(){return"\\"},n2=/^[ \t\r\n]/,ur=Vi([" ","\t","\r","\n"],!1,!1),Xr=function(){return"[]"},W0=/^[\uD800-\uDBFF]/,qo=Vi([["\ud800","\udbff"]],!1,!1),j0=/^[\uDC00-\uDFFF]/,Tg=Vi([["\udc00","\udfff"]],!1,!1),Vd=function(x,P){return x+P},kd=/^[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Ur=Vi([["A","Z"],["a","z"],["\xc0","\xd6"],["\xd8","\xf6"],["\xf8","\u02ff"],["\u0370","\u037d"],["\u037f","\u1fff"],["\u200c","\u200d"],["\u2070","\u218f"],["\u2c00","\u2fef"],["\u3001","\ud7ff"],["\uf900","\ufdcf"],["\ufdf0","\ufffd"]],!1,!1),V1="_",r2=fr("_",!1),Jo="\xb7",s2=fr("\xb7",!1),zg=/^[\u0300-\u036F]/,Fd=Vi([["\u0300","\u036f"]],!1,!1),Ru=/^[\u203F-\u2040]/,Pd=Vi([["\u203f","\u2040"]],!1,!1),Lu=function(x,P,te,Ae){return te.join("")+Ae.join("")},U0=function(x,P,te){return x+P.join("")+te.join("")},Z0="%",Bd=fr("%",!1),o2=/^[0-9A-Fa-f]/,eu=Vi([["0","9"],["A","F"],["a","f"]],!1,!1),$0="\\",Jl=fr("\\",!1),X0=/^[_~.!$&'()*+,;=\/?#@%\-]/,$e=Vi(["_","~",".","!","$","&","'","(",")","*","+",",",";","=","/","?","#","@","%","-"],!1,!1),_=0,gt=0,wc=[{line:1,column:1}],Aa=0,yc=[],wt=0;if("startRule"in N){if(!(N.startRule in fe))throw new Error("Can't start parsing from rule \""+N.startRule+'".');U=fe[N.startRule]}function Nd(x,P){throw function F1(x,P){return new oe(x,null,null,P)}(x,P=void 0!==P?P:nu(gt,_))}function fr(x,P){return{type:"literal",text:x,ignoreCase:P}}function Vi(x,P,te){return{type:"class",parts:x,inverted:P,ignoreCase:te}}function Ma(x){var te,P=wc[x];if(P)return P;for(te=x-1;!wc[te];)te--;for(P={line:(P=wc[te]).line,column:P.column};te<x;)10===E.charCodeAt(te)?(P.line++,P.column=1):P.column++,te++;return wc[x]=P,P}function nu(x,P){var te=Ma(x),Ae=Ma(P);return{start:{offset:x,line:te.line,column:te.column},end:{offset:P,line:Ae.line,column:Ae.column}}}function mt(x){_<Aa||(_>Aa&&(Aa=_,yc=[]),yc.push(x))}function K0(){var x,P,te,Ae;for(x=_,P=[],te=Od();te!==m;)P.push(te),te=Od();if(P!==m){for(te=[],Ae=en();Ae!==m;)te.push(Ae),Ae=en();te!==m?(gt=x,x=P=Ie(P)):(_=x,x=m)}else _=x,x=m;return x}function Od(){var x,P,te,Ae;if((x=function Gd(){var x;return(x=function ru(){var x,P,te,Ae,Ve,Je,tt,ke,hn;for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();if(P!==m)if(E.substr(_,7)===he?(te=he,_+=7):(te=m,0===wt&&mt(Be)),te!==m){for(Ae=[],Ve=en();Ve!==m;)Ae.push(Ve),Ve=en();if(Ae!==m)if((Ve=Sa())!==m){for(Je=[],tt=en();tt!==m;)Je.push(tt),tt=en();if(Je!==m)if((tt=ku())!==m){for(ke=[],hn=en();hn!==m;)ke.push(hn),hn=en();ke!==m?(46===E.charCodeAt(_)?(hn=J,_++):(hn=m,0===wt&&mt(ge)),hn!==m?(gt=x,x=P=we(Ve,tt)):(_=x,x=m)):(_=x,x=m)}else _=x,x=m;else _=x,x=m}else _=x,x=m;else _=x,x=m}else _=x,x=m;else _=x,x=m;return x}())===m&&(x=function Dg(){var x,P,te,Ae,Ve,Je,tt;for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();if(P!==m)if(E.substr(_,5)===Ne?(te=Ne,_+=5):(te=m,0===wt&&mt(Ke)),te!==m){for(Ae=[],Ve=en();Ve!==m;)Ae.push(Ve),Ve=en();if(Ae!==m)if((Ve=ku())!==m){for(Je=[],tt=en();tt!==m;)Je.push(tt),tt=en();Je!==m?(46===E.charCodeAt(_)?(tt=J,_++):(tt=m,0===wt&&mt(ge)),tt!==m?(gt=x,x=P=at(Ve)):(_=x,x=m)):(_=x,x=m)}else _=x,x=m;else _=x,x=m}else _=x,x=m;else _=x,x=m;return x}())===m&&(x=function al(){var x,P,te,Ae,Ve,Je,tt,ke,hn,Ti,Sl,ll;for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();if(P!==m)if(Ce.test(E.charAt(_))?(te=E.charAt(_),_++):(te=m,0===wt&&mt(je)),te!==m)if(Ye.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(vt)),Ae!==m)if(W.test(E.charAt(_))?(Ve=E.charAt(_),_++):(Ve=m,0===wt&&mt(O)),Ve!==m)if(ft.test(E.charAt(_))?(Je=E.charAt(_),_++):(Je=m,0===wt&&mt(At)),Je!==m)if(Ft.test(E.charAt(_))?(tt=E.charAt(_),_++):(tt=m,0===wt&&mt(Kt)),tt!==m)if(Bt.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(dn)),ke!==m){for(hn=[],Ti=en();Ti!==m;)hn.push(Ti),Ti=en();if(hn!==m)if((Ti=Sa())!==m){for(Sl=[],ll=en();ll!==m;)Sl.push(ll),ll=en();Sl!==m&&(ll=ku())!==m?(gt=x,x=P=we(Ti,ll)):(_=x,x=m)}else _=x,x=m;else _=x,x=m}else _=x,x=m;else _=x,x=m;else _=x,x=m;else _=x,x=m;else _=x,x=m;else _=x,x=m;else _=x,x=m;return x}())===m&&(x=function l2(){var x,P,te,Ae,Ve,Je,tt,ke;for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();if(P!==m)if(z.test(E.charAt(_))?(te=E.charAt(_),_++):(te=m,0===wt&&mt(re)),te!==m)if(_e.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(Ge)),Ae!==m)if(rt.test(E.charAt(_))?(Ve=E.charAt(_),_++):(Ve=m,0===wt&&mt(et)),Ve!==m)if(W.test(E.charAt(_))?(Je=E.charAt(_),_++):(Je=m,0===wt&&mt(O)),Je!==m){for(tt=[],ke=en();ke!==m;)tt.push(ke),ke=en();tt!==m&&(ke=ku())!==m?(gt=x,x=P=at(ke)):(_=x,x=m)}else _=x,x=m;else _=x,x=m;else _=x,x=m;else _=x,x=m;else _=x,x=m;return x}()),x}())===m)if(x=_,(P=function ti(){var x,P,te;return x=_,(P=function Ql(){var x,P;return x=_,(P=Ba())!==m&&(gt=x,P=li(P)),(x=P)===m&&(x=Na())===m&&(x=Vu()),x}())!==m&&(te=Pa())!==m?(gt=x,x=P=xn(P,te)):(_=x,x=m),x===m&&(x=_,(P=Cc())!==m?((te=Pa())===m&&(te=null),te!==m?(gt=x,x=P=jn(P,te)):(_=x,x=m)):(_=x,x=m)),x}())!==m){for(te=[],Ae=en();Ae!==m;)te.push(Ae),Ae=en();te!==m?(46===E.charCodeAt(_)?(Ae=J,_++):(Ae=m,0===wt&&mt(ge)),Ae!==m?(gt=x,x=P=R(P)):(_=x,x=m)):(_=x,x=m)}else _=x,x=m;return x}function en(){var x;return(x=function Ta(){var x;return n2.test(E.charAt(_))?(x=E.charAt(_),_++):(x=m,0===wt&&mt(ur)),x}())===m&&(x=function Hg(){var x,P,te,Ae;if(x=_,35===E.charCodeAt(_)?(P=X,_++):(P=m,0===wt&&mt(Q)),P!==m){for(te=[],G.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(F));Ae!==m;)te.push(Ae),G.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(F));te!==m?(10===E.charCodeAt(_)?(Ae=ae,_++):(Ae=m,0===wt&&mt(le)),Ae!==m?(gt=x,x=P=Le(te)):(_=x,x=m)):(_=x,x=m)}else _=x,x=m;return x}()),x}function Pa(){var x,P,te,Ae,Ve,Je,tt,ke,hn,Ti;if(x=_,(P=Ws())!==m)if((te=B1())!==m){for(Ae=[],Ve=_,Je=[],tt=en();tt!==m;)Je.push(tt),tt=en();for(Je!==m?(59===E.charCodeAt(_)?(tt=Jt,_++):(tt=m,0===wt&&mt(tn)),tt!==m?(ke=_,(hn=Ws())!==m&&(Ti=B1())!==m?(gt=ke,ke=hn=Me(P,te,hn,Ti)):(_=ke,ke=m),ke===m&&(ke=null),ke!==m?(gt=Ve,Ve=Je=it(P,te,ke)):(_=Ve,Ve=m)):(_=Ve,Ve=m)):(_=Ve,Ve=m);Ve!==m;){for(Ae.push(Ve),Ve=_,Je=[],tt=en();tt!==m;)Je.push(tt),tt=en();Je!==m?(59===E.charCodeAt(_)?(tt=Jt,_++):(tt=m,0===wt&&mt(tn)),tt!==m?(ke=_,(hn=Ws())!==m&&(Ti=B1())!==m?(gt=ke,ke=hn=Me(P,te,hn,Ti)):(_=ke,ke=m),ke===m&&(ke=null),ke!==m?(gt=Ve,Ve=Je=it(P,te,ke)):(_=Ve,Ve=m)):(_=Ve,Ve=m)):(_=Ve,Ve=m)}Ae!==m?(gt=x,x=P=ut(P,te,Ae)):(_=x,x=m)}else _=x,x=m;else _=x,x=m;return x}function B1(){var x,P,te,Ae,Ve,Je,tt;if(x=_,(P=js())!==m){for(te=[],Ae=_,Ve=[],Je=en();Je!==m;)Ve.push(Je),Je=en();for(Ve!==m?(44===E.charCodeAt(_)?(Je=Pt,_++):(Je=m,0===wt&&mt(Qt)),Je!==m&&(tt=js())!==m?(gt=Ae,Ae=Ve=Jn(P,tt)):(_=Ae,Ae=m)):(_=Ae,Ae=m);Ae!==m;){for(te.push(Ae),Ae=_,Ve=[],Je=en();Je!==m;)Ve.push(Je),Je=en();Ve!==m?(44===E.charCodeAt(_)?(Je=Pt,_++):(Je=m,0===wt&&mt(Qt)),Je!==m&&(tt=js())!==m?(gt=Ae,Ae=Ve=Jn(P,tt)):(_=Ae,Ae=m)):(_=Ae,Ae=m)}te!==m?(gt=x,x=P=or(P,te)):(_=x,x=m)}else _=x,x=m;return x}function Ws(){var x,P,te;if(x=_,(P=function ec(){var x,P,te;for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();return P!==m&&(te=Vu())!==m?(gt=x,x=P=R(te)):(_=x,x=m),x}())!==m&&(gt=x,P=R(P)),(x=P)===m){for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();P!==m?(97===E.charCodeAt(_)?(te=In,_++):(te=m,0===wt&&mt(Sn)),te!==m?(gt=x,x=P=er()):(_=x,x=m)):(_=x,x=m)}return x}function js(){var x,P;return(x=function Ea(){var x;return(x=function c2(){var x,P,te,Ae,Ve,Je,tt;for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();if(P!==m)if((te=N1())!==m){for(Ae=[],Ve=en();Ve!==m;)Ae.push(Ve),Ve=en();Ae!==m&&(Ve=function Q0(){var x,P,te,Ae,Ve,Je,tt,ke;if(x=_,64===E.charCodeAt(_)?(P=Js,_++):(P=m,0===wt&&mt(Co)),P!==m){if(te=[],ps.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(Gs)),Ae!==m)for(;Ae!==m;)te.push(Ae),ps.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(Gs));else te=m;if(te!==m){if(Ae=[],Ve=_,45===E.charCodeAt(_)?(Je=qi,_++):(Je=m,0===wt&&mt(gs)),Je!==m){if(tt=[],Gt.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(ei)),ke!==m)for(;ke!==m;)tt.push(ke),Gt.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(ei));else tt=m;tt!==m?(gt=Ve,Ve=Je=Ms(te,tt)):(_=Ve,Ve=m)}else _=Ve,Ve=m;for(;Ve!==m;)if(Ae.push(Ve),Ve=_,45===E.charCodeAt(_)?(Je=qi,_++):(Je=m,0===wt&&mt(gs)),Je!==m){if(tt=[],Gt.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(ei)),ke!==m)for(;ke!==m;)tt.push(ke),Gt.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(ei));else tt=m;tt!==m?(gt=Ve,Ve=Je=Ms(te,tt)):(_=Ve,Ve=m)}else _=Ve,Ve=m;Ae!==m?(gt=x,x=P=ts(te,Ae)):(_=x,x=m)}else _=x,x=m}else _=x,x=m;return x}())!==m?(gt=x,x=P=kt(te,Ve)):(_=x,x=m)}else _=x,x=m;else _=x,x=m;if(x===m){for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();if(P!==m)if((te=N1())!==m){for(Ae=[],Ve=en();Ve!==m;)Ae.push(Ve),Ve=en();if(Ae!==m)if(E.substr(_,2)===nn?(Ve=nn,_+=2):(Ve=m,0===wt&&mt(mn)),Ve!==m){for(Je=[],tt=en();tt!==m;)Je.push(tt),tt=en();Je!==m&&(tt=Vu())!==m?(gt=x,x=P=vn(te,tt)):(_=x,x=m)}else _=x,x=m;else _=x,x=m}else _=x,x=m;else _=x,x=m;if(x===m){for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();P!==m&&(te=N1())!==m?(gt=x,x=P=R(te)):(_=x,x=m)}}return x}())===m&&(x=function Hu(){var x,P,te;for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();return P!==m?((te=function nf(){var x,P,te,Ae,Ve,Je,tt,ke,hn;if(x=_,P=_,te=_,An.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(zo)),Ae===m&&(Ae=null),Ae!==m){if(Ve=_,Je=[],Qr.test(E.charAt(_))?(tt=E.charAt(_),_++):(tt=m,0===wt&&mt(Fr)),tt!==m)for(;tt!==m;)Je.push(tt),Qr.test(E.charAt(_))?(tt=E.charAt(_),_++):(tt=m,0===wt&&mt(Fr));else Je=m;if(Je!==m)if(46===E.charCodeAt(_)?(tt=J,_++):(tt=m,0===wt&&mt(ge)),tt!==m){for(ke=[],Qr.test(E.charAt(_))?(hn=E.charAt(_),_++):(hn=m,0===wt&&mt(Fr));hn!==m;)ke.push(hn),Qr.test(E.charAt(_))?(hn=E.charAt(_),_++):(hn=m,0===wt&&mt(Fr));ke!==m&&(hn=O1())!==m?Ve=Je=[Je,tt,ke,hn]:(_=Ve,Ve=m)}else _=Ve,Ve=m;else _=Ve,Ve=m;if(Ve===m){if(Ve=_,46===E.charCodeAt(_)?(Je=J,_++):(Je=m,0===wt&&mt(ge)),Je!==m){if(tt=[],Qr.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(Fr)),ke!==m)for(;ke!==m;)tt.push(ke),Qr.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(Fr));else tt=m;tt!==m&&(ke=O1())!==m?Ve=Je=[Je,tt,ke]:(_=Ve,Ve=m)}else _=Ve,Ve=m;if(Ve===m){if(Ve=_,Je=[],Qr.test(E.charAt(_))?(tt=E.charAt(_),_++):(tt=m,0===wt&&mt(Fr)),tt!==m)for(;tt!==m;)Je.push(tt),Qr.test(E.charAt(_))?(tt=E.charAt(_),_++):(tt=m,0===wt&&mt(Fr));else Je=m;Je!==m&&(tt=O1())!==m?Ve=Je=[Je,tt]:(_=Ve,Ve=m)}}Ve!==m?te=Ae=[Ae,Ve]:(_=te,te=m)}else _=te,te=m;return(P=te!==m?E.substring(P,_):te)!==m&&(gt=x,P=F0(P)),P}())===m&&(te=function tf(){var x,P,te,Ae,Ve,Je,tt,ke;if(x=_,P=_,te=_,An.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(zo)),Ae===m&&(Ae=null),Ae!==m){for(Ve=[],Qr.test(E.charAt(_))?(Je=E.charAt(_),_++):(Je=m,0===wt&&mt(Fr));Je!==m;)Ve.push(Je),Qr.test(E.charAt(_))?(Je=E.charAt(_),_++):(Je=m,0===wt&&mt(Fr));if(Ve!==m)if(46===E.charCodeAt(_)?(Je=J,_++):(Je=m,0===wt&&mt(ge)),Je!==m){if(tt=[],Qr.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(Fr)),ke!==m)for(;ke!==m;)tt.push(ke),Qr.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(Fr));else tt=m;tt!==m?te=Ae=[Ae,Ve,Je,tt]:(_=te,te=m)}else _=te,te=m;else _=te,te=m}else _=te,te=m;return(P=te!==m?E.substring(P,_):te)!==m&&(gt=x,P=Ci(P)),P}())===m&&(te=function ef(){var x,P,te,Ae,Ve,Je;if(x=_,P=_,te=_,An.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(zo)),Ae===m&&(Ae=null),Ae!==m){if(Ve=[],Qr.test(E.charAt(_))?(Je=E.charAt(_),_++):(Je=m,0===wt&&mt(Fr)),Je!==m)for(;Je!==m;)Ve.push(Je),Qr.test(E.charAt(_))?(Je=E.charAt(_),_++):(Je=m,0===wt&&mt(Fr));else Ve=m;Ve!==m?te=Ae=[Ae,Ve]:(_=te,te=m)}else _=te,te=m;return(P=te!==m?E.substring(P,_):te)!==m&&(gt=x,P=Ig(P)),P}()),te!==m?(gt=x,x=P=R(te)):(_=x,x=m)):(_=x,x=m),x}())===m&&(x=function Du(){var x,P,te;for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();if(P!==m?(E.substr(_,4)===jr?(te=jr,_+=4):(te=m,0===wt&&mt(fs)),te!==m?(gt=x,x=P=Di()):(_=x,x=m)):(_=x,x=m),x===m){for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();P!==m?(E.substr(_,5)===kr?(te=kr,_+=5):(te=m,0===wt&&mt(nl)),te!==m?(gt=x,x=P=Ln()):(_=x,x=m)):(_=x,x=m)}return x}()),x}())===m&&(x=_,(P=Ba())!==m&&(gt=x,P=Cr(P)),(x=P)===m&&(x=_,(P=Na())!==m&&(gt=x,P=fi(P)),(x=P)===m&&(x=_,(P=Cc())!==m&&(gt=x,P=R(P)),(x=P)===m&&(x=_,(P=Vu())!==m&&(gt=x,P=q(P)),x=P)))),x}function Cc(){var x,P,te,Ae,Ve,Je;for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();if(P!==m)if(91===E.charCodeAt(_)?(te=T,_++):(te=m,0===wt&&mt(V)),te!==m)if((Ae=Pa())!==m){for(Ve=[],Je=en();Je!==m;)Ve.push(Je),Je=en();Ve!==m?(93===E.charCodeAt(_)?(Je=ze,_++):(Je=m,0===wt&&mt(be)),Je!==m?(gt=x,x=P=R(Ae)):(_=x,x=m)):(_=x,x=m)}else _=x,x=m;else _=x,x=m;else _=x,x=m;return x}function Ba(){var x,P,te,Ae,Ve,Je;for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();if(P!==m)if(40===E.charCodeAt(_)?(te=Oe,_++):(te=m,0===wt&&mt(Xe)),te!==m){for(Ae=[],Ve=js();Ve!==m;)Ae.push(Ve),Ve=js();if(Ae!==m){for(Ve=[],Je=en();Je!==m;)Ve.push(Je),Je=en();Ve!==m?(41===E.charCodeAt(_)?(Je=Ct,_++):(Je=m,0===wt&&mt(We)),Je!==m?(gt=x,x=P=qe(Ae)):(_=x,x=m)):(_=x,x=m)}else _=x,x=m}else _=x,x=m;else _=x,x=m;return x}function N1(){var x,P,te;for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();return P!==m?((te=function af(){var x,P,te,Ae,Ve,Je,tt,ke;if(x=_,E.substr(_,3)===Td?(P=Td,_+=3):(P=m,0===wt&&mt(Es)),P!==m){for(te=[],sl.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(ol)),Ae===m&&(Ae=ns())===m&&(Ae=ji());Ae!==m;)te.push(Ae),sl.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(ol)),Ae===m&&(Ae=ns())===m&&(Ae=ji());if(te!==m){if(Ae=[],Ve=_,E.substr(_,2)===M1?(Je=M1,_+=2):(Je=m,0===wt&&mt(Jc)),Je!==m){if(tt=[],sl.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(ol)),ke===m&&(ke=ns())===m&&(ke=ji()),ke!==m)for(;ke!==m;)tt.push(ke),sl.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(ol)),ke===m&&(ke=ns())===m&&(ke=ji());else tt=m;tt!==m?(gt=Ve,Ve=Je=Ro(te,tt)):(_=Ve,Ve=m)}else _=Ve,Ve=m;if(Ve===m)if(Ve=_,39===E.charCodeAt(_)?(Je=il,_++):(Je=m,0===wt&&mt(so)),Je!==m){if(tt=[],sl.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(ol)),ke===m&&(ke=ns())===m&&(ke=ji()),ke!==m)for(;ke!==m;)tt.push(ke),sl.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(ol)),ke===m&&(ke=ns())===m&&(ke=ji());else tt=m;tt!==m?(gt=Ve,Ve=Je=Ia(te,tt)):(_=Ve,Ve=m)}else _=Ve,Ve=m;for(;Ve!==m;){if(Ae.push(Ve),Ve=_,E.substr(_,2)===M1?(Je=M1,_+=2):(Je=m,0===wt&&mt(Jc)),Je!==m){if(tt=[],sl.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(ol)),ke===m&&(ke=ns())===m&&(ke=ji()),ke!==m)for(;ke!==m;)tt.push(ke),sl.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(ol)),ke===m&&(ke=ns())===m&&(ke=ji());else tt=m;tt!==m?(gt=Ve,Ve=Je=Ro(te,tt)):(_=Ve,Ve=m)}else _=Ve,Ve=m;if(Ve===m)if(Ve=_,39===E.charCodeAt(_)?(Je=il,_++):(Je=m,0===wt&&mt(so)),Je!==m){if(tt=[],sl.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(ol)),ke===m&&(ke=ns())===m&&(ke=ji()),ke!==m)for(;ke!==m;)tt.push(ke),sl.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(ol)),ke===m&&(ke=ns())===m&&(ke=ji());else tt=m;tt!==m?(gt=Ve,Ve=Je=Ia(te,tt)):(_=Ve,Ve=m)}else _=Ve,Ve=m}Ae!==m?(E.substr(_,3)===Td?(Ve=Td,_+=3):(Ve=m,0===wt&&mt(Es)),Ve!==m?(gt=x,x=P=Qc(te,Ae)):(_=x,x=m)):(_=x,x=m)}else _=x,x=m}else _=x,x=m;return x}())===m&&(te=function bc(){var x,P,te,Ae,Ve,Je,tt,ke;if(x=_,E.substr(_,3)===mc?(P=mc,_+=3):(P=m,0===wt&&mt(Ko)),P!==m){for(te=[],zn.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(Al)),Ae===m&&(Ae=ns())===m&&(Ae=ji());Ae!==m;)te.push(Ae),zn.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(Al)),Ae===m&&(Ae=ns())===m&&(Ae=ji());if(te!==m){if(Ae=[],Ve=_,E.substr(_,2)===E1?(Je=E1,_+=2):(Je=m,0===wt&&mt(zd)),Je!==m){if(tt=[],zn.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(Al)),ke===m&&(ke=ns())===m&&(ke=ji()),ke!==m)for(;ke!==m;)tt.push(ke),zn.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(Al)),ke===m&&(ke=ns())===m&&(ke=ji());else tt=m;tt!==m?(gt=Ve,Ve=Je=e2(te,tt)):(_=Ve,Ve=m)}else _=Ve,Ve=m;if(Ve===m)if(Ve=_,34===E.charCodeAt(_)?(Je=I1,_++):(Je=m,0===wt&&mt(A1)),Je!==m){if(tt=[],zn.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(Al)),ke===m&&(ke=ns())===m&&(ke=ji()),ke!==m)for(;ke!==m;)tt.push(ke),zn.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(Al)),ke===m&&(ke=ns())===m&&(ke=ji());else tt=m;tt!==m?(gt=Ve,Ve=Je=P0(te,tt)):(_=Ve,Ve=m)}else _=Ve,Ve=m;for(;Ve!==m;){if(Ae.push(Ve),Ve=_,E.substr(_,2)===E1?(Je=E1,_+=2):(Je=m,0===wt&&mt(zd)),Je!==m){if(tt=[],zn.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(Al)),ke===m&&(ke=ns())===m&&(ke=ji()),ke!==m)for(;ke!==m;)tt.push(ke),zn.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(Al)),ke===m&&(ke=ns())===m&&(ke=ji());else tt=m;tt!==m?(gt=Ve,Ve=Je=e2(te,tt)):(_=Ve,Ve=m)}else _=Ve,Ve=m;if(Ve===m)if(Ve=_,34===E.charCodeAt(_)?(Je=I1,_++):(Je=m,0===wt&&mt(A1)),Je!==m){if(tt=[],zn.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(Al)),ke===m&&(ke=ns())===m&&(ke=ji()),ke!==m)for(;ke!==m;)tt.push(ke),zn.test(E.charAt(_))?(ke=E.charAt(_),_++):(ke=m,0===wt&&mt(Al)),ke===m&&(ke=ns())===m&&(ke=ji());else tt=m;tt!==m?(gt=Ve,Ve=Je=P0(te,tt)):(_=Ve,Ve=m)}else _=Ve,Ve=m}Ae!==m?(E.substr(_,3)===mc?(Ve=mc,_+=3):(Ve=m,0===wt&&mt(Ko)),Ve!==m?(gt=x,x=P=Qc(te,Ae)):(_=x,x=m)):(_=x,x=m)}else _=x,x=m}else _=x,x=m;return x}())===m&&(te=function sf(){var x,P,te,Ae;if(x=_,39===E.charCodeAt(_)?(P=il,_++):(P=m,0===wt&&mt(so)),P!==m){for(te=[],Ed.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(Sd)),Ae===m&&(Ae=ns())===m&&(Ae=ji());Ae!==m;)te.push(Ae),Ed.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(Sd)),Ae===m&&(Ae=ns())===m&&(Ae=ji());te!==m?(39===E.charCodeAt(_)?(Ae=il,_++):(Ae=m,0===wt&&mt(so)),Ae!==m?(gt=x,x=P=Le(te)):(_=x,x=m)):(_=x,x=m)}else _=x,x=m;return x}())===m&&(te=function rf(){var x,P,te,Ae;if(x=_,34===E.charCodeAt(_)?(P=I1,_++):(P=m,0===wt&&mt(A1)),P!==m){for(te=[],Eu.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(Qn)),Ae===m&&(Ae=ns())===m&&(Ae=ji());Ae!==m;)te.push(Ae),Eu.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(Qn)),Ae===m&&(Ae=ns())===m&&(Ae=ji());te!==m?(34===E.charCodeAt(_)?(Ae=I1,_++):(Ae=m,0===wt&&mt(A1)),Ae!==m?(gt=x,x=P=Le(te)):(_=x,x=m)):(_=x,x=m)}else _=x,x=m;return x}()),te!==m?(gt=x,x=P=R(te)):(_=x,x=m)):(_=x,x=m),x}function Vu(){var x,P,te;for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();if(P!==m&&(te=ku())!==m?(gt=x,x=P=R(te)):(_=x,x=m),x===m){for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();P!==m&&(te=function q0(){var x,P;return(x=function J0(){var x,P,te;return x=_,(P=u2())!==m&&(te=function ao(){var x,P,te,Ae,Ve,Je,tt,ke;if(x=_,(P=oo())===m&&(58===E.charCodeAt(_)?(P=xe,_++):(P=m,0===wt&&mt(Te)),P===m&&(Qr.test(E.charAt(_))?(P=E.charAt(_),_++):(P=m,0===wt&&mt(Fr)),P===m&&(P=pa()))),P!==m){for(te=[],(Ae=Bn())===m&&(58===E.charCodeAt(_)?(Ae=xe,_++):(Ae=m,0===wt&&mt(Te)),Ae===m&&(Ae=pa()));Ae!==m;)te.push(Ae),(Ae=Bn())===m&&(58===E.charCodeAt(_)?(Ae=xe,_++):(Ae=m,0===wt&&mt(Te)),Ae===m&&(Ae=pa()));if(te!==m){if(Ae=[],Ve=_,Je=[],46===E.charCodeAt(_)?(tt=J,_++):(tt=m,0===wt&&mt(ge)),tt!==m)for(;tt!==m;)Je.push(tt),46===E.charCodeAt(_)?(tt=J,_++):(tt=m,0===wt&&mt(ge));else Je=m;if(Je!==m){if(tt=[],(ke=Bn())===m&&(58===E.charCodeAt(_)?(ke=xe,_++):(ke=m,0===wt&&mt(Te)),ke===m&&(ke=pa())),ke!==m)for(;ke!==m;)tt.push(ke),(ke=Bn())===m&&(58===E.charCodeAt(_)?(ke=xe,_++):(ke=m,0===wt&&mt(Te)),ke===m&&(ke=pa()));else tt=m;tt!==m?(gt=Ve,Ve=Je=Lu(P,te,Je,tt)):(_=Ve,Ve=m)}else _=Ve,Ve=m;for(;Ve!==m;){if(Ae.push(Ve),Ve=_,Je=[],46===E.charCodeAt(_)?(tt=J,_++):(tt=m,0===wt&&mt(ge)),tt!==m)for(;tt!==m;)Je.push(tt),46===E.charCodeAt(_)?(tt=J,_++):(tt=m,0===wt&&mt(ge));else Je=m;if(Je!==m){if(tt=[],(ke=Bn())===m&&(58===E.charCodeAt(_)?(ke=xe,_++):(ke=m,0===wt&&mt(Te)),ke===m&&(ke=pa())),ke!==m)for(;ke!==m;)tt.push(ke),(ke=Bn())===m&&(58===E.charCodeAt(_)?(ke=xe,_++):(ke=m,0===wt&&mt(Te)),ke===m&&(ke=pa()));else tt=m;tt!==m?(gt=Ve,Ve=Je=Lu(P,te,Je,tt)):(_=Ve,Ve=m)}else _=Ve,Ve=m}Ae!==m?(gt=x,x=P=U0(P,te,Ae)):(_=x,x=m)}else _=x,x=m}else _=x,x=m;return x}())!==m?(gt=x,x=P=Mt(P,te)):(_=x,x=m),x}())===m&&(x=_,(P=u2())!==m&&(gt=x,P=Vs(P)),x=P),x}())!==m?(gt=x,x=P=R(te)):(_=x,x=m)}return x}function Na(){var x,P,te;for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();if(P!==m&&(te=function d2(){var x,P,te,Ae,Ve,Je,tt,ke,hn,Ti;if(x=_,P=_,E.substr(_,2)===cr?(te=cr,_+=2):(te=m,0===wt&&mt(cs)),te!==m)if((Ae=oo())===m&&(Qr.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(Fr))),Ae!==m){for(Ve=[],Je=Bn();Je!==m;)Ve.push(Je),Je=Bn();if(Ve!==m){if(Je=[],tt=_,ke=[],46===E.charCodeAt(_)?(hn=J,_++):(hn=m,0===wt&&mt(ge)),hn!==m)for(;hn!==m;)ke.push(hn),46===E.charCodeAt(_)?(hn=J,_++):(hn=m,0===wt&&mt(ge));else ke=m;if(ke!==m){if(hn=[],(Ti=Bn())!==m)for(;Ti!==m;)hn.push(Ti),Ti=Bn();else hn=m;hn!==m?tt=ke=[ke,hn]:(_=tt,tt=m)}else _=tt,tt=m;for(;tt!==m;){if(Je.push(tt),tt=_,ke=[],46===E.charCodeAt(_)?(hn=J,_++):(hn=m,0===wt&&mt(ge)),hn!==m)for(;hn!==m;)ke.push(hn),46===E.charCodeAt(_)?(hn=J,_++):(hn=m,0===wt&&mt(ge));else ke=m;if(ke!==m){if(hn=[],(Ti=Bn())!==m)for(;Ti!==m;)hn.push(Ti),Ti=Bn();else hn=m;hn!==m?tt=ke=[ke,hn]:(_=tt,tt=m)}else _=tt,tt=m}Je!==m?P=te=[te,Ae,Ve,Je]:(_=P,P=m)}else _=P,P=m}else _=P,P=m;else _=P,P=m;return P!==m?E.substring(x,_):P}())!==m?(gt=x,x=P=R(te)):(_=x,x=m),x===m){for(x=_,P=[],te=en();te!==m;)P.push(te),te=en();P!==m&&(te=function El(){var x,P,te,Ae;if(x=_,91===E.charCodeAt(_)?(P=T,_++):(P=m,0===wt&&mt(V)),P!==m){for(te=[],Ae=en();Ae!==m;)te.push(Ae),Ae=en();te!==m?(93===E.charCodeAt(_)?(Ae=ze,_++):(Ae=m,0===wt&&mt(be)),Ae!==m?(gt=x,x=P=Xr()):(_=x,x=m)):(_=x,x=m)}else _=x,x=m;return x}())!==m?(gt=x,x=P=R(te)):(_=x,x=m)}return x}function ku(){var x,P,te,Ae;if(x=_,60===E.charCodeAt(_)?(P=Il,_++):(P=m,0===wt&&mt(yi)),P!==m){for(te=[],da.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(ha)),Ae===m&&(Ae=ji());Ae!==m;)te.push(Ae),da.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(ha)),Ae===m&&(Ae=ji());te!==m?(62===E.charCodeAt(_)?(Ae=rl,_++):(Ae=m,0===wt&&mt(Si)),Ae!==m?(gt=x,x=P=de(te)):(_=x,x=m)):(_=x,x=m)}else _=x,x=m;return x}function u2(){var x,P,te;return x=_,(P=Fs())===m&&(P=null),P!==m?(58===E.charCodeAt(_)?(te=xe,_++):(te=m,0===wt&&mt(Te)),te!==m?(gt=x,x=P=bt(P)):(_=x,x=m)):(_=x,x=m),x}function Sa(){var x,P,te;return x=_,(P=Fs())===m&&(P=null),P!==m?(58===E.charCodeAt(_)?(te=xe,_++):(te=m,0===wt&&mt(Te)),te!==m?(gt=x,x=P=$t(P)):(_=x,x=m)):(_=x,x=m),x}function O1(){var x,P,te,Ae,Ve,Je;if(x=_,P=_,ks.test(E.charAt(_))?(te=E.charAt(_),_++):(te=m,0===wt&&mt(_1)),te!==m)if(An.test(E.charAt(_))?(Ae=E.charAt(_),_++):(Ae=m,0===wt&&mt(zo)),Ae===m&&(Ae=null),Ae!==m){if(Ve=[],Qr.test(E.charAt(_))?(Je=E.charAt(_),_++):(Je=m,0===wt&&mt(Fr)),Je!==m)for(;Je!==m;)Ve.push(Je),Qr.test(E.charAt(_))?(Je=E.charAt(_),_++):(Je=m,0===wt&&mt(Fr));else Ve=m;Ve!==m?P=te=[te,Ae,Ve]:(_=P,P=m)}else _=P,P=m;else _=P,P=m;return P!==m?E.substring(x,_):P}function ji(){var x,P,te,Ae,Ve,Je,tt,ke,hn,Ti,Sl;return x=_,E.substr(_,2)===Vt?(P=Vt,_+=2):(P=m,0===wt&&mt(Ag)),P!==m?(te=_,(Ae=Ho())!==m&&(Ve=Ho())!==m&&(Je=Ho())!==m&&(tt=Ho())!==m&&(ke=Ho())!==m&&(hn=Ho())!==m&&(Ti=Ho())!==m&&(Sl=Ho())!==m?te=Ae=[Ae,Ve,Je,tt,ke,hn,Ti,Sl]:(_=te,te=m),te!==m?(gt=x,x=P=fa(te)):(_=x,x=m)):(_=x,x=m),x===m&&(x=_,E.substr(_,2)===Su?(P=Su,_+=2):(P=m,0===wt&&mt(B0)),P!==m?(te=_,(Ae=Ho())!==m&&(Ve=Ho())!==m&&(Je=Ho())!==m&&(tt=Ho())!==m?te=Ae=[Ae,Ve,Je,tt]:(_=te,te=m),te!==m?(gt=x,x=P=t2(te)):(_=x,x=m)):(_=x,x=m)),x}function ns(){var x,P;return x=_,E.substr(_,2)===Rd?(P=Rd,_+=2):(P=m,0===wt&&mt(S1)),P!==m&&(gt=x,P=T1()),(x=P)===m&&(x=_,E.substr(_,2)===z1?(P=z1,_+=2):(P=m,0===wt&&mt(vc)),P!==m&&(gt=x,P=N0()),(x=P)===m&&(x=_,E.substr(_,2)===Wt?(P=Wt,_+=2):(P=m,0===wt&&mt(Ld)),P!==m&&(gt=x,P=R1()),(x=P)===m&&(x=_,E.substr(_,2)===L1?(P=L1,_+=2):(P=m,0===wt&&mt(H1)),P!==m&&(gt=x,P=O0()),(x=P)===m&&(x=_,E.substr(_,2)===D1?(P=D1,_+=2):(P=m,0===wt&&mt(Mg)),P!==m&&(gt=x,P=Eg()),(x=P)===m&&(x=_,E.substr(_,2)===G0?(P=G0,_+=2):(P=m,0===wt&&mt(Sg)),P!==m&&(gt=x,P=Hd()),(x=P)===m&&(x=_,E.substr(_,2)===Kl?(P=Kl,_+=2):(P=m,0===wt&&mt(ql)),P!==m&&(gt=x,P=Dd()),(x=P)===m&&(x=_,E.substr(_,2)===Tu?(P=Tu,_+=2):(P=m,0===wt&&mt(Ml)),P!==m&&(gt=x,P=zu()),x=P))))))),x}function Lo(){var x,P,te;return x=_,W0.test(E.charAt(_))?(P=E.charAt(_),_++):(P=m,0===wt&&mt(qo)),P!==m?(j0.test(E.charAt(_))?(te=E.charAt(_),_++):(te=m,0===wt&&mt(Tg)),te!==m?(gt=x,x=P=Vd(P,te)):(_=x,x=m)):(_=x,x=m),x===m&&(kd.test(E.charAt(_))?(x=E.charAt(_),_++):(x=m,0===wt&&mt(Ur))),x}function oo(){var x;return(x=Lo())===m&&(95===E.charCodeAt(_)?(x=V1,_++):(x=m,0===wt&&mt(r2))),x}function Bn(){var x;return(x=oo())===m&&(45===E.charCodeAt(_)?(x=qi,_++):(x=m,0===wt&&mt(gs)),x===m&&(Qr.test(E.charAt(_))?(x=E.charAt(_),_++):(x=m,0===wt&&mt(Fr)),x===m&&(183===E.charCodeAt(_)?(x=Jo,_++):(x=m,0===wt&&mt(s2)),x===m&&(zg.test(E.charAt(_))?(x=E.charAt(_),_++):(x=m,0===wt&&mt(Fd)),x===m&&(Ru.test(E.charAt(_))?(x=E.charAt(_),_++):(x=m,0===wt&&mt(Pd))))))),x}function Fs(){var x,P,te,Ae,Ve,Je,tt,ke,hn;if(x=_,P=_,(te=Lo())!==m){for(Ae=[],Ve=Bn();Ve!==m;)Ae.push(Ve),Ve=Bn();if(Ae!==m){if(Ve=[],Je=_,tt=[],46===E.charCodeAt(_)?(ke=J,_++):(ke=m,0===wt&&mt(ge)),ke!==m)for(;ke!==m;)tt.push(ke),46===E.charCodeAt(_)?(ke=J,_++):(ke=m,0===wt&&mt(ge));else tt=m;if(tt!==m){if(ke=[],(hn=Bn())!==m)for(;hn!==m;)ke.push(hn),hn=Bn();else ke=m;ke!==m?Je=tt=[tt,ke]:(_=Je,Je=m)}else _=Je,Je=m;for(;Je!==m;){if(Ve.push(Je),Je=_,tt=[],46===E.charCodeAt(_)?(ke=J,_++):(ke=m,0===wt&&mt(ge)),ke!==m)for(;ke!==m;)tt.push(ke),46===E.charCodeAt(_)?(ke=J,_++):(ke=m,0===wt&&mt(ge));else tt=m;if(tt!==m){if(ke=[],(hn=Bn())!==m)for(;hn!==m;)ke.push(hn),hn=Bn();else ke=m;ke!==m?Je=tt=[tt,ke]:(_=Je,Je=m)}else _=Je,Je=m}Ve!==m?P=te=[te,Ae,Ve]:(_=P,P=m)}else _=P,P=m}else _=P,P=m;return P!==m?E.substring(x,_):P}function pa(){var x;return(x=function bo(){var x,P,te,Ae,Ve;return x=_,P=_,37===E.charCodeAt(_)?(te=Z0,_++):(te=m,0===wt&&mt(Bd)),te!==m&&(Ae=Ho())!==m&&(Ve=Ho())!==m?P=te=[te,Ae,Ve]:(_=P,P=m),P!==m?E.substring(x,_):P}())===m&&(x=function h2(){var x,P,te;return x=_,92===E.charCodeAt(_)?(P=$0,_++):(P=m,0===wt&&mt(Jl)),P!==m?(X0.test(E.charAt(_))?(te=E.charAt(_),_++):(te=m,0===wt&&mt($e)),te!==m?(gt=x,x=P=R(te)):(_=x,x=m)):(_=x,x=m),x}()),x}function Ho(){var x;return o2.test(E.charAt(_))?(x=E.charAt(_),_++):(x=m,0===wt&&mt(eu)),x}var f2=new Function("try {return this===window;}catch(e){ return false;}")()?window.URL:B(1391).URL,p2=function(x){return x.match(/^[a-z](.*?):(.+?)/g)},pi={base:[],data:{},addBase:function(x){if(0===pi.base.length)return void pi.base.push(x);const P=pi.base[pi.base.length-1];P!==x&&pi.base.push(new f2(x,P).toString())},addPrefix:function(x,P){const te=pi.data[x];void 0===te?pi.data[x]=[{uri:P,count:0}]:te[te.length-1].uri!==P&&te.push({uri:P,count:0})},hasPrefix:function(x){return void 0!==this.data[x]},resolve:function(x,P){const te=Object.keys(pi.data).find(Ve=>0===x.indexOf(Ve+":"));if(void 0!==te){const Ve=pi.data[te];return 1===Ve.length&&!0!==P&&p2(Ve[0].uri)?x:x.replace(te+":",Ve[Ve.length-1].uri)}var Ae=0===pi.base.length?N.baseIRI:pi.base[pi.base.length-1];return!Ae||x.match(/^(http:|https:|urn:|file:)/)?x:0===x.indexOf("//")&&Ae?Ae.split("//")[0]+x:new f2(x,Ae).toString()},increment:function(x){const P=pi.data[x];void 0!==P&&P[P.length-1].count++},decrement:function(x){const P=pi.data[x];void 0!==P&&P[P.length-1].count--},toJSON:function(){const x={};return pi.base.length>0&&(void 0===x["@context"]&&(x["@context"]={}),x["@context"]["@base"]=pi.base[0]),Object.keys(pi.data).forEach(P=>{const te=pi.data[P][0];"http://www.w3.org/2001/XMLSchema#"===te.uri&&te.count<1||p2(te.uri)&&(void 0===x["@context"]&&(x["@context"]={}),x["@context"][P]=te.uri)}),x}};function Fu(x,P){if(void 0===x["@list"]||!P&&!x["@list"].find(Ve=>void 0!==Ve["@list"]))return x;if(0===x["@list"].length)return{"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};var te={},Ae=null;return x["@list"].forEach(Ve=>{null===Ae?Ae=te:(Ae["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={},Ae=Ae["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]),Ae["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"]=Fu(Ve,!0),Ae["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}),te}if((k1=U())!==m&&_===E.length)return k1;throw k1!==m&&_<E.length&&mt({type:"end"}),function P1(x,P,te){return new oe(oe.buildMessage(x,P),x,P,te)}(yc,Aa<E.length?E.charAt(Aa):null,nu(Aa,Aa<E.length?Aa+1:Aa))}}})?Z.apply(Ue,[]):Z)&&(Pe.exports=me)},517:function(Pe){Pe.exports=function(){"use strict";var Ue=function(){return Ue=Object.assign||function(A){for(var M,S=1,k=arguments.length;S<k;S++)for(var ue in M=arguments[S])Object.prototype.hasOwnProperty.call(M,ue)&&(A[ue]=M[ue]);return A},Ue.apply(this,arguments)};function B(y){var A="function"==typeof Symbol&&Symbol.iterator,M=A&&y[A],S=0;if(M)return M.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&S>=y.length&&(y=void 0),{value:y&&y[S++],done:!y}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(y,A){var M="function"==typeof Symbol&&y[Symbol.iterator];if(!M)return y;var k,He,S=M.call(y),ue=[];try{for(;(void 0===A||A-- >0)&&!(k=S.next()).done;)ue.push(k.value)}catch(lt){He={error:lt}}finally{try{k&&!k.done&&(M=S.return)&&M.call(S)}finally{if(He)throw He.error}}return ue}function ee(y,A,M){if(M||2===arguments.length)for(var ue,S=0,k=A.length;S<k;S++)(ue||!(S in A))&&(ue||(ue=Array.prototype.slice.call(A,0,S)),ue[S]=A[S]);return y.concat(ue||Array.prototype.slice.call(A))}"function"==typeof SuppressedError&&SuppressedError;class me extends Error{constructor(A,M,S){super(A),this.token=M,this.type=S||"error"}}const ye=y=>y<4?"short":4===y?"long":"narrow",oe=y=>y%2==0?"2-digit":"numeric";function E(y,A){switch(y.width){case 1:return"numeric";case 2:return"2-digit";case 3:return"short";case 4:return"long";case 5:return"narrow";default:return void A(`${y.desc} is not supported with width ${y.width}`)}}function N(y,A){const{char:M,desc:S,width:k}=y;if("d"===M)return oe(k);A(`${S} is not supported`)}function m(y,A){const{char:M,desc:S,width:k}=y;return("c"===M||"e"===M)&&k<3&&A(`Numeric value is not supported for ${S}; falling back to weekday:short`,me.WARNING),ye(k)}function U(y,A){const{char:M,desc:S,width:k}=y;switch(M){case"v":case"z":return 4===k?"long":"short";case"V":return 4===k?"long":void A(`${S} is not supported with width ${k}`);case"X":return void A(`${S} is not supported`)}return"short"}function Ie(y,A){switch(y.field){case"era":return{era:ye(y.width)};case"year":return function pe(y,A){switch(y.char){case"y":return{year:oe(y.width)};case"r":return{calendar:"gregory",year:"numeric"};default:return A(`${y.desc} is not supported; falling back to year:numeric`,me.WARNING),{year:"numeric"}}}(y,A);case"month":return{month:E(y,A)};case"day":return{day:N(y,A)};case"weekday":return{weekday:m(y,A)};case"period":return;case"hour":return function fe(y){const A=oe(y.width);let M;switch(y.char){case"h":M="h12";break;case"H":M="h23";break;case"k":M="h24";break;case"K":M="h11"}return M?{hour:A,hourCycle:M}:{hour:A}}(y);case"min":return{minute:oe(y.width)};case"sec":return{second:oe(y.width)};case"tz":return{timeZoneName:U(y,A)};case"quarter":case"week":case"sec-frac":case"ms":A(`${y.desc} is not supported`)}}function J(y,A){let M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue=>{throw ue};const S={timeZone:A},k=[];for(const ue of y){const{error:He,field:lt,str:St}=ue;if(He){const Hn=new me(He.message,ue);Hn.stack=He.stack,M(Hn)}St&&M(new me(`Ignoring string part: ${St}`,ue,me.WARNING)),lt&&(-1===k.indexOf(lt)?k.push(lt):M(new me(`Duplicate ${lt} token`,ue)));const rn=Ie(ue,(Hn,pr)=>M(new me(Hn,ue,pr)));rn&&Object.assign(S,rn)}return S}const ge={G:{field:"era",desc:"Era"},y:{field:"year",desc:"Year"},Y:{field:"year",desc:'Year of "Week of Year"'},u:{field:"year",desc:"Extended year"},U:{field:"year",desc:"Cyclic year name"},r:{field:"year",desc:"Related Gregorian year"},Q:{field:"quarter",desc:"Quarter"},q:{field:"quarter",desc:"Stand-alone quarter"},M:{field:"month",desc:"Month in year"},L:{field:"month",desc:"Stand-alone month in year"},w:{field:"week",desc:"Week of year"},W:{field:"week",desc:"Week of month"},d:{field:"day",desc:"Day in month"},D:{field:"day",desc:"Day of year"},F:{field:"day",desc:"Day of week in month"},g:{field:"day",desc:"Modified julian day"},E:{field:"weekday",desc:"Day of week"},e:{field:"weekday",desc:"Local day of week"},c:{field:"weekday",desc:"Stand-alone local day of week"},a:{field:"period",desc:"AM/PM marker"},b:{field:"period",desc:"AM/PM/noon/midnight marker"},B:{field:"period",desc:"Flexible day period"},h:{field:"hour",desc:"Hour in AM/PM (1~12)"},H:{field:"hour",desc:"Hour in day (0~23)"},k:{field:"hour",desc:"Hour in day (1~24)"},K:{field:"hour",desc:"Hour in AM/PM (0~11)"},j:{field:"hour",desc:"Hour in preferred cycle"},J:{field:"hour",desc:"Hour in preferred cycle without marker"},C:{field:"hour",desc:"Hour in preferred cycle with flexible marker"},m:{field:"min",desc:"Minute in hour"},s:{field:"sec",desc:"Second in minute"},S:{field:"sec-frac",desc:"Fractional second"},A:{field:"ms",desc:"Milliseconds in day"},z:{field:"tz",desc:"Time Zone: specific non-location"},Z:{field:"tz",desc:"Time Zone"},O:{field:"tz",desc:"Time Zone: localized"},v:{field:"tz",desc:"Time Zone: generic non-location"},V:{field:"tz",desc:"Time Zone: ID"},X:{field:"tz",desc:"Time Zone: ISO8601 with Z"},x:{field:"tz",desc:"Time Zone: ISO8601"}},R=y=>y>="A"&&y<="Z"||y>="a"&&y<="z";function G(y,A){const M=y[A];if(!M)return null;if(R(M))return function X(y,A){const M=y[A];let S=1;for(;y[++A]===M;)++S;const k=ge[M];return k?{char:M,field:k.field,desc:k.desc,width:S}:{char:M,error:new Error(`The letter ${M} is not a valid field identifier`),width:S}}(y,A);if("'"===M)return function Q(y,A){let M=y[++A],S=2;if("'"===M)return{char:"'",str:M,width:S};for(;;){const k=y[++A];if(++S,void 0===k)return{char:"'",error:new Error(`Unterminated quoted literal in pattern: ${M||y}`),str:M,width:S};if("'"===k){if("'"!==y[++A])return{char:"'",str:M,width:S};++S}M+=k}}(y,A);let S=M,k=1;for(;;){const ue=y[++A];if(!ue||R(ue)||"'"===ue)return{char:M,str:S,width:k};S+=ue,k+=1}}function F(y){const A=[];let M=0;for(;;){const S=G(y,M);if(!S)return A;A.push(S),M+=S.width}}class Le extends Error{constructor(A,M){super(M),this.code=A}}class he extends Le{constructor(A,M){super("BAD_OPTION",`Unknown ${A} option: ${M}`),this.stem=A,this.option=M}}class Be extends Le{constructor(A){super("BAD_STEM",`Unknown stem: ${A}`),this.stem=A}}class we extends Le{constructor(A,M){super("MASKED_VALUE",`Value for ${A} is set multiple times`),this.type=A,this.prev=M}}class Ne extends Le{constructor(A){super("MISSING_OPTION",`Required option missing for ${A}`),this.stem=A}}class Ke extends Le{constructor(A,M){super("BAD_PATTERN",M),this.char=A}}class at extends Le{constructor(A,M,S){super("TOO_MANY_OPTIONS",`Token ${A} only supports ${S>1?`${S} options`:"one option"} (got ${M.length})`),this.stem=A,this.options=M}}class z extends Le{constructor(A,M){super("UNSUPPORTED",`The stem ${A} is not supported`),this.stem=A,M&&(this.message+=` with value ${M}`,this.source=M)}}function re(y,A){let{numberingSystem:M}=A;return Array.isArray(y)||(y=[y]),M?y.map(S=>{const k=-1===S.indexOf("-u-")?"u-nu":"nu";return`${S}-${k}-${M}`}).concat(y):y}function Ge(y){let{scale:A,unit:M}=y,S="number"==typeof A&&A>=0?A:1;return M&&"percent"===M.style&&(S*=.01),S}function W(y,A){const{decimal:M,group:S,integerWidth:k,notation:ue,precision:He,roundingMode:lt,sign:St,unit:rn,unitPer:Hn,unitWidth:pr}=y,xr=(Ui,Ss)=>{A&&A(new z(Ui,Ss))},yn={};if(rn)switch(rn.style){case"base-unit":yn.style="decimal";break;case"currency":yn.style="currency",yn.currency=rn.currency;break;case"measure-unit":yn.style="unit",yn.unit=rn.unit.replace(/.*-/,""),Hn&&(yn.unit+="-per-"+Hn.replace(/.*-/,""));break;case"percent":yn.style="percent";break;case"permille":xr("permille")}switch(pr){case"unit-width-full-name":yn.currencyDisplay="name",yn.unitDisplay="long";break;case"unit-width-hidden":xr(pr);break;case"unit-width-iso-code":yn.currencyDisplay="code";break;case"unit-width-narrow":yn.currencyDisplay="narrowSymbol",yn.unitDisplay="narrow";break;case"unit-width-short":yn.currencyDisplay="symbol",yn.unitDisplay="short"}switch(S){case"group-off":yn.useGrouping=!1;break;case"group-auto":yn.useGrouping=!0;break;case"group-min2":case"group-on-aligned":case"group-thousands":xr(S),yn.useGrouping=!0}if(He)switch(He.style){case"precision-fraction":{const{minFraction:Ui,maxFraction:Ss,minSignificant:eo,maxSignificant:ma,source:Ll}=He;"number"==typeof Ui&&(yn.minimumFractionDigits=Ui,"number"==typeof eo&&xr("precision-fraction",Ll)),"number"==typeof Ss&&(yn.maximumFractionDigits=Ss),"number"==typeof eo&&(yn.minimumSignificantDigits=eo),"number"==typeof ma&&(yn.maximumSignificantDigits=ma);break}case"precision-integer":yn.maximumFractionDigits=0;break;case"precision-unlimited":yn.maximumFractionDigits=20;break;case"precision-increment":break;case"precision-currency-standard":yn.trailingZeroDisplay=He.trailingZero;break;case"precision-currency-cash":xr(He.style)}if(ue)switch(ue.style){case"compact-short":yn.notation="compact",yn.compactDisplay="short";break;case"compact-long":yn.notation="compact",yn.compactDisplay="long";break;case"notation-simple":yn.notation="standard";break;case"scientific":case"engineering":{const{expDigits:Ui,expSign:Ss,source:eo,style:ma}=ue;yn.notation=ma,(Ui&&Ui>1||Ss&&"sign-auto"!==Ss)&&xr(ma,eo);break}}if(k){const{min:Ui,max:Ss,source:eo}=k;Ui>0&&(yn.minimumIntegerDigits=Ui),Number(Ss)>0&&(3!==Ss||"engineering"!==yn.notation&&"scientific"!==yn.notation?xr("integer-width",eo):yn.notation="engineering")}switch(St){case"sign-auto":yn.signDisplay="auto";break;case"sign-always":yn.signDisplay="always";break;case"sign-except-zero":yn.signDisplay="exceptZero";break;case"sign-never":yn.signDisplay="never";break;case"sign-accounting":yn.currencySign="accounting";break;case"sign-accounting-always":yn.currencySign="accounting",yn.signDisplay="always";break;case"sign-accounting-except-zero":yn.currencySign="accounting",yn.signDisplay="exceptZero"}return"decimal-always"===M&&xr(M),lt&&xr(lt),yn}function O(y,A,M){const S=y[A];switch(S){case"%":return{char:"%",style:"percent",width:1};case"\u2030":return{char:"%",style:"permille",width:1};case"\xa4":{let k=1;for(;"\xa4"===y[++A];)++k;switch(k){case 1:return{char:S,currency:"default",width:k};case 2:return{char:S,currency:"iso-code",width:k};case 3:return{char:S,currency:"full-name",width:k};case 5:return{char:S,currency:"narrow",width:k};default:return M(new Ke("\xa4",`Invalid number (${k}) of \xa4 chars in pattern`)),null}}case"*":{const k=y[A+1];if(k)return{char:S,pad:k,width:2};break}case"+":case"-":return{char:S,width:1};case"'":{let k=y[++A],ue=2;if("'"===k)return{char:S,str:k,width:ue};for(;;){const He=y[++A];if(++ue,void 0===He)return M(new Ke("'",`Unterminated quoted literal in pattern: ${k}`)),{char:S,str:k,width:ue};if("'"===He){if("'"!==y[++A])return{char:S,str:k,width:ue};++ue}k+=He}}}return null}const Ce=y=>y>="0"&&y<="9";function je(y,A){const M=y[A];if(Ce(M)){let S=M;for(;;){const k=y[++A];if(!Ce(k))return{char:"0",digits:S,width:S.length};S+=k}}switch(M){case"#":{let S=1;for(;"#"===y[++A];)++S;return{char:M,width:S}}case"@":{let S=1;for(;"@"===y[++A];)++S;let k=S;for(A-=1;"#"===y[++A];)++k;return{char:M,min:S,width:k}}case"E":{const S="+"===y[A+1];S&&++A;let k=0;for(;"0"===y[++A];)++k;if(k)return{char:M,expDigits:k,plus:S,width:(S?2:1)+k};break}case".":case",":return{char:M,width:1}}return null}function Ye(y,A,M){let S;var rn;(rn=S||(S={}))[rn.Prefix=0]="Prefix",rn[rn.Number=1]="Number",rn[rn.Suffix=2]="Suffix";const k=[],ue=[],He=[];let lt=S.Prefix,St="";for(;A<y.length;){const rn=y[A];if(";"===rn){A+=1;break}switch(lt){case S.Prefix:{const Hn=O(y,A,M);if(Hn)St&&(k.push({char:"'",str:St,width:St.length}),St=""),k.push(Hn),A+=Hn.width;else{const pr=je(y,A);pr?(St&&(k.push({char:"'",str:St,width:St.length}),St=""),lt=S.Number,ue.push(pr),A+=pr.width):(St+=rn,A+=1)}break}case S.Number:{const Hn=je(y,A);Hn?(ue.push(Hn),A+=Hn.width):lt=S.Suffix;break}case S.Suffix:{const Hn=O(y,A,M);Hn?(St&&(He.push({char:"'",str:St,width:St.length}),St=""),He.push(Hn),A+=Hn.width):(St+=rn,A+=1);break}}}return St&&He.push({char:"'",str:St,width:St.length}),{pattern:{prefix:k,number:ue,suffix:He},pos:A}}function At(y,A,M,S,k){let ue=!1,He="";for(const lt of y)switch(lt.char){case"%":A.unit={style:lt.style},k?ue=!0:He="";break;case"\xa4":if(!M){S(new Ke("\xa4","The \xa4 pattern requires a currency"));break}switch(A.unit={style:"currency",currency:M},lt.currency){case"iso-code":A.unitWidth="unit-width-iso-code";break;case"full-name":A.unitWidth="unit-width-full-name";break;case"narrow":A.unitWidth="unit-width-narrow"}k?ue=!0:He="";break;case"*":break;case"+":ue||(He+="+");break;case"'":ue||(He+=lt.str)}return He}function Ft(y,A){let M=!1,S="";for(const k of y)switch(k.char){case"%":case"\xa4":A?M=!0:S="";break;case"-":M||(S+="-");break;case"'":M||(S+=k.str)}return S}function Kt(y,A){let M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:St=>{throw St};const{tokens:S,negative:k}=function vt(y,A){const{pattern:M,pos:S}=Ye(y,0,A);if(S<y.length){const{pattern:k}=Ye(y,S,A);return{tokens:M,negative:k}}return{tokens:M}}(y,M),ue=function ft(y,A){const M={};let S=!1,k=!1,ue=0,He="",lt=-1,St="",rn=0;for(let pr=0;pr<y.length;++pr){const xr=y[pr];switch(xr.char){case"#":-1===lt?(He&&A(new Ke("#","Pattern has # after integer digits")),ue+=xr.width):rn+=xr.width;break;case"0":-1===lt?He+=xr.digits:(rn&&A(new Ke("0","Pattern has digits after # in fraction")),St+=xr.digits);break;case"@":M.precision&&A(new we("precision",M.precision)),M.precision={style:"precision-fraction",minSignificant:xr.min,maxSignificant:xr.width};break;case",":S=!0;break;case".":1===lt&&A(new Ke(".","Pattern has more than one decimal separator")),lt=pr;break;case"E":k&&A(new we("exponent",M.notation)),S&&A(new Ke("E","Exponential patterns may not contain grouping separators")),M.notation={style:"scientific"},xr.expDigits>1&&(M.notation.expDigits=xr.expDigits),xr.plus&&(M.notation.expSign="sign-always"),k=!0}}S?M.group="group-auto":ue+He.length>3&&(M.group="group-off");const Hn=+`${He||"0"}.${St}`;if(Hn&&(M.precision={style:"precision-increment",increment:Hn}),k)if((!M.precision||Hn)&&(M.integerWidth=ue?{min:1,max:ue+He.length}:{min:Math.max(1,He.length)}),M.precision)Hn||(M.integerWidth={min:1,max:1});else{const pr=He.length+St.length;-1===lt?pr>0&&(M.precision={style:"precision-fraction",maxSignificant:pr}):(M.precision={style:"precision-fraction",maxSignificant:Math.max(1,pr)+rn},pr>1&&(M.precision.minSignificant=pr))}else He.length>1&&(M.integerWidth={min:He.length}),!M.precision&&(St.length||rn)&&(M.precision={style:"precision-fraction",minFraction:St.length,maxFraction:St.length+rn});return M}(S.number,M),He=At(S.prefix,ue,A,M,!0),lt=At(S.suffix,ue,A,M,!1);if(k){const St=Ft(k.prefix,!0),rn=Ft(k.suffix,!1);ue.affix={pos:[He,lt],neg:[St,rn]},ue.sign="sign-never"}else(He||lt)&&(ue.affix={pos:[He,lt]});return ue}function dn(y){const[M]=y.split("-",1);return-1!==["acceleration","angle","area","concentr","consumption","digital","duration","electric","energy","force","frequency","graphics","length","light","mass","power","pressure","speed","temperature","torque","volume"].indexOf(M)}const xn={"compact-short":0,"compact-long":0,"notation-simple":0,scientific:2,engineering:2,percent:0,permille:0,"base-unit":0,currency:1,"measure-unit":1,"per-measure-unit":1,"unit-width-narrow":0,"unit-width-short":0,"unit-width-full-name":0,"unit-width-iso-code":0,"unit-width-hidden":0,"precision-integer":0,"precision-unlimited":0,"precision-currency-standard":1,"precision-currency-cash":0,"precision-increment":1,"rounding-mode-ceiling":0,"rounding-mode-floor":0,"rounding-mode-down":0,"rounding-mode-up":0,"rounding-mode-half-even":0,"rounding-mode-half-down":0,"rounding-mode-half-up":0,"rounding-mode-unnecessary":0,"integer-width":1,scale:1,"group-off":0,"group-min2":0,"group-auto":0,"group-on-aligned":0,"group-thousands":0,latin:0,"numbering-system":1,"sign-auto":0,"sign-always":0,"sign-never":0,"sign-accounting":0,"sign-accounting-always":0,"sign-except-zero":0,"sign-accounting-except-zero":0,"decimal-auto":0,"decimal-always":0},jn={currency:1,"integer-width":1,"measure-unit":1,"numbering-system":1,"per-measure-unit":1,"precision-increment":1,scale:1};function Me(y,A,M){if(function Jt(y){return y in xn}(y)){const S=xn[y];if(A.length>S){if(0===S)for(const k of A)M(new he(y,k));else M(new at(y,A,S));return!1}if(function tn(y){return y in jn}(y)&&A.length<jn[y])return M(new Ne(y)),!1}return!0}function it(y,A){const S=y&&y.match("fraction"===A?/^\.(0*)(\+|#*)$/:/^(@+)(\+|#*)$/);if(S){const k=S[1].length;switch(S[2].charAt(0)){case"":return{min:k,max:k};case"+":return{min:k,max:null};case"#":return{min:k,max:k+S[2].length}}}return null}class Pt{constructor(A){this.skeleton={},this.onError=A}badOption(A,M){this.onError(new he(A,M))}assertEmpty(A){const M=this.skeleton[A];M&&this.onError(new we(A,M))}parseToken(A,M){if(!Me(A,M,this.onError))return;const S=M[0],k=this.skeleton;switch(A){case"compact-short":case"compact-long":case"notation-simple":this.assertEmpty("notation"),k.notation={style:A};break;case"scientific":case"engineering":{let He,ue=null;for(const St of M)switch(St){case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":He=St;break;default:/^\+e+$/.test(St)?ue=St.length-1:this.badOption(A,St)}this.assertEmpty("notation");const lt=M.join("/");k.notation=ue&&He?{style:A,source:lt,expDigits:ue,expSign:He}:ue?{style:A,source:lt,expDigits:ue}:He?{style:A,source:lt,expSign:He}:{style:A,source:lt};break}case"percent":case"permille":case"base-unit":this.assertEmpty("unit"),k.unit={style:A};break;case"currency":/^[A-Z]{3}$/.test(S)?(this.assertEmpty("unit"),k.unit={style:A,currency:S}):this.badOption(A,S);break;case"measure-unit":dn(S)?(this.assertEmpty("unit"),k.unit={style:A,unit:S}):this.badOption(A,S);break;case"per-measure-unit":dn(S)?(this.assertEmpty("unitPer"),k.unitPer=S):this.badOption(A,S);break;case"unit-width-narrow":case"unit-width-short":case"unit-width-full-name":case"unit-width-iso-code":case"unit-width-hidden":this.assertEmpty("unitWidth"),k.unitWidth=A;break;case"precision-integer":case"precision-unlimited":case"precision-currency-cash":this.assertEmpty("precision"),k.precision={style:A};break;case"precision-currency-standard":this.assertEmpty("precision"),k.precision="w"===S?{style:A,trailingZero:"stripIfInteger"}:{style:A};break;case"precision-increment":{const ue=Number(S);ue>0?(this.assertEmpty("precision"),k.precision={style:A,increment:ue}):this.badOption(A,S);break}case"rounding-mode-ceiling":case"rounding-mode-floor":case"rounding-mode-down":case"rounding-mode-up":case"rounding-mode-half-even":case"rounding-mode-half-odd":case"rounding-mode-half-ceiling":case"rounding-mode-half-floor":case"rounding-mode-half-down":case"rounding-mode-half-up":case"rounding-mode-unnecessary":this.assertEmpty("roundingMode"),k.roundingMode=A;break;case"integer-width":if(/^\+0*$/.test(S))this.assertEmpty("integerWidth"),k.integerWidth={source:S,min:S.length-1};else{const ue=S.match(/^#*(0*)$/);ue?(this.assertEmpty("integerWidth"),k.integerWidth={source:S,min:ue[1].length,max:ue[0].length}):this.badOption(A,S)}break;case"scale":{const ue=Number(S);ue>0?(this.assertEmpty("scale"),k.scale=ue):this.badOption(A,S);break}case"group-off":case"group-min2":case"group-auto":case"group-on-aligned":case"group-thousands":this.assertEmpty("group"),k.group=A;break;case"latin":this.assertEmpty("numberingSystem"),k.numberingSystem="latn";break;case"numbering-system":!function Bt(y){return-1!==["arab","arabext","bali","beng","deva","fullwide","gujr","guru","hanidec","khmr","knda","laoo","latn","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt"].indexOf(y)}(S)?this.badOption(A,S):(this.assertEmpty("numberingSystem"),k.numberingSystem=S);break;case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":this.assertEmpty("sign"),k.sign=A;break;case"decimal-auto":case"decimal-always":this.assertEmpty("decimal"),k.decimal=A;break;default:{const ue=function ut(y,A,M){const S=it(y,"fraction");if(S){A.length>1&&M(new at(y,A,1));const ue={style:"precision-fraction",source:y,minFraction:S.min};null!=S.max&&(ue.maxFraction=S.max);const He=A[0],lt=it(He,"significant");return lt?(ue.source=`${y}/${He}`,ue.minSignificant=lt.min,null!=lt.max&&(ue.maxSignificant=lt.max)):He&&M(new he(y,He)),ue}const k=it(y,"significant");if(k){for(const He of A)M(new he(y,He));const ue={style:"precision-fraction",source:y,minSignificant:k.min};return null!=k.max&&(ue.maxSignificant=k.max),ue}return null}(A,M,this.onError);ue?(this.assertEmpty("precision"),k.precision=ue):this.onError(new Be(A))}}}}function Qt(y){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k=>{throw k};const M=[];for(const k of y.split(" "))if(k){const ue=k.split("/"),He=ue.shift()||"";M.push({stem:He,options:ue})}const S=new Pt(A);for(const{stem:k,options:ue}of M)S.parseToken(k,ue);return S.skeleton}function Jn(y,A,M,S){"string"==typeof A&&(A=0===A.indexOf("::")?Qt(A.slice(2),S):Kt(A,M,S));const k=re(y,A),ue=W(A,S),He=function rt(y){const A=Ge(y),{precision:M}=y;return M&&"precision-increment"===M.style?S=>function _e(y,A){const M=+y+A/2;return M-M%+A}(S,M.increment)*A:S=>S*A}(A),lt=new Intl.NumberFormat(k,ue);if(A.affix){const[St,rn]=A.affix.pos,[Hn,pr]=A.affix.neg||["",""];return xr=>{const yn=lt.format(He(xr));return xr<0?`${Hn}${yn}${pr}`:`${St}${yn}${rn}`}}return St=>lt.format(He(St))}function or(y,A,M,S){"string"==typeof A&&(A=0===A.indexOf("::")?Qt(A.slice(2),S):Kt(A,M,S));const k=re(y,A),ue=W(A,S),He=function et(y){const A=Ge(y),{precision:M}=y;if(M&&"precision-increment"===M.style){let k=`x - (x % +${M.increment})`;return 1!==A&&(k=`(${k}) * ${A}`),`function(n) { var x = ${"+n + "+M.increment/2}; return ${k}; }`}return 1!==A?`function(n) { return n * ${A}; }`:null}(A),lt=["(function() {",`var opt = ${JSON.stringify(ue)};`,`var nf = new Intl.NumberFormat(${JSON.stringify(k)}, opt);`];let St="nf.format(value)";if(He&&(lt.push(`var mod = ${He};`),St="nf.format(mod(value))"),A.affix){const[rn,Hn]=A.affix.pos.map(pr=>JSON.stringify(pr));if(A.affix.neg){const[pr,xr]=A.affix.neg.map(yn=>JSON.stringify(yn));St=`value < 0 ? ${pr} + ${St} + ${xr} : ${rn} + ${St} + ${Hn}`}else St=`${rn} + ${St} + ${Hn}`}return lt.push(`return function(value) { return ${St}; }`),lt.join("\n  ")+"\n})()"}var In=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sn(y){return y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y}var y,A,M,er={},li={},Cr={exports:{}};A=In,M=function(){var A=Object.prototype.hasOwnProperty,M=Object.prototype.toString,S="boolean"==typeof(new RegExp).sticky;function k(Tt){return Tt&&"[object RegExp]"===M.call(Tt)}function ue(Tt){return Tt&&"object"==typeof Tt&&!k(Tt)&&!Array.isArray(Tt)}function lt(Tt){return new RegExp("|"+Tt).exec("").length-1}function St(Tt){return"("+Tt+")"}function rn(Tt){return Tt.length?"(?:"+Tt.map(function(Dn){return"(?:"+Dn+")"}).join("|")+")":"(?!)"}function Hn(Tt){if("string"==typeof Tt)return"(?:"+function He(Tt){return Tt.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(Tt)+")";if(k(Tt)){if(Tt.ignoreCase)throw new Error("RegExp /i flag not allowed");if(Tt.global)throw new Error("RegExp /g flag is implied");if(Tt.sticky)throw new Error("RegExp /y flag is implied");if(Tt.multiline)throw new Error("RegExp /m flag is implied");return Tt.source}throw new Error("Not a pattern: "+Tt)}function pr(Tt,fn){return Tt.length>fn?Tt:Array(fn-Tt.length+1).join(" ")+Tt}function Ss(Tt,fn){if(ue(fn)||(fn={match:fn}),fn.include)throw new Error("Matching rules cannot also include states");var Dn={defaultType:Tt,lineBreaks:!!fn.error||!!fn.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var ir in fn)A.call(fn,ir)&&(Dn[ir]=fn[ir]);if("string"==typeof Dn.type&&Tt!==Dn.type)throw new Error("Type transform cannot be a string (type '"+Dn.type+"' for token '"+Tt+"')");var _r=Dn.match;return Dn.match=Array.isArray(_r)?_r:_r?[_r]:[],Dn.match.sort(function(ar,Kr){return k(ar)&&k(Kr)?0:k(Kr)?-1:k(ar)?1:Kr.length-ar.length}),Dn}function eo(Tt){return Array.isArray(Tt)?function Ui(Tt){for(var fn=[],Dn=0;Dn<Tt.length;Dn++){var ir=Tt[Dn];if(ir.include)for(var _r=[].concat(ir.include),ar=0;ar<_r.length;ar++)fn.push({include:_r[ar]});else{if(!ir.type)throw new Error("Rule has no type: "+JSON.stringify(ir));fn.push(Ss(ir.type,ir))}}return fn}(Tt):function yn(Tt){for(var fn=Object.getOwnPropertyNames(Tt),Dn=[],ir=0;ir<fn.length;ir++){var _r=fn[ir],Kr=[].concat(Tt[_r]);if("include"!==_r){var bi=[];Kr.forEach(function(zr){ue(zr)?(bi.length&&Dn.push(Ss(_r,bi)),Dn.push(Ss(_r,zr)),bi=[]):bi.push(zr)}),bi.length&&Dn.push(Ss(_r,bi))}else for(var Cs=0;Cs<Kr.length;Cs++)Dn.push({include:Kr[Cs]})}return Dn}(Tt)}var ma=Ss("error",{lineBreaks:!0,shouldThrow:!0});function Ll(Tt,fn){for(var Dn=null,ir=Object.create(null),_r=!0,ar=null,Kr=[],Cs=[],bi=0;bi<Tt.length;bi++)Tt[bi].fallback&&(_r=!1);for(bi=0;bi<Tt.length;bi++){var zr=Tt[bi];if(zr.include)throw new Error("Inheritance is not allowed in stateless lexers");if(zr.error||zr.fallback){if(Dn)throw!zr.fallback==!Dn.fallback?new Error("Multiple "+(zr.fallback?"fallback":"error")+" rules not allowed (for token '"+zr.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+zr.defaultType+"')");Dn=zr}var ra=zr.match.slice();if(_r)for(;ra.length&&"string"==typeof ra[0]&&1===ra[0].length;)ir[ra.shift().charCodeAt(0)]=zr;if(zr.pop||zr.push||zr.next){if(!fn)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+zr.defaultType+"')");if(zr.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+zr.defaultType+"')")}if(0!==ra.length){_r=!1,Kr.push(zr);for(var Hl=0;Hl<ra.length;Hl++){var _o=ra[Hl];if(k(_o))if(null===ar)ar=_o.unicode;else if(ar!==_o.unicode&&!1===zr.fallback)throw new Error("If one rule is /u then all must be")}var Vo=rn(ra.map(Hn)),Dl=new RegExp(Vo);if(Dl.test(""))throw new Error("RegExp matches empty string: "+Dl);if(lt(Vo)>0)throw new Error("RegExp has capture groups: "+Dl+"\nUse (?: \u2026 ) instead");if(!zr.lineBreaks&&Dl.test("\n"))throw new Error("Rule should declare lineBreaks: "+Dl);Cs.push(St(Vo))}}var th=Dn&&Dn.fallback,Ff=S&&!th?"ym":"gm",wm=S||th?"":"|";return!0===ar&&(Ff+="u"),{regexp:new RegExp(rn(Cs)+wm,Ff),groups:Kr,fast:ir,error:Dn||ma}}function lu(Tt,fn,Dn){var ir=Tt&&(Tt.push||Tt.next);if(ir&&!Dn[ir])throw new Error("Missing state '"+ir+"' (in token '"+Tt.defaultType+"' of state '"+fn+"')");if(Tt&&Tt.pop&&1!=+Tt.pop)throw new Error("pop must be 1 (in token '"+Tt.defaultType+"' of state '"+fn+"')")}var to=function(Tt,fn){this.startState=fn,this.states=Tt,this.buffer="",this.stack=[],this.reset()};to.prototype.reset=function(Tt,fn){return this.buffer=Tt||"",this.index=0,this.line=fn?fn.line:1,this.col=fn?fn.col:1,this.queuedToken=fn?fn.queuedToken:null,this.queuedText=fn?fn.queuedText:"",this.queuedThrow=fn?fn.queuedThrow:null,this.setState(fn?fn.state:this.startState),this.stack=fn&&fn.stack?fn.stack.slice():[],this},to.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},to.prototype.setState=function(Tt){if(Tt&&this.state!==Tt){this.state=Tt;var fn=this.states[Tt];this.groups=fn.groups,this.error=fn.error,this.re=fn.regexp,this.fast=fn.fast}},to.prototype.popState=function(){this.setState(this.stack.pop())},to.prototype.pushState=function(Tt){this.stack.push(this.state),this.setState(Tt)};var eh=S?function(Tt,fn){return Tt.exec(fn)}:function(Tt,fn){var Dn=Tt.exec(fn);return 0===Dn[0].length?null:Dn};function vm(){return this.value}if(to.prototype._getGroup=function(Tt){for(var fn=this.groups.length,Dn=0;Dn<fn;Dn++)if(void 0!==Tt[Dn+1])return this.groups[Dn];throw new Error("Cannot find token type for matched text")},to.prototype.next=function(){var Tt=this.index;if(this.queuedGroup){var fn=this._token(this.queuedGroup,this.queuedText,Tt);return this.queuedGroup=null,this.queuedText="",fn}var Dn=this.buffer;if(Tt!==Dn.length){if(Kr=this.fast[Dn.charCodeAt(Tt)])return this._token(Kr,Dn.charAt(Tt),Tt);var ir=this.re;ir.lastIndex=Tt;var _r=eh(ir,Dn),ar=this.error;if(null==_r)return this._token(ar,Dn.slice(Tt,Dn.length),Tt);var Kr=this._getGroup(_r),Cs=_r[0];return ar.fallback&&_r.index!==Tt?(this.queuedGroup=Kr,this.queuedText=Cs,this._token(ar,Dn.slice(Tt,_r.index),Tt)):this._token(Kr,Cs,Tt)}},to.prototype._token=function(Tt,fn,Dn){var ir=0;if(Tt.lineBreaks){var _r=/\n/g,ar=1;if("\n"===fn)ir=1;else for(;_r.exec(fn);)ir++,ar=_r.lastIndex}var Kr={type:"function"==typeof Tt.type&&Tt.type(fn)||Tt.defaultType,value:"function"==typeof Tt.value?Tt.value(fn):fn,text:fn,toString:vm,offset:Dn,lineBreaks:ir,line:this.line,col:this.col},Cs=fn.length;if(this.index+=Cs,this.line+=ir,0!==ir?this.col=Cs-ar+1:this.col+=Cs,Tt.shouldThrow)throw new Error(this.formatError(Kr,"invalid syntax"));return Tt.pop?this.popState():Tt.push?this.pushState(Tt.push):Tt.next&&this.setState(Tt.next),Kr},typeof Symbol<"u"&&Symbol.iterator){var $u=function(Tt){this.lexer=Tt};$u.prototype.next=function(){var Tt=this.lexer.next();return{value:Tt,done:!Tt}},$u.prototype[Symbol.iterator]=function(){return this},to.prototype[Symbol.iterator]=function(){return new $u(this)}}return to.prototype.formatError=function(Tt,fn){if(null==Tt){var Dn=this.buffer.slice(this.index);Tt={text:Dn,offset:this.index,lineBreaks:-1===Dn.indexOf("\n")?0:1,line:this.line,col:this.col}}var _r=Math.max(Tt.line-2,1),Kr=String(Tt.line+2).length,Cs=function xr(Tt,fn){for(var Dn=Tt.length,ir=0;;){var _r=Tt.lastIndexOf("\n",Dn-1);if(-1===_r||(Dn=_r,++ir===fn)||0===Dn)break}return Tt.substring(ir<fn?0:Dn+1).split("\n")}(this.buffer,this.line-Tt.line+2+1).slice(0,5),bi=[];bi.push(fn+" at line "+Tt.line+" col "+Tt.col+":"),bi.push("");for(var zr=0;zr<Cs.length;zr++){var ra=Cs[zr],Xu=_r+zr;bi.push(pr(String(Xu),Kr)+"  "+ra),Xu===Tt.line&&bi.push(pr("",Kr+Tt.col+1)+"^")}return bi.join("\n")},to.prototype.clone=function(){return new to(this.states,this.state)},to.prototype.has=function(Tt){return!0},{compile:function Uu(Tt){var fn=Ll(eo(Tt));return new to({start:fn},"start")},states:function ic(Tt,fn){var Dn=Tt.$all?eo(Tt.$all):[];delete Tt.$all;var ir=Object.getOwnPropertyNames(Tt);fn||(fn=ir[0]);for(var _r=Object.create(null),ar=0;ar<ir.length;ar++)_r[Kr=ir[ar]]=eo(Tt[Kr]).concat(Dn);for(ar=0;ar<ir.length;ar++)for(var Cs=_r[Kr=ir[ar]],bi=Object.create(null),zr=0;zr<Cs.length;zr++){var ra=Cs[zr];if(ra.include){var Xu=[zr,1];if(ra.include!==Kr&&!bi[ra.include]){bi[ra.include]=!0;var Hl=_r[ra.include];if(!Hl)throw new Error("Cannot include nonexistent state '"+ra.include+"' (in state '"+Kr+"')");for(var _o=0;_o<Hl.length;_o++){var Vo=Hl[_o];-1===Cs.indexOf(Vo)&&Xu.push(Vo)}}Cs.splice.apply(Cs,Xu),zr--}}var Dl=Object.create(null);for(ar=0;ar<ir.length;ar++){var Kr;Dl[Kr=ir[ar]]=Ll(_r[Kr],!0)}for(ar=0;ar<ir.length;ar++){var kf=ir[ar],th=Dl[kf],Ff=th.groups;for(zr=0;zr<Ff.length;zr++)lu(Ff[zr],kf,Dl);var wm=Object.getOwnPropertyNames(th.fast);for(zr=0;zr<wm.length;zr++)lu(th.fast[wm[zr]],kf,Dl)}return new to(Dl,fn)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function Zu(Tt){for(var fn=typeof Map<"u",Dn=fn?new Map:Object.create(null),ir=Object.getOwnPropertyNames(Tt),_r=0;_r<ir.length;_r++){var ar=ir[_r],Kr=Tt[ar];(Array.isArray(Kr)?Kr:[Kr]).forEach(function(bi){if("string"!=typeof bi)throw new Error("keyword must be string (in keyword '"+ar+"')");fn?Dn.set(bi,ar):Dn[bi]=ar})}return function(bi){return fn?Dn.get(bi):Dn[bi]}}}},(y=Cr).exports?y.exports=M():A.moo=M();var fi=Cr.exports;(function(y){var A=In&&In.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(y,"__esModule",{value:!0}),y.lexer=y.states=void 0;const M=A(fi);y.states={body:{doubleapos:{match:"''",value:()=>"'"},quoted:{lineBreaks:!0,match:/'[{}#](?:[^]*?[^'])?'(?!')/u,value:S=>S.slice(1,-1).replace(/''/g,"'")},argument:{lineBreaks:!0,match:/\{\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,push:"arg",value:S=>S.substring(1).trim()},octothorpe:"#",end:{match:"}",pop:1},content:{lineBreaks:!0,match:/[^][^{}#']*/u}},arg:{select:{lineBreaks:!0,match:/,\s*(?:plural|select|selectordinal)\s*,\s*/u,next:"select",value:S=>S.split(",")[1].trim()},"func-args":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*,/u,next:"body",value:S=>S.split(",")[1].trim()},"func-simple":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,value:S=>S.substring(1).trim()},end:{match:"}",pop:1}},select:{offset:{lineBreaks:!0,match:/\s*offset\s*:\s*\d+\s*/u,value:S=>S.split(":")[1].trim()},case:{lineBreaks:!0,match:/\s*(?:=\d+|[^\p{Pat_Syn}\p{Pat_WS}]+)\s*\{/u,push:"body",value:S=>S.substring(0,S.indexOf("{")).trim()},end:{match:/\s*\}/u,pop:1}}},y.lexer=M.default.states(y.states)})(li),Object.defineProperty(er,"__esModule",{value:!0});var q=er.parse=er.ParseError=void 0;const T=li,V=y=>({offset:y.offset,line:y.line,col:y.col,text:y.text,lineBreaks:y.lineBreaks}),ze=y=>"plural"===y||"select"===y||"selectordinal"===y;const Oe=["number","date","time","spellout","ordinal","duration"],Xe=["zero","one","two","few","many","other"];class Ct extends Error{constructor(A,M){super(T.lexer.formatError(A,M))}}er.ParseError=Ct;class We{constructor(A,M){var S,k,ue,He;this.lexer=T.lexer.reset(A),this.cardinalKeys=null!==(S=M?.cardinal)&&void 0!==S?S:Xe,this.ordinalKeys=null!==(k=M?.ordinal)&&void 0!==k?k:Xe,this.strict=null!==(ue=M?.strict)&&void 0!==ue&&ue,this.strictPluralKeys=null===(He=M?.strictPluralKeys)||void 0===He||He}parse(){return this.parseBody(!1,!0)}checkSelectKey(A,M,S){if("="===S[0]){if("select"===M)throw new Ct(A,`The case ${S} is not valid with select`)}else if("select"!==M){const k="plural"===M?this.cardinalKeys:this.ordinalKeys;if(this.strictPluralKeys&&k.length>0&&!k.includes(S))throw new Ct(A,`The ${M} case ${S} is not valid in this locale`)}}parseSelect(A,M,S,k){let{value:ue}=A;const He={type:k,arg:ue,cases:[],ctx:S};"plural"===k||"selectordinal"===k?M=!0:this.strict&&(M=!1);for(const lt of this.lexer)switch(lt.type){case"offset":if("select"===k)throw new Ct(lt,"Unexpected plural offset for select");if(He.cases.length>0)throw new Ct(lt,"Plural offset must be set before cases");He.pluralOffset=Number(lt.value),S.text+=lt.text,S.lineBreaks+=lt.lineBreaks;break;case"case":this.checkSelectKey(lt,k,lt.value),He.cases.push({key:lt.value,tokens:this.parseBody(M),ctx:V(lt)});break;case"end":return He;default:throw new Ct(lt,`Unexpected lexer token: ${lt.type}`)}throw new Ct(null,"Unexpected message end")}parseArgToken(A,M){const S=V(A),k=this.lexer.next();if(!k)throw new Ct(null,"Unexpected message end");if(S.text+=k.text,S.lineBreaks+=k.lineBreaks,this.strict&&("func-simple"===k.type||"func-args"===k.type)&&!Oe.includes(k.value))throw new Ct(A,`Invalid strict mode function arg type: ${k.value}`);switch(k.type){case"end":return{type:"argument",arg:A.value,ctx:S};case"func-simple":{const ue=this.lexer.next();if(!ue)throw new Ct(null,"Unexpected message end");if("end"!==ue.type)throw new Ct(ue,`Unexpected lexer token: ${ue.type}`);if(S.text+=ue.text,ze(k.value.toLowerCase()))throw new Ct(k,`Invalid type identifier: ${k.value}`);return{type:"function",arg:A.value,key:k.value,ctx:S}}case"func-args":{if(ze(k.value.toLowerCase()))throw new Ct(k,`Invalid type identifier: ${k.value}`);let ue=this.parseBody(!this.strict&&M);return this.strict&&ue.length>0&&(ue=function be(y,A){let M="",S="";for(const ue of A){const He=ue.ctx.text;switch(S+=He,ue.type){case"content":M+=ue.value;break;case"argument":case"function":case"octothorpe":M+=He;break;default:throw new Ct(y,`Unsupported part in strict mode function arg style: ${He}`)}}return[{type:"content",value:M.trim(),ctx:Object.assign({},A[0].ctx,{text:S})}]}(A,ue)),{type:"function",arg:A.value,key:k.value,param:ue,ctx:S}}case"select":if(ze(k.value))return this.parseSelect(A,M,S,k.value);throw new Ct(k,`Unexpected select type ${k.value}`);default:throw new Ct(k,`Unexpected lexer token: ${k.type}`)}}parseBody(A,M){const S=[];let k=null;for(const ue of this.lexer)if("argument"===ue.type)k&&(k=null),S.push(this.parseArgToken(ue,A));else if("octothorpe"===ue.type&&A)k&&(k=null),S.push({type:"octothorpe",ctx:V(ue)});else{if("end"===ue.type&&!M)return S;{let He=ue.value;if(!A&&"quoted"===ue.type&&"#"===He[0]){if(He.includes("{"))throw new Ct(ue,`Unsupported escape pattern: ${He}`);He=ue.text}k?(k.value+=He,k.ctx.text+=ue.text,k.ctx.lineBreaks+=ue.lineBreaks):(k={type:"content",value:He,ctx:V(ue)},S.push(k))}}if(M)return S;throw new Ct(null,"Unexpected message end")}}function kt(y){return kt[y]||(kt[y]=new Intl.NumberFormat(y))}q=er.parse=function qe(y){return new We(y,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).parse()};var Di=Object.freeze({__proto__:null,_nf:kt,number:function nn(y,A,M){return kt(y).format(A-M)},plural:function vn(y,A,M,S,k){if({}.hasOwnProperty.call(S,y))return S[y];A&&(y-=A);var ue=M(y,k);return ue in S?S[ue]:S.other},reqArgs:function fs(y,A){for(var M=0;M<y.length;++M)if(!A||void 0===A[y[M]])throw new Error("Message requires argument '".concat(y[M],"'"))},select:function jr(y,A){return{}.hasOwnProperty.call(A,y)?A[y]:A.other},strictNumber:function mn(y,A,M,S){var k=A-M;if(isNaN(k))throw new Error("`"+S+"` or its offset is not a number");return kt(y).format(k)}});var Ln={};function Vs(y,A){var M=String(y)+JSON.stringify(A);return Ln[M]||(Ln[M]=new Intl.NumberFormat(y,A)),Ln[M]}var Si=Object.freeze({__proto__:null,date:function kr(y,A,M){var S={day:"numeric",month:"short",year:"numeric"};switch(M){case"full":S.weekday="long";case"long":S.month="long";break;case"short":S.month="numeric"}return new Date(y).toLocaleDateString(A,S)},duration:function nl(y){if("number"!=typeof y&&(y=Number(y)),!isFinite(y))return String(y);var A="";y<0?(A="-",y=Math.abs(y)):y=Number(y);var M=y%60,S=[Math.round(M)===M?M:M.toFixed(3)];return y<60?S.unshift(0):(y=Math.round((y-Number(S[0]))/60),S.unshift(y%60),y>=60&&(y=Math.round((y-Number(S[0]))/60),S.unshift(y))),A+S.shift()+":"+S.map(function(ue){return Number(ue)<10?"0"+String(ue):String(ue)}).join(":")},numberCurrency:function(y,A,M){return Vs(A,{style:"currency",currency:M,minimumFractionDigits:2,maximumFractionDigits:2}).format(y)},numberFmt:function Il(y,A,M,S){var k=M&&M.split(":")||[],ue=k[0],He=k[1];return Vs(A,{integer:{maximumFractionDigits:0},percent:{style:"percent"},currency:{style:"currency",currency:He&&He.trim()||S,minimumFractionDigits:2,maximumFractionDigits:2}}[ue]||{}).format(y)},numberInteger:function(y,A){return Vs(A,{maximumFractionDigits:0}).format(y)},numberPercent:function(y,A){return Vs(A,{style:"percent"}).format(y)},time:function rl(y,A,M){var S={second:"numeric",minute:"numeric",hour:"numeric"};switch(M){case"full":case"long":S.timeZoneName="short";break;case"short":delete S.second}return new Date(y).toLocaleTimeString(A,S)}}),bt=Sn({ES3:{break:!0,continue:!0,delete:!0,else:!0,for:!0,function:!0,if:!0,in:!0,new:!0,return:!0,this:!0,typeof:!0,var:!0,void:!0,while:!0,with:!0,case:!0,catch:!0,default:!0,do:!0,finally:!0,instanceof:!0,switch:!0,throw:!0,try:!0},ESnext:{await:!0,debugger:!0,class:!0,enum:!0,extends:!0,super:!0,const:!0,export:!0,import:!0,null:!0,true:!0,false:!0,implements:!0,let:!0,private:!0,public:!0,yield:!0,interface:!0,package:!0,protected:!0,static:!0}});function Mt(y,A){A&&(y+=" "+function $t(y){let A=0;for(let M=0;M<y.length;++M)A=(A<<5)-A+y.charCodeAt(M),A|=0;return A}(y).toString(36));const M=y.trim().replace(/\W+/g,"_");return bt.ES3[M]||bt.ESnext[M]||/^\d/.test(M)?"_"+M:M}function cr(y,A){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(A)&&!bt.ES3[A])return y?y+"."+A:A;{const M=JSON.stringify(A);return y?y+"["+M+"]":M}}var Qr=new RegExp("^"+["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"].join("|^"));var ps="@messageformat/runtime/lib/plurals",qi=function(){function y(A){this.arguments=[],this.runtime={},this.options=A}return y.prototype.compile=function(A,M,S){var k,ue,He=this,lt=this.options,St=lt.localeCodeFromKey,rn=lt.requireAllArguments,Hn=lt.strict,pr=lt.strictPluralKeys;if("object"==typeof A){var xr={};try{for(var yn=B(Object.keys(A)),Ui=yn.next();!Ui.done;Ui=yn.next()){var Ss=Ui.value,eo=St?St(Ss):Ss;xr[Ss]=this.compile(A[Ss],S&&eo&&S[eo]||M,S)}}catch(to){k={error:to}}finally{try{Ui&&!Ui.done&&(ue=yn.return)&&ue.call(yn)}finally{if(k)throw k.error}}return xr}this.plural=M;var Ll={cardinal:M.cardinals,ordinal:M.ordinals,strict:Hn,strictPluralKeys:pr};this.arguments=[];var Uu=q(A,Ll).map(function(to){return He.token(to,null)}),lu=this.arguments.length>0,ic=this.concatenate(Uu,!0);if(rn&&lu){this.setRuntimeFn("reqArgs");var Zu=JSON.stringify(this.arguments);return"(d) => { reqArgs(".concat(Zu,", d); return ").concat(ic,"; }")}return"(".concat(lu?"d":"",") => ").concat(ic)},y.prototype.cases=function(A,M){var S=this,k=!0,ue=A.cases.map(function(Hn){var pr=Hn.key;"other"===pr&&(k=!1);var yn=Hn.tokens.map(function(Ui){return S.token(Ui,M)});return"".concat(cr(null,pr.replace(/^=/,"")),": ").concat(S.concatenate(yn,!1))});if(k){var He=A.type,lt=this.plural,rn=lt.ordinals;if("select"===He||"plural"===He&&lt.cardinals.includes("other")||"selectordinal"===He&&rn.includes("other"))throw new Error("No 'other' form found in ".concat(JSON.stringify(A)))}return"{ ".concat(ue.join(", ")," }")},y.prototype.concatenate=function(A,M){return"values"===this.options.returnType&&(M||A.length>1)?"["+A.join(", ")+"]":A.join(" + ")||'""'},y.prototype.token=function(A,M){if("content"===A.type)return JSON.stringify(A.value);var He,lt,S=this.plural,k=S.id,ue=S.lc;switch("arg"in A?(this.arguments.push(A.arg),He=[cr("d",A.arg)]):He=[],A.type){case"argument":return this.options.biDiSupport?function Fr(y,A){var M=Qr.test(A),S=JSON.stringify(M?"\u200f":"\u200e");return"".concat(S," + ").concat(y," + ").concat(S)}(String(He[0]),ue):String(He[0]);case"select":lt="select",M&&this.options.strict&&(M=null),He.push(this.cases(A,M)),this.setRuntimeFn("select");break;case"selectordinal":lt="plural",He.push(A.pluralOffset||0,k,this.cases(A,A),1),this.setLocale(k,!0),this.setRuntimeFn("plural");break;case"plural":lt="plural",He.push(A.pluralOffset||0,k,this.cases(A,A)),this.setLocale(k,!1),this.setRuntimeFn("plural");break;case"function":var St=this.options.customFormatters[A.key],rn=St&&"module"in St&&"function"==typeof St.module;if(!St){if("date"===A.key){lt=this.setDateFormatter(A,He,M);break}if("number"===A.key){lt=this.setNumberFormatter(A,He,M);break}}if(He.push(JSON.stringify(this.plural.locale)),A.param){M&&this.options.strict&&(M=null);var Hn=this.getFormatterArg(A,M);Hn&&He.push(Hn)}lt=rn?Mt("".concat(A.key,"__").concat(this.plural.locale)):A.key,this.setFormatter(lt,A.key);break;case"octothorpe":if(!M)return'"#"';He=[JSON.stringify(this.plural.locale),cr("d",M.arg),M.pluralOffset||0],this.options.strict?(lt="strictNumber",He.push(JSON.stringify(M.arg)),this.setRuntimeFn("strictNumber")):(lt="number",this.setRuntimeFn("number"))}if(!lt)throw new Error("Parser error for token "+JSON.stringify(A));return"".concat(lt,"(").concat(He.join(", "),")")},y.prototype.runtimeIncludes=function(A,M){if(Mt(A)!==A)throw new SyntaxError("Reserved word used as ".concat(M," identifier: ").concat(A));var S=this.runtime[A];if(!S||S.type===M)return S;throw new TypeError("Cannot override ".concat(S.type," runtime function as ").concat(M,": ").concat(A))},y.prototype.setLocale=function(A,M){var St,rn,Hn,S=this.runtimeIncludes(A,"locale"),k=this.plural,ue=k.getCardinal,He=k.getPlural,lt=k.isDefault;if(!M&&lt&&ue){if(S)return;St=function(pr){return ue(pr)},rn="@messageformat/runtime/lib/cardinals",Hn=function(){return String(ue)}}else{if(S&&(!lt||S.module===ps))return;St=function(pr,xr){return He(pr,xr)},rn=lt?ps:He.module||null,Hn=function(){return String(He)}}this.runtime[A]=Object.assign(St,{id:A,module:rn,toString:Hn,type:"locale"})},y.prototype.setRuntimeFn=function(A){this.runtimeIncludes(A,"runtime")||(this.runtime[A]=Object.assign(Di[A],{id:A,module:"@messageformat/runtime",type:"runtime"}))},y.prototype.getFormatterArg=function(A,M){var S,k,ue,He,lt=this,St=A.key,rn=A.param,Hn=this.options.customFormatters[St]||gs(St)&&Si[St];if(!Hn||!rn)return null;var pr="arg"in Hn&&Hn.arg||"string";if("options"===pr){var xr="";try{for(var yn=B(rn),Ui=yn.next();!Ui.done;Ui=yn.next()){var Ss=Ui.value;if("content"!==Ss.type)throw new SyntaxError("Expected literal options for ".concat(St," formatter"));xr+=Ss.value}}catch($u){S={error:$u}}finally{try{Ui&&!Ui.done&&(k=yn.return)&&k.call(yn)}finally{if(S)throw S.error}}var eo={};try{for(var ma=B(xr.split(",")),Ll=ma.next();!Ll.done;Ll=ma.next()){var Uu=Ll.value,lu=Uu.indexOf(":");if(-1===lu)eo[Uu.trim()]=null;else{var ic=Uu.substring(0,lu).trim(),Zu=Uu.substring(lu+1).trim();if("true"===Zu)eo[ic]=!0;else if("false"===Zu)eo[ic]=!1;else if("null"===Zu)eo[ic]=null;else{var to=Number(Zu);eo[ic]=Number.isFinite(to)?to:Zu}}}}catch($u){ue={error:$u}}finally{try{Ll&&!Ll.done&&(He=ma.return)&&He.call(ma)}finally{if(ue)throw ue.error}}return JSON.stringify(eo)}var eh=rn.map(function($u){return lt.token($u,M)});if("raw"===pr)return"[".concat(eh.join(", "),"]");var vm=eh.join(" + ");return vm?"(".concat(vm,").trim()"):'""'},y.prototype.setFormatter=function(A,M){if(!this.runtimeIncludes(A,"formatter")){var S=this.options.customFormatters[M||A];if(S){var k="function"==typeof S?{formatter:S}:S;this.runtime[A]=Object.assign(k.formatter.bind({}),Ue(Ue({},k.formatter.prototype),{toString:function(){return String(k.formatter)}}),{type:"formatter"},"module"in S&&S.module&&S.id?{id:Mt(S.id),module:"function"==typeof S.module?S.module(this.plural.locale):S.module}:{id:null,module:null})}else{if(!gs(A))throw new Error("Formatting function not found: ".concat(A));this.runtime[A]=Object.assign(Si[A],{type:"formatter"},{id:A,module:"@messageformat/runtime/lib/formatters"})}}},y.prototype.setDateFormatter=function(A,M,S){var k=this,ue=A.param,He=this.plural.locale,lt=ue&&1===ue.length&&ue[0];if(lt&&"content"===lt.type&&/^\s*::/.test(lt.value)){var St=lt.value.trim().substr(2),rn=Mt("date_".concat(He,"_").concat(St),!0);if(!this.runtimeIncludes(rn,"formatter")){var Hn=function ae(y,A,M,S){"string"==typeof A&&(A=F(A)),"function"==typeof M&&(S=M,M=void 0);const k=J(A,M,S),ue=new Intl.DateTimeFormat(y,k);return He=>ue.format(He)}(He,St,this.options.timeZone);this.runtime[rn]=Object.assign(Hn,{id:rn,module:null,toString:function(){return function le(y,A,M,S){"string"==typeof A&&(A=F(A)),"function"==typeof M&&(S=M,M=void 0);const k=J(A,M,S);return["(function() {",`var opt = ${JSON.stringify(k)};`,`var dtf = new Intl.DateTimeFormat(${JSON.stringify(y)}, opt);`,"return function(value) { return dtf.format(value); }"].join("\n  ")+"\n})()"}(He,St,k.options.timeZone)},type:"formatter"})}return rn}if(M.push(JSON.stringify(He)),ue&&ue.length>0){S&&this.options.strict&&(S=null);var pr=ue.map(function(xr){return k.token(xr,S)});M.push("("+(pr.join(" + ")||'""')+").trim()")}return this.setFormatter("date"),"date"},y.prototype.setNumberFormatter=function(A,M,S){var k=this,ue=A.param,He=this.plural.locale;if(!ue||0===ue.length)return M.unshift(JSON.stringify(He)),M.push("0"),this.setRuntimeFn("number"),"number";if(M.push(JSON.stringify(He)),1===ue.length&&"content"===ue[0].type){var lt=ue[0].value.trim();switch(lt){case"currency":return M.push(JSON.stringify(this.options.currency)),this.setFormatter("numberCurrency"),"numberCurrency";case"integer":return this.setFormatter("numberInteger"),"numberInteger";case"percent":return this.setFormatter("numberPercent"),"numberPercent"}var St=lt.match(/^currency:([A-Z]+)$/);if(St)return M.push(JSON.stringify(St[1])),this.setFormatter("numberCurrency"),"numberCurrency";var rn=Mt("number_".concat(He,"_").concat(lt),!0);if(!this.runtimeIncludes(rn,"formatter")){var Hn=this.options.currency,pr=Jn(He,lt,Hn);this.runtime[rn]=Object.assign(pr,{id:null,module:null,toString:function(){return or(He,lt,Hn)},type:"formatter"})}return rn}S&&this.options.strict&&(S=null);var xr=ue.map(function(yn){return k.token(yn,S)});return M.push("("+(xr.join(" + ")||'""')+").trim()"),M.push(JSON.stringify(this.options.currency)),this.setFormatter("numberFmt"),"numberFmt"},y}();function gs(y){return y in Si}const Gt=y=>1==y?"one":"other",ei=y=>0==y||1==y?"one":"other",Ms=y=>y>=0&&y<=1?"one":"other",ts=y=>{const A=String(y).split(".");return 1!=y||A[1]?"other":"one"},An=y=>"other",zo=y=>1==y?"one":2==y?"two":"other";var cl=Object.freeze({__proto__:null,af:Gt,ak:ei,am:Ms,an:Gt,ar:y=>{const A=String(y).split("."),S=Number(A[0])==y&&A[0].slice(-2);return 0==y?"zero":1==y?"one":2==y?"two":S>=3&&S<=10?"few":S>=11&&S<=99?"many":"other"},ars:y=>{const A=String(y).split("."),S=Number(A[0])==y&&A[0].slice(-2);return 0==y?"zero":1==y?"one":2==y?"two":S>=3&&S<=10?"few":S>=11&&S<=99?"many":"other"},as:Ms,asa:Gt,ast:ts,az:Gt,bal:Gt,be:y=>{const A=String(y).split("."),M=Number(A[0])==y,S=M&&A[0].slice(-1),k=M&&A[0].slice(-2);return 1==S&&11!=k?"one":S>=2&&S<=4&&(k<12||k>14)?"few":M&&0==S||S>=5&&S<=9||k>=11&&k<=14?"many":"other"},bem:Gt,bez:Gt,bg:Gt,bho:ei,bm:An,bn:Ms,bo:An,br:y=>{const A=String(y).split("."),M=Number(A[0])==y,S=M&&A[0].slice(-1),k=M&&A[0].slice(-2),ue=M&&A[0].slice(-6);return 1==S&&11!=k&&71!=k&&91!=k?"one":2==S&&12!=k&&72!=k&&92!=k?"two":(3==S||4==S||9==S)&&(k<10||k>19)&&(k<70||k>79)&&(k<90||k>99)?"few":0!=y&&M&&0==ue?"many":"other"},brx:Gt,bs:y=>{const A=String(y).split("."),M=A[0],S=A[1]||"",k=!A[1],ue=M.slice(-1),He=M.slice(-2),lt=S.slice(-1),St=S.slice(-2);return k&&1==ue&&11!=He||1==lt&&11!=St?"one":k&&ue>=2&&ue<=4&&(He<12||He>14)||lt>=2&&lt<=4&&(St<12||St>14)?"few":"other"},ca:y=>{const A=String(y).split("."),M=A[0],S=!A[1],k=M.slice(-6);return 1==y&&S?"one":0!=M&&0==k&&S?"many":"other"},ce:Gt,ceb:y=>{const A=String(y).split("."),M=A[0],S=A[1]||"",k=!A[1],ue=M.slice(-1),He=S.slice(-1);return k&&(1==M||2==M||3==M)||k&&4!=ue&&6!=ue&&9!=ue||!k&&4!=He&&6!=He&&9!=He?"one":"other"},cgg:Gt,chr:Gt,ckb:Gt,cs:y=>{const A=String(y).split("."),M=A[0],S=!A[1];return 1==y&&S?"one":M>=2&&M<=4&&S?"few":S?"other":"many"},cy:y=>0==y?"zero":1==y?"one":2==y?"two":3==y?"few":6==y?"many":"other",da:y=>{const A=String(y).split("."),M=A[0],S=Number(A[0])==y;return 1!=y&&(S||0!=M&&1!=M)?"other":"one"},de:ts,doi:Ms,dsb:y=>{const A=String(y).split("."),S=A[1]||"",k=!A[1],ue=A[0].slice(-2),He=S.slice(-2);return k&&1==ue||1==He?"one":k&&2==ue||2==He?"two":k&&(3==ue||4==ue)||3==He||4==He?"few":"other"},dv:Gt,dz:An,ee:Gt,el:Gt,en:ts,eo:Gt,es:y=>{const A=String(y).split("."),M=A[0],S=!A[1],k=M.slice(-6);return 1==y?"one":0!=M&&0==k&&S?"many":"other"},et:ts,eu:Gt,fa:Ms,ff:y=>y>=0&&y<2?"one":"other",fi:ts,fil:y=>{const A=String(y).split("."),M=A[0],S=A[1]||"",k=!A[1],ue=M.slice(-1),He=S.slice(-1);return k&&(1==M||2==M||3==M)||k&&4!=ue&&6!=ue&&9!=ue||!k&&4!=He&&6!=He&&9!=He?"one":"other"},fo:Gt,fr:y=>{const A=String(y).split("."),M=A[0],S=!A[1],k=M.slice(-6);return y>=0&&y<2?"one":0!=M&&0==k&&S?"many":"other"},fur:Gt,fy:ts,ga:y=>{const A=String(y).split("."),M=Number(A[0])==y;return 1==y?"one":2==y?"two":M&&y>=3&&y<=6?"few":M&&y>=7&&y<=10?"many":"other"},gd:y=>{const A=String(y).split("."),M=Number(A[0])==y;return 1==y||11==y?"one":2==y||12==y?"two":M&&y>=3&&y<=10||M&&y>=13&&y<=19?"few":"other"},gl:ts,gsw:Gt,gu:Ms,guw:ei,gv:y=>{const A=String(y).split("."),M=A[0],S=!A[1],k=M.slice(-1),ue=M.slice(-2);return S&&1==k?"one":S&&2==k?"two":!S||0!=ue&&20!=ue&&40!=ue&&60!=ue&&80!=ue?S?"other":"many":"few"},ha:Gt,haw:Gt,he:y=>{const A=String(y).split("."),M=A[0],S=!A[1];return 1==M&&S||0==M&&!S?"one":2==M&&S?"two":"other"},hi:Ms,hnj:An,hr:y=>{const A=String(y).split("."),M=A[0],S=A[1]||"",k=!A[1],ue=M.slice(-1),He=M.slice(-2),lt=S.slice(-1),St=S.slice(-2);return k&&1==ue&&11!=He||1==lt&&11!=St?"one":k&&ue>=2&&ue<=4&&(He<12||He>14)||lt>=2&&lt<=4&&(St<12||St>14)?"few":"other"},hsb:y=>{const A=String(y).split("."),S=A[1]||"",k=!A[1],ue=A[0].slice(-2),He=S.slice(-2);return k&&1==ue||1==He?"one":k&&2==ue||2==He?"two":k&&(3==ue||4==ue)||3==He||4==He?"few":"other"},hu:Gt,hy:y=>y>=0&&y<2?"one":"other",ia:ts,id:An,ig:An,ii:An,io:ts,is:y=>{const A=String(y).split("."),M=A[0],S=(A[1]||"").replace(/0+$/,""),k=Number(A[0])==y,ue=M.slice(-1),He=M.slice(-2);return k&&1==ue&&11!=He||S%10==1&&S%100!=11?"one":"other"},it:y=>{const A=String(y).split("."),M=A[0],S=!A[1],k=M.slice(-6);return 1==y&&S?"one":0!=M&&0==k&&S?"many":"other"},iu:zo,ja:An,jbo:An,jgo:Gt,jmc:Gt,jv:An,jw:An,ka:Gt,kab:y=>y>=0&&y<2?"one":"other",kaj:Gt,kcg:Gt,kde:An,kea:An,kk:Gt,kkj:Gt,kl:Gt,km:An,kn:Ms,ko:An,ks:Gt,ksb:Gt,ksh:y=>0==y?"zero":1==y?"one":"other",ku:Gt,kw:y=>{const A=String(y).split("."),M=Number(A[0])==y,S=M&&A[0].slice(-2),k=M&&A[0].slice(-3),ue=M&&A[0].slice(-5),He=M&&A[0].slice(-6);return 0==y?"zero":1==y?"one":2==S||22==S||42==S||62==S||82==S||M&&0==k&&(ue>=1e3&&ue<=2e4||4e4==ue||6e4==ue||8e4==ue)||0!=y&&1e5==He?"two":3==S||23==S||43==S||63==S||83==S?"few":1==y||1!=S&&21!=S&&41!=S&&61!=S&&81!=S?"other":"many"},ky:Gt,lag:y=>{const M=String(y).split(".")[0];return 0==y?"zero":0!=M&&1!=M||0==y?"other":"one"},lb:Gt,lg:Gt,lij:ts,lkt:An,ln:ei,lo:An,lt:y=>{const A=String(y).split("."),M=A[1]||"",S=Number(A[0])==y,k=S&&A[0].slice(-1),ue=S&&A[0].slice(-2);return 1==k&&(ue<11||ue>19)?"one":k>=2&&k<=9&&(ue<11||ue>19)?"few":0!=M?"many":"other"},lv:y=>{const A=String(y).split("."),M=A[1]||"",S=M.length,k=Number(A[0])==y,ue=k&&A[0].slice(-1),He=k&&A[0].slice(-2),lt=M.slice(-2),St=M.slice(-1);return k&&0==ue||He>=11&&He<=19||2==S&&lt>=11&&lt<=19?"zero":1==ue&&11!=He||2==S&&1==St&&11!=lt||2!=S&&1==St?"one":"other"},mas:Gt,mg:ei,mgo:Gt,mk:y=>{const A=String(y).split("."),M=A[0],S=A[1]||"",k=!A[1],ue=M.slice(-1),He=M.slice(-2),lt=S.slice(-1),St=S.slice(-2);return k&&1==ue&&11!=He||1==lt&&11!=St?"one":"other"},ml:Gt,mn:Gt,mo:y=>{const A=String(y).split("."),M=!A[1],k=Number(A[0])==y&&A[0].slice(-2);return 1==y&&M?"one":!M||0==y||1!=y&&k>=1&&k<=19?"few":"other"},mr:Gt,ms:An,mt:y=>{const A=String(y).split("."),S=Number(A[0])==y&&A[0].slice(-2);return 1==y?"one":2==y?"two":0==y||S>=3&&S<=10?"few":S>=11&&S<=19?"many":"other"},my:An,nah:Gt,naq:zo,nb:Gt,nd:Gt,ne:Gt,nl:ts,nn:Gt,nnh:Gt,no:Gt,nqo:An,nr:Gt,nso:ei,ny:Gt,nyn:Gt,om:Gt,or:Gt,os:Gt,osa:An,pa:ei,pap:Gt,pcm:Ms,pl:y=>{const A=String(y).split("."),M=A[0],S=!A[1],k=M.slice(-1),ue=M.slice(-2);return 1==y&&S?"one":S&&k>=2&&k<=4&&(ue<12||ue>14)?"few":S&&1!=M&&(0==k||1==k)||S&&k>=5&&k<=9||S&&ue>=12&&ue<=14?"many":"other"},prg:y=>{const A=String(y).split("."),M=A[1]||"",S=M.length,k=Number(A[0])==y,ue=k&&A[0].slice(-1),He=k&&A[0].slice(-2),lt=M.slice(-2),St=M.slice(-1);return k&&0==ue||He>=11&&He<=19||2==S&&lt>=11&&lt<=19?"zero":1==ue&&11!=He||2==S&&1==St&&11!=lt||2!=S&&1==St?"one":"other"},ps:Gt,pt:y=>{const A=String(y).split("."),M=A[0],S=!A[1],k=M.slice(-6);return 0==M||1==M?"one":0!=M&&0==k&&S?"many":"other"},pt_PT:y=>{const A=String(y).split("."),M=A[0],S=!A[1],k=M.slice(-6);return 1==y&&S?"one":0!=M&&0==k&&S?"many":"other"},rm:Gt,ro:y=>{const A=String(y).split("."),M=!A[1],k=Number(A[0])==y&&A[0].slice(-2);return 1==y&&M?"one":!M||0==y||1!=y&&k>=1&&k<=19?"few":"other"},rof:Gt,ru:y=>{const A=String(y).split("."),M=A[0],S=!A[1],k=M.slice(-1),ue=M.slice(-2);return S&&1==k&&11!=ue?"one":S&&k>=2&&k<=4&&(ue<12||ue>14)?"few":S&&0==k||S&&k>=5&&k<=9||S&&ue>=11&&ue<=14?"many":"other"},rwk:Gt,sah:An,saq:Gt,sat:zo,sc:ts,scn:ts,sd:Gt,sdh:Gt,se:zo,seh:Gt,ses:An,sg:An,sh:y=>{const A=String(y).split("."),M=A[0],S=A[1]||"",k=!A[1],ue=M.slice(-1),He=M.slice(-2),lt=S.slice(-1),St=S.slice(-2);return k&&1==ue&&11!=He||1==lt&&11!=St?"one":k&&ue>=2&&ue<=4&&(He<12||He>14)||lt>=2&&lt<=4&&(St<12||St>14)?"few":"other"},shi:y=>{const A=String(y).split("."),M=Number(A[0])==y;return y>=0&&y<=1?"one":M&&y>=2&&y<=10?"few":"other"},si:y=>{const A=String(y).split(".");return 0==y||1==y||0==A[0]&&1==(A[1]||"")?"one":"other"},sk:y=>{const A=String(y).split("."),M=A[0],S=!A[1];return 1==y&&S?"one":M>=2&&M<=4&&S?"few":S?"other":"many"},sl:y=>{const A=String(y).split("."),S=!A[1],k=A[0].slice(-2);return S&&1==k?"one":S&&2==k?"two":S&&(3==k||4==k)||!S?"few":"other"},sma:zo,smi:zo,smj:zo,smn:zo,sms:zo,sn:Gt,so:Gt,sq:Gt,sr:y=>{const A=String(y).split("."),M=A[0],S=A[1]||"",k=!A[1],ue=M.slice(-1),He=M.slice(-2),lt=S.slice(-1),St=S.slice(-2);return k&&1==ue&&11!=He||1==lt&&11!=St?"one":k&&ue>=2&&ue<=4&&(He<12||He>14)||lt>=2&&lt<=4&&(St<12||St>14)?"few":"other"},ss:Gt,ssy:Gt,st:Gt,su:An,sv:ts,sw:ts,syr:Gt,ta:Gt,te:Gt,teo:Gt,th:An,ti:ei,tig:Gt,tk:Gt,tl:y=>{const A=String(y).split("."),M=A[0],S=A[1]||"",k=!A[1],ue=M.slice(-1),He=S.slice(-1);return k&&(1==M||2==M||3==M)||k&&4!=ue&&6!=ue&&9!=ue||!k&&4!=He&&6!=He&&9!=He?"one":"other"},tn:Gt,to:An,tpi:An,tr:Gt,ts:Gt,tzm:y=>{const A=String(y).split("."),M=Number(A[0])==y;return 0==y||1==y||M&&y>=11&&y<=99?"one":"other"},ug:Gt,uk:y=>{const A=String(y).split("."),M=A[0],S=!A[1],k=M.slice(-1),ue=M.slice(-2);return S&&1==k&&11!=ue?"one":S&&k>=2&&k<=4&&(ue<12||ue>14)?"few":S&&0==k||S&&k>=5&&k<=9||S&&ue>=11&&ue<=14?"many":"other"},und:An,ur:ts,uz:Gt,ve:Gt,vec:y=>{const A=String(y).split("."),M=A[0],S=!A[1],k=M.slice(-6);return 1==y&&S?"one":0!=M&&0==k&&S?"many":"other"},vi:An,vo:Gt,vun:Gt,wa:ei,wae:Gt,wo:An,xh:Gt,xog:Gt,yi:ts,yo:An,yue:An,zh:An,zu:Ms});const rs="zero",Yt="one",ki="two",Mn="few",kn="many",zt="other",dt={cardinal:[Yt,zt],ordinal:[zt]},Tr={cardinal:[Yt,zt],ordinal:[Yt,zt]},gi={cardinal:[zt],ordinal:[zt]},ea={cardinal:[Yt,ki,zt],ordinal:[zt]};var E4=Object.freeze({__proto__:null,af:dt,ak:dt,am:dt,an:dt,ar:{cardinal:[rs,Yt,ki,Mn,kn,zt],ordinal:[zt]},ars:{cardinal:[rs,Yt,ki,Mn,kn,zt],ordinal:[zt]},as:{cardinal:[Yt,zt],ordinal:[Yt,ki,Mn,kn,zt]},asa:dt,ast:dt,az:{cardinal:[Yt,zt],ordinal:[Yt,Mn,kn,zt]},bal:Tr,be:{cardinal:[Yt,Mn,kn,zt],ordinal:[Mn,zt]},bem:dt,bez:dt,bg:dt,bho:dt,bm:gi,bn:{cardinal:[Yt,zt],ordinal:[Yt,ki,Mn,kn,zt]},bo:gi,br:{cardinal:[Yt,ki,Mn,kn,zt],ordinal:[zt]},brx:dt,bs:{cardinal:[Yt,Mn,zt],ordinal:[zt]},ca:{cardinal:[Yt,kn,zt],ordinal:[Yt,ki,Mn,zt]},ce:dt,ceb:dt,cgg:dt,chr:dt,ckb:dt,cs:{cardinal:[Yt,Mn,kn,zt],ordinal:[zt]},cy:{cardinal:[rs,Yt,ki,Mn,kn,zt],ordinal:[rs,Yt,ki,Mn,kn,zt]},da:dt,de:dt,doi:dt,dsb:{cardinal:[Yt,ki,Mn,zt],ordinal:[zt]},dv:dt,dz:gi,ee:dt,el:dt,en:{cardinal:[Yt,zt],ordinal:[Yt,ki,Mn,zt]},eo:dt,es:{cardinal:[Yt,kn,zt],ordinal:[zt]},et:dt,eu:dt,fa:dt,ff:dt,fi:dt,fil:Tr,fo:dt,fr:{cardinal:[Yt,kn,zt],ordinal:[Yt,zt]},fur:dt,fy:dt,ga:{cardinal:[Yt,ki,Mn,kn,zt],ordinal:[Yt,zt]},gd:{cardinal:[Yt,ki,Mn,zt],ordinal:[Yt,ki,Mn,zt]},gl:dt,gsw:dt,gu:{cardinal:[Yt,zt],ordinal:[Yt,ki,Mn,kn,zt]},guw:dt,gv:{cardinal:[Yt,ki,Mn,kn,zt],ordinal:[zt]},ha:dt,haw:dt,he:ea,hi:{cardinal:[Yt,zt],ordinal:[Yt,ki,Mn,kn,zt]},hnj:gi,hr:{cardinal:[Yt,Mn,zt],ordinal:[zt]},hsb:{cardinal:[Yt,ki,Mn,zt],ordinal:[zt]},hu:Tr,hy:Tr,ia:dt,id:gi,ig:gi,ii:gi,io:dt,is:dt,it:{cardinal:[Yt,kn,zt],ordinal:[kn,zt]},iu:ea,ja:gi,jbo:gi,jgo:dt,jmc:dt,jv:gi,jw:gi,ka:{cardinal:[Yt,zt],ordinal:[Yt,kn,zt]},kab:dt,kaj:dt,kcg:dt,kde:gi,kea:gi,kk:{cardinal:[Yt,zt],ordinal:[kn,zt]},kkj:dt,kl:dt,km:gi,kn:dt,ko:gi,ks:dt,ksb:dt,ksh:{cardinal:[rs,Yt,zt],ordinal:[zt]},ku:dt,kw:{cardinal:[rs,Yt,ki,Mn,kn,zt],ordinal:[Yt,kn,zt]},ky:dt,lag:{cardinal:[rs,Yt,zt],ordinal:[zt]},lb:dt,lg:dt,lij:{cardinal:[Yt,zt],ordinal:[kn,zt]},lkt:gi,ln:dt,lo:{cardinal:[zt],ordinal:[Yt,zt]},lt:{cardinal:[Yt,Mn,kn,zt],ordinal:[zt]},lv:{cardinal:[rs,Yt,zt],ordinal:[zt]},mas:dt,mg:dt,mgo:dt,mk:{cardinal:[Yt,zt],ordinal:[Yt,ki,kn,zt]},ml:dt,mn:dt,mo:{cardinal:[Yt,Mn,zt],ordinal:[Yt,zt]},mr:{cardinal:[Yt,zt],ordinal:[Yt,ki,Mn,zt]},ms:{cardinal:[zt],ordinal:[Yt,zt]},mt:{cardinal:[Yt,ki,Mn,kn,zt],ordinal:[zt]},my:gi,nah:dt,naq:ea,nb:dt,nd:dt,ne:Tr,nl:dt,nn:dt,nnh:dt,no:dt,nqo:gi,nr:dt,nso:dt,ny:dt,nyn:dt,om:dt,or:{cardinal:[Yt,zt],ordinal:[Yt,ki,Mn,kn,zt]},os:dt,osa:gi,pa:dt,pap:dt,pcm:dt,pl:{cardinal:[Yt,Mn,kn,zt],ordinal:[zt]},prg:{cardinal:[rs,Yt,zt],ordinal:[zt]},ps:dt,pt:{cardinal:[Yt,kn,zt],ordinal:[zt]},pt_PT:{cardinal:[Yt,kn,zt],ordinal:[zt]},rm:dt,ro:{cardinal:[Yt,Mn,zt],ordinal:[Yt,zt]},rof:dt,ru:{cardinal:[Yt,Mn,kn,zt],ordinal:[zt]},rwk:dt,sah:gi,saq:dt,sat:ea,sc:{cardinal:[Yt,zt],ordinal:[kn,zt]},scn:{cardinal:[Yt,zt],ordinal:[kn,zt]},sd:dt,sdh:dt,se:ea,seh:dt,ses:gi,sg:gi,sh:{cardinal:[Yt,Mn,zt],ordinal:[zt]},shi:{cardinal:[Yt,Mn,zt],ordinal:[zt]},si:dt,sk:{cardinal:[Yt,Mn,kn,zt],ordinal:[zt]},sl:{cardinal:[Yt,ki,Mn,zt],ordinal:[zt]},sma:ea,smi:ea,smj:ea,smn:ea,sms:ea,sn:dt,so:dt,sq:{cardinal:[Yt,zt],ordinal:[Yt,kn,zt]},sr:{cardinal:[Yt,Mn,zt],ordinal:[zt]},ss:dt,ssy:dt,st:dt,su:gi,sv:Tr,sw:dt,syr:dt,ta:dt,te:dt,teo:dt,th:gi,ti:dt,tig:dt,tk:{cardinal:[Yt,zt],ordinal:[Mn,zt]},tl:Tr,tn:dt,to:gi,tpi:gi,tr:dt,ts:dt,tzm:dt,ug:dt,uk:{cardinal:[Yt,Mn,kn,zt],ordinal:[Mn,zt]},und:gi,ur:dt,uz:dt,ve:dt,vec:{cardinal:[Yt,kn,zt],ordinal:[kn,zt]},vi:{cardinal:[zt],ordinal:[Yt,zt]},vo:dt,vun:dt,wa:dt,wae:dt,wo:gi,xh:dt,xog:dt,yi:dt,yo:gi,yue:gi,zh:gi,zu:dt});const pn=(y,A)=>A?"other":1==y?"one":"other",Gu=(y,A)=>A?"other":0==y||1==y?"one":"other",Y1=(y,A)=>A?"other":y>=0&&y<=1?"one":"other",dl=(y,A)=>{const M=String(y).split(".");return A||1!=y||M[1]?"other":"one"},rr=(y,A)=>"other",Wu=(y,A)=>A?"other":1==y?"one":2==y?"two":"other";var V2=Object.freeze({__proto__:null,af:pn,ak:Gu,am:Y1,an:pn,ar:(y,A)=>{const M=String(y).split("."),k=Number(M[0])==y&&M[0].slice(-2);return A?"other":0==y?"zero":1==y?"one":2==y?"two":k>=3&&k<=10?"few":k>=11&&k<=99?"many":"other"},ars:(y,A)=>{const M=String(y).split("."),k=Number(M[0])==y&&M[0].slice(-2);return A?"other":0==y?"zero":1==y?"one":2==y?"two":k>=3&&k<=10?"few":k>=11&&k<=99?"many":"other"},as:(y,A)=>A?1==y||5==y||7==y||8==y||9==y||10==y?"one":2==y||3==y?"two":4==y?"few":6==y?"many":"other":y>=0&&y<=1?"one":"other",asa:pn,ast:dl,az:(y,A)=>{const S=String(y).split(".")[0],k=S.slice(-1),ue=S.slice(-2),He=S.slice(-3);return A?1==k||2==k||5==k||7==k||8==k||20==ue||50==ue||70==ue||80==ue?"one":3==k||4==k||100==He||200==He||300==He||400==He||500==He||600==He||700==He||800==He||900==He?"few":0==S||6==k||40==ue||60==ue||90==ue?"many":"other":1==y?"one":"other"},bal:(y,A)=>1==y?"one":"other",be:(y,A)=>{const M=String(y).split("."),S=Number(M[0])==y,k=S&&M[0].slice(-1),ue=S&&M[0].slice(-2);return A?2!=k&&3!=k||12==ue||13==ue?"other":"few":1==k&&11!=ue?"one":k>=2&&k<=4&&(ue<12||ue>14)?"few":S&&0==k||k>=5&&k<=9||ue>=11&&ue<=14?"many":"other"},bem:pn,bez:pn,bg:pn,bho:Gu,bm:rr,bn:(y,A)=>A?1==y||5==y||7==y||8==y||9==y||10==y?"one":2==y||3==y?"two":4==y?"few":6==y?"many":"other":y>=0&&y<=1?"one":"other",bo:rr,br:(y,A)=>{const M=String(y).split("."),S=Number(M[0])==y,k=S&&M[0].slice(-1),ue=S&&M[0].slice(-2),He=S&&M[0].slice(-6);return A?"other":1==k&&11!=ue&&71!=ue&&91!=ue?"one":2==k&&12!=ue&&72!=ue&&92!=ue?"two":(3==k||4==k||9==k)&&(ue<10||ue>19)&&(ue<70||ue>79)&&(ue<90||ue>99)?"few":0!=y&&S&&0==He?"many":"other"},brx:pn,bs:(y,A)=>{const M=String(y).split("."),S=M[0],k=M[1]||"",ue=!M[1],He=S.slice(-1),lt=S.slice(-2),St=k.slice(-1),rn=k.slice(-2);return A?"other":ue&&1==He&&11!=lt||1==St&&11!=rn?"one":ue&&He>=2&&He<=4&&(lt<12||lt>14)||St>=2&&St<=4&&(rn<12||rn>14)?"few":"other"},ca:(y,A)=>{const M=String(y).split("."),S=M[0],k=!M[1],ue=S.slice(-6);return A?1==y||3==y?"one":2==y?"two":4==y?"few":"other":1==y&&k?"one":0!=S&&0==ue&&k?"many":"other"},ce:pn,ceb:(y,A)=>{const M=String(y).split("."),S=M[0],k=M[1]||"",ue=!M[1],He=S.slice(-1),lt=k.slice(-1);return A?"other":ue&&(1==S||2==S||3==S)||ue&&4!=He&&6!=He&&9!=He||!ue&&4!=lt&&6!=lt&&9!=lt?"one":"other"},cgg:pn,chr:pn,ckb:pn,cs:(y,A)=>{const M=String(y).split("."),S=M[0],k=!M[1];return A?"other":1==y&&k?"one":S>=2&&S<=4&&k?"few":k?"other":"many"},cy:(y,A)=>A?0==y||7==y||8==y||9==y?"zero":1==y?"one":2==y?"two":3==y||4==y?"few":5==y||6==y?"many":"other":0==y?"zero":1==y?"one":2==y?"two":3==y?"few":6==y?"many":"other",da:(y,A)=>{const M=String(y).split("."),S=M[0],k=Number(M[0])==y;return A||1!=y&&(k||0!=S&&1!=S)?"other":"one"},de:dl,doi:Y1,dsb:(y,A)=>{const M=String(y).split("."),k=M[1]||"",ue=!M[1],He=M[0].slice(-2),lt=k.slice(-2);return A?"other":ue&&1==He||1==lt?"one":ue&&2==He||2==lt?"two":ue&&(3==He||4==He)||3==lt||4==lt?"few":"other"},dv:pn,dz:rr,ee:pn,el:pn,en:(y,A)=>{const M=String(y).split("."),S=!M[1],k=Number(M[0])==y,ue=k&&M[0].slice(-1),He=k&&M[0].slice(-2);return A?1==ue&&11!=He?"one":2==ue&&12!=He?"two":3==ue&&13!=He?"few":"other":1==y&&S?"one":"other"},eo:pn,es:(y,A)=>{const M=String(y).split("."),S=M[0],k=!M[1],ue=S.slice(-6);return A?"other":1==y?"one":0!=S&&0==ue&&k?"many":"other"},et:dl,eu:pn,fa:Y1,ff:(y,A)=>A?"other":y>=0&&y<2?"one":"other",fi:dl,fil:(y,A)=>{const M=String(y).split("."),S=M[0],k=M[1]||"",ue=!M[1],He=S.slice(-1),lt=k.slice(-1);return A?1==y?"one":"other":ue&&(1==S||2==S||3==S)||ue&&4!=He&&6!=He&&9!=He||!ue&&4!=lt&&6!=lt&&9!=lt?"one":"other"},fo:pn,fr:(y,A)=>{const M=String(y).split("."),S=M[0],k=!M[1],ue=S.slice(-6);return A?1==y?"one":"other":y>=0&&y<2?"one":0!=S&&0==ue&&k?"many":"other"},fur:pn,fy:dl,ga:(y,A)=>{const M=String(y).split("."),S=Number(M[0])==y;return A?1==y?"one":"other":1==y?"one":2==y?"two":S&&y>=3&&y<=6?"few":S&&y>=7&&y<=10?"many":"other"},gd:(y,A)=>{const M=String(y).split("."),S=Number(M[0])==y;return A?1==y||11==y?"one":2==y||12==y?"two":3==y||13==y?"few":"other":1==y||11==y?"one":2==y||12==y?"two":S&&y>=3&&y<=10||S&&y>=13&&y<=19?"few":"other"},gl:dl,gsw:pn,gu:(y,A)=>A?1==y?"one":2==y||3==y?"two":4==y?"few":6==y?"many":"other":y>=0&&y<=1?"one":"other",guw:Gu,gv:(y,A)=>{const M=String(y).split("."),S=M[0],k=!M[1],ue=S.slice(-1),He=S.slice(-2);return A?"other":k&&1==ue?"one":k&&2==ue?"two":!k||0!=He&&20!=He&&40!=He&&60!=He&&80!=He?k?"other":"many":"few"},ha:pn,haw:pn,he:(y,A)=>{const M=String(y).split("."),S=M[0],k=!M[1];return A?"other":1==S&&k||0==S&&!k?"one":2==S&&k?"two":"other"},hi:(y,A)=>A?1==y?"one":2==y||3==y?"two":4==y?"few":6==y?"many":"other":y>=0&&y<=1?"one":"other",hnj:rr,hr:(y,A)=>{const M=String(y).split("."),S=M[0],k=M[1]||"",ue=!M[1],He=S.slice(-1),lt=S.slice(-2),St=k.slice(-1),rn=k.slice(-2);return A?"other":ue&&1==He&&11!=lt||1==St&&11!=rn?"one":ue&&He>=2&&He<=4&&(lt<12||lt>14)||St>=2&&St<=4&&(rn<12||rn>14)?"few":"other"},hsb:(y,A)=>{const M=String(y).split("."),k=M[1]||"",ue=!M[1],He=M[0].slice(-2),lt=k.slice(-2);return A?"other":ue&&1==He||1==lt?"one":ue&&2==He||2==lt?"two":ue&&(3==He||4==He)||3==lt||4==lt?"few":"other"},hu:(y,A)=>A?1==y||5==y?"one":"other":1==y?"one":"other",hy:(y,A)=>A?1==y?"one":"other":y>=0&&y<2?"one":"other",ia:dl,id:rr,ig:rr,ii:rr,io:dl,is:(y,A)=>{const M=String(y).split("."),S=M[0],k=(M[1]||"").replace(/0+$/,""),ue=Number(M[0])==y,He=S.slice(-1),lt=S.slice(-2);return A?"other":ue&&1==He&&11!=lt||k%10==1&&k%100!=11?"one":"other"},it:(y,A)=>{const M=String(y).split("."),S=M[0],k=!M[1],ue=S.slice(-6);return A?11==y||8==y||80==y||800==y?"many":"other":1==y&&k?"one":0!=S&&0==ue&&k?"many":"other"},iu:Wu,ja:rr,jbo:rr,jgo:pn,jmc:pn,jv:rr,jw:rr,ka:(y,A)=>{const S=String(y).split(".")[0],k=S.slice(-2);return A?1==S?"one":0==S||k>=2&&k<=20||40==k||60==k||80==k?"many":"other":1==y?"one":"other"},kab:(y,A)=>A?"other":y>=0&&y<2?"one":"other",kaj:pn,kcg:pn,kde:rr,kea:rr,kk:(y,A)=>{const M=String(y).split("."),S=Number(M[0])==y,k=S&&M[0].slice(-1);return A?6==k||9==k||S&&0==k&&0!=y?"many":"other":1==y?"one":"other"},kkj:pn,kl:pn,km:rr,kn:Y1,ko:rr,ks:pn,ksb:pn,ksh:(y,A)=>A?"other":0==y?"zero":1==y?"one":"other",ku:pn,kw:(y,A)=>{const M=String(y).split("."),S=Number(M[0])==y,k=S&&M[0].slice(-2),ue=S&&M[0].slice(-3),He=S&&M[0].slice(-5),lt=S&&M[0].slice(-6);return A?S&&y>=1&&y<=4||k>=1&&k<=4||k>=21&&k<=24||k>=41&&k<=44||k>=61&&k<=64||k>=81&&k<=84?"one":5==y||5==k?"many":"other":0==y?"zero":1==y?"one":2==k||22==k||42==k||62==k||82==k||S&&0==ue&&(He>=1e3&&He<=2e4||4e4==He||6e4==He||8e4==He)||0!=y&&1e5==lt?"two":3==k||23==k||43==k||63==k||83==k?"few":1==y||1!=k&&21!=k&&41!=k&&61!=k&&81!=k?"other":"many"},ky:pn,lag:(y,A)=>{const S=String(y).split(".")[0];return A?"other":0==y?"zero":0!=S&&1!=S||0==y?"other":"one"},lb:pn,lg:pn,lij:(y,A)=>{const M=String(y).split("."),S=!M[1],k=Number(M[0])==y;return A?11==y||8==y||k&&y>=80&&y<=89||k&&y>=800&&y<=899?"many":"other":1==y&&S?"one":"other"},lkt:rr,ln:Gu,lo:(y,A)=>A&&1==y?"one":"other",lt:(y,A)=>{const M=String(y).split("."),S=M[1]||"",k=Number(M[0])==y,ue=k&&M[0].slice(-1),He=k&&M[0].slice(-2);return A?"other":1==ue&&(He<11||He>19)?"one":ue>=2&&ue<=9&&(He<11||He>19)?"few":0!=S?"many":"other"},lv:(y,A)=>{const M=String(y).split("."),S=M[1]||"",k=S.length,ue=Number(M[0])==y,He=ue&&M[0].slice(-1),lt=ue&&M[0].slice(-2),St=S.slice(-2),rn=S.slice(-1);return A?"other":ue&&0==He||lt>=11&&lt<=19||2==k&&St>=11&&St<=19?"zero":1==He&&11!=lt||2==k&&1==rn&&11!=St||2!=k&&1==rn?"one":"other"},mas:pn,mg:Gu,mgo:pn,mk:(y,A)=>{const M=String(y).split("."),S=M[0],k=M[1]||"",ue=!M[1],He=S.slice(-1),lt=S.slice(-2),St=k.slice(-1),rn=k.slice(-2);return A?1==He&&11!=lt?"one":2==He&&12!=lt?"two":7!=He&&8!=He||17==lt||18==lt?"other":"many":ue&&1==He&&11!=lt||1==St&&11!=rn?"one":"other"},ml:pn,mn:pn,mo:(y,A)=>{const M=String(y).split("."),S=!M[1],ue=Number(M[0])==y&&M[0].slice(-2);return A?1==y?"one":"other":1==y&&S?"one":!S||0==y||1!=y&&ue>=1&&ue<=19?"few":"other"},mr:(y,A)=>A?1==y?"one":2==y||3==y?"two":4==y?"few":"other":1==y?"one":"other",ms:(y,A)=>A&&1==y?"one":"other",mt:(y,A)=>{const M=String(y).split("."),k=Number(M[0])==y&&M[0].slice(-2);return A?"other":1==y?"one":2==y?"two":0==y||k>=3&&k<=10?"few":k>=11&&k<=19?"many":"other"},my:rr,nah:pn,naq:Wu,nb:pn,nd:pn,ne:(y,A)=>{const M=String(y).split("."),S=Number(M[0])==y;return A?S&&y>=1&&y<=4?"one":"other":1==y?"one":"other"},nl:dl,nn:pn,nnh:pn,no:pn,nqo:rr,nr:pn,nso:Gu,ny:pn,nyn:pn,om:pn,or:(y,A)=>{const M=String(y).split("."),S=Number(M[0])==y;return A?1==y||5==y||S&&y>=7&&y<=9?"one":2==y||3==y?"two":4==y?"few":6==y?"many":"other":1==y?"one":"other"},os:pn,osa:rr,pa:Gu,pap:pn,pcm:Y1,pl:(y,A)=>{const M=String(y).split("."),S=M[0],k=!M[1],ue=S.slice(-1),He=S.slice(-2);return A?"other":1==y&&k?"one":k&&ue>=2&&ue<=4&&(He<12||He>14)?"few":k&&1!=S&&(0==ue||1==ue)||k&&ue>=5&&ue<=9||k&&He>=12&&He<=14?"many":"other"},prg:(y,A)=>{const M=String(y).split("."),S=M[1]||"",k=S.length,ue=Number(M[0])==y,He=ue&&M[0].slice(-1),lt=ue&&M[0].slice(-2),St=S.slice(-2),rn=S.slice(-1);return A?"other":ue&&0==He||lt>=11&&lt<=19||2==k&&St>=11&&St<=19?"zero":1==He&&11!=lt||2==k&&1==rn&&11!=St||2!=k&&1==rn?"one":"other"},ps:pn,pt:(y,A)=>{const M=String(y).split("."),S=M[0],k=!M[1],ue=S.slice(-6);return A?"other":0==S||1==S?"one":0!=S&&0==ue&&k?"many":"other"},pt_PT:(y,A)=>{const M=String(y).split("."),S=M[0],k=!M[1],ue=S.slice(-6);return A?"other":1==y&&k?"one":0!=S&&0==ue&&k?"many":"other"},rm:pn,ro:(y,A)=>{const M=String(y).split("."),S=!M[1],ue=Number(M[0])==y&&M[0].slice(-2);return A?1==y?"one":"other":1==y&&S?"one":!S||0==y||1!=y&&ue>=1&&ue<=19?"few":"other"},rof:pn,ru:(y,A)=>{const M=String(y).split("."),S=M[0],k=!M[1],ue=S.slice(-1),He=S.slice(-2);return A?"other":k&&1==ue&&11!=He?"one":k&&ue>=2&&ue<=4&&(He<12||He>14)?"few":k&&0==ue||k&&ue>=5&&ue<=9||k&&He>=11&&He<=14?"many":"other"},rwk:pn,sah:rr,saq:pn,sat:Wu,sc:(y,A)=>{const M=String(y).split(".");return A?11==y||8==y||80==y||800==y?"many":"other":1!=y||M[1]?"other":"one"},scn:(y,A)=>{const M=String(y).split(".");return A?11==y||8==y||80==y||800==y?"many":"other":1!=y||M[1]?"other":"one"},sd:pn,sdh:pn,se:Wu,seh:pn,ses:rr,sg:rr,sh:(y,A)=>{const M=String(y).split("."),S=M[0],k=M[1]||"",ue=!M[1],He=S.slice(-1),lt=S.slice(-2),St=k.slice(-1),rn=k.slice(-2);return A?"other":ue&&1==He&&11!=lt||1==St&&11!=rn?"one":ue&&He>=2&&He<=4&&(lt<12||lt>14)||St>=2&&St<=4&&(rn<12||rn>14)?"few":"other"},shi:(y,A)=>{const M=String(y).split("."),S=Number(M[0])==y;return A?"other":y>=0&&y<=1?"one":S&&y>=2&&y<=10?"few":"other"},si:(y,A)=>{const M=String(y).split(".");return A?"other":0==y||1==y||0==M[0]&&1==(M[1]||"")?"one":"other"},sk:(y,A)=>{const M=String(y).split("."),S=M[0],k=!M[1];return A?"other":1==y&&k?"one":S>=2&&S<=4&&k?"few":k?"other":"many"},sl:(y,A)=>{const M=String(y).split("."),k=!M[1],ue=M[0].slice(-2);return A?"other":k&&1==ue?"one":k&&2==ue?"two":k&&(3==ue||4==ue)||!k?"few":"other"},sma:Wu,smi:Wu,smj:Wu,smn:Wu,sms:Wu,sn:pn,so:pn,sq:(y,A)=>{const M=String(y).split("."),S=Number(M[0])==y,k=S&&M[0].slice(-1),ue=S&&M[0].slice(-2);return A?1==y?"one":4==k&&14!=ue?"many":"other":1==y?"one":"other"},sr:(y,A)=>{const M=String(y).split("."),S=M[0],k=M[1]||"",ue=!M[1],He=S.slice(-1),lt=S.slice(-2),St=k.slice(-1),rn=k.slice(-2);return A?"other":ue&&1==He&&11!=lt||1==St&&11!=rn?"one":ue&&He>=2&&He<=4&&(lt<12||lt>14)||St>=2&&St<=4&&(rn<12||rn>14)?"few":"other"},ss:pn,ssy:pn,st:pn,su:rr,sv:(y,A)=>{const M=String(y).split("."),S=!M[1],k=Number(M[0])==y,ue=k&&M[0].slice(-1),He=k&&M[0].slice(-2);return A?1!=ue&&2!=ue||11==He||12==He?"other":"one":1==y&&S?"one":"other"},sw:dl,syr:pn,ta:pn,te:pn,teo:pn,th:rr,ti:Gu,tig:pn,tk:(y,A)=>{const M=String(y).split("."),k=Number(M[0])==y&&M[0].slice(-1);return A?6==k||9==k||10==y?"few":"other":1==y?"one":"other"},tl:(y,A)=>{const M=String(y).split("."),S=M[0],k=M[1]||"",ue=!M[1],He=S.slice(-1),lt=k.slice(-1);return A?1==y?"one":"other":ue&&(1==S||2==S||3==S)||ue&&4!=He&&6!=He&&9!=He||!ue&&4!=lt&&6!=lt&&9!=lt?"one":"other"},tn:pn,to:rr,tpi:rr,tr:pn,ts:pn,tzm:(y,A)=>{const M=String(y).split("."),S=Number(M[0])==y;return A?"other":0==y||1==y||S&&y>=11&&y<=99?"one":"other"},ug:pn,uk:(y,A)=>{const M=String(y).split("."),S=M[0],k=!M[1],ue=Number(M[0])==y,He=ue&&M[0].slice(-1),lt=ue&&M[0].slice(-2),St=S.slice(-1),rn=S.slice(-2);return A?3==He&&13!=lt?"few":"other":k&&1==St&&11!=rn?"one":k&&St>=2&&St<=4&&(rn<12||rn>14)?"few":k&&0==St||k&&St>=5&&St<=9||k&&rn>=11&&rn<=14?"many":"other"},und:rr,ur:dl,uz:pn,ve:pn,vec:(y,A)=>{const M=String(y).split("."),S=M[0],k=!M[1],ue=S.slice(-6);return A?11==y||8==y||80==y||800==y?"many":"other":1==y&&k?"one":0!=S&&0==ue&&k?"many":"other"},vi:(y,A)=>A&&1==y?"one":"other",vo:pn,vun:pn,wa:Gu,wae:pn,wo:rr,xh:pn,xog:pn,yi:dl,yo:rr,yue:rr,zh:rr,zu:Y1});function Jd(y){if("string"!=typeof y||y.length<2)throw new RangeError("Invalid language tag: ".concat(y));if(y.startsWith("pt-PT"))return"pt-PT";var A=y.match(/.+?(?=[-_])/);return A?A[0]:y}function Vf(y){if("function"==typeof y){var A=Jd(y.name);return{isDefault:!1,id:Mt(A),lc:A,locale:y.name,getPlural:y,cardinals:y.cardinals||[],ordinals:y.ordinals||[]}}var M=Jd(y),S=Mt(M);return function Qd(y){return y in V2}(S)?{isDefault:!0,id:S,lc:M,locale:y,getCardinal:cl[S],getPlural:V2[S],cardinals:E4[S].cardinal,ordinals:E4[S].ordinal}:null}function p8(y){return Mt(Jd(y))in V2}var g8=function(){function y(A,M){if(this.plurals=[],this.options=Object.assign({biDiSupport:!1,currency:"USD",customFormatters:{},localeCodeFromKey:null,requireAllArguments:!1,returnType:"string",strict:M&&M.strictNumberSign||!1,strictPluralKeys:!0},M),"*"===A?this.plurals=function mm(y){var A=Object.keys(V2).filter(function(M){return M!==y});return A.unshift(y),A.map(Vf)}(y.defaultLocale):Array.isArray(A)?this.plurals=A.map(Vf).filter(Boolean):A&&(S=Vf(A))&&(this.plurals=[S]),0===this.plurals.length){var S=Vf(y.defaultLocale);this.plurals=[S]}}return y.escape=function(A,M){var S=M?/[#{}]/g:/[{}]/g;return String(A).replace(S,"'$&'")},y.supportedLocalesOf=function(A){return(Array.isArray(A)?A:[A]).filter(p8)},y.prototype.resolvedOptions=function(){return Ue(Ue({},this.options),{locale:this.plurals[0].locale,plurals:this.plurals})},y.prototype.compile=function(A){var M,S,k=new qi(this.options),ue="return "+k.compile(A,this.plurals[0]),He=[],lt=[];try{for(var St=B(Object.entries(k.runtime)),rn=St.next();!rn.done;rn=St.next()){var Hn=Z(rn.value,2),xr=Hn[1];He.push(Hn[0]),lt.push(xr)}}catch(Ui){M={error:Ui}}finally{try{rn&&!rn.done&&(S=St.return)&&S.call(St)}finally{if(M)throw M.error}}return(new(Function.bind.apply(Function,ee(ee([void 0],Z(He),!1),[ue],!1)))).apply(void 0,ee([],Z(lt),!1))},y.defaultLocale="en",y}();return g8}()},7059:Pe=>{"use strict";var W,Ue=Object.defineProperty,B=Object.getOwnPropertyDescriptor,Z=Object.getOwnPropertyNames,ee=Object.prototype.hasOwnProperty,pe={};((W,O)=>{for(var Ce in O)Ue(W,Ce,{get:O[Ce],enumerable:!0})})(pe,{XmlCdata:()=>he,XmlComment:()=>Be,XmlDeclaration:()=>we,XmlDocument:()=>Ke,XmlDocumentType:()=>at,XmlElement:()=>Ne,XmlError:()=>z,XmlNode:()=>le,XmlProcessingInstruction:()=>re,XmlText:()=>Le,parseXml:()=>et}),Pe.exports=(W=pe,((W,O,Ce,je)=>{if(O&&"object"==typeof O||"function"==typeof O)for(let Ye of Z(O))!ee.call(W,Ye)&&undefined!==Ye&&Ue(W,Ye,{get:()=>O[Ye],enumerable:!(je=B(O,Ye))||je.enumerable});return W})(Ue({},"__esModule",{value:!0}),W));var N=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=class{constructor(W){if(this.k=this.u(W,!0),this.d=0,this.length=W.length,this.l=this.k!==this.length,this.h=W,this.l){let O=[];for(let Ce=0,je=0;je<this.k;++je)O[je]=Ce,Ce+=W.codePointAt(Ce)>65535?2:1;this.A=O}}get B(){return this.d>=this.k}u(W,O=this.l){return O?W.replace(N,"_").length:W.length}p(W=1){this.d=Math.min(this.k,this.d+W)}f(W=this.d){var O;return this.l?null!=(O=this.A[W])?O:1/0:W}G(W=1){let O=this.m(W);return this.p(W),O}v(W){let O=this.f(),Ce=this.h.slice(O,O+W);return this.p(this.u(Ce)),Ce}w(W){let{length:O,l:Ce,h:je}=this,Ye=this.f(),vt=Ye;if(Ce)for(;vt<O;){let ft=je[vt],At=ft>="\ud800"&&ft<="\udbff";if(At&&(ft+=je[vt+1]),!W(ft))break;vt+=At?2:1}else for(;vt<O&&W(je[vt]);)++vt;return this.v(vt-Ye)}b(W){let{length:O}=W,Ce=this.f();return W===this.h.slice(Ce,Ce+O)?(this.p(1===O?1:this.u(W)),W):""}x(W){let O=this.h.slice(this.f()).search(W);return O>0?this.v(O):""}s(W){let O=this.f(),Ce=this.h.indexOf(W,O);return Ce>0?this.v(Ce-O):""}m(W=1){let{d:O,h:Ce}=this;return this.l?Ce.slice(this.f(O),this.f(O+W)):Ce.slice(O,O+W)}n(W=0){this.d=W>=0?Math.min(this.k,W):Math.max(0,this.d+W)}},fe=/["&<]/,U=/['&<]/,Ie=/\r\n|[\n\r\t]/g,J=/<|&|]]>/,ge=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function R(W){let O=W.codePointAt(0);return O>=97&&O<=122||O>=65&&O<=90||O>=48&&O<=57||45===O||46===O||183===O||O>=768&&O<=879||8255===O||8256===O||X(W,O)}function X(W,O=W.codePointAt(0)){return O>=97&&O<=122||O>=65&&O<=90||58===O||95===O||O>=192&&O<=214||O>=216&&O<=246||O>=248&&O<=767||O>=880&&O<=893||O>=895&&O<=8191||8204===O||8205===O||O>=8304&&O<=8591||O>=11264&&O<=12271||O>=12289&&O<=55295||O>=63744&&O<=64975||O>=65008&&O<=65533||O>=65536&&O<=983039}function Q(W){return"#"===W||R(W)}function G(W){let O=W.codePointAt(0);return 32===O||9===O||10===O||13===O}function F(W){return W>=32&&W<=55295||10===W||9===W||13===W||W>=57344&&W<=65533||W>=65536&&W<=1114111}var ae=(()=>{let W=class eZ{constructor(){this.parent=null,this.start=-1,this.end=-1}get document(){var Ce,je;return null!=(je=null==(Ce=this.parent)?void 0:Ce.document)?je:null}get isRootNode(){return null!==this.parent&&this.parent===this.document&&this.type===eZ.TYPE_ELEMENT}get preserveWhitespace(){var Ce;return!(null==(Ce=this.parent)||!Ce.preserveWhitespace)}get type(){return""}toJSON(){let Ce={type:this.type};return this.isRootNode&&(Ce.isRootNode=!0),this.preserveWhitespace&&(Ce.preserveWhitespace=!0),-1!==this.start&&(Ce.start=this.start,Ce.end=this.end),Ce}};return W.TYPE_CDATA="cdata",W.TYPE_COMMENT="comment",W.TYPE_DOCUMENT="document",W.TYPE_DOCUMENT_TYPE="doctype",W.TYPE_ELEMENT="element",W.TYPE_PROCESSING_INSTRUCTION="pi",W.TYPE_TEXT="text",W.TYPE_XML_DECLARATION="xmldecl",W})(),le=ae,Le=class extends le{constructor(W=""){super(),this.text=W}get type(){return le.TYPE_TEXT}toJSON(){return Object.assign(le.prototype.toJSON.call(this),{text:this.text})}},he=class extends Le{get type(){return le.TYPE_CDATA}},Be=class extends le{constructor(W=""){super(),this.content=W}get type(){return le.TYPE_COMMENT}toJSON(){return Object.assign(le.prototype.toJSON.call(this),{content:this.content})}},we=class extends le{constructor(W,O,Ce){super(),this.version=W,this.encoding=O??null,this.standalone=Ce??null}get type(){return le.TYPE_XML_DECLARATION}toJSON(){let W=le.prototype.toJSON.call(this);W.version=this.version;for(let O of["encoding","standalone"])null!==this[O]&&(W[O]=this[O]);return W}},Ne=class tZ extends le{constructor(O,Ce=Object.create(null),je=[]){super(),this.name=O,this.attributes=Ce,this.children=je}get isEmpty(){return 0===this.children.length}get preserveWhitespace(){let O=this;for(;O instanceof tZ;){if("xml:space"in O.attributes)return"preserve"===O.attributes["xml:space"];O=O.parent}return!1}get text(){return this.children.map(O=>"text"in O?O.text:"").join("")}get type(){return le.TYPE_ELEMENT}toJSON(){return Object.assign(le.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(O=>O.toJSON())})}},Ke=class extends le{constructor(W=[]){super(),this.children=W}get document(){return this}get root(){for(let W of this.children)if(W instanceof Ne)return W;return null}get text(){return this.children.map(W=>"text"in W?W.text:"").join("")}get type(){return le.TYPE_DOCUMENT}toJSON(){return Object.assign(le.prototype.toJSON.call(this),{children:this.children.map(W=>W.toJSON())})}},at=class extends le{constructor(W,O,Ce,je){super(),this.name=W,this.publicId=O??null,this.systemId=Ce??null,this.internalSubset=je??null}get type(){return le.TYPE_DOCUMENT_TYPE}toJSON(){let W=le.prototype.toJSON.call(this);W.name=this.name;for(let O of["publicId","systemId","internalSubset"])null!==this[O]&&(W[O]=this[O]);return W}},z=class extends Error{constructor(W,O,Ce){let je=1,Ye="",vt=1;for(let Ft=0;Ft<O;++Ft){let Kt=Ce[Ft];"\n"===Kt?(je=1,Ye="",vt+=1):(je+=1,Ye+=Kt)}let ft=Ce.indexOf("\n",O);Ye+=-1===ft?Ce.slice(O):Ce.slice(O,ft);let At=0;Ye.length>50&&(je<40?Ye=Ye.slice(0,50):(At=je-20,Ye=Ye.slice(At,je+30))),super(`${W} (line ${vt}, column ${je})\n  ${Ye}\n`+" ".repeat(je-At+1)+"^\n"),this.column=je,this.excerpt=Ye,this.line=vt,this.name="XmlError",this.pos=O}},re=class extends le{constructor(W,O=""){super(),this.name=W,this.content=O}get type(){return le.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(le.prototype.toJSON.call(this),{name:this.name,content:this.content})}},Ge=class{constructor(W,O={}){let Ce=this.document=new Ke;this.j=Ce,this.g=O,this.c=new m(W),this.g.includeOffsets&&(Ce.start=0,Ce.end=W.length),this.parse()}i(W,O){return W.parent=this.j,this.g.includeOffsets&&(W.start=this.c.f(O),W.end=this.c.f()),this.j.children.push(W),!0}y(W,O){let{children:Ce}=this.j,{length:je}=Ce;if(W=rt(W),je>0){let Ye=Ce[je-1];if(Ye?.type===le.TYPE_TEXT){let vt=Ye;return vt.text+=W,this.g.includeOffsets&&(vt.end=this.c.f()),!0}}return this.i(new Le(W),O)}H(){let W=Object.create(null);for(;this.e();){let O=this.q();if(!O)break;let Ce=this.t()&&this.I();if(!1===Ce)throw this.a("Attribute value expected");if(O in W)throw this.a(`Duplicate attribute: ${O}`);if("xml:space"===O&&"default"!==Ce&&"preserve"!==Ce)throw this.a('Value of the `xml:space` attribute must be "default" or "preserve"');W[O]=Ce}if(this.g.sortAttributes){let O=Object.keys(W).sort(),Ce=Object.create(null);for(let je=0;je<O.length;++je){let Ye=O[je];Ce[Ye]=W[Ye]}W=Ce}return W}I(){let{c:W}=this,O=W.m();if('"'!==O&&"'"!==O)return!1;W.p();let Ce,je=!1,Ye="",vt='"'===O?fe:U;e:for(;!W.B;)switch(Ce=W.x(vt),Ce&&(this.o(Ce),Ye+=Ce.replace(Ie," ")),W.m()){case O:je=!0;break e;case"&":Ye+=this.C();continue;case"<":throw this.a("Unescaped `<` is not allowed in an attribute value");default:break e}if(!je)throw this.a("Unclosed attribute");return W.p(),Ye}J(){let{c:W}=this,O=W.d;if(!W.b("<![CDATA["))return!1;let Ce=W.s("]]>");if(this.o(Ce),!W.b("]]>"))throw this.a("Unclosed CDATA section");return this.g.preserveCdata?this.i(new he(rt(Ce)),O):this.y(Ce,O)}K(){let{c:W}=this,O=W.d,Ce=W.x(J);if(!Ce)return!1;if(this.o(Ce),"]]>"===W.m(3))throw this.a("Element content may not contain the CDATA section close delimiter `]]>`");return this.y(Ce,O)}D(){let{c:W}=this,O=W.d;if(!W.b("\x3c!--"))return!1;let Ce=W.s("--");if(this.o(Ce),!W.b("--\x3e"))throw"--"===W.m(2)?this.a("The string `--` isn't allowed inside a comment"):this.a("Unclosed comment");return!this.g.preserveComments||this.i(new Be(rt(Ce)),O)}L(){let W=this.c.d,O=this.C();return!!O&&this.y(O,W)}M(){let{c:W}=this,O=W.d;if(!W.b("<!DOCTYPE"))return!1;let je,Ye,vt,Ce=this.e()&&this.q();if(!Ce)throw this.a("Expected a name");if(this.e()){if(W.b("PUBLIC")){if(je=this.e()&&this.N(),!1===je)throw this.a("Expected a public identifier");this.e()}if(void 0!==je||W.b("SYSTEM")){if(this.e(),Ye=this.r(),!1===Ye)throw this.a("Expected a system identifier");this.e()}}if(W.b("[")){if(vt=W.x(/\][\x20\t\r\n]*>/),!W.b("]"))throw this.a("Unclosed internal subset");this.e()}if(!W.b(">"))throw this.a("Unclosed doctype declaration");return!this.g.preserveDocumentType||this.i(new at(Ce,je,Ye,vt),O)}E(){let{c:W}=this,O=W.d;if(!W.b("<"))return!1;let Ce=this.q();if(!Ce)return W.n(O),!1;let je=this.H(),Ye=!!W.b("/>"),vt=new Ne(Ce,je);if(vt.parent=this.j,!Ye){if(!W.b(">"))throw this.a(`Unclosed start tag for element \`${Ce}\``);this.j=vt;do{this.K()}while(this.E()||this.L()||this.J()||this.F()||this.D());let At,ft=W.d;if(!W.b("</")||!(At=this.q())||At!==Ce)throw W.n(ft),this.a(`Missing end tag for element ${Ce}`);if(this.e(),!W.b(">"))throw this.a(`Unclosed end tag for element ${Ce}`);this.j=vt.parent}return this.i(vt,O)}t(){return this.e(),!!this.c.b("=")&&(this.e(),!0)}z(){return this.D()||this.F()||this.e()}q(){return X(this.c.m())?this.c.w(R):""}F(){let{c:W}=this,O=W.d;if(!W.b("<?"))return!1;let Ce=this.q();if(!Ce)throw this.a("Invalid processing instruction");if("xml"===Ce.toLowerCase())throw W.n(O),this.a("XML declaration isn't allowed here");if(!this.e()){if(W.b("?>"))return this.i(new re(Ce),O);throw this.a("Whitespace is required after a processing instruction name")}let je=W.s("?>");if(this.o(je),!W.b("?>"))throw this.a("Unterminated processing instruction");return this.i(new re(Ce,rt(je)),O)}O(){let{c:W}=this,O=W.d;for(this.P();this.z(););if(this.M())for(;this.z(););return O<W.d}N(){let W=this.c.d,O=this.r();if(!1!==O&&!/^[-\x20\r\na-zA-Z0-9'()+,./:=?;!*#@$_%]*$/.test(O))throw this.c.n(W),this.a("Invalid character in public identifier");return O}C(){let{c:W}=this;if(!W.b("&"))return!1;let Ce,O=W.w(Q);if(";"!==W.G())throw this.a("Unterminated reference (a reference must end with `;`)");if("#"===O[0]){let je="x"===O[1]?parseInt(O.slice(2),16):parseInt(O.slice(1),10);if(isNaN(je))throw this.a("Invalid character reference");if(!F(je))throw this.a("Character reference resolves to an invalid character");Ce=String.fromCodePoint(je)}else if(Ce=ge[O],void 0===Ce){let{ignoreUndefinedEntities:je,resolveUndefinedEntity:Ye}=this.g,vt=`&${O};`;if(Ye){let ft=Ye(vt);if(null!=ft){let At=typeof ft;if("string"!==At)throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${At}`);return ft}}if(je)return vt;throw W.n(-vt.length),this.a(`Named entity isn't defined: ${vt}`)}return Ce}r(){let{c:W}=this,O=W.b('"')||W.b("'");if(!O)return!1;let Ce=W.s(O);if(this.o(Ce),!W.b(O))throw this.a("Missing end quote");return Ce}e(){return!!this.c.w(G)}P(){let{c:W}=this,O=W.d;if(!W.b("<?xml"))return!1;if(!this.e())throw this.a("Invalid XML declaration");let je,Ye,Ce=!!W.b("version")&&this.t()&&this.r();if(!1===Ce)throw this.a("XML version is missing or invalid");if(!/^1\.[0-9]+$/.test(Ce))throw this.a("Invalid character in version number");if(this.e()){if(je=!!W.b("encoding")&&this.t()&&this.r(),je){if(!/^[A-Za-z][\w.-]*$/.test(je))throw this.a("Invalid character in encoding name");this.e()}if(Ye=!!W.b("standalone")&&this.t()&&this.r(),Ye){if("yes"!==Ye&&"no"!==Ye)throw this.a('Only "yes" and "no" are permitted as values of `standalone`');this.e()}}if(!W.b("?>"))throw this.a("Invalid or unclosed XML declaration");return!this.g.preserveXmlDeclaration||this.i(new we(Ce,je||void 0,Ye||void 0),O)}a(W){let{c:O}=this;return new z(W,O.d,O.h)}parse(){if(this.c.b("\ufeff"),this.O(),!this.E())throw this.a("Root element is missing or invalid");for(;this.z(););if(!this.c.B)throw this.a("Extra content at the end of the document")}o(W){let{length:O}=W;for(let Ce=0;Ce<O;++Ce){let je=W.codePointAt(Ce);if(!F(je))throw this.c.n(-([...W].length-Ce)),this.a("Invalid character");je>65535&&(Ce+=1)}}};function rt(W){let O=0;for(;-1!==(O=W.indexOf("\r",O));)W="\n"===W[O+1]?W.slice(0,O)+W.slice(O+1):W.slice(0,O)+"\n"+W.slice(O+1);return W}function et(W,O){return new Ge(W,O).document}},2834:(Pe,Ue)=>{"use strict";function Z(oe,pe){return void 0===pe&&(pe=Object),pe&&"function"==typeof pe.freeze?pe.freeze(oe):oe}var me=Z({HTML:"text/html",isHTML:function(oe){return oe===me.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),ye=Z({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(oe){return oe===ye.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Ue.assign=function ee(oe,pe){if(null===oe||"object"!=typeof oe)throw new TypeError("target is not an object");for(var E in pe)Object.prototype.hasOwnProperty.call(pe,E)&&(oe[E]=pe[E]);return oe},Ue.find=function B(oe,pe,E){if(void 0===E&&(E=Array.prototype),oe&&"function"==typeof E.find)return E.find.call(oe,pe);for(var N=0;N<oe.length;N++)if(Object.prototype.hasOwnProperty.call(oe,N)){var m=oe[N];if(pe.call(void 0,m,N,oe))return m}},Ue.freeze=Z,Ue.MIME_TYPE=me,Ue.NAMESPACE=ye},7044:(Pe,Ue,B)=>{var ee=B(2834),me=B(8486),ye=B(6443),oe=B(3742),pe=me.DOMImplementation,E=ee.NAMESPACE,N=oe.ParseError,m=oe.XMLReader;function fe(G){return G.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function U(G){this.options=G||{locator:{}}}function J(){this.cdata=!1}function ge(G,F){F.lineNumber=G.lineNumber,F.columnNumber=G.columnNumber}function R(G){if(G)return"\n@"+(G.systemId||"")+"#[line:"+G.lineNumber+",col:"+G.columnNumber+"]"}function X(G,F,ae){return"string"==typeof G?G.substr(F,ae):G.length>=F+ae||F?new java.lang.String(G,F,ae)+"":G}function Q(G,F){G.currentElement?G.currentElement.appendChild(F):G.doc.appendChild(F)}U.prototype.parseFromString=function(G,F){var ae=this.options,le=new m,Le=ae.domBuilder||new J,he=ae.errorHandler,Be=ae.locator,we=ae.xmlns||{},Ne=/\/x?html?$/.test(F),Ke=Ne?ye.HTML_ENTITIES:ye.XML_ENTITIES;return Be&&Le.setDocumentLocator(Be),le.errorHandler=function Ie(G,F,ae){if(!G){if(F instanceof J)return F;G=F}var le={},Le=G instanceof Function;function he(Be){var we=G[Be];!we&&Le&&(we=2==G.length?function(Ne){G(Be,Ne)}:G),le[Be]=we&&function(Ne){we("[xmldom "+Be+"]\t"+Ne+R(ae))}||function(){}}return ae=ae||{},he("warning"),he("error"),he("fatalError"),le}(he,Le,Be),le.domBuilder=ae.domBuilder||Le,Ne&&(we[""]=E.HTML),we.xml=we.xml||E.XML,G&&"string"==typeof G?le.parse((ae.normalizeLineEndings||fe)(G),we,Ke):le.errorHandler.error("invalid doc source"),Le.doc},J.prototype={startDocument:function(){this.doc=(new pe).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(G,F,ae,le){var Le=this.doc,he=Le.createElementNS(G,ae||F),Be=le.length;Q(this,he),this.currentElement=he,this.locator&&ge(this.locator,he);for(var we=0;we<Be;we++){G=le.getURI(we);var Ne=le.getValue(we),Ke=(ae=le.getQName(we),Le.createAttributeNS(G,ae));this.locator&&ge(le.getLocator(we),Ke),Ke.value=Ke.nodeValue=Ne,he.setAttributeNode(Ke)}},endElement:function(G,F,ae){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(G,F){},endPrefixMapping:function(G){},processingInstruction:function(G,F){var ae=this.doc.createProcessingInstruction(G,F);this.locator&&ge(this.locator,ae),Q(this,ae)},ignorableWhitespace:function(G,F,ae){},characters:function(G,F,ae){if(G=X.apply(this,arguments)){if(this.cdata)var le=this.doc.createCDATASection(G);else le=this.doc.createTextNode(G);this.currentElement?this.currentElement.appendChild(le):/^\s*$/.test(G)&&this.doc.appendChild(le),this.locator&&ge(this.locator,le)}},skippedEntity:function(G){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(G){(this.locator=G)&&(G.lineNumber=0)},comment:function(G,F,ae){G=X.apply(this,arguments);var le=this.doc.createComment(G);this.locator&&ge(this.locator,le),Q(this,le)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(G,F,ae){var le=this.doc.implementation;if(le&&le.createDocumentType){var Le=le.createDocumentType(G,F,ae);this.locator&&ge(this.locator,Le),Q(this,Le),this.doc.doctype=Le}},warning:function(G){console.warn("[xmldom warning]\t"+G,R(this.locator))},error:function(G){console.error("[xmldom error]\t"+G,R(this.locator))},fatalError:function(G){throw new N(G,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(G){J.prototype[G]=function(){return null}}),Ue.DOMParser=U},8486:(Pe,Ue,B)=>{var Z=B(2834),ee=Z.find,me=Z.NAMESPACE;function ye(de){return""!==de}function pe(de,xe){return de.hasOwnProperty(xe)||(de[xe]=!0),de}function E(de){if(!de)return[];var xe=function oe(de){return de?de.split(/[\t\n\f\r ]+/).filter(ye):[]}(de);return Object.keys(xe.reduce(pe,{}))}function m(de,xe){for(var Te in de)Object.prototype.hasOwnProperty.call(de,Te)&&(xe[Te]=de[Te])}function fe(de,xe){var Te=de.prototype;if(!(Te instanceof xe)){let $t=function(){};$t.prototype=xe.prototype,$t=new $t,m(Te,$t),de.prototype=Te=$t}Te.constructor!=de&&("function"!=typeof de&&console.error("unknown Class:"+de),Te.constructor=de)}var U={},Ie=U.ELEMENT_NODE=1,J=U.ATTRIBUTE_NODE=2,ge=U.TEXT_NODE=3,R=U.CDATA_SECTION_NODE=4,X=U.ENTITY_REFERENCE_NODE=5,Q=U.ENTITY_NODE=6,G=U.PROCESSING_INSTRUCTION_NODE=7,F=U.COMMENT_NODE=8,ae=U.DOCUMENT_NODE=9,le=U.DOCUMENT_TYPE_NODE=10,Le=U.DOCUMENT_FRAGMENT_NODE=11,he=U.NOTATION_NODE=12,Be={},we={},at=(Be.INDEX_SIZE_ERR=(we[1]="Index size error",1),Be.DOMSTRING_SIZE_ERR=(we[2]="DOMString size error",2),Be.HIERARCHY_REQUEST_ERR=(we[3]="Hierarchy request error",3)),rt=(Be.WRONG_DOCUMENT_ERR=(we[4]="Wrong document",4),Be.INVALID_CHARACTER_ERR=(we[5]="Invalid character",5),Be.NO_DATA_ALLOWED_ERR=(we[6]="No data allowed",6),Be.NO_MODIFICATION_ALLOWED_ERR=(we[7]="No modification allowed",7),Be.NOT_FOUND_ERR=(we[8]="Not found",8)),W=(Be.NOT_SUPPORTED_ERR=(we[9]="Not supported",9),Be.INUSE_ATTRIBUTE_ERR=(we[10]="Attribute in use",10));function ft(de,xe){if(xe instanceof Error)var Te=xe;else Te=this,Error.call(this,we[de]),this.message=we[de],Error.captureStackTrace&&Error.captureStackTrace(this,ft);return Te.code=de,xe&&(this.message=this.message+": "+xe),Te}function At(){}function Ft(de,xe){this._node=de,this._refresh=xe,Kt(this)}function Kt(de){var xe=de._node._inc||de._node.ownerDocument._inc;if(de._inc!==xe){var Te=de._refresh(de._node);if(rl(de,"length",Te.length),!de.$$length||Te.length<de.$$length)for(var bt=Te.length;bt in de;bt++)Object.prototype.hasOwnProperty.call(de,bt)&&delete de[bt];m(Te,de),de._inc=xe}}function Bt(){}function dn(de,xe){for(var Te=de.length;Te--;)if(de[Te]===xe)return Te}function xn(de,xe,Te,bt){if(bt?xe[dn(xe,bt)]=Te:xe[xe.length++]=Te,de){Te.ownerElement=de;var $t=de.ownerDocument;$t&&(bt&&Qt($t,de,bt),function Pt(de,xe,Te){de&&de._inc++,Te.namespaceURI===me.XMLNS&&(xe._nsMap[Te.prefix?Te.localName:""]=Te.value)}($t,de,Te))}}function jn(de,xe,Te){var bt=dn(xe,Te);if(!(bt>=0))throw new ft(rt,new Error(de.tagName+"@"+Te));for(var $t=xe.length-1;bt<$t;)xe[bt]=xe[++bt];if(xe.length=$t,de){var Mt=de.ownerDocument;Mt&&(Qt(Mt,de,Te),Te.ownerElement=null)}}function Jt(){}function tn(){}function Me(de){return("<"==de?"&lt;":">"==de&&"&gt;")||"&"==de&&"&amp;"||'"'==de&&"&quot;"||"&#"+de.charCodeAt()+";"}function it(de,xe){if(xe(de))return!0;if(de=de.firstChild)do{if(it(de,xe))return!0}while(de=de.nextSibling)}function ut(){this.ownerDocument=this}function Qt(de,xe,Te,bt){de&&de._inc++,Te.namespaceURI===me.XMLNS&&delete xe._nsMap[Te.prefix?Te.localName:""]}function Jn(de,xe,Te){if(de&&de._inc){de._inc++;var bt=xe.childNodes;if(Te)bt[bt.length++]=Te;else{for(var $t=xe.firstChild,Mt=0;$t;)bt[Mt++]=$t,$t=$t.nextSibling;bt.length=Mt,delete bt[bt.length]}}}function or(de,xe){var Te=xe.previousSibling,bt=xe.nextSibling;return Te?Te.nextSibling=bt:de.firstChild=bt,bt?bt.previousSibling=Te:de.lastChild=Te,xe.parentNode=null,xe.previousSibling=null,xe.nextSibling=null,Jn(de.ownerDocument,de),xe}function er(de){return de&&de.nodeType===tn.DOCUMENT_TYPE_NODE}function li(de){return de&&de.nodeType===tn.ELEMENT_NODE}function Cr(de){return de&&de.nodeType===tn.TEXT_NODE}function fi(de,xe){var Te=de.childNodes||[];if(ee(Te,li)||er(xe))return!1;var bt=ee(Te,er);return!(xe&&bt&&Te.indexOf(bt)>Te.indexOf(xe))}function q(de,xe){var Te=de.childNodes||[];if(ee(Te,function bt(Mt){return li(Mt)&&Mt!==xe}))return!1;var $t=ee(Te,er);return!(xe&&$t&&Te.indexOf($t)>Te.indexOf(xe))}function V(de,xe,Te){var bt=de.childNodes||[],$t=xe.childNodes||[];if(xe.nodeType===tn.DOCUMENT_FRAGMENT_NODE){var Mt=$t.filter(li);if(Mt.length>1||ee($t,Cr))throw new ft(at,"More than one element or text in fragment");if(1===Mt.length&&!fi(de,Te))throw new ft(at,"Element in fragment can not be inserted before doctype")}if(li(xe)&&!fi(de,Te))throw new ft(at,"Only one element can be added and only after doctype");if(er(xe)){if(ee(bt,er))throw new ft(at,"Only one doctype is allowed");var cr=ee(bt,li);if(Te&&bt.indexOf(cr)<bt.indexOf(Te))throw new ft(at,"Doctype can only be inserted before an element");if(!Te&&cr)throw new ft(at,"Doctype can not be appended since element is present")}}function ze(de,xe,Te){var bt=de.childNodes||[],$t=xe.childNodes||[];if(xe.nodeType===tn.DOCUMENT_FRAGMENT_NODE){var Mt=$t.filter(li);if(Mt.length>1||ee($t,Cr))throw new ft(at,"More than one element or text in fragment");if(1===Mt.length&&!q(de,Te))throw new ft(at,"Element in fragment can not be inserted before doctype")}if(li(xe)&&!q(de,Te))throw new ft(at,"Only one element can be added and only after doctype");if(er(xe)){if(ee(bt,function(Fr){return er(Fr)&&Fr!==Te}))throw new ft(at,"Only one doctype is allowed");var cr=ee(bt,li);if(Te&&bt.indexOf(cr)<bt.indexOf(Te))throw new ft(at,"Doctype can only be inserted before an element")}}function be(de,xe,Te,bt){(function T(de,xe,Te){if(!function In(de){return de&&(de.nodeType===tn.DOCUMENT_NODE||de.nodeType===tn.DOCUMENT_FRAGMENT_NODE||de.nodeType===tn.ELEMENT_NODE)}(de))throw new ft(at,"Unexpected parent node type "+de.nodeType);if(Te&&Te.parentNode!==de)throw new ft(rt,"child not in parent");if(!function Sn(de){return de&&(li(de)||Cr(de)||er(de)||de.nodeType===tn.DOCUMENT_FRAGMENT_NODE||de.nodeType===tn.COMMENT_NODE||de.nodeType===tn.PROCESSING_INSTRUCTION_NODE)}(xe)||er(xe)&&de.nodeType!==tn.DOCUMENT_NODE)throw new ft(at,"Unexpected node type "+xe.nodeType+" for parent node type "+de.nodeType)})(de,xe,Te),de.nodeType===tn.DOCUMENT_NODE&&(bt||V)(de,xe,Te);var $t=xe.parentNode;if($t&&$t.removeChild(xe),xe.nodeType===Le){var Mt=xe.firstChild;if(null==Mt)return xe;var cr=xe.lastChild}else Mt=cr=xe;var cs=Te?Te.previousSibling:de.lastChild;Mt.previousSibling=cs,cr.nextSibling=Te,cs?cs.nextSibling=Mt:de.firstChild=Mt,null==Te?de.lastChild=cr:Te.previousSibling=cr;do{Mt.parentNode=de}while(Mt!==cr&&(Mt=Mt.nextSibling));return Jn(de.ownerDocument||de,de),xe.nodeType==Le&&(xe.firstChild=xe.lastChild=null),xe}function Xe(){this._nsMap={}}function Ct(){}function We(){}function qe(){}function kt(){}function nn(){}function mn(){}function vn(){}function jr(){}function fs(){}function Di(){}function kr(){}function nl(){}function Ln(de,xe){var Te=[],bt=9==this.nodeType&&this.documentElement||this,$t=bt.prefix,Mt=bt.namespaceURI;if(Mt&&null==$t&&null==($t=bt.lookupPrefix(Mt)))var cr=[{namespace:Mt,prefix:null}];return yi(this,Te,de,xe,cr),Te.join("")}function Vs(de,xe,Te){var bt=de.prefix||"",$t=de.namespaceURI;if(!$t||"xml"===bt&&$t===me.XML||$t===me.XMLNS)return!1;for(var Mt=Te.length;Mt--;){var cr=Te[Mt];if(cr.prefix===bt)return cr.namespace!==$t}return!0}function Il(de,xe,Te){de.push(" ",xe,'="',Te.replace(/[<>&"\t\n\r]/g,Me),'"')}function yi(de,xe,Te,bt,$t){if($t||($t=[]),bt){if(!(de=bt(de)))return;if("string"==typeof de)return void xe.push(de)}switch(de.nodeType){case Ie:var Mt=de.attributes,cr=Mt.length,ei=de.firstChild,cs=de.tagName,Qr=cs;if(!(Te=me.isHTML(de.namespaceURI)||Te)&&!de.prefix&&de.namespaceURI){for(var Fr,Js=0;Js<Mt.length;Js++)if("xmlns"===Mt.item(Js).name){Fr=Mt.item(Js).value;break}if(!Fr)for(var Co=$t.length-1;Co>=0;Co--)if(""===(ps=$t[Co]).prefix&&ps.namespace===de.namespaceURI){Fr=ps.namespace;break}if(Fr!==de.namespaceURI)for(Co=$t.length-1;Co>=0;Co--){var ps;if((ps=$t[Co]).namespace===de.namespaceURI){ps.prefix&&(Qr=ps.prefix+":"+cs);break}}}xe.push("<",Qr);for(var Gs=0;Gs<cr;Gs++)"xmlns"==(qi=Mt.item(Gs)).prefix?$t.push({prefix:qi.localName,namespace:qi.value}):"xmlns"==qi.nodeName&&$t.push({prefix:"",namespace:qi.value});for(Gs=0;Gs<cr;Gs++){var qi,gs,Gt;Vs(qi=Mt.item(Gs),0,$t)&&(Il(xe,(gs=qi.prefix||"")?"xmlns:"+gs:"xmlns",Gt=qi.namespaceURI),$t.push({prefix:gs,namespace:Gt})),yi(qi,xe,Te,bt,$t)}if(cs===Qr&&Vs(de,0,$t)&&(Il(xe,(gs=de.prefix||"")?"xmlns:"+gs:"xmlns",Gt=de.namespaceURI),$t.push({prefix:gs,namespace:Gt})),ei||Te&&!/^(?:meta|link|img|br|hr|input)$/i.test(cs)){if(xe.push(">"),Te&&/^script$/i.test(cs))for(;ei;)ei.data?xe.push(ei.data):yi(ei,xe,Te,bt,$t.slice()),ei=ei.nextSibling;else for(;ei;)yi(ei,xe,Te,bt,$t.slice()),ei=ei.nextSibling;xe.push("</",Qr,">")}else xe.push("/>");return;case ae:case Le:for(ei=de.firstChild;ei;)yi(ei,xe,Te,bt,$t.slice()),ei=ei.nextSibling;return;case J:return Il(xe,de.name,de.value);case ge:return xe.push(de.data.replace(/[<&>]/g,Me));case R:return xe.push("<![CDATA[",de.data,"]]>");case F:return xe.push("\x3c!--",de.data,"--\x3e");case le:var Ms=de.publicId,ts=de.systemId;if(xe.push("<!DOCTYPE ",de.name),Ms)xe.push(" PUBLIC ",Ms),ts&&"."!=ts&&xe.push(" ",ts),xe.push(">");else if(ts&&"."!=ts)xe.push(" SYSTEM ",ts,">");else{var An=de.internalSubset;An&&xe.push(" [",An,"]"),xe.push(">")}return;case G:return xe.push("<?",de.target," ",de.data,"?>");case X:return xe.push("&",de.nodeName,";");default:xe.push("??",de.nodeName)}}function da(de,xe,Te){var bt;switch(xe.nodeType){case Ie:(bt=xe.cloneNode(!1)).ownerDocument=de;case Le:break;case J:Te=!0}if(bt||(bt=xe.cloneNode(!1)),bt.ownerDocument=de,bt.parentNode=null,Te)for(var $t=xe.firstChild;$t;)bt.appendChild(da(de,$t,Te)),$t=$t.nextSibling;return bt}function ha(de,xe,Te){var bt=new xe.constructor;for(var $t in xe)if(Object.prototype.hasOwnProperty.call(xe,$t)){var Mt=xe[$t];"object"!=typeof Mt&&Mt!=bt[$t]&&(bt[$t]=Mt)}switch(xe.childNodes&&(bt.childNodes=new At),bt.ownerDocument=de,bt.nodeType){case Ie:var cr=xe.attributes,cs=bt.attributes=new Bt,Qr=cr.length;cs._ownerElement=bt;for(var Fr=0;Fr<Qr;Fr++)bt.setAttributeNode(ha(de,cr.item(Fr),!0));break;case J:Te=!0}if(Te)for(var Js=xe.firstChild;Js;)bt.appendChild(ha(de,Js,Te)),Js=Js.nextSibling;return bt}function rl(de,xe,Te){de[xe]=Te}Be.INVALID_STATE_ERR=(we[11]="Invalid state",11),Be.SYNTAX_ERR=(we[12]="Syntax error",12),Be.INVALID_MODIFICATION_ERR=(we[13]="Invalid modification",13),Be.NAMESPACE_ERR=(we[14]="Invalid namespace",14),Be.INVALID_ACCESS_ERR=(we[15]="Invalid access",15),ft.prototype=Error.prototype,m(Be,ft),At.prototype={length:0,item:function(de){return de>=0&&de<this.length?this[de]:null},toString:function(de,xe){for(var Te=[],bt=0;bt<this.length;bt++)yi(this[bt],Te,de,xe);return Te.join("")},filter:function(de){return Array.prototype.filter.call(this,de)},indexOf:function(de){return Array.prototype.indexOf.call(this,de)}},Ft.prototype.item=function(de){return Kt(this),this[de]||null},fe(Ft,At),Bt.prototype={length:0,item:At.prototype.item,getNamedItem:function(de){for(var xe=this.length;xe--;){var Te=this[xe];if(Te.nodeName==de)return Te}},setNamedItem:function(de){var xe=de.ownerElement;if(xe&&xe!=this._ownerElement)throw new ft(W);var Te=this.getNamedItem(de.nodeName);return xn(this._ownerElement,this,de,Te),Te},setNamedItemNS:function(de){var Te,xe=de.ownerElement;if(xe&&xe!=this._ownerElement)throw new ft(W);return Te=this.getNamedItemNS(de.namespaceURI,de.localName),xn(this._ownerElement,this,de,Te),Te},removeNamedItem:function(de){var xe=this.getNamedItem(de);return jn(this._ownerElement,this,xe),xe},removeNamedItemNS:function(de,xe){var Te=this.getNamedItemNS(de,xe);return jn(this._ownerElement,this,Te),Te},getNamedItemNS:function(de,xe){for(var Te=this.length;Te--;){var bt=this[Te];if(bt.localName==xe&&bt.namespaceURI==de)return bt}return null}},Jt.prototype={hasFeature:function(de,xe){return!0},createDocument:function(de,xe,Te){var bt=new ut;if(bt.implementation=this,bt.childNodes=new At,bt.doctype=Te||null,Te&&bt.appendChild(Te),xe){var $t=bt.createElementNS(de,xe);bt.appendChild($t)}return bt},createDocumentType:function(de,xe,Te){var bt=new mn;return bt.name=de,bt.nodeName=de,bt.publicId=xe||"",bt.systemId=Te||"",bt}},tn.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(de,xe){return be(this,de,xe)},replaceChild:function(de,xe){be(this,de,xe,ze),xe&&this.removeChild(xe)},removeChild:function(de){return or(this,de)},appendChild:function(de){return this.insertBefore(de,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(de){return ha(this.ownerDocument||this,this,de)},normalize:function(){for(var de=this.firstChild;de;){var xe=de.nextSibling;xe&&xe.nodeType==ge&&de.nodeType==ge?(this.removeChild(xe),de.appendData(xe.data)):(de.normalize(),de=xe)}},isSupported:function(de,xe){return this.ownerDocument.implementation.hasFeature(de,xe)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(de){for(var xe=this;xe;){var Te=xe._nsMap;if(Te)for(var bt in Te)if(Object.prototype.hasOwnProperty.call(Te,bt)&&Te[bt]===de)return bt;xe=xe.nodeType==J?xe.ownerDocument:xe.parentNode}return null},lookupNamespaceURI:function(de){for(var xe=this;xe;){var Te=xe._nsMap;if(Te&&Object.prototype.hasOwnProperty.call(Te,de))return Te[de];xe=xe.nodeType==J?xe.ownerDocument:xe.parentNode}return null},isDefaultNamespace:function(de){return null==this.lookupPrefix(de)}},m(U,tn),m(U,tn.prototype),ut.prototype={nodeName:"#document",nodeType:ae,doctype:null,documentElement:null,_inc:1,insertBefore:function(de,xe){if(de.nodeType==Le){for(var Te=de.firstChild;Te;){var bt=Te.nextSibling;this.insertBefore(Te,xe),Te=bt}return de}return be(this,de,xe),de.ownerDocument=this,null===this.documentElement&&de.nodeType===Ie&&(this.documentElement=de),de},removeChild:function(de){return this.documentElement==de&&(this.documentElement=null),or(this,de)},replaceChild:function(de,xe){be(this,de,xe,ze),de.ownerDocument=this,xe&&this.removeChild(xe),li(de)&&(this.documentElement=de)},importNode:function(de,xe){return da(this,de,xe)},getElementById:function(de){var xe=null;return it(this.documentElement,function(Te){if(Te.nodeType==Ie&&Te.getAttribute("id")==de)return xe=Te,!0}),xe},getElementsByClassName:function(de){var xe=E(de);return new Ft(this,function(Te){var bt=[];return xe.length>0&&it(Te.documentElement,function($t){if($t!==Te&&$t.nodeType===Ie){var Mt=$t.getAttribute("class");if(Mt){var cr=de===Mt;if(!cr){var cs=E(Mt);cr=xe.every(function N(de){return function(xe){return de&&-1!==de.indexOf(xe)}}(cs))}cr&&bt.push($t)}}}),bt})},createElement:function(de){var xe=new Xe;return xe.ownerDocument=this,xe.nodeName=de,xe.tagName=de,xe.localName=de,xe.childNodes=new At,(xe.attributes=new Bt)._ownerElement=xe,xe},createDocumentFragment:function(){var de=new Di;return de.ownerDocument=this,de.childNodes=new At,de},createTextNode:function(de){var xe=new qe;return xe.ownerDocument=this,xe.appendData(de),xe},createComment:function(de){var xe=new kt;return xe.ownerDocument=this,xe.appendData(de),xe},createCDATASection:function(de){var xe=new nn;return xe.ownerDocument=this,xe.appendData(de),xe},createProcessingInstruction:function(de,xe){var Te=new kr;return Te.ownerDocument=this,Te.tagName=Te.nodeName=Te.target=de,Te.nodeValue=Te.data=xe,Te},createAttribute:function(de){var xe=new Ct;return xe.ownerDocument=this,xe.name=de,xe.nodeName=de,xe.localName=de,xe.specified=!0,xe},createEntityReference:function(de){var xe=new fs;return xe.ownerDocument=this,xe.nodeName=de,xe},createElementNS:function(de,xe){var Te=new Xe,bt=xe.split(":"),$t=Te.attributes=new Bt;return Te.childNodes=new At,Te.ownerDocument=this,Te.nodeName=xe,Te.tagName=xe,Te.namespaceURI=de,2==bt.length?(Te.prefix=bt[0],Te.localName=bt[1]):Te.localName=xe,$t._ownerElement=Te,Te},createAttributeNS:function(de,xe){var Te=new Ct,bt=xe.split(":");return Te.ownerDocument=this,Te.nodeName=xe,Te.name=xe,Te.namespaceURI=de,Te.specified=!0,2==bt.length?(Te.prefix=bt[0],Te.localName=bt[1]):Te.localName=xe,Te}},fe(ut,tn),ut.prototype.getElementsByTagName=(Xe.prototype={nodeType:Ie,hasAttribute:function(de){return null!=this.getAttributeNode(de)},getAttribute:function(de){var xe=this.getAttributeNode(de);return xe&&xe.value||""},getAttributeNode:function(de){return this.attributes.getNamedItem(de)},setAttribute:function(de,xe){var Te=this.ownerDocument.createAttribute(de);Te.value=Te.nodeValue=""+xe,this.setAttributeNode(Te)},removeAttribute:function(de){var xe=this.getAttributeNode(de);xe&&this.removeAttributeNode(xe)},appendChild:function(de){return de.nodeType===Le?this.insertBefore(de,null):function Oe(de,xe){return xe.parentNode&&xe.parentNode.removeChild(xe),xe.parentNode=de,xe.previousSibling=de.lastChild,xe.nextSibling=null,xe.previousSibling?xe.previousSibling.nextSibling=xe:de.firstChild=xe,de.lastChild=xe,Jn(de.ownerDocument,de,xe),xe}(this,de)},setAttributeNode:function(de){return this.attributes.setNamedItem(de)},setAttributeNodeNS:function(de){return this.attributes.setNamedItemNS(de)},removeAttributeNode:function(de){return this.attributes.removeNamedItem(de.nodeName)},removeAttributeNS:function(de,xe){var Te=this.getAttributeNodeNS(de,xe);Te&&this.removeAttributeNode(Te)},hasAttributeNS:function(de,xe){return null!=this.getAttributeNodeNS(de,xe)},getAttributeNS:function(de,xe){var Te=this.getAttributeNodeNS(de,xe);return Te&&Te.value||""},setAttributeNS:function(de,xe,Te){var bt=this.ownerDocument.createAttributeNS(de,xe);bt.value=bt.nodeValue=""+Te,this.setAttributeNode(bt)},getAttributeNodeNS:function(de,xe){return this.attributes.getNamedItemNS(de,xe)},getElementsByTagName:function(de){return new Ft(this,function(xe){var Te=[];return it(xe,function(bt){bt!==xe&&bt.nodeType==Ie&&("*"===de||bt.tagName==de)&&Te.push(bt)}),Te})},getElementsByTagNameNS:function(de,xe){return new Ft(this,function(Te){var bt=[];return it(Te,function($t){$t!==Te&&$t.nodeType===Ie&&("*"===de||$t.namespaceURI===de)&&("*"===xe||$t.localName==xe)&&bt.push($t)}),bt})}}).getElementsByTagName,ut.prototype.getElementsByTagNameNS=Xe.prototype.getElementsByTagNameNS,fe(Xe,tn),Ct.prototype.nodeType=J,fe(Ct,tn),We.prototype={data:"",substringData:function(de,xe){return this.data.substring(de,de+xe)},appendData:function(de){this.nodeValue=this.data=de=this.data+de,this.length=de.length},insertData:function(de,xe){this.replaceData(de,0,xe)},appendChild:function(de){throw new Error(we[at])},deleteData:function(de,xe){this.replaceData(de,xe,"")},replaceData:function(de,xe,Te){var bt=this.data.substring(0,de),$t=this.data.substring(de+xe);this.nodeValue=this.data=Te=bt+Te+$t,this.length=Te.length}},fe(We,tn),qe.prototype={nodeName:"#text",nodeType:ge,splitText:function(de){var xe=this.data,Te=xe.substring(de);xe=xe.substring(0,de),this.data=this.nodeValue=xe,this.length=xe.length;var bt=this.ownerDocument.createTextNode(Te);return this.parentNode&&this.parentNode.insertBefore(bt,this.nextSibling),bt}},fe(qe,We),kt.prototype={nodeName:"#comment",nodeType:F},fe(kt,We),nn.prototype={nodeName:"#cdata-section",nodeType:R},fe(nn,We),mn.prototype.nodeType=le,fe(mn,tn),vn.prototype.nodeType=he,fe(vn,tn),jr.prototype.nodeType=Q,fe(jr,tn),fs.prototype.nodeType=X,fe(fs,tn),Di.prototype.nodeName="#document-fragment",Di.prototype.nodeType=Le,fe(Di,tn),kr.prototype.nodeType=G,fe(kr,tn),nl.prototype.serializeToString=function(de,xe,Te){return Ln.call(de,xe,Te)},tn.prototype.toString=Ln;try{if(Object.defineProperty){let de=function(xe){switch(xe.nodeType){case Ie:case Le:var Te=[];for(xe=xe.firstChild;xe;)7!==xe.nodeType&&8!==xe.nodeType&&Te.push(de(xe)),xe=xe.nextSibling;return Te.join("");default:return xe.nodeValue}};Object.defineProperty(Ft.prototype,"length",{get:function(){return Kt(this),this.$$length}}),Object.defineProperty(tn.prototype,"textContent",{get:function(){return de(this)},set:function(xe){switch(this.nodeType){case Ie:case Le:for(;this.firstChild;)this.removeChild(this.firstChild);(xe||String(xe))&&this.appendChild(this.ownerDocument.createTextNode(xe));break;default:this.data=xe,this.value=xe,this.nodeValue=xe}}}),rl=function(xe,Te,bt){xe["$$"+Te]=bt}}}catch{}Ue.DocumentType=mn,Ue.DOMException=ft,Ue.DOMImplementation=Jt,Ue.Element=Xe,Ue.Node=tn,Ue.NodeList=At,Ue.XMLSerializer=nl},6443:(Pe,Ue,B)=>{"use strict";var Z=B(2834).freeze;Ue.XML_ENTITIES=Z({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),Ue.HTML_ENTITIES=Z({Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\u{1d504}",afr:"\u{1d51e}",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",AMP:"&",amp:"&",And:"\u2a53",and:"\u2227",andand:"\u2a55",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1d538}",aopf:"\u{1d552}",ap:"\u2248",apacir:"\u2a6f",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\u{1d49c}",ascr:"\u{1d4b6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\u{1d505}",bfr:"\u{1d51f}",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\u{1d539}",bopf:"\u{1d553}",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250c",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252c",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxUL:"\u255d",boxUl:"\u255c",boxuL:"\u255b",boxul:"\u2518",boxUR:"\u255a",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256c",boxVh:"\u256b",boxvH:"\u256a",boxvh:"\u253c",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255f",boxvR:"\u255e",boxvr:"\u251c",bprime:"\u2035",Breve:"\u02d8",breve:"\u02d8",brvbar:"\xa6",Bscr:"\u212c",bscr:"\u{1d4b7}",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsol:"\\",bsolb:"\u29c5",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22d2",cap:"\u2229",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",CenterDot:"\xb7",centerdot:"\xb7",Cfr:"\u212d",cfr:"\u{1d520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",cir:"\u25cb",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",Conint:"\u222f",conint:"\u222e",ContourIntegral:"\u222e",Copf:"\u2102",copf:"\u{1d554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xa9",copy:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",Cross:"\u2a2f",cross:"\u2717",Cscr:"\u{1d49e}",cscr:"\u{1d4b8}",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",Cup:"\u22d3",cup:"\u222a",cupbrcap:"\u2a48",CupCap:"\u224d",cupcap:"\u2a46",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21a1",dArr:"\u21d3",darr:"\u2193",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21ca",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\u{1d507}",dfr:"\u{1d521}",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",Diamond:"\u22c4",diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\u{1d53b}",dopf:"\u{1d555}",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21d3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVector:"\u21bd",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295f",DownRightVector:"\u21c1",DownRightVectorBar:"\u2957",DownTee:"\u22a4",DownTeeArrow:"\u21a7",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\u{1d49f}",dscr:"\u{1d4b9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",ecir:"\u2256",Ecirc:"\xca",ecirc:"\xea",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1d508}",efr:"\u{1d522}",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1d53c}",eopf:"\u{1d556}",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212f",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\u{1d509}",ffr:"\u{1d523}",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\u{1d53d}",fopf:"\u{1d557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1d4bb}",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",ges:"\u2a7e",gescc:"\u2aa9",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\u{1d50a}",gfr:"\u{1d524}",Gg:"\u22d9",gg:"\u226b",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2aa5",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gnE:"\u2269",gne:"\u2a88",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\u{1d53e}",gopf:"\u{1d558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\u{1d4a2}",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",Gt:"\u226b",GT:">",gt:">",gtcc:"\u2aa7",gtcir:"\u2a7a",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",hArr:"\u21d4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",Hfr:"\u210c",hfr:"\u{1d525}",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",Hopf:"\u210d",hopf:"\u{1d559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210b",hscr:"\u{1d4bd}",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",Ifr:"\u2111",ifr:"\u{1d526}",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",in:"\u2208",incare:"\u2105",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",Int:"\u222c",int:"\u222b",intcal:"\u22ba",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\u{1d540}",iopf:"\u{1d55a}",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",Iscr:"\u2110",iscr:"\u{1d4be}",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1d50d}",jfr:"\u{1d527}",jmath:"\u0237",Jopf:"\u{1d541}",jopf:"\u{1d55b}",Jscr:"\u{1d4a5}",jscr:"\u{1d4bf}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\u{1d50e}",kfr:"\u{1d528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\u{1d542}",kopf:"\u{1d55c}",Kscr:"\u{1d4a6}",kscr:"\u{1d4c0}",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",Lang:"\u27ea",lang:"\u27e8",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",Larr:"\u219e",lArr:"\u21d0",larr:"\u2190",larrb:"\u21e4",larrbfs:"\u291f",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",lat:"\u2aab",lAtail:"\u291b",latail:"\u2919",late:"\u2aad",lates:"\u2aad\ufe00",lBarr:"\u290e",lbarr:"\u290c",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27e8",LeftArrow:"\u2190",Leftarrow:"\u21d0",leftarrow:"\u2190",LeftArrowBar:"\u21e4",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21c3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrow:"\u2194",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTee:"\u22a3",LeftTeeArrow:"\u21a4",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangle:"\u22b2",LeftTriangleBar:"\u29cf",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21bf",LeftUpVectorBar:"\u2958",LeftVector:"\u21bc",LeftVectorBar:"\u2952",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",les:"\u2a7d",lescc:"\u2aa8",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\u{1d50f}",lfr:"\u{1d529}",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22d8",ll:"\u226a",llarr:"\u21c7",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoust:"\u23b0",lmoustache:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lnE:"\u2268",lne:"\u2a87",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftarrow:"\u27f5",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longleftrightarrow:"\u27f7",longmapsto:"\u27fc",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",longrightarrow:"\u27f6",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\u{1d543}",lopf:"\u{1d55d}",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1d4c1}",Lsh:"\u21b0",lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226a",LT:"<",lt:"<",ltcc:"\u2aa6",ltcir:"\u2a79",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\u{1d510}",mfr:"\u{1d52a}",mho:"\u2127",micro:"\xb5",mid:"\u2223",midast:"*",midcir:"\u2af0",middot:"\xb7",minus:"\u2212",minusb:"\u229f",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\u{1d544}",mopf:"\u{1d55e}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1d4c2}",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266e",natural:"\u266e",naturals:"\u2115",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21d7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1d511}",nfr:"\u{1d52b}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nhArr:"\u21ce",nharr:"\u21ae",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlArr:"\u21cd",nlarr:"\u219a",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21cd",nleftarrow:"\u219a",nLeftrightarrow:"\u21ce",nleftrightarrow:"\u21ae",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",Nopf:"\u2115",nopf:"\u{1d55f}",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangle:"\u22ea",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangle:"\u22eb",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",npre:"\u2aaf\u0338",nprec:"\u2280",npreceq:"\u2aaf\u0338",nrArr:"\u21cf",nrarr:"\u219b",nrarrc:"\u2933\u0338",nrarrw:"\u219d\u0338",nRightarrow:"\u21cf",nrightarrow:"\u219b",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\u{1d4a9}",nscr:"\u{1d4c3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nVDash:"\u22af",nVdash:"\u22ae",nvDash:"\u22ad",nvdash:"\u22ac",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwArr:"\u21d6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",ocir:"\u229a",Ocirc:"\xd4",ocirc:"\xf4",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\u{1d512}",ofr:"\u{1d52c}",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\u{1d546}",oopf:"\u{1d560}",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",Or:"\u2a54",or:"\u2228",orarr:"\u21bb",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\u{1d4aa}",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",Otimes:"\u2a37",otimes:"\u2297",otimesas:"\u2a36",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",par:"\u2225",para:"\xb6",parallel:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\u{1d513}",pfr:"\u{1d52d}",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plus:"+",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",Popf:"\u2119",popf:"\u{1d561}",pound:"\xa3",Pr:"\u2abb",pr:"\u227a",prap:"\u2ab7",prcue:"\u227c",prE:"\u2ab3",pre:"\u2aaf",prec:"\u227a",precapprox:"\u2ab7",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",precsim:"\u227e",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportion:"\u2237",Proportional:"\u221d",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\u{1d4ab}",pscr:"\u{1d4c5}",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\u{1d514}",qfr:"\u{1d52e}",qint:"\u2a0c",Qopf:"\u211a",qopf:"\u{1d562}",qprime:"\u2057",Qscr:"\u{1d4ac}",qscr:"\u{1d4c6}",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",QUOT:'"',quot:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",Rang:"\u27eb",rang:"\u27e9",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",Rarr:"\u21a0",rArr:"\u21d2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",rAtail:"\u291c",ratail:"\u291a",ratio:"\u2236",rationals:"\u211a",RBarr:"\u2910",rBarr:"\u290f",rbarr:"\u290d",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",Re:"\u211c",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",rect:"\u25ad",REG:"\xae",reg:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",Rfr:"\u211c",rfr:"\u{1d52f}",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrow:"\u2192",Rightarrow:"\u21d2",rightarrow:"\u2192",RightArrowBar:"\u21e5",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVector:"\u21c2",RightDownVectorBar:"\u2955",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTee:"\u22a2",RightTeeArrow:"\u21a6",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangle:"\u22b3",RightTriangleBar:"\u29d0",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVector:"\u21be",RightUpVectorBar:"\u2954",RightVector:"\u21c0",RightVectorBar:"\u2953",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoust:"\u23b1",rmoustache:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",Ropf:"\u211d",ropf:"\u{1d563}",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",Rscr:"\u211b",rscr:"\u{1d4c7}",Rsh:"\u21b1",rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",Sc:"\u2abc",sc:"\u227b",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227d",scE:"\u2ab4",sce:"\u2ab0",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdot:"\u22c5",sdotb:"\u22a1",sdote:"\u2a66",searhk:"\u2925",seArr:"\u21d8",searr:"\u2198",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1d516}",sfr:"\u{1d530}",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",sol:"/",solb:"\u29c4",solbar:"\u233f",Sopf:"\u{1d54a}",sopf:"\u{1d564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25a1",Square:"\u25a1",square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squf:"\u25aa",srarr:"\u2192",Sscr:"\u{1d4ae}",sscr:"\u{1d4c8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",Sub:"\u22d0",sub:"\u2282",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",Subset:"\u22d0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succ:"\u227b",succapprox:"\u2ab8",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",Sum:"\u2211",sum:"\u2211",sung:"\u266a",Sup:"\u22d1",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",Supset:"\u22d1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swArr:"\u21d9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\u{1d517}",tfr:"\u{1d531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",Tilde:"\u223c",tilde:"\u02dc",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xd7",timesb:"\u22a0",timesbar:"\u2a31",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",top:"\u22a4",topbot:"\u2336",topcir:"\u2af1",Topf:"\u{1d54b}",topf:"\u{1d565}",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\u{1d4af}",tscr:"\u{1d4c9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",Uarr:"\u219f",uArr:"\u21d1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\u{1d518}",ufr:"\u{1d532}",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1d54c}",uopf:"\u{1d566}",UpArrow:"\u2191",Uparrow:"\u21d1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21c5",UpDownArrow:"\u2195",Updownarrow:"\u21d5",updownarrow:"\u2195",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03d2",upsi:"\u03c5",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTee:"\u22a5",UpTeeArrow:"\u21a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\u{1d4b0}",uscr:"\u{1d4ca}",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",vArr:"\u21d5",varr:"\u2195",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",Vbar:"\u2aeb",vBar:"\u2ae8",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22ab",Vdash:"\u22a9",vDash:"\u22a8",vdash:"\u22a2",Vdashl:"\u2ae6",Vee:"\u22c1",vee:"\u2228",veebar:"\u22bb",veeeq:"\u225a",vellip:"\u22ee",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\u{1d519}",vfr:"\u{1d533}",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\u{1d54d}",vopf:"\u{1d567}",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\u{1d4b1}",vscr:"\u{1d4cb}",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",Wedge:"\u22c0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1d51a}",wfr:"\u{1d534}",Wopf:"\u{1d54e}",wopf:"\u{1d568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1d4b2}",wscr:"\u{1d4cc}",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\u{1d51b}",xfr:"\u{1d535}",xhArr:"\u27fa",xharr:"\u27f7",Xi:"\u039e",xi:"\u03be",xlArr:"\u27f8",xlarr:"\u27f5",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\u{1d54f}",xopf:"\u{1d569}",xoplus:"\u2a01",xotime:"\u2a02",xrArr:"\u27f9",xrarr:"\u27f6",Xscr:"\u{1d4b3}",xscr:"\u{1d4cd}",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\u{1d51c}",yfr:"\u{1d536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1d550}",yopf:"\u{1d56a}",Yscr:"\u{1d4b4}",yscr:"\u{1d4ce}",YUcy:"\u042e",yucy:"\u044e",Yuml:"\u0178",yuml:"\xff",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",Zfr:"\u2128",zfr:"\u{1d537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",Zopf:"\u2124",zopf:"\u{1d56b}",Zscr:"\u{1d4b5}",zscr:"\u{1d4cf}",zwj:"\u200d",zwnj:"\u200c"}),Ue.entityMap=Ue.HTML_ENTITIES},2502:(Pe,Ue,B)=>{B(8486);Ue.DOMParser=B(7044).DOMParser},3742:(Pe,Ue,B)=>{var Z=B(2834).NAMESPACE,ee=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,me=new RegExp("[\\-\\.0-9"+ee.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),ye=new RegExp("^"+ee.source+me.source+"*(?::"+ee.source+me.source+"*)?$");function J(Ne,Ke){this.message=Ne,this.locator=Ke,Error.captureStackTrace&&Error.captureStackTrace(this,J)}function ge(){}function X(Ne,Ke){return Ke.lineNumber=Ne.lineNumber,Ke.columnNumber=Ne.columnNumber,Ke}function Q(Ne,Ke,at,z,re,_e){function Ge(Ye,vt,ft){at.attributeNames.hasOwnProperty(Ye)&&_e.fatalError("Attribute "+Ye+" redefined"),at.addValue(Ye,vt.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,re),ft)}for(var rt,W=++Ke,O=0;;){var Ce=Ne.charAt(W);switch(Ce){case"=":if(1===O)rt=Ne.slice(Ke,W),O=3;else{if(2!==O)throw new Error("attribute equal must after attrName");O=3}break;case"'":case'"':if(3===O||1===O){if(1===O&&(_e.warning('attribute value must after "="'),rt=Ne.slice(Ke,W)),!((W=Ne.indexOf(Ce,Ke=W+1))>0))throw new Error("attribute value no end '"+Ce+"' match");Ge(rt,et=Ne.slice(Ke,W),Ke-1),O=5}else{if(4!=O)throw new Error('attribute value must after "="');Ge(rt,et=Ne.slice(Ke,W),Ke),_e.warning('attribute "'+rt+'" missed start quot('+Ce+")!!"),Ke=W+1,O=5}break;case"/":switch(O){case 0:at.setTagName(Ne.slice(Ke,W));case 5:case 6:case 7:O=7,at.closed=!0;case 4:case 1:break;case 2:at.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return _e.error("unexpected end of input"),0==O&&at.setTagName(Ne.slice(Ke,W)),W;case">":switch(O){case 0:at.setTagName(Ne.slice(Ke,W));case 5:case 6:case 7:break;case 4:case 1:"/"===(et=Ne.slice(Ke,W)).slice(-1)&&(at.closed=!0,et=et.slice(0,-1));case 2:2===O&&(et=rt),4==O?(_e.warning('attribute "'+et+'" missed quot(")!'),Ge(rt,et,Ke)):((!Z.isHTML(z[""])||!et.match(/^(?:disabled|checked|selected)$/i))&&_e.warning('attribute "'+et+'" missed value!! "'+et+'" instead!!'),Ge(et,et,Ke));break;case 3:throw new Error("attribute value missed!!")}return W;case"\x80":Ce=" ";default:if(Ce<=" ")switch(O){case 0:at.setTagName(Ne.slice(Ke,W)),O=6;break;case 1:rt=Ne.slice(Ke,W),O=2;break;case 4:var et=Ne.slice(Ke,W);_e.warning('attribute "'+et+'" missed quot(")!!'),Ge(rt,et,Ke);case 5:O=6}else switch(O){case 2:(!Z.isHTML(z[""])||!rt.match(/^(?:disabled|checked|selected)$/i))&&_e.warning('attribute "'+rt+'" missed value!! "'+rt+'" instead2!!'),Ge(rt,rt,Ke),Ke=W,O=1;break;case 5:_e.warning('attribute space is required"'+rt+'"!!');case 6:O=1,Ke=W;break;case 3:O=4,Ke=W;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}W++}}function G(Ne,Ke,at){for(var z=Ne.tagName,re=null,Ce=Ne.length;Ce--;){var _e=Ne[Ce],Ge=_e.qName,rt=_e.value;if((je=Ge.indexOf(":"))>0)var et=_e.prefix=Ge.slice(0,je),W=Ge.slice(je+1),O="xmlns"===et&&W;else W=Ge,et=null,O="xmlns"===Ge&&"";_e.localName=W,!1!==O&&(null==re&&(re={},le(at,at={})),at[O]=re[O]=rt,_e.uri=Z.XMLNS,Ke.startPrefixMapping(O,rt))}for(Ce=Ne.length;Ce--;)(et=(_e=Ne[Ce]).prefix)&&("xml"===et&&(_e.uri=Z.XML),"xmlns"!==et&&(_e.uri=at[et||""]));var je;(je=z.indexOf(":"))>0?(et=Ne.prefix=z.slice(0,je),W=Ne.localName=z.slice(je+1)):(et=null,W=Ne.localName=z);var Ye=Ne.uri=at[et||""];if(Ke.startElement(Ye,W,z,Ne),!Ne.closed)return Ne.currentNSMap=at,Ne.localNSMap=re,!0;if(Ke.endElement(Ye,W,z),re)for(et in re)Object.prototype.hasOwnProperty.call(re,et)&&Ke.endPrefixMapping(et)}function F(Ne,Ke,at,z,re){if(/^(?:script|textarea)$/i.test(at)){var _e=Ne.indexOf("</"+at+">",Ke),Ge=Ne.substring(Ke+1,_e);if(/[&<]/.test(Ge))return/^script$/i.test(at)?(re.characters(Ge,0,Ge.length),_e):(Ge=Ge.replace(/&#?\w+;/g,z),re.characters(Ge,0,Ge.length),_e)}return Ke+1}function ae(Ne,Ke,at,z){var re=z[at];return null==re&&((re=Ne.lastIndexOf("</"+at+">"))<Ke&&(re=Ne.lastIndexOf("</"+at)),z[at]=re),re<Ke}function le(Ne,Ke){for(var at in Ne)Object.prototype.hasOwnProperty.call(Ne,at)&&(Ke[at]=Ne[at])}function Le(Ne,Ke,at,z){if("-"===Ne.charAt(Ke+2))return"-"===Ne.charAt(Ke+3)?(_e=Ne.indexOf("--\x3e",Ke+4))>Ke?(at.comment(Ne,Ke+4,_e-Ke-4),_e+3):(z.error("Unclosed comment"),-1):-1;if("CDATA["==Ne.substr(Ke+3,6)){var _e=Ne.indexOf("]]>",Ke+9);return at.startCDATA(),at.characters(Ne,Ke+9,_e-Ke-9),at.endCDATA(),_e+3}var Ge=function we(Ne,Ke){var at,z=[],re=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(re.lastIndex=Ke,re.exec(Ne);at=re.exec(Ne);)if(z.push(at),at[1])return z}(Ne,Ke),rt=Ge.length;if(rt>1&&/!doctype/i.test(Ge[0][0])){var et=Ge[1][0],W=!1,O=!1;rt>3&&(/^public$/i.test(Ge[2][0])?(W=Ge[3][0],O=rt>4&&Ge[4][0]):/^system$/i.test(Ge[2][0])&&(O=Ge[3][0]));var Ce=Ge[rt-1];return at.startDTD(et,W,O),at.endDTD(),Ce.index+Ce[0].length}return-1}function he(Ne,Ke,at){var z=Ne.indexOf("?>",Ke);if(z){var re=Ne.substring(Ke,z).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return re?(at.processingInstruction(re[1],re[2]),z+2):-1}return-1}function Be(){this.attributeNames={}}(J.prototype=new Error).name=J.name,ge.prototype={parse:function(Ne,Ke,at){var z=this.domBuilder;z.startDocument(),le(Ke,Ke={}),function R(Ne,Ke,at,z,re){function Ge(In){var Sn=In.slice(1,-1);return Object.hasOwnProperty.call(at,Sn)?at[Sn]:"#"===Sn.charAt(0)?function _e(In){return In>65535?(In-=65536,String.fromCharCode(55296+(In>>10),56320+(1023&In))):String.fromCharCode(In)}(parseInt(Sn.substr(1).replace("x","0x"))):(re.error("entity not found:"+In),In)}function rt(In){if(In>ft){var Sn=Ne.substring(ft,In).replace(/&#?\w+;/g,Ge);je&&et(ft),z.characters(Sn,0,In-ft),ft=In}}function et(In,Sn){for(;In>=O&&(Sn=Ce.exec(Ne));)O=(W=Sn.index)+Sn[0].length,je.lineNumber++;je.columnNumber=In-W+1}for(var W=0,O=0,Ce=/.*(?:\r\n?|\n)|.*$/g,je=z.locator,Ye=[{currentNSMap:Ke}],vt={},ft=0;;){try{var At=Ne.indexOf("<",ft);if(At<0){if(!Ne.substr(ft).match(/^\s*$/)){var Ft=z.doc,Kt=Ft.createTextNode(Ne.substr(ft));Ft.appendChild(Kt),z.currentElement=Kt}return}switch(At>ft&&rt(At),Ne.charAt(At+1)){case"/":var ut=Ne.indexOf(">",At+3),Bt=Ne.substring(At+2,ut).replace(/[ \t\n\r]+$/g,""),dn=Ye.pop();ut<0?(Bt=Ne.substring(At+2).replace(/[\s<].*/,""),re.error("end tag name: "+Bt+" is not complete:"+dn.tagName),ut=At+1+Bt.length):Bt.match(/\s</)&&(Bt=Bt.replace(/[\s<].*/,""),re.error("end tag name: "+Bt+" maybe not complete"),ut=At+1+Bt.length);var xn=dn.localNSMap,jn=dn.tagName==Bt;if(jn||dn.tagName&&dn.tagName.toLowerCase()==Bt.toLowerCase()){if(z.endElement(dn.uri,dn.localName,Bt),xn)for(var tn in xn)Object.prototype.hasOwnProperty.call(xn,tn)&&z.endPrefixMapping(tn);jn||re.fatalError("end tag name: "+Bt+" is not match the current start tagName:"+dn.tagName)}else Ye.push(dn);ut++;break;case"?":je&&et(At),ut=he(Ne,At,z);break;case"!":je&&et(At),ut=Le(Ne,At,z,re);break;default:je&&et(At);var Me=new Be,it=Ye[Ye.length-1].currentNSMap,Pt=(ut=Q(Ne,At,Me,it,Ge,re),Me.length);if(!Me.closed&&ae(Ne,ut,Me.tagName,vt)&&(Me.closed=!0,at.nbsp||re.warning("unclosed xml attribute")),je&&Pt){for(var Qt=X(je,{}),Jn=0;Jn<Pt;Jn++){var or=Me[Jn];et(or.offset),or.locator=X(je,{})}z.locator=Qt,G(Me,z,it)&&Ye.push(Me),z.locator=je}else G(Me,z,it)&&Ye.push(Me);Z.isHTML(Me.uri)&&!Me.closed?ut=F(Ne,ut,Me.tagName,Ge,z):ut++}}catch(In){if(In instanceof J)throw In;re.error("element parse error: "+In),ut=-1}ut>ft?ft=ut:rt(Math.max(At,ft)+1)}}(Ne,Ke,at,z,this.errorHandler),z.endDocument()}},Be.prototype={setTagName:function(Ne){if(!ye.test(Ne))throw new Error("invalid tagName:"+Ne);this.tagName=Ne},addValue:function(Ne,Ke,at){if(!ye.test(Ne))throw new Error("invalid attribute:"+Ne);this.attributeNames[Ne]=this.length,this[this.length++]={qName:Ne,value:Ke,offset:at}},length:0,getLocalName:function(Ne){return this[Ne].localName},getLocator:function(Ne){return this[Ne].locator},getQName:function(Ne){return this[Ne].qName},getURI:function(Ne){return this[Ne].uri},getValue:function(Ne){return this[Ne].value}},Ue.XMLReader=ge,Ue.ParseError=J},3450:(Pe,Ue)=>{"use strict";Ue.byteLength=function E(J){var ge=pe(J),X=ge[1];return 3*(ge[0]+X)/4-X},Ue.toByteArray=function m(J){var ge,le,R=pe(J),X=R[0],Q=R[1],G=new ee(function N(J,ge,R){return 3*(ge+R)/4-R}(0,X,Q)),F=0,ae=Q>0?X-4:X;for(le=0;le<ae;le+=4)ge=Z[J.charCodeAt(le)]<<18|Z[J.charCodeAt(le+1)]<<12|Z[J.charCodeAt(le+2)]<<6|Z[J.charCodeAt(le+3)],G[F++]=ge>>16&255,G[F++]=ge>>8&255,G[F++]=255&ge;return 2===Q&&(ge=Z[J.charCodeAt(le)]<<2|Z[J.charCodeAt(le+1)]>>4,G[F++]=255&ge),1===Q&&(ge=Z[J.charCodeAt(le)]<<10|Z[J.charCodeAt(le+1)]<<4|Z[J.charCodeAt(le+2)]>>2,G[F++]=ge>>8&255,G[F++]=255&ge),G},Ue.fromByteArray=function Ie(J){for(var ge,R=J.length,X=R%3,Q=[],G=16383,F=0,ae=R-X;F<ae;F+=G)Q.push(U(J,F,F+G>ae?ae:F+G));return 1===X?Q.push(B[(ge=J[R-1])>>2]+B[ge<<4&63]+"=="):2===X&&Q.push(B[(ge=(J[R-2]<<8)+J[R-1])>>10]+B[ge>>4&63]+B[ge<<2&63]+"="),Q.join("")};for(var B=[],Z=[],ee=typeof Uint8Array<"u"?Uint8Array:Array,me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ye=0;ye<64;++ye)B[ye]=me[ye],Z[me.charCodeAt(ye)]=ye;function pe(J){var ge=J.length;if(ge%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=J.indexOf("=");return-1===R&&(R=ge),[R,R===ge?0:4-R%4]}function fe(J){return B[J>>18&63]+B[J>>12&63]+B[J>>6&63]+B[63&J]}function U(J,ge,R){for(var Q=[],G=ge;G<R;G+=3)Q.push(fe((J[G]<<16&16711680)+(J[G+1]<<8&65280)+(255&J[G+2])));return Q.join("")}Z[45]=62,Z[95]=63},9844:Pe=>{Pe.exports=function Ue(B,Z,ee){function me(pe,E){if(!Z[pe]){if(!B[pe]){if(ye)return ye(pe,!0);var m=new Error("Cannot find module '"+pe+"'");throw m.code="MODULE_NOT_FOUND",m}var fe=Z[pe]={exports:{}};B[pe][0].call(fe.exports,function(U){return me(B[pe][1][U]||U)},fe,fe.exports,Ue,B,Z,ee)}return Z[pe].exports}for(var ye=void 0,oe=0;oe<ee.length;oe++)me(ee[oe]);return me}({1:[function(Ue,B,Z){"use strict";Object.defineProperty(Z,"__esModule",{value:!0}),Z.create=Z.visible=void 0;var ee=function(oe){var pe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],E=document.createElement("div");return E.innerHTML=oe.trim(),!0===pe?E.children:E.firstChild},me=function(oe,pe){var E=oe.children;return 1===E.length&&E[0].tagName===pe},ye=function(oe){return null!=(oe=oe||document.querySelector(".basicLightbox"))&&!0===oe.ownerDocument.body.contains(oe)};Z.visible=ye,Z.create=function(oe,pe){var E=function(fe,U){var Ie=ee('\n\t\t<div class="basicLightbox '.concat(U.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),J=Ie.querySelector(".basicLightbox__placeholder");fe.forEach(function(Q){return J.appendChild(Q)});var ge=me(J,"IMG"),R=me(J,"VIDEO"),X=me(J,"IFRAME");return!0===ge&&Ie.classList.add("basicLightbox--img"),!0===R&&Ie.classList.add("basicLightbox--video"),!0===X&&Ie.classList.add("basicLightbox--iframe"),Ie}(oe=function(fe){var U="string"==typeof fe,Ie=fe instanceof HTMLElement==1;if(!1===U&&!1===Ie)throw new Error("Content must be a DOM element/node or string");return!0===U?Array.from(ee(fe,!0)):"TEMPLATE"===fe.tagName?[fe.content.cloneNode(!0)]:Array.from(fe.children)}(oe),pe=function(){var fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(fe=Object.assign({},fe)).closable&&(fe.closable=!0),null==fe.className&&(fe.className=""),null==fe.onShow&&(fe.onShow=function(){}),null==fe.onClose&&(fe.onClose=function(){}),"boolean"!=typeof fe.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof fe.className)throw new Error("Property `className` must be a string");if("function"!=typeof fe.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof fe.onClose)throw new Error("Property `onClose` must be a function");return fe}(pe)),N=function(fe){return!1!==pe.onClose(m)&&(Ie=function(){if("function"==typeof fe)return fe(m)},(U=E).classList.remove("basicLightbox--visible"),setTimeout(function(){return!1===ye(U)||U.parentElement.removeChild(U),Ie()},410),!0);var U,Ie};!0===pe.closable&&E.addEventListener("click",function(fe){fe.target===E&&N()});var m={element:function(){return E},visible:function(){return ye(E)},show:function(fe){return!1!==pe.onShow(m)&&(U=E,Ie=function(){if("function"==typeof fe)return fe(m)},document.body.appendChild(U),setTimeout(function(){requestAnimationFrame(function(){return U.classList.add("basicLightbox--visible"),Ie()})},10),!0);var U,Ie},close:N};return m}},{}]},{},[1])(1)},332:(Pe,Ue,B)=>{"use strict";var Z=B(4688),ee=B(7766),me=B(7544),ye=B(715);Pe.exports=ye||Z.call(me,ee)},7766:Pe=>{"use strict";Pe.exports=Function.prototype.apply},7544:Pe=>{"use strict";Pe.exports=Function.prototype.call},9138:(Pe,Ue,B)=>{"use strict";var Z=B(4688),ee=B(9327),me=B(7544),ye=B(332);Pe.exports=function(pe){if(pe.length<1||"function"!=typeof pe[0])throw new ee("a function is required");return ye(Z,me,pe)}},715:Pe=>{"use strict";Pe.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},448:(Pe,Ue,B)=>{"use strict";var Z=B(9249),ee=B(9138),me=ee([Z("%String.prototype.indexOf%")]);Pe.exports=function(oe,pe){var E=Z(oe,!!pe);return"function"==typeof E&&me(oe,".prototype.")>-1?ee([E]):E}},9660:(Pe,Ue,B)=>{"use strict";var me,Z=B(9138),ee=B(1031);try{me=[].__proto__===Array.prototype}catch(E){if(!E||"object"!=typeof E||!("code"in E)||"ERR_PROTO_ACCESS"!==E.code)throw E}var ye=!!me&&ee&&ee(Object.prototype,"__proto__"),oe=Object,pe=oe.getPrototypeOf;Pe.exports=ye&&"function"==typeof ye.get?Z([ye.get]):"function"==typeof pe&&function(N){return pe(null==N?N:oe(N))}},2307:Pe=>{"use strict";var Ue=Object.defineProperty||!1;if(Ue)try{Ue({},"a",{value:1})}catch{Ue=!1}Pe.exports=Ue},7153:Pe=>{"use strict";Pe.exports=EvalError},939:Pe=>{"use strict";Pe.exports=Error},1486:Pe=>{"use strict";Pe.exports=RangeError},4654:Pe=>{"use strict";Pe.exports=ReferenceError},1144:Pe=>{"use strict";Pe.exports=SyntaxError},9327:Pe=>{"use strict";Pe.exports=TypeError},6005:Pe=>{"use strict";Pe.exports=URIError},3144:Pe=>{"use strict";Pe.exports=Object},421:Pe=>{"use strict";var B=Object.prototype.toString,Z=Math.max,me=function(E,N){for(var m=[],fe=0;fe<E.length;fe+=1)m[fe]=E[fe];for(var U=0;U<N.length;U+=1)m[U+E.length]=N[U];return m};Pe.exports=function(E){var N=this;if("function"!=typeof N||"[object Function]"!==B.apply(N))throw new TypeError("Function.prototype.bind called on incompatible "+N);for(var fe,m=function(E){for(var m=[],fe=1,U=0;fe<E.length;fe+=1,U+=1)m[U]=E[fe];return m}(arguments),Ie=Z(0,N.length-m.length),J=[],ge=0;ge<Ie;ge++)J[ge]="$"+ge;if(fe=Function("binder","return function ("+function(pe){for(var N="",m=0;m<pe.length;m+=1)N+=pe[m],m+1<pe.length&&(N+=",");return N}(J)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof fe){var X=N.apply(this,me(m,arguments));return Object(X)===X?X:this}return N.apply(E,me(m,arguments))}),N.prototype){var R=function(){};R.prototype=N.prototype,fe.prototype=new R,R.prototype=null}return fe}},4688:(Pe,Ue,B)=>{"use strict";var Z=B(421);Pe.exports=Function.prototype.bind||Z},9249:(Pe,Ue,B)=>{"use strict";var Z,ee=B(3144),me=B(939),ye=B(7153),oe=B(1486),pe=B(4654),E=B(1144),N=B(9327),m=B(6005),fe=B(7126),U=B(5092),Ie=B(8112),J=B(3390),ge=B(2420),R=Function,X=function(Ft){try{return R('"use strict"; return ('+Ft+").constructor;")()}catch{}},Q=B(1031),G=B(2307),F=function(){throw new N},ae=Q?function(){try{return F}catch{try{return Q(arguments,"callee").get}catch{return F}}}():F,le=B(7067)(),Le=B(9660),he="function"==typeof Reflect&&Reflect.getPrototypeOf||ee.getPrototypeOf||Le,Be=B(7766),we=B(7544),Ne={},Ke=typeof Uint8Array>"u"||!he?Z:he(Uint8Array),at={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Z:ArrayBuffer,"%ArrayIteratorPrototype%":le&&he?he([][Symbol.iterator]()):Z,"%AsyncFromSyncIteratorPrototype%":Z,"%AsyncFunction%":Ne,"%AsyncGenerator%":Ne,"%AsyncGeneratorFunction%":Ne,"%AsyncIteratorPrototype%":Ne,"%Atomics%":typeof Atomics>"u"?Z:Atomics,"%BigInt%":typeof BigInt>"u"?Z:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Z:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Z:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":me,"%eval%":eval,"%EvalError%":ye,"%Float32Array%":typeof Float32Array>"u"?Z:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Z:FinalizationRegistry,"%Function%":R,"%GeneratorFunction%":Ne,"%Int8Array%":typeof Int8Array>"u"?Z:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Z:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":le&&he?he(he([][Symbol.iterator]())):Z,"%JSON%":"object"==typeof JSON?JSON:Z,"%Map%":typeof Map>"u"?Z:Map,"%MapIteratorPrototype%":typeof Map>"u"||!le||!he?Z:he((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":ee,"%Object.getOwnPropertyDescriptor%":Q,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Z:Promise,"%Proxy%":typeof Proxy>"u"?Z:Proxy,"%RangeError%":oe,"%ReferenceError%":pe,"%Reflect%":typeof Reflect>"u"?Z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Z:Set,"%SetIteratorPrototype%":typeof Set>"u"||!le||!he?Z:he((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":le&&he?he(""[Symbol.iterator]()):Z,"%Symbol%":le?Symbol:Z,"%SyntaxError%":E,"%ThrowTypeError%":ae,"%TypedArray%":Ke,"%TypeError%":N,"%Uint8Array%":typeof Uint8Array>"u"?Z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Z:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Z:Uint32Array,"%URIError%":m,"%WeakMap%":typeof WeakMap>"u"?Z:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Z:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Z:WeakSet,"%Function.prototype.call%":we,"%Function.prototype.apply%":Be,"%Object.defineProperty%":G,"%Math.abs%":fe,"%Math.floor%":U,"%Math.max%":Ie,"%Math.min%":J,"%Math.pow%":ge};if(he)try{null.error}catch(Ft){var z=he(he(Ft));at["%Error.prototype%"]=z}var re=function Ft(Kt){var Bt;if("%AsyncFunction%"===Kt)Bt=X("async function () {}");else if("%GeneratorFunction%"===Kt)Bt=X("function* () {}");else if("%AsyncGeneratorFunction%"===Kt)Bt=X("async function* () {}");else if("%AsyncGenerator%"===Kt){var dn=Ft("%AsyncGeneratorFunction%");dn&&(Bt=dn.prototype)}else if("%AsyncIteratorPrototype%"===Kt){var xn=Ft("%AsyncGenerator%");xn&&he&&(Bt=he(xn.prototype))}return at[Kt]=Bt,Bt},_e={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ge=B(4688),rt=B(5961),et=Ge.call(we,Array.prototype.concat),W=Ge.call(Be,Array.prototype.splice),O=Ge.call(we,String.prototype.replace),Ce=Ge.call(we,String.prototype.slice),je=Ge.call(we,RegExp.prototype.exec),Ye=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,vt=/\\(\\)?/g,At=function(Kt,Bt){var xn,dn=Kt;if(rt(_e,dn)&&(dn="%"+(xn=_e[dn])[0]+"%"),rt(at,dn)){var jn=at[dn];if(jn===Ne&&(jn=re(dn)),typeof jn>"u"&&!Bt)throw new N("intrinsic "+Kt+" exists, but is not available. Please file an issue!");return{alias:xn,name:dn,value:jn}}throw new E("intrinsic "+Kt+" does not exist!")};Pe.exports=function(Kt,Bt){if("string"!=typeof Kt||0===Kt.length)throw new N("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Bt)throw new N('"allowMissing" argument must be a boolean');if(null===je(/^%?[^%]*%?$/,Kt))throw new E("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var dn=function(Kt){var Bt=Ce(Kt,0,1),dn=Ce(Kt,-1);if("%"===Bt&&"%"!==dn)throw new E("invalid intrinsic syntax, expected closing `%`");if("%"===dn&&"%"!==Bt)throw new E("invalid intrinsic syntax, expected opening `%`");var xn=[];return O(Kt,Ye,function(jn,Jt,tn,Me){xn[xn.length]=tn?O(Me,vt,"$1"):Jt||jn}),xn}(Kt),xn=dn.length>0?dn[0]:"",jn=At("%"+xn+"%",Bt),Jt=jn.name,tn=jn.value,Me=!1,it=jn.alias;it&&(xn=it[0],W(dn,et([0,1],it)));for(var ut=1,Pt=!0;ut<dn.length;ut+=1){var Qt=dn[ut],Jn=Ce(Qt,0,1),or=Ce(Qt,-1);if(('"'===Jn||"'"===Jn||"`"===Jn||'"'===or||"'"===or||"`"===or)&&Jn!==or)throw new E("property names with quotes must have matching quotes");if(("constructor"===Qt||!Pt)&&(Me=!0),rt(at,Jt="%"+(xn+="."+Qt)+"%"))tn=at[Jt];else if(null!=tn){if(!(Qt in tn)){if(!Bt)throw new N("base intrinsic for "+Kt+" exists, but the property is not available.");return}if(Q&&ut+1>=dn.length){var In=Q(tn,Qt);tn=(Pt=!!In)&&"get"in In&&!("originalValue"in In.get)?In.get:tn[Qt]}else Pt=rt(tn,Qt),tn=tn[Qt];Pt&&!Me&&(at[Jt]=tn)}}return tn}},417:Pe=>{"use strict";Pe.exports=Object.getOwnPropertyDescriptor},1031:(Pe,Ue,B)=>{"use strict";var Z=B(417);if(Z)try{Z([],"length")}catch{Z=null}Pe.exports=Z},7067:(Pe,Ue,B)=>{"use strict";var Z=typeof Symbol<"u"&&Symbol,ee=B(5401);Pe.exports=function(){return"function"==typeof Z&&"function"==typeof Symbol&&"symbol"==typeof Z("foo")&&"symbol"==typeof Symbol("bar")&&ee()}},5401:Pe=>{"use strict";Pe.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var B={},Z=Symbol("test"),ee=Object(Z);if("string"==typeof Z||"[object Symbol]"!==Object.prototype.toString.call(Z)||"[object Symbol]"!==Object.prototype.toString.call(ee))return!1;for(var ye in B[Z]=42,B)return!1;if("function"==typeof Object.keys&&0!==Object.keys(B).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(B).length)return!1;var oe=Object.getOwnPropertySymbols(B);if(1!==oe.length||oe[0]!==Z||!Object.prototype.propertyIsEnumerable.call(B,Z))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var pe=Object.getOwnPropertyDescriptor(B,Z);if(42!==pe.value||!0!==pe.enumerable)return!1}return!0}},5961:(Pe,Ue,B)=>{"use strict";var Z=Function.prototype.call,ee=Object.prototype.hasOwnProperty,me=B(4688);Pe.exports=me.call(Z,ee)},351:(Pe,Ue)=>{Ue.read=function(B,Z,ee,me,ye){var oe,pe,E=8*ye-me-1,N=(1<<E)-1,m=N>>1,fe=-7,U=ee?ye-1:0,Ie=ee?-1:1,J=B[Z+U];for(U+=Ie,oe=J&(1<<-fe)-1,J>>=-fe,fe+=E;fe>0;oe=256*oe+B[Z+U],U+=Ie,fe-=8);for(pe=oe&(1<<-fe)-1,oe>>=-fe,fe+=me;fe>0;pe=256*pe+B[Z+U],U+=Ie,fe-=8);if(0===oe)oe=1-m;else{if(oe===N)return pe?NaN:1/0*(J?-1:1);pe+=Math.pow(2,me),oe-=m}return(J?-1:1)*pe*Math.pow(2,oe-me)},Ue.write=function(B,Z,ee,me,ye,oe){var pe,E,N,m=8*oe-ye-1,fe=(1<<m)-1,U=fe>>1,Ie=23===ye?Math.pow(2,-24)-Math.pow(2,-77):0,J=me?0:oe-1,ge=me?1:-1,R=Z<0||0===Z&&1/Z<0?1:0;for(Z=Math.abs(Z),isNaN(Z)||Z===1/0?(E=isNaN(Z)?1:0,pe=fe):(pe=Math.floor(Math.log(Z)/Math.LN2),Z*(N=Math.pow(2,-pe))<1&&(pe--,N*=2),(Z+=pe+U>=1?Ie/N:Ie*Math.pow(2,1-U))*N>=2&&(pe++,N/=2),pe+U>=fe?(E=0,pe=fe):pe+U>=1?(E=(Z*N-1)*Math.pow(2,ye),pe+=U):(E=Z*Math.pow(2,U-1)*Math.pow(2,ye),pe=0));ye>=8;B[ee+J]=255&E,J+=ge,E/=256,ye-=8);for(pe=pe<<ye|E,m+=ye;m>0;B[ee+J]=255&pe,J+=ge,pe/=256,m-=8);B[ee+J-ge]|=128*R}},6358:Pe=>{var Ue="Expected a function",B=NaN,Z="[object Symbol]",ee=/^\s+|\s+$/g,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,oe=/^0o[0-7]+$/i,pe=parseInt,E="object"==typeof global&&global&&global.Object===Object&&global,N="object"==typeof self&&self&&self.Object===Object&&self,m=E||N||Function("return this")(),U=Object.prototype.toString,Ie=Math.max,J=Math.min,ge=function(){return m.Date.now()};function Q(le){var Le=typeof le;return!!le&&("object"==Le||"function"==Le)}function ae(le){if("number"==typeof le)return le;if(function F(le){return"symbol"==typeof le||function G(le){return!!le&&"object"==typeof le}(le)&&U.call(le)==Z}(le))return B;if(Q(le)){var Le="function"==typeof le.valueOf?le.valueOf():le;le=Q(Le)?Le+"":Le}if("string"!=typeof le)return 0===le?le:+le;le=le.replace(ee,"");var he=ye.test(le);return he||oe.test(le)?pe(le.slice(2),he?2:8):me.test(le)?B:+le}Pe.exports=function X(le,Le,he){var Be=!0,we=!0;if("function"!=typeof le)throw new TypeError(Ue);return Q(he)&&(Be="leading"in he?!!he.leading:Be,we="trailing"in he?!!he.trailing:we),function R(le,Le,he){var Be,we,Ne,Ke,at,z,re=0,_e=!1,Ge=!1,rt=!0;if("function"!=typeof le)throw new TypeError(Ue);function et(Ft){var Kt=Be,Bt=we;return Be=we=void 0,re=Ft,Ke=le.apply(Bt,Kt)}function Ce(Ft){var Kt=Ft-z;return void 0===z||Kt>=Le||Kt<0||Ge&&Ft-re>=Ne}function je(){var Ft=ge();if(Ce(Ft))return Ye(Ft);at=setTimeout(je,function O(Ft){var dn=Le-(Ft-z);return Ge?J(dn,Ne-(Ft-re)):dn}(Ft))}function Ye(Ft){return at=void 0,rt&&Be?et(Ft):(Be=we=void 0,Ke)}function At(){var Ft=ge(),Kt=Ce(Ft);if(Be=arguments,we=this,z=Ft,Kt){if(void 0===at)return function W(Ft){return re=Ft,at=setTimeout(je,Le),_e?et(Ft):Ke}(z);if(Ge)return at=setTimeout(je,Le),et(z)}return void 0===at&&(at=setTimeout(je,Le)),Ke}return Le=ae(Le)||0,Q(he)&&(_e=!!he.leading,Ne=(Ge="maxWait"in he)?Ie(ae(he.maxWait)||0,Le):Ne,rt="trailing"in he?!!he.trailing:rt),At.cancel=function vt(){void 0!==at&&clearTimeout(at),re=0,Be=z=we=at=void 0},At.flush=function ft(){return void 0===at?Ke:Ye(ge())},At}(le,Le,{leading:Be,maxWait:Le,trailing:we})}},7126:Pe=>{"use strict";Pe.exports=Math.abs},5092:Pe=>{"use strict";Pe.exports=Math.floor},8112:Pe=>{"use strict";Pe.exports=Math.max},3390:Pe=>{"use strict";Pe.exports=Math.min},2420:Pe=>{"use strict";Pe.exports=Math.pow},6148:(Pe,Ue,B)=>{"use strict";const ee=B(3450),me=B(351),ye="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Ue.hp=N,Ue.IS=50;const oe=2147483647;function E(q){if(q>oe)throw new RangeError('The value "'+q+'" is invalid for option "size"');const T=new Uint8Array(q);return Object.setPrototypeOf(T,N.prototype),T}function N(q,T,V){if("number"==typeof q){if("string"==typeof T)throw new TypeError('The "string" argument must be of type string. Received type number');return Ie(q)}return m(q,T,V)}function m(q,T,V){if("string"==typeof q)return function J(q,T){if(("string"!=typeof T||""===T)&&(T="utf8"),!N.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const V=0|ae(q,T);let ze=E(V);const be=ze.write(q,T);return be!==V&&(ze=ze.slice(0,be)),ze}(q,T);if(ArrayBuffer.isView(q))return function R(q){if(Sn(q,Uint8Array)){const T=new Uint8Array(q);return X(T.buffer,T.byteOffset,T.byteLength)}return ge(q)}(q);if(null==q)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(Sn(q,ArrayBuffer)||q&&Sn(q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Sn(q,SharedArrayBuffer)||q&&Sn(q.buffer,SharedArrayBuffer)))return X(q,T,V);if("number"==typeof q)throw new TypeError('The "value" argument must not be of type number. Received type number');const ze=q.valueOf&&q.valueOf();if(null!=ze&&ze!==q)return N.from(ze,T,V);const be=function Q(q){if(N.isBuffer(q)){const T=0|G(q.length),V=E(T);return 0===V.length||q.copy(V,0,0,T),V}return void 0!==q.length?"number"!=typeof q.length||er(q.length)?E(0):ge(q):"Buffer"===q.type&&Array.isArray(q.data)?ge(q.data):void 0}(q);if(be)return be;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof q[Symbol.toPrimitive])return N.from(q[Symbol.toPrimitive]("string"),T,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}function fe(q){if("number"!=typeof q)throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function Ie(q){return fe(q),E(q<0?0:0|G(q))}function ge(q){const T=q.length<0?0:0|G(q.length),V=E(T);for(let ze=0;ze<T;ze+=1)V[ze]=255&q[ze];return V}function X(q,T,V){if(T<0||q.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<T+(V||0))throw new RangeError('"length" is outside of buffer bounds');let ze;return ze=void 0===T&&void 0===V?new Uint8Array(q):void 0===V?new Uint8Array(q,T):new Uint8Array(q,T,V),Object.setPrototypeOf(ze,N.prototype),ze}function G(q){if(q>=oe)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+oe.toString(16)+" bytes");return 0|q}function ae(q,T){if(N.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||Sn(q,ArrayBuffer))return q.byteLength;if("string"!=typeof q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);const V=q.length,ze=arguments.length>2&&!0===arguments[2];if(!ze&&0===V)return 0;let be=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return Pt(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*V;case"hex":return V>>>1;case"base64":return or(q).length;default:if(be)return ze?-1:Pt(q).length;T=(""+T).toLowerCase(),be=!0}}function le(q,T,V){let ze=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===V||V>this.length)&&(V=this.length),V<=0)||(V>>>=0)<=(T>>>=0))return"";for(q||(q="utf8");;)switch(q){case"hex":return O(this,T,V);case"utf8":case"utf-8":return _e(this,T,V);case"ascii":return et(this,T,V);case"latin1":case"binary":return W(this,T,V);case"base64":return re(this,T,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ce(this,T,V);default:if(ze)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),ze=!0}}function Le(q,T,V){const ze=q[T];q[T]=q[V],q[V]=ze}function he(q,T,V,ze,be){if(0===q.length)return-1;if("string"==typeof V?(ze=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),er(V=+V)&&(V=be?0:q.length-1),V<0&&(V=q.length+V),V>=q.length){if(be)return-1;V=q.length-1}else if(V<0){if(!be)return-1;V=0}if("string"==typeof T&&(T=N.from(T,ze)),N.isBuffer(T))return 0===T.length?-1:Be(q,T,V,ze,be);if("number"==typeof T)return T&=255,"function"==typeof Uint8Array.prototype.indexOf?be?Uint8Array.prototype.indexOf.call(q,T,V):Uint8Array.prototype.lastIndexOf.call(q,T,V):Be(q,[T],V,ze,be);throw new TypeError("val must be string, number or Buffer")}function Be(q,T,V,ze,be){let qe,Oe=1,Xe=q.length,Ct=T.length;if(void 0!==ze&&("ucs2"===(ze=String(ze).toLowerCase())||"ucs-2"===ze||"utf16le"===ze||"utf-16le"===ze)){if(q.length<2||T.length<2)return-1;Oe=2,Xe/=2,Ct/=2,V/=2}function We(kt,nn){return 1===Oe?kt[nn]:kt.readUInt16BE(nn*Oe)}if(be){let kt=-1;for(qe=V;qe<Xe;qe++)if(We(q,qe)===We(T,-1===kt?0:qe-kt)){if(-1===kt&&(kt=qe),qe-kt+1===Ct)return kt*Oe}else-1!==kt&&(qe-=qe-kt),kt=-1}else for(V+Ct>Xe&&(V=Xe-Ct),qe=V;qe>=0;qe--){let kt=!0;for(let nn=0;nn<Ct;nn++)if(We(q,qe+nn)!==We(T,nn)){kt=!1;break}if(kt)return qe}return-1}function we(q,T,V,ze){V=Number(V)||0;const be=q.length-V;ze?(ze=Number(ze))>be&&(ze=be):ze=be;const Oe=T.length;let Xe;for(ze>Oe/2&&(ze=Oe/2),Xe=0;Xe<ze;++Xe){const Ct=parseInt(T.substr(2*Xe,2),16);if(er(Ct))return Xe;q[V+Xe]=Ct}return Xe}function Ne(q,T,V,ze){return In(Pt(T,q.length-V),q,V,ze)}function Ke(q,T,V,ze){return In(function Qt(q){const T=[];for(let V=0;V<q.length;++V)T.push(255&q.charCodeAt(V));return T}(T),q,V,ze)}function at(q,T,V,ze){return In(or(T),q,V,ze)}function z(q,T,V,ze){return In(function Jn(q,T){let V,ze,be;const Oe=[];for(let Xe=0;Xe<q.length&&!((T-=2)<0);++Xe)V=q.charCodeAt(Xe),ze=V>>8,be=V%256,Oe.push(be),Oe.push(ze);return Oe}(T,q.length-V),q,V,ze)}function re(q,T,V){return ee.fromByteArray(0===T&&V===q.length?q:q.slice(T,V))}function _e(q,T,V){V=Math.min(q.length,V);const ze=[];let be=T;for(;be<V;){const Oe=q[be];let Xe=null,Ct=Oe>239?4:Oe>223?3:Oe>191?2:1;if(be+Ct<=V){let We,qe,kt,nn;switch(Ct){case 1:Oe<128&&(Xe=Oe);break;case 2:We=q[be+1],128==(192&We)&&(nn=(31&Oe)<<6|63&We,nn>127&&(Xe=nn));break;case 3:We=q[be+1],qe=q[be+2],128==(192&We)&&128==(192&qe)&&(nn=(15&Oe)<<12|(63&We)<<6|63&qe,nn>2047&&(nn<55296||nn>57343)&&(Xe=nn));break;case 4:We=q[be+1],qe=q[be+2],kt=q[be+3],128==(192&We)&&128==(192&qe)&&128==(192&kt)&&(nn=(15&Oe)<<18|(63&We)<<12|(63&qe)<<6|63&kt,nn>65535&&nn<1114112&&(Xe=nn))}}null===Xe?(Xe=65533,Ct=1):Xe>65535&&(Xe-=65536,ze.push(Xe>>>10&1023|55296),Xe=56320|1023&Xe),ze.push(Xe),be+=Ct}return function rt(q){const T=q.length;if(T<=Ge)return String.fromCharCode.apply(String,q);let V="",ze=0;for(;ze<T;)V+=String.fromCharCode.apply(String,q.slice(ze,ze+=Ge));return V}(ze)}!(N.TYPED_ARRAY_SUPPORT=function pe(){try{const q=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(q,T),42===q.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(N.prototype,"parent",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.buffer}}),Object.defineProperty(N.prototype,"offset",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.byteOffset}}),N.poolSize=8192,N.from=function(q,T,V){return m(q,T,V)},Object.setPrototypeOf(N.prototype,Uint8Array.prototype),Object.setPrototypeOf(N,Uint8Array),N.alloc=function(q,T,V){return function U(q,T,V){return fe(q),q<=0?E(q):void 0!==T?"string"==typeof V?E(q).fill(T,V):E(q).fill(T):E(q)}(q,T,V)},N.allocUnsafe=function(q){return Ie(q)},N.allocUnsafeSlow=function(q){return Ie(q)},N.isBuffer=function(T){return null!=T&&!0===T._isBuffer&&T!==N.prototype},N.compare=function(T,V){if(Sn(T,Uint8Array)&&(T=N.from(T,T.offset,T.byteLength)),Sn(V,Uint8Array)&&(V=N.from(V,V.offset,V.byteLength)),!N.isBuffer(T)||!N.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===V)return 0;let ze=T.length,be=V.length;for(let Oe=0,Xe=Math.min(ze,be);Oe<Xe;++Oe)if(T[Oe]!==V[Oe]){ze=T[Oe],be=V[Oe];break}return ze<be?-1:be<ze?1:0},N.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},N.concat=function(T,V){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return N.alloc(0);let ze;if(void 0===V)for(V=0,ze=0;ze<T.length;++ze)V+=T[ze].length;const be=N.allocUnsafe(V);let Oe=0;for(ze=0;ze<T.length;++ze){let Xe=T[ze];if(Sn(Xe,Uint8Array))Oe+Xe.length>be.length?(N.isBuffer(Xe)||(Xe=N.from(Xe)),Xe.copy(be,Oe)):Uint8Array.prototype.set.call(be,Xe,Oe);else{if(!N.isBuffer(Xe))throw new TypeError('"list" argument must be an Array of Buffers');Xe.copy(be,Oe)}Oe+=Xe.length}return be},N.byteLength=ae,N.prototype._isBuffer=!0,N.prototype.swap16=function(){const T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let V=0;V<T;V+=2)Le(this,V,V+1);return this},N.prototype.swap32=function(){const T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let V=0;V<T;V+=4)Le(this,V,V+3),Le(this,V+1,V+2);return this},N.prototype.swap64=function(){const T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let V=0;V<T;V+=8)Le(this,V,V+7),Le(this,V+1,V+6),Le(this,V+2,V+5),Le(this,V+3,V+4);return this},N.prototype.toLocaleString=N.prototype.toString=function(){const T=this.length;return 0===T?"":0===arguments.length?_e(this,0,T):le.apply(this,arguments)},N.prototype.equals=function(T){if(!N.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===N.compare(this,T)},N.prototype.inspect=function(){let T="";const V=Ue.IS;return T=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(T+=" ... "),"<Buffer "+T+">"},ye&&(N.prototype[ye]=N.prototype.inspect),N.prototype.compare=function(T,V,ze,be,Oe){if(Sn(T,Uint8Array)&&(T=N.from(T,T.offset,T.byteLength)),!N.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(void 0===V&&(V=0),void 0===ze&&(ze=T?T.length:0),void 0===be&&(be=0),void 0===Oe&&(Oe=this.length),V<0||ze>T.length||be<0||Oe>this.length)throw new RangeError("out of range index");if(be>=Oe&&V>=ze)return 0;if(be>=Oe)return-1;if(V>=ze)return 1;if(this===T)return 0;let Xe=(Oe>>>=0)-(be>>>=0),Ct=(ze>>>=0)-(V>>>=0);const We=Math.min(Xe,Ct),qe=this.slice(be,Oe),kt=T.slice(V,ze);for(let nn=0;nn<We;++nn)if(qe[nn]!==kt[nn]){Xe=qe[nn],Ct=kt[nn];break}return Xe<Ct?-1:Ct<Xe?1:0},N.prototype.includes=function(T,V,ze){return-1!==this.indexOf(T,V,ze)},N.prototype.indexOf=function(T,V,ze){return he(this,T,V,ze,!0)},N.prototype.lastIndexOf=function(T,V,ze){return he(this,T,V,ze,!1)},N.prototype.write=function(T,V,ze,be){if(void 0===V)be="utf8",ze=this.length,V=0;else if(void 0===ze&&"string"==typeof V)be=V,ze=this.length,V=0;else{if(!isFinite(V))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");V>>>=0,isFinite(ze)?(ze>>>=0,void 0===be&&(be="utf8")):(be=ze,ze=void 0)}const Oe=this.length-V;if((void 0===ze||ze>Oe)&&(ze=Oe),T.length>0&&(ze<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");be||(be="utf8");let Xe=!1;for(;;)switch(be){case"hex":return we(this,T,V,ze);case"utf8":case"utf-8":return Ne(this,T,V,ze);case"ascii":case"latin1":case"binary":return Ke(this,T,V,ze);case"base64":return at(this,T,V,ze);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,T,V,ze);default:if(Xe)throw new TypeError("Unknown encoding: "+be);be=(""+be).toLowerCase(),Xe=!0}},N.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Ge=4096;function et(q,T,V){let ze="";V=Math.min(q.length,V);for(let be=T;be<V;++be)ze+=String.fromCharCode(127&q[be]);return ze}function W(q,T,V){let ze="";V=Math.min(q.length,V);for(let be=T;be<V;++be)ze+=String.fromCharCode(q[be]);return ze}function O(q,T,V){const ze=q.length;(!T||T<0)&&(T=0),(!V||V<0||V>ze)&&(V=ze);let be="";for(let Oe=T;Oe<V;++Oe)be+=li[q[Oe]];return be}function Ce(q,T,V){const ze=q.slice(T,V);let be="";for(let Oe=0;Oe<ze.length-1;Oe+=2)be+=String.fromCharCode(ze[Oe]+256*ze[Oe+1]);return be}function je(q,T,V){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(q+T>V)throw new RangeError("Trying to access beyond buffer length")}function Ye(q,T,V,ze,be,Oe){if(!N.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>be||T<Oe)throw new RangeError('"value" argument is out of bounds');if(V+ze>q.length)throw new RangeError("Index out of range")}function vt(q,T,V,ze,be){Jt(T,ze,be,q,V,7);let Oe=Number(T&BigInt(4294967295));q[V++]=Oe,Oe>>=8,q[V++]=Oe,Oe>>=8,q[V++]=Oe,Oe>>=8,q[V++]=Oe;let Xe=Number(T>>BigInt(32)&BigInt(4294967295));return q[V++]=Xe,Xe>>=8,q[V++]=Xe,Xe>>=8,q[V++]=Xe,Xe>>=8,q[V++]=Xe,V}function ft(q,T,V,ze,be){Jt(T,ze,be,q,V,7);let Oe=Number(T&BigInt(4294967295));q[V+7]=Oe,Oe>>=8,q[V+6]=Oe,Oe>>=8,q[V+5]=Oe,Oe>>=8,q[V+4]=Oe;let Xe=Number(T>>BigInt(32)&BigInt(4294967295));return q[V+3]=Xe,Xe>>=8,q[V+2]=Xe,Xe>>=8,q[V+1]=Xe,Xe>>=8,q[V]=Xe,V+8}function At(q,T,V,ze,be,Oe){if(V+ze>q.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function Ft(q,T,V,ze,be){return T=+T,V>>>=0,be||At(q,0,V,4),me.write(q,T,V,ze,23,4),V+4}function Kt(q,T,V,ze,be){return T=+T,V>>>=0,be||At(q,0,V,8),me.write(q,T,V,ze,52,8),V+8}N.prototype.slice=function(T,V){const ze=this.length;(T=~~T)<0?(T+=ze)<0&&(T=0):T>ze&&(T=ze),(V=void 0===V?ze:~~V)<0?(V+=ze)<0&&(V=0):V>ze&&(V=ze),V<T&&(V=T);const be=this.subarray(T,V);return Object.setPrototypeOf(be,N.prototype),be},N.prototype.readUintLE=N.prototype.readUIntLE=function(T,V,ze){T>>>=0,V>>>=0,ze||je(T,V,this.length);let be=this[T],Oe=1,Xe=0;for(;++Xe<V&&(Oe*=256);)be+=this[T+Xe]*Oe;return be},N.prototype.readUintBE=N.prototype.readUIntBE=function(T,V,ze){T>>>=0,V>>>=0,ze||je(T,V,this.length);let be=this[T+--V],Oe=1;for(;V>0&&(Oe*=256);)be+=this[T+--V]*Oe;return be},N.prototype.readUint8=N.prototype.readUInt8=function(T,V){return T>>>=0,V||je(T,1,this.length),this[T]},N.prototype.readUint16LE=N.prototype.readUInt16LE=function(T,V){return T>>>=0,V||je(T,2,this.length),this[T]|this[T+1]<<8},N.prototype.readUint16BE=N.prototype.readUInt16BE=function(T,V){return T>>>=0,V||je(T,2,this.length),this[T]<<8|this[T+1]},N.prototype.readUint32LE=N.prototype.readUInt32LE=function(T,V){return T>>>=0,V||je(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},N.prototype.readUint32BE=N.prototype.readUInt32BE=function(T,V){return T>>>=0,V||je(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},N.prototype.readBigUInt64LE=Cr(function(T){tn(T>>>=0,"offset");const V=this[T],ze=this[T+7];(void 0===V||void 0===ze)&&Me(T,this.length-8);const be=V+256*this[++T]+65536*this[++T]+this[++T]*2**24,Oe=this[++T]+256*this[++T]+65536*this[++T]+ze*2**24;return BigInt(be)+(BigInt(Oe)<<BigInt(32))}),N.prototype.readBigUInt64BE=Cr(function(T){tn(T>>>=0,"offset");const V=this[T],ze=this[T+7];(void 0===V||void 0===ze)&&Me(T,this.length-8);const be=V*2**24+65536*this[++T]+256*this[++T]+this[++T],Oe=this[++T]*2**24+65536*this[++T]+256*this[++T]+ze;return(BigInt(be)<<BigInt(32))+BigInt(Oe)}),N.prototype.readIntLE=function(T,V,ze){T>>>=0,V>>>=0,ze||je(T,V,this.length);let be=this[T],Oe=1,Xe=0;for(;++Xe<V&&(Oe*=256);)be+=this[T+Xe]*Oe;return Oe*=128,be>=Oe&&(be-=Math.pow(2,8*V)),be},N.prototype.readIntBE=function(T,V,ze){T>>>=0,V>>>=0,ze||je(T,V,this.length);let be=V,Oe=1,Xe=this[T+--be];for(;be>0&&(Oe*=256);)Xe+=this[T+--be]*Oe;return Oe*=128,Xe>=Oe&&(Xe-=Math.pow(2,8*V)),Xe},N.prototype.readInt8=function(T,V){return T>>>=0,V||je(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},N.prototype.readInt16LE=function(T,V){T>>>=0,V||je(T,2,this.length);const ze=this[T]|this[T+1]<<8;return 32768&ze?4294901760|ze:ze},N.prototype.readInt16BE=function(T,V){T>>>=0,V||je(T,2,this.length);const ze=this[T+1]|this[T]<<8;return 32768&ze?4294901760|ze:ze},N.prototype.readInt32LE=function(T,V){return T>>>=0,V||je(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},N.prototype.readInt32BE=function(T,V){return T>>>=0,V||je(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},N.prototype.readBigInt64LE=Cr(function(T){tn(T>>>=0,"offset");const V=this[T],ze=this[T+7];return(void 0===V||void 0===ze)&&Me(T,this.length-8),(BigInt(this[T+4]+256*this[T+5]+65536*this[T+6]+(ze<<24))<<BigInt(32))+BigInt(V+256*this[++T]+65536*this[++T]+this[++T]*2**24)}),N.prototype.readBigInt64BE=Cr(function(T){tn(T>>>=0,"offset");const V=this[T],ze=this[T+7];(void 0===V||void 0===ze)&&Me(T,this.length-8);const be=(V<<24)+65536*this[++T]+256*this[++T]+this[++T];return(BigInt(be)<<BigInt(32))+BigInt(this[++T]*2**24+65536*this[++T]+256*this[++T]+ze)}),N.prototype.readFloatLE=function(T,V){return T>>>=0,V||je(T,4,this.length),me.read(this,T,!0,23,4)},N.prototype.readFloatBE=function(T,V){return T>>>=0,V||je(T,4,this.length),me.read(this,T,!1,23,4)},N.prototype.readDoubleLE=function(T,V){return T>>>=0,V||je(T,8,this.length),me.read(this,T,!0,52,8)},N.prototype.readDoubleBE=function(T,V){return T>>>=0,V||je(T,8,this.length),me.read(this,T,!1,52,8)},N.prototype.writeUintLE=N.prototype.writeUIntLE=function(T,V,ze,be){T=+T,V>>>=0,ze>>>=0,be||Ye(this,T,V,ze,Math.pow(2,8*ze)-1,0);let Oe=1,Xe=0;for(this[V]=255&T;++Xe<ze&&(Oe*=256);)this[V+Xe]=T/Oe&255;return V+ze},N.prototype.writeUintBE=N.prototype.writeUIntBE=function(T,V,ze,be){T=+T,V>>>=0,ze>>>=0,be||Ye(this,T,V,ze,Math.pow(2,8*ze)-1,0);let Oe=ze-1,Xe=1;for(this[V+Oe]=255&T;--Oe>=0&&(Xe*=256);)this[V+Oe]=T/Xe&255;return V+ze},N.prototype.writeUint8=N.prototype.writeUInt8=function(T,V,ze){return T=+T,V>>>=0,ze||Ye(this,T,V,1,255,0),this[V]=255&T,V+1},N.prototype.writeUint16LE=N.prototype.writeUInt16LE=function(T,V,ze){return T=+T,V>>>=0,ze||Ye(this,T,V,2,65535,0),this[V]=255&T,this[V+1]=T>>>8,V+2},N.prototype.writeUint16BE=N.prototype.writeUInt16BE=function(T,V,ze){return T=+T,V>>>=0,ze||Ye(this,T,V,2,65535,0),this[V]=T>>>8,this[V+1]=255&T,V+2},N.prototype.writeUint32LE=N.prototype.writeUInt32LE=function(T,V,ze){return T=+T,V>>>=0,ze||Ye(this,T,V,4,4294967295,0),this[V+3]=T>>>24,this[V+2]=T>>>16,this[V+1]=T>>>8,this[V]=255&T,V+4},N.prototype.writeUint32BE=N.prototype.writeUInt32BE=function(T,V,ze){return T=+T,V>>>=0,ze||Ye(this,T,V,4,4294967295,0),this[V]=T>>>24,this[V+1]=T>>>16,this[V+2]=T>>>8,this[V+3]=255&T,V+4},N.prototype.writeBigUInt64LE=Cr(function(T,V=0){return vt(this,T,V,BigInt(0),BigInt("0xffffffffffffffff"))}),N.prototype.writeBigUInt64BE=Cr(function(T,V=0){return ft(this,T,V,BigInt(0),BigInt("0xffffffffffffffff"))}),N.prototype.writeIntLE=function(T,V,ze,be){if(T=+T,V>>>=0,!be){const We=Math.pow(2,8*ze-1);Ye(this,T,V,ze,We-1,-We)}let Oe=0,Xe=1,Ct=0;for(this[V]=255&T;++Oe<ze&&(Xe*=256);)T<0&&0===Ct&&0!==this[V+Oe-1]&&(Ct=1),this[V+Oe]=(T/Xe|0)-Ct&255;return V+ze},N.prototype.writeIntBE=function(T,V,ze,be){if(T=+T,V>>>=0,!be){const We=Math.pow(2,8*ze-1);Ye(this,T,V,ze,We-1,-We)}let Oe=ze-1,Xe=1,Ct=0;for(this[V+Oe]=255&T;--Oe>=0&&(Xe*=256);)T<0&&0===Ct&&0!==this[V+Oe+1]&&(Ct=1),this[V+Oe]=(T/Xe|0)-Ct&255;return V+ze},N.prototype.writeInt8=function(T,V,ze){return T=+T,V>>>=0,ze||Ye(this,T,V,1,127,-128),T<0&&(T=255+T+1),this[V]=255&T,V+1},N.prototype.writeInt16LE=function(T,V,ze){return T=+T,V>>>=0,ze||Ye(this,T,V,2,32767,-32768),this[V]=255&T,this[V+1]=T>>>8,V+2},N.prototype.writeInt16BE=function(T,V,ze){return T=+T,V>>>=0,ze||Ye(this,T,V,2,32767,-32768),this[V]=T>>>8,this[V+1]=255&T,V+2},N.prototype.writeInt32LE=function(T,V,ze){return T=+T,V>>>=0,ze||Ye(this,T,V,4,2147483647,-2147483648),this[V]=255&T,this[V+1]=T>>>8,this[V+2]=T>>>16,this[V+3]=T>>>24,V+4},N.prototype.writeInt32BE=function(T,V,ze){return T=+T,V>>>=0,ze||Ye(this,T,V,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[V]=T>>>24,this[V+1]=T>>>16,this[V+2]=T>>>8,this[V+3]=255&T,V+4},N.prototype.writeBigInt64LE=Cr(function(T,V=0){return vt(this,T,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),N.prototype.writeBigInt64BE=Cr(function(T,V=0){return ft(this,T,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),N.prototype.writeFloatLE=function(T,V,ze){return Ft(this,T,V,!0,ze)},N.prototype.writeFloatBE=function(T,V,ze){return Ft(this,T,V,!1,ze)},N.prototype.writeDoubleLE=function(T,V,ze){return Kt(this,T,V,!0,ze)},N.prototype.writeDoubleBE=function(T,V,ze){return Kt(this,T,V,!1,ze)},N.prototype.copy=function(T,V,ze,be){if(!N.isBuffer(T))throw new TypeError("argument should be a Buffer");if(ze||(ze=0),!be&&0!==be&&(be=this.length),V>=T.length&&(V=T.length),V||(V=0),be>0&&be<ze&&(be=ze),be===ze||0===T.length||0===this.length)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(ze<0||ze>=this.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("sourceEnd out of bounds");be>this.length&&(be=this.length),T.length-V<be-ze&&(be=T.length-V+ze);const Oe=be-ze;return this===T&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(V,ze,be):Uint8Array.prototype.set.call(T,this.subarray(ze,be),V),Oe},N.prototype.fill=function(T,V,ze,be){if("string"==typeof T){if("string"==typeof V?(be=V,V=0,ze=this.length):"string"==typeof ze&&(be=ze,ze=this.length),void 0!==be&&"string"!=typeof be)throw new TypeError("encoding must be a string");if("string"==typeof be&&!N.isEncoding(be))throw new TypeError("Unknown encoding: "+be);if(1===T.length){const Xe=T.charCodeAt(0);("utf8"===be&&Xe<128||"latin1"===be)&&(T=Xe)}}else"number"==typeof T?T&=255:"boolean"==typeof T&&(T=Number(T));if(V<0||this.length<V||this.length<ze)throw new RangeError("Out of range index");if(ze<=V)return this;let Oe;if(V>>>=0,ze=void 0===ze?this.length:ze>>>0,T||(T=0),"number"==typeof T)for(Oe=V;Oe<ze;++Oe)this[Oe]=T;else{const Xe=N.isBuffer(T)?T:N.from(T,be),Ct=Xe.length;if(0===Ct)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(Oe=0;Oe<ze-V;++Oe)this[Oe+V]=Xe[Oe%Ct]}return this};const Bt={};function dn(q,T,V){Bt[q]=class extends V{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${q}]`,delete this.name}get code(){return q}set code(be){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:be,writable:!0})}toString(){return`${this.name} [${q}]: ${this.message}`}}}function xn(q){let T="",V=q.length;const ze="-"===q[0]?1:0;for(;V>=ze+4;V-=3)T=`_${q.slice(V-3,V)}${T}`;return`${q.slice(0,V)}${T}`}function Jt(q,T,V,ze,be,Oe){if(q>V||q<T){const Xe="bigint"==typeof T?"n":"";let Ct;throw Ct=Oe>3?0===T||T===BigInt(0)?`>= 0${Xe} and < 2${Xe} ** ${8*(Oe+1)}${Xe}`:`>= -(2${Xe} ** ${8*(Oe+1)-1}${Xe}) and < 2 ** ${8*(Oe+1)-1}${Xe}`:`>= ${T}${Xe} and <= ${V}${Xe}`,new Bt.ERR_OUT_OF_RANGE("value",Ct,q)}!function jn(q,T,V){tn(T,"offset"),(void 0===q[T]||void 0===q[T+V])&&Me(T,q.length-(V+1))}(ze,be,Oe)}function tn(q,T){if("number"!=typeof q)throw new Bt.ERR_INVALID_ARG_TYPE(T,"number",q)}function Me(q,T,V){throw Math.floor(q)!==q?(tn(q,V),new Bt.ERR_OUT_OF_RANGE(V||"offset","an integer",q)):T<0?new Bt.ERR_BUFFER_OUT_OF_BOUNDS:new Bt.ERR_OUT_OF_RANGE(V||"offset",`>= ${V?1:0} and <= ${T}`,q)}dn("ERR_BUFFER_OUT_OF_BOUNDS",function(q){return q?`${q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),dn("ERR_INVALID_ARG_TYPE",function(q,T){return`The "${q}" argument must be of type number. Received type ${typeof T}`},TypeError),dn("ERR_OUT_OF_RANGE",function(q,T,V){let ze=`The value of "${q}" is out of range.`,be=V;return Number.isInteger(V)&&Math.abs(V)>2**32?be=xn(String(V)):"bigint"==typeof V&&(be=String(V),(V>BigInt(2)**BigInt(32)||V<-(BigInt(2)**BigInt(32)))&&(be=xn(be)),be+="n"),ze+=` It must be ${T}. Received ${be}`,ze},RangeError);const it=/[^+/0-9A-Za-z-_]/g;function Pt(q,T){let V;T=T||1/0;const ze=q.length;let be=null;const Oe=[];for(let Xe=0;Xe<ze;++Xe){if(V=q.charCodeAt(Xe),V>55295&&V<57344){if(!be){if(V>56319){(T-=3)>-1&&Oe.push(239,191,189);continue}if(Xe+1===ze){(T-=3)>-1&&Oe.push(239,191,189);continue}be=V;continue}if(V<56320){(T-=3)>-1&&Oe.push(239,191,189),be=V;continue}V=65536+(be-55296<<10|V-56320)}else be&&(T-=3)>-1&&Oe.push(239,191,189);if(be=null,V<128){if((T-=1)<0)break;Oe.push(V)}else if(V<2048){if((T-=2)<0)break;Oe.push(V>>6|192,63&V|128)}else if(V<65536){if((T-=3)<0)break;Oe.push(V>>12|224,V>>6&63|128,63&V|128)}else{if(!(V<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;Oe.push(V>>18|240,V>>12&63|128,V>>6&63|128,63&V|128)}}return Oe}function or(q){return ee.toByteArray(function ut(q){if((q=(q=q.split("=")[0]).trim().replace(it,"")).length<2)return"";for(;q.length%4!=0;)q+="=";return q}(q))}function In(q,T,V,ze){let be;for(be=0;be<ze&&!(be+V>=T.length||be>=q.length);++be)T[be+V]=q[be];return be}function Sn(q,T){return q instanceof T||null!=q&&null!=q.constructor&&null!=q.constructor.name&&q.constructor.name===T.name}function er(q){return q!=q}const li=function(){const q="0123456789abcdef",T=new Array(256);for(let V=0;V<16;++V){const ze=16*V;for(let be=0;be<16;++be)T[ze+be]=q[V]+q[be]}return T}();function Cr(q){return typeof BigInt>"u"?fi:q}function fi(){throw new Error("BigInt not supported")}},9711:(Pe,Ue,B)=>{var Z="function"==typeof Map&&Map.prototype,ee=Object.getOwnPropertyDescriptor&&Z?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,me=Z&&ee&&"function"==typeof ee.get?ee.get:null,ye=Z&&Map.prototype.forEach,oe="function"==typeof Set&&Set.prototype,pe=Object.getOwnPropertyDescriptor&&oe?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,E=oe&&pe&&"function"==typeof pe.get?pe.get:null,N=oe&&Set.prototype.forEach,fe="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,Ie="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,ge="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,R=Boolean.prototype.valueOf,X=Object.prototype.toString,Q=Function.prototype.toString,G=String.prototype.match,F=String.prototype.slice,ae=String.prototype.replace,le=String.prototype.toUpperCase,Le=String.prototype.toLowerCase,he=RegExp.prototype.test,Be=Array.prototype.concat,we=Array.prototype.join,Ne=Array.prototype.slice,Ke=Math.floor,at="function"==typeof BigInt?BigInt.prototype.valueOf:null,z=Object.getOwnPropertySymbols,re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,_e="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Ge="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,rt=Object.prototype.propertyIsEnumerable,et=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(We){return We.__proto__}:null);function W(We,qe){if(We===1/0||We===-1/0||We!=We||We&&We>-1e3&&We<1e3||he.call(/e/,qe))return qe;var kt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof We){var nn=We<0?-Ke(-We):Ke(We);if(nn!==We){var mn=String(nn),vn=F.call(qe,mn.length+1);return ae.call(mn,kt,"$&_")+"."+ae.call(ae.call(vn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ae.call(qe,kt,"$&_")}var O=B(2634),Ce=O.custom,je=tn(Ce)?Ce:null,Ye={__proto__:null,double:'"',single:"'"},vt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function ft(We,qe,kt){var mn=Ye[kt.quoteStyle||qe];return mn+We+mn}function At(We){return ae.call(String(We),/"/g,"&quot;")}function Ft(We){return!("[object Array]"!==Pt(We)||Ge&&"object"==typeof We&&Ge in We)}function Bt(We){return!("[object RegExp]"!==Pt(We)||Ge&&"object"==typeof We&&Ge in We)}function tn(We){if(_e)return We&&"object"==typeof We&&We instanceof Symbol;if("symbol"==typeof We)return!0;if(!We||"object"!=typeof We||!re)return!1;try{return re.call(We),!0}catch{}return!1}Pe.exports=function We(qe,kt,nn,mn){var vn=kt||{};if(ut(vn,"quoteStyle")&&!ut(Ye,vn.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ut(vn,"maxStringLength")&&("number"==typeof vn.maxStringLength?vn.maxStringLength<0&&vn.maxStringLength!==1/0:null!==vn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var jr=!ut(vn,"customInspect")||vn.customInspect;if("boolean"!=typeof jr&&"symbol"!==jr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ut(vn,"indent")&&null!==vn.indent&&"\t"!==vn.indent&&!(parseInt(vn.indent,10)===vn.indent&&vn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ut(vn,"numericSeparator")&&"boolean"!=typeof vn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var fs=vn.numericSeparator;if(typeof qe>"u")return"undefined";if(null===qe)return"null";if("boolean"==typeof qe)return qe?"true":"false";if("string"==typeof qe)return fi(qe,vn);if("number"==typeof qe){if(0===qe)return 1/0/qe>0?"0":"-0";var Di=String(qe);return fs?W(qe,Di):Di}if("bigint"==typeof qe){var kr=String(qe)+"n";return fs?W(qe,kr):kr}var nl=typeof vn.depth>"u"?5:vn.depth;if(typeof nn>"u"&&(nn=0),nn>=nl&&nl>0&&"object"==typeof qe)return Ft(qe)?"[Array]":"[Object]";var Ln=function Oe(We,qe){var kt;if("\t"===We.indent)kt="\t";else{if(!("number"==typeof We.indent&&We.indent>0))return null;kt=we.call(Array(We.indent+1)," ")}return{base:kt,prev:we.call(Array(qe+1),kt)}}(vn,nn);if(typeof mn>"u")mn=[];else if(Jn(mn,qe)>=0)return"[Circular]";function Vs(Js,Co,ps){if(Co&&(mn=Ne.call(mn)).push(Co),ps){var Gs={depth:vn.depth};return ut(vn,"quoteStyle")&&(Gs.quoteStyle=vn.quoteStyle),We(Js,Gs,nn+1,mn)}return We(Js,vn,nn+1,mn)}if("function"==typeof qe&&!Bt(qe)){var Il=function Qt(We){if(We.name)return We.name;var qe=G.call(Q.call(We),/^function\s*([\w$]+)/);return qe?qe[1]:null}(qe),yi=Ct(qe,Vs);return"[Function"+(Il?": "+Il:" (anonymous)")+"]"+(yi.length>0?" { "+we.call(yi,", ")+" }":"")}if(tn(qe)){var da=_e?ae.call(String(qe),/^(Symbol\(.*\))_[^)]*$/,"$1"):re.call(qe);return"object"!=typeof qe||_e?da:T(da)}if(function Cr(We){return!(!We||"object"!=typeof We)&&(typeof HTMLElement<"u"&&We instanceof HTMLElement||"string"==typeof We.nodeName&&"function"==typeof We.getAttribute)}(qe)){for(var ha="<"+Le.call(String(qe.nodeName)),rl=qe.attributes||[],Si=0;Si<rl.length;Si++)ha+=" "+rl[Si].name+"="+ft(At(rl[Si].value),"double",vn);return ha+=">",qe.childNodes&&qe.childNodes.length&&(ha+="..."),ha+"</"+Le.call(String(qe.nodeName))+">"}if(Ft(qe)){if(0===qe.length)return"[]";var de=Ct(qe,Vs);return Ln&&!function be(We){for(var qe=0;qe<We.length;qe++)if(Jn(We[qe],"\n")>=0)return!1;return!0}(de)?"["+Xe(de,Ln)+"]":"[ "+we.call(de,", ")+" ]"}if(function dn(We){return!("[object Error]"!==Pt(We)||Ge&&"object"==typeof We&&Ge in We)}(qe)){var xe=Ct(qe,Vs);return"cause"in Error.prototype||!("cause"in qe)||rt.call(qe,"cause")?0===xe.length?"["+String(qe)+"]":"{ ["+String(qe)+"] "+we.call(xe,", ")+" }":"{ ["+String(qe)+"] "+we.call(Be.call("[cause]: "+Vs(qe.cause),xe),", ")+" }"}if("object"==typeof qe&&jr){if(je&&"function"==typeof qe[je]&&O)return O(qe,{depth:nl-nn});if("symbol"!==jr&&"function"==typeof qe.inspect)return qe.inspect()}if(function or(We){if(!me||!We||"object"!=typeof We)return!1;try{me.call(We);try{E.call(We)}catch{return!0}return We instanceof Map}catch{}return!1}(qe)){var Te=[];return ye&&ye.call(qe,function(Js,Co){Te.push(Vs(Co,qe,!0)+" => "+Vs(Js,qe))}),ze("Map",me.call(qe),Te,Ln)}if(function er(We){if(!E||!We||"object"!=typeof We)return!1;try{E.call(We);try{me.call(We)}catch{return!0}return We instanceof Set}catch{}return!1}(qe)){var bt=[];return N&&N.call(qe,function(Js){bt.push(Vs(Js,qe))}),ze("Set",E.call(qe),bt,Ln)}if(function In(We){if(!fe||!We||"object"!=typeof We)return!1;try{fe.call(We,fe);try{Ie.call(We,Ie)}catch{return!0}return We instanceof WeakMap}catch{}return!1}(qe))return V("WeakMap");if(function li(We){if(!Ie||!We||"object"!=typeof We)return!1;try{Ie.call(We,Ie);try{fe.call(We,fe)}catch{return!0}return We instanceof WeakSet}catch{}return!1}(qe))return V("WeakSet");if(function Sn(We){if(!ge||!We||"object"!=typeof We)return!1;try{return ge.call(We),!0}catch{}return!1}(qe))return V("WeakRef");if(function jn(We){return!("[object Number]"!==Pt(We)||Ge&&"object"==typeof We&&Ge in We)}(qe))return T(Vs(Number(qe)));if(function Me(We){if(!We||"object"!=typeof We||!at)return!1;try{return at.call(We),!0}catch{}return!1}(qe))return T(Vs(at.call(qe)));if(function Jt(We){return!("[object Boolean]"!==Pt(We)||Ge&&"object"==typeof We&&Ge in We)}(qe))return T(R.call(qe));if(function xn(We){return!("[object String]"!==Pt(We)||Ge&&"object"==typeof We&&Ge in We)}(qe))return T(Vs(String(qe)));if(typeof window<"u"&&qe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&qe===globalThis||typeof global<"u"&&qe===global)return"{ [object globalThis] }";if(!function Kt(We){return!("[object Date]"!==Pt(We)||Ge&&"object"==typeof We&&Ge in We)}(qe)&&!Bt(qe)){var $t=Ct(qe,Vs),Mt=et?et(qe)===Object.prototype:qe instanceof Object||qe.constructor===Object,cr=qe instanceof Object?"":"null prototype",cs=!Mt&&Ge&&Object(qe)===qe&&Ge in qe?F.call(Pt(qe),8,-1):cr?"Object":"",Fr=(Mt||"function"!=typeof qe.constructor?"":qe.constructor.name?qe.constructor.name+" ":"")+(cs||cr?"["+we.call(Be.call([],cs||[],cr||[]),": ")+"] ":"");return 0===$t.length?Fr+"{}":Ln?Fr+"{"+Xe($t,Ln)+"}":Fr+"{ "+we.call($t,", ")+" }"}return String(qe)};var it=Object.prototype.hasOwnProperty||function(We){return We in this};function ut(We,qe){return it.call(We,qe)}function Pt(We){return X.call(We)}function Jn(We,qe){if(We.indexOf)return We.indexOf(qe);for(var kt=0,nn=We.length;kt<nn;kt++)if(We[kt]===qe)return kt;return-1}function fi(We,qe){if(We.length>qe.maxStringLength){var kt=We.length-qe.maxStringLength,nn="... "+kt+" more character"+(kt>1?"s":"");return fi(F.call(We,0,qe.maxStringLength),qe)+nn}var mn=vt[qe.quoteStyle||"single"];return mn.lastIndex=0,ft(ae.call(ae.call(We,mn,"\\$1"),/[\x00-\x1f]/g,q),"single",qe)}function q(We){var qe=We.charCodeAt(0),kt={8:"b",9:"t",10:"n",12:"f",13:"r"}[qe];return kt?"\\"+kt:"\\x"+(qe<16?"0":"")+le.call(qe.toString(16))}function T(We){return"Object("+We+")"}function V(We){return We+" { ? }"}function ze(We,qe,kt,nn){return We+" ("+qe+") {"+(nn?Xe(kt,nn):we.call(kt,", "))+"}"}function Xe(We,qe){if(0===We.length)return"";var kt="\n"+qe.prev+qe.base;return kt+we.call(We,","+kt)+"\n"+qe.prev}function Ct(We,qe){var kt=Ft(We),nn=[];if(kt){nn.length=We.length;for(var mn=0;mn<We.length;mn++)nn[mn]=ut(We,mn)?qe(We[mn],We):""}var jr,vn="function"==typeof z?z(We):[];if(_e){jr={};for(var fs=0;fs<vn.length;fs++)jr["$"+vn[fs]]=vn[fs]}for(var Di in We)ut(We,Di)&&(kt&&String(Number(Di))===Di&&Di<We.length||_e&&jr["$"+Di]instanceof Symbol||(he.call(/[^\w$]/,Di)?nn.push(qe(Di,We)+": "+qe(We[Di],We)):nn.push(Di+": "+qe(We[Di],We))));if("function"==typeof z)for(var kr=0;kr<vn.length;kr++)rt.call(We,vn[kr])&&nn.push("["+qe(vn[kr])+"]: "+qe(We[vn[kr]],We));return nn}},1763:(Pe,Ue,B)=>{"use strict";Pe.exports=ee;var Z=B(351);function ee(z){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(z)?z:new Uint8Array(z||0),this.pos=0,this.type=0,this.length=this.buf.length}ee.Varint=0,ee.Fixed64=1,ee.Bytes=2,ee.Fixed32=5;var me=4294967296,ye=1/me,pe=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function N(z){return z.type===ee.Bytes?z.readVarint()+z.pos:z.pos+1}function J(z,re,_e){var Ge=re<=16383?1:re<=2097151?2:re<=268435455?3:Math.floor(Math.log(re)/(7*Math.LN2));_e.realloc(Ge);for(var rt=_e.pos-1;rt>=z;rt--)_e.buf[rt+Ge]=_e.buf[rt]}function ge(z,re){for(var _e=0;_e<z.length;_e++)re.writeVarint(z[_e])}function R(z,re){for(var _e=0;_e<z.length;_e++)re.writeSVarint(z[_e])}function X(z,re){for(var _e=0;_e<z.length;_e++)re.writeFloat(z[_e])}function Q(z,re){for(var _e=0;_e<z.length;_e++)re.writeDouble(z[_e])}function G(z,re){for(var _e=0;_e<z.length;_e++)re.writeBoolean(z[_e])}function F(z,re){for(var _e=0;_e<z.length;_e++)re.writeFixed32(z[_e])}function ae(z,re){for(var _e=0;_e<z.length;_e++)re.writeSFixed32(z[_e])}function le(z,re){for(var _e=0;_e<z.length;_e++)re.writeFixed64(z[_e])}function Le(z,re){for(var _e=0;_e<z.length;_e++)re.writeSFixed64(z[_e])}function he(z,re){return(z[re]|z[re+1]<<8|z[re+2]<<16)+16777216*z[re+3]}function Be(z,re,_e){z[_e]=re,z[_e+1]=re>>>8,z[_e+2]=re>>>16,z[_e+3]=re>>>24}function we(z,re){return(z[re]|z[re+1]<<8|z[re+2]<<16)+(z[re+3]<<24)}ee.prototype={destroy:function(){this.buf=null},readFields:function(z,re,_e){for(_e=_e||this.length;this.pos<_e;){var Ge=this.readVarint(),rt=Ge>>3,et=this.pos;this.type=7&Ge,z(rt,re,this),this.pos===et&&this.skip(Ge)}return re},readMessage:function(z,re){return this.readFields(z,re,this.readVarint()+this.pos)},readFixed32:function(){var z=he(this.buf,this.pos);return this.pos+=4,z},readSFixed32:function(){var z=we(this.buf,this.pos);return this.pos+=4,z},readFixed64:function(){var z=he(this.buf,this.pos)+he(this.buf,this.pos+4)*me;return this.pos+=8,z},readSFixed64:function(){var z=he(this.buf,this.pos)+we(this.buf,this.pos+4)*me;return this.pos+=8,z},readFloat:function(){var z=Z.read(this.buf,this.pos,!0,23,4);return this.pos+=4,z},readDouble:function(){var z=Z.read(this.buf,this.pos,!0,52,8);return this.pos+=8,z},readVarint:function(z){var _e,Ge,re=this.buf;return _e=127&(Ge=re[this.pos++]),Ge<128||(_e|=(127&(Ge=re[this.pos++]))<<7,Ge<128)||(_e|=(127&(Ge=re[this.pos++]))<<14,Ge<128)||(_e|=(127&(Ge=re[this.pos++]))<<21,Ge<128)?_e:function E(z,re,_e){var rt,et,Ge=_e.buf;if(rt=(112&(et=Ge[_e.pos++]))>>4,et<128||(rt|=(127&(et=Ge[_e.pos++]))<<3,et<128)||(rt|=(127&(et=Ge[_e.pos++]))<<10,et<128)||(rt|=(127&(et=Ge[_e.pos++]))<<17,et<128)||(rt|=(127&(et=Ge[_e.pos++]))<<24,et<128)||(rt|=(1&(et=Ge[_e.pos++]))<<31,et<128))return function m(z,re,_e){return _e?4294967296*re+(z>>>0):4294967296*(re>>>0)+(z>>>0)}(z,rt,re);throw new Error("Expected varint not more than 10 bytes")}(_e|=(15&(Ge=re[this.pos]))<<28,z,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var z=this.readVarint();return z%2==1?(z+1)/-2:z/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var z=this.readVarint()+this.pos,re=this.pos;return this.pos=z,z-re>=12&&pe?function Ke(z,re,_e){return pe.decode(z.subarray(re,_e))}(this.buf,re,z):function Ne(z,re,_e){for(var Ge="",rt=re;rt<_e;){var Ce,je,Ye,et=z[rt],W=null,O=et>239?4:et>223?3:et>191?2:1;if(rt+O>_e)break;1===O?et<128&&(W=et):2===O?128==(192&(Ce=z[rt+1]))&&(W=(31&et)<<6|63&Ce)<=127&&(W=null):3===O?(je=z[rt+2],128==(192&(Ce=z[rt+1]))&&128==(192&je)&&((W=(15&et)<<12|(63&Ce)<<6|63&je)<=2047||W>=55296&&W<=57343)&&(W=null)):4===O&&(je=z[rt+2],Ye=z[rt+3],128==(192&(Ce=z[rt+1]))&&128==(192&je)&&128==(192&Ye)&&((W=(15&et)<<18|(63&Ce)<<12|(63&je)<<6|63&Ye)<=65535||W>=1114112)&&(W=null)),null===W?(W=65533,O=1):W>65535&&(W-=65536,Ge+=String.fromCharCode(W>>>10&1023|55296),W=56320|1023&W),Ge+=String.fromCharCode(W),rt+=O}return Ge}(this.buf,re,z)},readBytes:function(){var z=this.readVarint()+this.pos,re=this.buf.subarray(this.pos,z);return this.pos=z,re},readPackedVarint:function(z,re){if(this.type!==ee.Bytes)return z.push(this.readVarint(re));var _e=N(this);for(z=z||[];this.pos<_e;)z.push(this.readVarint(re));return z},readPackedSVarint:function(z){if(this.type!==ee.Bytes)return z.push(this.readSVarint());var re=N(this);for(z=z||[];this.pos<re;)z.push(this.readSVarint());return z},readPackedBoolean:function(z){if(this.type!==ee.Bytes)return z.push(this.readBoolean());var re=N(this);for(z=z||[];this.pos<re;)z.push(this.readBoolean());return z},readPackedFloat:function(z){if(this.type!==ee.Bytes)return z.push(this.readFloat());var re=N(this);for(z=z||[];this.pos<re;)z.push(this.readFloat());return z},readPackedDouble:function(z){if(this.type!==ee.Bytes)return z.push(this.readDouble());var re=N(this);for(z=z||[];this.pos<re;)z.push(this.readDouble());return z},readPackedFixed32:function(z){if(this.type!==ee.Bytes)return z.push(this.readFixed32());var re=N(this);for(z=z||[];this.pos<re;)z.push(this.readFixed32());return z},readPackedSFixed32:function(z){if(this.type!==ee.Bytes)return z.push(this.readSFixed32());var re=N(this);for(z=z||[];this.pos<re;)z.push(this.readSFixed32());return z},readPackedFixed64:function(z){if(this.type!==ee.Bytes)return z.push(this.readFixed64());var re=N(this);for(z=z||[];this.pos<re;)z.push(this.readFixed64());return z},readPackedSFixed64:function(z){if(this.type!==ee.Bytes)return z.push(this.readSFixed64());var re=N(this);for(z=z||[];this.pos<re;)z.push(this.readSFixed64());return z},skip:function(z){var re=7&z;if(re===ee.Varint)for(;this.buf[this.pos++]>127;);else if(re===ee.Bytes)this.pos=this.readVarint()+this.pos;else if(re===ee.Fixed32)this.pos+=4;else{if(re!==ee.Fixed64)throw new Error("Unimplemented type: "+re);this.pos+=8}},writeTag:function(z,re){this.writeVarint(z<<3|re)},realloc:function(z){for(var re=this.length||16;re<this.pos+z;)re*=2;if(re!==this.length){var _e=new Uint8Array(re);_e.set(this.buf),this.buf=_e,this.length=re}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(z){this.realloc(4),Be(this.buf,z,this.pos),this.pos+=4},writeSFixed32:function(z){this.realloc(4),Be(this.buf,z,this.pos),this.pos+=4},writeFixed64:function(z){this.realloc(8),Be(this.buf,-1&z,this.pos),Be(this.buf,Math.floor(z*ye),this.pos+4),this.pos+=8},writeSFixed64:function(z){this.realloc(8),Be(this.buf,-1&z,this.pos),Be(this.buf,Math.floor(z*ye),this.pos+4),this.pos+=8},writeVarint:function(z){(z=+z||0)>268435455||z<0?function fe(z,re){var _e,Ge;if(z>=0?(_e=z%4294967296|0,Ge=z/4294967296|0):(Ge=~(-z/4294967296),4294967295^(_e=~(-z%4294967296))?_e=_e+1|0:(_e=0,Ge=Ge+1|0)),z>=0x10000000000000000||z<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");re.realloc(10),function U(z,re,_e){_e.buf[_e.pos++]=127&z|128,z>>>=7,_e.buf[_e.pos++]=127&z|128,z>>>=7,_e.buf[_e.pos++]=127&z|128,z>>>=7,_e.buf[_e.pos++]=127&z|128,_e.buf[_e.pos]=127&(z>>>=7)}(_e,0,re),function Ie(z,re){var _e=(7&z)<<4;re.buf[re.pos++]|=_e|((z>>>=3)?128:0),z&&(re.buf[re.pos++]=127&z|((z>>>=7)?128:0),z&&(re.buf[re.pos++]=127&z|((z>>>=7)?128:0),z&&(re.buf[re.pos++]=127&z|((z>>>=7)?128:0),z&&(re.buf[re.pos++]=127&z|((z>>>=7)?128:0),z&&(re.buf[re.pos++]=127&z)))))}(Ge,re)}(z,this):(this.realloc(4),this.buf[this.pos++]=127&z|(z>127?128:0),!(z<=127)&&(this.buf[this.pos++]=127&(z>>>=7)|(z>127?128:0),!(z<=127)&&(this.buf[this.pos++]=127&(z>>>=7)|(z>127?128:0),!(z<=127)&&(this.buf[this.pos++]=z>>>7&127))))},writeSVarint:function(z){this.writeVarint(z<0?2*-z-1:2*z)},writeBoolean:function(z){this.writeVarint(!!z)},writeString:function(z){z=String(z),this.realloc(4*z.length),this.pos++;var re=this.pos;this.pos=function at(z,re,_e){for(var rt,et,Ge=0;Ge<re.length;Ge++){if((rt=re.charCodeAt(Ge))>55295&&rt<57344){if(!et){rt>56319||Ge+1===re.length?(z[_e++]=239,z[_e++]=191,z[_e++]=189):et=rt;continue}if(rt<56320){z[_e++]=239,z[_e++]=191,z[_e++]=189,et=rt;continue}rt=et-55296<<10|rt-56320|65536,et=null}else et&&(z[_e++]=239,z[_e++]=191,z[_e++]=189,et=null);rt<128?z[_e++]=rt:(rt<2048?z[_e++]=rt>>6|192:(rt<65536?z[_e++]=rt>>12|224:(z[_e++]=rt>>18|240,z[_e++]=rt>>12&63|128),z[_e++]=rt>>6&63|128),z[_e++]=63&rt|128)}return _e}(this.buf,z,this.pos);var _e=this.pos-re;_e>=128&&J(re,_e,this),this.pos=re-1,this.writeVarint(_e),this.pos+=_e},writeFloat:function(z){this.realloc(4),Z.write(this.buf,z,this.pos,!0,23,4),this.pos+=4},writeDouble:function(z){this.realloc(8),Z.write(this.buf,z,this.pos,!0,52,8),this.pos+=8},writeBytes:function(z){var re=z.length;this.writeVarint(re),this.realloc(re);for(var _e=0;_e<re;_e++)this.buf[this.pos++]=z[_e]},writeRawMessage:function(z,re){this.pos++;var _e=this.pos;z(re,this);var Ge=this.pos-_e;Ge>=128&&J(_e,Ge,this),this.pos=_e-1,this.writeVarint(Ge),this.pos+=Ge},writeMessage:function(z,re,_e){this.writeTag(z,ee.Bytes),this.writeRawMessage(re,_e)},writePackedVarint:function(z,re){re.length&&this.writeMessage(z,ge,re)},writePackedSVarint:function(z,re){re.length&&this.writeMessage(z,R,re)},writePackedBoolean:function(z,re){re.length&&this.writeMessage(z,G,re)},writePackedFloat:function(z,re){re.length&&this.writeMessage(z,X,re)},writePackedDouble:function(z,re){re.length&&this.writeMessage(z,Q,re)},writePackedFixed32:function(z,re){re.length&&this.writeMessage(z,F,re)},writePackedSFixed32:function(z,re){re.length&&this.writeMessage(z,ae,re)},writePackedFixed64:function(z,re){re.length&&this.writeMessage(z,le,re)},writePackedSFixed64:function(z,re){re.length&&this.writeMessage(z,Le,re)},writeBytesField:function(z,re){this.writeTag(z,ee.Bytes),this.writeBytes(re)},writeFixed32Field:function(z,re){this.writeTag(z,ee.Fixed32),this.writeFixed32(re)},writeSFixed32Field:function(z,re){this.writeTag(z,ee.Fixed32),this.writeSFixed32(re)},writeFixed64Field:function(z,re){this.writeTag(z,ee.Fixed64),this.writeFixed64(re)},writeSFixed64Field:function(z,re){this.writeTag(z,ee.Fixed64),this.writeSFixed64(re)},writeVarintField:function(z,re){this.writeTag(z,ee.Varint),this.writeVarint(re)},writeSVarintField:function(z,re){this.writeTag(z,ee.Varint),this.writeSVarint(re)},writeStringField:function(z,re){this.writeTag(z,ee.Bytes),this.writeString(re)},writeFloatField:function(z,re){this.writeTag(z,ee.Fixed32),this.writeFloat(re)},writeDoubleField:function(z,re){this.writeTag(z,ee.Fixed64),this.writeDouble(re)},writeBooleanField:function(z,re){this.writeVarintField(z,!!re)}}},176:(Pe,Ue,B)=>{"use strict";B.d(Ue,{A:()=>u4});var ee=1,me=2,ye=3,pe=5,E=6378137,N=6356752.314,m=.0066943799901413165,fe=484813681109536e-20,U=Math.PI/2,R=1e-10,X=.017453292519943295,Q=57.29577951308232,G=Math.PI/4,F=2*Math.PI,ae=3.14159265359,le={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const Le={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.01},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var he=/[\s_\-\/\(\)]/g;function Be(p,v){if(p[v])return p[v];for(var j,b=Object.keys(p),D=v.toLowerCase().replace(he,""),H=-1;++H<b.length;)if((j=b[H]).toLowerCase().replace(he,"")===D)return p[j]}function we(p){var D,H,j,v={},b=p.split("+").map(function(K){return K.trim()}).filter(function(K){return K}).reduce(function(K,Se){var Qe=Se.split("=");return Qe.push(!0),K[Qe[0].toLowerCase()]=Qe[1],K},{}),ce={proj:"projName",datum:"datumCode",rf:function(K){v.rf=parseFloat(K)},lat_0:function(K){v.lat0=K*X},lat_1:function(K){v.lat1=K*X},lat_2:function(K){v.lat2=K*X},lat_ts:function(K){v.lat_ts=K*X},lon_0:function(K){v.long0=K*X},lon_1:function(K){v.long1=K*X},lon_2:function(K){v.long2=K*X},alpha:function(K){v.alpha=parseFloat(K)*X},gamma:function(K){v.rectified_grid_angle=parseFloat(K)},lonc:function(K){v.longc=K*X},x_0:function(K){v.x0=parseFloat(K)},y_0:function(K){v.y0=parseFloat(K)},k_0:function(K){v.k0=parseFloat(K)},k:function(K){v.k0=parseFloat(K)},a:function(K){v.a=parseFloat(K)},b:function(K){v.b=parseFloat(K)},r:function(K){v.a=v.b=parseFloat(K)},r_a:function(){v.R_A=!0},zone:function(K){v.zone=parseInt(K,10)},south:function(){v.utmSouth=!0},towgs84:function(K){v.datum_params=K.split(",").map(function(Se){return parseFloat(Se)})},to_meter:function(K){v.to_meter=parseFloat(K)},units:function(K){v.units=K;var Se=Be(Le,K);Se&&(v.to_meter=Se.to_meter)},from_greenwich:function(K){v.from_greenwich=K*X},pm:function(K){var Se=Be(le,K);v.from_greenwich=(Se||parseFloat(K))*X},nadgrids:function(K){"@null"===K?v.datumCode="none":v.nadgrids=K},axis:function(K){var Se="ewnsud";3===K.length&&-1!==Se.indexOf(K.substr(0,1))&&-1!==Se.indexOf(K.substr(1,1))&&-1!==Se.indexOf(K.substr(2,1))&&(v.axis=K)},approx:function(){v.approx=!0}};for(D in b)H=b[D],D in ce?"function"==typeof(j=ce[D])?j(H):v[j]=H:v[D]=H;return"string"==typeof v.datumCode&&"WGS84"!==v.datumCode&&(v.datumCode=v.datumCode.toLowerCase()),v}const Ne=function Ye(p){return new je(p).output()};var Ke=1,rt=/\s/,et=/[A-Za-z]/,W=/[A-Za-z84_]/,O=/[,\]]/,Ce=/[\d\.E\-\+]/;function je(p){if("string"!=typeof p)throw new Error("not a string");this.text=p.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Ke}function vt(p,v,b){Array.isArray(v)&&(b.unshift(v),v=null);var H=b.reduce(function(j,ce){return ft(ce,j),j},v?{}:p);v&&(p[v]=H)}function ft(p,v){if(Array.isArray(p)){var b=p.shift();if("PARAMETER"===b&&(b=p.shift()),1===p.length)return Array.isArray(p[0])?(v[b]={},void ft(p[0],v[b])):void(v[b]=p[0]);if(p.length)if("TOWGS84"!==b){if("AXIS"===b)return b in v||(v[b]=[]),void v[b].push(p);var D;switch(Array.isArray(b)||(v[b]={}),b){case"UNIT":case"PRIMEM":case"VERT_DATUM":return v[b]={name:p[0].toLowerCase(),convert:p[1]},void(3===p.length&&ft(p[2],v[b]));case"SPHEROID":case"ELLIPSOID":return v[b]={name:p[0],a:p[1],rf:p[2]},void(4===p.length&&ft(p[3],v[b]));case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":return p[0]=["name",p[0]],void vt(v,b,p);case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":return p[0]=["name",p[0]],vt(v,b,p),void(v[b].type=b);default:for(D=-1;++D<p.length;)if(!Array.isArray(p[D]))return ft(p,v[b]);return vt(v,b,p)}}else v[b]=p;else v[b]=!0}else v[p]=!0}je.prototype.readCharicter=function(){var p=this.text[this.place++];if(4!==this.state)for(;rt.test(p);){if(this.place>=this.text.length)return;p=this.text[this.place++]}switch(this.state){case Ke:return this.neutral(p);case 2:return this.keyword(p);case 4:return this.quoted(p);case 5:return this.afterquote(p);case 3:return this.number(p);case-1:return}},je.prototype.afterquote=function(p){if('"'===p)return this.word+='"',void(this.state=4);if(O.test(p))return this.word=this.word.trim(),void this.afterItem(p);throw new Error("havn't handled \""+p+'" in afterquote yet, index '+this.place)},je.prototype.afterItem=function(p){return","===p?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=Ke)):"]"===p?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=Ke,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},je.prototype.number=function(p){if(!Ce.test(p)){if(O.test(p))return this.word=parseFloat(this.word),void this.afterItem(p);throw new Error("havn't handled \""+p+'" in number yet, index '+this.place)}this.word+=p},je.prototype.quoted=function(p){'"'!==p?this.word+=p:this.state=5},je.prototype.keyword=function(p){if(W.test(p))this.word+=p;else{if("["===p){var v=[];return v.push(this.word),this.level++,null===this.root?this.root=v:this.currentObject.push(v),this.stack.push(this.currentObject),this.currentObject=v,void(this.state=Ke)}if(!O.test(p))throw new Error("havn't handled \""+p+'" in keyword yet, index '+this.place);this.afterItem(p)}},je.prototype.neutral=function(p){if(et.test(p))return this.word=p,void(this.state=2);if('"'===p)return this.word="",void(this.state=4);if(Ce.test(p))return this.word=p,void(this.state=3);if(!O.test(p))throw new Error("havn't handled \""+p+'" in neutral yet, index '+this.place);this.afterItem(p)},je.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var At=.017453292519943295,Ft=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Bt(p){return p*At}function dn(p){for(var v=Object.keys(p),b=0,D=v.length;b<D;++b){var H=v[b];-1!==Ft.indexOf(H)&&xn(p[H]),"object"==typeof p[H]&&dn(p[H])}}function xn(p){if(p.AUTHORITY){var v=Object.keys(p.AUTHORITY)[0];v&&v in p.AUTHORITY&&(p.title=v+":"+p.AUTHORITY[v])}if("GEOGCS"===p.type?p.projName="longlat":"LOCAL_CS"===p.type?(p.projName="identity",p.local=!0):p.projName="object"==typeof p.PROJECTION?Object.keys(p.PROJECTION)[0]:p.PROJECTION,p.AXIS){for(var b="",D=0,H=p.AXIS.length;D<H;++D){var j=[p.AXIS[D][0].toLowerCase(),p.AXIS[D][1].toLowerCase()];-1!==j[0].indexOf("north")||("y"===j[0]||"lat"===j[0])&&"north"===j[1]?b+="n":-1!==j[0].indexOf("south")||("y"===j[0]||"lat"===j[0])&&"south"===j[1]?b+="s":-1!==j[0].indexOf("east")||("x"===j[0]||"lon"===j[0])&&"east"===j[1]?b+="e":(-1!==j[0].indexOf("west")||("x"===j[0]||"lon"===j[0])&&"west"===j[1])&&(b+="w")}2===b.length&&(b+="u"),3===b.length&&(p.axis=b)}p.UNIT&&(p.units=p.UNIT.name.toLowerCase(),"metre"===p.units&&(p.units="meter"),p.UNIT.convert&&("GEOGCS"===p.type?p.DATUM&&p.DATUM.SPHEROID&&(p.to_meter=p.UNIT.convert*p.DATUM.SPHEROID.a):p.to_meter=p.UNIT.convert));var ce=p.GEOGCS;function K(yt){return yt*(p.to_meter||1)}"GEOGCS"===p.type&&(ce=p),ce&&(p.datumCode=ce.DATUM?ce.DATUM.name.toLowerCase():ce.name.toLowerCase(),"d_"===p.datumCode.slice(0,2)&&(p.datumCode=p.datumCode.slice(2)),"new_zealand_1949"===p.datumCode&&(p.datumCode="nzgd49"),("wgs_1984"===p.datumCode||"world_geodetic_system_1984"===p.datumCode)&&("Mercator_Auxiliary_Sphere"===p.PROJECTION&&(p.sphere=!0),p.datumCode="wgs84"),"belge_1972"===p.datumCode&&(p.datumCode="rnb72"),ce.DATUM&&ce.DATUM.SPHEROID&&(p.ellps=ce.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===p.ellps.toLowerCase().slice(0,13)&&(p.ellps="intl"),p.a=ce.DATUM.SPHEROID.a,p.rf=parseFloat(ce.DATUM.SPHEROID.rf,10)),ce.DATUM&&ce.DATUM.TOWGS84&&(p.datum_params=ce.DATUM.TOWGS84),~p.datumCode.indexOf("osgb_1936")&&(p.datumCode="osgb36"),~p.datumCode.indexOf("osni_1952")&&(p.datumCode="osni52"),(~p.datumCode.indexOf("tm65")||~p.datumCode.indexOf("geodetic_datum_of_1965"))&&(p.datumCode="ire65"),"ch1903+"===p.datumCode&&(p.datumCode="ch1903"),~p.datumCode.indexOf("israel")&&(p.datumCode="isr93")),p.b&&!isFinite(p.b)&&(p.b=p.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Bt],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Bt],["x0","false_easting",K],["y0","false_northing",K],["long0","central_meridian",Bt],["lat0","latitude_of_origin",Bt],["lat0","standard_parallel_1",Bt],["lat1","standard_parallel_1",Bt],["lat2","standard_parallel_2",Bt],["azimuth","Azimuth"],["alpha","azimuth",Bt],["srsCode","name"]].forEach(function(yt){return function Kt(p,v){var b=v[0],D=v[1];!(b in p)&&D in p&&(p[b]=p[D],3===v.length&&(p[b]=v[2](p[b])))}(p,yt)}),!p.long0&&p.longc&&("Albers_Conic_Equal_Area"===p.projName||"Lambert_Azimuthal_Equal_Area"===p.projName)&&(p.long0=p.longc),p.lat_ts||!p.lat1||"Stereographic_South_Pole"!==p.projName&&"Polar Stereographic (variant B)"!==p.projName?!p.lat_ts&&p.lat0&&"Polar_Stereographic"===p.projName&&(p.lat_ts=p.lat0,p.lat0=Bt(p.lat0>0?90:-90)):(p.lat0=Bt(p.lat1>0?90:-90),p.lat_ts=p.lat1)}function jn(p){var v=Ne(p),b=v[0],D={};return ft(v,D),dn(D),D[b]}function Jt(p){var v=this;if(2===arguments.length){var b=arguments[1];Jt[p]="string"==typeof b?"+"===b.charAt(0)?we(arguments[1]):jn(arguments[1]):b}else if(1===arguments.length){if(Array.isArray(p))return p.map(function(D){Array.isArray(D)?Jt.apply(v,D):Jt(D)});if("string"==typeof p){if(p in Jt)return Jt[p]}else"EPSG"in p?Jt["EPSG:"+p.EPSG]=p:"ESRI"in p?Jt["ESRI:"+p.ESRI]=p:"IAU2000"in p?Jt["IAU2000:"+p.IAU2000]=p:console.log(p);return}}!function Z(p){p("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),p("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),p("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var v=1;v<=60;++v)p("EPSG:"+(32600+v),"+proj=utm +zone="+v+" +datum=WGS84 +units=m"),p("EPSG:"+(32700+v),"+proj=utm +zone="+v+" +south +datum=WGS84 +units=m");p.WGS84=p["EPSG:4326"],p["EPSG:3785"]=p["EPSG:3857"],p.GOOGLE=p["EPSG:3857"],p["EPSG:900913"]=p["EPSG:3857"],p["EPSG:102113"]=p["EPSG:3857"]}(Jt);const tn=Jt;var ut=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],Qt=["3857","900913","3785","102113"];function li(p,v){var b,D;if(p=p||{},!v)return p;for(D in v)void 0!==(b=v[D])&&(p[D]=b);return p}function Cr(p,v,b){var D=p*v;return b/Math.sqrt(1-D*D)}function fi(p){return p<0?-1:1}function q(p){return Math.abs(p)<=ae?p:p-fi(p)*F}function T(p,v,b){var D=p*b;return D=Math.pow((1-D)/(1+D),.5*p),Math.tan(.5*(U-v))/D}function V(p,v){for(var D,H,b=.5*p,j=U-2*Math.atan(v),ce=0;ce<=15;ce++)if(D=p*Math.sin(j),j+=H=U-2*Math.atan(v*Math.pow((1-D)/(1+D),b))-j,Math.abs(H)<=1e-10)return j;return-9999}function qe(p){return p}var mn=[{init:function ze(){var p=this.b/this.a;this.es=1-p*p,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):Cr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function be(p){var D,H,v=p.x,b=p.y;if(b*Q>90&&b*Q<-90&&v*Q>180&&v*Q<-180)return null;if(Math.abs(Math.abs(b)-U)<=R)return null;if(this.sphere)D=this.x0+this.a*this.k0*q(v-this.long0),H=this.y0+this.a*this.k0*Math.log(Math.tan(G+.5*b));else{var j=Math.sin(b),ce=T(this.e,b,j);D=this.x0+this.a*this.k0*q(v-this.long0),H=this.y0-this.a*this.k0*Math.log(ce)}return p.x=D,p.y=H,p},inverse:function Oe(p){var D,H,v=p.x-this.x0,b=p.y-this.y0;if(this.sphere)H=U-2*Math.atan(Math.exp(-b/(this.a*this.k0)));else{var j=Math.exp(-b/(this.a*this.k0));if(-9999===(H=V(this.e,j)))return null}return D=q(this.long0+v/(this.a*this.k0)),p.x=D,p.y=H,p},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function We(){},forward:qe,inverse:qe,names:["longlat","identity"]}],vn={},jr=[];function fs(p,v){var b=jr.length;return p.names?(jr[b]=p,p.names.forEach(function(D){vn[D.toLowerCase()]=b}),this):(console.log(v),!0)}const nl={start:function kr(){mn.forEach(fs)},add:fs,get:function Di(p){if(!p)return!1;var v=p.toLowerCase();return typeof vn[v]<"u"&&jr[vn[v]]?jr[vn[v]]:void 0}};var Ln={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Vs=Ln.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ln.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var da={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};for(var ha in da){var rl=da[ha];da[rl.datumName]=rl}const Si=da;var Te={};function Mt(p){if(0===p.length)return null;var v="@"===p[0];return v&&(p=p.slice(1)),"null"===p?{name:"null",mandatory:!v,grid:null,isNull:!0}:{name:p,mandatory:!v,grid:Te[p]||null,isNull:!1}}function cr(p){return p/3600*Math.PI/180}function Fr(p,v,b){return String.fromCharCode.apply(null,new Uint8Array(p.buffer.slice(v,b)))}function Co(p){return p.map(function(v){return[cr(v.longitudeShift),cr(v.latitudeShift)]})}function ps(p,v,b){return{name:Fr(p,v+8,v+16).trim(),parent:Fr(p,v+24,v+24+8).trim(),lowerLatitude:p.getFloat64(v+72,b),upperLatitude:p.getFloat64(v+88,b),lowerLongitude:p.getFloat64(v+104,b),upperLongitude:p.getFloat64(v+120,b),latitudeInterval:p.getFloat64(v+136,b),longitudeInterval:p.getFloat64(v+152,b),gridNodeCount:p.getInt32(v+168,b)}}function Gs(p,v,b,D){for(var H=v+176,ce=[],K=0;K<b.gridNodeCount;K++){var Se={latitudeShift:p.getFloat32(H+16*K,D),longitudeShift:p.getFloat32(H+16*K+4,D),latitudeAccuracy:p.getFloat32(H+16*K+8,D),longitudeAccuracy:p.getFloat32(H+16*K+12,D)};ce.push(Se)}return ce}function qi(p,v){if(!(this instanceof qi))return new qi(p);v=v||function(Qe){if(Qe)throw Qe};var b=function Sn(p){if(!function Me(p){return"string"==typeof p}(p))return p;if(function it(p){return p in tn}(p))return tn[p];if(function Pt(p){return ut.some(function(v){return p.indexOf(v)>-1})}(p)){var v=jn(p);if(function Jn(p){var v=Be(p,"authority");if(v){var b=Be(v,"epsg");return b&&Qt.indexOf(b)>-1}}(v))return tn["EPSG:3857"];var b=function or(p){var v=Be(p,"extension");if(v)return Be(v,"proj4")}(v);return b?we(b):v}return function In(p){return"+"===p[0]}(p)?we(p):void 0}(p);if("object"==typeof b){var D=qi.projections.get(b.projName);if(D){if(b.datumCode&&"none"!==b.datumCode){var H=Be(Si,b.datumCode);H&&(b.datum_params=b.datum_params||(H.towgs84?H.towgs84.split(","):null),b.ellps=H.ellipse,b.datumName=H.datumName?H.datumName:b.datumCode)}b.k0=b.k0||1,b.axis=b.axis||"enu",b.ellps=b.ellps||"wgs84",b.lat1=b.lat1||b.lat0;var j=function yi(p,v,b,D,H){if(!p){var j=Be(Ln,D);j||(j=Vs),p=j.a,v=j.b,b=j.rf}return b&&!v&&(v=(1-1/b)*p),(0===b||Math.abs(p-v)<R)&&(H=!0,v=p),{a:p,b:v,rf:b,sphere:H}}(b.a,b.b,b.rf,b.ellps,b.sphere),ce=function Il(p,v,b,D){var H=p*p,j=v*v,ce=(H-j)/H,K=0;return D?(H=(p*=1-ce*(.16666666666666666+ce*(.04722222222222222+.022156084656084655*ce)))*p,ce=0):K=Math.sqrt(ce),{es:ce,e:K,ep2:(H-j)/j}}(j.a,j.b,0,b.R_A),K=function $t(p){return void 0===p?null:p.split(",").map(Mt)}(b.nadgrids),Se=b.datum||function de(p,v,b,D,H,j,ce){var K={};return K.datum_type=void 0===p||"none"===p?pe:4,v&&(K.datum_params=v.map(parseFloat),(0!==K.datum_params[0]||0!==K.datum_params[1]||0!==K.datum_params[2])&&(K.datum_type=ee),K.datum_params.length>3&&(0!==K.datum_params[3]||0!==K.datum_params[4]||0!==K.datum_params[5]||0!==K.datum_params[6])&&(K.datum_type=me,K.datum_params[3]*=fe,K.datum_params[4]*=fe,K.datum_params[5]*=fe,K.datum_params[6]=K.datum_params[6]/1e6+1)),ce&&(K.datum_type=ye,K.grids=ce),K.a=b,K.b=D,K.es=H,K.ep2=j,K}(b.datumCode,b.datum_params,j.a,j.b,ce.es,ce.ep2,K);li(this,b),li(this,D),this.a=j.a,this.b=j.b,this.rf=j.rf,this.sphere=j.sphere,this.es=ce.es,this.e=ce.e,this.ep2=ce.ep2,this.datum=Se,this.init(),v(null,this)}else v("Could not get projection name from: "+p)}else v("Could not parse to valid json: "+p)}(qi.projections=nl).start();const gs=qi;function ei(p,v,b){var ce,K,Qe,D=p.x,H=p.y,j=p.z?p.z:0;if(H<-U&&H>-1.001*U)H=-U;else if(H>U&&H<1.001*U)H=U;else{if(H<-U)return{x:-1/0,y:-1/0,z:p.z};if(H>U)return{x:1/0,y:1/0,z:p.z}}return D>Math.PI&&(D-=2*Math.PI),K=Math.sin(H),Qe=Math.cos(H),{x:((ce=b/Math.sqrt(1-v*(K*K)))+j)*Qe*Math.cos(D),y:(ce+j)*Qe*Math.sin(D),z:(ce*(1-v)+j)*K}}function Ms(p,v,b,D){var K,Se,Qe,yt,ct,Et,Ot,Nt,on,Xt,Nn,br,Pr,uo,xo,mi=p.x,Yr=p.y,vi=p.z?p.z:0;if(K=Math.sqrt(mi*mi+Yr*Yr),Se=Math.sqrt(mi*mi+Yr*Yr+vi*vi),K/b<1e-12){if(uo=0,Se/b<1e-12)return xo=-D,{x:p.x,y:p.y,z:p.z}}else uo=Math.atan2(Yr,mi);Qe=vi/Se,Nt=(yt=K/Se)*(1-v)*(ct=1/Math.sqrt(1-v*(2-v)*yt*yt)),on=Qe*ct,Pr=0;do{Pr++,Et=v*(Ot=b/Math.sqrt(1-v*on*on))/(Ot+(xo=K*Nt+vi*on-Ot*(1-v*on*on))),br=(Nn=Qe*(ct=1/Math.sqrt(1-Et*(2-Et)*yt*yt)))*Nt-(Xt=yt*(1-Et)*ct)*on,Nt=Xt,on=Nn}while(br*br>1e-24&&Pr<30);return{x:uo,y:Math.atan(Nn/Math.abs(Xt)),z:xo}}function zo(p){return p===ee||p===me}function Ci(p,v,b){if(null===p.grids||0===p.grids.length)return console.log("Grid shift grids not found"),-1;var D={x:-b.x,y:b.y},H={x:Number.NaN,y:Number.NaN},ce=[];e:for(var K=0;K<p.grids.length;K++){var Se=p.grids[K];if(ce.push(Se.name),Se.isNull){H=D;break}if(null!==Se.grid)for(var Qe=Se.grid.subgrids,yt=0,ct=Qe.length;yt<ct;yt++){var Et=Qe[yt],Ot=(Math.abs(Et.del[1])+Math.abs(Et.del[0]))/1e4;if(!(Et.ll[1]-Ot>D.y||Et.ll[0]-Ot>D.x||Et.ll[1]+(Et.lim[1]-1)*Et.del[1]+Ot<D.y||Et.ll[0]+(Et.lim[0]-1)*Et.del[0]+Ot<D.x||(H=F0(D,v,Et),isNaN(H.x))))break e}else if(Se.mandatory)return console.log("Unable to find mandatory grid '"+Se.name+"'"),-1}return isNaN(H.x)?(console.log("Failed to find a grid shift table for location '"+-D.x*Q+" "+D.y*Q+" tried: '"+ce+"'"),-1):(b.x=-H.x,b.y=H.y,0)}function F0(p,v,b){var D={x:Number.NaN,y:Number.NaN};if(isNaN(p.x))return D;var H={x:p.x,y:p.y};H.x-=b.ll[0],H.y-=b.ll[1],H.x=q(H.x-Math.PI)+Math.PI;var j=ks(H,b);if(v){if(isNaN(j.x))return D;j.x=H.x-j.x,j.y=H.y-j.y;var Se,Qe,ce=9;do{if(Qe=ks(j,b),isNaN(Qe.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}j.x+=(Se={x:H.x-(Qe.x+j.x),y:H.y-(Qe.y+j.y)}).x,j.y+=Se.y}while(ce--&&Math.abs(Se.x)>1e-12&&Math.abs(Se.y)>1e-12);if(ce<0)return console.log("Inverse grid shift iterator failed to converge."),D;D.x=q(j.x+b.ll[0]),D.y=j.y+b.ll[1]}else isNaN(j.x)||(D.x=p.x+j.x,D.y=p.y+j.y);return D}function ks(p,v){var ce,b={x:p.x/v.del[0],y:p.y/v.del[1]},D_x=Math.floor(b.x),D_y=Math.floor(b.y),H_x=b.x-1*D_x,H_y=b.y-1*D_y,j={x:Number.NaN,y:Number.NaN};if(D_x<0||D_x>=v.lim[0]||D_y<0||D_y>=v.lim[1])return j;var K_x=v.cvs[ce=D_y*v.lim[0]+D_x][0],K_y=v.cvs[ce][1];ce++;var Se_x=v.cvs[ce][0],Se_y=v.cvs[ce][1],Qe_x=v.cvs[ce+=v.lim[0]][0],Qe_y=v.cvs[ce][1];ce--;var yt_y=v.cvs[ce][1],ct=H_x*H_y,Et=H_x*(1-H_y),Ot=(1-H_x)*(1-H_y),Nt=(1-H_x)*H_y;return j.x=Ot*K_x+Et*Se_x+Nt*v.cvs[ce][0]+ct*Qe_x,j.y=Ot*K_y+Et*Se_y+Nt*yt_y+ct*Qe_y,j}function _1(p,v,b){var ce,K,Se,D=b.x,H=b.y,j=b.z||0,Qe={};for(Se=0;Se<3;Se++)if(!v||2!==Se||void 0!==b.z)switch(0===Se?(ce=D,K=-1!=="ew".indexOf(p.axis[Se])?"x":"y"):1===Se?(ce=H,K=-1!=="ns".indexOf(p.axis[Se])?"y":"x"):(ce=j,K="z"),p.axis[Se]){case"e":case"n":Qe[K]=ce;break;case"w":case"s":Qe[K]=-ce;break;case"u":void 0!==b[K]&&(Qe.z=ce);break;case"d":void 0!==b[K]&&(Qe.z=-ce);break;default:return null}return Qe}function I1(p){var v={x:p[0],y:p[1]};return p.length>2&&(v.z=p[2]),p.length>3&&(v.m=p[3]),v}function Eu(p){if("function"==typeof Number.isFinite){if(Number.isFinite(p))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof p||p!=p||!isFinite(p))throw new TypeError("coordinates must be finite numbers")}function il(p,v,b,D){var H,j=void 0!==(b=Array.isArray(b)?I1(b):{x:b.x,y:b.y,z:b.z,m:b.m}).z;if(function A1(p){Eu(p.x),Eu(p.y)}(b),p.datum&&v.datum&&function Qn(p,v){return(p.datum.datum_type===ee||p.datum.datum_type===me||p.datum.datum_type===ye)&&"WGS84"!==v.datumCode||(v.datum.datum_type===ee||v.datum.datum_type===me||v.datum.datum_type===ye)&&"WGS84"!==p.datumCode}(p,v)&&(b=il(p,H=new gs("WGS84"),b,D),p=H),D&&"enu"!==p.axis&&(b=_1(p,!1,b)),"longlat"===p.projName)b={x:b.x*X,y:b.y*X,z:b.z||0};else if(p.to_meter&&(b={x:b.x*p.to_meter,y:b.y*p.to_meter,z:b.z||0}),!(b=p.inverse(b)))return;if(p.from_greenwich&&(b.x+=p.from_greenwich),b=function Ig(p,v,b){if(function Gt(p,v){return!(p.datum_type!==v.datum_type||p.a!==v.a||Math.abs(p.es-v.es)>5e-11)&&(p.datum_type===ee?p.datum_params[0]===v.datum_params[0]&&p.datum_params[1]===v.datum_params[1]&&p.datum_params[2]===v.datum_params[2]:p.datum_type!==me||p.datum_params[0]===v.datum_params[0]&&p.datum_params[1]===v.datum_params[1]&&p.datum_params[2]===v.datum_params[2]&&p.datum_params[3]===v.datum_params[3]&&p.datum_params[4]===v.datum_params[4]&&p.datum_params[5]===v.datum_params[5]&&p.datum_params[6]===v.datum_params[6])}(p,v)||p.datum_type===pe||v.datum_type===pe)return b;var D=p.a,H=p.es;if(p.datum_type===ye){if(0!==Ci(p,!1,b))return;D=E,H=m}var ce=v.a,K=v.b,Se=v.es;return v.datum_type===ye&&(ce=E,K=N,Se=m),H!==Se||D!==ce||zo(p.datum_type)||zo(v.datum_type)?(b=ei(b,H,D),zo(p.datum_type)&&(b=function ts(p,v,b){if(v===ee)return{x:p.x+b[0],y:p.y+b[1],z:p.z+b[2]};if(v===me){var ce=b[3],K=b[4],Se=b[5],Qe=b[6];return{x:Qe*(p.x-Se*p.y+K*p.z)+b[0],y:Qe*(Se*p.x+p.y-ce*p.z)+b[1],z:Qe*(-K*p.x+ce*p.y+p.z)+b[2]}}}(b,p.datum_type,p.datum_params)),zo(v.datum_type)&&(b=function An(p,v,b){if(v===ee)return{x:p.x-b[0],y:p.y-b[1],z:p.z-b[2]};if(v===me){var ce=b[3],K=b[4],Se=b[5],Qe=b[6],yt=(p.x-b[0])/Qe,ct=(p.y-b[1])/Qe,Et=(p.z-b[2])/Qe;return{x:yt+Se*ct-K*Et,y:-Se*yt+ct+ce*Et,z:K*yt-ce*ct+Et}}}(b,v.datum_type,v.datum_params)),b=Ms(b,Se,ce,K),v.datum_type!==ye||0===Ci(v,!0,b)?b:void 0):b}(p.datum,v.datum,b))return v.from_greenwich&&(b={x:b.x-v.from_greenwich,y:b.y,z:b.z||0}),"longlat"===v.projName?b={x:b.x*Q,y:b.y*Q,z:b.z||0}:(b=v.forward(b),v.to_meter&&(b={x:b.x/v.to_meter,y:b.y/v.to_meter,z:b.z||0})),D&&"enu"!==v.axis?_1(v,!0,b):(b&&!j&&delete b.z,b)}var so=gs("WGS84");function Ed(p,v,b,D){var H,j,ce;return Array.isArray(b)?(H=il(p,v,b,D)||{x:NaN,y:NaN},b.length>2?typeof p.name<"u"&&"geocent"===p.name||typeof v.name<"u"&&"geocent"===v.name?"number"==typeof H.z?[H.x,H.y,H.z].concat(b.slice(3)):[H.x,H.y,b[2]].concat(b.slice(3)):[H.x,H.y].concat(b.slice(2)):[H.x,H.y]):(j=il(p,v,b,D),2===(ce=Object.keys(b)).length||ce.forEach(function(K){if(typeof p.name<"u"&&"geocent"===p.name||typeof v.name<"u"&&"geocent"===v.name){if("x"===K||"y"===K||"z"===K)return}else if("x"===K||"y"===K)return;j[K]=b[K]}),j)}function Sd(p){return p instanceof gs?p:p.oProj?p.oProj:gs(p)}const Es=function Td(p,v,b){p=Sd(p);var H,D=!1;return typeof v>"u"?(v=p,p=so,D=!0):(typeof v.x<"u"||Array.isArray(v))&&(b=v,v=p,p=so,D=!0),v=Sd(v),b?Ed(p,v,b):(H={forward:function(j,ce){return Ed(p,v,j,ce)},inverse:function(j,ce){return Ed(v,p,j,ce)}},D&&(H.oProj=v),H)};var sl=6,ol="AJSAJS",M1="AFAFAF",Jc=65,Ro=73,Ia=79,Qc=86,mc=90;const Ko={forward:zn,inverse:function Al(p){var v=Vt(Rd(p.toUpperCase()));return v.lat&&v.lon?[v.lon,v.lat,v.lon,v.lat]:[v.left,v.bottom,v.right,v.top]},toPoint:E1};function zn(p,v){return v=v||5,function fa(p,v){var b="00000"+p.easting,D="00000"+p.northing;return p.zoneNumber+p.zoneLetter+function Su(p,v,b){var D=B0(b);return function t2(p,v,b){var D=b-1,H=ol.charCodeAt(D),j=M1.charCodeAt(D),ce=H+p-1,K=j+v,Se=!1;return ce>mc&&(ce=ce-mc+Jc-1,Se=!0),(ce===Ro||H<Ro&&ce>Ro||(ce>Ro||H<Ro)&&Se)&&ce++,(ce===Ia||H<Ia&&ce>Ia||(ce>Ia||H<Ia)&&Se)&&++ce===Ro&&ce++,ce>mc&&(ce=ce-mc+Jc-1),K>Qc?(K=K-Qc+Jc-1,Se=!0):Se=!1,(K===Ro||j<Ro&&K>Ro||(K>Ro||j<Ro)&&Se)&&K++,(K===Ia||j<Ia&&K>Ia||(K>Ia||j<Ia)&&Se)&&++K===Ro&&K++,K>Qc&&(K=K-Qc+Jc-1),String.fromCharCode(ce)+String.fromCharCode(K)}(Math.floor(p/1e5),Math.floor(v/1e5)%20,D)}(p.easting,p.northing,p.zoneNumber)+b.substr(b.length-5,v)+D.substr(D.length-5,v)}(function P0(p){var K,Se,Qe,yt,ct,on,Xt,v=p.lat,b=p.lon,D=6378137,H=.00669438,j=.9996,Ot=zd(v),Nt=zd(b);Xt=Math.floor((b+180)/6)+1,180===b&&(Xt=60),v>=56&&v<64&&b>=3&&b<12&&(Xt=32),v>=72&&v<84&&(b>=0&&b<9?Xt=31:b>=9&&b<21?Xt=33:b>=21&&b<33?Xt=35:b>=33&&b<42&&(Xt=37)),on=zd(6*(Xt-1)-180+3),K=H/(1-H),Se=D/Math.sqrt(1-H*Math.sin(Ot)*Math.sin(Ot)),Qe=Math.tan(Ot)*Math.tan(Ot),yt=K*Math.cos(Ot)*Math.cos(Ot);var Nn=j*Se*((ct=Math.cos(Ot)*(Nt-on))+(1-Qe+yt)*ct*ct*ct/6+(5-18*Qe+Qe*Qe+72*yt-58*K)*ct*ct*ct*ct*ct/120)+5e5,br=j*(D*(.9983242984503243*Ot-.002514607064228144*Math.sin(2*Ot)+2639046602129982e-21*Math.sin(4*Ot)-35*H*H*H/3072*Math.sin(6*Ot))+Se*Math.tan(Ot)*(ct*ct/2+(5-Qe+9*yt+4*yt*yt)*ct*ct*ct*ct/24+(61-58*Qe+Qe*Qe+600*yt-330*K)*ct*ct*ct*ct*ct*ct/720));return v<0&&(br+=1e7),{northing:Math.round(br),easting:Math.round(Nn),zoneNumber:Xt,zoneLetter:Ag(v)}}({lat:p[1],lon:p[0]}),v)}function E1(p){var v=Vt(Rd(p.toUpperCase()));return v.lat&&v.lon?[v.lon,v.lat]:[(v.left+v.right)/2,(v.top+v.bottom)/2]}function zd(p){return p*(Math.PI/180)}function e2(p){return p/Math.PI*180}function Vt(p){var v=p.northing,b=p.easting,D=p.zoneLetter,H=p.zoneNumber;if(H<0||H>60)return null;var Se,yt,ct,Et,Ot,Nt,Xt,Nn,br,j=.9996,K=.00669438,Qe=(1-Math.sqrt(1-K))/(1+Math.sqrt(1-K)),Pr=b-5e5,mi=v;D<"N"&&(mi-=1e7),Xt=6*(H-1)-180+3,Se=K/(1-K),br=(Nn=mi/j/6367449.145945056)+(3*Qe/2-27*Qe*Qe*Qe/32)*Math.sin(2*Nn)+(21*Qe*Qe/16-55*Qe*Qe*Qe*Qe/32)*Math.sin(4*Nn)+151*Qe*Qe*Qe/96*Math.sin(6*Nn),yt=6378137/Math.sqrt(1-K*Math.sin(br)*Math.sin(br)),ct=Math.tan(br)*Math.tan(br),Et=Se*Math.cos(br)*Math.cos(br),Ot=6378137*(1-K)/Math.pow(1-K*Math.sin(br)*Math.sin(br),1.5),Nt=Pr/(yt*j);var Yr=br-yt*Math.tan(br)/Ot*(Nt*Nt/2-(5+3*ct+10*Et-4*Et*Et-9*Se)*Nt*Nt*Nt*Nt/24+(61+90*ct+298*Et+45*ct*ct-252*Se-3*Et*Et)*Nt*Nt*Nt*Nt*Nt*Nt/720);Yr=e2(Yr);var uo,vi=(Nt-(1+2*ct+Et)*Nt*Nt*Nt/6+(5-2*Et+28*ct-3*Et*Et+8*Se+24*ct*ct)*Nt*Nt*Nt*Nt*Nt/120)/Math.cos(br);if(vi=Xt+e2(vi),p.accuracy){var ws=Vt({northing:p.northing+p.accuracy,easting:p.easting+p.accuracy,zoneLetter:p.zoneLetter,zoneNumber:p.zoneNumber});uo={top:ws.lat,right:ws.lon,bottom:Yr,left:vi}}else uo={lat:Yr,lon:vi};return uo}function Ag(p){var v="Z";return 84>=p&&p>=72?v="X":72>p&&p>=64?v="W":64>p&&p>=56?v="V":56>p&&p>=48?v="U":48>p&&p>=40?v="T":40>p&&p>=32?v="S":32>p&&p>=24?v="R":24>p&&p>=16?v="Q":16>p&&p>=8?v="P":8>p&&p>=0?v="N":0>p&&p>=-8?v="M":-8>p&&p>=-16?v="L":-16>p&&p>=-24?v="K":-24>p&&p>=-32?v="J":-32>p&&p>=-40?v="H":-40>p&&p>=-48?v="G":-48>p&&p>=-56?v="F":-56>p&&p>=-64?v="E":-64>p&&p>=-72?v="D":-72>p&&p>=-80&&(v="C"),v}function B0(p){var v=p%sl;return 0===v&&(v=sl),v}function Rd(p){if(p&&0===p.length)throw"MGRSPoint coverting from nothing";for(var H,v=p.length,b=null,D="",j=0;!/[A-Z]/.test(H=p.charAt(j));){if(j>=2)throw"MGRSPoint bad conversion from: "+p;D+=H,j++}var ce=parseInt(D,10);if(0===j||j+3>v)throw"MGRSPoint bad conversion from: "+p;var K=p.charAt(j++);if(K<="A"||"B"===K||"Y"===K||K>="Z"||"I"===K||"O"===K)throw"MGRSPoint zone letter "+K+" not handled: "+p;b=p.substring(j,j+=2);for(var Se=B0(ce),Qe=function S1(p,v){for(var b=ol.charCodeAt(v-1),D=1e5,H=!1;b!==p.charCodeAt(0);){if(++b===Ro&&b++,b===Ia&&b++,b>mc){if(H)throw"Bad character: "+p;b=Jc,H=!0}D+=1e5}return D}(b.charAt(0),Se),yt=function T1(p,v){if(p>"V")throw"MGRSPoint given invalid Northing "+p;for(var b=M1.charCodeAt(v-1),D=0,H=!1;b!==p.charCodeAt(0);){if(++b===Ro&&b++,b===Ia&&b++,b>Qc){if(H)throw"Bad character: "+p;b=Jc,H=!0}D+=1e5}return D}(b.charAt(1),Se);yt<z1(K);)yt+=2e6;var ct=v-j;if(ct%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+p;var on,Xt,Nn,Et=ct/2,Ot=0,Nt=0;return Et>0&&(on=1e5/Math.pow(10,Et),Xt=p.substring(j,j+Et),Ot=parseFloat(Xt)*on,Nn=p.substring(j+Et),Nt=parseFloat(Nn)*on),{easting:Ot+Qe,northing:Nt+yt,zoneLetter:K,zoneNumber:ce,accuracy:on}}function z1(p){var v;switch(p){case"C":v=11e5;break;case"D":v=2e6;break;case"E":v=28e5;break;case"F":v=37e5;break;case"G":v=46e5;break;case"H":v=55e5;break;case"J":v=64e5;break;case"K":v=73e5;break;case"L":v=82e5;break;case"M":v=91e5;break;case"N":v=0;break;case"P":v=8e5;break;case"Q":v=17e5;break;case"R":v=26e5;break;case"S":v=35e5;break;case"T":v=44e5;break;case"U":v=53e5;break;case"V":v=62e5;break;case"W":v=7e6;break;case"X":v=79e5;break;default:v=-1}if(v>=0)return v;throw"Invalid zone letter: "+p}function vc(p,v,b){if(!(this instanceof vc))return new vc(p,v,b);if(Array.isArray(p))this.x=p[0],this.y=p[1],this.z=p[2]||0;else if("object"==typeof p)this.x=p.x,this.y=p.y,this.z=p.z||0;else if("string"==typeof p&&typeof v>"u"){var D=p.split(",");this.x=parseFloat(D[0],10),this.y=parseFloat(D[1],10),this.z=parseFloat(D[2],10)||0}else this.x=p,this.y=v,this.z=b||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}vc.fromMGRS=function(p){return new vc(E1(p))},vc.prototype.toMGRS=function(p){return zn([this.x,this.y],p)};const N0=vc;var L1=.01953125,H1=.01068115234375;function Kl(p){var v=[];v[0]=1-p*(.25+p*(.046875+p*(L1+p*H1))),v[1]=p*(.75-p*(.046875+p*(L1+p*H1)));var b=p*p;return v[2]=b*(.46875-p*(.013020833333333334+.007120768229166667*p)),v[3]=(b*=p)*(.3645833333333333-.005696614583333333*p),v[4]=b*p*.3076171875,v}function ql(p,v,b,D){return D[0]*p-(b*=v)*(D[1]+(v*=v)*(D[2]+v*(D[3]+v*D[4])))}var Dd=20;function Tu(p,v,b){for(var D=1/(1-v),H=p,j=Dd;j;--j){var ce=Math.sin(H),K=1-v*ce*ce;if(H-=K=(ql(H,ce,Math.cos(H),b)-p)*(K*Math.sqrt(K))*D,Math.abs(K)<R)return H}return H}const Xr={init:function Ml(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Kl(this.es),this.ml0=ql(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function zu(p){var H,j,ce,b=p.y,D=q(p.x-this.long0),K=Math.sin(b),Se=Math.cos(b);if(this.es){var yt=Se*D,ct=Math.pow(yt,2),Et=this.ep2*Math.pow(Se,2),Ot=Math.pow(Et,2),Nt=Math.abs(Se)>R?Math.tan(b):0,on=Math.pow(Nt,2),Xt=Math.pow(on,2);H=1-this.es*Math.pow(K,2),yt/=Math.sqrt(H);var Nn=ql(b,K,Se,this.en);j=this.a*(this.k0*yt*(1+ct/6*(1-on+Et+ct/20*(5-18*on+Xt+14*Et-58*on*Et+ct/42*(61+179*Xt-Xt*on-479*on)))))+this.x0,ce=this.a*(this.k0*(Nn-this.ml0+K*D*yt/2*(1+ct/12*(5-on+9*Et+4*Ot+ct/30*(61+Xt-58*on+270*Et-330*on*Et+ct/56*(1385+543*Xt-Xt*on-3111*on))))))+this.y0}else{var Qe=Se*Math.sin(D);if(Math.abs(Math.abs(Qe)-1)<R)return 93;if(j=.5*this.a*this.k0*Math.log((1+Qe)/(1-Qe))+this.x0,ce=Se*Math.cos(D)/Math.sqrt(1-Math.pow(Qe,2)),(Qe=Math.abs(ce))>=1){if(Qe-1>R)return 93;ce=0}else ce=Math.acos(ce);b<0&&(ce=-ce),ce=this.a*this.k0*(ce-this.lat0)+this.y0}return p.x=j,p.y=ce,p},inverse:function n2(p){var v,b,D,H,j=1/this.a*(p.x-this.x0),ce=1/this.a*(p.y-this.y0);if(this.es)if(b=Tu(v=this.ml0+ce/this.k0,this.es,this.en),Math.abs(b)<U){var ct=Math.sin(b),Et=Math.cos(b),Ot=Math.abs(Et)>R?Math.tan(b):0,Nt=this.ep2*Math.pow(Et,2),on=Math.pow(Nt,2),Xt=Math.pow(Ot,2),Nn=Math.pow(Xt,2);v=1-this.es*Math.pow(ct,2);var br=j*Math.sqrt(v)/this.k0,Pr=Math.pow(br,2);D=b-(v*=Ot)*Pr/(1-this.es)*.5*(1-Pr/12*(5+3*Xt-9*Nt*Xt+Nt-4*on-Pr/30*(61+90*Xt-252*Nt*Xt+45*Nn+46*Nt-Pr/56*(1385+3633*Xt+4095*Nn+1574*Nn*Xt)))),H=q(this.long0+br*(1-Pr/6*(1+2*Xt+Nt-Pr/20*(5+28*Xt+24*Nn+8*Nt*Xt+6*Nt-Pr/42*(61+662*Xt+1320*Nn+720*Nn*Xt))))/Et)}else D=U*fi(ce),H=0;else{var K=Math.exp(j/this.k0),Se=.5*(K-1/K),yt=Math.cos(this.lat0+ce/this.k0);v=Math.sqrt((1-Math.pow(yt,2))/(1+Math.pow(Se,2))),D=Math.asin(v),ce<0&&(D=-D),H=0===Se&&0===yt?0:q(Math.atan2(Se,yt)+this.long0)}return p.x=H,p.y=D,p},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function W0(p){var v=Math.exp(p);return(v-1/v)/2}function qo(p,v){p=Math.abs(p),v=Math.abs(v);var b=Math.max(p,v),D=Math.min(p,v)/(b||1);return b*Math.sqrt(1+Math.pow(D,2))}function Vd(p,v){for(var ce,b=2*Math.cos(2*v),D=p.length-1,H=p[D],j=0;--D>=0;)ce=b*H-j+p[D],j=H,H=ce;return v+ce*Math.sin(2*v)}function V1(p,v,b){for(var Nt,on,D=Math.sin(v),H=Math.cos(v),j=W0(b),ce=function Ur(p){var v=Math.exp(p);return(v+1/v)/2}(b),K=2*H*ce,Se=-2*D*j,Qe=p.length-1,yt=p[Qe],ct=0,Et=0,Ot=0;--Qe>=0;)Nt=Et,on=ct,yt=K*(Et=yt)-Nt-Se*(ct=Ot)+p[Qe],Ot=Se*Et-on+K*ct;return[(K=D*ce)*yt-(Se=H*j)*Ot,K*Ot+Se*yt]}const Fd={init:function r2(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Xr.init.apply(this),this.forward=Xr.forward,this.inverse=Xr.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var p=this.es/(1+Math.sqrt(1-this.es)),v=p/(2-p),b=v;this.cgb[0]=v*(2+v*(-2/3+v*(v*(116/45+v*(26/45+v*(-2854/675)))-2))),this.cbg[0]=v*(v*(2/3+v*(4/3+v*(-82/45+v*(32/45+v*(4642/4725)))))-2),this.cgb[1]=(b*=v)*(7/3+v*(v*(-227/45+v*(2704/315+v*(2323/945)))-1.6)),this.cbg[1]=b*(5/3+v*(-16/15+v*(-13/9+v*(904/315+v*(-1522/945))))),this.cgb[2]=(b*=v)*(56/15+v*(-136/35+v*(-1262/105+v*(73814/2835)))),this.cbg[2]=b*(-26/15+v*(34/21+v*(1.6+v*(-12686/2835)))),this.cgb[3]=(b*=v)*(4279/630+v*(-332/35+v*(-399572/14175))),this.cbg[3]=b*(1237/630+v*(v*(-24832/14175)-2.4)),this.cgb[4]=(b*=v)*(4174/315+v*(-144838/6237)),this.cbg[4]=b*(-734/315+v*(109598/31185)),this.cgb[5]=(b*=v)*(601676/22275),this.cbg[5]=b*(444337/155925),b=Math.pow(v,2),this.Qn=this.k0/(1+v)*(1+b*(1/4+b*(1/64+b/256))),this.utg[0]=v*(v*(2/3+v*(-37/96+v*(1/360+v*(81/512+v*(-96199/604800)))))-.5),this.gtu[0]=v*(.5+v*(-2/3+v*(5/16+v*(41/180+v*(-127/288+v*(7891/37800)))))),this.utg[1]=b*(-1/48+v*(-1/15+v*(437/1440+v*(-46/105+v*(1118711/3870720))))),this.gtu[1]=b*(13/48+v*(v*(557/1440+v*(281/630+v*(-1983433/1935360)))-.6)),this.utg[2]=(b*=v)*(-17/480+v*(37/840+v*(209/4480+v*(-5569/90720)))),this.gtu[2]=b*(61/240+v*(-103/140+v*(15061/26880+v*(167603/181440)))),this.utg[3]=(b*=v)*(-4397/161280+v*(11/504+v*(830251/7257600))),this.gtu[3]=b*(49561/161280+v*(-179/168+v*(6601661/7257600))),this.utg[4]=(b*=v)*(-4583/161280+v*(108847/3991680)),this.gtu[4]=b*(34729/80640+v*(-3418889/1995840)),this.utg[5]=(b*=v)*(-20648693/638668800),this.gtu[5]=.6650675310896665*b;var D=Vd(this.cbg,this.lat0);this.Zb=-this.Qn*(D+function kd(p,v){for(var ce,b=2*Math.cos(v),D=p.length-1,H=p[D],j=0;--D>=0;)ce=b*H-j+p[D],j=H,H=ce;return Math.sin(v)*ce}(this.gtu,2*D))},forward:function Jo(p){var v=q(p.x-this.long0),b=p.y;b=Vd(this.cbg,b);var D=Math.sin(b),H=Math.cos(b),j=Math.sin(v),ce=Math.cos(v);b=Math.atan2(D,ce*H),v=Math.atan2(j*H,qo(D,H*ce)),v=function Tg(p){var v=Math.abs(p);return v=function j0(p){var v=1+p,b=v-1;return 0===b?p:p*Math.log(v)/b}(v*(1+v/(qo(1,v)+1))),p<0?-v:v}(Math.tan(v));var Se,Qe,K=V1(this.gtu,2*b,2*v);return b+=K[0],v+=K[1],Math.abs(v)<=2.623395162778?(Se=this.a*(this.Qn*v)+this.x0,Qe=this.a*(this.Qn*b+this.Zb)+this.y0):(Se=1/0,Qe=1/0),p.x=Se,p.y=Qe,p},inverse:function s2(p){var D,H,v=1/this.a*(p.x-this.x0),b=1/this.a*(p.y-this.y0);if(b=(b-this.Zb)/this.Qn,v/=this.Qn,Math.abs(v)<=2.623395162778){var j=V1(this.utg,2*b,2*v);b+=j[0],v+=j[1],v=Math.atan(W0(v));var ce=Math.sin(b),K=Math.cos(b),Se=Math.sin(v),Qe=Math.cos(v);b=Math.atan2(ce*Qe,qo(Se,Qe*K)),D=q((v=Math.atan2(Se,Qe*K))+this.long0),H=Vd(this.cgb,b)}else D=1/0,H=1/0;return p.x=D,p.y=H,p},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"]},Z0={init:function Lu(){var p=function Ru(p,v){if(void 0===p){if((p=Math.floor(30*(q(v)+Math.PI)/Math.PI)+1)<0)return 0;if(p>60)return 60}return p}(this.zone,this.long0);if(void 0===p)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(p)-183)*X,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Fd.init.apply(this),this.forward=Fd.forward,this.inverse=Fd.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function Bd(p,v){return Math.pow((1-p)/(1+p),v)}const $e={init:function eu(){var p=Math.sin(this.lat0),v=Math.cos(this.lat0);v*=v,this.rc=Math.sqrt(1-this.es)/(1-this.es*p*p),this.C=Math.sqrt(1+this.es*v*v/(1-this.es)),this.phic0=Math.asin(p/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+G)/(Math.pow(Math.tan(.5*this.lat0+G),this.C)*Bd(this.e*p,this.ratexp))},forward:function $0(p){var v=p.x,b=p.y;return p.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*b+G),this.C)*Bd(this.e*Math.sin(b),this.ratexp))-U,p.x=this.C*v,p},inverse:function Jl(p){for(var b=p.x/this.C,D=p.y,H=Math.pow(Math.tan(.5*D+G)/this.K,1/this.C),j=20;j>0&&(D=2*Math.atan(H*Bd(this.e*Math.sin(p.y),-.5*this.e))-U,!(Math.abs(D-p.y)<1e-14));--j)p.y=D;return j?(p.x=b,p.y=D,p):null},names:["gauss"]},yc={init:function _(){$e.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function gt(p){var v,b,D,H;return p.x=q(p.x-this.long0),$e.forward.apply(this,[p]),v=Math.sin(p.y),b=Math.cos(p.y),D=Math.cos(p.x),p.x=(H=this.k0*this.R2/(1+this.sinc0*v+this.cosc0*b*D))*b*Math.sin(p.x),p.y=H*(this.cosc0*v-this.sinc0*b*D),p.x=this.a*p.x+this.x0,p.y=this.a*p.y+this.y0,p},inverse:function wc(p){var v,b,D,H,j;if(p.x=(p.x-this.x0)/this.a,p.y=(p.y-this.y0)/this.a,p.x/=this.k0,p.y/=this.k0,j=qo(p.x,p.y)){var ce=2*Math.atan2(j,this.R2);v=Math.sin(ce),b=Math.cos(ce),H=Math.asin(b*this.sinc0+p.y*v*this.cosc0/j),D=Math.atan2(p.x*v,j*this.cosc0*b-p.y*this.sinc0*v)}else H=this.phic0,D=0;return p.x=D,p.y=H,$e.inverse.apply(this,[p]),p.x=q(p.x+this.long0),p},names:["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Nd={init:function k1(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=R&&(this.k0=.5*(1+fi(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=R&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=R&&Math.abs(Math.cos(this.lat_ts))>R&&(this.k0=.5*this.cons*Cr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/T(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Cr(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-U,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function Rg(p){var j,ce,K,Se,Qe,yt,v=p.x,b=p.y,D=Math.sin(b),H=Math.cos(b),ct=q(v-this.long0);return Math.abs(Math.abs(v-this.long0)-Math.PI)<=R&&Math.abs(b+this.lat0)<=R?(p.x=NaN,p.y=NaN,p):this.sphere?(j=2*this.k0/(1+this.sinlat0*D+this.coslat0*H*Math.cos(ct)),p.x=this.a*j*H*Math.sin(ct)+this.x0,p.y=this.a*j*(this.coslat0*D-this.sinlat0*H*Math.cos(ct))+this.y0,p):(ce=2*Math.atan(this.ssfn_(b,D,this.e))-U,Se=Math.cos(ce),K=Math.sin(ce),Math.abs(this.coslat0)<=R?(Qe=T(this.e,b*this.con,this.con*D),p.x=this.x0+(yt=2*this.a*this.k0*Qe/this.cons)*Math.sin(v-this.long0),p.y=this.y0-this.con*yt*Math.cos(v-this.long0),p):(Math.abs(this.sinlat0)<R?(j=2*this.a*this.k0/(1+Se*Math.cos(ct)),p.y=j*K):(j=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*K+this.cosX0*Se*Math.cos(ct))),p.y=j*(this.cosX0*K-this.sinX0*Se*Math.cos(ct))+this.y0),p.x=j*Se*Math.sin(ct)+this.x0,p))},inverse:function Lg(p){p.x-=this.x0,p.y-=this.y0;var v,b,H,j,ce=Math.sqrt(p.x*p.x+p.y*p.y);if(this.sphere){var K=2*Math.atan(ce/(2*this.a*this.k0));return v=this.long0,b=this.lat0,ce<=R?(p.x=v,p.y=b,p):(b=Math.asin(Math.cos(K)*this.sinlat0+p.y*Math.sin(K)*this.coslat0/ce),v=Math.abs(this.coslat0)<R?q(this.lat0>0?this.long0+Math.atan2(p.x,-1*p.y):this.long0+Math.atan2(p.x,p.y)):q(this.long0+Math.atan2(p.x*Math.sin(K),ce*this.coslat0*Math.cos(K)-p.y*this.sinlat0*Math.sin(K))),p.x=v,p.y=b,p)}if(Math.abs(this.coslat0)<=R){if(ce<=R)return b=this.lat0,p.x=v=this.long0,p.y=b,p;p.x*=this.con,p.y*=this.con,b=this.con*V(this.e,ce*this.cons/(2*this.a*this.k0)),v=this.con*q(this.con*this.long0+Math.atan2(p.x,-1*p.y))}else H=2*Math.atan(ce*this.cosX0/(2*this.a*this.k0*this.ms1)),v=this.long0,ce<=R?j=this.X0:(j=Math.asin(Math.cos(H)*this.sinX0+p.y*Math.sin(H)*this.cosX0/ce),v=q(this.long0+Math.atan2(p.x*Math.sin(H),ce*this.cosX0*Math.cos(H)-p.y*this.sinX0*Math.sin(H)))),b=-1*V(this.e,Math.tan(.5*(U+j)));return p.x=v,p.y=b,p},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"],ssfn_:function wt(p,v,b){return v*=b,Math.tan(.5*(U+p))*Math.pow((1-v)/(1+v),.5*b)}},Qo={init:function fr(){var p=this.lat0;this.lambda0=this.long0;var v=Math.sin(p),b=this.a,H=1/this.rf,j=2*H-Math.pow(H,2),ce=this.e=Math.sqrt(j);this.R=this.k0*b*Math.sqrt(1-j)/(1-j*Math.pow(v,2)),this.alpha=Math.sqrt(1+j/(1-j)*Math.pow(Math.cos(p),4)),this.b0=Math.asin(v/this.alpha);var K=Math.log(Math.tan(Math.PI/4+this.b0/2)),Se=Math.log(Math.tan(Math.PI/4+p/2)),Qe=Math.log((1+ce*v)/(1-ce*v));this.K=K-this.alpha*Se+this.alpha*ce/2*Qe},forward:function Vi(p){var v=Math.log(Math.tan(Math.PI/4-p.y/2)),b=this.e/2*Math.log((1+this.e*Math.sin(p.y))/(1-this.e*Math.sin(p.y))),H=2*(Math.atan(Math.exp(-this.alpha*(v+b)+this.K))-Math.PI/4),j=this.alpha*(p.x-this.lambda0),ce=Math.atan(Math.sin(j)/(Math.sin(this.b0)*Math.tan(H)+Math.cos(this.b0)*Math.cos(j))),K=Math.asin(Math.cos(this.b0)*Math.sin(H)-Math.sin(this.b0)*Math.cos(H)*Math.cos(j));return p.y=this.R/2*Math.log((1+Math.sin(K))/(1-Math.sin(K)))+this.y0,p.x=this.R*ce+this.x0,p},inverse:function tu(p){for(var D=(p.x-this.x0)/this.R,H=2*(Math.atan(Math.exp((p.y-this.y0)/this.R))-Math.PI/4),j=Math.asin(Math.cos(this.b0)*Math.sin(H)+Math.sin(this.b0)*Math.cos(H)*Math.cos(D)),ce=Math.atan(Math.sin(D)/(Math.cos(this.b0)*Math.cos(D)-Math.sin(this.b0)*Math.tan(H))),K=this.lambda0+ce/this.alpha,Se=0,Qe=j,yt=-1e3,ct=0;Math.abs(Qe-yt)>1e-7;){if(++ct>20)return;Se=1/this.alpha*(Math.log(Math.tan(Math.PI/4+j/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(Qe))/2)),yt=Qe,Qe=2*Math.atan(Math.exp(Se))-Math.PI/2}return p.x=K,p.y=Qe,p},names:["somerc"]};var Ma=1e-7;const Od={init:function mt(){var p,v,b,D,H,j,ce,K,Se,Qe,ct,yt=0,Et=0,Ot=0,Nt=0,on=0,Xt=0,Nn=0;this.no_off=function nu(p){var b="object"==typeof p.PROJECTION?Object.keys(p.PROJECTION)[0]:p.PROJECTION;return"no_uoff"in p||"no_off"in p||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(b)}(this),this.no_rot="no_rot"in this;var Pr=!1;"alpha"in this&&(Pr=!0);var mi=!1;if("rectified_grid_angle"in this&&(mi=!0),Pr&&(Nn=this.alpha),mi&&(yt=this.rectified_grid_angle*X),Pr||mi)Et=this.longc;else if(Ot=this.long1,on=this.lat1,Nt=this.long2,Xt=this.lat2,Math.abs(on-Xt)<=Ma||(p=Math.abs(on))<=Ma||Math.abs(p-U)<=Ma||Math.abs(Math.abs(this.lat0)-U)<=Ma||Math.abs(Math.abs(Xt)-U)<=Ma)throw new Error;var Yr=1-this.es;v=Math.sqrt(Yr),Math.abs(this.lat0)>R?(K=Math.sin(this.lat0),b=Math.cos(this.lat0),p=1-this.es*K*K,this.B=b*b,this.B=Math.sqrt(1+this.es*this.B*this.B/Yr),this.A=this.B*this.k0*v/p,(H=(D=this.B*v/(b*Math.sqrt(p)))*D-1)<=0?H=0:(H=Math.sqrt(H),this.lat0<0&&(H=-H)),this.E=H+=D,this.E*=Math.pow(T(this.e,this.lat0,K),this.B)):(this.B=1/v,this.A=this.k0,this.E=D=H=1),Pr||mi?(Pr?(ct=Math.asin(Math.sin(Nn)/D),mi||(yt=Nn)):(ct=yt,Nn=Math.asin(D*Math.sin(ct))),this.lam0=Et-Math.asin(.5*(H-1/H)*Math.tan(ct))/this.B):(j=Math.pow(T(this.e,on,Math.sin(on)),this.B),ce=Math.pow(T(this.e,Xt,Math.sin(Xt)),this.B),H=this.E/j,Se=(ce-j)/(ce+j),Qe=((Qe=this.E*this.E)-ce*j)/(Qe+ce*j),(p=Ot-Nt)<-Math.pi?Nt-=F:p>Math.pi&&(Nt+=F),this.lam0=q(.5*(Ot+Nt)-Math.atan(Qe*Math.tan(.5*this.B*(Ot-Nt))/Se)/this.B),ct=Math.atan(2*Math.sin(this.B*q(Ot-this.lam0))/(H-1/H)),yt=Nn=Math.asin(D*Math.sin(ct))),this.singam=Math.sin(ct),this.cosgam=Math.cos(ct),this.sinrot=Math.sin(yt),this.cosrot=Math.cos(yt),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(D*D-1)/Math.cos(Nn))),this.lat0<0&&(this.u_0=-this.u_0)),H=.5*ct,this.v_pole_n=this.ArB*Math.log(Math.tan(G-H)),this.v_pole_s=this.ArB*Math.log(Math.tan(G+H))},forward:function F1(p){var b,D,H,j,ce,K,Se,Qe,v={};if(p.x=p.x-this.lam0,Math.abs(Math.abs(p.y)-U)>R){if(b=.5*((ce=this.E/Math.pow(T(this.e,p.y,Math.sin(p.y)),this.B))-(K=1/ce)),D=.5*(ce+K),j=Math.sin(this.B*p.x),H=(b*this.singam-j*this.cosgam)/D,Math.abs(Math.abs(H)-1)<R)throw new Error;Qe=.5*this.ArB*Math.log((1-H)/(1+H)),K=Math.cos(this.B*p.x),Se=Math.abs(K)<Ma?this.A*p.x:this.ArB*Math.atan2(b*this.cosgam+j*this.singam,K)}else Qe=p.y>0?this.v_pole_n:this.v_pole_s,Se=this.ArB*p.y;return this.no_rot?(v.x=Se,v.y=Qe):(v.x=Qe*this.cosrot+(Se-=this.u_0)*this.sinrot,v.y=Se*this.cosrot-Qe*this.sinrot),v.x=this.a*v.x+this.x0,v.y=this.a*v.y+this.y0,v},inverse:function P1(p){var v,b,D,H,j,ce,K,Se={};if(p.x=1/this.a*(p.x-this.x0),p.y=1/this.a*(p.y-this.y0),this.no_rot?(b=p.y,v=p.x):(b=p.x*this.cosrot-p.y*this.sinrot,v=p.y*this.cosrot+p.x*this.sinrot+this.u_0),H=.5*((D=Math.exp(-this.BrA*b))-1/D),j=.5*(D+1/D),K=((ce=Math.sin(this.BrA*v))*this.cosgam+H*this.singam)/j,Math.abs(Math.abs(K)-1)<R)Se.x=0,Se.y=K<0?-U:U;else{if(Se.y=this.E/Math.sqrt((1+K)/(1-K)),Se.y=V(this.e,Math.pow(Se.y,1/this.B)),Se.y===1/0)throw new Error;Se.x=-this.rB*Math.atan2(H*this.cosgam-ce*this.singam,Math.cos(this.BrA*v))}return Se.x+=this.lam0,Se},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},Dg={init:function Hg(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<R)){var p=this.b/this.a;this.e=Math.sqrt(1-p*p);var v=Math.sin(this.lat1),b=Math.cos(this.lat1),D=Cr(this.e,v,b),H=T(this.e,this.lat1,v),j=Math.sin(this.lat2),ce=Math.cos(this.lat2),K=Cr(this.e,j,ce),Se=T(this.e,this.lat2,j),Qe=T(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>R?Math.log(D/K)/Math.log(H/Se):v,isNaN(this.ns)&&(this.ns=v),this.f0=D/(this.ns*Math.pow(H,this.ns)),this.rh=this.a*this.f0*Math.pow(Qe,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function en(p){var v=p.x,b=p.y;Math.abs(2*Math.abs(b)-Math.PI)<=R&&(b=fi(b)*(U-2*R));var H,j,D=Math.abs(Math.abs(b)-U);if(D>R)H=T(this.e,b,Math.sin(b)),j=this.a*this.f0*Math.pow(H,this.ns);else{if((D=b*this.ns)<=0)return null;j=0}var ce=this.ns*q(v-this.long0);return p.x=this.k0*(j*Math.sin(ce))+this.x0,p.y=this.k0*(this.rh-j*Math.cos(ce))+this.y0,p},inverse:function Gd(p){var v,b,D,H,j,ce=(p.x-this.x0)/this.k0,K=this.rh-(p.y-this.y0)/this.k0;this.ns>0?(v=Math.sqrt(ce*ce+K*K),b=1):(v=-Math.sqrt(ce*ce+K*K),b=-1);var Se=0;if(0!==v&&(Se=Math.atan2(b*ce,b*K)),0!==v||this.ns>0){if(b=1/this.ns,D=Math.pow(v/(this.a*this.f0),b),-9999===(H=V(this.e,D)))return null}else H=-U;return j=q(Se/this.ns+this.long0),p.x=j,p.y=H,p},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]},B1={init:function l2(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function al(p){var v,b,D,H,j,ce,K,Qe=p.y,yt=q(p.x-this.long0);return v=Math.pow((1+this.e*Math.sin(Qe))/(1-this.e*Math.sin(Qe)),this.alfa*this.e/2),b=2*(Math.atan(this.k*Math.pow(Math.tan(Qe/2+this.s45),this.alfa)/v)-this.s45),D=-yt*this.alfa,H=Math.asin(Math.cos(this.ad)*Math.sin(b)+Math.sin(this.ad)*Math.cos(b)*Math.cos(D)),j=Math.asin(Math.cos(b)*Math.sin(D)/Math.cos(H)),ce=this.n*j,K=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(H/2+this.s45),this.n),p.y=K*Math.cos(ce)/1,p.x=K*Math.sin(ce)/1,this.czech||(p.y*=-1,p.x*=-1),p},inverse:function ti(p){var v,b,D,H,ce,K,Se,Qe=p.x;p.x=p.y,p.y=Qe,this.czech||(p.y*=-1,p.x*=-1),ce=Math.sqrt(p.x*p.x+p.y*p.y),H=Math.atan2(p.y,p.x)/Math.sin(this.s0),D=2*(Math.atan(Math.pow(this.ro0/ce,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),v=Math.asin(Math.cos(this.ad)*Math.sin(D)-Math.sin(this.ad)*Math.cos(D)*Math.cos(H)),b=Math.asin(Math.cos(D)*Math.sin(H)/Math.cos(v)),p.x=this.long0-b/this.alfa,K=v,Se=0;var yt=0;do{p.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(v/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(K))/(1-this.e*Math.sin(K)),this.e/2))-this.s45),Math.abs(K-p.y)<1e-10&&(Se=1),K=p.y,yt+=1}while(0===Se&&yt<15);return yt>=15?null:p},names:["Krovak","krovak"]};function Ws(p,v,b,D,H){return p*H-v*Math.sin(2*H)+b*Math.sin(4*H)-D*Math.sin(6*H)}function Ql(p){return 1-.25*p*(1+p/16*(3+1.25*p))}function ec(p){return.375*p*(1+.25*p*(1+.46875*p))}function js(p){return.05859375*p*p*(1+.75*p)}function Ea(p){return p*p*p*(35/3072)}function Cc(p,v,b){var D=v*b;return p/Math.sqrt(1-D*D)}function Ba(p){return Math.abs(p)<U?p:p-fi(p)*Math.PI}function Hu(p,v,b,D,H){var j,ce;j=p/v;for(var K=0;K<15;K++)if(j+=ce=(p-(v*j-b*Math.sin(2*j)+D*Math.sin(4*j)-H*Math.sin(6*j)))/(v-2*b*Math.cos(2*j)+4*D*Math.cos(4*j)-6*H*Math.cos(6*j)),Math.abs(ce)<=1e-10)return j;return NaN}const q0={init:function c2(){this.sphere||(this.e0=Ql(this.es),this.e1=ec(this.es),this.e2=js(this.es),this.e3=Ea(this.es),this.ml0=this.a*Ws(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function Du(p){var v,b,D=p.x,H=p.y;if(D=q(D-this.long0),this.sphere)v=this.a*Math.asin(Math.cos(H)*Math.sin(D)),b=this.a*(Math.atan2(Math.tan(H),Math.cos(D))-this.lat0);else{var j=Math.sin(H),ce=Math.cos(H),K=Cc(this.a,this.e,j),Se=Math.tan(H)*Math.tan(H),Qe=D*Math.cos(H),yt=Qe*Qe,ct=this.es*ce*ce/(1-this.es);v=K*Qe*(1-yt*Se*(1/6-(8-Se+8*ct)*yt/120)),b=this.a*Ws(this.e0,this.e1,this.e2,this.e3,H)-this.ml0+K*j/ce*yt*(.5+(5-Se+6*ct)*yt/24)}return p.x=v+this.x0,p.y=b+this.y0,p},inverse:function N1(p){p.x-=this.x0,p.y-=this.y0;var D,H,v=p.x/this.a,b=p.y/this.a;if(this.sphere){var j=b+this.lat0;D=Math.asin(Math.sin(j)*Math.cos(v)),H=Math.atan2(Math.tan(v),Math.cos(j))}else{var K=Hu(this.ml0/this.a+b,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(K)-U)<=R)return p.x=this.long0,p.y=U,b<0&&(p.y*=-1),p;var Se=Cc(this.a,this.e,Math.sin(K)),Qe=Se*Se*Se/this.a/this.a*(1-this.es),yt=Math.pow(Math.tan(K),2),ct=v*this.a/Se,Et=ct*ct;D=K-Se*Math.tan(K)/Qe*ct*ct*(.5-(1+3*yt)*ct*ct/24),H=ct*(1-Et*(yt/3+(1+3*yt)*yt*Et/15))/Math.cos(K)}return p.x=q(H+this.long0),p.y=Ba(D),p},names:["Cassini","Cassini_Soldner","cass"]};function Na(p,v){var b;return p>1e-7?(1-p*p)*(v/(1-(b=p*v)*b)-.5/p*Math.log((1-b)/(1+b))):2*v}const Ta={init:function d2(){var v,p=Math.abs(this.lat0);if(this.mode=Math.abs(p-U)<R?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(p)<R?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=Na(this.e,1),this.mmf=.5/(1-this.es),this.apa=function bc(p){var v,b=[];return b[0]=.3333333333333333*p,b[0]+=.17222222222222222*(v=p*p),b[1]=.06388888888888888*v,b[0]+=.10257936507936508*(v*=p),b[1]+=.0664021164021164*v,b[2]=.016415012942191543*v,b}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),v=Math.sin(this.lat0),this.sinb1=Na(this.e,v)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*v*v)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function Q0(p){var v,b,D,H,j,ce,K,Se,Qe,yt,ct=p.x,Et=p.y;if(ct=q(ct-this.long0),this.sphere){if(j=Math.sin(Et),yt=Math.cos(Et),D=Math.cos(ct),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((b=this.mode===this.EQUIT?1+yt*D:1+this.sinph0*j+this.cosph0*yt*D)<=R)return null;v=(b=Math.sqrt(2/b))*yt*Math.sin(ct),b*=this.mode===this.EQUIT?j:this.cosph0*j-this.sinph0*yt*D}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(D=-D),Math.abs(Et+this.lat0)<R)return null;b=G-.5*Et,v=(b=2*(this.mode===this.S_POLE?Math.cos(b):Math.sin(b)))*Math.sin(ct),b*=D}}else{switch(K=0,Se=0,Qe=0,D=Math.cos(ct),H=Math.sin(ct),j=Math.sin(Et),ce=Na(this.e,j),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(K=ce/this.qp,Se=Math.sqrt(1-K*K)),this.mode){case this.OBLIQ:Qe=1+this.sinb1*K+this.cosb1*Se*D;break;case this.EQUIT:Qe=1+Se*D;break;case this.N_POLE:Qe=U+Et,ce=this.qp-ce;break;case this.S_POLE:Qe=Et-U,ce=this.qp+ce}if(Math.abs(Qe)<R)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:Qe=Math.sqrt(2/Qe),b=this.mode===this.OBLIQ?this.ymf*Qe*(this.cosb1*K-this.sinb1*Se*D):(Qe=Math.sqrt(2/(1+Se*D)))*K*this.ymf,v=this.xmf*Qe*Se*H;break;case this.N_POLE:case this.S_POLE:ce>=0?(v=(Qe=Math.sqrt(ce))*H,b=D*(this.mode===this.S_POLE?Qe:-Qe)):v=b=0}}return p.x=this.a*v+this.x0,p.y=this.a*b+this.y0,p},inverse:function ef(p){p.x-=this.x0,p.y-=this.y0;var D,H,j,ce,K,Se,Qe,v=p.x/this.a,b=p.y/this.a;if(this.sphere){var ct,yt=0,Et=0;if((H=.5*(ct=Math.sqrt(v*v+b*b)))>1)return null;switch(H=2*Math.asin(H),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(Et=Math.sin(H),yt=Math.cos(H)),this.mode){case this.EQUIT:H=Math.abs(ct)<=R?0:Math.asin(b*Et/ct),v*=Et,b=yt*ct;break;case this.OBLIQ:H=Math.abs(ct)<=R?this.lat0:Math.asin(yt*this.sinph0+b*Et*this.cosph0/ct),v*=Et*this.cosph0,b=(yt-Math.sin(H)*this.sinph0)*ct;break;case this.N_POLE:b=-b,H=U-H;break;case this.S_POLE:H-=U}D=0!==b||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(v,b):0}else{if(Qe=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(v/=this.dd,b*=this.dd,(Se=Math.sqrt(v*v+b*b))<R)return p.x=this.long0,p.y=this.lat0,p;ce=2*Math.asin(.5*Se/this.rq),j=Math.cos(ce),v*=ce=Math.sin(ce),this.mode===this.OBLIQ?(K=this.qp*(Qe=j*this.sinb1+b*ce*this.cosb1/Se),b=Se*this.cosb1*j-b*this.sinb1*ce):(K=this.qp*(Qe=b*ce/Se),b=Se*j)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(b=-b),!(K=v*v+b*b))return p.x=this.long0,p.y=this.lat0,p;Qe=1-K/this.qp,this.mode===this.S_POLE&&(Qe=-Qe)}D=Math.atan2(v,b),H=function ji(p,v){var b=p+p;return p+v[0]*Math.sin(b)+v[1]*Math.sin(b+b)+v[2]*Math.sin(b+b+b)}(Math.asin(Qe),this.apa)}return p.x=q(this.long0+D),p.y=H,p},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function El(p){return Math.abs(p)>1&&(p=p>1?1:-1),Math.asin(p)}const pa={init:function Lo(){Math.abs(this.lat1+this.lat2)<R||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Cr(this.e3,this.sin_po,this.cos_po),this.qs1=Na(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Cr(this.e3,this.sin_po,this.cos_po),this.qs2=Na(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Na(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>R?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function oo(p){var v=p.x,b=p.y;this.sin_phi=Math.sin(b),this.cos_phi=Math.cos(b);var D=Na(this.e3,this.sin_phi),H=this.a*Math.sqrt(this.c-this.ns0*D)/this.ns0,j=this.ns0*q(v-this.long0),ce=H*Math.sin(j)+this.x0,K=this.rh-H*Math.cos(j)+this.y0;return p.x=ce,p.y=K,p},inverse:function Bn(p){var v,D,H,j,ce;return p.x-=this.x0,p.y=this.rh-p.y+this.y0,this.ns0>=0?(v=Math.sqrt(p.x*p.x+p.y*p.y),D=1):(v=-Math.sqrt(p.x*p.x+p.y*p.y),D=-1),H=0,0!==v&&(H=Math.atan2(D*p.x,D*p.y)),D=v*this.ns0/this.a,ce=this.sphere?Math.asin((this.c-D*D)/(2*this.ns0)):this.phi1z(this.e3,(this.c-D*D)/this.ns0),j=q(H/this.ns0+this.long0),p.x=j,p.y=ce,p},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function Fs(p,v){var b,H,j,ce,K=El(.5*v);if(p<R)return K;for(var Se=p*p,Qe=1;Qe<=25;Qe++)if(K+=ce=.5*(j=1-(H=p*(b=Math.sin(K)))*H)*j/Math.cos(K)*(v/(1-Se)-b/j+.5/p*Math.log((1-H)/(1+H))),Math.abs(ce)<=1e-7)return K;return null}},f2={init:function bo(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function Ho(p){var v,b,D,H,ce,K,Se,yt=p.y;return D=q(p.x-this.long0),v=Math.sin(yt),b=Math.cos(yt),H=Math.cos(D),(ce=this.sin_p14*v+this.cos_p14*b*H)>0||Math.abs(ce)<=R?(K=this.x0+1*this.a*b*Math.sin(D)/ce,Se=this.y0+1*this.a*(this.cos_p14*v-this.sin_p14*b*H)/ce):(K=this.x0+this.infinity_dist*b*Math.sin(D),Se=this.y0+this.infinity_dist*(this.cos_p14*v-this.sin_p14*b*H)),p.x=K,p.y=Se,p},inverse:function h2(p){var v,b,D,H,j,ce;return p.x=(p.x-this.x0)/this.a,p.y=(p.y-this.y0)/this.a,p.x/=this.k0,p.y/=this.k0,(v=Math.sqrt(p.x*p.x+p.y*p.y))?(H=Math.atan2(v,this.rc),b=Math.sin(H),ce=El((D=Math.cos(H))*this.sin_p14+p.y*b*this.cos_p14/v),j=Math.atan2(p.x*b,v*this.cos_p14*D-p.y*this.sin_p14*b),j=q(this.long0+j)):(ce=this.phic0,j=0),p.x=j,p.y=ce,p},names:["gnom"]},P={init:function xc(){this.sphere||(this.k0=Cr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function pi(p){var D,H,b=p.y,j=q(p.x-this.long0);if(this.sphere)D=this.x0+this.a*j*Math.cos(this.lat_ts),H=this.y0+this.a*Math.sin(b)/Math.cos(this.lat_ts);else{var ce=Na(this.e,Math.sin(b));D=this.x0+this.a*this.k0*j,H=this.y0+this.a*ce*.5/this.k0}return p.x=D,p.y=H,p},inverse:function Fu(p){var v,b;return p.x-=this.x0,p.y-=this.y0,this.sphere?(v=q(this.long0+p.x/this.a/Math.cos(this.lat_ts)),b=Math.asin(p.y/this.a*Math.cos(this.lat_ts))):(b=function p2(p,v){var b=1-(1-p*p)/(2*p)*Math.log((1-p)/(1+p));if(Math.abs(Math.abs(v)-b)<1e-6)return v<0?-1*U:U;for(var H,j,ce,K,D=Math.asin(.5*v),Se=0;Se<30;Se++)if(j=Math.sin(D),ce=Math.cos(D),K=p*j,D+=H=Math.pow(1-K*K,2)/(2*ce)*(v/(1-p*p)-j/(1-K*K)+.5/p*Math.log((1-K)/(1+K))),Math.abs(H)<=1e-10)return D;return NaN}(this.e,2*p.y*this.k0/this.a),v=q(this.long0+p.x/(this.a*this.k0))),p.x=v,p.y=b,p},names:["cea"]},tt={init:function te(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function Ae(p){var b=p.y,D=q(p.x-this.long0),H=Ba(b-this.lat0);return p.x=this.x0+this.a*D*this.rc,p.y=this.y0+this.a*H,p},inverse:function Ve(p){var b=p.y;return p.x=q(this.long0+(p.x-this.x0)/(this.a*this.rc)),p.y=Ba(this.lat0+(b-this.y0)/this.a),p},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},j5={init:function hn(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ql(this.es),this.e1=ec(this.es),this.e2=js(this.es),this.e3=Ea(this.es),this.ml0=this.a*Ws(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function Ti(p){var D,H,j,b=p.y,ce=q(p.x-this.long0);if(j=ce*Math.sin(b),this.sphere)Math.abs(b)<=R?(D=this.a*ce,H=-1*this.a*this.lat0):(D=this.a*Math.sin(j)/Math.tan(b),H=this.a*(Ba(b-this.lat0)+(1-Math.cos(j))/Math.tan(b)));else if(Math.abs(b)<=R)D=this.a*ce,H=-1*this.ml0;else{var K=Cc(this.a,this.e,Math.sin(b))/Math.tan(b);D=K*Math.sin(j),H=this.a*Ws(this.e0,this.e1,this.e2,this.e3,b)-this.ml0+K*(1-Math.cos(j))}return p.x=D+this.x0,p.y=H+this.y0,p},inverse:function Sl(p){var v,b,D,H,j,ce,K,Se,Qe;if(D=p.x-this.x0,H=p.y-this.y0,this.sphere)if(Math.abs(H+this.a*this.lat0)<=R)v=q(D/this.a+this.long0),b=0;else{var yt;for(K=D*D/this.a/this.a+(ce=this.lat0+H/this.a)*ce,Se=ce,j=20;j;--j)if(Se+=Qe=-1*(ce*(Se*(yt=Math.tan(Se))+1)-Se-.5*(Se*Se+K)*yt)/((Se-ce)/yt-1),Math.abs(Qe)<=R){b=Se;break}v=q(this.long0+Math.asin(D*Math.tan(Se)/this.a)/Math.sin(b))}else if(Math.abs(H+this.ml0)<=R)b=0,v=q(this.long0+D/this.a);else{var ct,Et,Ot,Nt,on;for(K=D*D/this.a/this.a+(ce=(this.ml0+H)/this.a)*ce,Se=ce,j=20;j;--j)if(on=this.e*Math.sin(Se),ct=Math.sqrt(1-on*on)*Math.tan(Se),Et=this.a*Ws(this.e0,this.e1,this.e2,this.e3,Se),Ot=this.e0-2*this.e1*Math.cos(2*Se)+4*this.e2*Math.cos(4*Se)-6*this.e3*Math.cos(6*Se),Se-=Qe=(ce*(ct*(Nt=Et/this.a)+1)-Nt-.5*ct*(Nt*Nt+K))/(this.es*Math.sin(2*Se)*(Nt*Nt+K-2*ce*Nt)/(4*ct)+(ce-Nt)*(ct*Ot-2/Math.sin(2*Se))-Ot),Math.abs(Qe)<=R){b=Se;break}ct=Math.sqrt(1-this.es*Math.pow(Math.sin(b),2))*Math.tan(b),v=q(this.long0+Math.asin(D*ct/this.a)/Math.sin(b))}return p.x=v,p.y=b,p},names:["Polyconic","poly"]},U5={init:function g2(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function Oa(p){var v,ce=(p.y-this.lat0)/fe*1e-5,K=p.x-this.long0,Se=1,Qe=0;for(v=1;v<=10;v++)Qe+=this.A[v]*(Se*=ce);var on,yt=Qe,ct=K,Et=1,Ot=0,Xt=0,Nn=0;for(v=1;v<=6;v++)on=Ot*yt+Et*ct,Xt=Xt+this.B_re[v]*(Et=Et*yt-Ot*ct)-this.B_im[v]*(Ot=on),Nn=Nn+this.B_im[v]*Et+this.B_re[v]*Ot;return p.x=Nn*this.a+this.x0,p.y=Xt*this.a+this.y0,p},inverse:function W1(p){var v,ct,ce=(p.y-this.y0)/this.a,K=(p.x-this.x0)/this.a,Se=1,Qe=0,Et=0,Ot=0;for(v=1;v<=6;v++)ct=Qe*ce+Se*K,Et=Et+this.C_re[v]*(Se=Se*ce-Qe*K)-this.C_im[v]*(Qe=ct),Ot=Ot+this.C_im[v]*Se+this.C_re[v]*Qe;for(var Nt=0;Nt<this.iterations;Nt++){var br,on=Et,Xt=Ot,Pr=ce,mi=K;for(v=2;v<=6;v++)br=Xt*Et+on*Ot,Pr+=(v-1)*(this.B_re[v]*(on=on*Et-Xt*Ot)-this.B_im[v]*(Xt=br)),mi+=(v-1)*(this.B_im[v]*on+this.B_re[v]*Xt);on=1,Xt=0;var Yr=this.B_re[1],vi=this.B_im[1];for(v=2;v<=6;v++)br=Xt*Et+on*Ot,Yr+=v*(this.B_re[v]*(on=on*Et-Xt*Ot)-this.B_im[v]*(Xt=br)),vi+=v*(this.B_im[v]*on+this.B_re[v]*Xt);var uo=Yr*Yr+vi*vi;Et=(Pr*Yr+mi*vi)/uo,Ot=(mi*Yr-Pr*vi)/uo}var ws=Et,xo=Ot,$n=1,rc=0;for(v=1;v<=9;v++)rc+=this.D[v]*($n*=ws);var X1=this.lat0+rc*fe*1e5;return p.x=this.long0+xo,p.y=X1,p},names:["New_Zealand_Map_Grid","nzmg"]},X5={init:function Z5(){},forward:function kg(p){var b=p.y,D=q(p.x-this.long0),H=this.x0+this.a*D,j=this.y0+this.a*Math.log(Math.tan(Math.PI/4+b/2.5))*1.25;return p.x=H,p.y=j,p},inverse:function j1(p){p.x-=this.x0,p.y-=this.y0;var v=q(this.long0+p.x/this.a),b=2.5*(Math.atan(Math.exp(.8*p.y/this.a))-Math.PI/4);return p.x=v,p.y=b,p},names:["Miller_Cylindrical","mill"]},U1={init:function cf(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Kl(this.es)},forward:function uf(p){var v,b,D=p.x,H=p.y;if(D=q(D-this.long0),this.sphere){if(this.m)for(var j=this.n*Math.sin(H),ce=20;ce;--ce){var K=(this.m*H+Math.sin(H)-j)/(this.m+Math.cos(H));if(H-=K,Math.abs(K)<R)break}else H=1!==this.n?Math.asin(this.n*Math.sin(H)):H;v=this.a*this.C_x*D*(this.m+Math.cos(H)),b=this.a*this.C_y*H}else{var Se=Math.sin(H),Qe=Math.cos(H);b=this.a*ql(H,Se,Qe,this.en),v=this.a*D*Qe/Math.sqrt(1-this.es*Se*Se)}return p.x=v,p.y=b,p},inverse:function Fg(p){var v,D,H;return p.x-=this.x0,D=p.x/this.a,p.y-=this.y0,v=p.y/this.a,this.sphere?(v/=this.C_y,D/=this.C_x*(this.m+Math.cos(v)),this.m?v=El((this.m*v+Math.sin(v))/this.n):1!==this.n&&(v=El(Math.sin(v)/this.n)),D=q(D+this.long0),v=Ba(v)):(v=Tu(p.y/this.a,this.es,this.en),(H=Math.abs(v))<U?(H=Math.sin(v),D=q(this.long0+p.x*Math.sqrt(1-this.es*H*H)/(this.a*Math.cos(v)))):H-R<U&&(D=this.long0)),p.x=D,p.y=v,p},names:["Sinusoidal","sinu"]},J5={init:function K5(){},forward:function q5(p){for(var b=p.y,D=q(p.x-this.long0),H=b,j=Math.PI*Math.sin(b);;){var ce=-(H+Math.sin(H)-j)/(1+Math.cos(H));if(H+=ce,Math.abs(ce)<R)break}H/=2,Math.PI/2-Math.abs(b)<R&&(D=0);var K=.900316316158*this.a*D*Math.cos(H)+this.x0,Se=1.4142135623731*this.a*Math.sin(H)+this.y0;return p.x=K,p.y=Se,p},inverse:function lo(p){var v,b;p.x-=this.x0,p.y-=this.y0,b=p.y/(1.4142135623731*this.a),Math.abs(b)>.999999999999&&(b=.999999999999),v=Math.asin(b);var D=q(this.long0+p.x/(.900316316158*this.a*Math.cos(v)));D<-Math.PI&&(D=-Math.PI),D>Math.PI&&(D=Math.PI),b=(2*v+Math.sin(2*v))/Math.PI,Math.abs(b)>1&&(b=1);var H=Math.asin(b);return p.x=D,p.y=H,p},names:["Mollweide","moll"]},n4={init:function Wd(){Math.abs(this.lat1+this.lat2)<R||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ql(this.es),this.e1=ec(this.es),this.e2=js(this.es),this.e3=Ea(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Cr(this.e,this.sinphi,this.cosphi),this.ml1=Ws(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<R?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Cr(this.e,this.sinphi,this.cosphi),this.ml2=Ws(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ws(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function Q5(p){var D,v=p.x,b=p.y;if(this.sphere)D=this.a*(this.g-b);else{var H=Ws(this.e0,this.e1,this.e2,this.e3,b);D=this.a*(this.g-H)}var j=this.ns*q(v-this.long0),ce=this.x0+D*Math.sin(j),K=this.y0+this.rh-D*Math.cos(j);return p.x=ce,p.y=K,p},inverse:function e4(p){var v,b,D,H;p.x-=this.x0,p.y=this.rh-p.y+this.y0,this.ns>=0?(b=Math.sqrt(p.x*p.x+p.y*p.y),v=1):(b=-Math.sqrt(p.x*p.x+p.y*p.y),v=-1);var j=0;return 0!==b&&(j=Math.atan2(v*p.x,v*p.y)),this.sphere?(H=q(this.long0+j/this.ns),D=Ba(this.g-b/this.a),p.x=H,p.y=D,p):(D=Hu(this.g-b/this.a,this.e0,this.e1,this.e2,this.e3),H=q(this.long0+j/this.ns),p.x=H,p.y=D,p)},names:["Equidistant_Conic","eqdc"]},ms={init:function r4(){this.R=this.a},forward:function s4(p){var H,j,b=p.y,D=q(p.x-this.long0);Math.abs(b)<=R&&(H=this.x0+this.R*D,j=this.y0);var ce=El(2*Math.abs(b/Math.PI));(Math.abs(D)<=R||Math.abs(Math.abs(b)-U)<=R)&&(H=this.x0,j=b>=0?this.y0+Math.PI*this.R*Math.tan(.5*ce):this.y0+Math.PI*this.R*-Math.tan(.5*ce));var K=.5*Math.abs(Math.PI/D-D/Math.PI),Se=K*K,Qe=Math.sin(ce),yt=Math.cos(ce),ct=yt/(Qe+yt-1),Ot=ct*(2/Qe-1),Nt=Ot*Ot,on=Math.PI*this.R*(K*(ct-Nt)+Math.sqrt(Se*(ct-Nt)*(ct-Nt)-(Nt+Se)*(ct*ct-Nt)))/(Nt+Se);D<0&&(on=-on),H=this.x0+on;var Xt=Se+ct;return on=Math.PI*this.R*(Ot*Xt-K*Math.sqrt((Nt+Se)*(Se+1)-Xt*Xt))/(Nt+Se),j=b>=0?this.y0+on:this.y0-on,p.x=H,p.y=j,p},inverse:function hf(p){var v,b,D,H,j,ce,K,Se,Qe,yt,ct,Et;return p.x-=this.x0,p.y-=this.y0,ct=Math.PI*this.R,j=(D=p.x/ct)*D+(H=p.y/ct)*H,ct=3*(H*H/(Se=-2*(ce=-Math.abs(H)*(1+j))+1+2*H*H+j*j)+(2*(K=ce-2*H*H+D*D)*K*K/Se/Se/Se-9*ce*K/Se/Se)/27)/(Qe=(ce-K*K/3/Se)/Se)/(yt=2*Math.sqrt(-Qe/3)),Math.abs(ct)>1&&(ct=ct>=0?1:-1),Et=Math.acos(ct)/3,b=p.y>=0?(-yt*Math.cos(Et+Math.PI/3)-K/3/Se)*Math.PI:-(-yt*Math.cos(Et+Math.PI/3)-K/3/Se)*Math.PI,v=Math.abs(D)<R?this.long0:q(this.long0+Math.PI*(j-1+Math.sqrt(1+2*(D*D-H*H)+j*j))/2/D),p.x=v,p.y=b,p},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},rs={init:function qt(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function Un(p){var ce,K,Se,Qe,yt,ct,Et,Ot,Nt,on,Xt,Nn,br,Pr,mi,Yr,vi,uo,ws,xo,$n,rc,v=p.x,b=p.y,D=Math.sin(p.y),H=Math.cos(p.y),j=q(v-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=R?(p.x=this.x0+this.a*(U-b)*Math.sin(j),p.y=this.y0-this.a*(U-b)*Math.cos(j),p):Math.abs(this.sin_p12+1)<=R?(p.x=this.x0+this.a*(U+b)*Math.sin(j),p.y=this.y0+this.a*(U+b)*Math.cos(j),p):(uo=this.sin_p12*D+this.cos_p12*H*Math.cos(j),vi=(Yr=Math.acos(uo))?Yr/Math.sin(Yr):1,p.x=this.x0+this.a*vi*H*Math.sin(j),p.y=this.y0+this.a*vi*(this.cos_p12*D-this.sin_p12*H*Math.cos(j)),p):(ce=Ql(this.es),K=ec(this.es),Se=js(this.es),Qe=Ea(this.es),Math.abs(this.sin_p12-1)<=R?(yt=this.a*Ws(ce,K,Se,Qe,U),ct=this.a*Ws(ce,K,Se,Qe,b),p.x=this.x0+(yt-ct)*Math.sin(j),p.y=this.y0-(yt-ct)*Math.cos(j),p):Math.abs(this.sin_p12+1)<=R?(yt=this.a*Ws(ce,K,Se,Qe,U),ct=this.a*Ws(ce,K,Se,Qe,b),p.x=this.x0+(yt+ct)*Math.sin(j),p.y=this.y0+(yt+ct)*Math.cos(j),p):(Et=D/H,Ot=Cc(this.a,this.e,this.sin_p12),Nt=Cc(this.a,this.e,D),on=Math.atan((1-this.es)*Et+this.es*Ot*this.sin_p12/(Nt*H)),ws=0===(Xt=Math.atan2(Math.sin(j),this.cos_p12*Math.tan(on)-this.sin_p12*Math.cos(j)))?Math.asin(this.cos_p12*Math.sin(on)-this.sin_p12*Math.cos(on)):Math.abs(Math.abs(Xt)-Math.PI)<=R?-Math.asin(this.cos_p12*Math.sin(on)-this.sin_p12*Math.cos(on)):Math.asin(Math.sin(j)*Math.cos(on)/Math.sin(Xt)),Nn=this.e*this.sin_p12/Math.sqrt(1-this.es),br=this.e*this.cos_p12*Math.cos(Xt)/Math.sqrt(1-this.es),p.x=this.x0+(Yr=Ot*ws*(1-(xo=ws*ws)*(mi=br*br)*(1-mi)/6+($n=xo*ws)/8*(Pr=Nn*br)*(1-2*mi)+(rc=$n*ws)/120*(mi*(4-7*mi)-3*Nn*Nn*(1-7*mi))-rc*ws/48*Pr))*Math.sin(Xt),p.y=this.y0+Yr*Math.cos(Xt),p))},inverse:function Qs(p){var v,b,D,H,j,ce,K,Se,Qe,yt,ct,Et,Nt,on,Xt,Nn,br,Pr,mi,Yr,vi,uo,ws;return p.x-=this.x0,p.y-=this.y0,this.sphere?(v=Math.sqrt(p.x*p.x+p.y*p.y))>2*U*this.a?void 0:(b=v/this.a,D=Math.sin(b),H=Math.cos(b),j=this.long0,Math.abs(v)<=R?ce=this.lat0:(ce=El(H*this.sin_p12+p.y*D*this.cos_p12/v),K=Math.abs(this.lat0)-U,j=Math.abs(K)<=R?q(this.lat0>=0?this.long0+Math.atan2(p.x,-p.y):this.long0-Math.atan2(-p.x,p.y)):q(this.long0+Math.atan2(p.x*D,v*this.cos_p12*H-p.y*this.sin_p12*D))),p.x=j,p.y=ce,p):(Se=Ql(this.es),Qe=ec(this.es),yt=js(this.es),ct=Ea(this.es),Math.abs(this.sin_p12-1)<=R?(ce=Hu(((Et=this.a*Ws(Se,Qe,yt,ct,U))-(v=Math.sqrt(p.x*p.x+p.y*p.y)))/this.a,Se,Qe,yt,ct),j=q(this.long0+Math.atan2(p.x,-1*p.y)),p.x=j,p.y=ce,p):Math.abs(this.sin_p12+1)<=R?(Et=this.a*Ws(Se,Qe,yt,ct,U),ce=Hu(((v=Math.sqrt(p.x*p.x+p.y*p.y))-Et)/this.a,Se,Qe,yt,ct),j=q(this.long0+Math.atan2(p.x,p.y)),p.x=j,p.y=ce,p):(v=Math.sqrt(p.x*p.x+p.y*p.y),Xt=Math.atan2(p.x,p.y),Nt=Cc(this.a,this.e,this.sin_p12),Nn=Math.cos(Xt),mi=3*this.es*(1-(Pr=-(br=this.e*this.cos_p12*Nn)*br/(1-this.es)))*this.sin_p12*this.cos_p12*Nn/(1-this.es),uo=1-Pr*(vi=(Yr=v/Nt)-Pr*(1+Pr)*Math.pow(Yr,3)/6-mi*(1+3*Pr)*Math.pow(Yr,4)/24)*vi/2-Yr*vi*vi*vi/6,on=Math.asin(this.sin_p12*Math.cos(vi)+this.cos_p12*Math.sin(vi)*Nn),j=q(this.long0+Math.asin(Math.sin(Xt)*Math.sin(vi)/Math.cos(on))),ws=Math.sin(on),ce=Math.atan2((ws-this.es*uo*this.sin_p12)*Math.tan(on),ws*(1-this.es)),p.x=j,p.y=ce,p))},names:["Azimuthal_Equidistant","aeqd"]},zt={init:function Yt(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function ki(p){var v,b,D,H,ce,K,Se,yt=p.y;return D=q(p.x-this.long0),v=Math.sin(yt),b=Math.cos(yt),H=Math.cos(D),((ce=this.sin_p14*v+this.cos_p14*b*H)>0||Math.abs(ce)<=R)&&(K=1*this.a*b*Math.sin(D),Se=this.y0+1*this.a*(this.cos_p14*v-this.sin_p14*b*H)),p.x=K,p.y=Se,p},inverse:function Mn(p){var v,b,D,H,j,ce,K;return p.x-=this.x0,p.y-=this.y0,b=El((v=Math.sqrt(p.x*p.x+p.y*p.y))/this.a),D=Math.sin(b),H=Math.cos(b),ce=this.long0,Math.abs(v)<=R?(K=this.lat0,p.x=ce,p.y=K,p):(K=El(H*this.sin_p14+p.y*D*this.cos_p14/v),j=Math.abs(this.lat0)-U,Math.abs(j)<=R?(ce=q(this.lat0>=0?this.long0+Math.atan2(p.x,-p.y):this.long0-Math.atan2(-p.x,p.y)),p.x=ce,p.y=K,p):(ce=q(this.long0+Math.atan2(p.x*D,v*this.cos_p14*H-p.y*this.sin_p14*D)),p.x=ce,p.y=K,p))},names:["ortho"]};var Tr_AREA_0=1,Tr_AREA_1=2,Tr_AREA_2=3,Tr_AREA_3=4;function tc(p,v,b,D){var H;return p<R?(D.value=Tr_AREA_0,H=0):(H=Math.atan2(v,b),Math.abs(H)<=G?D.value=Tr_AREA_0:H>G&&H<=U+G?(D.value=Tr_AREA_1,H-=U):H>U+G||H<=-(U+G)?(D.value=Tr_AREA_2,H=H>=0?H-ae:H+ae):(D.value=Tr_AREA_3,H+=U)),H}function Tl(p,v){var b=p+v;return b<-ae?b+=F:b>+ae&&(b-=F),b}const Z1={init:function gi(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=U-G/2?5:this.lat0<=-(U-G/2)?6:Math.abs(this.long0)<=G?1:Math.abs(this.long0)<=U+G?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function ea(p){var b,D,H,j,ce,K,v={x:0,y:0},Se={value:0};if(p.x-=this.long0,b=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(p.y)):p.y,D=p.x,5===this.face)j=U-b,D>=G&&D<=U+G?(Se.value=Tr_AREA_0,H=D-U):D>U+G||D<=-(U+G)?(Se.value=Tr_AREA_1,H=D>0?D-ae:D+ae):D>-(U+G)&&D<=-G?(Se.value=Tr_AREA_2,H=D+U):(Se.value=Tr_AREA_3,H=D);else if(6===this.face)j=U+b,D>=G&&D<=U+G?(Se.value=Tr_AREA_0,H=-D+U):D<G&&D>=-G?(Se.value=Tr_AREA_1,H=-D):D<-G&&D>=-(U+G)?(Se.value=Tr_AREA_2,H=-D-U):(Se.value=Tr_AREA_3,H=D>0?-D+ae:-D-ae);else{var Qe,yt,ct,Et,Ot,Nt;2===this.face?D=Tl(D,+U):3===this.face?D=Tl(D,+ae):4===this.face&&(D=Tl(D,-U)),Et=Math.sin(b),Ot=Math.cos(b),Nt=Math.sin(D),Qe=Ot*Math.cos(D),yt=Ot*Nt,ct=Et,1===this.face?H=tc(j=Math.acos(Qe),ct,yt,Se):2===this.face?H=tc(j=Math.acos(yt),ct,-Qe,Se):3===this.face?H=tc(j=Math.acos(-Qe),ct,-yt,Se):4===this.face?H=tc(j=Math.acos(-yt),ct,Qe,Se):(j=H=0,Se.value=Tr_AREA_0)}return K=Math.atan(12/ae*(H+Math.acos(Math.sin(H)*Math.cos(G))-U)),ce=Math.sqrt((1-Math.cos(j))/(Math.cos(K)*Math.cos(K))/(1-Math.cos(Math.atan(1/Math.cos(H))))),Se.value===Tr_AREA_1?K+=U:Se.value===Tr_AREA_2?K+=ae:Se.value===Tr_AREA_3&&(K+=1.5*ae),v.x=ce*Math.cos(K),v.y=ce*Math.sin(K),v.x=v.x*this.a+this.x0,v.y=v.y*this.a+this.y0,p.x=v.x,p.y=v.y,p},inverse:function vs(p){var b,D,H,j,ce,K,Se,Qe,yt,on,Xt,Nn,v={lam:0,phi:0},ct={value:0};if(p.x=(p.x-this.x0)/this.a,p.y=(p.y-this.y0)/this.a,D=Math.atan(Math.sqrt(p.x*p.x+p.y*p.y)),b=Math.atan2(p.y,p.x),p.x>=0&&p.x>=Math.abs(p.y)?ct.value=Tr_AREA_0:p.y>=0&&p.y>=Math.abs(p.x)?(ct.value=Tr_AREA_1,b-=U):p.x<0&&-p.x>=Math.abs(p.y)?(ct.value=Tr_AREA_2,b=b<0?b+ae:b-ae):(ct.value=Tr_AREA_3,b+=U),yt=ae/12*Math.tan(b),ce=Math.sin(yt)/(Math.cos(yt)-1/Math.sqrt(2)),K=Math.atan(ce),(Se=1-(H=Math.cos(b))*H*(j=Math.tan(D))*j*(1-Math.cos(Math.atan(1/Math.cos(K)))))<-1?Se=-1:Se>1&&(Se=1),5===this.face)Qe=Math.acos(Se),v.phi=U-Qe,v.lam=ct.value===Tr_AREA_0?K+U:ct.value===Tr_AREA_1?K<0?K+ae:K-ae:ct.value===Tr_AREA_2?K-U:K;else if(6===this.face)Qe=Math.acos(Se),v.phi=Qe-U,v.lam=ct.value===Tr_AREA_0?-K+U:ct.value===Tr_AREA_1?-K:ct.value===Tr_AREA_2?-K-U:K<0?-K-ae:-K+ae;else{var Et,Ot,Nt;yt=(Et=Se)*Et,Ot=(yt+=(Nt=yt>=1?0:Math.sqrt(1-yt)*Math.sin(K))*Nt)>=1?0:Math.sqrt(1-yt),ct.value===Tr_AREA_1?(yt=Ot,Ot=-Nt,Nt=yt):ct.value===Tr_AREA_2?(Ot=-Ot,Nt=-Nt):ct.value===Tr_AREA_3&&(yt=Ot,Ot=Nt,Nt=-yt),2===this.face?(yt=Et,Et=-Ot,Ot=yt):3===this.face?(Et=-Et,Ot=-Ot):4===this.face&&(yt=Et,Et=Ot,Ot=-yt),v.phi=Math.acos(-Nt)-U,v.lam=Math.atan2(Ot,Et),2===this.face?v.lam=Tl(v.lam,-U):3===this.face?v.lam=Tl(v.lam,-ae):4===this.face&&(v.lam=Tl(v.lam,+U))}return 0!==this.es&&(on=v.phi<0?1:0,Xt=Math.tan(v.phi),Nn=this.b/Math.sqrt(Xt*Xt+this.one_minus_f_squared),v.phi=Math.atan(Math.sqrt(this.a*this.a-Nn*Nn)/(this.one_minus_f*Nn)),on&&(v.phi=-v.phi)),v.lam+=this.long0,p.x=v.lam,p.y=v.phi,p},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var v2=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],ul=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Rn=Q/5,ff=1/Rn,Wa=function(p,v){return p[0]+v*(p[1]+v*(p[2]+v*p[3]))};const pf={init:function Us(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function y2(p){var v=q(p.x-this.long0),b=Math.abs(p.y),D=Math.floor(b*Rn);D<0?D=0:D>=18&&(D=17);var H={x:Wa(v2[D],b=Q*(b-ff*D))*v,y:Wa(ul[D],b)};return p.y<0&&(H.y=-H.y),H.x=H.x*this.a*.8487+this.x0,H.y=H.y*this.a*1.3523+this.y0,H},inverse:function co(p){var v={x:(p.x-this.x0)/(.8487*this.a),y:Math.abs(p.y-this.y0)/(1.3523*this.a)};if(v.y>=1)v.x/=v2[18][0],v.y=p.y<0?-U:U;else{var b=Math.floor(18*v.y);for(b<0?b=0:b>=18&&(b=17);;)if(ul[b][0]>v.y)--b;else{if(!(ul[b+1][0]<=v.y))break;++b}var D=ul[b],H=5*(v.y-D[0])/(ul[b+1][0]-D[0]);H=function $1(p,v,b,D){for(var H=v;D;--D){var j=p(H);if(H-=j,Math.abs(j)<b)break}return H}(function(j){return(Wa(D,j)-v.y)/function(p,v){return p[1]+v*(2*p[2]+3*v*p[3])}(D,j)},H,R,100),v.x/=Wa(v2[b],H),v.y=(5*b+H)*X,p.y<0&&(v.y=-v.y)}return v.x=q(v.x+this.long0),v},names:["Robinson","robin"]},Bg={init:function Pu(){this.name="geocent"},forward:function C2(p){return ei(p,this.es,this.a)},inverse:function zl(p){return Ms(p,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var Bu={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const SC={init:function Ng(){if(Object.keys(Bu).forEach(function(b){if(typeof this[b]>"u")this[b]=Bu[b].def;else{if(Bu[b].num&&isNaN(this[b]))throw new Error("Invalid parameter value, must be numeric "+b+" = "+this[b]);Bu[b].num&&(this[b]=parseFloat(this[b]))}Bu[b].degrees&&(this[b]=this[b]*X)}.bind(this)),Math.abs(Math.abs(this.lat0)-U)<R?this.mode=this.lat0<0?1:0:Math.abs(this.lat0)<R?this.mode=2:(this.mode=3,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var p=this.tilt,v=this.azi;this.cg=Math.cos(v),this.sg=Math.sin(v),this.cw=Math.cos(p),this.sw=Math.sin(p)},forward:function o4(p){p.x-=this.long0;var H,j,ce,K,v=Math.sin(p.y),b=Math.cos(p.y),D=Math.cos(p.x);switch(this.mode){case 3:j=this.sinph0*v+this.cosph0*b*D;break;case 2:j=b*D;break;case 1:j=-v;break;case 0:j=v}switch(H=(j=this.pn1/(this.p-j))*b*Math.sin(p.x),this.mode){case 3:j*=this.cosph0*v-this.sinph0*b*D;break;case 2:j*=v;break;case 0:j*=-b*D;break;case 1:j*=b*D}return H=(H*this.cg-j*this.sg)*this.cw*(K=1/((ce=j*this.cg+H*this.sg)*this.sw*this.h1+this.cw)),j=ce*K,p.x=H*this.a,p.y=j*this.a,p},inverse:function gf(p){p.x/=this.a,p.y/=this.a;var b,D,H,v={x:p.x,y:p.y};p.x=(b=this.pn1*p.x*(H=1/(this.pn1-p.y*this.sw)))*this.cg+(D=this.pn1*p.y*this.cw*H)*this.sg,p.y=D*this.cg-b*this.sg;var j=qo(p.x,p.y);if(Math.abs(j)<R)v.x=0,v.y=p.y;else{var ce,K;switch(K=1-j*j*this.pfact,K=(this.p-Math.sqrt(K))/(this.pn1/j+j/this.pn1),ce=Math.sqrt(1-K*K),this.mode){case 3:v.y=Math.asin(ce*this.sinph0+p.y*K*this.cosph0/j),p.y=(ce-this.sinph0*Math.sin(v.y))*j,p.x*=K*this.cosph0;break;case 2:v.y=Math.asin(p.y*K/j),p.y=ce*j,p.x*=K;break;case 0:v.y=Math.asin(ce),p.y=-p.y;break;case 1:v.y=-Math.asin(ce)}v.x=Math.atan2(p.x,p.y)}return p.x=v.x+this.long0,p.y=v.y,p},names:["Tilted_Perspective","tpers"]},HC={init:function TC(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var p=1-this.es,v=1/p;this.radius_p=Math.sqrt(p),this.radius_p2=p,this.radius_p_inv2=v,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function zC(p){var D,H,j,ce,v=p.x,b=p.y;if(v-=this.long0,"ellipse"===this.shape){b=Math.atan(this.radius_p2*Math.tan(b));var K=this.radius_p/qo(this.radius_p*Math.cos(b),Math.sin(b));if(H=K*Math.cos(v)*Math.cos(b),j=K*Math.sin(v)*Math.cos(b),ce=K*Math.sin(b),(this.radius_g-H)*H-j*j-ce*ce*this.radius_p_inv2<0)return p.x=Number.NaN,p.y=Number.NaN,p;D=this.radius_g-H,this.flip_axis?(p.x=this.radius_g_1*Math.atan(j/qo(ce,D)),p.y=this.radius_g_1*Math.atan(ce/D)):(p.x=this.radius_g_1*Math.atan(j/D),p.y=this.radius_g_1*Math.atan(ce/qo(j,D)))}else"sphere"===this.shape&&(D=Math.cos(b),H=Math.cos(v)*D,j=Math.sin(v)*D,ce=Math.sin(b),D=this.radius_g-H,this.flip_axis?(p.x=this.radius_g_1*Math.atan(j/qo(ce,D)),p.y=this.radius_g_1*Math.atan(ce/D)):(p.x=this.radius_g_1*Math.atan(j/D),p.y=this.radius_g_1*Math.atan(ce/qo(j,D))));return p.x=p.x*this.a,p.y=p.y*this.a,p},inverse:function RC(p){var H,j,ce,K,v=-1,b=0,D=0;if(p.x=p.x/this.a,p.y=p.y/this.a,"ellipse"===this.shape){this.flip_axis?(D=Math.tan(p.y/this.radius_g_1),b=Math.tan(p.x/this.radius_g_1)*qo(1,D)):(b=Math.tan(p.x/this.radius_g_1),D=Math.tan(p.y/this.radius_g_1)*qo(1,b));var Se=D/this.radius_p;if((ce=(j=2*this.radius_g*v)*j-4*(H=b*b+Se*Se+v*v)*this.C)<0)return p.x=Number.NaN,p.y=Number.NaN,p;K=(-j-Math.sqrt(ce))/(2*H),v=this.radius_g+K*v,b*=K,D*=K,p.x=Math.atan2(b,v),p.y=Math.atan(D*Math.cos(p.x)/v),p.y=Math.atan(this.radius_p_inv2*Math.tan(p.y))}else if("sphere"===this.shape){if(this.flip_axis?(D=Math.tan(p.y/this.radius_g_1),b=Math.tan(p.x/this.radius_g_1)*Math.sqrt(1+D*D)):(b=Math.tan(p.x/this.radius_g_1),D=Math.tan(p.y/this.radius_g_1)*Math.sqrt(1+b*b)),(ce=(j=2*this.radius_g*v)*j-4*(H=b*b+D*D+v*v)*this.C)<0)return p.x=Number.NaN,p.y=Number.NaN,p;K=(-j-Math.sqrt(ce))/(2*H),v=this.radius_g+K*v,b*=K,D*=K,p.x=Math.atan2(b,v),p.y=Math.atan(D*Math.cos(p.x)/v)}return p.x=p.x+this.long0,p},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};var b2=1.340264,x2=-.081106,_2=893e-6,I2=.003796,mf=Math.sqrt(3)/2;const kC={init:function Og(){this.es=0,this.long0=void 0!==this.long0?this.long0:0},forward:function Gg(p){var v=q(p.x-this.long0),D=Math.asin(mf*Math.sin(p.y)),H=D*D,j=H*H*H;return p.x=v*Math.cos(D)/(mf*(b2+3*x2*H+j*(7*_2+9*I2*H))),p.y=D*(b2+x2*H+j*(_2+I2*H)),p.x=this.a*p.x+this.x0,p.y=this.a*p.y+this.y0,p},inverse:function DC(p){p.x=(p.x-this.x0)/this.a,p.y=(p.y-this.y0)/this.a;var H,j,Se,Qe,D=p.y;for(Qe=0;Qe<12&&(D-=Se=(D*(b2+x2*(H=D*D)+(j=H*H*H)*(_2+I2*H))-p.y)/(b2+3*x2*H+j*(7*_2+9*I2*H)),!(Math.abs(Se)<1e-9));++Qe);return p.x=mf*p.x*(b2+3*x2*(H=D*D)+(j=H*H*H)*(7*_2+9*I2*H))/Math.cos(D),p.y=Math.asin(Math.sin(D)/mf),p.x=q(p.x+this.long0),p},names:["eqearth","Equal Earth","Equal_Earth"]};var A2=1e-10;function Wg(p){var D,H,j,v=q(p.x-(this.long0||0)),b=p.y;return D=this.am1+this.m1-ql(b,H=Math.sin(b),j=Math.cos(b),this.en),H=j*v/(D*Math.sqrt(1-this.es*H*H)),p.x=D*Math.sin(H),p.y=this.am1-D*Math.cos(H),p.x=this.a*p.x+(this.x0||0),p.y=this.a*p.y+(this.y0||0),p}function Zd(p){var v,b,D,H;if(p.x=(p.x-(this.x0||0))/this.a,p.y=(p.y-(this.y0||0))/this.a,b=qo(p.x,p.y=this.am1-p.y),H=Tu(this.am1+this.m1-b,this.es,this.en),(v=Math.abs(H))<U)v=Math.sin(H),D=b*Math.atan2(p.x,p.y)*Math.sqrt(1-this.es*v*v)/Math.cos(H);else{if(!(Math.abs(v-U)<=A2))throw new Error;D=0}return p.x=q(D+(this.long0||0)),p.y=Ba(H),p}function jg(p){var D,H,v=q(p.x-(this.long0||0)),b=p.y;return H=this.cphi1+this.phi1-b,Math.abs(H)>A2?(p.x=H*Math.sin(D=v*Math.cos(b)/H),p.y=this.cphi1-H*Math.cos(D)):p.x=p.y=0,p.x=this.a*p.x+(this.x0||0),p.y=this.a*p.y+(this.y0||0),p}function l4(p){p.x=(p.x-(this.x0||0))/this.a,p.y=(p.y-(this.y0||0))/this.a;var v,b,D=qo(p.x,p.y=this.cphi1-p.y);if(b=this.cphi1+this.phi1-D,Math.abs(b)>U)throw new Error;return v=Math.abs(Math.abs(b)-U)<=A2?0:D*Math.atan2(p.x,p.y)/Math.cos(b),p.x=q(v+(this.long0||0)),p.y=Ba(b),p}const Ug={init:function a4(){var p;if(this.phi1=this.lat1,Math.abs(this.phi1)<A2)throw new Error;this.es?(this.en=Kl(this.es),this.m1=ql(this.phi1,this.am1=Math.sin(this.phi1),p=Math.cos(this.phi1),this.en),this.am1=p/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Zd,this.forward=Wg):(this.cphi1=Math.abs(this.phi1)+A2>=U?0:1/Math.tan(this.phi1),this.inverse=l4,this.forward=jg)},names:["bonne","Bonne (Werner lat_1=90)"]};Es.defaultDatum="WGS84",Es.Proj=gs,Es.WGS84=new Es.Proj("WGS84"),Es.Point=N0,Es.toPoint=I1,Es.defs=tn,Es.nadgrid=function bt(p,v){var b=new DataView(v),D=function cs(p){var v=p.getInt32(8,!1);return 11!==v&&(11!==(v=p.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(b),H=function Qr(p,v){return{nFields:p.getInt32(8,v),nSubgridFields:p.getInt32(24,v),nSubgrids:p.getInt32(40,v),shiftType:Fr(p,56,64).trim(),fromSemiMajorAxis:p.getFloat64(120,v),fromSemiMinorAxis:p.getFloat64(136,v),toSemiMajorAxis:p.getFloat64(152,v),toSemiMinorAxis:p.getFloat64(168,v)}}(b,D),j=function Js(p,v,b){for(var D=176,H=[],j=0;j<v.nSubgrids;j++){var ce=ps(p,D,b),K=Gs(p,D,ce,b),Se=Math.round(1+(ce.upperLongitude-ce.lowerLongitude)/ce.longitudeInterval),Qe=Math.round(1+(ce.upperLatitude-ce.lowerLatitude)/ce.latitudeInterval);H.push({ll:[cr(ce.lowerLongitude),cr(ce.lowerLatitude)],del:[cr(ce.longitudeInterval),cr(ce.latitudeInterval)],lim:[Se,Qe],count:ce.gridNodeCount,cvs:Co(K)}),D+=176+16*ce.gridNodeCount}return H}(b,H,D),ce={header:H,subgrids:j};return Te[p]=ce,ce},Es.transform=il,Es.mgrs=Ko,Es.version="__VERSION__",function Zg(p){p.Proj.projections.add(Xr),p.Proj.projections.add(Fd),p.Proj.projections.add(Z0),p.Proj.projections.add(yc),p.Proj.projections.add(Nd),p.Proj.projections.add(Qo),p.Proj.projections.add(Od),p.Proj.projections.add(Dg),p.Proj.projections.add(B1),p.Proj.projections.add(q0),p.Proj.projections.add(Ta),p.Proj.projections.add(pa),p.Proj.projections.add(f2),p.Proj.projections.add(P),p.Proj.projections.add(tt),p.Proj.projections.add(j5),p.Proj.projections.add(U5),p.Proj.projections.add(X5),p.Proj.projections.add(U1),p.Proj.projections.add(J5),p.Proj.projections.add(n4),p.Proj.projections.add(ms),p.Proj.projections.add(rs),p.Proj.projections.add(zt),p.Proj.projections.add(Z1),p.Proj.projections.add(pf),p.Proj.projections.add(Bg),p.Proj.projections.add(SC),p.Proj.projections.add(HC),p.Proj.projections.add(kC),p.Proj.projections.add(Ug)}(Es);const u4=Es},3329:Pe=>{"use strict";var Ue=String.prototype.replace,B=/%20/g;Pe.exports={default:"RFC3986",formatters:{RFC1738:function(ee){return Ue.call(ee,B,"+")},RFC3986:function(ee){return String(ee)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},6505:(Pe,Ue,B)=>{"use strict";var Z=B(9792),ee=B(4014),me=B(3329);Pe.exports={formats:me,parse:ee,stringify:Z}},4014:(Pe,Ue,B)=>{"use strict";var Z=B(1956),ee=Object.prototype.hasOwnProperty,me=Array.isArray,ye={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Z.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},pe=function(J,ge){return J&&"string"==typeof J&&ge.comma&&J.indexOf(",")>-1?J.split(","):J},U=function(ge,R,X,Q){if(ge){var G=X.allowDots?ge.replace(/\.([^.[]+)/g,"[$1]"):ge,ae=/(\[[^[\]]*])/g,le=X.depth>0&&/(\[[^[\]]*])/.exec(G),Le=le?G.slice(0,le.index):G,he=[];if(Le){if(!X.plainObjects&&ee.call(Object.prototype,Le)&&!X.allowPrototypes)return;he.push(Le)}for(var Be=0;X.depth>0&&null!==(le=ae.exec(G))&&Be<X.depth;){if(Be+=1,!X.plainObjects&&ee.call(Object.prototype,le[1].slice(1,-1))&&!X.allowPrototypes)return;he.push(le[1])}if(le){if(!0===X.strictDepth)throw new RangeError("Input depth exceeded depth option of "+X.depth+" and strictDepth is true");he.push("["+G.slice(le.index)+"]")}return function(J,ge,R,X){for(var Q=X?ge:pe(ge,R),G=J.length-1;G>=0;--G){var F,ae=J[G];if("[]"===ae&&R.parseArrays)F=R.allowEmptyArrays&&(""===Q||R.strictNullHandling&&null===Q)?[]:[].concat(Q);else{F=R.plainObjects?Object.create(null):{};var le="["===ae.charAt(0)&&"]"===ae.charAt(ae.length-1)?ae.slice(1,-1):ae,Le=R.decodeDotInKeys?le.replace(/%2E/g,"."):le,he=parseInt(Le,10);R.parseArrays||""!==Le?!isNaN(he)&&ae!==Le&&String(he)===Le&&he>=0&&R.parseArrays&&he<=R.arrayLimit?(F=[])[he]=Q:"__proto__"!==Le&&(F[Le]=Q):F={0:Q}}Q=F}return Q}(he,R,X,Q)}};Pe.exports=function(J,ge){var R=function(ge){if(!ge)return ye;if(typeof ge.allowEmptyArrays<"u"&&"boolean"!=typeof ge.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof ge.decodeDotInKeys<"u"&&"boolean"!=typeof ge.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==ge.decoder&&typeof ge.decoder<"u"&&"function"!=typeof ge.decoder)throw new TypeError("Decoder has to be a function.");if(typeof ge.charset<"u"&&"utf-8"!==ge.charset&&"iso-8859-1"!==ge.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var R=typeof ge.charset>"u"?ye.charset:ge.charset,X=typeof ge.duplicates>"u"?ye.duplicates:ge.duplicates;if("combine"!==X&&"first"!==X&&"last"!==X)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof ge.allowDots>"u"?!0===ge.decodeDotInKeys||ye.allowDots:!!ge.allowDots,allowEmptyArrays:"boolean"==typeof ge.allowEmptyArrays?!!ge.allowEmptyArrays:ye.allowEmptyArrays,allowPrototypes:"boolean"==typeof ge.allowPrototypes?ge.allowPrototypes:ye.allowPrototypes,allowSparse:"boolean"==typeof ge.allowSparse?ge.allowSparse:ye.allowSparse,arrayLimit:"number"==typeof ge.arrayLimit?ge.arrayLimit:ye.arrayLimit,charset:R,charsetSentinel:"boolean"==typeof ge.charsetSentinel?ge.charsetSentinel:ye.charsetSentinel,comma:"boolean"==typeof ge.comma?ge.comma:ye.comma,decodeDotInKeys:"boolean"==typeof ge.decodeDotInKeys?ge.decodeDotInKeys:ye.decodeDotInKeys,decoder:"function"==typeof ge.decoder?ge.decoder:ye.decoder,delimiter:"string"==typeof ge.delimiter||Z.isRegExp(ge.delimiter)?ge.delimiter:ye.delimiter,depth:"number"==typeof ge.depth||!1===ge.depth?+ge.depth:ye.depth,duplicates:X,ignoreQueryPrefix:!0===ge.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof ge.interpretNumericEntities?ge.interpretNumericEntities:ye.interpretNumericEntities,parameterLimit:"number"==typeof ge.parameterLimit?ge.parameterLimit:ye.parameterLimit,parseArrays:!1!==ge.parseArrays,plainObjects:"boolean"==typeof ge.plainObjects?ge.plainObjects:ye.plainObjects,strictDepth:"boolean"==typeof ge.strictDepth?!!ge.strictDepth:ye.strictDepth,strictNullHandling:"boolean"==typeof ge.strictNullHandling?ge.strictNullHandling:ye.strictNullHandling}}(ge);if(""===J||null===J||typeof J>"u")return R.plainObjects?Object.create(null):{};for(var X="string"==typeof J?function(ge,R){var le,X={__proto__:null},Q=R.ignoreQueryPrefix?ge.replace(/^\?/,""):ge,F=(Q=Q.replace(/%5B/gi,"[").replace(/%5D/gi,"]")).split(R.delimiter,R.parameterLimit===1/0?void 0:R.parameterLimit),ae=-1,Le=R.charset;if(R.charsetSentinel)for(le=0;le<F.length;++le)0===F[le].indexOf("utf8=")&&("utf8=%E2%9C%93"===F[le]?Le="utf-8":"utf8=%26%2310003%3B"===F[le]&&(Le="iso-8859-1"),ae=le,le=F.length);for(le=0;le<F.length;++le)if(le!==ae){var Ne,Ke,he=F[le],Be=he.indexOf("]="),we=-1===Be?he.indexOf("="):Be+1;-1===we?(Ne=R.decoder(he,ye.decoder,Le,"key"),Ke=R.strictNullHandling?null:""):(Ne=R.decoder(he.slice(0,we),ye.decoder,Le,"key"),Ke=Z.maybeMap(pe(he.slice(we+1),R),function(z){return R.decoder(z,ye.decoder,Le,"value")})),Ke&&R.interpretNumericEntities&&"iso-8859-1"===Le&&(Ke=Ke.replace(/&#(\d+);/g,function(ge,R){return String.fromCharCode(parseInt(R,10))})),he.indexOf("[]=")>-1&&(Ke=me(Ke)?[Ke]:Ke);var at=ee.call(X,Ne);at&&"combine"===R.duplicates?X[Ne]=Z.combine(X[Ne],Ke):(!at||"last"===R.duplicates)&&(X[Ne]=Ke)}return X}(J,R):J,Q=R.plainObjects?Object.create(null):{},G=Object.keys(X),F=0;F<G.length;++F){var ae=G[F],le=U(ae,X[ae],R,"string"==typeof J);Q=Z.merge(Q,le,R)}return!0===R.allowSparse?Q:Z.compact(Q)}},9792:(Pe,Ue,B)=>{"use strict";var Z=B(8268),ee=B(1956),me=B(3329),ye=Object.prototype.hasOwnProperty,oe={brackets:function(Q){return Q+"[]"},comma:"comma",indices:function(Q,G){return Q+"["+G+"]"},repeat:function(Q){return Q}},pe=Array.isArray,E=Array.prototype.push,N=function(X,Q){E.apply(X,pe(Q)?Q:[Q])},m=Date.prototype.toISOString,fe=me.default,U={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ee.encode,encodeValuesOnly:!1,format:fe,formatter:me.formatters[fe],indices:!1,serializeDate:function(Q){return m.call(Q)},skipNulls:!1,strictNullHandling:!1},J={},ge=function X(Q,G,F,ae,le,Le,he,Be,we,Ne,Ke,at,z,re,_e,Ge,rt,et){for(var W=Q,O=et,Ce=0,je=!1;void 0!==(O=O.get(J))&&!je;){var Ye=O.get(Q);if(Ce+=1,typeof Ye<"u"){if(Ye===Ce)throw new RangeError("Cyclic object value");je=!0}typeof O.get(J)>"u"&&(Ce=0)}if("function"==typeof Ne?W=Ne(G,W):W instanceof Date?W=z(W):"comma"===F&&pe(W)&&(W=ee.maybeMap(W,function(it){return it instanceof Date?z(it):it})),null===W){if(Le)return we&&!Ge?we(G,U.encoder,rt,"key",re):G;W=""}if(function(Q){return"string"==typeof Q||"number"==typeof Q||"boolean"==typeof Q||"symbol"==typeof Q||"bigint"==typeof Q}(W)||ee.isBuffer(W))return we?[_e(Ge?G:we(G,U.encoder,rt,"key",re))+"="+_e(we(W,U.encoder,rt,"value",re))]:[_e(G)+"="+_e(String(W))];var At,ft=[];if(typeof W>"u")return ft;if("comma"===F&&pe(W))Ge&&we&&(W=ee.maybeMap(W,we)),At=[{value:W.length>0?W.join(",")||null:void 0}];else if(pe(Ne))At=Ne;else{var Ft=Object.keys(W);At=Ke?Ft.sort(Ke):Ft}var Kt=Be?G.replace(/\./g,"%2E"):G,Bt=ae&&pe(W)&&1===W.length?Kt+"[]":Kt;if(le&&pe(W)&&0===W.length)return Bt+"[]";for(var dn=0;dn<At.length;++dn){var xn=At[dn],jn="object"==typeof xn&&typeof xn.value<"u"?xn.value:W[xn];if(!he||null!==jn){var Jt=at&&Be?xn.replace(/\./g,"%2E"):xn,tn=pe(W)?"function"==typeof F?F(Bt,Jt):Bt:Bt+(at?"."+Jt:"["+Jt+"]");et.set(Q,Ce);var Me=Z();Me.set(J,et),N(ft,X(jn,tn,F,ae,le,Le,he,Be,"comma"===F&&Ge&&pe(W)?null:we,Ne,Ke,at,z,re,_e,Ge,rt,Me))}}return ft};Pe.exports=function(X,Q){var ae,G=X,F=function(Q){if(!Q)return U;if(typeof Q.allowEmptyArrays<"u"&&"boolean"!=typeof Q.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof Q.encodeDotInKeys<"u"&&"boolean"!=typeof Q.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==Q.encoder&&typeof Q.encoder<"u"&&"function"!=typeof Q.encoder)throw new TypeError("Encoder has to be a function.");var G=Q.charset||U.charset;if(typeof Q.charset<"u"&&"utf-8"!==Q.charset&&"iso-8859-1"!==Q.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var F=me.default;if(typeof Q.format<"u"){if(!ye.call(me.formatters,Q.format))throw new TypeError("Unknown format option provided.");F=Q.format}var Le,ae=me.formatters[F],le=U.filter;if(("function"==typeof Q.filter||pe(Q.filter))&&(le=Q.filter),Le=Q.arrayFormat in oe?Q.arrayFormat:"indices"in Q?Q.indices?"indices":"repeat":U.arrayFormat,"commaRoundTrip"in Q&&"boolean"!=typeof Q.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof Q.addQueryPrefix?Q.addQueryPrefix:U.addQueryPrefix,allowDots:typeof Q.allowDots>"u"?!0===Q.encodeDotInKeys||U.allowDots:!!Q.allowDots,allowEmptyArrays:"boolean"==typeof Q.allowEmptyArrays?!!Q.allowEmptyArrays:U.allowEmptyArrays,arrayFormat:Le,charset:G,charsetSentinel:"boolean"==typeof Q.charsetSentinel?Q.charsetSentinel:U.charsetSentinel,commaRoundTrip:Q.commaRoundTrip,delimiter:typeof Q.delimiter>"u"?U.delimiter:Q.delimiter,encode:"boolean"==typeof Q.encode?Q.encode:U.encode,encodeDotInKeys:"boolean"==typeof Q.encodeDotInKeys?Q.encodeDotInKeys:U.encodeDotInKeys,encoder:"function"==typeof Q.encoder?Q.encoder:U.encoder,encodeValuesOnly:"boolean"==typeof Q.encodeValuesOnly?Q.encodeValuesOnly:U.encodeValuesOnly,filter:le,format:F,formatter:ae,serializeDate:"function"==typeof Q.serializeDate?Q.serializeDate:U.serializeDate,skipNulls:"boolean"==typeof Q.skipNulls?Q.skipNulls:U.skipNulls,sort:"function"==typeof Q.sort?Q.sort:null,strictNullHandling:"boolean"==typeof Q.strictNullHandling?Q.strictNullHandling:U.strictNullHandling}}(Q);"function"==typeof F.filter?G=(0,F.filter)("",G):pe(F.filter)&&(ae=F.filter);var Le=[];if("object"!=typeof G||null===G)return"";var he=oe[F.arrayFormat],Be="comma"===he&&F.commaRoundTrip;ae||(ae=Object.keys(G)),F.sort&&ae.sort(F.sort);for(var we=Z(),Ne=0;Ne<ae.length;++Ne){var Ke=ae[Ne];F.skipNulls&&null===G[Ke]||N(Le,ge(G[Ke],Ke,he,Be,F.allowEmptyArrays,F.strictNullHandling,F.skipNulls,F.encodeDotInKeys,F.encode?F.encoder:null,F.filter,F.sort,F.allowDots,F.serializeDate,F.format,F.formatter,F.encodeValuesOnly,F.charset,we))}var at=Le.join(F.delimiter),z=!0===F.addQueryPrefix?"?":"";return F.charsetSentinel&&(z+="iso-8859-1"===F.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),at.length>0?z+at:""}},1956:(Pe,Ue,B)=>{"use strict";var Z=B(3329),ee=Object.prototype.hasOwnProperty,me=Array.isArray,ye=function(){for(var Q=[],G=0;G<256;++G)Q.push("%"+((G<16?"0":"")+G.toString(16)).toUpperCase());return Q}(),pe=function(G,F){for(var ae=F&&F.plainObjects?Object.create(null):{},le=0;le<G.length;++le)typeof G[le]<"u"&&(ae[le]=G[le]);return ae};Pe.exports={arrayToObject:pe,assign:function(G,F){return Object.keys(F).reduce(function(ae,le){return ae[le]=F[le],ae},G)},combine:function(G,F){return[].concat(G,F)},compact:function(G){for(var F=[{obj:{o:G},prop:"o"}],ae=[],le=0;le<F.length;++le)for(var Le=F[le],he=Le.obj[Le.prop],Be=Object.keys(he),we=0;we<Be.length;++we){var Ne=Be[we],Ke=he[Ne];"object"==typeof Ke&&null!==Ke&&-1===ae.indexOf(Ke)&&(F.push({obj:he,prop:Ne}),ae.push(Ke))}return function(G){for(;G.length>1;){var F=G.pop(),ae=F.obj[F.prop];if(me(ae)){for(var le=[],Le=0;Le<ae.length;++Le)typeof ae[Le]<"u"&&le.push(ae[Le]);F.obj[F.prop]=le}}}(F),G},decode:function(Q,G,F){var ae=Q.replace(/\+/g," ");if("iso-8859-1"===F)return ae.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(ae)}catch{return ae}},encode:function(G,F,ae,le,Le){if(0===G.length)return G;var he=G;if("symbol"==typeof G?he=Symbol.prototype.toString.call(G):"string"!=typeof G&&(he=String(G)),"iso-8859-1"===ae)return escape(he).replace(/%u[0-9a-f]{4}/gi,function(re){return"%26%23"+parseInt(re.slice(2),16)+"%3B"});for(var Be="",we=0;we<he.length;we+=1024){for(var Ne=he.length>=1024?he.slice(we,we+1024):he,Ke=[],at=0;at<Ne.length;++at){var z=Ne.charCodeAt(at);45===z||46===z||95===z||126===z||z>=48&&z<=57||z>=65&&z<=90||z>=97&&z<=122||Le===Z.RFC1738&&(40===z||41===z)?Ke[Ke.length]=Ne.charAt(at):z<128?Ke[Ke.length]=ye[z]:z<2048?Ke[Ke.length]=ye[192|z>>6]+ye[128|63&z]:z<55296||z>=57344?Ke[Ke.length]=ye[224|z>>12]+ye[128|z>>6&63]+ye[128|63&z]:(z=65536+((1023&z)<<10|1023&Ne.charCodeAt(at+=1)),Ke[Ke.length]=ye[240|z>>18]+ye[128|z>>12&63]+ye[128|z>>6&63]+ye[128|63&z])}Be+=Ke.join("")}return Be},isBuffer:function(G){return!(!G||"object"!=typeof G||!(G.constructor&&G.constructor.isBuffer&&G.constructor.isBuffer(G)))},isRegExp:function(G){return"[object RegExp]"===Object.prototype.toString.call(G)},maybeMap:function(G,F){if(me(G)){for(var ae=[],le=0;le<G.length;le+=1)ae.push(F(G[le]));return ae}return F(G)},merge:function Q(G,F,ae){if(!F)return G;if("object"!=typeof F){if(me(G))G.push(F);else{if(!G||"object"!=typeof G)return[G,F];(ae&&(ae.plainObjects||ae.allowPrototypes)||!ee.call(Object.prototype,F))&&(G[F]=!0)}return G}if(!G||"object"!=typeof G)return[G].concat(F);var le=G;return me(G)&&!me(F)&&(le=pe(G,ae)),me(G)&&me(F)?(F.forEach(function(Le,he){if(ee.call(G,he)){var Be=G[he];Be&&"object"==typeof Be&&Le&&"object"==typeof Le?G[he]=Q(Be,Le,ae):G.push(Le)}else G[he]=Le}),G):Object.keys(F).reduce(function(Le,he){var Be=F[he];return Le[he]=ee.call(Le,he)?Q(Le[he],Be,ae):Be,Le},le)}}},4416:Pe=>{let Ue;Pe.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:global):B=>(Ue||(Ue=Promise.resolve())).then(B).catch(Z=>setTimeout(()=>{throw Z},0))},2593:function(Pe){Pe.exports=function(){"use strict";function Ue(R,X,Q,G,F){!function ae(le,Le,he,Be,we){for(;Be>he;){if(Be-he>600){var Ne=Be-he+1,Ke=Le-he+1,at=Math.log(Ne),z=.5*Math.exp(2*at/3),re=.5*Math.sqrt(at*z*(Ne-z)/Ne)*(Ke-Ne/2<0?-1:1);ae(le,Le,Math.max(he,Math.floor(Le-Ke*z/Ne+re)),Math.min(Be,Math.floor(Le+(Ne-Ke)*z/Ne+re)),we)}var rt=le[Le],et=he,W=Be;for(B(le,he,Le),we(le[Be],rt)>0&&B(le,he,Be);et<W;){for(B(le,et,W),et++,W--;we(le[et],rt)<0;)et++;for(;we(le[W],rt)>0;)W--}0===we(le[he],rt)?B(le,he,W):B(le,++W,Be),W<=Le&&(he=W+1),Le<=W&&(Be=W-1)}}(R,X,Q||0,G||R.length-1,F||Z)}function B(R,X,Q){var G=R[X];R[X]=R[Q],R[Q]=G}function Z(R,X){return R<X?-1:R>X?1:0}var ee=function(R){void 0===R&&(R=9),this._maxEntries=Math.max(4,R),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function me(R,X,Q){if(!Q)return X.indexOf(R);for(var G=0;G<X.length;G++)if(Q(R,X[G]))return G;return-1}function ye(R,X){oe(R,0,R.children.length,X,R)}function oe(R,X,Q,G,F){F||(F=J(null)),F.minX=1/0,F.minY=1/0,F.maxX=-1/0,F.maxY=-1/0;for(var ae=X;ae<Q;ae++){var le=R.children[ae];pe(F,R.leaf?G(le):le)}return F}function pe(R,X){return R.minX=Math.min(R.minX,X.minX),R.minY=Math.min(R.minY,X.minY),R.maxX=Math.max(R.maxX,X.maxX),R.maxY=Math.max(R.maxY,X.maxY),R}function E(R,X){return R.minX-X.minX}function N(R,X){return R.minY-X.minY}function m(R){return(R.maxX-R.minX)*(R.maxY-R.minY)}function fe(R){return R.maxX-R.minX+(R.maxY-R.minY)}function U(R,X){return R.minX<=X.minX&&R.minY<=X.minY&&X.maxX<=R.maxX&&X.maxY<=R.maxY}function Ie(R,X){return X.minX<=R.maxX&&X.minY<=R.maxY&&X.maxX>=R.minX&&X.maxY>=R.minY}function J(R){return{children:R,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ge(R,X,Q,G,F){for(var ae=[X,Q];ae.length;)if(!((Q=ae.pop())-(X=ae.pop())<=G)){var le=X+Math.ceil((Q-X)/G/2)*G;Ue(R,le,X,Q,F),ae.push(X,le,le,Q)}}return ee.prototype.all=function(){return this._all(this.data,[])},ee.prototype.search=function(R){var X=this.data,Q=[];if(!Ie(R,X))return Q;for(var G=this.toBBox,F=[];X;){for(var ae=0;ae<X.children.length;ae++){var le=X.children[ae],Le=X.leaf?G(le):le;Ie(R,Le)&&(X.leaf?Q.push(le):U(R,Le)?this._all(le,Q):F.push(le))}X=F.pop()}return Q},ee.prototype.collides=function(R){var X=this.data;if(!Ie(R,X))return!1;for(var Q=[];X;){for(var G=0;G<X.children.length;G++){var F=X.children[G],ae=X.leaf?this.toBBox(F):F;if(Ie(R,ae)){if(X.leaf||U(R,ae))return!0;Q.push(F)}}X=Q.pop()}return!1},ee.prototype.load=function(R){if(!R||!R.length)return this;if(R.length<this._minEntries){for(var X=0;X<R.length;X++)this.insert(R[X]);return this}var Q=this._build(R.slice(),0,R.length-1,0);if(this.data.children.length)if(this.data.height===Q.height)this._splitRoot(this.data,Q);else{if(this.data.height<Q.height){var G=this.data;this.data=Q,Q=G}this._insert(Q,this.data.height-Q.height-1,!0)}else this.data=Q;return this},ee.prototype.insert=function(R){return R&&this._insert(R,this.data.height-1),this},ee.prototype.clear=function(){return this.data=J([]),this},ee.prototype.remove=function(R,X){if(!R)return this;for(var Q,G,F,ae=this.data,le=this.toBBox(R),Le=[],he=[];ae||Le.length;){if(ae||(ae=Le.pop(),G=Le[Le.length-1],Q=he.pop(),F=!0),ae.leaf){var Be=me(R,ae.children,X);if(-1!==Be)return ae.children.splice(Be,1),Le.push(ae),this._condense(Le),this}F||ae.leaf||!U(ae,le)?G?(Q++,ae=G.children[Q],F=!1):ae=null:(Le.push(ae),he.push(Q),Q=0,G=ae,ae=ae.children[0])}return this},ee.prototype.toBBox=function(R){return R},ee.prototype.compareMinX=function(R,X){return R.minX-X.minX},ee.prototype.compareMinY=function(R,X){return R.minY-X.minY},ee.prototype.toJSON=function(){return this.data},ee.prototype.fromJSON=function(R){return this.data=R,this},ee.prototype._all=function(R,X){for(var Q=[];R;)R.leaf?X.push.apply(X,R.children):Q.push.apply(Q,R.children),R=Q.pop();return X},ee.prototype._build=function(R,X,Q,G){var F,ae=Q-X+1,le=this._maxEntries;if(ae<=le)return ye(F=J(R.slice(X,Q+1)),this.toBBox),F;G||(G=Math.ceil(Math.log(ae)/Math.log(le)),le=Math.ceil(ae/Math.pow(le,G-1))),(F=J([])).leaf=!1,F.height=G;var Le=Math.ceil(ae/le),he=Le*Math.ceil(Math.sqrt(le));ge(R,X,Q,he,this.compareMinX);for(var Be=X;Be<=Q;Be+=he){var we=Math.min(Be+he-1,Q);ge(R,Be,we,Le,this.compareMinY);for(var Ne=Be;Ne<=we;Ne+=Le){var Ke=Math.min(Ne+Le-1,we);F.children.push(this._build(R,Ne,Ke,G-1))}}return ye(F,this.toBBox),F},ee.prototype._chooseSubtree=function(R,X,Q,G){for(;G.push(X),!X.leaf&&G.length-1!==Q;){for(var F=1/0,ae=1/0,le=void 0,Le=0;Le<X.children.length;Le++){var he=X.children[Le],Be=m(he),we=(Ne=R,Ke=he,(Math.max(Ke.maxX,Ne.maxX)-Math.min(Ke.minX,Ne.minX))*(Math.max(Ke.maxY,Ne.maxY)-Math.min(Ke.minY,Ne.minY))-Be);we<ae?(ae=we,F=Be<F?Be:F,le=he):we===ae&&Be<F&&(F=Be,le=he)}X=le||X.children[0]}var Ne,Ke;return X},ee.prototype._insert=function(R,X,Q){var G=Q?R:this.toBBox(R),F=[],ae=this._chooseSubtree(G,this.data,X,F);for(ae.children.push(R),pe(ae,G);X>=0&&F[X].children.length>this._maxEntries;)this._split(F,X),X--;this._adjustParentBBoxes(G,F,X)},ee.prototype._split=function(R,X){var Q=R[X],G=Q.children.length,F=this._minEntries;this._chooseSplitAxis(Q,F,G);var ae=this._chooseSplitIndex(Q,F,G),le=J(Q.children.splice(ae,Q.children.length-ae));le.height=Q.height,le.leaf=Q.leaf,ye(Q,this.toBBox),ye(le,this.toBBox),X?R[X-1].children.push(le):this._splitRoot(Q,le)},ee.prototype._splitRoot=function(R,X){this.data=J([R,X]),this.data.height=R.height+1,this.data.leaf=!1,ye(this.data,this.toBBox)},ee.prototype._chooseSplitIndex=function(R,X,Q){for(var G,F,ae,le,Le,he,Be,we=1/0,Ne=1/0,Ke=X;Ke<=Q-X;Ke++){var at=oe(R,0,Ke,this.toBBox),z=oe(R,Ke,Q,this.toBBox),re=(F=at,ae=z,void 0,void 0,void 0,void 0,le=Math.max(F.minX,ae.minX),Le=Math.max(F.minY,ae.minY),he=Math.min(F.maxX,ae.maxX),Be=Math.min(F.maxY,ae.maxY),Math.max(0,he-le)*Math.max(0,Be-Le)),_e=m(at)+m(z);re<we?(we=re,G=Ke,Ne=_e<Ne?_e:Ne):re===we&&_e<Ne&&(Ne=_e,G=Ke)}return G||Q-X},ee.prototype._chooseSplitAxis=function(R,X,Q){var G=R.leaf?this.compareMinX:E,F=R.leaf?this.compareMinY:N;this._allDistMargin(R,X,Q,G)<this._allDistMargin(R,X,Q,F)&&R.children.sort(G)},ee.prototype._allDistMargin=function(R,X,Q,G){R.children.sort(G);for(var F=this.toBBox,ae=oe(R,0,X,F),le=oe(R,Q-X,Q,F),Le=fe(ae)+fe(le),he=X;he<Q-X;he++){var Be=R.children[he];pe(ae,R.leaf?F(Be):Be),Le+=fe(ae)}for(var we=Q-X-1;we>=X;we--){var Ne=R.children[we];pe(le,R.leaf?F(Ne):Ne),Le+=fe(le)}return Le},ee.prototype._adjustParentBBoxes=function(R,X,Q){for(var G=Q;G>=0;G--)pe(X[G],R)},ee.prototype._condense=function(R){for(var X=R.length-1,Q=void 0;X>=0;X--)0===R[X].children.length?X>0?(Q=R[X-1].children).splice(Q.indexOf(R[X]),1):this.clear():ye(R[X],this.toBBox)},ee}()},9423:(Pe,Ue,B)=>{"use strict";B.d(Ue,{A:()=>ee});const ee={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7}},1752:(Pe,Ue,B)=>{"use strict";B.d(Ue,{A:()=>ge});var Z=B(1322),ee=B(1308),me=B(1853),ye=B(4009),oe=B(6190),pe=B(3380),E=B(9423),N=B(9788),m=B(9535),fe=B(79),U=B(1551);function Ie(R,X,Q){return X=(0,ye.A)(X),(0,me.A)(R,J()?Reflect.construct(X,Q||[],(0,ye.A)(R).constructor):X.apply(R,Q))}function J(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J=function(){return!!R})()}var ge=function(R){function X(Q){var G;if((0,Z.A)(this,X),G=Ie(this,X,[(0,fe.E)(Q)]),(0,pe.A)(G,"termType",m.Kk),(0,pe.A)(G,"classOrder",E.A.NamedNode),!G.value)throw new Error("Missing IRI for NamedNode");if(!G.value.includes(":"))throw new Error('NamedNode IRI "'+Q+'" must be absolute.');if(G.value.includes(" "))throw new Error('Error: NamedNode IRI "'+Q+'" must not contain unencoded spaces.');return G}return(0,oe.A)(X,R),(0,ee.A)(X,[{key:"dir",value:function(){var G=this.value.split("#")[0],F=G.slice(0,-1).lastIndexOf("/"),ae=G.indexOf("//");return ae>=0&&F<ae+2||F<0?null:new X(G.slice(0,F+1))}},{key:"site",value:function(){var G=this.value.split("#")[0],F=G.indexOf("//");if(F<0)throw new Error("This URI does not have a web site part (origin)");var ae=G.indexOf("/",F+2);return new X(ae<0?G.slice(0)+"/":G.slice(0,ae+1))}},{key:"doc",value:function(){return this.value.indexOf("#")<0?this:new X(this.value.split("#")[0])}},{key:"toString",value:function(){return"<"+this.value+">"}},{key:"id",value:function(){return this.value.split("#")[1]}},{key:"uri",get:function(){return this.value},set:function(G){this.value=G}}],[{key:"fromValue",value:function(G){return typeof G>"u"||null===G||(0,U.D0)(G)?G:new X(G)}}])}(N.A)},9788:(Pe,Ue,B)=>{"use strict";B.d(Ue,{A:()=>ye});var Z=B(1322),ee=B(1308),me=B(3380),ye=function(){return(0,ee.A)(function oe(pe){(0,Z.A)(this,oe),(0,me.A)(this,"termType",void 0),(0,me.A)(this,"classOrder",void 0),(0,me.A)(this,"value",void 0),this.value=pe},[{key:"substitute",value:function(E){return this}},{key:"compareTerm",value:function(E){return this.classOrder<E.classOrder?-1:this.classOrder>E.classOrder?1:this.value<E.value?-1:this.value>E.value?1:0}},{key:"equals",value:function(E){return!!E&&this.termType===E.termType&&this.value===E.value}},{key:"hashString",value:function(){return this.toCanonical()}},{key:"sameTerm",value:function(E){return this.equals(E)}},{key:"toCanonical",value:function(){return this.toNT()}},{key:"toNT",value:function(){return this.toString()}},{key:"toNQ",value:function(){return this.toNT()}},{key:"toString",value:function(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}])}();(0,me.A)(ye,"fromValue",void 0),(0,me.A)(ye,"toJS",void 0)},9535:(Pe,Ue,B)=>{"use strict";B.d(Ue,{$Q:()=>ee,BR:()=>J,Fn:()=>G,H:()=>le,JG:()=>X,K9:()=>Q,Kk:()=>Z,MG:()=>Ie,P2:()=>ye,QW:()=>me,S:()=>E,_0:()=>ge,bD:()=>N,bM:()=>R,hu:()=>ae,i2:()=>fe,ic:()=>oe,lc:()=>m,ny:()=>U,r0:()=>pe,sT:()=>F});var Z="NamedNode",ee="BlankNode",me="Literal",ye="Variable",oe="DefaultGraph",pe="Collection",E="Empty",N="Graph",m="text/html",fe="application/ld+json",U="text/n3",Ie="application/n3",J="application/nquads",ge="application/n-quads",R="application/n-triples",X="application/rdf+xml",Q="application/sparql-update",G="application/sparql-update-single-match",F="text/turtle",ae="application/x-turtle",le="application/xhtml+xml"},9223:(Pe,Ue,B)=>{"use strict";B.d(Ue,{Kw:()=>pe,Uz:()=>R,VQ:()=>Ie,h4:()=>ge,jI:()=>N,tE:()=>ye});var Z=B(1752),ee=B(2502);function ye(F){return F=F.split(";")[0].trim(),new Z.A("http://www.w3.org/ns/iana/media-types/"+F+"#Resource")}function pe(F,ae){F.callbacks={};for(var le=ae.length-1;le>=0;le--)F.callbacks[ae[le]]=[];F.addHook=function(Le){F.callbacks[Le]||(F.callbacks[Le]=[])},F.addCallback=function(Le,he){F.callbacks[Le].push(he)},F.removeCallback=function(Le,he){for(var Be=0;Be<F.callbacks[Le].length;Be++)if(F.callbacks[Le][Be].name===he)return F.callbacks[Le].splice(Be,1),!0;return!1},F.insertCallback=function(Le,he){F.callbacks[Le].unshift(he)},F.fireCallbacks=function(he,Be){var at,z,we=[],Ne=[],Ke=F.callbacks[he].length;for(at=Ke-1;at>=0;at--)(z=F.callbacks[he][at])&&z.apply(F,Be)&&we.push(z);for(at=we.length-1;at>=0;at--)Ne.push(we[at]);for(at=Ke;at<F.callbacks[he].length;at++)Ne.push(F.callbacks[he][at]);F.callbacks[he]=Ne}}function N(F,ae){var le=[];(ae=ae||{})&&ae.selfClosing&&ae.selfClosing.split(" ").forEach(function(he){le[he]=!0});var Le=[];return ae&&ae.skipAttributes&&ae.skipAttributes.split(" ").forEach(function(he){Le[he]=!0}),m(F,ae,le,Le)}function m(F,ae,le,Le){var he,Be="",we=[!1];if(typeof F.nodeType>"u")return Be;if(1===F.nodeType){if(F.hasAttribute("class")&&ae&&ae.classWithChildText&&F.matches(ae.classWithChildText.class))Be+=F.querySelector(ae.classWithChildText.element).textContent;else if(!(ae&&ae.skipNodeWithClass&&F.matches("."+ae.skipNodeWithClass))){var Ne=F.nodeName.toLowerCase();Be+="<"+Ne;var Ke=[];for(he=F.attributes.length-1;he>=0;he--){var at=F.attributes[he];if(!(Le&&Le.length>0&&Le[at.name]||/^\d+$/.test(at.name))){if("class"===at.name&&ae&&ae.replaceClassItemWith&&at.value.split(" ").indexOf(ae.replaceClassItemWith.source)>-1){var z=new RegExp(ae.replaceClassItemWith.source,"g");at.value=at.value.replace(z,ae.replaceClassItemWith.target).trim()}"class"===at.name&&ae&&ae.skipClassWithValue&&ae.skipClassWithValue===at.value||Ke.push(at.name+"='"+at.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(Ke.length>0&&(ae&&ae.sortAttributes&&Ke.sort(function(_e,Ge){return _e.toLowerCase().localeCompare(Ge.toLowerCase())}),Be+=" "+Ke.join(" ")),le&&le.ename)Be+=" />";else{for(Be+=">",Be+="html"===Ne?"\n  ":"",we.push("style"===Ne||"script"===Ne),he=0;he<F.childNodes.length;he++)Be+=m(F.childNodes[he]);we.pop(),Be+="body"===Ne?"</"+Ne+">\n":"</"+Ne+">"}}}else if(8===F.nodeType)Be+="\x3c!--"+F.nodeValue+"--\x3e";else if(3===F.nodeType||4===F.nodeType){var re=F.nodeValue.replace(/\n+$/,"");Be+=we[we.length-1]?re:re.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+F.nodeType),console.log(F);return Be}function U(F,ae,le,Le){var he=function(Ke){return"BlankNode"===Ke.termType?null:Ke},Be=function(Ke){var at=le.statementsMatching(Ke).map(function(z){return he(z.subject)+" "+he(z.predicate)+" "+he(z.object)}).concat(le.statementsMatching(void 0,void 0,Ke).map(function(z){return he(z.subject)+" "+he(z.predicate)+" "+he(z.object)}));return at.sort(),at.join("\n")},we=Object.prototype.hasOwnProperty.call(le,"compareTerms")?le.compareTerms(F,ae):F.compareTerm(ae);return"BlankNode"===F.termType&&"BlankNode"===ae.termType?0===we?0:Be(F)>Be(ae)?1:Be(F)<Be(ae)?-1:we:Le&&F.uri&&ae.uri?(Le[F.uri]||F.uri).localeCompare(Le[ae.uri]||ae.uri):we}function Ie(F,ae,le,Le){return U(F.subject,ae.subject,le,Le)||U(F.predicate,ae.predicate,le,Le)||U(F.object,ae.object,le,Le)}function ge(F,ae){return ae=ae||{},Pe&&Pe.exports?(new ee.DOMParser).parseFromString(F,ae.contentType||"application/xhtml+xml"):(typeof window<"u"&&window.DOMParser?new window.DOMParser:new ee.DOMParser).parseFromString(F,"application/xml")}function R(F,ae){for(var le=0;le<F.length;le++)if(F[le].subject.equals(ae.subject)&&F[le].predicate.equals(ae.predicate)&&F[le].object.equals(ae.object)&&F[le].why.equals(ae.why))return void F.splice(le,1);throw new Error("RDFArrayRemove: Array did not contain "+ae+" "+ae.why)}Pe=B.hmd(Pe)},79:(Pe,Ue,B)=>{"use strict";function Z(ee){return"string"==typeof ee?ee:ee.value}B.d(Ue,{E:()=>Z})},1551:(Pe,Ue,B)=>{"use strict";B.d(Ue,{CZ:()=>E,D0:()=>fe,DJ:()=>pe,DZ:()=>m,P3:()=>oe,RN:()=>G,SH:()=>me,Y2:()=>J,aF:()=>Ie,c$:()=>U,fY:()=>N,ok:()=>ye});var Z=B(9391),ee=B(9535);function me(F){return"object"===(0,Z.A)(F)&&null!==F&&"subject"in F}function ye(F){return"object"===(0,Z.A)(F)&&null!==F&&"statements"in F}function oe(F){return fe(F)&&F.termType===ee.r0}function pe(F){return F&&Object.prototype.hasOwnProperty.call(F,"termType")&&(F.termType===ee.Kk||F.termType===ee.P2||F.termType===ee.$Q||F.termType===ee.r0||F.termType===ee.QW||F.termType===ee.bD)}function E(F){return F&&Object.prototype.hasOwnProperty.call(F,"termType")&&(F.termType===ee.Kk||F.termType===ee.P2||F.termType===ee.$Q||F.termType===ee.r0||F.termType===ee.QW||F.termType===ee.bD)}function N(F){return fe(F)&&(F.termType===ee.Kk||F.termType===ee.$Q||F.termType===ee.P2)}function m(F){return fe(F)&&F.termType===ee.P2}function fe(F){return"object"===(0,Z.A)(F)&&null!==F&&"termType"in F}function U(F){return F.termType===ee.QW}function Ie(F){return"object"===(0,Z.A)(F)&&null!==F&&"subject"in F&&"predicate"in F&&"object"in F}function J(F){return fe(F)&&"NamedNode"===F.termType}function G(F){return fe(F)&&(F.termType===ee.Kk||F.termType===ee.P2||F.termType===ee.$Q||F.termType===ee.ic)}},8868:function(Pe,Ue){var me,B=typeof self<"u"?self:this,Z=function(){function me(){this.fetch=!1,this.DOMException=B.DOMException}return me.prototype=B,new me}();me=Z,function(oe){var pe_searchParams="URLSearchParams"in me,pe_iterable="Symbol"in me&&"iterator"in Symbol,pe_blob="FileReader"in me&&"Blob"in me&&function(){try{return new Blob,!0}catch{return!1}}(),pe_formData="FormData"in me,pe_arrayBuffer="ArrayBuffer"in me;if(pe_arrayBuffer)var N=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(z){return z&&N.indexOf(Object.prototype.toString.call(z))>-1};function fe(z){if("string"!=typeof z&&(z=String(z)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(z))throw new TypeError("Invalid character in header field name");return z.toLowerCase()}function U(z){return"string"!=typeof z&&(z=String(z)),z}function Ie(z){var re={next:function(){var _e=z.shift();return{done:void 0===_e,value:_e}}};return pe_iterable&&(re[Symbol.iterator]=function(){return re}),re}function J(z){this.map={},z instanceof J?z.forEach(function(re,_e){this.append(_e,re)},this):Array.isArray(z)?z.forEach(function(re){this.append(re[0],re[1])},this):z&&Object.getOwnPropertyNames(z).forEach(function(re){this.append(re,z[re])},this)}function ge(z){if(z.bodyUsed)return Promise.reject(new TypeError("Already read"));z.bodyUsed=!0}function R(z){return new Promise(function(re,_e){z.onload=function(){re(z.result)},z.onerror=function(){_e(z.error)}})}function X(z){var re=new FileReader,_e=R(re);return re.readAsArrayBuffer(z),_e}function F(z){if(z.slice)return z.slice(0);var re=new Uint8Array(z.byteLength);return re.set(new Uint8Array(z)),re.buffer}function ae(){return this.bodyUsed=!1,this._initBody=function(z){this._bodyInit=z,z?"string"==typeof z?this._bodyText=z:pe_blob&&Blob.prototype.isPrototypeOf(z)?this._bodyBlob=z:pe_formData&&FormData.prototype.isPrototypeOf(z)?this._bodyFormData=z:pe_searchParams&&URLSearchParams.prototype.isPrototypeOf(z)?this._bodyText=z.toString():pe_arrayBuffer&&pe_blob&&function E(z){return z&&DataView.prototype.isPrototypeOf(z)}(z)?(this._bodyArrayBuffer=F(z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):pe_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(z)||m(z))?this._bodyArrayBuffer=F(z):this._bodyText=z=Object.prototype.toString.call(z):this._bodyText="",this.headers.get("content-type")||("string"==typeof z?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):pe_searchParams&&URLSearchParams.prototype.isPrototypeOf(z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},pe_blob&&(this.blob=function(){var z=ge(this);if(z)return z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ge(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(X)}),this.text=function(){var z=ge(this);if(z)return z;if(this._bodyBlob)return function Q(z){var re=new FileReader,_e=R(re);return re.readAsText(z),_e}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function G(z){for(var re=new Uint8Array(z),_e=new Array(re.length),Ge=0;Ge<re.length;Ge++)_e[Ge]=String.fromCharCode(re[Ge]);return _e.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},pe_formData&&(this.formData=function(){return this.text().then(Be)}),this.json=function(){return this.text().then(JSON.parse)},this}J.prototype.append=function(z,re){z=fe(z),re=U(re);var _e=this.map[z];this.map[z]=_e?_e+", "+re:re},J.prototype.delete=function(z){delete this.map[fe(z)]},J.prototype.get=function(z){return z=fe(z),this.has(z)?this.map[z]:null},J.prototype.has=function(z){return this.map.hasOwnProperty(fe(z))},J.prototype.set=function(z,re){this.map[fe(z)]=U(re)},J.prototype.forEach=function(z,re){for(var _e in this.map)this.map.hasOwnProperty(_e)&&z.call(re,this.map[_e],_e,this)},J.prototype.keys=function(){var z=[];return this.forEach(function(re,_e){z.push(_e)}),Ie(z)},J.prototype.values=function(){var z=[];return this.forEach(function(re){z.push(re)}),Ie(z)},J.prototype.entries=function(){var z=[];return this.forEach(function(re,_e){z.push([_e,re])}),Ie(z)},pe_iterable&&(J.prototype[Symbol.iterator]=J.prototype.entries);var le=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function he(z,re){var _e=(re=re||{}).body;if(z instanceof he){if(z.bodyUsed)throw new TypeError("Already read");this.url=z.url,this.credentials=z.credentials,re.headers||(this.headers=new J(z.headers)),this.method=z.method,this.mode=z.mode,this.signal=z.signal,!_e&&null!=z._bodyInit&&(_e=z._bodyInit,z.bodyUsed=!0)}else this.url=String(z);if(this.credentials=re.credentials||this.credentials||"same-origin",(re.headers||!this.headers)&&(this.headers=new J(re.headers)),this.method=function Le(z){var re=z.toUpperCase();return le.indexOf(re)>-1?re:z}(re.method||this.method||"GET"),this.mode=re.mode||this.mode||null,this.signal=re.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&_e)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(_e)}function Be(z){var re=new FormData;return z.trim().split("&").forEach(function(_e){if(_e){var Ge=_e.split("="),rt=Ge.shift().replace(/\+/g," "),et=Ge.join("=").replace(/\+/g," ");re.append(decodeURIComponent(rt),decodeURIComponent(et))}}),re}function we(z){var re=new J;return z.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Ge){var rt=Ge.split(":"),et=rt.shift().trim();if(et){var W=rt.join(":").trim();re.append(et,W)}}),re}function Ne(z,re){re||(re={}),this.type="default",this.status=void 0===re.status?200:re.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in re?re.statusText:"OK",this.headers=new J(re.headers),this.url=re.url||"",this._initBody(z)}he.prototype.clone=function(){return new he(this,{body:this._bodyInit})},ae.call(he.prototype),ae.call(Ne.prototype),Ne.prototype.clone=function(){return new Ne(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new J(this.headers),url:this.url})},Ne.error=function(){var z=new Ne(null,{status:0,statusText:""});return z.type="error",z};var Ke=[301,302,303,307,308];Ne.redirect=function(z,re){if(-1===Ke.indexOf(re))throw new RangeError("Invalid status code");return new Ne(null,{status:re,headers:{location:z}})},oe.DOMException=me.DOMException;try{new oe.DOMException}catch{oe.DOMException=function(re,_e){this.message=re,this.name=_e;var Ge=Error(re);this.stack=Ge.stack},oe.DOMException.prototype=Object.create(Error.prototype),oe.DOMException.prototype.constructor=oe.DOMException}function at(z,re){return new Promise(function(_e,Ge){var rt=new he(z,re);if(rt.signal&&rt.signal.aborted)return Ge(new oe.DOMException("Aborted","AbortError"));var et=new XMLHttpRequest;function W(){et.abort()}et.onload=function(){var O={status:et.status,statusText:et.statusText,headers:we(et.getAllResponseHeaders()||"")};O.url="responseURL"in et?et.responseURL:O.headers.get("X-Request-URL"),_e(new Ne("response"in et?et.response:et.responseText,O))},et.onerror=function(){Ge(new TypeError("Network request failed"))},et.ontimeout=function(){Ge(new TypeError("Network request failed"))},et.onabort=function(){Ge(new oe.DOMException("Aborted","AbortError"))},et.open(rt.method,rt.url,!0),"include"===rt.credentials?et.withCredentials=!0:"omit"===rt.credentials&&(et.withCredentials=!1),"responseType"in et&&pe_blob&&(et.responseType="blob"),rt.headers.forEach(function(O,Ce){et.setRequestHeader(Ce,O)}),rt.signal&&(rt.signal.addEventListener("abort",W),et.onreadystatechange=function(){4===et.readyState&&rt.signal.removeEventListener("abort",W)}),et.send(typeof rt._bodyInit>"u"?null:rt._bodyInit)})}at.polyfill=!0,me.fetch||(me.fetch=at,me.Headers=J,me.Request=he,me.Response=Ne),oe.Headers=J,oe.Request=he,oe.Response=Ne,oe.fetch=at,Object.defineProperty(oe,"__esModule",{value:!0})}({}),Z.fetch.ponyfill=!0,delete Z.fetch.polyfill;var ee=Z;(Ue=ee.fetch).default=ee.fetch,Ue.fetch=ee.fetch,Ue.Headers=ee.Headers,Ue.Request=ee.Request,Ue.Response=ee.Response,Pe.exports=Ue},548:(Pe,Ue,B)=>{const Z=Symbol("SemVer ANY");class ee{static get ANY(){return Z}constructor(U,Ie){if(Ie=me(Ie),U instanceof ee){if(U.loose===!!Ie.loose)return U;U=U.value}U=U.trim().split(/\s+/).join(" "),E("comparator",U,Ie),this.options=Ie,this.loose=!!Ie.loose,this.parse(U),this.value=this.semver===Z?"":this.operator+this.semver.version,E("comp",this)}parse(U){const J=U.match(this.options.loose?ye[oe.COMPARATORLOOSE]:ye[oe.COMPARATOR]);if(!J)throw new TypeError(`Invalid comparator: ${U}`);this.operator=void 0!==J[1]?J[1]:"","="===this.operator&&(this.operator=""),this.semver=J[2]?new N(J[2],this.options.loose):Z}toString(){return this.value}test(U){if(E("Comparator.test",U,this.options.loose),this.semver===Z||U===Z)return!0;if("string"==typeof U)try{U=new N(U,this.options)}catch{return!1}return pe(U,this.operator,this.semver,this.options)}intersects(U,Ie){if(!(U instanceof ee))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new m(U.value,Ie).test(this.value):""===U.operator?""===U.value||new m(this.value,Ie).test(U.semver):!((Ie=me(Ie)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===U.value)||!Ie.includePrerelease&&(this.value.startsWith("<0.0.0")||U.value.startsWith("<0.0.0"))||!(this.operator.startsWith(">")&&U.operator.startsWith(">")||this.operator.startsWith("<")&&U.operator.startsWith("<")||this.semver.version===U.semver.version&&this.operator.includes("=")&&U.operator.includes("=")||pe(this.semver,"<",U.semver,Ie)&&this.operator.startsWith(">")&&U.operator.startsWith("<")||pe(this.semver,">",U.semver,Ie)&&this.operator.startsWith("<")&&U.operator.startsWith(">")))}}Pe.exports=ee;const me=B(9879),{safeRe:ye,t:oe}=B(1666),pe=B(8323),E=B(8724),N=B(6760),m=B(9019)},9019:(Pe,Ue,B)=>{const Z=/\s+/g;class ee{constructor(Ge,rt){if(rt=oe(rt),Ge instanceof ee)return Ge.loose===!!rt.loose&&Ge.includePrerelease===!!rt.includePrerelease?Ge:new ee(Ge.raw,rt);if(Ge instanceof pe)return this.raw=Ge.value,this.set=[[Ge]],this.formatted=void 0,this;if(this.options=rt,this.loose=!!rt.loose,this.includePrerelease=!!rt.includePrerelease,this.raw=Ge.trim().replace(Z," "),this.set=this.raw.split("||").map(et=>this.parseRange(et.trim())).filter(et=>et.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const et=this.set[0];if(this.set=this.set.filter(W=>!X(W[0])),0===this.set.length)this.set=[et];else if(this.set.length>1)for(const W of this.set)if(1===W.length&&Q(W[0])){this.set=[W];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let Ge=0;Ge<this.set.length;Ge++){Ge>0&&(this.formatted+="||");const rt=this.set[Ge];for(let et=0;et<rt.length;et++)et>0&&(this.formatted+=" "),this.formatted+=rt[et].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(Ge){const et=((this.options.includePrerelease&&ge)|(this.options.loose&&R))+":"+Ge,W=ye.get(et);if(W)return W;const O=this.options.loose;Ge=Ge.replace(O?m[fe.HYPHENRANGELOOSE]:m[fe.HYPHENRANGE],z(this.options.includePrerelease)),E("hyphen replace",Ge),Ge=Ge.replace(m[fe.COMPARATORTRIM],U),E("comparator trim",Ge),Ge=Ge.replace(m[fe.TILDETRIM],Ie),E("tilde trim",Ge),Ge=Ge.replace(m[fe.CARETTRIM],J),E("caret trim",Ge);let je=Ge.split(" ").map(At=>F(At,this.options)).join(" ").split(/\s+/).map(At=>at(At,this.options));O&&(je=je.filter(At=>(E("loose invalid filter",At,this.options),!!At.match(m[fe.COMPARATORLOOSE])))),E("range list",je);const Ye=new Map,vt=je.map(At=>new pe(At,this.options));for(const At of vt){if(X(At))return[At];Ye.set(At.value,At)}Ye.size>1&&Ye.has("")&&Ye.delete("");const ft=[...Ye.values()];return ye.set(et,ft),ft}intersects(Ge,rt){if(!(Ge instanceof ee))throw new TypeError("a Range is required");return this.set.some(et=>G(et,rt)&&Ge.set.some(W=>G(W,rt)&&et.every(O=>W.every(Ce=>O.intersects(Ce,rt)))))}test(Ge){if(!Ge)return!1;if("string"==typeof Ge)try{Ge=new N(Ge,this.options)}catch{return!1}for(let rt=0;rt<this.set.length;rt++)if(re(this.set[rt],Ge,this.options))return!0;return!1}}Pe.exports=ee;const ye=new(B(5062)),oe=B(9879),pe=B(548),E=B(8724),N=B(6760),{safeRe:m,t:fe,comparatorTrimReplace:U,tildeTrimReplace:Ie,caretTrimReplace:J}=B(1666),{FLAG_INCLUDE_PRERELEASE:ge,FLAG_LOOSE:R}=B(286),X=_e=>"<0.0.0-0"===_e.value,Q=_e=>""===_e.value,G=(_e,Ge)=>{let rt=!0;const et=_e.slice();let W=et.pop();for(;rt&&et.length;)rt=et.every(O=>W.intersects(O,Ge)),W=et.pop();return rt},F=(_e,Ge)=>(E("comp",_e,Ge),_e=he(_e,Ge),E("caret",_e),_e=le(_e,Ge),E("tildes",_e),_e=we(_e,Ge),E("xrange",_e),_e=Ke(_e,Ge),E("stars",_e),_e),ae=_e=>!_e||"x"===_e.toLowerCase()||"*"===_e,le=(_e,Ge)=>_e.trim().split(/\s+/).map(rt=>Le(rt,Ge)).join(" "),Le=(_e,Ge)=>_e.replace(Ge.loose?m[fe.TILDELOOSE]:m[fe.TILDE],(et,W,O,Ce,je)=>{let Ye;return E("tilde",_e,et,W,O,Ce,je),ae(W)?Ye="":ae(O)?Ye=`>=${W}.0.0 <${+W+1}.0.0-0`:ae(Ce)?Ye=`>=${W}.${O}.0 <${W}.${+O+1}.0-0`:je?(E("replaceTilde pr",je),Ye=`>=${W}.${O}.${Ce}-${je} <${W}.${+O+1}.0-0`):Ye=`>=${W}.${O}.${Ce} <${W}.${+O+1}.0-0`,E("tilde return",Ye),Ye}),he=(_e,Ge)=>_e.trim().split(/\s+/).map(rt=>Be(rt,Ge)).join(" "),Be=(_e,Ge)=>{E("caret",_e,Ge);const et=Ge.includePrerelease?"-0":"";return _e.replace(Ge.loose?m[fe.CARETLOOSE]:m[fe.CARET],(W,O,Ce,je,Ye)=>{let vt;return E("caret",_e,W,O,Ce,je,Ye),ae(O)?vt="":ae(Ce)?vt=`>=${O}.0.0${et} <${+O+1}.0.0-0`:ae(je)?vt="0"===O?`>=${O}.${Ce}.0${et} <${O}.${+Ce+1}.0-0`:`>=${O}.${Ce}.0${et} <${+O+1}.0.0-0`:Ye?(E("replaceCaret pr",Ye),vt="0"===O?"0"===Ce?`>=${O}.${Ce}.${je}-${Ye} <${O}.${Ce}.${+je+1}-0`:`>=${O}.${Ce}.${je}-${Ye} <${O}.${+Ce+1}.0-0`:`>=${O}.${Ce}.${je}-${Ye} <${+O+1}.0.0-0`):(E("no pr"),vt="0"===O?"0"===Ce?`>=${O}.${Ce}.${je}${et} <${O}.${Ce}.${+je+1}-0`:`>=${O}.${Ce}.${je}${et} <${O}.${+Ce+1}.0-0`:`>=${O}.${Ce}.${je} <${+O+1}.0.0-0`),E("caret return",vt),vt})},we=(_e,Ge)=>(E("replaceXRanges",_e,Ge),_e.split(/\s+/).map(rt=>Ne(rt,Ge)).join(" ")),Ne=(_e,Ge)=>(_e=_e.trim()).replace(Ge.loose?m[fe.XRANGELOOSE]:m[fe.XRANGE],(et,W,O,Ce,je,Ye)=>{E("xRange",_e,et,W,O,Ce,je,Ye);const vt=ae(O),ft=vt||ae(Ce),At=ft||ae(je);return"="===W&&At&&(W=""),Ye=Ge.includePrerelease?"-0":"",vt?et=">"===W||"<"===W?"<0.0.0-0":"*":W&&At?(ft&&(Ce=0),je=0,">"===W?(W=">=",ft?(O=+O+1,Ce=0,je=0):(Ce=+Ce+1,je=0)):"<="===W&&(W="<",ft?O=+O+1:Ce=+Ce+1),"<"===W&&(Ye="-0"),et=`${W+O}.${Ce}.${je}${Ye}`):ft?et=`>=${O}.0.0${Ye} <${+O+1}.0.0-0`:At&&(et=`>=${O}.${Ce}.0${Ye} <${O}.${+Ce+1}.0-0`),E("xRange return",et),et}),Ke=(_e,Ge)=>(E("replaceStars",_e,Ge),_e.trim().replace(m[fe.STAR],"")),at=(_e,Ge)=>(E("replaceGTE0",_e,Ge),_e.trim().replace(m[Ge.includePrerelease?fe.GTE0PRE:fe.GTE0],"")),z=_e=>(Ge,rt,et,W,O,Ce,je,Ye,vt,ft,At,Ft)=>`${rt=ae(et)?"":ae(W)?`>=${et}.0.0${_e?"-0":""}`:ae(O)?`>=${et}.${W}.0${_e?"-0":""}`:Ce?`>=${rt}`:`>=${rt}${_e?"-0":""}`} ${Ye=ae(vt)?"":ae(ft)?`<${+vt+1}.0.0-0`:ae(At)?`<${vt}.${+ft+1}.0-0`:Ft?`<=${vt}.${ft}.${At}-${Ft}`:_e?`<${vt}.${ft}.${+At+1}-0`:`<=${Ye}`}`.trim(),re=(_e,Ge,rt)=>{for(let et=0;et<_e.length;et++)if(!_e[et].test(Ge))return!1;if(Ge.prerelease.length&&!rt.includePrerelease){for(let et=0;et<_e.length;et++)if(E(_e[et].semver),_e[et].semver!==pe.ANY&&_e[et].semver.prerelease.length>0){const W=_e[et].semver;if(W.major===Ge.major&&W.minor===Ge.minor&&W.patch===Ge.patch)return!0}return!1}return!0}},6760:(Pe,Ue,B)=>{const Z=B(8724),{MAX_LENGTH:ee,MAX_SAFE_INTEGER:me}=B(286),{safeRe:ye,t:oe}=B(1666),pe=B(9879),{compareIdentifiers:E}=B(8911);class N{constructor(fe,U){if(U=pe(U),fe instanceof N){if(fe.loose===!!U.loose&&fe.includePrerelease===!!U.includePrerelease)return fe;fe=fe.version}else if("string"!=typeof fe)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof fe}".`);if(fe.length>ee)throw new TypeError(`version is longer than ${ee} characters`);Z("SemVer",fe,U),this.options=U,this.loose=!!U.loose,this.includePrerelease=!!U.includePrerelease;const Ie=fe.trim().match(U.loose?ye[oe.LOOSE]:ye[oe.FULL]);if(!Ie)throw new TypeError(`Invalid Version: ${fe}`);if(this.raw=fe,this.major=+Ie[1],this.minor=+Ie[2],this.patch=+Ie[3],this.major>me||this.major<0)throw new TypeError("Invalid major version");if(this.minor>me||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>me||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=Ie[4]?Ie[4].split(".").map(J=>{if(/^[0-9]+$/.test(J)){const ge=+J;if(ge>=0&&ge<me)return ge}return J}):[],this.build=Ie[5]?Ie[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(fe){if(Z("SemVer.compare",this.version,this.options,fe),!(fe instanceof N)){if("string"==typeof fe&&fe===this.version)return 0;fe=new N(fe,this.options)}return fe.version===this.version?0:this.compareMain(fe)||this.comparePre(fe)}compareMain(fe){return fe instanceof N||(fe=new N(fe,this.options)),E(this.major,fe.major)||E(this.minor,fe.minor)||E(this.patch,fe.patch)}comparePre(fe){if(fe instanceof N||(fe=new N(fe,this.options)),this.prerelease.length&&!fe.prerelease.length)return-1;if(!this.prerelease.length&&fe.prerelease.length)return 1;if(!this.prerelease.length&&!fe.prerelease.length)return 0;let U=0;do{const Ie=this.prerelease[U],J=fe.prerelease[U];if(Z("prerelease compare",U,Ie,J),void 0===Ie&&void 0===J)return 0;if(void 0===J)return 1;if(void 0===Ie)return-1;if(Ie!==J)return E(Ie,J)}while(++U)}compareBuild(fe){fe instanceof N||(fe=new N(fe,this.options));let U=0;do{const Ie=this.build[U],J=fe.build[U];if(Z("build compare",U,Ie,J),void 0===Ie&&void 0===J)return 0;if(void 0===J)return 1;if(void 0===Ie)return-1;if(Ie!==J)return E(Ie,J)}while(++U)}inc(fe,U,Ie){switch(fe){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",U,Ie);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",U,Ie);break;case"prepatch":this.prerelease.length=0,this.inc("patch",U,Ie),this.inc("pre",U,Ie);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",U,Ie),this.inc("pre",U,Ie);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const J=Number(Ie)?1:0;if(!U&&!1===Ie)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[J];else{let ge=this.prerelease.length;for(;--ge>=0;)"number"==typeof this.prerelease[ge]&&(this.prerelease[ge]++,ge=-2);if(-1===ge){if(U===this.prerelease.join(".")&&!1===Ie)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(J)}}if(U){let ge=[U,J];!1===Ie&&(ge=[U]),0===E(this.prerelease[0],U)?isNaN(this.prerelease[1])&&(this.prerelease=ge):this.prerelease=ge}break}default:throw new Error(`invalid increment argument: ${fe}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}Pe.exports=N},826:(Pe,Ue,B)=>{const Z=B(132);Pe.exports=(me,ye)=>{const oe=Z(me.trim().replace(/^[=v]+/,""),ye);return oe?oe.version:null}},8323:(Pe,Ue,B)=>{const Z=B(3741),ee=B(3787),me=B(16),ye=B(7293),oe=B(7431),pe=B(4068);Pe.exports=(N,m,fe,U)=>{switch(m){case"===":return"object"==typeof N&&(N=N.version),"object"==typeof fe&&(fe=fe.version),N===fe;case"!==":return"object"==typeof N&&(N=N.version),"object"==typeof fe&&(fe=fe.version),N!==fe;case"":case"=":case"==":return Z(N,fe,U);case"!=":return ee(N,fe,U);case">":return me(N,fe,U);case">=":return ye(N,fe,U);case"<":return oe(N,fe,U);case"<=":return pe(N,fe,U);default:throw new TypeError(`Invalid operator: ${m}`)}}},726:(Pe,Ue,B)=>{const Z=B(6760),ee=B(132),{safeRe:me,t:ye}=B(1666);Pe.exports=(pe,E)=>{if(pe instanceof Z)return pe;if("number"==typeof pe&&(pe=String(pe)),"string"!=typeof pe)return null;let N=null;if((E=E||{}).rtl){const ge=E.includePrerelease?me[ye.COERCERTLFULL]:me[ye.COERCERTL];let R;for(;(R=ge.exec(pe))&&(!N||N.index+N[0].length!==pe.length);)(!N||R.index+R[0].length!==N.index+N[0].length)&&(N=R),ge.lastIndex=R.index+R[1].length+R[2].length;ge.lastIndex=-1}else N=pe.match(E.includePrerelease?me[ye.COERCEFULL]:me[ye.COERCE]);return null===N?null:ee(`${N[2]}.${N[3]||"0"}.${N[4]||"0"}${E.includePrerelease&&N[5]?`-${N[5]}`:""}${E.includePrerelease&&N[6]?`+${N[6]}`:""}`,E)}},4897:(Pe,Ue,B)=>{const Z=B(6760);Pe.exports=(me,ye,oe)=>{const pe=new Z(me,oe),E=new Z(ye,oe);return pe.compare(E)||pe.compareBuild(E)}},8959:(Pe,Ue,B)=>{const Z=B(2148);Pe.exports=(me,ye)=>Z(me,ye,!0)},2148:(Pe,Ue,B)=>{const Z=B(6760);Pe.exports=(me,ye,oe)=>new Z(me,oe).compare(new Z(ye,oe))},948:(Pe,Ue,B)=>{const Z=B(132);Pe.exports=(me,ye)=>{const oe=Z(me,null,!0),pe=Z(ye,null,!0),E=oe.compare(pe);if(0===E)return null;const N=E>0,m=N?oe:pe,fe=N?pe:oe,U=!!m.prerelease.length;if(fe.prerelease.length&&!U)return fe.patch||fe.minor?m.patch?"patch":m.minor?"minor":"major":"major";const J=U?"pre":"";return oe.major!==pe.major?J+"major":oe.minor!==pe.minor?J+"minor":oe.patch!==pe.patch?J+"patch":"prerelease"}},3741:(Pe,Ue,B)=>{const Z=B(2148);Pe.exports=(me,ye,oe)=>0===Z(me,ye,oe)},16:(Pe,Ue,B)=>{const Z=B(2148);Pe.exports=(me,ye,oe)=>Z(me,ye,oe)>0},7293:(Pe,Ue,B)=>{const Z=B(2148);Pe.exports=(me,ye,oe)=>Z(me,ye,oe)>=0},4275:(Pe,Ue,B)=>{const Z=B(6760);Pe.exports=(me,ye,oe,pe,E)=>{"string"==typeof oe&&(E=pe,pe=oe,oe=void 0);try{return new Z(me instanceof Z?me.version:me,oe).inc(ye,pe,E).version}catch{return null}}},7431:(Pe,Ue,B)=>{const Z=B(2148);Pe.exports=(me,ye,oe)=>Z(me,ye,oe)<0},4068:(Pe,Ue,B)=>{const Z=B(2148);Pe.exports=(me,ye,oe)=>Z(me,ye,oe)<=0},998:(Pe,Ue,B)=>{const Z=B(6760);Pe.exports=(me,ye)=>new Z(me,ye).major},1058:(Pe,Ue,B)=>{const Z=B(6760);Pe.exports=(me,ye)=>new Z(me,ye).minor},3787:(Pe,Ue,B)=>{const Z=B(2148);Pe.exports=(me,ye,oe)=>0!==Z(me,ye,oe)},132:(Pe,Ue,B)=>{const Z=B(6760);Pe.exports=(me,ye,oe=!1)=>{if(me instanceof Z)return me;try{return new Z(me,ye)}catch(pe){if(!oe)return null;throw pe}}},3025:(Pe,Ue,B)=>{const Z=B(6760);Pe.exports=(me,ye)=>new Z(me,ye).patch},4317:(Pe,Ue,B)=>{const Z=B(132);Pe.exports=(me,ye)=>{const oe=Z(me,ye);return oe&&oe.prerelease.length?oe.prerelease:null}},3998:(Pe,Ue,B)=>{const Z=B(2148);Pe.exports=(me,ye,oe)=>Z(ye,me,oe)},6065:(Pe,Ue,B)=>{const Z=B(4897);Pe.exports=(me,ye)=>me.sort((oe,pe)=>Z(pe,oe,ye))},2314:(Pe,Ue,B)=>{const Z=B(9019);Pe.exports=(me,ye,oe)=>{try{ye=new Z(ye,oe)}catch{return!1}return ye.test(me)}},3099:(Pe,Ue,B)=>{const Z=B(4897);Pe.exports=(me,ye)=>me.sort((oe,pe)=>Z(oe,pe,ye))},5757:(Pe,Ue,B)=>{const Z=B(132);Pe.exports=(me,ye)=>{const oe=Z(me,ye);return oe?oe.version:null}},5585:(Pe,Ue,B)=>{const Z=B(1666),ee=B(286),me=B(6760),ye=B(8911),oe=B(132),pe=B(5757),E=B(826),N=B(4275),m=B(948),fe=B(998),U=B(1058),Ie=B(3025),J=B(4317),ge=B(2148),R=B(3998),X=B(8959),Q=B(4897),G=B(3099),F=B(6065),ae=B(16),le=B(7431),Le=B(3741),he=B(3787),Be=B(7293),we=B(4068),Ne=B(8323),Ke=B(726),at=B(548),z=B(9019),re=B(2314),_e=B(9483),Ge=B(672),rt=B(4298),et=B(8241),W=B(7894),O=B(5783),Ce=B(3407),je=B(3818),Ye=B(4216),vt=B(297),ft=B(8836);Pe.exports={parse:oe,valid:pe,clean:E,inc:N,diff:m,major:fe,minor:U,patch:Ie,prerelease:J,compare:ge,rcompare:R,compareLoose:X,compareBuild:Q,sort:G,rsort:F,gt:ae,lt:le,eq:Le,neq:he,gte:Be,lte:we,cmp:Ne,coerce:Ke,Comparator:at,Range:z,satisfies:re,toComparators:_e,maxSatisfying:Ge,minSatisfying:rt,minVersion:et,validRange:W,outside:O,gtr:Ce,ltr:je,intersects:Ye,simplifyRange:vt,subset:ft,SemVer:me,re:Z.re,src:Z.src,tokens:Z.t,SEMVER_SPEC_VERSION:ee.SEMVER_SPEC_VERSION,RELEASE_TYPES:ee.RELEASE_TYPES,compareIdentifiers:ye.compareIdentifiers,rcompareIdentifiers:ye.rcompareIdentifiers}},286:Pe=>{Pe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},8724:Pe=>{const Ue="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...B)=>console.error("SEMVER",...B):()=>{};Pe.exports=Ue},8911:Pe=>{const Ue=/^[0-9]+$/,B=(ee,me)=>{const ye=Ue.test(ee),oe=Ue.test(me);return ye&&oe&&(ee=+ee,me=+me),ee===me?0:ye&&!oe?-1:oe&&!ye?1:ee<me?-1:1};Pe.exports={compareIdentifiers:B,rcompareIdentifiers:(ee,me)=>B(me,ee)}},5062:Pe=>{Pe.exports=class Ue{constructor(){this.max=1e3,this.map=new Map}get(Z){const ee=this.map.get(Z);if(void 0!==ee)return this.map.delete(Z),this.map.set(Z,ee),ee}delete(Z){return this.map.delete(Z)}set(Z,ee){if(!this.delete(Z)&&void 0!==ee){if(this.map.size>=this.max){const ye=this.map.keys().next().value;this.delete(ye)}this.map.set(Z,ee)}return this}}},9879:Pe=>{const Ue=Object.freeze({loose:!0}),B=Object.freeze({});Pe.exports=ee=>ee?"object"!=typeof ee?Ue:ee:B},1666:(Pe,Ue,B)=>{const{MAX_SAFE_COMPONENT_LENGTH:Z,MAX_SAFE_BUILD_LENGTH:ee,MAX_LENGTH:me}=B(286),ye=B(8724),oe=(Ue=Pe.exports={}).re=[],pe=Ue.safeRe=[],E=Ue.src=[],N=Ue.t={};let m=0;const fe="[a-zA-Z0-9-]",U=[["\\s",1],["\\d",me],[fe,ee]],J=(ge,R,X)=>{const Q=(ge=>{for(const[R,X]of U)ge=ge.split(`${R}*`).join(`${R}{0,${X}}`).split(`${R}+`).join(`${R}{1,${X}}`);return ge})(R),G=m++;ye(ge,G,R),N[ge]=G,E[G]=R,oe[G]=new RegExp(R,X?"g":void 0),pe[G]=new RegExp(Q,X?"g":void 0)};J("NUMERICIDENTIFIER","0|[1-9]\\d*"),J("NUMERICIDENTIFIERLOOSE","\\d+"),J("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${fe}*`),J("MAINVERSION",`(${E[N.NUMERICIDENTIFIER]})\\.(${E[N.NUMERICIDENTIFIER]})\\.(${E[N.NUMERICIDENTIFIER]})`),J("MAINVERSIONLOOSE",`(${E[N.NUMERICIDENTIFIERLOOSE]})\\.(${E[N.NUMERICIDENTIFIERLOOSE]})\\.(${E[N.NUMERICIDENTIFIERLOOSE]})`),J("PRERELEASEIDENTIFIER",`(?:${E[N.NUMERICIDENTIFIER]}|${E[N.NONNUMERICIDENTIFIER]})`),J("PRERELEASEIDENTIFIERLOOSE",`(?:${E[N.NUMERICIDENTIFIERLOOSE]}|${E[N.NONNUMERICIDENTIFIER]})`),J("PRERELEASE",`(?:-(${E[N.PRERELEASEIDENTIFIER]}(?:\\.${E[N.PRERELEASEIDENTIFIER]})*))`),J("PRERELEASELOOSE",`(?:-?(${E[N.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${E[N.PRERELEASEIDENTIFIERLOOSE]})*))`),J("BUILDIDENTIFIER",`${fe}+`),J("BUILD",`(?:\\+(${E[N.BUILDIDENTIFIER]}(?:\\.${E[N.BUILDIDENTIFIER]})*))`),J("FULLPLAIN",`v?${E[N.MAINVERSION]}${E[N.PRERELEASE]}?${E[N.BUILD]}?`),J("FULL",`^${E[N.FULLPLAIN]}$`),J("LOOSEPLAIN",`[v=\\s]*${E[N.MAINVERSIONLOOSE]}${E[N.PRERELEASELOOSE]}?${E[N.BUILD]}?`),J("LOOSE",`^${E[N.LOOSEPLAIN]}$`),J("GTLT","((?:<|>)?=?)"),J("XRANGEIDENTIFIERLOOSE",`${E[N.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),J("XRANGEIDENTIFIER",`${E[N.NUMERICIDENTIFIER]}|x|X|\\*`),J("XRANGEPLAIN",`[v=\\s]*(${E[N.XRANGEIDENTIFIER]})(?:\\.(${E[N.XRANGEIDENTIFIER]})(?:\\.(${E[N.XRANGEIDENTIFIER]})(?:${E[N.PRERELEASE]})?${E[N.BUILD]}?)?)?`),J("XRANGEPLAINLOOSE",`[v=\\s]*(${E[N.XRANGEIDENTIFIERLOOSE]})(?:\\.(${E[N.XRANGEIDENTIFIERLOOSE]})(?:\\.(${E[N.XRANGEIDENTIFIERLOOSE]})(?:${E[N.PRERELEASELOOSE]})?${E[N.BUILD]}?)?)?`),J("XRANGE",`^${E[N.GTLT]}\\s*${E[N.XRANGEPLAIN]}$`),J("XRANGELOOSE",`^${E[N.GTLT]}\\s*${E[N.XRANGEPLAINLOOSE]}$`),J("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Z}})(?:\\.(\\d{1,${Z}}))?(?:\\.(\\d{1,${Z}}))?`),J("COERCE",`${E[N.COERCEPLAIN]}(?:$|[^\\d])`),J("COERCEFULL",E[N.COERCEPLAIN]+`(?:${E[N.PRERELEASE]})?(?:${E[N.BUILD]})?(?:$|[^\\d])`),J("COERCERTL",E[N.COERCE],!0),J("COERCERTLFULL",E[N.COERCEFULL],!0),J("LONETILDE","(?:~>?)"),J("TILDETRIM",`(\\s*)${E[N.LONETILDE]}\\s+`,!0),Ue.tildeTrimReplace="$1~",J("TILDE",`^${E[N.LONETILDE]}${E[N.XRANGEPLAIN]}$`),J("TILDELOOSE",`^${E[N.LONETILDE]}${E[N.XRANGEPLAINLOOSE]}$`),J("LONECARET","(?:\\^)"),J("CARETTRIM",`(\\s*)${E[N.LONECARET]}\\s+`,!0),Ue.caretTrimReplace="$1^",J("CARET",`^${E[N.LONECARET]}${E[N.XRANGEPLAIN]}$`),J("CARETLOOSE",`^${E[N.LONECARET]}${E[N.XRANGEPLAINLOOSE]}$`),J("COMPARATORLOOSE",`^${E[N.GTLT]}\\s*(${E[N.LOOSEPLAIN]})$|^$`),J("COMPARATOR",`^${E[N.GTLT]}\\s*(${E[N.FULLPLAIN]})$|^$`),J("COMPARATORTRIM",`(\\s*)${E[N.GTLT]}\\s*(${E[N.LOOSEPLAIN]}|${E[N.XRANGEPLAIN]})`,!0),Ue.comparatorTrimReplace="$1$2$3",J("HYPHENRANGE",`^\\s*(${E[N.XRANGEPLAIN]})\\s+-\\s+(${E[N.XRANGEPLAIN]})\\s*$`),J("HYPHENRANGELOOSE",`^\\s*(${E[N.XRANGEPLAINLOOSE]})\\s+-\\s+(${E[N.XRANGEPLAINLOOSE]})\\s*$`),J("STAR","(<|>)?=?\\s*\\*"),J("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),J("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},3407:(Pe,Ue,B)=>{const Z=B(5783);Pe.exports=(me,ye,oe)=>Z(me,ye,">",oe)},4216:(Pe,Ue,B)=>{const Z=B(9019);Pe.exports=(me,ye,oe)=>(me=new Z(me,oe),ye=new Z(ye,oe),me.intersects(ye,oe))},3818:(Pe,Ue,B)=>{const Z=B(5783);Pe.exports=(me,ye,oe)=>Z(me,ye,"<",oe)},672:(Pe,Ue,B)=>{const Z=B(6760),ee=B(9019);Pe.exports=(ye,oe,pe)=>{let E=null,N=null,m=null;try{m=new ee(oe,pe)}catch{return null}return ye.forEach(fe=>{m.test(fe)&&(!E||-1===N.compare(fe))&&(E=fe,N=new Z(E,pe))}),E}},4298:(Pe,Ue,B)=>{const Z=B(6760),ee=B(9019);Pe.exports=(ye,oe,pe)=>{let E=null,N=null,m=null;try{m=new ee(oe,pe)}catch{return null}return ye.forEach(fe=>{m.test(fe)&&(!E||1===N.compare(fe))&&(E=fe,N=new Z(E,pe))}),E}},8241:(Pe,Ue,B)=>{const Z=B(6760),ee=B(9019),me=B(16);Pe.exports=(oe,pe)=>{oe=new ee(oe,pe);let E=new Z("0.0.0");if(oe.test(E)||(E=new Z("0.0.0-0"),oe.test(E)))return E;E=null;for(let N=0;N<oe.set.length;++N){let fe=null;oe.set[N].forEach(U=>{const Ie=new Z(U.semver.version);switch(U.operator){case">":0===Ie.prerelease.length?Ie.patch++:Ie.prerelease.push(0),Ie.raw=Ie.format();case"":case">=":(!fe||me(Ie,fe))&&(fe=Ie);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${U.operator}`)}}),fe&&(!E||me(E,fe))&&(E=fe)}return E&&oe.test(E)?E:null}},5783:(Pe,Ue,B)=>{const Z=B(6760),ee=B(548),{ANY:me}=ee,ye=B(9019),oe=B(2314),pe=B(16),E=B(7431),N=B(4068),m=B(7293);Pe.exports=(U,Ie,J,ge)=>{let R,X,Q,G,F;switch(U=new Z(U,ge),Ie=new ye(Ie,ge),J){case">":R=pe,X=N,Q=E,G=">",F=">=";break;case"<":R=E,X=m,Q=pe,G="<",F="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(oe(U,Ie,ge))return!1;for(let ae=0;ae<Ie.set.length;++ae){let Le=null,he=null;if(Ie.set[ae].forEach(Be=>{Be.semver===me&&(Be=new ee(">=0.0.0")),Le=Le||Be,he=he||Be,R(Be.semver,Le.semver,ge)?Le=Be:Q(Be.semver,he.semver,ge)&&(he=Be)}),Le.operator===G||Le.operator===F||(!he.operator||he.operator===G)&&X(U,he.semver))return!1;if(he.operator===F&&Q(U,he.semver))return!1}return!0}},297:(Pe,Ue,B)=>{const Z=B(2314),ee=B(2148);Pe.exports=(me,ye,oe)=>{const pe=[];let E=null,N=null;const m=me.sort((J,ge)=>ee(J,ge,oe));for(const J of m)Z(J,ye,oe)?(N=J,E||(E=J)):(N&&pe.push([E,N]),N=null,E=null);E&&pe.push([E,null]);const fe=[];for(const[J,ge]of pe)fe.push(J===ge?J:ge||J!==m[0]?ge?J===m[0]?`<=${ge}`:`${J} - ${ge}`:`>=${J}`:"*");const U=fe.join(" || "),Ie="string"==typeof ye.raw?ye.raw:String(ye);return U.length<Ie.length?U:ye}},8836:(Pe,Ue,B)=>{const Z=B(9019),ee=B(548),{ANY:me}=ee,ye=B(2314),oe=B(2148),E=[new ee(">=0.0.0-0")],N=[new ee(">=0.0.0")],m=(Ie,J,ge)=>{if(Ie===J)return!0;if(1===Ie.length&&Ie[0].semver===me){if(1===J.length&&J[0].semver===me)return!0;Ie=ge.includePrerelease?E:N}if(1===J.length&&J[0].semver===me){if(ge.includePrerelease)return!0;J=N}const R=new Set;let X,Q,G;for(const we of Ie)">"===we.operator||">="===we.operator?X=fe(X,we,ge):"<"===we.operator||"<="===we.operator?Q=U(Q,we,ge):R.add(we.semver);if(R.size>1)return null;if(X&&Q){if(G=oe(X.semver,Q.semver,ge),G>0)return null;if(0===G&&(">="!==X.operator||"<="!==Q.operator))return null}for(const we of R){if(X&&!ye(we,String(X),ge)||Q&&!ye(we,String(Q),ge))return null;for(const Ne of J)if(!ye(we,String(Ne),ge))return!1;return!0}let F,ae,le,Le,he=!(!Q||ge.includePrerelease||!Q.semver.prerelease.length)&&Q.semver,Be=!(!X||ge.includePrerelease||!X.semver.prerelease.length)&&X.semver;he&&1===he.prerelease.length&&"<"===Q.operator&&0===he.prerelease[0]&&(he=!1);for(const we of J){if(Le=Le||">"===we.operator||">="===we.operator,le=le||"<"===we.operator||"<="===we.operator,X)if(Be&&we.semver.prerelease&&we.semver.prerelease.length&&we.semver.major===Be.major&&we.semver.minor===Be.minor&&we.semver.patch===Be.patch&&(Be=!1),">"===we.operator||">="===we.operator){if(F=fe(X,we,ge),F===we&&F!==X)return!1}else if(">="===X.operator&&!ye(X.semver,String(we),ge))return!1;if(Q)if(he&&we.semver.prerelease&&we.semver.prerelease.length&&we.semver.major===he.major&&we.semver.minor===he.minor&&we.semver.patch===he.patch&&(he=!1),"<"===we.operator||"<="===we.operator){if(ae=U(Q,we,ge),ae===we&&ae!==Q)return!1}else if("<="===Q.operator&&!ye(Q.semver,String(we),ge))return!1;if(!we.operator&&(Q||X)&&0!==G)return!1}return!(X&&le&&!Q&&0!==G||Q&&Le&&!X&&0!==G||Be||he)},fe=(Ie,J,ge)=>{if(!Ie)return J;const R=oe(Ie.semver,J.semver,ge);return R>0?Ie:R<0||">"===J.operator&&">="===Ie.operator?J:Ie},U=(Ie,J,ge)=>{if(!Ie)return J;const R=oe(Ie.semver,J.semver,ge);return R<0?Ie:R>0||"<"===J.operator&&"<="===Ie.operator?J:Ie};Pe.exports=(Ie,J,ge={})=>{if(Ie===J)return!0;Ie=new Z(Ie,ge),J=new Z(J,ge);let R=!1;e:for(const X of Ie.set){for(const Q of J.set){const G=m(X,Q,ge);if(R=R||null!==G,G)continue e}if(R)return!1}return!0}},9483:(Pe,Ue,B)=>{const Z=B(9019);Pe.exports=(me,ye)=>new Z(me,ye).set.map(oe=>oe.map(pe=>pe.value).join(" ").trim().split(" "))},7894:(Pe,Ue,B)=>{const Z=B(9019);Pe.exports=(me,ye)=>{try{return new Z(me,ye).range||"*"}catch{return null}}},3591:(Pe,Ue,B)=>{"use strict";var Z=B(9711),ee=B(9327),me=function(N,m,fe){for(var Ie,U=N;null!=(Ie=U.next);U=Ie)if(Ie.key===m)return U.next=Ie.next,fe||(Ie.next=N.next,N.next=Ie),Ie};Pe.exports=function(){var m,fe={assert:function(U){if(!fe.has(U))throw new ee("Side channel does not contain "+Z(U))},delete:function(U){var Ie=m&&m.next,J=function(N,m){if(N)return me(N,m,!0)}(m,U);return J&&Ie&&Ie===J&&(m=void 0),!!J},get:function(U){return function(N,m){if(N){var fe=me(N,m);return fe&&fe.value}}(m,U)},has:function(U){return function(N,m){return!!N&&!!me(N,m)}(m,U)},set:function(U,Ie){m||(m={next:void 0}),function(N,m,fe){var U=me(N,m);U?U.value=fe:N.next={key:m,next:N.next,value:fe}}(m,U,Ie)}};return fe}},6591:(Pe,Ue,B)=>{"use strict";var Z=B(9249),ee=B(448),me=B(9711),ye=B(9327),oe=Z("%Map%",!0),pe=ee("Map.prototype.get",!0),E=ee("Map.prototype.set",!0),N=ee("Map.prototype.has",!0),m=ee("Map.prototype.delete",!0),fe=ee("Map.prototype.size",!0);Pe.exports=!!oe&&function(){var Ie,J={assert:function(ge){if(!J.has(ge))throw new ye("Side channel does not contain "+me(ge))},delete:function(ge){if(Ie){var R=m(Ie,ge);return 0===fe(Ie)&&(Ie=void 0),R}return!1},get:function(ge){if(Ie)return pe(Ie,ge)},has:function(ge){return!!Ie&&N(Ie,ge)},set:function(ge,R){Ie||(Ie=new oe),E(Ie,ge,R)}};return J}},6819:(Pe,Ue,B)=>{"use strict";var Z=B(9249),ee=B(448),me=B(9711),ye=B(6591),oe=B(9327),pe=Z("%WeakMap%",!0),E=ee("WeakMap.prototype.get",!0),N=ee("WeakMap.prototype.set",!0),m=ee("WeakMap.prototype.has",!0),fe=ee("WeakMap.prototype.delete",!0);Pe.exports=pe?function(){var Ie,J,ge={assert:function(R){if(!ge.has(R))throw new oe("Side channel does not contain "+me(R))},delete:function(R){if(pe&&R&&("object"==typeof R||"function"==typeof R)){if(Ie)return fe(Ie,R)}else if(ye&&J)return J.delete(R);return!1},get:function(R){return pe&&R&&("object"==typeof R||"function"==typeof R)&&Ie?E(Ie,R):J&&J.get(R)},has:function(R){return pe&&R&&("object"==typeof R||"function"==typeof R)&&Ie?m(Ie,R):!!J&&J.has(R)},set:function(R,X){pe&&R&&("object"==typeof R||"function"==typeof R)?(Ie||(Ie=new pe),N(Ie,R,X)):ye&&(J||(J=ye()),J.set(R,X))}};return ge}:ye},8268:(Pe,Ue,B)=>{"use strict";var Z=B(9327),ee=B(9711),me=B(3591),ye=B(6591),pe=B(6819)||ye||me;Pe.exports=function(){var N,m={assert:function(fe){if(!m.has(fe))throw new Z("Side channel does not contain "+ee(fe))},delete:function(fe){return!!N&&N.delete(fe)},get:function(fe){return N&&N.get(fe)},has:function(fe){return!!N&&N.has(fe)},set:function(fe,U){N||(N=pe()),N.set(fe,U)}};return m}},974:Pe=>{const Ue={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",cal:"http://www.w3.org/2002/12/cal/ical#",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",skos:"http://www.w3.org/2004/02/skos/core#",bookmark:"http://www.w3.org/2002/01/bookmark#",vann:"http://purl.org/vocab/vann/"};Pe.exports=function B(Z={namedNode:ee=>ee}){const ee={};for(const me in Ue){const ye=Ue[me];ee[me]=function(oe=""){return Z.namedNode(ye+oe)}}return ee}},1522:function(Pe,Ue,B){var Z;Pe=B.nmd(Pe),function(){"object"==typeof global&&global;var pe,E=2147483647,N=36,fe=26,U=38,Ie=700,X=/^xn--/,Q=/[^\x20-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,F={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ae=N-1,le=Math.floor,Le=String.fromCharCode;function Be(O){throw new RangeError(F[O])}function we(O,Ce){for(var je=O.length,Ye=[];je--;)Ye[je]=Ce(O[je]);return Ye}function Ne(O,Ce){var je=O.split("@"),Ye="";return je.length>1&&(Ye=je[0]+"@",O=je[1]),Ye+we((O=O.replace(G,".")).split("."),Ce).join(".")}function Ke(O){for(var vt,ft,Ce=[],je=0,Ye=O.length;je<Ye;)(vt=O.charCodeAt(je++))>=55296&&vt<=56319&&je<Ye?56320==(64512&(ft=O.charCodeAt(je++)))?Ce.push(((1023&vt)<<10)+(1023&ft)+65536):(Ce.push(vt),je--):Ce.push(vt);return Ce}function at(O){return we(O,function(Ce){var je="";return Ce>65535&&(je+=Le((Ce-=65536)>>>10&1023|55296),Ce=56320|1023&Ce),je+Le(Ce)}).join("")}function z(O){return O-48<10?O-22:O-65<26?O-65:O-97<26?O-97:N}function re(O,Ce){return O+22+75*(O<26)-((0!=Ce)<<5)}function _e(O,Ce,je){var Ye=0;for(O=je?le(O/Ie):O>>1,O+=le(O/Ce);O>ae*fe>>1;Ye+=N)O=le(O/ae);return le(Ye+(ae+1)*O/(O+U))}function Ge(O){var Ye,Ft,Kt,Bt,dn,xn,jn,Jt,tn,Me,Ce=[],je=O.length,vt=0,ft=128,At=72;for((Ft=O.lastIndexOf("-"))<0&&(Ft=0),Kt=0;Kt<Ft;++Kt)O.charCodeAt(Kt)>=128&&Be("not-basic"),Ce.push(O.charCodeAt(Kt));for(Bt=Ft>0?Ft+1:0;Bt<je;){for(dn=vt,xn=1,jn=N;Bt>=je&&Be("invalid-input"),((Jt=z(O.charCodeAt(Bt++)))>=N||Jt>le((E-vt)/xn))&&Be("overflow"),vt+=Jt*xn,!(Jt<(tn=jn<=At?1:jn>=At+fe?fe:jn-At));jn+=N)xn>le(E/(Me=N-tn))&&Be("overflow"),xn*=Me;At=_e(vt-dn,Ye=Ce.length+1,0==dn),le(vt/Ye)>E-ft&&Be("overflow"),ft+=le(vt/Ye),vt%=Ye,Ce.splice(vt++,0,ft)}return at(Ce)}function rt(O){var Ce,je,Ye,vt,ft,At,Ft,Kt,Bt,dn,xn,Jt,tn,Me,it,jn=[];for(Jt=(O=Ke(O)).length,Ce=128,je=0,ft=72,At=0;At<Jt;++At)(xn=O[At])<128&&jn.push(Le(xn));for(Ye=vt=jn.length,vt&&jn.push("-");Ye<Jt;){for(Ft=E,At=0;At<Jt;++At)(xn=O[At])>=Ce&&xn<Ft&&(Ft=xn);for(Ft-Ce>le((E-je)/(tn=Ye+1))&&Be("overflow"),je+=(Ft-Ce)*tn,Ce=Ft,At=0;At<Jt;++At)if((xn=O[At])<Ce&&++je>E&&Be("overflow"),xn==Ce){for(Kt=je,Bt=N;!(Kt<(dn=Bt<=ft?1:Bt>=ft+fe?fe:Bt-ft));Bt+=N)jn.push(Le(re(dn+(it=Kt-dn)%(Me=N-dn),0))),Kt=le(it/Me);jn.push(Le(re(Kt,0))),ft=_e(je,tn,Ye==vt),je=0,++Ye}++je,++Ce}return jn.join("")}pe={version:"1.4.1",ucs2:{decode:Ke,encode:at},decode:Ge,encode:rt,toASCII:function W(O){return Ne(O,function(Ce){return Q.test(Ce)?"xn--"+rt(Ce):Ce})},toUnicode:function et(O){return Ne(O,function(Ce){return X.test(Ce)?Ge(Ce.slice(4).toLowerCase()):Ce})}},void 0!==(Z=function(){return pe}.call(Ue,B,Ue,Pe))&&(Pe.exports=Z)}()},1391:(Pe,Ue,B)=>{"use strict";var ee=B(1522);function me(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ye=/^([a-z0-9.+-]+:)/i,oe=/:[0-9]*$/,pe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,N=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),m=["'"].concat(N),fe=["%","/","?",";","#"].concat(m),U=["/","?","#"],J=/^[+a-z0-9A-Z_-]{0,63}$/,ge=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,R={javascript:!0,"javascript:":!0},X={javascript:!0,"javascript:":!0},Q={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},G=B(6505);me.prototype.parse=function(he,Be,we){if("string"!=typeof he)throw new TypeError("Parameter 'url' must be a string, not "+typeof he);var Ne=he.indexOf("?"),Ke=-1!==Ne&&Ne<he.indexOf("#")?"?":"#",at=he.split(Ke);at[0]=at[0].replace(/\\/g,"/");var re=he=at.join(Ke);if(re=re.trim(),!we&&1===he.split("#").length){var _e=pe.exec(re);if(_e)return this.path=re,this.href=re,this.pathname=_e[1],_e[2]?(this.search=_e[2],this.query=Be?G.parse(this.search.substr(1)):this.search.substr(1)):Be&&(this.search="",this.query={}),this}var Ge=ye.exec(re);if(Ge){var rt=(Ge=Ge[0]).toLowerCase();this.protocol=rt,re=re.substr(Ge.length)}if(we||Ge||re.match(/^\/\/[^@/]+@[^@/]+/)){var et="//"===re.substr(0,2);et&&(!Ge||!X[Ge])&&(re=re.substr(2),this.slashes=!0)}if(!X[Ge]&&(et||Ge&&!Q[Ge])){for(var W=-1,O=0;O<U.length;O++)-1!==(Ce=re.indexOf(U[O]))&&(-1===W||Ce<W)&&(W=Ce);var je,Ye;for(-1!==(Ye=-1===W?re.lastIndexOf("@"):re.lastIndexOf("@",W))&&(je=re.slice(0,Ye),re=re.slice(Ye+1),this.auth=decodeURIComponent(je)),W=-1,O=0;O<fe.length;O++){var Ce;-1!==(Ce=re.indexOf(fe[O]))&&(-1===W||Ce<W)&&(W=Ce)}-1===W&&(W=re.length),this.host=re.slice(0,W),re=re.slice(W),this.parseHost(),this.hostname=this.hostname||"";var vt="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!vt)for(var ft=this.hostname.split(/\./),At=(O=0,ft.length);O<At;O++){var Ft=ft[O];if(Ft&&!Ft.match(J)){for(var Kt="",Bt=0,dn=Ft.length;Bt<dn;Bt++)Ft.charCodeAt(Bt)>127?Kt+="x":Kt+=Ft[Bt];if(!Kt.match(J)){var xn=ft.slice(0,O),jn=ft.slice(O+1),Jt=Ft.match(ge);Jt&&(xn.push(Jt[1]),jn.unshift(Jt[2])),jn.length&&(re="/"+jn.join(".")+re),this.hostname=xn.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),vt||(this.hostname=ee.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,vt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==re[0]&&(re="/"+re))}if(!R[rt])for(O=0,At=m.length;O<At;O++){var it=m[O];if(-1!==re.indexOf(it)){var ut=encodeURIComponent(it);ut===it&&(ut=escape(it)),re=re.split(it).join(ut)}}var Pt=re.indexOf("#");-1!==Pt&&(this.hash=re.substr(Pt),re=re.slice(0,Pt));var Qt=re.indexOf("?");return-1!==Qt?(this.search=re.substr(Qt),this.query=re.substr(Qt+1),Be&&(this.query=G.parse(this.query)),re=re.slice(0,Qt)):Be&&(this.search="",this.query={}),re&&(this.pathname=re),Q[rt]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},me.prototype.format=function(){var he=this.auth||"";he&&(he=(he=encodeURIComponent(he)).replace(/%3A/i,":"),he+="@");var Be=this.protocol||"",we=this.pathname||"",Ne=this.hash||"",Ke=!1,at="";this.host?Ke=he+this.host:this.hostname&&(Ke=he+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Ke+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(at=G.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var z=this.search||at&&"?"+at||"";return Be&&":"!==Be.substr(-1)&&(Be+=":"),this.slashes||(!Be||Q[Be])&&!1!==Ke?(Ke="//"+(Ke||""),we&&"/"!==we.charAt(0)&&(we="/"+we)):Ke||(Ke=""),Ne&&"#"!==Ne.charAt(0)&&(Ne="#"+Ne),z&&"?"!==z.charAt(0)&&(z="?"+z),Be+Ke+(we=we.replace(/[?#]/g,function(re){return encodeURIComponent(re)}))+(z=z.replace("#","%23"))+Ne},me.prototype.resolve=function(he){return this.resolveObject(function F(he,Be,we){if(he&&"object"==typeof he&&he instanceof me)return he;var Ne=new me;return Ne.parse(he,Be,we),Ne}(he,!1,!0)).format()},me.prototype.resolveObject=function(he){if("string"==typeof he){var Be=new me;Be.parse(he,!1,!0),he=Be}for(var we=new me,Ne=Object.keys(this),Ke=0;Ke<Ne.length;Ke++){var at=Ne[Ke];we[at]=this[at]}if(we.hash=he.hash,""===he.href)return we.href=we.format(),we;if(he.slashes&&!he.protocol){for(var z=Object.keys(he),re=0;re<z.length;re++){var _e=z[re];"protocol"!==_e&&(we[_e]=he[_e])}return Q[we.protocol]&&we.hostname&&!we.pathname&&(we.pathname="/",we.path=we.pathname),we.href=we.format(),we}if(he.protocol&&he.protocol!==we.protocol){if(!Q[he.protocol]){for(var Ge=Object.keys(he),rt=0;rt<Ge.length;rt++){var et=Ge[rt];we[et]=he[et]}return we.href=we.format(),we}if(we.protocol=he.protocol,he.host||X[he.protocol])we.pathname=he.pathname;else{for(var At=(he.pathname||"").split("/");At.length&&!(he.host=At.shift()););he.host||(he.host=""),he.hostname||(he.hostname=""),""!==At[0]&&At.unshift(""),At.length<2&&At.unshift(""),we.pathname=At.join("/")}return we.search=he.search,we.query=he.query,we.host=he.host||"",we.auth=he.auth,we.hostname=he.hostname||he.host,we.port=he.port,(we.pathname||we.search)&&(we.path=(we.pathname||"")+(we.search||"")),we.slashes=we.slashes||he.slashes,we.href=we.format(),we}var Ce=we.pathname&&"/"===we.pathname.charAt(0),je=he.host||he.pathname&&"/"===he.pathname.charAt(0),Ye=je||Ce||we.host&&he.pathname,vt=Ye,ft=we.pathname&&we.pathname.split("/")||[],Ft=(At=he.pathname&&he.pathname.split("/")||[],we.protocol&&!Q[we.protocol]);if(Ft&&(we.hostname="",we.port=null,we.host&&(""===ft[0]?ft[0]=we.host:ft.unshift(we.host)),we.host="",he.protocol&&(he.hostname=null,he.port=null,he.host&&(""===At[0]?At[0]=he.host:At.unshift(he.host)),he.host=null),Ye=Ye&&(""===At[0]||""===ft[0])),je)we.host=he.host||""===he.host?he.host:we.host,we.hostname=he.hostname||""===he.hostname?he.hostname:we.hostname,we.search=he.search,we.query=he.query,ft=At;else if(At.length)ft||(ft=[]),ft.pop(),ft=ft.concat(At),we.search=he.search,we.query=he.query;else if(null!=he.search)return Ft&&(we.host=ft.shift(),we.hostname=we.host,(Kt=!!(we.host&&we.host.indexOf("@")>0)&&we.host.split("@"))&&(we.auth=Kt.shift(),we.hostname=Kt.shift(),we.host=we.hostname)),we.search=he.search,we.query=he.query,(null!==we.pathname||null!==we.search)&&(we.path=(we.pathname?we.pathname:"")+(we.search?we.search:"")),we.href=we.format(),we;if(!ft.length)return we.pathname=null,we.path=we.search?"/"+we.search:null,we.href=we.format(),we;for(var Bt=ft.slice(-1)[0],dn=(we.host||he.host||ft.length>1)&&("."===Bt||".."===Bt)||""===Bt,xn=0,jn=ft.length;jn>=0;jn--)"."===(Bt=ft[jn])?ft.splice(jn,1):".."===Bt?(ft.splice(jn,1),xn++):xn&&(ft.splice(jn,1),xn--);if(!Ye&&!vt)for(;xn--;xn)ft.unshift("..");Ye&&""!==ft[0]&&(!ft[0]||"/"!==ft[0].charAt(0))&&ft.unshift(""),dn&&"/"!==ft.join("/").substr(-1)&&ft.push("");var Kt,Jt=""===ft[0]||ft[0]&&"/"===ft[0].charAt(0);return Ft&&(we.hostname=Jt?"":ft.length?ft.shift():"",we.host=we.hostname,(Kt=!!(we.host&&we.host.indexOf("@")>0)&&we.host.split("@"))&&(we.auth=Kt.shift(),we.hostname=Kt.shift(),we.host=we.hostname)),(Ye=Ye||we.host&&ft.length)&&!Jt&&ft.unshift(""),ft.length>0?we.pathname=ft.join("/"):(we.pathname=null,we.path=null),(null!==we.pathname||null!==we.search)&&(we.path=(we.pathname?we.pathname:"")+(we.search?we.search:"")),we.auth=he.auth||we.auth,we.slashes=we.slashes||he.slashes,we.href=we.format(),we},me.prototype.parseHost=function(){var he=this.host,Be=oe.exec(he);Be&&(":"!==(Be=Be[0])&&(this.port=Be.substr(1)),he=he.substr(0,he.length-Be.length)),he&&(this.hostname=he)}},2634:()=>{},5142:(Pe,Ue,B)=>{var Z=B(5429).default;function ee(){"use strict";Pe.exports=ee=function(){return ye},Pe.exports.__esModule=!0,Pe.exports.default=Pe.exports;var me,ye={},oe=Object.prototype,pe=oe.hasOwnProperty,E=Object.defineProperty||function(W,O,Ce){W[O]=Ce.value},N="function"==typeof Symbol?Symbol:{},m=N.iterator||"@@iterator",fe=N.asyncIterator||"@@asyncIterator",U=N.toStringTag||"@@toStringTag";function Ie(W,O,Ce){return Object.defineProperty(W,O,{value:Ce,enumerable:!0,configurable:!0,writable:!0}),W[O]}try{Ie({},"")}catch{Ie=function(Ce,je,Ye){return Ce[je]=Ye}}function J(W,O,Ce,je){var vt=Object.create((O&&O.prototype instanceof ae?O:ae).prototype),ft=new rt(je||[]);return E(vt,"_invoke",{value:z(W,Ce,ft)}),vt}function ge(W,O,Ce){try{return{type:"normal",arg:W.call(O,Ce)}}catch(je){return{type:"throw",arg:je}}}ye.wrap=J;var R="suspendedStart",X="suspendedYield",Q="executing",G="completed",F={};function ae(){}function le(){}function Le(){}var he={};Ie(he,m,function(){return this});var Be=Object.getPrototypeOf,we=Be&&Be(Be(et([])));we&&we!==oe&&pe.call(we,m)&&(he=we);var Ne=Le.prototype=ae.prototype=Object.create(he);function Ke(W){["next","throw","return"].forEach(function(O){Ie(W,O,function(Ce){return this._invoke(O,Ce)})})}function at(W,O){function Ce(Ye,vt,ft,At){var Ft=ge(W[Ye],W,vt);if("throw"!==Ft.type){var Kt=Ft.arg,Bt=Kt.value;return Bt&&"object"==Z(Bt)&&pe.call(Bt,"__await")?O.resolve(Bt.__await).then(function(dn){Ce("next",dn,ft,At)},function(dn){Ce("throw",dn,ft,At)}):O.resolve(Bt).then(function(dn){Kt.value=dn,ft(Kt)},function(dn){return Ce("throw",dn,ft,At)})}At(Ft.arg)}var je;E(this,"_invoke",{value:function(vt,ft){function At(){return new O(function(Ft,Kt){Ce(vt,ft,Ft,Kt)})}return je=je?je.then(At,At):At()}})}function z(W,O,Ce){var je=R;return function(Ye,vt){if(je===Q)throw Error("Generator is already running");if(je===G){if("throw"===Ye)throw vt;return{value:me,done:!0}}for(Ce.method=Ye,Ce.arg=vt;;){var ft=Ce.delegate;if(ft){var At=re(ft,Ce);if(At){if(At===F)continue;return At}}if("next"===Ce.method)Ce.sent=Ce._sent=Ce.arg;else if("throw"===Ce.method){if(je===R)throw je=G,Ce.arg;Ce.dispatchException(Ce.arg)}else"return"===Ce.method&&Ce.abrupt("return",Ce.arg);je=Q;var Ft=ge(W,O,Ce);if("normal"===Ft.type){if(je=Ce.done?G:X,Ft.arg===F)continue;return{value:Ft.arg,done:Ce.done}}"throw"===Ft.type&&(je=G,Ce.method="throw",Ce.arg=Ft.arg)}}}function re(W,O){var Ce=O.method,je=W.iterator[Ce];if(je===me)return O.delegate=null,"throw"===Ce&&W.iterator.return&&(O.method="return",O.arg=me,re(W,O),"throw"===O.method)||"return"!==Ce&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+Ce+"' method")),F;var Ye=ge(je,W.iterator,O.arg);if("throw"===Ye.type)return O.method="throw",O.arg=Ye.arg,O.delegate=null,F;var vt=Ye.arg;return vt?vt.done?(O[W.resultName]=vt.value,O.next=W.nextLoc,"return"!==O.method&&(O.method="next",O.arg=me),O.delegate=null,F):vt:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,F)}function _e(W){var O={tryLoc:W[0]};1 in W&&(O.catchLoc=W[1]),2 in W&&(O.finallyLoc=W[2],O.afterLoc=W[3]),this.tryEntries.push(O)}function Ge(W){var O=W.completion||{};O.type="normal",delete O.arg,W.completion=O}function rt(W){this.tryEntries=[{tryLoc:"root"}],W.forEach(_e,this),this.reset(!0)}function et(W){if(W||""===W){var O=W[m];if(O)return O.call(W);if("function"==typeof W.next)return W;if(!isNaN(W.length)){var Ce=-1,je=function Ye(){for(;++Ce<W.length;)if(pe.call(W,Ce))return Ye.value=W[Ce],Ye.done=!1,Ye;return Ye.value=me,Ye.done=!0,Ye};return je.next=je}}throw new TypeError(Z(W)+" is not iterable")}return le.prototype=Le,E(Ne,"constructor",{value:Le,configurable:!0}),E(Le,"constructor",{value:le,configurable:!0}),le.displayName=Ie(Le,U,"GeneratorFunction"),ye.isGeneratorFunction=function(W){var O="function"==typeof W&&W.constructor;return!!O&&(O===le||"GeneratorFunction"===(O.displayName||O.name))},ye.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,Le):(W.__proto__=Le,Ie(W,U,"GeneratorFunction")),W.prototype=Object.create(Ne),W},ye.awrap=function(W){return{__await:W}},Ke(at.prototype),Ie(at.prototype,fe,function(){return this}),ye.AsyncIterator=at,ye.async=function(W,O,Ce,je,Ye){void 0===Ye&&(Ye=Promise);var vt=new at(J(W,O,Ce,je),Ye);return ye.isGeneratorFunction(O)?vt:vt.next().then(function(ft){return ft.done?ft.value:vt.next()})},Ke(Ne),Ie(Ne,U,"Generator"),Ie(Ne,m,function(){return this}),Ie(Ne,"toString",function(){return"[object Generator]"}),ye.keys=function(W){var O=Object(W),Ce=[];for(var je in O)Ce.push(je);return Ce.reverse(),function Ye(){for(;Ce.length;){var vt=Ce.pop();if(vt in O)return Ye.value=vt,Ye.done=!1,Ye}return Ye.done=!0,Ye}},ye.values=et,rt.prototype={constructor:rt,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=me,this.done=!1,this.delegate=null,this.method="next",this.arg=me,this.tryEntries.forEach(Ge),!O)for(var Ce in this)"t"===Ce.charAt(0)&&pe.call(this,Ce)&&!isNaN(+Ce.slice(1))&&(this[Ce]=me)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if("throw"===O.type)throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var Ce=this;function je(Kt,Bt){return ft.type="throw",ft.arg=O,Ce.next=Kt,Bt&&(Ce.method="next",Ce.arg=me),!!Bt}for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var vt=this.tryEntries[Ye],ft=vt.completion;if("root"===vt.tryLoc)return je("end");if(vt.tryLoc<=this.prev){var At=pe.call(vt,"catchLoc"),Ft=pe.call(vt,"finallyLoc");if(At&&Ft){if(this.prev<vt.catchLoc)return je(vt.catchLoc,!0);if(this.prev<vt.finallyLoc)return je(vt.finallyLoc)}else if(At){if(this.prev<vt.catchLoc)return je(vt.catchLoc,!0)}else{if(!Ft)throw Error("try statement without catch or finally");if(this.prev<vt.finallyLoc)return je(vt.finallyLoc)}}}},abrupt:function(O,Ce){for(var je=this.tryEntries.length-1;je>=0;--je){var Ye=this.tryEntries[je];if(Ye.tryLoc<=this.prev&&pe.call(Ye,"finallyLoc")&&this.prev<Ye.finallyLoc){var vt=Ye;break}}vt&&("break"===O||"continue"===O)&&vt.tryLoc<=Ce&&Ce<=vt.finallyLoc&&(vt=null);var ft=vt?vt.completion:{};return ft.type=O,ft.arg=Ce,vt?(this.method="next",this.next=vt.finallyLoc,F):this.complete(ft)},complete:function(O,Ce){if("throw"===O.type)throw O.arg;return"break"===O.type||"continue"===O.type?this.next=O.arg:"return"===O.type?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):"normal"===O.type&&Ce&&(this.next=Ce),F},finish:function(O){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var je=this.tryEntries[Ce];if(je.finallyLoc===O)return this.complete(je.completion,je.afterLoc),Ge(je),F}},catch:function(O){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var je=this.tryEntries[Ce];if(je.tryLoc===O){var Ye=je.completion;if("throw"===Ye.type){var vt=Ye.arg;Ge(je)}return vt}}throw Error("illegal catch attempt")},delegateYield:function(O,Ce,je){return this.delegate={iterator:et(O),resultName:Ce,nextLoc:je},"next"===this.method&&(this.arg=me),F}},ye}Pe.exports=ee,Pe.exports.__esModule=!0,Pe.exports.default=Pe.exports},5429:Pe=>{function Ue(B){return Pe.exports=Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},Pe.exports.__esModule=!0,Pe.exports.default=Pe.exports,Ue(B)}Pe.exports=Ue,Pe.exports.__esModule=!0,Pe.exports.default=Pe.exports},6725:(Pe,Ue,B)=>{var Z=B(5142)();Pe.exports=Z;try{regeneratorRuntime=Z}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=Z:Function("r","regeneratorRuntime = r")(Z)}},6990:(Pe,Ue,B)=>{"use strict";B.d(Ue,{A:()=>me,N:()=>ee});class Z{constructor(oe,pe,E,N){this.minX=oe,this.maxX=pe,this.minY=E,this.maxY=N}contains(oe){return this.containsXY(oe[1],oe[2])}containsTileRange(oe){return this.minX<=oe.minX&&oe.maxX<=this.maxX&&this.minY<=oe.minY&&oe.maxY<=this.maxY}containsXY(oe,pe){return this.minX<=oe&&oe<=this.maxX&&this.minY<=pe&&pe<=this.maxY}equals(oe){return this.minX==oe.minX&&this.minY==oe.minY&&this.maxX==oe.maxX&&this.maxY==oe.maxY}extend(oe){oe.minX<this.minX&&(this.minX=oe.minX),oe.maxX>this.maxX&&(this.maxX=oe.maxX),oe.minY<this.minY&&(this.minY=oe.minY),oe.maxY>this.maxY&&(this.maxY=oe.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(oe){return this.minX<=oe.maxX&&this.maxX>=oe.minX&&this.minY<=oe.maxY&&this.maxY>=oe.minY}}function ee(ye,oe,pe,E,N){return void 0!==N?(N.minX=ye,N.maxX=oe,N.minY=pe,N.maxY=E,N):new Z(ye,oe,pe,E)}const me=Z},2058:(Pe,Ue,B)=>{"use strict";function Z(U,Ie,J){let ge,R;J=J||ee;let X=0,Q=U.length,G=!1;for(;X<Q;)ge=X+(Q-X>>1),R=+J(U[ge],Ie),R<0?X=ge+1:(Q=ge,G=!R);return G?X:~X}function ee(U,Ie){return U>Ie?1:U<Ie?-1:0}function ye(U,Ie,J){if(U[0]<=Ie)return 0;const ge=U.length;if(Ie<=U[ge-1])return ge-1;if("function"==typeof J){for(let R=1;R<ge;++R){const X=U[R];if(X===Ie)return R;if(X<Ie)return J(Ie,U[R-1],X)>0?R-1:R}return ge-1}if(J>0){for(let R=1;R<ge;++R)if(U[R]<Ie)return R-1;return ge-1}if(J<0){for(let R=1;R<ge;++R)if(U[R]<=Ie)return R;return ge-1}for(let R=1;R<ge;++R){if(U[R]==Ie)return R;if(U[R]<Ie)return U[R-1]-Ie<Ie-U[R]?R-1:R}return ge-1}function oe(U,Ie,J){for(;Ie<J;){const ge=U[Ie];U[Ie]=U[J],U[J]=ge,++Ie,--J}}function pe(U,Ie){const J=Array.isArray(Ie)?Ie:[Ie],ge=J.length;for(let R=0;R<ge;R++)U[U.length]=J[R]}function N(U,Ie){const J=U.length;if(J!==Ie.length)return!1;for(let ge=0;ge<J;ge++)if(U[ge]!==Ie[ge])return!1;return!0}function fe(U,Ie,J){const ge=Ie||ee;return U.every(function(R,X){if(0===X)return!0;const Q=ge(U[X-1],R);return!(Q>0||J&&0===Q)})}B.d(Ue,{El:()=>Z,FT:()=>ye,V_:()=>ee,WC:()=>fe,X$:()=>pe,aI:()=>N,gI:()=>oe})},5940:(Pe,Ue,B)=>{"use strict";function Z(ee,me){if(!ee)throw new Error(me)}B.d(Ue,{v:()=>Z})},5278:(Pe,Ue,B)=>{"use strict";B.d(Ue,{R8:()=>oe});const Z={info:1,warn:2,error:3,none:4};let ee=Z.info;function oe(...E){ee>Z.warn||console.warn(...E)}},5085:(Pe,Ue,B)=>{"use strict";B.d(Ue,{Li:()=>X,U$:()=>Q,WQ:()=>ee,aI:()=>N,e$:()=>m,hs:()=>fe});var Z=B(8507);function ee(G,F){return G[0]+=+F[0],G[1]+=+F[1],G}function N(G,F){let ae=!0;for(let le=G.length-1;le>=0;--le)if(G[le]!=F[le]){ae=!1;break}return ae}function m(G,F){const ae=Math.cos(F),le=Math.sin(F),he=G[1]*ae+G[0]*le;return G[0]=G[0]*ae-G[1]*le,G[1]=he,G}function fe(G,F){return G[0]*=F,G[1]*=F,G}function X(G,F){if(F.canWrapX()){const ae=(0,Z.RG)(F.getExtent()),le=Q(G,F,ae);le&&(G[0]-=le*ae)}return G}function Q(G,F,ae){const le=F.getExtent();let Le=0;return F.canWrapX()&&(G[0]<le[0]||G[0]>le[2])&&(ae=ae||(0,Z.RG)(le),Le=Math.floor((G[0]-le[0])/ae)),Le}},8507:(Pe,Ue,B)=>{"use strict";B.d(Ue,{$C:()=>le,$u:()=>Bt,Bg:()=>rt,HY:()=>Ft,Im:()=>Kt,Ld:()=>pe,Li:()=>Jt,Mx:()=>xn,N:()=>Ie,NW:()=>jn,Oq:()=>W,Py:()=>vt,QJ:()=>tn,R:()=>at,R8:()=>he,RG:()=>At,Rj:()=>m,S5:()=>U,Tr:()=>ee,UG:()=>Ke,Vy:()=>X,WU:()=>ft,X$:()=>ae,Ym:()=>E,Yw:()=>et,_N:()=>Ce,aI:()=>G,aZ:()=>J,dP:()=>ge,k_:()=>z,ms:()=>N,o8:()=>oe,q1:()=>re,qF:()=>_e,r:()=>ye,sB:()=>Ne,vz:()=>fe});var Z=B(1524);function ee(Me){const it=[1/0,1/0,-1/0,-1/0];for(let ut=0,Pt=Me.length;ut<Pt;++ut)le(it,Me[ut]);return it}function ye(Me,it,ut){return ut?(ut[0]=Me[0]-it,ut[1]=Me[1]-it,ut[2]=Me[2]+it,ut[3]=Me[3]+it,ut):[Me[0]-it,Me[1]-it,Me[2]+it,Me[3]+it]}function oe(Me,it){return it?(it[0]=Me[0],it[1]=Me[1],it[2]=Me[2],it[3]=Me[3],it):Me.slice()}function pe(Me,it,ut){let Pt,Qt;return Pt=it<Me[0]?Me[0]-it:Me[2]<it?it-Me[2]:0,Qt=ut<Me[1]?Me[1]-ut:Me[3]<ut?ut-Me[3]:0,Pt*Pt+Qt*Qt}function E(Me,it){return m(Me,it[0],it[1])}function N(Me,it){return Me[0]<=it[0]&&it[2]<=Me[2]&&Me[1]<=it[1]&&it[3]<=Me[3]}function m(Me,it,ut){return Me[0]<=it&&it<=Me[2]&&Me[1]<=ut&&ut<=Me[3]}function fe(Me,it){const or=it[0],In=it[1];let Sn=Z.A.UNKNOWN;return or<Me[0]?Sn|=Z.A.LEFT:or>Me[2]&&(Sn|=Z.A.RIGHT),In<Me[1]?Sn|=Z.A.BELOW:In>Me[3]&&(Sn|=Z.A.ABOVE),Sn===Z.A.UNKNOWN&&(Sn=Z.A.INTERSECTING),Sn}function U(){return[1/0,1/0,-1/0,-1/0]}function Ie(Me,it,ut,Pt,Qt){return Qt?(Qt[0]=Me,Qt[1]=it,Qt[2]=ut,Qt[3]=Pt,Qt):[Me,it,ut,Pt]}function J(Me){return Ie(1/0,1/0,-1/0,-1/0,Me)}function ge(Me,it){const ut=Me[0],Pt=Me[1];return Ie(ut,Pt,ut,Pt,it)}function X(Me,it,ut,Pt,Qt){return he(J(Qt),Me,it,ut,Pt)}function G(Me,it){return Me[0]==it[0]&&Me[2]==it[2]&&Me[1]==it[1]&&Me[3]==it[3]}function ae(Me,it){return it[0]<Me[0]&&(Me[0]=it[0]),it[2]>Me[2]&&(Me[2]=it[2]),it[1]<Me[1]&&(Me[1]=it[1]),it[3]>Me[3]&&(Me[3]=it[3]),Me}function le(Me,it){it[0]<Me[0]&&(Me[0]=it[0]),it[0]>Me[2]&&(Me[2]=it[0]),it[1]<Me[1]&&(Me[1]=it[1]),it[1]>Me[3]&&(Me[3]=it[1])}function he(Me,it,ut,Pt,Qt){for(;ut<Pt;ut+=Qt)we(Me,it[ut],it[ut+1]);return Me}function we(Me,it,ut){Me[0]=Math.min(Me[0],it),Me[1]=Math.min(Me[1],ut),Me[2]=Math.max(Me[2],it),Me[3]=Math.max(Me[3],ut)}function Ne(Me,it){let ut;return ut=it(at(Me)),!!(ut||(ut=it(z(Me)),ut)||(ut=it(ft(Me)),ut)||(ut=it(vt(Me)),ut))&&ut}function Ke(Me){let it=0;return Kt(Me)||(it=At(Me)*W(Me)),it}function at(Me){return[Me[0],Me[1]]}function z(Me){return[Me[2],Me[1]]}function re(Me){return[(Me[0]+Me[2])/2,(Me[1]+Me[3])/2]}function _e(Me,it){let ut;if("bottom-left"===it)ut=at(Me);else if("bottom-right"===it)ut=z(Me);else if("top-left"===it)ut=vt(Me);else{if("top-right"!==it)throw new Error("Invalid corner");ut=ft(Me)}return ut}function rt(Me,it,ut,Pt,Qt){const[Jn,or,In,Sn,er,li,Cr,fi]=et(Me,it,ut,Pt);return Ie(Math.min(Jn,In,er,Cr),Math.min(or,Sn,li,fi),Math.max(Jn,In,er,Cr),Math.max(or,Sn,li,fi),Qt)}function et(Me,it,ut,Pt){const Qt=it*Pt[0]/2,Jn=it*Pt[1]/2,or=Math.cos(ut),In=Math.sin(ut),Sn=Qt*or,er=Qt*In,li=Jn*or,Cr=Jn*In,fi=Me[0],q=Me[1];return[fi-Sn+Cr,q-er-li,fi-Sn-Cr,q-er+li,fi+Sn-Cr,q+er+li,fi+Sn+Cr,q+er-li,fi-Sn+Cr,q-er-li]}function W(Me){return Me[3]-Me[1]}function Ce(Me,it,ut){const Pt=ut||[1/0,1/0,-1/0,-1/0];return Ft(Me,it)?(Pt[0]=Me[0]>it[0]?Me[0]:it[0],Pt[1]=Me[1]>it[1]?Me[1]:it[1],Pt[2]=Me[2]<it[2]?Me[2]:it[2],Pt[3]=Me[3]<it[3]?Me[3]:it[3]):J(Pt),Pt}function vt(Me){return[Me[0],Me[3]]}function ft(Me){return[Me[2],Me[3]]}function At(Me){return Me[2]-Me[0]}function Ft(Me,it){return Me[0]<=it[2]&&Me[2]>=it[0]&&Me[1]<=it[3]&&Me[3]>=it[1]}function Kt(Me){return Me[2]<Me[0]||Me[3]<Me[1]}function Bt(Me,it){return it?(it[0]=Me[0],it[1]=Me[1],it[2]=Me[2],it[3]=Me[3],it):Me}function xn(Me,it,ut){let Pt=!1;const Qt=fe(Me,it),Jn=fe(Me,ut);if(Qt===Z.A.INTERSECTING||Jn===Z.A.INTERSECTING)Pt=!0;else{const or=Me[0],In=Me[1],Sn=Me[2],er=Me[3],fi=ut[0],q=ut[1],T=(q-it[1])/(fi-it[0]);let V,ze;Jn&Z.A.ABOVE&&!(Qt&Z.A.ABOVE)&&(V=fi-(q-er)/T,Pt=V>=or&&V<=Sn),!Pt&&Jn&Z.A.RIGHT&&!(Qt&Z.A.RIGHT)&&(ze=q-(fi-Sn)*T,Pt=ze>=In&&ze<=er),!Pt&&Jn&Z.A.BELOW&&!(Qt&Z.A.BELOW)&&(V=fi-(q-In)/T,Pt=V>=or&&V<=Sn),!Pt&&Jn&Z.A.LEFT&&!(Qt&Z.A.LEFT)&&(ze=q-(fi-or)*T,Pt=ze>=In&&ze<=er)}return Pt}function jn(Me,it,ut,Pt){if(Kt(Me))return J(ut);let Qt=[];if(Pt>1){const In=Me[2]-Me[0],Sn=Me[3]-Me[1];for(let er=0;er<Pt;++er)Qt.push(Me[0]+In*er/Pt,Me[1],Me[2],Me[1]+Sn*er/Pt,Me[2]-In*er/Pt,Me[3],Me[0],Me[3]-Sn*er/Pt)}else Qt=[Me[0],Me[1],Me[2],Me[1],Me[2],Me[3],Me[0],Me[3]];it(Qt,Qt,2);const Jn=[],or=[];for(let In=0,Sn=Qt.length;In<Sn;In+=2)Jn.push(Qt[In]),or.push(Qt[In+1]);return function me(Me,it,ut){return Ie(Math.min.apply(null,Me),Math.min.apply(null,it),Math.max.apply(null,Me),Math.max.apply(null,it),ut)}(Jn,or,ut)}function Jt(Me,it){const ut=it.getExtent(),Pt=re(Me);if(it.canWrapX()&&(Pt[0]<ut[0]||Pt[0]>=ut[2])){const Qt=At(ut),or=Math.floor((Pt[0]-ut[0])/Qt)*Qt;Me[0]-=or,Me[2]-=or}return Me}function tn(Me,it){if(it.canWrapX()){const ut=it.getExtent();if(!isFinite(Me[0])||!isFinite(Me[2]))return[[ut[0],Me[1],ut[2],Me[3]]];Jt(Me,it);const Pt=At(ut);if(At(Me)>Pt)return[[ut[0],Me[1],ut[2],Me[3]]];if(Me[0]<ut[0])return[[Me[0]+Pt,Me[1],ut[2],Me[3]],[ut[0],Me[1],Me[2],Me[3]]];if(Me[2]>ut[2])return[[Me[0],Me[1],ut[2],Me[3]],[ut[0],Me[1],Me[2]-Pt,Me[3]]]}return[Me]}},1524:(Pe,Ue,B)=>{"use strict";B.d(Ue,{A:()=>Z});const Z={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},9749:(Pe,Ue,B)=>{"use strict";B.d(Ue,{Gd:()=>oe,a_:()=>me,t7:()=>ee,zb:()=>ye});var Z=B(8507);function ee(pe,E,N,m,fe){return!(0,Z.sB)(fe,function(Ie){return!me(pe,E,N,m,Ie[0],Ie[1])})}function me(pe,E,N,m,fe,U){let Ie=0,J=pe[N-m],ge=pe[N-m+1];for(;E<N;E+=m){const R=pe[E],X=pe[E+1];ge<=U?X>U&&(R-J)*(U-ge)-(fe-J)*(X-ge)>0&&Ie++:X<=U&&(R-J)*(U-ge)-(fe-J)*(X-ge)<0&&Ie--,J=R,ge=X}return 0!==Ie}function ye(pe,E,N,m,fe,U){if(0===N.length||!me(pe,E,N[0],m,fe,U))return!1;for(let Ie=1,J=N.length;Ie<J;++Ie)if(me(pe,N[Ie-1],N[Ie],m,fe,U))return!1;return!0}function oe(pe,E,N,m,fe,U){if(0===N.length)return!1;for(let Ie=0,J=N.length;Ie<J;++Ie){const ge=N[Ie];if(ye(pe,E,ge,m,fe,U))return!0;E=ge[ge.length-1]}return!1}},9542:(Pe,Ue,B)=>{"use strict";B.d(Ue,{HT:()=>E,Wp:()=>N,fB:()=>oe,gp:()=>ye,sj:()=>pe});var Z=B(8507),ee=B(3846),me=B(9749);function ye(m,fe,U,Ie,J){const ge=(0,Z.R8)((0,Z.S5)(),m,fe,U,Ie);return!!(0,Z.HY)(J,ge)&&(!!((0,Z.ms)(J,ge)||ge[0]>=J[0]&&ge[2]<=J[2]||ge[1]>=J[1]&&ge[3]<=J[3])||(0,ee.j)(m,fe,U,Ie,function(R,X){return(0,Z.Mx)(J,R,X)}))}function oe(m,fe,U,Ie,J){for(let ge=0,R=U.length;ge<R;++ge){if(ye(m,fe,U[ge],Ie,J))return!0;fe=U[ge]}return!1}function pe(m,fe,U,Ie,J){return!!(ye(m,fe,U,Ie,J)||(0,me.a_)(m,fe,U,Ie,J[0],J[1])||(0,me.a_)(m,fe,U,Ie,J[0],J[3])||(0,me.a_)(m,fe,U,Ie,J[2],J[1])||(0,me.a_)(m,fe,U,Ie,J[2],J[3]))}function E(m,fe,U,Ie,J){if(!pe(m,fe,U[0],Ie,J))return!1;if(1===U.length)return!0;for(let ge=1,R=U.length;ge<R;++ge)if((0,me.t7)(m,U[ge-1],U[ge],Ie,J)&&!ye(m,U[ge-1],U[ge],Ie,J))return!1;return!0}function N(m,fe,U,Ie,J){for(let ge=0,R=U.length;ge<R;++ge){const X=U[ge];if(E(m,fe,X,Ie,J))return!0;fe=X[X.length-1]}return!1}},3846:(Pe,Ue,B)=>{"use strict";function Z(ee,me,ye,oe,pe){let E;for(me+=oe;me<ye;me+=oe)if(E=pe(ee.slice(me-oe,me),ee.slice(me,me+oe)),E)return E;return!1}B.d(Ue,{j:()=>Z})},9973:(Pe,Ue,B)=>{"use strict";function Z(J,ge,R){return Math.min(Math.max(J,ge),R)}function ee(J,ge,R,X,Q,G){const F=Q-R,ae=G-X;if(0!==F||0!==ae){const le=((J-R)*F+(ge-X)*ae)/(F*F+ae*ae);le>1?(R=Q,X=G):le>0&&(R+=F*le,X+=ae*le)}return me(J,ge,R,X)}function me(J,ge,R,X){const Q=R-J,G=X-ge;return Q*Q+G*G}function ye(J){const ge=J.length;for(let X=0;X<ge;X++){let Q=X,G=Math.abs(J[X][X]);for(let ae=X+1;ae<ge;ae++){const le=Math.abs(J[ae][X]);le>G&&(G=le,Q=ae)}if(0===G)return null;const F=J[Q];J[Q]=J[X],J[X]=F;for(let ae=X+1;ae<ge;ae++){const le=-J[ae][X]/J[X][X];for(let Le=X;Le<ge+1;Le++)X==Le?J[ae][Le]=0:J[ae][Le]+=le*J[X][Le]}}const R=new Array(ge);for(let X=ge-1;X>=0;X--){R[X]=J[X][ge]/J[X][X];for(let Q=X-1;Q>=0;Q--)J[Q][ge]-=J[Q][X]*R[X]}return R}function pe(J){return J*Math.PI/180}function E(J,ge){const R=J%ge;return R*ge<0?R+ge:R}function N(J,ge,R){return J+R*(ge-J)}function m(J,ge){const R=Math.pow(10,ge);return Math.round(J*R)/R}function fe(J,ge){return Math.round(m(J,ge))}function U(J,ge){return Math.floor(m(J,ge))}function Ie(J,ge){return Math.ceil(m(J,ge))}B.d(Ue,{Cc:()=>N,KU:()=>ye,LI:()=>fe,Mg:()=>m,Q1:()=>ee,RI:()=>U,eh:()=>pe,hG:()=>me,mk:()=>Ie,qE:()=>Z,xP:()=>E})},9325:(Pe,Ue,B)=>{"use strict";B.d(Ue,{Ig:()=>X.I,hB:()=>dn,O3:()=>ft,bF:()=>Ce,Av:()=>Kt,wU:()=>V,RJ:()=>et,tI:()=>Jt,Rb:()=>xn,Ad:()=>li,SD:()=>fi,Jt:()=>Ye,hO:()=>vt,RG:()=>Me,FO:()=>tn,Tf:()=>In,te:()=>er,JR:()=>Cr,vN:()=>q,pd:()=>it,DI:()=>ut});var Z=B(206);const ee=6378137,me=Math.PI*ee,ye=[-me,-me,me,me],oe=[-180,-85,180,85],pe=ee*Math.log(Math.tan(Math.PI/2));class E extends Z.A{constructor(Oe){super({code:Oe,units:"m",extent:ye,global:!0,worldExtent:oe,getPointResolution:function(Xe,Ct){return Xe/Math.cosh(Ct[1]/ee)}})}}const N=[new E("EPSG:3857"),new E("EPSG:102100"),new E("EPSG:102113"),new E("EPSG:900913"),new E("http://www.opengis.net/def/crs/EPSG/0/3857"),new E("http://www.opengis.net/gml/srs/epsg.xml#3857")];function m(be,Oe,Xe){const Ct=be.length;Xe=Xe>1?Xe:2,void 0===Oe&&(Oe=Xe>2?be.slice():new Array(Ct));for(let We=0;We<Ct;We+=Xe){Oe[We]=me*be[We]/180;let qe=ee*Math.log(Math.tan(Math.PI*(+be[We+1]+90)/360));qe>pe?qe=pe:qe<-pe&&(qe=-pe),Oe[We+1]=qe}return Oe}function fe(be,Oe,Xe){const Ct=be.length;Xe=Xe>1?Xe:2,void 0===Oe&&(Oe=Xe>2?be.slice():new Array(Ct));for(let We=0;We<Ct;We+=Xe)Oe[We]=180*be[We]/me,Oe[We+1]=360*Math.atan(Math.exp(be[We+1]/ee))/Math.PI-90;return Oe}const Ie=[-180,-90,180,90],J=6378137*Math.PI/180;class ge extends Z.A{constructor(Oe,Xe){super({code:Oe,units:"degrees",extent:Ie,axisOrientation:Xe,global:!0,metersPerUnit:J,worldExtent:Ie})}}const R=[new ge("CRS:84"),new ge("EPSG:4326","neu"),new ge("urn:ogc:def:crs:OGC:1.3:CRS84"),new ge("urn:ogc:def:crs:OGC:2:84"),new ge("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new ge("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ge("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var X=B(6508);let Q={};var le=B(4238),Le=B(8507),he=B(9973),Be=B(5085);const we=6371008.8;function Ne(be,Oe,Xe){Xe=Xe||we;const Ct=(0,he.eh)(be[1]),We=(0,he.eh)(Oe[1]),qe=(We-Ct)/2,kt=(0,he.eh)(Oe[0]-be[0])/2,nn=Math.sin(qe)*Math.sin(qe)+Math.sin(kt)*Math.sin(kt)*Math.cos(Ct)*Math.cos(We);return 2*Xe*Math.atan2(Math.sqrt(nn),Math.sqrt(1-nn))}var Ge=B(5278);let rt=!0;function et(be){rt=!(void 0===be||be)}function W(be,Oe){if(void 0!==Oe)for(let Xe=0,Ct=be.length;Xe<Ct;++Xe)Oe[Xe]=be[Xe];else Oe=be.slice();return Oe}function O(be,Oe){if(void 0!==Oe&&be!==Oe){for(let Xe=0,Ct=be.length;Xe<Ct;++Xe)Oe[Xe]=be[Xe];be=Oe}return be}function Ce(be){(function ae(be,Oe){Q[be]=Oe})(be.getCode(),be),(0,le.WQ)(be,be,W)}function Ye(be){return"string"==typeof be?function F(be){return Q[be]||Q[be.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(be):be||null}function vt(be,Oe,Xe,Ct){let We;const qe=(be=Ye(be)).getPointResolutionFunc();if(qe){if(We=qe(Oe,Xe),Ct&&Ct!==be.getUnits()){const kt=be.getMetersPerUnit();kt&&(We=We*kt/X.I[Ct])}}else{const kt=be.getUnits();if("degrees"==kt&&!Ct||"degrees"==Ct)We=Oe;else{const nn=tn(be,Ye("EPSG:4326"));if(nn===O&&"degrees"!==kt)We=Oe*be.getMetersPerUnit();else{let vn=[Xe[0]-Oe/2,Xe[1],Xe[0]+Oe/2,Xe[1],Xe[0],Xe[1]-Oe/2,Xe[0],Xe[1]+Oe/2];vn=nn(vn,vn,2),We=(Ne(vn.slice(0,2),vn.slice(2,4))+Ne(vn.slice(4,6),vn.slice(6,8)))/2}const mn=Ct?X.I[Ct]:be.getMetersPerUnit();void 0!==mn&&(We/=mn)}}return We}function ft(be){(function je(be){be.forEach(Ce)})(be),be.forEach(function(Oe){be.forEach(function(Xe){Oe!==Xe&&(0,le.WQ)(Oe,Xe,W)})})}function Kt(be,Oe){return be?"string"==typeof be?Ye(be):be:Ye(Oe)}function Bt(be){return function(Oe,Xe,Ct){const We=Oe.length;Ct=void 0!==Ct?Ct:2,Xe=void 0!==Xe?Xe:new Array(We);for(let qe=0;qe<We;qe+=Ct){const kt=be(Oe.slice(qe,qe+Ct)),nn=kt.length;for(let mn=0,vn=Ct;mn<vn;++mn)Xe[qe+mn]=mn>=nn?Oe[qe+mn]:kt[mn]}return Xe}}function dn(be,Oe,Xe,Ct){const We=Ye(be),qe=Ye(Oe);(0,le.WQ)(We,qe,Bt(Xe)),(0,le.WQ)(qe,We,Bt(Ct))}function xn(be,Oe){return et(),it(be,"EPSG:4326",void 0!==Oe?Oe:"EPSG:3857")}function Jt(be,Oe){if(be===Oe)return!0;const Xe=be.getUnits()===Oe.getUnits();return(be.getCode()===Oe.getCode()||tn(be,Oe)===W)&&Xe}function tn(be,Oe){const Xe=be.getCode(),Ct=Oe.getCode();let We=(0,le.Jt)(Xe,Ct);return We||(We=O),We}function Me(be,Oe){return tn(Ye(be),Ye(Oe))}function it(be,Oe,Xe){return Me(Oe,Xe)(be,void 0,be.length)}function ut(be,Oe,Xe,Ct){const We=Me(Oe,Xe);return(0,Le.NW)(be,We,void 0,Ct)}let Qt=null;function In(){return Qt}function er(be,Oe){return Qt?it(be,Oe,Qt):be}function li(be,Oe){return Qt?it(be,Qt,Oe):(rt&&!(0,Be.aI)(be,[0,0])&&be[0]>=-180&&be[0]<=180&&be[1]>=-90&&be[1]<=90&&(rt=!1,(0,Ge.R8)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),be)}function Cr(be,Oe){return Qt?ut(be,Oe,Qt):be}function fi(be,Oe){return Qt?ut(be,Qt,Oe):be}function q(be,Oe){if(!Qt)return be;const Xe=Ye(Oe).getMetersPerUnit(),Ct=Qt.getMetersPerUnit();return Xe&&Ct?be*Xe/Ct:be}function V(be,Oe,Xe){return function(Ct){let We,qe;if(be.canWrapX()){const kt=be.getExtent(),nn=(0,Le.RG)(kt);Ct=Ct.slice(0),qe=(0,Be.U$)(Ct,be,nn),qe&&(Ct[0]=Ct[0]-qe*nn),Ct[0]=(0,he.qE)(Ct[0],kt[0],kt[2]),Ct[1]=(0,he.qE)(Ct[1],kt[1],kt[3]),We=Xe(Ct)}else We=Xe(Ct);return qe&&Oe.canWrapX()&&(We[0]+=qe*(0,Le.RG)(Oe.getExtent())),We}}!function ze(){ft(N),ft(R),function At(be,Oe,Xe,Ct){be.forEach(function(We){Oe.forEach(function(qe){(0,le.WQ)(We,qe,Xe),(0,le.WQ)(qe,We,Ct)})})}(R,N,m,fe)}()},206:(Pe,Ue,B)=>{"use strict";B.d(Ue,{A:()=>me});var Z=B(6508);const me=class ee{constructor(oe){this.code_=oe.code,this.units_=oe.units,this.extent_=void 0!==oe.extent?oe.extent:null,this.worldExtent_=void 0!==oe.worldExtent?oe.worldExtent:null,this.axisOrientation_=void 0!==oe.axisOrientation?oe.axisOrientation:"enu",this.global_=void 0!==oe.global&&oe.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=oe.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=oe.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Z.I[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(oe){this.global_=oe,this.canWrapX_=!(!oe||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(oe){this.defaultTileGrid_=oe}setExtent(oe){this.extent_=oe,this.canWrapX_=!(!this.global_||!oe)}setWorldExtent(oe){this.worldExtent_=oe}setGetPointResolution(oe){this.getPointResolutionFunc_=oe}getPointResolutionFunc(){return this.getPointResolutionFunc_}}},6508:(Pe,Ue,B)=>{"use strict";B.d(Ue,{I:()=>me});const me={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937}},4238:(Pe,Ue,B)=>{"use strict";B.d(Ue,{Jt:()=>oe,WQ:()=>me});let Z={};function me(pe,E,N){const m=pe.getCode(),fe=E.getCode();m in Z||(Z[m]={}),Z[m][fe]=N}function oe(pe,E){let N;return pe in Z&&E in Z[pe]&&(N=Z[pe][E]),N}},9270:(Pe,Ue,B)=>{"use strict";function ee(oe){return oe[0]>0&&oe[1]>0}function me(oe,pe,E){return void 0===E&&(E=[0,0]),E[0]=oe[0]*pe+.5|0,E[1]=oe[1]*pe+.5|0,E}function ye(oe,pe){return Array.isArray(oe)?oe:(void 0===pe?pe=[oe,oe]:(pe[0]=oe,pe[1]=oe),pe)}B.d(Ue,{Ie:()=>ee,hs:()=>me,xq:()=>ye})},6690:(Pe,Ue,B)=>{"use strict";function Z(N,m,fe,U){return void 0!==U?(U[0]=N,U[1]=m,U[2]=fe,U):[N,m,fe]}function ee(N,m,fe){return N+"/"+m+"/"+fe}function me(N){return ee(N[0],N[1],N[2])}function ye(N){const[m,fe,U]=N.substring(N.lastIndexOf("/")+1,N.length).split(",").map(Number);return ee(m,fe,U)}function oe(N){return N.split("/").map(Number)}function pe(N){return(N[1]<<N[0])+N[2]}function E(N,m){const fe=N[0],U=N[1],Ie=N[2];if(m.getMinZoom()>fe||fe>m.getMaxZoom())return!1;const J=m.getFullTileRange(fe);return!J||J.containsXY(U,Ie)}B.d(Ue,{K:()=>oe,N:()=>Z,N5:()=>E,dp:()=>ee,gr:()=>ye,i7:()=>me,tW:()=>pe})},5534:(Pe,Ue,B)=>{"use strict";B.d(Ue,{A:()=>J});var Z=B(6990),ee=B(3139),me=B(5940),ye=B(9973),oe=B(8507),pe=B(6690),E=B(9542),N=B(2058),m=B(9270);const fe=[0,0,0],J=class Ie{constructor(R){let X;if(this.minZoom=void 0!==R.minZoom?R.minZoom:0,this.resolutions_=R.resolutions,(0,me.v)((0,N.WC)(this.resolutions_,(G,F)=>F-G,!0),"`resolutions` must be sorted in descending order"),!R.origins)for(let G=0,F=this.resolutions_.length-1;G<F;++G)if(X){if(this.resolutions_[G]/this.resolutions_[G+1]!==X){X=void 0;break}}else X=this.resolutions_[G]/this.resolutions_[G+1];this.zoomFactor_=X,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==R.origin?R.origin:null,this.origins_=null,void 0!==R.origins&&(this.origins_=R.origins,(0,me.v)(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const Q=R.extent;void 0!==Q&&!this.origin_&&!this.origins_&&(this.origin_=(0,oe.Py)(Q)),(0,me.v)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==R.tileSizes&&(this.tileSizes_=R.tileSizes,(0,me.v)(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==R.tileSize?R.tileSize:this.tileSizes_?null:ee.R,(0,me.v)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==Q?Q:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==R.sizes?this.fullTileRanges_=R.sizes.map((G,F)=>{const ae=new Z.A(Math.min(0,G[0]),Math.max(G[0]-1,-1),Math.min(0,G[1]),Math.max(G[1]-1,-1));if(Q){const le=this.getTileRangeForExtentAndZ(Q,F);ae.minX=Math.max(le.minX,ae.minX),ae.maxX=Math.min(le.maxX,ae.maxX),ae.minY=Math.max(le.minY,ae.minY),ae.maxY=Math.min(le.maxY,ae.maxY)}return ae}):Q&&this.calculateTileRanges_(Q)}forEachTileCoord(R,X,Q){const G=this.getTileRangeForExtentAndZ(R,X);for(let F=G.minX,ae=G.maxX;F<=ae;++F)for(let le=G.minY,Le=G.maxY;le<=Le;++le)Q([X,F,le])}forEachTileCoordParentTileRange(R,X,Q,G){let F,ae,le,Le=null,he=R[0]-1;for(2===this.zoomFactor_?(ae=R[1],le=R[2]):Le=this.getTileCoordExtent(R,G);he>=this.minZoom;){if(void 0!==ae&&void 0!==le?(ae=Math.floor(ae/2),le=Math.floor(le/2),F=(0,Z.N)(ae,ae,le,le,Q)):F=this.getTileRangeForExtentAndZ(Le,he,Q),X(he,F))return!0;--he}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(R){return this.origin_?this.origin_:this.origins_[R]}getResolution(R){return this.resolutions_[R]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(R,X,Q){if(R[0]<this.maxZoom){if(2===this.zoomFactor_){const F=2*R[1],ae=2*R[2];return(0,Z.N)(F,F+1,ae,ae+1,X)}const G=this.getTileCoordExtent(R,Q||this.tmpExtent_);return this.getTileRangeForExtentAndZ(G,R[0]+1,X)}return null}getTileRangeForTileCoordAndZ(R,X,Q){if(X>this.maxZoom||X<this.minZoom)return null;const G=R[0],F=R[1],ae=R[2];if(X===G)return(0,Z.N)(F,ae,F,ae,Q);if(this.zoomFactor_){const Le=Math.pow(this.zoomFactor_,X-G),he=Math.floor(F*Le),Be=Math.floor(ae*Le);if(X<G)return(0,Z.N)(he,he,Be,Be,Q);const we=Math.floor(Le*(F+1))-1,Ne=Math.floor(Le*(ae+1))-1;return(0,Z.N)(he,we,Be,Ne,Q)}const le=this.getTileCoordExtent(R,this.tmpExtent_);return this.getTileRangeForExtentAndZ(le,X,Q)}getTileRangeForExtentAndZ(R,X,Q){this.getTileCoordForXYAndZ_(R[0],R[3],X,!1,fe);const G=fe[1],F=fe[2];return this.getTileCoordForXYAndZ_(R[2],R[1],X,!0,fe),(0,Z.N)(G,fe[1],F,fe[2],Q)}getTileCoordCenter(R){const X=this.getOrigin(R[0]),Q=this.getResolution(R[0]),G=(0,m.xq)(this.getTileSize(R[0]),this.tmpSize_);return[X[0]+(R[1]+.5)*G[0]*Q,X[1]-(R[2]+.5)*G[1]*Q]}getTileCoordExtent(R,X){const Q=this.getOrigin(R[0]),G=this.getResolution(R[0]),F=(0,m.xq)(this.getTileSize(R[0]),this.tmpSize_),ae=Q[0]+R[1]*F[0]*G,le=Q[1]-(R[2]+1)*F[1]*G;return(0,oe.N)(ae,le,ae+F[0]*G,le+F[1]*G,X)}getTileCoordForCoordAndResolution(R,X,Q){return this.getTileCoordForXYAndResolution_(R[0],R[1],X,!1,Q)}getTileCoordForXYAndResolution_(R,X,Q,G,F){const ae=this.getZForResolution(Q),le=Q/this.getResolution(ae),Le=this.getOrigin(ae),he=(0,m.xq)(this.getTileSize(ae),this.tmpSize_);let Be=le*(R-Le[0])/Q/he[0],we=le*(Le[1]-X)/Q/he[1];return G?(Be=(0,ye.mk)(Be,5)-1,we=(0,ye.mk)(we,5)-1):(Be=(0,ye.RI)(Be,5),we=(0,ye.RI)(we,5)),(0,pe.N)(ae,Be,we,F)}getTileCoordForXYAndZ_(R,X,Q,G,F){const ae=this.getOrigin(Q),le=this.getResolution(Q),Le=(0,m.xq)(this.getTileSize(Q),this.tmpSize_);let he=(R-ae[0])/le/Le[0],Be=(ae[1]-X)/le/Le[1];return G?(he=(0,ye.mk)(he,5)-1,Be=(0,ye.mk)(Be,5)-1):(he=(0,ye.RI)(he,5),Be=(0,ye.RI)(Be,5)),(0,pe.N)(Q,he,Be,F)}getTileCoordForCoordAndZ(R,X,Q){return this.getTileCoordForXYAndZ_(R[0],R[1],X,!1,Q)}getTileCoordResolution(R){return this.resolutions_[R[0]]}getTileSize(R){return this.tileSize_?this.tileSize_:this.tileSizes_[R]}getFullTileRange(R){return this.fullTileRanges_?this.fullTileRanges_[R]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,R):null}getZForResolution(R,X){const Q=(0,N.FT)(this.resolutions_,R,X||0);return(0,ye.qE)(Q,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(R,X){return(0,E.sj)(X,0,X.length,2,this.getTileCoordExtent(R))}calculateTileRanges_(R){const X=this.resolutions_.length,Q=new Array(X);for(let G=this.minZoom;G<X;++G)Q[G]=this.getTileRangeForExtentAndZ(R,G);this.fullTileRanges_=Q}}},3139:(Pe,Ue,B)=>{"use strict";B.d(Ue,{L:()=>Z,R:()=>ee});const Z=42,ee=256},3308:(Pe,Ue,B)=>{"use strict";function Z(me,ye,oe,pe,E,N,m){try{var fe=me[N](m),U=fe.value}catch(Ie){return void oe(Ie)}fe.done?ye(U):Promise.resolve(U).then(pe,E)}function ee(me){return function(){var ye=this,oe=arguments;return new Promise(function(pe,E){var N=me.apply(ye,oe);function m(U){Z(N,pe,E,m,fe,"next",U)}function fe(U){Z(N,pe,E,m,fe,"throw",U)}m(void 0)})}}B.d(Ue,{A:()=>ee})},1322:(Pe,Ue,B)=>{"use strict";function Z(ee,me){if(!(ee instanceof me))throw new TypeError("Cannot call a class as a function")}B.d(Ue,{A:()=>Z})},1308:(Pe,Ue,B)=>{"use strict";B.d(Ue,{A:()=>me});var Z=B(6185);function ee(ye,oe){for(var pe=0;pe<oe.length;pe++){var E=oe[pe];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(ye,(0,Z.A)(E.key),E)}}function me(ye,oe,pe){return oe&&ee(ye.prototype,oe),pe&&ee(ye,pe),Object.defineProperty(ye,"prototype",{writable:!1}),ye}},3380:(Pe,Ue,B)=>{"use strict";B.d(Ue,{A:()=>ee});var Z=B(6185);function ee(me,ye,oe){return(ye=(0,Z.A)(ye))in me?Object.defineProperty(me,ye,{value:oe,enumerable:!0,configurable:!0,writable:!0}):me[ye]=oe,me}},4009:(Pe,Ue,B)=>{"use strict";function Z(ee){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(me){return me.__proto__||Object.getPrototypeOf(me)})(ee)}B.d(Ue,{A:()=>Z})},6190:(Pe,Ue,B)=>{"use strict";function Z(me,ye){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,pe){return oe.__proto__=pe,oe})(me,ye)}function ee(me,ye){if("function"!=typeof ye&&null!==ye)throw new TypeError("Super expression must either be null or a function");me.prototype=Object.create(ye&&ye.prototype,{constructor:{value:me,writable:!0,configurable:!0}}),Object.defineProperty(me,"prototype",{writable:!1}),ye&&Z(me,ye)}B.d(Ue,{A:()=>ee})},1853:(Pe,Ue,B)=>{"use strict";B.d(Ue,{A:()=>me});var Z=B(9391);function me(ye,oe){if(oe&&("object"==(0,Z.A)(oe)||"function"==typeof oe))return oe;if(void 0!==oe)throw new TypeError("Derived constructors may only return object or undefined");return function ee(ye){if(void 0===ye)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ye}(ye)}},6185:(Pe,Ue,B)=>{"use strict";B.d(Ue,{A:()=>me});var Z=B(9391);function me(ye){var oe=function ee(ye,oe){if("object"!=(0,Z.A)(ye)||!ye)return ye;var pe=ye[Symbol.toPrimitive];if(void 0!==pe){var E=pe.call(ye,oe||"default");if("object"!=(0,Z.A)(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===oe?String:Number)(ye)}(ye,"string");return"symbol"==(0,Z.A)(oe)?oe:oe+""}},9391:(Pe,Ue,B)=>{"use strict";function Z(ee){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(me){return typeof me}:function(me){return me&&"function"==typeof Symbol&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me})(ee)}B.d(Ue,{A:()=>Z})}},Pe=>{Pe(Pe.s=6051)}]);"use strict";(self.webpackChunkwebcomponents=self.webpackChunkwebcomponents||[]).push([[461],{7096:(te,Q,ve)=>{ve(2260)},2260:()=>{const te=globalThis;function Q(e){return(te.__Zone_symbol_prefix||"__zone_symbol__")+e}const Te=Object.getOwnPropertyDescriptor,Le=Object.defineProperty,Ie=Object.getPrototypeOf,_t=Object.create,Et=Array.prototype.slice,Me="addEventListener",Ze="removeEventListener",Ae=Q(Me),je=Q(Ze),ae="true",le="false",Pe=Q("");function He(e,r){return Zone.current.wrap(e,r)}function xe(e,r,c,t,i){return Zone.current.scheduleMacroTask(e,r,c,t,i)}const j=Q,Ce=typeof window<"u",ge=Ce?window:void 0,$=Ce&&ge||globalThis,Tt="removeAttribute";function Ve(e,r){for(let c=e.length-1;c>=0;c--)"function"==typeof e[c]&&(e[c]=He(e[c],r+"_"+c));return e}function We(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&typeof e.set>"u")}const qe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,De=!("nw"in $)&&typeof $.process<"u"&&"[object process]"===$.process.toString(),Ge=!De&&!qe&&!(!Ce||!ge.HTMLElement),Xe=typeof $.process<"u"&&"[object process]"===$.process.toString()&&!qe&&!(!Ce||!ge.HTMLElement),Se={},mt=j("enable_beforeunload"),Ye=function(e){if(!(e=e||$.event))return;let r=Se[e.type];r||(r=Se[e.type]=j("ON_PROPERTY"+e.type));const c=this||e.target||$,t=c[r];let i;return Ge&&c===ge&&"error"===e.type?(i=t&&t.call(this,e.message,e.filename,e.lineno,e.colno,e.error),!0===i&&e.preventDefault()):(i=t&&t.apply(this,arguments),"beforeunload"===e.type&&$[mt]&&"string"==typeof i?e.returnValue=i:null!=i&&!i&&e.preventDefault()),i};function $e(e,r,c){let t=Te(e,r);if(!t&&c&&Te(c,r)&&(t={enumerable:!0,configurable:!0}),!t||!t.configurable)return;const i=j("on"+r+"patched");if(e.hasOwnProperty(i)&&e[i])return;delete t.writable,delete t.value;const u=t.get,E=t.set,T=r.slice(2);let p=Se[T];p||(p=Se[T]=j("ON_PROPERTY"+T)),t.set=function(D){let d=this;!d&&e===$&&(d=$),d&&("function"==typeof d[p]&&d.removeEventListener(T,Ye),E&&E.call(d,null),d[p]=D,"function"==typeof D&&d.addEventListener(T,Ye,!1))},t.get=function(){let D=this;if(!D&&e===$&&(D=$),!D)return null;const d=D[p];if(d)return d;if(u){let w=u.call(this);if(w)return t.set.call(this,w),"function"==typeof D[Tt]&&D.removeAttribute(r),w}return null},Le(e,r,t),e[i]=!0}function Ke(e,r,c){if(r)for(let t=0;t<r.length;t++)$e(e,"on"+r[t],c);else{const t=[];for(const i in e)"on"==i.slice(0,2)&&t.push(i);for(let i=0;i<t.length;i++)$e(e,t[i],c)}}const re=j("originalInstance");function we(e){const r=$[e];if(!r)return;$[j(e)]=r,$[e]=function(){const i=Ve(arguments,e);switch(i.length){case 0:this[re]=new r;break;case 1:this[re]=new r(i[0]);break;case 2:this[re]=new r(i[0],i[1]);break;case 3:this[re]=new r(i[0],i[1],i[2]);break;case 4:this[re]=new r(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},fe($[e],r);const c=new r(function(){});let t;for(t in c)"XMLHttpRequest"===e&&"responseBlob"===t||function(i){"function"==typeof c[i]?$[e].prototype[i]=function(){return this[re][i].apply(this[re],arguments)}:Le($[e].prototype,i,{set:function(u){"function"==typeof u?(this[re][i]=He(u,e+"."+i),fe(this[re][i],u)):this[re][i]=u},get:function(){return this[re][i]}})}(t);for(t in r)"prototype"!==t&&r.hasOwnProperty(t)&&($[e][t]=r[t])}function ue(e,r,c){let t=e;for(;t&&!t.hasOwnProperty(r);)t=Ie(t);!t&&e[r]&&(t=e);const i=j(r);let u=null;if(t&&(!(u=t[i])||!t.hasOwnProperty(i))&&(u=t[i]=t[r],We(t&&Te(t,r)))){const T=c(u,i,r);t[r]=function(){return T(this,arguments)},fe(t[r],u)}return u}function pt(e,r,c){let t=null;function i(u){const E=u.data;return E.args[E.cbIdx]=function(){u.invoke.apply(this,arguments)},t.apply(E.target,E.args),u}t=ue(e,r,u=>function(E,T){const p=c(E,T);return p.cbIdx>=0&&"function"==typeof T[p.cbIdx]?xe(p.name,T[p.cbIdx],p,i):u.apply(E,T)})}function fe(e,r){e[j("OriginalDelegate")]=r}let Je=!1,Be=!1;function kt(){if(Je)return Be;Je=!0;try{const e=ge.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&(Be=!0)}catch{}return Be}function Qe(e){return"function"==typeof e}function et(e){return"number"==typeof e}let me=!1;if(typeof window<"u")try{const e=Object.defineProperty({},"passive",{get:function(){me=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch{me=!1}const vt={useG:!0},ne={},tt={},nt=new RegExp("^"+Pe+"(\\w+)(true|false)$"),rt=j("propagationStopped");function ot(e,r){const c=(r?r(e):e)+le,t=(r?r(e):e)+ae,i=Pe+c,u=Pe+t;ne[e]={},ne[e][le]=i,ne[e][ae]=u}function bt(e,r,c,t){const i=t&&t.add||Me,u=t&&t.rm||Ze,E=t&&t.listeners||"eventListeners",T=t&&t.rmAll||"removeAllListeners",p=j(i),D="."+i+":",d="prependListener",w="."+d+":",Z=function(k,h,H){if(k.isRemoved)return;const V=k.callback;let Y;"object"==typeof V&&V.handleEvent&&(k.callback=g=>V.handleEvent(g),k.originalDelegate=V);try{k.invoke(k,h,[H])}catch(g){Y=g}const G=k.options;return G&&"object"==typeof G&&G.once&&h[u].call(h,H.type,k.originalDelegate?k.originalDelegate:k.callback,G),Y};function x(k,h,H){if(!(h=h||e.event))return;const V=k||h.target||e,Y=V[ne[h.type][H?ae:le]];if(Y){const G=[];if(1===Y.length){const g=Z(Y[0],V,h);g&&G.push(g)}else{const g=Y.slice();for(let z=0;z<g.length&&(!h||!0!==h[rt]);z++){const O=Z(g[z],V,h);O&&G.push(O)}}if(1===G.length)throw G[0];for(let g=0;g<G.length;g++){const z=G[g];r.nativeScheduleMicroTask(()=>{throw z})}}}const U=function(k){return x(this,k,!1)},K=function(k){return x(this,k,!0)};function J(k,h){if(!k)return!1;let H=!0;h&&void 0!==h.useG&&(H=h.useG);const V=h&&h.vh;let Y=!0;h&&void 0!==h.chkDup&&(Y=h.chkDup);let G=!1;h&&void 0!==h.rt&&(G=h.rt);let g=k;for(;g&&!g.hasOwnProperty(i);)g=Ie(g);if(!g&&k[i]&&(g=k),!g||g[p])return!1;const z=h&&h.eventNameToString,O={},R=g[p]=g[i],b=g[j(u)]=g[u],S=g[j(E)]=g[E],ee=g[j(T)]=g[T];let W;h&&h.prepend&&(W=g[j(h.prepend)]=g[h.prepend]);const q=H?function(s){if(!O.isExisting)return R.call(O.target,O.eventName,O.capture?K:U,O.options)}:function(s){return R.call(O.target,O.eventName,s.invoke,O.options)},A=H?function(s){if(!s.isRemoved){const l=ne[s.eventName];let v;l&&(v=l[s.capture?ae:le]);const C=v&&s.target[v];if(C)for(let m=0;m<C.length;m++)if(C[m]===s){C.splice(m,1),s.isRemoved=!0,s.removeAbortListener&&(s.removeAbortListener(),s.removeAbortListener=null),0===C.length&&(s.allRemoved=!0,s.target[v]=null);break}}if(s.allRemoved)return b.call(s.target,s.eventName,s.capture?K:U,s.options)}:function(s){return b.call(s.target,s.eventName,s.invoke,s.options)},he=h&&h.diff?h.diff:function(s,l){const v=typeof l;return"function"===v&&s.callback===l||"object"===v&&s.originalDelegate===l},de=Zone[j("UNPATCHED_EVENTS")],oe=e[j("PASSIVE_EVENTS")],a=function(s,l,v,C,m=!1,L=!1){return function(){const I=this||e;let M=arguments[0];h&&h.transferEventName&&(M=h.transferEventName(M));let B=arguments[1];if(!B)return s.apply(this,arguments);if(De&&"uncaughtException"===M)return s.apply(this,arguments);let F=!1;if("function"!=typeof B){if(!B.handleEvent)return s.apply(this,arguments);F=!0}if(V&&!V(s,B,I,arguments))return;const Ee=me&&!!oe&&-1!==oe.indexOf(M),ie=function f(s){if("object"==typeof s&&null!==s){const l={...s};return s.signal&&(l.signal=s.signal),l}return s}(function N(s,l){return!me&&"object"==typeof s&&s?!!s.capture:me&&l?"boolean"==typeof s?{capture:s,passive:!0}:s?"object"==typeof s&&!1!==s.passive?{...s,passive:!0}:s:{passive:!0}:s}(arguments[2],Ee)),ye=ie?.signal;if(ye?.aborted)return;if(de)for(let ce=0;ce<de.length;ce++)if(M===de[ce])return Ee?s.call(I,M,B,ie):s.apply(this,arguments);const Ue=!!ie&&("boolean"==typeof ie||ie.capture),lt=!(!ie||"object"!=typeof ie)&&ie.once,At=Zone.current;let ze=ne[M];ze||(ot(M,z),ze=ne[M]);const ut=ze[Ue?ae:le];let Ne,ke=I[ut],ft=!1;if(ke){if(ft=!0,Y)for(let ce=0;ce<ke.length;ce++)if(he(ke[ce],B))return}else ke=I[ut]=[];const ht=I.constructor.name,dt=tt[ht];dt&&(Ne=dt[M]),Ne||(Ne=ht+l+(z?z(M):M)),O.options=ie,lt&&(O.options.once=!1),O.target=I,O.capture=Ue,O.eventName=M,O.isExisting=ft;const Re=H?vt:void 0;Re&&(Re.taskData=O),ye&&(O.options.signal=void 0);const se=At.scheduleEventTask(Ne,B,Re,v,C);if(ye){O.options.signal=ye;const ce=()=>se.zone.cancelTask(se);s.call(ye,"abort",ce,{once:!0}),se.removeAbortListener=()=>ye.removeEventListener("abort",ce)}return O.target=null,Re&&(Re.taskData=null),lt&&(O.options.once=!0),!me&&"boolean"==typeof se.options||(se.options=ie),se.target=I,se.capture=Ue,se.eventName=M,F&&(se.originalDelegate=B),L?ke.unshift(se):ke.push(se),m?I:void 0}};return g[i]=a(R,D,q,A,G),W&&(g[d]=a(W,w,function(s){return W.call(O.target,O.eventName,s.invoke,O.options)},A,G,!0)),g[u]=function(){const s=this||e;let l=arguments[0];h&&h.transferEventName&&(l=h.transferEventName(l));const v=arguments[2],C=!!v&&("boolean"==typeof v||v.capture),m=arguments[1];if(!m)return b.apply(this,arguments);if(V&&!V(b,m,s,arguments))return;const L=ne[l];let I;L&&(I=L[C?ae:le]);const M=I&&s[I];if(M)for(let B=0;B<M.length;B++){const F=M[B];if(he(F,m))return M.splice(B,1),F.isRemoved=!0,0!==M.length||(F.allRemoved=!0,s[I]=null,C||"string"!=typeof l)||(s[Pe+"ON_PROPERTY"+l]=null),F.zone.cancelTask(F),G?s:void 0}return b.apply(this,arguments)},g[E]=function(){const s=this||e;let l=arguments[0];h&&h.transferEventName&&(l=h.transferEventName(l));const v=[],C=st(s,z?z(l):l);for(let m=0;m<C.length;m++){const L=C[m];v.push(L.originalDelegate?L.originalDelegate:L.callback)}return v},g[T]=function(){const s=this||e;let l=arguments[0];if(l){h&&h.transferEventName&&(l=h.transferEventName(l));const v=ne[l];if(v){const L=s[v[le]],I=s[v[ae]];if(L){const M=L.slice();for(let B=0;B<M.length;B++){const F=M[B];this[u].call(this,l,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}if(I){const M=I.slice();for(let B=0;B<M.length;B++){const F=M[B];this[u].call(this,l,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}}}else{const v=Object.keys(s);for(let C=0;C<v.length;C++){const L=nt.exec(v[C]);let I=L&&L[1];I&&"removeListener"!==I&&this[T].call(this,I)}this[T].call(this,"removeListener")}if(G)return this},fe(g[i],R),fe(g[u],b),ee&&fe(g[T],ee),S&&fe(g[E],S),!0}let X=[];for(let k=0;k<c.length;k++)X[k]=J(c[k],t);return X}function st(e,r){if(!r){const u=[];for(let E in e){const T=nt.exec(E);let p=T&&T[1];if(p&&(!r||p===r)){const D=e[E];if(D)for(let d=0;d<D.length;d++)u.push(D[d])}}return u}let c=ne[r];c||(ot(r),c=ne[r]);const t=e[c[le]],i=e[c[ae]];return t?i?t.concat(i):t.slice():i?i.slice():[]}function Pt(e,r){const c=e.Event;c&&c.prototype&&r.patchMethod(c.prototype,"stopImmediatePropagation",t=>function(i,u){i[rt]=!0,t&&t.apply(i,u)})}const Oe=j("zoneTask");function pe(e,r,c,t){let i=null,u=null;c+=t;const E={};function T(D){const d=D.data;d.args[0]=function(){return D.invoke.apply(this,arguments)};const w=i.apply(e,d.args);return et(w)?d.handleId=w:(d.handle=w,d.isRefreshable=Qe(w.refresh)),D}function p(D){const{handle:d,handleId:w}=D.data;return u.call(e,d??w)}i=ue(e,r+=t,D=>function(d,w){if(Qe(w[0])){const Z={isRefreshable:!1,isPeriodic:"Interval"===t,delay:"Timeout"===t||"Interval"===t?w[1]||0:void 0,args:w},x=w[0];w[0]=function(){try{return x.apply(this,arguments)}finally{const{handle:H,handleId:V,isPeriodic:Y,isRefreshable:G}=Z;!Y&&!G&&(V?delete E[V]:H&&(H[Oe]=null))}};const U=xe(r,w[0],Z,T,p);if(!U)return U;const{handleId:K,handle:J,isRefreshable:X,isPeriodic:k}=U.data;if(K)E[K]=U;else if(J&&(J[Oe]=U,X&&!k)){const h=J.refresh;J.refresh=function(){const{zone:H,state:V}=U;return"notScheduled"===V?(U._state="scheduled",H._updateTaskCount(U,1)):"running"===V&&(U._state="scheduling"),h.call(this)}}return J??K??U}return D.apply(e,w)}),u=ue(e,c,D=>function(d,w){const Z=w[0];let x;et(Z)?(x=E[Z],delete E[Z]):(x=Z?.[Oe],x?Z[Oe]=null:x=Z),x?.type?x.cancelFn&&x.zone.cancelTask(x):D.apply(e,w)})}function it(e,r,c){if(!c||0===c.length)return r;const t=c.filter(u=>u.target===e);if(!t||0===t.length)return r;const i=t[0].ignoreProperties;return r.filter(u=>-1===i.indexOf(u))}function ct(e,r,c,t){e&&Ke(e,it(e,r,c),t)}function Fe(e){return Object.getOwnPropertyNames(e).filter(r=>r.startsWith("on")&&r.length>2).map(r=>r.substring(2))}function It(e,r,c,t,i){const u=Zone.__symbol__(t);if(r[u])return;const E=r[u]=r[t];r[t]=function(T,p,D){return p&&p.prototype&&i.forEach(function(d){const w=`${c}.${t}::`+d,Z=p.prototype;try{if(Z.hasOwnProperty(d)){const x=e.ObjectGetOwnPropertyDescriptor(Z,d);x&&x.value?(x.value=e.wrapWithCurrentZone(x.value,w),e._redefineProperty(p.prototype,d,x)):Z[d]&&(Z[d]=e.wrapWithCurrentZone(Z[d],w))}else Z[d]&&(Z[d]=e.wrapWithCurrentZone(Z[d],w))}catch{}}),E.call(r,T,p,D)},e.attachOriginToPatched(r[t],E)}const at=function be(){const e=globalThis,r=!0===e[Q("forceDuplicateZoneCheck")];if(e.Zone&&(r||"function"!=typeof e.Zone.__symbol__))throw new Error("Zone already loaded.");return e.Zone??=function ve(){const e=te.performance;function r(N){e&&e.mark&&e.mark(N)}function c(N,_){e&&e.measure&&e.measure(N,_)}r("Zone");let t=(()=>{class N{static{this.__symbol__=Q}static assertZonePatched(){if(te.Promise!==O.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let n=N.current;for(;n.parent;)n=n.parent;return n}static get current(){return b.zone}static get currentTask(){return S}static __load_patch(n,o,y=!1){if(O.hasOwnProperty(n)){const P=!0===te[Q("forceDuplicateZoneCheck")];if(!y&&P)throw Error("Already loaded patch: "+n)}else if(!te["__Zone_disable_"+n]){const P="Zone:"+n;r(P),O[n]=o(te,N,R),c(P,P)}}get parent(){return this._parent}get name(){return this._name}constructor(n,o){this._parent=n,this._name=o?o.name||"unnamed":"<root>",this._properties=o&&o.properties||{},this._zoneDelegate=new u(this,this._parent&&this._parent._zoneDelegate,o)}get(n){const o=this.getZoneWith(n);if(o)return o._properties[n]}getZoneWith(n){let o=this;for(;o;){if(o._properties.hasOwnProperty(n))return o;o=o._parent}return null}fork(n){if(!n)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,n)}wrap(n,o){if("function"!=typeof n)throw new Error("Expecting function got: "+n);const y=this._zoneDelegate.intercept(this,n,o),P=this;return function(){return P.runGuarded(y,this,arguments,o)}}run(n,o,y,P){b={parent:b,zone:this};try{return this._zoneDelegate.invoke(this,n,o,y,P)}finally{b=b.parent}}runGuarded(n,o=null,y,P){b={parent:b,zone:this};try{try{return this._zoneDelegate.invoke(this,n,o,y,P)}catch(q){if(this._zoneDelegate.handleError(this,q))throw q}}finally{b=b.parent}}runTask(n,o,y){if(n.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(n.zone||J).name+"; Execution: "+this.name+")");const P=n,{type:q,data:{isPeriodic:A=!1,isRefreshable:_e=!1}={}}=n;if(n.state===X&&(q===z||q===g))return;const he=n.state!=H;he&&P._transitionTo(H,h);const de=S;S=P,b={parent:b,zone:this};try{q==g&&n.data&&!A&&!_e&&(n.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,P,o,y)}catch(oe){if(this._zoneDelegate.handleError(this,oe))throw oe}}finally{const oe=n.state;if(oe!==X&&oe!==Y)if(q==z||A||_e&&oe===k)he&&P._transitionTo(h,H,k);else{const f=P._zoneDelegates;this._updateTaskCount(P,-1),he&&P._transitionTo(X,H,X),_e&&(P._zoneDelegates=f)}b=b.parent,S=de}}scheduleTask(n){if(n.zone&&n.zone!==this){let y=this;for(;y;){if(y===n.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${n.zone.name}`);y=y.parent}}n._transitionTo(k,X);const o=[];n._zoneDelegates=o,n._zone=this;try{n=this._zoneDelegate.scheduleTask(this,n)}catch(y){throw n._transitionTo(Y,k,X),this._zoneDelegate.handleError(this,y),y}return n._zoneDelegates===o&&this._updateTaskCount(n,1),n.state==k&&n._transitionTo(h,k),n}scheduleMicroTask(n,o,y,P){return this.scheduleTask(new E(G,n,o,y,P,void 0))}scheduleMacroTask(n,o,y,P,q){return this.scheduleTask(new E(g,n,o,y,P,q))}scheduleEventTask(n,o,y,P,q){return this.scheduleTask(new E(z,n,o,y,P,q))}cancelTask(n){if(n.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(n.zone||J).name+"; Execution: "+this.name+")");if(n.state===h||n.state===H){n._transitionTo(V,h,H);try{this._zoneDelegate.cancelTask(this,n)}catch(o){throw n._transitionTo(Y,V),this._zoneDelegate.handleError(this,o),o}return this._updateTaskCount(n,-1),n._transitionTo(X,V),n.runCount=-1,n}}_updateTaskCount(n,o){const y=n._zoneDelegates;-1==o&&(n._zoneDelegates=null);for(let P=0;P<y.length;P++)y[P]._updateTaskCount(n.type,o)}}return N})();const i={name:"",onHasTask:(N,_,n,o)=>N.hasTask(n,o),onScheduleTask:(N,_,n,o)=>N.scheduleTask(n,o),onInvokeTask:(N,_,n,o,y,P)=>N.invokeTask(n,o,y,P),onCancelTask:(N,_,n,o)=>N.cancelTask(n,o)};class u{get zone(){return this._zone}constructor(_,n,o){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=_,this._parentDelegate=n,this._forkZS=o&&(o&&o.onFork?o:n._forkZS),this._forkDlgt=o&&(o.onFork?n:n._forkDlgt),this._forkCurrZone=o&&(o.onFork?this._zone:n._forkCurrZone),this._interceptZS=o&&(o.onIntercept?o:n._interceptZS),this._interceptDlgt=o&&(o.onIntercept?n:n._interceptDlgt),this._interceptCurrZone=o&&(o.onIntercept?this._zone:n._interceptCurrZone),this._invokeZS=o&&(o.onInvoke?o:n._invokeZS),this._invokeDlgt=o&&(o.onInvoke?n:n._invokeDlgt),this._invokeCurrZone=o&&(o.onInvoke?this._zone:n._invokeCurrZone),this._handleErrorZS=o&&(o.onHandleError?o:n._handleErrorZS),this._handleErrorDlgt=o&&(o.onHandleError?n:n._handleErrorDlgt),this._handleErrorCurrZone=o&&(o.onHandleError?this._zone:n._handleErrorCurrZone),this._scheduleTaskZS=o&&(o.onScheduleTask?o:n._scheduleTaskZS),this._scheduleTaskDlgt=o&&(o.onScheduleTask?n:n._scheduleTaskDlgt),this._scheduleTaskCurrZone=o&&(o.onScheduleTask?this._zone:n._scheduleTaskCurrZone),this._invokeTaskZS=o&&(o.onInvokeTask?o:n._invokeTaskZS),this._invokeTaskDlgt=o&&(o.onInvokeTask?n:n._invokeTaskDlgt),this._invokeTaskCurrZone=o&&(o.onInvokeTask?this._zone:n._invokeTaskCurrZone),this._cancelTaskZS=o&&(o.onCancelTask?o:n._cancelTaskZS),this._cancelTaskDlgt=o&&(o.onCancelTask?n:n._cancelTaskDlgt),this._cancelTaskCurrZone=o&&(o.onCancelTask?this._zone:n._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const y=o&&o.onHasTask;(y||n&&n._hasTaskZS)&&(this._hasTaskZS=y?o:i,this._hasTaskDlgt=n,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,o.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=n,this._scheduleTaskCurrZone=this._zone),o.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=n,this._invokeTaskCurrZone=this._zone),o.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=n,this._cancelTaskCurrZone=this._zone))}fork(_,n){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,_,n):new t(_,n)}intercept(_,n,o){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,_,n,o):n}invoke(_,n,o,y,P){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,_,n,o,y,P):n.apply(o,y)}handleError(_,n){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,_,n)}scheduleTask(_,n){let o=n;if(this._scheduleTaskZS)this._hasTaskZS&&o._zoneDelegates.push(this._hasTaskDlgtOwner),o=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,_,n),o||(o=n);else if(n.scheduleFn)n.scheduleFn(n);else{if(n.type!=G)throw new Error("Task is missing scheduleFn.");U(n)}return o}invokeTask(_,n,o,y){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,_,n,o,y):n.callback.apply(o,y)}cancelTask(_,n){let o;if(this._cancelTaskZS)o=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,_,n);else{if(!n.cancelFn)throw Error("Task is not cancelable");o=n.cancelFn(n)}return o}hasTask(_,n){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,_,n)}catch(o){this.handleError(_,o)}}_updateTaskCount(_,n){const o=this._taskCounts,y=o[_],P=o[_]=y+n;if(P<0)throw new Error("More tasks executed then were scheduled.");0!=y&&0!=P||this.hasTask(this._zone,{microTask:o.microTask>0,macroTask:o.macroTask>0,eventTask:o.eventTask>0,change:_})}}class E{constructor(_,n,o,y,P,q){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=_,this.source=n,this.data=y,this.scheduleFn=P,this.cancelFn=q,!o)throw new Error("callback is not defined");this.callback=o;const A=this;this.invoke=_===z&&y&&y.useG?E.invokeTask:function(){return E.invokeTask.call(te,A,this,arguments)}}static invokeTask(_,n,o){_||(_=this),ee++;try{return _.runCount++,_.zone.runTask(_,n,o)}finally{1==ee&&K(),ee--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(X,k)}_transitionTo(_,n,o){if(this._state!==n&&this._state!==o)throw new Error(`${this.type} '${this.source}': can not transition to '${_}', expecting state '${n}'${o?" or '"+o+"'":""}, was '${this._state}'.`);this._state=_,_==X&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const T=Q("setTimeout"),p=Q("Promise"),D=Q("then");let Z,d=[],w=!1;function x(N){if(Z||te[p]&&(Z=te[p].resolve(0)),Z){let _=Z[D];_||(_=Z.then),_.call(Z,N)}else te[T](N,0)}function U(N){0===ee&&0===d.length&&x(K),N&&d.push(N)}function K(){if(!w){for(w=!0;d.length;){const N=d;d=[];for(let _=0;_<N.length;_++){const n=N[_];try{n.zone.runTask(n,null,null)}catch(o){R.onUnhandledError(o)}}}R.microtaskDrainDone(),w=!1}}const J={name:"NO ZONE"},X="notScheduled",k="scheduling",h="scheduled",H="running",V="canceling",Y="unknown",G="microTask",g="macroTask",z="eventTask",O={},R={symbol:Q,currentZoneFrame:()=>b,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:U,showUncaughtError:()=>!t[Q("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W,nativeScheduleMicroTask:x};let b={parent:null,zone:new t(null,null)},S=null,ee=0;function W(){}return c("Zone","Zone"),t}(),e.Zone}();(function Zt(e){(function Nt(e){e.__load_patch("ZoneAwarePromise",(r,c,t)=>{const i=Object.getOwnPropertyDescriptor,u=Object.defineProperty,T=t.symbol,p=[],D=!1!==r[T("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],d=T("Promise"),w=T("then"),Z="__creationTrace__";t.onUnhandledError=f=>{if(t.showUncaughtError()){const a=f&&f.rejection;a?console.error("Unhandled Promise rejection:",a instanceof Error?a.message:a,"; Zone:",f.zone.name,"; Task:",f.task&&f.task.source,"; Value:",a,a instanceof Error?a.stack:void 0):console.error(f)}},t.microtaskDrainDone=()=>{for(;p.length;){const f=p.shift();try{f.zone.runGuarded(()=>{throw f.throwOriginal?f.rejection:f})}catch(a){U(a)}}};const x=T("unhandledPromiseRejectionHandler");function U(f){t.onUnhandledError(f);try{const a=c[x];"function"==typeof a&&a.call(this,f)}catch{}}function K(f){return f&&f.then}function J(f){return f}function X(f){return A.reject(f)}const k=T("state"),h=T("value"),H=T("finally"),V=T("parentPromiseValue"),Y=T("parentPromiseState"),G="Promise.then",g=null,z=!0,O=!1,R=0;function b(f,a){return s=>{try{N(f,a,s)}catch(l){N(f,!1,l)}}}const S=function(){let f=!1;return function(s){return function(){f||(f=!0,s.apply(null,arguments))}}},ee="Promise resolved with itself",W=T("currentTaskTrace");function N(f,a,s){const l=S();if(f===s)throw new TypeError(ee);if(f[k]===g){let v=null;try{("object"==typeof s||"function"==typeof s)&&(v=s&&s.then)}catch(C){return l(()=>{N(f,!1,C)})(),f}if(a!==O&&s instanceof A&&s.hasOwnProperty(k)&&s.hasOwnProperty(h)&&s[k]!==g)n(s),N(f,s[k],s[h]);else if(a!==O&&"function"==typeof v)try{v.call(s,l(b(f,a)),l(b(f,!1)))}catch(C){l(()=>{N(f,!1,C)})()}else{f[k]=a;const C=f[h];if(f[h]=s,f[H]===H&&a===z&&(f[k]=f[Y],f[h]=f[V]),a===O&&s instanceof Error){const m=c.currentTask&&c.currentTask.data&&c.currentTask.data[Z];m&&u(s,W,{configurable:!0,enumerable:!1,writable:!0,value:m})}for(let m=0;m<C.length;)o(f,C[m++],C[m++],C[m++],C[m++]);if(0==C.length&&a==O){f[k]=R;let m=s;try{throw new Error("Uncaught (in promise): "+function E(f){return f&&f.toString===Object.prototype.toString?(f.constructor&&f.constructor.name||"")+": "+JSON.stringify(f):f?f.toString():Object.prototype.toString.call(f)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(L){m=L}D&&(m.throwOriginal=!0),m.rejection=s,m.promise=f,m.zone=c.current,m.task=c.currentTask,p.push(m),t.scheduleMicroTask()}}}return f}const _=T("rejectionHandledHandler");function n(f){if(f[k]===R){try{const a=c[_];a&&"function"==typeof a&&a.call(this,{rejection:f[h],promise:f})}catch{}f[k]=O;for(let a=0;a<p.length;a++)f===p[a].promise&&p.splice(a,1)}}function o(f,a,s,l,v){n(f);const C=f[k],m=C?"function"==typeof l?l:J:"function"==typeof v?v:X;a.scheduleMicroTask(G,()=>{try{const L=f[h],I=!!s&&H===s[H];I&&(s[V]=L,s[Y]=C);const M=a.run(m,void 0,I&&m!==X&&m!==J?[]:[L]);N(s,!0,M)}catch(L){N(s,!1,L)}},s)}const P=function(){},q=r.AggregateError;class A{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(a){return a instanceof A?a:N(new this(null),z,a)}static reject(a){return N(new this(null),O,a)}static withResolvers(){const a={};return a.promise=new A((s,l)=>{a.resolve=s,a.reject=l}),a}static any(a){if(!a||"function"!=typeof a[Symbol.iterator])return Promise.reject(new q([],"All promises were rejected"));const s=[];let l=0;try{for(let m of a)l++,s.push(A.resolve(m))}catch{return Promise.reject(new q([],"All promises were rejected"))}if(0===l)return Promise.reject(new q([],"All promises were rejected"));let v=!1;const C=[];return new A((m,L)=>{for(let I=0;I<s.length;I++)s[I].then(M=>{v||(v=!0,m(M))},M=>{C.push(M),l--,0===l&&(v=!0,L(new q(C,"All promises were rejected")))})})}static race(a){let s,l,v=new this((L,I)=>{s=L,l=I});function C(L){s(L)}function m(L){l(L)}for(let L of a)K(L)||(L=this.resolve(L)),L.then(C,m);return v}static all(a){return A.allWithCallback(a)}static allSettled(a){return(this&&this.prototype instanceof A?this:A).allWithCallback(a,{thenCallback:l=>({status:"fulfilled",value:l}),errorCallback:l=>({status:"rejected",reason:l})})}static allWithCallback(a,s){let l,v,C=new this((M,B)=>{l=M,v=B}),m=2,L=0;const I=[];for(let M of a){K(M)||(M=this.resolve(M));const B=L;try{M.then(F=>{I[B]=s?s.thenCallback(F):F,m--,0===m&&l(I)},F=>{s?(I[B]=s.errorCallback(F),m--,0===m&&l(I)):v(F)})}catch(F){v(F)}m++,L++}return m-=2,0===m&&l(I),C}constructor(a){const s=this;if(!(s instanceof A))throw new Error("Must be an instanceof Promise.");s[k]=g,s[h]=[];try{const l=S();a&&a(l(b(s,z)),l(b(s,O)))}catch(l){N(s,!1,l)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return A}then(a,s){let l=this.constructor?.[Symbol.species];(!l||"function"!=typeof l)&&(l=this.constructor||A);const v=new l(P),C=c.current;return this[k]==g?this[h].push(C,v,a,s):o(this,C,v,a,s),v}catch(a){return this.then(null,a)}finally(a){let s=this.constructor?.[Symbol.species];(!s||"function"!=typeof s)&&(s=A);const l=new s(P);l[H]=H;const v=c.current;return this[k]==g?this[h].push(v,l,a,a):o(this,v,l,a,a),l}}A.resolve=A.resolve,A.reject=A.reject,A.race=A.race,A.all=A.all;const _e=r[d]=r.Promise;r.Promise=A;const he=T("thenPatched");function de(f){const a=f.prototype,s=i(a,"then");if(s&&(!1===s.writable||!s.configurable))return;const l=a.then;a[w]=l,f.prototype.then=function(v,C){return new A((L,I)=>{l.call(this,L,I)}).then(v,C)},f[he]=!0}return t.patchThen=de,_e&&(de(_e),ue(r,"fetch",f=>function oe(f){return function(a,s){let l=f.apply(a,s);if(l instanceof A)return l;let v=l.constructor;return v[he]||de(v),l}}(f))),Promise[c.__symbol__("uncaughtPromiseErrors")]=p,A})})(e),function Lt(e){e.__load_patch("toString",r=>{const c=Function.prototype.toString,t=j("OriginalDelegate"),i=j("Promise"),u=j("Error"),E=function(){if("function"==typeof this){const d=this[t];if(d)return"function"==typeof d?c.call(d):Object.prototype.toString.call(d);if(this===Promise){const w=r[i];if(w)return c.call(w)}if(this===Error){const w=r[u];if(w)return c.call(w)}}return c.call(this)};E[t]=c,Function.prototype.toString=E;const T=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":T.call(this)}})}(e),function Mt(e){e.__load_patch("util",(r,c,t)=>{const i=Fe(r);t.patchOnProperties=Ke,t.patchMethod=ue,t.bindArguments=Ve,t.patchMacroTask=pt;const u=c.__symbol__("BLACK_LISTED_EVENTS"),E=c.__symbol__("UNPATCHED_EVENTS");r[E]&&(r[u]=r[E]),r[u]&&(c[u]=c[E]=r[u]),t.patchEventPrototype=Pt,t.patchEventTarget=bt,t.isIEOrEdge=kt,t.ObjectDefineProperty=Le,t.ObjectGetOwnPropertyDescriptor=Te,t.ObjectCreate=_t,t.ArraySlice=Et,t.patchClass=we,t.wrapWithCurrentZone=He,t.filterProperties=it,t.attachOriginToPatched=fe,t._redefineProperty=Object.defineProperty,t.patchCallbacks=It,t.getGlobalObjects=()=>({globalSources:tt,zoneSymbolEventNames:ne,eventNames:i,isBrowser:Ge,isMix:Xe,isNode:De,TRUE_STR:ae,FALSE_STR:le,ZONE_SYMBOL_PREFIX:Pe,ADD_EVENT_LISTENER_STR:Me,REMOVE_EVENT_LISTENER_STR:Ze})})}(e)})(at),function Ot(e){e.__load_patch("legacy",r=>{const c=r[e.__symbol__("legacyPatch")];c&&c()}),e.__load_patch("timers",r=>{const c="set",t="clear";pe(r,c,t,"Timeout"),pe(r,c,t,"Interval"),pe(r,c,t,"Immediate")}),e.__load_patch("requestAnimationFrame",r=>{pe(r,"request","cancel","AnimationFrame"),pe(r,"mozRequest","mozCancel","AnimationFrame"),pe(r,"webkitRequest","webkitCancel","AnimationFrame")}),e.__load_patch("blocking",(r,c)=>{const t=["alert","prompt","confirm"];for(let i=0;i<t.length;i++)ue(r,t[i],(E,T,p)=>function(D,d){return c.current.run(E,r,d,p)})}),e.__load_patch("EventTarget",(r,c,t)=>{(function Dt(e,r){r.patchEventPrototype(e,r)})(r,t),function Ct(e,r){if(Zone[r.symbol("patchEventTarget")])return;const{eventNames:c,zoneSymbolEventNames:t,TRUE_STR:i,FALSE_STR:u,ZONE_SYMBOL_PREFIX:E}=r.getGlobalObjects();for(let p=0;p<c.length;p++){const D=c[p],Z=E+(D+u),x=E+(D+i);t[D]={},t[D][u]=Z,t[D][i]=x}const T=e.EventTarget;T&&T.prototype&&r.patchEventTarget(e,r,[T&&T.prototype])}(r,t);const i=r.XMLHttpRequestEventTarget;i&&i.prototype&&t.patchEventTarget(r,t,[i.prototype])}),e.__load_patch("MutationObserver",(r,c,t)=>{we("MutationObserver"),we("WebKitMutationObserver")}),e.__load_patch("IntersectionObserver",(r,c,t)=>{we("IntersectionObserver")}),e.__load_patch("FileReader",(r,c,t)=>{we("FileReader")}),e.__load_patch("on_property",(r,c,t)=>{!function St(e,r){if(De&&!Xe||Zone[e.symbol("patchEvents")])return;const c=r.__Zone_ignore_on_properties;let t=[];if(Ge){const i=window;t=t.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const u=function yt(){try{const e=ge.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:i,ignoreProperties:["error"]}]:[];ct(i,Fe(i),c&&c.concat(u),Ie(i))}t=t.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<t.length;i++){const u=r[t[i]];u&&u.prototype&&ct(u.prototype,Fe(u.prototype),c)}}(t,r)}),e.__load_patch("customElements",(r,c,t)=>{!function Rt(e,r){const{isBrowser:c,isMix:t}=r.getGlobalObjects();(c||t)&&e.customElements&&"customElements"in e&&r.patchCallbacks(r,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(r,t)}),e.__load_patch("XHR",(r,c)=>{!function D(d){const w=d.XMLHttpRequest;if(!w)return;const Z=w.prototype;let U=Z[Ae],K=Z[je];if(!U){const R=d.XMLHttpRequestEventTarget;if(R){const b=R.prototype;U=b[Ae],K=b[je]}}const J="readystatechange",X="scheduled";function k(R){const b=R.data,S=b.target;S[E]=!1,S[p]=!1;const ee=S[u];U||(U=S[Ae],K=S[je]),ee&&K.call(S,J,ee);const W=S[u]=()=>{if(S.readyState===S.DONE)if(!b.aborted&&S[E]&&R.state===X){const _=S[c.__symbol__("loadfalse")];if(0!==S.status&&_&&_.length>0){const n=R.invoke;R.invoke=function(){const o=S[c.__symbol__("loadfalse")];for(let y=0;y<o.length;y++)o[y]===R&&o.splice(y,1);!b.aborted&&R.state===X&&n.call(R)},_.push(R)}else R.invoke()}else!b.aborted&&!1===S[E]&&(S[p]=!0)};return U.call(S,J,W),S[t]||(S[t]=R),z.apply(S,b.args),S[E]=!0,R}function h(){}function H(R){const b=R.data;return b.aborted=!0,O.apply(b.target,b.args)}const V=ue(Z,"open",()=>function(R,b){return R[i]=0==b[2],R[T]=b[1],V.apply(R,b)}),G=j("fetchTaskAborting"),g=j("fetchTaskScheduling"),z=ue(Z,"send",()=>function(R,b){if(!0===c.current[g]||R[i])return z.apply(R,b);{const S={target:R,url:R[T],isPeriodic:!1,args:b,aborted:!1},ee=xe("XMLHttpRequest.send",h,S,k,H);R&&!0===R[p]&&!S.aborted&&ee.state===X&&ee.invoke()}}),O=ue(Z,"abort",()=>function(R,b){const S=function x(R){return R[t]}(R);if(S&&"string"==typeof S.type){if(null==S.cancelFn||S.data&&S.data.aborted)return;S.zone.cancelTask(S)}else if(!0===c.current[G])return O.apply(R,b)})}(r);const t=j("xhrTask"),i=j("xhrSync"),u=j("xhrListener"),E=j("xhrScheduled"),T=j("xhrURL"),p=j("xhrErrorBeforeScheduled")}),e.__load_patch("geolocation",r=>{r.navigator&&r.navigator.geolocation&&function gt(e,r){const c=e.constructor.name;for(let t=0;t<r.length;t++){const i=r[t],u=e[i];if(u){if(!We(Te(e,i)))continue;e[i]=(T=>{const p=function(){return T.apply(this,Ve(arguments,c+"."+i))};return fe(p,T),p})(u)}}}(r.navigator.geolocation,["getCurrentPosition","watchPosition"])}),e.__load_patch("PromiseRejectionEvent",(r,c)=>{function t(i){return function(u){st(r,i).forEach(T=>{const p=r.PromiseRejectionEvent;if(p){const D=new p(i,{promise:u.promise,reason:u.rejection});T.invoke(D)}})}}r.PromiseRejectionEvent&&(c[j("unhandledPromiseRejectionHandler")]=t("unhandledrejection"),c[j("rejectionHandledHandler")]=t("rejectionhandled"))}),e.__load_patch("queueMicrotask",(r,c,t)=>{!function wt(e,r){r.patchMethod(e,"queueMicrotask",c=>function(t,i){Zone.current.scheduleMicroTask("queueMicrotask",i[0])})}(r,t)})}(at)}},te=>{te(te.s=7096)}]);(()=>{"use strict";var e,h={},g={};function r(e){var a=g[e];if(void 0!==a)return a.exports;var t=g[e]={id:e,loaded:!1,exports:{}};return h[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}r.m=h,e=[],r.O=(a,t,o,f)=>{if(!t){var n=1/0;for(i=0;i<e.length;i++){for(var[t,o,f]=e[i],p=!0,s=0;s<t.length;s++)(!1&f||n>=f)&&Object.keys(r.O).every(b=>r.O[b](t[s]))?t.splice(s--,1):(p=!1,f<n&&(n=f));if(p){e.splice(i--,1);var d=o();void 0!==d&&(a=d)}}return a}f=f||0;for(var i=e.length;i>0&&e[i-1][2]>f;i--)e[i]=e[i-1];e[i]=[t,o,f]},r.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return r.d(a,{a}),a},(()=>{var a,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;r.t=function(t,o){if(1&o&&(t=this(t)),8&o||"object"==typeof t&&t&&(4&o&&t.__esModule||16&o&&"function"==typeof t.then))return t;var f=Object.create(null);r.r(f);var i={};a=a||[null,e({}),e([]),e(e)];for(var n=2&o&&t;"object"==typeof n&&!~a.indexOf(n);n=e(n))Object.getOwnPropertyNames(n).forEach(p=>i[p]=()=>t[p]);return i.default=()=>t,r.d(f,i),f}})(),r.d=(e,a)=>{for(var t in a)r.o(a,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((a,t)=>(r.f[t](e,a),a),[])),r.u=e=>e+".js",r.miniCssF=e=>{},r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={},a="webcomponents:";r.l=(t,o,f,i)=>{if(e[t])e[t].push(o);else{var n,p;if(void 0!==f)for(var s=document.getElementsByTagName("script"),d=0;d<s.length;d++){var c=s[d];if(c.getAttribute("src")==t||c.getAttribute("data-webpack")==a+f){n=c;break}}n||(p=!0,(n=document.createElement("script")).type="module",n.charset="utf-8",n.timeout=120,r.nc&&n.setAttribute("nonce",r.nc),n.setAttribute("data-webpack",a+f),n.src=r.tu(t)),e[t]=[o];var u=(v,b)=>{n.onerror=n.onload=null,clearTimeout(l);var y=e[t];if(delete e[t],n.parentNode&&n.parentNode.removeChild(n),y&&y.forEach(_=>_(b)),v)return v(b)},l=setTimeout(u.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=u.bind(null,n.onerror),n.onload=u.bind(null,n.onload),p&&document.head.appendChild(n)}}})(),r.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;r.tt=()=>(void 0===e&&(e={createScriptURL:a=>a},typeof trustedTypes<"u"&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("angular#bundler",e))),e)})(),r.tu=e=>r.tt().createScriptURL(e),r.p="",(()=>{var e={121:0};r.f.j=(o,f)=>{var i=r.o(e,o)?e[o]:void 0;if(0!==i)if(i)f.push(i[2]);else if(121!=o){var n=new Promise((c,u)=>i=e[o]=[c,u]);f.push(i[2]=n);var p=r.p+r.u(o),s=new Error;r.l(p,c=>{if(r.o(e,o)&&(0!==(i=e[o])&&(e[o]=void 0),i)){var u=c&&("load"===c.type?"missing":c.type),l=c&&c.target&&c.target.src;s.message="Loading chunk "+o+" failed.\n("+u+": "+l+")",s.name="ChunkLoadError",s.type=u,s.request=l,i[1](s)}},"chunk-"+o,o)}else e[o]=0},r.O.j=o=>0===e[o];var a=(o,f)=>{var s,d,[i,n,p]=f,c=0;if(i.some(l=>0!==e[l])){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(p)var u=p(r)}for(o&&o(f);c<i.length;c++)r.o(e,d=i[c])&&e[d]&&e[d][0](),e[d]=0;return r.O(u)},t=self.webpackChunkwebcomponents=self.webpackChunkwebcomponents||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})()})();