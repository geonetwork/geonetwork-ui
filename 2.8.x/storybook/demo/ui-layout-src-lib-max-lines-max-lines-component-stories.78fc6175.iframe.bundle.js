(self.webpackChunkgeonetwork_ui=self.webpackChunkgeonetwork_ui||[]).push([[4353],{"./libs/ui/layout/src/lib/max-lines/max-lines.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/ui/layout/src/lib/max-lines/max-lines.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),_max_lines_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/ui/layout/src/lib/max-lines/max-lines.component.ts"),_geonetwork_ui_util_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/util/i18n/src/index.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Layout/MaxLinesComponent",component:_max_lines_component__WEBPACK_IMPORTED_MODULE_1__.x,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.Iz)({imports:[_max_lines_component__WEBPACK_IMPORTED_MODULE_1__.x]}),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.L4)({providers:[(0,_geonetwork_ui_util_i18n__WEBPACK_IMPORTED_MODULE_2__.GN)()]}),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.Ap)(story=>`<div class="border border-gray-300 p-2" style="width: 600px; height:400px; resize: both; overflow: auto">${story}</div>`)]},Primary={args:{maxLines:6},render:args=>({template:`<div>\n    <gn-ui-max-lines [maxLines]=${args.maxLines}><div><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin purus elit, tincidunt et gravida sit amet, mattis eget orci. Suspendisse dignissim magna sed neque rutrum lobortis. Aenean vitae quam sapien. Phasellus eleifend tortor ac imperdiet tristique. Curabitur aliquet mauris tristique, iaculis est sit amet, pulvinar ipsum. Maecenas lacinia varius felis sit amet tempor. Curabitur pulvinar ipsum eros, quis accumsan odio hendrerit sit amet.\n\nVestibulum placerat posuere lectus, sed lacinia orci sagittis consectetur. Duis eget eros consectetur, pretium nulla semper, pretium justo. Nullam facilisis maximus ipsum, a tempus erat eleifend non. Nulla nec lorem sed lorem porttitor ornare. Aliquam condimentum ante at laoreet dignissim. Vestibulum vel laoreet libero. Nam finibus augue ut ligula vulputate porta. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Aliquam erat volutpat. Nunc lorem nunc, interdum sed leo vel, vestibulum venenatis diam. Nam eget dignissim purus. Cras convallis leo sed porta tristique.</p></div></gn-ui-max-lines>\n  </div>`})},__namedExportsOrder=["Primary"]},"./libs/ui/layout/src/lib/max-lines/max-lines.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>MaxLinesComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var _staticBlock,max_lines_componentngResource=__webpack_require__("./libs/ui/layout/src/lib/max-lines/max-lines.component.css?ngResource"),max_lines_componentngResource_default=__webpack_require__.n(max_lines_componentngResource),root_effect_scheduler=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),debug_node=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node.mjs"),common_module=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module.mjs"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/fesm2022/ngx-translate-core.mjs");let MaxLinesComponent=(class MaxLinesComponent{constructor(){this.cdr=(0,root_effect_scheduler.WQX)(core.ChangeDetectorRef),this.maxLines=6,this.isExpanded=!1,this.maxHeight="",this.showToggleButton=!1}ngAfterViewInit(){this.calculateMaxHeight(),this.observer=new ResizeObserver(mutations=>{mutations.forEach(()=>{this.calculateMaxHeight()})}),this.observer.observe(this.container.nativeElement.children[0])}toggleDisplay(){this.isExpanded=!this.isExpanded,this.calculateMaxHeight()}calculateMaxHeight(){const containerElement=this.container.nativeElement,contentElement=containerElement.children[0],contentHeight=contentElement.getBoundingClientRect().height;contentHeight&&(contentHeight>this.maxLines*this.getLineHeight(contentElement)?(this.showToggleButton=!0,this.maxHeight=this.isExpanded?`${contentHeight}px`:this.maxLines*this.getLineHeight(contentElement)+"px"):(this.showToggleButton=!1,this.maxHeight=`${contentHeight}px`),containerElement.setAttribute("style",`max-height: ${this.maxHeight}; overflow: hidden`),this.cdr.detectChanges())}getLineHeight(element){const computedStyle=window.getComputedStyle(element),lineHeight=parseFloat(computedStyle.lineHeight),fontSize=parseFloat(computedStyle.fontSize||"14");return isNaN(lineHeight)?1.2*fontSize:lineHeight}ngOnDestroy(){this.observer&&this.observer.unobserve(this.container.nativeElement.children[0])}static#_=_staticBlock=()=>(this.propDecorators={maxLines:[{type:debug_node.pde}],container:[{type:core.ViewChild,args:["container"]}]},this)},_staticBlock());MaxLinesComponent=(0,tslib_es6.Cg)([(0,debug_node.uAl)({selector:"gn-ui-max-lines",template:'<div\n  #container\n  class="max-lines overflow-hidden transition-[max-height] duration-300 relative"\n  [ngClass]="isExpanded ? \'ease-in\' : \'ease-out\'"\n  [style.maxHeight]="maxHeight"\n>\n  <ng-content></ng-content>\n  @if (showToggleButton && !isExpanded) {\n    <div\n      class="absolute inset-x-0 bottom-0 bg-gradient-to-b from-transparent to-white h-10"\n    ></div>\n  }\n</div>\n@if (showToggleButton) {\n  <div\n    (click)="toggleDisplay()"\n    class="text-primary cursor-pointer pt-2.5"\n    data-cy="readMoreButton"\n  >\n    {{ (isExpanded ? \'ui.readLess\' : \'ui.readMore\') | translate }}\n  </div>\n}\n',changeDetection:debug_node.Ngq.OnPush,standalone:!0,imports:[common_module.MD,ngx_translate_core.D9],styles:[max_lines_componentngResource_default()]})],MaxLinesComponent)},"./node_modules/css-loader/dist/runtime/noSourceMaps.js":module=>{"use strict";module.exports=function(i){return i[1]}}}]);