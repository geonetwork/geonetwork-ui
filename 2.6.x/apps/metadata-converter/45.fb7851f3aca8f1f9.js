(self.webpackChunkmetadata_converter=self.webpackChunkmetadata_converter||[]).push([[45],{8257:$=>{"use strict";$.exports=function Z(u){return null===u||"object"!=typeof u||null!=u.toJSON?JSON.stringify(u):Array.isArray(u)?"["+u.reduce((S,x,h)=>S+(0===h?"":",")+Z(void 0===x||"symbol"==typeof x?null:x),"")+"]":"{"+Object.keys(u).sort().reduce((S,x,h)=>void 0===u[x]||"symbol"==typeof u[x]?S:S+(0===S.length?"":",")+Z(x)+":"+Z(u[x]),"")+"}"}},8398:($,Z,u)=>{"use strict";var S=u(4510).default;const{isArray:x,isObject:h,isString:g}=u(9098),{asArray:J}=u(6035),{prependBase:r}=u(3834),n=u(9027),t=u(7192);function y(k){throw new n("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:k})}function N({context:k,base:l}){if(!k)return;const o=k["@context"];if(g(o))k["@context"]=r(l,o);else if(x(o))for(let j=0;j<o.length;++j){const d=o[j];g(d)?o[j]=r(l,d):h(d)&&N({context:{"@context":d},base:l})}else if(h(o))for(const j in o)N({context:o[j],base:l})}$.exports=class{constructor({sharedCache:l}){this.perOpCache=new Map,this.sharedCache=l}resolve({activeCtx:l,context:o,documentLoader:j,base:d,cycles:L=new Set}){var E=this;return S(function*(){o&&h(o)&&o["@context"]&&(o=o["@context"]),o=J(o);const Y=[];for(const R of o){if(g(R)){let s=E._get(R);s||(s=yield E._resolveRemoteContext({activeCtx:l,url:R,documentLoader:j,base:d,cycles:L})),x(s)?Y.push(...s):Y.push(s);continue}if(null===R){Y.push(new t({document:null}));continue}h(R)||y(o);const e=JSON.stringify(R);let a=E._get(e);a||(a=new t({document:R}),E._cacheResolvedContext({key:e,resolved:a,tag:"static"})),Y.push(a)}return Y})()}_get(l){let o=this.perOpCache.get(l);if(!o){const j=this.sharedCache.get(l);j&&(o=j.get("static"),o&&this.perOpCache.set(l,o))}return o}_cacheResolvedContext({key:l,resolved:o,tag:j}){if(this.perOpCache.set(l,o),void 0!==j){let d=this.sharedCache.get(l);d||(d=new Map,this.sharedCache.set(l,d)),d.set(j,o)}return o}_resolveRemoteContext({activeCtx:l,url:o,documentLoader:j,base:d,cycles:L}){var E=this;return S(function*(){o=r(d,o);const{context:Y,remoteDoc:R}=yield E._fetchContext({activeCtx:l,url:o,documentLoader:j,cycles:L});N({context:Y,base:d=R.documentUrl||o});const e=yield E.resolve({activeCtx:l,context:Y,documentLoader:j,base:d,cycles:L});return E._cacheResolvedContext({key:o,resolved:e,tag:R.tag}),e})()}_fetchContext({activeCtx:l,url:o,documentLoader:j,cycles:d}){return S(function*(){if(d.size>10)throw new n("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===l.processingMode?"loading remote context failed":"context overflow",max:10});if(d.has(o))throw new n("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===l.processingMode?"recursive context inclusion":"context overflow",url:o});let L,E;d.add(o);try{E=yield j(o),L=E.document||null,g(L)&&(L=JSON.parse(L))}catch(Y){throw new n("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:o,cause:Y})}if(!h(L))throw new n("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:o});return L="@context"in L?{"@context":L["@context"]}:{"@context":{}},E.contextUrl&&(x(L["@context"])||(L["@context"]=[L["@context"]]),L["@context"].push(E.contextUrl)),{context:L,remoteDoc:E}})()}}},9027:$=>{"use strict";$.exports=class extends Error{constructor(u="An unspecified JSON-LD error occurred.",S="jsonld.Error",x={}){super(u),this.name=S,this.message=u,this.details=x}}},1985:$=>{"use strict";$.exports=Z=>{class u{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(u,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(u.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:u}),u.compact=function(S,x){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):Z.compact(S,x)},u.expand=function(S){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):Z.expand(S)},u.flatten=function(S){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):Z.flatten(S)},u}},6441:($,Z,u)=>{"use strict";$.exports=u(7073).NQuads},7579:($,Z,u)=>{"use strict";var S=u(4510).default;$.exports=class{constructor(){this._requests={}}wrapLoader(h){const g=this;return g._loader=h,function(){return g.add.apply(g,arguments)}}add(h){var g=this;return S(function*(){let J=g._requests[h];if(J)return Promise.resolve(J);J=g._requests[h]=g._loader(h);try{return yield J}finally{delete g._requests[h]}})()}}},7192:($,Z,u)=>{"use strict";const S=u(1983);$.exports=class{constructor({document:g}){this.document=g,this.cache=new S({max:10})}getProcessed(g){return this.cache.get(g)}setProcessed(g,J){this.cache.set(g,J)}}},7374:($,Z,u)=>{"use strict";var S=u(4510).default;const x=u(9027),{isArray:h,isObject:g,isString:J,isUndefined:r}=u(9098),{isList:n,isValue:t,isGraph:i,isSimpleGraph:y,isSubjectReference:N}=u(2926),{expandIri:k,getContextValue:l,isKeyword:o,process:j,processingMode:d}=u(3104),{removeBase:L,prependBase:E}=u(3834),{REGEX_KEYWORD:Y,addValue:R,asArray:e,compareShortestLeast:a}=u(6035),s={};function T(A,f,v){if("@nest"!==k(A,f,{vocab:!0},v))throw new x("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}$.exports=s,s.compact=function(){var A=S(function*({activeCtx:f,activeProperty:v=null,element:_,options:O={}}){if(h(_)){let X=[];for(let I=0;I<_.length;++I){const p=yield s.compact({activeCtx:f,activeProperty:v,element:_[I],options:O});null!==p&&X.push(p)}return O.compactArrays&&1===X.length&&0===(l(f,v,"@container")||[]).length&&(X=X[0]),X}const H=l(f,v,"@context");if(r(H)||(f=yield j({activeCtx:f,localCtx:H,propagate:!0,overrideProtected:!0,options:O})),g(_)){if(O.link&&"@id"in _&&O.link.hasOwnProperty(_["@id"])){const G=O.link[_["@id"]];for(let Q=0;Q<G.length;++Q)if(G[Q].expanded===_)return G[Q].compacted}if(t(_)||N(_)){const G=s.compactValue({activeCtx:f,activeProperty:v,value:_,options:O});return O.link&&N(_)&&(O.link.hasOwnProperty(_["@id"])||(O.link[_["@id"]]=[]),O.link[_["@id"]].push({expanded:_,compacted:G})),G}if(n(_)&&(l(f,v,"@container")||[]).includes("@list"))return s.compact({activeCtx:f,activeProperty:v,element:_["@list"],options:O});const X="@reverse"===v,I={},p=f;!t(_)&&!N(_)&&(f=f.revertToPreviousContext());const b=l(p,v,"@context");r(b)||(f=yield j({activeCtx:f,localCtx:b,propagate:!0,overrideProtected:!0,options:O})),O.link&&"@id"in _&&(O.link.hasOwnProperty(_["@id"])||(O.link[_["@id"]]=[]),O.link[_["@id"]].push({expanded:_,compacted:I}));let P=_["@type"]||[];P.length>1&&(P=Array.from(P).sort());const M=f;for(const G of P){const Q=s.compactIri({activeCtx:M,iri:G,relativeTo:{vocab:!0}}),z=l(p,Q,"@context");r(z)||(f=yield j({activeCtx:f,localCtx:z,options:O,propagate:!1}))}const c=Object.keys(_).sort();for(const G of c){const Q=_[G];if("@id"!==G)if("@type"!==G)if("@reverse"!==G)if("@preserve"!==G)if("@index"!==G)if("@graph"!==G&&"@list"!==G&&"@included"!==G&&o(G)){const z=s.compactIri({activeCtx:f,iri:G,relativeTo:{vocab:!0}});R(I,z,Q)}else{if(!h(Q))throw new x("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===Q.length){const z=s.compactIri({activeCtx:f,iri:G,value:Q,relativeTo:{vocab:!0},reverse:X}),K=f.mappings.has(z)?f.mappings.get(z)["@nest"]:null;let F=I;K&&(T(f,K,O),g(I[K])||(I[K]={}),F=I[K]),R(F,z,Q,{propertyIsArray:!0})}for(const z of Q){const K=s.compactIri({activeCtx:f,iri:G,value:z,relativeTo:{vocab:!0},reverse:X}),F=f.mappings.has(K)?f.mappings.get(K)["@nest"]:null;let V=I;F&&(T(f,F,O),g(I[F])||(I[F]={}),V=I[F]);const D=l(f,K,"@container")||[],w=i(z),B=n(z);let W;B?W=z["@list"]:w&&(W=z["@graph"]);let U=yield s.compact({activeCtx:f,activeProperty:K,element:B||w?W:z,options:O});if(B){if(h(U)||(U=[U]),D.includes("@list")){R(V,K,U,{valueIsArray:!0,allowDuplicate:!0});continue}U={[s.compactIri({activeCtx:f,iri:"@list",relativeTo:{vocab:!0}})]:U},"@index"in z&&(U[s.compactIri({activeCtx:f,iri:"@index",relativeTo:{vocab:!0}})]=z["@index"])}if(w)if(D.includes("@graph")&&(D.includes("@id")||D.includes("@index")&&y(z))){let C;V.hasOwnProperty(K)?C=V[K]:V[K]=C={};const ee=(D.includes("@id")?z["@id"]:z["@index"])||s.compactIri({activeCtx:f,iri:"@none",relativeTo:{vocab:!0}});R(C,ee,U,{propertyIsArray:!O.compactArrays||D.includes("@set")})}else D.includes("@graph")&&y(z)?(h(U)&&U.length>1&&(U={"@included":U}),R(V,K,U,{propertyIsArray:!O.compactArrays||D.includes("@set")})):(h(U)&&1===U.length&&O.compactArrays&&(U=U[0]),U={[s.compactIri({activeCtx:f,iri:"@graph",relativeTo:{vocab:!0}})]:U},"@id"in z&&(U[s.compactIri({activeCtx:f,iri:"@id",relativeTo:{vocab:!0}})]=z["@id"]),"@index"in z&&(U[s.compactIri({activeCtx:f,iri:"@index",relativeTo:{vocab:!0}})]=z["@index"]),R(V,K,U,{propertyIsArray:!O.compactArrays||D.includes("@set")}));else if(D.includes("@language")||D.includes("@index")||D.includes("@id")||D.includes("@type")){let C,ee;if(V.hasOwnProperty(K)?C=V[K]:V[K]=C={},D.includes("@language"))t(U)&&(U=U["@value"]),ee=z["@language"];else if(D.includes("@index")){const te=l(f,K,"@index")||"@index",q=s.compactIri({activeCtx:f,iri:te,relativeTo:{vocab:!0}});if("@index"===te)ee=z["@index"],delete U[q];else{let ne;if([ee,...ne]=e(U[te]||[]),J(ee))switch(ne.length){case 0:delete U[te];break;case 1:U[te]=ne[0];break;default:U[te]=ne}else ee=null}}else if(D.includes("@id")){const te=s.compactIri({activeCtx:f,iri:"@id",relativeTo:{vocab:!0}});ee=U[te],delete U[te]}else if(D.includes("@type")){const te=s.compactIri({activeCtx:f,iri:"@type",relativeTo:{vocab:!0}});let q;switch([ee,...q]=e(U[te]||[]),q.length){case 0:delete U[te];break;case 1:U[te]=q[0];break;default:U[te]=q}1===Object.keys(U).length&&"@id"in z&&(U=yield s.compact({activeCtx:f,activeProperty:K,element:{"@id":z["@id"]},options:O}))}ee||(ee=s.compactIri({activeCtx:f,iri:"@none",relativeTo:{vocab:!0}})),R(C,ee,U,{propertyIsArray:D.includes("@set")})}else{const C=!O.compactArrays||D.includes("@set")||D.includes("@list")||h(U)&&0===U.length||"@list"===G||"@graph"===G;R(V,K,U,{propertyIsArray:C})}}}else{if((l(f,v,"@container")||[]).includes("@index"))continue;const K=s.compactIri({activeCtx:f,iri:G,relativeTo:{vocab:!0}});R(I,K,Q)}else{const z=yield s.compact({activeCtx:f,activeProperty:v,element:Q,options:O});h(z)&&0===z.length||R(I,G,z)}else{const z=yield s.compact({activeCtx:f,activeProperty:"@reverse",element:Q,options:O});for(const K in z)if(f.mappings.has(K)&&f.mappings.get(K).reverse){const F=z[K],D=(l(f,K,"@container")||[]).includes("@set")||!O.compactArrays;R(I,K,F,{propertyIsArray:D}),delete z[K]}if(Object.keys(z).length>0){const K=s.compactIri({activeCtx:f,iri:G,relativeTo:{vocab:!0}});R(I,K,z)}}else{let z=e(Q).map(w=>s.compactIri({activeCtx:p,iri:w,relativeTo:{vocab:!0}}));1===z.length&&(z=z[0]);const K=s.compactIri({activeCtx:f,iri:"@type",relativeTo:{vocab:!0}}),D=(l(f,K,"@container")||[]).includes("@set")&&d(f,1.1)||h(z)&&0===Q.length;R(I,K,z,{propertyIsArray:D})}else{let z=e(Q).map(F=>s.compactIri({activeCtx:f,iri:F,relativeTo:{vocab:!1},base:O.base}));1===z.length&&(z=z[0]),I[s.compactIri({activeCtx:f,iri:"@id",relativeTo:{vocab:!0}})]=z}}return I}return _});return function(f){return A.apply(this,arguments)}}(),s.compactIri=({activeCtx:A,iri:f,value:v=null,relativeTo:_={vocab:!1},reverse:O=!1,base:H=null})=>{if(null===f)return f;A.isPropertyTermScoped&&A.previousContext&&(A=A.previousContext);const X=A.getInverse();if(o(f)&&f in X&&"@none"in X[f]&&"@type"in X[f]["@none"]&&"@none"in X[f]["@none"]["@type"])return X[f]["@none"]["@type"]["@none"];if(_.vocab&&f in X){const M=A["@language"]||"@none",c=[];g(v)&&"@index"in v&&!("@graph"in v)&&c.push("@index","@index@set"),g(v)&&"@preserve"in v&&(v=v["@preserve"][0]),i(v)?("@index"in v&&c.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in v&&c.push("@graph@id","@graph@id@set"),c.push("@graph","@graph@set","@set"),"@index"in v||c.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in v||c.push("@graph@id","@graph@id@set")):g(v)&&!t(v)&&c.push("@id","@id@set","@type","@set@type");let G="@language",Q="@null";if(O)G="@type",Q="@reverse",c.push("@set");else if(n(v)){"@index"in v||c.push("@list");const K=v["@list"];if(0===K.length)G="@any",Q="@none";else{let F=0===K.length?M:null,V=null;for(let D=0;D<K.length;++D){const w=K[D];let B="@none",W="@none";if(t(w)?"@direction"in w?B=`${(w["@language"]||"").toLowerCase()}_${w["@direction"]}`:"@language"in w?B=w["@language"].toLowerCase():"@type"in w?W=w["@type"]:B="@null":W="@id",null===F?F=B:B!==F&&t(w)&&(F="@none"),null===V?V=W:W!==V&&(V="@none"),"@none"===F&&"@none"===V)break}F=F||"@none",V=V||"@none","@none"!==V?(G="@type",Q=V):Q=F}}else{if(t(v))if("@language"in v&&!("@index"in v)){c.push("@language","@language@set"),Q=v["@language"];const K=v["@direction"];K&&(Q=`${Q}_${K}`)}else"@direction"in v&&!("@index"in v)?Q=`_${v["@direction"]}`:"@type"in v&&(G="@type",Q=v["@type"]);else G="@type",Q="@id";c.push("@set")}c.push("@none"),g(v)&&!("@index"in v)&&c.push("@index","@index@set"),t(v)&&1===Object.keys(v).length&&c.push("@language","@language@set");const z=function m(A,f,v,_,O,H){null===H&&(H="@null");const X=[];if(("@id"===H||"@reverse"===H)&&g(v)&&"@id"in v){"@reverse"===H&&X.push("@reverse");const p=s.compactIri({activeCtx:A,iri:v["@id"],relativeTo:{vocab:!0}});A.mappings.has(p)&&A.mappings.get(p)&&A.mappings.get(p)["@id"]===v["@id"]?X.push.apply(X,["@vocab","@id"]):X.push.apply(X,["@id","@vocab"])}else{X.push(H);const p=X.find(b=>b.includes("_"));p&&X.push(p.replace(/^[^_]+_/,"_"))}X.push("@none");const I=A.inverse[f];for(const p of _){if(!(p in I))continue;const b=I[p][O];for(const P of X)if(P in b)return b[P]}return null}(A,f,v,c,G,Q);if(null!==z)return z}if(_.vocab&&"@vocab"in A){const M=A["@vocab"];if(0===f.indexOf(M)&&f!==M){const c=f.substr(M.length);if(!A.mappings.has(c))return c}}let I=null;const p=[];let b=A.fastCurieMap;const P=f.length-1;for(let M=0;M<P&&f[M]in b;++M)b=b[f[M]],""in b&&p.push(b[""][0]);for(let M=p.length-1;M>=0;--M){const c=p[M],G=c.terms;for(const Q of G){const z=Q+":"+f.substr(c.iri.length);A.mappings.get(Q)._prefix&&(!A.mappings.has(z)||null===v&&A.mappings.get(z)["@id"]===f)&&(null===I||a(z,I)<0)&&(I=z)}}if(null!==I)return I;for(const[M,c]of A.mappings)if(c&&c._prefix&&f.startsWith(M+":"))throw new x(`Absolute IRI "${f}" confused with prefix "${M}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:A});if(!_.vocab){if("@base"in A){if(A["@base"]){const M=L(E(H,A["@base"]),f);return Y.test(M)?`./${M}`:M}return f}return L(H,f)}return f},s.compactValue=({activeCtx:A,activeProperty:f,value:v,options:_})=>{if(t(v)){const I=l(A,f,"@type"),p=l(A,f,"@language"),b=l(A,f,"@direction"),P=l(A,f,"@container")||[],M="@index"in v&&!P.includes("@index");if(!M&&"@none"!==I&&(v["@type"]===I||"@language"in v&&v["@language"]===p&&"@direction"in v&&v["@direction"]===b||"@language"in v&&v["@language"]===p||"@direction"in v&&v["@direction"]===b))return v["@value"];const c=Object.keys(v).length,G=1===c||2===c&&"@index"in v&&!M,Q="@language"in A,z=J(v["@value"]),K=A.mappings.has(f)&&null===A.mappings.get(f)["@language"];if(G&&"@none"!==I&&(!Q||!z||K))return v["@value"];const F={};return M&&(F[s.compactIri({activeCtx:A,iri:"@index",relativeTo:{vocab:!0}})]=v["@index"]),"@type"in v?F[s.compactIri({activeCtx:A,iri:"@type",relativeTo:{vocab:!0}})]=s.compactIri({activeCtx:A,iri:v["@type"],relativeTo:{vocab:!0}}):"@language"in v&&(F[s.compactIri({activeCtx:A,iri:"@language",relativeTo:{vocab:!0}})]=v["@language"]),"@direction"in v&&(F[s.compactIri({activeCtx:A,iri:"@direction",relativeTo:{vocab:!0}})]=v["@direction"]),F[s.compactIri({activeCtx:A,iri:"@value",relativeTo:{vocab:!0}})]=v["@value"],F}const O=k(A,f,{vocab:!0},_),H=l(A,f,"@type"),X=s.compactIri({activeCtx:A,iri:v["@id"],relativeTo:{vocab:"@vocab"===H},base:_.base});return"@id"===H||"@vocab"===H||"@graph"===O?X:{[s.compactIri({activeCtx:A,iri:"@id",relativeTo:{vocab:!0}})]:X}}},6270:$=>{"use strict";const Z="http://www.w3.org/1999/02/22-rdf-syntax-ns#",u="http://www.w3.org/2001/XMLSchema#";$.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:Z,RDF_LIST:Z+"List",RDF_FIRST:Z+"first",RDF_REST:Z+"rest",RDF_NIL:Z+"nil",RDF_TYPE:Z+"type",RDF_PLAIN_LITERAL:Z+"PlainLiteral",RDF_XML_LITERAL:Z+"XMLLiteral",RDF_JSON_LITERAL:Z+"JSON",RDF_OBJECT:Z+"object",RDF_LANGSTRING:Z+"langString",XSD:u,XSD_BOOLEAN:u+"boolean",XSD_DOUBLE:u+"double",XSD_INTEGER:u+"integer",XSD_STRING:u+"string"}},3104:($,Z,u)=>{"use strict";var S=u(4510).default;const x=u(6035),h=u(9027),{isArray:g,isObject:J,isString:r,isUndefined:n}=u(9098),{isAbsolute:t,isRelative:i,prependBase:y}=u(3834),{handleEvent:N}=u(9802),{REGEX_BCP47:k,REGEX_KEYWORD:l,asArray:o,compareShortestLeast:j}=u(6035),d=new Map,E={};function Y(e,a,s,m,T,A){if(null===a||!r(a)||E.isKeyword(a))return a;if(a.match(l))return null;if(m&&m.hasOwnProperty(a)&&!0!==T.get(a)&&E.createTermDefinition({activeCtx:e,localCtx:m,term:a,defined:T,options:A}),(s=s||{}).vocab){const v=e.mappings.get(a);if(null===v)return null;if(J(v)&&"@id"in v)return v["@id"]}const f=a.indexOf(":");if(f>0){const v=a.substr(0,f),_=a.substr(f+1);if("_"===v||0===_.indexOf("//"))return a;m&&m.hasOwnProperty(v)&&E.createTermDefinition({activeCtx:e,localCtx:m,term:v,defined:T,options:A});const O=e.mappings.get(v);if(O&&O._prefix)return O["@id"]+_;if(t(a))return a}if(s.vocab&&"@vocab"in e)a=e["@vocab"]+a;else if(s.base){let v,_;"@base"in e?e["@base"]?(_=y(A.base,e["@base"]),v=y(_,a)):(_=e["@base"],v=a):(_=A.base,v=y(A.base,a)),a=v}return a}function R(e,a){if(!e||"object"!=typeof e||!a||"object"!=typeof a)return e===a;const s=Array.isArray(e);if(s!==Array.isArray(a))return!1;if(s){if(e.length!==a.length)return!1;for(let A=0;A<e.length;++A)if(!R(e[A],a[A]))return!1;return!0}const m=Object.keys(e),T=Object.keys(a);if(m.length!==T.length)return!1;for(const A in e){let f=e[A],v=a[A];if("@container"===A&&Array.isArray(f)&&Array.isArray(v)&&(f=f.slice().sort(),v=v.slice().sort()),!R(f,v))return!1}return!0}$.exports=E,E.process=function(){var e=S(function*({activeCtx:a,localCtx:s,options:m,propagate:T=!0,overrideProtected:A=!1,cycles:f=new Set}){if(J(s)&&"@context"in s&&g(s["@context"])&&(s=s["@context"]),0===o(s).length)return a;const _=[],O=[({event:p,next:b})=>{_.push(p),b()}];m.eventHandler&&O.push(m.eventHandler);const H=m;m={...m,eventHandler:O};const X=yield m.contextResolver.resolve({activeCtx:a,context:s,documentLoader:m.documentLoader,base:m.base});J(X[0].document)&&"boolean"==typeof X[0].document["@propagate"]&&(T=X[0].document["@propagate"]);let I=a;!T&&!I.previousContext&&(I=I.clone(),I.previousContext=a);for(const p of X){let{document:b}=p;if(a=I,null===b){if(!A&&0!==Object.keys(a.protected).length)throw new h("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});I=a=E.getInitialContext(m).clone();continue}const P=p.getProcessed(a);if(P){if(H.eventHandler)for(const c of P.events)N({event:c,options:H});I=a=P.context;continue}if(J(b)&&"@context"in b&&(b=b["@context"]),!J(b))throw new h("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:b});I=I.clone();const M=new Map;if("@version"in b){if(1.1!==b["@version"])throw new h("Unsupported JSON-LD version: "+b["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:b});if(a.processingMode&&"json-ld-1.0"===a.processingMode)throw new h("@version: "+b["@version"]+" not compatible with "+a.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:b});I.processingMode="json-ld-1.1",I["@version"]=b["@version"],M.set("@version",!0)}if(I.processingMode=I.processingMode||a.processingMode,"@base"in b){let c=b["@base"];if(null!==c&&!t(c)){if(!i(c))throw new h('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:b});c=y(I["@base"],c)}I["@base"]=c,M.set("@base",!0)}if("@vocab"in b){const c=b["@vocab"];if(null===c)delete I["@vocab"];else{if(!r(c))throw new h('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:b});if(!t(c)&&E.processingMode(I,1))throw new h('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:b});{const G=Y(I,c,{vocab:!0,base:!0},void 0,void 0,m);t(G)||m.eventHandler&&N({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:G}},options:m}),I["@vocab"]=G}}M.set("@vocab",!0)}if("@language"in b){const c=b["@language"];if(null===c)delete I["@language"];else{if(!r(c))throw new h('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:b});c.match(k)||m.eventHandler&&N({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:c}},options:m}),I["@language"]=c.toLowerCase()}M.set("@language",!0)}if("@direction"in b){const c=b["@direction"];if("json-ld-1.0"===a.processingMode)throw new h("Invalid JSON-LD syntax; @direction not compatible with "+a.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:b});if(null===c)delete I["@direction"];else{if("ltr"!==c&&"rtl"!==c)throw new h('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:b});I["@direction"]=c}M.set("@direction",!0)}if("@propagate"in b){const c=b["@propagate"];if("json-ld-1.0"===a.processingMode)throw new h("Invalid JSON-LD syntax; @propagate not compatible with "+a.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:b});if("boolean"!=typeof c)throw new h("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:s});M.set("@propagate",!0)}if("@import"in b){const c=b["@import"];if("json-ld-1.0"===a.processingMode)throw new h("Invalid JSON-LD syntax; @import not compatible with "+a.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:b});if(!r(c))throw new h("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:s});const G=yield m.contextResolver.resolve({activeCtx:a,context:c,documentLoader:m.documentLoader,base:m.base});if(1!==G.length)throw new h("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:s});const Q=G[0].getProcessed(a);if(Q)b=Q;else{const z=G[0].document;if("@import"in z)throw new h("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:s});for(const K in z)b.hasOwnProperty(K)||(b[K]=z[K]);G[0].setProcessed(a,b)}M.set("@import",!0)}M.set("@protected",b["@protected"]||!1);for(const c in b)if(E.createTermDefinition({activeCtx:I,localCtx:b,term:c,defined:M,options:m,overrideProtected:A}),J(b[c])&&"@context"in b[c]){const G=b[c]["@context"];let Q=!0;if(r(G)){const z=y(m.base,G);f.has(z)?Q=!1:f.add(z)}if(Q)try{yield E.process({activeCtx:I.clone(),localCtx:b[c]["@context"],overrideProtected:!0,options:m,cycles:f})}catch{throw new h("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:b[c]["@context"],term:c})}}p.setProcessed(a,{context:I,events:_})}return I});return function(a){return e.apply(this,arguments)}}(),E.createTermDefinition=({activeCtx:e,localCtx:a,term:s,defined:m,options:T,overrideProtected:A=!1})=>{if(m.has(s)){if(m.get(s))return;throw new h("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:a,term:s})}let f;if(m.set(s,!1),a.hasOwnProperty(s)&&(f=a[s]),"@type"===s&&J(f)&&"@set"===(f["@container"]||"@set")&&E.processingMode(e,1.1)){const p=["@container","@id","@protected"],b=Object.keys(f);if(0===b.length||b.some(P=>!p.includes(P)))throw new h("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:a,term:s})}else{if(E.isKeyword(s))throw new h("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:a,term:s});if(s.match(l))return void(T.eventHandler&&N({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:s}},options:T}));if(""===s)throw new h("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:a})}const v=e.mappings.get(s);e.mappings.has(s)&&e.mappings.delete(s);let _=!1;if((r(f)||null===f)&&(_=!0,f={"@id":f}),!J(f))throw new h("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:a});const O={};e.mappings.set(s,O),O.reverse=!1;const H=["@container","@id","@language","@reverse","@type"];E.processingMode(e,1.1)&&H.push("@context","@direction","@index","@nest","@prefix","@protected");for(const p in f)if(!H.includes(p))throw new h("Invalid JSON-LD syntax; a term definition must not contain "+p,"jsonld.SyntaxError",{code:"invalid term definition",context:a});const X=s.indexOf(":");if(O._termHasColon=X>0,"@reverse"in f){if("@id"in f)throw new h("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:a});if("@nest"in f)throw new h("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:a});const p=f["@reverse"];if(!r(p))throw new h("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:a});if(p.match(l))return T.eventHandler&&N({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:p}},options:T}),void(v?e.mappings.set(s,v):e.mappings.delete(s));const b=Y(e,p,{vocab:!0,base:!1},a,m,T);if(!t(b))throw new h("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:a});O["@id"]=b,O.reverse=!0}else if("@id"in f){let p=f["@id"];if(p&&!r(p))throw new h("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:a});if(null===p)O["@id"]=null;else{if(!E.isKeyword(p)&&p.match(l))return T.eventHandler&&N({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:p}},options:T}),void(v?e.mappings.set(s,v):e.mappings.delete(s));if(p!==s){if(p=Y(e,p,{vocab:!0,base:!1},a,m,T),!t(p)&&!E.isKeyword(p))throw new h("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:a});if(s.match(/(?::[^:])|\//)&&Y(e,s,{vocab:!0,base:!1},a,new Map(m).set(s,!0),T)!==p)throw new h("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:a});O["@id"]=p,O._prefix=_&&!O._termHasColon&&null!==p.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in O))if(O._termHasColon){const p=s.substr(0,X);if(a.hasOwnProperty(p)&&E.createTermDefinition({activeCtx:e,localCtx:a,term:p,defined:m,options:T}),e.mappings.has(p)){const b=s.substr(X+1);O["@id"]=e.mappings.get(p)["@id"]+b}else O["@id"]=s}else if("@type"===s)O["@id"]=s;else{if(!("@vocab"in e))throw new h("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:a,term:s});O["@id"]=e["@vocab"]+s}if((!0===f["@protected"]||!0===m.get("@protected")&&!1!==f["@protected"])&&(e.protected[s]=!0,O.protected=!0),m.set(s,!0),"@type"in f){let p=f["@type"];if(!r(p))throw new h("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:a});if("@json"===p||"@none"===p){if(E.processingMode(e,1))throw new h(`Invalid JSON-LD syntax; an @context @type value must not be "${p}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:a})}else if("@id"!==p&&"@vocab"!==p){if(p=Y(e,p,{vocab:!0,base:!1},a,m,T),!t(p))throw new h("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:a});if(0===p.indexOf("_:"))throw new h("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:a})}O["@type"]=p}if("@container"in f){const p=r(f["@container"])?[f["@container"]]:f["@container"]||[],b=["@list","@set","@index","@language"];let P=!0;const M=p.includes("@set");if(E.processingMode(e,1.1)){if(b.push("@graph","@id","@type"),p.includes("@list")){if(1!==p.length)throw new h("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:a})}else if(p.includes("@graph")){if(p.some(c=>"@graph"!==c&&"@id"!==c&&"@index"!==c&&"@set"!==c))throw new h("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:a})}else P&=p.length<=(M?2:1);if(p.includes("@type")&&(O["@type"]=O["@type"]||"@id",!["@id","@vocab"].includes(O["@type"])))throw new h("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:a})}else P&=!g(f["@container"]),P&=p.length<=1;if(P&=p.every(c=>b.includes(c)),P&=!(M&&p.includes("@list")),!P)throw new h("Invalid JSON-LD syntax; @context @container value must be one of the following: "+b.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:a});if(O.reverse&&!p.every(c=>["@index","@set"].includes(c)))throw new h("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:a});O["@container"]=p}if("@index"in f){if(!("@container"in f)||!O["@container"].includes("@index"))throw new h(`Invalid JSON-LD syntax; @index without @index in @container: "${f["@index"]}" on term "${s}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:a});if(!r(f["@index"])||0===f["@index"].indexOf("@"))throw new h(`Invalid JSON-LD syntax; @index must expand to an IRI: "${f["@index"]}" on term "${s}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:a});O["@index"]=f["@index"]}if("@context"in f&&(O["@context"]=f["@context"]),"@language"in f&&!("@type"in f)){let p=f["@language"];if(null!==p&&!r(p))throw new h("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:a});null!==p&&(p=p.toLowerCase()),O["@language"]=p}if("@prefix"in f){if(s.match(/:|\//))throw new h("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:a});if(E.isKeyword(O["@id"]))throw new h("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:a});if("boolean"!=typeof f["@prefix"])throw new h("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:a});O._prefix=!0===f["@prefix"]}if("@direction"in f){const p=f["@direction"];if(null!==p&&"ltr"!==p&&"rtl"!==p)throw new h('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:a});O["@direction"]=p}if("@nest"in f){const p=f["@nest"];if(!r(p)||"@nest"!==p&&0===p.indexOf("@"))throw new h("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:a});O["@nest"]=p}const I=O["@id"];if("@context"===I||"@preserve"===I)throw new h("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:a});if(v&&v.protected&&!A&&(e.protected[s]=!0,O.protected=!0,!R(v,O)))throw new h("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:a,term:s})},E.expandIri=(e,a,s,m)=>Y(e,a,s,void 0,void 0,m),E.getInitialContext=e=>{const a=JSON.stringify({processingMode:e.processingMode}),s=d.get(a);if(s)return s;const m={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function T(){const O=this;if(O.inverse)return O.inverse;const H=O.inverse={},X=O.fastCurieMap={},I={},p=(O["@language"]||"@none").toLowerCase(),b=O["@direction"],P=O.mappings,M=[...P.keys()].sort(j);for(const c of M){const G=P.get(c);if(null===G)continue;let Q=G["@container"]||"@none";if(Q=[].concat(Q).sort().join(""),null===G["@id"])continue;const z=o(G["@id"]);for(const K of z){let F=H[K];const V=E.isKeyword(K);if(F)!V&&!G._termHasColon&&I[K].push(c);else if(H[K]=F={},!V&&!G._termHasColon){I[K]=[c];const D={iri:K,terms:I[K]};K[0]in X?X[K[0]].push(D):X[K[0]]=[D]}if(F[Q]||(F[Q]={"@language":{},"@type":{},"@any":{}}),F=F[Q],f(c,F["@any"],"@none"),G.reverse)f(c,F["@type"],"@reverse");else if("@none"===G["@type"])f(c,F["@any"],"@none"),f(c,F["@language"],"@none"),f(c,F["@type"],"@none");else if("@type"in G)f(c,F["@type"],G["@type"]);else if("@language"in G&&"@direction"in G){const D=G["@language"],w=G["@direction"];f(c,F["@language"],D&&w?`${D}_${w}`.toLowerCase():D?D.toLowerCase():w?`_${w}`:"@null")}else"@language"in G?f(c,F["@language"],(G["@language"]||"@null").toLowerCase()):"@direction"in G?f(c,F["@language"],G["@direction"]?`_${G["@direction"]}`:"@none"):b?(f(c,F["@language"],`_${b}`),f(c,F["@language"],"@none"),f(c,F["@type"],"@none")):(f(c,F["@language"],p),f(c,F["@language"],"@none"),f(c,F["@type"],"@none"))}}for(const c in X)A(X,c,1);return H},clone:function v(){const O={};return O.mappings=x.clone(this.mappings),O.clone=this.clone,O.inverse=null,O.getInverse=this.getInverse,O.protected=x.clone(this.protected),this.previousContext&&(O.previousContext=this.previousContext.clone()),O.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(O["@base"]=this["@base"]),"@language"in this&&(O["@language"]=this["@language"]),"@vocab"in this&&(O["@vocab"]=this["@vocab"]),O},revertToPreviousContext:function _(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===d.size&&d.clear(),d.set(a,m),m;function A(O,H,X){const I=O[H],p=O[H]={};let b,P;for(const M of I)b=M.iri,P=X>=b.length?"":b[X],P in p?p[P].push(M):p[P]=[M];for(const M in p)""!==M&&A(p,M,X+1)}function f(O,H,X){H.hasOwnProperty(X)||(H[X]=O)}},E.getContextValue=(e,a,s)=>{if(null===a)return"@context"===s?void 0:null;if(e.mappings.has(a)){const m=e.mappings.get(a);if(n(s))return m;if(m.hasOwnProperty(s))return m[s]}return"@language"===s&&s in e||"@direction"===s&&s in e?e[s]:"@context"!==s?null:void 0},E.processingMode=(e,a)=>a.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+a.toString():"json-ld-1.0"===e.processingMode,E.isKeyword=e=>{if(!r(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},3601:($,Z,u)=>{"use strict";var S=u(4510).default;const{parseLinkHeader:x,buildHeaders:h}=u(6035),{LINK_HEADER_CONTEXT:g}=u(6270),J=u(9027),r=u(7579),{prependBase:n}=u(3834),t=/(^|(\r\n))link:/i;$.exports=({secure:y,headers:N={},xhr:k}={headers:{}})=>{return N=h(N),(new r).wrapLoader(o);function o(d){return j.apply(this,arguments)}function j(){return j=S(function*(d){if(0!==d.indexOf("http:")&&0!==d.indexOf("https:"))throw new J('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:d});if(y&&0!==d.indexOf("https"))throw new J('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:d});let L;try{L=yield function i(y,N,k){const l=new(y=y||XMLHttpRequest);return new Promise((o,j)=>{l.onload=()=>o(l),l.onerror=d=>j(d),l.open("GET",N,!0);for(const d in k)l.setRequestHeader(d,k[d]);l.send()})}(k,d,N)}catch(a){throw new J("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:d,cause:a})}if(L.status>=400)throw new J("URL could not be dereferenced: "+L.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:d,httpStatusCode:L.status});let E={contextUrl:null,documentUrl:d,document:L.response},Y=null;const R=L.getResponseHeader("Content-Type");let e;if(t.test(L.getAllResponseHeaders())&&(e=L.getResponseHeader("Link")),e&&"application/ld+json"!==R){const a=x(e),s=a[g];if(Array.isArray(s))throw new J("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:d});s&&(E.contextUrl=s.target),Y=a.alternate,Y&&"application/ld+json"==Y.type&&!(R||"").match(/^application\/(\w*\+)?json$/)&&(E=yield o(n(d,Y.target)))}return E}),j.apply(this,arguments)}}},9802:($,Z,u)=>{"use strict";const S=u(9027),{isArray:x}=u(9098),{asArray:h}=u(6035),g={};function J({event:n,handlers:t}){let i=!0;for(let y=0;i&&y<t.length;++y){i=!1;const N=t[y];if(x(N))i=J({event:n,handlers:N});else if("function"==typeof N)N({event:n,next:()=>{i=!0}});else{if("object"!=typeof N)throw new S("Invalid event handler.","jsonld.InvalidEventHandler",{event:n});n.code in N?N[n.code]({event:n,next:()=>{i=!0}}):i=!0}}return i}$.exports=g,g.defaultEventHandler=null,g.setupEventHandler=({options:n={}})=>{const t=[].concat(n.safe?g.safeEventHandler:[],n.eventHandler?h(n.eventHandler):[],g.defaultEventHandler?g.defaultEventHandler:[]);return 0===t.length?null:t},g.handleEvent=({event:n,options:t})=>{J({event:n,handlers:t.eventHandler})};const r=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);g.safeEventHandler=function({event:t,next:i}){if("warning"===t.level&&r.has(t.code))throw new S("Safe mode validation error.","jsonld.ValidationError",{event:t});i()},g.logEventHandler=function({event:t,next:i}){console.log(`EVENT: ${t.message}`,{event:t}),i()},g.logWarningEventHandler=function({event:t,next:i}){"warning"===t.level&&console.warn(`WARNING: ${t.message}`,{event:t}),i()},g.unhandledEventHandler=function({event:t}){throw new S("No handler for event.","jsonld.UnhandledEvent",{event:t})},g.setDefaultEventHandler=function({eventHandler:n}={}){g.defaultEventHandler=n?h(n):null}},6551:($,Z,u)=>{"use strict";var S=u(4510).default;const x=u(9027),{isArray:h,isObject:g,isEmptyObject:J,isString:r,isUndefined:n}=u(9098),{isList:t,isValue:i,isGraph:y,isSubject:N}=u(2926),{expandIri:k,getContextValue:l,isKeyword:o,process:j,processingMode:d}=u(3104),{isAbsolute:L}=u(3834),{REGEX_BCP47:E,REGEX_KEYWORD:Y,addValue:R,asArray:e,getValues:a,validateTypeValue:s}=u(6035),{handleEvent:m}=u(9802),T={};function A({value:I,count:p,options:b}){if(0===p||"@value"in I||"@list"in I||1===p&&"@id"in I){if(b.eventHandler){let P,M;0===p?(P="empty object",M="Dropping empty object."):"@value"in I?(P="object with only @value",M="Dropping object with only @value."):"@list"in I?(P="object with only @list",M="Dropping object with only @list."):1===p&&"@id"in I&&(P="object with only @id",M="Dropping object with only @id."),m({event:{type:["JsonLdEvent"],code:P,level:"warning",message:M,details:{value:I}},options:b})}return null}return I}function f(I){return v.apply(this,arguments)}function v(){return(v=S(function*({activeCtx:I,activeProperty:p,expandedActiveProperty:b,element:P,expandedParent:M,options:c={},insideList:G,typeKey:Q,typeScopedContext:z}){const K=Object.keys(P).sort(),F=[];let V;const D=P[Q]&&"@json"===k(I,h(P[Q])?P[Q][0]:P[Q],{vocab:!0},{...c,typeExpansion:!0});for(const w of K){let W,B=P[w];if("@context"===w)continue;const U=k(I,w,{vocab:!0},c);if(null===U||!L(U)&&!o(U)){c.eventHandler&&m({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:w,expandedProperty:U}},options:c});continue}if(o(U)){if("@reverse"===b)throw new x("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:B});if(U in M&&"@included"!==U&&"@type"!==U)throw new x("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:U})}if("@id"===U){if(!r(B)){if(!c.isFrame)throw new x('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:B});if(g(B)){if(!J(B))throw new x('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:B})}else{if(!h(B))throw new x('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:B});if(!B.every(q=>r(q)))throw new x('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:B})}}R(M,"@id",e(B).map(q=>{if(r(q)){const ne=k(I,q,{base:!0},c);return c.eventHandler&&(null===ne?m(null===q?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:q}},options:c}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:q}},options:c}):L(ne)||m({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:q,expandedId:ne}},options:c})),ne}return q}),{propertyIsArray:c.isFrame});continue}if("@type"===U){g(B)&&(B=Object.fromEntries(Object.entries(B).map(([q,ne])=>[k(z,q,{vocab:!0}),e(ne).map(re=>k(z,re,{base:!0,vocab:!0},{...c,typeExpansion:!0}))]))),s(B,c.isFrame),R(M,"@type",e(B).map(q=>{if(r(q)){const ne=k(z,q,{base:!0,vocab:!0},{...c,typeExpansion:!0});return"@json"!==ne&&!L(ne)&&c.eventHandler&&m({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:q}},options:c}),ne}return q}),{propertyIsArray:!!c.isFrame});continue}if("@included"===U&&d(I,1.1)){const q=e(yield T.expand({activeCtx:I,activeProperty:p,element:B,options:c}));if(!q.every(ne=>N(ne)))throw new x("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:B});R(M,"@included",q,{propertyIsArray:!0});continue}if("@graph"===U&&!g(B)&&!h(B))throw new x('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:B});if("@value"===U){V=B,D&&d(I,1.1)?M["@value"]=B:R(M,"@value",B,{propertyIsArray:c.isFrame});continue}if("@language"===U){if(null===B)continue;if(!r(B)&&!c.isFrame)throw new x('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:B});B=e(B).map(q=>r(q)?q.toLowerCase():q);for(const q of B)r(q)&&!q.match(E)&&c.eventHandler&&m({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:q}},options:c});R(M,"@language",B,{propertyIsArray:c.isFrame});continue}if("@direction"===U){if(!r(B)&&!c.isFrame)throw new x('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:B});B=e(B);for(const q of B)if(r(q)&&"ltr"!==q&&"rtl"!==q)throw new x('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:B});R(M,"@direction",B,{propertyIsArray:c.isFrame});continue}if("@index"===U){if(!r(B))throw new x('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:B});R(M,"@index",B);continue}if("@reverse"===U){if(!g(B))throw new x('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:B});if(W=yield T.expand({activeCtx:I,activeProperty:"@reverse",element:B,options:c}),"@reverse"in W)for(const ne in W["@reverse"])R(M,ne,W["@reverse"][ne],{propertyIsArray:!0});let q=M["@reverse"]||null;for(const ne in W){if("@reverse"===ne)continue;null===q&&(q=M["@reverse"]={}),R(q,ne,[],{propertyIsArray:!0});const re=W[ne];for(let se=0;se<re.length;++se){const ie=re[se];if(i(ie)||t(ie))throw new x('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:W});R(q,ne,ie,{propertyIsArray:!0})}}continue}if("@nest"===U){F.push(w);continue}let C=I;const ee=l(I,w,"@context");n(ee)||(C=yield j({activeCtx:I,localCtx:ee,propagate:!0,overrideProtected:!0,options:c}));const te=l(I,w,"@container")||[];if(te.includes("@language")&&g(B))W=O(C,B,l(C,w,"@direction"),c);else if(te.includes("@index")&&g(B)){const q=te.includes("@graph"),ne=l(C,w,"@index")||"@index",re="@index"!==ne&&k(I,ne,{vocab:!0},c);W=yield H({activeCtx:C,options:c,activeProperty:w,value:B,asGraph:q,indexKey:ne,propertyIndex:re})}else if(te.includes("@id")&&g(B)){const q=te.includes("@graph");W=yield H({activeCtx:C,options:c,activeProperty:w,value:B,asGraph:q,indexKey:"@id"})}else if(te.includes("@type")&&g(B))W=yield H({activeCtx:C.revertToPreviousContext(),options:c,activeProperty:w,value:B,asGraph:!1,indexKey:"@type"});else{const q="@list"===U;if(q||"@set"===U){let ne=p;q&&"@graph"===b&&(ne=null),W=yield T.expand({activeCtx:C,activeProperty:ne,element:B,options:c,insideList:q})}else W="@json"===l(I,w,"@type")?{"@type":"@json","@value":B}:yield T.expand({activeCtx:C,activeProperty:w,element:B,options:c,insideList:!1})}if(null!==W||"@value"===U){if("@list"!==U&&!t(W)&&te.includes("@list")&&(W={"@list":e(W)}),te.includes("@graph")&&!te.some(q=>"@id"===q||"@index"===q)){if(W=e(W),c.isFrame||(W=W.filter(q=>null!==A({value:q,count:Object.keys(q).length,options:c}))),0===W.length)continue;W=W.map(q=>({"@graph":e(q)}))}if(C.mappings.has(w)&&C.mappings.get(w).reverse){const q=M["@reverse"]=M["@reverse"]||{};W=e(W);for(let ne=0;ne<W.length;++ne){const re=W[ne];if(i(re)||t(re))throw new x('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:W});R(q,U,re,{propertyIsArray:!0})}continue}R(M,U,W,{propertyIsArray:!0})}}if("@value"in M&&("@json"!==M["@type"]||!d(I,1.1))&&(g(V)||h(V))&&!c.isFrame)throw new x('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:V});for(const w of F){const B=h(P[w])?P[w]:[P[w]];for(const W of B){if(!g(W)||Object.keys(W).some(U=>"@value"===k(I,U,{vocab:!0},c)))throw new x("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:W});yield f({activeCtx:I,activeProperty:p,expandedActiveProperty:b,element:W,expandedParent:M,options:c,insideList:G,typeScopedContext:z,typeKey:Q})}}})).apply(this,arguments)}function _({activeCtx:I,activeProperty:p,value:b,options:P}){if(null==b)return null;const M=k(I,p,{vocab:!0},P);if("@id"===M)return k(I,b,{base:!0},P);if("@type"===M)return k(I,b,{vocab:!0,base:!0},{...P,typeExpansion:!0});const c=l(I,p,"@type");if(("@id"===c||"@graph"===M)&&r(b)){const Q=k(I,b,{base:!0},P);return null===Q&&b.match(Y)&&P.eventHandler&&m({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:p}},options:P}),{"@id":Q}}if("@vocab"===c&&r(b))return{"@id":k(I,b,{vocab:!0,base:!0},P)};if(o(M))return b;const G={};if(c&&!["@id","@vocab","@none"].includes(c))G["@type"]=c;else if(r(b)){const Q=l(I,p,"@language");null!==Q&&(G["@language"]=Q);const z=l(I,p,"@direction");null!==z&&(G["@direction"]=z)}return["boolean","number","string"].includes(typeof b)||(b=b.toString()),G["@value"]=b,G}function O(I,p,b,P){const M=[],c=Object.keys(p).sort();for(const G of c){const Q=k(I,G,{vocab:!0},P);let z=p[G];h(z)||(z=[z]);for(const K of z){if(null===K)continue;if(!r(K))throw new x("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:p});const F={"@value":K};"@none"!==Q&&(G.match(E)||P.eventHandler&&m({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:G}},options:P}),F["@language"]=G.toLowerCase()),b&&(F["@direction"]=b),M.push(F)}}return M}function H(I){return X.apply(this,arguments)}function X(){return(X=S(function*({activeCtx:I,options:p,activeProperty:b,value:P,asGraph:M,indexKey:c,propertyIndex:G}){const Q=[],z=Object.keys(P).sort(),K="@type"===c;for(let F of z){if(K){const w=l(I,F,"@context");n(w)||(I=yield j({activeCtx:I,localCtx:w,propagate:!1,options:p}))}let D,V=P[F];h(V)||(V=[V]),V=yield T.expand({activeCtx:I,activeProperty:b,element:V,options:p,insideList:!1,insideIndex:!0}),D=G?"@none"===F?"@none":_({activeCtx:I,activeProperty:c,value:F,options:p}):k(I,F,{vocab:!0},p),"@id"===c?F=k(I,F,{base:!0},p):K&&(F=D);for(let w of V){if(M&&!y(w)&&(w={"@graph":[w]}),"@type"===c)"@none"===D||(w["@type"]=w["@type"]?[F].concat(w["@type"]):[F]);else{if(i(w)&&!["@language","@type","@index"].includes(c))throw new x(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${c}".`,"jsonld.SyntaxError",{code:"invalid value object",value:w});G?"@none"!==D&&R(w,G,D,{propertyIsArray:!0,prependValue:!0}):"@none"!==D&&!(c in w)&&(w[c]=F)}Q.push(w)}}return Q})).apply(this,arguments)}$.exports=T,T.expand=function(){var I=S(function*({activeCtx:p,activeProperty:b=null,element:P,options:M={},insideList:c=!1,insideIndex:G=!1,typeScopedContext:Q=null}){if(null==P)return null;if("@default"===b&&(M=Object.assign({},M,{isFrame:!1})),!h(P)&&!g(P))return c||null!==b&&"@graph"!==k(p,b,{vocab:!0},M)?_({activeCtx:p,activeProperty:b,value:P,options:M}):(M.eventHandler&&m({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:P}},options:M}),null);if(h(P)){let W=[];const U=l(p,b,"@container")||[];c=c||U.includes("@list");for(let C=0;C<P.length;++C){let ee=yield T.expand({activeCtx:p,activeProperty:b,element:P[C],options:M,insideIndex:G,typeScopedContext:Q});c&&h(ee)&&(ee={"@list":ee}),null!==ee&&(h(ee)?W=W.concat(ee):W.push(ee))}return W}const z=k(p,b,{vocab:!0},M),K=l(p,b,"@context");Q=Q||(p.previousContext?p:null);let F=Object.keys(P).sort(),V=!G;if(V&&Q&&F.length<=2&&!F.includes("@context"))for(const W of F){const U=k(Q,W,{vocab:!0},M);if("@value"===U){V=!1,p=Q;break}if("@id"===U&&1===F.length){V=!1;break}}V&&(p=p.revertToPreviousContext()),n(K)||(p=yield j({activeCtx:p,localCtx:K,propagate:!0,overrideProtected:!0,options:M})),"@context"in P&&(p=yield j({activeCtx:p,localCtx:P["@context"],options:M})),Q=p;let D=null;for(const W of F)if("@type"===k(p,W,{vocab:!0},M)){D=D||W;const C=P[W],ee=Array.isArray(C)?C.length>1?C.slice().sort():C:[C];for(const te of ee){const q=l(Q,te,"@context");n(q)||(p=yield j({activeCtx:p,localCtx:q,options:M,propagate:!1}))}}let w={};yield f({activeCtx:p,activeProperty:b,expandedActiveProperty:z,element:P,expandedParent:w,options:M,insideList:c,typeKey:D,typeScopedContext:Q}),F=Object.keys(w);let B=F.length;if("@value"in w){if("@type"in w&&("@language"in w||"@direction"in w))throw new x('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:w});let W=B-1;if("@type"in w&&(W-=1),"@index"in w&&(W-=1),"@language"in w&&(W-=1),"@direction"in w&&(W-=1),0!==W)throw new x('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:w});const U=null===w["@value"]?[]:e(w["@value"]),C=a(w,"@type");if(!d(p,1.1)||!C.includes("@json")||1!==C.length)if(0===U.length)M.eventHandler&&m({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:w}},options:M}),w=null;else{if(!U.every(ee=>r(ee)||J(ee))&&"@language"in w)throw new x("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:w});if(!C.every(ee=>L(ee)&&!(r(ee)&&0===ee.indexOf("_:"))||J(ee)))throw new x('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:w})}}else if("@type"in w&&!h(w["@type"]))w["@type"]=[w["@type"]];else if("@set"in w||"@list"in w){if(B>1&&(2!==B||!("@index"in w)))throw new x('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:w});"@set"in w&&(w=w["@set"],F=Object.keys(w),B=F.length)}else 1===B&&"@language"in w&&(M.eventHandler&&m({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:w}},options:M}),w=null);return g(w)&&!M.keepFreeFloatingNodes&&!c&&(null===b||"@graph"===z||(l(p,b,"@container")||[]).includes("@graph"))&&(w=A({value:w,count:B,options:M})),w});return function(p){return I.apply(this,arguments)}}()},257:($,Z,u)=>{"use strict";const{isSubjectReference:S}=u(2926),{createMergedNodeMap:x}=u(253),h={};$.exports=h,h.flatten=g=>{const J=x(g),r=[],n=Object.keys(J).sort();for(let t=0;t<n.length;++t){const i=J[n[t]];S(i)||r.push(i)}return r}},8998:($,Z,u)=>{"use strict";const{isKeyword:S}=u(3104),x=u(2926),h=u(9098),g=u(6035),J=u(3834),r=u(9027),{createNodeMap:n,mergeNodeMapGraphs:t}=u(253),i={};function y(e){const a={};for(const s in e)void 0!==e[s]&&(a["@"+s]=[e[s]]);return[a]}function N(e,a,s){for(let m=s.length-1;m>=0;--m){const T=s[m];if(T.graph===a&&T.subject["@id"]===e["@id"])return!0}return!1}function k(e,a,s){const m="@"+s;let T=m in e?e[m][0]:a[s];if("embed"===s)if(!0===T)T="@once";else if(!1===T)T="@never";else if("@always"!==T&&"@never"!==T&&"@link"!==T&&"@first"!==T&&"@last"!==T&&"@once"!==T)throw new r("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return T}function l(e){if(!h.isArray(e)||1!==e.length||!h.isObject(e[0]))throw new r("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const a of g.asArray(e[0]["@id"]))if(!h.isObject(a)&&!J.isAbsolute(a)||h.isString(a)&&0===a.indexOf("_:"))throw new r("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const a of g.asArray(e[0]["@type"]))if(!h.isObject(a)&&!J.isAbsolute(a)&&"@json"!==a||h.isString(a)&&0===a.indexOf("_:"))throw new r("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function j(e,a,s,m){let T=!0,A=!1;for(const f in s){let v=!1;const _=g.getValues(a,f),O=0===g.getValues(s,f).length;if("@id"===f){if(h.isEmptyObject(s["@id"][0]||{})?v=!0:s["@id"].length>=0&&(v=s["@id"].includes(_[0])),!m.requireAll)return v}else if("@type"===f){if(T=!1,O){if(_.length>0)return!1;v=!0}else if(1===s["@type"].length&&h.isEmptyObject(s["@type"][0]))v=_.length>0;else for(const H of s["@type"])v=!(!h.isObject(H)||!("@default"in H))||v||_.some(X=>X===H);if(!m.requireAll)return v}else{if(S(f))continue;{const H=g.getValues(s,f)[0];let X=!1;if(H&&(l([H]),X="@default"in H),T=!1,0===_.length&&X)continue;if(_.length>0&&O)return!1;if(void 0===H){if(_.length>0)return!1;v=!0}else if(x.isList(H)){const I=H["@list"][0];if(x.isList(_[0])){const p=_[0]["@list"];x.isValue(I)?v=p.some(b=>R(I,b)):(x.isSubject(I)||x.isSubjectReference(I))&&(v=p.some(b=>Y(e,I,b,m)))}}else v=x.isValue(H)?_.some(I=>R(H,I)):x.isSubjectReference(H)?_.some(I=>Y(e,H,I,m)):!!h.isObject(H)&&_.length>0}}if(!v&&m.requireAll)return!1;A=A||v}return T||A}function d(e,a){const s=e.uniqueEmbeds[e.graph],m=s[a],T=m.parent,A=m.property,f={"@id":a};if(h.isArray(T)){for(let _=0;_<T.length;++_)if(g.compareValues(T[_],f)){T[_]=f;break}}else{const _=h.isArray(T[A]);g.removeValue(T,A,f,{propertyIsArray:_}),g.addValue(T,A,f,{propertyIsArray:_})}const v=_=>{const O=Object.keys(s);for(const H of O)H in s&&h.isObject(s[H].parent)&&s[H].parent["@id"]===_&&(delete s[H],v(H))};v(a)}function L(e,a){if(h.isArray(e))return e.map(s=>L(s,a));if(h.isObject(e)){if("@preserve"in e)return e["@preserve"][0];if(x.isValue(e))return e;if(x.isList(e))return e["@list"]=L(e["@list"],a),e;if("@id"in e){const s=e["@id"];if(a.link.hasOwnProperty(s)){const m=a.link[s].indexOf(e);if(-1!==m)return a.link[s][m];a.link[s].push(e)}else a.link[s]=[e]}for(const s in e)"@id"===s&&a.bnodesToClear.includes(e[s])?delete e["@id"]:e[s]=L(e[s],a)}return e}function E(e,a,s){h.isObject(e)?g.addValue(e,a,s,{propertyIsArray:!0}):e.push(s)}function Y(e,a,s,m){if(!("@id"in s))return!1;const T=e.subjects[s["@id"]];return T&&j(e,T,a,m)}function R(e,a){const s=a["@value"],m=a["@type"],T=a["@language"],A=e["@value"]?h.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],f=e["@type"]?h.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],v=e["@language"]?h.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===A.length&&0===f.length&&0===v.length||!(!A.includes(s)&&!h.isEmptyObject(A[0])||!(!m&&0===f.length||f.includes(m)||m&&h.isEmptyObject(f[0]))||!(!T&&0===v.length||v.includes(T)||T&&h.isEmptyObject(v[0])))}$.exports=i,i.frameMergedOrDefault=(e,a,s)=>{const m={options:s,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},T=new g.IdentifierIssuer("_:b");n(e,m.graphMap,"@default",T),s.merged&&(m.graphMap["@merged"]=t(m.graphMap),m.graph="@merged"),m.subjects=m.graphMap[m.graph];const A=[];return i.frame(m,Object.keys(m.subjects).sort(),a,A),s.pruneBlankNodeIdentifiers&&(s.bnodesToClear=Object.keys(m.bnodeMap).filter(f=>1===m.bnodeMap[f].length)),s.link={},L(A,s)},i.frame=(e,a,s,m,T=null)=>{l(s);const A=e.options,f={embed:k(s=s[0],A,"embed"),explicit:k(s,A,"explicit"),requireAll:k(s,A,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const v=e.link[e.graph],_=function o(e,a,s,m){const T={};for(const A of a){const f=e.graphMap[e.graph][A];j(e,f,s,m)&&(T[A]=f)}return T}(e,a,s,f),O=Object.keys(_).sort();for(const H of O){const X=_[H];if(null===T?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===f.embed&&H in v){E(m,T,v[H]);continue}const I={"@id":H};if(0===H.indexOf("_:")&&g.addValue(e.bnodeMap,H,I,{propertyIsArray:!0}),v[H]=I,("@first"===f.embed||"@last"===f.embed)&&e.is11)throw new r("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:s});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(H)){if(e.embedded&&("@never"===f.embed||N(X,e.graph,e.subjectStack))){E(m,T,I);continue}if(e.embedded&&("@first"==f.embed||"@once"==f.embed)&&e.uniqueEmbeds[e.graph].hasOwnProperty(H)){E(m,T,I);continue}if("@last"===f.embed&&H in e.uniqueEmbeds[e.graph]&&d(e,H),e.uniqueEmbeds[e.graph][H]={parent:m,property:T},e.subjectStack.push({subject:X,graph:e.graph}),H in e.graphMap){let p=!1,b=null;"@graph"in s?(b=s["@graph"][0],p=!("@merged"===H||"@default"===H),h.isObject(b)||(b={})):(p="@merged"!==e.graph,b={}),p&&i.frame({...e,graph:H,embedded:!1},Object.keys(e.graphMap[H]).sort(),[b],I,"@graph")}"@included"in s&&i.frame({...e,embedded:!1},a,s["@included"],I,"@included");for(const p of Object.keys(X).sort())if(S(p)){if(I[p]=g.clone(X[p]),"@type"===p)for(const b of X["@type"])0===b.indexOf("_:")&&g.addValue(e.bnodeMap,b,I,{propertyIsArray:!0})}else if(!f.explicit||p in s)for(const b of X[p]){const P=p in s?s[p]:y(f);if(x.isList(b)){const M=s[p]&&s[p][0]&&s[p][0]["@list"]?s[p][0]["@list"]:y(f),c={"@list":[]};E(I,p,c);const G=b["@list"];for(const Q of G)x.isSubjectReference(Q)?i.frame({...e,embedded:!0},[Q["@id"]],M,c,"@list"):E(c,"@list",g.clone(Q))}else x.isSubjectReference(b)?i.frame({...e,embedded:!0},[b["@id"]],P,I,p):R(P[0],b)&&E(I,p,g.clone(b))}for(const p of Object.keys(s).sort()){if("@type"===p){if(!h.isObject(s[p][0])||!("@default"in s[p][0]))continue}else if(S(p))continue;const b=s[p][0]||{};if(!k(b,A,"omitDefault")&&!(p in I)){let M="@null";"@default"in b&&(M=g.clone(b["@default"])),h.isArray(M)||(M=[M]),I[p]=[{"@preserve":M}]}}for(const p of Object.keys(s["@reverse"]||{}).sort()){const b=s["@reverse"][p];for(const P of Object.keys(e.subjects))g.getValues(e.subjects[P],p).some(c=>c["@id"]===H)&&(I["@reverse"]=I["@reverse"]||{},g.addValue(I["@reverse"],p,[],{propertyIsArray:!0}),i.frame({...e,embedded:!0},[P],b,I["@reverse"][p],T))}E(m,T,I),e.subjectStack.pop()}}},i.cleanupNull=(e,a)=>{if(h.isArray(e))return e.map(m=>i.cleanupNull(m,a)).filter(m=>m);if("@null"===e)return null;if(h.isObject(e)){if("@id"in e){const s=e["@id"];if(a.link.hasOwnProperty(s)){const m=a.link[s].indexOf(e);if(-1!==m)return a.link[s][m];a.link[s].push(e)}else a.link[s]=[e]}for(const s in e)e[s]=i.cleanupNull(e[s],a)}return e}},6487:($,Z,u)=>{"use strict";var S=u(4510).default;const x=u(9027),h=u(2926),g=u(9098),{REGEX_BCP47:J,addValue:r}=u(6035),{handleEvent:n}=u(9802),{RDF_LIST:t,RDF_FIRST:i,RDF_REST:y,RDF_NIL:N,RDF_TYPE:k,RDF_JSON_LITERAL:l,XSD_BOOLEAN:o,XSD_DOUBLE:j,XSD_INTEGER:d,XSD_STRING:L}=u(6270),E={};function Y(R,e,a,s){if(R.termType.endsWith("Node"))return{"@id":R.value};const m={"@value":R.value};if(R.language)R.language.match(J)||s.eventHandler&&n({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:R.language}},options:s}),m["@language"]=R.language;else{let T=R.datatype.value;if(T||(T=L),T===l){T="@json";try{m["@value"]=JSON.parse(m["@value"])}catch(A){throw new x("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:m["@value"],cause:A})}}if(e){if(T===o)"true"===m["@value"]?m["@value"]=!0:"false"===m["@value"]&&(m["@value"]=!1);else if(g.isNumeric(m["@value"]))if(T===d){const A=parseInt(m["@value"],10);A.toFixed(0)===m["@value"]&&(m["@value"]=A)}else T===j&&(m["@value"]=parseFloat(m["@value"]));[o,d,j,L].includes(T)||(m["@type"]=T)}else if("i18n-datatype"===a&&T.startsWith("https://www.w3.org/ns/i18n#")){const[,A,f]=T.split(/[#_]/);A.length>0&&(m["@language"]=A,A.match(J)||s.eventHandler&&n({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:A}},options:s})),m["@direction"]=f}else T!==L&&(m["@type"]=T)}return m}$.exports=E,E.fromRDF=function(){var R=S(function*(e,a){const{useRdfType:s=!1,useNativeTypes:m=!1,rdfDirection:T=null}=a,A={},f={"@default":A},v={};if(T){if("compound-literal"===T)throw new x("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:T});if("i18n-datatype"!==T)throw new x("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:T})}for(const H of e){const X="DefaultGraph"===H.graph.termType?"@default":H.graph.value;X in f||(f[X]={}),"@default"!==X&&!(X in A)&&(A[X]={"@id":X});const I=f[X],p=H.subject.value,b=H.predicate.value,P=H.object;p in I||(I[p]={"@id":p});const M=I[p],c=P.termType.endsWith("Node");if(c&&!(P.value in I)&&(I[P.value]={"@id":P.value}),b===k&&!s&&c){r(M,"@type",P.value,{propertyIsArray:!0});continue}const G=Y(P,m,T,a);if(r(M,b,G,{propertyIsArray:!0}),c)if(P.value===N){const Q=I[P.value];"usages"in Q||(Q.usages=[]),Q.usages.push({node:M,property:b,value:G})}else v[P.value]=!(P.value in v)&&{node:M,property:b,value:G}}for(const H in f){const X=f[H];if(!(N in X))continue;const I=X[N];if(I.usages){for(let p of I.usages){let b=p.node,P=p.property,M=p.value;const c=[],G=[];let Q=Object.keys(b).length;for(;P===y&&g.isObject(v[b["@id"]])&&g.isArray(b[i])&&1===b[i].length&&g.isArray(b[y])&&1===b[y].length&&(3===Q||4===Q&&g.isArray(b["@type"])&&1===b["@type"].length&&b["@type"][0]===t)&&(c.push(b[i][0]),G.push(b["@id"]),p=v[b["@id"]],b=p.node,P=p.property,M=p.value,Q=Object.keys(b).length,h.isBlankNode(b)););delete M["@id"],M["@list"]=c.reverse();for(const z of G)delete X[z]}delete I.usages}}const _=[],O=Object.keys(A).sort();for(const H of O){const X=A[H];if(H in f){const I=X["@graph"]=[],p=f[H],b=Object.keys(p).sort();for(const P of b){const M=p[P];h.isSubjectReference(M)||I.push(M)}}h.isSubjectReference(X)||_.push(X)}return _});return function(e,a){return R.apply(this,arguments)}}()},2926:($,Z,u)=>{"use strict";const S=u(9098),x={};$.exports=x,x.isSubject=h=>!(!S.isObject(h)||"@value"in h||"@set"in h||"@list"in h)&&(Object.keys(h).length>1||!("@id"in h)),x.isSubjectReference=h=>S.isObject(h)&&1===Object.keys(h).length&&"@id"in h,x.isValue=h=>S.isObject(h)&&"@value"in h,x.isList=h=>S.isObject(h)&&"@list"in h,x.isGraph=h=>S.isObject(h)&&"@graph"in h&&1===Object.keys(h).filter(g=>"@id"!==g&&"@index"!==g).length,x.isSimpleGraph=h=>x.isGraph(h)&&!("@id"in h),x.isBlankNode=h=>{if(S.isObject(h)){if("@id"in h){const g=h["@id"];return!S.isString(g)||0===g.indexOf("_:")}return 0===Object.keys(h).length||!("@value"in h||"@set"in h||"@list"in h)}return!1}},1045:($,Z,u)=>{var S=u(4510).default;const x=u(7073),h=u(4577),g=u(6035),J=u(8398),r=g.IdentifierIssuer,n=u(9027),t=u(1983),i=u(6441),{expand:y}=u(6551),{flatten:N}=u(257),{fromRDF:k}=u(6487),{toRDF:l}=u(624),{frameMergedOrDefault:o,cleanupNull:j}=u(8998),{isArray:d,isObject:L,isString:E}=u(9098),{isSubjectReference:Y}=u(2926),{expandIri:R,getInitialContext:e,process:a,processingMode:s}=u(3104),{compact:m,compactIri:T}=u(7374),{createNodeMap:A,createMergedNodeMap:f,mergeNodeMaps:v}=u(253),{logEventHandler:_,logWarningEventHandler:O,safeEventHandler:H,setDefaultEventHandler:X,setupEventHandler:I,strictEventHandler:p,unhandledEventHandler:b}=u(9802),P=function(c){const G={},z=new t({max:100});function K(F,{documentLoader:V=c.documentLoader,...D}){if(F&&"compactionMap"in F)throw new n('"compactionMap" not supported.',"jsonld.OptionsError");if(F&&"expansionMap"in F)throw new n('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:V},D,F,{eventHandler:I({options:F})})}return c.compact=function(){var F=S(function*(V,D,w){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===D)throw new n("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===V)return null;let B;(w=K(w,{base:E(V)?V:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new r("_:b"),contextResolver:new J({sharedCache:z})})).link&&(w.skipExpansion=!0),w.compactToRelative||delete w.base,B=w.skipExpansion?V:yield c.expand(V,w);const W=yield c.processContext(e(w),D,w);let U=yield m({activeCtx:W,element:B,options:w});w.compactArrays&&!w.graph&&d(U)?1===U.length?U=U[0]:0===U.length&&(U={}):w.graph&&L(U)&&(U=[U]),L(D)&&"@context"in D&&(D=D["@context"]),D=g.clone(D),d(D)||(D=[D]);const C=D;D=[];for(let te=0;te<C.length;++te)(!L(C[te])||Object.keys(C[te]).length>0)&&D.push(C[te]);const ee=D.length>0;if(1===D.length&&(D=D[0]),d(U)){const te=T({activeCtx:W,iri:"@graph",relativeTo:{vocab:!0}}),q=U;U={},ee&&(U["@context"]=D),U[te]=q}else if(L(U)&&ee){const te=U;U={"@context":D};for(const q in te)U[q]=te[q]}return U});return function(V,D,w){return F.apply(this,arguments)}}(),c.expand=function(){var F=S(function*(V,D){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");const w={},B=[];if("expandContext"in(D=K(D,{keepFreeFloatingNodes:!1,contextResolver:new J({sharedCache:z})}))){const ee=g.clone(D.expandContext);w.expandContext=L(ee)&&"@context"in ee?ee:{"@context":ee},B.push(w.expandContext)}let W;if(E(V)){const ee=yield c.get(V,D);W=ee.documentUrl,w.input=ee.document,ee.contextUrl&&(w.remoteContext={"@context":ee.contextUrl},B.push(w.remoteContext))}else w.input=g.clone(V);"base"in D||(D.base=W||"");let U=e(D);for(const ee of B)U=yield a({activeCtx:U,localCtx:ee,options:D});let C=yield y({activeCtx:U,element:w.input,options:D});return L(C)&&"@graph"in C&&1===Object.keys(C).length?C=C["@graph"]:null===C&&(C=[]),d(C)||(C=[C]),C});return function(V,D){return F.apply(this,arguments)}}(),c.flatten=function(){var F=S(function*(V,D,w){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");D="function"==typeof D?null:D||null,w=K(w,{base:E(V)?V:"",contextResolver:new J({sharedCache:z})});const B=yield c.expand(V,w),W=N(B);return null===D?W:(w.graph=!0,w.skipExpansion=!0,yield c.compact(W,D,w))});return function(V,D,w){return F.apply(this,arguments)}}(),c.frame=function(){var F=S(function*(V,D,w){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(w=K(w,{base:E(V)?V:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new J({sharedCache:z})}),E(D)){const re=yield c.get(D,w);if(D=re.document,re.contextUrl){let se=D["@context"];se?d(se)?se.push(re.contextUrl):se=[se,re.contextUrl]:se=re.contextUrl,D["@context"]=se}}const B=D&&D["@context"]||{},W=yield c.processContext(e(w),B,w);w.hasOwnProperty("omitGraph")||(w.omitGraph=s(W,1.1)),w.hasOwnProperty("pruneBlankNodeIdentifiers")||(w.pruneBlankNodeIdentifiers=s(W,1.1));const U=yield c.expand(V,w),C={...w};C.isFrame=!0,C.keepFreeFloatingNodes=!0;const ee=yield c.expand(D,C),te=Object.keys(D).map(re=>R(W,re,{vocab:!0}));C.merged=!te.includes("@graph"),C.is11=s(W,1.1);const q=o(U,ee,C);C.graph=!w.omitGraph,C.skipExpansion=!0,C.link={},C.framing=!0;let ne=yield c.compact(q,B,C);return C.link={},ne=j(ne,C),ne});return function(V,D,w){return F.apply(this,arguments)}}(),c.link=function(){var F=S(function*(V,D,w){const B={};return D&&(B["@context"]=D),B["@embed"]="@link",c.frame(V,B,w)});return function(V,D,w){return F.apply(this,arguments)}}(),c.normalize=c.canonize=function(){var F=S(function*(V,D){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(D=K(D,{base:E(V)?V:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new J({sharedCache:z})}))){if("application/n-quads"!==D.inputFormat&&"application/nquads"!==D.inputFormat)throw new n("Unknown canonicalization input format.","jsonld.CanonizeError");const W=i.parse(V);return x.canonize(W,D)}const w={...D};delete w.format,w.produceGeneralizedRdf=!1;const B=yield c.toRDF(V,w);return x.canonize(B,D)});return function(V,D){return F.apply(this,arguments)}}(),c.fromRDF=function(){var F=S(function*(V,D){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");D=K(D,{format:E(V)?"application/n-quads":void 0});const{format:w}=D;let{rdfParser:B}=D;if(w){if(B=B||G[w],!B)throw new n("Unknown input format.","jsonld.UnknownFormat",{format:w})}else B=()=>V;const W=yield B(V);return k(W,D)});return function(V,D){return F.apply(this,arguments)}}(),c.toRDF=function(){var F=S(function*(V,D){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let w;w=(D=K(D,{base:E(V)?V:"",skipExpansion:!1,contextResolver:new J({sharedCache:z})})).skipExpansion?V:yield c.expand(V,D);const B=l(w,D);if(D.format){if("application/n-quads"===D.format||"application/nquads"===D.format)return i.serialize(B);throw new n("Unknown output format.","jsonld.UnknownFormat",{format:D.format})}return B});return function(V,D){return F.apply(this,arguments)}}(),c.createNodeMap=function(){var F=S(function*(V,D){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");D=K(D,{base:E(V)?V:"",contextResolver:new J({sharedCache:z})});const w=yield c.expand(V,D);return f(w,D)});return function(V,D){return F.apply(this,arguments)}}(),c.merge=function(){var F=S(function*(V,D,w){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!d(V))throw new TypeError('Could not merge, "docs" must be an array.');D="function"==typeof D?null:D||null,w=K(w,{contextResolver:new J({sharedCache:z})});const B=yield Promise.all(V.map(re=>{const se={...w};return c.expand(re,se)}));let W=!0;"mergeNodes"in w&&(W=w.mergeNodes);const U=w.issuer||new r("_:b"),C={"@default":{}};for(let re=0;re<B.length;++re){const se=g.relabelBlankNodes(B[re],{issuer:new r("_:b"+re+"-")}),ie=W||0===re?C:{"@default":{}};if(A(se,ie,"@default",U),ie!==C)for(const ae in ie){const le=ie[ae];if(!(ae in C)){C[ae]=le;continue}const de=C[ae];for(const ce in le)ce in de||(de[ce]=le[ce])}}const ee=v(C),te=[],q=Object.keys(ee).sort();for(let re=0;re<q.length;++re){const se=ee[q[re]];Y(se)||te.push(se)}return null===D?te:(w.graph=!0,w.skipExpansion=!0,yield c.compact(te,D,w))});return function(V,D,w){return F.apply(this,arguments)}}(),Object.defineProperty(c,"documentLoader",{get:()=>c._documentLoader,set:F=>c._documentLoader=F}),c.documentLoader=function(){var F=S(function*(V){throw new n("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:V})});return function(V){return F.apply(this,arguments)}}(),c.get=function(){var F=S(function*(V,D){let w;w="function"==typeof D.documentLoader?D.documentLoader:c.documentLoader;const B=yield w(V);try{if(!B.document)throw new n("No remote document found at the given URL.","jsonld.NullRemoteDocument");E(B.document)&&(B.document=JSON.parse(B.document))}catch(W){throw new n("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:W,remoteDoc:B})}return B});return function(V,D){return F.apply(this,arguments)}}(),c.processContext=function(){var F=S(function*(V,D,w){return w=K(w,{base:"",contextResolver:new J({sharedCache:z})}),null===D?e(w):(D=g.clone(D),L(D)&&"@context"in D||(D={"@context":D}),a({activeCtx:V,localCtx:D,options:w}))});return function(V,D,w){return F.apply(this,arguments)}}(),c.getContextValue=u(3104).getContextValue,c.documentLoaders={},c.useDocumentLoader=function(F){if(!(F in c.documentLoaders))throw new n('Unknown document loader type: "'+F+'"',"jsonld.UnknownDocumentLoader",{type:F});c.documentLoader=c.documentLoaders[F].apply(c,Array.prototype.slice.call(arguments,1))},c.registerRDFParser=function(F,V){G[F]=V},c.unregisterRDFParser=function(F){delete G[F]},c.registerRDFParser("application/n-quads",i.parse),c.registerRDFParser("application/nquads",i.parse),c.url=u(3834),c.logEventHandler=_,c.logWarningEventHandler=O,c.safeEventHandler=H,c.setDefaultEventHandler=X,c.strictEventHandler=p,c.unhandledEventHandler=b,c.util=g,Object.assign(c,g),c.promises=c,c.RequestQueue=u(7579),c.JsonLdProcessor=u(1985)(c),h.setupGlobals(c),h.setupDocumentLoaders(c),c},M=function(){return P(function(){return M()})};P(M),$.exports=M},253:($,Z,u)=>{"use strict";const{isKeyword:S}=u(3104),x=u(2926),h=u(9098),g=u(6035),J=u(9027),r={};$.exports=r,r.createMergedNodeMap=(n,t)=>{const i=(t=t||{}).issuer||new g.IdentifierIssuer("_:b"),y={"@default":{}};return r.createNodeMap(n,y,"@default",i),r.mergeNodeMaps(y)},r.createNodeMap=(n,t,i,y,N,k)=>{if(h.isArray(n)){for(const d of n)r.createNodeMap(d,t,i,y,void 0,k);return}if(!h.isObject(n))return void(k&&k.push(n));if(x.isValue(n)){if("@type"in n){let d=n["@type"];0===d.indexOf("_:")&&(n["@type"]=d=y.getId(d))}return void(k&&k.push(n))}if(k&&x.isList(n)){const d=[];return r.createNodeMap(n["@list"],t,i,y,N,d),void k.push({"@list":d})}if("@type"in n){const d=n["@type"];for(const L of d)0===L.indexOf("_:")&&y.getId(L)}h.isUndefined(N)&&(N=x.isBlankNode(n)?y.getId(n["@id"]):n["@id"]),k&&k.push({"@id":N});const l=t[i],o=l[N]=l[N]||{};o["@id"]=N;const j=Object.keys(n).sort();for(let d of j){if("@id"===d)continue;if("@reverse"===d){const E={"@id":N},Y=n["@reverse"];for(const R in Y){const e=Y[R];for(const a of e){let s=a["@id"];x.isBlankNode(a)&&(s=y.getId(s)),r.createNodeMap(a,t,i,y,s),g.addValue(l[s],R,E,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===d){N in t||(t[N]={}),r.createNodeMap(n[d],t,N,y);continue}if("@included"===d){r.createNodeMap(n[d],t,i,y);continue}if("@type"!==d&&S(d)){if("@index"===d&&d in o&&(n[d]!==o[d]||n[d]["@id"]!==o[d]["@id"]))throw new J("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:o});o[d]=n[d];continue}const L=n[d];if(0===d.indexOf("_:")&&(d=y.getId(d)),0!==L.length)for(let E of L)if("@type"===d&&(E=0===E.indexOf("_:")?y.getId(E):E),x.isSubject(E)||x.isSubjectReference(E)){if("@id"in E&&!E["@id"])continue;const Y=x.isBlankNode(E)?y.getId(E["@id"]):E["@id"];g.addValue(o,d,{"@id":Y},{propertyIsArray:!0,allowDuplicate:!1}),r.createNodeMap(E,t,i,y,Y)}else if(x.isValue(E))g.addValue(o,d,E,{propertyIsArray:!0,allowDuplicate:!1});else if(x.isList(E)){const Y=[];r.createNodeMap(E["@list"],t,i,y,N,Y),E={"@list":Y},g.addValue(o,d,E,{propertyIsArray:!0,allowDuplicate:!1})}else r.createNodeMap(E,t,i,y,N),g.addValue(o,d,E,{propertyIsArray:!0,allowDuplicate:!1});else g.addValue(o,d,[],{propertyIsArray:!0})}},r.mergeNodeMapGraphs=n=>{const t={};for(const i of Object.keys(n).sort())for(const y of Object.keys(n[i]).sort()){const N=n[i][y];y in t||(t[y]={"@id":y});const k=t[y];for(const l of Object.keys(N).sort())if(S(l)&&"@type"!==l)k[l]=g.clone(N[l]);else for(const o of N[l])g.addValue(k,l,g.clone(o),{propertyIsArray:!0,allowDuplicate:!1})}return t},r.mergeNodeMaps=n=>{const t=n["@default"],i=Object.keys(n).sort();for(const y of i){if("@default"===y)continue;const N=n[y];let k=t[y];k?"@graph"in k||(k["@graph"]=[]):t[y]=k={"@id":y,"@graph":[]};const l=k["@graph"];for(const o of Object.keys(N).sort()){const j=N[o];x.isSubjectReference(j)||l.push(j)}}return t}},4577:($,Z,u)=>{"use strict";const S=u(3601),x={};$.exports=x,x.setupDocumentLoaders=function(h){typeof XMLHttpRequest<"u"&&(h.documentLoaders.xhr=S,h.useDocumentLoader("xhr"))},x.setupGlobals=function(h){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:h.JsonLdProcessor})}},624:($,Z,u)=>{"use strict";const{createNodeMap:S}=u(253),{isKeyword:x}=u(3104),h=u(2926),g=u(8257),J=u(9027),r=u(9098),n=u(6035),{handleEvent:t}=u(9802),{RDF_FIRST:i,RDF_REST:y,RDF_NIL:N,RDF_TYPE:k,RDF_JSON_LITERAL:l,RDF_LANGSTRING:o,XSD_BOOLEAN:j,XSD_DOUBLE:d,XSD_INTEGER:L,XSD_STRING:E}=u(6270),{isAbsolute:Y}=u(3834),R={};function e(m,T,A,f,v){const _=Object.keys(T).sort();for(const O of _){const H=T[O],X=Object.keys(H).sort();for(let I of X){const p=H[I];if("@type"===I)I=k;else if(x(I))continue;for(const b of p){const P={termType:O.startsWith("_:")?"BlankNode":"NamedNode",value:O};if(!Y(O)){v.eventHandler&&t({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:O}},options:v});continue}const M={termType:I.startsWith("_:")?"BlankNode":"NamedNode",value:I};if(!Y(I)){v.eventHandler&&t({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:I}},options:v});continue}if("BlankNode"===M.termType&&!v.produceGeneralizedRdf){v.eventHandler&&t({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:f.getOldIds().find(G=>f.getId(G)===I)}},options:v});continue}const c=s(b,f,m,A,v.rdfDirection,v);c&&m.push({subject:P,predicate:M,object:c,graph:A})}}}}function s(m,T,A,f,v,_){const O={};if(h.isValue(m)){O.termType="Literal",O.value=void 0,O.datatype={termType:"NamedNode"};let H=m["@value"];const X=m["@type"]||null;if("@json"===X)O.value=g(H),O.datatype.value=l;else if(r.isBoolean(H))O.value=H.toString(),O.datatype.value=X||j;else if(r.isDouble(H)||X===d)r.isDouble(H)||(H=parseFloat(H)),O.value=H.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),O.datatype.value=X||d;else if(r.isNumber(H))O.value=H.toFixed(0),O.datatype.value=X||L;else if("@direction"in m&&"i18n-datatype"===v){const I=(m["@language"]||"").toLowerCase();O.datatype.value=`https://www.w3.org/ns/i18n#${I}_${m["@direction"]}`,O.value=H}else{if("@direction"in m&&"compound-literal"===v)throw new J("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:v});if("@direction"in m&&v)throw new J("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:v});"@language"in m?("@direction"in m&&!v&&_.eventHandler&&t({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:O.value}},options:_}),O.value=H,O.datatype.value=X||o,O.language=m["@language"]):("@direction"in m&&!v&&_.eventHandler&&t({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:O.value}},options:_}),O.value=H,O.datatype.value=X||E)}}else if(h.isList(m)){const H=function a(m,T,A,f,v,_){const O={termType:"NamedNode",value:i},H={termType:"NamedNode",value:y},X={termType:"NamedNode",value:N},I=m.pop(),p=I?{termType:"BlankNode",value:T.getId()}:X;let b=p;for(const P of m){const M=s(P,T,A,f,v,_),c={termType:"BlankNode",value:T.getId()};A.push({subject:b,predicate:O,object:M,graph:f}),A.push({subject:b,predicate:H,object:c,graph:f}),b=c}if(I){const P=s(I,T,A,f,v,_);A.push({subject:b,predicate:O,object:P,graph:f}),A.push({subject:b,predicate:H,object:X,graph:f})}return p}(m["@list"],T,A,f,v,_);O.termType=H.termType,O.value=H.value}else{const H=r.isObject(m)?m["@id"]:m;O.termType=H.startsWith("_:")?"BlankNode":"NamedNode",O.value=H}return"NamedNode"!==O.termType||Y(O.value)?O:(_.eventHandler&&t({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:O.value}},options:_}),null)}$.exports=R,R.toRDF=(m,T)=>{const A=new n.IdentifierIssuer("_:b"),f={"@default":{}};S(m,f,"@default",A);const v=[],_=Object.keys(f).sort();for(const O of _){let H;if("@default"===O)H={termType:"DefaultGraph",value:""};else{if(!Y(O)){T.eventHandler&&t({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:O}},options:T});continue}H=O.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},H.value=O}e(v,f[O],H,A,T)}return v}},9098:$=>{"use strict";const Z={};$.exports=Z,Z.isArray=Array.isArray,Z.isBoolean=u=>"boolean"==typeof u||"[object Boolean]"===Object.prototype.toString.call(u),Z.isDouble=u=>Z.isNumber(u)&&(-1!==String(u).indexOf(".")||Math.abs(u)>=1e21),Z.isEmptyObject=u=>Z.isObject(u)&&0===Object.keys(u).length,Z.isNumber=u=>"number"==typeof u||"[object Number]"===Object.prototype.toString.call(u),Z.isNumeric=u=>!isNaN(parseFloat(u))&&isFinite(u),Z.isObject=u=>"[object Object]"===Object.prototype.toString.call(u),Z.isString=u=>"string"==typeof u||"[object String]"===Object.prototype.toString.call(u),Z.isUndefined=u=>typeof u>"u"},3834:($,Z,u)=>{"use strict";const S=u(9098),x={};$.exports=x,x.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},x.parse=(g,J)=>{const r={},n=x.parsers[J||"full"],t=n.regex.exec(g);let i=n.keys.length;for(;i--;)r[n.keys[i]]=void 0===t[i]?null:t[i];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=x.removeDotSegments(r.path),r},x.prependBase=(g,J)=>{if(null===g||x.isAbsolute(J))return J;(!g||S.isString(g))&&(g=x.parse(g||""));const r=x.parse(J),n={protocol:g.protocol||""};if(null!==r.authority)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=g.authority,""===r.path)n.path=g.path,n.query=null!==r.query?r.query:g.query;else{if(0===r.path.indexOf("/"))n.path=r.path;else{let i=g.path;i=i.substr(0,i.lastIndexOf("/")+1),(i.length>0||g.authority)&&"/"!==i.substr(-1)&&(i+="/"),i+=r.path,n.path=i}n.query=r.query}""!==r.path&&(n.path=x.removeDotSegments(n.path));let t=n.protocol;return null!==n.authority&&(t+="//"+n.authority),t+=n.path,null!==n.query&&(t+="?"+n.query),null!==r.fragment&&(t+="#"+r.fragment),""===t&&(t="./"),t},x.removeBase=(g,J)=>{if(null===g)return J;(!g||S.isString(g))&&(g=x.parse(g||""));let r="";if(""!==g.href?r+=(g.protocol||"")+"//"+(g.authority||""):J.indexOf("//")&&(r+="//"),0!==J.indexOf(r))return J;const n=x.parse(J.substr(r.length)),t=g.normalizedPath.split("/"),i=n.normalizedPath.split("/"),y=n.fragment||n.query?0:1;for(;t.length>0&&i.length>y&&t[0]===i[0];)t.shift(),i.shift();let N="";if(t.length>0){t.pop();for(let k=0;k<t.length;++k)N+="../"}return N+=i.join("/"),null!==n.query&&(N+="?"+n.query),null!==n.fragment&&(N+="#"+n.fragment),""===N&&(N="./"),N},x.removeDotSegments=g=>{if(0===g.length)return"";const J=g.split("/"),r=[];for(;J.length>0;){const n=J.shift(),t=0===J.length;"."!==n?".."!==n?r.push(n):(r.pop(),t&&r.push("")):t&&r.push("")}return"/"===g[0]&&r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};const h=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;x.isAbsolute=g=>S.isString(g)&&h.test(g),x.isRelative=g=>S.isString(g)},6035:($,Z,u)=>{"use strict";const S=u(2926),x=u(9098),h=u(7073).IdentifierIssuer,g=u(9027),r=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,n=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,t=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,y_headers_accept="application/ld+json, application/json",N={};function k(l,o){if(x.isArray(o))for(let j=0;j<o.length;++j)o[j]=k(l,o[j]);else if(S.isList(o))o["@list"]=k(l,o["@list"]);else if(x.isObject(o)){S.isBlankNode(o)&&(o["@id"]=l.getId(o["@id"]));const j=Object.keys(o).sort();for(let d=0;d<j.length;++d){const L=j[d];"@id"!==L&&(o[L]=k(l,o[L]))}}return o}$.exports=N,N.IdentifierIssuer=h,N.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,N.REGEX_KEYWORD=/^@[a-zA-Z]+$/,N.clone=function(l){if(l&&"object"==typeof l){let o;if(x.isArray(l)){o=[];for(let j=0;j<l.length;++j)o[j]=N.clone(l[j])}else if(l instanceof Map){o=new Map;for(const[j,d]of l)o.set(j,N.clone(d))}else if(l instanceof Set){o=new Set;for(const j of l)o.add(N.clone(j))}else if(x.isObject(l)){o={};for(const j in l)o[j]=N.clone(l[j])}else o=l.toString();return o}return l},N.asArray=function(l){return Array.isArray(l)?l:[l]},N.buildHeaders=(l={})=>{if(Object.keys(l).some(j=>"accept"===j.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+y_headers_accept+'" is supported.');return Object.assign({Accept:y_headers_accept},l)},N.parseLinkHeader=l=>{const o={},j=l.match(r);for(let d=0;d<j.length;++d){let L=j[d].match(n);if(!L)continue;const E={target:L[1]},Y=L[2];for(;L=t.exec(Y);)E[L[1]]=void 0===L[2]?L[3]:L[2];const R=E.rel||"";Array.isArray(o[R])?o[R].push(E):o[R]=o.hasOwnProperty(R)?[o[R],E]:E}return o},N.validateTypeValue=(l,o)=>{if(!(x.isString(l)||x.isArray(l)&&l.every(j=>x.isString(j)))){if(o&&x.isObject(l))switch(Object.keys(l).length){case 0:return;case 1:if("@default"in l&&N.asArray(l["@default"]).every(j=>x.isString(j)))return}throw new g('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:l})}},N.hasProperty=(l,o)=>{if(l.hasOwnProperty(o)){const j=l[o];return!x.isArray(j)||j.length>0}return!1},N.hasValue=(l,o,j)=>{if(N.hasProperty(l,o)){let d=l[o];const L=S.isList(d);if(x.isArray(d)||L){L&&(d=d["@list"]);for(let E=0;E<d.length;++E)if(N.compareValues(j,d[E]))return!0}else if(!x.isArray(j))return N.compareValues(j,d)}return!1},N.addValue=(l,o,j,d)=>{if("propertyIsArray"in(d=d||{})||(d.propertyIsArray=!1),"valueIsArray"in d||(d.valueIsArray=!1),"allowDuplicate"in d||(d.allowDuplicate=!0),"prependValue"in d||(d.prependValue=!1),d.valueIsArray)l[o]=j;else if(x.isArray(j)){0===j.length&&d.propertyIsArray&&!l.hasOwnProperty(o)&&(l[o]=[]),d.prependValue&&(j=j.concat(l[o]),l[o]=[]);for(let L=0;L<j.length;++L)N.addValue(l,o,j[L],d)}else if(l.hasOwnProperty(o)){const L=!d.allowDuplicate&&N.hasValue(l,o,j);!x.isArray(l[o])&&(!L||d.propertyIsArray)&&(l[o]=[l[o]]),L||(d.prependValue?l[o].unshift(j):l[o].push(j))}else l[o]=d.propertyIsArray?[j]:j},N.getValues=(l,o)=>[].concat(l[o]||[]),N.removeProperty=(l,o)=>{delete l[o]},N.removeValue=(l,o,j,d)=>{"propertyIsArray"in(d=d||{})||(d.propertyIsArray=!1);const L=N.getValues(l,o).filter(E=>!N.compareValues(E,j));0===L.length?N.removeProperty(l,o):l[o]=1!==L.length||d.propertyIsArray?L:L[0]},N.relabelBlankNodes=(l,o)=>k((o=o||{}).issuer||new h("_:b"),l),N.compareValues=(l,o)=>!!(l===o||S.isValue(l)&&S.isValue(o)&&l["@value"]===o["@value"]&&l["@type"]===o["@type"]&&l["@language"]===o["@language"]&&l["@index"]===o["@index"])||!!(x.isObject(l)&&"@id"in l&&x.isObject(o)&&"@id"in o)&&l["@id"]===o["@id"],N.compareShortestLeast=(l,o)=>l.length<o.length?-1:o.length<l.length?1:l===o?0:l<o?-1:1},1983:($,Z,u)=>{"use strict";const S=u(513),x=Symbol("max"),h=Symbol("length"),g=Symbol("lengthCalculator"),J=Symbol("allowStale"),r=Symbol("maxAge"),n=Symbol("dispose"),t=Symbol("noDisposeOnSet"),i=Symbol("lruList"),y=Symbol("cache"),N=Symbol("updateAgeOnGet"),k=()=>1,o=(R,e,a)=>{const s=R[y].get(e);if(s){const m=s.value;if(j(R,m)){if(L(R,s),!R[J])return}else a&&(R[N]&&(s.value.now=Date.now()),R[i].unshiftNode(s));return m.value}},j=(R,e)=>{if(!e||!e.maxAge&&!R[r])return!1;const a=Date.now()-e.now;return e.maxAge?a>e.maxAge:R[r]&&a>R[r]},d=R=>{if(R[h]>R[x])for(let e=R[i].tail;R[h]>R[x]&&null!==e;){const a=e.prev;L(R,e),e=a}},L=(R,e)=>{if(e){const a=e.value;R[n]&&R[n](a.key,a.value),R[h]-=a.length,R[y].delete(a.key),R[i].removeNode(e)}};class E{constructor(e,a,s,m,T){this.key=e,this.value=a,this.length=s,this.now=m,this.maxAge=T||0}}const Y=(R,e,a,s)=>{let m=a.value;j(R,m)&&(L(R,a),R[J]||(m=void 0)),m&&e.call(s,m.value,m.key,R)};$.exports=class l{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[x]=e.max||1/0;const s=e.length||k;if(this[g]="function"!=typeof s?k:s,this[J]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[r]=e.maxAge||0,this[n]=e.dispose,this[t]=e.noDisposeOnSet||!1,this[N]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[x]=e||1/0,d(this)}get max(){return this[x]}set allowStale(e){this[J]=!!e}get allowStale(){return this[J]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[r]=e,d(this)}get maxAge(){return this[r]}set lengthCalculator(e){"function"!=typeof e&&(e=k),e!==this[g]&&(this[g]=e,this[h]=0,this[i].forEach(a=>{a.length=this[g](a.value,a.key),this[h]+=a.length})),d(this)}get lengthCalculator(){return this[g]}get length(){return this[h]}get itemCount(){return this[i].length}rforEach(e,a){a=a||this;for(let s=this[i].tail;null!==s;){const m=s.prev;Y(this,e,s,a),s=m}}forEach(e,a){a=a||this;for(let s=this[i].head;null!==s;){const m=s.next;Y(this,e,s,a),s=m}}keys(){return this[i].toArray().map(e=>e.key)}values(){return this[i].toArray().map(e=>e.value)}reset(){this[n]&&this[i]&&this[i].length&&this[i].forEach(e=>this[n](e.key,e.value)),this[y]=new Map,this[i]=new S,this[h]=0}dump(){return this[i].map(e=>!j(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[i]}set(e,a,s){if((s=s||this[r])&&"number"!=typeof s)throw new TypeError("maxAge must be a number");const m=s?Date.now():0,T=this[g](a,e);if(this[y].has(e)){if(T>this[x])return L(this,this[y].get(e)),!1;const v=this[y].get(e).value;return this[n]&&(this[t]||this[n](e,v.value)),v.now=m,v.maxAge=s,v.value=a,this[h]+=T-v.length,v.length=T,this.get(e),d(this),!0}const A=new E(e,a,T,m,s);return A.length>this[x]?(this[n]&&this[n](e,a),!1):(this[h]+=A.length,this[i].unshift(A),this[y].set(e,this[i].head),d(this),!0)}has(e){if(!this[y].has(e))return!1;const a=this[y].get(e).value;return!j(this,a)}get(e){return o(this,e,!0)}peek(e){return o(this,e,!1)}pop(){const e=this[i].tail;return e?(L(this,e),e.value):null}del(e){L(this,this[y].get(e))}load(e){this.reset();const a=Date.now();for(let s=e.length-1;s>=0;s--){const m=e[s],T=m.e||0;if(0===T)this.set(m.k,m.v);else{const A=T-a;A>0&&this.set(m.k,m.v,A)}}}prune(){this[y].forEach((e,a)=>o(this,a,!1))}}},969:$=>{"use strict";$.exports=function(Z){Z.prototype[Symbol.iterator]=function*(){for(let u=this.head;u;u=u.next)yield u.value}}},513:($,Z,u)=>{"use strict";function S(r){var n=this;if(n instanceof S||(n=new S),n.tail=null,n.head=null,n.length=0,r&&"function"==typeof r.forEach)r.forEach(function(y){n.push(y)});else if(arguments.length>0)for(var t=0,i=arguments.length;t<i;t++)n.push(arguments[t]);return n}function x(r,n,t){var i=n===r.head?new J(t,null,n,r):new J(t,n,n.next,r);return null===i.next&&(r.tail=i),null===i.prev&&(r.head=i),r.length++,i}function h(r,n){r.tail=new J(n,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function g(r,n){r.head=new J(n,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function J(r,n,t,i){if(!(this instanceof J))return new J(r,n,t,i);this.list=i,this.value=r,n?(n.next=this,this.prev=n):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}$.exports=S,S.Node=J,S.create=S,S.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var n=r.next,t=r.prev;return n&&(n.prev=t),t&&(t.next=n),r===this.head&&(this.head=n),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,n},S.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var n=this.head;r.list=this,r.next=n,n&&(n.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}},S.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var n=this.tail;r.list=this,r.prev=n,n&&(n.next=r),this.tail=r,this.head||(this.head=r),this.length++}},S.prototype.push=function(){for(var r=0,n=arguments.length;r<n;r++)h(this,arguments[r]);return this.length},S.prototype.unshift=function(){for(var r=0,n=arguments.length;r<n;r++)g(this,arguments[r]);return this.length},S.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}},S.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}},S.prototype.forEach=function(r,n){n=n||this;for(var t=this.head,i=0;null!==t;i++)r.call(n,t.value,i,this),t=t.next},S.prototype.forEachReverse=function(r,n){n=n||this;for(var t=this.tail,i=this.length-1;null!==t;i--)r.call(n,t.value,i,this),t=t.prev},S.prototype.get=function(r){for(var n=0,t=this.head;null!==t&&n<r;n++)t=t.next;if(n===r&&null!==t)return t.value},S.prototype.getReverse=function(r){for(var n=0,t=this.tail;null!==t&&n<r;n++)t=t.prev;if(n===r&&null!==t)return t.value},S.prototype.map=function(r,n){n=n||this;for(var t=new S,i=this.head;null!==i;)t.push(r.call(n,i.value,this)),i=i.next;return t},S.prototype.mapReverse=function(r,n){n=n||this;for(var t=new S,i=this.tail;null!==i;)t.push(r.call(n,i.value,this)),i=i.prev;return t},S.prototype.reduce=function(r,n){var t,i=this.head;if(arguments.length>1)t=n;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,t=this.head.value}for(var y=0;null!==i;y++)t=r(t,i.value,y),i=i.next;return t},S.prototype.reduceReverse=function(r,n){var t,i=this.tail;if(arguments.length>1)t=n;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,t=this.tail.value}for(var y=this.length-1;null!==i;y--)t=r(t,i.value,y),i=i.prev;return t},S.prototype.toArray=function(){for(var r=new Array(this.length),n=0,t=this.head;null!==t;n++)r[n]=t.value,t=t.next;return r},S.prototype.toArrayReverse=function(){for(var r=new Array(this.length),n=0,t=this.tail;null!==t;n++)r[n]=t.value,t=t.prev;return r},S.prototype.slice=function(r,n){(n=n||this.length)<0&&(n+=this.length),(r=r||0)<0&&(r+=this.length);var t=new S;if(n<r||n<0)return t;r<0&&(r=0),n>this.length&&(n=this.length);for(var i=0,y=this.head;null!==y&&i<r;i++)y=y.next;for(;null!==y&&i<n;i++,y=y.next)t.push(y.value);return t},S.prototype.sliceReverse=function(r,n){(n=n||this.length)<0&&(n+=this.length),(r=r||0)<0&&(r+=this.length);var t=new S;if(n<r||n<0)return t;r<0&&(r=0),n>this.length&&(n=this.length);for(var i=this.length,y=this.tail;null!==y&&i>n;i--)y=y.prev;for(;null!==y&&i>r;i--,y=y.prev)t.push(y.value);return t},S.prototype.splice=function(r,n,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var i=0,y=this.head;null!==y&&i<r;i++)y=y.next;var N=[];for(i=0;y&&i<n;i++)N.push(y.value),y=this.removeNode(y);for(null===y&&(y=this.tail),y!==this.head&&y!==this.tail&&(y=y.prev),i=0;i<t.length;i++)y=x(this,y,t[i]);return N},S.prototype.reverse=function(){for(var r=this.head,n=this.tail,t=r;null!==t;t=t.prev){var i=t.prev;t.prev=t.next,t.next=i}return this.head=n,this.tail=r,this};try{u(969)(S)}catch{}},7073:($,Z,u)=>{$.exports=u(4793)},3053:$=>{"use strict";$.exports=class ue{constructor(u,S=new Map,x=0){this.prefix=u,this._existing=S,this.counter=x}clone(){const{prefix:u,_existing:S,counter:x}=this;return new ue(u,new Map(S),x)}getId(u){const S=u&&this._existing.get(u);if(S)return S;const x=this.prefix+this.counter;return this.counter++,u&&this._existing.set(u,x),x}hasId(u){return this._existing.has(u)}getOldIds(){return[...this._existing.keys()]}}},4499:($,Z,u)=>{"use strict";var S=u(4510).default;u(1811);const x=self.crypto||self.msCrypto;$.exports=class{constructor(g){if(!x||!x.subtle)throw new Error("crypto.subtle not found.");if("sha256"===g)this.algorithm={name:"SHA-256"};else{if("sha1"!==g)throw new Error(`Unsupported algorithm "${g}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(g){this._content+=g}digest(){var g=this;return S(function*(){const J=(new TextEncoder).encode(g._content),r=new Uint8Array(yield x.subtle.digest(g.algorithm,J));let n="";for(let t=0;t<r.length;++t)n+=r[t].toString(16).padStart(2,"0");return n})()}}},9511:$=>{"use strict";const S="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",x="http://www.w3.org/2001/XMLSchema#string",h="NamedNode",g="BlankNode",J="Literal",r="DefaultGraph",n={};function t(l,o){return l.subject.termType===o.subject.termType&&l.object.termType===o.object.termType&&l.subject.value===o.subject.value&&l.predicate.value===o.predicate.value&&l.object.value===o.object.value&&(l.object.termType!==J||l.object.datatype.termType===o.object.datatype.termType&&l.object.language===o.object.language&&l.object.datatype.value===o.object.datatype.value)}(()=>{const l="(?:<([^:]+:[^>]*)>)",j="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_",d=j+"0-9-\xb7\u0300-\u036f\u203f-\u2040",E="(_:(?:["+j+"0-9])(?:(?:["+d+".])*(?:["+d+"]))?)",s="[ \\t]+",m="[ \\t]*",T="(?:"+l+"|"+E+")"+s,A=l+s,f="(?:"+l+"|"+E+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+l+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+m,v="(?:\\.|(?:(?:"+l+"|"+E+")"+m+"\\.))";n.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,n.empty=new RegExp("^"+m+"$"),n.quad=new RegExp("^"+m+T+A+f+v+m+"$")})(),$.exports=class oe{static parse(o){const j=[],d={},L=o.split(n.eoln);let E=0;for(const Y of L){if(E++,n.empty.test(Y))continue;const R=Y.match(n.quad);if(null===R)throw new Error("N-Quads parse error on line "+E+".");const e={subject:null,predicate:null,object:null,graph:null};if(e.subject=void 0!==R[1]?{termType:h,value:R[1]}:{termType:g,value:R[2]},e.predicate={termType:h,value:R[3]},void 0!==R[4]?e.object={termType:h,value:R[4]}:void 0!==R[5]?e.object={termType:g,value:R[5]}:(e.object={termType:J,value:void 0,datatype:{termType:h}},void 0!==R[7]?e.object.datatype.value=R[7]:void 0!==R[8]?(e.object.datatype.value=S,e.object.language=R[8]):e.object.datatype.value=x,e.object.value=R[6].replace(N,function(o,j,d,L){if(j)switch(j){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(d)return String.fromCharCode(parseInt(d,16));if(L)throw new Error("Unsupported U escape")})),e.graph=void 0!==R[9]?{termType:h,value:R[9]}:void 0!==R[10]?{termType:g,value:R[10]}:{termType:r,value:""},e.graph.value in d){let a=!0;const s=d[e.graph.value];for(const m of s)if(t(m,e)){a=!1;break}a&&(s.push(e),j.push(e))}else d[e.graph.value]=[e],j.push(e)}return j}static serialize(o){Array.isArray(o)||(o=oe.legacyDatasetToQuads(o));const j=[];for(const d of o)j.push(oe.serializeQuad(d));return j.sort().join("")}static serializeQuadComponents(o,j,d,L){let E="";return E+=o.termType===h?`<${o.value}>`:`${o.value}`,E+=` <${j.value}> `,d.termType===h?E+=`<${d.value}>`:d.termType===g?E+=d.value:(E+=`"${function y(l){return l.replace(i,function(o){switch(o){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}(d.value)}"`,d.datatype.value===S?d.language&&(E+=`@${d.language}`):d.datatype.value!==x&&(E+=`^^<${d.datatype.value}>`)),L.termType===h?E+=` <${L.value}>`:L.termType===g&&(E+=` ${L.value}`),E+=" .\n",E}static serializeQuad(o){return oe.serializeQuadComponents(o.subject,o.predicate,o.object,o.graph)}static legacyDatasetToQuads(o){const j=[],d={"blank node":g,IRI:h,literal:J};for(const L in o)o[L].forEach(Y=>{const R={};for(const e in Y){const a=Y[e],s={termType:d[a.type],value:a.value};s.termType===J&&(s.datatype={termType:h},"datatype"in a&&(s.datatype.value=a.datatype),"language"in a?("datatype"in a||(s.datatype.value=S),s.language=a.language):"datatype"in a||(s.datatype.value=x)),R[e]=s}R.graph="@default"===L?{termType:r,value:""}:{termType:L.startsWith("_:")?g:h,value:L},j.push(R)});return j}};const i=/["\\\n\r]/g,N=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},9985:$=>{"use strict";$.exports=class{constructor(u){this.current=u.sort(),this.done=!1,this.dir=new Map;for(let S=0;S<u.length;++S)this.dir.set(u[S],!0)}hasNext(){return!this.done}next(){const{current:u,dir:S}=this,x=u.slice();let h=null,g=0;const J=u.length;for(let r=0;r<J;++r){const n=u[r],t=S.get(n);(null===h||n>h)&&(t&&r>0&&n>u[r-1]||!t&&r<J-1&&n>u[r+1])&&(h=n,g=r)}if(null===h)this.done=!0;else{const r=S.get(h)?g-1:g+1;u[g]=u[r],u[r]=h;for(const n of u)n>h&&S.set(n,!S.get(n))}return x}}},7189:($,Z,u)=>{"use strict";var S=u(4510).default;const x=u(3053),h=u(4499),g=u(9985),J=u(9511);function r(n,t){return n.hash<t.hash?-1:n.hash>t.hash?1:0}$.exports=class{constructor({createMessageDigest:t=()=>new h("sha256"),canonicalIdMap:i=new Map,maxDeepIterations:y=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new x("_:c14n",i),this.createMessageDigest=t,this.maxDeepIterations=y,this.quads=null,this.deepIterations=null}main(t){var i=this;return S(function*(){i.deepIterations=new Map,i.quads=t;for(const d of t)i._addBlankNodeQuadInfo({quad:d,component:d.subject}),i._addBlankNodeQuadInfo({quad:d,component:d.object}),i._addBlankNodeQuadInfo({quad:d,component:d.graph});const y=new Map,N=[...i.blankNodeInfo.keys()];let k=0;for(const d of N)++k%100==0&&(yield i._yield()),yield i._hashAndTrackBlankNode({id:d,hashToBlankNodes:y});const l=[...y.keys()].sort(),o=[];for(const d of l){const L=y.get(d);L.length>1?o.push(L):i.canonicalIssuer.getId(L[0])}for(const d of o){const L=[];for(const E of d){if(i.canonicalIssuer.hasId(E))continue;const Y=new x("_:b");Y.getId(E);const R=yield i.hashNDegreeQuads(E,Y);L.push(R)}L.sort(r);for(const E of L){const Y=E.issuer.getOldIds();for(const R of Y)i.canonicalIssuer.getId(R)}}const j=[];for(const d of i.quads){const L=J.serializeQuadComponents(i._componentWithCanonicalId(d.subject),d.predicate,i._componentWithCanonicalId(d.object),i._componentWithCanonicalId(d.graph));j.push(L)}return j.sort(),j.join("")})()}hashFirstDegreeQuads(t){var i=this;return S(function*(){const y=[],N=i.blankNodeInfo.get(t),k=N.quads;for(const o of k){const j={subject:null,predicate:o.predicate,object:null,graph:null};j.subject=i.modifyFirstDegreeComponent(t,o.subject,"subject"),j.object=i.modifyFirstDegreeComponent(t,o.object,"object"),j.graph=i.modifyFirstDegreeComponent(t,o.graph,"graph"),y.push(J.serializeQuad(j))}y.sort();const l=i.createMessageDigest();for(const o of y)l.update(o);return N.hash=yield l.digest(),N.hash})()}hashRelatedBlankNode(t,i,y,N){var k=this;return S(function*(){let l;l=k.canonicalIssuer.hasId(t)?k.canonicalIssuer.getId(t):y.hasId(t)?y.getId(t):k.blankNodeInfo.get(t).hash;const o=k.createMessageDigest();return o.update(N),"g"!==N&&o.update(k.getRelatedPredicate(i)),o.update(l),o.digest()})()}hashNDegreeQuads(t,i){var y=this;return S(function*(){const N=y.deepIterations.get(t)||0;if(N>y.maxDeepIterations)throw new Error(`Maximum deep iterations (${y.maxDeepIterations}) exceeded.`);y.deepIterations.set(t,N+1);const k=y.createMessageDigest(),l=yield y.createHashToRelated(t,i),o=[...l.keys()].sort();for(const j of o){k.update(j);let L,d="";const E=new g(l.get(j));let Y=0;for(;E.hasNext();){const R=E.next();++Y%3==0&&(yield y._yield());let e=i.clone(),a="";const s=[];let m=!1;for(const T of R)if(y.canonicalIssuer.hasId(T)?a+=y.canonicalIssuer.getId(T):(e.hasId(T)||s.push(T),a+=e.getId(T)),0!==d.length&&a>d){m=!0;break}if(!m){for(const T of s){const A=yield y.hashNDegreeQuads(T,e);if(a+=e.getId(T),a+=`<${A.hash}>`,e=A.issuer,0!==d.length&&a>d){m=!0;break}}m||(0===d.length||a<d)&&(d=a,L=e)}}k.update(d),i=L}return{hash:yield k.digest(),issuer:i}})()}modifyFirstDegreeComponent(t,i){return"BlankNode"!==i.termType?i:{termType:"BlankNode",value:i.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,i){var y=this;return S(function*(){const N=new Map,k=y.blankNodeInfo.get(t).quads;let l=0;for(const o of k)++l%100==0&&(yield y._yield()),yield Promise.all([y._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:t,issuer:i,hashToRelated:N}),y._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:t,issuer:i,hashToRelated:N}),y._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:t,issuer:i,hashToRelated:N})]);return N})()}_hashAndTrackBlankNode({id:t,hashToBlankNodes:i}){var y=this;return S(function*(){const N=yield y.hashFirstDegreeQuads(t),k=i.get(N);k?k.push(t):i.set(N,[t])})()}_addBlankNodeQuadInfo({quad:t,component:i}){if("BlankNode"!==i.termType)return;const y=i.value,N=this.blankNodeInfo.get(y);N?N.quads.add(t):this.blankNodeInfo.set(y,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:i,position:y,id:N,issuer:k,hashToRelated:l}){var o=this;return S(function*(){if("BlankNode"!==i.termType||i.value===N)return;const j=i.value,d=yield o.hashRelatedBlankNode(j,t,k,y),L=l.get(d);L?L.push(j):l.set(d,[j])})()}_componentWithCanonicalId(t){return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}_yield(){return S(function*(){return new Promise(t=>setImmediate(t))})()}}},5930:($,Z,u)=>{"use strict";const S=u(3053),x=u(4499),h=u(9985),g=u(9511);function J(r,n){return r.hash<n.hash?-1:r.hash>n.hash?1:0}$.exports=class{constructor({createMessageDigest:n=()=>new x("sha256"),canonicalIdMap:t=new Map,maxDeepIterations:i=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new S("_:c14n",t),this.createMessageDigest=n,this.maxDeepIterations=i,this.quads=null,this.deepIterations=null}main(n){this.deepIterations=new Map,this.quads=n;for(const l of n)this._addBlankNodeQuadInfo({quad:l,component:l.subject}),this._addBlankNodeQuadInfo({quad:l,component:l.object}),this._addBlankNodeQuadInfo({quad:l,component:l.graph});const t=new Map,i=[...this.blankNodeInfo.keys()];for(const l of i)this._hashAndTrackBlankNode({id:l,hashToBlankNodes:t});const y=[...t.keys()].sort(),N=[];for(const l of y){const o=t.get(l);o.length>1?N.push(o):this.canonicalIssuer.getId(o[0])}for(const l of N){const o=[];for(const j of l){if(this.canonicalIssuer.hasId(j))continue;const d=new S("_:b");d.getId(j);const L=this.hashNDegreeQuads(j,d);o.push(L)}o.sort(J);for(const j of o){const d=j.issuer.getOldIds();for(const L of d)this.canonicalIssuer.getId(L)}}const k=[];for(const l of this.quads){const o=g.serializeQuadComponents(this._componentWithCanonicalId({component:l.subject}),l.predicate,this._componentWithCanonicalId({component:l.object}),this._componentWithCanonicalId({component:l.graph}));k.push(o)}return k.sort(),k.join("")}hashFirstDegreeQuads(n){const t=[],i=this.blankNodeInfo.get(n),y=i.quads;for(const k of y){const l={subject:null,predicate:k.predicate,object:null,graph:null};l.subject=this.modifyFirstDegreeComponent(n,k.subject,"subject"),l.object=this.modifyFirstDegreeComponent(n,k.object,"object"),l.graph=this.modifyFirstDegreeComponent(n,k.graph,"graph"),t.push(g.serializeQuad(l))}t.sort();const N=this.createMessageDigest();for(const k of t)N.update(k);return i.hash=N.digest(),i.hash}hashRelatedBlankNode(n,t,i,y){let N;N=this.canonicalIssuer.hasId(n)?this.canonicalIssuer.getId(n):i.hasId(n)?i.getId(n):this.blankNodeInfo.get(n).hash;const k=this.createMessageDigest();return k.update(y),"g"!==y&&k.update(this.getRelatedPredicate(t)),k.update(N),k.digest()}hashNDegreeQuads(n,t){const i=this.deepIterations.get(n)||0;if(i>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(n,i+1);const y=this.createMessageDigest(),N=this.createHashToRelated(n,t),k=[...N.keys()].sort();for(const l of k){y.update(l);let j,o="";const d=new h(N.get(l));for(;d.hasNext();){const L=d.next();let E=t.clone(),Y="";const R=[];let e=!1;for(const a of L)if(this.canonicalIssuer.hasId(a)?Y+=this.canonicalIssuer.getId(a):(E.hasId(a)||R.push(a),Y+=E.getId(a)),0!==o.length&&Y>o){e=!0;break}if(!e){for(const a of R){const s=this.hashNDegreeQuads(a,E);if(Y+=E.getId(a),Y+=`<${s.hash}>`,E=s.issuer,0!==o.length&&Y>o){e=!0;break}}e||(0===o.length||Y<o)&&(o=Y,j=E)}}y.update(o),t=j}return{hash:y.digest(),issuer:t}}modifyFirstDegreeComponent(n,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===n?"_:a":"_:z"}}getRelatedPredicate(n){return`<${n.predicate.value}>`}createHashToRelated(n,t){const i=new Map,y=this.blankNodeInfo.get(n).quads;for(const N of y)this._addRelatedBlankNodeHash({quad:N,component:N.subject,position:"s",id:n,issuer:t,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:N,component:N.object,position:"o",id:n,issuer:t,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:N,component:N.graph,position:"g",id:n,issuer:t,hashToRelated:i});return i}_hashAndTrackBlankNode({id:n,hashToBlankNodes:t}){const i=this.hashFirstDegreeQuads(n),y=t.get(i);y?y.push(n):t.set(i,[n])}_addBlankNodeQuadInfo({quad:n,component:t}){if("BlankNode"!==t.termType)return;const i=t.value,y=this.blankNodeInfo.get(i);y?y.quads.add(n):this.blankNodeInfo.set(i,{quads:new Set([n]),hash:null})}_addRelatedBlankNodeHash({quad:n,component:t,position:i,id:y,issuer:N,hashToRelated:k}){if("BlankNode"!==t.termType||t.value===y)return;const l=t.value,o=this.hashRelatedBlankNode(l,n,N,i),j=k.get(o);j?j.push(l):k.set(o,[l])}_componentWithCanonicalId({component:n}){return"BlankNode"!==n.termType||n.value.startsWith(this.canonicalIssuer.prefix)?n:{termType:"BlankNode",value:this.canonicalIssuer.getId(n.value)}}}},393:($,Z,u)=>{"use strict";var S=u(4510).default;const x=u(4499),h=u(7189);$.exports=class extends h{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new x("sha1")}modifyFirstDegreeComponent(J,r,n){return"BlankNode"!==r.termType?r:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===J?"_:a":"_:z"}}getRelatedPredicate(J){return J.predicate.value}createHashToRelated(J,r){var n=this;return S(function*(){const t=new Map,i=n.blankNodeInfo.get(J).quads;let y=0;for(const N of i){let k,l;if("BlankNode"===N.subject.termType&&N.subject.value!==J)l=N.subject.value,k="p";else{if("BlankNode"!==N.object.termType||N.object.value===J)continue;l=N.object.value,k="r"}++y%100==0&&(yield n._yield());const o=yield n.hashRelatedBlankNode(l,N,r,k),j=t.get(o);j?j.push(l):t.set(o,[l])}return t})()}}},1382:($,Z,u)=>{"use strict";const S=u(4499),x=u(5930);$.exports=class extends x{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new S("sha1")}modifyFirstDegreeComponent(g,J,r){return"BlankNode"!==J.termType?J:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:J.value===g?"_:a":"_:z"}}getRelatedPredicate(g){return g.predicate.value}createHashToRelated(g,J){const r=new Map,n=this.blankNodeInfo.get(g).quads;for(const t of n){let i,y;if("BlankNode"===t.subject.termType&&t.subject.value!==g)y=t.subject.value,i="p";else{if("BlankNode"!==t.object.termType||t.object.value===g)continue;y=t.object.value,i="r"}const N=this.hashRelatedBlankNode(y,t,J,i),k=r.get(N);k?k.push(y):r.set(N,[y])}return r}}},4793:($,Z,u)=>{"use strict";var S=u(4510).default;const x=u(7189),h=u(393),g=u(5930),J=u(1382);let r;try{r=u(7789)}catch{}function n(t){return Array.isArray(t)?t:Z.NQuads.legacyDatasetToQuads(t)}Z.NQuads=u(9511),Z.IdentifierIssuer=u(3053),Z._rdfCanonizeNative=function(t){return t&&(r=t),r},Z.canonize=function(){var t=S(function*(i,y){const N=n(i);if(y.useNative){if(!r)throw new Error("rdf-canonize-native not available");if(y.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((k,l)=>r.canonize(N,y,(o,j)=>o?l(o):k(j)))}if("URDNA2015"===y.algorithm)return new x(y).main(N);if("URGNA2012"===y.algorithm){if(y.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new h(y).main(N)}throw"algorithm"in y?new Error("Invalid RDF Dataset Canonicalization algorithm: "+y.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")});return function(i,y){return t.apply(this,arguments)}}(),Z._canonizeSync=function(t,i){const y=n(t);if(i.useNative){if(!r)throw new Error("rdf-canonize-native not available");if(i.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return r.canonizeSync(y,i)}if("URDNA2015"===i.algorithm)return new g(i).main(y);if("URGNA2012"===i.algorithm){if(i.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new J(i).main(y)}throw"algorithm"in i?new Error("Invalid RDF Dataset Canonicalization algorithm: "+i.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}},1811:function(){!function($){"use strict";if(!$.setImmediate){var g,u=1,S={},x=!1,h=$.document,j=Object.getPrototypeOf&&Object.getPrototypeOf($);j=j&&j.setTimeout?j:$,"[object process]"==={}.toString.call($.process)?function i(){g=function(d){process.nextTick(function(){t(d)})}}():function y(){if($.postMessage&&!$.importScripts){var d=!0,L=$.onmessage;return $.onmessage=function(){d=!1},$.postMessage("","*"),$.onmessage=L,d}}()?function N(){var d="setImmediate$"+Math.random()+"$",L=function(E){E.source===$&&"string"==typeof E.data&&0===E.data.indexOf(d)&&t(+E.data.slice(d.length))};$.addEventListener?$.addEventListener("message",L,!1):$.attachEvent("onmessage",L),g=function(E){$.postMessage(d+E,"*")}}():$.MessageChannel?function k(){var d=new MessageChannel;d.port1.onmessage=function(L){t(L.data)},g=function(L){d.port2.postMessage(L)}}():h&&"onreadystatechange"in h.createElement("script")?function l(){var d=h.documentElement;g=function(L){var E=h.createElement("script");E.onreadystatechange=function(){t(L),E.onreadystatechange=null,d.removeChild(E),E=null},d.appendChild(E)}}():function o(){g=function(d){setTimeout(t,0,d)}}(),j.setImmediate=function J(d){"function"!=typeof d&&(d=new Function(""+d));for(var L=new Array(arguments.length-1),E=0;E<L.length;E++)L[E]=arguments[E+1];return S[u]={callback:d,args:L},g(u),u++},j.clearImmediate=r}function r(d){delete S[d]}function t(d){if(x)setTimeout(t,0,d);else{var L=S[d];if(L){x=!0;try{!function n(d){var L=d.callback,E=d.args;switch(E.length){case 0:L();break;case 1:L(E[0]);break;case 2:L(E[0],E[1]);break;case 3:L(E[0],E[1],E[2]);break;default:L.apply(undefined,E)}}(L)}finally{r(d),x=!1}}}}}(typeof self>"u"?typeof global>"u"?this:global:self)},7789:()=>{},4510:$=>{function Z(S,x,h,g,J,r,n){try{var t=S[r](n),i=t.value}catch(y){return void h(y)}t.done?x(i):Promise.resolve(i).then(g,J)}$.exports=function u(S){return function(){var x=this,h=arguments;return new Promise(function(g,J){var r=S.apply(x,h);function n(i){Z(r,g,J,n,t,"next",i)}function t(i){Z(r,g,J,n,t,"throw",i)}n(void 0)})}},$.exports.__esModule=!0,$.exports.default=$.exports}}]);