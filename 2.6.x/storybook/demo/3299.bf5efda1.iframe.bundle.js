(self.webpackChunkgeonetwork_ui=self.webpackChunkgeonetwork_ui||[]).push([[3299],{"./node_modules/@geospatial-sdk/legend/dist/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>createLegendFromLayer});var dist=__webpack_require__("./node_modules/@geospatial-sdk/core/dist/index.js"),ogc_client_dist=__webpack_require__("./node_modules/@camptocamp/ogc-client/dist/index.js"),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};function createLegendFromLayer(layer,options={}){return __awaiter(this,void 0,void 0,(function*(){if("wms"!==layer.type&&"wmts"!==layer.type||!layer.url||!layer.name)return console.error("Invalid layer for legend creation"),null;const legendDiv=document.createElement("div");legendDiv.id="legend",legendDiv.setAttribute("role","region"),legendDiv.setAttribute("aria-label","Map Layer Legend"),legendDiv.classList.add("geosdk--legend-container");const layerDiv=document.createElement("div");layerDiv.classList.add("geosdk--legend-layer");const layerTitle=document.createElement("h4");layerTitle.textContent=layer.name,layerTitle.classList.add("geosdk--legend-layer-label"),layerDiv.appendChild(layerTitle);const img=document.createElement("img");img.alt=`Legend for ${layer.name}`,img.classList.add("geosdk--legend-layer-image"),img.onerror=e=>{console.warn(`Failed to load legend for layer: ${layer.name}`,e);const errorMessage=document.createElement("span");errorMessage.textContent=`Legend not available for ${layer.name}`,layerDiv.replaceChild(errorMessage,img)};try{let legendUrl=null;if("wms"===layer.type?legendUrl=function createWmsLegendUrl(layer,options={}){const{format="image/png",widthPxHint,heightPxHint}=options,legendUrl=new URL((0,dist.jc)(layer.url,["SERVICE","REQUEST","FORMAT","LAYER","LAYERTITLE","SLD_VERSION","WIDTH","HEIGHT"]));return legendUrl.searchParams.set("SERVICE","WMS"),legendUrl.searchParams.set("REQUEST","GetLegendGraphic"),legendUrl.searchParams.set("FORMAT",format),legendUrl.searchParams.set("LAYER",layer.name),legendUrl.searchParams.set("LAYERTITLE",(!1).toString()),legendUrl.searchParams.set("SLD_VERSION","1.1.0"),widthPxHint&&legendUrl.searchParams.set("WIDTH",widthPxHint.toString()),heightPxHint&&legendUrl.searchParams.set("HEIGHT",heightPxHint.toString()),legendUrl}(layer,options).toString():"wmts"===layer.type&&(legendUrl=yield function createWmtsLegendUrl(layer){return __awaiter(this,void 0,void 0,(function*(){const layerByName=(yield new ogc_client_dist.WmtsEndpoint(layer.url).isReady()).getLayerByName(layer.name);return layerByName.styles&&layerByName.styles.length>0&&layerByName.styles[0].legendUrl?layerByName.styles[0].legendUrl:null}))}(layer)),legendUrl)img.src=legendUrl,layerDiv.appendChild(img);else{const errorMessage=document.createElement("span");errorMessage.textContent=`Legend not available for ${layer.name}`,layerDiv.appendChild(errorMessage)}}catch(error){console.error(`Error creating legend for layer ${layer.name}:`,error);const errorMessage=document.createElement("span");errorMessage.textContent=`Error loading legend for ${layer.name}`,layerDiv.appendChild(errorMessage)}return legendDiv.appendChild(layerDiv),legendDiv}))}},"./node_modules/@ng-icons/tabler-icons/fesm2022/ng-icons-tabler-icons.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B7Z:()=>tablerFolderOpen});const tablerFolderOpen='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M5 19l2.757 -7.351a1 1 0 0 1 .936 -.649h12.307a1 1 0 0 1 .986 1.164l-.996 5.211a2 2 0 0 1 -1.964 1.625h-14.026a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v2"></path></svg>'},"./node_modules/basiclightbox/dist/basicLightbox.min.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function e(n,t,o){function r(c,u){if(!t[c]){if(!n[c]){if(!u&&__webpack_require__("./node_modules/basiclightbox/dist sync recursive"))return require(c,!0);if(i)return i(c,!0);var a=new Error("Cannot find module '"+c+"'");throw a.code="MODULE_NOT_FOUND",a}var l=t[c]={exports:{}};n[c][0].call(l.exports,(function(e){return r(n[c][1][e]||e)}),l,l.exports,e,n,t,o)}return t[c].exports}for(var i=void 0,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.visible=void 0;var o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=document.createElement("div");return t.innerHTML=e.trim(),!0===n?t.children:t.firstChild},r=function(e,n){var t=e.children;return 1===t.length&&t[0].tagName===n},i=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};t.visible=i,t.create=function(e,n){var t=function(e,n){var t=o('\n\t\t<div class="basicLightbox '.concat(n.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),i=t.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return i.appendChild(e)}));var c=r(i,"IMG"),u=r(i,"VIDEO"),s=r(i,"IFRAME");return!0===c&&t.classList.add("basicLightbox--img"),!0===u&&t.classList.add("basicLightbox--video"),!0===s&&t.classList.add("basicLightbox--iframe"),t}(e=function(e){var n="string"==typeof e,t=e instanceof HTMLElement==1;if(!1===n&&!1===t)throw new Error("Content must be a DOM element/node or string");return!0===n?Array.from(o(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(n)),c=function(e){return!1!==n.onClose(u)&&function(e,n){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===i(e)||e.parentElement.removeChild(e),n()}),410),!0}(t,(function(){if("function"==typeof e)return e(u)}))};!0===n.closable&&t.addEventListener("click",(function(e){e.target===t&&c()}));var u={element:function(){return t},visible:function(){return i(t)},show:function(e){return!1!==n.onShow(u)&&function(e,n){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),n()}))}),10),!0}(t,(function(){if("function"==typeof e)return e(u)}))},close:c};return u}},{}]},{},[1])(1)},"./node_modules/rxjs/dist/esm5/internal/operators/throttleTime.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>throttleTime});var scheduler_async=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/async.js"),lift=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),OperatorSubscriber=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),innerFrom=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js");var timer=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/timer.js");function throttleTime(duration,scheduler,config){void 0===scheduler&&(scheduler=scheduler_async.E);var duration$=(0,timer.O)(duration,scheduler);return function throttle(durationSelector,config){return(0,lift.N)((function(source,subscriber){var _a=null!=config?config:{},_b=_a.leading,leading=void 0===_b||_b,_c=_a.trailing,trailing=void 0!==_c&&_c,hasValue=!1,sendValue=null,throttled=null,isComplete=!1,endThrottling=function(){null==throttled||throttled.unsubscribe(),throttled=null,trailing&&(send(),isComplete&&subscriber.complete())},cleanupThrottling=function(){throttled=null,isComplete&&subscriber.complete()},startThrottle=function(value){return throttled=(0,innerFrom.Tg)(durationSelector(value)).subscribe((0,OperatorSubscriber._)(subscriber,endThrottling,cleanupThrottling))},send=function(){if(hasValue){hasValue=!1;var value=sendValue;sendValue=null,subscriber.next(value),!isComplete&&startThrottle(value)}};source.subscribe((0,OperatorSubscriber._)(subscriber,(function(value){hasValue=!0,sendValue=value,(!throttled||throttled.closed)&&(leading?send():startThrottle(value))}),(function(){isComplete=!0,(!(trailing&&hasValue&&throttled)||throttled.closed)&&subscriber.complete()})))}))}((function(){return duration$}),config)}}}]);